(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{52191:(je,H,w)=>{var d=w(40573);const E="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,k=()=>E.now(),x=A=>A===1/0||(A=>A&&A===Math.floor(A)&&A>0&&isFinite(A))(A);class O{constructor({max:P=1/0,ttl:F,updateAgeOnGet:L=!1,checkAgeOnGet:D=!1,noUpdateTTL:X=!1,dispose:j,noDisposeOnSet:G=!1}={}){if(this.expirations=Object.create(null),this.data=new Map,this.expirationMap=new Map,void 0!==F&&!x(F))throw new TypeError("ttl must be positive integer or Infinity if set");if(!x(P))throw new TypeError("max must be positive integer or Infinity");if(this.ttl=F,this.max=P,this.updateAgeOnGet=!!L,this.checkAgeOnGet=!!D,this.noUpdateTTL=!!X,this.noDisposeOnSet=!!G,void 0!==j){if("function"!=typeof j)throw new TypeError("dispose must be function if set");this.dispose=j}this.timer=void 0,this.timerExpiration=void 0}setTimer(P,F){if(this.timerExpiration<P)return;this.timer&&clearTimeout(this.timer);const L=setTimeout(()=>{this.timer=void 0,this.timerExpiration=void 0,this.purgeStale();for(const D in this.expirations){this.setTimer(D,D-k());break}},F);L.unref&&L.unref(),this.timerExpiration=P,this.timer=L}cancelTimer(){this.timer&&(clearTimeout(this.timer),this.timerExpiration=void 0,this.timer=void 0)}cancelTimers(){return d.emitWarning('TTLCache.cancelTimers has been renamed to TTLCache.cancelTimer (no "s"), and will be removed in the next major version update'),this.cancelTimer()}clear(){const P=this.dispose!==O.prototype.dispose?[...this]:[];this.data.clear(),this.expirationMap.clear(),this.cancelTimer(),this.expirations=Object.create(null);for(const[F,L]of P)this.dispose(L,F,"delete")}setTTL(P,F=this.ttl){const L=this.expirationMap.get(P);if(void 0!==L){const D=this.expirations[L];!D||D.length<=1?delete this.expirations[L]:this.expirations[L]=D.filter(X=>X!==P)}if(F!==1/0){const D=Math.floor(k()+F);this.expirationMap.set(P,D),this.expirations[D]||(this.expirations[D]=[],this.setTimer(D,F)),this.expirations[D].push(P)}else this.expirationMap.set(P,1/0)}set(P,F,{ttl:L=this.ttl,noUpdateTTL:D=this.noUpdateTTL,noDisposeOnSet:X=this.noDisposeOnSet}={}){if(!x(L))throw new TypeError("ttl must be positive integer or Infinity");if(this.expirationMap.has(P)){D||this.setTTL(P,L);const j=this.data.get(P);j!==F&&(this.data.set(P,F),X||this.dispose(j,P,"set"))}else this.setTTL(P,L),this.data.set(P,F);for(;this.size>this.max;)this.purgeToCapacity();return this}has(P){return this.data.has(P)}getRemainingTTL(P){const F=this.expirationMap.get(P);return F===1/0?F:void 0!==F?Math.max(0,Math.ceil(F-k())):0}get(P,{updateAgeOnGet:F=this.updateAgeOnGet,ttl:L=this.ttl,checkAgeOnGet:D=this.checkAgeOnGet}={}){const X=this.data.get(P);if(!D||0!==this.getRemainingTTL(P))return F&&this.setTTL(P,L),X;this.delete(P)}dispose(P,F){}delete(P){const F=this.expirationMap.get(P);if(void 0!==F){const L=this.data.get(P);this.data.delete(P),this.expirationMap.delete(P);const D=this.expirations[F];return D&&(D.length<=1?delete this.expirations[F]:this.expirations[F]=D.filter(X=>X!==P)),this.dispose(L,P,"delete"),0===this.size&&this.cancelTimer(),!0}return!1}purgeToCapacity(){for(const P in this.expirations){const F=this.expirations[P];if(!(this.size-F.length>=this.max)){const L=this.size-this.max,D=[];for(const X of F.splice(0,L))D.push([X,this.data.get(X)]),this.data.delete(X),this.expirationMap.delete(X);for(const[X,j]of D)this.dispose(j,X,"evict");return}{delete this.expirations[P];const L=[];for(const D of F)L.push([D,this.data.get(D)]),this.data.delete(D),this.expirationMap.delete(D);for(const[D,X]of L)this.dispose(X,D,"evict")}}}get size(){return this.data.size}purgeStale(){const P=Math.ceil(k());for(const F in this.expirations){if("Infinity"===F||F>P)return;const L=[...this.expirations[F]||[]],D=[];delete this.expirations[F];for(const X of L)D.push([X,this.data.get(X)]),this.data.delete(X),this.expirationMap.delete(X);for(const[X,j]of D)this.dispose(j,X,"stale")}0===this.size&&this.cancelTimer()}*entries(){for(const P in this.expirations)for(const F of this.expirations[P])yield[F,this.data.get(F)]}*keys(){for(const P in this.expirations)for(const F of this.expirations[P])yield F}*values(){for(const P in this.expirations)for(const F of this.expirations[P])yield this.data.get(F)}[Symbol.iterator](){return this.entries()}}je.exports=O},33065:(je,H,w)=>{"use strict";w.r(H),w.d(H,{RestoreComponent:()=>re});var d=w(10467),E=w(93953),k=w(89417),z=w(88834),x=w(25596),O=w(99213),A=w(99631),P=w(5951),F=w(82798),L=w(34635),D=w(60132),X=w(31439),j=w(53719);function G(te,J){1&te&&(E.j41(0,"mat-error"),E.EFF(1,"Recovery phrase is "),E.j41(2,"strong"),E.EFF(3,"required"),E.k0s()())}let re=(()=>{class te{constructor(){this.fb=(0,E.WQX)(k.ok),this.crypto=(0,E.WQX)(D.j),this.app=(0,E.WQX)(X.d),this.identity=(0,E.WQX)(L.K),this.addressForm=this.fb.group({recoveryPhrase:[null,k.k0.required]})}onSubmit(){var Z=this;return(0,d.A)(function*(){console.log(Z.addressForm.controls.recoveryPhrase.value),Z.addressForm.disable(),Z.app.loading.set(!0);let ie=yield Z.crypto.createPassword();const ae={did:"",recoveryPhrase:Z.addressForm.controls.recoveryPhrase.value,password:ie,passwordHash:""};ie="123";const se=yield Z.identity.restore(ie,Z.addressForm.controls.recoveryPhrase.value);if(console.log("RESTORE Result: ",se),!se)return alert("Failed to restore account."),void Z.addressForm.enable();ae.did=se.did,Z.app.addAccount(ae),Z.app.initialized.set(!0),Z.app.loading.set(!1)})()}static#e=this.\u0275fac=function(ie){return new(ie||te)};static#t=this.\u0275cmp=E.VBU({type:te,selectors:[["app-restore"]],standalone:!0,features:[E.aNF],decls:20,vars:3,consts:[["recoveryPhrase",""],["novalidate","",3,"ngSubmit","formGroup"],[1,"shipping-card"],[1,"full-width"],["matInput","","placeholder","Secret Recovery Phrase","formControlName","recoveryPhrase"],["align","end"],["mat-flat-button","","color","primary","type","submit",3,"disabled"]],template:function(ie,ae){if(1&ie){const se=E.RV6();E.j41(0,"h1"),E.EFF(1,"Restore your account"),E.k0s(),E.j41(2,"form",1),E.bIt("ngSubmit",function(){return E.eBV(se),E.Njj(ae.onSubmit())}),E.j41(3,"mat-card",2)(4,"mat-card-header")(5,"mat-card-title"),E.EFF(6,"Secret Recovery Phrase"),E.k0s(),E.j41(7,"mat-card-subtitle"),E.EFF(8,"Enter your 12 words backup"),E.k0s()(),E.j41(9,"mat-card-content"),E.nrm(10,"br"),E.j41(11,"mat-form-field",3)(12,"mat-label"),E.EFF(13,"Secret Recovery Phrase"),E.k0s(),E.nrm(14,"textarea",4,0),E.DNE(16,G,4,0,"mat-error"),E.k0s()(),E.j41(17,"mat-card-actions",5)(18,"button",6),E.EFF(19,"Restore"),E.k0s()()()()}2&ie&&(E.R7$(2),E.Y8G("formGroup",ae.addressForm),E.R7$(14),E.vxM(ae.addressForm.controls.recoveryPhrase.hasError("required")?16:-1),E.R7$(2),E.Y8G("disabled",ae.app.loading()))},dependencies:[A.fS,A.fg,j.rl,j.nJ,j.TL,z.Hl,z.$z,F.Ve,O.m_,P.Wk,x.Hu,x.RN,x.YY,x.m2,x.MM,x.Lc,x.dh,k.X1,k.qT,k.me,k.BC,k.cb,k.j4,k.JD],styles:[".shipping-card[_ngcontent-%COMP%]{min-width:120px;margin:20px auto}.mat-radio-button[_ngcontent-%COMP%]{display:block;margin:5px 0}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col[_ngcontent-%COMP%]{flex:1;margin-right:20px}.col[_ngcontent-%COMP%]:last-child{margin-right:0}.link-input[_ngcontent-%COMP%]{display:flex;align-items:baseline}.link-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.4em}"]})}return te})()},31439:(je,H,w)=>{"use strict";w.d(H,{d:()=>be,f:()=>le});var d=w(10467),E=w(93953),k=w(43794),z=w(60132),x=w(34635),A=w.t(JSON.parse('{"name":"ariton","version":"0.0.1","scripts":{"ng":"ng","start":"ng serve","build":"ng build","watch":"ng build --watch --configuration development","test":"ng test","deploy":"ng deploy app","i18n":"ng extract-i18n --format=json --output-path src/locale"},"repository":{"type":"git","url":"git+https://github.com/block-core/ariton.git"},"private":true,"dependencies":{"@angular-builders/custom-webpack":"^18.0.0","@angular/animations":"^18.1.4","@angular/cdk":"^18.1.4","@angular/common":"^18.1.4","@angular/compiler":"^18.1.4","@angular/core":"^18.1.4","@angular/forms":"^18.1.4","@angular/material":"^18.1.4","@angular/platform-browser":"^18.1.4","@angular/platform-browser-dynamic":"^18.1.4","@angular/router":"^18.1.4","@angular/service-worker":"^18.1.4","@scure/bip39":"^1.3.0","@web5/agent":"^0.4.1","@web5/api":"^0.10.0","@web5/credentials":"^1.0.4","@web5/crypto":"^1.0.2","@web5/dids":"^1.1.2","@web5/identity-agent":"^0.4.1","cropperjs":"^1.6.2","crypto-browserify":"^3.12.0","process":"^0.11.10","qrcode":"^1.5.4","rxjs":"~7.8.1","stream":"^0.0.3","stream-browserify":"^3.0.0","tslib":"^2.6.3","zone.js":"~0.14.10"},"devDependencies":{"@angular-devkit/build-angular":"^18.1.4","@angular/cli":"^18.1.4","@angular/compiler-cli":"^18.1.4","@angular/localize":"^18.1.4","@types/jasmine":"~5.1.4","@types/qrcode":"^1.5.5","angular-cli-ghpages":"^2.0.1","jasmine-core":"~5.2.0","karma":"~6.4.4","karma-chrome-launcher":"~3.2.0","karma-coverage":"~2.2.1","karma-jasmine":"~5.1.0","karma-jasmine-html-reporter":"~2.1.0","typescript":"~5.5.4"}}'),2),P=w(4053),F=w(77949),L=w(45189),D=w(49245),X=w(62060),j=w(67136),G=w(1639),re=w(69371),te=w(2685),J=w(69314),Z=w(97372);let ie=(()=>{class xe{constructor(){this.identityService=(0,E.WQX)(x.K)}register(){var C=this;return(0,d.A)(function*(){const a=[J.Q,P.Q,F.Q,L.Q,D.Q,X.Q,j.Q,G.Q,re.Q,te.Q,Z.Q];for(const f of a){const{protocol:y,status:g}=yield C.identityService.web5.dwn.protocols.configure({message:{definition:f}});console.log("Install status:",g),console.log("Protocol:",y)}})()}static#e=this.\u0275fac=function(a){return new(a||xe)};static#t=this.\u0275prov=E.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}return xe})();var ae=w(39434),se=w(1005),de=w(95416),le=function(xe){return xe[xe.Initial=0]="Initial",xe[xe.NewUser=1]="NewUser",xe[xe.Locked=2]="Locked",xe[xe.Unlocked=3]="Unlocked",xe[xe.Error=4]="Error",xe}(le||{});let be=(()=>{class xe{constructor(){var C=this;this.onboardingState=(0,E.vPA)(le.Initial),this.initialized=(0,E.vPA)(!1),this.loading=(0,E.vPA)(!1),this.storage=(0,E.WQX)(k.n),this.hash=(0,E.WQX)(se.G),this.crypto=(0,E.WQX)(z.j),this.identity=(0,E.WQX)(x.K),this.profile=(0,E.WQX)(ae.p),this.protocol=(0,E.WQX)(ie),this.snackBar=(0,E.WQX)(de.UG),this.state=(0,E.vPA)({loginAction:"/dashboard",selectedAccount:"",hidden:{},bundleHash:""}),this.account=(0,E.vPA)({did:"",recoveryPhrase:"",password:"",passwordHash:""}),this.accounts=(0,E.vPA)([]),this.params=(0,E.vPA)({}),this.package=A,console.log(`Ariton v${this.package.version} initialized.`),this.dependencies=Object.entries(this.package.dependencies).map(([a,f])=>({name:a,version:f})),(0,E.QZP)((0,d.A)(function*(){C.identity.locked()||(yield C.onUnlocked())}))}saveAccounts(){this.storage.save("accounts",this.accounts())}saveState(){this.storage.save("state",this.state())}hasStateBeenSet(){return!!this.storage.read("state")}addAccount(C){this.accounts().push(C),this.saveAccounts(),this.state().selectedAccount=C.did,this.saveState()}createAccount(){var C=this;return(0,d.A)(function*(){C.storage.save("state",{selectedAccount:"",hidden:{},loginAction:"/introduction",bundleHash:""}),yield C.initialize()})()}openSnackBar(C){this.snackBar.open(C,void 0,{duration:2e3})}initialize(){var C=this;return(0,d.A)(function*(){C.loading.set(!0),console.log("Initializing Ariton...");let a=C.storage.read("state");if(!a)return C.onboardingState.set(le.NewUser),void C.loading.set(!1);let y,f=C.storage.read("accounts");if(f){const g=f.find(M=>M.did===a.selectedAccount);C.accounts.set(f),C.account?.set(g),g.password?(y=yield C.identity.connect(g.did,g.password),y?(C.onboardingState.set(le.Unlocked),C.identity.locked.set(!1)):C.loading.set(!1)):(C.identity.locked.set(!0),C.onboardingState.set(le.Locked))}else{console.log("No accounts found");const g=yield C.crypto.createPassword();if(y=yield C.identity.initialConnect(g),void 0===y)return C.storage.remove("state"),C.onboardingState.set(le.Error),void C.loading.set(!1);console.log(y),console.log("Initialize connect finished."),f=[{did:y.did,recoveryPhrase:y.recoveryPhrase,password:g}],C.storage.save("accounts",f),a.selectedAccount=y.did,C.accounts.set(f),C.account?.set(f[0]),C.storage.save("state",a),C.onboardingState.set(le.Unlocked),C.identity.locked.set(!1)}C.state.set(a)})()}onUnlocked(){var C=this;return(0,d.A)(function*(){yield C.profile.openCurrentUserProfile(C.account().did),C.initialized.set(!0),C.loading.set(!1),C.firstTimeInitialization()})()}firstTimeInitialization(){var C=this;return(0,d.A)(function*(){null!=C.hash.getHash()&&C.state().bundleHash===C.hash.getHash()||(C.protocol.register(),C.state().bundleHash=C.hash.getHash(),C.saveState())})()}static#e=this.\u0275fac=function(a){return new(a||xe)};static#t=this.\u0275prov=E.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}return xe})()},60132:(je,H,w)=>{"use strict";w.d(H,{j:()=>Af});var d=w(10467);w(52191),new Uint8Array(0);class re{name;prefix;baseEncode;constructor(it,Je,at){this.name=it,this.prefix=Je,this.baseEncode=at}encode(it){if(it instanceof Uint8Array)return`${this.prefix}${this.baseEncode(it)}`;throw Error("Unknown type, must be binary type")}}class te{name;prefix;baseDecode;prefixCodePoint;constructor(it,Je,at){if(this.name=it,this.prefix=Je,void 0===Je.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=Je.codePointAt(0),this.baseDecode=at}decode(it){if("string"==typeof it){if(it.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(it)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(it.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(it){return Z(this,it)}}class J{decoders;constructor(it){this.decoders=it}or(it){return Z(this,it)}decode(it){const at=this.decoders[it[0]];if(null!=at)return at.decode(it);throw RangeError(`Unable to decode multibase string ${JSON.stringify(it)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function Z(mt,it){return new J({...mt.decoders??{[mt.prefix]:mt},...it.decoders??{[it.prefix]:it}})}class ie{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(it,Je,at,$t){this.name=it,this.prefix=Je,this.baseEncode=at,this.baseDecode=$t,this.encoder=new re(it,Je,at),this.decoder=new te(it,Je,$t)}encode(it){return this.encoder.encode(it)}decode(it){return this.decoder.decode(it)}}function ae({name:mt,prefix:it,encode:Je,decode:at}){return new ie(mt,it,Je,at)}function se({name:mt,prefix:it,alphabet:Je}){const{encode:at,decode:$t}=function D(mt,it){if(mt.length>=255)throw new TypeError("Alphabet too long");for(var Je=new Uint8Array(256),at=0;at<Je.length;at++)Je[at]=255;for(var $t=0;$t<mt.length;$t++){var Yt=mt.charAt($t),gn=Yt.charCodeAt(0);if(255!==Je[gn])throw new TypeError(Yt+" is ambiguous");Je[gn]=$t}var zn=mt.length,or=mt.charAt(0),ur=Math.log(zn)/Math.log(256),$n=Math.log(256)/Math.log(zn);function Xe(me){if("string"!=typeof me)throw new TypeError("Expected String");if(0===me.length)return new Uint8Array;var ve=0;if(" "!==me[ve]){for(var Ze=0,qe=0;me[ve]===or;)Ze++,ve++;for(var pt=(me.length-ve)*ur+1>>>0,Vt=new Uint8Array(pt);me[ve];){var bn=Je[me.charCodeAt(ve)];if(255===bn)return;for(var Gt=0,bt=pt-1;(0!==bn||Gt<qe)&&-1!==bt;bt--,Gt++)Vt[bt]=(bn+=zn*Vt[bt]>>>0)%256>>>0,bn=bn/256>>>0;if(0!==bn)throw new Error("Non-zero carry");qe=Gt,ve++}if(" "!==me[ve]){for(var an=pt-qe;an!==pt&&0===Vt[an];)an++;for(var Lr=new Uint8Array(Ze+(pt-an)),pi=Ze;an!==pt;)Lr[pi++]=Vt[an++];return Lr}}}return{encode:function rr(me){if(me instanceof Uint8Array||(ArrayBuffer.isView(me)?me=new Uint8Array(me.buffer,me.byteOffset,me.byteLength):Array.isArray(me)&&(me=Uint8Array.from(me))),!(me instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===me.length)return"";for(var ve=0,Ze=0,qe=0,pt=me.length;qe!==pt&&0===me[qe];)qe++,ve++;for(var Vt=(pt-qe)*$n+1>>>0,bn=new Uint8Array(Vt);qe!==pt;){for(var Gt=me[qe],bt=0,an=Vt-1;(0!==Gt||bt<Ze)&&-1!==an;an--,bt++)bn[an]=(Gt+=256*bn[an]>>>0)%zn>>>0,Gt=Gt/zn>>>0;if(0!==Gt)throw new Error("Non-zero carry");Ze=bt,qe++}for(var Lr=Vt-Ze;Lr!==Vt&&0===bn[Lr];)Lr++;for(var pi=or.repeat(ve);Lr<Vt;++Lr)pi+=mt.charAt(bn[Lr]);return pi},decodeUnsafe:Xe,decode:function Me(me){var ve=Xe(me);if(ve)return ve;throw new Error(`Non-${it} character`)}}}(Je,mt);return ae({prefix:it,name:mt,encode:at,decode:Yt=>function A(mt){if(mt instanceof Uint8Array&&"Uint8Array"===mt.constructor.name)return mt;if(mt instanceof ArrayBuffer)return new Uint8Array(mt);if(ArrayBuffer.isView(mt))return new Uint8Array(mt.buffer,mt.byteOffset,mt.byteLength);throw new Error("Unknown type, must be binary type")}($t(Yt))})}function be({name:mt,prefix:it,bitsPerChar:Je,alphabet:at}){return ae({prefix:it,name:mt,encode:$t=>function le(mt,it,Je){const at="="===it[it.length-1],$t=(1<<Je)-1;let Yt="",gn=0,zn=0;for(let or=0;or<mt.length;++or)for(zn=zn<<8|mt[or],gn+=8;gn>Je;)gn-=Je,Yt+=it[$t&zn>>gn];if(0!==gn&&(Yt+=it[$t&zn<<Je-gn]),at)for(;Yt.length*Je&7;)Yt+="=";return Yt}($t,at,Je),decode:$t=>function de(mt,it,Je,at){const $t={};for(let $n=0;$n<it.length;++$n)$t[it[$n]]=$n;let Yt=mt.length;for(;"="===mt[Yt-1];)--Yt;const gn=new Uint8Array(Yt*Je/8|0);let zn=0,or=0,ur=0;for(let $n=0;$n<Yt;++$n){const rr=$t[mt[$n]];if(void 0===rr)throw new SyntaxError(`Non-${at} character`);or=or<<Je|rr,zn+=Je,zn>=8&&(zn-=8,gn[ur++]=255&or>>zn)}if(zn>=Je||255&or<<8-zn)throw new SyntaxError("Unexpected end of data");return gn}($t,at,Je,mt)})}be({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),be({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),be({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),be({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),be({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),be({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),be({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),be({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),be({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),se({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),se({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),be({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),be({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),be({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),be({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),new TextEncoder,new TextDecoder;var pe=128,Q=-128,oe=Math.pow(2,31),Re=128,$e=127,_t=Math.pow(2,7),We=Math.pow(2,14),Le=Math.pow(2,21),lt=Math.pow(2,28),N=Math.pow(2,35),_=Math.pow(2,42),m=Math.pow(2,49),U=Math.pow(2,56),ne=Math.pow(2,63);const Bt={encode:function fe(mt,it,Je){it=it||[];for(var at=Je=Je||0;mt>=oe;)it[Je++]=255&mt|pe,mt/=128;for(;mt&Q;)it[Je++]=255&mt|pe,mt>>>=7;return it[Je]=0|mt,fe.bytes=Je-at+1,it},decode:function Fe(mt,at){var gn,Je=0,$t=0,Yt=at=at||0,zn=mt.length;do{if(Yt>=zn)throw Fe.bytes=0,new RangeError("Could not decode varint");gn=mt[Yt++],Je+=$t<28?(gn&$e)<<$t:(gn&$e)*Math.pow(2,$t),$t+=7}while(gn>=Re);return Fe.bytes=Yt-at,Je},encodingLength:function(mt){return mt<_t?1:mt<We?2:mt<Le?3:mt<lt?4:mt<N?5:mt<_?6:mt<m?7:mt<U?8:mt<ne?9:10}};function gt(mt,it=0){return[Bt.decode(mt,it),Bt.decode.bytes]}Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");class un{static addPrefix(it){var Je;let{code:at,data:$t,name:Yt}=it;if(!(Yt?!at:at))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(at=un.codeToName.has(at)?at:un.nameToCode.get(Yt),void 0===at)throw new Error(`Unsupported multicodec: ${null!==(Je=it.name)&&void 0!==Je?Je:it.code}`);const gn=function Zt(mt){return Bt.encodingLength(mt)}(at),zn=new Uint8Array(gn+$t.byteLength);return zn.set($t,gn),function It(mt,it,Je=0){return Bt.encode(mt,it,Je),it}(at,zn),zn}static getCodeFromData(it){const{prefixedData:Je}=it,[at,$t]=gt(Je);return at}static getCodeFromName(it){const{name:Je}=it,at=un.nameToCode.get(Je);if(void 0===at)throw new Error(`Unsupported multicodec: ${Je}`);return at}static getNameFromCode(it){const{code:Je}=it,at=un.codeToName.get(Je);if(void 0===at)throw new Error(`Unsupported multicodec: ${Je}`);return at}static registerCodec(it){un.codeToName.set(it.code,it.name),un.nameToCode.set(it.name,it.code)}static removePrefix(it){const{prefixedData:Je}=it,[at,$t]=gt(Je),Yt=un.codeToName.get(at);if(void 0===Yt)throw new Error(`Unsupported multicodec: ${at}`);return{code:at,data:Je.slice($t),name:Yt}}}un.codeToName=new Map,un.nameToCode=new Map,un.registerCodec({code:237,name:"ed25519-pub"}),un.registerCodec({code:4864,name:"ed25519-priv"}),un.registerCodec({code:236,name:"x25519-pub"}),un.registerCodec({code:4866,name:"x25519-priv"}),un.registerCodec({code:231,name:"secp256k1-pub"}),un.registerCodec({code:4865,name:"secp256k1-priv"}),w(95099),w(80868);const jn="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function Bd(mt){return function ua(mt=32){if(jn&&"function"==typeof jn.getRandomValues)return jn.getRandomValues(new Uint8Array(mt));throw new Error("crypto.getRandomValues must be defined")}(mt)}new Uint8Array(new Uint32Array([287454020]).buffer),w(94256),w(91006),w(40499),w(86295),w(91879);class Gh{static deriveKey(it){return function(mt,it,Je,at){return new(Je||(Je=Promise))(function(Yt,gn){function zn($n){try{ur(at.next($n))}catch(rr){gn(rr)}}function or($n){try{ur(at.throw($n))}catch(rr){gn(rr)}}function ur($n){$n.done?Yt($n.value):function $t(Yt){return Yt instanceof Je?Yt:new Je(function(gn){gn(Yt)})}($n.value).then(zn,or)}ur((at=at.apply(mt,it||[])).next())})}(this,arguments,void 0,function*({hash:Je,password:at,salt:$t,iterations:Yt,length:gn}){const zn=yield jn.subtle.importKey("raw",at,{name:"PBKDF2"},!1,["deriveBits"]),or=yield jn.subtle.deriveBits({name:"PBKDF2",hash:Je,salt:$t,iterations:Yt},zn,gn);return new Uint8Array(or)})}}function Da(mt,...it){if(!function zi(mt){return mt instanceof Uint8Array||null!=mt&&"object"==typeof mt&&"Uint8Array"===mt.constructor.name}(mt))throw new Error("Uint8Array expected");if(it.length>0&&!it.includes(mt.length))throw new Error(`Uint8Array expected of length ${it}, not of length=${mt.length}`)}function Sc(mt,it=!0){if(mt.destroyed)throw new Error("Hash instance has been destroyed");if(it&&mt.finished)throw new Error("Hash#digest() has already been called")}w(94730);const Xh="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Ef=mt=>new DataView(mt.buffer,mt.byteOffset,mt.byteLength),Qs=(mt,it)=>mt<<32-it|mt>>>it;function oo(mt){return"string"==typeof mt&&(mt=function Ou(mt){if("string"!=typeof mt)throw new Error("utf8ToBytes expected string, got "+typeof mt);return new Uint8Array((new TextEncoder).encode(mt))}(mt)),Da(mt),mt}new Uint8Array(new Uint32Array([287454020]).buffer);class Mc{clone(){return this._cloneInto()}}function Kl(mt){const it=at=>mt().update(oo(at)).digest(),Je=mt();return it.outputLen=Je.outputLen,it.blockLen=Je.blockLen,it.create=()=>mt(),it}const Jt=(mt,it,Je)=>mt&it^~mt&Je,Tt=(mt,it,Je)=>mt&it^mt&Je^it&Je;class Kt extends Mc{constructor(it,Je,at,$t){super(),this.blockLen=it,this.outputLen=Je,this.padOffset=at,this.isLE=$t,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(it),this.view=Ef(this.buffer)}update(it){Sc(this);const{view:Je,buffer:at,blockLen:$t}=this,Yt=(it=oo(it)).length;for(let gn=0;gn<Yt;){const zn=Math.min($t-this.pos,Yt-gn);if(zn!==$t)at.set(it.subarray(gn,gn+zn),this.pos),this.pos+=zn,gn+=zn,this.pos===$t&&(this.process(Je,0),this.pos=0);else{const or=Ef(it);for(;$t<=Yt-gn;gn+=$t)this.process(or,gn)}}return this.length+=it.length,this.roundClean(),this}digestInto(it){Sc(this),function iu(mt,it){Da(mt);const Je=it.outputLen;if(mt.length<Je)throw new Error(`digestInto() expects output buffer of length at least ${Je}`)}(it,this),this.finished=!0;const{buffer:Je,view:at,blockLen:$t,isLE:Yt}=this;let{pos:gn}=this;Je[gn++]=128,this.buffer.subarray(gn).fill(0),this.padOffset>$t-gn&&(this.process(at,0),gn=0);for(let rr=gn;rr<$t;rr++)Je[rr]=0;(function st(mt,it,Je,at){if("function"==typeof mt.setBigUint64)return mt.setBigUint64(it,Je,at);const $t=BigInt(32),Yt=BigInt(4294967295),gn=Number(Je>>$t&Yt),zn=Number(Je&Yt),ur=at?0:4;mt.setUint32(it+(at?4:0),gn,at),mt.setUint32(it+ur,zn,at)})(at,$t-8,BigInt(8*this.length),Yt),this.process(at,0);const zn=Ef(it),or=this.outputLen;if(or%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const ur=or/4,$n=this.get();if(ur>$n.length)throw new Error("_sha2: outputLen bigger than state");for(let rr=0;rr<ur;rr++)zn.setUint32(4*rr,$n[rr],Yt)}digest(){const{buffer:it,outputLen:Je}=this;this.digestInto(it);const at=it.slice(0,Je);return this.destroy(),at}_cloneInto(it){it||(it=new this.constructor),it.set(...this.get());const{blockLen:Je,buffer:at,length:$t,finished:Yt,destroyed:gn,pos:zn}=this;return it.length=$t,it.pos=zn,it.finished=Yt,it.destroyed=gn,$t%Je&&it.buffer.set(at),it}}const Mn=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),br=new Uint32Array(64);class Jr extends Kt{constructor(){super(64,32,8,!1),this.A=0|tr[0],this.B=0|tr[1],this.C=0|tr[2],this.D=0|tr[3],this.E=0|tr[4],this.F=0|tr[5],this.G=0|tr[6],this.H=0|tr[7]}get(){const{A:it,B:Je,C:at,D:$t,E:Yt,F:gn,G:zn,H:or}=this;return[it,Je,at,$t,Yt,gn,zn,or]}set(it,Je,at,$t,Yt,gn,zn,or){this.A=0|it,this.B=0|Je,this.C=0|at,this.D=0|$t,this.E=0|Yt,this.F=0|gn,this.G=0|zn,this.H=0|or}process(it,Je){for(let rr=0;rr<16;rr++,Je+=4)br[rr]=it.getUint32(Je,!1);for(let rr=16;rr<64;rr++){const Xe=br[rr-15],Me=br[rr-2],me=Qs(Xe,7)^Qs(Xe,18)^Xe>>>3,ve=Qs(Me,17)^Qs(Me,19)^Me>>>10;br[rr]=ve+br[rr-7]+me+br[rr-16]|0}let{A:at,B:$t,C:Yt,D:gn,E:zn,F:or,G:ur,H:$n}=this;for(let rr=0;rr<64;rr++){const Me=$n+(Qs(zn,6)^Qs(zn,11)^Qs(zn,25))+Jt(zn,or,ur)+Mn[rr]+br[rr]|0,ve=(Qs(at,2)^Qs(at,13)^Qs(at,22))+Tt(at,$t,Yt)|0;$n=ur,ur=or,or=zn,zn=gn+Me|0,gn=Yt,Yt=$t,$t=at,at=Me+ve|0}at=at+this.A|0,$t=$t+this.B|0,Yt=Yt+this.C|0,gn=gn+this.D|0,zn=zn+this.E|0,or=or+this.F|0,ur=ur+this.G|0,$n=$n+this.H|0,this.set(at,$t,Yt,gn,zn,or,ur,$n)}roundClean(){br.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ji=Kl(()=>new Jr);var Ir=w(53813);function Ms(mt,it=128){if(function md(mt){if(!Number.isSafeInteger(mt)||mt<0)throw new Error(`positive integer expected, not ${mt}`)}(it),it%32!=0||it>256)throw new TypeError("Invalid entropy");return function Ac(mt,it){return function ml(mt){Da(mt,16,20,24,28,32)}(mt),function va(mt){if(!Array.isArray(mt)||2048!==mt.length||"string"!=typeof mt[0])throw new Error("Wordlist: expected array of 2048 strings");return mt.forEach(it=>{if("string"!=typeof it)throw new Error(`Wordlist: non-string element: ${it}`)}),Ir.Wp.chain(Ir.Wp.checksum(1,yd),Ir.Wp.radix2(11,!0),Ir.Wp.alphabet(mt))}(it).encode(mt).join((mt=>"\u3042\u3044\u3053\u304f\u3057\u3093"===mt[0])(it)?"\u3000":" ")}(function sh(mt=32){if(Xh&&"function"==typeof Xh.getRandomValues)return Xh.getRandomValues(new Uint8Array(mt));throw new Error("crypto.getRandomValues must be defined")}(it/8),mt)}const yd=mt=>{const it=8-mt.length/4;return new Uint8Array([ji(mt)[0]>>it<<it])};const vc="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n");var Ud=w(93953);let Af=(()=>{class mt{constructor(){}createPassword(Je=6,at=128){return(0,d.A)(function*(){try{const $t=Ms(vc,at).split(" "),Yt=[];for(let gn=0;gn<Je;gn++){const zn=Math.floor(Math.random()*$t.length);Yt.push($t[zn])}return Yt.join(" ")}catch($t){throw console.error($t),$t}})()}encrypt(Je,at){return this.deriveKey(at),Je}encryptData(Je,at){return(0,d.A)(function*(){})()}deriveKey(Je){return(0,d.A)(function*(){return yield Gh.deriveKey({hash:"SHA-256",password:(new TextEncoder).encode(Je),salt:Bd(16),iterations:1e3,length:256})})()}static#e=this.\u0275fac=function(at){return new(at||mt)};static#t=this.\u0275prov=Ud.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"})}return mt})()},1005:(je,H,w)=>{"use strict";w.d(H,{G:()=>k});var d=w(93953),E=w(21626);let k=(()=>{class z{constructor(O){this.http=O,this.hash=null}loadHash(){return this.http.get("/ngsw.json").toPromise().then(O=>{this.hash=O.hash}).catch(()=>{this.hash=null})}getHash(){return this.hash}static#e=this.\u0275fac=function(A){return new(A||z)(d.KVO(E.Qq))};static#t=this.\u0275prov=d.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})()},34635:(je,H,w)=>{"use strict";w.d(H,{K:()=>x});var d=w(10467),E=w(93953),k=w(74862),z=w(60132);let x=(()=>{class O{constructor(P){this.cryptoService=P,this.syncInterval="5s",this.agents=(0,E.vPA)([]),this.preinitialized=(0,E.vPA)(!1),this.initialized=(0,E.vPA)(!1),this.locked=(0,E.vPA)(!0)}initialConnect(P){var F=this;return(0,d.A)(function*(){try{console.log("Connecting to Web5...");const L=yield k.uW.connect({password:P,sync:F.syncInterval});return F.web5=L.web5,F.did=L.did,console.log("Web5 Connected.",F.did),F.preinitialized.set(!0),F.initialized.set(!0),L}catch(L){console.error(L)}})()}connect(P,F){var L=this;return(0,d.A)(function*(){try{console.log("Connecting to Web5...");const D=yield k.uW.connect({connectedDid:P,password:F,sync:L.syncInterval});return L.web5=D.web5,L.did=D.did,console.log("Web5 Connected."),L.preinitialized.set(!0),L.initialized.set(!0),D}catch{alert("Failed to initialize Web5")}})()}restore(P,F){var L=this;return(0,d.A)(function*(){try{console.log("Connecting to Web5...");const D=yield k.uW.connect({recoveryPhrase:F,password:P,sync:L.syncInterval});return L.web5=D.web5,L.did=D.did,console.log("Web5 Connected."),L.preinitialized.set(!0),L.initialized.set(!0),D}catch{alert("Failed to initialize Web5")}})()}activeAgent(){return this.web5.agent}changePassword(P,F){var L=this;return(0,d.A)(function*(){yield L.web5.agent.vault.changePassword({oldPassword:P,newPassword:F})})()}lock(){var P=this;return(0,d.A)(function*(){console.log("Locking account..."),yield P.web5.agent.vault.lock(),console.log("Vault locked"),P.locked.set(!0)})()}unlock(P){var F=this;return(0,d.A)(function*(){try{console.log("Connecting to Web5...");const{did:L,web5:D}=yield k.uW.connect({sync:F.syncInterval,password:P});return F.did=L,F.web5=D,F.initialized.set(!0),F.locked.set(!1),!0}catch(L){return console.error(L),console.log("Show unlock screen!"),F.locked.set(!0),!1}})()}static#e=this.\u0275fac=function(F){return new(F||O)(E.KVO(z.j))};static#t=this.\u0275prov=E.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},36815:(je,H,w)=>{"use strict";w.d(H,{Y:()=>E});var d=w(93953);let E=(()=>{class k{constructor(){this.scrolling=(0,d.vPA)(!0),this.navigation=(0,d.vPA)(!1),this.actions=(0,d.vPA)([]),(0,d.QZP)(()=>{const x=document.querySelector(".sidenav-scroll-wrapper");x&&(x.style.overflow=this.scrolling()?"auto":"hidden");const O=document.querySelector(".sidenav-content");O&&(O.style.overflow=this.scrolling()?"auto":"hidden")})}setActions(x){this.actions.set(x)}addAction(x){this.actions.update(O=>[...O,x])}resetActions(){this.actions.set([])}enableScrolling(){this.scrolling.set(!0)}disableScrolling(){this.scrolling.set(!1)}enableNavigation(){this.navigation.set(!0)}disableNavigation(){this.navigation.set(!1)}static#e=this.\u0275fac=function(O){return new(O||k)};static#t=this.\u0275prov=d.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}return k})()},55619:(je,H,w)=>{"use strict";w.d(H,{o:()=>z});var d=w(18498),E=w(93953),k=w(60177);let z=(()=>{class x{constructor(A,P){this.router=A,this.location=P,this.history=[],this.router.events.subscribe(F=>{F instanceof d.wF&&this.history.push(F.urlAfterRedirects)})}back(){this.history.pop(),this.history.length>0?this.location.back():this.router.navigateByUrl("/")}static#e=this.\u0275fac=function(P){return new(P||x)(E.KVO(d.Ix),E.KVO(k.aZ))};static#t=this.\u0275prov=E.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()},39434:(je,H,w)=>{"use strict";w.d(H,{p:()=>x});var d=w(10467),E=w(93953),k=w(34635),z=w(22312);let x=(()=>{class O{constructor(){this.identity=(0,E.WQX)(k.K),this.current=(0,E.vPA)({did:"",name:"",title:"",bio:"",profileImage:"",profileBanner:"",status:"",location:"",links:[],birthDate:""}),this.selected=(0,E.vPA)({did:"",name:"",title:"",bio:"",profileImage:"",profileBanner:"",status:"",location:"",links:[],birthDate:""}),this.avatar=(0,E.vPA)(null),this.avatarSelected=(0,E.vPA)(null)}loadProfile(P){var F=this;return(0,d.A)(function*(){const L=yield F.identity.web5.dwn.records.query({from:P,message:{filter:{protocol:z.ME.uri,protocolPath:"profile",dataFormat:"application/json"}}});let D={},X=null;if(console.log("RESPONSE FOUND FOR PROFILE:",L),console.log("RECORDS FOUND FOR PROFILE:",L.records),L.records)for(const te of L.records)X=te,D={...yield te.data.json(),id:te.dataCid,did:te.author,created:te.dateCreated};var j=null,G=null;const re=yield F.identity.web5.dwn.records.query({from:P,message:{filter:{protocol:z.ME.uri,protocolPath:"avatar",dataFormat:"image/png"}}});if(re.records&&re.records.length>0){const te=re.records[0];j=te,G=yield te.data.text()}return{record:X,avatarRecord:j,avatar:G,profile:D,did:P}})()}openCurrentUserProfile(P){var F=this;return(0,d.A)(function*(){console.log("Open current user profile",P);const L=yield F.loadProfile(P);F.current.set(L.profile)})()}openProfile(P){var F=this;return(0,d.A)(function*(){console.log("Open profile",P);const L=yield F.loadProfile(P);F.avatarSelected.set(L.avatar),F.selected.set(L.profile),P==F.identity.did&&(F.avatar.set(L.avatar),F.current.set(L.profile))})()}static#e=this.\u0275fac=function(F){return new(F||O)};static#t=this.\u0275prov=E.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},98703:(je,H,w)=>{"use strict";w.d(H,{g:()=>E});var d=w(93953);let E=(()=>{class k{transform(x,O){if(x){const A=Math.floor((+new Date-+new Date(x))/1e3);if(A<29)return"Just now";const P={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60,second:1};let F;for(const L in P)if(F=Math.floor(A/P[L]),F>0)return 1===F?F+" "+L+" ago":F+" "+L+"s ago"}return x}static#e=this.\u0275fac=function(O){return new(O||k)};static#t=this.\u0275pipe=d.EJ8({name:"ago",type:k,pure:!0,standalone:!0})}return k})()},33347:(je,H,w)=>{"use strict";w.d(H,{k:()=>E});var d=w(93953);let E=(()=>{class k{transform(x,O){if(x){const A=x.lastIndexOf(":");if(-1!==A){const P=x.slice(0,A+1),F=x.slice(A+1);return P+F.slice(0,5)+"..."+F.slice(-5)}return x.slice(0,5)+"..."+x.slice(-5)}return x}static#e=this.\u0275fac=function(O){return new(O||k)};static#t=this.\u0275pipe=d.EJ8({name:"did",type:k,pure:!0,standalone:!0})}return k})()},78013:(je,H,w)=>{"use strict";w.d(H,{d:()=>k});var d=w(93953),E=w(345);let k=(()=>{class z{constructor(O){this.sanitizer=O}transform(O){return this.sanitizer.bypassSecurityTrustResourceUrl(O)}static#e=this.\u0275fac=function(A){return new(A||z)(d.rXU(E.up,16))};static#t=this.\u0275pipe=d.EJ8({name:"safeResourceUrl",type:z,pure:!0,standalone:!0})}return z})()},28741:(je,H,w)=>{"use strict";w.d(H,{M:()=>E});var d=w(93953);let E=(()=>{class k{transform(x,O){if(null==x)return"";if(0===x)return"0 Bytes";const F=Math.floor(Math.log(x)/Math.log(1024));return parseFloat((x/Math.pow(1024,F)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB","PB"][F]}static#e=this.\u0275fac=function(O){return new(O||k)};static#t=this.\u0275pipe=d.EJ8({name:"size",type:k,pure:!0,standalone:!0})}return k})()},43794:(je,H,w)=>{"use strict";w.d(H,{n:()=>k});var d=w(93953),E=w(36815);let k=(()=>{class z{constructor(){this.prefix="ariton-",this.layout=(0,d.WQX)(E.Y),this.layout.resetActions()}save(O,A){localStorage.setItem(this.prefix+O,JSON.stringify(A))}read(O){const A=localStorage.getItem(this.prefix+O);return A?JSON.parse(A):null}remove(O){localStorage.removeItem(this.prefix+O)}clear(){Object.keys(localStorage).forEach(O=>{O.startsWith(this.prefix)&&localStorage.removeItem(O)})}static#e=this.\u0275fac=function(A){return new(A||z)};static#t=this.\u0275prov=d.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})()},47815:(je,H,w)=>{"use strict";var d=w(345),E=w(93953),k=w(18498),z=w(10467),x=w(31439),O=w(36815),A=w(34635),P=w(97372),F=w(60177),L=w(89417),D=w(88834),X=w(75351),j=w(99213),G=w(99631),re=w(59115),te=w(14823),J=w(53719);let Z=(()=>{class sn{constructor(Rt,on){this.dialogRef=Rt,this.data=on,this.fb=(0,E.WQX)(L.ok),this.form=this.fb.group({name:[null,L.k0.required]})}ngAfterViewInit(){}static#e=this.\u0275fac=function(on){return new(on||sn)(E.rXU(X.CP),E.rXU(X.Vh))};static#t=this.\u0275cmp=E.VBU({type:sn,selectors:[["app-folder-dialog"]],standalone:!0,features:[E.aNF],decls:10,vars:2,consts:[["mat-dialog-title",""],[1,"mat-typography"],["appearance","outline",1,"full-width"],["matInput","","required","true","placeholder","Name","maxlength","200",3,"ngModelChange","ngModel"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-flat-button","","type","submit","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(on,pn){1&on&&(E.j41(0,"h2",0),E.EFF(1,"New folder"),E.k0s(),E.j41(2,"mat-dialog-content",1)(3,"mat-form-field",2)(4,"input",3),E.mxI("ngModelChange",function(wr){return E.DH7(pn.data.name,wr)||(pn.data.name=wr),wr}),E.k0s()()(),E.j41(5,"mat-dialog-actions",4)(6,"button",5),E.EFF(7,"Cancel"),E.k0s(),E.j41(8,"button",6),E.EFF(9,"Create"),E.k0s()()),2&on&&(E.R7$(4),E.R50("ngModel",pn.data.name),E.R7$(4),E.Y8G("mat-dialog-close",!0))},dependencies:[F.MD,te.uc,re.Cn,j.m_,D.Hl,D.$z,G.fS,G.fg,J.rl,X.hM,X.tx,X.BI,X.E7,X.Yi,L.YN,L.me,L.BC,L.YS,L.tU,L.vS],styles:["form[_ngcontent-%COMP%]{display:inline}"]})}return sn})();var ie=w(3902),ae=w(98703),se=w(5964);let de=(()=>{class sn{constructor(Rt,on){this.router=Rt,this.activatedRoute=on,this.breadcrumbs=[],this.router.events.pipe((0,se.p)(pn=>pn instanceof k.wF)).subscribe(()=>{this.breadcrumbs=this.createBreadcrumbs(this.activatedRoute.root)})}createBreadcrumbs(Rt,on="",pn=[]){const pr=Rt.children;if(0===pr.length)return pn;for(const wr of pr){const Wr=wr.snapshot.url.map(to=>to.path).join("/");return""!==Wr&&(on+=`/${Wr}`),pn.push({label:wr.snapshot.data.breadcrumb,url:on}),this.createBreadcrumbs(wr,on,pn)}return pn}static#e=this.\u0275fac=function(on){return new(on||sn)(E.KVO(k.Ix),E.KVO(k.nX))};static#t=this.\u0275prov=E.jDH({token:sn,factory:sn.\u0275fac,providedIn:"root"})}return sn})(),le=(()=>{class sn{constructor(){}registerActions(Rt){}static#e=this.\u0275fac=function(on){return new(on||sn)};static#t=this.\u0275prov=E.jDH({token:sn,factory:sn.\u0275fac,providedIn:"root"})}return sn})();var be=w(28741),xe=w(62590),ke=w(2042),C=w(9159);function a(sn,Xn){1&sn&&E.nrm(0,"th",15)}function f(sn,Xn){if(1&sn){const Rt=E.RV6();E.j41(0,"td",16),E.bIt("click",function(){const pn=E.eBV(Rt).$implicit,pr=E.XpG();return E.Njj(pr.openEntry(pn))}),E.j41(1,"mat-icon",17),E.EFF(2),E.k0s()()}if(2&sn){const Rt=Xn.$implicit;E.R7$(2),E.JRh(Rt.icon)}}function y(sn,Xn){1&sn&&(E.j41(0,"th",18),E.EFF(1,"Name"),E.k0s())}function g(sn,Xn){if(1&sn){const Rt=E.RV6();E.j41(0,"td",19),E.bIt("click",function(){const pn=E.eBV(Rt).$implicit,pr=E.XpG();return E.Njj(pr.openEntry(pn))}),E.EFF(1),E.k0s()}if(2&sn){const Rt=Xn.$implicit;E.R7$(),E.JRh(Rt.name)}}function M(sn,Xn){1&sn&&(E.j41(0,"th",20),E.EFF(1,"Modified"),E.k0s())}function T(sn,Xn){if(1&sn&&(E.j41(0,"td",21),E.EFF(1),E.nI1(2,"ago"),E.k0s()),2&sn){const Rt=Xn.$implicit;E.R7$(),E.SpI(" ",E.bMT(2,1,Rt.modified)," ")}}function B(sn,Xn){1&sn&&(E.j41(0,"th",22),E.EFF(1,"File size"),E.k0s())}function S(sn,Xn){if(1&sn&&(E.j41(0,"td",21),E.EFF(1),E.nI1(2,"size"),E.k0s()),2&sn){const Rt=Xn.$implicit;E.R7$(),E.JRh(E.bMT(2,1,Rt.size))}}function s(sn,Xn){1&sn&&E.nrm(0,"tr",23)}function v(sn,Xn){1&sn&&E.nrm(0,"tr",24)}class W{constructor(Xn){this.icon="folder"==Xn.tags.entryType?"folder":"note",this.name=Xn.tags.name,this.modified="folder"===Xn.tags.entryType?Xn.dateModified:Xn.tags.lastModified,this.size=Xn.tags.size,this.type=Xn.tags.type,this.entryType=Xn.tags.entryType,this.record=Xn}}let K=(()=>{class sn{constructor(){var Rt=this;this.entries=(0,E.vPA)([]),this.app=(0,E.WQX)(x.d),this.breadcrumb=(0,E.WQX)(de),this.layout=(0,E.WQX)(O.Y),this.identity=(0,E.WQX)(A.K),this.dialog=(0,E.WQX)(X.bZ),this.router=(0,E.WQX)(k.Ix),this.route=(0,E.WQX)(k.nX),this.fileService=(0,E.WQX)(le),this.uploadProgress=null,this.isUploading=!1,this.file=null,this.uploadSuccess=!1,this.fileError=null,this.protocolPath="entry",this.hasInitialized=!1,this.folderLevel=1,this.displayedColumns=["icon","name","modified","size"],this.dataSource=new C.I6([]),this.changeDetectorRefs=(0,E.WQX)(E.gRc),console.log("FOLDER COMPONENT CONSTRUCTOR"),(0,E.QZP)((0,z.A)(function*(){if(Rt.app.initialized()){if(Rt.hasInitialized)return;const on=Rt.getResolvedUrl(Rt.route.snapshot);yield Rt.processUrl(on)}}),{allowSignalWrites:!0}),(0,E.QZP)((0,z.A)(function*(){Rt.updateTable()})),this.routingSub=this.router.events.subscribe(function(){var on=(0,z.A)(function*(pn){pn instanceof k.wF&&(yield Rt.processUrl(pn.urlAfterRedirects))});return function(pn){return on.apply(this,arguments)}}()),this.layout.disableNavigation(),console.log("FOLDER COMPONENT INITIALIZED"),this.layout.setActions([{name:"Upload files",icon:"upload_file",action:()=>{this.editFile({data:{title:"",body:"",background:"",collaborators:[],labels:[]}})}},{name:"New folder",icon:"create_new_folder",action:()=>{this.editFolder(null)}}])}ngAfterViewInit(){this.dataSource.sort=this.sort}updateTable(){this.dataSource.data=this.entries().map(Rt=>new W(Rt))}sortData(Rt){}announceSortChange(Rt){}getValueAfterFolder(Rt){const on=Rt.match(/\/folder\/(.+)/);return on?on[1]:null}generateUrl(Rt){const on=[];for(let pn=0;pn<Rt;pn++)on.push("entry");return on.join("/")}processUrl(Rt){var on=this;return(0,z.A)(function*(){if(console.log("PROCESS URL:",Rt),Rt.endsWith("root"))console.log("ROOT!!!"),on.parentId="root",on.protocolPath="entry",on.contextId=void 0,on.folderLevel=1;else{console.log("ELSE!!!"),console.log("URL:",Rt);const pn=on.getValueAfterFolder(Rt);console.log("valueAfterFolder:",pn);const pr=Rt.split("/"),wr=pr[pr.length-1];console.log("lastSegment:",wr),on.parentId=wr,on.contextId=pn;let Wr=0;pn?(Wr=(pn.match(/\//g)||[]).length+2,console.log("SLASHCOUNT:",Wr)):Wr=1,on.folderLevel=Wr,on.protocolPath=on.generateUrl(Wr),console.log("GENERATED PROTOCOL PATH:",on.protocolPath),on.layout.setActions(4===on.folderLevel?[{name:"Upload files",icon:"upload_file",action:()=>{on.editFile({data:{title:"",body:"",background:"",collaborators:[],labels:[]}})}},{name:"Delete folder",icon:"delete_forever",action:()=>{on.deleteFolder()}}]:on.folderLevel>1?[{name:"Upload files",icon:"upload_file",action:()=>{on.editFile({data:{title:"",body:"",background:"",collaborators:[],labels:[]}})}},{name:"New folder",icon:"create_new_folder",action:()=>{on.editFolder(null)}},{name:"Delete folder",icon:"delete_forever",action:()=>{on.deleteFolder()}}]:[{name:"Upload files",icon:"upload_file",action:()=>{on.editFile({data:{title:"",body:"",background:"",collaborators:[],labels:[]}})}},{name:"New folder",icon:"create_new_folder",action:()=>{on.editFolder(null)}}])}on.app.initialized()?(on.hasInitialized=!0,console.log("SET INITIALIZED. LOADING ENTRIES!",on.hasInitialized),yield on.loadEntries()):console.log("APP NOT INITIALIZED, RETURN!")})()}getResolvedUrl(Rt){let on=Rt.pathFromRoot.map(pr=>pr.url.map(wr=>wr.toString()).join("/")).join("/");const pn=Rt.queryParamMap;return pn.keys.length>0&&(on+="?"+pn.keys.map(pr=>pn.getAll(pr).map(wr=>pr+"="+wr).join("&")).join("&")),on}editFile(Rt){return(0,z.A)(function*(){document.getElementById("input")?.click()})()}ngOnDestroy(){console.log("ON DESTROY!!!);"),this.routingSub.unsubscribe(),this.layout.resetActions()}onFileSelected(Rt){var on=this;return(0,z.A)(function*(){const pn=Rt.currentTarget.files;if(0!=pn.length){console.log("Uploading number of files:",pn.length);for(let pr=0;pr<pn.length;pr++){const wr=pn[pr];console.log(wr);const Wr=new Blob([wr],{type:wr.type});console.log(Wr),console.log("Parent ID:",on.breadcrumb.parentId);const to={tags:{name:wr.name,size:wr.size,type:wr.type,lastModified:wr.lastModified,entryType:"file"},protocol:P.Q.protocol,protocolPath:on.protocolPath,parentContextId:on.contextId??=void 0,schema:P.Q.types.entry.schema,dataFormat:Wr.type};console.log(to);const{status:Lo,record:qr}=yield on.identity.web5.dwn.records.create({data:Wr,message:to});console.log("Record created:",qr),console.log("Record status:",Lo),qr&&on.entries.update(Pa=>[...Pa,qr])}}})()}cancelUpload(){return(0,z.A)(function*(){})()}upload(){var Rt=this;return(0,z.A)(function*(){console.log("Uploading file");const{status:on,record:pn}=yield Rt.identity.web5.dwn.records.create({data:Rt.file,message:{schema:P.Q.types.entry.schema}});return console.log("Record created:",pn),console.log("Record status:",on),pn})()}deleteFolder(){var Rt=this;return(0,z.A)(function*(){const{record:on}=yield Rt.identity.web5.dwn.records.read({message:{filter:{recordId:Rt.parentId}}});if(on){const{status:pn}=yield on.delete({prune:!0});console.log("Delete status:",pn);const pr=Rt.contextId.split("/").slice(0,-1);console.log("Parent path:",pr),Rt.router.navigate(["app","files","folder",...pr])}})()}editFolder(Rt){var on=this;return(0,z.A)(function*(){let pn={name:Rt?Rt.tags.name:"Untitled folder",entryType:"folder"};const pr=JSON.parse(JSON.stringify(pn)),wr=on.dialog.open(Z,{maxWidth:"80vw",maxHeight:"80vh",data:pn});return wr.afterClosed().subscribe(function(){var Wr=(0,z.A)(function*(to){to?(console.log("data result for saving:",pn),yield on.saveFolder(Rt,pn)):pn=pr});return function(to){return Wr.apply(this,arguments)}}()),wr.afterClosed()})()}saveFolder(Rt,on){var pn=this;return(0,z.A)(function*(){if(Rt){Rt.tags.name=on.name,Rt.tags.entryType=on.entryType;const{status:pr}=yield Rt.update({data:{}});console.log("Record status:",pr)}else{const pr={tags:{name:on.name,entryType:on.entryType},protocol:P.Q.protocol,protocolPath:pn.protocolPath,parentContextId:pn.contextId??=void 0,schema:P.Q.types.entry.schema};console.log("Create folder:",pr);const{record:wr,status:Wr}=yield pn.identity.web5.dwn.records.create({data:{},message:pr});console.log("Record created:",wr),console.log("Record status:",Wr),wr&&pn.entries.update(to=>[...to,wr])}})()}openEntry(Rt){var on=this;return(0,z.A)(function*(){console.log(Rt),on.router.navigate("folder"===Rt.entryType?["/app/files/folder/"+Rt.record.contextId]:["/app/files/file/"+Rt.record.id])})()}loadEntries(Rt){var on=this;return(0,z.A)(function*(){console.log("VALUE OF TAGS:",Rt),console.log("PARENT ID:",on.parentId),console.log("PARENT CONTEXT ID:",on.contextId);const pn={filter:{protocolPath:on.protocolPath,protocol:P.Q.protocol,schema:P.Q.types.entry.schema},dateSort:xe.U0.CreatedDescending};on.parentId&&"root"!==on.parentId&&(pn.filter.parentId=on.parentId),console.log(pn);var{records:pr}=yield on.identity.web5.dwn.records.query({message:pn});on.entries.set(pr??[]),console.log("All entries:",on.entries())})()}static#e=this.\u0275fac=function(on){return new(on||sn)};static#t=this.\u0275cmp=E.VBU({type:sn,selectors:[["app-folder"]],viewQuery:function(on,pn){if(1&on&&E.GBs(ke.B4,5),2&on){let pr;E.mGM(pr=E.lsd())&&(pn.sort=pr.first)}},standalone:!0,features:[E.aNF],decls:16,vars:3,consts:[["type","file","id","input","multiple","",2,"display","none",3,"change"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"matSortChange","dataSource"],["matColumnDef","icon"],["mat-header-cell","","mat-sort-header","","class","icon-column",4,"matHeaderCellDef"],["mat-cell","","class","clickable icon-column",3,"click",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name",4,"matHeaderCellDef"],["mat-cell","","class","clickable",3,"click",4,"matCellDef"],["matColumnDef","modified"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by modified",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","size"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by file size",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header","",1,"icon-column"],["mat-cell","",1,"clickable","icon-column",3,"click"],["matListItemIcon",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name"],["mat-cell","",1,"clickable",3,"click"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by modified"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by file size"],["mat-header-row",""],["mat-row",""]],template:function(on,pn){1&on&&(E.j41(0,"input",0),E.bIt("change",function(wr){return pn.onFileSelected(wr)}),E.k0s(),E.j41(1,"table",1),E.bIt("matSortChange",function(wr){return pn.sortData(wr)}),E.qex(2,2),E.DNE(3,a,1,0,"th",3)(4,f,3,1,"td",4),E.bVm(),E.qex(5,5),E.DNE(6,y,2,0,"th",6)(7,g,2,1,"td",7),E.bVm(),E.qex(8,8),E.DNE(9,M,2,0,"th",9)(10,T,3,3,"td",10),E.bVm(),E.qex(11,11),E.DNE(12,B,2,0,"th",12)(13,S,3,3,"td",10),E.bVm(),E.DNE(14,s,1,0,"tr",13)(15,v,1,0,"tr",14),E.k0s()),2&on&&(E.R7$(),E.Y8G("dataSource",pn.dataSource),E.R7$(13),E.Y8G("matHeaderRowDef",pn.displayedColumns),E.R7$(),E.Y8G("matRowDefColumns",pn.displayedColumns))},dependencies:[C.tP,C.Zl,C.tL,C.ji,C.cC,C.YV,C.iL,C.KS,C.$R,C.YZ,C.NB,ke.NQ,ke.B4,ke.aE,be.M,F.MD,ie.Fg,ie.ZV,j.m_,j.An,ae.g],styles:["table[_ngcontent-%COMP%]{width:100%}.icon-column[_ngcontent-%COMP%]{width:36px;max-width:36px;min-width:36px}"]})}return sn})();var ee=function(sn){return sn.PDF="application/pdf",sn.JPEG="image/jpeg",sn.PNG="image/png",sn.MP4="video/mp4",sn}(ee||{});const ce=["*"];function _e(sn,Xn){if(1&sn&&(E.j41(0,"div",1),E.nrm(1,"iframe",2),E.k0s()),2&sn){const Rt=E.XpG();E.R7$(),E.Y8G("src",Rt.src,E.f$h)}}function Oe(sn,Xn){if(1&sn&&E.nrm(0,"iframe",2),2&sn){const Rt=E.XpG();E.Y8G("src",Rt.src,E.f$h)}}function Ve(sn,Xn){if(1&sn&&E.nrm(0,"iframe",2),2&sn){const Rt=E.XpG();E.Y8G("src",Rt.src,E.f$h)}}function Se(sn,Xn){if(1&sn&&(E.j41(0,"video",3),E.nrm(1,"source",4),E.EFF(2," Your browser does not support HTML5 video. "),E.k0s()),2&sn){const Rt=E.XpG();E.R7$(),E.Y8G("src",Rt.src,E.B4B)}}function we(sn,Xn){1&sn&&(E.j41(0,"span",null,0),E.SdG(2),E.k0s())}let Ue=(()=>{class sn{ngAfterViewInit(){const Rt=document.getElementById("frame"),on=document.createElement("style");on.textContent="\n    body {\n        background-color: #f0f0f0;\n   margin: 0;\n  padding: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n    }\n\n    img {\n      width: 100%;\n  height: 100%;\n  object-fit: contain; /* Adjust as needed: contain, cover, fill */\n    }\n",console.log("iframe:"),console.log(Rt),Rt.contentDocument.head.appendChild(on),console.log("iframe:"),console.log(Rt)}ngOnInit(){}zoomIn(){this.zoomLevel+=10}zoomOut(){this.zoomLevel>10&&(this.zoomLevel-=10)}goToPage(){this.currentPage<1?this.currentPage=1:this.currentPage>this.totalPages&&(this.currentPage=this.totalPages)}constructor(){this.fileMimeType=ee,this.pdfZoom=1,this.currentPage=1,this.totalPages=1,this.zoomLevel=100,this.totalPages=this.getPdfTotalPages()}getPdfTotalPages(){return 10}goToPreviousPage(){this.currentPage>1&&this.currentPage--}goToNextPage(){this.currentPage<this.totalPages&&this.currentPage++}static#e=this.\u0275fac=function(on){return new(on||sn)};static#t=this.\u0275cmp=E.VBU({type:sn,selectors:[["app-file-viewer"]],inputs:{type:"type",src:"src",pdfZoom:"pdfZoom"},standalone:!0,features:[E.aNF],ngContentSelectors:ce,decls:6,vars:1,consts:[["content",""],[1,"pdf-viewer"],["id","frame","width","100%","height","100%",1,"file-frame",3,"src"],["controls","","width","100%"],["type","video/mp4",3,"src"]],template:function(on,pn){if(1&on&&(E.NAR(),E.j41(0,"span"),E.DNE(1,_e,2,1,"div",1)(2,Oe,1,1,"iframe",2)(3,Ve,1,1,"iframe",2)(4,Se,3,1,"video",3)(5,we,3,0,"span"),E.k0s()),2&on){let pr;E.R7$(),E.vxM((pr=pn.type)===pn.fileMimeType.PDF?1:pr===pn.fileMimeType.JPEG?2:pr===pn.fileMimeType.PNG?3:pr===pn.fileMimeType.MP4?4:5)}},dependencies:[F.MD,L.YN],styles:[".pdf-viewer[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden}object[_ngcontent-%COMP%]{width:100%;height:100%}.controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px}.page-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}@media screen and (max-width: 768px){.controls[_ngcontent-%COMP%]{flex-direction:column}}"]})}return sn})();var ye=w(55911),De=w(55619);function pe(sn,Xn){if(1&sn&&(E.j41(0,"span"),E.EFF(1),E.k0s()),2&sn){const Rt=E.XpG(2);E.R7$(),E.JRh(Rt.record.tags.name)}}function ue(sn,Xn){if(1&sn){const Rt=E.RV6();E.j41(0,"button",2),E.bIt("click",function(){E.eBV(Rt);const pn=E.XpG(2);return E.Njj(pn.toggleFullscreen())}),E.j41(1,"mat-icon"),E.EFF(2,"fullscreen_exit"),E.k0s()()}2&sn&&E.Y8G("title","Exit fullscreen")}function Q(sn,Xn){if(1&sn){const Rt=E.RV6();E.j41(0,"button",2),E.bIt("click",function(){E.eBV(Rt);const pn=E.XpG(2);return E.Njj(pn.toggleFullscreen())}),E.j41(1,"mat-icon"),E.EFF(2,"fullscreen"),E.k0s()()}2&sn&&E.Y8G("title","Fullscreen")}function oe(sn,Xn){if(1&sn){const Rt=E.RV6();E.j41(0,"mat-toolbar")(1,"button",2),E.bIt("click",function(){E.eBV(Rt);const pn=E.XpG();return E.Njj(pn.deleteFile())}),E.j41(2,"mat-icon"),E.EFF(3,"delete"),E.k0s()(),E.j41(4,"button",2),E.bIt("click",function(){E.eBV(Rt);const pn=E.XpG();return E.Njj(pn.download())}),E.j41(5,"mat-icon"),E.EFF(6,"file_download"),E.k0s()(),E.DNE(7,pe,2,1,"span"),E.nrm(8,"span",3),E.j41(9,"button",4)(10,"mat-icon"),E.EFF(11,"zoom_in"),E.k0s()(),E.j41(12,"button",4)(13,"mat-icon"),E.EFF(14,"zoom_out"),E.k0s()(),E.DNE(15,ue,3,1,"button",5)(16,Q,3,1,"button",5),E.k0s()}if(2&sn){const Rt=E.XpG();E.R7$(),E.Y8G("title","Delete"),E.R7$(3),E.Y8G("title","Download"),E.R7$(3),E.vxM(Rt.record.tags?7:-1),E.R7$(2),E.Y8G("disabled",!0),E.R7$(3),E.Y8G("disabled",!0),E.R7$(3),E.vxM(Rt.fullscreen()?15:16)}}function fe(sn,Xn){if(1&sn&&(E.j41(0,"app-file-viewer",1)(1,"h2"),E.EFF(2,"This file type is unsupported (yet :)"),E.k0s()()),2&sn){const Rt=E.XpG();E.Y8G("src",Rt.src)("type",Rt.type)("pdfZoom",Rt.pdfZoom)}}const Re=[{path:"",pathMatch:"full",redirectTo:"dashboard"},{path:"introduction",loadComponent:()=>w.e(4630).then(w.bind(w,64630)).then(sn=>sn.IntroductionComponent),title:"Introduction",data:{hide:!0,icon:"lightbulb"}},{path:"dashboard",loadComponent:()=>Promise.all([w.e(6195),w.e(2320)]).then(w.bind(w,62320)).then(sn=>sn.DashboardComponent),title:"Dashboard",data:{icon:"dashboard"}},{path:"communities",loadComponent:()=>Promise.all([w.e(5571),w.e(6695),w.e(450),w.e(6702)]).then(w.bind(w,6702)).then(sn=>sn.CommunitiesComponent),title:"Communities",data:{icon:"diversity_2"}},{path:"communities/create",loadComponent:()=>Promise.all([w.e(3475),w.e(3672)]).then(w.bind(w,23672)).then(sn=>sn.CreateComponent),title:"Communities",data:{hide:!0,icon:"diversity_2"}},{path:"community/:id",loadComponent:()=>Promise.all([w.e(6850),w.e(3028)]).then(w.bind(w,73028)).then(sn=>sn.CommunityComponent),title:"Communities",data:{hide:!0,icon:"diversity_2"}},{path:"friends",loadComponent:()=>Promise.all([w.e(6850),w.e(7413),w.e(8834)]).then(w.bind(w,38834)).then(sn=>sn.FriendsComponent),title:"Friends",data:{hide:!1,icon:"people"}},{path:"marketplace",loadComponent:()=>w.e(4392).then(w.bind(w,94392)).then(sn=>sn.MarketplaceComponent),title:"Marketplace",data:{icon:"storefront"}},{path:"apps",loadComponent:()=>Promise.all([w.e(5571),w.e(6695),w.e(6195),w.e(450),w.e(8487)]).then(w.bind(w,8487)).then(sn=>sn.AppsComponent),title:"Apps",data:{icon:"apps"}},{path:"app/files",loadComponent:()=>w.e(6797).then(w.bind(w,46797)).then(sn=>sn.FilesComponent),title:"Files",data:{icon:"folder",breadcrumb:"Files"},children:[{path:"",pathMatch:"full",redirectTo:"folder/root"},{path:"file/:id",component:(()=>{class sn{constructor(){var Rt=this;this.entries=(0,E.vPA)([]),this.app=(0,E.WQX)(x.d),this.breadcrumb=(0,E.WQX)(de),this.layout=(0,E.WQX)(O.Y),this.identity=(0,E.WQX)(A.K),this.dialog=(0,E.WQX)(X.bZ),this.router=(0,E.WQX)(k.Ix),this.route=(0,E.WQX)(k.nX),this.fileService=(0,E.WQX)(le),this.uploadProgress=null,this.isUploading=!1,this.file=null,this.uploadSuccess=!1,this.fileError=null,this.fileId=null,this.sanitizer=(0,E.WQX)(d.up),this.navigation=(0,E.WQX)(De.o),this.fullscreen=(0,E.vPA)(!1),this.fileMimeType=ee,this.pdfZoom=1,(0,E.QZP)((0,z.A)(function*(){Rt.app.initialized()&&(yield Rt.loadEntries())})),this.route.paramMap.subscribe(on=>{console.log("ROUTING!!!",on.get("id")),this.fileId=on.get("id")})}toggleFullscreen(){var Rt=document.getElementById("file-viewer");this.fullscreen()?(document.exitFullscreen(),this.fullscreen.set(!1)):(Rt.requestFullscreen(),this.fullscreen.set(!0))}download(){const Rt=URL.createObjectURL(this.fileUrl),on=document.createElement("a");console.log("File URL"),console.log(Rt),on.href=Rt,on.download=this.data.name,on.click(),URL.revokeObjectURL(Rt)}pdfZoomIn(){this.pdfZoom++}pdfZoomOut(){this.pdfZoom>1&&this.pdfZoom--}editFile(Rt){return(0,z.A)(function*(){document.getElementById("input")?.click()})()}onFileSelected(Rt){var on=this;return(0,z.A)(function*(){const pn=Rt.currentTarget.files;if(0!=pn.length){console.log("Uploading number of files:",pn.length);for(let pr=0;pr<pn.length;pr++){const wr=pn[pr];console.log(wr);const Wr=new Blob([wr],{type:wr.type});console.log(Wr),console.log("Parent ID:",on.breadcrumb.parentId);const{status:to,record:Lo}=yield on.identity.web5.dwn.records.create({data:Wr,message:{protocol:P.Q.protocol,protocolPath:"attachment",schema:P.Q.types.entry.schema,dataFormat:Wr.type}});console.log("Record created:",Lo),console.log("Record status:",to);const qr={name:wr.name,size:wr.size,type:wr.type,lastModified:wr.lastModified,entryType:"file"},{status:Pa,record:So}=yield on.identity.web5.dwn.records.create({data:qr,message:{tags:{type:wr.type,entryType:"file",attachment:Lo.id},protocol:P.Q.protocol,protocolPath:"entry",parentContextId:on.breadcrumb.parentId??=void 0,schema:P.Q.types.entry.schema}});console.log("Record created:",So),console.log("Record status:",Pa),So&&on.entries.update(Pd=>[...Pd,{record:So,data:qr}])}}})()}cancelUpload(){return(0,z.A)(function*(){})()}upload(){var Rt=this;return(0,z.A)(function*(){console.log("Uploading file");const{status:on,record:pn}=yield Rt.identity.web5.dwn.records.create({data:Rt.file,message:{schema:P.Q.types.entry.schema}});return console.log("Record created:",pn),console.log("Record status:",on),pn})()}editFolder(Rt){var on=this;return(0,z.A)(function*(){let pn={name:Rt.data.name,entryType:"folder"};const pr=JSON.parse(JSON.stringify(pn)),wr=on.dialog.open(Z,{maxWidth:"80vw",maxHeight:"80vh",data:pn});return wr.afterClosed().subscribe(function(){var Wr=(0,z.A)(function*(to){to?(console.log("data result for saving:",pn),Rt.data=pn,yield on.saveFolder(Rt,pn)):pn=pr});return function(to){return Wr.apply(this,arguments)}}()),wr.afterClosed()})()}saveFolder(Rt,on){var pn=this;return(0,z.A)(function*(){if(Rt.record){const{status:pr,record:wr}=yield Rt.record.update({data:on});console.log("Record created:",wr),console.log("Record status:",pr)}else{const{record:pr,status:wr}=yield pn.identity.web5.dwn.records.create({data:on,message:{tags:{entryType:on.entryType},protocol:P.Q.protocol,protocolPath:"entry",schema:P.Q.types.entry.schema}});console.log("Record created:",pr),console.log("Record status:",wr),pr&&(Rt.record=pr,pn.entries.update(Wr=>[...Wr,Rt]))}})()}openEntry(Rt){var on=this;return(0,z.A)(function*(){on.router.navigate("folder"===Rt.entryType?["/app/files/folder",Rt.record.id]:["/app/files/file",Rt.record.id])})()}deleteFile(){var Rt=this;return(0,z.A)(function*(){const{status:on}=yield Rt.record.delete(),{status:pn}=yield Rt.record.send(Rt.identity.did);console.log("Delete status:",on),console.log("Delete send status:",pn),Rt.record=void 0,Rt.src=void 0,Rt.navigation.back()})()}loadEntries(Rt){var on=this;return(0,z.A)(function*(){if(console.log("VALUE OF TAGS:",Rt),!on.fileId)return;const{record:pn}=yield on.identity.web5.dwn.records.read({message:{filter:{recordId:on.fileId}}});if(on.record=pn,on.fileUrl=yield pn.data.blob(),console.log(pn),on.type=pn.dataFormat,"application/pdf"===pn.dataFormat){const pr=URL.createObjectURL(on.fileUrl)+"#toolbar=0&navpanes=0&scrollbar=0&view=FitH";on.src=on.sanitizer.bypassSecurityTrustResourceUrl(pr)}else{const pr=URL.createObjectURL(on.fileUrl);on.src=on.sanitizer.bypassSecurityTrustResourceUrl(pr)}})()}static#e=this.\u0275fac=function(on){return new(on||sn)};static#t=this.\u0275cmp=E.VBU({type:sn,selectors:[["app-file"]],standalone:!0,features:[E.aNF],decls:3,vars:2,consts:[["id","file-viewer"],[3,"src","type","pdfZoom"],["mat-icon-button","",3,"click","title"],[1,"toolbar-spacer"],["mat-icon-button","",3,"disabled"],["mat-icon-button","",3,"title"]],template:function(on,pn){1&on&&(E.j41(0,"div",0),E.DNE(1,oe,17,6,"mat-toolbar")(2,fe,3,3,"app-file-viewer",1),E.k0s()),2&on&&(E.R7$(),E.vxM(pn.record?1:-1),E.R7$(),E.vxM(pn.src?2:-1))},dependencies:[Ue,F.MD,ie.Fg,j.m_,j.An,ye.s5,ye.KQ,D.Hl,D.iY]})}return sn})(),data:{breadcrumb:"Folder"}},{path:"**",component:K,data:{breadcrumb:"Folder"}}]},{path:"app/notes",loadComponent:()=>Promise.all([w.e(5571),w.e(6471),w.e(9770)]).then(w.bind(w,99770)).then(sn=>sn.NotesComponent),title:"Notes",data:{icon:"note"}},{path:"app/chat",loadComponent:()=>Promise.all([w.e(5571),w.e(8515)]).then(w.bind(w,38515)).then(sn=>sn.ChatComponent),title:"Chat",data:{icon:"chat"}},{path:"app/todo",loadComponent:()=>Promise.all([w.e(1391),w.e(1811)]).then(w.bind(w,11811)).then(sn=>sn.TodoComponent),title:"Todo",data:{icon:"task"}},{path:"registries",loadComponent:()=>Promise.all([w.e(6695),w.e(9466)]).then(w.bind(w,69466)).then(sn=>sn.RegistriesComponent),title:"Registries",data:{icon:"folder_shared"}},{path:"registries/:id",loadComponent:()=>Promise.all([w.e(6850),w.e(6695),w.e(6471),w.e(2076),w.e(5026)]).then(w.bind(w,65026)).then(sn=>sn.RegistryComponent),title:"Registry",data:{hide:!0,icon:"folder_shared"}},{path:"data/view/:id",loadComponent:()=>Promise.all([w.e(6850),w.e(3474)]).then(w.bind(w,53474)).then(sn=>sn.DataViewComponent),title:"Data View",data:{hide:!0,icon:"folder_shared"}},{path:"data",loadComponent:()=>Promise.all([w.e(6850),w.e(7358),w.e(9454),w.e(3287)]).then(w.bind(w,63287)).then(sn=>sn.DataComponent),title:"Data",data:{hide:!0,icon:"source"}},{path:"data/:source/:id",loadComponent:()=>Promise.all([w.e(2076),w.e(9533)]).then(w.bind(w,29533)).then(sn=>sn.DataEntryComponent),title:"Data Entry",data:{hide:!0,icon:"source"}},{path:"profile/:id",loadComponent:()=>Promise.all([w.e(6850),w.e(7413),w.e(888)]).then(w.bind(w,50888)).then(sn=>sn.ProfileComponent),title:"Profile",data:{hide:!0,icon:"account_circle"}},{path:"profile/:id/edit",loadComponent:()=>Promise.all([w.e(3475),w.e(7380)]).then(w.bind(w,37380)).then(sn=>sn.ProfileEditComponent),title:"Edit Profile",data:{hide:!0,icon:"account_circle"}},{path:"notifications",loadComponent:()=>w.e(2228).then(w.bind(w,92228)).then(sn=>sn.NotificationsComponent),title:"Notifications",data:{hide:!0,icon:"notifications"}},{path:"accounts",loadComponent:()=>Promise.all([w.e(6850),w.e(9454),w.e(6486)]).then(w.bind(w,96486)).then(sn=>sn.AccountsComponent),title:"Accounts",data:{hide:!0,icon:"account_circle"}},{path:"account/password",loadComponent:()=>w.e(8012).then(w.bind(w,88012)).then(sn=>sn.PasswordComponent),title:"Password",data:{hide:!0,icon:"account_circle"}},{path:"account/backup",loadComponent:()=>w.e(5962).then(w.bind(w,75962)).then(sn=>sn.BackupComponent),title:"Backup",data:{hide:!0,icon:"account_circle"}},{path:"account/create",loadComponent:()=>w.e(5806).then(w.bind(w,75806)).then(sn=>sn.CreateComponent),title:"Create Account",data:{hide:!0,icon:"account_circle"}},{path:"account/create/new",loadComponent:()=>w.e(9613).then(w.bind(w,29613)).then(sn=>sn.NewComponent),title:"Create new account",data:{hide:!0,icon:"account_circle"}},{path:"account/create/restore",loadComponent:()=>Promise.resolve().then(w.bind(w,33065)).then(sn=>sn.RestoreComponent),title:"Restore existing account",data:{hide:!0,icon:"account_circle"}},{path:"account/:id",loadComponent:()=>w.e(7880).then(w.bind(w,17880)).then(sn=>sn.AccountComponent),title:"Account",data:{hide:!0,icon:"account_circle"}},{path:"identity",loadComponent:()=>w.e(5854).then(w.bind(w,85854)).then(sn=>sn.IdentityComponent),title:"Identity",data:{hide:!0,icon:"account_circle"}},{path:"settings",loadComponent:()=>w.e(959).then(w.bind(w,60959)).then(sn=>sn.SettingsComponent),title:"Settings",data:{hide:!0,icon:"settings"}},{path:"settings/about",loadComponent:()=>w.e(5216).then(w.bind(w,85216)).then(sn=>sn.AboutComponent),title:"About",data:{hide:!0,icon:"settings"}},{path:"settings/licenses",loadComponent:()=>w.e(9727).then(w.bind(w,19727)).then(sn=>sn.LicensesComponent),title:"Licenses",data:{hide:!0,icon:"settings"}},{path:"settings/privacy",loadComponent:()=>w.e(9128).then(w.bind(w,99128)).then(sn=>sn.PrivacyComponent),title:"Privacy",data:{hide:!0,icon:"settings"}},{path:"settings/handler",loadComponent:()=>w.e(8552).then(w.bind(w,18552)).then(sn=>sn.HandlerComponent),title:"Protocol Handler",data:{hide:!0,icon:"search"}},{path:"tree",loadComponent:()=>Promise.all([w.e(7358),w.e(9238)]).then(w.bind(w,9238)).then(sn=>sn.TreeComponent),title:"Tree",data:{hide:!0,icon:"folder"}},{path:"drag-drop",loadComponent:()=>Promise.all([w.e(1391),w.e(7988)]).then(w.bind(w,77988)).then(sn=>sn.DragDropComponent),title:"Drag-Drop",data:{hide:!0,icon:"folder"}},{path:"help",loadComponent:()=>w.e(2492).then(w.bind(w,12492)).then(sn=>sn.HelpComponent),title:"Help",data:{hide:!0,icon:"help"}},{path:"storage",loadComponent:()=>Promise.all([w.e(5571),w.e(6471),w.e(7848)]).then(w.bind(w,17848)).then(sn=>sn.StorageComponent),title:"Storage",data:{icon:"cloud"}},{path:"management",loadComponent:()=>Promise.all([w.e(6850),w.e(8864)]).then(w.bind(w,48864)).then(sn=>sn.ManagementComponent),title:"Management",data:{hide:!0,icon:"manage_accounts"}}];let Fe=(()=>{class sn{constructor(Rt,on,pn,pr,wr){this.doc=Rt,this.delegate=on,this.zone=pn,this.animationType=pr,this.moduleImpl=wr,this._rendererFactoryPromise=null,this.scheduler=(0,E.WQX)(E.An2,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??w.e(8008).then(w.bind(w,68008)).then(on=>on)).catch(on=>{throw new E.wOt(5300,!1)}).then(({\u0275createEngine:on,\u0275AnimationRendererFactory:pn})=>{this._engine=on(this.animationType,this.doc);const pr=new pn(this.delegate,this._engine,this.zone);return this.delegate=pr,pr})}createRenderer(Rt,on){const pn=this.delegate.createRenderer(Rt,on);if(0===pn.\u0275type)return pn;"boolean"==typeof pn.throwOnSyntheticProps&&(pn.throwOnSyntheticProps=!1);const pr=new _t(pn);return on?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(wr=>{const Wr=wr.createRenderer(Rt,on);pr.use(Wr),this.scheduler?.notify(9)}).catch(wr=>{pr.use(pn)}),pr}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static#e=this.\u0275fac=function(on){E.QTQ()};static#t=this.\u0275prov=E.jDH({token:sn,factory:sn.\u0275fac})}return sn})();class _t{constructor(Xn){this.delegate=Xn,this.replay=[],this.\u0275type=1}use(Xn){if(this.delegate=Xn,null!==this.replay){for(const Rt of this.replay)Rt(Xn);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(Xn,Rt){return this.delegate.createElement(Xn,Rt)}createComment(Xn){return this.delegate.createComment(Xn)}createText(Xn){return this.delegate.createText(Xn)}get destroyNode(){return this.delegate.destroyNode}appendChild(Xn,Rt){this.delegate.appendChild(Xn,Rt)}insertBefore(Xn,Rt,on,pn){this.delegate.insertBefore(Xn,Rt,on,pn)}removeChild(Xn,Rt,on){this.delegate.removeChild(Xn,Rt,on)}selectRootElement(Xn,Rt){return this.delegate.selectRootElement(Xn,Rt)}parentNode(Xn){return this.delegate.parentNode(Xn)}nextSibling(Xn){return this.delegate.nextSibling(Xn)}setAttribute(Xn,Rt,on,pn){this.delegate.setAttribute(Xn,Rt,on,pn)}removeAttribute(Xn,Rt,on){this.delegate.removeAttribute(Xn,Rt,on)}addClass(Xn,Rt){this.delegate.addClass(Xn,Rt)}removeClass(Xn,Rt){this.delegate.removeClass(Xn,Rt)}setStyle(Xn,Rt,on,pn){this.delegate.setStyle(Xn,Rt,on,pn)}removeStyle(Xn,Rt,on){this.delegate.removeStyle(Xn,Rt,on)}setProperty(Xn,Rt,on){this.shouldReplay(Rt)&&this.replay.push(pn=>pn.setProperty(Xn,Rt,on)),this.delegate.setProperty(Xn,Rt,on)}setValue(Xn,Rt){this.delegate.setValue(Xn,Rt)}listen(Xn,Rt,on){return this.shouldReplay(Rt)&&this.replay.push(pn=>pn.listen(Xn,Rt,on)),this.delegate.listen(Xn,Rt,on)}shouldReplay(Xn){return null!==this.replay&&Xn.startsWith("@")}}var Le=w(59030),lt=w(18810),N=w(33726),_=w(7673),m=w(28793),U=w(21413),ne=w(71985),ge=w(85343);const Ae=new ne.c(ge.l);var Bt=w(57786),gt=w(96354),It=w(25558),Zt=w(30017),mn=w(98071),dn=w(58750),ar=w(39974);const en={connector:()=>new U.B};function Qt(sn,Xn=en){const{connector:Rt}=Xn;return(0,ar.N)((on,pn)=>{const pr=Rt();(0,dn.Tg)(sn(function An(sn){return new ne.c(Xn=>sn.subscribe(Xn))}(pr))).subscribe(pn),pn.add(on.subscribe(pr))})}var Ht=w(96697),qt=w(88141),hn=w(91986);const hr="Service workers are disabled or not supported by this browser";class St{constructor(Xn){if(this.serviceWorker=Xn,Xn){const on=(0,N.R)(Xn,"controllerchange").pipe((0,gt.T)(()=>Xn.controller)),pn=(0,Le.v)(()=>(0,_.of)(Xn.controller)),pr=(0,m.x)(pn,on);this.worker=pr.pipe((0,se.p)(qr=>!!qr)),this.registration=this.worker.pipe((0,It.n)(()=>Xn.getRegistration()));const Lo=(0,N.R)(Xn,"message").pipe((0,gt.T)(qr=>qr.data)).pipe((0,se.p)(qr=>qr&&qr.type)).pipe(function ft(sn){return sn?Xn=>Qt(sn)(Xn):Xn=>function Et(sn,Xn){const Rt=(0,mn.T)(sn)?sn:()=>sn;return(0,mn.T)(Xn)?Qt(Xn,{connector:Rt}):on=>new Zt.G(on,Rt)}(new U.B)(Xn)}());Lo.connect(),this.events=Lo}else this.worker=this.events=this.registration=function vt(sn){return(0,Le.v)(()=>(0,lt.$)(new Error(sn)))}(hr)}postMessage(Xn,Rt){return this.worker.pipe((0,Ht.s)(1),(0,qt.M)(on=>{on.postMessage({action:Xn,...Rt})})).toPromise().then(()=>{})}postMessageWithOperation(Xn,Rt,on){const pn=this.waitForOperationCompleted(on),pr=this.postMessage(Xn,Rt);return Promise.all([pr,pn]).then(([,wr])=>wr)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(Xn){let Rt;return Rt="string"==typeof Xn?on=>on.type===Xn:on=>Xn.includes(on.type),this.events.pipe((0,se.p)(Rt))}nextEventOfType(Xn){return this.eventsOfType(Xn).pipe((0,Ht.s)(1))}waitForOperationCompleted(Xn){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,se.p)(Rt=>Rt.nonce===Xn),(0,Ht.s)(1),(0,gt.T)(Rt=>{if(void 0!==Rt.result)return Rt.result;throw new Error(Rt.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Mt=(()=>{class sn{get isEnabled(){return this.sw.isEnabled}constructor(Rt){if(this.sw=Rt,this.pushManager=null,this.subscriptionChanges=new U.B,!Rt.isEnabled)return this.messages=Ae,this.notificationClicks=Ae,void(this.subscription=Ae);this.messages=this.sw.eventsOfType("PUSH").pipe((0,gt.T)(pn=>pn.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,gt.T)(pn=>pn.data)),this.pushManager=this.sw.registration.pipe((0,gt.T)(pn=>pn.pushManager));const on=this.pushManager.pipe((0,It.n)(pn=>pn.getSubscription()));this.subscription=(0,Bt.h)(on,this.subscriptionChanges)}requestSubscription(Rt){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(hr));const on={userVisibleOnly:!0};let pn=this.decodeBase64(Rt.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),pr=new Uint8Array(new ArrayBuffer(pn.length));for(let wr=0;wr<pn.length;wr++)pr[wr]=pn.charCodeAt(wr);return on.applicationServerKey=pr,this.pushManager.pipe((0,It.n)(wr=>wr.subscribe(on)),(0,Ht.s)(1)).toPromise().then(wr=>(this.subscriptionChanges.next(wr),wr))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Ht.s)(1),(0,It.n)(on=>{if(null===on)throw new Error("Not subscribed to push notifications.");return on.unsubscribe().then(pn=>{if(!pn)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(hr))}decodeBase64(Rt){return atob(Rt)}static#e=this.\u0275fac=function(on){return new(on||sn)(E.KVO(St))};static#t=this.\u0275prov=E.jDH({token:sn,factory:sn.\u0275fac})}return sn})(),Ye=(()=>{class sn{get isEnabled(){return this.sw.isEnabled}constructor(Rt){if(this.sw=Rt,!Rt.isEnabled)return this.versionUpdates=Ae,void(this.unrecoverable=Ae);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(hr));const Rt=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:Rt},Rt)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(hr));const Rt=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:Rt},Rt)}static#e=this.\u0275fac=function(on){return new(on||sn)(E.KVO(St))};static#t=this.\u0275prov=E.jDH({token:sn,factory:sn.\u0275fac})}return sn})();const nt=new E.nKC("");function Wt(sn,Xn,Rt,on){return()=>{if(!(0,F.UE)(on)||!("serviceWorker"in navigator)||!1===Rt.enabled)return;const pn=sn.get(E.SKi),pr=sn.get(E.o8S);let wr;if(pn.runOutsideAngular(()=>{const Wr=navigator.serviceWorker,to=()=>Wr.controller?.postMessage({action:"INITIALIZE"});Wr.addEventListener("controllerchange",to),pr.onDestroy(()=>{Wr.removeEventListener("controllerchange",to)})}),"function"==typeof Rt.registrationStrategy)wr=Rt.registrationStrategy();else{const[Wr,...to]=(Rt.registrationStrategy||"registerWhenStable:30000").split(":");switch(Wr){case"registerImmediately":wr=(0,_.of)(null);break;case"registerWithDelay":wr=Nt(+to[0]||0);break;case"registerWhenStable":wr=to[0]?(0,Bt.h)(un(sn),Nt(+to[0])):un(sn);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${Rt.registrationStrategy}`)}}pn.runOutsideAngular(()=>wr.pipe((0,Ht.s)(1)).subscribe(()=>navigator.serviceWorker.register(Xn,{scope:Rt.scope}).catch(Wr=>console.error("Service worker registration failed with:",Wr))))}}function Nt(sn){return(0,_.of)(null).pipe((0,hn.c)(sn))}function un(sn){return sn.get(E.o8S).isStable.pipe((0,se.p)(Rt=>Rt))}function Wn(sn,Xn){return new St((0,F.UE)(Xn)&&!1!==sn.enabled?navigator.serviceWorker:void 0)}class En{}const Fn={providers:[(0,w(21626).$R)(),(0,E.Jn2)({eventCoalescing:!0}),(0,k.lh)(Re,(0,k.Sn)(k.Kp)),function We(sn="animations"){return(0,E.ngT)("NgAsyncAnimations"),(0,E.EmA)([{provide:E._9s,useFactory:(Xn,Rt,on)=>new Fe(Xn,Rt,on,sn),deps:[F.qQ,d.B7,E.SKi]},{provide:E.bc$,useValue:"noop"===sn?"NoopAnimations":"BrowserAnimations"}])}(),function kn(sn,Xn={}){return(0,E.EmA)([Mt,Ye,{provide:nt,useValue:sn},{provide:En,useValue:Xn},{provide:St,useFactory:Wn,deps:[En,E.Agw]},{provide:E.hnV,useFactory:Wt,deps:[E.zZn,nt,En,E.Agw],multi:!0}])}("ngsw-worker.js",{enabled:!(0,E.naY)(),registrationStrategy:"registerWhenStable:30000"})]};var Lt=w(99327),et=w(67333),Te=w(86600),Ne=w(18617),xt=w(28203),nn=w(14085),In=w(67336),Kn=w(36860),er=w(73703),_r=w(56977),Tr=w(23294),Br=w(99172),jr=w(70152),Zr=w(49969);const tn=["*"],_n=["content"],Tn=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],jn=["mat-drawer","mat-drawer-content","*"];function fr(sn,Xn){if(1&sn){const Rt=E.RV6();E.j41(0,"div",1),E.bIt("click",function(){E.eBV(Rt);const pn=E.XpG();return E.Njj(pn._onBackdropClicked())}),E.k0s()}if(2&sn){const Rt=E.XpG();E.AVh("mat-drawer-shown",Rt._isShowingBackdrop())}}function Ar(sn,Xn){1&sn&&(E.j41(0,"mat-drawer-content"),E.SdG(1,2),E.k0s())}const Sr=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],zr=["mat-sidenav","mat-sidenav-content","*"];function Kr(sn,Xn){if(1&sn){const Rt=E.RV6();E.j41(0,"div",1),E.bIt("click",function(){E.eBV(Rt);const pn=E.XpG();return E.Njj(pn._onBackdropClicked())}),E.k0s()}if(2&sn){const Rt=E.XpG();E.AVh("mat-drawer-shown",Rt._isShowingBackdrop())}}function ii(sn,Xn){1&sn&&(E.j41(0,"mat-sidenav-content"),E.SdG(1,2),E.k0s())}const bi={transformDrawer:(0,Zr.hZ)("transform",[(0,Zr.wk)("open, open-instant",(0,Zr.iF)({transform:"none",visibility:"visible"})),(0,Zr.wk)("void",(0,Zr.iF)({"box-shadow":"none",visibility:"hidden"})),(0,Zr.kY)("void => open-instant",(0,Zr.i0)("0ms")),(0,Zr.kY)("void <=> open, open-instant => void",(0,Zr.i0)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Bo=new E.nKC("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Fi(){return!1}}),Ho=new E.nKC("MAT_DRAWER_CONTAINER");let fi=(()=>{class sn extends et.uv{constructor(Rt,on,pn,pr,wr){super(pn,pr,wr),this._changeDetectorRef=Rt,this._container=on}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(on){return new(on||sn)(E.rXU(E.gRc),E.rXU((0,E.Rfq)(()=>Aa)),E.rXU(E.aKT),E.rXU(et.R),E.rXU(E.SKi))};static#t=this.\u0275cmp=E.VBU({type:sn,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(on,pn){2&on&&E.xc7("margin-left",pn._container._contentMargins.left,"px")("margin-right",pn._container._contentMargins.right,"px")},standalone:!0,features:[E.Jv_([{provide:et.uv,useExisting:sn}]),E.Vt3,E.aNF],ngContentSelectors:tn,decls:1,vars:0,template:function(on,pn){1&on&&(E.NAR(),E.SdG(0))},encapsulation:2,changeDetection:0})}return sn})(),Ni=(()=>{class sn{get position(){return this._position}set position(Rt){(Rt="end"===Rt?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(Rt),this._position=Rt,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(Rt){this._mode=Rt,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(Rt){this._disableClose=(0,nn.he)(Rt)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(Rt){("true"===Rt||"false"===Rt||null==Rt)&&(Rt=(0,nn.he)(Rt)),this._autoFocus=Rt}get opened(){return this._opened}set opened(Rt){this.toggle((0,nn.he)(Rt))}constructor(Rt,on,pn,pr,wr,Wr,to,Lo){this._elementRef=Rt,this._focusTrapFactory=on,this._focusMonitor=pn,this._platform=pr,this._ngZone=wr,this._interactivityChecker=Wr,this._doc=to,this._container=Lo,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new U.B,this._animationEnd=new U.B,this._animationState="void",this.openedChange=new E.bkB(!0),this._openedStream=this.openedChange.pipe((0,se.p)(qr=>qr),(0,gt.T)(()=>{})),this.openedStart=this._animationStarted.pipe((0,se.p)(qr=>qr.fromState!==qr.toState&&0===qr.toState.indexOf("open")),(0,er.u)(void 0)),this._closedStream=this.openedChange.pipe((0,se.p)(qr=>!qr),(0,gt.T)(()=>{})),this.closedStart=this._animationStarted.pipe((0,se.p)(qr=>qr.fromState!==qr.toState&&"void"===qr.toState),(0,er.u)(void 0)),this._destroyed=new U.B,this.onPositionChanged=new E.bkB,this._modeChanged=new U.B,this._injector=(0,E.WQX)(E.zZn),this._changeDetectorRef=(0,E.WQX)(E.gRc),this.openedChange.pipe((0,_r.Q)(this._destroyed)).subscribe(qr=>{qr?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,N.R)(this._elementRef.nativeElement,"keydown").pipe((0,se.p)(qr=>qr.keyCode===In._f&&!this.disableClose&&!(0,In.rp)(qr)),(0,_r.Q)(this._destroyed)).subscribe(qr=>this._ngZone.run(()=>{this.close(),qr.stopPropagation(),qr.preventDefault()}))}),this._animationEnd.pipe((0,Tr.F)((qr,Pa)=>qr.fromState===Pa.fromState&&qr.toState===Pa.toState)).subscribe(qr=>{const{fromState:Pa,toState:So}=qr;(0===So.indexOf("open")&&"void"===Pa||"void"===So&&0===Pa.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(Rt,on){this._interactivityChecker.isFocusable(Rt)||(Rt.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const pn=()=>{Rt.removeEventListener("blur",pn),Rt.removeEventListener("mousedown",pn),Rt.removeAttribute("tabindex")};Rt.addEventListener("blur",pn),Rt.addEventListener("mousedown",pn)})),Rt.focus(on)}_focusByCssSelector(Rt,on){let pn=this._elementRef.nativeElement.querySelector(Rt);pn&&this._forceFocus(pn,on)}_takeFocus(){if(!this._focusTrap)return;const Rt=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":(0,E.mal)(()=>{!this._focusTrap.focusInitialElement()&&"function"==typeof Rt.focus&&Rt.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(Rt){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,Rt):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const Rt=this._doc.activeElement;return!!Rt&&this._elementRef.nativeElement.contains(Rt)}ngAfterViewInit(){this._isAttached=!0,"end"===this._position&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(Rt){return this.toggle(!0,Rt)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(Rt=!this.opened,on){Rt&&on&&(this._openedVia=on);const pn=this._setOpen(Rt,!Rt&&this._isFocusWithinDrawer(),this._openedVia||"program");return Rt||(this._openedVia=null),pn}_setOpen(Rt,on,pn){return this._opened=Rt,Rt?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",on&&this._restoreFocus(pn)),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(pr=>{this.openedChange.pipe((0,Ht.s)(1)).subscribe(wr=>pr(wr?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(Rt){if(!this._platform.isBrowser)return;const on=this._elementRef.nativeElement,pn=on.parentNode;"end"===Rt?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),pn.insertBefore(this._anchor,on)),pn.appendChild(on)):this._anchor&&this._anchor.parentNode.insertBefore(on,this._anchor)}static#e=this.\u0275fac=function(on){return new(on||sn)(E.rXU(E.aKT),E.rXU(Ne.GX),E.rXU(Ne.FN),E.rXU(Kn.OD),E.rXU(E.SKi),E.rXU(Ne.Z7),E.rXU(F.qQ,8),E.rXU(Ho,8))};static#t=this.\u0275cmp=E.VBU({type:sn,selectors:[["mat-drawer"]],viewQuery:function(on,pn){if(1&on&&E.GBs(_n,5),2&on){let pr;E.mGM(pr=E.lsd())&&(pn._content=pr.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(on,pn){1&on&&E.Kam("@transform.start",function(wr){return pn._animationStarted.next(wr)})("@transform.done",function(wr){return pn._animationEnd.next(wr)}),2&on&&(E.zvX("@transform",pn._animationState),E.BMQ("align",null),E.AVh("mat-drawer-end","end"===pn.position)("mat-drawer-over","over"===pn.mode)("mat-drawer-push","push"===pn.mode)("mat-drawer-side","side"===pn.mode)("mat-drawer-opened",pn.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[E.aNF],ngContentSelectors:tn,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(on,pn){1&on&&(E.NAR(),E.j41(0,"div",1,0),E.SdG(2),E.k0s())},dependencies:[et.uv],encapsulation:2,data:{animation:[bi.transformDrawer]},changeDetection:0})}return sn})(),Aa=(()=>{class sn{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(Rt){this._autosize=(0,nn.he)(Rt)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(Rt){this._backdropOverride=null==Rt?null:(0,nn.he)(Rt)}get scrollable(){return this._userContent||this._content}constructor(Rt,on,pn,pr,wr,Wr=!1,to){this._dir=Rt,this._element=on,this._ngZone=pn,this._changeDetectorRef=pr,this._animationMode=to,this._drawers=new E.rOR,this.backdropClick=new E.bkB,this._destroyed=new U.B,this._doCheckSubject=new U.B,this._contentMargins={left:null,right:null},this._contentMarginChanges=new U.B,this._injector=(0,E.WQX)(E.zZn),Rt&&Rt.change.pipe((0,_r.Q)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),wr.change().pipe((0,_r.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=Wr}ngAfterContentInit(){this._allDrawers.changes.pipe((0,Br.Z)(this._allDrawers),(0,_r.Q)(this._destroyed)).subscribe(Rt=>{this._drawers.reset(Rt.filter(on=>!on._container||on._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,Br.Z)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(Rt=>{this._watchDrawerToggle(Rt),this._watchDrawerPosition(Rt),this._watchDrawerMode(Rt)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,jr.B)(10),(0,_r.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(Rt=>Rt.open())}close(){this._drawers.forEach(Rt=>Rt.close())}updateContentMargins(){let Rt=0,on=0;if(this._left&&this._left.opened)if("side"==this._left.mode)Rt+=this._left._getWidth();else if("push"==this._left.mode){const pn=this._left._getWidth();Rt+=pn,on-=pn}if(this._right&&this._right.opened)if("side"==this._right.mode)on+=this._right._getWidth();else if("push"==this._right.mode){const pn=this._right._getWidth();on+=pn,Rt-=pn}Rt=Rt||null,on=on||null,(Rt!==this._contentMargins.left||on!==this._contentMargins.right)&&(this._contentMargins={left:Rt,right:on},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(Rt){Rt._animationStarted.pipe((0,se.p)(on=>on.fromState!==on.toState),(0,_r.Q)(this._drawers.changes)).subscribe(on=>{"open-instant"!==on.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==Rt.mode&&Rt.openedChange.pipe((0,_r.Q)(this._drawers.changes)).subscribe(()=>this._setContainerClass(Rt.opened))}_watchDrawerPosition(Rt){Rt&&Rt.onPositionChanged.pipe((0,_r.Q)(this._drawers.changes)).subscribe(()=>{(0,E.mal)(()=>{this._validateDrawers()},{injector:this._injector,phase:E.wjH.Read})})}_watchDrawerMode(Rt){Rt&&Rt._modeChanged.pipe((0,_r.Q)((0,Bt.h)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(Rt){const on=this._element.nativeElement.classList,pn="mat-drawer-container-has-open";Rt?on.add(pn):on.remove(pn)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(Rt=>{"end"==Rt.position?this._end=Rt:this._start=Rt}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(Rt=>Rt&&!Rt.disableClose&&this._drawerHasBackdrop(Rt)).forEach(Rt=>Rt._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(Rt){return null!=Rt&&Rt.opened}_drawerHasBackdrop(Rt){return null==this._backdropOverride?!!Rt&&"side"!==Rt.mode:this._backdropOverride}static#e=this.\u0275fac=function(on){return new(on||sn)(E.rXU(xt.dS,8),E.rXU(E.aKT),E.rXU(E.SKi),E.rXU(E.gRc),E.rXU(et.Xj),E.rXU(Bo),E.rXU(E.bc$,8))};static#t=this.\u0275cmp=E.VBU({type:sn,selectors:[["mat-drawer-container"]],contentQueries:function(on,pn,pr){if(1&on&&(E.wni(pr,fi,5),E.wni(pr,Ni,5)),2&on){let wr;E.mGM(wr=E.lsd())&&(pn._content=wr.first),E.mGM(wr=E.lsd())&&(pn._allDrawers=wr)}},viewQuery:function(on,pn){if(1&on&&E.GBs(fi,5),2&on){let pr;E.mGM(pr=E.lsd())&&(pn._userContent=pr.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(on,pn){2&on&&E.AVh("mat-drawer-container-explicit-backdrop",pn._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[E.Jv_([{provide:Ho,useExisting:sn}]),E.aNF],ngContentSelectors:jn,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(on,pn){1&on&&(E.NAR(Tn),E.DNE(0,fr,1,2,"div",0),E.SdG(1),E.SdG(2,1),E.DNE(3,Ar,2,0,"mat-drawer-content")),2&on&&(E.vxM(pn.hasBackdrop?0:-1),E.R7$(3),E.vxM(pn._content?-1:3))},dependencies:[fi],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return sn})(),_i=(()=>{class sn extends fi{constructor(Rt,on,pn,pr,wr){super(Rt,on,pn,pr,wr)}static#e=this.\u0275fac=function(on){return new(on||sn)(E.rXU(E.gRc),E.rXU((0,E.Rfq)(()=>Us)),E.rXU(E.aKT),E.rXU(et.R),E.rXU(E.SKi))};static#t=this.\u0275cmp=E.VBU({type:sn,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(on,pn){2&on&&E.xc7("margin-left",pn._container._contentMargins.left,"px")("margin-right",pn._container._contentMargins.right,"px")},standalone:!0,features:[E.Jv_([{provide:et.uv,useExisting:sn}]),E.Vt3,E.aNF],ngContentSelectors:tn,decls:1,vars:0,template:function(on,pn){1&on&&(E.NAR(),E.SdG(0))},encapsulation:2,changeDetection:0})}return sn})(),is=(()=>{class sn extends Ni{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(Rt){this._fixedInViewport=(0,nn.he)(Rt)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(Rt){this._fixedTopGap=(0,nn.OE)(Rt)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(Rt){this._fixedBottomGap=(0,nn.OE)(Rt)}static#e=this.\u0275fac=(()=>{let Rt;return function(pn){return(Rt||(Rt=E.xGo(sn)))(pn||sn)}})();static#t=this.\u0275cmp=E.VBU({type:sn,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(on,pn){2&on&&(E.BMQ("align",null),E.xc7("top",pn.fixedInViewport?pn.fixedTopGap:null,"px")("bottom",pn.fixedInViewport?pn.fixedBottomGap:null,"px"),E.AVh("mat-drawer-end","end"===pn.position)("mat-drawer-over","over"===pn.mode)("mat-drawer-push","push"===pn.mode)("mat-drawer-side","side"===pn.mode)("mat-drawer-opened",pn.opened)("mat-sidenav-fixed",pn.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],standalone:!0,features:[E.Vt3,E.aNF],ngContentSelectors:tn,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(on,pn){1&on&&(E.NAR(),E.j41(0,"div",1,0),E.SdG(2),E.k0s())},dependencies:[et.uv],encapsulation:2,data:{animation:[bi.transformDrawer]},changeDetection:0})}return sn})(),Us=(()=>{class sn extends Aa{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#e=this.\u0275fac=(()=>{let Rt;return function(pn){return(Rt||(Rt=E.xGo(sn)))(pn||sn)}})();static#t=this.\u0275cmp=E.VBU({type:sn,selectors:[["mat-sidenav-container"]],contentQueries:function(on,pn,pr){if(1&on&&(E.wni(pr,_i,5),E.wni(pr,is,5)),2&on){let wr;E.mGM(wr=E.lsd())&&(pn._content=wr.first),E.mGM(wr=E.lsd())&&(pn._allDrawers=wr)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(on,pn){2&on&&E.AVh("mat-drawer-container-explicit-backdrop",pn._backdropOverride)},exportAs:["matSidenavContainer"],standalone:!0,features:[E.Jv_([{provide:Ho,useExisting:sn}]),E.Vt3,E.aNF],ngContentSelectors:zr,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(on,pn){1&on&&(E.NAR(Sr),E.DNE(0,Kr,1,2,"div",0),E.SdG(1),E.SdG(2,1),E.DNE(3,ii,2,0,"mat-sidenav-content")),2&on&&(E.vxM(pn.hasBackdrop?0:-1),E.R7$(3),E.vxM(pn._content?-1:3))},dependencies:[_i],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return sn})(),Co=(()=>{class sn{static#e=this.\u0275fac=function(on){return new(on||sn)};static#t=this.\u0275mod=E.$C({type:sn});static#n=this.\u0275inj=E.G2t({imports:[Te.yE,et.Gj,et.Gj,Te.yE]})}return sn})();var Ki=w(44668),ps=w(43794),da=w(40605);let Ra=(()=>{class sn{constructor(Rt,on){this.swUpdate=Rt,this.zone=on,this.isNewVersionAvailable=!1,this.intervalSource=(0,da.Y)(9e5),this.checkForUpdateOnInterval(),this.checkForUpdateOnLoad()}applyUpdate(){this.swUpdate.activateUpdate().then(()=>document.location.reload()).catch(Rt=>console.error("Failed to apply updates:",Rt))}checkForUpdateOnInterval(){var Rt=this;this.intervalSubscription?.unsubscribe(),this.swUpdate.isEnabled&&this.zone.runOutsideAngular(()=>{this.intervalSubscription=this.intervalSource.subscribe((0,z.A)(function*(){if(Rt.isNewVersionAvailable)yield Rt.swUpdate.checkForUpdate();else try{Rt.isNewVersionAvailable=yield Rt.swUpdate.checkForUpdate(),console.log(Rt.isNewVersionAvailable?"A new version is available.":"Already on the latest version.")}catch(on){console.error("Failed to check for updates:",on)}}))})}checkForUpdateOnLoad(){this.newVersionSubscription?.unsubscribe(),this.swUpdate.isEnabled?(this.newVersionSubscription=this.swUpdate.versionUpdates.subscribe(Rt=>{switch(console.log("New version update event:"),console.log(Rt),Rt.type){case"VERSION_DETECTED":console.log(`Downloading new app version: ${Rt.version.hash}`);break;case"VERSION_READY":console.log(`Current app version: ${Rt.currentVersion.hash}`),console.log(`New app version ready for use: ${Rt.latestVersion.hash}`),this.isNewVersionAvailable=!0;break;case"VERSION_INSTALLATION_FAILED":console.log(`Failed to install app version '${Rt.version.hash}': ${Rt.error}`)}}),console.log("Subscribed to new version updates.")):console.log("Service worker updates are disabled for this app.")}static#e=this.\u0275fac=function(on){return new(on||sn)(E.KVO(Ye),E.KVO(E.SKi))};static#t=this.\u0275prov=E.jDH({token:sn,factory:sn.\u0275fac,providedIn:"root"})}return sn})();var cl=w(33347),Ga=w(39434),Mu=w(78013),Au=w(71997);const ua=["*"],Qd=sn=>({"sidenav-collapsed":sn}),gf=()=>["/settings"],ll=sn=>["/profile",sn],eu=()=>["/help"],ya=()=>["/accounts"],Oa=()=>["/account","did:dht:umj7apgmkodtrb7mdpjo4h7xinqdnatzgy38j7wi67k9c7sdns1o"],Ta=()=>["/account/create"];function Nl(sn,Xn){1&sn&&E.nrm(0,"img",12)}function dl(sn,Xn){if(1&sn&&E.EFF(0),2&sn){const Rt=E.XpG().$implicit;E.SpI(" ",Rt.title," ")}}function pc(sn,Xn){if(1&sn&&(E.j41(0,"a",13,6)(2,"mat-icon",15),E.EFF(3),E.k0s(),E.DNE(4,dl,1,1),E.k0s()),2&sn){const Rt=Xn.$implicit,on=E.sdS(1),pn=E.XpG();E.Y8G("routerLink",Rt.path)("activated",on.isActive),E.R7$(3),E.JRh(Rt.data.icon),E.R7$(),E.vxM(pn.collapsed()?-1:4)}}function Fs(sn,Xn){1&sn&&(E.j41(0,"mat-icon",15),E.EFF(1,"chevron_right"),E.k0s())}function Ec(sn,Xn){1&sn&&(E.j41(0,"mat-icon",15),E.EFF(1,"chevron_left"),E.k0s())}function Js(sn,Xn){if(1&sn){const Rt=E.RV6();E.j41(0,"button",32),E.bIt("click",function(){E.eBV(Rt),E.XpG();const pn=E.sdS(2);return E.Njj(pn.toggle())}),E.j41(1,"mat-icon",33),E.EFF(2,"menu"),E.k0s()()}}function ga(sn,Xn){if(1&sn){const Rt=E.RV6();E.j41(0,"button",34),E.bIt("click",function(){E.eBV(Rt);const pn=E.XpG();return E.Njj(pn.navigateBack())}),E.j41(1,"mat-icon"),E.EFF(2,"arrow_back"),E.k0s()()}}function ul(sn,Xn){if(1&sn){const Rt=E.RV6();E.j41(0,"button",35),E.bIt("click",function(){const pn=E.eBV(Rt).$implicit;return E.Njj(pn.action())}),E.j41(1,"mat-icon"),E.EFF(2),E.k0s()()}if(2&sn){const Rt=Xn.$implicit;E.Y8G("title",Rt.name),E.R7$(2),E.JRh(Rt.icon)}}function mc(sn,Xn){if(1&sn){const Rt=E.RV6();E.j41(0,"button",36),E.bIt("click",function(){E.eBV(Rt);const pn=E.XpG();return E.Njj(pn.applyUpdate())}),E.j41(1,"mat-icon"),E.EFF(2,"get_app"),E.k0s()()}}let lo=(()=>{class sn{constructor(){this.breakpointObserver=(0,E.WQX)(Lt.QP),this.storage=(0,E.WQX)(ps.n),this.identity=(0,E.WQX)(A.K),this.updateService=(0,E.WQX)(Ra),this.profileService=(0,E.WQX)(Ga.p),this.layout=(0,E.WQX)(O.Y),this.navigation=(0,E.WQX)(De.o),this.rootRoutes=Re.filter(Rt=>Rt.path).filter(Rt=>Rt.data&&1!=Rt.data.hide),this.isHandset$=this.breakpointObserver.observe("(max-width: 700px)").pipe((0,gt.T)(Rt=>Rt.matches),(0,Ki.t)()),this.collapsed=(0,E.vPA)(!1)}wipe(){var Rt=this;return(0,z.A)(function*(){Rt.storage.clear(),console.log("Local storage data has been wiped!"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DID_RESOLVERCACHE"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_DATASTORE"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_EVENTLOG"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_MESSAGEINDEX"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_MESSAGESTORE"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/VAULT_STORE"),console.log("Data has been wiped!"),window.location.reload()})()}applyUpdate(){this.updateService.applyUpdate()}lock(){this.identity.lock()}navigateBack(){this.navigation.back()}collapseToggle(){this.collapsed.set(!this.collapsed())}static#e=this.\u0275fac=function(on){return new(on||sn)};static#t=this.\u0275cmp=E.VBU({type:sn,selectors:[["app-layout"]],standalone:!0,features:[E.aNF],ngContentSelectors:ua,decls:158,vars:51,consts:[["drawer",""],["menuDebug","matMenu"],["menuNotifications","matMenu"],["menu","matMenu"],["menuAccounts","matMenu"],["menuLanguages","matMenu"],["link","routerLinkActive"],["autosize","",1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"ngClass","mode","opened"],["src","ariton-icon-dark.svg",1,"toolbar-logo"],[1,"toolbar-text"],["srcset","ariton-text-light.svg","media","(prefers-color-scheme: dark)"],["src","ariton-text-dark.svg"],["mat-list-item","","routerLinkActive","",3,"routerLink","activated"],[3,"click"],["matListItemIcon",""],["type","button","aria-label","Toggle sidenav","mat-icon-button",""],["mat-icon-button",""],["mat-icon-button","",3,"title"],[1,"toolbar-spacer"],[1,"toolbar-items"],["matTooltip","Update available. Click to update now.","mat-icon-button",""],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"routerLink"],["mat-menu-item",""],[1,"account-menu-profile"],["onerror","this.src='/avatar-placeholder.png';this.onerror='';",1,"account-menu-profile-icon",3,"src"],["mat-menu-item","",1,"account-menu-item",3,"routerLink"],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"sidenav-scroll-wrapper"],[1,"sidenav-content"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"],["mat-icon-button","",3,"click"],["mat-icon-button","",3,"click","title"],["matTooltip","Update available. Click to update now.","mat-icon-button","",3,"click"]],template:function(on,pn){if(1&on){const pr=E.RV6();E.NAR(),E.j41(0,"mat-sidenav-container",7)(1,"mat-sidenav",8,0),E.nI1(3,"async"),E.nI1(4,"async"),E.nI1(5,"async"),E.j41(6,"mat-toolbar"),E.nrm(7,"img",9),E.j41(8,"picture",10),E.nrm(9,"source",11),E.DNE(10,Nl,1,0,"img",12),E.k0s()(),E.j41(11,"mat-nav-list"),E.Z7z(12,pc,5,4,"a",13,E.Vm6),E.j41(14,"mat-list-item",14),E.bIt("click",function(){return E.eBV(pr),E.Njj(pn.collapseToggle())}),E.DNE(15,Fs,2,0,"mat-icon",15)(16,Ec,2,0,"mat-icon",15),E.k0s()()(),E.j41(17,"mat-sidenav-content")(18,"mat-toolbar"),E.DNE(19,Js,3,0,"button",16),E.nI1(20,"async"),E.DNE(21,ga,3,0,"button",17),E.Z7z(22,ul,3,2,"button",18,E.fX1),E.nrm(24,"span",19),E.j41(25,"span",20),E.DNE(26,mc,3,0,"button",21),E.j41(27,"button",22)(28,"mat-icon"),E.EFF(29,"warning"),E.k0s()(),E.j41(30,"mat-menu",null,1)(32,"button",23),E.bIt("click",function(){return E.eBV(pr),E.Njj(pn.wipe())}),E.j41(33,"mat-icon"),E.EFF(34,"settings"),E.k0s(),E.j41(35,"span"),E.EFF(36,"Reset All Data (Wipe)"),E.k0s()()(),E.j41(37,"button",22)(38,"mat-icon"),E.EFF(39,"notifications"),E.k0s()(),E.j41(40,"mat-menu",null,2)(42,"button",24)(43,"mat-icon"),E.EFF(44,"settings"),E.k0s(),E.j41(45,"span"),E.EFF(46,"Notification Settings"),E.k0s()(),E.nrm(47,"mat-divider"),E.j41(48,"button",25)(49,"mat-icon"),E.EFF(50,"forum"),E.k0s(),E.j41(51,"span"),E.EFF(52,"Knitting Community posted new pattern"),E.k0s()(),E.j41(53,"button",25)(54,"mat-icon"),E.EFF(55,"face"),E.k0s(),E.j41(56,"span"),E.EFF(57,"Joe sent you a message"),E.k0s()(),E.j41(58,"button",25)(59,"mat-icon"),E.EFF(60,"key"),E.k0s(),E.j41(61,"span"),E.EFF(62,"New security request"),E.k0s()(),E.j41(63,"button",25)(64,"mat-icon"),E.EFF(65,"verified_user"),E.k0s(),E.j41(66,"span"),E.EFF(67,"Social account recovery request"),E.k0s()()(),E.j41(68,"button",22)(69,"mat-icon"),E.EFF(70,"account_circle"),E.k0s()(),E.j41(71,"mat-menu",null,3)(73,"div",26),E.nrm(74,"img",27),E.nI1(75,"safeResourceUrl"),E.j41(76,"div")(77,"h2"),E.EFF(78),E.k0s(),E.EFF(79),E.nrm(80,"br"),E.EFF(81),E.nI1(82,"did"),E.nrm(83,"br"),E.k0s()(),E.j41(84,"button",28)(85,"mat-icon"),E.EFF(86,"account_circle"),E.k0s(),E.j41(87,"span"),E.EFF(88,"View Profile"),E.k0s()(),E.nrm(89,"mat-divider"),E.j41(90,"button",29)(91,"mat-icon"),E.EFF(92,"switch_account"),E.k0s(),E.j41(93,"span"),E.EFF(94,"Accounts"),E.k0s()(),E.j41(95,"button",23),E.bIt("click",function(){return E.eBV(pr),E.Njj(pn.lock())}),E.j41(96,"mat-icon"),E.EFF(97,"lock"),E.k0s(),E.j41(98,"span"),E.EFF(99,"Lock account"),E.k0s()(),E.nrm(100,"mat-divider"),E.j41(101,"button",29)(102,"mat-icon"),E.EFF(103,"translate"),E.k0s(),E.j41(104,"span"),E.EFF(105,"Language: English"),E.k0s()(),E.nrm(106,"mat-divider"),E.j41(107,"button",24)(108,"mat-icon"),E.EFF(109,"settings"),E.k0s(),E.j41(110,"span"),E.EFF(111,"Settings"),E.k0s()(),E.nrm(112,"mat-divider"),E.j41(113,"button",24)(114,"mat-icon"),E.EFF(115,"help"),E.k0s(),E.j41(116,"span"),E.EFF(117,"Help"),E.k0s()()(),E.j41(118,"mat-menu",null,4)(120,"button",24)(121,"mat-icon"),E.EFF(122,"manage_accounts"),E.k0s(),E.j41(123,"span"),E.EFF(124,"Manage Accounts"),E.k0s()(),E.nrm(125,"mat-divider"),E.j41(126,"button",24)(127,"mat-icon"),E.EFF(128,"account_circle"),E.k0s(),E.j41(129,"span"),E.EFF(130,"Account 1"),E.k0s()(),E.j41(131,"button",24)(132,"mat-icon"),E.EFF(133,"account_circle"),E.k0s(),E.j41(134,"span"),E.EFF(135,"Account 2"),E.k0s()(),E.j41(136,"button",24)(137,"mat-icon"),E.EFF(138,"account_circle"),E.k0s(),E.j41(139,"span"),E.EFF(140,"Account 3"),E.k0s()(),E.nrm(141,"mat-divider"),E.j41(142,"button",24)(143,"mat-icon"),E.EFF(144,"person_add"),E.k0s(),E.j41(145,"span"),E.EFF(146,"Add account"),E.k0s()()(),E.j41(147,"mat-menu",null,5)(149,"button",25)(150,"span"),E.EFF(151,"English"),E.k0s()(),E.j41(152,"button",25)(153,"span"),E.EFF(154,"Norwegian"),E.k0s()()()()(),E.j41(155,"div",30)(156,"div",31),E.SdG(157),E.k0s()()()()}if(2&on){const pr=E.sdS(31),wr=E.sdS(41),Wr=E.sdS(72),to=E.sdS(119),Lo=E.sdS(148);E.R7$(),E.Y8G("ngClass",E.eq3(39,Qd,pn.collapsed()))("mode",E.bMT(3,27,pn.isHandset$)?"over":"side")("opened",!1===E.bMT(4,29,pn.isHandset$)),E.BMQ("role",E.bMT(5,31,pn.isHandset$)?"dialog":"navigation"),E.R7$(9),E.vxM(pn.collapsed()?-1:10),E.R7$(2),E.Dyx(pn.rootRoutes),E.R7$(3),E.vxM(pn.collapsed()?15:16),E.R7$(4),E.vxM(E.bMT(20,33,pn.isHandset$)?19:-1),E.R7$(2),E.vxM(pn.layout.navigation()?21:-1),E.R7$(),E.Dyx(pn.layout.actions()),E.R7$(4),E.vxM(pn.updateService.isNewVersionAvailable?26:-1),E.R7$(),E.Y8G("matMenuTriggerFor",pr),E.R7$(10),E.Y8G("matMenuTriggerFor",wr),E.R7$(5),E.Y8G("routerLink",E.lJ4(41,gf)),E.R7$(26),E.Y8G("matMenuTriggerFor",Wr),E.R7$(6),E.Y8G("src",E.bMT(75,35,pn.profileService.avatar()),E.B4B),E.R7$(4),E.JRh(pn.profileService.current().name),E.R7$(),E.SpI(" @",pn.profileService.current().title,""),E.R7$(2),E.SpI(" ",E.bMT(82,37,pn.identity.did),""),E.R7$(3),E.Y8G("routerLink",E.eq3(42,ll,pn.identity.did)),E.R7$(6),E.Y8G("matMenuTriggerFor",to),E.R7$(11),E.Y8G("matMenuTriggerFor",Lo),E.R7$(6),E.Y8G("routerLink",E.lJ4(44,gf)),E.R7$(6),E.Y8G("routerLink",E.lJ4(45,eu)),E.R7$(7),E.Y8G("routerLink",E.lJ4(46,ya)),E.R7$(6),E.Y8G("routerLink",E.lJ4(47,Oa)),E.R7$(5),E.Y8G("routerLink",E.lJ4(48,Oa)),E.R7$(5),E.Y8G("routerLink",E.lJ4(49,Oa)),E.R7$(6),E.Y8G("routerLink",E.lJ4(50,Ta))}},dependencies:[F.MD,F.YU,F.Jj,Mu.d,ye.s5,ye.KQ,D.Hl,D.iY,Co,is,Us,_i,ie.Fg,ie._L,ie.YE,ie.ZV,Au.q,j.m_,j.An,re.Cn,re.kk,re.fb,re.Cp,k.Wk,k.wQ,te.uc,te.oV,cl.k],styles:[".toolbar-logo[_ngcontent-%COMP%]{max-height:54px}.account-menu-profile[_ngcontent-%COMP%]{color:var(--mat-menu-item-label-text-color);display:flex;gap:8px;margin:8px;align-items:center}.account-menu-profile[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;padding:0}.account-menu-profile-icon[_ngcontent-%COMP%]{width:64px;border-radius:50%}.account-menu-profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-grow:2}.toolbar-text[_ngcontent-%COMP%]{margin-left:.3em;margin-top:.5em;width:100px;height:32px}.sidenav-container[_ngcontent-%COMP%]{height:100%}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}mat-sidenav-content[_ngcontent-%COMP%]{padding-right:16px}.sidenav-scroll-wrapper[_ngcontent-%COMP%]{height:calc(100dvh - 80px);overflow:auto;border-radius:16px;box-sizing:border-box}.sidenav-content[_ngcontent-%COMP%]{max-height:100%;overflow-y:auto;padding:16px;box-sizing:border-box}.column-content[_ngcontent-%COMP%]{overflow-y:scroll;box-sizing:border-box}.sidenav[_ngcontent-%COMP%]{width:240px;padding:0 8px;box-sizing:border-box}.sidenav-collapsed[_ngcontent-%COMP%]{width:72px}@media (max-width: 959.98px){mat-sidenav-content[_ngcontent-%COMP%]{padding-right:8px;padding-left:8px}.sidenav-scroll-wrapper[_ngcontent-%COMP%]{height:calc(100dvh - 64px)}.sidenav-content[_ngcontent-%COMP%]{padding:8px}}"]})}return sn})();var Qi=w(9183);function Eo(sn,Xn){1&sn&&E.nrm(0,"mat-spinner",4)}function dd(sn,Xn){1&sn&&(E.j41(0,"span"),E.EFF(1,"Unlock"),E.k0s())}function Od(sn,Xn){1&sn&&(E.j41(0,"mat-error"),E.EFF(1,"Password is "),E.j41(2,"strong"),E.EFF(3,"invalid"),E.k0s()())}let ds=(()=>{class sn{constructor(Rt){this.identityService=Rt,this.passwordInput=new L.MJ("",L.k0.required),this.unlocking=(0,E.vPA)(!1),this.invalidPassword=(0,E.vPA)(!1)}onSubmit(){var Rt=this;return(0,z.A)(function*(){Rt.unlocking.set(!0),(yield Rt.identityService.unlock(Rt.passwordInput.value))?(console.log("Vault unlocked"),Rt.invalidPassword.set(!1)):(console.log("Failed to unlock vault"),Rt.invalidPassword.set(!0)),Rt.unlocking.set(!1)})()}static#e=this.\u0275fac=function(on){return new(on||sn)(E.rXU(A.K))};static#t=this.\u0275cmp=E.VBU({type:sn,selectors:[["app-unlock"]],standalone:!0,features:[E.aNF],decls:18,vars:4,consts:[["src","ariton-icon-dark.svg",1,"unlock-logo"],[3,"ngSubmit"],["matInput","","type","password",3,"formControl"],["mat-flat-button","","type","submit","color","primary",3,"disabled"],["diameter","20"]],template:function(on,pn){1&on&&(E.nrm(0,"img",0),E.j41(1,"h1"),E.EFF(2,"Unlock your account"),E.k0s(),E.j41(3,"p"),E.EFF(4,"You have configured your Ariton account with a secure personal password."),E.nrm(5,"br"),E.EFF(6,"Enter password to unlock your account."),E.k0s(),E.j41(7,"form",1),E.bIt("ngSubmit",function(){return pn.onSubmit()}),E.j41(8,"mat-form-field")(9,"mat-label"),E.EFF(10,"Enter your password"),E.k0s(),E.nrm(11,"input",2),E.k0s(),E.EFF(12," \xa0 "),E.j41(13,"button",3),E.DNE(14,Eo,1,0,"mat-spinner",4)(15,dd,2,0,"span"),E.k0s(),E.j41(16,"p"),E.DNE(17,Od,4,0,"mat-error"),E.k0s()()),2&on&&(E.R7$(11),E.Y8G("formControl",pn.passwordInput),E.R7$(2),E.Y8G("disabled",!(pn.passwordInput.valid&&!pn.unlocking())),E.R7$(),E.vxM(pn.unlocking()?14:15),E.R7$(3),E.vxM(pn.invalidPassword()?17:-1))},dependencies:[L.YN,L.qT,L.me,L.BC,L.cb,L.cV,Qi.D6,Qi.LG,L.X1,L.l_,J.RG,J.rl,J.nJ,J.TL,G.fS,G.fg,D.Hl,D.$z,j.m_],styles:["button[_ngcontent-%COMP%]{width:100px}.unlock-logo[_ngcontent-%COMP%]{max-width:200px}"]})}return sn})();var xc=w(33065),Gc=w(1005);function tu(sn,Xn){1&sn&&(E.j41(0,"p"),E.EFF(1,"Initializing Ariton..."),E.k0s())}function Ll(sn,Xn){if(1&sn){const Rt=E.RV6();E.j41(0,"button",7),E.bIt("click",function(){E.eBV(Rt);const pn=E.XpG(3);return E.Njj(pn.back())}),E.EFF(1,"Back"),E.k0s()}if(2&sn){const Rt=E.XpG(3);E.Y8G("disabled",Rt.appService.loading())}}function ic(sn,Xn){if(1&sn){const Rt=E.RV6();E.j41(0,"button",8),E.bIt("click",function(){E.eBV(Rt);const pn=E.XpG(3);return E.Njj(pn.createAccount())}),E.EFF(1,"Create a new account"),E.k0s(),E.j41(2,"button",7),E.bIt("click",function(){E.eBV(Rt);const pn=E.XpG(3);return E.Njj(pn.restoreAccount())}),E.EFF(3,"Restore existing account"),E.k0s()}if(2&sn){const Rt=E.XpG(3);E.Y8G("disabled",Rt.appService.loading()),E.R7$(2),E.Y8G("disabled",!0)}}function bo(sn,Xn){1&sn&&E.nrm(0,"app-restore")}function Pr(sn,Xn){if(1&sn&&(E.j41(0,"div",2),E.DNE(1,Ll,2,1,"button",6)(2,ic,4,2)(3,bo,1,0,"app-restore"),E.k0s()),2&sn){const Rt=E.XpG(2);E.R7$(),E.vxM(Rt.restore()?1:2),E.R7$(2),E.vxM(Rt.restore()?3:-1)}}function Ii(sn,Xn){if(1&sn){const Rt=E.RV6();E.j41(0,"div",3),E.nrm(1,"app-unlock"),E.j41(2,"p"),E.EFF(3,"Issues? "),E.j41(4,"button",5),E.bIt("click",function(){E.eBV(Rt);const pn=E.XpG(2);return E.Njj(pn.forceClose())}),E.EFF(5,"Close loading sceen"),E.k0s()()()}}function Bs(sn,Xn){1&sn&&(E.j41(0,"div",0),E.nrm(1,"img",1),E.j41(2,"div"),E.EFF(3,"Initializing... please wait..."),E.k0s()())}function No(sn,Xn){if(1&sn){const Rt=E.RV6();E.j41(0,"div",4)(1,"h1"),E.EFF(2,"Error during initialization. Offline?"),E.k0s(),E.j41(3,"p"),E.EFF(4,"You must be online to create your account."),E.nrm(5,"br"),E.EFF(6,"Please verify network connection and try again."),E.k0s(),E.j41(7,"p")(8,"button",5),E.bIt("click",function(){E.eBV(Rt);const pn=E.XpG(2);return E.Njj(pn.reload())}),E.EFF(9,"Reload"),E.k0s()()()}}function qs(sn,Xn){1&sn&&E.nrm(0,"mat-spinner")}function _s(sn,Xn){if(1&sn){const Rt=E.RV6();E.j41(0,"div",0),E.nrm(1,"img",1),E.DNE(2,tu,2,0,"p")(3,Pr,4,2,"div",2)(4,Ii,6,0,"div",3)(5,Bs,4,0,"div",0)(6,No,10,0,"div",4)(7,qs,1,0,"mat-spinner"),E.j41(8,"p"),E.EFF(9,"Issues? "),E.j41(10,"button",5),E.bIt("click",function(){E.eBV(Rt);const pn=E.XpG();return E.Njj(pn.forceClose())}),E.EFF(11,"Close loading sceen"),E.k0s()()()}if(2&sn){let Rt;const on=E.XpG();E.R7$(2),E.vxM(0===(Rt=on.appService.onboardingState())?2:1===Rt?3:2===Rt?4:3===Rt?5:4===Rt?6:-1),E.R7$(5),E.vxM(on.appService.loading()?7:-1)}}function fl(sn){return()=>sn.loadHash()}(0,d.B8)((()=>{class sn{countChar(Rt,on){return on.split(Rt).length-1}constructor(Rt,on,pn){this.router=Rt,this.layout=on,this.identityService=pn,this.title="app",this.appService=(0,E.WQX)(x.d),this.previousUrl="",this.restore=(0,E.vPA)(!1);const pr=globalThis.location.search;if(pr){const wr=Object.fromEntries(new URLSearchParams(pr));this.appService.params=wr}console.log(pr),console.log(this.appService.params),this.router.events.subscribe(wr=>{wr instanceof k.Z?this.layout.enableScrolling():wr instanceof k.wF&&(this.countChar("/",wr.url)>1?this.layout.enableNavigation():this.layout.disableNavigation())}),(0,E.QZP)(()=>{this.appService.initialized()&&console.log("App has been initialized!!!!")})}forceClose(){this.appService.onboardingState.set(x.f.Unlocked),this.appService.initialized.set(!0)}restoreAccount(){var Rt=this;return(0,z.A)(function*(){Rt.restore.set(!0)})()}back(){this.restore.set(!1)}createAccount(){var Rt=this;return(0,z.A)(function*(){console.log("Creating new account..."),yield Rt.appService.createAccount(),Rt.router.navigate([Rt.appService.state().loginAction])})()}reload(){document.location=document.location}ngOnInit(){var Rt=this;return(0,z.A)(function*(){yield Rt.appService.initialize()})()}static#e=this.\u0275fac=function(on){return new(on||sn)(E.rXU(k.Ix),E.rXU(O.Y),E.rXU(A.K))};static#t=this.\u0275cmp=E.VBU({type:sn,selectors:[["app-root"]],standalone:!0,features:[E.Jv_([{provide:E.hnV,useFactory:fl,deps:[Gc.G],multi:!0},{provide:J.U$,useValue:{appearance:"outline"}}]),E.aNF],decls:3,vars:1,consts:[[1,"loading-container"],["src","ariton-icon-dark.svg",1,"loading-logo"],[1,"new-user-actions"],[1,"unlock-container"],[1,"loading-error"],["mat-button","",3,"click"],["mat-button","",3,"disabled"],["mat-button","",3,"click","disabled"],["mat-flat-button","",3,"click","disabled"]],template:function(on,pn){1&on&&(E.DNE(0,_s,12,2,"div",0),E.j41(1,"app-layout"),E.nrm(2,"router-outlet"),E.k0s()),2&on&&E.vxM(pn.appService.initialized()?-1:0)},dependencies:[xc.RestoreComponent,D.Hl,D.$z,Qi.D6,Qi.LG,k.n3,lo,ds],styles:[".unlock-container[_ngcontent-%COMP%]{background-color:var(--mat-app-background-color);color:var(--mat-app-text-color);padding:2em;position:absolute;box-sizing:border-box;width:100%;inset:0;z-index:1000;display:flex;justify-content:center;align-items:center;align-content:center;text-align:center}.loading-container[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(18px);backdrop-filter:blur(18px);color:var(--mat-app-text-color);padding:2em;position:absolute;box-sizing:border-box;width:100%;inset:0;z-index:1001;display:flex;flex-direction:column;align-items:center;justify-content:center}.loading-logo[_ngcontent-%COMP%]{max-width:128px;position:absolute;right:1em;bottom:1em}mat-spinner[_ngcontent-%COMP%]{margin:2em}.new-user-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1em;margin-bottom:1em}"]})}return sn})(),Fn).catch(sn=>console.error(sn))},49245:(je,H,w)=>{"use strict";w.d(H,{Q:()=>d});const d={protocol:"http://anyone-collaborate-protocol.xyz",published:!0,types:{doc:{}},structure:{doc:{$actions:[{who:"anyone",can:["read","co-update","co-delete"]}]}}}},62060:(je,H,w)=>{"use strict";w.d(H,{Q:()=>d});const d={protocol:"http://chat-protocol.xyz",published:!0,types:{thread:{schema:"thread",dataFormats:["application/json"]},message:{schema:"message",dataFormats:["application/json"]}},structure:{thread:{$actions:[{who:"anyone",can:["create","update"]},{who:"author",of:"thread",can:["read"]},{who:"recipient",of:"thread",can:["read"]}],message:{$actions:[{who:"anyone",can:["create","update"]},{who:"author",of:"thread/message",can:["read"]},{who:"recipient",of:"thread/message",can:["read"]}]}}}}},77949:(je,H,w)=>{"use strict";w.d(H,{Q:()=>d});const d={protocol:"https://schema.ariton.app/community/entry",published:!0,types:{community:{schema:"https://schema.ariton.app/community/schema/community",dataFormats:["application/json"]},album:{schema:"https://schema.ariton.app/community/schema/album",dataFormats:["text/plain"]},photo:{schema:"https://schema.ariton.app/community/schema/photo",dataFormats:["text/plain"]},friend:{schema:"https://schema.ariton.app/community/schema/friend",dataFormats:["text/plain"]},participant:{schema:"https://schema.ariton.app/community/schema/participant",dataFormats:["text/plain"]},updater:{schema:"https://schema.ariton.app/community/schema/updater",dataFormats:["text/plain"]},globalAdmin:{schema:"https://schema.ariton.app/community/schema/globalAdmin",dataFormats:["application/json"]},admin:{schema:"https://schema.ariton.app/community/schema/admin",dataFormats:["application/json"]}},structure:{globalAdmin:{$role:!0},friend:{$role:!0},community:{$actions:[{role:"globalAdmin",can:["create","update"]}],admin:{$role:!0,$actions:[{role:"globalAdmin",can:["create","update"]}]}}}}},97372:(je,H,w)=>{"use strict";w.d(H,{Q:()=>d});const d={protocol:"https://schema.ariton.app/file",published:!0,types:{entry:{schema:"https://schema.ariton.app/file/schema/entry"},collaborator:{schema:"https://schema.ariton.app/file/schema/collaborator",dataFormats:["application/json"]}},structure:{collaborator:{$role:!0},entry:{$actions:[{role:"collaborator",can:["create","update","read","delete"]}],entry:{$actions:[{role:"collaborator",can:["create","update","read","delete"]}],entry:{$actions:[{role:"collaborator",can:["create","update","read","delete"]}],entry:{$actions:[{role:"collaborator",can:["create","update","read","delete"]}]}}}}}}},67136:(je,H,w)=>{"use strict";w.d(H,{Q:()=>d});const d={protocol:"http://free-for-all-protocol.xyz",published:!0,types:{post:{schema:"eph",dataFormats:["application/json"]},attachment:{}},structure:{post:{$actions:[{who:"anyone",can:["create","update","delete","prune","read","co-delete","co-prune"]}],attachment:{$actions:[{who:"anyone",can:["create","update","delete","read","co-delete"]}]}}}}},22312:(je,H,w)=>{"use strict";w.d(H,{Aq:()=>L,ME:()=>A,eE:()=>O,iU:()=>D,u5:()=>F});var d=w(4053),E=w(77949),z=(w(45189),w(2685)),x=w(69371);const O={format:"application/vc+jwt",friendship:"FriendshipCredential"},A={uri:d.Q.protocol,definition:d.Q},F={uri:z.Q.protocol,definition:z.Q},L={uri:E.Q.protocol,definition:E.Q},D={uri:x.Q.protocol,definition:x.Q}},69371:(je,H,w)=>{"use strict";w.d(H,{Q:()=>d});const d={protocol:"https://schema.ariton.app/message",published:!0,types:{message:{schema:"https://schema.ariton.app/message/schema/message",dataFormats:["application/json"]},writer:{schema:"https://schema.ariton.app/message/schema/writer",dataFormats:["application/json"]},request:{schema:"https://schema.ariton.app/message/schema/request",dataFormats:["application/json"]},credential:{schema:"https://schema.ariton.app/message/schema/credential",dataFormats:["application/json"]}},structure:{writer:{$role:!0},message:{$actions:[{role:"writer",can:["create","update"]},{who:"author",of:"message",can:["read"]},{who:"recipient",of:"message",can:["read"]}]},request:{$actions:[{who:"anyone",can:["create","update","delete"]},{who:"author",of:"request",can:["read","create","delete"]},{who:"recipient",of:"request",can:["read","create","delete","co-delete"]}]},credential:{$actions:[{who:"anyone",can:["create","update","delete"]},{who:"author",of:"request",can:["read","create","delete"]},{who:"recipient",of:"request",can:["read","create","delete","co-delete"]}]}}}},1639:(je,H,w)=>{"use strict";w.d(H,{Q:()=>d});const d={protocol:"http://minimal.xyz",published:!1,types:{foo:{}},structure:{foo:{}}}},69314:(je,H,w)=>{"use strict";w.d(H,{Q:()=>d});const d={protocol:"https://schema.ariton.app/note",published:!0,types:{note:{schema:"https://schema.ariton.app/note/schema/note",dataFormats:["application/json"]},collaborator:{schema:"https://schema.ariton.app/note/schema/collaborator",dataFormats:["application/json"]}},structure:{collaborator:{$role:!0},note:{$actions:[{role:"collaborator",can:["create","update","read","delete"]}]}}}},4053:(je,H,w)=>{"use strict";w.d(H,{Q:()=>d});const d={published:!0,protocol:"https://schema.ariton.app/profile/entry",types:{profile:{schema:"https://schema.ariton.app/profile/schema/profile",dataFormats:["application/json"]},bio:{dataFormats:["application/json"]},status:{dataFormats:["application/json"]},location:{dataFormats:["application/json"]},birthDate:{dataFormats:["application/json"]},social:{dataFormats:["application/json"]},messaging:{dataFormats:["application/json"]},phone:{dataFormats:["application/json"]},address:{dataFormats:["application/json"]},career:{dataFormats:["application/json"]},payment:{dataFormats:["application/json"]},avatar:{dataFormats:["image/gif","image/png","image/jpeg"]},hero:{dataFormats:["image/gif","image/png","image/jpeg"]}},structure:{profile:{$actions:[{who:"anyone",can:["read"]}]},bio:{},status:{},location:{},birthDate:{},social:{},career:{},avatar:{$actions:[{who:"anyone",can:["read"]}]},hero:{$actions:[{who:"anyone",can:["read"]}]},messaging:{},address:{},phone:{},payment:{}}}},2685:(je,H,w)=>{"use strict";w.d(H,{Q:()=>d});const d={published:!0,protocol:"https://schema.ariton.app/registry/entry",types:{profile:{dataFormats:["application/json"]},avatar:{dataFormats:["image/gif","image/png","image/jpeg"]},hero:{dataFormats:["image/gif","image/png","image/jpeg"]}},structure:{profile:{},avatar:{},hero:{}}}},45189:(je,H,w)=>{"use strict";w.d(H,{Q:()=>d});const d={protocol:"https://social-media.xyz",published:!0,types:{post:{schema:"https://social-media.xyz/schemas/postSchema",dataFormats:["text/plain"]},reply:{schema:"https://social-media.xyz/schemas/replySchema",dataFormats:["text/plain"]},image:{dataFormats:["image/jpeg"]},caption:{schema:"https://social-media.xyz/schemas/captionSchema",dataFormats:["text/plain"]}},structure:{post:{$actions:[{who:"anyone",can:["create","read"]}],reply:{$actions:[{who:"recipient",of:"post",can:["create"]},{who:"author",of:"post",can:["create"]}]}},image:{$actions:[{who:"anyone",can:["create","read"]}],caption:{$actions:[{who:"anyone",can:["read"]},{who:"author",of:"image",can:["create"]}]},reply:{$actions:[{who:"author",of:"image",can:["read"]},{who:"recipient",of:"image",can:["create"]}]}}}}},4521:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.createCurve=H.getHash=void 0;const d=w(44882),E=w(96492),k=w(73040);function z(O){return{hash:O,hmac:(A,...P)=>(0,d.hmac)(O,A,(0,E.concatBytes)(...P)),randomBytes:E.randomBytes}}H.getHash=z,H.createCurve=function x(O,A){const P=F=>(0,k.weierstrass)({...O,...z(F)});return Object.freeze({...P(A),create:P})}},25299:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.validateBasic=H.wNAF=void 0;const d=w(63834),E=w(84097),k=BigInt(0),z=BigInt(1);H.wNAF=function x(A,P){const F=(D,X)=>{const j=X.negate();return D?j:X},L=D=>({windows:Math.ceil(P/D)+1,windowSize:2**(D-1)});return{constTimeNegate:F,unsafeLadder(D,X){let j=A.ZERO,G=D;for(;X>k;)X&z&&(j=j.add(G)),G=G.double(),X>>=z;return j},precomputeWindow(D,X){const{windows:j,windowSize:G}=L(X),re=[];let te=D,J=te;for(let Z=0;Z<j;Z++){J=te,re.push(J);for(let ie=1;ie<G;ie++)J=J.add(te),re.push(J);te=J.double()}return re},wNAF(D,X,j){const{windows:G,windowSize:re}=L(D);let te=A.ZERO,J=A.BASE;const Z=BigInt(2**D-1),ie=2**D,ae=BigInt(D);for(let se=0;se<G;se++){const de=se*re;let le=Number(j&Z);j>>=ae,le>re&&(le-=ie,j+=z);const be=de,xe=de+Math.abs(le)-1,C=le<0;0===le?J=J.add(F(se%2!=0,X[be])):te=te.add(F(C,X[xe]))}return{p:te,f:J}},wNAFCached(D,X,j,G){const re=D._WINDOW_SIZE||1;let te=X.get(D);return te||(te=this.precomputeWindow(D,re),1!==re&&X.set(D,G(te))),this.wNAF(re,te,j)}}},H.validateBasic=function O(A){return(0,d.validateField)(A.Fp),(0,E.validateObject)(A,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,d.nLength)(A.n,A.nBitLength),...A,p:A.Fp.ORDER})}},45068:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.twistedEdwards=void 0;const d=w(63834),E=w(84097),k=w(84097),z=w(25299),x=BigInt(0),O=BigInt(1),A=BigInt(2),P=BigInt(8),F={zip215:!0};H.twistedEdwards=function D(X){const j=function L(X){const j=(0,z.validateBasic)(X);return E.validateObject(X,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...j})}(X),{Fp:G,n:re,prehash:te,hash:J,randomBytes:Z,nByteLength:ie,h:ae}=j,se=A<<BigInt(8*ie)-O,de=G.create,le=j.uvRatio||((we,Ue)=>{try{return{isValid:!0,value:G.sqrt(we*G.inv(Ue))}}catch{return{isValid:!1,value:x}}}),be=j.adjustScalarBytes||(we=>we),xe=j.domain||((we,Ue,ye)=>{if(Ue.length||ye)throw new Error("Contexts/pre-hash are not supported");return we}),ke=we=>"bigint"==typeof we&&x<we,C=(we,Ue)=>ke(we)&&ke(Ue)&&we<Ue,a=we=>we===x||C(we,se);function f(we,Ue){if(C(we,Ue))return we;throw new Error(`Expected valid scalar < ${Ue}, got ${typeof we} ${we}`)}function y(we){return we===x?we:f(we,re)}const g=new Map;function M(we){if(!(we instanceof T))throw new Error("ExtendedPoint expected")}class T{constructor(Ue,ye,De,pe){if(this.ex=Ue,this.ey=ye,this.ez=De,this.et=pe,!a(Ue))throw new Error("x required");if(!a(ye))throw new Error("y required");if(!a(De))throw new Error("z required");if(!a(pe))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Ue){if(Ue instanceof T)throw new Error("extended point not allowed");const{x:ye,y:De}=Ue||{};if(!a(ye)||!a(De))throw new Error("invalid affine point");return new T(ye,De,O,de(ye*De))}static normalizeZ(Ue){const ye=G.invertBatch(Ue.map(De=>De.ez));return Ue.map((De,pe)=>De.toAffine(ye[pe])).map(T.fromAffine)}_setWindowSize(Ue){this._WINDOW_SIZE=Ue,g.delete(this)}assertValidity(){const{a:Ue,d:ye}=j;if(this.is0())throw new Error("bad point: ZERO");const{ex:De,ey:pe,ez:ue,et:Q}=this,oe=de(De*De),fe=de(pe*pe),Ee=de(ue*ue),Re=de(Ee*Ee),$e=de(oe*Ue);if(de(Ee*de($e+fe))!==de(Re+de(ye*de(oe*fe))))throw new Error("bad point: equation left != right (1)");if(de(De*pe)!==de(ue*Q))throw new Error("bad point: equation left != right (2)")}equals(Ue){M(Ue);const{ex:ye,ey:De,ez:pe}=this,{ex:ue,ey:Q,ez:oe}=Ue,fe=de(ye*oe),Ee=de(ue*pe),Re=de(De*oe),$e=de(Q*pe);return fe===Ee&&Re===$e}is0(){return this.equals(T.ZERO)}negate(){return new T(de(-this.ex),this.ey,this.ez,de(-this.et))}double(){const{a:Ue}=j,{ex:ye,ey:De,ez:pe}=this,ue=de(ye*ye),Q=de(De*De),oe=de(A*de(pe*pe)),fe=de(Ue*ue),Ee=ye+De,Re=de(de(Ee*Ee)-ue-Q),$e=fe+Q,Fe=$e-oe,_t=fe-Q,We=de(Re*Fe),Le=de($e*_t),lt=de(Re*_t),N=de(Fe*$e);return new T(We,Le,N,lt)}add(Ue){M(Ue);const{a:ye,d:De}=j,{ex:pe,ey:ue,ez:Q,et:oe}=this,{ex:fe,ey:Ee,ez:Re,et:$e}=Ue;if(ye===BigInt(-1)){const tt=de((ue-pe)*(Ee+fe)),Bt=de((ue+pe)*(Ee-fe)),gt=de(Bt-tt);if(gt===x)return this.double();const It=de(Q*A*$e),Zt=de(oe*A*Re),mn=Zt+It,dn=Bt+tt,ar=Zt-It,An=de(mn*gt),en=de(dn*ar),Qt=de(mn*ar),Et=de(gt*dn);return new T(An,en,Et,Qt)}const Fe=de(pe*fe),_t=de(ue*Ee),We=de(oe*De*$e),Le=de(Q*Re),lt=de((pe+ue)*(fe+Ee)-Fe-_t),N=Le-We,_=Le+We,m=de(_t-ye*Fe),U=de(lt*N),ne=de(_*m),ge=de(lt*m),Ae=de(N*_);return new T(U,ne,Ae,ge)}subtract(Ue){return this.add(Ue.negate())}wNAF(Ue){return s.wNAFCached(this,g,Ue,T.normalizeZ)}multiply(Ue){const{p:ye,f:De}=this.wNAF(f(Ue,re));return T.normalizeZ([ye,De])[0]}multiplyUnsafe(Ue){let ye=y(Ue);return ye===x?S:this.equals(S)||ye===O?this:this.equals(B)?this.wNAF(ye).p:s.unsafeLadder(this,ye)}isSmallOrder(){return this.multiplyUnsafe(ae).is0()}isTorsionFree(){return s.unsafeLadder(this,re).is0()}toAffine(Ue){const{ex:ye,ey:De,ez:pe}=this,ue=this.is0();null==Ue&&(Ue=ue?P:G.inv(pe));const Q=de(ye*Ue),oe=de(De*Ue),fe=de(pe*Ue);if(ue)return{x,y:O};if(fe!==O)throw new Error("invZ was invalid");return{x:Q,y:oe}}clearCofactor(){const{h:Ue}=j;return Ue===O?this:this.multiplyUnsafe(Ue)}static fromHex(Ue,ye=!1){const{d:De,a:pe}=j,ue=G.BYTES,Q=(Ue=(0,k.ensureBytes)("pointHex",Ue,ue)).slice(),oe=Ue[ue-1];Q[ue-1]=-129&oe;const fe=E.bytesToNumberLE(Q);fe===x||f(fe,ye?se:G.ORDER);const Ee=de(fe*fe),Re=de(Ee-O),$e=de(De*Ee-pe);let{isValid:Fe,value:_t}=le(Re,$e);if(!Fe)throw new Error("Point.fromHex: invalid y coordinate");const We=(_t&O)===O,Le=!!(128&oe);if(!ye&&_t===x&&Le)throw new Error("Point.fromHex: x=0 and x_0=1");return Le!==We&&(_t=de(-_t)),T.fromAffine({x:_t,y:fe})}static fromPrivateKey(Ue){return K(Ue).point}toRawBytes(){const{x:Ue,y:ye}=this.toAffine(),De=E.numberToBytesLE(ye,G.BYTES);return De[De.length-1]|=Ue&O?128:0,De}toHex(){return E.bytesToHex(this.toRawBytes())}}T.BASE=new T(j.Gx,j.Gy,O,de(j.Gx*j.Gy)),T.ZERO=new T(x,O,O,x);const{BASE:B,ZERO:S}=T,s=(0,z.wNAF)(T,8*ie);function v(we){return(0,d.mod)(we,re)}function W(we){return v(E.bytesToNumberLE(we))}function K(we){const Ue=ie;we=(0,k.ensureBytes)("private key",we,Ue);const ye=(0,k.ensureBytes)("hashed private key",J(we),2*Ue),De=be(ye.slice(0,Ue)),pe=ye.slice(Ue,2*Ue),ue=W(De),Q=B.multiply(ue),oe=Q.toRawBytes();return{head:De,prefix:pe,scalar:ue,point:Q,pointBytes:oe}}function ce(we=new Uint8Array,...Ue){const ye=E.concatBytes(...Ue);return W(J(xe(ye,(0,k.ensureBytes)("context",we),!!te)))}const Oe=F;return B._setWindowSize(8),{CURVE:j,getPublicKey:function ee(we){return K(we).pointBytes},sign:function _e(we,Ue,ye={}){we=(0,k.ensureBytes)("message",we),te&&(we=te(we));const{prefix:De,scalar:pe,pointBytes:ue}=K(Ue),Q=ce(ye.context,De,we),oe=B.multiply(Q).toRawBytes(),Ee=v(Q+ce(ye.context,oe,ue,we)*pe);y(Ee);const Re=E.concatBytes(oe,E.numberToBytesLE(Ee,G.BYTES));return(0,k.ensureBytes)("result",Re,2*ie)},verify:function Ve(we,Ue,ye,De=Oe){const{context:pe,zip215:ue}=De,Q=G.BYTES;we=(0,k.ensureBytes)("signature",we,2*Q),Ue=(0,k.ensureBytes)("message",Ue),te&&(Ue=te(Ue));const oe=E.bytesToNumberLE(we.slice(Q,2*Q));let fe,Ee,Re;try{fe=T.fromHex(ye,ue),Ee=T.fromHex(we.slice(0,Q),ue),Re=B.multiplyUnsafe(oe)}catch{return!1}if(!ue&&fe.isSmallOrder())return!1;const $e=ce(pe,Ee.toRawBytes(),fe.toRawBytes(),Ue);return Ee.add(fe.multiplyUnsafe($e)).subtract(Re).clearCofactor().equals(T.ZERO)},ExtendedPoint:T,utils:{getExtendedPublicKey:K,randomPrivateKey:()=>Z(G.BYTES),precompute:(we=8,Ue=T.BASE)=>(Ue._setWindowSize(we),Ue.multiply(BigInt(3)),Ue)}}}},75752:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.createHasher=H.isogenyMap=H.hash_to_field=H.expand_message_xof=H.expand_message_xmd=void 0;const d=w(63834),E=w(84097),z=E.bytesToNumberBE;function x(G,re){if(G<0||G>=1<<8*re)throw new Error(`bad I2OSP call: value=${G} length=${re}`);const te=Array.from({length:re}).fill(0);for(let J=re-1;J>=0;J--)te[J]=255&G,G>>>=8;return new Uint8Array(te)}function O(G,re){const te=new Uint8Array(G.length);for(let J=0;J<G.length;J++)te[J]=G[J]^re[J];return te}function A(G){if(!(0,E.isBytes)(G))throw new Error("Uint8Array expected")}function P(G){if(!Number.isSafeInteger(G))throw new Error("number expected")}function F(G,re,te,J){A(G),A(re),P(te),re.length>255&&(re=J((0,E.concatBytes)((0,E.utf8ToBytes)("H2C-OVERSIZE-DST-"),re)));const{outputLen:Z,blockLen:ie}=J,ae=Math.ceil(te/Z);if(ae>255)throw new Error("Invalid xmd length");const se=(0,E.concatBytes)(re,x(re.length,1)),de=x(0,ie),le=x(te,2),be=new Array(ae),xe=J((0,E.concatBytes)(de,G,le,x(0,1),se));be[0]=J((0,E.concatBytes)(xe,x(1,1),se));for(let C=1;C<=ae;C++){const a=[O(xe,be[C-1]),x(C+1,1),se];be[C]=J((0,E.concatBytes)(...a))}return(0,E.concatBytes)(...be).slice(0,te)}function L(G,re,te,J,Z){if(A(G),A(re),P(te),re.length>255){const ie=Math.ceil(2*J/8);re=Z.create({dkLen:ie}).update((0,E.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(re).digest()}if(te>65535||re.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return Z.create({dkLen:te}).update(G).update(x(te,2)).update(re).update(x(re.length,1)).digest()}function D(G,re,te){(0,E.validateObject)(te,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:J,k:Z,m:ie,hash:ae,expand:se,DST:de}=te;A(G),P(re);const le=function k(G){if((0,E.isBytes)(G))return G;if("string"==typeof G)return(0,E.utf8ToBytes)(G);throw new Error("DST must be Uint8Array or string")}(de),be=J.toString(2).length,xe=Math.ceil((be+Z)/8),ke=re*ie*xe;let C;if("xmd"===se)C=F(G,le,ke,ae);else if("xof"===se)C=L(G,le,ke,Z,ae);else{if("_internal_pass"!==se)throw new Error('expand must be "xmd" or "xof"');C=G}const a=new Array(re);for(let f=0;f<re;f++){const y=new Array(ie);for(let g=0;g<ie;g++){const M=xe*(g+f*ie),T=C.subarray(M,M+xe);y[g]=(0,d.mod)(z(T),J)}a[f]=y}return a}H.expand_message_xmd=F,H.expand_message_xof=L,H.hash_to_field=D,H.isogenyMap=function X(G,re){const te=re.map(J=>Array.from(J).reverse());return(J,Z)=>{const[ie,ae,se,de]=te.map(le=>le.reduce((be,xe)=>G.add(G.mul(be,J),xe)));return J=G.div(ie,ae),Z=G.mul(Z,G.div(se,de)),{x:J,y:Z}}},H.createHasher=function j(G,re,te){if("function"!=typeof re)throw new Error("mapToCurve() must be defined");return{hashToCurve(J,Z){const ie=D(J,2,{...te,DST:te.DST,...Z}),ae=G.fromAffine(re(ie[0])),se=G.fromAffine(re(ie[1])),de=ae.add(se).clearCofactor();return de.assertValidity(),de},encodeToCurve(J,Z){const ie=D(J,1,{...te,DST:te.encodeDST,...Z}),ae=G.fromAffine(re(ie[0])).clearCofactor();return ae.assertValidity(),ae}}}},63834:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.mapHashToField=H.getMinHashLength=H.getFieldBytesLength=H.hashToPrivateScalar=H.FpSqrtEven=H.FpSqrtOdd=H.Field=H.nLength=H.FpIsSquare=H.FpDiv=H.FpInvertBatch=H.FpPow=H.validateField=H.isNegativeLE=H.FpSqrt=H.tonelliShanks=H.invert=H.pow2=H.pow=H.mod=void 0;const d=w(84097),E=BigInt(0),k=BigInt(1),z=BigInt(2),x=BigInt(3),O=BigInt(4),A=BigInt(5),P=BigInt(8);function D(M,T){const B=M%T;return B>=E?B:T+B}function X(M,T,B){if(B<=E||T<E)throw new Error("Expected power/modulo > 0");if(B===k)return E;let S=k;for(;T>E;)T&k&&(S=S*M%B),M=M*M%B,T>>=k;return S}function G(M,T){if(M===E||T<=E)throw new Error(`invert: expected positive integers, got n=${M} mod=${T}`);let B=D(M,T),S=T,s=E,v=k,W=k,K=E;for(;B!==E;){const ce=S/B,_e=S%B,Oe=s-W*ce,Ve=v-K*ce;S=B,B=_e,s=W,v=K,W=Oe,K=Ve}if(S!==k)throw new Error("invert: does not exist");return D(s,T)}function re(M){const T=(M-k)/z;let B,S,s;for(B=M-k,S=0;B%z===E;B/=z,S++);for(s=z;s<M&&X(s,T,M)!==M-k;s++);if(1===S){const W=(M+k)/O;return function(ee,ce){const _e=ee.pow(ce,W);if(!ee.eql(ee.sqr(_e),ce))throw new Error("Cannot find square root");return _e}}const v=(B+k)/z;return function(K,ee){if(K.pow(ee,T)===K.neg(K.ONE))throw new Error("Cannot find square root");let ce=S,_e=K.pow(K.mul(K.ONE,s),B),Oe=K.pow(ee,v),Ve=K.pow(ee,B);for(;!K.eql(Ve,K.ONE);){if(K.eql(Ve,K.ZERO))return K.ZERO;let Se=1;for(let Ue=K.sqr(Ve);Se<ce&&!K.eql(Ue,K.ONE);Se++)Ue=K.sqr(Ue);const we=K.pow(_e,k<<BigInt(ce-Se-1));_e=K.sqr(we),Oe=K.mul(Oe,we),Ve=K.mul(Ve,_e),ce=Se}return Oe}}function te(M){if(M%O===x){const T=(M+k)/O;return function(S,s){const v=S.pow(s,T);if(!S.eql(S.sqr(v),s))throw new Error("Cannot find square root");return v}}if(M%P===A){const T=(M-A)/P;return function(S,s){const v=S.mul(s,z),W=S.pow(v,T),K=S.mul(s,W),ee=S.mul(S.mul(K,z),W),ce=S.mul(K,S.sub(ee,S.ONE));if(!S.eql(S.sqr(ce),s))throw new Error("Cannot find square root");return ce}}return re(M)}BigInt(9),BigInt(16),H.mod=D,H.pow=X,H.pow2=function j(M,T,B){let S=M;for(;T-- >E;)S*=S,S%=B;return S},H.invert=G,H.tonelliShanks=re,H.FpSqrt=te,H.isNegativeLE=(M,T)=>(D(M,T)&k)===k;const Z=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ae(M,T,B){if(B<E)throw new Error("Expected power > 0");if(B===E)return M.ONE;if(B===k)return T;let S=M.ONE,s=T;for(;B>E;)B&k&&(S=M.mul(S,s)),s=M.sqr(s),B>>=k;return S}function se(M,T){const B=new Array(T.length),S=T.reduce((v,W,K)=>M.is0(W)?v:(B[K]=v,M.mul(v,W)),M.ONE),s=M.inv(S);return T.reduceRight((v,W,K)=>M.is0(W)?v:(B[K]=M.mul(v,B[K]),M.mul(v,W)),s),B}function be(M,T){const B=void 0!==T?T:M.toString(2).length;return{nBitLength:B,nByteLength:Math.ceil(B/8)}}function f(M){if("bigint"!=typeof M)throw new Error("field order must be bigint");const T=M.toString(2).length;return Math.ceil(T/8)}function y(M){const T=f(M);return T+Math.ceil(T/2)}H.validateField=function ie(M){const B=Z.reduce((S,s)=>(S[s]="function",S),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,d.validateObject)(M,B)},H.FpPow=ae,H.FpInvertBatch=se,H.FpDiv=function de(M,T,B){return M.mul(T,"bigint"==typeof B?G(B,M.ORDER):M.inv(B))},H.FpIsSquare=function le(M){const T=(M.ORDER-k)/z;return B=>{const S=M.pow(B,T);return M.eql(S,M.ZERO)||M.eql(S,M.ONE)}},H.nLength=be,H.Field=function xe(M,T,B=!1,S={}){if(M<=E)throw new Error(`Expected Field ORDER > 0, got ${M}`);const{nBitLength:s,nByteLength:v}=be(M,T);if(v>2048)throw new Error("Field lengths over 2048 bytes are not supported");const W=te(M),K=Object.freeze({ORDER:M,BITS:s,BYTES:v,MASK:(0,d.bitMask)(s),ZERO:E,ONE:k,create:ee=>D(ee,M),isValid:ee=>{if("bigint"!=typeof ee)throw new Error("Invalid field element: expected bigint, got "+typeof ee);return E<=ee&&ee<M},is0:ee=>ee===E,isOdd:ee=>(ee&k)===k,neg:ee=>D(-ee,M),eql:(ee,ce)=>ee===ce,sqr:ee=>D(ee*ee,M),add:(ee,ce)=>D(ee+ce,M),sub:(ee,ce)=>D(ee-ce,M),mul:(ee,ce)=>D(ee*ce,M),pow:(ee,ce)=>ae(K,ee,ce),div:(ee,ce)=>D(ee*G(ce,M),M),sqrN:ee=>ee*ee,addN:(ee,ce)=>ee+ce,subN:(ee,ce)=>ee-ce,mulN:(ee,ce)=>ee*ce,inv:ee=>G(ee,M),sqrt:S.sqrt||(ee=>W(K,ee)),invertBatch:ee=>se(K,ee),cmov:(ee,ce,_e)=>_e?ce:ee,toBytes:ee=>B?(0,d.numberToBytesLE)(ee,v):(0,d.numberToBytesBE)(ee,v),fromBytes:ee=>{if(ee.length!==v)throw new Error(`Fp.fromBytes: expected ${v}, got ${ee.length}`);return B?(0,d.bytesToNumberLE)(ee):(0,d.bytesToNumberBE)(ee)}});return Object.freeze(K)},H.FpSqrtOdd=function ke(M,T){if(!M.isOdd)throw new Error("Field doesn't have isOdd");const B=M.sqrt(T);return M.isOdd(B)?B:M.neg(B)},H.FpSqrtEven=function C(M,T){if(!M.isOdd)throw new Error("Field doesn't have isOdd");const B=M.sqrt(T);return M.isOdd(B)?M.neg(B):B},H.hashToPrivateScalar=function a(M,T,B=!1){const S=(M=(0,d.ensureBytes)("privateHash",M)).length,s=be(T).nByteLength+8;if(s<24||S<s||S>1024)throw new Error(`hashToPrivateScalar: expected ${s}-1024 bytes of input, got ${S}`);return D(B?(0,d.bytesToNumberLE)(M):(0,d.bytesToNumberBE)(M),T-k)+k},H.getFieldBytesLength=f,H.getMinHashLength=y,H.mapHashToField=function g(M,T,B=!1){const S=M.length,s=f(T),v=y(T);if(S<16||S<v||S>1024)throw new Error(`expected ${v}-1024 bytes of input, got ${S}`);const K=D(B?(0,d.bytesToNumberBE)(M):(0,d.bytesToNumberLE)(M),T-k)+k;return B?(0,d.numberToBytesLE)(K,s):(0,d.numberToBytesBE)(K,s)}},27661:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.montgomery=void 0;const d=w(63834),E=w(84097),k=BigInt(0),z=BigInt(1);H.montgomery=function O(A){const P=function x(A){return(0,E.validateObject)(A,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...A})}(A),{P:F}=P,L=ke=>(0,d.mod)(ke,F),D=P.montgomeryBits,X=Math.ceil(D/8),j=P.nByteLength,G=P.adjustScalarBytes||(ke=>ke),re=P.powPminus2||(ke=>(0,d.pow)(ke,F-BigInt(2),F));function te(ke,C,a){const f=L(ke*(C-a));return[C=L(C-f),a=L(a+f)]}function J(ke){if("bigint"==typeof ke&&k<=ke&&ke<F)return ke;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const Z=(P.a-BigInt(2))/BigInt(4);function ae(ke){return(0,E.numberToBytesLE)(L(ke),X)}function le(ke,C){const a=function se(ke){const C=(0,E.ensureBytes)("u coordinate",ke,X);return 32===j&&(C[31]&=127),(0,E.bytesToNumberLE)(C)}(C),f=function de(ke){const C=(0,E.ensureBytes)("scalar",ke),a=C.length;if(a!==X&&a!==j)throw new Error(`Expected ${X} or ${j} bytes, got ${a}`);return(0,E.bytesToNumberLE)(G(C))}(ke),y=function ie(ke,C){const a=J(ke),f=J(C),y=a;let s,g=z,M=k,T=a,B=z,S=k;for(let W=BigInt(D-1);W>=k;W--){const K=f>>W&z;S^=K,s=te(S,g,T),g=s[0],T=s[1],s=te(S,M,B),M=s[0],B=s[1],S=K;const ee=g+M,ce=L(ee*ee),_e=g-M,Oe=L(_e*_e),Ve=ce-Oe,Se=T+B,Ue=L((T-B)*ee),ye=L(Se*_e),De=Ue+ye,pe=Ue-ye;T=L(De*De),B=L(y*L(pe*pe)),g=L(ce*Oe),M=L(Ve*(ce+L(Z*Ve)))}s=te(S,g,T),g=s[0],T=s[1],s=te(S,M,B),M=s[0],B=s[1];const v=re(M);return L(g*v)}(a,f);if(y===k)throw new Error("Invalid private or public key received");return ae(y)}const be=ae(P.Gu);function xe(ke){return le(ke,be)}return{scalarMult:le,scalarMultBase:xe,getSharedSecret:(ke,C)=>le(ke,C),getPublicKey:ke=>xe(ke),utils:{randomPrivateKey:()=>P.randomBytes(P.nByteLength)},GuBytes:be}}},84097:(je,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.validateObject=H.createHmacDrbg=H.bitMask=H.bitSet=H.bitGet=H.bitLen=H.utf8ToBytes=H.equalBytes=H.concatBytes=H.ensureBytes=H.numberToVarBytesBE=H.numberToBytesLE=H.numberToBytesBE=H.bytesToNumberLE=H.bytesToNumberBE=H.hexToBytes=H.hexToNumber=H.numberToHexUnpadded=H.bytesToHex=H.isBytes=void 0;const w=BigInt(0),d=BigInt(1),E=BigInt(2);function k(f){return f instanceof Uint8Array||null!=f&&"object"==typeof f&&"Uint8Array"===f.constructor.name}H.isBytes=k;const z=Array.from({length:256},(f,y)=>y.toString(16).padStart(2,"0"));function x(f){if(!k(f))throw new Error("Uint8Array expected");let y="";for(let g=0;g<f.length;g++)y+=z[f[g]];return y}function O(f){const y=f.toString(16);return 1&y.length?`0${y}`:y}function A(f){if("string"!=typeof f)throw new Error("hex string expected, got "+typeof f);return BigInt(""===f?"0":`0x${f}`)}H.bytesToHex=x,H.numberToHexUnpadded=O,H.hexToNumber=A;const P={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function F(f){return f>=P._0&&f<=P._9?f-P._0:f>=P._A&&f<=P._F?f-(P._A-10):f>=P._a&&f<=P._f?f-(P._a-10):void 0}function L(f){if("string"!=typeof f)throw new Error("hex string expected, got "+typeof f);const y=f.length,g=y/2;if(y%2)throw new Error("padded hex string expected, got unpadded hex of length "+y);const M=new Uint8Array(g);for(let T=0,B=0;T<g;T++,B+=2){const S=F(f.charCodeAt(B)),s=F(f.charCodeAt(B+1));if(void 0===S||void 0===s)throw new Error('hex string expected, got non-hex character "'+(f[B]+f[B+1])+'" at index '+B);M[T]=16*S+s}return M}function j(f,y){return L(f.toString(16).padStart(2*y,"0"))}function J(...f){let y=0;for(let T=0;T<f.length;T++){const B=f[T];if(!k(B))throw new Error("Uint8Array expected");y+=B.length}let g=new Uint8Array(y),M=0;for(let T=0;T<f.length;T++){const B=f[T];g.set(B,M),M+=B.length}return g}H.hexToBytes=L,H.bytesToNumberBE=function D(f){return A(x(f))},H.bytesToNumberLE=function X(f){if(!k(f))throw new Error("Uint8Array expected");return A(x(Uint8Array.from(f).reverse()))},H.numberToBytesBE=j,H.numberToBytesLE=function G(f,y){return j(f,y).reverse()},H.numberToVarBytesBE=function re(f){return L(O(f))},H.ensureBytes=function te(f,y,g){let M;if("string"==typeof y)try{M=L(y)}catch(B){throw new Error(`${f} must be valid hex string, got "${y}". Cause: ${B}`)}else{if(!k(y))throw new Error(`${f} must be hex string or Uint8Array`);M=Uint8Array.from(y)}const T=M.length;if("number"==typeof g&&T!==g)throw new Error(`${f} expected ${g} bytes, got ${T}`);return M},H.concatBytes=J,H.equalBytes=function Z(f,y){if(f.length!==y.length)return!1;let g=0;for(let M=0;M<f.length;M++)g|=f[M]^y[M];return 0===g},H.utf8ToBytes=function ie(f){if("string"!=typeof f)throw new Error("utf8ToBytes expected string, got "+typeof f);return new Uint8Array((new TextEncoder).encode(f))},H.bitLen=function ae(f){let y;for(y=0;f>w;f>>=d,y+=1);return y},H.bitGet=function se(f,y){return f>>BigInt(y)&d},H.bitSet=(f,y,g)=>f|(g?d:w)<<BigInt(y),H.bitMask=f=>(E<<BigInt(f-1))-d;const be=f=>new Uint8Array(f),xe=f=>Uint8Array.from(f);H.createHmacDrbg=function ke(f,y,g){if("number"!=typeof f||f<2)throw new Error("hashLen must be a number");if("number"!=typeof y||y<2)throw new Error("qByteLen must be a number");if("function"!=typeof g)throw new Error("hmacFn must be a function");let M=be(f),T=be(f),B=0;const S=()=>{M.fill(1),T.fill(0),B=0},s=(...ee)=>g(T,M,...ee),v=(ee=be())=>{T=s(xe([0]),ee),M=s(),0!==ee.length&&(T=s(xe([1]),ee),M=s())},W=()=>{if(B++>=1e3)throw new Error("drbg: tried 1000 values");let ee=0;const ce=[];for(;ee<y;){M=s();const _e=M.slice();ce.push(_e),ee+=M.length}return J(...ce)};return(ee,ce)=>{let _e;for(S(),v(ee);!(_e=ce(W()));)v();return S(),_e}};const C={bigint:f=>"bigint"==typeof f,function:f=>"function"==typeof f,boolean:f=>"boolean"==typeof f,string:f=>"string"==typeof f,stringOrUint8Array:f=>"string"==typeof f||k(f),isSafeInteger:f=>Number.isSafeInteger(f),array:f=>Array.isArray(f),field:(f,y)=>y.Fp.isValid(f),hash:f=>"function"==typeof f&&Number.isSafeInteger(f.outputLen)};H.validateObject=function a(f,y,g={}){const M=(T,B,S)=>{const s=C[B];if("function"!=typeof s)throw new Error(`Invalid validator "${B}", expected function`);const v=f[T];if(!(S&&void 0===v||s(v,f)))throw new Error(`Invalid param ${String(T)}=${v} (${typeof v}), expected ${B}`)};for(const[T,B]of Object.entries(y))M(T,B,!1);for(const[T,B]of Object.entries(g))M(T,B,!0);return f}},73040:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.mapToCurveSimpleSWU=H.SWUFpSqrtRatio=H.weierstrass=H.weierstrassPoints=H.DER=void 0;const d=w(63834),E=w(84097),k=w(84097),z=w(25299),{bytesToNumberBE:O,hexToBytes:A}=E;H.DER={Err:class extends Error{constructor(ie=""){super(ie)}},_parseInt(Z){const{Err:ie}=H.DER;if(Z.length<2||2!==Z[0])throw new ie("Invalid signature integer tag");const ae=Z[1],se=Z.subarray(2,ae+2);if(!ae||se.length!==ae)throw new ie("Invalid signature integer: wrong length");if(128&se[0])throw new ie("Invalid signature integer: negative");if(0===se[0]&&!(128&se[1]))throw new ie("Invalid signature integer: unnecessary leading zero");return{d:O(se),l:Z.subarray(ae+2)}},toSig(Z){const{Err:ie}=H.DER,ae="string"==typeof Z?A(Z):Z;if(!E.isBytes(ae))throw new Error("ui8a expected");let se=ae.length;if(se<2||48!=ae[0])throw new ie("Invalid signature tag");if(ae[1]!==se-2)throw new ie("Invalid signature: incorrect length");const{d:de,l:le}=H.DER._parseInt(ae.subarray(2)),{d:be,l:xe}=H.DER._parseInt(le);if(xe.length)throw new ie("Invalid signature: left bytes after parsing");return{r:de,s:be}},hexFromSig(Z){const ie=C=>8&Number.parseInt(C[0],16)?"00"+C:C,ae=C=>{const a=C.toString(16);return 1&a.length?`0${a}`:a},se=ie(ae(Z.s)),de=ie(ae(Z.r)),le=se.length/2,be=de.length/2,xe=ae(le),ke=ae(be);return`30${ae(be+le+4)}02${ke}${de}02${xe}${se}`}};const P=BigInt(0),F=BigInt(1),L=BigInt(2),D=BigInt(3),X=BigInt(4);function j(Z){const ie=function x(Z){const ie=(0,z.validateBasic)(Z);E.validateObject(ie,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:ae,Fp:se,a:de}=ie;if(ae){if(!se.eql(de,se.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof ae||"bigint"!=typeof ae.beta||"function"!=typeof ae.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...ie})}(Z),{Fp:ae}=ie,se=ie.toBytes||((M,T,B)=>{const S=T.toAffine();return E.concatBytes(Uint8Array.from([4]),ae.toBytes(S.x),ae.toBytes(S.y))}),de=ie.fromBytes||(M=>{const T=M.subarray(1);return{x:ae.fromBytes(T.subarray(0,ae.BYTES)),y:ae.fromBytes(T.subarray(ae.BYTES,2*ae.BYTES))}});function le(M){const{a:T,b:B}=ie,S=ae.sqr(M),s=ae.mul(S,M);return ae.add(ae.add(s,ae.mul(M,T)),B)}if(!ae.eql(ae.sqr(ie.Gy),le(ie.Gx)))throw new Error("bad generator point: equation left != right");function be(M){return"bigint"==typeof M&&P<M&&M<ie.n}function xe(M){if(!be(M))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function ke(M){const{allowedPrivateKeyLengths:T,nByteLength:B,wrapPrivateKey:S,n:s}=ie;if(T&&"bigint"!=typeof M){if(E.isBytes(M)&&(M=E.bytesToHex(M)),"string"!=typeof M||!T.includes(M.length))throw new Error("Invalid key");M=M.padStart(2*B,"0")}let v;try{v="bigint"==typeof M?M:E.bytesToNumberBE((0,k.ensureBytes)("private key",M,B))}catch{throw new Error(`private key must be ${B} bytes, hex or bigint, not ${typeof M}`)}return S&&(v=d.mod(v,s)),xe(v),v}const C=new Map;function a(M){if(!(M instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(T,B,S){if(this.px=T,this.py=B,this.pz=S,null==T||!ae.isValid(T))throw new Error("x required");if(null==B||!ae.isValid(B))throw new Error("y required");if(null==S||!ae.isValid(S))throw new Error("z required")}static fromAffine(T){const{x:B,y:S}=T||{};if(!T||!ae.isValid(B)||!ae.isValid(S))throw new Error("invalid affine point");if(T instanceof f)throw new Error("projective point not allowed");const s=v=>ae.eql(v,ae.ZERO);return s(B)&&s(S)?f.ZERO:new f(B,S,ae.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(T){const B=ae.invertBatch(T.map(S=>S.pz));return T.map((S,s)=>S.toAffine(B[s])).map(f.fromAffine)}static fromHex(T){const B=f.fromAffine(de((0,k.ensureBytes)("pointHex",T)));return B.assertValidity(),B}static fromPrivateKey(T){return f.BASE.multiply(ke(T))}_setWindowSize(T){this._WINDOW_SIZE=T,C.delete(this)}assertValidity(){if(this.is0()){if(ie.allowInfinityPoint&&!ae.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:T,y:B}=this.toAffine();if(!ae.isValid(T)||!ae.isValid(B))throw new Error("bad point: x or y not FE");const S=ae.sqr(B),s=le(T);if(!ae.eql(S,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:T}=this.toAffine();if(ae.isOdd)return!ae.isOdd(T);throw new Error("Field doesn't support isOdd")}equals(T){a(T);const{px:B,py:S,pz:s}=this,{px:v,py:W,pz:K}=T,ee=ae.eql(ae.mul(B,K),ae.mul(v,s)),ce=ae.eql(ae.mul(S,K),ae.mul(W,s));return ee&&ce}negate(){return new f(this.px,ae.neg(this.py),this.pz)}double(){const{a:T,b:B}=ie,S=ae.mul(B,D),{px:s,py:v,pz:W}=this;let K=ae.ZERO,ee=ae.ZERO,ce=ae.ZERO,_e=ae.mul(s,s),Oe=ae.mul(v,v),Ve=ae.mul(W,W),Se=ae.mul(s,v);return Se=ae.add(Se,Se),ce=ae.mul(s,W),ce=ae.add(ce,ce),K=ae.mul(T,ce),ee=ae.mul(S,Ve),ee=ae.add(K,ee),K=ae.sub(Oe,ee),ee=ae.add(Oe,ee),ee=ae.mul(K,ee),K=ae.mul(Se,K),ce=ae.mul(S,ce),Ve=ae.mul(T,Ve),Se=ae.sub(_e,Ve),Se=ae.mul(T,Se),Se=ae.add(Se,ce),ce=ae.add(_e,_e),_e=ae.add(ce,_e),_e=ae.add(_e,Ve),_e=ae.mul(_e,Se),ee=ae.add(ee,_e),Ve=ae.mul(v,W),Ve=ae.add(Ve,Ve),_e=ae.mul(Ve,Se),K=ae.sub(K,_e),ce=ae.mul(Ve,Oe),ce=ae.add(ce,ce),ce=ae.add(ce,ce),new f(K,ee,ce)}add(T){a(T);const{px:B,py:S,pz:s}=this,{px:v,py:W,pz:K}=T;let ee=ae.ZERO,ce=ae.ZERO,_e=ae.ZERO;const Oe=ie.a,Ve=ae.mul(ie.b,D);let Se=ae.mul(B,v),we=ae.mul(S,W),Ue=ae.mul(s,K),ye=ae.add(B,S),De=ae.add(v,W);ye=ae.mul(ye,De),De=ae.add(Se,we),ye=ae.sub(ye,De),De=ae.add(B,s);let pe=ae.add(v,K);return De=ae.mul(De,pe),pe=ae.add(Se,Ue),De=ae.sub(De,pe),pe=ae.add(S,s),ee=ae.add(W,K),pe=ae.mul(pe,ee),ee=ae.add(we,Ue),pe=ae.sub(pe,ee),_e=ae.mul(Oe,De),ee=ae.mul(Ve,Ue),_e=ae.add(ee,_e),ee=ae.sub(we,_e),_e=ae.add(we,_e),ce=ae.mul(ee,_e),we=ae.add(Se,Se),we=ae.add(we,Se),Ue=ae.mul(Oe,Ue),De=ae.mul(Ve,De),we=ae.add(we,Ue),Ue=ae.sub(Se,Ue),Ue=ae.mul(Oe,Ue),De=ae.add(De,Ue),Se=ae.mul(we,De),ce=ae.add(ce,Se),Se=ae.mul(pe,De),ee=ae.mul(ye,ee),ee=ae.sub(ee,Se),Se=ae.mul(ye,we),_e=ae.mul(pe,_e),_e=ae.add(_e,Se),new f(ee,ce,_e)}subtract(T){return this.add(T.negate())}is0(){return this.equals(f.ZERO)}wNAF(T){return g.wNAFCached(this,C,T,B=>{const S=ae.invertBatch(B.map(s=>s.pz));return B.map((s,v)=>s.toAffine(S[v])).map(f.fromAffine)})}multiplyUnsafe(T){const B=f.ZERO;if(T===P)return B;if(xe(T),T===F)return this;const{endo:S}=ie;if(!S)return g.unsafeLadder(this,T);let{k1neg:s,k1:v,k2neg:W,k2:K}=S.splitScalar(T),ee=B,ce=B,_e=this;for(;v>P||K>P;)v&F&&(ee=ee.add(_e)),K&F&&(ce=ce.add(_e)),_e=_e.double(),v>>=F,K>>=F;return s&&(ee=ee.negate()),W&&(ce=ce.negate()),ce=new f(ae.mul(ce.px,S.beta),ce.py,ce.pz),ee.add(ce)}multiply(T){xe(T);let S,s,B=T;const{endo:v}=ie;if(v){const{k1neg:W,k1:K,k2neg:ee,k2:ce}=v.splitScalar(B);let{p:_e,f:Oe}=this.wNAF(K),{p:Ve,f:Se}=this.wNAF(ce);_e=g.constTimeNegate(W,_e),Ve=g.constTimeNegate(ee,Ve),Ve=new f(ae.mul(Ve.px,v.beta),Ve.py,Ve.pz),S=_e.add(Ve),s=Oe.add(Se)}else{const{p:W,f:K}=this.wNAF(B);S=W,s=K}return f.normalizeZ([S,s])[0]}multiplyAndAddUnsafe(T,B,S){const s=f.BASE,v=(K,ee)=>ee!==P&&ee!==F&&K.equals(s)?K.multiply(ee):K.multiplyUnsafe(ee),W=v(this,B).add(v(T,S));return W.is0()?void 0:W}toAffine(T){const{px:B,py:S,pz:s}=this,v=this.is0();null==T&&(T=v?ae.ONE:ae.inv(s));const W=ae.mul(B,T),K=ae.mul(S,T),ee=ae.mul(s,T);if(v)return{x:ae.ZERO,y:ae.ZERO};if(!ae.eql(ee,ae.ONE))throw new Error("invZ was invalid");return{x:W,y:K}}isTorsionFree(){const{h:T,isTorsionFree:B}=ie;if(T===F)return!0;if(B)return B(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:T,clearCofactor:B}=ie;return T===F?this:B?B(f,this):this.multiplyUnsafe(ie.h)}toRawBytes(T=!0){return this.assertValidity(),se(f,this,T)}toHex(T=!0){return E.bytesToHex(this.toRawBytes(T))}}f.BASE=new f(ie.Gx,ie.Gy,ae.ONE),f.ZERO=new f(ae.ZERO,ae.ONE,ae.ZERO);const y=ie.nBitLength,g=(0,z.wNAF)(f,ie.endo?Math.ceil(y/2):y);return{CURVE:ie,ProjectivePoint:f,normPrivateKeyToScalar:ke,weierstrassEquation:le,isWithinCurveOrder:be}}function te(Z,ie){const ae=Z.ORDER;let se=P;for(let M=ae-F;M%L===P;M/=L)se+=F;const de=se,le=L<<de-F-F,be=le*L,xe=(ae-F)/be,ke=(xe-F)/L,C=be-F,a=le,f=Z.pow(ie,xe),y=Z.pow(ie,(xe+F)/L);let g=(M,T)=>{let B=f,S=Z.pow(T,C),s=Z.sqr(S);s=Z.mul(s,T);let v=Z.mul(M,s);v=Z.pow(v,ke),v=Z.mul(v,S),S=Z.mul(v,T),s=Z.mul(v,M);let W=Z.mul(s,S);v=Z.pow(W,a);let K=Z.eql(v,Z.ONE);S=Z.mul(s,y),v=Z.mul(W,B),s=Z.cmov(S,s,K),W=Z.cmov(v,W,K);for(let ee=de;ee>F;ee--){let ce=ee-L;ce=L<<ce-F;let _e=Z.pow(W,ce);const Oe=Z.eql(_e,Z.ONE);S=Z.mul(s,B),B=Z.mul(B,B),_e=Z.mul(W,B),s=Z.cmov(S,s,Oe),W=Z.cmov(_e,W,Oe)}return{isValid:K,value:s}};if(Z.ORDER%X===D){const M=(Z.ORDER-D)/X,T=Z.sqrt(Z.neg(ie));g=(B,S)=>{let s=Z.sqr(S);const v=Z.mul(B,S);s=Z.mul(s,v);let W=Z.pow(s,M);W=Z.mul(W,v);const K=Z.mul(W,T),ee=Z.mul(Z.sqr(W),S),ce=Z.eql(ee,B);return{isValid:ce,value:Z.cmov(K,W,ce)}}}return g}H.weierstrassPoints=j,H.weierstrass=function re(Z){const ie=function G(Z){const ie=(0,z.validateBasic)(Z);return E.validateObject(ie,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...ie})}(Z),{Fp:ae,n:se}=ie,de=ae.BYTES+1,le=2*ae.BYTES+1;function xe(De){return d.mod(De,se)}function ke(De){return d.invert(De,se)}const{ProjectivePoint:C,normPrivateKeyToScalar:a,weierstrassEquation:f,isWithinCurveOrder:y}=j({...ie,toBytes(De,pe,ue){const Q=pe.toAffine(),oe=ae.toBytes(Q.x),fe=E.concatBytes;return ue?fe(Uint8Array.from([pe.hasEvenY()?2:3]),oe):fe(Uint8Array.from([4]),oe,ae.toBytes(Q.y))},fromBytes(De){const pe=De.length,ue=De[0],Q=De.subarray(1);if(pe!==de||2!==ue&&3!==ue){if(pe===le&&4===ue)return{x:ae.fromBytes(Q.subarray(0,ae.BYTES)),y:ae.fromBytes(Q.subarray(ae.BYTES,2*ae.BYTES))};throw new Error(`Point of length ${pe} was invalid. Expected ${de} compressed bytes or ${le} uncompressed bytes`)}{const oe=E.bytesToNumberBE(Q);if(!function be(De){return P<De&&De<ae.ORDER}(oe))throw new Error("Point is not on curve");const fe=f(oe);let Ee=ae.sqrt(fe);return!(1&~ue)!=((Ee&F)===F)&&(Ee=ae.neg(Ee)),{x:oe,y:Ee}}}}),g=De=>E.bytesToHex(E.numberToBytesBE(De,ie.nByteLength));function M(De){return De>se>>F}const B=(De,pe,ue)=>E.bytesToNumberBE(De.slice(pe,ue));class S{constructor(pe,ue,Q){this.r=pe,this.s=ue,this.recovery=Q,this.assertValidity()}static fromCompact(pe){const ue=ie.nByteLength;return pe=(0,k.ensureBytes)("compactSignature",pe,2*ue),new S(B(pe,0,ue),B(pe,ue,2*ue))}static fromDER(pe){const{r:ue,s:Q}=H.DER.toSig((0,k.ensureBytes)("DER",pe));return new S(ue,Q)}assertValidity(){if(!y(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!y(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(pe){return new S(this.r,this.s,pe)}recoverPublicKey(pe){const{r:ue,s:Q,recovery:oe}=this,fe=ce((0,k.ensureBytes)("msgHash",pe));if(null==oe||![0,1,2,3].includes(oe))throw new Error("recovery id invalid");const Ee=2===oe||3===oe?ue+ie.n:ue;if(Ee>=ae.ORDER)throw new Error("recovery id 2 or 3 invalid");const $e=C.fromHex((1&oe?"03":"02")+g(Ee)),Fe=ke(Ee),_t=xe(-fe*Fe),We=xe(Q*Fe),Le=C.BASE.multiplyAndAddUnsafe($e,_t,We);if(!Le)throw new Error("point at infinify");return Le.assertValidity(),Le}hasHighS(){return M(this.s)}normalizeS(){return this.hasHighS()?new S(this.r,xe(-this.s),this.recovery):this}toDERRawBytes(){return E.hexToBytes(this.toDERHex())}toDERHex(){return H.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return E.hexToBytes(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}const s={isValidPrivateKey(De){try{return a(De),!0}catch{return!1}},normPrivateKeyToScalar:a,randomPrivateKey:()=>{const De=d.getMinHashLength(ie.n);return d.mapHashToField(ie.randomBytes(De),ie.n)},precompute:(De=8,pe=C.BASE)=>(pe._setWindowSize(De),pe.multiply(BigInt(3)),pe)};function W(De){const pe=E.isBytes(De),ue="string"==typeof De,Q=(pe||ue)&&De.length;return pe?Q===de||Q===le:ue?Q===2*de||Q===2*le:De instanceof C}const ee=ie.bits2int||function(De){const pe=E.bytesToNumberBE(De),ue=8*De.length-ie.nBitLength;return ue>0?pe>>BigInt(ue):pe},ce=ie.bits2int_modN||function(De){return xe(ee(De))},_e=E.bitMask(ie.nBitLength);function Oe(De){if("bigint"!=typeof De)throw new Error("bigint expected");if(!(P<=De&&De<_e))throw new Error(`bigint expected < 2^${ie.nBitLength}`);return E.numberToBytesBE(De,ie.nByteLength)}const Se={lowS:ie.lowS,prehash:!1},we={lowS:ie.lowS,prehash:!1};return C.BASE._setWindowSize(8),{CURVE:ie,getPublicKey:function v(De,pe=!0){return C.fromPrivateKey(De).toRawBytes(pe)},getSharedSecret:function K(De,pe,ue=!0){if(W(De))throw new Error("first arg must be private key");if(!W(pe))throw new Error("second arg must be public key");return C.fromHex(pe).multiply(a(De)).toRawBytes(ue)},sign:function Ue(De,pe,ue=Se){const{seed:Q,k2sig:oe}=function Ve(De,pe,ue=Se){if(["recovered","canonical"].some(N=>N in ue))throw new Error("sign() legacy options not supported");const{hash:Q,randomBytes:oe}=ie;let{lowS:fe,prehash:Ee,extraEntropy:Re}=ue;null==fe&&(fe=!0),De=(0,k.ensureBytes)("msgHash",De),Ee&&(De=(0,k.ensureBytes)("prehashed msgHash",Q(De)));const $e=ce(De),Fe=a(pe),_t=[Oe(Fe),Oe($e)];if(null!=Re){const N=!0===Re?oe(ae.BYTES):Re;_t.push((0,k.ensureBytes)("extraEntropy",N))}const We=E.concatBytes(..._t),Le=$e;return{seed:We,k2sig:function lt(N){const _=ee(N);if(!y(_))return;const m=ke(_),U=C.BASE.multiply(_).toAffine(),ne=xe(U.x);if(ne===P)return;const ge=xe(m*xe(Le+ne*Fe));if(ge===P)return;let Ae=(U.x===ne?0:2)|Number(U.y&F),tt=ge;return fe&&M(ge)&&(tt=function T(De){return M(De)?xe(-De):De}(ge),Ae^=1),new S(ne,tt,Ae)}}}(De,pe,ue);return E.createHmacDrbg(ie.hash.outputLen,ie.nByteLength,ie.hmac)(Q,oe)},verify:function ye(De,pe,ue,Q=we){const oe=De;if(pe=(0,k.ensureBytes)("msgHash",pe),ue=(0,k.ensureBytes)("publicKey",ue),"strict"in Q)throw new Error("options.strict was renamed to lowS");const{lowS:fe,prehash:Ee}=Q;let Re,$e;try{if("string"==typeof oe||E.isBytes(oe))try{Re=S.fromDER(oe)}catch(U){if(!(U instanceof H.DER.Err))throw U;Re=S.fromCompact(oe)}else{if("object"!=typeof oe||"bigint"!=typeof oe.r||"bigint"!=typeof oe.s)throw new Error("PARSE");{const{r:U,s:ne}=oe;Re=new S(U,ne)}}$e=C.fromHex(ue)}catch(U){if("PARSE"===U.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(fe&&Re.hasHighS())return!1;Ee&&(pe=ie.hash(pe));const{r:Fe,s:_t}=Re,We=ce(pe),Le=ke(_t),lt=xe(We*Le),N=xe(Fe*Le),_=C.BASE.multiplyAndAddUnsafe($e,lt,N)?.toAffine();return!!_&&xe(_.x)===Fe},ProjectivePoint:C,Signature:S,utils:s}},H.SWUFpSqrtRatio=te,H.mapToCurveSimpleSWU=function J(Z,ie){if(d.validateField(Z),!Z.isValid(ie.A)||!Z.isValid(ie.B)||!Z.isValid(ie.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const ae=te(Z,ie.Z);if(!Z.isOdd)throw new Error("Fp.isOdd is not implemented!");return se=>{let de,le,be,xe,ke,C,a,f;de=Z.sqr(se),de=Z.mul(de,ie.Z),le=Z.sqr(de),le=Z.add(le,de),be=Z.add(le,Z.ONE),be=Z.mul(be,ie.B),xe=Z.cmov(ie.Z,Z.neg(le),!Z.eql(le,Z.ZERO)),xe=Z.mul(xe,ie.A),le=Z.sqr(be),C=Z.sqr(xe),ke=Z.mul(C,ie.A),le=Z.add(le,ke),le=Z.mul(le,be),C=Z.mul(C,xe),ke=Z.mul(C,ie.B),le=Z.add(le,ke),a=Z.mul(de,be);const{isValid:y,value:g}=ae(le,C);f=Z.mul(de,se),f=Z.mul(f,g),a=Z.cmov(a,be,y),f=Z.cmov(f,g,y);const M=Z.isOdd(se)===Z.isOdd(f);return f=Z.cmov(Z.neg(f),f,M),a=Z.div(a,xe),{x:a,y:f}}}},57340:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.hash_to_ristretto255=H.hashToRistretto255=H.RistrettoPoint=H.encodeToCurve=H.hashToCurve=H.edwardsToMontgomeryPriv=H.edwardsToMontgomery=H.edwardsToMontgomeryPub=H.x25519=H.ed25519ph=H.ed25519ctx=H.ed25519=H.ED25519_TORSION_SUBGROUP=void 0;const d=w(44207),E=w(96492),k=w(45068),z=w(27661),x=w(63834),O=w(84097),A=w(75752),P=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),F=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),L=BigInt(0),D=BigInt(1),X=BigInt(2),j=BigInt(5),G=BigInt(10),re=BigInt(20),te=BigInt(40),J=BigInt(80);function Z(Ue){const ye=P,pe=Ue*Ue%ye*Ue%ye,ue=(0,x.pow2)(pe,X,ye)*pe%ye,Q=(0,x.pow2)(ue,D,ye)*Ue%ye,oe=(0,x.pow2)(Q,j,ye)*Q%ye,fe=(0,x.pow2)(oe,G,ye)*oe%ye,Ee=(0,x.pow2)(fe,re,ye)*fe%ye,Re=(0,x.pow2)(Ee,te,ye)*Ee%ye,$e=(0,x.pow2)(Re,J,ye)*Re%ye,Fe=(0,x.pow2)($e,J,ye)*Re%ye,_t=(0,x.pow2)(Fe,G,ye)*oe%ye;return{pow_p_5_8:(0,x.pow2)(_t,X,ye)*Ue%ye,b2:pe}}function ie(Ue){return Ue[0]&=248,Ue[31]&=127,Ue[31]|=64,Ue}function ae(Ue,ye){const De=P,pe=(0,x.mod)(ye*ye*ye,De),Q=Z(Ue*(0,x.mod)(pe*pe*ye,De)).pow_p_5_8;let oe=(0,x.mod)(Ue*pe*Q,De);const fe=(0,x.mod)(ye*oe*oe,De),Ee=oe,Re=(0,x.mod)(oe*F,De),$e=fe===Ue,Fe=fe===(0,x.mod)(-Ue,De),_t=fe===(0,x.mod)(-Ue*F,De);return $e&&(oe=Ee),(Fe||_t)&&(oe=Re),(0,x.isNegativeLE)(oe,De)&&(oe=(0,x.mod)(-oe,De)),{isValid:$e||Fe,value:oe}}H.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const se=(0,x.Field)(P,void 0,!0),de={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:se,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:d.sha512,randomBytes:E.randomBytes,adjustScalarBytes:ie,uvRatio:ae};function le(Ue,ye,De){if(ye.length>255)throw new Error("Context is too big");return(0,E.concatBytes)((0,E.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([De?1:0,ye.length]),ye,Ue)}function be(Ue){const{y:ye}=H.ed25519.ExtendedPoint.fromHex(Ue),De=BigInt(1);return se.toBytes(se.create((De+ye)*se.inv(De-ye)))}H.ed25519=(0,k.twistedEdwards)(de),H.ed25519ctx=(0,k.twistedEdwards)({...de,domain:le}),H.ed25519ph=(0,k.twistedEdwards)({...de,domain:le,prehash:d.sha512}),H.x25519=(0,z.montgomery)({P,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:Ue=>{const ye=P,{pow_p_5_8:De,b2:pe}=Z(Ue);return(0,x.mod)((0,x.pow2)(De,BigInt(3),ye)*pe,ye)},adjustScalarBytes:ie,randomBytes:E.randomBytes}),H.edwardsToMontgomeryPub=be,H.edwardsToMontgomery=be,H.edwardsToMontgomeryPriv=function xe(Ue){const ye=de.hash(Ue.subarray(0,32));return de.adjustScalarBytes(ye).subarray(0,32)};const ke=(se.ORDER+BigInt(3))/BigInt(8),C=se.pow(X,ke),a=se.sqrt(se.neg(se.ONE)),f=(se.ORDER-BigInt(5))/BigInt(8),y=BigInt(486662),M=(0,x.FpSqrtEven)(se,se.neg(BigInt(486664)));const B=(0,A.createHasher)(H.ed25519.ExtendedPoint,Ue=>function T(Ue){const{xMn:ye,xMd:De,yMn:pe,yMd:ue}=function g(Ue){let ye=se.sqr(Ue);ye=se.mul(ye,X);let De=se.add(ye,se.ONE),pe=se.neg(y),ue=se.sqr(De),Q=se.mul(ue,De),oe=se.mul(ye,y);oe=se.mul(oe,pe),oe=se.add(oe,ue),oe=se.mul(oe,pe);let fe=se.sqr(Q);ue=se.sqr(fe),fe=se.mul(fe,Q),fe=se.mul(fe,oe),ue=se.mul(ue,fe);let Ee=se.pow(ue,f);Ee=se.mul(Ee,fe);let Re=se.mul(Ee,a);ue=se.sqr(Ee),ue=se.mul(ue,Q);let $e=se.eql(ue,oe),Fe=se.cmov(Re,Ee,$e),_t=se.mul(pe,ye),We=se.mul(Ee,Ue);We=se.mul(We,C);let Le=se.mul(We,a),lt=se.mul(oe,ye);ue=se.sqr(We),ue=se.mul(ue,Q);let N=se.eql(ue,lt),_=se.cmov(Le,We,N);ue=se.sqr(Fe),ue=se.mul(ue,Q);let m=se.eql(ue,oe),U=se.cmov(_t,pe,m),ne=se.cmov(_,Fe,m),ge=se.isOdd(ne);return ne=se.cmov(ne,se.neg(ne),m!==ge),{xMn:U,xMd:De,yMn:ne,yMd:D}}(Ue);let Q=se.mul(ye,ue);Q=se.mul(Q,M);let oe=se.mul(De,pe),fe=se.sub(ye,De),Ee=se.add(ye,De),Re=se.mul(oe,Ee),$e=se.eql(Re,se.ZERO);Q=se.cmov(Q,se.ZERO,$e),oe=se.cmov(oe,se.ONE,$e),fe=se.cmov(fe,se.ONE,$e),Ee=se.cmov(Ee,se.ONE,$e);const Fe=se.invertBatch([oe,Ee]);return{x:se.mul(Q,Fe[0]),y:se.mul(fe,Fe[1])}}(Ue[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:se.ORDER,m:1,k:128,expand:"xmd",hash:d.sha512});function S(Ue){if(!(Ue instanceof Se))throw new Error("RistrettoPoint expected")}H.hashToCurve=B.hashToCurve,H.encodeToCurve=B.encodeToCurve;const s=F,v=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),W=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),K=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),ee=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),ce=Ue=>ae(D,Ue),_e=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Oe=Ue=>H.ed25519.CURVE.Fp.create((0,O.bytesToNumberLE)(Ue)&_e);function Ve(Ue){const{d:ye}=H.ed25519.CURVE,De=H.ed25519.CURVE.Fp.ORDER,pe=H.ed25519.CURVE.Fp.create,ue=pe(s*Ue*Ue),Q=pe((ue+D)*K);let oe=BigInt(-1);const fe=pe((oe-ye*ue)*pe(ue+ye));let{isValid:Ee,value:Re}=ae(Q,fe),$e=pe(Re*Ue);(0,x.isNegativeLE)($e,De)||($e=pe(-$e)),Ee||(Re=$e),Ee||(oe=ue);const Fe=pe(oe*(ue-D)*ee-fe),_t=Re*Re,We=pe((Re+Re)*fe),Le=pe(Fe*v),lt=pe(D-_t),N=pe(D+_t);return new H.ed25519.ExtendedPoint(pe(We*N),pe(lt*Le),pe(Le*N),pe(We*lt))}class Se{constructor(ye){this.ep=ye}static fromAffine(ye){return new Se(H.ed25519.ExtendedPoint.fromAffine(ye))}static hashToCurve(ye){ye=(0,O.ensureBytes)("ristrettoHash",ye,64);const pe=Ve(Oe(ye.slice(0,32))),Q=Ve(Oe(ye.slice(32,64)));return new Se(pe.add(Q))}static fromHex(ye){ye=(0,O.ensureBytes)("ristrettoHex",ye,32);const{a:De,d:pe}=H.ed25519.CURVE,ue=H.ed25519.CURVE.Fp.ORDER,Q=H.ed25519.CURVE.Fp.create,oe="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",fe=Oe(ye);if(!(0,O.equalBytes)((0,O.numberToBytesLE)(fe,32),ye)||(0,x.isNegativeLE)(fe,ue))throw new Error(oe);const Ee=Q(fe*fe),Re=Q(D+De*Ee),$e=Q(D-De*Ee),Fe=Q(Re*Re),_t=Q($e*$e),We=Q(De*pe*Fe-_t),{isValid:Le,value:lt}=ce(Q(We*_t)),N=Q(lt*$e),_=Q(lt*N*We);let m=Q((fe+fe)*N);(0,x.isNegativeLE)(m,ue)&&(m=Q(-m));const U=Q(Re*_),ne=Q(m*U);if(!Le||(0,x.isNegativeLE)(ne,ue)||U===L)throw new Error(oe);return new Se(new H.ed25519.ExtendedPoint(m,U,D,ne))}toRawBytes(){let{ex:ye,ey:De,ez:pe,et:ue}=this.ep;const Q=H.ed25519.CURVE.Fp.ORDER,oe=H.ed25519.CURVE.Fp.create,fe=oe(oe(pe+De)*oe(pe-De)),Ee=oe(ye*De),Re=oe(Ee*Ee),{value:$e}=ce(oe(fe*Re)),Fe=oe($e*fe),_t=oe($e*Ee),We=oe(Fe*_t*ue);let Le;if((0,x.isNegativeLE)(ue*We,Q)){let N=oe(De*s),_=oe(ye*s);ye=N,De=_,Le=oe(Fe*W)}else Le=_t;(0,x.isNegativeLE)(ye*We,Q)&&(De=oe(-De));let lt=oe((pe-De)*Le);return(0,x.isNegativeLE)(lt,Q)&&(lt=oe(-lt)),(0,O.numberToBytesLE)(lt,32)}toHex(){return(0,O.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(ye){S(ye);const{ex:De,ey:pe}=this.ep,{ex:ue,ey:Q}=ye.ep,oe=H.ed25519.CURVE.Fp.create,fe=oe(De*Q)===oe(pe*ue),Ee=oe(pe*Q)===oe(De*ue);return fe||Ee}add(ye){return S(ye),new Se(this.ep.add(ye.ep))}subtract(ye){return S(ye),new Se(this.ep.subtract(ye.ep))}multiply(ye){return new Se(this.ep.multiply(ye))}multiplyUnsafe(ye){return new Se(this.ep.multiplyUnsafe(ye))}double(){return new Se(this.ep.double())}negate(){return new Se(this.ep.negate())}}H.RistrettoPoint=(Se.BASE||(Se.BASE=new Se(H.ed25519.ExtendedPoint.BASE)),Se.ZERO||(Se.ZERO=new Se(H.ed25519.ExtendedPoint.ZERO)),Se),H.hashToRistretto255=(Ue,ye)=>{const De=ye.DST,pe="string"==typeof De?(0,E.utf8ToBytes)(De):De,ue=(0,A.expand_message_xmd)(Ue,pe,64,d.sha512);return Se.hashToCurve(ue)},H.hash_to_ristretto255=H.hashToRistretto255},91717:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.encodeToCurve=H.hashToCurve=H.schnorr=H.secp256k1=void 0;const d=w(1806),E=w(96492),k=w(63834),z=w(73040),x=w(84097),O=w(75752),A=w(4521),P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),F=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),L=BigInt(1),D=BigInt(2),X=(S,s)=>(S+s/D)/s;function j(S){const s=P,v=BigInt(3),W=BigInt(6),K=BigInt(11),ee=BigInt(22),ce=BigInt(23),_e=BigInt(44),Oe=BigInt(88),Ve=S*S*S%s,Se=Ve*Ve*S%s,we=(0,k.pow2)(Se,v,s)*Se%s,Ue=(0,k.pow2)(we,v,s)*Se%s,ye=(0,k.pow2)(Ue,D,s)*Ve%s,De=(0,k.pow2)(ye,K,s)*ye%s,pe=(0,k.pow2)(De,ee,s)*De%s,ue=(0,k.pow2)(pe,_e,s)*pe%s,Q=(0,k.pow2)(ue,Oe,s)*ue%s,oe=(0,k.pow2)(Q,_e,s)*pe%s,fe=(0,k.pow2)(oe,v,s)*Se%s,Ee=(0,k.pow2)(fe,ce,s)*De%s,Re=(0,k.pow2)(Ee,W,s)*Ve%s,$e=(0,k.pow2)(Re,D,s);if(!G.eql(G.sqr($e),S))throw new Error("Cannot find square root");return $e}const G=(0,k.Field)(P,void 0,void 0,{sqrt:j});H.secp256k1=(0,A.createCurve)({a:BigInt(0),b:BigInt(7),Fp:G,n:F,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:S=>{const s=F,v=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),W=-L*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),K=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),ee=v,ce=BigInt("0x100000000000000000000000000000000"),_e=X(ee*S,s),Oe=X(-W*S,s);let Ve=(0,k.mod)(S-_e*v-Oe*K,s),Se=(0,k.mod)(-_e*W-Oe*ee,s);const we=Ve>ce,Ue=Se>ce;if(we&&(Ve=s-Ve),Ue&&(Se=s-Se),Ve>ce||Se>ce)throw new Error("splitScalar: Endomorphism failed, k="+S);return{k1neg:we,k1:Ve,k2neg:Ue,k2:Se}}}},d.sha256);const re=BigInt(0),te=S=>"bigint"==typeof S&&re<S&&S<P,Z={};function ie(S,...s){let v=Z[S];if(void 0===v){const W=(0,d.sha256)(Uint8Array.from(S,K=>K.charCodeAt(0)));v=(0,x.concatBytes)(W,W),Z[S]=v}return(0,d.sha256)((0,x.concatBytes)(v,...s))}const ae=S=>S.toRawBytes(!0).slice(1),se=S=>(0,x.numberToBytesBE)(S,32),de=S=>(0,k.mod)(S,P),le=S=>(0,k.mod)(S,F),be=H.secp256k1.ProjectivePoint;function ke(S){let s=H.secp256k1.utils.normPrivateKeyToScalar(S),v=be.fromPrivateKey(s);return{scalar:v.hasEvenY()?s:le(-s),bytes:ae(v)}}function C(S){if(!te(S))throw new Error("bad x: need 0 < x < p");const s=de(S*S);let W=j(de(s*S+BigInt(7)));W%D!==re&&(W=de(-W));const K=new be(S,W,L);return K.assertValidity(),K}function a(...S){return le((0,x.bytesToNumberBE)(ie("BIP0340/challenge",...S)))}function g(S,s,v){const W=(0,x.ensureBytes)("signature",S,64),K=(0,x.ensureBytes)("message",s),ee=(0,x.ensureBytes)("publicKey",v,32);try{const ce=C((0,x.bytesToNumberBE)(ee)),_e=(0,x.bytesToNumberBE)(W.subarray(0,32));if(!te(_e))return!1;const Oe=(0,x.bytesToNumberBE)(W.subarray(32,64));if(!(S=>"bigint"==typeof S&&re<S&&S<F)(Oe))return!1;const Ve=a(se(_e),ae(ce),K),Se=((S,s,v)=>be.BASE.multiplyAndAddUnsafe(S,s,v))(ce,Oe,le(-Ve));return!(!Se||!Se.hasEvenY()||Se.toAffine().x!==_e)}catch{return!1}}H.schnorr={getPublicKey:function f(S){return ke(S).bytes},sign:function y(S,s,v=(0,E.randomBytes)(32)){const W=(0,x.ensureBytes)("message",S),{bytes:K,scalar:ee}=ke(s),ce=(0,x.ensureBytes)("auxRand",v,32),_e=se(ee^(0,x.bytesToNumberBE)(ie("BIP0340/aux",ce))),Oe=ie("BIP0340/nonce",_e,K,W),Ve=le((0,x.bytesToNumberBE)(Oe));if(Ve===re)throw new Error("sign failed: k is zero");const{bytes:Se,scalar:we}=ke(Ve),Ue=a(Se,K,W),ye=new Uint8Array(64);if(ye.set(Se,0),ye.set(se(le(we+Ue*ee)),32),!g(ye,W,K))throw new Error("sign: Invalid signature produced");return ye},verify:g,utils:{randomPrivateKey:H.secp256k1.utils.randomPrivateKey,lift_x:C,pointToBytes:ae,numberToBytesBE:x.numberToBytesBE,bytesToNumberBE:x.bytesToNumberBE,taggedHash:ie,mod:k.mod}};const M=(0,O.isogenyMap)(G,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(S=>S.map(s=>BigInt(s)))),T=(0,z.mapToCurveSimpleSWU)(G,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:G.create(BigInt("-11"))}),B=(0,O.createHasher)(H.secp256k1.ProjectivePoint,S=>{const{x:s,y:v}=T(G.create(S[0]));return M(s,v)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:G.ORDER,m:1,k:128,expand:"xmd",hash:d.sha256});H.hashToCurve=B.hashToCurve,H.encodeToCurve=B.encodeToCurve},68578:(je,H)=>{"use strict";function w(P){if(!Number.isSafeInteger(P)||P<0)throw new Error(`Wrong positive integer: ${P}`)}function d(P){if("boolean"!=typeof P)throw new Error(`Expected boolean, not ${P}`)}function k(P,...F){if(!function E(P){return P instanceof Uint8Array||null!=P&&"object"==typeof P&&"Uint8Array"===P.constructor.name}(P))throw new Error("Expected Uint8Array");if(F.length>0&&!F.includes(P.length))throw new Error(`Expected Uint8Array of length ${F}, not of length=${P.length}`)}function z(P){if("function"!=typeof P||"function"!=typeof P.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");w(P.outputLen),w(P.blockLen)}function x(P,F=!0){if(P.destroyed)throw new Error("Hash instance has been destroyed");if(F&&P.finished)throw new Error("Hash#digest() has already been called")}function O(P,F){k(P);const L=F.outputLen;if(P.length<L)throw new Error(`digestInto() expects output buffer of length at least ${L}`)}Object.defineProperty(H,"__esModule",{value:!0}),H.output=H.exists=H.hash=H.bytes=H.bool=H.number=void 0,H.number=w,H.bool=d,H.bytes=k,H.hash=z,H.exists=x,H.output=O,H.default={number:w,bool:d,bytes:k,hash:z,exists:x,output:O}},25724:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.SHA2=void 0;const d=w(68578),E=w(96492);H.SHA2=class z extends E.Hash{constructor(O,A,P,F){super(),this.blockLen=O,this.outputLen=A,this.padOffset=P,this.isLE=F,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(O),this.view=(0,E.createView)(this.buffer)}update(O){(0,d.exists)(this);const{view:A,buffer:P,blockLen:F}=this,L=(O=(0,E.toBytes)(O)).length;for(let D=0;D<L;){const X=Math.min(F-this.pos,L-D);if(X!==F)P.set(O.subarray(D,D+X),this.pos),this.pos+=X,D+=X,this.pos===F&&(this.process(A,0),this.pos=0);else{const j=(0,E.createView)(O);for(;F<=L-D;D+=F)this.process(j,D)}}return this.length+=O.length,this.roundClean(),this}digestInto(O){(0,d.exists)(this),(0,d.output)(O,this),this.finished=!0;const{buffer:A,view:P,blockLen:F,isLE:L}=this;let{pos:D}=this;A[D++]=128,this.buffer.subarray(D).fill(0),this.padOffset>F-D&&(this.process(P,0),D=0);for(let te=D;te<F;te++)A[te]=0;(function k(x,O,A,P){if("function"==typeof x.setBigUint64)return x.setBigUint64(O,A,P);const F=BigInt(32),L=BigInt(4294967295),D=Number(A>>F&L),X=Number(A&L),G=P?0:4;x.setUint32(O+(P?4:0),D,P),x.setUint32(O+G,X,P)})(P,F-8,BigInt(8*this.length),L),this.process(P,0);const X=(0,E.createView)(O),j=this.outputLen;if(j%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const G=j/4,re=this.get();if(G>re.length)throw new Error("_sha2: outputLen bigger than state");for(let te=0;te<G;te++)X.setUint32(4*te,re[te],L)}digest(){const{buffer:O,outputLen:A}=this;this.digestInto(O);const P=O.slice(0,A);return this.destroy(),P}_cloneInto(O){O||(O=new this.constructor),O.set(...this.get());const{blockLen:A,buffer:P,length:F,finished:L,destroyed:D,pos:X}=this;return O.length=F,O.pos=X,O.finished=L,O.destroyed=D,F%A&&O.buffer.set(P),O}}},35059:(je,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.add5L=H.add5H=H.add4H=H.add4L=H.add3H=H.add3L=H.add=H.rotlBL=H.rotlBH=H.rotlSL=H.rotlSH=H.rotr32L=H.rotr32H=H.rotrBL=H.rotrBH=H.rotrSL=H.rotrSH=H.shrSL=H.shrSH=H.toBig=H.split=H.fromBig=void 0;const w=BigInt(2**32-1),d=BigInt(32);function E(xe,ke=!1){return ke?{h:Number(xe&w),l:Number(xe>>d&w)}:{h:0|Number(xe>>d&w),l:0|Number(xe&w)}}function k(xe,ke=!1){let C=new Uint32Array(xe.length),a=new Uint32Array(xe.length);for(let f=0;f<xe.length;f++){const{h:y,l:g}=E(xe[f],ke);[C[f],a[f]]=[y,g]}return[C,a]}H.fromBig=E,H.split=k;const z=(xe,ke)=>BigInt(xe>>>0)<<d|BigInt(ke>>>0);H.toBig=z;const x=(xe,ke,C)=>xe>>>C;H.shrSH=x;const O=(xe,ke,C)=>xe<<32-C|ke>>>C;H.shrSL=O;const A=(xe,ke,C)=>xe>>>C|ke<<32-C;H.rotrSH=A;const P=(xe,ke,C)=>xe<<32-C|ke>>>C;H.rotrSL=P;const F=(xe,ke,C)=>xe<<64-C|ke>>>C-32;H.rotrBH=F;const L=(xe,ke,C)=>xe>>>C-32|ke<<64-C;H.rotrBL=L;const D=(xe,ke)=>ke;H.rotr32H=D;const X=(xe,ke)=>xe;H.rotr32L=X;const j=(xe,ke,C)=>xe<<C|ke>>>32-C;H.rotlSH=j;const G=(xe,ke,C)=>ke<<C|xe>>>32-C;H.rotlSL=G;const re=(xe,ke,C)=>ke<<C-32|xe>>>64-C;H.rotlBH=re;const te=(xe,ke,C)=>xe<<C-32|ke>>>64-C;function J(xe,ke,C,a){const f=(ke>>>0)+(a>>>0);return{h:xe+C+(f/2**32|0)|0,l:0|f}}H.rotlBL=te,H.add=J;const Z=(xe,ke,C)=>(xe>>>0)+(ke>>>0)+(C>>>0);H.add3L=Z;const ie=(xe,ke,C,a)=>ke+C+a+(xe/2**32|0)|0;H.add3H=ie;const ae=(xe,ke,C,a)=>(xe>>>0)+(ke>>>0)+(C>>>0)+(a>>>0);H.add4L=ae;const se=(xe,ke,C,a,f)=>ke+C+a+f+(xe/2**32|0)|0;H.add4H=se;const de=(xe,ke,C,a,f)=>(xe>>>0)+(ke>>>0)+(C>>>0)+(a>>>0)+(f>>>0);H.add5L=de;const le=(xe,ke,C,a,f,y)=>ke+C+a+f+y+(xe/2**32|0)|0;H.add5H=le,H.default={fromBig:E,split:k,toBig:z,shrSH:x,shrSL:O,rotrSH:A,rotrSL:P,rotrBH:F,rotrBL:L,rotr32H:D,rotr32L:X,rotlSH:j,rotlSL:G,rotlBH:re,rotlBL:te,add:J,add3L:Z,add3H:ie,add4L:ae,add4H:se,add5H:le,add5L:de}},89948:(je,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.crypto=void 0,H.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},57334:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.hkdf=H.expand=H.extract=void 0;const d=w(68578),E=w(96492),k=w(44882);function z(F,L,D){return(0,d.hash)(F),void 0===D&&(D=new Uint8Array(F.outputLen)),(0,k.hmac)(F,(0,E.toBytes)(D),(0,E.toBytes)(L))}H.extract=z;const x=new Uint8Array([0]),O=new Uint8Array;function A(F,L,D,X=32){if((0,d.hash)(F),(0,d.number)(X),X>255*F.outputLen)throw new Error("Length should be <= 255*HashLen");const j=Math.ceil(X/F.outputLen);void 0===D&&(D=O);const G=new Uint8Array(j*F.outputLen),re=k.hmac.create(F,L),te=re._cloneInto(),J=new Uint8Array(re.outputLen);for(let Z=0;Z<j;Z++)x[0]=Z+1,te.update(0===Z?O:J).update(D).update(x).digestInto(J),G.set(J,F.outputLen*Z),re._cloneInto(te);return re.destroy(),te.destroy(),J.fill(0),x.fill(0),G.slice(0,X)}H.expand=A,H.hkdf=(F,L,D,X,j)=>A(F,z(F,L,D),X,j)},44882:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.hmac=H.HMAC=void 0;const d=w(68578),E=w(96492);class k extends E.Hash{constructor(O,A){super(),this.finished=!1,this.destroyed=!1,(0,d.hash)(O);const P=(0,E.toBytes)(A);if(this.iHash=O.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const F=this.blockLen,L=new Uint8Array(F);L.set(P.length>F?O.create().update(P).digest():P);for(let D=0;D<L.length;D++)L[D]^=54;this.iHash.update(L),this.oHash=O.create();for(let D=0;D<L.length;D++)L[D]^=106;this.oHash.update(L),L.fill(0)}update(O){return(0,d.exists)(this),this.iHash.update(O),this}digestInto(O){(0,d.exists)(this),(0,d.bytes)(O,this.outputLen),this.finished=!0,this.iHash.digestInto(O),this.oHash.update(O),this.oHash.digestInto(O),this.destroy()}digest(){const O=new Uint8Array(this.oHash.outputLen);return this.digestInto(O),O}_cloneInto(O){O||(O=Object.create(Object.getPrototypeOf(this),{}));const{oHash:A,iHash:P,finished:F,destroyed:L,blockLen:D,outputLen:X}=this;return O.finished=F,O.destroyed=L,O.blockLen=D,O.outputLen=X,O.oHash=A._cloneInto(O.oHash),O.iHash=P._cloneInto(O.iHash),O}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}H.HMAC=k,H.hmac=(x,O,A)=>new k(x,O).update(A).digest(),H.hmac.create=(x,O)=>new k(x,O)},1806:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.sha224=H.sha256=void 0;const d=w(25724),E=w(96492),k=(L,D,X)=>L&D^~L&X,z=(L,D,X)=>L&D^L&X^D&X,x=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),O=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),A=new Uint32Array(64);class P extends d.SHA2{constructor(){super(64,32,8,!1),this.A=0|O[0],this.B=0|O[1],this.C=0|O[2],this.D=0|O[3],this.E=0|O[4],this.F=0|O[5],this.G=0|O[6],this.H=0|O[7]}get(){const{A:D,B:X,C:j,D:G,E:re,F:te,G:J,H:Z}=this;return[D,X,j,G,re,te,J,Z]}set(D,X,j,G,re,te,J,Z){this.A=0|D,this.B=0|X,this.C=0|j,this.D=0|G,this.E=0|re,this.F=0|te,this.G=0|J,this.H=0|Z}process(D,X){for(let se=0;se<16;se++,X+=4)A[se]=D.getUint32(X,!1);for(let se=16;se<64;se++){const de=A[se-15],le=A[se-2],be=(0,E.rotr)(de,7)^(0,E.rotr)(de,18)^de>>>3,xe=(0,E.rotr)(le,17)^(0,E.rotr)(le,19)^le>>>10;A[se]=xe+A[se-7]+be+A[se-16]|0}let{A:j,B:G,C:re,D:te,E:J,F:Z,G:ie,H:ae}=this;for(let se=0;se<64;se++){const le=ae+((0,E.rotr)(J,6)^(0,E.rotr)(J,11)^(0,E.rotr)(J,25))+k(J,Z,ie)+x[se]+A[se]|0,xe=((0,E.rotr)(j,2)^(0,E.rotr)(j,13)^(0,E.rotr)(j,22))+z(j,G,re)|0;ae=ie,ie=Z,Z=J,J=te+le|0,te=re,re=G,G=j,j=le+xe|0}j=j+this.A|0,G=G+this.B|0,re=re+this.C|0,te=te+this.D|0,J=J+this.E|0,Z=Z+this.F|0,ie=ie+this.G|0,ae=ae+this.H|0,this.set(j,G,re,te,J,Z,ie,ae)}roundClean(){A.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class F extends P{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}H.sha256=(0,E.wrapConstructor)(()=>new P),H.sha224=(0,E.wrapConstructor)(()=>new F)},44207:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.sha384=H.sha512_256=H.sha512_224=H.sha512=H.SHA512=void 0;const d=w(25724),E=w(35059),k=w(96492),[z,x]=E.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(X=>BigInt(X))),O=new Uint32Array(80),A=new Uint32Array(80);class P extends d.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:j,Al:G,Bh:re,Bl:te,Ch:J,Cl:Z,Dh:ie,Dl:ae,Eh:se,El:de,Fh:le,Fl:be,Gh:xe,Gl:ke,Hh:C,Hl:a}=this;return[j,G,re,te,J,Z,ie,ae,se,de,le,be,xe,ke,C,a]}set(j,G,re,te,J,Z,ie,ae,se,de,le,be,xe,ke,C,a){this.Ah=0|j,this.Al=0|G,this.Bh=0|re,this.Bl=0|te,this.Ch=0|J,this.Cl=0|Z,this.Dh=0|ie,this.Dl=0|ae,this.Eh=0|se,this.El=0|de,this.Fh=0|le,this.Fl=0|be,this.Gh=0|xe,this.Gl=0|ke,this.Hh=0|C,this.Hl=0|a}process(j,G){for(let g=0;g<16;g++,G+=4)O[g]=j.getUint32(G),A[g]=j.getUint32(G+=4);for(let g=16;g<80;g++){const M=0|O[g-15],T=0|A[g-15],B=E.default.rotrSH(M,T,1)^E.default.rotrSH(M,T,8)^E.default.shrSH(M,T,7),S=E.default.rotrSL(M,T,1)^E.default.rotrSL(M,T,8)^E.default.shrSL(M,T,7),s=0|O[g-2],v=0|A[g-2],W=E.default.rotrSH(s,v,19)^E.default.rotrBH(s,v,61)^E.default.shrSH(s,v,6),K=E.default.rotrSL(s,v,19)^E.default.rotrBL(s,v,61)^E.default.shrSL(s,v,6),ee=E.default.add4L(S,K,A[g-7],A[g-16]),ce=E.default.add4H(ee,B,W,O[g-7],O[g-16]);O[g]=0|ce,A[g]=0|ee}let{Ah:re,Al:te,Bh:J,Bl:Z,Ch:ie,Cl:ae,Dh:se,Dl:de,Eh:le,El:be,Fh:xe,Fl:ke,Gh:C,Gl:a,Hh:f,Hl:y}=this;for(let g=0;g<80;g++){const M=E.default.rotrSH(le,be,14)^E.default.rotrSH(le,be,18)^E.default.rotrBH(le,be,41),T=E.default.rotrSL(le,be,14)^E.default.rotrSL(le,be,18)^E.default.rotrBL(le,be,41),B=le&xe^~le&C,s=E.default.add5L(y,T,be&ke^~be&a,x[g],A[g]),v=E.default.add5H(s,f,M,B,z[g],O[g]),W=0|s,K=E.default.rotrSH(re,te,28)^E.default.rotrBH(re,te,34)^E.default.rotrBH(re,te,39),ee=E.default.rotrSL(re,te,28)^E.default.rotrBL(re,te,34)^E.default.rotrBL(re,te,39),ce=re&J^re&ie^J&ie,_e=te&Z^te&ae^Z&ae;f=0|C,y=0|a,C=0|xe,a=0|ke,xe=0|le,ke=0|be,({h:le,l:be}=E.default.add(0|se,0|de,0|v,0|W)),se=0|ie,de=0|ae,ie=0|J,ae=0|Z,J=0|re,Z=0|te;const Oe=E.default.add3L(W,ee,_e);re=E.default.add3H(Oe,v,K,ce),te=0|Oe}({h:re,l:te}=E.default.add(0|this.Ah,0|this.Al,0|re,0|te)),({h:J,l:Z}=E.default.add(0|this.Bh,0|this.Bl,0|J,0|Z)),({h:ie,l:ae}=E.default.add(0|this.Ch,0|this.Cl,0|ie,0|ae)),({h:se,l:de}=E.default.add(0|this.Dh,0|this.Dl,0|se,0|de)),({h:le,l:be}=E.default.add(0|this.Eh,0|this.El,0|le,0|be)),({h:xe,l:ke}=E.default.add(0|this.Fh,0|this.Fl,0|xe,0|ke)),({h:C,l:a}=E.default.add(0|this.Gh,0|this.Gl,0|C,0|a)),({h:f,l:y}=E.default.add(0|this.Hh,0|this.Hl,0|f,0|y)),this.set(re,te,J,Z,ie,ae,se,de,le,be,xe,ke,C,a,f,y)}roundClean(){O.fill(0),A.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}H.SHA512=P;class F extends P{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class L extends P{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class D extends P{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}H.sha512=(0,k.wrapConstructor)(()=>new P),H.sha512_224=(0,k.wrapConstructor)(()=>new F),H.sha512_256=(0,k.wrapConstructor)(()=>new L),H.sha384=(0,k.wrapConstructor)(()=>new D)},96492:(je,H,w)=>{"use strict";var d=w(29293).default;Object.defineProperty(H,"__esModule",{value:!0}),H.randomBytes=H.wrapXOFConstructorWithOpts=H.wrapConstructorWithOpts=H.wrapConstructor=H.checkOpts=H.Hash=H.concatBytes=H.toBytes=H.utf8ToBytes=H.asyncLoop=H.nextTick=H.hexToBytes=H.bytesToHex=H.isLE=H.rotr=H.createView=H.u32=H.u8=void 0;const E=w(89948);function x(ke){return ke instanceof Uint8Array||null!=ke&&"object"==typeof ke&&"Uint8Array"===ke.constructor.name}if(H.u8=ke=>new Uint8Array(ke.buffer,ke.byteOffset,ke.byteLength),H.u32=ke=>new Uint32Array(ke.buffer,ke.byteOffset,Math.floor(ke.byteLength/4)),H.createView=ke=>new DataView(ke.buffer,ke.byteOffset,ke.byteLength),H.rotr=(ke,C)=>ke<<32-C|ke>>>C,H.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!H.isLE)throw new Error("Non little-endian hardware is not supported");const P=Array.from({length:256},(ke,C)=>C.toString(16).padStart(2,"0"));H.bytesToHex=function F(ke){if(!x(ke))throw new Error("Uint8Array expected");let C="";for(let a=0;a<ke.length;a++)C+=P[ke[a]];return C};const L__0=48,L__9=57,L__A=65,L__F=70,L__a=97,L__f=102;function D(ke){return ke>=L__0&&ke<=L__9?ke-L__0:ke>=L__A&&ke<=L__F?ke-(L__A-10):ke>=L__a&&ke<=L__f?ke-(L__a-10):void 0}function re(){return(re=d(function*(ke,C,a){let f=Date.now();for(let y=0;y<ke;y++){a(y);const g=Date.now()-f;g>=0&&g<C||(yield(0,H.nextTick)(),f+=g)}})).apply(this,arguments)}function te(ke){if("string"!=typeof ke)throw new Error("utf8ToBytes expected string, got "+typeof ke);return new Uint8Array((new TextEncoder).encode(ke))}function J(ke){if("string"==typeof ke&&(ke=te(ke)),!x(ke))throw new Error("expected Uint8Array, got "+typeof ke);return ke}H.hexToBytes=function X(ke){if("string"!=typeof ke)throw new Error("hex string expected, got "+typeof ke);const C=ke.length,a=C/2;if(C%2)throw new Error("padded hex string expected, got unpadded hex of length "+C);const f=new Uint8Array(a);for(let y=0,g=0;y<a;y++,g+=2){const M=D(ke.charCodeAt(g)),T=D(ke.charCodeAt(g+1));if(void 0===M||void 0===T)throw new Error('hex string expected, got non-hex character "'+(ke[g]+ke[g+1])+'" at index '+g);f[y]=16*M+T}return f},H.nextTick=function(){var ke=d(function*(){});return function(){return ke.apply(this,arguments)}}(),H.asyncLoop=function G(ke,C,a){return re.apply(this,arguments)},H.utf8ToBytes=te,H.toBytes=J,H.concatBytes=function Z(...ke){let C=0;for(let f=0;f<ke.length;f++){const y=ke[f];if(!x(y))throw new Error("Uint8Array expected");C+=y.length}const a=new Uint8Array(C);for(let f=0,y=0;f<ke.length;f++){const g=ke[f];a.set(g,y),y+=g.length}return a},H.Hash=class ie{clone(){return this._cloneInto()}};const ae={}.toString;H.checkOpts=function se(ke,C){if(void 0!==C&&"[object Object]"!==ae.call(C))throw new Error("Options should be object or undefined");return Object.assign(ke,C)},H.wrapConstructor=function de(ke){const C=f=>ke().update(J(f)).digest(),a=ke();return C.outputLen=a.outputLen,C.blockLen=a.blockLen,C.create=()=>ke(),C},H.wrapConstructorWithOpts=function le(ke){const C=(f,y)=>ke(y).update(J(f)).digest(),a=ke({});return C.outputLen=a.outputLen,C.blockLen=a.blockLen,C.create=f=>ke(f),C},H.wrapXOFConstructorWithOpts=function be(ke){const C=(f,y)=>ke(y).update(J(f)).digest(),a=ke({});return C.outputLen=a.outputLen,C.blockLen=a.blockLen,C.create=f=>ke(f),C},H.randomBytes=function xe(ke=32){if(E.crypto&&"function"==typeof E.crypto.getRandomValues)return E.crypto.getRandomValues(new Uint8Array(ke));throw new Error("crypto.getRandomValues must be defined")}},42064:(je,H,w)=>{H.Level=w(23963).BrowserLevel},20844:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.MissingRefError=H.ValidationError=H.CodeGen=H.Name=H.nil=H.stringify=H.str=H._=H.KeywordCxt=void 0;const d=w(35419),E=w(98496),k=w(86980),z=w(87577),x="https://json-schema.org/draft/2020-12/schema";class O extends d.default{constructor(X={}){super({...X,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),E.default.forEach(X=>this.addVocabulary(X)),this.opts.discriminator&&this.addKeyword(k.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:X,meta:j}=this.opts;j&&(z.default.call(this,X),this.refs["http://json-schema.org/schema"]=x)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(x)?x:void 0)}}je.exports=H=O,Object.defineProperty(H,"__esModule",{value:!0}),H.default=O;var A=w(40339);Object.defineProperty(H,"KeywordCxt",{enumerable:!0,get:function(){return A.KeywordCxt}});var P=w(1038);Object.defineProperty(H,"_",{enumerable:!0,get:function(){return P._}}),Object.defineProperty(H,"str",{enumerable:!0,get:function(){return P.str}}),Object.defineProperty(H,"stringify",{enumerable:!0,get:function(){return P.stringify}}),Object.defineProperty(H,"nil",{enumerable:!0,get:function(){return P.nil}}),Object.defineProperty(H,"Name",{enumerable:!0,get:function(){return P.Name}}),Object.defineProperty(H,"CodeGen",{enumerable:!0,get:function(){return P.CodeGen}});var F=w(42467);Object.defineProperty(H,"ValidationError",{enumerable:!0,get:function(){return F.default}});var L=w(26288);Object.defineProperty(H,"MissingRefError",{enumerable:!0,get:function(){return L.default}})},33337:(je,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.regexpCode=H.getEsmExportName=H.getProperty=H.safeStringify=H.stringify=H.strConcat=H.addCodeArg=H.str=H._=H.nil=H._Code=H.Name=H.IDENTIFIER=H._CodeOrName=void 0;class w{}H._CodeOrName=w,H.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class d extends w{constructor(J){if(super(),!H.IDENTIFIER.test(J))throw new Error("CodeGen: name must be a valid identifier");this.str=J}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}H.Name=d;class E extends w{constructor(J){super(),this._items="string"==typeof J?[J]:J}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const J=this._items[0];return""===J||'""'===J}get str(){var J;return null!==(J=this._str)&&void 0!==J?J:this._str=this._items.reduce((Z,ie)=>`${Z}${ie}`,"")}get names(){var J;return null!==(J=this._names)&&void 0!==J?J:this._names=this._items.reduce((Z,ie)=>(ie instanceof d&&(Z[ie.str]=(Z[ie.str]||0)+1),Z),{})}}function k(te,...J){const Z=[te[0]];let ie=0;for(;ie<J.length;)O(Z,J[ie]),Z.push(te[++ie]);return new E(Z)}H._Code=E,H.nil=new E(""),H._=k;const z=new E("+");function x(te,...J){const Z=[X(te[0])];let ie=0;for(;ie<J.length;)Z.push(z),O(Z,J[ie]),Z.push(z,X(te[++ie]));return function A(te){let J=1;for(;J<te.length-1;){if(te[J]===z){const Z=P(te[J-1],te[J+1]);if(void 0!==Z){te.splice(J-1,3,Z);continue}te[J++]="+"}J++}}(Z),new E(Z)}function O(te,J){J instanceof E?te.push(...J._items):te.push(J instanceof d?J:function L(te){return"number"==typeof te||"boolean"==typeof te||null===te?te:X(Array.isArray(te)?te.join(","):te)}(J))}function P(te,J){return'""'===J?te:'""'===te?J:"string"==typeof te?J instanceof d||'"'!==te[te.length-1]?void 0:"string"!=typeof J?`${te.slice(0,-1)}${J}"`:'"'===J[0]?te.slice(0,-1)+J.slice(1):void 0:"string"!=typeof J||'"'!==J[0]||te instanceof d?void 0:`"${te}${J.slice(1)}`}function X(te){return JSON.stringify(te).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}H.str=x,H.addCodeArg=O,H.strConcat=function F(te,J){return J.emptyStr()?te:te.emptyStr()?J:x`${te}${J}`},H.stringify=function D(te){return new E(X(te))},H.safeStringify=X,H.getProperty=function j(te){return"string"==typeof te&&H.IDENTIFIER.test(te)?new E(`.${te}`):k`[${te}]`},H.getEsmExportName=function G(te){if("string"==typeof te&&H.IDENTIFIER.test(te))return new E(`${te}`);throw new Error(`CodeGen: invalid export name: ${te}, use explicit $id name mapping`)},H.regexpCode=function re(te){return new E(te.toString())}},1038:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.or=H.and=H.not=H.CodeGen=H.operators=H.varKinds=H.ValueScopeName=H.ValueScope=H.Scope=H.Name=H.regexpCode=H.stringify=H.getProperty=H.nil=H.strConcat=H.str=H._=void 0;const d=w(33337),E=w(85934);var k=w(33337);Object.defineProperty(H,"_",{enumerable:!0,get:function(){return k._}}),Object.defineProperty(H,"str",{enumerable:!0,get:function(){return k.str}}),Object.defineProperty(H,"strConcat",{enumerable:!0,get:function(){return k.strConcat}}),Object.defineProperty(H,"nil",{enumerable:!0,get:function(){return k.nil}}),Object.defineProperty(H,"getProperty",{enumerable:!0,get:function(){return k.getProperty}}),Object.defineProperty(H,"stringify",{enumerable:!0,get:function(){return k.stringify}}),Object.defineProperty(H,"regexpCode",{enumerable:!0,get:function(){return k.regexpCode}}),Object.defineProperty(H,"Name",{enumerable:!0,get:function(){return k.Name}});var z=w(85934);Object.defineProperty(H,"Scope",{enumerable:!0,get:function(){return z.Scope}}),Object.defineProperty(H,"ValueScope",{enumerable:!0,get:function(){return z.ValueScope}}),Object.defineProperty(H,"ValueScopeName",{enumerable:!0,get:function(){return z.ValueScopeName}}),Object.defineProperty(H,"varKinds",{enumerable:!0,get:function(){return z.varKinds}}),H.operators={GT:new d._Code(">"),GTE:new d._Code(">="),LT:new d._Code("<"),LTE:new d._Code("<="),EQ:new d._Code("==="),NEQ:new d._Code("!=="),NOT:new d._Code("!"),OR:new d._Code("||"),AND:new d._Code("&&"),ADD:new d._Code("+")};class x{optimizeNodes(){return this}optimizeNames(ee,ce){return this}}class O extends x{constructor(ee,ce,_e){super(),this.varKind=ee,this.name=ce,this.rhs=_e}render({es5:ee,_n:ce}){return`${ee?E.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+ce}optimizeNames(ee,ce){if(ee[this.name.str])return this.rhs&&(this.rhs=y(this.rhs,ee,ce)),this}get names(){return this.rhs instanceof d._CodeOrName?this.rhs.names:{}}}class A extends x{constructor(ee,ce,_e){super(),this.lhs=ee,this.rhs=ce,this.sideEffects=_e}render({_n:ee}){return`${this.lhs} = ${this.rhs};`+ee}optimizeNames(ee,ce){if(!(this.lhs instanceof d.Name)||ee[this.lhs.str]||this.sideEffects)return this.rhs=y(this.rhs,ee,ce),this}get names(){return f(this.lhs instanceof d.Name?{}:{...this.lhs.names},this.rhs)}}class P extends A{constructor(ee,ce,_e,Oe){super(ee,_e,Oe),this.op=ce}render({_n:ee}){return`${this.lhs} ${this.op}= ${this.rhs};`+ee}}class F extends x{constructor(ee){super(),this.label=ee,this.names={}}render({_n:ee}){return`${this.label}:`+ee}}class L extends x{constructor(ee){super(),this.label=ee,this.names={}}render({_n:ee}){return`break${this.label?` ${this.label}`:""};`+ee}}class D extends x{constructor(ee){super(),this.error=ee}render({_n:ee}){return`throw ${this.error};`+ee}get names(){return this.error.names}}class X extends x{constructor(ee){super(),this.code=ee}render({_n:ee}){return`${this.code};`+ee}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(ee,ce){return this.code=y(this.code,ee,ce),this}get names(){return this.code instanceof d._CodeOrName?this.code.names:{}}}class j extends x{constructor(ee=[]){super(),this.nodes=ee}render(ee){return this.nodes.reduce((ce,_e)=>ce+_e.render(ee),"")}optimizeNodes(){const{nodes:ee}=this;let ce=ee.length;for(;ce--;){const _e=ee[ce].optimizeNodes();Array.isArray(_e)?ee.splice(ce,1,..._e):_e?ee[ce]=_e:ee.splice(ce,1)}return ee.length>0?this:void 0}optimizeNames(ee,ce){const{nodes:_e}=this;let Oe=_e.length;for(;Oe--;){const Ve=_e[Oe];Ve.optimizeNames(ee,ce)||(g(ee,Ve.names),_e.splice(Oe,1))}return _e.length>0?this:void 0}get names(){return this.nodes.reduce((ee,ce)=>a(ee,ce.names),{})}}class G extends j{render(ee){return"{"+ee._n+super.render(ee)+"}"+ee._n}}class re extends j{}let te=(()=>{class K extends G{}return K.kind="else",K})(),J=(()=>{class K extends G{constructor(ce,_e){super(_e),this.condition=ce}render(ce){let _e=`if(${this.condition})`+super.render(ce);return this.else&&(_e+="else "+this.else.render(ce)),_e}optimizeNodes(){super.optimizeNodes();const ce=this.condition;if(!0===ce)return this.nodes;let _e=this.else;if(_e){const Oe=_e.optimizeNodes();_e=this.else=Array.isArray(Oe)?new te(Oe):Oe}return _e?!1===ce?_e instanceof K?_e:_e.nodes:this.nodes.length?this:new K(M(ce),_e instanceof K?[_e]:_e.nodes):!1!==ce&&this.nodes.length?this:void 0}optimizeNames(ce,_e){var Oe;if(this.else=null===(Oe=this.else)||void 0===Oe?void 0:Oe.optimizeNames(ce,_e),super.optimizeNames(ce,_e)||this.else)return this.condition=y(this.condition,ce,_e),this}get names(){const ce=super.names;return f(ce,this.condition),this.else&&a(ce,this.else.names),ce}}return K.kind="if",K})(),Z=(()=>{class K extends G{}return K.kind="for",K})();class ie extends Z{constructor(ee){super(),this.iteration=ee}render(ee){return`for(${this.iteration})`+super.render(ee)}optimizeNames(ee,ce){if(super.optimizeNames(ee,ce))return this.iteration=y(this.iteration,ee,ce),this}get names(){return a(super.names,this.iteration.names)}}class ae extends Z{constructor(ee,ce,_e,Oe){super(),this.varKind=ee,this.name=ce,this.from=_e,this.to=Oe}render(ee){const ce=ee.es5?E.varKinds.var:this.varKind,{name:_e,from:Oe,to:Ve}=this;return`for(${ce} ${_e}=${Oe}; ${_e}<${Ve}; ${_e}++)`+super.render(ee)}get names(){const ee=f(super.names,this.from);return f(ee,this.to)}}class se extends Z{constructor(ee,ce,_e,Oe){super(),this.loop=ee,this.varKind=ce,this.name=_e,this.iterable=Oe}render(ee){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(ee)}optimizeNames(ee,ce){if(super.optimizeNames(ee,ce))return this.iterable=y(this.iterable,ee,ce),this}get names(){return a(super.names,this.iterable.names)}}let de=(()=>{class K extends G{constructor(ce,_e,Oe){super(),this.name=ce,this.args=_e,this.async=Oe}render(ce){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(ce)}}return K.kind="func",K})(),le=(()=>{class K extends j{render(ce){return"return "+super.render(ce)}}return K.kind="return",K})();class be extends G{render(ee){let ce="try"+super.render(ee);return this.catch&&(ce+=this.catch.render(ee)),this.finally&&(ce+=this.finally.render(ee)),ce}optimizeNodes(){var ee,ce;return super.optimizeNodes(),null===(ee=this.catch)||void 0===ee||ee.optimizeNodes(),null===(ce=this.finally)||void 0===ce||ce.optimizeNodes(),this}optimizeNames(ee,ce){var _e,Oe;return super.optimizeNames(ee,ce),null===(_e=this.catch)||void 0===_e||_e.optimizeNames(ee,ce),null===(Oe=this.finally)||void 0===Oe||Oe.optimizeNames(ee,ce),this}get names(){const ee=super.names;return this.catch&&a(ee,this.catch.names),this.finally&&a(ee,this.finally.names),ee}}let xe=(()=>{class K extends G{constructor(ce){super(),this.error=ce}render(ce){return`catch(${this.error})`+super.render(ce)}}return K.kind="catch",K})(),ke=(()=>{class K extends G{render(ce){return"finally"+super.render(ce)}}return K.kind="finally",K})();function a(K,ee){for(const ce in ee)K[ce]=(K[ce]||0)+(ee[ce]||0);return K}function f(K,ee){return ee instanceof d._CodeOrName?a(K,ee.names):K}function y(K,ee,ce){return K instanceof d.Name?_e(K):function Oe(Ve){return Ve instanceof d._Code&&Ve._items.some(Se=>Se instanceof d.Name&&1===ee[Se.str]&&void 0!==ce[Se.str])}(K)?new d._Code(K._items.reduce((Ve,Se)=>(Se instanceof d.Name&&(Se=_e(Se)),Se instanceof d._Code?Ve.push(...Se._items):Ve.push(Se),Ve),[])):K;function _e(Ve){const Se=ce[Ve.str];return void 0===Se||1!==ee[Ve.str]?Ve:(delete ee[Ve.str],Se)}}function g(K,ee){for(const ce in ee)K[ce]=(K[ce]||0)-(ee[ce]||0)}function M(K){return"boolean"==typeof K||"number"==typeof K||null===K?!K:d._`!${W(K)}`}H.CodeGen=class C{constructor(ee,ce={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...ce,_n:ce.lines?"\n":""},this._extScope=ee,this._scope=new E.Scope({parent:ee}),this._nodes=[new re]}toString(){return this._root.render(this.opts)}name(ee){return this._scope.name(ee)}scopeName(ee){return this._extScope.name(ee)}scopeValue(ee,ce){const _e=this._extScope.value(ee,ce);return(this._values[_e.prefix]||(this._values[_e.prefix]=new Set)).add(_e),_e}getScopeValue(ee,ce){return this._extScope.getValue(ee,ce)}scopeRefs(ee){return this._extScope.scopeRefs(ee,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(ee,ce,_e,Oe){const Ve=this._scope.toName(ce);return void 0!==_e&&Oe&&(this._constants[Ve.str]=_e),this._leafNode(new O(ee,Ve,_e)),Ve}const(ee,ce,_e){return this._def(E.varKinds.const,ee,ce,_e)}let(ee,ce,_e){return this._def(E.varKinds.let,ee,ce,_e)}var(ee,ce,_e){return this._def(E.varKinds.var,ee,ce,_e)}assign(ee,ce,_e){return this._leafNode(new A(ee,ce,_e))}add(ee,ce){return this._leafNode(new P(ee,H.operators.ADD,ce))}code(ee){return"function"==typeof ee?ee():ee!==d.nil&&this._leafNode(new X(ee)),this}object(...ee){const ce=["{"];for(const[_e,Oe]of ee)ce.length>1&&ce.push(","),ce.push(_e),(_e!==Oe||this.opts.es5)&&(ce.push(":"),(0,d.addCodeArg)(ce,Oe));return ce.push("}"),new d._Code(ce)}if(ee,ce,_e){if(this._blockNode(new J(ee)),ce&&_e)this.code(ce).else().code(_e).endIf();else if(ce)this.code(ce).endIf();else if(_e)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(ee){return this._elseNode(new J(ee))}else(){return this._elseNode(new te)}endIf(){return this._endBlockNode(J,te)}_for(ee,ce){return this._blockNode(ee),ce&&this.code(ce).endFor(),this}for(ee,ce){return this._for(new ie(ee),ce)}forRange(ee,ce,_e,Oe,Ve=(this.opts.es5?E.varKinds.var:E.varKinds.let)){const Se=this._scope.toName(ee);return this._for(new ae(Ve,Se,ce,_e),()=>Oe(Se))}forOf(ee,ce,_e,Oe=E.varKinds.const){const Ve=this._scope.toName(ee);if(this.opts.es5){const Se=ce instanceof d.Name?ce:this.var("_arr",ce);return this.forRange("_i",0,d._`${Se}.length`,we=>{this.var(Ve,d._`${Se}[${we}]`),_e(Ve)})}return this._for(new se("of",Oe,Ve,ce),()=>_e(Ve))}forIn(ee,ce,_e,Oe=(this.opts.es5?E.varKinds.var:E.varKinds.const)){if(this.opts.ownProperties)return this.forOf(ee,d._`Object.keys(${ce})`,_e);const Ve=this._scope.toName(ee);return this._for(new se("in",Oe,Ve,ce),()=>_e(Ve))}endFor(){return this._endBlockNode(Z)}label(ee){return this._leafNode(new F(ee))}break(ee){return this._leafNode(new L(ee))}return(ee){const ce=new le;if(this._blockNode(ce),this.code(ee),1!==ce.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(le)}try(ee,ce,_e){if(!ce&&!_e)throw new Error('CodeGen: "try" without "catch" and "finally"');const Oe=new be;if(this._blockNode(Oe),this.code(ee),ce){const Ve=this.name("e");this._currNode=Oe.catch=new xe(Ve),ce(Ve)}return _e&&(this._currNode=Oe.finally=new ke,this.code(_e)),this._endBlockNode(xe,ke)}throw(ee){return this._leafNode(new D(ee))}block(ee,ce){return this._blockStarts.push(this._nodes.length),ee&&this.code(ee).endBlock(ce),this}endBlock(ee){const ce=this._blockStarts.pop();if(void 0===ce)throw new Error("CodeGen: not in self-balancing block");const _e=this._nodes.length-ce;if(_e<0||void 0!==ee&&_e!==ee)throw new Error(`CodeGen: wrong number of nodes: ${_e} vs ${ee} expected`);return this._nodes.length=ce,this}func(ee,ce=d.nil,_e,Oe){return this._blockNode(new de(ee,ce,_e)),Oe&&this.code(Oe).endFunc(),this}endFunc(){return this._endBlockNode(de)}optimize(ee=1){for(;ee-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(ee){return this._currNode.nodes.push(ee),this}_blockNode(ee){this._currNode.nodes.push(ee),this._nodes.push(ee)}_endBlockNode(ee,ce){const _e=this._currNode;if(_e instanceof ee||ce&&_e instanceof ce)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${ce?`${ee.kind}/${ce.kind}`:ee.kind}"`)}_elseNode(ee){const ce=this._currNode;if(!(ce instanceof J))throw new Error('CodeGen: "else" without "if"');return this._currNode=ce.else=ee,this}get _root(){return this._nodes[0]}get _currNode(){const ee=this._nodes;return ee[ee.length-1]}set _currNode(ee){const ce=this._nodes;ce[ce.length-1]=ee}},H.not=M;const T=v(H.operators.AND);H.and=function B(...K){return K.reduce(T)};const S=v(H.operators.OR);function v(K){return(ee,ce)=>ee===d.nil?ce:ce===d.nil?ee:d._`${W(ee)} ${K} ${W(ce)}`}function W(K){return K instanceof d.Name?K:d._`(${K})`}H.or=function s(...K){return K.reduce(S)}},85934:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.ValueScope=H.ValueScopeName=H.Scope=H.varKinds=H.UsedValueState=void 0;const d=w(33337);class E extends Error{constructor(F){super(`CodeGen: "code" for ${F} not defined`),this.value=F.value}}var k,P;(P=k=H.UsedValueState||(H.UsedValueState={}))[P.Started=0]="Started",P[P.Completed=1]="Completed",H.varKinds={const:new d.Name("const"),let:new d.Name("let"),var:new d.Name("var")};class z{constructor({prefixes:F,parent:L}={}){this._names={},this._prefixes=F,this._parent=L}toName(F){return F instanceof d.Name?F:this.name(F)}name(F){return new d.Name(this._newName(F))}_newName(F){return`${F}${(this._names[F]||this._nameGroup(F)).index++}`}_nameGroup(F){var L,D;if(null!==(D=null===(L=this._parent)||void 0===L?void 0:L._prefixes)&&void 0!==D&&D.has(F)||this._prefixes&&!this._prefixes.has(F))throw new Error(`CodeGen: prefix "${F}" is not allowed in this scope`);return this._names[F]={prefix:F,index:0}}}H.Scope=z;class x extends d.Name{constructor(F,L){super(L),this.prefix=F}setValue(F,{property:L,itemIndex:D}){this.value=F,this.scopePath=d._`.${new d.Name(L)}[${D}]`}}H.ValueScopeName=x;const O=d._`\n`;H.ValueScope=class A extends z{constructor(F){super(F),this._values={},this._scope=F.scope,this.opts={...F,_n:F.lines?O:d.nil}}get(){return this._scope}name(F){return new x(F,this._newName(F))}value(F,L){var D;if(void 0===L.ref)throw new Error("CodeGen: ref must be passed in value");const X=this.toName(F),{prefix:j}=X,G=null!==(D=L.key)&&void 0!==D?D:L.ref;let re=this._values[j];if(re){const Z=re.get(G);if(Z)return Z}else re=this._values[j]=new Map;re.set(G,X);const te=this._scope[j]||(this._scope[j]=[]),J=te.length;return te[J]=L.ref,X.setValue(L,{property:j,itemIndex:J}),X}getValue(F,L){const D=this._values[F];if(D)return D.get(L)}scopeRefs(F,L=this._values){return this._reduceValues(L,D=>{if(void 0===D.scopePath)throw new Error(`CodeGen: name "${D}" has no value`);return d._`${F}${D.scopePath}`})}scopeCode(F=this._values,L,D){return this._reduceValues(F,X=>{if(void 0===X.value)throw new Error(`CodeGen: name "${X}" has no value`);return X.value.code},L,D)}_reduceValues(F,L,D={},X){let j=d.nil;for(const G in F){const re=F[G];if(!re)continue;const te=D[G]=D[G]||new Map;re.forEach(J=>{if(te.has(J))return;te.set(J,k.Started);let Z=L(J);if(Z)j=d._`${j}${this.opts.es5?H.varKinds.var:H.varKinds.const} ${J} = ${Z};${this.opts._n}`;else{if(!(Z=X?.(J)))throw new E(J);j=d._`${j}${Z}${this.opts._n}`}te.set(J,k.Completed)})}return j}}},53421:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.extendErrors=H.resetErrorsCount=H.reportExtraError=H.reportError=H.keyword$DataError=H.keywordError=void 0;const d=w(1038),E=w(27006),k=w(23432);function P(te,J){const Z=te.const("err",J);te.if(d._`${k.default.vErrors} === null`,()=>te.assign(k.default.vErrors,d._`[${Z}]`),d._`${k.default.vErrors}.push(${Z})`),te.code(d._`${k.default.errors}++`)}function F(te,J){const{gen:Z,validateName:ie,schemaEnv:ae}=te;ae.$async?Z.throw(d._`new ${te.ValidationError}(${J})`):(Z.assign(d._`${ie}.errors`,J),Z.return(!1))}H.keywordError={message:({keyword:te})=>d.str`must pass "${te}" keyword validation`},H.keyword$DataError={message:({keyword:te,schemaType:J})=>J?d.str`"${te}" keyword must be ${J} ($data)`:d.str`"${te}" keyword is invalid ($data)`},H.reportError=function z(te,J=H.keywordError,Z,ie){const{it:ae}=te,{gen:se,compositeRule:de,allErrors:le}=ae,be=D(te,J,Z);ie??(de||le)?P(se,be):F(ae,d._`[${be}]`)},H.reportExtraError=function x(te,J=H.keywordError,Z){const{it:ie}=te,{gen:ae,compositeRule:se,allErrors:de}=ie;P(ae,D(te,J,Z)),se||de||F(ie,k.default.vErrors)},H.resetErrorsCount=function O(te,J){te.assign(k.default.errors,J),te.if(d._`${k.default.vErrors} !== null`,()=>te.if(J,()=>te.assign(d._`${k.default.vErrors}.length`,J),()=>te.assign(k.default.vErrors,null)))},H.extendErrors=function A({gen:te,keyword:J,schemaValue:Z,data:ie,errsCount:ae,it:se}){if(void 0===ae)throw new Error("ajv implementation error");const de=te.name("err");te.forRange("i",ae,k.default.errors,le=>{te.const(de,d._`${k.default.vErrors}[${le}]`),te.if(d._`${de}.instancePath === undefined`,()=>te.assign(d._`${de}.instancePath`,(0,d.strConcat)(k.default.instancePath,se.errorPath))),te.assign(d._`${de}.schemaPath`,d.str`${se.errSchemaPath}/${J}`),se.opts.verbose&&(te.assign(d._`${de}.schema`,Z),te.assign(d._`${de}.data`,ie))})};const L={keyword:new d.Name("keyword"),schemaPath:new d.Name("schemaPath"),params:new d.Name("params"),propertyName:new d.Name("propertyName"),message:new d.Name("message"),schema:new d.Name("schema"),parentSchema:new d.Name("parentSchema")};function D(te,J,Z){const{createErrors:ie}=te.it;return!1===ie?d._`{}`:function X(te,J,Z={}){const{gen:ie,it:ae}=te,se=[j(ae,Z),G(te,Z)];return function re(te,{params:J,message:Z},ie){const{keyword:ae,data:se,schemaValue:de,it:le}=te,{opts:be,propertyName:xe,topSchemaRef:ke,schemaPath:C}=le;ie.push([L.keyword,ae],[L.params,"function"==typeof J?J(te):J||d._`{}`]),be.messages&&ie.push([L.message,"function"==typeof Z?Z(te):Z]),be.verbose&&ie.push([L.schema,de],[L.parentSchema,d._`${ke}${C}`],[k.default.data,se]),xe&&ie.push([L.propertyName,xe])}(te,J,se),ie.object(...se)}(te,J,Z)}function j({errorPath:te},{instancePath:J}){const Z=J?d.str`${te}${(0,E.getErrorPath)(J,E.Type.Str)}`:te;return[k.default.instancePath,(0,d.strConcat)(k.default.instancePath,Z)]}function G({keyword:te,it:{errSchemaPath:J}},{schemaPath:Z,parentSchema:ie}){let ae=ie?J:d.str`${J}/${te}`;return Z&&(ae=d.str`${ae}${(0,E.getErrorPath)(Z,E.Type.Str)}`),[L.schemaPath,ae]}},97692:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.resolveSchema=H.getCompilingSchema=H.resolveRef=H.compileSchema=H.SchemaEnv=void 0;const d=w(1038),E=w(42467),k=w(23432),z=w(77172),x=w(27006),O=w(40339);class A{constructor(Z){var ie;let ae;this.refs={},this.dynamicAnchors={},"object"==typeof Z.schema&&(ae=Z.schema),this.schema=Z.schema,this.schemaId=Z.schemaId,this.root=Z.root||this,this.baseId=null!==(ie=Z.baseId)&&void 0!==ie?ie:(0,z.normalizeId)(ae?.[Z.schemaId||"$id"]),this.schemaPath=Z.schemaPath,this.localRefs=Z.localRefs,this.meta=Z.meta,this.$async=ae?.$async,this.refs={}}}function P(J){const Z=D.call(this,J);if(Z)return Z;const ie=(0,z.getFullPath)(this.opts.uriResolver,J.root.baseId),{es5:ae,lines:se}=this.opts.code,{ownProperties:de}=this.opts,le=new d.CodeGen(this.scope,{es5:ae,lines:se,ownProperties:de});let be;J.$async&&(be=le.scopeValue("Error",{ref:E.default,code:d._`require("ajv/dist/runtime/validation_error").default`}));const xe=le.scopeName("validate");J.validateName=xe;const ke={gen:le,allErrors:this.opts.allErrors,data:k.default.data,parentData:k.default.parentData,parentDataProperty:k.default.parentDataProperty,dataNames:[k.default.data],dataPathArr:[d.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:le.scopeValue("schema",!0===this.opts.code.source?{ref:J.schema,code:(0,d.stringify)(J.schema)}:{ref:J.schema}),validateName:xe,ValidationError:be,schema:J.schema,schemaEnv:J,rootId:ie,baseId:J.baseId||ie,schemaPath:d.nil,errSchemaPath:J.schemaPath||(this.opts.jtd?"":"#"),errorPath:d._`""`,opts:this.opts,self:this};let C;try{this._compilations.add(J),(0,O.validateFunctionCode)(ke),le.optimize(this.opts.code.optimize);const a=le.toString();C=`${le.scopeRefs(k.default.scope)}return ${a}`,this.opts.code.process&&(C=this.opts.code.process(C,J));const y=new Function(`${k.default.self}`,`${k.default.scope}`,C)(this,this.scope.get());if(this.scope.value(xe,{ref:y}),y.errors=null,y.schema=J.schema,y.schemaEnv=J,J.$async&&(y.$async=!0),!0===this.opts.code.source&&(y.source={validateName:xe,validateCode:a,scopeValues:le._values}),this.opts.unevaluated){const{props:g,items:M}=ke;y.evaluated={props:g instanceof d.Name?void 0:g,items:M instanceof d.Name?void 0:M,dynamicProps:g instanceof d.Name,dynamicItems:M instanceof d.Name},y.source&&(y.source.evaluated=(0,d.stringify)(y.evaluated))}return J.validate=y,J}catch(a){throw delete J.validate,delete J.validateName,C&&this.logger.error("Error compiling schema, function code:",C),a}finally{this._compilations.delete(J)}}function L(J){return(0,z.inlineRef)(J.schema,this.opts.inlineRefs)?J.schema:J.validate?J:P.call(this,J)}function D(J){for(const Z of this._compilations)if(X(Z,J))return Z}function X(J,Z){return J.schema===Z.schema&&J.root===Z.root&&J.baseId===Z.baseId}function j(J,Z){let ie;for(;"string"==typeof(ie=this.refs[Z]);)Z=ie;return ie||this.schemas[Z]||G.call(this,J,Z)}function G(J,Z){const ie=this.opts.uriResolver.parse(Z),ae=(0,z._getFullPath)(this.opts.uriResolver,ie);let se=(0,z.getFullPath)(this.opts.uriResolver,J.baseId,void 0);if(Object.keys(J.schema).length>0&&ae===se)return te.call(this,ie,J);const de=(0,z.normalizeId)(ae),le=this.refs[de]||this.schemas[de];if("string"==typeof le){const be=G.call(this,J,le);return"object"!=typeof be?.schema?void 0:te.call(this,ie,be)}if("object"==typeof le?.schema){if(le.validate||P.call(this,le),de===(0,z.normalizeId)(Z)){const{schema:be}=le,{schemaId:xe}=this.opts,ke=be[xe];return ke&&(se=(0,z.resolveUrl)(this.opts.uriResolver,se,ke)),new A({schema:be,schemaId:xe,root:J,baseId:se})}return te.call(this,ie,le)}}H.SchemaEnv=A,H.compileSchema=P,H.resolveRef=function F(J,Z,ie){var ae;ie=(0,z.resolveUrl)(this.opts.uriResolver,Z,ie);const se=J.refs[ie];if(se)return se;let de=j.call(this,J,ie);if(void 0===de){const le=null===(ae=J.localRefs)||void 0===ae?void 0:ae[ie],{schemaId:be}=this.opts;le&&(de=new A({schema:le,schemaId:be,root:J,baseId:Z}))}return void 0!==de?J.refs[ie]=L.call(this,de):void 0},H.getCompilingSchema=D,H.resolveSchema=G;const re=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function te(J,{baseId:Z,schema:ie,root:ae}){var se;if("/"!==(null===(se=J.fragment)||void 0===se?void 0:se[0]))return;for(const be of J.fragment.slice(1).split("/")){if("boolean"==typeof ie)return;const xe=ie[(0,x.unescapeFragment)(be)];if(void 0===xe)return;const ke="object"==typeof(ie=xe)&&ie[this.opts.schemaId];!re.has(be)&&ke&&(Z=(0,z.resolveUrl)(this.opts.uriResolver,Z,ke))}let de;if("boolean"!=typeof ie&&ie.$ref&&!(0,x.schemaHasRulesButRef)(ie,this.RULES)){const be=(0,z.resolveUrl)(this.opts.uriResolver,Z,ie.$ref);de=G.call(this,ae,be)}const{schemaId:le}=this.opts;return de=de||new A({schema:ie,schemaId:le,root:ae,baseId:Z}),de.schema!==de.root.schema?de:void 0}},23432:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(1038),E={data:new d.Name("data"),valCxt:new d.Name("valCxt"),instancePath:new d.Name("instancePath"),parentData:new d.Name("parentData"),parentDataProperty:new d.Name("parentDataProperty"),rootData:new d.Name("rootData"),dynamicAnchors:new d.Name("dynamicAnchors"),vErrors:new d.Name("vErrors"),errors:new d.Name("errors"),this:new d.Name("this"),self:new d.Name("self"),scope:new d.Name("scope"),json:new d.Name("json"),jsonPos:new d.Name("jsonPos"),jsonLen:new d.Name("jsonLen"),jsonPart:new d.Name("jsonPart")};H.default=E},26288:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(77172);class E extends Error{constructor(z,x,O,A){super(A||`can't resolve reference ${O} from id ${x}`),this.missingRef=(0,d.resolveUrl)(z,x,O),this.missingSchema=(0,d.normalizeId)((0,d.getFullPath)(z,this.missingRef))}}H.default=E},77172:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.getSchemaRefs=H.resolveUrl=H.normalizeId=H._getFullPath=H.getFullPath=H.inlineRef=void 0;const d=w(27006),E=w(40362),k=w(44331),z=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);H.inlineRef=function x(te,J=!0){return"boolean"==typeof te||(!0===J?!A(te):!!J&&P(te)<=J)};const O=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function A(te){for(const J in te){if(O.has(J))return!0;const Z=te[J];if(Array.isArray(Z)&&Z.some(A)||"object"==typeof Z&&A(Z))return!0}return!1}function P(te){let J=0;for(const Z in te){if("$ref"===Z)return 1/0;if(J++,!z.has(Z)&&("object"==typeof te[Z]&&(0,d.eachItem)(te[Z],ie=>J+=P(ie)),J===1/0))return 1/0}return J}function F(te,J="",Z){!1!==Z&&(J=X(J));const ie=te.parse(J);return L(te,ie)}function L(te,J){return te.serialize(J).split("#")[0]+"#"}H.getFullPath=F,H._getFullPath=L;const D=/#\/?$/;function X(te){return te?te.replace(D,""):""}H.normalizeId=X,H.resolveUrl=function j(te,J,Z){return Z=X(Z),te.resolve(J,Z)};const G=/^[a-z_][-a-z0-9._]*$/i;H.getSchemaRefs=function re(te,J){if("boolean"==typeof te)return{};const{schemaId:Z,uriResolver:ie}=this.opts,ae=X(te[Z]||J),se={"":ae},de=F(ie,ae,!1),le={},be=new Set;return k(te,{allKeys:!0},(C,a,f,y)=>{if(void 0===y)return;const g=de+a;let M=se[y];function T(S){if(S=X(M?(0,this.opts.uriResolver.resolve)(M,S):S),be.has(S))throw ke(S);be.add(S);let v=this.refs[S];return"string"==typeof v&&(v=this.refs[v]),"object"==typeof v?xe(C,v.schema,S):S!==X(g)&&("#"===S[0]?(xe(C,le[S],S),le[S]=C):this.refs[S]=g),S}function B(S){if("string"==typeof S){if(!G.test(S))throw new Error(`invalid anchor "${S}"`);T.call(this,`#${S}`)}}"string"==typeof C[Z]&&(M=T.call(this,C[Z])),B.call(this,C.$anchor),B.call(this,C.$dynamicAnchor),se[a]=M}),le;function xe(C,a,f){if(void 0!==a&&!E(C,a))throw ke(f)}function ke(C){return new Error(`reference "${C}" resolves to more than one schema`)}}},32203:(je,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.getRules=H.isJSONType=void 0;const d=new Set(["string","number","integer","boolean","null","object","array"]);H.isJSONType=function E(z){return"string"==typeof z&&d.has(z)},H.getRules=function k(){const z={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...z,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},z.number,z.string,z.array,z.object],post:{rules:[]},all:{},keywords:{}}}},27006:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.checkStrictMode=H.getErrorPath=H.Type=H.useFunc=H.setEvaluated=H.evaluatedPropsToName=H.mergeEvaluated=H.eachItem=H.unescapeJsonPointer=H.escapeJsonPointer=H.escapeFragment=H.unescapeFragment=H.schemaRefOrVal=H.schemaHasRulesButRef=H.schemaHasRules=H.checkUnknownRules=H.alwaysValidSchema=H.toHash=void 0;const d=w(1038),E=w(33337);function x(de,le=de.schema){const{opts:be,self:xe}=de;if(!be.strictSchema||"boolean"==typeof le)return;const ke=xe.RULES.keywords;for(const C in le)ke[C]||se(de,`unknown keyword: "${C}"`)}function O(de,le){if("boolean"==typeof de)return!de;for(const be in de)if(le[be])return!0;return!1}function D(de){return"number"==typeof de?`${de}`:de.replace(/~/g,"~0").replace(/\//g,"~1")}function X(de){return de.replace(/~1/g,"/").replace(/~0/g,"~")}function G({mergeNames:de,mergeToName:le,mergeValues:be,resultToName:xe}){return(ke,C,a,f)=>{const y=void 0===a?C:a instanceof d.Name?(C instanceof d.Name?de(ke,C,a):le(ke,C,a),a):C instanceof d.Name?(le(ke,a,C),C):be(C,a);return f!==d.Name||y instanceof d.Name?y:xe(ke,y)}}function re(de,le){if(!0===le)return de.var("props",!0);const be=de.var("props",d._`{}`);return void 0!==le&&te(de,be,le),be}function te(de,le,be){Object.keys(be).forEach(xe=>de.assign(d._`${le}${(0,d.getProperty)(xe)}`,!0))}H.toHash=function k(de){const le={};for(const be of de)le[be]=!0;return le},H.alwaysValidSchema=function z(de,le){return"boolean"==typeof le?le:0===Object.keys(le).length||(x(de,le),!O(le,de.self.RULES.all))},H.checkUnknownRules=x,H.schemaHasRules=O,H.schemaHasRulesButRef=function A(de,le){if("boolean"==typeof de)return!de;for(const be in de)if("$ref"!==be&&le.all[be])return!0;return!1},H.schemaRefOrVal=function P({topSchemaRef:de,schemaPath:le},be,xe,ke){if(!ke){if("number"==typeof be||"boolean"==typeof be)return be;if("string"==typeof be)return d._`${be}`}return d._`${de}${le}${(0,d.getProperty)(xe)}`},H.unescapeFragment=function F(de){return X(decodeURIComponent(de))},H.escapeFragment=function L(de){return encodeURIComponent(D(de))},H.escapeJsonPointer=D,H.unescapeJsonPointer=X,H.eachItem=function j(de,le){if(Array.isArray(de))for(const be of de)le(be);else le(de)},H.mergeEvaluated={props:G({mergeNames:(de,le,be)=>de.if(d._`${be} !== true && ${le} !== undefined`,()=>{de.if(d._`${le} === true`,()=>de.assign(be,!0),()=>de.assign(be,d._`${be} || {}`).code(d._`Object.assign(${be}, ${le})`))}),mergeToName:(de,le,be)=>de.if(d._`${be} !== true`,()=>{!0===le?de.assign(be,!0):(de.assign(be,d._`${be} || {}`),te(de,be,le))}),mergeValues:(de,le)=>!0===de||{...de,...le},resultToName:re}),items:G({mergeNames:(de,le,be)=>de.if(d._`${be} !== true && ${le} !== undefined`,()=>de.assign(be,d._`${le} === true ? true : ${be} > ${le} ? ${be} : ${le}`)),mergeToName:(de,le,be)=>de.if(d._`${be} !== true`,()=>de.assign(be,!0===le||d._`${be} > ${le} ? ${be} : ${le}`)),mergeValues:(de,le)=>!0===de||Math.max(de,le),resultToName:(de,le)=>de.var("items",le)})},H.evaluatedPropsToName=re,H.setEvaluated=te;const J={};var ie,de;function se(de,le,be=de.opts.strictSchema){if(be){if(le=`strict mode: ${le}`,!0===be)throw new Error(le);de.self.logger.warn(le)}}H.useFunc=function Z(de,le){return de.scopeValue("func",{ref:le,code:J[le.code]||(J[le.code]=new E._Code(le.code))})},(de=ie=H.Type||(H.Type={}))[de.Num=0]="Num",de[de.Str=1]="Str",H.getErrorPath=function ae(de,le,be){if(de instanceof d.Name){const xe=le===ie.Num;return be?xe?d._`"[" + ${de} + "]"`:d._`"['" + ${de} + "']"`:xe?d._`"/" + ${de}`:d._`"/" + ${de}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return be?(0,d.getProperty)(de).toString():"/"+D(de)},H.checkStrictMode=se},22650:(je,H)=>{"use strict";function d(k,z){return z.rules.some(x=>E(k,x))}function E(k,z){var x;return void 0!==k[z.keyword]||(null===(x=z.definition.implements)||void 0===x?void 0:x.some(O=>void 0!==k[O]))}Object.defineProperty(H,"__esModule",{value:!0}),H.shouldUseRule=H.shouldUseGroup=H.schemaHasRulesForType=void 0,H.schemaHasRulesForType=function w({schema:k,self:z},x){const O=z.RULES.types[x];return O&&!0!==O&&d(k,O)},H.shouldUseGroup=d,H.shouldUseRule=E},37864:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.boolOrEmptySchema=H.topBoolOrEmptySchema=void 0;const d=w(53421),E=w(1038),k=w(23432),z={message:"boolean schema is false"};function A(P,F){const{gen:L,data:D}=P;(0,d.reportError)({gen:L,keyword:"false schema",data:D,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:P},z,void 0,F)}H.topBoolOrEmptySchema=function x(P){const{gen:F,schema:L,validateName:D}=P;!1===L?A(P,!1):"object"==typeof L&&!0===L.$async?F.return(k.default.data):(F.assign(E._`${D}.errors`,null),F.return(!0))},H.boolOrEmptySchema=function O(P,F){const{gen:L,schema:D}=P;!1===D?(L.var(F,!1),A(P)):L.var(F,!0)}},55999:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.reportTypeError=H.checkDataTypes=H.checkDataType=H.coerceAndCheckDataType=H.getJSONTypes=H.getSchemaTypes=H.DataType=void 0;const d=w(32203),E=w(22650),k=w(53421),z=w(1038),x=w(27006);var O,ie;function P(ie){const ae=Array.isArray(ie)?ie:ie?[ie]:[];if(ae.every(d.isJSONType))return ae;throw new Error("type must be JSONType or JSONType[]: "+ae.join(","))}(ie=O=H.DataType||(H.DataType={}))[ie.Correct=0]="Correct",ie[ie.Wrong=1]="Wrong",H.getSchemaTypes=function A(ie){const ae=P(ie.type);if(ae.includes("null")){if(!1===ie.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!ae.length&&void 0!==ie.nullable)throw new Error('"nullable" cannot be used without "type"');!0===ie.nullable&&ae.push("null")}return ae},H.getJSONTypes=P,H.coerceAndCheckDataType=function F(ie,ae){const{gen:se,data:de,opts:le}=ie,be=function D(ie,ae){return ae?ie.filter(se=>L.has(se)||"array"===ae&&"array"===se):[]}(ae,le.coerceTypes),xe=ae.length>0&&!(0===be.length&&1===ae.length&&(0,E.schemaHasRulesForType)(ie,ae[0]));if(xe){const ke=re(ae,de,le.strictNumbers,O.Wrong);se.if(ke,()=>{be.length?function X(ie,ae,se){const{gen:de,data:le,opts:be}=ie,xe=de.let("dataType",z._`typeof ${le}`),ke=de.let("coerced",z._`undefined`);"array"===be.coerceTypes&&de.if(z._`${xe} == 'object' && Array.isArray(${le}) && ${le}.length == 1`,()=>de.assign(le,z._`${le}[0]`).assign(xe,z._`typeof ${le}`).if(re(ae,le,be.strictNumbers),()=>de.assign(ke,le))),de.if(z._`${ke} !== undefined`);for(const a of se)(L.has(a)||"array"===a&&"array"===be.coerceTypes)&&C(a);function C(a){switch(a){case"string":return void de.elseIf(z._`${xe} == "number" || ${xe} == "boolean"`).assign(ke,z._`"" + ${le}`).elseIf(z._`${le} === null`).assign(ke,z._`""`);case"number":return void de.elseIf(z._`${xe} == "boolean" || ${le} === null
              || (${xe} == "string" && ${le} && ${le} == +${le})`).assign(ke,z._`+${le}`);case"integer":return void de.elseIf(z._`${xe} === "boolean" || ${le} === null
              || (${xe} === "string" && ${le} && ${le} == +${le} && !(${le} % 1))`).assign(ke,z._`+${le}`);case"boolean":return void de.elseIf(z._`${le} === "false" || ${le} === 0 || ${le} === null`).assign(ke,!1).elseIf(z._`${le} === "true" || ${le} === 1`).assign(ke,!0);case"null":return de.elseIf(z._`${le} === "" || ${le} === 0 || ${le} === false`),void de.assign(ke,null);case"array":de.elseIf(z._`${xe} === "string" || ${xe} === "number"
              || ${xe} === "boolean" || ${le} === null`).assign(ke,z._`[${le}]`)}}de.else(),J(ie),de.endIf(),de.if(z._`${ke} !== undefined`,()=>{de.assign(le,ke),function j({gen:ie,parentData:ae,parentDataProperty:se},de){ie.if(z._`${ae} !== undefined`,()=>ie.assign(z._`${ae}[${se}]`,de))}(ie,ke)})}(ie,ae,be):J(ie)})}return xe};const L=new Set(["string","number","integer","boolean","null"]);function G(ie,ae,se,de=O.Correct){const le=de===O.Correct?z.operators.EQ:z.operators.NEQ;let be;switch(ie){case"null":return z._`${ae} ${le} null`;case"array":be=z._`Array.isArray(${ae})`;break;case"object":be=z._`${ae} && typeof ${ae} == "object" && !Array.isArray(${ae})`;break;case"integer":be=xe(z._`!(${ae} % 1) && !isNaN(${ae})`);break;case"number":be=xe();break;default:return z._`typeof ${ae} ${le} ${ie}`}return de===O.Correct?be:(0,z.not)(be);function xe(ke=z.nil){return(0,z.and)(z._`typeof ${ae} == "number"`,ke,se?z._`isFinite(${ae})`:z.nil)}}function re(ie,ae,se,de){if(1===ie.length)return G(ie[0],ae,se,de);let le;const be=(0,x.toHash)(ie);if(be.array&&be.object){const xe=z._`typeof ${ae} != "object"`;le=be.null?xe:z._`!${ae} || ${xe}`,delete be.null,delete be.array,delete be.object}else le=z.nil;be.number&&delete be.integer;for(const xe in be)le=(0,z.and)(le,G(xe,ae,se,de));return le}H.checkDataType=G,H.checkDataTypes=re;const te={message:({schema:ie})=>`must be ${ie}`,params:({schema:ie,schemaValue:ae})=>"string"==typeof ie?z._`{type: ${ie}}`:z._`{type: ${ae}}`};function J(ie){const ae=function Z(ie){const{gen:ae,data:se,schema:de}=ie,le=(0,x.schemaRefOrVal)(ie,de,"type");return{gen:ae,keyword:"type",data:se,schema:de.type,schemaCode:le,schemaValue:le,parentSchema:de,params:{},it:ie}}(ie);(0,k.reportError)(ae,te)}H.reportTypeError=J},48733:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.assignDefaults=void 0;const d=w(1038),E=w(27006);function z(x,O,A){const{gen:P,compositeRule:F,data:L,opts:D}=x;if(void 0===A)return;const X=d._`${L}${(0,d.getProperty)(O)}`;if(F)return void(0,E.checkStrictMode)(x,`default is ignored for: ${X}`);let j=d._`${X} === undefined`;"empty"===D.useDefaults&&(j=d._`${j} || ${X} === null || ${X} === ""`),P.if(j,d._`${X} = ${(0,d.stringify)(A)}`)}H.assignDefaults=function k(x,O){const{properties:A,items:P}=x.schema;if("object"===O&&A)for(const F in A)z(x,F,A[F].default);else"array"===O&&Array.isArray(P)&&P.forEach((F,L)=>z(x,L,F.default))}},40339:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.getData=H.KeywordCxt=H.validateFunctionCode=void 0;const d=w(37864),E=w(55999),k=w(22650),z=w(55999),x=w(48733),O=w(76800),A=w(16334),P=w(1038),F=w(23432),L=w(77172),D=w(27006),X=w(53421);function G({gen:ye,validateName:De,schema:pe,schemaEnv:ue,opts:Q},oe){Q.code.es5?ye.func(De,P._`${F.default.data}, ${F.default.valCxt}`,ue.$async,()=>{ye.code(P._`"use strict"; ${ie(pe,Q)}`),function te(ye,De){ye.if(F.default.valCxt,()=>{ye.var(F.default.instancePath,P._`${F.default.valCxt}.${F.default.instancePath}`),ye.var(F.default.parentData,P._`${F.default.valCxt}.${F.default.parentData}`),ye.var(F.default.parentDataProperty,P._`${F.default.valCxt}.${F.default.parentDataProperty}`),ye.var(F.default.rootData,P._`${F.default.valCxt}.${F.default.rootData}`),De.dynamicRef&&ye.var(F.default.dynamicAnchors,P._`${F.default.valCxt}.${F.default.dynamicAnchors}`)},()=>{ye.var(F.default.instancePath,P._`""`),ye.var(F.default.parentData,P._`undefined`),ye.var(F.default.parentDataProperty,P._`undefined`),ye.var(F.default.rootData,F.default.data),De.dynamicRef&&ye.var(F.default.dynamicAnchors,P._`{}`)})}(ye,Q),ye.code(oe)}):ye.func(De,P._`${F.default.data}, ${function re(ye){return P._`{${F.default.instancePath}="", ${F.default.parentData}, ${F.default.parentDataProperty}, ${F.default.rootData}=${F.default.data}${ye.dynamicRef?P._`, ${F.default.dynamicAnchors}={}`:P.nil}}={}`}(Q)}`,ue.$async,()=>ye.code(ie(pe,Q)).code(oe))}function ie(ye,De){const pe="object"==typeof ye&&ye[De.schemaId];return pe&&(De.code.source||De.code.process)?P._`/*# sourceURL=${pe} */`:P.nil}function se({schema:ye,self:De}){if("boolean"==typeof ye)return!ye;for(const pe in ye)if(De.RULES.all[pe])return!0;return!1}function de(ye){return"boolean"!=typeof ye.schema}function be(ye){(0,D.checkUnknownRules)(ye),function ke(ye){const{schema:De,errSchemaPath:pe,opts:ue,self:Q}=ye;De.$ref&&ue.ignoreKeywordsWithRef&&(0,D.schemaHasRulesButRef)(De,Q.RULES)&&Q.logger.warn(`$ref: keywords ignored in schema at path "${pe}"`)}(ye)}function xe(ye,De){if(ye.opts.jtd)return T(ye,[],!1,De);const pe=(0,E.getSchemaTypes)(ye.schema);T(ye,pe,!(0,E.coerceAndCheckDataType)(ye,pe),De)}function y({gen:ye,schemaEnv:De,schema:pe,errSchemaPath:ue,opts:Q}){const oe=pe.$comment;if(!0===Q.$comment)ye.code(P._`${F.default.self}.logger.log(${oe})`);else if("function"==typeof Q.$comment){const fe=P.str`${ue}/$comment`,Ee=ye.scopeValue("root",{ref:De.root});ye.code(P._`${F.default.self}.opts.$comment(${oe}, ${fe}, ${Ee}.schema)`)}}function T(ye,De,pe,ue){const{gen:Q,schema:oe,data:fe,allErrors:Ee,opts:Re,self:$e}=ye,{RULES:Fe}=$e;function _t(We){(0,k.shouldUseGroup)(oe,We)&&(We.type?(Q.if((0,z.checkDataType)(We.type,fe,Re.strictNumbers)),B(ye,We),1===De.length&&De[0]===We.type&&pe&&(Q.else(),(0,z.reportTypeError)(ye)),Q.endIf()):B(ye,We),Ee||Q.if(P._`${F.default.errors} === ${ue||0}`))}!oe.$ref||!Re.ignoreKeywordsWithRef&&(0,D.schemaHasRulesButRef)(oe,Fe)?(Re.jtd||function S(ye,De){ye.schemaEnv.meta||!ye.opts.strictTypes||(function s(ye,De){if(De.length){if(!ye.dataTypes.length)return void(ye.dataTypes=De);De.forEach(pe=>{ee(ye.dataTypes,pe)||_e(ye,`type "${pe}" not allowed by context "${ye.dataTypes.join(",")}"`)}),function ce(ye,De){const pe=[];for(const ue of ye.dataTypes)ee(De,ue)?pe.push(ue):De.includes("integer")&&"number"===ue&&pe.push("integer");ye.dataTypes=pe}(ye,De)}}(ye,De),ye.opts.allowUnionTypes||function v(ye,De){De.length>1&&(2!==De.length||!De.includes("null"))&&_e(ye,"use allowUnionTypes to allow union type keyword")}(ye,De),function W(ye,De){const pe=ye.self.RULES.all;for(const ue in pe){const Q=pe[ue];if("object"==typeof Q&&(0,k.shouldUseRule)(ye.schema,Q)){const{type:oe}=Q.definition;oe.length&&!oe.some(fe=>K(De,fe))&&_e(ye,`missing type "${oe.join(",")}" for keyword "${ue}"`)}}}(ye,ye.dataTypes))}(ye,De),Q.block(()=>{for(const We of Fe.rules)_t(We);_t(Fe.post)})):Q.block(()=>Ve(ye,"$ref",Fe.all.$ref.definition))}function B(ye,De){const{gen:pe,schema:ue,opts:{useDefaults:Q}}=ye;Q&&(0,x.assignDefaults)(ye,De.type),pe.block(()=>{for(const oe of De.rules)(0,k.shouldUseRule)(ue,oe)&&Ve(ye,oe.keyword,oe.definition,De.type)})}function K(ye,De){return ye.includes(De)||"number"===De&&ye.includes("integer")}function ee(ye,De){return ye.includes(De)||"integer"===De&&ye.includes("number")}function _e(ye,De){(0,D.checkStrictMode)(ye,De+=` at "${ye.schemaEnv.baseId+ye.errSchemaPath}" (strictTypes)`,ye.opts.strictTypes)}H.validateFunctionCode=function j(ye){de(ye)&&(be(ye),se(ye))?function J(ye){const{schema:De,opts:pe,gen:ue}=ye;G(ye,()=>{pe.$comment&&De.$comment&&y(ye),function C(ye){const{schema:De,opts:pe}=ye;void 0!==De.default&&pe.useDefaults&&pe.strictSchema&&(0,D.checkStrictMode)(ye,"default is ignored in the schema root")}(ye),ue.let(F.default.vErrors,null),ue.let(F.default.errors,0),pe.unevaluated&&function Z(ye){const{gen:De,validateName:pe}=ye;ye.evaluated=De.const("evaluated",P._`${pe}.evaluated`),De.if(P._`${ye.evaluated}.dynamicProps`,()=>De.assign(P._`${ye.evaluated}.props`,P._`undefined`)),De.if(P._`${ye.evaluated}.dynamicItems`,()=>De.assign(P._`${ye.evaluated}.items`,P._`undefined`))}(ye),xe(ye),function g(ye){const{gen:De,schemaEnv:pe,validateName:ue,ValidationError:Q,opts:oe}=ye;pe.$async?De.if(P._`${F.default.errors} === 0`,()=>De.return(F.default.data),()=>De.throw(P._`new ${Q}(${F.default.vErrors})`)):(De.assign(P._`${ue}.errors`,F.default.vErrors),oe.unevaluated&&function M({gen:ye,evaluated:De,props:pe,items:ue}){pe instanceof P.Name&&ye.assign(P._`${De}.props`,pe),ue instanceof P.Name&&ye.assign(P._`${De}.items`,ue)}(ye),De.return(P._`${F.default.errors} === 0`))}(ye)})}(ye):G(ye,()=>(0,d.topBoolOrEmptySchema)(ye))};class Oe{constructor(De,pe,ue){if((0,O.validateKeywordUsage)(De,pe,ue),this.gen=De.gen,this.allErrors=De.allErrors,this.keyword=ue,this.data=De.data,this.schema=De.schema[ue],this.$data=pe.$data&&De.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,D.schemaRefOrVal)(De,this.schema,ue,this.$data),this.schemaType=pe.schemaType,this.parentSchema=De.schema,this.params={},this.it=De,this.def=pe,this.$data)this.schemaCode=De.gen.const("vSchema",Ue(this.$data,De));else if(this.schemaCode=this.schemaValue,!(0,O.validSchemaType)(this.schema,pe.schemaType,pe.allowUndefined))throw new Error(`${ue} value must be ${JSON.stringify(pe.schemaType)}`);("code"in pe?pe.trackErrors:!1!==pe.errors)&&(this.errsCount=De.gen.const("_errs",F.default.errors))}result(De,pe,ue){this.failResult((0,P.not)(De),pe,ue)}failResult(De,pe,ue){this.gen.if(De),ue?ue():this.error(),pe?(this.gen.else(),pe(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(De,pe){this.failResult((0,P.not)(De),void 0,pe)}fail(De){if(void 0===De)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(De),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(De){if(!this.$data)return this.fail(De);const{schemaCode:pe}=this;this.fail(P._`${pe} !== undefined && (${(0,P.or)(this.invalid$data(),De)})`)}error(De,pe,ue){if(pe)return this.setParams(pe),this._error(De,ue),void this.setParams({});this._error(De,ue)}_error(De,pe){(De?X.reportExtraError:X.reportError)(this,this.def.error,pe)}$dataError(){(0,X.reportError)(this,this.def.$dataError||X.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,X.resetErrorsCount)(this.gen,this.errsCount)}ok(De){this.allErrors||this.gen.if(De)}setParams(De,pe){pe?Object.assign(this.params,De):this.params=De}block$data(De,pe,ue=P.nil){this.gen.block(()=>{this.check$data(De,ue),pe()})}check$data(De=P.nil,pe=P.nil){if(!this.$data)return;const{gen:ue,schemaCode:Q,schemaType:oe,def:fe}=this;ue.if((0,P.or)(P._`${Q} === undefined`,pe)),De!==P.nil&&ue.assign(De,!0),(oe.length||fe.validateSchema)&&(ue.elseIf(this.invalid$data()),this.$dataError(),De!==P.nil&&ue.assign(De,!1)),ue.else()}invalid$data(){const{gen:De,schemaCode:pe,schemaType:ue,def:Q,it:oe}=this;return(0,P.or)(function fe(){if(ue.length){if(!(pe instanceof P.Name))throw new Error("ajv implementation error");const Re=Array.isArray(ue)?ue:[ue];return P._`${(0,z.checkDataTypes)(Re,pe,oe.opts.strictNumbers,z.DataType.Wrong)}`}return P.nil}(),function Ee(){if(Q.validateSchema){const Re=De.scopeValue("validate$data",{ref:Q.validateSchema});return P._`!${Re}(${pe})`}return P.nil}())}subschema(De,pe){const ue=(0,A.getSubschema)(this.it,De);(0,A.extendSubschemaData)(ue,this.it,De),(0,A.extendSubschemaMode)(ue,De);const Q={...this.it,...ue,items:void 0,props:void 0};return function ae(ye,De){de(ye)&&(be(ye),se(ye))?function le(ye,De){const{schema:pe,gen:ue,opts:Q}=ye;Q.$comment&&pe.$comment&&y(ye),function a(ye){const De=ye.schema[ye.opts.schemaId];De&&(ye.baseId=(0,L.resolveUrl)(ye.opts.uriResolver,ye.baseId,De))}(ye),function f(ye){if(ye.schema.$async&&!ye.schemaEnv.$async)throw new Error("async schema in sync schema")}(ye);const oe=ue.const("_errs",F.default.errors);xe(ye,oe),ue.var(De,P._`${oe} === ${F.default.errors}`)}(ye,De):(0,d.boolOrEmptySchema)(ye,De)}(Q,pe),Q}mergeEvaluated(De,pe){const{it:ue,gen:Q}=this;ue.opts.unevaluated&&(!0!==ue.props&&void 0!==De.props&&(ue.props=D.mergeEvaluated.props(Q,De.props,ue.props,pe)),!0!==ue.items&&void 0!==De.items&&(ue.items=D.mergeEvaluated.items(Q,De.items,ue.items,pe)))}mergeValidEvaluated(De,pe){const{it:ue,gen:Q}=this;if(ue.opts.unevaluated&&(!0!==ue.props||!0!==ue.items))return Q.if(pe,()=>this.mergeEvaluated(De,P.Name)),!0}}function Ve(ye,De,pe,ue){const Q=new Oe(ye,pe,De);"code"in pe?pe.code(Q,ue):Q.$data&&pe.validate?(0,O.funcKeywordCode)(Q,pe):"macro"in pe?(0,O.macroKeywordCode)(Q,pe):(pe.compile||pe.validate)&&(0,O.funcKeywordCode)(Q,pe)}H.KeywordCxt=Oe;const Se=/^\/(?:[^~]|~0|~1)*$/,we=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ue(ye,{dataLevel:De,dataNames:pe,dataPathArr:ue}){let Q,oe;if(""===ye)return F.default.rootData;if("/"===ye[0]){if(!Se.test(ye))throw new Error(`Invalid JSON-pointer: ${ye}`);Q=ye,oe=F.default.rootData}else{const $e=we.exec(ye);if(!$e)throw new Error(`Invalid JSON-pointer: ${ye}`);const Fe=+$e[1];if(Q=$e[2],"#"===Q){if(Fe>=De)throw new Error(Re("property/index",Fe));return ue[De-Fe]}if(Fe>De)throw new Error(Re("data",Fe));if(oe=pe[De-Fe],!Q)return oe}let fe=oe;const Ee=Q.split("/");for(const $e of Ee)$e&&(oe=P._`${oe}${(0,P.getProperty)((0,D.unescapeJsonPointer)($e))}`,fe=P._`${fe} && ${oe}`);return fe;function Re($e,Fe){return`Cannot access ${$e} ${Fe} levels up, current level is ${De}`}}H.getData=Ue},76800:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.validateKeywordUsage=H.validSchemaType=H.funcKeywordCode=H.macroKeywordCode=void 0;const d=w(1038),E=w(23432),k=w(42406),z=w(53421);function A(j){const{gen:G,data:re,it:te}=j;G.if(te.parentData,()=>G.assign(re,d._`${te.parentData}[${te.parentDataProperty}]`))}function L(j,G,re){if(void 0===re)throw new Error(`keyword "${G}" failed to compile`);return j.scopeValue("keyword","function"==typeof re?{ref:re}:{ref:re,code:(0,d.stringify)(re)})}H.macroKeywordCode=function x(j,G){const{gen:re,keyword:te,schema:J,parentSchema:Z,it:ie}=j,ae=G.macro.call(ie.self,J,Z,ie),se=L(re,te,ae);!1!==ie.opts.validateSchema&&ie.self.validateSchema(ae,!0);const de=re.name("valid");j.subschema({schema:ae,schemaPath:d.nil,errSchemaPath:`${ie.errSchemaPath}/${te}`,topSchemaRef:se,compositeRule:!0},de),j.pass(de,()=>j.error(!0))},H.funcKeywordCode=function O(j,G){var re;const{gen:te,keyword:J,schema:Z,parentSchema:ie,$data:ae,it:se}=j;!function F({schemaEnv:j},G){if(G.async&&!j.$async)throw new Error("async keyword in sync schema")}(se,G);const de=!ae&&G.compile?G.compile.call(se.self,Z,ie,se):G.validate,le=L(te,J,de),be=te.let("valid");function a(y=(G.async?d._`await `:d.nil)){te.assign(be,d._`${y}${(0,k.callValidateCode)(j,le,se.opts.passContext?E.default.this:E.default.self,!("compile"in G&&!ae||!1===G.schema))}`,G.modifying)}function f(y){var g;te.if((0,d.not)(null!==(g=G.valid)&&void 0!==g?g:be),y)}j.block$data(be,function xe(){if(!1===G.errors)a(),G.modifying&&A(j),f(()=>j.error());else{const y=G.async?function ke(){const y=te.let("ruleErrs",null);return te.try(()=>a(d._`await `),g=>te.assign(be,!1).if(d._`${g} instanceof ${se.ValidationError}`,()=>te.assign(y,d._`${g}.errors`),()=>te.throw(g))),y}():function C(){const y=d._`${le}.errors`;return te.assign(y,null),a(d.nil),y}();G.modifying&&A(j),f(()=>function P(j,G){const{gen:re}=j;re.if(d._`Array.isArray(${G})`,()=>{re.assign(E.default.vErrors,d._`${E.default.vErrors} === null ? ${G} : ${E.default.vErrors}.concat(${G})`).assign(E.default.errors,d._`${E.default.vErrors}.length`),(0,z.extendErrors)(j)},()=>j.error())}(j,y))}}),j.ok(null!==(re=G.valid)&&void 0!==re?re:be)},H.validSchemaType=function D(j,G,re=!1){return!G.length||G.some(te=>"array"===te?Array.isArray(j):"object"===te?j&&"object"==typeof j&&!Array.isArray(j):typeof j==te||re&&typeof j>"u")},H.validateKeywordUsage=function X({schema:j,opts:G,self:re,errSchemaPath:te},J,Z){if(Array.isArray(J.keyword)?!J.keyword.includes(Z):J.keyword!==Z)throw new Error("ajv implementation error");const ie=J.dependencies;if(ie?.some(ae=>!Object.prototype.hasOwnProperty.call(j,ae)))throw new Error(`parent schema must have dependencies of ${Z}: ${ie.join(",")}`);if(J.validateSchema&&!J.validateSchema(j[Z])){const se=`keyword "${Z}" value is invalid at path "${te}": `+re.errorsText(J.validateSchema.errors);if("log"!==G.validateSchema)throw new Error(se);re.logger.error(se)}}},16334:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.extendSubschemaMode=H.extendSubschemaData=H.getSubschema=void 0;const d=w(1038),E=w(27006);H.getSubschema=function k(O,{keyword:A,schemaProp:P,schema:F,schemaPath:L,errSchemaPath:D,topSchemaRef:X}){if(void 0!==A&&void 0!==F)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==A){const j=O.schema[A];return void 0===P?{schema:j,schemaPath:d._`${O.schemaPath}${(0,d.getProperty)(A)}`,errSchemaPath:`${O.errSchemaPath}/${A}`}:{schema:j[P],schemaPath:d._`${O.schemaPath}${(0,d.getProperty)(A)}${(0,d.getProperty)(P)}`,errSchemaPath:`${O.errSchemaPath}/${A}/${(0,E.escapeFragment)(P)}`}}if(void 0!==F){if(void 0===L||void 0===D||void 0===X)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:F,schemaPath:L,topSchemaRef:X,errSchemaPath:D}}throw new Error('either "keyword" or "schema" must be passed')},H.extendSubschemaData=function z(O,A,{dataProp:P,dataPropType:F,data:L,dataTypes:D,propertyName:X}){if(void 0!==L&&void 0!==P)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:j}=A;if(void 0!==P){const{errorPath:re,dataPathArr:te,opts:J}=A;G(j.let("data",d._`${A.data}${(0,d.getProperty)(P)}`,!0)),O.errorPath=d.str`${re}${(0,E.getErrorPath)(P,F,J.jsPropertySyntax)}`,O.parentDataProperty=d._`${P}`,O.dataPathArr=[...te,O.parentDataProperty]}function G(re){O.data=re,O.dataLevel=A.dataLevel+1,O.dataTypes=[],A.definedProperties=new Set,O.parentData=A.data,O.dataNames=[...A.dataNames,re]}void 0!==L&&(G(L instanceof d.Name?L:j.let("data",L,!0)),void 0!==X&&(O.propertyName=X)),D&&(O.dataTypes=D)},H.extendSubschemaMode=function x(O,{jtdDiscriminator:A,jtdMetadata:P,compositeRule:F,createErrors:L,allErrors:D}){void 0!==F&&(O.compositeRule=F),void 0!==L&&(O.createErrors=L),void 0!==D&&(O.allErrors=D),O.jtdDiscriminator=A,O.jtdMetadata=P}},35419:(je,H,w)=>{"use strict";var d=w(29293).default;Object.defineProperty(H,"__esModule",{value:!0}),H.CodeGen=H.Name=H.nil=H.stringify=H.str=H._=H.KeywordCxt=void 0;var E=w(40339);Object.defineProperty(H,"KeywordCxt",{enumerable:!0,get:function(){return E.KeywordCxt}});var k=w(1038);Object.defineProperty(H,"_",{enumerable:!0,get:function(){return k._}}),Object.defineProperty(H,"str",{enumerable:!0,get:function(){return k.str}}),Object.defineProperty(H,"stringify",{enumerable:!0,get:function(){return k.stringify}}),Object.defineProperty(H,"nil",{enumerable:!0,get:function(){return k.nil}}),Object.defineProperty(H,"Name",{enumerable:!0,get:function(){return k.Name}}),Object.defineProperty(H,"CodeGen",{enumerable:!0,get:function(){return k.CodeGen}});const z=w(42467),x=w(26288),O=w(32203),A=w(97692),P=w(1038),F=w(77172),L=w(55999),D=w(27006),X=w(83813),j=w(13203),G=(v,W)=>new RegExp(v,W);G.code="new RegExp";const re=["removeAdditional","useDefaults","coerceTypes"],te=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),J={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Z={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function ae(v){var W,K,ee,ce,_e,Oe,Ve,Se,we,Ue,ye,De,pe,ue,Q,oe,fe,Ee,Re,$e,Fe,_t,We,Le,lt;const N=v.strict,_=null===(W=v.code)||void 0===W?void 0:W.optimize,m=!0===_||void 0===_?1:_||0,U=null!==(ee=null===(K=v.code)||void 0===K?void 0:K.regExp)&&void 0!==ee?ee:G,ne=null!==(ce=v.uriResolver)&&void 0!==ce?ce:j.default;return{strictSchema:null===(Oe=null!==(_e=v.strictSchema)&&void 0!==_e?_e:N)||void 0===Oe||Oe,strictNumbers:null===(Se=null!==(Ve=v.strictNumbers)&&void 0!==Ve?Ve:N)||void 0===Se||Se,strictTypes:null!==(Ue=null!==(we=v.strictTypes)&&void 0!==we?we:N)&&void 0!==Ue?Ue:"log",strictTuples:null!==(De=null!==(ye=v.strictTuples)&&void 0!==ye?ye:N)&&void 0!==De?De:"log",strictRequired:null!==(ue=null!==(pe=v.strictRequired)&&void 0!==pe?pe:N)&&void 0!==ue&&ue,code:v.code?{...v.code,optimize:m,regExp:U}:{optimize:m,regExp:U},loopRequired:null!==(Q=v.loopRequired)&&void 0!==Q?Q:200,loopEnum:null!==(oe=v.loopEnum)&&void 0!==oe?oe:200,meta:null===(fe=v.meta)||void 0===fe||fe,messages:null===(Ee=v.messages)||void 0===Ee||Ee,inlineRefs:null===(Re=v.inlineRefs)||void 0===Re||Re,schemaId:null!==($e=v.schemaId)&&void 0!==$e?$e:"$id",addUsedSchema:null===(Fe=v.addUsedSchema)||void 0===Fe||Fe,validateSchema:null===(_t=v.validateSchema)||void 0===_t||_t,validateFormats:null===(We=v.validateFormats)||void 0===We||We,unicodeRegExp:null===(Le=v.unicodeRegExp)||void 0===Le||Le,int32range:null===(lt=v.int32range)||void 0===lt||lt,uriResolver:ne}}class se{constructor(W={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,W=this.opts={...W,...ae(W)};const{es5:K,lines:ee}=this.opts.code;this.scope=new P.ValueScope({scope:{},prefixes:te,es5:K,lines:ee}),this.logger=function f(v){if(!1===v)return a;if(void 0===v)return console;if(v.log&&v.warn&&v.error)return v;throw new Error("logger must implement log, warn and error methods")}(W.logger);const ce=W.validateFormats;W.validateFormats=!1,this.RULES=(0,O.getRules)(),de.call(this,J,W,"NOT SUPPORTED"),de.call(this,Z,W,"DEPRECATED","warn"),this._metaOpts=C.call(this),W.formats&&xe.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),W.keywords&&ke.call(this,W.keywords),"object"==typeof W.meta&&this.addMetaSchema(W.meta),be.call(this),W.validateFormats=ce}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:W,meta:K,schemaId:ee}=this.opts;let ce=X;"id"===ee&&(ce={...X},ce.id=ce.$id,delete ce.$id),K&&W&&this.addMetaSchema(ce,ce[ee],!1)}defaultMeta(){const{meta:W,schemaId:K}=this.opts;return this.opts.defaultMeta="object"==typeof W?W[K]||W:void 0}validate(W,K){let ee;if("string"==typeof W){if(ee=this.getSchema(W),!ee)throw new Error(`no schema with key or ref "${W}"`)}else ee=this.compile(W);const ce=ee(K);return"$async"in ee||(this.errors=ee.errors),ce}compile(W,K){const ee=this._addSchema(W,K);return ee.validate||this._compileSchemaEnv(ee)}compileAsync(W,K){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:ee}=this.opts;return ce.call(this,W,K);function ce(Q,oe){return _e.apply(this,arguments)}function _e(){return(_e=d(function*(Q,oe){yield Oe.call(this,Q.$schema);const fe=this._addSchema(Q,oe);return fe.validate||Se.call(this,fe)})).apply(this,arguments)}function Oe(Q){return Ve.apply(this,arguments)}function Ve(){return(Ve=d(function*(Q){Q&&!this.getSchema(Q)&&(yield ce.call(this,{$ref:Q},!0))})).apply(this,arguments)}function Se(Q){return we.apply(this,arguments)}function we(){return(we=d(function*(Q){try{return this._compileSchemaEnv(Q)}catch(oe){if(!(oe instanceof x.default))throw oe;return Ue.call(this,oe),yield ye.call(this,oe.missingSchema),Se.call(this,Q)}})).apply(this,arguments)}function Ue({missingSchema:Q,missingRef:oe}){if(this.refs[Q])throw new Error(`AnySchema ${Q} is loaded but ${oe} cannot be resolved`)}function ye(Q){return De.apply(this,arguments)}function De(){return(De=d(function*(Q){const oe=yield pe.call(this,Q);this.refs[Q]||(yield Oe.call(this,oe.$schema)),this.refs[Q]||this.addSchema(oe,Q,K)})).apply(this,arguments)}function pe(Q){return ue.apply(this,arguments)}function ue(){return(ue=d(function*(Q){const oe=this._loading[Q];if(oe)return oe;try{return yield this._loading[Q]=ee(Q)}finally{delete this._loading[Q]}})).apply(this,arguments)}}addSchema(W,K,ee,ce=this.opts.validateSchema){if(Array.isArray(W)){for(const Oe of W)this.addSchema(Oe,void 0,ee,ce);return this}let _e;if("object"==typeof W){const{schemaId:Oe}=this.opts;if(_e=W[Oe],void 0!==_e&&"string"!=typeof _e)throw new Error(`schema ${Oe} must be string`)}return K=(0,F.normalizeId)(K||_e),this._checkUnique(K),this.schemas[K]=this._addSchema(W,ee,K,ce,!0),this}addMetaSchema(W,K,ee=this.opts.validateSchema){return this.addSchema(W,K,!0,ee),this}validateSchema(W,K){if("boolean"==typeof W)return!0;let ee;if(ee=W.$schema,void 0!==ee&&"string"!=typeof ee)throw new Error("$schema must be a string");if(ee=ee||this.opts.defaultMeta||this.defaultMeta(),!ee)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const ce=this.validate(ee,W);if(!ce&&K){const _e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(_e);this.logger.error(_e)}return ce}getSchema(W){let K;for(;"string"==typeof(K=le.call(this,W));)W=K;if(void 0===K){const{schemaId:ee}=this.opts,ce=new A.SchemaEnv({schema:{},schemaId:ee});if(K=A.resolveSchema.call(this,ce,W),!K)return;this.refs[W]=K}return K.validate||this._compileSchemaEnv(K)}removeSchema(W){if(W instanceof RegExp)return this._removeAllSchemas(this.schemas,W),this._removeAllSchemas(this.refs,W),this;switch(typeof W){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const K=le.call(this,W);return"object"==typeof K&&this._cache.delete(K.schema),delete this.schemas[W],delete this.refs[W],this}case"object":{this._cache.delete(W);let ee=W[this.opts.schemaId];return ee&&(ee=(0,F.normalizeId)(ee),delete this.schemas[ee],delete this.refs[ee]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(W){for(const K of W)this.addKeyword(K);return this}addKeyword(W,K){let ee;if("string"==typeof W)ee=W,"object"==typeof K&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),K.keyword=ee);else{if("object"!=typeof W||void 0!==K)throw new Error("invalid addKeywords parameters");if(ee=(K=W).keyword,Array.isArray(ee)&&!ee.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(g.call(this,ee,K),!K)return(0,D.eachItem)(ee,_e=>M.call(this,_e)),this;B.call(this,K);const ce={...K,type:(0,L.getJSONTypes)(K.type),schemaType:(0,L.getJSONTypes)(K.schemaType)};return(0,D.eachItem)(ee,0===ce.type.length?_e=>M.call(this,_e,ce):_e=>ce.type.forEach(Oe=>M.call(this,_e,ce,Oe))),this}getKeyword(W){const K=this.RULES.all[W];return"object"==typeof K?K.definition:!!K}removeKeyword(W){const{RULES:K}=this;delete K.keywords[W],delete K.all[W];for(const ee of K.rules){const ce=ee.rules.findIndex(_e=>_e.keyword===W);ce>=0&&ee.rules.splice(ce,1)}return this}addFormat(W,K){return"string"==typeof K&&(K=new RegExp(K)),this.formats[W]=K,this}errorsText(W=this.errors,{separator:K=", ",dataVar:ee="data"}={}){return W&&0!==W.length?W.map(ce=>`${ee}${ce.instancePath} ${ce.message}`).reduce((ce,_e)=>ce+K+_e):"No errors"}$dataMetaSchema(W,K){const ee=this.RULES.all;W=JSON.parse(JSON.stringify(W));for(const ce of K){const _e=ce.split("/").slice(1);let Oe=W;for(const Ve of _e)Oe=Oe[Ve];for(const Ve in ee){const Se=ee[Ve];if("object"!=typeof Se)continue;const{$data:we}=Se.definition,Ue=Oe[Ve];we&&Ue&&(Oe[Ve]=s(Ue))}}return W}_removeAllSchemas(W,K){for(const ee in W){const ce=W[ee];(!K||K.test(ee))&&("string"==typeof ce?delete W[ee]:ce&&!ce.meta&&(this._cache.delete(ce.schema),delete W[ee]))}}_addSchema(W,K,ee,ce=this.opts.validateSchema,_e=this.opts.addUsedSchema){let Oe;const{schemaId:Ve}=this.opts;if("object"==typeof W)Oe=W[Ve];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof W)throw new Error("schema must be object or boolean")}let Se=this._cache.get(W);if(void 0!==Se)return Se;ee=(0,F.normalizeId)(Oe||ee);const we=F.getSchemaRefs.call(this,W,ee);return Se=new A.SchemaEnv({schema:W,schemaId:Ve,meta:K,baseId:ee,localRefs:we}),this._cache.set(Se.schema,Se),_e&&!ee.startsWith("#")&&(ee&&this._checkUnique(ee),this.refs[ee]=Se),ce&&this.validateSchema(W,!0),Se}_checkUnique(W){if(this.schemas[W]||this.refs[W])throw new Error(`schema with key or id "${W}" already exists`)}_compileSchemaEnv(W){if(W.meta?this._compileMetaSchema(W):A.compileSchema.call(this,W),!W.validate)throw new Error("ajv implementation error");return W.validate}_compileMetaSchema(W){const K=this.opts;this.opts=this._metaOpts;try{A.compileSchema.call(this,W)}finally{this.opts=K}}}function de(v,W,K,ee="error"){for(const ce in v)ce in W&&this.logger[ee](`${K}: option ${ce}. ${v[ce]}`)}function le(v){return v=(0,F.normalizeId)(v),this.schemas[v]||this.refs[v]}function be(){const v=this.opts.schemas;if(v)if(Array.isArray(v))this.addSchema(v);else for(const W in v)this.addSchema(v[W],W)}function xe(){for(const v in this.opts.formats){const W=this.opts.formats[v];W&&this.addFormat(v,W)}}function ke(v){if(Array.isArray(v))this.addVocabulary(v);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const W in v){const K=v[W];K.keyword||(K.keyword=W),this.addKeyword(K)}}}function C(){const v={...this.opts};for(const W of re)delete v[W];return v}H.default=se,se.ValidationError=z.default,se.MissingRefError=x.default;const a={log(){},warn(){},error(){}},y=/^[a-z_$][a-z0-9_$:-]*$/i;function g(v,W){const{RULES:K}=this;if((0,D.eachItem)(v,ee=>{if(K.keywords[ee])throw new Error(`Keyword ${ee} is already defined`);if(!y.test(ee))throw new Error(`Keyword ${ee} has invalid name`)}),W&&W.$data&&!("code"in W)&&!("validate"in W))throw new Error('$data keyword must have "code" or "validate" function')}function M(v,W,K){var ee;const ce=W?.post;if(K&&ce)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:_e}=this;let Oe=ce?_e.post:_e.rules.find(({type:Se})=>Se===K);if(Oe||(Oe={type:K,rules:[]},_e.rules.push(Oe)),_e.keywords[v]=!0,!W)return;const Ve={keyword:v,definition:{...W,type:(0,L.getJSONTypes)(W.type),schemaType:(0,L.getJSONTypes)(W.schemaType)}};W.before?T.call(this,Oe,Ve,W.before):Oe.rules.push(Ve),_e.all[v]=Ve,null===(ee=W.implements)||void 0===ee||ee.forEach(Se=>this.addKeyword(Se))}function T(v,W,K){const ee=v.rules.findIndex(ce=>ce.keyword===K);ee>=0?v.rules.splice(ee,0,W):(v.rules.push(W),this.logger.warn(`rule ${K} is not defined`))}function B(v){let{metaSchema:W}=v;void 0!==W&&(v.$data&&this.opts.$data&&(W=s(W)),v.validateSchema=this.compile(W,!0))}const S={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function s(v){return{anyOf:[v,S]}}},87577:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(6438),E=w(59608),k=w(8307),z=w(11082),x=w(93406),O=w(14516),A=w(3059),P=w(18738),F=["/properties"];H.default=function L(D){return[d,E,k,z,x,X(this,O),A,X(this,P)].forEach(j=>this.addMetaSchema(j,void 0,!1)),this;function X(j,G){return D?j.$dataMetaSchema(G,F):G}}},92281:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(40362);d.code='require("ajv/dist/runtime/equal").default',H.default=d},26488:(je,H)=>{"use strict";function w(d){const E=d.length;let x,k=0,z=0;for(;z<E;)k++,x=d.charCodeAt(z++),x>=55296&&x<=56319&&z<E&&(x=d.charCodeAt(z),56320==(64512&x)&&z++);return k}Object.defineProperty(H,"__esModule",{value:!0}),H.default=w,w.code='require("ajv/dist/runtime/ucs2length").default'},13203:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(95568);d.code='require("ajv/dist/runtime/uri").default',H.default=d},42467:(je,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});class w extends Error{constructor(E){super("validation failed"),this.errors=E,this.ajv=this.validation=!0}}H.default=w},46934:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.validateAdditionalItems=void 0;const d=w(1038),E=w(27006),z={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:O}})=>d.str`must NOT have more than ${O} items`,params:({params:{len:O}})=>d._`{limit: ${O}}`},code(O){const{parentSchema:A,it:P}=O,{items:F}=A;Array.isArray(F)?x(O,F):(0,E.checkStrictMode)(P,'"additionalItems" is ignored when "items" is not an array of schemas')}};function x(O,A){const{gen:P,schema:F,data:L,keyword:D,it:X}=O;X.items=!0;const j=P.const("len",d._`${L}.length`);if(!1===F)O.setParams({len:A.length}),O.pass(d._`${j} <= ${A.length}`);else if("object"==typeof F&&!(0,E.alwaysValidSchema)(X,F)){const re=P.var("valid",d._`${j} <= ${A.length}`);P.if((0,d.not)(re),()=>function G(re){P.forRange("i",A.length,j,te=>{O.subschema({keyword:D,dataProp:te,dataPropType:E.Type.Num},re),X.allErrors||P.if((0,d.not)(re),()=>P.break())})}(re)),O.ok(re)}}H.validateAdditionalItems=x,H.default=z},18445:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(42406),E=w(1038),k=w(23432),z=w(27006);H.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:A})=>E._`{additionalProperty: ${A.additionalProperty}}`},code(A){const{gen:P,schema:F,parentSchema:L,data:D,errsCount:X,it:j}=A;if(!X)throw new Error("ajv implementation error");const{allErrors:G,opts:re}=j;if(j.props=!0,"all"!==re.removeAdditional&&(0,z.alwaysValidSchema)(j,F))return;const te=(0,d.allSchemaProperties)(L.properties),J=(0,d.allSchemaProperties)(L.patternProperties);function ae(le){P.code(E._`delete ${D}[${le}]`)}function se(le){if("all"===re.removeAdditional||re.removeAdditional&&!1===F)ae(le);else{if(!1===F)return A.setParams({additionalProperty:le}),A.error(),void(G||P.break());if("object"==typeof F&&!(0,z.alwaysValidSchema)(j,F)){const be=P.name("valid");"failing"===re.removeAdditional?(de(le,be,!1),P.if((0,E.not)(be),()=>{A.reset(),ae(le)})):(de(le,be),G||P.if((0,E.not)(be),()=>P.break()))}}}function de(le,be,xe){const ke={keyword:"additionalProperties",dataProp:le,dataPropType:z.Type.Str};!1===xe&&Object.assign(ke,{compositeRule:!0,createErrors:!1,allErrors:!1}),A.subschema(ke,be)}(function Z(){P.forIn("key",D,le=>{te.length||J.length?P.if(function ie(le){let be;if(te.length>8){const xe=(0,z.schemaRefOrVal)(j,L.properties,"properties");be=(0,d.isOwnProperty)(P,xe,le)}else be=te.length?(0,E.or)(...te.map(xe=>E._`${le} === ${xe}`)):E.nil;return J.length&&(be=(0,E.or)(be,...J.map(xe=>E._`${(0,d.usePattern)(A,xe)}.test(${le})`))),(0,E.not)(be)}(le),()=>se(le)):se(le)})})(),A.ok(E._`${X} === ${k.default.errors}`)}}},77783:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(27006);H.default={keyword:"allOf",schemaType:"array",code(k){const{gen:z,schema:x,it:O}=k;if(!Array.isArray(x))throw new Error("ajv implementation error");const A=z.name("valid");x.forEach((P,F)=>{if((0,d.alwaysValidSchema)(O,P))return;const L=k.subschema({keyword:"allOf",schemaProp:F},A);k.ok(A),k.mergeEvaluated(L)})}}},60922:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const E={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:w(42406).validateUnion,error:{message:"must match a schema in anyOf"}};H.default=E},57568:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(1038),E=w(27006);H.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:x,max:O}})=>void 0===O?d.str`must contain at least ${x} valid item(s)`:d.str`must contain at least ${x} and no more than ${O} valid item(s)`,params:({params:{min:x,max:O}})=>void 0===O?d._`{minContains: ${x}}`:d._`{minContains: ${x}, maxContains: ${O}}`},code(x){const{gen:O,schema:A,parentSchema:P,data:F,it:L}=x;let D,X;const{minContains:j,maxContains:G}=P;L.opts.next?(D=void 0===j?1:j,X=G):D=1;const re=O.const("len",d._`${F}.length`);if(x.setParams({min:D,max:X}),void 0===X&&0===D)return void(0,E.checkStrictMode)(L,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==X&&D>X)return(0,E.checkStrictMode)(L,'"minContains" > "maxContains" is always invalid'),void x.fail();if((0,E.alwaysValidSchema)(L,A)){let ae=d._`${re} >= ${D}`;return void 0!==X&&(ae=d._`${ae} && ${re} <= ${X}`),void x.pass(ae)}L.items=!0;const te=O.name("valid");function J(){const ae=O.name("_valid"),se=O.let("count",0);Z(ae,()=>O.if(ae,()=>function ie(ae){O.code(d._`${ae}++`),void 0===X?O.if(d._`${ae} >= ${D}`,()=>O.assign(te,!0).break()):(O.if(d._`${ae} > ${X}`,()=>O.assign(te,!1).break()),1===D?O.assign(te,!0):O.if(d._`${ae} >= ${D}`,()=>O.assign(te,!0)))}(se)))}function Z(ae,se){O.forRange("i",0,re,de=>{x.subschema({keyword:"contains",dataProp:de,dataPropType:E.Type.Num,compositeRule:!0},ae),se()})}void 0===X&&1===D?Z(te,()=>O.if(te,()=>O.break())):0===D?(O.let(te,!0),void 0!==X&&O.if(d._`${F}.length > 0`,J)):(O.let(te,!1),J()),x.result(te,()=>x.reset())}}},68032:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.validateSchemaDeps=H.validatePropertyDeps=H.error=void 0;const d=w(1038),E=w(27006),k=w(42406);H.error={message:({params:{property:P,depsCount:F,deps:L}})=>d.str`must have ${1===F?"property":"properties"} ${L} when property ${P} is present`,params:({params:{property:P,depsCount:F,deps:L,missingProperty:D}})=>d._`{property: ${P},
    missingProperty: ${D},
    depsCount: ${F},
    deps: ${L}}`};const z={keyword:"dependencies",type:"object",schemaType:"object",error:H.error,code(P){const[F,L]=function x({schema:P}){const F={},L={};for(const D in P)"__proto__"!==D&&((Array.isArray(P[D])?F:L)[D]=P[D]);return[F,L]}(P);O(P,F),A(P,L)}};function O(P,F=P.schema){const{gen:L,data:D,it:X}=P;if(0===Object.keys(F).length)return;const j=L.let("missing");for(const G in F){const re=F[G];if(0===re.length)continue;const te=(0,k.propertyInData)(L,D,G,X.opts.ownProperties);P.setParams({property:G,depsCount:re.length,deps:re.join(", ")}),X.allErrors?L.if(te,()=>{for(const J of re)(0,k.checkReportMissingProp)(P,J)}):(L.if(d._`${te} && (${(0,k.checkMissingProp)(P,re,j)})`),(0,k.reportMissingProp)(P,j),L.else())}}function A(P,F=P.schema){const{gen:L,data:D,keyword:X,it:j}=P,G=L.name("valid");for(const re in F)(0,E.alwaysValidSchema)(j,F[re])||(L.if((0,k.propertyInData)(L,D,re,j.opts.ownProperties),()=>{const te=P.subschema({keyword:X,schemaProp:re},G);P.mergeValidEvaluated(te,G)},()=>L.var(G,!0)),P.ok(G))}H.validatePropertyDeps=O,H.validateSchemaDeps=A,H.default=z},85164:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(68032);H.default={keyword:"dependentSchemas",type:"object",schemaType:"object",code:k=>(0,d.validateSchemaDeps)(k)}},45226:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(1038),E=w(27006);function x(O,A){const P=O.schema[A];return void 0!==P&&!(0,E.alwaysValidSchema)(O,P)}H.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:O})=>d.str`must match "${O.ifClause}" schema`,params:({params:O})=>d._`{failingKeyword: ${O.ifClause}}`},code(O){const{gen:A,parentSchema:P,it:F}=O;void 0===P.then&&void 0===P.else&&(0,E.checkStrictMode)(F,'"if" without "then" and "else" is ignored');const L=x(F,"then"),D=x(F,"else");if(!L&&!D)return;const X=A.let("valid",!0),j=A.name("_valid");if(function G(){const te=O.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},j);O.mergeEvaluated(te)}(),O.reset(),L&&D){const te=A.let("ifClause");O.setParams({ifClause:te}),A.if(j,re("then",te),re("else",te))}else L?A.if(j,re("then")):A.if((0,d.not)(j),re("else"));function re(te,J){return()=>{const Z=O.subschema({keyword:te},j);A.assign(X,j),O.mergeValidEvaluated(Z,X),J?A.assign(J,d._`${te}`):O.setParams({ifClause:te})}}O.pass(X,()=>O.error(!0))}}},68261:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(46934),E=w(96537),k=w(2941),z=w(5261),x=w(57568),O=w(68032),A=w(36474),P=w(18445),F=w(34032),L=w(17330),D=w(3408),X=w(60922),j=w(88388),G=w(77783),re=w(45226),te=w(98779);H.default=function J(Z=!1){const ie=[D.default,X.default,j.default,G.default,re.default,te.default,A.default,P.default,O.default,F.default,L.default];return Z?ie.push(E.default,z.default):ie.push(d.default,k.default),ie.push(x.default),ie}},2941:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.validateTuple=void 0;const d=w(1038),E=w(27006),k=w(42406),z={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(O){const{schema:A,it:P}=O;if(Array.isArray(A))return x(O,"additionalItems",A);P.items=!0,!(0,E.alwaysValidSchema)(P,A)&&O.ok((0,k.validateArray)(O))}};function x(O,A,P=O.schema){const{gen:F,parentSchema:L,data:D,keyword:X,it:j}=O;(function te(J){const{opts:Z,errSchemaPath:ie}=j,ae=P.length;Z.strictTuples&&!(ae===J.minItems&&(ae===J.maxItems||!1===J[A]))&&(0,E.checkStrictMode)(j,`"${X}" is ${ae}-tuple, but minItems or maxItems/${A} are not specified or different at path "${ie}"`,Z.strictTuples)})(L),j.opts.unevaluated&&P.length&&!0!==j.items&&(j.items=E.mergeEvaluated.items(F,P.length,j.items));const G=F.name("valid"),re=F.const("len",d._`${D}.length`);P.forEach((J,Z)=>{(0,E.alwaysValidSchema)(j,J)||(F.if(d._`${re} > ${Z}`,()=>O.subschema({keyword:X,schemaProp:Z,dataProp:Z},G)),O.ok(G))})}H.validateTuple=x,H.default=z},5261:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(1038),E=w(27006),k=w(42406),z=w(46934);H.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:A}})=>d.str`must NOT have more than ${A} items`,params:({params:{len:A}})=>d._`{limit: ${A}}`},code(A){const{schema:P,parentSchema:F,it:L}=A,{prefixItems:D}=F;L.items=!0,!(0,E.alwaysValidSchema)(L,P)&&(D?(0,z.validateAdditionalItems)(A,D):A.ok((0,k.validateArray)(A)))}}},3408:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(27006);H.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(k){const{gen:z,schema:x,it:O}=k;if((0,d.alwaysValidSchema)(O,x))return void k.fail();const A=z.name("valid");k.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},A),k.failResult(A,()=>k.reset(),()=>k.error())},error:{message:"must NOT be valid"}}},88388:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(1038),E=w(27006);H.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:x})=>d._`{passingSchemas: ${x.passing}}`},code(x){const{gen:O,schema:A,parentSchema:P,it:F}=x;if(!Array.isArray(A))throw new Error("ajv implementation error");if(F.opts.discriminator&&P.discriminator)return;const L=A,D=O.let("valid",!1),X=O.let("passing",null),j=O.name("_valid");x.setParams({passing:X}),O.block(function G(){L.forEach((re,te)=>{let J;(0,E.alwaysValidSchema)(F,re)?O.var(j,!0):J=x.subschema({keyword:"oneOf",schemaProp:te,compositeRule:!0},j),te>0&&O.if(d._`${j} && ${D}`).assign(D,!1).assign(X,d._`[${X}, ${te}]`).else(),O.if(j,()=>{O.assign(D,!0),O.assign(X,te),J&&x.mergeEvaluated(J,d.Name)})})}),x.result(D,()=>x.reset(),()=>x.error(!0))}}},17330:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(42406),E=w(1038),k=w(27006),z=w(27006);H.default={keyword:"patternProperties",type:"object",schemaType:"object",code(O){const{gen:A,schema:P,data:F,parentSchema:L,it:D}=O,{opts:X}=D,j=(0,d.allSchemaProperties)(P),G=j.filter(se=>(0,k.alwaysValidSchema)(D,P[se]));if(0===j.length||G.length===j.length&&(!D.opts.unevaluated||!0===D.props))return;const re=X.strictSchema&&!X.allowMatchingProperties&&L.properties,te=A.name("valid");!0!==D.props&&!(D.props instanceof E.Name)&&(D.props=(0,z.evaluatedPropsToName)(A,D.props));const{props:J}=D;function ie(se){for(const de in re)new RegExp(se).test(de)&&(0,k.checkStrictMode)(D,`property ${de} matches pattern ${se} (use allowMatchingProperties)`)}function ae(se){A.forIn("key",F,de=>{A.if(E._`${(0,d.usePattern)(O,se)}.test(${de})`,()=>{const le=G.includes(se);le||O.subschema({keyword:"patternProperties",schemaProp:se,dataProp:de,dataPropType:z.Type.Str},te),D.opts.unevaluated&&!0!==J?A.assign(E._`${J}[${de}]`,!0):!le&&!D.allErrors&&A.if((0,E.not)(te),()=>A.break())})})}!function Z(){for(const se of j)re&&ie(se),D.allErrors?ae(se):(A.var(te,!0),ae(se),A.if(te))}()}}},96537:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(2941);H.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:k=>(0,d.validateTuple)(k,"items")}},34032:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(40339),E=w(42406),k=w(27006),z=w(18445);H.default={keyword:"properties",type:"object",schemaType:"object",code(O){const{gen:A,schema:P,parentSchema:F,data:L,it:D}=O;"all"===D.opts.removeAdditional&&void 0===F.additionalProperties&&z.default.code(new d.KeywordCxt(D,z.default,"additionalProperties"));const X=(0,E.allSchemaProperties)(P);for(const J of X)D.definedProperties.add(J);D.opts.unevaluated&&X.length&&!0!==D.props&&(D.props=k.mergeEvaluated.props(A,(0,k.toHash)(X),D.props));const j=X.filter(J=>!(0,k.alwaysValidSchema)(D,P[J]));if(0===j.length)return;const G=A.name("valid");for(const J of j)re(J)?te(J):(A.if((0,E.propertyInData)(A,L,J,D.opts.ownProperties)),te(J),D.allErrors||A.else().var(G,!0),A.endIf()),O.it.definedProperties.add(J),O.ok(G);function re(J){return D.opts.useDefaults&&!D.compositeRule&&void 0!==P[J].default}function te(J){O.subschema({keyword:"properties",schemaProp:J,dataProp:J},G)}}}},36474:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(1038),E=w(27006);H.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:x})=>d._`{propertyName: ${x.propertyName}}`},code(x){const{gen:O,schema:A,data:P,it:F}=x;if((0,E.alwaysValidSchema)(F,A))return;const L=O.name("valid");O.forIn("key",P,D=>{x.setParams({propertyName:D}),x.subschema({keyword:"propertyNames",data:D,dataTypes:["string"],propertyName:D,compositeRule:!0},L),O.if((0,d.not)(L),()=>{x.error(!0),F.allErrors||O.break()})}),x.ok(L)}}},98779:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(27006);H.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:k,parentSchema:z,it:x}){void 0===z.if&&(0,d.checkStrictMode)(x,`"${k}" without "if" is ignored`)}}},42406:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.validateUnion=H.validateArray=H.usePattern=H.callValidateCode=H.schemaProperties=H.allSchemaProperties=H.noPropertyInData=H.propertyInData=H.isOwnProperty=H.hasPropFunc=H.reportMissingProp=H.checkMissingProp=H.checkReportMissingProp=void 0;const d=w(1038),E=w(27006),k=w(23432),z=w(27006);function P(ie){return ie.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:d._`Object.prototype.hasOwnProperty`})}function F(ie,ae,se){return d._`${P(ie)}.call(${ae}, ${se})`}function D(ie,ae,se,de){const le=d._`${ae}${(0,d.getProperty)(se)} === undefined`;return de?(0,d.or)(le,(0,d.not)(F(ie,ae,se))):le}function X(ie){return ie?Object.keys(ie).filter(ae=>"__proto__"!==ae):[]}H.checkReportMissingProp=function x(ie,ae){const{gen:se,data:de,it:le}=ie;se.if(D(se,de,ae,le.opts.ownProperties),()=>{ie.setParams({missingProperty:d._`${ae}`},!0),ie.error()})},H.checkMissingProp=function O({gen:ie,data:ae,it:{opts:se}},de,le){return(0,d.or)(...de.map(be=>(0,d.and)(D(ie,ae,be,se.ownProperties),d._`${le} = ${be}`)))},H.reportMissingProp=function A(ie,ae){ie.setParams({missingProperty:ae},!0),ie.error()},H.hasPropFunc=P,H.isOwnProperty=F,H.propertyInData=function L(ie,ae,se,de){const le=d._`${ae}${(0,d.getProperty)(se)} !== undefined`;return de?d._`${le} && ${F(ie,ae,se)}`:le},H.noPropertyInData=D,H.allSchemaProperties=X,H.schemaProperties=function j(ie,ae){return X(ae).filter(se=>!(0,E.alwaysValidSchema)(ie,ae[se]))},H.callValidateCode=function G({schemaCode:ie,data:ae,it:{gen:se,topSchemaRef:de,schemaPath:le,errorPath:be},it:xe},ke,C,a){const f=a?d._`${ie}, ${ae}, ${de}${le}`:ae,y=[[k.default.instancePath,(0,d.strConcat)(k.default.instancePath,be)],[k.default.parentData,xe.parentData],[k.default.parentDataProperty,xe.parentDataProperty],[k.default.rootData,k.default.rootData]];xe.opts.dynamicRef&&y.push([k.default.dynamicAnchors,k.default.dynamicAnchors]);const g=d._`${f}, ${se.object(...y)}`;return C!==d.nil?d._`${ke}.call(${C}, ${g})`:d._`${ke}(${g})`};const re=d._`new RegExp`;H.usePattern=function te({gen:ie,it:{opts:ae}},se){const de=ae.unicodeRegExp?"u":"",{regExp:le}=ae.code,be=le(se,de);return ie.scopeValue("pattern",{key:be.toString(),ref:be,code:d._`${"new RegExp"===le.code?re:(0,z.useFunc)(ie,le)}(${se}, ${de})`})},H.validateArray=function J(ie){const{gen:ae,data:se,keyword:de,it:le}=ie,be=ae.name("valid");if(le.allErrors){const ke=ae.let("valid",!0);return xe(()=>ae.assign(ke,!1)),ke}return ae.var(be,!0),xe(()=>ae.break()),be;function xe(ke){const C=ae.const("len",d._`${se}.length`);ae.forRange("i",0,C,a=>{ie.subschema({keyword:de,dataProp:a,dataPropType:E.Type.Num},be),ae.if((0,d.not)(be),ke)})}},H.validateUnion=function Z(ie){const{gen:ae,schema:se,keyword:de,it:le}=ie;if(!Array.isArray(se))throw new Error("ajv implementation error");if(se.some(C=>(0,E.alwaysValidSchema)(le,C))&&!le.opts.unevaluated)return;const xe=ae.let("valid",!1),ke=ae.name("_valid");ae.block(()=>se.forEach((C,a)=>{const f=ie.subschema({keyword:de,schemaProp:a,compositeRule:!0},ke);ae.assign(xe,d._`${xe} || ${ke}`),ie.mergeValidEvaluated(f,ke)||ae.if((0,d.not)(xe))})),ie.result(xe,()=>ie.reset(),()=>ie.error(!0))}},36846:(je,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},11867:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(36846),E=w(84862);H.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",d.default,E.default]},84862:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.callRef=H.getValidate=void 0;const d=w(26288),E=w(42406),k=w(1038),z=w(23432),x=w(97692),O=w(27006),A={keyword:"$ref",schemaType:"string",code(L){const{gen:D,schema:X,it:j}=L,{baseId:G,schemaEnv:re,validateName:te,opts:J,self:Z}=j,{root:ie}=re;if(("#"===X||"#/"===X)&&G===ie.baseId)return function se(){if(re===ie)return F(L,te,re,re.$async);const be=D.scopeValue("root",{ref:ie});return F(L,k._`${be}.validate`,ie,ie.$async)}();const ae=x.resolveRef.call(Z,ie,G,X);if(void 0===ae)throw new d.default(j.opts.uriResolver,G,X);return ae instanceof x.SchemaEnv?function de(be){const xe=P(L,be);F(L,xe,be,be.$async)}(ae):function le(be){const xe=D.scopeValue("schema",!0===J.code.source?{ref:be,code:(0,k.stringify)(be)}:{ref:be}),ke=D.name("valid"),C=L.subschema({schema:be,dataTypes:[],schemaPath:k.nil,topSchemaRef:xe,errSchemaPath:X},ke);L.mergeEvaluated(C),L.ok(ke)}(ae)}};function P(L,D){const{gen:X}=L;return D.validate?X.scopeValue("validate",{ref:D.validate}):k._`${X.scopeValue("wrapper",{ref:D})}.validate`}function F(L,D,X,j){const{gen:G,it:re}=L,{allErrors:te,schemaEnv:J,opts:Z}=re,ie=Z.passContext?z.default.this:k.nil;function de(be){const xe=k._`${be}.errors`;G.assign(z.default.vErrors,k._`${z.default.vErrors} === null ? ${xe} : ${z.default.vErrors}.concat(${xe})`),G.assign(z.default.errors,k._`${z.default.vErrors}.length`)}function le(be){var xe;if(!re.opts.unevaluated)return;const ke=null===(xe=X?.validate)||void 0===xe?void 0:xe.evaluated;if(!0!==re.props)if(ke&&!ke.dynamicProps)void 0!==ke.props&&(re.props=O.mergeEvaluated.props(G,ke.props,re.props));else{const C=G.var("props",k._`${be}.evaluated.props`);re.props=O.mergeEvaluated.props(G,C,re.props,k.Name)}if(!0!==re.items)if(ke&&!ke.dynamicItems)void 0!==ke.items&&(re.items=O.mergeEvaluated.items(G,ke.items,re.items));else{const C=G.var("items",k._`${be}.evaluated.items`);re.items=O.mergeEvaluated.items(G,C,re.items,k.Name)}}j?function ae(){if(!J.$async)throw new Error("async schema referenced by sync schema");const be=G.let("valid");G.try(()=>{G.code(k._`await ${(0,E.callValidateCode)(L,D,ie)}`),le(D),te||G.assign(be,!0)},xe=>{G.if(k._`!(${xe} instanceof ${re.ValidationError})`,()=>G.throw(xe)),de(xe),te||G.assign(be,!1)}),L.ok(be)}():function se(){L.result((0,E.callValidateCode)(L,D,ie),()=>le(D),()=>de(D))}()}H.getValidate=P,H.callRef=F,H.default=A},86980:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(1038),E=w(22145),k=w(97692),z=w(27006);H.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:A,tagName:P}})=>A===E.DiscrError.Tag?`tag "${P}" must be string`:`value of tag "${P}" must be in oneOf`,params:({params:{discrError:A,tag:P,tagName:F}})=>d._`{error: ${A}, tag: ${F}, tagValue: ${P}}`},code(A){const{gen:P,data:F,schema:L,parentSchema:D,it:X}=A,{oneOf:j}=D;if(!X.opts.discriminator)throw new Error("discriminator: requires discriminator option");const G=L.propertyName;if("string"!=typeof G)throw new Error("discriminator: requires propertyName");if(L.mapping)throw new Error("discriminator: mapping is not supported");if(!j)throw new Error("discriminator: requires oneOf keyword");const re=P.let("valid",!1),te=P.const("tag",d._`${F}${(0,d.getProperty)(G)}`);function Z(ae){const se=P.name("valid"),de=A.subschema({keyword:"oneOf",schemaProp:ae},se);return A.mergeEvaluated(de,d.Name),se}P.if(d._`typeof ${te} == "string"`,()=>function J(){const ae=function ie(){var ae;const se={},de=be(D);let le=!0;for(let C=0;C<j.length;C++){let a=j[C];a?.$ref&&!(0,z.schemaHasRulesButRef)(a,X.self.RULES)&&(a=k.resolveRef.call(X.self,X.schemaEnv.root,X.baseId,a?.$ref),a instanceof k.SchemaEnv&&(a=a.schema));const f=null===(ae=a?.properties)||void 0===ae?void 0:ae[G];if("object"!=typeof f)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${G}"`);le=le&&(de||be(a)),xe(f,C)}if(!le)throw new Error(`discriminator: "${G}" must be required`);return se;function be({required:C}){return Array.isArray(C)&&C.includes(G)}function xe(C,a){if(C.const)ke(C.const,a);else{if(!C.enum)throw new Error(`discriminator: "properties/${G}" must have "const" or "enum"`);for(const f of C.enum)ke(f,a)}}function ke(C,a){if("string"!=typeof C||C in se)throw new Error(`discriminator: "${G}" values must be unique strings`);se[C]=a}}();P.if(!1);for(const se in ae)P.elseIf(d._`${te} === ${se}`),P.assign(re,Z(ae[se]));P.else(),A.error(!1,{discrError:E.DiscrError.Mapping,tag:te,tagName:G}),P.endIf()}(),()=>A.error(!1,{discrError:E.DiscrError.Tag,tag:te,tagName:G})),A.ok(re)}}},22145:(je,H)=>{"use strict";var d;Object.defineProperty(H,"__esModule",{value:!0}),H.DiscrError=void 0,(d=H.DiscrError||(H.DiscrError={})).Tag="tag",d.Mapping="mapping"},98496:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(11867),E=w(64023),k=w(68261),z=w(79745),x=w(54458),O=w(77616),A=w(23463),P=w(3462),F=[z.default,d.default,E.default,(0,k.default)(!0),A.default,P.metadataVocabulary,P.contentVocabulary,x.default,O.default];H.default=F},61281:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.dynamicAnchor=void 0;const d=w(1038),E=w(23432),k=w(97692),z=w(84862),x={keyword:"$dynamicAnchor",schemaType:"string",code:P=>O(P,P.schema)};function O(P,F){const{gen:L,it:D}=P;D.schemaEnv.root.dynamicAnchors[F]=!0;const X=d._`${E.default.dynamicAnchors}${(0,d.getProperty)(F)}`,j="#"===D.errSchemaPath?D.validateName:function A(P){const{schemaEnv:F,schema:L,self:D}=P.it,{root:X,baseId:j,localRefs:G,meta:re}=F.root,{schemaId:te}=D.opts,J=new k.SchemaEnv({schema:L,schemaId:te,root:X,baseId:j,localRefs:G,meta:re});return k.compileSchema.call(D,J),(0,z.getValidate)(P,J)}(P);L.if(d._`!${X}`,()=>L.assign(X,j))}H.dynamicAnchor=O,H.default=x},35207:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.dynamicRef=void 0;const d=w(1038),E=w(23432),k=w(84862),z={keyword:"$dynamicRef",schemaType:"string",code:O=>x(O,O.schema)};function x(O,A){const{gen:P,keyword:F,it:L}=O;if("#"!==A[0])throw new Error(`"${F}" only supports hash fragment reference`);const D=A.slice(1);if(L.allErrors)X();else{const G=P.let("valid",!1);X(G),O.ok(G)}function X(G){if(L.schemaEnv.root.dynamicAnchors[D]){const re=P.let("_v",d._`${E.default.dynamicAnchors}${(0,d.getProperty)(D)}`);P.if(re,j(re,G),j(L.validateName,G))}else j(L.validateName,G)()}function j(G,re){return re?()=>P.block(()=>{(0,k.callRef)(O,G),P.let(re,!0)}):()=>(0,k.callRef)(O,G)}}H.dynamicRef=x,H.default=z},79745:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(61281),E=w(35207),k=w(34028),z=w(65684);H.default=[d.default,E.default,k.default,z.default]},34028:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(61281),E=w(27006);H.default={keyword:"$recursiveAnchor",schemaType:"boolean",code(z){z.schema?(0,d.dynamicAnchor)(z,""):(0,E.checkStrictMode)(z.it,"$recursiveAnchor: false is ignored")}}},65684:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(35207);H.default={keyword:"$recursiveRef",schemaType:"string",code:k=>(0,d.dynamicRef)(k,k.schema)}},98140:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(1038);H.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:z})=>d.str`must match format "${z}"`,params:({schemaCode:z})=>d._`{format: ${z}}`},code(z,x){const{gen:O,data:A,$data:P,schema:F,schemaCode:L,it:D}=z,{opts:X,errSchemaPath:j,schemaEnv:G,self:re}=D;X.validateFormats&&(P?function te(){const Z=O.scopeValue("formats",{ref:re.formats,code:X.code.formats}),ie=O.const("fDef",d._`${Z}[${L}]`),ae=O.let("fType"),se=O.let("format");O.if(d._`typeof ${ie} == "object" && !(${ie} instanceof RegExp)`,()=>O.assign(ae,d._`${ie}.type || "string"`).assign(se,d._`${ie}.validate`),()=>O.assign(ae,d._`"string"`).assign(se,ie)),z.fail$data((0,d.or)(function de(){return!1===X.strictSchema?d.nil:d._`${L} && !${se}`}(),function le(){const be=G.$async?d._`(${ie}.async ? await ${se}(${A}) : ${se}(${A}))`:d._`${se}(${A})`,xe=d._`(typeof ${se} == "function" ? ${be} : ${se}.test(${A}))`;return d._`${se} && ${se} !== true && ${ae} === ${x} && !${xe}`}()))}():function J(){const Z=re.formats[F];if(!Z)return void function de(){if(!1!==X.strictSchema)throw new Error(xe());function xe(){return`unknown format "${F}" ignored in schema at path "${j}"`}re.logger.warn(xe())}();if(!0===Z)return;const[ie,ae,se]=function le(xe){const ke=xe instanceof RegExp?(0,d.regexpCode)(xe):X.code.formats?d._`${X.code.formats}${(0,d.getProperty)(F)}`:void 0,C=O.scopeValue("formats",{key:F,ref:xe,code:ke});return"object"!=typeof xe||xe instanceof RegExp?["string",xe,C]:[xe.type||"string",xe.validate,d._`${C}.validate`]}(Z);ie===x&&z.pass(function be(){if("object"==typeof Z&&!(Z instanceof RegExp)&&Z.async){if(!G.$async)throw new Error("async format in sync schema");return d._`await ${se}(${A})`}return"function"==typeof ae?d._`${se}(${A})`:d._`${se}.test(${A})`}())}())}}},23463:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const E=[w(98140).default];H.default=E},3462:(je,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.contentVocabulary=H.metadataVocabulary=void 0,H.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],H.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},54458:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(53037),E=w(85164),k=w(22705);H.default=[d.default,E.default,k.default]},77616:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(40425),E=w(89826);H.default=[d.default,E.default]},89826:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(1038),E=w(27006);H.default={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:{message:({params:{len:x}})=>d.str`must NOT have more than ${x} items`,params:({params:{len:x}})=>d._`{limit: ${x}}`},code(x){const{gen:O,schema:A,data:P,it:F}=x,L=F.items||0;if(!0===L)return;const D=O.const("len",d._`${P}.length`);if(!1===A)x.setParams({len:L}),x.fail(d._`${D} > ${L}`);else if("object"==typeof A&&!(0,E.alwaysValidSchema)(F,A)){const j=O.var("valid",d._`${D} <= ${L}`);O.if((0,d.not)(j),()=>function X(j,G){O.forRange("i",G,D,re=>{x.subschema({keyword:"unevaluatedItems",dataProp:re,dataPropType:E.Type.Num},j),F.allErrors||O.if((0,d.not)(j),()=>O.break())})}(j,L)),x.ok(j)}F.items=!0}}},40425:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(1038),E=w(27006),k=w(23432);H.default={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:{message:"must NOT have unevaluated properties",params:({params:O})=>d._`{unevaluatedProperty: ${O.unevaluatedProperty}}`},code(O){const{gen:A,schema:P,data:F,errsCount:L,it:D}=O;if(!L)throw new Error("ajv implementation error");const{allErrors:X,props:j}=D;function G(J){if(!1===P)return O.setParams({unevaluatedProperty:J}),O.error(),void(X||A.break());if(!(0,E.alwaysValidSchema)(D,P)){const Z=A.name("valid");O.subschema({keyword:"unevaluatedProperties",dataProp:J,dataPropType:E.Type.Str},Z),X||A.if((0,d.not)(Z),()=>A.break())}}j instanceof d.Name?A.if(d._`${j} !== true`,()=>A.forIn("key",F,J=>A.if(function re(J,Z){return d._`!${J} || !${J}[${Z}]`}(j,J),()=>G(J)))):!0!==j&&A.forIn("key",F,J=>void 0===j?G(J):A.if(function te(J,Z){const ie=[];for(const ae in J)!0===J[ae]&&ie.push(d._`${Z} !== ${ae}`);return(0,d.and)(...ie)}(j,J),()=>G(J))),D.props=!0,O.ok(d._`${L} === ${k.default.errors}`)}}},90796:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(1038),E=w(27006),k=w(92281);H.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:O})=>d._`{allowedValue: ${O}}`},code(O){const{gen:A,data:P,$data:F,schemaCode:L,schema:D}=O;F||D&&"object"==typeof D?O.fail$data(d._`!${(0,E.useFunc)(A,k.default)}(${P}, ${L})`):O.fail(d._`${D} !== ${P}`)}}},53037:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(68032);H.default={keyword:"dependentRequired",type:"object",schemaType:"object",error:d.error,code:k=>(0,d.validatePropertyDeps)(k)}},65266:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(1038),E=w(27006),k=w(92281);H.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:O})=>d._`{allowedValues: ${O}}`},code(O){const{gen:A,data:P,$data:F,schema:L,schemaCode:D,it:X}=O;if(!F&&0===L.length)throw new Error("enum must have non-empty array");let G;const re=()=>G??(G=(0,E.useFunc)(A,k.default));let te;if(L.length>=X.opts.loopEnum||F)te=A.let("valid"),O.block$data(te,function J(){A.assign(te,!1),A.forOf("v",D,ie=>A.if(d._`${re()}(${P}, ${ie})`,()=>A.assign(te,!0).break()))});else{if(!Array.isArray(L))throw new Error("ajv implementation error");const ie=A.const("vSchema",D);te=(0,d.or)(...L.map((ae,se)=>function Z(ie,ae){const se=L[ae];return"object"==typeof se&&null!==se?d._`${re()}(${P}, ${ie}[${ae}])`:d._`${P} === ${se}`}(ie,se)))}O.pass(te)}}},64023:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(78665),E=w(30554),k=w(13972),z=w(68753),x=w(99169),O=w(56454),A=w(85962),P=w(16598),F=w(90796),L=w(65266);H.default=[d.default,E.default,k.default,z.default,x.default,O.default,A.default,P.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},F.default,L.default]},22705:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(27006);H.default={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:k,parentSchema:z,it:x}){void 0===z.contains&&(0,d.checkStrictMode)(x,`"${k}" without "contains" is ignored`)}}},85962:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(1038);H.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:z,schemaCode:x})=>d.str`must NOT have ${"maxItems"===z?"more":"fewer"} than ${x} items`,params:({schemaCode:z})=>d._`{limit: ${z}}`},code(z){const{keyword:x,data:O,schemaCode:A}=z;z.fail$data(d._`${O}.length ${"maxItems"===x?d.operators.GT:d.operators.LT} ${A}`)}}},13972:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(1038),E=w(27006),k=w(26488);H.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:O,schemaCode:A})=>d.str`must NOT have ${"maxLength"===O?"more":"fewer"} than ${A} characters`,params:({schemaCode:O})=>d._`{limit: ${O}}`},code(O){const{keyword:A,data:P,schemaCode:F,it:L}=O,D="maxLength"===A?d.operators.GT:d.operators.LT,X=!1===L.opts.unicode?d._`${P}.length`:d._`${(0,E.useFunc)(O.gen,k.default)}(${P})`;O.fail$data(d._`${X} ${D} ${F}`)}}},78665:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(1038),E=d.operators,k={maximum:{okStr:"<=",ok:E.LTE,fail:E.GT},minimum:{okStr:">=",ok:E.GTE,fail:E.LT},exclusiveMaximum:{okStr:"<",ok:E.LT,fail:E.GTE},exclusiveMinimum:{okStr:">",ok:E.GT,fail:E.LTE}},z={message:({keyword:O,schemaCode:A})=>d.str`must be ${k[O].okStr} ${A}`,params:({keyword:O,schemaCode:A})=>d._`{comparison: ${k[O].okStr}, limit: ${A}}`},x={keyword:Object.keys(k),type:"number",schemaType:"number",$data:!0,error:z,code(O){const{keyword:A,data:P,schemaCode:F}=O;O.fail$data(d._`${P} ${k[A].fail} ${F} || isNaN(${P})`)}};H.default=x},99169:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(1038);H.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:z,schemaCode:x})=>d.str`must NOT have ${"maxProperties"===z?"more":"fewer"} than ${x} properties`,params:({schemaCode:z})=>d._`{limit: ${z}}`},code(z){const{keyword:x,data:O,schemaCode:A}=z;z.fail$data(d._`Object.keys(${O}).length ${"maxProperties"===x?d.operators.GT:d.operators.LT} ${A}`)}}},30554:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(1038);H.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:z})=>d.str`must be multiple of ${z}`,params:({schemaCode:z})=>d._`{multipleOf: ${z}}`},code(z){const{gen:x,data:O,schemaCode:A,it:P}=z,F=P.opts.multipleOfPrecision,L=x.let("res"),D=F?d._`Math.abs(Math.round(${L}) - ${L}) > 1e-${F}`:d._`${L} !== parseInt(${L})`;z.fail$data(d._`(${A} === 0 || (${L} = ${O}/${A}, ${D}))`)}}},68753:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(42406),E=w(1038);H.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:x})=>E.str`must match pattern "${x}"`,params:({schemaCode:x})=>E._`{pattern: ${x}}`},code(x){const{data:O,$data:A,schema:P,schemaCode:F,it:L}=x,X=A?E._`(new RegExp(${F}, ${L.opts.unicodeRegExp?"u":""}))`:(0,d.usePattern)(x,P);x.fail$data(E._`!${X}.test(${O})`)}}},56454:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(42406),E=w(1038),k=w(27006);H.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:O}})=>E.str`must have required property '${O}'`,params:({params:{missingProperty:O}})=>E._`{missingProperty: ${O}}`},code(O){const{gen:A,schema:P,schemaCode:F,data:L,$data:D,it:X}=O,{opts:j}=X;if(!D&&0===P.length)return;const G=P.length>=j.loopRequired;if(X.allErrors?function re(){if(G||D)O.block$data(E.nil,J);else for(const ie of P)(0,d.checkReportMissingProp)(O,ie)}():function te(){const ie=A.let("missing");if(G||D){const ae=A.let("valid",!0);O.block$data(ae,()=>function Z(ie,ae){O.setParams({missingProperty:ie}),A.forOf(ie,F,()=>{A.assign(ae,(0,d.propertyInData)(A,L,ie,j.ownProperties)),A.if((0,E.not)(ae),()=>{O.error(),A.break()})},E.nil)}(ie,ae)),O.ok(ae)}else A.if((0,d.checkMissingProp)(O,P,ie)),(0,d.reportMissingProp)(O,ie),A.else()}(),j.strictRequired){const ie=O.parentSchema.properties,{definedProperties:ae}=O.it;for(const se of P)void 0!==ie?.[se]||ae.has(se)||(0,k.checkStrictMode)(X,`required property "${se}" is not defined at "${X.schemaEnv.baseId+X.errSchemaPath}" (strictRequired)`,X.opts.strictRequired)}function J(){A.forOf("prop",F,ie=>{O.setParams({missingProperty:ie}),A.if((0,d.noPropertyInData)(A,L,ie,j.ownProperties),()=>O.error())})}}}},16598:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const d=w(55999),E=w(1038),k=w(27006),z=w(92281);H.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:A,j:P}})=>E.str`must NOT have duplicate items (items ## ${P} and ${A} are identical)`,params:({params:{i:A,j:P}})=>E._`{i: ${A}, j: ${P}}`},code(A){const{gen:P,data:F,$data:L,schema:D,parentSchema:X,schemaCode:j,it:G}=A;if(!L&&!D)return;const re=P.let("valid"),te=X.items?(0,d.getSchemaTypes)(X.items):[];function ie(se,de){const le=P.name("item"),be=(0,d.checkDataTypes)(te,le,G.opts.strictNumbers,d.DataType.Wrong),xe=P.const("indices",E._`{}`);P.for(E._`;${se}--;`,()=>{P.let(le,E._`${F}[${se}]`),P.if(be,E._`continue`),te.length>1&&P.if(E._`typeof ${le} == "string"`,E._`${le} += "_"`),P.if(E._`typeof ${xe}[${le}] == "number"`,()=>{P.assign(de,E._`${xe}[${le}]`),A.error(),P.assign(re,!1).break()}).code(E._`${xe}[${le}] = ${se}`)})}function ae(se,de){const le=(0,k.useFunc)(P,z.default),be=P.name("outer");P.label(be).for(E._`;${se}--;`,()=>P.for(E._`${de} = ${se}; ${de}--;`,()=>P.if(E._`${le}(${F}[${se}], ${F}[${de}])`,()=>{A.error(),P.assign(re,!1).break(be)})))}A.block$data(re,function J(){const se=P.let("i",E._`${F}.length`),de=P.let("j");A.setParams({i:se,j:de}),P.assign(re,!0),P.if(E._`${se} > 1`,()=>(function Z(){return te.length>0&&!te.some(se=>"object"===se||"array"===se)}()?ie:ae)(se,de))},E._`${j} === false`),A.ok(re)}}},68316:(je,H,w)=>{"use strict";const d=w(13981),E=w(22020),k="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;H.Buffer=A,H.SlowBuffer=function Z(N){return+N!=N&&(N=0),A.alloc(+N)},H.INSPECT_MAX_BYTES=50;const z=2147483647;function O(N){if(N>z)throw new RangeError('The value "'+N+'" is invalid for option "size"');const _=new Uint8Array(N);return Object.setPrototypeOf(_,A.prototype),_}function A(N,_,m){if("number"==typeof N){if("string"==typeof _)throw new TypeError('The "string" argument must be of type string. Received type number');return D(N)}return P(N,_,m)}function P(N,_,m){if("string"==typeof N)return function X(N,_){if(("string"!=typeof _||""===_)&&(_="utf8"),!A.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const m=0|ie(N,_);let U=O(m);const ne=U.write(N,_);return ne!==m&&(U=U.slice(0,ne)),U}(N,_);if(ArrayBuffer.isView(N))return function G(N){if(Fe(N,Uint8Array)){const _=new Uint8Array(N);return re(_.buffer,_.byteOffset,_.byteLength)}return j(N)}(N);if(null==N)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(Fe(N,ArrayBuffer)||N&&Fe(N.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Fe(N,SharedArrayBuffer)||N&&Fe(N.buffer,SharedArrayBuffer)))return re(N,_,m);if("number"==typeof N)throw new TypeError('The "value" argument must not be of type number. Received type number');const U=N.valueOf&&N.valueOf();if(null!=U&&U!==N)return A.from(U,_,m);const ne=function te(N){if(A.isBuffer(N)){const _=0|J(N.length),m=O(_);return 0===m.length||N.copy(m,0,0,_),m}return void 0!==N.length?"number"!=typeof N.length||_t(N.length)?O(0):j(N):"Buffer"===N.type&&Array.isArray(N.data)?j(N.data):void 0}(N);if(ne)return ne;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof N[Symbol.toPrimitive])return A.from(N[Symbol.toPrimitive]("string"),_,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}function F(N){if("number"!=typeof N)throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function D(N){return F(N),O(N<0?0:0|J(N))}function j(N){const _=N.length<0?0:0|J(N.length),m=O(_);for(let U=0;U<_;U+=1)m[U]=255&N[U];return m}function re(N,_,m){if(_<0||N.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<_+(m||0))throw new RangeError('"length" is outside of buffer bounds');let U;return U=void 0===_&&void 0===m?new Uint8Array(N):void 0===m?new Uint8Array(N,_):new Uint8Array(N,_,m),Object.setPrototypeOf(U,A.prototype),U}function J(N){if(N>=z)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+z.toString(16)+" bytes");return 0|N}function ie(N,_){if(A.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||Fe(N,ArrayBuffer))return N.byteLength;if("string"!=typeof N)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);const m=N.length,U=arguments.length>2&&!0===arguments[2];if(!U&&0===m)return 0;let ne=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return oe(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*m;case"hex":return m>>>1;case"base64":return Re(N).length;default:if(ne)return U?-1:oe(N).length;_=(""+_).toLowerCase(),ne=!0}}function ae(N,_,m){let U=!1;if((void 0===_||_<0)&&(_=0),_>this.length||((void 0===m||m>this.length)&&(m=this.length),m<=0)||(m>>>=0)<=(_>>>=0))return"";for(N||(N="utf8");;)switch(N){case"hex":return S(this,_,m);case"utf8":case"utf-8":return y(this,_,m);case"ascii":return T(this,_,m);case"latin1":case"binary":return B(this,_,m);case"base64":return f(this,_,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,_,m);default:if(U)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),U=!0}}function se(N,_,m){const U=N[_];N[_]=N[m],N[m]=U}function de(N,_,m,U,ne){if(0===N.length)return-1;if("string"==typeof m?(U=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),_t(m=+m)&&(m=ne?0:N.length-1),m<0&&(m=N.length+m),m>=N.length){if(ne)return-1;m=N.length-1}else if(m<0){if(!ne)return-1;m=0}if("string"==typeof _&&(_=A.from(_,U)),A.isBuffer(_))return 0===_.length?-1:le(N,_,m,U,ne);if("number"==typeof _)return _&=255,"function"==typeof Uint8Array.prototype.indexOf?ne?Uint8Array.prototype.indexOf.call(N,_,m):Uint8Array.prototype.lastIndexOf.call(N,_,m):le(N,[_],m,U,ne);throw new TypeError("val must be string, number or Buffer")}function le(N,_,m,U,ne){let gt,ge=1,Ae=N.length,tt=_.length;if(void 0!==U&&("ucs2"===(U=String(U).toLowerCase())||"ucs-2"===U||"utf16le"===U||"utf-16le"===U)){if(N.length<2||_.length<2)return-1;ge=2,Ae/=2,tt/=2,m/=2}function Bt(It,Zt){return 1===ge?It[Zt]:It.readUInt16BE(Zt*ge)}if(ne){let It=-1;for(gt=m;gt<Ae;gt++)if(Bt(N,gt)===Bt(_,-1===It?0:gt-It)){if(-1===It&&(It=gt),gt-It+1===tt)return It*ge}else-1!==It&&(gt-=gt-It),It=-1}else for(m+tt>Ae&&(m=Ae-tt),gt=m;gt>=0;gt--){let It=!0;for(let Zt=0;Zt<tt;Zt++)if(Bt(N,gt+Zt)!==Bt(_,Zt)){It=!1;break}if(It)return gt}return-1}function be(N,_,m,U){m=Number(m)||0;const ne=N.length-m;U?(U=Number(U))>ne&&(U=ne):U=ne;const ge=_.length;let Ae;for(U>ge/2&&(U=ge/2),Ae=0;Ae<U;++Ae){const tt=parseInt(_.substr(2*Ae,2),16);if(_t(tt))return Ae;N[m+Ae]=tt}return Ae}function xe(N,_,m,U){return $e(oe(_,N.length-m),N,m,U)}function ke(N,_,m,U){return $e(function fe(N){const _=[];for(let m=0;m<N.length;++m)_.push(255&N.charCodeAt(m));return _}(_),N,m,U)}function C(N,_,m,U){return $e(Re(_),N,m,U)}function a(N,_,m,U){return $e(function Ee(N,_){let m,U,ne;const ge=[];for(let Ae=0;Ae<N.length&&!((_-=2)<0);++Ae)m=N.charCodeAt(Ae),U=m>>8,ne=m%256,ge.push(ne),ge.push(U);return ge}(_,N.length-m),N,m,U)}function f(N,_,m){return d.fromByteArray(0===_&&m===N.length?N:N.slice(_,m))}function y(N,_,m){m=Math.min(N.length,m);const U=[];let ne=_;for(;ne<m;){const ge=N[ne];let Ae=null,tt=ge>239?4:ge>223?3:ge>191?2:1;if(ne+tt<=m){let Bt,gt,It,Zt;switch(tt){case 1:ge<128&&(Ae=ge);break;case 2:Bt=N[ne+1],128==(192&Bt)&&(Zt=(31&ge)<<6|63&Bt,Zt>127&&(Ae=Zt));break;case 3:Bt=N[ne+1],gt=N[ne+2],128==(192&Bt)&&128==(192&gt)&&(Zt=(15&ge)<<12|(63&Bt)<<6|63&gt,Zt>2047&&(Zt<55296||Zt>57343)&&(Ae=Zt));break;case 4:Bt=N[ne+1],gt=N[ne+2],It=N[ne+3],128==(192&Bt)&&128==(192&gt)&&128==(192&It)&&(Zt=(15&ge)<<18|(63&Bt)<<12|(63&gt)<<6|63&It,Zt>65535&&Zt<1114112&&(Ae=Zt))}}null===Ae?(Ae=65533,tt=1):Ae>65535&&(Ae-=65536,U.push(Ae>>>10&1023|55296),Ae=56320|1023&Ae),U.push(Ae),ne+=tt}return function M(N){const _=N.length;if(_<=g)return String.fromCharCode.apply(String,N);let m="",U=0;for(;U<_;)m+=String.fromCharCode.apply(String,N.slice(U,U+=g));return m}(U)}H.kMaxLength=z,!(A.TYPED_ARRAY_SUPPORT=function x(){try{const N=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(N,_),42===N.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(N,_,m){return P(N,_,m)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(N,_,m){return function L(N,_,m){return F(N),N<=0?O(N):void 0!==_?"string"==typeof m?O(N).fill(_,m):O(N).fill(_):O(N)}(N,_,m)},A.allocUnsafe=function(N){return D(N)},A.allocUnsafeSlow=function(N){return D(N)},A.isBuffer=function(_){return null!=_&&!0===_._isBuffer&&_!==A.prototype},A.compare=function(_,m){if(Fe(_,Uint8Array)&&(_=A.from(_,_.offset,_.byteLength)),Fe(m,Uint8Array)&&(m=A.from(m,m.offset,m.byteLength)),!A.isBuffer(_)||!A.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===m)return 0;let U=_.length,ne=m.length;for(let ge=0,Ae=Math.min(U,ne);ge<Ae;++ge)if(_[ge]!==m[ge]){U=_[ge],ne=m[ge];break}return U<ne?-1:ne<U?1:0},A.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(_,m){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(0===_.length)return A.alloc(0);let U;if(void 0===m)for(m=0,U=0;U<_.length;++U)m+=_[U].length;const ne=A.allocUnsafe(m);let ge=0;for(U=0;U<_.length;++U){let Ae=_[U];if(Fe(Ae,Uint8Array))ge+Ae.length>ne.length?(A.isBuffer(Ae)||(Ae=A.from(Ae)),Ae.copy(ne,ge)):Uint8Array.prototype.set.call(ne,Ae,ge);else{if(!A.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(ne,ge)}ge+=Ae.length}return ne},A.byteLength=ie,A.prototype._isBuffer=!0,A.prototype.swap16=function(){const _=this.length;if(_%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<_;m+=2)se(this,m,m+1);return this},A.prototype.swap32=function(){const _=this.length;if(_%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<_;m+=4)se(this,m,m+3),se(this,m+1,m+2);return this},A.prototype.swap64=function(){const _=this.length;if(_%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<_;m+=8)se(this,m,m+7),se(this,m+1,m+6),se(this,m+2,m+5),se(this,m+3,m+4);return this},A.prototype.toLocaleString=A.prototype.toString=function(){const _=this.length;return 0===_?"":0===arguments.length?y(this,0,_):ae.apply(this,arguments)},A.prototype.equals=function(_){if(!A.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_||0===A.compare(this,_)},A.prototype.inspect=function(){let _="";const m=H.INSPECT_MAX_BYTES;return _=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(_+=" ... "),"<Buffer "+_+">"},k&&(A.prototype[k]=A.prototype.inspect),A.prototype.compare=function(_,m,U,ne,ge){if(Fe(_,Uint8Array)&&(_=A.from(_,_.offset,_.byteLength)),!A.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(void 0===m&&(m=0),void 0===U&&(U=_?_.length:0),void 0===ne&&(ne=0),void 0===ge&&(ge=this.length),m<0||U>_.length||ne<0||ge>this.length)throw new RangeError("out of range index");if(ne>=ge&&m>=U)return 0;if(ne>=ge)return-1;if(m>=U)return 1;if(this===_)return 0;let Ae=(ge>>>=0)-(ne>>>=0),tt=(U>>>=0)-(m>>>=0);const Bt=Math.min(Ae,tt),gt=this.slice(ne,ge),It=_.slice(m,U);for(let Zt=0;Zt<Bt;++Zt)if(gt[Zt]!==It[Zt]){Ae=gt[Zt],tt=It[Zt];break}return Ae<tt?-1:tt<Ae?1:0},A.prototype.includes=function(_,m,U){return-1!==this.indexOf(_,m,U)},A.prototype.indexOf=function(_,m,U){return de(this,_,m,U,!0)},A.prototype.lastIndexOf=function(_,m,U){return de(this,_,m,U,!1)},A.prototype.write=function(_,m,U,ne){if(void 0===m)ne="utf8",U=this.length,m=0;else if(void 0===U&&"string"==typeof m)ne=m,U=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m>>>=0,isFinite(U)?(U>>>=0,void 0===ne&&(ne="utf8")):(ne=U,U=void 0)}const ge=this.length-m;if((void 0===U||U>ge)&&(U=ge),_.length>0&&(U<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");let Ae=!1;for(;;)switch(ne){case"hex":return be(this,_,m,U);case"utf8":case"utf-8":return xe(this,_,m,U);case"ascii":case"latin1":case"binary":return ke(this,_,m,U);case"base64":return C(this,_,m,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,_,m,U);default:if(Ae)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),Ae=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const g=4096;function T(N,_,m){let U="";m=Math.min(N.length,m);for(let ne=_;ne<m;++ne)U+=String.fromCharCode(127&N[ne]);return U}function B(N,_,m){let U="";m=Math.min(N.length,m);for(let ne=_;ne<m;++ne)U+=String.fromCharCode(N[ne]);return U}function S(N,_,m){const U=N.length;(!_||_<0)&&(_=0),(!m||m<0||m>U)&&(m=U);let ne="";for(let ge=_;ge<m;++ge)ne+=We[N[ge]];return ne}function s(N,_,m){const U=N.slice(_,m);let ne="";for(let ge=0;ge<U.length-1;ge+=2)ne+=String.fromCharCode(U[ge]+256*U[ge+1]);return ne}function v(N,_,m){if(N%1!=0||N<0)throw new RangeError("offset is not uint");if(N+_>m)throw new RangeError("Trying to access beyond buffer length")}function W(N,_,m,U,ne,ge){if(!A.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>ne||_<ge)throw new RangeError('"value" argument is out of bounds');if(m+U>N.length)throw new RangeError("Index out of range")}function K(N,_,m,U,ne){ye(_,U,ne,N,m,7);let ge=Number(_&BigInt(4294967295));N[m++]=ge,ge>>=8,N[m++]=ge,ge>>=8,N[m++]=ge,ge>>=8,N[m++]=ge;let Ae=Number(_>>BigInt(32)&BigInt(4294967295));return N[m++]=Ae,Ae>>=8,N[m++]=Ae,Ae>>=8,N[m++]=Ae,Ae>>=8,N[m++]=Ae,m}function ee(N,_,m,U,ne){ye(_,U,ne,N,m,7);let ge=Number(_&BigInt(4294967295));N[m+7]=ge,ge>>=8,N[m+6]=ge,ge>>=8,N[m+5]=ge,ge>>=8,N[m+4]=ge;let Ae=Number(_>>BigInt(32)&BigInt(4294967295));return N[m+3]=Ae,Ae>>=8,N[m+2]=Ae,Ae>>=8,N[m+1]=Ae,Ae>>=8,N[m]=Ae,m+8}function ce(N,_,m,U,ne,ge){if(m+U>N.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function _e(N,_,m,U,ne){return _=+_,m>>>=0,ne||ce(N,0,m,4),E.write(N,_,m,U,23,4),m+4}function Oe(N,_,m,U,ne){return _=+_,m>>>=0,ne||ce(N,0,m,8),E.write(N,_,m,U,52,8),m+8}A.prototype.slice=function(_,m){const U=this.length;(_=~~_)<0?(_+=U)<0&&(_=0):_>U&&(_=U),(m=void 0===m?U:~~m)<0?(m+=U)<0&&(m=0):m>U&&(m=U),m<_&&(m=_);const ne=this.subarray(_,m);return Object.setPrototypeOf(ne,A.prototype),ne},A.prototype.readUintLE=A.prototype.readUIntLE=function(_,m,U){_>>>=0,m>>>=0,U||v(_,m,this.length);let ne=this[_],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[_+Ae]*ge;return ne},A.prototype.readUintBE=A.prototype.readUIntBE=function(_,m,U){_>>>=0,m>>>=0,U||v(_,m,this.length);let ne=this[_+--m],ge=1;for(;m>0&&(ge*=256);)ne+=this[_+--m]*ge;return ne},A.prototype.readUint8=A.prototype.readUInt8=function(_,m){return _>>>=0,m||v(_,1,this.length),this[_]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(_,m){return _>>>=0,m||v(_,2,this.length),this[_]|this[_+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(_,m){return _>>>=0,m||v(_,2,this.length),this[_]<<8|this[_+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(_,m){return _>>>=0,m||v(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+16777216*this[_+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(_,m){return _>>>=0,m||v(_,4,this.length),16777216*this[_]+(this[_+1]<<16|this[_+2]<<8|this[_+3])},A.prototype.readBigUInt64LE=Le(function(_){De(_>>>=0,"offset");const m=this[_],U=this[_+7];(void 0===m||void 0===U)&&pe(_,this.length-8);const ne=m+256*this[++_]+65536*this[++_]+this[++_]*2**24,ge=this[++_]+256*this[++_]+65536*this[++_]+U*2**24;return BigInt(ne)+(BigInt(ge)<<BigInt(32))}),A.prototype.readBigUInt64BE=Le(function(_){De(_>>>=0,"offset");const m=this[_],U=this[_+7];(void 0===m||void 0===U)&&pe(_,this.length-8);const ne=m*2**24+65536*this[++_]+256*this[++_]+this[++_],ge=this[++_]*2**24+65536*this[++_]+256*this[++_]+U;return(BigInt(ne)<<BigInt(32))+BigInt(ge)}),A.prototype.readIntLE=function(_,m,U){_>>>=0,m>>>=0,U||v(_,m,this.length);let ne=this[_],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[_+Ae]*ge;return ge*=128,ne>=ge&&(ne-=Math.pow(2,8*m)),ne},A.prototype.readIntBE=function(_,m,U){_>>>=0,m>>>=0,U||v(_,m,this.length);let ne=m,ge=1,Ae=this[_+--ne];for(;ne>0&&(ge*=256);)Ae+=this[_+--ne]*ge;return ge*=128,Ae>=ge&&(Ae-=Math.pow(2,8*m)),Ae},A.prototype.readInt8=function(_,m){return _>>>=0,m||v(_,1,this.length),128&this[_]?-1*(255-this[_]+1):this[_]},A.prototype.readInt16LE=function(_,m){_>>>=0,m||v(_,2,this.length);const U=this[_]|this[_+1]<<8;return 32768&U?4294901760|U:U},A.prototype.readInt16BE=function(_,m){_>>>=0,m||v(_,2,this.length);const U=this[_+1]|this[_]<<8;return 32768&U?4294901760|U:U},A.prototype.readInt32LE=function(_,m){return _>>>=0,m||v(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},A.prototype.readInt32BE=function(_,m){return _>>>=0,m||v(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},A.prototype.readBigInt64LE=Le(function(_){De(_>>>=0,"offset");const m=this[_],U=this[_+7];return(void 0===m||void 0===U)&&pe(_,this.length-8),(BigInt(this[_+4]+256*this[_+5]+65536*this[_+6]+(U<<24))<<BigInt(32))+BigInt(m+256*this[++_]+65536*this[++_]+this[++_]*2**24)}),A.prototype.readBigInt64BE=Le(function(_){De(_>>>=0,"offset");const m=this[_],U=this[_+7];(void 0===m||void 0===U)&&pe(_,this.length-8);const ne=(m<<24)+65536*this[++_]+256*this[++_]+this[++_];return(BigInt(ne)<<BigInt(32))+BigInt(this[++_]*2**24+65536*this[++_]+256*this[++_]+U)}),A.prototype.readFloatLE=function(_,m){return _>>>=0,m||v(_,4,this.length),E.read(this,_,!0,23,4)},A.prototype.readFloatBE=function(_,m){return _>>>=0,m||v(_,4,this.length),E.read(this,_,!1,23,4)},A.prototype.readDoubleLE=function(_,m){return _>>>=0,m||v(_,8,this.length),E.read(this,_,!0,52,8)},A.prototype.readDoubleBE=function(_,m){return _>>>=0,m||v(_,8,this.length),E.read(this,_,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(_,m,U,ne){_=+_,m>>>=0,U>>>=0,ne||W(this,_,m,U,Math.pow(2,8*U)-1,0);let ge=1,Ae=0;for(this[m]=255&_;++Ae<U&&(ge*=256);)this[m+Ae]=_/ge&255;return m+U},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(_,m,U,ne){_=+_,m>>>=0,U>>>=0,ne||W(this,_,m,U,Math.pow(2,8*U)-1,0);let ge=U-1,Ae=1;for(this[m+ge]=255&_;--ge>=0&&(Ae*=256);)this[m+ge]=_/Ae&255;return m+U},A.prototype.writeUint8=A.prototype.writeUInt8=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,1,255,0),this[m]=255&_,m+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,2,65535,0),this[m]=255&_,this[m+1]=_>>>8,m+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,2,65535,0),this[m]=_>>>8,this[m+1]=255&_,m+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,4,4294967295,0),this[m+3]=_>>>24,this[m+2]=_>>>16,this[m+1]=_>>>8,this[m]=255&_,m+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,4,4294967295,0),this[m]=_>>>24,this[m+1]=_>>>16,this[m+2]=_>>>8,this[m+3]=255&_,m+4},A.prototype.writeBigUInt64LE=Le(function(_,m=0){return K(this,_,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=Le(function(_,m=0){return ee(this,_,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(_,m,U,ne){if(_=+_,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,_,m,U,Bt-1,-Bt)}let ge=0,Ae=1,tt=0;for(this[m]=255&_;++ge<U&&(Ae*=256);)_<0&&0===tt&&0!==this[m+ge-1]&&(tt=1),this[m+ge]=(_/Ae|0)-tt&255;return m+U},A.prototype.writeIntBE=function(_,m,U,ne){if(_=+_,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,_,m,U,Bt-1,-Bt)}let ge=U-1,Ae=1,tt=0;for(this[m+ge]=255&_;--ge>=0&&(Ae*=256);)_<0&&0===tt&&0!==this[m+ge+1]&&(tt=1),this[m+ge]=(_/Ae|0)-tt&255;return m+U},A.prototype.writeInt8=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,1,127,-128),_<0&&(_=255+_+1),this[m]=255&_,m+1},A.prototype.writeInt16LE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,2,32767,-32768),this[m]=255&_,this[m+1]=_>>>8,m+2},A.prototype.writeInt16BE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,2,32767,-32768),this[m]=_>>>8,this[m+1]=255&_,m+2},A.prototype.writeInt32LE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,4,2147483647,-2147483648),this[m]=255&_,this[m+1]=_>>>8,this[m+2]=_>>>16,this[m+3]=_>>>24,m+4},A.prototype.writeInt32BE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[m]=_>>>24,this[m+1]=_>>>16,this[m+2]=_>>>8,this[m+3]=255&_,m+4},A.prototype.writeBigInt64LE=Le(function(_,m=0){return K(this,_,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=Le(function(_,m=0){return ee(this,_,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeFloatLE=function(_,m,U){return _e(this,_,m,!0,U)},A.prototype.writeFloatBE=function(_,m,U){return _e(this,_,m,!1,U)},A.prototype.writeDoubleLE=function(_,m,U){return Oe(this,_,m,!0,U)},A.prototype.writeDoubleBE=function(_,m,U){return Oe(this,_,m,!1,U)},A.prototype.copy=function(_,m,U,ne){if(!A.isBuffer(_))throw new TypeError("argument should be a Buffer");if(U||(U=0),!ne&&0!==ne&&(ne=this.length),m>=_.length&&(m=_.length),m||(m=0),ne>0&&ne<U&&(ne=U),ne===U||0===_.length||0===this.length)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),_.length-m<ne-U&&(ne=_.length-m+U);const ge=ne-U;return this===_&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(m,U,ne):Uint8Array.prototype.set.call(_,this.subarray(U,ne),m),ge},A.prototype.fill=function(_,m,U,ne){if("string"==typeof _){if("string"==typeof m?(ne=m,m=0,U=this.length):"string"==typeof U&&(ne=U,U=this.length),void 0!==ne&&"string"!=typeof ne)throw new TypeError("encoding must be a string");if("string"==typeof ne&&!A.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(1===_.length){const Ae=_.charCodeAt(0);("utf8"===ne&&Ae<128||"latin1"===ne)&&(_=Ae)}}else"number"==typeof _?_&=255:"boolean"==typeof _&&(_=Number(_));if(m<0||this.length<m||this.length<U)throw new RangeError("Out of range index");if(U<=m)return this;let ge;if(m>>>=0,U=void 0===U?this.length:U>>>0,_||(_=0),"number"==typeof _)for(ge=m;ge<U;++ge)this[ge]=_;else{const Ae=A.isBuffer(_)?_:A.from(_,ne),tt=Ae.length;if(0===tt)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(ge=0;ge<U-m;++ge)this[ge+m]=Ae[ge%tt]}return this};const Ve={};function Se(N,_,m){Ve[N]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${N}]`,delete this.name}get code(){return N}set code(ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ne,writable:!0})}toString(){return`${this.name} [${N}]: ${this.message}`}}}function we(N){let _="",m=N.length;const U="-"===N[0]?1:0;for(;m>=U+4;m-=3)_=`_${N.slice(m-3,m)}${_}`;return`${N.slice(0,m)}${_}`}function ye(N,_,m,U,ne,ge){if(N>m||N<_){const Ae="bigint"==typeof _?"n":"";let tt;throw tt=ge>3?0===_||_===BigInt(0)?`>= 0${Ae} and < 2${Ae} ** ${8*(ge+1)}${Ae}`:`>= -(2${Ae} ** ${8*(ge+1)-1}${Ae}) and < 2 ** ${8*(ge+1)-1}${Ae}`:`>= ${_}${Ae} and <= ${m}${Ae}`,new Ve.ERR_OUT_OF_RANGE("value",tt,N)}!function Ue(N,_,m){De(_,"offset"),(void 0===N[_]||void 0===N[_+m])&&pe(_,N.length-(m+1))}(U,ne,ge)}function De(N,_){if("number"!=typeof N)throw new Ve.ERR_INVALID_ARG_TYPE(_,"number",N)}function pe(N,_,m){throw Math.floor(N)!==N?(De(N,m),new Ve.ERR_OUT_OF_RANGE(m||"offset","an integer",N)):_<0?new Ve.ERR_BUFFER_OUT_OF_BOUNDS:new Ve.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${_}`,N)}Se("ERR_BUFFER_OUT_OF_BOUNDS",function(N){return N?`${N} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Se("ERR_INVALID_ARG_TYPE",function(N,_){return`The "${N}" argument must be of type number. Received type ${typeof _}`},TypeError),Se("ERR_OUT_OF_RANGE",function(N,_,m){let U=`The value of "${N}" is out of range.`,ne=m;return Number.isInteger(m)&&Math.abs(m)>2**32?ne=we(String(m)):"bigint"==typeof m&&(ne=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(ne=we(ne)),ne+="n"),U+=` It must be ${_}. Received ${ne}`,U},RangeError);const ue=/[^+/0-9A-Za-z-_]/g;function oe(N,_){let m;_=_||1/0;const U=N.length;let ne=null;const ge=[];for(let Ae=0;Ae<U;++Ae){if(m=N.charCodeAt(Ae),m>55295&&m<57344){if(!ne){if(m>56319){(_-=3)>-1&&ge.push(239,191,189);continue}if(Ae+1===U){(_-=3)>-1&&ge.push(239,191,189);continue}ne=m;continue}if(m<56320){(_-=3)>-1&&ge.push(239,191,189),ne=m;continue}m=65536+(ne-55296<<10|m-56320)}else ne&&(_-=3)>-1&&ge.push(239,191,189);if(ne=null,m<128){if((_-=1)<0)break;ge.push(m)}else if(m<2048){if((_-=2)<0)break;ge.push(m>>6|192,63&m|128)}else if(m<65536){if((_-=3)<0)break;ge.push(m>>12|224,m>>6&63|128,63&m|128)}else{if(!(m<1114112))throw new Error("Invalid code point");if((_-=4)<0)break;ge.push(m>>18|240,m>>12&63|128,m>>6&63|128,63&m|128)}}return ge}function Re(N){return d.toByteArray(function Q(N){if((N=(N=N.split("=")[0]).trim().replace(ue,"")).length<2)return"";for(;N.length%4!=0;)N+="=";return N}(N))}function $e(N,_,m,U){let ne;for(ne=0;ne<U&&!(ne+m>=_.length||ne>=N.length);++ne)_[ne+m]=N[ne];return ne}function Fe(N,_){return N instanceof _||null!=N&&null!=N.constructor&&null!=N.constructor.name&&N.constructor.name===_.name}function _t(N){return N!=N}const We=function(){const N="0123456789abcdef",_=new Array(256);for(let m=0;m<16;++m){const U=16*m;for(let ne=0;ne<16;++ne)_[U+ne]=N[m]+N[ne]}return _}();function Le(N){return typeof BigInt>"u"?lt:N}function lt(){throw new Error("BigInt not supported")}},14078:je=>{var H=1e3,w=60*H,d=60*w,E=24*d,k=7*E;function P(F,L,D,X){var j=L>=1.5*D;return Math.round(F/D)+" "+X+(j?"s":"")}je.exports=function(F,L){L=L||{};var D=typeof F;if("string"===D&&F.length>0)return function x(F){if(!((F=String(F)).length>100)){var L=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(F);if(L){var D=parseFloat(L[1]);switch((L[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*D;case"weeks":case"week":case"w":return D*k;case"days":case"day":case"d":return D*E;case"hours":case"hour":case"hrs":case"hr":case"h":return D*d;case"minutes":case"minute":case"mins":case"min":case"m":return D*w;case"seconds":case"second":case"secs":case"sec":case"s":return D*H;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return D;default:return}}}}(F);if("number"===D&&isFinite(F))return L.long?function A(F){var L=Math.abs(F);return L>=E?P(F,L,E,"day"):L>=d?P(F,L,d,"hour"):L>=w?P(F,L,w,"minute"):L>=H?P(F,L,H,"second"):F+" ms"}(F):function O(F){var L=Math.abs(F);return L>=E?Math.round(F/E)+"d":L>=d?Math.round(F/d)+"h":L>=w?Math.round(F/w)+"m":L>=H?Math.round(F/H)+"s":F+"ms"}(F);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(F))}},57062:(je,H,w)=>{"use strict";const{SymbolDispose:d}=w(56389),{AbortError:E,codes:k}=w(68154),{isNodeStream:z,isWebStream:x,kControllerErrorFunction:O}=w(32924),A=w(46017),{ERR_INVALID_ARG_TYPE:P}=k;let F;je.exports.addAbortSignal=function(X,j){if(((D,X)=>{if("object"!=typeof D||!("aborted"in D))throw new P("signal","AbortSignal",D)})(X),!z(j)&&!x(j))throw new P("stream",["ReadableStream","WritableStream","Stream"],j);return je.exports.addAbortSignalNoValidate(X,j)},je.exports.addAbortSignalNoValidate=function(D,X){if("object"!=typeof D||!("aborted"in D))return X;const j=z(X)?()=>{X.destroy(new E(void 0,{cause:D.reason}))}:()=>{X[O](new E(void 0,{cause:D.reason}))};if(D.aborted)j();else{F=F||w(13509).addAbortListener;const G=F(D,j);A(X,G[d])}return X}},16630:(je,H,w)=>{"use strict";const{StringPrototypeSlice:d,SymbolIterator:E,TypedArrayPrototypeSet:k,Uint8Array:z}=w(56389),{Buffer:x}=w(68316),{inspect:O}=w(13509);je.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(P){const F={data:P,next:null};this.length>0?this.tail.next=F:this.head=F,this.tail=F,++this.length}unshift(P){const F={data:P,next:this.head};0===this.length&&(this.tail=F),this.head=F,++this.length}shift(){if(0===this.length)return;const P=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,P}clear(){this.head=this.tail=null,this.length=0}join(P){if(0===this.length)return"";let F=this.head,L=""+F.data;for(;null!==(F=F.next);)L+=P+F.data;return L}concat(P){if(0===this.length)return x.alloc(0);const F=x.allocUnsafe(P>>>0);let L=this.head,D=0;for(;L;)k(F,L.data,D),D+=L.data.length,L=L.next;return F}consume(P,F){const L=this.head.data;if(P<L.length){const D=L.slice(0,P);return this.head.data=L.slice(P),D}return P===L.length?this.shift():F?this._getString(P):this._getBuffer(P)}first(){return this.head.data}*[E](){for(let P=this.head;P;P=P.next)yield P.data}_getString(P){let F="",L=this.head,D=0;do{const X=L.data;if(!(P>X.length)){P===X.length?(F+=X,++D,this.head=L.next?L.next:this.tail=null):(F+=d(X,0,P),this.head=L,L.data=d(X,P));break}F+=X,P-=X.length,++D}while(null!==(L=L.next));return this.length-=D,F}_getBuffer(P){const F=x.allocUnsafe(P),L=P;let D=this.head,X=0;do{const j=D.data;if(!(P>j.length)){P===j.length?(k(F,j,L-P),++X,this.head=D.next?D.next:this.tail=null):(k(F,new z(j.buffer,j.byteOffset,P),L-P),this.head=D,D.data=j.slice(P));break}k(F,j,L-P),P-=j.length,++X}while(null!==(D=D.next));return this.length-=X,F}[Symbol.for("nodejs.util.inspect.custom")](P,F){return O(this,{...F,depth:0,customInspect:!1})}}},373:(je,H,w)=>{"use strict";var d=w(29293).default;const{pipeline:E}=w(67843),k=w(13323),{destroyer:z}=w(96507),{isNodeStream:x,isReadable:O,isWritable:A,isWebStream:P,isTransformStream:F,isWritableStream:L,isReadableStream:D}=w(32924),{AbortError:X,codes:{ERR_INVALID_ARG_VALUE:j,ERR_MISSING_ARGS:G}}=w(68154),re=w(46017);je.exports=function(...J){if(0===J.length)throw new G("streams");if(1===J.length)return k.from(J[0]);const Z=[...J];if("function"==typeof J[0]&&(J[0]=k.from(J[0])),"function"==typeof J[J.length-1]){const f=J.length-1;J[f]=k.from(J[f])}for(let f=0;f<J.length;++f)if(x(J[f])||P(J[f])){if(f<J.length-1&&!(O(J[f])||D(J[f])||F(J[f])))throw new j(`streams[${f}]`,Z[f],"must be readable");if(f>0&&!(A(J[f])||L(J[f])||F(J[f])))throw new j(`streams[${f}]`,Z[f],"must be writable")}let ie,ae,se,de,le;const xe=J[0],ke=E(J,function be(f){const y=de;de=null,y?y(f):f?le.destroy(f):!a&&!C&&le.destroy()}),C=!!(A(xe)||L(xe)||F(xe)),a=!!(O(ke)||D(ke)||F(ke));if(le=new k({writableObjectMode:!(null==xe||!xe.writableObjectMode),readableObjectMode:!(null==ke||!ke.readableObjectMode),writable:C,readable:a}),C){if(x(xe))le._write=function(y,g,M){xe.write(y,g)?M():ie=M},le._final=function(y){xe.end(),ae=y},xe.on("drain",function(){if(ie){const y=ie;ie=null,y()}});else if(P(xe)){const g=(F(xe)?xe.writable:xe).getWriter();le._write=function(){var M=d(function*(T,B,S){try{yield g.ready,g.write(T).catch(()=>{}),S()}catch(s){S(s)}});return function(T,B,S){return M.apply(this,arguments)}}(),le._final=function(){var M=d(function*(T){try{yield g.ready,g.close().catch(()=>{}),ae=T}catch(B){T(B)}});return function(T){return M.apply(this,arguments)}}()}const f=F(ke)?ke.readable:ke;re(f,()=>{if(ae){const y=ae;ae=null,y()}})}if(a)if(x(ke))ke.on("readable",function(){if(se){const f=se;se=null,f()}}),ke.on("end",function(){le.push(null)}),le._read=function(){for(;;){const f=ke.read();if(null===f)return void(se=le._read);if(!le.push(f))return}};else if(P(ke)){const y=(F(ke)?ke.readable:ke).getReader();le._read=d(function*(){for(;;)try{const{value:g,done:M}=yield y.read();if(!le.push(g))return;if(M)return void le.push(null)}catch{return}})}return le._destroy=function(f,y){!f&&null!==de&&(f=new X),se=null,ie=null,ae=null,null===de?y(f):(de=y,x(ke)&&z(ke,f))},le}},96507:(je,H,w)=>{"use strict";const d=w(40573),{aggregateTwoErrors:E,codes:{ERR_MULTIPLE_CALLBACK:k},AbortError:z}=w(68154),{Symbol:x}=w(56389),{kIsDestroyed:O,isDestroyed:A,isFinished:P,isServerRequest:F}=w(32924),L=x("kDestroy"),D=x("kConstruct");function X(C,a,f){C&&(a&&!a.errored&&(a.errored=C),f&&!f.errored&&(f.errored=C))}function G(C,a,f){let y=!1;function g(M){if(y)return;y=!0;const T=C._readableState,B=C._writableState;X(M,B,T),B&&(B.closed=!0),T&&(T.closed=!0),"function"==typeof f&&f(M),M?d.nextTick(re,C,M):d.nextTick(te,C)}try{C._destroy(a||null,g)}catch(M){g(M)}}function re(C,a){J(C,a),te(C)}function te(C){const a=C._readableState,f=C._writableState;f&&(f.closeEmitted=!0),a&&(a.closeEmitted=!0),(null!=f&&f.emitClose||null!=a&&a.emitClose)&&C.emit("close")}function J(C,a){const f=C._readableState,y=C._writableState;null!=y&&y.errorEmitted||null!=f&&f.errorEmitted||(y&&(y.errorEmitted=!0),f&&(f.errorEmitted=!0),C.emit("error",a))}function ie(C,a,f){const y=C._readableState,g=C._writableState;if(null!=g&&g.destroyed||null!=y&&y.destroyed)return this;null!=y&&y.autoDestroy||null!=g&&g.autoDestroy?C.destroy(a):a&&(g&&!g.errored&&(g.errored=a),y&&!y.errored&&(y.errored=a),f?d.nextTick(J,C,a):J(C,a))}function se(C){let a=!1;function f(y){if(a)return void ie(C,y??new k);a=!0;const g=C._readableState,M=C._writableState,T=M||g;g&&(g.constructed=!0),M&&(M.constructed=!0),T.destroyed?C.emit(L,y):y?ie(C,y,!0):d.nextTick(de,C)}try{C._construct(y=>{d.nextTick(f,y)})}catch(y){d.nextTick(f,y)}}function de(C){C.emit(D)}function le(C){return C?.setHeader&&"function"==typeof C.abort}function be(C){C.emit("close")}function xe(C,a){C.emit("error",a),d.nextTick(be,C)}je.exports={construct:function ae(C,a){if("function"!=typeof C._construct)return;const f=C._readableState,y=C._writableState;f&&(f.constructed=!1),y&&(y.constructed=!1),C.once(D,a),!(C.listenerCount(D)>1)&&d.nextTick(se,C)},destroyer:function ke(C,a){!C||A(C)||(!a&&!P(C)&&(a=new z),F(C)?(C.socket=null,C.destroy(a)):le(C)?C.abort():le(C.req)?C.req.abort():"function"==typeof C.destroy?C.destroy(a):"function"==typeof C.close?C.close():a?d.nextTick(xe,C,a):d.nextTick(be,C),C.destroyed||(C[O]=!0))},destroy:function j(C,a){const f=this._readableState,y=this._writableState,g=y||f;return null!=y&&y.destroyed||null!=f&&f.destroyed?("function"==typeof a&&a(),this):(X(C,y,f),y&&(y.destroyed=!0),f&&(f.destroyed=!0),g.constructed?G(this,C,a):this.once(L,function(M){G(this,E(M,C),a)}),this)},undestroy:function Z(){const C=this._readableState,a=this._writableState;C&&(C.constructed=!0,C.closed=!1,C.closeEmitted=!1,C.destroyed=!1,C.errored=null,C.errorEmitted=!1,C.reading=!1,C.ended=!1===C.readable,C.endEmitted=!1===C.readable),a&&(a.constructed=!0,a.destroyed=!1,a.closed=!1,a.closeEmitted=!1,a.errored=null,a.errorEmitted=!1,a.finalCalled=!1,a.prefinished=!1,a.ended=!1===a.writable,a.ending=!1===a.writable,a.finished=!1===a.writable)},errorOrDestroy:ie}},13323:(je,H,w)=>{"use strict";const{ObjectDefineProperties:d,ObjectGetOwnPropertyDescriptor:E,ObjectKeys:k,ObjectSetPrototypeOf:z}=w(56389);je.exports=A;const x=w(84553),O=w(30009);z(A.prototype,x.prototype),z(A,x);{const D=k(O.prototype);for(let X=0;X<D.length;X++){const j=D[X];A.prototype[j]||(A.prototype[j]=O.prototype[j])}}function A(D){if(!(this instanceof A))return new A(D);x.call(this,D),O.call(this,D),D?(this.allowHalfOpen=!1!==D.allowHalfOpen,!1===D.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===D.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let P,L;function F(){return void 0===P&&(P={}),P}d(A.prototype,{writable:{__proto__:null,...E(O.prototype,"writable")},writableHighWaterMark:{__proto__:null,...E(O.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...E(O.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...E(O.prototype,"writableBuffer")},writableLength:{__proto__:null,...E(O.prototype,"writableLength")},writableFinished:{__proto__:null,...E(O.prototype,"writableFinished")},writableCorked:{__proto__:null,...E(O.prototype,"writableCorked")},writableEnded:{__proto__:null,...E(O.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...E(O.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(D){this._readableState&&this._writableState&&(this._readableState.destroyed=D,this._writableState.destroyed=D)}}}),A.fromWeb=function(D,X){return F().newStreamDuplexFromReadableWritablePair(D,X)},A.toWeb=function(D){return F().newReadableWritablePairFromDuplex(D)},A.from=function(D){return L||(L=w(44425)),L(D,"body")}},44425:(je,H,w)=>{var d=w(29293).default,E=w(53344).default,k=w(42958).default;const z=w(40573),x=w(68316),{isReadable:O,isWritable:A,isIterable:P,isNodeStream:F,isReadableNodeStream:L,isWritableNodeStream:D,isDuplexNodeStream:X,isReadableStream:j,isWritableStream:G}=w(32924),re=w(46017),{AbortError:te,codes:{ERR_INVALID_ARG_TYPE:J,ERR_INVALID_RETURN_VALUE:Z}}=w(68154),{destroyer:ie}=w(96507),ae=w(13323),se=w(84553),de=w(30009),{createDeferredPromise:le}=w(13509),be=w(45737),xe=globalThis.Blob||x.Blob,ke=typeof xe<"u"?function(T){return T instanceof xe}:function(T){return!1},C=globalThis.AbortController||w(9465).AbortController,{FunctionPrototypeCall:a}=w(56389);class f extends ae{constructor(T){super(T),!1===T?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===T?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function g(M){const T=M.readable&&"function"!=typeof M.readable.read?se.wrap(M.readable):M.readable,B=M.writable;let v,W,K,ee,ce,S=!!O(T),s=!!A(B);function _e(Oe){const Ve=ee;ee=null,Ve?Ve(Oe):Oe&&ce.destroy(Oe)}return ce=new f({readableObjectMode:!(null==T||!T.readableObjectMode),writableObjectMode:!(null==B||!B.writableObjectMode),readable:S,writable:s}),s&&(re(B,Oe=>{s=!1,Oe&&ie(T,Oe),_e(Oe)}),ce._write=function(Oe,Ve,Se){B.write(Oe,Ve)?Se():v=Se},ce._final=function(Oe){B.end(),W=Oe},B.on("drain",function(){if(v){const Oe=v;v=null,Oe()}}),B.on("finish",function(){if(W){const Oe=W;W=null,Oe()}})),S&&(re(T,Oe=>{S=!1,Oe&&ie(T,Oe),_e(Oe)}),T.on("readable",function(){if(K){const Oe=K;K=null,Oe()}}),T.on("end",function(){ce.push(null)}),ce._read=function(){for(;;){const Oe=T.read();if(null===Oe)return void(K=ce._read);if(!ce.push(Oe))return}}),ce._destroy=function(Oe,Ve){!Oe&&null!==ee&&(Oe=new te),K=null,v=null,W=null,null===ee?Ve(Oe):(ee=Ve,ie(B,Oe),ie(T,Oe))},ce}je.exports=function M(T,B){if(X(T))return T;if(L(T))return g({readable:T});if(D(T))return g({writable:T});if(F(T))return g({writable:!1,readable:!1});if(j(T))return g({readable:se.fromWeb(T)});if(G(T))return g({writable:de.fromWeb(T)});if("function"==typeof T){const{value:s,write:v,final:W,destroy:K}=function y(M){let{promise:T,resolve:B}=le();const S=new C,s=S.signal;return{value:M(k(function*(){for(;;){const W=T;T=null;const{chunk:K,done:ee,cb:ce}=yield E(W);if(z.nextTick(ce),ee)return;if(s.aborted)throw new te(void 0,{cause:s.reason});({promise:T,resolve:B}=le()),yield K}})(),{signal:s}),write(W,K,ee){const ce=B;B=null,ce({chunk:W,done:!1,cb:ee})},final(W){const K=B;B=null,K({done:!0,cb:W})},destroy(W,K){S.abort(),K(W)}}}(T);if(P(s))return be(f,s,{objectMode:!0,write:v,final:W,destroy:K});const ee=s?.then;if("function"==typeof ee){let ce;const _e=a(ee,s,Oe=>{if(null!=Oe)throw new Z("nully","body",Oe)},Oe=>{ie(ce,Oe)});return ce=new f({objectMode:!0,readable:!1,write:v,final(Oe){W(d(function*(){try{yield _e,z.nextTick(Oe,null)}catch(Ve){z.nextTick(Oe,Ve)}}))},destroy:K})}throw new Z("Iterable, AsyncIterable or AsyncFunction",B,s)}if(ke(T))return M(T.arrayBuffer());if(P(T))return be(f,T,{objectMode:!0,writable:!1});if(j(T?.readable)&&G(T?.writable))return f.fromWeb(T);if("object"==typeof T?.writable||"object"==typeof T?.readable)return g({readable:null!=T&&T.readable?L(T?.readable)?T?.readable:M(T.readable):void 0,writable:null!=T&&T.writable?D(T?.writable)?T?.writable:M(T.writable):void 0});const S=T?.then;if("function"==typeof S){let s;return a(S,T,v=>{null!=v&&s.push(v),s.push(null)},v=>{ie(s,v)}),s=new f({objectMode:!0,writable:!1,read(){}})}throw new J(B,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],T)}},46017:(je,H,w)=>{const d=w(40573),{AbortError:E,codes:k}=w(68154),{ERR_INVALID_ARG_TYPE:z,ERR_STREAM_PREMATURE_CLOSE:x}=k,{kEmptyObject:O,once:A}=w(13509),{validateAbortSignal:P,validateFunction:F,validateObject:L,validateBoolean:D}=w(99852),{Promise:X,PromisePrototypeThen:j,SymbolDispose:G}=w(56389),{isClosed:re,isReadable:te,isReadableNodeStream:J,isReadableStream:Z,isReadableFinished:ie,isReadableErrored:ae,isWritable:se,isWritableNodeStream:de,isWritableStream:le,isWritableFinished:be,isWritableErrored:xe,isNodeStream:ke,willEmitClose:C,kIsClosedPromise:a}=w(32924);let f;const g=()=>{};function M(S,s,v){var W,K;if(2===arguments.length?(v=s,s=O):null==s?s=O:L(s,"options"),F(v,"callback"),P(s.signal,"options.signal"),v=A(v),Z(S)||le(S))return function T(S,s,v){let W=!1,K=g;if(s.signal)if(K=()=>{W=!0,v.call(S,new E(void 0,{cause:s.signal.reason}))},s.signal.aborted)d.nextTick(K);else{f=f||w(13509).addAbortListener;const ce=f(s.signal,K),_e=v;v=A((...Oe)=>{ce[G](),_e.apply(S,Oe)})}const ee=(...ce)=>{W||d.nextTick(()=>v.apply(S,ce))};return j(S[a].promise,ee,ee),g}(S,s,v);if(!ke(S))throw new z("stream",["ReadableStream","WritableStream","Stream"],S);const ee=null!==(W=s.readable)&&void 0!==W?W:J(S),ce=null!==(K=s.writable)&&void 0!==K?K:de(S),_e=S._writableState,Oe=S._readableState,Ve=()=>{S.writable||Ue()};let Se=C(S)&&J(S)===ee&&de(S)===ce,we=be(S,!1);const Ue=()=>{we=!0,S.destroyed&&(Se=!1),(!Se||S.readable&&!ee)&&(!ee||ye)&&v.call(S)};let ye=ie(S,!1);const De=()=>{ye=!0,S.destroyed&&(Se=!1),(!Se||S.writable&&!ce)&&(!ce||we)&&v.call(S)},pe=Re=>{v.call(S,Re)};let ue=re(S);const Q=()=>{ue=!0;const Re=xe(S)||ae(S);return Re&&"boolean"!=typeof Re?v.call(S,Re):ee&&!ye&&J(S,!0)&&!ie(S,!1)?v.call(S,new x):!ce||we||be(S,!1)?void v.call(S):v.call(S,new x)},oe=()=>{ue=!0;const Re=xe(S)||ae(S);if(Re&&"boolean"!=typeof Re)return v.call(S,Re);v.call(S)},fe=()=>{S.req.on("finish",Ue)};!function y(S){return S.setHeader&&"function"==typeof S.abort}(S)?ce&&!_e&&(S.on("end",Ve),S.on("close",Ve)):(S.on("complete",Ue),Se||S.on("abort",Q),S.req?fe():S.on("request",fe)),!Se&&"boolean"==typeof S.aborted&&S.on("aborted",Q),S.on("end",De),S.on("finish",Ue),!1!==s.error&&S.on("error",pe),S.on("close",Q),ue?d.nextTick(Q):null!=_e&&_e.errorEmitted||null!=Oe&&Oe.errorEmitted?Se||d.nextTick(oe):(!ee&&(!Se||te(S))&&(we||!1===se(S))||!ce&&(!Se||se(S))&&(ye||!1===te(S))||Oe&&S.req&&S.aborted)&&d.nextTick(oe);const Ee=()=>{v=g,S.removeListener("aborted",Q),S.removeListener("complete",Ue),S.removeListener("abort",Q),S.removeListener("request",fe),S.req&&S.req.removeListener("finish",Ue),S.removeListener("end",Ve),S.removeListener("close",Ve),S.removeListener("finish",Ue),S.removeListener("end",De),S.removeListener("error",pe),S.removeListener("close",Q)};if(s.signal&&!ue){const Re=()=>{const $e=v;Ee(),$e.call(S,new E(void 0,{cause:s.signal.reason}))};if(s.signal.aborted)d.nextTick(Re);else{f=f||w(13509).addAbortListener;const $e=f(s.signal,Re),Fe=v;v=A((..._t)=>{$e[G](),Fe.apply(S,_t)})}}return Ee}je.exports=M,je.exports.finished=function B(S,s){var v;let W=!1;return null===s&&(s=O),null!==(v=s)&&void 0!==v&&v.cleanup&&(D(s.cleanup,"cleanup"),W=s.cleanup),new X((K,ee)=>{const ce=M(S,s,_e=>{W&&ce(),_e?ee(_e):K()})})}},45737:(je,H,w)=>{"use strict";var d=w(29293).default;const E=w(40573),{PromisePrototypeThen:k,SymbolAsyncIterator:z,SymbolIterator:x}=w(56389),{Buffer:O}=w(68316),{ERR_INVALID_ARG_TYPE:A,ERR_STREAM_NULL_VALUES:P}=w(68154).codes;je.exports=function F(L,D,X){let j,G;if("string"==typeof D||D instanceof O)return new L({objectMode:!0,...X,read(){this.push(D),this.push(null)}});if(D&&D[z])G=!0,j=D[z]();else{if(!D||!D[x])throw new A("iterable",["Iterable"],D);G=!1,j=D[x]()}const re=new L({objectMode:!0,highWaterMark:1,...X});let te=!1;function Z(){return(Z=d(function*(se){if(null!=se&&"function"==typeof j.throw){const{value:be,done:xe}=yield j.throw(se);if(yield be,xe)return}if("function"==typeof j.return){const{value:be}=yield j.return();yield be}})).apply(this,arguments)}function ae(){return(ae=d(function*(){for(;;){try{const{value:se,done:de}=G?yield j.next():j.next();if(de)re.push(null);else{const le=se&&"function"==typeof se.then?yield se:se;if(null===le)throw te=!1,new P;if(re.push(le))continue;te=!1}}catch(se){re.destroy(se)}break}})).apply(this,arguments)}return re._read=function(){te||(te=!0,function ie(){ae.apply(this,arguments)}())},re._destroy=function(se,de){k(function J(se){return Z.apply(this,arguments)}(se),()=>E.nextTick(de,se),le=>E.nextTick(de,le||se))},re}},91242:(je,H,w)=>{"use strict";const{ArrayIsArray:d,ObjectSetPrototypeOf:E}=w(56389),{EventEmitter:k}=w(44356);function z(O){k.call(this,O)}function x(O,A,P){if("function"==typeof O.prependListener)return O.prependListener(A,P);O._events&&O._events[A]?d(O._events[A])?O._events[A].unshift(P):O._events[A]=[P,O._events[A]]:O.on(A,P)}E(z.prototype,k.prototype),E(z,k),z.prototype.pipe=function(O,A){const P=this;function F(te){O.writable&&!1===O.write(te)&&P.pause&&P.pause()}function L(){P.readable&&P.resume&&P.resume()}P.on("data",F),O.on("drain",L),!O._isStdio&&(!A||!1!==A.end)&&(P.on("end",X),P.on("close",j));let D=!1;function X(){D||(D=!0,O.end())}function j(){D||(D=!0,"function"==typeof O.destroy&&O.destroy())}function G(te){re(),0===k.listenerCount(this,"error")&&this.emit("error",te)}function re(){P.removeListener("data",F),O.removeListener("drain",L),P.removeListener("end",X),P.removeListener("close",j),P.removeListener("error",G),O.removeListener("error",G),P.removeListener("end",re),P.removeListener("close",re),O.removeListener("close",re)}return x(P,"error",G),x(O,"error",G),P.on("end",re),P.on("close",re),O.on("close",re),O.emit("pipe",P),O},je.exports={Stream:z,prependListener:x}},21840:(je,H,w)=>{"use strict";var d=w(29293).default,E=w(93513).default,k=w(82881).default,z=w(53344).default,x=w(42958).default;const O=globalThis.AbortController||w(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:A,ERR_INVALID_ARG_TYPE:P,ERR_MISSING_ARGS:F,ERR_OUT_OF_RANGE:L},AbortError:D}=w(68154),{validateAbortSignal:X,validateInteger:j,validateObject:G}=w(99852),re=w(56389).Symbol("kWeak"),te=w(56389).Symbol("kResistStopPropagation"),{finished:J}=w(46017),Z=w(373),{addAbortSignalNoValidate:ie}=w(57062),{isWritable:ae,isNodeStream:se}=w(32924),{deprecate:de}=w(13509),{ArrayPrototypePush:le,Boolean:be,MathFloor:xe,Number:ke,NumberIsNaN:C,Promise:a,PromiseReject:f,PromiseResolve:y,PromisePrototypeThen:g,Symbol:M}=w(56389),T=M("kEmpty"),B=M("kEof");function s(Re,$e){if("function"!=typeof Re)throw new P("fn",["Function","AsyncFunction"],Re);null!=$e&&G($e,"options"),null!=$e?.signal&&X($e.signal,"options.signal");let Fe=1;null!=$e?.concurrency&&(Fe=xe($e.concurrency));let _t=Fe-1;return null!=$e?.highWaterMark&&(_t=xe($e.highWaterMark)),j(Fe,"options.concurrency",1),j(_t,"options.highWaterMark",0),_t+=Fe,function(){var We=x(function*(){const lt=w(13509).AbortSignalAny([$e?.signal].filter(be)),N=this,_=[],m={signal:lt};let U,ne,ge=!1,Ae=0;function tt(){ge=!0,Bt()}function Bt(){Ae-=1,gt()}function gt(){ne&&!ge&&Ae<Fe&&_.length<_t&&(ne(),ne=null)}function Zt(){return(Zt=d(function*(){try{var ar,mn=!1,dn=!1;try{for(var en,An=k(N);mn=!(en=yield An.next()).done;mn=!1){let Qt=en.value;if(ge)return;if(lt.aborted)throw new D;try{if(Qt=Re(Qt,m),Qt===T)continue;Qt=y(Qt)}catch(Et){Qt=f(Et)}Ae+=1,g(Qt,Bt,tt),_.push(Qt),U&&(U(),U=null),!ge&&(_.length>=_t||Ae>=Fe)&&(yield new a(Et=>{ne=Et}))}}catch(Qt){dn=!0,ar=Qt}finally{try{mn&&null!=An.return&&(yield An.return())}finally{if(dn)throw ar}}_.push(B)}catch(Qt){const Et=f(Qt);g(Et,Bt,tt),_.push(Et)}finally{ge=!0,U&&(U(),U=null)}})).apply(this,arguments)}!function It(){Zt.apply(this,arguments)}();try{for(;;){for(;_.length>0;){const mn=yield z(_[0]);if(mn===B)return;if(lt.aborted)throw new D;mn!==T&&(yield mn),_.shift(),gt()}yield z(new a(mn=>{U=mn}))}}finally{ge=!0,ne&&(ne(),ne=null)}});return function Le(){return We.apply(this,arguments)}}().call(this)}function W(Re){return K.apply(this,arguments)}function K(){return(K=d(function*(Re,$e=void 0){var We,Fe=!1,_t=!1;try{for(var Le=k(we.call(this,Re,$e));Fe=!(yield Le.next()).done;Fe=!1)return!0}catch(N){_t=!0,We=N}finally{try{Fe&&null!=Le.return&&(yield Le.return())}finally{if(_t)throw We}}return!1})).apply(this,arguments)}function ce(){return(ce=d(function*(Re,$e=void 0){if("function"!=typeof Re)throw new P("fn",["Function","AsyncFunction"],Re);return!(yield W.call(this,d(function*(...Fe){return!(yield Re(...Fe))}),$e))})).apply(this,arguments)}function Oe(){return(Oe=d(function*(Re,$e){var We,Fe=!1,_t=!1;try{for(var lt,Le=k(we.call(this,Re,$e));Fe=!(lt=yield Le.next()).done;Fe=!1)return lt.value}catch(N){_t=!0,We=N}finally{try{Fe&&null!=Le.return&&(yield Le.return())}finally{if(_t)throw We}}})).apply(this,arguments)}function Se(){return Se=d(function*(Re,$e){if("function"!=typeof Re)throw new P("fn",["Function","AsyncFunction"],Re);function _t(){return(_t=d(function*(m,U){return yield Re(m,U),T})).apply(this,arguments)}var lt,We=!1,Le=!1;try{for(var N=k(s.call(this,function Fe(m,U){return _t.apply(this,arguments)},$e));We=!(yield N.next()).done;We=!1);}catch(m){Le=!0,lt=m}finally{try{We&&null!=N.return&&(yield N.return())}finally{if(Le)throw lt}}}),Se.apply(this,arguments)}function we(Re,$e){if("function"!=typeof Re)throw new P("fn",["Function","AsyncFunction"],Re);function _t(){return(_t=d(function*(We,Le){return(yield Re(We,Le))?We:T})).apply(this,arguments)}return s.call(this,function Fe(We,Le){return _t.apply(this,arguments)},$e)}class Ue extends F{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function De(){return De=d(function*(Re,$e,Fe){var _t;if("function"!=typeof Re)throw new P("reducer",["Function","AsyncFunction"],Re);null!=Fe&&G(Fe,"options"),null!=Fe?.signal&&X(Fe.signal,"options.signal");let We=arguments.length>1;if(null!=Fe&&null!==(_t=Fe.signal)&&void 0!==_t&&_t.aborted){const tt=new D(void 0,{cause:Fe.signal.reason});throw this.once("error",()=>{}),yield J(this.destroy(tt)),tt}const Le=new O,lt=Le.signal;null!=Fe&&Fe.signal&&Fe.signal.addEventListener("abort",()=>Le.abort(),{once:!0,[re]:this,[te]:!0});let N=!1;try{var U,_=!1,m=!1;try{for(var ge,ne=k(this);_=!(ge=yield ne.next()).done;_=!1){const tt=ge.value;var Ae;if(N=!0,null!=Fe&&null!==(Ae=Fe.signal)&&void 0!==Ae&&Ae.aborted)throw new D;We?$e=yield Re($e,tt,{signal:lt}):($e=tt,We=!0)}}catch(tt){m=!0,U=tt}finally{try{_&&null!=ne.return&&(yield ne.return())}finally{if(m)throw U}}if(!N&&!We)throw new Ue}finally{Le.abort()}return $e}),De.apply(this,arguments)}function ue(){return(ue=d(function*(Re){null!=Re&&G(Re,"options"),null!=Re?.signal&&X(Re.signal,"options.signal");const $e=[];var We,Fe=!1,_t=!1;try{for(var lt,Le=k(this);Fe=!(lt=yield Le.next()).done;Fe=!1){const _=lt.value;var N;if(null!=Re&&null!==(N=Re.signal)&&void 0!==N&&N.aborted)throw new D(void 0,{cause:Re.signal.reason});le($e,_)}}catch(_){_t=!0,We=_}finally{try{Fe&&null!=Le.return&&(yield Le.return())}finally{if(_t)throw We}}return $e})).apply(this,arguments)}function oe(Re){if(Re=ke(Re),C(Re))return 0;if(Re<0)throw new L("number",">= 0",Re);return Re}je.exports.streamReturningOperators={asIndexedPairs:de(function v(Re=void 0){return null!=Re&&G(Re,"options"),null!=Re?.signal&&X(Re.signal,"options.signal"),function(){var $e=x(function*(){let _t=0;var lt,We=!1,Le=!1;try{for(var _,N=k(this);We=!(_=yield z(N.next())).done;We=!1){const U=_.value;var m;if(null!=Re&&null!==(m=Re.signal)&&void 0!==m&&m.aborted)throw new D({cause:Re.signal.reason});yield[_t++,U]}}catch(U){Le=!0,lt=U}finally{try{We&&null!=N.return&&(yield z(N.return()))}finally{if(Le)throw lt}}});return function Fe(){return $e.apply(this,arguments)}}().call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function fe(Re,$e=void 0){return null!=$e&&G($e,"options"),null!=$e?.signal&&X($e.signal,"options.signal"),Re=oe(Re),function(){var Fe=x(function*(){var We;if(null!=$e&&null!==(We=$e.signal)&&void 0!==We&&We.aborted)throw new D;var N,Le=!1,lt=!1;try{for(var m,_=k(this);Le=!(m=yield z(_.next())).done;Le=!1){const ne=m.value;var U;if(null!=$e&&null!==(U=$e.signal)&&void 0!==U&&U.aborted)throw new D;Re--<=0&&(yield ne)}}catch(ne){lt=!0,N=ne}finally{try{Le&&null!=_.return&&(yield z(_.return()))}finally{if(lt)throw N}}});return function _t(){return Fe.apply(this,arguments)}}().call(this)},filter:we,flatMap:function Q(Re,$e){const Fe=s.call(this,Re,$e);return function(){var _t=x(function*(){var N,Le=!1,lt=!1;try{for(var m,_=k(Fe);Le=!(m=yield z(_.next())).done;Le=!1){const U=m.value;yield*E(k(U),z)}}catch(U){lt=!0,N=U}finally{try{Le&&null!=_.return&&(yield z(_.return()))}finally{if(lt)throw N}}});return function We(){return _t.apply(this,arguments)}}().call(this)},map:s,take:function Ee(Re,$e=void 0){return null!=$e&&G($e,"options"),null!=$e?.signal&&X($e.signal,"options.signal"),Re=oe(Re),function(){var Fe=x(function*(){var We;if(null!=$e&&null!==(We=$e.signal)&&void 0!==We&&We.aborted)throw new D;var N,Le=!1,lt=!1;try{for(var m,_=k(this);Le=!(m=yield z(_.next())).done;Le=!1){const ne=m.value;var U;if(null!=$e&&null!==(U=$e.signal)&&void 0!==U&&U.aborted)throw new D;if(Re-- >0&&(yield ne),Re<=0)return}}catch(ne){lt=!0,N=ne}finally{try{Le&&null!=_.return&&(yield z(_.return()))}finally{if(lt)throw N}}});return function _t(){return Fe.apply(this,arguments)}}().call(this)},compose:function S(Re,$e){if(null!=$e&&G($e,"options"),null!=$e?.signal&&X($e.signal,"options.signal"),se(Re)&&!ae(Re))throw new A("stream",Re,"must be writable");const Fe=Z(this,Re);return null!=$e&&$e.signal&&ie($e.signal,Fe),Fe}},je.exports.promiseReturningOperators={every:function ee(Re){return ce.apply(this,arguments)},forEach:function Ve(Re,$e){return Se.apply(this,arguments)},reduce:function ye(Re,$e,Fe){return De.apply(this,arguments)},toArray:function pe(Re){return ue.apply(this,arguments)},some:W,find:function _e(Re,$e){return Oe.apply(this,arguments)}}},59447:(je,H,w)=>{"use strict";const{ObjectSetPrototypeOf:d}=w(56389);je.exports=k;const E=w(71981);function k(z){if(!(this instanceof k))return new k(z);E.call(this,z)}d(k.prototype,E.prototype),d(k,E),k.prototype._transform=function(z,x,O){O(null,z)}},67843:(je,H,w)=>{var d=w(29293).default,E=w(42958).default,k=w(53344).default,z=w(93513).default,x=w(82881).default;const O=w(40573),{ArrayIsArray:A,Promise:P,SymbolAsyncIterator:F,SymbolDispose:L}=w(56389),D=w(46017),{once:X}=w(13509),j=w(96507),G=w(13323),{aggregateTwoErrors:re,codes:{ERR_INVALID_ARG_TYPE:te,ERR_INVALID_RETURN_VALUE:J,ERR_MISSING_ARGS:Z,ERR_STREAM_DESTROYED:ie,ERR_STREAM_PREMATURE_CLOSE:ae},AbortError:se}=w(68154),{validateFunction:de,validateAbortSignal:le}=w(99852),{isIterable:be,isReadable:xe,isReadableNodeStream:ke,isNodeStream:C,isTransformStream:a,isWebStream:f,isReadableStream:y,isReadableFinished:g}=w(32924),M=globalThis.AbortController||w(9465).AbortController;let T,B,S;function s(ye,De,pe){let ue=!1;return ye.on("close",()=>{ue=!0}),{destroy:oe=>{ue||(ue=!0,j.destroyer(ye,oe||new ie("pipe")))},cleanup:D(ye,{readable:De,writable:pe},oe=>{ue=!oe})}}function W(ye){if(be(ye))return ye;if(ke(ye))return function K(ye){return ee.apply(this,arguments)}(ye);throw new te("val",["Readable","Iterable","AsyncIterable"],ye)}function ee(){return(ee=E(function*(ye){B||(B=w(84553)),yield*z(x(B.prototype[F].call(ye)),k)})).apply(this,arguments)}function ce(ye,De,pe,ue){return _e.apply(this,arguments)}function _e(){return(_e=d(function*(ye,De,pe,{end:ue}){let Q,oe=null;const fe=lt=>{if(lt&&(Q=lt),oe){const N=oe;oe=null,N()}},Ee=()=>new P((lt,N)=>{Q?N(Q):oe=()=>{Q?N(Q):lt()}});De.on("drain",fe);const Re=D(De,{readable:!1},fe);try{De.writableNeedDrain&&(yield Ee());var _t,$e=!1,Fe=!1;try{for(var Le,We=x(ye);$e=!(Le=yield We.next()).done;$e=!1)De.write(Le.value)||(yield Ee())}catch(lt){Fe=!0,_t=lt}finally{try{$e&&null!=We.return&&(yield We.return())}finally{if(Fe)throw _t}}ue&&(De.end(),yield Ee()),pe()}catch(lt){pe(Q!==lt?re(Q,lt):lt)}finally{Re(),De.off("drain",fe)}})).apply(this,arguments)}function Oe(ye,De,pe,ue){return Ve.apply(this,arguments)}function Ve(){return(Ve=d(function*(ye,De,pe,{end:ue}){a(De)&&(De=De.writable);const Q=De.getWriter();try{var Ee,oe=!1,fe=!1;try{for(var $e,Re=x(ye);oe=!($e=yield Re.next()).done;oe=!1){const Fe=$e.value;yield Q.ready,Q.write(Fe).catch(()=>{})}}catch(Fe){fe=!0,Ee=Fe}finally{try{oe&&null!=Re.return&&(yield Re.return())}finally{if(fe)throw Ee}}yield Q.ready,ue&&(yield Q.close()),pe()}catch(Fe){try{yield Q.abort(Fe),pe(Fe)}catch(_t){pe(_t)}}})).apply(this,arguments)}function we(ye,De,pe){if(1===ye.length&&A(ye[0])&&(ye=ye[0]),ye.length<2)throw new Z("streams");const ue=new M,Q=ue.signal,oe=pe?.signal,fe=[];function Ee(){lt(new se)}let Re,$e,Fe;le(oe,"options.signal"),S=S||w(13509).addAbortListener,oe&&(Re=S(oe,Ee));const _t=[];let N,We=0;function Le(ne){lt(ne,0==--We)}function lt(ne,ge){var Ae;if(ne&&(!$e||"ERR_STREAM_PREMATURE_CLOSE"===$e.code)&&($e=ne),$e||ge){for(;_t.length;)_t.shift()($e);null===(Ae=Re)||void 0===Ae||Ae[L](),ue.abort(),ge&&($e||fe.forEach(tt=>tt()),O.nextTick(De,$e,Fe))}}for(let ne=0;ne<ye.length;ne++){const ge=ye[ne],Ae=ne<ye.length-1,tt=ne>0,Bt=Ae||!1!==pe?.end,gt=ne===ye.length-1;if(C(ge)){let It=function(Zt){Zt&&"AbortError"!==Zt.name&&"ERR_STREAM_PREMATURE_CLOSE"!==Zt.code&&Le(Zt)};if(Bt){const{destroy:Zt,cleanup:mn}=s(ge,Ae,tt);_t.push(Zt),xe(ge)&&gt&&fe.push(mn)}ge.on("error",It),xe(ge)&&gt&&fe.push(()=>{ge.removeListener("error",It)})}if(0===ne)if("function"==typeof ge){if(N=ge({signal:Q}),!be(N))throw new J("Iterable, AsyncIterable or Stream","source",N)}else N=be(ge)||ke(ge)||a(ge)?ge:G.from(ge);else if("function"==typeof ge){var _;if(N=a(N)?W(null===(_=N)||void 0===_?void 0:_.readable):W(N),N=ge(N,{signal:Q}),Ae){if(!be(N,!0))throw new J("AsyncIterable",`transform[${ne-1}]`,N)}else{var m;T||(T=w(59447));const It=new T({objectMode:!0}),Zt=null===(m=N)||void 0===m?void 0:m.then;if("function"==typeof Zt)We++,Zt.call(N,ar=>{Fe=ar,null!=ar&&It.write(ar),Bt&&It.end(),O.nextTick(Le)},ar=>{It.destroy(ar),O.nextTick(Le,ar)});else if(be(N,!0))We++,ce(N,It,Le,{end:Bt});else{if(!y(N)&&!a(N))throw new J("AsyncIterable or Promise","destination",N);We++,ce(N.readable||N,It,Le,{end:Bt})}N=It;const{destroy:mn,cleanup:dn}=s(N,!1,!0);_t.push(mn),gt&&fe.push(dn)}}else if(C(ge)){if(ke(N)){We+=2;const It=Ue(N,ge,Le,{end:Bt});xe(ge)&&gt&&fe.push(It)}else if(a(N)||y(N))We++,ce(N.readable||N,ge,Le,{end:Bt});else{if(!be(N))throw new te("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],N);We++,ce(N,ge,Le,{end:Bt})}N=ge}else if(f(ge)){if(ke(N))We++,Oe(W(N),ge,Le,{end:Bt});else if(y(N)||be(N))We++,Oe(N,ge,Le,{end:Bt});else{if(!a(N))throw new te("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],N);We++,Oe(N.readable,ge,Le,{end:Bt})}N=ge}else N=G.from(ge)}return(null!=Q&&Q.aborted||null!=oe&&oe.aborted)&&O.nextTick(Ee),N}function Ue(ye,De,pe,{end:ue}){let Q=!1;if(De.on("close",()=>{Q||pe(new ae)}),ye.pipe(De,{end:!1}),ue){let fe=function(){Q=!0,De.end()};g(ye)?O.nextTick(fe):ye.once("end",fe)}else pe();return D(ye,{readable:!0,writable:!1},fe=>{const Ee=ye._readableState;fe&&"ERR_STREAM_PREMATURE_CLOSE"===fe.code&&Ee&&Ee.ended&&!Ee.errored&&!Ee.errorEmitted?ye.once("end",pe).once("error",pe):pe(fe)}),D(De,{readable:!1,writable:!0},pe)}je.exports={pipelineImpl:we,pipeline:function Se(...ye){return we(ye,X(function v(ye){return de(ye[ye.length-1],"streams[stream.length - 1]"),ye.pop()}(ye)))}}},84553:(je,H,w)=>{var d=w(53344).default,E=w(42958).default;const k=w(40573),{ArrayPrototypeIndexOf:z,NumberIsInteger:x,NumberIsNaN:O,NumberParseInt:A,ObjectDefineProperties:P,ObjectKeys:F,ObjectSetPrototypeOf:L,Promise:D,SafeSet:X,SymbolAsyncDispose:j,SymbolAsyncIterator:G,Symbol:re}=w(56389);je.exports=Le,Le.ReadableState=We;const{EventEmitter:te}=w(44356),{Stream:J,prependListener:Z}=w(91242),{Buffer:ie}=w(68316),{addAbortSignal:ae}=w(57062),se=w(46017);let de=w(13509).debuglog("stream",vt=>{de=vt});const le=w(16630),be=w(96507),{getHighWaterMark:xe,getDefaultHighWaterMark:ke}=w(18212),{aggregateTwoErrors:C,codes:{ERR_INVALID_ARG_TYPE:a,ERR_METHOD_NOT_IMPLEMENTED:f,ERR_OUT_OF_RANGE:y,ERR_STREAM_PUSH_AFTER_EOF:g,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:M},AbortError:T}=w(68154),{validateObject:B}=w(99852),S=re("kPaused"),{StringDecoder:s}=w(78454),v=w(45737);L(Le.prototype,J.prototype),L(Le,J);const W=()=>{},{errorOrDestroy:K}=be,ee=1,Ve=16,Se=32,we=64,ue=2048,Q=4096,Re=65536;function _t(vt){return{enumerable:!1,get(){return!!(this.state&vt)},set(St){St?this.state|=vt:this.state&=~vt}}}function We(vt,St,Mt){"boolean"!=typeof Mt&&(Mt=St instanceof w(13323)),this.state=ue|Q|Ve|Se,vt&&vt.objectMode&&(this.state|=ee),Mt&&vt&&vt.readableObjectMode&&(this.state|=ee),this.highWaterMark=vt?xe(this,vt,"readableHighWaterMark",Mt):ke(!1),this.buffer=new le,this.length=0,this.pipes=[],this.flowing=null,this[S]=null,vt&&!1===vt.emitClose&&(this.state&=~ue),vt&&!1===vt.autoDestroy&&(this.state&=~Q),this.errored=null,this.defaultEncoding=vt&&vt.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,vt&&vt.encoding&&(this.decoder=new s(vt.encoding),this.encoding=vt.encoding)}function Le(vt){if(!(this instanceof Le))return new Le(vt);const St=this instanceof w(13323);this._readableState=new We(vt,this,St),vt&&("function"==typeof vt.read&&(this._read=vt.read),"function"==typeof vt.destroy&&(this._destroy=vt.destroy),"function"==typeof vt.construct&&(this._construct=vt.construct),vt.signal&&!St&&ae(vt.signal,this)),J.call(this,vt),be.construct(this,()=>{this._readableState.needReadable&&tt(this,this._readableState)})}function lt(vt,St,Mt,Ye){de("readableAddChunk",St);const nt=vt._readableState;let Wt;if(nt.state&ee||("string"==typeof St?nt.encoding!==(Mt=Mt||nt.defaultEncoding)&&(Ye&&nt.encoding?St=ie.from(St,Mt).toString(nt.encoding):(St=ie.from(St,Mt),Mt="")):St instanceof ie?Mt="":J._isUint8Array(St)?(St=J._uint8ArrayToBuffer(St),Mt=""):null!=St&&(Wt=new a("chunk",["string","Buffer","Uint8Array"],St))),Wt)K(vt,Wt);else if(null===St)nt.state&=-9,function ne(vt,St){if(de("onEofChunk"),!St.ended){if(St.decoder){const Mt=St.decoder.end();Mt&&Mt.length&&(St.buffer.push(Mt),St.length+=St.objectMode?1:Mt.length)}St.ended=!0,St.sync?ge(vt):(St.needReadable=!1,St.emittedReadable=!0,Ae(vt))}}(vt,nt);else if(nt.state&ee||St&&St.length>0)if(Ye)if(4&nt.state)K(vt,new M);else{if(nt.destroyed||nt.errored)return!1;N(vt,nt,St,!0)}else if(nt.ended)K(vt,new g);else{if(nt.destroyed||nt.errored)return!1;nt.state&=-9,nt.decoder&&!Mt?(St=nt.decoder.write(St),nt.objectMode||0!==St.length?N(vt,nt,St,!1):tt(vt,nt)):N(vt,nt,St,!1)}else Ye||(nt.state&=-9,tt(vt,nt));return!nt.ended&&(nt.length<nt.highWaterMark||0===nt.length)}function N(vt,St,Mt,Ye){St.flowing&&0===St.length&&!St.sync&&vt.listenerCount("data")>0?(St.state&Re?St.awaitDrainWriters.clear():St.awaitDrainWriters=null,St.dataEmitted=!0,vt.emit("data",Mt)):(St.length+=St.objectMode?1:Mt.length,Ye?St.buffer.unshift(Mt):St.buffer.push(Mt),St.state&we&&ge(vt)),tt(vt,St)}function U(vt,St){return vt<=0||0===St.length&&St.ended?0:St.state&ee?1:O(vt)?St.flowing&&St.length?St.buffer.first().length:St.length:vt<=St.length?vt:St.ended?St.length:0}function ge(vt){const St=vt._readableState;de("emitReadable",St.needReadable,St.emittedReadable),St.needReadable=!1,St.emittedReadable||(de("emitReadable",St.flowing),St.emittedReadable=!0,k.nextTick(Ae,vt))}function Ae(vt){const St=vt._readableState;de("emitReadable_",St.destroyed,St.length,St.ended),!St.destroyed&&!St.errored&&(St.length||St.ended)&&(vt.emit("readable"),St.emittedReadable=!1),St.needReadable=!St.flowing&&!St.ended&&St.length<=St.highWaterMark,ar(vt)}function tt(vt,St){!St.readingMore&&St.constructed&&(St.readingMore=!0,k.nextTick(Bt,vt,St))}function Bt(vt,St){for(;!St.reading&&!St.ended&&(St.length<St.highWaterMark||St.flowing&&0===St.length);){const Mt=St.length;if(de("maybeReadMore read 0"),vt.read(0),Mt===St.length)break}St.readingMore=!1}function It(vt){const St=vt._readableState;St.readableListening=vt.listenerCount("readable")>0,St.resumeScheduled&&!1===St[S]?St.flowing=!0:vt.listenerCount("data")>0?vt.resume():St.readableListening||(St.flowing=null)}function Zt(vt){de("readable nexttick read 0"),vt.read(0)}function dn(vt,St){de("resume",St.reading),St.reading||vt.read(0),St.resumeScheduled=!1,vt.emit("resume"),ar(vt),St.flowing&&!St.reading&&vt.read(0)}function ar(vt){const St=vt._readableState;for(de("flow",St.flowing);St.flowing&&null!==vt.read(););}function An(vt,St){"function"!=typeof vt.read&&(vt=Le.wrap(vt,{objectMode:!0}));const Mt=function en(vt,St){return Qt.apply(this,arguments)}(vt,St);return Mt.stream=vt,Mt}function Qt(){return(Qt=E(function*(vt,St){let nt,Mt=W;function Ye(Nt){this===vt?(Mt(),Mt=W):Mt=Nt}vt.on("readable",Ye);const Wt=se(vt,{writable:!1},Nt=>{nt=Nt?C(nt,Nt):null,Mt(),Mt=W});try{for(;;){const Nt=vt.destroyed?null:vt.read();if(null!==Nt)yield Nt;else{if(nt)throw nt;if(null===nt)return;yield d(new D(Ye))}}}catch(Nt){throw nt=C(nt,Nt),nt}finally{!nt&&!1===St?.destroyOnReturn||void 0!==nt&&!vt._readableState.autoDestroy?(vt.off("readable",Ye),Wt()):be.destroyer(vt,null)}})).apply(this,arguments)}function Et(vt,St){if(0===St.length)return null;let Mt;return St.objectMode?Mt=St.buffer.shift():!vt||vt>=St.length?(Mt=St.decoder?St.buffer.join(""):1===St.buffer.length?St.buffer.first():St.buffer.concat(St.length),St.buffer.clear()):Mt=St.buffer.consume(vt,St.decoder),Mt}function ft(vt){const St=vt._readableState;de("endReadable",St.endEmitted),St.endEmitted||(St.ended=!0,k.nextTick(Ht,St,vt))}function Ht(vt,St){if(de("endReadableNT",vt.endEmitted,vt.length),!vt.errored&&!vt.closeEmitted&&!vt.endEmitted&&0===vt.length)if(vt.endEmitted=!0,St.emit("end"),St.writable&&!1===St.allowHalfOpen)k.nextTick(qt,St);else if(vt.autoDestroy){const Mt=St._writableState;(!Mt||Mt.autoDestroy&&(Mt.finished||!1===Mt.writable))&&St.destroy()}}function qt(vt){vt.writable&&!vt.writableEnded&&!vt.destroyed&&vt.end()}let hn;function hr(){return void 0===hn&&(hn={}),hn}P(We.prototype,{objectMode:_t(ee),ended:_t(2),endEmitted:_t(4),reading:_t(8),constructed:_t(Ve),sync:_t(Se),needReadable:_t(we),emittedReadable:_t(128),readableListening:_t(256),resumeScheduled:_t(512),errorEmitted:_t(1024),emitClose:_t(ue),autoDestroy:_t(Q),destroyed:_t(8192),closed:_t(16384),closeEmitted:_t(32768),multiAwaitDrain:_t(Re),readingMore:_t(1<<17),dataEmitted:_t(1<<18)}),Le.prototype.destroy=be.destroy,Le.prototype._undestroy=be.undestroy,Le.prototype._destroy=function(vt,St){St(vt)},Le.prototype[te.captureRejectionSymbol]=function(vt){this.destroy(vt)},Le.prototype[j]=function(){let vt;return this.destroyed||(vt=this.readableEnded?null:new T,this.destroy(vt)),new D((St,Mt)=>se(this,Ye=>Ye&&Ye!==vt?Mt(Ye):St(null)))},Le.prototype.push=function(vt,St){return lt(this,vt,St,!1)},Le.prototype.unshift=function(vt,St){return lt(this,vt,St,!0)},Le.prototype.isPaused=function(){const vt=this._readableState;return!0===vt[S]||!1===vt.flowing},Le.prototype.setEncoding=function(vt){const St=new s(vt);this._readableState.decoder=St,this._readableState.encoding=this._readableState.decoder.encoding;const Mt=this._readableState.buffer;let Ye="";for(const nt of Mt)Ye+=St.write(nt);return Mt.clear(),""!==Ye&&Mt.push(Ye),this._readableState.length=Ye.length,this},Le.prototype.read=function(vt){de("read",vt),void 0===vt?vt=NaN:x(vt)||(vt=A(vt,10));const St=this._readableState,Mt=vt;if(vt>St.highWaterMark&&(St.highWaterMark=function m(vt){if(vt>1073741824)throw new y("size","<= 1GiB",vt);return vt--,vt|=vt>>>1,vt|=vt>>>2,vt|=vt>>>4,vt|=vt>>>8,vt|=vt>>>16,++vt}(vt)),0!==vt&&(St.state&=-129),0===vt&&St.needReadable&&((0!==St.highWaterMark?St.length>=St.highWaterMark:St.length>0)||St.ended))return de("read: emitReadable",St.length,St.ended),0===St.length&&St.ended?ft(this):ge(this),null;if(0===(vt=U(vt,St))&&St.ended)return 0===St.length&&ft(this),null;let nt,Ye=!!(St.state&we);if(de("need readable",Ye),(0===St.length||St.length-vt<St.highWaterMark)&&(Ye=!0,de("length less than watermark",Ye)),St.ended||St.reading||St.destroyed||St.errored||!St.constructed)Ye=!1,de("reading, ended or constructing",Ye);else if(Ye){de("do read"),St.state|=8|Se,0===St.length&&(St.state|=we);try{this._read(St.highWaterMark)}catch(Wt){K(this,Wt)}St.state&=~Se,St.reading||(vt=U(Mt,St))}return nt=vt>0?Et(vt,St):null,null===nt?(St.needReadable=St.length<=St.highWaterMark,vt=0):(St.length-=vt,St.multiAwaitDrain?St.awaitDrainWriters.clear():St.awaitDrainWriters=null),0===St.length&&(St.ended||(St.needReadable=!0),Mt!==vt&&St.ended&&ft(this)),null!==nt&&!St.errorEmitted&&!St.closeEmitted&&(St.dataEmitted=!0,this.emit("data",nt)),nt},Le.prototype._read=function(vt){throw new f("_read()")},Le.prototype.pipe=function(vt,St){const Mt=this,Ye=this._readableState;1===Ye.pipes.length&&(Ye.multiAwaitDrain||(Ye.multiAwaitDrain=!0,Ye.awaitDrainWriters=new X(Ye.awaitDrainWriters?[Ye.awaitDrainWriters]:[]))),Ye.pipes.push(vt),de("pipe count=%d opts=%j",Ye.pipes.length,St);const Wt=St&&!1===St.end||vt===k.stdout||vt===k.stderr?Te:un;function un(){de("onend"),vt.end()}Ye.endEmitted?k.nextTick(Wt):Mt.once("end",Wt),vt.on("unpipe",function Nt(Ne,xt){de("onunpipe"),Ne===Mt&&xt&&!1===xt.hasUnpiped&&(xt.hasUnpiped=!0,function kn(){de("cleanup"),vt.removeListener("close",Lt),vt.removeListener("finish",et),Wn&&vt.removeListener("drain",Wn),vt.removeListener("error",Fn),vt.removeListener("unpipe",Nt),Mt.removeListener("end",un),Mt.removeListener("end",Te),Mt.removeListener("data",Jn),En=!0,Wn&&Ye.awaitDrainWriters&&(!vt._writableState||vt._writableState.needDrain)&&Wn()}())});let Wn,En=!1;function Or(){En||(1===Ye.pipes.length&&Ye.pipes[0]===vt?(de("false write response, pause",0),Ye.awaitDrainWriters=vt,Ye.multiAwaitDrain=!1):Ye.pipes.length>1&&Ye.pipes.includes(vt)&&(de("false write response, pause",Ye.awaitDrainWriters.size),Ye.awaitDrainWriters.add(vt)),Mt.pause()),Wn||(Wn=function gt(vt,St){return function(){const Ye=vt._readableState;Ye.awaitDrainWriters===St?(de("pipeOnDrain",1),Ye.awaitDrainWriters=null):Ye.multiAwaitDrain&&(de("pipeOnDrain",Ye.awaitDrainWriters.size),Ye.awaitDrainWriters.delete(St)),(!Ye.awaitDrainWriters||0===Ye.awaitDrainWriters.size)&&vt.listenerCount("data")&&vt.resume()}}(Mt,vt),vt.on("drain",Wn))}function Jn(Ne){de("ondata");const xt=vt.write(Ne);de("dest.write",xt),!1===xt&&Or()}function Fn(Ne){if(de("onerror",Ne),Te(),vt.removeListener("error",Fn),0===vt.listenerCount("error")){const xt=vt._writableState||vt._readableState;xt&&!xt.errorEmitted?K(vt,Ne):vt.emit("error",Ne)}}function Lt(){vt.removeListener("finish",et),Te()}function et(){de("onfinish"),vt.removeListener("close",Lt),Te()}function Te(){de("unpipe"),Mt.unpipe(vt)}return Mt.on("data",Jn),Z(vt,"error",Fn),vt.once("close",Lt),vt.once("finish",et),vt.emit("pipe",Mt),!0===vt.writableNeedDrain?Or():Ye.flowing||(de("pipe resume"),Mt.resume()),vt},Le.prototype.unpipe=function(vt){const St=this._readableState;if(0===St.pipes.length)return this;if(!vt){const nt=St.pipes;St.pipes=[],this.pause();for(let Wt=0;Wt<nt.length;Wt++)nt[Wt].emit("unpipe",this,{hasUnpiped:!1});return this}const Ye=z(St.pipes,vt);return-1===Ye||(St.pipes.splice(Ye,1),0===St.pipes.length&&this.pause(),vt.emit("unpipe",this,{hasUnpiped:!1})),this},Le.prototype.addListener=Le.prototype.on=function(vt,St){const Mt=J.prototype.on.call(this,vt,St),Ye=this._readableState;return"data"===vt?(Ye.readableListening=this.listenerCount("readable")>0,!1!==Ye.flowing&&this.resume()):"readable"===vt&&!Ye.endEmitted&&!Ye.readableListening&&(Ye.readableListening=Ye.needReadable=!0,Ye.flowing=!1,Ye.emittedReadable=!1,de("on readable",Ye.length,Ye.reading),Ye.length?ge(this):Ye.reading||k.nextTick(Zt,this)),Mt},Le.prototype.off=Le.prototype.removeListener=function(vt,St){const Mt=J.prototype.removeListener.call(this,vt,St);return"readable"===vt&&k.nextTick(It,this),Mt},Le.prototype.removeAllListeners=function(vt){const St=J.prototype.removeAllListeners.apply(this,arguments);return("readable"===vt||void 0===vt)&&k.nextTick(It,this),St},Le.prototype.resume=function(){const vt=this._readableState;return vt.flowing||(de("resume"),vt.flowing=!vt.readableListening,function mn(vt,St){St.resumeScheduled||(St.resumeScheduled=!0,k.nextTick(dn,vt,St))}(this,vt)),vt[S]=!1,this},Le.prototype.pause=function(){return de("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(de("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[S]=!0,this},Le.prototype.wrap=function(vt){let St=!1;vt.on("data",Ye=>{!this.push(Ye)&&vt.pause&&(St=!0,vt.pause())}),vt.on("end",()=>{this.push(null)}),vt.on("error",Ye=>{K(this,Ye)}),vt.on("close",()=>{this.destroy()}),vt.on("destroy",()=>{this.destroy()}),this._read=()=>{St&&vt.resume&&(St=!1,vt.resume())};const Mt=F(vt);for(let Ye=1;Ye<Mt.length;Ye++){const nt=Mt[Ye];void 0===this[nt]&&"function"==typeof vt[nt]&&(this[nt]=vt[nt].bind(vt))}return this},Le.prototype[G]=function(){return An(this)},Le.prototype.iterator=function(vt){return void 0!==vt&&B(vt,"options"),An(this,vt)},P(Le.prototype,{readable:{__proto__:null,get(){const vt=this._readableState;return!(!vt||!1===vt.readable||vt.destroyed||vt.errorEmitted||vt.endEmitted)},set(vt){this._readableState&&(this._readableState.readable=!!vt)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(vt){this._readableState&&(this._readableState.flowing=vt)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(vt){this._readableState&&(this._readableState.destroyed=vt)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),P(We.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[S]},set(vt){this[S]=!!vt}}}),Le._fromList=Et,Le.from=function(vt,St){return v(Le,vt,St)},Le.fromWeb=function(vt,St){return hr().newStreamReadableFromReadableStream(vt,St)},Le.toWeb=function(vt,St){return hr().newReadableStreamFromStreamReadable(vt,St)},Le.wrap=function(vt,St){var Mt,Ye;return new Le({objectMode:null===(Mt=null!==(Ye=vt.readableObjectMode)&&void 0!==Ye?Ye:vt.objectMode)||void 0===Mt||Mt,...St,destroy(nt,Wt){be.destroyer(vt,nt),Wt(nt)}}).wrap(vt)}},18212:(je,H,w)=>{"use strict";const{MathFloor:d,NumberIsInteger:E}=w(56389),{validateInteger:k}=w(99852),{ERR_INVALID_ARG_VALUE:z}=w(68154).codes;let x=16384,O=16;function P(D){return D?O:x}je.exports={getHighWaterMark:function L(D,X,j,G){const re=function A(D,X,j){return null!=D.highWaterMark?D.highWaterMark:X?D[j]:null}(X,G,j);if(null!=re){if(!E(re)||re<0)throw new z(G?`options.${j}`:"options.highWaterMark",re);return d(re)}return P(D.objectMode)},getDefaultHighWaterMark:P,setDefaultHighWaterMark:function F(D,X){k(X,"value",0),D?O=X:x=X}}},71981:(je,H,w)=>{"use strict";const{ObjectSetPrototypeOf:d,Symbol:E}=w(56389);je.exports=A;const{ERR_METHOD_NOT_IMPLEMENTED:k}=w(68154).codes,z=w(13323),{getHighWaterMark:x}=w(18212);d(A.prototype,z.prototype),d(A,z);const O=E("kCallback");function A(L){if(!(this instanceof A))return new A(L);const D=L?x(this,L,"readableHighWaterMark",!0):null;0===D&&(L={...L,highWaterMark:null,readableHighWaterMark:D,writableHighWaterMark:L.writableHighWaterMark||0}),z.call(this,L),this._readableState.sync=!1,this[O]=null,L&&("function"==typeof L.transform&&(this._transform=L.transform),"function"==typeof L.flush&&(this._flush=L.flush)),this.on("prefinish",F)}function P(L){"function"!=typeof this._flush||this.destroyed?(this.push(null),L&&L()):this._flush((D,X)=>{D?L?L(D):this.destroy(D):(null!=X&&this.push(X),this.push(null),L&&L())})}function F(){this._final!==P&&P.call(this)}A.prototype._final=P,A.prototype._transform=function(L,D,X){throw new k("_transform()")},A.prototype._write=function(L,D,X){const j=this._readableState,G=this._writableState,re=j.length;this._transform(L,D,(te,J)=>{te?X(te):(null!=J&&this.push(J),G.ended||re===j.length||j.length<j.highWaterMark?X():this[O]=X)})},A.prototype._read=function(){if(this[O]){const L=this[O];this[O]=null,L()}}},32924:(je,H,w)=>{"use strict";const{SymbolAsyncIterator:d,SymbolIterator:E,SymbolFor:k}=w(56389),z=k("nodejs.stream.destroyed"),x=k("nodejs.stream.errored"),O=k("nodejs.stream.readable"),A=k("nodejs.stream.writable"),P=k("nodejs.stream.disturbed"),F=k("nodejs.webstream.isClosedPromise"),L=k("nodejs.webstream.controllerErrorFunction");function D(v,W=!1){var K;return!(!v||"function"!=typeof v.pipe||"function"!=typeof v.on||W&&("function"!=typeof v.pause||"function"!=typeof v.resume)||v._writableState&&!1===(null===(K=v._readableState)||void 0===K?void 0:K.readable)||v._writableState&&!v._readableState)}function X(v){var W;return!(!v||"function"!=typeof v.write||"function"!=typeof v.on||v._readableState&&!1===(null===(W=v._writableState)||void 0===W?void 0:W.writable))}function G(v){return v&&(v._readableState||v._writableState||"function"==typeof v.write&&"function"==typeof v.on||"function"==typeof v.pipe&&"function"==typeof v.on)}function re(v){return!(!v||G(v)||"function"!=typeof v.pipeThrough||"function"!=typeof v.getReader||"function"!=typeof v.cancel)}function te(v){return!(!v||G(v)||"function"!=typeof v.getWriter||"function"!=typeof v.abort)}function J(v){return!(!v||G(v)||"object"!=typeof v.readable||"object"!=typeof v.writable)}function ae(v){if(!G(v))return null;const ee=v._writableState||v._readableState;return!!(v.destroyed||v[z]||null!=ee&&ee.destroyed)}function se(v){if(!X(v))return null;if(!0===v.writableEnded)return!0;const W=v._writableState;return(null==W||!W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)}function be(v,W){if(!D(v))return null;const K=v._readableState;return(null==K||!K.errored)&&("boolean"!=typeof K?.endEmitted?null:!!(K.endEmitted||!1===W&&!0===K.ended&&0===K.length))}function xe(v){return v&&null!=v[O]?v[O]:"boolean"!=typeof v?.readable?null:!ae(v)&&D(v)&&v.readable&&!be(v)}function ke(v){return v&&null!=v[A]?v[A]:"boolean"!=typeof v?.writable?null:!ae(v)&&X(v)&&v.writable&&!se(v)}function g(v){return"boolean"==typeof v._closed&&"boolean"==typeof v._defaultKeepAlive&&"boolean"==typeof v._removedConnection&&"boolean"==typeof v._removedContLen}function M(v){return"boolean"==typeof v._sent100&&g(v)}je.exports={isDestroyed:ae,kIsDestroyed:z,isDisturbed:function S(v){var W;return!(!v||!(null!==(W=v[P])&&void 0!==W?W:v.readableDidRead||v.readableAborted))},kIsDisturbed:P,isErrored:function s(v){var W,K,ee,ce,_e,Oe,Ve,Se,we,Ue;return!(!v||!(null!==(W=null!==(K=null!==(ee=null!==(ce=null!==(_e=null!==(Oe=v[x])&&void 0!==Oe?Oe:v.readableErrored)&&void 0!==_e?_e:v.writableErrored)&&void 0!==ce?ce:null===(Ve=v._readableState)||void 0===Ve?void 0:Ve.errorEmitted)&&void 0!==ee?ee:null===(Se=v._writableState)||void 0===Se?void 0:Se.errorEmitted)&&void 0!==K?K:null===(we=v._readableState)||void 0===we?void 0:we.errored)&&void 0!==W?W:null!==(Ue=v._writableState)&&void 0!==Ue&&Ue.errored))},kIsErrored:x,isReadable:xe,kIsReadable:O,kIsClosedPromise:F,kControllerErrorFunction:L,kIsWritable:A,isClosed:function y(v){if(!G(v))return null;if("boolean"==typeof v.closed)return v.closed;const W=v._writableState,K=v._readableState;return"boolean"==typeof W?.closed||"boolean"==typeof K?.closed?W?.closed||K?.closed:"boolean"==typeof v._closed&&g(v)?v._closed:null},isDuplexNodeStream:function j(v){return!(!v||"function"!=typeof v.pipe||!v._readableState||"function"!=typeof v.on||"function"!=typeof v.write)},isFinished:function C(v,W){return G(v)?!!ae(v)||!(!1!==W?.readable&&xe(v)||!1!==W?.writable&&ke(v)):null},isIterable:function ie(v,W){return null!=v&&(!0===W?"function"==typeof v[d]:!1===W?"function"==typeof v[E]:"function"==typeof v[d]||"function"==typeof v[E])},isReadableNodeStream:D,isReadableStream:re,isReadableEnded:function le(v){if(!D(v))return null;if(!0===v.readableEnded)return!0;const W=v._readableState;return!(!W||W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)},isReadableFinished:be,isReadableErrored:function f(v){var W,K;return G(v)?v.readableErrored?v.readableErrored:null!==(W=null===(K=v._readableState)||void 0===K?void 0:K.errored)&&void 0!==W?W:null:null},isNodeStream:G,isWebStream:function Z(v){return re(v)||te(v)||J(v)},isWritable:ke,isWritableNodeStream:X,isWritableStream:te,isWritableEnded:se,isWritableFinished:function de(v,W){if(!X(v))return null;if(!0===v.writableFinished)return!0;const K=v._writableState;return(null==K||!K.errored)&&("boolean"!=typeof K?.finished?null:!!(K.finished||!1===W&&!0===K.ended&&0===K.length))},isWritableErrored:function a(v){var W,K;return G(v)?v.writableErrored?v.writableErrored:null!==(W=null===(K=v._writableState)||void 0===K?void 0:K.errored)&&void 0!==W?W:null:null},isServerRequest:function T(v){var W;return"boolean"==typeof v._consuming&&"boolean"==typeof v._dumped&&void 0===(null===(W=v.req)||void 0===W?void 0:W.upgradeOrConnect)},isServerResponse:M,willEmitClose:function B(v){if(!G(v))return null;const ee=v._writableState||v._readableState;return!ee&&M(v)||!!(ee&&ee.autoDestroy&&ee.emitClose&&!1===ee.closed)},isTransformStream:J}},30009:(je,H,w)=>{const d=w(40573),{ArrayPrototypeSlice:E,Error:k,FunctionPrototypeSymbolHasInstance:z,ObjectDefineProperty:x,ObjectDefineProperties:O,ObjectSetPrototypeOf:A,StringPrototypeToLowerCase:P,Symbol:F,SymbolHasInstance:L}=w(56389);je.exports=M,M.WritableState=y;const{EventEmitter:D}=w(44356),X=w(91242).Stream,{Buffer:j}=w(68316),G=w(96507),{addAbortSignal:re}=w(57062),{getHighWaterMark:te,getDefaultHighWaterMark:J}=w(18212),{ERR_INVALID_ARG_TYPE:Z,ERR_METHOD_NOT_IMPLEMENTED:ie,ERR_MULTIPLE_CALLBACK:ae,ERR_STREAM_CANNOT_PIPE:se,ERR_STREAM_DESTROYED:de,ERR_STREAM_ALREADY_FINISHED:le,ERR_STREAM_NULL_VALUES:be,ERR_STREAM_WRITE_AFTER_END:xe,ERR_UNKNOWN_ENCODING:ke}=w(68154).codes,{errorOrDestroy:C}=G;function a(){}A(M.prototype,X.prototype),A(M,X);const f=F("kOnFinished");function y(pe,ue,Q){"boolean"!=typeof Q&&(Q=ue instanceof w(13323)),this.objectMode=!(!pe||!pe.objectMode),Q&&(this.objectMode=this.objectMode||!(!pe||!pe.writableObjectMode)),this.highWaterMark=pe?te(this,pe,"writableHighWaterMark",Q):J(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(pe&&!1===pe.decodeStrings),this.defaultEncoding=pe&&pe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=v.bind(void 0,ue),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,g(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!pe||!1!==pe.emitClose,this.autoDestroy=!pe||!1!==pe.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[f]=[]}function g(pe){pe.buffered=[],pe.bufferedIndex=0,pe.allBuffers=!0,pe.allNoop=!0}function M(pe){const ue=this instanceof w(13323);if(!ue&&!z(M,this))return new M(pe);this._writableState=new y(pe,this,ue),pe&&("function"==typeof pe.write&&(this._write=pe.write),"function"==typeof pe.writev&&(this._writev=pe.writev),"function"==typeof pe.destroy&&(this._destroy=pe.destroy),"function"==typeof pe.final&&(this._final=pe.final),"function"==typeof pe.construct&&(this._construct=pe.construct),pe.signal&&re(pe.signal,this)),X.call(this,pe),G.construct(this,()=>{const Q=this._writableState;Q.writing||ce(this,Q),Se(this,Q)})}function T(pe,ue,Q,oe){const fe=pe._writableState;if("function"==typeof Q)oe=Q,Q=fe.defaultEncoding;else{if(Q){if("buffer"!==Q&&!j.isEncoding(Q))throw new ke(Q)}else Q=fe.defaultEncoding;"function"!=typeof oe&&(oe=a)}if(null===ue)throw new be;if(!fe.objectMode)if("string"==typeof ue)!1!==fe.decodeStrings&&(ue=j.from(ue,Q),Q="buffer");else if(ue instanceof j)Q="buffer";else{if(!X._isUint8Array(ue))throw new Z("chunk",["string","Buffer","Uint8Array"],ue);ue=X._uint8ArrayToBuffer(ue),Q="buffer"}let Ee;return fe.ending?Ee=new xe:fe.destroyed&&(Ee=new de("write")),Ee?(d.nextTick(oe,Ee),C(pe,Ee,!0),Ee):(fe.pendingcb++,function B(pe,ue,Q,oe,fe){const Ee=ue.objectMode?1:Q.length;ue.length+=Ee;const Re=ue.length<ue.highWaterMark;return Re||(ue.needDrain=!0),ue.writing||ue.corked||ue.errored||!ue.constructed?(ue.buffered.push({chunk:Q,encoding:oe,callback:fe}),ue.allBuffers&&"buffer"!==oe&&(ue.allBuffers=!1),ue.allNoop&&fe!==a&&(ue.allNoop=!1)):(ue.writelen=Ee,ue.writecb=fe,ue.writing=!0,ue.sync=!0,pe._write(Q,oe,ue.onwrite),ue.sync=!1),Re&&!ue.errored&&!ue.destroyed}(pe,fe,ue,Q,oe))}function S(pe,ue,Q,oe,fe,Ee,Re){ue.writelen=oe,ue.writecb=Re,ue.writing=!0,ue.sync=!0,ue.destroyed?ue.onwrite(new de("write")):Q?pe._writev(fe,ue.onwrite):pe._write(fe,Ee,ue.onwrite),ue.sync=!1}function s(pe,ue,Q,oe){--ue.pendingcb,oe(Q),ee(ue),C(pe,Q)}function v(pe,ue){const Q=pe._writableState,oe=Q.sync,fe=Q.writecb;"function"==typeof fe?(Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0,ue?(Q.errored||(Q.errored=ue),pe._readableState&&!pe._readableState.errored&&(pe._readableState.errored=ue),oe?d.nextTick(s,pe,Q,ue,fe):s(pe,Q,ue,fe)):(Q.buffered.length>Q.bufferedIndex&&ce(pe,Q),oe?null!==Q.afterWriteTickInfo&&Q.afterWriteTickInfo.cb===fe?Q.afterWriteTickInfo.count++:(Q.afterWriteTickInfo={count:1,cb:fe,stream:pe,state:Q},d.nextTick(W,Q.afterWriteTickInfo)):K(pe,Q,1,fe))):C(pe,new ae)}function W({stream:pe,state:ue,count:Q,cb:oe}){return ue.afterWriteTickInfo=null,K(pe,ue,Q,oe)}function K(pe,ue,Q,oe){for(!ue.ending&&!pe.destroyed&&0===ue.length&&ue.needDrain&&(ue.needDrain=!1,pe.emit("drain"));Q-- >0;)ue.pendingcb--,oe();ue.destroyed&&ee(ue),Se(pe,ue)}function ee(pe){if(pe.writing)return;for(let fe=pe.bufferedIndex;fe<pe.buffered.length;++fe){var ue;const{chunk:Ee,callback:Re}=pe.buffered[fe];pe.length-=pe.objectMode?1:Ee.length,Re(null!==(ue=pe.errored)&&void 0!==ue?ue:new de("write"))}const Q=pe[f].splice(0);for(let fe=0;fe<Q.length;fe++){var oe;Q[fe](null!==(oe=pe.errored)&&void 0!==oe?oe:new de("end"))}g(pe)}function ce(pe,ue){if(ue.corked||ue.bufferProcessing||ue.destroyed||!ue.constructed)return;const{buffered:Q,bufferedIndex:oe,objectMode:fe}=ue,Ee=Q.length-oe;if(!Ee)return;let Re=oe;if(ue.bufferProcessing=!0,Ee>1&&pe._writev){ue.pendingcb-=Ee-1;const $e=ue.allNoop?a:_t=>{for(let We=Re;We<Q.length;++We)Q[We].callback(_t)},Fe=ue.allNoop&&0===Re?Q:E(Q,Re);Fe.allBuffers=ue.allBuffers,S(pe,ue,!0,ue.length,Fe,"",$e),g(ue)}else{do{const{chunk:$e,encoding:Fe,callback:_t}=Q[Re];Q[Re++]=null,S(pe,ue,!1,fe?1:$e.length,$e,Fe,_t)}while(Re<Q.length&&!ue.writing);Re===Q.length?g(ue):Re>256?(Q.splice(0,Re),ue.bufferedIndex=0):ue.bufferedIndex=Re}ue.bufferProcessing=!1}function _e(pe){return pe.ending&&!pe.destroyed&&pe.constructed&&0===pe.length&&!pe.errored&&0===pe.buffered.length&&!pe.finished&&!pe.writing&&!pe.errorEmitted&&!pe.closeEmitted}function Se(pe,ue,Q){_e(ue)&&(function Ve(pe,ue){!ue.prefinished&&!ue.finalCalled&&("function"!=typeof pe._final||ue.destroyed?(ue.prefinished=!0,pe.emit("prefinish")):(ue.finalCalled=!0,function Oe(pe,ue){let Q=!1;function oe(fe){if(Q)C(pe,fe??ae());else if(Q=!0,ue.pendingcb--,fe){const Ee=ue[f].splice(0);for(let Re=0;Re<Ee.length;Re++)Ee[Re](fe);C(pe,fe,ue.sync)}else _e(ue)&&(ue.prefinished=!0,pe.emit("prefinish"),ue.pendingcb++,d.nextTick(we,pe,ue))}ue.sync=!0,ue.pendingcb++;try{pe._final(oe)}catch(fe){oe(fe)}ue.sync=!1}(pe,ue)))}(pe,ue),0===ue.pendingcb&&(Q?(ue.pendingcb++,d.nextTick((oe,fe)=>{_e(fe)?we(oe,fe):fe.pendingcb--},pe,ue)):_e(ue)&&(ue.pendingcb++,we(pe,ue))))}function we(pe,ue){ue.pendingcb--,ue.finished=!0;const Q=ue[f].splice(0);for(let oe=0;oe<Q.length;oe++)Q[oe]();if(pe.emit("finish"),ue.autoDestroy){const oe=pe._readableState;(!oe||oe.autoDestroy&&(oe.endEmitted||!1===oe.readable))&&pe.destroy()}}y.prototype.getBuffer=function(){return E(this.buffered,this.bufferedIndex)},x(y.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),x(M,L,{__proto__:null,value:function(pe){return!!z(this,pe)||this===M&&pe&&pe._writableState instanceof y}}),M.prototype.pipe=function(){C(this,new se)},M.prototype.write=function(pe,ue,Q){return!0===T(this,pe,ue,Q)},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){const pe=this._writableState;pe.corked&&(pe.corked--,pe.writing||ce(this,pe))},M.prototype.setDefaultEncoding=function(ue){if("string"==typeof ue&&(ue=P(ue)),!j.isEncoding(ue))throw new ke(ue);return this._writableState.defaultEncoding=ue,this},M.prototype._write=function(pe,ue,Q){if(!this._writev)throw new ie("_write()");this._writev([{chunk:pe,encoding:ue}],Q)},M.prototype._writev=null,M.prototype.end=function(pe,ue,Q){const oe=this._writableState;let fe;if("function"==typeof pe?(Q=pe,pe=null,ue=null):"function"==typeof ue&&(Q=ue,ue=null),null!=pe){const Ee=T(this,pe,ue);Ee instanceof k&&(fe=Ee)}return oe.corked&&(oe.corked=1,this.uncork()),fe||(oe.errored||oe.ending?oe.finished?fe=new le("end"):oe.destroyed&&(fe=new de("end")):(oe.ending=!0,Se(this,oe,!0),oe.ended=!0)),"function"==typeof Q&&(fe||oe.finished?d.nextTick(Q,fe):oe[f].push(Q)),this},O(M.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(pe){this._writableState&&(this._writableState.destroyed=pe)}},writable:{__proto__:null,get(){const pe=this._writableState;return!(!pe||!1===pe.writable||pe.destroyed||pe.errored||pe.ending||pe.ended)},set(pe){this._writableState&&(this._writableState.writable=!!pe)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const pe=this._writableState;return!!pe&&!pe.destroyed&&!pe.ending&&pe.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Ue=G.destroy;let ye;function De(){return void 0===ye&&(ye={}),ye}M.prototype.destroy=function(pe,ue){const Q=this._writableState;return!Q.destroyed&&(Q.bufferedIndex<Q.buffered.length||Q[f].length)&&d.nextTick(ee,Q),Ue.call(this,pe,ue),this},M.prototype._undestroy=G.undestroy,M.prototype._destroy=function(pe,ue){ue(pe)},M.prototype[D.captureRejectionSymbol]=function(pe){this.destroy(pe)},M.fromWeb=function(pe,ue){return De().newStreamWritableFromWritableStream(pe,ue)},M.toWeb=function(pe){return De().newWritableStreamFromStreamWritable(pe)}},99852:(je,H,w)=>{"use strict";const{ArrayIsArray:d,ArrayPrototypeIncludes:E,ArrayPrototypeJoin:k,ArrayPrototypeMap:z,NumberIsInteger:x,NumberIsNaN:O,NumberMAX_SAFE_INTEGER:A,NumberMIN_SAFE_INTEGER:P,NumberParseInt:F,ObjectPrototypeHasOwnProperty:L,RegExpPrototypeExec:D,String:X,StringPrototypeToUpperCase:j,StringPrototypeTrim:G}=w(56389),{hideStackFrames:re,codes:{ERR_SOCKET_BAD_PORT:te,ERR_INVALID_ARG_TYPE:J,ERR_INVALID_ARG_VALUE:Z,ERR_OUT_OF_RANGE:ie,ERR_UNKNOWN_SIGNAL:ae}}=w(68154),{normalizeEncoding:se}=w(13509),{isAsyncFunction:de,isArrayBufferView:le}=w(13509).types,be={},C=/^[0-7]+$/,y=re((Re,$e,Fe=P,_t=A)=>{if("number"!=typeof Re)throw new J($e,"number",Re);if(!x(Re))throw new ie($e,"an integer",Re);if(Re<Fe||Re>_t)throw new ie($e,`>= ${Fe} && <= ${_t}`,Re)}),g=re((Re,$e,Fe=-2147483648,_t=2147483647)=>{if("number"!=typeof Re)throw new J($e,"number",Re);if(!x(Re))throw new ie($e,"an integer",Re);if(Re<Fe||Re>_t)throw new ie($e,`>= ${Fe} && <= ${_t}`,Re)}),M=re((Re,$e,Fe=!1)=>{if("number"!=typeof Re)throw new J($e,"number",Re);if(!x(Re))throw new ie($e,"an integer",Re);const _t=Fe?1:0,We=4294967295;if(Re<_t||Re>We)throw new ie($e,`>= ${_t} && <= ${We}`,Re)});function T(Re,$e){if("string"!=typeof Re)throw new J($e,"string",Re)}const S=re((Re,$e,Fe)=>{if(!E(Fe,Re)){const We="must be one of: "+k(z(Fe,Le=>"string"==typeof Le?`'${Le}'`:X(Le)),", ");throw new Z($e,Re,We)}});function s(Re,$e){if("boolean"!=typeof Re)throw new J($e,"boolean",Re)}function v(Re,$e,Fe){return null!=Re&&L(Re,$e)?Re[$e]:Fe}const W=re((Re,$e,Fe=null)=>{const _t=v(Fe,"allowArray",!1),We=v(Fe,"allowFunction",!1);if(!v(Fe,"nullable",!1)&&null===Re||!_t&&d(Re)||"object"!=typeof Re&&(!We||"function"!=typeof Re))throw new J($e,"Object",Re)}),K=re((Re,$e)=>{if(null!=Re&&"object"!=typeof Re&&"function"!=typeof Re)throw new J($e,"a dictionary",Re)}),ee=re((Re,$e,Fe=0)=>{if(!d(Re))throw new J($e,"Array",Re);if(Re.length<Fe)throw new Z($e,Re,`must be longer than ${Fe}`)}),Se=re((Re,$e="buffer")=>{if(!le(Re))throw new J($e,["Buffer","TypedArray","DataView"],Re)}),ye=re((Re,$e)=>{if(void 0!==Re&&(null===Re||"object"!=typeof Re||!("aborted"in Re)))throw new J($e,"AbortSignal",Re)}),De=re((Re,$e)=>{if("function"!=typeof Re)throw new J($e,"Function",Re)}),pe=re((Re,$e)=>{if("function"!=typeof Re||de(Re))throw new J($e,"Function",Re)}),ue=re((Re,$e)=>{if(void 0!==Re)throw new J($e,"undefined",Re)}),oe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function fe(Re,$e){if(typeof Re>"u"||!D(oe,Re))throw new Z($e,Re,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}je.exports={isInt32:function xe(Re){return Re===(0|Re)},isUint32:function ke(Re){return Re===Re>>>0},parseFileMode:function f(Re,$e,Fe){if(typeof Re>"u"&&(Re=Fe),"string"==typeof Re){if(null===D(C,Re))throw new Z($e,Re,"must be a 32-bit unsigned integer or an octal string");Re=F(Re,8)}return M(Re,$e),Re},validateArray:ee,validateStringArray:function ce(Re,$e){ee(Re,$e);for(let Fe=0;Fe<Re.length;Fe++)T(Re[Fe],`${$e}[${Fe}]`)},validateBooleanArray:function _e(Re,$e){ee(Re,$e);for(let Fe=0;Fe<Re.length;Fe++)s(Re[Fe],`${$e}[${Fe}]`)},validateAbortSignalArray:function Oe(Re,$e){ee(Re,$e);for(let Fe=0;Fe<Re.length;Fe++){const _t=Re[Fe],We=`${$e}[${Fe}]`;if(null==_t)throw new J(We,"AbortSignal",_t);ye(_t,We)}},validateBoolean:s,validateBuffer:Se,validateDictionary:K,validateEncoding:function we(Re,$e){const Fe=se($e),_t=Re.length;if("hex"===Fe&&_t%2!=0)throw new Z("encoding",$e,`is invalid for data of length ${_t}`)},validateFunction:De,validateInt32:g,validateInteger:y,validateNumber:function B(Re,$e,Fe=void 0,_t){if("number"!=typeof Re)throw new J($e,"number",Re);if(null!=Fe&&Re<Fe||null!=_t&&Re>_t||(null!=Fe||null!=_t)&&O(Re))throw new ie($e,`${null!=Fe?`>= ${Fe}`:""}${null!=Fe&&null!=_t?" && ":""}${null!=_t?`<= ${_t}`:""}`,Re)},validateObject:W,validateOneOf:S,validatePlainFunction:pe,validatePort:function Ue(Re,$e="Port",Fe=!0){if("number"!=typeof Re&&"string"!=typeof Re||"string"==typeof Re&&0===G(Re).length||+Re!=+Re>>>0||Re>65535||0===Re&&!Fe)throw new te($e,Re,Fe);return 0|Re},validateSignalName:function Ve(Re,$e="signal"){if(T(Re,$e),void 0===be[Re])throw void 0!==be[j(Re)]?new ae(Re+" (signals must use all capital letters)"):new ae(Re)},validateString:T,validateUint32:M,validateUndefined:ue,validateUnion:function Q(Re,$e,Fe){if(!E(Fe,Re))throw new J($e,`('${k(Fe,"|")}')`,Re)},validateAbortSignal:ye,validateLinkHeaderValue:function Ee(Re){if("string"==typeof Re)return fe(Re,"hints"),Re;if(d(Re)){const $e=Re.length;let Fe="";if(0===$e)return Fe;for(let _t=0;_t<$e;_t++){const We=Re[_t];fe(We,"hints"),Fe+=We,_t!==$e-1&&(Fe+=", ")}return Fe}throw new Z("hints",Re,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},65797:(je,H,w)=>{"use strict";const d=w(33885),E=w(74870),k=d.Readable.destroy;je.exports=d.Readable,je.exports._uint8ArrayToBuffer=d._uint8ArrayToBuffer,je.exports._isUint8Array=d._isUint8Array,je.exports.isDisturbed=d.isDisturbed,je.exports.isErrored=d.isErrored,je.exports.isReadable=d.isReadable,je.exports.Readable=d.Readable,je.exports.Writable=d.Writable,je.exports.Duplex=d.Duplex,je.exports.Transform=d.Transform,je.exports.PassThrough=d.PassThrough,je.exports.addAbortSignal=d.addAbortSignal,je.exports.finished=d.finished,je.exports.destroy=d.destroy,je.exports.destroy=k,je.exports.pipeline=d.pipeline,je.exports.compose=d.compose,Object.defineProperty(d,"promises",{configurable:!0,enumerable:!0,get:()=>E}),je.exports.Stream=d.Stream,je.exports.default=je.exports},68154:(je,H,w)=>{"use strict";const{format:d,inspect:E,AggregateError:k}=w(13509),z=globalThis.AggregateError||k,x=Symbol("kIsNodeError"),O=["string","function","number","object","Function","Object","boolean","bigint","symbol"],A=/^([A-Z][a-z0-9]*)+$/,F={};function L(J,Z){if(!J)throw new F.ERR_INTERNAL_ASSERTION(Z)}function D(J){let Z="",ie=J.length;const ae="-"===J[0]?1:0;for(;ie>=ae+4;ie-=3)Z=`_${J.slice(ie-3,ie)}${Z}`;return`${J.slice(0,ie)}${Z}`}function j(J,Z,ie){ie||(ie=Error);class ae extends ie{constructor(...de){super(function X(J,Z,ie){if("function"==typeof Z)return L(Z.length<=ie.length,`Code: ${J}; The provided arguments length (${ie.length}) does not match the required ones (${Z.length}).`),Z(...ie);const ae=(Z.match(/%[dfijoOs]/g)||[]).length;return L(ae===ie.length,`Code: ${J}; The provided arguments length (${ie.length}) does not match the required ones (${ae}).`),0===ie.length?Z:d(Z,...ie)}(J,Z,de))}toString(){return`${this.name} [${J}]: ${this.message}`}}Object.defineProperties(ae.prototype,{name:{value:ie.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${J}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),ae.prototype.code=J,ae.prototype[x]=!0,F[J]=ae}function G(J){return Object.defineProperty(J,"name",{value:"__node_internal_"+J.name}),J}class te extends Error{constructor(Z="The operation was aborted",ie=void 0){if(void 0!==ie&&"object"!=typeof ie)throw new F.ERR_INVALID_ARG_TYPE("options","Object",ie);super(Z,ie),this.code="ABORT_ERR",this.name="AbortError"}}j("ERR_ASSERTION","%s",Error),j("ERR_INVALID_ARG_TYPE",(J,Z,ie)=>{L("string"==typeof J,"'name' must be a string"),Array.isArray(Z)||(Z=[Z]);let ae="The ";J.endsWith(" argument")?ae+=`${J} `:ae+=`"${J}" ${J.includes(".")?"property":"argument"} `,ae+="must be ";const se=[],de=[],le=[];for(const xe of Z)L("string"==typeof xe,"All expected entries have to be of type string"),O.includes(xe)?se.push(xe.toLowerCase()):A.test(xe)?de.push(xe):(L("object"!==xe,'The value "object" should be written as "Object"'),le.push(xe));if(de.length>0){const xe=se.indexOf("object");-1!==xe&&(se.splice(se,xe,1),de.push("Object"))}if(se.length>0){switch(se.length){case 1:ae+=`of type ${se[0]}`;break;case 2:ae+=`one of type ${se[0]} or ${se[1]}`;break;default:{const xe=se.pop();ae+=`one of type ${se.join(", ")}, or ${xe}`}}(de.length>0||le.length>0)&&(ae+=" or ")}if(de.length>0){switch(de.length){case 1:ae+=`an instance of ${de[0]}`;break;case 2:ae+=`an instance of ${de[0]} or ${de[1]}`;break;default:{const xe=de.pop();ae+=`an instance of ${de.join(", ")}, or ${xe}`}}le.length>0&&(ae+=" or ")}switch(le.length){case 0:break;case 1:le[0].toLowerCase()!==le[0]&&(ae+="an "),ae+=`${le[0]}`;break;case 2:ae+=`one of ${le[0]} or ${le[1]}`;break;default:{const xe=le.pop();ae+=`one of ${le.join(", ")}, or ${xe}`}}if(null==ie)ae+=`. Received ${ie}`;else if("function"==typeof ie&&ie.name)ae+=`. Received function ${ie.name}`;else if("object"==typeof ie){var be;null!==(be=ie.constructor)&&void 0!==be&&be.name?ae+=`. Received an instance of ${ie.constructor.name}`:ae+=`. Received ${E(ie,{depth:-1})}`}else{let xe=E(ie,{colors:!1});xe.length>25&&(xe=`${xe.slice(0,25)}...`),ae+=`. Received type ${typeof ie} (${xe})`}return ae},TypeError),j("ERR_INVALID_ARG_VALUE",(J,Z,ie="is invalid")=>{let ae=E(Z);return ae.length>128&&(ae=ae.slice(0,128)+"..."),`The ${J.includes(".")?"property":"argument"} '${J}' ${ie}. Received ${ae}`},TypeError),j("ERR_INVALID_RETURN_VALUE",(J,Z,ie)=>{var ae;return`Expected ${J} to be returned from the "${Z}" function but got ${null!=ie&&null!==(ae=ie.constructor)&&void 0!==ae&&ae.name?`instance of ${ie.constructor.name}`:"type "+typeof ie}.`},TypeError),j("ERR_MISSING_ARGS",(...J)=>{let Z;L(J.length>0,"At least one arg needs to be specified");const ie=J.length;switch(J=(Array.isArray(J)?J:[J]).map(ae=>`"${ae}"`).join(" or "),ie){case 1:Z+=`The ${J[0]} argument`;break;case 2:Z+=`The ${J[0]} and ${J[1]} arguments`;break;default:{const ae=J.pop();Z+=`The ${J.join(", ")}, and ${ae} arguments`}}return`${Z} must be specified`},TypeError),j("ERR_OUT_OF_RANGE",(J,Z,ie)=>{let ae;return L(Z,'Missing "range" argument'),Number.isInteger(ie)&&Math.abs(ie)>2**32?ae=D(String(ie)):"bigint"==typeof ie?(ae=String(ie),(ie>2n**32n||ie<-(2n**32n))&&(ae=D(ae)),ae+="n"):ae=E(ie),`The value of "${J}" is out of range. It must be ${Z}. Received ${ae}`},RangeError),j("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),j("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),j("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),j("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),j("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),j("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),j("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),j("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),j("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),j("ERR_STREAM_WRITE_AFTER_END","write after end",Error),j("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),je.exports={AbortError:te,aggregateTwoErrors:G(function re(J,Z){if(J&&Z&&J!==Z){if(Array.isArray(Z.errors))return Z.errors.push(J),Z;const ie=new z([Z,J],Z.message);return ie.code=Z.code,ie}return J||Z}),hideStackFrames:G,codes:F}},56389:je=>{"use strict";je.exports={ArrayIsArray:H=>Array.isArray(H),ArrayPrototypeIncludes:(H,w)=>H.includes(w),ArrayPrototypeIndexOf:(H,w)=>H.indexOf(w),ArrayPrototypeJoin:(H,w)=>H.join(w),ArrayPrototypeMap:(H,w)=>H.map(w),ArrayPrototypePop:(H,w)=>H.pop(w),ArrayPrototypePush:(H,w)=>H.push(w),ArrayPrototypeSlice:(H,w,d)=>H.slice(w,d),Error,FunctionPrototypeCall:(H,w,...d)=>H.call(w,...d),FunctionPrototypeSymbolHasInstance:(H,w)=>Function.prototype[Symbol.hasInstance].call(H,w),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(H,w)=>Object.defineProperties(H,w),ObjectDefineProperty:(H,w,d)=>Object.defineProperty(H,w,d),ObjectGetOwnPropertyDescriptor:(H,w)=>Object.getOwnPropertyDescriptor(H,w),ObjectKeys:H=>Object.keys(H),ObjectSetPrototypeOf:(H,w)=>Object.setPrototypeOf(H,w),Promise,PromisePrototypeCatch:(H,w)=>H.catch(w),PromisePrototypeThen:(H,w,d)=>H.then(w,d),PromiseReject:H=>Promise.reject(H),PromiseResolve:H=>Promise.resolve(H),ReflectApply:Reflect.apply,RegExpPrototypeTest:(H,w)=>H.test(w),SafeSet:Set,String,StringPrototypeSlice:(H,w,d)=>H.slice(w,d),StringPrototypeToLowerCase:H=>H.toLowerCase(),StringPrototypeToUpperCase:H=>H.toUpperCase(),StringPrototypeTrim:H=>H.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(H,w,d)=>H.set(w,d),Boolean,Uint8Array}},13509:(je,H,w)=>{"use strict";var d=w(29293).default;const E=w(68316),{kResistStopPropagation:k,SymbolDispose:z}=w(56389),x=globalThis.AbortSignal||w(9465).AbortSignal,O=globalThis.AbortController||w(9465).AbortController,A=Object.getPrototypeOf(d(function*(){})).constructor,P=globalThis.Blob||E.Blob,F=typeof P<"u"?function(G){return G instanceof P}:function(G){return!1},L=(j,G)=>{if(void 0!==j&&(null===j||"object"!=typeof j||!("aborted"in j)))throw new ERR_INVALID_ARG_TYPE(G,"AbortSignal",j)};class X extends Error{constructor(G){if(!Array.isArray(G))throw new TypeError("Expected input to be an Array, got "+typeof G);let re="";for(let te=0;te<G.length;te++)re+=`    ${G[te].stack}\n`;super(re),this.name="AggregateError",this.errors=G}}je.exports={AggregateError:X,kEmptyObject:Object.freeze({}),once(j){let G=!1;return function(...re){G||(G=!0,j.apply(this,re))}},createDeferredPromise:function(){let j,G;return{promise:new Promise((te,J)=>{j=te,G=J}),resolve:j,reject:G}},promisify:j=>new Promise((G,re)=>{j((te,...J)=>te?re(te):G(...J))}),debuglog:()=>function(){},format:(j,...G)=>j.replace(/%([sdifj])/g,function(...[re,te]){const J=G.shift();return"f"===te?J.toFixed(6):"j"===te?JSON.stringify(J):"s"===te&&"object"==typeof J?`${J.constructor!==Object?J.constructor.name:""} {}`.trim():J.toString()}),inspect(j){switch(typeof j){case"string":if(j.includes("'")){if(!j.includes('"'))return`"${j}"`;if(!j.includes("`")&&!j.includes("${"))return`\`${j}\``}return`'${j}'`;case"number":return isNaN(j)?"NaN":Object.is(j,-0)?String(j):j;case"bigint":return`${String(j)}n`;case"boolean":case"undefined":return String(j);case"object":return"{}"}},types:{isAsyncFunction:j=>j instanceof A,isArrayBufferView:j=>ArrayBuffer.isView(j)},isBlob:F,deprecate:(j,G)=>j,addAbortListener:w(44356).addAbortListener||function(G,re){if(void 0===G)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",G);let te;return L(G,"signal"),((j,G)=>{if("function"!=typeof j)throw new ERR_INVALID_ARG_TYPE("listener","Function",j)})(re),G.aborted?queueMicrotask(()=>re()):(G.addEventListener("abort",re,{__proto__:null,once:!0,[k]:!0}),te=()=>{G.removeEventListener("abort",re)}),{__proto__:null,[z](){var J;null===(J=te)||void 0===J||J()}}},AbortSignalAny:x.any||function(G){if(1===G.length)return G[0];const re=new O,te=()=>re.abort();return G.forEach(J=>{L(J,"signals"),J.addEventListener("abort",te,{once:!0})}),re.signal.addEventListener("abort",()=>{G.forEach(J=>J.removeEventListener("abort",te))},{once:!0}),re.signal}},je.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},33885:(je,H,w)=>{const{Buffer:d}=w(68316),{ObjectDefineProperty:E,ObjectKeys:k,ReflectApply:z}=w(56389),{promisify:{custom:x}}=w(13509),{streamReturningOperators:O,promiseReturningOperators:A}=w(21840),{codes:{ERR_ILLEGAL_CONSTRUCTOR:P}}=w(68154),F=w(373),{setDefaultHighWaterMark:L,getDefaultHighWaterMark:D}=w(18212),{pipeline:X}=w(67843),{destroyer:j}=w(96507),G=w(46017),te=w(74870),J=w(32924),Z=je.exports=w(91242).Stream;Z.isDestroyed=J.isDestroyed,Z.isDisturbed=J.isDisturbed,Z.isErrored=J.isErrored,Z.isReadable=J.isReadable,Z.isWritable=J.isWritable,Z.Readable=w(84553);for(const se of k(O)){let le=function(...be){if(new.target)throw P();return Z.Readable.from(z(de,this,be))};const de=O[se];E(le,"name",{__proto__:null,value:de.name}),E(le,"length",{__proto__:null,value:de.length}),E(Z.Readable.prototype,se,{__proto__:null,value:le,enumerable:!1,configurable:!0,writable:!0})}for(const se of k(A)){let le=function(...xe){if(new.target)throw P();return z(de,this,xe)};const de=A[se];E(le,"name",{__proto__:null,value:de.name}),E(le,"length",{__proto__:null,value:de.length}),E(Z.Readable.prototype,se,{__proto__:null,value:le,enumerable:!1,configurable:!0,writable:!0})}Z.Writable=w(30009),Z.Duplex=w(13323),Z.Transform=w(71981),Z.PassThrough=w(59447),Z.pipeline=X;const{addAbortSignal:ie}=w(57062);Z.addAbortSignal=ie,Z.finished=G,Z.destroy=j,Z.compose=F,Z.setDefaultHighWaterMark=L,Z.getDefaultHighWaterMark=D,E(Z,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>te}),E(X,x,{__proto__:null,enumerable:!0,get:()=>te.pipeline}),E(G,x,{__proto__:null,enumerable:!0,get:()=>te.finished}),Z.Stream=Z,Z._isUint8Array=function(de){return de instanceof Uint8Array},Z._uint8ArrayToBuffer=function(de){return d.from(de.buffer,de.byteOffset,de.byteLength)}},74870:(je,H,w)=>{"use strict";const{ArrayPrototypePop:d,Promise:E}=w(56389),{isIterable:k,isNodeStream:z,isWebStream:x}=w(32924),{pipelineImpl:O}=w(67843),{finished:A}=w(46017);w(33885),je.exports={finished:A,pipeline:function P(...F){return new E((L,D)=>{let X,j;const G=F[F.length-1];if(G&&"object"==typeof G&&!z(G)&&!k(G)&&!x(G)){const re=d(F);X=re.signal,j=re.end}O(F,(re,te)=>{re?D(re):L(te)},{signal:X,end:j})})}}},94787:(je,H,w)=>{H.Level=w(23963).BrowserLevel},81447:je=>{var H=1e3,w=60*H,d=60*w,E=24*d,k=7*E;function P(F,L,D,X){var j=L>=1.5*D;return Math.round(F/D)+" "+X+(j?"s":"")}je.exports=function(F,L){L=L||{};var D=typeof F;if("string"===D&&F.length>0)return function x(F){if(!((F=String(F)).length>100)){var L=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(F);if(L){var D=parseFloat(L[1]);switch((L[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*D;case"weeks":case"week":case"w":return D*k;case"days":case"day":case"d":return D*E;case"hours":case"hour":case"hrs":case"hr":case"h":return D*d;case"minutes":case"minute":case"mins":case"min":case"m":return D*w;case"seconds":case"second":case"secs":case"sec":case"s":return D*H;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return D;default:return}}}}(F);if("number"===D&&isFinite(F))return L.long?function A(F){var L=Math.abs(F);return L>=E?P(F,L,E,"day"):L>=d?P(F,L,d,"hour"):L>=w?P(F,L,w,"minute"):L>=H?P(F,L,H,"second"):F+" ms"}(F):function O(F){var L=Math.abs(F);return L>=E?Math.round(F/E)+"d":L>=d?Math.round(F/d)+"h":L>=w?Math.round(F/w)+"m":L>=H?Math.round(F/H)+"s":F+"ms"}(F);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(F))}},1424:(je,H,w)=>{w(23963)},44514:je=>{var H=1e3,w=60*H,d=60*w,E=24*d,k=7*E;function P(F,L,D,X){var j=L>=1.5*D;return Math.round(F/D)+" "+X+(j?"s":"")}je.exports=function(F,L){L=L||{};var D=typeof F;if("string"===D&&F.length>0)return function x(F){if(!((F=String(F)).length>100)){var L=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(F);if(L){var D=parseFloat(L[1]);switch((L[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*D;case"weeks":case"week":case"w":return D*k;case"days":case"day":case"d":return D*E;case"hours":case"hour":case"hrs":case"hr":case"h":return D*d;case"minutes":case"minute":case"mins":case"min":case"m":return D*w;case"seconds":case"second":case"secs":case"sec":case"s":return D*H;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return D;default:return}}}}(F);if("number"===D&&isFinite(F))return L.long?function A(F){var L=Math.abs(F);return L>=E?P(F,L,E,"day"):L>=d?P(F,L,d,"hour"):L>=w?P(F,L,w,"minute"):L>=H?P(F,L,H,"second"):F+" ms"}(F):function O(F){var L=Math.abs(F);return L>=E?Math.round(F/E)+"d":L>=d?Math.round(F/d)+"h":L>=w?Math.round(F/w)+"m":L>=H?Math.round(F/H)+"s":F+"ms"}(F);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(F))}},89565:(je,H,w)=>{"use strict";const d=w(13981),E=w(22020),k="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;H.Buffer=A,H.SlowBuffer=function Z(N){return+N!=N&&(N=0),A.alloc(+N)},H.INSPECT_MAX_BYTES=50;const z=2147483647;function O(N){if(N>z)throw new RangeError('The value "'+N+'" is invalid for option "size"');const _=new Uint8Array(N);return Object.setPrototypeOf(_,A.prototype),_}function A(N,_,m){if("number"==typeof N){if("string"==typeof _)throw new TypeError('The "string" argument must be of type string. Received type number');return D(N)}return P(N,_,m)}function P(N,_,m){if("string"==typeof N)return function X(N,_){if(("string"!=typeof _||""===_)&&(_="utf8"),!A.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const m=0|ie(N,_);let U=O(m);const ne=U.write(N,_);return ne!==m&&(U=U.slice(0,ne)),U}(N,_);if(ArrayBuffer.isView(N))return function G(N){if(Fe(N,Uint8Array)){const _=new Uint8Array(N);return re(_.buffer,_.byteOffset,_.byteLength)}return j(N)}(N);if(null==N)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(Fe(N,ArrayBuffer)||N&&Fe(N.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Fe(N,SharedArrayBuffer)||N&&Fe(N.buffer,SharedArrayBuffer)))return re(N,_,m);if("number"==typeof N)throw new TypeError('The "value" argument must not be of type number. Received type number');const U=N.valueOf&&N.valueOf();if(null!=U&&U!==N)return A.from(U,_,m);const ne=function te(N){if(A.isBuffer(N)){const _=0|J(N.length),m=O(_);return 0===m.length||N.copy(m,0,0,_),m}return void 0!==N.length?"number"!=typeof N.length||_t(N.length)?O(0):j(N):"Buffer"===N.type&&Array.isArray(N.data)?j(N.data):void 0}(N);if(ne)return ne;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof N[Symbol.toPrimitive])return A.from(N[Symbol.toPrimitive]("string"),_,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}function F(N){if("number"!=typeof N)throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function D(N){return F(N),O(N<0?0:0|J(N))}function j(N){const _=N.length<0?0:0|J(N.length),m=O(_);for(let U=0;U<_;U+=1)m[U]=255&N[U];return m}function re(N,_,m){if(_<0||N.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<_+(m||0))throw new RangeError('"length" is outside of buffer bounds');let U;return U=void 0===_&&void 0===m?new Uint8Array(N):void 0===m?new Uint8Array(N,_):new Uint8Array(N,_,m),Object.setPrototypeOf(U,A.prototype),U}function J(N){if(N>=z)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+z.toString(16)+" bytes");return 0|N}function ie(N,_){if(A.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||Fe(N,ArrayBuffer))return N.byteLength;if("string"!=typeof N)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);const m=N.length,U=arguments.length>2&&!0===arguments[2];if(!U&&0===m)return 0;let ne=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return oe(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*m;case"hex":return m>>>1;case"base64":return Re(N).length;default:if(ne)return U?-1:oe(N).length;_=(""+_).toLowerCase(),ne=!0}}function ae(N,_,m){let U=!1;if((void 0===_||_<0)&&(_=0),_>this.length||((void 0===m||m>this.length)&&(m=this.length),m<=0)||(m>>>=0)<=(_>>>=0))return"";for(N||(N="utf8");;)switch(N){case"hex":return S(this,_,m);case"utf8":case"utf-8":return y(this,_,m);case"ascii":return T(this,_,m);case"latin1":case"binary":return B(this,_,m);case"base64":return f(this,_,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,_,m);default:if(U)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),U=!0}}function se(N,_,m){const U=N[_];N[_]=N[m],N[m]=U}function de(N,_,m,U,ne){if(0===N.length)return-1;if("string"==typeof m?(U=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),_t(m=+m)&&(m=ne?0:N.length-1),m<0&&(m=N.length+m),m>=N.length){if(ne)return-1;m=N.length-1}else if(m<0){if(!ne)return-1;m=0}if("string"==typeof _&&(_=A.from(_,U)),A.isBuffer(_))return 0===_.length?-1:le(N,_,m,U,ne);if("number"==typeof _)return _&=255,"function"==typeof Uint8Array.prototype.indexOf?ne?Uint8Array.prototype.indexOf.call(N,_,m):Uint8Array.prototype.lastIndexOf.call(N,_,m):le(N,[_],m,U,ne);throw new TypeError("val must be string, number or Buffer")}function le(N,_,m,U,ne){let gt,ge=1,Ae=N.length,tt=_.length;if(void 0!==U&&("ucs2"===(U=String(U).toLowerCase())||"ucs-2"===U||"utf16le"===U||"utf-16le"===U)){if(N.length<2||_.length<2)return-1;ge=2,Ae/=2,tt/=2,m/=2}function Bt(It,Zt){return 1===ge?It[Zt]:It.readUInt16BE(Zt*ge)}if(ne){let It=-1;for(gt=m;gt<Ae;gt++)if(Bt(N,gt)===Bt(_,-1===It?0:gt-It)){if(-1===It&&(It=gt),gt-It+1===tt)return It*ge}else-1!==It&&(gt-=gt-It),It=-1}else for(m+tt>Ae&&(m=Ae-tt),gt=m;gt>=0;gt--){let It=!0;for(let Zt=0;Zt<tt;Zt++)if(Bt(N,gt+Zt)!==Bt(_,Zt)){It=!1;break}if(It)return gt}return-1}function be(N,_,m,U){m=Number(m)||0;const ne=N.length-m;U?(U=Number(U))>ne&&(U=ne):U=ne;const ge=_.length;let Ae;for(U>ge/2&&(U=ge/2),Ae=0;Ae<U;++Ae){const tt=parseInt(_.substr(2*Ae,2),16);if(_t(tt))return Ae;N[m+Ae]=tt}return Ae}function xe(N,_,m,U){return $e(oe(_,N.length-m),N,m,U)}function ke(N,_,m,U){return $e(function fe(N){const _=[];for(let m=0;m<N.length;++m)_.push(255&N.charCodeAt(m));return _}(_),N,m,U)}function C(N,_,m,U){return $e(Re(_),N,m,U)}function a(N,_,m,U){return $e(function Ee(N,_){let m,U,ne;const ge=[];for(let Ae=0;Ae<N.length&&!((_-=2)<0);++Ae)m=N.charCodeAt(Ae),U=m>>8,ne=m%256,ge.push(ne),ge.push(U);return ge}(_,N.length-m),N,m,U)}function f(N,_,m){return d.fromByteArray(0===_&&m===N.length?N:N.slice(_,m))}function y(N,_,m){m=Math.min(N.length,m);const U=[];let ne=_;for(;ne<m;){const ge=N[ne];let Ae=null,tt=ge>239?4:ge>223?3:ge>191?2:1;if(ne+tt<=m){let Bt,gt,It,Zt;switch(tt){case 1:ge<128&&(Ae=ge);break;case 2:Bt=N[ne+1],128==(192&Bt)&&(Zt=(31&ge)<<6|63&Bt,Zt>127&&(Ae=Zt));break;case 3:Bt=N[ne+1],gt=N[ne+2],128==(192&Bt)&&128==(192&gt)&&(Zt=(15&ge)<<12|(63&Bt)<<6|63&gt,Zt>2047&&(Zt<55296||Zt>57343)&&(Ae=Zt));break;case 4:Bt=N[ne+1],gt=N[ne+2],It=N[ne+3],128==(192&Bt)&&128==(192&gt)&&128==(192&It)&&(Zt=(15&ge)<<18|(63&Bt)<<12|(63&gt)<<6|63&It,Zt>65535&&Zt<1114112&&(Ae=Zt))}}null===Ae?(Ae=65533,tt=1):Ae>65535&&(Ae-=65536,U.push(Ae>>>10&1023|55296),Ae=56320|1023&Ae),U.push(Ae),ne+=tt}return function M(N){const _=N.length;if(_<=g)return String.fromCharCode.apply(String,N);let m="",U=0;for(;U<_;)m+=String.fromCharCode.apply(String,N.slice(U,U+=g));return m}(U)}H.kMaxLength=z,!(A.TYPED_ARRAY_SUPPORT=function x(){try{const N=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(N,_),42===N.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(N,_,m){return P(N,_,m)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(N,_,m){return function L(N,_,m){return F(N),N<=0?O(N):void 0!==_?"string"==typeof m?O(N).fill(_,m):O(N).fill(_):O(N)}(N,_,m)},A.allocUnsafe=function(N){return D(N)},A.allocUnsafeSlow=function(N){return D(N)},A.isBuffer=function(_){return null!=_&&!0===_._isBuffer&&_!==A.prototype},A.compare=function(_,m){if(Fe(_,Uint8Array)&&(_=A.from(_,_.offset,_.byteLength)),Fe(m,Uint8Array)&&(m=A.from(m,m.offset,m.byteLength)),!A.isBuffer(_)||!A.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===m)return 0;let U=_.length,ne=m.length;for(let ge=0,Ae=Math.min(U,ne);ge<Ae;++ge)if(_[ge]!==m[ge]){U=_[ge],ne=m[ge];break}return U<ne?-1:ne<U?1:0},A.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(_,m){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(0===_.length)return A.alloc(0);let U;if(void 0===m)for(m=0,U=0;U<_.length;++U)m+=_[U].length;const ne=A.allocUnsafe(m);let ge=0;for(U=0;U<_.length;++U){let Ae=_[U];if(Fe(Ae,Uint8Array))ge+Ae.length>ne.length?(A.isBuffer(Ae)||(Ae=A.from(Ae)),Ae.copy(ne,ge)):Uint8Array.prototype.set.call(ne,Ae,ge);else{if(!A.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(ne,ge)}ge+=Ae.length}return ne},A.byteLength=ie,A.prototype._isBuffer=!0,A.prototype.swap16=function(){const _=this.length;if(_%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<_;m+=2)se(this,m,m+1);return this},A.prototype.swap32=function(){const _=this.length;if(_%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<_;m+=4)se(this,m,m+3),se(this,m+1,m+2);return this},A.prototype.swap64=function(){const _=this.length;if(_%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<_;m+=8)se(this,m,m+7),se(this,m+1,m+6),se(this,m+2,m+5),se(this,m+3,m+4);return this},A.prototype.toLocaleString=A.prototype.toString=function(){const _=this.length;return 0===_?"":0===arguments.length?y(this,0,_):ae.apply(this,arguments)},A.prototype.equals=function(_){if(!A.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_||0===A.compare(this,_)},A.prototype.inspect=function(){let _="";const m=H.INSPECT_MAX_BYTES;return _=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(_+=" ... "),"<Buffer "+_+">"},k&&(A.prototype[k]=A.prototype.inspect),A.prototype.compare=function(_,m,U,ne,ge){if(Fe(_,Uint8Array)&&(_=A.from(_,_.offset,_.byteLength)),!A.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(void 0===m&&(m=0),void 0===U&&(U=_?_.length:0),void 0===ne&&(ne=0),void 0===ge&&(ge=this.length),m<0||U>_.length||ne<0||ge>this.length)throw new RangeError("out of range index");if(ne>=ge&&m>=U)return 0;if(ne>=ge)return-1;if(m>=U)return 1;if(this===_)return 0;let Ae=(ge>>>=0)-(ne>>>=0),tt=(U>>>=0)-(m>>>=0);const Bt=Math.min(Ae,tt),gt=this.slice(ne,ge),It=_.slice(m,U);for(let Zt=0;Zt<Bt;++Zt)if(gt[Zt]!==It[Zt]){Ae=gt[Zt],tt=It[Zt];break}return Ae<tt?-1:tt<Ae?1:0},A.prototype.includes=function(_,m,U){return-1!==this.indexOf(_,m,U)},A.prototype.indexOf=function(_,m,U){return de(this,_,m,U,!0)},A.prototype.lastIndexOf=function(_,m,U){return de(this,_,m,U,!1)},A.prototype.write=function(_,m,U,ne){if(void 0===m)ne="utf8",U=this.length,m=0;else if(void 0===U&&"string"==typeof m)ne=m,U=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m>>>=0,isFinite(U)?(U>>>=0,void 0===ne&&(ne="utf8")):(ne=U,U=void 0)}const ge=this.length-m;if((void 0===U||U>ge)&&(U=ge),_.length>0&&(U<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");let Ae=!1;for(;;)switch(ne){case"hex":return be(this,_,m,U);case"utf8":case"utf-8":return xe(this,_,m,U);case"ascii":case"latin1":case"binary":return ke(this,_,m,U);case"base64":return C(this,_,m,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,_,m,U);default:if(Ae)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),Ae=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const g=4096;function T(N,_,m){let U="";m=Math.min(N.length,m);for(let ne=_;ne<m;++ne)U+=String.fromCharCode(127&N[ne]);return U}function B(N,_,m){let U="";m=Math.min(N.length,m);for(let ne=_;ne<m;++ne)U+=String.fromCharCode(N[ne]);return U}function S(N,_,m){const U=N.length;(!_||_<0)&&(_=0),(!m||m<0||m>U)&&(m=U);let ne="";for(let ge=_;ge<m;++ge)ne+=We[N[ge]];return ne}function s(N,_,m){const U=N.slice(_,m);let ne="";for(let ge=0;ge<U.length-1;ge+=2)ne+=String.fromCharCode(U[ge]+256*U[ge+1]);return ne}function v(N,_,m){if(N%1!=0||N<0)throw new RangeError("offset is not uint");if(N+_>m)throw new RangeError("Trying to access beyond buffer length")}function W(N,_,m,U,ne,ge){if(!A.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>ne||_<ge)throw new RangeError('"value" argument is out of bounds');if(m+U>N.length)throw new RangeError("Index out of range")}function K(N,_,m,U,ne){ye(_,U,ne,N,m,7);let ge=Number(_&BigInt(4294967295));N[m++]=ge,ge>>=8,N[m++]=ge,ge>>=8,N[m++]=ge,ge>>=8,N[m++]=ge;let Ae=Number(_>>BigInt(32)&BigInt(4294967295));return N[m++]=Ae,Ae>>=8,N[m++]=Ae,Ae>>=8,N[m++]=Ae,Ae>>=8,N[m++]=Ae,m}function ee(N,_,m,U,ne){ye(_,U,ne,N,m,7);let ge=Number(_&BigInt(4294967295));N[m+7]=ge,ge>>=8,N[m+6]=ge,ge>>=8,N[m+5]=ge,ge>>=8,N[m+4]=ge;let Ae=Number(_>>BigInt(32)&BigInt(4294967295));return N[m+3]=Ae,Ae>>=8,N[m+2]=Ae,Ae>>=8,N[m+1]=Ae,Ae>>=8,N[m]=Ae,m+8}function ce(N,_,m,U,ne,ge){if(m+U>N.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function _e(N,_,m,U,ne){return _=+_,m>>>=0,ne||ce(N,0,m,4),E.write(N,_,m,U,23,4),m+4}function Oe(N,_,m,U,ne){return _=+_,m>>>=0,ne||ce(N,0,m,8),E.write(N,_,m,U,52,8),m+8}A.prototype.slice=function(_,m){const U=this.length;(_=~~_)<0?(_+=U)<0&&(_=0):_>U&&(_=U),(m=void 0===m?U:~~m)<0?(m+=U)<0&&(m=0):m>U&&(m=U),m<_&&(m=_);const ne=this.subarray(_,m);return Object.setPrototypeOf(ne,A.prototype),ne},A.prototype.readUintLE=A.prototype.readUIntLE=function(_,m,U){_>>>=0,m>>>=0,U||v(_,m,this.length);let ne=this[_],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[_+Ae]*ge;return ne},A.prototype.readUintBE=A.prototype.readUIntBE=function(_,m,U){_>>>=0,m>>>=0,U||v(_,m,this.length);let ne=this[_+--m],ge=1;for(;m>0&&(ge*=256);)ne+=this[_+--m]*ge;return ne},A.prototype.readUint8=A.prototype.readUInt8=function(_,m){return _>>>=0,m||v(_,1,this.length),this[_]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(_,m){return _>>>=0,m||v(_,2,this.length),this[_]|this[_+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(_,m){return _>>>=0,m||v(_,2,this.length),this[_]<<8|this[_+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(_,m){return _>>>=0,m||v(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+16777216*this[_+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(_,m){return _>>>=0,m||v(_,4,this.length),16777216*this[_]+(this[_+1]<<16|this[_+2]<<8|this[_+3])},A.prototype.readBigUInt64LE=Le(function(_){De(_>>>=0,"offset");const m=this[_],U=this[_+7];(void 0===m||void 0===U)&&pe(_,this.length-8);const ne=m+256*this[++_]+65536*this[++_]+this[++_]*2**24,ge=this[++_]+256*this[++_]+65536*this[++_]+U*2**24;return BigInt(ne)+(BigInt(ge)<<BigInt(32))}),A.prototype.readBigUInt64BE=Le(function(_){De(_>>>=0,"offset");const m=this[_],U=this[_+7];(void 0===m||void 0===U)&&pe(_,this.length-8);const ne=m*2**24+65536*this[++_]+256*this[++_]+this[++_],ge=this[++_]*2**24+65536*this[++_]+256*this[++_]+U;return(BigInt(ne)<<BigInt(32))+BigInt(ge)}),A.prototype.readIntLE=function(_,m,U){_>>>=0,m>>>=0,U||v(_,m,this.length);let ne=this[_],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[_+Ae]*ge;return ge*=128,ne>=ge&&(ne-=Math.pow(2,8*m)),ne},A.prototype.readIntBE=function(_,m,U){_>>>=0,m>>>=0,U||v(_,m,this.length);let ne=m,ge=1,Ae=this[_+--ne];for(;ne>0&&(ge*=256);)Ae+=this[_+--ne]*ge;return ge*=128,Ae>=ge&&(Ae-=Math.pow(2,8*m)),Ae},A.prototype.readInt8=function(_,m){return _>>>=0,m||v(_,1,this.length),128&this[_]?-1*(255-this[_]+1):this[_]},A.prototype.readInt16LE=function(_,m){_>>>=0,m||v(_,2,this.length);const U=this[_]|this[_+1]<<8;return 32768&U?4294901760|U:U},A.prototype.readInt16BE=function(_,m){_>>>=0,m||v(_,2,this.length);const U=this[_+1]|this[_]<<8;return 32768&U?4294901760|U:U},A.prototype.readInt32LE=function(_,m){return _>>>=0,m||v(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},A.prototype.readInt32BE=function(_,m){return _>>>=0,m||v(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},A.prototype.readBigInt64LE=Le(function(_){De(_>>>=0,"offset");const m=this[_],U=this[_+7];return(void 0===m||void 0===U)&&pe(_,this.length-8),(BigInt(this[_+4]+256*this[_+5]+65536*this[_+6]+(U<<24))<<BigInt(32))+BigInt(m+256*this[++_]+65536*this[++_]+this[++_]*2**24)}),A.prototype.readBigInt64BE=Le(function(_){De(_>>>=0,"offset");const m=this[_],U=this[_+7];(void 0===m||void 0===U)&&pe(_,this.length-8);const ne=(m<<24)+65536*this[++_]+256*this[++_]+this[++_];return(BigInt(ne)<<BigInt(32))+BigInt(this[++_]*2**24+65536*this[++_]+256*this[++_]+U)}),A.prototype.readFloatLE=function(_,m){return _>>>=0,m||v(_,4,this.length),E.read(this,_,!0,23,4)},A.prototype.readFloatBE=function(_,m){return _>>>=0,m||v(_,4,this.length),E.read(this,_,!1,23,4)},A.prototype.readDoubleLE=function(_,m){return _>>>=0,m||v(_,8,this.length),E.read(this,_,!0,52,8)},A.prototype.readDoubleBE=function(_,m){return _>>>=0,m||v(_,8,this.length),E.read(this,_,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(_,m,U,ne){_=+_,m>>>=0,U>>>=0,ne||W(this,_,m,U,Math.pow(2,8*U)-1,0);let ge=1,Ae=0;for(this[m]=255&_;++Ae<U&&(ge*=256);)this[m+Ae]=_/ge&255;return m+U},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(_,m,U,ne){_=+_,m>>>=0,U>>>=0,ne||W(this,_,m,U,Math.pow(2,8*U)-1,0);let ge=U-1,Ae=1;for(this[m+ge]=255&_;--ge>=0&&(Ae*=256);)this[m+ge]=_/Ae&255;return m+U},A.prototype.writeUint8=A.prototype.writeUInt8=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,1,255,0),this[m]=255&_,m+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,2,65535,0),this[m]=255&_,this[m+1]=_>>>8,m+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,2,65535,0),this[m]=_>>>8,this[m+1]=255&_,m+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,4,4294967295,0),this[m+3]=_>>>24,this[m+2]=_>>>16,this[m+1]=_>>>8,this[m]=255&_,m+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,4,4294967295,0),this[m]=_>>>24,this[m+1]=_>>>16,this[m+2]=_>>>8,this[m+3]=255&_,m+4},A.prototype.writeBigUInt64LE=Le(function(_,m=0){return K(this,_,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=Le(function(_,m=0){return ee(this,_,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(_,m,U,ne){if(_=+_,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,_,m,U,Bt-1,-Bt)}let ge=0,Ae=1,tt=0;for(this[m]=255&_;++ge<U&&(Ae*=256);)_<0&&0===tt&&0!==this[m+ge-1]&&(tt=1),this[m+ge]=(_/Ae|0)-tt&255;return m+U},A.prototype.writeIntBE=function(_,m,U,ne){if(_=+_,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,_,m,U,Bt-1,-Bt)}let ge=U-1,Ae=1,tt=0;for(this[m+ge]=255&_;--ge>=0&&(Ae*=256);)_<0&&0===tt&&0!==this[m+ge+1]&&(tt=1),this[m+ge]=(_/Ae|0)-tt&255;return m+U},A.prototype.writeInt8=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,1,127,-128),_<0&&(_=255+_+1),this[m]=255&_,m+1},A.prototype.writeInt16LE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,2,32767,-32768),this[m]=255&_,this[m+1]=_>>>8,m+2},A.prototype.writeInt16BE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,2,32767,-32768),this[m]=_>>>8,this[m+1]=255&_,m+2},A.prototype.writeInt32LE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,4,2147483647,-2147483648),this[m]=255&_,this[m+1]=_>>>8,this[m+2]=_>>>16,this[m+3]=_>>>24,m+4},A.prototype.writeInt32BE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[m]=_>>>24,this[m+1]=_>>>16,this[m+2]=_>>>8,this[m+3]=255&_,m+4},A.prototype.writeBigInt64LE=Le(function(_,m=0){return K(this,_,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=Le(function(_,m=0){return ee(this,_,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeFloatLE=function(_,m,U){return _e(this,_,m,!0,U)},A.prototype.writeFloatBE=function(_,m,U){return _e(this,_,m,!1,U)},A.prototype.writeDoubleLE=function(_,m,U){return Oe(this,_,m,!0,U)},A.prototype.writeDoubleBE=function(_,m,U){return Oe(this,_,m,!1,U)},A.prototype.copy=function(_,m,U,ne){if(!A.isBuffer(_))throw new TypeError("argument should be a Buffer");if(U||(U=0),!ne&&0!==ne&&(ne=this.length),m>=_.length&&(m=_.length),m||(m=0),ne>0&&ne<U&&(ne=U),ne===U||0===_.length||0===this.length)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),_.length-m<ne-U&&(ne=_.length-m+U);const ge=ne-U;return this===_&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(m,U,ne):Uint8Array.prototype.set.call(_,this.subarray(U,ne),m),ge},A.prototype.fill=function(_,m,U,ne){if("string"==typeof _){if("string"==typeof m?(ne=m,m=0,U=this.length):"string"==typeof U&&(ne=U,U=this.length),void 0!==ne&&"string"!=typeof ne)throw new TypeError("encoding must be a string");if("string"==typeof ne&&!A.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(1===_.length){const Ae=_.charCodeAt(0);("utf8"===ne&&Ae<128||"latin1"===ne)&&(_=Ae)}}else"number"==typeof _?_&=255:"boolean"==typeof _&&(_=Number(_));if(m<0||this.length<m||this.length<U)throw new RangeError("Out of range index");if(U<=m)return this;let ge;if(m>>>=0,U=void 0===U?this.length:U>>>0,_||(_=0),"number"==typeof _)for(ge=m;ge<U;++ge)this[ge]=_;else{const Ae=A.isBuffer(_)?_:A.from(_,ne),tt=Ae.length;if(0===tt)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(ge=0;ge<U-m;++ge)this[ge+m]=Ae[ge%tt]}return this};const Ve={};function Se(N,_,m){Ve[N]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${N}]`,delete this.name}get code(){return N}set code(ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ne,writable:!0})}toString(){return`${this.name} [${N}]: ${this.message}`}}}function we(N){let _="",m=N.length;const U="-"===N[0]?1:0;for(;m>=U+4;m-=3)_=`_${N.slice(m-3,m)}${_}`;return`${N.slice(0,m)}${_}`}function ye(N,_,m,U,ne,ge){if(N>m||N<_){const Ae="bigint"==typeof _?"n":"";let tt;throw tt=ge>3?0===_||_===BigInt(0)?`>= 0${Ae} and < 2${Ae} ** ${8*(ge+1)}${Ae}`:`>= -(2${Ae} ** ${8*(ge+1)-1}${Ae}) and < 2 ** ${8*(ge+1)-1}${Ae}`:`>= ${_}${Ae} and <= ${m}${Ae}`,new Ve.ERR_OUT_OF_RANGE("value",tt,N)}!function Ue(N,_,m){De(_,"offset"),(void 0===N[_]||void 0===N[_+m])&&pe(_,N.length-(m+1))}(U,ne,ge)}function De(N,_){if("number"!=typeof N)throw new Ve.ERR_INVALID_ARG_TYPE(_,"number",N)}function pe(N,_,m){throw Math.floor(N)!==N?(De(N,m),new Ve.ERR_OUT_OF_RANGE(m||"offset","an integer",N)):_<0?new Ve.ERR_BUFFER_OUT_OF_BOUNDS:new Ve.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${_}`,N)}Se("ERR_BUFFER_OUT_OF_BOUNDS",function(N){return N?`${N} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Se("ERR_INVALID_ARG_TYPE",function(N,_){return`The "${N}" argument must be of type number. Received type ${typeof _}`},TypeError),Se("ERR_OUT_OF_RANGE",function(N,_,m){let U=`The value of "${N}" is out of range.`,ne=m;return Number.isInteger(m)&&Math.abs(m)>2**32?ne=we(String(m)):"bigint"==typeof m&&(ne=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(ne=we(ne)),ne+="n"),U+=` It must be ${_}. Received ${ne}`,U},RangeError);const ue=/[^+/0-9A-Za-z-_]/g;function oe(N,_){let m;_=_||1/0;const U=N.length;let ne=null;const ge=[];for(let Ae=0;Ae<U;++Ae){if(m=N.charCodeAt(Ae),m>55295&&m<57344){if(!ne){if(m>56319){(_-=3)>-1&&ge.push(239,191,189);continue}if(Ae+1===U){(_-=3)>-1&&ge.push(239,191,189);continue}ne=m;continue}if(m<56320){(_-=3)>-1&&ge.push(239,191,189),ne=m;continue}m=65536+(ne-55296<<10|m-56320)}else ne&&(_-=3)>-1&&ge.push(239,191,189);if(ne=null,m<128){if((_-=1)<0)break;ge.push(m)}else if(m<2048){if((_-=2)<0)break;ge.push(m>>6|192,63&m|128)}else if(m<65536){if((_-=3)<0)break;ge.push(m>>12|224,m>>6&63|128,63&m|128)}else{if(!(m<1114112))throw new Error("Invalid code point");if((_-=4)<0)break;ge.push(m>>18|240,m>>12&63|128,m>>6&63|128,63&m|128)}}return ge}function Re(N){return d.toByteArray(function Q(N){if((N=(N=N.split("=")[0]).trim().replace(ue,"")).length<2)return"";for(;N.length%4!=0;)N+="=";return N}(N))}function $e(N,_,m,U){let ne;for(ne=0;ne<U&&!(ne+m>=_.length||ne>=N.length);++ne)_[ne+m]=N[ne];return ne}function Fe(N,_){return N instanceof _||null!=N&&null!=N.constructor&&null!=N.constructor.name&&N.constructor.name===_.name}function _t(N){return N!=N}const We=function(){const N="0123456789abcdef",_=new Array(256);for(let m=0;m<16;++m){const U=16*m;for(let ne=0;ne<16;++ne)_[U+ne]=N[m]+N[ne]}return _}();function Le(N){return typeof BigInt>"u"?lt:N}function lt(){throw new Error("BigInt not supported")}},24785:(je,H,w)=>{"use strict";const{AbortError:d,codes:E}=w(65109),{isNodeStream:k,isWebStream:z,kControllerErrorFunction:x}=w(51233),O=w(44268),{ERR_INVALID_ARG_TYPE:A}=E;je.exports.addAbortSignal=function(L,D){if(((F,L)=>{if("object"!=typeof F||!("aborted"in F))throw new A("signal","AbortSignal",F)})(L),!k(D)&&!z(D))throw new A("stream",["ReadableStream","WritableStream","Stream"],D);return je.exports.addAbortSignalNoValidate(L,D)},je.exports.addAbortSignalNoValidate=function(F,L){if("object"!=typeof F||!("aborted"in F))return L;const D=k(L)?()=>{L.destroy(new d(void 0,{cause:F.reason}))}:()=>{L[x](new d(void 0,{cause:F.reason}))};return F.aborted?D():(F.addEventListener("abort",D),O(L,()=>F.removeEventListener("abort",D))),L}},58579:(je,H,w)=>{"use strict";const{StringPrototypeSlice:d,SymbolIterator:E,TypedArrayPrototypeSet:k,Uint8Array:z}=w(43856),{Buffer:x}=w(89565),{inspect:O}=w(55830);je.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(P){const F={data:P,next:null};this.length>0?this.tail.next=F:this.head=F,this.tail=F,++this.length}unshift(P){const F={data:P,next:this.head};0===this.length&&(this.tail=F),this.head=F,++this.length}shift(){if(0===this.length)return;const P=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,P}clear(){this.head=this.tail=null,this.length=0}join(P){if(0===this.length)return"";let F=this.head,L=""+F.data;for(;null!==(F=F.next);)L+=P+F.data;return L}concat(P){if(0===this.length)return x.alloc(0);const F=x.allocUnsafe(P>>>0);let L=this.head,D=0;for(;L;)k(F,L.data,D),D+=L.data.length,L=L.next;return F}consume(P,F){const L=this.head.data;if(P<L.length){const D=L.slice(0,P);return this.head.data=L.slice(P),D}return P===L.length?this.shift():F?this._getString(P):this._getBuffer(P)}first(){return this.head.data}*[E](){for(let P=this.head;P;P=P.next)yield P.data}_getString(P){let F="",L=this.head,D=0;do{const X=L.data;if(!(P>X.length)){P===X.length?(F+=X,++D,this.head=L.next?L.next:this.tail=null):(F+=d(X,0,P),this.head=L,L.data=d(X,P));break}F+=X,P-=X.length,++D}while(null!==(L=L.next));return this.length-=D,F}_getBuffer(P){const F=x.allocUnsafe(P),L=P;let D=this.head,X=0;do{const j=D.data;if(!(P>j.length)){P===j.length?(k(F,j,L-P),++X,this.head=D.next?D.next:this.tail=null):(k(F,new z(j.buffer,j.byteOffset,P),L-P),this.head=D,D.data=j.slice(P));break}k(F,j,L-P),P-=j.length,++X}while(null!==(D=D.next));return this.length-=X,F}[Symbol.for("nodejs.util.inspect.custom")](P,F){return O(this,{...F,depth:0,customInspect:!1})}}},5464:(je,H,w)=>{"use strict";var d=w(29293).default;const{pipeline:E}=w(96208),k=w(97464),{destroyer:z}=w(45078),{isNodeStream:x,isReadable:O,isWritable:A,isWebStream:P,isTransformStream:F,isWritableStream:L,isReadableStream:D}=w(51233),{AbortError:X,codes:{ERR_INVALID_ARG_VALUE:j,ERR_MISSING_ARGS:G}}=w(65109),re=w(44268);je.exports=function(...J){if(0===J.length)throw new G("streams");if(1===J.length)return k.from(J[0]);const Z=[...J];if("function"==typeof J[0]&&(J[0]=k.from(J[0])),"function"==typeof J[J.length-1]){const f=J.length-1;J[f]=k.from(J[f])}for(let f=0;f<J.length;++f)if(x(J[f])||P(J[f])){if(f<J.length-1&&!(O(J[f])||D(J[f])||F(J[f])))throw new j(`streams[${f}]`,Z[f],"must be readable");if(f>0&&!(A(J[f])||L(J[f])||F(J[f])))throw new j(`streams[${f}]`,Z[f],"must be writable")}let ie,ae,se,de,le;const xe=J[0],ke=E(J,function be(f){const y=de;de=null,y?y(f):f?le.destroy(f):!a&&!C&&le.destroy()}),C=!!(A(xe)||L(xe)||F(xe)),a=!!(O(ke)||D(ke)||F(ke));if(le=new k({writableObjectMode:!(null==xe||!xe.writableObjectMode),readableObjectMode:!(null==ke||!ke.writableObjectMode),writable:C,readable:a}),C){if(x(xe))le._write=function(y,g,M){xe.write(y,g)?M():ie=M},le._final=function(y){xe.end(),ae=y},xe.on("drain",function(){if(ie){const y=ie;ie=null,y()}});else if(P(xe)){const g=(F(xe)?xe.writable:xe).getWriter();le._write=function(){var M=d(function*(T,B,S){try{yield g.ready,g.write(T).catch(()=>{}),S()}catch(s){S(s)}});return function(T,B,S){return M.apply(this,arguments)}}(),le._final=function(){var M=d(function*(T){try{yield g.ready,g.close().catch(()=>{}),ae=T}catch(B){T(B)}});return function(T){return M.apply(this,arguments)}}()}const f=F(ke)?ke.readable:ke;re(f,()=>{if(ae){const y=ae;ae=null,y()}})}if(a)if(x(ke))ke.on("readable",function(){if(se){const f=se;se=null,f()}}),ke.on("end",function(){le.push(null)}),le._read=function(){for(;;){const f=ke.read();if(null===f)return void(se=le._read);if(!le.push(f))return}};else if(P(ke)){const y=(F(ke)?ke.readable:ke).getReader();le._read=d(function*(){for(;;)try{const{value:g,done:M}=yield y.read();if(!le.push(g))return;if(M)return void le.push(null)}catch{return}})}return le._destroy=function(f,y){!f&&null!==de&&(f=new X),se=null,ie=null,ae=null,null===de?y(f):(de=y,x(ke)&&z(ke,f))},le}},45078:(je,H,w)=>{"use strict";const d=w(40573),{aggregateTwoErrors:E,codes:{ERR_MULTIPLE_CALLBACK:k},AbortError:z}=w(65109),{Symbol:x}=w(43856),{kDestroyed:O,isDestroyed:A,isFinished:P,isServerRequest:F}=w(51233),L=x("kDestroy"),D=x("kConstruct");function X(C,a,f){C&&(a&&!a.errored&&(a.errored=C),f&&!f.errored&&(f.errored=C))}function G(C,a,f){let y=!1;function g(M){if(y)return;y=!0;const T=C._readableState,B=C._writableState;X(M,B,T),B&&(B.closed=!0),T&&(T.closed=!0),"function"==typeof f&&f(M),M?d.nextTick(re,C,M):d.nextTick(te,C)}try{C._destroy(a||null,g)}catch(M){g(M)}}function re(C,a){J(C,a),te(C)}function te(C){const a=C._readableState,f=C._writableState;f&&(f.closeEmitted=!0),a&&(a.closeEmitted=!0),(null!=f&&f.emitClose||null!=a&&a.emitClose)&&C.emit("close")}function J(C,a){const f=C._readableState,y=C._writableState;null!=y&&y.errorEmitted||null!=f&&f.errorEmitted||(y&&(y.errorEmitted=!0),f&&(f.errorEmitted=!0),C.emit("error",a))}function ie(C,a,f){const y=C._readableState,g=C._writableState;if(null!=g&&g.destroyed||null!=y&&y.destroyed)return this;null!=y&&y.autoDestroy||null!=g&&g.autoDestroy?C.destroy(a):a&&(g&&!g.errored&&(g.errored=a),y&&!y.errored&&(y.errored=a),f?d.nextTick(J,C,a):J(C,a))}function se(C){let a=!1;function f(y){if(a)return void ie(C,y??new k);a=!0;const g=C._readableState,M=C._writableState,T=M||g;g&&(g.constructed=!0),M&&(M.constructed=!0),T.destroyed?C.emit(L,y):y?ie(C,y,!0):d.nextTick(de,C)}try{C._construct(y=>{d.nextTick(f,y)})}catch(y){d.nextTick(f,y)}}function de(C){C.emit(D)}function le(C){return C?.setHeader&&"function"==typeof C.abort}function be(C){C.emit("close")}function xe(C,a){C.emit("error",a),d.nextTick(be,C)}je.exports={construct:function ae(C,a){if("function"!=typeof C._construct)return;const f=C._readableState,y=C._writableState;f&&(f.constructed=!1),y&&(y.constructed=!1),C.once(D,a),!(C.listenerCount(D)>1)&&d.nextTick(se,C)},destroyer:function ke(C,a){!C||A(C)||(!a&&!P(C)&&(a=new z),F(C)?(C.socket=null,C.destroy(a)):le(C)?C.abort():le(C.req)?C.req.abort():"function"==typeof C.destroy?C.destroy(a):"function"==typeof C.close?C.close():a?d.nextTick(xe,C,a):d.nextTick(be,C),C.destroyed||(C[O]=!0))},destroy:function j(C,a){const f=this._readableState,y=this._writableState,g=y||f;return null!=y&&y.destroyed||null!=f&&f.destroyed?("function"==typeof a&&a(),this):(X(C,y,f),y&&(y.destroyed=!0),f&&(f.destroyed=!0),g.constructed?G(this,C,a):this.once(L,function(M){G(this,E(M,C),a)}),this)},undestroy:function Z(){const C=this._readableState,a=this._writableState;C&&(C.constructed=!0,C.closed=!1,C.closeEmitted=!1,C.destroyed=!1,C.errored=null,C.errorEmitted=!1,C.reading=!1,C.ended=!1===C.readable,C.endEmitted=!1===C.readable),a&&(a.constructed=!0,a.destroyed=!1,a.closed=!1,a.closeEmitted=!1,a.errored=null,a.errorEmitted=!1,a.finalCalled=!1,a.prefinished=!1,a.ended=!1===a.writable,a.ending=!1===a.writable,a.finished=!1===a.writable)},errorOrDestroy:ie}},97464:(je,H,w)=>{"use strict";const{ObjectDefineProperties:d,ObjectGetOwnPropertyDescriptor:E,ObjectKeys:k,ObjectSetPrototypeOf:z}=w(43856);je.exports=A;const x=w(29710),O=w(40258);z(A.prototype,x.prototype),z(A,x);{const D=k(O.prototype);for(let X=0;X<D.length;X++){const j=D[X];A.prototype[j]||(A.prototype[j]=O.prototype[j])}}function A(D){if(!(this instanceof A))return new A(D);x.call(this,D),O.call(this,D),D?(this.allowHalfOpen=!1!==D.allowHalfOpen,!1===D.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===D.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let P,L;function F(){return void 0===P&&(P={}),P}d(A.prototype,{writable:{__proto__:null,...E(O.prototype,"writable")},writableHighWaterMark:{__proto__:null,...E(O.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...E(O.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...E(O.prototype,"writableBuffer")},writableLength:{__proto__:null,...E(O.prototype,"writableLength")},writableFinished:{__proto__:null,...E(O.prototype,"writableFinished")},writableCorked:{__proto__:null,...E(O.prototype,"writableCorked")},writableEnded:{__proto__:null,...E(O.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...E(O.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(D){this._readableState&&this._writableState&&(this._readableState.destroyed=D,this._writableState.destroyed=D)}}}),A.fromWeb=function(D,X){return F().newStreamDuplexFromReadableWritablePair(D,X)},A.toWeb=function(D){return F().newReadableWritablePairFromDuplex(D)},A.from=function(D){return L||(L=w(56840)),L(D,"body")}},56840:(je,H,w)=>{var d=w(29293).default,E=w(53344).default,k=w(42958).default;const z=w(40573),x=w(89565),{isReadable:O,isWritable:A,isIterable:P,isNodeStream:F,isReadableNodeStream:L,isWritableNodeStream:D,isDuplexNodeStream:X}=w(51233),j=w(44268),{AbortError:G,codes:{ERR_INVALID_ARG_TYPE:re,ERR_INVALID_RETURN_VALUE:te}}=w(65109),{destroyer:J}=w(45078),Z=w(97464),ie=w(29710),{createDeferredPromise:ae}=w(55830),se=w(24246),de=globalThis.Blob||x.Blob,le=typeof de<"u"?function(y){return y instanceof de}:function(y){return!1},be=globalThis.AbortController||w(9465).AbortController,{FunctionPrototypeCall:xe}=w(43856);class ke extends Z{constructor(y){super(y),!1===y?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===y?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function a(f){const y=f.readable&&"function"!=typeof f.readable.read?ie.wrap(f.readable):f.readable,g=f.writable;let B,S,s,v,W,M=!!O(y),T=!!A(g);function K(ee){const ce=v;v=null,ce?ce(ee):ee&&W.destroy(ee)}return W=new ke({readableObjectMode:!(null==y||!y.readableObjectMode),writableObjectMode:!(null==g||!g.writableObjectMode),readable:M,writable:T}),T&&(j(g,ee=>{T=!1,ee&&J(y,ee),K(ee)}),W._write=function(ee,ce,_e){g.write(ee,ce)?_e():B=_e},W._final=function(ee){g.end(),S=ee},g.on("drain",function(){if(B){const ee=B;B=null,ee()}}),g.on("finish",function(){if(S){const ee=S;S=null,ee()}})),M&&(j(y,ee=>{M=!1,ee&&J(y,ee),K(ee)}),y.on("readable",function(){if(s){const ee=s;s=null,ee()}}),y.on("end",function(){W.push(null)}),W._read=function(){for(;;){const ee=y.read();if(null===ee)return void(s=W._read);if(!W.push(ee))return}}),W._destroy=function(ee,ce){!ee&&null!==v&&(ee=new G),s=null,B=null,S=null,null===v?ce(ee):(v=ce,J(g,ee),J(y,ee))},W}je.exports=function f(y,g){if(X(y))return y;if(L(y))return a({readable:y});if(D(y))return a({writable:y});if(F(y))return a({writable:!1,readable:!1});if("function"==typeof y){const{value:T,write:B,final:S,destroy:s}=function C(f){let{promise:y,resolve:g}=ae();const M=new be,T=M.signal;return{value:f(k(function*(){for(;;){const S=y;y=null;const{chunk:s,done:v,cb:W}=yield E(S);if(z.nextTick(W),v)return;if(T.aborted)throw new G(void 0,{cause:T.reason});({promise:y,resolve:g}=ae()),yield s}})(),{signal:T}),write(S,s,v){const W=g;g=null,W({chunk:S,done:!1,cb:v})},final(S){const s=g;g=null,s({done:!0,cb:S})},destroy(S,s){M.abort(),s(S)}}}(y);if(P(T))return se(ke,T,{objectMode:!0,write:B,final:S,destroy:s});const v=T?.then;if("function"==typeof v){let W;const K=xe(v,T,ee=>{if(null!=ee)throw new te("nully","body",ee)},ee=>{J(W,ee)});return W=new ke({objectMode:!0,readable:!1,write:B,final(ee){S(d(function*(){try{yield K,z.nextTick(ee,null)}catch(ce){z.nextTick(ee,ce)}}))},destroy:s})}throw new te("Iterable, AsyncIterable or AsyncFunction",g,T)}if(le(y))return f(y.arrayBuffer());if(P(y))return se(ke,y,{objectMode:!0,writable:!1});if("object"==typeof y?.writable||"object"==typeof y?.readable)return a({readable:null!=y&&y.readable?L(y?.readable)?y?.readable:f(y.readable):void 0,writable:null!=y&&y.writable?D(y?.writable)?y?.writable:f(y.writable):void 0});const M=y?.then;if("function"==typeof M){let T;return xe(M,y,B=>{null!=B&&T.push(B),T.push(null)},B=>{J(T,B)}),T=new ke({objectMode:!0,writable:!1,read(){}})}throw new re(g,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],y)}},44268:(je,H,w)=>{const d=w(40573),{AbortError:E,codes:k}=w(65109),{ERR_INVALID_ARG_TYPE:z,ERR_STREAM_PREMATURE_CLOSE:x}=k,{kEmptyObject:O,once:A}=w(55830),{validateAbortSignal:P,validateFunction:F,validateObject:L,validateBoolean:D}=w(44323),{Promise:X,PromisePrototypeThen:j}=w(43856),{isClosed:G,isReadable:re,isReadableNodeStream:te,isReadableStream:J,isReadableFinished:Z,isReadableErrored:ie,isWritable:ae,isWritableNodeStream:se,isWritableStream:de,isWritableFinished:le,isWritableErrored:be,isNodeStream:xe,willEmitClose:ke,kIsClosedPromise:C}=w(51233),f=()=>{};function y(T,B,S){var s,v;if(2===arguments.length?(S=B,B=O):null==B?B=O:L(B,"options"),F(S,"callback"),P(B.signal,"options.signal"),S=A(S),J(T)||de(T))return function g(T,B,S){let s=!1,v=f;if(B.signal)if(v=()=>{s=!0,S.call(T,new E(void 0,{cause:B.signal.reason}))},B.signal.aborted)d.nextTick(v);else{const K=S;S=A((...ee)=>{B.signal.removeEventListener("abort",v),K.apply(T,ee)}),B.signal.addEventListener("abort",v)}const W=(...K)=>{s||d.nextTick(()=>S.apply(T,K))};return j(T[C].promise,W,W),f}(T,B,S);if(!xe(T))throw new z("stream",["ReadableStream","WritableStream","Stream"],T);const W=null!==(s=B.readable)&&void 0!==s?s:te(T),K=null!==(v=B.writable)&&void 0!==v?v:se(T),ee=T._writableState,ce=T._readableState,_e=()=>{T.writable||Se()};let Oe=ke(T)&&te(T)===W&&se(T)===K,Ve=le(T,!1);const Se=()=>{Ve=!0,T.destroyed&&(Oe=!1),(!Oe||T.readable&&!W)&&(!W||we)&&S.call(T)};let we=Z(T,!1);const Ue=()=>{we=!0,T.destroyed&&(Oe=!1),(!Oe||T.writable&&!K)&&(!K||Ve)&&S.call(T)},ye=fe=>{S.call(T,fe)};let De=G(T);const pe=()=>{De=!0;const fe=be(T)||ie(T);return fe&&"boolean"!=typeof fe?S.call(T,fe):W&&!we&&te(T,!0)&&!Z(T,!1)?S.call(T,new x):!K||Ve||le(T,!1)?void S.call(T):S.call(T,new x)},ue=()=>{De=!0;const fe=be(T)||ie(T);if(fe&&"boolean"!=typeof fe)return S.call(T,fe);S.call(T)},Q=()=>{T.req.on("finish",Se)};!function a(T){return T.setHeader&&"function"==typeof T.abort}(T)?K&&!ee&&(T.on("end",_e),T.on("close",_e)):(T.on("complete",Se),Oe||T.on("abort",pe),T.req?Q():T.on("request",Q)),!Oe&&"boolean"==typeof T.aborted&&T.on("aborted",pe),T.on("end",Ue),T.on("finish",Se),!1!==B.error&&T.on("error",ye),T.on("close",pe),De?d.nextTick(pe):null!=ee&&ee.errorEmitted||null!=ce&&ce.errorEmitted?Oe||d.nextTick(ue):(!W&&(!Oe||re(T))&&(Ve||!1===ae(T))||!K&&(!Oe||ae(T))&&(we||!1===re(T))||ce&&T.req&&T.aborted)&&d.nextTick(ue);const oe=()=>{S=f,T.removeListener("aborted",pe),T.removeListener("complete",Se),T.removeListener("abort",pe),T.removeListener("request",Q),T.req&&T.req.removeListener("finish",Se),T.removeListener("end",_e),T.removeListener("close",_e),T.removeListener("finish",Se),T.removeListener("end",Ue),T.removeListener("error",ye),T.removeListener("close",pe)};if(B.signal&&!De){const fe=()=>{const Ee=S;oe(),Ee.call(T,new E(void 0,{cause:B.signal.reason}))};if(B.signal.aborted)d.nextTick(fe);else{const Ee=S;S=A((...Re)=>{B.signal.removeEventListener("abort",fe),Ee.apply(T,Re)}),B.signal.addEventListener("abort",fe)}}return oe}je.exports=y,je.exports.finished=function M(T,B){var S;let s=!1;return null===B&&(B=O),null!==(S=B)&&void 0!==S&&S.cleanup&&(D(B.cleanup,"cleanup"),s=B.cleanup),new X((v,W)=>{const K=y(T,B,ee=>{s&&K(),ee?W(ee):v()})})}},24246:(je,H,w)=>{"use strict";var d=w(29293).default;const E=w(40573),{PromisePrototypeThen:k,SymbolAsyncIterator:z,SymbolIterator:x}=w(43856),{Buffer:O}=w(89565),{ERR_INVALID_ARG_TYPE:A,ERR_STREAM_NULL_VALUES:P}=w(65109).codes;je.exports=function F(L,D,X){let j,G;if("string"==typeof D||D instanceof O)return new L({objectMode:!0,...X,read(){this.push(D),this.push(null)}});if(D&&D[z])G=!0,j=D[z]();else{if(!D||!D[x])throw new A("iterable",["Iterable"],D);G=!1,j=D[x]()}const re=new L({objectMode:!0,highWaterMark:1,...X});let te=!1;function Z(){return(Z=d(function*(se){if(null!=se&&"function"==typeof j.throw){const{value:be,done:xe}=yield j.throw(se);if(yield be,xe)return}if("function"==typeof j.return){const{value:be}=yield j.return();yield be}})).apply(this,arguments)}function ae(){return(ae=d(function*(){for(;;){try{const{value:se,done:de}=G?yield j.next():j.next();if(de)re.push(null);else{const le=se&&"function"==typeof se.then?yield se:se;if(null===le)throw te=!1,new P;if(re.push(le))continue;te=!1}}catch(se){re.destroy(se)}break}})).apply(this,arguments)}return re._read=function(){te||(te=!0,function ie(){ae.apply(this,arguments)}())},re._destroy=function(se,de){k(function J(se){return Z.apply(this,arguments)}(se),()=>E.nextTick(de,se),le=>E.nextTick(de,le||se))},re}},2649:(je,H,w)=>{"use strict";const{ArrayIsArray:d,ObjectSetPrototypeOf:E}=w(43856),{EventEmitter:k}=w(44356);function z(O){k.call(this,O)}function x(O,A,P){if("function"==typeof O.prependListener)return O.prependListener(A,P);O._events&&O._events[A]?d(O._events[A])?O._events[A].unshift(P):O._events[A]=[P,O._events[A]]:O.on(A,P)}E(z.prototype,k.prototype),E(z,k),z.prototype.pipe=function(O,A){const P=this;function F(te){O.writable&&!1===O.write(te)&&P.pause&&P.pause()}function L(){P.readable&&P.resume&&P.resume()}P.on("data",F),O.on("drain",L),!O._isStdio&&(!A||!1!==A.end)&&(P.on("end",X),P.on("close",j));let D=!1;function X(){D||(D=!0,O.end())}function j(){D||(D=!0,"function"==typeof O.destroy&&O.destroy())}function G(te){re(),0===k.listenerCount(this,"error")&&this.emit("error",te)}function re(){P.removeListener("data",F),O.removeListener("drain",L),P.removeListener("end",X),P.removeListener("close",j),P.removeListener("error",G),O.removeListener("error",G),P.removeListener("end",re),P.removeListener("close",re),O.removeListener("close",re)}return x(P,"error",G),x(O,"error",G),P.on("end",re),P.on("close",re),O.on("close",re),O.emit("pipe",P),O},je.exports={Stream:z,prependListener:x}},37325:(je,H,w)=>{"use strict";var d=w(29293).default,E=w(93513).default,k=w(82881).default,z=w(53344).default,x=w(42958).default;const O=globalThis.AbortController||w(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:A,ERR_INVALID_ARG_TYPE:P,ERR_MISSING_ARGS:F,ERR_OUT_OF_RANGE:L},AbortError:D}=w(65109),{validateAbortSignal:X,validateInteger:j,validateObject:G}=w(44323),re=w(43856).Symbol("kWeak"),{finished:te}=w(44268),J=w(5464),{addAbortSignalNoValidate:Z}=w(24785),{isWritable:ie,isNodeStream:ae}=w(51233),{ArrayPrototypePush:se,MathFloor:de,Number:le,NumberIsNaN:be,Promise:xe,PromiseReject:ke,PromisePrototypeThen:C,Symbol:a}=w(43856),f=a("kEmpty"),y=a("kEof");function M(Q,oe){if("function"!=typeof Q)throw new P("fn",["Function","AsyncFunction"],Q);null!=oe&&G(oe,"options"),null!=oe?.signal&&X(oe.signal,"options.signal");let fe=1;return null!=oe?.concurrency&&(fe=de(oe.concurrency)),j(fe,"concurrency",1),function(){var Ee=x(function*(){var $e,Fe;const _t=new O,We=this,Le=[],lt=_t.signal,N={signal:lt},_=()=>_t.abort();null!=oe&&null!==($e=oe.signal)&&void 0!==$e&&$e.aborted&&_(),null==oe||null===(Fe=oe.signal)||void 0===Fe||Fe.addEventListener("abort",_);let m,U,ne=!1;function ge(){ne=!0}function tt(){return(tt=d(function*(){try{var It,Bt=!1,gt=!1;try{for(var mn,Zt=k(We);Bt=!(mn=yield Zt.next()).done;Bt=!1){let An=mn.value;var dn;if(ne)return;if(lt.aborted)throw new D;try{An=Q(An,N)}catch(en){An=ke(en)}An!==f&&("function"==typeof(null===(dn=An)||void 0===dn?void 0:dn.catch)&&An.catch(ge),Le.push(An),m&&(m(),m=null),!ne&&Le.length&&Le.length>=fe&&(yield new xe(en=>{U=en})))}}catch(An){gt=!0,It=An}finally{try{Bt&&null!=Zt.return&&(yield Zt.return())}finally{if(gt)throw It}}Le.push(y)}catch(An){const en=ke(An);C(en,void 0,ge),Le.push(en)}finally{var ar;ne=!0,m&&(m(),m=null),null==oe||null===(ar=oe.signal)||void 0===ar||ar.removeEventListener("abort",_)}})).apply(this,arguments)}!function Ae(){tt.apply(this,arguments)}();try{for(;;){for(;Le.length>0;){const Bt=yield z(Le[0]);if(Bt===y)return;if(lt.aborted)throw new D;Bt!==f&&(yield Bt),Le.shift(),U&&(U(),U=null)}yield z(new xe(Bt=>{m=Bt}))}}finally{_t.abort(),ne=!0,U&&(U(),U=null)}});return function Re(){return Ee.apply(this,arguments)}}().call(this)}function B(Q){return S.apply(this,arguments)}function S(){return(S=d(function*(Q,oe=void 0){var Re,fe=!1,Ee=!1;try{for(var $e=k(_e.call(this,Q,oe));fe=!(yield $e.next()).done;fe=!1)return!0}catch(_t){Ee=!0,Re=_t}finally{try{fe&&null!=$e.return&&(yield $e.return())}finally{if(Ee)throw Re}}return!1})).apply(this,arguments)}function v(){return(v=d(function*(Q,oe=void 0){if("function"!=typeof Q)throw new P("fn",["Function","AsyncFunction"],Q);return!(yield B.call(this,d(function*(...fe){return!(yield Q(...fe))}),oe))})).apply(this,arguments)}function K(){return(K=d(function*(Q,oe){var Re,fe=!1,Ee=!1;try{for(var Fe,$e=k(_e.call(this,Q,oe));fe=!(Fe=yield $e.next()).done;fe=!1)return Fe.value}catch(_t){Ee=!0,Re=_t}finally{try{fe&&null!=$e.return&&(yield $e.return())}finally{if(Ee)throw Re}}})).apply(this,arguments)}function ce(){return ce=d(function*(Q,oe){if("function"!=typeof Q)throw new P("fn",["Function","AsyncFunction"],Q);function Ee(){return(Ee=d(function*(Le,lt){return yield Q(Le,lt),f})).apply(this,arguments)}var Fe,Re=!1,$e=!1;try{for(var _t=k(M.call(this,function fe(Le,lt){return Ee.apply(this,arguments)},oe));Re=!(yield _t.next()).done;Re=!1);}catch(Le){$e=!0,Fe=Le}finally{try{Re&&null!=_t.return&&(yield _t.return())}finally{if($e)throw Fe}}}),ce.apply(this,arguments)}function _e(Q,oe){if("function"!=typeof Q)throw new P("fn",["Function","AsyncFunction"],Q);function Ee(){return(Ee=d(function*(Re,$e){return(yield Q(Re,$e))?Re:f})).apply(this,arguments)}return M.call(this,function fe(Re,$e){return Ee.apply(this,arguments)},oe)}class Oe extends F{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function Se(){return Se=d(function*(Q,oe,fe){var Ee;if("function"!=typeof Q)throw new P("reducer",["Function","AsyncFunction"],Q);null!=fe&&G(fe,"options"),null!=fe?.signal&&X(fe.signal,"options.signal");let Re=arguments.length>1;if(null!=fe&&null!==(Ee=fe.signal)&&void 0!==Ee&&Ee.aborted){const U=new D(void 0,{cause:fe.signal.reason});throw this.once("error",()=>{}),yield te(this.destroy(U)),U}const $e=new O,Fe=$e.signal;null!=fe&&fe.signal&&fe.signal.addEventListener("abort",()=>$e.abort(),{once:!0,[re]:this});let _t=!1;try{var lt,We=!1,Le=!1;try{for(var _,N=k(this);We=!(_=yield N.next()).done;We=!1){const U=_.value;var m;if(_t=!0,null!=fe&&null!==(m=fe.signal)&&void 0!==m&&m.aborted)throw new D;Re?oe=yield Q(oe,U,{signal:Fe}):(oe=U,Re=!0)}}catch(U){Le=!0,lt=U}finally{try{We&&null!=N.return&&(yield N.return())}finally{if(Le)throw lt}}if(!_t&&!Re)throw new Oe}finally{$e.abort()}return oe}),Se.apply(this,arguments)}function Ue(){return(Ue=d(function*(Q){null!=Q&&G(Q,"options"),null!=Q?.signal&&X(Q.signal,"options.signal");const oe=[];var Re,fe=!1,Ee=!1;try{for(var Fe,$e=k(this);fe=!(Fe=yield $e.next()).done;fe=!1){const We=Fe.value;var _t;if(null!=Q&&null!==(_t=Q.signal)&&void 0!==_t&&_t.aborted)throw new D(void 0,{cause:Q.signal.reason});se(oe,We)}}catch(We){Ee=!0,Re=We}finally{try{fe&&null!=$e.return&&(yield $e.return())}finally{if(Ee)throw Re}}return oe})).apply(this,arguments)}function De(Q){if(Q=le(Q),be(Q))return 0;if(Q<0)throw new L("number",">= 0",Q);return Q}je.exports.streamReturningOperators={asIndexedPairs:function T(Q=void 0){return null!=Q&&G(Q,"options"),null!=Q?.signal&&X(Q.signal,"options.signal"),function(){var oe=x(function*(){let Ee=0;var Fe,Re=!1,$e=!1;try{for(var We,_t=k(this);Re=!(We=yield z(_t.next())).done;Re=!1){const lt=We.value;var Le;if(null!=Q&&null!==(Le=Q.signal)&&void 0!==Le&&Le.aborted)throw new D({cause:Q.signal.reason});yield[Ee++,lt]}}catch(lt){$e=!0,Fe=lt}finally{try{Re&&null!=_t.return&&(yield z(_t.return()))}finally{if($e)throw Fe}}});return function fe(){return oe.apply(this,arguments)}}().call(this)},drop:function pe(Q,oe=void 0){return null!=oe&&G(oe,"options"),null!=oe?.signal&&X(oe.signal,"options.signal"),Q=De(Q),function(){var fe=x(function*(){var Re;if(null!=oe&&null!==(Re=oe.signal)&&void 0!==Re&&Re.aborted)throw new D;var _t,$e=!1,Fe=!1;try{for(var Le,We=k(this);$e=!(Le=yield z(We.next())).done;$e=!1){const N=Le.value;var lt;if(null!=oe&&null!==(lt=oe.signal)&&void 0!==lt&&lt.aborted)throw new D;Q--<=0&&(yield N)}}catch(N){Fe=!0,_t=N}finally{try{$e&&null!=We.return&&(yield z(We.return()))}finally{if(Fe)throw _t}}});return function Ee(){return fe.apply(this,arguments)}}().call(this)},filter:_e,flatMap:function ye(Q,oe){const fe=M.call(this,Q,oe);return function(){var Ee=x(function*(){var _t,$e=!1,Fe=!1;try{for(var Le,We=k(fe);$e=!(Le=yield z(We.next())).done;$e=!1){const lt=Le.value;yield*E(k(lt),z)}}catch(lt){Fe=!0,_t=lt}finally{try{$e&&null!=We.return&&(yield z(We.return()))}finally{if(Fe)throw _t}}});return function Re(){return Ee.apply(this,arguments)}}().call(this)},map:M,take:function ue(Q,oe=void 0){return null!=oe&&G(oe,"options"),null!=oe?.signal&&X(oe.signal,"options.signal"),Q=De(Q),function(){var fe=x(function*(){var Re;if(null!=oe&&null!==(Re=oe.signal)&&void 0!==Re&&Re.aborted)throw new D;var _t,$e=!1,Fe=!1;try{for(var Le,We=k(this);$e=!(Le=yield z(We.next())).done;$e=!1){const N=Le.value;var lt;if(null!=oe&&null!==(lt=oe.signal)&&void 0!==lt&&lt.aborted)throw new D;if(!(Q-- >0))return;yield N}}catch(N){Fe=!0,_t=N}finally{try{$e&&null!=We.return&&(yield z(We.return()))}finally{if(Fe)throw _t}}});return function Ee(){return fe.apply(this,arguments)}}().call(this)},compose:function g(Q,oe){if(null!=oe&&G(oe,"options"),null!=oe?.signal&&X(oe.signal,"options.signal"),ae(Q)&&!ie(Q))throw new A("stream",Q,"must be writable");const fe=J(this,Q);return null!=oe&&oe.signal&&Z(oe.signal,fe),fe}},je.exports.promiseReturningOperators={every:function s(Q){return v.apply(this,arguments)},forEach:function ee(Q,oe){return ce.apply(this,arguments)},reduce:function Ve(Q,oe,fe){return Se.apply(this,arguments)},toArray:function we(Q){return Ue.apply(this,arguments)},some:B,find:function W(Q,oe){return K.apply(this,arguments)}}},70874:(je,H,w)=>{"use strict";const{ObjectSetPrototypeOf:d}=w(43856);je.exports=k;const E=w(66344);function k(z){if(!(this instanceof k))return new k(z);E.call(this,z)}d(k.prototype,E.prototype),d(k,E),k.prototype._transform=function(z,x,O){O(null,z)}},96208:(je,H,w)=>{var d=w(29293).default,E=w(42958).default,k=w(53344).default,z=w(93513).default,x=w(82881).default;const O=w(40573),{ArrayIsArray:A,Promise:P,SymbolAsyncIterator:F}=w(43856),L=w(44268),{once:D}=w(55830),X=w(45078),j=w(97464),{aggregateTwoErrors:G,codes:{ERR_INVALID_ARG_TYPE:re,ERR_INVALID_RETURN_VALUE:te,ERR_MISSING_ARGS:J,ERR_STREAM_DESTROYED:Z,ERR_STREAM_PREMATURE_CLOSE:ie},AbortError:ae}=w(65109),{validateFunction:se,validateAbortSignal:de}=w(44323),{isIterable:le,isReadable:be,isReadableNodeStream:xe,isNodeStream:ke,isTransformStream:C,isWebStream:a,isReadableStream:f,isReadableEnded:y}=w(51233),g=globalThis.AbortController||w(9465).AbortController;let M,T;function B(we,Ue,ye){let De=!1;return we.on("close",()=>{De=!0}),{destroy:ue=>{De||(De=!0,X.destroyer(we,ue||new Z("pipe")))},cleanup:L(we,{readable:Ue,writable:ye},ue=>{De=!ue})}}function s(we){if(le(we))return we;if(xe(we))return function v(we){return W.apply(this,arguments)}(we);throw new re("val",["Readable","Iterable","AsyncIterable"],we)}function W(){return(W=E(function*(we){T||(T=w(29710)),yield*z(x(T.prototype[F].call(we)),k)})).apply(this,arguments)}function K(we,Ue,ye,De){return ee.apply(this,arguments)}function ee(){return(ee=d(function*(we,Ue,ye,{end:De}){let pe,ue=null;const Q=We=>{if(We&&(pe=We),ue){const Le=ue;ue=null,Le()}},oe=()=>new P((We,Le)=>{pe?Le(pe):ue=()=>{pe?Le(pe):We()}});Ue.on("drain",Q);const fe=L(Ue,{readable:!1},Q);try{Ue.writableNeedDrain&&(yield oe());var $e,Ee=!1,Re=!1;try{for(var _t,Fe=x(we);Ee=!(_t=yield Fe.next()).done;Ee=!1)Ue.write(_t.value)||(yield oe())}catch(We){Re=!0,$e=We}finally{try{Ee&&null!=Fe.return&&(yield Fe.return())}finally{if(Re)throw $e}}De&&Ue.end(),yield oe(),ye()}catch(We){ye(pe!==We?G(pe,We):We)}finally{fe(),Ue.off("drain",Q)}})).apply(this,arguments)}function ce(we,Ue,ye,De){return _e.apply(this,arguments)}function _e(){return(_e=d(function*(we,Ue,ye,{end:De}){C(Ue)&&(Ue=Ue.writable);const pe=Ue.getWriter();try{var oe,ue=!1,Q=!1;try{for(var Ee,fe=x(we);ue=!(Ee=yield fe.next()).done;ue=!1){const Re=Ee.value;yield pe.ready,pe.write(Re).catch(()=>{})}}catch(Re){Q=!0,oe=Re}finally{try{ue&&null!=fe.return&&(yield fe.return())}finally{if(Q)throw oe}}yield pe.ready,De&&(yield pe.close()),ye()}catch(Re){try{yield pe.abort(Re),ye(Re)}catch($e){ye($e)}}})).apply(this,arguments)}function Ve(we,Ue,ye){if(1===we.length&&A(we[0])&&(we=we[0]),we.length<2)throw new J("streams");const De=new g,pe=De.signal,ue=ye?.signal,Q=[];function oe(){_t(new ae)}let fe,Ee;de(ue,"options.signal"),ue?.addEventListener("abort",oe);const Re=[];let We,$e=0;function Fe(_){_t(_,0==--$e)}function _t(_,m){if(_&&(!fe||"ERR_STREAM_PREMATURE_CLOSE"===fe.code)&&(fe=_),fe||m){for(;Re.length;)Re.shift()(fe);ue?.removeEventListener("abort",oe),De.abort(),m&&(fe||Q.forEach(U=>U()),O.nextTick(Ue,fe,Ee))}}for(let _=0;_<we.length;_++){const m=we[_],U=_<we.length-1,ne=_>0,ge=U||!1!==ye?.end,Ae=_===we.length-1;if(ke(m)){let tt=function(Bt){Bt&&"AbortError"!==Bt.name&&"ERR_STREAM_PREMATURE_CLOSE"!==Bt.code&&Fe(Bt)};if(ge){const{destroy:Bt,cleanup:gt}=B(m,U,ne);Re.push(Bt),be(m)&&Ae&&Q.push(gt)}m.on("error",tt),be(m)&&Ae&&Q.push(()=>{m.removeListener("error",tt)})}if(0===_)if("function"==typeof m){if(We=m({signal:pe}),!le(We))throw new te("Iterable, AsyncIterable or Stream","source",We)}else We=le(m)||xe(m)||C(m)?m:j.from(m);else if("function"==typeof m){var Le;if(We=C(We)?s(null===(Le=We)||void 0===Le?void 0:Le.readable):s(We),We=m(We,{signal:pe}),U){if(!le(We,!0))throw new te("AsyncIterable",`transform[${_-1}]`,We)}else{var lt;M||(M=w(70874));const tt=new M({objectMode:!0}),Bt=null===(lt=We)||void 0===lt?void 0:lt.then;if("function"==typeof Bt)$e++,Bt.call(We,Zt=>{Ee=Zt,null!=Zt&&tt.write(Zt),ge&&tt.end(),O.nextTick(Fe)},Zt=>{tt.destroy(Zt),O.nextTick(Fe,Zt)});else if(le(We,!0))$e++,K(We,tt,Fe,{end:ge});else{if(!f(We)&&!C(We))throw new te("AsyncIterable or Promise","destination",We);$e++,K(We.readable||We,tt,Fe,{end:ge})}We=tt;const{destroy:gt,cleanup:It}=B(We,!1,!0);Re.push(gt),Ae&&Q.push(It)}}else if(ke(m)){if(xe(We)){$e+=2;const tt=Se(We,m,Fe,{end:ge});be(m)&&Ae&&Q.push(tt)}else if(C(We)||f(We))$e++,K(We.readable||We,m,Fe,{end:ge});else{if(!le(We))throw new re("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],We);$e++,K(We,m,Fe,{end:ge})}We=m}else if(a(m)){if(xe(We))$e++,ce(s(We),m,Fe,{end:ge});else if(f(We)||le(We))$e++,ce(We,m,Fe,{end:ge});else{if(!C(We))throw new re("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],We);$e++,ce(We.readable,m,Fe,{end:ge})}We=m}else We=j.from(m)}return(null!=pe&&pe.aborted||null!=ue&&ue.aborted)&&O.nextTick(oe),We}function Se(we,Ue,ye,{end:De}){let pe=!1;if(Ue.on("close",()=>{pe||ye(new ie)}),we.pipe(Ue,{end:!1}),De){let Q=function(){pe=!0,Ue.end()};y(we)?O.nextTick(Q):we.once("end",Q)}else ye();return L(we,{readable:!0,writable:!1},Q=>{const oe=we._readableState;Q&&"ERR_STREAM_PREMATURE_CLOSE"===Q.code&&oe&&oe.ended&&!oe.errored&&!oe.errorEmitted?we.once("end",ye).once("error",ye):ye(Q)}),L(Ue,{readable:!1,writable:!0},ye)}je.exports={pipelineImpl:Ve,pipeline:function Oe(...we){return Ve(we,D(function S(we){return se(we[we.length-1],"streams[stream.length - 1]"),we.pop()}(we)))}}},29710:(je,H,w)=>{var d=w(53344).default,E=w(42958).default;const k=w(40573),{ArrayPrototypeIndexOf:z,NumberIsInteger:x,NumberIsNaN:O,NumberParseInt:A,ObjectDefineProperties:P,ObjectKeys:F,ObjectSetPrototypeOf:L,Promise:D,SafeSet:X,SymbolAsyncIterator:j,Symbol:G}=w(43856);je.exports=K,K.ReadableState=W;const{EventEmitter:re}=w(44356),{Stream:te,prependListener:J}=w(2649),{Buffer:Z}=w(89565),{addAbortSignal:ie}=w(24785),ae=w(44268);let se=w(55830).debuglog("stream",m=>{se=m});const de=w(58579),le=w(45078),{getHighWaterMark:be,getDefaultHighWaterMark:xe}=w(31081),{aggregateTwoErrors:ke,codes:{ERR_INVALID_ARG_TYPE:C,ERR_METHOD_NOT_IMPLEMENTED:a,ERR_OUT_OF_RANGE:f,ERR_STREAM_PUSH_AFTER_EOF:y,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:g}}=w(65109),{validateObject:M}=w(44323),T=G("kPaused"),{StringDecoder:B}=w(78454),S=w(24246);L(K.prototype,te.prototype),L(K,te);const s=()=>{},{errorOrDestroy:v}=le;function W(m,U,ne){"boolean"!=typeof ne&&(ne=U instanceof w(97464)),this.objectMode=!(!m||!m.objectMode),ne&&(this.objectMode=this.objectMode||!(!m||!m.readableObjectMode)),this.highWaterMark=m?be(this,m,"readableHighWaterMark",ne):xe(!1),this.buffer=new de,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[T]=null,this.errorEmitted=!1,this.emitClose=!m||!1!==m.emitClose,this.autoDestroy=!m||!1!==m.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=m&&m.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,m&&m.encoding&&(this.decoder=new B(m.encoding),this.encoding=m.encoding)}function K(m){if(!(this instanceof K))return new K(m);const U=this instanceof w(97464);this._readableState=new W(m,this,U),m&&("function"==typeof m.read&&(this._read=m.read),"function"==typeof m.destroy&&(this._destroy=m.destroy),"function"==typeof m.construct&&(this._construct=m.construct),m.signal&&!U&&ie(m.signal,this)),te.call(this,m),le.construct(this,()=>{this._readableState.needReadable&&ye(this,this._readableState)})}function ee(m,U,ne,ge){se("readableAddChunk",U);const Ae=m._readableState;let tt;if(Ae.objectMode||("string"==typeof U?Ae.encoding!==(ne=ne||Ae.defaultEncoding)&&(ge&&Ae.encoding?U=Z.from(U,ne).toString(Ae.encoding):(U=Z.from(U,ne),ne="")):U instanceof Z?ne="":te._isUint8Array(U)?(U=te._uint8ArrayToBuffer(U),ne=""):null!=U&&(tt=new C("chunk",["string","Buffer","Uint8Array"],U))),tt)v(m,tt);else if(null===U)Ae.reading=!1,function Se(m,U){if(se("onEofChunk"),!U.ended){if(U.decoder){const ne=U.decoder.end();ne&&ne.length&&(U.buffer.push(ne),U.length+=U.objectMode?1:ne.length)}U.ended=!0,U.sync?we(m):(U.needReadable=!1,U.emittedReadable=!0,Ue(m))}}(m,Ae);else if(Ae.objectMode||U&&U.length>0)if(ge)if(Ae.endEmitted)v(m,new g);else{if(Ae.destroyed||Ae.errored)return!1;ce(m,Ae,U,!0)}else if(Ae.ended)v(m,new y);else{if(Ae.destroyed||Ae.errored)return!1;Ae.reading=!1,Ae.decoder&&!ne?(U=Ae.decoder.write(U),Ae.objectMode||0!==U.length?ce(m,Ae,U,!1):ye(m,Ae)):ce(m,Ae,U,!1)}else ge||(Ae.reading=!1,ye(m,Ae));return!Ae.ended&&(Ae.length<Ae.highWaterMark||0===Ae.length)}function ce(m,U,ne,ge){U.flowing&&0===U.length&&!U.sync&&m.listenerCount("data")>0?(U.multiAwaitDrain?U.awaitDrainWriters.clear():U.awaitDrainWriters=null,U.dataEmitted=!0,m.emit("data",ne)):(U.length+=U.objectMode?1:ne.length,ge?U.buffer.unshift(ne):U.buffer.push(ne),U.needReadable&&we(m)),ye(m,U)}function Ve(m,U){return m<=0||0===U.length&&U.ended?0:U.objectMode?1:O(m)?U.flowing&&U.length?U.buffer.first().length:U.length:m<=U.length?m:U.ended?U.length:0}function we(m){const U=m._readableState;se("emitReadable",U.needReadable,U.emittedReadable),U.needReadable=!1,U.emittedReadable||(se("emitReadable",U.flowing),U.emittedReadable=!0,k.nextTick(Ue,m))}function Ue(m){const U=m._readableState;se("emitReadable_",U.destroyed,U.length,U.ended),!U.destroyed&&!U.errored&&(U.length||U.ended)&&(m.emit("readable"),U.emittedReadable=!1),U.needReadable=!U.flowing&&!U.ended&&U.length<=U.highWaterMark,Ee(m)}function ye(m,U){!U.readingMore&&U.constructed&&(U.readingMore=!0,k.nextTick(De,m,U))}function De(m,U){for(;!U.reading&&!U.ended&&(U.length<U.highWaterMark||U.flowing&&0===U.length);){const ne=U.length;if(se("maybeReadMore read 0"),m.read(0),ne===U.length)break}U.readingMore=!1}function ue(m){const U=m._readableState;U.readableListening=m.listenerCount("readable")>0,U.resumeScheduled&&!1===U[T]?U.flowing=!0:m.listenerCount("data")>0?m.resume():U.readableListening||(U.flowing=null)}function Q(m){se("readable nexttick read 0"),m.read(0)}function fe(m,U){se("resume",U.reading),U.reading||m.read(0),U.resumeScheduled=!1,m.emit("resume"),Ee(m),U.flowing&&!U.reading&&m.read(0)}function Ee(m){const U=m._readableState;for(se("flow",U.flowing);U.flowing&&null!==m.read(););}function Re(m,U){"function"!=typeof m.read&&(m=K.wrap(m,{objectMode:!0}));const ne=function $e(m,U){return Fe.apply(this,arguments)}(m,U);return ne.stream=m,ne}function Fe(){return(Fe=E(function*(m,U){let Ae,ne=s;function ge(Bt){this===m?(ne(),ne=s):ne=Bt}m.on("readable",ge);const tt=ae(m,{writable:!1},Bt=>{Ae=Bt?ke(Ae,Bt):null,ne(),ne=s});try{for(;;){const Bt=m.destroyed?null:m.read();if(null!==Bt)yield Bt;else{if(Ae)throw Ae;if(null===Ae)return;yield d(new D(ge))}}}catch(Bt){throw Ae=ke(Ae,Bt),Ae}finally{!Ae&&!1===U?.destroyOnReturn||void 0!==Ae&&!m._readableState.autoDestroy?(m.off("readable",ge),tt()):le.destroyer(m,null)}})).apply(this,arguments)}function _t(m,U){if(0===U.length)return null;let ne;return U.objectMode?ne=U.buffer.shift():!m||m>=U.length?(ne=U.decoder?U.buffer.join(""):1===U.buffer.length?U.buffer.first():U.buffer.concat(U.length),U.buffer.clear()):ne=U.buffer.consume(m,U.decoder),ne}function We(m){const U=m._readableState;se("endReadable",U.endEmitted),U.endEmitted||(U.ended=!0,k.nextTick(Le,U,m))}function Le(m,U){if(se("endReadableNT",m.endEmitted,m.length),!m.errored&&!m.closeEmitted&&!m.endEmitted&&0===m.length)if(m.endEmitted=!0,U.emit("end"),U.writable&&!1===U.allowHalfOpen)k.nextTick(lt,U);else if(m.autoDestroy){const ne=U._writableState;(!ne||ne.autoDestroy&&(ne.finished||!1===ne.writable))&&U.destroy()}}function lt(m){m.writable&&!m.writableEnded&&!m.destroyed&&m.end()}let N;function _(){return void 0===N&&(N={}),N}K.prototype.destroy=le.destroy,K.prototype._undestroy=le.undestroy,K.prototype._destroy=function(m,U){U(m)},K.prototype[re.captureRejectionSymbol]=function(m){this.destroy(m)},K.prototype.push=function(m,U){return ee(this,m,U,!1)},K.prototype.unshift=function(m,U){return ee(this,m,U,!0)},K.prototype.isPaused=function(){const m=this._readableState;return!0===m[T]||!1===m.flowing},K.prototype.setEncoding=function(m){const U=new B(m);this._readableState.decoder=U,this._readableState.encoding=this._readableState.decoder.encoding;const ne=this._readableState.buffer;let ge="";for(const Ae of ne)ge+=U.write(Ae);return ne.clear(),""!==ge&&ne.push(ge),this._readableState.length=ge.length,this},K.prototype.read=function(m){se("read",m),void 0===m?m=NaN:x(m)||(m=A(m,10));const U=this._readableState,ne=m;if(m>U.highWaterMark&&(U.highWaterMark=function Oe(m){if(m>1073741824)throw new f("size","<= 1GiB",m);return m--,m|=m>>>1,m|=m>>>2,m|=m>>>4,m|=m>>>8,m|=m>>>16,++m}(m)),0!==m&&(U.emittedReadable=!1),0===m&&U.needReadable&&((0!==U.highWaterMark?U.length>=U.highWaterMark:U.length>0)||U.ended))return se("read: emitReadable",U.length,U.ended),0===U.length&&U.ended?We(this):we(this),null;if(0===(m=Ve(m,U))&&U.ended)return 0===U.length&&We(this),null;let Ae,ge=U.needReadable;if(se("need readable",ge),(0===U.length||U.length-m<U.highWaterMark)&&(ge=!0,se("length less than watermark",ge)),U.ended||U.reading||U.destroyed||U.errored||!U.constructed)ge=!1,se("reading, ended or constructing",ge);else if(ge){se("do read"),U.reading=!0,U.sync=!0,0===U.length&&(U.needReadable=!0);try{this._read(U.highWaterMark)}catch(tt){v(this,tt)}U.sync=!1,U.reading||(m=Ve(ne,U))}return Ae=m>0?_t(m,U):null,null===Ae?(U.needReadable=U.length<=U.highWaterMark,m=0):(U.length-=m,U.multiAwaitDrain?U.awaitDrainWriters.clear():U.awaitDrainWriters=null),0===U.length&&(U.ended||(U.needReadable=!0),ne!==m&&U.ended&&We(this)),null!==Ae&&!U.errorEmitted&&!U.closeEmitted&&(U.dataEmitted=!0,this.emit("data",Ae)),Ae},K.prototype._read=function(m){throw new a("_read()")},K.prototype.pipe=function(m,U){const ne=this,ge=this._readableState;1===ge.pipes.length&&(ge.multiAwaitDrain||(ge.multiAwaitDrain=!0,ge.awaitDrainWriters=new X(ge.awaitDrainWriters?[ge.awaitDrainWriters]:[]))),ge.pipes.push(m),se("pipe count=%d opts=%j",ge.pipes.length,U);const tt=U&&!1===U.end||m===k.stdout||m===k.stderr?Et:gt;function gt(){se("onend"),m.end()}ge.endEmitted?k.nextTick(tt):ne.once("end",tt),m.on("unpipe",function Bt(ft,Ht){se("onunpipe"),ft===ne&&Ht&&!1===Ht.hasUnpiped&&(Ht.hasUnpiped=!0,function mn(){se("cleanup"),m.removeListener("close",en),m.removeListener("finish",Qt),It&&m.removeListener("drain",It),m.removeListener("error",An),m.removeListener("unpipe",Bt),ne.removeListener("end",gt),ne.removeListener("end",Et),ne.removeListener("data",ar),Zt=!0,It&&ge.awaitDrainWriters&&(!m._writableState||m._writableState.needDrain)&&It()}())});let It,Zt=!1;function dn(){Zt||(1===ge.pipes.length&&ge.pipes[0]===m?(se("false write response, pause",0),ge.awaitDrainWriters=m,ge.multiAwaitDrain=!1):ge.pipes.length>1&&ge.pipes.includes(m)&&(se("false write response, pause",ge.awaitDrainWriters.size),ge.awaitDrainWriters.add(m)),ne.pause()),It||(It=function pe(m,U){return function(){const ge=m._readableState;ge.awaitDrainWriters===U?(se("pipeOnDrain",1),ge.awaitDrainWriters=null):ge.multiAwaitDrain&&(se("pipeOnDrain",ge.awaitDrainWriters.size),ge.awaitDrainWriters.delete(U)),(!ge.awaitDrainWriters||0===ge.awaitDrainWriters.size)&&m.listenerCount("data")&&m.resume()}}(ne,m),m.on("drain",It))}function ar(ft){se("ondata");const Ht=m.write(ft);se("dest.write",Ht),!1===Ht&&dn()}function An(ft){if(se("onerror",ft),Et(),m.removeListener("error",An),0===m.listenerCount("error")){const Ht=m._writableState||m._readableState;Ht&&!Ht.errorEmitted?v(m,ft):m.emit("error",ft)}}function en(){m.removeListener("finish",Qt),Et()}function Qt(){se("onfinish"),m.removeListener("close",en),Et()}function Et(){se("unpipe"),ne.unpipe(m)}return ne.on("data",ar),J(m,"error",An),m.once("close",en),m.once("finish",Qt),m.emit("pipe",ne),!0===m.writableNeedDrain?ge.flowing&&dn():ge.flowing||(se("pipe resume"),ne.resume()),m},K.prototype.unpipe=function(m){const U=this._readableState;if(0===U.pipes.length)return this;if(!m){const Ae=U.pipes;U.pipes=[],this.pause();for(let tt=0;tt<Ae.length;tt++)Ae[tt].emit("unpipe",this,{hasUnpiped:!1});return this}const ge=z(U.pipes,m);return-1===ge||(U.pipes.splice(ge,1),0===U.pipes.length&&this.pause(),m.emit("unpipe",this,{hasUnpiped:!1})),this},K.prototype.addListener=K.prototype.on=function(m,U){const ne=te.prototype.on.call(this,m,U),ge=this._readableState;return"data"===m?(ge.readableListening=this.listenerCount("readable")>0,!1!==ge.flowing&&this.resume()):"readable"===m&&!ge.endEmitted&&!ge.readableListening&&(ge.readableListening=ge.needReadable=!0,ge.flowing=!1,ge.emittedReadable=!1,se("on readable",ge.length,ge.reading),ge.length?we(this):ge.reading||k.nextTick(Q,this)),ne},K.prototype.off=K.prototype.removeListener=function(m,U){const ne=te.prototype.removeListener.call(this,m,U);return"readable"===m&&k.nextTick(ue,this),ne},K.prototype.removeAllListeners=function(m){const U=te.prototype.removeAllListeners.apply(this,arguments);return("readable"===m||void 0===m)&&k.nextTick(ue,this),U},K.prototype.resume=function(){const m=this._readableState;return m.flowing||(se("resume"),m.flowing=!m.readableListening,function oe(m,U){U.resumeScheduled||(U.resumeScheduled=!0,k.nextTick(fe,m,U))}(this,m)),m[T]=!1,this},K.prototype.pause=function(){return se("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(se("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[T]=!0,this},K.prototype.wrap=function(m){let U=!1;m.on("data",ge=>{!this.push(ge)&&m.pause&&(U=!0,m.pause())}),m.on("end",()=>{this.push(null)}),m.on("error",ge=>{v(this,ge)}),m.on("close",()=>{this.destroy()}),m.on("destroy",()=>{this.destroy()}),this._read=()=>{U&&m.resume&&(U=!1,m.resume())};const ne=F(m);for(let ge=1;ge<ne.length;ge++){const Ae=ne[ge];void 0===this[Ae]&&"function"==typeof m[Ae]&&(this[Ae]=m[Ae].bind(m))}return this},K.prototype[j]=function(){return Re(this)},K.prototype.iterator=function(m){return void 0!==m&&M(m,"options"),Re(this,m)},P(K.prototype,{readable:{__proto__:null,get(){const m=this._readableState;return!(!m||!1===m.readable||m.destroyed||m.errorEmitted||m.endEmitted)},set(m){this._readableState&&(this._readableState.readable=!!m)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(m){this._readableState&&(this._readableState.flowing=m)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(m){this._readableState&&(this._readableState.destroyed=m)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),P(W.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[T]},set(m){this[T]=!!m}}}),K._fromList=_t,K.from=function(m,U){return S(K,m,U)},K.fromWeb=function(m,U){return _().newStreamReadableFromReadableStream(m,U)},K.toWeb=function(m,U){return _().newReadableStreamFromStreamReadable(m,U)},K.wrap=function(m,U){var ne,ge;return new K({objectMode:null===(ne=null!==(ge=m.readableObjectMode)&&void 0!==ge?ge:m.objectMode)||void 0===ne||ne,...U,destroy(Ae,tt){le.destroyer(m,Ae),tt(Ae)}}).wrap(m)}},31081:(je,H,w)=>{"use strict";const{MathFloor:d,NumberIsInteger:E}=w(43856),{ERR_INVALID_ARG_VALUE:k}=w(65109).codes;function x(A){return A?16:16384}je.exports={getHighWaterMark:function O(A,P,F,L){const D=function z(A,P,F){return null!=A.highWaterMark?A.highWaterMark:P?A[F]:null}(P,L,F);if(null!=D){if(!E(D)||D<0)throw new k(L?`options.${F}`:"options.highWaterMark",D);return d(D)}return x(A.objectMode)},getDefaultHighWaterMark:x}},66344:(je,H,w)=>{"use strict";const{ObjectSetPrototypeOf:d,Symbol:E}=w(43856);je.exports=A;const{ERR_METHOD_NOT_IMPLEMENTED:k}=w(65109).codes,z=w(97464),{getHighWaterMark:x}=w(31081);d(A.prototype,z.prototype),d(A,z);const O=E("kCallback");function A(L){if(!(this instanceof A))return new A(L);const D=L?x(this,L,"readableHighWaterMark",!0):null;0===D&&(L={...L,highWaterMark:null,readableHighWaterMark:D,writableHighWaterMark:L.writableHighWaterMark||0}),z.call(this,L),this._readableState.sync=!1,this[O]=null,L&&("function"==typeof L.transform&&(this._transform=L.transform),"function"==typeof L.flush&&(this._flush=L.flush)),this.on("prefinish",F)}function P(L){"function"!=typeof this._flush||this.destroyed?(this.push(null),L&&L()):this._flush((D,X)=>{D?L?L(D):this.destroy(D):(null!=X&&this.push(X),this.push(null),L&&L())})}function F(){this._final!==P&&P.call(this)}A.prototype._final=P,A.prototype._transform=function(L,D,X){throw new k("_transform()")},A.prototype._write=function(L,D,X){const j=this._readableState,G=this._writableState,re=j.length;this._transform(L,D,(te,J)=>{te?X(te):(null!=J&&this.push(J),G.ended||re===j.length||j.length<j.highWaterMark?X():this[O]=X)})},A.prototype._read=function(){if(this[O]){const L=this[O];this[O]=null,L()}}},51233:(je,H,w)=>{"use strict";const{Symbol:d,SymbolAsyncIterator:E,SymbolIterator:k,SymbolFor:z}=w(43856),x=d("kDestroyed"),O=d("kIsErrored"),A=d("kIsReadable"),P=d("kIsDisturbed"),F=z("nodejs.webstream.isClosedPromise"),L=z("nodejs.webstream.controllerErrorFunction");function D(v,W=!1){var K;return!(!v||"function"!=typeof v.pipe||"function"!=typeof v.on||W&&("function"!=typeof v.pause||"function"!=typeof v.resume)||v._writableState&&!1===(null===(K=v._readableState)||void 0===K?void 0:K.readable)||v._writableState&&!v._readableState)}function X(v){var W;return!(!v||"function"!=typeof v.write||"function"!=typeof v.on||v._readableState&&!1===(null===(W=v._writableState)||void 0===W?void 0:W.writable))}function G(v){return v&&(v._readableState||v._writableState||"function"==typeof v.write&&"function"==typeof v.on||"function"==typeof v.pipe&&"function"==typeof v.on)}function re(v){return!(!v||G(v)||"function"!=typeof v.pipeThrough||"function"!=typeof v.getReader||"function"!=typeof v.cancel)}function te(v){return!(!v||G(v)||"function"!=typeof v.getWriter||"function"!=typeof v.abort)}function J(v){return!(!v||G(v)||"object"!=typeof v.readable||"object"!=typeof v.writable)}function ae(v){if(!G(v))return null;const ee=v._writableState||v._readableState;return!!(v.destroyed||v[x]||null!=ee&&ee.destroyed)}function se(v){if(!X(v))return null;if(!0===v.writableEnded)return!0;const W=v._writableState;return(null==W||!W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)}function be(v,W){if(!D(v))return null;const K=v._readableState;return(null==K||!K.errored)&&("boolean"!=typeof K?.endEmitted?null:!!(K.endEmitted||!1===W&&!0===K.ended&&0===K.length))}function xe(v){return v&&null!=v[A]?v[A]:"boolean"!=typeof v?.readable?null:!ae(v)&&D(v)&&v.readable&&!be(v)}function ke(v){return"boolean"!=typeof v?.writable?null:!ae(v)&&X(v)&&v.writable&&!se(v)}function g(v){return"boolean"==typeof v._closed&&"boolean"==typeof v._defaultKeepAlive&&"boolean"==typeof v._removedConnection&&"boolean"==typeof v._removedContLen}function M(v){return"boolean"==typeof v._sent100&&g(v)}je.exports={kDestroyed:x,isDisturbed:function S(v){var W;return!(!v||!(null!==(W=v[P])&&void 0!==W?W:v.readableDidRead||v.readableAborted))},kIsDisturbed:P,isErrored:function s(v){var W,K,ee,ce,_e,Oe,Ve,Se,we,Ue;return!(!v||!(null!==(W=null!==(K=null!==(ee=null!==(ce=null!==(_e=null!==(Oe=v[O])&&void 0!==Oe?Oe:v.readableErrored)&&void 0!==_e?_e:v.writableErrored)&&void 0!==ce?ce:null===(Ve=v._readableState)||void 0===Ve?void 0:Ve.errorEmitted)&&void 0!==ee?ee:null===(Se=v._writableState)||void 0===Se?void 0:Se.errorEmitted)&&void 0!==K?K:null===(we=v._readableState)||void 0===we?void 0:we.errored)&&void 0!==W?W:null!==(Ue=v._writableState)&&void 0!==Ue&&Ue.errored))},kIsErrored:O,isReadable:xe,kIsReadable:A,kIsClosedPromise:F,kControllerErrorFunction:L,isClosed:function y(v){if(!G(v))return null;if("boolean"==typeof v.closed)return v.closed;const W=v._writableState,K=v._readableState;return"boolean"==typeof W?.closed||"boolean"==typeof K?.closed?W?.closed||K?.closed:"boolean"==typeof v._closed&&g(v)?v._closed:null},isDestroyed:ae,isDuplexNodeStream:function j(v){return!(!v||"function"!=typeof v.pipe||!v._readableState||"function"!=typeof v.on||"function"!=typeof v.write)},isFinished:function C(v,W){return G(v)?!!ae(v)||!(!1!==W?.readable&&xe(v)||!1!==W?.writable&&ke(v)):null},isIterable:function ie(v,W){return null!=v&&(!0===W?"function"==typeof v[E]:!1===W?"function"==typeof v[k]:"function"==typeof v[E]||"function"==typeof v[k])},isReadableNodeStream:D,isReadableStream:re,isReadableEnded:function le(v){if(!D(v))return null;if(!0===v.readableEnded)return!0;const W=v._readableState;return!(!W||W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)},isReadableFinished:be,isReadableErrored:function f(v){var W,K;return G(v)?v.readableErrored?v.readableErrored:null!==(W=null===(K=v._readableState)||void 0===K?void 0:K.errored)&&void 0!==W?W:null:null},isNodeStream:G,isWebStream:function Z(v){return re(v)||te(v)||J(v)},isWritable:ke,isWritableNodeStream:X,isWritableStream:te,isWritableEnded:se,isWritableFinished:function de(v,W){if(!X(v))return null;if(!0===v.writableFinished)return!0;const K=v._writableState;return(null==K||!K.errored)&&("boolean"!=typeof K?.finished?null:!!(K.finished||!1===W&&!0===K.ended&&0===K.length))},isWritableErrored:function a(v){var W,K;return G(v)?v.writableErrored?v.writableErrored:null!==(W=null===(K=v._writableState)||void 0===K?void 0:K.errored)&&void 0!==W?W:null:null},isServerRequest:function T(v){var W;return"boolean"==typeof v._consuming&&"boolean"==typeof v._dumped&&void 0===(null===(W=v.req)||void 0===W?void 0:W.upgradeOrConnect)},isServerResponse:M,willEmitClose:function B(v){if(!G(v))return null;const ee=v._writableState||v._readableState;return!ee&&M(v)||!!(ee&&ee.autoDestroy&&ee.emitClose&&!1===ee.closed)},isTransformStream:J}},40258:(je,H,w)=>{const d=w(40573),{ArrayPrototypeSlice:E,Error:k,FunctionPrototypeSymbolHasInstance:z,ObjectDefineProperty:x,ObjectDefineProperties:O,ObjectSetPrototypeOf:A,StringPrototypeToLowerCase:P,Symbol:F,SymbolHasInstance:L}=w(43856);je.exports=M,M.WritableState=y;const{EventEmitter:D}=w(44356),X=w(2649).Stream,{Buffer:j}=w(89565),G=w(45078),{addAbortSignal:re}=w(24785),{getHighWaterMark:te,getDefaultHighWaterMark:J}=w(31081),{ERR_INVALID_ARG_TYPE:Z,ERR_METHOD_NOT_IMPLEMENTED:ie,ERR_MULTIPLE_CALLBACK:ae,ERR_STREAM_CANNOT_PIPE:se,ERR_STREAM_DESTROYED:de,ERR_STREAM_ALREADY_FINISHED:le,ERR_STREAM_NULL_VALUES:be,ERR_STREAM_WRITE_AFTER_END:xe,ERR_UNKNOWN_ENCODING:ke}=w(65109).codes,{errorOrDestroy:C}=G;function a(){}A(M.prototype,X.prototype),A(M,X);const f=F("kOnFinished");function y(pe,ue,Q){"boolean"!=typeof Q&&(Q=ue instanceof w(97464)),this.objectMode=!(!pe||!pe.objectMode),Q&&(this.objectMode=this.objectMode||!(!pe||!pe.writableObjectMode)),this.highWaterMark=pe?te(this,pe,"writableHighWaterMark",Q):J(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(pe&&!1===pe.decodeStrings),this.defaultEncoding=pe&&pe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=v.bind(void 0,ue),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,g(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!pe||!1!==pe.emitClose,this.autoDestroy=!pe||!1!==pe.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[f]=[]}function g(pe){pe.buffered=[],pe.bufferedIndex=0,pe.allBuffers=!0,pe.allNoop=!0}function M(pe){const ue=this instanceof w(97464);if(!ue&&!z(M,this))return new M(pe);this._writableState=new y(pe,this,ue),pe&&("function"==typeof pe.write&&(this._write=pe.write),"function"==typeof pe.writev&&(this._writev=pe.writev),"function"==typeof pe.destroy&&(this._destroy=pe.destroy),"function"==typeof pe.final&&(this._final=pe.final),"function"==typeof pe.construct&&(this._construct=pe.construct),pe.signal&&re(pe.signal,this)),X.call(this,pe),G.construct(this,()=>{const Q=this._writableState;Q.writing||ce(this,Q),Se(this,Q)})}function T(pe,ue,Q,oe){const fe=pe._writableState;if("function"==typeof Q)oe=Q,Q=fe.defaultEncoding;else{if(Q){if("buffer"!==Q&&!j.isEncoding(Q))throw new ke(Q)}else Q=fe.defaultEncoding;"function"!=typeof oe&&(oe=a)}if(null===ue)throw new be;if(!fe.objectMode)if("string"==typeof ue)!1!==fe.decodeStrings&&(ue=j.from(ue,Q),Q="buffer");else if(ue instanceof j)Q="buffer";else{if(!X._isUint8Array(ue))throw new Z("chunk",["string","Buffer","Uint8Array"],ue);ue=X._uint8ArrayToBuffer(ue),Q="buffer"}let Ee;return fe.ending?Ee=new xe:fe.destroyed&&(Ee=new de("write")),Ee?(d.nextTick(oe,Ee),C(pe,Ee,!0),Ee):(fe.pendingcb++,function B(pe,ue,Q,oe,fe){const Ee=ue.objectMode?1:Q.length;ue.length+=Ee;const Re=ue.length<ue.highWaterMark;return Re||(ue.needDrain=!0),ue.writing||ue.corked||ue.errored||!ue.constructed?(ue.buffered.push({chunk:Q,encoding:oe,callback:fe}),ue.allBuffers&&"buffer"!==oe&&(ue.allBuffers=!1),ue.allNoop&&fe!==a&&(ue.allNoop=!1)):(ue.writelen=Ee,ue.writecb=fe,ue.writing=!0,ue.sync=!0,pe._write(Q,oe,ue.onwrite),ue.sync=!1),Re&&!ue.errored&&!ue.destroyed}(pe,fe,ue,Q,oe))}function S(pe,ue,Q,oe,fe,Ee,Re){ue.writelen=oe,ue.writecb=Re,ue.writing=!0,ue.sync=!0,ue.destroyed?ue.onwrite(new de("write")):Q?pe._writev(fe,ue.onwrite):pe._write(fe,Ee,ue.onwrite),ue.sync=!1}function s(pe,ue,Q,oe){--ue.pendingcb,oe(Q),ee(ue),C(pe,Q)}function v(pe,ue){const Q=pe._writableState,oe=Q.sync,fe=Q.writecb;"function"==typeof fe?(Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0,ue?(Q.errored||(Q.errored=ue),pe._readableState&&!pe._readableState.errored&&(pe._readableState.errored=ue),oe?d.nextTick(s,pe,Q,ue,fe):s(pe,Q,ue,fe)):(Q.buffered.length>Q.bufferedIndex&&ce(pe,Q),oe?null!==Q.afterWriteTickInfo&&Q.afterWriteTickInfo.cb===fe?Q.afterWriteTickInfo.count++:(Q.afterWriteTickInfo={count:1,cb:fe,stream:pe,state:Q},d.nextTick(W,Q.afterWriteTickInfo)):K(pe,Q,1,fe))):C(pe,new ae)}function W({stream:pe,state:ue,count:Q,cb:oe}){return ue.afterWriteTickInfo=null,K(pe,ue,Q,oe)}function K(pe,ue,Q,oe){for(!ue.ending&&!pe.destroyed&&0===ue.length&&ue.needDrain&&(ue.needDrain=!1,pe.emit("drain"));Q-- >0;)ue.pendingcb--,oe();ue.destroyed&&ee(ue),Se(pe,ue)}function ee(pe){if(pe.writing)return;for(let fe=pe.bufferedIndex;fe<pe.buffered.length;++fe){var ue;const{chunk:Ee,callback:Re}=pe.buffered[fe];pe.length-=pe.objectMode?1:Ee.length,Re(null!==(ue=pe.errored)&&void 0!==ue?ue:new de("write"))}const Q=pe[f].splice(0);for(let fe=0;fe<Q.length;fe++){var oe;Q[fe](null!==(oe=pe.errored)&&void 0!==oe?oe:new de("end"))}g(pe)}function ce(pe,ue){if(ue.corked||ue.bufferProcessing||ue.destroyed||!ue.constructed)return;const{buffered:Q,bufferedIndex:oe,objectMode:fe}=ue,Ee=Q.length-oe;if(!Ee)return;let Re=oe;if(ue.bufferProcessing=!0,Ee>1&&pe._writev){ue.pendingcb-=Ee-1;const $e=ue.allNoop?a:_t=>{for(let We=Re;We<Q.length;++We)Q[We].callback(_t)},Fe=ue.allNoop&&0===Re?Q:E(Q,Re);Fe.allBuffers=ue.allBuffers,S(pe,ue,!0,ue.length,Fe,"",$e),g(ue)}else{do{const{chunk:$e,encoding:Fe,callback:_t}=Q[Re];Q[Re++]=null,S(pe,ue,!1,fe?1:$e.length,$e,Fe,_t)}while(Re<Q.length&&!ue.writing);Re===Q.length?g(ue):Re>256?(Q.splice(0,Re),ue.bufferedIndex=0):ue.bufferedIndex=Re}ue.bufferProcessing=!1}function _e(pe){return pe.ending&&!pe.destroyed&&pe.constructed&&0===pe.length&&!pe.errored&&0===pe.buffered.length&&!pe.finished&&!pe.writing&&!pe.errorEmitted&&!pe.closeEmitted}function Se(pe,ue,Q){_e(ue)&&(function Ve(pe,ue){!ue.prefinished&&!ue.finalCalled&&("function"!=typeof pe._final||ue.destroyed?(ue.prefinished=!0,pe.emit("prefinish")):(ue.finalCalled=!0,function Oe(pe,ue){let Q=!1;function oe(fe){if(Q)C(pe,fe??ae());else if(Q=!0,ue.pendingcb--,fe){const Ee=ue[f].splice(0);for(let Re=0;Re<Ee.length;Re++)Ee[Re](fe);C(pe,fe,ue.sync)}else _e(ue)&&(ue.prefinished=!0,pe.emit("prefinish"),ue.pendingcb++,d.nextTick(we,pe,ue))}ue.sync=!0,ue.pendingcb++;try{pe._final(oe)}catch(fe){oe(fe)}ue.sync=!1}(pe,ue)))}(pe,ue),0===ue.pendingcb&&(Q?(ue.pendingcb++,d.nextTick((oe,fe)=>{_e(fe)?we(oe,fe):fe.pendingcb--},pe,ue)):_e(ue)&&(ue.pendingcb++,we(pe,ue))))}function we(pe,ue){ue.pendingcb--,ue.finished=!0;const Q=ue[f].splice(0);for(let oe=0;oe<Q.length;oe++)Q[oe]();if(pe.emit("finish"),ue.autoDestroy){const oe=pe._readableState;(!oe||oe.autoDestroy&&(oe.endEmitted||!1===oe.readable))&&pe.destroy()}}y.prototype.getBuffer=function(){return E(this.buffered,this.bufferedIndex)},x(y.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),x(M,L,{__proto__:null,value:function(pe){return!!z(this,pe)||this===M&&pe&&pe._writableState instanceof y}}),M.prototype.pipe=function(){C(this,new se)},M.prototype.write=function(pe,ue,Q){return!0===T(this,pe,ue,Q)},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){const pe=this._writableState;pe.corked&&(pe.corked--,pe.writing||ce(this,pe))},M.prototype.setDefaultEncoding=function(ue){if("string"==typeof ue&&(ue=P(ue)),!j.isEncoding(ue))throw new ke(ue);return this._writableState.defaultEncoding=ue,this},M.prototype._write=function(pe,ue,Q){if(!this._writev)throw new ie("_write()");this._writev([{chunk:pe,encoding:ue}],Q)},M.prototype._writev=null,M.prototype.end=function(pe,ue,Q){const oe=this._writableState;let fe;if("function"==typeof pe?(Q=pe,pe=null,ue=null):"function"==typeof ue&&(Q=ue,ue=null),null!=pe){const Ee=T(this,pe,ue);Ee instanceof k&&(fe=Ee)}return oe.corked&&(oe.corked=1,this.uncork()),fe||(oe.errored||oe.ending?oe.finished?fe=new le("end"):oe.destroyed&&(fe=new de("end")):(oe.ending=!0,Se(this,oe,!0),oe.ended=!0)),"function"==typeof Q&&(fe||oe.finished?d.nextTick(Q,fe):oe[f].push(Q)),this},O(M.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(pe){this._writableState&&(this._writableState.destroyed=pe)}},writable:{__proto__:null,get(){const pe=this._writableState;return!(!pe||!1===pe.writable||pe.destroyed||pe.errored||pe.ending||pe.ended)},set(pe){this._writableState&&(this._writableState.writable=!!pe)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const pe=this._writableState;return!!pe&&!pe.destroyed&&!pe.ending&&pe.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Ue=G.destroy;let ye;function De(){return void 0===ye&&(ye={}),ye}M.prototype.destroy=function(pe,ue){const Q=this._writableState;return!Q.destroyed&&(Q.bufferedIndex<Q.buffered.length||Q[f].length)&&d.nextTick(ee,Q),Ue.call(this,pe,ue),this},M.prototype._undestroy=G.undestroy,M.prototype._destroy=function(pe,ue){ue(pe)},M.prototype[D.captureRejectionSymbol]=function(pe){this.destroy(pe)},M.fromWeb=function(pe,ue){return De().newStreamWritableFromWritableStream(pe,ue)},M.toWeb=function(pe){return De().newWritableStreamFromStreamWritable(pe)}},44323:(je,H,w)=>{"use strict";const{ArrayIsArray:d,ArrayPrototypeIncludes:E,ArrayPrototypeJoin:k,ArrayPrototypeMap:z,NumberIsInteger:x,NumberIsNaN:O,NumberMAX_SAFE_INTEGER:A,NumberMIN_SAFE_INTEGER:P,NumberParseInt:F,ObjectPrototypeHasOwnProperty:L,RegExpPrototypeExec:D,String:X,StringPrototypeToUpperCase:j,StringPrototypeTrim:G}=w(43856),{hideStackFrames:re,codes:{ERR_SOCKET_BAD_PORT:te,ERR_INVALID_ARG_TYPE:J,ERR_INVALID_ARG_VALUE:Z,ERR_OUT_OF_RANGE:ie,ERR_UNKNOWN_SIGNAL:ae}}=w(65109),{normalizeEncoding:se}=w(55830),{isAsyncFunction:de,isArrayBufferView:le}=w(55830).types,be={},C=/^[0-7]+$/,y=re((Ee,Re,$e=P,Fe=A)=>{if("number"!=typeof Ee)throw new J(Re,"number",Ee);if(!x(Ee))throw new ie(Re,"an integer",Ee);if(Ee<$e||Ee>Fe)throw new ie(Re,`>= ${$e} && <= ${Fe}`,Ee)}),g=re((Ee,Re,$e=-2147483648,Fe=2147483647)=>{if("number"!=typeof Ee)throw new J(Re,"number",Ee);if(!x(Ee))throw new ie(Re,"an integer",Ee);if(Ee<$e||Ee>Fe)throw new ie(Re,`>= ${$e} && <= ${Fe}`,Ee)}),M=re((Ee,Re,$e=!1)=>{if("number"!=typeof Ee)throw new J(Re,"number",Ee);if(!x(Ee))throw new ie(Re,"an integer",Ee);const Fe=$e?1:0,_t=4294967295;if(Ee<Fe||Ee>_t)throw new ie(Re,`>= ${Fe} && <= ${_t}`,Ee)});function T(Ee,Re){if("string"!=typeof Ee)throw new J(Re,"string",Ee)}const S=re((Ee,Re,$e)=>{if(!E($e,Ee)){const _t="must be one of: "+k(z($e,We=>"string"==typeof We?`'${We}'`:X(We)),", ");throw new Z(Re,Ee,_t)}});function s(Ee,Re){if("boolean"!=typeof Ee)throw new J(Re,"boolean",Ee)}function v(Ee,Re,$e){return null!=Ee&&L(Ee,Re)?Ee[Re]:$e}const W=re((Ee,Re,$e=null)=>{const Fe=v($e,"allowArray",!1),_t=v($e,"allowFunction",!1);if(!v($e,"nullable",!1)&&null===Ee||!Fe&&d(Ee)||"object"!=typeof Ee&&(!_t||"function"!=typeof Ee))throw new J(Re,"Object",Ee)}),K=re((Ee,Re)=>{if(null!=Ee&&"object"!=typeof Ee&&"function"!=typeof Ee)throw new J(Re,"a dictionary",Ee)}),ee=re((Ee,Re,$e=0)=>{if(!d(Ee))throw new J(Re,"Array",Ee);if(Ee.length<$e)throw new Z(Re,Ee,`must be longer than ${$e}`)}),Ve=re((Ee,Re="buffer")=>{if(!le(Ee))throw new J(Re,["Buffer","TypedArray","DataView"],Ee)}),Ue=re((Ee,Re)=>{if(void 0!==Ee&&(null===Ee||"object"!=typeof Ee||!("aborted"in Ee)))throw new J(Re,"AbortSignal",Ee)}),ye=re((Ee,Re)=>{if("function"!=typeof Ee)throw new J(Re,"Function",Ee)}),De=re((Ee,Re)=>{if("function"!=typeof Ee||de(Ee))throw new J(Re,"Function",Ee)}),pe=re((Ee,Re)=>{if(void 0!==Ee)throw new J(Re,"undefined",Ee)}),Q=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function oe(Ee,Re){if(typeof Ee>"u"||!D(Q,Ee))throw new Z(Re,Ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}je.exports={isInt32:function xe(Ee){return Ee===(0|Ee)},isUint32:function ke(Ee){return Ee===Ee>>>0},parseFileMode:function f(Ee,Re,$e){if(typeof Ee>"u"&&(Ee=$e),"string"==typeof Ee){if(null===D(C,Ee))throw new Z(Re,Ee,"must be a 32-bit unsigned integer or an octal string");Ee=F(Ee,8)}return M(Ee,Re),Ee},validateArray:ee,validateStringArray:function ce(Ee,Re){ee(Ee,Re);for(let $e=0;$e<Ee.length;$e++)T(Ee[$e],`${Re}[${$e}]`)},validateBooleanArray:function _e(Ee,Re){ee(Ee,Re);for(let $e=0;$e<Ee.length;$e++)s(Ee[$e],`${Re}[${$e}]`)},validateBoolean:s,validateBuffer:Ve,validateDictionary:K,validateEncoding:function Se(Ee,Re){const $e=se(Re),Fe=Ee.length;if("hex"===$e&&Fe%2!=0)throw new Z("encoding",Re,`is invalid for data of length ${Fe}`)},validateFunction:ye,validateInt32:g,validateInteger:y,validateNumber:function B(Ee,Re,$e=void 0,Fe){if("number"!=typeof Ee)throw new J(Re,"number",Ee);if(null!=$e&&Ee<$e||null!=Fe&&Ee>Fe||(null!=$e||null!=Fe)&&O(Ee))throw new ie(Re,`${null!=$e?`>= ${$e}`:""}${null!=$e&&null!=Fe?" && ":""}${null!=Fe?`<= ${Fe}`:""}`,Ee)},validateObject:W,validateOneOf:S,validatePlainFunction:De,validatePort:function we(Ee,Re="Port",$e=!0){if("number"!=typeof Ee&&"string"!=typeof Ee||"string"==typeof Ee&&0===G(Ee).length||+Ee!=+Ee>>>0||Ee>65535||0===Ee&&!$e)throw new te(Re,Ee,$e);return 0|Ee},validateSignalName:function Oe(Ee,Re="signal"){if(T(Ee,Re),void 0===be[Ee])throw void 0!==be[j(Ee)]?new ae(Ee+" (signals must use all capital letters)"):new ae(Ee)},validateString:T,validateUint32:M,validateUndefined:pe,validateUnion:function ue(Ee,Re,$e){if(!E($e,Ee))throw new J(Re,`('${k($e,"|")}')`,Ee)},validateAbortSignal:Ue,validateLinkHeaderValue:function fe(Ee){if("string"==typeof Ee)return oe(Ee,"hints"),Ee;if(d(Ee)){const Re=Ee.length;let $e="";if(0===Re)return $e;for(let Fe=0;Fe<Re;Fe++){const _t=Ee[Fe];oe(_t,"hints"),$e+=_t,Fe!==Re-1&&($e+=", ")}return $e}throw new Z("hints",Ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},95424:(je,H,w)=>{"use strict";const d=w(3052),E=w(19905),k=d.Readable.destroy;je.exports=d.Readable,je.exports._uint8ArrayToBuffer=d._uint8ArrayToBuffer,je.exports._isUint8Array=d._isUint8Array,je.exports.isDisturbed=d.isDisturbed,je.exports.isErrored=d.isErrored,je.exports.isReadable=d.isReadable,je.exports.Readable=d.Readable,je.exports.Writable=d.Writable,je.exports.Duplex=d.Duplex,je.exports.Transform=d.Transform,je.exports.PassThrough=d.PassThrough,je.exports.addAbortSignal=d.addAbortSignal,je.exports.finished=d.finished,je.exports.destroy=d.destroy,je.exports.destroy=k,je.exports.pipeline=d.pipeline,je.exports.compose=d.compose,Object.defineProperty(d,"promises",{configurable:!0,enumerable:!0,get:()=>E}),je.exports.Stream=d.Stream,je.exports.default=je.exports},65109:(je,H,w)=>{"use strict";const{format:d,inspect:E,AggregateError:k}=w(55830),z=globalThis.AggregateError||k,x=Symbol("kIsNodeError"),O=["string","function","number","object","Function","Object","boolean","bigint","symbol"],A=/^([A-Z][a-z0-9]*)+$/,F={};function L(J,Z){if(!J)throw new F.ERR_INTERNAL_ASSERTION(Z)}function D(J){let Z="",ie=J.length;const ae="-"===J[0]?1:0;for(;ie>=ae+4;ie-=3)Z=`_${J.slice(ie-3,ie)}${Z}`;return`${J.slice(0,ie)}${Z}`}function j(J,Z,ie){ie||(ie=Error);class ae extends ie{constructor(...de){super(function X(J,Z,ie){if("function"==typeof Z)return L(Z.length<=ie.length,`Code: ${J}; The provided arguments length (${ie.length}) does not match the required ones (${Z.length}).`),Z(...ie);const ae=(Z.match(/%[dfijoOs]/g)||[]).length;return L(ae===ie.length,`Code: ${J}; The provided arguments length (${ie.length}) does not match the required ones (${ae}).`),0===ie.length?Z:d(Z,...ie)}(J,Z,de))}toString(){return`${this.name} [${J}]: ${this.message}`}}Object.defineProperties(ae.prototype,{name:{value:ie.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${J}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),ae.prototype.code=J,ae.prototype[x]=!0,F[J]=ae}function G(J){return Object.defineProperty(J,"name",{value:"__node_internal_"+J.name}),J}class te extends Error{constructor(Z="The operation was aborted",ie=void 0){if(void 0!==ie&&"object"!=typeof ie)throw new F.ERR_INVALID_ARG_TYPE("options","Object",ie);super(Z,ie),this.code="ABORT_ERR",this.name="AbortError"}}j("ERR_ASSERTION","%s",Error),j("ERR_INVALID_ARG_TYPE",(J,Z,ie)=>{L("string"==typeof J,"'name' must be a string"),Array.isArray(Z)||(Z=[Z]);let ae="The ";J.endsWith(" argument")?ae+=`${J} `:ae+=`"${J}" ${J.includes(".")?"property":"argument"} `,ae+="must be ";const se=[],de=[],le=[];for(const xe of Z)L("string"==typeof xe,"All expected entries have to be of type string"),O.includes(xe)?se.push(xe.toLowerCase()):A.test(xe)?de.push(xe):(L("object"!==xe,'The value "object" should be written as "Object"'),le.push(xe));if(de.length>0){const xe=se.indexOf("object");-1!==xe&&(se.splice(se,xe,1),de.push("Object"))}if(se.length>0){switch(se.length){case 1:ae+=`of type ${se[0]}`;break;case 2:ae+=`one of type ${se[0]} or ${se[1]}`;break;default:{const xe=se.pop();ae+=`one of type ${se.join(", ")}, or ${xe}`}}(de.length>0||le.length>0)&&(ae+=" or ")}if(de.length>0){switch(de.length){case 1:ae+=`an instance of ${de[0]}`;break;case 2:ae+=`an instance of ${de[0]} or ${de[1]}`;break;default:{const xe=de.pop();ae+=`an instance of ${de.join(", ")}, or ${xe}`}}le.length>0&&(ae+=" or ")}switch(le.length){case 0:break;case 1:le[0].toLowerCase()!==le[0]&&(ae+="an "),ae+=`${le[0]}`;break;case 2:ae+=`one of ${le[0]} or ${le[1]}`;break;default:{const xe=le.pop();ae+=`one of ${le.join(", ")}, or ${xe}`}}if(null==ie)ae+=`. Received ${ie}`;else if("function"==typeof ie&&ie.name)ae+=`. Received function ${ie.name}`;else if("object"==typeof ie){var be;null!==(be=ie.constructor)&&void 0!==be&&be.name?ae+=`. Received an instance of ${ie.constructor.name}`:ae+=`. Received ${E(ie,{depth:-1})}`}else{let xe=E(ie,{colors:!1});xe.length>25&&(xe=`${xe.slice(0,25)}...`),ae+=`. Received type ${typeof ie} (${xe})`}return ae},TypeError),j("ERR_INVALID_ARG_VALUE",(J,Z,ie="is invalid")=>{let ae=E(Z);return ae.length>128&&(ae=ae.slice(0,128)+"..."),`The ${J.includes(".")?"property":"argument"} '${J}' ${ie}. Received ${ae}`},TypeError),j("ERR_INVALID_RETURN_VALUE",(J,Z,ie)=>{var ae;return`Expected ${J} to be returned from the "${Z}" function but got ${null!=ie&&null!==(ae=ie.constructor)&&void 0!==ae&&ae.name?`instance of ${ie.constructor.name}`:"type "+typeof ie}.`},TypeError),j("ERR_MISSING_ARGS",(...J)=>{let Z;L(J.length>0,"At least one arg needs to be specified");const ie=J.length;switch(J=(Array.isArray(J)?J:[J]).map(ae=>`"${ae}"`).join(" or "),ie){case 1:Z+=`The ${J[0]} argument`;break;case 2:Z+=`The ${J[0]} and ${J[1]} arguments`;break;default:{const ae=J.pop();Z+=`The ${J.join(", ")}, and ${ae} arguments`}}return`${Z} must be specified`},TypeError),j("ERR_OUT_OF_RANGE",(J,Z,ie)=>{let ae;return L(Z,'Missing "range" argument'),Number.isInteger(ie)&&Math.abs(ie)>2**32?ae=D(String(ie)):"bigint"==typeof ie?(ae=String(ie),(ie>2n**32n||ie<-(2n**32n))&&(ae=D(ae)),ae+="n"):ae=E(ie),`The value of "${J}" is out of range. It must be ${Z}. Received ${ae}`},RangeError),j("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),j("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),j("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),j("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),j("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),j("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),j("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),j("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),j("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),j("ERR_STREAM_WRITE_AFTER_END","write after end",Error),j("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),je.exports={AbortError:te,aggregateTwoErrors:G(function re(J,Z){if(J&&Z&&J!==Z){if(Array.isArray(Z.errors))return Z.errors.push(J),Z;const ie=new z([Z,J],Z.message);return ie.code=Z.code,ie}return J||Z}),hideStackFrames:G,codes:F}},43856:je=>{"use strict";je.exports={ArrayIsArray:H=>Array.isArray(H),ArrayPrototypeIncludes:(H,w)=>H.includes(w),ArrayPrototypeIndexOf:(H,w)=>H.indexOf(w),ArrayPrototypeJoin:(H,w)=>H.join(w),ArrayPrototypeMap:(H,w)=>H.map(w),ArrayPrototypePop:(H,w)=>H.pop(w),ArrayPrototypePush:(H,w)=>H.push(w),ArrayPrototypeSlice:(H,w,d)=>H.slice(w,d),Error,FunctionPrototypeCall:(H,w,...d)=>H.call(w,...d),FunctionPrototypeSymbolHasInstance:(H,w)=>Function.prototype[Symbol.hasInstance].call(H,w),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(H,w)=>Object.defineProperties(H,w),ObjectDefineProperty:(H,w,d)=>Object.defineProperty(H,w,d),ObjectGetOwnPropertyDescriptor:(H,w)=>Object.getOwnPropertyDescriptor(H,w),ObjectKeys:H=>Object.keys(H),ObjectSetPrototypeOf:(H,w)=>Object.setPrototypeOf(H,w),Promise,PromisePrototypeCatch:(H,w)=>H.catch(w),PromisePrototypeThen:(H,w,d)=>H.then(w,d),PromiseReject:H=>Promise.reject(H),ReflectApply:Reflect.apply,RegExpPrototypeTest:(H,w)=>H.test(w),SafeSet:Set,String,StringPrototypeSlice:(H,w,d)=>H.slice(w,d),StringPrototypeToLowerCase:H=>H.toLowerCase(),StringPrototypeToUpperCase:H=>H.toUpperCase(),StringPrototypeTrim:H=>H.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(H,w,d)=>H.set(w,d),Uint8Array}},55830:(je,H,w)=>{"use strict";var d=w(29293).default;const E=w(89565),k=Object.getPrototypeOf(d(function*(){})).constructor,z=globalThis.Blob||E.Blob,x=typeof z<"u"?function(P){return P instanceof z}:function(P){return!1};class O extends Error{constructor(P){if(!Array.isArray(P))throw new TypeError("Expected input to be an Array, got "+typeof P);let F="";for(let L=0;L<P.length;L++)F+=`    ${P[L].stack}\n`;super(F),this.name="AggregateError",this.errors=P}}je.exports={AggregateError:O,kEmptyObject:Object.freeze({}),once(A){let P=!1;return function(...F){P||(P=!0,A.apply(this,F))}},createDeferredPromise:function(){let A,P;return{promise:new Promise((L,D)=>{A=L,P=D}),resolve:A,reject:P}},promisify:A=>new Promise((P,F)=>{A((L,...D)=>L?F(L):P(...D))}),debuglog:()=>function(){},format:(A,...P)=>A.replace(/%([sdifj])/g,function(...[F,L]){const D=P.shift();return"f"===L?D.toFixed(6):"j"===L?JSON.stringify(D):"s"===L&&"object"==typeof D?`${D.constructor!==Object?D.constructor.name:""} {}`.trim():D.toString()}),inspect(A){switch(typeof A){case"string":if(A.includes("'")){if(!A.includes('"'))return`"${A}"`;if(!A.includes("`")&&!A.includes("${"))return`\`${A}\``}return`'${A}'`;case"number":return isNaN(A)?"NaN":Object.is(A,-0)?String(A):A;case"bigint":return`${String(A)}n`;case"boolean":case"undefined":return String(A);case"object":return"{}"}},types:{isAsyncFunction:A=>A instanceof k,isArrayBufferView:A=>ArrayBuffer.isView(A)},isBlob:x},je.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},3052:(je,H,w)=>{const{Buffer:d}=w(89565),{ObjectDefineProperty:E,ObjectKeys:k,ReflectApply:z}=w(43856),{promisify:{custom:x}}=w(55830),{streamReturningOperators:O,promiseReturningOperators:A}=w(37325),{codes:{ERR_ILLEGAL_CONSTRUCTOR:P}}=w(65109),F=w(5464),{pipeline:L}=w(96208),{destroyer:D}=w(45078),X=w(44268),G=w(19905),re=w(51233),te=je.exports=w(2649).Stream;te.isDisturbed=re.isDisturbed,te.isErrored=re.isErrored,te.isReadable=re.isReadable,te.Readable=w(29710);for(const ie of k(O)){let se=function(...de){if(new.target)throw P();return te.Readable.from(z(ae,this,de))};const ae=O[ie];E(se,"name",{__proto__:null,value:ae.name}),E(se,"length",{__proto__:null,value:ae.length}),E(te.Readable.prototype,ie,{__proto__:null,value:se,enumerable:!1,configurable:!0,writable:!0})}for(const ie of k(A)){let se=function(...le){if(new.target)throw P();return z(ae,this,le)};const ae=A[ie];E(se,"name",{__proto__:null,value:ae.name}),E(se,"length",{__proto__:null,value:ae.length}),E(te.Readable.prototype,ie,{__proto__:null,value:se,enumerable:!1,configurable:!0,writable:!0})}te.Writable=w(40258),te.Duplex=w(97464),te.Transform=w(66344),te.PassThrough=w(70874),te.pipeline=L;const{addAbortSignal:J}=w(24785);te.addAbortSignal=J,te.finished=X,te.destroy=D,te.compose=F,E(te,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>G}),E(L,x,{__proto__:null,enumerable:!0,get:()=>G.pipeline}),E(X,x,{__proto__:null,enumerable:!0,get:()=>G.finished}),te.Stream=te,te._isUint8Array=function(ae){return ae instanceof Uint8Array},te._uint8ArrayToBuffer=function(ae){return d.from(ae.buffer,ae.byteOffset,ae.byteLength)}},19905:(je,H,w)=>{"use strict";const{ArrayPrototypePop:d,Promise:E}=w(43856),{isIterable:k,isNodeStream:z,isWebStream:x}=w(51233),{pipelineImpl:O}=w(96208),{finished:A}=w(44268);w(3052),je.exports={finished:A,pipeline:function P(...F){return new E((L,D)=>{let X,j;const G=F[F.length-1];if(G&&"object"==typeof G&&!z(G)&&!k(G)&&!x(G)){const re=d(F);X=re.signal,j=re.end}O(F,(re,te)=>{re?D(re):L(te)},{signal:X,end:j})})}}},37945:(je,H,w)=>{"use strict";const d=w(13981),E=w(22020),k="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;H.Buffer=A,H.SlowBuffer=function Z(N){return+N!=N&&(N=0),A.alloc(+N)},H.INSPECT_MAX_BYTES=50;const z=2147483647;function O(N){if(N>z)throw new RangeError('The value "'+N+'" is invalid for option "size"');const _=new Uint8Array(N);return Object.setPrototypeOf(_,A.prototype),_}function A(N,_,m){if("number"==typeof N){if("string"==typeof _)throw new TypeError('The "string" argument must be of type string. Received type number');return D(N)}return P(N,_,m)}function P(N,_,m){if("string"==typeof N)return function X(N,_){if(("string"!=typeof _||""===_)&&(_="utf8"),!A.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const m=0|ie(N,_);let U=O(m);const ne=U.write(N,_);return ne!==m&&(U=U.slice(0,ne)),U}(N,_);if(ArrayBuffer.isView(N))return function G(N){if(Fe(N,Uint8Array)){const _=new Uint8Array(N);return re(_.buffer,_.byteOffset,_.byteLength)}return j(N)}(N);if(null==N)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(Fe(N,ArrayBuffer)||N&&Fe(N.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Fe(N,SharedArrayBuffer)||N&&Fe(N.buffer,SharedArrayBuffer)))return re(N,_,m);if("number"==typeof N)throw new TypeError('The "value" argument must not be of type number. Received type number');const U=N.valueOf&&N.valueOf();if(null!=U&&U!==N)return A.from(U,_,m);const ne=function te(N){if(A.isBuffer(N)){const _=0|J(N.length),m=O(_);return 0===m.length||N.copy(m,0,0,_),m}return void 0!==N.length?"number"!=typeof N.length||_t(N.length)?O(0):j(N):"Buffer"===N.type&&Array.isArray(N.data)?j(N.data):void 0}(N);if(ne)return ne;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof N[Symbol.toPrimitive])return A.from(N[Symbol.toPrimitive]("string"),_,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}function F(N){if("number"!=typeof N)throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function D(N){return F(N),O(N<0?0:0|J(N))}function j(N){const _=N.length<0?0:0|J(N.length),m=O(_);for(let U=0;U<_;U+=1)m[U]=255&N[U];return m}function re(N,_,m){if(_<0||N.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<_+(m||0))throw new RangeError('"length" is outside of buffer bounds');let U;return U=void 0===_&&void 0===m?new Uint8Array(N):void 0===m?new Uint8Array(N,_):new Uint8Array(N,_,m),Object.setPrototypeOf(U,A.prototype),U}function J(N){if(N>=z)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+z.toString(16)+" bytes");return 0|N}function ie(N,_){if(A.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||Fe(N,ArrayBuffer))return N.byteLength;if("string"!=typeof N)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);const m=N.length,U=arguments.length>2&&!0===arguments[2];if(!U&&0===m)return 0;let ne=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return oe(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*m;case"hex":return m>>>1;case"base64":return Re(N).length;default:if(ne)return U?-1:oe(N).length;_=(""+_).toLowerCase(),ne=!0}}function ae(N,_,m){let U=!1;if((void 0===_||_<0)&&(_=0),_>this.length||((void 0===m||m>this.length)&&(m=this.length),m<=0)||(m>>>=0)<=(_>>>=0))return"";for(N||(N="utf8");;)switch(N){case"hex":return S(this,_,m);case"utf8":case"utf-8":return y(this,_,m);case"ascii":return T(this,_,m);case"latin1":case"binary":return B(this,_,m);case"base64":return f(this,_,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,_,m);default:if(U)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),U=!0}}function se(N,_,m){const U=N[_];N[_]=N[m],N[m]=U}function de(N,_,m,U,ne){if(0===N.length)return-1;if("string"==typeof m?(U=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),_t(m=+m)&&(m=ne?0:N.length-1),m<0&&(m=N.length+m),m>=N.length){if(ne)return-1;m=N.length-1}else if(m<0){if(!ne)return-1;m=0}if("string"==typeof _&&(_=A.from(_,U)),A.isBuffer(_))return 0===_.length?-1:le(N,_,m,U,ne);if("number"==typeof _)return _&=255,"function"==typeof Uint8Array.prototype.indexOf?ne?Uint8Array.prototype.indexOf.call(N,_,m):Uint8Array.prototype.lastIndexOf.call(N,_,m):le(N,[_],m,U,ne);throw new TypeError("val must be string, number or Buffer")}function le(N,_,m,U,ne){let gt,ge=1,Ae=N.length,tt=_.length;if(void 0!==U&&("ucs2"===(U=String(U).toLowerCase())||"ucs-2"===U||"utf16le"===U||"utf-16le"===U)){if(N.length<2||_.length<2)return-1;ge=2,Ae/=2,tt/=2,m/=2}function Bt(It,Zt){return 1===ge?It[Zt]:It.readUInt16BE(Zt*ge)}if(ne){let It=-1;for(gt=m;gt<Ae;gt++)if(Bt(N,gt)===Bt(_,-1===It?0:gt-It)){if(-1===It&&(It=gt),gt-It+1===tt)return It*ge}else-1!==It&&(gt-=gt-It),It=-1}else for(m+tt>Ae&&(m=Ae-tt),gt=m;gt>=0;gt--){let It=!0;for(let Zt=0;Zt<tt;Zt++)if(Bt(N,gt+Zt)!==Bt(_,Zt)){It=!1;break}if(It)return gt}return-1}function be(N,_,m,U){m=Number(m)||0;const ne=N.length-m;U?(U=Number(U))>ne&&(U=ne):U=ne;const ge=_.length;let Ae;for(U>ge/2&&(U=ge/2),Ae=0;Ae<U;++Ae){const tt=parseInt(_.substr(2*Ae,2),16);if(_t(tt))return Ae;N[m+Ae]=tt}return Ae}function xe(N,_,m,U){return $e(oe(_,N.length-m),N,m,U)}function ke(N,_,m,U){return $e(function fe(N){const _=[];for(let m=0;m<N.length;++m)_.push(255&N.charCodeAt(m));return _}(_),N,m,U)}function C(N,_,m,U){return $e(Re(_),N,m,U)}function a(N,_,m,U){return $e(function Ee(N,_){let m,U,ne;const ge=[];for(let Ae=0;Ae<N.length&&!((_-=2)<0);++Ae)m=N.charCodeAt(Ae),U=m>>8,ne=m%256,ge.push(ne),ge.push(U);return ge}(_,N.length-m),N,m,U)}function f(N,_,m){return d.fromByteArray(0===_&&m===N.length?N:N.slice(_,m))}function y(N,_,m){m=Math.min(N.length,m);const U=[];let ne=_;for(;ne<m;){const ge=N[ne];let Ae=null,tt=ge>239?4:ge>223?3:ge>191?2:1;if(ne+tt<=m){let Bt,gt,It,Zt;switch(tt){case 1:ge<128&&(Ae=ge);break;case 2:Bt=N[ne+1],128==(192&Bt)&&(Zt=(31&ge)<<6|63&Bt,Zt>127&&(Ae=Zt));break;case 3:Bt=N[ne+1],gt=N[ne+2],128==(192&Bt)&&128==(192&gt)&&(Zt=(15&ge)<<12|(63&Bt)<<6|63&gt,Zt>2047&&(Zt<55296||Zt>57343)&&(Ae=Zt));break;case 4:Bt=N[ne+1],gt=N[ne+2],It=N[ne+3],128==(192&Bt)&&128==(192&gt)&&128==(192&It)&&(Zt=(15&ge)<<18|(63&Bt)<<12|(63&gt)<<6|63&It,Zt>65535&&Zt<1114112&&(Ae=Zt))}}null===Ae?(Ae=65533,tt=1):Ae>65535&&(Ae-=65536,U.push(Ae>>>10&1023|55296),Ae=56320|1023&Ae),U.push(Ae),ne+=tt}return function M(N){const _=N.length;if(_<=g)return String.fromCharCode.apply(String,N);let m="",U=0;for(;U<_;)m+=String.fromCharCode.apply(String,N.slice(U,U+=g));return m}(U)}H.kMaxLength=z,!(A.TYPED_ARRAY_SUPPORT=function x(){try{const N=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(N,_),42===N.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(N,_,m){return P(N,_,m)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(N,_,m){return function L(N,_,m){return F(N),N<=0?O(N):void 0!==_?"string"==typeof m?O(N).fill(_,m):O(N).fill(_):O(N)}(N,_,m)},A.allocUnsafe=function(N){return D(N)},A.allocUnsafeSlow=function(N){return D(N)},A.isBuffer=function(_){return null!=_&&!0===_._isBuffer&&_!==A.prototype},A.compare=function(_,m){if(Fe(_,Uint8Array)&&(_=A.from(_,_.offset,_.byteLength)),Fe(m,Uint8Array)&&(m=A.from(m,m.offset,m.byteLength)),!A.isBuffer(_)||!A.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===m)return 0;let U=_.length,ne=m.length;for(let ge=0,Ae=Math.min(U,ne);ge<Ae;++ge)if(_[ge]!==m[ge]){U=_[ge],ne=m[ge];break}return U<ne?-1:ne<U?1:0},A.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(_,m){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(0===_.length)return A.alloc(0);let U;if(void 0===m)for(m=0,U=0;U<_.length;++U)m+=_[U].length;const ne=A.allocUnsafe(m);let ge=0;for(U=0;U<_.length;++U){let Ae=_[U];if(Fe(Ae,Uint8Array))ge+Ae.length>ne.length?(A.isBuffer(Ae)||(Ae=A.from(Ae)),Ae.copy(ne,ge)):Uint8Array.prototype.set.call(ne,Ae,ge);else{if(!A.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(ne,ge)}ge+=Ae.length}return ne},A.byteLength=ie,A.prototype._isBuffer=!0,A.prototype.swap16=function(){const _=this.length;if(_%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<_;m+=2)se(this,m,m+1);return this},A.prototype.swap32=function(){const _=this.length;if(_%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<_;m+=4)se(this,m,m+3),se(this,m+1,m+2);return this},A.prototype.swap64=function(){const _=this.length;if(_%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<_;m+=8)se(this,m,m+7),se(this,m+1,m+6),se(this,m+2,m+5),se(this,m+3,m+4);return this},A.prototype.toLocaleString=A.prototype.toString=function(){const _=this.length;return 0===_?"":0===arguments.length?y(this,0,_):ae.apply(this,arguments)},A.prototype.equals=function(_){if(!A.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_||0===A.compare(this,_)},A.prototype.inspect=function(){let _="";const m=H.INSPECT_MAX_BYTES;return _=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(_+=" ... "),"<Buffer "+_+">"},k&&(A.prototype[k]=A.prototype.inspect),A.prototype.compare=function(_,m,U,ne,ge){if(Fe(_,Uint8Array)&&(_=A.from(_,_.offset,_.byteLength)),!A.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(void 0===m&&(m=0),void 0===U&&(U=_?_.length:0),void 0===ne&&(ne=0),void 0===ge&&(ge=this.length),m<0||U>_.length||ne<0||ge>this.length)throw new RangeError("out of range index");if(ne>=ge&&m>=U)return 0;if(ne>=ge)return-1;if(m>=U)return 1;if(this===_)return 0;let Ae=(ge>>>=0)-(ne>>>=0),tt=(U>>>=0)-(m>>>=0);const Bt=Math.min(Ae,tt),gt=this.slice(ne,ge),It=_.slice(m,U);for(let Zt=0;Zt<Bt;++Zt)if(gt[Zt]!==It[Zt]){Ae=gt[Zt],tt=It[Zt];break}return Ae<tt?-1:tt<Ae?1:0},A.prototype.includes=function(_,m,U){return-1!==this.indexOf(_,m,U)},A.prototype.indexOf=function(_,m,U){return de(this,_,m,U,!0)},A.prototype.lastIndexOf=function(_,m,U){return de(this,_,m,U,!1)},A.prototype.write=function(_,m,U,ne){if(void 0===m)ne="utf8",U=this.length,m=0;else if(void 0===U&&"string"==typeof m)ne=m,U=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m>>>=0,isFinite(U)?(U>>>=0,void 0===ne&&(ne="utf8")):(ne=U,U=void 0)}const ge=this.length-m;if((void 0===U||U>ge)&&(U=ge),_.length>0&&(U<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");let Ae=!1;for(;;)switch(ne){case"hex":return be(this,_,m,U);case"utf8":case"utf-8":return xe(this,_,m,U);case"ascii":case"latin1":case"binary":return ke(this,_,m,U);case"base64":return C(this,_,m,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,_,m,U);default:if(Ae)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),Ae=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const g=4096;function T(N,_,m){let U="";m=Math.min(N.length,m);for(let ne=_;ne<m;++ne)U+=String.fromCharCode(127&N[ne]);return U}function B(N,_,m){let U="";m=Math.min(N.length,m);for(let ne=_;ne<m;++ne)U+=String.fromCharCode(N[ne]);return U}function S(N,_,m){const U=N.length;(!_||_<0)&&(_=0),(!m||m<0||m>U)&&(m=U);let ne="";for(let ge=_;ge<m;++ge)ne+=We[N[ge]];return ne}function s(N,_,m){const U=N.slice(_,m);let ne="";for(let ge=0;ge<U.length-1;ge+=2)ne+=String.fromCharCode(U[ge]+256*U[ge+1]);return ne}function v(N,_,m){if(N%1!=0||N<0)throw new RangeError("offset is not uint");if(N+_>m)throw new RangeError("Trying to access beyond buffer length")}function W(N,_,m,U,ne,ge){if(!A.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>ne||_<ge)throw new RangeError('"value" argument is out of bounds');if(m+U>N.length)throw new RangeError("Index out of range")}function K(N,_,m,U,ne){ye(_,U,ne,N,m,7);let ge=Number(_&BigInt(4294967295));N[m++]=ge,ge>>=8,N[m++]=ge,ge>>=8,N[m++]=ge,ge>>=8,N[m++]=ge;let Ae=Number(_>>BigInt(32)&BigInt(4294967295));return N[m++]=Ae,Ae>>=8,N[m++]=Ae,Ae>>=8,N[m++]=Ae,Ae>>=8,N[m++]=Ae,m}function ee(N,_,m,U,ne){ye(_,U,ne,N,m,7);let ge=Number(_&BigInt(4294967295));N[m+7]=ge,ge>>=8,N[m+6]=ge,ge>>=8,N[m+5]=ge,ge>>=8,N[m+4]=ge;let Ae=Number(_>>BigInt(32)&BigInt(4294967295));return N[m+3]=Ae,Ae>>=8,N[m+2]=Ae,Ae>>=8,N[m+1]=Ae,Ae>>=8,N[m]=Ae,m+8}function ce(N,_,m,U,ne,ge){if(m+U>N.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function _e(N,_,m,U,ne){return _=+_,m>>>=0,ne||ce(N,0,m,4),E.write(N,_,m,U,23,4),m+4}function Oe(N,_,m,U,ne){return _=+_,m>>>=0,ne||ce(N,0,m,8),E.write(N,_,m,U,52,8),m+8}A.prototype.slice=function(_,m){const U=this.length;(_=~~_)<0?(_+=U)<0&&(_=0):_>U&&(_=U),(m=void 0===m?U:~~m)<0?(m+=U)<0&&(m=0):m>U&&(m=U),m<_&&(m=_);const ne=this.subarray(_,m);return Object.setPrototypeOf(ne,A.prototype),ne},A.prototype.readUintLE=A.prototype.readUIntLE=function(_,m,U){_>>>=0,m>>>=0,U||v(_,m,this.length);let ne=this[_],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[_+Ae]*ge;return ne},A.prototype.readUintBE=A.prototype.readUIntBE=function(_,m,U){_>>>=0,m>>>=0,U||v(_,m,this.length);let ne=this[_+--m],ge=1;for(;m>0&&(ge*=256);)ne+=this[_+--m]*ge;return ne},A.prototype.readUint8=A.prototype.readUInt8=function(_,m){return _>>>=0,m||v(_,1,this.length),this[_]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(_,m){return _>>>=0,m||v(_,2,this.length),this[_]|this[_+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(_,m){return _>>>=0,m||v(_,2,this.length),this[_]<<8|this[_+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(_,m){return _>>>=0,m||v(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+16777216*this[_+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(_,m){return _>>>=0,m||v(_,4,this.length),16777216*this[_]+(this[_+1]<<16|this[_+2]<<8|this[_+3])},A.prototype.readBigUInt64LE=Le(function(_){De(_>>>=0,"offset");const m=this[_],U=this[_+7];(void 0===m||void 0===U)&&pe(_,this.length-8);const ne=m+256*this[++_]+65536*this[++_]+this[++_]*2**24,ge=this[++_]+256*this[++_]+65536*this[++_]+U*2**24;return BigInt(ne)+(BigInt(ge)<<BigInt(32))}),A.prototype.readBigUInt64BE=Le(function(_){De(_>>>=0,"offset");const m=this[_],U=this[_+7];(void 0===m||void 0===U)&&pe(_,this.length-8);const ne=m*2**24+65536*this[++_]+256*this[++_]+this[++_],ge=this[++_]*2**24+65536*this[++_]+256*this[++_]+U;return(BigInt(ne)<<BigInt(32))+BigInt(ge)}),A.prototype.readIntLE=function(_,m,U){_>>>=0,m>>>=0,U||v(_,m,this.length);let ne=this[_],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[_+Ae]*ge;return ge*=128,ne>=ge&&(ne-=Math.pow(2,8*m)),ne},A.prototype.readIntBE=function(_,m,U){_>>>=0,m>>>=0,U||v(_,m,this.length);let ne=m,ge=1,Ae=this[_+--ne];for(;ne>0&&(ge*=256);)Ae+=this[_+--ne]*ge;return ge*=128,Ae>=ge&&(Ae-=Math.pow(2,8*m)),Ae},A.prototype.readInt8=function(_,m){return _>>>=0,m||v(_,1,this.length),128&this[_]?-1*(255-this[_]+1):this[_]},A.prototype.readInt16LE=function(_,m){_>>>=0,m||v(_,2,this.length);const U=this[_]|this[_+1]<<8;return 32768&U?4294901760|U:U},A.prototype.readInt16BE=function(_,m){_>>>=0,m||v(_,2,this.length);const U=this[_+1]|this[_]<<8;return 32768&U?4294901760|U:U},A.prototype.readInt32LE=function(_,m){return _>>>=0,m||v(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},A.prototype.readInt32BE=function(_,m){return _>>>=0,m||v(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},A.prototype.readBigInt64LE=Le(function(_){De(_>>>=0,"offset");const m=this[_],U=this[_+7];return(void 0===m||void 0===U)&&pe(_,this.length-8),(BigInt(this[_+4]+256*this[_+5]+65536*this[_+6]+(U<<24))<<BigInt(32))+BigInt(m+256*this[++_]+65536*this[++_]+this[++_]*2**24)}),A.prototype.readBigInt64BE=Le(function(_){De(_>>>=0,"offset");const m=this[_],U=this[_+7];(void 0===m||void 0===U)&&pe(_,this.length-8);const ne=(m<<24)+65536*this[++_]+256*this[++_]+this[++_];return(BigInt(ne)<<BigInt(32))+BigInt(this[++_]*2**24+65536*this[++_]+256*this[++_]+U)}),A.prototype.readFloatLE=function(_,m){return _>>>=0,m||v(_,4,this.length),E.read(this,_,!0,23,4)},A.prototype.readFloatBE=function(_,m){return _>>>=0,m||v(_,4,this.length),E.read(this,_,!1,23,4)},A.prototype.readDoubleLE=function(_,m){return _>>>=0,m||v(_,8,this.length),E.read(this,_,!0,52,8)},A.prototype.readDoubleBE=function(_,m){return _>>>=0,m||v(_,8,this.length),E.read(this,_,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(_,m,U,ne){_=+_,m>>>=0,U>>>=0,ne||W(this,_,m,U,Math.pow(2,8*U)-1,0);let ge=1,Ae=0;for(this[m]=255&_;++Ae<U&&(ge*=256);)this[m+Ae]=_/ge&255;return m+U},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(_,m,U,ne){_=+_,m>>>=0,U>>>=0,ne||W(this,_,m,U,Math.pow(2,8*U)-1,0);let ge=U-1,Ae=1;for(this[m+ge]=255&_;--ge>=0&&(Ae*=256);)this[m+ge]=_/Ae&255;return m+U},A.prototype.writeUint8=A.prototype.writeUInt8=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,1,255,0),this[m]=255&_,m+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,2,65535,0),this[m]=255&_,this[m+1]=_>>>8,m+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,2,65535,0),this[m]=_>>>8,this[m+1]=255&_,m+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,4,4294967295,0),this[m+3]=_>>>24,this[m+2]=_>>>16,this[m+1]=_>>>8,this[m]=255&_,m+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,4,4294967295,0),this[m]=_>>>24,this[m+1]=_>>>16,this[m+2]=_>>>8,this[m+3]=255&_,m+4},A.prototype.writeBigUInt64LE=Le(function(_,m=0){return K(this,_,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=Le(function(_,m=0){return ee(this,_,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(_,m,U,ne){if(_=+_,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,_,m,U,Bt-1,-Bt)}let ge=0,Ae=1,tt=0;for(this[m]=255&_;++ge<U&&(Ae*=256);)_<0&&0===tt&&0!==this[m+ge-1]&&(tt=1),this[m+ge]=(_/Ae|0)-tt&255;return m+U},A.prototype.writeIntBE=function(_,m,U,ne){if(_=+_,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,_,m,U,Bt-1,-Bt)}let ge=U-1,Ae=1,tt=0;for(this[m+ge]=255&_;--ge>=0&&(Ae*=256);)_<0&&0===tt&&0!==this[m+ge+1]&&(tt=1),this[m+ge]=(_/Ae|0)-tt&255;return m+U},A.prototype.writeInt8=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,1,127,-128),_<0&&(_=255+_+1),this[m]=255&_,m+1},A.prototype.writeInt16LE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,2,32767,-32768),this[m]=255&_,this[m+1]=_>>>8,m+2},A.prototype.writeInt16BE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,2,32767,-32768),this[m]=_>>>8,this[m+1]=255&_,m+2},A.prototype.writeInt32LE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,4,2147483647,-2147483648),this[m]=255&_,this[m+1]=_>>>8,this[m+2]=_>>>16,this[m+3]=_>>>24,m+4},A.prototype.writeInt32BE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[m]=_>>>24,this[m+1]=_>>>16,this[m+2]=_>>>8,this[m+3]=255&_,m+4},A.prototype.writeBigInt64LE=Le(function(_,m=0){return K(this,_,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=Le(function(_,m=0){return ee(this,_,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeFloatLE=function(_,m,U){return _e(this,_,m,!0,U)},A.prototype.writeFloatBE=function(_,m,U){return _e(this,_,m,!1,U)},A.prototype.writeDoubleLE=function(_,m,U){return Oe(this,_,m,!0,U)},A.prototype.writeDoubleBE=function(_,m,U){return Oe(this,_,m,!1,U)},A.prototype.copy=function(_,m,U,ne){if(!A.isBuffer(_))throw new TypeError("argument should be a Buffer");if(U||(U=0),!ne&&0!==ne&&(ne=this.length),m>=_.length&&(m=_.length),m||(m=0),ne>0&&ne<U&&(ne=U),ne===U||0===_.length||0===this.length)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),_.length-m<ne-U&&(ne=_.length-m+U);const ge=ne-U;return this===_&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(m,U,ne):Uint8Array.prototype.set.call(_,this.subarray(U,ne),m),ge},A.prototype.fill=function(_,m,U,ne){if("string"==typeof _){if("string"==typeof m?(ne=m,m=0,U=this.length):"string"==typeof U&&(ne=U,U=this.length),void 0!==ne&&"string"!=typeof ne)throw new TypeError("encoding must be a string");if("string"==typeof ne&&!A.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(1===_.length){const Ae=_.charCodeAt(0);("utf8"===ne&&Ae<128||"latin1"===ne)&&(_=Ae)}}else"number"==typeof _?_&=255:"boolean"==typeof _&&(_=Number(_));if(m<0||this.length<m||this.length<U)throw new RangeError("Out of range index");if(U<=m)return this;let ge;if(m>>>=0,U=void 0===U?this.length:U>>>0,_||(_=0),"number"==typeof _)for(ge=m;ge<U;++ge)this[ge]=_;else{const Ae=A.isBuffer(_)?_:A.from(_,ne),tt=Ae.length;if(0===tt)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(ge=0;ge<U-m;++ge)this[ge+m]=Ae[ge%tt]}return this};const Ve={};function Se(N,_,m){Ve[N]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${N}]`,delete this.name}get code(){return N}set code(ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ne,writable:!0})}toString(){return`${this.name} [${N}]: ${this.message}`}}}function we(N){let _="",m=N.length;const U="-"===N[0]?1:0;for(;m>=U+4;m-=3)_=`_${N.slice(m-3,m)}${_}`;return`${N.slice(0,m)}${_}`}function ye(N,_,m,U,ne,ge){if(N>m||N<_){const Ae="bigint"==typeof _?"n":"";let tt;throw tt=ge>3?0===_||_===BigInt(0)?`>= 0${Ae} and < 2${Ae} ** ${8*(ge+1)}${Ae}`:`>= -(2${Ae} ** ${8*(ge+1)-1}${Ae}) and < 2 ** ${8*(ge+1)-1}${Ae}`:`>= ${_}${Ae} and <= ${m}${Ae}`,new Ve.ERR_OUT_OF_RANGE("value",tt,N)}!function Ue(N,_,m){De(_,"offset"),(void 0===N[_]||void 0===N[_+m])&&pe(_,N.length-(m+1))}(U,ne,ge)}function De(N,_){if("number"!=typeof N)throw new Ve.ERR_INVALID_ARG_TYPE(_,"number",N)}function pe(N,_,m){throw Math.floor(N)!==N?(De(N,m),new Ve.ERR_OUT_OF_RANGE(m||"offset","an integer",N)):_<0?new Ve.ERR_BUFFER_OUT_OF_BOUNDS:new Ve.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${_}`,N)}Se("ERR_BUFFER_OUT_OF_BOUNDS",function(N){return N?`${N} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Se("ERR_INVALID_ARG_TYPE",function(N,_){return`The "${N}" argument must be of type number. Received type ${typeof _}`},TypeError),Se("ERR_OUT_OF_RANGE",function(N,_,m){let U=`The value of "${N}" is out of range.`,ne=m;return Number.isInteger(m)&&Math.abs(m)>2**32?ne=we(String(m)):"bigint"==typeof m&&(ne=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(ne=we(ne)),ne+="n"),U+=` It must be ${_}. Received ${ne}`,U},RangeError);const ue=/[^+/0-9A-Za-z-_]/g;function oe(N,_){let m;_=_||1/0;const U=N.length;let ne=null;const ge=[];for(let Ae=0;Ae<U;++Ae){if(m=N.charCodeAt(Ae),m>55295&&m<57344){if(!ne){if(m>56319){(_-=3)>-1&&ge.push(239,191,189);continue}if(Ae+1===U){(_-=3)>-1&&ge.push(239,191,189);continue}ne=m;continue}if(m<56320){(_-=3)>-1&&ge.push(239,191,189),ne=m;continue}m=65536+(ne-55296<<10|m-56320)}else ne&&(_-=3)>-1&&ge.push(239,191,189);if(ne=null,m<128){if((_-=1)<0)break;ge.push(m)}else if(m<2048){if((_-=2)<0)break;ge.push(m>>6|192,63&m|128)}else if(m<65536){if((_-=3)<0)break;ge.push(m>>12|224,m>>6&63|128,63&m|128)}else{if(!(m<1114112))throw new Error("Invalid code point");if((_-=4)<0)break;ge.push(m>>18|240,m>>12&63|128,m>>6&63|128,63&m|128)}}return ge}function Re(N){return d.toByteArray(function Q(N){if((N=(N=N.split("=")[0]).trim().replace(ue,"")).length<2)return"";for(;N.length%4!=0;)N+="=";return N}(N))}function $e(N,_,m,U){let ne;for(ne=0;ne<U&&!(ne+m>=_.length||ne>=N.length);++ne)_[ne+m]=N[ne];return ne}function Fe(N,_){return N instanceof _||null!=N&&null!=N.constructor&&null!=N.constructor.name&&N.constructor.name===_.name}function _t(N){return N!=N}const We=function(){const N="0123456789abcdef",_=new Array(256);for(let m=0;m<16;++m){const U=16*m;for(let ne=0;ne<16;++ne)_[U+ne]=N[m]+N[ne]}return _}();function Le(N){return typeof BigInt>"u"?lt:N}function lt(){throw new Error("BigInt not supported")}},95099:(je,H,w)=>{w(23963)},55397:(je,H,w)=>{"use strict";const{AbortError:d,codes:E}=w(85833),{isNodeStream:k,isWebStream:z,kControllerErrorFunction:x}=w(76989),O=w(68208),{ERR_INVALID_ARG_TYPE:A}=E;je.exports.addAbortSignal=function(L,D){if(((F,L)=>{if("object"!=typeof F||!("aborted"in F))throw new A("signal","AbortSignal",F)})(L),!k(D)&&!z(D))throw new A("stream",["ReadableStream","WritableStream","Stream"],D);return je.exports.addAbortSignalNoValidate(L,D)},je.exports.addAbortSignalNoValidate=function(F,L){if("object"!=typeof F||!("aborted"in F))return L;const D=k(L)?()=>{L.destroy(new d(void 0,{cause:F.reason}))}:()=>{L[x](new d(void 0,{cause:F.reason}))};return F.aborted?D():(F.addEventListener("abort",D),O(L,()=>F.removeEventListener("abort",D))),L}},54863:(je,H,w)=>{"use strict";const{StringPrototypeSlice:d,SymbolIterator:E,TypedArrayPrototypeSet:k,Uint8Array:z}=w(2220),{Buffer:x}=w(37945),{inspect:O}=w(82578);je.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(P){const F={data:P,next:null};this.length>0?this.tail.next=F:this.head=F,this.tail=F,++this.length}unshift(P){const F={data:P,next:this.head};0===this.length&&(this.tail=F),this.head=F,++this.length}shift(){if(0===this.length)return;const P=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,P}clear(){this.head=this.tail=null,this.length=0}join(P){if(0===this.length)return"";let F=this.head,L=""+F.data;for(;null!==(F=F.next);)L+=P+F.data;return L}concat(P){if(0===this.length)return x.alloc(0);const F=x.allocUnsafe(P>>>0);let L=this.head,D=0;for(;L;)k(F,L.data,D),D+=L.data.length,L=L.next;return F}consume(P,F){const L=this.head.data;if(P<L.length){const D=L.slice(0,P);return this.head.data=L.slice(P),D}return P===L.length?this.shift():F?this._getString(P):this._getBuffer(P)}first(){return this.head.data}*[E](){for(let P=this.head;P;P=P.next)yield P.data}_getString(P){let F="",L=this.head,D=0;do{const X=L.data;if(!(P>X.length)){P===X.length?(F+=X,++D,this.head=L.next?L.next:this.tail=null):(F+=d(X,0,P),this.head=L,L.data=d(X,P));break}F+=X,P-=X.length,++D}while(null!==(L=L.next));return this.length-=D,F}_getBuffer(P){const F=x.allocUnsafe(P),L=P;let D=this.head,X=0;do{const j=D.data;if(!(P>j.length)){P===j.length?(k(F,j,L-P),++X,this.head=D.next?D.next:this.tail=null):(k(F,new z(j.buffer,j.byteOffset,P),L-P),this.head=D,D.data=j.slice(P));break}k(F,j,L-P),P-=j.length,++X}while(null!==(D=D.next));return this.length-=X,F}[Symbol.for("nodejs.util.inspect.custom")](P,F){return O(this,{...F,depth:0,customInspect:!1})}}},90972:(je,H,w)=>{"use strict";var d=w(29293).default;const{pipeline:E}=w(63596),k=w(85892),{destroyer:z}=w(23370),{isNodeStream:x,isReadable:O,isWritable:A,isWebStream:P,isTransformStream:F,isWritableStream:L,isReadableStream:D}=w(76989),{AbortError:X,codes:{ERR_INVALID_ARG_VALUE:j,ERR_MISSING_ARGS:G}}=w(85833),re=w(68208);je.exports=function(...J){if(0===J.length)throw new G("streams");if(1===J.length)return k.from(J[0]);const Z=[...J];if("function"==typeof J[0]&&(J[0]=k.from(J[0])),"function"==typeof J[J.length-1]){const f=J.length-1;J[f]=k.from(J[f])}for(let f=0;f<J.length;++f)if(x(J[f])||P(J[f])){if(f<J.length-1&&!(O(J[f])||D(J[f])||F(J[f])))throw new j(`streams[${f}]`,Z[f],"must be readable");if(f>0&&!(A(J[f])||L(J[f])||F(J[f])))throw new j(`streams[${f}]`,Z[f],"must be writable")}let ie,ae,se,de,le;const xe=J[0],ke=E(J,function be(f){const y=de;de=null,y?y(f):f?le.destroy(f):!a&&!C&&le.destroy()}),C=!!(A(xe)||L(xe)||F(xe)),a=!!(O(ke)||D(ke)||F(ke));if(le=new k({writableObjectMode:!(null==xe||!xe.writableObjectMode),readableObjectMode:!(null==ke||!ke.writableObjectMode),writable:C,readable:a}),C){if(x(xe))le._write=function(y,g,M){xe.write(y,g)?M():ie=M},le._final=function(y){xe.end(),ae=y},xe.on("drain",function(){if(ie){const y=ie;ie=null,y()}});else if(P(xe)){const g=(F(xe)?xe.writable:xe).getWriter();le._write=function(){var M=d(function*(T,B,S){try{yield g.ready,g.write(T).catch(()=>{}),S()}catch(s){S(s)}});return function(T,B,S){return M.apply(this,arguments)}}(),le._final=function(){var M=d(function*(T){try{yield g.ready,g.close().catch(()=>{}),ae=T}catch(B){T(B)}});return function(T){return M.apply(this,arguments)}}()}const f=F(ke)?ke.readable:ke;re(f,()=>{if(ae){const y=ae;ae=null,y()}})}if(a)if(x(ke))ke.on("readable",function(){if(se){const f=se;se=null,f()}}),ke.on("end",function(){le.push(null)}),le._read=function(){for(;;){const f=ke.read();if(null===f)return void(se=le._read);if(!le.push(f))return}};else if(P(ke)){const y=(F(ke)?ke.readable:ke).getReader();le._read=d(function*(){for(;;)try{const{value:g,done:M}=yield y.read();if(!le.push(g))return;if(M)return void le.push(null)}catch{return}})}return le._destroy=function(f,y){!f&&null!==de&&(f=new X),se=null,ie=null,ae=null,null===de?y(f):(de=y,x(ke)&&z(ke,f))},le}},23370:(je,H,w)=>{"use strict";const d=w(40573),{aggregateTwoErrors:E,codes:{ERR_MULTIPLE_CALLBACK:k},AbortError:z}=w(85833),{Symbol:x}=w(2220),{kDestroyed:O,isDestroyed:A,isFinished:P,isServerRequest:F}=w(76989),L=x("kDestroy"),D=x("kConstruct");function X(C,a,f){C&&(a&&!a.errored&&(a.errored=C),f&&!f.errored&&(f.errored=C))}function G(C,a,f){let y=!1;function g(M){if(y)return;y=!0;const T=C._readableState,B=C._writableState;X(M,B,T),B&&(B.closed=!0),T&&(T.closed=!0),"function"==typeof f&&f(M),M?d.nextTick(re,C,M):d.nextTick(te,C)}try{C._destroy(a||null,g)}catch(M){g(M)}}function re(C,a){J(C,a),te(C)}function te(C){const a=C._readableState,f=C._writableState;f&&(f.closeEmitted=!0),a&&(a.closeEmitted=!0),(null!=f&&f.emitClose||null!=a&&a.emitClose)&&C.emit("close")}function J(C,a){const f=C._readableState,y=C._writableState;null!=y&&y.errorEmitted||null!=f&&f.errorEmitted||(y&&(y.errorEmitted=!0),f&&(f.errorEmitted=!0),C.emit("error",a))}function ie(C,a,f){const y=C._readableState,g=C._writableState;if(null!=g&&g.destroyed||null!=y&&y.destroyed)return this;null!=y&&y.autoDestroy||null!=g&&g.autoDestroy?C.destroy(a):a&&(g&&!g.errored&&(g.errored=a),y&&!y.errored&&(y.errored=a),f?d.nextTick(J,C,a):J(C,a))}function se(C){let a=!1;function f(y){if(a)return void ie(C,y??new k);a=!0;const g=C._readableState,M=C._writableState,T=M||g;g&&(g.constructed=!0),M&&(M.constructed=!0),T.destroyed?C.emit(L,y):y?ie(C,y,!0):d.nextTick(de,C)}try{C._construct(y=>{d.nextTick(f,y)})}catch(y){d.nextTick(f,y)}}function de(C){C.emit(D)}function le(C){return C?.setHeader&&"function"==typeof C.abort}function be(C){C.emit("close")}function xe(C,a){C.emit("error",a),d.nextTick(be,C)}je.exports={construct:function ae(C,a){if("function"!=typeof C._construct)return;const f=C._readableState,y=C._writableState;f&&(f.constructed=!1),y&&(y.constructed=!1),C.once(D,a),!(C.listenerCount(D)>1)&&d.nextTick(se,C)},destroyer:function ke(C,a){!C||A(C)||(!a&&!P(C)&&(a=new z),F(C)?(C.socket=null,C.destroy(a)):le(C)?C.abort():le(C.req)?C.req.abort():"function"==typeof C.destroy?C.destroy(a):"function"==typeof C.close?C.close():a?d.nextTick(xe,C,a):d.nextTick(be,C),C.destroyed||(C[O]=!0))},destroy:function j(C,a){const f=this._readableState,y=this._writableState,g=y||f;return null!=y&&y.destroyed||null!=f&&f.destroyed?("function"==typeof a&&a(),this):(X(C,y,f),y&&(y.destroyed=!0),f&&(f.destroyed=!0),g.constructed?G(this,C,a):this.once(L,function(M){G(this,E(M,C),a)}),this)},undestroy:function Z(){const C=this._readableState,a=this._writableState;C&&(C.constructed=!0,C.closed=!1,C.closeEmitted=!1,C.destroyed=!1,C.errored=null,C.errorEmitted=!1,C.reading=!1,C.ended=!1===C.readable,C.endEmitted=!1===C.readable),a&&(a.constructed=!0,a.destroyed=!1,a.closed=!1,a.closeEmitted=!1,a.errored=null,a.errorEmitted=!1,a.finalCalled=!1,a.prefinished=!1,a.ended=!1===a.writable,a.ending=!1===a.writable,a.finished=!1===a.writable)},errorOrDestroy:ie}},85892:(je,H,w)=>{"use strict";const{ObjectDefineProperties:d,ObjectGetOwnPropertyDescriptor:E,ObjectKeys:k,ObjectSetPrototypeOf:z}=w(2220);je.exports=A;const x=w(84730),O=w(39070);z(A.prototype,x.prototype),z(A,x);{const D=k(O.prototype);for(let X=0;X<D.length;X++){const j=D[X];A.prototype[j]||(A.prototype[j]=O.prototype[j])}}function A(D){if(!(this instanceof A))return new A(D);x.call(this,D),O.call(this,D),D?(this.allowHalfOpen=!1!==D.allowHalfOpen,!1===D.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===D.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let P,L;function F(){return void 0===P&&(P={}),P}d(A.prototype,{writable:{__proto__:null,...E(O.prototype,"writable")},writableHighWaterMark:{__proto__:null,...E(O.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...E(O.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...E(O.prototype,"writableBuffer")},writableLength:{__proto__:null,...E(O.prototype,"writableLength")},writableFinished:{__proto__:null,...E(O.prototype,"writableFinished")},writableCorked:{__proto__:null,...E(O.prototype,"writableCorked")},writableEnded:{__proto__:null,...E(O.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...E(O.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(D){this._readableState&&this._writableState&&(this._readableState.destroyed=D,this._writableState.destroyed=D)}}}),A.fromWeb=function(D,X){return F().newStreamDuplexFromReadableWritablePair(D,X)},A.toWeb=function(D){return F().newReadableWritablePairFromDuplex(D)},A.from=function(D){return L||(L=w(99460)),L(D,"body")}},99460:(je,H,w)=>{var d=w(29293).default,E=w(53344).default,k=w(42958).default;const z=w(40573),x=w(37945),{isReadable:O,isWritable:A,isIterable:P,isNodeStream:F,isReadableNodeStream:L,isWritableNodeStream:D,isDuplexNodeStream:X}=w(76989),j=w(68208),{AbortError:G,codes:{ERR_INVALID_ARG_TYPE:re,ERR_INVALID_RETURN_VALUE:te}}=w(85833),{destroyer:J}=w(23370),Z=w(85892),ie=w(84730),{createDeferredPromise:ae}=w(82578),se=w(94506),de=globalThis.Blob||x.Blob,le=typeof de<"u"?function(y){return y instanceof de}:function(y){return!1},be=globalThis.AbortController||w(9465).AbortController,{FunctionPrototypeCall:xe}=w(2220);class ke extends Z{constructor(y){super(y),!1===y?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===y?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function a(f){const y=f.readable&&"function"!=typeof f.readable.read?ie.wrap(f.readable):f.readable,g=f.writable;let B,S,s,v,W,M=!!O(y),T=!!A(g);function K(ee){const ce=v;v=null,ce?ce(ee):ee&&W.destroy(ee)}return W=new ke({readableObjectMode:!(null==y||!y.readableObjectMode),writableObjectMode:!(null==g||!g.writableObjectMode),readable:M,writable:T}),T&&(j(g,ee=>{T=!1,ee&&J(y,ee),K(ee)}),W._write=function(ee,ce,_e){g.write(ee,ce)?_e():B=_e},W._final=function(ee){g.end(),S=ee},g.on("drain",function(){if(B){const ee=B;B=null,ee()}}),g.on("finish",function(){if(S){const ee=S;S=null,ee()}})),M&&(j(y,ee=>{M=!1,ee&&J(y,ee),K(ee)}),y.on("readable",function(){if(s){const ee=s;s=null,ee()}}),y.on("end",function(){W.push(null)}),W._read=function(){for(;;){const ee=y.read();if(null===ee)return void(s=W._read);if(!W.push(ee))return}}),W._destroy=function(ee,ce){!ee&&null!==v&&(ee=new G),s=null,B=null,S=null,null===v?ce(ee):(v=ce,J(g,ee),J(y,ee))},W}je.exports=function f(y,g){if(X(y))return y;if(L(y))return a({readable:y});if(D(y))return a({writable:y});if(F(y))return a({writable:!1,readable:!1});if("function"==typeof y){const{value:T,write:B,final:S,destroy:s}=function C(f){let{promise:y,resolve:g}=ae();const M=new be,T=M.signal;return{value:f(k(function*(){for(;;){const S=y;y=null;const{chunk:s,done:v,cb:W}=yield E(S);if(z.nextTick(W),v)return;if(T.aborted)throw new G(void 0,{cause:T.reason});({promise:y,resolve:g}=ae()),yield s}})(),{signal:T}),write(S,s,v){const W=g;g=null,W({chunk:S,done:!1,cb:v})},final(S){const s=g;g=null,s({done:!0,cb:S})},destroy(S,s){M.abort(),s(S)}}}(y);if(P(T))return se(ke,T,{objectMode:!0,write:B,final:S,destroy:s});const v=T?.then;if("function"==typeof v){let W;const K=xe(v,T,ee=>{if(null!=ee)throw new te("nully","body",ee)},ee=>{J(W,ee)});return W=new ke({objectMode:!0,readable:!1,write:B,final(ee){S(d(function*(){try{yield K,z.nextTick(ee,null)}catch(ce){z.nextTick(ee,ce)}}))},destroy:s})}throw new te("Iterable, AsyncIterable or AsyncFunction",g,T)}if(le(y))return f(y.arrayBuffer());if(P(y))return se(ke,y,{objectMode:!0,writable:!1});if("object"==typeof y?.writable||"object"==typeof y?.readable)return a({readable:null!=y&&y.readable?L(y?.readable)?y?.readable:f(y.readable):void 0,writable:null!=y&&y.writable?D(y?.writable)?y?.writable:f(y.writable):void 0});const M=y?.then;if("function"==typeof M){let T;return xe(M,y,B=>{null!=B&&T.push(B),T.push(null)},B=>{J(T,B)}),T=new ke({objectMode:!0,writable:!1,read(){}})}throw new re(g,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],y)}},68208:(je,H,w)=>{const d=w(40573),{AbortError:E,codes:k}=w(85833),{ERR_INVALID_ARG_TYPE:z,ERR_STREAM_PREMATURE_CLOSE:x}=k,{kEmptyObject:O,once:A}=w(82578),{validateAbortSignal:P,validateFunction:F,validateObject:L,validateBoolean:D}=w(48119),{Promise:X,PromisePrototypeThen:j}=w(2220),{isClosed:G,isReadable:re,isReadableNodeStream:te,isReadableStream:J,isReadableFinished:Z,isReadableErrored:ie,isWritable:ae,isWritableNodeStream:se,isWritableStream:de,isWritableFinished:le,isWritableErrored:be,isNodeStream:xe,willEmitClose:ke,kIsClosedPromise:C}=w(76989),f=()=>{};function y(T,B,S){var s,v;if(2===arguments.length?(S=B,B=O):null==B?B=O:L(B,"options"),F(S,"callback"),P(B.signal,"options.signal"),S=A(S),J(T)||de(T))return function g(T,B,S){let s=!1,v=f;if(B.signal)if(v=()=>{s=!0,S.call(T,new E(void 0,{cause:B.signal.reason}))},B.signal.aborted)d.nextTick(v);else{const K=S;S=A((...ee)=>{B.signal.removeEventListener("abort",v),K.apply(T,ee)}),B.signal.addEventListener("abort",v)}const W=(...K)=>{s||d.nextTick(()=>S.apply(T,K))};return j(T[C].promise,W,W),f}(T,B,S);if(!xe(T))throw new z("stream",["ReadableStream","WritableStream","Stream"],T);const W=null!==(s=B.readable)&&void 0!==s?s:te(T),K=null!==(v=B.writable)&&void 0!==v?v:se(T),ee=T._writableState,ce=T._readableState,_e=()=>{T.writable||Se()};let Oe=ke(T)&&te(T)===W&&se(T)===K,Ve=le(T,!1);const Se=()=>{Ve=!0,T.destroyed&&(Oe=!1),(!Oe||T.readable&&!W)&&(!W||we)&&S.call(T)};let we=Z(T,!1);const Ue=()=>{we=!0,T.destroyed&&(Oe=!1),(!Oe||T.writable&&!K)&&(!K||Ve)&&S.call(T)},ye=fe=>{S.call(T,fe)};let De=G(T);const pe=()=>{De=!0;const fe=be(T)||ie(T);return fe&&"boolean"!=typeof fe?S.call(T,fe):W&&!we&&te(T,!0)&&!Z(T,!1)?S.call(T,new x):!K||Ve||le(T,!1)?void S.call(T):S.call(T,new x)},ue=()=>{De=!0;const fe=be(T)||ie(T);if(fe&&"boolean"!=typeof fe)return S.call(T,fe);S.call(T)},Q=()=>{T.req.on("finish",Se)};!function a(T){return T.setHeader&&"function"==typeof T.abort}(T)?K&&!ee&&(T.on("end",_e),T.on("close",_e)):(T.on("complete",Se),Oe||T.on("abort",pe),T.req?Q():T.on("request",Q)),!Oe&&"boolean"==typeof T.aborted&&T.on("aborted",pe),T.on("end",Ue),T.on("finish",Se),!1!==B.error&&T.on("error",ye),T.on("close",pe),De?d.nextTick(pe):null!=ee&&ee.errorEmitted||null!=ce&&ce.errorEmitted?Oe||d.nextTick(ue):(!W&&(!Oe||re(T))&&(Ve||!1===ae(T))||!K&&(!Oe||ae(T))&&(we||!1===re(T))||ce&&T.req&&T.aborted)&&d.nextTick(ue);const oe=()=>{S=f,T.removeListener("aborted",pe),T.removeListener("complete",Se),T.removeListener("abort",pe),T.removeListener("request",Q),T.req&&T.req.removeListener("finish",Se),T.removeListener("end",_e),T.removeListener("close",_e),T.removeListener("finish",Se),T.removeListener("end",Ue),T.removeListener("error",ye),T.removeListener("close",pe)};if(B.signal&&!De){const fe=()=>{const Ee=S;oe(),Ee.call(T,new E(void 0,{cause:B.signal.reason}))};if(B.signal.aborted)d.nextTick(fe);else{const Ee=S;S=A((...Re)=>{B.signal.removeEventListener("abort",fe),Ee.apply(T,Re)}),B.signal.addEventListener("abort",fe)}}return oe}je.exports=y,je.exports.finished=function M(T,B){var S;let s=!1;return null===B&&(B=O),null!==(S=B)&&void 0!==S&&S.cleanup&&(D(B.cleanup,"cleanup"),s=B.cleanup),new X((v,W)=>{const K=y(T,B,ee=>{s&&K(),ee?W(ee):v()})})}},94506:(je,H,w)=>{"use strict";var d=w(29293).default;const E=w(40573),{PromisePrototypeThen:k,SymbolAsyncIterator:z,SymbolIterator:x}=w(2220),{Buffer:O}=w(37945),{ERR_INVALID_ARG_TYPE:A,ERR_STREAM_NULL_VALUES:P}=w(85833).codes;je.exports=function F(L,D,X){let j,G;if("string"==typeof D||D instanceof O)return new L({objectMode:!0,...X,read(){this.push(D),this.push(null)}});if(D&&D[z])G=!0,j=D[z]();else{if(!D||!D[x])throw new A("iterable",["Iterable"],D);G=!1,j=D[x]()}const re=new L({objectMode:!0,highWaterMark:1,...X});let te=!1;function Z(){return(Z=d(function*(se){if(null!=se&&"function"==typeof j.throw){const{value:be,done:xe}=yield j.throw(se);if(yield be,xe)return}if("function"==typeof j.return){const{value:be}=yield j.return();yield be}})).apply(this,arguments)}function ae(){return(ae=d(function*(){for(;;){try{const{value:se,done:de}=G?yield j.next():j.next();if(de)re.push(null);else{const le=se&&"function"==typeof se.then?yield se:se;if(null===le)throw te=!1,new P;if(re.push(le))continue;te=!1}}catch(se){re.destroy(se)}break}})).apply(this,arguments)}return re._read=function(){te||(te=!0,function ie(){ae.apply(this,arguments)}())},re._destroy=function(se,de){k(function J(se){return Z.apply(this,arguments)}(se),()=>E.nextTick(de,se),le=>E.nextTick(de,le||se))},re}},90845:(je,H,w)=>{"use strict";const{ArrayIsArray:d,ObjectSetPrototypeOf:E}=w(2220),{EventEmitter:k}=w(44356);function z(O){k.call(this,O)}function x(O,A,P){if("function"==typeof O.prependListener)return O.prependListener(A,P);O._events&&O._events[A]?d(O._events[A])?O._events[A].unshift(P):O._events[A]=[P,O._events[A]]:O.on(A,P)}E(z.prototype,k.prototype),E(z,k),z.prototype.pipe=function(O,A){const P=this;function F(te){O.writable&&!1===O.write(te)&&P.pause&&P.pause()}function L(){P.readable&&P.resume&&P.resume()}P.on("data",F),O.on("drain",L),!O._isStdio&&(!A||!1!==A.end)&&(P.on("end",X),P.on("close",j));let D=!1;function X(){D||(D=!0,O.end())}function j(){D||(D=!0,"function"==typeof O.destroy&&O.destroy())}function G(te){re(),0===k.listenerCount(this,"error")&&this.emit("error",te)}function re(){P.removeListener("data",F),O.removeListener("drain",L),P.removeListener("end",X),P.removeListener("close",j),P.removeListener("error",G),O.removeListener("error",G),P.removeListener("end",re),P.removeListener("close",re),O.removeListener("close",re)}return x(P,"error",G),x(O,"error",G),P.on("end",re),P.on("close",re),O.on("close",re),O.emit("pipe",P),O},je.exports={Stream:z,prependListener:x}},54705:(je,H,w)=>{"use strict";var d=w(29293).default,E=w(93513).default,k=w(82881).default,z=w(53344).default,x=w(42958).default;const O=globalThis.AbortController||w(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:A,ERR_INVALID_ARG_TYPE:P,ERR_MISSING_ARGS:F,ERR_OUT_OF_RANGE:L},AbortError:D}=w(85833),{validateAbortSignal:X,validateInteger:j,validateObject:G}=w(48119),re=w(2220).Symbol("kWeak"),{finished:te}=w(68208),J=w(90972),{addAbortSignalNoValidate:Z}=w(55397),{isWritable:ie,isNodeStream:ae}=w(76989),{ArrayPrototypePush:se,MathFloor:de,Number:le,NumberIsNaN:be,Promise:xe,PromiseReject:ke,PromisePrototypeThen:C,Symbol:a}=w(2220),f=a("kEmpty"),y=a("kEof");function M(Q,oe){if("function"!=typeof Q)throw new P("fn",["Function","AsyncFunction"],Q);null!=oe&&G(oe,"options"),null!=oe?.signal&&X(oe.signal,"options.signal");let fe=1;return null!=oe?.concurrency&&(fe=de(oe.concurrency)),j(fe,"concurrency",1),function(){var Ee=x(function*(){var $e,Fe;const _t=new O,We=this,Le=[],lt=_t.signal,N={signal:lt},_=()=>_t.abort();null!=oe&&null!==($e=oe.signal)&&void 0!==$e&&$e.aborted&&_(),null==oe||null===(Fe=oe.signal)||void 0===Fe||Fe.addEventListener("abort",_);let m,U,ne=!1;function ge(){ne=!0}function tt(){return(tt=d(function*(){try{var It,Bt=!1,gt=!1;try{for(var mn,Zt=k(We);Bt=!(mn=yield Zt.next()).done;Bt=!1){let An=mn.value;var dn;if(ne)return;if(lt.aborted)throw new D;try{An=Q(An,N)}catch(en){An=ke(en)}An!==f&&("function"==typeof(null===(dn=An)||void 0===dn?void 0:dn.catch)&&An.catch(ge),Le.push(An),m&&(m(),m=null),!ne&&Le.length&&Le.length>=fe&&(yield new xe(en=>{U=en})))}}catch(An){gt=!0,It=An}finally{try{Bt&&null!=Zt.return&&(yield Zt.return())}finally{if(gt)throw It}}Le.push(y)}catch(An){const en=ke(An);C(en,void 0,ge),Le.push(en)}finally{var ar;ne=!0,m&&(m(),m=null),null==oe||null===(ar=oe.signal)||void 0===ar||ar.removeEventListener("abort",_)}})).apply(this,arguments)}!function Ae(){tt.apply(this,arguments)}();try{for(;;){for(;Le.length>0;){const Bt=yield z(Le[0]);if(Bt===y)return;if(lt.aborted)throw new D;Bt!==f&&(yield Bt),Le.shift(),U&&(U(),U=null)}yield z(new xe(Bt=>{m=Bt}))}}finally{_t.abort(),ne=!0,U&&(U(),U=null)}});return function Re(){return Ee.apply(this,arguments)}}().call(this)}function B(Q){return S.apply(this,arguments)}function S(){return(S=d(function*(Q,oe=void 0){var Re,fe=!1,Ee=!1;try{for(var $e=k(_e.call(this,Q,oe));fe=!(yield $e.next()).done;fe=!1)return!0}catch(_t){Ee=!0,Re=_t}finally{try{fe&&null!=$e.return&&(yield $e.return())}finally{if(Ee)throw Re}}return!1})).apply(this,arguments)}function v(){return(v=d(function*(Q,oe=void 0){if("function"!=typeof Q)throw new P("fn",["Function","AsyncFunction"],Q);return!(yield B.call(this,d(function*(...fe){return!(yield Q(...fe))}),oe))})).apply(this,arguments)}function K(){return(K=d(function*(Q,oe){var Re,fe=!1,Ee=!1;try{for(var Fe,$e=k(_e.call(this,Q,oe));fe=!(Fe=yield $e.next()).done;fe=!1)return Fe.value}catch(_t){Ee=!0,Re=_t}finally{try{fe&&null!=$e.return&&(yield $e.return())}finally{if(Ee)throw Re}}})).apply(this,arguments)}function ce(){return ce=d(function*(Q,oe){if("function"!=typeof Q)throw new P("fn",["Function","AsyncFunction"],Q);function Ee(){return(Ee=d(function*(Le,lt){return yield Q(Le,lt),f})).apply(this,arguments)}var Fe,Re=!1,$e=!1;try{for(var _t=k(M.call(this,function fe(Le,lt){return Ee.apply(this,arguments)},oe));Re=!(yield _t.next()).done;Re=!1);}catch(Le){$e=!0,Fe=Le}finally{try{Re&&null!=_t.return&&(yield _t.return())}finally{if($e)throw Fe}}}),ce.apply(this,arguments)}function _e(Q,oe){if("function"!=typeof Q)throw new P("fn",["Function","AsyncFunction"],Q);function Ee(){return(Ee=d(function*(Re,$e){return(yield Q(Re,$e))?Re:f})).apply(this,arguments)}return M.call(this,function fe(Re,$e){return Ee.apply(this,arguments)},oe)}class Oe extends F{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function Se(){return Se=d(function*(Q,oe,fe){var Ee;if("function"!=typeof Q)throw new P("reducer",["Function","AsyncFunction"],Q);null!=fe&&G(fe,"options"),null!=fe?.signal&&X(fe.signal,"options.signal");let Re=arguments.length>1;if(null!=fe&&null!==(Ee=fe.signal)&&void 0!==Ee&&Ee.aborted){const U=new D(void 0,{cause:fe.signal.reason});throw this.once("error",()=>{}),yield te(this.destroy(U)),U}const $e=new O,Fe=$e.signal;null!=fe&&fe.signal&&fe.signal.addEventListener("abort",()=>$e.abort(),{once:!0,[re]:this});let _t=!1;try{var lt,We=!1,Le=!1;try{for(var _,N=k(this);We=!(_=yield N.next()).done;We=!1){const U=_.value;var m;if(_t=!0,null!=fe&&null!==(m=fe.signal)&&void 0!==m&&m.aborted)throw new D;Re?oe=yield Q(oe,U,{signal:Fe}):(oe=U,Re=!0)}}catch(U){Le=!0,lt=U}finally{try{We&&null!=N.return&&(yield N.return())}finally{if(Le)throw lt}}if(!_t&&!Re)throw new Oe}finally{$e.abort()}return oe}),Se.apply(this,arguments)}function Ue(){return(Ue=d(function*(Q){null!=Q&&G(Q,"options"),null!=Q?.signal&&X(Q.signal,"options.signal");const oe=[];var Re,fe=!1,Ee=!1;try{for(var Fe,$e=k(this);fe=!(Fe=yield $e.next()).done;fe=!1){const We=Fe.value;var _t;if(null!=Q&&null!==(_t=Q.signal)&&void 0!==_t&&_t.aborted)throw new D(void 0,{cause:Q.signal.reason});se(oe,We)}}catch(We){Ee=!0,Re=We}finally{try{fe&&null!=$e.return&&(yield $e.return())}finally{if(Ee)throw Re}}return oe})).apply(this,arguments)}function De(Q){if(Q=le(Q),be(Q))return 0;if(Q<0)throw new L("number",">= 0",Q);return Q}je.exports.streamReturningOperators={asIndexedPairs:function T(Q=void 0){return null!=Q&&G(Q,"options"),null!=Q?.signal&&X(Q.signal,"options.signal"),function(){var oe=x(function*(){let Ee=0;var Fe,Re=!1,$e=!1;try{for(var We,_t=k(this);Re=!(We=yield z(_t.next())).done;Re=!1){const lt=We.value;var Le;if(null!=Q&&null!==(Le=Q.signal)&&void 0!==Le&&Le.aborted)throw new D({cause:Q.signal.reason});yield[Ee++,lt]}}catch(lt){$e=!0,Fe=lt}finally{try{Re&&null!=_t.return&&(yield z(_t.return()))}finally{if($e)throw Fe}}});return function fe(){return oe.apply(this,arguments)}}().call(this)},drop:function pe(Q,oe=void 0){return null!=oe&&G(oe,"options"),null!=oe?.signal&&X(oe.signal,"options.signal"),Q=De(Q),function(){var fe=x(function*(){var Re;if(null!=oe&&null!==(Re=oe.signal)&&void 0!==Re&&Re.aborted)throw new D;var _t,$e=!1,Fe=!1;try{for(var Le,We=k(this);$e=!(Le=yield z(We.next())).done;$e=!1){const N=Le.value;var lt;if(null!=oe&&null!==(lt=oe.signal)&&void 0!==lt&&lt.aborted)throw new D;Q--<=0&&(yield N)}}catch(N){Fe=!0,_t=N}finally{try{$e&&null!=We.return&&(yield z(We.return()))}finally{if(Fe)throw _t}}});return function Ee(){return fe.apply(this,arguments)}}().call(this)},filter:_e,flatMap:function ye(Q,oe){const fe=M.call(this,Q,oe);return function(){var Ee=x(function*(){var _t,$e=!1,Fe=!1;try{for(var Le,We=k(fe);$e=!(Le=yield z(We.next())).done;$e=!1){const lt=Le.value;yield*E(k(lt),z)}}catch(lt){Fe=!0,_t=lt}finally{try{$e&&null!=We.return&&(yield z(We.return()))}finally{if(Fe)throw _t}}});return function Re(){return Ee.apply(this,arguments)}}().call(this)},map:M,take:function ue(Q,oe=void 0){return null!=oe&&G(oe,"options"),null!=oe?.signal&&X(oe.signal,"options.signal"),Q=De(Q),function(){var fe=x(function*(){var Re;if(null!=oe&&null!==(Re=oe.signal)&&void 0!==Re&&Re.aborted)throw new D;var _t,$e=!1,Fe=!1;try{for(var Le,We=k(this);$e=!(Le=yield z(We.next())).done;$e=!1){const N=Le.value;var lt;if(null!=oe&&null!==(lt=oe.signal)&&void 0!==lt&&lt.aborted)throw new D;if(!(Q-- >0))return;yield N}}catch(N){Fe=!0,_t=N}finally{try{$e&&null!=We.return&&(yield z(We.return()))}finally{if(Fe)throw _t}}});return function Ee(){return fe.apply(this,arguments)}}().call(this)},compose:function g(Q,oe){if(null!=oe&&G(oe,"options"),null!=oe?.signal&&X(oe.signal,"options.signal"),ae(Q)&&!ie(Q))throw new A("stream",Q,"must be writable");const fe=J(this,Q);return null!=oe&&oe.signal&&Z(oe.signal,fe),fe}},je.exports.promiseReturningOperators={every:function s(Q){return v.apply(this,arguments)},forEach:function ee(Q,oe){return ce.apply(this,arguments)},reduce:function Ve(Q,oe,fe){return Se.apply(this,arguments)},toArray:function we(Q){return Ue.apply(this,arguments)},some:B,find:function W(Q,oe){return K.apply(this,arguments)}}},5358:(je,H,w)=>{"use strict";const{ObjectSetPrototypeOf:d}=w(2220);je.exports=k;const E=w(33732);function k(z){if(!(this instanceof k))return new k(z);E.call(this,z)}d(k.prototype,E.prototype),d(k,E),k.prototype._transform=function(z,x,O){O(null,z)}},63596:(je,H,w)=>{var d=w(29293).default,E=w(42958).default,k=w(53344).default,z=w(93513).default,x=w(82881).default;const O=w(40573),{ArrayIsArray:A,Promise:P,SymbolAsyncIterator:F}=w(2220),L=w(68208),{once:D}=w(82578),X=w(23370),j=w(85892),{aggregateTwoErrors:G,codes:{ERR_INVALID_ARG_TYPE:re,ERR_INVALID_RETURN_VALUE:te,ERR_MISSING_ARGS:J,ERR_STREAM_DESTROYED:Z,ERR_STREAM_PREMATURE_CLOSE:ie},AbortError:ae}=w(85833),{validateFunction:se,validateAbortSignal:de}=w(48119),{isIterable:le,isReadable:be,isReadableNodeStream:xe,isNodeStream:ke,isTransformStream:C,isWebStream:a,isReadableStream:f,isReadableEnded:y}=w(76989),g=globalThis.AbortController||w(9465).AbortController;let M,T;function B(we,Ue,ye){let De=!1;return we.on("close",()=>{De=!0}),{destroy:ue=>{De||(De=!0,X.destroyer(we,ue||new Z("pipe")))},cleanup:L(we,{readable:Ue,writable:ye},ue=>{De=!ue})}}function s(we){if(le(we))return we;if(xe(we))return function v(we){return W.apply(this,arguments)}(we);throw new re("val",["Readable","Iterable","AsyncIterable"],we)}function W(){return(W=E(function*(we){T||(T=w(84730)),yield*z(x(T.prototype[F].call(we)),k)})).apply(this,arguments)}function K(we,Ue,ye,De){return ee.apply(this,arguments)}function ee(){return(ee=d(function*(we,Ue,ye,{end:De}){let pe,ue=null;const Q=We=>{if(We&&(pe=We),ue){const Le=ue;ue=null,Le()}},oe=()=>new P((We,Le)=>{pe?Le(pe):ue=()=>{pe?Le(pe):We()}});Ue.on("drain",Q);const fe=L(Ue,{readable:!1},Q);try{Ue.writableNeedDrain&&(yield oe());var $e,Ee=!1,Re=!1;try{for(var _t,Fe=x(we);Ee=!(_t=yield Fe.next()).done;Ee=!1)Ue.write(_t.value)||(yield oe())}catch(We){Re=!0,$e=We}finally{try{Ee&&null!=Fe.return&&(yield Fe.return())}finally{if(Re)throw $e}}De&&Ue.end(),yield oe(),ye()}catch(We){ye(pe!==We?G(pe,We):We)}finally{fe(),Ue.off("drain",Q)}})).apply(this,arguments)}function ce(we,Ue,ye,De){return _e.apply(this,arguments)}function _e(){return(_e=d(function*(we,Ue,ye,{end:De}){C(Ue)&&(Ue=Ue.writable);const pe=Ue.getWriter();try{var oe,ue=!1,Q=!1;try{for(var Ee,fe=x(we);ue=!(Ee=yield fe.next()).done;ue=!1){const Re=Ee.value;yield pe.ready,pe.write(Re).catch(()=>{})}}catch(Re){Q=!0,oe=Re}finally{try{ue&&null!=fe.return&&(yield fe.return())}finally{if(Q)throw oe}}yield pe.ready,De&&(yield pe.close()),ye()}catch(Re){try{yield pe.abort(Re),ye(Re)}catch($e){ye($e)}}})).apply(this,arguments)}function Ve(we,Ue,ye){if(1===we.length&&A(we[0])&&(we=we[0]),we.length<2)throw new J("streams");const De=new g,pe=De.signal,ue=ye?.signal,Q=[];function oe(){_t(new ae)}let fe,Ee;de(ue,"options.signal"),ue?.addEventListener("abort",oe);const Re=[];let We,$e=0;function Fe(_){_t(_,0==--$e)}function _t(_,m){if(_&&(!fe||"ERR_STREAM_PREMATURE_CLOSE"===fe.code)&&(fe=_),fe||m){for(;Re.length;)Re.shift()(fe);ue?.removeEventListener("abort",oe),De.abort(),m&&(fe||Q.forEach(U=>U()),O.nextTick(Ue,fe,Ee))}}for(let _=0;_<we.length;_++){const m=we[_],U=_<we.length-1,ne=_>0,ge=U||!1!==ye?.end,Ae=_===we.length-1;if(ke(m)){let tt=function(Bt){Bt&&"AbortError"!==Bt.name&&"ERR_STREAM_PREMATURE_CLOSE"!==Bt.code&&Fe(Bt)};if(ge){const{destroy:Bt,cleanup:gt}=B(m,U,ne);Re.push(Bt),be(m)&&Ae&&Q.push(gt)}m.on("error",tt),be(m)&&Ae&&Q.push(()=>{m.removeListener("error",tt)})}if(0===_)if("function"==typeof m){if(We=m({signal:pe}),!le(We))throw new te("Iterable, AsyncIterable or Stream","source",We)}else We=le(m)||xe(m)||C(m)?m:j.from(m);else if("function"==typeof m){var Le;if(We=C(We)?s(null===(Le=We)||void 0===Le?void 0:Le.readable):s(We),We=m(We,{signal:pe}),U){if(!le(We,!0))throw new te("AsyncIterable",`transform[${_-1}]`,We)}else{var lt;M||(M=w(5358));const tt=new M({objectMode:!0}),Bt=null===(lt=We)||void 0===lt?void 0:lt.then;if("function"==typeof Bt)$e++,Bt.call(We,Zt=>{Ee=Zt,null!=Zt&&tt.write(Zt),ge&&tt.end(),O.nextTick(Fe)},Zt=>{tt.destroy(Zt),O.nextTick(Fe,Zt)});else if(le(We,!0))$e++,K(We,tt,Fe,{end:ge});else{if(!f(We)&&!C(We))throw new te("AsyncIterable or Promise","destination",We);$e++,K(We.readable||We,tt,Fe,{end:ge})}We=tt;const{destroy:gt,cleanup:It}=B(We,!1,!0);Re.push(gt),Ae&&Q.push(It)}}else if(ke(m)){if(xe(We)){$e+=2;const tt=Se(We,m,Fe,{end:ge});be(m)&&Ae&&Q.push(tt)}else if(C(We)||f(We))$e++,K(We.readable||We,m,Fe,{end:ge});else{if(!le(We))throw new re("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],We);$e++,K(We,m,Fe,{end:ge})}We=m}else if(a(m)){if(xe(We))$e++,ce(s(We),m,Fe,{end:ge});else if(f(We)||le(We))$e++,ce(We,m,Fe,{end:ge});else{if(!C(We))throw new re("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],We);$e++,ce(We.readable,m,Fe,{end:ge})}We=m}else We=j.from(m)}return(null!=pe&&pe.aborted||null!=ue&&ue.aborted)&&O.nextTick(oe),We}function Se(we,Ue,ye,{end:De}){let pe=!1;if(Ue.on("close",()=>{pe||ye(new ie)}),we.pipe(Ue,{end:!1}),De){let Q=function(){pe=!0,Ue.end()};y(we)?O.nextTick(Q):we.once("end",Q)}else ye();return L(we,{readable:!0,writable:!1},Q=>{const oe=we._readableState;Q&&"ERR_STREAM_PREMATURE_CLOSE"===Q.code&&oe&&oe.ended&&!oe.errored&&!oe.errorEmitted?we.once("end",ye).once("error",ye):ye(Q)}),L(Ue,{readable:!1,writable:!0},ye)}je.exports={pipelineImpl:Ve,pipeline:function Oe(...we){return Ve(we,D(function S(we){return se(we[we.length-1],"streams[stream.length - 1]"),we.pop()}(we)))}}},84730:(je,H,w)=>{var d=w(53344).default,E=w(42958).default;const k=w(40573),{ArrayPrototypeIndexOf:z,NumberIsInteger:x,NumberIsNaN:O,NumberParseInt:A,ObjectDefineProperties:P,ObjectKeys:F,ObjectSetPrototypeOf:L,Promise:D,SafeSet:X,SymbolAsyncIterator:j,Symbol:G}=w(2220);je.exports=K,K.ReadableState=W;const{EventEmitter:re}=w(44356),{Stream:te,prependListener:J}=w(90845),{Buffer:Z}=w(37945),{addAbortSignal:ie}=w(55397),ae=w(68208);let se=w(82578).debuglog("stream",m=>{se=m});const de=w(54863),le=w(23370),{getHighWaterMark:be,getDefaultHighWaterMark:xe}=w(43909),{aggregateTwoErrors:ke,codes:{ERR_INVALID_ARG_TYPE:C,ERR_METHOD_NOT_IMPLEMENTED:a,ERR_OUT_OF_RANGE:f,ERR_STREAM_PUSH_AFTER_EOF:y,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:g}}=w(85833),{validateObject:M}=w(48119),T=G("kPaused"),{StringDecoder:B}=w(78454),S=w(94506);L(K.prototype,te.prototype),L(K,te);const s=()=>{},{errorOrDestroy:v}=le;function W(m,U,ne){"boolean"!=typeof ne&&(ne=U instanceof w(85892)),this.objectMode=!(!m||!m.objectMode),ne&&(this.objectMode=this.objectMode||!(!m||!m.readableObjectMode)),this.highWaterMark=m?be(this,m,"readableHighWaterMark",ne):xe(!1),this.buffer=new de,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[T]=null,this.errorEmitted=!1,this.emitClose=!m||!1!==m.emitClose,this.autoDestroy=!m||!1!==m.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=m&&m.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,m&&m.encoding&&(this.decoder=new B(m.encoding),this.encoding=m.encoding)}function K(m){if(!(this instanceof K))return new K(m);const U=this instanceof w(85892);this._readableState=new W(m,this,U),m&&("function"==typeof m.read&&(this._read=m.read),"function"==typeof m.destroy&&(this._destroy=m.destroy),"function"==typeof m.construct&&(this._construct=m.construct),m.signal&&!U&&ie(m.signal,this)),te.call(this,m),le.construct(this,()=>{this._readableState.needReadable&&ye(this,this._readableState)})}function ee(m,U,ne,ge){se("readableAddChunk",U);const Ae=m._readableState;let tt;if(Ae.objectMode||("string"==typeof U?Ae.encoding!==(ne=ne||Ae.defaultEncoding)&&(ge&&Ae.encoding?U=Z.from(U,ne).toString(Ae.encoding):(U=Z.from(U,ne),ne="")):U instanceof Z?ne="":te._isUint8Array(U)?(U=te._uint8ArrayToBuffer(U),ne=""):null!=U&&(tt=new C("chunk",["string","Buffer","Uint8Array"],U))),tt)v(m,tt);else if(null===U)Ae.reading=!1,function Se(m,U){if(se("onEofChunk"),!U.ended){if(U.decoder){const ne=U.decoder.end();ne&&ne.length&&(U.buffer.push(ne),U.length+=U.objectMode?1:ne.length)}U.ended=!0,U.sync?we(m):(U.needReadable=!1,U.emittedReadable=!0,Ue(m))}}(m,Ae);else if(Ae.objectMode||U&&U.length>0)if(ge)if(Ae.endEmitted)v(m,new g);else{if(Ae.destroyed||Ae.errored)return!1;ce(m,Ae,U,!0)}else if(Ae.ended)v(m,new y);else{if(Ae.destroyed||Ae.errored)return!1;Ae.reading=!1,Ae.decoder&&!ne?(U=Ae.decoder.write(U),Ae.objectMode||0!==U.length?ce(m,Ae,U,!1):ye(m,Ae)):ce(m,Ae,U,!1)}else ge||(Ae.reading=!1,ye(m,Ae));return!Ae.ended&&(Ae.length<Ae.highWaterMark||0===Ae.length)}function ce(m,U,ne,ge){U.flowing&&0===U.length&&!U.sync&&m.listenerCount("data")>0?(U.multiAwaitDrain?U.awaitDrainWriters.clear():U.awaitDrainWriters=null,U.dataEmitted=!0,m.emit("data",ne)):(U.length+=U.objectMode?1:ne.length,ge?U.buffer.unshift(ne):U.buffer.push(ne),U.needReadable&&we(m)),ye(m,U)}function Ve(m,U){return m<=0||0===U.length&&U.ended?0:U.objectMode?1:O(m)?U.flowing&&U.length?U.buffer.first().length:U.length:m<=U.length?m:U.ended?U.length:0}function we(m){const U=m._readableState;se("emitReadable",U.needReadable,U.emittedReadable),U.needReadable=!1,U.emittedReadable||(se("emitReadable",U.flowing),U.emittedReadable=!0,k.nextTick(Ue,m))}function Ue(m){const U=m._readableState;se("emitReadable_",U.destroyed,U.length,U.ended),!U.destroyed&&!U.errored&&(U.length||U.ended)&&(m.emit("readable"),U.emittedReadable=!1),U.needReadable=!U.flowing&&!U.ended&&U.length<=U.highWaterMark,Ee(m)}function ye(m,U){!U.readingMore&&U.constructed&&(U.readingMore=!0,k.nextTick(De,m,U))}function De(m,U){for(;!U.reading&&!U.ended&&(U.length<U.highWaterMark||U.flowing&&0===U.length);){const ne=U.length;if(se("maybeReadMore read 0"),m.read(0),ne===U.length)break}U.readingMore=!1}function ue(m){const U=m._readableState;U.readableListening=m.listenerCount("readable")>0,U.resumeScheduled&&!1===U[T]?U.flowing=!0:m.listenerCount("data")>0?m.resume():U.readableListening||(U.flowing=null)}function Q(m){se("readable nexttick read 0"),m.read(0)}function fe(m,U){se("resume",U.reading),U.reading||m.read(0),U.resumeScheduled=!1,m.emit("resume"),Ee(m),U.flowing&&!U.reading&&m.read(0)}function Ee(m){const U=m._readableState;for(se("flow",U.flowing);U.flowing&&null!==m.read(););}function Re(m,U){"function"!=typeof m.read&&(m=K.wrap(m,{objectMode:!0}));const ne=function $e(m,U){return Fe.apply(this,arguments)}(m,U);return ne.stream=m,ne}function Fe(){return(Fe=E(function*(m,U){let Ae,ne=s;function ge(Bt){this===m?(ne(),ne=s):ne=Bt}m.on("readable",ge);const tt=ae(m,{writable:!1},Bt=>{Ae=Bt?ke(Ae,Bt):null,ne(),ne=s});try{for(;;){const Bt=m.destroyed?null:m.read();if(null!==Bt)yield Bt;else{if(Ae)throw Ae;if(null===Ae)return;yield d(new D(ge))}}}catch(Bt){throw Ae=ke(Ae,Bt),Ae}finally{!Ae&&!1===U?.destroyOnReturn||void 0!==Ae&&!m._readableState.autoDestroy?(m.off("readable",ge),tt()):le.destroyer(m,null)}})).apply(this,arguments)}function _t(m,U){if(0===U.length)return null;let ne;return U.objectMode?ne=U.buffer.shift():!m||m>=U.length?(ne=U.decoder?U.buffer.join(""):1===U.buffer.length?U.buffer.first():U.buffer.concat(U.length),U.buffer.clear()):ne=U.buffer.consume(m,U.decoder),ne}function We(m){const U=m._readableState;se("endReadable",U.endEmitted),U.endEmitted||(U.ended=!0,k.nextTick(Le,U,m))}function Le(m,U){if(se("endReadableNT",m.endEmitted,m.length),!m.errored&&!m.closeEmitted&&!m.endEmitted&&0===m.length)if(m.endEmitted=!0,U.emit("end"),U.writable&&!1===U.allowHalfOpen)k.nextTick(lt,U);else if(m.autoDestroy){const ne=U._writableState;(!ne||ne.autoDestroy&&(ne.finished||!1===ne.writable))&&U.destroy()}}function lt(m){m.writable&&!m.writableEnded&&!m.destroyed&&m.end()}let N;function _(){return void 0===N&&(N={}),N}K.prototype.destroy=le.destroy,K.prototype._undestroy=le.undestroy,K.prototype._destroy=function(m,U){U(m)},K.prototype[re.captureRejectionSymbol]=function(m){this.destroy(m)},K.prototype.push=function(m,U){return ee(this,m,U,!1)},K.prototype.unshift=function(m,U){return ee(this,m,U,!0)},K.prototype.isPaused=function(){const m=this._readableState;return!0===m[T]||!1===m.flowing},K.prototype.setEncoding=function(m){const U=new B(m);this._readableState.decoder=U,this._readableState.encoding=this._readableState.decoder.encoding;const ne=this._readableState.buffer;let ge="";for(const Ae of ne)ge+=U.write(Ae);return ne.clear(),""!==ge&&ne.push(ge),this._readableState.length=ge.length,this},K.prototype.read=function(m){se("read",m),void 0===m?m=NaN:x(m)||(m=A(m,10));const U=this._readableState,ne=m;if(m>U.highWaterMark&&(U.highWaterMark=function Oe(m){if(m>1073741824)throw new f("size","<= 1GiB",m);return m--,m|=m>>>1,m|=m>>>2,m|=m>>>4,m|=m>>>8,m|=m>>>16,++m}(m)),0!==m&&(U.emittedReadable=!1),0===m&&U.needReadable&&((0!==U.highWaterMark?U.length>=U.highWaterMark:U.length>0)||U.ended))return se("read: emitReadable",U.length,U.ended),0===U.length&&U.ended?We(this):we(this),null;if(0===(m=Ve(m,U))&&U.ended)return 0===U.length&&We(this),null;let Ae,ge=U.needReadable;if(se("need readable",ge),(0===U.length||U.length-m<U.highWaterMark)&&(ge=!0,se("length less than watermark",ge)),U.ended||U.reading||U.destroyed||U.errored||!U.constructed)ge=!1,se("reading, ended or constructing",ge);else if(ge){se("do read"),U.reading=!0,U.sync=!0,0===U.length&&(U.needReadable=!0);try{this._read(U.highWaterMark)}catch(tt){v(this,tt)}U.sync=!1,U.reading||(m=Ve(ne,U))}return Ae=m>0?_t(m,U):null,null===Ae?(U.needReadable=U.length<=U.highWaterMark,m=0):(U.length-=m,U.multiAwaitDrain?U.awaitDrainWriters.clear():U.awaitDrainWriters=null),0===U.length&&(U.ended||(U.needReadable=!0),ne!==m&&U.ended&&We(this)),null!==Ae&&!U.errorEmitted&&!U.closeEmitted&&(U.dataEmitted=!0,this.emit("data",Ae)),Ae},K.prototype._read=function(m){throw new a("_read()")},K.prototype.pipe=function(m,U){const ne=this,ge=this._readableState;1===ge.pipes.length&&(ge.multiAwaitDrain||(ge.multiAwaitDrain=!0,ge.awaitDrainWriters=new X(ge.awaitDrainWriters?[ge.awaitDrainWriters]:[]))),ge.pipes.push(m),se("pipe count=%d opts=%j",ge.pipes.length,U);const tt=U&&!1===U.end||m===k.stdout||m===k.stderr?Et:gt;function gt(){se("onend"),m.end()}ge.endEmitted?k.nextTick(tt):ne.once("end",tt),m.on("unpipe",function Bt(ft,Ht){se("onunpipe"),ft===ne&&Ht&&!1===Ht.hasUnpiped&&(Ht.hasUnpiped=!0,function mn(){se("cleanup"),m.removeListener("close",en),m.removeListener("finish",Qt),It&&m.removeListener("drain",It),m.removeListener("error",An),m.removeListener("unpipe",Bt),ne.removeListener("end",gt),ne.removeListener("end",Et),ne.removeListener("data",ar),Zt=!0,It&&ge.awaitDrainWriters&&(!m._writableState||m._writableState.needDrain)&&It()}())});let It,Zt=!1;function dn(){Zt||(1===ge.pipes.length&&ge.pipes[0]===m?(se("false write response, pause",0),ge.awaitDrainWriters=m,ge.multiAwaitDrain=!1):ge.pipes.length>1&&ge.pipes.includes(m)&&(se("false write response, pause",ge.awaitDrainWriters.size),ge.awaitDrainWriters.add(m)),ne.pause()),It||(It=function pe(m,U){return function(){const ge=m._readableState;ge.awaitDrainWriters===U?(se("pipeOnDrain",1),ge.awaitDrainWriters=null):ge.multiAwaitDrain&&(se("pipeOnDrain",ge.awaitDrainWriters.size),ge.awaitDrainWriters.delete(U)),(!ge.awaitDrainWriters||0===ge.awaitDrainWriters.size)&&m.listenerCount("data")&&m.resume()}}(ne,m),m.on("drain",It))}function ar(ft){se("ondata");const Ht=m.write(ft);se("dest.write",Ht),!1===Ht&&dn()}function An(ft){if(se("onerror",ft),Et(),m.removeListener("error",An),0===m.listenerCount("error")){const Ht=m._writableState||m._readableState;Ht&&!Ht.errorEmitted?v(m,ft):m.emit("error",ft)}}function en(){m.removeListener("finish",Qt),Et()}function Qt(){se("onfinish"),m.removeListener("close",en),Et()}function Et(){se("unpipe"),ne.unpipe(m)}return ne.on("data",ar),J(m,"error",An),m.once("close",en),m.once("finish",Qt),m.emit("pipe",ne),!0===m.writableNeedDrain?ge.flowing&&dn():ge.flowing||(se("pipe resume"),ne.resume()),m},K.prototype.unpipe=function(m){const U=this._readableState;if(0===U.pipes.length)return this;if(!m){const Ae=U.pipes;U.pipes=[],this.pause();for(let tt=0;tt<Ae.length;tt++)Ae[tt].emit("unpipe",this,{hasUnpiped:!1});return this}const ge=z(U.pipes,m);return-1===ge||(U.pipes.splice(ge,1),0===U.pipes.length&&this.pause(),m.emit("unpipe",this,{hasUnpiped:!1})),this},K.prototype.addListener=K.prototype.on=function(m,U){const ne=te.prototype.on.call(this,m,U),ge=this._readableState;return"data"===m?(ge.readableListening=this.listenerCount("readable")>0,!1!==ge.flowing&&this.resume()):"readable"===m&&!ge.endEmitted&&!ge.readableListening&&(ge.readableListening=ge.needReadable=!0,ge.flowing=!1,ge.emittedReadable=!1,se("on readable",ge.length,ge.reading),ge.length?we(this):ge.reading||k.nextTick(Q,this)),ne},K.prototype.off=K.prototype.removeListener=function(m,U){const ne=te.prototype.removeListener.call(this,m,U);return"readable"===m&&k.nextTick(ue,this),ne},K.prototype.removeAllListeners=function(m){const U=te.prototype.removeAllListeners.apply(this,arguments);return("readable"===m||void 0===m)&&k.nextTick(ue,this),U},K.prototype.resume=function(){const m=this._readableState;return m.flowing||(se("resume"),m.flowing=!m.readableListening,function oe(m,U){U.resumeScheduled||(U.resumeScheduled=!0,k.nextTick(fe,m,U))}(this,m)),m[T]=!1,this},K.prototype.pause=function(){return se("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(se("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[T]=!0,this},K.prototype.wrap=function(m){let U=!1;m.on("data",ge=>{!this.push(ge)&&m.pause&&(U=!0,m.pause())}),m.on("end",()=>{this.push(null)}),m.on("error",ge=>{v(this,ge)}),m.on("close",()=>{this.destroy()}),m.on("destroy",()=>{this.destroy()}),this._read=()=>{U&&m.resume&&(U=!1,m.resume())};const ne=F(m);for(let ge=1;ge<ne.length;ge++){const Ae=ne[ge];void 0===this[Ae]&&"function"==typeof m[Ae]&&(this[Ae]=m[Ae].bind(m))}return this},K.prototype[j]=function(){return Re(this)},K.prototype.iterator=function(m){return void 0!==m&&M(m,"options"),Re(this,m)},P(K.prototype,{readable:{__proto__:null,get(){const m=this._readableState;return!(!m||!1===m.readable||m.destroyed||m.errorEmitted||m.endEmitted)},set(m){this._readableState&&(this._readableState.readable=!!m)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(m){this._readableState&&(this._readableState.flowing=m)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(m){this._readableState&&(this._readableState.destroyed=m)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),P(W.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[T]},set(m){this[T]=!!m}}}),K._fromList=_t,K.from=function(m,U){return S(K,m,U)},K.fromWeb=function(m,U){return _().newStreamReadableFromReadableStream(m,U)},K.toWeb=function(m,U){return _().newReadableStreamFromStreamReadable(m,U)},K.wrap=function(m,U){var ne,ge;return new K({objectMode:null===(ne=null!==(ge=m.readableObjectMode)&&void 0!==ge?ge:m.objectMode)||void 0===ne||ne,...U,destroy(Ae,tt){le.destroyer(m,Ae),tt(Ae)}}).wrap(m)}},43909:(je,H,w)=>{"use strict";const{MathFloor:d,NumberIsInteger:E}=w(2220),{ERR_INVALID_ARG_VALUE:k}=w(85833).codes;function x(A){return A?16:16384}je.exports={getHighWaterMark:function O(A,P,F,L){const D=function z(A,P,F){return null!=A.highWaterMark?A.highWaterMark:P?A[F]:null}(P,L,F);if(null!=D){if(!E(D)||D<0)throw new k(L?`options.${F}`:"options.highWaterMark",D);return d(D)}return x(A.objectMode)},getDefaultHighWaterMark:x}},33732:(je,H,w)=>{"use strict";const{ObjectSetPrototypeOf:d,Symbol:E}=w(2220);je.exports=A;const{ERR_METHOD_NOT_IMPLEMENTED:k}=w(85833).codes,z=w(85892),{getHighWaterMark:x}=w(43909);d(A.prototype,z.prototype),d(A,z);const O=E("kCallback");function A(L){if(!(this instanceof A))return new A(L);const D=L?x(this,L,"readableHighWaterMark",!0):null;0===D&&(L={...L,highWaterMark:null,readableHighWaterMark:D,writableHighWaterMark:L.writableHighWaterMark||0}),z.call(this,L),this._readableState.sync=!1,this[O]=null,L&&("function"==typeof L.transform&&(this._transform=L.transform),"function"==typeof L.flush&&(this._flush=L.flush)),this.on("prefinish",F)}function P(L){"function"!=typeof this._flush||this.destroyed?(this.push(null),L&&L()):this._flush((D,X)=>{D?L?L(D):this.destroy(D):(null!=X&&this.push(X),this.push(null),L&&L())})}function F(){this._final!==P&&P.call(this)}A.prototype._final=P,A.prototype._transform=function(L,D,X){throw new k("_transform()")},A.prototype._write=function(L,D,X){const j=this._readableState,G=this._writableState,re=j.length;this._transform(L,D,(te,J)=>{te?X(te):(null!=J&&this.push(J),G.ended||re===j.length||j.length<j.highWaterMark?X():this[O]=X)})},A.prototype._read=function(){if(this[O]){const L=this[O];this[O]=null,L()}}},76989:(je,H,w)=>{"use strict";const{Symbol:d,SymbolAsyncIterator:E,SymbolIterator:k,SymbolFor:z}=w(2220),x=d("kDestroyed"),O=d("kIsErrored"),A=d("kIsReadable"),P=d("kIsDisturbed"),F=z("nodejs.webstream.isClosedPromise"),L=z("nodejs.webstream.controllerErrorFunction");function D(v,W=!1){var K;return!(!v||"function"!=typeof v.pipe||"function"!=typeof v.on||W&&("function"!=typeof v.pause||"function"!=typeof v.resume)||v._writableState&&!1===(null===(K=v._readableState)||void 0===K?void 0:K.readable)||v._writableState&&!v._readableState)}function X(v){var W;return!(!v||"function"!=typeof v.write||"function"!=typeof v.on||v._readableState&&!1===(null===(W=v._writableState)||void 0===W?void 0:W.writable))}function G(v){return v&&(v._readableState||v._writableState||"function"==typeof v.write&&"function"==typeof v.on||"function"==typeof v.pipe&&"function"==typeof v.on)}function re(v){return!(!v||G(v)||"function"!=typeof v.pipeThrough||"function"!=typeof v.getReader||"function"!=typeof v.cancel)}function te(v){return!(!v||G(v)||"function"!=typeof v.getWriter||"function"!=typeof v.abort)}function J(v){return!(!v||G(v)||"object"!=typeof v.readable||"object"!=typeof v.writable)}function ae(v){if(!G(v))return null;const ee=v._writableState||v._readableState;return!!(v.destroyed||v[x]||null!=ee&&ee.destroyed)}function se(v){if(!X(v))return null;if(!0===v.writableEnded)return!0;const W=v._writableState;return(null==W||!W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)}function be(v,W){if(!D(v))return null;const K=v._readableState;return(null==K||!K.errored)&&("boolean"!=typeof K?.endEmitted?null:!!(K.endEmitted||!1===W&&!0===K.ended&&0===K.length))}function xe(v){return v&&null!=v[A]?v[A]:"boolean"!=typeof v?.readable?null:!ae(v)&&D(v)&&v.readable&&!be(v)}function ke(v){return"boolean"!=typeof v?.writable?null:!ae(v)&&X(v)&&v.writable&&!se(v)}function g(v){return"boolean"==typeof v._closed&&"boolean"==typeof v._defaultKeepAlive&&"boolean"==typeof v._removedConnection&&"boolean"==typeof v._removedContLen}function M(v){return"boolean"==typeof v._sent100&&g(v)}je.exports={kDestroyed:x,isDisturbed:function S(v){var W;return!(!v||!(null!==(W=v[P])&&void 0!==W?W:v.readableDidRead||v.readableAborted))},kIsDisturbed:P,isErrored:function s(v){var W,K,ee,ce,_e,Oe,Ve,Se,we,Ue;return!(!v||!(null!==(W=null!==(K=null!==(ee=null!==(ce=null!==(_e=null!==(Oe=v[O])&&void 0!==Oe?Oe:v.readableErrored)&&void 0!==_e?_e:v.writableErrored)&&void 0!==ce?ce:null===(Ve=v._readableState)||void 0===Ve?void 0:Ve.errorEmitted)&&void 0!==ee?ee:null===(Se=v._writableState)||void 0===Se?void 0:Se.errorEmitted)&&void 0!==K?K:null===(we=v._readableState)||void 0===we?void 0:we.errored)&&void 0!==W?W:null!==(Ue=v._writableState)&&void 0!==Ue&&Ue.errored))},kIsErrored:O,isReadable:xe,kIsReadable:A,kIsClosedPromise:F,kControllerErrorFunction:L,isClosed:function y(v){if(!G(v))return null;if("boolean"==typeof v.closed)return v.closed;const W=v._writableState,K=v._readableState;return"boolean"==typeof W?.closed||"boolean"==typeof K?.closed?W?.closed||K?.closed:"boolean"==typeof v._closed&&g(v)?v._closed:null},isDestroyed:ae,isDuplexNodeStream:function j(v){return!(!v||"function"!=typeof v.pipe||!v._readableState||"function"!=typeof v.on||"function"!=typeof v.write)},isFinished:function C(v,W){return G(v)?!!ae(v)||!(!1!==W?.readable&&xe(v)||!1!==W?.writable&&ke(v)):null},isIterable:function ie(v,W){return null!=v&&(!0===W?"function"==typeof v[E]:!1===W?"function"==typeof v[k]:"function"==typeof v[E]||"function"==typeof v[k])},isReadableNodeStream:D,isReadableStream:re,isReadableEnded:function le(v){if(!D(v))return null;if(!0===v.readableEnded)return!0;const W=v._readableState;return!(!W||W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)},isReadableFinished:be,isReadableErrored:function f(v){var W,K;return G(v)?v.readableErrored?v.readableErrored:null!==(W=null===(K=v._readableState)||void 0===K?void 0:K.errored)&&void 0!==W?W:null:null},isNodeStream:G,isWebStream:function Z(v){return re(v)||te(v)||J(v)},isWritable:ke,isWritableNodeStream:X,isWritableStream:te,isWritableEnded:se,isWritableFinished:function de(v,W){if(!X(v))return null;if(!0===v.writableFinished)return!0;const K=v._writableState;return(null==K||!K.errored)&&("boolean"!=typeof K?.finished?null:!!(K.finished||!1===W&&!0===K.ended&&0===K.length))},isWritableErrored:function a(v){var W,K;return G(v)?v.writableErrored?v.writableErrored:null!==(W=null===(K=v._writableState)||void 0===K?void 0:K.errored)&&void 0!==W?W:null:null},isServerRequest:function T(v){var W;return"boolean"==typeof v._consuming&&"boolean"==typeof v._dumped&&void 0===(null===(W=v.req)||void 0===W?void 0:W.upgradeOrConnect)},isServerResponse:M,willEmitClose:function B(v){if(!G(v))return null;const ee=v._writableState||v._readableState;return!ee&&M(v)||!!(ee&&ee.autoDestroy&&ee.emitClose&&!1===ee.closed)},isTransformStream:J}},39070:(je,H,w)=>{const d=w(40573),{ArrayPrototypeSlice:E,Error:k,FunctionPrototypeSymbolHasInstance:z,ObjectDefineProperty:x,ObjectDefineProperties:O,ObjectSetPrototypeOf:A,StringPrototypeToLowerCase:P,Symbol:F,SymbolHasInstance:L}=w(2220);je.exports=M,M.WritableState=y;const{EventEmitter:D}=w(44356),X=w(90845).Stream,{Buffer:j}=w(37945),G=w(23370),{addAbortSignal:re}=w(55397),{getHighWaterMark:te,getDefaultHighWaterMark:J}=w(43909),{ERR_INVALID_ARG_TYPE:Z,ERR_METHOD_NOT_IMPLEMENTED:ie,ERR_MULTIPLE_CALLBACK:ae,ERR_STREAM_CANNOT_PIPE:se,ERR_STREAM_DESTROYED:de,ERR_STREAM_ALREADY_FINISHED:le,ERR_STREAM_NULL_VALUES:be,ERR_STREAM_WRITE_AFTER_END:xe,ERR_UNKNOWN_ENCODING:ke}=w(85833).codes,{errorOrDestroy:C}=G;function a(){}A(M.prototype,X.prototype),A(M,X);const f=F("kOnFinished");function y(pe,ue,Q){"boolean"!=typeof Q&&(Q=ue instanceof w(85892)),this.objectMode=!(!pe||!pe.objectMode),Q&&(this.objectMode=this.objectMode||!(!pe||!pe.writableObjectMode)),this.highWaterMark=pe?te(this,pe,"writableHighWaterMark",Q):J(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(pe&&!1===pe.decodeStrings),this.defaultEncoding=pe&&pe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=v.bind(void 0,ue),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,g(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!pe||!1!==pe.emitClose,this.autoDestroy=!pe||!1!==pe.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[f]=[]}function g(pe){pe.buffered=[],pe.bufferedIndex=0,pe.allBuffers=!0,pe.allNoop=!0}function M(pe){const ue=this instanceof w(85892);if(!ue&&!z(M,this))return new M(pe);this._writableState=new y(pe,this,ue),pe&&("function"==typeof pe.write&&(this._write=pe.write),"function"==typeof pe.writev&&(this._writev=pe.writev),"function"==typeof pe.destroy&&(this._destroy=pe.destroy),"function"==typeof pe.final&&(this._final=pe.final),"function"==typeof pe.construct&&(this._construct=pe.construct),pe.signal&&re(pe.signal,this)),X.call(this,pe),G.construct(this,()=>{const Q=this._writableState;Q.writing||ce(this,Q),Se(this,Q)})}function T(pe,ue,Q,oe){const fe=pe._writableState;if("function"==typeof Q)oe=Q,Q=fe.defaultEncoding;else{if(Q){if("buffer"!==Q&&!j.isEncoding(Q))throw new ke(Q)}else Q=fe.defaultEncoding;"function"!=typeof oe&&(oe=a)}if(null===ue)throw new be;if(!fe.objectMode)if("string"==typeof ue)!1!==fe.decodeStrings&&(ue=j.from(ue,Q),Q="buffer");else if(ue instanceof j)Q="buffer";else{if(!X._isUint8Array(ue))throw new Z("chunk",["string","Buffer","Uint8Array"],ue);ue=X._uint8ArrayToBuffer(ue),Q="buffer"}let Ee;return fe.ending?Ee=new xe:fe.destroyed&&(Ee=new de("write")),Ee?(d.nextTick(oe,Ee),C(pe,Ee,!0),Ee):(fe.pendingcb++,function B(pe,ue,Q,oe,fe){const Ee=ue.objectMode?1:Q.length;ue.length+=Ee;const Re=ue.length<ue.highWaterMark;return Re||(ue.needDrain=!0),ue.writing||ue.corked||ue.errored||!ue.constructed?(ue.buffered.push({chunk:Q,encoding:oe,callback:fe}),ue.allBuffers&&"buffer"!==oe&&(ue.allBuffers=!1),ue.allNoop&&fe!==a&&(ue.allNoop=!1)):(ue.writelen=Ee,ue.writecb=fe,ue.writing=!0,ue.sync=!0,pe._write(Q,oe,ue.onwrite),ue.sync=!1),Re&&!ue.errored&&!ue.destroyed}(pe,fe,ue,Q,oe))}function S(pe,ue,Q,oe,fe,Ee,Re){ue.writelen=oe,ue.writecb=Re,ue.writing=!0,ue.sync=!0,ue.destroyed?ue.onwrite(new de("write")):Q?pe._writev(fe,ue.onwrite):pe._write(fe,Ee,ue.onwrite),ue.sync=!1}function s(pe,ue,Q,oe){--ue.pendingcb,oe(Q),ee(ue),C(pe,Q)}function v(pe,ue){const Q=pe._writableState,oe=Q.sync,fe=Q.writecb;"function"==typeof fe?(Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0,ue?(Q.errored||(Q.errored=ue),pe._readableState&&!pe._readableState.errored&&(pe._readableState.errored=ue),oe?d.nextTick(s,pe,Q,ue,fe):s(pe,Q,ue,fe)):(Q.buffered.length>Q.bufferedIndex&&ce(pe,Q),oe?null!==Q.afterWriteTickInfo&&Q.afterWriteTickInfo.cb===fe?Q.afterWriteTickInfo.count++:(Q.afterWriteTickInfo={count:1,cb:fe,stream:pe,state:Q},d.nextTick(W,Q.afterWriteTickInfo)):K(pe,Q,1,fe))):C(pe,new ae)}function W({stream:pe,state:ue,count:Q,cb:oe}){return ue.afterWriteTickInfo=null,K(pe,ue,Q,oe)}function K(pe,ue,Q,oe){for(!ue.ending&&!pe.destroyed&&0===ue.length&&ue.needDrain&&(ue.needDrain=!1,pe.emit("drain"));Q-- >0;)ue.pendingcb--,oe();ue.destroyed&&ee(ue),Se(pe,ue)}function ee(pe){if(pe.writing)return;for(let fe=pe.bufferedIndex;fe<pe.buffered.length;++fe){var ue;const{chunk:Ee,callback:Re}=pe.buffered[fe];pe.length-=pe.objectMode?1:Ee.length,Re(null!==(ue=pe.errored)&&void 0!==ue?ue:new de("write"))}const Q=pe[f].splice(0);for(let fe=0;fe<Q.length;fe++){var oe;Q[fe](null!==(oe=pe.errored)&&void 0!==oe?oe:new de("end"))}g(pe)}function ce(pe,ue){if(ue.corked||ue.bufferProcessing||ue.destroyed||!ue.constructed)return;const{buffered:Q,bufferedIndex:oe,objectMode:fe}=ue,Ee=Q.length-oe;if(!Ee)return;let Re=oe;if(ue.bufferProcessing=!0,Ee>1&&pe._writev){ue.pendingcb-=Ee-1;const $e=ue.allNoop?a:_t=>{for(let We=Re;We<Q.length;++We)Q[We].callback(_t)},Fe=ue.allNoop&&0===Re?Q:E(Q,Re);Fe.allBuffers=ue.allBuffers,S(pe,ue,!0,ue.length,Fe,"",$e),g(ue)}else{do{const{chunk:$e,encoding:Fe,callback:_t}=Q[Re];Q[Re++]=null,S(pe,ue,!1,fe?1:$e.length,$e,Fe,_t)}while(Re<Q.length&&!ue.writing);Re===Q.length?g(ue):Re>256?(Q.splice(0,Re),ue.bufferedIndex=0):ue.bufferedIndex=Re}ue.bufferProcessing=!1}function _e(pe){return pe.ending&&!pe.destroyed&&pe.constructed&&0===pe.length&&!pe.errored&&0===pe.buffered.length&&!pe.finished&&!pe.writing&&!pe.errorEmitted&&!pe.closeEmitted}function Se(pe,ue,Q){_e(ue)&&(function Ve(pe,ue){!ue.prefinished&&!ue.finalCalled&&("function"!=typeof pe._final||ue.destroyed?(ue.prefinished=!0,pe.emit("prefinish")):(ue.finalCalled=!0,function Oe(pe,ue){let Q=!1;function oe(fe){if(Q)C(pe,fe??ae());else if(Q=!0,ue.pendingcb--,fe){const Ee=ue[f].splice(0);for(let Re=0;Re<Ee.length;Re++)Ee[Re](fe);C(pe,fe,ue.sync)}else _e(ue)&&(ue.prefinished=!0,pe.emit("prefinish"),ue.pendingcb++,d.nextTick(we,pe,ue))}ue.sync=!0,ue.pendingcb++;try{pe._final(oe)}catch(fe){oe(fe)}ue.sync=!1}(pe,ue)))}(pe,ue),0===ue.pendingcb&&(Q?(ue.pendingcb++,d.nextTick((oe,fe)=>{_e(fe)?we(oe,fe):fe.pendingcb--},pe,ue)):_e(ue)&&(ue.pendingcb++,we(pe,ue))))}function we(pe,ue){ue.pendingcb--,ue.finished=!0;const Q=ue[f].splice(0);for(let oe=0;oe<Q.length;oe++)Q[oe]();if(pe.emit("finish"),ue.autoDestroy){const oe=pe._readableState;(!oe||oe.autoDestroy&&(oe.endEmitted||!1===oe.readable))&&pe.destroy()}}y.prototype.getBuffer=function(){return E(this.buffered,this.bufferedIndex)},x(y.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),x(M,L,{__proto__:null,value:function(pe){return!!z(this,pe)||this===M&&pe&&pe._writableState instanceof y}}),M.prototype.pipe=function(){C(this,new se)},M.prototype.write=function(pe,ue,Q){return!0===T(this,pe,ue,Q)},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){const pe=this._writableState;pe.corked&&(pe.corked--,pe.writing||ce(this,pe))},M.prototype.setDefaultEncoding=function(ue){if("string"==typeof ue&&(ue=P(ue)),!j.isEncoding(ue))throw new ke(ue);return this._writableState.defaultEncoding=ue,this},M.prototype._write=function(pe,ue,Q){if(!this._writev)throw new ie("_write()");this._writev([{chunk:pe,encoding:ue}],Q)},M.prototype._writev=null,M.prototype.end=function(pe,ue,Q){const oe=this._writableState;let fe;if("function"==typeof pe?(Q=pe,pe=null,ue=null):"function"==typeof ue&&(Q=ue,ue=null),null!=pe){const Ee=T(this,pe,ue);Ee instanceof k&&(fe=Ee)}return oe.corked&&(oe.corked=1,this.uncork()),fe||(oe.errored||oe.ending?oe.finished?fe=new le("end"):oe.destroyed&&(fe=new de("end")):(oe.ending=!0,Se(this,oe,!0),oe.ended=!0)),"function"==typeof Q&&(fe||oe.finished?d.nextTick(Q,fe):oe[f].push(Q)),this},O(M.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(pe){this._writableState&&(this._writableState.destroyed=pe)}},writable:{__proto__:null,get(){const pe=this._writableState;return!(!pe||!1===pe.writable||pe.destroyed||pe.errored||pe.ending||pe.ended)},set(pe){this._writableState&&(this._writableState.writable=!!pe)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const pe=this._writableState;return!!pe&&!pe.destroyed&&!pe.ending&&pe.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Ue=G.destroy;let ye;function De(){return void 0===ye&&(ye={}),ye}M.prototype.destroy=function(pe,ue){const Q=this._writableState;return!Q.destroyed&&(Q.bufferedIndex<Q.buffered.length||Q[f].length)&&d.nextTick(ee,Q),Ue.call(this,pe,ue),this},M.prototype._undestroy=G.undestroy,M.prototype._destroy=function(pe,ue){ue(pe)},M.prototype[D.captureRejectionSymbol]=function(pe){this.destroy(pe)},M.fromWeb=function(pe,ue){return De().newStreamWritableFromWritableStream(pe,ue)},M.toWeb=function(pe){return De().newWritableStreamFromStreamWritable(pe)}},48119:(je,H,w)=>{"use strict";const{ArrayIsArray:d,ArrayPrototypeIncludes:E,ArrayPrototypeJoin:k,ArrayPrototypeMap:z,NumberIsInteger:x,NumberIsNaN:O,NumberMAX_SAFE_INTEGER:A,NumberMIN_SAFE_INTEGER:P,NumberParseInt:F,ObjectPrototypeHasOwnProperty:L,RegExpPrototypeExec:D,String:X,StringPrototypeToUpperCase:j,StringPrototypeTrim:G}=w(2220),{hideStackFrames:re,codes:{ERR_SOCKET_BAD_PORT:te,ERR_INVALID_ARG_TYPE:J,ERR_INVALID_ARG_VALUE:Z,ERR_OUT_OF_RANGE:ie,ERR_UNKNOWN_SIGNAL:ae}}=w(85833),{normalizeEncoding:se}=w(82578),{isAsyncFunction:de,isArrayBufferView:le}=w(82578).types,be={},C=/^[0-7]+$/,y=re((Ee,Re,$e=P,Fe=A)=>{if("number"!=typeof Ee)throw new J(Re,"number",Ee);if(!x(Ee))throw new ie(Re,"an integer",Ee);if(Ee<$e||Ee>Fe)throw new ie(Re,`>= ${$e} && <= ${Fe}`,Ee)}),g=re((Ee,Re,$e=-2147483648,Fe=2147483647)=>{if("number"!=typeof Ee)throw new J(Re,"number",Ee);if(!x(Ee))throw new ie(Re,"an integer",Ee);if(Ee<$e||Ee>Fe)throw new ie(Re,`>= ${$e} && <= ${Fe}`,Ee)}),M=re((Ee,Re,$e=!1)=>{if("number"!=typeof Ee)throw new J(Re,"number",Ee);if(!x(Ee))throw new ie(Re,"an integer",Ee);const Fe=$e?1:0,_t=4294967295;if(Ee<Fe||Ee>_t)throw new ie(Re,`>= ${Fe} && <= ${_t}`,Ee)});function T(Ee,Re){if("string"!=typeof Ee)throw new J(Re,"string",Ee)}const S=re((Ee,Re,$e)=>{if(!E($e,Ee)){const _t="must be one of: "+k(z($e,We=>"string"==typeof We?`'${We}'`:X(We)),", ");throw new Z(Re,Ee,_t)}});function s(Ee,Re){if("boolean"!=typeof Ee)throw new J(Re,"boolean",Ee)}function v(Ee,Re,$e){return null!=Ee&&L(Ee,Re)?Ee[Re]:$e}const W=re((Ee,Re,$e=null)=>{const Fe=v($e,"allowArray",!1),_t=v($e,"allowFunction",!1);if(!v($e,"nullable",!1)&&null===Ee||!Fe&&d(Ee)||"object"!=typeof Ee&&(!_t||"function"!=typeof Ee))throw new J(Re,"Object",Ee)}),K=re((Ee,Re)=>{if(null!=Ee&&"object"!=typeof Ee&&"function"!=typeof Ee)throw new J(Re,"a dictionary",Ee)}),ee=re((Ee,Re,$e=0)=>{if(!d(Ee))throw new J(Re,"Array",Ee);if(Ee.length<$e)throw new Z(Re,Ee,`must be longer than ${$e}`)}),Ve=re((Ee,Re="buffer")=>{if(!le(Ee))throw new J(Re,["Buffer","TypedArray","DataView"],Ee)}),Ue=re((Ee,Re)=>{if(void 0!==Ee&&(null===Ee||"object"!=typeof Ee||!("aborted"in Ee)))throw new J(Re,"AbortSignal",Ee)}),ye=re((Ee,Re)=>{if("function"!=typeof Ee)throw new J(Re,"Function",Ee)}),De=re((Ee,Re)=>{if("function"!=typeof Ee||de(Ee))throw new J(Re,"Function",Ee)}),pe=re((Ee,Re)=>{if(void 0!==Ee)throw new J(Re,"undefined",Ee)}),Q=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function oe(Ee,Re){if(typeof Ee>"u"||!D(Q,Ee))throw new Z(Re,Ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}je.exports={isInt32:function xe(Ee){return Ee===(0|Ee)},isUint32:function ke(Ee){return Ee===Ee>>>0},parseFileMode:function f(Ee,Re,$e){if(typeof Ee>"u"&&(Ee=$e),"string"==typeof Ee){if(null===D(C,Ee))throw new Z(Re,Ee,"must be a 32-bit unsigned integer or an octal string");Ee=F(Ee,8)}return M(Ee,Re),Ee},validateArray:ee,validateStringArray:function ce(Ee,Re){ee(Ee,Re);for(let $e=0;$e<Ee.length;$e++)T(Ee[$e],`${Re}[${$e}]`)},validateBooleanArray:function _e(Ee,Re){ee(Ee,Re);for(let $e=0;$e<Ee.length;$e++)s(Ee[$e],`${Re}[${$e}]`)},validateBoolean:s,validateBuffer:Ve,validateDictionary:K,validateEncoding:function Se(Ee,Re){const $e=se(Re),Fe=Ee.length;if("hex"===$e&&Fe%2!=0)throw new Z("encoding",Re,`is invalid for data of length ${Fe}`)},validateFunction:ye,validateInt32:g,validateInteger:y,validateNumber:function B(Ee,Re,$e=void 0,Fe){if("number"!=typeof Ee)throw new J(Re,"number",Ee);if(null!=$e&&Ee<$e||null!=Fe&&Ee>Fe||(null!=$e||null!=Fe)&&O(Ee))throw new ie(Re,`${null!=$e?`>= ${$e}`:""}${null!=$e&&null!=Fe?" && ":""}${null!=Fe?`<= ${Fe}`:""}`,Ee)},validateObject:W,validateOneOf:S,validatePlainFunction:De,validatePort:function we(Ee,Re="Port",$e=!0){if("number"!=typeof Ee&&"string"!=typeof Ee||"string"==typeof Ee&&0===G(Ee).length||+Ee!=+Ee>>>0||Ee>65535||0===Ee&&!$e)throw new te(Re,Ee,$e);return 0|Ee},validateSignalName:function Oe(Ee,Re="signal"){if(T(Ee,Re),void 0===be[Ee])throw void 0!==be[j(Ee)]?new ae(Ee+" (signals must use all capital letters)"):new ae(Ee)},validateString:T,validateUint32:M,validateUndefined:pe,validateUnion:function ue(Ee,Re,$e){if(!E($e,Ee))throw new J(Re,`('${k($e,"|")}')`,Ee)},validateAbortSignal:Ue,validateLinkHeaderValue:function fe(Ee){if("string"==typeof Ee)return oe(Ee,"hints"),Ee;if(d(Ee)){const Re=Ee.length;let $e="";if(0===Re)return $e;for(let Fe=0;Fe<Re;Fe++){const _t=Ee[Fe];oe(_t,"hints"),$e+=_t,Fe!==Re-1&&($e+=", ")}return $e}throw new Z("hints",Ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},80868:(je,H,w)=>{"use strict";const d=w(59800),E=w(4581),k=d.Readable.destroy;je.exports=d.Readable,je.exports._uint8ArrayToBuffer=d._uint8ArrayToBuffer,je.exports._isUint8Array=d._isUint8Array,je.exports.isDisturbed=d.isDisturbed,je.exports.isErrored=d.isErrored,je.exports.isReadable=d.isReadable,je.exports.Readable=d.Readable,je.exports.Writable=d.Writable,je.exports.Duplex=d.Duplex,je.exports.Transform=d.Transform,je.exports.PassThrough=d.PassThrough,je.exports.addAbortSignal=d.addAbortSignal,je.exports.finished=d.finished,je.exports.destroy=d.destroy,je.exports.destroy=k,je.exports.pipeline=d.pipeline,je.exports.compose=d.compose,Object.defineProperty(d,"promises",{configurable:!0,enumerable:!0,get:()=>E}),je.exports.Stream=d.Stream,je.exports.default=je.exports},85833:(je,H,w)=>{"use strict";const{format:d,inspect:E,AggregateError:k}=w(82578),z=globalThis.AggregateError||k,x=Symbol("kIsNodeError"),O=["string","function","number","object","Function","Object","boolean","bigint","symbol"],A=/^([A-Z][a-z0-9]*)+$/,F={};function L(J,Z){if(!J)throw new F.ERR_INTERNAL_ASSERTION(Z)}function D(J){let Z="",ie=J.length;const ae="-"===J[0]?1:0;for(;ie>=ae+4;ie-=3)Z=`_${J.slice(ie-3,ie)}${Z}`;return`${J.slice(0,ie)}${Z}`}function j(J,Z,ie){ie||(ie=Error);class ae extends ie{constructor(...de){super(function X(J,Z,ie){if("function"==typeof Z)return L(Z.length<=ie.length,`Code: ${J}; The provided arguments length (${ie.length}) does not match the required ones (${Z.length}).`),Z(...ie);const ae=(Z.match(/%[dfijoOs]/g)||[]).length;return L(ae===ie.length,`Code: ${J}; The provided arguments length (${ie.length}) does not match the required ones (${ae}).`),0===ie.length?Z:d(Z,...ie)}(J,Z,de))}toString(){return`${this.name} [${J}]: ${this.message}`}}Object.defineProperties(ae.prototype,{name:{value:ie.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${J}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),ae.prototype.code=J,ae.prototype[x]=!0,F[J]=ae}function G(J){return Object.defineProperty(J,"name",{value:"__node_internal_"+J.name}),J}class te extends Error{constructor(Z="The operation was aborted",ie=void 0){if(void 0!==ie&&"object"!=typeof ie)throw new F.ERR_INVALID_ARG_TYPE("options","Object",ie);super(Z,ie),this.code="ABORT_ERR",this.name="AbortError"}}j("ERR_ASSERTION","%s",Error),j("ERR_INVALID_ARG_TYPE",(J,Z,ie)=>{L("string"==typeof J,"'name' must be a string"),Array.isArray(Z)||(Z=[Z]);let ae="The ";J.endsWith(" argument")?ae+=`${J} `:ae+=`"${J}" ${J.includes(".")?"property":"argument"} `,ae+="must be ";const se=[],de=[],le=[];for(const xe of Z)L("string"==typeof xe,"All expected entries have to be of type string"),O.includes(xe)?se.push(xe.toLowerCase()):A.test(xe)?de.push(xe):(L("object"!==xe,'The value "object" should be written as "Object"'),le.push(xe));if(de.length>0){const xe=se.indexOf("object");-1!==xe&&(se.splice(se,xe,1),de.push("Object"))}if(se.length>0){switch(se.length){case 1:ae+=`of type ${se[0]}`;break;case 2:ae+=`one of type ${se[0]} or ${se[1]}`;break;default:{const xe=se.pop();ae+=`one of type ${se.join(", ")}, or ${xe}`}}(de.length>0||le.length>0)&&(ae+=" or ")}if(de.length>0){switch(de.length){case 1:ae+=`an instance of ${de[0]}`;break;case 2:ae+=`an instance of ${de[0]} or ${de[1]}`;break;default:{const xe=de.pop();ae+=`an instance of ${de.join(", ")}, or ${xe}`}}le.length>0&&(ae+=" or ")}switch(le.length){case 0:break;case 1:le[0].toLowerCase()!==le[0]&&(ae+="an "),ae+=`${le[0]}`;break;case 2:ae+=`one of ${le[0]} or ${le[1]}`;break;default:{const xe=le.pop();ae+=`one of ${le.join(", ")}, or ${xe}`}}if(null==ie)ae+=`. Received ${ie}`;else if("function"==typeof ie&&ie.name)ae+=`. Received function ${ie.name}`;else if("object"==typeof ie){var be;null!==(be=ie.constructor)&&void 0!==be&&be.name?ae+=`. Received an instance of ${ie.constructor.name}`:ae+=`. Received ${E(ie,{depth:-1})}`}else{let xe=E(ie,{colors:!1});xe.length>25&&(xe=`${xe.slice(0,25)}...`),ae+=`. Received type ${typeof ie} (${xe})`}return ae},TypeError),j("ERR_INVALID_ARG_VALUE",(J,Z,ie="is invalid")=>{let ae=E(Z);return ae.length>128&&(ae=ae.slice(0,128)+"..."),`The ${J.includes(".")?"property":"argument"} '${J}' ${ie}. Received ${ae}`},TypeError),j("ERR_INVALID_RETURN_VALUE",(J,Z,ie)=>{var ae;return`Expected ${J} to be returned from the "${Z}" function but got ${null!=ie&&null!==(ae=ie.constructor)&&void 0!==ae&&ae.name?`instance of ${ie.constructor.name}`:"type "+typeof ie}.`},TypeError),j("ERR_MISSING_ARGS",(...J)=>{let Z;L(J.length>0,"At least one arg needs to be specified");const ie=J.length;switch(J=(Array.isArray(J)?J:[J]).map(ae=>`"${ae}"`).join(" or "),ie){case 1:Z+=`The ${J[0]} argument`;break;case 2:Z+=`The ${J[0]} and ${J[1]} arguments`;break;default:{const ae=J.pop();Z+=`The ${J.join(", ")}, and ${ae} arguments`}}return`${Z} must be specified`},TypeError),j("ERR_OUT_OF_RANGE",(J,Z,ie)=>{let ae;return L(Z,'Missing "range" argument'),Number.isInteger(ie)&&Math.abs(ie)>2**32?ae=D(String(ie)):"bigint"==typeof ie?(ae=String(ie),(ie>2n**32n||ie<-(2n**32n))&&(ae=D(ae)),ae+="n"):ae=E(ie),`The value of "${J}" is out of range. It must be ${Z}. Received ${ae}`},RangeError),j("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),j("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),j("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),j("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),j("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),j("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),j("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),j("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),j("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),j("ERR_STREAM_WRITE_AFTER_END","write after end",Error),j("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),je.exports={AbortError:te,aggregateTwoErrors:G(function re(J,Z){if(J&&Z&&J!==Z){if(Array.isArray(Z.errors))return Z.errors.push(J),Z;const ie=new z([Z,J],Z.message);return ie.code=Z.code,ie}return J||Z}),hideStackFrames:G,codes:F}},2220:je=>{"use strict";je.exports={ArrayIsArray:H=>Array.isArray(H),ArrayPrototypeIncludes:(H,w)=>H.includes(w),ArrayPrototypeIndexOf:(H,w)=>H.indexOf(w),ArrayPrototypeJoin:(H,w)=>H.join(w),ArrayPrototypeMap:(H,w)=>H.map(w),ArrayPrototypePop:(H,w)=>H.pop(w),ArrayPrototypePush:(H,w)=>H.push(w),ArrayPrototypeSlice:(H,w,d)=>H.slice(w,d),Error,FunctionPrototypeCall:(H,w,...d)=>H.call(w,...d),FunctionPrototypeSymbolHasInstance:(H,w)=>Function.prototype[Symbol.hasInstance].call(H,w),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(H,w)=>Object.defineProperties(H,w),ObjectDefineProperty:(H,w,d)=>Object.defineProperty(H,w,d),ObjectGetOwnPropertyDescriptor:(H,w)=>Object.getOwnPropertyDescriptor(H,w),ObjectKeys:H=>Object.keys(H),ObjectSetPrototypeOf:(H,w)=>Object.setPrototypeOf(H,w),Promise,PromisePrototypeCatch:(H,w)=>H.catch(w),PromisePrototypeThen:(H,w,d)=>H.then(w,d),PromiseReject:H=>Promise.reject(H),ReflectApply:Reflect.apply,RegExpPrototypeTest:(H,w)=>H.test(w),SafeSet:Set,String,StringPrototypeSlice:(H,w,d)=>H.slice(w,d),StringPrototypeToLowerCase:H=>H.toLowerCase(),StringPrototypeToUpperCase:H=>H.toUpperCase(),StringPrototypeTrim:H=>H.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(H,w,d)=>H.set(w,d),Uint8Array}},82578:(je,H,w)=>{"use strict";var d=w(29293).default;const E=w(37945),k=Object.getPrototypeOf(d(function*(){})).constructor,z=globalThis.Blob||E.Blob,x=typeof z<"u"?function(P){return P instanceof z}:function(P){return!1};class O extends Error{constructor(P){if(!Array.isArray(P))throw new TypeError("Expected input to be an Array, got "+typeof P);let F="";for(let L=0;L<P.length;L++)F+=`    ${P[L].stack}\n`;super(F),this.name="AggregateError",this.errors=P}}je.exports={AggregateError:O,kEmptyObject:Object.freeze({}),once(A){let P=!1;return function(...F){P||(P=!0,A.apply(this,F))}},createDeferredPromise:function(){let A,P;return{promise:new Promise((L,D)=>{A=L,P=D}),resolve:A,reject:P}},promisify:A=>new Promise((P,F)=>{A((L,...D)=>L?F(L):P(...D))}),debuglog:()=>function(){},format:(A,...P)=>A.replace(/%([sdifj])/g,function(...[F,L]){const D=P.shift();return"f"===L?D.toFixed(6):"j"===L?JSON.stringify(D):"s"===L&&"object"==typeof D?`${D.constructor!==Object?D.constructor.name:""} {}`.trim():D.toString()}),inspect(A){switch(typeof A){case"string":if(A.includes("'")){if(!A.includes('"'))return`"${A}"`;if(!A.includes("`")&&!A.includes("${"))return`\`${A}\``}return`'${A}'`;case"number":return isNaN(A)?"NaN":Object.is(A,-0)?String(A):A;case"bigint":return`${String(A)}n`;case"boolean":case"undefined":return String(A);case"object":return"{}"}},types:{isAsyncFunction:A=>A instanceof k,isArrayBufferView:A=>ArrayBuffer.isView(A)},isBlob:x},je.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},59800:(je,H,w)=>{const{Buffer:d}=w(37945),{ObjectDefineProperty:E,ObjectKeys:k,ReflectApply:z}=w(2220),{promisify:{custom:x}}=w(82578),{streamReturningOperators:O,promiseReturningOperators:A}=w(54705),{codes:{ERR_ILLEGAL_CONSTRUCTOR:P}}=w(85833),F=w(90972),{pipeline:L}=w(63596),{destroyer:D}=w(23370),X=w(68208),G=w(4581),re=w(76989),te=je.exports=w(90845).Stream;te.isDisturbed=re.isDisturbed,te.isErrored=re.isErrored,te.isReadable=re.isReadable,te.Readable=w(84730);for(const ie of k(O)){let se=function(...de){if(new.target)throw P();return te.Readable.from(z(ae,this,de))};const ae=O[ie];E(se,"name",{__proto__:null,value:ae.name}),E(se,"length",{__proto__:null,value:ae.length}),E(te.Readable.prototype,ie,{__proto__:null,value:se,enumerable:!1,configurable:!0,writable:!0})}for(const ie of k(A)){let se=function(...le){if(new.target)throw P();return z(ae,this,le)};const ae=A[ie];E(se,"name",{__proto__:null,value:ae.name}),E(se,"length",{__proto__:null,value:ae.length}),E(te.Readable.prototype,ie,{__proto__:null,value:se,enumerable:!1,configurable:!0,writable:!0})}te.Writable=w(39070),te.Duplex=w(85892),te.Transform=w(33732),te.PassThrough=w(5358),te.pipeline=L;const{addAbortSignal:J}=w(55397);te.addAbortSignal=J,te.finished=X,te.destroy=D,te.compose=F,E(te,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>G}),E(L,x,{__proto__:null,enumerable:!0,get:()=>G.pipeline}),E(X,x,{__proto__:null,enumerable:!0,get:()=>G.finished}),te.Stream=te,te._isUint8Array=function(ae){return ae instanceof Uint8Array},te._uint8ArrayToBuffer=function(ae){return d.from(ae.buffer,ae.byteOffset,ae.byteLength)}},4581:(je,H,w)=>{"use strict";const{ArrayPrototypePop:d,Promise:E}=w(2220),{isIterable:k,isNodeStream:z,isWebStream:x}=w(76989),{pipelineImpl:O}=w(63596),{finished:A}=w(68208);w(59800),je.exports={finished:A,pipeline:function P(...F){return new E((L,D)=>{let X,j;const G=F[F.length-1];if(G&&"object"==typeof G&&!z(G)&&!k(G)&&!x(G)){const re=d(F);X=re.signal,j=re.end}O(F,(re,te)=>{re?D(re):L(te)},{signal:X,end:j})})}}},67449:(je,H,w)=>{H.Level=w(23963).BrowserLevel},97829:je=>{var H=1e3,w=60*H,d=60*w,E=24*d,k=7*E;function P(F,L,D,X){var j=L>=1.5*D;return Math.round(F/D)+" "+X+(j?"s":"")}je.exports=function(F,L){L=L||{};var D=typeof F;if("string"===D&&F.length>0)return function x(F){if(!((F=String(F)).length>100)){var L=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(F);if(L){var D=parseFloat(L[1]);switch((L[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*D;case"weeks":case"week":case"w":return D*k;case"days":case"day":case"d":return D*E;case"hours":case"hour":case"hrs":case"hr":case"h":return D*d;case"minutes":case"minute":case"mins":case"min":case"m":return D*w;case"seconds":case"second":case"secs":case"sec":case"s":return D*H;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return D;default:return}}}}(F);if("number"===D&&isFinite(F))return L.long?function A(F){var L=Math.abs(F);return L>=E?P(F,L,E,"day"):L>=d?P(F,L,d,"hour"):L>=w?P(F,L,w,"minute"):L>=H?P(F,L,H,"second"):F+" ms"}(F):function O(F){var L=Math.abs(F);return L>=E?Math.round(F/E)+"d":L>=d?Math.round(F/d)+"h":L>=w?Math.round(F/w)+"m":L>=H?Math.round(F/H)+"s":F+"ms"}(F);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(F))}},9465:je=>{"use strict";const{AbortController:H,AbortSignal:w}=typeof self<"u"?self:typeof window<"u"?window:void 0;je.exports=H,je.exports.AbortSignal=w,je.exports.default=H},91463:(je,H,w)=>{"use strict";const{fromCallback:d}=w(42381),E=w(61747),{getCallback:k,getOptions:z}=w(32856),x=Symbol("promise"),O=Symbol("status"),A=Symbol("operations"),P=Symbol("finishClose"),F=Symbol("closeCallbacks");H.AbstractChainedBatch=class L{constructor(X){if("object"!=typeof X||null===X)throw new TypeError("The first argument must be an abstract-level database, received "+(null===X?"null":typeof X));this[A]=[],this[F]=[],this[O]="open",this[P]=this[P].bind(this),this.db=X,this.db.attachResource(this),this.nextTick=X.nextTick}get length(){return this[A].length}put(X,j,G){if("open"!==this[O])throw new E("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const re=this.db._checkKey(X)||this.db._checkValue(j);if(re)throw re;const te=G&&null!=G.sublevel?G.sublevel:this.db,J=G,Z=te.keyEncoding(G&&G.keyEncoding),ie=te.valueEncoding(G&&G.valueEncoding),ae=Z.format;G={...G,keyEncoding:ae,valueEncoding:ie.format},te!==this.db&&(G.sublevel=null);const se=te.prefixKey(Z.encode(X),ae),de=ie.encode(j);return this._put(se,de,G),this[A].push({...J,type:"put",key:X,value:j}),this}_put(X,j,G){}del(X,j){if("open"!==this[O])throw new E("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const G=this.db._checkKey(X);if(G)throw G;const re=j&&null!=j.sublevel?j.sublevel:this.db,te=j,J=re.keyEncoding(j&&j.keyEncoding),Z=J.format;return j={...j,keyEncoding:Z},re!==this.db&&(j.sublevel=null),this._del(re.prefixKey(J.encode(X),Z),j),this[A].push({...te,type:"del",key:X}),this}_del(X,j){}clear(){if("open"!==this[O])throw new E("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[A]=[],this}_clear(){}write(X,j){return j=k(X,j),j=d(j,x),X=z(X),"open"!==this[O]?this.nextTick(j,new E("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):0===this.length?this.close(j):(this[O]="writing",this._write(X,G=>{this[O]="closing",this[F].push(()=>j(G)),G||this.db.emit("batch",this[A]),this._close(this[P])})),j[x]}_write(X,j){}close(X){return X=d(X,x),"closing"===this[O]?this[F].push(X):"closed"===this[O]?this.nextTick(X):(this[F].push(X),"writing"!==this[O]&&(this[O]="closing",this._close(this[P]))),X[x]}_close(X){this.nextTick(X)}[P](){this[O]="closed",this.db.detachResource(this);const X=this[F];this[F]=[];for(const j of X)j()}}},63294:(je,H,w)=>{"use strict";var d=w(53344).default,E=w(42958).default;const{fromCallback:k}=w(42381),z=w(61747),{getOptions:x,getCallback:O}=w(32856),A=Symbol("promise"),P=Symbol("callback"),F=Symbol("working"),L=Symbol("handleOne"),D=Symbol("handleMany"),X=Symbol("autoClose"),j=Symbol("finishWork"),G=Symbol("returnMany"),re=Symbol("closing"),te=Symbol("handleClose"),J=Symbol("closed"),Z=Symbol("closeCallbacks"),ie=Symbol("keyEncoding"),ae=Symbol("valueEncoding"),se=Symbol("abortOnClose"),de=Symbol("legacy"),le=Symbol("keys"),be=Symbol("values"),xe=Symbol("limit"),ke=Symbol("count"),C=Object.freeze({}),a=()=>{};let f=!1;class y{constructor(s,v,W){if("object"!=typeof s||null===s)throw new TypeError("The first argument must be an abstract-level database, received "+(null===s?"null":typeof s));if("object"!=typeof v||null===v)throw new TypeError("The second argument must be an options object");this[J]=!1,this[Z]=[],this[F]=!1,this[re]=!1,this[X]=!1,this[P]=null,this[L]=this[L].bind(this),this[D]=this[D].bind(this),this[te]=this[te].bind(this),this[ie]=v[ie],this[ae]=v[ae],this[de]=W,this[xe]=Number.isInteger(v.limit)&&v.limit>=0?v.limit:1/0,this[ke]=0,this[se]=!!v.abortOnClose,this.db=s,this.db.attachResource(this),this.nextTick=s.nextTick}get count(){return this[ke]}get limit(){return this[xe]}next(s){let v;if(void 0===s)v=new Promise((W,K)=>{s=(ee,ce,_e)=>{ee?K(ee):this[de]?void 0===ce&&void 0===_e?W():W([ce,_e]):W(ce)}});else if("function"!=typeof s)throw new TypeError("Callback must be a function");return this[re]?this.nextTick(s,new z("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[F]?this.nextTick(s,new z("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[F]=!0,this[P]=s,this[ke]>=this[xe]?this.nextTick(this[L],null):this._next(this[L])),v}_next(s){this.nextTick(s)}nextv(s,v,W){return W=O(v,W),W=k(W,A),v=x(v,C),Number.isInteger(s)?(this[re]?this.nextTick(W,new z("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[F]?this.nextTick(W,new z("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(s<1&&(s=1),this[xe]<1/0&&(s=Math.min(s,this[xe]-this[ke])),this[F]=!0,this[P]=W,s<=0?this.nextTick(this[D],null,[]):this._nextv(s,v,this[D])),W[A]):(this.nextTick(W,new TypeError("The first argument 'size' must be an integer")),W[A])}_nextv(s,v,W){const K=[],ee=(ce,_e,Oe)=>ce?W(ce):(this[de]?void 0===_e&&void 0===Oe:void 0===_e)?W(null,K):(K.push(this[de]?[_e,Oe]:_e),void(K.length===s?W(null,K):this._next(ee)));this._next(ee)}all(s,v){return v=O(s,v),v=k(v,A),s=x(s,C),this[re]?this.nextTick(v,new z("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[F]?this.nextTick(v,new z("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[F]=!0,this[P]=v,this[X]=!0,this[ke]>=this[xe]?this.nextTick(this[D],null,[]):this._all(s,this[D])),v[A]}_all(s,v){let W=this[ke];const K=[],ee=()=>{const _e=this[xe]<1/0?Math.min(1e3,this[xe]-W):1e3;_e<=0?this.nextTick(v,null,K):this._nextv(_e,C,ce)},ce=(_e,Oe)=>{_e?v(_e):0===Oe.length?v(null,K):(K.push.apply(K,Oe),W+=Oe.length,ee())};ee()}[j](){const s=this[P];return this[se]&&null===s?a:(this[F]=!1,this[P]=null,this[re]&&this._close(this[te]),s)}[G](s,v,W){this[X]?this.close(s.bind(null,v,W)):s(v,W)}seek(s,v){if(v=x(v,C),!this[re]){if(this[F])throw new z("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{const W=this.db.keyEncoding(v.keyEncoding||this[ie]),K=W.format;v.keyEncoding!==K&&(v={...v,keyEncoding:K});const ee=this.db.prefixKey(W.encode(s),K);this._seek(ee,v)}}}_seek(s,v){throw new z("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(s){return s=k(s,A),this[J]?this.nextTick(s):this[re]?this[Z].push(s):(this[re]=!0,this[Z].push(s),this[F]?this[se]&&this[j]()(new z("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[te])),s[A]}_close(s){this.nextTick(s)}[te](){this[J]=!0,this.db.detachResource(this);const s=this[Z];this[Z]=[];for(const v of s)v()}[Symbol.asyncIterator](){var s=this;return E(function*(){try{let v;for(;void 0!==(v=yield d(s.next()));)yield v}finally{s[J]||(yield d(s.close()))}})()}}class g extends y{constructor(s,v){super(s,v,!0),this[le]=!1!==v.keys,this[be]=!1!==v.values}[L](s,v,W){const K=this[j]();if(s)return K(s);try{v=this[le]&&void 0!==v?this[ie].decode(v):void 0,W=this[be]&&void 0!==W?this[ae].decode(W):void 0}catch(ee){return K(new B("entry",ee))}void 0===v&&void 0===W||this[ke]++,K(null,v,W)}[D](s,v){const W=this[j]();if(s)return this[G](W,s);try{for(const K of v){const ee=K[0],ce=K[1];K[0]=this[le]&&void 0!==ee?this[ie].decode(ee):void 0,K[1]=this[be]&&void 0!==ce?this[ae].decode(ce):void 0}}catch(K){return this[G](W,new B("entries",K))}this[ke]+=v.length,this[G](W,null,v)}end(s){return!f&&typeof console<"u"&&(f=!0,console.warn(new z("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(s)}}class B extends z{constructor(s,v){super(`Iterator could not decode ${s}`,{code:"LEVEL_DECODE_ERROR",cause:v})}}for(const S of["_ended property","_nexting property","_end method"])Object.defineProperty(g.prototype,S.split(" ")[0],{get(){throw new z(`The ${S} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new z(`The ${S} has been removed`,{code:"LEVEL_LEGACY"})}});g.keyEncoding=ie,g.valueEncoding=ae,H.AbstractIterator=g,H.AbstractKeyIterator=class M extends y{constructor(s,v){super(s,v,!1)}[L](s,v){const W=this[j]();if(s)return W(s);try{v=void 0!==v?this[ie].decode(v):void 0}catch(K){return W(new B("key",K))}void 0!==v&&this[ke]++,W(null,v)}[D](s,v){const W=this[j]();if(s)return this[G](W,s);try{for(let K=0;K<v.length;K++){const ee=v[K];v[K]=void 0!==ee?this[ie].decode(ee):void 0}}catch(K){return this[G](W,new B("keys",K))}this[ke]+=v.length,this[G](W,null,v)}},H.AbstractValueIterator=class T extends y{constructor(s,v){super(s,v,!1)}[L](s,v){const W=this[j]();if(s)return W(s);try{v=void 0!==v?this[ae].decode(v):void 0}catch(K){return W(new B("value",K))}void 0!==v&&this[ke]++,W(null,v)}[D](s,v){const W=this[j]();if(s)return this[G](W,s);try{for(let K=0;K<v.length;K++){const ee=v[K];v[K]=void 0!==ee?this[ae].decode(ee):void 0}}catch(K){return this[G](W,new B("values",K))}this[ke]+=v.length,this[G](W,null,v)}}},83764:(je,H,w)=>{"use strict";const{supports:d}=w(89061),{Transcoder:E}=w(25006),{EventEmitter:k}=w(44356),{fromCallback:z}=w(42381),x=w(61747),{AbstractIterator:O}=w(63294),{DefaultKeyIterator:A,DefaultValueIterator:P}=w(48335),{DeferredIterator:F,DeferredKeyIterator:L,DeferredValueIterator:D}=w(92745),{DefaultChainedBatch:X}=w(45776),{getCallback:j,getOptions:G}=w(32856),re=w(4287),te=Symbol("promise"),J=Symbol("landed"),Z=Symbol("resources"),ie=Symbol("closeResources"),ae=Symbol("operations"),se=Symbol("undefer"),de=Symbol("deferOpen"),le=Symbol("options"),be=Symbol("status"),xe=Symbol("defaultOptions"),ke=Symbol("transcoder"),C=Symbol("keyEncoding"),a=Symbol("valueEncoding"),f=()=>{};class y extends k{constructor(S,s){if(super(),"object"!=typeof S||null===S)throw new TypeError("The first argument 'manifest' must be an object");s=G(s);const{keyEncoding:v,valueEncoding:W,passive:K,...ee}=s;this[Z]=new Set,this[ae]=[],this[de]=!0,this[le]=ee,this[be]="opening",this.supports=d(S,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:!1!==S.snapshots,permanence:!1!==S.permanence,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:S.encodings||{},events:Object.assign({},S.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[ke]=new E(T(this)),this[C]=this[ke].encoding(v||"utf8"),this[a]=this[ke].encoding(W||"utf8");for(const ce of this[ke].encodings())this.supports.encodings[ce.commonName]||(this.supports.encodings[ce.commonName]=!0);this[xe]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[C].commonName,valueEncoding:this[a].commonName}),key:Object.freeze({keyEncoding:this[C].commonName})},this.nextTick(()=>{this[de]&&this.open({passive:!1},f)})}get status(){return this[be]}keyEncoding(S){return this[ke].encoding(S??this[C])}valueEncoding(S){return this[ke].encoding(S??this[a])}open(S,s){s=j(S,s),s=z(s,te),(S={...this[le],...G(S)}).createIfMissing=!1!==S.createIfMissing,S.errorIfExists=!!S.errorIfExists;const v=W=>{"closing"===this[be]||"opening"===this[be]?this.once(J,W?()=>v(W):v):"open"!==this[be]?s(new x("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:W})):s()};return S.passive?"opening"===this[be]?this.once(J,v):this.nextTick(v):"closed"===this[be]||this[de]?(this[de]=!1,this[be]="opening",this.emit("opening"),this._open(S,W=>{if(W)return this[be]="closed",this[ie](()=>{this.emit(J),v(W)}),void this[se]();this[be]="open",this[se](),this.emit(J),"open"===this[be]&&this.emit("open"),"open"===this[be]&&this.emit("ready"),v()})):"open"===this[be]?this.nextTick(v):this.once(J,()=>this.open(S,s)),s[te]}_open(S,s){this.nextTick(s)}close(S){S=z(S,te);const s=v=>{"opening"===this[be]||"closing"===this[be]?this.once(J,v?s(v):s):"closed"!==this[be]?S(new x("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:v})):S()};if("open"===this[be]){this[be]="closing",this.emit("closing");const v=W=>{this[be]="open",this[se](),this.emit(J),s(W)};this[ie](()=>{this._close(W=>{if(W)return v(W);this[be]="closed",this[se](),this.emit(J),"closed"===this[be]&&this.emit("closed"),s()})})}else"closed"===this[be]?this.nextTick(s):this.once(J,()=>this.close(S));return S[te]}[ie](S){if(0===this[Z].size)return this.nextTick(S);let s=this[Z].size,v=!0;const W=()=>{0==--s&&(v?this.nextTick(S):S())};for(const K of this[Z])K.close(W);v=!1,this[Z].clear()}_close(S){this.nextTick(S)}get(S,s,v){if(v=j(s,v),v=z(v,te),s=G(s,this[xe].entry),"opening"===this[be])return this.defer(()=>this.get(S,s,v)),v[te];if(M(this,v))return v[te];const W=this._checkKey(S);if(W)return this.nextTick(v,W),v[te];const K=this.keyEncoding(s.keyEncoding),ee=this.valueEncoding(s.valueEncoding),ce=K.format,_e=ee.format;return(s.keyEncoding!==ce||s.valueEncoding!==_e)&&(s=Object.assign({},s,{keyEncoding:ce,valueEncoding:_e})),this._get(this.prefixKey(K.encode(S),ce),s,(Oe,Ve)=>{if(Oe)return("LEVEL_NOT_FOUND"===Oe.code||Oe.notFound||/NotFound/i.test(Oe))&&(Oe.code||(Oe.code="LEVEL_NOT_FOUND"),Oe.notFound||(Oe.notFound=!0),Oe.status||(Oe.status=404)),v(Oe);try{Ve=ee.decode(Ve)}catch(Se){return v(new x("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:Se}))}v(null,Ve)}),v[te]}_get(S,s,v){this.nextTick(v,new Error("NotFound"))}getMany(S,s,v){if(v=j(s,v),v=z(v,te),s=G(s,this[xe].entry),"opening"===this[be])return this.defer(()=>this.getMany(S,s,v)),v[te];if(M(this,v))return v[te];if(!Array.isArray(S))return this.nextTick(v,new TypeError("The first argument 'keys' must be an array")),v[te];if(0===S.length)return this.nextTick(v,null,[]),v[te];const W=this.keyEncoding(s.keyEncoding),K=this.valueEncoding(s.valueEncoding),ee=W.format,ce=K.format;(s.keyEncoding!==ee||s.valueEncoding!==ce)&&(s=Object.assign({},s,{keyEncoding:ee,valueEncoding:ce}));const _e=new Array(S.length);for(let Oe=0;Oe<S.length;Oe++){const Ve=S[Oe],Se=this._checkKey(Ve);if(Se)return this.nextTick(v,Se),v[te];_e[Oe]=this.prefixKey(W.encode(Ve),ee)}return this._getMany(_e,s,(Oe,Ve)=>{if(Oe)return v(Oe);try{for(let Se=0;Se<Ve.length;Se++)void 0!==Ve[Se]&&(Ve[Se]=K.decode(Ve[Se]))}catch(Se){return v(new x(`Could not decode one or more of ${Ve.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:Se}))}v(null,Ve)}),v[te]}_getMany(S,s,v){this.nextTick(v,null,new Array(S.length).fill(void 0))}put(S,s,v,W){if(W=j(v,W),W=z(W,te),v=G(v,this[xe].entry),"opening"===this[be])return this.defer(()=>this.put(S,s,v,W)),W[te];if(M(this,W))return W[te];const K=this._checkKey(S)||this._checkValue(s);if(K)return this.nextTick(W,K),W[te];const ee=this.keyEncoding(v.keyEncoding),ce=this.valueEncoding(v.valueEncoding),_e=ee.format,Oe=ce.format;(v.keyEncoding!==_e||v.valueEncoding!==Oe)&&(v=Object.assign({},v,{keyEncoding:_e,valueEncoding:Oe}));const Ve=this.prefixKey(ee.encode(S),_e),Se=ce.encode(s);return this._put(Ve,Se,v,we=>{if(we)return W(we);this.emit("put",S,s),W()}),W[te]}_put(S,s,v,W){this.nextTick(W)}del(S,s,v){if(v=j(s,v),v=z(v,te),s=G(s,this[xe].key),"opening"===this[be])return this.defer(()=>this.del(S,s,v)),v[te];if(M(this,v))return v[te];const W=this._checkKey(S);if(W)return this.nextTick(v,W),v[te];const K=this.keyEncoding(s.keyEncoding),ee=K.format;return s.keyEncoding!==ee&&(s=Object.assign({},s,{keyEncoding:ee})),this._del(this.prefixKey(K.encode(S),ee),s,ce=>{if(ce)return v(ce);this.emit("del",S),v()}),v[te]}_del(S,s,v){this.nextTick(v)}batch(S,s,v){if(!arguments.length){if("opening"===this[be])return new X(this);if("open"!==this[be])throw new x("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(v="function"==typeof S?S:j(s,v),v=z(v,te),s=G(s,this[xe].empty),"opening"===this[be])return this.defer(()=>this.batch(S,s,v)),v[te];if(M(this,v))return v[te];if(!Array.isArray(S))return this.nextTick(v,new TypeError("The first argument 'operations' must be an array")),v[te];if(0===S.length)return this.nextTick(v),v[te];const W=new Array(S.length),{keyEncoding:K,valueEncoding:ee,...ce}=s;for(let _e=0;_e<S.length;_e++){if("object"!=typeof S[_e]||null===S[_e])return this.nextTick(v,new TypeError("A batch operation must be an object")),v[te];const Oe=Object.assign({},S[_e]);if("put"!==Oe.type&&"del"!==Oe.type)return this.nextTick(v,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),v[te];const Ve=this._checkKey(Oe.key);if(Ve)return this.nextTick(v,Ve),v[te];const Se=null!=Oe.sublevel?Oe.sublevel:this,we=Se.keyEncoding(Oe.keyEncoding||K),Ue=we.format;if(Oe.key=Se.prefixKey(we.encode(Oe.key),Ue),Oe.keyEncoding=Ue,"put"===Oe.type){const ye=this._checkValue(Oe.value);if(ye)return this.nextTick(v,ye),v[te];const De=Se.valueEncoding(Oe.valueEncoding||ee);Oe.value=De.encode(Oe.value),Oe.valueEncoding=De.format}Se!==this&&(Oe.sublevel=null),W[_e]=Oe}return this._batch(W,ce,_e=>{if(_e)return v(_e);this.emit("batch",S),v()}),v[te]}_batch(S,s,v){this.nextTick(v)}sublevel(S,s){return this._sublevel(S,g.defaults(s))}_sublevel(S,s){return new g(this,S,s)}prefixKey(S,s){return S}clear(S,s){if(s=j(S,s),s=z(s,te),S=G(S,this[xe].empty),"opening"===this[be])return this.defer(()=>this.clear(S,s)),s[te];if(M(this,s))return s[te];const v=S,W=this.keyEncoding(S.keyEncoding);return(S=re(S,W)).keyEncoding=W.format,0===S.limit?this.nextTick(s):this._clear(S,K=>{if(K)return s(K);this.emit("clear",v),s()}),s[te]}_clear(S,s){this.nextTick(s)}iterator(S){const s=this.keyEncoding(S&&S.keyEncoding),v=this.valueEncoding(S&&S.valueEncoding);if((S=re(S,s)).keys=!1!==S.keys,S.values=!1!==S.values,S[O.keyEncoding]=s,S[O.valueEncoding]=v,S.keyEncoding=s.format,S.valueEncoding=v.format,"opening"===this[be])return new F(this,S);if("open"!==this[be])throw new x("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(S)}_iterator(S){return new O(this,S)}keys(S){const s=this.keyEncoding(S&&S.keyEncoding),v=this.valueEncoding(S&&S.valueEncoding);if((S=re(S,s))[O.keyEncoding]=s,S[O.valueEncoding]=v,S.keyEncoding=s.format,S.valueEncoding=v.format,"opening"===this[be])return new L(this,S);if("open"!==this[be])throw new x("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(S)}_keys(S){return new A(this,S)}values(S){const s=this.keyEncoding(S&&S.keyEncoding),v=this.valueEncoding(S&&S.valueEncoding);if((S=re(S,s))[O.keyEncoding]=s,S[O.valueEncoding]=v,S.keyEncoding=s.format,S.valueEncoding=v.format,"opening"===this[be])return new D(this,S);if("open"!==this[be])throw new x("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(S)}_values(S){return new P(this,S)}defer(S){if("function"!=typeof S)throw new TypeError("The first argument must be a function");this[ae].push(S)}[se](){if(0===this[ae].length)return;const S=this[ae];this[ae]=[];for(const s of S)s()}attachResource(S){if("object"!=typeof S||null===S||"function"!=typeof S.close)throw new TypeError("The first argument must be a resource object");this[Z].add(S)}detachResource(S){this[Z].delete(S)}_chainedBatch(){return new X(this)}_checkKey(S){if(null==S)return new x("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(S){if(null==S)return new x("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}}y.prototype.nextTick=w(24585);const{AbstractSublevel:g}=w(25416)({AbstractLevel:y});H.AbstractLevel=y,H.AbstractSublevel=g;const M=function(B,S){return"open"!==B[be]&&(B.nextTick(S,new x("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0)},T=function(B){return Object.keys(B.supports.encodings).filter(S=>!!B.supports.encodings[S])}},75929:(je,H,w)=>{"use strict";H.AbstractLevel=w(83764).AbstractLevel,H.AbstractSublevel=w(83764).AbstractSublevel,H.AbstractIterator=w(63294).AbstractIterator,H.AbstractKeyIterator=w(63294).AbstractKeyIterator,H.AbstractValueIterator=w(63294).AbstractValueIterator,H.AbstractChainedBatch=w(91463).AbstractChainedBatch},47519:(je,H,w)=>{"use strict";const{AbstractIterator:d,AbstractKeyIterator:E,AbstractValueIterator:k}=w(63294),z=Symbol("unfix"),x=Symbol("iterator"),O=Symbol("handleOne"),A=Symbol("handleMany"),P=Symbol("callback");class F extends d{constructor(j,G,re,te){super(j,G),this[x]=re,this[z]=te,this[O]=this[O].bind(this),this[A]=this[A].bind(this),this[P]=null}[O](j,G,re){const te=this[P];if(j)return te(j);void 0!==G&&(G=this[z](G)),te(j,G,re)}[A](j,G){const re=this[P];if(j)return re(j);for(const te of G){const J=te[0];void 0!==J&&(te[0]=this[z](J))}re(j,G)}}class L extends E{constructor(j,G,re,te){super(j,G),this[x]=re,this[z]=te,this[O]=this[O].bind(this),this[A]=this[A].bind(this),this[P]=null}[O](j,G){const re=this[P];if(j)return re(j);void 0!==G&&(G=this[z](G)),re(j,G)}[A](j,G){const re=this[P];if(j)return re(j);for(let te=0;te<G.length;te++){const J=G[te];void 0!==J&&(G[te]=this[z](J))}re(j,G)}}class D extends k{constructor(j,G,re){super(j,G),this[x]=re}}for(const X of[F,L])X.prototype._next=function(j){this[P]=j,this[x].next(this[O])},X.prototype._nextv=function(j,G,re){this[P]=re,this[x].nextv(j,G,this[A])},X.prototype._all=function(j,G){this[P]=G,this[x].all(j,this[A])};for(const X of[D])X.prototype._next=function(j){this[x].next(j)},X.prototype._nextv=function(j,G,re){this[x].nextv(j,G,re)},X.prototype._all=function(j,G){this[x].all(j,G)};for(const X of[F,L,D])X.prototype._seek=function(j,G){this[x].seek(j,G)},X.prototype._close=function(j){this[x].close(j)};H.AbstractSublevelIterator=F,H.AbstractSublevelKeyIterator=L,H.AbstractSublevelValueIterator=D},25416:(je,H,w)=>{"use strict";const d=w(61747),{Buffer:E}=w(1067)||{},{AbstractSublevelIterator:k,AbstractSublevelKeyIterator:z,AbstractSublevelValueIterator:x}=w(47519),O=Symbol("prefix"),A=Symbol("upperBound"),P=Symbol("prefixRange"),F=Symbol("parent"),L=Symbol("unfix"),D=new TextEncoder,X={separator:"!"};je.exports=function({AbstractLevel:Z}){class ie extends Z{static defaults(se){if("string"==typeof se)throw new d("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(se&&se.open)throw new d("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return null==se?X:se.separator?se:{...se,separator:"!"}}constructor(se,de,le){const{separator:be,manifest:xe,...ke}=ie.defaults(le);de=J(de,be);const C=be.charCodeAt(0)+1,a=se[F]||se;if(!D.encode(de).every(g=>g>C&&g<127))throw new d(`Prefix must use bytes > ${C} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(j(a,xe),ke);const f=(se.prefix||"")+be+de+be,y=f.slice(0,-1)+String.fromCharCode(C);this[F]=a,this[O]=new re(f),this[A]=new re(y),this[L]=new te,this.nextTick=a.nextTick}prefixKey(se,de){if("utf8"===de)return this[O].utf8+se;if(0===se.byteLength)return this[O][de];if("view"===de){const le=this[O].view,be=new Uint8Array(le.byteLength+se.byteLength);return be.set(le,0),be.set(se,le.byteLength),be}{const le=this[O].buffer;return E.concat([le,se],le.byteLength+se.byteLength)}}[P](se,de){void 0!==se.gte?se.gte=this.prefixKey(se.gte,de):void 0!==se.gt?se.gt=this.prefixKey(se.gt,de):se.gte=this[O][de],void 0!==se.lte?se.lte=this.prefixKey(se.lte,de):void 0!==se.lt?se.lt=this.prefixKey(se.lt,de):se.lte=this[A][de]}get prefix(){return this[O].utf8}get db(){return this[F]}_open(se,de){this[F].open({passive:!0},de)}_put(se,de,le,be){this[F].put(se,de,le,be)}_get(se,de,le){this[F].get(se,de,le)}_getMany(se,de,le){this[F].getMany(se,de,le)}_del(se,de,le){this[F].del(se,de,le)}_batch(se,de,le){this[F].batch(se,de,le)}_clear(se,de){this[P](se,se.keyEncoding),this[F].clear(se,de)}_iterator(se){this[P](se,se.keyEncoding);const de=this[F].iterator(se),le=this[L].get(this[O].utf8.length,se.keyEncoding);return new k(this,se,de,le)}_keys(se){this[P](se,se.keyEncoding);const de=this[F].keys(se),le=this[L].get(this[O].utf8.length,se.keyEncoding);return new z(this,se,de,le)}_values(se){this[P](se,se.keyEncoding);const de=this[F].values(se);return new x(this,se,de)}}return{AbstractSublevel:ie}};const j=function(Z,ie){return{...Z.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...ie,encodings:{utf8:G(Z,"utf8"),buffer:G(Z,"buffer"),view:G(Z,"view")}}},G=function(Z,ie){return!!Z.supports.encodings[ie]&&Z.keyEncoding(ie).name===ie};class re{constructor(ie){this.utf8=ie,this.view=D.encode(ie),this.buffer=E?E.from(this.view.buffer,0,this.view.byteLength):{}}}class te{constructor(){this.cache=new Map}get(ie,ae){let se=this.cache.get(ae);return void 0===se&&(se="view"===ae?function(de,le){return le.subarray(de)}.bind(null,ie):function(de,le){return le.slice(de)}.bind(null,ie),this.cache.set(ae,se)),se}}const J=function(Z,ie){let ae=0,se=Z.length;for(;ae<se&&Z[ae]===ie;)ae++;for(;se>ae&&Z[se-1]===ie;)se--;return Z.slice(ae,se)}},32856:(je,H)=>{"use strict";H.getCallback=function(w,d){return"function"==typeof w?w:d},H.getOptions=function(w,d){return"object"==typeof w&&null!==w?w:void 0!==d?d:{}}},45776:(je,H,w)=>{"use strict";const{AbstractChainedBatch:d}=w(91463),E=w(61747),k=Symbol("encoded");H.DefaultChainedBatch=class z extends d{constructor(O){super(O),this[k]=[]}_put(O,A,P){this[k].push({...P,type:"put",key:O,value:A})}_del(O,A){this[k].push({...A,type:"del",key:O})}_clear(){this[k]=[]}_write(O,A){"opening"===this.db.status?this.db.defer(()=>this._write(O,A)):"open"===this.db.status?0===this[k].length?this.nextTick(A):this.db._batch(this[k],O,A):this.nextTick(A,new E("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}}},48335:(je,H,w)=>{"use strict";const{AbstractKeyIterator:d,AbstractValueIterator:E}=w(63294),k=Symbol("iterator"),z=Symbol("callback"),x=Symbol("handleOne"),O=Symbol("handleMany");class A extends d{constructor(L,D){super(L,D),this[k]=L.iterator({...D,keys:!0,values:!1}),this[x]=this[x].bind(this),this[O]=this[O].bind(this)}}class P extends E{constructor(L,D){super(L,D),this[k]=L.iterator({...D,keys:!1,values:!0}),this[x]=this[x].bind(this),this[O]=this[O].bind(this)}}for(const F of[A,P]){const L=F===A,D=L?X=>X[0]:X=>X[1];F.prototype._next=function(X){this[z]=X,this[k].next(this[x])},F.prototype[x]=function(X,j,G){const re=this[z];X?re(X):re(null,L?j:G)},F.prototype._nextv=function(X,j,G){this[z]=G,this[k].nextv(X,j,this[O])},F.prototype._all=function(X,j){this[z]=j,this[k].all(X,this[O])},F.prototype[O]=function(X,j){const G=this[z];X?G(X):G(null,j.map(D))},F.prototype._seek=function(X,j){this[k].seek(X,j)},F.prototype._close=function(X){this[k].close(X)}}H.DefaultKeyIterator=A,H.DefaultValueIterator=P},92745:(je,H,w)=>{"use strict";const{AbstractIterator:d,AbstractKeyIterator:E,AbstractValueIterator:k}=w(63294),z=w(61747),x=Symbol("nut"),O=Symbol("undefer"),A=Symbol("factory");class P extends d{constructor(X,j){super(X,j),this[x]=null,this[A]=()=>X.iterator(j),this.db.defer(()=>this[O]())}}class F extends E{constructor(X,j){super(X,j),this[x]=null,this[A]=()=>X.keys(j),this.db.defer(()=>this[O]())}}class L extends k{constructor(X,j){super(X,j),this[x]=null,this[A]=()=>X.values(j),this.db.defer(()=>this[O]())}}for(const D of[P,F,L])D.prototype[O]=function(){"open"===this.db.status&&(this[x]=this[A]())},D.prototype._next=function(X){null!==this[x]?this[x].next(X):"opening"===this.db.status?this.db.defer(()=>this._next(X)):this.nextTick(X,new z("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},D.prototype._nextv=function(X,j,G){null!==this[x]?this[x].nextv(X,j,G):"opening"===this.db.status?this.db.defer(()=>this._nextv(X,j,G)):this.nextTick(G,new z("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},D.prototype._all=function(X,j){null!==this[x]?this[x].all(j):"opening"===this.db.status?this.db.defer(()=>this._all(X,j)):this.nextTick(j,new z("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},D.prototype._seek=function(X,j){null!==this[x]?this[x]._seek(X,j):"opening"===this.db.status&&this.db.defer(()=>this._seek(X,j))},D.prototype._close=function(X){null!==this[x]?this[x].close(X):"opening"===this.db.status?this.db.defer(()=>this._close(X)):this.nextTick(X)};H.DeferredIterator=P,H.DeferredKeyIterator=F,H.DeferredValueIterator=L},24585:(je,H,w)=>{"use strict";const d=w(24515);je.exports=function(E,...k){d(0===k.length?E:()=>E(...k))}},4287:(je,H,w)=>{"use strict";const d=w(61747),E=Object.prototype.hasOwnProperty,k=new Set(["lt","lte","gt","gte"]);je.exports=function(z,x){const O={};for(const A in z)if(E.call(z,A)&&"keyEncoding"!==A&&"valueEncoding"!==A){if("start"===A||"end"===A)throw new d(`The legacy range option '${A}' has been removed`,{code:"LEVEL_LEGACY"});if("encoding"===A)throw new d("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});O[A]=k.has(A)?x.encode(z[A]):z[A]}return O.reverse=!!O.reverse,O.limit=Number.isInteger(O.limit)&&O.limit>=0?O.limit:-1,O}},1067:(je,H,w)=>{"use strict";const d=w(13981),E=w(22020),k="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;H.Buffer=A,H.SlowBuffer=function Z(N){return+N!=N&&(N=0),A.alloc(+N)},H.INSPECT_MAX_BYTES=50;const z=2147483647;function O(N){if(N>z)throw new RangeError('The value "'+N+'" is invalid for option "size"');const _=new Uint8Array(N);return Object.setPrototypeOf(_,A.prototype),_}function A(N,_,m){if("number"==typeof N){if("string"==typeof _)throw new TypeError('The "string" argument must be of type string. Received type number');return D(N)}return P(N,_,m)}function P(N,_,m){if("string"==typeof N)return function X(N,_){if(("string"!=typeof _||""===_)&&(_="utf8"),!A.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const m=0|ie(N,_);let U=O(m);const ne=U.write(N,_);return ne!==m&&(U=U.slice(0,ne)),U}(N,_);if(ArrayBuffer.isView(N))return function G(N){if(Fe(N,Uint8Array)){const _=new Uint8Array(N);return re(_.buffer,_.byteOffset,_.byteLength)}return j(N)}(N);if(null==N)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(Fe(N,ArrayBuffer)||N&&Fe(N.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Fe(N,SharedArrayBuffer)||N&&Fe(N.buffer,SharedArrayBuffer)))return re(N,_,m);if("number"==typeof N)throw new TypeError('The "value" argument must not be of type number. Received type number');const U=N.valueOf&&N.valueOf();if(null!=U&&U!==N)return A.from(U,_,m);const ne=function te(N){if(A.isBuffer(N)){const _=0|J(N.length),m=O(_);return 0===m.length||N.copy(m,0,0,_),m}return void 0!==N.length?"number"!=typeof N.length||_t(N.length)?O(0):j(N):"Buffer"===N.type&&Array.isArray(N.data)?j(N.data):void 0}(N);if(ne)return ne;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof N[Symbol.toPrimitive])return A.from(N[Symbol.toPrimitive]("string"),_,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}function F(N){if("number"!=typeof N)throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function D(N){return F(N),O(N<0?0:0|J(N))}function j(N){const _=N.length<0?0:0|J(N.length),m=O(_);for(let U=0;U<_;U+=1)m[U]=255&N[U];return m}function re(N,_,m){if(_<0||N.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<_+(m||0))throw new RangeError('"length" is outside of buffer bounds');let U;return U=void 0===_&&void 0===m?new Uint8Array(N):void 0===m?new Uint8Array(N,_):new Uint8Array(N,_,m),Object.setPrototypeOf(U,A.prototype),U}function J(N){if(N>=z)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+z.toString(16)+" bytes");return 0|N}function ie(N,_){if(A.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||Fe(N,ArrayBuffer))return N.byteLength;if("string"!=typeof N)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);const m=N.length,U=arguments.length>2&&!0===arguments[2];if(!U&&0===m)return 0;let ne=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return oe(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*m;case"hex":return m>>>1;case"base64":return Re(N).length;default:if(ne)return U?-1:oe(N).length;_=(""+_).toLowerCase(),ne=!0}}function ae(N,_,m){let U=!1;if((void 0===_||_<0)&&(_=0),_>this.length||((void 0===m||m>this.length)&&(m=this.length),m<=0)||(m>>>=0)<=(_>>>=0))return"";for(N||(N="utf8");;)switch(N){case"hex":return S(this,_,m);case"utf8":case"utf-8":return y(this,_,m);case"ascii":return T(this,_,m);case"latin1":case"binary":return B(this,_,m);case"base64":return f(this,_,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,_,m);default:if(U)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),U=!0}}function se(N,_,m){const U=N[_];N[_]=N[m],N[m]=U}function de(N,_,m,U,ne){if(0===N.length)return-1;if("string"==typeof m?(U=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),_t(m=+m)&&(m=ne?0:N.length-1),m<0&&(m=N.length+m),m>=N.length){if(ne)return-1;m=N.length-1}else if(m<0){if(!ne)return-1;m=0}if("string"==typeof _&&(_=A.from(_,U)),A.isBuffer(_))return 0===_.length?-1:le(N,_,m,U,ne);if("number"==typeof _)return _&=255,"function"==typeof Uint8Array.prototype.indexOf?ne?Uint8Array.prototype.indexOf.call(N,_,m):Uint8Array.prototype.lastIndexOf.call(N,_,m):le(N,[_],m,U,ne);throw new TypeError("val must be string, number or Buffer")}function le(N,_,m,U,ne){let gt,ge=1,Ae=N.length,tt=_.length;if(void 0!==U&&("ucs2"===(U=String(U).toLowerCase())||"ucs-2"===U||"utf16le"===U||"utf-16le"===U)){if(N.length<2||_.length<2)return-1;ge=2,Ae/=2,tt/=2,m/=2}function Bt(It,Zt){return 1===ge?It[Zt]:It.readUInt16BE(Zt*ge)}if(ne){let It=-1;for(gt=m;gt<Ae;gt++)if(Bt(N,gt)===Bt(_,-1===It?0:gt-It)){if(-1===It&&(It=gt),gt-It+1===tt)return It*ge}else-1!==It&&(gt-=gt-It),It=-1}else for(m+tt>Ae&&(m=Ae-tt),gt=m;gt>=0;gt--){let It=!0;for(let Zt=0;Zt<tt;Zt++)if(Bt(N,gt+Zt)!==Bt(_,Zt)){It=!1;break}if(It)return gt}return-1}function be(N,_,m,U){m=Number(m)||0;const ne=N.length-m;U?(U=Number(U))>ne&&(U=ne):U=ne;const ge=_.length;let Ae;for(U>ge/2&&(U=ge/2),Ae=0;Ae<U;++Ae){const tt=parseInt(_.substr(2*Ae,2),16);if(_t(tt))return Ae;N[m+Ae]=tt}return Ae}function xe(N,_,m,U){return $e(oe(_,N.length-m),N,m,U)}function ke(N,_,m,U){return $e(function fe(N){const _=[];for(let m=0;m<N.length;++m)_.push(255&N.charCodeAt(m));return _}(_),N,m,U)}function C(N,_,m,U){return $e(Re(_),N,m,U)}function a(N,_,m,U){return $e(function Ee(N,_){let m,U,ne;const ge=[];for(let Ae=0;Ae<N.length&&!((_-=2)<0);++Ae)m=N.charCodeAt(Ae),U=m>>8,ne=m%256,ge.push(ne),ge.push(U);return ge}(_,N.length-m),N,m,U)}function f(N,_,m){return d.fromByteArray(0===_&&m===N.length?N:N.slice(_,m))}function y(N,_,m){m=Math.min(N.length,m);const U=[];let ne=_;for(;ne<m;){const ge=N[ne];let Ae=null,tt=ge>239?4:ge>223?3:ge>191?2:1;if(ne+tt<=m){let Bt,gt,It,Zt;switch(tt){case 1:ge<128&&(Ae=ge);break;case 2:Bt=N[ne+1],128==(192&Bt)&&(Zt=(31&ge)<<6|63&Bt,Zt>127&&(Ae=Zt));break;case 3:Bt=N[ne+1],gt=N[ne+2],128==(192&Bt)&&128==(192&gt)&&(Zt=(15&ge)<<12|(63&Bt)<<6|63&gt,Zt>2047&&(Zt<55296||Zt>57343)&&(Ae=Zt));break;case 4:Bt=N[ne+1],gt=N[ne+2],It=N[ne+3],128==(192&Bt)&&128==(192&gt)&&128==(192&It)&&(Zt=(15&ge)<<18|(63&Bt)<<12|(63&gt)<<6|63&It,Zt>65535&&Zt<1114112&&(Ae=Zt))}}null===Ae?(Ae=65533,tt=1):Ae>65535&&(Ae-=65536,U.push(Ae>>>10&1023|55296),Ae=56320|1023&Ae),U.push(Ae),ne+=tt}return function M(N){const _=N.length;if(_<=g)return String.fromCharCode.apply(String,N);let m="",U=0;for(;U<_;)m+=String.fromCharCode.apply(String,N.slice(U,U+=g));return m}(U)}H.kMaxLength=z,!(A.TYPED_ARRAY_SUPPORT=function x(){try{const N=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(N,_),42===N.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(N,_,m){return P(N,_,m)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(N,_,m){return function L(N,_,m){return F(N),N<=0?O(N):void 0!==_?"string"==typeof m?O(N).fill(_,m):O(N).fill(_):O(N)}(N,_,m)},A.allocUnsafe=function(N){return D(N)},A.allocUnsafeSlow=function(N){return D(N)},A.isBuffer=function(_){return null!=_&&!0===_._isBuffer&&_!==A.prototype},A.compare=function(_,m){if(Fe(_,Uint8Array)&&(_=A.from(_,_.offset,_.byteLength)),Fe(m,Uint8Array)&&(m=A.from(m,m.offset,m.byteLength)),!A.isBuffer(_)||!A.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===m)return 0;let U=_.length,ne=m.length;for(let ge=0,Ae=Math.min(U,ne);ge<Ae;++ge)if(_[ge]!==m[ge]){U=_[ge],ne=m[ge];break}return U<ne?-1:ne<U?1:0},A.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(_,m){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(0===_.length)return A.alloc(0);let U;if(void 0===m)for(m=0,U=0;U<_.length;++U)m+=_[U].length;const ne=A.allocUnsafe(m);let ge=0;for(U=0;U<_.length;++U){let Ae=_[U];if(Fe(Ae,Uint8Array))ge+Ae.length>ne.length?(A.isBuffer(Ae)||(Ae=A.from(Ae)),Ae.copy(ne,ge)):Uint8Array.prototype.set.call(ne,Ae,ge);else{if(!A.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(ne,ge)}ge+=Ae.length}return ne},A.byteLength=ie,A.prototype._isBuffer=!0,A.prototype.swap16=function(){const _=this.length;if(_%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<_;m+=2)se(this,m,m+1);return this},A.prototype.swap32=function(){const _=this.length;if(_%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<_;m+=4)se(this,m,m+3),se(this,m+1,m+2);return this},A.prototype.swap64=function(){const _=this.length;if(_%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<_;m+=8)se(this,m,m+7),se(this,m+1,m+6),se(this,m+2,m+5),se(this,m+3,m+4);return this},A.prototype.toLocaleString=A.prototype.toString=function(){const _=this.length;return 0===_?"":0===arguments.length?y(this,0,_):ae.apply(this,arguments)},A.prototype.equals=function(_){if(!A.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_||0===A.compare(this,_)},A.prototype.inspect=function(){let _="";const m=H.INSPECT_MAX_BYTES;return _=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(_+=" ... "),"<Buffer "+_+">"},k&&(A.prototype[k]=A.prototype.inspect),A.prototype.compare=function(_,m,U,ne,ge){if(Fe(_,Uint8Array)&&(_=A.from(_,_.offset,_.byteLength)),!A.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(void 0===m&&(m=0),void 0===U&&(U=_?_.length:0),void 0===ne&&(ne=0),void 0===ge&&(ge=this.length),m<0||U>_.length||ne<0||ge>this.length)throw new RangeError("out of range index");if(ne>=ge&&m>=U)return 0;if(ne>=ge)return-1;if(m>=U)return 1;if(this===_)return 0;let Ae=(ge>>>=0)-(ne>>>=0),tt=(U>>>=0)-(m>>>=0);const Bt=Math.min(Ae,tt),gt=this.slice(ne,ge),It=_.slice(m,U);for(let Zt=0;Zt<Bt;++Zt)if(gt[Zt]!==It[Zt]){Ae=gt[Zt],tt=It[Zt];break}return Ae<tt?-1:tt<Ae?1:0},A.prototype.includes=function(_,m,U){return-1!==this.indexOf(_,m,U)},A.prototype.indexOf=function(_,m,U){return de(this,_,m,U,!0)},A.prototype.lastIndexOf=function(_,m,U){return de(this,_,m,U,!1)},A.prototype.write=function(_,m,U,ne){if(void 0===m)ne="utf8",U=this.length,m=0;else if(void 0===U&&"string"==typeof m)ne=m,U=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m>>>=0,isFinite(U)?(U>>>=0,void 0===ne&&(ne="utf8")):(ne=U,U=void 0)}const ge=this.length-m;if((void 0===U||U>ge)&&(U=ge),_.length>0&&(U<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");let Ae=!1;for(;;)switch(ne){case"hex":return be(this,_,m,U);case"utf8":case"utf-8":return xe(this,_,m,U);case"ascii":case"latin1":case"binary":return ke(this,_,m,U);case"base64":return C(this,_,m,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,_,m,U);default:if(Ae)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),Ae=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const g=4096;function T(N,_,m){let U="";m=Math.min(N.length,m);for(let ne=_;ne<m;++ne)U+=String.fromCharCode(127&N[ne]);return U}function B(N,_,m){let U="";m=Math.min(N.length,m);for(let ne=_;ne<m;++ne)U+=String.fromCharCode(N[ne]);return U}function S(N,_,m){const U=N.length;(!_||_<0)&&(_=0),(!m||m<0||m>U)&&(m=U);let ne="";for(let ge=_;ge<m;++ge)ne+=We[N[ge]];return ne}function s(N,_,m){const U=N.slice(_,m);let ne="";for(let ge=0;ge<U.length-1;ge+=2)ne+=String.fromCharCode(U[ge]+256*U[ge+1]);return ne}function v(N,_,m){if(N%1!=0||N<0)throw new RangeError("offset is not uint");if(N+_>m)throw new RangeError("Trying to access beyond buffer length")}function W(N,_,m,U,ne,ge){if(!A.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>ne||_<ge)throw new RangeError('"value" argument is out of bounds');if(m+U>N.length)throw new RangeError("Index out of range")}function K(N,_,m,U,ne){ye(_,U,ne,N,m,7);let ge=Number(_&BigInt(4294967295));N[m++]=ge,ge>>=8,N[m++]=ge,ge>>=8,N[m++]=ge,ge>>=8,N[m++]=ge;let Ae=Number(_>>BigInt(32)&BigInt(4294967295));return N[m++]=Ae,Ae>>=8,N[m++]=Ae,Ae>>=8,N[m++]=Ae,Ae>>=8,N[m++]=Ae,m}function ee(N,_,m,U,ne){ye(_,U,ne,N,m,7);let ge=Number(_&BigInt(4294967295));N[m+7]=ge,ge>>=8,N[m+6]=ge,ge>>=8,N[m+5]=ge,ge>>=8,N[m+4]=ge;let Ae=Number(_>>BigInt(32)&BigInt(4294967295));return N[m+3]=Ae,Ae>>=8,N[m+2]=Ae,Ae>>=8,N[m+1]=Ae,Ae>>=8,N[m]=Ae,m+8}function ce(N,_,m,U,ne,ge){if(m+U>N.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function _e(N,_,m,U,ne){return _=+_,m>>>=0,ne||ce(N,0,m,4),E.write(N,_,m,U,23,4),m+4}function Oe(N,_,m,U,ne){return _=+_,m>>>=0,ne||ce(N,0,m,8),E.write(N,_,m,U,52,8),m+8}A.prototype.slice=function(_,m){const U=this.length;(_=~~_)<0?(_+=U)<0&&(_=0):_>U&&(_=U),(m=void 0===m?U:~~m)<0?(m+=U)<0&&(m=0):m>U&&(m=U),m<_&&(m=_);const ne=this.subarray(_,m);return Object.setPrototypeOf(ne,A.prototype),ne},A.prototype.readUintLE=A.prototype.readUIntLE=function(_,m,U){_>>>=0,m>>>=0,U||v(_,m,this.length);let ne=this[_],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[_+Ae]*ge;return ne},A.prototype.readUintBE=A.prototype.readUIntBE=function(_,m,U){_>>>=0,m>>>=0,U||v(_,m,this.length);let ne=this[_+--m],ge=1;for(;m>0&&(ge*=256);)ne+=this[_+--m]*ge;return ne},A.prototype.readUint8=A.prototype.readUInt8=function(_,m){return _>>>=0,m||v(_,1,this.length),this[_]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(_,m){return _>>>=0,m||v(_,2,this.length),this[_]|this[_+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(_,m){return _>>>=0,m||v(_,2,this.length),this[_]<<8|this[_+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(_,m){return _>>>=0,m||v(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+16777216*this[_+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(_,m){return _>>>=0,m||v(_,4,this.length),16777216*this[_]+(this[_+1]<<16|this[_+2]<<8|this[_+3])},A.prototype.readBigUInt64LE=Le(function(_){De(_>>>=0,"offset");const m=this[_],U=this[_+7];(void 0===m||void 0===U)&&pe(_,this.length-8);const ne=m+256*this[++_]+65536*this[++_]+this[++_]*2**24,ge=this[++_]+256*this[++_]+65536*this[++_]+U*2**24;return BigInt(ne)+(BigInt(ge)<<BigInt(32))}),A.prototype.readBigUInt64BE=Le(function(_){De(_>>>=0,"offset");const m=this[_],U=this[_+7];(void 0===m||void 0===U)&&pe(_,this.length-8);const ne=m*2**24+65536*this[++_]+256*this[++_]+this[++_],ge=this[++_]*2**24+65536*this[++_]+256*this[++_]+U;return(BigInt(ne)<<BigInt(32))+BigInt(ge)}),A.prototype.readIntLE=function(_,m,U){_>>>=0,m>>>=0,U||v(_,m,this.length);let ne=this[_],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[_+Ae]*ge;return ge*=128,ne>=ge&&(ne-=Math.pow(2,8*m)),ne},A.prototype.readIntBE=function(_,m,U){_>>>=0,m>>>=0,U||v(_,m,this.length);let ne=m,ge=1,Ae=this[_+--ne];for(;ne>0&&(ge*=256);)Ae+=this[_+--ne]*ge;return ge*=128,Ae>=ge&&(Ae-=Math.pow(2,8*m)),Ae},A.prototype.readInt8=function(_,m){return _>>>=0,m||v(_,1,this.length),128&this[_]?-1*(255-this[_]+1):this[_]},A.prototype.readInt16LE=function(_,m){_>>>=0,m||v(_,2,this.length);const U=this[_]|this[_+1]<<8;return 32768&U?4294901760|U:U},A.prototype.readInt16BE=function(_,m){_>>>=0,m||v(_,2,this.length);const U=this[_+1]|this[_]<<8;return 32768&U?4294901760|U:U},A.prototype.readInt32LE=function(_,m){return _>>>=0,m||v(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},A.prototype.readInt32BE=function(_,m){return _>>>=0,m||v(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},A.prototype.readBigInt64LE=Le(function(_){De(_>>>=0,"offset");const m=this[_],U=this[_+7];return(void 0===m||void 0===U)&&pe(_,this.length-8),(BigInt(this[_+4]+256*this[_+5]+65536*this[_+6]+(U<<24))<<BigInt(32))+BigInt(m+256*this[++_]+65536*this[++_]+this[++_]*2**24)}),A.prototype.readBigInt64BE=Le(function(_){De(_>>>=0,"offset");const m=this[_],U=this[_+7];(void 0===m||void 0===U)&&pe(_,this.length-8);const ne=(m<<24)+65536*this[++_]+256*this[++_]+this[++_];return(BigInt(ne)<<BigInt(32))+BigInt(this[++_]*2**24+65536*this[++_]+256*this[++_]+U)}),A.prototype.readFloatLE=function(_,m){return _>>>=0,m||v(_,4,this.length),E.read(this,_,!0,23,4)},A.prototype.readFloatBE=function(_,m){return _>>>=0,m||v(_,4,this.length),E.read(this,_,!1,23,4)},A.prototype.readDoubleLE=function(_,m){return _>>>=0,m||v(_,8,this.length),E.read(this,_,!0,52,8)},A.prototype.readDoubleBE=function(_,m){return _>>>=0,m||v(_,8,this.length),E.read(this,_,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(_,m,U,ne){_=+_,m>>>=0,U>>>=0,ne||W(this,_,m,U,Math.pow(2,8*U)-1,0);let ge=1,Ae=0;for(this[m]=255&_;++Ae<U&&(ge*=256);)this[m+Ae]=_/ge&255;return m+U},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(_,m,U,ne){_=+_,m>>>=0,U>>>=0,ne||W(this,_,m,U,Math.pow(2,8*U)-1,0);let ge=U-1,Ae=1;for(this[m+ge]=255&_;--ge>=0&&(Ae*=256);)this[m+ge]=_/Ae&255;return m+U},A.prototype.writeUint8=A.prototype.writeUInt8=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,1,255,0),this[m]=255&_,m+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,2,65535,0),this[m]=255&_,this[m+1]=_>>>8,m+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,2,65535,0),this[m]=_>>>8,this[m+1]=255&_,m+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,4,4294967295,0),this[m+3]=_>>>24,this[m+2]=_>>>16,this[m+1]=_>>>8,this[m]=255&_,m+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,4,4294967295,0),this[m]=_>>>24,this[m+1]=_>>>16,this[m+2]=_>>>8,this[m+3]=255&_,m+4},A.prototype.writeBigUInt64LE=Le(function(_,m=0){return K(this,_,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=Le(function(_,m=0){return ee(this,_,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(_,m,U,ne){if(_=+_,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,_,m,U,Bt-1,-Bt)}let ge=0,Ae=1,tt=0;for(this[m]=255&_;++ge<U&&(Ae*=256);)_<0&&0===tt&&0!==this[m+ge-1]&&(tt=1),this[m+ge]=(_/Ae|0)-tt&255;return m+U},A.prototype.writeIntBE=function(_,m,U,ne){if(_=+_,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,_,m,U,Bt-1,-Bt)}let ge=U-1,Ae=1,tt=0;for(this[m+ge]=255&_;--ge>=0&&(Ae*=256);)_<0&&0===tt&&0!==this[m+ge+1]&&(tt=1),this[m+ge]=(_/Ae|0)-tt&255;return m+U},A.prototype.writeInt8=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,1,127,-128),_<0&&(_=255+_+1),this[m]=255&_,m+1},A.prototype.writeInt16LE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,2,32767,-32768),this[m]=255&_,this[m+1]=_>>>8,m+2},A.prototype.writeInt16BE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,2,32767,-32768),this[m]=_>>>8,this[m+1]=255&_,m+2},A.prototype.writeInt32LE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,4,2147483647,-2147483648),this[m]=255&_,this[m+1]=_>>>8,this[m+2]=_>>>16,this[m+3]=_>>>24,m+4},A.prototype.writeInt32BE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[m]=_>>>24,this[m+1]=_>>>16,this[m+2]=_>>>8,this[m+3]=255&_,m+4},A.prototype.writeBigInt64LE=Le(function(_,m=0){return K(this,_,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=Le(function(_,m=0){return ee(this,_,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeFloatLE=function(_,m,U){return _e(this,_,m,!0,U)},A.prototype.writeFloatBE=function(_,m,U){return _e(this,_,m,!1,U)},A.prototype.writeDoubleLE=function(_,m,U){return Oe(this,_,m,!0,U)},A.prototype.writeDoubleBE=function(_,m,U){return Oe(this,_,m,!1,U)},A.prototype.copy=function(_,m,U,ne){if(!A.isBuffer(_))throw new TypeError("argument should be a Buffer");if(U||(U=0),!ne&&0!==ne&&(ne=this.length),m>=_.length&&(m=_.length),m||(m=0),ne>0&&ne<U&&(ne=U),ne===U||0===_.length||0===this.length)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),_.length-m<ne-U&&(ne=_.length-m+U);const ge=ne-U;return this===_&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(m,U,ne):Uint8Array.prototype.set.call(_,this.subarray(U,ne),m),ge},A.prototype.fill=function(_,m,U,ne){if("string"==typeof _){if("string"==typeof m?(ne=m,m=0,U=this.length):"string"==typeof U&&(ne=U,U=this.length),void 0!==ne&&"string"!=typeof ne)throw new TypeError("encoding must be a string");if("string"==typeof ne&&!A.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(1===_.length){const Ae=_.charCodeAt(0);("utf8"===ne&&Ae<128||"latin1"===ne)&&(_=Ae)}}else"number"==typeof _?_&=255:"boolean"==typeof _&&(_=Number(_));if(m<0||this.length<m||this.length<U)throw new RangeError("Out of range index");if(U<=m)return this;let ge;if(m>>>=0,U=void 0===U?this.length:U>>>0,_||(_=0),"number"==typeof _)for(ge=m;ge<U;++ge)this[ge]=_;else{const Ae=A.isBuffer(_)?_:A.from(_,ne),tt=Ae.length;if(0===tt)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(ge=0;ge<U-m;++ge)this[ge+m]=Ae[ge%tt]}return this};const Ve={};function Se(N,_,m){Ve[N]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${N}]`,delete this.name}get code(){return N}set code(ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ne,writable:!0})}toString(){return`${this.name} [${N}]: ${this.message}`}}}function we(N){let _="",m=N.length;const U="-"===N[0]?1:0;for(;m>=U+4;m-=3)_=`_${N.slice(m-3,m)}${_}`;return`${N.slice(0,m)}${_}`}function ye(N,_,m,U,ne,ge){if(N>m||N<_){const Ae="bigint"==typeof _?"n":"";let tt;throw tt=ge>3?0===_||_===BigInt(0)?`>= 0${Ae} and < 2${Ae} ** ${8*(ge+1)}${Ae}`:`>= -(2${Ae} ** ${8*(ge+1)-1}${Ae}) and < 2 ** ${8*(ge+1)-1}${Ae}`:`>= ${_}${Ae} and <= ${m}${Ae}`,new Ve.ERR_OUT_OF_RANGE("value",tt,N)}!function Ue(N,_,m){De(_,"offset"),(void 0===N[_]||void 0===N[_+m])&&pe(_,N.length-(m+1))}(U,ne,ge)}function De(N,_){if("number"!=typeof N)throw new Ve.ERR_INVALID_ARG_TYPE(_,"number",N)}function pe(N,_,m){throw Math.floor(N)!==N?(De(N,m),new Ve.ERR_OUT_OF_RANGE(m||"offset","an integer",N)):_<0?new Ve.ERR_BUFFER_OUT_OF_BOUNDS:new Ve.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${_}`,N)}Se("ERR_BUFFER_OUT_OF_BOUNDS",function(N){return N?`${N} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Se("ERR_INVALID_ARG_TYPE",function(N,_){return`The "${N}" argument must be of type number. Received type ${typeof _}`},TypeError),Se("ERR_OUT_OF_RANGE",function(N,_,m){let U=`The value of "${N}" is out of range.`,ne=m;return Number.isInteger(m)&&Math.abs(m)>2**32?ne=we(String(m)):"bigint"==typeof m&&(ne=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(ne=we(ne)),ne+="n"),U+=` It must be ${_}. Received ${ne}`,U},RangeError);const ue=/[^+/0-9A-Za-z-_]/g;function oe(N,_){let m;_=_||1/0;const U=N.length;let ne=null;const ge=[];for(let Ae=0;Ae<U;++Ae){if(m=N.charCodeAt(Ae),m>55295&&m<57344){if(!ne){if(m>56319){(_-=3)>-1&&ge.push(239,191,189);continue}if(Ae+1===U){(_-=3)>-1&&ge.push(239,191,189);continue}ne=m;continue}if(m<56320){(_-=3)>-1&&ge.push(239,191,189),ne=m;continue}m=65536+(ne-55296<<10|m-56320)}else ne&&(_-=3)>-1&&ge.push(239,191,189);if(ne=null,m<128){if((_-=1)<0)break;ge.push(m)}else if(m<2048){if((_-=2)<0)break;ge.push(m>>6|192,63&m|128)}else if(m<65536){if((_-=3)<0)break;ge.push(m>>12|224,m>>6&63|128,63&m|128)}else{if(!(m<1114112))throw new Error("Invalid code point");if((_-=4)<0)break;ge.push(m>>18|240,m>>12&63|128,m>>6&63|128,63&m|128)}}return ge}function Re(N){return d.toByteArray(function Q(N){if((N=(N=N.split("=")[0]).trim().replace(ue,"")).length<2)return"";for(;N.length%4!=0;)N+="=";return N}(N))}function $e(N,_,m,U){let ne;for(ne=0;ne<U&&!(ne+m>=_.length||ne>=N.length);++ne)_[ne+m]=N[ne];return ne}function Fe(N,_){return N instanceof _||null!=N&&null!=N.constructor&&null!=N.constructor.name&&N.constructor.name===_.name}function _t(N){return N!=N}const We=function(){const N="0123456789abcdef",_=new Array(256);for(let m=0;m<16;++m){const U=16*m;for(let ne=0;ne<16;++ne)_[U+ne]=N[m]+N[ne]}return _}();function Le(N){return typeof BigInt>"u"?lt:N}function lt(){throw new Error("BigInt not supported")}},49609:(je,H,w)=>{var d=H;d.bignum=w(96867),d.define=w(16626).define,d.base=w(15066),d.constants=w(47740),d.decoders=w(91558),d.encoders=w(22714)},16626:(je,H,w)=>{var d=w(49609),E=w(71993);function z(x,O){this.name=x,this.body=O,this.decoders={},this.encoders={}}H.define=function(O,A){return new z(O,A)},z.prototype._createNamed=function(O){var A;try{A=Object(function(){var F=new Error("Cannot find module 'vm'");throw F.code="MODULE_NOT_FOUND",F}())("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch{A=function(F){this._initNamed(F)}}return E(A,O),A.prototype._initNamed=function(F){O.call(this,F)},new A(this)},z.prototype._getDecoder=function(O){return this.decoders.hasOwnProperty(O=O||"der")||(this.decoders[O]=this._createNamed(d.decoders[O])),this.decoders[O]},z.prototype.decode=function(O,A,P){return this._getDecoder(A).decode(O,P)},z.prototype._getEncoder=function(O){return this.encoders.hasOwnProperty(O=O||"der")||(this.encoders[O]=this._createNamed(d.encoders[O])),this.encoders[O]},z.prototype.encode=function(O,A,P){return this._getEncoder(A).encode(O,P)}},97290:(je,H,w)=>{var d=w(71993),E=w(15066).Reporter,k=w(83838).Buffer;function z(O,A){E.call(this,A),k.isBuffer(O)?(this.base=O,this.offset=0,this.length=O.length):this.error("Input not Buffer")}function x(O,A){if(Array.isArray(O))this.length=0,this.value=O.map(function(P){return P instanceof x||(P=new x(P,A)),this.length+=P.length,P},this);else if("number"==typeof O){if(!(0<=O&&O<=255))return A.error("non-byte EncoderBuffer value");this.value=O,this.length=1}else if("string"==typeof O)this.value=O,this.length=k.byteLength(O);else{if(!k.isBuffer(O))return A.error("Unsupported type: "+typeof O);this.value=O,this.length=O.length}}d(z,E),H.t=z,z.prototype.save=function(){return{offset:this.offset,reporter:E.prototype.save.call(this)}},z.prototype.restore=function(A){var P=new z(this.base);return P.offset=A.offset,P.length=this.offset,this.offset=A.offset,E.prototype.restore.call(this,A.reporter),P},z.prototype.isEmpty=function(){return this.offset===this.length},z.prototype.readUInt8=function(A){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(A||"DecoderBuffer overrun")},z.prototype.skip=function(A,P){if(!(this.offset+A<=this.length))return this.error(P||"DecoderBuffer overrun");var F=new z(this.base);return F._reporterState=this._reporterState,F.offset=this.offset,F.length=this.offset+A,this.offset+=A,F},z.prototype.raw=function(A){return this.base.slice(A?A.offset:this.offset,this.length)},H.d=x,x.prototype.join=function(A,P){return A||(A=new k(this.length)),P||(P=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(F){F.join(A,P),P+=F.length}):("number"==typeof this.value?A[P]=this.value:"string"==typeof this.value?A.write(this.value,P):k.isBuffer(this.value)&&this.value.copy(A,P),P+=this.length)),A}},15066:(je,H,w)=>{var d=H;d.Reporter=w(85697).a,d.DecoderBuffer=w(97290).t,d.EncoderBuffer=w(97290).d,d.Node=w(34320)},34320:(je,H,w)=>{var d=w(15066).Reporter,E=w(15066).EncoderBuffer,k=w(15066).DecoderBuffer,z=w(39210),x=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],O=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(x);function P(L,D){var X={};this._baseState=X,X.enc=L,X.parent=D||null,X.children=null,X.tag=null,X.args=null,X.reverseArgs=null,X.choice=null,X.optional=!1,X.any=!1,X.obj=!1,X.use=null,X.useDecoder=null,X.key=null,X.default=null,X.explicit=null,X.implicit=null,X.contains=null,X.parent||(X.children=[],this._wrap())}je.exports=P;var F=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];P.prototype.clone=function(){var D=this._baseState,X={};F.forEach(function(G){X[G]=D[G]});var j=new this.constructor(X.parent);return j._baseState=X,j},P.prototype._wrap=function(){var D=this._baseState;O.forEach(function(X){this[X]=function(){var G=new this.constructor(this);return D.children.push(G),G[X].apply(G,arguments)}},this)},P.prototype._init=function(D){var X=this._baseState;z(null===X.parent),D.call(this),X.children=X.children.filter(function(j){return j._baseState.parent===this},this),z.equal(X.children.length,1,"Root node can have only one child")},P.prototype._useArgs=function(D){var X=this._baseState,j=D.filter(function(G){return G instanceof this.constructor},this);D=D.filter(function(G){return!(G instanceof this.constructor)},this),0!==j.length&&(z(null===X.children),X.children=j,j.forEach(function(G){G._baseState.parent=this},this)),0!==D.length&&(z(null===X.args),X.args=D,X.reverseArgs=D.map(function(G){if("object"!=typeof G||G.constructor!==Object)return G;var re={};return Object.keys(G).forEach(function(te){te==(0|te)&&(te|=0),re[G[te]]=te}),re}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(L){P.prototype[L]=function(){throw new Error(L+" not implemented for encoding: "+this._baseState.enc)}}),x.forEach(function(L){P.prototype[L]=function(){var X=this._baseState,j=Array.prototype.slice.call(arguments);return z(null===X.tag),X.tag=L,this._useArgs(j),this}}),P.prototype.use=function(D){z(D);var X=this._baseState;return z(null===X.use),X.use=D,this},P.prototype.optional=function(){return this._baseState.optional=!0,this},P.prototype.def=function(D){var X=this._baseState;return z(null===X.default),X.default=D,X.optional=!0,this},P.prototype.explicit=function(D){var X=this._baseState;return z(null===X.explicit&&null===X.implicit),X.explicit=D,this},P.prototype.implicit=function(D){var X=this._baseState;return z(null===X.explicit&&null===X.implicit),X.implicit=D,this},P.prototype.obj=function(){var D=this._baseState,X=Array.prototype.slice.call(arguments);return D.obj=!0,0!==X.length&&this._useArgs(X),this},P.prototype.key=function(D){var X=this._baseState;return z(null===X.key),X.key=D,this},P.prototype.any=function(){return this._baseState.any=!0,this},P.prototype.choice=function(D){var X=this._baseState;return z(null===X.choice),X.choice=D,this._useArgs(Object.keys(D).map(function(j){return D[j]})),this},P.prototype.contains=function(D){var X=this._baseState;return z(null===X.use),X.contains=D,this},P.prototype._decode=function(D,X){var j=this._baseState;if(null===j.parent)return D.wrapResult(j.children[0]._decode(D,X));var ie,G=j.default,re=!0,te=null;if(null!==j.key&&(te=D.enterKey(j.key)),j.optional){var J=null;if(null!==j.explicit?J=j.explicit:null!==j.implicit?J=j.implicit:null!==j.tag&&(J=j.tag),null!==J||j.any){if(re=this._peekTag(D,J,j.any),D.isError(re))return re}else{var Z=D.save();try{null===j.choice?this._decodeGeneric(j.tag,D,X):this._decodeChoice(D,X),re=!0}catch{re=!1}D.restore(Z)}}if(j.obj&&re&&(ie=D.enterObject()),re){if(null!==j.explicit){var ae=this._decodeTag(D,j.explicit);if(D.isError(ae))return ae;D=ae}var se=D.offset;if(null===j.use&&null===j.choice){j.any&&(Z=D.save());var de=this._decodeTag(D,null!==j.implicit?j.implicit:j.tag,j.any);if(D.isError(de))return de;j.any?G=D.raw(Z):D=de}if(X&&X.track&&null!==j.tag&&X.track(D.path(),se,D.length,"tagged"),X&&X.track&&null!==j.tag&&X.track(D.path(),D.offset,D.length,"content"),j.any||(G=null===j.choice?this._decodeGeneric(j.tag,D,X):this._decodeChoice(D,X)),D.isError(G))return G;if(!j.any&&null===j.choice&&null!==j.children&&j.children.forEach(function(xe){xe._decode(D,X)}),j.contains&&("octstr"===j.tag||"bitstr"===j.tag)){var le=new k(G);G=this._getUse(j.contains,D._reporterState.obj)._decode(le,X)}}return j.obj&&re&&(G=D.leaveObject(ie)),null===j.key||null===G&&!0!==re?null!==te&&D.exitKey(te):D.leaveKey(te,j.key,G),G},P.prototype._decodeGeneric=function(D,X,j){var G=this._baseState;return"seq"===D||"set"===D?null:"seqof"===D||"setof"===D?this._decodeList(X,D,G.args[0],j):/str$/.test(D)?this._decodeStr(X,D,j):"objid"===D&&G.args?this._decodeObjid(X,G.args[0],G.args[1],j):"objid"===D?this._decodeObjid(X,null,null,j):"gentime"===D||"utctime"===D?this._decodeTime(X,D,j):"null_"===D?this._decodeNull(X,j):"bool"===D?this._decodeBool(X,j):"objDesc"===D?this._decodeStr(X,D,j):"int"===D||"enum"===D?this._decodeInt(X,G.args&&G.args[0],j):null!==G.use?this._getUse(G.use,X._reporterState.obj)._decode(X,j):X.error("unknown tag: "+D)},P.prototype._getUse=function(D,X){var j=this._baseState;return j.useDecoder=this._use(D,X),z(null===j.useDecoder._baseState.parent),j.useDecoder=j.useDecoder._baseState.children[0],j.implicit!==j.useDecoder._baseState.implicit&&(j.useDecoder=j.useDecoder.clone(),j.useDecoder._baseState.implicit=j.implicit),j.useDecoder},P.prototype._decodeChoice=function(D,X){var j=this._baseState,G=null,re=!1;return Object.keys(j.choice).some(function(te){var J=D.save(),Z=j.choice[te];try{var ie=Z._decode(D,X);if(D.isError(ie))return!1;G={type:te,value:ie},re=!0}catch{return D.restore(J),!1}return!0},this),re?G:D.error("Choice not matched")},P.prototype._createEncoderBuffer=function(D){return new E(D,this.reporter)},P.prototype._encode=function(D,X,j){var G=this._baseState;if(null===G.default||G.default!==D){var re=this._encodeValue(D,X,j);if(void 0!==re&&!this._skipDefault(re,X,j))return re}},P.prototype._encodeValue=function(D,X,j){var G=this._baseState;if(null===G.parent)return G.children[0]._encode(D,X||new d);var Z=null;if(this.reporter=X,G.optional&&void 0===D){if(null===G.default)return;D=G.default}var re=null,te=!1;if(G.any)Z=this._createEncoderBuffer(D);else if(G.choice)Z=this._encodeChoice(D,X);else if(G.contains)re=this._getUse(G.contains,j)._encode(D,X),te=!0;else if(G.children)re=G.children.map(function(se){if("null_"===se._baseState.tag)return se._encode(null,X,D);if(null===se._baseState.key)return X.error("Child should have a key");var de=X.enterKey(se._baseState.key);if("object"!=typeof D)return X.error("Child expected, but input is not object");var le=se._encode(D[se._baseState.key],X,D);return X.leaveKey(de),le},this).filter(function(se){return se}),re=this._createEncoderBuffer(re);else if("seqof"===G.tag||"setof"===G.tag){if(!G.args||1!==G.args.length)return X.error("Too many args for : "+G.tag);if(!Array.isArray(D))return X.error("seqof/setof, but data is not Array");var J=this.clone();J._baseState.implicit=null,re=this._createEncoderBuffer(D.map(function(se){return this._getUse(this._baseState.args[0],D)._encode(se,X)},J))}else null!==G.use?Z=this._getUse(G.use,j)._encode(D,X):(re=this._encodePrimitive(G.tag,D),te=!0);if(!G.any&&null===G.choice){var ie=null!==G.implicit?G.implicit:G.tag,ae=null===G.implicit?"universal":"context";null===ie?null===G.use&&X.error("Tag could be omitted only for .use()"):null===G.use&&(Z=this._encodeComposite(ie,te,ae,re))}return null!==G.explicit&&(Z=this._encodeComposite(G.explicit,!1,"context",Z)),Z},P.prototype._encodeChoice=function(D,X){var j=this._baseState,G=j.choice[D.type];return G||z(!1,D.type+" not found in "+JSON.stringify(Object.keys(j.choice))),G._encode(D.value,X)},P.prototype._encodePrimitive=function(D,X){var j=this._baseState;if(/str$/.test(D))return this._encodeStr(X,D);if("objid"===D&&j.args)return this._encodeObjid(X,j.reverseArgs[0],j.args[1]);if("objid"===D)return this._encodeObjid(X,null,null);if("gentime"===D||"utctime"===D)return this._encodeTime(X,D);if("null_"===D)return this._encodeNull();if("int"===D||"enum"===D)return this._encodeInt(X,j.args&&j.reverseArgs[0]);if("bool"===D)return this._encodeBool(X);if("objDesc"===D)return this._encodeStr(X,D);throw new Error("Unsupported tag: "+D)},P.prototype._isNumstr=function(D){return/^[0-9 ]*$/.test(D)},P.prototype._isPrintstr=function(D){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(D)}},85697:(je,H,w)=>{var d=w(71993);function E(z){this._reporterState={obj:null,path:[],options:z||{},errors:[]}}function k(z,x){this.path=z,this.rethrow(x)}H.a=E,E.prototype.isError=function(x){return x instanceof k},E.prototype.save=function(){var x=this._reporterState;return{obj:x.obj,pathLen:x.path.length}},E.prototype.restore=function(x){var O=this._reporterState;O.obj=x.obj,O.path=O.path.slice(0,x.pathLen)},E.prototype.enterKey=function(x){return this._reporterState.path.push(x)},E.prototype.exitKey=function(x){var O=this._reporterState;O.path=O.path.slice(0,x-1)},E.prototype.leaveKey=function(x,O,A){var P=this._reporterState;this.exitKey(x),null!==P.obj&&(P.obj[O]=A)},E.prototype.path=function(){return this._reporterState.path.join("/")},E.prototype.enterObject=function(){var x=this._reporterState,O=x.obj;return x.obj={},O},E.prototype.leaveObject=function(x){var O=this._reporterState,A=O.obj;return O.obj=x,A},E.prototype.error=function(x){var O,A=this._reporterState,P=x instanceof k;if(O=P?x:new k(A.path.map(function(F){return"["+JSON.stringify(F)+"]"}).join(""),x.message||x,x.stack),!A.options.partial)throw O;return P||A.errors.push(O),O},E.prototype.wrapResult=function(x){var O=this._reporterState;return O.options.partial?{result:this.isError(x)?null:x,errors:O.errors}:x},d(k,Error),k.prototype.rethrow=function(x){if(this.message=x+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,k),!this.stack)try{throw new Error(this.message)}catch(O){this.stack=O.stack}return this}},36283:(je,H,w)=>{var d=w(47740);H.tagClass={0:"universal",1:"application",2:"context",3:"private"},H.tagClassByName=d._reverse(H.tagClass),H.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},H.tagByName=d._reverse(H.tag)},47740:(je,H,w)=>{var d=H;d._reverse=function(k){var z={};return Object.keys(k).forEach(function(x){(0|x)==x&&(x|=0),z[k[x]]=x}),z},d.der=w(36283)},55941:(je,H,w)=>{var d=w(71993),E=w(49609),k=E.base,z=E.bignum,x=E.constants.der;function O(L){this.enc="der",this.name=L.name,this.entity=L,this.tree=new A,this.tree._init(L.body)}function A(L){k.Node.call(this,"der",L)}function P(L,D){var X=L.readUInt8(D);if(L.isError(X))return X;var j=x.tagClass[X>>6],G=!(32&X);if(31&~X)X&=31;else{var re=X;for(X=0;!(128&~re);){if(re=L.readUInt8(D),L.isError(re))return re;X<<=7,X|=127&re}}return{cls:j,primitive:G,tag:X,tagStr:x.tag[X]}}function F(L,D,X){var j=L.readUInt8(X);if(L.isError(j))return j;if(!D&&128===j)return null;if(!(128&j))return j;var G=127&j;if(G>4)return L.error("length octect is too long");j=0;for(var re=0;re<G;re++){j<<=8;var te=L.readUInt8(X);if(L.isError(te))return te;j|=te}return j}je.exports=O,O.prototype.decode=function(D,X){return D instanceof k.DecoderBuffer||(D=new k.DecoderBuffer(D,X)),this.tree._decode(D,X)},d(A,k.Node),A.prototype._peekTag=function(D,X,j){if(D.isEmpty())return!1;var G=D.save(),re=P(D,'Failed to peek tag: "'+X+'"');return D.isError(re)?re:(D.restore(G),re.tag===X||re.tagStr===X||re.tagStr+"of"===X||j)},A.prototype._decodeTag=function(D,X,j){var G=P(D,'Failed to decode tag of "'+X+'"');if(D.isError(G))return G;var re=F(D,G.primitive,'Failed to get length of "'+X+'"');if(D.isError(re))return re;if(!j&&G.tag!==X&&G.tagStr!==X&&G.tagStr+"of"!==X)return D.error('Failed to match tag: "'+X+'"');if(G.primitive||null!==re)return D.skip(re,'Failed to match body of: "'+X+'"');var te=D.save(),J=this._skipUntilEnd(D,'Failed to skip indefinite length body: "'+this.tag+'"');return D.isError(J)?J:(re=D.offset-te.offset,D.restore(te),D.skip(re,'Failed to match body of: "'+X+'"'))},A.prototype._skipUntilEnd=function(D,X){for(;;){var j=P(D,X);if(D.isError(j))return j;var re,G=F(D,j.primitive,X);if(D.isError(G))return G;if(re=j.primitive||null!==G?D.skip(G):this._skipUntilEnd(D,X),D.isError(re))return re;if("end"===j.tagStr)break}},A.prototype._decodeList=function(D,X,j,G){for(var re=[];!D.isEmpty();){var te=this._peekTag(D,"end");if(D.isError(te))return te;var J=j.decode(D,"der",G);if(D.isError(J)&&te)break;re.push(J)}return re},A.prototype._decodeStr=function(D,X){if("bitstr"===X){var j=D.readUInt8();return D.isError(j)?j:{unused:j,data:D.raw()}}if("bmpstr"===X){var G=D.raw();if(G.length%2==1)return D.error("Decoding of string type: bmpstr length mismatch");for(var re="",te=0;te<G.length/2;te++)re+=String.fromCharCode(G.readUInt16BE(2*te));return re}if("numstr"===X){var J=D.raw().toString("ascii");return this._isNumstr(J)?J:D.error("Decoding of string type: numstr unsupported characters")}if("octstr"===X)return D.raw();if("objDesc"===X)return D.raw();if("printstr"===X){var Z=D.raw().toString("ascii");return this._isPrintstr(Z)?Z:D.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(X)?D.raw().toString():D.error("Decoding of string type: "+X+" unsupported")},A.prototype._decodeObjid=function(D,X,j){for(var G,re=[],te=0;!D.isEmpty();){var J=D.readUInt8();te<<=7,te|=127&J,128&J||(re.push(te),te=0)}if(128&J&&re.push(te),G=j?re:[re[0]/40|0,re[0]%40].concat(re.slice(1)),X){var ae=X[G.join(" ")];void 0===ae&&(ae=X[G.join(".")]),void 0!==ae&&(G=ae)}return G},A.prototype._decodeTime=function(D,X){var j=D.raw().toString();if("gentime"===X)var G=0|j.slice(0,4),re=0|j.slice(4,6),te=0|j.slice(6,8),J=0|j.slice(8,10),Z=0|j.slice(10,12),ie=0|j.slice(12,14);else{if("utctime"!==X)return D.error("Decoding "+X+" time is not supported yet");G=0|j.slice(0,2),re=0|j.slice(2,4),te=0|j.slice(4,6),J=0|j.slice(6,8),Z=0|j.slice(8,10),ie=0|j.slice(10,12),G=G<70?2e3+G:1900+G}return Date.UTC(G,re-1,te,J,Z,ie,0)},A.prototype._decodeNull=function(D){return null},A.prototype._decodeBool=function(D){var X=D.readUInt8();return D.isError(X)?X:0!==X},A.prototype._decodeInt=function(D,X){var j=D.raw(),G=new z(j);return X&&(G=X[G.toString(10)]||G),G},A.prototype._use=function(D,X){return"function"==typeof D&&(D=D(X)),D._getDecoder("der").tree}},91558:(je,H,w)=>{var d=H;d.der=w(55941),d.pem=w(59316)},59316:(je,H,w)=>{var d=w(71993),E=w(83838).Buffer,k=w(55941);function z(x){k.call(this,x),this.enc="pem"}d(z,k),je.exports=z,z.prototype.decode=function(O,A){for(var P=O.toString().split(/[\r\n]+/g),F=A.label.toUpperCase(),L=/^-----(BEGIN|END) ([^-]+)-----$/,D=-1,X=-1,j=0;j<P.length;j++){var G=P[j].match(L);if(null!==G&&G[2]===F){if(-1!==D){if("END"!==G[1])break;X=j;break}if("BEGIN"!==G[1])break;D=j}}if(-1===D||-1===X)throw new Error("PEM section not found for: "+F);var re=P.slice(D+1,X).join("");re.replace(/[^a-z0-9\+\/=]+/gi,"");var te=new E(re,"base64");return k.prototype.decode.call(this,te,A)}},72193:(je,H,w)=>{var d=w(71993),E=w(83838).Buffer,k=w(49609),z=k.base,x=k.constants.der;function O(L){this.enc="der",this.name=L.name,this.entity=L,this.tree=new A,this.tree._init(L.body)}function A(L){z.Node.call(this,"der",L)}function P(L){return L<10?"0"+L:L}je.exports=O,O.prototype.encode=function(D,X){return this.tree._encode(D,X).join()},d(A,z.Node),A.prototype._encodeComposite=function(D,X,j,G){var Z,re=function F(L,D,X,j){var G;if("seqof"===L?L="seq":"setof"===L&&(L="set"),x.tagByName.hasOwnProperty(L))G=x.tagByName[L];else{if("number"!=typeof L||(0|L)!==L)return j.error("Unknown tag: "+L);G=L}return G>=31?j.error("Multi-octet tag encoding unsupported"):(D||(G|=32),G|=x.tagClassByName[X||"universal"]<<6)}(D,X,j,this.reporter);if(G.length<128)return(Z=new E(2))[0]=re,Z[1]=G.length,this._createEncoderBuffer([Z,G]);for(var te=1,J=G.length;J>=256;J>>=8)te++;(Z=new E(2+te))[0]=re,Z[1]=128|te,J=1+te;for(var ie=G.length;ie>0;J--,ie>>=8)Z[J]=255&ie;return this._createEncoderBuffer([Z,G])},A.prototype._encodeStr=function(D,X){if("bitstr"===X)return this._createEncoderBuffer([0|D.unused,D.data]);if("bmpstr"===X){for(var j=new E(2*D.length),G=0;G<D.length;G++)j.writeUInt16BE(D.charCodeAt(G),2*G);return this._createEncoderBuffer(j)}return"numstr"===X?this._isNumstr(D)?this._createEncoderBuffer(D):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===X?this._isPrintstr(D)?this._createEncoderBuffer(D):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(X)||"objDesc"===X?this._createEncoderBuffer(D):this.reporter.error("Encoding of string type: "+X+" unsupported")},A.prototype._encodeObjid=function(D,X,j){if("string"==typeof D){if(!X)return this.reporter.error("string objid given, but no values map found");if(!X.hasOwnProperty(D))return this.reporter.error("objid not found in values map");D=X[D].split(/[\s\.]+/g);for(var G=0;G<D.length;G++)D[G]|=0}else if(Array.isArray(D))for(D=D.slice(),G=0;G<D.length;G++)D[G]|=0;if(!Array.isArray(D))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(D));if(!j){if(D[1]>=40)return this.reporter.error("Second objid identifier OOB");D.splice(0,2,40*D[0]+D[1])}var re=0;for(G=0;G<D.length;G++){var te=D[G];for(re++;te>=128;te>>=7)re++}var J=new E(re),Z=J.length-1;for(G=D.length-1;G>=0;G--)for(J[Z--]=127&(te=D[G]);(te>>=7)>0;)J[Z--]=128|127&te;return this._createEncoderBuffer(J)},A.prototype._encodeTime=function(D,X){var j,G=new Date(D);return"gentime"===X?j=[P(G.getFullYear()),P(G.getUTCMonth()+1),P(G.getUTCDate()),P(G.getUTCHours()),P(G.getUTCMinutes()),P(G.getUTCSeconds()),"Z"].join(""):"utctime"===X?j=[P(G.getFullYear()%100),P(G.getUTCMonth()+1),P(G.getUTCDate()),P(G.getUTCHours()),P(G.getUTCMinutes()),P(G.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+X+" time is not supported yet"),this._encodeStr(j,"octstr")},A.prototype._encodeNull=function(){return this._createEncoderBuffer("")},A.prototype._encodeInt=function(D,X){if("string"==typeof D){if(!X)return this.reporter.error("String int or enum given, but no values map");if(!X.hasOwnProperty(D))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(D));D=X[D]}if("number"!=typeof D&&!E.isBuffer(D)){var j=D.toArray();!D.sign&&128&j[0]&&j.unshift(0),D=new E(j)}if(E.isBuffer(D)){var G=D.length;0===D.length&&G++;var te=new E(G);return D.copy(te),0===D.length&&(te[0]=0),this._createEncoderBuffer(te)}if(D<128)return this._createEncoderBuffer(D);if(D<256)return this._createEncoderBuffer([0,D]);G=1;for(var re=D;re>=256;re>>=8)G++;for(re=(te=new Array(G)).length-1;re>=0;re--)te[re]=255&D,D>>=8;return 128&te[0]&&te.unshift(0),this._createEncoderBuffer(new E(te))},A.prototype._encodeBool=function(D){return this._createEncoderBuffer(D?255:0)},A.prototype._use=function(D,X){return"function"==typeof D&&(D=D(X)),D._getEncoder("der").tree},A.prototype._skipDefault=function(D,X,j){var re,G=this._baseState;if(null===G.default)return!1;var te=D.join();if(void 0===G.defaultBuffer&&(G.defaultBuffer=this._encodeValue(G.default,X,j).join()),te.length!==G.defaultBuffer.length)return!1;for(re=0;re<te.length;re++)if(te[re]!==G.defaultBuffer[re])return!1;return!0}},22714:(je,H,w)=>{var d=H;d.der=w(72193),d.pem=w(24816)},24816:(je,H,w)=>{var d=w(71993),E=w(72193);function k(z){E.call(this,z),this.enc="pem"}d(k,E),je.exports=k,k.prototype.encode=function(x,O){for(var P=E.prototype.encode.call(this,x).toString("base64"),F=["-----BEGIN "+O.label+"-----"],L=0;L<P.length;L+=64)F.push(P.slice(L,L+64));return F.push("-----END "+O.label+"-----"),F.join("\n")}},96867:function(je,H,w){!function(d,E){"use strict";function k(C,a){if(!C)throw new Error(a||"Assertion failed")}function z(C,a){C.super_=a;var f=function(){};f.prototype=a.prototype,C.prototype=new f,C.prototype.constructor=C}function x(C,a,f){if(x.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(f=a,a=10),this._init(C||0,a||10,f||"be"))}var O;"object"==typeof d?d.exports=x:E.BN=x,x.BN=x,x.wordSize=26;try{O=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:w(78982).Buffer}catch{}function A(C,a){var f=C.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function P(C,a,f){var y=A(C,f);return f-1>=a&&(y|=A(C,f-1)<<4),y}function F(C,a,f,y){for(var g=0,M=Math.min(C.length,f),T=a;T<M;T++){var B=C.charCodeAt(T)-48;g*=y,g+=B>=49?B-49+10:B>=17?B-17+10:B}return g}x.isBN=function(a){return a instanceof x||null!==a&&"object"==typeof a&&a.constructor.wordSize===x.wordSize&&Array.isArray(a.words)},x.max=function(a,f){return a.cmp(f)>0?a:f},x.min=function(a,f){return a.cmp(f)<0?a:f},x.prototype._init=function(a,f,y){if("number"==typeof a)return this._initNumber(a,f,y);if("object"==typeof a)return this._initArray(a,f,y);"hex"===f&&(f=16),k(f===(0|f)&&f>=2&&f<=36);var g=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(g++,this.negative=1),g<a.length&&(16===f?this._parseHex(a,g,y):(this._parseBase(a,f,g),"le"===y&&this._initArray(this.toArray(),f,y)))},x.prototype._initNumber=function(a,f,y){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(k(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),f,y)},x.prototype._initArray=function(a,f,y){if(k("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var M,T,B=0;if("be"===y)for(g=a.length-1,M=0;g>=0;g-=3)this.words[M]|=(T=a[g]|a[g-1]<<8|a[g-2]<<16)<<B&67108863,this.words[M+1]=T>>>26-B&67108863,(B+=24)>=26&&(B-=26,M++);else if("le"===y)for(g=0,M=0;g<a.length;g+=3)this.words[M]|=(T=a[g]|a[g+1]<<8|a[g+2]<<16)<<B&67108863,this.words[M+1]=T>>>26-B&67108863,(B+=24)>=26&&(B-=26,M++);return this.strip()},x.prototype._parseHex=function(a,f,y){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var B,M=0,T=0;if("be"===y)for(g=a.length-1;g>=f;g-=2)B=P(a,f,g)<<M,this.words[T]|=67108863&B,M>=18?(M-=18,this.words[T+=1]|=B>>>26):M+=8;else for(g=(a.length-f)%2==0?f+1:f;g<a.length;g+=2)B=P(a,f,g)<<M,this.words[T]|=67108863&B,M>=18?(M-=18,this.words[T+=1]|=B>>>26):M+=8;this.strip()},x.prototype._parseBase=function(a,f,y){this.words=[0],this.length=1;for(var g=0,M=1;M<=67108863;M*=f)g++;g--,M=M/f|0;for(var T=a.length-y,B=T%g,S=Math.min(T,T-B)+y,s=0,v=y;v<S;v+=g)s=F(a,v,v+g,f),this.imuln(M),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==B){var W=1;for(s=F(a,v,a.length,f),v=0;v<B;v++)W*=f;this.imuln(W),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},x.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},x.prototype.clone=function(){var a=new x(null);return this.copy(a),a},x.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},x.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},x.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var L=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function G(C,a,f){f.negative=a.negative^C.negative;var y=C.length+a.length|0;f.length=y,y=y-1|0;var g=0|C.words[0],M=0|a.words[0],T=g*M,S=T/67108864|0;f.words[0]=67108863&T;for(var s=1;s<y;s++){for(var v=S>>>26,W=67108863&S,K=Math.min(s,a.length-1),ee=Math.max(0,s-C.length+1);ee<=K;ee++)v+=(T=(g=0|C.words[s-ee|0])*(M=0|a.words[ee])+W)/67108864|0,W=67108863&T;f.words[s]=0|W,S=0|v}return 0!==S?f.words[s]=0|S:f.length--,f.strip()}x.prototype.toString=function(a,f){var y;if(f=0|f||1,16===(a=a||10)||"hex"===a){y="";for(var g=0,M=0,T=0;T<this.length;T++){var B=this.words[T],S=(16777215&(B<<g|M)).toString(16);y=0!=(M=B>>>24-g&16777215)||T!==this.length-1?L[6-S.length]+S+y:S+y,(g+=2)>=26&&(g-=26,T--)}for(0!==M&&(y=M.toString(16)+y);y.length%f!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(a===(0|a)&&a>=2&&a<=36){var s=D[a],v=X[a];y="";var W=this.clone();for(W.negative=0;!W.isZero();){var K=W.modn(v).toString(a);y=(W=W.idivn(v)).isZero()?K+y:L[s-K.length]+K+y}for(this.isZero()&&(y="0"+y);y.length%f!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}k(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&k(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},x.prototype.toJSON=function(){return this.toString(16)},x.prototype.toBuffer=function(a,f){return k(typeof O<"u"),this.toArrayLike(O,a,f)},x.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},x.prototype.toArrayLike=function(a,f,y){var g=this.byteLength(),M=y||Math.max(1,g);k(g<=M,"byte array longer than desired length"),k(M>0,"Requested array length <= 0"),this.strip();var S,s,T="le"===f,B=new a(M),v=this.clone();if(T){for(s=0;!v.isZero();s++)S=v.andln(255),v.iushrn(8),B[s]=S;for(;s<M;s++)B[s]=0}else{for(s=0;s<M-g;s++)B[s]=0;for(s=0;!v.isZero();s++)S=v.andln(255),v.iushrn(8),B[M-s-1]=S}return B},x.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var f=a,y=0;return f>=4096&&(y+=13,f>>>=13),f>=64&&(y+=7,f>>>=7),f>=8&&(y+=4,f>>>=4),f>=2&&(y+=2,f>>>=2),y+f},x.prototype._zeroBits=function(a){if(0===a)return 26;var f=a,y=0;return 8191&f||(y+=13,f>>>=13),127&f||(y+=7,f>>>=7),15&f||(y+=4,f>>>=4),3&f||(y+=2,f>>>=2),1&f||y++,y},x.prototype.bitLength=function(){var f=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+f},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var y=this._zeroBits(this.words[f]);if(a+=y,26!==y)break}return a},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},x.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},x.prototype.ior=function(a){return k(!(this.negative|a.negative)),this.iuor(a)},x.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},x.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},x.prototype.iuand=function(a){var f;f=this.length>a.length?a:this;for(var y=0;y<f.length;y++)this.words[y]=this.words[y]&a.words[y];return this.length=f.length,this.strip()},x.prototype.iand=function(a){return k(!(this.negative|a.negative)),this.iuand(a)},x.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},x.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},x.prototype.iuxor=function(a){var f,y;this.length>a.length?(f=this,y=a):(f=a,y=this);for(var g=0;g<y.length;g++)this.words[g]=f.words[g]^y.words[g];if(this!==f)for(;g<f.length;g++)this.words[g]=f.words[g];return this.length=f.length,this.strip()},x.prototype.ixor=function(a){return k(!(this.negative|a.negative)),this.iuxor(a)},x.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},x.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},x.prototype.inotn=function(a){k("number"==typeof a&&a>=0);var f=0|Math.ceil(a/26),y=a%26;this._expand(f),y>0&&f--;for(var g=0;g<f;g++)this.words[g]=67108863&~this.words[g];return y>0&&(this.words[g]=~this.words[g]&67108863>>26-y),this.strip()},x.prototype.notn=function(a){return this.clone().inotn(a)},x.prototype.setn=function(a,f){k("number"==typeof a&&a>=0);var y=a/26|0,g=a%26;return this._expand(y+1),this.words[y]=f?this.words[y]|1<<g:this.words[y]&~(1<<g),this.strip()},x.prototype.iadd=function(a){var f,y,g;if(0!==this.negative&&0===a.negative)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();this.length>a.length?(y=this,g=a):(y=a,g=this);for(var M=0,T=0;T<g.length;T++)this.words[T]=67108863&(f=(0|y.words[T])+(0|g.words[T])+M),M=f>>>26;for(;0!==M&&T<y.length;T++)this.words[T]=67108863&(f=(0|y.words[T])+M),M=f>>>26;if(this.length=y.length,0!==M)this.words[this.length]=M,this.length++;else if(y!==this)for(;T<y.length;T++)this.words[T]=y.words[T];return this},x.prototype.add=function(a){var f;return 0!==a.negative&&0===this.negative?(a.negative=0,f=this.sub(a),a.negative^=1,f):0===a.negative&&0!==this.negative?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},x.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var g,M,y=this.cmp(a);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(g=this,M=a):(g=a,M=this);for(var T=0,B=0;B<M.length;B++)T=(f=(0|g.words[B])-(0|M.words[B])+T)>>26,this.words[B]=67108863&f;for(;0!==T&&B<g.length;B++)T=(f=(0|g.words[B])+T)>>26,this.words[B]=67108863&f;if(0===T&&B<g.length&&g!==this)for(;B<g.length;B++)this.words[B]=g.words[B];return this.length=Math.max(this.length,B),g!==this&&(this.negative=1),this.strip()},x.prototype.sub=function(a){return this.clone().isub(a)};var re=function(a,f,y){var S,s,v,g=a.words,M=f.words,T=y.words,B=0,W=0|g[0],K=8191&W,ee=W>>>13,ce=0|g[1],_e=8191&ce,Oe=ce>>>13,Ve=0|g[2],Se=8191&Ve,we=Ve>>>13,Ue=0|g[3],ye=8191&Ue,De=Ue>>>13,pe=0|g[4],ue=8191&pe,Q=pe>>>13,oe=0|g[5],fe=8191&oe,Ee=oe>>>13,Re=0|g[6],$e=8191&Re,Fe=Re>>>13,_t=0|g[7],We=8191&_t,Le=_t>>>13,lt=0|g[8],N=8191&lt,_=lt>>>13,m=0|g[9],U=8191&m,ne=m>>>13,ge=0|M[0],Ae=8191&ge,tt=ge>>>13,Bt=0|M[1],gt=8191&Bt,It=Bt>>>13,Zt=0|M[2],mn=8191&Zt,dn=Zt>>>13,ar=0|M[3],An=8191&ar,en=ar>>>13,Qt=0|M[4],Et=8191&Qt,ft=Qt>>>13,Ht=0|M[5],qt=8191&Ht,hn=Ht>>>13,hr=0|M[6],vt=8191&hr,St=hr>>>13,Mt=0|M[7],Ye=8191&Mt,nt=Mt>>>13,Wt=0|M[8],Nt=8191&Wt,un=Wt>>>13,Wn=0|M[9],En=8191&Wn,kn=Wn>>>13;y.negative=a.negative^f.negative,y.length=19;var Or=(B+(S=Math.imul(K,Ae))|0)+((8191&(s=(s=Math.imul(K,tt))+Math.imul(ee,Ae)|0))<<13)|0;B=((v=Math.imul(ee,tt))+(s>>>13)|0)+(Or>>>26)|0,Or&=67108863,S=Math.imul(_e,Ae),s=(s=Math.imul(_e,tt))+Math.imul(Oe,Ae)|0,v=Math.imul(Oe,tt);var Jn=(B+(S=S+Math.imul(K,gt)|0)|0)+((8191&(s=(s=s+Math.imul(K,It)|0)+Math.imul(ee,gt)|0))<<13)|0;B=((v=v+Math.imul(ee,It)|0)+(s>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,S=Math.imul(Se,Ae),s=(s=Math.imul(Se,tt))+Math.imul(we,Ae)|0,v=Math.imul(we,tt),S=S+Math.imul(_e,gt)|0,s=(s=s+Math.imul(_e,It)|0)+Math.imul(Oe,gt)|0,v=v+Math.imul(Oe,It)|0;var Fn=(B+(S=S+Math.imul(K,mn)|0)|0)+((8191&(s=(s=s+Math.imul(K,dn)|0)+Math.imul(ee,mn)|0))<<13)|0;B=((v=v+Math.imul(ee,dn)|0)+(s>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,S=Math.imul(ye,Ae),s=(s=Math.imul(ye,tt))+Math.imul(De,Ae)|0,v=Math.imul(De,tt),S=S+Math.imul(Se,gt)|0,s=(s=s+Math.imul(Se,It)|0)+Math.imul(we,gt)|0,v=v+Math.imul(we,It)|0,S=S+Math.imul(_e,mn)|0,s=(s=s+Math.imul(_e,dn)|0)+Math.imul(Oe,mn)|0,v=v+Math.imul(Oe,dn)|0;var Lt=(B+(S=S+Math.imul(K,An)|0)|0)+((8191&(s=(s=s+Math.imul(K,en)|0)+Math.imul(ee,An)|0))<<13)|0;B=((v=v+Math.imul(ee,en)|0)+(s>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,S=Math.imul(ue,Ae),s=(s=Math.imul(ue,tt))+Math.imul(Q,Ae)|0,v=Math.imul(Q,tt),S=S+Math.imul(ye,gt)|0,s=(s=s+Math.imul(ye,It)|0)+Math.imul(De,gt)|0,v=v+Math.imul(De,It)|0,S=S+Math.imul(Se,mn)|0,s=(s=s+Math.imul(Se,dn)|0)+Math.imul(we,mn)|0,v=v+Math.imul(we,dn)|0,S=S+Math.imul(_e,An)|0,s=(s=s+Math.imul(_e,en)|0)+Math.imul(Oe,An)|0,v=v+Math.imul(Oe,en)|0;var et=(B+(S=S+Math.imul(K,Et)|0)|0)+((8191&(s=(s=s+Math.imul(K,ft)|0)+Math.imul(ee,Et)|0))<<13)|0;B=((v=v+Math.imul(ee,ft)|0)+(s>>>13)|0)+(et>>>26)|0,et&=67108863,S=Math.imul(fe,Ae),s=(s=Math.imul(fe,tt))+Math.imul(Ee,Ae)|0,v=Math.imul(Ee,tt),S=S+Math.imul(ue,gt)|0,s=(s=s+Math.imul(ue,It)|0)+Math.imul(Q,gt)|0,v=v+Math.imul(Q,It)|0,S=S+Math.imul(ye,mn)|0,s=(s=s+Math.imul(ye,dn)|0)+Math.imul(De,mn)|0,v=v+Math.imul(De,dn)|0,S=S+Math.imul(Se,An)|0,s=(s=s+Math.imul(Se,en)|0)+Math.imul(we,An)|0,v=v+Math.imul(we,en)|0,S=S+Math.imul(_e,Et)|0,s=(s=s+Math.imul(_e,ft)|0)+Math.imul(Oe,Et)|0,v=v+Math.imul(Oe,ft)|0;var Te=(B+(S=S+Math.imul(K,qt)|0)|0)+((8191&(s=(s=s+Math.imul(K,hn)|0)+Math.imul(ee,qt)|0))<<13)|0;B=((v=v+Math.imul(ee,hn)|0)+(s>>>13)|0)+(Te>>>26)|0,Te&=67108863,S=Math.imul($e,Ae),s=(s=Math.imul($e,tt))+Math.imul(Fe,Ae)|0,v=Math.imul(Fe,tt),S=S+Math.imul(fe,gt)|0,s=(s=s+Math.imul(fe,It)|0)+Math.imul(Ee,gt)|0,v=v+Math.imul(Ee,It)|0,S=S+Math.imul(ue,mn)|0,s=(s=s+Math.imul(ue,dn)|0)+Math.imul(Q,mn)|0,v=v+Math.imul(Q,dn)|0,S=S+Math.imul(ye,An)|0,s=(s=s+Math.imul(ye,en)|0)+Math.imul(De,An)|0,v=v+Math.imul(De,en)|0,S=S+Math.imul(Se,Et)|0,s=(s=s+Math.imul(Se,ft)|0)+Math.imul(we,Et)|0,v=v+Math.imul(we,ft)|0,S=S+Math.imul(_e,qt)|0,s=(s=s+Math.imul(_e,hn)|0)+Math.imul(Oe,qt)|0,v=v+Math.imul(Oe,hn)|0;var Ne=(B+(S=S+Math.imul(K,vt)|0)|0)+((8191&(s=(s=s+Math.imul(K,St)|0)+Math.imul(ee,vt)|0))<<13)|0;B=((v=v+Math.imul(ee,St)|0)+(s>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,S=Math.imul(We,Ae),s=(s=Math.imul(We,tt))+Math.imul(Le,Ae)|0,v=Math.imul(Le,tt),S=S+Math.imul($e,gt)|0,s=(s=s+Math.imul($e,It)|0)+Math.imul(Fe,gt)|0,v=v+Math.imul(Fe,It)|0,S=S+Math.imul(fe,mn)|0,s=(s=s+Math.imul(fe,dn)|0)+Math.imul(Ee,mn)|0,v=v+Math.imul(Ee,dn)|0,S=S+Math.imul(ue,An)|0,s=(s=s+Math.imul(ue,en)|0)+Math.imul(Q,An)|0,v=v+Math.imul(Q,en)|0,S=S+Math.imul(ye,Et)|0,s=(s=s+Math.imul(ye,ft)|0)+Math.imul(De,Et)|0,v=v+Math.imul(De,ft)|0,S=S+Math.imul(Se,qt)|0,s=(s=s+Math.imul(Se,hn)|0)+Math.imul(we,qt)|0,v=v+Math.imul(we,hn)|0,S=S+Math.imul(_e,vt)|0,s=(s=s+Math.imul(_e,St)|0)+Math.imul(Oe,vt)|0,v=v+Math.imul(Oe,St)|0;var xt=(B+(S=S+Math.imul(K,Ye)|0)|0)+((8191&(s=(s=s+Math.imul(K,nt)|0)+Math.imul(ee,Ye)|0))<<13)|0;B=((v=v+Math.imul(ee,nt)|0)+(s>>>13)|0)+(xt>>>26)|0,xt&=67108863,S=Math.imul(N,Ae),s=(s=Math.imul(N,tt))+Math.imul(_,Ae)|0,v=Math.imul(_,tt),S=S+Math.imul(We,gt)|0,s=(s=s+Math.imul(We,It)|0)+Math.imul(Le,gt)|0,v=v+Math.imul(Le,It)|0,S=S+Math.imul($e,mn)|0,s=(s=s+Math.imul($e,dn)|0)+Math.imul(Fe,mn)|0,v=v+Math.imul(Fe,dn)|0,S=S+Math.imul(fe,An)|0,s=(s=s+Math.imul(fe,en)|0)+Math.imul(Ee,An)|0,v=v+Math.imul(Ee,en)|0,S=S+Math.imul(ue,Et)|0,s=(s=s+Math.imul(ue,ft)|0)+Math.imul(Q,Et)|0,v=v+Math.imul(Q,ft)|0,S=S+Math.imul(ye,qt)|0,s=(s=s+Math.imul(ye,hn)|0)+Math.imul(De,qt)|0,v=v+Math.imul(De,hn)|0,S=S+Math.imul(Se,vt)|0,s=(s=s+Math.imul(Se,St)|0)+Math.imul(we,vt)|0,v=v+Math.imul(we,St)|0,S=S+Math.imul(_e,Ye)|0,s=(s=s+Math.imul(_e,nt)|0)+Math.imul(Oe,Ye)|0,v=v+Math.imul(Oe,nt)|0;var nn=(B+(S=S+Math.imul(K,Nt)|0)|0)+((8191&(s=(s=s+Math.imul(K,un)|0)+Math.imul(ee,Nt)|0))<<13)|0;B=((v=v+Math.imul(ee,un)|0)+(s>>>13)|0)+(nn>>>26)|0,nn&=67108863,S=Math.imul(U,Ae),s=(s=Math.imul(U,tt))+Math.imul(ne,Ae)|0,v=Math.imul(ne,tt),S=S+Math.imul(N,gt)|0,s=(s=s+Math.imul(N,It)|0)+Math.imul(_,gt)|0,v=v+Math.imul(_,It)|0,S=S+Math.imul(We,mn)|0,s=(s=s+Math.imul(We,dn)|0)+Math.imul(Le,mn)|0,v=v+Math.imul(Le,dn)|0,S=S+Math.imul($e,An)|0,s=(s=s+Math.imul($e,en)|0)+Math.imul(Fe,An)|0,v=v+Math.imul(Fe,en)|0,S=S+Math.imul(fe,Et)|0,s=(s=s+Math.imul(fe,ft)|0)+Math.imul(Ee,Et)|0,v=v+Math.imul(Ee,ft)|0,S=S+Math.imul(ue,qt)|0,s=(s=s+Math.imul(ue,hn)|0)+Math.imul(Q,qt)|0,v=v+Math.imul(Q,hn)|0,S=S+Math.imul(ye,vt)|0,s=(s=s+Math.imul(ye,St)|0)+Math.imul(De,vt)|0,v=v+Math.imul(De,St)|0,S=S+Math.imul(Se,Ye)|0,s=(s=s+Math.imul(Se,nt)|0)+Math.imul(we,Ye)|0,v=v+Math.imul(we,nt)|0,S=S+Math.imul(_e,Nt)|0,s=(s=s+Math.imul(_e,un)|0)+Math.imul(Oe,Nt)|0,v=v+Math.imul(Oe,un)|0;var In=(B+(S=S+Math.imul(K,En)|0)|0)+((8191&(s=(s=s+Math.imul(K,kn)|0)+Math.imul(ee,En)|0))<<13)|0;B=((v=v+Math.imul(ee,kn)|0)+(s>>>13)|0)+(In>>>26)|0,In&=67108863,S=Math.imul(U,gt),s=(s=Math.imul(U,It))+Math.imul(ne,gt)|0,v=Math.imul(ne,It),S=S+Math.imul(N,mn)|0,s=(s=s+Math.imul(N,dn)|0)+Math.imul(_,mn)|0,v=v+Math.imul(_,dn)|0,S=S+Math.imul(We,An)|0,s=(s=s+Math.imul(We,en)|0)+Math.imul(Le,An)|0,v=v+Math.imul(Le,en)|0,S=S+Math.imul($e,Et)|0,s=(s=s+Math.imul($e,ft)|0)+Math.imul(Fe,Et)|0,v=v+Math.imul(Fe,ft)|0,S=S+Math.imul(fe,qt)|0,s=(s=s+Math.imul(fe,hn)|0)+Math.imul(Ee,qt)|0,v=v+Math.imul(Ee,hn)|0,S=S+Math.imul(ue,vt)|0,s=(s=s+Math.imul(ue,St)|0)+Math.imul(Q,vt)|0,v=v+Math.imul(Q,St)|0,S=S+Math.imul(ye,Ye)|0,s=(s=s+Math.imul(ye,nt)|0)+Math.imul(De,Ye)|0,v=v+Math.imul(De,nt)|0,S=S+Math.imul(Se,Nt)|0,s=(s=s+Math.imul(Se,un)|0)+Math.imul(we,Nt)|0,v=v+Math.imul(we,un)|0;var Kn=(B+(S=S+Math.imul(_e,En)|0)|0)+((8191&(s=(s=s+Math.imul(_e,kn)|0)+Math.imul(Oe,En)|0))<<13)|0;B=((v=v+Math.imul(Oe,kn)|0)+(s>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,S=Math.imul(U,mn),s=(s=Math.imul(U,dn))+Math.imul(ne,mn)|0,v=Math.imul(ne,dn),S=S+Math.imul(N,An)|0,s=(s=s+Math.imul(N,en)|0)+Math.imul(_,An)|0,v=v+Math.imul(_,en)|0,S=S+Math.imul(We,Et)|0,s=(s=s+Math.imul(We,ft)|0)+Math.imul(Le,Et)|0,v=v+Math.imul(Le,ft)|0,S=S+Math.imul($e,qt)|0,s=(s=s+Math.imul($e,hn)|0)+Math.imul(Fe,qt)|0,v=v+Math.imul(Fe,hn)|0,S=S+Math.imul(fe,vt)|0,s=(s=s+Math.imul(fe,St)|0)+Math.imul(Ee,vt)|0,v=v+Math.imul(Ee,St)|0,S=S+Math.imul(ue,Ye)|0,s=(s=s+Math.imul(ue,nt)|0)+Math.imul(Q,Ye)|0,v=v+Math.imul(Q,nt)|0,S=S+Math.imul(ye,Nt)|0,s=(s=s+Math.imul(ye,un)|0)+Math.imul(De,Nt)|0,v=v+Math.imul(De,un)|0;var er=(B+(S=S+Math.imul(Se,En)|0)|0)+((8191&(s=(s=s+Math.imul(Se,kn)|0)+Math.imul(we,En)|0))<<13)|0;B=((v=v+Math.imul(we,kn)|0)+(s>>>13)|0)+(er>>>26)|0,er&=67108863,S=Math.imul(U,An),s=(s=Math.imul(U,en))+Math.imul(ne,An)|0,v=Math.imul(ne,en),S=S+Math.imul(N,Et)|0,s=(s=s+Math.imul(N,ft)|0)+Math.imul(_,Et)|0,v=v+Math.imul(_,ft)|0,S=S+Math.imul(We,qt)|0,s=(s=s+Math.imul(We,hn)|0)+Math.imul(Le,qt)|0,v=v+Math.imul(Le,hn)|0,S=S+Math.imul($e,vt)|0,s=(s=s+Math.imul($e,St)|0)+Math.imul(Fe,vt)|0,v=v+Math.imul(Fe,St)|0,S=S+Math.imul(fe,Ye)|0,s=(s=s+Math.imul(fe,nt)|0)+Math.imul(Ee,Ye)|0,v=v+Math.imul(Ee,nt)|0,S=S+Math.imul(ue,Nt)|0,s=(s=s+Math.imul(ue,un)|0)+Math.imul(Q,Nt)|0,v=v+Math.imul(Q,un)|0;var _r=(B+(S=S+Math.imul(ye,En)|0)|0)+((8191&(s=(s=s+Math.imul(ye,kn)|0)+Math.imul(De,En)|0))<<13)|0;B=((v=v+Math.imul(De,kn)|0)+(s>>>13)|0)+(_r>>>26)|0,_r&=67108863,S=Math.imul(U,Et),s=(s=Math.imul(U,ft))+Math.imul(ne,Et)|0,v=Math.imul(ne,ft),S=S+Math.imul(N,qt)|0,s=(s=s+Math.imul(N,hn)|0)+Math.imul(_,qt)|0,v=v+Math.imul(_,hn)|0,S=S+Math.imul(We,vt)|0,s=(s=s+Math.imul(We,St)|0)+Math.imul(Le,vt)|0,v=v+Math.imul(Le,St)|0,S=S+Math.imul($e,Ye)|0,s=(s=s+Math.imul($e,nt)|0)+Math.imul(Fe,Ye)|0,v=v+Math.imul(Fe,nt)|0,S=S+Math.imul(fe,Nt)|0,s=(s=s+Math.imul(fe,un)|0)+Math.imul(Ee,Nt)|0,v=v+Math.imul(Ee,un)|0;var Tr=(B+(S=S+Math.imul(ue,En)|0)|0)+((8191&(s=(s=s+Math.imul(ue,kn)|0)+Math.imul(Q,En)|0))<<13)|0;B=((v=v+Math.imul(Q,kn)|0)+(s>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,S=Math.imul(U,qt),s=(s=Math.imul(U,hn))+Math.imul(ne,qt)|0,v=Math.imul(ne,hn),S=S+Math.imul(N,vt)|0,s=(s=s+Math.imul(N,St)|0)+Math.imul(_,vt)|0,v=v+Math.imul(_,St)|0,S=S+Math.imul(We,Ye)|0,s=(s=s+Math.imul(We,nt)|0)+Math.imul(Le,Ye)|0,v=v+Math.imul(Le,nt)|0,S=S+Math.imul($e,Nt)|0,s=(s=s+Math.imul($e,un)|0)+Math.imul(Fe,Nt)|0,v=v+Math.imul(Fe,un)|0;var Br=(B+(S=S+Math.imul(fe,En)|0)|0)+((8191&(s=(s=s+Math.imul(fe,kn)|0)+Math.imul(Ee,En)|0))<<13)|0;B=((v=v+Math.imul(Ee,kn)|0)+(s>>>13)|0)+(Br>>>26)|0,Br&=67108863,S=Math.imul(U,vt),s=(s=Math.imul(U,St))+Math.imul(ne,vt)|0,v=Math.imul(ne,St),S=S+Math.imul(N,Ye)|0,s=(s=s+Math.imul(N,nt)|0)+Math.imul(_,Ye)|0,v=v+Math.imul(_,nt)|0,S=S+Math.imul(We,Nt)|0,s=(s=s+Math.imul(We,un)|0)+Math.imul(Le,Nt)|0,v=v+Math.imul(Le,un)|0;var jr=(B+(S=S+Math.imul($e,En)|0)|0)+((8191&(s=(s=s+Math.imul($e,kn)|0)+Math.imul(Fe,En)|0))<<13)|0;B=((v=v+Math.imul(Fe,kn)|0)+(s>>>13)|0)+(jr>>>26)|0,jr&=67108863,S=Math.imul(U,Ye),s=(s=Math.imul(U,nt))+Math.imul(ne,Ye)|0,v=Math.imul(ne,nt),S=S+Math.imul(N,Nt)|0,s=(s=s+Math.imul(N,un)|0)+Math.imul(_,Nt)|0,v=v+Math.imul(_,un)|0;var Zr=(B+(S=S+Math.imul(We,En)|0)|0)+((8191&(s=(s=s+Math.imul(We,kn)|0)+Math.imul(Le,En)|0))<<13)|0;B=((v=v+Math.imul(Le,kn)|0)+(s>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,S=Math.imul(U,Nt),s=(s=Math.imul(U,un))+Math.imul(ne,Nt)|0,v=Math.imul(ne,un);var tn=(B+(S=S+Math.imul(N,En)|0)|0)+((8191&(s=(s=s+Math.imul(N,kn)|0)+Math.imul(_,En)|0))<<13)|0;B=((v=v+Math.imul(_,kn)|0)+(s>>>13)|0)+(tn>>>26)|0,tn&=67108863;var _n=(B+(S=Math.imul(U,En))|0)+((8191&(s=(s=Math.imul(U,kn))+Math.imul(ne,En)|0))<<13)|0;return B=((v=Math.imul(ne,kn))+(s>>>13)|0)+(_n>>>26)|0,_n&=67108863,T[0]=Or,T[1]=Jn,T[2]=Fn,T[3]=Lt,T[4]=et,T[5]=Te,T[6]=Ne,T[7]=xt,T[8]=nn,T[9]=In,T[10]=Kn,T[11]=er,T[12]=_r,T[13]=Tr,T[14]=Br,T[15]=jr,T[16]=Zr,T[17]=tn,T[18]=_n,0!==B&&(T[19]=B,y.length++),y};function J(C,a,f){return(new Z).mulp(C,a,f)}function Z(C,a){this.x=C,this.y=a}Math.imul||(re=G),x.prototype.mulTo=function(a,f){var y,g=this.length+a.length;return y=10===this.length&&10===a.length?re(this,a,f):g<63?G(this,a,f):g<1024?function te(C,a,f){f.negative=a.negative^C.negative,f.length=C.length+a.length;for(var y=0,g=0,M=0;M<f.length-1;M++){var T=g;g=0;for(var B=67108863&y,S=Math.min(M,a.length-1),s=Math.max(0,M-C.length+1);s<=S;s++){var ee=(0|C.words[M-s])*(0|a.words[s]),ce=67108863&ee;B=67108863&(ce=ce+B|0),g+=(T=(T=T+(ee/67108864|0)|0)+(ce>>>26)|0)>>>26,T&=67108863}f.words[M]=B,y=T,T=g}return 0!==y?f.words[M]=y:f.length--,f.strip()}(this,a,f):J(this,a,f),y},Z.prototype.makeRBT=function(a){for(var f=new Array(a),y=x.prototype._countBits(a)-1,g=0;g<a;g++)f[g]=this.revBin(g,y,a);return f},Z.prototype.revBin=function(a,f,y){if(0===a||a===y-1)return a;for(var g=0,M=0;M<f;M++)g|=(1&a)<<f-M-1,a>>=1;return g},Z.prototype.permute=function(a,f,y,g,M,T){for(var B=0;B<T;B++)g[B]=f[a[B]],M[B]=y[a[B]]},Z.prototype.transform=function(a,f,y,g,M,T){this.permute(T,a,f,y,g,M);for(var B=1;B<M;B<<=1)for(var S=B<<1,s=Math.cos(2*Math.PI/S),v=Math.sin(2*Math.PI/S),W=0;W<M;W+=S)for(var K=s,ee=v,ce=0;ce<B;ce++){var _e=y[W+ce],Oe=g[W+ce],Ve=y[W+ce+B],Se=g[W+ce+B],we=K*Ve-ee*Se;Se=K*Se+ee*Ve,y[W+ce]=_e+(Ve=we),g[W+ce]=Oe+Se,y[W+ce+B]=_e-Ve,g[W+ce+B]=Oe-Se,ce!==S&&(we=s*K-v*ee,ee=s*ee+v*K,K=we)}},Z.prototype.guessLen13b=function(a,f){var y=1|Math.max(f,a),g=1&y,M=0;for(y=y/2|0;y;y>>>=1)M++;return 1<<M+1+g},Z.prototype.conjugate=function(a,f,y){if(!(y<=1))for(var g=0;g<y/2;g++){var M=a[g];a[g]=a[y-g-1],a[y-g-1]=M,M=f[g],f[g]=-f[y-g-1],f[y-g-1]=-M}},Z.prototype.normalize13b=function(a,f){for(var y=0,g=0;g<f/2;g++){var M=8192*Math.round(a[2*g+1]/f)+Math.round(a[2*g]/f)+y;a[g]=67108863&M,y=M<67108864?0:M/67108864|0}return a},Z.prototype.convert13b=function(a,f,y,g){for(var M=0,T=0;T<f;T++)y[2*T]=8191&(M+=0|a[T]),y[2*T+1]=8191&(M>>>=13),M>>>=13;for(T=2*f;T<g;++T)y[T]=0;k(0===M),k(!(-8192&M))},Z.prototype.stub=function(a){for(var f=new Array(a),y=0;y<a;y++)f[y]=0;return f},Z.prototype.mulp=function(a,f,y){var g=2*this.guessLen13b(a.length,f.length),M=this.makeRBT(g),T=this.stub(g),B=new Array(g),S=new Array(g),s=new Array(g),v=new Array(g),W=new Array(g),K=new Array(g),ee=y.words;ee.length=g,this.convert13b(a.words,a.length,B,g),this.convert13b(f.words,f.length,v,g),this.transform(B,T,S,s,g,M),this.transform(v,T,W,K,g,M);for(var ce=0;ce<g;ce++){var _e=S[ce]*W[ce]-s[ce]*K[ce];s[ce]=S[ce]*K[ce]+s[ce]*W[ce],S[ce]=_e}return this.conjugate(S,s,g),this.transform(S,s,ee,T,g,M),this.conjugate(ee,T,g),this.normalize13b(ee,g),y.negative=a.negative^f.negative,y.length=a.length+f.length,y.strip()},x.prototype.mul=function(a){var f=new x(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},x.prototype.mulf=function(a){var f=new x(null);return f.words=new Array(this.length+a.length),J(this,a,f)},x.prototype.imul=function(a){return this.clone().mulTo(a,this)},x.prototype.imuln=function(a){k("number"==typeof a),k(a<67108864);for(var f=0,y=0;y<this.length;y++){var g=(0|this.words[y])*a,M=(67108863&g)+(67108863&f);f>>=26,f+=g/67108864|0,f+=M>>>26,this.words[y]=67108863&M}return 0!==f&&(this.words[y]=f,this.length++),this},x.prototype.muln=function(a){return this.clone().imuln(a)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(a){var f=function j(C){for(var a=new Array(C.bitLength()),f=0;f<a.length;f++){var g=f%26;a[f]=(C.words[f/26|0]&1<<g)>>>g}return a}(a);if(0===f.length)return new x(1);for(var y=this,g=0;g<f.length&&0===f[g];g++,y=y.sqr());if(++g<f.length)for(var M=y.sqr();g<f.length;g++,M=M.sqr())0!==f[g]&&(y=y.mul(M));return y},x.prototype.iushln=function(a){k("number"==typeof a&&a>=0);var M,f=a%26,y=(a-f)/26,g=67108863>>>26-f<<26-f;if(0!==f){var T=0;for(M=0;M<this.length;M++){var B=this.words[M]&g;this.words[M]=(0|this.words[M])-B<<f|T,T=B>>>26-f}T&&(this.words[M]=T,this.length++)}if(0!==y){for(M=this.length-1;M>=0;M--)this.words[M+y]=this.words[M];for(M=0;M<y;M++)this.words[M]=0;this.length+=y}return this.strip()},x.prototype.ishln=function(a){return k(0===this.negative),this.iushln(a)},x.prototype.iushrn=function(a,f,y){var g;k("number"==typeof a&&a>=0),g=f?(f-f%26)/26:0;var M=a%26,T=Math.min((a-M)/26,this.length),B=67108863^67108863>>>M<<M,S=y;if(g-=T,g=Math.max(0,g),S){for(var s=0;s<T;s++)S.words[s]=this.words[s];S.length=T}if(0!==T)if(this.length>T)for(this.length-=T,s=0;s<this.length;s++)this.words[s]=this.words[s+T];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=g);s--){var W=0|this.words[s];this.words[s]=v<<26-M|W>>>M,v=W&B}return S&&0!==v&&(S.words[S.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},x.prototype.ishrn=function(a,f,y){return k(0===this.negative),this.iushrn(a,f,y)},x.prototype.shln=function(a){return this.clone().ishln(a)},x.prototype.ushln=function(a){return this.clone().iushln(a)},x.prototype.shrn=function(a){return this.clone().ishrn(a)},x.prototype.ushrn=function(a){return this.clone().iushrn(a)},x.prototype.testn=function(a){k("number"==typeof a&&a>=0);var f=a%26,y=(a-f)/26;return!(this.length<=y||!(this.words[y]&1<<f))},x.prototype.imaskn=function(a){k("number"==typeof a&&a>=0);var f=a%26,y=(a-f)/26;return k(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==f&&y++,this.length=Math.min(y,this.length),0!==f&&(this.words[this.length-1]&=67108863^67108863>>>f<<f),this.strip())},x.prototype.maskn=function(a){return this.clone().imaskn(a)},x.prototype.iaddn=function(a){return k("number"==typeof a),k(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},x.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},x.prototype.isubn=function(a){if(k("number"==typeof a),k(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},x.prototype.addn=function(a){return this.clone().iaddn(a)},x.prototype.subn=function(a){return this.clone().isubn(a)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(a,f,y){var M;this._expand(a.length+y);var T,B=0;for(M=0;M<a.length;M++){T=(0|this.words[M+y])+B;var S=(0|a.words[M])*f;B=((T-=67108863&S)>>26)-(S/67108864|0),this.words[M+y]=67108863&T}for(;M<this.length-y;M++)B=(T=(0|this.words[M+y])+B)>>26,this.words[M+y]=67108863&T;if(0===B)return this.strip();for(k(-1===B),B=0,M=0;M<this.length;M++)B=(T=-(0|this.words[M])+B)>>26,this.words[M]=67108863&T;return this.negative=1,this.strip()},x.prototype._wordDiv=function(a,f){var y,g=this.clone(),M=a,T=0|M.words[M.length-1];0!=(y=26-this._countBits(T))&&(M=M.ushln(y),g.iushln(y),T=0|M.words[M.length-1]);var s,S=g.length-M.length;if("mod"!==f){(s=new x(null)).length=S+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var W=g.clone()._ishlnsubmul(M,1,S);0===W.negative&&(g=W,s&&(s.words[S]=1));for(var K=S-1;K>=0;K--){var ee=67108864*(0|g.words[M.length+K])+(0|g.words[M.length+K-1]);for(ee=Math.min(ee/T|0,67108863),g._ishlnsubmul(M,ee,K);0!==g.negative;)ee--,g.negative=0,g._ishlnsubmul(M,1,K),g.isZero()||(g.negative^=1);s&&(s.words[K]=ee)}return s&&s.strip(),g.strip(),"div"!==f&&0!==y&&g.iushrn(y),{div:s||null,mod:g}},x.prototype.divmod=function(a,f,y){return k(!a.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===a.negative?(T=this.neg().divmod(a,f),"mod"!==f&&(g=T.div.neg()),"div"!==f&&(M=T.mod.neg(),y&&0!==M.negative&&M.iadd(a)),{div:g,mod:M}):0===this.negative&&0!==a.negative?(T=this.divmod(a.neg(),f),"mod"!==f&&(g=T.div.neg()),{div:g,mod:T.mod}):this.negative&a.negative?(T=this.neg().divmod(a.neg(),f),"div"!==f&&(M=T.mod.neg(),y&&0!==M.negative&&M.isub(a)),{div:T.div,mod:M}):a.length>this.length||this.cmp(a)<0?{div:new x(0),mod:this}:1===a.length?"div"===f?{div:this.divn(a.words[0]),mod:null}:"mod"===f?{div:null,mod:new x(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new x(this.modn(a.words[0]))}:this._wordDiv(a,f);var g,M,T},x.prototype.div=function(a){return this.divmod(a,"div",!1).div},x.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},x.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},x.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var y=0!==f.div.negative?f.mod.isub(a):f.mod,g=a.ushrn(1),M=a.andln(1),T=y.cmp(g);return T<0||1===M&&0===T?f.div:0!==f.div.negative?f.div.isubn(1):f.div.iaddn(1)},x.prototype.modn=function(a){k(a<=67108863);for(var f=(1<<26)%a,y=0,g=this.length-1;g>=0;g--)y=(f*y+(0|this.words[g]))%a;return y},x.prototype.idivn=function(a){k(a<=67108863);for(var f=0,y=this.length-1;y>=0;y--){var g=(0|this.words[y])+67108864*f;this.words[y]=g/a|0,f=g%a}return this.strip()},x.prototype.divn=function(a){return this.clone().idivn(a)},x.prototype.egcd=function(a){k(0===a.negative),k(!a.isZero());var f=this,y=a.clone();f=0!==f.negative?f.umod(a):f.clone();for(var g=new x(1),M=new x(0),T=new x(0),B=new x(1),S=0;f.isEven()&&y.isEven();)f.iushrn(1),y.iushrn(1),++S;for(var s=y.clone(),v=f.clone();!f.isZero();){for(var W=0,K=1;!(f.words[0]&K)&&W<26;++W,K<<=1);if(W>0)for(f.iushrn(W);W-- >0;)(g.isOdd()||M.isOdd())&&(g.iadd(s),M.isub(v)),g.iushrn(1),M.iushrn(1);for(var ee=0,ce=1;!(y.words[0]&ce)&&ee<26;++ee,ce<<=1);if(ee>0)for(y.iushrn(ee);ee-- >0;)(T.isOdd()||B.isOdd())&&(T.iadd(s),B.isub(v)),T.iushrn(1),B.iushrn(1);f.cmp(y)>=0?(f.isub(y),g.isub(T),M.isub(B)):(y.isub(f),T.isub(g),B.isub(M))}return{a:T,b:B,gcd:y.iushln(S)}},x.prototype._invmp=function(a){k(0===a.negative),k(!a.isZero());var W,f=this,y=a.clone();f=0!==f.negative?f.umod(a):f.clone();for(var g=new x(1),M=new x(0),T=y.clone();f.cmpn(1)>0&&y.cmpn(1)>0;){for(var B=0,S=1;!(f.words[0]&S)&&B<26;++B,S<<=1);if(B>0)for(f.iushrn(B);B-- >0;)g.isOdd()&&g.iadd(T),g.iushrn(1);for(var s=0,v=1;!(y.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(y.iushrn(s);s-- >0;)M.isOdd()&&M.iadd(T),M.iushrn(1);f.cmp(y)>=0?(f.isub(y),g.isub(M)):(y.isub(f),M.isub(g))}return(W=0===f.cmpn(1)?g:M).cmpn(0)<0&&W.iadd(a),W},x.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),y=a.clone();f.negative=0,y.negative=0;for(var g=0;f.isEven()&&y.isEven();g++)f.iushrn(1),y.iushrn(1);for(;;){for(;f.isEven();)f.iushrn(1);for(;y.isEven();)y.iushrn(1);var M=f.cmp(y);if(M<0){var T=f;f=y,y=T}else if(0===M||0===y.cmpn(1))break;f.isub(y)}return y.iushln(g)},x.prototype.invm=function(a){return this.egcd(a).a.umod(a)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(a){return this.words[0]&a},x.prototype.bincn=function(a){k("number"==typeof a);var f=a%26,y=(a-f)/26,g=1<<f;if(this.length<=y)return this._expand(y+1),this.words[y]|=g,this;for(var M=g,T=y;0!==M&&T<this.length;T++){var B=0|this.words[T];M=(B+=M)>>>26,this.words[T]=B&=67108863}return 0!==M&&(this.words[T]=M,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(a){var y,f=a<0;if(0!==this.negative&&!f)return-1;if(0===this.negative&&f)return 1;if(this.strip(),this.length>1)y=1;else{f&&(a=-a),k(a<=67108863,"Number is too big");var g=0|this.words[0];y=g===a?0:g<a?-1:1}return 0!==this.negative?0|-y:y},x.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var f=this.ucmp(a);return 0!==this.negative?0|-f:f},x.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,y=this.length-1;y>=0;y--){var g=0|this.words[y],M=0|a.words[y];if(g!==M){g<M?f=-1:g>M&&(f=1);break}}return f},x.prototype.gtn=function(a){return 1===this.cmpn(a)},x.prototype.gt=function(a){return 1===this.cmp(a)},x.prototype.gten=function(a){return this.cmpn(a)>=0},x.prototype.gte=function(a){return this.cmp(a)>=0},x.prototype.ltn=function(a){return-1===this.cmpn(a)},x.prototype.lt=function(a){return-1===this.cmp(a)},x.prototype.lten=function(a){return this.cmpn(a)<=0},x.prototype.lte=function(a){return this.cmp(a)<=0},x.prototype.eqn=function(a){return 0===this.cmpn(a)},x.prototype.eq=function(a){return 0===this.cmp(a)},x.red=function(a){return new xe(a)},x.prototype.toRed=function(a){return k(!this.red,"Already a number in reduction context"),k(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},x.prototype.fromRed=function(){return k(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(a){return this.red=a,this},x.prototype.forceRed=function(a){return k(!this.red,"Already a number in reduction context"),this._forceRed(a)},x.prototype.redAdd=function(a){return k(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},x.prototype.redIAdd=function(a){return k(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},x.prototype.redSub=function(a){return k(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},x.prototype.redISub=function(a){return k(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},x.prototype.redShl=function(a){return k(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},x.prototype.redMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},x.prototype.redIMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},x.prototype.redSqr=function(){return k(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return k(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return k(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return k(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return k(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(a){return k(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var ie={k256:null,p224:null,p192:null,p25519:null};function ae(C,a){this.name=C,this.p=new x(a,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function se(){ae.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function de(){ae.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function le(){ae.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function be(){ae.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function xe(C){if("string"==typeof C){var a=x._prime(C);this.m=a.p,this.prime=a}else k(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function ke(C){xe.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ae.prototype._tmp=function(){var a=new x(null);return a.words=new Array(Math.ceil(this.n/13)),a},ae.prototype.ireduce=function(a){var y,f=a;do{this.split(f,this.tmp),y=(f=(f=this.imulK(f)).iadd(this.tmp)).bitLength()}while(y>this.n);var g=y<this.n?-1:f.ucmp(this.p);return 0===g?(f.words[0]=0,f.length=1):g>0?f.isub(this.p):void 0!==f.strip?f.strip():f._strip(),f},ae.prototype.split=function(a,f){a.iushrn(this.n,0,f)},ae.prototype.imulK=function(a){return a.imul(this.k)},z(se,ae),se.prototype.split=function(a,f){for(var y=4194303,g=Math.min(a.length,9),M=0;M<g;M++)f.words[M]=a.words[M];if(f.length=g,a.length<=9)return a.words[0]=0,void(a.length=1);var T=a.words[9];for(f.words[f.length++]=T&y,M=10;M<a.length;M++){var B=0|a.words[M];a.words[M-10]=(B&y)<<4|T>>>22,T=B}a.words[M-10]=T>>>=22,a.length-=0===T&&a.length>10?10:9},se.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,y=0;y<a.length;y++){var g=0|a.words[y];a.words[y]=67108863&(f+=977*g),f=64*g+(f/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},z(de,ae),z(le,ae),z(be,ae),be.prototype.imulK=function(a){for(var f=0,y=0;y<a.length;y++){var g=19*(0|a.words[y])+f,M=67108863&g;g>>>=26,a.words[y]=M,f=g}return 0!==f&&(a.words[a.length++]=f),a},x._prime=function(a){if(ie[a])return ie[a];var f;if("k256"===a)f=new se;else if("p224"===a)f=new de;else if("p192"===a)f=new le;else{if("p25519"!==a)throw new Error("Unknown prime "+a);f=new be}return ie[a]=f,f},xe.prototype._verify1=function(a){k(0===a.negative,"red works only with positives"),k(a.red,"red works only with red numbers")},xe.prototype._verify2=function(a,f){k(!(a.negative|f.negative),"red works only with positives"),k(a.red&&a.red===f.red,"red works only with red numbers")},xe.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},xe.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},xe.prototype.add=function(a,f){this._verify2(a,f);var y=a.add(f);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},xe.prototype.iadd=function(a,f){this._verify2(a,f);var y=a.iadd(f);return y.cmp(this.m)>=0&&y.isub(this.m),y},xe.prototype.sub=function(a,f){this._verify2(a,f);var y=a.sub(f);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},xe.prototype.isub=function(a,f){this._verify2(a,f);var y=a.isub(f);return y.cmpn(0)<0&&y.iadd(this.m),y},xe.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},xe.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},xe.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},xe.prototype.isqr=function(a){return this.imul(a,a.clone())},xe.prototype.sqr=function(a){return this.mul(a,a)},xe.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(k(f%2==1),3===f){var y=this.m.add(new x(1)).iushrn(2);return this.pow(a,y)}for(var g=this.m.subn(1),M=0;!g.isZero()&&0===g.andln(1);)M++,g.iushrn(1);k(!g.isZero());var T=new x(1).toRed(this),B=T.redNeg(),S=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new x(2*s*s).toRed(this);0!==this.pow(s,S).cmp(B);)s.redIAdd(B);for(var v=this.pow(s,g),W=this.pow(a,g.addn(1).iushrn(1)),K=this.pow(a,g),ee=M;0!==K.cmp(T);){for(var ce=K,_e=0;0!==ce.cmp(T);_e++)ce=ce.redSqr();k(_e<ee);var Oe=this.pow(v,new x(1).iushln(ee-_e-1));W=W.redMul(Oe),v=Oe.redSqr(),K=K.redMul(v),ee=_e}return W},xe.prototype.invm=function(a){var f=a._invmp(this.m);return 0!==f.negative?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},xe.prototype.pow=function(a,f){if(f.isZero())return new x(1).toRed(this);if(0===f.cmpn(1))return a.clone();var g=new Array(16);g[0]=new x(1).toRed(this),g[1]=a;for(var M=2;M<g.length;M++)g[M]=this.mul(g[M-1],a);var T=g[0],B=0,S=0,s=f.bitLength()%26;for(0===s&&(s=26),M=f.length-1;M>=0;M--){for(var v=f.words[M],W=s-1;W>=0;W--){var K=v>>W&1;T!==g[0]&&(T=this.sqr(T)),0!==K||0!==B?(B<<=1,B|=K,(4==++S||0===M&&0===W)&&(T=this.mul(T,g[B]),S=0,B=0)):S=0}s=26}return T},xe.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},xe.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},x.mont=function(a){return new ke(a)},z(ke,xe),ke.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ke.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ke.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var y=a.imul(f),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(g).iushrn(this.shift),T=M;return M.cmp(this.m)>=0?T=M.isub(this.m):M.cmpn(0)<0&&(T=M.iadd(this.m)),T._forceRed(this)},ke.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new x(0)._forceRed(this);var y=a.mul(f),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(g).iushrn(this.shift),T=M;return M.cmp(this.m)>=0?T=M.isub(this.m):M.cmpn(0)<0&&(T=M.iadd(this.m)),T._forceRed(this)},ke.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(je=w.nmd(je),this)},13981:(je,H)=>{"use strict";H.byteLength=function A(j){var G=O(j),te=G[1];return 3*(G[0]+te)/4-te},H.toByteArray=function F(j){var G,se,re=O(j),te=re[0],J=re[1],Z=new E(function P(j,G,re){return 3*(G+re)/4-re}(0,te,J)),ie=0,ae=J>0?te-4:te;for(se=0;se<ae;se+=4)G=d[j.charCodeAt(se)]<<18|d[j.charCodeAt(se+1)]<<12|d[j.charCodeAt(se+2)]<<6|d[j.charCodeAt(se+3)],Z[ie++]=G>>16&255,Z[ie++]=G>>8&255,Z[ie++]=255&G;return 2===J&&(G=d[j.charCodeAt(se)]<<2|d[j.charCodeAt(se+1)]>>4,Z[ie++]=255&G),1===J&&(G=d[j.charCodeAt(se)]<<10|d[j.charCodeAt(se+1)]<<4|d[j.charCodeAt(se+2)]>>2,Z[ie++]=G>>8&255,Z[ie++]=255&G),Z},H.fromByteArray=function X(j){for(var G,re=j.length,te=re%3,J=[],Z=16383,ie=0,ae=re-te;ie<ae;ie+=Z)J.push(D(j,ie,ie+Z>ae?ae:ie+Z));return 1===te?J.push(w[(G=j[re-1])>>2]+w[G<<4&63]+"=="):2===te&&J.push(w[(G=(j[re-2]<<8)+j[re-1])>>10]+w[G>>4&63]+w[G<<2&63]+"="),J.join("")};for(var w=[],d=[],E=typeof Uint8Array<"u"?Uint8Array:Array,k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",z=0;z<64;++z)w[z]=k[z],d[k.charCodeAt(z)]=z;function O(j){var G=j.length;if(G%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var re=j.indexOf("=");return-1===re&&(re=G),[re,re===G?0:4-re%4]}function L(j){return w[j>>18&63]+w[j>>12&63]+w[j>>6&63]+w[63&j]}function D(j,G,re){for(var J=[],Z=G;Z<re;Z+=3)J.push(L((j[Z]<<16&16711680)+(j[Z+1]<<8&65280)+(255&j[Z+2])));return J.join("")}d[45]=62,d[95]=63},917:function(je,H,w){!function(d,E){"use strict";function k(y,g){if(!y)throw new Error(g||"Assertion failed")}function z(y,g){y.super_=g;var M=function(){};M.prototype=g.prototype,y.prototype=new M,y.prototype.constructor=y}function x(y,g,M){if(x.isBN(y))return y;this.negative=0,this.words=null,this.length=0,this.red=null,null!==y&&(("le"===g||"be"===g)&&(M=g,g=10),this._init(y||0,g||10,M||"be"))}var O;"object"==typeof d?d.exports=x:E.BN=x,x.BN=x,x.wordSize=26;try{O=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:w(47790).Buffer}catch{}function A(y,g){var M=y.charCodeAt(g);return M>=48&&M<=57?M-48:M>=65&&M<=70?M-55:M>=97&&M<=102?M-87:void k(!1,"Invalid character in "+y)}function P(y,g,M){var T=A(y,M);return M-1>=g&&(T|=A(y,M-1)<<4),T}function F(y,g,M,T){for(var B=0,S=0,s=Math.min(y.length,M),v=g;v<s;v++){var W=y.charCodeAt(v)-48;B*=T,S=W>=49?W-49+10:W>=17?W-17+10:W,k(W>=0&&S<T,"Invalid character"),B+=S}return B}function L(y,g){y.words=g.words,y.length=g.length,y.negative=g.negative,y.red=g.red}if(x.isBN=function(g){return g instanceof x||null!==g&&"object"==typeof g&&g.constructor.wordSize===x.wordSize&&Array.isArray(g.words)},x.max=function(g,M){return g.cmp(M)>0?g:M},x.min=function(g,M){return g.cmp(M)<0?g:M},x.prototype._init=function(g,M,T){if("number"==typeof g)return this._initNumber(g,M,T);if("object"==typeof g)return this._initArray(g,M,T);"hex"===M&&(M=16),k(M===(0|M)&&M>=2&&M<=36);var B=0;"-"===(g=g.toString().replace(/\s+/g,""))[0]&&(B++,this.negative=1),B<g.length&&(16===M?this._parseHex(g,B,T):(this._parseBase(g,M,B),"le"===T&&this._initArray(this.toArray(),M,T)))},x.prototype._initNumber=function(g,M,T){g<0&&(this.negative=1,g=-g),g<67108864?(this.words=[67108863&g],this.length=1):g<4503599627370496?(this.words=[67108863&g,g/67108864&67108863],this.length=2):(k(g<9007199254740992),this.words=[67108863&g,g/67108864&67108863,1],this.length=3),"le"===T&&this._initArray(this.toArray(),M,T)},x.prototype._initArray=function(g,M,T){if(k("number"==typeof g.length),g.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(g.length/3),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var S,s,v=0;if("be"===T)for(B=g.length-1,S=0;B>=0;B-=3)this.words[S]|=(s=g[B]|g[B-1]<<8|g[B-2]<<16)<<v&67108863,this.words[S+1]=s>>>26-v&67108863,(v+=24)>=26&&(v-=26,S++);else if("le"===T)for(B=0,S=0;B<g.length;B+=3)this.words[S]|=(s=g[B]|g[B+1]<<8|g[B+2]<<16)<<v&67108863,this.words[S+1]=s>>>26-v&67108863,(v+=24)>=26&&(v-=26,S++);return this._strip()},x.prototype._parseHex=function(g,M,T){this.length=Math.ceil((g.length-M)/6),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var v,S=0,s=0;if("be"===T)for(B=g.length-1;B>=M;B-=2)v=P(g,M,B)<<S,this.words[s]|=67108863&v,S>=18?(S-=18,this.words[s+=1]|=v>>>26):S+=8;else for(B=(g.length-M)%2==0?M+1:M;B<g.length;B+=2)v=P(g,M,B)<<S,this.words[s]|=67108863&v,S>=18?(S-=18,this.words[s+=1]|=v>>>26):S+=8;this._strip()},x.prototype._parseBase=function(g,M,T){this.words=[0],this.length=1;for(var B=0,S=1;S<=67108863;S*=M)B++;B--,S=S/M|0;for(var s=g.length-T,v=s%B,W=Math.min(s,s-v)+T,K=0,ee=T;ee<W;ee+=B)K=F(g,ee,ee+B,M),this.imuln(S),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K);if(0!==v){var ce=1;for(K=F(g,ee,g.length,M),ee=0;ee<v;ee++)ce*=M;this.imuln(ce),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K)}this._strip()},x.prototype.copy=function(g){g.words=new Array(this.length);for(var M=0;M<this.length;M++)g.words[M]=this.words[M];g.length=this.length,g.negative=this.negative,g.red=this.red},x.prototype._move=function(g){L(g,this)},x.prototype.clone=function(){var g=new x(null);return this.copy(g),g},x.prototype._expand=function(g){for(;this.length<g;)this.words[this.length++]=0;return this},x.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{x.prototype[Symbol.for("nodejs.util.inspect.custom")]=D}catch{x.prototype.inspect=D}else x.prototype.inspect=D;function D(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var X=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],j=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],G=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function J(y,g,M){M.negative=g.negative^y.negative;var T=y.length+g.length|0;M.length=T,T=T-1|0;var B=0|y.words[0],S=0|g.words[0],s=B*S,W=s/67108864|0;M.words[0]=67108863&s;for(var K=1;K<T;K++){for(var ee=W>>>26,ce=67108863&W,_e=Math.min(K,g.length-1),Oe=Math.max(0,K-y.length+1);Oe<=_e;Oe++)ee+=(s=(B=0|y.words[K-Oe|0])*(S=0|g.words[Oe])+ce)/67108864|0,ce=67108863&s;M.words[K]=0|ce,W=0|ee}return 0!==W?M.words[K]=0|W:M.length--,M._strip()}x.prototype.toString=function(g,M){var T;if(M=0|M||1,16===(g=g||10)||"hex"===g){T="";for(var B=0,S=0,s=0;s<this.length;s++){var v=this.words[s],W=(16777215&(v<<B|S)).toString(16);S=v>>>24-B&16777215,(B+=2)>=26&&(B-=26,s--),T=0!==S||s!==this.length-1?X[6-W.length]+W+T:W+T}for(0!==S&&(T=S.toString(16)+T);T.length%M!=0;)T="0"+T;return 0!==this.negative&&(T="-"+T),T}if(g===(0|g)&&g>=2&&g<=36){var K=j[g],ee=G[g];T="";var ce=this.clone();for(ce.negative=0;!ce.isZero();){var _e=ce.modrn(ee).toString(g);T=(ce=ce.idivn(ee)).isZero()?_e+T:X[K-_e.length]+_e+T}for(this.isZero()&&(T="0"+T);T.length%M!=0;)T="0"+T;return 0!==this.negative&&(T="-"+T),T}k(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var g=this.words[0];return 2===this.length?g+=67108864*this.words[1]:3===this.length&&1===this.words[2]?g+=4503599627370496+67108864*this.words[1]:this.length>2&&k(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-g:g},x.prototype.toJSON=function(){return this.toString(16,2)},O&&(x.prototype.toBuffer=function(g,M){return this.toArrayLike(O,g,M)}),x.prototype.toArray=function(g,M){return this.toArrayLike(Array,g,M)},x.prototype.toArrayLike=function(g,M,T){this._strip();var B=this.byteLength(),S=T||Math.max(1,B);k(B<=S,"byte array longer than desired length"),k(S>0,"Requested array length <= 0");var s=function(g,M){return g.allocUnsafe?g.allocUnsafe(M):new g(M)}(g,S);return this["_toArrayLike"+("le"===M?"LE":"BE")](s,B),s},x.prototype._toArrayLikeLE=function(g,M){for(var T=0,B=0,S=0,s=0;S<this.length;S++){var v=this.words[S]<<s|B;g[T++]=255&v,T<g.length&&(g[T++]=v>>8&255),T<g.length&&(g[T++]=v>>16&255),6===s?(T<g.length&&(g[T++]=v>>24&255),B=0,s=0):(B=v>>>24,s+=2)}if(T<g.length)for(g[T++]=B;T<g.length;)g[T++]=0},x.prototype._toArrayLikeBE=function(g,M){for(var T=g.length-1,B=0,S=0,s=0;S<this.length;S++){var v=this.words[S]<<s|B;g[T--]=255&v,T>=0&&(g[T--]=v>>8&255),T>=0&&(g[T--]=v>>16&255),6===s?(T>=0&&(g[T--]=v>>24&255),B=0,s=0):(B=v>>>24,s+=2)}if(T>=0)for(g[T--]=B;T>=0;)g[T--]=0},x.prototype._countBits=Math.clz32?function(g){return 32-Math.clz32(g)}:function(g){var M=g,T=0;return M>=4096&&(T+=13,M>>>=13),M>=64&&(T+=7,M>>>=7),M>=8&&(T+=4,M>>>=4),M>=2&&(T+=2,M>>>=2),T+M},x.prototype._zeroBits=function(g){if(0===g)return 26;var M=g,T=0;return 8191&M||(T+=13,M>>>=13),127&M||(T+=7,M>>>=7),15&M||(T+=4,M>>>=4),3&M||(T+=2,M>>>=2),1&M||T++,T},x.prototype.bitLength=function(){var M=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+M},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var g=0,M=0;M<this.length;M++){var T=this._zeroBits(this.words[M]);if(g+=T,26!==T)break}return g},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(g){return 0!==this.negative?this.abs().inotn(g).iaddn(1):this.clone()},x.prototype.fromTwos=function(g){return this.testn(g-1)?this.notn(g).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(g){for(;this.length<g.length;)this.words[this.length++]=0;for(var M=0;M<g.length;M++)this.words[M]=this.words[M]|g.words[M];return this._strip()},x.prototype.ior=function(g){return k(!(this.negative|g.negative)),this.iuor(g)},x.prototype.or=function(g){return this.length>g.length?this.clone().ior(g):g.clone().ior(this)},x.prototype.uor=function(g){return this.length>g.length?this.clone().iuor(g):g.clone().iuor(this)},x.prototype.iuand=function(g){var M;M=this.length>g.length?g:this;for(var T=0;T<M.length;T++)this.words[T]=this.words[T]&g.words[T];return this.length=M.length,this._strip()},x.prototype.iand=function(g){return k(!(this.negative|g.negative)),this.iuand(g)},x.prototype.and=function(g){return this.length>g.length?this.clone().iand(g):g.clone().iand(this)},x.prototype.uand=function(g){return this.length>g.length?this.clone().iuand(g):g.clone().iuand(this)},x.prototype.iuxor=function(g){var M,T;this.length>g.length?(M=this,T=g):(M=g,T=this);for(var B=0;B<T.length;B++)this.words[B]=M.words[B]^T.words[B];if(this!==M)for(;B<M.length;B++)this.words[B]=M.words[B];return this.length=M.length,this._strip()},x.prototype.ixor=function(g){return k(!(this.negative|g.negative)),this.iuxor(g)},x.prototype.xor=function(g){return this.length>g.length?this.clone().ixor(g):g.clone().ixor(this)},x.prototype.uxor=function(g){return this.length>g.length?this.clone().iuxor(g):g.clone().iuxor(this)},x.prototype.inotn=function(g){k("number"==typeof g&&g>=0);var M=0|Math.ceil(g/26),T=g%26;this._expand(M),T>0&&M--;for(var B=0;B<M;B++)this.words[B]=67108863&~this.words[B];return T>0&&(this.words[B]=~this.words[B]&67108863>>26-T),this._strip()},x.prototype.notn=function(g){return this.clone().inotn(g)},x.prototype.setn=function(g,M){k("number"==typeof g&&g>=0);var T=g/26|0,B=g%26;return this._expand(T+1),this.words[T]=M?this.words[T]|1<<B:this.words[T]&~(1<<B),this._strip()},x.prototype.iadd=function(g){var M,T,B;if(0!==this.negative&&0===g.negative)return this.negative=0,M=this.isub(g),this.negative^=1,this._normSign();if(0===this.negative&&0!==g.negative)return g.negative=0,M=this.isub(g),g.negative=1,M._normSign();this.length>g.length?(T=this,B=g):(T=g,B=this);for(var S=0,s=0;s<B.length;s++)this.words[s]=67108863&(M=(0|T.words[s])+(0|B.words[s])+S),S=M>>>26;for(;0!==S&&s<T.length;s++)this.words[s]=67108863&(M=(0|T.words[s])+S),S=M>>>26;if(this.length=T.length,0!==S)this.words[this.length]=S,this.length++;else if(T!==this)for(;s<T.length;s++)this.words[s]=T.words[s];return this},x.prototype.add=function(g){var M;return 0!==g.negative&&0===this.negative?(g.negative=0,M=this.sub(g),g.negative^=1,M):0===g.negative&&0!==this.negative?(this.negative=0,M=g.sub(this),this.negative=1,M):this.length>g.length?this.clone().iadd(g):g.clone().iadd(this)},x.prototype.isub=function(g){if(0!==g.negative){g.negative=0;var M=this.iadd(g);return g.negative=1,M._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(g),this.negative=1,this._normSign();var B,S,T=this.cmp(g);if(0===T)return this.negative=0,this.length=1,this.words[0]=0,this;T>0?(B=this,S=g):(B=g,S=this);for(var s=0,v=0;v<S.length;v++)s=(M=(0|B.words[v])-(0|S.words[v])+s)>>26,this.words[v]=67108863&M;for(;0!==s&&v<B.length;v++)s=(M=(0|B.words[v])+s)>>26,this.words[v]=67108863&M;if(0===s&&v<B.length&&B!==this)for(;v<B.length;v++)this.words[v]=B.words[v];return this.length=Math.max(this.length,v),B!==this&&(this.negative=1),this._strip()},x.prototype.sub=function(g){return this.clone().isub(g)};var Z=function(g,M,T){var W,K,ee,B=g.words,S=M.words,s=T.words,v=0,ce=0|B[0],_e=8191&ce,Oe=ce>>>13,Ve=0|B[1],Se=8191&Ve,we=Ve>>>13,Ue=0|B[2],ye=8191&Ue,De=Ue>>>13,pe=0|B[3],ue=8191&pe,Q=pe>>>13,oe=0|B[4],fe=8191&oe,Ee=oe>>>13,Re=0|B[5],$e=8191&Re,Fe=Re>>>13,_t=0|B[6],We=8191&_t,Le=_t>>>13,lt=0|B[7],N=8191&lt,_=lt>>>13,m=0|B[8],U=8191&m,ne=m>>>13,ge=0|B[9],Ae=8191&ge,tt=ge>>>13,Bt=0|S[0],gt=8191&Bt,It=Bt>>>13,Zt=0|S[1],mn=8191&Zt,dn=Zt>>>13,ar=0|S[2],An=8191&ar,en=ar>>>13,Qt=0|S[3],Et=8191&Qt,ft=Qt>>>13,Ht=0|S[4],qt=8191&Ht,hn=Ht>>>13,hr=0|S[5],vt=8191&hr,St=hr>>>13,Mt=0|S[6],Ye=8191&Mt,nt=Mt>>>13,Wt=0|S[7],Nt=8191&Wt,un=Wt>>>13,Wn=0|S[8],En=8191&Wn,kn=Wn>>>13,Or=0|S[9],Jn=8191&Or,Fn=Or>>>13;T.negative=g.negative^M.negative,T.length=19;var Lt=(v+(W=Math.imul(_e,gt))|0)+((8191&(K=(K=Math.imul(_e,It))+Math.imul(Oe,gt)|0))<<13)|0;v=((ee=Math.imul(Oe,It))+(K>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,W=Math.imul(Se,gt),K=(K=Math.imul(Se,It))+Math.imul(we,gt)|0,ee=Math.imul(we,It);var et=(v+(W=W+Math.imul(_e,mn)|0)|0)+((8191&(K=(K=K+Math.imul(_e,dn)|0)+Math.imul(Oe,mn)|0))<<13)|0;v=((ee=ee+Math.imul(Oe,dn)|0)+(K>>>13)|0)+(et>>>26)|0,et&=67108863,W=Math.imul(ye,gt),K=(K=Math.imul(ye,It))+Math.imul(De,gt)|0,ee=Math.imul(De,It),W=W+Math.imul(Se,mn)|0,K=(K=K+Math.imul(Se,dn)|0)+Math.imul(we,mn)|0,ee=ee+Math.imul(we,dn)|0;var Te=(v+(W=W+Math.imul(_e,An)|0)|0)+((8191&(K=(K=K+Math.imul(_e,en)|0)+Math.imul(Oe,An)|0))<<13)|0;v=((ee=ee+Math.imul(Oe,en)|0)+(K>>>13)|0)+(Te>>>26)|0,Te&=67108863,W=Math.imul(ue,gt),K=(K=Math.imul(ue,It))+Math.imul(Q,gt)|0,ee=Math.imul(Q,It),W=W+Math.imul(ye,mn)|0,K=(K=K+Math.imul(ye,dn)|0)+Math.imul(De,mn)|0,ee=ee+Math.imul(De,dn)|0,W=W+Math.imul(Se,An)|0,K=(K=K+Math.imul(Se,en)|0)+Math.imul(we,An)|0,ee=ee+Math.imul(we,en)|0;var Ne=(v+(W=W+Math.imul(_e,Et)|0)|0)+((8191&(K=(K=K+Math.imul(_e,ft)|0)+Math.imul(Oe,Et)|0))<<13)|0;v=((ee=ee+Math.imul(Oe,ft)|0)+(K>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,W=Math.imul(fe,gt),K=(K=Math.imul(fe,It))+Math.imul(Ee,gt)|0,ee=Math.imul(Ee,It),W=W+Math.imul(ue,mn)|0,K=(K=K+Math.imul(ue,dn)|0)+Math.imul(Q,mn)|0,ee=ee+Math.imul(Q,dn)|0,W=W+Math.imul(ye,An)|0,K=(K=K+Math.imul(ye,en)|0)+Math.imul(De,An)|0,ee=ee+Math.imul(De,en)|0,W=W+Math.imul(Se,Et)|0,K=(K=K+Math.imul(Se,ft)|0)+Math.imul(we,Et)|0,ee=ee+Math.imul(we,ft)|0;var xt=(v+(W=W+Math.imul(_e,qt)|0)|0)+((8191&(K=(K=K+Math.imul(_e,hn)|0)+Math.imul(Oe,qt)|0))<<13)|0;v=((ee=ee+Math.imul(Oe,hn)|0)+(K>>>13)|0)+(xt>>>26)|0,xt&=67108863,W=Math.imul($e,gt),K=(K=Math.imul($e,It))+Math.imul(Fe,gt)|0,ee=Math.imul(Fe,It),W=W+Math.imul(fe,mn)|0,K=(K=K+Math.imul(fe,dn)|0)+Math.imul(Ee,mn)|0,ee=ee+Math.imul(Ee,dn)|0,W=W+Math.imul(ue,An)|0,K=(K=K+Math.imul(ue,en)|0)+Math.imul(Q,An)|0,ee=ee+Math.imul(Q,en)|0,W=W+Math.imul(ye,Et)|0,K=(K=K+Math.imul(ye,ft)|0)+Math.imul(De,Et)|0,ee=ee+Math.imul(De,ft)|0,W=W+Math.imul(Se,qt)|0,K=(K=K+Math.imul(Se,hn)|0)+Math.imul(we,qt)|0,ee=ee+Math.imul(we,hn)|0;var nn=(v+(W=W+Math.imul(_e,vt)|0)|0)+((8191&(K=(K=K+Math.imul(_e,St)|0)+Math.imul(Oe,vt)|0))<<13)|0;v=((ee=ee+Math.imul(Oe,St)|0)+(K>>>13)|0)+(nn>>>26)|0,nn&=67108863,W=Math.imul(We,gt),K=(K=Math.imul(We,It))+Math.imul(Le,gt)|0,ee=Math.imul(Le,It),W=W+Math.imul($e,mn)|0,K=(K=K+Math.imul($e,dn)|0)+Math.imul(Fe,mn)|0,ee=ee+Math.imul(Fe,dn)|0,W=W+Math.imul(fe,An)|0,K=(K=K+Math.imul(fe,en)|0)+Math.imul(Ee,An)|0,ee=ee+Math.imul(Ee,en)|0,W=W+Math.imul(ue,Et)|0,K=(K=K+Math.imul(ue,ft)|0)+Math.imul(Q,Et)|0,ee=ee+Math.imul(Q,ft)|0,W=W+Math.imul(ye,qt)|0,K=(K=K+Math.imul(ye,hn)|0)+Math.imul(De,qt)|0,ee=ee+Math.imul(De,hn)|0,W=W+Math.imul(Se,vt)|0,K=(K=K+Math.imul(Se,St)|0)+Math.imul(we,vt)|0,ee=ee+Math.imul(we,St)|0;var In=(v+(W=W+Math.imul(_e,Ye)|0)|0)+((8191&(K=(K=K+Math.imul(_e,nt)|0)+Math.imul(Oe,Ye)|0))<<13)|0;v=((ee=ee+Math.imul(Oe,nt)|0)+(K>>>13)|0)+(In>>>26)|0,In&=67108863,W=Math.imul(N,gt),K=(K=Math.imul(N,It))+Math.imul(_,gt)|0,ee=Math.imul(_,It),W=W+Math.imul(We,mn)|0,K=(K=K+Math.imul(We,dn)|0)+Math.imul(Le,mn)|0,ee=ee+Math.imul(Le,dn)|0,W=W+Math.imul($e,An)|0,K=(K=K+Math.imul($e,en)|0)+Math.imul(Fe,An)|0,ee=ee+Math.imul(Fe,en)|0,W=W+Math.imul(fe,Et)|0,K=(K=K+Math.imul(fe,ft)|0)+Math.imul(Ee,Et)|0,ee=ee+Math.imul(Ee,ft)|0,W=W+Math.imul(ue,qt)|0,K=(K=K+Math.imul(ue,hn)|0)+Math.imul(Q,qt)|0,ee=ee+Math.imul(Q,hn)|0,W=W+Math.imul(ye,vt)|0,K=(K=K+Math.imul(ye,St)|0)+Math.imul(De,vt)|0,ee=ee+Math.imul(De,St)|0,W=W+Math.imul(Se,Ye)|0,K=(K=K+Math.imul(Se,nt)|0)+Math.imul(we,Ye)|0,ee=ee+Math.imul(we,nt)|0;var Kn=(v+(W=W+Math.imul(_e,Nt)|0)|0)+((8191&(K=(K=K+Math.imul(_e,un)|0)+Math.imul(Oe,Nt)|0))<<13)|0;v=((ee=ee+Math.imul(Oe,un)|0)+(K>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,W=Math.imul(U,gt),K=(K=Math.imul(U,It))+Math.imul(ne,gt)|0,ee=Math.imul(ne,It),W=W+Math.imul(N,mn)|0,K=(K=K+Math.imul(N,dn)|0)+Math.imul(_,mn)|0,ee=ee+Math.imul(_,dn)|0,W=W+Math.imul(We,An)|0,K=(K=K+Math.imul(We,en)|0)+Math.imul(Le,An)|0,ee=ee+Math.imul(Le,en)|0,W=W+Math.imul($e,Et)|0,K=(K=K+Math.imul($e,ft)|0)+Math.imul(Fe,Et)|0,ee=ee+Math.imul(Fe,ft)|0,W=W+Math.imul(fe,qt)|0,K=(K=K+Math.imul(fe,hn)|0)+Math.imul(Ee,qt)|0,ee=ee+Math.imul(Ee,hn)|0,W=W+Math.imul(ue,vt)|0,K=(K=K+Math.imul(ue,St)|0)+Math.imul(Q,vt)|0,ee=ee+Math.imul(Q,St)|0,W=W+Math.imul(ye,Ye)|0,K=(K=K+Math.imul(ye,nt)|0)+Math.imul(De,Ye)|0,ee=ee+Math.imul(De,nt)|0,W=W+Math.imul(Se,Nt)|0,K=(K=K+Math.imul(Se,un)|0)+Math.imul(we,Nt)|0,ee=ee+Math.imul(we,un)|0;var er=(v+(W=W+Math.imul(_e,En)|0)|0)+((8191&(K=(K=K+Math.imul(_e,kn)|0)+Math.imul(Oe,En)|0))<<13)|0;v=((ee=ee+Math.imul(Oe,kn)|0)+(K>>>13)|0)+(er>>>26)|0,er&=67108863,W=Math.imul(Ae,gt),K=(K=Math.imul(Ae,It))+Math.imul(tt,gt)|0,ee=Math.imul(tt,It),W=W+Math.imul(U,mn)|0,K=(K=K+Math.imul(U,dn)|0)+Math.imul(ne,mn)|0,ee=ee+Math.imul(ne,dn)|0,W=W+Math.imul(N,An)|0,K=(K=K+Math.imul(N,en)|0)+Math.imul(_,An)|0,ee=ee+Math.imul(_,en)|0,W=W+Math.imul(We,Et)|0,K=(K=K+Math.imul(We,ft)|0)+Math.imul(Le,Et)|0,ee=ee+Math.imul(Le,ft)|0,W=W+Math.imul($e,qt)|0,K=(K=K+Math.imul($e,hn)|0)+Math.imul(Fe,qt)|0,ee=ee+Math.imul(Fe,hn)|0,W=W+Math.imul(fe,vt)|0,K=(K=K+Math.imul(fe,St)|0)+Math.imul(Ee,vt)|0,ee=ee+Math.imul(Ee,St)|0,W=W+Math.imul(ue,Ye)|0,K=(K=K+Math.imul(ue,nt)|0)+Math.imul(Q,Ye)|0,ee=ee+Math.imul(Q,nt)|0,W=W+Math.imul(ye,Nt)|0,K=(K=K+Math.imul(ye,un)|0)+Math.imul(De,Nt)|0,ee=ee+Math.imul(De,un)|0,W=W+Math.imul(Se,En)|0,K=(K=K+Math.imul(Se,kn)|0)+Math.imul(we,En)|0,ee=ee+Math.imul(we,kn)|0;var _r=(v+(W=W+Math.imul(_e,Jn)|0)|0)+((8191&(K=(K=K+Math.imul(_e,Fn)|0)+Math.imul(Oe,Jn)|0))<<13)|0;v=((ee=ee+Math.imul(Oe,Fn)|0)+(K>>>13)|0)+(_r>>>26)|0,_r&=67108863,W=Math.imul(Ae,mn),K=(K=Math.imul(Ae,dn))+Math.imul(tt,mn)|0,ee=Math.imul(tt,dn),W=W+Math.imul(U,An)|0,K=(K=K+Math.imul(U,en)|0)+Math.imul(ne,An)|0,ee=ee+Math.imul(ne,en)|0,W=W+Math.imul(N,Et)|0,K=(K=K+Math.imul(N,ft)|0)+Math.imul(_,Et)|0,ee=ee+Math.imul(_,ft)|0,W=W+Math.imul(We,qt)|0,K=(K=K+Math.imul(We,hn)|0)+Math.imul(Le,qt)|0,ee=ee+Math.imul(Le,hn)|0,W=W+Math.imul($e,vt)|0,K=(K=K+Math.imul($e,St)|0)+Math.imul(Fe,vt)|0,ee=ee+Math.imul(Fe,St)|0,W=W+Math.imul(fe,Ye)|0,K=(K=K+Math.imul(fe,nt)|0)+Math.imul(Ee,Ye)|0,ee=ee+Math.imul(Ee,nt)|0,W=W+Math.imul(ue,Nt)|0,K=(K=K+Math.imul(ue,un)|0)+Math.imul(Q,Nt)|0,ee=ee+Math.imul(Q,un)|0,W=W+Math.imul(ye,En)|0,K=(K=K+Math.imul(ye,kn)|0)+Math.imul(De,En)|0,ee=ee+Math.imul(De,kn)|0;var Tr=(v+(W=W+Math.imul(Se,Jn)|0)|0)+((8191&(K=(K=K+Math.imul(Se,Fn)|0)+Math.imul(we,Jn)|0))<<13)|0;v=((ee=ee+Math.imul(we,Fn)|0)+(K>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,W=Math.imul(Ae,An),K=(K=Math.imul(Ae,en))+Math.imul(tt,An)|0,ee=Math.imul(tt,en),W=W+Math.imul(U,Et)|0,K=(K=K+Math.imul(U,ft)|0)+Math.imul(ne,Et)|0,ee=ee+Math.imul(ne,ft)|0,W=W+Math.imul(N,qt)|0,K=(K=K+Math.imul(N,hn)|0)+Math.imul(_,qt)|0,ee=ee+Math.imul(_,hn)|0,W=W+Math.imul(We,vt)|0,K=(K=K+Math.imul(We,St)|0)+Math.imul(Le,vt)|0,ee=ee+Math.imul(Le,St)|0,W=W+Math.imul($e,Ye)|0,K=(K=K+Math.imul($e,nt)|0)+Math.imul(Fe,Ye)|0,ee=ee+Math.imul(Fe,nt)|0,W=W+Math.imul(fe,Nt)|0,K=(K=K+Math.imul(fe,un)|0)+Math.imul(Ee,Nt)|0,ee=ee+Math.imul(Ee,un)|0,W=W+Math.imul(ue,En)|0,K=(K=K+Math.imul(ue,kn)|0)+Math.imul(Q,En)|0,ee=ee+Math.imul(Q,kn)|0;var Br=(v+(W=W+Math.imul(ye,Jn)|0)|0)+((8191&(K=(K=K+Math.imul(ye,Fn)|0)+Math.imul(De,Jn)|0))<<13)|0;v=((ee=ee+Math.imul(De,Fn)|0)+(K>>>13)|0)+(Br>>>26)|0,Br&=67108863,W=Math.imul(Ae,Et),K=(K=Math.imul(Ae,ft))+Math.imul(tt,Et)|0,ee=Math.imul(tt,ft),W=W+Math.imul(U,qt)|0,K=(K=K+Math.imul(U,hn)|0)+Math.imul(ne,qt)|0,ee=ee+Math.imul(ne,hn)|0,W=W+Math.imul(N,vt)|0,K=(K=K+Math.imul(N,St)|0)+Math.imul(_,vt)|0,ee=ee+Math.imul(_,St)|0,W=W+Math.imul(We,Ye)|0,K=(K=K+Math.imul(We,nt)|0)+Math.imul(Le,Ye)|0,ee=ee+Math.imul(Le,nt)|0,W=W+Math.imul($e,Nt)|0,K=(K=K+Math.imul($e,un)|0)+Math.imul(Fe,Nt)|0,ee=ee+Math.imul(Fe,un)|0,W=W+Math.imul(fe,En)|0,K=(K=K+Math.imul(fe,kn)|0)+Math.imul(Ee,En)|0,ee=ee+Math.imul(Ee,kn)|0;var jr=(v+(W=W+Math.imul(ue,Jn)|0)|0)+((8191&(K=(K=K+Math.imul(ue,Fn)|0)+Math.imul(Q,Jn)|0))<<13)|0;v=((ee=ee+Math.imul(Q,Fn)|0)+(K>>>13)|0)+(jr>>>26)|0,jr&=67108863,W=Math.imul(Ae,qt),K=(K=Math.imul(Ae,hn))+Math.imul(tt,qt)|0,ee=Math.imul(tt,hn),W=W+Math.imul(U,vt)|0,K=(K=K+Math.imul(U,St)|0)+Math.imul(ne,vt)|0,ee=ee+Math.imul(ne,St)|0,W=W+Math.imul(N,Ye)|0,K=(K=K+Math.imul(N,nt)|0)+Math.imul(_,Ye)|0,ee=ee+Math.imul(_,nt)|0,W=W+Math.imul(We,Nt)|0,K=(K=K+Math.imul(We,un)|0)+Math.imul(Le,Nt)|0,ee=ee+Math.imul(Le,un)|0,W=W+Math.imul($e,En)|0,K=(K=K+Math.imul($e,kn)|0)+Math.imul(Fe,En)|0,ee=ee+Math.imul(Fe,kn)|0;var Zr=(v+(W=W+Math.imul(fe,Jn)|0)|0)+((8191&(K=(K=K+Math.imul(fe,Fn)|0)+Math.imul(Ee,Jn)|0))<<13)|0;v=((ee=ee+Math.imul(Ee,Fn)|0)+(K>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,W=Math.imul(Ae,vt),K=(K=Math.imul(Ae,St))+Math.imul(tt,vt)|0,ee=Math.imul(tt,St),W=W+Math.imul(U,Ye)|0,K=(K=K+Math.imul(U,nt)|0)+Math.imul(ne,Ye)|0,ee=ee+Math.imul(ne,nt)|0,W=W+Math.imul(N,Nt)|0,K=(K=K+Math.imul(N,un)|0)+Math.imul(_,Nt)|0,ee=ee+Math.imul(_,un)|0,W=W+Math.imul(We,En)|0,K=(K=K+Math.imul(We,kn)|0)+Math.imul(Le,En)|0,ee=ee+Math.imul(Le,kn)|0;var tn=(v+(W=W+Math.imul($e,Jn)|0)|0)+((8191&(K=(K=K+Math.imul($e,Fn)|0)+Math.imul(Fe,Jn)|0))<<13)|0;v=((ee=ee+Math.imul(Fe,Fn)|0)+(K>>>13)|0)+(tn>>>26)|0,tn&=67108863,W=Math.imul(Ae,Ye),K=(K=Math.imul(Ae,nt))+Math.imul(tt,Ye)|0,ee=Math.imul(tt,nt),W=W+Math.imul(U,Nt)|0,K=(K=K+Math.imul(U,un)|0)+Math.imul(ne,Nt)|0,ee=ee+Math.imul(ne,un)|0,W=W+Math.imul(N,En)|0,K=(K=K+Math.imul(N,kn)|0)+Math.imul(_,En)|0,ee=ee+Math.imul(_,kn)|0;var _n=(v+(W=W+Math.imul(We,Jn)|0)|0)+((8191&(K=(K=K+Math.imul(We,Fn)|0)+Math.imul(Le,Jn)|0))<<13)|0;v=((ee=ee+Math.imul(Le,Fn)|0)+(K>>>13)|0)+(_n>>>26)|0,_n&=67108863,W=Math.imul(Ae,Nt),K=(K=Math.imul(Ae,un))+Math.imul(tt,Nt)|0,ee=Math.imul(tt,un),W=W+Math.imul(U,En)|0,K=(K=K+Math.imul(U,kn)|0)+Math.imul(ne,En)|0,ee=ee+Math.imul(ne,kn)|0;var Tn=(v+(W=W+Math.imul(N,Jn)|0)|0)+((8191&(K=(K=K+Math.imul(N,Fn)|0)+Math.imul(_,Jn)|0))<<13)|0;v=((ee=ee+Math.imul(_,Fn)|0)+(K>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,W=Math.imul(Ae,En),K=(K=Math.imul(Ae,kn))+Math.imul(tt,En)|0,ee=Math.imul(tt,kn);var jn=(v+(W=W+Math.imul(U,Jn)|0)|0)+((8191&(K=(K=K+Math.imul(U,Fn)|0)+Math.imul(ne,Jn)|0))<<13)|0;v=((ee=ee+Math.imul(ne,Fn)|0)+(K>>>13)|0)+(jn>>>26)|0,jn&=67108863;var fr=(v+(W=Math.imul(Ae,Jn))|0)+((8191&(K=(K=Math.imul(Ae,Fn))+Math.imul(tt,Jn)|0))<<13)|0;return v=((ee=Math.imul(tt,Fn))+(K>>>13)|0)+(fr>>>26)|0,fr&=67108863,s[0]=Lt,s[1]=et,s[2]=Te,s[3]=Ne,s[4]=xt,s[5]=nn,s[6]=In,s[7]=Kn,s[8]=er,s[9]=_r,s[10]=Tr,s[11]=Br,s[12]=jr,s[13]=Zr,s[14]=tn,s[15]=_n,s[16]=Tn,s[17]=jn,s[18]=fr,0!==v&&(s[19]=v,T.length++),T};function ie(y,g,M){M.negative=g.negative^y.negative,M.length=y.length+g.length;for(var T=0,B=0,S=0;S<M.length-1;S++){var s=B;B=0;for(var v=67108863&T,W=Math.min(S,g.length-1),K=Math.max(0,S-y.length+1);K<=W;K++){var Oe=(0|y.words[S-K])*(0|g.words[K]),Ve=67108863&Oe;v=67108863&(Ve=Ve+v|0),B+=(s=(s=s+(Oe/67108864|0)|0)+(Ve>>>26)|0)>>>26,s&=67108863}M.words[S]=v,T=s,s=B}return 0!==T?M.words[S]=T:M.length--,M._strip()}function ae(y,g,M){return ie(y,g,M)}function se(y,g){this.x=y,this.y=g}Math.imul||(Z=J),x.prototype.mulTo=function(g,M){var B=this.length+g.length;return 10===this.length&&10===g.length?Z(this,g,M):B<63?J(this,g,M):B<1024?ie(this,g,M):ae(this,g,M)},se.prototype.makeRBT=function(g){for(var M=new Array(g),T=x.prototype._countBits(g)-1,B=0;B<g;B++)M[B]=this.revBin(B,T,g);return M},se.prototype.revBin=function(g,M,T){if(0===g||g===T-1)return g;for(var B=0,S=0;S<M;S++)B|=(1&g)<<M-S-1,g>>=1;return B},se.prototype.permute=function(g,M,T,B,S,s){for(var v=0;v<s;v++)B[v]=M[g[v]],S[v]=T[g[v]]},se.prototype.transform=function(g,M,T,B,S,s){this.permute(s,g,M,T,B,S);for(var v=1;v<S;v<<=1)for(var W=v<<1,K=Math.cos(2*Math.PI/W),ee=Math.sin(2*Math.PI/W),ce=0;ce<S;ce+=W)for(var _e=K,Oe=ee,Ve=0;Ve<v;Ve++){var Se=T[ce+Ve],we=B[ce+Ve],Ue=T[ce+Ve+v],ye=B[ce+Ve+v],De=_e*Ue-Oe*ye;ye=_e*ye+Oe*Ue,T[ce+Ve]=Se+(Ue=De),B[ce+Ve]=we+ye,T[ce+Ve+v]=Se-Ue,B[ce+Ve+v]=we-ye,Ve!==W&&(De=K*_e-ee*Oe,Oe=K*Oe+ee*_e,_e=De)}},se.prototype.guessLen13b=function(g,M){var T=1|Math.max(M,g),B=1&T,S=0;for(T=T/2|0;T;T>>>=1)S++;return 1<<S+1+B},se.prototype.conjugate=function(g,M,T){if(!(T<=1))for(var B=0;B<T/2;B++){var S=g[B];g[B]=g[T-B-1],g[T-B-1]=S,S=M[B],M[B]=-M[T-B-1],M[T-B-1]=-S}},se.prototype.normalize13b=function(g,M){for(var T=0,B=0;B<M/2;B++){var S=8192*Math.round(g[2*B+1]/M)+Math.round(g[2*B]/M)+T;g[B]=67108863&S,T=S<67108864?0:S/67108864|0}return g},se.prototype.convert13b=function(g,M,T,B){for(var S=0,s=0;s<M;s++)T[2*s]=8191&(S+=0|g[s]),T[2*s+1]=8191&(S>>>=13),S>>>=13;for(s=2*M;s<B;++s)T[s]=0;k(0===S),k(!(-8192&S))},se.prototype.stub=function(g){for(var M=new Array(g),T=0;T<g;T++)M[T]=0;return M},se.prototype.mulp=function(g,M,T){var B=2*this.guessLen13b(g.length,M.length),S=this.makeRBT(B),s=this.stub(B),v=new Array(B),W=new Array(B),K=new Array(B),ee=new Array(B),ce=new Array(B),_e=new Array(B),Oe=T.words;Oe.length=B,this.convert13b(g.words,g.length,v,B),this.convert13b(M.words,M.length,ee,B),this.transform(v,s,W,K,B,S),this.transform(ee,s,ce,_e,B,S);for(var Ve=0;Ve<B;Ve++){var Se=W[Ve]*ce[Ve]-K[Ve]*_e[Ve];K[Ve]=W[Ve]*_e[Ve]+K[Ve]*ce[Ve],W[Ve]=Se}return this.conjugate(W,K,B),this.transform(W,K,Oe,s,B,S),this.conjugate(Oe,s,B),this.normalize13b(Oe,B),T.negative=g.negative^M.negative,T.length=g.length+M.length,T._strip()},x.prototype.mul=function(g){var M=new x(null);return M.words=new Array(this.length+g.length),this.mulTo(g,M)},x.prototype.mulf=function(g){var M=new x(null);return M.words=new Array(this.length+g.length),ae(this,g,M)},x.prototype.imul=function(g){return this.clone().mulTo(g,this)},x.prototype.imuln=function(g){var M=g<0;M&&(g=-g),k("number"==typeof g),k(g<67108864);for(var T=0,B=0;B<this.length;B++){var S=(0|this.words[B])*g,s=(67108863&S)+(67108863&T);T>>=26,T+=S/67108864|0,T+=s>>>26,this.words[B]=67108863&s}return 0!==T&&(this.words[B]=T,this.length++),M?this.ineg():this},x.prototype.muln=function(g){return this.clone().imuln(g)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(g){var M=function te(y){for(var g=new Array(y.bitLength()),M=0;M<g.length;M++)g[M]=y.words[M/26|0]>>>M%26&1;return g}(g);if(0===M.length)return new x(1);for(var T=this,B=0;B<M.length&&0===M[B];B++,T=T.sqr());if(++B<M.length)for(var S=T.sqr();B<M.length;B++,S=S.sqr())0!==M[B]&&(T=T.mul(S));return T},x.prototype.iushln=function(g){k("number"==typeof g&&g>=0);var S,M=g%26,T=(g-M)/26,B=67108863>>>26-M<<26-M;if(0!==M){var s=0;for(S=0;S<this.length;S++){var v=this.words[S]&B;this.words[S]=(0|this.words[S])-v<<M|s,s=v>>>26-M}s&&(this.words[S]=s,this.length++)}if(0!==T){for(S=this.length-1;S>=0;S--)this.words[S+T]=this.words[S];for(S=0;S<T;S++)this.words[S]=0;this.length+=T}return this._strip()},x.prototype.ishln=function(g){return k(0===this.negative),this.iushln(g)},x.prototype.iushrn=function(g,M,T){var B;k("number"==typeof g&&g>=0),B=M?(M-M%26)/26:0;var S=g%26,s=Math.min((g-S)/26,this.length),v=67108863^67108863>>>S<<S,W=T;if(B-=s,B=Math.max(0,B),W){for(var K=0;K<s;K++)W.words[K]=this.words[K];W.length=s}if(0!==s)if(this.length>s)for(this.length-=s,K=0;K<this.length;K++)this.words[K]=this.words[K+s];else this.words[0]=0,this.length=1;var ee=0;for(K=this.length-1;K>=0&&(0!==ee||K>=B);K--){var ce=0|this.words[K];this.words[K]=ee<<26-S|ce>>>S,ee=ce&v}return W&&0!==ee&&(W.words[W.length++]=ee),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},x.prototype.ishrn=function(g,M,T){return k(0===this.negative),this.iushrn(g,M,T)},x.prototype.shln=function(g){return this.clone().ishln(g)},x.prototype.ushln=function(g){return this.clone().iushln(g)},x.prototype.shrn=function(g){return this.clone().ishrn(g)},x.prototype.ushrn=function(g){return this.clone().iushrn(g)},x.prototype.testn=function(g){k("number"==typeof g&&g>=0);var M=g%26,T=(g-M)/26;return!(this.length<=T||!(this.words[T]&1<<M))},x.prototype.imaskn=function(g){k("number"==typeof g&&g>=0);var M=g%26,T=(g-M)/26;return k(0===this.negative,"imaskn works only with positive numbers"),this.length<=T?this:(0!==M&&T++,this.length=Math.min(T,this.length),0!==M&&(this.words[this.length-1]&=67108863^67108863>>>M<<M),this._strip())},x.prototype.maskn=function(g){return this.clone().imaskn(g)},x.prototype.iaddn=function(g){return k("number"==typeof g),k(g<67108864),g<0?this.isubn(-g):0!==this.negative?1===this.length&&(0|this.words[0])<=g?(this.words[0]=g-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(g),this.negative=1,this):this._iaddn(g)},x.prototype._iaddn=function(g){this.words[0]+=g;for(var M=0;M<this.length&&this.words[M]>=67108864;M++)this.words[M]-=67108864,M===this.length-1?this.words[M+1]=1:this.words[M+1]++;return this.length=Math.max(this.length,M+1),this},x.prototype.isubn=function(g){if(k("number"==typeof g),k(g<67108864),g<0)return this.iaddn(-g);if(0!==this.negative)return this.negative=0,this.iaddn(g),this.negative=1,this;if(this.words[0]-=g,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var M=0;M<this.length&&this.words[M]<0;M++)this.words[M]+=67108864,this.words[M+1]-=1;return this._strip()},x.prototype.addn=function(g){return this.clone().iaddn(g)},x.prototype.subn=function(g){return this.clone().isubn(g)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(g,M,T){var S;this._expand(g.length+T);var s,v=0;for(S=0;S<g.length;S++){s=(0|this.words[S+T])+v;var W=(0|g.words[S])*M;v=((s-=67108863&W)>>26)-(W/67108864|0),this.words[S+T]=67108863&s}for(;S<this.length-T;S++)v=(s=(0|this.words[S+T])+v)>>26,this.words[S+T]=67108863&s;if(0===v)return this._strip();for(k(-1===v),v=0,S=0;S<this.length;S++)v=(s=-(0|this.words[S])+v)>>26,this.words[S]=67108863&s;return this.negative=1,this._strip()},x.prototype._wordDiv=function(g,M){var T,B=this.clone(),S=g,s=0|S.words[S.length-1];0!=(T=26-this._countBits(s))&&(S=S.ushln(T),B.iushln(T),s=0|S.words[S.length-1]);var K,W=B.length-S.length;if("mod"!==M){(K=new x(null)).length=W+1,K.words=new Array(K.length);for(var ee=0;ee<K.length;ee++)K.words[ee]=0}var ce=B.clone()._ishlnsubmul(S,1,W);0===ce.negative&&(B=ce,K&&(K.words[W]=1));for(var _e=W-1;_e>=0;_e--){var Oe=67108864*(0|B.words[S.length+_e])+(0|B.words[S.length+_e-1]);for(Oe=Math.min(Oe/s|0,67108863),B._ishlnsubmul(S,Oe,_e);0!==B.negative;)Oe--,B.negative=0,B._ishlnsubmul(S,1,_e),B.isZero()||(B.negative^=1);K&&(K.words[_e]=Oe)}return K&&K._strip(),B._strip(),"div"!==M&&0!==T&&B.iushrn(T),{div:K||null,mod:B}},x.prototype.divmod=function(g,M,T){return k(!g.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===g.negative?(s=this.neg().divmod(g,M),"mod"!==M&&(B=s.div.neg()),"div"!==M&&(S=s.mod.neg(),T&&0!==S.negative&&S.iadd(g)),{div:B,mod:S}):0===this.negative&&0!==g.negative?(s=this.divmod(g.neg(),M),"mod"!==M&&(B=s.div.neg()),{div:B,mod:s.mod}):this.negative&g.negative?(s=this.neg().divmod(g.neg(),M),"div"!==M&&(S=s.mod.neg(),T&&0!==S.negative&&S.isub(g)),{div:s.div,mod:S}):g.length>this.length||this.cmp(g)<0?{div:new x(0),mod:this}:1===g.length?"div"===M?{div:this.divn(g.words[0]),mod:null}:"mod"===M?{div:null,mod:new x(this.modrn(g.words[0]))}:{div:this.divn(g.words[0]),mod:new x(this.modrn(g.words[0]))}:this._wordDiv(g,M);var B,S,s},x.prototype.div=function(g){return this.divmod(g,"div",!1).div},x.prototype.mod=function(g){return this.divmod(g,"mod",!1).mod},x.prototype.umod=function(g){return this.divmod(g,"mod",!0).mod},x.prototype.divRound=function(g){var M=this.divmod(g);if(M.mod.isZero())return M.div;var T=0!==M.div.negative?M.mod.isub(g):M.mod,B=g.ushrn(1),S=g.andln(1),s=T.cmp(B);return s<0||1===S&&0===s?M.div:0!==M.div.negative?M.div.isubn(1):M.div.iaddn(1)},x.prototype.modrn=function(g){var M=g<0;M&&(g=-g),k(g<=67108863);for(var T=(1<<26)%g,B=0,S=this.length-1;S>=0;S--)B=(T*B+(0|this.words[S]))%g;return M?-B:B},x.prototype.modn=function(g){return this.modrn(g)},x.prototype.idivn=function(g){var M=g<0;M&&(g=-g),k(g<=67108863);for(var T=0,B=this.length-1;B>=0;B--){var S=(0|this.words[B])+67108864*T;this.words[B]=S/g|0,T=S%g}return this._strip(),M?this.ineg():this},x.prototype.divn=function(g){return this.clone().idivn(g)},x.prototype.egcd=function(g){k(0===g.negative),k(!g.isZero());var M=this,T=g.clone();M=0!==M.negative?M.umod(g):M.clone();for(var B=new x(1),S=new x(0),s=new x(0),v=new x(1),W=0;M.isEven()&&T.isEven();)M.iushrn(1),T.iushrn(1),++W;for(var K=T.clone(),ee=M.clone();!M.isZero();){for(var ce=0,_e=1;!(M.words[0]&_e)&&ce<26;++ce,_e<<=1);if(ce>0)for(M.iushrn(ce);ce-- >0;)(B.isOdd()||S.isOdd())&&(B.iadd(K),S.isub(ee)),B.iushrn(1),S.iushrn(1);for(var Oe=0,Ve=1;!(T.words[0]&Ve)&&Oe<26;++Oe,Ve<<=1);if(Oe>0)for(T.iushrn(Oe);Oe-- >0;)(s.isOdd()||v.isOdd())&&(s.iadd(K),v.isub(ee)),s.iushrn(1),v.iushrn(1);M.cmp(T)>=0?(M.isub(T),B.isub(s),S.isub(v)):(T.isub(M),s.isub(B),v.isub(S))}return{a:s,b:v,gcd:T.iushln(W)}},x.prototype._invmp=function(g){k(0===g.negative),k(!g.isZero());var ce,M=this,T=g.clone();M=0!==M.negative?M.umod(g):M.clone();for(var B=new x(1),S=new x(0),s=T.clone();M.cmpn(1)>0&&T.cmpn(1)>0;){for(var v=0,W=1;!(M.words[0]&W)&&v<26;++v,W<<=1);if(v>0)for(M.iushrn(v);v-- >0;)B.isOdd()&&B.iadd(s),B.iushrn(1);for(var K=0,ee=1;!(T.words[0]&ee)&&K<26;++K,ee<<=1);if(K>0)for(T.iushrn(K);K-- >0;)S.isOdd()&&S.iadd(s),S.iushrn(1);M.cmp(T)>=0?(M.isub(T),B.isub(S)):(T.isub(M),S.isub(B))}return(ce=0===M.cmpn(1)?B:S).cmpn(0)<0&&ce.iadd(g),ce},x.prototype.gcd=function(g){if(this.isZero())return g.abs();if(g.isZero())return this.abs();var M=this.clone(),T=g.clone();M.negative=0,T.negative=0;for(var B=0;M.isEven()&&T.isEven();B++)M.iushrn(1),T.iushrn(1);for(;;){for(;M.isEven();)M.iushrn(1);for(;T.isEven();)T.iushrn(1);var S=M.cmp(T);if(S<0){var s=M;M=T,T=s}else if(0===S||0===T.cmpn(1))break;M.isub(T)}return T.iushln(B)},x.prototype.invm=function(g){return this.egcd(g).a.umod(g)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(g){return this.words[0]&g},x.prototype.bincn=function(g){k("number"==typeof g);var M=g%26,T=(g-M)/26,B=1<<M;if(this.length<=T)return this._expand(T+1),this.words[T]|=B,this;for(var S=B,s=T;0!==S&&s<this.length;s++){var v=0|this.words[s];S=(v+=S)>>>26,this.words[s]=v&=67108863}return 0!==S&&(this.words[s]=S,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(g){var T,M=g<0;if(0!==this.negative&&!M)return-1;if(0===this.negative&&M)return 1;if(this._strip(),this.length>1)T=1;else{M&&(g=-g),k(g<=67108863,"Number is too big");var B=0|this.words[0];T=B===g?0:B<g?-1:1}return 0!==this.negative?0|-T:T},x.prototype.cmp=function(g){if(0!==this.negative&&0===g.negative)return-1;if(0===this.negative&&0!==g.negative)return 1;var M=this.ucmp(g);return 0!==this.negative?0|-M:M},x.prototype.ucmp=function(g){if(this.length>g.length)return 1;if(this.length<g.length)return-1;for(var M=0,T=this.length-1;T>=0;T--){var B=0|this.words[T],S=0|g.words[T];if(B!==S){B<S?M=-1:B>S&&(M=1);break}}return M},x.prototype.gtn=function(g){return 1===this.cmpn(g)},x.prototype.gt=function(g){return 1===this.cmp(g)},x.prototype.gten=function(g){return this.cmpn(g)>=0},x.prototype.gte=function(g){return this.cmp(g)>=0},x.prototype.ltn=function(g){return-1===this.cmpn(g)},x.prototype.lt=function(g){return-1===this.cmp(g)},x.prototype.lten=function(g){return this.cmpn(g)<=0},x.prototype.lte=function(g){return this.cmp(g)<=0},x.prototype.eqn=function(g){return 0===this.cmpn(g)},x.prototype.eq=function(g){return 0===this.cmp(g)},x.red=function(g){return new a(g)},x.prototype.toRed=function(g){return k(!this.red,"Already a number in reduction context"),k(0===this.negative,"red works only with positives"),g.convertTo(this)._forceRed(g)},x.prototype.fromRed=function(){return k(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(g){return this.red=g,this},x.prototype.forceRed=function(g){return k(!this.red,"Already a number in reduction context"),this._forceRed(g)},x.prototype.redAdd=function(g){return k(this.red,"redAdd works only with red numbers"),this.red.add(this,g)},x.prototype.redIAdd=function(g){return k(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,g)},x.prototype.redSub=function(g){return k(this.red,"redSub works only with red numbers"),this.red.sub(this,g)},x.prototype.redISub=function(g){return k(this.red,"redISub works only with red numbers"),this.red.isub(this,g)},x.prototype.redShl=function(g){return k(this.red,"redShl works only with red numbers"),this.red.shl(this,g)},x.prototype.redMul=function(g){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.mul(this,g)},x.prototype.redIMul=function(g){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.imul(this,g)},x.prototype.redSqr=function(){return k(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return k(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return k(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return k(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return k(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(g){return k(this.red&&!g.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,g)};var de={k256:null,p224:null,p192:null,p25519:null};function le(y,g){this.name=y,this.p=new x(g,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function be(){le.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function xe(){le.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ke(){le.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function C(){le.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function a(y){if("string"==typeof y){var g=x._prime(y);this.m=g.p,this.prime=g}else k(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}function f(y){a.call(this,y),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}le.prototype._tmp=function(){var g=new x(null);return g.words=new Array(Math.ceil(this.n/13)),g},le.prototype.ireduce=function(g){var T,M=g;do{this.split(M,this.tmp),T=(M=(M=this.imulK(M)).iadd(this.tmp)).bitLength()}while(T>this.n);var B=T<this.n?-1:M.ucmp(this.p);return 0===B?(M.words[0]=0,M.length=1):B>0?M.isub(this.p):void 0!==M.strip?M.strip():M._strip(),M},le.prototype.split=function(g,M){g.iushrn(this.n,0,M)},le.prototype.imulK=function(g){return g.imul(this.k)},z(be,le),be.prototype.split=function(g,M){for(var T=4194303,B=Math.min(g.length,9),S=0;S<B;S++)M.words[S]=g.words[S];if(M.length=B,g.length<=9)return g.words[0]=0,void(g.length=1);var s=g.words[9];for(M.words[M.length++]=s&T,S=10;S<g.length;S++){var v=0|g.words[S];g.words[S-10]=(v&T)<<4|s>>>22,s=v}g.words[S-10]=s>>>=22,g.length-=0===s&&g.length>10?10:9},be.prototype.imulK=function(g){g.words[g.length]=0,g.words[g.length+1]=0,g.length+=2;for(var M=0,T=0;T<g.length;T++){var B=0|g.words[T];g.words[T]=67108863&(M+=977*B),M=64*B+(M/67108864|0)}return 0===g.words[g.length-1]&&(g.length--,0===g.words[g.length-1]&&g.length--),g},z(xe,le),z(ke,le),z(C,le),C.prototype.imulK=function(g){for(var M=0,T=0;T<g.length;T++){var B=19*(0|g.words[T])+M,S=67108863&B;B>>>=26,g.words[T]=S,M=B}return 0!==M&&(g.words[g.length++]=M),g},x._prime=function(g){if(de[g])return de[g];var M;if("k256"===g)M=new be;else if("p224"===g)M=new xe;else if("p192"===g)M=new ke;else{if("p25519"!==g)throw new Error("Unknown prime "+g);M=new C}return de[g]=M,M},a.prototype._verify1=function(g){k(0===g.negative,"red works only with positives"),k(g.red,"red works only with red numbers")},a.prototype._verify2=function(g,M){k(!(g.negative|M.negative),"red works only with positives"),k(g.red&&g.red===M.red,"red works only with red numbers")},a.prototype.imod=function(g){return this.prime?this.prime.ireduce(g)._forceRed(this):(L(g,g.umod(this.m)._forceRed(this)),g)},a.prototype.neg=function(g){return g.isZero()?g.clone():this.m.sub(g)._forceRed(this)},a.prototype.add=function(g,M){this._verify2(g,M);var T=g.add(M);return T.cmp(this.m)>=0&&T.isub(this.m),T._forceRed(this)},a.prototype.iadd=function(g,M){this._verify2(g,M);var T=g.iadd(M);return T.cmp(this.m)>=0&&T.isub(this.m),T},a.prototype.sub=function(g,M){this._verify2(g,M);var T=g.sub(M);return T.cmpn(0)<0&&T.iadd(this.m),T._forceRed(this)},a.prototype.isub=function(g,M){this._verify2(g,M);var T=g.isub(M);return T.cmpn(0)<0&&T.iadd(this.m),T},a.prototype.shl=function(g,M){return this._verify1(g),this.imod(g.ushln(M))},a.prototype.imul=function(g,M){return this._verify2(g,M),this.imod(g.imul(M))},a.prototype.mul=function(g,M){return this._verify2(g,M),this.imod(g.mul(M))},a.prototype.isqr=function(g){return this.imul(g,g.clone())},a.prototype.sqr=function(g){return this.mul(g,g)},a.prototype.sqrt=function(g){if(g.isZero())return g.clone();var M=this.m.andln(3);if(k(M%2==1),3===M){var T=this.m.add(new x(1)).iushrn(2);return this.pow(g,T)}for(var B=this.m.subn(1),S=0;!B.isZero()&&0===B.andln(1);)S++,B.iushrn(1);k(!B.isZero());var s=new x(1).toRed(this),v=s.redNeg(),W=this.m.subn(1).iushrn(1),K=this.m.bitLength();for(K=new x(2*K*K).toRed(this);0!==this.pow(K,W).cmp(v);)K.redIAdd(v);for(var ee=this.pow(K,B),ce=this.pow(g,B.addn(1).iushrn(1)),_e=this.pow(g,B),Oe=S;0!==_e.cmp(s);){for(var Ve=_e,Se=0;0!==Ve.cmp(s);Se++)Ve=Ve.redSqr();k(Se<Oe);var we=this.pow(ee,new x(1).iushln(Oe-Se-1));ce=ce.redMul(we),ee=we.redSqr(),_e=_e.redMul(ee),Oe=Se}return ce},a.prototype.invm=function(g){var M=g._invmp(this.m);return 0!==M.negative?(M.negative=0,this.imod(M).redNeg()):this.imod(M)},a.prototype.pow=function(g,M){if(M.isZero())return new x(1).toRed(this);if(0===M.cmpn(1))return g.clone();var B=new Array(16);B[0]=new x(1).toRed(this),B[1]=g;for(var S=2;S<B.length;S++)B[S]=this.mul(B[S-1],g);var s=B[0],v=0,W=0,K=M.bitLength()%26;for(0===K&&(K=26),S=M.length-1;S>=0;S--){for(var ee=M.words[S],ce=K-1;ce>=0;ce--){var _e=ee>>ce&1;s!==B[0]&&(s=this.sqr(s)),0!==_e||0!==v?(v<<=1,v|=_e,(4==++W||0===S&&0===ce)&&(s=this.mul(s,B[v]),W=0,v=0)):W=0}K=26}return s},a.prototype.convertTo=function(g){var M=g.umod(this.m);return M===g?M.clone():M},a.prototype.convertFrom=function(g){var M=g.clone();return M.red=null,M},x.mont=function(g){return new f(g)},z(f,a),f.prototype.convertTo=function(g){return this.imod(g.ushln(this.shift))},f.prototype.convertFrom=function(g){var M=this.imod(g.mul(this.rinv));return M.red=null,M},f.prototype.imul=function(g,M){if(g.isZero()||M.isZero())return g.words[0]=0,g.length=1,g;var T=g.imul(M),B=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=T.isub(B).iushrn(this.shift),s=S;return S.cmp(this.m)>=0?s=S.isub(this.m):S.cmpn(0)<0&&(s=S.iadd(this.m)),s._forceRed(this)},f.prototype.mul=function(g,M){if(g.isZero()||M.isZero())return new x(0)._forceRed(this);var T=g.mul(M),B=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=T.isub(B).iushrn(this.shift),s=S;return S.cmp(this.m)>=0?s=S.isub(this.m):S.cmpn(0)<0&&(s=S.iadd(this.m)),s._forceRed(this)},f.prototype.invm=function(g){return this.imod(g._invmp(this.m).mul(this.r2))._forceRed(this)}}(je=w.nmd(je),this)},35294:(je,H,w)=>{var d;function E(z){this.rand=z}if(je.exports=function(x){return d||(d=new E(null)),d.generate(x)},je.exports.Rand=E,E.prototype.generate=function(x){return this._rand(x)},E.prototype._rand=function(x){if(this.rand.getBytes)return this.rand.getBytes(x);for(var O=new Uint8Array(x),A=0;A<O.length;A++)O[A]=this.rand.getByte();return O},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?E.prototype._rand=function(x){var O=new Uint8Array(x);return self.crypto.getRandomValues(O),O}:self.msCrypto&&self.msCrypto.getRandomValues?E.prototype._rand=function(x){var O=new Uint8Array(x);return self.msCrypto.getRandomValues(O),O}:"object"==typeof window&&(E.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var k=w(91426);if("function"!=typeof k.randomBytes)throw new Error("Not supported");E.prototype._rand=function(x){return k.randomBytes(x)}}catch{}},23963:(je,H,w)=>{"use strict";const{AbstractLevel:d}=w(75929),E=w(61747),k=w(81725),{fromCallback:z}=w(42381),{Iterator:x}=w(18229),O=w(97899),A=w(19857),P=w(57059),F="level-js-",L=Symbol("idb"),D=Symbol("namePrefix"),X=Symbol("location"),j=Symbol("version"),G=Symbol("store"),re=Symbol("onComplete"),te=Symbol("promise");H.BrowserLevel=(()=>{class Z extends d{constructor(ae,se,de){if("function"==typeof se||"function"==typeof de)throw new E("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});const{prefix:le,version:be,...xe}=se||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},xe),"string"!=typeof ae)throw new Error("constructor requires a location string argument");this[X]=ae,this[D]=le??F,this[j]=parseInt(be||1,10),this[L]=null}get location(){return this[X]}get namePrefix(){return this[D]}get version(){return this[j]}get db(){return this[L]}get type(){return"browser-level"}_open(ae,se){const de=indexedDB.open(this[D]+this[X],this[j]);de.onerror=function(){se(de.error||new Error("unknown error"))},de.onsuccess=()=>{this[L]=de.result,se()},de.onupgradeneeded=le=>{const be=le.target.result;be.objectStoreNames.contains(this[X])||be.createObjectStore(this[X])}}[G](ae){return this[L].transaction([this[X]],ae).objectStore(this[X])}[re](ae,se){const de=ae.transaction;de.onabort=function(){se(de.error||new Error("aborted by user"))},de.oncomplete=function(){se(null,ae.result)}}_get(ae,se,de){const le=this[G]("readonly");let be;try{be=le.get(ae)}catch(xe){return this.nextTick(de,xe)}this[re](be,function(xe,ke){return xe?de(xe):void 0===ke?de(new E("Entry not found",{code:"LEVEL_NOT_FOUND"})):void de(null,O(ke))})}_getMany(ae,se,de){const le=this[G]("readonly"),be=ae.map(xe=>ke=>{let C;try{C=le.get(xe)}catch(a){return ke(a)}C.onsuccess=()=>{const a=C.result;ke(null,void 0===a?a:O(a))},C.onerror=a=>{a.stopPropagation(),ke(C.error)}});k(be,16,de)}_del(ae,se,de){const le=this[G]("readwrite");let be;try{be=le.delete(ae)}catch(xe){return this.nextTick(de,xe)}this[re](be,de)}_put(ae,se,de,le){const be=this[G]("readwrite");let xe;try{xe=be.put(se,ae)}catch(ke){return this.nextTick(le,ke)}this[re](xe,le)}_iterator(ae){return new x(this,this[X],ae)}_batch(ae,se,de){const le=this[G]("readwrite"),be=le.transaction;let ke,xe=0;be.onabort=function(){de(ke||be.error||new Error("aborted by user"))},be.oncomplete=function(){de()},function C(){const a=ae[xe++],f=a.key;let y;try{y="del"===a.type?le.delete(f):le.put(a.value,f)}catch(g){return ke=g,void be.abort()}xe<ae.length?y.onsuccess=C:"function"==typeof be.commit&&be.commit()}()}_clear(ae,se){let de,le;try{de=P(ae)}catch{return this.nextTick(se)}if(ae.limit>=0)return A(this,this[X],de,ae,se);try{const be=this[G]("readwrite");le=de?be.delete(de):be.clear()}catch(be){return this.nextTick(se,be)}this[re](le,se)}_close(ae){this[L].close(),this.nextTick(ae)}}return Z.destroy=function(ie,ae,se){"function"==typeof ae&&(se=ae,ae=F),se=z(se,te);const de=indexedDB.deleteDatabase(ae+ie);return de.onsuccess=function(){se()},de.onerror=function(le){se(le)},se[te]},Z})()},18229:(je,H,w)=>{"use strict";const{AbstractIterator:d}=w(75929),E=w(57059),k=w(97899),z=Symbol("cache"),x=Symbol("finished"),O=Symbol("options"),A=Symbol("currentOptions"),P=Symbol("position"),F=Symbol("location"),L=Symbol("first"),D={};function j(G){"function"==typeof G.commit&&G.commit()}H.Iterator=class X extends d{constructor(re,te,J){super(re,J),this[z]=[],this[x]=0===this.limit,this[O]=J,this[A]={...J},this[P]=void 0,this[F]=te,this[L]=!0}_nextv(re,te,J){if(this[L]=!1,this[x])return this.nextTick(J,null,[]);if(this[z].length>0)return re=Math.min(re,this[z].length),this.nextTick(J,null,this[z].splice(0,re));let Z;void 0!==this[P]&&(this[O].reverse?(this[A].lt=this[P],this[A].lte=void 0):(this[A].gt=this[P],this[A].gte=void 0));try{Z=E(this[A])}catch{return this[x]=!0,this.nextTick(J,null,[])}const ie=this.db.db.transaction([this[F]],"readonly"),ae=ie.objectStore(this[F]),se=[];if(this[O].reverse)ae[!this[O].values&&ae.openKeyCursor?"openKeyCursor":"openCursor"](Z,"prev").onsuccess=le=>{const be=le.target.result;if(be){const{key:xe,value:ke}=be;this[P]=xe,se.push([this[O].keys&&void 0!==xe?k(xe):void 0,this[O].values&&void 0!==ke?k(ke):void 0]),se.length<re?be.continue():j(ie)}else this[x]=!0};else{let de,le;const be=()=>{if(void 0===de||void 0===le)return;const xe=Math.max(de.length,le.length);0===xe||re===1/0?this[x]=!0:this[P]=de[xe-1],se.length=xe;for(let ke=0;ke<xe;ke++){const C=de[ke],a=le[ke];se[ke]=[this[O].keys&&void 0!==C?k(C):void 0,this[O].values&&void 0!==a?k(a):void 0]}j(ie)};this[O].keys||re<1/0?ae.getAllKeys(Z,re<1/0?re:void 0).onsuccess=xe=>{de=xe.target.result,be()}:(de=[],this.nextTick(be)),this[O].values?ae.getAll(Z,re<1/0?re:void 0).onsuccess=xe=>{le=xe.target.result,be()}:(le=[],this.nextTick(be))}ie.onabort=()=>{J(ie.error||new Error("aborted by user")),J=null},ie.oncomplete=()=>{J(null,se),J=null}}_next(re){if(this[z].length>0){const[te,J]=this[z].shift();this.nextTick(re,null,te,J)}else if(this[x])this.nextTick(re);else{let te=Math.min(100,this.limit-this.count);this[L]&&(this[L]=!1,te=1),this._nextv(te,D,(J,Z)=>{if(J)return re(J);this[z]=Z,this._next(re)})}}_all(re,te){this[L]=!1;const J=this[z].splice(0,this[z].length),Z=this.limit-this.count-J.length;if(Z<=0)return this.nextTick(te,null,J);this._nextv(Z,D,(ie,ae)=>{if(ie)return te(ie);J.length>0&&(ae=J.concat(ae)),te(null,ae)})}_seek(re,te){let J;this[L]=!0,this[z]=[],this[x]=!1,this[P]=void 0,this[A]={...this[O]};try{J=E(this[O])}catch{return void(this[x]=!0)}null===J||J.includes(re)?this[O].reverse?this[A].lte=re:this[A].gte=re:this[x]=!0}}},19857:je=>{"use strict";je.exports=function(w,d,E,k,z){if(0===k.limit)return w.nextTick(z);const x=w.db.transaction([d],"readwrite"),O=x.objectStore(d);let A=0;x.oncomplete=function(){z()},x.onabort=function(){z(x.error||new Error("aborted by user"))},O[O.openKeyCursor?"openKeyCursor":"openCursor"](E,k.reverse?"prev":"next").onsuccess=function(L){const D=L.target.result;D&&(O.delete(D.key).onsuccess=function(){(k.limit<=0||++A<k.limit)&&D.continue()})}}},97899:je=>{"use strict";const H=new TextEncoder;je.exports=function(w){return w instanceof Uint8Array?w:w instanceof ArrayBuffer?new Uint8Array(w):H.encode(w)}},57059:je=>{"use strict";je.exports=function(w){const d=void 0!==w.gte?w.gte:void 0!==w.gt?w.gt:void 0,E=void 0!==w.lte?w.lte:void 0!==w.lt?w.lt:void 0,k=void 0===w.gte,z=void 0===w.lte;return void 0!==d&&void 0!==E?IDBKeyRange.bound(d,E,k,z):void 0!==d?IDBKeyRange.lowerBound(d,k):void 0!==E?IDBKeyRange.upperBound(E,z):null}},12375:(je,H,w)=>{var d=w(27054).Buffer;function E(P){d.isBuffer(P)||(P=d.from(P));for(var F=P.length/4|0,L=new Array(F),D=0;D<F;D++)L[D]=P.readUInt32BE(4*D);return L}function k(P){for(;0<P.length;P++)P[0]=0}function z(P,F,L,D,X){for(var se,de,le,be,j=L[0],G=L[1],re=L[2],te=L[3],J=P[0]^F[0],Z=P[1]^F[1],ie=P[2]^F[2],ae=P[3]^F[3],xe=4,ke=1;ke<X;ke++)se=j[J>>>24]^G[Z>>>16&255]^re[ie>>>8&255]^te[255&ae]^F[xe++],de=j[Z>>>24]^G[ie>>>16&255]^re[ae>>>8&255]^te[255&J]^F[xe++],le=j[ie>>>24]^G[ae>>>16&255]^re[J>>>8&255]^te[255&Z]^F[xe++],be=j[ae>>>24]^G[J>>>16&255]^re[Z>>>8&255]^te[255&ie]^F[xe++],J=se,Z=de,ie=le,ae=be;return se=(D[J>>>24]<<24|D[Z>>>16&255]<<16|D[ie>>>8&255]<<8|D[255&ae])^F[xe++],de=(D[Z>>>24]<<24|D[ie>>>16&255]<<16|D[ae>>>8&255]<<8|D[255&J])^F[xe++],le=(D[ie>>>24]<<24|D[ae>>>16&255]<<16|D[J>>>8&255]<<8|D[255&Z])^F[xe++],be=(D[ae>>>24]<<24|D[J>>>16&255]<<16|D[Z>>>8&255]<<8|D[255&ie])^F[xe++],[se>>>=0,de>>>=0,le>>>=0,be>>>=0]}var x=[0,1,2,4,8,16,32,64,128,27,54],O=function(){for(var P=new Array(256),F=0;F<256;F++)P[F]=F<128?F<<1:F<<1^283;for(var L=[],D=[],X=[[],[],[],[]],j=[[],[],[],[]],G=0,re=0,te=0;te<256;++te){var J=re^re<<1^re<<2^re<<3^re<<4;L[G]=J=J>>>8^255&J^99,D[J]=G;var Z=P[G],ie=P[Z],ae=P[ie],se=257*P[J]^16843008*J;X[0][G]=se<<24|se>>>8,X[1][G]=se<<16|se>>>16,X[2][G]=se<<8|se>>>24,X[3][G]=se,j[0][J]=(se=16843009*ae^65537*ie^257*Z^16843008*G)<<24|se>>>8,j[1][J]=se<<16|se>>>16,j[2][J]=se<<8|se>>>24,j[3][J]=se,0===G?G=re=1:(G=Z^P[P[P[ae^Z]]],re^=P[P[re]])}return{SBOX:L,INV_SBOX:D,SUB_MIX:X,INV_SUB_MIX:j}}();function A(P){this._key=E(P),this._reset()}A.blockSize=16,A.keySize=32,A.prototype.blockSize=A.blockSize,A.prototype.keySize=A.keySize,A.prototype._reset=function(){for(var P=this._key,F=P.length,L=F+6,D=4*(L+1),X=[],j=0;j<F;j++)X[j]=P[j];for(j=F;j<D;j++){var G=X[j-1];j%F==0?(G=O.SBOX[(G=G<<8|G>>>24)>>>24]<<24|O.SBOX[G>>>16&255]<<16|O.SBOX[G>>>8&255]<<8|O.SBOX[255&G],G^=x[j/F|0]<<24):F>6&&j%F==4&&(G=O.SBOX[G>>>24]<<24|O.SBOX[G>>>16&255]<<16|O.SBOX[G>>>8&255]<<8|O.SBOX[255&G]),X[j]=X[j-F]^G}for(var re=[],te=0;te<D;te++){var J=D-te,Z=X[J-(te%4?0:4)];re[te]=te<4||J<=4?Z:O.INV_SUB_MIX[0][O.SBOX[Z>>>24]]^O.INV_SUB_MIX[1][O.SBOX[Z>>>16&255]]^O.INV_SUB_MIX[2][O.SBOX[Z>>>8&255]]^O.INV_SUB_MIX[3][O.SBOX[255&Z]]}this._nRounds=L,this._keySchedule=X,this._invKeySchedule=re},A.prototype.encryptBlockRaw=function(P){return z(P=E(P),this._keySchedule,O.SUB_MIX,O.SBOX,this._nRounds)},A.prototype.encryptBlock=function(P){var F=this.encryptBlockRaw(P),L=d.allocUnsafe(16);return L.writeUInt32BE(F[0],0),L.writeUInt32BE(F[1],4),L.writeUInt32BE(F[2],8),L.writeUInt32BE(F[3],12),L},A.prototype.decryptBlock=function(P){var F=(P=E(P))[1];P[1]=P[3],P[3]=F;var L=z(P,this._invKeySchedule,O.INV_SUB_MIX,O.INV_SBOX,this._nRounds),D=d.allocUnsafe(16);return D.writeUInt32BE(L[0],0),D.writeUInt32BE(L[3],4),D.writeUInt32BE(L[2],8),D.writeUInt32BE(L[1],12),D},A.prototype.scrub=function(){k(this._keySchedule),k(this._invKeySchedule),k(this._key)},je.exports.AES=A},19307:(je,H,w)=>{var d=w(12375),E=w(27054).Buffer,k=w(3247),z=w(71993),x=w(85917),O=w(13546),A=w(95725);function L(D,X,j,G){k.call(this);var re=E.alloc(4,0);this._cipher=new d.AES(X);var te=this._cipher.encryptBlock(re);this._ghash=new x(te),j=function F(D,X,j){if(12===X.length)return D._finID=E.concat([X,E.from([0,0,0,1])]),E.concat([X,E.from([0,0,0,2])]);var G=new x(j),re=X.length,te=re%16;G.update(X),te&&G.update(E.alloc(te=16-te,0)),G.update(E.alloc(8,0));var J=8*re,Z=E.alloc(8);Z.writeUIntBE(J,0,8),G.update(Z),D._finID=G.state;var ie=E.from(D._finID);return A(ie),ie}(this,j,te),this._prev=E.from(j),this._cache=E.allocUnsafe(0),this._secCache=E.allocUnsafe(0),this._decrypt=G,this._alen=0,this._len=0,this._mode=D,this._authTag=null,this._called=!1}z(L,k),L.prototype._update=function(D){if(!this._called&&this._alen){var X=16-this._alen%16;X<16&&(X=E.alloc(X,0),this._ghash.update(X))}this._called=!0;var j=this._mode.encrypt(this,D);return this._ghash.update(this._decrypt?D:j),this._len+=D.length,j},L.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var D=O(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function P(D,X){var j=0;D.length!==X.length&&j++;for(var G=Math.min(D.length,X.length),re=0;re<G;++re)j+=D[re]^X[re];return j}(D,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=D,this._cipher.scrub()},L.prototype.getAuthTag=function(){if(this._decrypt||!E.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},L.prototype.setAuthTag=function(X){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=X},L.prototype.setAAD=function(X){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(X),this._alen+=X.length},je.exports=L},43388:(je,H,w)=>{var d=w(350),E=w(60102),k=w(3219);H.createCipher=H.Cipher=d.createCipher,H.createCipheriv=H.Cipheriv=d.createCipheriv,H.createDecipher=H.Decipher=E.createDecipher,H.createDecipheriv=H.Decipheriv=E.createDecipheriv,H.listCiphers=H.getCiphers=function z(){return Object.keys(k)}},60102:(je,H,w)=>{var d=w(19307),E=w(27054).Buffer,k=w(60503),z=w(91821),x=w(3247),O=w(12375),A=w(18211);function F(G,re,te){x.call(this),this._cache=new L,this._last=void 0,this._cipher=new O.AES(re),this._prev=E.from(te),this._mode=G,this._autopadding=!0}function L(){this.cache=E.allocUnsafe(0)}function X(G,re,te){var J=k[G.toLowerCase()];if(!J)throw new TypeError("invalid suite type");if("string"==typeof te&&(te=E.from(te)),"GCM"!==J.mode&&te.length!==J.iv)throw new TypeError("invalid iv length "+te.length);if("string"==typeof re&&(re=E.from(re)),re.length!==J.key/8)throw new TypeError("invalid key length "+re.length);return"stream"===J.type?new z(J.module,re,te,!0):"auth"===J.type?new d(J.module,re,te,!0):new F(J.module,re,te)}w(71993)(F,x),F.prototype._update=function(G){this._cache.add(G);for(var re,te,J=[];re=this._cache.get(this._autopadding);)te=this._mode.decrypt(this,re),J.push(te);return E.concat(J)},F.prototype._final=function(){var G=this._cache.flush();if(this._autopadding)return function D(G){var re=G[15];if(re<1||re>16)throw new Error("unable to decrypt data");for(var te=-1;++te<re;)if(G[te+(16-re)]!==re)throw new Error("unable to decrypt data");if(16!==re)return G.slice(0,16-re)}(this._mode.decrypt(this,G));if(G)throw new Error("data not multiple of block length")},F.prototype.setAutoPadding=function(G){return this._autopadding=!!G,this},L.prototype.add=function(G){this.cache=E.concat([this.cache,G])},L.prototype.get=function(G){var re;if(G){if(this.cache.length>16)return re=this.cache.slice(0,16),this.cache=this.cache.slice(16),re}else if(this.cache.length>=16)return re=this.cache.slice(0,16),this.cache=this.cache.slice(16),re;return null},L.prototype.flush=function(){if(this.cache.length)return this.cache},H.createDecipher=function j(G,re){var te=k[G.toLowerCase()];if(!te)throw new TypeError("invalid suite type");var J=A(re,!1,te.key,te.iv);return X(G,J.key,J.iv)},H.createDecipheriv=X},350:(je,H,w)=>{var d=w(60503),E=w(19307),k=w(27054).Buffer,z=w(91821),x=w(3247),O=w(12375),A=w(18211);function F(G,re,te){x.call(this),this._cache=new D,this._cipher=new O.AES(re),this._prev=k.from(te),this._mode=G,this._autopadding=!0}w(71993)(F,x),F.prototype._update=function(G){this._cache.add(G);for(var re,te,J=[];re=this._cache.get();)te=this._mode.encrypt(this,re),J.push(te);return k.concat(J)};var L=k.alloc(16,16);function D(){this.cache=k.allocUnsafe(0)}function X(G,re,te){var J=d[G.toLowerCase()];if(!J)throw new TypeError("invalid suite type");if("string"==typeof re&&(re=k.from(re)),re.length!==J.key/8)throw new TypeError("invalid key length "+re.length);if("string"==typeof te&&(te=k.from(te)),"GCM"!==J.mode&&te.length!==J.iv)throw new TypeError("invalid iv length "+te.length);return"stream"===J.type?new z(J.module,re,te):"auth"===J.type?new E(J.module,re,te):new F(J.module,re,te)}F.prototype._final=function(){var G=this._cache.flush();if(this._autopadding)return G=this._mode.encrypt(this,G),this._cipher.scrub(),G;if(!G.equals(L))throw this._cipher.scrub(),new Error("data not multiple of block length")},F.prototype.setAutoPadding=function(G){return this._autopadding=!!G,this},D.prototype.add=function(G){this.cache=k.concat([this.cache,G])},D.prototype.get=function(){if(this.cache.length>15){var G=this.cache.slice(0,16);return this.cache=this.cache.slice(16),G}return null},D.prototype.flush=function(){for(var G=16-this.cache.length,re=k.allocUnsafe(G),te=-1;++te<G;)re.writeUInt8(G,te);return k.concat([this.cache,re])},H.createCipheriv=X,H.createCipher=function j(G,re){var te=d[G.toLowerCase()];if(!te)throw new TypeError("invalid suite type");var J=A(re,!1,te.key,te.iv);return X(G,J.key,J.iv)}},85917:(je,H,w)=>{var d=w(27054).Buffer,E=d.alloc(16,0);function z(O){var A=d.allocUnsafe(16);return A.writeUInt32BE(O[0]>>>0,0),A.writeUInt32BE(O[1]>>>0,4),A.writeUInt32BE(O[2]>>>0,8),A.writeUInt32BE(O[3]>>>0,12),A}function x(O){this.h=O,this.state=d.alloc(16,0),this.cache=d.allocUnsafe(0)}x.prototype.ghash=function(O){for(var A=-1;++A<O.length;)this.state[A]^=O[A];this._multiply()},x.prototype._multiply=function(){for(var P,L,O=function k(O){return[O.readUInt32BE(0),O.readUInt32BE(4),O.readUInt32BE(8),O.readUInt32BE(12)]}(this.h),A=[0,0,0,0],D=-1;++D<128;){for(!!(this.state[~~(D/8)]&1<<7-D%8)&&(A[0]^=O[0],A[1]^=O[1],A[2]^=O[2],A[3]^=O[3]),L=!!(1&O[3]),P=3;P>0;P--)O[P]=O[P]>>>1|(1&O[P-1])<<31;O[0]=O[0]>>>1,L&&(O[0]=O[0]^225<<24)}this.state=z(A)},x.prototype.update=function(O){this.cache=d.concat([this.cache,O]);for(var A;this.cache.length>=16;)A=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(A)},x.prototype.final=function(O,A){return this.cache.length&&this.ghash(d.concat([this.cache,E],16)),this.ghash(z([0,O,0,A])),this.state},je.exports=x},95725:je=>{je.exports=function H(w){for(var E,d=w.length;d--;){if(255!==(E=w.readUInt8(d))){E++,w.writeUInt8(E,d);break}w.writeUInt8(0,d)}}},34133:(je,H,w)=>{var d=w(13546);H.encrypt=function(E,k){var z=d(k,E._prev);return E._prev=E._cipher.encryptBlock(z),E._prev},H.decrypt=function(E,k){var z=E._prev;E._prev=k;var x=E._cipher.decryptBlock(k);return d(x,z)}},17090:(je,H,w)=>{var d=w(27054).Buffer,E=w(13546);function k(z,x,O){var A=x.length,P=E(x,z._cache);return z._cache=z._cache.slice(A),z._prev=d.concat([z._prev,O?x:P]),P}H.encrypt=function(z,x,O){for(var P,A=d.allocUnsafe(0);x.length;){if(0===z._cache.length&&(z._cache=z._cipher.encryptBlock(z._prev),z._prev=d.allocUnsafe(0)),!(z._cache.length<=x.length)){A=d.concat([A,k(z,x,O)]);break}A=d.concat([A,k(z,x.slice(0,P=z._cache.length),O)]),x=x.slice(P)}return A}},71039:(je,H,w)=>{var d=w(27054).Buffer;function E(z,x,O){for(var D,X,P=-1,L=0;++P<8;)L+=(128&(X=z._cipher.encryptBlock(z._prev)[0]^(D=x&1<<7-P?128:0)))>>P%8,z._prev=k(z._prev,O?D:X);return L}function k(z,x){var O=z.length,A=-1,P=d.allocUnsafe(z.length);for(z=d.concat([z,d.from([x])]);++A<O;)P[A]=z[A]<<1|z[A+1]>>7;return P}H.encrypt=function(z,x,O){for(var A=x.length,P=d.allocUnsafe(A),F=-1;++F<A;)P[F]=E(z,x[F],O);return P}},72576:(je,H,w)=>{var d=w(27054).Buffer;function E(k,z,x){var A=k._cipher.encryptBlock(k._prev)[0]^z;return k._prev=d.concat([k._prev.slice(1),d.from([x?z:A])]),A}H.encrypt=function(k,z,x){for(var O=z.length,A=d.allocUnsafe(O),P=-1;++P<O;)A[P]=E(k,z[P],x);return A}},70336:(je,H,w)=>{var d=w(13546),E=w(27054).Buffer,k=w(95725);function z(O){var A=O._cipher.encryptBlockRaw(O._prev);return k(O._prev),A}H.encrypt=function(O,A){var P=Math.ceil(A.length/16),F=O._cache.length;O._cache=E.concat([O._cache,E.allocUnsafe(16*P)]);for(var L=0;L<P;L++){var D=z(O),X=F+16*L;O._cache.writeUInt32BE(D[0],X+0),O._cache.writeUInt32BE(D[1],X+4),O._cache.writeUInt32BE(D[2],X+8),O._cache.writeUInt32BE(D[3],X+12)}var j=O._cache.slice(0,A.length);return O._cache=O._cache.slice(A.length),d(A,j)}},37513:(je,H)=>{H.encrypt=function(w,d){return w._cipher.encryptBlock(d)},H.decrypt=function(w,d){return w._cipher.decryptBlock(d)}},60503:(je,H,w)=>{var d={ECB:w(37513),CBC:w(34133),CFB:w(17090),CFB8:w(72576),CFB1:w(71039),OFB:w(46854),CTR:w(70336),GCM:w(70336)},E=w(3219);for(var k in E)E[k].module=d[E[k].mode];je.exports=E},46854:(je,H,w)=>{var d=w(13546);function E(k){return k._prev=k._cipher.encryptBlock(k._prev),k._prev}H.encrypt=function(k,z){for(;k._cache.length<z.length;)k._cache=Buffer.concat([k._cache,E(k)]);var x=k._cache.slice(0,z.length);return k._cache=k._cache.slice(z.length),d(z,x)}},91821:(je,H,w)=>{var d=w(12375),E=w(27054).Buffer,k=w(3247);function x(O,A,P,F){k.call(this),this._cipher=new d.AES(A),this._prev=E.from(P),this._cache=E.allocUnsafe(0),this._secCache=E.allocUnsafe(0),this._decrypt=F,this._mode=O}w(71993)(x,k),x.prototype._update=function(O){return this._mode.encrypt(this,O,this._decrypt)},x.prototype._final=function(){this._cipher.scrub()},je.exports=x},88862:(je,H,w)=>{var d=w(39799),E=w(43388),k=w(60503),z=w(59571),x=w(18211);function P(D,X,j){if(D=D.toLowerCase(),k[D])return E.createCipheriv(D,X,j);if(z[D])return new d({key:X,iv:j,mode:D});throw new TypeError("invalid suite type")}function F(D,X,j){if(D=D.toLowerCase(),k[D])return E.createDecipheriv(D,X,j);if(z[D])return new d({key:X,iv:j,mode:D,decrypt:!0});throw new TypeError("invalid suite type")}H.createCipher=H.Cipher=function O(D,X){var j,G;if(D=D.toLowerCase(),k[D])j=k[D].key,G=k[D].iv;else{if(!z[D])throw new TypeError("invalid suite type");j=8*z[D].key,G=z[D].iv}var re=x(X,!1,j,G);return P(D,re.key,re.iv)},H.createCipheriv=H.Cipheriv=P,H.createDecipher=H.Decipher=function A(D,X){var j,G;if(D=D.toLowerCase(),k[D])j=k[D].key,G=k[D].iv;else{if(!z[D])throw new TypeError("invalid suite type");j=8*z[D].key,G=z[D].iv}var re=x(X,!1,j,G);return F(D,re.key,re.iv)},H.createDecipheriv=H.Decipheriv=F,H.listCiphers=H.getCiphers=function L(){return Object.keys(z).concat(E.getCiphers())}},39799:(je,H,w)=>{var d=w(3247),E=w(71549),k=w(71993),z=w(27054).Buffer,x={"des-ede3-cbc":E.CBC.instantiate(E.EDE),"des-ede3":E.EDE,"des-ede-cbc":E.CBC.instantiate(E.EDE),"des-ede":E.EDE,"des-cbc":E.CBC.instantiate(E.DES),"des-ecb":E.DES};function O(A){d.call(this);var L,P=A.mode.toLowerCase(),F=x[P];L=A.decrypt?"decrypt":"encrypt";var D=A.key;z.isBuffer(D)||(D=z.from(D)),("des-ede"===P||"des-ede-cbc"===P)&&(D=z.concat([D,D.slice(0,8)]));var X=A.iv;z.isBuffer(X)||(X=z.from(X)),this._des=F.create({key:D,iv:X,type:L})}x.des=x["des-cbc"],x.des3=x["des-ede3-cbc"],je.exports=O,k(O,d),O.prototype._update=function(A){return z.from(this._des.update(A))},O.prototype._final=function(){return z.from(this._des.final())}},59571:(je,H)=>{H["des-ecb"]={key:8,iv:0},H["des-cbc"]=H.des={key:8,iv:8},H["des-ede3-cbc"]=H.des3={key:24,iv:8},H["des-ede3"]={key:24,iv:0},H["des-ede-cbc"]={key:16,iv:8},H["des-ede"]={key:16,iv:0}},14105:(je,H,w)=>{var d=w(917),E=w(3342);function z(O){var P,A=O.modulus.byteLength();do{P=new d(E(A))}while(P.cmp(O.modulus)>=0||!P.umod(O.prime1)||!P.umod(O.prime2));return P}function x(O,A){var P=function k(O){var A=z(O);return{blinder:A.toRed(d.mont(O.modulus)).redPow(new d(O.publicExponent)).fromRed(),unblinder:A.invm(O.modulus)}}(A),F=A.modulus.byteLength(),L=new d(O).mul(P.blinder).umod(A.modulus),D=L.toRed(d.mont(A.prime1)),X=L.toRed(d.mont(A.prime2)),j=A.coefficient,G=A.prime1,re=A.prime2,te=D.redPow(A.exponent1).fromRed(),J=X.redPow(A.exponent2).fromRed(),Z=te.isub(J).imul(j).umod(G).imul(re);return J.iadd(Z).imul(P.unblinder).umod(A.modulus).toArrayLike(Buffer,"be",F)}x.getr=z,je.exports=x},99560:(je,H,w)=>{"use strict";je.exports=w(62951)},79143:(je,H,w)=>{"use strict";var d=w(27054).Buffer,E=w(67211),k=w(64670),z=w(71993),x=w(43150),O=w(74754),A=w(62951);function P(X){k.Writable.call(this);var j=A[X];if(!j)throw new Error("Unknown message digest");this._hashType=j.hash,this._hash=E(j.hash),this._tag=j.id,this._signType=j.sign}function F(X){k.Writable.call(this);var j=A[X];if(!j)throw new Error("Unknown message digest");this._hash=E(j.hash),this._tag=j.id,this._signType=j.sign}function L(X){return new P(X)}function D(X){return new F(X)}Object.keys(A).forEach(function(X){A[X].id=d.from(A[X].id,"hex"),A[X.toLowerCase()]=A[X]}),z(P,k.Writable),P.prototype._write=function(j,G,re){this._hash.update(j),re()},P.prototype.update=function(j,G){return this._hash.update("string"==typeof j?d.from(j,G):j),this},P.prototype.sign=function(j,G){this.end();var re=this._hash.digest(),te=x(re,j,this._hashType,this._signType,this._tag);return G?te.toString(G):te},z(F,k.Writable),F.prototype._write=function(j,G,re){this._hash.update(j),re()},F.prototype.update=function(j,G){return this._hash.update("string"==typeof j?d.from(j,G):j),this},F.prototype.verify=function(j,G,re){var te="string"==typeof G?d.from(G,re):G;this.end();var J=this._hash.digest();return O(te,J,j,this._signType,this._tag)},je.exports={Sign:L,Verify:D,createSign:L,createVerify:D}},43150:(je,H,w)=>{"use strict";var d=w(27054).Buffer,E=w(56432),k=w(14105),z=w(90518).ec,x=w(917),O=w(65667),A=w(64589);function j(Z,ie,ae,se){if((Z=d.from(Z.toArray())).length<ie.byteLength()){var de=d.alloc(ie.byteLength()-Z.length);Z=d.concat([de,Z])}var le=ae.length,be=function re(Z,ie){Z=(Z=G(Z,ie)).mod(ie);var ae=d.from(Z.toArray());if(ae.length<ie.byteLength()){var se=d.alloc(ie.byteLength()-ae.length);ae=d.concat([se,ae])}return ae}(ae,ie),xe=d.alloc(le);xe.fill(1);var ke=d.alloc(le);return ke=E(se,ke).update(xe).update(d.from([0])).update(Z).update(be).digest(),xe=E(se,ke).update(xe).digest(),{k:ke=E(se,ke).update(xe).update(d.from([1])).update(Z).update(be).digest(),v:xe=E(se,ke).update(xe).digest()}}function G(Z,ie){var ae=new x(Z),se=(Z.length<<3)-ie.bitLength();return se>0&&ae.ishrn(se),ae}function te(Z,ie,ae){var se,de;do{for(se=d.alloc(0);8*se.length<Z.bitLength();)ie.v=E(ae,ie.k).update(ie.v).digest(),se=d.concat([se,ie.v]);de=G(se,Z),ie.k=E(ae,ie.k).update(ie.v).update(d.from([0])).digest(),ie.v=E(ae,ie.k).update(ie.v).digest()}while(-1!==de.cmp(Z));return de}function J(Z,ie,ae,se){return Z.toRed(x.mont(ae)).redPow(ie).fromRed().mod(se)}je.exports=function F(Z,ie,ae,se,de){var le=O(ie);if(le.curve){if("ecdsa"!==se&&"ecdsa/rsa"!==se)throw new Error("wrong private key type");return function L(Z,ie){var ae=A[ie.curve.join(".")];if(!ae)throw new Error("unknown curve "+ie.curve.join("."));var le=new z(ae).keyFromPrivate(ie.privateKey).sign(Z);return d.from(le.toDER())}(Z,le)}if("dsa"===le.type){if("dsa"!==se)throw new Error("wrong private key type");return function D(Z,ie,ae){for(var ke,se=ie.params.priv_key,de=ie.params.p,le=ie.params.q,be=ie.params.g,xe=new x(0),C=G(Z,le).mod(le),a=!1,f=j(se,le,Z,ae);!1===a;)xe=J(be,ke=te(le,f,ae),de,le),0===(a=ke.invm(le).imul(C.add(se.mul(xe))).mod(le)).cmpn(0)&&(a=!1,xe=new x(0));return function X(Z,ie){Z=Z.toArray(),ie=ie.toArray(),128&Z[0]&&(Z=[0].concat(Z)),128&ie[0]&&(ie=[0].concat(ie));var se=[48,Z.length+ie.length+4,2,Z.length];return se=se.concat(Z,[2,ie.length],ie),d.from(se)}(xe,a)}(Z,le,ae)}if("rsa"!==se&&"ecdsa/rsa"!==se)throw new Error("wrong private key type");if(void 0!==ie.padding&&1!==ie.padding)throw new Error("illegal or unsupported padding mode");Z=d.concat([de,Z]);for(var be=le.modulus.byteLength(),xe=[0,1];Z.length+xe.length+1<be;)xe.push(255);xe.push(0);for(var ke=-1;++ke<Z.length;)xe.push(Z[ke]);return k(xe,le)},je.exports.getKey=j,je.exports.makeKey=te},74754:(je,H,w)=>{"use strict";var d=w(27054).Buffer,E=w(917),k=w(90518).ec,z=w(65667),x=w(64589);function F(L,D){if(L.cmpn(0)<=0)throw new Error("invalid sig");if(L.cmp(D)>=0)throw new Error("invalid sig")}je.exports=function O(L,D,X,j,G){var re=z(X);if("ec"===re.type){if("ecdsa"!==j&&"ecdsa/rsa"!==j)throw new Error("wrong public key type");return function A(L,D,X){var j=x[X.data.algorithm.curve.join(".")];if(!j)throw new Error("unknown curve "+X.data.algorithm.curve.join("."));return new k(j).verify(D,L,X.data.subjectPrivateKey.data)}(L,D,re)}if("dsa"===re.type){if("dsa"!==j)throw new Error("wrong public key type");return function P(L,D,X){var j=X.data.p,G=X.data.q,re=X.data.g,te=X.data.pub_key,J=z.signature.decode(L,"der"),Z=J.s,ie=J.r;F(Z,G),F(ie,G);var ae=E.mont(j),se=Z.invm(G);return 0===re.toRed(ae).redPow(new E(D).mul(se).mod(G)).fromRed().mul(te.toRed(ae).redPow(ie.mul(se).mod(G)).fromRed()).mod(j).mod(G).cmp(ie)}(L,D,re)}if("rsa"!==j&&"ecdsa/rsa"!==j)throw new Error("wrong public key type");D=d.concat([G,D]);for(var te=re.modulus.byteLength(),J=[1],Z=0;D.length+J.length+2<te;)J.push(255),Z+=1;J.push(0);for(var ie=-1;++ie<D.length;)J.push(D[ie]);J=d.from(J);var ae=E.mont(re.modulus);L=(L=new E(L).toRed(ae)).redPow(new E(re.publicExponent)),L=d.from(L.fromRed().toArray());var se=Z<8?1:0;for(te=Math.min(L.length,J.length),L.length!==J.length&&(se=1),ie=-1;++ie<te;)se|=L[ie]^J[ie];return 0===se}},23827:(je,H,w)=>{"use strict";var d=w(9656),E=Object.keys||function(X){var j=[];for(var G in X)j.push(G);return j};je.exports=F;var k=Object.create(w(27637));k.inherits=w(71993);var z=w(81217),x=w(14817);k.inherits(F,z);for(var O=E(x.prototype),A=0;A<O.length;A++){var P=O[A];F.prototype[P]||(F.prototype[P]=x.prototype[P])}function F(X){if(!(this instanceof F))return new F(X);z.call(this,X),x.call(this,X),X&&!1===X.readable&&(this.readable=!1),X&&!1===X.writable&&(this.writable=!1),this.allowHalfOpen=!0,X&&!1===X.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",L)}function L(){this.allowHalfOpen||this._writableState.ended||d.nextTick(D,this)}function D(X){X.end()}Object.defineProperty(F.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(F.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(X){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=X,this._writableState.destroyed=X)}}),F.prototype._destroy=function(X,j){this.push(null),this.end(),d.nextTick(j,X)}},75519:(je,H,w)=>{"use strict";je.exports=k;var d=w(93045),E=Object.create(w(27637));function k(z){if(!(this instanceof k))return new k(z);d.call(this,z)}E.inherits=w(71993),E.inherits(k,d),k.prototype._transform=function(z,x,O){O(null,z)}},81217:(je,H,w)=>{"use strict";var d=w(40573),E=w(9656);je.exports=se;var z,k=w(20053);se.ReadableState=ae,w(44356);var O=function(we,Ue){return we.listeners(Ue).length},A=w(62078),P=w(29783).Buffer,F=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},X=Object.create(w(27637));X.inherits=w(71993);var j=w(92668),G=void 0;G=j&&j.debuglog?j.debuglog("stream"):function(){};var J,re=w(10793),te=w(43357);X.inherits(se,A);var Z=["error","close","destroy","pause","resume"];function ae(we,Ue){var ye=Ue instanceof(z=z||w(23827));this.objectMode=!!(we=we||{}).objectMode,ye&&(this.objectMode=this.objectMode||!!we.readableObjectMode);var De=we.highWaterMark,pe=we.readableHighWaterMark;this.highWaterMark=De||0===De?De:ye&&(pe||0===pe)?pe:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new re,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=we.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,we.encoding&&(J||(J=w(72318).I),this.decoder=new J(we.encoding),this.encoding=we.encoding)}function se(we){if(z=z||w(23827),!(this instanceof se))return new se(we);this._readableState=new ae(we,this),this.readable=!0,we&&("function"==typeof we.read&&(this._read=we.read),"function"==typeof we.destroy&&(this._destroy=we.destroy)),A.call(this)}function de(we,Ue,ye,De,pe){var Q,ue=we._readableState;return null===Ue?(ue.reading=!1,function f(we,Ue){if(!Ue.ended){if(Ue.decoder){var ye=Ue.decoder.end();ye&&ye.length&&(Ue.buffer.push(ye),Ue.length+=Ue.objectMode?1:ye.length)}Ue.ended=!0,y(we)}}(we,ue)):(pe||(Q=function be(we,Ue){var ye;return!function D(we){return P.isBuffer(we)||we instanceof F}(Ue)&&"string"!=typeof Ue&&void 0!==Ue&&!we.objectMode&&(ye=new TypeError("Invalid non-string/buffer chunk")),ye}(ue,Ue)),Q?we.emit("error",Q):ue.objectMode||Ue&&Ue.length>0?("string"!=typeof Ue&&!ue.objectMode&&Object.getPrototypeOf(Ue)!==P.prototype&&(Ue=function L(we){return P.from(we)}(Ue)),De?ue.endEmitted?we.emit("error",new Error("stream.unshift() after end event")):le(we,ue,Ue,!0):ue.ended?we.emit("error",new Error("stream.push() after EOF")):(ue.reading=!1,ue.decoder&&!ye?(Ue=ue.decoder.write(Ue),ue.objectMode||0!==Ue.length?le(we,ue,Ue,!1):M(we,ue)):le(we,ue,Ue,!1))):De||(ue.reading=!1)),function xe(we){return!we.ended&&(we.needReadable||we.length<we.highWaterMark||0===we.length)}(ue)}function le(we,Ue,ye,De){Ue.flowing&&0===Ue.length&&!Ue.sync?(we.emit("data",ye),we.read(0)):(Ue.length+=Ue.objectMode?1:ye.length,De?Ue.buffer.unshift(ye):Ue.buffer.push(ye),Ue.needReadable&&y(we)),M(we,Ue)}Object.defineProperty(se.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(we){this._readableState&&(this._readableState.destroyed=we)}}),se.prototype.destroy=te.destroy,se.prototype._undestroy=te.undestroy,se.prototype._destroy=function(we,Ue){this.push(null),Ue(we)},se.prototype.push=function(we,Ue){var De,ye=this._readableState;return ye.objectMode?De=!0:"string"==typeof we&&((Ue=Ue||ye.defaultEncoding)!==ye.encoding&&(we=P.from(we,Ue),Ue=""),De=!0),de(this,we,Ue,!1,De)},se.prototype.unshift=function(we){return de(this,we,null,!0,!1)},se.prototype.isPaused=function(){return!1===this._readableState.flowing},se.prototype.setEncoding=function(we){return J||(J=w(72318).I),this._readableState.decoder=new J(we),this._readableState.encoding=we,this};function a(we,Ue){return we<=0||0===Ue.length&&Ue.ended?0:Ue.objectMode?1:we!=we?Ue.flowing&&Ue.length?Ue.buffer.head.data.length:Ue.length:(we>Ue.highWaterMark&&(Ue.highWaterMark=function C(we){return we>=8388608?we=8388608:(we--,we|=we>>>1,we|=we>>>2,we|=we>>>4,we|=we>>>8,we|=we>>>16,we++),we}(we)),we<=Ue.length?we:Ue.ended?Ue.length:(Ue.needReadable=!0,0))}function y(we){var Ue=we._readableState;Ue.needReadable=!1,Ue.emittedReadable||(G("emitReadable",Ue.flowing),Ue.emittedReadable=!0,Ue.sync?E.nextTick(g,we):g(we))}function g(we){G("emit readable"),we.emit("readable"),W(we)}function M(we,Ue){Ue.readingMore||(Ue.readingMore=!0,E.nextTick(T,we,Ue))}function T(we,Ue){for(var ye=Ue.length;!Ue.reading&&!Ue.flowing&&!Ue.ended&&Ue.length<Ue.highWaterMark&&(G("maybeReadMore read 0"),we.read(0),ye!==Ue.length);)ye=Ue.length;Ue.readingMore=!1}function S(we){G("readable nexttick read 0"),we.read(0)}function v(we,Ue){Ue.reading||(G("resume read 0"),we.read(0)),Ue.resumeScheduled=!1,Ue.awaitDrain=0,we.emit("resume"),W(we),Ue.flowing&&!Ue.reading&&we.read(0)}function W(we){var Ue=we._readableState;for(G("flow",Ue.flowing);Ue.flowing&&null!==we.read(););}function K(we,Ue){return 0===Ue.length?null:(Ue.objectMode?ye=Ue.buffer.shift():!we||we>=Ue.length?(ye=Ue.decoder?Ue.buffer.join(""):1===Ue.buffer.length?Ue.buffer.head.data:Ue.buffer.concat(Ue.length),Ue.buffer.clear()):ye=function ee(we,Ue,ye){var De;return we<Ue.head.data.length?(De=Ue.head.data.slice(0,we),Ue.head.data=Ue.head.data.slice(we)):De=we===Ue.head.data.length?Ue.shift():ye?function ce(we,Ue){var ye=Ue.head,De=1,pe=ye.data;for(we-=pe.length;ye=ye.next;){var ue=ye.data,Q=we>ue.length?ue.length:we;if(pe+=Q===ue.length?ue:ue.slice(0,we),0==(we-=Q)){Q===ue.length?(++De,Ue.head=ye.next?ye.next:Ue.tail=null):(Ue.head=ye,ye.data=ue.slice(Q));break}++De}return Ue.length-=De,pe}(we,Ue):function _e(we,Ue){var ye=P.allocUnsafe(we),De=Ue.head,pe=1;for(De.data.copy(ye),we-=De.data.length;De=De.next;){var ue=De.data,Q=we>ue.length?ue.length:we;if(ue.copy(ye,ye.length-we,0,Q),0==(we-=Q)){Q===ue.length?(++pe,Ue.head=De.next?De.next:Ue.tail=null):(Ue.head=De,De.data=ue.slice(Q));break}++pe}return Ue.length-=pe,ye}(we,Ue),De}(we,Ue.buffer,Ue.decoder),ye);var ye}function Oe(we){var Ue=we._readableState;if(Ue.length>0)throw new Error('"endReadable()" called on non-empty stream');Ue.endEmitted||(Ue.ended=!0,E.nextTick(Ve,Ue,we))}function Ve(we,Ue){!we.endEmitted&&0===we.length&&(we.endEmitted=!0,Ue.readable=!1,Ue.emit("end"))}function Se(we,Ue){for(var ye=0,De=we.length;ye<De;ye++)if(we[ye]===Ue)return ye;return-1}se.prototype.read=function(we){G("read",we),we=parseInt(we,10);var Ue=this._readableState,ye=we;if(0!==we&&(Ue.emittedReadable=!1),0===we&&Ue.needReadable&&(Ue.length>=Ue.highWaterMark||Ue.ended))return G("read: emitReadable",Ue.length,Ue.ended),0===Ue.length&&Ue.ended?Oe(this):y(this),null;if(0===(we=a(we,Ue))&&Ue.ended)return 0===Ue.length&&Oe(this),null;var pe,De=Ue.needReadable;return G("need readable",De),(0===Ue.length||Ue.length-we<Ue.highWaterMark)&&G("length less than watermark",De=!0),Ue.ended||Ue.reading?G("reading or ended",De=!1):De&&(G("do read"),Ue.reading=!0,Ue.sync=!0,0===Ue.length&&(Ue.needReadable=!0),this._read(Ue.highWaterMark),Ue.sync=!1,Ue.reading||(we=a(ye,Ue))),null===(pe=we>0?K(we,Ue):null)?(Ue.needReadable=!0,we=0):Ue.length-=we,0===Ue.length&&(Ue.ended||(Ue.needReadable=!0),ye!==we&&Ue.ended&&Oe(this)),null!==pe&&this.emit("data",pe),pe},se.prototype._read=function(we){this.emit("error",new Error("_read() is not implemented"))},se.prototype.pipe=function(we,Ue){var ye=this,De=this._readableState;switch(De.pipesCount){case 0:De.pipes=we;break;case 1:De.pipes=[De.pipes,we];break;default:De.pipes.push(we)}De.pipesCount+=1,G("pipe count=%d opts=%j",De.pipesCount,Ue);var ue=Ue&&!1===Ue.end||we===d.stdout||we===d.stderr?lt:oe;function oe(){G("onend"),we.end()}De.endEmitted?E.nextTick(ue):ye.once("end",ue),we.on("unpipe",function Q(N,_){G("onunpipe"),N===ye&&_&&!1===_.hasUnpiped&&(_.hasUnpiped=!0,function Re(){G("cleanup"),we.removeListener("close",We),we.removeListener("finish",Le),we.removeListener("drain",fe),we.removeListener("error",_t),we.removeListener("unpipe",Q),ye.removeListener("end",oe),ye.removeListener("end",lt),ye.removeListener("data",Fe),Ee=!0,De.awaitDrain&&(!we._writableState||we._writableState.needDrain)&&fe()}())});var fe=function B(we){return function(){var Ue=we._readableState;G("pipeOnDrain",Ue.awaitDrain),Ue.awaitDrain&&Ue.awaitDrain--,0===Ue.awaitDrain&&O(we,"data")&&(Ue.flowing=!0,W(we))}}(ye);we.on("drain",fe);var Ee=!1,$e=!1;function Fe(N){G("ondata"),$e=!1,!1===we.write(N)&&!$e&&((1===De.pipesCount&&De.pipes===we||De.pipesCount>1&&-1!==Se(De.pipes,we))&&!Ee&&(G("false write response, pause",De.awaitDrain),De.awaitDrain++,$e=!0),ye.pause())}function _t(N){G("onerror",N),lt(),we.removeListener("error",_t),0===O(we,"error")&&we.emit("error",N)}function We(){we.removeListener("finish",Le),lt()}function Le(){G("onfinish"),we.removeListener("close",We),lt()}function lt(){G("unpipe"),ye.unpipe(we)}return ye.on("data",Fe),function ie(we,Ue,ye){if("function"==typeof we.prependListener)return we.prependListener(Ue,ye);we._events&&we._events[Ue]?k(we._events[Ue])?we._events[Ue].unshift(ye):we._events[Ue]=[ye,we._events[Ue]]:we.on(Ue,ye)}(we,"error",_t),we.once("close",We),we.once("finish",Le),we.emit("pipe",ye),De.flowing||(G("pipe resume"),ye.resume()),we},se.prototype.unpipe=function(we){var Ue=this._readableState,ye={hasUnpiped:!1};if(0===Ue.pipesCount)return this;if(1===Ue.pipesCount)return we&&we!==Ue.pipes||(we||(we=Ue.pipes),Ue.pipes=null,Ue.pipesCount=0,Ue.flowing=!1,we&&we.emit("unpipe",this,ye)),this;if(!we){var De=Ue.pipes,pe=Ue.pipesCount;Ue.pipes=null,Ue.pipesCount=0,Ue.flowing=!1;for(var ue=0;ue<pe;ue++)De[ue].emit("unpipe",this,{hasUnpiped:!1});return this}var Q=Se(Ue.pipes,we);return-1===Q||(Ue.pipes.splice(Q,1),Ue.pipesCount-=1,1===Ue.pipesCount&&(Ue.pipes=Ue.pipes[0]),we.emit("unpipe",this,ye)),this},se.prototype.addListener=se.prototype.on=function(we,Ue){var ye=A.prototype.on.call(this,we,Ue);if("data"===we)!1!==this._readableState.flowing&&this.resume();else if("readable"===we){var De=this._readableState;!De.endEmitted&&!De.readableListening&&(De.readableListening=De.needReadable=!0,De.emittedReadable=!1,De.reading?De.length&&y(this):E.nextTick(S,this))}return ye},se.prototype.resume=function(){var we=this._readableState;return we.flowing||(G("resume"),we.flowing=!0,function s(we,Ue){Ue.resumeScheduled||(Ue.resumeScheduled=!0,E.nextTick(v,we,Ue))}(this,we)),this},se.prototype.pause=function(){return G("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(G("pause"),this._readableState.flowing=!1,this.emit("pause")),this},se.prototype.wrap=function(we){var Ue=this,ye=this._readableState,De=!1;for(var pe in we.on("end",function(){if(G("wrapped end"),ye.decoder&&!ye.ended){var Q=ye.decoder.end();Q&&Q.length&&Ue.push(Q)}Ue.push(null)}),we.on("data",function(Q){G("wrapped data"),ye.decoder&&(Q=ye.decoder.write(Q)),ye.objectMode&&null==Q||!(ye.objectMode||Q&&Q.length)||Ue.push(Q)||(De=!0,we.pause())}),we)void 0===this[pe]&&"function"==typeof we[pe]&&(this[pe]=function(Q){return function(){return we[Q].apply(we,arguments)}}(pe));for(var ue=0;ue<Z.length;ue++)we.on(Z[ue],this.emit.bind(this,Z[ue]));return this._read=function(Q){G("wrapped _read",Q),De&&(De=!1,we.resume())},this},Object.defineProperty(se.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),se._fromList=K},93045:(je,H,w)=>{"use strict";je.exports=z;var d=w(23827),E=Object.create(w(27637));function k(A,P){var F=this._transformState;F.transforming=!1;var L=F.writecb;if(!L)return this.emit("error",new Error("write callback called multiple times"));F.writechunk=null,F.writecb=null,null!=P&&this.push(P),L(A);var D=this._readableState;D.reading=!1,(D.needReadable||D.length<D.highWaterMark)&&this._read(D.highWaterMark)}function z(A){if(!(this instanceof z))return new z(A);d.call(this,A),this._transformState={afterTransform:k.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,A&&("function"==typeof A.transform&&(this._transform=A.transform),"function"==typeof A.flush&&(this._flush=A.flush)),this.on("prefinish",x)}function x(){var A=this;"function"==typeof this._flush?this._flush(function(P,F){O(A,P,F)}):O(this,null,null)}function O(A,P,F){if(P)return A.emit("error",P);if(null!=F&&A.push(F),A._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(A._transformState.transforming)throw new Error("Calling transform done when still transforming");return A.push(null)}E.inherits=w(71993),E.inherits(z,d),z.prototype.push=function(A,P){return this._transformState.needTransform=!1,d.prototype.push.call(this,A,P)},z.prototype._transform=function(A,P,F){throw new Error("_transform() is not implemented")},z.prototype._write=function(A,P,F){var L=this._transformState;if(L.writecb=F,L.writechunk=A,L.writeencoding=P,!L.transforming){var D=this._readableState;(L.needTransform||D.needReadable||D.length<D.highWaterMark)&&this._read(D.highWaterMark)}},z.prototype._read=function(A){var P=this._transformState;null!==P.writechunk&&P.writecb&&!P.transforming?(P.transforming=!0,this._transform(P.writechunk,P.writeencoding,P.afterTransform)):P.needTransform=!0},z.prototype._destroy=function(A,P){var F=this;d.prototype._destroy.call(this,A,function(L){P(L),F.emit("close")})}},14817:(je,H,w)=>{"use strict";var d=w(40573),E=w(9656);function z(s){var v=this;this.next=null,this.entry=null,this.finish=function(){!function S(s,v,W){var K=s.entry;for(s.entry=null;K;){var ee=K.callback;v.pendingcb--,ee(W),K=K.next}v.corkedRequestsFree.next=s}(v,s)}}je.exports=Z;var O,x=!d.browser&&["v0.10","v0.9."].indexOf(d.version.slice(0,5))>-1?setImmediate:E.nextTick;Z.WritableState=te;var A=Object.create(w(27637));A.inherits=w(71993);var J,P={deprecate:w(3398)},F=w(62078),L=w(29783).Buffer,D=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},G=w(43357);function re(){}function te(s,v){O=O||w(23827);var W=v instanceof O;this.objectMode=!!(s=s||{}).objectMode,W&&(this.objectMode=this.objectMode||!!s.writableObjectMode);var K=s.highWaterMark,ee=s.writableHighWaterMark;this.highWaterMark=K||0===K?K:W&&(ee||0===ee)?ee:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===s.decodeStrings),this.defaultEncoding=s.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Oe){!function ke(s,v){var W=s._writableState,K=W.sync,ee=W.writecb;if(function xe(s){s.writing=!1,s.writecb=null,s.length-=s.writelen,s.writelen=0}(W),v)!function be(s,v,W,K,ee){--v.pendingcb,W?(E.nextTick(ee,K),E.nextTick(T,s,v),s._writableState.errorEmitted=!0,s.emit("error",K)):(ee(K),s._writableState.errorEmitted=!0,s.emit("error",K),T(s,v))}(s,W,K,v,ee);else{var ce=y(W);!ce&&!W.corked&&!W.bufferProcessing&&W.bufferedRequest&&f(s,W),K?x(C,s,W,ce,ee):C(s,W,ce,ee)}}(v,Oe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new z(this)}function Z(s){if(O=O||w(23827),!(J.call(Z,this)||this instanceof O))return new Z(s);this._writableState=new te(s,this),this.writable=!0,s&&("function"==typeof s.write&&(this._write=s.write),"function"==typeof s.writev&&(this._writev=s.writev),"function"==typeof s.destroy&&(this._destroy=s.destroy),"function"==typeof s.final&&(this._final=s.final)),F.call(this)}function le(s,v,W,K,ee,ce,_e){v.writelen=K,v.writecb=_e,v.writing=!0,v.sync=!0,W?s._writev(ee,v.onwrite):s._write(ee,ce,v.onwrite),v.sync=!1}function C(s,v,W,K){W||function a(s,v){0===v.length&&v.needDrain&&(v.needDrain=!1,s.emit("drain"))}(s,v),v.pendingcb--,K(),T(s,v)}function f(s,v){v.bufferProcessing=!0;var W=v.bufferedRequest;if(s._writev&&W&&W.next){var ee=new Array(v.bufferedRequestCount),ce=v.corkedRequestsFree;ce.entry=W;for(var _e=0,Oe=!0;W;)ee[_e]=W,W.isBuf||(Oe=!1),W=W.next,_e+=1;ee.allBuffers=Oe,le(s,v,!0,v.length,ee,"",ce.finish),v.pendingcb++,v.lastBufferedRequest=null,ce.next?(v.corkedRequestsFree=ce.next,ce.next=null):v.corkedRequestsFree=new z(v),v.bufferedRequestCount=0}else{for(;W;){var Ve=W.chunk;if(le(s,v,!1,v.objectMode?1:Ve.length,Ve,W.encoding,W.callback),W=W.next,v.bufferedRequestCount--,v.writing)break}null===W&&(v.lastBufferedRequest=null)}v.bufferedRequest=W,v.bufferProcessing=!1}function y(s){return s.ending&&0===s.length&&null===s.bufferedRequest&&!s.finished&&!s.writing}function g(s,v){s._final(function(W){v.pendingcb--,W&&s.emit("error",W),v.prefinished=!0,s.emit("prefinish"),T(s,v)})}function T(s,v){var W=y(v);return W&&(function M(s,v){!v.prefinished&&!v.finalCalled&&("function"==typeof s._final?(v.pendingcb++,v.finalCalled=!0,E.nextTick(g,s,v)):(v.prefinished=!0,s.emit("prefinish")))}(s,v),0===v.pendingcb&&(v.finished=!0,s.emit("finish"))),W}A.inherits(Z,F),te.prototype.getBuffer=function(){for(var v=this.bufferedRequest,W=[];v;)W.push(v),v=v.next;return W},function(){try{Object.defineProperty(te.prototype,"buffer",{get:P.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(J=Function.prototype[Symbol.hasInstance],Object.defineProperty(Z,Symbol.hasInstance,{value:function(s){return!!J.call(this,s)||this===Z&&s&&s._writableState instanceof te}})):J=function(s){return s instanceof this},Z.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Z.prototype.write=function(s,v,W){var K=this._writableState,ee=!1,ce=!K.objectMode&&function j(s){return L.isBuffer(s)||s instanceof D}(s);return ce&&!L.isBuffer(s)&&(s=function X(s){return L.from(s)}(s)),"function"==typeof v&&(W=v,v=null),ce?v="buffer":v||(v=K.defaultEncoding),"function"!=typeof W&&(W=re),K.ended?function ie(s,v){var W=new Error("write after end");s.emit("error",W),E.nextTick(v,W)}(this,W):(ce||function ae(s,v,W,K){var ee=!0,ce=!1;return null===W?ce=new TypeError("May not write null values to stream"):"string"!=typeof W&&void 0!==W&&!v.objectMode&&(ce=new TypeError("Invalid non-string/buffer chunk")),ce&&(s.emit("error",ce),E.nextTick(K,ce),ee=!1),ee}(this,K,s,W))&&(K.pendingcb++,ee=function de(s,v,W,K,ee,ce){if(!W){var _e=function se(s,v,W){return!s.objectMode&&!1!==s.decodeStrings&&"string"==typeof v&&(v=L.from(v,W)),v}(v,K,ee);K!==_e&&(W=!0,ee="buffer",K=_e)}var Oe=v.objectMode?1:K.length;v.length+=Oe;var Ve=v.length<v.highWaterMark;if(Ve||(v.needDrain=!0),v.writing||v.corked){var Se=v.lastBufferedRequest;v.lastBufferedRequest={chunk:K,encoding:ee,isBuf:W,callback:ce,next:null},Se?Se.next=v.lastBufferedRequest:v.bufferedRequest=v.lastBufferedRequest,v.bufferedRequestCount+=1}else le(s,v,!1,Oe,K,ee,ce);return Ve}(this,K,ce,s,v,W)),ee},Z.prototype.cork=function(){this._writableState.corked++},Z.prototype.uncork=function(){var s=this._writableState;s.corked&&(s.corked--,!s.writing&&!s.corked&&!s.bufferProcessing&&s.bufferedRequest&&f(this,s))},Z.prototype.setDefaultEncoding=function(v){if("string"==typeof v&&(v=v.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((v+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+v);return this._writableState.defaultEncoding=v,this},Object.defineProperty(Z.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Z.prototype._write=function(s,v,W){W(new Error("_write() is not implemented"))},Z.prototype._writev=null,Z.prototype.end=function(s,v,W){var K=this._writableState;"function"==typeof s?(W=s,s=null,v=null):"function"==typeof v&&(W=v,v=null),null!=s&&this.write(s,v),K.corked&&(K.corked=1,this.uncork()),K.ending||function B(s,v,W){v.ending=!0,T(s,v),W&&(v.finished?E.nextTick(W):s.once("finish",W)),v.ended=!0,s.writable=!1}(this,K,W)},Object.defineProperty(Z.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(s){this._writableState&&(this._writableState.destroyed=s)}}),Z.prototype.destroy=G.destroy,Z.prototype._undestroy=G.undestroy,Z.prototype._destroy=function(s,v){this.end(),v(s)}},10793:(je,H,w)=>{"use strict";var E=w(29783).Buffer,k=w(21638);function z(x,O,A){x.copy(O,A)}je.exports=function(){function x(){(function d(x,O){if(!(x instanceof O))throw new TypeError("Cannot call a class as a function")})(this,x),this.head=null,this.tail=null,this.length=0}return x.prototype.push=function(A){var P={data:A,next:null};this.length>0?this.tail.next=P:this.head=P,this.tail=P,++this.length},x.prototype.unshift=function(A){var P={data:A,next:this.head};0===this.length&&(this.tail=P),this.head=P,++this.length},x.prototype.shift=function(){if(0!==this.length){var A=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,A}},x.prototype.clear=function(){this.head=this.tail=null,this.length=0},x.prototype.join=function(A){if(0===this.length)return"";for(var P=this.head,F=""+P.data;P=P.next;)F+=A+P.data;return F},x.prototype.concat=function(A){if(0===this.length)return E.alloc(0);for(var P=E.allocUnsafe(A>>>0),F=this.head,L=0;F;)z(F.data,P,L),L+=F.data.length,F=F.next;return P},x}(),k&&k.inspect&&k.inspect.custom&&(je.exports.prototype[k.inspect.custom]=function(){var x=k.inspect({length:this.length});return this.constructor.name+" "+x})},43357:(je,H,w)=>{"use strict";var d=w(9656);function z(x,O){x.emit("error",O)}je.exports={destroy:function E(x,O){var A=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(O?O(x):x&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,d.nextTick(z,this,x)):d.nextTick(z,this,x)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(x||null,function(L){!O&&L?A._writableState?A._writableState.errorEmitted||(A._writableState.errorEmitted=!0,d.nextTick(z,A,L)):d.nextTick(z,A,L):O&&O(L)}),this)},undestroy:function k(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},62078:(je,H,w)=>{je.exports=w(44356).EventEmitter},29783:(je,H,w)=>{var d=w(83838),E=d.Buffer;function k(x,O){for(var A in x)O[A]=x[A]}function z(x,O,A){return E(x,O,A)}E.from&&E.alloc&&E.allocUnsafe&&E.allocUnsafeSlow?je.exports=d:(k(d,H),H.Buffer=z),k(E,z),z.from=function(x,O,A){if("number"==typeof x)throw new TypeError("Argument must not be a number");return E(x,O,A)},z.alloc=function(x,O,A){if("number"!=typeof x)throw new TypeError("Argument must be a number");var P=E(x);return void 0!==O?"string"==typeof A?P.fill(O,A):P.fill(O):P.fill(0),P},z.allocUnsafe=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return E(x)},z.allocUnsafeSlow=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return d.SlowBuffer(x)}},64670:(je,H,w)=>{(H=je.exports=w(81217)).Stream=H,H.Readable=H,H.Writable=w(14817),H.Duplex=w(23827),H.Transform=w(93045),H.PassThrough=w(75519)},72318:(je,H,w)=>{"use strict";var d=w(37656).Buffer,E=d.isEncoding||function(Z){switch((Z=""+Z)&&Z.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function x(Z){var ie;switch(this.encoding=function z(Z){var ie=function k(Z){if(!Z)return"utf8";for(var ie;;)switch(Z){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Z;default:if(ie)return;Z=(""+Z).toLowerCase(),ie=!0}}(Z);if("string"!=typeof ie&&(d.isEncoding===E||!E(Z)))throw new Error("Unknown encoding: "+Z);return ie||Z}(Z),this.encoding){case"utf16le":this.text=X,this.end=j,ie=4;break;case"utf8":this.fillLast=F,ie=4;break;case"base64":this.text=G,this.end=re,ie=3;break;default:return this.write=te,void(this.end=J)}this.lastNeed=0,this.lastTotal=0,this.lastChar=d.allocUnsafe(ie)}function O(Z){return Z<=127?0:Z>>5==6?2:Z>>4==14?3:Z>>3==30?4:Z>>6==2?-1:-2}function F(Z){var ie=this.lastTotal-this.lastNeed,ae=function P(Z,ie,ae){if(128!=(192&ie[0]))return Z.lastNeed=0,"\ufffd";if(Z.lastNeed>1&&ie.length>1){if(128!=(192&ie[1]))return Z.lastNeed=1,"\ufffd";if(Z.lastNeed>2&&ie.length>2&&128!=(192&ie[2]))return Z.lastNeed=2,"\ufffd"}}(this,Z);return void 0!==ae?ae:this.lastNeed<=Z.length?(Z.copy(this.lastChar,ie,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(Z.copy(this.lastChar,ie,0,Z.length),void(this.lastNeed-=Z.length))}function X(Z,ie){if((Z.length-ie)%2==0){var ae=Z.toString("utf16le",ie);if(ae){var se=ae.charCodeAt(ae.length-1);if(se>=55296&&se<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Z[Z.length-2],this.lastChar[1]=Z[Z.length-1],ae.slice(0,-1)}return ae}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Z[Z.length-1],Z.toString("utf16le",ie,Z.length-1)}function j(Z){var ie=Z&&Z.length?this.write(Z):"";return this.lastNeed?ie+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):ie}function G(Z,ie){var ae=(Z.length-ie)%3;return 0===ae?Z.toString("base64",ie):(this.lastNeed=3-ae,this.lastTotal=3,1===ae?this.lastChar[0]=Z[Z.length-1]:(this.lastChar[0]=Z[Z.length-2],this.lastChar[1]=Z[Z.length-1]),Z.toString("base64",ie,Z.length-ae))}function re(Z){var ie=Z&&Z.length?this.write(Z):"";return this.lastNeed?ie+this.lastChar.toString("base64",0,3-this.lastNeed):ie}function te(Z){return Z.toString(this.encoding)}function J(Z){return Z&&Z.length?this.write(Z):""}H.I=x,x.prototype.write=function(Z){if(0===Z.length)return"";var ie,ae;if(this.lastNeed){if(void 0===(ie=this.fillLast(Z)))return"";ae=this.lastNeed,this.lastNeed=0}else ae=0;return ae<Z.length?ie?ie+this.text(Z,ae):this.text(Z,ae):ie||""},x.prototype.end=function D(Z){var ie=Z&&Z.length?this.write(Z):"";return this.lastNeed?ie+"\ufffd":ie},x.prototype.text=function L(Z,ie){var ae=function A(Z,ie,ae){var se=ie.length-1;if(se<ae)return 0;var de=O(ie[se]);return de>=0?(de>0&&(Z.lastNeed=de-1),de):--se<ae||-2===de?0:(de=O(ie[se]))>=0?(de>0&&(Z.lastNeed=de-2),de):--se<ae||-2===de?0:(de=O(ie[se]))>=0?(de>0&&(2===de?de=0:Z.lastNeed=de-3),de):0}(this,Z,ie);if(!this.lastNeed)return Z.toString("utf8",ie);this.lastTotal=ae;var se=Z.length-(ae-this.lastNeed);return Z.copy(this.lastChar,0,se),Z.toString("utf8",ie,se)},x.prototype.fillLast=function(Z){if(this.lastNeed<=Z.length)return Z.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Z.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Z.length),this.lastNeed-=Z.length}},37656:(je,H,w)=>{var d=w(83838),E=d.Buffer;function k(x,O){for(var A in x)O[A]=x[A]}function z(x,O,A){return E(x,O,A)}E.from&&E.alloc&&E.allocUnsafe&&E.allocUnsafeSlow?je.exports=d:(k(d,H),H.Buffer=z),k(E,z),z.from=function(x,O,A){if("number"==typeof x)throw new TypeError("Argument must not be a number");return E(x,O,A)},z.alloc=function(x,O,A){if("number"!=typeof x)throw new TypeError("Argument must be a number");var P=E(x);return void 0!==O?"string"==typeof A?P.fill(O,A):P.fill(O):P.fill(0),P},z.allocUnsafe=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return E(x)},z.allocUnsafeSlow=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return d.SlowBuffer(x)}},13546:je=>{je.exports=function(w,d){for(var E=Math.min(w.length,d.length),k=new Buffer(E),z=0;z<E;++z)k[z]=w[z]^d[z];return k}},83838:(je,H,w)=>{"use strict";var d=w(13981),E=w(22020),k="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;H.Buffer=A,H.SlowBuffer=function Z(Q){return+Q!=Q&&(Q=0),A.alloc(+Q)},H.INSPECT_MAX_BYTES=50;var z=2147483647;function O(Q){if(Q>z)throw new RangeError('The value "'+Q+'" is invalid for option "size"');var oe=new Uint8Array(Q);return Object.setPrototypeOf(oe,A.prototype),oe}function A(Q,oe,fe){if("number"==typeof Q){if("string"==typeof oe)throw new TypeError('The "string" argument must be of type string. Received type number');return D(Q)}return P(Q,oe,fe)}function P(Q,oe,fe){if("string"==typeof Q)return function X(Q,oe){if(("string"!=typeof oe||""===oe)&&(oe="utf8"),!A.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);var fe=0|ie(Q,oe),Ee=O(fe),Re=Ee.write(Q,oe);return Re!==fe&&(Ee=Ee.slice(0,Re)),Ee}(Q,oe);if(ArrayBuffer.isView(Q))return function G(Q){if(De(Q,Uint8Array)){var oe=new Uint8Array(Q);return re(oe.buffer,oe.byteOffset,oe.byteLength)}return j(Q)}(Q);if(null==Q)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q);if(De(Q,ArrayBuffer)||Q&&De(Q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(De(Q,SharedArrayBuffer)||Q&&De(Q.buffer,SharedArrayBuffer)))return re(Q,oe,fe);if("number"==typeof Q)throw new TypeError('The "value" argument must not be of type number. Received type number');var Ee=Q.valueOf&&Q.valueOf();if(null!=Ee&&Ee!==Q)return A.from(Ee,oe,fe);var Re=function te(Q){if(A.isBuffer(Q)){var oe=0|J(Q.length),fe=O(oe);return 0===fe.length||Q.copy(fe,0,0,oe),fe}return void 0!==Q.length?"number"!=typeof Q.length||pe(Q.length)?O(0):j(Q):"Buffer"===Q.type&&Array.isArray(Q.data)?j(Q.data):void 0}(Q);if(Re)return Re;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof Q[Symbol.toPrimitive])return A.from(Q[Symbol.toPrimitive]("string"),oe,fe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q)}function F(Q){if("number"!=typeof Q)throw new TypeError('"size" argument must be of type number');if(Q<0)throw new RangeError('The value "'+Q+'" is invalid for option "size"')}function D(Q){return F(Q),O(Q<0?0:0|J(Q))}function j(Q){for(var oe=Q.length<0?0:0|J(Q.length),fe=O(oe),Ee=0;Ee<oe;Ee+=1)fe[Ee]=255&Q[Ee];return fe}function re(Q,oe,fe){if(oe<0||Q.byteLength<oe)throw new RangeError('"offset" is outside of buffer bounds');if(Q.byteLength<oe+(fe||0))throw new RangeError('"length" is outside of buffer bounds');var Ee;return Ee=void 0===oe&&void 0===fe?new Uint8Array(Q):void 0===fe?new Uint8Array(Q,oe):new Uint8Array(Q,oe,fe),Object.setPrototypeOf(Ee,A.prototype),Ee}function J(Q){if(Q>=z)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+z.toString(16)+" bytes");return 0|Q}function ie(Q,oe){if(A.isBuffer(Q))return Q.length;if(ArrayBuffer.isView(Q)||De(Q,ArrayBuffer))return Q.byteLength;if("string"!=typeof Q)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Q);var fe=Q.length,Ee=arguments.length>2&&!0===arguments[2];if(!Ee&&0===fe)return 0;for(var Re=!1;;)switch(oe){case"ascii":case"latin1":case"binary":return fe;case"utf8":case"utf-8":return Ve(Q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*fe;case"hex":return fe>>>1;case"base64":return Ue(Q).length;default:if(Re)return Ee?-1:Ve(Q).length;oe=(""+oe).toLowerCase(),Re=!0}}function ae(Q,oe,fe){var Ee=!1;if((void 0===oe||oe<0)&&(oe=0),oe>this.length||((void 0===fe||fe>this.length)&&(fe=this.length),fe<=0)||(fe>>>=0)<=(oe>>>=0))return"";for(Q||(Q="utf8");;)switch(Q){case"hex":return S(this,oe,fe);case"utf8":case"utf-8":return y(this,oe,fe);case"ascii":return T(this,oe,fe);case"latin1":case"binary":return B(this,oe,fe);case"base64":return f(this,oe,fe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,oe,fe);default:if(Ee)throw new TypeError("Unknown encoding: "+Q);Q=(Q+"").toLowerCase(),Ee=!0}}function se(Q,oe,fe){var Ee=Q[oe];Q[oe]=Q[fe],Q[fe]=Ee}function de(Q,oe,fe,Ee,Re){if(0===Q.length)return-1;if("string"==typeof fe?(Ee=fe,fe=0):fe>2147483647?fe=2147483647:fe<-2147483648&&(fe=-2147483648),pe(fe=+fe)&&(fe=Re?0:Q.length-1),fe<0&&(fe=Q.length+fe),fe>=Q.length){if(Re)return-1;fe=Q.length-1}else if(fe<0){if(!Re)return-1;fe=0}if("string"==typeof oe&&(oe=A.from(oe,Ee)),A.isBuffer(oe))return 0===oe.length?-1:le(Q,oe,fe,Ee,Re);if("number"==typeof oe)return oe&=255,"function"==typeof Uint8Array.prototype.indexOf?Re?Uint8Array.prototype.indexOf.call(Q,oe,fe):Uint8Array.prototype.lastIndexOf.call(Q,oe,fe):le(Q,[oe],fe,Ee,Re);throw new TypeError("val must be string, number or Buffer")}function le(Q,oe,fe,Ee,Re){var Le,$e=1,Fe=Q.length,_t=oe.length;if(void 0!==Ee&&("ucs2"===(Ee=String(Ee).toLowerCase())||"ucs-2"===Ee||"utf16le"===Ee||"utf-16le"===Ee)){if(Q.length<2||oe.length<2)return-1;$e=2,Fe/=2,_t/=2,fe/=2}function We(m,U){return 1===$e?m[U]:m.readUInt16BE(U*$e)}if(Re){var lt=-1;for(Le=fe;Le<Fe;Le++)if(We(Q,Le)===We(oe,-1===lt?0:Le-lt)){if(-1===lt&&(lt=Le),Le-lt+1===_t)return lt*$e}else-1!==lt&&(Le-=Le-lt),lt=-1}else for(fe+_t>Fe&&(fe=Fe-_t),Le=fe;Le>=0;Le--){for(var N=!0,_=0;_<_t;_++)if(We(Q,Le+_)!==We(oe,_)){N=!1;break}if(N)return Le}return-1}function be(Q,oe,fe,Ee){fe=Number(fe)||0;var Re=Q.length-fe;Ee?(Ee=Number(Ee))>Re&&(Ee=Re):Ee=Re;var $e=oe.length;Ee>$e/2&&(Ee=$e/2);for(var Fe=0;Fe<Ee;++Fe){var _t=parseInt(oe.substr(2*Fe,2),16);if(pe(_t))return Fe;Q[fe+Fe]=_t}return Fe}function xe(Q,oe,fe,Ee){return ye(Ve(oe,Q.length-fe),Q,fe,Ee)}function ke(Q,oe,fe,Ee){return ye(function Se(Q){for(var oe=[],fe=0;fe<Q.length;++fe)oe.push(255&Q.charCodeAt(fe));return oe}(oe),Q,fe,Ee)}function C(Q,oe,fe,Ee){return ye(Ue(oe),Q,fe,Ee)}function a(Q,oe,fe,Ee){return ye(function we(Q,oe){for(var fe,Ee,$e=[],Fe=0;Fe<Q.length&&!((oe-=2)<0);++Fe)Ee=(fe=Q.charCodeAt(Fe))>>8,$e.push(fe%256),$e.push(Ee);return $e}(oe,Q.length-fe),Q,fe,Ee)}function f(Q,oe,fe){return d.fromByteArray(0===oe&&fe===Q.length?Q:Q.slice(oe,fe))}function y(Q,oe,fe){fe=Math.min(Q.length,fe);for(var Ee=[],Re=oe;Re<fe;){var We,Le,lt,N,$e=Q[Re],Fe=null,_t=$e>239?4:$e>223?3:$e>191?2:1;if(Re+_t<=fe)switch(_t){case 1:$e<128&&(Fe=$e);break;case 2:128==(192&(We=Q[Re+1]))&&(N=(31&$e)<<6|63&We)>127&&(Fe=N);break;case 3:Le=Q[Re+2],128==(192&(We=Q[Re+1]))&&128==(192&Le)&&(N=(15&$e)<<12|(63&We)<<6|63&Le)>2047&&(N<55296||N>57343)&&(Fe=N);break;case 4:Le=Q[Re+2],lt=Q[Re+3],128==(192&(We=Q[Re+1]))&&128==(192&Le)&&128==(192&lt)&&(N=(15&$e)<<18|(63&We)<<12|(63&Le)<<6|63&lt)>65535&&N<1114112&&(Fe=N)}null===Fe?(Fe=65533,_t=1):Fe>65535&&(Ee.push((Fe-=65536)>>>10&1023|55296),Fe=56320|1023&Fe),Ee.push(Fe),Re+=_t}return function M(Q){var oe=Q.length;if(oe<=g)return String.fromCharCode.apply(String,Q);for(var fe="",Ee=0;Ee<oe;)fe+=String.fromCharCode.apply(String,Q.slice(Ee,Ee+=g));return fe}(Ee)}H.kMaxLength=z,!(A.TYPED_ARRAY_SUPPORT=function x(){try{var Q=new Uint8Array(1),oe={foo:function(){return 42}};return Object.setPrototypeOf(oe,Uint8Array.prototype),Object.setPrototypeOf(Q,oe),42===Q.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(Q,oe,fe){return P(Q,oe,fe)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(Q,oe,fe){return function L(Q,oe,fe){return F(Q),Q<=0?O(Q):void 0!==oe?"string"==typeof fe?O(Q).fill(oe,fe):O(Q).fill(oe):O(Q)}(Q,oe,fe)},A.allocUnsafe=function(Q){return D(Q)},A.allocUnsafeSlow=function(Q){return D(Q)},A.isBuffer=function(oe){return null!=oe&&!0===oe._isBuffer&&oe!==A.prototype},A.compare=function(oe,fe){if(De(oe,Uint8Array)&&(oe=A.from(oe,oe.offset,oe.byteLength)),De(fe,Uint8Array)&&(fe=A.from(fe,fe.offset,fe.byteLength)),!A.isBuffer(oe)||!A.isBuffer(fe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(oe===fe)return 0;for(var Ee=oe.length,Re=fe.length,$e=0,Fe=Math.min(Ee,Re);$e<Fe;++$e)if(oe[$e]!==fe[$e]){Ee=oe[$e],Re=fe[$e];break}return Ee<Re?-1:Re<Ee?1:0},A.isEncoding=function(oe){switch(String(oe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(oe,fe){if(!Array.isArray(oe))throw new TypeError('"list" argument must be an Array of Buffers');if(0===oe.length)return A.alloc(0);var Ee;if(void 0===fe)for(fe=0,Ee=0;Ee<oe.length;++Ee)fe+=oe[Ee].length;var Re=A.allocUnsafe(fe),$e=0;for(Ee=0;Ee<oe.length;++Ee){var Fe=oe[Ee];if(De(Fe,Uint8Array))$e+Fe.length>Re.length?A.from(Fe).copy(Re,$e):Uint8Array.prototype.set.call(Re,Fe,$e);else{if(!A.isBuffer(Fe))throw new TypeError('"list" argument must be an Array of Buffers');Fe.copy(Re,$e)}$e+=Fe.length}return Re},A.byteLength=ie,A.prototype._isBuffer=!0,A.prototype.swap16=function(){var oe=this.length;if(oe%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var fe=0;fe<oe;fe+=2)se(this,fe,fe+1);return this},A.prototype.swap32=function(){var oe=this.length;if(oe%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var fe=0;fe<oe;fe+=4)se(this,fe,fe+3),se(this,fe+1,fe+2);return this},A.prototype.swap64=function(){var oe=this.length;if(oe%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var fe=0;fe<oe;fe+=8)se(this,fe,fe+7),se(this,fe+1,fe+6),se(this,fe+2,fe+5),se(this,fe+3,fe+4);return this},A.prototype.toLocaleString=A.prototype.toString=function(){var oe=this.length;return 0===oe?"":0===arguments.length?y(this,0,oe):ae.apply(this,arguments)},A.prototype.equals=function(oe){if(!A.isBuffer(oe))throw new TypeError("Argument must be a Buffer");return this===oe||0===A.compare(this,oe)},A.prototype.inspect=function(){var oe="",fe=H.INSPECT_MAX_BYTES;return oe=this.toString("hex",0,fe).replace(/(.{2})/g,"$1 ").trim(),this.length>fe&&(oe+=" ... "),"<Buffer "+oe+">"},k&&(A.prototype[k]=A.prototype.inspect),A.prototype.compare=function(oe,fe,Ee,Re,$e){if(De(oe,Uint8Array)&&(oe=A.from(oe,oe.offset,oe.byteLength)),!A.isBuffer(oe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof oe);if(void 0===fe&&(fe=0),void 0===Ee&&(Ee=oe?oe.length:0),void 0===Re&&(Re=0),void 0===$e&&($e=this.length),fe<0||Ee>oe.length||Re<0||$e>this.length)throw new RangeError("out of range index");if(Re>=$e&&fe>=Ee)return 0;if(Re>=$e)return-1;if(fe>=Ee)return 1;if(this===oe)return 0;for(var Fe=($e>>>=0)-(Re>>>=0),_t=(Ee>>>=0)-(fe>>>=0),We=Math.min(Fe,_t),Le=this.slice(Re,$e),lt=oe.slice(fe,Ee),N=0;N<We;++N)if(Le[N]!==lt[N]){Fe=Le[N],_t=lt[N];break}return Fe<_t?-1:_t<Fe?1:0},A.prototype.includes=function(oe,fe,Ee){return-1!==this.indexOf(oe,fe,Ee)},A.prototype.indexOf=function(oe,fe,Ee){return de(this,oe,fe,Ee,!0)},A.prototype.lastIndexOf=function(oe,fe,Ee){return de(this,oe,fe,Ee,!1)},A.prototype.write=function(oe,fe,Ee,Re){if(void 0===fe)Re="utf8",Ee=this.length,fe=0;else if(void 0===Ee&&"string"==typeof fe)Re=fe,Ee=this.length,fe=0;else{if(!isFinite(fe))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");fe>>>=0,isFinite(Ee)?(Ee>>>=0,void 0===Re&&(Re="utf8")):(Re=Ee,Ee=void 0)}var $e=this.length-fe;if((void 0===Ee||Ee>$e)&&(Ee=$e),oe.length>0&&(Ee<0||fe<0)||fe>this.length)throw new RangeError("Attempt to write outside buffer bounds");Re||(Re="utf8");for(var Fe=!1;;)switch(Re){case"hex":return be(this,oe,fe,Ee);case"utf8":case"utf-8":return xe(this,oe,fe,Ee);case"ascii":case"latin1":case"binary":return ke(this,oe,fe,Ee);case"base64":return C(this,oe,fe,Ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,oe,fe,Ee);default:if(Fe)throw new TypeError("Unknown encoding: "+Re);Re=(""+Re).toLowerCase(),Fe=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var g=4096;function T(Q,oe,fe){var Ee="";fe=Math.min(Q.length,fe);for(var Re=oe;Re<fe;++Re)Ee+=String.fromCharCode(127&Q[Re]);return Ee}function B(Q,oe,fe){var Ee="";fe=Math.min(Q.length,fe);for(var Re=oe;Re<fe;++Re)Ee+=String.fromCharCode(Q[Re]);return Ee}function S(Q,oe,fe){var Ee=Q.length;(!oe||oe<0)&&(oe=0),(!fe||fe<0||fe>Ee)&&(fe=Ee);for(var Re="",$e=oe;$e<fe;++$e)Re+=ue[Q[$e]];return Re}function s(Q,oe,fe){for(var Ee=Q.slice(oe,fe),Re="",$e=0;$e<Ee.length-1;$e+=2)Re+=String.fromCharCode(Ee[$e]+256*Ee[$e+1]);return Re}function v(Q,oe,fe){if(Q%1!=0||Q<0)throw new RangeError("offset is not uint");if(Q+oe>fe)throw new RangeError("Trying to access beyond buffer length")}function W(Q,oe,fe,Ee,Re,$e){if(!A.isBuffer(Q))throw new TypeError('"buffer" argument must be a Buffer instance');if(oe>Re||oe<$e)throw new RangeError('"value" argument is out of bounds');if(fe+Ee>Q.length)throw new RangeError("Index out of range")}function K(Q,oe,fe,Ee,Re,$e){if(fe+Ee>Q.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("Index out of range")}function ee(Q,oe,fe,Ee,Re){return oe=+oe,fe>>>=0,Re||K(Q,0,fe,4),E.write(Q,oe,fe,Ee,23,4),fe+4}function ce(Q,oe,fe,Ee,Re){return oe=+oe,fe>>>=0,Re||K(Q,0,fe,8),E.write(Q,oe,fe,Ee,52,8),fe+8}A.prototype.slice=function(oe,fe){var Ee=this.length;(oe=~~oe)<0?(oe+=Ee)<0&&(oe=0):oe>Ee&&(oe=Ee),(fe=void 0===fe?Ee:~~fe)<0?(fe+=Ee)<0&&(fe=0):fe>Ee&&(fe=Ee),fe<oe&&(fe=oe);var Re=this.subarray(oe,fe);return Object.setPrototypeOf(Re,A.prototype),Re},A.prototype.readUintLE=A.prototype.readUIntLE=function(oe,fe,Ee){oe>>>=0,fe>>>=0,Ee||v(oe,fe,this.length);for(var Re=this[oe],$e=1,Fe=0;++Fe<fe&&($e*=256);)Re+=this[oe+Fe]*$e;return Re},A.prototype.readUintBE=A.prototype.readUIntBE=function(oe,fe,Ee){oe>>>=0,fe>>>=0,Ee||v(oe,fe,this.length);for(var Re=this[oe+--fe],$e=1;fe>0&&($e*=256);)Re+=this[oe+--fe]*$e;return Re},A.prototype.readUint8=A.prototype.readUInt8=function(oe,fe){return oe>>>=0,fe||v(oe,1,this.length),this[oe]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(oe,fe){return oe>>>=0,fe||v(oe,2,this.length),this[oe]|this[oe+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(oe,fe){return oe>>>=0,fe||v(oe,2,this.length),this[oe]<<8|this[oe+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(oe,fe){return oe>>>=0,fe||v(oe,4,this.length),(this[oe]|this[oe+1]<<8|this[oe+2]<<16)+16777216*this[oe+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(oe,fe){return oe>>>=0,fe||v(oe,4,this.length),16777216*this[oe]+(this[oe+1]<<16|this[oe+2]<<8|this[oe+3])},A.prototype.readIntLE=function(oe,fe,Ee){oe>>>=0,fe>>>=0,Ee||v(oe,fe,this.length);for(var Re=this[oe],$e=1,Fe=0;++Fe<fe&&($e*=256);)Re+=this[oe+Fe]*$e;return Re>=($e*=128)&&(Re-=Math.pow(2,8*fe)),Re},A.prototype.readIntBE=function(oe,fe,Ee){oe>>>=0,fe>>>=0,Ee||v(oe,fe,this.length);for(var Re=fe,$e=1,Fe=this[oe+--Re];Re>0&&($e*=256);)Fe+=this[oe+--Re]*$e;return Fe>=($e*=128)&&(Fe-=Math.pow(2,8*fe)),Fe},A.prototype.readInt8=function(oe,fe){return oe>>>=0,fe||v(oe,1,this.length),128&this[oe]?-1*(255-this[oe]+1):this[oe]},A.prototype.readInt16LE=function(oe,fe){oe>>>=0,fe||v(oe,2,this.length);var Ee=this[oe]|this[oe+1]<<8;return 32768&Ee?4294901760|Ee:Ee},A.prototype.readInt16BE=function(oe,fe){oe>>>=0,fe||v(oe,2,this.length);var Ee=this[oe+1]|this[oe]<<8;return 32768&Ee?4294901760|Ee:Ee},A.prototype.readInt32LE=function(oe,fe){return oe>>>=0,fe||v(oe,4,this.length),this[oe]|this[oe+1]<<8|this[oe+2]<<16|this[oe+3]<<24},A.prototype.readInt32BE=function(oe,fe){return oe>>>=0,fe||v(oe,4,this.length),this[oe]<<24|this[oe+1]<<16|this[oe+2]<<8|this[oe+3]},A.prototype.readFloatLE=function(oe,fe){return oe>>>=0,fe||v(oe,4,this.length),E.read(this,oe,!0,23,4)},A.prototype.readFloatBE=function(oe,fe){return oe>>>=0,fe||v(oe,4,this.length),E.read(this,oe,!1,23,4)},A.prototype.readDoubleLE=function(oe,fe){return oe>>>=0,fe||v(oe,8,this.length),E.read(this,oe,!0,52,8)},A.prototype.readDoubleBE=function(oe,fe){return oe>>>=0,fe||v(oe,8,this.length),E.read(this,oe,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(oe,fe,Ee,Re){oe=+oe,fe>>>=0,Ee>>>=0,Re||W(this,oe,fe,Ee,Math.pow(2,8*Ee)-1,0);var Fe=1,_t=0;for(this[fe]=255&oe;++_t<Ee&&(Fe*=256);)this[fe+_t]=oe/Fe&255;return fe+Ee},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(oe,fe,Ee,Re){oe=+oe,fe>>>=0,Ee>>>=0,Re||W(this,oe,fe,Ee,Math.pow(2,8*Ee)-1,0);var Fe=Ee-1,_t=1;for(this[fe+Fe]=255&oe;--Fe>=0&&(_t*=256);)this[fe+Fe]=oe/_t&255;return fe+Ee},A.prototype.writeUint8=A.prototype.writeUInt8=function(oe,fe,Ee){return oe=+oe,fe>>>=0,Ee||W(this,oe,fe,1,255,0),this[fe]=255&oe,fe+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(oe,fe,Ee){return oe=+oe,fe>>>=0,Ee||W(this,oe,fe,2,65535,0),this[fe]=255&oe,this[fe+1]=oe>>>8,fe+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(oe,fe,Ee){return oe=+oe,fe>>>=0,Ee||W(this,oe,fe,2,65535,0),this[fe]=oe>>>8,this[fe+1]=255&oe,fe+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(oe,fe,Ee){return oe=+oe,fe>>>=0,Ee||W(this,oe,fe,4,4294967295,0),this[fe+3]=oe>>>24,this[fe+2]=oe>>>16,this[fe+1]=oe>>>8,this[fe]=255&oe,fe+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(oe,fe,Ee){return oe=+oe,fe>>>=0,Ee||W(this,oe,fe,4,4294967295,0),this[fe]=oe>>>24,this[fe+1]=oe>>>16,this[fe+2]=oe>>>8,this[fe+3]=255&oe,fe+4},A.prototype.writeIntLE=function(oe,fe,Ee,Re){if(oe=+oe,fe>>>=0,!Re){var $e=Math.pow(2,8*Ee-1);W(this,oe,fe,Ee,$e-1,-$e)}var Fe=0,_t=1,We=0;for(this[fe]=255&oe;++Fe<Ee&&(_t*=256);)oe<0&&0===We&&0!==this[fe+Fe-1]&&(We=1),this[fe+Fe]=(oe/_t|0)-We&255;return fe+Ee},A.prototype.writeIntBE=function(oe,fe,Ee,Re){if(oe=+oe,fe>>>=0,!Re){var $e=Math.pow(2,8*Ee-1);W(this,oe,fe,Ee,$e-1,-$e)}var Fe=Ee-1,_t=1,We=0;for(this[fe+Fe]=255&oe;--Fe>=0&&(_t*=256);)oe<0&&0===We&&0!==this[fe+Fe+1]&&(We=1),this[fe+Fe]=(oe/_t|0)-We&255;return fe+Ee},A.prototype.writeInt8=function(oe,fe,Ee){return oe=+oe,fe>>>=0,Ee||W(this,oe,fe,1,127,-128),oe<0&&(oe=255+oe+1),this[fe]=255&oe,fe+1},A.prototype.writeInt16LE=function(oe,fe,Ee){return oe=+oe,fe>>>=0,Ee||W(this,oe,fe,2,32767,-32768),this[fe]=255&oe,this[fe+1]=oe>>>8,fe+2},A.prototype.writeInt16BE=function(oe,fe,Ee){return oe=+oe,fe>>>=0,Ee||W(this,oe,fe,2,32767,-32768),this[fe]=oe>>>8,this[fe+1]=255&oe,fe+2},A.prototype.writeInt32LE=function(oe,fe,Ee){return oe=+oe,fe>>>=0,Ee||W(this,oe,fe,4,2147483647,-2147483648),this[fe]=255&oe,this[fe+1]=oe>>>8,this[fe+2]=oe>>>16,this[fe+3]=oe>>>24,fe+4},A.prototype.writeInt32BE=function(oe,fe,Ee){return oe=+oe,fe>>>=0,Ee||W(this,oe,fe,4,2147483647,-2147483648),oe<0&&(oe=4294967295+oe+1),this[fe]=oe>>>24,this[fe+1]=oe>>>16,this[fe+2]=oe>>>8,this[fe+3]=255&oe,fe+4},A.prototype.writeFloatLE=function(oe,fe,Ee){return ee(this,oe,fe,!0,Ee)},A.prototype.writeFloatBE=function(oe,fe,Ee){return ee(this,oe,fe,!1,Ee)},A.prototype.writeDoubleLE=function(oe,fe,Ee){return ce(this,oe,fe,!0,Ee)},A.prototype.writeDoubleBE=function(oe,fe,Ee){return ce(this,oe,fe,!1,Ee)},A.prototype.copy=function(oe,fe,Ee,Re){if(!A.isBuffer(oe))throw new TypeError("argument should be a Buffer");if(Ee||(Ee=0),!Re&&0!==Re&&(Re=this.length),fe>=oe.length&&(fe=oe.length),fe||(fe=0),Re>0&&Re<Ee&&(Re=Ee),Re===Ee||0===oe.length||0===this.length)return 0;if(fe<0)throw new RangeError("targetStart out of bounds");if(Ee<0||Ee>=this.length)throw new RangeError("Index out of range");if(Re<0)throw new RangeError("sourceEnd out of bounds");Re>this.length&&(Re=this.length),oe.length-fe<Re-Ee&&(Re=oe.length-fe+Ee);var $e=Re-Ee;return this===oe&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(fe,Ee,Re):Uint8Array.prototype.set.call(oe,this.subarray(Ee,Re),fe),$e},A.prototype.fill=function(oe,fe,Ee,Re){if("string"==typeof oe){if("string"==typeof fe?(Re=fe,fe=0,Ee=this.length):"string"==typeof Ee&&(Re=Ee,Ee=this.length),void 0!==Re&&"string"!=typeof Re)throw new TypeError("encoding must be a string");if("string"==typeof Re&&!A.isEncoding(Re))throw new TypeError("Unknown encoding: "+Re);if(1===oe.length){var $e=oe.charCodeAt(0);("utf8"===Re&&$e<128||"latin1"===Re)&&(oe=$e)}}else"number"==typeof oe?oe&=255:"boolean"==typeof oe&&(oe=Number(oe));if(fe<0||this.length<fe||this.length<Ee)throw new RangeError("Out of range index");if(Ee<=fe)return this;var Fe;if(fe>>>=0,Ee=void 0===Ee?this.length:Ee>>>0,oe||(oe=0),"number"==typeof oe)for(Fe=fe;Fe<Ee;++Fe)this[Fe]=oe;else{var _t=A.isBuffer(oe)?oe:A.from(oe,Re),We=_t.length;if(0===We)throw new TypeError('The value "'+oe+'" is invalid for argument "value"');for(Fe=0;Fe<Ee-fe;++Fe)this[Fe+fe]=_t[Fe%We]}return this};var _e=/[^+/0-9A-Za-z-_]/g;function Ve(Q,oe){oe=oe||1/0;for(var fe,Ee=Q.length,Re=null,$e=[],Fe=0;Fe<Ee;++Fe){if((fe=Q.charCodeAt(Fe))>55295&&fe<57344){if(!Re){if(fe>56319){(oe-=3)>-1&&$e.push(239,191,189);continue}if(Fe+1===Ee){(oe-=3)>-1&&$e.push(239,191,189);continue}Re=fe;continue}if(fe<56320){(oe-=3)>-1&&$e.push(239,191,189),Re=fe;continue}fe=65536+(Re-55296<<10|fe-56320)}else Re&&(oe-=3)>-1&&$e.push(239,191,189);if(Re=null,fe<128){if((oe-=1)<0)break;$e.push(fe)}else if(fe<2048){if((oe-=2)<0)break;$e.push(fe>>6|192,63&fe|128)}else if(fe<65536){if((oe-=3)<0)break;$e.push(fe>>12|224,fe>>6&63|128,63&fe|128)}else{if(!(fe<1114112))throw new Error("Invalid code point");if((oe-=4)<0)break;$e.push(fe>>18|240,fe>>12&63|128,fe>>6&63|128,63&fe|128)}}return $e}function Ue(Q){return d.toByteArray(function Oe(Q){if((Q=(Q=Q.split("=")[0]).trim().replace(_e,"")).length<2)return"";for(;Q.length%4!=0;)Q+="=";return Q}(Q))}function ye(Q,oe,fe,Ee){for(var Re=0;Re<Ee&&!(Re+fe>=oe.length||Re>=Q.length);++Re)oe[Re+fe]=Q[Re];return Re}function De(Q,oe){return Q instanceof oe||null!=Q&&null!=Q.constructor&&null!=Q.constructor.name&&Q.constructor.name===oe.name}function pe(Q){return Q!=Q}var ue=function(){for(var Q="0123456789abcdef",oe=new Array(256),fe=0;fe<16;++fe)for(var Ee=16*fe,Re=0;Re<16;++Re)oe[Ee+Re]=Q[fe]+Q[Re];return oe}()},28846:je=>{"use strict";je.exports=function H(w){if("number"==typeof w&&isNaN(w))throw new Error("NaN is not allowed");if("number"==typeof w&&!isFinite(w))throw new Error("Infinity is not allowed");return null===w||"object"!=typeof w?JSON.stringify(w):w.toJSON instanceof Function?H(w.toJSON()):Array.isArray(w)?`[${w.reduce((k,z,x)=>`${k}${0===x?"":","}${H(void 0===z||"symbol"==typeof z?null:z)}`,"")}]`:`{${Object.keys(w).sort().reduce((E,k)=>void 0===w[k]||"symbol"==typeof w[k]?E:`${E}${0===E.length?"":","}${H(k)}:${H(w[k])}`,"")}}`}},42381:(je,H,w)=>{"use strict";var d=w(78341);H.fromCallback=function(E,k){if(void 0===E){var z=new Promise(function(x,O){E=function(A,P){A?O(A):x(P)}});E[void 0!==k?k:"promise"]=z}else if("function"!=typeof E)throw new TypeError("Callback must be a function");return E},H.fromPromise=function(E,k){if(void 0===k)return E;E.then(function(z){d(()=>k(null,z))}).catch(function(z){d(()=>k(z))})}},78341:je=>{je.exports="function"==typeof queueMicrotask?queueMicrotask:H=>Promise.resolve().then(H)},3247:(je,H,w)=>{var d=w(27054).Buffer,E=w(7045).Transform,k=w(78454).StringDecoder;function x(O){E.call(this),this.hashMode="string"==typeof O,this.hashMode?this[O]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}w(71993)(x,E),x.prototype.update=function(O,A,P){"string"==typeof O&&(O=d.from(O,A));var F=this._update(O);return this.hashMode?this:(P&&(F=this._toString(F,P)),F)},x.prototype.setAutoPadding=function(){},x.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},x.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},x.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},x.prototype._transform=function(O,A,P){var F;try{this.hashMode?this._update(O):this.push(this._update(O))}catch(L){F=L}finally{P(F)}},x.prototype._flush=function(O){var A;try{this.push(this.__final())}catch(P){A=P}O(A)},x.prototype._finalOrDigest=function(O){var A=this.__final()||d.alloc(0);return O&&(A=this._toString(A,O,!0)),A},x.prototype._toString=function(O,A,P){if(this._decoder||(this._decoder=new k(A),this._encoding=A),this._encoding!==A)throw new Error("can't switch encodings");var F=this._decoder.write(O);return P&&(F+=this._decoder.end()),F},je.exports=x},27637:(je,H,w)=>{function re(te){return Object.prototype.toString.call(te)}H.isArray=function d(te){return Array.isArray?Array.isArray(te):"[object Array]"===re(te)},H.isBoolean=function E(te){return"boolean"==typeof te},H.isNull=function k(te){return null===te},H.isNullOrUndefined=function z(te){return null==te},H.isNumber=function x(te){return"number"==typeof te},H.isString=function O(te){return"string"==typeof te},H.isSymbol=function A(te){return"symbol"==typeof te},H.isUndefined=function P(te){return void 0===te},H.isRegExp=function F(te){return"[object RegExp]"===re(te)},H.isObject=function L(te){return"object"==typeof te&&null!==te},H.isDate=function D(te){return"[object Date]"===re(te)},H.isError=function X(te){return"[object Error]"===re(te)||te instanceof Error},H.isFunction=function j(te){return"function"==typeof te},H.isPrimitive=function G(te){return null===te||"boolean"==typeof te||"number"==typeof te||"string"==typeof te||"symbol"==typeof te||typeof te>"u"},H.isBuffer=w(83838).Buffer.isBuffer},87303:(je,H,w)=>{var d=w(90518),E=w(89606);je.exports=function(A){return new z(A)};var k={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function z(O){this.curveType=k[O],this.curveType||(this.curveType={name:O}),this.curve=new d.ec(this.curveType.name),this.keys=void 0}function x(O,A,P){Array.isArray(O)||(O=O.toArray());var F=new Buffer(O);if(P&&F.length<P){var L=new Buffer(P-F.length);L.fill(0),F=Buffer.concat([L,F])}return A?F.toString(A):F}k.p224=k.secp224r1,k.p256=k.secp256r1=k.prime256v1,k.p192=k.secp192r1=k.prime192v1,k.p384=k.secp384r1,k.p521=k.secp521r1,z.prototype.generateKeys=function(O,A){return this.keys=this.curve.genKeyPair(),this.getPublicKey(O,A)},z.prototype.computeSecret=function(O,A,P){return A=A||"utf8",Buffer.isBuffer(O)||(O=new Buffer(O,A)),x(this.curve.keyFromPublic(O).getPublic().mul(this.keys.getPrivate()).getX(),P,this.curveType.byteLength)},z.prototype.getPublicKey=function(O,A){var P=this.keys.getPublic("compressed"===A,!0);return"hybrid"===A&&(P[0]=P[P.length-1]%2?7:6),x(P,O)},z.prototype.getPrivateKey=function(O){return x(this.keys.getPrivate(),O)},z.prototype.setPublicKey=function(O,A){return A=A||"utf8",Buffer.isBuffer(O)||(O=new Buffer(O,A)),this.keys._importPublic(O),this},z.prototype.setPrivateKey=function(O,A){A=A||"utf8",Buffer.isBuffer(O)||(O=new Buffer(O,A));var P=new E(O);return P=P.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(P),this}},89606:function(je,H,w){!function(d,E){"use strict";function k(C,a){if(!C)throw new Error(a||"Assertion failed")}function z(C,a){C.super_=a;var f=function(){};f.prototype=a.prototype,C.prototype=new f,C.prototype.constructor=C}function x(C,a,f){if(x.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(f=a,a=10),this._init(C||0,a||10,f||"be"))}var O;"object"==typeof d?d.exports=x:E.BN=x,x.BN=x,x.wordSize=26;try{O=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:w(77965).Buffer}catch{}function A(C,a){var f=C.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function P(C,a,f){var y=A(C,f);return f-1>=a&&(y|=A(C,f-1)<<4),y}function F(C,a,f,y){for(var g=0,M=Math.min(C.length,f),T=a;T<M;T++){var B=C.charCodeAt(T)-48;g*=y,g+=B>=49?B-49+10:B>=17?B-17+10:B}return g}x.isBN=function(a){return a instanceof x||null!==a&&"object"==typeof a&&a.constructor.wordSize===x.wordSize&&Array.isArray(a.words)},x.max=function(a,f){return a.cmp(f)>0?a:f},x.min=function(a,f){return a.cmp(f)<0?a:f},x.prototype._init=function(a,f,y){if("number"==typeof a)return this._initNumber(a,f,y);if("object"==typeof a)return this._initArray(a,f,y);"hex"===f&&(f=16),k(f===(0|f)&&f>=2&&f<=36);var g=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(g++,this.negative=1),g<a.length&&(16===f?this._parseHex(a,g,y):(this._parseBase(a,f,g),"le"===y&&this._initArray(this.toArray(),f,y)))},x.prototype._initNumber=function(a,f,y){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(k(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),f,y)},x.prototype._initArray=function(a,f,y){if(k("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var M,T,B=0;if("be"===y)for(g=a.length-1,M=0;g>=0;g-=3)this.words[M]|=(T=a[g]|a[g-1]<<8|a[g-2]<<16)<<B&67108863,this.words[M+1]=T>>>26-B&67108863,(B+=24)>=26&&(B-=26,M++);else if("le"===y)for(g=0,M=0;g<a.length;g+=3)this.words[M]|=(T=a[g]|a[g+1]<<8|a[g+2]<<16)<<B&67108863,this.words[M+1]=T>>>26-B&67108863,(B+=24)>=26&&(B-=26,M++);return this.strip()},x.prototype._parseHex=function(a,f,y){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var B,M=0,T=0;if("be"===y)for(g=a.length-1;g>=f;g-=2)B=P(a,f,g)<<M,this.words[T]|=67108863&B,M>=18?(M-=18,this.words[T+=1]|=B>>>26):M+=8;else for(g=(a.length-f)%2==0?f+1:f;g<a.length;g+=2)B=P(a,f,g)<<M,this.words[T]|=67108863&B,M>=18?(M-=18,this.words[T+=1]|=B>>>26):M+=8;this.strip()},x.prototype._parseBase=function(a,f,y){this.words=[0],this.length=1;for(var g=0,M=1;M<=67108863;M*=f)g++;g--,M=M/f|0;for(var T=a.length-y,B=T%g,S=Math.min(T,T-B)+y,s=0,v=y;v<S;v+=g)s=F(a,v,v+g,f),this.imuln(M),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==B){var W=1;for(s=F(a,v,a.length,f),v=0;v<B;v++)W*=f;this.imuln(W),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},x.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},x.prototype.clone=function(){var a=new x(null);return this.copy(a),a},x.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},x.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},x.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var L=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function G(C,a,f){f.negative=a.negative^C.negative;var y=C.length+a.length|0;f.length=y,y=y-1|0;var g=0|C.words[0],M=0|a.words[0],T=g*M,S=T/67108864|0;f.words[0]=67108863&T;for(var s=1;s<y;s++){for(var v=S>>>26,W=67108863&S,K=Math.min(s,a.length-1),ee=Math.max(0,s-C.length+1);ee<=K;ee++)v+=(T=(g=0|C.words[s-ee|0])*(M=0|a.words[ee])+W)/67108864|0,W=67108863&T;f.words[s]=0|W,S=0|v}return 0!==S?f.words[s]=0|S:f.length--,f.strip()}x.prototype.toString=function(a,f){var y;if(f=0|f||1,16===(a=a||10)||"hex"===a){y="";for(var g=0,M=0,T=0;T<this.length;T++){var B=this.words[T],S=(16777215&(B<<g|M)).toString(16);y=0!=(M=B>>>24-g&16777215)||T!==this.length-1?L[6-S.length]+S+y:S+y,(g+=2)>=26&&(g-=26,T--)}for(0!==M&&(y=M.toString(16)+y);y.length%f!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(a===(0|a)&&a>=2&&a<=36){var s=D[a],v=X[a];y="";var W=this.clone();for(W.negative=0;!W.isZero();){var K=W.modn(v).toString(a);y=(W=W.idivn(v)).isZero()?K+y:L[s-K.length]+K+y}for(this.isZero()&&(y="0"+y);y.length%f!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}k(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&k(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},x.prototype.toJSON=function(){return this.toString(16)},x.prototype.toBuffer=function(a,f){return k(typeof O<"u"),this.toArrayLike(O,a,f)},x.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},x.prototype.toArrayLike=function(a,f,y){var g=this.byteLength(),M=y||Math.max(1,g);k(g<=M,"byte array longer than desired length"),k(M>0,"Requested array length <= 0"),this.strip();var S,s,T="le"===f,B=new a(M),v=this.clone();if(T){for(s=0;!v.isZero();s++)S=v.andln(255),v.iushrn(8),B[s]=S;for(;s<M;s++)B[s]=0}else{for(s=0;s<M-g;s++)B[s]=0;for(s=0;!v.isZero();s++)S=v.andln(255),v.iushrn(8),B[M-s-1]=S}return B},x.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var f=a,y=0;return f>=4096&&(y+=13,f>>>=13),f>=64&&(y+=7,f>>>=7),f>=8&&(y+=4,f>>>=4),f>=2&&(y+=2,f>>>=2),y+f},x.prototype._zeroBits=function(a){if(0===a)return 26;var f=a,y=0;return 8191&f||(y+=13,f>>>=13),127&f||(y+=7,f>>>=7),15&f||(y+=4,f>>>=4),3&f||(y+=2,f>>>=2),1&f||y++,y},x.prototype.bitLength=function(){var f=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+f},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var y=this._zeroBits(this.words[f]);if(a+=y,26!==y)break}return a},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},x.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},x.prototype.ior=function(a){return k(!(this.negative|a.negative)),this.iuor(a)},x.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},x.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},x.prototype.iuand=function(a){var f;f=this.length>a.length?a:this;for(var y=0;y<f.length;y++)this.words[y]=this.words[y]&a.words[y];return this.length=f.length,this.strip()},x.prototype.iand=function(a){return k(!(this.negative|a.negative)),this.iuand(a)},x.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},x.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},x.prototype.iuxor=function(a){var f,y;this.length>a.length?(f=this,y=a):(f=a,y=this);for(var g=0;g<y.length;g++)this.words[g]=f.words[g]^y.words[g];if(this!==f)for(;g<f.length;g++)this.words[g]=f.words[g];return this.length=f.length,this.strip()},x.prototype.ixor=function(a){return k(!(this.negative|a.negative)),this.iuxor(a)},x.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},x.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},x.prototype.inotn=function(a){k("number"==typeof a&&a>=0);var f=0|Math.ceil(a/26),y=a%26;this._expand(f),y>0&&f--;for(var g=0;g<f;g++)this.words[g]=67108863&~this.words[g];return y>0&&(this.words[g]=~this.words[g]&67108863>>26-y),this.strip()},x.prototype.notn=function(a){return this.clone().inotn(a)},x.prototype.setn=function(a,f){k("number"==typeof a&&a>=0);var y=a/26|0,g=a%26;return this._expand(y+1),this.words[y]=f?this.words[y]|1<<g:this.words[y]&~(1<<g),this.strip()},x.prototype.iadd=function(a){var f,y,g;if(0!==this.negative&&0===a.negative)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();this.length>a.length?(y=this,g=a):(y=a,g=this);for(var M=0,T=0;T<g.length;T++)this.words[T]=67108863&(f=(0|y.words[T])+(0|g.words[T])+M),M=f>>>26;for(;0!==M&&T<y.length;T++)this.words[T]=67108863&(f=(0|y.words[T])+M),M=f>>>26;if(this.length=y.length,0!==M)this.words[this.length]=M,this.length++;else if(y!==this)for(;T<y.length;T++)this.words[T]=y.words[T];return this},x.prototype.add=function(a){var f;return 0!==a.negative&&0===this.negative?(a.negative=0,f=this.sub(a),a.negative^=1,f):0===a.negative&&0!==this.negative?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},x.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var g,M,y=this.cmp(a);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(g=this,M=a):(g=a,M=this);for(var T=0,B=0;B<M.length;B++)T=(f=(0|g.words[B])-(0|M.words[B])+T)>>26,this.words[B]=67108863&f;for(;0!==T&&B<g.length;B++)T=(f=(0|g.words[B])+T)>>26,this.words[B]=67108863&f;if(0===T&&B<g.length&&g!==this)for(;B<g.length;B++)this.words[B]=g.words[B];return this.length=Math.max(this.length,B),g!==this&&(this.negative=1),this.strip()},x.prototype.sub=function(a){return this.clone().isub(a)};var re=function(a,f,y){var S,s,v,g=a.words,M=f.words,T=y.words,B=0,W=0|g[0],K=8191&W,ee=W>>>13,ce=0|g[1],_e=8191&ce,Oe=ce>>>13,Ve=0|g[2],Se=8191&Ve,we=Ve>>>13,Ue=0|g[3],ye=8191&Ue,De=Ue>>>13,pe=0|g[4],ue=8191&pe,Q=pe>>>13,oe=0|g[5],fe=8191&oe,Ee=oe>>>13,Re=0|g[6],$e=8191&Re,Fe=Re>>>13,_t=0|g[7],We=8191&_t,Le=_t>>>13,lt=0|g[8],N=8191&lt,_=lt>>>13,m=0|g[9],U=8191&m,ne=m>>>13,ge=0|M[0],Ae=8191&ge,tt=ge>>>13,Bt=0|M[1],gt=8191&Bt,It=Bt>>>13,Zt=0|M[2],mn=8191&Zt,dn=Zt>>>13,ar=0|M[3],An=8191&ar,en=ar>>>13,Qt=0|M[4],Et=8191&Qt,ft=Qt>>>13,Ht=0|M[5],qt=8191&Ht,hn=Ht>>>13,hr=0|M[6],vt=8191&hr,St=hr>>>13,Mt=0|M[7],Ye=8191&Mt,nt=Mt>>>13,Wt=0|M[8],Nt=8191&Wt,un=Wt>>>13,Wn=0|M[9],En=8191&Wn,kn=Wn>>>13;y.negative=a.negative^f.negative,y.length=19;var Or=(B+(S=Math.imul(K,Ae))|0)+((8191&(s=(s=Math.imul(K,tt))+Math.imul(ee,Ae)|0))<<13)|0;B=((v=Math.imul(ee,tt))+(s>>>13)|0)+(Or>>>26)|0,Or&=67108863,S=Math.imul(_e,Ae),s=(s=Math.imul(_e,tt))+Math.imul(Oe,Ae)|0,v=Math.imul(Oe,tt);var Jn=(B+(S=S+Math.imul(K,gt)|0)|0)+((8191&(s=(s=s+Math.imul(K,It)|0)+Math.imul(ee,gt)|0))<<13)|0;B=((v=v+Math.imul(ee,It)|0)+(s>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,S=Math.imul(Se,Ae),s=(s=Math.imul(Se,tt))+Math.imul(we,Ae)|0,v=Math.imul(we,tt),S=S+Math.imul(_e,gt)|0,s=(s=s+Math.imul(_e,It)|0)+Math.imul(Oe,gt)|0,v=v+Math.imul(Oe,It)|0;var Fn=(B+(S=S+Math.imul(K,mn)|0)|0)+((8191&(s=(s=s+Math.imul(K,dn)|0)+Math.imul(ee,mn)|0))<<13)|0;B=((v=v+Math.imul(ee,dn)|0)+(s>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,S=Math.imul(ye,Ae),s=(s=Math.imul(ye,tt))+Math.imul(De,Ae)|0,v=Math.imul(De,tt),S=S+Math.imul(Se,gt)|0,s=(s=s+Math.imul(Se,It)|0)+Math.imul(we,gt)|0,v=v+Math.imul(we,It)|0,S=S+Math.imul(_e,mn)|0,s=(s=s+Math.imul(_e,dn)|0)+Math.imul(Oe,mn)|0,v=v+Math.imul(Oe,dn)|0;var Lt=(B+(S=S+Math.imul(K,An)|0)|0)+((8191&(s=(s=s+Math.imul(K,en)|0)+Math.imul(ee,An)|0))<<13)|0;B=((v=v+Math.imul(ee,en)|0)+(s>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,S=Math.imul(ue,Ae),s=(s=Math.imul(ue,tt))+Math.imul(Q,Ae)|0,v=Math.imul(Q,tt),S=S+Math.imul(ye,gt)|0,s=(s=s+Math.imul(ye,It)|0)+Math.imul(De,gt)|0,v=v+Math.imul(De,It)|0,S=S+Math.imul(Se,mn)|0,s=(s=s+Math.imul(Se,dn)|0)+Math.imul(we,mn)|0,v=v+Math.imul(we,dn)|0,S=S+Math.imul(_e,An)|0,s=(s=s+Math.imul(_e,en)|0)+Math.imul(Oe,An)|0,v=v+Math.imul(Oe,en)|0;var et=(B+(S=S+Math.imul(K,Et)|0)|0)+((8191&(s=(s=s+Math.imul(K,ft)|0)+Math.imul(ee,Et)|0))<<13)|0;B=((v=v+Math.imul(ee,ft)|0)+(s>>>13)|0)+(et>>>26)|0,et&=67108863,S=Math.imul(fe,Ae),s=(s=Math.imul(fe,tt))+Math.imul(Ee,Ae)|0,v=Math.imul(Ee,tt),S=S+Math.imul(ue,gt)|0,s=(s=s+Math.imul(ue,It)|0)+Math.imul(Q,gt)|0,v=v+Math.imul(Q,It)|0,S=S+Math.imul(ye,mn)|0,s=(s=s+Math.imul(ye,dn)|0)+Math.imul(De,mn)|0,v=v+Math.imul(De,dn)|0,S=S+Math.imul(Se,An)|0,s=(s=s+Math.imul(Se,en)|0)+Math.imul(we,An)|0,v=v+Math.imul(we,en)|0,S=S+Math.imul(_e,Et)|0,s=(s=s+Math.imul(_e,ft)|0)+Math.imul(Oe,Et)|0,v=v+Math.imul(Oe,ft)|0;var Te=(B+(S=S+Math.imul(K,qt)|0)|0)+((8191&(s=(s=s+Math.imul(K,hn)|0)+Math.imul(ee,qt)|0))<<13)|0;B=((v=v+Math.imul(ee,hn)|0)+(s>>>13)|0)+(Te>>>26)|0,Te&=67108863,S=Math.imul($e,Ae),s=(s=Math.imul($e,tt))+Math.imul(Fe,Ae)|0,v=Math.imul(Fe,tt),S=S+Math.imul(fe,gt)|0,s=(s=s+Math.imul(fe,It)|0)+Math.imul(Ee,gt)|0,v=v+Math.imul(Ee,It)|0,S=S+Math.imul(ue,mn)|0,s=(s=s+Math.imul(ue,dn)|0)+Math.imul(Q,mn)|0,v=v+Math.imul(Q,dn)|0,S=S+Math.imul(ye,An)|0,s=(s=s+Math.imul(ye,en)|0)+Math.imul(De,An)|0,v=v+Math.imul(De,en)|0,S=S+Math.imul(Se,Et)|0,s=(s=s+Math.imul(Se,ft)|0)+Math.imul(we,Et)|0,v=v+Math.imul(we,ft)|0,S=S+Math.imul(_e,qt)|0,s=(s=s+Math.imul(_e,hn)|0)+Math.imul(Oe,qt)|0,v=v+Math.imul(Oe,hn)|0;var Ne=(B+(S=S+Math.imul(K,vt)|0)|0)+((8191&(s=(s=s+Math.imul(K,St)|0)+Math.imul(ee,vt)|0))<<13)|0;B=((v=v+Math.imul(ee,St)|0)+(s>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,S=Math.imul(We,Ae),s=(s=Math.imul(We,tt))+Math.imul(Le,Ae)|0,v=Math.imul(Le,tt),S=S+Math.imul($e,gt)|0,s=(s=s+Math.imul($e,It)|0)+Math.imul(Fe,gt)|0,v=v+Math.imul(Fe,It)|0,S=S+Math.imul(fe,mn)|0,s=(s=s+Math.imul(fe,dn)|0)+Math.imul(Ee,mn)|0,v=v+Math.imul(Ee,dn)|0,S=S+Math.imul(ue,An)|0,s=(s=s+Math.imul(ue,en)|0)+Math.imul(Q,An)|0,v=v+Math.imul(Q,en)|0,S=S+Math.imul(ye,Et)|0,s=(s=s+Math.imul(ye,ft)|0)+Math.imul(De,Et)|0,v=v+Math.imul(De,ft)|0,S=S+Math.imul(Se,qt)|0,s=(s=s+Math.imul(Se,hn)|0)+Math.imul(we,qt)|0,v=v+Math.imul(we,hn)|0,S=S+Math.imul(_e,vt)|0,s=(s=s+Math.imul(_e,St)|0)+Math.imul(Oe,vt)|0,v=v+Math.imul(Oe,St)|0;var xt=(B+(S=S+Math.imul(K,Ye)|0)|0)+((8191&(s=(s=s+Math.imul(K,nt)|0)+Math.imul(ee,Ye)|0))<<13)|0;B=((v=v+Math.imul(ee,nt)|0)+(s>>>13)|0)+(xt>>>26)|0,xt&=67108863,S=Math.imul(N,Ae),s=(s=Math.imul(N,tt))+Math.imul(_,Ae)|0,v=Math.imul(_,tt),S=S+Math.imul(We,gt)|0,s=(s=s+Math.imul(We,It)|0)+Math.imul(Le,gt)|0,v=v+Math.imul(Le,It)|0,S=S+Math.imul($e,mn)|0,s=(s=s+Math.imul($e,dn)|0)+Math.imul(Fe,mn)|0,v=v+Math.imul(Fe,dn)|0,S=S+Math.imul(fe,An)|0,s=(s=s+Math.imul(fe,en)|0)+Math.imul(Ee,An)|0,v=v+Math.imul(Ee,en)|0,S=S+Math.imul(ue,Et)|0,s=(s=s+Math.imul(ue,ft)|0)+Math.imul(Q,Et)|0,v=v+Math.imul(Q,ft)|0,S=S+Math.imul(ye,qt)|0,s=(s=s+Math.imul(ye,hn)|0)+Math.imul(De,qt)|0,v=v+Math.imul(De,hn)|0,S=S+Math.imul(Se,vt)|0,s=(s=s+Math.imul(Se,St)|0)+Math.imul(we,vt)|0,v=v+Math.imul(we,St)|0,S=S+Math.imul(_e,Ye)|0,s=(s=s+Math.imul(_e,nt)|0)+Math.imul(Oe,Ye)|0,v=v+Math.imul(Oe,nt)|0;var nn=(B+(S=S+Math.imul(K,Nt)|0)|0)+((8191&(s=(s=s+Math.imul(K,un)|0)+Math.imul(ee,Nt)|0))<<13)|0;B=((v=v+Math.imul(ee,un)|0)+(s>>>13)|0)+(nn>>>26)|0,nn&=67108863,S=Math.imul(U,Ae),s=(s=Math.imul(U,tt))+Math.imul(ne,Ae)|0,v=Math.imul(ne,tt),S=S+Math.imul(N,gt)|0,s=(s=s+Math.imul(N,It)|0)+Math.imul(_,gt)|0,v=v+Math.imul(_,It)|0,S=S+Math.imul(We,mn)|0,s=(s=s+Math.imul(We,dn)|0)+Math.imul(Le,mn)|0,v=v+Math.imul(Le,dn)|0,S=S+Math.imul($e,An)|0,s=(s=s+Math.imul($e,en)|0)+Math.imul(Fe,An)|0,v=v+Math.imul(Fe,en)|0,S=S+Math.imul(fe,Et)|0,s=(s=s+Math.imul(fe,ft)|0)+Math.imul(Ee,Et)|0,v=v+Math.imul(Ee,ft)|0,S=S+Math.imul(ue,qt)|0,s=(s=s+Math.imul(ue,hn)|0)+Math.imul(Q,qt)|0,v=v+Math.imul(Q,hn)|0,S=S+Math.imul(ye,vt)|0,s=(s=s+Math.imul(ye,St)|0)+Math.imul(De,vt)|0,v=v+Math.imul(De,St)|0,S=S+Math.imul(Se,Ye)|0,s=(s=s+Math.imul(Se,nt)|0)+Math.imul(we,Ye)|0,v=v+Math.imul(we,nt)|0,S=S+Math.imul(_e,Nt)|0,s=(s=s+Math.imul(_e,un)|0)+Math.imul(Oe,Nt)|0,v=v+Math.imul(Oe,un)|0;var In=(B+(S=S+Math.imul(K,En)|0)|0)+((8191&(s=(s=s+Math.imul(K,kn)|0)+Math.imul(ee,En)|0))<<13)|0;B=((v=v+Math.imul(ee,kn)|0)+(s>>>13)|0)+(In>>>26)|0,In&=67108863,S=Math.imul(U,gt),s=(s=Math.imul(U,It))+Math.imul(ne,gt)|0,v=Math.imul(ne,It),S=S+Math.imul(N,mn)|0,s=(s=s+Math.imul(N,dn)|0)+Math.imul(_,mn)|0,v=v+Math.imul(_,dn)|0,S=S+Math.imul(We,An)|0,s=(s=s+Math.imul(We,en)|0)+Math.imul(Le,An)|0,v=v+Math.imul(Le,en)|0,S=S+Math.imul($e,Et)|0,s=(s=s+Math.imul($e,ft)|0)+Math.imul(Fe,Et)|0,v=v+Math.imul(Fe,ft)|0,S=S+Math.imul(fe,qt)|0,s=(s=s+Math.imul(fe,hn)|0)+Math.imul(Ee,qt)|0,v=v+Math.imul(Ee,hn)|0,S=S+Math.imul(ue,vt)|0,s=(s=s+Math.imul(ue,St)|0)+Math.imul(Q,vt)|0,v=v+Math.imul(Q,St)|0,S=S+Math.imul(ye,Ye)|0,s=(s=s+Math.imul(ye,nt)|0)+Math.imul(De,Ye)|0,v=v+Math.imul(De,nt)|0,S=S+Math.imul(Se,Nt)|0,s=(s=s+Math.imul(Se,un)|0)+Math.imul(we,Nt)|0,v=v+Math.imul(we,un)|0;var Kn=(B+(S=S+Math.imul(_e,En)|0)|0)+((8191&(s=(s=s+Math.imul(_e,kn)|0)+Math.imul(Oe,En)|0))<<13)|0;B=((v=v+Math.imul(Oe,kn)|0)+(s>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,S=Math.imul(U,mn),s=(s=Math.imul(U,dn))+Math.imul(ne,mn)|0,v=Math.imul(ne,dn),S=S+Math.imul(N,An)|0,s=(s=s+Math.imul(N,en)|0)+Math.imul(_,An)|0,v=v+Math.imul(_,en)|0,S=S+Math.imul(We,Et)|0,s=(s=s+Math.imul(We,ft)|0)+Math.imul(Le,Et)|0,v=v+Math.imul(Le,ft)|0,S=S+Math.imul($e,qt)|0,s=(s=s+Math.imul($e,hn)|0)+Math.imul(Fe,qt)|0,v=v+Math.imul(Fe,hn)|0,S=S+Math.imul(fe,vt)|0,s=(s=s+Math.imul(fe,St)|0)+Math.imul(Ee,vt)|0,v=v+Math.imul(Ee,St)|0,S=S+Math.imul(ue,Ye)|0,s=(s=s+Math.imul(ue,nt)|0)+Math.imul(Q,Ye)|0,v=v+Math.imul(Q,nt)|0,S=S+Math.imul(ye,Nt)|0,s=(s=s+Math.imul(ye,un)|0)+Math.imul(De,Nt)|0,v=v+Math.imul(De,un)|0;var er=(B+(S=S+Math.imul(Se,En)|0)|0)+((8191&(s=(s=s+Math.imul(Se,kn)|0)+Math.imul(we,En)|0))<<13)|0;B=((v=v+Math.imul(we,kn)|0)+(s>>>13)|0)+(er>>>26)|0,er&=67108863,S=Math.imul(U,An),s=(s=Math.imul(U,en))+Math.imul(ne,An)|0,v=Math.imul(ne,en),S=S+Math.imul(N,Et)|0,s=(s=s+Math.imul(N,ft)|0)+Math.imul(_,Et)|0,v=v+Math.imul(_,ft)|0,S=S+Math.imul(We,qt)|0,s=(s=s+Math.imul(We,hn)|0)+Math.imul(Le,qt)|0,v=v+Math.imul(Le,hn)|0,S=S+Math.imul($e,vt)|0,s=(s=s+Math.imul($e,St)|0)+Math.imul(Fe,vt)|0,v=v+Math.imul(Fe,St)|0,S=S+Math.imul(fe,Ye)|0,s=(s=s+Math.imul(fe,nt)|0)+Math.imul(Ee,Ye)|0,v=v+Math.imul(Ee,nt)|0,S=S+Math.imul(ue,Nt)|0,s=(s=s+Math.imul(ue,un)|0)+Math.imul(Q,Nt)|0,v=v+Math.imul(Q,un)|0;var _r=(B+(S=S+Math.imul(ye,En)|0)|0)+((8191&(s=(s=s+Math.imul(ye,kn)|0)+Math.imul(De,En)|0))<<13)|0;B=((v=v+Math.imul(De,kn)|0)+(s>>>13)|0)+(_r>>>26)|0,_r&=67108863,S=Math.imul(U,Et),s=(s=Math.imul(U,ft))+Math.imul(ne,Et)|0,v=Math.imul(ne,ft),S=S+Math.imul(N,qt)|0,s=(s=s+Math.imul(N,hn)|0)+Math.imul(_,qt)|0,v=v+Math.imul(_,hn)|0,S=S+Math.imul(We,vt)|0,s=(s=s+Math.imul(We,St)|0)+Math.imul(Le,vt)|0,v=v+Math.imul(Le,St)|0,S=S+Math.imul($e,Ye)|0,s=(s=s+Math.imul($e,nt)|0)+Math.imul(Fe,Ye)|0,v=v+Math.imul(Fe,nt)|0,S=S+Math.imul(fe,Nt)|0,s=(s=s+Math.imul(fe,un)|0)+Math.imul(Ee,Nt)|0,v=v+Math.imul(Ee,un)|0;var Tr=(B+(S=S+Math.imul(ue,En)|0)|0)+((8191&(s=(s=s+Math.imul(ue,kn)|0)+Math.imul(Q,En)|0))<<13)|0;B=((v=v+Math.imul(Q,kn)|0)+(s>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,S=Math.imul(U,qt),s=(s=Math.imul(U,hn))+Math.imul(ne,qt)|0,v=Math.imul(ne,hn),S=S+Math.imul(N,vt)|0,s=(s=s+Math.imul(N,St)|0)+Math.imul(_,vt)|0,v=v+Math.imul(_,St)|0,S=S+Math.imul(We,Ye)|0,s=(s=s+Math.imul(We,nt)|0)+Math.imul(Le,Ye)|0,v=v+Math.imul(Le,nt)|0,S=S+Math.imul($e,Nt)|0,s=(s=s+Math.imul($e,un)|0)+Math.imul(Fe,Nt)|0,v=v+Math.imul(Fe,un)|0;var Br=(B+(S=S+Math.imul(fe,En)|0)|0)+((8191&(s=(s=s+Math.imul(fe,kn)|0)+Math.imul(Ee,En)|0))<<13)|0;B=((v=v+Math.imul(Ee,kn)|0)+(s>>>13)|0)+(Br>>>26)|0,Br&=67108863,S=Math.imul(U,vt),s=(s=Math.imul(U,St))+Math.imul(ne,vt)|0,v=Math.imul(ne,St),S=S+Math.imul(N,Ye)|0,s=(s=s+Math.imul(N,nt)|0)+Math.imul(_,Ye)|0,v=v+Math.imul(_,nt)|0,S=S+Math.imul(We,Nt)|0,s=(s=s+Math.imul(We,un)|0)+Math.imul(Le,Nt)|0,v=v+Math.imul(Le,un)|0;var jr=(B+(S=S+Math.imul($e,En)|0)|0)+((8191&(s=(s=s+Math.imul($e,kn)|0)+Math.imul(Fe,En)|0))<<13)|0;B=((v=v+Math.imul(Fe,kn)|0)+(s>>>13)|0)+(jr>>>26)|0,jr&=67108863,S=Math.imul(U,Ye),s=(s=Math.imul(U,nt))+Math.imul(ne,Ye)|0,v=Math.imul(ne,nt),S=S+Math.imul(N,Nt)|0,s=(s=s+Math.imul(N,un)|0)+Math.imul(_,Nt)|0,v=v+Math.imul(_,un)|0;var Zr=(B+(S=S+Math.imul(We,En)|0)|0)+((8191&(s=(s=s+Math.imul(We,kn)|0)+Math.imul(Le,En)|0))<<13)|0;B=((v=v+Math.imul(Le,kn)|0)+(s>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,S=Math.imul(U,Nt),s=(s=Math.imul(U,un))+Math.imul(ne,Nt)|0,v=Math.imul(ne,un);var tn=(B+(S=S+Math.imul(N,En)|0)|0)+((8191&(s=(s=s+Math.imul(N,kn)|0)+Math.imul(_,En)|0))<<13)|0;B=((v=v+Math.imul(_,kn)|0)+(s>>>13)|0)+(tn>>>26)|0,tn&=67108863;var _n=(B+(S=Math.imul(U,En))|0)+((8191&(s=(s=Math.imul(U,kn))+Math.imul(ne,En)|0))<<13)|0;return B=((v=Math.imul(ne,kn))+(s>>>13)|0)+(_n>>>26)|0,_n&=67108863,T[0]=Or,T[1]=Jn,T[2]=Fn,T[3]=Lt,T[4]=et,T[5]=Te,T[6]=Ne,T[7]=xt,T[8]=nn,T[9]=In,T[10]=Kn,T[11]=er,T[12]=_r,T[13]=Tr,T[14]=Br,T[15]=jr,T[16]=Zr,T[17]=tn,T[18]=_n,0!==B&&(T[19]=B,y.length++),y};function J(C,a,f){return(new Z).mulp(C,a,f)}function Z(C,a){this.x=C,this.y=a}Math.imul||(re=G),x.prototype.mulTo=function(a,f){var y,g=this.length+a.length;return y=10===this.length&&10===a.length?re(this,a,f):g<63?G(this,a,f):g<1024?function te(C,a,f){f.negative=a.negative^C.negative,f.length=C.length+a.length;for(var y=0,g=0,M=0;M<f.length-1;M++){var T=g;g=0;for(var B=67108863&y,S=Math.min(M,a.length-1),s=Math.max(0,M-C.length+1);s<=S;s++){var ee=(0|C.words[M-s])*(0|a.words[s]),ce=67108863&ee;B=67108863&(ce=ce+B|0),g+=(T=(T=T+(ee/67108864|0)|0)+(ce>>>26)|0)>>>26,T&=67108863}f.words[M]=B,y=T,T=g}return 0!==y?f.words[M]=y:f.length--,f.strip()}(this,a,f):J(this,a,f),y},Z.prototype.makeRBT=function(a){for(var f=new Array(a),y=x.prototype._countBits(a)-1,g=0;g<a;g++)f[g]=this.revBin(g,y,a);return f},Z.prototype.revBin=function(a,f,y){if(0===a||a===y-1)return a;for(var g=0,M=0;M<f;M++)g|=(1&a)<<f-M-1,a>>=1;return g},Z.prototype.permute=function(a,f,y,g,M,T){for(var B=0;B<T;B++)g[B]=f[a[B]],M[B]=y[a[B]]},Z.prototype.transform=function(a,f,y,g,M,T){this.permute(T,a,f,y,g,M);for(var B=1;B<M;B<<=1)for(var S=B<<1,s=Math.cos(2*Math.PI/S),v=Math.sin(2*Math.PI/S),W=0;W<M;W+=S)for(var K=s,ee=v,ce=0;ce<B;ce++){var _e=y[W+ce],Oe=g[W+ce],Ve=y[W+ce+B],Se=g[W+ce+B],we=K*Ve-ee*Se;Se=K*Se+ee*Ve,y[W+ce]=_e+(Ve=we),g[W+ce]=Oe+Se,y[W+ce+B]=_e-Ve,g[W+ce+B]=Oe-Se,ce!==S&&(we=s*K-v*ee,ee=s*ee+v*K,K=we)}},Z.prototype.guessLen13b=function(a,f){var y=1|Math.max(f,a),g=1&y,M=0;for(y=y/2|0;y;y>>>=1)M++;return 1<<M+1+g},Z.prototype.conjugate=function(a,f,y){if(!(y<=1))for(var g=0;g<y/2;g++){var M=a[g];a[g]=a[y-g-1],a[y-g-1]=M,M=f[g],f[g]=-f[y-g-1],f[y-g-1]=-M}},Z.prototype.normalize13b=function(a,f){for(var y=0,g=0;g<f/2;g++){var M=8192*Math.round(a[2*g+1]/f)+Math.round(a[2*g]/f)+y;a[g]=67108863&M,y=M<67108864?0:M/67108864|0}return a},Z.prototype.convert13b=function(a,f,y,g){for(var M=0,T=0;T<f;T++)y[2*T]=8191&(M+=0|a[T]),y[2*T+1]=8191&(M>>>=13),M>>>=13;for(T=2*f;T<g;++T)y[T]=0;k(0===M),k(!(-8192&M))},Z.prototype.stub=function(a){for(var f=new Array(a),y=0;y<a;y++)f[y]=0;return f},Z.prototype.mulp=function(a,f,y){var g=2*this.guessLen13b(a.length,f.length),M=this.makeRBT(g),T=this.stub(g),B=new Array(g),S=new Array(g),s=new Array(g),v=new Array(g),W=new Array(g),K=new Array(g),ee=y.words;ee.length=g,this.convert13b(a.words,a.length,B,g),this.convert13b(f.words,f.length,v,g),this.transform(B,T,S,s,g,M),this.transform(v,T,W,K,g,M);for(var ce=0;ce<g;ce++){var _e=S[ce]*W[ce]-s[ce]*K[ce];s[ce]=S[ce]*K[ce]+s[ce]*W[ce],S[ce]=_e}return this.conjugate(S,s,g),this.transform(S,s,ee,T,g,M),this.conjugate(ee,T,g),this.normalize13b(ee,g),y.negative=a.negative^f.negative,y.length=a.length+f.length,y.strip()},x.prototype.mul=function(a){var f=new x(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},x.prototype.mulf=function(a){var f=new x(null);return f.words=new Array(this.length+a.length),J(this,a,f)},x.prototype.imul=function(a){return this.clone().mulTo(a,this)},x.prototype.imuln=function(a){k("number"==typeof a),k(a<67108864);for(var f=0,y=0;y<this.length;y++){var g=(0|this.words[y])*a,M=(67108863&g)+(67108863&f);f>>=26,f+=g/67108864|0,f+=M>>>26,this.words[y]=67108863&M}return 0!==f&&(this.words[y]=f,this.length++),this},x.prototype.muln=function(a){return this.clone().imuln(a)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(a){var f=function j(C){for(var a=new Array(C.bitLength()),f=0;f<a.length;f++){var g=f%26;a[f]=(C.words[f/26|0]&1<<g)>>>g}return a}(a);if(0===f.length)return new x(1);for(var y=this,g=0;g<f.length&&0===f[g];g++,y=y.sqr());if(++g<f.length)for(var M=y.sqr();g<f.length;g++,M=M.sqr())0!==f[g]&&(y=y.mul(M));return y},x.prototype.iushln=function(a){k("number"==typeof a&&a>=0);var M,f=a%26,y=(a-f)/26,g=67108863>>>26-f<<26-f;if(0!==f){var T=0;for(M=0;M<this.length;M++){var B=this.words[M]&g;this.words[M]=(0|this.words[M])-B<<f|T,T=B>>>26-f}T&&(this.words[M]=T,this.length++)}if(0!==y){for(M=this.length-1;M>=0;M--)this.words[M+y]=this.words[M];for(M=0;M<y;M++)this.words[M]=0;this.length+=y}return this.strip()},x.prototype.ishln=function(a){return k(0===this.negative),this.iushln(a)},x.prototype.iushrn=function(a,f,y){var g;k("number"==typeof a&&a>=0),g=f?(f-f%26)/26:0;var M=a%26,T=Math.min((a-M)/26,this.length),B=67108863^67108863>>>M<<M,S=y;if(g-=T,g=Math.max(0,g),S){for(var s=0;s<T;s++)S.words[s]=this.words[s];S.length=T}if(0!==T)if(this.length>T)for(this.length-=T,s=0;s<this.length;s++)this.words[s]=this.words[s+T];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=g);s--){var W=0|this.words[s];this.words[s]=v<<26-M|W>>>M,v=W&B}return S&&0!==v&&(S.words[S.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},x.prototype.ishrn=function(a,f,y){return k(0===this.negative),this.iushrn(a,f,y)},x.prototype.shln=function(a){return this.clone().ishln(a)},x.prototype.ushln=function(a){return this.clone().iushln(a)},x.prototype.shrn=function(a){return this.clone().ishrn(a)},x.prototype.ushrn=function(a){return this.clone().iushrn(a)},x.prototype.testn=function(a){k("number"==typeof a&&a>=0);var f=a%26,y=(a-f)/26;return!(this.length<=y||!(this.words[y]&1<<f))},x.prototype.imaskn=function(a){k("number"==typeof a&&a>=0);var f=a%26,y=(a-f)/26;return k(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==f&&y++,this.length=Math.min(y,this.length),0!==f&&(this.words[this.length-1]&=67108863^67108863>>>f<<f),this.strip())},x.prototype.maskn=function(a){return this.clone().imaskn(a)},x.prototype.iaddn=function(a){return k("number"==typeof a),k(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},x.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},x.prototype.isubn=function(a){if(k("number"==typeof a),k(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},x.prototype.addn=function(a){return this.clone().iaddn(a)},x.prototype.subn=function(a){return this.clone().isubn(a)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(a,f,y){var M;this._expand(a.length+y);var T,B=0;for(M=0;M<a.length;M++){T=(0|this.words[M+y])+B;var S=(0|a.words[M])*f;B=((T-=67108863&S)>>26)-(S/67108864|0),this.words[M+y]=67108863&T}for(;M<this.length-y;M++)B=(T=(0|this.words[M+y])+B)>>26,this.words[M+y]=67108863&T;if(0===B)return this.strip();for(k(-1===B),B=0,M=0;M<this.length;M++)B=(T=-(0|this.words[M])+B)>>26,this.words[M]=67108863&T;return this.negative=1,this.strip()},x.prototype._wordDiv=function(a,f){var y,g=this.clone(),M=a,T=0|M.words[M.length-1];0!=(y=26-this._countBits(T))&&(M=M.ushln(y),g.iushln(y),T=0|M.words[M.length-1]);var s,S=g.length-M.length;if("mod"!==f){(s=new x(null)).length=S+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var W=g.clone()._ishlnsubmul(M,1,S);0===W.negative&&(g=W,s&&(s.words[S]=1));for(var K=S-1;K>=0;K--){var ee=67108864*(0|g.words[M.length+K])+(0|g.words[M.length+K-1]);for(ee=Math.min(ee/T|0,67108863),g._ishlnsubmul(M,ee,K);0!==g.negative;)ee--,g.negative=0,g._ishlnsubmul(M,1,K),g.isZero()||(g.negative^=1);s&&(s.words[K]=ee)}return s&&s.strip(),g.strip(),"div"!==f&&0!==y&&g.iushrn(y),{div:s||null,mod:g}},x.prototype.divmod=function(a,f,y){return k(!a.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===a.negative?(T=this.neg().divmod(a,f),"mod"!==f&&(g=T.div.neg()),"div"!==f&&(M=T.mod.neg(),y&&0!==M.negative&&M.iadd(a)),{div:g,mod:M}):0===this.negative&&0!==a.negative?(T=this.divmod(a.neg(),f),"mod"!==f&&(g=T.div.neg()),{div:g,mod:T.mod}):this.negative&a.negative?(T=this.neg().divmod(a.neg(),f),"div"!==f&&(M=T.mod.neg(),y&&0!==M.negative&&M.isub(a)),{div:T.div,mod:M}):a.length>this.length||this.cmp(a)<0?{div:new x(0),mod:this}:1===a.length?"div"===f?{div:this.divn(a.words[0]),mod:null}:"mod"===f?{div:null,mod:new x(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new x(this.modn(a.words[0]))}:this._wordDiv(a,f);var g,M,T},x.prototype.div=function(a){return this.divmod(a,"div",!1).div},x.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},x.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},x.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var y=0!==f.div.negative?f.mod.isub(a):f.mod,g=a.ushrn(1),M=a.andln(1),T=y.cmp(g);return T<0||1===M&&0===T?f.div:0!==f.div.negative?f.div.isubn(1):f.div.iaddn(1)},x.prototype.modn=function(a){k(a<=67108863);for(var f=(1<<26)%a,y=0,g=this.length-1;g>=0;g--)y=(f*y+(0|this.words[g]))%a;return y},x.prototype.idivn=function(a){k(a<=67108863);for(var f=0,y=this.length-1;y>=0;y--){var g=(0|this.words[y])+67108864*f;this.words[y]=g/a|0,f=g%a}return this.strip()},x.prototype.divn=function(a){return this.clone().idivn(a)},x.prototype.egcd=function(a){k(0===a.negative),k(!a.isZero());var f=this,y=a.clone();f=0!==f.negative?f.umod(a):f.clone();for(var g=new x(1),M=new x(0),T=new x(0),B=new x(1),S=0;f.isEven()&&y.isEven();)f.iushrn(1),y.iushrn(1),++S;for(var s=y.clone(),v=f.clone();!f.isZero();){for(var W=0,K=1;!(f.words[0]&K)&&W<26;++W,K<<=1);if(W>0)for(f.iushrn(W);W-- >0;)(g.isOdd()||M.isOdd())&&(g.iadd(s),M.isub(v)),g.iushrn(1),M.iushrn(1);for(var ee=0,ce=1;!(y.words[0]&ce)&&ee<26;++ee,ce<<=1);if(ee>0)for(y.iushrn(ee);ee-- >0;)(T.isOdd()||B.isOdd())&&(T.iadd(s),B.isub(v)),T.iushrn(1),B.iushrn(1);f.cmp(y)>=0?(f.isub(y),g.isub(T),M.isub(B)):(y.isub(f),T.isub(g),B.isub(M))}return{a:T,b:B,gcd:y.iushln(S)}},x.prototype._invmp=function(a){k(0===a.negative),k(!a.isZero());var W,f=this,y=a.clone();f=0!==f.negative?f.umod(a):f.clone();for(var g=new x(1),M=new x(0),T=y.clone();f.cmpn(1)>0&&y.cmpn(1)>0;){for(var B=0,S=1;!(f.words[0]&S)&&B<26;++B,S<<=1);if(B>0)for(f.iushrn(B);B-- >0;)g.isOdd()&&g.iadd(T),g.iushrn(1);for(var s=0,v=1;!(y.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(y.iushrn(s);s-- >0;)M.isOdd()&&M.iadd(T),M.iushrn(1);f.cmp(y)>=0?(f.isub(y),g.isub(M)):(y.isub(f),M.isub(g))}return(W=0===f.cmpn(1)?g:M).cmpn(0)<0&&W.iadd(a),W},x.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),y=a.clone();f.negative=0,y.negative=0;for(var g=0;f.isEven()&&y.isEven();g++)f.iushrn(1),y.iushrn(1);for(;;){for(;f.isEven();)f.iushrn(1);for(;y.isEven();)y.iushrn(1);var M=f.cmp(y);if(M<0){var T=f;f=y,y=T}else if(0===M||0===y.cmpn(1))break;f.isub(y)}return y.iushln(g)},x.prototype.invm=function(a){return this.egcd(a).a.umod(a)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(a){return this.words[0]&a},x.prototype.bincn=function(a){k("number"==typeof a);var f=a%26,y=(a-f)/26,g=1<<f;if(this.length<=y)return this._expand(y+1),this.words[y]|=g,this;for(var M=g,T=y;0!==M&&T<this.length;T++){var B=0|this.words[T];M=(B+=M)>>>26,this.words[T]=B&=67108863}return 0!==M&&(this.words[T]=M,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(a){var y,f=a<0;if(0!==this.negative&&!f)return-1;if(0===this.negative&&f)return 1;if(this.strip(),this.length>1)y=1;else{f&&(a=-a),k(a<=67108863,"Number is too big");var g=0|this.words[0];y=g===a?0:g<a?-1:1}return 0!==this.negative?0|-y:y},x.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var f=this.ucmp(a);return 0!==this.negative?0|-f:f},x.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,y=this.length-1;y>=0;y--){var g=0|this.words[y],M=0|a.words[y];if(g!==M){g<M?f=-1:g>M&&(f=1);break}}return f},x.prototype.gtn=function(a){return 1===this.cmpn(a)},x.prototype.gt=function(a){return 1===this.cmp(a)},x.prototype.gten=function(a){return this.cmpn(a)>=0},x.prototype.gte=function(a){return this.cmp(a)>=0},x.prototype.ltn=function(a){return-1===this.cmpn(a)},x.prototype.lt=function(a){return-1===this.cmp(a)},x.prototype.lten=function(a){return this.cmpn(a)<=0},x.prototype.lte=function(a){return this.cmp(a)<=0},x.prototype.eqn=function(a){return 0===this.cmpn(a)},x.prototype.eq=function(a){return 0===this.cmp(a)},x.red=function(a){return new xe(a)},x.prototype.toRed=function(a){return k(!this.red,"Already a number in reduction context"),k(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},x.prototype.fromRed=function(){return k(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(a){return this.red=a,this},x.prototype.forceRed=function(a){return k(!this.red,"Already a number in reduction context"),this._forceRed(a)},x.prototype.redAdd=function(a){return k(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},x.prototype.redIAdd=function(a){return k(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},x.prototype.redSub=function(a){return k(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},x.prototype.redISub=function(a){return k(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},x.prototype.redShl=function(a){return k(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},x.prototype.redMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},x.prototype.redIMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},x.prototype.redSqr=function(){return k(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return k(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return k(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return k(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return k(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(a){return k(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var ie={k256:null,p224:null,p192:null,p25519:null};function ae(C,a){this.name=C,this.p=new x(a,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function se(){ae.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function de(){ae.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function le(){ae.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function be(){ae.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function xe(C){if("string"==typeof C){var a=x._prime(C);this.m=a.p,this.prime=a}else k(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function ke(C){xe.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ae.prototype._tmp=function(){var a=new x(null);return a.words=new Array(Math.ceil(this.n/13)),a},ae.prototype.ireduce=function(a){var y,f=a;do{this.split(f,this.tmp),y=(f=(f=this.imulK(f)).iadd(this.tmp)).bitLength()}while(y>this.n);var g=y<this.n?-1:f.ucmp(this.p);return 0===g?(f.words[0]=0,f.length=1):g>0?f.isub(this.p):void 0!==f.strip?f.strip():f._strip(),f},ae.prototype.split=function(a,f){a.iushrn(this.n,0,f)},ae.prototype.imulK=function(a){return a.imul(this.k)},z(se,ae),se.prototype.split=function(a,f){for(var y=4194303,g=Math.min(a.length,9),M=0;M<g;M++)f.words[M]=a.words[M];if(f.length=g,a.length<=9)return a.words[0]=0,void(a.length=1);var T=a.words[9];for(f.words[f.length++]=T&y,M=10;M<a.length;M++){var B=0|a.words[M];a.words[M-10]=(B&y)<<4|T>>>22,T=B}a.words[M-10]=T>>>=22,a.length-=0===T&&a.length>10?10:9},se.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,y=0;y<a.length;y++){var g=0|a.words[y];a.words[y]=67108863&(f+=977*g),f=64*g+(f/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},z(de,ae),z(le,ae),z(be,ae),be.prototype.imulK=function(a){for(var f=0,y=0;y<a.length;y++){var g=19*(0|a.words[y])+f,M=67108863&g;g>>>=26,a.words[y]=M,f=g}return 0!==f&&(a.words[a.length++]=f),a},x._prime=function(a){if(ie[a])return ie[a];var f;if("k256"===a)f=new se;else if("p224"===a)f=new de;else if("p192"===a)f=new le;else{if("p25519"!==a)throw new Error("Unknown prime "+a);f=new be}return ie[a]=f,f},xe.prototype._verify1=function(a){k(0===a.negative,"red works only with positives"),k(a.red,"red works only with red numbers")},xe.prototype._verify2=function(a,f){k(!(a.negative|f.negative),"red works only with positives"),k(a.red&&a.red===f.red,"red works only with red numbers")},xe.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},xe.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},xe.prototype.add=function(a,f){this._verify2(a,f);var y=a.add(f);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},xe.prototype.iadd=function(a,f){this._verify2(a,f);var y=a.iadd(f);return y.cmp(this.m)>=0&&y.isub(this.m),y},xe.prototype.sub=function(a,f){this._verify2(a,f);var y=a.sub(f);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},xe.prototype.isub=function(a,f){this._verify2(a,f);var y=a.isub(f);return y.cmpn(0)<0&&y.iadd(this.m),y},xe.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},xe.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},xe.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},xe.prototype.isqr=function(a){return this.imul(a,a.clone())},xe.prototype.sqr=function(a){return this.mul(a,a)},xe.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(k(f%2==1),3===f){var y=this.m.add(new x(1)).iushrn(2);return this.pow(a,y)}for(var g=this.m.subn(1),M=0;!g.isZero()&&0===g.andln(1);)M++,g.iushrn(1);k(!g.isZero());var T=new x(1).toRed(this),B=T.redNeg(),S=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new x(2*s*s).toRed(this);0!==this.pow(s,S).cmp(B);)s.redIAdd(B);for(var v=this.pow(s,g),W=this.pow(a,g.addn(1).iushrn(1)),K=this.pow(a,g),ee=M;0!==K.cmp(T);){for(var ce=K,_e=0;0!==ce.cmp(T);_e++)ce=ce.redSqr();k(_e<ee);var Oe=this.pow(v,new x(1).iushln(ee-_e-1));W=W.redMul(Oe),v=Oe.redSqr(),K=K.redMul(v),ee=_e}return W},xe.prototype.invm=function(a){var f=a._invmp(this.m);return 0!==f.negative?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},xe.prototype.pow=function(a,f){if(f.isZero())return new x(1).toRed(this);if(0===f.cmpn(1))return a.clone();var g=new Array(16);g[0]=new x(1).toRed(this),g[1]=a;for(var M=2;M<g.length;M++)g[M]=this.mul(g[M-1],a);var T=g[0],B=0,S=0,s=f.bitLength()%26;for(0===s&&(s=26),M=f.length-1;M>=0;M--){for(var v=f.words[M],W=s-1;W>=0;W--){var K=v>>W&1;T!==g[0]&&(T=this.sqr(T)),0!==K||0!==B?(B<<=1,B|=K,(4==++S||0===M&&0===W)&&(T=this.mul(T,g[B]),S=0,B=0)):S=0}s=26}return T},xe.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},xe.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},x.mont=function(a){return new ke(a)},z(ke,xe),ke.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ke.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ke.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var y=a.imul(f),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(g).iushrn(this.shift),T=M;return M.cmp(this.m)>=0?T=M.isub(this.m):M.cmpn(0)<0&&(T=M.iadd(this.m)),T._forceRed(this)},ke.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new x(0)._forceRed(this);var y=a.mul(f),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(g).iushrn(this.shift),T=M;return M.cmp(this.m)>=0?T=M.isub(this.m):M.cmpn(0)<0&&(T=M.iadd(this.m)),T._forceRed(this)},ke.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(je=w.nmd(je),this)},67211:(je,H,w)=>{"use strict";var d=w(71993),E=w(34725),k=w(36636),z=w(25443),x=w(3247);function O(A){x.call(this,"digest"),this._hash=A}d(O,x),O.prototype._update=function(A){this._hash.update(A)},O.prototype._final=function(){return this._hash.digest()},je.exports=function(P){return"md5"===(P=P.toLowerCase())?new E:"rmd160"===P||"ripemd160"===P?new k:new O(z(P))}},83407:(je,H,w)=>{var d=w(34725);je.exports=function(E){return(new d).update(E).digest()}},56432:(je,H,w)=>{"use strict";var d=w(71993),E=w(90509),k=w(3247),z=w(27054).Buffer,x=w(83407),O=w(36636),A=w(25443),P=z.alloc(128);function F(L,D){k.call(this,"digest"),"string"==typeof D&&(D=z.from(D));var X="sha512"===L||"sha384"===L?128:64;this._alg=L,this._key=D,D.length>X?D=("rmd160"===L?new O:A(L)).update(D).digest():D.length<X&&(D=z.concat([D,P],X));for(var G=this._ipad=z.allocUnsafe(X),re=this._opad=z.allocUnsafe(X),te=0;te<X;te++)G[te]=54^D[te],re[te]=92^D[te];this._hash="rmd160"===L?new O:A(L),this._hash.update(G)}d(F,k),F.prototype._update=function(L){this._hash.update(L)},F.prototype._final=function(){var L=this._hash.digest();return("rmd160"===this._alg?new O:A(this._alg)).update(this._opad).update(L).digest()},je.exports=function(D,X){return"rmd160"===(D=D.toLowerCase())||"ripemd160"===D?new F("rmd160",X):"md5"===D?new E(x,X):new F(D,X)}},90509:(je,H,w)=>{"use strict";var d=w(71993),E=w(27054).Buffer,k=w(3247),z=E.alloc(128),x=64;function O(A,P){k.call(this,"digest"),"string"==typeof P&&(P=E.from(P)),this._alg=A,this._key=P,P.length>x?P=A(P):P.length<x&&(P=E.concat([P,z],x));for(var F=this._ipad=E.allocUnsafe(x),L=this._opad=E.allocUnsafe(x),D=0;D<x;D++)F[D]=54^P[D],L[D]=92^P[D];this._hash=[F]}d(O,k),O.prototype._update=function(A){this._hash.push(A)},O.prototype._final=function(){var A=this._alg(E.concat(this._hash));return this._alg(E.concat([this._opad,A]))},je.exports=O},91426:(je,H,w)=>{"use strict";H.randomBytes=H.rng=H.pseudoRandomBytes=H.prng=w(3342),H.createHash=H.Hash=w(67211),H.createHmac=H.Hmac=w(56432);var d=w(99560),E=Object.keys(d),k=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(E);H.getHashes=function(){return k};var z=w(93397);H.pbkdf2=z.pbkdf2,H.pbkdf2Sync=z.pbkdf2Sync;var x=w(88862);H.Cipher=x.Cipher,H.createCipher=x.createCipher,H.Cipheriv=x.Cipheriv,H.createCipheriv=x.createCipheriv,H.Decipher=x.Decipher,H.createDecipher=x.createDecipher,H.Decipheriv=x.Decipheriv,H.createDecipheriv=x.createDecipheriv,H.getCiphers=x.getCiphers,H.listCiphers=x.listCiphers;var O=w(4377);H.DiffieHellmanGroup=O.DiffieHellmanGroup,H.createDiffieHellmanGroup=O.createDiffieHellmanGroup,H.getDiffieHellman=O.getDiffieHellman,H.createDiffieHellman=O.createDiffieHellman,H.DiffieHellman=O.DiffieHellman;var A=w(79143);H.createSign=A.createSign,H.Sign=A.Sign,H.createVerify=A.createVerify,H.Verify=A.Verify,H.createECDH=w(87303);var P=w(52965);H.publicEncrypt=P.publicEncrypt,H.privateEncrypt=P.privateEncrypt,H.publicDecrypt=P.publicDecrypt,H.privateDecrypt=P.privateDecrypt;var F=w(9682);H.randomFill=F.randomFill,H.randomFillSync=F.randomFillSync,H.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},H.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},71549:(je,H,w)=>{"use strict";H.utils=w(85671),H.Cipher=w(10219),H.DES=w(64166),H.CBC=w(88800),H.EDE=w(62122)},88800:(je,H,w)=>{"use strict";var d=w(39210),E=w(71993),k={};function z(O){d.equal(O.length,8,"Invalid IV length"),this.iv=new Array(8);for(var A=0;A<this.iv.length;A++)this.iv[A]=O[A]}H.instantiate=function x(O){function A(D){O.call(this,D),this._cbcInit()}E(A,O);for(var P=Object.keys(k),F=0;F<P.length;F++){var L=P[F];A.prototype[L]=k[L]}return A.create=function(X){return new A(X)},A},k._cbcInit=function(){var A=new z(this.options.iv);this._cbcState=A},k._update=function(A,P,F,L){var X=this.constructor.super_.prototype,j=this._cbcState.iv;if("encrypt"===this.type){for(var G=0;G<this.blockSize;G++)j[G]^=A[P+G];for(X._update.call(this,j,0,F,L),G=0;G<this.blockSize;G++)j[G]=F[L+G]}else{for(X._update.call(this,A,P,F,L),G=0;G<this.blockSize;G++)F[L+G]^=j[G];for(G=0;G<this.blockSize;G++)j[G]=A[P+G]}}},10219:(je,H,w)=>{"use strict";var d=w(39210);function E(k){this.options=k,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==k.padding}je.exports=E,E.prototype._init=function(){},E.prototype.update=function(z){return 0===z.length?[]:"decrypt"===this.type?this._updateDecrypt(z):this._updateEncrypt(z)},E.prototype._buffer=function(z,x){for(var O=Math.min(this.buffer.length-this.bufferOff,z.length-x),A=0;A<O;A++)this.buffer[this.bufferOff+A]=z[x+A];return this.bufferOff+=O,O},E.prototype._flushBuffer=function(z,x){return this._update(this.buffer,0,z,x),this.bufferOff=0,this.blockSize},E.prototype._updateEncrypt=function(z){var x=0,O=0,P=new Array(((this.bufferOff+z.length)/this.blockSize|0)*this.blockSize);0!==this.bufferOff&&(x+=this._buffer(z,x),this.bufferOff===this.buffer.length&&(O+=this._flushBuffer(P,O)));for(var F=z.length-(z.length-x)%this.blockSize;x<F;x+=this.blockSize)this._update(z,x,P,O),O+=this.blockSize;for(;x<z.length;x++,this.bufferOff++)this.buffer[this.bufferOff]=z[x];return P},E.prototype._updateDecrypt=function(z){for(var x=0,O=0,A=Math.ceil((this.bufferOff+z.length)/this.blockSize)-1,P=new Array(A*this.blockSize);A>0;A--)x+=this._buffer(z,x),O+=this._flushBuffer(P,O);return x+=this._buffer(z,x),P},E.prototype.final=function(z){var x,O;return z&&(x=this.update(z)),O="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),x?x.concat(O):O},E.prototype._pad=function(z,x){if(0===x)return!1;for(;x<z.length;)z[x++]=0;return!0},E.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var z=new Array(this.blockSize);return this._update(this.buffer,0,z,0),z},E.prototype._unpad=function(z){return z},E.prototype._finalDecrypt=function(){d.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var z=new Array(this.blockSize);return this._flushBuffer(z,0),this._unpad(z)}},64166:(je,H,w)=>{"use strict";var d=w(39210),E=w(71993),k=w(85671),z=w(10219);function x(){this.tmp=new Array(2),this.keys=null}function O(P){z.call(this,P);var F=new x;this._desState=F,this.deriveKeys(F,P.key)}E(O,z),je.exports=O,O.create=function(F){return new O(F)};var A=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];O.prototype.deriveKeys=function(F,L){F.keys=new Array(32),d.equal(L.length,this.blockSize,"Invalid key length");var D=k.readUInt32BE(L,0),X=k.readUInt32BE(L,4);k.pc1(D,X,F.tmp,0),D=F.tmp[0],X=F.tmp[1];for(var j=0;j<F.keys.length;j+=2){var G=A[j>>>1];D=k.r28shl(D,G),X=k.r28shl(X,G),k.pc2(D,X,F.keys,j)}},O.prototype._update=function(F,L,D,X){var j=this._desState,G=k.readUInt32BE(F,L),re=k.readUInt32BE(F,L+4);k.ip(G,re,j.tmp,0),G=j.tmp[0],re=j.tmp[1],"encrypt"===this.type?this._encrypt(j,G,re,j.tmp,0):this._decrypt(j,G,re,j.tmp,0),re=j.tmp[1],k.writeUInt32BE(D,G=j.tmp[0],X),k.writeUInt32BE(D,re,X+4)},O.prototype._pad=function(F,L){if(!1===this.padding)return!1;for(var D=F.length-L,X=L;X<F.length;X++)F[X]=D;return!0},O.prototype._unpad=function(F){if(!1===this.padding)return F;for(var L=F[F.length-1],D=F.length-L;D<F.length;D++)d.equal(F[D],L);return F.slice(0,F.length-L)},O.prototype._encrypt=function(F,L,D,X,j){for(var G=L,re=D,te=0;te<F.keys.length;te+=2){var J=F.keys[te],Z=F.keys[te+1];k.expand(re,F.tmp,0);var ie=k.substitute(J^=F.tmp[0],Z^=F.tmp[1]),se=re;re=(G^k.permute(ie))>>>0,G=se}k.rip(re,G,X,j)},O.prototype._decrypt=function(F,L,D,X,j){for(var G=D,re=L,te=F.keys.length-2;te>=0;te-=2){var J=F.keys[te],Z=F.keys[te+1];k.expand(G,F.tmp,0);var ie=k.substitute(J^=F.tmp[0],Z^=F.tmp[1]),se=G;G=(re^k.permute(ie))>>>0,re=se}k.rip(G,re,X,j)}},62122:(je,H,w)=>{"use strict";var d=w(39210),E=w(71993),k=w(10219),z=w(64166);function x(A,P){d.equal(P.length,24,"Invalid key length");var F=P.slice(0,8),L=P.slice(8,16),D=P.slice(16,24);this.ciphers="encrypt"===A?[z.create({type:"encrypt",key:F}),z.create({type:"decrypt",key:L}),z.create({type:"encrypt",key:D})]:[z.create({type:"decrypt",key:D}),z.create({type:"encrypt",key:L}),z.create({type:"decrypt",key:F})]}function O(A){k.call(this,A);var P=new x(this.type,this.options.key);this._edeState=P}E(O,k),je.exports=O,O.create=function(P){return new O(P)},O.prototype._update=function(P,F,L,D){var X=this._edeState;X.ciphers[0]._update(P,F,L,D),X.ciphers[1]._update(L,D,L,D),X.ciphers[2]._update(L,D,L,D)},O.prototype._pad=z.prototype._pad,O.prototype._unpad=z.prototype._unpad},85671:(je,H)=>{"use strict";H.readUInt32BE=function(z,x){return(z[0+x]<<24|z[1+x]<<16|z[2+x]<<8|z[3+x])>>>0},H.writeUInt32BE=function(z,x,O){z[0+O]=x>>>24,z[1+O]=x>>>16&255,z[2+O]=x>>>8&255,z[3+O]=255&x},H.ip=function(z,x,O,A){for(var P=0,F=0,L=6;L>=0;L-=2){for(var D=0;D<=24;D+=8)P<<=1,P|=x>>>D+L&1;for(D=0;D<=24;D+=8)P<<=1,P|=z>>>D+L&1}for(L=6;L>=0;L-=2){for(D=1;D<=25;D+=8)F<<=1,F|=x>>>D+L&1;for(D=1;D<=25;D+=8)F<<=1,F|=z>>>D+L&1}O[A+0]=P>>>0,O[A+1]=F>>>0},H.rip=function(z,x,O,A){for(var P=0,F=0,L=0;L<4;L++)for(var D=24;D>=0;D-=8)P<<=1,P|=x>>>D+L&1,P<<=1,P|=z>>>D+L&1;for(L=4;L<8;L++)for(D=24;D>=0;D-=8)F<<=1,F|=x>>>D+L&1,F<<=1,F|=z>>>D+L&1;O[A+0]=P>>>0,O[A+1]=F>>>0},H.pc1=function(z,x,O,A){for(var P=0,F=0,L=7;L>=5;L--){for(var D=0;D<=24;D+=8)P<<=1,P|=x>>D+L&1;for(D=0;D<=24;D+=8)P<<=1,P|=z>>D+L&1}for(D=0;D<=24;D+=8)P<<=1,P|=x>>D+L&1;for(L=1;L<=3;L++){for(D=0;D<=24;D+=8)F<<=1,F|=x>>D+L&1;for(D=0;D<=24;D+=8)F<<=1,F|=z>>D+L&1}for(D=0;D<=24;D+=8)F<<=1,F|=z>>D+L&1;O[A+0]=P>>>0,O[A+1]=F>>>0},H.r28shl=function(z,x){return z<<x&268435455|z>>>28-x};var w=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];H.pc2=function(z,x,O,A){for(var P=0,F=0,L=w.length>>>1,D=0;D<L;D++)P<<=1,P|=z>>>w[D]&1;for(D=L;D<w.length;D++)F<<=1,F|=x>>>w[D]&1;O[A+0]=P>>>0,O[A+1]=F>>>0},H.expand=function(z,x,O){var A=0,P=0;A=(1&z)<<5|z>>>27;for(var F=23;F>=15;F-=4)A<<=6,A|=z>>>F&63;for(F=11;F>=3;F-=4)P|=z>>>F&63,P<<=6;P|=(31&z)<<1|z>>>31,x[O+0]=A>>>0,x[O+1]=P>>>0};var d=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];H.substitute=function(z,x){for(var O=0,A=0;A<4;A++)O<<=4,O|=d[64*A+(z>>>18-6*A&63)];for(A=0;A<4;A++)O<<=4,O|=d[256+64*A+(x>>>18-6*A&63)];return O>>>0};var E=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];H.permute=function(z){for(var x=0,O=0;O<E.length;O++)x<<=1,x|=z>>>E[O]&1;return x>>>0},H.padSplit=function(z,x,O){for(var A=z.toString(2);A.length<x;)A="0"+A;for(var P=[],F=0;F<x;F+=O)P.push(A.slice(F,F+O));return P.join(" ")}},4377:(je,H,w)=>{var d=w(12727),E=w(23241),k=w(94593),x={binary:!0,hex:!0,base64:!0};H.DiffieHellmanGroup=H.createDiffieHellmanGroup=H.getDiffieHellman=function z(A){var P=new Buffer(E[A].prime,"hex"),F=new Buffer(E[A].gen,"hex");return new k(P,F)},H.createDiffieHellman=H.DiffieHellman=function O(A,P,F,L){return Buffer.isBuffer(P)||void 0===x[P]?O(A,"binary",P,F):(P=P||"binary",L=L||"binary",F=F||new Buffer([2]),Buffer.isBuffer(F)||(F=new Buffer(F,L)),"number"==typeof A?new k(d(A,F),F,!0):(Buffer.isBuffer(A)||(A=new Buffer(A,P)),new k(A,F,!0)))}},94593:(je,H,w)=>{var d=w(38280),k=new(w(53459)),z=new d(24),x=new d(11),O=new d(10),A=new d(3),P=new d(7),F=w(12727),L=w(3342);function D(J,Z){return Z=Z||"utf8",Buffer.isBuffer(J)||(J=new Buffer(J,Z)),this._pub=new d(J),this}function X(J,Z){return Z=Z||"utf8",Buffer.isBuffer(J)||(J=new Buffer(J,Z)),this._priv=new d(J),this}je.exports=re;var j={};function re(J,Z,ie){this.setGenerator(Z),this.__prime=new d(J),this._prime=d.mont(this.__prime),this._primeLen=J.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,ie?(this.setPublicKey=D,this.setPrivateKey=X):this._primeCode=8}function te(J,Z){var ie=new Buffer(J.toArray());return Z?ie.toString(Z):ie}Object.defineProperty(re.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function G(J,Z){var ie=Z.toString("hex"),ae=[ie,J.toString(16)].join("_");if(ae in j)return j[ae];var de,se=0;if(J.isEven()||!F.simpleSieve||!F.fermatTest(J)||!k.test(J))return se+=1,j[ae]=se+="02"===ie||"05"===ie?8:4,se;switch(k.test(J.shrn(1))||(se+=2),ie){case"02":J.mod(z).cmp(x)&&(se+=8);break;case"05":(de=J.mod(O)).cmp(A)&&de.cmp(P)&&(se+=8);break;default:se+=4}return j[ae]=se,se}(this.__prime,this.__gen)),this._primeCode}}),re.prototype.generateKeys=function(){return this._priv||(this._priv=new d(L(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},re.prototype.computeSecret=function(J){var Z=(J=(J=new d(J)).toRed(this._prime)).redPow(this._priv).fromRed(),ie=new Buffer(Z.toArray()),ae=this.getPrime();if(ie.length<ae.length){var se=new Buffer(ae.length-ie.length);se.fill(0),ie=Buffer.concat([se,ie])}return ie},re.prototype.getPublicKey=function(Z){return te(this._pub,Z)},re.prototype.getPrivateKey=function(Z){return te(this._priv,Z)},re.prototype.getPrime=function(J){return te(this.__prime,J)},re.prototype.getGenerator=function(J){return te(this._gen,J)},re.prototype.setGenerator=function(J,Z){return Z=Z||"utf8",Buffer.isBuffer(J)||(J=new Buffer(J,Z)),this.__gen=J,this._gen=new d(J),this}},12727:(je,H,w)=>{var d=w(3342);je.exports=se,se.simpleSieve=ie,se.fermatTest=ae;var E=w(38280),k=new E(24),x=new(w(53459)),O=new E(1),A=new E(2),P=new E(5),D=(new E(16),new E(8),new E(10)),X=new E(3),G=(new E(7),new E(11)),re=new E(4),J=(new E(12),null);function ie(de){for(var le=function Z(){if(null!==J)return J;var le=[];le[0]=2;for(var be=1,xe=3;xe<1048576;xe+=2){for(var ke=Math.ceil(Math.sqrt(xe)),C=0;C<be&&le[C]<=ke&&xe%le[C]!=0;C++);be!==C&&le[C]<=ke||(le[be++]=xe)}return J=le,le}(),be=0;be<le.length;be++)if(0===de.modn(le[be]))return 0===de.cmpn(le[be]);return!0}function ae(de){var le=E.mont(de);return 0===A.toRed(le).redPow(de.subn(1)).fromRed().cmpn(1)}function se(de,le){if(de<16)return new E(2===le||5===le?[140,123]:[140,39]);le=new E(le);for(var be,xe;;){for(be=new E(d(Math.ceil(de/8)));be.bitLength()>de;)be.ishrn(1);if(be.isEven()&&be.iadd(O),be.testn(1)||be.iadd(A),le.cmp(A)){if(!le.cmp(P))for(;be.mod(D).cmp(X);)be.iadd(re)}else for(;be.mod(k).cmp(G);)be.iadd(re);if(ie(xe=be.shrn(1))&&ie(be)&&ae(xe)&&ae(be)&&x.test(xe)&&x.test(be))return be}}},38280:function(je,H,w){!function(d,E){"use strict";function k(C,a){if(!C)throw new Error(a||"Assertion failed")}function z(C,a){C.super_=a;var f=function(){};f.prototype=a.prototype,C.prototype=new f,C.prototype.constructor=C}function x(C,a,f){if(x.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(f=a,a=10),this._init(C||0,a||10,f||"be"))}var O;"object"==typeof d?d.exports=x:E.BN=x,x.BN=x,x.wordSize=26;try{O=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:w(66089).Buffer}catch{}function A(C,a){var f=C.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function P(C,a,f){var y=A(C,f);return f-1>=a&&(y|=A(C,f-1)<<4),y}function F(C,a,f,y){for(var g=0,M=Math.min(C.length,f),T=a;T<M;T++){var B=C.charCodeAt(T)-48;g*=y,g+=B>=49?B-49+10:B>=17?B-17+10:B}return g}x.isBN=function(a){return a instanceof x||null!==a&&"object"==typeof a&&a.constructor.wordSize===x.wordSize&&Array.isArray(a.words)},x.max=function(a,f){return a.cmp(f)>0?a:f},x.min=function(a,f){return a.cmp(f)<0?a:f},x.prototype._init=function(a,f,y){if("number"==typeof a)return this._initNumber(a,f,y);if("object"==typeof a)return this._initArray(a,f,y);"hex"===f&&(f=16),k(f===(0|f)&&f>=2&&f<=36);var g=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(g++,this.negative=1),g<a.length&&(16===f?this._parseHex(a,g,y):(this._parseBase(a,f,g),"le"===y&&this._initArray(this.toArray(),f,y)))},x.prototype._initNumber=function(a,f,y){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(k(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),f,y)},x.prototype._initArray=function(a,f,y){if(k("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var M,T,B=0;if("be"===y)for(g=a.length-1,M=0;g>=0;g-=3)this.words[M]|=(T=a[g]|a[g-1]<<8|a[g-2]<<16)<<B&67108863,this.words[M+1]=T>>>26-B&67108863,(B+=24)>=26&&(B-=26,M++);else if("le"===y)for(g=0,M=0;g<a.length;g+=3)this.words[M]|=(T=a[g]|a[g+1]<<8|a[g+2]<<16)<<B&67108863,this.words[M+1]=T>>>26-B&67108863,(B+=24)>=26&&(B-=26,M++);return this.strip()},x.prototype._parseHex=function(a,f,y){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var B,M=0,T=0;if("be"===y)for(g=a.length-1;g>=f;g-=2)B=P(a,f,g)<<M,this.words[T]|=67108863&B,M>=18?(M-=18,this.words[T+=1]|=B>>>26):M+=8;else for(g=(a.length-f)%2==0?f+1:f;g<a.length;g+=2)B=P(a,f,g)<<M,this.words[T]|=67108863&B,M>=18?(M-=18,this.words[T+=1]|=B>>>26):M+=8;this.strip()},x.prototype._parseBase=function(a,f,y){this.words=[0],this.length=1;for(var g=0,M=1;M<=67108863;M*=f)g++;g--,M=M/f|0;for(var T=a.length-y,B=T%g,S=Math.min(T,T-B)+y,s=0,v=y;v<S;v+=g)s=F(a,v,v+g,f),this.imuln(M),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==B){var W=1;for(s=F(a,v,a.length,f),v=0;v<B;v++)W*=f;this.imuln(W),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},x.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},x.prototype.clone=function(){var a=new x(null);return this.copy(a),a},x.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},x.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},x.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var L=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function G(C,a,f){f.negative=a.negative^C.negative;var y=C.length+a.length|0;f.length=y,y=y-1|0;var g=0|C.words[0],M=0|a.words[0],T=g*M,S=T/67108864|0;f.words[0]=67108863&T;for(var s=1;s<y;s++){for(var v=S>>>26,W=67108863&S,K=Math.min(s,a.length-1),ee=Math.max(0,s-C.length+1);ee<=K;ee++)v+=(T=(g=0|C.words[s-ee|0])*(M=0|a.words[ee])+W)/67108864|0,W=67108863&T;f.words[s]=0|W,S=0|v}return 0!==S?f.words[s]=0|S:f.length--,f.strip()}x.prototype.toString=function(a,f){var y;if(f=0|f||1,16===(a=a||10)||"hex"===a){y="";for(var g=0,M=0,T=0;T<this.length;T++){var B=this.words[T],S=(16777215&(B<<g|M)).toString(16);y=0!=(M=B>>>24-g&16777215)||T!==this.length-1?L[6-S.length]+S+y:S+y,(g+=2)>=26&&(g-=26,T--)}for(0!==M&&(y=M.toString(16)+y);y.length%f!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(a===(0|a)&&a>=2&&a<=36){var s=D[a],v=X[a];y="";var W=this.clone();for(W.negative=0;!W.isZero();){var K=W.modn(v).toString(a);y=(W=W.idivn(v)).isZero()?K+y:L[s-K.length]+K+y}for(this.isZero()&&(y="0"+y);y.length%f!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}k(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&k(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},x.prototype.toJSON=function(){return this.toString(16)},x.prototype.toBuffer=function(a,f){return k(typeof O<"u"),this.toArrayLike(O,a,f)},x.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},x.prototype.toArrayLike=function(a,f,y){var g=this.byteLength(),M=y||Math.max(1,g);k(g<=M,"byte array longer than desired length"),k(M>0,"Requested array length <= 0"),this.strip();var S,s,T="le"===f,B=new a(M),v=this.clone();if(T){for(s=0;!v.isZero();s++)S=v.andln(255),v.iushrn(8),B[s]=S;for(;s<M;s++)B[s]=0}else{for(s=0;s<M-g;s++)B[s]=0;for(s=0;!v.isZero();s++)S=v.andln(255),v.iushrn(8),B[M-s-1]=S}return B},x.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var f=a,y=0;return f>=4096&&(y+=13,f>>>=13),f>=64&&(y+=7,f>>>=7),f>=8&&(y+=4,f>>>=4),f>=2&&(y+=2,f>>>=2),y+f},x.prototype._zeroBits=function(a){if(0===a)return 26;var f=a,y=0;return 8191&f||(y+=13,f>>>=13),127&f||(y+=7,f>>>=7),15&f||(y+=4,f>>>=4),3&f||(y+=2,f>>>=2),1&f||y++,y},x.prototype.bitLength=function(){var f=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+f},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var y=this._zeroBits(this.words[f]);if(a+=y,26!==y)break}return a},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},x.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},x.prototype.ior=function(a){return k(!(this.negative|a.negative)),this.iuor(a)},x.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},x.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},x.prototype.iuand=function(a){var f;f=this.length>a.length?a:this;for(var y=0;y<f.length;y++)this.words[y]=this.words[y]&a.words[y];return this.length=f.length,this.strip()},x.prototype.iand=function(a){return k(!(this.negative|a.negative)),this.iuand(a)},x.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},x.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},x.prototype.iuxor=function(a){var f,y;this.length>a.length?(f=this,y=a):(f=a,y=this);for(var g=0;g<y.length;g++)this.words[g]=f.words[g]^y.words[g];if(this!==f)for(;g<f.length;g++)this.words[g]=f.words[g];return this.length=f.length,this.strip()},x.prototype.ixor=function(a){return k(!(this.negative|a.negative)),this.iuxor(a)},x.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},x.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},x.prototype.inotn=function(a){k("number"==typeof a&&a>=0);var f=0|Math.ceil(a/26),y=a%26;this._expand(f),y>0&&f--;for(var g=0;g<f;g++)this.words[g]=67108863&~this.words[g];return y>0&&(this.words[g]=~this.words[g]&67108863>>26-y),this.strip()},x.prototype.notn=function(a){return this.clone().inotn(a)},x.prototype.setn=function(a,f){k("number"==typeof a&&a>=0);var y=a/26|0,g=a%26;return this._expand(y+1),this.words[y]=f?this.words[y]|1<<g:this.words[y]&~(1<<g),this.strip()},x.prototype.iadd=function(a){var f,y,g;if(0!==this.negative&&0===a.negative)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();this.length>a.length?(y=this,g=a):(y=a,g=this);for(var M=0,T=0;T<g.length;T++)this.words[T]=67108863&(f=(0|y.words[T])+(0|g.words[T])+M),M=f>>>26;for(;0!==M&&T<y.length;T++)this.words[T]=67108863&(f=(0|y.words[T])+M),M=f>>>26;if(this.length=y.length,0!==M)this.words[this.length]=M,this.length++;else if(y!==this)for(;T<y.length;T++)this.words[T]=y.words[T];return this},x.prototype.add=function(a){var f;return 0!==a.negative&&0===this.negative?(a.negative=0,f=this.sub(a),a.negative^=1,f):0===a.negative&&0!==this.negative?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},x.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var g,M,y=this.cmp(a);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(g=this,M=a):(g=a,M=this);for(var T=0,B=0;B<M.length;B++)T=(f=(0|g.words[B])-(0|M.words[B])+T)>>26,this.words[B]=67108863&f;for(;0!==T&&B<g.length;B++)T=(f=(0|g.words[B])+T)>>26,this.words[B]=67108863&f;if(0===T&&B<g.length&&g!==this)for(;B<g.length;B++)this.words[B]=g.words[B];return this.length=Math.max(this.length,B),g!==this&&(this.negative=1),this.strip()},x.prototype.sub=function(a){return this.clone().isub(a)};var re=function(a,f,y){var S,s,v,g=a.words,M=f.words,T=y.words,B=0,W=0|g[0],K=8191&W,ee=W>>>13,ce=0|g[1],_e=8191&ce,Oe=ce>>>13,Ve=0|g[2],Se=8191&Ve,we=Ve>>>13,Ue=0|g[3],ye=8191&Ue,De=Ue>>>13,pe=0|g[4],ue=8191&pe,Q=pe>>>13,oe=0|g[5],fe=8191&oe,Ee=oe>>>13,Re=0|g[6],$e=8191&Re,Fe=Re>>>13,_t=0|g[7],We=8191&_t,Le=_t>>>13,lt=0|g[8],N=8191&lt,_=lt>>>13,m=0|g[9],U=8191&m,ne=m>>>13,ge=0|M[0],Ae=8191&ge,tt=ge>>>13,Bt=0|M[1],gt=8191&Bt,It=Bt>>>13,Zt=0|M[2],mn=8191&Zt,dn=Zt>>>13,ar=0|M[3],An=8191&ar,en=ar>>>13,Qt=0|M[4],Et=8191&Qt,ft=Qt>>>13,Ht=0|M[5],qt=8191&Ht,hn=Ht>>>13,hr=0|M[6],vt=8191&hr,St=hr>>>13,Mt=0|M[7],Ye=8191&Mt,nt=Mt>>>13,Wt=0|M[8],Nt=8191&Wt,un=Wt>>>13,Wn=0|M[9],En=8191&Wn,kn=Wn>>>13;y.negative=a.negative^f.negative,y.length=19;var Or=(B+(S=Math.imul(K,Ae))|0)+((8191&(s=(s=Math.imul(K,tt))+Math.imul(ee,Ae)|0))<<13)|0;B=((v=Math.imul(ee,tt))+(s>>>13)|0)+(Or>>>26)|0,Or&=67108863,S=Math.imul(_e,Ae),s=(s=Math.imul(_e,tt))+Math.imul(Oe,Ae)|0,v=Math.imul(Oe,tt);var Jn=(B+(S=S+Math.imul(K,gt)|0)|0)+((8191&(s=(s=s+Math.imul(K,It)|0)+Math.imul(ee,gt)|0))<<13)|0;B=((v=v+Math.imul(ee,It)|0)+(s>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,S=Math.imul(Se,Ae),s=(s=Math.imul(Se,tt))+Math.imul(we,Ae)|0,v=Math.imul(we,tt),S=S+Math.imul(_e,gt)|0,s=(s=s+Math.imul(_e,It)|0)+Math.imul(Oe,gt)|0,v=v+Math.imul(Oe,It)|0;var Fn=(B+(S=S+Math.imul(K,mn)|0)|0)+((8191&(s=(s=s+Math.imul(K,dn)|0)+Math.imul(ee,mn)|0))<<13)|0;B=((v=v+Math.imul(ee,dn)|0)+(s>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,S=Math.imul(ye,Ae),s=(s=Math.imul(ye,tt))+Math.imul(De,Ae)|0,v=Math.imul(De,tt),S=S+Math.imul(Se,gt)|0,s=(s=s+Math.imul(Se,It)|0)+Math.imul(we,gt)|0,v=v+Math.imul(we,It)|0,S=S+Math.imul(_e,mn)|0,s=(s=s+Math.imul(_e,dn)|0)+Math.imul(Oe,mn)|0,v=v+Math.imul(Oe,dn)|0;var Lt=(B+(S=S+Math.imul(K,An)|0)|0)+((8191&(s=(s=s+Math.imul(K,en)|0)+Math.imul(ee,An)|0))<<13)|0;B=((v=v+Math.imul(ee,en)|0)+(s>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,S=Math.imul(ue,Ae),s=(s=Math.imul(ue,tt))+Math.imul(Q,Ae)|0,v=Math.imul(Q,tt),S=S+Math.imul(ye,gt)|0,s=(s=s+Math.imul(ye,It)|0)+Math.imul(De,gt)|0,v=v+Math.imul(De,It)|0,S=S+Math.imul(Se,mn)|0,s=(s=s+Math.imul(Se,dn)|0)+Math.imul(we,mn)|0,v=v+Math.imul(we,dn)|0,S=S+Math.imul(_e,An)|0,s=(s=s+Math.imul(_e,en)|0)+Math.imul(Oe,An)|0,v=v+Math.imul(Oe,en)|0;var et=(B+(S=S+Math.imul(K,Et)|0)|0)+((8191&(s=(s=s+Math.imul(K,ft)|0)+Math.imul(ee,Et)|0))<<13)|0;B=((v=v+Math.imul(ee,ft)|0)+(s>>>13)|0)+(et>>>26)|0,et&=67108863,S=Math.imul(fe,Ae),s=(s=Math.imul(fe,tt))+Math.imul(Ee,Ae)|0,v=Math.imul(Ee,tt),S=S+Math.imul(ue,gt)|0,s=(s=s+Math.imul(ue,It)|0)+Math.imul(Q,gt)|0,v=v+Math.imul(Q,It)|0,S=S+Math.imul(ye,mn)|0,s=(s=s+Math.imul(ye,dn)|0)+Math.imul(De,mn)|0,v=v+Math.imul(De,dn)|0,S=S+Math.imul(Se,An)|0,s=(s=s+Math.imul(Se,en)|0)+Math.imul(we,An)|0,v=v+Math.imul(we,en)|0,S=S+Math.imul(_e,Et)|0,s=(s=s+Math.imul(_e,ft)|0)+Math.imul(Oe,Et)|0,v=v+Math.imul(Oe,ft)|0;var Te=(B+(S=S+Math.imul(K,qt)|0)|0)+((8191&(s=(s=s+Math.imul(K,hn)|0)+Math.imul(ee,qt)|0))<<13)|0;B=((v=v+Math.imul(ee,hn)|0)+(s>>>13)|0)+(Te>>>26)|0,Te&=67108863,S=Math.imul($e,Ae),s=(s=Math.imul($e,tt))+Math.imul(Fe,Ae)|0,v=Math.imul(Fe,tt),S=S+Math.imul(fe,gt)|0,s=(s=s+Math.imul(fe,It)|0)+Math.imul(Ee,gt)|0,v=v+Math.imul(Ee,It)|0,S=S+Math.imul(ue,mn)|0,s=(s=s+Math.imul(ue,dn)|0)+Math.imul(Q,mn)|0,v=v+Math.imul(Q,dn)|0,S=S+Math.imul(ye,An)|0,s=(s=s+Math.imul(ye,en)|0)+Math.imul(De,An)|0,v=v+Math.imul(De,en)|0,S=S+Math.imul(Se,Et)|0,s=(s=s+Math.imul(Se,ft)|0)+Math.imul(we,Et)|0,v=v+Math.imul(we,ft)|0,S=S+Math.imul(_e,qt)|0,s=(s=s+Math.imul(_e,hn)|0)+Math.imul(Oe,qt)|0,v=v+Math.imul(Oe,hn)|0;var Ne=(B+(S=S+Math.imul(K,vt)|0)|0)+((8191&(s=(s=s+Math.imul(K,St)|0)+Math.imul(ee,vt)|0))<<13)|0;B=((v=v+Math.imul(ee,St)|0)+(s>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,S=Math.imul(We,Ae),s=(s=Math.imul(We,tt))+Math.imul(Le,Ae)|0,v=Math.imul(Le,tt),S=S+Math.imul($e,gt)|0,s=(s=s+Math.imul($e,It)|0)+Math.imul(Fe,gt)|0,v=v+Math.imul(Fe,It)|0,S=S+Math.imul(fe,mn)|0,s=(s=s+Math.imul(fe,dn)|0)+Math.imul(Ee,mn)|0,v=v+Math.imul(Ee,dn)|0,S=S+Math.imul(ue,An)|0,s=(s=s+Math.imul(ue,en)|0)+Math.imul(Q,An)|0,v=v+Math.imul(Q,en)|0,S=S+Math.imul(ye,Et)|0,s=(s=s+Math.imul(ye,ft)|0)+Math.imul(De,Et)|0,v=v+Math.imul(De,ft)|0,S=S+Math.imul(Se,qt)|0,s=(s=s+Math.imul(Se,hn)|0)+Math.imul(we,qt)|0,v=v+Math.imul(we,hn)|0,S=S+Math.imul(_e,vt)|0,s=(s=s+Math.imul(_e,St)|0)+Math.imul(Oe,vt)|0,v=v+Math.imul(Oe,St)|0;var xt=(B+(S=S+Math.imul(K,Ye)|0)|0)+((8191&(s=(s=s+Math.imul(K,nt)|0)+Math.imul(ee,Ye)|0))<<13)|0;B=((v=v+Math.imul(ee,nt)|0)+(s>>>13)|0)+(xt>>>26)|0,xt&=67108863,S=Math.imul(N,Ae),s=(s=Math.imul(N,tt))+Math.imul(_,Ae)|0,v=Math.imul(_,tt),S=S+Math.imul(We,gt)|0,s=(s=s+Math.imul(We,It)|0)+Math.imul(Le,gt)|0,v=v+Math.imul(Le,It)|0,S=S+Math.imul($e,mn)|0,s=(s=s+Math.imul($e,dn)|0)+Math.imul(Fe,mn)|0,v=v+Math.imul(Fe,dn)|0,S=S+Math.imul(fe,An)|0,s=(s=s+Math.imul(fe,en)|0)+Math.imul(Ee,An)|0,v=v+Math.imul(Ee,en)|0,S=S+Math.imul(ue,Et)|0,s=(s=s+Math.imul(ue,ft)|0)+Math.imul(Q,Et)|0,v=v+Math.imul(Q,ft)|0,S=S+Math.imul(ye,qt)|0,s=(s=s+Math.imul(ye,hn)|0)+Math.imul(De,qt)|0,v=v+Math.imul(De,hn)|0,S=S+Math.imul(Se,vt)|0,s=(s=s+Math.imul(Se,St)|0)+Math.imul(we,vt)|0,v=v+Math.imul(we,St)|0,S=S+Math.imul(_e,Ye)|0,s=(s=s+Math.imul(_e,nt)|0)+Math.imul(Oe,Ye)|0,v=v+Math.imul(Oe,nt)|0;var nn=(B+(S=S+Math.imul(K,Nt)|0)|0)+((8191&(s=(s=s+Math.imul(K,un)|0)+Math.imul(ee,Nt)|0))<<13)|0;B=((v=v+Math.imul(ee,un)|0)+(s>>>13)|0)+(nn>>>26)|0,nn&=67108863,S=Math.imul(U,Ae),s=(s=Math.imul(U,tt))+Math.imul(ne,Ae)|0,v=Math.imul(ne,tt),S=S+Math.imul(N,gt)|0,s=(s=s+Math.imul(N,It)|0)+Math.imul(_,gt)|0,v=v+Math.imul(_,It)|0,S=S+Math.imul(We,mn)|0,s=(s=s+Math.imul(We,dn)|0)+Math.imul(Le,mn)|0,v=v+Math.imul(Le,dn)|0,S=S+Math.imul($e,An)|0,s=(s=s+Math.imul($e,en)|0)+Math.imul(Fe,An)|0,v=v+Math.imul(Fe,en)|0,S=S+Math.imul(fe,Et)|0,s=(s=s+Math.imul(fe,ft)|0)+Math.imul(Ee,Et)|0,v=v+Math.imul(Ee,ft)|0,S=S+Math.imul(ue,qt)|0,s=(s=s+Math.imul(ue,hn)|0)+Math.imul(Q,qt)|0,v=v+Math.imul(Q,hn)|0,S=S+Math.imul(ye,vt)|0,s=(s=s+Math.imul(ye,St)|0)+Math.imul(De,vt)|0,v=v+Math.imul(De,St)|0,S=S+Math.imul(Se,Ye)|0,s=(s=s+Math.imul(Se,nt)|0)+Math.imul(we,Ye)|0,v=v+Math.imul(we,nt)|0,S=S+Math.imul(_e,Nt)|0,s=(s=s+Math.imul(_e,un)|0)+Math.imul(Oe,Nt)|0,v=v+Math.imul(Oe,un)|0;var In=(B+(S=S+Math.imul(K,En)|0)|0)+((8191&(s=(s=s+Math.imul(K,kn)|0)+Math.imul(ee,En)|0))<<13)|0;B=((v=v+Math.imul(ee,kn)|0)+(s>>>13)|0)+(In>>>26)|0,In&=67108863,S=Math.imul(U,gt),s=(s=Math.imul(U,It))+Math.imul(ne,gt)|0,v=Math.imul(ne,It),S=S+Math.imul(N,mn)|0,s=(s=s+Math.imul(N,dn)|0)+Math.imul(_,mn)|0,v=v+Math.imul(_,dn)|0,S=S+Math.imul(We,An)|0,s=(s=s+Math.imul(We,en)|0)+Math.imul(Le,An)|0,v=v+Math.imul(Le,en)|0,S=S+Math.imul($e,Et)|0,s=(s=s+Math.imul($e,ft)|0)+Math.imul(Fe,Et)|0,v=v+Math.imul(Fe,ft)|0,S=S+Math.imul(fe,qt)|0,s=(s=s+Math.imul(fe,hn)|0)+Math.imul(Ee,qt)|0,v=v+Math.imul(Ee,hn)|0,S=S+Math.imul(ue,vt)|0,s=(s=s+Math.imul(ue,St)|0)+Math.imul(Q,vt)|0,v=v+Math.imul(Q,St)|0,S=S+Math.imul(ye,Ye)|0,s=(s=s+Math.imul(ye,nt)|0)+Math.imul(De,Ye)|0,v=v+Math.imul(De,nt)|0,S=S+Math.imul(Se,Nt)|0,s=(s=s+Math.imul(Se,un)|0)+Math.imul(we,Nt)|0,v=v+Math.imul(we,un)|0;var Kn=(B+(S=S+Math.imul(_e,En)|0)|0)+((8191&(s=(s=s+Math.imul(_e,kn)|0)+Math.imul(Oe,En)|0))<<13)|0;B=((v=v+Math.imul(Oe,kn)|0)+(s>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,S=Math.imul(U,mn),s=(s=Math.imul(U,dn))+Math.imul(ne,mn)|0,v=Math.imul(ne,dn),S=S+Math.imul(N,An)|0,s=(s=s+Math.imul(N,en)|0)+Math.imul(_,An)|0,v=v+Math.imul(_,en)|0,S=S+Math.imul(We,Et)|0,s=(s=s+Math.imul(We,ft)|0)+Math.imul(Le,Et)|0,v=v+Math.imul(Le,ft)|0,S=S+Math.imul($e,qt)|0,s=(s=s+Math.imul($e,hn)|0)+Math.imul(Fe,qt)|0,v=v+Math.imul(Fe,hn)|0,S=S+Math.imul(fe,vt)|0,s=(s=s+Math.imul(fe,St)|0)+Math.imul(Ee,vt)|0,v=v+Math.imul(Ee,St)|0,S=S+Math.imul(ue,Ye)|0,s=(s=s+Math.imul(ue,nt)|0)+Math.imul(Q,Ye)|0,v=v+Math.imul(Q,nt)|0,S=S+Math.imul(ye,Nt)|0,s=(s=s+Math.imul(ye,un)|0)+Math.imul(De,Nt)|0,v=v+Math.imul(De,un)|0;var er=(B+(S=S+Math.imul(Se,En)|0)|0)+((8191&(s=(s=s+Math.imul(Se,kn)|0)+Math.imul(we,En)|0))<<13)|0;B=((v=v+Math.imul(we,kn)|0)+(s>>>13)|0)+(er>>>26)|0,er&=67108863,S=Math.imul(U,An),s=(s=Math.imul(U,en))+Math.imul(ne,An)|0,v=Math.imul(ne,en),S=S+Math.imul(N,Et)|0,s=(s=s+Math.imul(N,ft)|0)+Math.imul(_,Et)|0,v=v+Math.imul(_,ft)|0,S=S+Math.imul(We,qt)|0,s=(s=s+Math.imul(We,hn)|0)+Math.imul(Le,qt)|0,v=v+Math.imul(Le,hn)|0,S=S+Math.imul($e,vt)|0,s=(s=s+Math.imul($e,St)|0)+Math.imul(Fe,vt)|0,v=v+Math.imul(Fe,St)|0,S=S+Math.imul(fe,Ye)|0,s=(s=s+Math.imul(fe,nt)|0)+Math.imul(Ee,Ye)|0,v=v+Math.imul(Ee,nt)|0,S=S+Math.imul(ue,Nt)|0,s=(s=s+Math.imul(ue,un)|0)+Math.imul(Q,Nt)|0,v=v+Math.imul(Q,un)|0;var _r=(B+(S=S+Math.imul(ye,En)|0)|0)+((8191&(s=(s=s+Math.imul(ye,kn)|0)+Math.imul(De,En)|0))<<13)|0;B=((v=v+Math.imul(De,kn)|0)+(s>>>13)|0)+(_r>>>26)|0,_r&=67108863,S=Math.imul(U,Et),s=(s=Math.imul(U,ft))+Math.imul(ne,Et)|0,v=Math.imul(ne,ft),S=S+Math.imul(N,qt)|0,s=(s=s+Math.imul(N,hn)|0)+Math.imul(_,qt)|0,v=v+Math.imul(_,hn)|0,S=S+Math.imul(We,vt)|0,s=(s=s+Math.imul(We,St)|0)+Math.imul(Le,vt)|0,v=v+Math.imul(Le,St)|0,S=S+Math.imul($e,Ye)|0,s=(s=s+Math.imul($e,nt)|0)+Math.imul(Fe,Ye)|0,v=v+Math.imul(Fe,nt)|0,S=S+Math.imul(fe,Nt)|0,s=(s=s+Math.imul(fe,un)|0)+Math.imul(Ee,Nt)|0,v=v+Math.imul(Ee,un)|0;var Tr=(B+(S=S+Math.imul(ue,En)|0)|0)+((8191&(s=(s=s+Math.imul(ue,kn)|0)+Math.imul(Q,En)|0))<<13)|0;B=((v=v+Math.imul(Q,kn)|0)+(s>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,S=Math.imul(U,qt),s=(s=Math.imul(U,hn))+Math.imul(ne,qt)|0,v=Math.imul(ne,hn),S=S+Math.imul(N,vt)|0,s=(s=s+Math.imul(N,St)|0)+Math.imul(_,vt)|0,v=v+Math.imul(_,St)|0,S=S+Math.imul(We,Ye)|0,s=(s=s+Math.imul(We,nt)|0)+Math.imul(Le,Ye)|0,v=v+Math.imul(Le,nt)|0,S=S+Math.imul($e,Nt)|0,s=(s=s+Math.imul($e,un)|0)+Math.imul(Fe,Nt)|0,v=v+Math.imul(Fe,un)|0;var Br=(B+(S=S+Math.imul(fe,En)|0)|0)+((8191&(s=(s=s+Math.imul(fe,kn)|0)+Math.imul(Ee,En)|0))<<13)|0;B=((v=v+Math.imul(Ee,kn)|0)+(s>>>13)|0)+(Br>>>26)|0,Br&=67108863,S=Math.imul(U,vt),s=(s=Math.imul(U,St))+Math.imul(ne,vt)|0,v=Math.imul(ne,St),S=S+Math.imul(N,Ye)|0,s=(s=s+Math.imul(N,nt)|0)+Math.imul(_,Ye)|0,v=v+Math.imul(_,nt)|0,S=S+Math.imul(We,Nt)|0,s=(s=s+Math.imul(We,un)|0)+Math.imul(Le,Nt)|0,v=v+Math.imul(Le,un)|0;var jr=(B+(S=S+Math.imul($e,En)|0)|0)+((8191&(s=(s=s+Math.imul($e,kn)|0)+Math.imul(Fe,En)|0))<<13)|0;B=((v=v+Math.imul(Fe,kn)|0)+(s>>>13)|0)+(jr>>>26)|0,jr&=67108863,S=Math.imul(U,Ye),s=(s=Math.imul(U,nt))+Math.imul(ne,Ye)|0,v=Math.imul(ne,nt),S=S+Math.imul(N,Nt)|0,s=(s=s+Math.imul(N,un)|0)+Math.imul(_,Nt)|0,v=v+Math.imul(_,un)|0;var Zr=(B+(S=S+Math.imul(We,En)|0)|0)+((8191&(s=(s=s+Math.imul(We,kn)|0)+Math.imul(Le,En)|0))<<13)|0;B=((v=v+Math.imul(Le,kn)|0)+(s>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,S=Math.imul(U,Nt),s=(s=Math.imul(U,un))+Math.imul(ne,Nt)|0,v=Math.imul(ne,un);var tn=(B+(S=S+Math.imul(N,En)|0)|0)+((8191&(s=(s=s+Math.imul(N,kn)|0)+Math.imul(_,En)|0))<<13)|0;B=((v=v+Math.imul(_,kn)|0)+(s>>>13)|0)+(tn>>>26)|0,tn&=67108863;var _n=(B+(S=Math.imul(U,En))|0)+((8191&(s=(s=Math.imul(U,kn))+Math.imul(ne,En)|0))<<13)|0;return B=((v=Math.imul(ne,kn))+(s>>>13)|0)+(_n>>>26)|0,_n&=67108863,T[0]=Or,T[1]=Jn,T[2]=Fn,T[3]=Lt,T[4]=et,T[5]=Te,T[6]=Ne,T[7]=xt,T[8]=nn,T[9]=In,T[10]=Kn,T[11]=er,T[12]=_r,T[13]=Tr,T[14]=Br,T[15]=jr,T[16]=Zr,T[17]=tn,T[18]=_n,0!==B&&(T[19]=B,y.length++),y};function J(C,a,f){return(new Z).mulp(C,a,f)}function Z(C,a){this.x=C,this.y=a}Math.imul||(re=G),x.prototype.mulTo=function(a,f){var y,g=this.length+a.length;return y=10===this.length&&10===a.length?re(this,a,f):g<63?G(this,a,f):g<1024?function te(C,a,f){f.negative=a.negative^C.negative,f.length=C.length+a.length;for(var y=0,g=0,M=0;M<f.length-1;M++){var T=g;g=0;for(var B=67108863&y,S=Math.min(M,a.length-1),s=Math.max(0,M-C.length+1);s<=S;s++){var ee=(0|C.words[M-s])*(0|a.words[s]),ce=67108863&ee;B=67108863&(ce=ce+B|0),g+=(T=(T=T+(ee/67108864|0)|0)+(ce>>>26)|0)>>>26,T&=67108863}f.words[M]=B,y=T,T=g}return 0!==y?f.words[M]=y:f.length--,f.strip()}(this,a,f):J(this,a,f),y},Z.prototype.makeRBT=function(a){for(var f=new Array(a),y=x.prototype._countBits(a)-1,g=0;g<a;g++)f[g]=this.revBin(g,y,a);return f},Z.prototype.revBin=function(a,f,y){if(0===a||a===y-1)return a;for(var g=0,M=0;M<f;M++)g|=(1&a)<<f-M-1,a>>=1;return g},Z.prototype.permute=function(a,f,y,g,M,T){for(var B=0;B<T;B++)g[B]=f[a[B]],M[B]=y[a[B]]},Z.prototype.transform=function(a,f,y,g,M,T){this.permute(T,a,f,y,g,M);for(var B=1;B<M;B<<=1)for(var S=B<<1,s=Math.cos(2*Math.PI/S),v=Math.sin(2*Math.PI/S),W=0;W<M;W+=S)for(var K=s,ee=v,ce=0;ce<B;ce++){var _e=y[W+ce],Oe=g[W+ce],Ve=y[W+ce+B],Se=g[W+ce+B],we=K*Ve-ee*Se;Se=K*Se+ee*Ve,y[W+ce]=_e+(Ve=we),g[W+ce]=Oe+Se,y[W+ce+B]=_e-Ve,g[W+ce+B]=Oe-Se,ce!==S&&(we=s*K-v*ee,ee=s*ee+v*K,K=we)}},Z.prototype.guessLen13b=function(a,f){var y=1|Math.max(f,a),g=1&y,M=0;for(y=y/2|0;y;y>>>=1)M++;return 1<<M+1+g},Z.prototype.conjugate=function(a,f,y){if(!(y<=1))for(var g=0;g<y/2;g++){var M=a[g];a[g]=a[y-g-1],a[y-g-1]=M,M=f[g],f[g]=-f[y-g-1],f[y-g-1]=-M}},Z.prototype.normalize13b=function(a,f){for(var y=0,g=0;g<f/2;g++){var M=8192*Math.round(a[2*g+1]/f)+Math.round(a[2*g]/f)+y;a[g]=67108863&M,y=M<67108864?0:M/67108864|0}return a},Z.prototype.convert13b=function(a,f,y,g){for(var M=0,T=0;T<f;T++)y[2*T]=8191&(M+=0|a[T]),y[2*T+1]=8191&(M>>>=13),M>>>=13;for(T=2*f;T<g;++T)y[T]=0;k(0===M),k(!(-8192&M))},Z.prototype.stub=function(a){for(var f=new Array(a),y=0;y<a;y++)f[y]=0;return f},Z.prototype.mulp=function(a,f,y){var g=2*this.guessLen13b(a.length,f.length),M=this.makeRBT(g),T=this.stub(g),B=new Array(g),S=new Array(g),s=new Array(g),v=new Array(g),W=new Array(g),K=new Array(g),ee=y.words;ee.length=g,this.convert13b(a.words,a.length,B,g),this.convert13b(f.words,f.length,v,g),this.transform(B,T,S,s,g,M),this.transform(v,T,W,K,g,M);for(var ce=0;ce<g;ce++){var _e=S[ce]*W[ce]-s[ce]*K[ce];s[ce]=S[ce]*K[ce]+s[ce]*W[ce],S[ce]=_e}return this.conjugate(S,s,g),this.transform(S,s,ee,T,g,M),this.conjugate(ee,T,g),this.normalize13b(ee,g),y.negative=a.negative^f.negative,y.length=a.length+f.length,y.strip()},x.prototype.mul=function(a){var f=new x(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},x.prototype.mulf=function(a){var f=new x(null);return f.words=new Array(this.length+a.length),J(this,a,f)},x.prototype.imul=function(a){return this.clone().mulTo(a,this)},x.prototype.imuln=function(a){k("number"==typeof a),k(a<67108864);for(var f=0,y=0;y<this.length;y++){var g=(0|this.words[y])*a,M=(67108863&g)+(67108863&f);f>>=26,f+=g/67108864|0,f+=M>>>26,this.words[y]=67108863&M}return 0!==f&&(this.words[y]=f,this.length++),this},x.prototype.muln=function(a){return this.clone().imuln(a)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(a){var f=function j(C){for(var a=new Array(C.bitLength()),f=0;f<a.length;f++){var g=f%26;a[f]=(C.words[f/26|0]&1<<g)>>>g}return a}(a);if(0===f.length)return new x(1);for(var y=this,g=0;g<f.length&&0===f[g];g++,y=y.sqr());if(++g<f.length)for(var M=y.sqr();g<f.length;g++,M=M.sqr())0!==f[g]&&(y=y.mul(M));return y},x.prototype.iushln=function(a){k("number"==typeof a&&a>=0);var M,f=a%26,y=(a-f)/26,g=67108863>>>26-f<<26-f;if(0!==f){var T=0;for(M=0;M<this.length;M++){var B=this.words[M]&g;this.words[M]=(0|this.words[M])-B<<f|T,T=B>>>26-f}T&&(this.words[M]=T,this.length++)}if(0!==y){for(M=this.length-1;M>=0;M--)this.words[M+y]=this.words[M];for(M=0;M<y;M++)this.words[M]=0;this.length+=y}return this.strip()},x.prototype.ishln=function(a){return k(0===this.negative),this.iushln(a)},x.prototype.iushrn=function(a,f,y){var g;k("number"==typeof a&&a>=0),g=f?(f-f%26)/26:0;var M=a%26,T=Math.min((a-M)/26,this.length),B=67108863^67108863>>>M<<M,S=y;if(g-=T,g=Math.max(0,g),S){for(var s=0;s<T;s++)S.words[s]=this.words[s];S.length=T}if(0!==T)if(this.length>T)for(this.length-=T,s=0;s<this.length;s++)this.words[s]=this.words[s+T];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=g);s--){var W=0|this.words[s];this.words[s]=v<<26-M|W>>>M,v=W&B}return S&&0!==v&&(S.words[S.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},x.prototype.ishrn=function(a,f,y){return k(0===this.negative),this.iushrn(a,f,y)},x.prototype.shln=function(a){return this.clone().ishln(a)},x.prototype.ushln=function(a){return this.clone().iushln(a)},x.prototype.shrn=function(a){return this.clone().ishrn(a)},x.prototype.ushrn=function(a){return this.clone().iushrn(a)},x.prototype.testn=function(a){k("number"==typeof a&&a>=0);var f=a%26,y=(a-f)/26;return!(this.length<=y||!(this.words[y]&1<<f))},x.prototype.imaskn=function(a){k("number"==typeof a&&a>=0);var f=a%26,y=(a-f)/26;return k(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==f&&y++,this.length=Math.min(y,this.length),0!==f&&(this.words[this.length-1]&=67108863^67108863>>>f<<f),this.strip())},x.prototype.maskn=function(a){return this.clone().imaskn(a)},x.prototype.iaddn=function(a){return k("number"==typeof a),k(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},x.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},x.prototype.isubn=function(a){if(k("number"==typeof a),k(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},x.prototype.addn=function(a){return this.clone().iaddn(a)},x.prototype.subn=function(a){return this.clone().isubn(a)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(a,f,y){var M;this._expand(a.length+y);var T,B=0;for(M=0;M<a.length;M++){T=(0|this.words[M+y])+B;var S=(0|a.words[M])*f;B=((T-=67108863&S)>>26)-(S/67108864|0),this.words[M+y]=67108863&T}for(;M<this.length-y;M++)B=(T=(0|this.words[M+y])+B)>>26,this.words[M+y]=67108863&T;if(0===B)return this.strip();for(k(-1===B),B=0,M=0;M<this.length;M++)B=(T=-(0|this.words[M])+B)>>26,this.words[M]=67108863&T;return this.negative=1,this.strip()},x.prototype._wordDiv=function(a,f){var y,g=this.clone(),M=a,T=0|M.words[M.length-1];0!=(y=26-this._countBits(T))&&(M=M.ushln(y),g.iushln(y),T=0|M.words[M.length-1]);var s,S=g.length-M.length;if("mod"!==f){(s=new x(null)).length=S+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var W=g.clone()._ishlnsubmul(M,1,S);0===W.negative&&(g=W,s&&(s.words[S]=1));for(var K=S-1;K>=0;K--){var ee=67108864*(0|g.words[M.length+K])+(0|g.words[M.length+K-1]);for(ee=Math.min(ee/T|0,67108863),g._ishlnsubmul(M,ee,K);0!==g.negative;)ee--,g.negative=0,g._ishlnsubmul(M,1,K),g.isZero()||(g.negative^=1);s&&(s.words[K]=ee)}return s&&s.strip(),g.strip(),"div"!==f&&0!==y&&g.iushrn(y),{div:s||null,mod:g}},x.prototype.divmod=function(a,f,y){return k(!a.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===a.negative?(T=this.neg().divmod(a,f),"mod"!==f&&(g=T.div.neg()),"div"!==f&&(M=T.mod.neg(),y&&0!==M.negative&&M.iadd(a)),{div:g,mod:M}):0===this.negative&&0!==a.negative?(T=this.divmod(a.neg(),f),"mod"!==f&&(g=T.div.neg()),{div:g,mod:T.mod}):this.negative&a.negative?(T=this.neg().divmod(a.neg(),f),"div"!==f&&(M=T.mod.neg(),y&&0!==M.negative&&M.isub(a)),{div:T.div,mod:M}):a.length>this.length||this.cmp(a)<0?{div:new x(0),mod:this}:1===a.length?"div"===f?{div:this.divn(a.words[0]),mod:null}:"mod"===f?{div:null,mod:new x(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new x(this.modn(a.words[0]))}:this._wordDiv(a,f);var g,M,T},x.prototype.div=function(a){return this.divmod(a,"div",!1).div},x.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},x.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},x.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var y=0!==f.div.negative?f.mod.isub(a):f.mod,g=a.ushrn(1),M=a.andln(1),T=y.cmp(g);return T<0||1===M&&0===T?f.div:0!==f.div.negative?f.div.isubn(1):f.div.iaddn(1)},x.prototype.modn=function(a){k(a<=67108863);for(var f=(1<<26)%a,y=0,g=this.length-1;g>=0;g--)y=(f*y+(0|this.words[g]))%a;return y},x.prototype.idivn=function(a){k(a<=67108863);for(var f=0,y=this.length-1;y>=0;y--){var g=(0|this.words[y])+67108864*f;this.words[y]=g/a|0,f=g%a}return this.strip()},x.prototype.divn=function(a){return this.clone().idivn(a)},x.prototype.egcd=function(a){k(0===a.negative),k(!a.isZero());var f=this,y=a.clone();f=0!==f.negative?f.umod(a):f.clone();for(var g=new x(1),M=new x(0),T=new x(0),B=new x(1),S=0;f.isEven()&&y.isEven();)f.iushrn(1),y.iushrn(1),++S;for(var s=y.clone(),v=f.clone();!f.isZero();){for(var W=0,K=1;!(f.words[0]&K)&&W<26;++W,K<<=1);if(W>0)for(f.iushrn(W);W-- >0;)(g.isOdd()||M.isOdd())&&(g.iadd(s),M.isub(v)),g.iushrn(1),M.iushrn(1);for(var ee=0,ce=1;!(y.words[0]&ce)&&ee<26;++ee,ce<<=1);if(ee>0)for(y.iushrn(ee);ee-- >0;)(T.isOdd()||B.isOdd())&&(T.iadd(s),B.isub(v)),T.iushrn(1),B.iushrn(1);f.cmp(y)>=0?(f.isub(y),g.isub(T),M.isub(B)):(y.isub(f),T.isub(g),B.isub(M))}return{a:T,b:B,gcd:y.iushln(S)}},x.prototype._invmp=function(a){k(0===a.negative),k(!a.isZero());var W,f=this,y=a.clone();f=0!==f.negative?f.umod(a):f.clone();for(var g=new x(1),M=new x(0),T=y.clone();f.cmpn(1)>0&&y.cmpn(1)>0;){for(var B=0,S=1;!(f.words[0]&S)&&B<26;++B,S<<=1);if(B>0)for(f.iushrn(B);B-- >0;)g.isOdd()&&g.iadd(T),g.iushrn(1);for(var s=0,v=1;!(y.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(y.iushrn(s);s-- >0;)M.isOdd()&&M.iadd(T),M.iushrn(1);f.cmp(y)>=0?(f.isub(y),g.isub(M)):(y.isub(f),M.isub(g))}return(W=0===f.cmpn(1)?g:M).cmpn(0)<0&&W.iadd(a),W},x.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),y=a.clone();f.negative=0,y.negative=0;for(var g=0;f.isEven()&&y.isEven();g++)f.iushrn(1),y.iushrn(1);for(;;){for(;f.isEven();)f.iushrn(1);for(;y.isEven();)y.iushrn(1);var M=f.cmp(y);if(M<0){var T=f;f=y,y=T}else if(0===M||0===y.cmpn(1))break;f.isub(y)}return y.iushln(g)},x.prototype.invm=function(a){return this.egcd(a).a.umod(a)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(a){return this.words[0]&a},x.prototype.bincn=function(a){k("number"==typeof a);var f=a%26,y=(a-f)/26,g=1<<f;if(this.length<=y)return this._expand(y+1),this.words[y]|=g,this;for(var M=g,T=y;0!==M&&T<this.length;T++){var B=0|this.words[T];M=(B+=M)>>>26,this.words[T]=B&=67108863}return 0!==M&&(this.words[T]=M,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(a){var y,f=a<0;if(0!==this.negative&&!f)return-1;if(0===this.negative&&f)return 1;if(this.strip(),this.length>1)y=1;else{f&&(a=-a),k(a<=67108863,"Number is too big");var g=0|this.words[0];y=g===a?0:g<a?-1:1}return 0!==this.negative?0|-y:y},x.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var f=this.ucmp(a);return 0!==this.negative?0|-f:f},x.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,y=this.length-1;y>=0;y--){var g=0|this.words[y],M=0|a.words[y];if(g!==M){g<M?f=-1:g>M&&(f=1);break}}return f},x.prototype.gtn=function(a){return 1===this.cmpn(a)},x.prototype.gt=function(a){return 1===this.cmp(a)},x.prototype.gten=function(a){return this.cmpn(a)>=0},x.prototype.gte=function(a){return this.cmp(a)>=0},x.prototype.ltn=function(a){return-1===this.cmpn(a)},x.prototype.lt=function(a){return-1===this.cmp(a)},x.prototype.lten=function(a){return this.cmpn(a)<=0},x.prototype.lte=function(a){return this.cmp(a)<=0},x.prototype.eqn=function(a){return 0===this.cmpn(a)},x.prototype.eq=function(a){return 0===this.cmp(a)},x.red=function(a){return new xe(a)},x.prototype.toRed=function(a){return k(!this.red,"Already a number in reduction context"),k(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},x.prototype.fromRed=function(){return k(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(a){return this.red=a,this},x.prototype.forceRed=function(a){return k(!this.red,"Already a number in reduction context"),this._forceRed(a)},x.prototype.redAdd=function(a){return k(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},x.prototype.redIAdd=function(a){return k(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},x.prototype.redSub=function(a){return k(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},x.prototype.redISub=function(a){return k(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},x.prototype.redShl=function(a){return k(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},x.prototype.redMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},x.prototype.redIMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},x.prototype.redSqr=function(){return k(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return k(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return k(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return k(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return k(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(a){return k(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var ie={k256:null,p224:null,p192:null,p25519:null};function ae(C,a){this.name=C,this.p=new x(a,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function se(){ae.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function de(){ae.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function le(){ae.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function be(){ae.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function xe(C){if("string"==typeof C){var a=x._prime(C);this.m=a.p,this.prime=a}else k(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function ke(C){xe.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ae.prototype._tmp=function(){var a=new x(null);return a.words=new Array(Math.ceil(this.n/13)),a},ae.prototype.ireduce=function(a){var y,f=a;do{this.split(f,this.tmp),y=(f=(f=this.imulK(f)).iadd(this.tmp)).bitLength()}while(y>this.n);var g=y<this.n?-1:f.ucmp(this.p);return 0===g?(f.words[0]=0,f.length=1):g>0?f.isub(this.p):void 0!==f.strip?f.strip():f._strip(),f},ae.prototype.split=function(a,f){a.iushrn(this.n,0,f)},ae.prototype.imulK=function(a){return a.imul(this.k)},z(se,ae),se.prototype.split=function(a,f){for(var y=4194303,g=Math.min(a.length,9),M=0;M<g;M++)f.words[M]=a.words[M];if(f.length=g,a.length<=9)return a.words[0]=0,void(a.length=1);var T=a.words[9];for(f.words[f.length++]=T&y,M=10;M<a.length;M++){var B=0|a.words[M];a.words[M-10]=(B&y)<<4|T>>>22,T=B}a.words[M-10]=T>>>=22,a.length-=0===T&&a.length>10?10:9},se.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,y=0;y<a.length;y++){var g=0|a.words[y];a.words[y]=67108863&(f+=977*g),f=64*g+(f/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},z(de,ae),z(le,ae),z(be,ae),be.prototype.imulK=function(a){for(var f=0,y=0;y<a.length;y++){var g=19*(0|a.words[y])+f,M=67108863&g;g>>>=26,a.words[y]=M,f=g}return 0!==f&&(a.words[a.length++]=f),a},x._prime=function(a){if(ie[a])return ie[a];var f;if("k256"===a)f=new se;else if("p224"===a)f=new de;else if("p192"===a)f=new le;else{if("p25519"!==a)throw new Error("Unknown prime "+a);f=new be}return ie[a]=f,f},xe.prototype._verify1=function(a){k(0===a.negative,"red works only with positives"),k(a.red,"red works only with red numbers")},xe.prototype._verify2=function(a,f){k(!(a.negative|f.negative),"red works only with positives"),k(a.red&&a.red===f.red,"red works only with red numbers")},xe.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},xe.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},xe.prototype.add=function(a,f){this._verify2(a,f);var y=a.add(f);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},xe.prototype.iadd=function(a,f){this._verify2(a,f);var y=a.iadd(f);return y.cmp(this.m)>=0&&y.isub(this.m),y},xe.prototype.sub=function(a,f){this._verify2(a,f);var y=a.sub(f);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},xe.prototype.isub=function(a,f){this._verify2(a,f);var y=a.isub(f);return y.cmpn(0)<0&&y.iadd(this.m),y},xe.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},xe.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},xe.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},xe.prototype.isqr=function(a){return this.imul(a,a.clone())},xe.prototype.sqr=function(a){return this.mul(a,a)},xe.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(k(f%2==1),3===f){var y=this.m.add(new x(1)).iushrn(2);return this.pow(a,y)}for(var g=this.m.subn(1),M=0;!g.isZero()&&0===g.andln(1);)M++,g.iushrn(1);k(!g.isZero());var T=new x(1).toRed(this),B=T.redNeg(),S=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new x(2*s*s).toRed(this);0!==this.pow(s,S).cmp(B);)s.redIAdd(B);for(var v=this.pow(s,g),W=this.pow(a,g.addn(1).iushrn(1)),K=this.pow(a,g),ee=M;0!==K.cmp(T);){for(var ce=K,_e=0;0!==ce.cmp(T);_e++)ce=ce.redSqr();k(_e<ee);var Oe=this.pow(v,new x(1).iushln(ee-_e-1));W=W.redMul(Oe),v=Oe.redSqr(),K=K.redMul(v),ee=_e}return W},xe.prototype.invm=function(a){var f=a._invmp(this.m);return 0!==f.negative?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},xe.prototype.pow=function(a,f){if(f.isZero())return new x(1).toRed(this);if(0===f.cmpn(1))return a.clone();var g=new Array(16);g[0]=new x(1).toRed(this),g[1]=a;for(var M=2;M<g.length;M++)g[M]=this.mul(g[M-1],a);var T=g[0],B=0,S=0,s=f.bitLength()%26;for(0===s&&(s=26),M=f.length-1;M>=0;M--){for(var v=f.words[M],W=s-1;W>=0;W--){var K=v>>W&1;T!==g[0]&&(T=this.sqr(T)),0!==K||0!==B?(B<<=1,B|=K,(4==++S||0===M&&0===W)&&(T=this.mul(T,g[B]),S=0,B=0)):S=0}s=26}return T},xe.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},xe.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},x.mont=function(a){return new ke(a)},z(ke,xe),ke.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ke.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ke.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var y=a.imul(f),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(g).iushrn(this.shift),T=M;return M.cmp(this.m)>=0?T=M.isub(this.m):M.cmpn(0)<0&&(T=M.iadd(this.m)),T._forceRed(this)},ke.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new x(0)._forceRed(this);var y=a.mul(f),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(g).iushrn(this.shift),T=M;return M.cmp(this.m)>=0?T=M.isub(this.m):M.cmpn(0)<0&&(T=M.iadd(this.m)),T._forceRed(this)},ke.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(je=w.nmd(je),this)},48967:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.ephemeralKeySize=H.symmetricNonceLength=H.symmetricAlgorithm=H.isHkdfKeyCompressed=H.isEphemeralKeyCompressed=H.ellipticCurve=H.ECIES_CONFIG=void 0;var d=w(29277);H.ECIES_CONFIG=new(function(){return function F(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16}}()),H.ellipticCurve=function(){return H.ECIES_CONFIG.ellipticCurve},H.isEphemeralKeyCompressed=function(){return H.ECIES_CONFIG.isEphemeralKeyCompressed},H.isHkdfKeyCompressed=function(){return H.ECIES_CONFIG.isHkdfKeyCompressed},H.symmetricAlgorithm=function(){return H.ECIES_CONFIG.symmetricAlgorithm},H.symmetricNonceLength=function(){return H.ECIES_CONFIG.symmetricNonceLength},H.ephemeralKeySize=function(){var F={secp256k1:H.ECIES_CONFIG.isEphemeralKeyCompressed?d.COMPRESSED_PUBLIC_KEY_SIZE:d.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:d.CURVE25519_PUBLIC_KEY_SIZE,ed25519:d.CURVE25519_PUBLIC_KEY_SIZE};if(H.ECIES_CONFIG.ellipticCurve in F)return F[H.ECIES_CONFIG.ellipticCurve];throw new Error("Not implemented")}},29277:(je,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.AEAD_TAG_LENGTH=H.XCHACHA20_NONCE_LENGTH=H.CURVE25519_PUBLIC_KEY_SIZE=H.ETH_PUBLIC_KEY_SIZE=H.UNCOMPRESSED_PUBLIC_KEY_SIZE=H.COMPRESSED_PUBLIC_KEY_SIZE=H.SECRET_KEY_LENGTH=void 0,H.SECRET_KEY_LENGTH=32,H.COMPRESSED_PUBLIC_KEY_SIZE=33,H.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,H.ETH_PUBLIC_KEY_SIZE=64,H.CURVE25519_PUBLIC_KEY_SIZE=32,H.XCHACHA20_NONCE_LENGTH=24,H.AEAD_TAG_LENGTH=16},63397:(je,H,w)=>{"use strict";H.VV=H.Yc=H.w=void 0;var E=w(23790),k=w(48967),z=w(40774),x=w(77399);H.w=function O(L,D){var te,X=new z.PrivateKey,j=L instanceof Uint8Array?new z.PublicKey(L):z.PublicKey.fromHex(L),G=X.encapsulate(j),re=(0,x.aesEncrypt)(G,D);return te=(0,k.isEphemeralKeyCompressed)()?X.publicKey.compressed:X.publicKey.uncompressed,Buffer.from((0,E.concatBytes)(te,re))},H.Yc=function A(L,D){var X=L instanceof Uint8Array?new z.PrivateKey(L):z.PrivateKey.fromHex(L),j=(0,k.ephemeralKeySize)(),G=new z.PublicKey(D.subarray(0,j)),re=D.subarray(j),te=G.decapsulate(X);return Buffer.from((0,x.aesDecrypt)(te,re))};var P=w(48967);Object.defineProperty(H,"VV",{enumerable:!0,get:function(){return P.ECIES_CONFIG}});w(40774)},1210:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.PrivateKey=void 0;var d=w(23790),E=w(48967),k=w(77399),z=w(40762),x=function(){function O(A){var P=void 0===A?(0,k.getValidSecret)():A;if(!(0,k.isValidPrivateKey)(P))throw new Error("Invalid private key");this.data=P,this.publicKey=new z.PublicKey((0,k.getPublicKey)(P))}return O.fromHex=function(A){return new O((0,k.decodeHex)(A))},Object.defineProperty(O.prototype,"secret",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),O.prototype.toHex=function(){return(0,d.bytesToHex)(this.data)},O.prototype.encapsulate=function(A){var P,F;return(0,E.isHkdfKeyCompressed)()?(P=this.publicKey.compressed,F=this.multiply(A,!0)):(P=this.publicKey.uncompressed,F=this.multiply(A,!1)),(0,k.getSharedKey)(P,F)},O.prototype.multiply=function(A,P){return void 0===P&&(P=!1),(0,k.getSharedPoint)(this.data,A.compressed,P)},O.prototype.equals=function(A){return(0,d.equalBytes)(this.data,A.data)},O}();H.PrivateKey=x},40762:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.PublicKey=void 0;var d=w(23790),E=w(48967),k=w(77399),z=function(){function x(O){this.data=(0,k.convertPublicKeyFormat)(O,!0)}return x.fromHex=function(O){return new x((0,k.hexToPublicKey)(O))},Object.defineProperty(x.prototype,"uncompressed",{get:function(){return Buffer.from((0,k.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"compressed",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),x.prototype.toHex=function(O){return void 0===O&&(O=!0),(0,d.bytesToHex)(O?this.data:this.uncompressed)},x.prototype.decapsulate=function(O){var A,P;return(0,E.isHkdfKeyCompressed)()?(A=this.data,P=O.multiply(this,!0)):(A=this.uncompressed,P=O.multiply(this,!1)),(0,k.getSharedKey)(A,P)},x.prototype.equals=function(O){return(0,d.equalBytes)(this.data,O.data)},x}();H.PublicKey=z},40774:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.PublicKey=H.PrivateKey=void 0;var d=w(1210);Object.defineProperty(H,"PrivateKey",{enumerable:!0,get:function(){return d.PrivateKey}});var E=w(40762);Object.defineProperty(H,"PublicKey",{enumerable:!0,get:function(){return E.PublicKey}})},1849:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.aes256gcm=void 0;var d=w(23790),E=w(91426),k=w(29277);H.aes256gcm=function z(x,O,A){return{tagLength:k.AEAD_TAG_LENGTH,encrypt:function(L){var D=(0,E.createCipheriv)("aes-256-gcm",x,O);A&&D.setAAD(A);var X=D.update(L),j=D.final();return(0,d.concatBytes)(X,j,D.getAuthTag())},decrypt:function(L){var D=L.subarray(0,L.length-k.AEAD_TAG_LENGTH),X=L.subarray(-k.AEAD_TAG_LENGTH),j=(0,E.createDecipheriv)("aes-256-gcm",x,O);A&&j.setAAD(A),j.setAuthTag(X);var G=j.update(D),re=j.final();return(0,d.concatBytes)(G,re)}}}},77553:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.hexToPublicKey=H.convertPublicKeyFormat=H.getSharedPoint=H.getSharedKey=H.getPublicKey=H.isValidPrivateKey=H.getValidSecret=void 0;var d=w(23790),E=w(42098),k=w(57340),z=w(91717),x=w(48967),O=w(29277),A=w(99666),P=w(63364);function L(J){return te(function(Z){return Z.utils.isValidPrivateKey(J)},function(){return!0},function(){return!0})}function te(J,Z,ie){if("secp256k1"===(0,x.ellipticCurve)())return J(z.secp256k1);if("x25519"===(0,x.ellipticCurve)())return Z(k.x25519);if("ed25519"===(0,x.ellipticCurve)())return ie(k.ed25519);throw new Error("Not implemented")}H.getValidSecret=function F(){var J;do{J=(0,E.randomBytes)(O.SECRET_KEY_LENGTH)}while(!L(J));return J},H.isValidPrivateKey=L,H.getPublicKey=function D(J){return te(function(Z){return Z.getPublicKey(J)},function(Z){return Z.getPublicKey(J)},function(Z){return Z.getPublicKey(J)})},H.getSharedKey=function X(J,Z){return(0,P.deriveKey)((0,d.concatBytes)(J,Z))},H.getSharedPoint=function j(J,Z,ie){return te(function(ae){return ae.getSharedSecret(J,Z,ie)},function(ae){return ae.getSharedSecret(J,Z)},function(ae){var se=ae.utils.getExtendedPublicKey(J).scalar;return ae.ExtendedPoint.fromHex(Z).multiply(se).toRawBytes()})},H.convertPublicKeyFormat=function G(J,Z){return te(function(ie){return ie.getSharedSecret(BigInt(1),J,Z)},function(){return J},function(){return J})},H.hexToPublicKey=function re(J){var Z=(0,A.decodeHex)(J);return te(function(){if(Z.length===O.ETH_PUBLIC_KEY_SIZE){var ie=new Uint8Array(1+Z.length);return ie.set([4]),ie.set(Z,1),ie}return Z},function(){return Z},function(){return Z})}},99666:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.decodeHex=H.remove0x=void 0;var d=w(23790);function E(z){return z.startsWith("0x")||z.startsWith("0X")?z.slice(2):z}H.remove0x=E,H.decodeHex=function k(z){return(0,d.hexToBytes)(E(z))}},77399:function(je,H,w){"use strict";var d=this&&this.__createBinding||(Object.create?function(k,z,x,O){void 0===O&&(O=x);var A=Object.getOwnPropertyDescriptor(z,x);(!A||("get"in A?!z.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return z[x]}}),Object.defineProperty(k,O,A)}:function(k,z,x,O){void 0===O&&(O=x),k[O]=z[x]}),E=this&&this.__exportStar||function(k,z){for(var x in k)"default"!==x&&!Object.prototype.hasOwnProperty.call(z,x)&&d(z,k,x)};Object.defineProperty(H,"__esModule",{value:!0}),E(w(77553),H),E(w(99666),H),E(w(63364),H)},63364:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.deriveKey=H.aesDecrypt=H.aesEncrypt=void 0;var d=w(59219),E=w(23790),k=w(42098),z=w(57334),x=w(1806),O=w(48967),A=w(29277),P=w(1849);function X(re,te,J){var Z=(0,O.symmetricAlgorithm)(),ie=re?j:G;if("aes-256-gcm"===Z)return ie(P.aes256gcm,te,J,(0,O.symmetricNonceLength)());if("xchacha20"===Z)return ie(d.xchacha20poly1305,te,J,A.XCHACHA20_NONCE_LENGTH);throw new Error("Not implemented")}function j(re,te,J,Z){var ie=(0,k.randomBytes)(Z),se=re(te,ie).encrypt(J),de=se.subarray(0,se.length-A.AEAD_TAG_LENGTH),le=se.subarray(-A.AEAD_TAG_LENGTH);return(0,E.concatBytes)(ie,le,de)}function G(re,te,J,Z){var ie=Z+A.AEAD_TAG_LENGTH,ae=J.subarray(0,Z),se=J.subarray(Z,ie),de=J.subarray(ie),le=re(te,Uint8Array.from(ae)),be=(0,E.concatBytes)(de,se);return le.decrypt(be)}H.aesEncrypt=function F(re,te){return X(!0,re,te)},H.aesDecrypt=function L(re,te){return X(!1,re,te)},H.deriveKey=function D(re){return(0,z.hkdf)(x.sha256,re,void 0,void 0,32)}},10475:(je,H)=>{"use strict";function w(A){if(!Number.isSafeInteger(A)||A<0)throw new Error(`Wrong positive integer: ${A}`)}function d(A){if("boolean"!=typeof A)throw new Error(`Expected boolean, not ${A}`)}function E(A,...P){if(!(A instanceof Uint8Array))throw new Error("Expected Uint8Array");if(P.length>0&&!P.includes(A.length))throw new Error(`Expected Uint8Array of length ${P}, not of length=${A.length}`)}function k(A){if("function"!=typeof A||"function"!=typeof A.create)throw new Error("hash must be wrapped by utils.wrapConstructor");w(A.outputLen),w(A.blockLen)}function z(A,P=!0){if(A.destroyed)throw new Error("Hash instance has been destroyed");if(P&&A.finished)throw new Error("Hash#digest() has already been called")}function x(A,P){E(A);const F=P.outputLen;if(A.length<F)throw new Error(`digestInto() expects output buffer of length at least ${F}`)}Object.defineProperty(H,"__esModule",{value:!0}),H.output=H.exists=H.hash=H.bytes=H.bool=H.number=void 0,H.number=w,H.bool=d,H.bytes=E,H.hash=k,H.exists=z,H.output=x,H.default={number:w,bool:d,bytes:E,hash:k,exists:z,output:x}},17035:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.poly1305=H.wrapConstructorWithKey=void 0;const d=w(23790),E=w(10475),k=(O,A)=>255&O[A++]|(255&O[A++])<<8;class z{constructor(A){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,A=(0,d.toBytes)(A),(0,d.ensureBytes)(A,32);const P=k(A,0),F=k(A,2),L=k(A,4),D=k(A,6),X=k(A,8),j=k(A,10),G=k(A,12),re=k(A,14);this.r[0]=8191&P,this.r[1]=8191&(P>>>13|F<<3),this.r[2]=7939&(F>>>10|L<<6),this.r[3]=8191&(L>>>7|D<<9),this.r[4]=255&(D>>>4|X<<12),this.r[5]=X>>>1&8190,this.r[6]=8191&(X>>>14|j<<2),this.r[7]=8065&(j>>>11|G<<5),this.r[8]=8191&(G>>>8|re<<8),this.r[9]=re>>>5&127;for(let te=0;te<8;te++)this.pad[te]=k(A,16+2*te)}process(A,P,F=!1){const L=F?0:2048,{h:D,r:X}=this,j=X[0],G=X[1],re=X[2],te=X[3],J=X[4],Z=X[5],ie=X[6],ae=X[7],se=X[8],de=X[9],le=k(A,P+0),be=k(A,P+2),xe=k(A,P+4),ke=k(A,P+6),C=k(A,P+8),a=k(A,P+10),f=k(A,P+12),y=k(A,P+14);let g=D[0]+(8191&le),M=D[1]+(8191&(le>>>13|be<<3)),T=D[2]+(8191&(be>>>10|xe<<6)),B=D[3]+(8191&(xe>>>7|ke<<9)),S=D[4]+(8191&(ke>>>4|C<<12)),s=D[5]+(C>>>1&8191),v=D[6]+(8191&(C>>>14|a<<2)),W=D[7]+(8191&(a>>>11|f<<5)),K=D[8]+(8191&(f>>>8|y<<8)),ee=D[9]+(y>>>5|L),ce=0,_e=ce+g*j+M*(5*de)+T*(5*se)+B*(5*ae)+S*(5*ie);ce=_e>>>13,_e&=8191,_e+=s*(5*Z)+v*(5*J)+W*(5*te)+K*(5*re)+ee*(5*G),ce+=_e>>>13,_e&=8191;let Oe=ce+g*G+M*j+T*(5*de)+B*(5*se)+S*(5*ae);ce=Oe>>>13,Oe&=8191,Oe+=s*(5*ie)+v*(5*Z)+W*(5*J)+K*(5*te)+ee*(5*re),ce+=Oe>>>13,Oe&=8191;let Ve=ce+g*re+M*G+T*j+B*(5*de)+S*(5*se);ce=Ve>>>13,Ve&=8191,Ve+=s*(5*ae)+v*(5*ie)+W*(5*Z)+K*(5*J)+ee*(5*te),ce+=Ve>>>13,Ve&=8191;let Se=ce+g*te+M*re+T*G+B*j+S*(5*de);ce=Se>>>13,Se&=8191,Se+=s*(5*se)+v*(5*ae)+W*(5*ie)+K*(5*Z)+ee*(5*J),ce+=Se>>>13,Se&=8191;let we=ce+g*J+M*te+T*re+B*G+S*j;ce=we>>>13,we&=8191,we+=s*(5*de)+v*(5*se)+W*(5*ae)+K*(5*ie)+ee*(5*Z),ce+=we>>>13,we&=8191;let Ue=ce+g*Z+M*J+T*te+B*re+S*G;ce=Ue>>>13,Ue&=8191,Ue+=s*j+v*(5*de)+W*(5*se)+K*(5*ae)+ee*(5*ie),ce+=Ue>>>13,Ue&=8191;let ye=ce+g*ie+M*Z+T*J+B*te+S*re;ce=ye>>>13,ye&=8191,ye+=s*G+v*j+W*(5*de)+K*(5*se)+ee*(5*ae),ce+=ye>>>13,ye&=8191;let De=ce+g*ae+M*ie+T*Z+B*J+S*te;ce=De>>>13,De&=8191,De+=s*re+v*G+W*j+K*(5*de)+ee*(5*se),ce+=De>>>13,De&=8191;let pe=ce+g*se+M*ae+T*ie+B*Z+S*J;ce=pe>>>13,pe&=8191,pe+=s*te+v*re+W*G+K*j+ee*(5*de),ce+=pe>>>13,pe&=8191;let ue=ce+g*de+M*se+T*ae+B*ie+S*Z;ce=ue>>>13,ue&=8191,ue+=s*J+v*te+W*re+K*G+ee*j,ce+=ue>>>13,ue&=8191,ce=(ce<<2)+ce|0,ce=ce+_e|0,_e=8191&ce,ce>>>=13,Oe+=ce,D[0]=_e,D[1]=Oe,D[2]=Ve,D[3]=Se,D[4]=we,D[5]=Ue,D[6]=ye,D[7]=De,D[8]=pe,D[9]=ue}finalize(){const{h:A,pad:P}=this,F=new Uint16Array(10);let L=A[1]>>>13;A[1]&=8191;for(let j=2;j<10;j++)A[j]+=L,L=A[j]>>>13,A[j]&=8191;A[0]+=5*L,L=A[0]>>>13,A[0]&=8191,A[1]+=L,L=A[1]>>>13,A[1]&=8191,A[2]+=L,F[0]=A[0]+5,L=F[0]>>>13,F[0]&=8191;for(let j=1;j<10;j++)F[j]=A[j]+L,L=F[j]>>>13,F[j]&=8191;F[9]-=8192;let D=(1^L)-1;for(let j=0;j<10;j++)F[j]&=D;D=~D;for(let j=0;j<10;j++)A[j]=A[j]&D|F[j];A[0]=65535&(A[0]|A[1]<<13),A[1]=65535&(A[1]>>>3|A[2]<<10),A[2]=65535&(A[2]>>>6|A[3]<<7),A[3]=65535&(A[3]>>>9|A[4]<<4),A[4]=65535&(A[4]>>>12|A[5]<<1|A[6]<<14),A[5]=65535&(A[6]>>>2|A[7]<<11),A[6]=65535&(A[7]>>>5|A[8]<<8),A[7]=65535&(A[8]>>>8|A[9]<<5);let X=A[0]+P[0];A[0]=65535&X;for(let j=1;j<8;j++)X=(A[j]+P[j]|0)+(X>>>16)|0,A[j]=65535&X}update(A){E.default.exists(this);const{buffer:P,blockLen:F}=this,L=(A=(0,d.toBytes)(A)).length;for(let D=0;D<L;){const X=Math.min(F-this.pos,L-D);if(X!==F)P.set(A.subarray(D,D+X),this.pos),this.pos+=X,D+=X,this.pos===F&&(this.process(P,0,!1),this.pos=0);else for(;F<=L-D;D+=F)this.process(A,D)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(A){E.default.exists(this),E.default.output(A,this),this.finished=!0;const{buffer:P,h:F}=this;let{pos:L}=this;if(L){for(P[L++]=1;L<16;L++)P[L]=0;this.process(P,0,!0)}this.finalize();let D=0;for(let X=0;X<8;X++)A[D++]=F[X]>>>0,A[D++]=F[X]>>>8;return A}digest(){const{buffer:A,outputLen:P}=this;this.digestInto(A);const F=A.slice(0,P);return this.destroy(),F}}function x(O){const A=(F,L)=>O(L).update((0,d.toBytes)(F)).digest(),P=O(new Uint8Array(32));return A.outputLen=P.outputLen,A.blockLen=P.blockLen,A.create=F=>O(F),A}H.wrapConstructorWithKey=x,H.poly1305=x(O=>new z(O))},70580:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.salsaBasic=void 0;const d=w(10475),E=w(23790),k=(0,E.utf8ToBytes)("expand 16-byte k"),z=(0,E.utf8ToBytes)("expand 32-byte k"),x=(0,E.u32)(k),O=(0,E.u32)(z),A=F=>!(F.byteOffset%4);H.salsaBasic=F=>{const{core:L,rounds:D,counterRight:X,counterLen:j,allow128bitKeys:G,extendNonceFn:re,blockLen:te}=(0,E.checkOpts)({rounds:20,counterRight:!1,counterLen:8,allow128bitKeys:!0,blockLen:64},F);d.default.number(j),d.default.number(D),d.default.number(te),d.default.bool(X),d.default.bool(G);const J=te/4;if(te%4!=0)throw new Error("Salsa/ChaCha: blockLen must be aligned to 4 bytes");return(Z,ie,ae,se,de=0)=>{if(d.default.bytes(Z),d.default.bytes(ie),d.default.bytes(ae),se||(se=new Uint8Array(ae.length)),d.default.bytes(se),d.default.number(de),de<0||de>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");if(se.length<ae.length)throw new Error(`Salsa/ChaCha: output (${se.length}) is shorter than data (${ae.length})`);const le=[];let be,xe;if(32===Z.length)A(Z)?be=Z:(be=Z.slice(),le.push(be)),xe=O;else{if(16!==Z.length||!G)throw new Error(`Salsa/ChaCha: invalid 32-byte key, got length=${Z.length}`);be=new Uint8Array(32),be.set(Z),be.set(Z,16),xe=x,le.push(be)}if(A(ie)||(ie=ie.slice(),le.push(ie)),re){if(ie.length<=16)throw new Error("Salsa/ChaCha: extended nonce must be bigger than 16 bytes");be=re(xe,be,ie.subarray(0,16),new Uint8Array(32)),le.push(be),ie=ie.subarray(16)}const ke=16-j;if(ie.length!==ke)throw new Error(`Salsa/ChaCha: nonce must be ${ke} or 16 bytes`);if(12!==ke){const B=new Uint8Array(12);B.set(ie,X?0:12-ie.length),le.push(ie=B)}const C=new Uint8Array(te),a=(0,E.u32)(C),f=(0,E.u32)(be),y=(0,E.u32)(ie),g=A(ae)&&(0,E.u32)(ae),M=A(se)&&(0,E.u32)(se);le.push(a);const T=ae.length;for(let B=0,S=de;B<T;S++){if(L(xe,f,y,a,S,D),S>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");const s=Math.min(te,T-B);if(s===te&&M&&g){const v=B/4;if(B%4!=0)throw new Error("Salsa/ChaCha: invalid block position");for(let W=0;W<J;W++)M[v+W]=g[v+W]^a[W];B+=te}else{for(let v=0;v<s;v++)se[B+v]=ae[B+v]^C[v];B+=s}}for(let B=0;B<le.length;B++)le[B].fill(0);return se}}},59219:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.xchacha20poly1305=H.chacha20poly1305=H._poly1305_aead=H.chacha12=H.chacha8=H.xchacha20=H.chacha20=H.chacha20orig=H.hchacha=void 0;const d=w(23790),E=w(17035),k=w(70580),z=(D,X)=>D<<X|D>>>32-X;function x(D,X,j,G,re,te=20){let J=D[0],Z=D[1],ie=D[2],ae=D[3],se=X[0],de=X[1],le=X[2],be=X[3],xe=X[4],ke=X[5],C=X[6],a=X[7],f=re,y=j[0],g=j[1],M=j[2],T=J,B=Z,S=ie,s=ae,v=se,W=de,K=le,ee=be,ce=xe,_e=ke,Oe=C,Ve=a,Se=f,we=y,Ue=g,ye=M;for(let pe=0;pe<te;pe+=2)T=T+v|0,Se=z(Se^T,16),ce=ce+Se|0,v=z(v^ce,12),T=T+v|0,Se=z(Se^T,8),ce=ce+Se|0,v=z(v^ce,7),B=B+W|0,we=z(we^B,16),_e=_e+we|0,W=z(W^_e,12),B=B+W|0,we=z(we^B,8),_e=_e+we|0,W=z(W^_e,7),S=S+K|0,Ue=z(Ue^S,16),Oe=Oe+Ue|0,K=z(K^Oe,12),S=S+K|0,Ue=z(Ue^S,8),Oe=Oe+Ue|0,K=z(K^Oe,7),s=s+ee|0,ye=z(ye^s,16),Ve=Ve+ye|0,ee=z(ee^Ve,12),s=s+ee|0,ye=z(ye^s,8),Ve=Ve+ye|0,ee=z(ee^Ve,7),T=T+W|0,ye=z(ye^T,16),Oe=Oe+ye|0,W=z(W^Oe,12),T=T+W|0,ye=z(ye^T,8),Oe=Oe+ye|0,W=z(W^Oe,7),B=B+K|0,Se=z(Se^B,16),Ve=Ve+Se|0,K=z(K^Ve,12),B=B+K|0,Se=z(Se^B,8),Ve=Ve+Se|0,K=z(K^Ve,7),S=S+ee|0,we=z(we^S,16),ce=ce+we|0,ee=z(ee^ce,12),S=S+ee|0,we=z(we^S,8),ce=ce+we|0,ee=z(ee^ce,7),s=s+v|0,Ue=z(Ue^s,16),_e=_e+Ue|0,v=z(v^_e,12),s=s+v|0,Ue=z(Ue^s,8),_e=_e+Ue|0,v=z(v^_e,7);let De=0;G[De++]=J+T|0,G[De++]=Z+B|0,G[De++]=ie+S|0,G[De++]=ae+s|0,G[De++]=se+v|0,G[De++]=de+W|0,G[De++]=le+K|0,G[De++]=be+ee|0,G[De++]=xe+ce|0,G[De++]=ke+_e|0,G[De++]=C+Oe|0,G[De++]=a+Ve|0,G[De++]=f+Se|0,G[De++]=y+we|0,G[De++]=g+Ue|0,G[De++]=M+ye|0}function O(D,X,j,G){const re=(0,d.u32)(X),te=(0,d.u32)(j),J=(0,d.u32)(G);let Z=D[0],ie=D[1],ae=D[2],se=D[3],de=re[0],le=re[1],be=re[2],xe=re[3],ke=re[4],C=re[5],a=re[6],f=re[7],y=te[0],g=te[1],M=te[2],T=te[3];for(let B=0;B<20;B+=2)Z=Z+de|0,y=z(y^Z,16),ke=ke+y|0,de=z(de^ke,12),Z=Z+de|0,y=z(y^Z,8),ke=ke+y|0,de=z(de^ke,7),ie=ie+le|0,g=z(g^ie,16),C=C+g|0,le=z(le^C,12),ie=ie+le|0,g=z(g^ie,8),C=C+g|0,le=z(le^C,7),ae=ae+be|0,M=z(M^ae,16),a=a+M|0,be=z(be^a,12),ae=ae+be|0,M=z(M^ae,8),a=a+M|0,be=z(be^a,7),se=se+xe|0,T=z(T^se,16),f=f+T|0,xe=z(xe^f,12),se=se+xe|0,T=z(T^se,8),f=f+T|0,xe=z(xe^f,7),Z=Z+le|0,T=z(T^Z,16),a=a+T|0,le=z(le^a,12),Z=Z+le|0,T=z(T^Z,8),a=a+T|0,le=z(le^a,7),ie=ie+be|0,y=z(y^ie,16),f=f+y|0,be=z(be^f,12),ie=ie+be|0,y=z(y^ie,8),f=f+y|0,be=z(be^f,7),ae=ae+xe|0,g=z(g^ae,16),ke=ke+g|0,xe=z(xe^ke,12),ae=ae+xe|0,g=z(g^ae,8),ke=ke+g|0,xe=z(xe^ke,7),se=se+de|0,M=z(M^se,16),C=C+M|0,de=z(de^C,12),se=se+de|0,M=z(M^se,8),C=C+M|0,de=z(de^C,7);return J[0]=Z,J[1]=ie,J[2]=ae,J[3]=se,J[4]=y,J[5]=g,J[6]=M,J[7]=T,G}H.hchacha=O,H.chacha20orig=(0,k.salsaBasic)({core:x,counterRight:!1,counterLen:8}),H.chacha20=(0,k.salsaBasic)({core:x,counterRight:!1,counterLen:4,allow128bitKeys:!1}),H.xchacha20=(0,k.salsaBasic)({core:x,counterRight:!1,counterLen:8,extendNonceFn:O,allow128bitKeys:!1}),H.chacha8=(0,k.salsaBasic)({core:x,counterRight:!1,counterLen:4,rounds:8}),H.chacha12=(0,k.salsaBasic)({core:x,counterRight:!1,counterLen:4,rounds:12});const A=new Uint8Array(16),P=(D,X)=>{D.update(X);const j=X.length%16;j&&D.update(A.subarray(j))},F=(D,X,j,G,re)=>{const te=D(X,j,new Uint8Array(32)),J=E.poly1305.create(te);re&&P(J,re),P(J,G);const Z=new Uint8Array(16),ie=(0,d.createView)(Z);(0,d.setBigUint64)(ie,0,BigInt(re?re.length:0),!0),(0,d.setBigUint64)(ie,8,BigInt(G.length),!0),J.update(Z);const ae=J.digest();return te.fill(0),ae};H._poly1305_aead=D=>(X,j,G)=>((0,d.ensureBytes)(X,32),(0,d.ensureBytes)(j),{tagLength:16,encrypt:(te,J)=>{const Z=te.length,ie=Z+16;J?(0,d.ensureBytes)(J,ie):J=new Uint8Array(ie),D(X,j,te,J,1);const ae=F(D,X,j,J.subarray(0,-16),G);return J.set(ae,Z),J},decrypt:(te,J)=>{const Z=te.length,ie=Z-16;if(Z<16)throw new Error("encrypted data must be at least 16 bytes");J?(0,d.ensureBytes)(J,ie):J=new Uint8Array(ie);const ae=te.subarray(0,-16),se=te.subarray(-16),de=F(D,X,j,ae,G);if(!(0,d.equalBytes)(se,de))throw new Error("invalid tag");return D(X,j,ae,J,1),J}}),H.chacha20poly1305=(0,H._poly1305_aead)(H.chacha20),H.xchacha20poly1305=(0,H._poly1305_aead)(H.xchacha20)},23790:(je,H,w)=>{"use strict";var d=w(29293).default;Object.defineProperty(H,"__esModule",{value:!0}),H.setBigUint64=H.Hash=H.equalBytes=H.ensureBytes=H.checkOpts=H.concatBytes=H.toBytes=H.bytesToUtf8=H.utf8ToBytes=H.asyncLoop=H.nextTick=H.hexToBytes=H.bytesToHex=H.isLE=H.createView=H.u32=H.u16=H.u8=void 0;const E=le=>le instanceof Uint8Array;if(H.u8=le=>new Uint8Array(le.buffer,le.byteOffset,le.byteLength),H.u16=le=>new Uint16Array(le.buffer,le.byteOffset,Math.floor(le.byteLength/2)),H.u32=le=>new Uint32Array(le.buffer,le.byteOffset,Math.floor(le.byteLength/4)),H.createView=le=>new DataView(le.buffer,le.byteOffset,le.byteLength),H.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!H.isLE)throw new Error("Non little-endian hardware is not supported");const A=Array.from({length:256},(le,be)=>be.toString(16).padStart(2,"0"));function X(){return(X=d(function*(le,be,xe){let ke=Date.now();for(let C=0;C<le;C++){xe(C);const a=Date.now()-ke;a>=0&&a<be||(yield(0,H.nextTick)(),ke+=a)}})).apply(this,arguments)}function j(le){if("string"!=typeof le)throw new Error("utf8ToBytes expected string, got "+typeof le);return new Uint8Array((new TextEncoder).encode(le))}H.bytesToHex=function P(le){if(!E(le))throw new Error("Uint8Array expected");let be="";for(let xe=0;xe<le.length;xe++)be+=A[le[xe]];return be},H.hexToBytes=function F(le){if("string"!=typeof le)throw new Error("hex string expected, got "+typeof le);const be=le.length;if(be%2)throw new Error("padded hex string expected, got unpadded hex of length "+be);const xe=new Uint8Array(be/2);for(let ke=0;ke<xe.length;ke++){const C=2*ke,a=le.slice(C,C+2),f=Number.parseInt(a,16);if(Number.isNaN(f)||f<0)throw new Error("Invalid byte sequence");xe[ke]=f}return xe},H.nextTick=function(){var le=d(function*(){});return function(){return le.apply(this,arguments)}}(),H.asyncLoop=function D(le,be,xe){return X.apply(this,arguments)},H.utf8ToBytes=j,H.bytesToUtf8=function G(le){return(new TextDecoder).decode(le)},H.toBytes=function re(le){if("string"==typeof le&&(le=j(le)),!E(le))throw new Error("expected Uint8Array, got "+typeof le);return le},H.concatBytes=function te(...le){const be=new Uint8Array(le.reduce((ke,C)=>ke+C.length,0));let xe=0;return le.forEach(ke=>{if(!E(ke))throw new Error("Uint8Array expected");be.set(ke,xe),xe+=ke.length}),be},H.checkOpts=function Z(le,be){if(void 0!==be&&("object"!=typeof be||!(le=>"[object Object]"===Object.prototype.toString.call(le)&&le.constructor===Object)(be)))throw new Error("options must be object or undefined");return Object.assign(le,be)},H.ensureBytes=function ie(le,be){if(!(le instanceof Uint8Array))throw new Error("Uint8Array expected");if("number"==typeof be&&le.length!==be)throw new Error(`Uint8Array length ${be} expected`)},H.equalBytes=function ae(le,be){if(le.length!==be.length)throw new Error("equalBytes: Different size of Uint8Arrays");let xe=!0;for(let ke=0;ke<le.length;ke++)xe&&(xe=le[ke]===be[ke]);return xe},H.Hash=class se{},H.setBigUint64=function de(le,be,xe,ke){if("function"==typeof le.setBigUint64)return le.setBigUint64(be,xe,ke);const C=BigInt(32),a=BigInt(4294967295),f=Number(xe>>C&a),y=Number(xe&a),M=ke?0:4;le.setUint32(be+(ke?4:0),f,ke),le.setUint32(be+M,y,ke)}},89742:(je,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.crypto=void 0,H.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},42098:(je,H,w)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.getWebcryptoSubtle=H.randomBytes=void 0;const d=w(89742);H.randomBytes=function E(z=32){if(d.crypto&&"function"==typeof d.crypto.getRandomValues)return d.crypto.getRandomValues(new Uint8Array(z));throw new Error("crypto.getRandomValues must be defined")},H.getWebcryptoSubtle=function k(){if(d.crypto&&"object"==typeof d.crypto.subtle&&null!=d.crypto.subtle)return d.crypto.subtle;throw new Error("crypto.subtle must be defined")}},90518:(je,H,w)=>{"use strict";var d=H;d.version=w(1636).rE,d.utils=w(3136),d.rand=w(35294),d.curve=w(8729),d.curves=w(23401),d.ec=w(29042),d.eddsa=w(83045)},98828:(je,H,w)=>{"use strict";var d=w(88723),E=w(3136),k=E.getNAF,z=E.getJSF,x=E.assert;function O(P,F){this.type=P,this.p=new d(F.p,16),this.red=F.prime?d.red(F.prime):d.mont(this.p),this.zero=new d(0).toRed(this.red),this.one=new d(1).toRed(this.red),this.two=new d(2).toRed(this.red),this.n=F.n&&new d(F.n,16),this.g=F.g&&this.pointFromJSON(F.g,F.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var L=this.n&&this.p.div(this.n);!L||L.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function A(P,F){this.curve=P,this.type=F,this.precomputed=null}je.exports=O,O.prototype.point=function(){throw new Error("Not implemented")},O.prototype.validate=function(){throw new Error("Not implemented")},O.prototype._fixedNafMul=function(F,L){x(F.precomputed);var D=F._getDoubles(),X=k(L,1,this._bitLength),j=(1<<D.step+1)-(D.step%2==0?2:1);j/=3;var re,te,G=[];for(re=0;re<X.length;re+=D.step){te=0;for(var J=re+D.step-1;J>=re;J--)te=(te<<1)+X[J];G.push(te)}for(var Z=this.jpoint(null,null,null),ie=this.jpoint(null,null,null),ae=j;ae>0;ae--){for(re=0;re<G.length;re++)(te=G[re])===ae?ie=ie.mixedAdd(D.points[re]):te===-ae&&(ie=ie.mixedAdd(D.points[re].neg()));Z=Z.add(ie)}return Z.toP()},O.prototype._wnafMul=function(F,L){for(var D=4,X=F._getNAFPoints(D),j=X.points,G=k(L,D=X.wnd,this._bitLength),re=this.jpoint(null,null,null),te=G.length-1;te>=0;te--){for(var J=0;te>=0&&0===G[te];te--)J++;if(te>=0&&J++,re=re.dblp(J),te<0)break;var Z=G[te];x(0!==Z),re="affine"===F.type?re.mixedAdd(Z>0?j[Z-1>>1]:j[-Z-1>>1].neg()):re.add(Z>0?j[Z-1>>1]:j[-Z-1>>1].neg())}return"affine"===F.type?re.toP():re},O.prototype._wnafMulAdd=function(F,L,D,X,j){var Z,ie,ae,G=this._wnafT1,re=this._wnafT2,te=this._wnafT3,J=0;for(Z=0;Z<X;Z++){var se=(ae=L[Z])._getNAFPoints(F);G[Z]=se.wnd,re[Z]=se.points}for(Z=X-1;Z>=1;Z-=2){var de=Z-1,le=Z;if(1===G[de]&&1===G[le]){var be=[L[de],null,null,L[le]];0===L[de].y.cmp(L[le].y)?(be[1]=L[de].add(L[le]),be[2]=L[de].toJ().mixedAdd(L[le].neg())):0===L[de].y.cmp(L[le].y.redNeg())?(be[1]=L[de].toJ().mixedAdd(L[le]),be[2]=L[de].add(L[le].neg())):(be[1]=L[de].toJ().mixedAdd(L[le]),be[2]=L[de].toJ().mixedAdd(L[le].neg()));var xe=[-3,-1,-5,-7,0,7,5,1,3],ke=z(D[de],D[le]);for(J=Math.max(ke[0].length,J),te[de]=new Array(J),te[le]=new Array(J),ie=0;ie<J;ie++)te[de][ie]=xe[3*(1+(0|ke[0][ie]))+(1+(0|ke[1][ie]))],te[le][ie]=0,re[de]=be}else te[de]=k(D[de],G[de],this._bitLength),te[le]=k(D[le],G[le],this._bitLength),J=Math.max(te[de].length,J),J=Math.max(te[le].length,J)}var f=this.jpoint(null,null,null),y=this._wnafT4;for(Z=J;Z>=0;Z--){for(var g=0;Z>=0;){var M=!0;for(ie=0;ie<X;ie++)y[ie]=0|te[ie][Z],0!==y[ie]&&(M=!1);if(!M)break;g++,Z--}if(Z>=0&&g++,f=f.dblp(g),Z<0)break;for(ie=0;ie<X;ie++){var T=y[ie];0!==T&&(T>0?ae=re[ie][T-1>>1]:T<0&&(ae=re[ie][-T-1>>1].neg()),f="affine"===ae.type?f.mixedAdd(ae):f.add(ae))}}for(Z=0;Z<X;Z++)re[Z]=null;return j?f:f.toP()},O.BasePoint=A,A.prototype.eq=function(){throw new Error("Not implemented")},A.prototype.validate=function(){return this.curve.validate(this)},O.prototype.decodePoint=function(F,L){F=E.toArray(F,L);var D=this.p.byteLength();if((4===F[0]||6===F[0]||7===F[0])&&F.length-1==2*D)return 6===F[0]?x(F[F.length-1]%2==0):7===F[0]&&x(F[F.length-1]%2==1),this.point(F.slice(1,1+D),F.slice(1+D,1+2*D));if((2===F[0]||3===F[0])&&F.length-1===D)return this.pointFromX(F.slice(1,1+D),3===F[0]);throw new Error("Unknown point format")},A.prototype.encodeCompressed=function(F){return this.encode(F,!0)},A.prototype._encode=function(F){var L=this.curve.p.byteLength(),D=this.getX().toArray("be",L);return F?[this.getY().isEven()?2:3].concat(D):[4].concat(D,this.getY().toArray("be",L))},A.prototype.encode=function(F,L){return E.encode(this._encode(L),F)},A.prototype.precompute=function(F){if(this.precomputed)return this;var L={doubles:null,naf:null,beta:null};return L.naf=this._getNAFPoints(8),L.doubles=this._getDoubles(4,F),L.beta=this._getBeta(),this.precomputed=L,this},A.prototype._hasDoubles=function(F){if(!this.precomputed)return!1;var L=this.precomputed.doubles;return!!L&&L.points.length>=Math.ceil((F.bitLength()+1)/L.step)},A.prototype._getDoubles=function(F,L){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var D=[this],X=this,j=0;j<L;j+=F){for(var G=0;G<F;G++)X=X.dbl();D.push(X)}return{step:F,points:D}},A.prototype._getNAFPoints=function(F){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var L=[this],D=(1<<F)-1,X=1===D?null:this.dbl(),j=1;j<D;j++)L[j]=L[j-1].add(X);return{wnd:F,points:L}},A.prototype._getBeta=function(){return null},A.prototype.dblp=function(F){for(var L=this,D=0;D<F;D++)L=L.dbl();return L}},55537:(je,H,w)=>{"use strict";var d=w(3136),E=w(88723),k=w(71993),z=w(98828),x=d.assert;function O(P){this.twisted=1!=(0|P.a),this.mOneA=this.twisted&&-1==(0|P.a),this.extended=this.mOneA,z.call(this,"edwards",P),this.a=new E(P.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new E(P.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new E(P.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),x(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|P.c)}function A(P,F,L,D,X){z.BasePoint.call(this,P,"projective"),null===F&&null===L&&null===D?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new E(F,16),this.y=new E(L,16),this.z=D?new E(D,16):this.curve.one,this.t=X&&new E(X,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}k(O,z),je.exports=O,O.prototype._mulA=function(F){return this.mOneA?F.redNeg():this.a.redMul(F)},O.prototype._mulC=function(F){return this.oneC?F:this.c.redMul(F)},O.prototype.jpoint=function(F,L,D,X){return this.point(F,L,D,X)},O.prototype.pointFromX=function(F,L){(F=new E(F,16)).red||(F=F.toRed(this.red));var D=F.redSqr(),X=this.c2.redSub(this.a.redMul(D)),j=this.one.redSub(this.c2.redMul(this.d).redMul(D)),G=X.redMul(j.redInvm()),re=G.redSqrt();if(0!==re.redSqr().redSub(G).cmp(this.zero))throw new Error("invalid point");var te=re.fromRed().isOdd();return(L&&!te||!L&&te)&&(re=re.redNeg()),this.point(F,re)},O.prototype.pointFromY=function(F,L){(F=new E(F,16)).red||(F=F.toRed(this.red));var D=F.redSqr(),X=D.redSub(this.c2),j=D.redMul(this.d).redMul(this.c2).redSub(this.a),G=X.redMul(j.redInvm());if(0===G.cmp(this.zero)){if(L)throw new Error("invalid point");return this.point(this.zero,F)}var re=G.redSqrt();if(0!==re.redSqr().redSub(G).cmp(this.zero))throw new Error("invalid point");return re.fromRed().isOdd()!==L&&(re=re.redNeg()),this.point(re,F)},O.prototype.validate=function(F){if(F.isInfinity())return!0;F.normalize();var L=F.x.redSqr(),D=F.y.redSqr(),X=L.redMul(this.a).redAdd(D),j=this.c2.redMul(this.one.redAdd(this.d.redMul(L).redMul(D)));return 0===X.cmp(j)},k(A,z.BasePoint),O.prototype.pointFromJSON=function(F){return A.fromJSON(this,F)},O.prototype.point=function(F,L,D,X){return new A(this,F,L,D,X)},A.fromJSON=function(F,L){return new A(F,L[0],L[1],L[2])},A.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},A.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},A.prototype._extDbl=function(){var F=this.x.redSqr(),L=this.y.redSqr(),D=this.z.redSqr();D=D.redIAdd(D);var X=this.curve._mulA(F),j=this.x.redAdd(this.y).redSqr().redISub(F).redISub(L),G=X.redAdd(L),re=G.redSub(D),te=X.redSub(L),J=j.redMul(re),Z=G.redMul(te),ie=j.redMul(te),ae=re.redMul(G);return this.curve.point(J,Z,ae,ie)},A.prototype._projDbl=function(){var X,j,G,re,te,J,F=this.x.redAdd(this.y).redSqr(),L=this.x.redSqr(),D=this.y.redSqr();if(this.curve.twisted){var Z=(re=this.curve._mulA(L)).redAdd(D);this.zOne?(X=F.redSub(L).redSub(D).redMul(Z.redSub(this.curve.two)),j=Z.redMul(re.redSub(D)),G=Z.redSqr().redSub(Z).redSub(Z)):(te=this.z.redSqr(),J=Z.redSub(te).redISub(te),X=F.redSub(L).redISub(D).redMul(J),j=Z.redMul(re.redSub(D)),G=Z.redMul(J))}else re=L.redAdd(D),te=this.curve._mulC(this.z).redSqr(),J=re.redSub(te).redSub(te),X=this.curve._mulC(F.redISub(re)).redMul(J),j=this.curve._mulC(re).redMul(L.redISub(D)),G=re.redMul(J);return this.curve.point(X,j,G)},A.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},A.prototype._extAdd=function(F){var L=this.y.redSub(this.x).redMul(F.y.redSub(F.x)),D=this.y.redAdd(this.x).redMul(F.y.redAdd(F.x)),X=this.t.redMul(this.curve.dd).redMul(F.t),j=this.z.redMul(F.z.redAdd(F.z)),G=D.redSub(L),re=j.redSub(X),te=j.redAdd(X),J=D.redAdd(L),Z=G.redMul(re),ie=te.redMul(J),ae=G.redMul(J),se=re.redMul(te);return this.curve.point(Z,ie,se,ae)},A.prototype._projAdd=function(F){var ie,ae,L=this.z.redMul(F.z),D=L.redSqr(),X=this.x.redMul(F.x),j=this.y.redMul(F.y),G=this.curve.d.redMul(X).redMul(j),re=D.redSub(G),te=D.redAdd(G),J=this.x.redAdd(this.y).redMul(F.x.redAdd(F.y)).redISub(X).redISub(j),Z=L.redMul(re).redMul(J);return this.curve.twisted?(ie=L.redMul(te).redMul(j.redSub(this.curve._mulA(X))),ae=re.redMul(te)):(ie=L.redMul(te).redMul(j.redSub(X)),ae=this.curve._mulC(re).redMul(te)),this.curve.point(Z,ie,ae)},A.prototype.add=function(F){return this.isInfinity()?F:F.isInfinity()?this:this.curve.extended?this._extAdd(F):this._projAdd(F)},A.prototype.mul=function(F){return this._hasDoubles(F)?this.curve._fixedNafMul(this,F):this.curve._wnafMul(this,F)},A.prototype.mulAdd=function(F,L,D){return this.curve._wnafMulAdd(1,[this,L],[F,D],2,!1)},A.prototype.jmulAdd=function(F,L,D){return this.curve._wnafMulAdd(1,[this,L],[F,D],2,!0)},A.prototype.normalize=function(){if(this.zOne)return this;var F=this.z.redInvm();return this.x=this.x.redMul(F),this.y=this.y.redMul(F),this.t&&(this.t=this.t.redMul(F)),this.z=this.curve.one,this.zOne=!0,this},A.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},A.prototype.getX=function(){return this.normalize(),this.x.fromRed()},A.prototype.getY=function(){return this.normalize(),this.y.fromRed()},A.prototype.eq=function(F){return this===F||0===this.getX().cmp(F.getX())&&0===this.getY().cmp(F.getY())},A.prototype.eqXToP=function(F){var L=F.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(L))return!0;for(var D=F.clone(),X=this.curve.redN.redMul(this.z);;){if(D.iadd(this.curve.n),D.cmp(this.curve.p)>=0)return!1;if(L.redIAdd(X),0===this.x.cmp(L))return!0}},A.prototype.toP=A.prototype.normalize,A.prototype.mixedAdd=A.prototype.add},8729:(je,H,w)=>{"use strict";var d=H;d.base=w(98828),d.short=w(68075),d.mont=w(64947),d.edwards=w(55537)},64947:(je,H,w)=>{"use strict";var d=w(88723),E=w(71993),k=w(98828),z=w(3136);function x(A){k.call(this,"mont",A),this.a=new d(A.a,16).toRed(this.red),this.b=new d(A.b,16).toRed(this.red),this.i4=new d(4).toRed(this.red).redInvm(),this.two=new d(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function O(A,P,F){k.BasePoint.call(this,A,"projective"),null===P&&null===F?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new d(P,16),this.z=new d(F,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}E(x,k),je.exports=x,x.prototype.validate=function(P){var F=P.normalize().x,L=F.redSqr(),D=L.redMul(F).redAdd(L.redMul(this.a)).redAdd(F);return 0===D.redSqrt().redSqr().cmp(D)},E(O,k.BasePoint),x.prototype.decodePoint=function(P,F){return this.point(z.toArray(P,F),1)},x.prototype.point=function(P,F){return new O(this,P,F)},x.prototype.pointFromJSON=function(P){return O.fromJSON(this,P)},O.prototype.precompute=function(){},O.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},O.fromJSON=function(P,F){return new O(P,F[0],F[1]||P.one)},O.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},O.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},O.prototype.dbl=function(){var F=this.x.redAdd(this.z).redSqr(),D=this.x.redSub(this.z).redSqr(),X=F.redSub(D),j=F.redMul(D),G=X.redMul(D.redAdd(this.curve.a24.redMul(X)));return this.curve.point(j,G)},O.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},O.prototype.diffAdd=function(P,F){var L=this.x.redAdd(this.z),D=this.x.redSub(this.z),X=P.x.redAdd(P.z),G=P.x.redSub(P.z).redMul(L),re=X.redMul(D),te=F.z.redMul(G.redAdd(re).redSqr()),J=F.x.redMul(G.redISub(re).redSqr());return this.curve.point(te,J)},O.prototype.mul=function(P){for(var F=P.clone(),L=this,D=this.curve.point(null,null),j=[];0!==F.cmpn(0);F.iushrn(1))j.push(F.andln(1));for(var G=j.length-1;G>=0;G--)0===j[G]?(L=L.diffAdd(D,this),D=D.dbl()):(D=L.diffAdd(D,this),L=L.dbl());return D},O.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},O.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},O.prototype.eq=function(P){return 0===this.getX().cmp(P.getX())},O.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},O.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},68075:(je,H,w)=>{"use strict";var d=w(3136),E=w(88723),k=w(71993),z=w(98828),x=d.assert;function O(F){z.call(this,"short",F),this.a=new E(F.a,16).toRed(this.red),this.b=new E(F.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(F),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function A(F,L,D,X){z.BasePoint.call(this,F,"affine"),null===L&&null===D?(this.x=null,this.y=null,this.inf=!0):(this.x=new E(L,16),this.y=new E(D,16),X&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function P(F,L,D,X){z.BasePoint.call(this,F,"jacobian"),null===L&&null===D&&null===X?(this.x=this.curve.one,this.y=this.curve.one,this.z=new E(0)):(this.x=new E(L,16),this.y=new E(D,16),this.z=new E(X,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}k(O,z),je.exports=O,O.prototype._getEndomorphism=function(L){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var D,X;if(L.beta)D=new E(L.beta,16).toRed(this.red);else{var j=this._getEndoRoots(this.p);D=(D=j[0].cmp(j[1])<0?j[0]:j[1]).toRed(this.red)}if(L.lambda)X=new E(L.lambda,16);else{var G=this._getEndoRoots(this.n);0===this.g.mul(G[0]).x.cmp(this.g.x.redMul(D))?X=G[0]:x(0===this.g.mul(X=G[1]).x.cmp(this.g.x.redMul(D)))}return{beta:D,lambda:X,basis:L.basis?L.basis.map(function(te){return{a:new E(te.a,16),b:new E(te.b,16)}}):this._getEndoBasis(X)}}},O.prototype._getEndoRoots=function(L){var D=L===this.p?this.red:E.mont(L),X=new E(2).toRed(D).redInvm(),j=X.redNeg(),G=new E(3).toRed(D).redNeg().redSqrt().redMul(X);return[j.redAdd(G).fromRed(),j.redSub(G).fromRed()]},O.prototype._getEndoBasis=function(L){for(var Z,ie,ae,se,de,le,be,ke,C,D=this.n.ushrn(Math.floor(this.n.bitLength()/2)),X=L,j=this.n.clone(),G=new E(1),re=new E(0),te=new E(0),J=new E(1),xe=0;0!==X.cmpn(0);){var a=j.div(X);ke=j.sub(a.mul(X)),C=te.sub(a.mul(G));var f=J.sub(a.mul(re));if(!ae&&ke.cmp(D)<0)Z=be.neg(),ie=G,ae=ke.neg(),se=C;else if(ae&&2==++xe)break;be=ke,j=X,X=ke,te=G,G=C,J=re,re=f}de=ke.neg(),le=C;var y=ae.sqr().add(se.sqr());return de.sqr().add(le.sqr()).cmp(y)>=0&&(de=Z,le=ie),ae.negative&&(ae=ae.neg(),se=se.neg()),de.negative&&(de=de.neg(),le=le.neg()),[{a:ae,b:se},{a:de,b:le}]},O.prototype._endoSplit=function(L){var D=this.endo.basis,X=D[0],j=D[1],G=j.b.mul(L).divRound(this.n),re=X.b.neg().mul(L).divRound(this.n),te=G.mul(X.a),J=re.mul(j.a),Z=G.mul(X.b),ie=re.mul(j.b);return{k1:L.sub(te).sub(J),k2:Z.add(ie).neg()}},O.prototype.pointFromX=function(L,D){(L=new E(L,16)).red||(L=L.toRed(this.red));var X=L.redSqr().redMul(L).redIAdd(L.redMul(this.a)).redIAdd(this.b),j=X.redSqrt();if(0!==j.redSqr().redSub(X).cmp(this.zero))throw new Error("invalid point");var G=j.fromRed().isOdd();return(D&&!G||!D&&G)&&(j=j.redNeg()),this.point(L,j)},O.prototype.validate=function(L){if(L.inf)return!0;var D=L.x,X=L.y,j=this.a.redMul(D),G=D.redSqr().redMul(D).redIAdd(j).redIAdd(this.b);return 0===X.redSqr().redISub(G).cmpn(0)},O.prototype._endoWnafMulAdd=function(L,D,X){for(var j=this._endoWnafT1,G=this._endoWnafT2,re=0;re<L.length;re++){var te=this._endoSplit(D[re]),J=L[re],Z=J._getBeta();te.k1.negative&&(te.k1.ineg(),J=J.neg(!0)),te.k2.negative&&(te.k2.ineg(),Z=Z.neg(!0)),j[2*re]=J,j[2*re+1]=Z,G[2*re]=te.k1,G[2*re+1]=te.k2}for(var ie=this._wnafMulAdd(1,j,G,2*re,X),ae=0;ae<2*re;ae++)j[ae]=null,G[ae]=null;return ie},k(A,z.BasePoint),O.prototype.point=function(L,D,X){return new A(this,L,D,X)},O.prototype.pointFromJSON=function(L,D){return A.fromJSON(this,L,D)},A.prototype._getBeta=function(){if(this.curve.endo){var L=this.precomputed;if(L&&L.beta)return L.beta;var D=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(L){var X=this.curve,j=function(G){return X.point(G.x.redMul(X.endo.beta),G.y)};L.beta=D,D.precomputed={beta:null,naf:L.naf&&{wnd:L.naf.wnd,points:L.naf.points.map(j)},doubles:L.doubles&&{step:L.doubles.step,points:L.doubles.points.map(j)}}}return D}},A.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},A.fromJSON=function(L,D,X){"string"==typeof D&&(D=JSON.parse(D));var j=L.point(D[0],D[1],X);if(!D[2])return j;function G(te){return L.point(te[0],te[1],X)}var re=D[2];return j.precomputed={beta:null,doubles:re.doubles&&{step:re.doubles.step,points:[j].concat(re.doubles.points.map(G))},naf:re.naf&&{wnd:re.naf.wnd,points:[j].concat(re.naf.points.map(G))}},j},A.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},A.prototype.isInfinity=function(){return this.inf},A.prototype.add=function(L){if(this.inf)return L;if(L.inf)return this;if(this.eq(L))return this.dbl();if(this.neg().eq(L))return this.curve.point(null,null);if(0===this.x.cmp(L.x))return this.curve.point(null,null);var D=this.y.redSub(L.y);0!==D.cmpn(0)&&(D=D.redMul(this.x.redSub(L.x).redInvm()));var X=D.redSqr().redISub(this.x).redISub(L.x),j=D.redMul(this.x.redSub(X)).redISub(this.y);return this.curve.point(X,j)},A.prototype.dbl=function(){if(this.inf)return this;var L=this.y.redAdd(this.y);if(0===L.cmpn(0))return this.curve.point(null,null);var D=this.curve.a,X=this.x.redSqr(),j=L.redInvm(),G=X.redAdd(X).redIAdd(X).redIAdd(D).redMul(j),re=G.redSqr().redISub(this.x.redAdd(this.x)),te=G.redMul(this.x.redSub(re)).redISub(this.y);return this.curve.point(re,te)},A.prototype.getX=function(){return this.x.fromRed()},A.prototype.getY=function(){return this.y.fromRed()},A.prototype.mul=function(L){return L=new E(L,16),this.isInfinity()?this:this._hasDoubles(L)?this.curve._fixedNafMul(this,L):this.curve.endo?this.curve._endoWnafMulAdd([this],[L]):this.curve._wnafMul(this,L)},A.prototype.mulAdd=function(L,D,X){var j=[this,D],G=[L,X];return this.curve.endo?this.curve._endoWnafMulAdd(j,G):this.curve._wnafMulAdd(1,j,G,2)},A.prototype.jmulAdd=function(L,D,X){var j=[this,D],G=[L,X];return this.curve.endo?this.curve._endoWnafMulAdd(j,G,!0):this.curve._wnafMulAdd(1,j,G,2,!0)},A.prototype.eq=function(L){return this===L||this.inf===L.inf&&(this.inf||0===this.x.cmp(L.x)&&0===this.y.cmp(L.y))},A.prototype.neg=function(L){if(this.inf)return this;var D=this.curve.point(this.x,this.y.redNeg());if(L&&this.precomputed){var X=this.precomputed,j=function(G){return G.neg()};D.precomputed={naf:X.naf&&{wnd:X.naf.wnd,points:X.naf.points.map(j)},doubles:X.doubles&&{step:X.doubles.step,points:X.doubles.points.map(j)}}}return D},A.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},k(P,z.BasePoint),O.prototype.jpoint=function(L,D,X){return new P(this,L,D,X)},P.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var L=this.z.redInvm(),D=L.redSqr(),X=this.x.redMul(D),j=this.y.redMul(D).redMul(L);return this.curve.point(X,j)},P.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},P.prototype.add=function(L){if(this.isInfinity())return L;if(L.isInfinity())return this;var D=L.z.redSqr(),X=this.z.redSqr(),j=this.x.redMul(D),G=L.x.redMul(X),re=this.y.redMul(D.redMul(L.z)),te=L.y.redMul(X.redMul(this.z)),J=j.redSub(G),Z=re.redSub(te);if(0===J.cmpn(0))return 0!==Z.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var ie=J.redSqr(),ae=ie.redMul(J),se=j.redMul(ie),de=Z.redSqr().redIAdd(ae).redISub(se).redISub(se),le=Z.redMul(se.redISub(de)).redISub(re.redMul(ae)),be=this.z.redMul(L.z).redMul(J);return this.curve.jpoint(de,le,be)},P.prototype.mixedAdd=function(L){if(this.isInfinity())return L.toJ();if(L.isInfinity())return this;var D=this.z.redSqr(),X=this.x,j=L.x.redMul(D),G=this.y,re=L.y.redMul(D).redMul(this.z),te=X.redSub(j),J=G.redSub(re);if(0===te.cmpn(0))return 0!==J.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var Z=te.redSqr(),ie=Z.redMul(te),ae=X.redMul(Z),se=J.redSqr().redIAdd(ie).redISub(ae).redISub(ae),de=J.redMul(ae.redISub(se)).redISub(G.redMul(ie)),le=this.z.redMul(te);return this.curve.jpoint(se,de,le)},P.prototype.dblp=function(L){if(0===L)return this;if(this.isInfinity())return this;if(!L)return this.dbl();var D;if(this.curve.zeroA||this.curve.threeA){var X=this;for(D=0;D<L;D++)X=X.dbl();return X}var j=this.curve.a,G=this.curve.tinv,re=this.x,te=this.y,J=this.z,Z=J.redSqr().redSqr(),ie=te.redAdd(te);for(D=0;D<L;D++){var ae=re.redSqr(),se=ie.redSqr(),de=se.redSqr(),le=ae.redAdd(ae).redIAdd(ae).redIAdd(j.redMul(Z)),be=re.redMul(se),xe=le.redSqr().redISub(be.redAdd(be)),ke=be.redISub(xe),C=le.redMul(ke);C=C.redIAdd(C).redISub(de);var a=ie.redMul(J);D+1<L&&(Z=Z.redMul(de)),re=xe,J=a,ie=C}return this.curve.jpoint(re,ie.redMul(G),J)},P.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},P.prototype._zeroDbl=function(){var L,D,X;if(this.zOne){var j=this.x.redSqr(),G=this.y.redSqr(),re=G.redSqr(),te=this.x.redAdd(G).redSqr().redISub(j).redISub(re);te=te.redIAdd(te);var J=j.redAdd(j).redIAdd(j),Z=J.redSqr().redISub(te).redISub(te),ie=re.redIAdd(re);ie=(ie=ie.redIAdd(ie)).redIAdd(ie),L=Z,D=J.redMul(te.redISub(Z)).redISub(ie),X=this.y.redAdd(this.y)}else{var ae=this.x.redSqr(),se=this.y.redSqr(),de=se.redSqr(),le=this.x.redAdd(se).redSqr().redISub(ae).redISub(de);le=le.redIAdd(le);var be=ae.redAdd(ae).redIAdd(ae),xe=be.redSqr(),ke=de.redIAdd(de);ke=(ke=ke.redIAdd(ke)).redIAdd(ke),L=xe.redISub(le).redISub(le),D=be.redMul(le.redISub(L)).redISub(ke),X=(X=this.y.redMul(this.z)).redIAdd(X)}return this.curve.jpoint(L,D,X)},P.prototype._threeDbl=function(){var L,D,X;if(this.zOne){var j=this.x.redSqr(),G=this.y.redSqr(),re=G.redSqr(),te=this.x.redAdd(G).redSqr().redISub(j).redISub(re);te=te.redIAdd(te);var J=j.redAdd(j).redIAdd(j).redIAdd(this.curve.a),Z=J.redSqr().redISub(te).redISub(te);L=Z;var ie=re.redIAdd(re);ie=(ie=ie.redIAdd(ie)).redIAdd(ie),D=J.redMul(te.redISub(Z)).redISub(ie),X=this.y.redAdd(this.y)}else{var ae=this.z.redSqr(),se=this.y.redSqr(),de=this.x.redMul(se),le=this.x.redSub(ae).redMul(this.x.redAdd(ae));le=le.redAdd(le).redIAdd(le);var be=de.redIAdd(de),xe=(be=be.redIAdd(be)).redAdd(be);L=le.redSqr().redISub(xe),X=this.y.redAdd(this.z).redSqr().redISub(se).redISub(ae);var ke=se.redSqr();ke=(ke=(ke=ke.redIAdd(ke)).redIAdd(ke)).redIAdd(ke),D=le.redMul(be.redISub(L)).redISub(ke)}return this.curve.jpoint(L,D,X)},P.prototype._dbl=function(){var L=this.curve.a,D=this.x,X=this.y,j=this.z,G=j.redSqr().redSqr(),re=D.redSqr(),te=X.redSqr(),J=re.redAdd(re).redIAdd(re).redIAdd(L.redMul(G)),Z=D.redAdd(D),ie=(Z=Z.redIAdd(Z)).redMul(te),ae=J.redSqr().redISub(ie.redAdd(ie)),se=ie.redISub(ae),de=te.redSqr();de=(de=(de=de.redIAdd(de)).redIAdd(de)).redIAdd(de);var le=J.redMul(se).redISub(de),be=X.redAdd(X).redMul(j);return this.curve.jpoint(ae,le,be)},P.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var L=this.x.redSqr(),D=this.y.redSqr(),X=this.z.redSqr(),j=D.redSqr(),G=L.redAdd(L).redIAdd(L),re=G.redSqr(),te=this.x.redAdd(D).redSqr().redISub(L).redISub(j),J=(te=(te=(te=te.redIAdd(te)).redAdd(te).redIAdd(te)).redISub(re)).redSqr(),Z=j.redIAdd(j);Z=(Z=(Z=Z.redIAdd(Z)).redIAdd(Z)).redIAdd(Z);var ie=G.redIAdd(te).redSqr().redISub(re).redISub(J).redISub(Z),ae=D.redMul(ie);ae=(ae=ae.redIAdd(ae)).redIAdd(ae);var se=this.x.redMul(J).redISub(ae);se=(se=se.redIAdd(se)).redIAdd(se);var de=this.y.redMul(ie.redMul(Z.redISub(ie)).redISub(te.redMul(J)));de=(de=(de=de.redIAdd(de)).redIAdd(de)).redIAdd(de);var le=this.z.redAdd(te).redSqr().redISub(X).redISub(J);return this.curve.jpoint(se,de,le)},P.prototype.mul=function(L,D){return L=new E(L,D),this.curve._wnafMul(this,L)},P.prototype.eq=function(L){if("affine"===L.type)return this.eq(L.toJ());if(this===L)return!0;var D=this.z.redSqr(),X=L.z.redSqr();if(0!==this.x.redMul(X).redISub(L.x.redMul(D)).cmpn(0))return!1;var j=D.redMul(this.z),G=X.redMul(L.z);return 0===this.y.redMul(G).redISub(L.y.redMul(j)).cmpn(0)},P.prototype.eqXToP=function(L){var D=this.z.redSqr(),X=L.toRed(this.curve.red).redMul(D);if(0===this.x.cmp(X))return!0;for(var j=L.clone(),G=this.curve.redN.redMul(D);;){if(j.iadd(this.curve.n),j.cmp(this.curve.p)>=0)return!1;if(X.redIAdd(G),0===this.x.cmp(X))return!0}},P.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},P.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},23401:(je,H,w)=>{"use strict";var P,d=H,E=w(52529),k=w(8729),x=w(3136).assert;function O(F){this.curve="short"===F.type?new k.short(F):"edwards"===F.type?new k.edwards(F):new k.mont(F),this.g=this.curve.g,this.n=this.curve.n,this.hash=F.hash,x(this.g.validate(),"Invalid curve"),x(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function A(F,L){Object.defineProperty(d,F,{configurable:!0,enumerable:!0,get:function(){var D=new O(L);return Object.defineProperty(d,F,{configurable:!0,enumerable:!0,value:D}),D}})}d.PresetCurve=O,A("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:E.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),A("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:E.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),A("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:E.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),A("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:E.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),A("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:E.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),A("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:E.sha256,gRed:!1,g:["9"]}),A("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:E.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{P=w(51416)}catch{P=void 0}A("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:E.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",P]})},29042:(je,H,w)=>{"use strict";var d=w(88723),E=w(33556),k=w(3136),z=w(23401),x=w(35294),O=k.assert,A=w(60541),P=w(40484);function F(L){if(!(this instanceof F))return new F(L);"string"==typeof L&&(O(Object.prototype.hasOwnProperty.call(z,L),"Unknown curve "+L),L=z[L]),L instanceof z.PresetCurve&&(L={curve:L}),this.curve=L.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=L.curve.g,this.g.precompute(L.curve.n.bitLength()+1),this.hash=L.hash||L.curve.hash}je.exports=F,F.prototype.keyPair=function(D){return new A(this,D)},F.prototype.keyFromPrivate=function(D,X){return A.fromPrivate(this,D,X)},F.prototype.keyFromPublic=function(D,X){return A.fromPublic(this,D,X)},F.prototype.genKeyPair=function(D){D||(D={});for(var X=new E({hash:this.hash,pers:D.pers,persEnc:D.persEnc||"utf8",entropy:D.entropy||x(this.hash.hmacStrength),entropyEnc:D.entropy&&D.entropyEnc||"utf8",nonce:this.n.toArray()}),j=this.n.byteLength(),G=this.n.sub(new d(2));;){var re=new d(X.generate(j));if(!(re.cmp(G)>0))return re.iaddn(1),this.keyFromPrivate(re)}},F.prototype._truncateToN=function(D,X){var j=8*D.byteLength()-this.n.bitLength();return j>0&&(D=D.ushrn(j)),!X&&D.cmp(this.n)>=0?D.sub(this.n):D},F.prototype.sign=function(D,X,j,G){"object"==typeof j&&(G=j,j=null),G||(G={}),X=this.keyFromPrivate(X,j),D=this._truncateToN(new d(D,16));for(var re=this.n.byteLength(),te=X.getPrivate().toArray("be",re),J=D.toArray("be",re),Z=new E({hash:this.hash,entropy:te,nonce:J,pers:G.pers,persEnc:G.persEnc||"utf8"}),ie=this.n.sub(new d(1)),ae=0;;ae++){var se=G.k?G.k(ae):new d(Z.generate(this.n.byteLength()));if(!((se=this._truncateToN(se,!0)).cmpn(1)<=0||se.cmp(ie)>=0)){var de=this.g.mul(se);if(!de.isInfinity()){var le=de.getX(),be=le.umod(this.n);if(0!==be.cmpn(0)){var xe=se.invm(this.n).mul(be.mul(X.getPrivate()).iadd(D));if(0!==(xe=xe.umod(this.n)).cmpn(0)){var ke=(de.getY().isOdd()?1:0)|(0!==le.cmp(be)?2:0);return G.canonical&&xe.cmp(this.nh)>0&&(xe=this.n.sub(xe),ke^=1),new P({r:be,s:xe,recoveryParam:ke})}}}}}},F.prototype.verify=function(D,X,j,G){D=this._truncateToN(new d(D,16)),j=this.keyFromPublic(j,G);var re=(X=new P(X,"hex")).r,te=X.s;if(re.cmpn(1)<0||re.cmp(this.n)>=0||te.cmpn(1)<0||te.cmp(this.n)>=0)return!1;var ae,J=te.invm(this.n),Z=J.mul(D).umod(this.n),ie=J.mul(re).umod(this.n);return this.curve._maxwellTrick?!(ae=this.g.jmulAdd(Z,j.getPublic(),ie)).isInfinity()&&ae.eqXToP(re):!(ae=this.g.mulAdd(Z,j.getPublic(),ie)).isInfinity()&&0===ae.getX().umod(this.n).cmp(re)},F.prototype.recoverPubKey=function(L,D,X,j){O((3&X)===X,"The recovery param is more than two bits"),D=new P(D,j);var G=this.n,re=new d(L),te=D.r,J=D.s,Z=1&X,ie=X>>1;if(te.cmp(this.curve.p.umod(this.curve.n))>=0&&ie)throw new Error("Unable to find sencond key candinate");te=this.curve.pointFromX(ie?te.add(this.curve.n):te,Z);var ae=D.r.invm(G),se=G.sub(re).mul(ae).umod(G),de=J.mul(ae).umod(G);return this.g.mulAdd(se,te,de)},F.prototype.getKeyRecoveryParam=function(L,D,X,j){if(null!==(D=new P(D,j)).recoveryParam)return D.recoveryParam;for(var G=0;G<4;G++){var re;try{re=this.recoverPubKey(L,D,G)}catch{continue}if(re.eq(X))return G}throw new Error("Unable to find valid recovery factor")}},60541:(je,H,w)=>{"use strict";var d=w(88723),k=w(3136).assert;function z(x,O){this.ec=x,this.priv=null,this.pub=null,O.priv&&this._importPrivate(O.priv,O.privEnc),O.pub&&this._importPublic(O.pub,O.pubEnc)}je.exports=z,z.fromPublic=function(O,A,P){return A instanceof z?A:new z(O,{pub:A,pubEnc:P})},z.fromPrivate=function(O,A,P){return A instanceof z?A:new z(O,{priv:A,privEnc:P})},z.prototype.validate=function(){var O=this.getPublic();return O.isInfinity()?{result:!1,reason:"Invalid public key"}:O.validate()?O.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},z.prototype.getPublic=function(O,A){return"string"==typeof O&&(A=O,O=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),A?this.pub.encode(A,O):this.pub},z.prototype.getPrivate=function(O){return"hex"===O?this.priv.toString(16,2):this.priv},z.prototype._importPrivate=function(O,A){this.priv=new d(O,A||16),this.priv=this.priv.umod(this.ec.curve.n)},z.prototype._importPublic=function(O,A){if(O.x||O.y)return"mont"===this.ec.curve.type?k(O.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&k(O.x&&O.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(O.x,O.y));this.pub=this.ec.curve.decodePoint(O,A)},z.prototype.derive=function(O){return O.validate()||k(O.validate(),"public point not validated"),O.mul(this.priv).getX()},z.prototype.sign=function(O,A,P){return this.ec.sign(O,this,A,P)},z.prototype.verify=function(O,A){return this.ec.verify(O,A,this)},z.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},40484:(je,H,w)=>{"use strict";var d=w(88723),E=w(3136),k=E.assert;function z(F,L){if(F instanceof z)return F;this._importDER(F,L)||(k(F.r&&F.s,"Signature without r or s"),this.r=new d(F.r,16),this.s=new d(F.s,16),this.recoveryParam=void 0===F.recoveryParam?null:F.recoveryParam)}function x(){this.place=0}function O(F,L){var D=F[L.place++];if(!(128&D))return D;var X=15&D;if(0===X||X>4)return!1;for(var j=0,G=0,re=L.place;G<X;G++,re++)j<<=8,j|=F[re],j>>>=0;return!(j<=127)&&(L.place=re,j)}function A(F){for(var L=0,D=F.length-1;!F[L]&&!(128&F[L+1])&&L<D;)L++;return 0===L?F:F.slice(L)}function P(F,L){if(L<128)F.push(L);else{var D=1+(Math.log(L)/Math.LN2>>>3);for(F.push(128|D);--D;)F.push(L>>>(D<<3)&255);F.push(L)}}je.exports=z,z.prototype._importDER=function(L,D){L=E.toArray(L,D);var X=new x;if(48!==L[X.place++])return!1;var j=O(L,X);if(!1===j||j+X.place!==L.length||2!==L[X.place++])return!1;var G=O(L,X);if(!1===G)return!1;var re=L.slice(X.place,G+X.place);if(X.place+=G,2!==L[X.place++])return!1;var te=O(L,X);if(!1===te||L.length!==te+X.place)return!1;var J=L.slice(X.place,te+X.place);if(0===re[0]){if(!(128&re[1]))return!1;re=re.slice(1)}if(0===J[0]){if(!(128&J[1]))return!1;J=J.slice(1)}return this.r=new d(re),this.s=new d(J),this.recoveryParam=null,!0},z.prototype.toDER=function(L){var D=this.r.toArray(),X=this.s.toArray();for(128&D[0]&&(D=[0].concat(D)),128&X[0]&&(X=[0].concat(X)),D=A(D),X=A(X);!(X[0]||128&X[1]);)X=X.slice(1);var j=[2];P(j,D.length),(j=j.concat(D)).push(2),P(j,X.length);var G=j.concat(X),re=[48];return P(re,G.length),re=re.concat(G),E.encode(re,L)}},83045:(je,H,w)=>{"use strict";var d=w(52529),E=w(23401),k=w(3136),z=k.assert,x=k.parseBytes,O=w(87222),A=w(5451);function P(F){if(z("ed25519"===F,"only tested with ed25519 so far"),!(this instanceof P))return new P(F);this.curve=F=E[F].curve,this.g=F.g,this.g.precompute(F.n.bitLength()+1),this.pointClass=F.point().constructor,this.encodingLength=Math.ceil(F.n.bitLength()/8),this.hash=d.sha512}je.exports=P,P.prototype.sign=function(L,D){L=x(L);var X=this.keyFromSecret(D),j=this.hashInt(X.messagePrefix(),L),G=this.g.mul(j),re=this.encodePoint(G),te=this.hashInt(re,X.pubBytes(),L).mul(X.priv()),J=j.add(te).umod(this.curve.n);return this.makeSignature({R:G,S:J,Rencoded:re})},P.prototype.verify=function(L,D,X){L=x(L),D=this.makeSignature(D);var j=this.keyFromPublic(X),G=this.hashInt(D.Rencoded(),j.pubBytes(),L),re=this.g.mul(D.S());return D.R().add(j.pub().mul(G)).eq(re)},P.prototype.hashInt=function(){for(var L=this.hash(),D=0;D<arguments.length;D++)L.update(arguments[D]);return k.intFromLE(L.digest()).umod(this.curve.n)},P.prototype.keyFromPublic=function(L){return O.fromPublic(this,L)},P.prototype.keyFromSecret=function(L){return O.fromSecret(this,L)},P.prototype.makeSignature=function(L){return L instanceof A?L:new A(this,L)},P.prototype.encodePoint=function(L){var D=L.getY().toArray("le",this.encodingLength);return D[this.encodingLength-1]|=L.getX().isOdd()?128:0,D},P.prototype.decodePoint=function(L){var D=(L=k.parseBytes(L)).length-1,X=L.slice(0,D).concat(-129&L[D]),j=!!(128&L[D]),G=k.intFromLE(X);return this.curve.pointFromY(G,j)},P.prototype.encodeInt=function(L){return L.toArray("le",this.encodingLength)},P.prototype.decodeInt=function(L){return k.intFromLE(L)},P.prototype.isPoint=function(L){return L instanceof this.pointClass}},87222:(je,H,w)=>{"use strict";var d=w(3136),E=d.assert,k=d.parseBytes,z=d.cachedProperty;function x(O,A){this.eddsa=O,this._secret=k(A.secret),O.isPoint(A.pub)?this._pub=A.pub:this._pubBytes=k(A.pub)}x.fromPublic=function(A,P){return P instanceof x?P:new x(A,{pub:P})},x.fromSecret=function(A,P){return P instanceof x?P:new x(A,{secret:P})},x.prototype.secret=function(){return this._secret},z(x,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),z(x,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),z(x,"privBytes",function(){var A=this.eddsa,P=this.hash(),F=A.encodingLength-1,L=P.slice(0,A.encodingLength);return L[0]&=248,L[F]&=127,L[F]|=64,L}),z(x,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),z(x,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),z(x,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),x.prototype.sign=function(A){return E(this._secret,"KeyPair can only verify"),this.eddsa.sign(A,this)},x.prototype.verify=function(A,P){return this.eddsa.verify(A,P,this)},x.prototype.getSecret=function(A){return E(this._secret,"KeyPair is public only"),d.encode(this.secret(),A)},x.prototype.getPublic=function(A){return d.encode(this.pubBytes(),A)},je.exports=x},5451:(je,H,w)=>{"use strict";var d=w(88723),E=w(3136),k=E.assert,z=E.cachedProperty,x=E.parseBytes;function O(A,P){this.eddsa=A,"object"!=typeof P&&(P=x(P)),Array.isArray(P)&&(P={R:P.slice(0,A.encodingLength),S:P.slice(A.encodingLength)}),k(P.R&&P.S,"Signature without R or S"),A.isPoint(P.R)&&(this._R=P.R),P.S instanceof d&&(this._S=P.S),this._Rencoded=Array.isArray(P.R)?P.R:P.Rencoded,this._Sencoded=Array.isArray(P.S)?P.S:P.Sencoded}z(O,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),z(O,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),z(O,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),z(O,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),O.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},O.prototype.toHex=function(){return E.encode(this.toBytes(),"hex").toUpperCase()},je.exports=O},51416:je=>{je.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},3136:(je,H,w)=>{"use strict";var d=H,E=w(88723),k=w(39210),z=w(21832);d.assert=k,d.toArray=z.toArray,d.zero2=z.zero2,d.toHex=z.toHex,d.encode=z.encode,d.getNAF=function x(L,D,X){var G,j=new Array(Math.max(L.bitLength(),X)+1);for(G=0;G<j.length;G+=1)j[G]=0;var re=1<<D+1,te=L.clone();for(G=0;G<j.length;G++){var J,Z=te.andln(re-1);te.isOdd()?te.isubn(J=Z>(re>>1)-1?(re>>1)-Z:Z):J=0,j[G]=J,te.iushrn(1)}return j},d.getJSF=function O(L,D){var X=[[],[]];L=L.clone(),D=D.clone();for(var re,j=0,G=0;L.cmpn(-j)>0||D.cmpn(-G)>0;){var Z,ie,te=L.andln(3)+j&3,J=D.andln(3)+G&3;3===te&&(te=-1),3===J&&(J=-1),Z=1&te?3!=(re=L.andln(7)+j&7)&&5!==re||2!==J?te:-te:0,X[0].push(Z),ie=1&J?3!=(re=D.andln(7)+G&7)&&5!==re||2!==te?J:-J:0,X[1].push(ie),2*j===Z+1&&(j=1-j),2*G===ie+1&&(G=1-G),L.iushrn(1),D.iushrn(1)}return X},d.cachedProperty=function A(L,D,X){var j="_"+D;L.prototype[D]=function(){return void 0!==this[j]?this[j]:this[j]=X.call(this)}},d.parseBytes=function P(L){return"string"==typeof L?d.toArray(L,"hex"):L},d.intFromLE=function F(L){return new E(L,"hex","le")}},88723:function(je,H,w){!function(d,E){"use strict";function k(C,a){if(!C)throw new Error(a||"Assertion failed")}function z(C,a){C.super_=a;var f=function(){};f.prototype=a.prototype,C.prototype=new f,C.prototype.constructor=C}function x(C,a,f){if(x.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(f=a,a=10),this._init(C||0,a||10,f||"be"))}var O;"object"==typeof d?d.exports=x:E.BN=x,x.BN=x,x.wordSize=26;try{O=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:w(79368).Buffer}catch{}function A(C,a){var f=C.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function P(C,a,f){var y=A(C,f);return f-1>=a&&(y|=A(C,f-1)<<4),y}function F(C,a,f,y){for(var g=0,M=Math.min(C.length,f),T=a;T<M;T++){var B=C.charCodeAt(T)-48;g*=y,g+=B>=49?B-49+10:B>=17?B-17+10:B}return g}x.isBN=function(a){return a instanceof x||null!==a&&"object"==typeof a&&a.constructor.wordSize===x.wordSize&&Array.isArray(a.words)},x.max=function(a,f){return a.cmp(f)>0?a:f},x.min=function(a,f){return a.cmp(f)<0?a:f},x.prototype._init=function(a,f,y){if("number"==typeof a)return this._initNumber(a,f,y);if("object"==typeof a)return this._initArray(a,f,y);"hex"===f&&(f=16),k(f===(0|f)&&f>=2&&f<=36);var g=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(g++,this.negative=1),g<a.length&&(16===f?this._parseHex(a,g,y):(this._parseBase(a,f,g),"le"===y&&this._initArray(this.toArray(),f,y)))},x.prototype._initNumber=function(a,f,y){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(k(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),f,y)},x.prototype._initArray=function(a,f,y){if(k("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var M,T,B=0;if("be"===y)for(g=a.length-1,M=0;g>=0;g-=3)this.words[M]|=(T=a[g]|a[g-1]<<8|a[g-2]<<16)<<B&67108863,this.words[M+1]=T>>>26-B&67108863,(B+=24)>=26&&(B-=26,M++);else if("le"===y)for(g=0,M=0;g<a.length;g+=3)this.words[M]|=(T=a[g]|a[g+1]<<8|a[g+2]<<16)<<B&67108863,this.words[M+1]=T>>>26-B&67108863,(B+=24)>=26&&(B-=26,M++);return this.strip()},x.prototype._parseHex=function(a,f,y){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var B,M=0,T=0;if("be"===y)for(g=a.length-1;g>=f;g-=2)B=P(a,f,g)<<M,this.words[T]|=67108863&B,M>=18?(M-=18,this.words[T+=1]|=B>>>26):M+=8;else for(g=(a.length-f)%2==0?f+1:f;g<a.length;g+=2)B=P(a,f,g)<<M,this.words[T]|=67108863&B,M>=18?(M-=18,this.words[T+=1]|=B>>>26):M+=8;this.strip()},x.prototype._parseBase=function(a,f,y){this.words=[0],this.length=1;for(var g=0,M=1;M<=67108863;M*=f)g++;g--,M=M/f|0;for(var T=a.length-y,B=T%g,S=Math.min(T,T-B)+y,s=0,v=y;v<S;v+=g)s=F(a,v,v+g,f),this.imuln(M),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==B){var W=1;for(s=F(a,v,a.length,f),v=0;v<B;v++)W*=f;this.imuln(W),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},x.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},x.prototype.clone=function(){var a=new x(null);return this.copy(a),a},x.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},x.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},x.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var L=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function G(C,a,f){f.negative=a.negative^C.negative;var y=C.length+a.length|0;f.length=y,y=y-1|0;var g=0|C.words[0],M=0|a.words[0],T=g*M,S=T/67108864|0;f.words[0]=67108863&T;for(var s=1;s<y;s++){for(var v=S>>>26,W=67108863&S,K=Math.min(s,a.length-1),ee=Math.max(0,s-C.length+1);ee<=K;ee++)v+=(T=(g=0|C.words[s-ee|0])*(M=0|a.words[ee])+W)/67108864|0,W=67108863&T;f.words[s]=0|W,S=0|v}return 0!==S?f.words[s]=0|S:f.length--,f.strip()}x.prototype.toString=function(a,f){var y;if(f=0|f||1,16===(a=a||10)||"hex"===a){y="";for(var g=0,M=0,T=0;T<this.length;T++){var B=this.words[T],S=(16777215&(B<<g|M)).toString(16);y=0!=(M=B>>>24-g&16777215)||T!==this.length-1?L[6-S.length]+S+y:S+y,(g+=2)>=26&&(g-=26,T--)}for(0!==M&&(y=M.toString(16)+y);y.length%f!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(a===(0|a)&&a>=2&&a<=36){var s=D[a],v=X[a];y="";var W=this.clone();for(W.negative=0;!W.isZero();){var K=W.modn(v).toString(a);y=(W=W.idivn(v)).isZero()?K+y:L[s-K.length]+K+y}for(this.isZero()&&(y="0"+y);y.length%f!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}k(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&k(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},x.prototype.toJSON=function(){return this.toString(16)},x.prototype.toBuffer=function(a,f){return k(typeof O<"u"),this.toArrayLike(O,a,f)},x.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},x.prototype.toArrayLike=function(a,f,y){var g=this.byteLength(),M=y||Math.max(1,g);k(g<=M,"byte array longer than desired length"),k(M>0,"Requested array length <= 0"),this.strip();var S,s,T="le"===f,B=new a(M),v=this.clone();if(T){for(s=0;!v.isZero();s++)S=v.andln(255),v.iushrn(8),B[s]=S;for(;s<M;s++)B[s]=0}else{for(s=0;s<M-g;s++)B[s]=0;for(s=0;!v.isZero();s++)S=v.andln(255),v.iushrn(8),B[M-s-1]=S}return B},x.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var f=a,y=0;return f>=4096&&(y+=13,f>>>=13),f>=64&&(y+=7,f>>>=7),f>=8&&(y+=4,f>>>=4),f>=2&&(y+=2,f>>>=2),y+f},x.prototype._zeroBits=function(a){if(0===a)return 26;var f=a,y=0;return 8191&f||(y+=13,f>>>=13),127&f||(y+=7,f>>>=7),15&f||(y+=4,f>>>=4),3&f||(y+=2,f>>>=2),1&f||y++,y},x.prototype.bitLength=function(){var f=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+f},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var y=this._zeroBits(this.words[f]);if(a+=y,26!==y)break}return a},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},x.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},x.prototype.ior=function(a){return k(!(this.negative|a.negative)),this.iuor(a)},x.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},x.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},x.prototype.iuand=function(a){var f;f=this.length>a.length?a:this;for(var y=0;y<f.length;y++)this.words[y]=this.words[y]&a.words[y];return this.length=f.length,this.strip()},x.prototype.iand=function(a){return k(!(this.negative|a.negative)),this.iuand(a)},x.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},x.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},x.prototype.iuxor=function(a){var f,y;this.length>a.length?(f=this,y=a):(f=a,y=this);for(var g=0;g<y.length;g++)this.words[g]=f.words[g]^y.words[g];if(this!==f)for(;g<f.length;g++)this.words[g]=f.words[g];return this.length=f.length,this.strip()},x.prototype.ixor=function(a){return k(!(this.negative|a.negative)),this.iuxor(a)},x.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},x.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},x.prototype.inotn=function(a){k("number"==typeof a&&a>=0);var f=0|Math.ceil(a/26),y=a%26;this._expand(f),y>0&&f--;for(var g=0;g<f;g++)this.words[g]=67108863&~this.words[g];return y>0&&(this.words[g]=~this.words[g]&67108863>>26-y),this.strip()},x.prototype.notn=function(a){return this.clone().inotn(a)},x.prototype.setn=function(a,f){k("number"==typeof a&&a>=0);var y=a/26|0,g=a%26;return this._expand(y+1),this.words[y]=f?this.words[y]|1<<g:this.words[y]&~(1<<g),this.strip()},x.prototype.iadd=function(a){var f,y,g;if(0!==this.negative&&0===a.negative)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();this.length>a.length?(y=this,g=a):(y=a,g=this);for(var M=0,T=0;T<g.length;T++)this.words[T]=67108863&(f=(0|y.words[T])+(0|g.words[T])+M),M=f>>>26;for(;0!==M&&T<y.length;T++)this.words[T]=67108863&(f=(0|y.words[T])+M),M=f>>>26;if(this.length=y.length,0!==M)this.words[this.length]=M,this.length++;else if(y!==this)for(;T<y.length;T++)this.words[T]=y.words[T];return this},x.prototype.add=function(a){var f;return 0!==a.negative&&0===this.negative?(a.negative=0,f=this.sub(a),a.negative^=1,f):0===a.negative&&0!==this.negative?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},x.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var g,M,y=this.cmp(a);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(g=this,M=a):(g=a,M=this);for(var T=0,B=0;B<M.length;B++)T=(f=(0|g.words[B])-(0|M.words[B])+T)>>26,this.words[B]=67108863&f;for(;0!==T&&B<g.length;B++)T=(f=(0|g.words[B])+T)>>26,this.words[B]=67108863&f;if(0===T&&B<g.length&&g!==this)for(;B<g.length;B++)this.words[B]=g.words[B];return this.length=Math.max(this.length,B),g!==this&&(this.negative=1),this.strip()},x.prototype.sub=function(a){return this.clone().isub(a)};var re=function(a,f,y){var S,s,v,g=a.words,M=f.words,T=y.words,B=0,W=0|g[0],K=8191&W,ee=W>>>13,ce=0|g[1],_e=8191&ce,Oe=ce>>>13,Ve=0|g[2],Se=8191&Ve,we=Ve>>>13,Ue=0|g[3],ye=8191&Ue,De=Ue>>>13,pe=0|g[4],ue=8191&pe,Q=pe>>>13,oe=0|g[5],fe=8191&oe,Ee=oe>>>13,Re=0|g[6],$e=8191&Re,Fe=Re>>>13,_t=0|g[7],We=8191&_t,Le=_t>>>13,lt=0|g[8],N=8191&lt,_=lt>>>13,m=0|g[9],U=8191&m,ne=m>>>13,ge=0|M[0],Ae=8191&ge,tt=ge>>>13,Bt=0|M[1],gt=8191&Bt,It=Bt>>>13,Zt=0|M[2],mn=8191&Zt,dn=Zt>>>13,ar=0|M[3],An=8191&ar,en=ar>>>13,Qt=0|M[4],Et=8191&Qt,ft=Qt>>>13,Ht=0|M[5],qt=8191&Ht,hn=Ht>>>13,hr=0|M[6],vt=8191&hr,St=hr>>>13,Mt=0|M[7],Ye=8191&Mt,nt=Mt>>>13,Wt=0|M[8],Nt=8191&Wt,un=Wt>>>13,Wn=0|M[9],En=8191&Wn,kn=Wn>>>13;y.negative=a.negative^f.negative,y.length=19;var Or=(B+(S=Math.imul(K,Ae))|0)+((8191&(s=(s=Math.imul(K,tt))+Math.imul(ee,Ae)|0))<<13)|0;B=((v=Math.imul(ee,tt))+(s>>>13)|0)+(Or>>>26)|0,Or&=67108863,S=Math.imul(_e,Ae),s=(s=Math.imul(_e,tt))+Math.imul(Oe,Ae)|0,v=Math.imul(Oe,tt);var Jn=(B+(S=S+Math.imul(K,gt)|0)|0)+((8191&(s=(s=s+Math.imul(K,It)|0)+Math.imul(ee,gt)|0))<<13)|0;B=((v=v+Math.imul(ee,It)|0)+(s>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,S=Math.imul(Se,Ae),s=(s=Math.imul(Se,tt))+Math.imul(we,Ae)|0,v=Math.imul(we,tt),S=S+Math.imul(_e,gt)|0,s=(s=s+Math.imul(_e,It)|0)+Math.imul(Oe,gt)|0,v=v+Math.imul(Oe,It)|0;var Fn=(B+(S=S+Math.imul(K,mn)|0)|0)+((8191&(s=(s=s+Math.imul(K,dn)|0)+Math.imul(ee,mn)|0))<<13)|0;B=((v=v+Math.imul(ee,dn)|0)+(s>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,S=Math.imul(ye,Ae),s=(s=Math.imul(ye,tt))+Math.imul(De,Ae)|0,v=Math.imul(De,tt),S=S+Math.imul(Se,gt)|0,s=(s=s+Math.imul(Se,It)|0)+Math.imul(we,gt)|0,v=v+Math.imul(we,It)|0,S=S+Math.imul(_e,mn)|0,s=(s=s+Math.imul(_e,dn)|0)+Math.imul(Oe,mn)|0,v=v+Math.imul(Oe,dn)|0;var Lt=(B+(S=S+Math.imul(K,An)|0)|0)+((8191&(s=(s=s+Math.imul(K,en)|0)+Math.imul(ee,An)|0))<<13)|0;B=((v=v+Math.imul(ee,en)|0)+(s>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,S=Math.imul(ue,Ae),s=(s=Math.imul(ue,tt))+Math.imul(Q,Ae)|0,v=Math.imul(Q,tt),S=S+Math.imul(ye,gt)|0,s=(s=s+Math.imul(ye,It)|0)+Math.imul(De,gt)|0,v=v+Math.imul(De,It)|0,S=S+Math.imul(Se,mn)|0,s=(s=s+Math.imul(Se,dn)|0)+Math.imul(we,mn)|0,v=v+Math.imul(we,dn)|0,S=S+Math.imul(_e,An)|0,s=(s=s+Math.imul(_e,en)|0)+Math.imul(Oe,An)|0,v=v+Math.imul(Oe,en)|0;var et=(B+(S=S+Math.imul(K,Et)|0)|0)+((8191&(s=(s=s+Math.imul(K,ft)|0)+Math.imul(ee,Et)|0))<<13)|0;B=((v=v+Math.imul(ee,ft)|0)+(s>>>13)|0)+(et>>>26)|0,et&=67108863,S=Math.imul(fe,Ae),s=(s=Math.imul(fe,tt))+Math.imul(Ee,Ae)|0,v=Math.imul(Ee,tt),S=S+Math.imul(ue,gt)|0,s=(s=s+Math.imul(ue,It)|0)+Math.imul(Q,gt)|0,v=v+Math.imul(Q,It)|0,S=S+Math.imul(ye,mn)|0,s=(s=s+Math.imul(ye,dn)|0)+Math.imul(De,mn)|0,v=v+Math.imul(De,dn)|0,S=S+Math.imul(Se,An)|0,s=(s=s+Math.imul(Se,en)|0)+Math.imul(we,An)|0,v=v+Math.imul(we,en)|0,S=S+Math.imul(_e,Et)|0,s=(s=s+Math.imul(_e,ft)|0)+Math.imul(Oe,Et)|0,v=v+Math.imul(Oe,ft)|0;var Te=(B+(S=S+Math.imul(K,qt)|0)|0)+((8191&(s=(s=s+Math.imul(K,hn)|0)+Math.imul(ee,qt)|0))<<13)|0;B=((v=v+Math.imul(ee,hn)|0)+(s>>>13)|0)+(Te>>>26)|0,Te&=67108863,S=Math.imul($e,Ae),s=(s=Math.imul($e,tt))+Math.imul(Fe,Ae)|0,v=Math.imul(Fe,tt),S=S+Math.imul(fe,gt)|0,s=(s=s+Math.imul(fe,It)|0)+Math.imul(Ee,gt)|0,v=v+Math.imul(Ee,It)|0,S=S+Math.imul(ue,mn)|0,s=(s=s+Math.imul(ue,dn)|0)+Math.imul(Q,mn)|0,v=v+Math.imul(Q,dn)|0,S=S+Math.imul(ye,An)|0,s=(s=s+Math.imul(ye,en)|0)+Math.imul(De,An)|0,v=v+Math.imul(De,en)|0,S=S+Math.imul(Se,Et)|0,s=(s=s+Math.imul(Se,ft)|0)+Math.imul(we,Et)|0,v=v+Math.imul(we,ft)|0,S=S+Math.imul(_e,qt)|0,s=(s=s+Math.imul(_e,hn)|0)+Math.imul(Oe,qt)|0,v=v+Math.imul(Oe,hn)|0;var Ne=(B+(S=S+Math.imul(K,vt)|0)|0)+((8191&(s=(s=s+Math.imul(K,St)|0)+Math.imul(ee,vt)|0))<<13)|0;B=((v=v+Math.imul(ee,St)|0)+(s>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,S=Math.imul(We,Ae),s=(s=Math.imul(We,tt))+Math.imul(Le,Ae)|0,v=Math.imul(Le,tt),S=S+Math.imul($e,gt)|0,s=(s=s+Math.imul($e,It)|0)+Math.imul(Fe,gt)|0,v=v+Math.imul(Fe,It)|0,S=S+Math.imul(fe,mn)|0,s=(s=s+Math.imul(fe,dn)|0)+Math.imul(Ee,mn)|0,v=v+Math.imul(Ee,dn)|0,S=S+Math.imul(ue,An)|0,s=(s=s+Math.imul(ue,en)|0)+Math.imul(Q,An)|0,v=v+Math.imul(Q,en)|0,S=S+Math.imul(ye,Et)|0,s=(s=s+Math.imul(ye,ft)|0)+Math.imul(De,Et)|0,v=v+Math.imul(De,ft)|0,S=S+Math.imul(Se,qt)|0,s=(s=s+Math.imul(Se,hn)|0)+Math.imul(we,qt)|0,v=v+Math.imul(we,hn)|0,S=S+Math.imul(_e,vt)|0,s=(s=s+Math.imul(_e,St)|0)+Math.imul(Oe,vt)|0,v=v+Math.imul(Oe,St)|0;var xt=(B+(S=S+Math.imul(K,Ye)|0)|0)+((8191&(s=(s=s+Math.imul(K,nt)|0)+Math.imul(ee,Ye)|0))<<13)|0;B=((v=v+Math.imul(ee,nt)|0)+(s>>>13)|0)+(xt>>>26)|0,xt&=67108863,S=Math.imul(N,Ae),s=(s=Math.imul(N,tt))+Math.imul(_,Ae)|0,v=Math.imul(_,tt),S=S+Math.imul(We,gt)|0,s=(s=s+Math.imul(We,It)|0)+Math.imul(Le,gt)|0,v=v+Math.imul(Le,It)|0,S=S+Math.imul($e,mn)|0,s=(s=s+Math.imul($e,dn)|0)+Math.imul(Fe,mn)|0,v=v+Math.imul(Fe,dn)|0,S=S+Math.imul(fe,An)|0,s=(s=s+Math.imul(fe,en)|0)+Math.imul(Ee,An)|0,v=v+Math.imul(Ee,en)|0,S=S+Math.imul(ue,Et)|0,s=(s=s+Math.imul(ue,ft)|0)+Math.imul(Q,Et)|0,v=v+Math.imul(Q,ft)|0,S=S+Math.imul(ye,qt)|0,s=(s=s+Math.imul(ye,hn)|0)+Math.imul(De,qt)|0,v=v+Math.imul(De,hn)|0,S=S+Math.imul(Se,vt)|0,s=(s=s+Math.imul(Se,St)|0)+Math.imul(we,vt)|0,v=v+Math.imul(we,St)|0,S=S+Math.imul(_e,Ye)|0,s=(s=s+Math.imul(_e,nt)|0)+Math.imul(Oe,Ye)|0,v=v+Math.imul(Oe,nt)|0;var nn=(B+(S=S+Math.imul(K,Nt)|0)|0)+((8191&(s=(s=s+Math.imul(K,un)|0)+Math.imul(ee,Nt)|0))<<13)|0;B=((v=v+Math.imul(ee,un)|0)+(s>>>13)|0)+(nn>>>26)|0,nn&=67108863,S=Math.imul(U,Ae),s=(s=Math.imul(U,tt))+Math.imul(ne,Ae)|0,v=Math.imul(ne,tt),S=S+Math.imul(N,gt)|0,s=(s=s+Math.imul(N,It)|0)+Math.imul(_,gt)|0,v=v+Math.imul(_,It)|0,S=S+Math.imul(We,mn)|0,s=(s=s+Math.imul(We,dn)|0)+Math.imul(Le,mn)|0,v=v+Math.imul(Le,dn)|0,S=S+Math.imul($e,An)|0,s=(s=s+Math.imul($e,en)|0)+Math.imul(Fe,An)|0,v=v+Math.imul(Fe,en)|0,S=S+Math.imul(fe,Et)|0,s=(s=s+Math.imul(fe,ft)|0)+Math.imul(Ee,Et)|0,v=v+Math.imul(Ee,ft)|0,S=S+Math.imul(ue,qt)|0,s=(s=s+Math.imul(ue,hn)|0)+Math.imul(Q,qt)|0,v=v+Math.imul(Q,hn)|0,S=S+Math.imul(ye,vt)|0,s=(s=s+Math.imul(ye,St)|0)+Math.imul(De,vt)|0,v=v+Math.imul(De,St)|0,S=S+Math.imul(Se,Ye)|0,s=(s=s+Math.imul(Se,nt)|0)+Math.imul(we,Ye)|0,v=v+Math.imul(we,nt)|0,S=S+Math.imul(_e,Nt)|0,s=(s=s+Math.imul(_e,un)|0)+Math.imul(Oe,Nt)|0,v=v+Math.imul(Oe,un)|0;var In=(B+(S=S+Math.imul(K,En)|0)|0)+((8191&(s=(s=s+Math.imul(K,kn)|0)+Math.imul(ee,En)|0))<<13)|0;B=((v=v+Math.imul(ee,kn)|0)+(s>>>13)|0)+(In>>>26)|0,In&=67108863,S=Math.imul(U,gt),s=(s=Math.imul(U,It))+Math.imul(ne,gt)|0,v=Math.imul(ne,It),S=S+Math.imul(N,mn)|0,s=(s=s+Math.imul(N,dn)|0)+Math.imul(_,mn)|0,v=v+Math.imul(_,dn)|0,S=S+Math.imul(We,An)|0,s=(s=s+Math.imul(We,en)|0)+Math.imul(Le,An)|0,v=v+Math.imul(Le,en)|0,S=S+Math.imul($e,Et)|0,s=(s=s+Math.imul($e,ft)|0)+Math.imul(Fe,Et)|0,v=v+Math.imul(Fe,ft)|0,S=S+Math.imul(fe,qt)|0,s=(s=s+Math.imul(fe,hn)|0)+Math.imul(Ee,qt)|0,v=v+Math.imul(Ee,hn)|0,S=S+Math.imul(ue,vt)|0,s=(s=s+Math.imul(ue,St)|0)+Math.imul(Q,vt)|0,v=v+Math.imul(Q,St)|0,S=S+Math.imul(ye,Ye)|0,s=(s=s+Math.imul(ye,nt)|0)+Math.imul(De,Ye)|0,v=v+Math.imul(De,nt)|0,S=S+Math.imul(Se,Nt)|0,s=(s=s+Math.imul(Se,un)|0)+Math.imul(we,Nt)|0,v=v+Math.imul(we,un)|0;var Kn=(B+(S=S+Math.imul(_e,En)|0)|0)+((8191&(s=(s=s+Math.imul(_e,kn)|0)+Math.imul(Oe,En)|0))<<13)|0;B=((v=v+Math.imul(Oe,kn)|0)+(s>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,S=Math.imul(U,mn),s=(s=Math.imul(U,dn))+Math.imul(ne,mn)|0,v=Math.imul(ne,dn),S=S+Math.imul(N,An)|0,s=(s=s+Math.imul(N,en)|0)+Math.imul(_,An)|0,v=v+Math.imul(_,en)|0,S=S+Math.imul(We,Et)|0,s=(s=s+Math.imul(We,ft)|0)+Math.imul(Le,Et)|0,v=v+Math.imul(Le,ft)|0,S=S+Math.imul($e,qt)|0,s=(s=s+Math.imul($e,hn)|0)+Math.imul(Fe,qt)|0,v=v+Math.imul(Fe,hn)|0,S=S+Math.imul(fe,vt)|0,s=(s=s+Math.imul(fe,St)|0)+Math.imul(Ee,vt)|0,v=v+Math.imul(Ee,St)|0,S=S+Math.imul(ue,Ye)|0,s=(s=s+Math.imul(ue,nt)|0)+Math.imul(Q,Ye)|0,v=v+Math.imul(Q,nt)|0,S=S+Math.imul(ye,Nt)|0,s=(s=s+Math.imul(ye,un)|0)+Math.imul(De,Nt)|0,v=v+Math.imul(De,un)|0;var er=(B+(S=S+Math.imul(Se,En)|0)|0)+((8191&(s=(s=s+Math.imul(Se,kn)|0)+Math.imul(we,En)|0))<<13)|0;B=((v=v+Math.imul(we,kn)|0)+(s>>>13)|0)+(er>>>26)|0,er&=67108863,S=Math.imul(U,An),s=(s=Math.imul(U,en))+Math.imul(ne,An)|0,v=Math.imul(ne,en),S=S+Math.imul(N,Et)|0,s=(s=s+Math.imul(N,ft)|0)+Math.imul(_,Et)|0,v=v+Math.imul(_,ft)|0,S=S+Math.imul(We,qt)|0,s=(s=s+Math.imul(We,hn)|0)+Math.imul(Le,qt)|0,v=v+Math.imul(Le,hn)|0,S=S+Math.imul($e,vt)|0,s=(s=s+Math.imul($e,St)|0)+Math.imul(Fe,vt)|0,v=v+Math.imul(Fe,St)|0,S=S+Math.imul(fe,Ye)|0,s=(s=s+Math.imul(fe,nt)|0)+Math.imul(Ee,Ye)|0,v=v+Math.imul(Ee,nt)|0,S=S+Math.imul(ue,Nt)|0,s=(s=s+Math.imul(ue,un)|0)+Math.imul(Q,Nt)|0,v=v+Math.imul(Q,un)|0;var _r=(B+(S=S+Math.imul(ye,En)|0)|0)+((8191&(s=(s=s+Math.imul(ye,kn)|0)+Math.imul(De,En)|0))<<13)|0;B=((v=v+Math.imul(De,kn)|0)+(s>>>13)|0)+(_r>>>26)|0,_r&=67108863,S=Math.imul(U,Et),s=(s=Math.imul(U,ft))+Math.imul(ne,Et)|0,v=Math.imul(ne,ft),S=S+Math.imul(N,qt)|0,s=(s=s+Math.imul(N,hn)|0)+Math.imul(_,qt)|0,v=v+Math.imul(_,hn)|0,S=S+Math.imul(We,vt)|0,s=(s=s+Math.imul(We,St)|0)+Math.imul(Le,vt)|0,v=v+Math.imul(Le,St)|0,S=S+Math.imul($e,Ye)|0,s=(s=s+Math.imul($e,nt)|0)+Math.imul(Fe,Ye)|0,v=v+Math.imul(Fe,nt)|0,S=S+Math.imul(fe,Nt)|0,s=(s=s+Math.imul(fe,un)|0)+Math.imul(Ee,Nt)|0,v=v+Math.imul(Ee,un)|0;var Tr=(B+(S=S+Math.imul(ue,En)|0)|0)+((8191&(s=(s=s+Math.imul(ue,kn)|0)+Math.imul(Q,En)|0))<<13)|0;B=((v=v+Math.imul(Q,kn)|0)+(s>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,S=Math.imul(U,qt),s=(s=Math.imul(U,hn))+Math.imul(ne,qt)|0,v=Math.imul(ne,hn),S=S+Math.imul(N,vt)|0,s=(s=s+Math.imul(N,St)|0)+Math.imul(_,vt)|0,v=v+Math.imul(_,St)|0,S=S+Math.imul(We,Ye)|0,s=(s=s+Math.imul(We,nt)|0)+Math.imul(Le,Ye)|0,v=v+Math.imul(Le,nt)|0,S=S+Math.imul($e,Nt)|0,s=(s=s+Math.imul($e,un)|0)+Math.imul(Fe,Nt)|0,v=v+Math.imul(Fe,un)|0;var Br=(B+(S=S+Math.imul(fe,En)|0)|0)+((8191&(s=(s=s+Math.imul(fe,kn)|0)+Math.imul(Ee,En)|0))<<13)|0;B=((v=v+Math.imul(Ee,kn)|0)+(s>>>13)|0)+(Br>>>26)|0,Br&=67108863,S=Math.imul(U,vt),s=(s=Math.imul(U,St))+Math.imul(ne,vt)|0,v=Math.imul(ne,St),S=S+Math.imul(N,Ye)|0,s=(s=s+Math.imul(N,nt)|0)+Math.imul(_,Ye)|0,v=v+Math.imul(_,nt)|0,S=S+Math.imul(We,Nt)|0,s=(s=s+Math.imul(We,un)|0)+Math.imul(Le,Nt)|0,v=v+Math.imul(Le,un)|0;var jr=(B+(S=S+Math.imul($e,En)|0)|0)+((8191&(s=(s=s+Math.imul($e,kn)|0)+Math.imul(Fe,En)|0))<<13)|0;B=((v=v+Math.imul(Fe,kn)|0)+(s>>>13)|0)+(jr>>>26)|0,jr&=67108863,S=Math.imul(U,Ye),s=(s=Math.imul(U,nt))+Math.imul(ne,Ye)|0,v=Math.imul(ne,nt),S=S+Math.imul(N,Nt)|0,s=(s=s+Math.imul(N,un)|0)+Math.imul(_,Nt)|0,v=v+Math.imul(_,un)|0;var Zr=(B+(S=S+Math.imul(We,En)|0)|0)+((8191&(s=(s=s+Math.imul(We,kn)|0)+Math.imul(Le,En)|0))<<13)|0;B=((v=v+Math.imul(Le,kn)|0)+(s>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,S=Math.imul(U,Nt),s=(s=Math.imul(U,un))+Math.imul(ne,Nt)|0,v=Math.imul(ne,un);var tn=(B+(S=S+Math.imul(N,En)|0)|0)+((8191&(s=(s=s+Math.imul(N,kn)|0)+Math.imul(_,En)|0))<<13)|0;B=((v=v+Math.imul(_,kn)|0)+(s>>>13)|0)+(tn>>>26)|0,tn&=67108863;var _n=(B+(S=Math.imul(U,En))|0)+((8191&(s=(s=Math.imul(U,kn))+Math.imul(ne,En)|0))<<13)|0;return B=((v=Math.imul(ne,kn))+(s>>>13)|0)+(_n>>>26)|0,_n&=67108863,T[0]=Or,T[1]=Jn,T[2]=Fn,T[3]=Lt,T[4]=et,T[5]=Te,T[6]=Ne,T[7]=xt,T[8]=nn,T[9]=In,T[10]=Kn,T[11]=er,T[12]=_r,T[13]=Tr,T[14]=Br,T[15]=jr,T[16]=Zr,T[17]=tn,T[18]=_n,0!==B&&(T[19]=B,y.length++),y};function J(C,a,f){return(new Z).mulp(C,a,f)}function Z(C,a){this.x=C,this.y=a}Math.imul||(re=G),x.prototype.mulTo=function(a,f){var y,g=this.length+a.length;return y=10===this.length&&10===a.length?re(this,a,f):g<63?G(this,a,f):g<1024?function te(C,a,f){f.negative=a.negative^C.negative,f.length=C.length+a.length;for(var y=0,g=0,M=0;M<f.length-1;M++){var T=g;g=0;for(var B=67108863&y,S=Math.min(M,a.length-1),s=Math.max(0,M-C.length+1);s<=S;s++){var ee=(0|C.words[M-s])*(0|a.words[s]),ce=67108863&ee;B=67108863&(ce=ce+B|0),g+=(T=(T=T+(ee/67108864|0)|0)+(ce>>>26)|0)>>>26,T&=67108863}f.words[M]=B,y=T,T=g}return 0!==y?f.words[M]=y:f.length--,f.strip()}(this,a,f):J(this,a,f),y},Z.prototype.makeRBT=function(a){for(var f=new Array(a),y=x.prototype._countBits(a)-1,g=0;g<a;g++)f[g]=this.revBin(g,y,a);return f},Z.prototype.revBin=function(a,f,y){if(0===a||a===y-1)return a;for(var g=0,M=0;M<f;M++)g|=(1&a)<<f-M-1,a>>=1;return g},Z.prototype.permute=function(a,f,y,g,M,T){for(var B=0;B<T;B++)g[B]=f[a[B]],M[B]=y[a[B]]},Z.prototype.transform=function(a,f,y,g,M,T){this.permute(T,a,f,y,g,M);for(var B=1;B<M;B<<=1)for(var S=B<<1,s=Math.cos(2*Math.PI/S),v=Math.sin(2*Math.PI/S),W=0;W<M;W+=S)for(var K=s,ee=v,ce=0;ce<B;ce++){var _e=y[W+ce],Oe=g[W+ce],Ve=y[W+ce+B],Se=g[W+ce+B],we=K*Ve-ee*Se;Se=K*Se+ee*Ve,y[W+ce]=_e+(Ve=we),g[W+ce]=Oe+Se,y[W+ce+B]=_e-Ve,g[W+ce+B]=Oe-Se,ce!==S&&(we=s*K-v*ee,ee=s*ee+v*K,K=we)}},Z.prototype.guessLen13b=function(a,f){var y=1|Math.max(f,a),g=1&y,M=0;for(y=y/2|0;y;y>>>=1)M++;return 1<<M+1+g},Z.prototype.conjugate=function(a,f,y){if(!(y<=1))for(var g=0;g<y/2;g++){var M=a[g];a[g]=a[y-g-1],a[y-g-1]=M,M=f[g],f[g]=-f[y-g-1],f[y-g-1]=-M}},Z.prototype.normalize13b=function(a,f){for(var y=0,g=0;g<f/2;g++){var M=8192*Math.round(a[2*g+1]/f)+Math.round(a[2*g]/f)+y;a[g]=67108863&M,y=M<67108864?0:M/67108864|0}return a},Z.prototype.convert13b=function(a,f,y,g){for(var M=0,T=0;T<f;T++)y[2*T]=8191&(M+=0|a[T]),y[2*T+1]=8191&(M>>>=13),M>>>=13;for(T=2*f;T<g;++T)y[T]=0;k(0===M),k(!(-8192&M))},Z.prototype.stub=function(a){for(var f=new Array(a),y=0;y<a;y++)f[y]=0;return f},Z.prototype.mulp=function(a,f,y){var g=2*this.guessLen13b(a.length,f.length),M=this.makeRBT(g),T=this.stub(g),B=new Array(g),S=new Array(g),s=new Array(g),v=new Array(g),W=new Array(g),K=new Array(g),ee=y.words;ee.length=g,this.convert13b(a.words,a.length,B,g),this.convert13b(f.words,f.length,v,g),this.transform(B,T,S,s,g,M),this.transform(v,T,W,K,g,M);for(var ce=0;ce<g;ce++){var _e=S[ce]*W[ce]-s[ce]*K[ce];s[ce]=S[ce]*K[ce]+s[ce]*W[ce],S[ce]=_e}return this.conjugate(S,s,g),this.transform(S,s,ee,T,g,M),this.conjugate(ee,T,g),this.normalize13b(ee,g),y.negative=a.negative^f.negative,y.length=a.length+f.length,y.strip()},x.prototype.mul=function(a){var f=new x(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},x.prototype.mulf=function(a){var f=new x(null);return f.words=new Array(this.length+a.length),J(this,a,f)},x.prototype.imul=function(a){return this.clone().mulTo(a,this)},x.prototype.imuln=function(a){k("number"==typeof a),k(a<67108864);for(var f=0,y=0;y<this.length;y++){var g=(0|this.words[y])*a,M=(67108863&g)+(67108863&f);f>>=26,f+=g/67108864|0,f+=M>>>26,this.words[y]=67108863&M}return 0!==f&&(this.words[y]=f,this.length++),this},x.prototype.muln=function(a){return this.clone().imuln(a)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(a){var f=function j(C){for(var a=new Array(C.bitLength()),f=0;f<a.length;f++){var g=f%26;a[f]=(C.words[f/26|0]&1<<g)>>>g}return a}(a);if(0===f.length)return new x(1);for(var y=this,g=0;g<f.length&&0===f[g];g++,y=y.sqr());if(++g<f.length)for(var M=y.sqr();g<f.length;g++,M=M.sqr())0!==f[g]&&(y=y.mul(M));return y},x.prototype.iushln=function(a){k("number"==typeof a&&a>=0);var M,f=a%26,y=(a-f)/26,g=67108863>>>26-f<<26-f;if(0!==f){var T=0;for(M=0;M<this.length;M++){var B=this.words[M]&g;this.words[M]=(0|this.words[M])-B<<f|T,T=B>>>26-f}T&&(this.words[M]=T,this.length++)}if(0!==y){for(M=this.length-1;M>=0;M--)this.words[M+y]=this.words[M];for(M=0;M<y;M++)this.words[M]=0;this.length+=y}return this.strip()},x.prototype.ishln=function(a){return k(0===this.negative),this.iushln(a)},x.prototype.iushrn=function(a,f,y){var g;k("number"==typeof a&&a>=0),g=f?(f-f%26)/26:0;var M=a%26,T=Math.min((a-M)/26,this.length),B=67108863^67108863>>>M<<M,S=y;if(g-=T,g=Math.max(0,g),S){for(var s=0;s<T;s++)S.words[s]=this.words[s];S.length=T}if(0!==T)if(this.length>T)for(this.length-=T,s=0;s<this.length;s++)this.words[s]=this.words[s+T];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=g);s--){var W=0|this.words[s];this.words[s]=v<<26-M|W>>>M,v=W&B}return S&&0!==v&&(S.words[S.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},x.prototype.ishrn=function(a,f,y){return k(0===this.negative),this.iushrn(a,f,y)},x.prototype.shln=function(a){return this.clone().ishln(a)},x.prototype.ushln=function(a){return this.clone().iushln(a)},x.prototype.shrn=function(a){return this.clone().ishrn(a)},x.prototype.ushrn=function(a){return this.clone().iushrn(a)},x.prototype.testn=function(a){k("number"==typeof a&&a>=0);var f=a%26,y=(a-f)/26;return!(this.length<=y||!(this.words[y]&1<<f))},x.prototype.imaskn=function(a){k("number"==typeof a&&a>=0);var f=a%26,y=(a-f)/26;return k(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==f&&y++,this.length=Math.min(y,this.length),0!==f&&(this.words[this.length-1]&=67108863^67108863>>>f<<f),this.strip())},x.prototype.maskn=function(a){return this.clone().imaskn(a)},x.prototype.iaddn=function(a){return k("number"==typeof a),k(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},x.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},x.prototype.isubn=function(a){if(k("number"==typeof a),k(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},x.prototype.addn=function(a){return this.clone().iaddn(a)},x.prototype.subn=function(a){return this.clone().isubn(a)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(a,f,y){var M;this._expand(a.length+y);var T,B=0;for(M=0;M<a.length;M++){T=(0|this.words[M+y])+B;var S=(0|a.words[M])*f;B=((T-=67108863&S)>>26)-(S/67108864|0),this.words[M+y]=67108863&T}for(;M<this.length-y;M++)B=(T=(0|this.words[M+y])+B)>>26,this.words[M+y]=67108863&T;if(0===B)return this.strip();for(k(-1===B),B=0,M=0;M<this.length;M++)B=(T=-(0|this.words[M])+B)>>26,this.words[M]=67108863&T;return this.negative=1,this.strip()},x.prototype._wordDiv=function(a,f){var y,g=this.clone(),M=a,T=0|M.words[M.length-1];0!=(y=26-this._countBits(T))&&(M=M.ushln(y),g.iushln(y),T=0|M.words[M.length-1]);var s,S=g.length-M.length;if("mod"!==f){(s=new x(null)).length=S+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var W=g.clone()._ishlnsubmul(M,1,S);0===W.negative&&(g=W,s&&(s.words[S]=1));for(var K=S-1;K>=0;K--){var ee=67108864*(0|g.words[M.length+K])+(0|g.words[M.length+K-1]);for(ee=Math.min(ee/T|0,67108863),g._ishlnsubmul(M,ee,K);0!==g.negative;)ee--,g.negative=0,g._ishlnsubmul(M,1,K),g.isZero()||(g.negative^=1);s&&(s.words[K]=ee)}return s&&s.strip(),g.strip(),"div"!==f&&0!==y&&g.iushrn(y),{div:s||null,mod:g}},x.prototype.divmod=function(a,f,y){return k(!a.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===a.negative?(T=this.neg().divmod(a,f),"mod"!==f&&(g=T.div.neg()),"div"!==f&&(M=T.mod.neg(),y&&0!==M.negative&&M.iadd(a)),{div:g,mod:M}):0===this.negative&&0!==a.negative?(T=this.divmod(a.neg(),f),"mod"!==f&&(g=T.div.neg()),{div:g,mod:T.mod}):this.negative&a.negative?(T=this.neg().divmod(a.neg(),f),"div"!==f&&(M=T.mod.neg(),y&&0!==M.negative&&M.isub(a)),{div:T.div,mod:M}):a.length>this.length||this.cmp(a)<0?{div:new x(0),mod:this}:1===a.length?"div"===f?{div:this.divn(a.words[0]),mod:null}:"mod"===f?{div:null,mod:new x(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new x(this.modn(a.words[0]))}:this._wordDiv(a,f);var g,M,T},x.prototype.div=function(a){return this.divmod(a,"div",!1).div},x.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},x.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},x.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var y=0!==f.div.negative?f.mod.isub(a):f.mod,g=a.ushrn(1),M=a.andln(1),T=y.cmp(g);return T<0||1===M&&0===T?f.div:0!==f.div.negative?f.div.isubn(1):f.div.iaddn(1)},x.prototype.modn=function(a){k(a<=67108863);for(var f=(1<<26)%a,y=0,g=this.length-1;g>=0;g--)y=(f*y+(0|this.words[g]))%a;return y},x.prototype.idivn=function(a){k(a<=67108863);for(var f=0,y=this.length-1;y>=0;y--){var g=(0|this.words[y])+67108864*f;this.words[y]=g/a|0,f=g%a}return this.strip()},x.prototype.divn=function(a){return this.clone().idivn(a)},x.prototype.egcd=function(a){k(0===a.negative),k(!a.isZero());var f=this,y=a.clone();f=0!==f.negative?f.umod(a):f.clone();for(var g=new x(1),M=new x(0),T=new x(0),B=new x(1),S=0;f.isEven()&&y.isEven();)f.iushrn(1),y.iushrn(1),++S;for(var s=y.clone(),v=f.clone();!f.isZero();){for(var W=0,K=1;!(f.words[0]&K)&&W<26;++W,K<<=1);if(W>0)for(f.iushrn(W);W-- >0;)(g.isOdd()||M.isOdd())&&(g.iadd(s),M.isub(v)),g.iushrn(1),M.iushrn(1);for(var ee=0,ce=1;!(y.words[0]&ce)&&ee<26;++ee,ce<<=1);if(ee>0)for(y.iushrn(ee);ee-- >0;)(T.isOdd()||B.isOdd())&&(T.iadd(s),B.isub(v)),T.iushrn(1),B.iushrn(1);f.cmp(y)>=0?(f.isub(y),g.isub(T),M.isub(B)):(y.isub(f),T.isub(g),B.isub(M))}return{a:T,b:B,gcd:y.iushln(S)}},x.prototype._invmp=function(a){k(0===a.negative),k(!a.isZero());var W,f=this,y=a.clone();f=0!==f.negative?f.umod(a):f.clone();for(var g=new x(1),M=new x(0),T=y.clone();f.cmpn(1)>0&&y.cmpn(1)>0;){for(var B=0,S=1;!(f.words[0]&S)&&B<26;++B,S<<=1);if(B>0)for(f.iushrn(B);B-- >0;)g.isOdd()&&g.iadd(T),g.iushrn(1);for(var s=0,v=1;!(y.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(y.iushrn(s);s-- >0;)M.isOdd()&&M.iadd(T),M.iushrn(1);f.cmp(y)>=0?(f.isub(y),g.isub(M)):(y.isub(f),M.isub(g))}return(W=0===f.cmpn(1)?g:M).cmpn(0)<0&&W.iadd(a),W},x.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),y=a.clone();f.negative=0,y.negative=0;for(var g=0;f.isEven()&&y.isEven();g++)f.iushrn(1),y.iushrn(1);for(;;){for(;f.isEven();)f.iushrn(1);for(;y.isEven();)y.iushrn(1);var M=f.cmp(y);if(M<0){var T=f;f=y,y=T}else if(0===M||0===y.cmpn(1))break;f.isub(y)}return y.iushln(g)},x.prototype.invm=function(a){return this.egcd(a).a.umod(a)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(a){return this.words[0]&a},x.prototype.bincn=function(a){k("number"==typeof a);var f=a%26,y=(a-f)/26,g=1<<f;if(this.length<=y)return this._expand(y+1),this.words[y]|=g,this;for(var M=g,T=y;0!==M&&T<this.length;T++){var B=0|this.words[T];M=(B+=M)>>>26,this.words[T]=B&=67108863}return 0!==M&&(this.words[T]=M,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(a){var y,f=a<0;if(0!==this.negative&&!f)return-1;if(0===this.negative&&f)return 1;if(this.strip(),this.length>1)y=1;else{f&&(a=-a),k(a<=67108863,"Number is too big");var g=0|this.words[0];y=g===a?0:g<a?-1:1}return 0!==this.negative?0|-y:y},x.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var f=this.ucmp(a);return 0!==this.negative?0|-f:f},x.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,y=this.length-1;y>=0;y--){var g=0|this.words[y],M=0|a.words[y];if(g!==M){g<M?f=-1:g>M&&(f=1);break}}return f},x.prototype.gtn=function(a){return 1===this.cmpn(a)},x.prototype.gt=function(a){return 1===this.cmp(a)},x.prototype.gten=function(a){return this.cmpn(a)>=0},x.prototype.gte=function(a){return this.cmp(a)>=0},x.prototype.ltn=function(a){return-1===this.cmpn(a)},x.prototype.lt=function(a){return-1===this.cmp(a)},x.prototype.lten=function(a){return this.cmpn(a)<=0},x.prototype.lte=function(a){return this.cmp(a)<=0},x.prototype.eqn=function(a){return 0===this.cmpn(a)},x.prototype.eq=function(a){return 0===this.cmp(a)},x.red=function(a){return new xe(a)},x.prototype.toRed=function(a){return k(!this.red,"Already a number in reduction context"),k(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},x.prototype.fromRed=function(){return k(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(a){return this.red=a,this},x.prototype.forceRed=function(a){return k(!this.red,"Already a number in reduction context"),this._forceRed(a)},x.prototype.redAdd=function(a){return k(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},x.prototype.redIAdd=function(a){return k(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},x.prototype.redSub=function(a){return k(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},x.prototype.redISub=function(a){return k(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},x.prototype.redShl=function(a){return k(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},x.prototype.redMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},x.prototype.redIMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},x.prototype.redSqr=function(){return k(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return k(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return k(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return k(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return k(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(a){return k(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var ie={k256:null,p224:null,p192:null,p25519:null};function ae(C,a){this.name=C,this.p=new x(a,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function se(){ae.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function de(){ae.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function le(){ae.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function be(){ae.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function xe(C){if("string"==typeof C){var a=x._prime(C);this.m=a.p,this.prime=a}else k(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function ke(C){xe.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ae.prototype._tmp=function(){var a=new x(null);return a.words=new Array(Math.ceil(this.n/13)),a},ae.prototype.ireduce=function(a){var y,f=a;do{this.split(f,this.tmp),y=(f=(f=this.imulK(f)).iadd(this.tmp)).bitLength()}while(y>this.n);var g=y<this.n?-1:f.ucmp(this.p);return 0===g?(f.words[0]=0,f.length=1):g>0?f.isub(this.p):void 0!==f.strip?f.strip():f._strip(),f},ae.prototype.split=function(a,f){a.iushrn(this.n,0,f)},ae.prototype.imulK=function(a){return a.imul(this.k)},z(se,ae),se.prototype.split=function(a,f){for(var y=4194303,g=Math.min(a.length,9),M=0;M<g;M++)f.words[M]=a.words[M];if(f.length=g,a.length<=9)return a.words[0]=0,void(a.length=1);var T=a.words[9];for(f.words[f.length++]=T&y,M=10;M<a.length;M++){var B=0|a.words[M];a.words[M-10]=(B&y)<<4|T>>>22,T=B}a.words[M-10]=T>>>=22,a.length-=0===T&&a.length>10?10:9},se.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,y=0;y<a.length;y++){var g=0|a.words[y];a.words[y]=67108863&(f+=977*g),f=64*g+(f/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},z(de,ae),z(le,ae),z(be,ae),be.prototype.imulK=function(a){for(var f=0,y=0;y<a.length;y++){var g=19*(0|a.words[y])+f,M=67108863&g;g>>>=26,a.words[y]=M,f=g}return 0!==f&&(a.words[a.length++]=f),a},x._prime=function(a){if(ie[a])return ie[a];var f;if("k256"===a)f=new se;else if("p224"===a)f=new de;else if("p192"===a)f=new le;else{if("p25519"!==a)throw new Error("Unknown prime "+a);f=new be}return ie[a]=f,f},xe.prototype._verify1=function(a){k(0===a.negative,"red works only with positives"),k(a.red,"red works only with red numbers")},xe.prototype._verify2=function(a,f){k(!(a.negative|f.negative),"red works only with positives"),k(a.red&&a.red===f.red,"red works only with red numbers")},xe.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},xe.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},xe.prototype.add=function(a,f){this._verify2(a,f);var y=a.add(f);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},xe.prototype.iadd=function(a,f){this._verify2(a,f);var y=a.iadd(f);return y.cmp(this.m)>=0&&y.isub(this.m),y},xe.prototype.sub=function(a,f){this._verify2(a,f);var y=a.sub(f);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},xe.prototype.isub=function(a,f){this._verify2(a,f);var y=a.isub(f);return y.cmpn(0)<0&&y.iadd(this.m),y},xe.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},xe.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},xe.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},xe.prototype.isqr=function(a){return this.imul(a,a.clone())},xe.prototype.sqr=function(a){return this.mul(a,a)},xe.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(k(f%2==1),3===f){var y=this.m.add(new x(1)).iushrn(2);return this.pow(a,y)}for(var g=this.m.subn(1),M=0;!g.isZero()&&0===g.andln(1);)M++,g.iushrn(1);k(!g.isZero());var T=new x(1).toRed(this),B=T.redNeg(),S=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new x(2*s*s).toRed(this);0!==this.pow(s,S).cmp(B);)s.redIAdd(B);for(var v=this.pow(s,g),W=this.pow(a,g.addn(1).iushrn(1)),K=this.pow(a,g),ee=M;0!==K.cmp(T);){for(var ce=K,_e=0;0!==ce.cmp(T);_e++)ce=ce.redSqr();k(_e<ee);var Oe=this.pow(v,new x(1).iushln(ee-_e-1));W=W.redMul(Oe),v=Oe.redSqr(),K=K.redMul(v),ee=_e}return W},xe.prototype.invm=function(a){var f=a._invmp(this.m);return 0!==f.negative?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},xe.prototype.pow=function(a,f){if(f.isZero())return new x(1).toRed(this);if(0===f.cmpn(1))return a.clone();var g=new Array(16);g[0]=new x(1).toRed(this),g[1]=a;for(var M=2;M<g.length;M++)g[M]=this.mul(g[M-1],a);var T=g[0],B=0,S=0,s=f.bitLength()%26;for(0===s&&(s=26),M=f.length-1;M>=0;M--){for(var v=f.words[M],W=s-1;W>=0;W--){var K=v>>W&1;T!==g[0]&&(T=this.sqr(T)),0!==K||0!==B?(B<<=1,B|=K,(4==++S||0===M&&0===W)&&(T=this.mul(T,g[B]),S=0,B=0)):S=0}s=26}return T},xe.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},xe.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},x.mont=function(a){return new ke(a)},z(ke,xe),ke.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ke.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ke.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var y=a.imul(f),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(g).iushrn(this.shift),T=M;return M.cmp(this.m)>=0?T=M.isub(this.m):M.cmpn(0)<0&&(T=M.iadd(this.m)),T._forceRed(this)},ke.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new x(0)._forceRed(this);var y=a.mul(f),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(g).iushrn(this.shift),T=M;return M.cmp(this.m)>=0?T=M.isub(this.m):M.cmpn(0)<0&&(T=M.iadd(this.m)),T._forceRed(this)},ke.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(je=w.nmd(je),this)},44356:je=>{"use strict";var d,H="object"==typeof Reflect?Reflect:null,w=H&&"function"==typeof H.apply?H.apply:function(ae,se,de){return Function.prototype.apply.call(ae,se,de)};d=H&&"function"==typeof H.ownKeys?H.ownKeys:Object.getOwnPropertySymbols?function(ae){return Object.getOwnPropertyNames(ae).concat(Object.getOwnPropertySymbols(ae))}:function(ae){return Object.getOwnPropertyNames(ae)};var k=Number.isNaN||function(ae){return ae!=ae};function z(){z.init.call(this)}je.exports=z,je.exports.once=function te(ie,ae){return new Promise(function(se,de){function le(xe){ie.removeListener(ae,be),de(xe)}function be(){"function"==typeof ie.removeListener&&ie.removeListener("error",le),se([].slice.call(arguments))}Z(ie,ae,be,{once:!0}),"error"!==ae&&function J(ie,ae,se){"function"==typeof ie.on&&Z(ie,"error",ae,se)}(ie,le,{once:!0})})},z.EventEmitter=z,z.prototype._events=void 0,z.prototype._eventsCount=0,z.prototype._maxListeners=void 0;var x=10;function O(ie){if("function"!=typeof ie)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof ie)}function A(ie){return void 0===ie._maxListeners?z.defaultMaxListeners:ie._maxListeners}function P(ie,ae,se,de){var le,be,xe;if(O(se),void 0===(be=ie._events)?(be=ie._events=Object.create(null),ie._eventsCount=0):(void 0!==be.newListener&&(ie.emit("newListener",ae,se.listener?se.listener:se),be=ie._events),xe=be[ae]),void 0===xe)xe=be[ae]=se,++ie._eventsCount;else if("function"==typeof xe?xe=be[ae]=de?[se,xe]:[xe,se]:de?xe.unshift(se):xe.push(se),(le=A(ie))>0&&xe.length>le&&!xe.warned){xe.warned=!0;var ke=new Error("Possible EventEmitter memory leak detected. "+xe.length+" "+String(ae)+" listeners added. Use emitter.setMaxListeners() to increase limit");ke.name="MaxListenersExceededWarning",ke.emitter=ie,ke.type=ae,ke.count=xe.length,function E(ie){console&&console.warn&&console.warn(ie)}(ke)}return ie}function F(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function L(ie,ae,se){var de={fired:!1,wrapFn:void 0,target:ie,type:ae,listener:se},le=F.bind(de);return le.listener=se,de.wrapFn=le,le}function D(ie,ae,se){var de=ie._events;if(void 0===de)return[];var le=de[ae];return void 0===le?[]:"function"==typeof le?se?[le.listener||le]:[le]:se?function re(ie){for(var ae=new Array(ie.length),se=0;se<ae.length;++se)ae[se]=ie[se].listener||ie[se];return ae}(le):j(le,le.length)}function X(ie){var ae=this._events;if(void 0!==ae){var se=ae[ie];if("function"==typeof se)return 1;if(void 0!==se)return se.length}return 0}function j(ie,ae){for(var se=new Array(ae),de=0;de<ae;++de)se[de]=ie[de];return se}function Z(ie,ae,se,de){if("function"==typeof ie.on)de.once?ie.once(ae,se):ie.on(ae,se);else{if("function"!=typeof ie.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof ie);ie.addEventListener(ae,function le(be){de.once&&ie.removeEventListener(ae,le),se(be)})}}Object.defineProperty(z,"defaultMaxListeners",{enumerable:!0,get:function(){return x},set:function(ie){if("number"!=typeof ie||ie<0||k(ie))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+ie+".");x=ie}}),z.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},z.prototype.setMaxListeners=function(ae){if("number"!=typeof ae||ae<0||k(ae))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ae+".");return this._maxListeners=ae,this},z.prototype.getMaxListeners=function(){return A(this)},z.prototype.emit=function(ae){for(var se=[],de=1;de<arguments.length;de++)se.push(arguments[de]);var le="error"===ae,be=this._events;if(void 0!==be)le=le&&void 0===be.error;else if(!le)return!1;if(le){var xe;if(se.length>0&&(xe=se[0]),xe instanceof Error)throw xe;var ke=new Error("Unhandled error."+(xe?" ("+xe.message+")":""));throw ke.context=xe,ke}var C=be[ae];if(void 0===C)return!1;if("function"==typeof C)w(C,this,se);else{var a=C.length,f=j(C,a);for(de=0;de<a;++de)w(f[de],this,se)}return!0},z.prototype.on=z.prototype.addListener=function(ae,se){return P(this,ae,se,!1)},z.prototype.prependListener=function(ae,se){return P(this,ae,se,!0)},z.prototype.once=function(ae,se){return O(se),this.on(ae,L(this,ae,se)),this},z.prototype.prependOnceListener=function(ae,se){return O(se),this.prependListener(ae,L(this,ae,se)),this},z.prototype.off=z.prototype.removeListener=function(ae,se){var de,le,be,xe,ke;if(O(se),void 0===(le=this._events))return this;if(void 0===(de=le[ae]))return this;if(de===se||de.listener===se)0==--this._eventsCount?this._events=Object.create(null):(delete le[ae],le.removeListener&&this.emit("removeListener",ae,de.listener||se));else if("function"!=typeof de){for(be=-1,xe=de.length-1;xe>=0;xe--)if(de[xe]===se||de[xe].listener===se){ke=de[xe].listener,be=xe;break}if(be<0)return this;0===be?de.shift():function G(ie,ae){for(;ae+1<ie.length;ae++)ie[ae]=ie[ae+1];ie.pop()}(de,be),1===de.length&&(le[ae]=de[0]),void 0!==le.removeListener&&this.emit("removeListener",ae,ke||se)}return this},z.prototype.removeAllListeners=function(ae){var se,de,le;if(void 0===(de=this._events))return this;if(void 0===de.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==de[ae]&&(0==--this._eventsCount?this._events=Object.create(null):delete de[ae]),this;if(0===arguments.length){var xe,be=Object.keys(de);for(le=0;le<be.length;++le)"removeListener"!==(xe=be[le])&&this.removeAllListeners(xe);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(se=de[ae]))this.removeListener(ae,se);else if(void 0!==se)for(le=se.length-1;le>=0;le--)this.removeListener(ae,se[le]);return this},z.prototype.listeners=function(ae){return D(this,ae,!0)},z.prototype.rawListeners=function(ae){return D(this,ae,!1)},z.listenerCount=function(ie,ae){return"function"==typeof ie.listenerCount?ie.listenerCount(ae):X.call(ie,ae)},z.prototype.listenerCount=X,z.prototype.eventNames=function(){return this._eventsCount>0?d(this._events):[]}},18211:(je,H,w)=>{var d=w(27054).Buffer,E=w(34725);je.exports=function k(z,x,O,A){if(d.isBuffer(z)||(z=d.from(z,"binary")),x&&(d.isBuffer(x)||(x=d.from(x,"binary")),8!==x.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var P=O/8,F=d.alloc(P),L=d.alloc(A||0),D=d.alloc(0);P>0||A>0;){var X=new E;X.update(D),X.update(z),x&&X.update(x),D=X.digest();var j=0;if(P>0){var G=F.length-P;j=Math.min(P,D.length),D.copy(F,G,0,j),P-=j}if(j<D.length&&A>0){var re=L.length-A,te=Math.min(A,D.length-j);D.copy(L,re,j,j+te),A-=te}}return D.fill(0),{key:F,iv:L}}},40362:je=>{"use strict";je.exports=function H(w,d){if(w===d)return!0;if(w&&d&&"object"==typeof w&&"object"==typeof d){if(w.constructor!==d.constructor)return!1;var E,k,z;if(Array.isArray(w)){if((E=w.length)!=d.length)return!1;for(k=E;0!=k--;)if(!H(w[k],d[k]))return!1;return!0}if(w.constructor===RegExp)return w.source===d.source&&w.flags===d.flags;if(w.valueOf!==Object.prototype.valueOf)return w.valueOf()===d.valueOf();if(w.toString!==Object.prototype.toString)return w.toString()===d.toString();if((E=(z=Object.keys(w)).length)!==Object.keys(d).length)return!1;for(k=E;0!=k--;)if(!Object.prototype.hasOwnProperty.call(d,z[k]))return!1;for(k=E;0!=k--;){var x=z[k];if(!H(w[x],d[x]))return!1}return!0}return w!=w&&d!=d}},13686:(je,H,w)=>{"use strict";var d=w(27054).Buffer,E=w(7045).Transform;function x(O){E.call(this),this._block=d.allocUnsafe(O),this._blockSize=O,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}w(71993)(x,E),x.prototype._transform=function(O,A,P){var F=null;try{this.update(O,A)}catch(L){F=L}P(F)},x.prototype._flush=function(O){var A=null;try{this.push(this.digest())}catch(P){A=P}O(A)},x.prototype.update=function(O,A){if(function z(O,A){if(!d.isBuffer(O)&&"string"!=typeof O)throw new TypeError(A+" must be a string or a buffer")}(O,"Data"),this._finalized)throw new Error("Digest already called");d.isBuffer(O)||(O=d.from(O,A));for(var P=this._block,F=0;this._blockOffset+O.length-F>=this._blockSize;){for(var L=this._blockOffset;L<this._blockSize;)P[L++]=O[F++];this._update(),this._blockOffset=0}for(;F<O.length;)P[this._blockOffset++]=O[F++];for(var D=0,X=8*O.length;X>0;++D)this._length[D]+=X,(X=this._length[D]/4294967296|0)>0&&(this._length[D]-=4294967296*X);return this},x.prototype._update=function(){throw new Error("_update is not implemented")},x.prototype.digest=function(O){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var A=this._digest();void 0!==O&&(A=A.toString(O)),this._block.fill(0),this._blockOffset=0;for(var P=0;P<4;++P)this._length[P]=0;return A},x.prototype._digest=function(){throw new Error("_digest is not implemented")},je.exports=x},52529:(je,H,w)=>{var d=H;d.utils=w(68283),d.common=w(12901),d.sha=w(78528),d.ripemd=w(15283),d.hmac=w(37163),d.sha1=d.sha.sha1,d.sha256=d.sha.sha256,d.sha224=d.sha.sha224,d.sha384=d.sha.sha384,d.sha512=d.sha.sha512,d.ripemd160=d.ripemd.ripemd160},12901:(je,H,w)=>{"use strict";var d=w(68283),E=w(39210);function k(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}H.BlockHash=k,k.prototype.update=function(x,O){if(x=d.toArray(x,O),this.pending=this.pending?this.pending.concat(x):x,this.pendingTotal+=x.length,this.pending.length>=this._delta8){var A=(x=this.pending).length%this._delta8;this.pending=x.slice(x.length-A,x.length),0===this.pending.length&&(this.pending=null),x=d.join32(x,0,x.length-A,this.endian);for(var P=0;P<x.length;P+=this._delta32)this._update(x,P,P+this._delta32)}return this},k.prototype.digest=function(x){return this.update(this._pad()),E(null===this.pending),this._digest(x)},k.prototype._pad=function(){var x=this.pendingTotal,O=this._delta8,A=O-(x+this.padLength)%O,P=new Array(A+this.padLength);P[0]=128;for(var F=1;F<A;F++)P[F]=0;if(x<<=3,"big"===this.endian){for(var L=8;L<this.padLength;L++)P[F++]=0;P[F++]=0,P[F++]=0,P[F++]=0,P[F++]=0,P[F++]=x>>>24&255,P[F++]=x>>>16&255,P[F++]=x>>>8&255,P[F++]=255&x}else for(P[F++]=255&x,P[F++]=x>>>8&255,P[F++]=x>>>16&255,P[F++]=x>>>24&255,P[F++]=0,P[F++]=0,P[F++]=0,P[F++]=0,L=8;L<this.padLength;L++)P[F++]=0;return P}},37163:(je,H,w)=>{"use strict";var d=w(68283),E=w(39210);function k(z,x,O){if(!(this instanceof k))return new k(z,x,O);this.Hash=z,this.blockSize=z.blockSize/8,this.outSize=z.outSize/8,this.inner=null,this.outer=null,this._init(d.toArray(x,O))}je.exports=k,k.prototype._init=function(x){x.length>this.blockSize&&(x=(new this.Hash).update(x).digest()),E(x.length<=this.blockSize);for(var O=x.length;O<this.blockSize;O++)x.push(0);for(O=0;O<x.length;O++)x[O]^=54;for(this.inner=(new this.Hash).update(x),O=0;O<x.length;O++)x[O]^=106;this.outer=(new this.Hash).update(x)},k.prototype.update=function(x,O){return this.inner.update(x,O),this},k.prototype.digest=function(x){return this.outer.update(this.inner.digest()),this.outer.digest(x)}},15283:(je,H,w)=>{"use strict";var d=w(68283),E=w(12901),k=d.rotl32,z=d.sum32,x=d.sum32_3,O=d.sum32_4,A=E.BlockHash;function P(){if(!(this instanceof P))return new P;A.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function F(te,J,Z,ie){return te<=15?J^Z^ie:te<=31?J&Z|~J&ie:te<=47?(J|~Z)^ie:te<=63?J&ie|Z&~ie:J^(Z|~ie)}function D(te){return te<=15?1352829926:te<=31?1548603684:te<=47?1836072691:te<=63?2053994217:0}d.inherits(P,A),H.ripemd160=P,P.blockSize=512,P.outSize=160,P.hmacStrength=192,P.padLength=64,P.prototype._update=function(J,Z){for(var ie=this.h[0],ae=this.h[1],se=this.h[2],de=this.h[3],le=this.h[4],be=ie,xe=ae,ke=se,C=de,a=le,f=0;f<80;f++){var y=z(k(O(ie,F(f,ae,se,de),J[X[f]+Z],(te=f)<=15?0:te<=31?1518500249:te<=47?1859775393:te<=63?2400959708:2840853838),G[f]),le);ie=le,le=de,de=k(se,10),se=ae,ae=y,y=z(k(O(be,F(79-f,xe,ke,C),J[j[f]+Z],D(f)),re[f]),a),be=a,a=C,C=k(ke,10),ke=xe,xe=y}var te;y=x(this.h[1],se,C),this.h[1]=x(this.h[2],de,a),this.h[2]=x(this.h[3],le,be),this.h[3]=x(this.h[4],ie,xe),this.h[4]=x(this.h[0],ae,ke),this.h[0]=y},P.prototype._digest=function(J){return"hex"===J?d.toHex32(this.h,"little"):d.split32(this.h,"little")};var X=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],j=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],G=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],re=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},78528:(je,H,w)=>{"use strict";H.sha1=w(33468),H.sha224=w(5563),H.sha256=w(27138),H.sha384=w(93898),H.sha512=w(10827)},33468:(je,H,w)=>{"use strict";var d=w(68283),E=w(12901),k=w(95542),z=d.rotl32,x=d.sum32,O=d.sum32_5,A=k.ft_1,P=E.BlockHash,F=[1518500249,1859775393,2400959708,3395469782];function L(){if(!(this instanceof L))return new L;P.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}d.inherits(L,P),je.exports=L,L.blockSize=512,L.outSize=160,L.hmacStrength=80,L.padLength=64,L.prototype._update=function(X,j){for(var G=this.W,re=0;re<16;re++)G[re]=X[j+re];for(;re<G.length;re++)G[re]=z(G[re-3]^G[re-8]^G[re-14]^G[re-16],1);var te=this.h[0],J=this.h[1],Z=this.h[2],ie=this.h[3],ae=this.h[4];for(re=0;re<G.length;re++){var se=~~(re/20),de=O(z(te,5),A(se,J,Z,ie),ae,G[re],F[se]);ae=ie,ie=Z,Z=z(J,30),J=te,te=de}this.h[0]=x(this.h[0],te),this.h[1]=x(this.h[1],J),this.h[2]=x(this.h[2],Z),this.h[3]=x(this.h[3],ie),this.h[4]=x(this.h[4],ae)},L.prototype._digest=function(X){return"hex"===X?d.toHex32(this.h,"big"):d.split32(this.h,"big")}},5563:(je,H,w)=>{"use strict";var d=w(68283),E=w(27138);function k(){if(!(this instanceof k))return new k;E.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}d.inherits(k,E),je.exports=k,k.blockSize=512,k.outSize=224,k.hmacStrength=192,k.padLength=64,k.prototype._digest=function(x){return"hex"===x?d.toHex32(this.h.slice(0,7),"big"):d.split32(this.h.slice(0,7),"big")}},27138:(je,H,w)=>{"use strict";var d=w(68283),E=w(12901),k=w(95542),z=w(39210),x=d.sum32,O=d.sum32_4,A=d.sum32_5,P=k.ch32,F=k.maj32,L=k.s0_256,D=k.s1_256,X=k.g0_256,j=k.g1_256,G=E.BlockHash,re=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function te(){if(!(this instanceof te))return new te;G.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=re,this.W=new Array(64)}d.inherits(te,G),je.exports=te,te.blockSize=512,te.outSize=256,te.hmacStrength=192,te.padLength=64,te.prototype._update=function(Z,ie){for(var ae=this.W,se=0;se<16;se++)ae[se]=Z[ie+se];for(;se<ae.length;se++)ae[se]=O(j(ae[se-2]),ae[se-7],X(ae[se-15]),ae[se-16]);var de=this.h[0],le=this.h[1],be=this.h[2],xe=this.h[3],ke=this.h[4],C=this.h[5],a=this.h[6],f=this.h[7];for(z(this.k.length===ae.length),se=0;se<ae.length;se++){var y=A(f,D(ke),P(ke,C,a),this.k[se],ae[se]),g=x(L(de),F(de,le,be));f=a,a=C,C=ke,ke=x(xe,y),xe=be,be=le,le=de,de=x(y,g)}this.h[0]=x(this.h[0],de),this.h[1]=x(this.h[1],le),this.h[2]=x(this.h[2],be),this.h[3]=x(this.h[3],xe),this.h[4]=x(this.h[4],ke),this.h[5]=x(this.h[5],C),this.h[6]=x(this.h[6],a),this.h[7]=x(this.h[7],f)},te.prototype._digest=function(Z){return"hex"===Z?d.toHex32(this.h,"big"):d.split32(this.h,"big")}},93898:(je,H,w)=>{"use strict";var d=w(68283),E=w(10827);function k(){if(!(this instanceof k))return new k;E.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}d.inherits(k,E),je.exports=k,k.blockSize=1024,k.outSize=384,k.hmacStrength=192,k.padLength=128,k.prototype._digest=function(x){return"hex"===x?d.toHex32(this.h.slice(0,12),"big"):d.split32(this.h.slice(0,12),"big")}},10827:(je,H,w)=>{"use strict";var d=w(68283),E=w(12901),k=w(39210),z=d.rotr64_hi,x=d.rotr64_lo,O=d.shr64_hi,A=d.shr64_lo,P=d.sum64,F=d.sum64_hi,L=d.sum64_lo,D=d.sum64_4_hi,X=d.sum64_4_lo,j=d.sum64_5_hi,G=d.sum64_5_lo,re=E.BlockHash,te=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function J(){if(!(this instanceof J))return new J;re.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=te,this.W=new Array(160)}function Z(y,g,M,T,B){var S=y&M^~y&B;return S<0&&(S+=4294967296),S}function ie(y,g,M,T,B,S){var s=g&T^~g&S;return s<0&&(s+=4294967296),s}function ae(y,g,M,T,B){var S=y&M^y&B^M&B;return S<0&&(S+=4294967296),S}function se(y,g,M,T,B,S){var s=g&T^g&S^T&S;return s<0&&(s+=4294967296),s}function de(y,g){var S=z(y,g,28)^z(g,y,2)^z(g,y,7);return S<0&&(S+=4294967296),S}function le(y,g){var S=x(y,g,28)^x(g,y,2)^x(g,y,7);return S<0&&(S+=4294967296),S}function be(y,g){var S=z(y,g,14)^z(y,g,18)^z(g,y,9);return S<0&&(S+=4294967296),S}function xe(y,g){var S=x(y,g,14)^x(y,g,18)^x(g,y,9);return S<0&&(S+=4294967296),S}function ke(y,g){var S=z(y,g,1)^z(y,g,8)^O(y,g,7);return S<0&&(S+=4294967296),S}function C(y,g){var S=x(y,g,1)^x(y,g,8)^A(y,g,7);return S<0&&(S+=4294967296),S}function a(y,g){var S=z(y,g,19)^z(g,y,29)^O(y,g,6);return S<0&&(S+=4294967296),S}function f(y,g){var S=x(y,g,19)^x(g,y,29)^A(y,g,6);return S<0&&(S+=4294967296),S}d.inherits(J,re),je.exports=J,J.blockSize=1024,J.outSize=512,J.hmacStrength=192,J.padLength=128,J.prototype._prepareBlock=function(g,M){for(var T=this.W,B=0;B<32;B++)T[B]=g[M+B];for(;B<T.length;B+=2){var S=a(T[B-4],T[B-3]),s=f(T[B-4],T[B-3]),v=T[B-14],W=T[B-13],K=ke(T[B-30],T[B-29]),ee=C(T[B-30],T[B-29]),ce=T[B-32],_e=T[B-31];T[B]=D(S,s,v,W,K,ee,ce,_e),T[B+1]=X(S,s,v,W,K,ee,ce,_e)}},J.prototype._update=function(g,M){this._prepareBlock(g,M);var T=this.W,B=this.h[0],S=this.h[1],s=this.h[2],v=this.h[3],W=this.h[4],K=this.h[5],ee=this.h[6],ce=this.h[7],_e=this.h[8],Oe=this.h[9],Ve=this.h[10],Se=this.h[11],we=this.h[12],Ue=this.h[13],ye=this.h[14],De=this.h[15];k(this.k.length===T.length);for(var pe=0;pe<T.length;pe+=2){var ue=ye,Q=De,oe=be(_e,Oe),fe=xe(_e,Oe),Ee=Z(_e,0,Ve,0,we),Re=ie(0,Oe,0,Se,0,Ue),$e=this.k[pe],Fe=this.k[pe+1],_t=T[pe],We=T[pe+1],Le=j(ue,Q,oe,fe,Ee,Re,$e,Fe,_t,We),lt=G(ue,Q,oe,fe,Ee,Re,$e,Fe,_t,We);ue=de(B,S),Q=le(B,S),oe=ae(B,0,s,0,W),fe=se(0,S,0,v,0,K);var N=F(ue,Q,oe,fe),_=L(ue,Q,oe,fe);ye=we,De=Ue,we=Ve,Ue=Se,Ve=_e,Se=Oe,_e=F(ee,ce,Le,lt),Oe=L(ce,ce,Le,lt),ee=W,ce=K,W=s,K=v,s=B,v=S,B=F(Le,lt,N,_),S=L(Le,lt,N,_)}P(this.h,0,B,S),P(this.h,2,s,v),P(this.h,4,W,K),P(this.h,6,ee,ce),P(this.h,8,_e,Oe),P(this.h,10,Ve,Se),P(this.h,12,we,Ue),P(this.h,14,ye,De)},J.prototype._digest=function(g){return"hex"===g?d.toHex32(this.h,"big"):d.split32(this.h,"big")}},95542:(je,H,w)=>{"use strict";var E=w(68283).rotr32;function z(D,X,j){return D&X^~D&j}function x(D,X,j){return D&X^D&j^X&j}function O(D,X,j){return D^X^j}H.ft_1=function k(D,X,j,G){return 0===D?z(X,j,G):1===D||3===D?O(X,j,G):2===D?x(X,j,G):void 0},H.ch32=z,H.maj32=x,H.p32=O,H.s0_256=function A(D){return E(D,2)^E(D,13)^E(D,22)},H.s1_256=function P(D){return E(D,6)^E(D,11)^E(D,25)},H.g0_256=function F(D){return E(D,7)^E(D,18)^D>>>3},H.g1_256=function L(D){return E(D,17)^E(D,19)^D>>>10}},68283:(je,H,w)=>{"use strict";var d=w(39210),E=w(71993);function k(f,y){return!(55296!=(64512&f.charCodeAt(y))||y<0||y+1>=f.length)&&56320==(64512&f.charCodeAt(y+1))}function O(f){return(f>>>24|f>>>8&65280|f<<8&16711680|(255&f)<<24)>>>0}function P(f){return 1===f.length?"0"+f:f}function F(f){return 7===f.length?"0"+f:6===f.length?"00"+f:5===f.length?"000"+f:4===f.length?"0000"+f:3===f.length?"00000"+f:2===f.length?"000000"+f:1===f.length?"0000000"+f:f}H.inherits=E,H.toArray=function z(f,y){if(Array.isArray(f))return f.slice();if(!f)return[];var g=[];if("string"==typeof f)if(y){if("hex"===y)for((f=f.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(f="0"+f),T=0;T<f.length;T+=2)g.push(parseInt(f[T]+f[T+1],16))}else for(var M=0,T=0;T<f.length;T++){var B=f.charCodeAt(T);B<128?g[M++]=B:B<2048?(g[M++]=B>>6|192,g[M++]=63&B|128):k(f,T)?(B=65536+((1023&B)<<10)+(1023&f.charCodeAt(++T)),g[M++]=B>>18|240,g[M++]=B>>12&63|128,g[M++]=B>>6&63|128,g[M++]=63&B|128):(g[M++]=B>>12|224,g[M++]=B>>6&63|128,g[M++]=63&B|128)}else for(T=0;T<f.length;T++)g[T]=0|f[T];return g},H.toHex=function x(f){for(var y="",g=0;g<f.length;g++)y+=P(f[g].toString(16));return y},H.htonl=O,H.toHex32=function A(f,y){for(var g="",M=0;M<f.length;M++){var T=f[M];"little"===y&&(T=O(T)),g+=F(T.toString(16))}return g},H.zero2=P,H.zero8=F,H.join32=function L(f,y,g,M){var T=g-y;d(T%4==0);for(var B=new Array(T/4),S=0,s=y;S<B.length;S++,s+=4)B[S]=("big"===M?f[s]<<24|f[s+1]<<16|f[s+2]<<8|f[s+3]:f[s+3]<<24|f[s+2]<<16|f[s+1]<<8|f[s])>>>0;return B},H.split32=function D(f,y){for(var g=new Array(4*f.length),M=0,T=0;M<f.length;M++,T+=4){var B=f[M];"big"===y?(g[T]=B>>>24,g[T+1]=B>>>16&255,g[T+2]=B>>>8&255,g[T+3]=255&B):(g[T+3]=B>>>24,g[T+2]=B>>>16&255,g[T+1]=B>>>8&255,g[T]=255&B)}return g},H.rotr32=function X(f,y){return f>>>y|f<<32-y},H.rotl32=function j(f,y){return f<<y|f>>>32-y},H.sum32=function G(f,y){return f+y>>>0},H.sum32_3=function re(f,y,g){return f+y+g>>>0},H.sum32_4=function te(f,y,g,M){return f+y+g+M>>>0},H.sum32_5=function J(f,y,g,M,T){return f+y+g+M+T>>>0},H.sum64=function Z(f,y,g,M){var S=M+f[y+1]>>>0;f[y]=(S<M?1:0)+g+f[y]>>>0,f[y+1]=S},H.sum64_hi=function ie(f,y,g,M){return(y+M>>>0<y?1:0)+f+g>>>0},H.sum64_lo=function ae(f,y,g,M){return y+M>>>0},H.sum64_4_hi=function se(f,y,g,M,T,B,S,s){var v=0,W=y;return v+=(W=W+M>>>0)<y?1:0,v+=(W=W+B>>>0)<B?1:0,f+g+T+S+(v+=(W=W+s>>>0)<s?1:0)>>>0},H.sum64_4_lo=function de(f,y,g,M,T,B,S,s){return y+M+B+s>>>0},H.sum64_5_hi=function le(f,y,g,M,T,B,S,s,v,W){var K=0,ee=y;return K+=(ee=ee+M>>>0)<y?1:0,K+=(ee=ee+B>>>0)<B?1:0,K+=(ee=ee+s>>>0)<s?1:0,f+g+T+S+v+(K+=(ee=ee+W>>>0)<W?1:0)>>>0},H.sum64_5_lo=function be(f,y,g,M,T,B,S,s,v,W){return y+M+B+s+W>>>0},H.rotr64_hi=function xe(f,y,g){return(y<<32-g|f>>>g)>>>0},H.rotr64_lo=function ke(f,y,g){return(f<<32-g|y>>>g)>>>0},H.shr64_hi=function C(f,y,g){return f>>>g},H.shr64_lo=function a(f,y,g){return(f<<32-g|y>>>g)>>>0}},33556:(je,H,w)=>{"use strict";var d=w(52529),E=w(21832),k=w(39210);function z(x){if(!(this instanceof z))return new z(x);this.hash=x.hash,this.predResist=!!x.predResist,this.outLen=this.hash.outSize,this.minEntropy=x.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var O=E.toArray(x.entropy,x.entropyEnc||"hex"),A=E.toArray(x.nonce,x.nonceEnc||"hex"),P=E.toArray(x.pers,x.persEnc||"hex");k(O.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(O,A,P)}je.exports=z,z.prototype._init=function(O,A,P){var F=O.concat(A).concat(P);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var L=0;L<this.V.length;L++)this.K[L]=0,this.V[L]=1;this._update(F),this._reseed=1,this.reseedInterval=281474976710656},z.prototype._hmac=function(){return new d.hmac(this.hash,this.K)},z.prototype._update=function(O){var A=this._hmac().update(this.V).update([0]);O&&(A=A.update(O)),this.K=A.digest(),this.V=this._hmac().update(this.V).digest(),O&&(this.K=this._hmac().update(this.V).update([1]).update(O).digest(),this.V=this._hmac().update(this.V).digest())},z.prototype.reseed=function(O,A,P,F){"string"!=typeof A&&(F=P,P=A,A=null),O=E.toArray(O,A),P=E.toArray(P,F),k(O.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(O.concat(P||[])),this._reseed=1},z.prototype.generate=function(O,A,P,F){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof A&&(F=P,P=A,A=null),P&&(P=E.toArray(P,F||"hex"),this._update(P));for(var L=[];L.length<O;)this.V=this._hmac().update(this.V).digest(),L=L.concat(this.V);var D=L.slice(0,O);return this._update(P),this._reseed++,E.encode(D,A)}},22020:(je,H)=>{H.read=function(w,d,E,k,z){var x,O,A=8*z-k-1,P=(1<<A)-1,F=P>>1,L=-7,D=E?z-1:0,X=E?-1:1,j=w[d+D];for(D+=X,x=j&(1<<-L)-1,j>>=-L,L+=A;L>0;x=256*x+w[d+D],D+=X,L-=8);for(O=x&(1<<-L)-1,x>>=-L,L+=k;L>0;O=256*O+w[d+D],D+=X,L-=8);if(0===x)x=1-F;else{if(x===P)return O?NaN:1/0*(j?-1:1);O+=Math.pow(2,k),x-=F}return(j?-1:1)*O*Math.pow(2,x-k)},H.write=function(w,d,E,k,z,x){var O,A,P,F=8*x-z-1,L=(1<<F)-1,D=L>>1,X=23===z?Math.pow(2,-24)-Math.pow(2,-77):0,j=k?0:x-1,G=k?1:-1,re=d<0||0===d&&1/d<0?1:0;for(d=Math.abs(d),isNaN(d)||d===1/0?(A=isNaN(d)?1:0,O=L):(O=Math.floor(Math.log(d)/Math.LN2),d*(P=Math.pow(2,-O))<1&&(O--,P*=2),(d+=O+D>=1?X/P:X*Math.pow(2,1-D))*P>=2&&(O++,P/=2),O+D>=L?(A=0,O=L):O+D>=1?(A=(d*P-1)*Math.pow(2,z),O+=D):(A=d*Math.pow(2,D-1)*Math.pow(2,z),O=0));z>=8;w[E+j]=255&A,j+=G,A/=256,z-=8);for(O=O<<z|A,F+=z;F>0;w[E+j]=255&O,j+=G,O/=256,F-=8);w[E+j-G]|=128*re}},71993:je=>{je.exports="function"==typeof Object.create?function(w,d){d&&(w.super_=d,w.prototype=Object.create(d.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}))}:function(w,d){if(d){w.super_=d;var E=function(){};E.prototype=d.prototype,w.prototype=new E,w.prototype.constructor=w}}},42853:je=>{"use strict";function H(d,E){for(const k in E)Object.defineProperty(d,k,{value:E[k],enumerable:!0,configurable:!0});return d}je.exports=function w(d,E,k){if(!d||"string"==typeof d)throw new TypeError("Please pass an Error to err-code");k||(k={}),"object"==typeof E&&(k=E,E=""),E&&(k.code=E);try{return H(d,k)}catch{k.message=d.message,k.stack=d.stack;const x=function(){};return x.prototype=Object.create(Object.getPrototypeOf(d)),H(new x,k)}}},5014:je=>{"use strict";function H(d,E){for(const k in E)Object.defineProperty(d,k,{value:E[k],enumerable:!0,configurable:!0});return d}je.exports=function w(d,E,k){if(!d||"string"==typeof d)throw new TypeError("Please pass an Error to err-code");k||(k={}),"object"==typeof E&&(k=E,E=""),E&&(k.code=E);try{return H(d,k)}catch{k.message=d.message,k.stack=d.stack;const x=function(){};return x.prototype=Object.create(Object.getPrototypeOf(d)),H(new x,k)}}},3087:je=>{"use strict";function H(d,E){for(const k in E)Object.defineProperty(d,k,{value:E[k],enumerable:!0,configurable:!0});return d}je.exports=function w(d,E,k){if(!d||"string"==typeof d)throw new TypeError("Please pass an Error to err-code");k||(k={}),"object"==typeof E&&(k=E,E=""),E&&(k.code=E);try{return H(d,k)}catch{k.message=d.message,k.stack=d.stack;const x=function(){};return x.prototype=Object.create(Object.getPrototypeOf(d)),H(new x,k)}}},20053:je=>{var H={}.toString;je.exports=Array.isArray||function(w){return"[object Array]"==H.call(w)}},89994:function(je){je.exports=function(){"use strict";var H=Math.imul,w=Math.clz32;function d(le){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(be){return typeof be}:function(be){return be&&"function"==typeof Symbol&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be})(le)}function k(le,be){for(var xe,ke=0;ke<be.length;ke++)(xe=be[ke]).enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(le,xe.key,xe)}function O(le){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(be){return be.__proto__||Object.getPrototypeOf(be)})(le)}function A(le,be){return(A=Object.setPrototypeOf||function(xe,ke){return xe.__proto__=ke,xe})(le,be)}function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function F(){return(F=P()?Reflect.construct:function(le,be,xe){var ke=[null];ke.push.apply(ke,be);var a=new(Function.bind.apply(le,ke));return xe&&A(a,xe.prototype),a}).apply(null,arguments)}function D(le){var be="function"==typeof Map?new Map:void 0;return D=function(xe){function ke(){return F(xe,arguments,O(this).constructor)}if(null===xe||!function L(le){return-1!==Function.toString.call(le).indexOf("[native code]")}(xe))return xe;if("function"!=typeof xe)throw new TypeError("Super expression must either be null or a function");if(typeof be<"u"){if(be.has(xe))return be.get(xe);be.set(xe,ke)}return ke.prototype=Object.create(xe.prototype,{constructor:{value:ke,enumerable:!1,writable:!0,configurable:!0}}),A(ke,xe)},D(le)}function X(le){if(void 0===le)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le}function G(le){var be=P();return function(){var xe,ke=O(le);if(be){var C=O(this).constructor;xe=Reflect.construct(ke,arguments,C)}else xe=ke.apply(this,arguments);return function j(le,be){if(be&&("object"==typeof be||"function"==typeof be))return be;if(void 0!==be)throw new TypeError("Derived constructors may only return object or undefined");return X(le)}(this,xe)}}function re(le,be){return function te(le){if(Array.isArray(le))return le}(le)||function J(le,be){var xe=null==le?null:typeof Symbol<"u"&&le[Symbol.iterator]||le["@@iterator"];if(null!=xe){var ke,C,a=[],f=!0,y=!1;try{for(xe=xe.call(le);!(f=(ke=xe.next()).done)&&(a.push(ke.value),!be||a.length!==be);f=!0);}catch(g){y=!0,C=g}finally{try{f||null==xe.return||xe.return()}finally{if(y)throw C}}return a}}(le,be)||Z(le,be)||function ae(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(le,be){if(le){if("string"==typeof le)return ie(le,be);var xe=Object.prototype.toString.call(le).slice(8,-1);return"Object"===xe&&le.constructor&&(xe=le.constructor.name),"Map"===xe||"Set"===xe?Array.from(le):"Arguments"===xe||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe)?ie(le,be):void 0}}function ie(le,be){(null==be||be>le.length)&&(be=le.length);for(var xe=0,ke=Array(be);xe<be;xe++)ke[xe]=le[xe];return ke}var de=function(le){var be=Math.abs,xe=Math.max,ke=Math.floor;function C(f,y){var g;if(function E(le,be){if(!(le instanceof be))throw new TypeError("Cannot call a class as a function")}(this,C),(g=a.call(this,f)).sign=y,Object.setPrototypeOf(X(g),C.prototype),f>C.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return g}!function x(le,be){if("function"!=typeof be&&null!==be)throw new TypeError("Super expression must either be null or a function");le.prototype=Object.create(be&&be.prototype,{constructor:{value:le,writable:!0,configurable:!0}}),Object.defineProperty(le,"prototype",{writable:!1}),be&&A(le,be)}(C,le);var a=G(C);return function z(le,be,xe){return be&&k(le.prototype,be),xe&&k(le,xe),Object.defineProperty(le,"prototype",{writable:!1}),le}(C,[{key:"toDebugString",value:function(){var f,y=["BigInt["],g=function se(le,be){var xe=typeof Symbol<"u"&&le[Symbol.iterator]||le["@@iterator"];if(!xe){if(Array.isArray(le)||(xe=Z(le))||be&&le&&"number"==typeof le.length){xe&&(le=xe);var ke=0,C=function(){};return{s:C,n:function(){return ke>=le.length?{done:!0}:{done:!1,value:le[ke++]}},e:function(g){throw g},f:C}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,f=!0,y=!1;return{s:function(){xe=xe.call(le)},n:function(){var g=xe.next();return f=g.done,g},e:function(g){y=!0,a=g},f:function(){try{f||null==xe.return||xe.return()}finally{if(y)throw a}}}}(this);try{for(g.s();!(f=g.n()).done;){var M=f.value;y.push((M&&(M>>>0).toString(16))+", ")}}catch(T){g.e(T)}finally{g.f()}return y.push("]"),y.join("")}},{key:"toString",value:function(){var f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>f||36<f)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":f&f-1?C.__toStringGeneric(this,f,!1):C.__toStringBasePowerOfTwo(this,f)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var f=new C(this.length,this.sign),y=0;y<this.length;y++)f[y]=this[y];return f}},{key:"__trim",value:function(){for(var f=this.length,y=this[f-1];0===y;)y=this[--f-1],this.pop();return 0===f&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var f=0;f<this.length;f++)this[f]=0}},{key:"__clzmsd",value:function(){return C.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(f,y,g){g>this.length&&(g=this.length);for(var M=32767&f,T=f>>>15,B=0,S=y,s=0;s<g;s++){var v=this.__digit(s),W=32767&v,K=v>>>15,ee=C.__imul(W,M),ce=C.__imul(W,T),_e=C.__imul(K,M),Ve=S+ee+B;B=Ve>>>30,Ve&=1073741823,B+=(Ve+=((32767&ce)<<15)+((32767&_e)<<15))>>>30,S=C.__imul(K,T)+(ce>>>15)+(_e>>>15),this.__setDigit(s,1073741823&Ve)}if(0!==B||0!==S)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(f,y,g){for(var M,T=0,B=0;B<g;B++)T=(M=this.__halfDigit(y+B)+f.__halfDigit(B)+T)>>>15,this.__setHalfDigit(y+B,32767&M);return T}},{key:"__inplaceSub",value:function(f,y,g){var M=0;if(1&y){for(var T=this.__digit(y>>=1),B=32767&T,S=0;S<g-1>>>1;S++){var s=f.__digit(S),v=(T>>>15)-(32767&s)-M;M=1&v>>>15,this.__setDigit(y+S,(32767&v)<<15|32767&B),M=1&(B=(32767&(T=this.__digit(y+S+1)))-(s>>>15)-M)>>>15}var W=f.__digit(S),K=(T>>>15)-(32767&W)-M;if(M=1&K>>>15,this.__setDigit(y+S,(32767&K)<<15|32767&B),y+S+1>=this.length)throw new RangeError("out of bounds");!(1&g)&&(M=1&(B=(32767&(T=this.__digit(y+S+1)))-(W>>>15)-M)>>>15,this.__setDigit(y+f.length,1073709056&T|32767&B))}else{y>>=1;for(var ee=0;ee<f.length-1;ee++){var ce=this.__digit(y+ee),_e=f.__digit(ee),Oe=(32767&ce)-(32767&_e)-M,Ve=(ce>>>15)-(_e>>>15)-(M=1&Oe>>>15);M=1&Ve>>>15,this.__setDigit(y+ee,(32767&Ve)<<15|32767&Oe)}var Se=this.__digit(y+ee),we=f.__digit(ee),Ue=(32767&Se)-(32767&we)-M;M=1&Ue>>>15;var ye=0;!(1&g)&&(M=1&(ye=(Se>>>15)-(we>>>15)-M)>>>15),this.__setDigit(y+ee,(32767&ye)<<15|32767&Ue)}return M}},{key:"__inplaceRightShift",value:function(f){if(0!==f){for(var y,g=this.__digit(0)>>>f,M=this.length-1,T=0;T<M;T++)y=this.__digit(T+1),this.__setDigit(T,1073741823&y<<30-f|g),g=y>>>f;this.__setDigit(M,g)}}},{key:"__digit",value:function(f){return this[f]}},{key:"__unsignedDigit",value:function(f){return this[f]>>>0}},{key:"__setDigit",value:function(f,y){this[f]=0|y}},{key:"__setDigitGrow",value:function(f,y){this[f]=0|y}},{key:"__halfDigitLength",value:function(){var f=this.length;return 32767>=this.__unsignedDigit(f-1)?2*f-1:2*f}},{key:"__halfDigit",value:function(f){return 32767&this[f>>>1]>>>15*(1&f)}},{key:"__setHalfDigit",value:function(f,y){var g=f>>>1,M=this.__digit(g);this.__setDigit(g,1&f?32767&M|y<<15:1073709056&M|32767&y)}}],[{key:"BigInt",value:function(f){var y=Number.isFinite;if("number"==typeof f){if(0===f)return C.__zero();if(C.__isOneDigitInt(f))return 0>f?C.__oneDigit(-f,!0):C.__oneDigit(f,!1);if(!y(f)||ke(f)!==f)throw new RangeError("The number "+f+" cannot be converted to BigInt because it is not an integer");return C.__fromDouble(f)}if("string"==typeof f){var g=C.__fromString(f);if(null===g)throw new SyntaxError("Cannot convert "+f+" to a BigInt");return g}if("boolean"==typeof f)return!0===f?C.__oneDigit(1,!1):C.__zero();if("object"===d(f)){if(f.constructor===C)return f;var M=C.__toPrimitive(f);return C.BigInt(M)}throw new TypeError("Cannot convert "+f+" to a BigInt")}},{key:"toNumber",value:function(f){var y=f.length;if(0===y)return 0;if(1===y){var g=f.__unsignedDigit(0);return f.sign?-g:g}var M=f.__digit(y-1),T=C.__clz30(M),B=30*y-T;if(1024<B)return f.sign?-1/0:1/0;var S=B-1,s=M,v=y-1,W=T+3,K=32===W?0:s<<W;K>>>=12;var ee=W-12,ce=12<=W?0:s<<20+W,_e=20+W;for(0<ee&&0<v&&(v--,K|=(s=f.__digit(v))>>>30-ee,ce=s<<ee+2,_e=ee+2);0<_e&&0<v;)v--,s=f.__digit(v),ce|=30<=_e?s<<_e-30:s>>>30-_e,_e-=30;var Oe=C.__decideRounding(f,_e,v,s);return 1!==Oe&&(0!==Oe||1&~ce)||0!=(ce=ce+1>>>0)||!(++K>>>20!=0&&(K=0,1023<++S))?(C.__kBitConversionInts[1]=(f.sign?-2147483648:0)|(S=S+1023<<20)|K,C.__kBitConversionInts[0]=ce,C.__kBitConversionDouble[0]):f.sign?-1/0:1/0}},{key:"unaryMinus",value:function(f){if(0===f.length)return f;var y=f.__copy();return y.sign=!f.sign,y}},{key:"bitwiseNot",value:function(f){return f.sign?C.__absoluteSubOne(f).__trim():C.__absoluteAddOne(f,!0)}},{key:"exponentiate",value:function(f,y){if(y.sign)throw new RangeError("Exponent must be positive");if(0===y.length)return C.__oneDigit(1,!1);if(0===f.length)return f;if(1===f.length&&1===f.__digit(0))return!f.sign||1&y.__digit(0)?f:C.unaryMinus(f);if(1<y.length)throw new RangeError("BigInt too big");var g=y.__unsignedDigit(0);if(1===g)return f;if(g>=C.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===f.length&&2===f.__digit(0)){var M=1+(0|g/30),B=new C(M,f.sign&&!!(1&g));return B.__initializeDigits(),B.__setDigit(M-1,1<<g%30),B}var s=null,v=f;for(1&g&&(s=f),g>>=1;0!==g;g>>=1)v=C.multiply(v,v),1&g&&(s=null===s?v:C.multiply(s,v));return s}},{key:"multiply",value:function(f,y){if(0===f.length)return f;if(0===y.length)return y;var g=f.length+y.length;30<=f.__clzmsd()+y.__clzmsd()&&g--;var M=new C(g,f.sign!==y.sign);M.__initializeDigits();for(var T=0;T<f.length;T++)C.__multiplyAccumulate(y,f.__digit(T),M,T);return M.__trim()}},{key:"divide",value:function(f,y){if(0===y.length)throw new RangeError("Division by zero");if(0>C.__absoluteCompare(f,y))return C.__zero();var g,M=f.sign!==y.sign,T=y.__unsignedDigit(0);if(1===y.length&&32767>=T){if(1===T)return M===f.sign?f:C.unaryMinus(f);g=C.__absoluteDivSmall(f,T,null)}else g=C.__absoluteDivLarge(f,y,!0,!1);return g.sign=M,g.__trim()}},{key:"remainder",value:function(y,g){if(0===g.length)throw new RangeError("Division by zero");if(0>C.__absoluteCompare(y,g))return y;var M=g.__unsignedDigit(0);if(1===g.length&&32767>=M){if(1===M)return C.__zero();var T=C.__absoluteModSmall(y,M);return 0===T?C.__zero():C.__oneDigit(T,y.sign)}var B=C.__absoluteDivLarge(y,g,!1,!0);return B.sign=y.sign,B.__trim()}},{key:"add",value:function(f,y){var g=f.sign;return g===y.sign?C.__absoluteAdd(f,y,g):0<=C.__absoluteCompare(f,y)?C.__absoluteSub(f,y,g):C.__absoluteSub(y,f,!g)}},{key:"subtract",value:function(f,y){var g=f.sign;return g===y.sign?0<=C.__absoluteCompare(f,y)?C.__absoluteSub(f,y,g):C.__absoluteSub(y,f,!g):C.__absoluteAdd(f,y,g)}},{key:"leftShift",value:function(f,y){return 0===y.length||0===f.length?f:y.sign?C.__rightShiftByAbsolute(f,y):C.__leftShiftByAbsolute(f,y)}},{key:"signedRightShift",value:function(f,y){return 0===y.length||0===f.length?f:y.sign?C.__leftShiftByAbsolute(f,y):C.__rightShiftByAbsolute(f,y)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(f,y){return 0>C.__compareToBigInt(f,y)}},{key:"lessThanOrEqual",value:function(f,y){return 0>=C.__compareToBigInt(f,y)}},{key:"greaterThan",value:function(f,y){return 0<C.__compareToBigInt(f,y)}},{key:"greaterThanOrEqual",value:function(f,y){return 0<=C.__compareToBigInt(f,y)}},{key:"equal",value:function(f,y){if(f.sign!==y.sign||f.length!==y.length)return!1;for(var g=0;g<f.length;g++)if(f.__digit(g)!==y.__digit(g))return!1;return!0}},{key:"notEqual",value:function(f,y){return!C.equal(f,y)}},{key:"bitwiseAnd",value:function(f,y){if(!f.sign&&!y.sign)return C.__absoluteAnd(f,y).__trim();if(f.sign&&y.sign){var g=xe(f.length,y.length)+1,M=C.__absoluteSubOne(f,g),T=C.__absoluteSubOne(y);return M=C.__absoluteOr(M,T,M),C.__absoluteAddOne(M,!0,M).__trim()}if(f.sign){var B=[y,f];f=B[0],y=B[1]}return C.__absoluteAndNot(f,C.__absoluteSubOne(y)).__trim()}},{key:"bitwiseXor",value:function(f,y){if(!f.sign&&!y.sign)return C.__absoluteXor(f,y).__trim();if(f.sign&&y.sign){var g=xe(f.length,y.length),M=C.__absoluteSubOne(f,g),T=C.__absoluteSubOne(y);return C.__absoluteXor(M,T,M).__trim()}var B=xe(f.length,y.length)+1;if(f.sign){var S=[y,f];f=S[0],y=S[1]}var s=C.__absoluteSubOne(y,B);return s=C.__absoluteXor(s,f,s),C.__absoluteAddOne(s,!0,s).__trim()}},{key:"bitwiseOr",value:function(f,y){var g=xe(f.length,y.length);if(!f.sign&&!y.sign)return C.__absoluteOr(f,y).__trim();if(f.sign&&y.sign){var M=C.__absoluteSubOne(f,g),T=C.__absoluteSubOne(y);return M=C.__absoluteAnd(M,T,M),C.__absoluteAddOne(M,!0,M).__trim()}if(f.sign){var B=[y,f];f=B[0],y=B[1]}var S=C.__absoluteSubOne(y,g);return S=C.__absoluteAndNot(S,f,S),C.__absoluteAddOne(S,!0,S).__trim()}},{key:"asIntN",value:function(f,y){if(0===y.length)return y;if(0>(f=ke(f)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===f)return C.__zero();if(f>=C.__kMaxLengthBits)return y;var g=0|(f+29)/30;if(y.length<g)return y;var M=y.__unsignedDigit(g-1),T=1<<(f-1)%30;if(y.length===g&&M<T)return y;if((M&T)!==T)return C.__truncateToNBits(f,y);if(!y.sign)return C.__truncateAndSubFromPowerOfTwo(f,y,!0);if(!(M&T-1)){for(var B=g-2;0<=B;B--)if(0!==y.__digit(B))return C.__truncateAndSubFromPowerOfTwo(f,y,!1);return y.length===g&&M===T?y:C.__truncateToNBits(f,y)}return C.__truncateAndSubFromPowerOfTwo(f,y,!1)}},{key:"asUintN",value:function(f,y){if(0===y.length)return y;if(0>(f=ke(f)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===f)return C.__zero();if(y.sign){if(f>C.__kMaxLengthBits)throw new RangeError("BigInt too big");return C.__truncateAndSubFromPowerOfTwo(f,y,!1)}if(f>=C.__kMaxLengthBits)return y;var g=0|(f+29)/30;if(y.length<g)return y;var M=f%30;if(y.length==g){if(0===M)return y;if(!(y.__digit(g-1)>>>M))return y}return C.__truncateToNBits(f,y)}},{key:"ADD",value:function(f,y){if(f=C.__toPrimitive(f),y=C.__toPrimitive(y),"string"==typeof f)return"string"!=typeof y&&(y=y.toString()),f+y;if("string"==typeof y)return f.toString()+y;if(f=C.__toNumeric(f),y=C.__toNumeric(y),C.__isBigInt(f)&&C.__isBigInt(y))return C.add(f,y);if("number"==typeof f&&"number"==typeof y)return f+y;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(f,y){return C.__compare(f,y,0)}},{key:"LE",value:function(f,y){return C.__compare(f,y,1)}},{key:"GT",value:function(f,y){return C.__compare(f,y,2)}},{key:"GE",value:function(f,y){return C.__compare(f,y,3)}},{key:"EQ",value:function(f,y){for(;;){if(C.__isBigInt(f))return C.__isBigInt(y)?C.equal(f,y):C.EQ(y,f);if("number"==typeof f){if(C.__isBigInt(y))return C.__equalToNumber(y,f);if("object"!==d(y))return f==y;y=C.__toPrimitive(y)}else if("string"==typeof f){if(C.__isBigInt(y))return null!==(f=C.__fromString(f))&&C.equal(f,y);if("object"!==d(y))return f==y;y=C.__toPrimitive(y)}else if("boolean"==typeof f){if(C.__isBigInt(y))return C.__equalToNumber(y,+f);if("object"!==d(y))return f==y;y=C.__toPrimitive(y)}else if("symbol"===d(f)){if(C.__isBigInt(y))return!1;if("object"!==d(y))return f==y;y=C.__toPrimitive(y)}else{if("object"!==d(f))return f==y;if("object"===d(y)&&y.constructor!==C)return f==y;f=C.__toPrimitive(f)}}}},{key:"NE",value:function(f,y){return!C.EQ(f,y)}},{key:"DataViewGetBigInt64",value:function(f,y){return C.asIntN(64,C.DataViewGetBigUint64(f,y,2<arguments.length&&void 0!==arguments[2]&&arguments[2]))}},{key:"DataViewGetBigUint64",value:function(f,y){var g=2<arguments.length&&void 0!==arguments[2]&&arguments[2],T=re(g?[4,0]:[0,4],2),S=T[1],s=f.getUint32(y+T[0],g),v=f.getUint32(y+S,g),W=new C(3,!1);return W.__setDigit(0,1073741823&v),W.__setDigit(1,(268435455&s)<<2|v>>>30),W.__setDigit(2,s>>>28),W.__trim()}},{key:"DataViewSetBigInt64",value:function(f,y,g){C.DataViewSetBigUint64(f,y,g,3<arguments.length&&void 0!==arguments[3]&&arguments[3])}},{key:"DataViewSetBigUint64",value:function(f,y,g){var M=3<arguments.length&&void 0!==arguments[3]&&arguments[3],T=0,B=0;if(0<(g=C.asUintN(64,g)).length&&(B=g.__digit(0),1<g.length)){var S=g.__digit(1);B|=S<<30,T=S>>>2,2<g.length&&(T|=g.__digit(2)<<28)}var v=re(M?[4,0]:[0,4],2),K=v[1];f.setUint32(y+v[0],T,M),f.setUint32(y+K,B,M)}},{key:"__zero",value:function(){return new C(0,!1)}},{key:"__oneDigit",value:function(f,y){var g=new C(1,y);return g.__setDigit(0,f),g}},{key:"__decideRounding",value:function(f,y,g,M){if(0<y)return-1;var T;if(0>y)T=-y-1;else{if(0===g)return-1;g--,M=f.__digit(g),T=29}var B=1<<T;if(!(M&B))return-1;if(M&(B-=1))return 1;for(;0<g;)if(g--,0!==f.__digit(g))return 1;return 0}},{key:"__fromDouble",value:function(f){C.__kBitConversionDouble[0]=f;var y,M=(2047&C.__kBitConversionInts[1]>>>20)-1023,T=1+(0|M/30),B=new C(T,0>f),S=1048575&C.__kBitConversionInts[1]|1048576,s=C.__kBitConversionInts[0],W=M%30,K=0;if(W<20){var ee=20-W;K=ee+32,y=S>>>ee,S=S<<32-ee|s>>>ee,s<<=32-ee}else if(20===W)K=32,y=S,S=s,s=0;else{var ce=W-20;K=32-ce,y=S<<ce|s>>>32-ce,S=s<<ce,s=0}B.__setDigit(T-1,y);for(var _e=T-2;0<=_e;_e--)0<K?(K-=30,y=S>>>2,S=S<<30|s>>>2,s<<=30):y=0,B.__setDigit(_e,y);return B.__trim()}},{key:"__isWhitespace",value:function(f){return 13>=f&&9<=f||(159>=f?32==f:131071>=f?160==f||5760==f:196607>=f?10>=(f&=131071)||40==f||41==f||47==f||95==f||4096==f:65279==f)}},{key:"__fromString",value:function(f){var y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,g=0,M=f.length,T=0;if(T===M)return C.__zero();for(var B=f.charCodeAt(T);C.__isWhitespace(B);){if(++T===M)return C.__zero();B=f.charCodeAt(T)}if(43===B){if(++T===M)return null;B=f.charCodeAt(T),g=1}else if(45===B){if(++T===M)return null;B=f.charCodeAt(T),g=-1}if(0===y){if(y=10,48===B){if(++T===M)return C.__zero();if(88===(B=f.charCodeAt(T))||120===B){if(y=16,++T===M)return null;B=f.charCodeAt(T)}else if(79===B||111===B){if(y=8,++T===M)return null;B=f.charCodeAt(T)}else if(66===B||98===B){if(y=2,++T===M)return null;B=f.charCodeAt(T)}}}else if(16===y&&48===B){if(++T===M)return C.__zero();if(88===(B=f.charCodeAt(T))||120===B){if(++T===M)return null;B=f.charCodeAt(T)}}if(0!==g&&10!==y)return null;for(;48===B;){if(++T===M)return C.__zero();B=f.charCodeAt(T)}var S=M-T,s=C.__kMaxBitsPerChar[y],v=C.__kBitsPerCharTableMultiplier-1;if(S>1073741824/s)return null;var K=new C(0|(29+(s*S+v>>>C.__kBitsPerCharTableShift))/30,!1),ee=10>y?y:10,ce=10<y?y-10:0;if(y&y-1){K.__initializeDigits();var ye=!1,De=0;do{for(var pe,ue=0,Q=1;;){if(pe=void 0,B-48>>>0<ee)pe=B-48;else{if(!((32|B)-97>>>0<ce)){ye=!0;break}pe=(32|B)-87}var oe=Q*y;if(1073741823<oe)break;if(Q=oe,ue=ue*y+pe,De++,++T===M){ye=!0;break}B=f.charCodeAt(T)}K.__inplaceMultiplyAdd(Q,ue,0|(s*De+(v=30*C.__kBitsPerCharTableMultiplier-1)>>>C.__kBitsPerCharTableShift)/30)}while(!ye)}else{s>>=C.__kBitsPerCharTableShift;var _e=[],Oe=[],Ve=!1;do{for(var Se,we=0,Ue=0;;){if(Se=void 0,B-48>>>0<ee)Se=B-48;else{if(!((32|B)-97>>>0<ce)){Ve=!0;break}Se=(32|B)-87}if(Ue+=s,we=we<<s|Se,++T===M){Ve=!0;break}if(B=f.charCodeAt(T),30<Ue+s)break}_e.push(we),Oe.push(Ue)}while(!Ve);C.__fillFromParts(K,_e,Oe)}if(T!==M){if(!C.__isWhitespace(B))return null;for(T++;T<M;T++)if(B=f.charCodeAt(T),!C.__isWhitespace(B))return null}return K.sign=-1===g,K.__trim()}},{key:"__fillFromParts",value:function(f,y,g){for(var M=0,T=0,B=0,S=y.length-1;0<=S;S--){var s=y[S],v=g[S];T|=s<<B,30===(B+=v)?(f.__setDigit(M++,T),B=0,T=0):30<B&&(f.__setDigit(M++,1073741823&T),T=s>>>v-(B-=30))}if(0!==T){if(M>=f.length)throw new Error("implementation bug");f.__setDigit(M++,T)}for(;M<f.length;M++)f.__setDigit(M,0)}},{key:"__toStringBasePowerOfTwo",value:function(f,y){var g=f.length,M=y-1,T=M=(15&(M=(51&(M=(85&M>>>1)+(85&M))>>>2)+(51&M))>>>4)+(15&M),B=y-1,S=f.__digit(g-1),v=0|(30*g-C.__clz30(S)+T-1)/T;if(f.sign&&v++,268435456<v)throw new Error("string too long");for(var W=Array(v),K=v-1,ee=0,ce=0,_e=0;_e<g-1;_e++){var Oe=f.__digit(_e);W[K--]=C.__kConversionChars[(ee|Oe<<ce)&B];var Se=T-ce;for(ee=Oe>>>Se,ce=30-Se;ce>=T;)W[K--]=C.__kConversionChars[ee&B],ee>>>=T,ce-=T}for(W[K--]=C.__kConversionChars[(ee|S<<ce)&B],ee=S>>>T-ce;0!==ee;)W[K--]=C.__kConversionChars[ee&B],ee>>>=T;if(f.sign&&(W[K--]="-"),-1!==K)throw new Error("implementation bug");return W.join("")}},{key:"__toStringGeneric",value:function(f,y,g){var M=f.length;if(0===M)return"";if(1===M){var T=f.__unsignedDigit(0).toString(y);return!1===g&&f.sign&&(T="-"+T),T}var W,K,B=30*M-C.__clz30(f.__digit(M-1)),s=C.__kMaxBitsPerChar[y]-1,v=B*C.__kBitsPerCharTableMultiplier,ee=1+(v=0|(v+=s-1)/s)>>1,ce=C.exponentiate(C.__oneDigit(y,!1),C.__oneDigit(ee,!1)),_e=ce.__unsignedDigit(0);if(1===ce.length&&32767>=_e){(W=new C(f.length,!1)).__initializeDigits();for(var Oe,Ve=0,Se=2*f.length-1;0<=Se;Se--)Oe=Ve<<15|f.__halfDigit(Se),W.__setHalfDigit(Se,0|Oe/_e),Ve=0|Oe%_e;K=Ve.toString(y)}else{var we=C.__absoluteDivLarge(f,ce,!0,!0);W=we.quotient;var Ue=we.remainder.__trim();K=C.__toStringGeneric(Ue,y,!0)}W.__trim();for(var ye=C.__toStringGeneric(W,y,!0);K.length<ee;)K="0"+K;return!1===g&&f.sign&&(ye="-"+ye),ye+K}},{key:"__unequalSign",value:function(f){return f?-1:1}},{key:"__absoluteGreater",value:function(f){return f?-1:1}},{key:"__absoluteLess",value:function(f){return f?1:-1}},{key:"__compareToBigInt",value:function(f,y){var g=f.sign;if(g!==y.sign)return C.__unequalSign(g);var M=C.__absoluteCompare(f,y);return 0<M?C.__absoluteGreater(g):0>M?C.__absoluteLess(g):0}},{key:"__compareToNumber",value:function(f,y){if(C.__isOneDigitInt(y)){var g=f.sign,M=0>y;if(g!==M)return C.__unequalSign(g);if(0===f.length){if(M)throw new Error("implementation bug");return 0===y?0:-1}if(1<f.length)return C.__absoluteGreater(g);var T=be(y),B=f.__unsignedDigit(0);return B>T?C.__absoluteGreater(g):B<T?C.__absoluteLess(g):0}return C.__compareToDouble(f,y)}},{key:"__compareToDouble",value:function(f,y){if(y!=y)return y;if(y===1/0)return-1;if(y===-1/0)return 1;var g=f.sign;if(g!==0>y)return C.__unequalSign(g);if(0===y)throw new Error("implementation bug: should be handled elsewhere");if(0===f.length)return-1;C.__kBitConversionDouble[0]=y;var M=2047&C.__kBitConversionInts[1]>>>20;if(2047==M)throw new Error("implementation bug: handled elsewhere");var T=M-1023;if(0>T)return C.__absoluteGreater(g);var B=f.length,S=f.__digit(B-1),s=C.__clz30(S),v=30*B-s,W=T+1;if(v<W)return C.__absoluteLess(g);if(v>W)return C.__absoluteGreater(g);var K=1048576|1048575&C.__kBitConversionInts[1],ee=C.__kBitConversionInts[0],_e=29-s;if(_e!==(0|(v-1)%30))throw new Error("implementation bug");var Oe,Ve=0;if(_e<20){var Se=20-_e;Ve=Se+32,Oe=K>>>Se,K=K<<32-Se|ee>>>Se,ee<<=32-Se}else if(20===_e)Ve=32,Oe=K,K=ee,ee=0;else{var we=_e-20;Ve=32-we,Oe=K<<we|ee>>>32-we,K=ee<<we,ee=0}if((S>>>=0)>(Oe>>>=0))return C.__absoluteGreater(g);if(S<Oe)return C.__absoluteLess(g);for(var Ue=B-2;0<=Ue;Ue--){0<Ve?(Ve-=30,Oe=K>>>2,K=K<<30|ee>>>2,ee<<=30):Oe=0;var ye=f.__unsignedDigit(Ue);if(ye>Oe)return C.__absoluteGreater(g);if(ye<Oe)return C.__absoluteLess(g)}if(0!==K||0!==ee){if(0===Ve)throw new Error("implementation bug");return C.__absoluteLess(g)}return 0}},{key:"__equalToNumber",value:function(f,y){return C.__isOneDigitInt(y)?0===y?0===f.length:1===f.length&&f.sign===0>y&&f.__unsignedDigit(0)===be(y):0===C.__compareToDouble(f,y)}},{key:"__comparisonResultToBool",value:function(f,y){return 0===y?0>f:1===y?0>=f:2===y?0<f:3===y?0<=f:void 0}},{key:"__compare",value:function(f,y,g){if(f=C.__toPrimitive(f),y=C.__toPrimitive(y),"string"==typeof f&&"string"==typeof y)switch(g){case 0:return f<y;case 1:return f<=y;case 2:return f>y;case 3:return f>=y}if(C.__isBigInt(f)&&"string"==typeof y)return null!==(y=C.__fromString(y))&&C.__comparisonResultToBool(C.__compareToBigInt(f,y),g);if("string"==typeof f&&C.__isBigInt(y))return null!==(f=C.__fromString(f))&&C.__comparisonResultToBool(C.__compareToBigInt(f,y),g);if(f=C.__toNumeric(f),y=C.__toNumeric(y),C.__isBigInt(f)){if(C.__isBigInt(y))return C.__comparisonResultToBool(C.__compareToBigInt(f,y),g);if("number"!=typeof y)throw new Error("implementation bug");return C.__comparisonResultToBool(C.__compareToNumber(f,y),g)}if("number"!=typeof f)throw new Error("implementation bug");if(C.__isBigInt(y))return C.__comparisonResultToBool(C.__compareToNumber(y,f),2^g);if("number"!=typeof y)throw new Error("implementation bug");return 0===g?f<y:1===g?f<=y:2===g?f>y:3===g?f>=y:void 0}},{key:"__absoluteAdd",value:function(f,y,g){if(f.length<y.length)return C.__absoluteAdd(y,f,g);if(0===f.length)return f;if(0===y.length)return f.sign===g?f:C.unaryMinus(f);var M=f.length;(0===f.__clzmsd()||y.length===f.length&&0===y.__clzmsd())&&M++;for(var T,B=new C(M,g),S=0,s=0;s<y.length;s++)S=(T=f.__digit(s)+y.__digit(s)+S)>>>30,B.__setDigit(s,1073741823&T);for(;s<f.length;s++){var v=f.__digit(s)+S;S=v>>>30,B.__setDigit(s,1073741823&v)}return s<B.length&&B.__setDigit(s,S),B.__trim()}},{key:"__absoluteSub",value:function(f,y,g){if(0===f.length)return f;if(0===y.length)return f.sign===g?f:C.unaryMinus(f);for(var M,T=new C(f.length,g),B=0,S=0;S<y.length;S++)B=1&(M=f.__digit(S)-y.__digit(S)-B)>>>30,T.__setDigit(S,1073741823&M);for(;S<f.length;S++){var s=f.__digit(S)-B;B=1&s>>>30,T.__setDigit(S,1073741823&s)}return T.__trim()}},{key:"__absoluteAddOne",value:function(f,y){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,M=f.length;null===g?g=new C(M,y):g.sign=y;for(var T,B=1,S=0;S<M;S++)B=(T=f.__digit(S)+B)>>>30,g.__setDigit(S,1073741823&T);return 0!==B&&g.__setDigitGrow(M,1),g}},{key:"__absoluteSubOne",value:function(f,y){for(var M,g=f.length,T=new C(y=y||g,!1),B=1,S=0;S<g;S++)B=1&(M=f.__digit(S)-B)>>>30,T.__setDigit(S,1073741823&M);if(0!==B)throw new Error("implementation bug");for(var s=g;s<y;s++)T.__setDigit(s,0);return T}},{key:"__absoluteAnd",value:function(f,y){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,M=f.length,T=y.length,B=T;if(M<T){B=M;var S=f,s=M;f=y,M=T,y=S,T=s}var v=B;null===g?g=new C(v,!1):v=g.length;for(var W=0;W<B;W++)g.__setDigit(W,f.__digit(W)&y.__digit(W));for(;W<v;W++)g.__setDigit(W,0);return g}},{key:"__absoluteAndNot",value:function(f,y){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,M=f.length,T=y.length,B=T;M<T&&(B=M);var S=M;null===g?g=new C(S,!1):S=g.length;for(var s=0;s<B;s++)g.__setDigit(s,f.__digit(s)&~y.__digit(s));for(;s<M;s++)g.__setDigit(s,f.__digit(s));for(;s<S;s++)g.__setDigit(s,0);return g}},{key:"__absoluteOr",value:function(f,y){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,M=f.length,T=y.length,B=T;if(M<T){B=M;var S=f,s=M;f=y,M=T,y=S,T=s}var v=M;null===g?g=new C(v,!1):v=g.length;for(var W=0;W<B;W++)g.__setDigit(W,f.__digit(W)|y.__digit(W));for(;W<M;W++)g.__setDigit(W,f.__digit(W));for(;W<v;W++)g.__setDigit(W,0);return g}},{key:"__absoluteXor",value:function(f,y){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,M=f.length,T=y.length,B=T;if(M<T){B=M;var S=f,s=M;f=y,M=T,y=S,T=s}var v=M;null===g?g=new C(v,!1):v=g.length;for(var W=0;W<B;W++)g.__setDigit(W,f.__digit(W)^y.__digit(W));for(;W<M;W++)g.__setDigit(W,f.__digit(W));for(;W<v;W++)g.__setDigit(W,0);return g}},{key:"__absoluteCompare",value:function(f,y){var g=f.length-y.length;if(0!=g)return g;for(var M=f.length-1;0<=M&&f.__digit(M)===y.__digit(M);)M--;return 0>M?0:f.__unsignedDigit(M)>y.__unsignedDigit(M)?1:-1}},{key:"__multiplyAccumulate",value:function(f,y,g,M){if(0!==y){for(var T=32767&y,B=y>>>15,S=0,s=0,v=0;v<f.length;v++,M++){var W=g.__digit(M),K=f.__digit(v),ee=32767&K,ce=K>>>15,_e=C.__imul(ee,T),Oe=C.__imul(ee,B),Ve=C.__imul(ce,T);S=(W+=s+_e+S)>>>30,W&=1073741823,S+=(W+=((32767&Oe)<<15)+((32767&Ve)<<15))>>>30,s=C.__imul(ce,B)+(Oe>>>15)+(Ve>>>15),g.__setDigit(M,1073741823&W)}for(;0!==S||0!==s;M++){var we=g.__digit(M);we+=S+s,s=0,S=we>>>30,g.__setDigit(M,1073741823&we)}}}},{key:"__internalMultiplyAdd",value:function(f,y,g,M,T){for(var B=g,S=0,s=0;s<M;s++){var v=f.__digit(s),W=C.__imul(32767&v,y),K=C.__imul(v>>>15,y),ee=W+((32767&K)<<15)+S+B;B=ee>>>30,S=K>>>15,T.__setDigit(s,1073741823&ee)}if(T.length>M)for(T.__setDigit(M++,B+S);M<T.length;)T.__setDigit(M++,0);else if(B+S!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(f,y){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===g&&(g=new C(f.length,!1));for(var M=0,T=2*f.length-1;0<=T;T-=2){var B=(M<<15|f.__halfDigit(T))>>>0,S=0|B/y;M=0|(B=((M=0|B%y)<<15|f.__halfDigit(T-1))>>>0)%y,g.__setDigit(T>>>1,S<<15|B/y)}return g}},{key:"__absoluteModSmall",value:function(f,y){for(var M=0,T=2*f.length-1;0<=T;T--)M=0|((M<<15|f.__halfDigit(T))>>>0)%y;return M}},{key:"__absoluteDivLarge",value:function(f,y,g,M){var T=y.__halfDigitLength(),B=y.length,S=f.__halfDigitLength()-T,s=null;g&&(s=new C(S+2>>>1,!1)).__initializeDigits();var v=new C(T+2>>>1,!1);v.__initializeDigits();var W=C.__clz15(y.__halfDigit(T-1));0<W&&(y=C.__specialLeftShift(y,W,0));for(var K=C.__specialLeftShift(f,W,1),ee=y.__halfDigit(T-1),ce=0,_e=S;0<=_e;_e--){var Oe=32767,Ve=K.__halfDigit(_e+T);if(Ve!==ee){var Se=(Ve<<15|K.__halfDigit(_e+T-1))>>>0;Oe=0|Se/ee;for(var we=0|Se%ee,Ue=y.__halfDigit(T-2),ye=K.__halfDigit(_e+T-2);C.__imul(Oe,Ue)>>>0>(we<<16|ye)>>>0&&(Oe--,!(32767<(we+=ee))););}C.__internalMultiplyAdd(y,Oe,0,B,v);var De=K.__inplaceSub(v,_e,T+1);0!==De&&(De=K.__inplaceAdd(y,_e,T),K.__setHalfDigit(_e+T,32767&K.__halfDigit(_e+T)+De),Oe--),g&&(1&_e?ce=Oe<<15:s.__setDigit(_e>>>1,ce|Oe))}if(M)return K.__inplaceRightShift(W),g?{quotient:s,remainder:K}:K;if(g)return s;throw new Error("unreachable")}},{key:"__clz15",value:function(f){return C.__clz30(f)-15}},{key:"__specialLeftShift",value:function(f,y,g){var M=f.length,T=new C(M+g,!1);if(0===y){for(var B=0;B<M;B++)T.__setDigit(B,f.__digit(B));return 0<g&&T.__setDigit(M,0),T}for(var S,s=0,v=0;v<M;v++)S=f.__digit(v),T.__setDigit(v,1073741823&S<<y|s),s=S>>>30-y;return 0<g&&T.__setDigit(M,s),T}},{key:"__leftShiftByAbsolute",value:function(f,y){var g=C.__toShiftAmount(y);if(0>g)throw new RangeError("BigInt too big");var M=0|g/30,T=g%30,B=f.length,S=0!==T&&f.__digit(B-1)>>>30-T!=0,s=B+M+(S?1:0),v=new C(s,f.sign);if(0===T){for(var W=0;W<M;W++)v.__setDigit(W,0);for(;W<s;W++)v.__setDigit(W,f.__digit(W-M))}else{for(var K=0,ee=0;ee<M;ee++)v.__setDigit(ee,0);for(var ce,_e=0;_e<B;_e++)ce=f.__digit(_e),v.__setDigit(_e+M,1073741823&ce<<T|K),K=ce>>>30-T;if(S)v.__setDigit(B+M,K);else if(0!==K)throw new Error("implementation bug")}return v.__trim()}},{key:"__rightShiftByAbsolute",value:function(f,y){var g=f.length,M=f.sign,T=C.__toShiftAmount(y);if(0>T)return C.__rightShiftByMaximum(M);var B=0|T/30,S=T%30,s=g-B;if(0>=s)return C.__rightShiftByMaximum(M);var v=!1;if(M)if(f.__digit(B)&(1<<S)-1)v=!0;else for(var W=0;W<B;W++)if(0!==f.__digit(W)){v=!0;break}v&&0===S&&!~f.__digit(g-1)&&s++;var ee=new C(s,M);if(0===S){ee.__setDigit(s-1,0);for(var ce=B;ce<g;ce++)ee.__setDigit(ce-B,f.__digit(ce))}else{for(var _e,Oe=f.__digit(B)>>>S,Ve=g-B-1,Se=0;Se<Ve;Se++)_e=f.__digit(Se+B+1),ee.__setDigit(Se,1073741823&_e<<30-S|Oe),Oe=_e>>>S;ee.__setDigit(Ve,Oe)}return v&&(ee=C.__absoluteAddOne(ee,!0,ee)),ee.__trim()}},{key:"__rightShiftByMaximum",value:function(f){return f?C.__oneDigit(1,!0):C.__zero()}},{key:"__toShiftAmount",value:function(f){if(1<f.length)return-1;var y=f.__unsignedDigit(0);return y>C.__kMaxLengthBits?-1:y}},{key:"__toPrimitive",value:function(f){var y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==d(f)||f.constructor===C)return f;if(typeof Symbol<"u"&&"symbol"===d(Symbol.toPrimitive)){var g=f[Symbol.toPrimitive];if(g){var M=g(y);if("object"!==d(M))return M;throw new TypeError("Cannot convert object to primitive value")}}var T=f.valueOf;if(T){var B=T.call(f);if("object"!==d(B))return B}var S=f.toString;if(S){var s=S.call(f);if("object"!==d(s))return s}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(f){return C.__isBigInt(f)?f:+f}},{key:"__isBigInt",value:function(f){return"object"===d(f)&&null!==f&&f.constructor===C}},{key:"__truncateToNBits",value:function(f,y){for(var g=0|(f+29)/30,M=new C(g,y.sign),T=g-1,B=0;B<T;B++)M.__setDigit(B,y.__digit(B));var S=y.__digit(T);if(f%30!=0){var s=32-f%30;S=S<<s>>>s}return M.__setDigit(T,S),M.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(f,y,g){for(var T,M=Math.min,B=0|(f+29)/30,S=new C(B,g),s=0,v=B-1,W=0,K=M(v,y.length);s<K;s++)W=1&(T=0-y.__digit(s)-W)>>>30,S.__setDigit(s,1073741823&T);for(;s<v;s++)S.__setDigit(s,1073741823&-W);var ee,ce=v<y.length?y.__digit(v):0,_e=f%30;if(0===_e)ee=0-ce-W,ee&=1073741823;else{var Oe=32-_e,Ve=1<<32-Oe;ee=Ve-(ce=ce<<Oe>>>Oe)-W,ee&=Ve-1}return S.__setDigit(v,ee),S.__trim()}},{key:"__digitPow",value:function(f,y){for(var g=1;0<y;)1&y&&(g*=f),y>>>=1,f*=f;return g}},{key:"__isOneDigitInt",value:function(f){return(1073741823&f)===f}}]),C}(D(Array));return de.__kMaxLength=33554432,de.__kMaxLengthBits=de.__kMaxLength<<5,de.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],de.__kBitsPerCharTableShift=5,de.__kBitsPerCharTableMultiplier=1<<de.__kBitsPerCharTableShift,de.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],de.__kBitConversionBuffer=new ArrayBuffer(8),de.__kBitConversionDouble=new Float64Array(de.__kBitConversionBuffer),de.__kBitConversionInts=new Int32Array(de.__kBitConversionBuffer),de.__clz30=w?function(le){return w(le)-2}:function(le){var be=Math.LN2,xe=Math.log;return 0===le?30:0|29-(0|xe(le>>>0)/be)},de.__imul=H||function(le,be){return 0|le*be},de}()},44331:je=>{"use strict";var H=je.exports=function(E,k,z){"function"==typeof k&&(z=k,k={}),w(k,"function"==typeof(z=k.cb||z)?z:z.pre||function(){},z.post||function(){},E,"",E)};function w(E,k,z,x,O,A,P,F,L,D){if(x&&"object"==typeof x&&!Array.isArray(x)){for(var X in k(x,O,A,P,F,L,D),x){var j=x[X];if(Array.isArray(j)){if(X in H.arrayKeywords)for(var G=0;G<j.length;G++)w(E,k,z,j[G],O+"/"+X+"/"+G,A,O,X,x,G)}else if(X in H.propsKeywords){if(j&&"object"==typeof j)for(var re in j)w(E,k,z,j[re],O+"/"+X+"/"+d(re),A,O,X,x,re)}else(X in H.keywords||E.allKeys&&!(X in H.skipKeywords))&&w(E,k,z,j,O+"/"+X,A,O,X,x)}z(x,O,A,P,F,L,D)}}function d(E){return E.replace(/~/g,"~0").replace(/\//g,"~1")}H.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},H.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},H.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},H.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},89061:(je,H)=>{"use strict";H.supports=function(...d){const E=d.reduce((k,z)=>Object.assign(k,z),{});return Object.assign(E,{snapshots:E.snapshots||!1,permanence:E.permanence||!1,seek:E.seek||!1,clear:E.clear||!1,getMany:E.getMany||!1,keyIterator:E.keyIterator||!1,valueIterator:E.valueIterator||!1,iteratorNextv:E.iteratorNextv||!1,iteratorAll:E.iteratorAll||!1,status:E.status||!1,createIfMissing:E.createIfMissing||!1,errorIfExists:E.errorIfExists||!1,deferredOpen:E.deferredOpen||!1,promises:E.promises||!1,streams:E.streams||!1,encodings:Object.assign({},E.encodings),events:Object.assign({},E.events),additionalMethods:Object.assign({},E.additionalMethods)})}},25006:(je,H,w)=>{"use strict";const d=w(61747),E=w(40080),{Encoding:k}=w(15045),{BufferFormat:z,ViewFormat:x,UTF8Format:O}=w(48262),A=Symbol("formats"),P=Symbol("encodings"),F=new Set(["buffer","view","utf8"]);H.Transcoder=class L{constructor(J){if(!Array.isArray(J))throw new TypeError("The first argument 'formats' must be an array");if(!J.every(Z=>F.has(Z)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'");this[P]=new Map,this[A]=new Set(J);for(const Z in E)try{this.encoding(Z)}catch(ie){if("LEVEL_ENCODING_NOT_SUPPORTED"!==ie.code)throw ie}}encodings(){return Array.from(new Set(this[P].values()))}encoding(J){let Z=this[P].get(J);if(void 0===Z){if("string"==typeof J&&""!==J){if(Z=G[J],!Z)throw new d(`Encoding '${J}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if("object"!=typeof J||null===J)throw new TypeError("First argument 'encoding' must be a string or object");Z=function D(te){if(te instanceof k)return te;const Z=te.name||("type"in te&&"string"==typeof te.type?te.type:void 0)||"anonymous-"+re++;switch(function X(te){return"format"in te&&void 0!==te.format?te.format:"buffer"in te&&"boolean"==typeof te.buffer?te.buffer?"buffer":"utf8":"code"in te&&Number.isInteger(te.code)?"view":"buffer"}(te)){case"view":return new x({...te,name:Z});case"utf8":return new O({...te,name:Z});case"buffer":return new z({...te,name:Z});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}(J)}const{name:ie,format:ae}=Z;if(!this[A].has(ae))if(this[A].has("view"))Z=Z.createViewTranscoder();else if(this[A].has("buffer"))Z=Z.createBufferTranscoder();else{if(!this[A].has("utf8"))throw new d(`Encoding '${ie}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});Z=Z.createUTF8Transcoder()}for(const se of[J,ie,Z.name,Z.commonName])this[P].set(se,Z)}return Z}};const j={binary:E.buffer,"utf-8":E.utf8},G={...E,...j};let re=0},15045:(je,H,w)=>{"use strict";const d=w(61747),E=new Set(["buffer","view","utf8"]);H.Encoding=class k{constructor(x){if(this.encode=x.encode||this.encode,this.decode=x.decode||this.decode,this.name=x.name||this.name,this.format=x.format||this.format,"function"!=typeof this.encode)throw new TypeError("The 'encode' property must be a function");if("function"!=typeof this.decode)throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),"string"!=typeof this.name||""===this.name)throw new TypeError("The 'name' property must be a string");if("string"!=typeof this.format||!E.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");x.createViewTranscoder&&(this.createViewTranscoder=x.createViewTranscoder),x.createBufferTranscoder&&(this.createBufferTranscoder=x.createBufferTranscoder),x.createUTF8Transcoder&&(this.createUTF8Transcoder=x.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new d(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new d(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new d(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}}},40080:(je,H,w)=>{"use strict";const{Buffer:d}=w(484)||{Buffer:{isBuffer:()=>!1}},{textEncoder:E,textDecoder:k}=w(33619)(),{BufferFormat:z,ViewFormat:x,UTF8Format:O}=w(48262),A=P=>P;H.utf8=new O({encode:function(P){return d.isBuffer(P)?P.toString("utf8"):ArrayBuffer.isView(P)?k.decode(P):String(P)},decode:A,name:"utf8",createViewTranscoder(){return new x({encode:function(P){return ArrayBuffer.isView(P)?P:E.encode(P)},decode:function(P){return k.decode(P)},name:`${this.name}+view`})},createBufferTranscoder(){return new z({encode:function(P){return d.isBuffer(P)?P:ArrayBuffer.isView(P)?d.from(P.buffer,P.byteOffset,P.byteLength):d.from(String(P),"utf8")},decode:function(P){return P.toString("utf8")},name:`${this.name}+buffer`})}}),H.json=new O({encode:JSON.stringify,decode:JSON.parse,name:"json"}),H.buffer=new z({encode:function(P){return d.isBuffer(P)?P:ArrayBuffer.isView(P)?d.from(P.buffer,P.byteOffset,P.byteLength):d.from(String(P),"utf8")},decode:A,name:"buffer",createViewTranscoder(){return new x({encode:function(P){return ArrayBuffer.isView(P)?P:d.from(String(P),"utf8")},decode:function(P){return d.from(P.buffer,P.byteOffset,P.byteLength)},name:`${this.name}+view`})}}),H.view=new x({encode:function(P){return ArrayBuffer.isView(P)?P:E.encode(P)},decode:A,name:"view",createBufferTranscoder(){return new z({encode:function(P){return d.isBuffer(P)?P:ArrayBuffer.isView(P)?d.from(P.buffer,P.byteOffset,P.byteLength):d.from(String(P),"utf8")},decode:A,name:`${this.name}+buffer`})}}),H.hex=new z({encode:function(P){return d.isBuffer(P)?P:d.from(String(P),"hex")},decode:function(P){return P.toString("hex")},name:"hex"}),H.base64=new z({encode:function(P){return d.isBuffer(P)?P:d.from(String(P),"base64")},decode:function(P){return P.toString("base64")},name:"base64"})},48262:(je,H,w)=>{"use strict";const{Buffer:d}=w(484)||{},{Encoding:E}=w(15045),k=w(33619);class z extends E{constructor(P){super({...P,format:"buffer"})}createViewTranscoder(){return new x({encode:this.encode,decode:P=>this.decode(d.from(P.buffer,P.byteOffset,P.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}}class x extends E{constructor(P){super({...P,format:"view"})}createBufferTranscoder(){return new z({encode:P=>{const F=this.encode(P);return d.from(F.buffer,F.byteOffset,F.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}}H.BufferFormat=z,H.ViewFormat=x,H.UTF8Format=class O extends E{constructor(P){super({...P,format:"utf8"})}createBufferTranscoder(){return new z({encode:P=>d.from(this.encode(P),"utf8"),decode:P=>this.decode(P.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){const{textEncoder:P,textDecoder:F}=k();return new x({encode:L=>P.encode(this.encode(L)),decode:L=>this.decode(F.decode(L)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}}},33619:je=>{"use strict";let H=null;je.exports=function(){return null===H&&(H={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),H}},484:(je,H,w)=>{"use strict";const d=w(13981),E=w(22020),k="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;H.Buffer=A,H.SlowBuffer=function Z(N){return+N!=N&&(N=0),A.alloc(+N)},H.INSPECT_MAX_BYTES=50;const z=2147483647;function O(N){if(N>z)throw new RangeError('The value "'+N+'" is invalid for option "size"');const _=new Uint8Array(N);return Object.setPrototypeOf(_,A.prototype),_}function A(N,_,m){if("number"==typeof N){if("string"==typeof _)throw new TypeError('The "string" argument must be of type string. Received type number');return D(N)}return P(N,_,m)}function P(N,_,m){if("string"==typeof N)return function X(N,_){if(("string"!=typeof _||""===_)&&(_="utf8"),!A.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const m=0|ie(N,_);let U=O(m);const ne=U.write(N,_);return ne!==m&&(U=U.slice(0,ne)),U}(N,_);if(ArrayBuffer.isView(N))return function G(N){if(Fe(N,Uint8Array)){const _=new Uint8Array(N);return re(_.buffer,_.byteOffset,_.byteLength)}return j(N)}(N);if(null==N)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(Fe(N,ArrayBuffer)||N&&Fe(N.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Fe(N,SharedArrayBuffer)||N&&Fe(N.buffer,SharedArrayBuffer)))return re(N,_,m);if("number"==typeof N)throw new TypeError('The "value" argument must not be of type number. Received type number');const U=N.valueOf&&N.valueOf();if(null!=U&&U!==N)return A.from(U,_,m);const ne=function te(N){if(A.isBuffer(N)){const _=0|J(N.length),m=O(_);return 0===m.length||N.copy(m,0,0,_),m}return void 0!==N.length?"number"!=typeof N.length||_t(N.length)?O(0):j(N):"Buffer"===N.type&&Array.isArray(N.data)?j(N.data):void 0}(N);if(ne)return ne;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof N[Symbol.toPrimitive])return A.from(N[Symbol.toPrimitive]("string"),_,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}function F(N){if("number"!=typeof N)throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function D(N){return F(N),O(N<0?0:0|J(N))}function j(N){const _=N.length<0?0:0|J(N.length),m=O(_);for(let U=0;U<_;U+=1)m[U]=255&N[U];return m}function re(N,_,m){if(_<0||N.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<_+(m||0))throw new RangeError('"length" is outside of buffer bounds');let U;return U=void 0===_&&void 0===m?new Uint8Array(N):void 0===m?new Uint8Array(N,_):new Uint8Array(N,_,m),Object.setPrototypeOf(U,A.prototype),U}function J(N){if(N>=z)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+z.toString(16)+" bytes");return 0|N}function ie(N,_){if(A.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||Fe(N,ArrayBuffer))return N.byteLength;if("string"!=typeof N)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);const m=N.length,U=arguments.length>2&&!0===arguments[2];if(!U&&0===m)return 0;let ne=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return oe(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*m;case"hex":return m>>>1;case"base64":return Re(N).length;default:if(ne)return U?-1:oe(N).length;_=(""+_).toLowerCase(),ne=!0}}function ae(N,_,m){let U=!1;if((void 0===_||_<0)&&(_=0),_>this.length||((void 0===m||m>this.length)&&(m=this.length),m<=0)||(m>>>=0)<=(_>>>=0))return"";for(N||(N="utf8");;)switch(N){case"hex":return S(this,_,m);case"utf8":case"utf-8":return y(this,_,m);case"ascii":return T(this,_,m);case"latin1":case"binary":return B(this,_,m);case"base64":return f(this,_,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,_,m);default:if(U)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),U=!0}}function se(N,_,m){const U=N[_];N[_]=N[m],N[m]=U}function de(N,_,m,U,ne){if(0===N.length)return-1;if("string"==typeof m?(U=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),_t(m=+m)&&(m=ne?0:N.length-1),m<0&&(m=N.length+m),m>=N.length){if(ne)return-1;m=N.length-1}else if(m<0){if(!ne)return-1;m=0}if("string"==typeof _&&(_=A.from(_,U)),A.isBuffer(_))return 0===_.length?-1:le(N,_,m,U,ne);if("number"==typeof _)return _&=255,"function"==typeof Uint8Array.prototype.indexOf?ne?Uint8Array.prototype.indexOf.call(N,_,m):Uint8Array.prototype.lastIndexOf.call(N,_,m):le(N,[_],m,U,ne);throw new TypeError("val must be string, number or Buffer")}function le(N,_,m,U,ne){let gt,ge=1,Ae=N.length,tt=_.length;if(void 0!==U&&("ucs2"===(U=String(U).toLowerCase())||"ucs-2"===U||"utf16le"===U||"utf-16le"===U)){if(N.length<2||_.length<2)return-1;ge=2,Ae/=2,tt/=2,m/=2}function Bt(It,Zt){return 1===ge?It[Zt]:It.readUInt16BE(Zt*ge)}if(ne){let It=-1;for(gt=m;gt<Ae;gt++)if(Bt(N,gt)===Bt(_,-1===It?0:gt-It)){if(-1===It&&(It=gt),gt-It+1===tt)return It*ge}else-1!==It&&(gt-=gt-It),It=-1}else for(m+tt>Ae&&(m=Ae-tt),gt=m;gt>=0;gt--){let It=!0;for(let Zt=0;Zt<tt;Zt++)if(Bt(N,gt+Zt)!==Bt(_,Zt)){It=!1;break}if(It)return gt}return-1}function be(N,_,m,U){m=Number(m)||0;const ne=N.length-m;U?(U=Number(U))>ne&&(U=ne):U=ne;const ge=_.length;let Ae;for(U>ge/2&&(U=ge/2),Ae=0;Ae<U;++Ae){const tt=parseInt(_.substr(2*Ae,2),16);if(_t(tt))return Ae;N[m+Ae]=tt}return Ae}function xe(N,_,m,U){return $e(oe(_,N.length-m),N,m,U)}function ke(N,_,m,U){return $e(function fe(N){const _=[];for(let m=0;m<N.length;++m)_.push(255&N.charCodeAt(m));return _}(_),N,m,U)}function C(N,_,m,U){return $e(Re(_),N,m,U)}function a(N,_,m,U){return $e(function Ee(N,_){let m,U,ne;const ge=[];for(let Ae=0;Ae<N.length&&!((_-=2)<0);++Ae)m=N.charCodeAt(Ae),U=m>>8,ne=m%256,ge.push(ne),ge.push(U);return ge}(_,N.length-m),N,m,U)}function f(N,_,m){return d.fromByteArray(0===_&&m===N.length?N:N.slice(_,m))}function y(N,_,m){m=Math.min(N.length,m);const U=[];let ne=_;for(;ne<m;){const ge=N[ne];let Ae=null,tt=ge>239?4:ge>223?3:ge>191?2:1;if(ne+tt<=m){let Bt,gt,It,Zt;switch(tt){case 1:ge<128&&(Ae=ge);break;case 2:Bt=N[ne+1],128==(192&Bt)&&(Zt=(31&ge)<<6|63&Bt,Zt>127&&(Ae=Zt));break;case 3:Bt=N[ne+1],gt=N[ne+2],128==(192&Bt)&&128==(192&gt)&&(Zt=(15&ge)<<12|(63&Bt)<<6|63&gt,Zt>2047&&(Zt<55296||Zt>57343)&&(Ae=Zt));break;case 4:Bt=N[ne+1],gt=N[ne+2],It=N[ne+3],128==(192&Bt)&&128==(192&gt)&&128==(192&It)&&(Zt=(15&ge)<<18|(63&Bt)<<12|(63&gt)<<6|63&It,Zt>65535&&Zt<1114112&&(Ae=Zt))}}null===Ae?(Ae=65533,tt=1):Ae>65535&&(Ae-=65536,U.push(Ae>>>10&1023|55296),Ae=56320|1023&Ae),U.push(Ae),ne+=tt}return function M(N){const _=N.length;if(_<=g)return String.fromCharCode.apply(String,N);let m="",U=0;for(;U<_;)m+=String.fromCharCode.apply(String,N.slice(U,U+=g));return m}(U)}H.kMaxLength=z,!(A.TYPED_ARRAY_SUPPORT=function x(){try{const N=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(N,_),42===N.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(N,_,m){return P(N,_,m)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(N,_,m){return function L(N,_,m){return F(N),N<=0?O(N):void 0!==_?"string"==typeof m?O(N).fill(_,m):O(N).fill(_):O(N)}(N,_,m)},A.allocUnsafe=function(N){return D(N)},A.allocUnsafeSlow=function(N){return D(N)},A.isBuffer=function(_){return null!=_&&!0===_._isBuffer&&_!==A.prototype},A.compare=function(_,m){if(Fe(_,Uint8Array)&&(_=A.from(_,_.offset,_.byteLength)),Fe(m,Uint8Array)&&(m=A.from(m,m.offset,m.byteLength)),!A.isBuffer(_)||!A.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===m)return 0;let U=_.length,ne=m.length;for(let ge=0,Ae=Math.min(U,ne);ge<Ae;++ge)if(_[ge]!==m[ge]){U=_[ge],ne=m[ge];break}return U<ne?-1:ne<U?1:0},A.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(_,m){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(0===_.length)return A.alloc(0);let U;if(void 0===m)for(m=0,U=0;U<_.length;++U)m+=_[U].length;const ne=A.allocUnsafe(m);let ge=0;for(U=0;U<_.length;++U){let Ae=_[U];if(Fe(Ae,Uint8Array))ge+Ae.length>ne.length?(A.isBuffer(Ae)||(Ae=A.from(Ae)),Ae.copy(ne,ge)):Uint8Array.prototype.set.call(ne,Ae,ge);else{if(!A.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(ne,ge)}ge+=Ae.length}return ne},A.byteLength=ie,A.prototype._isBuffer=!0,A.prototype.swap16=function(){const _=this.length;if(_%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<_;m+=2)se(this,m,m+1);return this},A.prototype.swap32=function(){const _=this.length;if(_%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<_;m+=4)se(this,m,m+3),se(this,m+1,m+2);return this},A.prototype.swap64=function(){const _=this.length;if(_%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<_;m+=8)se(this,m,m+7),se(this,m+1,m+6),se(this,m+2,m+5),se(this,m+3,m+4);return this},A.prototype.toLocaleString=A.prototype.toString=function(){const _=this.length;return 0===_?"":0===arguments.length?y(this,0,_):ae.apply(this,arguments)},A.prototype.equals=function(_){if(!A.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_||0===A.compare(this,_)},A.prototype.inspect=function(){let _="";const m=H.INSPECT_MAX_BYTES;return _=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(_+=" ... "),"<Buffer "+_+">"},k&&(A.prototype[k]=A.prototype.inspect),A.prototype.compare=function(_,m,U,ne,ge){if(Fe(_,Uint8Array)&&(_=A.from(_,_.offset,_.byteLength)),!A.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(void 0===m&&(m=0),void 0===U&&(U=_?_.length:0),void 0===ne&&(ne=0),void 0===ge&&(ge=this.length),m<0||U>_.length||ne<0||ge>this.length)throw new RangeError("out of range index");if(ne>=ge&&m>=U)return 0;if(ne>=ge)return-1;if(m>=U)return 1;if(this===_)return 0;let Ae=(ge>>>=0)-(ne>>>=0),tt=(U>>>=0)-(m>>>=0);const Bt=Math.min(Ae,tt),gt=this.slice(ne,ge),It=_.slice(m,U);for(let Zt=0;Zt<Bt;++Zt)if(gt[Zt]!==It[Zt]){Ae=gt[Zt],tt=It[Zt];break}return Ae<tt?-1:tt<Ae?1:0},A.prototype.includes=function(_,m,U){return-1!==this.indexOf(_,m,U)},A.prototype.indexOf=function(_,m,U){return de(this,_,m,U,!0)},A.prototype.lastIndexOf=function(_,m,U){return de(this,_,m,U,!1)},A.prototype.write=function(_,m,U,ne){if(void 0===m)ne="utf8",U=this.length,m=0;else if(void 0===U&&"string"==typeof m)ne=m,U=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m>>>=0,isFinite(U)?(U>>>=0,void 0===ne&&(ne="utf8")):(ne=U,U=void 0)}const ge=this.length-m;if((void 0===U||U>ge)&&(U=ge),_.length>0&&(U<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");let Ae=!1;for(;;)switch(ne){case"hex":return be(this,_,m,U);case"utf8":case"utf-8":return xe(this,_,m,U);case"ascii":case"latin1":case"binary":return ke(this,_,m,U);case"base64":return C(this,_,m,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,_,m,U);default:if(Ae)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),Ae=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const g=4096;function T(N,_,m){let U="";m=Math.min(N.length,m);for(let ne=_;ne<m;++ne)U+=String.fromCharCode(127&N[ne]);return U}function B(N,_,m){let U="";m=Math.min(N.length,m);for(let ne=_;ne<m;++ne)U+=String.fromCharCode(N[ne]);return U}function S(N,_,m){const U=N.length;(!_||_<0)&&(_=0),(!m||m<0||m>U)&&(m=U);let ne="";for(let ge=_;ge<m;++ge)ne+=We[N[ge]];return ne}function s(N,_,m){const U=N.slice(_,m);let ne="";for(let ge=0;ge<U.length-1;ge+=2)ne+=String.fromCharCode(U[ge]+256*U[ge+1]);return ne}function v(N,_,m){if(N%1!=0||N<0)throw new RangeError("offset is not uint");if(N+_>m)throw new RangeError("Trying to access beyond buffer length")}function W(N,_,m,U,ne,ge){if(!A.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>ne||_<ge)throw new RangeError('"value" argument is out of bounds');if(m+U>N.length)throw new RangeError("Index out of range")}function K(N,_,m,U,ne){ye(_,U,ne,N,m,7);let ge=Number(_&BigInt(4294967295));N[m++]=ge,ge>>=8,N[m++]=ge,ge>>=8,N[m++]=ge,ge>>=8,N[m++]=ge;let Ae=Number(_>>BigInt(32)&BigInt(4294967295));return N[m++]=Ae,Ae>>=8,N[m++]=Ae,Ae>>=8,N[m++]=Ae,Ae>>=8,N[m++]=Ae,m}function ee(N,_,m,U,ne){ye(_,U,ne,N,m,7);let ge=Number(_&BigInt(4294967295));N[m+7]=ge,ge>>=8,N[m+6]=ge,ge>>=8,N[m+5]=ge,ge>>=8,N[m+4]=ge;let Ae=Number(_>>BigInt(32)&BigInt(4294967295));return N[m+3]=Ae,Ae>>=8,N[m+2]=Ae,Ae>>=8,N[m+1]=Ae,Ae>>=8,N[m]=Ae,m+8}function ce(N,_,m,U,ne,ge){if(m+U>N.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function _e(N,_,m,U,ne){return _=+_,m>>>=0,ne||ce(N,0,m,4),E.write(N,_,m,U,23,4),m+4}function Oe(N,_,m,U,ne){return _=+_,m>>>=0,ne||ce(N,0,m,8),E.write(N,_,m,U,52,8),m+8}A.prototype.slice=function(_,m){const U=this.length;(_=~~_)<0?(_+=U)<0&&(_=0):_>U&&(_=U),(m=void 0===m?U:~~m)<0?(m+=U)<0&&(m=0):m>U&&(m=U),m<_&&(m=_);const ne=this.subarray(_,m);return Object.setPrototypeOf(ne,A.prototype),ne},A.prototype.readUintLE=A.prototype.readUIntLE=function(_,m,U){_>>>=0,m>>>=0,U||v(_,m,this.length);let ne=this[_],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[_+Ae]*ge;return ne},A.prototype.readUintBE=A.prototype.readUIntBE=function(_,m,U){_>>>=0,m>>>=0,U||v(_,m,this.length);let ne=this[_+--m],ge=1;for(;m>0&&(ge*=256);)ne+=this[_+--m]*ge;return ne},A.prototype.readUint8=A.prototype.readUInt8=function(_,m){return _>>>=0,m||v(_,1,this.length),this[_]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(_,m){return _>>>=0,m||v(_,2,this.length),this[_]|this[_+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(_,m){return _>>>=0,m||v(_,2,this.length),this[_]<<8|this[_+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(_,m){return _>>>=0,m||v(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+16777216*this[_+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(_,m){return _>>>=0,m||v(_,4,this.length),16777216*this[_]+(this[_+1]<<16|this[_+2]<<8|this[_+3])},A.prototype.readBigUInt64LE=Le(function(_){De(_>>>=0,"offset");const m=this[_],U=this[_+7];(void 0===m||void 0===U)&&pe(_,this.length-8);const ne=m+256*this[++_]+65536*this[++_]+this[++_]*2**24,ge=this[++_]+256*this[++_]+65536*this[++_]+U*2**24;return BigInt(ne)+(BigInt(ge)<<BigInt(32))}),A.prototype.readBigUInt64BE=Le(function(_){De(_>>>=0,"offset");const m=this[_],U=this[_+7];(void 0===m||void 0===U)&&pe(_,this.length-8);const ne=m*2**24+65536*this[++_]+256*this[++_]+this[++_],ge=this[++_]*2**24+65536*this[++_]+256*this[++_]+U;return(BigInt(ne)<<BigInt(32))+BigInt(ge)}),A.prototype.readIntLE=function(_,m,U){_>>>=0,m>>>=0,U||v(_,m,this.length);let ne=this[_],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[_+Ae]*ge;return ge*=128,ne>=ge&&(ne-=Math.pow(2,8*m)),ne},A.prototype.readIntBE=function(_,m,U){_>>>=0,m>>>=0,U||v(_,m,this.length);let ne=m,ge=1,Ae=this[_+--ne];for(;ne>0&&(ge*=256);)Ae+=this[_+--ne]*ge;return ge*=128,Ae>=ge&&(Ae-=Math.pow(2,8*m)),Ae},A.prototype.readInt8=function(_,m){return _>>>=0,m||v(_,1,this.length),128&this[_]?-1*(255-this[_]+1):this[_]},A.prototype.readInt16LE=function(_,m){_>>>=0,m||v(_,2,this.length);const U=this[_]|this[_+1]<<8;return 32768&U?4294901760|U:U},A.prototype.readInt16BE=function(_,m){_>>>=0,m||v(_,2,this.length);const U=this[_+1]|this[_]<<8;return 32768&U?4294901760|U:U},A.prototype.readInt32LE=function(_,m){return _>>>=0,m||v(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},A.prototype.readInt32BE=function(_,m){return _>>>=0,m||v(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},A.prototype.readBigInt64LE=Le(function(_){De(_>>>=0,"offset");const m=this[_],U=this[_+7];return(void 0===m||void 0===U)&&pe(_,this.length-8),(BigInt(this[_+4]+256*this[_+5]+65536*this[_+6]+(U<<24))<<BigInt(32))+BigInt(m+256*this[++_]+65536*this[++_]+this[++_]*2**24)}),A.prototype.readBigInt64BE=Le(function(_){De(_>>>=0,"offset");const m=this[_],U=this[_+7];(void 0===m||void 0===U)&&pe(_,this.length-8);const ne=(m<<24)+65536*this[++_]+256*this[++_]+this[++_];return(BigInt(ne)<<BigInt(32))+BigInt(this[++_]*2**24+65536*this[++_]+256*this[++_]+U)}),A.prototype.readFloatLE=function(_,m){return _>>>=0,m||v(_,4,this.length),E.read(this,_,!0,23,4)},A.prototype.readFloatBE=function(_,m){return _>>>=0,m||v(_,4,this.length),E.read(this,_,!1,23,4)},A.prototype.readDoubleLE=function(_,m){return _>>>=0,m||v(_,8,this.length),E.read(this,_,!0,52,8)},A.prototype.readDoubleBE=function(_,m){return _>>>=0,m||v(_,8,this.length),E.read(this,_,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(_,m,U,ne){_=+_,m>>>=0,U>>>=0,ne||W(this,_,m,U,Math.pow(2,8*U)-1,0);let ge=1,Ae=0;for(this[m]=255&_;++Ae<U&&(ge*=256);)this[m+Ae]=_/ge&255;return m+U},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(_,m,U,ne){_=+_,m>>>=0,U>>>=0,ne||W(this,_,m,U,Math.pow(2,8*U)-1,0);let ge=U-1,Ae=1;for(this[m+ge]=255&_;--ge>=0&&(Ae*=256);)this[m+ge]=_/Ae&255;return m+U},A.prototype.writeUint8=A.prototype.writeUInt8=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,1,255,0),this[m]=255&_,m+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,2,65535,0),this[m]=255&_,this[m+1]=_>>>8,m+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,2,65535,0),this[m]=_>>>8,this[m+1]=255&_,m+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,4,4294967295,0),this[m+3]=_>>>24,this[m+2]=_>>>16,this[m+1]=_>>>8,this[m]=255&_,m+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,4,4294967295,0),this[m]=_>>>24,this[m+1]=_>>>16,this[m+2]=_>>>8,this[m+3]=255&_,m+4},A.prototype.writeBigUInt64LE=Le(function(_,m=0){return K(this,_,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=Le(function(_,m=0){return ee(this,_,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(_,m,U,ne){if(_=+_,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,_,m,U,Bt-1,-Bt)}let ge=0,Ae=1,tt=0;for(this[m]=255&_;++ge<U&&(Ae*=256);)_<0&&0===tt&&0!==this[m+ge-1]&&(tt=1),this[m+ge]=(_/Ae|0)-tt&255;return m+U},A.prototype.writeIntBE=function(_,m,U,ne){if(_=+_,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,_,m,U,Bt-1,-Bt)}let ge=U-1,Ae=1,tt=0;for(this[m+ge]=255&_;--ge>=0&&(Ae*=256);)_<0&&0===tt&&0!==this[m+ge+1]&&(tt=1),this[m+ge]=(_/Ae|0)-tt&255;return m+U},A.prototype.writeInt8=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,1,127,-128),_<0&&(_=255+_+1),this[m]=255&_,m+1},A.prototype.writeInt16LE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,2,32767,-32768),this[m]=255&_,this[m+1]=_>>>8,m+2},A.prototype.writeInt16BE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,2,32767,-32768),this[m]=_>>>8,this[m+1]=255&_,m+2},A.prototype.writeInt32LE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,4,2147483647,-2147483648),this[m]=255&_,this[m+1]=_>>>8,this[m+2]=_>>>16,this[m+3]=_>>>24,m+4},A.prototype.writeInt32BE=function(_,m,U){return _=+_,m>>>=0,U||W(this,_,m,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[m]=_>>>24,this[m+1]=_>>>16,this[m+2]=_>>>8,this[m+3]=255&_,m+4},A.prototype.writeBigInt64LE=Le(function(_,m=0){return K(this,_,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=Le(function(_,m=0){return ee(this,_,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeFloatLE=function(_,m,U){return _e(this,_,m,!0,U)},A.prototype.writeFloatBE=function(_,m,U){return _e(this,_,m,!1,U)},A.prototype.writeDoubleLE=function(_,m,U){return Oe(this,_,m,!0,U)},A.prototype.writeDoubleBE=function(_,m,U){return Oe(this,_,m,!1,U)},A.prototype.copy=function(_,m,U,ne){if(!A.isBuffer(_))throw new TypeError("argument should be a Buffer");if(U||(U=0),!ne&&0!==ne&&(ne=this.length),m>=_.length&&(m=_.length),m||(m=0),ne>0&&ne<U&&(ne=U),ne===U||0===_.length||0===this.length)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),_.length-m<ne-U&&(ne=_.length-m+U);const ge=ne-U;return this===_&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(m,U,ne):Uint8Array.prototype.set.call(_,this.subarray(U,ne),m),ge},A.prototype.fill=function(_,m,U,ne){if("string"==typeof _){if("string"==typeof m?(ne=m,m=0,U=this.length):"string"==typeof U&&(ne=U,U=this.length),void 0!==ne&&"string"!=typeof ne)throw new TypeError("encoding must be a string");if("string"==typeof ne&&!A.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(1===_.length){const Ae=_.charCodeAt(0);("utf8"===ne&&Ae<128||"latin1"===ne)&&(_=Ae)}}else"number"==typeof _?_&=255:"boolean"==typeof _&&(_=Number(_));if(m<0||this.length<m||this.length<U)throw new RangeError("Out of range index");if(U<=m)return this;let ge;if(m>>>=0,U=void 0===U?this.length:U>>>0,_||(_=0),"number"==typeof _)for(ge=m;ge<U;++ge)this[ge]=_;else{const Ae=A.isBuffer(_)?_:A.from(_,ne),tt=Ae.length;if(0===tt)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(ge=0;ge<U-m;++ge)this[ge+m]=Ae[ge%tt]}return this};const Ve={};function Se(N,_,m){Ve[N]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${N}]`,delete this.name}get code(){return N}set code(ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ne,writable:!0})}toString(){return`${this.name} [${N}]: ${this.message}`}}}function we(N){let _="",m=N.length;const U="-"===N[0]?1:0;for(;m>=U+4;m-=3)_=`_${N.slice(m-3,m)}${_}`;return`${N.slice(0,m)}${_}`}function ye(N,_,m,U,ne,ge){if(N>m||N<_){const Ae="bigint"==typeof _?"n":"";let tt;throw tt=ge>3?0===_||_===BigInt(0)?`>= 0${Ae} and < 2${Ae} ** ${8*(ge+1)}${Ae}`:`>= -(2${Ae} ** ${8*(ge+1)-1}${Ae}) and < 2 ** ${8*(ge+1)-1}${Ae}`:`>= ${_}${Ae} and <= ${m}${Ae}`,new Ve.ERR_OUT_OF_RANGE("value",tt,N)}!function Ue(N,_,m){De(_,"offset"),(void 0===N[_]||void 0===N[_+m])&&pe(_,N.length-(m+1))}(U,ne,ge)}function De(N,_){if("number"!=typeof N)throw new Ve.ERR_INVALID_ARG_TYPE(_,"number",N)}function pe(N,_,m){throw Math.floor(N)!==N?(De(N,m),new Ve.ERR_OUT_OF_RANGE(m||"offset","an integer",N)):_<0?new Ve.ERR_BUFFER_OUT_OF_BOUNDS:new Ve.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${_}`,N)}Se("ERR_BUFFER_OUT_OF_BOUNDS",function(N){return N?`${N} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Se("ERR_INVALID_ARG_TYPE",function(N,_){return`The "${N}" argument must be of type number. Received type ${typeof _}`},TypeError),Se("ERR_OUT_OF_RANGE",function(N,_,m){let U=`The value of "${N}" is out of range.`,ne=m;return Number.isInteger(m)&&Math.abs(m)>2**32?ne=we(String(m)):"bigint"==typeof m&&(ne=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(ne=we(ne)),ne+="n"),U+=` It must be ${_}. Received ${ne}`,U},RangeError);const ue=/[^+/0-9A-Za-z-_]/g;function oe(N,_){let m;_=_||1/0;const U=N.length;let ne=null;const ge=[];for(let Ae=0;Ae<U;++Ae){if(m=N.charCodeAt(Ae),m>55295&&m<57344){if(!ne){if(m>56319){(_-=3)>-1&&ge.push(239,191,189);continue}if(Ae+1===U){(_-=3)>-1&&ge.push(239,191,189);continue}ne=m;continue}if(m<56320){(_-=3)>-1&&ge.push(239,191,189),ne=m;continue}m=65536+(ne-55296<<10|m-56320)}else ne&&(_-=3)>-1&&ge.push(239,191,189);if(ne=null,m<128){if((_-=1)<0)break;ge.push(m)}else if(m<2048){if((_-=2)<0)break;ge.push(m>>6|192,63&m|128)}else if(m<65536){if((_-=3)<0)break;ge.push(m>>12|224,m>>6&63|128,63&m|128)}else{if(!(m<1114112))throw new Error("Invalid code point");if((_-=4)<0)break;ge.push(m>>18|240,m>>12&63|128,m>>6&63|128,63&m|128)}}return ge}function Re(N){return d.toByteArray(function Q(N){if((N=(N=N.split("=")[0]).trim().replace(ue,"")).length<2)return"";for(;N.length%4!=0;)N+="=";return N}(N))}function $e(N,_,m,U){let ne;for(ne=0;ne<U&&!(ne+m>=_.length||ne>=N.length);++ne)_[ne+m]=N[ne];return ne}function Fe(N,_){return N instanceof _||null!=N&&null!=N.constructor&&null!=N.constructor.name&&N.constructor.name===_.name}function _t(N){return N!=N}const We=function(){const N="0123456789abcdef",_=new Array(256);for(let m=0;m<16;++m){const U=16*m;for(let ne=0;ne<16;++ne)_[U+ne]=N[m]+N[ne]}return _}();function Le(N){return typeof BigInt>"u"?lt:N}function lt(){throw new Error("BigInt not supported")}},54626:(je,H,w)=>{H.Level=w(23963).BrowserLevel},8516:(je,H,w)=>{var d=w(81464);je.exports=d.Symbol},61057:(je,H,w)=>{var d=w(8516),E=w(8488),k=w(53327),O=d?d.toStringTag:void 0;je.exports=function A(P){return null==P?void 0===P?"[object Undefined]":"[object Null]":O&&O in Object(P)?E(P):k(P)}},78657:je=>{var H="object"==typeof globalThis&&globalThis&&globalThis.Object===Object&&globalThis;je.exports=H},46902:(je,H,w)=>{var E=w(72852)(Object.getPrototypeOf,Object);je.exports=E},8488:(je,H,w)=>{var d=w(8516),E=Object.prototype,k=E.hasOwnProperty,z=E.toString,x=d?d.toStringTag:void 0;je.exports=function O(A){var P=k.call(A,x),F=A[x];try{A[x]=void 0;var L=!0}catch{}var D=z.call(A);return L&&(P?A[x]=F:delete A[x]),D}},53327:je=>{var w=Object.prototype.toString;je.exports=function d(E){return w.call(E)}},72852:je=>{je.exports=function H(w,d){return function(E){return w(d(E))}}},81464:(je,H,w)=>{var d=w(78657),E="object"==typeof self&&self&&self.Object===Object&&self,k=d||E||Function("return this")();je.exports=k},57433:je=>{je.exports=function H(w){return null!=w&&"object"==typeof w}},49970:(je,H,w)=>{var d=w(61057),E=w(46902),k=w(57433),A=Function.prototype.toString,P=Object.prototype.hasOwnProperty,F=A.call(Object);je.exports=function L(D){if(!k(D)||"[object Object]"!=d(D))return!1;var X=E(D);if(null===X)return!0;var j=P.call(X,"constructor")&&X.constructor;return"function"==typeof j&&j instanceof j&&A.call(j)==F}},34725:(je,H,w)=>{"use strict";var d=w(71993),E=w(13686),k=w(27054).Buffer,z=new Array(16);function x(){E.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function O(D,X){return D<<X|D>>>32-X}function A(D,X,j,G,re,te,J){return O(D+(X&j|~X&G)+re+te|0,J)+X|0}function P(D,X,j,G,re,te,J){return O(D+(X&G|j&~G)+re+te|0,J)+X|0}function F(D,X,j,G,re,te,J){return O(D+(X^j^G)+re+te|0,J)+X|0}function L(D,X,j,G,re,te,J){return O(D+(j^(X|~G))+re+te|0,J)+X|0}d(x,E),x.prototype._update=function(){for(var D=z,X=0;X<16;++X)D[X]=this._block.readInt32LE(4*X);var j=this._a,G=this._b,re=this._c,te=this._d;j=A(j,G,re,te,D[0],3614090360,7),te=A(te,j,G,re,D[1],3905402710,12),re=A(re,te,j,G,D[2],606105819,17),G=A(G,re,te,j,D[3],3250441966,22),j=A(j,G,re,te,D[4],4118548399,7),te=A(te,j,G,re,D[5],1200080426,12),re=A(re,te,j,G,D[6],2821735955,17),G=A(G,re,te,j,D[7],4249261313,22),j=A(j,G,re,te,D[8],1770035416,7),te=A(te,j,G,re,D[9],2336552879,12),re=A(re,te,j,G,D[10],4294925233,17),G=A(G,re,te,j,D[11],2304563134,22),j=A(j,G,re,te,D[12],1804603682,7),te=A(te,j,G,re,D[13],4254626195,12),re=A(re,te,j,G,D[14],2792965006,17),j=P(j,G=A(G,re,te,j,D[15],1236535329,22),re,te,D[1],4129170786,5),te=P(te,j,G,re,D[6],3225465664,9),re=P(re,te,j,G,D[11],643717713,14),G=P(G,re,te,j,D[0],3921069994,20),j=P(j,G,re,te,D[5],3593408605,5),te=P(te,j,G,re,D[10],38016083,9),re=P(re,te,j,G,D[15],3634488961,14),G=P(G,re,te,j,D[4],3889429448,20),j=P(j,G,re,te,D[9],568446438,5),te=P(te,j,G,re,D[14],3275163606,9),re=P(re,te,j,G,D[3],4107603335,14),G=P(G,re,te,j,D[8],1163531501,20),j=P(j,G,re,te,D[13],2850285829,5),te=P(te,j,G,re,D[2],4243563512,9),re=P(re,te,j,G,D[7],1735328473,14),j=F(j,G=P(G,re,te,j,D[12],2368359562,20),re,te,D[5],4294588738,4),te=F(te,j,G,re,D[8],2272392833,11),re=F(re,te,j,G,D[11],1839030562,16),G=F(G,re,te,j,D[14],4259657740,23),j=F(j,G,re,te,D[1],2763975236,4),te=F(te,j,G,re,D[4],1272893353,11),re=F(re,te,j,G,D[7],4139469664,16),G=F(G,re,te,j,D[10],3200236656,23),j=F(j,G,re,te,D[13],681279174,4),te=F(te,j,G,re,D[0],3936430074,11),re=F(re,te,j,G,D[3],3572445317,16),G=F(G,re,te,j,D[6],76029189,23),j=F(j,G,re,te,D[9],3654602809,4),te=F(te,j,G,re,D[12],3873151461,11),re=F(re,te,j,G,D[15],530742520,16),j=L(j,G=F(G,re,te,j,D[2],3299628645,23),re,te,D[0],4096336452,6),te=L(te,j,G,re,D[7],1126891415,10),re=L(re,te,j,G,D[14],2878612391,15),G=L(G,re,te,j,D[5],4237533241,21),j=L(j,G,re,te,D[12],1700485571,6),te=L(te,j,G,re,D[3],2399980690,10),re=L(re,te,j,G,D[10],4293915773,15),G=L(G,re,te,j,D[1],2240044497,21),j=L(j,G,re,te,D[8],1873313359,6),te=L(te,j,G,re,D[15],4264355552,10),re=L(re,te,j,G,D[6],2734768916,15),G=L(G,re,te,j,D[13],1309151649,21),j=L(j,G,re,te,D[4],4149444226,6),te=L(te,j,G,re,D[11],3174756917,10),re=L(re,te,j,G,D[2],718787259,15),G=L(G,re,te,j,D[9],3951481745,21),this._a=this._a+j|0,this._b=this._b+G|0,this._c=this._c+re|0,this._d=this._d+te|0},x.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var D=k.allocUnsafe(16);return D.writeInt32LE(this._a,0),D.writeInt32LE(this._b,4),D.writeInt32LE(this._c,8),D.writeInt32LE(this._d,12),D},je.exports=x},53459:(je,H,w)=>{var d=w(57223),E=w(35294);function k(z){this.rand=z||new E.Rand}je.exports=k,k.create=function(x){return new k(x)},k.prototype._randbelow=function(x){var O=x.bitLength(),A=Math.ceil(O/8);do{var P=new d(this.rand.generate(A))}while(P.cmp(x)>=0);return P},k.prototype._randrange=function(x,O){var A=O.sub(x);return x.add(this._randbelow(A))},k.prototype.test=function(x,O,A){var P=x.bitLength(),F=d.mont(x),L=new d(1).toRed(F);O||(O=Math.max(1,P/48|0));for(var D=x.subn(1),X=0;!D.testn(X);X++);for(var j=x.shrn(X),G=D.toRed(F);O>0;O--){var te=this._randrange(new d(2),D);A&&A(te);var J=te.toRed(F).redPow(j);if(0!==J.cmp(L)&&0!==J.cmp(G)){for(var Z=1;Z<X;Z++){if(0===(J=J.redSqr()).cmp(L))return!1;if(0===J.cmp(G))break}if(Z===X)return!1}}return!0},k.prototype.getDivisor=function(x,O){var A=x.bitLength(),P=d.mont(x),F=new d(1).toRed(P);O||(O=Math.max(1,A/48|0));for(var L=x.subn(1),D=0;!L.testn(D);D++);for(var X=x.shrn(D),j=L.toRed(P);O>0;O--){var G=this._randrange(new d(2),L),re=x.gcd(G);if(0!==re.cmpn(1))return re;var te=G.toRed(P).redPow(X);if(0!==te.cmp(F)&&0!==te.cmp(j)){for(var J=1;J<D;J++){if(0===(te=te.redSqr()).cmp(F))return te.fromRed().subn(1).gcd(x);if(0===te.cmp(j))break}if(J===D)return(te=te.redSqr()).fromRed().subn(1).gcd(x)}}return!1}},57223:function(je,H,w){!function(d,E){"use strict";function k(C,a){if(!C)throw new Error(a||"Assertion failed")}function z(C,a){C.super_=a;var f=function(){};f.prototype=a.prototype,C.prototype=new f,C.prototype.constructor=C}function x(C,a,f){if(x.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(f=a,a=10),this._init(C||0,a||10,f||"be"))}var O;"object"==typeof d?d.exports=x:E.BN=x,x.BN=x,x.wordSize=26;try{O=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:w(64688).Buffer}catch{}function A(C,a){var f=C.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function P(C,a,f){var y=A(C,f);return f-1>=a&&(y|=A(C,f-1)<<4),y}function F(C,a,f,y){for(var g=0,M=Math.min(C.length,f),T=a;T<M;T++){var B=C.charCodeAt(T)-48;g*=y,g+=B>=49?B-49+10:B>=17?B-17+10:B}return g}x.isBN=function(a){return a instanceof x||null!==a&&"object"==typeof a&&a.constructor.wordSize===x.wordSize&&Array.isArray(a.words)},x.max=function(a,f){return a.cmp(f)>0?a:f},x.min=function(a,f){return a.cmp(f)<0?a:f},x.prototype._init=function(a,f,y){if("number"==typeof a)return this._initNumber(a,f,y);if("object"==typeof a)return this._initArray(a,f,y);"hex"===f&&(f=16),k(f===(0|f)&&f>=2&&f<=36);var g=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(g++,this.negative=1),g<a.length&&(16===f?this._parseHex(a,g,y):(this._parseBase(a,f,g),"le"===y&&this._initArray(this.toArray(),f,y)))},x.prototype._initNumber=function(a,f,y){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(k(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),f,y)},x.prototype._initArray=function(a,f,y){if(k("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var M,T,B=0;if("be"===y)for(g=a.length-1,M=0;g>=0;g-=3)this.words[M]|=(T=a[g]|a[g-1]<<8|a[g-2]<<16)<<B&67108863,this.words[M+1]=T>>>26-B&67108863,(B+=24)>=26&&(B-=26,M++);else if("le"===y)for(g=0,M=0;g<a.length;g+=3)this.words[M]|=(T=a[g]|a[g+1]<<8|a[g+2]<<16)<<B&67108863,this.words[M+1]=T>>>26-B&67108863,(B+=24)>=26&&(B-=26,M++);return this.strip()},x.prototype._parseHex=function(a,f,y){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var B,M=0,T=0;if("be"===y)for(g=a.length-1;g>=f;g-=2)B=P(a,f,g)<<M,this.words[T]|=67108863&B,M>=18?(M-=18,this.words[T+=1]|=B>>>26):M+=8;else for(g=(a.length-f)%2==0?f+1:f;g<a.length;g+=2)B=P(a,f,g)<<M,this.words[T]|=67108863&B,M>=18?(M-=18,this.words[T+=1]|=B>>>26):M+=8;this.strip()},x.prototype._parseBase=function(a,f,y){this.words=[0],this.length=1;for(var g=0,M=1;M<=67108863;M*=f)g++;g--,M=M/f|0;for(var T=a.length-y,B=T%g,S=Math.min(T,T-B)+y,s=0,v=y;v<S;v+=g)s=F(a,v,v+g,f),this.imuln(M),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==B){var W=1;for(s=F(a,v,a.length,f),v=0;v<B;v++)W*=f;this.imuln(W),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},x.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},x.prototype.clone=function(){var a=new x(null);return this.copy(a),a},x.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},x.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},x.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var L=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function G(C,a,f){f.negative=a.negative^C.negative;var y=C.length+a.length|0;f.length=y,y=y-1|0;var g=0|C.words[0],M=0|a.words[0],T=g*M,S=T/67108864|0;f.words[0]=67108863&T;for(var s=1;s<y;s++){for(var v=S>>>26,W=67108863&S,K=Math.min(s,a.length-1),ee=Math.max(0,s-C.length+1);ee<=K;ee++)v+=(T=(g=0|C.words[s-ee|0])*(M=0|a.words[ee])+W)/67108864|0,W=67108863&T;f.words[s]=0|W,S=0|v}return 0!==S?f.words[s]=0|S:f.length--,f.strip()}x.prototype.toString=function(a,f){var y;if(f=0|f||1,16===(a=a||10)||"hex"===a){y="";for(var g=0,M=0,T=0;T<this.length;T++){var B=this.words[T],S=(16777215&(B<<g|M)).toString(16);y=0!=(M=B>>>24-g&16777215)||T!==this.length-1?L[6-S.length]+S+y:S+y,(g+=2)>=26&&(g-=26,T--)}for(0!==M&&(y=M.toString(16)+y);y.length%f!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(a===(0|a)&&a>=2&&a<=36){var s=D[a],v=X[a];y="";var W=this.clone();for(W.negative=0;!W.isZero();){var K=W.modn(v).toString(a);y=(W=W.idivn(v)).isZero()?K+y:L[s-K.length]+K+y}for(this.isZero()&&(y="0"+y);y.length%f!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}k(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&k(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},x.prototype.toJSON=function(){return this.toString(16)},x.prototype.toBuffer=function(a,f){return k(typeof O<"u"),this.toArrayLike(O,a,f)},x.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},x.prototype.toArrayLike=function(a,f,y){var g=this.byteLength(),M=y||Math.max(1,g);k(g<=M,"byte array longer than desired length"),k(M>0,"Requested array length <= 0"),this.strip();var S,s,T="le"===f,B=new a(M),v=this.clone();if(T){for(s=0;!v.isZero();s++)S=v.andln(255),v.iushrn(8),B[s]=S;for(;s<M;s++)B[s]=0}else{for(s=0;s<M-g;s++)B[s]=0;for(s=0;!v.isZero();s++)S=v.andln(255),v.iushrn(8),B[M-s-1]=S}return B},x.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var f=a,y=0;return f>=4096&&(y+=13,f>>>=13),f>=64&&(y+=7,f>>>=7),f>=8&&(y+=4,f>>>=4),f>=2&&(y+=2,f>>>=2),y+f},x.prototype._zeroBits=function(a){if(0===a)return 26;var f=a,y=0;return 8191&f||(y+=13,f>>>=13),127&f||(y+=7,f>>>=7),15&f||(y+=4,f>>>=4),3&f||(y+=2,f>>>=2),1&f||y++,y},x.prototype.bitLength=function(){var f=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+f},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var y=this._zeroBits(this.words[f]);if(a+=y,26!==y)break}return a},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},x.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},x.prototype.ior=function(a){return k(!(this.negative|a.negative)),this.iuor(a)},x.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},x.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},x.prototype.iuand=function(a){var f;f=this.length>a.length?a:this;for(var y=0;y<f.length;y++)this.words[y]=this.words[y]&a.words[y];return this.length=f.length,this.strip()},x.prototype.iand=function(a){return k(!(this.negative|a.negative)),this.iuand(a)},x.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},x.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},x.prototype.iuxor=function(a){var f,y;this.length>a.length?(f=this,y=a):(f=a,y=this);for(var g=0;g<y.length;g++)this.words[g]=f.words[g]^y.words[g];if(this!==f)for(;g<f.length;g++)this.words[g]=f.words[g];return this.length=f.length,this.strip()},x.prototype.ixor=function(a){return k(!(this.negative|a.negative)),this.iuxor(a)},x.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},x.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},x.prototype.inotn=function(a){k("number"==typeof a&&a>=0);var f=0|Math.ceil(a/26),y=a%26;this._expand(f),y>0&&f--;for(var g=0;g<f;g++)this.words[g]=67108863&~this.words[g];return y>0&&(this.words[g]=~this.words[g]&67108863>>26-y),this.strip()},x.prototype.notn=function(a){return this.clone().inotn(a)},x.prototype.setn=function(a,f){k("number"==typeof a&&a>=0);var y=a/26|0,g=a%26;return this._expand(y+1),this.words[y]=f?this.words[y]|1<<g:this.words[y]&~(1<<g),this.strip()},x.prototype.iadd=function(a){var f,y,g;if(0!==this.negative&&0===a.negative)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();this.length>a.length?(y=this,g=a):(y=a,g=this);for(var M=0,T=0;T<g.length;T++)this.words[T]=67108863&(f=(0|y.words[T])+(0|g.words[T])+M),M=f>>>26;for(;0!==M&&T<y.length;T++)this.words[T]=67108863&(f=(0|y.words[T])+M),M=f>>>26;if(this.length=y.length,0!==M)this.words[this.length]=M,this.length++;else if(y!==this)for(;T<y.length;T++)this.words[T]=y.words[T];return this},x.prototype.add=function(a){var f;return 0!==a.negative&&0===this.negative?(a.negative=0,f=this.sub(a),a.negative^=1,f):0===a.negative&&0!==this.negative?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},x.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var g,M,y=this.cmp(a);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(g=this,M=a):(g=a,M=this);for(var T=0,B=0;B<M.length;B++)T=(f=(0|g.words[B])-(0|M.words[B])+T)>>26,this.words[B]=67108863&f;for(;0!==T&&B<g.length;B++)T=(f=(0|g.words[B])+T)>>26,this.words[B]=67108863&f;if(0===T&&B<g.length&&g!==this)for(;B<g.length;B++)this.words[B]=g.words[B];return this.length=Math.max(this.length,B),g!==this&&(this.negative=1),this.strip()},x.prototype.sub=function(a){return this.clone().isub(a)};var re=function(a,f,y){var S,s,v,g=a.words,M=f.words,T=y.words,B=0,W=0|g[0],K=8191&W,ee=W>>>13,ce=0|g[1],_e=8191&ce,Oe=ce>>>13,Ve=0|g[2],Se=8191&Ve,we=Ve>>>13,Ue=0|g[3],ye=8191&Ue,De=Ue>>>13,pe=0|g[4],ue=8191&pe,Q=pe>>>13,oe=0|g[5],fe=8191&oe,Ee=oe>>>13,Re=0|g[6],$e=8191&Re,Fe=Re>>>13,_t=0|g[7],We=8191&_t,Le=_t>>>13,lt=0|g[8],N=8191&lt,_=lt>>>13,m=0|g[9],U=8191&m,ne=m>>>13,ge=0|M[0],Ae=8191&ge,tt=ge>>>13,Bt=0|M[1],gt=8191&Bt,It=Bt>>>13,Zt=0|M[2],mn=8191&Zt,dn=Zt>>>13,ar=0|M[3],An=8191&ar,en=ar>>>13,Qt=0|M[4],Et=8191&Qt,ft=Qt>>>13,Ht=0|M[5],qt=8191&Ht,hn=Ht>>>13,hr=0|M[6],vt=8191&hr,St=hr>>>13,Mt=0|M[7],Ye=8191&Mt,nt=Mt>>>13,Wt=0|M[8],Nt=8191&Wt,un=Wt>>>13,Wn=0|M[9],En=8191&Wn,kn=Wn>>>13;y.negative=a.negative^f.negative,y.length=19;var Or=(B+(S=Math.imul(K,Ae))|0)+((8191&(s=(s=Math.imul(K,tt))+Math.imul(ee,Ae)|0))<<13)|0;B=((v=Math.imul(ee,tt))+(s>>>13)|0)+(Or>>>26)|0,Or&=67108863,S=Math.imul(_e,Ae),s=(s=Math.imul(_e,tt))+Math.imul(Oe,Ae)|0,v=Math.imul(Oe,tt);var Jn=(B+(S=S+Math.imul(K,gt)|0)|0)+((8191&(s=(s=s+Math.imul(K,It)|0)+Math.imul(ee,gt)|0))<<13)|0;B=((v=v+Math.imul(ee,It)|0)+(s>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,S=Math.imul(Se,Ae),s=(s=Math.imul(Se,tt))+Math.imul(we,Ae)|0,v=Math.imul(we,tt),S=S+Math.imul(_e,gt)|0,s=(s=s+Math.imul(_e,It)|0)+Math.imul(Oe,gt)|0,v=v+Math.imul(Oe,It)|0;var Fn=(B+(S=S+Math.imul(K,mn)|0)|0)+((8191&(s=(s=s+Math.imul(K,dn)|0)+Math.imul(ee,mn)|0))<<13)|0;B=((v=v+Math.imul(ee,dn)|0)+(s>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,S=Math.imul(ye,Ae),s=(s=Math.imul(ye,tt))+Math.imul(De,Ae)|0,v=Math.imul(De,tt),S=S+Math.imul(Se,gt)|0,s=(s=s+Math.imul(Se,It)|0)+Math.imul(we,gt)|0,v=v+Math.imul(we,It)|0,S=S+Math.imul(_e,mn)|0,s=(s=s+Math.imul(_e,dn)|0)+Math.imul(Oe,mn)|0,v=v+Math.imul(Oe,dn)|0;var Lt=(B+(S=S+Math.imul(K,An)|0)|0)+((8191&(s=(s=s+Math.imul(K,en)|0)+Math.imul(ee,An)|0))<<13)|0;B=((v=v+Math.imul(ee,en)|0)+(s>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,S=Math.imul(ue,Ae),s=(s=Math.imul(ue,tt))+Math.imul(Q,Ae)|0,v=Math.imul(Q,tt),S=S+Math.imul(ye,gt)|0,s=(s=s+Math.imul(ye,It)|0)+Math.imul(De,gt)|0,v=v+Math.imul(De,It)|0,S=S+Math.imul(Se,mn)|0,s=(s=s+Math.imul(Se,dn)|0)+Math.imul(we,mn)|0,v=v+Math.imul(we,dn)|0,S=S+Math.imul(_e,An)|0,s=(s=s+Math.imul(_e,en)|0)+Math.imul(Oe,An)|0,v=v+Math.imul(Oe,en)|0;var et=(B+(S=S+Math.imul(K,Et)|0)|0)+((8191&(s=(s=s+Math.imul(K,ft)|0)+Math.imul(ee,Et)|0))<<13)|0;B=((v=v+Math.imul(ee,ft)|0)+(s>>>13)|0)+(et>>>26)|0,et&=67108863,S=Math.imul(fe,Ae),s=(s=Math.imul(fe,tt))+Math.imul(Ee,Ae)|0,v=Math.imul(Ee,tt),S=S+Math.imul(ue,gt)|0,s=(s=s+Math.imul(ue,It)|0)+Math.imul(Q,gt)|0,v=v+Math.imul(Q,It)|0,S=S+Math.imul(ye,mn)|0,s=(s=s+Math.imul(ye,dn)|0)+Math.imul(De,mn)|0,v=v+Math.imul(De,dn)|0,S=S+Math.imul(Se,An)|0,s=(s=s+Math.imul(Se,en)|0)+Math.imul(we,An)|0,v=v+Math.imul(we,en)|0,S=S+Math.imul(_e,Et)|0,s=(s=s+Math.imul(_e,ft)|0)+Math.imul(Oe,Et)|0,v=v+Math.imul(Oe,ft)|0;var Te=(B+(S=S+Math.imul(K,qt)|0)|0)+((8191&(s=(s=s+Math.imul(K,hn)|0)+Math.imul(ee,qt)|0))<<13)|0;B=((v=v+Math.imul(ee,hn)|0)+(s>>>13)|0)+(Te>>>26)|0,Te&=67108863,S=Math.imul($e,Ae),s=(s=Math.imul($e,tt))+Math.imul(Fe,Ae)|0,v=Math.imul(Fe,tt),S=S+Math.imul(fe,gt)|0,s=(s=s+Math.imul(fe,It)|0)+Math.imul(Ee,gt)|0,v=v+Math.imul(Ee,It)|0,S=S+Math.imul(ue,mn)|0,s=(s=s+Math.imul(ue,dn)|0)+Math.imul(Q,mn)|0,v=v+Math.imul(Q,dn)|0,S=S+Math.imul(ye,An)|0,s=(s=s+Math.imul(ye,en)|0)+Math.imul(De,An)|0,v=v+Math.imul(De,en)|0,S=S+Math.imul(Se,Et)|0,s=(s=s+Math.imul(Se,ft)|0)+Math.imul(we,Et)|0,v=v+Math.imul(we,ft)|0,S=S+Math.imul(_e,qt)|0,s=(s=s+Math.imul(_e,hn)|0)+Math.imul(Oe,qt)|0,v=v+Math.imul(Oe,hn)|0;var Ne=(B+(S=S+Math.imul(K,vt)|0)|0)+((8191&(s=(s=s+Math.imul(K,St)|0)+Math.imul(ee,vt)|0))<<13)|0;B=((v=v+Math.imul(ee,St)|0)+(s>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,S=Math.imul(We,Ae),s=(s=Math.imul(We,tt))+Math.imul(Le,Ae)|0,v=Math.imul(Le,tt),S=S+Math.imul($e,gt)|0,s=(s=s+Math.imul($e,It)|0)+Math.imul(Fe,gt)|0,v=v+Math.imul(Fe,It)|0,S=S+Math.imul(fe,mn)|0,s=(s=s+Math.imul(fe,dn)|0)+Math.imul(Ee,mn)|0,v=v+Math.imul(Ee,dn)|0,S=S+Math.imul(ue,An)|0,s=(s=s+Math.imul(ue,en)|0)+Math.imul(Q,An)|0,v=v+Math.imul(Q,en)|0,S=S+Math.imul(ye,Et)|0,s=(s=s+Math.imul(ye,ft)|0)+Math.imul(De,Et)|0,v=v+Math.imul(De,ft)|0,S=S+Math.imul(Se,qt)|0,s=(s=s+Math.imul(Se,hn)|0)+Math.imul(we,qt)|0,v=v+Math.imul(we,hn)|0,S=S+Math.imul(_e,vt)|0,s=(s=s+Math.imul(_e,St)|0)+Math.imul(Oe,vt)|0,v=v+Math.imul(Oe,St)|0;var xt=(B+(S=S+Math.imul(K,Ye)|0)|0)+((8191&(s=(s=s+Math.imul(K,nt)|0)+Math.imul(ee,Ye)|0))<<13)|0;B=((v=v+Math.imul(ee,nt)|0)+(s>>>13)|0)+(xt>>>26)|0,xt&=67108863,S=Math.imul(N,Ae),s=(s=Math.imul(N,tt))+Math.imul(_,Ae)|0,v=Math.imul(_,tt),S=S+Math.imul(We,gt)|0,s=(s=s+Math.imul(We,It)|0)+Math.imul(Le,gt)|0,v=v+Math.imul(Le,It)|0,S=S+Math.imul($e,mn)|0,s=(s=s+Math.imul($e,dn)|0)+Math.imul(Fe,mn)|0,v=v+Math.imul(Fe,dn)|0,S=S+Math.imul(fe,An)|0,s=(s=s+Math.imul(fe,en)|0)+Math.imul(Ee,An)|0,v=v+Math.imul(Ee,en)|0,S=S+Math.imul(ue,Et)|0,s=(s=s+Math.imul(ue,ft)|0)+Math.imul(Q,Et)|0,v=v+Math.imul(Q,ft)|0,S=S+Math.imul(ye,qt)|0,s=(s=s+Math.imul(ye,hn)|0)+Math.imul(De,qt)|0,v=v+Math.imul(De,hn)|0,S=S+Math.imul(Se,vt)|0,s=(s=s+Math.imul(Se,St)|0)+Math.imul(we,vt)|0,v=v+Math.imul(we,St)|0,S=S+Math.imul(_e,Ye)|0,s=(s=s+Math.imul(_e,nt)|0)+Math.imul(Oe,Ye)|0,v=v+Math.imul(Oe,nt)|0;var nn=(B+(S=S+Math.imul(K,Nt)|0)|0)+((8191&(s=(s=s+Math.imul(K,un)|0)+Math.imul(ee,Nt)|0))<<13)|0;B=((v=v+Math.imul(ee,un)|0)+(s>>>13)|0)+(nn>>>26)|0,nn&=67108863,S=Math.imul(U,Ae),s=(s=Math.imul(U,tt))+Math.imul(ne,Ae)|0,v=Math.imul(ne,tt),S=S+Math.imul(N,gt)|0,s=(s=s+Math.imul(N,It)|0)+Math.imul(_,gt)|0,v=v+Math.imul(_,It)|0,S=S+Math.imul(We,mn)|0,s=(s=s+Math.imul(We,dn)|0)+Math.imul(Le,mn)|0,v=v+Math.imul(Le,dn)|0,S=S+Math.imul($e,An)|0,s=(s=s+Math.imul($e,en)|0)+Math.imul(Fe,An)|0,v=v+Math.imul(Fe,en)|0,S=S+Math.imul(fe,Et)|0,s=(s=s+Math.imul(fe,ft)|0)+Math.imul(Ee,Et)|0,v=v+Math.imul(Ee,ft)|0,S=S+Math.imul(ue,qt)|0,s=(s=s+Math.imul(ue,hn)|0)+Math.imul(Q,qt)|0,v=v+Math.imul(Q,hn)|0,S=S+Math.imul(ye,vt)|0,s=(s=s+Math.imul(ye,St)|0)+Math.imul(De,vt)|0,v=v+Math.imul(De,St)|0,S=S+Math.imul(Se,Ye)|0,s=(s=s+Math.imul(Se,nt)|0)+Math.imul(we,Ye)|0,v=v+Math.imul(we,nt)|0,S=S+Math.imul(_e,Nt)|0,s=(s=s+Math.imul(_e,un)|0)+Math.imul(Oe,Nt)|0,v=v+Math.imul(Oe,un)|0;var In=(B+(S=S+Math.imul(K,En)|0)|0)+((8191&(s=(s=s+Math.imul(K,kn)|0)+Math.imul(ee,En)|0))<<13)|0;B=((v=v+Math.imul(ee,kn)|0)+(s>>>13)|0)+(In>>>26)|0,In&=67108863,S=Math.imul(U,gt),s=(s=Math.imul(U,It))+Math.imul(ne,gt)|0,v=Math.imul(ne,It),S=S+Math.imul(N,mn)|0,s=(s=s+Math.imul(N,dn)|0)+Math.imul(_,mn)|0,v=v+Math.imul(_,dn)|0,S=S+Math.imul(We,An)|0,s=(s=s+Math.imul(We,en)|0)+Math.imul(Le,An)|0,v=v+Math.imul(Le,en)|0,S=S+Math.imul($e,Et)|0,s=(s=s+Math.imul($e,ft)|0)+Math.imul(Fe,Et)|0,v=v+Math.imul(Fe,ft)|0,S=S+Math.imul(fe,qt)|0,s=(s=s+Math.imul(fe,hn)|0)+Math.imul(Ee,qt)|0,v=v+Math.imul(Ee,hn)|0,S=S+Math.imul(ue,vt)|0,s=(s=s+Math.imul(ue,St)|0)+Math.imul(Q,vt)|0,v=v+Math.imul(Q,St)|0,S=S+Math.imul(ye,Ye)|0,s=(s=s+Math.imul(ye,nt)|0)+Math.imul(De,Ye)|0,v=v+Math.imul(De,nt)|0,S=S+Math.imul(Se,Nt)|0,s=(s=s+Math.imul(Se,un)|0)+Math.imul(we,Nt)|0,v=v+Math.imul(we,un)|0;var Kn=(B+(S=S+Math.imul(_e,En)|0)|0)+((8191&(s=(s=s+Math.imul(_e,kn)|0)+Math.imul(Oe,En)|0))<<13)|0;B=((v=v+Math.imul(Oe,kn)|0)+(s>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,S=Math.imul(U,mn),s=(s=Math.imul(U,dn))+Math.imul(ne,mn)|0,v=Math.imul(ne,dn),S=S+Math.imul(N,An)|0,s=(s=s+Math.imul(N,en)|0)+Math.imul(_,An)|0,v=v+Math.imul(_,en)|0,S=S+Math.imul(We,Et)|0,s=(s=s+Math.imul(We,ft)|0)+Math.imul(Le,Et)|0,v=v+Math.imul(Le,ft)|0,S=S+Math.imul($e,qt)|0,s=(s=s+Math.imul($e,hn)|0)+Math.imul(Fe,qt)|0,v=v+Math.imul(Fe,hn)|0,S=S+Math.imul(fe,vt)|0,s=(s=s+Math.imul(fe,St)|0)+Math.imul(Ee,vt)|0,v=v+Math.imul(Ee,St)|0,S=S+Math.imul(ue,Ye)|0,s=(s=s+Math.imul(ue,nt)|0)+Math.imul(Q,Ye)|0,v=v+Math.imul(Q,nt)|0,S=S+Math.imul(ye,Nt)|0,s=(s=s+Math.imul(ye,un)|0)+Math.imul(De,Nt)|0,v=v+Math.imul(De,un)|0;var er=(B+(S=S+Math.imul(Se,En)|0)|0)+((8191&(s=(s=s+Math.imul(Se,kn)|0)+Math.imul(we,En)|0))<<13)|0;B=((v=v+Math.imul(we,kn)|0)+(s>>>13)|0)+(er>>>26)|0,er&=67108863,S=Math.imul(U,An),s=(s=Math.imul(U,en))+Math.imul(ne,An)|0,v=Math.imul(ne,en),S=S+Math.imul(N,Et)|0,s=(s=s+Math.imul(N,ft)|0)+Math.imul(_,Et)|0,v=v+Math.imul(_,ft)|0,S=S+Math.imul(We,qt)|0,s=(s=s+Math.imul(We,hn)|0)+Math.imul(Le,qt)|0,v=v+Math.imul(Le,hn)|0,S=S+Math.imul($e,vt)|0,s=(s=s+Math.imul($e,St)|0)+Math.imul(Fe,vt)|0,v=v+Math.imul(Fe,St)|0,S=S+Math.imul(fe,Ye)|0,s=(s=s+Math.imul(fe,nt)|0)+Math.imul(Ee,Ye)|0,v=v+Math.imul(Ee,nt)|0,S=S+Math.imul(ue,Nt)|0,s=(s=s+Math.imul(ue,un)|0)+Math.imul(Q,Nt)|0,v=v+Math.imul(Q,un)|0;var _r=(B+(S=S+Math.imul(ye,En)|0)|0)+((8191&(s=(s=s+Math.imul(ye,kn)|0)+Math.imul(De,En)|0))<<13)|0;B=((v=v+Math.imul(De,kn)|0)+(s>>>13)|0)+(_r>>>26)|0,_r&=67108863,S=Math.imul(U,Et),s=(s=Math.imul(U,ft))+Math.imul(ne,Et)|0,v=Math.imul(ne,ft),S=S+Math.imul(N,qt)|0,s=(s=s+Math.imul(N,hn)|0)+Math.imul(_,qt)|0,v=v+Math.imul(_,hn)|0,S=S+Math.imul(We,vt)|0,s=(s=s+Math.imul(We,St)|0)+Math.imul(Le,vt)|0,v=v+Math.imul(Le,St)|0,S=S+Math.imul($e,Ye)|0,s=(s=s+Math.imul($e,nt)|0)+Math.imul(Fe,Ye)|0,v=v+Math.imul(Fe,nt)|0,S=S+Math.imul(fe,Nt)|0,s=(s=s+Math.imul(fe,un)|0)+Math.imul(Ee,Nt)|0,v=v+Math.imul(Ee,un)|0;var Tr=(B+(S=S+Math.imul(ue,En)|0)|0)+((8191&(s=(s=s+Math.imul(ue,kn)|0)+Math.imul(Q,En)|0))<<13)|0;B=((v=v+Math.imul(Q,kn)|0)+(s>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,S=Math.imul(U,qt),s=(s=Math.imul(U,hn))+Math.imul(ne,qt)|0,v=Math.imul(ne,hn),S=S+Math.imul(N,vt)|0,s=(s=s+Math.imul(N,St)|0)+Math.imul(_,vt)|0,v=v+Math.imul(_,St)|0,S=S+Math.imul(We,Ye)|0,s=(s=s+Math.imul(We,nt)|0)+Math.imul(Le,Ye)|0,v=v+Math.imul(Le,nt)|0,S=S+Math.imul($e,Nt)|0,s=(s=s+Math.imul($e,un)|0)+Math.imul(Fe,Nt)|0,v=v+Math.imul(Fe,un)|0;var Br=(B+(S=S+Math.imul(fe,En)|0)|0)+((8191&(s=(s=s+Math.imul(fe,kn)|0)+Math.imul(Ee,En)|0))<<13)|0;B=((v=v+Math.imul(Ee,kn)|0)+(s>>>13)|0)+(Br>>>26)|0,Br&=67108863,S=Math.imul(U,vt),s=(s=Math.imul(U,St))+Math.imul(ne,vt)|0,v=Math.imul(ne,St),S=S+Math.imul(N,Ye)|0,s=(s=s+Math.imul(N,nt)|0)+Math.imul(_,Ye)|0,v=v+Math.imul(_,nt)|0,S=S+Math.imul(We,Nt)|0,s=(s=s+Math.imul(We,un)|0)+Math.imul(Le,Nt)|0,v=v+Math.imul(Le,un)|0;var jr=(B+(S=S+Math.imul($e,En)|0)|0)+((8191&(s=(s=s+Math.imul($e,kn)|0)+Math.imul(Fe,En)|0))<<13)|0;B=((v=v+Math.imul(Fe,kn)|0)+(s>>>13)|0)+(jr>>>26)|0,jr&=67108863,S=Math.imul(U,Ye),s=(s=Math.imul(U,nt))+Math.imul(ne,Ye)|0,v=Math.imul(ne,nt),S=S+Math.imul(N,Nt)|0,s=(s=s+Math.imul(N,un)|0)+Math.imul(_,Nt)|0,v=v+Math.imul(_,un)|0;var Zr=(B+(S=S+Math.imul(We,En)|0)|0)+((8191&(s=(s=s+Math.imul(We,kn)|0)+Math.imul(Le,En)|0))<<13)|0;B=((v=v+Math.imul(Le,kn)|0)+(s>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,S=Math.imul(U,Nt),s=(s=Math.imul(U,un))+Math.imul(ne,Nt)|0,v=Math.imul(ne,un);var tn=(B+(S=S+Math.imul(N,En)|0)|0)+((8191&(s=(s=s+Math.imul(N,kn)|0)+Math.imul(_,En)|0))<<13)|0;B=((v=v+Math.imul(_,kn)|0)+(s>>>13)|0)+(tn>>>26)|0,tn&=67108863;var _n=(B+(S=Math.imul(U,En))|0)+((8191&(s=(s=Math.imul(U,kn))+Math.imul(ne,En)|0))<<13)|0;return B=((v=Math.imul(ne,kn))+(s>>>13)|0)+(_n>>>26)|0,_n&=67108863,T[0]=Or,T[1]=Jn,T[2]=Fn,T[3]=Lt,T[4]=et,T[5]=Te,T[6]=Ne,T[7]=xt,T[8]=nn,T[9]=In,T[10]=Kn,T[11]=er,T[12]=_r,T[13]=Tr,T[14]=Br,T[15]=jr,T[16]=Zr,T[17]=tn,T[18]=_n,0!==B&&(T[19]=B,y.length++),y};function J(C,a,f){return(new Z).mulp(C,a,f)}function Z(C,a){this.x=C,this.y=a}Math.imul||(re=G),x.prototype.mulTo=function(a,f){var y,g=this.length+a.length;return y=10===this.length&&10===a.length?re(this,a,f):g<63?G(this,a,f):g<1024?function te(C,a,f){f.negative=a.negative^C.negative,f.length=C.length+a.length;for(var y=0,g=0,M=0;M<f.length-1;M++){var T=g;g=0;for(var B=67108863&y,S=Math.min(M,a.length-1),s=Math.max(0,M-C.length+1);s<=S;s++){var ee=(0|C.words[M-s])*(0|a.words[s]),ce=67108863&ee;B=67108863&(ce=ce+B|0),g+=(T=(T=T+(ee/67108864|0)|0)+(ce>>>26)|0)>>>26,T&=67108863}f.words[M]=B,y=T,T=g}return 0!==y?f.words[M]=y:f.length--,f.strip()}(this,a,f):J(this,a,f),y},Z.prototype.makeRBT=function(a){for(var f=new Array(a),y=x.prototype._countBits(a)-1,g=0;g<a;g++)f[g]=this.revBin(g,y,a);return f},Z.prototype.revBin=function(a,f,y){if(0===a||a===y-1)return a;for(var g=0,M=0;M<f;M++)g|=(1&a)<<f-M-1,a>>=1;return g},Z.prototype.permute=function(a,f,y,g,M,T){for(var B=0;B<T;B++)g[B]=f[a[B]],M[B]=y[a[B]]},Z.prototype.transform=function(a,f,y,g,M,T){this.permute(T,a,f,y,g,M);for(var B=1;B<M;B<<=1)for(var S=B<<1,s=Math.cos(2*Math.PI/S),v=Math.sin(2*Math.PI/S),W=0;W<M;W+=S)for(var K=s,ee=v,ce=0;ce<B;ce++){var _e=y[W+ce],Oe=g[W+ce],Ve=y[W+ce+B],Se=g[W+ce+B],we=K*Ve-ee*Se;Se=K*Se+ee*Ve,y[W+ce]=_e+(Ve=we),g[W+ce]=Oe+Se,y[W+ce+B]=_e-Ve,g[W+ce+B]=Oe-Se,ce!==S&&(we=s*K-v*ee,ee=s*ee+v*K,K=we)}},Z.prototype.guessLen13b=function(a,f){var y=1|Math.max(f,a),g=1&y,M=0;for(y=y/2|0;y;y>>>=1)M++;return 1<<M+1+g},Z.prototype.conjugate=function(a,f,y){if(!(y<=1))for(var g=0;g<y/2;g++){var M=a[g];a[g]=a[y-g-1],a[y-g-1]=M,M=f[g],f[g]=-f[y-g-1],f[y-g-1]=-M}},Z.prototype.normalize13b=function(a,f){for(var y=0,g=0;g<f/2;g++){var M=8192*Math.round(a[2*g+1]/f)+Math.round(a[2*g]/f)+y;a[g]=67108863&M,y=M<67108864?0:M/67108864|0}return a},Z.prototype.convert13b=function(a,f,y,g){for(var M=0,T=0;T<f;T++)y[2*T]=8191&(M+=0|a[T]),y[2*T+1]=8191&(M>>>=13),M>>>=13;for(T=2*f;T<g;++T)y[T]=0;k(0===M),k(!(-8192&M))},Z.prototype.stub=function(a){for(var f=new Array(a),y=0;y<a;y++)f[y]=0;return f},Z.prototype.mulp=function(a,f,y){var g=2*this.guessLen13b(a.length,f.length),M=this.makeRBT(g),T=this.stub(g),B=new Array(g),S=new Array(g),s=new Array(g),v=new Array(g),W=new Array(g),K=new Array(g),ee=y.words;ee.length=g,this.convert13b(a.words,a.length,B,g),this.convert13b(f.words,f.length,v,g),this.transform(B,T,S,s,g,M),this.transform(v,T,W,K,g,M);for(var ce=0;ce<g;ce++){var _e=S[ce]*W[ce]-s[ce]*K[ce];s[ce]=S[ce]*K[ce]+s[ce]*W[ce],S[ce]=_e}return this.conjugate(S,s,g),this.transform(S,s,ee,T,g,M),this.conjugate(ee,T,g),this.normalize13b(ee,g),y.negative=a.negative^f.negative,y.length=a.length+f.length,y.strip()},x.prototype.mul=function(a){var f=new x(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},x.prototype.mulf=function(a){var f=new x(null);return f.words=new Array(this.length+a.length),J(this,a,f)},x.prototype.imul=function(a){return this.clone().mulTo(a,this)},x.prototype.imuln=function(a){k("number"==typeof a),k(a<67108864);for(var f=0,y=0;y<this.length;y++){var g=(0|this.words[y])*a,M=(67108863&g)+(67108863&f);f>>=26,f+=g/67108864|0,f+=M>>>26,this.words[y]=67108863&M}return 0!==f&&(this.words[y]=f,this.length++),this},x.prototype.muln=function(a){return this.clone().imuln(a)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(a){var f=function j(C){for(var a=new Array(C.bitLength()),f=0;f<a.length;f++){var g=f%26;a[f]=(C.words[f/26|0]&1<<g)>>>g}return a}(a);if(0===f.length)return new x(1);for(var y=this,g=0;g<f.length&&0===f[g];g++,y=y.sqr());if(++g<f.length)for(var M=y.sqr();g<f.length;g++,M=M.sqr())0!==f[g]&&(y=y.mul(M));return y},x.prototype.iushln=function(a){k("number"==typeof a&&a>=0);var M,f=a%26,y=(a-f)/26,g=67108863>>>26-f<<26-f;if(0!==f){var T=0;for(M=0;M<this.length;M++){var B=this.words[M]&g;this.words[M]=(0|this.words[M])-B<<f|T,T=B>>>26-f}T&&(this.words[M]=T,this.length++)}if(0!==y){for(M=this.length-1;M>=0;M--)this.words[M+y]=this.words[M];for(M=0;M<y;M++)this.words[M]=0;this.length+=y}return this.strip()},x.prototype.ishln=function(a){return k(0===this.negative),this.iushln(a)},x.prototype.iushrn=function(a,f,y){var g;k("number"==typeof a&&a>=0),g=f?(f-f%26)/26:0;var M=a%26,T=Math.min((a-M)/26,this.length),B=67108863^67108863>>>M<<M,S=y;if(g-=T,g=Math.max(0,g),S){for(var s=0;s<T;s++)S.words[s]=this.words[s];S.length=T}if(0!==T)if(this.length>T)for(this.length-=T,s=0;s<this.length;s++)this.words[s]=this.words[s+T];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=g);s--){var W=0|this.words[s];this.words[s]=v<<26-M|W>>>M,v=W&B}return S&&0!==v&&(S.words[S.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},x.prototype.ishrn=function(a,f,y){return k(0===this.negative),this.iushrn(a,f,y)},x.prototype.shln=function(a){return this.clone().ishln(a)},x.prototype.ushln=function(a){return this.clone().iushln(a)},x.prototype.shrn=function(a){return this.clone().ishrn(a)},x.prototype.ushrn=function(a){return this.clone().iushrn(a)},x.prototype.testn=function(a){k("number"==typeof a&&a>=0);var f=a%26,y=(a-f)/26;return!(this.length<=y||!(this.words[y]&1<<f))},x.prototype.imaskn=function(a){k("number"==typeof a&&a>=0);var f=a%26,y=(a-f)/26;return k(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==f&&y++,this.length=Math.min(y,this.length),0!==f&&(this.words[this.length-1]&=67108863^67108863>>>f<<f),this.strip())},x.prototype.maskn=function(a){return this.clone().imaskn(a)},x.prototype.iaddn=function(a){return k("number"==typeof a),k(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},x.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},x.prototype.isubn=function(a){if(k("number"==typeof a),k(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},x.prototype.addn=function(a){return this.clone().iaddn(a)},x.prototype.subn=function(a){return this.clone().isubn(a)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(a,f,y){var M;this._expand(a.length+y);var T,B=0;for(M=0;M<a.length;M++){T=(0|this.words[M+y])+B;var S=(0|a.words[M])*f;B=((T-=67108863&S)>>26)-(S/67108864|0),this.words[M+y]=67108863&T}for(;M<this.length-y;M++)B=(T=(0|this.words[M+y])+B)>>26,this.words[M+y]=67108863&T;if(0===B)return this.strip();for(k(-1===B),B=0,M=0;M<this.length;M++)B=(T=-(0|this.words[M])+B)>>26,this.words[M]=67108863&T;return this.negative=1,this.strip()},x.prototype._wordDiv=function(a,f){var y,g=this.clone(),M=a,T=0|M.words[M.length-1];0!=(y=26-this._countBits(T))&&(M=M.ushln(y),g.iushln(y),T=0|M.words[M.length-1]);var s,S=g.length-M.length;if("mod"!==f){(s=new x(null)).length=S+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var W=g.clone()._ishlnsubmul(M,1,S);0===W.negative&&(g=W,s&&(s.words[S]=1));for(var K=S-1;K>=0;K--){var ee=67108864*(0|g.words[M.length+K])+(0|g.words[M.length+K-1]);for(ee=Math.min(ee/T|0,67108863),g._ishlnsubmul(M,ee,K);0!==g.negative;)ee--,g.negative=0,g._ishlnsubmul(M,1,K),g.isZero()||(g.negative^=1);s&&(s.words[K]=ee)}return s&&s.strip(),g.strip(),"div"!==f&&0!==y&&g.iushrn(y),{div:s||null,mod:g}},x.prototype.divmod=function(a,f,y){return k(!a.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===a.negative?(T=this.neg().divmod(a,f),"mod"!==f&&(g=T.div.neg()),"div"!==f&&(M=T.mod.neg(),y&&0!==M.negative&&M.iadd(a)),{div:g,mod:M}):0===this.negative&&0!==a.negative?(T=this.divmod(a.neg(),f),"mod"!==f&&(g=T.div.neg()),{div:g,mod:T.mod}):this.negative&a.negative?(T=this.neg().divmod(a.neg(),f),"div"!==f&&(M=T.mod.neg(),y&&0!==M.negative&&M.isub(a)),{div:T.div,mod:M}):a.length>this.length||this.cmp(a)<0?{div:new x(0),mod:this}:1===a.length?"div"===f?{div:this.divn(a.words[0]),mod:null}:"mod"===f?{div:null,mod:new x(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new x(this.modn(a.words[0]))}:this._wordDiv(a,f);var g,M,T},x.prototype.div=function(a){return this.divmod(a,"div",!1).div},x.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},x.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},x.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var y=0!==f.div.negative?f.mod.isub(a):f.mod,g=a.ushrn(1),M=a.andln(1),T=y.cmp(g);return T<0||1===M&&0===T?f.div:0!==f.div.negative?f.div.isubn(1):f.div.iaddn(1)},x.prototype.modn=function(a){k(a<=67108863);for(var f=(1<<26)%a,y=0,g=this.length-1;g>=0;g--)y=(f*y+(0|this.words[g]))%a;return y},x.prototype.idivn=function(a){k(a<=67108863);for(var f=0,y=this.length-1;y>=0;y--){var g=(0|this.words[y])+67108864*f;this.words[y]=g/a|0,f=g%a}return this.strip()},x.prototype.divn=function(a){return this.clone().idivn(a)},x.prototype.egcd=function(a){k(0===a.negative),k(!a.isZero());var f=this,y=a.clone();f=0!==f.negative?f.umod(a):f.clone();for(var g=new x(1),M=new x(0),T=new x(0),B=new x(1),S=0;f.isEven()&&y.isEven();)f.iushrn(1),y.iushrn(1),++S;for(var s=y.clone(),v=f.clone();!f.isZero();){for(var W=0,K=1;!(f.words[0]&K)&&W<26;++W,K<<=1);if(W>0)for(f.iushrn(W);W-- >0;)(g.isOdd()||M.isOdd())&&(g.iadd(s),M.isub(v)),g.iushrn(1),M.iushrn(1);for(var ee=0,ce=1;!(y.words[0]&ce)&&ee<26;++ee,ce<<=1);if(ee>0)for(y.iushrn(ee);ee-- >0;)(T.isOdd()||B.isOdd())&&(T.iadd(s),B.isub(v)),T.iushrn(1),B.iushrn(1);f.cmp(y)>=0?(f.isub(y),g.isub(T),M.isub(B)):(y.isub(f),T.isub(g),B.isub(M))}return{a:T,b:B,gcd:y.iushln(S)}},x.prototype._invmp=function(a){k(0===a.negative),k(!a.isZero());var W,f=this,y=a.clone();f=0!==f.negative?f.umod(a):f.clone();for(var g=new x(1),M=new x(0),T=y.clone();f.cmpn(1)>0&&y.cmpn(1)>0;){for(var B=0,S=1;!(f.words[0]&S)&&B<26;++B,S<<=1);if(B>0)for(f.iushrn(B);B-- >0;)g.isOdd()&&g.iadd(T),g.iushrn(1);for(var s=0,v=1;!(y.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(y.iushrn(s);s-- >0;)M.isOdd()&&M.iadd(T),M.iushrn(1);f.cmp(y)>=0?(f.isub(y),g.isub(M)):(y.isub(f),M.isub(g))}return(W=0===f.cmpn(1)?g:M).cmpn(0)<0&&W.iadd(a),W},x.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),y=a.clone();f.negative=0,y.negative=0;for(var g=0;f.isEven()&&y.isEven();g++)f.iushrn(1),y.iushrn(1);for(;;){for(;f.isEven();)f.iushrn(1);for(;y.isEven();)y.iushrn(1);var M=f.cmp(y);if(M<0){var T=f;f=y,y=T}else if(0===M||0===y.cmpn(1))break;f.isub(y)}return y.iushln(g)},x.prototype.invm=function(a){return this.egcd(a).a.umod(a)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(a){return this.words[0]&a},x.prototype.bincn=function(a){k("number"==typeof a);var f=a%26,y=(a-f)/26,g=1<<f;if(this.length<=y)return this._expand(y+1),this.words[y]|=g,this;for(var M=g,T=y;0!==M&&T<this.length;T++){var B=0|this.words[T];M=(B+=M)>>>26,this.words[T]=B&=67108863}return 0!==M&&(this.words[T]=M,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(a){var y,f=a<0;if(0!==this.negative&&!f)return-1;if(0===this.negative&&f)return 1;if(this.strip(),this.length>1)y=1;else{f&&(a=-a),k(a<=67108863,"Number is too big");var g=0|this.words[0];y=g===a?0:g<a?-1:1}return 0!==this.negative?0|-y:y},x.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var f=this.ucmp(a);return 0!==this.negative?0|-f:f},x.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,y=this.length-1;y>=0;y--){var g=0|this.words[y],M=0|a.words[y];if(g!==M){g<M?f=-1:g>M&&(f=1);break}}return f},x.prototype.gtn=function(a){return 1===this.cmpn(a)},x.prototype.gt=function(a){return 1===this.cmp(a)},x.prototype.gten=function(a){return this.cmpn(a)>=0},x.prototype.gte=function(a){return this.cmp(a)>=0},x.prototype.ltn=function(a){return-1===this.cmpn(a)},x.prototype.lt=function(a){return-1===this.cmp(a)},x.prototype.lten=function(a){return this.cmpn(a)<=0},x.prototype.lte=function(a){return this.cmp(a)<=0},x.prototype.eqn=function(a){return 0===this.cmpn(a)},x.prototype.eq=function(a){return 0===this.cmp(a)},x.red=function(a){return new xe(a)},x.prototype.toRed=function(a){return k(!this.red,"Already a number in reduction context"),k(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},x.prototype.fromRed=function(){return k(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(a){return this.red=a,this},x.prototype.forceRed=function(a){return k(!this.red,"Already a number in reduction context"),this._forceRed(a)},x.prototype.redAdd=function(a){return k(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},x.prototype.redIAdd=function(a){return k(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},x.prototype.redSub=function(a){return k(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},x.prototype.redISub=function(a){return k(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},x.prototype.redShl=function(a){return k(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},x.prototype.redMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},x.prototype.redIMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},x.prototype.redSqr=function(){return k(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return k(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return k(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return k(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return k(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(a){return k(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var ie={k256:null,p224:null,p192:null,p25519:null};function ae(C,a){this.name=C,this.p=new x(a,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function se(){ae.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function de(){ae.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function le(){ae.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function be(){ae.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function xe(C){if("string"==typeof C){var a=x._prime(C);this.m=a.p,this.prime=a}else k(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function ke(C){xe.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ae.prototype._tmp=function(){var a=new x(null);return a.words=new Array(Math.ceil(this.n/13)),a},ae.prototype.ireduce=function(a){var y,f=a;do{this.split(f,this.tmp),y=(f=(f=this.imulK(f)).iadd(this.tmp)).bitLength()}while(y>this.n);var g=y<this.n?-1:f.ucmp(this.p);return 0===g?(f.words[0]=0,f.length=1):g>0?f.isub(this.p):void 0!==f.strip?f.strip():f._strip(),f},ae.prototype.split=function(a,f){a.iushrn(this.n,0,f)},ae.prototype.imulK=function(a){return a.imul(this.k)},z(se,ae),se.prototype.split=function(a,f){for(var y=4194303,g=Math.min(a.length,9),M=0;M<g;M++)f.words[M]=a.words[M];if(f.length=g,a.length<=9)return a.words[0]=0,void(a.length=1);var T=a.words[9];for(f.words[f.length++]=T&y,M=10;M<a.length;M++){var B=0|a.words[M];a.words[M-10]=(B&y)<<4|T>>>22,T=B}a.words[M-10]=T>>>=22,a.length-=0===T&&a.length>10?10:9},se.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,y=0;y<a.length;y++){var g=0|a.words[y];a.words[y]=67108863&(f+=977*g),f=64*g+(f/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},z(de,ae),z(le,ae),z(be,ae),be.prototype.imulK=function(a){for(var f=0,y=0;y<a.length;y++){var g=19*(0|a.words[y])+f,M=67108863&g;g>>>=26,a.words[y]=M,f=g}return 0!==f&&(a.words[a.length++]=f),a},x._prime=function(a){if(ie[a])return ie[a];var f;if("k256"===a)f=new se;else if("p224"===a)f=new de;else if("p192"===a)f=new le;else{if("p25519"!==a)throw new Error("Unknown prime "+a);f=new be}return ie[a]=f,f},xe.prototype._verify1=function(a){k(0===a.negative,"red works only with positives"),k(a.red,"red works only with red numbers")},xe.prototype._verify2=function(a,f){k(!(a.negative|f.negative),"red works only with positives"),k(a.red&&a.red===f.red,"red works only with red numbers")},xe.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},xe.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},xe.prototype.add=function(a,f){this._verify2(a,f);var y=a.add(f);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},xe.prototype.iadd=function(a,f){this._verify2(a,f);var y=a.iadd(f);return y.cmp(this.m)>=0&&y.isub(this.m),y},xe.prototype.sub=function(a,f){this._verify2(a,f);var y=a.sub(f);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},xe.prototype.isub=function(a,f){this._verify2(a,f);var y=a.isub(f);return y.cmpn(0)<0&&y.iadd(this.m),y},xe.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},xe.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},xe.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},xe.prototype.isqr=function(a){return this.imul(a,a.clone())},xe.prototype.sqr=function(a){return this.mul(a,a)},xe.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(k(f%2==1),3===f){var y=this.m.add(new x(1)).iushrn(2);return this.pow(a,y)}for(var g=this.m.subn(1),M=0;!g.isZero()&&0===g.andln(1);)M++,g.iushrn(1);k(!g.isZero());var T=new x(1).toRed(this),B=T.redNeg(),S=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new x(2*s*s).toRed(this);0!==this.pow(s,S).cmp(B);)s.redIAdd(B);for(var v=this.pow(s,g),W=this.pow(a,g.addn(1).iushrn(1)),K=this.pow(a,g),ee=M;0!==K.cmp(T);){for(var ce=K,_e=0;0!==ce.cmp(T);_e++)ce=ce.redSqr();k(_e<ee);var Oe=this.pow(v,new x(1).iushln(ee-_e-1));W=W.redMul(Oe),v=Oe.redSqr(),K=K.redMul(v),ee=_e}return W},xe.prototype.invm=function(a){var f=a._invmp(this.m);return 0!==f.negative?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},xe.prototype.pow=function(a,f){if(f.isZero())return new x(1).toRed(this);if(0===f.cmpn(1))return a.clone();var g=new Array(16);g[0]=new x(1).toRed(this),g[1]=a;for(var M=2;M<g.length;M++)g[M]=this.mul(g[M-1],a);var T=g[0],B=0,S=0,s=f.bitLength()%26;for(0===s&&(s=26),M=f.length-1;M>=0;M--){for(var v=f.words[M],W=s-1;W>=0;W--){var K=v>>W&1;T!==g[0]&&(T=this.sqr(T)),0!==K||0!==B?(B<<=1,B|=K,(4==++S||0===M&&0===W)&&(T=this.mul(T,g[B]),S=0,B=0)):S=0}s=26}return T},xe.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},xe.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},x.mont=function(a){return new ke(a)},z(ke,xe),ke.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ke.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ke.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var y=a.imul(f),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(g).iushrn(this.shift),T=M;return M.cmp(this.m)>=0?T=M.isub(this.m):M.cmpn(0)<0&&(T=M.iadd(this.m)),T._forceRed(this)},ke.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new x(0)._forceRed(this);var y=a.mul(f),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(g).iushrn(this.shift),T=M;return M.cmp(this.m)>=0?T=M.isub(this.m):M.cmpn(0)<0&&(T=M.iadd(this.m)),T._forceRed(this)},ke.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(je=w.nmd(je),this)},39210:je=>{function H(w,d){if(!w)throw new Error(d||"Assertion failed")}je.exports=H,H.equal=function(d,E,k){if(d!=E)throw new Error(k||"Assertion failed: "+d+" != "+E)}},21832:(je,H)=>{"use strict";var w=H;function E(z){return 1===z.length?"0"+z:z}function k(z){for(var x="",O=0;O<z.length;O++)x+=E(z[O].toString(16));return x}w.toArray=function d(z,x){if(Array.isArray(z))return z.slice();if(!z)return[];var O=[];if("string"!=typeof z){for(var A=0;A<z.length;A++)O[A]=0|z[A];return O}if("hex"===x)for((z=z.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(z="0"+z),A=0;A<z.length;A+=2)O.push(parseInt(z[A]+z[A+1],16));else for(A=0;A<z.length;A++){var P=z.charCodeAt(A),F=P>>8,L=255&P;F?O.push(F,L):O.push(L)}return O},w.zero2=E,w.toHex=k,w.encode=function(x,O){return"hex"===O?k(x):x}},61747:je=>{"use strict";je.exports=class extends Error{constructor(w,d){super(w||""),"object"==typeof d&&null!==d&&(d.code&&(this.code=String(d.code)),d.expected&&(this.expected=!0),d.transient&&(this.transient=!0),d.cause&&(this.cause=d.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}},13026:(je,H,w)=>{je.exports=w(3116)},3116:function(je,H){!function(w,d){"use strict";var E={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function k(j){if(!Array.isArray(j)&&!ArrayBuffer.isView(j))return!1;for(var G=0;G<j.length;G++)if(!Number.isInteger(j[G])||j[G]<0||j[G]>255)return!1;return!0}function z(j,G){return(65535&j)*G+(((j>>>16)*G&65535)<<16)}function x(j,G){return j<<G|j>>>32-G}function O(j){return j=z(j^=j>>>16,2246822507),(j=z(j^=j>>>13,3266489909))^j>>>16}function A(j,G){var re=[0,0,0,0];return re[3]+=(j=[j[0]>>>16,65535&j[0],j[1]>>>16,65535&j[1]])[3]+(G=[G[0]>>>16,65535&G[0],G[1]>>>16,65535&G[1]])[3],re[2]+=re[3]>>>16,re[3]&=65535,re[2]+=j[2]+G[2],re[1]+=re[2]>>>16,re[2]&=65535,re[1]+=j[1]+G[1],re[0]+=re[1]>>>16,re[1]&=65535,re[0]+=j[0]+G[0],re[0]&=65535,[re[0]<<16|re[1],re[2]<<16|re[3]]}function P(j,G){var re=[0,0,0,0];return re[3]+=(j=[j[0]>>>16,65535&j[0],j[1]>>>16,65535&j[1]])[3]*(G=[G[0]>>>16,65535&G[0],G[1]>>>16,65535&G[1]])[3],re[2]+=re[3]>>>16,re[3]&=65535,re[2]+=j[2]*G[3],re[1]+=re[2]>>>16,re[2]&=65535,re[2]+=j[3]*G[2],re[1]+=re[2]>>>16,re[2]&=65535,re[1]+=j[1]*G[3],re[0]+=re[1]>>>16,re[1]&=65535,re[1]+=j[2]*G[2],re[0]+=re[1]>>>16,re[1]&=65535,re[1]+=j[3]*G[1],re[0]+=re[1]>>>16,re[1]&=65535,re[0]+=j[0]*G[3]+j[1]*G[2]+j[2]*G[1]+j[3]*G[0],re[0]&=65535,[re[0]<<16|re[1],re[2]<<16|re[3]]}function F(j,G){return 32==(G%=64)?[j[1],j[0]]:G<32?[j[0]<<G|j[1]>>>32-G,j[1]<<G|j[0]>>>32-G]:[j[1]<<(G-=32)|j[0]>>>32-G,j[0]<<G|j[1]>>>32-G]}function L(j,G){return 0==(G%=64)?j:G<32?[j[0]<<G|j[1]>>>32-G,j[1]<<G]:[j[1]<<G-32,0]}function D(j,G){return[j[0]^G[0],j[1]^G[1]]}function X(j){return j=D(j,[0,j[0]>>>1]),j=D(j=P(j,[4283543511,3981806797]),[0,j[0]>>>1]),D(j=P(j,[3301882366,444984403]),[0,j[0]>>>1])}E.x86.hash32=function(j,G){if(E.inputValidation&&!k(j))return d;for(var re=j.length%4,te=j.length-re,J=G=G||0,Z=0,ie=3432918353,ae=461845907,se=0;se<te;se+=4)Z=z(Z=j[se]|j[se+1]<<8|j[se+2]<<16|j[se+3]<<24,ie),Z=z(Z=x(Z,15),ae),J=z(J=x(J^=Z,13),5)+3864292196;switch(Z=0,re){case 3:Z^=j[se+2]<<16;case 2:Z^=j[se+1]<<8;case 1:Z=z(Z^=j[se],ie),J^=Z=z(Z=x(Z,15),ae)}return(J=O(J^=j.length))>>>0},E.x86.hash128=function(j,G){if(E.inputValidation&&!k(j))return d;for(var re=j.length%16,te=j.length-re,J=G=G||0,Z=G,ie=G,ae=G,se=0,de=0,le=0,be=0,xe=597399067,ke=2869860233,C=951274213,a=2716044179,f=0;f<te;f+=16)de=j[f+4]|j[f+5]<<8|j[f+6]<<16|j[f+7]<<24,le=j[f+8]|j[f+9]<<8|j[f+10]<<16|j[f+11]<<24,be=j[f+12]|j[f+13]<<8|j[f+14]<<16|j[f+15]<<24,se=x(se=z(se=j[f]|j[f+1]<<8|j[f+2]<<16|j[f+3]<<24,xe),15),J=x(J^=se=z(se,ke),19),J=z(J+=Z,5)+1444728091,de=x(de=z(de,ke),16),Z=x(Z^=de=z(de,C),17),Z=z(Z+=ie,5)+197830471,le=x(le=z(le,C),17),ie=x(ie^=le=z(le,a),15),ie=z(ie+=ae,5)+2530024501,be=x(be=z(be,a),18),ae=x(ae^=be=z(be,xe),13),ae=z(ae+=J,5)+850148119;switch(se=0,de=0,le=0,be=0,re){case 15:be^=j[f+14]<<16;case 14:be^=j[f+13]<<8;case 13:be=z(be^=j[f+12],a),ae^=be=z(be=x(be,18),xe);case 12:le^=j[f+11]<<24;case 11:le^=j[f+10]<<16;case 10:le^=j[f+9]<<8;case 9:le=z(le^=j[f+8],C),ie^=le=z(le=x(le,17),a);case 8:de^=j[f+7]<<24;case 7:de^=j[f+6]<<16;case 6:de^=j[f+5]<<8;case 5:de=z(de^=j[f+4],ke),Z^=de=z(de=x(de,16),C);case 4:se^=j[f+3]<<24;case 3:se^=j[f+2]<<16;case 2:se^=j[f+1]<<8;case 1:se=z(se^=j[f],xe),J^=se=z(se=x(se,15),ke)}return J^=j.length,J+=Z^=j.length,J+=ie^=j.length,Z+=J+=ae^=j.length,ie+=J,ae+=J,J=O(J),J+=Z=O(Z),J+=ie=O(ie),Z+=J+=ae=O(ae),ie+=J,ae+=J,("00000000"+(J>>>0).toString(16)).slice(-8)+("00000000"+(Z>>>0).toString(16)).slice(-8)+("00000000"+(ie>>>0).toString(16)).slice(-8)+("00000000"+(ae>>>0).toString(16)).slice(-8)},E.x64.hash128=function(j,G){if(E.inputValidation&&!k(j))return d;for(var re=j.length%16,te=j.length-re,J=[0,G=G||0],Z=[0,G],ie=[0,0],ae=[0,0],se=[2277735313,289559509],de=[1291169091,658871167],le=0;le<te;le+=16)ae=[j[le+12]|j[le+13]<<8|j[le+14]<<16|j[le+15]<<24,j[le+8]|j[le+9]<<8|j[le+10]<<16|j[le+11]<<24],ie=F(ie=P(ie=[j[le+4]|j[le+5]<<8|j[le+6]<<16|j[le+7]<<24,j[le]|j[le+1]<<8|j[le+2]<<16|j[le+3]<<24],se),31),J=A(J=F(J=D(J,ie=P(ie,de)),27),Z),J=A(P(J,[0,5]),[0,1390208809]),ae=F(ae=P(ae,de),33),Z=A(Z=F(Z=D(Z,ae=P(ae,se)),31),J),Z=A(P(Z,[0,5]),[0,944331445]);switch(ie=[0,0],ae=[0,0],re){case 15:ae=D(ae,L([0,j[le+14]],48));case 14:ae=D(ae,L([0,j[le+13]],40));case 13:ae=D(ae,L([0,j[le+12]],32));case 12:ae=D(ae,L([0,j[le+11]],24));case 11:ae=D(ae,L([0,j[le+10]],16));case 10:ae=D(ae,L([0,j[le+9]],8));case 9:ae=P(ae=D(ae,[0,j[le+8]]),de),Z=D(Z,ae=P(ae=F(ae,33),se));case 8:ie=D(ie,L([0,j[le+7]],56));case 7:ie=D(ie,L([0,j[le+6]],48));case 6:ie=D(ie,L([0,j[le+5]],40));case 5:ie=D(ie,L([0,j[le+4]],32));case 4:ie=D(ie,L([0,j[le+3]],24));case 3:ie=D(ie,L([0,j[le+2]],16));case 2:ie=D(ie,L([0,j[le+1]],8));case 1:ie=P(ie=D(ie,[0,j[le]]),se),J=D(J,ie=P(ie=F(ie,31),de))}return J=A(J=D(J,[0,j.length]),Z=D(Z,[0,j.length])),Z=A(Z,J),J=A(J=X(J),Z=X(Z)),Z=A(Z,J),("00000000"+(J[0]>>>0).toString(16)).slice(-8)+("00000000"+(J[1]>>>0).toString(16)).slice(-8)+("00000000"+(Z[0]>>>0).toString(16)).slice(-8)+("00000000"+(Z[1]>>>0).toString(16)).slice(-8)},je.exports&&(H=je.exports=E),H.murmurHash3=E}()},50233:je=>{"use strict";var H=Object.prototype.hasOwnProperty,w="~";function d(){}function E(O,A,P){this.fn=O,this.context=A,this.once=P||!1}function k(O,A,P,F,L){if("function"!=typeof P)throw new TypeError("The listener must be a function");var D=new E(P,F||O,L),X=w?w+A:A;return O._events[X]?O._events[X].fn?O._events[X]=[O._events[X],D]:O._events[X].push(D):(O._events[X]=D,O._eventsCount++),O}function z(O,A){0==--O._eventsCount?O._events=new d:delete O._events[A]}function x(){this._events=new d,this._eventsCount=0}Object.create&&(d.prototype=Object.create(null),(new d).__proto__||(w=!1)),x.prototype.eventNames=function(){var P,F,A=[];if(0===this._eventsCount)return A;for(F in P=this._events)H.call(P,F)&&A.push(w?F.slice(1):F);return Object.getOwnPropertySymbols?A.concat(Object.getOwnPropertySymbols(P)):A},x.prototype.listeners=function(A){var F=this._events[w?w+A:A];if(!F)return[];if(F.fn)return[F.fn];for(var L=0,D=F.length,X=new Array(D);L<D;L++)X[L]=F[L].fn;return X},x.prototype.listenerCount=function(A){var F=this._events[w?w+A:A];return F?F.fn?1:F.length:0},x.prototype.emit=function(A,P,F,L,D,X){var j=w?w+A:A;if(!this._events[j])return!1;var te,J,G=this._events[j],re=arguments.length;if(G.fn){switch(G.once&&this.removeListener(A,G.fn,void 0,!0),re){case 1:return G.fn.call(G.context),!0;case 2:return G.fn.call(G.context,P),!0;case 3:return G.fn.call(G.context,P,F),!0;case 4:return G.fn.call(G.context,P,F,L),!0;case 5:return G.fn.call(G.context,P,F,L,D),!0;case 6:return G.fn.call(G.context,P,F,L,D,X),!0}for(J=1,te=new Array(re-1);J<re;J++)te[J-1]=arguments[J];G.fn.apply(G.context,te)}else{var ie,Z=G.length;for(J=0;J<Z;J++)switch(G[J].once&&this.removeListener(A,G[J].fn,void 0,!0),re){case 1:G[J].fn.call(G[J].context);break;case 2:G[J].fn.call(G[J].context,P);break;case 3:G[J].fn.call(G[J].context,P,F);break;case 4:G[J].fn.call(G[J].context,P,F,L);break;default:if(!te)for(ie=1,te=new Array(re-1);ie<re;ie++)te[ie-1]=arguments[ie];G[J].fn.apply(G[J].context,te)}}return!0},x.prototype.on=function(A,P,F){return k(this,A,P,F,!1)},x.prototype.once=function(A,P,F){return k(this,A,P,F,!0)},x.prototype.removeListener=function(A,P,F,L){var D=w?w+A:A;if(!this._events[D])return this;if(!P)return z(this,D),this;var X=this._events[D];if(X.fn)X.fn===P&&(!L||X.once)&&(!F||X.context===F)&&z(this,D);else{for(var j=0,G=[],re=X.length;j<re;j++)(X[j].fn!==P||L&&!X[j].once||F&&X[j].context!==F)&&G.push(X[j]);G.length?this._events[D]=1===G.length?G[0]:G:z(this,D)}return this},x.prototype.removeAllListeners=function(A){var P;return A?this._events[P=w?w+A:A]&&z(this,P):(this._events=new d,this._eventsCount=0),this},x.prototype.off=x.prototype.removeListener,x.prototype.addListener=x.prototype.on,x.prefixed=w,x.EventEmitter=x,je.exports=x},83138:(je,H,w)=>{"use strict";var d=w(49609);H.certificate=w(94772);var E=d.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});H.RSAPrivateKey=E;var k=d.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});H.RSAPublicKey=k;var z=d.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),x=d.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(z),this.key("subjectPublicKey").bitstr())});H.PublicKey=x;var O=d.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(z),this.key("subjectPrivateKey").octstr())});H.PrivateKey=O;var A=d.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});H.EncryptedPrivateKey=A;var P=d.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});H.DSAPrivateKey=P,H.DSAparam=d.define("DSAparam",function(){this.int()});var F=d.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),L=d.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(F),this.key("publicKey").optional().explicit(1).bitstr())});H.ECPrivateKey=L,H.signature=d.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},94772:(je,H,w)=>{"use strict";var d=w(49609),E=d.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),k=d.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),z=d.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),x=d.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(z),this.key("subjectPublicKey").bitstr())}),O=d.define("RelativeDistinguishedName",function(){this.setof(k)}),A=d.define("RDNSequence",function(){this.seqof(O)}),P=d.define("Name",function(){this.choice({rdnSequence:this.use(A)})}),F=d.define("Validity",function(){this.seq().obj(this.key("notBefore").use(E),this.key("notAfter").use(E))}),L=d.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),D=d.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(z),this.key("issuer").use(P),this.key("validity").use(F),this.key("subject").use(P),this.key("subjectPublicKeyInfo").use(x),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(L).optional())}),X=d.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(D),this.key("signatureAlgorithm").use(z),this.key("signatureValue").bitstr())});je.exports=X},89472:(je,H,w)=>{"use strict";var d=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,E=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,k=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,z=w(18211),x=w(43388),O=w(27054).Buffer;je.exports=function(A,P){var D,F=A.toString(),L=F.match(d);if(L){var j="aes"+L[1],G=O.from(L[2],"hex"),re=O.from(L[3].replace(/[\r\n]/g,""),"base64"),te=z(P,G.slice(0,8),parseInt(L[1],10)).key,J=[],Z=x.createDecipheriv(j,te,G);J.push(Z.update(re)),J.push(Z.final()),D=O.concat(J)}else{var X=F.match(k);D=O.from(X[2].replace(/[\r\n]/g,""),"base64")}return{tag:F.match(E)[1],data:D}}},65667:(je,H,w)=>{"use strict";var d=w(83138),E=w(15579),k=w(89472),z=w(43388),x=w(93397),O=w(27054).Buffer;function P(F){var L;"object"==typeof F&&!O.isBuffer(F)&&(L=F.passphrase,F=F.key),"string"==typeof F&&(F=O.from(F));var G,re,D=k(F,L),X=D.tag,j=D.data;switch(X){case"CERTIFICATE":re=d.certificate.decode(j,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(re||(re=d.PublicKey.decode(j,"der")),G=re.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return d.RSAPublicKey.decode(re.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return re.subjectPrivateKey=re.subjectPublicKey,{type:"ec",data:re};case"1.2.840.10040.4.1":return re.algorithm.params.pub_key=d.DSAparam.decode(re.subjectPublicKey.data,"der"),{type:"dsa",data:re.algorithm.params};default:throw new Error("unknown key id "+G)}case"ENCRYPTED PRIVATE KEY":j=function A(F,L){var D=F.algorithm.decrypt.kde.kdeparams.salt,X=parseInt(F.algorithm.decrypt.kde.kdeparams.iters.toString(),10),j=E[F.algorithm.decrypt.cipher.algo.join(".")],G=F.algorithm.decrypt.cipher.iv,re=F.subjectPrivateKey,te=parseInt(j.split("-")[1],10)/8,J=x.pbkdf2Sync(L,D,X,te,"sha1"),Z=z.createDecipheriv(j,J,G),ie=[];return ie.push(Z.update(re)),ie.push(Z.final()),O.concat(ie)}(j=d.EncryptedPrivateKey.decode(j,"der"),L);case"PRIVATE KEY":switch(G=(re=d.PrivateKey.decode(j,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return d.RSAPrivateKey.decode(re.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:re.algorithm.curve,privateKey:d.ECPrivateKey.decode(re.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return re.algorithm.params.priv_key=d.DSAparam.decode(re.subjectPrivateKey,"der"),{type:"dsa",params:re.algorithm.params};default:throw new Error("unknown key id "+G)}case"RSA PUBLIC KEY":return d.RSAPublicKey.decode(j,"der");case"RSA PRIVATE KEY":return d.RSAPrivateKey.decode(j,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:d.DSAPrivateKey.decode(j,"der")};case"EC PRIVATE KEY":return{curve:(j=d.ECPrivateKey.decode(j,"der")).parameters.value,privateKey:j.privateKey};default:throw new Error("unknown key type "+X)}}P.signature=d.signature,je.exports=P},93397:(je,H,w)=>{H.pbkdf2=w(82685),H.pbkdf2Sync=w(59111)},82685:(je,H,w)=>{var O,D,d=w(27054).Buffer,E=w(86111),k=w(45392),z=w(59111),x=w(76643),A=globalThis.crypto&&globalThis.crypto.subtle,P={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},F=[];function X(){return D||(D=globalThis.process&&globalThis.process.nextTick?globalThis.process.nextTick:globalThis.queueMicrotask?globalThis.queueMicrotask:globalThis.setImmediate?globalThis.setImmediate:globalThis.setTimeout)}function j(re,te,J,Z,ie){return A.importKey("raw",re,{name:"PBKDF2"},!1,["deriveBits"]).then(function(ae){return A.deriveBits({name:"PBKDF2",salt:te,iterations:J,hash:{name:ie}},ae,Z<<3)}).then(function(ae){return d.from(ae)})}je.exports=function(re,te,J,Z,ie,ae){"function"==typeof ie&&(ae=ie,ie=void 0);var se=P[(ie=ie||"sha1").toLowerCase()];if(se&&"function"==typeof globalThis.Promise){if(E(J,Z),re=x(re,k,"Password"),te=x(te,k,"Salt"),"function"!=typeof ae)throw new Error("No callback provided to pbkdf2");!function G(re,te){re.then(function(J){X()(function(){te(null,J)})},function(J){X()(function(){te(J)})})}(function L(re){if(globalThis.process&&!globalThis.process.browser||!A||!A.importKey||!A.deriveBits)return Promise.resolve(!1);if(void 0!==F[re])return F[re];var te=j(O=O||d.alloc(8),O,10,128,re).then(function(){return!0}).catch(function(){return!1});return F[re]=te,te}(se).then(function(de){return de?j(re,te,J,Z,se):z(re,te,J,Z,ie)}),ae)}else X()(function(){var de;try{de=z(re,te,J,Z,ie)}catch(le){return ae(le)}ae(null,de)})}},45392:(je,H,w)=>{var E,d=w(40573);E=globalThis.process&&globalThis.process.browser?"utf-8":globalThis.process&&globalThis.process.version?parseInt(d.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",je.exports=E},86111:je=>{var H=Math.pow(2,30)-1;je.exports=function(w,d){if("number"!=typeof w)throw new TypeError("Iterations not a number");if(w<0)throw new TypeError("Bad iterations");if("number"!=typeof d)throw new TypeError("Key length not a number");if(d<0||d>H||d!=d)throw new TypeError("Bad key length")}},59111:(je,H,w)=>{var d=w(83407),E=w(36636),k=w(25443),z=w(27054).Buffer,x=w(86111),O=w(45392),A=w(76643),P=z.alloc(128),F={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function L(j,G,re){var te=function D(j){return"rmd160"===j||"ripemd160"===j?function re(te){return(new E).update(te).digest()}:"md5"===j?d:function G(te){return k(j).update(te).digest()}}(j),J="sha512"===j||"sha384"===j?128:64;G.length>J?G=te(G):G.length<J&&(G=z.concat([G,P],J));for(var Z=z.allocUnsafe(J+F[j]),ie=z.allocUnsafe(J+F[j]),ae=0;ae<J;ae++)Z[ae]=54^G[ae],ie[ae]=92^G[ae];var se=z.allocUnsafe(J+re+4);Z.copy(se,0,0,J),this.ipad1=se,this.ipad2=Z,this.opad=ie,this.alg=j,this.blocksize=J,this.hash=te,this.size=F[j]}L.prototype.run=function(j,G){return j.copy(G,this.blocksize),this.hash(G).copy(this.opad,this.blocksize),this.hash(this.opad)},je.exports=function X(j,G,re,te,J){x(re,te);var Z=new L(J=J||"sha1",j=A(j,O,"Password"),(G=A(G,O,"Salt")).length),ie=z.allocUnsafe(te),ae=z.allocUnsafe(G.length+4);G.copy(ae,0,0,G.length);for(var se=0,de=F[J],le=Math.ceil(te/de),be=1;be<=le;be++){ae.writeUInt32BE(be,G.length);for(var xe=Z.run(ae,Z.ipad1),ke=xe,C=1;C<re;C++){ke=Z.run(ke,Z.ipad2);for(var a=0;a<de;a++)xe[a]^=ke[a]}xe.copy(ie,se),se+=de}return ie}},76643:(je,H,w)=>{var d=w(27054).Buffer;je.exports=function(E,k,z){if(d.isBuffer(E))return E;if("string"==typeof E)return d.from(E,k);if(ArrayBuffer.isView(E))return d.from(E.buffer);throw new TypeError(z+" must be a string, a Buffer, a typed array or a DataView")}},9656:(je,H,w)=>{"use strict";var d=w(40573);je.exports=typeof d>"u"||!d.version||0===d.version.indexOf("v0.")||0===d.version.indexOf("v1.")&&0!==d.version.indexOf("v1.8.")?{nextTick:function E(k,z,x,O){if("function"!=typeof k)throw new TypeError('"callback" argument must be a function');var P,F,A=arguments.length;switch(A){case 0:case 1:return d.nextTick(k);case 2:return d.nextTick(function(){k.call(null,z)});case 3:return d.nextTick(function(){k.call(null,z,x)});case 4:return d.nextTick(function(){k.call(null,z,x,O)});default:for(P=new Array(A-1),F=0;F<P.length;)P[F++]=arguments[F];return d.nextTick(function(){k.apply(null,P)})}}}:d},40573:je=>{var w,d,H=je.exports={};function E(){throw new Error("setTimeout has not been defined")}function k(){throw new Error("clearTimeout has not been defined")}function z(G){if(w===setTimeout)return setTimeout(G,0);if((w===E||!w)&&setTimeout)return w=setTimeout,setTimeout(G,0);try{return w(G,0)}catch{try{return w.call(null,G,0)}catch{return w.call(this,G,0)}}}!function(){try{w="function"==typeof setTimeout?setTimeout:E}catch{w=E}try{d="function"==typeof clearTimeout?clearTimeout:k}catch{d=k}}();var P,O=[],A=!1,F=-1;function L(){!A||!P||(A=!1,P.length?O=P.concat(O):F=-1,O.length&&D())}function D(){if(!A){var G=z(L);A=!0;for(var re=O.length;re;){for(P=O,O=[];++F<re;)P&&P[F].run();F=-1,re=O.length}P=null,A=!1,function x(G){if(d===clearTimeout)return clearTimeout(G);if((d===k||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(G);try{return d(G)}catch{try{return d.call(null,G)}catch{return d.call(this,G)}}}(G)}}function X(G,re){this.fun=G,this.array=re}function j(){}H.nextTick=function(G){var re=new Array(arguments.length-1);if(arguments.length>1)for(var te=1;te<arguments.length;te++)re[te-1]=arguments[te];O.push(new X(G,re)),1===O.length&&!A&&z(D)},X.prototype.run=function(){this.fun.apply(null,this.array)},H.title="browser",H.browser=!0,H.env={},H.argv=[],H.version="",H.versions={},H.on=j,H.addListener=j,H.once=j,H.off=j,H.removeListener=j,H.removeAllListeners=j,H.emit=j,H.prependListener=j,H.prependOnceListener=j,H.listeners=function(G){return[]},H.binding=function(G){throw new Error("process.binding is not supported")},H.cwd=function(){return"/"},H.chdir=function(G){throw new Error("process.chdir is not supported")},H.umask=function(){return 0}},52965:(je,H,w)=>{H.publicEncrypt=w(87267),H.privateDecrypt=w(98613),H.privateEncrypt=function(E,k){return H.publicEncrypt(E,k,!0)},H.publicDecrypt=function(E,k){return H.privateDecrypt(E,k,!0)}},30715:(je,H,w)=>{var d=w(67211),E=w(27054).Buffer;function k(z){var x=E.allocUnsafe(4);return x.writeUInt32BE(z,0),x}je.exports=function(z,x){for(var P,O=E.alloc(0),A=0;O.length<x;)P=k(A++),O=E.concat([O,d("sha1").update(z).update(P).digest()]);return O.slice(0,x)}},16508:function(je,H,w){!function(d,E){"use strict";function k(C,a){if(!C)throw new Error(a||"Assertion failed")}function z(C,a){C.super_=a;var f=function(){};f.prototype=a.prototype,C.prototype=new f,C.prototype.constructor=C}function x(C,a,f){if(x.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(f=a,a=10),this._init(C||0,a||10,f||"be"))}var O;"object"==typeof d?d.exports=x:E.BN=x,x.BN=x,x.wordSize=26;try{O=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:w(51069).Buffer}catch{}function A(C,a){var f=C.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function P(C,a,f){var y=A(C,f);return f-1>=a&&(y|=A(C,f-1)<<4),y}function F(C,a,f,y){for(var g=0,M=Math.min(C.length,f),T=a;T<M;T++){var B=C.charCodeAt(T)-48;g*=y,g+=B>=49?B-49+10:B>=17?B-17+10:B}return g}x.isBN=function(a){return a instanceof x||null!==a&&"object"==typeof a&&a.constructor.wordSize===x.wordSize&&Array.isArray(a.words)},x.max=function(a,f){return a.cmp(f)>0?a:f},x.min=function(a,f){return a.cmp(f)<0?a:f},x.prototype._init=function(a,f,y){if("number"==typeof a)return this._initNumber(a,f,y);if("object"==typeof a)return this._initArray(a,f,y);"hex"===f&&(f=16),k(f===(0|f)&&f>=2&&f<=36);var g=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(g++,this.negative=1),g<a.length&&(16===f?this._parseHex(a,g,y):(this._parseBase(a,f,g),"le"===y&&this._initArray(this.toArray(),f,y)))},x.prototype._initNumber=function(a,f,y){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(k(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),f,y)},x.prototype._initArray=function(a,f,y){if(k("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var M,T,B=0;if("be"===y)for(g=a.length-1,M=0;g>=0;g-=3)this.words[M]|=(T=a[g]|a[g-1]<<8|a[g-2]<<16)<<B&67108863,this.words[M+1]=T>>>26-B&67108863,(B+=24)>=26&&(B-=26,M++);else if("le"===y)for(g=0,M=0;g<a.length;g+=3)this.words[M]|=(T=a[g]|a[g+1]<<8|a[g+2]<<16)<<B&67108863,this.words[M+1]=T>>>26-B&67108863,(B+=24)>=26&&(B-=26,M++);return this.strip()},x.prototype._parseHex=function(a,f,y){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var B,M=0,T=0;if("be"===y)for(g=a.length-1;g>=f;g-=2)B=P(a,f,g)<<M,this.words[T]|=67108863&B,M>=18?(M-=18,this.words[T+=1]|=B>>>26):M+=8;else for(g=(a.length-f)%2==0?f+1:f;g<a.length;g+=2)B=P(a,f,g)<<M,this.words[T]|=67108863&B,M>=18?(M-=18,this.words[T+=1]|=B>>>26):M+=8;this.strip()},x.prototype._parseBase=function(a,f,y){this.words=[0],this.length=1;for(var g=0,M=1;M<=67108863;M*=f)g++;g--,M=M/f|0;for(var T=a.length-y,B=T%g,S=Math.min(T,T-B)+y,s=0,v=y;v<S;v+=g)s=F(a,v,v+g,f),this.imuln(M),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==B){var W=1;for(s=F(a,v,a.length,f),v=0;v<B;v++)W*=f;this.imuln(W),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},x.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},x.prototype.clone=function(){var a=new x(null);return this.copy(a),a},x.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},x.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},x.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var L=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function G(C,a,f){f.negative=a.negative^C.negative;var y=C.length+a.length|0;f.length=y,y=y-1|0;var g=0|C.words[0],M=0|a.words[0],T=g*M,S=T/67108864|0;f.words[0]=67108863&T;for(var s=1;s<y;s++){for(var v=S>>>26,W=67108863&S,K=Math.min(s,a.length-1),ee=Math.max(0,s-C.length+1);ee<=K;ee++)v+=(T=(g=0|C.words[s-ee|0])*(M=0|a.words[ee])+W)/67108864|0,W=67108863&T;f.words[s]=0|W,S=0|v}return 0!==S?f.words[s]=0|S:f.length--,f.strip()}x.prototype.toString=function(a,f){var y;if(f=0|f||1,16===(a=a||10)||"hex"===a){y="";for(var g=0,M=0,T=0;T<this.length;T++){var B=this.words[T],S=(16777215&(B<<g|M)).toString(16);y=0!=(M=B>>>24-g&16777215)||T!==this.length-1?L[6-S.length]+S+y:S+y,(g+=2)>=26&&(g-=26,T--)}for(0!==M&&(y=M.toString(16)+y);y.length%f!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(a===(0|a)&&a>=2&&a<=36){var s=D[a],v=X[a];y="";var W=this.clone();for(W.negative=0;!W.isZero();){var K=W.modn(v).toString(a);y=(W=W.idivn(v)).isZero()?K+y:L[s-K.length]+K+y}for(this.isZero()&&(y="0"+y);y.length%f!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}k(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&k(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},x.prototype.toJSON=function(){return this.toString(16)},x.prototype.toBuffer=function(a,f){return k(typeof O<"u"),this.toArrayLike(O,a,f)},x.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},x.prototype.toArrayLike=function(a,f,y){var g=this.byteLength(),M=y||Math.max(1,g);k(g<=M,"byte array longer than desired length"),k(M>0,"Requested array length <= 0"),this.strip();var S,s,T="le"===f,B=new a(M),v=this.clone();if(T){for(s=0;!v.isZero();s++)S=v.andln(255),v.iushrn(8),B[s]=S;for(;s<M;s++)B[s]=0}else{for(s=0;s<M-g;s++)B[s]=0;for(s=0;!v.isZero();s++)S=v.andln(255),v.iushrn(8),B[M-s-1]=S}return B},x.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var f=a,y=0;return f>=4096&&(y+=13,f>>>=13),f>=64&&(y+=7,f>>>=7),f>=8&&(y+=4,f>>>=4),f>=2&&(y+=2,f>>>=2),y+f},x.prototype._zeroBits=function(a){if(0===a)return 26;var f=a,y=0;return 8191&f||(y+=13,f>>>=13),127&f||(y+=7,f>>>=7),15&f||(y+=4,f>>>=4),3&f||(y+=2,f>>>=2),1&f||y++,y},x.prototype.bitLength=function(){var f=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+f},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var y=this._zeroBits(this.words[f]);if(a+=y,26!==y)break}return a},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},x.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},x.prototype.ior=function(a){return k(!(this.negative|a.negative)),this.iuor(a)},x.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},x.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},x.prototype.iuand=function(a){var f;f=this.length>a.length?a:this;for(var y=0;y<f.length;y++)this.words[y]=this.words[y]&a.words[y];return this.length=f.length,this.strip()},x.prototype.iand=function(a){return k(!(this.negative|a.negative)),this.iuand(a)},x.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},x.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},x.prototype.iuxor=function(a){var f,y;this.length>a.length?(f=this,y=a):(f=a,y=this);for(var g=0;g<y.length;g++)this.words[g]=f.words[g]^y.words[g];if(this!==f)for(;g<f.length;g++)this.words[g]=f.words[g];return this.length=f.length,this.strip()},x.prototype.ixor=function(a){return k(!(this.negative|a.negative)),this.iuxor(a)},x.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},x.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},x.prototype.inotn=function(a){k("number"==typeof a&&a>=0);var f=0|Math.ceil(a/26),y=a%26;this._expand(f),y>0&&f--;for(var g=0;g<f;g++)this.words[g]=67108863&~this.words[g];return y>0&&(this.words[g]=~this.words[g]&67108863>>26-y),this.strip()},x.prototype.notn=function(a){return this.clone().inotn(a)},x.prototype.setn=function(a,f){k("number"==typeof a&&a>=0);var y=a/26|0,g=a%26;return this._expand(y+1),this.words[y]=f?this.words[y]|1<<g:this.words[y]&~(1<<g),this.strip()},x.prototype.iadd=function(a){var f,y,g;if(0!==this.negative&&0===a.negative)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();this.length>a.length?(y=this,g=a):(y=a,g=this);for(var M=0,T=0;T<g.length;T++)this.words[T]=67108863&(f=(0|y.words[T])+(0|g.words[T])+M),M=f>>>26;for(;0!==M&&T<y.length;T++)this.words[T]=67108863&(f=(0|y.words[T])+M),M=f>>>26;if(this.length=y.length,0!==M)this.words[this.length]=M,this.length++;else if(y!==this)for(;T<y.length;T++)this.words[T]=y.words[T];return this},x.prototype.add=function(a){var f;return 0!==a.negative&&0===this.negative?(a.negative=0,f=this.sub(a),a.negative^=1,f):0===a.negative&&0!==this.negative?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},x.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var g,M,y=this.cmp(a);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(g=this,M=a):(g=a,M=this);for(var T=0,B=0;B<M.length;B++)T=(f=(0|g.words[B])-(0|M.words[B])+T)>>26,this.words[B]=67108863&f;for(;0!==T&&B<g.length;B++)T=(f=(0|g.words[B])+T)>>26,this.words[B]=67108863&f;if(0===T&&B<g.length&&g!==this)for(;B<g.length;B++)this.words[B]=g.words[B];return this.length=Math.max(this.length,B),g!==this&&(this.negative=1),this.strip()},x.prototype.sub=function(a){return this.clone().isub(a)};var re=function(a,f,y){var S,s,v,g=a.words,M=f.words,T=y.words,B=0,W=0|g[0],K=8191&W,ee=W>>>13,ce=0|g[1],_e=8191&ce,Oe=ce>>>13,Ve=0|g[2],Se=8191&Ve,we=Ve>>>13,Ue=0|g[3],ye=8191&Ue,De=Ue>>>13,pe=0|g[4],ue=8191&pe,Q=pe>>>13,oe=0|g[5],fe=8191&oe,Ee=oe>>>13,Re=0|g[6],$e=8191&Re,Fe=Re>>>13,_t=0|g[7],We=8191&_t,Le=_t>>>13,lt=0|g[8],N=8191&lt,_=lt>>>13,m=0|g[9],U=8191&m,ne=m>>>13,ge=0|M[0],Ae=8191&ge,tt=ge>>>13,Bt=0|M[1],gt=8191&Bt,It=Bt>>>13,Zt=0|M[2],mn=8191&Zt,dn=Zt>>>13,ar=0|M[3],An=8191&ar,en=ar>>>13,Qt=0|M[4],Et=8191&Qt,ft=Qt>>>13,Ht=0|M[5],qt=8191&Ht,hn=Ht>>>13,hr=0|M[6],vt=8191&hr,St=hr>>>13,Mt=0|M[7],Ye=8191&Mt,nt=Mt>>>13,Wt=0|M[8],Nt=8191&Wt,un=Wt>>>13,Wn=0|M[9],En=8191&Wn,kn=Wn>>>13;y.negative=a.negative^f.negative,y.length=19;var Or=(B+(S=Math.imul(K,Ae))|0)+((8191&(s=(s=Math.imul(K,tt))+Math.imul(ee,Ae)|0))<<13)|0;B=((v=Math.imul(ee,tt))+(s>>>13)|0)+(Or>>>26)|0,Or&=67108863,S=Math.imul(_e,Ae),s=(s=Math.imul(_e,tt))+Math.imul(Oe,Ae)|0,v=Math.imul(Oe,tt);var Jn=(B+(S=S+Math.imul(K,gt)|0)|0)+((8191&(s=(s=s+Math.imul(K,It)|0)+Math.imul(ee,gt)|0))<<13)|0;B=((v=v+Math.imul(ee,It)|0)+(s>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,S=Math.imul(Se,Ae),s=(s=Math.imul(Se,tt))+Math.imul(we,Ae)|0,v=Math.imul(we,tt),S=S+Math.imul(_e,gt)|0,s=(s=s+Math.imul(_e,It)|0)+Math.imul(Oe,gt)|0,v=v+Math.imul(Oe,It)|0;var Fn=(B+(S=S+Math.imul(K,mn)|0)|0)+((8191&(s=(s=s+Math.imul(K,dn)|0)+Math.imul(ee,mn)|0))<<13)|0;B=((v=v+Math.imul(ee,dn)|0)+(s>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,S=Math.imul(ye,Ae),s=(s=Math.imul(ye,tt))+Math.imul(De,Ae)|0,v=Math.imul(De,tt),S=S+Math.imul(Se,gt)|0,s=(s=s+Math.imul(Se,It)|0)+Math.imul(we,gt)|0,v=v+Math.imul(we,It)|0,S=S+Math.imul(_e,mn)|0,s=(s=s+Math.imul(_e,dn)|0)+Math.imul(Oe,mn)|0,v=v+Math.imul(Oe,dn)|0;var Lt=(B+(S=S+Math.imul(K,An)|0)|0)+((8191&(s=(s=s+Math.imul(K,en)|0)+Math.imul(ee,An)|0))<<13)|0;B=((v=v+Math.imul(ee,en)|0)+(s>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,S=Math.imul(ue,Ae),s=(s=Math.imul(ue,tt))+Math.imul(Q,Ae)|0,v=Math.imul(Q,tt),S=S+Math.imul(ye,gt)|0,s=(s=s+Math.imul(ye,It)|0)+Math.imul(De,gt)|0,v=v+Math.imul(De,It)|0,S=S+Math.imul(Se,mn)|0,s=(s=s+Math.imul(Se,dn)|0)+Math.imul(we,mn)|0,v=v+Math.imul(we,dn)|0,S=S+Math.imul(_e,An)|0,s=(s=s+Math.imul(_e,en)|0)+Math.imul(Oe,An)|0,v=v+Math.imul(Oe,en)|0;var et=(B+(S=S+Math.imul(K,Et)|0)|0)+((8191&(s=(s=s+Math.imul(K,ft)|0)+Math.imul(ee,Et)|0))<<13)|0;B=((v=v+Math.imul(ee,ft)|0)+(s>>>13)|0)+(et>>>26)|0,et&=67108863,S=Math.imul(fe,Ae),s=(s=Math.imul(fe,tt))+Math.imul(Ee,Ae)|0,v=Math.imul(Ee,tt),S=S+Math.imul(ue,gt)|0,s=(s=s+Math.imul(ue,It)|0)+Math.imul(Q,gt)|0,v=v+Math.imul(Q,It)|0,S=S+Math.imul(ye,mn)|0,s=(s=s+Math.imul(ye,dn)|0)+Math.imul(De,mn)|0,v=v+Math.imul(De,dn)|0,S=S+Math.imul(Se,An)|0,s=(s=s+Math.imul(Se,en)|0)+Math.imul(we,An)|0,v=v+Math.imul(we,en)|0,S=S+Math.imul(_e,Et)|0,s=(s=s+Math.imul(_e,ft)|0)+Math.imul(Oe,Et)|0,v=v+Math.imul(Oe,ft)|0;var Te=(B+(S=S+Math.imul(K,qt)|0)|0)+((8191&(s=(s=s+Math.imul(K,hn)|0)+Math.imul(ee,qt)|0))<<13)|0;B=((v=v+Math.imul(ee,hn)|0)+(s>>>13)|0)+(Te>>>26)|0,Te&=67108863,S=Math.imul($e,Ae),s=(s=Math.imul($e,tt))+Math.imul(Fe,Ae)|0,v=Math.imul(Fe,tt),S=S+Math.imul(fe,gt)|0,s=(s=s+Math.imul(fe,It)|0)+Math.imul(Ee,gt)|0,v=v+Math.imul(Ee,It)|0,S=S+Math.imul(ue,mn)|0,s=(s=s+Math.imul(ue,dn)|0)+Math.imul(Q,mn)|0,v=v+Math.imul(Q,dn)|0,S=S+Math.imul(ye,An)|0,s=(s=s+Math.imul(ye,en)|0)+Math.imul(De,An)|0,v=v+Math.imul(De,en)|0,S=S+Math.imul(Se,Et)|0,s=(s=s+Math.imul(Se,ft)|0)+Math.imul(we,Et)|0,v=v+Math.imul(we,ft)|0,S=S+Math.imul(_e,qt)|0,s=(s=s+Math.imul(_e,hn)|0)+Math.imul(Oe,qt)|0,v=v+Math.imul(Oe,hn)|0;var Ne=(B+(S=S+Math.imul(K,vt)|0)|0)+((8191&(s=(s=s+Math.imul(K,St)|0)+Math.imul(ee,vt)|0))<<13)|0;B=((v=v+Math.imul(ee,St)|0)+(s>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,S=Math.imul(We,Ae),s=(s=Math.imul(We,tt))+Math.imul(Le,Ae)|0,v=Math.imul(Le,tt),S=S+Math.imul($e,gt)|0,s=(s=s+Math.imul($e,It)|0)+Math.imul(Fe,gt)|0,v=v+Math.imul(Fe,It)|0,S=S+Math.imul(fe,mn)|0,s=(s=s+Math.imul(fe,dn)|0)+Math.imul(Ee,mn)|0,v=v+Math.imul(Ee,dn)|0,S=S+Math.imul(ue,An)|0,s=(s=s+Math.imul(ue,en)|0)+Math.imul(Q,An)|0,v=v+Math.imul(Q,en)|0,S=S+Math.imul(ye,Et)|0,s=(s=s+Math.imul(ye,ft)|0)+Math.imul(De,Et)|0,v=v+Math.imul(De,ft)|0,S=S+Math.imul(Se,qt)|0,s=(s=s+Math.imul(Se,hn)|0)+Math.imul(we,qt)|0,v=v+Math.imul(we,hn)|0,S=S+Math.imul(_e,vt)|0,s=(s=s+Math.imul(_e,St)|0)+Math.imul(Oe,vt)|0,v=v+Math.imul(Oe,St)|0;var xt=(B+(S=S+Math.imul(K,Ye)|0)|0)+((8191&(s=(s=s+Math.imul(K,nt)|0)+Math.imul(ee,Ye)|0))<<13)|0;B=((v=v+Math.imul(ee,nt)|0)+(s>>>13)|0)+(xt>>>26)|0,xt&=67108863,S=Math.imul(N,Ae),s=(s=Math.imul(N,tt))+Math.imul(_,Ae)|0,v=Math.imul(_,tt),S=S+Math.imul(We,gt)|0,s=(s=s+Math.imul(We,It)|0)+Math.imul(Le,gt)|0,v=v+Math.imul(Le,It)|0,S=S+Math.imul($e,mn)|0,s=(s=s+Math.imul($e,dn)|0)+Math.imul(Fe,mn)|0,v=v+Math.imul(Fe,dn)|0,S=S+Math.imul(fe,An)|0,s=(s=s+Math.imul(fe,en)|0)+Math.imul(Ee,An)|0,v=v+Math.imul(Ee,en)|0,S=S+Math.imul(ue,Et)|0,s=(s=s+Math.imul(ue,ft)|0)+Math.imul(Q,Et)|0,v=v+Math.imul(Q,ft)|0,S=S+Math.imul(ye,qt)|0,s=(s=s+Math.imul(ye,hn)|0)+Math.imul(De,qt)|0,v=v+Math.imul(De,hn)|0,S=S+Math.imul(Se,vt)|0,s=(s=s+Math.imul(Se,St)|0)+Math.imul(we,vt)|0,v=v+Math.imul(we,St)|0,S=S+Math.imul(_e,Ye)|0,s=(s=s+Math.imul(_e,nt)|0)+Math.imul(Oe,Ye)|0,v=v+Math.imul(Oe,nt)|0;var nn=(B+(S=S+Math.imul(K,Nt)|0)|0)+((8191&(s=(s=s+Math.imul(K,un)|0)+Math.imul(ee,Nt)|0))<<13)|0;B=((v=v+Math.imul(ee,un)|0)+(s>>>13)|0)+(nn>>>26)|0,nn&=67108863,S=Math.imul(U,Ae),s=(s=Math.imul(U,tt))+Math.imul(ne,Ae)|0,v=Math.imul(ne,tt),S=S+Math.imul(N,gt)|0,s=(s=s+Math.imul(N,It)|0)+Math.imul(_,gt)|0,v=v+Math.imul(_,It)|0,S=S+Math.imul(We,mn)|0,s=(s=s+Math.imul(We,dn)|0)+Math.imul(Le,mn)|0,v=v+Math.imul(Le,dn)|0,S=S+Math.imul($e,An)|0,s=(s=s+Math.imul($e,en)|0)+Math.imul(Fe,An)|0,v=v+Math.imul(Fe,en)|0,S=S+Math.imul(fe,Et)|0,s=(s=s+Math.imul(fe,ft)|0)+Math.imul(Ee,Et)|0,v=v+Math.imul(Ee,ft)|0,S=S+Math.imul(ue,qt)|0,s=(s=s+Math.imul(ue,hn)|0)+Math.imul(Q,qt)|0,v=v+Math.imul(Q,hn)|0,S=S+Math.imul(ye,vt)|0,s=(s=s+Math.imul(ye,St)|0)+Math.imul(De,vt)|0,v=v+Math.imul(De,St)|0,S=S+Math.imul(Se,Ye)|0,s=(s=s+Math.imul(Se,nt)|0)+Math.imul(we,Ye)|0,v=v+Math.imul(we,nt)|0,S=S+Math.imul(_e,Nt)|0,s=(s=s+Math.imul(_e,un)|0)+Math.imul(Oe,Nt)|0,v=v+Math.imul(Oe,un)|0;var In=(B+(S=S+Math.imul(K,En)|0)|0)+((8191&(s=(s=s+Math.imul(K,kn)|0)+Math.imul(ee,En)|0))<<13)|0;B=((v=v+Math.imul(ee,kn)|0)+(s>>>13)|0)+(In>>>26)|0,In&=67108863,S=Math.imul(U,gt),s=(s=Math.imul(U,It))+Math.imul(ne,gt)|0,v=Math.imul(ne,It),S=S+Math.imul(N,mn)|0,s=(s=s+Math.imul(N,dn)|0)+Math.imul(_,mn)|0,v=v+Math.imul(_,dn)|0,S=S+Math.imul(We,An)|0,s=(s=s+Math.imul(We,en)|0)+Math.imul(Le,An)|0,v=v+Math.imul(Le,en)|0,S=S+Math.imul($e,Et)|0,s=(s=s+Math.imul($e,ft)|0)+Math.imul(Fe,Et)|0,v=v+Math.imul(Fe,ft)|0,S=S+Math.imul(fe,qt)|0,s=(s=s+Math.imul(fe,hn)|0)+Math.imul(Ee,qt)|0,v=v+Math.imul(Ee,hn)|0,S=S+Math.imul(ue,vt)|0,s=(s=s+Math.imul(ue,St)|0)+Math.imul(Q,vt)|0,v=v+Math.imul(Q,St)|0,S=S+Math.imul(ye,Ye)|0,s=(s=s+Math.imul(ye,nt)|0)+Math.imul(De,Ye)|0,v=v+Math.imul(De,nt)|0,S=S+Math.imul(Se,Nt)|0,s=(s=s+Math.imul(Se,un)|0)+Math.imul(we,Nt)|0,v=v+Math.imul(we,un)|0;var Kn=(B+(S=S+Math.imul(_e,En)|0)|0)+((8191&(s=(s=s+Math.imul(_e,kn)|0)+Math.imul(Oe,En)|0))<<13)|0;B=((v=v+Math.imul(Oe,kn)|0)+(s>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,S=Math.imul(U,mn),s=(s=Math.imul(U,dn))+Math.imul(ne,mn)|0,v=Math.imul(ne,dn),S=S+Math.imul(N,An)|0,s=(s=s+Math.imul(N,en)|0)+Math.imul(_,An)|0,v=v+Math.imul(_,en)|0,S=S+Math.imul(We,Et)|0,s=(s=s+Math.imul(We,ft)|0)+Math.imul(Le,Et)|0,v=v+Math.imul(Le,ft)|0,S=S+Math.imul($e,qt)|0,s=(s=s+Math.imul($e,hn)|0)+Math.imul(Fe,qt)|0,v=v+Math.imul(Fe,hn)|0,S=S+Math.imul(fe,vt)|0,s=(s=s+Math.imul(fe,St)|0)+Math.imul(Ee,vt)|0,v=v+Math.imul(Ee,St)|0,S=S+Math.imul(ue,Ye)|0,s=(s=s+Math.imul(ue,nt)|0)+Math.imul(Q,Ye)|0,v=v+Math.imul(Q,nt)|0,S=S+Math.imul(ye,Nt)|0,s=(s=s+Math.imul(ye,un)|0)+Math.imul(De,Nt)|0,v=v+Math.imul(De,un)|0;var er=(B+(S=S+Math.imul(Se,En)|0)|0)+((8191&(s=(s=s+Math.imul(Se,kn)|0)+Math.imul(we,En)|0))<<13)|0;B=((v=v+Math.imul(we,kn)|0)+(s>>>13)|0)+(er>>>26)|0,er&=67108863,S=Math.imul(U,An),s=(s=Math.imul(U,en))+Math.imul(ne,An)|0,v=Math.imul(ne,en),S=S+Math.imul(N,Et)|0,s=(s=s+Math.imul(N,ft)|0)+Math.imul(_,Et)|0,v=v+Math.imul(_,ft)|0,S=S+Math.imul(We,qt)|0,s=(s=s+Math.imul(We,hn)|0)+Math.imul(Le,qt)|0,v=v+Math.imul(Le,hn)|0,S=S+Math.imul($e,vt)|0,s=(s=s+Math.imul($e,St)|0)+Math.imul(Fe,vt)|0,v=v+Math.imul(Fe,St)|0,S=S+Math.imul(fe,Ye)|0,s=(s=s+Math.imul(fe,nt)|0)+Math.imul(Ee,Ye)|0,v=v+Math.imul(Ee,nt)|0,S=S+Math.imul(ue,Nt)|0,s=(s=s+Math.imul(ue,un)|0)+Math.imul(Q,Nt)|0,v=v+Math.imul(Q,un)|0;var _r=(B+(S=S+Math.imul(ye,En)|0)|0)+((8191&(s=(s=s+Math.imul(ye,kn)|0)+Math.imul(De,En)|0))<<13)|0;B=((v=v+Math.imul(De,kn)|0)+(s>>>13)|0)+(_r>>>26)|0,_r&=67108863,S=Math.imul(U,Et),s=(s=Math.imul(U,ft))+Math.imul(ne,Et)|0,v=Math.imul(ne,ft),S=S+Math.imul(N,qt)|0,s=(s=s+Math.imul(N,hn)|0)+Math.imul(_,qt)|0,v=v+Math.imul(_,hn)|0,S=S+Math.imul(We,vt)|0,s=(s=s+Math.imul(We,St)|0)+Math.imul(Le,vt)|0,v=v+Math.imul(Le,St)|0,S=S+Math.imul($e,Ye)|0,s=(s=s+Math.imul($e,nt)|0)+Math.imul(Fe,Ye)|0,v=v+Math.imul(Fe,nt)|0,S=S+Math.imul(fe,Nt)|0,s=(s=s+Math.imul(fe,un)|0)+Math.imul(Ee,Nt)|0,v=v+Math.imul(Ee,un)|0;var Tr=(B+(S=S+Math.imul(ue,En)|0)|0)+((8191&(s=(s=s+Math.imul(ue,kn)|0)+Math.imul(Q,En)|0))<<13)|0;B=((v=v+Math.imul(Q,kn)|0)+(s>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,S=Math.imul(U,qt),s=(s=Math.imul(U,hn))+Math.imul(ne,qt)|0,v=Math.imul(ne,hn),S=S+Math.imul(N,vt)|0,s=(s=s+Math.imul(N,St)|0)+Math.imul(_,vt)|0,v=v+Math.imul(_,St)|0,S=S+Math.imul(We,Ye)|0,s=(s=s+Math.imul(We,nt)|0)+Math.imul(Le,Ye)|0,v=v+Math.imul(Le,nt)|0,S=S+Math.imul($e,Nt)|0,s=(s=s+Math.imul($e,un)|0)+Math.imul(Fe,Nt)|0,v=v+Math.imul(Fe,un)|0;var Br=(B+(S=S+Math.imul(fe,En)|0)|0)+((8191&(s=(s=s+Math.imul(fe,kn)|0)+Math.imul(Ee,En)|0))<<13)|0;B=((v=v+Math.imul(Ee,kn)|0)+(s>>>13)|0)+(Br>>>26)|0,Br&=67108863,S=Math.imul(U,vt),s=(s=Math.imul(U,St))+Math.imul(ne,vt)|0,v=Math.imul(ne,St),S=S+Math.imul(N,Ye)|0,s=(s=s+Math.imul(N,nt)|0)+Math.imul(_,Ye)|0,v=v+Math.imul(_,nt)|0,S=S+Math.imul(We,Nt)|0,s=(s=s+Math.imul(We,un)|0)+Math.imul(Le,Nt)|0,v=v+Math.imul(Le,un)|0;var jr=(B+(S=S+Math.imul($e,En)|0)|0)+((8191&(s=(s=s+Math.imul($e,kn)|0)+Math.imul(Fe,En)|0))<<13)|0;B=((v=v+Math.imul(Fe,kn)|0)+(s>>>13)|0)+(jr>>>26)|0,jr&=67108863,S=Math.imul(U,Ye),s=(s=Math.imul(U,nt))+Math.imul(ne,Ye)|0,v=Math.imul(ne,nt),S=S+Math.imul(N,Nt)|0,s=(s=s+Math.imul(N,un)|0)+Math.imul(_,Nt)|0,v=v+Math.imul(_,un)|0;var Zr=(B+(S=S+Math.imul(We,En)|0)|0)+((8191&(s=(s=s+Math.imul(We,kn)|0)+Math.imul(Le,En)|0))<<13)|0;B=((v=v+Math.imul(Le,kn)|0)+(s>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,S=Math.imul(U,Nt),s=(s=Math.imul(U,un))+Math.imul(ne,Nt)|0,v=Math.imul(ne,un);var tn=(B+(S=S+Math.imul(N,En)|0)|0)+((8191&(s=(s=s+Math.imul(N,kn)|0)+Math.imul(_,En)|0))<<13)|0;B=((v=v+Math.imul(_,kn)|0)+(s>>>13)|0)+(tn>>>26)|0,tn&=67108863;var _n=(B+(S=Math.imul(U,En))|0)+((8191&(s=(s=Math.imul(U,kn))+Math.imul(ne,En)|0))<<13)|0;return B=((v=Math.imul(ne,kn))+(s>>>13)|0)+(_n>>>26)|0,_n&=67108863,T[0]=Or,T[1]=Jn,T[2]=Fn,T[3]=Lt,T[4]=et,T[5]=Te,T[6]=Ne,T[7]=xt,T[8]=nn,T[9]=In,T[10]=Kn,T[11]=er,T[12]=_r,T[13]=Tr,T[14]=Br,T[15]=jr,T[16]=Zr,T[17]=tn,T[18]=_n,0!==B&&(T[19]=B,y.length++),y};function J(C,a,f){return(new Z).mulp(C,a,f)}function Z(C,a){this.x=C,this.y=a}Math.imul||(re=G),x.prototype.mulTo=function(a,f){var y,g=this.length+a.length;return y=10===this.length&&10===a.length?re(this,a,f):g<63?G(this,a,f):g<1024?function te(C,a,f){f.negative=a.negative^C.negative,f.length=C.length+a.length;for(var y=0,g=0,M=0;M<f.length-1;M++){var T=g;g=0;for(var B=67108863&y,S=Math.min(M,a.length-1),s=Math.max(0,M-C.length+1);s<=S;s++){var ee=(0|C.words[M-s])*(0|a.words[s]),ce=67108863&ee;B=67108863&(ce=ce+B|0),g+=(T=(T=T+(ee/67108864|0)|0)+(ce>>>26)|0)>>>26,T&=67108863}f.words[M]=B,y=T,T=g}return 0!==y?f.words[M]=y:f.length--,f.strip()}(this,a,f):J(this,a,f),y},Z.prototype.makeRBT=function(a){for(var f=new Array(a),y=x.prototype._countBits(a)-1,g=0;g<a;g++)f[g]=this.revBin(g,y,a);return f},Z.prototype.revBin=function(a,f,y){if(0===a||a===y-1)return a;for(var g=0,M=0;M<f;M++)g|=(1&a)<<f-M-1,a>>=1;return g},Z.prototype.permute=function(a,f,y,g,M,T){for(var B=0;B<T;B++)g[B]=f[a[B]],M[B]=y[a[B]]},Z.prototype.transform=function(a,f,y,g,M,T){this.permute(T,a,f,y,g,M);for(var B=1;B<M;B<<=1)for(var S=B<<1,s=Math.cos(2*Math.PI/S),v=Math.sin(2*Math.PI/S),W=0;W<M;W+=S)for(var K=s,ee=v,ce=0;ce<B;ce++){var _e=y[W+ce],Oe=g[W+ce],Ve=y[W+ce+B],Se=g[W+ce+B],we=K*Ve-ee*Se;Se=K*Se+ee*Ve,y[W+ce]=_e+(Ve=we),g[W+ce]=Oe+Se,y[W+ce+B]=_e-Ve,g[W+ce+B]=Oe-Se,ce!==S&&(we=s*K-v*ee,ee=s*ee+v*K,K=we)}},Z.prototype.guessLen13b=function(a,f){var y=1|Math.max(f,a),g=1&y,M=0;for(y=y/2|0;y;y>>>=1)M++;return 1<<M+1+g},Z.prototype.conjugate=function(a,f,y){if(!(y<=1))for(var g=0;g<y/2;g++){var M=a[g];a[g]=a[y-g-1],a[y-g-1]=M,M=f[g],f[g]=-f[y-g-1],f[y-g-1]=-M}},Z.prototype.normalize13b=function(a,f){for(var y=0,g=0;g<f/2;g++){var M=8192*Math.round(a[2*g+1]/f)+Math.round(a[2*g]/f)+y;a[g]=67108863&M,y=M<67108864?0:M/67108864|0}return a},Z.prototype.convert13b=function(a,f,y,g){for(var M=0,T=0;T<f;T++)y[2*T]=8191&(M+=0|a[T]),y[2*T+1]=8191&(M>>>=13),M>>>=13;for(T=2*f;T<g;++T)y[T]=0;k(0===M),k(!(-8192&M))},Z.prototype.stub=function(a){for(var f=new Array(a),y=0;y<a;y++)f[y]=0;return f},Z.prototype.mulp=function(a,f,y){var g=2*this.guessLen13b(a.length,f.length),M=this.makeRBT(g),T=this.stub(g),B=new Array(g),S=new Array(g),s=new Array(g),v=new Array(g),W=new Array(g),K=new Array(g),ee=y.words;ee.length=g,this.convert13b(a.words,a.length,B,g),this.convert13b(f.words,f.length,v,g),this.transform(B,T,S,s,g,M),this.transform(v,T,W,K,g,M);for(var ce=0;ce<g;ce++){var _e=S[ce]*W[ce]-s[ce]*K[ce];s[ce]=S[ce]*K[ce]+s[ce]*W[ce],S[ce]=_e}return this.conjugate(S,s,g),this.transform(S,s,ee,T,g,M),this.conjugate(ee,T,g),this.normalize13b(ee,g),y.negative=a.negative^f.negative,y.length=a.length+f.length,y.strip()},x.prototype.mul=function(a){var f=new x(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},x.prototype.mulf=function(a){var f=new x(null);return f.words=new Array(this.length+a.length),J(this,a,f)},x.prototype.imul=function(a){return this.clone().mulTo(a,this)},x.prototype.imuln=function(a){k("number"==typeof a),k(a<67108864);for(var f=0,y=0;y<this.length;y++){var g=(0|this.words[y])*a,M=(67108863&g)+(67108863&f);f>>=26,f+=g/67108864|0,f+=M>>>26,this.words[y]=67108863&M}return 0!==f&&(this.words[y]=f,this.length++),this},x.prototype.muln=function(a){return this.clone().imuln(a)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(a){var f=function j(C){for(var a=new Array(C.bitLength()),f=0;f<a.length;f++){var g=f%26;a[f]=(C.words[f/26|0]&1<<g)>>>g}return a}(a);if(0===f.length)return new x(1);for(var y=this,g=0;g<f.length&&0===f[g];g++,y=y.sqr());if(++g<f.length)for(var M=y.sqr();g<f.length;g++,M=M.sqr())0!==f[g]&&(y=y.mul(M));return y},x.prototype.iushln=function(a){k("number"==typeof a&&a>=0);var M,f=a%26,y=(a-f)/26,g=67108863>>>26-f<<26-f;if(0!==f){var T=0;for(M=0;M<this.length;M++){var B=this.words[M]&g;this.words[M]=(0|this.words[M])-B<<f|T,T=B>>>26-f}T&&(this.words[M]=T,this.length++)}if(0!==y){for(M=this.length-1;M>=0;M--)this.words[M+y]=this.words[M];for(M=0;M<y;M++)this.words[M]=0;this.length+=y}return this.strip()},x.prototype.ishln=function(a){return k(0===this.negative),this.iushln(a)},x.prototype.iushrn=function(a,f,y){var g;k("number"==typeof a&&a>=0),g=f?(f-f%26)/26:0;var M=a%26,T=Math.min((a-M)/26,this.length),B=67108863^67108863>>>M<<M,S=y;if(g-=T,g=Math.max(0,g),S){for(var s=0;s<T;s++)S.words[s]=this.words[s];S.length=T}if(0!==T)if(this.length>T)for(this.length-=T,s=0;s<this.length;s++)this.words[s]=this.words[s+T];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=g);s--){var W=0|this.words[s];this.words[s]=v<<26-M|W>>>M,v=W&B}return S&&0!==v&&(S.words[S.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},x.prototype.ishrn=function(a,f,y){return k(0===this.negative),this.iushrn(a,f,y)},x.prototype.shln=function(a){return this.clone().ishln(a)},x.prototype.ushln=function(a){return this.clone().iushln(a)},x.prototype.shrn=function(a){return this.clone().ishrn(a)},x.prototype.ushrn=function(a){return this.clone().iushrn(a)},x.prototype.testn=function(a){k("number"==typeof a&&a>=0);var f=a%26,y=(a-f)/26;return!(this.length<=y||!(this.words[y]&1<<f))},x.prototype.imaskn=function(a){k("number"==typeof a&&a>=0);var f=a%26,y=(a-f)/26;return k(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==f&&y++,this.length=Math.min(y,this.length),0!==f&&(this.words[this.length-1]&=67108863^67108863>>>f<<f),this.strip())},x.prototype.maskn=function(a){return this.clone().imaskn(a)},x.prototype.iaddn=function(a){return k("number"==typeof a),k(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},x.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},x.prototype.isubn=function(a){if(k("number"==typeof a),k(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},x.prototype.addn=function(a){return this.clone().iaddn(a)},x.prototype.subn=function(a){return this.clone().isubn(a)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(a,f,y){var M;this._expand(a.length+y);var T,B=0;for(M=0;M<a.length;M++){T=(0|this.words[M+y])+B;var S=(0|a.words[M])*f;B=((T-=67108863&S)>>26)-(S/67108864|0),this.words[M+y]=67108863&T}for(;M<this.length-y;M++)B=(T=(0|this.words[M+y])+B)>>26,this.words[M+y]=67108863&T;if(0===B)return this.strip();for(k(-1===B),B=0,M=0;M<this.length;M++)B=(T=-(0|this.words[M])+B)>>26,this.words[M]=67108863&T;return this.negative=1,this.strip()},x.prototype._wordDiv=function(a,f){var y,g=this.clone(),M=a,T=0|M.words[M.length-1];0!=(y=26-this._countBits(T))&&(M=M.ushln(y),g.iushln(y),T=0|M.words[M.length-1]);var s,S=g.length-M.length;if("mod"!==f){(s=new x(null)).length=S+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var W=g.clone()._ishlnsubmul(M,1,S);0===W.negative&&(g=W,s&&(s.words[S]=1));for(var K=S-1;K>=0;K--){var ee=67108864*(0|g.words[M.length+K])+(0|g.words[M.length+K-1]);for(ee=Math.min(ee/T|0,67108863),g._ishlnsubmul(M,ee,K);0!==g.negative;)ee--,g.negative=0,g._ishlnsubmul(M,1,K),g.isZero()||(g.negative^=1);s&&(s.words[K]=ee)}return s&&s.strip(),g.strip(),"div"!==f&&0!==y&&g.iushrn(y),{div:s||null,mod:g}},x.prototype.divmod=function(a,f,y){return k(!a.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===a.negative?(T=this.neg().divmod(a,f),"mod"!==f&&(g=T.div.neg()),"div"!==f&&(M=T.mod.neg(),y&&0!==M.negative&&M.iadd(a)),{div:g,mod:M}):0===this.negative&&0!==a.negative?(T=this.divmod(a.neg(),f),"mod"!==f&&(g=T.div.neg()),{div:g,mod:T.mod}):this.negative&a.negative?(T=this.neg().divmod(a.neg(),f),"div"!==f&&(M=T.mod.neg(),y&&0!==M.negative&&M.isub(a)),{div:T.div,mod:M}):a.length>this.length||this.cmp(a)<0?{div:new x(0),mod:this}:1===a.length?"div"===f?{div:this.divn(a.words[0]),mod:null}:"mod"===f?{div:null,mod:new x(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new x(this.modn(a.words[0]))}:this._wordDiv(a,f);var g,M,T},x.prototype.div=function(a){return this.divmod(a,"div",!1).div},x.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},x.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},x.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var y=0!==f.div.negative?f.mod.isub(a):f.mod,g=a.ushrn(1),M=a.andln(1),T=y.cmp(g);return T<0||1===M&&0===T?f.div:0!==f.div.negative?f.div.isubn(1):f.div.iaddn(1)},x.prototype.modn=function(a){k(a<=67108863);for(var f=(1<<26)%a,y=0,g=this.length-1;g>=0;g--)y=(f*y+(0|this.words[g]))%a;return y},x.prototype.idivn=function(a){k(a<=67108863);for(var f=0,y=this.length-1;y>=0;y--){var g=(0|this.words[y])+67108864*f;this.words[y]=g/a|0,f=g%a}return this.strip()},x.prototype.divn=function(a){return this.clone().idivn(a)},x.prototype.egcd=function(a){k(0===a.negative),k(!a.isZero());var f=this,y=a.clone();f=0!==f.negative?f.umod(a):f.clone();for(var g=new x(1),M=new x(0),T=new x(0),B=new x(1),S=0;f.isEven()&&y.isEven();)f.iushrn(1),y.iushrn(1),++S;for(var s=y.clone(),v=f.clone();!f.isZero();){for(var W=0,K=1;!(f.words[0]&K)&&W<26;++W,K<<=1);if(W>0)for(f.iushrn(W);W-- >0;)(g.isOdd()||M.isOdd())&&(g.iadd(s),M.isub(v)),g.iushrn(1),M.iushrn(1);for(var ee=0,ce=1;!(y.words[0]&ce)&&ee<26;++ee,ce<<=1);if(ee>0)for(y.iushrn(ee);ee-- >0;)(T.isOdd()||B.isOdd())&&(T.iadd(s),B.isub(v)),T.iushrn(1),B.iushrn(1);f.cmp(y)>=0?(f.isub(y),g.isub(T),M.isub(B)):(y.isub(f),T.isub(g),B.isub(M))}return{a:T,b:B,gcd:y.iushln(S)}},x.prototype._invmp=function(a){k(0===a.negative),k(!a.isZero());var W,f=this,y=a.clone();f=0!==f.negative?f.umod(a):f.clone();for(var g=new x(1),M=new x(0),T=y.clone();f.cmpn(1)>0&&y.cmpn(1)>0;){for(var B=0,S=1;!(f.words[0]&S)&&B<26;++B,S<<=1);if(B>0)for(f.iushrn(B);B-- >0;)g.isOdd()&&g.iadd(T),g.iushrn(1);for(var s=0,v=1;!(y.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(y.iushrn(s);s-- >0;)M.isOdd()&&M.iadd(T),M.iushrn(1);f.cmp(y)>=0?(f.isub(y),g.isub(M)):(y.isub(f),M.isub(g))}return(W=0===f.cmpn(1)?g:M).cmpn(0)<0&&W.iadd(a),W},x.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),y=a.clone();f.negative=0,y.negative=0;for(var g=0;f.isEven()&&y.isEven();g++)f.iushrn(1),y.iushrn(1);for(;;){for(;f.isEven();)f.iushrn(1);for(;y.isEven();)y.iushrn(1);var M=f.cmp(y);if(M<0){var T=f;f=y,y=T}else if(0===M||0===y.cmpn(1))break;f.isub(y)}return y.iushln(g)},x.prototype.invm=function(a){return this.egcd(a).a.umod(a)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(a){return this.words[0]&a},x.prototype.bincn=function(a){k("number"==typeof a);var f=a%26,y=(a-f)/26,g=1<<f;if(this.length<=y)return this._expand(y+1),this.words[y]|=g,this;for(var M=g,T=y;0!==M&&T<this.length;T++){var B=0|this.words[T];M=(B+=M)>>>26,this.words[T]=B&=67108863}return 0!==M&&(this.words[T]=M,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(a){var y,f=a<0;if(0!==this.negative&&!f)return-1;if(0===this.negative&&f)return 1;if(this.strip(),this.length>1)y=1;else{f&&(a=-a),k(a<=67108863,"Number is too big");var g=0|this.words[0];y=g===a?0:g<a?-1:1}return 0!==this.negative?0|-y:y},x.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var f=this.ucmp(a);return 0!==this.negative?0|-f:f},x.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,y=this.length-1;y>=0;y--){var g=0|this.words[y],M=0|a.words[y];if(g!==M){g<M?f=-1:g>M&&(f=1);break}}return f},x.prototype.gtn=function(a){return 1===this.cmpn(a)},x.prototype.gt=function(a){return 1===this.cmp(a)},x.prototype.gten=function(a){return this.cmpn(a)>=0},x.prototype.gte=function(a){return this.cmp(a)>=0},x.prototype.ltn=function(a){return-1===this.cmpn(a)},x.prototype.lt=function(a){return-1===this.cmp(a)},x.prototype.lten=function(a){return this.cmpn(a)<=0},x.prototype.lte=function(a){return this.cmp(a)<=0},x.prototype.eqn=function(a){return 0===this.cmpn(a)},x.prototype.eq=function(a){return 0===this.cmp(a)},x.red=function(a){return new xe(a)},x.prototype.toRed=function(a){return k(!this.red,"Already a number in reduction context"),k(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},x.prototype.fromRed=function(){return k(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(a){return this.red=a,this},x.prototype.forceRed=function(a){return k(!this.red,"Already a number in reduction context"),this._forceRed(a)},x.prototype.redAdd=function(a){return k(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},x.prototype.redIAdd=function(a){return k(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},x.prototype.redSub=function(a){return k(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},x.prototype.redISub=function(a){return k(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},x.prototype.redShl=function(a){return k(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},x.prototype.redMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},x.prototype.redIMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},x.prototype.redSqr=function(){return k(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return k(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return k(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return k(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return k(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(a){return k(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var ie={k256:null,p224:null,p192:null,p25519:null};function ae(C,a){this.name=C,this.p=new x(a,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function se(){ae.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function de(){ae.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function le(){ae.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function be(){ae.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function xe(C){if("string"==typeof C){var a=x._prime(C);this.m=a.p,this.prime=a}else k(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function ke(C){xe.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ae.prototype._tmp=function(){var a=new x(null);return a.words=new Array(Math.ceil(this.n/13)),a},ae.prototype.ireduce=function(a){var y,f=a;do{this.split(f,this.tmp),y=(f=(f=this.imulK(f)).iadd(this.tmp)).bitLength()}while(y>this.n);var g=y<this.n?-1:f.ucmp(this.p);return 0===g?(f.words[0]=0,f.length=1):g>0?f.isub(this.p):void 0!==f.strip?f.strip():f._strip(),f},ae.prototype.split=function(a,f){a.iushrn(this.n,0,f)},ae.prototype.imulK=function(a){return a.imul(this.k)},z(se,ae),se.prototype.split=function(a,f){for(var y=4194303,g=Math.min(a.length,9),M=0;M<g;M++)f.words[M]=a.words[M];if(f.length=g,a.length<=9)return a.words[0]=0,void(a.length=1);var T=a.words[9];for(f.words[f.length++]=T&y,M=10;M<a.length;M++){var B=0|a.words[M];a.words[M-10]=(B&y)<<4|T>>>22,T=B}a.words[M-10]=T>>>=22,a.length-=0===T&&a.length>10?10:9},se.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,y=0;y<a.length;y++){var g=0|a.words[y];a.words[y]=67108863&(f+=977*g),f=64*g+(f/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},z(de,ae),z(le,ae),z(be,ae),be.prototype.imulK=function(a){for(var f=0,y=0;y<a.length;y++){var g=19*(0|a.words[y])+f,M=67108863&g;g>>>=26,a.words[y]=M,f=g}return 0!==f&&(a.words[a.length++]=f),a},x._prime=function(a){if(ie[a])return ie[a];var f;if("k256"===a)f=new se;else if("p224"===a)f=new de;else if("p192"===a)f=new le;else{if("p25519"!==a)throw new Error("Unknown prime "+a);f=new be}return ie[a]=f,f},xe.prototype._verify1=function(a){k(0===a.negative,"red works only with positives"),k(a.red,"red works only with red numbers")},xe.prototype._verify2=function(a,f){k(!(a.negative|f.negative),"red works only with positives"),k(a.red&&a.red===f.red,"red works only with red numbers")},xe.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},xe.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},xe.prototype.add=function(a,f){this._verify2(a,f);var y=a.add(f);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},xe.prototype.iadd=function(a,f){this._verify2(a,f);var y=a.iadd(f);return y.cmp(this.m)>=0&&y.isub(this.m),y},xe.prototype.sub=function(a,f){this._verify2(a,f);var y=a.sub(f);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},xe.prototype.isub=function(a,f){this._verify2(a,f);var y=a.isub(f);return y.cmpn(0)<0&&y.iadd(this.m),y},xe.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},xe.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},xe.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},xe.prototype.isqr=function(a){return this.imul(a,a.clone())},xe.prototype.sqr=function(a){return this.mul(a,a)},xe.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(k(f%2==1),3===f){var y=this.m.add(new x(1)).iushrn(2);return this.pow(a,y)}for(var g=this.m.subn(1),M=0;!g.isZero()&&0===g.andln(1);)M++,g.iushrn(1);k(!g.isZero());var T=new x(1).toRed(this),B=T.redNeg(),S=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new x(2*s*s).toRed(this);0!==this.pow(s,S).cmp(B);)s.redIAdd(B);for(var v=this.pow(s,g),W=this.pow(a,g.addn(1).iushrn(1)),K=this.pow(a,g),ee=M;0!==K.cmp(T);){for(var ce=K,_e=0;0!==ce.cmp(T);_e++)ce=ce.redSqr();k(_e<ee);var Oe=this.pow(v,new x(1).iushln(ee-_e-1));W=W.redMul(Oe),v=Oe.redSqr(),K=K.redMul(v),ee=_e}return W},xe.prototype.invm=function(a){var f=a._invmp(this.m);return 0!==f.negative?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},xe.prototype.pow=function(a,f){if(f.isZero())return new x(1).toRed(this);if(0===f.cmpn(1))return a.clone();var g=new Array(16);g[0]=new x(1).toRed(this),g[1]=a;for(var M=2;M<g.length;M++)g[M]=this.mul(g[M-1],a);var T=g[0],B=0,S=0,s=f.bitLength()%26;for(0===s&&(s=26),M=f.length-1;M>=0;M--){for(var v=f.words[M],W=s-1;W>=0;W--){var K=v>>W&1;T!==g[0]&&(T=this.sqr(T)),0!==K||0!==B?(B<<=1,B|=K,(4==++S||0===M&&0===W)&&(T=this.mul(T,g[B]),S=0,B=0)):S=0}s=26}return T},xe.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},xe.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},x.mont=function(a){return new ke(a)},z(ke,xe),ke.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ke.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ke.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var y=a.imul(f),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(g).iushrn(this.shift),T=M;return M.cmp(this.m)>=0?T=M.isub(this.m):M.cmpn(0)<0&&(T=M.iadd(this.m)),T._forceRed(this)},ke.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new x(0)._forceRed(this);var y=a.mul(f),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=y.isub(g).iushrn(this.shift),T=M;return M.cmp(this.m)>=0?T=M.isub(this.m):M.cmpn(0)<0&&(T=M.iadd(this.m)),T._forceRed(this)},ke.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(je=w.nmd(je),this)},98613:(je,H,w)=>{var d=w(65667),E=w(30715),k=w(37196),z=w(16508),x=w(14105),O=w(67211),A=w(10568),P=w(27054).Buffer;je.exports=function(j,G,re){var te;te=j.padding?j.padding:re?1:4;var ie,J=d(j),Z=J.modulus.byteLength();if(G.length>Z||new z(G).cmp(J.modulus)>=0)throw new Error("decryption error");ie=re?A(new z(G),J):x(G,J);var ae=P.alloc(Z-ie.length);if(ie=P.concat([ae,ie],Z),4===te)return function F(X,j){var G=X.modulus.byteLength(),re=O("sha1").update(P.alloc(0)).digest(),te=re.length;if(0!==j[0])throw new Error("decryption error");var J=j.slice(1,te+1),Z=j.slice(te+1),ie=k(J,E(Z,te)),ae=k(Z,E(ie,G-te-1));if(function D(X,j){X=P.from(X),j=P.from(j);var G=0,re=X.length;X.length!==j.length&&(G++,re=Math.min(X.length,j.length));for(var te=-1;++te<re;)G+=X[te]^j[te];return G}(re,ae.slice(0,te)))throw new Error("decryption error");for(var se=te;0===ae[se];)se++;if(1!==ae[se++])throw new Error("decryption error");return ae.slice(se)}(J,ie);if(1===te)return function L(X,j,G){for(var re=j.slice(0,2),te=2,J=0;0!==j[te++];)if(te>=j.length){J++;break}var Z=j.slice(2,te-1);if(("0002"!==re.toString("hex")&&!G||"0001"!==re.toString("hex")&&G)&&J++,Z.length<8&&J++,J)throw new Error("decryption error");return j.slice(te)}(0,ie,re);if(3===te)return ie;throw new Error("unknown padding")}},87267:(je,H,w)=>{var d=w(65667),E=w(3342),k=w(67211),z=w(30715),x=w(37196),O=w(16508),A=w(10568),P=w(14105),F=w(27054).Buffer;je.exports=function(G,re,te){var J;J=G.padding?G.padding:te?1:4;var ie,Z=d(G);if(4===J)ie=function L(j,G){var re=j.modulus.byteLength(),te=G.length,J=k("sha1").update(F.alloc(0)).digest(),Z=J.length,ie=2*Z;if(te>re-ie-2)throw new Error("message too long");var ae=F.alloc(re-te-ie-2),se=re-Z-1,de=E(Z),le=x(F.concat([J,ae,F.alloc(1,1),G],se),z(de,se)),be=x(de,z(le,Z));return new O(F.concat([F.alloc(1),be,le],re))}(Z,re);else if(1===J)ie=function D(j,G,re){var Z,te=G.length,J=j.modulus.byteLength();if(te>J-11)throw new Error("message too long");return Z=re?F.alloc(J-te-3,255):function X(j){for(var Z,G=F.allocUnsafe(j),re=0,te=E(2*j),J=0;re<j;)J===te.length&&(te=E(2*j),J=0),(Z=te[J++])&&(G[re++]=Z);return G}(J-te-3),new O(F.concat([F.from([0,re?1:2]),Z,F.alloc(1),G],J))}(Z,re,te);else{if(3!==J)throw new Error("unknown padding");if((ie=new O(re)).cmp(Z.modulus)>=0)throw new Error("data too long for modulus")}return te?P(ie,Z):A(ie,Z)}},10568:(je,H,w)=>{var d=w(16508),E=w(27054).Buffer;je.exports=function k(z,x){return E.from(z.toRed(d.mont(x.modulus)).redPow(new d(x.publicExponent)).fromRed().toArray())}},37196:je=>{je.exports=function(w,d){for(var E=w.length,k=-1;++k<E;)w[k]^=d[k];return w}},24515:je=>{let H;je.exports="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window<"u"?window:globalThis):w=>(H||(H=Promise.resolve())).then(w).catch(d=>setTimeout(()=>{throw d},0))},3342:(je,H,w)=>{"use strict";var d=w(40573),E=65536,x=w(27054).Buffer,O=globalThis.crypto||globalThis.msCrypto;je.exports=O&&O.getRandomValues?function A(P,F){if(P>4294967295)throw new RangeError("requested too many random bytes");var L=x.allocUnsafe(P);if(P>0)if(P>E)for(var D=0;D<P;D+=E)O.getRandomValues(L.slice(D,D+E));else O.getRandomValues(L);return"function"==typeof F?d.nextTick(function(){F(null,L)}):L}:function z(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},9682:(je,H,w)=>{"use strict";var d=w(40573);function E(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var k=w(27054),z=w(3342),x=k.Buffer,O=k.kMaxLength,A=globalThis.crypto||globalThis.msCrypto,P=Math.pow(2,32)-1;function F(G,re){if("number"!=typeof G||G!=G)throw new TypeError("offset must be a number");if(G>P||G<0)throw new TypeError("offset must be a uint32");if(G>O||G>re)throw new RangeError("offset out of range")}function L(G,re,te){if("number"!=typeof G||G!=G)throw new TypeError("size must be a number");if(G>P||G<0)throw new TypeError("size must be a uint32");if(G+re>te||G>O)throw new RangeError("buffer too small")}function X(G,re,te,J){if(d.browser){var ie=new Uint8Array(G.buffer,re,te);return A.getRandomValues(ie),J?void d.nextTick(function(){J(null,G)}):G}if(!J)return z(te).copy(G,re),G;z(te,function(se,de){if(se)return J(se);de.copy(G,re),J(null,G)})}A&&A.getRandomValues||!d.browser?(H.randomFill=function D(G,re,te,J){if(!(x.isBuffer(G)||G instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof re)J=re,re=0,te=G.length;else if("function"==typeof te)J=te,te=G.length-re;else if("function"!=typeof J)throw new TypeError('"cb" argument must be a function');return F(re,G.length),L(te,re,G.length),X(G,re,te,J)},H.randomFillSync=function j(G,re,te){if(typeof re>"u"&&(re=0),!(x.isBuffer(G)||G instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return F(re,G.length),void 0===te&&(te=G.length-re),L(te,re,G.length),X(G,re,te)}):(H.randomFill=E,H.randomFillSync=E)},26113:je=>{"use strict";var w={};function d(O,A,P){P||(P=Error);var L=function(D){function X(j,G,re){return D.call(this,function F(D,X,j){return"string"==typeof A?A:A(D,X,j)}(j,G,re))||this}return function H(O,A){O.prototype=Object.create(A.prototype),O.prototype.constructor=O,O.__proto__=A}(X,D),X}(P);L.prototype.name=P.name,L.prototype.code=O,w[O]=L}function E(O,A){if(Array.isArray(O)){var P=O.length;return O=O.map(function(F){return String(F)}),P>2?"one of ".concat(A," ").concat(O.slice(0,P-1).join(", "),", or ")+O[P-1]:2===P?"one of ".concat(A," ").concat(O[0]," or ").concat(O[1]):"of ".concat(A," ").concat(O[0])}return"of ".concat(A," ").concat(String(O))}d("ERR_INVALID_OPT_VALUE",function(O,A){return'The value "'+A+'" is invalid for option "'+O+'"'},TypeError),d("ERR_INVALID_ARG_TYPE",function(O,A,P){var F,L;if("string"==typeof A&&function k(O,A,P){return O.substr(!P||P<0?0:+P,A.length)===A}(A,"not ")?(F="must not be",A=A.replace(/^not /,"")):F="must be",function z(O,A,P){return(void 0===P||P>O.length)&&(P=O.length),O.substring(P-A.length,P)===A}(O," argument"))L="The ".concat(O," ").concat(F," ").concat(E(A,"type"));else{var D=function x(O,A,P){return"number"!=typeof P&&(P=0),!(P+A.length>O.length)&&-1!==O.indexOf(A,P)}(O,".")?"property":"argument";L='The "'.concat(O,'" ').concat(D," ").concat(F," ").concat(E(A,"type"))}return L+". Received type ".concat(typeof P)},TypeError),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),d("ERR_METHOD_NOT_IMPLEMENTED",function(O){return"The "+O+" method is not implemented"}),d("ERR_STREAM_PREMATURE_CLOSE","Premature close"),d("ERR_STREAM_DESTROYED",function(O){return"Cannot call "+O+" after a stream was destroyed"}),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),d("ERR_STREAM_WRITE_AFTER_END","write after end"),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_UNKNOWN_ENCODING",function(O){return"Unknown encoding: "+O},TypeError),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),je.exports.F=w},74075:(je,H,w)=>{"use strict";var d=w(40573),E=Object.keys||function(D){var X=[];for(var j in D)X.push(j);return X};je.exports=P;var k=w(19609),z=w(47849);w(71993)(P,k);for(var x=E(z.prototype),O=0;O<x.length;O++){var A=x[O];P.prototype[A]||(P.prototype[A]=z.prototype[A])}function P(D){if(!(this instanceof P))return new P(D);k.call(this,D),z.call(this,D),this.allowHalfOpen=!0,D&&(!1===D.readable&&(this.readable=!1),!1===D.writable&&(this.writable=!1),!1===D.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",F)))}function F(){this._writableState.ended||d.nextTick(L,this)}function L(D){D.end()}Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(P.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(P.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(X){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=X,this._writableState.destroyed=X)}})},18823:(je,H,w)=>{"use strict";je.exports=E;var d=w(2909);function E(k){if(!(this instanceof E))return new E(k);d.call(this,k)}w(71993)(E,d),E.prototype._transform=function(k,z,x){x(null,k)}},19609:(je,H,w)=>{"use strict";var E,d=w(40573);je.exports=a,a.ReadableState=C,w(44356);var D,z=function(ue,Q){return ue.listeners(Q).length},x=w(18342),O=w(83838).Buffer,A=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},L=w(79838);D=L&&L.debuglog?L.debuglog("stream"):function(){};var se,de,le,X=w(19588),j=w(21509),re=w(42934).getHighWaterMark,te=w(26113).F,J=te.ERR_INVALID_ARG_TYPE,Z=te.ERR_STREAM_PUSH_AFTER_EOF,ie=te.ERR_METHOD_NOT_IMPLEMENTED,ae=te.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;w(71993)(a,x);var be=j.errorOrDestroy,xe=["error","close","destroy","pause","resume"];function C(pe,ue,Q){E=E||w(74075),"boolean"!=typeof Q&&(Q=ue instanceof E),this.objectMode=!!(pe=pe||{}).objectMode,Q&&(this.objectMode=this.objectMode||!!pe.readableObjectMode),this.highWaterMark=re(this,pe,"readableHighWaterMark",Q),this.buffer=new X,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==pe.emitClose,this.autoDestroy=!!pe.autoDestroy,this.destroyed=!1,this.defaultEncoding=pe.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,pe.encoding&&(se||(se=w(78454).StringDecoder),this.decoder=new se(pe.encoding),this.encoding=pe.encoding)}function a(pe){if(E=E||w(74075),!(this instanceof a))return new a(pe);this._readableState=new C(pe,this,this instanceof E),this.readable=!0,pe&&("function"==typeof pe.read&&(this._read=pe.read),"function"==typeof pe.destroy&&(this._destroy=pe.destroy)),x.call(this)}function f(pe,ue,Q,oe,fe){D("readableAddChunk",ue);var Re,Ee=pe._readableState;if(null===ue)Ee.reading=!1,function S(pe,ue){if(D("onEofChunk"),!ue.ended){if(ue.decoder){var Q=ue.decoder.end();Q&&Q.length&&(ue.buffer.push(Q),ue.length+=ue.objectMode?1:Q.length)}ue.ended=!0,ue.sync?s(pe):(ue.needReadable=!1,ue.emittedReadable||(ue.emittedReadable=!0,v(pe)))}}(pe,Ee);else if(fe||(Re=function g(pe,ue){var Q;return!function F(pe){return O.isBuffer(pe)||pe instanceof A}(ue)&&"string"!=typeof ue&&void 0!==ue&&!pe.objectMode&&(Q=new J("chunk",["string","Buffer","Uint8Array"],ue)),Q}(Ee,ue)),Re)be(pe,Re);else if(Ee.objectMode||ue&&ue.length>0)if("string"!=typeof ue&&!Ee.objectMode&&Object.getPrototypeOf(ue)!==O.prototype&&(ue=function P(pe){return O.from(pe)}(ue)),oe)Ee.endEmitted?be(pe,new ae):y(pe,Ee,ue,!0);else if(Ee.ended)be(pe,new Z);else{if(Ee.destroyed)return!1;Ee.reading=!1,Ee.decoder&&!Q?(ue=Ee.decoder.write(ue),Ee.objectMode||0!==ue.length?y(pe,Ee,ue,!1):W(pe,Ee)):y(pe,Ee,ue,!1)}else oe||(Ee.reading=!1,W(pe,Ee));return!Ee.ended&&(Ee.length<Ee.highWaterMark||0===Ee.length)}function y(pe,ue,Q,oe){ue.flowing&&0===ue.length&&!ue.sync?(ue.awaitDrain=0,pe.emit("data",Q)):(ue.length+=ue.objectMode?1:Q.length,oe?ue.buffer.unshift(Q):ue.buffer.push(Q),ue.needReadable&&s(pe)),W(pe,ue)}Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(ue){this._readableState&&(this._readableState.destroyed=ue)}}),a.prototype.destroy=j.destroy,a.prototype._undestroy=j.undestroy,a.prototype._destroy=function(pe,ue){ue(pe)},a.prototype.push=function(pe,ue){var oe,Q=this._readableState;return Q.objectMode?oe=!0:"string"==typeof pe&&((ue=ue||Q.defaultEncoding)!==Q.encoding&&(pe=O.from(pe,ue),ue=""),oe=!0),f(this,pe,ue,!1,oe)},a.prototype.unshift=function(pe){return f(this,pe,null,!0,!1)},a.prototype.isPaused=function(){return!1===this._readableState.flowing},a.prototype.setEncoding=function(pe){se||(se=w(78454).StringDecoder);var ue=new se(pe);this._readableState.decoder=ue,this._readableState.encoding=this._readableState.decoder.encoding;for(var Q=this._readableState.buffer.head,oe="";null!==Q;)oe+=ue.write(Q.data),Q=Q.next;return this._readableState.buffer.clear(),""!==oe&&this._readableState.buffer.push(oe),this._readableState.length=oe.length,this};var M=1073741824;function B(pe,ue){return pe<=0||0===ue.length&&ue.ended?0:ue.objectMode?1:pe!=pe?ue.flowing&&ue.length?ue.buffer.head.data.length:ue.length:(pe>ue.highWaterMark&&(ue.highWaterMark=function T(pe){return pe>=M?pe=M:(pe--,pe|=pe>>>1,pe|=pe>>>2,pe|=pe>>>4,pe|=pe>>>8,pe|=pe>>>16,pe++),pe}(pe)),pe<=ue.length?pe:ue.ended?ue.length:(ue.needReadable=!0,0))}function s(pe){var ue=pe._readableState;D("emitReadable",ue.needReadable,ue.emittedReadable),ue.needReadable=!1,ue.emittedReadable||(D("emitReadable",ue.flowing),ue.emittedReadable=!0,d.nextTick(v,pe))}function v(pe){var ue=pe._readableState;D("emitReadable_",ue.destroyed,ue.length,ue.ended),!ue.destroyed&&(ue.length||ue.ended)&&(pe.emit("readable"),ue.emittedReadable=!1),ue.needReadable=!ue.flowing&&!ue.ended&&ue.length<=ue.highWaterMark,Se(pe)}function W(pe,ue){ue.readingMore||(ue.readingMore=!0,d.nextTick(K,pe,ue))}function K(pe,ue){for(;!ue.reading&&!ue.ended&&(ue.length<ue.highWaterMark||ue.flowing&&0===ue.length);){var Q=ue.length;if(D("maybeReadMore read 0"),pe.read(0),Q===ue.length)break}ue.readingMore=!1}function ce(pe){var ue=pe._readableState;ue.readableListening=pe.listenerCount("readable")>0,ue.resumeScheduled&&!ue.paused?ue.flowing=!0:pe.listenerCount("data")>0&&pe.resume()}function _e(pe){D("readable nexttick read 0"),pe.read(0)}function Ve(pe,ue){D("resume",ue.reading),ue.reading||pe.read(0),ue.resumeScheduled=!1,pe.emit("resume"),Se(pe),ue.flowing&&!ue.reading&&pe.read(0)}function Se(pe){var ue=pe._readableState;for(D("flow",ue.flowing);ue.flowing&&null!==pe.read(););}function we(pe,ue){return 0===ue.length?null:(ue.objectMode?Q=ue.buffer.shift():!pe||pe>=ue.length?(Q=ue.decoder?ue.buffer.join(""):1===ue.buffer.length?ue.buffer.first():ue.buffer.concat(ue.length),ue.buffer.clear()):Q=ue.buffer.consume(pe,ue.decoder),Q);var Q}function Ue(pe){var ue=pe._readableState;D("endReadable",ue.endEmitted),ue.endEmitted||(ue.ended=!0,d.nextTick(ye,ue,pe))}function ye(pe,ue){if(D("endReadableNT",pe.endEmitted,pe.length),!pe.endEmitted&&0===pe.length&&(pe.endEmitted=!0,ue.readable=!1,ue.emit("end"),pe.autoDestroy)){var Q=ue._writableState;(!Q||Q.autoDestroy&&Q.finished)&&ue.destroy()}}function De(pe,ue){for(var Q=0,oe=pe.length;Q<oe;Q++)if(pe[Q]===ue)return Q;return-1}a.prototype.read=function(pe){D("read",pe),pe=parseInt(pe,10);var ue=this._readableState,Q=pe;if(0!==pe&&(ue.emittedReadable=!1),0===pe&&ue.needReadable&&((0!==ue.highWaterMark?ue.length>=ue.highWaterMark:ue.length>0)||ue.ended))return D("read: emitReadable",ue.length,ue.ended),0===ue.length&&ue.ended?Ue(this):s(this),null;if(0===(pe=B(pe,ue))&&ue.ended)return 0===ue.length&&Ue(this),null;var fe,oe=ue.needReadable;return D("need readable",oe),(0===ue.length||ue.length-pe<ue.highWaterMark)&&D("length less than watermark",oe=!0),ue.ended||ue.reading?D("reading or ended",oe=!1):oe&&(D("do read"),ue.reading=!0,ue.sync=!0,0===ue.length&&(ue.needReadable=!0),this._read(ue.highWaterMark),ue.sync=!1,ue.reading||(pe=B(Q,ue))),null===(fe=pe>0?we(pe,ue):null)?(ue.needReadable=ue.length<=ue.highWaterMark,pe=0):(ue.length-=pe,ue.awaitDrain=0),0===ue.length&&(ue.ended||(ue.needReadable=!0),Q!==pe&&ue.ended&&Ue(this)),null!==fe&&this.emit("data",fe),fe},a.prototype._read=function(pe){be(this,new ie("_read()"))},a.prototype.pipe=function(pe,ue){var Q=this,oe=this._readableState;switch(oe.pipesCount){case 0:oe.pipes=pe;break;case 1:oe.pipes=[oe.pipes,pe];break;default:oe.pipes.push(pe)}oe.pipesCount+=1,D("pipe count=%d opts=%j",oe.pipesCount,ue);var Ee=ue&&!1===ue.end||pe===d.stdout||pe===d.stderr?m:$e;function $e(){D("onend"),pe.end()}oe.endEmitted?d.nextTick(Ee):Q.once("end",Ee),pe.on("unpipe",function Re(U,ne){D("onunpipe"),U===Q&&ne&&!1===ne.hasUnpiped&&(ne.hasUnpiped=!0,function We(){D("cleanup"),pe.removeListener("close",N),pe.removeListener("finish",_),pe.removeListener("drain",Fe),pe.removeListener("error",lt),pe.removeListener("unpipe",Re),Q.removeListener("end",$e),Q.removeListener("end",m),Q.removeListener("data",Le),_t=!0,oe.awaitDrain&&(!pe._writableState||pe._writableState.needDrain)&&Fe()}())});var Fe=function ee(pe){return function(){var Q=pe._readableState;D("pipeOnDrain",Q.awaitDrain),Q.awaitDrain&&Q.awaitDrain--,0===Q.awaitDrain&&z(pe,"data")&&(Q.flowing=!0,Se(pe))}}(Q);pe.on("drain",Fe);var _t=!1;function Le(U){D("ondata");var ne=pe.write(U);D("dest.write",ne),!1===ne&&((1===oe.pipesCount&&oe.pipes===pe||oe.pipesCount>1&&-1!==De(oe.pipes,pe))&&!_t&&(D("false write response, pause",oe.awaitDrain),oe.awaitDrain++),Q.pause())}function lt(U){D("onerror",U),m(),pe.removeListener("error",lt),0===z(pe,"error")&&be(pe,U)}function N(){pe.removeListener("finish",_),m()}function _(){D("onfinish"),pe.removeListener("close",N),m()}function m(){D("unpipe"),Q.unpipe(pe)}return Q.on("data",Le),function ke(pe,ue,Q){if("function"==typeof pe.prependListener)return pe.prependListener(ue,Q);pe._events&&pe._events[ue]?Array.isArray(pe._events[ue])?pe._events[ue].unshift(Q):pe._events[ue]=[Q,pe._events[ue]]:pe.on(ue,Q)}(pe,"error",lt),pe.once("close",N),pe.once("finish",_),pe.emit("pipe",Q),oe.flowing||(D("pipe resume"),Q.resume()),pe},a.prototype.unpipe=function(pe){var ue=this._readableState,Q={hasUnpiped:!1};if(0===ue.pipesCount)return this;if(1===ue.pipesCount)return pe&&pe!==ue.pipes||(pe||(pe=ue.pipes),ue.pipes=null,ue.pipesCount=0,ue.flowing=!1,pe&&pe.emit("unpipe",this,Q)),this;if(!pe){var oe=ue.pipes,fe=ue.pipesCount;ue.pipes=null,ue.pipesCount=0,ue.flowing=!1;for(var Ee=0;Ee<fe;Ee++)oe[Ee].emit("unpipe",this,{hasUnpiped:!1});return this}var Re=De(ue.pipes,pe);return-1===Re||(ue.pipes.splice(Re,1),ue.pipesCount-=1,1===ue.pipesCount&&(ue.pipes=ue.pipes[0]),pe.emit("unpipe",this,Q)),this},a.prototype.addListener=a.prototype.on=function(pe,ue){var Q=x.prototype.on.call(this,pe,ue),oe=this._readableState;return"data"===pe?(oe.readableListening=this.listenerCount("readable")>0,!1!==oe.flowing&&this.resume()):"readable"===pe&&!oe.endEmitted&&!oe.readableListening&&(oe.readableListening=oe.needReadable=!0,oe.flowing=!1,oe.emittedReadable=!1,D("on readable",oe.length,oe.reading),oe.length?s(this):oe.reading||d.nextTick(_e,this)),Q},a.prototype.removeListener=function(pe,ue){var Q=x.prototype.removeListener.call(this,pe,ue);return"readable"===pe&&d.nextTick(ce,this),Q},a.prototype.removeAllListeners=function(pe){var ue=x.prototype.removeAllListeners.apply(this,arguments);return("readable"===pe||void 0===pe)&&d.nextTick(ce,this),ue},a.prototype.resume=function(){var pe=this._readableState;return pe.flowing||(D("resume"),pe.flowing=!pe.readableListening,function Oe(pe,ue){ue.resumeScheduled||(ue.resumeScheduled=!0,d.nextTick(Ve,pe,ue))}(this,pe)),pe.paused=!1,this},a.prototype.pause=function(){return D("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(D("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},a.prototype.wrap=function(pe){var ue=this,Q=this._readableState,oe=!1;for(var fe in pe.on("end",function(){if(D("wrapped end"),Q.decoder&&!Q.ended){var Re=Q.decoder.end();Re&&Re.length&&ue.push(Re)}ue.push(null)}),pe.on("data",function(Re){D("wrapped data"),Q.decoder&&(Re=Q.decoder.write(Re)),Q.objectMode&&null==Re||!(Q.objectMode||Re&&Re.length)||ue.push(Re)||(oe=!0,pe.pause())}),pe)void 0===this[fe]&&"function"==typeof pe[fe]&&(this[fe]=function($e){return function(){return pe[$e].apply(pe,arguments)}}(fe));for(var Ee=0;Ee<xe.length;Ee++)pe.on(xe[Ee],this.emit.bind(this,xe[Ee]));return this._read=function(Re){D("wrapped _read",Re),oe&&(oe=!1,pe.resume())},this},"function"==typeof Symbol&&(a.prototype[Symbol.asyncIterator]=function(){return void 0===de&&(de=w(6320)),de(this)}),Object.defineProperty(a.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(a.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(a.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ue){this._readableState&&(this._readableState.flowing=ue)}}),a._fromList=we,Object.defineProperty(a.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(a.from=function(pe,ue){return void 0===le&&(le=w(87654)),le(a,pe,ue)})},2909:(je,H,w)=>{"use strict";je.exports=P;var d=w(26113).F,E=d.ERR_METHOD_NOT_IMPLEMENTED,k=d.ERR_MULTIPLE_CALLBACK,z=d.ERR_TRANSFORM_ALREADY_TRANSFORMING,x=d.ERR_TRANSFORM_WITH_LENGTH_0,O=w(74075);function A(D,X){var j=this._transformState;j.transforming=!1;var G=j.writecb;if(null===G)return this.emit("error",new k);j.writechunk=null,j.writecb=null,null!=X&&this.push(X),G(D);var re=this._readableState;re.reading=!1,(re.needReadable||re.length<re.highWaterMark)&&this._read(re.highWaterMark)}function P(D){if(!(this instanceof P))return new P(D);O.call(this,D),this._transformState={afterTransform:A.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,D&&("function"==typeof D.transform&&(this._transform=D.transform),"function"==typeof D.flush&&(this._flush=D.flush)),this.on("prefinish",F)}function F(){var D=this;"function"!=typeof this._flush||this._readableState.destroyed?L(this,null,null):this._flush(function(X,j){L(D,X,j)})}function L(D,X,j){if(X)return D.emit("error",X);if(null!=j&&D.push(j),D._writableState.length)throw new x;if(D._transformState.transforming)throw new z;return D.push(null)}w(71993)(P,O),P.prototype.push=function(D,X){return this._transformState.needTransform=!1,O.prototype.push.call(this,D,X)},P.prototype._transform=function(D,X,j){j(new E("_transform()"))},P.prototype._write=function(D,X,j){var G=this._transformState;if(G.writecb=j,G.writechunk=D,G.writeencoding=X,!G.transforming){var re=this._readableState;(G.needTransform||re.needReadable||re.length<re.highWaterMark)&&this._read(re.highWaterMark)}},P.prototype._read=function(D){var X=this._transformState;null===X.writechunk||X.transforming?X.needTransform=!0:(X.transforming=!0,this._transform(X.writechunk,X.writeencoding,X.afterTransform))},P.prototype._destroy=function(D,X){O.prototype._destroy.call(this,D,function(j){X(j)})}},47849:(je,H,w)=>{"use strict";var z,d=w(40573);function k(Se){var we=this;this.next=null,this.entry=null,this.finish=function(){!function Ve(Se,we,Ue){var ye=Se.entry;for(Se.entry=null;ye;){var De=ye.callback;we.pendingcb--,De(Ue),ye=ye.next}we.corkedRequestsFree.next=Se}(we,Se)}}je.exports=C,C.WritableState=xe;var ke,x={deprecate:w(3398)},O=w(18342),A=w(83838).Buffer,P=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},D=w(21509),j=w(42934).getHighWaterMark,G=w(26113).F,re=G.ERR_INVALID_ARG_TYPE,te=G.ERR_METHOD_NOT_IMPLEMENTED,J=G.ERR_MULTIPLE_CALLBACK,Z=G.ERR_STREAM_CANNOT_PIPE,ie=G.ERR_STREAM_DESTROYED,ae=G.ERR_STREAM_NULL_VALUES,se=G.ERR_STREAM_WRITE_AFTER_END,de=G.ERR_UNKNOWN_ENCODING,le=D.errorOrDestroy;function be(){}function xe(Se,we,Ue){z=z||w(74075),"boolean"!=typeof Ue&&(Ue=we instanceof z),this.objectMode=!!(Se=Se||{}).objectMode,Ue&&(this.objectMode=this.objectMode||!!Se.writableObjectMode),this.highWaterMark=j(this,Se,"writableHighWaterMark",Ue),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===Se.decodeStrings),this.defaultEncoding=Se.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(De){!function S(Se,we){var Ue=Se._writableState,ye=Ue.sync,De=Ue.writecb;if("function"!=typeof De)throw new J;if(function B(Se){Se.writing=!1,Se.writecb=null,Se.length-=Se.writelen,Se.writelen=0}(Ue),we)!function T(Se,we,Ue,ye,De){--we.pendingcb,Ue?(d.nextTick(De,ye),d.nextTick(_e,Se,we),Se._writableState.errorEmitted=!0,le(Se,ye)):(De(ye),Se._writableState.errorEmitted=!0,le(Se,ye),_e(Se,we))}(Se,Ue,ye,we,De);else{var pe=K(Ue)||Se.destroyed;!pe&&!Ue.corked&&!Ue.bufferProcessing&&Ue.bufferedRequest&&W(Se,Ue),ye?d.nextTick(s,Se,Ue,pe,De):s(Se,Ue,pe,De)}}(we,De)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==Se.emitClose,this.autoDestroy=!!Se.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new k(this)}function C(Se){var we=this instanceof(z=z||w(74075));if(!we&&!ke.call(C,this))return new C(Se);this._writableState=new xe(Se,this,we),this.writable=!0,Se&&("function"==typeof Se.write&&(this._write=Se.write),"function"==typeof Se.writev&&(this._writev=Se.writev),"function"==typeof Se.destroy&&(this._destroy=Se.destroy),"function"==typeof Se.final&&(this._final=Se.final)),O.call(this)}function M(Se,we,Ue,ye,De,pe,ue){we.writelen=ye,we.writecb=ue,we.writing=!0,we.sync=!0,we.destroyed?we.onwrite(new ie("write")):Ue?Se._writev(De,we.onwrite):Se._write(De,pe,we.onwrite),we.sync=!1}function s(Se,we,Ue,ye){Ue||function v(Se,we){0===we.length&&we.needDrain&&(we.needDrain=!1,Se.emit("drain"))}(Se,we),we.pendingcb--,ye(),_e(Se,we)}function W(Se,we){we.bufferProcessing=!0;var Ue=we.bufferedRequest;if(Se._writev&&Ue&&Ue.next){var De=new Array(we.bufferedRequestCount),pe=we.corkedRequestsFree;pe.entry=Ue;for(var ue=0,Q=!0;Ue;)De[ue]=Ue,Ue.isBuf||(Q=!1),Ue=Ue.next,ue+=1;De.allBuffers=Q,M(Se,we,!0,we.length,De,"",pe.finish),we.pendingcb++,we.lastBufferedRequest=null,pe.next?(we.corkedRequestsFree=pe.next,pe.next=null):we.corkedRequestsFree=new k(we),we.bufferedRequestCount=0}else{for(;Ue;){var oe=Ue.chunk;if(M(Se,we,!1,we.objectMode?1:oe.length,oe,Ue.encoding,Ue.callback),Ue=Ue.next,we.bufferedRequestCount--,we.writing)break}null===Ue&&(we.lastBufferedRequest=null)}we.bufferedRequest=Ue,we.bufferProcessing=!1}function K(Se){return Se.ending&&0===Se.length&&null===Se.bufferedRequest&&!Se.finished&&!Se.writing}function ee(Se,we){Se._final(function(Ue){we.pendingcb--,Ue&&le(Se,Ue),we.prefinished=!0,Se.emit("prefinish"),_e(Se,we)})}function _e(Se,we){var Ue=K(we);if(Ue&&(function ce(Se,we){!we.prefinished&&!we.finalCalled&&("function"!=typeof Se._final||we.destroyed?(we.prefinished=!0,Se.emit("prefinish")):(we.pendingcb++,we.finalCalled=!0,d.nextTick(ee,Se,we)))}(Se,we),0===we.pendingcb&&(we.finished=!0,Se.emit("finish"),we.autoDestroy))){var ye=Se._readableState;(!ye||ye.autoDestroy&&ye.endEmitted)&&Se.destroy()}return Ue}w(71993)(C,O),xe.prototype.getBuffer=function(){for(var we=this.bufferedRequest,Ue=[];we;)Ue.push(we),we=we.next;return Ue},function(){try{Object.defineProperty(xe.prototype,"buffer",{get:x.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(ke=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(we){return!!ke.call(this,we)||this===C&&we&&we._writableState instanceof xe}})):ke=function(we){return we instanceof this},C.prototype.pipe=function(){le(this,new Z)},C.prototype.write=function(Se,we,Ue){var ye=this._writableState,De=!1,pe=!ye.objectMode&&function L(Se){return A.isBuffer(Se)||Se instanceof P}(Se);return pe&&!A.isBuffer(Se)&&(Se=function F(Se){return A.from(Se)}(Se)),"function"==typeof we&&(Ue=we,we=null),pe?we="buffer":we||(we=ye.defaultEncoding),"function"!=typeof Ue&&(Ue=be),ye.ending?function a(Se,we){var Ue=new se;le(Se,Ue),d.nextTick(we,Ue)}(this,Ue):(pe||function f(Se,we,Ue,ye){var De;return null===Ue?De=new ae:"string"!=typeof Ue&&!we.objectMode&&(De=new re("chunk",["string","Buffer"],Ue)),!De||(le(Se,De),d.nextTick(ye,De),!1)}(this,ye,Se,Ue))&&(ye.pendingcb++,De=function g(Se,we,Ue,ye,De,pe){if(!Ue){var ue=function y(Se,we,Ue){return!Se.objectMode&&!1!==Se.decodeStrings&&"string"==typeof we&&(we=A.from(we,Ue)),we}(we,ye,De);ye!==ue&&(Ue=!0,De="buffer",ye=ue)}var Q=we.objectMode?1:ye.length;we.length+=Q;var oe=we.length<we.highWaterMark;if(oe||(we.needDrain=!0),we.writing||we.corked){var fe=we.lastBufferedRequest;we.lastBufferedRequest={chunk:ye,encoding:De,isBuf:Ue,callback:pe,next:null},fe?fe.next=we.lastBufferedRequest:we.bufferedRequest=we.lastBufferedRequest,we.bufferedRequestCount+=1}else M(Se,we,!1,Q,ye,De,pe);return oe}(this,ye,pe,Se,we,Ue)),De},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var Se=this._writableState;Se.corked&&(Se.corked--,!Se.writing&&!Se.corked&&!Se.bufferProcessing&&Se.bufferedRequest&&W(this,Se))},C.prototype.setDefaultEncoding=function(we){if("string"==typeof we&&(we=we.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((we+"").toLowerCase())>-1))throw new de(we);return this._writableState.defaultEncoding=we,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(Se,we,Ue){Ue(new te("_write()"))},C.prototype._writev=null,C.prototype.end=function(Se,we,Ue){var ye=this._writableState;return"function"==typeof Se?(Ue=Se,Se=null,we=null):"function"==typeof we&&(Ue=we,we=null),null!=Se&&this.write(Se,we),ye.corked&&(ye.corked=1,this.uncork()),ye.ending||function Oe(Se,we,Ue){we.ending=!0,_e(Se,we),Ue&&(we.finished?d.nextTick(Ue):Se.once("finish",Ue)),we.ended=!0,Se.writable=!1}(this,ye,Ue),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(we){this._writableState&&(this._writableState.destroyed=we)}}),C.prototype.destroy=D.destroy,C.prototype._undestroy=D.undestroy,C.prototype._destroy=function(Se,we){we(Se)}},6320:(je,H,w)=>{"use strict";var E,d=w(40573);function k(se,de,le){return de=function z(se){var de=function x(se,de){if("object"!=typeof se||null===se)return se;var le=se[Symbol.toPrimitive];if(void 0!==le){var be=le.call(se,de||"default");if("object"!=typeof be)return be;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===de?String:Number)(se)}(se,"string");return"symbol"==typeof de?de:String(de)}(de),de in se?Object.defineProperty(se,de,{value:le,enumerable:!0,configurable:!0,writable:!0}):se[de]=le,se}var O=w(33139),A=Symbol("lastResolve"),P=Symbol("lastReject"),F=Symbol("error"),L=Symbol("ended"),D=Symbol("lastPromise"),X=Symbol("handlePromise"),j=Symbol("stream");function G(se,de){return{value:se,done:de}}function re(se){var de=se[A];if(null!==de){var le=se[j].read();null!==le&&(se[D]=null,se[A]=null,se[P]=null,de(G(le,!1)))}}function te(se){d.nextTick(re,se)}var Z=Object.getPrototypeOf(function(){}),ie=Object.setPrototypeOf((k(E={get stream(){return this[j]},next:function(){var de=this,le=this[F];if(null!==le)return Promise.reject(le);if(this[L])return Promise.resolve(G(void 0,!0));if(this[j].destroyed)return new Promise(function(C,a){d.nextTick(function(){de[F]?a(de[F]):C(G(void 0,!0))})});var xe,be=this[D];if(be)xe=new Promise(function J(se,de){return function(le,be){se.then(function(){de[L]?le(G(void 0,!0)):de[X](le,be)},be)}}(be,this));else{var ke=this[j].read();if(null!==ke)return Promise.resolve(G(ke,!1));xe=new Promise(this[X])}return this[D]=xe,xe}},Symbol.asyncIterator,function(){return this}),k(E,"return",function(){var de=this;return new Promise(function(le,be){de[j].destroy(null,function(xe){xe?be(xe):le(G(void 0,!0))})})}),E),Z);je.exports=function(de){var le,be=Object.create(ie,(k(le={},j,{value:de,writable:!0}),k(le,A,{value:null,writable:!0}),k(le,P,{value:null,writable:!0}),k(le,F,{value:null,writable:!0}),k(le,L,{value:de._readableState.endEmitted,writable:!0}),k(le,X,{value:function(ke,C){var a=be[j].read();a?(be[D]=null,be[A]=null,be[P]=null,ke(G(a,!1))):(be[A]=ke,be[P]=C)},writable:!0}),le));return be[D]=null,O(de,function(xe){if(xe&&"ERR_STREAM_PREMATURE_CLOSE"!==xe.code){var ke=be[P];return null!==ke&&(be[D]=null,be[A]=null,be[P]=null,ke(xe)),void(be[F]=xe)}var C=be[A];null!==C&&(be[D]=null,be[A]=null,be[P]=null,C(G(void 0,!0))),be[L]=!0}),de.on("readable",te.bind(null,be)),be}},19588:(je,H,w)=>{"use strict";function d(re,te){var J=Object.keys(re);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(re);te&&(Z=Z.filter(function(ie){return Object.getOwnPropertyDescriptor(re,ie).enumerable})),J.push.apply(J,Z)}return J}function E(re){for(var te=1;te<arguments.length;te++){var J=null!=arguments[te]?arguments[te]:{};te%2?d(Object(J),!0).forEach(function(Z){k(re,Z,J[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(re,Object.getOwnPropertyDescriptors(J)):d(Object(J)).forEach(function(Z){Object.defineProperty(re,Z,Object.getOwnPropertyDescriptor(J,Z))})}return re}function k(re,te,J){return(te=A(te))in re?Object.defineProperty(re,te,{value:J,enumerable:!0,configurable:!0,writable:!0}):re[te]=J,re}function x(re,te){for(var J=0;J<te.length;J++){var Z=te[J];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(re,A(Z.key),Z)}}function A(re){var te=function P(re,te){if("object"!=typeof re||null===re)return re;var J=re[Symbol.toPrimitive];if(void 0!==J){var Z=J.call(re,te||"default");if("object"!=typeof Z)return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===te?String:Number)(re)}(re,"string");return"symbol"==typeof te?te:String(te)}var L=w(83838).Buffer,X=w(15340).inspect,j=X&&X.custom||"inspect";function G(re,te,J){L.prototype.copy.call(re,te,J)}je.exports=function(){function re(){(function z(re,te){if(!(re instanceof te))throw new TypeError("Cannot call a class as a function")})(this,re),this.head=null,this.tail=null,this.length=0}return function O(re,te,J){te&&x(re.prototype,te),J&&x(re,J),Object.defineProperty(re,"prototype",{writable:!1})}(re,[{key:"push",value:function(J){var Z={data:J,next:null};this.length>0?this.tail.next=Z:this.head=Z,this.tail=Z,++this.length}},{key:"unshift",value:function(J){var Z={data:J,next:this.head};0===this.length&&(this.tail=Z),this.head=Z,++this.length}},{key:"shift",value:function(){if(0!==this.length){var J=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,J}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(J){if(0===this.length)return"";for(var Z=this.head,ie=""+Z.data;Z=Z.next;)ie+=J+Z.data;return ie}},{key:"concat",value:function(J){if(0===this.length)return L.alloc(0);for(var Z=L.allocUnsafe(J>>>0),ie=this.head,ae=0;ie;)G(ie.data,Z,ae),ae+=ie.data.length,ie=ie.next;return Z}},{key:"consume",value:function(J,Z){var ie;return J<this.head.data.length?(ie=this.head.data.slice(0,J),this.head.data=this.head.data.slice(J)):ie=J===this.head.data.length?this.shift():Z?this._getString(J):this._getBuffer(J),ie}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(J){var Z=this.head,ie=1,ae=Z.data;for(J-=ae.length;Z=Z.next;){var se=Z.data,de=J>se.length?se.length:J;if(ae+=de===se.length?se:se.slice(0,J),0==(J-=de)){de===se.length?(++ie,this.head=Z.next?Z.next:this.tail=null):(this.head=Z,Z.data=se.slice(de));break}++ie}return this.length-=ie,ae}},{key:"_getBuffer",value:function(J){var Z=L.allocUnsafe(J),ie=this.head,ae=1;for(ie.data.copy(Z),J-=ie.data.length;ie=ie.next;){var se=ie.data,de=J>se.length?se.length:J;if(se.copy(Z,Z.length-J,0,de),0==(J-=de)){de===se.length?(++ae,this.head=ie.next?ie.next:this.tail=null):(this.head=ie,ie.data=se.slice(de));break}++ae}return this.length-=ae,Z}},{key:j,value:function(J,Z){return X(this,E(E({},Z),{},{depth:0,customInspect:!1}))}}]),re}()},21509:(je,H,w)=>{"use strict";var d=w(40573);function k(P,F){O(P,F),z(P)}function z(P){P._writableState&&!P._writableState.emitClose||P._readableState&&!P._readableState.emitClose||P.emit("close")}function O(P,F){P.emit("error",F)}je.exports={destroy:function E(P,F){var L=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(F?F(P):P&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,d.nextTick(O,this,P)):d.nextTick(O,this,P)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(P||null,function(j){!F&&j?L._writableState?L._writableState.errorEmitted?d.nextTick(z,L):(L._writableState.errorEmitted=!0,d.nextTick(k,L,j)):d.nextTick(k,L,j):F?(d.nextTick(z,L),F(j)):d.nextTick(z,L)}),this)},undestroy:function x(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function A(P,F){var L=P._readableState,D=P._writableState;L&&L.autoDestroy||D&&D.autoDestroy?P.destroy(F):P.emit("error",F)}}},33139:(je,H,w)=>{"use strict";var d=w(26113).F.ERR_STREAM_PREMATURE_CLOSE;function k(){}je.exports=function x(O,A,P){if("function"==typeof A)return x(O,null,A);A||(A={}),P=function E(O){var A=!1;return function(){if(!A){A=!0;for(var P=arguments.length,F=new Array(P),L=0;L<P;L++)F[L]=arguments[L];O.apply(this,F)}}}(P||k);var F=A.readable||!1!==A.readable&&O.readable,L=A.writable||!1!==A.writable&&O.writable,D=function(){O.writable||j()},X=O._writableState&&O._writableState.finished,j=function(){L=!1,X=!0,F||P.call(O)},G=O._readableState&&O._readableState.endEmitted,re=function(){F=!1,G=!0,L||P.call(O)},te=function(ae){P.call(O,ae)},J=function(){var ae;return F&&!G?((!O._readableState||!O._readableState.ended)&&(ae=new d),P.call(O,ae)):L&&!X?((!O._writableState||!O._writableState.ended)&&(ae=new d),P.call(O,ae)):void 0},Z=function(){O.req.on("finish",j)};return function z(O){return O.setHeader&&"function"==typeof O.abort}(O)?(O.on("complete",j),O.on("abort",J),O.req?Z():O.on("request",Z)):L&&!O._writableState&&(O.on("end",D),O.on("close",D)),O.on("end",re),O.on("finish",j),!1!==A.error&&O.on("error",te),O.on("close",J),function(){O.removeListener("complete",j),O.removeListener("abort",J),O.removeListener("request",Z),O.req&&O.req.removeListener("finish",j),O.removeListener("end",D),O.removeListener("close",D),O.removeListener("finish",j),O.removeListener("end",re),O.removeListener("error",te),O.removeListener("close",J)}}},87654:je=>{je.exports=function(){throw new Error("Readable.from is not available in the browser")}},96249:(je,H,w)=>{"use strict";var d,k=w(26113).F,z=k.ERR_MISSING_ARGS,x=k.ERR_STREAM_DESTROYED;function O(j){if(j)throw j}function F(j){j()}function L(j,G){return j.pipe(G)}je.exports=function X(){for(var j=arguments.length,G=new Array(j),re=0;re<j;re++)G[re]=arguments[re];var te=function D(j){return j.length&&"function"==typeof j[j.length-1]?j.pop():O}(G);if(Array.isArray(G[0])&&(G=G[0]),G.length<2)throw new z("streams");var J,Z=G.map(function(ie,ae){var se=ae<G.length-1;return function P(j,G,re,te){te=function E(j){var G=!1;return function(){G||(G=!0,j.apply(void 0,arguments))}}(te);var J=!1;j.on("close",function(){J=!0}),void 0===d&&(d=w(33139)),d(j,{readable:G,writable:re},function(ie){if(ie)return te(ie);J=!0,te()});var Z=!1;return function(ie){if(!J&&!Z){if(Z=!0,function A(j){return j.setHeader&&"function"==typeof j.abort}(j))return j.abort();if("function"==typeof j.destroy)return j.destroy();te(ie||new x("pipe"))}}}(ie,se,ae>0,function(le){J||(J=le),le&&Z.forEach(F),!se&&(Z.forEach(F),te(J))})});return G.reduce(L)}},42934:(je,H,w)=>{"use strict";var d=w(26113).F.ERR_INVALID_OPT_VALUE;je.exports={getHighWaterMark:function k(z,x,O,A){var P=function E(z,x,O){return null!=z.highWaterMark?z.highWaterMark:x?z[O]:null}(x,A,O);if(null!=P){if(!isFinite(P)||Math.floor(P)!==P||P<0)throw new d(A?O:"highWaterMark",P);return Math.floor(P)}return z.objectMode?16:16384}}},18342:(je,H,w)=>{je.exports=w(44356).EventEmitter},5942:(je,H,w)=>{(H=je.exports=w(19609)).Stream=H,H.Readable=H,H.Writable=w(47849),H.Duplex=w(74075),H.Transform=w(2909),H.PassThrough=w(18823),H.finished=w(33139),H.pipeline=w(96249)},85493:(je,H,w)=>{"use strict";var E=w(29293).default;H.s=void 0;const k=w(5942);H.s=class z extends k.Readable{constructor(O){super(),this.bytesRead=0,this.released=!1,this.reader=O.getReader()}_read(){var O=this;return E(function*(){if(O.released)return void O.push(null);O.pendingRead=O.reader.read();const A=yield O.pendingRead;delete O.pendingRead,A.done||O.released?O.push(null):(O.bytesRead+=A.value.length,O.push(A.value))})()}waitForReadToComplete(){var O=this;return E(function*(){O.pendingRead&&(yield O.pendingRead)})()}close(){var O=this;return E(function*(){yield O.syncAndRelease()})()}syncAndRelease(){var O=this;return E(function*(){O.released=!0,yield O.waitForReadToComplete(),yield O.reader.releaseLock()})()}}},36636:(je,H,w)=>{"use strict";var d=w(83838).Buffer,E=w(71993),k=w(13686),z=new Array(16),x=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],O=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],A=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],P=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],F=[0,1518500249,1859775393,2400959708,2840853838],L=[1352829926,1548603684,1836072691,2053994217,0];function D(){k.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function X(Z,ie){return Z<<ie|Z>>>32-ie}function j(Z,ie,ae,se,de,le,be,xe){return X(Z+(ie^ae^se)+le+be|0,xe)+de|0}function G(Z,ie,ae,se,de,le,be,xe){return X(Z+(ie&ae|~ie&se)+le+be|0,xe)+de|0}function re(Z,ie,ae,se,de,le,be,xe){return X(Z+((ie|~ae)^se)+le+be|0,xe)+de|0}function te(Z,ie,ae,se,de,le,be,xe){return X(Z+(ie&se|ae&~se)+le+be|0,xe)+de|0}function J(Z,ie,ae,se,de,le,be,xe){return X(Z+(ie^(ae|~se))+le+be|0,xe)+de|0}E(D,k),D.prototype._update=function(){for(var Z=z,ie=0;ie<16;++ie)Z[ie]=this._block.readInt32LE(4*ie);for(var ae=0|this._a,se=0|this._b,de=0|this._c,le=0|this._d,be=0|this._e,xe=0|this._a,ke=0|this._b,C=0|this._c,a=0|this._d,f=0|this._e,y=0;y<80;y+=1){var g,M;y<16?(g=j(ae,se,de,le,be,Z[x[y]],F[0],A[y]),M=J(xe,ke,C,a,f,Z[O[y]],L[0],P[y])):y<32?(g=G(ae,se,de,le,be,Z[x[y]],F[1],A[y]),M=te(xe,ke,C,a,f,Z[O[y]],L[1],P[y])):y<48?(g=re(ae,se,de,le,be,Z[x[y]],F[2],A[y]),M=re(xe,ke,C,a,f,Z[O[y]],L[2],P[y])):y<64?(g=te(ae,se,de,le,be,Z[x[y]],F[3],A[y]),M=G(xe,ke,C,a,f,Z[O[y]],L[3],P[y])):(g=J(ae,se,de,le,be,Z[x[y]],F[4],A[y]),M=j(xe,ke,C,a,f,Z[O[y]],L[4],P[y])),ae=be,be=le,le=X(de,10),de=se,se=g,xe=f,f=a,a=X(C,10),C=ke,ke=M}var T=this._b+de+a|0;this._b=this._c+le+f|0,this._c=this._d+be+xe|0,this._d=this._e+ae+ke|0,this._e=this._a+se+C|0,this._a=T},D.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var Z=d.alloc?d.alloc(20):new d(20);return Z.writeInt32LE(this._a,0),Z.writeInt32LE(this._b,4),Z.writeInt32LE(this._c,8),Z.writeInt32LE(this._d,12),Z.writeInt32LE(this._e,16),Z},je.exports=D},81725:(je,H,w)=>{je.exports=function E(k,z,x){if("number"!=typeof z)throw new Error("second argument must be a Number");let O,A,P,F,L,X,D=!0;function j(re){function te(){x&&x(re,O),x=null}D?d(te):te()}function G(re,te,J){if(O[re]=J,te&&(L=!0),0==--P||te)j(te);else if(!L&&X<A){let Z;F?(Z=F[X],X+=1,k[Z](function(ie,ae){G(Z,ie,ae)})):(Z=X,X+=1,k[Z](function(ie,ae){G(Z,ie,ae)}))}}Array.isArray(k)?(O=[],P=A=k.length):(F=Object.keys(k),O={},P=A=F.length),X=z,P?F?F.some(function(re,te){return k[re](function(J,Z){G(re,J,Z)}),te===z-1}):k.some(function(re,te){return re(function(J,Z){G(te,J,Z)}),te===z-1}):j(null),D=!1};const d=w(24515)},84412:(je,H,w)=>{"use strict";w.d(H,{t:()=>E});var d=w(21413);class E extends d.B{constructor(z){super(),this._value=z}get value(){return this.getValue()}_subscribe(z){const x=super._subscribe(z);return!x.closed&&z.next(this._value),x}getValue(){const{hasError:z,thrownError:x,_value:O}=this;if(z)throw x;return this._throwIfClosed(),O}next(z){super.next(this._value=z)}}},71985:(je,H,w)=>{"use strict";w.d(H,{c:()=>P});var d=w(47707),E=w(18359),k=w(3494),z=w(71203),x=w(41026),O=w(98071),A=w(49786);let P=(()=>{class X{constructor(G){G&&(this._subscribe=G)}lift(G){const re=new X;return re.source=this,re.operator=G,re}subscribe(G,re,te){const J=function D(X){return X&&X instanceof d.vU||function L(X){return X&&(0,O.T)(X.next)&&(0,O.T)(X.error)&&(0,O.T)(X.complete)}(X)&&(0,E.Uv)(X)}(G)?G:new d.Ms(G,re,te);return(0,A.Y)(()=>{const{operator:Z,source:ie}=this;J.add(Z?Z.call(J,ie):ie?this._subscribe(J):this._trySubscribe(J))}),J}_trySubscribe(G){try{return this._subscribe(G)}catch(re){G.error(re)}}forEach(G,re){return new(re=F(re))((te,J)=>{const Z=new d.Ms({next:ie=>{try{G(ie)}catch(ae){J(ae),Z.unsubscribe()}},error:J,complete:te});this.subscribe(Z)})}_subscribe(G){var re;return null===(re=this.source)||void 0===re?void 0:re.subscribe(G)}[k.s](){return this}pipe(...G){return(0,z.m)(G)(this)}toPromise(G){return new(G=F(G))((re,te)=>{let J;this.subscribe(Z=>J=Z,Z=>te(Z),()=>re(J))})}}return X.create=j=>new X(j),X})();function F(X){var j;return null!==(j=X??x.$.Promise)&&void 0!==j?j:Promise}},92771:(je,H,w)=>{"use strict";w.d(H,{m:()=>k});var d=w(21413),E=w(86129);class k extends d.B{constructor(x=1/0,O=1/0,A=E.U){super(),this._bufferSize=x,this._windowTime=O,this._timestampProvider=A,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=O===1/0,this._bufferSize=Math.max(1,x),this._windowTime=Math.max(1,O)}next(x){const{isStopped:O,_buffer:A,_infiniteTimeWindow:P,_timestampProvider:F,_windowTime:L}=this;O||(A.push(x),!P&&A.push(F.now()+L)),this._trimBuffer(),super.next(x)}_subscribe(x){this._throwIfClosed(),this._trimBuffer();const O=this._innerSubscribe(x),{_infiniteTimeWindow:A,_buffer:P}=this,F=P.slice();for(let L=0;L<F.length&&!x.closed;L+=A?1:2)x.next(F[L]);return this._checkFinalizedStatuses(x),O}_trimBuffer(){const{_bufferSize:x,_timestampProvider:O,_buffer:A,_infiniteTimeWindow:P}=this,F=(P?1:2)*x;if(x<1/0&&F<A.length&&A.splice(0,A.length-F),!P){const L=O.now();let D=0;for(let X=1;X<A.length&&A[X]<=L;X+=2)D=X;D&&A.splice(0,D+1)}}}},21413:(je,H,w)=>{"use strict";w.d(H,{B:()=>A});var d=w(71985),E=w(18359);const z=(0,w(81853).L)(F=>function(){F(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var x=w(57908),O=w(49786);let A=(()=>{class F extends d.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(D){const X=new P(this,this);return X.operator=D,X}_throwIfClosed(){if(this.closed)throw new z}next(D){(0,O.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(D)}})}error(D){(0,O.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=D;const{observers:X}=this;for(;X.length;)X.shift().error(D)}})}complete(){(0,O.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:D}=this;for(;D.length;)D.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var D;return(null===(D=this.observers)||void 0===D?void 0:D.length)>0}_trySubscribe(D){return this._throwIfClosed(),super._trySubscribe(D)}_subscribe(D){return this._throwIfClosed(),this._checkFinalizedStatuses(D),this._innerSubscribe(D)}_innerSubscribe(D){const{hasError:X,isStopped:j,observers:G}=this;return X||j?E.Kn:(this.currentObservers=null,G.push(D),new E.yU(()=>{this.currentObservers=null,(0,x.o)(G,D)}))}_checkFinalizedStatuses(D){const{hasError:X,thrownError:j,isStopped:G}=this;X?D.error(j):G&&D.complete()}asObservable(){const D=new d.c;return D.source=this,D}}return F.create=(L,D)=>new P(L,D),F})();class P extends A{constructor(L,D){super(),this.destination=L,this.source=D}next(L){var D,X;null===(X=null===(D=this.destination)||void 0===D?void 0:D.next)||void 0===X||X.call(D,L)}error(L){var D,X;null===(X=null===(D=this.destination)||void 0===D?void 0:D.error)||void 0===X||X.call(D,L)}complete(){var L,D;null===(D=null===(L=this.destination)||void 0===L?void 0:L.complete)||void 0===D||D.call(L)}_subscribe(L){var D,X;return null!==(X=null===(D=this.source)||void 0===D?void 0:D.subscribe(L))&&void 0!==X?X:E.Kn}}},47707:(je,H,w)=>{"use strict";w.d(H,{Ms:()=>te,vU:()=>X});var d=w(98071),E=w(18359),k=w(41026),z=w(45334),x=w(85343);const O=F("C",void 0,void 0);function F(se,de,le){return{kind:se,value:de,error:le}}var L=w(19270),D=w(49786);class X extends E.yU{constructor(de){super(),this.isStopped=!1,de?(this.destination=de,(0,E.Uv)(de)&&de.add(this)):this.destination=ae}static create(de,le,be){return new te(de,le,be)}next(de){this.isStopped?ie(function P(se){return F("N",se,void 0)}(de),this):this._next(de)}error(de){this.isStopped?ie(function A(se){return F("E",void 0,se)}(de),this):(this.isStopped=!0,this._error(de))}complete(){this.isStopped?ie(O,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(de){this.destination.next(de)}_error(de){try{this.destination.error(de)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const j=Function.prototype.bind;function G(se,de){return j.call(se,de)}class re{constructor(de){this.partialObserver=de}next(de){const{partialObserver:le}=this;if(le.next)try{le.next(de)}catch(be){J(be)}}error(de){const{partialObserver:le}=this;if(le.error)try{le.error(de)}catch(be){J(be)}else J(de)}complete(){const{partialObserver:de}=this;if(de.complete)try{de.complete()}catch(le){J(le)}}}class te extends X{constructor(de,le,be){let xe;if(super(),(0,d.T)(de)||!de)xe={next:de??void 0,error:le??void 0,complete:be??void 0};else{let ke;this&&k.$.useDeprecatedNextContext?(ke=Object.create(de),ke.unsubscribe=()=>this.unsubscribe(),xe={next:de.next&&G(de.next,ke),error:de.error&&G(de.error,ke),complete:de.complete&&G(de.complete,ke)}):xe=de}this.destination=new re(xe)}}function J(se){k.$.useDeprecatedSynchronousErrorHandling?(0,D.l)(se):(0,z.m)(se)}function ie(se,de){const{onStoppedNotification:le}=k.$;le&&L.f.setTimeout(()=>le(se,de))}const ae={closed:!0,next:x.l,error:function Z(se){throw se},complete:x.l}},18359:(je,H,w)=>{"use strict";w.d(H,{Kn:()=>O,yU:()=>x,Uv:()=>A});var d=w(98071);const k=(0,w(81853).L)(F=>function(D){F(this),this.message=D?`${D.length} errors occurred during unsubscription:\n${D.map((X,j)=>`${j+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=D});var z=w(57908);class x{constructor(L){this.initialTeardown=L,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let L;if(!this.closed){this.closed=!0;const{_parentage:D}=this;if(D)if(this._parentage=null,Array.isArray(D))for(const G of D)G.remove(this);else D.remove(this);const{initialTeardown:X}=this;if((0,d.T)(X))try{X()}catch(G){L=G instanceof k?G.errors:[G]}const{_finalizers:j}=this;if(j){this._finalizers=null;for(const G of j)try{P(G)}catch(re){L=L??[],re instanceof k?L=[...L,...re.errors]:L.push(re)}}if(L)throw new k(L)}}add(L){var D;if(L&&L!==this)if(this.closed)P(L);else{if(L instanceof x){if(L.closed||L._hasParent(this))return;L._addParent(this)}(this._finalizers=null!==(D=this._finalizers)&&void 0!==D?D:[]).push(L)}}_hasParent(L){const{_parentage:D}=this;return D===L||Array.isArray(D)&&D.includes(L)}_addParent(L){const{_parentage:D}=this;this._parentage=Array.isArray(D)?(D.push(L),D):D?[D,L]:L}_removeParent(L){const{_parentage:D}=this;D===L?this._parentage=null:Array.isArray(D)&&(0,z.o)(D,L)}remove(L){const{_finalizers:D}=this;D&&(0,z.o)(D,L),L instanceof x&&L._removeParent(this)}}x.EMPTY=(()=>{const F=new x;return F.closed=!0,F})();const O=x.EMPTY;function A(F){return F instanceof x||F&&"closed"in F&&(0,d.T)(F.remove)&&(0,d.T)(F.add)&&(0,d.T)(F.unsubscribe)}function P(F){(0,d.T)(F)?F():F.unsubscribe()}},41026:(je,H,w)=>{"use strict";w.d(H,{$:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},30017:(je,H,w)=>{"use strict";w.d(H,{G:()=>O});var d=w(71985),E=w(18359),k=w(99898),z=w(54360),x=w(39974);class O extends d.c{constructor(P,F){super(),this.source=P,this.subjectFactory=F,this._subject=null,this._refCount=0,this._connection=null,(0,x.S)(P)&&(this.lift=P.lift)}_subscribe(P){return this.getSubject().subscribe(P)}getSubject(){const P=this._subject;return(!P||P.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:P}=this;this._subject=this._connection=null,P?.unsubscribe()}connect(){let P=this._connection;if(!P){P=this._connection=new E.yU;const F=this.getSubject();P.add(this.source.subscribe((0,z._)(F,void 0,()=>{this._teardown(),F.complete()},L=>{this._teardown(),F.error(L)},()=>this._teardown()))),P.closed&&(this._connection=null,P=E.yU.EMPTY)}return P}refCount(){return(0,k.B)()(this)}}},84572:(je,H,w)=>{"use strict";w.d(H,{z:()=>L});var d=w(71985),E=w(93073),k=w(86648),z=w(33669),x=w(6450),O=w(9326),A=w(58496),P=w(54360),F=w(45225);function L(...j){const G=(0,O.lI)(j),re=(0,O.ms)(j),{args:te,keys:J}=(0,E.D)(j);if(0===te.length)return(0,k.H)([],G);const Z=new d.c(function D(j,G,re=z.D){return te=>{X(G,()=>{const{length:J}=j,Z=new Array(J);let ie=J,ae=J;for(let se=0;se<J;se++)X(G,()=>{const de=(0,k.H)(j[se],G);let le=!1;de.subscribe((0,P._)(te,be=>{Z[se]=be,le||(le=!0,ae--),ae||te.next(re(Z.slice()))},()=>{--ie||te.complete()}))},te)},te)}}(te,G,J?ie=>(0,A.e)(J,ie):z.D));return re?Z.pipe((0,x.I)(re)):Z}function X(j,G,re){j?(0,F.N)(re,j,G):G()}},28793:(je,H,w)=>{"use strict";w.d(H,{x:()=>x});var d=w(26365),k=w(9326),z=w(86648);function x(...O){return function E(){return(0,d.U)(1)}()((0,z.H)(O,(0,k.lI)(O)))}},59030:(je,H,w)=>{"use strict";w.d(H,{v:()=>k});var d=w(71985),E=w(58750);function k(z){return new d.c(x=>{(0,E.Tg)(z()).subscribe(x)})}},983:(je,H,w)=>{"use strict";w.d(H,{w:()=>E});const E=new(w(71985).c)(x=>x.complete())},27468:(je,H,w)=>{"use strict";w.d(H,{p:()=>P});var d=w(71985),E=w(93073),k=w(58750),z=w(9326),x=w(54360),O=w(6450),A=w(58496);function P(...F){const L=(0,z.ms)(F),{args:D,keys:X}=(0,E.D)(F),j=new d.c(G=>{const{length:re}=D;if(!re)return void G.complete();const te=new Array(re);let J=re,Z=re;for(let ie=0;ie<re;ie++){let ae=!1;(0,k.Tg)(D[ie]).subscribe((0,x._)(G,se=>{ae||(ae=!0,Z--),te[ie]=se},()=>J--,void 0,()=>{(!J||!ae)&&(Z||G.next(X?(0,A.e)(X,te):te),G.complete())}))}});return L?j.pipe((0,O.I)(L)):j}},86648:(je,H,w)=>{"use strict";w.d(H,{H:()=>be});var d=w(58750),E=w(45225),k=w(39974),z=w(54360);function x(xe,ke=0){return(0,k.N)((C,a)=>{C.subscribe((0,z._)(a,f=>(0,E.N)(a,xe,()=>a.next(f),ke),()=>(0,E.N)(a,xe,()=>a.complete(),ke),f=>(0,E.N)(a,xe,()=>a.error(f),ke)))})}function O(xe,ke=0){return(0,k.N)((C,a)=>{a.add(xe.schedule(()=>C.subscribe(a),ke))})}var F=w(71985),D=w(4761),X=w(98071);function G(xe,ke){if(!xe)throw new Error("Iterable cannot be null");return new F.c(C=>{(0,E.N)(C,ke,()=>{const a=xe[Symbol.asyncIterator]();(0,E.N)(C,ke,()=>{a.next().then(f=>{f.done?C.complete():C.next(f.value)})},0,!0)})})}var re=w(55055),te=w(59858),J=w(47441),Z=w(85397),ie=w(37953),ae=w(50591),se=w(15196);function be(xe,ke){return ke?function le(xe,ke){if(null!=xe){if((0,re.l)(xe))return function A(xe,ke){return(0,d.Tg)(xe).pipe(O(ke),x(ke))}(xe,ke);if((0,J.X)(xe))return function L(xe,ke){return new F.c(C=>{let a=0;return ke.schedule(function(){a===xe.length?C.complete():(C.next(xe[a++]),C.closed||this.schedule())})})}(xe,ke);if((0,te.y)(xe))return function P(xe,ke){return(0,d.Tg)(xe).pipe(O(ke),x(ke))}(xe,ke);if((0,ie.T)(xe))return G(xe,ke);if((0,Z.x)(xe))return function j(xe,ke){return new F.c(C=>{let a;return(0,E.N)(C,ke,()=>{a=xe[D.l](),(0,E.N)(C,ke,()=>{let f,y;try{({value:f,done:y}=a.next())}catch(g){return void C.error(g)}y?C.complete():C.next(f)},0,!0)}),()=>(0,X.T)(a?.return)&&a.return()})}(xe,ke);if((0,se.U)(xe))return function de(xe,ke){return G((0,se.C)(xe),ke)}(xe,ke)}throw(0,ae.L)(xe)}(xe,ke):(0,d.Tg)(xe)}},33726:(je,H,w)=>{"use strict";w.d(H,{R:()=>L});var d=w(58750),E=w(71985),k=w(31397),z=w(47441),x=w(98071),O=w(6450);const A=["addListener","removeListener"],P=["addEventListener","removeEventListener"],F=["on","off"];function L(re,te,J,Z){if((0,x.T)(J)&&(Z=J,J=void 0),Z)return L(re,te,J).pipe((0,O.I)(Z));const[ie,ae]=function G(re){return(0,x.T)(re.addEventListener)&&(0,x.T)(re.removeEventListener)}(re)?P.map(se=>de=>re[se](te,de,J)):function X(re){return(0,x.T)(re.addListener)&&(0,x.T)(re.removeListener)}(re)?A.map(D(re,te)):function j(re){return(0,x.T)(re.on)&&(0,x.T)(re.off)}(re)?F.map(D(re,te)):[];if(!ie&&(0,z.X)(re))return(0,k.Z)(se=>L(se,te,J))((0,d.Tg)(re));if(!ie)throw new TypeError("Invalid event target");return new E.c(se=>{const de=(...le)=>se.next(1<le.length?le:le[0]);return ie(de),()=>ae(de)})}function D(re,te){return J=>Z=>re[J](te,Z)}},58750:(je,H,w)=>{"use strict";w.d(H,{Tg:()=>j});var d=w(31635),E=w(47441),k=w(59858),z=w(71985),x=w(55055),O=w(37953),A=w(50591),P=w(85397),F=w(15196),L=w(98071),D=w(45334),X=w(3494);function j(se){if(se instanceof z.c)return se;if(null!=se){if((0,x.l)(se))return function G(se){return new z.c(de=>{const le=se[X.s]();if((0,L.T)(le.subscribe))return le.subscribe(de);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(se);if((0,E.X)(se))return function re(se){return new z.c(de=>{for(let le=0;le<se.length&&!de.closed;le++)de.next(se[le]);de.complete()})}(se);if((0,k.y)(se))return function te(se){return new z.c(de=>{se.then(le=>{de.closed||(de.next(le),de.complete())},le=>de.error(le)).then(null,D.m)})}(se);if((0,O.T)(se))return Z(se);if((0,P.x)(se))return function J(se){return new z.c(de=>{for(const le of se)if(de.next(le),de.closed)return;de.complete()})}(se);if((0,F.U)(se))return function ie(se){return Z((0,F.C)(se))}(se)}throw(0,A.L)(se)}function Z(se){return new z.c(de=>{(function ae(se,de){var le,be,xe,ke;return(0,d.sH)(this,void 0,void 0,function*(){try{for(le=(0,d.xN)(se);!(be=yield le.next()).done;)if(de.next(be.value),de.closed)return}catch(C){xe={error:C}}finally{try{be&&!be.done&&(ke=le.return)&&(yield ke.call(le))}finally{if(xe)throw xe.error}}de.complete()})})(se,de).catch(le=>de.error(le))})}},40605:(je,H,w)=>{"use strict";w.d(H,{Y:()=>k});var d=w(43236),E=w(41584);function k(z=0,x=d.E){return z<0&&(z=0),(0,E.O)(z,z,x)}},57786:(je,H,w)=>{"use strict";w.d(H,{h:()=>O});var d=w(26365),E=w(58750),k=w(983),z=w(9326),x=w(86648);function O(...A){const P=(0,z.lI)(A),F=(0,z.R0)(A,1/0),L=A;return L.length?1===L.length?(0,E.Tg)(L[0]):(0,d.U)(F)((0,x.H)(L,P)):k.w}},7673:(je,H,w)=>{"use strict";w.d(H,{of:()=>k});var d=w(9326),E=w(86648);function k(...z){const x=(0,d.lI)(z);return(0,E.H)(z,x)}},18810:(je,H,w)=>{"use strict";w.d(H,{$:()=>k});var d=w(71985),E=w(98071);function k(z,x){const O=(0,E.T)(z)?z:()=>z,A=P=>P.error(O());return new d.c(x?P=>x.schedule(A,0,P):A)}},41584:(je,H,w)=>{"use strict";w.d(H,{O:()=>x});var d=w(71985),E=w(43236),k=w(79470);function x(O=0,A,P=E.b){let F=-1;return null!=A&&((0,k.m)(A)?P=A:F=A),new d.c(L=>{let D=function z(O){return O instanceof Date&&!isNaN(O)}(O)?+O-P.now():O;D<0&&(D=0);let X=0;return P.schedule(function(){L.closed||(L.next(X++),0<=F?this.schedule(void 0,F):L.complete())},D)})}},54360:(je,H,w)=>{"use strict";w.d(H,{_:()=>E});var d=w(47707);function E(z,x,O,A,P){return new k(z,x,O,A,P)}class k extends d.vU{constructor(x,O,A,P,F,L){super(x),this.onFinalize=F,this.shouldUnsubscribe=L,this._next=O?function(D){try{O(D)}catch(X){x.error(X)}}:super._next,this._error=P?function(D){try{P(D)}catch(X){x.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=A?function(){try{A()}catch(D){x.error(D)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var x;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:O}=this;super.unsubscribe(),!O&&(null===(x=this.onFinalize)||void 0===x||x.call(this))}}}},99437:(je,H,w)=>{"use strict";w.d(H,{W:()=>z});var d=w(58750),E=w(54360),k=w(39974);function z(x){return(0,k.N)((O,A)=>{let L,P=null,F=!1;P=O.subscribe((0,E._)(A,void 0,void 0,D=>{L=(0,d.Tg)(x(D,z(x)(O))),P?(P.unsubscribe(),P=null,L.subscribe(A)):F=!0})),F&&(P.unsubscribe(),P=null,L.subscribe(A))})}},70274:(je,H,w)=>{"use strict";w.d(H,{H:()=>k});var d=w(31397),E=w(98071);function k(z,x){return(0,E.T)(x)?(0,d.Z)(z,x,1):(0,d.Z)(z,1)}},70152:(je,H,w)=>{"use strict";w.d(H,{B:()=>z});var d=w(43236),E=w(39974),k=w(54360);function z(x,O=d.E){return(0,E.N)((A,P)=>{let F=null,L=null,D=null;const X=()=>{if(F){F.unsubscribe(),F=null;const G=L;L=null,P.next(G)}};function j(){const G=D+x,re=O.now();if(re<G)return F=this.schedule(void 0,G-re),void P.add(F);X()}A.subscribe((0,k._)(P,G=>{L=G,D=O.now(),F||(F=O.schedule(j,x),P.add(F))},()=>{X(),P.complete()},void 0,()=>{L=F=null}))})}},91986:(je,H,w)=>{"use strict";w.d(H,{c:()=>j});var d=w(43236),E=w(28793),k=w(96697),z=w(39974),x=w(54360),O=w(85343),P=w(73703),F=w(31397),L=w(58750);function D(G,re){return re?te=>(0,E.x)(re.pipe((0,k.s)(1),function A(){return(0,z.N)((G,re)=>{G.subscribe((0,x._)(re,O.l))})}()),te.pipe(D(G))):(0,F.Z)((te,J)=>(0,L.Tg)(G(te,J)).pipe((0,k.s)(1),(0,P.u)(te)))}var X=w(41584);function j(G,re=d.E){const te=(0,X.O)(G,re);return D(()=>te)}},23294:(je,H,w)=>{"use strict";w.d(H,{F:()=>z});var d=w(33669),E=w(39974),k=w(54360);function z(O,A=d.D){return O=O??x,(0,E.N)((P,F)=>{let L,D=!0;P.subscribe((0,k._)(F,X=>{const j=A(X);(D||!O(L,j))&&(D=!1,L=j,F.next(X))}))})}function x(O,A){return O===A}},5964:(je,H,w)=>{"use strict";w.d(H,{p:()=>k});var d=w(39974),E=w(54360);function k(z,x){return(0,d.N)((O,A)=>{let P=0;O.subscribe((0,E._)(A,F=>z.call(x,F,P++)&&A.next(F)))})}},70980:(je,H,w)=>{"use strict";w.d(H,{j:()=>E});var d=w(39974);function E(k){return(0,d.N)((z,x)=>{try{z.subscribe(x)}finally{x.add(k)}})}},96354:(je,H,w)=>{"use strict";w.d(H,{T:()=>k});var d=w(39974),E=w(54360);function k(z,x){return(0,d.N)((O,A)=>{let P=0;O.subscribe((0,E._)(A,F=>{A.next(z.call(x,F,P++))}))})}},73703:(je,H,w)=>{"use strict";w.d(H,{u:()=>E});var d=w(96354);function E(k){return(0,d.T)(()=>k)}},26365:(je,H,w)=>{"use strict";w.d(H,{U:()=>k});var d=w(31397),E=w(33669);function k(z=1/0){return(0,d.Z)(E.D,z)}},31397:(je,H,w)=>{"use strict";w.d(H,{Z:()=>P});var d=w(96354),E=w(58750),k=w(39974),z=w(45225),x=w(54360),A=w(98071);function P(F,L,D=1/0){return(0,A.T)(L)?P((X,j)=>(0,d.T)((G,re)=>L(X,G,j,re))((0,E.Tg)(F(X,j))),D):("number"==typeof L&&(D=L),(0,k.N)((X,j)=>function O(F,L,D,X,j,G,re,te){const J=[];let Z=0,ie=0,ae=!1;const se=()=>{ae&&!J.length&&!Z&&L.complete()},de=be=>Z<X?le(be):J.push(be),le=be=>{G&&L.next(be),Z++;let xe=!1;(0,E.Tg)(D(be,ie++)).subscribe((0,x._)(L,ke=>{j?.(ke),G?de(ke):L.next(ke)},()=>{xe=!0},void 0,()=>{if(xe)try{for(Z--;J.length&&Z<X;){const ke=J.shift();re?(0,z.N)(L,re,()=>le(ke)):le(ke)}se()}catch(ke){L.error(ke)}}))};return F.subscribe((0,x._)(L,de,()=>{ae=!0,se()})),()=>{te?.()}}(X,j,F,D)))}},99898:(je,H,w)=>{"use strict";w.d(H,{B:()=>k});var d=w(39974),E=w(54360);function k(){return(0,d.N)((z,x)=>{let O=null;z._refCount++;const A=(0,E._)(x,void 0,void 0,void 0,()=>{if(!z||z._refCount<=0||0<--z._refCount)return void(O=null);const P=z._connection,F=O;O=null,P&&(!F||P===F)&&P.unsubscribe(),x.unsubscribe()});z.subscribe(A),A.closed||(O=z.connect())})}},97647:(je,H,w)=>{"use strict";w.d(H,{u:()=>x});var d=w(58750),E=w(21413),k=w(47707),z=w(39974);function x(A={}){const{connector:P=(()=>new E.B),resetOnError:F=!0,resetOnComplete:L=!0,resetOnRefCountZero:D=!0}=A;return X=>{let j,G,re,te=0,J=!1,Z=!1;const ie=()=>{G?.unsubscribe(),G=void 0},ae=()=>{ie(),j=re=void 0,J=Z=!1},se=()=>{const de=j;ae(),de?.unsubscribe()};return(0,z.N)((de,le)=>{te++,!Z&&!J&&ie();const be=re=re??P();le.add(()=>{te--,0===te&&!Z&&!J&&(G=O(se,D))}),be.subscribe(le),!j&&te>0&&(j=new k.Ms({next:xe=>be.next(xe),error:xe=>{Z=!0,ie(),G=O(ae,F,xe),be.error(xe)},complete:()=>{J=!0,ie(),G=O(ae,L),be.complete()}}),(0,d.Tg)(de).subscribe(j))})(X)}}function O(A,P,...F){if(!0===P)return void A();if(!1===P)return;const L=new k.Ms({next:()=>{L.unsubscribe(),A()}});return(0,d.Tg)(P(...F)).subscribe(L)}},44668:(je,H,w)=>{"use strict";w.d(H,{t:()=>k});var d=w(92771),E=w(97647);function k(z,x,O){let A,P=!1;return z&&"object"==typeof z?({bufferSize:A=1/0,windowTime:x=1/0,refCount:P=!1,scheduler:O}=z):A=z??1/0,(0,E.u)({connector:()=>new d.m(A,x,O),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:P})}},65245:(je,H,w)=>{"use strict";w.d(H,{i:()=>E});var d=w(5964);function E(k){return(0,d.p)((z,x)=>k<=x)}},99172:(je,H,w)=>{"use strict";w.d(H,{Z:()=>z});var d=w(28793),E=w(9326),k=w(39974);function z(...x){const O=(0,E.lI)(x);return(0,k.N)((A,P)=>{(O?(0,d.x)(x,A,O):(0,d.x)(x,A)).subscribe(P)})}},25558:(je,H,w)=>{"use strict";w.d(H,{n:()=>z});var d=w(58750),E=w(39974),k=w(54360);function z(x,O){return(0,E.N)((A,P)=>{let F=null,L=0,D=!1;const X=()=>D&&!F&&P.complete();A.subscribe((0,k._)(P,j=>{F?.unsubscribe();let G=0;const re=L++;(0,d.Tg)(x(j,re)).subscribe(F=(0,k._)(P,te=>P.next(O?O(j,te,re,G++):te),()=>{F=null,X()}))},()=>{D=!0,X()}))})}},96697:(je,H,w)=>{"use strict";w.d(H,{s:()=>z});var d=w(983),E=w(39974),k=w(54360);function z(x){return x<=0?()=>d.w:(0,E.N)((O,A)=>{let P=0;O.subscribe((0,k._)(A,F=>{++P<=x&&(A.next(F),x<=P&&A.complete())}))})}},56977:(je,H,w)=>{"use strict";w.d(H,{Q:()=>x});var d=w(39974),E=w(54360),k=w(58750),z=w(85343);function x(O){return(0,d.N)((A,P)=>{(0,k.Tg)(O).subscribe((0,E._)(P,()=>P.complete(),z.l)),!P.closed&&A.subscribe(P)})}},88141:(je,H,w)=>{"use strict";w.d(H,{M:()=>x});var d=w(98071),E=w(39974),k=w(54360),z=w(33669);function x(O,A,P){const F=(0,d.T)(O)||A||P?{next:O,error:A,complete:P}:O;return F?(0,E.N)((L,D)=>{var X;null===(X=F.subscribe)||void 0===X||X.call(F);let j=!0;L.subscribe((0,k._)(D,G=>{var re;null===(re=F.next)||void 0===re||re.call(F,G),D.next(G)},()=>{var G;j=!1,null===(G=F.complete)||void 0===G||G.call(F),D.complete()},G=>{var re;j=!1,null===(re=F.error)||void 0===re||re.call(F,G),D.error(G)},()=>{var G,re;j&&(null===(G=F.unsubscribe)||void 0===G||G.call(F)),null===(re=F.finalize)||void 0===re||re.call(F)}))}):z.D}},96780:(je,H,w)=>{"use strict";w.d(H,{R:()=>x});var d=w(18359);class E extends d.yU{constructor(A,P){super()}schedule(A,P=0){return this}}const k={setInterval(O,A,...P){const{delegate:F}=k;return F?.setInterval?F.setInterval(O,A,...P):setInterval(O,A,...P)},clearInterval(O){const{delegate:A}=k;return(A?.clearInterval||clearInterval)(O)},delegate:void 0};var z=w(57908);class x extends E{constructor(A,P){super(A,P),this.scheduler=A,this.work=P,this.pending=!1}schedule(A,P=0){var F;if(this.closed)return this;this.state=A;const L=this.id,D=this.scheduler;return null!=L&&(this.id=this.recycleAsyncId(D,L,P)),this.pending=!0,this.delay=P,this.id=null!==(F=this.id)&&void 0!==F?F:this.requestAsyncId(D,this.id,P),this}requestAsyncId(A,P,F=0){return k.setInterval(A.flush.bind(A,this),F)}recycleAsyncId(A,P,F=0){if(null!=F&&this.delay===F&&!1===this.pending)return P;null!=P&&k.clearInterval(P)}execute(A,P){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const F=this._execute(A,P);if(F)return F;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(A,P){let L,F=!1;try{this.work(A)}catch(D){F=!0,L=D||new Error("Scheduled action threw falsy error")}if(F)return this.unsubscribe(),L}unsubscribe(){if(!this.closed){const{id:A,scheduler:P}=this,{actions:F}=P;this.work=this.state=this.scheduler=null,this.pending=!1,(0,z.o)(F,this),null!=A&&(this.id=this.recycleAsyncId(P,A,null)),this.delay=null,super.unsubscribe()}}}},39687:(je,H,w)=>{"use strict";w.d(H,{q:()=>k});var d=w(86129);class E{constructor(x,O=E.now){this.schedulerActionCtor=x,this.now=O}schedule(x,O=0,A){return new this.schedulerActionCtor(this,x).schedule(A,O)}}E.now=d.U.now;class k extends E{constructor(x,O=E.now){super(x,O),this.actions=[],this._active=!1}flush(x){const{actions:O}=this;if(this._active)return void O.push(x);let A;this._active=!0;do{if(A=x.execute(x.state,x.delay))break}while(x=O.shift());if(this._active=!1,A){for(;x=O.shift();)x.unsubscribe();throw A}}}},30536:(je,H,w)=>{"use strict";w.d(H,{X:()=>A});var d=w(96780),E=w(18359);const k={schedule(F){let L=requestAnimationFrame,D=cancelAnimationFrame;const{delegate:X}=k;X&&(L=X.requestAnimationFrame,D=X.cancelAnimationFrame);const j=L(G=>{D=void 0,F(G)});return new E.yU(()=>D?.(j))},requestAnimationFrame(...F){const{delegate:L}=k;return(L?.requestAnimationFrame||requestAnimationFrame)(...F)},cancelAnimationFrame(...F){const{delegate:L}=k;return(L?.cancelAnimationFrame||cancelAnimationFrame)(...F)},delegate:void 0};var x=w(39687);const A=new class O extends x.q{flush(L){this._active=!0;const D=this._scheduled;this._scheduled=void 0;const{actions:X}=this;let j;L=L||X.shift();do{if(j=L.execute(L.state,L.delay))break}while((L=X[0])&&L.id===D&&X.shift());if(this._active=!1,j){for(;(L=X[0])&&L.id===D&&X.shift();)L.unsubscribe();throw j}}}(class z extends d.R{constructor(L,D){super(L,D),this.scheduler=L,this.work=D}requestAsyncId(L,D,X=0){return null!==X&&X>0?super.requestAsyncId(L,D,X):(L.actions.push(this),L._scheduled||(L._scheduled=k.requestAnimationFrame(()=>L.flush(void 0))))}recycleAsyncId(L,D,X=0){var j;if(null!=X?X>0:this.delay>0)return super.recycleAsyncId(L,D,X);const{actions:G}=L;null!=D&&(null===(j=G[G.length-1])||void 0===j?void 0:j.id)!==D&&(k.cancelAnimationFrame(D),L._scheduled=void 0)}})},25007:(je,H,w)=>{"use strict";w.d(H,{$:()=>G});var d=w(96780);let k,E=1;const z={};function x(te){return te in z&&(delete z[te],!0)}const O={setImmediate(te){const J=E++;return z[J]=!0,k||(k=Promise.resolve()),k.then(()=>x(J)&&te()),J},clearImmediate(te){x(te)}},{setImmediate:P,clearImmediate:F}=O,L={setImmediate(...te){const{delegate:J}=L;return(J?.setImmediate||P)(...te)},clearImmediate(te){const{delegate:J}=L;return(J?.clearImmediate||F)(te)},delegate:void 0};var X=w(39687);const G=new class j extends X.q{flush(J){this._active=!0;const Z=this._scheduled;this._scheduled=void 0;const{actions:ie}=this;let ae;J=J||ie.shift();do{if(ae=J.execute(J.state,J.delay))break}while((J=ie[0])&&J.id===Z&&ie.shift());if(this._active=!1,ae){for(;(J=ie[0])&&J.id===Z&&ie.shift();)J.unsubscribe();throw ae}}}(class D extends d.R{constructor(J,Z){super(J,Z),this.scheduler=J,this.work=Z}requestAsyncId(J,Z,ie=0){return null!==ie&&ie>0?super.requestAsyncId(J,Z,ie):(J.actions.push(this),J._scheduled||(J._scheduled=L.setImmediate(J.flush.bind(J,void 0))))}recycleAsyncId(J,Z,ie=0){var ae;if(null!=ie?ie>0:this.delay>0)return super.recycleAsyncId(J,Z,ie);const{actions:se}=J;null!=Z&&(null===(ae=se[se.length-1])||void 0===ae?void 0:ae.id)!==Z&&(L.clearImmediate(Z),J._scheduled===Z&&(J._scheduled=void 0))}})},43236:(je,H,w)=>{"use strict";w.d(H,{E:()=>k,b:()=>z});var d=w(96780);const k=new(w(39687).q)(d.R),z=k},86129:(je,H,w)=>{"use strict";w.d(H,{U:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},19270:(je,H,w)=>{"use strict";w.d(H,{f:()=>d});const d={setTimeout(E,k,...z){const{delegate:x}=d;return x?.setTimeout?x.setTimeout(E,k,...z):setTimeout(E,k,...z)},clearTimeout(E){const{delegate:k}=d;return(k?.clearTimeout||clearTimeout)(E)},delegate:void 0}},4761:(je,H,w)=>{"use strict";w.d(H,{l:()=>E});const E=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(je,H,w)=>{"use strict";w.d(H,{s:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(je,H,w)=>{"use strict";w.d(H,{R0:()=>O,lI:()=>x,ms:()=>z});var d=w(98071),E=w(79470);function k(A){return A[A.length-1]}function z(A){return(0,d.T)(k(A))?A.pop():void 0}function x(A){return(0,E.m)(k(A))?A.pop():void 0}function O(A,P){return"number"==typeof k(A)?A.pop():P}},93073:(je,H,w)=>{"use strict";w.d(H,{D:()=>x});const{isArray:d}=Array,{getPrototypeOf:E,prototype:k,keys:z}=Object;function x(A){if(1===A.length){const P=A[0];if(d(P))return{args:P,keys:null};if(function O(A){return A&&"object"==typeof A&&E(A)===k}(P)){const F=z(P);return{args:F.map(L=>P[L]),keys:F}}}return{args:A,keys:null}}},57908:(je,H,w)=>{"use strict";function d(E,k){if(E){const z=E.indexOf(k);0<=z&&E.splice(z,1)}}w.d(H,{o:()=>d})},81853:(je,H,w)=>{"use strict";function d(E){const z=E(x=>{Error.call(x),x.stack=(new Error).stack});return z.prototype=Object.create(Error.prototype),z.prototype.constructor=z,z}w.d(H,{L:()=>d})},58496:(je,H,w)=>{"use strict";function d(E,k){return E.reduce((z,x,O)=>(z[x]=k[O],z),{})}w.d(H,{e:()=>d})},49786:(je,H,w)=>{"use strict";w.d(H,{Y:()=>k,l:()=>z});var d=w(41026);let E=null;function k(x){if(d.$.useDeprecatedSynchronousErrorHandling){const O=!E;if(O&&(E={errorThrown:!1,error:null}),x(),O){const{errorThrown:A,error:P}=E;if(E=null,A)throw P}}else x()}function z(x){d.$.useDeprecatedSynchronousErrorHandling&&E&&(E.errorThrown=!0,E.error=x)}},45225:(je,H,w)=>{"use strict";function d(E,k,z,x=0,O=!1){const A=k.schedule(function(){z(),O?E.add(this.schedule(null,x)):this.unsubscribe()},x);if(E.add(A),!O)return A}w.d(H,{N:()=>d})},33669:(je,H,w)=>{"use strict";function d(E){return E}w.d(H,{D:()=>d})},47441:(je,H,w)=>{"use strict";w.d(H,{X:()=>d});const d=E=>E&&"number"==typeof E.length&&"function"!=typeof E},37953:(je,H,w)=>{"use strict";w.d(H,{T:()=>E});var d=w(98071);function E(k){return Symbol.asyncIterator&&(0,d.T)(k?.[Symbol.asyncIterator])}},98071:(je,H,w)=>{"use strict";function d(E){return"function"==typeof E}w.d(H,{T:()=>d})},55055:(je,H,w)=>{"use strict";w.d(H,{l:()=>k});var d=w(3494),E=w(98071);function k(z){return(0,E.T)(z[d.s])}},85397:(je,H,w)=>{"use strict";w.d(H,{x:()=>k});var d=w(4761),E=w(98071);function k(z){return(0,E.T)(z?.[d.l])}},74402:(je,H,w)=>{"use strict";w.d(H,{A:()=>k});var d=w(71985),E=w(98071);function k(z){return!!z&&(z instanceof d.c||(0,E.T)(z.lift)&&(0,E.T)(z.subscribe))}},59858:(je,H,w)=>{"use strict";w.d(H,{y:()=>E});var d=w(98071);function E(k){return(0,d.T)(k?.then)}},15196:(je,H,w)=>{"use strict";w.d(H,{C:()=>k,U:()=>z});var d=w(31635),E=w(98071);function k(x){return(0,d.AQ)(this,arguments,function*(){const A=x.getReader();try{for(;;){const{value:P,done:F}=yield(0,d.N3)(A.read());if(F)return yield(0,d.N3)(void 0);yield yield(0,d.N3)(P)}}finally{A.releaseLock()}})}function z(x){return(0,E.T)(x?.getReader)}},79470:(je,H,w)=>{"use strict";w.d(H,{m:()=>E});var d=w(98071);function E(k){return k&&(0,d.T)(k.schedule)}},39974:(je,H,w)=>{"use strict";w.d(H,{N:()=>k,S:()=>E});var d=w(98071);function E(z){return(0,d.T)(z?.lift)}function k(z){return x=>{if(E(x))return x.lift(function(O){try{return z(O,this)}catch(A){this.error(A)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(je,H,w)=>{"use strict";w.d(H,{I:()=>z});var d=w(96354);const{isArray:E}=Array;function z(x){return(0,d.T)(O=>function k(x,O){return E(O)?x(...O):x(O)}(x,O))}},85343:(je,H,w)=>{"use strict";function d(){}w.d(H,{l:()=>d})},71203:(je,H,w)=>{"use strict";w.d(H,{F:()=>E,m:()=>k});var d=w(33669);function E(...z){return k(z)}function k(z){return 0===z.length?d.D:1===z.length?z[0]:function(O){return z.reduce((A,P)=>P(A),O)}}},45334:(je,H,w)=>{"use strict";w.d(H,{m:()=>k});var d=w(41026),E=w(19270);function k(z){E.f.setTimeout(()=>{const{onUnhandledError:x}=d.$;if(!x)throw z;x(z)})}},50591:(je,H,w)=>{"use strict";function d(E){return new TypeError(`You provided ${null!==E&&"object"==typeof E?"an invalid object":`'${E}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}w.d(H,{L:()=>d})},27054:(je,H,w)=>{var d=w(83838),E=d.Buffer;function k(x,O){for(var A in x)O[A]=x[A]}function z(x,O,A){return E(x,O,A)}E.from&&E.alloc&&E.allocUnsafe&&E.allocUnsafeSlow?je.exports=d:(k(d,H),H.Buffer=z),z.prototype=Object.create(E.prototype),k(E,z),z.from=function(x,O,A){if("number"==typeof x)throw new TypeError("Argument must not be a number");return E(x,O,A)},z.alloc=function(x,O,A){if("number"!=typeof x)throw new TypeError("Argument must be a number");var P=E(x);return void 0!==O?"string"==typeof A?P.fill(O,A):P.fill(O):P.fill(0),P},z.allocUnsafe=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return E(x)},z.allocUnsafeSlow=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return d.SlowBuffer(x)}},70463:(je,H,w)=>{var d=w(27054).Buffer;function E(k,z){this._block=d.alloc(k),this._finalSize=z,this._blockSize=k,this._len=0}E.prototype.update=function(k,z){"string"==typeof k&&(k=d.from(k,z=z||"utf8"));for(var x=this._block,O=this._blockSize,A=k.length,P=this._len,F=0;F<A;){for(var L=P%O,D=Math.min(A-F,O-L),X=0;X<D;X++)x[L+X]=k[F+X];F+=D,(P+=D)%O==0&&this._update(x)}return this._len+=A,this},E.prototype.digest=function(k){var z=this._len%this._blockSize;this._block[z]=128,this._block.fill(0,z+1),z>=this._finalSize&&(this._update(this._block),this._block.fill(0));var x=8*this._len;if(x<=4294967295)this._block.writeUInt32BE(x,this._blockSize-4);else{var O=(4294967295&x)>>>0;this._block.writeUInt32BE((x-O)/4294967296,this._blockSize-8),this._block.writeUInt32BE(O,this._blockSize-4)}this._update(this._block);var P=this._hash();return k?P.toString(k):P},E.prototype._update=function(){throw new Error("_update must be implemented by subclass")},je.exports=E},25443:(je,H,w)=>{var d=je.exports=function(k){k=k.toLowerCase();var z=d[k];if(!z)throw new Error(k+" is not supported (we accept pull requests)");return new z};d.sha=w(48585),d.sha1=w(21270),d.sha224=w(42709),d.sha256=w(32148),d.sha384=w(51856),d.sha512=w(3121)},48585:(je,H,w)=>{var d=w(71993),E=w(70463),k=w(27054).Buffer,z=[1518500249,1859775393,-1894007588,-899497514],x=new Array(80);function O(){this.init(),this._w=x,E.call(this,64,56)}function A(L){return L<<5|L>>>27}function P(L){return L<<30|L>>>2}function F(L,D,X,j){return 0===L?D&X|~D&j:2===L?D&X|D&j|X&j:D^X^j}d(O,E),O.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},O.prototype._update=function(L){for(var D=this._w,X=0|this._a,j=0|this._b,G=0|this._c,re=0|this._d,te=0|this._e,J=0;J<16;++J)D[J]=L.readInt32BE(4*J);for(;J<80;++J)D[J]=D[J-3]^D[J-8]^D[J-14]^D[J-16];for(var Z=0;Z<80;++Z){var ie=~~(Z/20),ae=A(X)+F(ie,j,G,re)+te+D[Z]+z[ie]|0;te=re,re=G,G=P(j),j=X,X=ae}this._a=X+this._a|0,this._b=j+this._b|0,this._c=G+this._c|0,this._d=re+this._d|0,this._e=te+this._e|0},O.prototype._hash=function(){var L=k.allocUnsafe(20);return L.writeInt32BE(0|this._a,0),L.writeInt32BE(0|this._b,4),L.writeInt32BE(0|this._c,8),L.writeInt32BE(0|this._d,12),L.writeInt32BE(0|this._e,16),L},je.exports=O},21270:(je,H,w)=>{var d=w(71993),E=w(70463),k=w(27054).Buffer,z=[1518500249,1859775393,-1894007588,-899497514],x=new Array(80);function O(){this.init(),this._w=x,E.call(this,64,56)}function A(D){return D<<1|D>>>31}function P(D){return D<<5|D>>>27}function F(D){return D<<30|D>>>2}function L(D,X,j,G){return 0===D?X&j|~X&G:2===D?X&j|X&G|j&G:X^j^G}d(O,E),O.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},O.prototype._update=function(D){for(var X=this._w,j=0|this._a,G=0|this._b,re=0|this._c,te=0|this._d,J=0|this._e,Z=0;Z<16;++Z)X[Z]=D.readInt32BE(4*Z);for(;Z<80;++Z)X[Z]=A(X[Z-3]^X[Z-8]^X[Z-14]^X[Z-16]);for(var ie=0;ie<80;++ie){var ae=~~(ie/20),se=P(j)+L(ae,G,re,te)+J+X[ie]+z[ae]|0;J=te,te=re,re=F(G),G=j,j=se}this._a=j+this._a|0,this._b=G+this._b|0,this._c=re+this._c|0,this._d=te+this._d|0,this._e=J+this._e|0},O.prototype._hash=function(){var D=k.allocUnsafe(20);return D.writeInt32BE(0|this._a,0),D.writeInt32BE(0|this._b,4),D.writeInt32BE(0|this._c,8),D.writeInt32BE(0|this._d,12),D.writeInt32BE(0|this._e,16),D},je.exports=O},42709:(je,H,w)=>{var d=w(71993),E=w(32148),k=w(70463),z=w(27054).Buffer,x=new Array(64);function O(){this.init(),this._w=x,k.call(this,64,56)}d(O,E),O.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},O.prototype._hash=function(){var A=z.allocUnsafe(28);return A.writeInt32BE(this._a,0),A.writeInt32BE(this._b,4),A.writeInt32BE(this._c,8),A.writeInt32BE(this._d,12),A.writeInt32BE(this._e,16),A.writeInt32BE(this._f,20),A.writeInt32BE(this._g,24),A},je.exports=O},32148:(je,H,w)=>{var d=w(71993),E=w(70463),k=w(27054).Buffer,z=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],x=new Array(64);function O(){this.init(),this._w=x,E.call(this,64,56)}function A(j,G,re){return re^j&(G^re)}function P(j,G,re){return j&G|re&(j|G)}function F(j){return(j>>>2|j<<30)^(j>>>13|j<<19)^(j>>>22|j<<10)}function L(j){return(j>>>6|j<<26)^(j>>>11|j<<21)^(j>>>25|j<<7)}function D(j){return(j>>>7|j<<25)^(j>>>18|j<<14)^j>>>3}function X(j){return(j>>>17|j<<15)^(j>>>19|j<<13)^j>>>10}d(O,E),O.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},O.prototype._update=function(j){for(var G=this._w,re=0|this._a,te=0|this._b,J=0|this._c,Z=0|this._d,ie=0|this._e,ae=0|this._f,se=0|this._g,de=0|this._h,le=0;le<16;++le)G[le]=j.readInt32BE(4*le);for(;le<64;++le)G[le]=X(G[le-2])+G[le-7]+D(G[le-15])+G[le-16]|0;for(var be=0;be<64;++be){var xe=de+L(ie)+A(ie,ae,se)+z[be]+G[be]|0,ke=F(re)+P(re,te,J)|0;de=se,se=ae,ae=ie,ie=Z+xe|0,Z=J,J=te,te=re,re=xe+ke|0}this._a=re+this._a|0,this._b=te+this._b|0,this._c=J+this._c|0,this._d=Z+this._d|0,this._e=ie+this._e|0,this._f=ae+this._f|0,this._g=se+this._g|0,this._h=de+this._h|0},O.prototype._hash=function(){var j=k.allocUnsafe(32);return j.writeInt32BE(this._a,0),j.writeInt32BE(this._b,4),j.writeInt32BE(this._c,8),j.writeInt32BE(this._d,12),j.writeInt32BE(this._e,16),j.writeInt32BE(this._f,20),j.writeInt32BE(this._g,24),j.writeInt32BE(this._h,28),j},je.exports=O},51856:(je,H,w)=>{var d=w(71993),E=w(3121),k=w(70463),z=w(27054).Buffer,x=new Array(160);function O(){this.init(),this._w=x,k.call(this,128,112)}d(O,E),O.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},O.prototype._hash=function(){var A=z.allocUnsafe(48);function P(F,L,D){A.writeInt32BE(F,D),A.writeInt32BE(L,D+4)}return P(this._ah,this._al,0),P(this._bh,this._bl,8),P(this._ch,this._cl,16),P(this._dh,this._dl,24),P(this._eh,this._el,32),P(this._fh,this._fl,40),A},je.exports=O},3121:(je,H,w)=>{var d=w(71993),E=w(70463),k=w(27054).Buffer,z=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],x=new Array(160);function O(){this.init(),this._w=x,E.call(this,128,112)}function A(te,J,Z){return Z^te&(J^Z)}function P(te,J,Z){return te&J|Z&(te|J)}function F(te,J){return(te>>>28|J<<4)^(J>>>2|te<<30)^(J>>>7|te<<25)}function L(te,J){return(te>>>14|J<<18)^(te>>>18|J<<14)^(J>>>9|te<<23)}function D(te,J){return(te>>>1|J<<31)^(te>>>8|J<<24)^te>>>7}function X(te,J){return(te>>>1|J<<31)^(te>>>8|J<<24)^(te>>>7|J<<25)}function j(te,J){return(te>>>19|J<<13)^(J>>>29|te<<3)^te>>>6}function G(te,J){return(te>>>19|J<<13)^(J>>>29|te<<3)^(te>>>6|J<<26)}function re(te,J){return te>>>0<J>>>0?1:0}d(O,E),O.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},O.prototype._update=function(te){for(var J=this._w,Z=0|this._ah,ie=0|this._bh,ae=0|this._ch,se=0|this._dh,de=0|this._eh,le=0|this._fh,be=0|this._gh,xe=0|this._hh,ke=0|this._al,C=0|this._bl,a=0|this._cl,f=0|this._dl,y=0|this._el,g=0|this._fl,M=0|this._gl,T=0|this._hl,B=0;B<32;B+=2)J[B]=te.readInt32BE(4*B),J[B+1]=te.readInt32BE(4*B+4);for(;B<160;B+=2){var S=J[B-30],s=J[B-30+1],v=D(S,s),W=X(s,S),K=j(S=J[B-4],s=J[B-4+1]),ee=G(s,S),Oe=J[B-32],Ve=J[B-32+1],Se=W+J[B-14+1]|0,we=v+J[B-14]+re(Se,W)|0;we=(we=we+K+re(Se=Se+ee|0,ee)|0)+Oe+re(Se=Se+Ve|0,Ve)|0,J[B]=we,J[B+1]=Se}for(var Ue=0;Ue<160;Ue+=2){we=J[Ue],Se=J[Ue+1];var ye=P(Z,ie,ae),De=P(ke,C,a),pe=F(Z,ke),ue=F(ke,Z),Q=L(de,y),oe=L(y,de),fe=z[Ue],Ee=z[Ue+1],Re=A(de,le,be),$e=A(y,g,M),Fe=T+oe|0,_t=xe+Q+re(Fe,T)|0;_t=(_t=(_t=_t+Re+re(Fe=Fe+$e|0,$e)|0)+fe+re(Fe=Fe+Ee|0,Ee)|0)+we+re(Fe=Fe+Se|0,Se)|0;var We=ue+De|0,Le=pe+ye+re(We,ue)|0;xe=be,T=M,be=le,M=g,le=de,g=y,de=se+_t+re(y=f+Fe|0,f)|0,se=ae,f=a,ae=ie,a=C,ie=Z,C=ke,Z=_t+Le+re(ke=Fe+We|0,Fe)|0}this._al=this._al+ke|0,this._bl=this._bl+C|0,this._cl=this._cl+a|0,this._dl=this._dl+f|0,this._el=this._el+y|0,this._fl=this._fl+g|0,this._gl=this._gl+M|0,this._hl=this._hl+T|0,this._ah=this._ah+Z+re(this._al,ke)|0,this._bh=this._bh+ie+re(this._bl,C)|0,this._ch=this._ch+ae+re(this._cl,a)|0,this._dh=this._dh+se+re(this._dl,f)|0,this._eh=this._eh+de+re(this._el,y)|0,this._fh=this._fh+le+re(this._fl,g)|0,this._gh=this._gh+be+re(this._gl,M)|0,this._hh=this._hh+xe+re(this._hl,T)|0},O.prototype._hash=function(){var te=k.allocUnsafe(64);function J(Z,ie,ae){te.writeInt32BE(Z,ae),te.writeInt32BE(ie,ae+4)}return J(this._ah,this._al,0),J(this._bh,this._bl,8),J(this._ch,this._cl,16),J(this._dh,this._dl,24),J(this._eh,this._el,32),J(this._fh,this._fl,40),J(this._gh,this._gl,48),J(this._hh,this._hl,56),te},je.exports=O},18876:je=>{"use strict";function w(z,x){return z+d(x)}function d(z){let x=z;return x-=x>>1&1431655765,x=(858993459&x)+(x>>2&858993459),16843009*(x+(x>>4)&252645135)>>24}function E(z,x){return z[0]-x[0]}function k(z){return z[1]}je.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(x,O){let A=this._internalPositionFor(x,!1);if(void 0===O)-1!==A&&(this._unsetInternalPos(A),this._unsetBit(x),this._changedLength=!0,this._changedData=!0);else{let P=!1;-1===A?(A=this._data.length,this._setBit(x),this._changedData=!0):P=!0,this._setInternalPos(A,x,O,P),this._changedLength=!0}}unset(x){this.set(x,void 0)}get(x){this._sortData();const O=this._internalPositionFor(x,!0);if(-1!==O)return this._data[O][1]}push(x){return this.set(this.length,x),this.length}get length(){if(this._sortData(),this._changedLength){const x=this._data[this._data.length-1];this._length=x?x[0]+1:0,this._changedLength=!1}return this._length}forEach(x){let O=0;for(;O<this.length;)x(this.get(O),O,this),O++}map(x){let O=0,A=new Array(this.length);for(;O<this.length;)A[O]=x(this.get(O),O,this),O++;return A}reduce(x,O){let A=0,P=O;for(;A<this.length;)P=x(P,this.get(A),A),A++;return P}find(x){let A,P,O=0;for(;O<this.length&&!A;)P=this.get(O),A=x(P),O++;return A?P:void 0}_internalPositionFor(x,O){const A=this._bytePosFor(x,O);if(A>=this._bitArrays.length)return-1;const P=this._bitArrays[A],F=x-7*A;return(P&1<<F)>0?this._bitArrays.slice(0,A).reduce(w,0)+d(P&~(4294967295<<F+1))-1:-1}_bytePosFor(x,O){const A=Math.floor(x/7),P=A+1;for(;!O&&this._bitArrays.length<P;)this._bitArrays.push(0);return A}_setBit(x){const O=this._bytePosFor(x,!1);this._bitArrays[O]|=1<<x-7*O}_unsetBit(x){const O=this._bytePosFor(x,!1);this._bitArrays[O]&=~(1<<x-7*O)}_setInternalPos(x,O,A,P){const F=this._data,L=[O,A];if(P)this._sortData(),F[x]=L;else{if(F.length)if(F[F.length-1][0]>=O)F.push(L);else if(F[0][0]<=O)F.unshift(L);else{const D=Math.round(F.length/2);this._data=F.slice(0,D).concat(L).concat(F.slice(D))}else this._data.push(L);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(x){this._data.splice(x,1)}_sortData(){this._changedData&&this._data.sort(E),this._changedData=!1}bitField(){const x=[];let F,O=8,A=0,P=0;const L=this._bitArrays.slice();for(;L.length||A;){0===A&&(F=L.shift(),A=7);const X=Math.min(A,O);P|=(F&~(255<<X))<<8-O,F>>>=X,A-=X,O-=X,(!O||!A&&!L.length)&&(x.push(P),P=0,O=8)}for(var D=x.length-1;D>0&&0===x[D];D--)x.pop();return x}compactArray(){return this._sortData(),this._data.map(k)}}},7045:(je,H,w)=>{je.exports=k;var d=w(44356).EventEmitter;function k(){d.call(this)}w(71993)(k,d),k.Readable=w(19609),k.Writable=w(47849),k.Duplex=w(74075),k.Transform=w(2909),k.PassThrough=w(18823),k.finished=w(33139),k.pipeline=w(96249),k.Stream=k,k.prototype.pipe=function(z,x){var O=this;function A(G){z.writable&&!1===z.write(G)&&O.pause&&O.pause()}function P(){O.readable&&O.resume&&O.resume()}O.on("data",A),z.on("drain",P),!z._isStdio&&(!x||!1!==x.end)&&(O.on("end",L),O.on("close",D));var F=!1;function L(){F||(F=!0,z.end())}function D(){F||(F=!0,"function"==typeof z.destroy&&z.destroy())}function X(G){if(j(),0===d.listenerCount(this,"error"))throw G}function j(){O.removeListener("data",A),z.removeListener("drain",P),O.removeListener("end",L),O.removeListener("close",D),O.removeListener("error",X),z.removeListener("error",X),O.removeListener("end",j),O.removeListener("close",j),z.removeListener("close",j)}return O.on("error",X),z.on("error",X),O.on("end",j),O.on("close",j),z.on("close",j),z.emit("pipe",O),z}},78454:(je,H,w)=>{"use strict";var d=w(27054).Buffer,E=d.isEncoding||function(Z){switch((Z=""+Z)&&Z.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function x(Z){var ie;switch(this.encoding=function z(Z){var ie=function k(Z){if(!Z)return"utf8";for(var ie;;)switch(Z){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Z;default:if(ie)return;Z=(""+Z).toLowerCase(),ie=!0}}(Z);if("string"!=typeof ie&&(d.isEncoding===E||!E(Z)))throw new Error("Unknown encoding: "+Z);return ie||Z}(Z),this.encoding){case"utf16le":this.text=X,this.end=j,ie=4;break;case"utf8":this.fillLast=F,ie=4;break;case"base64":this.text=G,this.end=re,ie=3;break;default:return this.write=te,void(this.end=J)}this.lastNeed=0,this.lastTotal=0,this.lastChar=d.allocUnsafe(ie)}function O(Z){return Z<=127?0:Z>>5==6?2:Z>>4==14?3:Z>>3==30?4:Z>>6==2?-1:-2}function F(Z){var ie=this.lastTotal-this.lastNeed,ae=function P(Z,ie,ae){if(128!=(192&ie[0]))return Z.lastNeed=0,"\ufffd";if(Z.lastNeed>1&&ie.length>1){if(128!=(192&ie[1]))return Z.lastNeed=1,"\ufffd";if(Z.lastNeed>2&&ie.length>2&&128!=(192&ie[2]))return Z.lastNeed=2,"\ufffd"}}(this,Z);return void 0!==ae?ae:this.lastNeed<=Z.length?(Z.copy(this.lastChar,ie,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(Z.copy(this.lastChar,ie,0,Z.length),void(this.lastNeed-=Z.length))}function X(Z,ie){if((Z.length-ie)%2==0){var ae=Z.toString("utf16le",ie);if(ae){var se=ae.charCodeAt(ae.length-1);if(se>=55296&&se<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Z[Z.length-2],this.lastChar[1]=Z[Z.length-1],ae.slice(0,-1)}return ae}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Z[Z.length-1],Z.toString("utf16le",ie,Z.length-1)}function j(Z){var ie=Z&&Z.length?this.write(Z):"";return this.lastNeed?ie+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):ie}function G(Z,ie){var ae=(Z.length-ie)%3;return 0===ae?Z.toString("base64",ie):(this.lastNeed=3-ae,this.lastTotal=3,1===ae?this.lastChar[0]=Z[Z.length-1]:(this.lastChar[0]=Z[Z.length-2],this.lastChar[1]=Z[Z.length-1]),Z.toString("base64",ie,Z.length-ae))}function re(Z){var ie=Z&&Z.length?this.write(Z):"";return this.lastNeed?ie+this.lastChar.toString("base64",0,3-this.lastNeed):ie}function te(Z){return Z.toString(this.encoding)}function J(Z){return Z&&Z.length?this.write(Z):""}H.StringDecoder=x,x.prototype.write=function(Z){if(0===Z.length)return"";var ie,ae;if(this.lastNeed){if(void 0===(ie=this.fillLast(Z)))return"";ae=this.lastNeed,this.lastNeed=0}else ae=0;return ae<Z.length?ie?ie+this.text(Z,ae):this.text(Z,ae):ie||""},x.prototype.end=function D(Z){var ie=Z&&Z.length?this.write(Z):"";return this.lastNeed?ie+"\ufffd":ie},x.prototype.text=function L(Z,ie){var ae=function A(Z,ie,ae){var se=ie.length-1;if(se<ae)return 0;var de=O(ie[se]);return de>=0?(de>0&&(Z.lastNeed=de-1),de):--se<ae||-2===de?0:(de=O(ie[se]))>=0?(de>0&&(Z.lastNeed=de-2),de):--se<ae||-2===de?0:(de=O(ie[se]))>=0?(de>0&&(2===de?de=0:Z.lastNeed=de-3),de):0}(this,Z,ie);if(!this.lastNeed)return Z.toString("utf8",ie);this.lastTotal=ae;var se=Z.length-(ae-this.lastNeed);return Z.copy(this.lastChar,0,se),Z.toString("utf8",ie,se)},x.prototype.fillLast=function(Z){if(this.lastNeed<=Z.length)return Z.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Z.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Z.length),this.lastNeed-=Z.length}},95568:function(je,H){!function(w){"use strict";function d(){for(var Mt=arguments.length,Ye=Array(Mt),nt=0;nt<Mt;nt++)Ye[nt]=arguments[nt];if(Ye.length>1){Ye[0]=Ye[0].slice(0,-1);for(var Wt=Ye.length-1,Nt=1;Nt<Wt;++Nt)Ye[Nt]=Ye[Nt].slice(1,-1);return Ye[Wt]=Ye[Wt].slice(1),Ye.join("")}return Ye[0]}function E(Mt){return"(?:"+Mt+")"}function k(Mt){return void 0===Mt?"undefined":null===Mt?"null":Object.prototype.toString.call(Mt).split(" ").pop().split("]").shift().toLowerCase()}function z(Mt){return Mt.toUpperCase()}function A(Mt){var Ye="[A-Za-z]",Wt="[0-9]",un=d(Wt,"[A-Fa-f]"),kn=E(E("%[EFef]"+un+"%"+un+un+"%"+un+un)+"|"+E("%[89A-Fa-f]"+un+"%"+un+un)+"|"+E("%"+un+un)),Jn="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Fn=d("[\\:\\/\\?\\#\\[\\]\\@]",Jn),et=Mt?"[\\uE000-\\uF8FF]":"[]",Te=d(Ye,Wt,"[\\-\\.\\_\\~]",Mt?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),Ne=E(Ye+d(Ye,Wt,"[\\+\\-\\.]")+"*"),xt=E(E(kn+"|"+d(Te,Jn,"[\\:]"))+"*"),In=(E(E("25[0-5]")+"|"+E("2[0-4]"+Wt)+"|"+E("1"+Wt+Wt)+"|"+E("[1-9]"+Wt)+"|"+Wt),E(E("25[0-5]")+"|"+E("2[0-4]"+Wt)+"|"+E("1"+Wt+Wt)+"|"+E("0?[1-9]"+Wt)+"|0?0?"+Wt)),Kn=E(In+"\\."+In+"\\."+In+"\\."+In),er=E(un+"{1,4}"),_r=E(E(er+"\\:"+er)+"|"+Kn),Tr=E(E(er+"\\:")+"{6}"+_r),Br=E("\\:\\:"+E(er+"\\:")+"{5}"+_r),jr=E(E(er)+"?\\:\\:"+E(er+"\\:")+"{4}"+_r),Zr=E(E(E(er+"\\:")+"{0,1}"+er)+"?\\:\\:"+E(er+"\\:")+"{3}"+_r),tn=E(E(E(er+"\\:")+"{0,2}"+er)+"?\\:\\:"+E(er+"\\:")+"{2}"+_r),_n=E(E(E(er+"\\:")+"{0,3}"+er)+"?\\:\\:"+er+"\\:"+_r),Tn=E(E(E(er+"\\:")+"{0,4}"+er)+"?\\:\\:"+_r),jn=E(E(E(er+"\\:")+"{0,5}"+er)+"?\\:\\:"+er),fr=E(E(E(er+"\\:")+"{0,6}"+er)+"?\\:\\:"),Ar=E([Tr,Br,jr,Zr,tn,_n,Tn,jn,fr].join("|")),Sr=E(E(Te+"|"+kn)+"+"),Kr=(E(Ar+"\\%25"+Sr),E(Ar+E("\\%25|\\%(?!"+un+"{2})")+Sr)),ii=E("[vV]"+un+"+\\."+d(Te,Jn,"[\\:]")+"+"),To=E("\\["+E(Kr+"|"+Ar+"|"+ii)+"\\]"),bi=E(E(kn+"|"+d(Te,Jn))+"*"),Po=E(To+"|"+Kn+"(?!"+bi+")|"+bi),Bo=E(Wt+"*"),Ho=E(E(xt+"@")+"?"+Po+E("\\:"+Bo)+"?"),Fi=E(kn+"|"+d(Te,Jn,"[\\:\\@]")),fi=E(Fi+"*"),Ni=E(Fi+"+"),Aa=E(E(kn+"|"+d(Te,Jn,"[\\@]"))+"+"),_i=E(E("\\/"+fi)+"*"),is=E("\\/"+E(Ni+_i)+"?"),Us=E(Aa+_i),Co=E(Ni+_i),Ki="(?!"+Fi+")",da=(E(_i+"|"+is+"|"+Us+"|"+Co+"|"+Ki),E(E(Fi+"|"+d("[\\/\\?]",et))+"*")),Ra=E(E(Fi+"|[\\/\\?]")+"*"),cl=E(E("\\/\\/"+Ho+_i)+"|"+is+"|"+Co+"|"+Ki),Ga=E(Ne+"\\:"+cl+E("\\?"+da)+"?"+E("\\#"+Ra)+"?"),Mu=E(E("\\/\\/"+Ho+_i)+"|"+is+"|"+Us+"|"+Ki),Au=E(Mu+E("\\?"+da)+"?"+E("\\#"+Ra)+"?");return E(Ga+"|"+Au),E(Ne+"\\:"+cl+E("\\?"+da)+"?"),E(E("\\/\\/("+E("("+xt+")@")+"?("+Po+")"+E("\\:("+Bo+")")+"?)")+"?("+_i+"|"+is+"|"+Co+"|"+Ki+")"),E("\\?("+da+")"),E("\\#("+Ra+")"),E(E("\\/\\/("+E("("+xt+")@")+"?("+Po+")"+E("\\:("+Bo+")")+"?)")+"?("+_i+"|"+is+"|"+Us+"|"+Ki+")"),E("\\?("+da+")"),E("\\#("+Ra+")"),E(E("\\/\\/("+E("("+xt+")@")+"?("+Po+")"+E("\\:("+Bo+")")+"?)")+"?("+_i+"|"+is+"|"+Co+"|"+Ki+")"),E("\\?("+da+")"),E("\\#("+Ra+")"),E("("+xt+")@"),E("\\:("+Bo+")"),{NOT_SCHEME:new RegExp(d("[^]",Ye,Wt,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(d("[^\\%\\:]",Te,Jn),"g"),NOT_HOST:new RegExp(d("[^\\%\\[\\]\\:]",Te,Jn),"g"),NOT_PATH:new RegExp(d("[^\\%\\/\\:\\@]",Te,Jn),"g"),NOT_PATH_NOSCHEME:new RegExp(d("[^\\%\\/\\@]",Te,Jn),"g"),NOT_QUERY:new RegExp(d("[^\\%]",Te,Jn,"[\\:\\@\\/\\?]",et),"g"),NOT_FRAGMENT:new RegExp(d("[^\\%]",Te,Jn,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(d("[^]",Te,Jn),"g"),UNRESERVED:new RegExp(Te,"g"),OTHER_CHARS:new RegExp(d("[^\\%]",Te,Fn),"g"),PCT_ENCODED:new RegExp(kn,"g"),IPV4ADDRESS:new RegExp("^("+Kn+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Ar+")"+E(E("\\%25|\\%(?!"+un+"{2})")+"("+Sr+")")+"?\\]?$")}}var P=A(!1),F=A(!0),L=function(){return function(Ye,nt){if(Array.isArray(Ye))return Ye;if(Symbol.iterator in Object(Ye))return function Mt(Ye,nt){var Wt=[],Nt=!0,un=!1,Wn=void 0;try{for(var kn,En=Ye[Symbol.iterator]();!(Nt=(kn=En.next()).done)&&(Wt.push(kn.value),!nt||Wt.length!==nt);Nt=!0);}catch(Or){un=!0,Wn=Or}finally{try{!Nt&&En.return&&En.return()}finally{if(un)throw Wn}}return Wt}(Ye,nt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),X=2147483647,j=36,se=/^xn--/,de=/[^\0-\x7E]/,le=/[\x2E\u3002\uFF0E\uFF61]/g,be={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ke=Math.floor,C=String.fromCharCode;function a(Mt){throw new RangeError(be[Mt])}function y(Mt,Ye){var nt=Mt.split("@"),Wt="";return nt.length>1&&(Wt=nt[0]+"@",Mt=nt[1]),Wt+function f(Mt,Ye){for(var nt=[],Wt=Mt.length;Wt--;)nt[Wt]=Ye(Mt[Wt]);return nt}((Mt=Mt.replace(le,".")).split("."),Ye).join(".")}function g(Mt){for(var Ye=[],nt=0,Wt=Mt.length;nt<Wt;){var Nt=Mt.charCodeAt(nt++);if(Nt>=55296&&Nt<=56319&&nt<Wt){var un=Mt.charCodeAt(nt++);56320==(64512&un)?Ye.push(((1023&Nt)<<10)+(1023&un)+65536):(Ye.push(Nt),nt--)}else Ye.push(Nt)}return Ye}var T=function(Ye){return Ye-48<10?Ye-22:Ye-65<26?Ye-65:Ye-97<26?Ye-97:j},B=function(Ye,nt){return Ye+22+75*(Ye<26)-((0!=nt)<<5)},S=function(Ye,nt,Wt){var Nt=0;for(Ye=Wt?ke(Ye/700):Ye>>1,Ye+=ke(Ye/nt);Ye>455;Nt+=j)Ye=ke(Ye/35);return ke(Nt+36*Ye/(Ye+38))},s=function(Ye){var nt=[],Wt=Ye.length,Nt=0,un=128,Wn=72,En=Ye.lastIndexOf("-");En<0&&(En=0);for(var kn=0;kn<En;++kn)Ye.charCodeAt(kn)>=128&&a("not-basic"),nt.push(Ye.charCodeAt(kn));for(var Or=En>0?En+1:0;Or<Wt;){for(var Jn=Nt,Fn=1,Lt=j;;Lt+=j){Or>=Wt&&a("invalid-input");var et=T(Ye.charCodeAt(Or++));(et>=j||et>ke((X-Nt)/Fn))&&a("overflow"),Nt+=et*Fn;var Te=Lt<=Wn?1:Lt>=Wn+26?26:Lt-Wn;if(et<Te)break;var Ne=j-Te;Fn>ke(X/Ne)&&a("overflow"),Fn*=Ne}var xt=nt.length+1;Wn=S(Nt-Jn,xt,0==Jn),ke(Nt/xt)>X-un&&a("overflow"),un+=ke(Nt/xt),Nt%=xt,nt.splice(Nt++,0,un)}return String.fromCodePoint.apply(String,nt)},v=function(Ye){var nt=[],Wt=(Ye=g(Ye)).length,Nt=128,un=0,Wn=72,En=!0,kn=!1,Or=void 0;try{for(var Fn,Jn=Ye[Symbol.iterator]();!(En=(Fn=Jn.next()).done);En=!0){var Lt=Fn.value;Lt<128&&nt.push(C(Lt))}}catch(Kr){kn=!0,Or=Kr}finally{try{!En&&Jn.return&&Jn.return()}finally{if(kn)throw Or}}var et=nt.length,Te=et;for(et&&nt.push("-");Te<Wt;){var Ne=X,xt=!0,nn=!1,In=void 0;try{for(var er,Kn=Ye[Symbol.iterator]();!(xt=(er=Kn.next()).done);xt=!0){var _r=er.value;_r>=Nt&&_r<Ne&&(Ne=_r)}}catch(Kr){nn=!0,In=Kr}finally{try{!xt&&Kn.return&&Kn.return()}finally{if(nn)throw In}}var Tr=Te+1;Ne-Nt>ke((X-un)/Tr)&&a("overflow"),un+=(Ne-Nt)*Tr,Nt=Ne;var Br=!0,jr=!1,Zr=void 0;try{for(var _n,tn=Ye[Symbol.iterator]();!(Br=(_n=tn.next()).done);Br=!0){var Tn=_n.value;if(Tn<Nt&&++un>X&&a("overflow"),Tn==Nt){for(var jn=un,fr=j;;fr+=j){var Ar=fr<=Wn?1:fr>=Wn+26?26:fr-Wn;if(jn<Ar)break;var Sr=jn-Ar,zr=j-Ar;nt.push(C(B(Ar+Sr%zr,0))),jn=ke(Sr/zr)}nt.push(C(B(jn,0))),Wn=S(un,Tr,Te==et),un=0,++Te}}}catch(Kr){jr=!0,Zr=Kr}finally{try{!Br&&tn.return&&tn.return()}finally{if(jr)throw Zr}}++un,++Nt}return nt.join("")},ee={version:"2.1.0",ucs2:{decode:g,encode:function(Ye){return String.fromCodePoint.apply(String,function(Mt){if(Array.isArray(Mt)){for(var Ye=0,nt=Array(Mt.length);Ye<Mt.length;Ye++)nt[Ye]=Mt[Ye];return nt}return Array.from(Mt)}(Ye))}},decode:s,encode:v,toASCII:function(Ye){return y(Ye,function(nt){return de.test(nt)?"xn--"+v(nt):nt})},toUnicode:function(Ye){return y(Ye,function(nt){return se.test(nt)?s(nt.slice(4).toLowerCase()):nt})}},ce={};function _e(Mt){var Ye=Mt.charCodeAt(0);return Ye<16?"%0"+Ye.toString(16).toUpperCase():Ye<128?"%"+Ye.toString(16).toUpperCase():Ye<2048?"%"+(Ye>>6|192).toString(16).toUpperCase()+"%"+(63&Ye|128).toString(16).toUpperCase():"%"+(Ye>>12|224).toString(16).toUpperCase()+"%"+(Ye>>6&63|128).toString(16).toUpperCase()+"%"+(63&Ye|128).toString(16).toUpperCase()}function Oe(Mt){for(var Ye="",nt=0,Wt=Mt.length;nt<Wt;){var Nt=parseInt(Mt.substr(nt+1,2),16);if(Nt<128)Ye+=String.fromCharCode(Nt),nt+=3;else if(Nt>=194&&Nt<224){if(Wt-nt>=6){var un=parseInt(Mt.substr(nt+4,2),16);Ye+=String.fromCharCode((31&Nt)<<6|63&un)}else Ye+=Mt.substr(nt,6);nt+=6}else if(Nt>=224){if(Wt-nt>=9){var Wn=parseInt(Mt.substr(nt+4,2),16),En=parseInt(Mt.substr(nt+7,2),16);Ye+=String.fromCharCode((15&Nt)<<12|(63&Wn)<<6|63&En)}else Ye+=Mt.substr(nt,9);nt+=9}else Ye+=Mt.substr(nt,3),nt+=3}return Ye}function Ve(Mt,Ye){function nt(Wt){var Nt=Oe(Wt);return Nt.match(Ye.UNRESERVED)?Nt:Wt}return Mt.scheme&&(Mt.scheme=String(Mt.scheme).replace(Ye.PCT_ENCODED,nt).toLowerCase().replace(Ye.NOT_SCHEME,"")),void 0!==Mt.userinfo&&(Mt.userinfo=String(Mt.userinfo).replace(Ye.PCT_ENCODED,nt).replace(Ye.NOT_USERINFO,_e).replace(Ye.PCT_ENCODED,z)),void 0!==Mt.host&&(Mt.host=String(Mt.host).replace(Ye.PCT_ENCODED,nt).toLowerCase().replace(Ye.NOT_HOST,_e).replace(Ye.PCT_ENCODED,z)),void 0!==Mt.path&&(Mt.path=String(Mt.path).replace(Ye.PCT_ENCODED,nt).replace(Mt.scheme?Ye.NOT_PATH:Ye.NOT_PATH_NOSCHEME,_e).replace(Ye.PCT_ENCODED,z)),void 0!==Mt.query&&(Mt.query=String(Mt.query).replace(Ye.PCT_ENCODED,nt).replace(Ye.NOT_QUERY,_e).replace(Ye.PCT_ENCODED,z)),void 0!==Mt.fragment&&(Mt.fragment=String(Mt.fragment).replace(Ye.PCT_ENCODED,nt).replace(Ye.NOT_FRAGMENT,_e).replace(Ye.PCT_ENCODED,z)),Mt}function Se(Mt){return Mt.replace(/^0*(.*)/,"$1")||"0"}function we(Mt,Ye){var nt=Mt.match(Ye.IPV4ADDRESS)||[],Nt=L(nt,2)[1];return Nt?Nt.split(".").map(Se).join("."):Mt}function Ue(Mt,Ye){var nt=Mt.match(Ye.IPV6ADDRESS)||[],Wt=L(nt,3),Nt=Wt[1],un=Wt[2];if(Nt){for(var Wn=Nt.toLowerCase().split("::").reverse(),En=L(Wn,2),kn=En[0],Or=En[1],Jn=Or?Or.split(":").map(Se):[],Fn=kn.split(":").map(Se),Lt=Ye.IPV4ADDRESS.test(Fn[Fn.length-1]),et=Lt?7:8,Te=Fn.length-et,Ne=Array(et),xt=0;xt<et;++xt)Ne[xt]=Jn[xt]||Fn[Te+xt]||"";Lt&&(Ne[et-1]=we(Ne[et-1],Ye));var In=Ne.reduce(function(Tr,Br,jr){if(!Br||"0"===Br){var Zr=Tr[Tr.length-1];Zr&&Zr.index+Zr.length===jr?Zr.length++:Tr.push({index:jr,length:1})}return Tr},[]).sort(function(Tr,Br){return Br.length-Tr.length})[0],Kn=void 0;if(In&&In.length>1){var er=Ne.slice(0,In.index),_r=Ne.slice(In.index+In.length);Kn=er.join(":")+"::"+_r.join(":")}else Kn=Ne.join(":");return un&&(Kn+="%"+un),Kn}return Mt}var ye=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,De=void 0==="".match(/(){0}/)[1];function pe(Mt){var Ye=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},nt={},Wt=!1!==Ye.iri?F:P;"suffix"===Ye.reference&&(Mt=(Ye.scheme?Ye.scheme+":":"")+"//"+Mt);var Nt=Mt.match(ye);if(Nt){De?(nt.scheme=Nt[1],nt.userinfo=Nt[3],nt.host=Nt[4],nt.port=parseInt(Nt[5],10),nt.path=Nt[6]||"",nt.query=Nt[7],nt.fragment=Nt[8],isNaN(nt.port)&&(nt.port=Nt[5])):(nt.scheme=Nt[1]||void 0,nt.userinfo=-1!==Mt.indexOf("@")?Nt[3]:void 0,nt.host=-1!==Mt.indexOf("//")?Nt[4]:void 0,nt.port=parseInt(Nt[5],10),nt.path=Nt[6]||"",nt.query=-1!==Mt.indexOf("?")?Nt[7]:void 0,nt.fragment=-1!==Mt.indexOf("#")?Nt[8]:void 0,isNaN(nt.port)&&(nt.port=Mt.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Nt[4]:void 0)),nt.host&&(nt.host=Ue(we(nt.host,Wt),Wt)),nt.reference=void 0!==nt.scheme||void 0!==nt.userinfo||void 0!==nt.host||void 0!==nt.port||nt.path||void 0!==nt.query?void 0===nt.scheme?"relative":void 0===nt.fragment?"absolute":"uri":"same-document",Ye.reference&&"suffix"!==Ye.reference&&Ye.reference!==nt.reference&&(nt.error=nt.error||"URI is not a "+Ye.reference+" reference.");var un=ce[(Ye.scheme||nt.scheme||"").toLowerCase()];if(Ye.unicodeSupport||un&&un.unicodeSupport)Ve(nt,Wt);else{if(nt.host&&(Ye.domainHost||un&&un.domainHost))try{nt.host=ee.toASCII(nt.host.replace(Wt.PCT_ENCODED,Oe).toLowerCase())}catch(Wn){nt.error=nt.error||"Host's domain name can not be converted to ASCII via punycode: "+Wn}Ve(nt,P)}un&&un.parse&&un.parse(nt,Ye)}else nt.error=nt.error||"URI can not be parsed.";return nt}var Q=/^\.\.?\//,oe=/^\/\.(\/|$)/,fe=/^\/\.\.(\/|$)/,Ee=/^\/?(?:.|\n)*?(?=\/|$)/;function Re(Mt){for(var Ye=[];Mt.length;)if(Mt.match(Q))Mt=Mt.replace(Q,"");else if(Mt.match(oe))Mt=Mt.replace(oe,"/");else if(Mt.match(fe))Mt=Mt.replace(fe,"/"),Ye.pop();else if("."===Mt||".."===Mt)Mt="";else{var nt=Mt.match(Ee);if(!nt)throw new Error("Unexpected dot segment condition");var Wt=nt[0];Mt=Mt.slice(Wt.length),Ye.push(Wt)}return Ye.join("")}function $e(Mt){var Ye=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},nt=Ye.iri?F:P,Wt=[],Nt=ce[(Ye.scheme||Mt.scheme||"").toLowerCase()];if(Nt&&Nt.serialize&&Nt.serialize(Mt,Ye),Mt.host&&!nt.IPV6ADDRESS.test(Mt.host)&&(Ye.domainHost||Nt&&Nt.domainHost))try{Mt.host=Ye.iri?ee.toUnicode(Mt.host):ee.toASCII(Mt.host.replace(nt.PCT_ENCODED,Oe).toLowerCase())}catch(En){Mt.error=Mt.error||"Host's domain name can not be converted to "+(Ye.iri?"Unicode":"ASCII")+" via punycode: "+En}Ve(Mt,nt),"suffix"!==Ye.reference&&Mt.scheme&&(Wt.push(Mt.scheme),Wt.push(":"));var un=function ue(Mt,Ye){var nt=!1!==Ye.iri?F:P,Wt=[];return void 0!==Mt.userinfo&&(Wt.push(Mt.userinfo),Wt.push("@")),void 0!==Mt.host&&Wt.push(Ue(we(String(Mt.host),nt),nt).replace(nt.IPV6ADDRESS,function(Nt,un,Wn){return"["+un+(Wn?"%25"+Wn:"")+"]"})),("number"==typeof Mt.port||"string"==typeof Mt.port)&&(Wt.push(":"),Wt.push(String(Mt.port))),Wt.length?Wt.join(""):void 0}(Mt,Ye);if(void 0!==un&&("suffix"!==Ye.reference&&Wt.push("//"),Wt.push(un),Mt.path&&"/"!==Mt.path.charAt(0)&&Wt.push("/")),void 0!==Mt.path){var Wn=Mt.path;!Ye.absolutePath&&(!Nt||!Nt.absolutePath)&&(Wn=Re(Wn)),void 0===un&&(Wn=Wn.replace(/^\/\//,"/%2F")),Wt.push(Wn)}return void 0!==Mt.query&&(Wt.push("?"),Wt.push(Mt.query)),void 0!==Mt.fragment&&(Wt.push("#"),Wt.push(Mt.fragment)),Wt.join("")}function Fe(Mt,Ye){var nt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Nt={};return arguments[3]||(Mt=pe($e(Mt,nt),nt),Ye=pe($e(Ye,nt),nt)),!(nt=nt||{}).tolerant&&Ye.scheme?(Nt.scheme=Ye.scheme,Nt.userinfo=Ye.userinfo,Nt.host=Ye.host,Nt.port=Ye.port,Nt.path=Re(Ye.path||""),Nt.query=Ye.query):(void 0!==Ye.userinfo||void 0!==Ye.host||void 0!==Ye.port?(Nt.userinfo=Ye.userinfo,Nt.host=Ye.host,Nt.port=Ye.port,Nt.path=Re(Ye.path||""),Nt.query=Ye.query):(Ye.path?("/"===Ye.path.charAt(0)?Nt.path=Re(Ye.path):(Nt.path=void 0===Mt.userinfo&&void 0===Mt.host&&void 0===Mt.port||Mt.path?Mt.path?Mt.path.slice(0,Mt.path.lastIndexOf("/")+1)+Ye.path:Ye.path:"/"+Ye.path,Nt.path=Re(Nt.path)),Nt.query=Ye.query):(Nt.path=Mt.path,Nt.query=void 0!==Ye.query?Ye.query:Mt.query),Nt.userinfo=Mt.userinfo,Nt.host=Mt.host,Nt.port=Mt.port),Nt.scheme=Mt.scheme),Nt.fragment=Ye.fragment,Nt}function N(Mt,Ye){return Mt&&Mt.toString().replace(Ye&&Ye.iri?F.PCT_ENCODED:P.PCT_ENCODED,Oe)}var _={scheme:"http",domainHost:!0,parse:function(Ye,nt){return Ye.host||(Ye.error=Ye.error||"HTTP URIs must have a host."),Ye},serialize:function(Ye,nt){var Wt="https"===String(Ye.scheme).toLowerCase();return(Ye.port===(Wt?443:80)||""===Ye.port)&&(Ye.port=void 0),Ye.path||(Ye.path="/"),Ye}},m={scheme:"https",domainHost:_.domainHost,parse:_.parse,serialize:_.serialize};function U(Mt){return"boolean"==typeof Mt.secure?Mt.secure:"wss"===String(Mt.scheme).toLowerCase()}var ne={scheme:"ws",domainHost:!0,parse:function(Ye,nt){var Wt=Ye;return Wt.secure=U(Wt),Wt.resourceName=(Wt.path||"/")+(Wt.query?"?"+Wt.query:""),Wt.path=void 0,Wt.query=void 0,Wt},serialize:function(Ye,nt){if((Ye.port===(U(Ye)?443:80)||""===Ye.port)&&(Ye.port=void 0),"boolean"==typeof Ye.secure&&(Ye.scheme=Ye.secure?"wss":"ws",Ye.secure=void 0),Ye.resourceName){var Wt=Ye.resourceName.split("?"),Nt=L(Wt,2),un=Nt[0],Wn=Nt[1];Ye.path=un&&"/"!==un?un:void 0,Ye.query=Wn,Ye.resourceName=void 0}return Ye.fragment=void 0,Ye}},ge={scheme:"wss",domainHost:ne.domainHost,parse:ne.parse,serialize:ne.serialize},Ae={},Bt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",gt="[0-9A-Fa-f]",It=E(E("%[EFef]"+gt+"%"+gt+gt+"%"+gt+gt)+"|"+E("%[89A-Fa-f]"+gt+"%"+gt+gt)+"|"+E("%"+gt+gt)),dn=d("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),An=new RegExp(Bt,"g"),en=new RegExp(It,"g"),Qt=new RegExp(d("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',dn),"g"),Et=new RegExp(d("[^]",Bt,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),ft=Et;function Ht(Mt){var Ye=Oe(Mt);return Ye.match(An)?Ye:Mt}var qt={scheme:"mailto",parse:function(Ye,nt){var Wt=Ye,Nt=Wt.to=Wt.path?Wt.path.split(","):[];if(Wt.path=void 0,Wt.query){for(var un=!1,Wn={},En=Wt.query.split("&"),kn=0,Or=En.length;kn<Or;++kn){var Jn=En[kn].split("=");switch(Jn[0]){case"to":for(var Fn=Jn[1].split(","),Lt=0,et=Fn.length;Lt<et;++Lt)Nt.push(Fn[Lt]);break;case"subject":Wt.subject=N(Jn[1],nt);break;case"body":Wt.body=N(Jn[1],nt);break;default:un=!0,Wn[N(Jn[0],nt)]=N(Jn[1],nt)}}un&&(Wt.headers=Wn)}Wt.query=void 0;for(var Te=0,Ne=Nt.length;Te<Ne;++Te){var xt=Nt[Te].split("@");if(xt[0]=N(xt[0]),nt.unicodeSupport)xt[1]=N(xt[1],nt).toLowerCase();else try{xt[1]=ee.toASCII(N(xt[1],nt).toLowerCase())}catch(nn){Wt.error=Wt.error||"Email address's domain name can not be converted to ASCII via punycode: "+nn}Nt[Te]=xt.join("@")}return Wt},serialize:function(Ye,nt){var Wt=Ye,Nt=function x(Mt){return null!=Mt?Mt instanceof Array?Mt:"number"!=typeof Mt.length||Mt.split||Mt.setInterval||Mt.call?[Mt]:Array.prototype.slice.call(Mt):[]}(Ye.to);if(Nt){for(var un=0,Wn=Nt.length;un<Wn;++un){var En=String(Nt[un]),kn=En.lastIndexOf("@"),Or=En.slice(0,kn).replace(en,Ht).replace(en,z).replace(Qt,_e),Jn=En.slice(kn+1);try{Jn=nt.iri?ee.toUnicode(Jn):ee.toASCII(N(Jn,nt).toLowerCase())}catch(Te){Wt.error=Wt.error||"Email address's domain name can not be converted to "+(nt.iri?"Unicode":"ASCII")+" via punycode: "+Te}Nt[un]=Or+"@"+Jn}Wt.path=Nt.join(",")}var Fn=Ye.headers=Ye.headers||{};Ye.subject&&(Fn.subject=Ye.subject),Ye.body&&(Fn.body=Ye.body);var Lt=[];for(var et in Fn)Fn[et]!==Ae[et]&&Lt.push(et.replace(en,Ht).replace(en,z).replace(Et,_e)+"="+Fn[et].replace(en,Ht).replace(en,z).replace(ft,_e));return Lt.length&&(Wt.query=Lt.join("&")),Wt}},hn=/^([^\:]+)\:(.*)/,hr={scheme:"urn",parse:function(Ye,nt){var Wt=Ye.path&&Ye.path.match(hn),Nt=Ye;if(Wt){var un=nt.scheme||Nt.scheme||"urn",Wn=Wt[1].toLowerCase(),En=Wt[2],Or=ce[un+":"+(nt.nid||Wn)];Nt.nid=Wn,Nt.nss=En,Nt.path=void 0,Or&&(Nt=Or.parse(Nt,nt))}else Nt.error=Nt.error||"URN can not be parsed.";return Nt},serialize:function(Ye,nt){var Nt=Ye.nid,Wn=ce[(nt.scheme||Ye.scheme||"urn")+":"+(nt.nid||Nt)];Wn&&(Ye=Wn.serialize(Ye,nt));var En=Ye;return En.path=(Nt||nt.nid)+":"+Ye.nss,En}},vt=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,St={scheme:"urn:uuid",parse:function(Ye,nt){var Wt=Ye;return Wt.uuid=Wt.nss,Wt.nss=void 0,!nt.tolerant&&(!Wt.uuid||!Wt.uuid.match(vt))&&(Wt.error=Wt.error||"UUID is not valid."),Wt},serialize:function(Ye,nt){var Wt=Ye;return Wt.nss=(Ye.uuid||"").toLowerCase(),Wt}};ce[_.scheme]=_,ce[m.scheme]=m,ce[ne.scheme]=ne,ce[ge.scheme]=ge,ce[qt.scheme]=qt,ce[hr.scheme]=hr,ce[St.scheme]=St,w.SCHEMES=ce,w.pctEncChar=_e,w.pctDecChars=Oe,w.parse=pe,w.removeDotSegments=Re,w.serialize=$e,w.resolveComponents=Fe,w.resolve=function _t(Mt,Ye,nt){var Wt=function O(Mt,Ye){var nt=Mt;if(Ye)for(var Wt in Ye)nt[Wt]=Ye[Wt];return nt}({scheme:"null"},nt);return $e(Fe(pe(Mt,Wt),pe(Ye,Wt),Wt,!0),Wt)},w.normalize=function We(Mt,Ye){return"string"==typeof Mt?Mt=$e(pe(Mt,Ye),Ye):"object"===k(Mt)&&(Mt=pe($e(Mt,Ye),Ye)),Mt},w.equal=function Le(Mt,Ye,nt){return"string"==typeof Mt?Mt=$e(pe(Mt,nt),nt):"object"===k(Mt)&&(Mt=$e(Mt,nt)),"string"==typeof Ye?Ye=$e(pe(Ye,nt),nt):"object"===k(Ye)&&(Ye=$e(Ye,nt)),Mt===Ye},w.escapeComponent=function lt(Mt,Ye){return Mt&&Mt.toString().replace(Ye&&Ye.iri?F.ESCAPE:P.ESCAPE,_e)},w.unescapeComponent=N,Object.defineProperty(w,"__esModule",{value:!0})}(H)},3398:je=>{function w(d){try{if(!globalThis.localStorage)return!1}catch{return!1}var E=globalThis.localStorage[d];return null!=E&&"true"===String(E).toLowerCase()}je.exports=function H(d,E){if(w("noDeprecation"))return d;var k=!1;return function z(){if(!k){if(w("throwDeprecation"))throw new Error(E);w("traceDeprecation")?console.trace(E):console.warn(E),k=!0}return d.apply(this,arguments)}}},78982:()=>{},47790:()=>{},21638:()=>{},92668:()=>{},77965:()=>{},66089:()=>{},79368:()=>{},64688:()=>{},51069:()=>{},15340:()=>{},79838:()=>{},25172:je=>{je.exports=function H(w,d){this.v=w,this.k=d},je.exports.__esModule=!0,je.exports.default=je.exports},93513:(je,H,w)=>{var d=w(25172);je.exports=function E(k){var z={},x=!1;function O(A,P){return x=!0,P=new Promise(function(F){F(k[A](P))}),{done:!1,value:new d(P,1)}}return z[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},z.next=function(A){return x?(x=!1,A):O("next",A)},"function"==typeof k.throw&&(z.throw=function(A){if(x)throw x=!1,A;return O("throw",A)}),"function"==typeof k.return&&(z.return=function(A){return x?(x=!1,A):O("return",A)}),z},je.exports.__esModule=!0,je.exports.default=je.exports},82881:je=>{function w(d){function E(k){if(Object(k)!==k)return Promise.reject(new TypeError(k+" is not an object."));var z=k.done;return Promise.resolve(k.value).then(function(x){return{value:x,done:z}})}return(w=function(z){this.s=z,this.n=z.next}).prototype={s:null,n:null,next:function(){return E(this.n.apply(this.s,arguments))},return:function(z){var x=this.s.return;return void 0===x?Promise.resolve({value:z,done:!0}):E(x.apply(this.s,arguments))},throw:function(z){var x=this.s.return;return void 0===x?Promise.reject(z):E(x.apply(this.s,arguments))}},new w(d)}je.exports=function H(d){var E,k,z,x=2;for(typeof Symbol<"u"&&(k=Symbol.asyncIterator,z=Symbol.iterator);x--;){if(k&&null!=(E=d[k]))return E.call(d);if(z&&null!=(E=d[z]))return new w(E.call(d));k="@@asyncIterator",z="@@iterator"}throw new TypeError("Object is not async iterable")},je.exports.__esModule=!0,je.exports.default=je.exports},29293:je=>{function H(d,E,k,z,x,O,A){try{var P=d[O](A),F=P.value}catch(L){return void k(L)}P.done?E(F):Promise.resolve(F).then(z,x)}je.exports=function w(d){return function(){var E=this,k=arguments;return new Promise(function(z,x){var O=d.apply(E,k);function A(F){H(O,z,x,A,P,"next",F)}function P(F){H(O,z,x,A,P,"throw",F)}A(void 0)})}},je.exports.__esModule=!0,je.exports.default=je.exports},53344:(je,H,w)=>{var d=w(25172);je.exports=function E(k){return new d(k,0)},je.exports.__esModule=!0,je.exports.default=je.exports},42958:(je,H,w)=>{var d=w(25172);function k(z){var x,O;function A(F,L){try{var D=z[F](L),X=D.value,j=X instanceof d;Promise.resolve(j?X.v:X).then(function(G){if(j){var re="return"===F?"return":"next";if(!X.k||G.done)return A(re,G);G=z[re](G).value}P(D.done?"return":"normal",G)},function(G){A("throw",G)})}catch(G){P("throw",G)}}function P(F,L){switch(F){case"return":x.resolve({value:L,done:!0});break;case"throw":x.reject(L);break;default:x.resolve({value:L,done:!1})}(x=x.next)?A(x.key,x.arg):O=null}this._invoke=function(F,L){return new Promise(function(D,X){var j={key:F,arg:L,resolve:D,reject:X,next:null};O?O=O.next=j:(x=O=j,A(F,L))})},"function"!=typeof z.return&&(this.return=void 0)}k.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},k.prototype.next=function(z){return this._invoke("next",z)},k.prototype.throw=function(z){return this._invoke("throw",z)},k.prototype.return=function(z){return this._invoke("return",z)},je.exports=function E(z){return function(){return new k(z.apply(this,arguments))}},je.exports.__esModule=!0,je.exports.default=je.exports},49969:(je,H,w)=>{"use strict";w.d(H,{FX:()=>ke,If:()=>d,K2:()=>O,MA:()=>X,Os:()=>x,P:()=>G,hZ:()=>k,i0:()=>z,i7:()=>F,iF:()=>A,kY:()=>L,kp:()=>E,sf:()=>be,ui:()=>xe,wk:()=>P});var d=function(C){return C[C.State=0]="State",C[C.Transition=1]="Transition",C[C.Sequence=2]="Sequence",C[C.Group=3]="Group",C[C.Animate=4]="Animate",C[C.Keyframes=5]="Keyframes",C[C.Style=6]="Style",C[C.Trigger=7]="Trigger",C[C.Reference=8]="Reference",C[C.AnimateChild=9]="AnimateChild",C[C.AnimateRef=10]="AnimateRef",C[C.Query=11]="Query",C[C.Stagger=12]="Stagger",C}(d||{});const E="*";function k(C,a){return{type:d.Trigger,name:C,definitions:a,options:{}}}function z(C,a=null){return{type:d.Animate,styles:a,timings:C}}function x(C,a=null){return{type:d.Group,steps:C,options:a}}function O(C,a=null){return{type:d.Sequence,steps:C,options:a}}function A(C){return{type:d.Style,styles:C,offset:null}}function P(C,a,f){return{type:d.State,name:C,styles:a,options:f}}function F(C){return{type:d.Keyframes,steps:C}}function L(C,a,f=null){return{type:d.Transition,expr:C,animation:a,options:f}}function X(C=null){return{type:d.AnimateChild,options:C}}function G(C,a,f=null){return{type:d.Query,selector:C,animation:a,options:f}}class be{constructor(a=0,f=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=a+f}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}onStart(a){this._originalOnStartFns.push(a),this._onStartFns.push(a)}onDone(a){this._originalOnDoneFns.push(a),this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(a=>a()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(a){this._position=this.totalTime?a*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(a){const f="start"==a?this._onStartFns:this._onDoneFns;f.forEach(y=>y()),f.length=0}}class xe{constructor(a){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=a;let f=0,y=0,g=0;const M=this.players.length;0==M?queueMicrotask(()=>this._onFinish()):this.players.forEach(T=>{T.onDone(()=>{++f==M&&this._onFinish()}),T.onDestroy(()=>{++y==M&&this._onDestroy()}),T.onStart(()=>{++g==M&&this._onStart()})}),this.totalTime=this.players.reduce((T,B)=>Math.max(T,B.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this.players.forEach(a=>a.init())}onStart(a){this._onStartFns.push(a)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(a=>a()),this._onStartFns=[])}onDone(a){this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(a=>a.play())}pause(){this.players.forEach(a=>a.pause())}restart(){this.players.forEach(a=>a.restart())}finish(){this._onFinish(),this.players.forEach(a=>a.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(a=>a.destroy()),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this.players.forEach(a=>a.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(a){const f=a*this.totalTime;this.players.forEach(y=>{const g=y.totalTime?Math.min(1,f/y.totalTime):1;y.setPosition(g)})}getPosition(){const a=this.players.reduce((f,y)=>null===f||y.totalTime>f.totalTime?y:f,null);return null!=a?a.getPosition():0}beforeDestroy(){this.players.forEach(a=>{a.beforeDestroy&&a.beforeDestroy()})}triggerCallback(a){const f="start"==a?this._onStartFns:this._onDoneFns;f.forEach(y=>y()),f.length=0}}const ke="!"},18617:(je,H,w)=>{"use strict";w.d(H,{Ae:()=>se,Ai:()=>U,Au:()=>g,Bu:()=>M,FN:()=>Bt,GX:()=>ye,Pd:()=>An,Q_:()=>ar,Uc:()=>Le,Z7:()=>B,_G:()=>Ee,px:()=>ae,vR:()=>gt,vr:()=>C,w6:()=>Re});var d=w(60177),E=w(93953),k=w(36860),z=w(21413),x=w(18359),O=w(84412),A=w(7673),P=w(67336),F=w(88141),L=w(70152),D=w(5964),X=w(96354),j=w(65245),G=w(23294),re=w(56977),te=w(49937),J=w(14085),Z=w(99327);const ie=" ";function ae(en,Qt,Et){const ft=de(en,Qt);Et=Et.trim(),!ft.some(Ht=>Ht.trim()===Et)&&(ft.push(Et),en.setAttribute(Qt,ft.join(ie)))}function se(en,Qt,Et){const ft=de(en,Qt);Et=Et.trim();const Ht=ft.filter(qt=>qt!==Et);Ht.length?en.setAttribute(Qt,Ht.join(ie)):en.removeAttribute(Qt)}function de(en,Qt){return en.getAttribute(Qt)?.match(/\S+/g)??[]}const be="cdk-describedby-message",xe="cdk-describedby-host";let ke=0,C=(()=>{class en{constructor(Et,ft){this._platform=ft,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+ke++,this._document=Et,this._id=(0,E.WQX)(E.sZ2)+"-"+ke++}describe(Et,ft,Ht){if(!this._canBeDescribed(Et,ft))return;const qt=a(ft,Ht);"string"!=typeof ft?(f(ft,this._id),this._messageRegistry.set(qt,{messageElement:ft,referenceCount:0})):this._messageRegistry.has(qt)||this._createMessageElement(ft,Ht),this._isElementDescribedByMessage(Et,qt)||this._addMessageReference(Et,qt)}removeDescription(Et,ft,Ht){if(!ft||!this._isElementNode(Et))return;const qt=a(ft,Ht);if(this._isElementDescribedByMessage(Et,qt)&&this._removeMessageReference(Et,qt),"string"==typeof ft){const hn=this._messageRegistry.get(qt);hn&&0===hn.referenceCount&&this._deleteMessageElement(qt)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const Et=this._document.querySelectorAll(`[${xe}="${this._id}"]`);for(let ft=0;ft<Et.length;ft++)this._removeCdkDescribedByReferenceIds(Et[ft]),Et[ft].removeAttribute(xe);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(Et,ft){const Ht=this._document.createElement("div");f(Ht,this._id),Ht.textContent=Et,ft&&Ht.setAttribute("role",ft),this._createMessagesContainer(),this._messagesContainer.appendChild(Ht),this._messageRegistry.set(a(Et,ft),{messageElement:Ht,referenceCount:0})}_deleteMessageElement(Et){this._messageRegistry.get(Et)?.messageElement?.remove(),this._messageRegistry.delete(Et)}_createMessagesContainer(){if(this._messagesContainer)return;const Et="cdk-describedby-message-container",ft=this._document.querySelectorAll(`.${Et}[platform="server"]`);for(let qt=0;qt<ft.length;qt++)ft[qt].remove();const Ht=this._document.createElement("div");Ht.style.visibility="hidden",Ht.classList.add(Et),Ht.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Ht.setAttribute("platform","server"),this._document.body.appendChild(Ht),this._messagesContainer=Ht}_removeCdkDescribedByReferenceIds(Et){const ft=de(Et,"aria-describedby").filter(Ht=>0!=Ht.indexOf(be));Et.setAttribute("aria-describedby",ft.join(" "))}_addMessageReference(Et,ft){const Ht=this._messageRegistry.get(ft);ae(Et,"aria-describedby",Ht.messageElement.id),Et.setAttribute(xe,this._id),Ht.referenceCount++}_removeMessageReference(Et,ft){const Ht=this._messageRegistry.get(ft);Ht.referenceCount--,se(Et,"aria-describedby",Ht.messageElement.id),Et.removeAttribute(xe)}_isElementDescribedByMessage(Et,ft){const Ht=de(Et,"aria-describedby"),qt=this._messageRegistry.get(ft),hn=qt&&qt.messageElement.id;return!!hn&&-1!=Ht.indexOf(hn)}_canBeDescribed(Et,ft){if(!this._isElementNode(Et))return!1;if(ft&&"object"==typeof ft)return!0;const Ht=null==ft?"":`${ft}`.trim(),qt=Et.getAttribute("aria-label");return!(!Ht||qt&&qt.trim()===Ht)}_isElementNode(Et){return Et.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(ft){return new(ft||en)(E.KVO(d.qQ),E.KVO(k.OD))};static#t=this.\u0275prov=E.jDH({token:en,factory:en.\u0275fac,providedIn:"root"})}return en})();function a(en,Qt){return"string"==typeof en?`${Qt||""}/${en}`:en}function f(en,Qt){en.id||(en.id=`${be}-${Qt}-${ke++}`)}class y{constructor(Qt,Et){this._items=Qt,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new z.B,this._typeaheadSubscription=x.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=ft=>ft.disabled,this._pressedLetters=[],this.tabOut=new z.B,this.change=new z.B,Qt instanceof E.rOR?this._itemChangesSubscription=Qt.changes.subscribe(ft=>this._itemsChanged(ft.toArray())):(0,E.Hps)(Qt)&&(this._effectRef=(0,E.QZP)(()=>this._itemsChanged(Qt()),{injector:Et}))}skipPredicate(Qt){return this._skipPredicateFn=Qt,this}withWrap(Qt=!0){return this._wrap=Qt,this}withVerticalOrientation(Qt=!0){return this._vertical=Qt,this}withHorizontalOrientation(Qt){return this._horizontal=Qt,this}withAllowedModifierKeys(Qt){return this._allowedModifierKeys=Qt,this}withTypeAhead(Qt=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,F.M)(Et=>this._pressedLetters.push(Et)),(0,L.B)(Qt),(0,D.p)(()=>this._pressedLetters.length>0),(0,X.T)(()=>this._pressedLetters.join(""))).subscribe(Et=>{const ft=this._getItemsArray();for(let Ht=1;Ht<ft.length+1;Ht++){const qt=(this._activeItemIndex+Ht)%ft.length,hn=ft[qt];if(!this._skipPredicateFn(hn)&&0===hn.getLabel().toUpperCase().trim().indexOf(Et)){this.setActiveItem(qt);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(Qt=!0){return this._homeAndEnd=Qt,this}withPageUpDown(Qt=!0,Et=10){return this._pageUpAndDown={enabled:Qt,delta:Et},this}setActiveItem(Qt){const Et=this._activeItem;this.updateActiveItem(Qt),this._activeItem!==Et&&this.change.next(this._activeItemIndex)}onKeydown(Qt){const Et=Qt.keyCode,Ht=["altKey","ctrlKey","metaKey","shiftKey"].every(qt=>!Qt[qt]||this._allowedModifierKeys.indexOf(qt)>-1);switch(Et){case P.wn:return void this.tabOut.next();case P.n6:if(this._vertical&&Ht){this.setNextItemActive();break}return;case P.i7:if(this._vertical&&Ht){this.setPreviousItemActive();break}return;case P.LE:if(this._horizontal&&Ht){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case P.UQ:if(this._horizontal&&Ht){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case P.yZ:if(this._homeAndEnd&&Ht){this.setFirstItemActive();break}return;case P.Kp:if(this._homeAndEnd&&Ht){this.setLastItemActive();break}return;case P.w_:if(this._pageUpAndDown.enabled&&Ht){const qt=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(qt>0?qt:0,1);break}return;case P.dB:if(this._pageUpAndDown.enabled&&Ht){const qt=this._activeItemIndex+this._pageUpAndDown.delta,hn=this._getItemsArray().length;this._setActiveItemByIndex(qt<hn?qt:hn-1,-1);break}return;default:return void((Ht||(0,P.rp)(Qt,"shiftKey"))&&(Qt.key&&1===Qt.key.length?this._letterKeyStream.next(Qt.key.toLocaleUpperCase()):(Et>=P.A&&Et<=P.Z||Et>=P.f2&&Et<=P.bn)&&this._letterKeyStream.next(String.fromCharCode(Et))))}this._pressedLetters=[],Qt.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Qt){const Et=this._getItemsArray(),ft="number"==typeof Qt?Qt:Et.indexOf(Qt);this._activeItem=Et[ft]??null,this._activeItemIndex=ft}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(Qt){this._wrap?this._setActiveInWrapMode(Qt):this._setActiveInDefaultMode(Qt)}_setActiveInWrapMode(Qt){const Et=this._getItemsArray();for(let ft=1;ft<=Et.length;ft++){const Ht=(this._activeItemIndex+Qt*ft+Et.length)%Et.length;if(!this._skipPredicateFn(Et[Ht]))return void this.setActiveItem(Ht)}}_setActiveInDefaultMode(Qt){this._setActiveItemByIndex(this._activeItemIndex+Qt,Qt)}_setActiveItemByIndex(Qt,Et){const ft=this._getItemsArray();if(ft[Qt]){for(;this._skipPredicateFn(ft[Qt]);)if(!ft[Qt+=Et])return;this.setActiveItem(Qt)}}_getItemsArray(){return(0,E.Hps)(this._items)?this._items():this._items instanceof E.rOR?this._items.toArray():this._items}_itemsChanged(Qt){if(this._activeItem){const Et=Qt.indexOf(this._activeItem);Et>-1&&Et!==this._activeItemIndex&&(this._activeItemIndex=Et)}}}class g extends y{setActiveItem(Qt){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(Qt),this.activeItem&&this.activeItem.setActiveStyles()}}class M extends y{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Qt){return this._origin=Qt,this}setActiveItem(Qt){super.setActiveItem(Qt),this.activeItem&&this.activeItem.focus(this._origin)}}let B=(()=>{class en{constructor(Et){this._platform=Et}isDisabled(Et){return Et.hasAttribute("disabled")}isVisible(Et){return function s(en){return!!(en.offsetWidth||en.offsetHeight||"function"==typeof en.getClientRects&&en.getClientRects().length)}(Et)&&"visible"===getComputedStyle(Et).visibility}isTabbable(Et){if(!this._platform.isBrowser)return!1;const ft=function S(en){try{return en.frameElement}catch{return null}}(function we(en){return en.ownerDocument&&en.ownerDocument.defaultView||window}(Et));if(ft&&(-1===Oe(ft)||!this.isVisible(ft)))return!1;let Ht=Et.nodeName.toLowerCase(),qt=Oe(Et);return Et.hasAttribute("contenteditable")?-1!==qt:!("iframe"===Ht||"object"===Ht||this._platform.WEBKIT&&this._platform.IOS&&!function Ve(en){let Qt=en.nodeName.toLowerCase(),Et="input"===Qt&&en.type;return"text"===Et||"password"===Et||"select"===Qt||"textarea"===Qt}(Et))&&("audio"===Ht?!!Et.hasAttribute("controls")&&-1!==qt:"video"===Ht?-1!==qt&&(null!==qt||this._platform.FIREFOX||Et.hasAttribute("controls")):Et.tabIndex>=0)}isFocusable(Et,ft){return function Se(en){return!function W(en){return function ee(en){return"input"==en.nodeName.toLowerCase()}(en)&&"hidden"==en.type}(en)&&(function v(en){let Qt=en.nodeName.toLowerCase();return"input"===Qt||"select"===Qt||"button"===Qt||"textarea"===Qt}(en)||function K(en){return function ce(en){return"a"==en.nodeName.toLowerCase()}(en)&&en.hasAttribute("href")}(en)||en.hasAttribute("contenteditable")||_e(en))}(Et)&&!this.isDisabled(Et)&&(ft?.ignoreVisibility||this.isVisible(Et))}static#e=this.\u0275fac=function(ft){return new(ft||en)(E.KVO(k.OD))};static#t=this.\u0275prov=E.jDH({token:en,factory:en.\u0275fac,providedIn:"root"})}return en})();function _e(en){if(!en.hasAttribute("tabindex")||void 0===en.tabIndex)return!1;let Qt=en.getAttribute("tabindex");return!(!Qt||isNaN(parseInt(Qt,10)))}function Oe(en){if(!_e(en))return null;const Qt=parseInt(en.getAttribute("tabindex")||"",10);return isNaN(Qt)?-1:Qt}class Ue{get enabled(){return this._enabled}set enabled(Qt){this._enabled=Qt,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Qt,this._startAnchor),this._toggleAnchorTabIndex(Qt,this._endAnchor))}constructor(Qt,Et,ft,Ht,qt=!1,hn){this._element=Qt,this._checker=Et,this._ngZone=ft,this._document=Ht,this._injector=hn,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,qt||this.attachAnchors()}destroy(){const Qt=this._startAnchor,Et=this._endAnchor;Qt&&(Qt.removeEventListener("focus",this.startAnchorListener),Qt.remove()),Et&&(Et.removeEventListener("focus",this.endAnchorListener),Et.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Qt){return new Promise(Et=>{this._executeOnStable(()=>Et(this.focusInitialElement(Qt)))})}focusFirstTabbableElementWhenReady(Qt){return new Promise(Et=>{this._executeOnStable(()=>Et(this.focusFirstTabbableElement(Qt)))})}focusLastTabbableElementWhenReady(Qt){return new Promise(Et=>{this._executeOnStable(()=>Et(this.focusLastTabbableElement(Qt)))})}_getRegionBoundary(Qt){const Et=this._element.querySelectorAll(`[cdk-focus-region-${Qt}], [cdkFocusRegion${Qt}], [cdk-focus-${Qt}]`);return"start"==Qt?Et.length?Et[0]:this._getFirstTabbableElement(this._element):Et.length?Et[Et.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Qt){const Et=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Et){if(!this._checker.isFocusable(Et)){const ft=this._getFirstTabbableElement(Et);return ft?.focus(Qt),!!ft}return Et.focus(Qt),!0}return this.focusFirstTabbableElement(Qt)}focusFirstTabbableElement(Qt){const Et=this._getRegionBoundary("start");return Et&&Et.focus(Qt),!!Et}focusLastTabbableElement(Qt){const Et=this._getRegionBoundary("end");return Et&&Et.focus(Qt),!!Et}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Qt){if(this._checker.isFocusable(Qt)&&this._checker.isTabbable(Qt))return Qt;const Et=Qt.children;for(let ft=0;ft<Et.length;ft++){const Ht=Et[ft].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Et[ft]):null;if(Ht)return Ht}return null}_getLastTabbableElement(Qt){if(this._checker.isFocusable(Qt)&&this._checker.isTabbable(Qt))return Qt;const Et=Qt.children;for(let ft=Et.length-1;ft>=0;ft--){const Ht=Et[ft].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Et[ft]):null;if(Ht)return Ht}return null}_createAnchor(){const Qt=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Qt),Qt.classList.add("cdk-visually-hidden"),Qt.classList.add("cdk-focus-trap-anchor"),Qt.setAttribute("aria-hidden","true"),Qt}_toggleAnchorTabIndex(Qt,Et){Qt?Et.setAttribute("tabindex","0"):Et.removeAttribute("tabindex")}toggleAnchors(Qt){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Qt,this._startAnchor),this._toggleAnchorTabIndex(Qt,this._endAnchor))}_executeOnStable(Qt){this._injector?(0,E.mal)(Qt,{injector:this._injector}):setTimeout(Qt)}}let ye=(()=>{class en{constructor(Et,ft,Ht){this._checker=Et,this._ngZone=ft,this._injector=(0,E.WQX)(E.zZn),this._document=Ht}create(Et,ft=!1){return new Ue(Et,this._checker,this._ngZone,this._document,ft,this._injector)}static#e=this.\u0275fac=function(ft){return new(ft||en)(E.KVO(B),E.KVO(E.SKi),E.KVO(d.qQ))};static#t=this.\u0275prov=E.jDH({token:en,factory:en.\u0275fac,providedIn:"root"})}return en})();function Ee(en){return 0===en.buttons||0===en.detail}function Re(en){const Qt=en.touches&&en.touches[0]||en.changedTouches&&en.changedTouches[0];return!(!Qt||-1!==Qt.identifier||null!=Qt.radiusX&&1!==Qt.radiusX||null!=Qt.radiusY&&1!==Qt.radiusY)}const $e=new E.nKC("cdk-input-modality-detector-options"),Fe={ignoreKeys:[P.A$,P.W3,P.eg,P.Ge,P.FX]},We=(0,k.BQ)({passive:!0,capture:!0});let Le=(()=>{class en{get mostRecentModality(){return this._modality.value}constructor(Et,ft,Ht,qt){this._platform=Et,this._mostRecentTarget=null,this._modality=new O.t(null),this._lastTouchMs=0,this._onKeydown=hn=>{this._options?.ignoreKeys?.some(hr=>hr===hn.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,k.Fb)(hn))},this._onMousedown=hn=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ee(hn)?"keyboard":"mouse"),this._mostRecentTarget=(0,k.Fb)(hn))},this._onTouchstart=hn=>{Re(hn)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,k.Fb)(hn))},this._options={...Fe,...qt},this.modalityDetected=this._modality.pipe((0,j.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,G.F)()),Et.isBrowser&&ft.runOutsideAngular(()=>{Ht.addEventListener("keydown",this._onKeydown,We),Ht.addEventListener("mousedown",this._onMousedown,We),Ht.addEventListener("touchstart",this._onTouchstart,We)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,We),document.removeEventListener("mousedown",this._onMousedown,We),document.removeEventListener("touchstart",this._onTouchstart,We))}static#e=this.\u0275fac=function(ft){return new(ft||en)(E.KVO(k.OD),E.KVO(E.SKi),E.KVO(d.qQ),E.KVO($e,8))};static#t=this.\u0275prov=E.jDH({token:en,factory:en.\u0275fac,providedIn:"root"})}return en})();const lt=new E.nKC("liveAnnouncerElement",{providedIn:"root",factory:function N(){return null}}),_=new E.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let m=0,U=(()=>{class en{constructor(Et,ft,Ht,qt){this._ngZone=ft,this._defaultOptions=qt,this._document=Ht,this._liveElement=Et||this._createLiveElement()}announce(Et,...ft){const Ht=this._defaultOptions;let qt,hn;return 1===ft.length&&"number"==typeof ft[0]?hn=ft[0]:[qt,hn]=ft,this.clear(),clearTimeout(this._previousTimeout),qt||(qt=Ht&&Ht.politeness?Ht.politeness:"polite"),null==hn&&Ht&&(hn=Ht.duration),this._liveElement.setAttribute("aria-live",qt),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(hr=>this._currentResolve=hr)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Et,"number"==typeof hn&&(this._previousTimeout=setTimeout(()=>this.clear(),hn)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const Et="cdk-live-announcer-element",ft=this._document.getElementsByClassName(Et),Ht=this._document.createElement("div");for(let qt=0;qt<ft.length;qt++)ft[qt].remove();return Ht.classList.add(Et),Ht.classList.add("cdk-visually-hidden"),Ht.setAttribute("aria-atomic","true"),Ht.setAttribute("aria-live","polite"),Ht.id="cdk-live-announcer-"+m++,this._document.body.appendChild(Ht),Ht}_exposeAnnouncerToModals(Et){const ft=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Ht=0;Ht<ft.length;Ht++){const qt=ft[Ht],hn=qt.getAttribute("aria-owns");hn?-1===hn.indexOf(Et)&&qt.setAttribute("aria-owns",hn+" "+Et):qt.setAttribute("aria-owns",Et)}}static#e=this.\u0275fac=function(ft){return new(ft||en)(E.KVO(lt,8),E.KVO(E.SKi),E.KVO(d.qQ),E.KVO(_,8))};static#t=this.\u0275prov=E.jDH({token:en,factory:en.\u0275fac,providedIn:"root"})}return en})();var ge=function(en){return en[en.IMMEDIATE=0]="IMMEDIATE",en[en.EVENTUAL=1]="EVENTUAL",en}(ge||{});const Ae=new E.nKC("cdk-focus-monitor-default-options"),tt=(0,k.BQ)({passive:!0,capture:!0});let Bt=(()=>{class en{constructor(Et,ft,Ht,qt,hn){this._ngZone=Et,this._platform=ft,this._inputModalityDetector=Ht,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new z.B,this._rootNodeFocusAndBlurListener=hr=>{for(let St=(0,k.Fb)(hr);St;St=St.parentElement)"focus"===hr.type?this._onFocus(hr,St):this._onBlur(hr,St)},this._document=qt,this._detectionMode=hn?.detectionMode||ge.IMMEDIATE}monitor(Et,ft=!1){const Ht=(0,J.i8)(Et);if(!this._platform.isBrowser||1!==Ht.nodeType)return(0,A.of)();const qt=(0,k.KT)(Ht)||this._getDocument(),hn=this._elementInfo.get(Ht);if(hn)return ft&&(hn.checkChildren=!0),hn.subject;const hr={checkChildren:ft,subject:new z.B,rootNode:qt};return this._elementInfo.set(Ht,hr),this._registerGlobalListeners(hr),hr.subject}stopMonitoring(Et){const ft=(0,J.i8)(Et),Ht=this._elementInfo.get(ft);Ht&&(Ht.subject.complete(),this._setClasses(ft),this._elementInfo.delete(ft),this._removeGlobalListeners(Ht))}focusVia(Et,ft,Ht){const qt=(0,J.i8)(Et);qt===this._getDocument().activeElement?this._getClosestElementsInfo(qt).forEach(([hr,vt])=>this._originChanged(hr,ft,vt)):(this._setOrigin(ft),"function"==typeof qt.focus&&qt.focus(Ht))}ngOnDestroy(){this._elementInfo.forEach((Et,ft)=>this.stopMonitoring(ft))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Et){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Et)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Et&&this._isLastInteractionFromInputLabel(Et)?"mouse":"program"}_shouldBeAttributedToTouch(Et){return this._detectionMode===ge.EVENTUAL||!!Et?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Et,ft){Et.classList.toggle("cdk-focused",!!ft),Et.classList.toggle("cdk-touch-focused","touch"===ft),Et.classList.toggle("cdk-keyboard-focused","keyboard"===ft),Et.classList.toggle("cdk-mouse-focused","mouse"===ft),Et.classList.toggle("cdk-program-focused","program"===ft)}_setOrigin(Et,ft=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Et,this._originFromTouchInteraction="touch"===Et&&ft,this._detectionMode===ge.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Et,ft){const Ht=this._elementInfo.get(ft),qt=(0,k.Fb)(Et);!Ht||!Ht.checkChildren&&ft!==qt||this._originChanged(ft,this._getFocusOrigin(qt),Ht)}_onBlur(Et,ft){const Ht=this._elementInfo.get(ft);!Ht||Ht.checkChildren&&Et.relatedTarget instanceof Node&&ft.contains(Et.relatedTarget)||(this._setClasses(ft),this._emitOrigin(Ht,null))}_emitOrigin(Et,ft){Et.subject.observers.length&&this._ngZone.run(()=>Et.subject.next(ft))}_registerGlobalListeners(Et){if(!this._platform.isBrowser)return;const ft=Et.rootNode,Ht=this._rootNodeFocusListenerCount.get(ft)||0;Ht||this._ngZone.runOutsideAngular(()=>{ft.addEventListener("focus",this._rootNodeFocusAndBlurListener,tt),ft.addEventListener("blur",this._rootNodeFocusAndBlurListener,tt)}),this._rootNodeFocusListenerCount.set(ft,Ht+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,re.Q)(this._stopInputModalityDetector)).subscribe(qt=>{this._setOrigin(qt,!0)}))}_removeGlobalListeners(Et){const ft=Et.rootNode;if(this._rootNodeFocusListenerCount.has(ft)){const Ht=this._rootNodeFocusListenerCount.get(ft);Ht>1?this._rootNodeFocusListenerCount.set(ft,Ht-1):(ft.removeEventListener("focus",this._rootNodeFocusAndBlurListener,tt),ft.removeEventListener("blur",this._rootNodeFocusAndBlurListener,tt),this._rootNodeFocusListenerCount.delete(ft))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Et,ft,Ht){this._setClasses(Et,ft),this._emitOrigin(Ht,ft),this._lastFocusOrigin=ft}_getClosestElementsInfo(Et){const ft=[];return this._elementInfo.forEach((Ht,qt)=>{(qt===Et||Ht.checkChildren&&qt.contains(Et))&&ft.push([qt,Ht])}),ft}_isLastInteractionFromInputLabel(Et){const{_mostRecentTarget:ft,mostRecentModality:Ht}=this._inputModalityDetector;if("mouse"!==Ht||!ft||ft===Et||"INPUT"!==Et.nodeName&&"TEXTAREA"!==Et.nodeName||Et.disabled)return!1;const qt=Et.labels;if(qt)for(let hn=0;hn<qt.length;hn++)if(qt[hn].contains(ft))return!0;return!1}static#e=this.\u0275fac=function(ft){return new(ft||en)(E.KVO(E.SKi),E.KVO(k.OD),E.KVO(Le),E.KVO(d.qQ,8),E.KVO(Ae,8))};static#t=this.\u0275prov=E.jDH({token:en,factory:en.\u0275fac,providedIn:"root"})}return en})(),gt=(()=>{class en{constructor(Et,ft){this._elementRef=Et,this._focusMonitor=ft,this._focusOrigin=null,this.cdkFocusChange=new E.bkB}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const Et=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(Et,1===Et.nodeType&&Et.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(ft=>{this._focusOrigin=ft,this.cdkFocusChange.emit(ft)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(ft){return new(ft||en)(E.rXU(E.aKT),E.rXU(Bt))};static#t=this.\u0275dir=E.FsC({type:en,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return en})();var It=function(en){return en[en.NONE=0]="NONE",en[en.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",en[en.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",en}(It||{});const Zt="cdk-high-contrast-black-on-white",mn="cdk-high-contrast-white-on-black",dn="cdk-high-contrast-active";let ar=(()=>{class en{constructor(Et,ft){this._platform=Et,this._document=ft,this._breakpointSubscription=(0,E.WQX)(Z.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return It.NONE;const Et=this._document.createElement("div");Et.style.backgroundColor="rgb(1,2,3)",Et.style.position="absolute",this._document.body.appendChild(Et);const ft=this._document.defaultView||window,Ht=ft&&ft.getComputedStyle?ft.getComputedStyle(Et):null,qt=(Ht&&Ht.backgroundColor||"").replace(/ /g,"");switch(Et.remove(),qt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return It.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return It.BLACK_ON_WHITE}return It.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Et=this._document.body.classList;Et.remove(dn,Zt,mn),this._hasCheckedHighContrastMode=!0;const ft=this.getHighContrastMode();ft===It.BLACK_ON_WHITE?Et.add(dn,Zt):ft===It.WHITE_ON_BLACK&&Et.add(dn,mn)}}static#e=this.\u0275fac=function(ft){return new(ft||en)(E.KVO(k.OD),E.KVO(d.qQ))};static#t=this.\u0275prov=E.jDH({token:en,factory:en.\u0275fac,providedIn:"root"})}return en})(),An=(()=>{class en{constructor(Et){Et._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(ft){return new(ft||en)(E.KVO(ar))};static#t=this.\u0275mod=E.$C({type:en});static#n=this.\u0275inj=E.G2t({imports:[te.w5]})}return en})()},28203:(je,H,w)=>{"use strict";w.d(H,{dS:()=>A,jI:()=>F});var d=w(93953),E=w(60177);const k=new d.nKC("cdk-dir-doc",{providedIn:"root",factory:function z(){return(0,d.WQX)(E.qQ)}}),x=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let A=(()=>{class L{constructor(X){this.value="ltr",this.change=new d.bkB,X&&(this.value=function O(L){const D=L?.toLowerCase()||"";return"auto"===D&&typeof navigator<"u"&&navigator?.language?x.test(navigator.language)?"rtl":"ltr":"rtl"===D?"rtl":"ltr"}((X.body?X.body.dir:null)||(X.documentElement?X.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(j){return new(j||L)(d.KVO(k,8))};static#t=this.\u0275prov=d.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})(),F=(()=>{class L{static#e=this.\u0275fac=function(j){return new(j||L)};static#t=this.\u0275mod=d.$C({type:L});static#n=this.\u0275inj=d.G2t({})}return L})()},14085:(je,H,w)=>{"use strict";w.d(H,{FG:()=>x,OE:()=>k,a1:()=>O,he:()=>E,i8:()=>A,o1:()=>z});var d=w(93953);function E(F){return null!=F&&"false"!=`${F}`}function k(F,L=0){return z(F)?Number(F):2===arguments.length?L:0}function z(F){return!isNaN(parseFloat(F))&&!isNaN(Number(F))}function x(F){return Array.isArray(F)?F:[F]}function O(F){return null==F?"":"string"==typeof F?F:`${F}px`}function A(F){return F instanceof d.aKT?F.nativeElement:F}},45024:(je,H,w)=>{"use strict";w.d(H,{CB:()=>j,DQ:()=>X,Q3:()=>F,qS:()=>O,sL:()=>L,xn:()=>D,y4:()=>A,zP:()=>re});var d=w(30017),z=(w(74402),w(7673),w(21413)),x=w(93953);class O{}function A(te){return te&&"function"==typeof te.connect&&!(te instanceof d.G)}var F=function(te){return te[te.REPLACED=0]="REPLACED",te[te.INSERTED=1]="INSERTED",te[te.MOVED=2]="MOVED",te[te.REMOVED=3]="REMOVED",te}(F||{});const L=new x.nKC("_ViewRepeater");class D{applyChanges(J,Z,ie,ae,se){J.forEachOperation((de,le,be)=>{let xe,ke;if(null==de.previousIndex){const C=ie(de,le,be);xe=Z.createEmbeddedView(C.templateRef,C.context,C.index),ke=F.INSERTED}else null==be?(Z.remove(le),ke=F.REMOVED):(xe=Z.get(le),Z.move(xe,be),ke=F.MOVED);se&&se({context:xe?.context,operation:ke,record:de})})}detach(){}}class X{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(J,Z,ie,ae,se){J.forEachOperation((de,le,be)=>{let xe,ke;null==de.previousIndex?(xe=this._insertView(()=>ie(de,le,be),be,Z,ae(de)),ke=xe?F.INSERTED:F.REPLACED):null==be?(this._detachAndCacheView(le,Z),ke=F.REMOVED):(xe=this._moveView(le,be,Z,ae(de)),ke=F.MOVED),se&&se({context:xe?.context,operation:ke,record:de})})}detach(){for(const J of this._viewCache)J.destroy();this._viewCache=[]}_insertView(J,Z,ie,ae){const se=this._insertViewFromCache(Z,ie);if(se)return void(se.context.$implicit=ae);const de=J();return ie.createEmbeddedView(de.templateRef,de.context,de.index)}_detachAndCacheView(J,Z){const ie=Z.detach(J);this._maybeCacheView(ie,Z)}_moveView(J,Z,ie,ae){const se=ie.get(J);return ie.move(se,Z),se.context.$implicit=ae,se}_maybeCacheView(J,Z){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(J);else{const ie=Z.indexOf(J);-1===ie?J.destroy():Z.remove(ie)}}_insertViewFromCache(J,Z){const ie=this._viewCache.pop();return ie&&Z.insert(ie,J),ie||null}}class j{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(J=!1,Z,ie=!0,ae){this._multiple=J,this._emitChanges=ie,this.compareWith=ae,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new z.B,Z&&Z.length&&(J?Z.forEach(se=>this._markSelected(se)):this._markSelected(Z[0]),this._selectedToEmit.length=0)}select(...J){this._verifyValueAssignment(J),J.forEach(ie=>this._markSelected(ie));const Z=this._hasQueuedChanges();return this._emitChangeEvent(),Z}deselect(...J){this._verifyValueAssignment(J),J.forEach(ie=>this._unmarkSelected(ie));const Z=this._hasQueuedChanges();return this._emitChangeEvent(),Z}setSelection(...J){this._verifyValueAssignment(J);const Z=this.selected,ie=new Set(J);J.forEach(se=>this._markSelected(se)),Z.filter(se=>!ie.has(this._getConcreteValue(se,ie))).forEach(se=>this._unmarkSelected(se));const ae=this._hasQueuedChanges();return this._emitChangeEvent(),ae}toggle(J){return this.isSelected(J)?this.deselect(J):this.select(J)}clear(J=!0){this._unmarkAll();const Z=this._hasQueuedChanges();return J&&this._emitChangeEvent(),Z}isSelected(J){return this._selection.has(this._getConcreteValue(J))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(J){this._multiple&&this.selected&&this._selected.sort(J)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(J){J=this._getConcreteValue(J),this.isSelected(J)||(this._multiple||this._unmarkAll(),this.isSelected(J)||this._selection.add(J),this._emitChanges&&this._selectedToEmit.push(J))}_unmarkSelected(J){J=this._getConcreteValue(J),this.isSelected(J)&&(this._selection.delete(J),this._emitChanges&&this._deselectedToEmit.push(J))}_unmarkAll(){this.isEmpty()||this._selection.forEach(J=>this._unmarkSelected(J))}_verifyValueAssignment(J){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(J,Z){if(this.compareWith){Z=Z??this._selection;for(let ie of Z)if(this.compareWith(J,ie))return ie;return J}return J}}let re=(()=>{class te{constructor(){this._listeners=[]}notify(Z,ie){for(let ae of this._listeners)ae(Z,ie)}listen(Z){return this._listeners.push(Z),()=>{this._listeners=this._listeners.filter(ie=>Z!==ie)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(ie){return new(ie||te)};static#t=this.\u0275prov=x.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})()},67336:(je,H,w)=>{"use strict";w.d(H,{A:()=>K,A$:()=>P,FX:()=>O,Fm:()=>x,G_:()=>E,Ge:()=>m,Kp:()=>re,LE:()=>ie,SJ:()=>be,UQ:()=>J,W3:()=>A,Z:()=>_,_f:()=>D,bn:()=>B,dB:()=>G,eg:()=>fr,f2:()=>xe,i7:()=>Z,n6:()=>ae,rp:()=>Ar,t6:()=>X,w_:()=>j,wn:()=>k,yZ:()=>te});const E=8,k=9,x=13,O=16,A=17,P=18,D=27,X=32,j=33,G=34,re=35,te=36,J=37,Z=38,ie=39,ae=40,be=46,xe=48,B=57,K=65,_=90,m=91,fr=224;function Ar(Sr,...zr){return zr.length?zr.some(Kr=>Sr[Kr]):Sr.altKey||Sr.shiftKey||Sr.ctrlKey||Sr.metaKey}},99327:(je,H,w)=>{"use strict";w.d(H,{QP:()=>ae,Rp:()=>de});var d=w(93953),E=w(14085),k=w(21413),z=w(84572),x=w(28793),O=w(71985),A=w(96697),P=w(65245),F=w(70152),L=w(96354),D=w(99172),X=w(56977),j=w(36860);const re=new Set;let te,J=(()=>{class le{constructor(xe,ke){this._platform=xe,this._nonce=ke,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ie}matchMedia(xe){return(this._platform.WEBKIT||this._platform.BLINK)&&function Z(le,be){if(!re.has(le))try{te||(te=document.createElement("style"),be&&te.setAttribute("nonce",be),te.setAttribute("type","text/css"),document.head.appendChild(te)),te.sheet&&(te.sheet.insertRule(`@media ${le} {body{ }}`,0),re.add(le))}catch(xe){console.error(xe)}}(xe,this._nonce),this._matchMedia(xe)}static#e=this.\u0275fac=function(ke){return new(ke||le)(d.KVO(j.OD),d.KVO(d.BIS,8))};static#t=this.\u0275prov=d.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();function ie(le){return{matches:"all"===le||""===le,media:le,addListener:()=>{},removeListener:()=>{}}}let ae=(()=>{class le{constructor(xe,ke){this._mediaMatcher=xe,this._zone=ke,this._queries=new Map,this._destroySubject=new k.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(xe){return se((0,E.FG)(xe)).some(C=>this._registerQuery(C).mql.matches)}observe(xe){const C=se((0,E.FG)(xe)).map(f=>this._registerQuery(f).observable);let a=(0,z.z)(C);return a=(0,x.x)(a.pipe((0,A.s)(1)),a.pipe((0,P.i)(1),(0,F.B)(0))),a.pipe((0,L.T)(f=>{const y={matches:!1,breakpoints:{}};return f.forEach(({matches:g,query:M})=>{y.matches=y.matches||g,y.breakpoints[M]=g}),y}))}_registerQuery(xe){if(this._queries.has(xe))return this._queries.get(xe);const ke=this._mediaMatcher.matchMedia(xe),a={observable:new O.c(f=>{const y=g=>this._zone.run(()=>f.next(g));return ke.addListener(y),()=>{ke.removeListener(y)}}).pipe((0,D.Z)(ke),(0,L.T)(({matches:f})=>({query:xe,matches:f})),(0,X.Q)(this._destroySubject)),mql:ke};return this._queries.set(xe,a),a}static#e=this.\u0275fac=function(ke){return new(ke||le)(d.KVO(J),d.KVO(d.SKi))};static#t=this.\u0275prov=d.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();function se(le){return le.map(be=>be.split(",")).reduce((be,xe)=>be.concat(xe)).map(be=>be.trim())}const de={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},49937:(je,H,w)=>{"use strict";w.d(H,{Wv:()=>D,w5:()=>X});var d=w(14085),E=w(93953),k=w(71985),z=w(21413),x=w(96354),O=w(5964),A=w(70152);let F=(()=>{class j{create(re){return typeof MutationObserver>"u"?null:new MutationObserver(re)}static#e=this.\u0275fac=function(te){return new(te||j)};static#t=this.\u0275prov=E.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})(),L=(()=>{class j{constructor(re){this._mutationObserverFactory=re,this._observedElements=new Map,this._ngZone=(0,E.WQX)(E.SKi)}ngOnDestroy(){this._observedElements.forEach((re,te)=>this._cleanupObserver(te))}observe(re){const te=(0,d.i8)(re);return new k.c(J=>{const ie=this._observeElement(te).pipe((0,x.T)(ae=>ae.filter(se=>!function P(j){if("characterData"===j.type&&j.target instanceof Comment)return!0;if("childList"===j.type){for(let G=0;G<j.addedNodes.length;G++)if(!(j.addedNodes[G]instanceof Comment))return!1;for(let G=0;G<j.removedNodes.length;G++)if(!(j.removedNodes[G]instanceof Comment))return!1;return!0}return!1}(se))),(0,O.p)(ae=>!!ae.length)).subscribe(ae=>{this._ngZone.run(()=>{J.next(ae)})});return()=>{ie.unsubscribe(),this._unobserveElement(te)}})}_observeElement(re){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(re))this._observedElements.get(re).count++;else{const te=new z.B,J=this._mutationObserverFactory.create(Z=>te.next(Z));J&&J.observe(re,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(re,{observer:J,stream:te,count:1})}return this._observedElements.get(re).stream})}_unobserveElement(re){this._observedElements.has(re)&&(this._observedElements.get(re).count--,this._observedElements.get(re).count||this._cleanupObserver(re))}_cleanupObserver(re){if(this._observedElements.has(re)){const{observer:te,stream:J}=this._observedElements.get(re);te&&te.disconnect(),J.complete(),this._observedElements.delete(re)}}static#e=this.\u0275fac=function(te){return new(te||j)(E.KVO(F))};static#t=this.\u0275prov=E.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})(),D=(()=>{class j{get disabled(){return this._disabled}set disabled(re){this._disabled=re,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(re){this._debounce=(0,d.OE)(re),this._subscribe()}constructor(re,te){this._contentObserver=re,this._elementRef=te,this.event=new E.bkB,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const re=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?re.pipe((0,A.B)(this.debounce)):re).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(te){return new(te||j)(E.rXU(L),E.rXU(E.aKT))};static#t=this.\u0275dir=E.FsC({type:j,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",E.L39],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[E.GFd]})}return j})(),X=(()=>{class j{static#e=this.\u0275fac=function(te){return new(te||j)};static#t=this.\u0275mod=E.$C({type:j});static#n=this.\u0275inj=E.G2t({providers:[F]})}return j})()},98170:(je,H,w)=>{"use strict";w.d(H,{a:()=>F});var d=w(93953),E=w(21413),k=w(71985),z=w(5964),x=w(44668),O=w(56977);class P{constructor(D){this._box=D,this._destroyed=new E.B,this._resizeSubject=new E.B,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(X=>this._resizeSubject.next(X)))}observe(D){return this._elementObservables.has(D)||this._elementObservables.set(D,new k.c(X=>{const j=this._resizeSubject.subscribe(X);return this._resizeObserver?.observe(D,{box:this._box}),()=>{this._resizeObserver?.unobserve(D),j.unsubscribe(),this._elementObservables.delete(D)}}).pipe((0,z.p)(X=>X.some(j=>j.target===D)),(0,x.t)({bufferSize:1,refCount:!0}),(0,O.Q)(this._destroyed))),this._elementObservables.get(D)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let F=(()=>{class L{constructor(){this._observers=new Map,this._ngZone=(0,d.WQX)(d.SKi)}ngOnDestroy(){for(const[,X]of this._observers)X.destroy();this._observers.clear()}observe(X,j){const G=j?.box||"content-box";return this._observers.has(G)||this._observers.set(G,new P(G)),this._observers.get(G).observe(X)}static#e=this.\u0275fac=function(j){return new(j||L)};static#t=this.\u0275prov=d.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})()},66969:(je,H,w)=>{"use strict";w.d(H,{WB:()=>Ee,$Q:()=>fe,hJ:()=>ue,rR:()=>ke,Sf:()=>s,z_:()=>Fe,yY:()=>v,EB:()=>we,pq:()=>Se});var d=w(67333),E=w(60177),k=w(93953),z=w(14085),x=w(36860),O=w(5964),A=w(56977),P=w(39974),F=w(54360),D=w(28203),X=w(76939),j=w(21413),G=w(18359),re=w(57786),te=w(67336);const J=(0,x.CZ)();class Z{constructor(Le,lt){this._viewportRuler=Le,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=lt}attach(){}enable(){if(this._canBeEnabled()){const Le=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=Le.style.left||"",this._previousHTMLStyles.top=Le.style.top||"",Le.style.left=(0,z.a1)(-this._previousScrollPosition.left),Le.style.top=(0,z.a1)(-this._previousScrollPosition.top),Le.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const Le=this._document.documentElement,N=Le.style,_=this._document.body.style,m=N.scrollBehavior||"",U=_.scrollBehavior||"";this._isEnabled=!1,N.left=this._previousHTMLStyles.left,N.top=this._previousHTMLStyles.top,Le.classList.remove("cdk-global-scrollblock"),J&&(N.scrollBehavior=_.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),J&&(N.scrollBehavior=m,_.scrollBehavior=U)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const lt=this._document.body,N=this._viewportRuler.getViewportSize();return lt.scrollHeight>N.height||lt.scrollWidth>N.width}}class ae{constructor(Le,lt,N,_){this._scrollDispatcher=Le,this._ngZone=lt,this._viewportRuler=N,this._config=_,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(Le){this._overlayRef=Le}enable(){if(this._scrollSubscription)return;const Le=this._scrollDispatcher.scrolled(0).pipe((0,O.p)(lt=>!lt||!this._overlayRef.overlayElement.contains(lt.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=Le.subscribe(()=>{const lt=this._viewportRuler.getViewportScrollPosition().top;Math.abs(lt-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=Le.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class se{enable(){}disable(){}attach(){}}function de(We,Le){return Le.some(lt=>We.bottom<lt.top||We.top>lt.bottom||We.right<lt.left||We.left>lt.right)}function le(We,Le){return Le.some(lt=>We.top<lt.top||We.bottom>lt.bottom||We.left<lt.left||We.right>lt.right)}class be{constructor(Le,lt,N,_){this._scrollDispatcher=Le,this._viewportRuler=lt,this._ngZone=N,this._config=_,this._scrollSubscription=null}attach(Le){this._overlayRef=Le}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const lt=this._overlayRef.overlayElement.getBoundingClientRect(),{width:N,height:_}=this._viewportRuler.getViewportSize();de(lt,[{width:N,height:_,bottom:_,right:N,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let xe=(()=>{class We{constructor(lt,N,_,m){this._scrollDispatcher=lt,this._viewportRuler=N,this._ngZone=_,this.noop=()=>new se,this.close=U=>new ae(this._scrollDispatcher,this._ngZone,this._viewportRuler,U),this.block=()=>new Z(this._viewportRuler,this._document),this.reposition=U=>new be(this._scrollDispatcher,this._viewportRuler,this._ngZone,U),this._document=m}static#e=this.\u0275fac=function(N){return new(N||We)(k.KVO(d.R),k.KVO(d.Xj),k.KVO(k.SKi),k.KVO(E.qQ))};static#t=this.\u0275prov=k.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})();class ke{constructor(Le){if(this.scrollStrategy=new se,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,Le){const lt=Object.keys(Le);for(const N of lt)void 0!==Le[N]&&(this[N]=Le[N])}}}class f{constructor(Le,lt){this.connectionPair=Le,this.scrollableViewProperties=lt}}let M=(()=>{class We{constructor(lt){this._attachedOverlays=[],this._document=lt}ngOnDestroy(){this.detach()}add(lt){this.remove(lt),this._attachedOverlays.push(lt)}remove(lt){const N=this._attachedOverlays.indexOf(lt);N>-1&&this._attachedOverlays.splice(N,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(N){return new(N||We)(k.KVO(E.qQ))};static#t=this.\u0275prov=k.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})(),T=(()=>{class We extends M{constructor(lt,N){super(lt),this._ngZone=N,this._keydownListener=_=>{const m=this._attachedOverlays;for(let U=m.length-1;U>-1;U--)if(m[U]._keydownEvents.observers.length>0){const ne=m[U]._keydownEvents;this._ngZone?this._ngZone.run(()=>ne.next(_)):ne.next(_);break}}}add(lt){super.add(lt),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(N){return new(N||We)(k.KVO(E.qQ),k.KVO(k.SKi,8))};static#t=this.\u0275prov=k.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})(),B=(()=>{class We extends M{constructor(lt,N,_){super(lt),this._platform=N,this._ngZone=_,this._cursorStyleIsSet=!1,this._pointerDownListener=m=>{this._pointerDownEventTarget=(0,x.Fb)(m)},this._clickListener=m=>{const U=(0,x.Fb)(m),ne="click"===m.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:U;this._pointerDownEventTarget=null;const ge=this._attachedOverlays.slice();for(let Ae=ge.length-1;Ae>-1;Ae--){const tt=ge[Ae];if(tt._outsidePointerEvents.observers.length<1||!tt.hasAttached())continue;if(S(tt.overlayElement,U)||S(tt.overlayElement,ne))break;const Bt=tt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Bt.next(m)):Bt.next(m)}}}add(lt){if(super.add(lt),!this._isAttached){const N=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(N)):this._addEventListeners(N),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=N.style.cursor,N.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const lt=this._document.body;lt.removeEventListener("pointerdown",this._pointerDownListener,!0),lt.removeEventListener("click",this._clickListener,!0),lt.removeEventListener("auxclick",this._clickListener,!0),lt.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(lt.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(lt){lt.addEventListener("pointerdown",this._pointerDownListener,!0),lt.addEventListener("click",this._clickListener,!0),lt.addEventListener("auxclick",this._clickListener,!0),lt.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(N){return new(N||We)(k.KVO(E.qQ),k.KVO(x.OD),k.KVO(k.SKi,8))};static#t=this.\u0275prov=k.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})();function S(We,Le){const lt=typeof ShadowRoot<"u"&&ShadowRoot;let N=Le;for(;N;){if(N===We)return!0;N=lt&&N instanceof ShadowRoot?N.host:N.parentNode}return!1}let s=(()=>{class We{constructor(lt,N){this._platform=N,this._document=lt}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const lt="cdk-overlay-container";if(this._platform.isBrowser||(0,x.v8)()){const _=this._document.querySelectorAll(`.${lt}[platform="server"], .${lt}[platform="test"]`);for(let m=0;m<_.length;m++)_[m].remove()}const N=this._document.createElement("div");N.classList.add(lt),(0,x.v8)()?N.setAttribute("platform","test"):this._platform.isBrowser||N.setAttribute("platform","server"),this._document.body.appendChild(N),this._containerElement=N}static#e=this.\u0275fac=function(N){return new(N||We)(k.KVO(E.qQ),k.KVO(x.OD))};static#t=this.\u0275prov=k.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})();class v{constructor(Le,lt,N,_,m,U,ne,ge,Ae,tt=!1,Bt){this._portalOutlet=Le,this._host=lt,this._pane=N,this._config=_,this._ngZone=m,this._keyboardDispatcher=U,this._document=ne,this._location=ge,this._outsideClickDispatcher=Ae,this._animationsDisabled=tt,this._injector=Bt,this._backdropElement=null,this._backdropClick=new j.B,this._attachments=new j.B,this._detachments=new j.B,this._locationChanges=G.yU.EMPTY,this._backdropClickHandler=gt=>this._backdropClick.next(gt),this._backdropTransitionendHandler=gt=>{this._disposeBackdrop(gt.target)},this._keydownEvents=new j.B,this._outsidePointerEvents=new j.B,this._renders=new j.B,_.scrollStrategy&&(this._scrollStrategy=_.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=_.positionStrategy,this._afterRenderRef=(0,k.O8t)(()=>(0,k.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(Le){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const lt=this._portalOutlet.attach(Le);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),(0,k.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof lt?.onDestroy&&lt.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),lt}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const Le=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),Le}dispose(){const Le=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,Le&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(Le){Le!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=Le,this.hasAttached()&&(Le.attach(this),this.updatePosition()))}updateSize(Le){this._config={...this._config,...Le},this._updateElementSize()}setDirection(Le){this._config={...this._config,direction:Le},this._updateElementDirection()}addPanelClass(Le){this._pane&&this._toggleClasses(this._pane,Le,!0)}removePanelClass(Le){this._pane&&this._toggleClasses(this._pane,Le,!1)}getDirection(){const Le=this._config.direction;return Le?"string"==typeof Le?Le:Le.value:"ltr"}updateScrollStrategy(Le){Le!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=Le,this.hasAttached()&&(Le.attach(this),Le.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const Le=this._pane.style;Le.width=(0,z.a1)(this._config.width),Le.height=(0,z.a1)(this._config.height),Le.minWidth=(0,z.a1)(this._config.minWidth),Le.minHeight=(0,z.a1)(this._config.minHeight),Le.maxWidth=(0,z.a1)(this._config.maxWidth),Le.maxHeight=(0,z.a1)(this._config.maxHeight)}_togglePointerEvents(Le){this._pane.style.pointerEvents=Le?"":"none"}_attachBackdrop(){const Le="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(Le)})}):this._backdropElement.classList.add(Le)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const Le=this._backdropElement;if(Le){if(this._animationsDisabled)return void this._disposeBackdrop(Le);Le.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{Le.addEventListener("transitionend",this._backdropTransitionendHandler)}),Le.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(Le)},500))}}_toggleClasses(Le,lt,N){const _=(0,z.FG)(lt||[]).filter(m=>!!m);_.length&&(N?Le.classList.add(..._):Le.classList.remove(..._))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const Le=this._renders.pipe((0,A.Q)((0,re.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),Le.unsubscribe())})})}_disposeScrollStrategy(){const Le=this._scrollStrategy;Le&&(Le.disable(),Le.detach&&Le.detach())}_disposeBackdrop(Le){Le&&(Le.removeEventListener("click",this._backdropClickHandler),Le.removeEventListener("transitionend",this._backdropTransitionendHandler),Le.remove(),this._backdropElement===Le&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const W="cdk-overlay-connected-position-bounding-box",K=/([A-Za-z%]+)$/;class ee{get positions(){return this._preferredPositions}constructor(Le,lt,N,_,m){this._viewportRuler=lt,this._document=N,this._platform=_,this._overlayContainer=m,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new j.B,this._resizeSubscription=G.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(Le)}attach(Le){this._validatePositions(),Le.hostElement.classList.add(W),this._overlayRef=Le,this._boundingBox=Le.hostElement,this._pane=Le.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Le=this._originRect,lt=this._overlayRect,N=this._viewportRect,_=this._containerRect,m=[];let U;for(let ne of this._preferredPositions){let ge=this._getOriginPoint(Le,_,ne),Ae=this._getOverlayPoint(ge,lt,ne),tt=this._getOverlayFit(Ae,lt,N,ne);if(tt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(ne,ge);this._canFitWithFlexibleDimensions(tt,Ae,N)?m.push({position:ne,origin:ge,overlayRect:lt,boundingBoxRect:this._calculateBoundingBoxRect(ge,ne)}):(!U||U.overlayFit.visibleArea<tt.visibleArea)&&(U={overlayFit:tt,overlayPoint:Ae,originPoint:ge,position:ne,overlayRect:lt})}if(m.length){let ne=null,ge=-1;for(const Ae of m){const tt=Ae.boundingBoxRect.width*Ae.boundingBoxRect.height*(Ae.position.weight||1);tt>ge&&(ge=tt,ne=Ae)}return this._isPushed=!1,void this._applyPosition(ne.position,ne.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(U.position,U.originPoint);this._applyPosition(U.position,U.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ce(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(W),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const Le=this._lastPosition;if(Le){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const lt=this._getOriginPoint(this._originRect,this._containerRect,Le);this._applyPosition(Le,lt)}else this.apply()}withScrollableContainers(Le){return this._scrollables=Le,this}withPositions(Le){return this._preferredPositions=Le,-1===Le.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(Le){return this._viewportMargin=Le,this}withFlexibleDimensions(Le=!0){return this._hasFlexibleDimensions=Le,this}withGrowAfterOpen(Le=!0){return this._growAfterOpen=Le,this}withPush(Le=!0){return this._canPush=Le,this}withLockedPosition(Le=!0){return this._positionLocked=Le,this}setOrigin(Le){return this._origin=Le,this}withDefaultOffsetX(Le){return this._offsetX=Le,this}withDefaultOffsetY(Le){return this._offsetY=Le,this}withTransformOriginOn(Le){return this._transformOriginSelector=Le,this}_getOriginPoint(Le,lt,N){let _,m;if("center"==N.originX)_=Le.left+Le.width/2;else{const U=this._isRtl()?Le.right:Le.left,ne=this._isRtl()?Le.left:Le.right;_="start"==N.originX?U:ne}return lt.left<0&&(_-=lt.left),m="center"==N.originY?Le.top+Le.height/2:"top"==N.originY?Le.top:Le.bottom,lt.top<0&&(m-=lt.top),{x:_,y:m}}_getOverlayPoint(Le,lt,N){let _,m;return _="center"==N.overlayX?-lt.width/2:"start"===N.overlayX?this._isRtl()?-lt.width:0:this._isRtl()?0:-lt.width,m="center"==N.overlayY?-lt.height/2:"top"==N.overlayY?0:-lt.height,{x:Le.x+_,y:Le.y+m}}_getOverlayFit(Le,lt,N,_){const m=Oe(lt);let{x:U,y:ne}=Le,ge=this._getOffset(_,"x"),Ae=this._getOffset(_,"y");ge&&(U+=ge),Ae&&(ne+=Ae);let gt=0-ne,It=ne+m.height-N.height,Zt=this._subtractOverflows(m.width,0-U,U+m.width-N.width),mn=this._subtractOverflows(m.height,gt,It),dn=Zt*mn;return{visibleArea:dn,isCompletelyWithinViewport:m.width*m.height===dn,fitsInViewportVertically:mn===m.height,fitsInViewportHorizontally:Zt==m.width}}_canFitWithFlexibleDimensions(Le,lt,N){if(this._hasFlexibleDimensions){const _=N.bottom-lt.y,m=N.right-lt.x,U=_e(this._overlayRef.getConfig().minHeight),ne=_e(this._overlayRef.getConfig().minWidth);return(Le.fitsInViewportVertically||null!=U&&U<=_)&&(Le.fitsInViewportHorizontally||null!=ne&&ne<=m)}return!1}_pushOverlayOnScreen(Le,lt,N){if(this._previousPushAmount&&this._positionLocked)return{x:Le.x+this._previousPushAmount.x,y:Le.y+this._previousPushAmount.y};const _=Oe(lt),m=this._viewportRect,U=Math.max(Le.x+_.width-m.width,0),ne=Math.max(Le.y+_.height-m.height,0),ge=Math.max(m.top-N.top-Le.y,0),Ae=Math.max(m.left-N.left-Le.x,0);let tt=0,Bt=0;return tt=_.width<=m.width?Ae||-U:Le.x<this._viewportMargin?m.left-N.left-Le.x:0,Bt=_.height<=m.height?ge||-ne:Le.y<this._viewportMargin?m.top-N.top-Le.y:0,this._previousPushAmount={x:tt,y:Bt},{x:Le.x+tt,y:Le.y+Bt}}_applyPosition(Le,lt){if(this._setTransformOrigin(Le),this._setOverlayElementStyles(lt,Le),this._setBoundingBoxStyles(lt,Le),Le.panelClass&&this._addPanelClasses(Le.panelClass),this._positionChanges.observers.length){const N=this._getScrollVisibility();if(Le!==this._lastPosition||!this._lastScrollVisibility||!function Ve(We,Le){return We===Le||We.isOriginClipped===Le.isOriginClipped&&We.isOriginOutsideView===Le.isOriginOutsideView&&We.isOverlayClipped===Le.isOverlayClipped&&We.isOverlayOutsideView===Le.isOverlayOutsideView}(this._lastScrollVisibility,N)){const _=new f(Le,N);this._positionChanges.next(_)}this._lastScrollVisibility=N}this._lastPosition=Le,this._isInitialRender=!1}_setTransformOrigin(Le){if(!this._transformOriginSelector)return;const lt=this._boundingBox.querySelectorAll(this._transformOriginSelector);let N,_=Le.overlayY;N="center"===Le.overlayX?"center":this._isRtl()?"start"===Le.overlayX?"right":"left":"start"===Le.overlayX?"left":"right";for(let m=0;m<lt.length;m++)lt[m].style.transformOrigin=`${N} ${_}`}_calculateBoundingBoxRect(Le,lt){const N=this._viewportRect,_=this._isRtl();let m,U,ne,tt,Bt,gt;if("top"===lt.overlayY)U=Le.y,m=N.height-U+this._viewportMargin;else if("bottom"===lt.overlayY)ne=N.height-Le.y+2*this._viewportMargin,m=N.height-ne+this._viewportMargin;else{const It=Math.min(N.bottom-Le.y+N.top,Le.y),Zt=this._lastBoundingBoxSize.height;m=2*It,U=Le.y-It,m>Zt&&!this._isInitialRender&&!this._growAfterOpen&&(U=Le.y-Zt/2)}if("end"===lt.overlayX&&!_||"start"===lt.overlayX&&_)gt=N.width-Le.x+2*this._viewportMargin,tt=Le.x-this._viewportMargin;else if("start"===lt.overlayX&&!_||"end"===lt.overlayX&&_)Bt=Le.x,tt=N.right-Le.x;else{const It=Math.min(N.right-Le.x+N.left,Le.x),Zt=this._lastBoundingBoxSize.width;tt=2*It,Bt=Le.x-It,tt>Zt&&!this._isInitialRender&&!this._growAfterOpen&&(Bt=Le.x-Zt/2)}return{top:U,left:Bt,bottom:ne,right:gt,width:tt,height:m}}_setBoundingBoxStyles(Le,lt){const N=this._calculateBoundingBoxRect(Le,lt);!this._isInitialRender&&!this._growAfterOpen&&(N.height=Math.min(N.height,this._lastBoundingBoxSize.height),N.width=Math.min(N.width,this._lastBoundingBoxSize.width));const _={};if(this._hasExactPosition())_.top=_.left="0",_.bottom=_.right=_.maxHeight=_.maxWidth="",_.width=_.height="100%";else{const m=this._overlayRef.getConfig().maxHeight,U=this._overlayRef.getConfig().maxWidth;_.height=(0,z.a1)(N.height),_.top=(0,z.a1)(N.top),_.bottom=(0,z.a1)(N.bottom),_.width=(0,z.a1)(N.width),_.left=(0,z.a1)(N.left),_.right=(0,z.a1)(N.right),_.alignItems="center"===lt.overlayX?"center":"end"===lt.overlayX?"flex-end":"flex-start",_.justifyContent="center"===lt.overlayY?"center":"bottom"===lt.overlayY?"flex-end":"flex-start",m&&(_.maxHeight=(0,z.a1)(m)),U&&(_.maxWidth=(0,z.a1)(U))}this._lastBoundingBoxSize=N,ce(this._boundingBox.style,_)}_resetBoundingBoxStyles(){ce(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ce(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(Le,lt){const N={},_=this._hasExactPosition(),m=this._hasFlexibleDimensions,U=this._overlayRef.getConfig();if(_){const tt=this._viewportRuler.getViewportScrollPosition();ce(N,this._getExactOverlayY(lt,Le,tt)),ce(N,this._getExactOverlayX(lt,Le,tt))}else N.position="static";let ne="",ge=this._getOffset(lt,"x"),Ae=this._getOffset(lt,"y");ge&&(ne+=`translateX(${ge}px) `),Ae&&(ne+=`translateY(${Ae}px)`),N.transform=ne.trim(),U.maxHeight&&(_?N.maxHeight=(0,z.a1)(U.maxHeight):m&&(N.maxHeight="")),U.maxWidth&&(_?N.maxWidth=(0,z.a1)(U.maxWidth):m&&(N.maxWidth="")),ce(this._pane.style,N)}_getExactOverlayY(Le,lt,N){let _={top:"",bottom:""},m=this._getOverlayPoint(lt,this._overlayRect,Le);return this._isPushed&&(m=this._pushOverlayOnScreen(m,this._overlayRect,N)),"bottom"===Le.overlayY?_.bottom=this._document.documentElement.clientHeight-(m.y+this._overlayRect.height)+"px":_.top=(0,z.a1)(m.y),_}_getExactOverlayX(Le,lt,N){let U,_={left:"",right:""},m=this._getOverlayPoint(lt,this._overlayRect,Le);return this._isPushed&&(m=this._pushOverlayOnScreen(m,this._overlayRect,N)),U=this._isRtl()?"end"===Le.overlayX?"left":"right":"end"===Le.overlayX?"right":"left","right"===U?_.right=this._document.documentElement.clientWidth-(m.x+this._overlayRect.width)+"px":_.left=(0,z.a1)(m.x),_}_getScrollVisibility(){const Le=this._getOriginRect(),lt=this._pane.getBoundingClientRect(),N=this._scrollables.map(_=>_.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:le(Le,N),isOriginOutsideView:de(Le,N),isOverlayClipped:le(lt,N),isOverlayOutsideView:de(lt,N)}}_subtractOverflows(Le,...lt){return lt.reduce((N,_)=>N-Math.max(_,0),Le)}_getNarrowedViewportRect(){const Le=this._document.documentElement.clientWidth,lt=this._document.documentElement.clientHeight,N=this._viewportRuler.getViewportScrollPosition();return{top:N.top+this._viewportMargin,left:N.left+this._viewportMargin,right:N.left+Le-this._viewportMargin,bottom:N.top+lt-this._viewportMargin,width:Le-2*this._viewportMargin,height:lt-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(Le,lt){return"x"===lt?null==Le.offsetX?this._offsetX:Le.offsetX:null==Le.offsetY?this._offsetY:Le.offsetY}_validatePositions(){}_addPanelClasses(Le){this._pane&&(0,z.FG)(Le).forEach(lt=>{""!==lt&&-1===this._appliedPanelClasses.indexOf(lt)&&(this._appliedPanelClasses.push(lt),this._pane.classList.add(lt))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(Le=>{this._pane.classList.remove(Le)}),this._appliedPanelClasses=[])}_getOriginRect(){const Le=this._origin;if(Le instanceof k.aKT)return Le.nativeElement.getBoundingClientRect();if(Le instanceof Element)return Le.getBoundingClientRect();const lt=Le.width||0,N=Le.height||0;return{top:Le.y,bottom:Le.y+N,left:Le.x,right:Le.x+lt,height:N,width:lt}}}function ce(We,Le){for(let lt in Le)Le.hasOwnProperty(lt)&&(We[lt]=Le[lt]);return We}function _e(We){if("number"!=typeof We&&null!=We){const[Le,lt]=We.split(K);return lt&&"px"!==lt?null:parseFloat(Le)}return We||null}function Oe(We){return{top:Math.floor(We.top),right:Math.floor(We.right),bottom:Math.floor(We.bottom),left:Math.floor(We.left),width:Math.floor(We.width),height:Math.floor(We.height)}}const Se=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}],we=[{originX:"end",originY:"top",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"start",overlayY:"bottom"},{originX:"start",originY:"top",overlayX:"end",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"end",overlayY:"bottom"}],Ue="cdk-global-overlay-wrapper";class ye{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(Le){const lt=Le.getConfig();this._overlayRef=Le,this._width&&!lt.width&&Le.updateSize({width:this._width}),this._height&&!lt.height&&Le.updateSize({height:this._height}),Le.hostElement.classList.add(Ue),this._isDisposed=!1}top(Le=""){return this._bottomOffset="",this._topOffset=Le,this._alignItems="flex-start",this}left(Le=""){return this._xOffset=Le,this._xPosition="left",this}bottom(Le=""){return this._topOffset="",this._bottomOffset=Le,this._alignItems="flex-end",this}right(Le=""){return this._xOffset=Le,this._xPosition="right",this}start(Le=""){return this._xOffset=Le,this._xPosition="start",this}end(Le=""){return this._xOffset=Le,this._xPosition="end",this}width(Le=""){return this._overlayRef?this._overlayRef.updateSize({width:Le}):this._width=Le,this}height(Le=""){return this._overlayRef?this._overlayRef.updateSize({height:Le}):this._height=Le,this}centerHorizontally(Le=""){return this.left(Le),this._xPosition="center",this}centerVertically(Le=""){return this.top(Le),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const Le=this._overlayRef.overlayElement.style,lt=this._overlayRef.hostElement.style,N=this._overlayRef.getConfig(),{width:_,height:m,maxWidth:U,maxHeight:ne}=N,ge=!("100%"!==_&&"100vw"!==_||U&&"100%"!==U&&"100vw"!==U),Ae=!("100%"!==m&&"100vh"!==m||ne&&"100%"!==ne&&"100vh"!==ne),tt=this._xPosition,Bt=this._xOffset,gt="rtl"===this._overlayRef.getConfig().direction;let It="",Zt="",mn="";ge?mn="flex-start":"center"===tt?(mn="center",gt?Zt=Bt:It=Bt):gt?"left"===tt||"end"===tt?(mn="flex-end",It=Bt):("right"===tt||"start"===tt)&&(mn="flex-start",Zt=Bt):"left"===tt||"start"===tt?(mn="flex-start",It=Bt):("right"===tt||"end"===tt)&&(mn="flex-end",Zt=Bt),Le.position=this._cssPosition,Le.marginLeft=ge?"0":It,Le.marginTop=Ae?"0":this._topOffset,Le.marginBottom=this._bottomOffset,Le.marginRight=ge?"0":Zt,lt.justifyContent=mn,lt.alignItems=Ae?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const Le=this._overlayRef.overlayElement.style,lt=this._overlayRef.hostElement,N=lt.style;lt.classList.remove(Ue),N.justifyContent=N.alignItems=Le.marginTop=Le.marginBottom=Le.marginLeft=Le.marginRight=Le.position="",this._overlayRef=null,this._isDisposed=!0}}let De=(()=>{class We{constructor(lt,N,_,m){this._viewportRuler=lt,this._document=N,this._platform=_,this._overlayContainer=m}global(){return new ye}flexibleConnectedTo(lt){return new ee(lt,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(N){return new(N||We)(k.KVO(d.Xj),k.KVO(E.qQ),k.KVO(x.OD),k.KVO(s))};static#t=this.\u0275prov=k.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})(),pe=0,ue=(()=>{class We{constructor(lt,N,_,m,U,ne,ge,Ae,tt,Bt,gt,It){this.scrollStrategies=lt,this._overlayContainer=N,this._componentFactoryResolver=_,this._positionBuilder=m,this._keyboardDispatcher=U,this._injector=ne,this._ngZone=ge,this._document=Ae,this._directionality=tt,this._location=Bt,this._outsideClickDispatcher=gt,this._animationsModuleType=It}create(lt){const N=this._createHostElement(),_=this._createPaneElement(N),m=this._createPortalOutlet(_),U=new ke(lt);return U.direction=U.direction||this._directionality.value,new v(m,N,_,U,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(k.uvJ))}position(){return this._positionBuilder}_createPaneElement(lt){const N=this._document.createElement("div");return N.id="cdk-overlay-"+pe++,N.classList.add("cdk-overlay-pane"),lt.appendChild(N),N}_createHostElement(){const lt=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(lt),lt}_createPortalOutlet(lt){return this._appRef||(this._appRef=this._injector.get(k.o8S)),new X.aI(lt,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(N){return new(N||We)(k.KVO(xe),k.KVO(s),k.KVO(k.OM3),k.KVO(De),k.KVO(T),k.KVO(k.zZn),k.KVO(k.SKi),k.KVO(E.qQ),k.KVO(D.dS),k.KVO(E.aZ),k.KVO(B),k.KVO(k.bc$,8))};static#t=this.\u0275prov=k.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})();const Q=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],oe=new k.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const We=(0,k.WQX)(ue);return()=>We.scrollStrategies.reposition()}});let fe=(()=>{class We{constructor(lt){this.elementRef=lt}static#e=this.\u0275fac=function(N){return new(N||We)(k.rXU(k.aKT))};static#t=this.\u0275dir=k.FsC({type:We,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return We})(),Ee=(()=>{class We{get offsetX(){return this._offsetX}set offsetX(lt){this._offsetX=lt,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(lt){this._offsetY=lt,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(lt){this._disposeOnNavigation=lt}constructor(lt,N,_,m,U){this._overlay=lt,this._dir=U,this._backdropSubscription=G.yU.EMPTY,this._attachSubscription=G.yU.EMPTY,this._detachSubscription=G.yU.EMPTY,this._positionSubscription=G.yU.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,k.WQX)(k.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new k.bkB,this.positionChange=new k.bkB,this.attach=new k.bkB,this.detach=new k.bkB,this.overlayKeydown=new k.bkB,this.overlayOutsideClick=new k.bkB,this._templatePortal=new X.VA(N,_),this._scrollStrategyFactory=m,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(lt){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),lt.origin&&this.open&&this._position.apply()),lt.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Q);const lt=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=lt.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=lt.detachments().subscribe(()=>this.detach.emit()),lt.keydownEvents().subscribe(N=>{this.overlayKeydown.next(N),N.keyCode===te._f&&!this.disableClose&&!(0,te.rp)(N)&&(N.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(N=>{const _=this._getOriginElement(),m=(0,x.Fb)(N);(!_||_!==m&&!_.contains(m))&&this.overlayOutsideClick.next(N)})}_buildConfig(){const lt=this._position=this.positionStrategy||this._createPositionStrategy(),N=new ke({direction:this._dir,positionStrategy:lt,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(N.width=this.width),(this.height||0===this.height)&&(N.height=this.height),(this.minWidth||0===this.minWidth)&&(N.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(N.minHeight=this.minHeight),this.backdropClass&&(N.backdropClass=this.backdropClass),this.panelClass&&(N.panelClass=this.panelClass),N}_updatePositionStrategy(lt){const N=this.positions.map(_=>({originX:_.originX,originY:_.originY,overlayX:_.overlayX,overlayY:_.overlayY,offsetX:_.offsetX||this.offsetX,offsetY:_.offsetY||this.offsetY,panelClass:_.panelClass||void 0}));return lt.setOrigin(this._getOrigin()).withPositions(N).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const lt=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(lt),lt}_getOrigin(){return this.origin instanceof fe?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof fe?this.origin.elementRef.nativeElement:this.origin instanceof k.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(lt=>{this.backdropClick.emit(lt)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function L(We,Le=!1){return(0,P.N)((lt,N)=>{let _=0;lt.subscribe((0,F._)(N,m=>{const U=We(m,_++);(U||Le)&&N.next(m),!U&&N.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(lt=>{this._ngZone.run(()=>this.positionChange.emit(lt)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(N){return new(N||We)(k.rXU(ue),k.rXU(k.C4Q),k.rXU(k.c1b),k.rXU(oe),k.rXU(D.dS,8))};static#t=this.\u0275dir=k.FsC({type:We,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",k.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",k.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",k.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",k.L39],push:[2,"cdkConnectedOverlayPush","push",k.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",k.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[k.GFd,k.OA$]})}return We})();const $e={provide:oe,deps:[ue],useFactory:function Re(We){return()=>We.scrollStrategies.reposition()}};let Fe=(()=>{class We{static#e=this.\u0275fac=function(N){return new(N||We)};static#t=this.\u0275mod=k.$C({type:We});static#n=this.\u0275inj=k.G2t({providers:[ue,$e],imports:[D.jI,X.jc,d.E9,d.E9]})}return We})()},36860:(je,H,w)=>{"use strict";w.d(H,{BD:()=>te,BQ:()=>D,CZ:()=>re,Fb:()=>se,KT:()=>ie,MU:()=>P,OD:()=>z,r5:()=>X,v8:()=>de,vc:()=>ae});var d=w(93953),E=w(60177);let k;try{k=typeof Intl<"u"&&Intl.v8BreakIterator}catch{k=!1}let O,z=(()=>{class le{constructor(xe){this._platformId=xe,this.isBrowser=this._platformId?(0,E.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!k)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(ke){return new(ke||le)(d.KVO(d.Agw))};static#t=this.\u0275prov=d.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();const A=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function P(){if(O)return O;if("object"!=typeof document||!document)return O=new Set(A),O;let le=document.createElement("input");return O=new Set(A.filter(be=>(le.setAttribute("type",be),le.type===be))),O}let F;function D(le){return function L(){if(null==F&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>F=!0}))}finally{F=F||!1}return F}()?le:!!le.capture}var X=function(le){return le[le.NORMAL=0]="NORMAL",le[le.NEGATED=1]="NEGATED",le[le.INVERTED=2]="INVERTED",le}(X||{});let j,G,J;function re(){if(null==G){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return G=!1,G;if("scrollBehavior"in document.documentElement.style)G=!0;else{const le=Element.prototype.scrollTo;G=!!le&&!/\{\s*\[native code\]\s*\}/.test(le.toString())}}return G}function te(){if("object"!=typeof document||!document)return X.NORMAL;if(null==j){const le=document.createElement("div"),be=le.style;le.dir="rtl",be.width="1px",be.overflow="auto",be.visibility="hidden",be.pointerEvents="none",be.position="absolute";const xe=document.createElement("div"),ke=xe.style;ke.width="2px",ke.height="1px",le.appendChild(xe),document.body.appendChild(le),j=X.NORMAL,0===le.scrollLeft&&(le.scrollLeft=1,j=0===le.scrollLeft?X.NEGATED:X.INVERTED),le.remove()}return j}function ie(le){if(function Z(){if(null==J){const le=typeof document<"u"?document.head:null;J=!(!le||!le.createShadowRoot&&!le.attachShadow)}return J}()){const be=le.getRootNode?le.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&be instanceof ShadowRoot)return be}return null}function ae(){let le=typeof document<"u"&&document?document.activeElement:null;for(;le&&le.shadowRoot;){const be=le.shadowRoot.activeElement;if(be===le)break;le=be}return le}function se(le){return le.composedPath?le.composedPath()[0]:le.target}function de(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},76939:(je,H,w)=>{"use strict";w.d(H,{A8:()=>L,I3:()=>ie,VA:()=>D,aI:()=>re,bV:()=>J,jc:()=>se,lb:()=>j});var d=w(93953),E=w(60177);class F{attach(be){return this._attachedHost=be,be.attach(this)}detach(){let be=this._attachedHost;null!=be&&(this._attachedHost=null,be.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(be){this._attachedHost=be}}class L extends F{constructor(be,xe,ke,C,a){super(),this.component=be,this.viewContainerRef=xe,this.injector=ke,this.componentFactoryResolver=C,this.projectableNodes=a}}class D extends F{constructor(be,xe,ke,C){super(),this.templateRef=be,this.viewContainerRef=xe,this.context=ke,this.injector=C}get origin(){return this.templateRef.elementRef}attach(be,xe=this.context){return this.context=xe,super.attach(be)}detach(){return this.context=void 0,super.detach()}}class X extends F{constructor(be){super(),this.element=be instanceof d.aKT?be.nativeElement:be}}class j{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(be){return be instanceof L?(this._attachedPortal=be,this.attachComponentPortal(be)):be instanceof D?(this._attachedPortal=be,this.attachTemplatePortal(be)):this.attachDomPortal&&be instanceof X?(this._attachedPortal=be,this.attachDomPortal(be)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(be){this._disposeFn=be}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class re extends j{constructor(be,xe,ke,C,a){super(),this.outletElement=be,this._componentFactoryResolver=xe,this._appRef=ke,this._defaultInjector=C,this.attachDomPortal=f=>{const y=f.element,g=this._document.createComment("dom-portal");y.parentNode.insertBefore(g,y),this.outletElement.appendChild(y),this._attachedPortal=f,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(y,g)})},this._document=a}attachComponentPortal(be){const ke=(be.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(be.component);let C;return be.viewContainerRef?(C=be.viewContainerRef.createComponent(ke,be.viewContainerRef.length,be.injector||be.viewContainerRef.injector,be.projectableNodes||void 0),this.setDisposeFn(()=>C.destroy())):(C=ke.create(be.injector||this._defaultInjector||d.zZn.NULL),this._appRef.attachView(C.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(C.hostView),C.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(C)),this._attachedPortal=be,C}attachTemplatePortal(be){let xe=be.viewContainerRef,ke=xe.createEmbeddedView(be.templateRef,be.context,{injector:be.injector});return ke.rootNodes.forEach(C=>this.outletElement.appendChild(C)),ke.detectChanges(),this.setDisposeFn(()=>{let C=xe.indexOf(ke);-1!==C&&xe.remove(C)}),this._attachedPortal=be,ke}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(be){return be.hostView.rootNodes[0]}}let J=(()=>{class le extends D{constructor(xe,ke){super(xe,ke)}static#e=this.\u0275fac=function(ke){return new(ke||le)(d.rXU(d.C4Q),d.rXU(d.c1b))};static#t=this.\u0275dir=d.FsC({type:le,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[d.Vt3]})}return le})(),ie=(()=>{class le extends j{constructor(xe,ke,C){super(),this._componentFactoryResolver=xe,this._viewContainerRef=ke,this._isInitialized=!1,this.attached=new d.bkB,this.attachDomPortal=a=>{const f=a.element,y=this._document.createComment("dom-portal");a.setAttachedHost(this),f.parentNode.insertBefore(y,f),this._getRootNode().appendChild(f),this._attachedPortal=a,super.setDisposeFn(()=>{y.parentNode&&y.parentNode.replaceChild(f,y)})},this._document=C}get portal(){return this._attachedPortal}set portal(xe){this.hasAttached()&&!xe&&!this._isInitialized||(this.hasAttached()&&super.detach(),xe&&super.attach(xe),this._attachedPortal=xe||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(xe){xe.setAttachedHost(this);const ke=null!=xe.viewContainerRef?xe.viewContainerRef:this._viewContainerRef,a=(xe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(xe.component),f=ke.createComponent(a,ke.length,xe.injector||ke.injector,xe.projectableNodes||void 0);return ke!==this._viewContainerRef&&this._getRootNode().appendChild(f.hostView.rootNodes[0]),super.setDisposeFn(()=>f.destroy()),this._attachedPortal=xe,this._attachedRef=f,this.attached.emit(f),f}attachTemplatePortal(xe){xe.setAttachedHost(this);const ke=this._viewContainerRef.createEmbeddedView(xe.templateRef,xe.context,{injector:xe.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=xe,this._attachedRef=ke,this.attached.emit(ke),ke}_getRootNode(){const xe=this._viewContainerRef.element.nativeElement;return xe.nodeType===xe.ELEMENT_NODE?xe:xe.parentNode}static#e=this.\u0275fac=function(ke){return new(ke||le)(d.rXU(d.OM3),d.rXU(d.c1b),d.rXU(E.qQ))};static#t=this.\u0275dir=d.FsC({type:le,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[d.Vt3]})}return le})(),se=(()=>{class le{static#e=this.\u0275fac=function(ke){return new(ke||le)};static#t=this.\u0275mod=d.$C({type:le});static#n=this.\u0275inj=d.G2t({})}return le})()},67333:(je,H,w)=>{"use strict";w.d(H,{uv:()=>f,Gj:()=>ce,R:()=>a,E9:()=>_e,Xj:()=>g});var d=w(14085),E=w(93953),k=w(21413),z=w(7673),x=w(71985),O=w(33726),F=(w(30536),w(25007),w(43236)),L=w(39974),D=w(58750),X=w(54360),G=w(41584);function re(Oe,Ve=F.E){return function j(Oe){return(0,L.N)((Ve,Se)=>{let we=!1,Ue=null,ye=null,De=!1;const pe=()=>{if(ye?.unsubscribe(),ye=null,we){we=!1;const Q=Ue;Ue=null,Se.next(Q)}De&&Se.complete()},ue=()=>{ye=null,De&&Se.complete()};Ve.subscribe((0,X._)(Se,Q=>{we=!0,Ue=Q,ye||(0,D.Tg)(Oe(Q)).subscribe(ye=(0,X._)(Se,pe,ue))},()=>{De=!0,(!we||!ye||ye.closed)&&Se.complete()}))})}(()=>(0,G.O)(Oe,Ve))}var te=w(5964),J=w(56977),Z=w(36860),ie=w(60177),ae=w(28203);let a=(()=>{class Oe{constructor(Se,we,Ue){this._ngZone=Se,this._platform=we,this._scrolled=new k.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Ue}register(Se){this.scrollContainers.has(Se)||this.scrollContainers.set(Se,Se.elementScrolled().subscribe(()=>this._scrolled.next(Se)))}deregister(Se){const we=this.scrollContainers.get(Se);we&&(we.unsubscribe(),this.scrollContainers.delete(Se))}scrolled(Se=20){return this._platform.isBrowser?new x.c(we=>{this._globalSubscription||this._addGlobalListener();const Ue=Se>0?this._scrolled.pipe(re(Se)).subscribe(we):this._scrolled.subscribe(we);return this._scrolledCount++,()=>{Ue.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,z.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Se,we)=>this.deregister(we)),this._scrolled.complete()}ancestorScrolled(Se,we){const Ue=this.getAncestorScrollContainers(Se);return this.scrolled(we).pipe((0,te.p)(ye=>!ye||Ue.indexOf(ye)>-1))}getAncestorScrollContainers(Se){const we=[];return this.scrollContainers.forEach((Ue,ye)=>{this._scrollableContainsElement(ye,Se)&&we.push(ye)}),we}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Se,we){let Ue=(0,d.i8)(we),ye=Se.getElementRef().nativeElement;do{if(Ue==ye)return!0}while(Ue=Ue.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Se=this._getWindow();return(0,O.R)(Se.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(we){return new(we||Oe)(E.KVO(E.SKi),E.KVO(Z.OD),E.KVO(ie.qQ,8))};static#t=this.\u0275prov=E.jDH({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}return Oe})(),f=(()=>{class Oe{constructor(Se,we,Ue,ye){this.elementRef=Se,this.scrollDispatcher=we,this.ngZone=Ue,this.dir=ye,this._destroyed=new k.B,this._elementScrolled=new x.c(De=>this.ngZone.runOutsideAngular(()=>(0,O.R)(this.elementRef.nativeElement,"scroll").pipe((0,J.Q)(this._destroyed)).subscribe(De)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(Se){const we=this.elementRef.nativeElement,Ue=this.dir&&"rtl"==this.dir.value;null==Se.left&&(Se.left=Ue?Se.end:Se.start),null==Se.right&&(Se.right=Ue?Se.start:Se.end),null!=Se.bottom&&(Se.top=we.scrollHeight-we.clientHeight-Se.bottom),Ue&&(0,Z.BD)()!=Z.r5.NORMAL?(null!=Se.left&&(Se.right=we.scrollWidth-we.clientWidth-Se.left),(0,Z.BD)()==Z.r5.INVERTED?Se.left=Se.right:(0,Z.BD)()==Z.r5.NEGATED&&(Se.left=Se.right?-Se.right:Se.right)):null!=Se.right&&(Se.left=we.scrollWidth-we.clientWidth-Se.right),this._applyScrollToOptions(Se)}_applyScrollToOptions(Se){const we=this.elementRef.nativeElement;(0,Z.CZ)()?we.scrollTo(Se):(null!=Se.top&&(we.scrollTop=Se.top),null!=Se.left&&(we.scrollLeft=Se.left))}measureScrollOffset(Se){const we="left",ye=this.elementRef.nativeElement;if("top"==Se)return ye.scrollTop;if("bottom"==Se)return ye.scrollHeight-ye.clientHeight-ye.scrollTop;const De=this.dir&&"rtl"==this.dir.value;return"start"==Se?Se=De?"right":we:"end"==Se&&(Se=De?we:"right"),De&&(0,Z.BD)()==Z.r5.INVERTED?Se==we?ye.scrollWidth-ye.clientWidth-ye.scrollLeft:ye.scrollLeft:De&&(0,Z.BD)()==Z.r5.NEGATED?Se==we?ye.scrollLeft+ye.scrollWidth-ye.clientWidth:-ye.scrollLeft:Se==we?ye.scrollLeft:ye.scrollWidth-ye.clientWidth-ye.scrollLeft}static#e=this.\u0275fac=function(we){return new(we||Oe)(E.rXU(E.aKT),E.rXU(a),E.rXU(E.SKi),E.rXU(ae.dS,8))};static#t=this.\u0275dir=E.FsC({type:Oe,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return Oe})(),g=(()=>{class Oe{constructor(Se,we,Ue){this._platform=Se,this._change=new k.B,this._changeListener=ye=>{this._change.next(ye)},this._document=Ue,we.runOutsideAngular(()=>{if(Se.isBrowser){const ye=this._getWindow();ye.addEventListener("resize",this._changeListener),ye.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Se=this._getWindow();Se.removeEventListener("resize",this._changeListener),Se.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Se={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Se}getViewportRect(){const Se=this.getViewportScrollPosition(),{width:we,height:Ue}=this.getViewportSize();return{top:Se.top,left:Se.left,bottom:Se.top+Ue,right:Se.left+we,height:Ue,width:we}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Se=this._document,we=this._getWindow(),Ue=Se.documentElement,ye=Ue.getBoundingClientRect();return{top:-ye.top||Se.body.scrollTop||we.scrollY||Ue.scrollTop||0,left:-ye.left||Se.body.scrollLeft||we.scrollX||Ue.scrollLeft||0}}change(Se=20){return Se>0?this._change.pipe(re(Se)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Se=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Se.innerWidth,height:Se.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(we){return new(we||Oe)(E.KVO(Z.OD),E.KVO(E.SKi),E.KVO(ie.qQ,8))};static#t=this.\u0275prov=E.jDH({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}return Oe})(),ce=(()=>{class Oe{static#e=this.\u0275fac=function(we){return new(we||Oe)};static#t=this.\u0275mod=E.$C({type:Oe});static#n=this.\u0275inj=E.G2t({})}return Oe})(),_e=(()=>{class Oe{static#e=this.\u0275fac=function(we){return new(we||Oe)};static#t=this.\u0275mod=E.$C({type:Oe});static#n=this.\u0275inj=E.G2t({imports:[ae.jI,ce,ae.jI,ce]})}return Oe})()},60177:(je,H,w)=>{"use strict";w.d(H,{AJ:()=>lo,B3:()=>fi,Jj:()=>ps,MD:()=>mc,N0:()=>Ll,QT:()=>k,Sm:()=>te,Sq:()=>Tn,T3:()=>Ni,UE:()=>Eo,VF:()=>x,Vy:()=>dd,Xr:()=>ds,YU:()=>jr,ZD:()=>z,_b:()=>_r,aZ:()=>Z,bT:()=>Ar,fw:()=>J,hb:()=>G,hj:()=>F,qQ:()=>A,vh:()=>Qd});var d=w(93953);let E=null;function k(){return E}function z(st){E??=st}class x{}const A=new d.nKC("");let P=(()=>{class st{historyGo(Tt){throw new Error("")}static#e=this.\u0275fac=function(Kt){return new(Kt||st)};static#t=this.\u0275prov=d.jDH({token:st,factory:()=>(0,d.WQX)(L),providedIn:"platform"})}return st})();const F=new d.nKC("");let L=(()=>{class st extends P{constructor(){super(),this._doc=(0,d.WQX)(A),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(Tt){const Kt=k().getGlobalEventTarget(this._doc,"window");return Kt.addEventListener("popstate",Tt,!1),()=>Kt.removeEventListener("popstate",Tt)}onHashChange(Tt){const Kt=k().getGlobalEventTarget(this._doc,"window");return Kt.addEventListener("hashchange",Tt,!1),()=>Kt.removeEventListener("hashchange",Tt)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Tt){this._location.pathname=Tt}pushState(Tt,Kt,Mn){this._history.pushState(Tt,Kt,Mn)}replaceState(Tt,Kt,Mn){this._history.replaceState(Tt,Kt,Mn)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Tt=0){this._history.go(Tt)}getState(){return this._history.state}static#e=this.\u0275fac=function(Kt){return new(Kt||st)};static#t=this.\u0275prov=d.jDH({token:st,factory:()=>new st,providedIn:"platform"})}return st})();function D(st,Jt){if(0==st.length)return Jt;if(0==Jt.length)return st;let Tt=0;return st.endsWith("/")&&Tt++,Jt.startsWith("/")&&Tt++,2==Tt?st+Jt.substring(1):1==Tt?st+Jt:st+"/"+Jt}function X(st){const Jt=st.match(/#|\?|$/),Tt=Jt&&Jt.index||st.length;return st.slice(0,Tt-("/"===st[Tt-1]?1:0))+st.slice(Tt)}function j(st){return st&&"?"!==st[0]?"?"+st:st}let G=(()=>{class st{historyGo(Tt){throw new Error("")}static#e=this.\u0275fac=function(Kt){return new(Kt||st)};static#t=this.\u0275prov=d.jDH({token:st,factory:()=>(0,d.WQX)(te),providedIn:"root"})}return st})();const re=new d.nKC("");let te=(()=>{class st extends G{constructor(Tt,Kt){super(),this._platformLocation=Tt,this._removeListenerFns=[],this._baseHref=Kt??this._platformLocation.getBaseHrefFromDOM()??(0,d.WQX)(A).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Tt){this._removeListenerFns.push(this._platformLocation.onPopState(Tt),this._platformLocation.onHashChange(Tt))}getBaseHref(){return this._baseHref}prepareExternalUrl(Tt){return D(this._baseHref,Tt)}path(Tt=!1){const Kt=this._platformLocation.pathname+j(this._platformLocation.search),Mn=this._platformLocation.hash;return Mn&&Tt?`${Kt}${Mn}`:Kt}pushState(Tt,Kt,Mn,tr){const br=this.prepareExternalUrl(Mn+j(tr));this._platformLocation.pushState(Tt,Kt,br)}replaceState(Tt,Kt,Mn,tr){const br=this.prepareExternalUrl(Mn+j(tr));this._platformLocation.replaceState(Tt,Kt,br)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Tt=0){this._platformLocation.historyGo?.(Tt)}static#e=this.\u0275fac=function(Kt){return new(Kt||st)(d.KVO(P),d.KVO(re,8))};static#t=this.\u0275prov=d.jDH({token:st,factory:st.\u0275fac,providedIn:"root"})}return st})(),J=(()=>{class st extends G{constructor(Tt,Kt){super(),this._platformLocation=Tt,this._baseHref="",this._removeListenerFns=[],null!=Kt&&(this._baseHref=Kt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Tt){this._removeListenerFns.push(this._platformLocation.onPopState(Tt),this._platformLocation.onHashChange(Tt))}getBaseHref(){return this._baseHref}path(Tt=!1){const Kt=this._platformLocation.hash??"#";return Kt.length>0?Kt.substring(1):Kt}prepareExternalUrl(Tt){const Kt=D(this._baseHref,Tt);return Kt.length>0?"#"+Kt:Kt}pushState(Tt,Kt,Mn,tr){let br=this.prepareExternalUrl(Mn+j(tr));0==br.length&&(br=this._platformLocation.pathname),this._platformLocation.pushState(Tt,Kt,br)}replaceState(Tt,Kt,Mn,tr){let br=this.prepareExternalUrl(Mn+j(tr));0==br.length&&(br=this._platformLocation.pathname),this._platformLocation.replaceState(Tt,Kt,br)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Tt=0){this._platformLocation.historyGo?.(Tt)}static#e=this.\u0275fac=function(Kt){return new(Kt||st)(d.KVO(P),d.KVO(re,8))};static#t=this.\u0275prov=d.jDH({token:st,factory:st.\u0275fac})}return st})(),Z=(()=>{class st{constructor(Tt){this._subject=new d.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Tt;const Kt=this._locationStrategy.getBaseHref();this._basePath=function de(st){if(new RegExp("^(https?:)?//").test(st)){const[,Tt]=st.split(/\/\/[^\/]+/);return Tt}return st}(X(se(Kt))),this._locationStrategy.onPopState(Mn=>{this._subject.emit({url:this.path(!0),pop:!0,state:Mn.state,type:Mn.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Tt=!1){return this.normalize(this._locationStrategy.path(Tt))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Tt,Kt=""){return this.path()==this.normalize(Tt+j(Kt))}normalize(Tt){return st.stripTrailingSlash(function ae(st,Jt){if(!st||!Jt.startsWith(st))return Jt;const Tt=Jt.substring(st.length);return""===Tt||["/",";","?","#"].includes(Tt[0])?Tt:Jt}(this._basePath,se(Tt)))}prepareExternalUrl(Tt){return Tt&&"/"!==Tt[0]&&(Tt="/"+Tt),this._locationStrategy.prepareExternalUrl(Tt)}go(Tt,Kt="",Mn=null){this._locationStrategy.pushState(Mn,"",Tt,Kt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Tt+j(Kt)),Mn)}replaceState(Tt,Kt="",Mn=null){this._locationStrategy.replaceState(Mn,"",Tt,Kt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Tt+j(Kt)),Mn)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Tt=0){this._locationStrategy.historyGo?.(Tt)}onUrlChange(Tt){return this._urlChangeListeners.push(Tt),this._urlChangeSubscription??=this.subscribe(Kt=>{this._notifyUrlChangeListeners(Kt.url,Kt.state)}),()=>{const Kt=this._urlChangeListeners.indexOf(Tt);this._urlChangeListeners.splice(Kt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Tt="",Kt){this._urlChangeListeners.forEach(Mn=>Mn(Tt,Kt))}subscribe(Tt,Kt,Mn){return this._subject.subscribe({next:Tt,error:Kt,complete:Mn})}static#e=this.normalizeQueryParams=j;static#t=this.joinWithSlash=D;static#n=this.stripTrailingSlash=X;static#f=this.\u0275fac=function(Kt){return new(Kt||st)(d.KVO(G))};static#A=this.\u0275prov=d.jDH({token:st,factory:()=>function ie(){return new Z((0,d.KVO)(G))}(),providedIn:"root"})}return st})();function se(st){return st.replace(/\/index.html$/,"")}var ke=function(st){return st[st.Format=0]="Format",st[st.Standalone=1]="Standalone",st}(ke||{}),C=function(st){return st[st.Narrow=0]="Narrow",st[st.Abbreviated=1]="Abbreviated",st[st.Wide=2]="Wide",st[st.Short=3]="Short",st}(C||{}),a=function(st){return st[st.Short=0]="Short",st[st.Medium=1]="Medium",st[st.Long=2]="Long",st[st.Full=3]="Full",st}(a||{});const f={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function W(st,Jt){return Q((0,d.H5H)(st)[d.KH2.DateFormat],Jt)}function K(st,Jt){return Q((0,d.H5H)(st)[d.KH2.TimeFormat],Jt)}function ee(st,Jt){return Q((0,d.H5H)(st)[d.KH2.DateTimeFormat],Jt)}function ce(st,Jt){const Tt=(0,d.H5H)(st),Kt=Tt[d.KH2.NumberSymbols][Jt];if(typeof Kt>"u"){if(Jt===f.CurrencyDecimal)return Tt[d.KH2.NumberSymbols][f.Decimal];if(Jt===f.CurrencyGroup)return Tt[d.KH2.NumberSymbols][f.Group]}return Kt}function ye(st){if(!st[d.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${st[d.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Q(st,Jt){for(let Tt=Jt;Tt>-1;Tt--)if(typeof st[Tt]<"u")return st[Tt];throw new Error("Locale data API: locale data undefined")}function oe(st){const[Jt,Tt]=st.split(":");return{hours:+Jt,minutes:+Tt}}const $e=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Fe={},_t=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var We=function(st){return st[st.Short=0]="Short",st[st.ShortGMT=1]="ShortGMT",st[st.Long=2]="Long",st[st.Extended=3]="Extended",st}(We||{}),Le=function(st){return st[st.FullYear=0]="FullYear",st[st.Month=1]="Month",st[st.Date=2]="Date",st[st.Hours=3]="Hours",st[st.Minutes=4]="Minutes",st[st.Seconds=5]="Seconds",st[st.FractionalSeconds=6]="FractionalSeconds",st[st.Day=7]="Day",st}(Le||{}),lt=function(st){return st[st.DayPeriods=0]="DayPeriods",st[st.Days=1]="Days",st[st.Months=2]="Months",st[st.Eras=3]="Eras",st}(lt||{});function N(st,Jt,Tt,Kt){let Mn=function hn(st){if(vt(st))return st;if("number"==typeof st&&!isNaN(st))return new Date(st);if("string"==typeof st){if(st=st.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(st)){const[Mn,tr=1,br=1]=st.split("-").map(Jr=>+Jr);return _(Mn,tr-1,br)}const Tt=parseFloat(st);if(!isNaN(st-Tt))return new Date(Tt);let Kt;if(Kt=st.match($e))return function hr(st){const Jt=new Date(0);let Tt=0,Kt=0;const Mn=st[8]?Jt.setUTCFullYear:Jt.setFullYear,tr=st[8]?Jt.setUTCHours:Jt.setHours;st[9]&&(Tt=Number(st[9]+st[10]),Kt=Number(st[9]+st[11])),Mn.call(Jt,Number(st[1]),Number(st[2])-1,Number(st[3]));const br=Number(st[4]||0)-Tt,Jr=Number(st[5]||0)-Kt,xs=Number(st[6]||0),ji=Math.floor(1e3*parseFloat("0."+(st[7]||0)));return tr.call(Jt,br,Jr,xs,ji),Jt}(Kt)}const Jt=new Date(st);if(!vt(Jt))throw new Error(`Unable to convert "${st}" into a date`);return Jt}(st);Jt=m(Tt,Jt)||Jt;let Jr,br=[];for(;Jt;){if(Jr=_t.exec(Jt),!Jr){br.push(Jt);break}{br=br.concat(Jr.slice(1));const Xo=br.pop();if(!Xo)break;Jt=Xo}}let xs=Mn.getTimezoneOffset();Kt&&(xs=ft(Kt,xs),Mn=function qt(st,Jt,Tt){const Kt=Tt?-1:1,Mn=st.getTimezoneOffset();return function Ht(st,Jt){return(st=new Date(st.getTime())).setMinutes(st.getMinutes()+Jt),st}(st,Kt*(ft(Jt,Mn)-Mn))}(Mn,Kt,!0));let ji="";return br.forEach(Xo=>{const Ir=function Et(st){if(Qt[st])return Qt[st];let Jt;switch(st){case"G":case"GG":case"GGG":Jt=Bt(lt.Eras,C.Abbreviated);break;case"GGGG":Jt=Bt(lt.Eras,C.Wide);break;case"GGGGG":Jt=Bt(lt.Eras,C.Narrow);break;case"y":Jt=Ae(Le.FullYear,1,0,!1,!0);break;case"yy":Jt=Ae(Le.FullYear,2,0,!0,!0);break;case"yyy":Jt=Ae(Le.FullYear,3,0,!1,!0);break;case"yyyy":Jt=Ae(Le.FullYear,4,0,!1,!0);break;case"Y":Jt=en(1);break;case"YY":Jt=en(2,!0);break;case"YYY":Jt=en(3);break;case"YYYY":Jt=en(4);break;case"M":case"L":Jt=Ae(Le.Month,1,1);break;case"MM":case"LL":Jt=Ae(Le.Month,2,1);break;case"MMM":Jt=Bt(lt.Months,C.Abbreviated);break;case"MMMM":Jt=Bt(lt.Months,C.Wide);break;case"MMMMM":Jt=Bt(lt.Months,C.Narrow);break;case"LLL":Jt=Bt(lt.Months,C.Abbreviated,ke.Standalone);break;case"LLLL":Jt=Bt(lt.Months,C.Wide,ke.Standalone);break;case"LLLLL":Jt=Bt(lt.Months,C.Narrow,ke.Standalone);break;case"w":Jt=An(1);break;case"ww":Jt=An(2);break;case"W":Jt=An(1,!0);break;case"d":Jt=Ae(Le.Date,1);break;case"dd":Jt=Ae(Le.Date,2);break;case"c":case"cc":Jt=Ae(Le.Day,1);break;case"ccc":Jt=Bt(lt.Days,C.Abbreviated,ke.Standalone);break;case"cccc":Jt=Bt(lt.Days,C.Wide,ke.Standalone);break;case"ccccc":Jt=Bt(lt.Days,C.Narrow,ke.Standalone);break;case"cccccc":Jt=Bt(lt.Days,C.Short,ke.Standalone);break;case"E":case"EE":case"EEE":Jt=Bt(lt.Days,C.Abbreviated);break;case"EEEE":Jt=Bt(lt.Days,C.Wide);break;case"EEEEE":Jt=Bt(lt.Days,C.Narrow);break;case"EEEEEE":Jt=Bt(lt.Days,C.Short);break;case"a":case"aa":case"aaa":Jt=Bt(lt.DayPeriods,C.Abbreviated);break;case"aaaa":Jt=Bt(lt.DayPeriods,C.Wide);break;case"aaaaa":Jt=Bt(lt.DayPeriods,C.Narrow);break;case"b":case"bb":case"bbb":Jt=Bt(lt.DayPeriods,C.Abbreviated,ke.Standalone,!0);break;case"bbbb":Jt=Bt(lt.DayPeriods,C.Wide,ke.Standalone,!0);break;case"bbbbb":Jt=Bt(lt.DayPeriods,C.Narrow,ke.Standalone,!0);break;case"B":case"BB":case"BBB":Jt=Bt(lt.DayPeriods,C.Abbreviated,ke.Format,!0);break;case"BBBB":Jt=Bt(lt.DayPeriods,C.Wide,ke.Format,!0);break;case"BBBBB":Jt=Bt(lt.DayPeriods,C.Narrow,ke.Format,!0);break;case"h":Jt=Ae(Le.Hours,1,-12);break;case"hh":Jt=Ae(Le.Hours,2,-12);break;case"H":Jt=Ae(Le.Hours,1);break;case"HH":Jt=Ae(Le.Hours,2);break;case"m":Jt=Ae(Le.Minutes,1);break;case"mm":Jt=Ae(Le.Minutes,2);break;case"s":Jt=Ae(Le.Seconds,1);break;case"ss":Jt=Ae(Le.Seconds,2);break;case"S":Jt=Ae(Le.FractionalSeconds,1);break;case"SS":Jt=Ae(Le.FractionalSeconds,2);break;case"SSS":Jt=Ae(Le.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Jt=It(We.Short);break;case"ZZZZZ":Jt=It(We.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Jt=It(We.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Jt=It(We.Long);break;default:return null}return Qt[st]=Jt,Jt}(Xo);ji+=Ir?Ir(Mn,Tt,xs):"''"===Xo?"'":Xo.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ji}function _(st,Jt,Tt){const Kt=new Date(0);return Kt.setFullYear(st,Jt,Tt),Kt.setHours(0,0,0),Kt}function m(st,Jt){const Tt=function g(st){return(0,d.H5H)(st)[d.KH2.LocaleId]}(st);if(Fe[Tt]??={},Fe[Tt][Jt])return Fe[Tt][Jt];let Kt="";switch(Jt){case"shortDate":Kt=W(st,a.Short);break;case"mediumDate":Kt=W(st,a.Medium);break;case"longDate":Kt=W(st,a.Long);break;case"fullDate":Kt=W(st,a.Full);break;case"shortTime":Kt=K(st,a.Short);break;case"mediumTime":Kt=K(st,a.Medium);break;case"longTime":Kt=K(st,a.Long);break;case"fullTime":Kt=K(st,a.Full);break;case"short":const Mn=m(st,"shortTime"),tr=m(st,"shortDate");Kt=U(ee(st,a.Short),[Mn,tr]);break;case"medium":const br=m(st,"mediumTime"),Jr=m(st,"mediumDate");Kt=U(ee(st,a.Medium),[br,Jr]);break;case"long":const xs=m(st,"longTime"),ji=m(st,"longDate");Kt=U(ee(st,a.Long),[xs,ji]);break;case"full":const Xo=m(st,"fullTime"),Ir=m(st,"fullDate");Kt=U(ee(st,a.Full),[Xo,Ir])}return Kt&&(Fe[Tt][Jt]=Kt),Kt}function U(st,Jt){return Jt&&(st=st.replace(/\{([^}]+)}/g,function(Tt,Kt){return null!=Jt&&Kt in Jt?Jt[Kt]:Tt})),st}function ne(st,Jt,Tt="-",Kt,Mn){let tr="";(st<0||Mn&&st<=0)&&(Mn?st=1-st:(st=-st,tr=Tt));let br=String(st);for(;br.length<Jt;)br="0"+br;return Kt&&(br=br.slice(br.length-Jt)),tr+br}function Ae(st,Jt,Tt=0,Kt=!1,Mn=!1){return function(tr,br){let Jr=function tt(st,Jt){switch(st){case Le.FullYear:return Jt.getFullYear();case Le.Month:return Jt.getMonth();case Le.Date:return Jt.getDate();case Le.Hours:return Jt.getHours();case Le.Minutes:return Jt.getMinutes();case Le.Seconds:return Jt.getSeconds();case Le.FractionalSeconds:return Jt.getMilliseconds();case Le.Day:return Jt.getDay();default:throw new Error(`Unknown DateType value "${st}".`)}}(st,tr);if((Tt>0||Jr>-Tt)&&(Jr+=Tt),st===Le.Hours)0===Jr&&-12===Tt&&(Jr=12);else if(st===Le.FractionalSeconds)return function ge(st,Jt){return ne(st,3).substring(0,Jt)}(Jr,Jt);const xs=ce(br,f.MinusSign);return ne(Jr,Jt,xs,Kt,Mn)}}function Bt(st,Jt,Tt=ke.Format,Kt=!1){return function(Mn,tr){return function gt(st,Jt,Tt,Kt,Mn,tr){switch(Tt){case lt.Months:return function B(st,Jt,Tt){const Kt=(0,d.H5H)(st),tr=Q([Kt[d.KH2.MonthsFormat],Kt[d.KH2.MonthsStandalone]],Jt);return Q(tr,Tt)}(Jt,Mn,Kt)[st.getMonth()];case lt.Days:return function T(st,Jt,Tt){const Kt=(0,d.H5H)(st),tr=Q([Kt[d.KH2.DaysFormat],Kt[d.KH2.DaysStandalone]],Jt);return Q(tr,Tt)}(Jt,Mn,Kt)[st.getDay()];case lt.DayPeriods:const br=st.getHours(),Jr=st.getMinutes();if(tr){const ji=function De(st){const Jt=(0,d.H5H)(st);return ye(Jt),(Jt[d.KH2.ExtraData][2]||[]).map(Kt=>"string"==typeof Kt?oe(Kt):[oe(Kt[0]),oe(Kt[1])])}(Jt),Xo=function pe(st,Jt,Tt){const Kt=(0,d.H5H)(st);ye(Kt);const tr=Q([Kt[d.KH2.ExtraData][0],Kt[d.KH2.ExtraData][1]],Jt)||[];return Q(tr,Tt)||[]}(Jt,Mn,Kt),Ir=ji.findIndex(Qo=>{if(Array.isArray(Qo)){const[ko,Ss]=Qo,ml=br>=ko.hours&&Jr>=ko.minutes,Ms=br<Ss.hours||br===Ss.hours&&Jr<Ss.minutes;if(ko.hours<Ss.hours){if(ml&&Ms)return!0}else if(ml||Ms)return!0}else if(Qo.hours===br&&Qo.minutes===Jr)return!0;return!1});if(-1!==Ir)return Xo[Ir]}return function M(st,Jt,Tt){const Kt=(0,d.H5H)(st),tr=Q([Kt[d.KH2.DayPeriodsFormat],Kt[d.KH2.DayPeriodsStandalone]],Jt);return Q(tr,Tt)}(Jt,Mn,Kt)[br<12?0:1];case lt.Eras:return function S(st,Jt){return Q((0,d.H5H)(st)[d.KH2.Eras],Jt)}(Jt,Kt)[st.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Tt}`)}}(Mn,tr,st,Jt,Tt,Kt)}}function It(st){return function(Jt,Tt,Kt){const Mn=-1*Kt,tr=ce(Tt,f.MinusSign),br=Mn>0?Math.floor(Mn/60):Math.ceil(Mn/60);switch(st){case We.Short:return(Mn>=0?"+":"")+ne(br,2,tr)+ne(Math.abs(Mn%60),2,tr);case We.ShortGMT:return"GMT"+(Mn>=0?"+":"")+ne(br,1,tr);case We.Long:return"GMT"+(Mn>=0?"+":"")+ne(br,2,tr)+":"+ne(Math.abs(Mn%60),2,tr);case We.Extended:return 0===Kt?"Z":(Mn>=0?"+":"")+ne(br,2,tr)+":"+ne(Math.abs(Mn%60),2,tr);default:throw new Error(`Unknown zone width "${st}"`)}}}const Zt=0,mn=4;function ar(st){const Jt=st.getDay(),Tt=0===Jt?-3:mn-Jt;return _(st.getFullYear(),st.getMonth(),st.getDate()+Tt)}function An(st,Jt=!1){return function(Tt,Kt){let Mn;if(Jt){const tr=new Date(Tt.getFullYear(),Tt.getMonth(),1).getDay()-1,br=Tt.getDate();Mn=1+Math.floor((br+tr)/7)}else{const tr=ar(Tt),br=function dn(st){const Jt=_(st,Zt,1).getDay();return _(st,0,1+(Jt<=mn?mn:mn+7)-Jt)}(tr.getFullYear()),Jr=tr.getTime()-br.getTime();Mn=1+Math.round(Jr/6048e5)}return ne(Mn,st,ce(Kt,f.MinusSign))}}function en(st,Jt=!1){return function(Tt,Kt){return ne(ar(Tt).getFullYear(),st,ce(Kt,f.MinusSign),Jt)}}const Qt={};function ft(st,Jt){st=st.replace(/:/g,"");const Tt=Date.parse("Jan 01, 1970 00:00:00 "+st)/6e4;return isNaN(Tt)?Jt:Tt}function vt(st){return st instanceof Date&&!isNaN(st.valueOf())}function _r(st,Jt){Jt=encodeURIComponent(Jt);for(const Tt of st.split(";")){const Kt=Tt.indexOf("="),[Mn,tr]=-1==Kt?[Tt,""]:[Tt.slice(0,Kt),Tt.slice(Kt+1)];if(Mn.trim()===Jt)return decodeURIComponent(tr)}return null}const Tr=/\s+/,Br=[];let jr=(()=>{class st{constructor(Tt,Kt){this._ngEl=Tt,this._renderer=Kt,this.initialClasses=Br,this.stateMap=new Map}set klass(Tt){this.initialClasses=null!=Tt?Tt.trim().split(Tr):Br}set ngClass(Tt){this.rawClass="string"==typeof Tt?Tt.trim().split(Tr):Tt}ngDoCheck(){for(const Kt of this.initialClasses)this._updateState(Kt,!0);const Tt=this.rawClass;if(Array.isArray(Tt)||Tt instanceof Set)for(const Kt of Tt)this._updateState(Kt,!0);else if(null!=Tt)for(const Kt of Object.keys(Tt))this._updateState(Kt,!!Tt[Kt]);this._applyStateDiff()}_updateState(Tt,Kt){const Mn=this.stateMap.get(Tt);void 0!==Mn?(Mn.enabled!==Kt&&(Mn.changed=!0,Mn.enabled=Kt),Mn.touched=!0):this.stateMap.set(Tt,{enabled:Kt,changed:!0,touched:!0})}_applyStateDiff(){for(const Tt of this.stateMap){const Kt=Tt[0],Mn=Tt[1];Mn.changed?(this._toggleClass(Kt,Mn.enabled),Mn.changed=!1):Mn.touched||(Mn.enabled&&this._toggleClass(Kt,!1),this.stateMap.delete(Kt)),Mn.touched=!1}}_toggleClass(Tt,Kt){(Tt=Tt.trim()).length>0&&Tt.split(Tr).forEach(Mn=>{Kt?this._renderer.addClass(this._ngEl.nativeElement,Mn):this._renderer.removeClass(this._ngEl.nativeElement,Mn)})}static#e=this.\u0275fac=function(Kt){return new(Kt||st)(d.rXU(d.aKT),d.rXU(d.sFG))};static#t=this.\u0275dir=d.FsC({type:st,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return st})();class _n{constructor(Jt,Tt,Kt,Mn){this.$implicit=Jt,this.ngForOf=Tt,this.index=Kt,this.count=Mn}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Tn=(()=>{class st{set ngForOf(Tt){this._ngForOf=Tt,this._ngForOfDirty=!0}set ngForTrackBy(Tt){this._trackByFn=Tt}get ngForTrackBy(){return this._trackByFn}constructor(Tt,Kt,Mn){this._viewContainer=Tt,this._template=Kt,this._differs=Mn,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Tt){Tt&&(this._template=Tt)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Tt=this._ngForOf;!this._differ&&Tt&&(this._differ=this._differs.find(Tt).create(this.ngForTrackBy))}if(this._differ){const Tt=this._differ.diff(this._ngForOf);Tt&&this._applyChanges(Tt)}}_applyChanges(Tt){const Kt=this._viewContainer;Tt.forEachOperation((Mn,tr,br)=>{if(null==Mn.previousIndex)Kt.createEmbeddedView(this._template,new _n(Mn.item,this._ngForOf,-1,-1),null===br?void 0:br);else if(null==br)Kt.remove(null===tr?void 0:tr);else if(null!==tr){const Jr=Kt.get(tr);Kt.move(Jr,br),jn(Jr,Mn)}});for(let Mn=0,tr=Kt.length;Mn<tr;Mn++){const Jr=Kt.get(Mn).context;Jr.index=Mn,Jr.count=tr,Jr.ngForOf=this._ngForOf}Tt.forEachIdentityChange(Mn=>{jn(Kt.get(Mn.currentIndex),Mn)})}static ngTemplateContextGuard(Tt,Kt){return!0}static#e=this.\u0275fac=function(Kt){return new(Kt||st)(d.rXU(d.c1b),d.rXU(d.C4Q),d.rXU(d._q3))};static#t=this.\u0275dir=d.FsC({type:st,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return st})();function jn(st,Jt){st.context.$implicit=Jt.item}let Ar=(()=>{class st{constructor(Tt,Kt){this._viewContainer=Tt,this._context=new Sr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Kt}set ngIf(Tt){this._context.$implicit=this._context.ngIf=Tt,this._updateView()}set ngIfThen(Tt){zr("ngIfThen",Tt),this._thenTemplateRef=Tt,this._thenViewRef=null,this._updateView()}set ngIfElse(Tt){zr("ngIfElse",Tt),this._elseTemplateRef=Tt,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Tt,Kt){return!0}static#e=this.\u0275fac=function(Kt){return new(Kt||st)(d.rXU(d.c1b),d.rXU(d.C4Q))};static#t=this.\u0275dir=d.FsC({type:st,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return st})();class Sr{constructor(){this.$implicit=null,this.ngIf=null}}function zr(st,Jt){if(Jt&&!Jt.createEmbeddedView)throw new Error(`${st} must be a TemplateRef, but received '${(0,d.Tbb)(Jt)}'.`)}let fi=(()=>{class st{constructor(Tt,Kt,Mn){this._ngEl=Tt,this._differs=Kt,this._renderer=Mn,this._ngStyle=null,this._differ=null}set ngStyle(Tt){this._ngStyle=Tt,!this._differ&&Tt&&(this._differ=this._differs.find(Tt).create())}ngDoCheck(){if(this._differ){const Tt=this._differ.diff(this._ngStyle);Tt&&this._applyChanges(Tt)}}_setStyle(Tt,Kt){const[Mn,tr]=Tt.split("."),br=-1===Mn.indexOf("-")?void 0:d.czy.DashCase;null!=Kt?this._renderer.setStyle(this._ngEl.nativeElement,Mn,tr?`${Kt}${tr}`:Kt,br):this._renderer.removeStyle(this._ngEl.nativeElement,Mn,br)}_applyChanges(Tt){Tt.forEachRemovedItem(Kt=>this._setStyle(Kt.key,null)),Tt.forEachAddedItem(Kt=>this._setStyle(Kt.key,Kt.currentValue)),Tt.forEachChangedItem(Kt=>this._setStyle(Kt.key,Kt.currentValue))}static#e=this.\u0275fac=function(Kt){return new(Kt||st)(d.rXU(d.aKT),d.rXU(d.MKu),d.rXU(d.sFG))};static#t=this.\u0275dir=d.FsC({type:st,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return st})(),Ni=(()=>{class st{constructor(Tt){this._viewContainerRef=Tt,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Tt){if(this._shouldRecreateView(Tt)){const Kt=this._viewContainerRef;if(this._viewRef&&Kt.remove(Kt.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Mn=this._createContextForwardProxy();this._viewRef=Kt.createEmbeddedView(this.ngTemplateOutlet,Mn,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(Tt){return!!Tt.ngTemplateOutlet||!!Tt.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Tt,Kt,Mn)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Kt,Mn),get:(Tt,Kt,Mn)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Kt,Mn)}})}static#e=this.\u0275fac=function(Kt){return new(Kt||st)(d.rXU(d.c1b))};static#t=this.\u0275dir=d.FsC({type:st,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.OA$]})}return st})();function _i(st,Jt){return new d.wOt(2100,!1)}class is{createSubscription(Jt,Tt){return(0,d.O8t)(()=>Jt.subscribe({next:Tt,error:Kt=>{throw Kt}}))}dispose(Jt){(0,d.O8t)(()=>Jt.unsubscribe())}}class Us{createSubscription(Jt,Tt){return Jt.then(Tt,Kt=>{throw Kt})}dispose(Jt){}}const Co=new Us,Ki=new is;let ps=(()=>{class st{constructor(Tt){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Tt}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Tt){if(!this._obj){if(Tt)try{this.markForCheckOnValueUpdate=!1,this._subscribe(Tt)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return Tt!==this._obj?(this._dispose(),this.transform(Tt)):this._latestValue}_subscribe(Tt){this._obj=Tt,this._strategy=this._selectStrategy(Tt),this._subscription=this._strategy.createSubscription(Tt,Kt=>this._updateLatestValue(Tt,Kt))}_selectStrategy(Tt){if((0,d.jNT)(Tt))return Co;if((0,d.zjR)(Tt))return Ki;throw _i()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Tt,Kt){Tt===this._obj&&(this._latestValue=Kt,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(Kt){return new(Kt||st)(d.rXU(d.gRc,16))};static#t=this.\u0275pipe=d.EJ8({name:"async",type:st,pure:!1,standalone:!0})}return st})();const Au=new d.nKC(""),ua=new d.nKC("");let Qd=(()=>{class st{constructor(Tt,Kt,Mn){this.locale=Tt,this.defaultTimezone=Kt,this.defaultOptions=Mn}transform(Tt,Kt,Mn,tr){if(null==Tt||""===Tt||Tt!=Tt)return null;try{return N(Tt,Kt??this.defaultOptions?.dateFormat??"mediumDate",tr||this.locale,Mn??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(br){throw _i()}}static#e=this.\u0275fac=function(Kt){return new(Kt||st)(d.rXU(d.xe9,16),d.rXU(Au,24),d.rXU(ua,24))};static#t=this.\u0275pipe=d.EJ8({name:"date",type:st,pure:!0,standalone:!0})}return st})(),mc=(()=>{class st{static#e=this.\u0275fac=function(Kt){return new(Kt||st)};static#t=this.\u0275mod=d.$C({type:st});static#n=this.\u0275inj=d.G2t({})}return st})();const lo="browser",Qi="server";function Eo(st){return st===lo}function dd(st){return st===Qi}let ds=(()=>{class st{static#e=this.\u0275prov=(0,d.jDH)({token:st,providedIn:"root",factory:()=>Eo((0,d.WQX)(d.Agw))?new xc((0,d.WQX)(A),window):new tu})}return st})();class xc{constructor(Jt,Tt){this.document=Jt,this.window=Tt,this.offset=()=>[0,0]}setOffset(Jt){this.offset=Array.isArray(Jt)?()=>Jt:Jt}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Jt){this.window.scrollTo(Jt[0],Jt[1])}scrollToAnchor(Jt){const Tt=function Gc(st,Jt){const Tt=st.getElementById(Jt)||st.getElementsByName(Jt)[0];if(Tt)return Tt;if("function"==typeof st.createTreeWalker&&st.body&&"function"==typeof st.body.attachShadow){const Kt=st.createTreeWalker(st.body,NodeFilter.SHOW_ELEMENT);let Mn=Kt.currentNode;for(;Mn;){const tr=Mn.shadowRoot;if(tr){const br=tr.getElementById(Jt)||tr.querySelector(`[name="${Jt}"]`);if(br)return br}Mn=Kt.nextNode()}}return null}(this.document,Jt);Tt&&(this.scrollToElement(Tt),Tt.focus())}setHistoryScrollRestoration(Jt){this.window.history.scrollRestoration=Jt}scrollToElement(Jt){const Tt=Jt.getBoundingClientRect(),Kt=Tt.left+this.window.pageXOffset,Mn=Tt.top+this.window.pageYOffset,tr=this.offset();this.window.scrollTo(Kt-tr[0],Mn-tr[1])}}class tu{setOffset(Jt){}getScrollPosition(){return[0,0]}scrollToPosition(Jt){}scrollToAnchor(Jt){}setHistoryScrollRestoration(Jt){}}class Ll{}},21626:(je,H,w)=>{"use strict";w.d(H,{$R:()=>qt,Qq:()=>ee,q1:()=>un});var d=w(10467),E=w(93953),k=w(7673),z=w(71985),x=w(86648),O=w(70274),A=w(5964),P=w(96354),F=w(70980),L=w(25558),D=w(60177);class X{}class j{}class G{constructor(_n){this.normalizedNames=new Map,this.lazyUpdate=null,_n?"string"==typeof _n?this.lazyInit=()=>{this.headers=new Map,_n.split("\n").forEach(Tn=>{const jn=Tn.indexOf(":");if(jn>0){const fr=Tn.slice(0,jn),Ar=fr.toLowerCase(),Sr=Tn.slice(jn+1).trim();this.maybeSetNormalizedName(fr,Ar),this.headers.has(Ar)?this.headers.get(Ar).push(Sr):this.headers.set(Ar,[Sr])}})}:typeof Headers<"u"&&_n instanceof Headers?(this.headers=new Map,_n.forEach((Tn,jn)=>{this.setHeaderEntries(jn,Tn)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(_n).forEach(([Tn,jn])=>{this.setHeaderEntries(Tn,jn)})}:this.headers=new Map}has(_n){return this.init(),this.headers.has(_n.toLowerCase())}get(_n){this.init();const Tn=this.headers.get(_n.toLowerCase());return Tn&&Tn.length>0?Tn[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(_n){return this.init(),this.headers.get(_n.toLowerCase())||null}append(_n,Tn){return this.clone({name:_n,value:Tn,op:"a"})}set(_n,Tn){return this.clone({name:_n,value:Tn,op:"s"})}delete(_n,Tn){return this.clone({name:_n,value:Tn,op:"d"})}maybeSetNormalizedName(_n,Tn){this.normalizedNames.has(Tn)||this.normalizedNames.set(Tn,_n)}init(){this.lazyInit&&(this.lazyInit instanceof G?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(_n=>this.applyUpdate(_n)),this.lazyUpdate=null))}copyFrom(_n){_n.init(),Array.from(_n.headers.keys()).forEach(Tn=>{this.headers.set(Tn,_n.headers.get(Tn)),this.normalizedNames.set(Tn,_n.normalizedNames.get(Tn))})}clone(_n){const Tn=new G;return Tn.lazyInit=this.lazyInit&&this.lazyInit instanceof G?this.lazyInit:this,Tn.lazyUpdate=(this.lazyUpdate||[]).concat([_n]),Tn}applyUpdate(_n){const Tn=_n.name.toLowerCase();switch(_n.op){case"a":case"s":let jn=_n.value;if("string"==typeof jn&&(jn=[jn]),0===jn.length)return;this.maybeSetNormalizedName(_n.name,Tn);const fr=("a"===_n.op?this.headers.get(Tn):void 0)||[];fr.push(...jn),this.headers.set(Tn,fr);break;case"d":const Ar=_n.value;if(Ar){let Sr=this.headers.get(Tn);if(!Sr)return;Sr=Sr.filter(zr=>-1===Ar.indexOf(zr)),0===Sr.length?(this.headers.delete(Tn),this.normalizedNames.delete(Tn)):this.headers.set(Tn,Sr)}else this.headers.delete(Tn),this.normalizedNames.delete(Tn)}}setHeaderEntries(_n,Tn){const jn=(Array.isArray(Tn)?Tn:[Tn]).map(Ar=>Ar.toString()),fr=_n.toLowerCase();this.headers.set(fr,jn),this.maybeSetNormalizedName(_n,fr)}forEach(_n){this.init(),Array.from(this.normalizedNames.keys()).forEach(Tn=>_n(this.normalizedNames.get(Tn),this.headers.get(Tn)))}}class te{encodeKey(_n){return ae(_n)}encodeValue(_n){return ae(_n)}decodeKey(_n){return decodeURIComponent(_n)}decodeValue(_n){return decodeURIComponent(_n)}}const Z=/%(\d[a-f0-9])/gi,ie={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ae(tn){return encodeURIComponent(tn).replace(Z,(_n,Tn)=>ie[Tn]??_n)}function se(tn){return`${tn}`}class de{constructor(_n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=_n.encoder||new te,_n.fromString){if(_n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function J(tn,_n){const Tn=new Map;return tn.length>0&&tn.replace(/^\?/,"").split("&").forEach(fr=>{const Ar=fr.indexOf("="),[Sr,zr]=-1==Ar?[_n.decodeKey(fr),""]:[_n.decodeKey(fr.slice(0,Ar)),_n.decodeValue(fr.slice(Ar+1))],Kr=Tn.get(Sr)||[];Kr.push(zr),Tn.set(Sr,Kr)}),Tn}(_n.fromString,this.encoder)}else _n.fromObject?(this.map=new Map,Object.keys(_n.fromObject).forEach(Tn=>{const jn=_n.fromObject[Tn],fr=Array.isArray(jn)?jn.map(se):[se(jn)];this.map.set(Tn,fr)})):this.map=null}has(_n){return this.init(),this.map.has(_n)}get(_n){this.init();const Tn=this.map.get(_n);return Tn?Tn[0]:null}getAll(_n){return this.init(),this.map.get(_n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(_n,Tn){return this.clone({param:_n,value:Tn,op:"a"})}appendAll(_n){const Tn=[];return Object.keys(_n).forEach(jn=>{const fr=_n[jn];Array.isArray(fr)?fr.forEach(Ar=>{Tn.push({param:jn,value:Ar,op:"a"})}):Tn.push({param:jn,value:fr,op:"a"})}),this.clone(Tn)}set(_n,Tn){return this.clone({param:_n,value:Tn,op:"s"})}delete(_n,Tn){return this.clone({param:_n,value:Tn,op:"d"})}toString(){return this.init(),this.keys().map(_n=>{const Tn=this.encoder.encodeKey(_n);return this.map.get(_n).map(jn=>Tn+"="+this.encoder.encodeValue(jn)).join("&")}).filter(_n=>""!==_n).join("&")}clone(_n){const Tn=new de({encoder:this.encoder});return Tn.cloneFrom=this.cloneFrom||this,Tn.updates=(this.updates||[]).concat(_n),Tn}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(_n=>this.map.set(_n,this.cloneFrom.map.get(_n))),this.updates.forEach(_n=>{switch(_n.op){case"a":case"s":const Tn=("a"===_n.op?this.map.get(_n.param):void 0)||[];Tn.push(se(_n.value)),this.map.set(_n.param,Tn);break;case"d":if(void 0===_n.value){this.map.delete(_n.param);break}{let jn=this.map.get(_n.param)||[];const fr=jn.indexOf(se(_n.value));-1!==fr&&jn.splice(fr,1),jn.length>0?this.map.set(_n.param,jn):this.map.delete(_n.param)}}}),this.cloneFrom=this.updates=null)}}class be{constructor(){this.map=new Map}set(_n,Tn){return this.map.set(_n,Tn),this}get(_n){return this.map.has(_n)||this.map.set(_n,_n.defaultValue()),this.map.get(_n)}delete(_n){return this.map.delete(_n),this}has(_n){return this.map.has(_n)}keys(){return this.map.keys()}}function ke(tn){return typeof ArrayBuffer<"u"&&tn instanceof ArrayBuffer}function C(tn){return typeof Blob<"u"&&tn instanceof Blob}function a(tn){return typeof FormData<"u"&&tn instanceof FormData}class y{constructor(_n,Tn,jn,fr){let Ar;if(this.url=Tn,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=_n.toUpperCase(),function xe(tn){switch(tn){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||fr?(this.body=void 0!==jn?jn:null,Ar=fr):Ar=jn,Ar&&(this.reportProgress=!!Ar.reportProgress,this.withCredentials=!!Ar.withCredentials,Ar.responseType&&(this.responseType=Ar.responseType),Ar.headers&&(this.headers=Ar.headers),Ar.context&&(this.context=Ar.context),Ar.params&&(this.params=Ar.params),this.transferCache=Ar.transferCache),this.headers??=new G,this.context??=new be,this.params){const Sr=this.params.toString();if(0===Sr.length)this.urlWithParams=Tn;else{const zr=Tn.indexOf("?");this.urlWithParams=Tn+(-1===zr?"?":zr<Tn.length-1?"&":"")+Sr}}else this.params=new de,this.urlWithParams=Tn}serializeBody(){return null===this.body?null:"string"==typeof this.body||ke(this.body)||C(this.body)||a(this.body)||function f(tn){return typeof URLSearchParams<"u"&&tn instanceof URLSearchParams}(this.body)?this.body:this.body instanceof de?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||a(this.body)?null:C(this.body)?this.body.type||null:ke(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof de?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(_n={}){const Tn=_n.method||this.method,jn=_n.url||this.url,fr=_n.responseType||this.responseType,Ar=_n.transferCache??this.transferCache,Sr=void 0!==_n.body?_n.body:this.body,zr=_n.withCredentials??this.withCredentials,Kr=_n.reportProgress??this.reportProgress;let ii=_n.headers||this.headers,To=_n.params||this.params;const bi=_n.context??this.context;return void 0!==_n.setHeaders&&(ii=Object.keys(_n.setHeaders).reduce((Po,Bo)=>Po.set(Bo,_n.setHeaders[Bo]),ii)),_n.setParams&&(To=Object.keys(_n.setParams).reduce((Po,Bo)=>Po.set(Bo,_n.setParams[Bo]),To)),new y(Tn,jn,Sr,{params:To,headers:ii,context:bi,reportProgress:Kr,responseType:fr,withCredentials:zr,transferCache:Ar})}}var g=function(tn){return tn[tn.Sent=0]="Sent",tn[tn.UploadProgress=1]="UploadProgress",tn[tn.ResponseHeader=2]="ResponseHeader",tn[tn.DownloadProgress=3]="DownloadProgress",tn[tn.Response=4]="Response",tn[tn.User=5]="User",tn}(g||{});class M{constructor(_n,Tn=200,jn="OK"){this.headers=_n.headers||new G,this.status=void 0!==_n.status?_n.status:Tn,this.statusText=_n.statusText||jn,this.url=_n.url||null,this.ok=this.status>=200&&this.status<300}}class T extends M{constructor(_n={}){super(_n),this.type=g.ResponseHeader}clone(_n={}){return new T({headers:_n.headers||this.headers,status:void 0!==_n.status?_n.status:this.status,statusText:_n.statusText||this.statusText,url:_n.url||this.url||void 0})}}class B extends M{constructor(_n={}){super(_n),this.type=g.Response,this.body=void 0!==_n.body?_n.body:null}clone(_n={}){return new B({body:void 0!==_n.body?_n.body:this.body,headers:_n.headers||this.headers,status:void 0!==_n.status?_n.status:this.status,statusText:_n.statusText||this.statusText,url:_n.url||this.url||void 0})}}class S extends M{constructor(_n){super(_n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${_n.url||"(unknown url)"}`:`Http failure response for ${_n.url||"(unknown url)"}: ${_n.status} ${_n.statusText}`,this.error=_n.error||null}}function K(tn,_n){return{body:_n,headers:tn.headers,context:tn.context,observe:tn.observe,params:tn.params,reportProgress:tn.reportProgress,responseType:tn.responseType,withCredentials:tn.withCredentials,transferCache:tn.transferCache}}let ee=(()=>{class tn{constructor(Tn){this.handler=Tn}request(Tn,jn,fr={}){let Ar;if(Tn instanceof y)Ar=Tn;else{let Kr,ii;Kr=fr.headers instanceof G?fr.headers:new G(fr.headers),fr.params&&(ii=fr.params instanceof de?fr.params:new de({fromObject:fr.params})),Ar=new y(Tn,jn,void 0!==fr.body?fr.body:null,{headers:Kr,context:fr.context,params:ii,reportProgress:fr.reportProgress,responseType:fr.responseType||"json",withCredentials:fr.withCredentials,transferCache:fr.transferCache})}const Sr=(0,k.of)(Ar).pipe((0,O.H)(Kr=>this.handler.handle(Kr)));if(Tn instanceof y||"events"===fr.observe)return Sr;const zr=Sr.pipe((0,A.p)(Kr=>Kr instanceof B));switch(fr.observe||"body"){case"body":switch(Ar.responseType){case"arraybuffer":return zr.pipe((0,P.T)(Kr=>{if(null!==Kr.body&&!(Kr.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Kr.body}));case"blob":return zr.pipe((0,P.T)(Kr=>{if(null!==Kr.body&&!(Kr.body instanceof Blob))throw new Error("Response is not a Blob.");return Kr.body}));case"text":return zr.pipe((0,P.T)(Kr=>{if(null!==Kr.body&&"string"!=typeof Kr.body)throw new Error("Response is not a string.");return Kr.body}));default:return zr.pipe((0,P.T)(Kr=>Kr.body))}case"response":return zr;default:throw new Error(`Unreachable: unhandled observe type ${fr.observe}}`)}}delete(Tn,jn={}){return this.request("DELETE",Tn,jn)}get(Tn,jn={}){return this.request("GET",Tn,jn)}head(Tn,jn={}){return this.request("HEAD",Tn,jn)}jsonp(Tn,jn){return this.request("JSONP",Tn,{params:(new de).append(jn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Tn,jn={}){return this.request("OPTIONS",Tn,jn)}patch(Tn,jn,fr={}){return this.request("PATCH",Tn,K(fr,jn))}post(Tn,jn,fr={}){return this.request("POST",Tn,K(fr,jn))}put(Tn,jn,fr={}){return this.request("PUT",Tn,K(fr,jn))}static#e=this.\u0275fac=function(jn){return new(jn||tn)(E.KVO(X))};static#t=this.\u0275prov=E.jDH({token:tn,factory:tn.\u0275fac})}return tn})();const ce=/^\)\]\}',?\n/;function Oe(tn){if(tn.url)return tn.url;const _n="X-Request-URL".toLocaleLowerCase();return tn.headers.get(_n)}let Ve=(()=>{class tn{constructor(){this.fetchImpl=(0,E.WQX)(Se,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=(0,E.WQX)(E.SKi)}handle(Tn){return new z.c(jn=>{const fr=new AbortController;return this.doRequest(Tn,fr.signal,jn).then(we,Ar=>jn.error(new S({error:Ar}))),()=>fr.abort()})}doRequest(Tn,jn,fr){var Ar=this;return(0,d.A)(function*(){const Sr=Ar.createRequestInit(Tn);let zr;try{const Ho=Ar.ngZone.runOutsideAngular(()=>Ar.fetchImpl(Tn.urlWithParams,{signal:jn,...Sr}));(function Ue(tn){tn.then(we,we)})(Ho),fr.next({type:g.Sent}),zr=yield Ho}catch(Ho){return void fr.error(new S({error:Ho,status:Ho.status??0,statusText:Ho.statusText,url:Tn.urlWithParams,headers:Ho.headers}))}const Kr=new G(zr.headers),ii=zr.statusText,To=Oe(zr)??Tn.urlWithParams;let bi=zr.status,Po=null;if(Tn.reportProgress&&fr.next(new T({headers:Kr,status:bi,statusText:ii,url:To})),zr.body){const Ho=zr.headers.get("content-length"),Fi=[],fi=zr.body.getReader();let Aa,_i,Ni=0;const is=typeof Zone<"u"&&Zone.current;yield Ar.ngZone.runOutsideAngular((0,d.A)(function*(){for(;;){const{done:Co,value:Ki}=yield fi.read();if(Co)break;if(Fi.push(Ki),Ni+=Ki.length,Tn.reportProgress){_i="text"===Tn.responseType?(_i??"")+(Aa??=new TextDecoder).decode(Ki,{stream:!0}):void 0;const ps=()=>fr.next({type:g.DownloadProgress,total:Ho?+Ho:void 0,loaded:Ni,partialText:_i});is?is.run(ps):ps()}}}));const Us=Ar.concatChunks(Fi,Ni);try{const Co=zr.headers.get("Content-Type")??"";Po=Ar.parseBody(Tn,Us,Co)}catch(Co){return void fr.error(new S({error:Co,headers:new G(zr.headers),status:zr.status,statusText:zr.statusText,url:Oe(zr)??Tn.urlWithParams}))}}0===bi&&(bi=Po?200:0),bi>=200&&bi<300?(fr.next(new B({body:Po,headers:Kr,status:bi,statusText:ii,url:To})),fr.complete()):fr.error(new S({error:Po,headers:Kr,status:bi,statusText:ii,url:To}))})()}parseBody(Tn,jn,fr){switch(Tn.responseType){case"json":const Ar=(new TextDecoder).decode(jn).replace(ce,"");return""===Ar?null:JSON.parse(Ar);case"text":return(new TextDecoder).decode(jn);case"blob":return new Blob([jn],{type:fr});case"arraybuffer":return jn.buffer}}createRequestInit(Tn){const jn={},fr=Tn.withCredentials?"include":void 0;if(Tn.headers.forEach((Ar,Sr)=>jn[Ar]=Sr.join(",")),Tn.headers.has("Accept")||(jn.Accept="application/json, text/plain, */*"),!Tn.headers.has("Content-Type")){const Ar=Tn.detectContentTypeHeader();null!==Ar&&(jn["Content-Type"]=Ar)}return{body:Tn.serializeBody(),method:Tn.method,headers:jn,credentials:fr}}concatChunks(Tn,jn){const fr=new Uint8Array(jn);let Ar=0;for(const Sr of Tn)fr.set(Sr,Ar),Ar+=Sr.length;return fr}static#e=this.\u0275fac=function(jn){return new(jn||tn)};static#t=this.\u0275prov=E.jDH({token:tn,factory:tn.\u0275fac})}return tn})();class Se{}function we(){}function ye(tn,_n){return _n(tn)}function De(tn,_n){return(Tn,jn)=>_n.intercept(Tn,{handle:fr=>tn(fr,jn)})}const ue=new E.nKC(""),Q=new E.nKC(""),oe=new E.nKC(""),fe=new E.nKC("",{providedIn:"root",factory:()=>!0});function Ee(){let tn=null;return(_n,Tn)=>{null===tn&&(tn=((0,E.WQX)(ue,{optional:!0})??[]).reduceRight(De,ye));const jn=(0,E.WQX)(E.TgB);if((0,E.WQX)(fe)){const Ar=jn.add();return tn(_n,Tn).pipe((0,F.j)(()=>jn.remove(Ar)))}return tn(_n,Tn)}}let Fe=(()=>{class tn extends X{constructor(Tn,jn){super(),this.backend=Tn,this.injector=jn,this.chain=null,this.pendingTasks=(0,E.WQX)(E.TgB),this.contributeToStability=(0,E.WQX)(fe)}handle(Tn){if(null===this.chain){const jn=Array.from(new Set([...this.injector.get(Q),...this.injector.get(oe,[])]));this.chain=jn.reduceRight((fr,Ar)=>function pe(tn,_n,Tn){return(jn,fr)=>(0,E.N4e)(Tn,()=>_n(jn,Ar=>tn(Ar,fr)))}(fr,Ar,this.injector),ye)}if(this.contributeToStability){const jn=this.pendingTasks.add();return this.chain(Tn,fr=>this.backend.handle(fr)).pipe((0,F.j)(()=>this.pendingTasks.remove(jn)))}return this.chain(Tn,jn=>this.backend.handle(jn))}static#e=this.\u0275fac=function(jn){return new(jn||tn)(E.KVO(j),E.KVO(E.uvJ))};static#t=this.\u0275prov=E.jDH({token:tn,factory:tn.\u0275fac})}return tn})();const tt=/^\)\]\}',?\n/;let gt=(()=>{class tn{constructor(Tn){this.xhrFactory=Tn}handle(Tn){if("JSONP"===Tn.method)throw new E.wOt(-2800,!1);const jn=this.xhrFactory;return(jn.\u0275loadImpl?(0,x.H)(jn.\u0275loadImpl()):(0,k.of)(null)).pipe((0,L.n)(()=>new z.c(Ar=>{const Sr=jn.build();if(Sr.open(Tn.method,Tn.urlWithParams),Tn.withCredentials&&(Sr.withCredentials=!0),Tn.headers.forEach((Fi,fi)=>Sr.setRequestHeader(Fi,fi.join(","))),Tn.headers.has("Accept")||Sr.setRequestHeader("Accept","application/json, text/plain, */*"),!Tn.headers.has("Content-Type")){const Fi=Tn.detectContentTypeHeader();null!==Fi&&Sr.setRequestHeader("Content-Type",Fi)}if(Tn.responseType){const Fi=Tn.responseType.toLowerCase();Sr.responseType="json"!==Fi?Fi:"text"}const zr=Tn.serializeBody();let Kr=null;const ii=()=>{if(null!==Kr)return Kr;const Fi=Sr.statusText||"OK",fi=new G(Sr.getAllResponseHeaders()),Ni=function Bt(tn){return"responseURL"in tn&&tn.responseURL?tn.responseURL:/^X-Request-URL:/m.test(tn.getAllResponseHeaders())?tn.getResponseHeader("X-Request-URL"):null}(Sr)||Tn.url;return Kr=new T({headers:fi,status:Sr.status,statusText:Fi,url:Ni}),Kr},To=()=>{let{headers:Fi,status:fi,statusText:Ni,url:Aa}=ii(),_i=null;204!==fi&&(_i=typeof Sr.response>"u"?Sr.responseText:Sr.response),0===fi&&(fi=_i?200:0);let is=fi>=200&&fi<300;if("json"===Tn.responseType&&"string"==typeof _i){const Us=_i;_i=_i.replace(tt,"");try{_i=""!==_i?JSON.parse(_i):null}catch(Co){_i=Us,is&&(is=!1,_i={error:Co,text:_i})}}is?(Ar.next(new B({body:_i,headers:Fi,status:fi,statusText:Ni,url:Aa||void 0})),Ar.complete()):Ar.error(new S({error:_i,headers:Fi,status:fi,statusText:Ni,url:Aa||void 0}))},bi=Fi=>{const{url:fi}=ii(),Ni=new S({error:Fi,status:Sr.status||0,statusText:Sr.statusText||"Unknown Error",url:fi||void 0});Ar.error(Ni)};let Po=!1;const Bo=Fi=>{Po||(Ar.next(ii()),Po=!0);let fi={type:g.DownloadProgress,loaded:Fi.loaded};Fi.lengthComputable&&(fi.total=Fi.total),"text"===Tn.responseType&&Sr.responseText&&(fi.partialText=Sr.responseText),Ar.next(fi)},Ho=Fi=>{let fi={type:g.UploadProgress,loaded:Fi.loaded};Fi.lengthComputable&&(fi.total=Fi.total),Ar.next(fi)};return Sr.addEventListener("load",To),Sr.addEventListener("error",bi),Sr.addEventListener("timeout",bi),Sr.addEventListener("abort",bi),Tn.reportProgress&&(Sr.addEventListener("progress",Bo),null!==zr&&Sr.upload&&Sr.upload.addEventListener("progress",Ho)),Sr.send(zr),Ar.next({type:g.Sent}),()=>{Sr.removeEventListener("error",bi),Sr.removeEventListener("abort",bi),Sr.removeEventListener("load",To),Sr.removeEventListener("timeout",bi),Tn.reportProgress&&(Sr.removeEventListener("progress",Bo),null!==zr&&Sr.upload&&Sr.upload.removeEventListener("progress",Ho)),Sr.readyState!==Sr.DONE&&Sr.abort()}})))}static#e=this.\u0275fac=function(jn){return new(jn||tn)(E.KVO(D.N0))};static#t=this.\u0275prov=E.jDH({token:tn,factory:tn.\u0275fac})}return tn})();const It=new E.nKC(""),mn=new E.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ar=new E.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class An{}let en=(()=>{class tn{constructor(Tn,jn,fr){this.doc=Tn,this.platform=jn,this.cookieName=fr,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Tn=this.doc.cookie||"";return Tn!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,D._b)(Tn,this.cookieName),this.lastCookieString=Tn),this.lastToken}static#e=this.\u0275fac=function(jn){return new(jn||tn)(E.KVO(D.qQ),E.KVO(E.Agw),E.KVO(mn))};static#t=this.\u0275prov=E.jDH({token:tn,factory:tn.\u0275fac})}return tn})();function Qt(tn,_n){const Tn=tn.url.toLowerCase();if(!(0,E.WQX)(It)||"GET"===tn.method||"HEAD"===tn.method||Tn.startsWith("http://")||Tn.startsWith("https://"))return _n(tn);const jn=(0,E.WQX)(An).getToken(),fr=(0,E.WQX)(ar);return null!=jn&&!tn.headers.has(fr)&&(tn=tn.clone({headers:tn.headers.set(fr,jn)})),_n(tn)}var ft=function(tn){return tn[tn.Interceptors=0]="Interceptors",tn[tn.LegacyInterceptors=1]="LegacyInterceptors",tn[tn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",tn[tn.NoXsrfProtection=3]="NoXsrfProtection",tn[tn.JsonpSupport=4]="JsonpSupport",tn[tn.RequestsMadeViaParent=5]="RequestsMadeViaParent",tn[tn.Fetch=6]="Fetch",tn}(ft||{});function qt(...tn){const _n=[ee,gt,Fe,{provide:X,useExisting:Fe},{provide:j,useFactory:()=>(0,E.WQX)(Ve,{optional:!0})??(0,E.WQX)(gt)},{provide:Q,useValue:Qt,multi:!0},{provide:It,useValue:!0},{provide:An,useClass:en}];for(const Tn of tn)_n.push(...Tn.\u0275providers);return(0,E.EmA)(_n)}const hr=new E.nKC("");function vt(){return function Ht(tn,_n){return{\u0275kind:tn,\u0275providers:_n}}(ft.LegacyInterceptors,[{provide:hr,useFactory:Ee},{provide:Q,useExisting:hr,multi:!0}])}let un=(()=>{class tn{static#e=this.\u0275fac=function(jn){return new(jn||tn)};static#t=this.\u0275mod=E.$C({type:tn});static#n=this.\u0275inj=E.G2t({providers:[qt(vt())]})}return tn})()},93953:(je,H,w)=>{"use strict";function d(o,u){return Object.is(o,u)}w.d(H,{bc$:()=>kk,iLQ:()=>iw,sZ2:()=>p_,hnV:()=>YC,wjH:()=>qc,o8S:()=>ol,BIS:()=>jT,gRc:()=>AE,Ql9:()=>$R,OM3:()=>Xy,Ocv:()=>KM,Z63:()=>Me,aKT:()=>Ty,uvJ:()=>ou,zcH:()=>zu,bkB:()=>Pf,y_5:()=>va,$GK:()=>oo,nKC:()=>zi,zZn:()=>Jc,_q3:()=>HM,MKu:()=>g3,xe9:()=>Og,Co$:()=>lb,Vns:()=>hu,SKi:()=>ba,Xx1:()=>La,Agw:()=>B2,PLl:()=>FT,rOR:()=>o_,sFG:()=>M8,_9s:()=>e1,czy:()=>I_,WPN:()=>Qm,kdw:()=>yl,C4Q:()=>j_,NYb:()=>rB,giA:()=>LM,RxE:()=>tc,c1b:()=>qp,gXe:()=>pt,mal:()=>n1,Tzd:()=>Qx,L39:()=>TO,EWP:()=>yw,sbv:()=>Qn,a0P:()=>QM,Ol2:()=>eg,w6W:()=>Rl,QZP:()=>X0,Rfq:()=>ud,WQX:()=>Ir,hFB:()=>A2,naY:()=>Xs,Hps:()=>kt,QuC:()=>Ua,EmA:()=>Lw,geq:()=>Cl,Udg:()=>$B,Jn2:()=>n3,HJs:()=>IO,N4e:()=>QE,vPA:()=>Ks,O8t:()=>DO,ebz:()=>ao,An2:()=>d0,H3F:()=>TR,zAP:()=>CE,H8p:()=>oi,KH2:()=>bu,TgB:()=>Wm,wOt:()=>Pr,WHO:()=>LR,e01:()=>XC,lNU:()=>bo,h9k:()=>xl,$MX:()=>__,ZF7:()=>yh,Kcf:()=>zk,e5t:()=>X2,UyX:()=>Wk,cWb:()=>Hk,osQ:()=>Gk,H5H:()=>Ob,Zy3:()=>Ii,mq5:()=>fm,JZv:()=>Wr,TL3:()=>pO,LfX:()=>nu,plB:()=>bh,jNT:()=>EE,zjR:()=>FM,ngT:()=>Dl,TL$:()=>Dk,Tbb:()=>So,rcV:()=>ep,nM4:()=>bS,Vt3:()=>y1,GFd:()=>y0,OA$:()=>r2,Jv_:()=>Ao,aNF:()=>F0,R7$:()=>kD,BMQ:()=>Sa,HbH:()=>Sb,ZvI:()=>yu,AVh:()=>Ch,vxM:()=>G1,wni:()=>SC,C6U:()=>N0,VBU:()=>cn,FsC:()=>Ui,jDH:()=>$o,G2t:()=>oc,$C:()=>Gn,EJ8:()=>fo,rXU:()=>Fy,nrm:()=>X1,eu8:()=>kb,bVm:()=>lg,qex:()=>C0,k0s:()=>Cb,j41:()=>Ib,RV6:()=>KS,xGo:()=>vT,Mr5:()=>Vf,pXf:()=>gg,KVO:()=>ji,kS0:()=>Ay,QTQ:()=>jy,bIt:()=>JS,lsd:()=>Ts,joV:()=>nT,qSk:()=>tT,XpG:()=>vg,nI1:()=>Wi,bMT:()=>RC,SdG:()=>iE,NAR:()=>_C,Y8G:()=>L1,FS9:()=>oE,lJ4:()=>yE,eq3:()=>Mg,l_i:()=>mM,NyB:()=>AC,mGM:()=>aE,sdS:()=>ma,Dyx:()=>um,Z7z:()=>FS,fX1:()=>US,Vm6:()=>I0,Njj:()=>HA,eBV:()=>zA,npT:()=>Jk,f$h:()=>tx,B4B:()=>fs,n$t:()=>uD,xc7:()=>lm,Kam:()=>qS,zvX:()=>Oh,DNE:()=>im,C5r:()=>yR,EFF:()=>uE,JRh:()=>L0,SpI:()=>Kb,Lme:()=>Vb,DH7:()=>lM,mxI:()=>ym,R50:()=>zb,GBs:()=>MC,wEZ:()=>sR});let E=null,k=!1,z=1;const x=Symbol("SIGNAL");function O(o){const u=E;return E=o,u}const L={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function D(o){if(k)throw new Error("");if(null===E)return;E.consumerOnSignalRead(o);const u=E.nextProducerIndex++;be(E),u<E.producerNode.length&&E.producerNode[u]!==o&&le(E)&&de(E.producerNode[u],E.producerIndexOfThis[u]),E.producerNode[u]!==o&&(E.producerNode[u]=o,E.producerIndexOfThis[u]=le(E)?se(o,E,u):0),E.producerLastReadVersion[u]=o.version}function j(o){if((!le(o)||o.dirty)&&(o.dirty||o.lastCleanEpoch!==z)){if(!o.producerMustRecompute(o)&&!ie(o))return o.dirty=!1,void(o.lastCleanEpoch=z);o.producerRecomputeValue(o),o.dirty=!1,o.lastCleanEpoch=z}}function G(o){if(void 0===o.liveConsumerNode)return;const u=k;k=!0;try{for(const b of o.liveConsumerNode)b.dirty||te(b)}finally{k=u}}function re(){return!1!==E?.consumerAllowSignalWrites}function te(o){o.dirty=!0,G(o),o.consumerMarkedDirty?.(o)}function J(o){return o&&(o.nextProducerIndex=0),O(o)}function Z(o,u){if(O(u),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(le(o))for(let b=o.nextProducerIndex;b<o.producerNode.length;b++)de(o.producerNode[b],o.producerIndexOfThis[b]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function ie(o){be(o);for(let u=0;u<o.producerNode.length;u++){const b=o.producerNode[u],R=o.producerLastReadVersion[u];if(R!==b.version||(j(b),R!==b.version))return!0}return!1}function ae(o){if(be(o),le(o))for(let u=0;u<o.producerNode.length;u++)de(o.producerNode[u],o.producerIndexOfThis[u]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function se(o,u,b){if(xe(o),0===o.liveConsumerNode.length&&ke(o))for(let R=0;R<o.producerNode.length;R++)o.producerIndexOfThis[R]=se(o.producerNode[R],o,R);return o.liveConsumerIndexOfThis.push(b),o.liveConsumerNode.push(u)-1}function de(o,u){if(xe(o),1===o.liveConsumerNode.length&&ke(o))for(let R=0;R<o.producerNode.length;R++)de(o.producerNode[R],o.producerIndexOfThis[R]);const b=o.liveConsumerNode.length-1;if(o.liveConsumerNode[u]=o.liveConsumerNode[b],o.liveConsumerIndexOfThis[u]=o.liveConsumerIndexOfThis[b],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,u<o.liveConsumerNode.length){const R=o.liveConsumerIndexOfThis[u],Y=o.liveConsumerNode[u];be(Y),Y.producerIndexOfThis[R]=u}}function le(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function be(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}function xe(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}function ke(o){return void 0!==o.producerNode}function C(o){const u=Object.create(g);u.computation=o;const b=()=>{if(j(u),D(u),u.value===y)throw u.error;return u.value};return b[x]=u,b}const a=Symbol("UNSET"),f=Symbol("COMPUTING"),y=Symbol("ERRORED"),g={...L,value:a,dirty:!0,error:null,equal:d,producerMustRecompute:o=>o.value===a||o.value===f,producerRecomputeValue(o){if(o.value===f)throw new Error("Detected cycle in computations.");const u=o.value;o.value=f;const b=J(o);let R;try{R=o.computation()}catch(Y){R=y,o.error=Y}finally{Z(o,b)}u!==a&&u!==y&&R!==y&&o.equal(u,R)?o.value=u:(o.value=R,o.version++)}};let T=function M(){throw new Error};function B(){T()}let s=null;function ee(o,u){re()||B(),o.equal(o.value,u)||(o.value=u,function Ve(o){o.version++,function X(){z++}(),G(o),s?.()}(o))}const Oe={...L,equal:d,value:void 0};const we=()=>{},Ue={...L,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{null!==o.schedule&&o.schedule(o.ref)},hasRun:!1,cleanupFn:we};var De=w(84412),pe=w(21413),ue=w(18359),Q=w(96354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const bo="https://g.co/ng/security#xss";class Pr extends Error{constructor(u,b){super(Ii(u,b)),this.code=u}}function Ii(o,u){return`NG0${Math.abs(o)}${u?": "+u:""}`}const Bs=Symbol("InputSignalNode#UNSET"),No={...Oe,transformFn:void 0,applyValueToInputSignal(o,u){ee(o,u)}};function fl(o,u){const b=Object.create(No);function R(){if(D(b),b.value===Bs)throw new Pr(-950,!1);return b.value}return b.value=o,b.transformFn=u?.transform,R[x]=b,R}function eo(o){return{toString:o}.toString()}const Xn="__parameters__";function pr(o,u,b){return eo(()=>{const R=function pn(o){return function(...b){if(o){const R=o(...b);for(const Y in R)this[Y]=R[Y]}}}(u);function Y(...he){if(this instanceof Y)return R.apply(this,he),this;const Ie=new Y(...he);return ze.annotation=Ie,ze;function ze(ot,Dt,Ft){const fn=ot.hasOwnProperty(Xn)?ot[Xn]:Object.defineProperty(ot,Xn,{value:[]})[Xn];for(;fn.length<=Ft;)fn.push(null);return(fn[Ft]=fn[Ft]||[]).push(Ie),ot}}return b&&(Y.prototype=Object.create(b.prototype)),Y.prototype.ngMetadataName=o,Y.annotationCls=Y,Y})}const Wr=globalThis;function qr(o){for(let u in o)if(o[u]===qr)return u;throw Error("Could not find renamed property on target object.")}function Pa(o,u){for(const b in u)u.hasOwnProperty(b)&&!o.hasOwnProperty(b)&&(o[b]=u[b])}function So(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(So).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const u=o.toString();if(null==u)return""+u;const b=u.indexOf("\n");return-1===b?u:u.substring(0,b)}function Pd(o,u){return null==o||""===o?null===u?"":u:null==u||""===u?o:o+" "+u}const Bd=qr({__forward_ref__:qr});function ud(o){return o.__forward_ref__=ud,o.toString=function(){return So(this())},o}function Mi(o){return Ul(o)?o():o}function Ul(o){return"function"==typeof o&&o.hasOwnProperty(Bd)&&o.__forward_ref__===ud}function Za(o,u,b){o!=u&&function di(o,u,b,R){throw new Error(`ASSERTION ERROR: ${o}`+(null==R?"":` [Expected=> ${b} ${R} ${u} <=Actual]`))}(b,o,u,"==")}function $o(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function oc(o){return{providers:o.providers||[],imports:o.imports||[]}}function pd(o){return hl(o,jl)||hl(o,md)}function nu(o){return null!==pd(o)}function hl(o,u){return o.hasOwnProperty(u)?o[u]:null}function ru(o){return o&&(o.hasOwnProperty(Tu)||o.hasOwnProperty(Du))?o[Tu]:null}const jl=qr({\u0275prov:qr}),Tu=qr({\u0275inj:qr}),md=qr({ngInjectableDef:qr}),Du=qr({ngInjectorDef:qr});class zi{constructor(u,b){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof b?this.__NG_ELEMENT_ID__=b:void 0!==b&&(this.\u0275prov=$o({token:this,providedIn:b.providedIn||"root",factory:b.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ef(o){return o&&!!o.\u0275providers}const Qs=qr({\u0275cmp:qr}),Iu=qr({\u0275dir:qr}),Cu=qr({\u0275pipe:qr}),xf=qr({\u0275mod:qr}),gs=qr({\u0275fac:qr}),ku=qr({__NG_ELEMENT_ID__:qr}),Ru=qr({__NG_ENV_ID__:qr});function Zi(o){return"string"==typeof o?o:null==o?"":String(o)}function Ou(o,u){throw new Pr(-201,!1)}var oo=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(oo||{});let pl;function Mc(){return pl}function Uo(o){const u=pl;return pl=o,u}function Ld(o,u,b){const R=pd(o);return R&&"root"==R.providedIn?void 0===R.value?R.value=R.factory():R.value:b&oo.Optional?null:void 0!==u?u:void Ou()}const oh={},sh="__NG_DI_FLAG__",st="ngTempTokenPath",Tt=/\n/gm,Mn="__source";let tr;function Jr(o){const u=tr;return tr=o,u}function xs(o,u=oo.Default){if(void 0===tr)throw new Pr(-203,!1);return null===tr?Ld(o,void 0,u):tr.get(o,u&oo.Optional?null:void 0,u)}function ji(o,u=oo.Default){return(Mc()||xs)(Mi(o),u)}function Ir(o,u=oo.Default){return ji(o,Qo(u))}function Qo(o){return typeof o>"u"||"number"==typeof o?o:(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function ko(o){const u=[];for(let b=0;b<o.length;b++){const R=Mi(o[b]);if(Array.isArray(R)){if(0===R.length)throw new Pr(900,!1);let Y,he=oo.Default;for(let Ie=0;Ie<R.length;Ie++){const ze=R[Ie],ot=ml(ze);"number"==typeof ot?-1===ot?Y=ze.token:he|=ot:Y=ze}u.push(ji(Y,he))}else u.push(ji(R))}return u}function Ss(o,u){return o[sh]=u,o.prototype[sh]=u,o}function ml(o){return o[sh]}const va=Ss(pr("Inject",o=>({token:o})),-1),La=Ss(pr("Optional"),8),yl=Ss(pr("SkipSelf"),4);function Pu(o,u){return o.hasOwnProperty(gs)?o[gs]:null}function Ud(o,u){o.forEach(b=>Array.isArray(b)?Ud(b,u):u(b))}function Af(o,u,b){u>=o.length?o.push(b):o.splice(u,0,b)}function mt(o,u){return u>=o.length-1?o.pop():o.splice(u,1)[0]}function gn(o,u,b){let R=or(o,u);return R>=0?o[1|R]=b:(R=~R,function $t(o,u,b,R){let Y=o.length;if(Y==u)o.push(b,R);else if(1===Y)o.push(R,o[0]),o[0]=b;else{for(Y--,o.push(o[Y-1],o[Y]);Y>u;)o[Y]=o[Y-2],Y--;o[u]=b,o[u+1]=R}}(o,R,u,b)),R}function zn(o,u){const b=or(o,u);if(b>=0)return o[1|b]}function or(o,u){return function $n(o,u,b){let R=0,Y=o.length>>b;for(;Y!==R;){const he=R+(Y-R>>1),Ie=o[he<<b];if(u===Ie)return he<<b;Ie>u?Y=he:R=he+1}return~(Y<<b)}(o,u,1)}const rr={},Xe=[],Me=new zi(""),me=new zi("",-1),ve=new zi("");class Ze{get(u,b=oh){if(b===oh){const R=new Error(`NullInjectorError: No provider for ${So(u)}!`);throw R.name="NullInjectorError",R}return b}}var qe=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(qe||{}),pt=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(pt||{}),Vt=function(o){return o[o.None=0]="None",o[o.SignalBased=1]="SignalBased",o[o.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",o}(Vt||{});function bn(o,u,b){let R=o.length;for(;;){const Y=o.indexOf(u,b);if(-1===Y)return Y;if(0===Y||o.charCodeAt(Y-1)<=32){const he=u.length;if(Y+he===R||o.charCodeAt(Y+he)<=32)return Y}b=Y+1}}function Gt(o,u,b){let R=0;for(;R<b.length;){const Y=b[R];if("number"==typeof Y){if(0!==Y)break;R++;const he=b[R++],Ie=b[R++],ze=b[R++];o.setAttribute(u,Ie,ze,he)}else{const he=Y,Ie=b[++R];an(he)?o.setProperty(u,he,Ie):o.setAttribute(u,he,Ie),R++}}return R}function bt(o){return 3===o||4===o||6===o}function an(o){return 64===o.charCodeAt(0)}function Lr(o,u){if(null!==u&&0!==u.length)if(null===o||0===o.length)o=u.slice();else{let b=-1;for(let R=0;R<u.length;R++){const Y=u[R];"number"==typeof Y?b=Y:0===b||pi(o,b,Y,null,-1===b||2===b?u[++R]:null)}}return o}function pi(o,u,b,R,Y){let he=0,Ie=o.length;if(-1===u)Ie=-1;else for(;he<o.length;){const ze=o[he++];if("number"==typeof ze){if(ze===u){Ie=-1;break}if(ze>u){Ie=he-1;break}}}for(;he<o.length;){const ze=o[he];if("number"==typeof ze)break;if(ze===b){if(null===R)return void(null!==Y&&(o[he+1]=Y));if(R===o[he+1])return void(o[he+2]=Y)}he++,null!==R&&he++,null!==Y&&he++}-1!==Ie&&(o.splice(Ie,0,u),he=Ie+1),o.splice(he++,0,b),null!==R&&o.splice(he++,0,R),null!==Y&&o.splice(he++,0,Y)}const si="ng-template";function hi(o,u,b,R){let Y=0;if(R){for(;Y<u.length&&"string"==typeof u[Y];Y+=2)if("class"===u[Y]&&-1!==bn(u[Y+1].toLowerCase(),b,0))return!0}else if(Oi(o))return!1;if(Y=u.indexOf(1,Y),Y>-1){let he;for(;++Y<u.length&&"string"==typeof(he=u[Y]);)if(he.toLowerCase()===b)return!0}return!1}function Oi(o){return 4===o.type&&o.value!==si}function Wo(o,u,b){return u===(4!==o.type||b?o.value:si)}function mi(o,u,b){let R=4;const Y=o.attrs,he=null!==Y?function Mo(o){for(let u=0;u<o.length;u++)if(bt(o[u]))return u;return o.length}(Y):0;let Ie=!1;for(let ze=0;ze<u.length;ze++){const ot=u[ze];if("number"!=typeof ot){if(!Ie)if(4&R){if(R=2|1&R,""!==ot&&!Wo(o,ot,b)||""===ot&&1===u.length){if(Cr(R))return!1;Ie=!0}}else if(8&R){if(null===Y||!hi(o,Y,ot,b)){if(Cr(R))return!1;Ie=!0}}else{const Dt=u[++ze],Ft=ki(ot,Y,Oi(o),b);if(-1===Ft){if(Cr(R))return!1;Ie=!0;continue}if(""!==Dt){let fn;if(fn=Ft>he?"":Y[Ft+1].toLowerCase(),2&R&&Dt!==fn){if(Cr(R))return!1;Ie=!0}}}}else{if(!Ie&&!Cr(R)&&!Cr(ot))return!1;if(Ie&&Cr(ot))continue;Ie=!1,R=ot|1&R}}return Cr(R)||Ie}function Cr(o){return!(1&o)}function ki(o,u,b,R){if(null===u)return-1;let Y=0;if(R||!b){let he=!1;for(;Y<u.length;){const Ie=u[Y];if(Ie===o)return Y;if(3===Ie||6===Ie)he=!0;else{if(1===Ie||2===Ie){let ze=u[++Y];for(;"string"==typeof ze;)ze=u[++Y];continue}if(4===Ie)break;if(0===Ie){Y+=4;continue}}Y+=he?1:2}return-1}return function sc(o,u){let b=o.indexOf(4);if(b>-1)for(b++;b<o.length;){const R=o[b];if("number"==typeof R)return-1;if(R===u)return b;b++}return-1}(u,o)}function uo(o,u,b=!1){for(let R=0;R<u.length;R++)if(mi(o,u[R],b))return!0;return!1}function Ge(o,u){e:for(let b=0;b<u.length;b++){const R=u[b];if(o.length===R.length){for(let Y=0;Y<o.length;Y++)if(o[Y]!==R[Y])continue e;return!0}}return!1}function ut(o,u){return o?":not("+u.trim()+")":u}function Qe(o){let u=o[0],b=1,R=2,Y="",he=!1;for(;b<o.length;){let Ie=o[b];if("string"==typeof Ie)if(2&R){const ze=o[++b];Y+="["+Ie+(ze.length>0?'="'+ze+'"':"")+"]"}else 8&R?Y+="."+Ie:4&R&&(Y+=" "+Ie);else""!==Y&&!Cr(Ie)&&(u+=ut(he,Y),Y=""),R=Ie,he=he||!Cr(R);b++}return""!==Y&&(u+=ut(he,Y)),u}function cn(o){return eo(()=>{const u=js(o),b={...u,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===qe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:u.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||pt.Emulated,styles:o.styles||Xe,_:null,schemas:o.schemas||null,tView:null,id:""};Nw(b);const R=o.dependencies;return b.directiveDefs=Bp(R,!1),b.pipeDefs=Bp(R,!0),b.id=function Np(o){let u=0;const b=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const Y of b)u=Math.imul(31,u)+Y.charCodeAt(0)|0;return u+=2147483648,"c"+u}(b),b})}function Dn(o){return yi(o)||Ns(o)}function sr(o){return null!==o}function Gn(o){return eo(()=>({type:o.type,bootstrap:o.bootstrap||Xe,declarations:o.declarations||Xe,imports:o.imports||Xe,exports:o.exports||Xe,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Gr(o,u){if(null==o)return rr;const b={};for(const R in o)if(o.hasOwnProperty(R)){const Y=o[R];let he,Ie,ze=Vt.None;Array.isArray(Y)?(ze=Y[0],he=Y[1],Ie=Y[2]??he):(he=Y,Ie=Y),u?(b[he]=ze!==Vt.None?[R,ze]:R,u[he]=Ie):b[he]=R}return b}function Ui(o){return eo(()=>{const u=js(o);return Nw(u),u})}function fo(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function yi(o){return o[Qs]||null}function Ns(o){return o[Iu]||null}function Es(o){return o[Cu]||null}function Ua(o){const u=yi(o)||Ns(o)||Es(o);return null!==u&&u.standalone}function Pi(o,u){const b=o[xf]||null;if(!b&&!0===u)throw new Error(`Type ${So(o)} does not have '\u0275mod' property.`);return b}function js(o){const u={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:u,inputTransforms:null,inputConfig:o.inputs||rr,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||Xe,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Gr(o.inputs,u),outputs:Gr(o.outputs),debugInfo:null}}function Nw(o){o.features?.forEach(u=>u(o))}function Bp(o,u){if(!o)return null;const b=u?Es:Dn;return()=>("function"==typeof o?o():o).map(R=>b(R)).filter(sr)}function Lw(o){return{\u0275providers:o}}function HP(...o){return{\u0275providers:HE(0,o),\u0275fromNgModule:!0}}function HE(o,...u){const b=[],R=new Set;let Y;const he=Ie=>{b.push(Ie)};return Ud(u,Ie=>{const ze=Ie;Uw(ze,he,[],R)&&(Y||=[],Y.push(ze))}),void 0!==Y&&Bm(Y,he),b}function Bm(o,u){for(let b=0;b<o.length;b++){const{ngModule:R,providers:Y}=o[b];DA(Y,he=>{u(he,R)})}}function Uw(o,u,b,R){if(!(o=Mi(o)))return!1;let Y=null,he=ru(o);const Ie=!he&&yi(o);if(he||Ie){if(Ie&&!Ie.standalone)return!1;Y=o}else{const ot=o.ngModule;if(he=ru(ot),!he)return!1;Y=ot}const ze=R.has(Y);if(Ie){if(ze)return!1;if(R.add(Y),Ie.dependencies){const ot="function"==typeof Ie.dependencies?Ie.dependencies():Ie.dependencies;for(const Dt of ot)Uw(Dt,u,b,R)}}else{if(!he)return!1;{if(null!=he.imports&&!ze){let Dt;R.add(Y);try{Ud(he.imports,Ft=>{Uw(Ft,u,b,R)&&(Dt||=[],Dt.push(Ft))})}finally{}void 0!==Dt&&Bm(Dt,u)}if(!ze){const Dt=Pu(Y)||(()=>new Y);u({provide:Y,useFactory:Dt,deps:Xe},Y),u({provide:ve,useValue:Y,multi:!0},Y),u({provide:Me,useValue:()=>ji(Y),multi:!0},Y)}const ot=he.providers;if(null!=ot&&!ze){const Dt=o;DA(ot,Ft=>{u(Ft,Dt)})}}}return Y!==o&&void 0!==o.providers}function DA(o,u){for(let b of o)Ef(b)&&(b=b.\u0275providers),Array.isArray(b)?DA(b,u):u(b)}const uy=qr({provide:String,useValue:qr});function Bu(o){return null!==o&&"object"==typeof o&&uy in o}function es(o){return"function"==typeof o}const oi=new zi(""),gd={},Zc={};let GE;function Fw(){return void 0===GE&&(GE=new Ze),GE}class ou{}class Fa extends ou{get destroyed(){return this._destroyed}constructor(u,b,R,Y){super(),this.parent=b,this.source=R,this.scopes=Y,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,qE(u,Ie=>this.processProvider(Ie)),this.records.set(me,iv(void 0,this)),Y.has("environment")&&this.records.set(ou,iv(void 0,this));const he=this.records.get(oi);null!=he&&"string"==typeof he.value&&this.scopes.add(he.value),this.injectorDefTypes=new Set(this.get(ve,Xe,oo.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const u=O(null);try{for(const R of this._ngOnDestroyHooks)R.ngOnDestroy();const b=this._onDestroyHooks;this._onDestroyHooks=[];for(const R of b)R()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),O(u)}}onDestroy(u){return this.assertNotDestroyed(),this._onDestroyHooks.push(u),()=>this.removeOnDestroy(u)}runInContext(u){this.assertNotDestroyed();const b=Jr(this),R=Uo(void 0);try{return u()}finally{Jr(b),Uo(R)}}get(u,b=oh,R=oo.Default){if(this.assertNotDestroyed(),u.hasOwnProperty(Ru))return u[Ru](this);R=Qo(R);const he=Jr(this),Ie=Uo(void 0);try{if(!(R&oo.SkipSelf)){let ot=this.records.get(u);if(void 0===ot){const Dt=function $s(o){return"function"==typeof o||"object"==typeof o&&o instanceof zi}(u)&&pd(u);ot=Dt&&this.injectableDefInScope(Dt)?iv(XE(u),gd):null,this.records.set(u,ot)}if(null!=ot)return this.hydrate(u,ot)}return(R&oo.Self?Fw():this.parent).get(u,b=R&oo.Optional&&b===oh?null:b)}catch(ze){if("NullInjectorError"===ze.name){if((ze[st]=ze[st]||[]).unshift(So(u)),he)throw ze;return function Ms(o,u,b,R){const Y=o[st];throw u[Mn]&&Y.unshift(u[Mn]),o.message=function yd(o,u,b,R=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let Y=So(u);if(Array.isArray(u))Y=u.map(So).join(" -> ");else if("object"==typeof u){let he=[];for(let Ie in u)if(u.hasOwnProperty(Ie)){let ze=u[Ie];he.push(Ie+":"+("string"==typeof ze?JSON.stringify(ze):So(ze)))}Y=`{${he.join(", ")}}`}return`${b}${R?"("+R+")":""}[${Y}]: ${o.replace(Tt,"\n  ")}`}("\n"+o.message,Y,b,R),o.ngTokenPath=Y,o[st]=null,o}(ze,u,"R3InjectorError",this.source)}throw ze}finally{Uo(Ie),Jr(he)}}resolveInjectorInitializers(){const u=O(null),b=Jr(this),R=Uo(void 0);try{const he=this.get(Me,Xe,oo.Self);for(const Ie of he)Ie()}finally{Jr(b),Uo(R),O(u)}}toString(){const u=[],b=this.records;for(const R of b.keys())u.push(So(R));return`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Pr(205,!1)}processProvider(u){let b=es(u=Mi(u))?u:Mi(u&&u.provide);const R=function YE(o){return Bu(o)?iv(void 0,o.useValue):iv(JE(o),gd)}(u);if(!es(u)&&!0===u.multi){let Y=this.records.get(b);Y||(Y=iv(void 0,gd,!0),Y.factory=()=>ko(Y.multi),this.records.set(b,Y)),b=u,Y.multi.push(u)}this.records.set(b,R)}hydrate(u,b){const R=O(null);try{return b.value===gd&&(b.value=Zc,b.value=b.factory()),"object"==typeof b.value&&b.value&&function li(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(b.value)&&this._ngOnDestroyHooks.add(b.value),b.value}finally{O(R)}}injectableDefInScope(u){if(!u.providedIn)return!1;const b=Mi(u.providedIn);return"string"==typeof b?"any"===b||this.scopes.has(b):this.injectorDefTypes.has(b)}removeOnDestroy(u){const b=this._onDestroyHooks.indexOf(u);-1!==b&&this._onDestroyHooks.splice(b,1)}}function XE(o){const u=pd(o),b=null!==u?u.factory:Pu(o);if(null!==b)return b;if(o instanceof zi)throw new Pr(204,!1);if(o instanceof Function)return function ZE(o){if(o.length>0)throw new Pr(204,!1);const b=function yc(o){return o&&(o[jl]||o[md])||null}(o);return null!==b?()=>b.factory(o):()=>new o}(o);throw new Pr(204,!1)}function JE(o,u,b){let R;if(es(o)){const Y=Mi(o);return Pu(Y)||XE(Y)}if(Bu(o))R=()=>Mi(o.useValue);else if(function WE(o){return!(!o||!o.useFactory)}(o))R=()=>o.useFactory(...ko(o.deps||[]));else if(function D6(o){return!(!o||!o.useExisting)}(o))R=()=>ji(Mi(o.useExisting));else{const Y=Mi(o&&(o.useClass||o.provide));if(!function WP(o){return!!o.deps}(o))return Pu(Y)||XE(Y);R=()=>new Y(...ko(o.deps))}return R}function iv(o,u,b=!1){return{factory:o,value:u,multi:b?[]:void 0}}function qE(o,u){for(const b of o)Array.isArray(b)?qE(b,u):b&&Ef(b)?qE(b.\u0275providers,u):u(b)}function QE(o,u){o instanceof Fa&&o.assertNotDestroyed();const R=Jr(o),Y=Uo(void 0);try{return u()}finally{Jr(R),Uo(Y)}}function vl(){return void 0!==Mc()||null!=function br(){return tr}()}function jw(o){if(!vl())throw new Pr(-203,!1)}const go=0,Vr=1,Li=2,Ro=3,Df=4,Yc=5,As=6,fy=7,ea=8,os=9,ah=10,Ei=11,av=12,If=13,hy=14,ja=15,Lp=16,cv=17,Up=18,lv=19,P6=20,Lm=21,t2=22,Cf=23,Ci=25,kA=1,Vl=7,py=9,bc=10;var ch=function(o){return o[o.None=0]="None",o[o.HasTransplantedViews=2]="HasTransplantedViews",o}(ch||{});function Ds(o){return Array.isArray(o)&&"object"==typeof o[kA]}function zl(o){return Array.isArray(o)&&!0===o[kA]}function RA(o){return!!(4&o.flags)}function su(o){return o.componentOffset>-1}function Kw(o){return!(1&~o.flags)}function lh(o){return!!o.template}function Yh(o){return!!(512&o[Li])}class j6{constructor(u,b,R){this.previousValue=u,this.currentValue=b,this.firstChange=R}isFirstChange(){return this.firstChange}}function NA(o,u,b,R){null!==u?u.applyValueToInputSignal(u,R):o[b]=R}function r2(){return $6}function $6(o){return o.type.prototype.ngOnChanges&&(o.setInput=K6),kf}function kf(){const o=Hl(this),u=o?.current;if(u){const b=o.previous;if(b===rr)o.previous=u;else for(let R in u)b[R]=u[R];o.current=null,this.ngOnChanges(u)}}function K6(o,u,b,R,Y){const he=this.declaredInputs[R],Ie=Hl(o)||function z6(o,u){return o[V6]=u}(o,{previous:rr,current:null}),ze=Ie.current||(Ie.current={}),ot=Ie.previous,Dt=ot[he];ze[he]=new j6(Dt&&Dt.currentValue,b,ot===rr),NA(o,u,Y,b)}r2.ngInherit=!0;const V6="__ngSimpleChanges__";function Hl(o){return o[V6]||null}const Nu=function(o,u,b){},Lu="svg";function vs(o){for(;Array.isArray(o);)o=o[go];return o}function uv(o,u){return vs(u[o])}function wd(o,u){return vs(u[o.index])}function Ai(o,u){return o.data[u]}function Uu(o,u){return o[u]}function au(o,u){const b=u[o];return Ds(b)?b:b[go]}function yy(o){return!(128&~o[Li])}function Fu(o,u){return null==u?null:o[u]}function FA(o){o[cv]=0}function dh(o){1024&o[Li]||(o[Li]|=1024,yy(o)&&a2(o))}function fv(o){return!!(9216&o[Li]||o[Cf]?.dirty)}function s2(o){o[ah].changeDetectionScheduler?.notify(7),64&o[Li]&&(o[Li]|=1024),fv(o)&&a2(o)}function a2(o){o[ah].changeDetectionScheduler?.notify(0);let u=Jh(o);for(;null!==u&&!(8192&u[Li])&&(u[Li]|=8192,yy(u));)u=Jh(u)}function c2(o,u){if(!(256&~o[Li]))throw new Pr(911,!1);null===o[Lm]&&(o[Lm]=[]),o[Lm].push(u)}function Jh(o){const u=o[Ro];return zl(u)?u[Ro]:u}const ho={lFrame:qA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let $A=!1;function gy(){return ho.bindingsEnabled}function ju(){return null!==ho.skipHydrationRootTNode}function gr(){return ho.lFrame.lView}function Fo(){return ho.lFrame.tView}function zA(o){return ho.lFrame.contextLView=o,o[ea]}function HA(o){return ho.lFrame.contextLView=null,o}function ss(){let o=cu();for(;null!==o&&64===o.type;)o=o.parent;return o}function cu(){return ho.lFrame.currentTNode}function pv(){const o=ho.lFrame,u=o.currentTNode;return o.isParent?u:u.parent}function Rf(o,u){const b=ho.lFrame;b.currentTNode=o,b.isParent=u}function l2(){return ho.lFrame.isParent}function mv(){ho.lFrame.isParent=!1}function GA(){return $A}function XA(o){$A=o}function _d(){const o=ho.lFrame;let u=o.bindingRootIndex;return-1===u&&(u=o.bindingRootIndex=o.tView.bindingStartIndex),u}function Fd(){return ho.lFrame.bindingIndex++}function $u(o){const u=ho.lFrame,b=u.bindingIndex;return u.bindingIndex=u.bindingIndex+o,b}function by(o){ho.lFrame.inI18n=o}function G6(o,u){const b=ho.lFrame;b.bindingIndex=b.bindingRootIndex=o,u2(u)}function u2(o){ho.lFrame.currentDirectiveIndex=o}function f2(o){const u=ho.lFrame.currentDirectiveIndex;return-1===u?null:o[u]}function h2(){return ho.lFrame.currentQueryIndex}function Ww(o){ho.lFrame.currentQueryIndex=o}function wy(o){const u=o[Vr];return 2===u.type?u.declTNode:1===u.type?o[Yc]:null}function YA(o,u,b){if(b&oo.SkipSelf){let Y=u,he=o;for(;!(Y=Y.parent,null!==Y||b&oo.Host||(Y=wy(he),null===Y||(he=he[hy],10&Y.type))););if(null===Y)return!1;u=Y,o=he}const R=ho.lFrame=JA();return R.currentTNode=u,R.lView=o,!0}function p2(o){const u=JA(),b=o[Vr];ho.lFrame=u,u.currentTNode=b.firstChild,u.lView=o,u.tView=b,u.contextLView=o,u.bindingIndex=b.bindingStartIndex,u.inI18n=!1}function JA(){const o=ho.lFrame,u=null===o?null:o.child;return null===u?qA(o):u}function qA(o){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=u),u}function QA(){const o=ho.lFrame;return ho.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const eT=QA;function yv(){const o=QA();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function El(){return ho.lFrame.selectedIndex}function Vm(o){ho.lFrame.selectedIndex=o}function ha(){const o=ho.lFrame;return Ai(o.tView,o.selectedIndex)}function tT(){ho.lFrame.currentNamespace=Lu}function nT(){!function m2(){ho.lFrame.currentNamespace=null}()}let iT=!0;function gv(){return iT}function uh(o){iT=o}function Ey(o,u){for(let b=u.directiveStart,R=u.directiveEnd;b<R;b++){const he=o.data[b].type.prototype,{ngAfterContentInit:Ie,ngAfterContentChecked:ze,ngAfterViewInit:ot,ngAfterViewChecked:Dt,ngOnDestroy:Ft}=he;Ie&&(o.contentHooks??=[]).push(-b,Ie),ze&&((o.contentHooks??=[]).push(b,ze),(o.contentCheckHooks??=[]).push(b,ze)),ot&&(o.viewHooks??=[]).push(-b,ot),Dt&&((o.viewHooks??=[]).push(b,Dt),(o.viewCheckHooks??=[]).push(b,Dt)),null!=Ft&&(o.destroyHooks??=[]).push(b,Ft)}}function Gw(o,u,b){oT(o,u,3,b)}function Xw(o,u,b,R){(3&o[Li])===b&&oT(o,u,b,R)}function y2(o,u){let b=o[Li];(3&b)===u&&(b&=16383,b+=1,o[Li]=b)}function oT(o,u,b,R){const he=R??-1,Ie=u.length-1;let ze=0;for(let ot=void 0!==R?65535&o[cv]:0;ot<Ie;ot++)if("number"==typeof u[ot+1]){if(ze=u[ot],null!=R&&ze>=R)break}else u[ot]<0&&(o[cv]+=65536),(ze<he||-1==he)&&(J6(o,b,u,ot),o[cv]=(4294901760&o[cv])+ot+2),ot++}function sT(o,u){Nu(4,o,u);const b=O(null);try{u.call(o)}finally{O(b),Nu(5,o,u)}}function J6(o,u,b,R){const Y=b[R]<0,he=b[R+1],ze=o[Y?-b[R]:b[R]];Y?o[Li]>>14<o[cv]>>16&&(3&o[Li])===u&&(o[Li]+=16384,sT(ze,he)):sT(ze,he)}const Fp=-1;class vv{constructor(u,b,R){this.factory=u,this.resolving=!1,this.canSeeViewProviders=b,this.injectImpl=R}}const bv={};class jp{constructor(u,b){this.injector=u,this.parentInjector=b}get(u,b,R){R=Qo(R);const Y=this.injector.get(u,bv,R);return Y!==bv||b===bv?Y:this.parentInjector.get(u,b,R)}}function wv(o){return o!==Fp}function _v(o){return 32767&o}function rs(o,u){let b=function cT(o){return o>>16}(o),R=u;for(;b>0;)R=R[hy],b--;return R}let ti=!0;function lu(o){const u=ti;return ti=o,u}const lT=255,dT=5;let uT=0;const Vu={};function Of(o,u){const b=Ev(o,u);if(-1!==b)return b;const R=u[Vr];R.firstCreatePass&&(o.injectorIndex=u.length,hh(R.data,o),hh(u,null),hh(R.blueprint,null));const Y=qw(o,u),he=o.injectorIndex;if(wv(Y)){const Ie=_v(Y),ze=rs(Y,u),ot=ze[Vr].data;for(let Dt=0;Dt<8;Dt++)u[he+Dt]=ze[Ie+Dt]|ot[Ie+Dt]}return u[he+8]=Y,he}function hh(o,u){o.push(0,0,0,0,0,0,0,0,u)}function Ev(o,u){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===u[o.injectorIndex+8]?-1:o.injectorIndex}function qw(o,u){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let b=0,R=null,Y=u;for(;null!==Y;){if(R=wT(Y),null===R)return Fp;if(b++,Y=Y[hy],-1!==R.injectorIndex)return R.injectorIndex|b<<16}return Fp}function v2(o,u,b){!function Jw(o,u,b){let R;"string"==typeof b?R=b.charCodeAt(0)||0:b.hasOwnProperty(ku)&&(R=b[ku]),null==R&&(R=b[ku]=uT++);const Y=R&lT;u.data[o+(Y>>dT)]|=1<<Y}(o,u,b)}function hT(o,u,b){if(b&oo.Optional||void 0!==o)return o;Ou()}function pT(o,u,b,R){if(b&oo.Optional&&void 0===R&&(R=null),!(b&(oo.Self|oo.Host))){const Y=o[os],he=Uo(void 0);try{return Y?Y.get(u,R,b&oo.Optional):Ld(u,R,b&oo.Optional)}finally{Uo(he)}}return hT(R,0,b)}function mT(o,u,b,R=oo.Default,Y){if(null!==o){if(2048&u[Li]&&!(R&oo.Self)){const Ie=function i4(o,u,b,R,Y){let he=o,Ie=u;for(;null!==he&&null!==Ie&&2048&Ie[Li]&&!(512&Ie[Li]);){const ze=yT(he,Ie,b,R|oo.Self,Vu);if(ze!==Vu)return ze;let ot=he.parent;if(!ot){const Dt=Ie[P6];if(Dt){const Ft=Dt.get(b,Vu,R);if(Ft!==Vu)return Ft}ot=wT(Ie),Ie=Ie[hy]}he=ot}return Y}(o,u,b,R,Vu);if(Ie!==Vu)return Ie}const he=yT(o,u,b,R,Vu);if(he!==Vu)return he}return pT(u,b,R,Y)}function yT(o,u,b,R,Y){const he=function ek(o){if("string"==typeof o)return o.charCodeAt(0)||0;const u=o.hasOwnProperty(ku)?o[ku]:void 0;return"number"==typeof u?u>=0?u&lT:tk:u}(b);if("function"==typeof he){if(!YA(u,o,R))return R&oo.Host?hT(Y,0,R):pT(u,b,R,Y);try{let Ie;if(Ie=he(R),null!=Ie||R&oo.Optional)return Ie;Ou()}finally{eT()}}else if("number"==typeof he){let Ie=null,ze=Ev(o,u),ot=Fp,Dt=R&oo.Host?u[ja][Yc]:null;for((-1===ze||R&oo.SkipSelf)&&(ot=-1===ze?qw(o,u):u[ze+8],ot!==Fp&&gT(R,!1)?(Ie=u[Vr],ze=_v(ot),u=rs(ot,u)):ze=-1);-1!==ze;){const Ft=u[Vr];if(xy(he,ze,Ft.data)){const fn=xv(ze,u,b,Ie,R,Dt);if(fn!==Vu)return fn}ot=u[ze+8],ot!==Fp&&gT(R,u[Vr].data[ze+8]===Dt)&&xy(he,ze,u)?(Ie=Ft,ze=_v(ot),u=rs(ot,u)):ze=-1}}return Y}function xv(o,u,b,R,Y,he){const Ie=u[Vr],ze=Ie.data[o+8],Ft=zm(ze,Ie,b,null==R?su(ze)&&ti:R!=Ie&&!!(3&ze.type),Y&oo.Host&&he===ze);return null!==Ft?Hm(u,Ie,Ft,ze):Vu}function zm(o,u,b,R,Y){const he=o.providerIndexes,Ie=u.data,ze=1048575&he,ot=o.directiveStart,Ft=he>>20,Rn=Y?ze+Ft:o.directiveEnd;for(let Ln=R?ze:ze+Ft;Ln<Rn;Ln++){const Yn=Ie[Ln];if(Ln<ot&&b===Yn||Ln>=ot&&Yn.type===b)return Ln}if(Y){const Ln=Ie[ot];if(Ln&&lh(Ln)&&Ln.type===b)return ot}return null}function Hm(o,u,b,R){let Y=o[b];const he=u.data;if(function q6(o){return o instanceof vv}(Y)){const Ie=Y;Ie.resolving&&function ih(o,u){throw u&&u.join(" > "),new Pr(-200,o)}(function Hi(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Zi(o)}(he[b]));const ze=lu(Ie.canSeeViewProviders);Ie.resolving=!0;const Dt=Ie.injectImpl?Uo(Ie.injectImpl):null;YA(o,R,oo.Default);try{Y=o[b]=Ie.factory(void 0,he,o,R),u.firstCreatePass&&b>=R.directiveStart&&function Y6(o,u,b){const{ngOnChanges:R,ngOnInit:Y,ngDoCheck:he}=u.type.prototype;if(R){const Ie=$6(u);(b.preOrderHooks??=[]).push(o,Ie),(b.preOrderCheckHooks??=[]).push(o,Ie)}Y&&(b.preOrderHooks??=[]).push(0-o,Y),he&&((b.preOrderHooks??=[]).push(o,he),(b.preOrderCheckHooks??=[]).push(o,he))}(b,he[b],u)}finally{null!==Dt&&Uo(Dt),lu(ze),Ie.resolving=!1,eT()}}return Y}function xy(o,u,b){return!!(b[u+(o>>dT)]&1<<o)}function gT(o,u){return!(o&oo.Self||o&oo.Host&&u)}class kc{constructor(u,b){this._tNode=u,this._lView=b}get(u,b,R){return mT(this._tNode,this._lView,u,Qo(R),b)}}function tk(){return new kc(ss(),gr())}function vT(o){return eo(()=>{const u=o.prototype.constructor,b=u[gs]||bT(u),R=Object.prototype;let Y=Object.getPrototypeOf(o.prototype).constructor;for(;Y&&Y!==R;){const he=Y[gs]||bT(Y);if(he&&he!==b)return he;Y=Object.getPrototypeOf(Y)}return he=>new he})}function bT(o){return Ul(o)?()=>{const u=bT(Mi(o));return u&&u()}:Pu(o)}function wT(o){const u=o[Vr],b=u.type;return 2===b?u.declTNode:1===b?o[Yc]:null}function Ay(o){return function fT(o,u){if("class"===u)return o.classes;if("style"===u)return o.styles;const b=o.attrs;if(b){const R=b.length;let Y=0;for(;Y<R;){const he=b[Y];if(bt(he))break;if(0===he)Y+=2;else if("number"==typeof he)for(Y++;Y<R&&"string"==typeof b[Y];)Y++;else{if(he===u)return b[Y+1];Y+=2}}}return null}(ss(),o)}function sk(o,u=null,b=null,R){const Y=ak(o,u,b,R);return Y.resolveInjectorInitializers(),Y}function ak(o,u=null,b=null,R,Y=new Set){const he=[b||Xe,HP(o)];return R=R||("object"==typeof o?void 0:So(o)),new Fa(he,u||Fw(),R||null,Y)}class Jc{static#e=this.THROW_IF_NOT_FOUND=oh;static#t=this.NULL=new Ze;static create(u,b){if(Array.isArray(u))return sk({name:""},b,u,"");{const R=u.name??"";return sk({name:R},u.parent,u.providers,R)}}static#n=this.\u0275prov=$o({token:Jc,providedIn:"any",factory:()=>ji(me)});static#f=this.__NG_ELEMENT_ID__=-1}new zi("").__NG_ELEMENT_ID__=o=>{const u=ss();if(null===u)throw new Pr(204,!1);if(2&u.type)return u.value;if(o&oo.Optional)return null;throw new Pr(204,!1)};function ph(o){return o.ngOriginalError}let e_=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=AT;static#t=this.__NG_ENV_ID__=b=>b}return o})();class lk extends e_{constructor(u){super(),this._lView=u}onDestroy(u){return c2(this._lView,u),()=>function jA(o,u){if(null===o[Lm])return;const b=o[Lm].indexOf(u);-1!==b&&o[Lm].splice(b,1)}(this._lView,u)}}function AT(){return new lk(gr())}let Wm=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new De.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const b=this.taskId++;return this.pendingTasks.add(b),b}remove(b){this.pendingTasks.delete(b),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=$o({token:o,providedIn:"root",factory:()=>new o})}return o})();const Pf=class dk extends pe.B{constructor(u=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=u,vl()&&(this.destroyRef=Ir(e_,{optional:!0})??void 0,this.pendingTasks=Ir(Wm,{optional:!0})??void 0)}emit(u){const b=O(null);try{super.next(u)}finally{O(b)}}subscribe(u,b,R){let Y=u,he=b||(()=>null),Ie=R;if(u&&"object"==typeof u){const ot=u;Y=ot.next?.bind(ot),he=ot.error?.bind(ot),Ie=ot.complete?.bind(ot)}this.__isAsync&&(he=this.wrapInTimeout(he),Y&&(Y=this.wrapInTimeout(Y)),Ie&&(Ie=this.wrapInTimeout(Ie)));const ze=super.subscribe({next:Y,error:he,complete:Ie});return u instanceof ue.yU&&u.add(ze),ze}wrapInTimeout(u){return b=>{const R=this.pendingTasks?.add();setTimeout(()=>{u(b),void 0!==R&&this.pendingTasks?.remove(R)})}}};function t_(...o){}function TT(o){let u,b;function R(){o=t_;try{void 0!==b&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(b),void 0!==u&&clearTimeout(u)}catch{}}return u=setTimeout(()=>{o(),R()}),"function"==typeof requestAnimationFrame&&(b=requestAnimationFrame(()=>{o(),R()})),()=>R()}function _2(o){return queueMicrotask(()=>o()),()=>{o=t_}}class ba{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:b=!1,shouldCoalesceRunChangeDetection:R=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pf(!1),this.onMicrotaskEmpty=new Pf(!1),this.onStable=new Pf(!1),this.onError=new Pf(!1),typeof Zone>"u")throw new Pr(908,!1);Zone.assertZonePatched();const Y=this;Y._nesting=0,Y._outer=Y._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(Y._inner=Y._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(Y._inner=Y._inner.fork(Zone.longStackTraceZoneSpec)),Y.shouldCoalesceEventChangeDetection=!R&&b,Y.shouldCoalesceRunChangeDetection=R,Y.callbackScheduled=!1,function hk(o){const u=()=>{!function fk(o){o.isCheckStableRunning||o.callbackScheduled||(o.callbackScheduled=!0,Zone.root.run(()=>{TT(()=>{o.callbackScheduled=!1,x2(o),o.isCheckStableRunning=!0,E2(o),o.isCheckStableRunning=!1})}),x2(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(b,R,Y,he,Ie,ze)=>{if(function pk(o){return kT(o,"__ignore_ng_zone__")}(ze))return b.invokeTask(Y,he,Ie,ze);try{return IT(o),b.invokeTask(Y,he,Ie,ze)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===he.type||o.shouldCoalesceRunChangeDetection)&&u(),CT(o)}},onInvoke:(b,R,Y,he,Ie,ze,ot)=>{try{return IT(o),b.invoke(Y,he,Ie,ze,ot)}finally{o.shouldCoalesceRunChangeDetection&&!o.callbackScheduled&&!function mk(o){return kT(o,"__scheduler_tick__")}(ze)&&u(),CT(o)}},onHasTask:(b,R,Y,he)=>{b.hasTask(Y,he),R===Y&&("microTask"==he.change?(o._hasPendingMicrotasks=he.microTask,x2(o),E2(o)):"macroTask"==he.change&&(o.hasPendingMacrotasks=he.macroTask))},onHandleError:(b,R,Y,he)=>(b.handleError(Y,he),o.runOutsideAngular(()=>o.onError.emit(he)),!1)})}(Y)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ba.isInAngularZone())throw new Pr(909,!1)}static assertNotInAngularZone(){if(ba.isInAngularZone())throw new Pr(909,!1)}run(u,b,R){return this._inner.run(u,b,R)}runTask(u,b,R,Y){const he=this._inner,Ie=he.scheduleEventTask("NgZoneEvent: "+Y,u,uk,t_,t_);try{return he.runTask(Ie,b,R)}finally{he.cancelTask(Ie)}}runGuarded(u,b,R){return this._inner.runGuarded(u,b,R)}runOutsideAngular(u){return this._outer.run(u)}}const uk={};function E2(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function x2(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&!0===o.callbackScheduled)}function IT(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function CT(o){o._nesting--,E2(o)}class S2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pf,this.onMicrotaskEmpty=new Pf,this.onStable=new Pf,this.onError=new Pf}run(u,b,R){return u.apply(b,R)}runGuarded(u,b,R){return u.apply(b,R)}runOutsideAngular(u){return u()}runTask(u,b,R,Y){return u.apply(b,R)}}function kT(o,u){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0]?.data?.[u]}class zu{constructor(){this._console=console}handleError(u){const b=this._findOriginalError(u);this._console.error("ERROR",u),b&&this._console.error("ORIGINAL ERROR",b)}_findOriginalError(u){let b=u&&ph(u);for(;b&&ph(b);)b=ph(b);return b||null}}const r_=new zi("",{providedIn:"root",factory:()=>{const o=Ir(ba),u=Ir(zu);return b=>o.runOutsideAngular(()=>u.handleError(b))}});class Sv{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=Ir(zu,{optional:!0}),this.destroyRef=Ir(e_),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(u){if(this.destroyed)throw new Pr(953,!1);return(this.listeners??=[]).push(u),{unsubscribe:()=>{const b=this.listeners?.indexOf(u);void 0!==b&&-1!==b&&this.listeners?.splice(b,1)}}}emit(u){if(this.destroyed)throw new Pr(953,!1);if(null===this.listeners)return;const b=O(null);try{for(const R of this.listeners)try{R(u)}catch(Y){this.errorHandler?.handleError(Y)}}finally{O(b)}}}function RT(o,u){return fl(o,u)}const A2=(RT.required=function M2(o){return fl(Bs,o)},RT);function d4(){return Mv(ss(),gr())}function Mv(o,u){return new Ty(wd(o,u))}let Ty=(()=>{class o{constructor(b){this.nativeElement=b}static#e=this.__NG_ELEMENT_ID__=d4}return o})();function i_(o){return o instanceof Ty?o.nativeElement:o}function Rc(){return this._results[Symbol.iterator]()}class o_{static#e=Symbol.iterator;get changes(){return this._changes??=new Pf}constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const b=o_.prototype;b[Symbol.iterator]||(b[Symbol.iterator]=Rc)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,b){return this._results.reduce(u,b)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,b){this.dirty=!1;const R=function vc(o){return o.flat(Number.POSITIVE_INFINITY)}(u);(this._changesDetected=!function Pm(o,u,b){if(o.length!==u.length)return!1;for(let R=0;R<o.length;R++){let Y=o[R],he=u[R];if(b&&(Y=b(Y),he=b(he)),he!==Y)return!1}return!0}(this._results,R,b))&&(this._results=R,this.length=R.length,this.last=R[this.length-1],this.first=R[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(u){this._onDirty=u}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Tv(o){return!(128&~o.flags)}const a_=new Map;let gk=0;const Dv="__ngContext__";function Oc(o,u){Ds(u)?(o[Dv]=u[lv],function bk(o){a_.set(o[lv],o)}(u)):o[Dv]=u}function D2(o){return u_(o[av])}function I2(o){return u_(o[Df])}function u_(o){for(;null!==o&&!zl(o);)o=o[Df];return o}let P2;function Dk(o){P2=o}function $p(){if(void 0!==P2)return P2;if(typeof document<"u")return document;throw new Pr(210,!1)}const p_=new zi("",{providedIn:"root",factory:()=>Ik}),Ik="ng",FT=new zi(""),B2=new zi("",{providedIn:"platform",factory:()=>"unknown"}),kk=new zi(""),jT=new zi("",{providedIn:"root",factory:()=>$p().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let WT=()=>null;function $2(o,u,b=!1){return WT(o,u,b)}const H2=new zi("",{providedIn:"root",factory:()=>!1});let w_,Oy;function Ry(o){return function qm(){if(void 0===w_&&(w_=null,Wr.trustedTypes))try{w_=Wr.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return w_}()?.createHTML(o)||o}function Py(){if(void 0===Oy&&(Oy=null,Wr.trustedTypes))try{Oy=Wr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Oy}function G2(o){return Py()?.createHTML(o)||o}function tD(o){return Py()?.createScriptURL(o)||o}class Vp{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bo})`}}class nD extends Vp{getTypeName(){return"HTML"}}class jk extends Vp{getTypeName(){return"Style"}}class $k extends Vp{getTypeName(){return"Script"}}class Kk extends Vp{getTypeName(){return"URL"}}class Vk extends Vp{getTypeName(){return"ResourceURL"}}function ep(o){return o instanceof Vp?o.changingThisBreaksApplicationSecurity:o}function yh(o,u){const b=function By(o){return o instanceof Vp&&o.getTypeName()||null}(o);if(null!=b&&b!==u){if("ResourceURL"===b&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${b} (see ${bo})`)}return b===u}function zk(o){return new nD(o)}function Hk(o){return new jk(o)}function Wk(o){return new $k(o)}function Gk(o){return new Kk(o)}function X2(o){return new Vk(o)}function Z2(o){const u=new iD(o);return function zp(){try{return!!(new window.DOMParser).parseFromString(Ry(""),"text/html")}catch{return!1}}()?new rD(u):u}class rD{constructor(u){this.inertDocumentHelper=u}getInertBodyElement(u){u="<body><remove></remove>"+u;try{const b=(new window.DOMParser).parseFromString(Ry(u),"text/html").body;return null===b?this.inertDocumentHelper.getInertBodyElement(u):(b.firstChild?.remove(),b)}catch{return null}}}class iD{constructor(u){this.defaultDoc=u,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(u){const b=this.inertDocument.createElement("template");return b.innerHTML=Ry(u),b}}const oD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function __(o){return(o=String(o)).match(oD)?o:"unsafe:"+o}function tp(o){const u={};for(const b of o.split(","))u[b]=!0;return u}function Nv(...o){const u={};for(const b of o)for(const R in b)b.hasOwnProperty(R)&&(u[R]=!0);return u}const sD=tp("area,br,col,hr,img,wbr"),E_=tp("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),np=tp("rp,rt"),Y2=Nv(sD,Nv(E_,tp("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Nv(np,tp("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Nv(np,E_)),J2=tp("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),S_=Nv(J2,tp("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tp("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),q2=tp("script,style,template");class Is{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(u){let b=u.firstChild,R=!0,Y=[];for(;b;)if(b.nodeType===Node.ELEMENT_NODE?R=this.startElement(b):b.nodeType===Node.TEXT_NODE?this.chars(b.nodeValue):this.sanitizedSomething=!0,R&&b.firstChild)Y.push(b),b=lD(b);else for(;b;){b.nodeType===Node.ELEMENT_NODE&&this.endElement(b);let he=Lv(b);if(he){b=he;break}b=Y.pop()}return this.buf.join("")}startElement(u){const b=dD(u).toLowerCase();if(!Y2.hasOwnProperty(b))return this.sanitizedSomething=!0,!q2.hasOwnProperty(b);this.buf.push("<"),this.buf.push(b);const R=u.attributes;for(let Y=0;Y<R.length;Y++){const he=R.item(Y),Ie=he.name,ze=Ie.toLowerCase();if(!S_.hasOwnProperty(ze)){this.sanitizedSomething=!0;continue}let ot=he.value;J2[ze]&&(ot=__(ot)),this.buf.push(" ",Ie,'="',Yk(ot),'"')}return this.buf.push(">"),!0}endElement(u){const b=dD(u).toLowerCase();Y2.hasOwnProperty(b)&&!sD.hasOwnProperty(b)&&(this.buf.push("</"),this.buf.push(b),this.buf.push(">"))}chars(u){this.buf.push(Yk(u))}}function Lv(o){const u=o.nextSibling;if(u&&o!==u.previousSibling)throw Q2(u);return u}function lD(o){const u=o.firstChild;if(u&&function Wl(o,u){return(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(o,u))throw Q2(u);return u}function dD(o){const u=o.nodeName;return"string"==typeof u?u:"FORM"}function Q2(o){return new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`)}const Zk=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b4=/([^\#-~ |!])/g;function Yk(o){return o.replace(/&/g,"&amp;").replace(Zk,function(u){return"&#"+(1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536)+";"}).replace(b4,function(u){return"&#"+u.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Hp;function xl(o,u){let b=null;try{Hp=Hp||Z2(o);let R=u?String(u):"";b=Hp.getInertBodyElement(R);let Y=5,he=R;do{if(0===Y)throw new Error("Failed to sanitize html because the input is unstable");Y--,R=he,he=b.innerHTML,b=Hp.getInertBodyElement(R)}while(R!==he);return Ry((new Is).sanitizeChildren(ex(b)||b))}finally{if(b){const R=ex(b)||b;for(;R.firstChild;)R.firstChild.remove()}}}function ex(o){return"content"in o&&function w4(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Qm=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(Qm||{});function Jk(o){const u=Ly();return u?G2(u.sanitize(Qm.HTML,o)||""):yh(o,"HTML")?G2(ep(o)):xl($p(),Zi(o))}function fs(o){const u=Ly();return u?u.sanitize(Qm.URL,o)||"":yh(o,"URL")?ep(o):__(Zi(o))}function tx(o){const u=Ly();if(u)return tD(u.sanitize(Qm.RESOURCE_URL,o)||"");if(yh(o,"ResourceURL"))return tD(ep(o));throw new Pr(904,!1)}function uD(o,u,b){return function Qk(o,u){return"src"===u&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===u&&("base"===o||"link"===o)?tx:fs}(u,b)(o)}function Ly(){const o=gr();return o&&o[ah].sanitizer}const e5=/^>|^->|<!--|-->|--!>|<!-$/g,t5=/(<|>)/g,fD="\u200b$1\u200b";function Wu(o){return o instanceof Function?o():o}function Ka(o){return"browser"===(o??Ir(Jc)).get(B2)}var I_=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(I_||{});let e0;function ax(o,u){return e0(o,u)}function Sl(o,u,b,R,Y){if(null!=R){let he,Ie=!1;zl(R)?he=R:Ds(R)&&(Ie=!0,R=R[go]);const ze=vs(R);0===o&&null!==b?null==Y?MD(u,b,ze):t0(u,b,ze,Y||null,!0):1===o&&null!==b?t0(u,b,ze,Y||null,!0):2===o?function Xp(o,u,b){o.removeChild(null,u,b)}(u,ze,Ie):3===o&&u.destroyNode(ze),null!=he&&function m5(o,u,b,R,Y){const he=b[Vl];he!==vs(b)&&Sl(u,o,R,he,Y);for(let ze=bc;ze<b.length;ze++){const ot=b[ze];O_(ot[Vr],ot,o,u,R,he)}}(u,o,he,b,Y)}}function Gp(o,u){return o.createText(u)}function Xu(o,u){return o.createComment(function Hu(o){return o.replace(e5,u=>u.replace(t5,fD))}(u))}function C_(o,u,b){return o.createElement(u,b)}function lx(o,u){u[ah].changeDetectionScheduler?.notify(8),O_(o,u,u[Ei],2,null,null)}function ED(o,u){const b=o[py],R=u[Ro];(Ds(R)||u[ja]!==R[Ro][ja])&&(o[Li]|=ch.HasTransplantedViews),null===b?o[py]=[u]:b.push(u)}function dx(o,u){const b=o[py],R=b.indexOf(u);b.splice(R,1)}function Vv(o,u){if(o.length<=bc)return;const b=bc+u,R=o[b];if(R){const Y=R[Lp];null!==Y&&Y!==o&&dx(Y,R),u>0&&(o[b-1][Df]=R[Df]);const he=mt(o,bc+u);!function c5(o,u){lx(o,u),u[go]=null,u[Yc]=null}(R[Vr],R);const Ie=he[Up];null!==Ie&&Ie.detachView(he[Vr]),R[Ro]=null,R[Df]=null,R[Li]&=-129}return R}function k_(o,u){if(!(256&u[Li])){const b=u[Ei];b.destroyNode&&O_(o,u,b,3,null,null),function l5(o){let u=o[av];if(!u)return ux(o[Vr],o);for(;u;){let b=null;if(Ds(u))b=u[av];else{const R=u[bc];R&&(b=R)}if(!b){for(;u&&!u[Df]&&u!==o;)Ds(u)&&ux(u[Vr],u),u=u[Ro];null===u&&(u=o),Ds(u)&&ux(u[Vr],u),b=u&&u[Df]}u=b}}(u)}}function ux(o,u){if(256&u[Li])return;const b=O(null);try{u[Li]&=-129,u[Li]|=256,u[Cf]&&ae(u[Cf]),function u5(o,u){let b;if(null!=o&&null!=(b=o.destroyHooks))for(let R=0;R<b.length;R+=2){const Y=u[b[R]];if(!(Y instanceof vv)){const he=b[R+1];if(Array.isArray(he))for(let Ie=0;Ie<he.length;Ie+=2){const ze=Y[he[Ie]],ot=he[Ie+1];Nu(4,ze,ot);try{ot.call(ze)}finally{Nu(5,ze,ot)}}else{Nu(4,Y,he);try{he.call(Y)}finally{Nu(5,Y,he)}}}}}(o,u),function xD(o,u){const b=o.cleanup,R=u[fy];if(null!==b)for(let he=0;he<b.length-1;he+=2)if("string"==typeof b[he]){const Ie=b[he+3];Ie>=0?R[Ie]():R[-Ie].unsubscribe(),he+=2}else b[he].call(R[b[he+1]]);null!==R&&(u[fy]=null);const Y=u[Lm];if(null!==Y){u[Lm]=null;for(let he=0;he<Y.length;he++)(0,Y[he])()}}(o,u),1===u[Vr].type&&u[Ei].destroy();const R=u[Lp];if(null!==R&&zl(u[Ro])){R!==u[Ro]&&dx(R,u);const Y=u[Up];null!==Y&&Y.detachView(o)}!function wk(o){a_.delete(o[lv])}(u)}finally{O(b)}}function fx(o,u,b){return SD(o,u.parent,b)}function SD(o,u,b){let R=u;for(;null!==R&&168&R.type;)R=(u=R).parent;if(null===R)return b[go];{const{componentOffset:Y}=R;if(Y>-1){const{encapsulation:he}=o.data[R.directiveStart+Y];if(he===pt.None||he===pt.Emulated)return null}return wd(R,b)}}function t0(o,u,b,R,Y){o.insertBefore(u,b,R,Y)}function MD(o,u,b){o.appendChild(u,b)}function f5(o,u,b,R,Y){null!==R?t0(o,u,b,R,Y):MD(o,u,b)}function AD(o,u){return o.parentNode(u)}function n0(o,u,b){return TD(o,u,b)}function p5(o,u,b){return 40&o.type?wd(o,b):null}let hx,TD=p5;function DD(o,u){TD=o,hx=u}function R_(o,u,b,R){const Y=fx(o,R,u),he=u[Ei],ze=n0(R.parent||u[Yc],R,u);if(null!=Y)if(Array.isArray(b))for(let ot=0;ot<b.length;ot++)f5(he,Y,b[ot],ze,!1);else f5(he,Y,b,ze,!1);void 0!==hx&&hx(he,R,u,b,Y)}function r0(o,u){if(null!==u){const b=u.type;if(3&b)return wd(u,o);if(4&b)return mx(-1,o[u.index]);if(8&b){const R=u.child;if(null!==R)return r0(o,R);{const Y=o[u.index];return zl(Y)?mx(-1,Y):vs(Y)}}if(128&b)return r0(o,u.next);if(32&b)return ax(u,o)()||vs(o[u.index]);{const R=px(o,u);return null!==R?Array.isArray(R)?R[0]:r0(Jh(o[ja]),R):r0(o,u.next)}}return null}function px(o,u){return null!==u?o[ja][Yc].projection[u.projection]:null}function mx(o,u){const b=bc+o+1;if(b<u.length){const R=u[b],Y=R[Vr].firstChild;if(null!==Y)return r0(R,Y)}return u[Vl]}function yx(o,u,b,R,Y,he,Ie){for(;null!=b;){if(128===b.type){b=b.next;continue}const ze=R[b.index],ot=b.type;if(Ie&&0===u&&(ze&&Oc(vs(ze),R),b.flags|=2),32&~b.flags)if(8&ot)yx(o,u,b.child,R,Y,he,!1),Sl(u,o,Y,ze,he);else if(32&ot){const Dt=ax(b,R);let Ft;for(;Ft=Dt();)Sl(u,o,Y,Ft,he);Sl(u,o,Y,ze,he)}else 16&ot?ID(o,u,R,b,Y,he):Sl(u,o,Y,ze,he);b=Ie?b.projectionNext:b.next}}function O_(o,u,b,R,Y,he){yx(b,R,o.firstChild,u,Y,he,!1)}function ID(o,u,b,R,Y,he){const Ie=b[ja],ot=Ie[Yc].projection[R.projection];if(Array.isArray(ot))for(let Dt=0;Dt<ot.length;Dt++)Sl(u,o,Y,ot[Dt],he);else{let Dt=ot;const Ft=Ie[Ro];Tv(R)&&(Dt.flags|=128),yx(o,u,Dt,Ft,Y,he,!0)}}function gx(o,u,b){""===b?o.removeAttribute(u,"class"):o.setAttribute(u,"class",b)}function CD(o,u,b){const{mergedAttrs:R,classes:Y,styles:he}=b;null!==R&&Gt(o,u,R),null!==Y&&gx(o,u,Y),null!==he&&function g5(o,u,b){o.setAttribute(u,"style",b)}(o,u,he)}const xo={};function kD(o=1){RD(Fo(),gr(),El()+o,!1)}function RD(o,u,b,R){if(!R)if(3&~u[Li]){const he=o.preOrderHooks;null!==he&&Xw(u,he,0,b)}else{const he=o.preOrderCheckHooks;null!==he&&Gw(u,he,b)}Vm(b)}function Fy(o,u=oo.Default){const b=gr();return null===b?ji(o,u):mT(ss(),b,Mi(o),u)}function jy(){throw new Error("invalid")}function OD(o,u,b,R,Y,he){const Ie=O(null);try{let ze=null;Y&Vt.SignalBased&&(ze=u[R][x]),null!==ze&&void 0!==ze.transformFn&&(he=ze.transformFn(he)),Y&Vt.HasDecoratorInputTransform&&(he=o.inputTransforms[R].call(u,he)),null!==o.setInput?o.setInput(u,ze,he,b,R):NA(u,ze,R,he)}finally{O(Ie)}}function P_(o,u,b,R,Y,he,Ie,ze,ot,Dt,Ft){const fn=u.blueprint.slice();return fn[go]=Y,fn[Li]=204|R,(null!==Dt||o&&2048&o[Li])&&(fn[Li]|=2048),FA(fn),fn[Ro]=fn[hy]=o,fn[ea]=b,fn[ah]=Ie||o&&o[ah],fn[Ei]=ze||o&&o[Ei],fn[os]=ot||o&&o[os]||null,fn[Yc]=he,fn[lv]=function vk(){return gk++}(),fn[As]=Ft,fn[P6]=Dt,fn[ja]=2==u.type?o[ja]:fn,fn}function o0(o,u,b,R,Y){let he=o.data[u];if(null===he)he=vx(o,u,b,R,Y),function W6(){return ho.lFrame.inI18n}()&&(he.flags|=32);else if(64&he.type){he.type=b,he.value=R,he.attrs=Y;const Ie=pv();he.injectorIndex=null===Ie?-1:Ie.injectorIndex}return Rf(he,!0),he}function vx(o,u,b,R,Y){const he=cu(),Ie=l2(),ot=o.data[u]=function M5(o,u,b,R,Y,he){let Ie=u?u.injectorIndex:-1,ze=0;return ju()&&(ze|=128),{type:b,index:R,insertBeforeIndex:null,injectorIndex:Ie,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:ze,providerIndexes:0,value:Y,attrs:he,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,Ie?he:he&&he.parent,b,u,R,Y);return null===o.firstChild&&(o.firstChild=ot),null!==he&&(Ie?null==he.child&&null!==ot.parent&&(he.child=ot):null===he.next&&(he.next=ot,ot.prev=he)),ot}function zv(o,u,b,R){if(0===b)return-1;const Y=u.length;for(let he=0;he<b;he++)u.push(R),o.blueprint.push(R),o.data.push(null);return Y}function PD(o,u,b,R,Y){const he=El(),Ie=2&R;try{Vm(-1),Ie&&u.length>Ci&&RD(o,u,Ci,!1),Nu(Ie?2:0,Y),b(R,Y)}finally{Vm(he),Nu(Ie?3:1,Y)}}function bx(o,u,b){if(RA(u)){const R=O(null);try{const he=u.directiveEnd;for(let Ie=u.directiveStart;Ie<he;Ie++){const ze=o.data[Ie];ze.contentQueries&&ze.contentQueries(1,b[Ie],Ie)}}finally{O(R)}}}function wx(o,u,b){gy()&&(function R5(o,u,b,R){const Y=b.directiveStart,he=b.directiveEnd;su(b)&&function U5(o,u,b){const R=wd(u,o),Y=gh(b);let Ie=16;b.signals?Ie=4096:b.onPush&&(Ie=64);const ze=N_(o,P_(o,Y,null,Ie,R,u,null,o[ah].rendererFactory.createRenderer(R,b),null,null,null));o[u.index]=ze}(u,b,o.data[Y+b.componentOffset]),o.firstCreatePass||Of(b,u),Oc(R,u);const Ie=b.initialInputs;for(let ze=Y;ze<he;ze++){const ot=o.data[ze],Dt=Hm(u,o,ze,b);Oc(Dt,u),null!==Ie&&F5(0,ze-Y,Dt,ot,0,Ie),lh(ot)&&(au(b.index,u)[ea]=Hm(u,o,ze,b))}}(o,u,b,wd(b,u)),!(64&~b.flags)&&Mx(o,u,b))}function _x(o,u,b=wd){const R=u.localNames;if(null!==R){let Y=u.index+1;for(let he=0;he<R.length;he+=2){const Ie=R[he+1],ze=-1===Ie?b(u,o):o[Ie];o[Y++]=ze}}}function gh(o){const u=o.tView;return null===u||u.incompleteFirstPass?o.tView=Ex(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):u}function Ex(o,u,b,R,Y,he,Ie,ze,ot,Dt,Ft){const fn=Ci+R,Rn=fn+Y,Ln=function b5(o,u){const b=[];for(let R=0;R<u;R++)b.push(R<o?null:xo);return b}(fn,Rn),Yn="function"==typeof Dt?Dt():Dt;return Ln[Vr]={type:o,blueprint:Ln,template:b,queries:null,viewQuery:ze,declTNode:u,data:Ln.slice().fill(null,fn),bindingStartIndex:fn,expandoStartIndex:Rn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof he?he():he,pipeRegistry:"function"==typeof Ie?Ie():Ie,firstChild:null,schemas:ot,consts:Yn,incompleteFirstPass:!1,ssrId:Ft}}let BD=()=>null;function ND(o,u,b,R,Y){for(let he in u){if(!u.hasOwnProperty(he))continue;const Ie=u[he];if(void 0===Ie)continue;R??={};let ze,ot=Vt.None;Array.isArray(Ie)?(ze=Ie[0],ot=Ie[1]):ze=Ie;let Dt=he;if(null!==Y){if(!Y.hasOwnProperty(he))continue;Dt=Y[he]}0===o?LD(R,b,Dt,ze,ot):LD(R,b,Dt,ze)}return R}function LD(o,u,b,R,Y){let he;o.hasOwnProperty(b)?(he=o[b]).push(u,R):he=o[b]=[u,R],void 0!==Y&&he.push(Y)}function $d(o,u,b,R,Y,he,Ie,ze){const ot=wd(u,b);let Ft,Dt=u.inputs;!ze&&null!=Dt&&(Ft=Dt[R])?(Cx(o,b,Ft,R,Y),su(u)&&function D5(o,u){const b=au(u,o);16&b[Li]||(b[Li]|=64)}(b,u.index)):3&u.type&&(R=function T5(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(R),Y=null!=Ie?Ie(Y,u.value||"",R):Y,he.setProperty(ot,R,Y))}function xx(o,u,b,R){if(gy()){const Y=null===R?null:{"":-1},he=function P5(o,u){const b=o.directiveRegistry;let R=null,Y=null;if(b)for(let he=0;he<b.length;he++){const Ie=b[he];if(uo(u,Ie.selectors,!1))if(R||(R=[]),lh(Ie))if(null!==Ie.findHostDirectiveDefs){const ze=[];Y=Y||new Map,Ie.findHostDirectiveDefs(Ie,ze,Y),R.unshift(...ze,Ie),B_(o,u,ze.length)}else R.unshift(Ie),B_(o,u,0);else Y=Y||new Map,Ie.findHostDirectiveDefs?.(Ie,R,Y),R.push(Ie)}return null===R?null:[R,Y]}(o,b);let Ie,ze;null===he?Ie=ze=null:[Ie,ze]=he,null!==Ie&&Sx(o,u,b,Ie,Y,ze),Y&&function Ax(o,u,b){if(u){const R=o.localNames=[];for(let Y=0;Y<u.length;Y+=2){const he=b[u[Y+1]];if(null==he)throw new Pr(-301,!1);R.push(u[Y],he)}}}(b,R,Y)}b.mergedAttrs=Lr(b.mergedAttrs,b.attrs)}function Sx(o,u,b,R,Y,he){for(let Dt=0;Dt<R.length;Dt++)v2(Of(b,u),o,R[Dt].type);!function N5(o,u,b){o.flags|=1,o.directiveStart=u,o.directiveEnd=u+b,o.providerIndexes=u}(b,o.data.length,R.length);for(let Dt=0;Dt<R.length;Dt++){const Ft=R[Dt];Ft.providersResolver&&Ft.providersResolver(Ft)}let Ie=!1,ze=!1,ot=zv(o,u,R.length,null);for(let Dt=0;Dt<R.length;Dt++){const Ft=R[Dt];b.mergedAttrs=Lr(b.mergedAttrs,Ft.hostAttrs),L5(o,b,u,ot,Ft),B5(ot,Ft,Y),null!==Ft.contentQueries&&(b.flags|=4),(null!==Ft.hostBindings||null!==Ft.hostAttrs||0!==Ft.hostVars)&&(b.flags|=64);const fn=Ft.type.prototype;!Ie&&(fn.ngOnChanges||fn.ngOnInit||fn.ngDoCheck)&&((o.preOrderHooks??=[]).push(b.index),Ie=!0),!ze&&(fn.ngOnChanges||fn.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(b.index),ze=!0),ot++}!function A5(o,u,b){const Y=u.directiveEnd,he=o.data,Ie=u.attrs,ze=[];let ot=null,Dt=null;for(let Ft=u.directiveStart;Ft<Y;Ft++){const fn=he[Ft],Rn=b?b.get(fn):null,Yn=Rn?Rn.outputs:null;ot=ND(0,fn.inputs,Ft,ot,Rn?Rn.inputs:null),Dt=ND(1,fn.outputs,Ft,Dt,Yn);const vr=null===ot||null===Ie||Oi(u)?null:j5(ot,Ft,Ie);ze.push(vr)}null!==ot&&(ot.hasOwnProperty("class")&&(u.flags|=8),ot.hasOwnProperty("style")&&(u.flags|=16)),u.initialInputs=ze,u.inputs=ot,u.outputs=Dt}(o,b,he)}function Mx(o,u,b){const R=b.directiveStart,Y=b.directiveEnd,he=b.index,Ie=function X6(){return ho.lFrame.currentDirectiveIndex}();try{Vm(he);for(let ze=R;ze<Y;ze++){const ot=o.data[ze],Dt=u[ze];u2(ze),(null!==ot.hostBindings||0!==ot.hostVars||null!==ot.hostAttrs)&&O5(ot,Dt)}}finally{Vm(-1),u2(Ie)}}function O5(o,u){null!==o.hostBindings&&o.hostBindings(1,u)}function B_(o,u,b){u.componentOffset=b,(o.components??=[]).push(u.index)}function B5(o,u,b){if(b){if(u.exportAs)for(let R=0;R<u.exportAs.length;R++)b[u.exportAs[R]]=o;lh(u)&&(b[""]=o)}}function L5(o,u,b,R,Y){o.data[R]=Y;const he=Y.factory||(Y.factory=Pu(Y.type)),Ie=new vv(he,lh(Y),Fy);o.blueprint[R]=Ie,b[R]=Ie,function C5(o,u,b,R,Y){const he=Y.hostBindings;if(he){let Ie=o.hostBindingOpCodes;null===Ie&&(Ie=o.hostBindingOpCodes=[]);const ze=~u.index;(function k5(o){let u=o.length;for(;u>0;){const b=o[--u];if("number"==typeof b&&b<0)return b}return 0})(Ie)!=ze&&Ie.push(ze),Ie.push(b,R,he)}}(o,u,R,zv(o,b,Y.hostVars,xo),Y)}function vh(o,u,b,R,Y,he){const Ie=wd(o,u);!function Tx(o,u,b,R,Y,he,Ie){if(null==he)o.removeAttribute(u,Y,b);else{const ze=null==Ie?Zi(he):Ie(he,R||"",Y);o.setAttribute(u,Y,ze,b)}}(u[Ei],Ie,he,o.value,b,R,Y)}function F5(o,u,b,R,Y,he){const Ie=he[u];if(null!==Ie)for(let ze=0;ze<Ie.length;)OD(R,b,Ie[ze++],Ie[ze++],Ie[ze++],Ie[ze++])}function j5(o,u,b){let R=null,Y=0;for(;Y<b.length;){const he=b[Y];if(0!==he)if(5!==he){if("number"==typeof he)break;if(o.hasOwnProperty(he)){null===R&&(R=[]);const Ie=o[he];for(let ze=0;ze<Ie.length;ze+=3)if(Ie[ze]===u){R.push(he,Ie[ze+1],Ie[ze+2],b[Y+1]);break}}Y+=2}else Y+=2;else Y+=4}return R}function UD(o,u,b,R){return[o,!0,0,u,null,R,null,b,null,null]}function FD(o,u){const b=o.contentQueries;if(null!==b){const R=O(null);try{for(let Y=0;Y<b.length;Y+=2){const Ie=b[Y+1];if(-1!==Ie){const ze=o.data[Ie];Ww(b[Y]),ze.contentQueries(2,u[Ie],Ie)}}}finally{O(R)}}}function N_(o,u){return o[av]?o[If][Df]=u:o[av]=u,o[If]=u,u}function Dx(o,u,b){Ww(0);const R=O(null);try{u(o,b)}finally{O(R)}}function L_(o){return o[fy]??=[]}function Hv(o){return o.cleanup??=[]}function Wv(o,u,b){return(null===o||lh(o))&&(b=function o2(o){for(;Array.isArray(o);){if("object"==typeof o[kA])return o;o=o[go]}return null}(b[u.index])),b[Ei]}function s0(o,u){const b=o[os],R=b?b.get(zu,null):null;R&&R.handleError(u)}function Cx(o,u,b,R,Y){for(let he=0;he<b.length;){const Ie=b[he++],ze=b[he++],ot=b[he++];OD(o.data[Ie],u[Ie],R,ze,ot,Y)}}function rp(o,u,b){const R=uv(u,o);!function _D(o,u,b){o.setValue(u,b)}(o[Ei],R,b)}function kx(o,u){const b=au(u,o),R=b[Vr];!function jD(o,u){for(let b=u.length;b<o.blueprint.length;b++)u.push(o.blueprint[b])}(R,b);const Y=b[go];null!==Y&&null===b[As]&&(b[As]=$2(Y,b[os])),Rx(R,b,b[ea])}function Rx(o,u,b){p2(u);try{const R=o.viewQuery;null!==R&&Dx(1,R,b);const Y=o.template;null!==Y&&PD(o,u,Y,1,b),o.firstCreatePass&&(o.firstCreatePass=!1),u[Up]?.finishViewCreation(o),o.staticContentQueries&&FD(o,u),o.staticViewQueries&&Dx(2,o.viewQuery,b);const he=o.components;null!==he&&function $D(o,u){for(let b=0;b<u.length;b++)kx(o,u[b])}(u,he)}catch(R){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),R}finally{u[Li]&=-5,yv()}}function Gv(o,u,b,R){const Y=O(null);try{const he=u.tView,ot=P_(o,he,b,4096&o[Li]?4096:16,null,u,null,null,R?.injector??null,R?.embeddedViewInjector??null,R?.dehydratedView??null);ot[Lp]=o[u.index];const Ft=o[Up];return null!==Ft&&(ot[Up]=Ft.createEmbeddedView(he)),Rx(he,ot,b),ot}finally{O(Y)}}function KD(o,u){const b=bc+u;if(b<o.length)return o[b]}function Zp(o,u){return!u||null===u.firstChild||Tv(o)}function $y(o,u,b,R=!0){const Y=u[Vr];if(function d5(o,u,b,R){const Y=bc+R,he=b.length;R>0&&(b[Y-1][Df]=u),R<he-bc?(u[Df]=b[Y],Af(b,bc+R,u)):(b.push(u),u[Df]=null),u[Ro]=b;const Ie=u[Lp];null!==Ie&&b!==Ie&&ED(Ie,u);const ze=u[Up];null!==ze&&ze.insertView(o),s2(u),u[Li]|=128}(Y,u,o,b),R){const Ie=mx(b,o),ze=u[Ei],ot=AD(ze,o[Vl]);null!==ot&&function cx(o,u,b,R,Y,he){R[go]=Y,R[Yc]=u,O_(o,R,b,1,Y,he)}(Y,o[Yc],ze,u,ot,Ie)}const he=u[As];null!==he&&null!==he.firstChild&&(he.firstChild=null)}function U_(o,u){const b=Vv(o,u);return void 0!==b&&k_(b[Vr],b),b}function Xv(o,u,b,R,Y=!1){for(;null!==b;){if(128===b.type){b=Y?b.projectionNext:b.next;continue}const he=u[b.index];null!==he&&R.push(vs(he)),zl(he)&&VD(he,R);const Ie=b.type;if(8&Ie)Xv(o,u,b.child,R);else if(32&Ie){const ze=ax(b,u);let ot;for(;ot=ze();)R.push(ot)}else if(16&Ie){const ze=px(u,b);if(Array.isArray(ze))R.push(...ze);else{const ot=Jh(u[ja]);Xv(ot[Vr],ot,ze,R,!0)}}b=Y?b.projectionNext:b.next}return R}function VD(o,u){for(let b=bc;b<o.length;b++){const R=o[b],Y=R[Vr].firstChild;null!==Y&&Xv(R[Vr],R,Y,u)}o[Vl]!==o[go]&&u.push(o[Vl])}let F_=[];const Ox={...L,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{a2(o.lView)},consumerOnSignalRead(){this.lView[Cf]=this}},$5={...L,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{let u=Jh(o.lView);for(;u&&!HD(u[Vr]);)u=Jh(u);u&&dh(u)},consumerOnSignalRead(){this.lView[Cf]=this}};function HD(o){return 2!==o.type}const K5=100;function Yp(o,u=!0,b=0){const R=o[ah],Y=R.rendererFactory;Y.begin?.();try{!function V5(o,u){const b=GA();try{XA(!0),Nx(o,u);let R=0;for(;fv(o);){if(R===K5)throw new Pr(103,!1);R++,Nx(o,1)}}finally{XA(b)}}(o,b)}catch(Ie){throw u&&s0(o,Ie),Ie}finally{Y.end?.(),R.inlineEffectRunner?.flush()}}function z5(o,u,b,R){const Y=u[Li];if(!(256&~Y))return;u[ah].inlineEffectRunner?.flush(),p2(u);let ze=!0,ot=null,Dt=null;HD(o)?(Dt=function I4(o){return o[Cf]??function C4(o){const u=F_.pop()??Object.create(Ox);return u.lView=o,u}(o)}(u),ot=J(Dt)):null===function A(){return E}()?(ze=!1,Dt=function Al(o){const u=o[Cf]??Object.create($5);return u.lView=o,u}(u),ot=J(Dt)):u[Cf]&&(ae(u[Cf]),u[Cf]=null);try{FA(u),function ZA(o){return ho.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==b&&PD(o,u,b,2,R);const Ft=!(3&~Y);if(Ft){const Ln=o.preOrderCheckHooks;null!==Ln&&Gw(u,Ln,null)}else{const Ln=o.preOrderHooks;null!==Ln&&Xw(u,Ln,0,null),y2(u,0)}if(function k4(o){for(let u=D2(o);null!==u;u=I2(u)){if(!(u[Li]&ch.HasTransplantedViews))continue;const b=u[py];for(let R=0;R<b.length;R++)dh(b[R])}}(u),Bx(u,0),null!==o.contentQueries&&FD(o,u),Ft){const Ln=o.contentCheckHooks;null!==Ln&&Gw(u,Ln)}else{const Ln=o.contentHooks;null!==Ln&&Xw(u,Ln,1),y2(u,1)}!function v5(o,u){const b=o.hostBindingOpCodes;if(null!==b)try{for(let R=0;R<b.length;R++){const Y=b[R];if(Y<0)Vm(~Y);else{const he=Y,Ie=b[++R],ze=b[++R];G6(Ie,he),ze(2,u[he])}}}finally{Vm(-1)}}(o,u);const fn=o.components;null!==fn&&Lx(u,fn,0);const Rn=o.viewQuery;if(null!==Rn&&Dx(2,Rn,R),Ft){const Ln=o.viewCheckHooks;null!==Ln&&Gw(u,Ln)}else{const Ln=o.viewHooks;null!==Ln&&Xw(u,Ln,2),y2(u,2)}if(!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),u[t2]){for(const Ln of u[t2])Ln();u[t2]=null}u[Li]&=-73}catch(Ft){throw a2(u),Ft}finally{null!==Dt&&(Z(Dt,ot),ze&&function zD(o){o.lView[Cf]!==o&&(o.lView=null,F_.push(o))}(Dt)),yv()}}function Bx(o,u){for(let b=D2(o);null!==b;b=I2(b))for(let R=bc;R<b.length;R++)H5(b[R],u)}function R4(o,u,b){H5(au(u,o),b)}function H5(o,u){yy(o)&&Nx(o,u)}function Nx(o,u){const R=o[Vr],Y=o[Li],he=o[Cf];let Ie=!!(0===u&&16&Y);if(Ie||=!!(64&Y&&0===u),Ie||=!!(1024&Y),Ie||=!(!he?.dirty||!ie(he)),Ie||=!1,he&&(he.dirty=!1),o[Li]&=-9217,Ie)z5(R,o,R.template,o[ea]);else if(8192&Y){Bx(o,1);const ze=R.components;null!==ze&&Lx(o,ze,1)}}function Lx(o,u,b){for(let R=0;R<u.length;R++)R4(o,u[R],b)}function Ky(o,u){const b=GA()?64:1088;for(o[ah].changeDetectionScheduler?.notify(u);o;){o[Li]|=b;const R=Jh(o);if(Yh(o)&&!R)return o;o=R}return null}class a0{get rootNodes(){const u=this._lView,b=u[Vr];return Xv(b,u,b.firstChild,[])}constructor(u,b,R=!0){this._lView=u,this._cdRefInjectingView=b,this.notifyErrorHandler=R,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ea]}set context(u){this._lView[ea]=u}get destroyed(){return!(256&~this._lView[Li])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[Ro];if(zl(u)){const b=u[8],R=b?b.indexOf(this):-1;R>-1&&(Vv(u,R),mt(b,R))}this._attachedToViewContainer=!1}k_(this._lView[Vr],this._lView)}onDestroy(u){c2(this._lView,u)}markForCheck(){Ky(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Li]&=-129}reattach(){s2(this._lView),this._lView[Li]|=128}detectChanges(){this._lView[Li]|=1024,Yp(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Pr(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const u=Yh(this._lView),b=this._lView[Lp];null!==b&&!u&&dx(b,this._lView),lx(this._lView[Vr],this._lView)}attachToAppRef(u){if(this._attachedToViewContainer)throw new Pr(902,!1);this._appRef=u;const b=Yh(this._lView),R=this._lView[Lp];null!==R&&!b&&ED(R,this._lView),s2(this._lView)}}let j_=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=X5}return o})();const W5=j_,G5=class extends W5{constructor(u,b,R){super(),this._declarationLView=u,this._declarationTContainer=b,this.elementRef=R}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(u,b){return this.createEmbeddedViewImpl(u,b)}createEmbeddedViewImpl(u,b,R){const Y=Gv(this._declarationLView,this._declarationTContainer,u,{embeddedViewInjector:b,dehydratedView:R});return new a0(Y)}};function X5(){return $_(ss(),gr())}function $_(o,u){return 4&o.type?new G5(u,o,Mv(o,u)):null}function ZD(o,u,b){const R=u.insertBeforeIndex,Y=Array.isArray(R)?R[0]:R;return null===Y?p5(o,0,b):vs(b[Y])}function YD(o,u,b,R,Y){const he=u.insertBeforeIndex;if(Array.isArray(he)){let Ie=R,ze=null;if(3&u.type||(ze=Ie,Ie=Y),null!==Ie&&-1===u.componentOffset)for(let ot=1;ot<he.length;ot++)t0(o,Ie,b[he[ot]],ze,!1)}}function JD(o,u){if(o.push(u),o.length>1)for(let b=o.length-2;b>=0;b--){const R=o[b];qD(R)||QD(R,u)&&null===e8(R)&&eI(R,u.index)}}function qD(o){return!(64&o.type)}function QD(o,u){return qD(u)||o.index>u.index}function e8(o){const u=o.insertBeforeIndex;return Array.isArray(u)?u[0]:u}function eI(o,u){const b=o.insertBeforeIndex;Array.isArray(b)?b[0]=u:(DD(ZD,YD),o.insertBeforeIndex=u)}function ip(o,u,b){const R=vx(o,b,64,null,null);return JD(u,R),R}function tI(o,u,b){o.index=0;const R=function c0(o,u){const b=u[o.currentCaseLViewIndex];return null===b?b:b<0?~b:b}(u,b);o.removes=null!==R?u.remove[R]:Xe}function Kx(o){if(o.index<o.removes.length){const u=o.removes[o.index++];return u>0?o.lView[u]:(o.stack.push(o.index,o.removes),tI(o,o.lView[Vr].data[~u],o.lView),Kx(o))}return 0===o.stack.length?null:(o.removes=o.stack.pop(),o.index=o.stack.pop(),Kx(o))}function N4(){const o={stack:[],index:-1};return function u(b,R){for(o.lView=R;o.stack.length;)o.stack.pop();return tI(o,b.value,R),Kx.bind(null,o)}}let aI=()=>{},b8=()=>null;function l0(o,u){return b8(o,u)}class d0{}const tb=new zi("",{providedIn:"root",factory:()=>!1}),Q_=new zi("");class E8{}class fI{}class S8{resolveComponentFactory(u){throw function x8(o){const u=Error(`No component factory found for ${So(o)}.`);return u.ngComponent=o,u}(u)}}class Xy{static#e=this.NULL=new S8}class e1{}let M8=(()=>{class o{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function qx(){const o=gr(),b=au(ss().index,o);return(Ds(b)?b:o)[Ei]}()}return o})(),pI=(()=>{class o{static#e=this.\u0275prov=$o({token:o,providedIn:"root",factory:()=>null})}return o})();const mI=new Set;function Dl(o){mI.has(o)||(mI.add(o),performance?.mark?.("mark_feature_usage",{detail:{feature:o}}))}var qc=function(o){return o[o.EarlyRead=0]="EarlyRead",o[o.Write=1]="Write",o[o.MixedReadWrite=2]="MixedReadWrite",o[o.Read=3]="Read",o}(qc||{});const yI={destroy(){}};function Qx(o,u){!u&&jw();const b=u?.injector??Ir(Jc);return Ka(b)?(Dl("NgAfterRender"),r1(o,b,!1,u?.phase??qc.MixedReadWrite)):yI}function n1(o,u){!u&&jw();const b=u?.injector??Ir(Jc);return Ka(b)?(Dl("NgAfterNextRender"),r1(o,b,!0,u?.phase??qc.MixedReadWrite)):yI}function r1(o,u,b,R){const Y=function A8(o,u){if(o instanceof Function)switch(u){case qc.EarlyRead:return{earlyRead:o};case qc.Write:return{write:o};case qc.MixedReadWrite:return{mixedReadWrite:o};case qc.Read:return{read:o}}return o}(o,R),he=u.get(Zy),Ie=he.handler??=new D8,ze=[],ot=[],Dt=()=>{for(const Ln of ot)Ie.unregister(Ln);Ft()},Ft=u.get(e_).onDestroy(Dt);let fn=0;const Rn=(Ln,Yn)=>{if(!Yn)return;const vr=b?(...Xr)=>(fn--,fn<1&&Dt(),Yn(...Xr)):Yn,Fr=QE(u,()=>new T8(Ln,ze,vr));Ie.register(Fr),ot.push(Fr),fn++};return Rn(qc.EarlyRead,Y.earlyRead),Rn(qc.Write,Y.write),Rn(qc.MixedReadWrite,Y.mixedReadWrite),Rn(qc.Read,Y.read),{destroy:Dt}}class T8{constructor(u,b,R){this.phase=u,this.pipelinedArgs=b,this.callbackFn=R,this.zone=Ir(ba),this.errorHandler=Ir(zu,{optional:!0}),Ir(d0,{optional:!0})?.notify(6)}invoke(){try{const u=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,u)}catch(u){this.errorHandler?.handleError(u)}}}class D8{constructor(){this.executingCallbacks=!1,this.buckets={[qc.EarlyRead]:new Set,[qc.Write]:new Set,[qc.MixedReadWrite]:new Set,[qc.Read]:new Set},this.deferredCallbacks=new Set}register(u){(this.executingCallbacks?this.deferredCallbacks:this.buckets[u.phase]).add(u)}unregister(u){this.buckets[u.phase].delete(u),this.deferredCallbacks.delete(u)}execute(){this.executingCallbacks=!0;for(const u of Object.values(this.buckets))for(const b of u)b.invoke();this.executingCallbacks=!1;for(const u of this.deferredCallbacks)this.buckets[u.phase].add(u);this.deferredCallbacks.clear()}destroy(){for(const u of Object.values(this.buckets))u.clear();this.deferredCallbacks.clear()}}let Zy=(()=>{class o{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const b=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const R of b)R()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=$o({token:o,providedIn:"root",factory:()=>new o})}return o})();function bh(o){return!!Pi(o)}function Jy(o,u,b){let R=b?o.styles:null,Y=b?o.classes:null,he=0;if(null!==u)for(let Ie=0;Ie<u.length;Ie++){const ze=u[Ie];"number"==typeof ze?he=ze:1==he?Y=Pd(Y,ze):2==he&&(R=Pd(R,ze+": "+u[++Ie]+";"))}b?o.styles=R:o.stylesWithoutHost=R,b?o.classes=Y:o.classesWithoutHost=Y}class c1 extends Xy{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const b=yi(u);return new qy(b,this.ngModule)}}function tS(o,u){const b=[];for(const R in o){if(!o.hasOwnProperty(R))continue;const Y=o[R];if(void 0===Y)continue;const he=Array.isArray(Y),Ie=he?Y[0]:Y;b.push(u?{propName:Ie,templateName:R,isSignal:!!((he?Y[1]:Vt.None)&Vt.SignalBased)}:{propName:Ie,templateName:R})}return b}class qy extends fI{get inputs(){const u=this.componentDef,b=u.inputTransforms,R=tS(u.inputs,!0);if(null!==b)for(const Y of R)b.hasOwnProperty(Y.propName)&&(Y.transform=b[Y.propName]);return R}get outputs(){return tS(this.componentDef.outputs,!1)}constructor(u,b){super(),this.componentDef=u,this.ngModule=b,this.componentType=u.type,this.selector=function yt(o){return o.map(Qe).join(",")}(u.selectors),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!b}create(u,b,R,Y){const he=O(null);try{let Ie=(Y=Y||this.ngModule)instanceof ou?Y:Y?.injector;Ie&&null!==this.componentDef.getStandaloneInjector&&(Ie=this.componentDef.getStandaloneInjector(Ie)||Ie);const ze=Ie?new jp(u,Ie):u,ot=ze.get(e1,null);if(null===ot)throw new Pr(407,!1);const Dt=ze.get(pI,null),Rn={rendererFactory:ot,sanitizer:Dt,inlineEffectRunner:null,afterRenderEventManager:ze.get(Zy,null),changeDetectionScheduler:ze.get(d0,null)},Ln=ot.createRenderer(null,this.componentDef),Yn=this.componentDef.selectors[0][0]||"div",vr=R?function w5(o,u,b,R){const he=R.get(H2,!1)||b===pt.ShadowDom,Ie=o.selectRootElement(u,he);return function _5(o){BD(o)}(Ie),Ie}(Ln,R,this.componentDef.encapsulation,ze):C_(Ln,Yn,function bI(o){const u=o.toLowerCase();return"svg"===u?Lu:"math"===u?"math":null}(Yn));let Fr=512;this.componentDef.signals?Fr|=4096:this.componentDef.onPush||(Fr|=16);let Xr=null;null!==vr&&(Xr=$2(vr,ze,!0));const Er=Ex(0,null,null,1,0,null,null,null,null,null,null),qi=P_(null,Er,null,Fr,null,null,Rn,Ln,ze,null,Xr);let Zo,oa;p2(qi);try{const fc=this.componentDef;let Eu,Fg=null;fc.findHostDirectiveDefs?(Eu=[],Fg=new Map,fc.findHostDirectiveDefs(fc,Eu,Fg),Eu.push(fc)):Eu=[fc];const Tm=function wI(o,u){const b=o[Vr],R=Ci;return o[R]=u,o0(b,R,2,"#host",null)}(qi,vr),CO=function nb(o,u,b,R,Y,he,Ie){const ze=Y[Vr];!function rb(o,u,b,R){for(const Y of o)u.mergedAttrs=Lr(u.mergedAttrs,Y.hostAttrs);null!==u.mergedAttrs&&(Jy(u,u.mergedAttrs,!0),null!==b&&CD(R,b,u))}(R,o,u,Ie);let ot=null;null!==u&&(ot=$2(u,Y[os]));const Dt=he.rendererFactory.createRenderer(u,b);let Ft=16;b.signals?Ft=4096:b.onPush&&(Ft=64);const fn=P_(Y,gh(b),null,Ft,Y[o.index],o,he,Dt,null,null,ot);return ze.firstCreatePass&&B_(ze,o,R.length-1),N_(Y,fn),Y[o.index]=fn}(Tm,vr,fc,Eu,qi,Rn,Ln);oa=Ai(Er,Ci),vr&&function ib(o,u,b,R){if(R)Gt(o,b,["ng-version","18.1.4"]);else{const{attrs:Y,classes:he}=function Ut(o){const u=[],b=[];let R=1,Y=2;for(;R<o.length;){let he=o[R];if("string"==typeof he)2===Y?""!==he&&u.push(he,o[++R]):8===Y&&b.push(he);else{if(!Cr(Y))break;Y=he}R++}return{attrs:u,classes:b}}(u.selectors[0]);Y&&Gt(o,b,Y),he&&he.length>0&&gx(o,b,he.join(" "))}}(Ln,fc,vr,R),void 0!==b&&function nS(o,u,b){const R=o.projection=[];for(let Y=0;Y<u.length;Y++){const he=b[Y];R.push(null!=he?Array.from(he):null)}}(oa,this.ngContentSelectors,b),Zo=function l1(o,u,b,R,Y,he){const Ie=ss(),ze=Y[Vr],ot=wd(Ie,Y);Sx(ze,Y,Ie,b,null,R);for(let Ft=0;Ft<b.length;Ft++)Oc(Hm(Y,ze,Ie.directiveStart+Ft,Ie),Y);Mx(ze,Y,Ie),ot&&Oc(ot,Y);const Dt=Hm(Y,ze,Ie.directiveStart+Ie.componentOffset,Ie);if(o[ea]=Y[ea]=Dt,null!==he)for(const Ft of he)Ft(Dt,u);return bx(ze,Ie,Y),Dt}(CO,fc,Eu,Fg,qi,[_I]),Rx(Er,qi,null)}finally{yv()}return new Qc(this.componentType,Zo,Mv(oa,qi),qi,oa)}finally{O(he)}}}class Qc extends E8{constructor(u,b,R,Y,he){super(),this.location=R,this._rootLView=Y,this._tNode=he,this.previousInputValues=null,this.instance=b,this.hostView=this.changeDetectorRef=new a0(Y,void 0,!1),this.componentType=u}setInput(u,b){const R=this._tNode.inputs;let Y;if(null!==R&&(Y=R[u])){if(this.previousInputValues??=new Map,this.previousInputValues.has(u)&&Object.is(this.previousInputValues.get(u),b))return;const he=this._rootLView;Cx(he[Vr],he,Y,u,b),this.previousInputValues.set(u,b),Ky(au(this._tNode.index,he),1)}}get injector(){return new kc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}function _I(){const o=ss();Ey(gr()[Vr],o)}let qp=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=p0}return o})();function p0(){return m0(ss(),gr())}const K4=qp,EI=class extends K4{constructor(u,b,R){super(),this._lContainer=u,this._hostTNode=b,this._hostLView=R}get element(){return Mv(this._hostTNode,this._hostLView)}get injector(){return new kc(this._hostTNode,this._hostLView)}get parentInjector(){const u=qw(this._hostTNode,this._hostLView);if(wv(u)){const b=rs(u,this._hostLView),R=_v(u);return new kc(b[Vr].data[R+8],b)}return new kc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const b=ob(this._lContainer);return null!==b&&b[u]||null}get length(){return this._lContainer.length-bc}createEmbeddedView(u,b,R){let Y,he;"number"==typeof R?Y=R:null!=R&&(Y=R.index,he=R.injector);const Ie=l0(this._lContainer,u.ssrId),ze=u.createEmbeddedViewImpl(b||{},he,Ie);return this.insertImpl(ze,Y,Zp(this._hostTNode,Ie)),ze}createComponent(u,b,R,Y,he){const Ie=u&&!function Zh(o){return"function"==typeof o}(u);let ze;if(Ie)ze=b;else{const Yn=b||{};ze=Yn.index,R=Yn.injector,Y=Yn.projectableNodes,he=Yn.environmentInjector||Yn.ngModuleRef}const ot=Ie?u:new qy(yi(u)),Dt=R||this.parentInjector;if(!he&&null==ot.ngModule){const vr=(Ie?Dt:this.parentInjector).get(ou,null);vr&&(he=vr)}const Ft=yi(ot.componentType??{}),fn=l0(this._lContainer,Ft?.id??null),Ln=ot.create(Dt,Y,fn?.firstChild??null,he);return this.insertImpl(Ln.hostView,ze,Zp(this._hostTNode,fn)),Ln}insert(u,b){return this.insertImpl(u,b,!0)}insertImpl(u,b,R){const Y=u._lView;if(function UA(o){return zl(o[Ro])}(Y)){const ze=this.indexOf(u);if(-1!==ze)this.detach(ze);else{const ot=Y[Ro],Dt=new EI(ot,ot[Yc],ot[Ro]);Dt.detach(Dt.indexOf(u))}}const he=this._adjustIndex(b),Ie=this._lContainer;return $y(Ie,Y,he,R),u.attachToViewContainerRef(),Af(Kd(Ie),he,u),u}move(u,b){return this.insert(u,b)}indexOf(u){const b=ob(this._lContainer);return null!==b?b.indexOf(u):-1}remove(u){const b=this._adjustIndex(u,-1),R=Vv(this._lContainer,b);R&&(mt(Kd(this._lContainer),b),k_(R[Vr],R))}detach(u){const b=this._adjustIndex(u,-1),R=Vv(this._lContainer,b);return R&&null!=mt(Kd(this._lContainer),b)?new a0(R):null}_adjustIndex(u,b=0){return u??this.length+b}};function ob(o){return o[8]}function Kd(o){return o[8]||(o[8]=[])}function m0(o,u){let b;const R=u[o.index];return zl(R)?b=R:(b=UD(R,u,null,o),u[o.index]=b,N_(u,b)),sb(b,u,o,R),new EI(b,o,u)}let sb=function Nf(o,u,b,R){if(o[Vl])return;let Y;Y=8&b.type?vs(R):function rS(o,u){const b=o[Ei],R=b.createComment(""),Y=wd(u,o);return t0(b,AD(b,Y),R,function h5(o,u){return o.nextSibling(u)}(b,Y),!1),R}(u,b),o[Vl]=Y},iS=()=>!1;class Gl{constructor(u){this.queryList=u,this.matches=null}clone(){return new Gl(this.queryList)}setDirty(){this.queryList.setDirty()}}class oS{constructor(u=[]){this.queries=u}createEmbeddedView(u){const b=u.queries;if(null!==b){const R=null!==u.contentQueries?u.contentQueries[0]:b.length,Y=[];for(let he=0;he<R;he++){const Ie=b.getByIndex(he);Y.push(this.queries[Ie.indexInDeclarationView].clone())}return new oS(Y)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}finishViewCreation(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let b=0;b<this.queries.length;b++)null!==Qy(u,b).matches&&this.queries[b].setDirty()}}class Il{constructor(u,b,R=null){this.flags=b,this.read=R,this.predicate="string"==typeof u?function cS(o){return o.split(",").map(u=>u.trim())}(u):u}}class sS{constructor(u=[]){this.queries=u}elementStart(u,b){for(let R=0;R<this.queries.length;R++)this.queries[R].elementStart(u,b)}elementEnd(u){for(let b=0;b<this.queries.length;b++)this.queries[b].elementEnd(u)}embeddedTView(u){let b=null;for(let R=0;R<this.length;R++){const Y=null!==b?b.length:0,he=this.getByIndex(R).embeddedTView(u,Y);he&&(he.indexInDeclarationView=R,null!==b?b.push(he):b=[he])}return null!==b?new sS(b):null}template(u,b){for(let R=0;R<this.queries.length;R++)this.queries[R].template(u,b)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class $i{constructor(u,b=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=b}elementStart(u,b){this.isApplyingToNode(b)&&this.matchTNode(u,b)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,b){this.elementStart(u,b)}embeddedTView(u,b){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,b),new $i(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1&~this.metadata.flags){const b=this._declarationNodeIndex;let R=u.parent;for(;null!==R&&8&R.type&&R.index!==b;)R=R.parent;return b===(null!==R?R.index:-1)}return this._appliesToNextNode}matchTNode(u,b){const R=this.metadata.predicate;if(Array.isArray(R))for(let Y=0;Y<R.length;Y++){const he=R[Y];this.matchTNodeWithReadOption(u,b,vi(b,he)),this.matchTNodeWithReadOption(u,b,zm(b,u,he,!1,!1))}else R===j_?4&b.type&&this.matchTNodeWithReadOption(u,b,-1):this.matchTNodeWithReadOption(u,b,zm(b,u,R,!1,!1))}matchTNodeWithReadOption(u,b,R){if(null!==R){const Y=this.metadata.read;if(null!==Y)if(Y===Ty||Y===qp||Y===j_&&4&b.type)this.addMatch(b.index,-2);else{const he=zm(b,u,Y,!1,!1);null!==he&&this.addMatch(b.index,he)}else this.addMatch(b.index,R)}}addMatch(u,b){null===this.matches?this.matches=[u,b]:this.matches.push(u,b)}}function vi(o,u){const b=o.localNames;if(null!==b)for(let R=0;R<b.length;R+=2)if(b[R]===u)return b[R+1];return null}function em(o,u,b,R){return-1===b?function Qp(o,u){return 11&o.type?Mv(o,u):4&o.type?$_(o,u):null}(u,o):-2===b?function d1(o,u,b){return b===Ty?Mv(u,o):b===j_?$_(u,o):b===qp?m0(u,o):void 0}(o,u,R):Hm(o,o[Vr],b,u)}function ab(o,u,b,R){const Y=u[Up].queries[R];if(null===Y.matches){const he=o.data,Ie=b.matches,ze=[];for(let ot=0;null!==Ie&&ot<Ie.length;ot+=2){const Dt=Ie[ot];ze.push(Dt<0?null:em(u,he[Dt],Ie[ot+1],b.metadata.read))}Y.matches=ze}return Y.matches}function u1(o,u,b,R){const Y=o.queries.getByIndex(b),he=Y.matches;if(null!==he){const Ie=ab(o,u,Y,b);for(let ze=0;ze<he.length;ze+=2){const ot=he[ze];if(ot>0)R.push(Ie[ze/2]);else{const Dt=he[ze+1],Ft=u[-ot];for(let fn=bc;fn<Ft.length;fn++){const Rn=Ft[fn];Rn[Lp]===Rn[Ro]&&u1(Rn[Vr],Rn,Dt,R)}if(null!==Ft[py]){const fn=Ft[py];for(let Rn=0;Rn<fn.length;Rn++){const Ln=fn[Rn];u1(Ln[Vr],Ln,Dt,R)}}}}}return R}function aS(o,u){return o[Up].queries[u].queryList}function f1(o,u,b){const R=new o_(!(4&~b));return function S5(o,u,b,R){const Y=L_(u);Y.push(b),o.firstCreatePass&&Hv(o).push(R,Y.length-1)}(o,u,R,R.destroy),(u[Up]??=new oS).queries.push(new Gl(R))-1}function xI(o,u,b){const R=Fo();return R.firstCreatePass&&(Yu(R,new Il(o,u,b),-1),!(2&~u)&&(R.staticViewQueries=!0)),f1(R,gr(),u)}function vo(o,u,b,R){const Y=Fo();if(Y.firstCreatePass){const he=ss();Yu(Y,new Il(u,b,R),he.index),function lS(o,u){const b=o.contentQueries||(o.contentQueries=[]);u!==(b.length?b[b.length-1]:-1)&&b.push(o.queries.length-1,u)}(Y,o),!(2&~b)&&(Y.staticContentQueries=!0)}return f1(Y,gr(),b)}function Yu(o,u,b){null===o.queries&&(o.queries=new sS),o.queries.track(new $i(u,b))}function Qy(o,u){return o.queries.getByIndex(u)}function fu(o,u){const b=o[Vr],R=Qy(b,u);return R.crossesNgTemplate?u1(b,o,u,[]):ab(b,o,R,u)}function kt(o){return"function"==typeof o&&void 0!==o[x]}function Ks(o,u){Dl("NgSignals");const b=function v(o){const u=Object.create(Oe);u.value=o;const b=()=>(D(u),u.value);return b[x]=u,b}(o),R=b[x];return u?.equal&&(R.equal=u.equal),b.set=Y=>ee(R,Y),b.update=Y=>function ce(o,u){re()||B(),ee(o,u(o.value))}(R,Y),b.asReadonly=Ur.bind(b),b}function Ur(){const o=this[x];if(void 0===o.readonlyFn){const u=()=>this();u[x]=o,o.readonlyFn=u}return o.readonlyFn}function dS(o){return kt(o)&&"function"==typeof o.set}function h1(o,u){let b;const R=C(()=>{b._dirtyCounter();const Y=function ni(o,u){const b=o._lView,R=o._queryIndex;if(void 0===b||void 0===R||4&b[Li])return u?void 0:Xe;const Y=aS(b,R),he=fu(b,R);return Y.reset(he,i_),u?Y.first:Y._changesDetected||void 0===o._flatValue?o._flatValue=Y.toArray():o._flatValue}(b,o);if(u&&void 0===Y)throw new Pr(-951,!1);return Y});return b=R[x],b._dirtyCounter=Ks(0),b._flatValue=void 0,R}function xi(){return h1(!0,!1)}function Lf(){return h1(!0,!0)}function Qr(o,u){const b=o[x];b._lView=gr(),b._queryIndex=u,b._queryList=aS(b._lView,u),b._queryList.onDirty(()=>b._dirtyCounter.update(R=>R+1))}function no(o,u){return xi()}const ao=(no.required=function so(o,u){return Lf()},no);function ro(o,u){return xi()}const Qn=(ro.required=function co(o,u){return Lf()},ro);function uS(o){const u=Object.create(No),b=new Sv;function R(){return D(u),fS(u.value),u.value}return u.value=o,R[x]=u,R.asReadonly=Ur.bind(R),R.set=Y=>{u.equal(u.value,Y)||(ee(u,Y),b.emit(Y))},R.update=Y=>{fS(u.value),R.set(Y(u.value))},R.subscribe=b.subscribe.bind(b),R.destroyRef=b.destroyRef,R}function fS(o){if(o===Bs)throw new Pr(952,!1)}function Pc(o){return uS(o)}const Cl=(Pc.required=function as(){return uS(Bs)},Pc);function y1(o){let u=function gS(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),b=!0;const R=[o];for(;u;){let Y;if(lh(o))Y=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new Pr(903,!1);Y=u.\u0275dir}if(Y){if(b){R.push(Y);const Ie=o;Ie.inputs=g1(o.inputs),Ie.inputTransforms=g1(o.inputTransforms),Ie.declaredInputs=g1(o.declaredInputs),Ie.outputs=g1(o.outputs);const ze=Y.hostBindings;ze&&vS(o,ze);const ot=Y.viewQuery,Dt=Y.contentQueries;if(ot&&O8(o,ot),Dt&&P8(o,Dt),tm(o,Y),Pa(o.outputs,Y.outputs),lh(Y)&&Y.data.animation){const Ft=o.data;Ft.animation=(Ft.animation||[]).concat(Y.data.animation)}}const he=Y.features;if(he)for(let Ie=0;Ie<he.length;Ie++){const ze=he[Ie];ze&&ze.ngInherit&&ze(o),ze===y1&&(b=!1)}}u=Object.getPrototypeOf(u)}!function R8(o){let u=0,b=null;for(let R=o.length-1;R>=0;R--){const Y=o[R];Y.hostVars=u+=Y.hostVars,Y.hostAttrs=Lr(Y.hostAttrs,b=Lr(b,Y.hostAttrs))}}(R)}function tm(o,u){for(const b in u.inputs){if(!u.inputs.hasOwnProperty(b)||o.inputs.hasOwnProperty(b))continue;const R=u.inputs[b];if(void 0!==R&&(o.inputs[b]=R,o.declaredInputs[b]=u.declaredInputs[b],null!==u.inputTransforms)){const Y=Array.isArray(R)?R[0]:R;if(!u.inputTransforms.hasOwnProperty(Y))continue;o.inputTransforms??={},o.inputTransforms[Y]=u.inputTransforms[Y]}}}function g1(o){return o===rr?{}:o===Xe?[]:o}function O8(o,u){const b=o.viewQuery;o.viewQuery=b?(R,Y)=>{u(R,Y),b(R,Y)}:u}function P8(o,u){const b=o.contentQueries;o.contentQueries=b?(R,Y,he)=>{u(R,Y,he),b(R,Y,he)}:u}function vS(o,u){const b=o.hostBindings;o.hostBindings=b?(R,Y)=>{u(R,Y),b(R,Y)}:u}function bS(o){const u=b=>{const R=(Array.isArray(o)?o:o()).map(Y=>"function"==typeof Y?{directive:Mi(Y),inputs:rr,outputs:rr}:{directive:Mi(Y.directive),inputs:TI(Y.inputs),outputs:TI(Y.outputs)});null===b.hostDirectives?(b.findHostDirectiveDefs=wS,b.hostDirectives=R):b.hostDirectives.unshift(...R)};return u.ngInherit=!0,u}function wS(o,u,b){if(null!==o.hostDirectives)for(const R of o.hostDirectives){const Y=Ns(R.directive);U8(Y.declaredInputs,R.inputs),wS(Y,u,b),b.set(Y,R),u.push(Y)}}function TI(o){if(void 0===o||0===o.length)return rr;const u={};for(let b=0;b<o.length;b+=2)u[o[b]]=o[b+1];return u}function U8(o,u){for(const b in u)u.hasOwnProperty(b)&&(o[u[b]]=o[b])}function y0(o){const u=o.inputConfig,b={};for(const R in u)if(u.hasOwnProperty(R)){const Y=u[R];Array.isArray(Y)&&Y[3]&&(b[R]=Y[3])}o.inputTransforms=b}class hu{}class lb{}function Rl(o,u){return new g0(o,u??null,[])}class g0 extends hu{constructor(u,b,R){super(),this._parent=b,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new c1(this);const Y=Pi(u);this._bootstrapComponents=Wu(Y.bootstrap),this._r3Injector=ak(u,b,[{provide:hu,useValue:this},{provide:Xy,useValue:this.componentFactoryResolver},...R],So(u),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(u)}get injector(){return this._r3Injector}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(b=>b()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class _S extends lb{constructor(u){super(),this.moduleType=u}create(u){return new g0(this.moduleType,u,[])}}class DI extends hu{constructor(u){super(),this.componentFactoryResolver=new c1(this),this.instance=null;const b=new Fa([...u.providers,{provide:hu,useValue:this},{provide:Xy,useValue:this.componentFactoryResolver}],u.parent||Fw(),u.debugName,new Set(["environment"]));this.injector=b,u.runEnvironmentInitializers&&b.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(u){this.injector.onDestroy(u)}}function eg(o,u,b=null){return new DI({providers:o,parent:u,debugName:b,runEnvironmentInitializers:!0}).injector}function sp(o){return!!jo(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function jo(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Nc(o,u,b){return o[u]=b}function Ja(o,u,b){return!Object.is(o[u],b)&&(o[u]=b,!0)}function nm(o,u,b,R){const Y=Ja(o,u,b);return Ja(o,u+1,R)||Y}function rm(o,u,b,R,Y,he,Ie,ze,ot,Dt){const Ft=b+Ci,fn=u.firstCreatePass?function v1(o,u,b,R,Y,he,Ie,ze,ot){const Dt=u.consts,Ft=o0(u,o,4,Ie||null,ze||null);xx(u,b,Ft,Fu(Dt,ot)),Ey(u,Ft);const fn=Ft.tView=Ex(2,Ft,R,Y,he,u.directiveRegistry,u.pipeRegistry,null,u.schemas,Dt,null);return null!==u.queries&&(u.queries.template(u,Ft),fn.queries=u.queries.embeddedTView(Ft)),Ft}(Ft,u,o,R,Y,he,Ie,ze,ot):u.data[Ft];Rf(fn,!1);const Rn=CI(u,o,fn,b);gv()&&R_(u,o,Rn,fn),Oc(Rn,o);const Ln=UD(Rn,o,Rn,fn);return o[Ft]=Ln,N_(o,Ln),function xd(o,u,b){return iS(o,u,b)}(Ln,fn,o),Kw(fn)&&wx(u,o,fn),null!=ot&&_x(o,fn,Dt),fn}function im(o,u,b,R,Y,he,Ie,ze){const ot=gr(),Dt=Fo();return rm(ot,Dt,o,u,b,R,Y,Fu(Dt.consts,he),Ie,ze),im}let CI=function ES(o,u,b,R){return uh(!0),u[Ei].createComment("")};function Sa(o,u,b,R){const Y=gr();return Ja(Y,Fd(),u)&&(Fo(),vh(ha(),Y,o,u,b,R)),Sa}function Ca(o,u,b,R){return Ja(o,Fd(),b)?u+Zi(b)+R:xo}function mu(o,u,b,R,Y,he){const ze=nm(o,function qh(){return ho.lFrame.bindingIndex}(),b,Y);return $u(2),ze?u+Zi(b)+R+Zi(Y)+he:xo}function tl(o,u){return o<<17|u<<2}function Qu(o){return o>>17&32767}function A0(o){return 2|o}function Ih(o){return(131068&o)>>2}function P1(o,u){return-131069&o|u<<2}function hp(o){return 1|o}function CS(o,u,b,R){const Y=o[b+1],he=null===u;let Ie=R?Qu(Y):Ih(Y),ze=!1;for(;0!==Ie&&(!1===ze||he);){const Dt=o[Ie+1];sg(o[Ie],u)&&(ze=!0,o[Ie+1]=R?hp(Dt):A0(Dt)),Ie=R?Qu(Dt):Ih(Dt)}ze&&(o[b+1]=R?A0(Y):hp(Y))}function sg(o,u){return null===o||null==u||(Array.isArray(o)?o[1]:o)===u||!(!Array.isArray(o)||"string"!=typeof u)&&or(o,u)>=0}const uc={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ef(o){return o.substring(uc.key,uc.keyEnd)}function nl(o,u){const b=uc.textEnd;return b===u?-1:(u=uc.keyEnd=function B1(o,u,b){for(;u<b&&o.charCodeAt(u)>32;)u++;return u}(o,uc.key=u,b),ws(o,u,b))}function ws(o,u,b){for(;u<b&&o.charCodeAt(u)<=32;)u++;return u}function L1(o,u,b){const R=gr();return Ja(R,Fd(),u)&&$d(Fo(),ha(),R,o,u,R[Ei],b,!1),L1}function U1(o,u,b,R,Y){const Ie=Y?"class":"style";Cx(o,b,u.inputs[Ie],Ie,R)}function lm(o,u,b){return rl(o,u,b,!1),lm}function Ch(o,u){return rl(o,u,null,!0),Ch}function Sb(o){nf(kh,$f,o,!0)}function $f(o,u){for(let b=function Hd(o){return function cm(o){uc.key=0,uc.keyEnd=0,uc.value=0,uc.valueEnd=0,uc.textEnd=o.length}(o),nl(o,ws(o,0,uc.textEnd))}(u);b>=0;b=nl(u,b))gn(o,ef(u),!0)}function rl(o,u,b,R){const Y=gr(),he=Fo(),Ie=$u(2);he.firstUpdatePass&&PS(he,o,Ie,R),u!==xo&&Ja(Y,Ie,u)&&Mb(he,he.data[El()],Y,Y[Ei],o,Y[Ie+1]=function ag(o,u){return null==o||""===o||("string"==typeof u?o+=u:"object"==typeof o&&(o=So(ep(o)))),o}(u,b),R,Ie)}function nf(o,u,b,R){const Y=Fo(),he=$u(2);Y.firstUpdatePass&&PS(Y,null,he,R);const Ie=gr();if(b!==xo&&Ja(Ie,he,b)){const ze=Y.data[El()];if(K1(ze,R)&&!OS(Y,he)){let ot=R?ze.classesWithoutHost:ze.stylesWithoutHost;null!==ot&&(b=Pd(ot,b||"")),U1(Y,ze,Ie,b,R)}else!function j1(o,u,b,R,Y,he,Ie,ze){Y===xo&&(Y=Xe);let ot=0,Dt=0,Ft=0<Y.length?Y[0]:null,fn=0<he.length?he[0]:null;for(;null!==Ft||null!==fn;){const Rn=ot<Y.length?Y[ot+1]:void 0,Ln=Dt<he.length?he[Dt+1]:void 0;let vr,Yn=null;Ft===fn?(ot+=2,Dt+=2,Rn!==Ln&&(Yn=fn,vr=Ln)):null===fn||null!==Ft&&Ft<fn?(ot+=2,Yn=Ft):(Dt+=2,Yn=fn,vr=Ln),null!==Yn&&Mb(o,u,b,R,Yn,vr,Ie,ze),Ft=ot<Y.length?Y[ot]:null,fn=Dt<he.length?he[Dt]:null}}(Y,ze,Ie,Ie[Ei],Ie[he+1],Ie[he+1]=function F1(o,u,b){if(null==b||""===b)return Xe;const R=[],Y=ep(b);if(Array.isArray(Y))for(let he=0;he<Y.length;he++)o(R,Y[he],!0);else if("object"==typeof Y)for(const he in Y)Y.hasOwnProperty(he)&&o(R,he,Y[he]);else"string"==typeof Y&&u(R,Y);return R}(o,u,b),R,he)}}function OS(o,u){return u>=o.expandoStartIndex}function PS(o,u,b,R){const Y=o.data;if(null===Y[b+1]){const he=Y[El()],Ie=OS(o,b);K1(he,R)&&null===u&&!Ie&&(u=!1),u=function KI(o,u,b,R){const Y=f2(o);let he=R?u.residualClasses:u.residualStyles;if(null===Y)0===(R?u.classBindings:u.styleBindings)&&(b=T0(b=Kf(null,o,u,b,R),u.attrs,R),he=null);else{const Ie=u.directiveStylingLast;if(-1===Ie||o[Ie]!==Y)if(b=Kf(Y,o,u,b,R),null===he){let ot=function VI(o,u,b){const R=b?u.classBindings:u.styleBindings;if(0!==Ih(R))return o[Qu(R)]}(o,u,R);void 0!==ot&&Array.isArray(ot)&&(ot=Kf(null,o,u,ot[1],R),ot=T0(ot,u.attrs,R),function BS(o,u,b,R){o[Qu(b?u.classBindings:u.styleBindings)]=R}(o,u,R,ot))}else he=function dm(o,u,b){let R;const Y=u.directiveEnd;for(let he=1+u.directiveStylingLast;he<Y;he++)R=T0(R,o[he].hostAttrs,b);return T0(R,u.attrs,b)}(o,u,R)}return void 0!==he&&(R?u.residualClasses=he:u.residualStyles=he),b}(Y,he,u,R),function Eb(o,u,b,R,Y,he){let Ie=he?u.classBindings:u.styleBindings,ze=Qu(Ie),ot=Ih(Ie);o[R]=b;let Ft,Dt=!1;if(Array.isArray(b)?(Ft=b[1],(null===Ft||or(b,Ft)>0)&&(Dt=!0)):Ft=b,Y)if(0!==ot){const Rn=Qu(o[ze+1]);o[R+1]=tl(Rn,ze),0!==Rn&&(o[Rn+1]=P1(o[Rn+1],R)),o[ze+1]=function og(o,u){return 131071&o|u<<17}(o[ze+1],R)}else o[R+1]=tl(ze,0),0!==ze&&(o[ze+1]=P1(o[ze+1],R)),ze=R;else o[R+1]=tl(ot,0),0===ze?ze=R:o[ot+1]=P1(o[ot+1],R),ot=R;Dt&&(o[R+1]=A0(o[R+1])),CS(o,Ft,R,!0),CS(o,Ft,R,!1),function UI(o,u,b,R,Y){const he=Y?o.residualClasses:o.residualStyles;null!=he&&"string"==typeof u&&or(he,u)>=0&&(b[R+1]=hp(b[R+1]))}(u,Ft,o,R,he),Ie=tl(ze,ot),he?u.classBindings=Ie:u.styleBindings=Ie}(Y,he,u,b,Ie,R)}}function Kf(o,u,b,R,Y){let he=null;const Ie=b.directiveEnd;let ze=b.directiveStylingLast;for(-1===ze?ze=b.directiveStart:ze++;ze<Ie&&(he=u[ze],R=T0(R,he.hostAttrs,Y),he!==o);)ze++;return null!==o&&(b.directiveStylingLast=ze),R}function T0(o,u,b){const R=b?1:2;let Y=-1;if(null!==u)for(let he=0;he<u.length;he++){const Ie=u[he];"number"==typeof Ie?Y=Ie:Y===R&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),gn(o,Ie,!!b||u[++he]))}return void 0===o?null:o}function kh(o,u,b){const R=String(u);""!==R&&!R.includes(" ")&&gn(o,R,b)}function Mb(o,u,b,R,Y,he,Ie,ze){if(!(3&u.type))return;const ot=o.data,Dt=ot[ze+1],Ft=function fp(o){return!(1&~o)}(Dt)?$1(ot,u,b,Y,Ih(Dt),Ie):void 0;rf(Ft)||(rf(he)||function Lc(o){return!(2&~o)}(Dt)&&(he=$1(ot,null,b,Y,ze,Ie)),function y5(o,u,b,R,Y){if(u)Y?o.addClass(b,R):o.removeClass(b,R);else{let he=-1===R.indexOf("-")?void 0:I_.DashCase;null==Y?o.removeStyle(b,R,he):("string"==typeof Y&&Y.endsWith("!important")&&(Y=Y.slice(0,-10),he|=I_.Important),o.setStyle(b,R,Y,he))}}(R,Ie,uv(El(),b),Y,he))}function $1(o,u,b,R,Y,he){const Ie=null===u;let ze;for(;Y>0;){const ot=o[Y],Dt=Array.isArray(ot),Ft=Dt?ot[1]:ot,fn=null===Ft;let Rn=b[Y+1];Rn===xo&&(Rn=fn?Xe:void 0);let Ln=fn?zn(Rn,R):Ft===R?Rn:void 0;if(Dt&&!rf(Ln)&&(Ln=zn(ot,R)),rf(Ln)&&(ze=Ln,Ie))return ze;const Yn=o[Y+1];Y=Ie?Qu(Yn):Ih(Yn)}if(null!==u){let ot=he?u.residualClasses:u.residualStyles;null!=ot&&(ze=zn(ot,R))}return ze}function rf(o){return void 0!==o}function K1(o,u){return!!(o.flags&(u?8:16))}function yu(o,u,b){nf(gn,$f,Ca(gr(),o,u,b),!0)}class z1{destroy(u){}updateValue(u,b){}swap(u,b){const R=Math.min(u,b),Y=Math.max(u,b),he=this.detach(Y);if(Y-R>1){const Ie=this.detach(R);this.attach(R,he),this.attach(Y,Ie)}else this.attach(R,he)}move(u,b){this.attach(b,this.detach(u))}}function Ab(o,u,b,R,Y){return o===b&&Object.is(u,R)?1:Object.is(Y(o,u),Y(b,R))?-1:0}function cg(o,u,b,R){return!(void 0===u||!u.has(R)||(o.attach(b,u.get(R)),u.delete(R),0))}function H1(o,u,b,R,Y){if(cg(o,u,R,b(R,Y)))o.updateValue(R,Y);else{const he=o.create(R,Y);o.attach(R,he)}}function LS(o,u,b,R){const Y=new Set;for(let he=u;he<=b;he++)Y.add(R(he,o.at(he)));return Y}class W1{constructor(){this.kvMap=new Map,this._vMap=void 0}has(u){return this.kvMap.has(u)}delete(u){if(!this.has(u))return!1;const b=this.kvMap.get(u);return void 0!==this._vMap&&this._vMap.has(b)?(this.kvMap.set(u,this._vMap.get(b)),this._vMap.delete(b)):this.kvMap.delete(u),!0}get(u){return this.kvMap.get(u)}set(u,b){if(this.kvMap.has(u)){let R=this.kvMap.get(u);void 0===this._vMap&&(this._vMap=new Map);const Y=this._vMap;for(;Y.has(R);)R=Y.get(R);Y.set(R,b)}else this.kvMap.set(u,b)}forEach(u){for(let[b,R]of this.kvMap)if(u(R,b),void 0!==this._vMap){const Y=this._vMap;for(;Y.has(R);)R=Y.get(R),u(R,b)}}}function G1(o,u){Dl("NgControlFlow");const b=gr(),R=Fd(),Y=b[R]!==xo?b[R]:-1,he=-1!==Y?Tb(b,Ci+Y):void 0;if(Ja(b,R,o)){const ze=O(null);try{if(void 0!==he&&U_(he,0),-1!==o){const ot=Ci+o,Dt=Tb(b,ot),Ft=Db(b[Vr],ot),fn=l0(Dt,Ft.tView.ssrId);$y(Dt,Gv(b,Ft,u,{dehydratedView:fn}),0,Zp(Ft,fn))}}finally{O(ze)}}else if(void 0!==he){const ze=KD(he,0);void 0!==ze&&(ze[ea]=u)}}class ZI{constructor(u,b,R){this.lContainer=u,this.$implicit=b,this.$index=R}get $count(){return this.lContainer.length-bc}}function I0(o){return o}function US(o,u){return u}class YI{constructor(u,b,R){this.hasEmptyBlock=u,this.trackByFn=b,this.liveCollection=R}}function FS(o,u,b,R,Y,he,Ie,ze,ot,Dt,Ft,fn,Rn){Dl("NgControlFlow");const Ln=gr(),Yn=Fo(),vr=void 0!==ot,Fr=gr(),Xr=ze?Ie.bind(Fr[ja][ea]):Ie,Er=new YI(vr,Xr);Fr[Ci+o]=Er,rm(Ln,Yn,o+1,u,b,R,Y,Fu(Yn.consts,he)),vr&&rm(Ln,Yn,o+2,ot,Dt,Ft,fn,Fu(Yn.consts,Rn))}class JI extends z1{constructor(u,b,R){super(),this.lContainer=u,this.hostLView=b,this.templateTNode=R,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-bc}at(u){return this.getLView(u)[ea].$implicit}attach(u,b){const R=b[As];this.needsIndexUpdate||=u!==this.length,$y(this.lContainer,b,u,Zp(this.templateTNode,R))}detach(u){return this.needsIndexUpdate||=u!==this.length-1,function qI(o,u){return Vv(o,u)}(this.lContainer,u)}create(u,b){const R=l0(this.lContainer,this.templateTNode.tView.ssrId),Y=Gv(this.hostLView,this.templateTNode,new ZI(this.lContainer,b,u),{dehydratedView:R});return this.operationsCounter?.recordCreate(),Y}destroy(u){k_(u[Vr],u),this.operationsCounter?.recordDestroy()}updateValue(u,b){this.getLView(u)[ea].$implicit=b}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let u=0;u<this.length;u++)this.getLView(u)[ea].$index=u}getLView(u){return function jS(o,u){return KD(o,u)}(this.lContainer,u)}}function um(o){const u=O(null),b=El();try{const R=gr(),Y=R[Vr],he=R[b],Ie=b+1,ze=Tb(R,Ie);if(void 0===he.liveCollection){const Dt=Db(Y,Ie);he.liveCollection=new JI(ze,R,Dt)}else he.liveCollection.reset();const ot=he.liveCollection;if(function D0(o,u,b){let R,Y,he=0,Ie=o.length-1;if(Array.isArray(u)){let ot=u.length-1;for(;he<=Ie&&he<=ot;){const Dt=o.at(he),Ft=u[he],fn=Ab(he,Dt,he,Ft,b);if(0!==fn){fn<0&&o.updateValue(he,Ft),he++;continue}const Rn=o.at(Ie),Ln=u[ot],Yn=Ab(Ie,Rn,ot,Ln,b);if(0!==Yn){Yn<0&&o.updateValue(Ie,Ln),Ie--,ot--;continue}const vr=b(he,Dt),Fr=b(Ie,Rn),Xr=b(he,Ft);if(Object.is(Xr,Fr)){const Er=b(ot,Ln);Object.is(Er,vr)?(o.swap(he,Ie),o.updateValue(Ie,Ln),ot--,Ie--):o.move(Ie,he),o.updateValue(he,Ft),he++}else if(R??=new W1,Y??=LS(o,he,Ie,b),cg(o,R,he,Xr))o.updateValue(he,Ft),he++,Ie++;else if(Y.has(Xr))R.set(vr,o.detach(he)),Ie--;else{const Er=o.create(he,u[he]);o.attach(he,Er),he++,Ie++}}for(;he<=ot;)H1(o,R,b,he,u[he]),he++}else if(null!=u){const ot=u[Symbol.iterator]();let Dt=ot.next();for(;!Dt.done&&he<=Ie;){const Ft=o.at(he),fn=Dt.value,Rn=Ab(he,Ft,he,fn,b);if(0!==Rn)Rn<0&&o.updateValue(he,fn),he++,Dt=ot.next();else{R??=new W1,Y??=LS(o,he,Ie,b);const Ln=b(he,fn);if(cg(o,R,he,Ln))o.updateValue(he,fn),he++,Ie++,Dt=ot.next();else if(Y.has(Ln)){const Yn=b(he,Ft);R.set(Yn,o.detach(he)),Ie--}else o.attach(he,o.create(he,fn)),he++,Ie++,Dt=ot.next()}}for(;!Dt.done;)H1(o,R,b,o.length,Dt.value),Dt=ot.next()}for(;he<=Ie;)o.destroy(o.detach(Ie--));R?.forEach(ot=>{o.destroy(ot)})}(ot,o,he.trackByFn),ot.updateIndexes(),he.hasEmptyBlock){const Dt=Fd(),Ft=0===ot.length;if(Ja(R,Dt,Ft)){const fn=b+2,Rn=Tb(R,fn);if(Ft){const Ln=Db(Y,fn),Yn=l0(Rn,Ln.tView.ssrId);$y(Rn,Gv(R,Ln,void 0,{dehydratedView:Yn}),0,Zp(Ln,Yn))}else U_(Rn,0)}}}finally{O(u)}}function Tb(o,u){return o[u]}function Db(o,u){return Ai(o,u)}function Ib(o,u,b,R){const Y=gr(),he=Fo(),Ie=Ci+o,ze=Y[Ei],ot=he.firstCreatePass?function gu(o,u,b,R,Y,he){const Ie=u.consts,ot=o0(u,o,2,R,Fu(Ie,Y));return xx(u,b,ot,Fu(Ie,he)),null!==ot.attrs&&Jy(ot,ot.attrs,!1),null!==ot.mergedAttrs&&Jy(ot,ot.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,ot),ot}(Ie,he,Y,u,b,R):he.data[Ie],Dt=$S(he,Y,ot,ze,u,o);Y[Ie]=Dt;const Ft=Kw(ot);return Rf(ot,!0),CD(ze,Dt,ot),!function Uf(o){return!(32&~o.flags)}(ot)&&gv()&&R_(he,Y,Dt,ot),0===function KA(){return ho.lFrame.elementDepthCount}()&&Oc(Dt,Y),function ns(){ho.lFrame.elementDepthCount++}(),Ft&&(wx(he,Y,ot),bx(he,ot,Y)),null!==R&&_x(Y,ot),Ib}function Cb(){let o=ss();l2()?mv():(o=o.parent,Rf(o,!1));const u=o;(function _l(o){return ho.skipHydrationRootTNode===o})(u)&&function Km(){ho.skipHydrationRootTNode=null}(),function VA(){ho.lFrame.elementDepthCount--}();const b=Fo();return b.firstCreatePass&&(Ey(b,o),RA(o)&&b.queries.elementEnd(o)),null!=u.classesWithoutHost&&function aT(o){return!!(8&o.flags)}(u)&&U1(b,u,gr(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function Ku(o){return!!(16&o.flags)}(u)&&U1(b,u,gr(),u.stylesWithoutHost,!1),Cb}function X1(o,u,b,R){return Ib(o,u,b,R),Cb(),X1}let $S=(o,u,b,R,Y,he)=>(uh(!0),C_(R,Y,function rT(){return ho.lFrame.currentNamespace}()));function C0(o,u,b){const R=gr(),Y=Fo(),he=o+Ci,Ie=Y.firstCreatePass?function Wd(o,u,b,R,Y){const he=u.consts,Ie=Fu(he,R),ze=o0(u,o,8,"ng-container",Ie);return null!==Ie&&Jy(ze,Ie,!0),xx(u,b,ze,Fu(he,Y)),null!==u.queries&&u.queries.elementStart(u,ze),ze}(he,Y,R,u,b):Y.data[he];Rf(Ie,!0);const ze=Rb(Y,R,Ie,o);return R[he]=ze,gv()&&R_(Y,R,ze,Ie),Oc(ze,R),Kw(Ie)&&(wx(Y,R,Ie),bx(Y,Ie,R)),null!=b&&_x(R,Ie),C0}function lg(){let o=ss();const u=Fo();return l2()?mv():(o=o.parent,Rf(o,!1)),u.firstCreatePass&&(Ey(u,o),RA(o)&&u.queries.elementEnd(o)),lg}function kb(o,u,b){return C0(o,u,b),lg(),kb}let Rb=(o,u,b,R)=>(uh(!0),Xu(u[Ei],""));function KS(){return gr()}function Vf(o,u,b){const R=gr();return Ja(R,Fd(),u)&&$d(Fo(),ha(),R,o,u,R[Ei],b,!0),Vf}function Oh(o,u,b){const R=gr();if(Ja(R,Fd(),u)){const he=Fo(),Ie=ha();$d(he,Ie,R,o,u,Wv(f2(he.data),Ie,R),b,!0)}return Oh}const vu=void 0;var Ph=["en",[["a","p"],["AM","PM"],vu],[["AM","PM"],vu,vu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vu,"{1} 'at' {0}",vu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function dg(o){const b=Math.floor(Math.abs(o)),R=o.toString().replace(/^[^.]*\.?/,"").length;return 1===b&&0===R?1:5}];let mp={};function Ob(o){const u=function hm(o){return o.toLowerCase().replace(/_/g,"-")}(o);let b=Io(u);if(b)return b;const R=u.split("-")[0];if(b=Io(R),b)return b;if("en"===R)return Ph;throw new Pr(701,!1)}function fm(o){return Ob(o)[bu.PluralCase]}function Io(o){return o in mp||(mp[o]=Wr.ng&&Wr.ng.common&&Wr.ng.common.locales&&Wr.ng.common.locales[o]),mp[o]}var bu=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(bu||{});const R0="en-US",Bb={marker:"element"},Nb={marker:"ICU"};var Td=function(o){return o[o.SHIFT=2]="SHIFT",o[o.APPEND_EAGERLY=1]="APPEND_EAGERLY",o[o.COMMENT=2]="COMMENT",o}(Td||{});let VS=R0;let O0=(o,u,b,R)=>(uh(!0),function HS(o,u,b){const R=o[Ei];switch(b){case Node.COMMENT_NODE:return Xu(R,u);case Node.TEXT_NODE:return Gp(R,u);case Node.ELEMENT_NODE:return C_(R,u,null)}}(o,b,R));const q1=/\ufffd(\d+):?\d*\ufffd/gi,WS=/\ufffd(\d+)\ufffd/,Q1=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Lh="\ufffd",aC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,pg=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,X4=/\uE500/g;function cC(o,u,b,R,Y,he,Ie){const ze=zv(o,R,1,null);let ot=ze<<Td.SHIFT,Dt=pv();u===Dt&&(Dt=null),null===Dt&&(ot|=Td.APPEND_EAGERLY),Ie&&(ot|=Td.COMMENT,function a5(o){void 0===e0&&(e0=o())}(N4)),Y.push(ot,null===he?"":he);const Ft=vx(o,ze,Ie?32:1,null===he?"":he,null);JD(b,Ft);const fn=Ft.index;return Rf(Ft,!1),null!==Dt&&u!==Dt&&function n8(o,u){let b=o.insertBeforeIndex;null===b?(DD(ZD,YD),b=o.insertBeforeIndex=[null,u]):(Za(Array.isArray(b),!0,"Expecting array here"),b.push(u))}(Dt,fn),Ft}function Y8(o,u,b,R,Y,he,Ie,ze){const ot=ze.match(q1),Ft=cC(u,b,R,Ie,Y,ot?null:ze,!1).index;ot&&Ub(he,ze,Ft,null,0,null),o.push({kind:0,index:Ft})}function Ub(o,u,b,R,Y,he){const Ie=o.length,ze=Ie+1;o.push(null,null);const ot=Ie+2,Dt=u.split(q1);let Ft=0;for(let fn=0;fn<Dt.length;fn++){const Rn=Dt[fn];if(1&fn){const Ln=Y+parseInt(Rn,10);o.push(-1-Ln),Ft|=eE(Ln)}else""!==Rn&&o.push(Rn)}return o.push(b<<2|(R?1:0)),R&&o.push(R,he),o[Ie]=Ft,o[ze]=o.length-ot,Ft}function eE(o){return 1<<Math.min(o,31)}function XS(o){let u,he,b="",R=0,Y=!1;for(;null!==(u=aC.exec(o));)Y?u[0]===`${Lh}/*${he}${Lh}`&&(R=u.index,Y=!1):(b+=o.substring(R,u.index+u[0].length),he=u[1],Y=!0);return b+=o.slice(R),b}function Fc(o,u,b,R,Y,he,Ie){let ze=0;const ot={type:he.type,currentCaseLViewIndex:zv(u,b,1,null),anchorIdx:Ie,cases:[],create:[],remove:[],update:[]};(function ra(o,u,b){o.push(eE(u.mainBinding),2,-1-u.mainBinding,b<<2|2)})(R,he,Ie),function t8(o,u,b){const R=o.data[u];null===R?o.data[u]=b:R.value=b}(u,Ie,ot);const Dt=he.values,Ft=[];for(let fn=0;fn<Dt.length;fn++){const Rn=Dt[fn],Ln=[];for(let vr=0;vr<Rn.length;vr++){const Fr=Rn[vr];if("string"!=typeof Fr){const Xr=Ln.push(Fr)-1;Rn[vr]=`\x3c!--\ufffd${Xr}\ufffd--\x3e`}}const Yn=[];Ft.push(Yn),ze=pa(Yn,u,ot,b,R,Y,he.cases[fn],Rn.join(""),Ln)|ze}ze&&function uC(o,u,b){o.push(u,1,b<<2|3)}(R,ze,Ie),o.push({kind:3,index:Ie,cases:Ft,currentCaseLViewIndex:ot.currentCaseLViewIndex})}function dC(o){const u=[],b=[];let R=1,Y=0;const he=Cs(o=o.replace(Q1,function(Ie,ze,ot){return R="select"===ot?0:1,Y=parseInt(ze.slice(1),10),""}));for(let Ie=0;Ie<he.length;){let ze=he[Ie++].trim();1===R&&(ze=ze.replace(/\s*(?:=)?(\w+)\s*/,"$1")),ze.length&&u.push(ze);const ot=Cs(he[Ie++]);u.length>b.length&&b.push(ot)}return{type:R,mainBinding:Y,cases:u,values:b}}function Cs(o){if(!o)return[];let u=0;const b=[],R=[],Y=/[{}]/g;let he;for(Y.lastIndex=0;he=Y.exec(o);){const ze=he.index;if("}"==he[0]){if(b.pop(),0==b.length){const ot=o.substring(u,ze);Q1.test(ot)?R.push(dC(ot)):R.push(ot),u=ze+1}}else{if(0==b.length){const ot=o.substring(u,ze);R.push(ot),u=ze+1}b.push("{")}}const Ie=o.substring(u);return R.push(Ie),R}function pa(o,u,b,R,Y,he,Ie,ze,ot){const Dt=[],Ft=[],fn=[];b.cases.push(Ie),b.create.push(Dt),b.remove.push(Ft),b.update.push(fn);const Ln=Z2($p()).getInertBodyElement(ze),Yn=ex(Ln)||Ln;return Yn?tE(o,u,b,R,Y,Dt,Ft,fn,Yn,he,ot,0):0}function tE(o,u,b,R,Y,he,Ie,ze,ot,Dt,Ft,fn){let Rn=0,Ln=ot.firstChild;for(;Ln;){const Yn=zv(u,R,1,null);switch(Ln.nodeType){case Node.ELEMENT_NODE:const vr=Ln,Fr=vr.tagName.toLowerCase();if(Y2.hasOwnProperty(Fr)){Fb(he,Bb,Fr,Dt,Yn),u.data[Yn]=Fr;const Zo=vr.attributes;for(let fc=0;fc<Zo.length;fc++){const Eu=Zo.item(fc),Fg=Eu.name.toLowerCase();Eu.value.match(q1)?S_.hasOwnProperty(Fg)&&Ub(ze,Eu.value,Yn,Eu.name,0,J2[Fg]?__:null):mg(he,Yn,Eu)}const oa={kind:1,index:Yn,children:[]};o.push(oa),Rn=tE(oa.children,u,b,R,Y,he,Ie,ze,Ln,Yn,Ft,fn+1)|Rn,Uh(Ie,Yn,fn)}break;case Node.TEXT_NODE:const Xr=Ln.textContent||"",Er=Xr.match(q1);Fb(he,null,Er?"":Xr,Dt,Yn),Uh(Ie,Yn,fn),Er&&(Rn=Ub(ze,Xr,Yn,null,0,null)|Rn),o.push({kind:0,index:Yn});break;case Node.COMMENT_NODE:const qi=WS.exec(Ln.textContent||"");if(qi){const oa=Ft[parseInt(qi[1],10)];Fb(he,Nb,"",Dt,Yn),Fc(o,u,R,Y,Dt,oa,Yn),nE(Ie,Yn,fn)}}Ln=Ln.nextSibling}return Rn}function Uh(o,u,b){0===b&&o.push(u)}function nE(o,u,b){0===b&&(o.push(~u),o.push(u))}function Fb(o,u,b,R,Y){null!==u&&o.push(u),o.push(b,Y,function B4(o,u,b){return o|u<<17|b<<1}(0,R,Y))}function mg(o,u,b){o.push(u<<1|1,b.name,b.value)}function pC(o,u,b=-1){const R=Fo(),Y=gr(),he=Ci+o,Ie=Fu(R.consts,u),ze=pv();R.firstCreatePass&&function Z8(o,u,b,R,Y,he){const Ie=pv(),ze=[],ot=[],Dt=[[]],Ft=[[]];Y=function lC(o,u){if(function s8(o){return-1===o}(u))return XS(o);{const b=o.indexOf(`:${u}${Lh}`)+2+u.toString().length,R=o.search(new RegExp(`${Lh}\\/\\*\\d+:${u}${Lh}`));return XS(o.substring(b,R))}}(Y,he);const fn=function af(o){return o.replace(X4," ")}(Y).split(pg);for(let Rn=0;Rn<fn.length;Rn++){let Ln=fn[Rn];if(1&Rn){const Yn=47===Ln.charCodeAt(0),vr=Ln.charCodeAt(Yn?1:0),Fr=Ci+Number.parseInt(Ln.substring(Yn?2:1));if(Yn)Dt.shift(),Ft.shift(),Rf(pv(),!1);else{const Xr=ip(o,Dt[0],Fr);Dt.unshift([]),Rf(Xr,!0);const Er={kind:2,index:Fr,children:[],type:35===vr?0:1};Ft[0].push(Er),Ft.unshift(Er.children)}}else{const Yn=Cs(Ln);for(let vr=0;vr<Yn.length;vr++){let Fr=Yn[vr];if(1&vr){const Xr=Fr;if("object"!=typeof Xr)throw new Error(`Unable to parse ICU expression in "${Y}" message.`);const qi=cC(o,Ie,Dt[0],b,ze,"",!0).index;Fc(Ft[0],o,b,ot,u,Xr,qi)}else""!==Fr&&Y8(Ft[0],o,Ie,Dt[0],ze,ot,b,Fr)}}}o.data[R]={create:ze,update:ot,ast:Ft[0]}}(R,null===ze?0:ze.index,Y,he,Ie,b),2===R.type?Y[ja][Li]|=32:Y[Li]|=32;const ot=R.data[he],Ft=SD(R,ze===Y[Yc]?null:ze,Y),fn=ze&&8&ze.type?Y[ze.index]:null;(function h8(o,u,b,R){aI(o,u,b,R)})(Y,he,ze,b),function gp(o,u,b,R){const Y=o[Ei];for(let he=0;he<u.length;he++){const Ie=u[he++],Dt=(Ie&Td.APPEND_EAGERLY)===Td.APPEND_EAGERLY,Ft=Ie>>>Td.SHIFT;let fn=o[Ft],Rn=!1;null===fn&&(fn=o[Ft]=O0(o,Ft,u[he],(Ie&Td.COMMENT)===Td.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),Rn=gv()),Dt&&null!==b&&Rn&&t0(Y,b,fn,R,!1)}}(Y,ot.create,Ft,fn),by(!0)}function gg(o,u,b){pC(o,u,b),function ZS(){by(!1)}()}let yC=(o,u,b)=>{};function JS(o,u,b,R){const Y=gr(),he=Fo(),Ie=ss();return QS(he,Y,Y[Ei],Ie,o,u,R),JS}function qS(o,u){const b=ss(),R=gr(),Y=Fo();return QS(Y,R,Wv(f2(Y.data),b,R),b,o,u),qS}function QS(o,u,b,R,Y,he,Ie){const ze=Kw(R),Dt=o.firstCreatePass&&Hv(o),Ft=u[ea],fn=L_(u);let Rn=!0;if(3&R.type||Ie){const vr=wd(R,u),Fr=Ie?Ie(vr):vr,Xr=fn.length,Er=Ie?Zo=>Ie(vs(Zo[R.index])):R.index;let qi=null;if(!Ie&&ze&&(qi=function vC(o,u,b,R){const Y=o.cleanup;if(null!=Y)for(let he=0;he<Y.length-1;he+=2){const Ie=Y[he];if(Ie===b&&Y[he+1]===R){const ze=u[fy],ot=Y[he+2];return ze.length>ot?ze[ot]:null}"string"==typeof Ie&&(he+=2)}return null}(o,u,Y,R.index)),null!==qi)(qi.__ngLastListenerFn__||qi).__ngNextListenerFn__=he,qi.__ngLastListenerFn__=he,Rn=!1;else{he=wC(R,u,Ft,he),yC(vr,Y,he);const Zo=b.listen(Fr,Y,he);fn.push(he,Zo),Dt&&Dt.push(Y,Er,Xr,Xr+1)}}else he=wC(R,u,Ft,he);const Ln=R.outputs;let Yn;if(Rn&&null!==Ln&&(Yn=Ln[Y])){const vr=Yn.length;if(vr)for(let Fr=0;Fr<vr;Fr+=2){const oa=u[Yn[Fr]][Yn[Fr+1]].subscribe(he),fc=fn.length;fn.push(he,oa),Dt&&Dt.push(Y,R.index,fc,-(fc+1))}}}function bC(o,u,b,R){const Y=O(null);try{return Nu(6,u,b),!1!==b(R)}catch(he){return s0(o,he),!1}finally{Nu(7,u,b),O(Y)}}function wC(o,u,b,R){return function Y(he){if(he===Function)return R;Ky(o.componentOffset>-1?au(o.index,u):u,5);let ze=bC(u,b,R,he),ot=Y.__ngNextListenerFn__;for(;ot;)ze=bC(u,b,ot,he)&&ze,ot=ot.__ngNextListenerFn__;return ze}}function vg(o=1){return function _y(o){return(ho.lFrame.contextLView=function zw(o,u){for(;o>0;)u=u[hy],o--;return u}(o,ho.lFrame.contextLView))[ea]}(o)}function pm(o,u){let b=null;const R=function $r(o){const u=o.attrs;if(null!=u){const b=u.indexOf(5);if(!(1&b))return u[b+1]}return null}(o);for(let Y=0;Y<u.length;Y++){const he=u[Y];if("*"!==he){if(null===R?uo(o,he,!0):Ge(R,he))return Y}else b=Y}return b}function _C(o){const u=gr()[ja][Yc];if(!u.projection){const R=u.projection=function it(o,u){const b=[];for(let R=0;R<o;R++)b.push(u);return b}(o?o.length:1,null),Y=R.slice();let he=u.child;for(;null!==he;){if(128!==he.type){const Ie=o?pm(he,o):0;null!==Ie&&(Y[Ie]?Y[Ie].projectionNext=he:R[Ie]=he,Y[Ie]=he)}he=he.next}}}function iE(o,u=0,b,R,Y,he){const Ie=gr(),ze=Fo(),ot=R?o+1:null;null!==ot&&rm(Ie,ze,ot,R,Y,he,null,b);const Dt=o0(ze,Ci+o,16,null,b||null);null===Dt.projection&&(Dt.projection=u),mv();const fn=!Ie[As]||ju();null===Ie[ja][Yc].projection[Dt.projection]&&null!==ot?function eM(o,u,b){const R=Ci+b,Y=u.data[R],he=o[R],Ie=l0(he,Y.tView.ssrId);$y(he,Gv(o,Y,void 0,{dehydratedView:Ie}),0,Zp(Y,Ie))}(Ie,ze,ot):fn&&32&~Dt.flags&&function Ml(o,u,b){ID(u[Ei],0,u,b,fx(o,b,u),n0(b.parent||u[Yc],b,u))}(ze,Ie,Dt)}function oE(o,u,b){return jb(o,"",u,"",b),oE}function jb(o,u,b,R,Y){const he=gr(),Ie=Ca(he,u,b,R);return Ie!==xo&&$d(Fo(),ha(),he,o,Ie,he[Ei],Y,!1),jb}function SC(o,u,b,R){vo(o,u,b,R)}function MC(o,u,b){xI(o,u,b)}function aE(o){const u=gr(),b=Fo(),R=h2();Ww(R+1);const Y=Qy(b,R);if(o.dirty&&function H6(o){return!(4&~o[Li])}(u)===!(2&~Y.metadata.flags)){if(null===Y.matches)o.reset([]);else{const he=fu(u,R);o.reset(he,i_),o.notifyOnChanges()}return!0}return!1}function Ts(){return aS(gr(),h2())}function N0(o,u,b,R,Y){Qr(u,vo(o,b,R,Y))}function sR(o,u,b,R){Qr(o,xI(u,b,R))}function AC(o=1){Ww(h2()+o)}function ma(o){return Uu(function d2(){return ho.lFrame.contextLView}(),Ci+o)}function uE(o,u=""){const b=gr(),R=Fo(),Y=o+Ci,he=R.firstCreatePass?o0(R,Y,1,u,null):R.data[Y],Ie=fE(R,b,he,u,o);b[Y]=Ie,gv()&&R_(R,b,Ie,he),Rf(he,!1)}let fE=(o,u,b,R,Y)=>(uh(!0),Gp(u[Ei],R));function L0(o){return Kb("",o,""),L0}function Kb(o,u,b){const R=gr(),Y=Ca(R,o,u,b);return Y!==xo&&rp(R,El(),Y),Kb}function Vb(o,u,b,R,Y){const he=gr(),Ie=mu(he,o,u,b,R,Y);return Ie!==xo&&rp(he,El(),Ie),Vb}function zb(o,u,b){dS(u)&&(u=u());const R=gr();return Ja(R,Fd(),u)&&$d(Fo(),ha(),R,o,u,R[Ei],b,!1),zb}function lM(o,u){const b=dS(o);return b&&o.set(u),b}function ym(o,u){const b=gr(),R=Fo(),Y=ss();return QS(R,b,b[Ei],Y,o,u),ym}function uM(o,u,b,R,Y){if(o=Mi(o),Array.isArray(o))for(let he=0;he<o.length;he++)uM(o[he],u,b,R,Y);else{const he=Fo(),Ie=gr(),ze=ss();let ot=es(o)?o:Mi(o.provide);const Dt=JE(o),Ft=1048575&ze.providerIndexes,fn=ze.directiveStart,Rn=ze.providerIndexes>>20;if(es(o)||!o.multi){const Ln=new vv(Dt,Y,Fy),Yn=gm(ot,u,Y?Ft:Ft+Rn,fn);-1===Yn?(v2(Of(ze,Ie),he,ot),Hb(he,o,u.length),u.push(ot),ze.directiveStart++,ze.directiveEnd++,Y&&(ze.providerIndexes+=1048576),b.push(Ln),Ie.push(Ln)):(b[Yn]=Ln,Ie[Yn]=Ln)}else{const Ln=gm(ot,u,Ft+Rn,fn),Yn=gm(ot,u,Ft,Ft+Rn),Fr=Yn>=0&&b[Yn];if(Y&&!Fr||!Y&&!(Ln>=0&&b[Ln])){v2(Of(ze,Ie),he,ot);const Xr=function pR(o,u,b,R,Y){const he=new vv(o,b,Fy);return he.multi=[],he.index=u,he.componentProviders=0,pE(he,Y,R&&!b),he}(Y?hR:CC,b.length,Y,R,Dt);!Y&&Fr&&(b[Yn].providerFactory=Xr),Hb(he,o,u.length,0),u.push(ot),ze.directiveStart++,ze.directiveEnd++,Y&&(ze.providerIndexes+=1048576),b.push(Xr),Ie.push(Xr)}else Hb(he,o,Ln>-1?Ln:Yn,pE(b[Y?Yn:Ln],Dt,!Y&&R));!Y&&R&&Fr&&b[Yn].componentProviders++}}}function Hb(o,u,b,R){const Y=es(u),he=function IA(o){return!!o.useClass}(u);if(Y||he){const ot=(he?Mi(u.useClass):u).prototype.ngOnDestroy;if(ot){const Dt=o.destroyHooks||(o.destroyHooks=[]);if(!Y&&u.multi){const Ft=Dt.indexOf(b);-1===Ft?Dt.push(b,[R,ot]):Dt[Ft+1].push(R,ot)}else Dt.push(b,ot)}}}function pE(o,u,b){return b&&o.componentProviders++,o.multi.push(u)-1}function gm(o,u,b,R){for(let Y=b;Y<R;Y++)if(u[Y]===o)return Y;return-1}function CC(o,u,b,R){return rd(this.multi,[])}function hR(o,u,b,R){const Y=this.multi;let he;if(this.providerFactory){const Ie=this.providerFactory.componentProviders,ze=Hm(b,b[Vr],this.providerFactory.index,R);he=ze.slice(0,Ie),rd(Y,he);for(let ot=Ie;ot<ze.length;ot++)he.push(ze[ot])}else he=[],rd(Y,he);return he}function rd(o,u){for(let b=0;b<o.length;b++)u.push((0,o[b])());return u}function Ao(o,u=[]){return b=>{b.providersResolver=(R,Y)=>function fR(o,u,b){const R=Fo();if(R.firstCreatePass){const Y=lh(o);uM(b,R.data,R.blueprint,Y,!0),uM(u,R.data,R.blueprint,Y,!1)}}(R,Y?Y(o):o,u)}}let fM=(()=>{class o{constructor(b){this._injector=b,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(b){if(!b.standalone)return null;if(!this.cachedInjectors.has(b)){const R=HE(0,b.type),Y=R.length>0?eg([R],this._injector,`Standalone[${b.type.name}]`):null;this.cachedInjectors.set(b,Y)}return this.cachedInjectors.get(b)}ngOnDestroy(){try{for(const b of this.cachedInjectors.values())null!==b&&b.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=$o({token:o,providedIn:"environment",factory:()=>new o(ji(ou))})}return o})();function F0(o){Dl("NgStandalone"),o.getStandaloneInjector=u=>u.get(fM).getOrCreateStandaloneInjector(o)}function yE(o,u,b){const R=_d()+o,Y=gr();return Y[R]===xo?Nc(Y,R,b?u.call(b):u()):function db(o,u){return o[u]}(Y,R)}function Mg(o,u,b,R){return vm(gr(),_d(),o,u,b,R)}function mM(o,u,b,R,Y){return function bm(o,u,b,R,Y,he,Ie){const ze=u+b;return nm(o,ze,Y,he)?Nc(o,ze+2,Ie?R.call(Ie,Y,he):R(Y,he)):cf(o,ze+2)}(gr(),_d(),o,u,b,R,Y)}function cf(o,u){const b=o[u];return b===xo?void 0:b}function vm(o,u,b,R,Y,he){const Ie=u+b;return Ja(o,Ie,Y)?Nc(o,Ie+1,he?R.call(he,Y):R(Y)):cf(o,Ie+1)}function Wi(o,u){const b=Fo();let R;const Y=o+Ci;b.firstCreatePass?(R=function Ji(o,u){if(u)for(let b=u.length-1;b>=0;b--){const R=u[b];if(o===R.name)return R}}(u,b.pipeRegistry),b.data[Y]=R,R.onDestroy&&(b.destroyHooks??=[]).push(Y,R.onDestroy)):R=b.data[Y];const he=R.factory||(R.factory=Pu(R.type)),ze=Uo(Fy);try{const ot=lu(!1),Dt=he();return lu(ot),function cE(o,u,b,R){b>=o.data.length&&(o.data[b]=null,o.blueprint[b]=null),u[b]=R}(b,gr(),Y,Dt),Dt}finally{Uo(ze)}}function RC(o,u,b){const R=o+Ci,Y=gr(),he=Uu(Y,R);return function Ag(o,u){return o[Vr].data[u].pure}(Y,R)?vm(Y,_d(),u,he.transform,b,he):he.transform(b)}function yR(o,u){return $_(o,u)}class tc{constructor(u){this.full=u;const b=u.split(".");this.major=b[0],this.minor=b[1],this.patch=b.slice(2).join(".")}}let TR=(()=>{class o{log(b){console.log(b)}warn(b){console.warn(b)}static#e=this.\u0275fac=function(R){return new(R||o)};static#t=this.\u0275prov=$o({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();const LR=new zi(""),XC=new zi("");let UM,rB=(()=>{class o{constructor(b,R,Y){this._ngZone=b,this.registry=R,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,UM||(function ZC(o){UM=o}(Y),Y.addToWindow(R)),this._watchAngularEvents(),b.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ba.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let b=this._callbacks.pop();clearTimeout(b.timeoutId),b.doneCb()}});else{let b=this.getPendingTasks();this._callbacks=this._callbacks.filter(R=>!R.updateCb||!R.updateCb(b)||(clearTimeout(R.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(b=>({source:b.source,creationLocation:b.creationLocation,data:b.data})):[]}addCallback(b,R,Y){let he=-1;R&&R>0&&(he=setTimeout(()=>{this._callbacks=this._callbacks.filter(Ie=>Ie.timeoutId!==he),b()},R)),this._callbacks.push({doneCb:b,timeoutId:he,updateCb:Y})}whenStable(b,R,Y){if(Y&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(b,R,Y),this._runCallbacksIfReady()}registerApplication(b){this.registry.registerApplication(b,this)}unregisterApplication(b){this.registry.unregisterApplication(b)}findProviders(b,R,Y){return[]}static#e=this.\u0275fac=function(R){return new(R||o)(ji(ba),ji(LM),ji(XC))};static#t=this.\u0275prov=$o({token:o,factory:o.\u0275fac})}return o})(),LM=(()=>{class o{constructor(){this._applications=new Map}registerApplication(b,R){this._applications.set(b,R)}unregisterApplication(b){this._applications.delete(b)}unregisterAllApplications(){this._applications.clear()}getTestability(b){return this._applications.get(b)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(b,R=!0){return UM?.findTestabilityInTree(this,b,R)??null}static#e=this.\u0275fac=function(R){return new(R||o)};static#t=this.\u0275prov=$o({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();function EE(o){return!!o&&"function"==typeof o.then}function FM(o){return!!o&&"function"==typeof o.subscribe}const YC=new zi("");let rw=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((b,R)=>{this.resolve=b,this.reject=R}),this.appInits=Ir(YC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const b=[];for(const Y of this.appInits){const he=Y();if(EE(he))b.push(he);else if(FM(he)){const Ie=new Promise((ze,ot)=>{he.subscribe({complete:ze,error:ot})});b.push(Ie)}}const R=()=>{this.done=!0,this.resolve()};Promise.all(b).then(()=>{R()}).catch(Y=>{this.reject(Y)}),0===b.length&&R(),this.initialized=!0}static#e=this.\u0275fac=function(R){return new(R||o)};static#t=this.\u0275prov=$o({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const iw=new zi("");let ol=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ir(r_),this.afterRenderEffectManager=Ir(Zy),this.zonelessEnabled=Ir(tb),this.externalTestViews=new Set,this.beforeRender=new pe.B,this.afterTick=new pe.B,this.componentTypes=[],this.components=[],this.isStable=Ir(Wm).hasPendingTasks.pipe((0,Q.T)(b=>!b)),this._injector=Ir(ou)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(b,R){const Y=b instanceof fI;if(!this._injector.get(rw).done)throw!Y&&Ua(b),new Pr(405,!1);let Ie;Ie=Y?b:this._injector.get(Xy).resolveComponentFactory(b),this.componentTypes.push(Ie.componentType);const ze=function UR(o){return o.isBoundToModule}(Ie)?void 0:this._injector.get(hu),Dt=Ie.create(Jc.NULL,[],R||Ie.selector,ze),Ft=Dt.location.nativeElement,fn=Dt.injector.get(LR,null);return fn?.registerApplication(Ft),Dt.onDestroy(()=>{this.detachView(Dt.hostView),H0(this.components,Dt),fn?.unregisterApplication(Ft)}),this._loadComponent(Dt),Dt}tick(){this._tick(!0)}_tick(b){if(this._runningTick)throw new Pr(101,!1);const R=O(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(b)}catch(Y){this.internalErrorHandler(Y)}finally{this._runningTick=!1,O(R),this.afterTick.next()}}detectChangesInAttachedViews(b){let R=null;this._injector.destroyed||(R=this._injector.get(e1,null,{optional:!0}));let Y=0;const he=this.afterRenderEffectManager;for(;Y<10;){const Ie=0===Y;if(b||!Ie){this.beforeRender.next(Ie);for(let{_lView:ze,notifyErrorHandler:ot}of this._views)FR(ze,ot,Ie,this.zonelessEnabled)}else R?.begin?.(),R?.end?.();if(Y++,he.executeInternalCallbacks(),!this.allViews.some(({_lView:ze})=>fv(ze))&&(he.execute(),!this.allViews.some(({_lView:ze})=>fv(ze))))break}}attachView(b){const R=b;this._views.push(R),R.attachToAppRef(this)}detachView(b){const R=b;H0(this._views,R),R.detachFromAppRef()}_loadComponent(b){this.attachView(b.hostView),this.tick(),this.components.push(b);const R=this._injector.get(iw,[]);[...this._bootstrapListeners,...R].forEach(Y=>Y(b))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(b=>b()),this._views.slice().forEach(b=>b.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(b){return this._destroyListeners.push(b),()=>H0(this._destroyListeners,b)}destroy(){if(this._destroyed)throw new Pr(406,!1);const b=this._injector;b.destroy&&!b.destroyed&&b.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(R){return new(R||o)};static#t=this.\u0275prov=$o({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function H0(o,u){const b=o.indexOf(u);b>-1&&o.splice(b,1)}function FR(o,u,b,R){(b||fv(o))&&Yp(o,u,b&&!R?0:1)}class jR{constructor(u,b){this.ngModuleFactory=u,this.componentFactories=b}}let $R=(()=>{class o{compileModuleSync(b){return new _S(b)}compileModuleAsync(b){return Promise.resolve(this.compileModuleSync(b))}compileModuleAndAllComponentsSync(b){const R=this.compileModuleSync(b),he=Wu(Pi(b).declarations).reduce((Ie,ze)=>{const ot=yi(ze);return ot&&Ie.push(new qy(ot)),Ie},[]);return new jR(R,he)}compileModuleAndAllComponentsAsync(b){return Promise.resolve(this.compileModuleAndAllComponentsSync(b))}clearCache(){}clearCacheFor(b){}getModuleId(b){}static#e=this.\u0275fac=function(R){return new(R||o)};static#t=this.\u0275prov=$o({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),xE=(()=>{class o{constructor(){this.zone=Ir(ba),this.changeDetectionScheduler=Ir(d0),this.applicationRef=Ir(ol)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(R){return new(R||o)};static#t=this.\u0275prov=$o({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const t3=new zi("",{factory:()=>!1});function Cg({ngZoneFactory:o,ignoreChangesOutsideZone:u}){return o??=()=>new ba(SE()),[{provide:ba,useFactory:o},{provide:Me,multi:!0,useFactory:()=>{const b=Ir(xE,{optional:!0});return()=>b.initialize()}},{provide:Me,multi:!0,useFactory:()=>{const b=Ir(jM);return()=>{b.initialize()}}},!0===u?{provide:Q_,useValue:!0}:[]]}function n3(o){const u=o?.ignoreChangesOutsideZone,b=Cg({ngZoneFactory:()=>{const R=SE(o);return R.shouldCoalesceEventChangeDetection&&Dl("NgZone_CoalesceEvent"),new ba(R)},ignoreChangesOutsideZone:u});return Lw([{provide:t3,useValue:!0},{provide:tb,useValue:!1},b])}function SE(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}let jM=(()=>{class o{constructor(){this.subscription=new ue.yU,this.initialized=!1,this.zone=Ir(ba),this.pendingTasks=Ir(Wm)}initialize(){if(this.initialized)return;this.initialized=!0;let b=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(b=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ba.assertNotInAngularZone(),queueMicrotask(()=>{null!==b&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(b),b=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ba.assertInAngularZone(),b??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(R){return new(R||o)};static#t=this.\u0275prov=$o({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Rg=(()=>{class o{constructor(){this.appRef=Ir(ol),this.taskService=Ir(Wm),this.ngZone=Ir(ba),this.zonelessEnabled=Ir(tb),this.disableScheduling=Ir(Q_,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ue.yU,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof S2||!this.zoneIsDefined)}notify(b){if(!this.zonelessEnabled&&5===b)return;switch(b){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const R=this.useMicrotaskScheduler?_2:TT;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=R(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=R(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&ba.isInAngularZone())}tick(b){if(this.runningTick||this.appRef.destroyed)return;const R=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(b)},void 0,this.schedulerTickApplyArgs)}catch(Y){throw this.taskService.remove(R),Y}finally{this.cleanup()}this.useMicrotaskScheduler=!0,_2(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(R)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const b=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(b)}}static#e=this.\u0275fac=function(R){return new(R||o)};static#t=this.\u0275prov=$o({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const Og=new zi("",{providedIn:"root",factory:()=>Ir(Og,oo.Optional|oo.SkipSelf)||function i3(){return typeof $localize<"u"&&$localize.locale||R0}()}),KM=new zi("",{providedIn:"root",factory:()=>"USD"}),aw=new zi("");let Mp=null;function Xs(){return!1}let AE=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=GR}return o})();function GR(o){return function pB(o,u,b){if(su(o)&&!b){const R=au(o.index,u);return new a0(R,R)}return 175&o.type?new a0(u[ja],u):null}(ss(),gr(),!(16&~o))}class u3{constructor(){}supports(u){return sp(u)}create(u){return new QR(u)}}const qR=(o,u)=>u;class QR{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||qR}forEachItem(u){let b;for(b=this._itHead;null!==b;b=b._next)u(b)}forEachOperation(u){let b=this._itHead,R=this._removalsHead,Y=0,he=null;for(;b||R;){const Ie=!R||b&&b.currentIndex<h3(R,Y,he)?b:R,ze=h3(Ie,Y,he),ot=Ie.currentIndex;if(Ie===R)Y--,R=R._nextRemoved;else if(b=b._next,null==Ie.previousIndex)Y++;else{he||(he=[]);const Dt=ze-Y,Ft=ot-Y;if(Dt!=Ft){for(let Rn=0;Rn<Dt;Rn++){const Ln=Rn<he.length?he[Rn]:he[Rn]=0,Yn=Ln+Rn;Ft<=Yn&&Yn<Dt&&(he[Rn]=Ln+1)}he[Ie.previousIndex]=Ft-Dt}}ze!==ot&&u(Ie,ze,ot)}}forEachPreviousItem(u){let b;for(b=this._previousItHead;null!==b;b=b._nextPrevious)u(b)}forEachAddedItem(u){let b;for(b=this._additionsHead;null!==b;b=b._nextAdded)u(b)}forEachMovedItem(u){let b;for(b=this._movesHead;null!==b;b=b._nextMoved)u(b)}forEachRemovedItem(u){let b;for(b=this._removalsHead;null!==b;b=b._nextRemoved)u(b)}forEachIdentityChange(u){let b;for(b=this._identityChangesHead;null!==b;b=b._nextIdentityChange)u(b)}diff(u){if(null==u&&(u=[]),!sp(u))throw new Pr(900,!1);return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let Y,he,Ie,b=this._itHead,R=!1;if(Array.isArray(u)){this.length=u.length;for(let ze=0;ze<this.length;ze++)he=u[ze],Ie=this._trackByFn(ze,he),null!==b&&Object.is(b.trackById,Ie)?(R&&(b=this._verifyReinsertion(b,he,Ie,ze)),Object.is(b.item,he)||this._addIdentityChange(b,he)):(b=this._mismatch(b,he,Ie,ze),R=!0),b=b._next}else Y=0,function II(o,u){if(Array.isArray(o))for(let b=0;b<o.length;b++)u(o[b]);else{const b=o[Symbol.iterator]();let R;for(;!(R=b.next()).done;)u(R.value)}}(u,ze=>{Ie=this._trackByFn(Y,ze),null!==b&&Object.is(b.trackById,Ie)?(R&&(b=this._verifyReinsertion(b,ze,Ie,Y)),Object.is(b.item,ze)||this._addIdentityChange(b,ze)):(b=this._mismatch(b,ze,Ie,Y),R=!0),b=b._next,Y++}),this.length=Y;return this._truncate(b),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,b,R,Y){let he;return null===u?he=this._itTail:(he=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(R,null))?(Object.is(u.item,b)||this._addIdentityChange(u,b),this._reinsertAfter(u,he,Y)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(R,Y))?(Object.is(u.item,b)||this._addIdentityChange(u,b),this._moveAfter(u,he,Y)):u=this._addAfter(new eO(b,R),he,Y),u}_verifyReinsertion(u,b,R,Y){let he=null===this._unlinkedRecords?null:this._unlinkedRecords.get(R,null);return null!==he?u=this._reinsertAfter(he,u._prev,Y):u.currentIndex!=Y&&(u.currentIndex=Y,this._addToMoves(u,Y)),u}_truncate(u){for(;null!==u;){const b=u._next;this._addToRemovals(this._unlink(u)),u=b}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,b,R){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const Y=u._prevRemoved,he=u._nextRemoved;return null===Y?this._removalsHead=he:Y._nextRemoved=he,null===he?this._removalsTail=Y:he._prevRemoved=Y,this._insertAfter(u,b,R),this._addToMoves(u,R),u}_moveAfter(u,b,R){return this._unlink(u),this._insertAfter(u,b,R),this._addToMoves(u,R),u}_addAfter(u,b,R){return this._insertAfter(u,b,R),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,b,R){const Y=null===b?this._itHead:b._next;return u._next=Y,u._prev=b,null===Y?this._itTail=u:Y._prev=u,null===b?this._itHead=u:b._next=u,null===this._linkedRecords&&(this._linkedRecords=new f3),this._linkedRecords.put(u),u.currentIndex=R,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const b=u._prev,R=u._next;return null===b?this._itHead=R:b._next=R,null===R?this._itTail=b:R._prev=b,u}_addToMoves(u,b){return u.previousIndex===b||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new f3),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,b){return u.item=b,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class eO{constructor(u,b){this.item=u,this.trackById=b,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tO{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,b){let R;for(R=this._head;null!==R;R=R._nextDup)if((null===b||b<=R.currentIndex)&&Object.is(R.trackById,u))return R;return null}remove(u){const b=u._prevDup,R=u._nextDup;return null===b?this._head=R:b._nextDup=R,null===R?this._tail=b:R._prevDup=b,null===this._head}}class f3{constructor(){this.map=new Map}put(u){const b=u.trackById;let R=this.map.get(b);R||(R=new tO,this.map.set(b,R)),R.add(u)}get(u,b){const Y=this.map.get(u);return Y?Y.get(u,b):null}remove(u){const b=u.trackById;return this.map.get(b).remove(u)&&this.map.delete(b),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function h3(o,u,b){const R=o.previousIndex;if(null===R)return R;let Y=0;return b&&R<b.length&&(Y=b[R]),R+u+Y}class p3{constructor(){}supports(u){return u instanceof Map||jo(u)}create(){return new nO}}class nO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let b;for(b=this._mapHead;null!==b;b=b._next)u(b)}forEachPreviousItem(u){let b;for(b=this._previousMapHead;null!==b;b=b._nextPrevious)u(b)}forEachChangedItem(u){let b;for(b=this._changesHead;null!==b;b=b._nextChanged)u(b)}forEachAddedItem(u){let b;for(b=this._additionsHead;null!==b;b=b._nextAdded)u(b)}forEachRemovedItem(u){let b;for(b=this._removalsHead;null!==b;b=b._nextRemoved)u(b)}diff(u){if(u){if(!(u instanceof Map||jo(u)))throw new Pr(900,!1)}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let b=this._mapHead;if(this._appendAfter=null,this._forEach(u,(R,Y)=>{if(b&&b.key===Y)this._maybeAddToChanges(b,R),this._appendAfter=b,b=b._next;else{const he=this._getOrCreateRecordForKey(Y,R);b=this._insertBeforeOrAppend(b,he)}}),b){b._prev&&(b._prev._next=null),this._removalsHead=b;for(let R=b;null!==R;R=R._nextRemoved)R===this._mapHead&&(this._mapHead=null),this._records.delete(R.key),R._nextRemoved=R._next,R.previousValue=R.currentValue,R.currentValue=null,R._prev=null,R._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,b){if(u){const R=u._prev;return b._next=u,b._prev=R,u._prev=b,R&&(R._next=b),u===this._mapHead&&(this._mapHead=b),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=b,b._prev=this._appendAfter):this._mapHead=b,this._appendAfter=b,null}_getOrCreateRecordForKey(u,b){if(this._records.has(u)){const Y=this._records.get(u);this._maybeAddToChanges(Y,b);const he=Y._prev,Ie=Y._next;return he&&(he._next=Ie),Ie&&(Ie._prev=he),Y._next=null,Y._prev=null,Y}const R=new rO(u);return this._records.set(u,R),R.currentValue=b,this._addToAdditions(R),R}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,b){Object.is(b,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=b,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,b){u instanceof Map?u.forEach(b):Object.keys(u).forEach(R=>b(u[R],R))}}class rO{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function m3(){return new HM([new u3])}let HM=(()=>{class o{static#e=this.\u0275prov=$o({token:o,providedIn:"root",factory:m3});constructor(b){this.factories=b}static create(b,R){if(null!=R){const Y=R.factories.slice();b=b.concat(Y)}return new o(b)}static extend(b){return{provide:o,useFactory:R=>o.create(b,R||m3()),deps:[[o,new yl,new La]]}}find(b){const R=this.factories.find(Y=>Y.supports(b));if(null!=R)return R;throw new Pr(901,!1)}}return o})();function y3(){return new g3([new p3])}let g3=(()=>{class o{static#e=this.\u0275prov=$o({token:o,providedIn:"root",factory:y3});constructor(b){this.factories=b}static create(b,R){if(R){const Y=R.factories.slice();b=b.concat(Y)}return new o(b)}static extend(b){return{provide:o,useFactory:R=>o.create(b,R||y3()),deps:[[o,new yl,new La]]}}find(b){const R=this.factories.find(Y=>Y.supports(b));if(R)return R;throw new Pr(901,!1)}}return o})();function pO(o){try{const{rootComponent:u,appProviders:b,platformProviders:R}=o,Y=function uB(o=[]){if(Mp)return Mp;const u=function zR(o=[],u){return Jc.create({name:u,providers:[{provide:oi,useValue:"platform"},{provide:aw,useValue:new Set([()=>Mp=null])},...o]})}(o);return Mp=u,function qC(){!function S(o){T=o}(()=>{throw new Pr(600,!1)})}(),function HR(o){o.get(FT,null)?.forEach(b=>b())}(u),u}(R),he=[Cg({}),{provide:d0,useExisting:Rg},...b||[]],ze=new DI({providers:he,parent:Y,debugName:"",runEnvironmentInitializers:!1}).injector,ot=ze.get(ba);return ot.run(()=>{ze.resolveInjectorInitializers();const Dt=ze.get(zu,null);let Ft;ot.runOutsideAngular(()=>{Ft=ot.onError.subscribe({next:Ln=>{Dt.handleError(Ln)}})});const fn=()=>ze.destroy(),Rn=Y.get(aw);return Rn.add(fn),ze.onDestroy(()=>{Ft.unsubscribe(),Rn.delete(fn)}),function lf(o,u,b){try{const R=b();return EE(R)?R.catch(Y=>{throw u.runOutsideAngular(()=>o.handleError(Y)),Y}):R}catch(R){throw u.runOutsideAngular(()=>o.handleError(R)),R}}(Dt,ot,()=>{const Ln=ze.get(rw);return Ln.runInitializers(),Ln.donePromise.then(()=>{!function zS(o){"string"==typeof o&&(VS=o.toLowerCase().replace(/_/g,"-"))}(ze.get(Og,R0)||R0);const vr=ze.get(ol);return void 0!==u&&vr.bootstrap(u),vr})})})}catch(u){return Promise.reject(u)}}const CE=new zi("");function TO(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function $B(o,u=NaN){return isNaN(parseFloat(o))||isNaN(Number(o))?u:Number(o)}function yw(o,u){Dl("NgSignals");const b=C(o);return u?.equal&&(b[x].equal=u.equal),b}function DO(o){const u=O(null);try{return o()}finally{O(u)}}const WB=new zi("",{providedIn:"root",factory:()=>Ir(P3)});let P3=(()=>{class o{static#e=this.\u0275prov=$o({token:o,providedIn:"root",factory:()=>new OE})}return o})();class OE{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Ir(Wm),this.taskId=null}scheduleEffect(u){if(this.enqueue(u),null===this.taskId){const b=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(b),this.taskId=null})}}enqueue(u){const b=u.creationZone;this.queues.has(b)||this.queues.set(b,new Set);const R=this.queues.get(b);R.has(u)||(this.queuedEffectCount++,R.add(u))}flush(){for(;this.queuedEffectCount>0;)for(const[u,b]of this.queues)null===u?this.flushQueue(b):u.run(()=>this.flushQueue(b))}flushQueue(u){for(const b of u)u.delete(b),this.queuedEffectCount--,b.run()}}class GB{constructor(u,b,R,Y,he,Ie){this.scheduler=u,this.effectFn=b,this.creationZone=R,this.injector=he,this.watcher=function Se(o,u,b){const R=Object.create(Ue);b&&(R.consumerAllowSignalWrites=!0),R.fn=o,R.schedule=u;const Y=ot=>{R.cleanupFn=ot};return R.ref={notify:()=>te(R),run:()=>{if(null===R.fn)return;if(function P(){return k}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(R.dirty=!1,R.hasRun&&!ie(R))return;R.hasRun=!0;const ot=J(R);try{R.cleanupFn(),R.cleanupFn=we,R.fn(Y)}finally{Z(R,ot)}},cleanup:()=>R.cleanupFn(),destroy:()=>function Ie(ot){(function he(ot){return null===ot.fn&&null===ot.schedule})(ot)||(ae(ot),ot.cleanupFn(),ot.fn=null,ot.schedule=null,ot.cleanupFn=we)}(R),[x]:R},R.ref}(ze=>this.runEffect(ze),()=>this.schedule(),Ie),this.unregisterOnDestroy=Y?.onDestroy(()=>this.destroy())}runEffect(u){try{this.effectFn(u)}catch(b){this.injector.get(zu,null,{optional:!0})?.handleError(b)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function X0(o,u){Dl("NgSignals"),!u?.injector&&jw();const b=u?.injector??Ir(Jc),R=!0!==u?.manualCleanup?b.get(e_):null,Y=new GB(b.get(WB),o,typeof Zone>"u"?null:Zone.current,R,b,u?.allowSignalWrites??!1),he=b.get(AE,null,{optional:!0});return he&&8&he._lView[Li]?(he._lView[t2]??=[]).push(Y.watcher.notify):Y.watcher.notify(),Y}function QM(o,u){const b=yi(o),R=u.elementInjector||Fw();return new qy(b).create(R,u.projectableNodes,u.hostElement,u.environmentInjector)}function IO(o){const u=yi(o);if(!u)return null;const b=new qy(u);return{get selector(){return b.selector},get type(){return b.componentType},get inputs(){return b.inputs},get outputs(){return b.outputs},get ngContentSelectors(){return b.ngContentSelectors},get isStandalone(){return u.standalone},get isSignal(){return u.signals}}}},89417:(je,H,w)=>{"use strict";w.d(H,{BC:()=>fe,JD:()=>lo,MJ:()=>Fi,X1:()=>Fl,YN:()=>Za,YS:()=>Xn,cV:()=>Po,cb:()=>Ee,cz:()=>Z,j4:()=>pc,k0:()=>se,kq:()=>F,l_:()=>Nl,me:()=>re,ok:()=>Xa,qT:()=>Ga,tU:()=>to,v8:()=>ga,vO:()=>pe,vS:()=>cl,xq:()=>Rt});var d=w(93953),E=w(60177),k=w(86648),z=w(27468),x=w(21413),O=w(96354);let A=(()=>{class Ot{constructor(wt,rn){this._renderer=wt,this._elementRef=rn,this.onChange=Bn=>{},this.onTouched=()=>{}}setProperty(wt,rn){this._renderer.setProperty(this._elementRef.nativeElement,wt,rn)}registerOnTouched(wt){this.onTouched=wt}registerOnChange(wt){this.onChange=wt}setDisabledState(wt){this.setProperty("disabled",wt)}static#e=this.\u0275fac=function(rn){return new(rn||Ot)(d.rXU(d.sFG),d.rXU(d.aKT))};static#t=this.\u0275dir=d.FsC({type:Ot})}return Ot})(),P=(()=>{class Ot extends A{static#e=this.\u0275fac=(()=>{let wt;return function(Bn){return(wt||(wt=d.xGo(Ot)))(Bn||Ot)}})();static#t=this.\u0275dir=d.FsC({type:Ot,features:[d.Vt3]})}return Ot})();const F=new d.nKC(""),X={provide:F,useExisting:(0,d.Rfq)(()=>re),multi:!0},G=new d.nKC("");let re=(()=>{class Ot extends A{constructor(wt,rn,Bn){super(wt,rn),this._compositionMode=Bn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function j(){const Ot=(0,E.QT)()?(0,E.QT)().getUserAgent():"";return/android (\d+)/.test(Ot.toLowerCase())}())}writeValue(wt){this.setProperty("value",wt??"")}_handleInput(wt){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(wt)}_compositionStart(){this._composing=!0}_compositionEnd(wt){this._composing=!1,this._compositionMode&&this.onChange(wt)}static#e=this.\u0275fac=function(rn){return new(rn||Ot)(d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(G,8))};static#t=this.\u0275dir=d.FsC({type:Ot,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(rn,Bn){1&rn&&d.bIt("input",function(Vi){return Bn._handleInput(Vi.target.value)})("blur",function(){return Bn.onTouched()})("compositionstart",function(){return Bn._compositionStart()})("compositionend",function(Vi){return Bn._compositionEnd(Vi.target.value)})},features:[d.Jv_([X]),d.Vt3]})}return Ot})();function te(Ot){return null==Ot||("string"==typeof Ot||Array.isArray(Ot))&&0===Ot.length}function J(Ot){return null!=Ot&&"number"==typeof Ot.length}const Z=new d.nKC(""),ie=new d.nKC(""),ae=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class se{static min(jt){return function de(Ot){return jt=>{if(te(jt.value)||te(Ot))return null;const wt=parseFloat(jt.value);return!isNaN(wt)&&wt<Ot?{min:{min:Ot,actual:jt.value}}:null}}(jt)}static max(jt){return function le(Ot){return jt=>{if(te(jt.value)||te(Ot))return null;const wt=parseFloat(jt.value);return!isNaN(wt)&&wt>Ot?{max:{max:Ot,actual:jt.value}}:null}}(jt)}static required(jt){return be(jt)}static requiredTrue(jt){return xe(jt)}static email(jt){return function ke(Ot){return te(Ot.value)||ae.test(Ot.value)?null:{email:!0}}(jt)}static minLength(jt){return function C(Ot){return jt=>te(jt.value)||!J(jt.value)?null:jt.value.length<Ot?{minlength:{requiredLength:Ot,actualLength:jt.value.length}}:null}(jt)}static maxLength(jt){return a(jt)}static pattern(jt){return function f(Ot){if(!Ot)return y;let jt,wt;return"string"==typeof Ot?(wt="","^"!==Ot.charAt(0)&&(wt+="^"),wt+=Ot,"$"!==Ot.charAt(Ot.length-1)&&(wt+="$"),jt=new RegExp(wt)):(wt=Ot.toString(),jt=Ot),rn=>{if(te(rn.value))return null;const Bn=rn.value;return jt.test(Bn)?null:{pattern:{requiredPattern:wt,actualValue:Bn}}}}(jt)}static nullValidator(jt){return null}static compose(jt){return v(jt)}static composeAsync(jt){return K(jt)}}function be(Ot){return te(Ot.value)?{required:!0}:null}function xe(Ot){return!0===Ot.value?null:{required:!0}}function a(Ot){return jt=>J(jt.value)&&jt.value.length>Ot?{maxlength:{requiredLength:Ot,actualLength:jt.value.length}}:null}function y(Ot){return null}function g(Ot){return null!=Ot}function M(Ot){return(0,d.jNT)(Ot)?(0,k.H)(Ot):Ot}function T(Ot){let jt={};return Ot.forEach(wt=>{jt=null!=wt?{...jt,...wt}:jt}),0===Object.keys(jt).length?null:jt}function B(Ot,jt){return jt.map(wt=>wt(Ot))}function s(Ot){return Ot.map(jt=>function S(Ot){return!Ot.validate}(jt)?jt:wt=>jt.validate(wt))}function v(Ot){if(!Ot)return null;const jt=Ot.filter(g);return 0==jt.length?null:function(wt){return T(B(wt,jt))}}function W(Ot){return null!=Ot?v(s(Ot)):null}function K(Ot){if(!Ot)return null;const jt=Ot.filter(g);return 0==jt.length?null:function(wt){const rn=B(wt,jt).map(M);return(0,z.p)(rn).pipe((0,O.T)(T))}}function ee(Ot){return null!=Ot?K(s(Ot)):null}function ce(Ot,jt){return null===Ot?[jt]:Array.isArray(Ot)?[...Ot,jt]:[Ot,jt]}function _e(Ot){return Ot._rawValidators}function Oe(Ot){return Ot._rawAsyncValidators}function Ve(Ot){return Ot?Array.isArray(Ot)?Ot:[Ot]:[]}function Se(Ot,jt){return Array.isArray(Ot)?Ot.includes(jt):Ot===jt}function we(Ot,jt){const wt=Ve(jt);return Ve(Ot).forEach(Bn=>{Se(wt,Bn)||wt.push(Bn)}),wt}function Ue(Ot,jt){return Ve(jt).filter(wt=>!Se(Ot,wt))}class ye{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(jt){this._rawValidators=jt||[],this._composedValidatorFn=W(this._rawValidators)}_setAsyncValidators(jt){this._rawAsyncValidators=jt||[],this._composedAsyncValidatorFn=ee(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(jt){this._onDestroyCallbacks.push(jt)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(jt=>jt()),this._onDestroyCallbacks=[]}reset(jt=void 0){this.control&&this.control.reset(jt)}hasError(jt,wt){return!!this.control&&this.control.hasError(jt,wt)}getError(jt,wt){return this.control?this.control.getError(jt,wt):null}}class De extends ye{get formDirective(){return null}get path(){return null}}class pe extends ye{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ue{constructor(jt){this._cd=jt}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let fe=(()=>{class Ot extends ue{constructor(wt){super(wt)}static#e=this.\u0275fac=function(rn){return new(rn||Ot)(d.rXU(pe,2))};static#t=this.\u0275dir=d.FsC({type:Ot,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(rn,Bn){2&rn&&d.AVh("ng-untouched",Bn.isUntouched)("ng-touched",Bn.isTouched)("ng-pristine",Bn.isPristine)("ng-dirty",Bn.isDirty)("ng-valid",Bn.isValid)("ng-invalid",Bn.isInvalid)("ng-pending",Bn.isPending)},features:[d.Vt3]})}return Ot})(),Ee=(()=>{class Ot extends ue{constructor(wt){super(wt)}static#e=this.\u0275fac=function(rn){return new(rn||Ot)(d.rXU(De,10))};static#t=this.\u0275dir=d.FsC({type:Ot,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(rn,Bn){2&rn&&d.AVh("ng-untouched",Bn.isUntouched)("ng-touched",Bn.isTouched)("ng-pristine",Bn.isPristine)("ng-dirty",Bn.isDirty)("ng-valid",Bn.isValid)("ng-invalid",Bn.isInvalid)("ng-pending",Bn.isPending)("ng-submitted",Bn.isSubmitted)},features:[d.Vt3]})}return Ot})();const Zt="VALID",mn="INVALID",dn="PENDING",ar="DISABLED";class An{}class en extends An{constructor(jt,wt){super(),this.value=jt,this.source=wt}}class Qt extends An{constructor(jt,wt){super(),this.pristine=jt,this.source=wt}}class Et extends An{constructor(jt,wt){super(),this.touched=jt,this.source=wt}}class ft extends An{constructor(jt,wt){super(),this.status=jt,this.source=wt}}class Ht extends An{constructor(jt){super(),this.source=jt}}class qt extends An{constructor(jt){super(),this.source=jt}}function hn(Ot){return(Mt(Ot)?Ot.validators:Ot)||null}function vt(Ot,jt){return(Mt(jt)?jt.asyncValidators:Ot)||null}function Mt(Ot){return null!=Ot&&!Array.isArray(Ot)&&"object"==typeof Ot}function Ye(Ot,jt,wt){const rn=Ot.controls;if(!(jt?Object.keys(rn):rn).length)throw new d.wOt(1e3,"");if(!rn[wt])throw new d.wOt(1001,"")}function nt(Ot,jt,wt){Ot._forEachChild((rn,Bn)=>{if(void 0===wt[Bn])throw new d.wOt(1002,"")})}class Wt{constructor(jt,wt){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,d.EWP)(()=>this.statusReactive()),this.statusReactive=(0,d.vPA)(void 0),this._pristine=(0,d.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,d.vPA)(!0),this._touched=(0,d.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,d.vPA)(!1),this._events=new x.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(jt),this._assignAsyncValidators(wt)}get validator(){return this._composedValidatorFn}set validator(jt){this._rawValidators=this._composedValidatorFn=jt}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(jt){this._rawAsyncValidators=this._composedAsyncValidatorFn=jt}get parent(){return this._parent}get status(){return(0,d.O8t)(this.statusReactive)}set status(jt){(0,d.O8t)(()=>this.statusReactive.set(jt))}get valid(){return this.status===Zt}get invalid(){return this.status===mn}get pending(){return this.status==dn}get disabled(){return this.status===ar}get enabled(){return this.status!==ar}get pristine(){return(0,d.O8t)(this.pristineReactive)}set pristine(jt){(0,d.O8t)(()=>this.pristineReactive.set(jt))}get dirty(){return!this.pristine}get touched(){return(0,d.O8t)(this.touchedReactive)}set touched(jt){(0,d.O8t)(()=>this.touchedReactive.set(jt))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(jt){this._assignValidators(jt)}setAsyncValidators(jt){this._assignAsyncValidators(jt)}addValidators(jt){this.setValidators(we(jt,this._rawValidators))}addAsyncValidators(jt){this.setAsyncValidators(we(jt,this._rawAsyncValidators))}removeValidators(jt){this.setValidators(Ue(jt,this._rawValidators))}removeAsyncValidators(jt){this.setAsyncValidators(Ue(jt,this._rawAsyncValidators))}hasValidator(jt){return Se(this._rawValidators,jt)}hasAsyncValidator(jt){return Se(this._rawAsyncValidators,jt)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(jt={}){const wt=!1===this.touched;this.touched=!0;const rn=jt.sourceControl??this;this._parent&&!jt.onlySelf&&this._parent.markAsTouched({...jt,sourceControl:rn}),wt&&!1!==jt.emitEvent&&this._events.next(new Et(!0,rn))}markAllAsTouched(jt={}){this.markAsTouched({onlySelf:!0,emitEvent:jt.emitEvent,sourceControl:this}),this._forEachChild(wt=>wt.markAllAsTouched(jt))}markAsUntouched(jt={}){const wt=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const rn=jt.sourceControl??this;this._forEachChild(Bn=>{Bn.markAsUntouched({onlySelf:!0,emitEvent:jt.emitEvent,sourceControl:rn})}),this._parent&&!jt.onlySelf&&this._parent._updateTouched(jt,rn),wt&&!1!==jt.emitEvent&&this._events.next(new Et(!1,rn))}markAsDirty(jt={}){const wt=!0===this.pristine;this.pristine=!1;const rn=jt.sourceControl??this;this._parent&&!jt.onlySelf&&this._parent.markAsDirty({...jt,sourceControl:rn}),wt&&!1!==jt.emitEvent&&this._events.next(new Qt(!1,rn))}markAsPristine(jt={}){const wt=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const rn=jt.sourceControl??this;this._forEachChild(Bn=>{Bn.markAsPristine({onlySelf:!0,emitEvent:jt.emitEvent})}),this._parent&&!jt.onlySelf&&this._parent._updatePristine(jt,rn),wt&&!1!==jt.emitEvent&&this._events.next(new Qt(!0,rn))}markAsPending(jt={}){this.status=dn;const wt=jt.sourceControl??this;!1!==jt.emitEvent&&(this._events.next(new ft(this.status,wt)),this.statusChanges.emit(this.status)),this._parent&&!jt.onlySelf&&this._parent.markAsPending({...jt,sourceControl:wt})}disable(jt={}){const wt=this._parentMarkedDirty(jt.onlySelf);this.status=ar,this.errors=null,this._forEachChild(Bn=>{Bn.disable({...jt,onlySelf:!0})}),this._updateValue();const rn=jt.sourceControl??this;!1!==jt.emitEvent&&(this._events.next(new en(this.value,rn)),this._events.next(new ft(this.status,rn)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...jt,skipPristineCheck:wt},this),this._onDisabledChange.forEach(Bn=>Bn(!0))}enable(jt={}){const wt=this._parentMarkedDirty(jt.onlySelf);this.status=Zt,this._forEachChild(rn=>{rn.enable({...jt,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:jt.emitEvent}),this._updateAncestors({...jt,skipPristineCheck:wt},this),this._onDisabledChange.forEach(rn=>rn(!1))}_updateAncestors(jt,wt){this._parent&&!jt.onlySelf&&(this._parent.updateValueAndValidity(jt),jt.skipPristineCheck||this._parent._updatePristine({},wt),this._parent._updateTouched({},wt))}setParent(jt){this._parent=jt}getRawValue(){return this.value}updateValueAndValidity(jt={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const rn=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zt||this.status===dn)&&this._runAsyncValidator(rn,jt.emitEvent)}const wt=jt.sourceControl??this;!1!==jt.emitEvent&&(this._events.next(new en(this.value,wt)),this._events.next(new ft(this.status,wt)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!jt.onlySelf&&this._parent.updateValueAndValidity({...jt,sourceControl:wt})}_updateTreeValidity(jt={emitEvent:!0}){this._forEachChild(wt=>wt._updateTreeValidity(jt)),this.updateValueAndValidity({onlySelf:!0,emitEvent:jt.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ar:Zt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(jt,wt){if(this.asyncValidator){this.status=dn,this._hasOwnPendingAsyncValidator={emitEvent:!1!==wt};const rn=M(this.asyncValidator(this));this._asyncValidationSubscription=rn.subscribe(Bn=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Bn,{emitEvent:wt,shouldHaveEmitted:jt})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const jt=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,jt}return!1}setErrors(jt,wt={}){this.errors=jt,this._updateControlsErrors(!1!==wt.emitEvent,this,wt.shouldHaveEmitted)}get(jt){let wt=jt;return null==wt||(Array.isArray(wt)||(wt=wt.split(".")),0===wt.length)?null:wt.reduce((rn,Bn)=>rn&&rn._find(Bn),this)}getError(jt,wt){const rn=wt?this.get(wt):this;return rn&&rn.errors?rn.errors[jt]:null}hasError(jt,wt){return!!this.getError(jt,wt)}get root(){let jt=this;for(;jt._parent;)jt=jt._parent;return jt}_updateControlsErrors(jt,wt,rn){this.status=this._calculateStatus(),jt&&this.statusChanges.emit(this.status),(jt||rn)&&this._events.next(new ft(this.status,wt)),this._parent&&this._parent._updateControlsErrors(jt,wt,rn)}_initObservables(){this.valueChanges=new d.bkB,this.statusChanges=new d.bkB}_calculateStatus(){return this._allControlsDisabled()?ar:this.errors?mn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(dn)?dn:this._anyControlsHaveStatus(mn)?mn:Zt}_anyControlsHaveStatus(jt){return this._anyControls(wt=>wt.status===jt)}_anyControlsDirty(){return this._anyControls(jt=>jt.dirty)}_anyControlsTouched(){return this._anyControls(jt=>jt.touched)}_updatePristine(jt,wt){const rn=!this._anyControlsDirty(),Bn=this.pristine!==rn;this.pristine=rn,this._parent&&!jt.onlySelf&&this._parent._updatePristine(jt,wt),Bn&&this._events.next(new Qt(this.pristine,wt))}_updateTouched(jt={},wt){this.touched=this._anyControlsTouched(),this._events.next(new Et(this.touched,wt)),this._parent&&!jt.onlySelf&&this._parent._updateTouched(jt,wt)}_registerOnCollectionChange(jt){this._onCollectionChange=jt}_setUpdateStrategy(jt){Mt(jt)&&null!=jt.updateOn&&(this._updateOn=jt.updateOn)}_parentMarkedDirty(jt){return!jt&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(jt){return null}_assignValidators(jt){this._rawValidators=Array.isArray(jt)?jt.slice():jt,this._composedValidatorFn=function hr(Ot){return Array.isArray(Ot)?W(Ot):Ot||null}(this._rawValidators)}_assignAsyncValidators(jt){this._rawAsyncValidators=Array.isArray(jt)?jt.slice():jt,this._composedAsyncValidatorFn=function St(Ot){return Array.isArray(Ot)?ee(Ot):Ot||null}(this._rawAsyncValidators)}}class Nt extends Wt{constructor(jt,wt,rn){super(hn(wt),vt(rn,wt)),this.controls=jt,this._initObservables(),this._setUpdateStrategy(wt),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(jt,wt){return this.controls[jt]?this.controls[jt]:(this.controls[jt]=wt,wt.setParent(this),wt._registerOnCollectionChange(this._onCollectionChange),wt)}addControl(jt,wt,rn={}){this.registerControl(jt,wt),this.updateValueAndValidity({emitEvent:rn.emitEvent}),this._onCollectionChange()}removeControl(jt,wt={}){this.controls[jt]&&this.controls[jt]._registerOnCollectionChange(()=>{}),delete this.controls[jt],this.updateValueAndValidity({emitEvent:wt.emitEvent}),this._onCollectionChange()}setControl(jt,wt,rn={}){this.controls[jt]&&this.controls[jt]._registerOnCollectionChange(()=>{}),delete this.controls[jt],wt&&this.registerControl(jt,wt),this.updateValueAndValidity({emitEvent:rn.emitEvent}),this._onCollectionChange()}contains(jt){return this.controls.hasOwnProperty(jt)&&this.controls[jt].enabled}setValue(jt,wt={}){nt(this,0,jt),Object.keys(jt).forEach(rn=>{Ye(this,!0,rn),this.controls[rn].setValue(jt[rn],{onlySelf:!0,emitEvent:wt.emitEvent})}),this.updateValueAndValidity(wt)}patchValue(jt,wt={}){null!=jt&&(Object.keys(jt).forEach(rn=>{const Bn=this.controls[rn];Bn&&Bn.patchValue(jt[rn],{onlySelf:!0,emitEvent:wt.emitEvent})}),this.updateValueAndValidity(wt))}reset(jt={},wt={}){this._forEachChild((rn,Bn)=>{rn.reset(jt?jt[Bn]:null,{onlySelf:!0,emitEvent:wt.emitEvent})}),this._updatePristine(wt,this),this._updateTouched(wt,this),this.updateValueAndValidity(wt)}getRawValue(){return this._reduceChildren({},(jt,wt,rn)=>(jt[rn]=wt.getRawValue(),jt))}_syncPendingControls(){let jt=this._reduceChildren(!1,(wt,rn)=>!!rn._syncPendingControls()||wt);return jt&&this.updateValueAndValidity({onlySelf:!0}),jt}_forEachChild(jt){Object.keys(this.controls).forEach(wt=>{const rn=this.controls[wt];rn&&jt(rn,wt)})}_setUpControls(){this._forEachChild(jt=>{jt.setParent(this),jt._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(jt){for(const[wt,rn]of Object.entries(this.controls))if(this.contains(wt)&&jt(rn))return!0;return!1}_reduceValue(){return this._reduceChildren({},(wt,rn,Bn)=>((rn.enabled||this.disabled)&&(wt[Bn]=rn.value),wt))}_reduceChildren(jt,wt){let rn=jt;return this._forEachChild((Bn,ei)=>{rn=wt(rn,Bn,ei)}),rn}_allControlsDisabled(){for(const jt of Object.keys(this.controls))if(this.controls[jt].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(jt){return this.controls.hasOwnProperty(jt)?this.controls[jt]:null}}class kn extends Nt{}const Jn=new d.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Fn}),Fn="always";function Lt(Ot,jt){return[...jt.path,Ot]}function et(Ot,jt,wt=Fn){nn(Ot,jt),jt.valueAccessor.writeValue(Ot.value),(Ot.disabled||"always"===wt)&&jt.valueAccessor.setDisabledState?.(Ot.disabled),function Kn(Ot,jt){jt.valueAccessor.registerOnChange(wt=>{Ot._pendingValue=wt,Ot._pendingChange=!0,Ot._pendingDirty=!0,"change"===Ot.updateOn&&_r(Ot,jt)})}(Ot,jt),function Tr(Ot,jt){const wt=(rn,Bn)=>{jt.valueAccessor.writeValue(rn),Bn&&jt.viewToModelUpdate(rn)};Ot.registerOnChange(wt),jt._registerOnDestroy(()=>{Ot._unregisterOnChange(wt)})}(Ot,jt),function er(Ot,jt){jt.valueAccessor.registerOnTouched(()=>{Ot._pendingTouched=!0,"blur"===Ot.updateOn&&Ot._pendingChange&&_r(Ot,jt),"submit"!==Ot.updateOn&&Ot.markAsTouched()})}(Ot,jt),function xt(Ot,jt){if(jt.valueAccessor.setDisabledState){const wt=rn=>{jt.valueAccessor.setDisabledState(rn)};Ot.registerOnDisabledChange(wt),jt._registerOnDestroy(()=>{Ot._unregisterOnDisabledChange(wt)})}}(Ot,jt)}function Te(Ot,jt,wt=!0){const rn=()=>{};jt.valueAccessor&&(jt.valueAccessor.registerOnChange(rn),jt.valueAccessor.registerOnTouched(rn)),In(Ot,jt),Ot&&(jt._invokeOnDestroyCallbacks(),Ot._registerOnCollectionChange(()=>{}))}function Ne(Ot,jt){Ot.forEach(wt=>{wt.registerOnValidatorChange&&wt.registerOnValidatorChange(jt)})}function nn(Ot,jt){const wt=_e(Ot);null!==jt.validator?Ot.setValidators(ce(wt,jt.validator)):"function"==typeof wt&&Ot.setValidators([wt]);const rn=Oe(Ot);null!==jt.asyncValidator?Ot.setAsyncValidators(ce(rn,jt.asyncValidator)):"function"==typeof rn&&Ot.setAsyncValidators([rn]);const Bn=()=>Ot.updateValueAndValidity();Ne(jt._rawValidators,Bn),Ne(jt._rawAsyncValidators,Bn)}function In(Ot,jt){let wt=!1;if(null!==Ot){if(null!==jt.validator){const Bn=_e(Ot);if(Array.isArray(Bn)&&Bn.length>0){const ei=Bn.filter(Vi=>Vi!==jt.validator);ei.length!==Bn.length&&(wt=!0,Ot.setValidators(ei))}}if(null!==jt.asyncValidator){const Bn=Oe(Ot);if(Array.isArray(Bn)&&Bn.length>0){const ei=Bn.filter(Vi=>Vi!==jt.asyncValidator);ei.length!==Bn.length&&(wt=!0,Ot.setAsyncValidators(ei))}}}const rn=()=>{};return Ne(jt._rawValidators,rn),Ne(jt._rawAsyncValidators,rn),wt}function _r(Ot,jt){Ot._pendingDirty&&Ot.markAsDirty(),Ot.setValue(Ot._pendingValue,{emitModelToViewChange:!1}),jt.viewToModelUpdate(Ot._pendingValue),Ot._pendingChange=!1}function Br(Ot,jt){nn(Ot,jt)}function fr(Ot,jt){if(!Ot.hasOwnProperty("model"))return!1;const wt=Ot.model;return!!wt.isFirstChange()||!Object.is(jt,wt.currentValue)}function Sr(Ot,jt){Ot._syncPendingControls(),jt.forEach(wt=>{const rn=wt.control;"submit"===rn.updateOn&&rn._pendingChange&&(wt.viewToModelUpdate(rn._pendingValue),rn._pendingChange=!1)})}function zr(Ot,jt){if(!jt)return null;let wt,rn,Bn;return Array.isArray(jt),jt.forEach(ei=>{ei.constructor===re?wt=ei:function Ar(Ot){return Object.getPrototypeOf(Ot.constructor)===P}(ei)?rn=ei:Bn=ei}),Bn||rn||wt||null}const To={provide:De,useExisting:(0,d.Rfq)(()=>Po)},bi=Promise.resolve();let Po=(()=>{class Ot extends De{get submitted(){return(0,d.O8t)(this.submittedReactive)}constructor(wt,rn,Bn){super(),this.callSetDisabledState=Bn,this._submitted=(0,d.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,d.vPA)(!1),this._directives=new Set,this.ngSubmit=new d.bkB,this.form=new Nt({},W(wt),ee(rn))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(wt){bi.then(()=>{const rn=this._findContainer(wt.path);wt.control=rn.registerControl(wt.name,wt.control),et(wt.control,wt,this.callSetDisabledState),wt.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(wt)})}getControl(wt){return this.form.get(wt.path)}removeControl(wt){bi.then(()=>{const rn=this._findContainer(wt.path);rn&&rn.removeControl(wt.name),this._directives.delete(wt)})}addFormGroup(wt){bi.then(()=>{const rn=this._findContainer(wt.path),Bn=new Nt({});Br(Bn,wt),rn.registerControl(wt.name,Bn),Bn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(wt){bi.then(()=>{const rn=this._findContainer(wt.path);rn&&rn.removeControl(wt.name)})}getFormGroup(wt){return this.form.get(wt.path)}updateModel(wt,rn){bi.then(()=>{this.form.get(wt.path).setValue(rn)})}setValue(wt){this.control.setValue(wt)}onSubmit(wt){return this.submittedReactive.set(!0),Sr(this.form,this._directives),this.ngSubmit.emit(wt),"dialog"===wt?.target?.method}onReset(){this.resetForm()}resetForm(wt=void 0){this.form.reset(wt),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(wt){return wt.pop(),wt.length?this.form.get(wt):this.form}static#e=this.\u0275fac=function(rn){return new(rn||Ot)(d.rXU(Z,10),d.rXU(ie,10),d.rXU(Jn,8))};static#t=this.\u0275dir=d.FsC({type:Ot,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(rn,Bn){1&rn&&d.bIt("submit",function(Vi){return Bn.onSubmit(Vi)})("reset",function(){return Bn.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.Jv_([To]),d.Vt3]})}return Ot})();function Bo(Ot,jt){const wt=Ot.indexOf(jt);wt>-1&&Ot.splice(wt,1)}function Ho(Ot){return"object"==typeof Ot&&null!==Ot&&2===Object.keys(Ot).length&&"value"in Ot&&"disabled"in Ot}const Fi=class extends Wt{constructor(jt=null,wt,rn){super(hn(wt),vt(rn,wt)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(jt),this._setUpdateStrategy(wt),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mt(wt)&&(wt.nonNullable||wt.initialValueIsDefault)&&(this.defaultValue=Ho(jt)?jt.value:jt)}setValue(jt,wt={}){this.value=this._pendingValue=jt,this._onChange.length&&!1!==wt.emitModelToViewChange&&this._onChange.forEach(rn=>rn(this.value,!1!==wt.emitViewToModelChange)),this.updateValueAndValidity(wt)}patchValue(jt,wt={}){this.setValue(jt,wt)}reset(jt=this.defaultValue,wt={}){this._applyFormState(jt),this.markAsPristine(wt),this.markAsUntouched(wt),this.setValue(this.value,wt),this._pendingChange=!1}_updateValue(){}_anyControls(jt){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(jt){this._onChange.push(jt)}_unregisterOnChange(jt){Bo(this._onChange,jt)}registerOnDisabledChange(jt){this._onDisabledChange.push(jt)}_unregisterOnDisabledChange(jt){Bo(this._onDisabledChange,jt)}_forEachChild(jt){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(jt){Ho(jt)?(this.value=this._pendingValue=jt.value,jt.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=jt}};let Aa=(()=>{class Ot extends De{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Lt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=(()=>{let wt;return function(Bn){return(wt||(wt=d.xGo(Ot)))(Bn||Ot)}})();static#t=this.\u0275dir=d.FsC({type:Ot,features:[d.Vt3]})}return Ot})();const da={provide:pe,useExisting:(0,d.Rfq)(()=>cl)},Ra=Promise.resolve();let cl=(()=>{class Ot extends pe{constructor(wt,rn,Bn,ei,Vi,ys){super(),this._changeDetectorRef=Vi,this.callSetDisabledState=ys,this.control=new Fi,this._registered=!1,this.name="",this.update=new d.bkB,this._parent=wt,this._setValidators(rn),this._setAsyncValidators(Bn),this.valueAccessor=zr(0,ei)}ngOnChanges(wt){if(this._checkForErrors(),!this._registered||"name"in wt){if(this._registered&&(this._checkName(),this.formDirective)){const rn=wt.name.previousValue;this.formDirective.removeControl({name:rn,path:this._getPath(rn)})}this._setUpControl()}"isDisabled"in wt&&this._updateDisabled(wt),fr(wt,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(wt){this.viewModel=wt,this.update.emit(wt)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){et(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(wt){Ra.then(()=>{this.control.setValue(wt,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(wt){const rn=wt.isDisabled.currentValue,Bn=0!==rn&&(0,d.L39)(rn);Ra.then(()=>{Bn&&!this.control.disabled?this.control.disable():!Bn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(wt){return this._parent?Lt(wt,this._parent):[wt]}static#e=this.\u0275fac=function(rn){return new(rn||Ot)(d.rXU(De,9),d.rXU(Z,10),d.rXU(ie,10),d.rXU(F,10),d.rXU(d.gRc,8),d.rXU(Jn,8))};static#t=this.\u0275dir=d.FsC({type:Ot,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d.Jv_([da]),d.Vt3,d.OA$]})}return Ot})(),Ga=(()=>{class Ot{static#e=this.\u0275fac=function(rn){return new(rn||Ot)};static#t=this.\u0275dir=d.FsC({type:Ot,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return Ot})();const Oa=new d.nKC(""),Ta={provide:pe,useExisting:(0,d.Rfq)(()=>Nl)};let Nl=(()=>{class Ot extends pe{set isDisabled(wt){}static#e=this._ngModelWarningSentOnce=!1;constructor(wt,rn,Bn,ei,Vi){super(),this._ngModelWarningConfig=ei,this.callSetDisabledState=Vi,this.update=new d.bkB,this._ngModelWarningSent=!1,this._setValidators(wt),this._setAsyncValidators(rn),this.valueAccessor=zr(0,Bn)}ngOnChanges(wt){if(this._isControlChanged(wt)){const rn=wt.form.previousValue;rn&&Te(rn,this,!1),et(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}fr(wt,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Te(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(wt){this.viewModel=wt,this.update.emit(wt)}_isControlChanged(wt){return wt.hasOwnProperty("form")}static#t=this.\u0275fac=function(rn){return new(rn||Ot)(d.rXU(Z,10),d.rXU(ie,10),d.rXU(F,10),d.rXU(Oa,8),d.rXU(Jn,8))};static#n=this.\u0275dir=d.FsC({type:Ot,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[d.Jv_([Ta]),d.Vt3,d.OA$]})}return Ot})();const dl={provide:De,useExisting:(0,d.Rfq)(()=>pc)};let pc=(()=>{class Ot extends De{get submitted(){return(0,d.O8t)(this._submittedReactive)}set submitted(wt){this._submittedReactive.set(wt)}constructor(wt,rn,Bn){super(),this.callSetDisabledState=Bn,this._submitted=(0,d.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,d.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.bkB,this._setValidators(wt),this._setAsyncValidators(rn)}ngOnChanges(wt){this._checkFormPresent(),wt.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(In(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(wt){const rn=this.form.get(wt.path);return et(rn,wt,this.callSetDisabledState),rn.updateValueAndValidity({emitEvent:!1}),this.directives.push(wt),rn}getControl(wt){return this.form.get(wt.path)}removeControl(wt){Te(wt.control||null,wt,!1),function Kr(Ot,jt){const wt=Ot.indexOf(jt);wt>-1&&Ot.splice(wt,1)}(this.directives,wt)}addFormGroup(wt){this._setUpFormContainer(wt)}removeFormGroup(wt){this._cleanUpFormContainer(wt)}getFormGroup(wt){return this.form.get(wt.path)}addFormArray(wt){this._setUpFormContainer(wt)}removeFormArray(wt){this._cleanUpFormContainer(wt)}getFormArray(wt){return this.form.get(wt.path)}updateModel(wt,rn){this.form.get(wt.path).setValue(rn)}onSubmit(wt){return this._submittedReactive.set(!0),Sr(this.form,this.directives),this.ngSubmit.emit(wt),this.form._events.next(new Ht(this.control)),"dialog"===wt?.target?.method}onReset(){this.resetForm()}resetForm(wt=void 0){this.form.reset(wt),this._submittedReactive.set(!1),this.form._events.next(new qt(this.form))}_updateDomValue(){this.directives.forEach(wt=>{const rn=wt.control,Bn=this.form.get(wt.path);rn!==Bn&&(Te(rn||null,wt),(Ot=>Ot instanceof Fi)(Bn)&&(et(Bn,wt,this.callSetDisabledState),wt.control=Bn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(wt){const rn=this.form.get(wt.path);Br(rn,wt),rn.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(wt){if(this.form){const rn=this.form.get(wt.path);rn&&function jr(Ot,jt){return In(Ot,jt)}(rn,wt)&&rn.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){nn(this.form,this),this._oldForm&&In(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(rn){return new(rn||Ot)(d.rXU(Z,10),d.rXU(ie,10),d.rXU(Jn,8))};static#t=this.\u0275dir=d.FsC({type:Ot,selectors:[["","formGroup",""]],hostBindings:function(rn,Bn){1&rn&&d.bIt("submit",function(Vi){return Bn.onSubmit(Vi)})("reset",function(){return Bn.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.Jv_([dl]),d.Vt3,d.OA$]})}return Ot})();const Fs={provide:De,useExisting:(0,d.Rfq)(()=>Ec)};let Ec=(()=>{class Ot extends Aa{constructor(wt,rn,Bn){super(),this.name=null,this._parent=wt,this._setValidators(rn),this._setAsyncValidators(Bn)}_checkParentType(){ul(this._parent)}static#e=this.\u0275fac=function(rn){return new(rn||Ot)(d.rXU(De,13),d.rXU(Z,10),d.rXU(ie,10))};static#t=this.\u0275dir=d.FsC({type:Ot,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[d.Jv_([Fs]),d.Vt3]})}return Ot})();const Js={provide:De,useExisting:(0,d.Rfq)(()=>ga)};let ga=(()=>{class Ot extends De{constructor(wt,rn,Bn){super(),this.name=null,this._parent=wt,this._setValidators(rn),this._setAsyncValidators(Bn)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Lt(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){ul(this._parent)}static#e=this.\u0275fac=function(rn){return new(rn||Ot)(d.rXU(De,13),d.rXU(Z,10),d.rXU(ie,10))};static#t=this.\u0275dir=d.FsC({type:Ot,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[d.Jv_([Js]),d.Vt3]})}return Ot})();function ul(Ot){return!(Ot instanceof Ec||Ot instanceof pc||Ot instanceof ga)}const mc={provide:pe,useExisting:(0,d.Rfq)(()=>lo)};let lo=(()=>{class Ot extends pe{set isDisabled(wt){}static#e=this._ngModelWarningSentOnce=!1;constructor(wt,rn,Bn,ei,Vi){super(),this._ngModelWarningConfig=Vi,this._added=!1,this.name=null,this.update=new d.bkB,this._ngModelWarningSent=!1,this._parent=wt,this._setValidators(rn),this._setAsyncValidators(Bn),this.valueAccessor=zr(0,ei)}ngOnChanges(wt){this._added||this._setUpControl(),fr(wt,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(wt){this.viewModel=wt,this.update.emit(wt)}get path(){return Lt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(rn){return new(rn||Ot)(d.rXU(De,13),d.rXU(Z,10),d.rXU(ie,10),d.rXU(F,10),d.rXU(Oa,8))};static#n=this.\u0275dir=d.FsC({type:Ot,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[d.Jv_([mc]),d.Vt3,d.OA$]})}return Ot})();let Bs=(()=>{class Ot{constructor(){this._validator=y}ngOnChanges(wt){if(this.inputName in wt){const rn=this.normalizeInput(wt[this.inputName].currentValue);this._enabled=this.enabled(rn),this._validator=this._enabled?this.createValidator(rn):y,this._onChange&&this._onChange()}}validate(wt){return this._validator(wt)}registerOnValidatorChange(wt){this._onChange=wt}enabled(wt){return null!=wt}static#e=this.\u0275fac=function(rn){return new(rn||Ot)};static#t=this.\u0275dir=d.FsC({type:Ot,features:[d.OA$]})}return Ot})();const eo={provide:Z,useExisting:(0,d.Rfq)(()=>Xn),multi:!0},sn={provide:Z,useExisting:(0,d.Rfq)(()=>Rt),multi:!0};let Xn=(()=>{class Ot extends Bs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.L39,this.createValidator=wt=>be}enabled(wt){return wt}static#e=this.\u0275fac=(()=>{let wt;return function(Bn){return(wt||(wt=d.xGo(Ot)))(Bn||Ot)}})();static#t=this.\u0275dir=d.FsC({type:Ot,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(rn,Bn){2&rn&&d.BMQ("required",Bn._enabled?"":null)},inputs:{required:"required"},features:[d.Jv_([eo]),d.Vt3]})}return Ot})(),Rt=(()=>{class Ot extends Xn{constructor(){super(...arguments),this.createValidator=wt=>xe}static#e=this.\u0275fac=(()=>{let wt;return function(Bn){return(wt||(wt=d.xGo(Ot)))(Bn||Ot)}})();static#t=this.\u0275dir=d.FsC({type:Ot,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(rn,Bn){2&rn&&d.BMQ("required",Bn._enabled?"":null)},features:[d.Jv_([sn]),d.Vt3]})}return Ot})();const Wr={provide:Z,useExisting:(0,d.Rfq)(()=>to),multi:!0};let to=(()=>{class Ot extends Bs{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=wt=>function Pr(Ot){return"number"==typeof Ot?Ot:parseInt(Ot,10)}(wt),this.createValidator=wt=>a(wt)}static#e=this.\u0275fac=(()=>{let wt;return function(Bn){return(wt||(wt=d.xGo(Ot)))(Bn||Ot)}})();static#t=this.\u0275dir=d.FsC({type:Ot,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(rn,Bn){2&rn&&d.BMQ("maxlength",Bn._enabled?Bn.maxlength:null)},inputs:{maxlength:"maxlength"},features:[d.Jv_([Wr]),d.Vt3]})}return Ot})(),vf=(()=>{class Ot{static#e=this.\u0275fac=function(rn){return new(rn||Ot)};static#t=this.\u0275mod=d.$C({type:Ot});static#n=this.\u0275inj=d.G2t({})}return Ot})();class Bd extends Wt{constructor(jt,wt,rn){super(hn(wt),vt(rn,wt)),this.controls=jt,this._initObservables(),this._setUpdateStrategy(wt),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(jt){return this.controls[this._adjustIndex(jt)]}push(jt,wt={}){this.controls.push(jt),this._registerControl(jt),this.updateValueAndValidity({emitEvent:wt.emitEvent}),this._onCollectionChange()}insert(jt,wt,rn={}){this.controls.splice(jt,0,wt),this._registerControl(wt),this.updateValueAndValidity({emitEvent:rn.emitEvent})}removeAt(jt,wt={}){let rn=this._adjustIndex(jt);rn<0&&(rn=0),this.controls[rn]&&this.controls[rn]._registerOnCollectionChange(()=>{}),this.controls.splice(rn,1),this.updateValueAndValidity({emitEvent:wt.emitEvent})}setControl(jt,wt,rn={}){let Bn=this._adjustIndex(jt);Bn<0&&(Bn=0),this.controls[Bn]&&this.controls[Bn]._registerOnCollectionChange(()=>{}),this.controls.splice(Bn,1),wt&&(this.controls.splice(Bn,0,wt),this._registerControl(wt)),this.updateValueAndValidity({emitEvent:rn.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(jt,wt={}){nt(this,0,jt),jt.forEach((rn,Bn)=>{Ye(this,!1,Bn),this.at(Bn).setValue(rn,{onlySelf:!0,emitEvent:wt.emitEvent})}),this.updateValueAndValidity(wt)}patchValue(jt,wt={}){null!=jt&&(jt.forEach((rn,Bn)=>{this.at(Bn)&&this.at(Bn).patchValue(rn,{onlySelf:!0,emitEvent:wt.emitEvent})}),this.updateValueAndValidity(wt))}reset(jt=[],wt={}){this._forEachChild((rn,Bn)=>{rn.reset(jt[Bn],{onlySelf:!0,emitEvent:wt.emitEvent})}),this._updatePristine(wt,this),this._updateTouched(wt,this),this.updateValueAndValidity(wt)}getRawValue(){return this.controls.map(jt=>jt.getRawValue())}clear(jt={}){this.controls.length<1||(this._forEachChild(wt=>wt._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:jt.emitEvent}))}_adjustIndex(jt){return jt<0?jt+this.length:jt}_syncPendingControls(){let jt=this.controls.reduce((wt,rn)=>!!rn._syncPendingControls()||wt,!1);return jt&&this.updateValueAndValidity({onlySelf:!0}),jt}_forEachChild(jt){this.controls.forEach((wt,rn)=>{jt(wt,rn)})}_updateValue(){this.value=this.controls.filter(jt=>jt.enabled||this.disabled).map(jt=>jt.value)}_anyControls(jt){return this.controls.some(wt=>wt.enabled&&jt(wt))}_setUpControls(){this._forEachChild(jt=>this._registerControl(jt))}_allControlsDisabled(){for(const jt of this.controls)if(jt.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(jt){jt.setParent(this),jt._registerOnCollectionChange(this._onCollectionChange)}_find(jt){return this.at(jt)??null}}function Ul(Ot){return!!Ot&&(void 0!==Ot.asyncValidators||void 0!==Ot.validators||void 0!==Ot.updateOn)}let Xa=(()=>{class Ot{constructor(){this.useNonNullable=!1}get nonNullable(){const wt=new Ot;return wt.useNonNullable=!0,wt}group(wt,rn=null){const Bn=this._reduceControls(wt);let ei={};return Ul(rn)?ei=rn:null!==rn&&(ei.validators=rn.validator,ei.asyncValidators=rn.asyncValidator),new Nt(Bn,ei)}record(wt,rn=null){const Bn=this._reduceControls(wt);return new kn(Bn,rn)}control(wt,rn,Bn){let ei={};return this.useNonNullable?(Ul(rn)?ei=rn:(ei.validators=rn,ei.asyncValidators=Bn),new Fi(wt,{...ei,nonNullable:!0})):new Fi(wt,rn,Bn)}array(wt,rn,Bn){const ei=wt.map(Vi=>this._createControl(Vi));return new Bd(ei,rn,Bn)}_reduceControls(wt){const rn={};return Object.keys(wt).forEach(Bn=>{rn[Bn]=this._createControl(wt[Bn])}),rn}_createControl(wt){return wt instanceof Fi||wt instanceof Wt?wt:Array.isArray(wt)?this.control(wt[0],wt.length>1?wt[1]:null,wt.length>2?wt[2]:null):this.control(wt)}static#e=this.\u0275fac=function(rn){return new(rn||Ot)};static#t=this.\u0275prov=d.jDH({token:Ot,factory:Ot.\u0275fac,providedIn:"root"})}return Ot})(),Za=(()=>{class Ot{static withConfig(wt){return{ngModule:Ot,providers:[{provide:Jn,useValue:wt.callSetDisabledState??Fn}]}}static#e=this.\u0275fac=function(rn){return new(rn||Ot)};static#t=this.\u0275mod=d.$C({type:Ot});static#n=this.\u0275inj=d.G2t({imports:[vf]})}return Ot})(),Fl=(()=>{class Ot{static withConfig(wt){return{ngModule:Ot,providers:[{provide:Oa,useValue:wt.warnOnNgModelWithFormControl??"always"},{provide:Jn,useValue:wt.callSetDisabledState??Fn}]}}static#e=this.\u0275fac=function(rn){return new(rn||Ot)};static#t=this.\u0275mod=d.$C({type:Ot});static#n=this.\u0275inj=d.G2t({imports:[vf]})}return Ot})()},94073:()=>{"use strict";const je=":";Error;const ce=function(Ve,...Se){if(ce.translate){const Ue=ce.translate(Ve,Se);Ve=Ue[0],Se=Ue[1]}let we=Oe(Ve[0],Ve.raw[0]);for(let Ue=1;Ue<Ve.length;Ue++)we+=Se[Ue-1]+Oe(Ve[Ue],Ve.raw[Ue]);return we},_e=":";function Oe(Ve,Se){return Se.charAt(0)===_e?Ve.substring(function y(Ve,Se){for(let we=1,Ue=1;we<Ve.length;we++,Ue++)if("\\"===Se[Ue])Ue++;else if(Ve[we]===je)return we;throw new Error(`Unterminated $localize metadata block in "${Se}".`)}(Ve,Se)+1):Ve}globalThis.$localize=ce},88834:(je,H,w)=>{"use strict";w.d(H,{$z:()=>de,Hl:()=>T,It:()=>le,iY:()=>g});var d=w(36860),E=w(93953),k=w(18617),z=w(86600);const x=["mat-button",""],O=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],A=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],F=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",j=["mat-icon-button",""],G=["*"],te=new E.nKC("MAT_BUTTON_CONFIG"),Z=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let ie=(()=>{class B{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(s){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,s)}get disableRipple(){return this._disableRipple}set disableRipple(s){this._disableRipple=s,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(s){this._disabled=s,this._updateRippleDisabled()}constructor(s,v,W,K){this._elementRef=s,this._platform=v,this._ngZone=W,this._animationMode=K,this._focusMonitor=(0,E.WQX)(k.FN),this._rippleLoader=(0,E.WQX)(z.Ej),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const ee=(0,E.WQX)(te,{optional:!0}),ce=s.nativeElement,_e=ce.classList;this.disabledInteractive=ee?.disabledInteractive??!1,this.color=ee?.color??null,this._rippleLoader?.configureRipple(ce,{className:"mat-mdc-button-ripple"});for(const{attribute:Oe,mdcClasses:Ve}of Z)ce.hasAttribute(Oe)&&_e.add(...Ve)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(s="program",v){s?this._focusMonitor.focusVia(this._elementRef.nativeElement,s,v):this._elementRef.nativeElement.focus(v)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(v){E.QTQ()};static#t=this.\u0275dir=E.FsC({type:B,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",E.L39],disabled:[2,"disabled","disabled",E.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",E.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",E.L39]},features:[E.GFd]})}return B})(),se=(()=>{class B extends ie{constructor(s,v,W,K){super(s,v,W,K),this._haltDisabledEvents=ee=>{this.disabled&&(ee.preventDefault(),ee.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return null==this.ariaDisabled?this.disabled:this.ariaDisabled}static#e=this.\u0275fac=function(v){E.QTQ()};static#t=this.\u0275dir=E.FsC({type:B,inputs:{tabIndex:[2,"tabIndex","tabIndex",s=>null==s?void 0:(0,E.Udg)(s)]},features:[E.GFd,E.Vt3]})}return B})(),de=(()=>{class B extends ie{constructor(s,v,W,K){super(s,v,W,K)}static#e=this.\u0275fac=function(v){return new(v||B)(E.rXU(E.aKT),E.rXU(d.OD),E.rXU(E.SKi),E.rXU(E.bc$,8))};static#t=this.\u0275cmp=E.VBU({type:B,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(v,W){2&v&&(E.BMQ("disabled",W._getDisabledAttribute())("aria-disabled",W._getAriaDisabled()),E.HbH(W.color?"mat-"+W.color:""),E.AVh("mat-mdc-button-disabled",W.disabled)("mat-mdc-button-disabled-interactive",W.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===W._animationMode)("mat-unthemed",!W.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[E.Vt3,E.aNF],attrs:x,ngContentSelectors:A,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,W){1&v&&(E.NAR(O),E.nrm(0,"span",0),E.SdG(1),E.j41(2,"span",1),E.SdG(3,1),E.k0s(),E.SdG(4,2),E.nrm(5,"span",2)(6,"span",3)),2&v&&E.AVh("mdc-button__ripple",!W._isFab)("mdc-fab__ripple",W._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return B})(),le=(()=>{class B extends se{constructor(s,v,W,K){super(s,v,W,K)}static#e=this.\u0275fac=function(v){return new(v||B)(E.rXU(E.aKT),E.rXU(d.OD),E.rXU(E.SKi),E.rXU(E.bc$,8))};static#t=this.\u0275cmp=E.VBU({type:B,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(v,W){2&v&&(E.BMQ("disabled",W._getDisabledAttribute())("tabindex",W.disabled&&!W.disabledInteractive?-1:W.tabIndex)("aria-disabled",W._getDisabledAttribute()),E.HbH(W.color?"mat-"+W.color:""),E.AVh("mat-mdc-button-disabled",W.disabled)("mat-mdc-button-disabled-interactive",W.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===W._animationMode)("mat-unthemed",!W.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[E.Vt3,E.aNF],attrs:x,ngContentSelectors:A,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,W){1&v&&(E.NAR(O),E.nrm(0,"span",0),E.SdG(1),E.j41(2,"span",1),E.SdG(3,1),E.k0s(),E.SdG(4,2),E.nrm(5,"span",2)(6,"span",3)),2&v&&E.AVh("mdc-button__ripple",!W._isFab)("mdc-fab__ripple",W._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',F],encapsulation:2,changeDetection:0})}return B})(),g=(()=>{class B extends ie{constructor(s,v,W,K){super(s,v,W,K),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(v){return new(v||B)(E.rXU(E.aKT),E.rXU(d.OD),E.rXU(E.SKi),E.rXU(E.bc$,8))};static#t=this.\u0275cmp=E.VBU({type:B,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(v,W){2&v&&(E.BMQ("disabled",W._getDisabledAttribute())("aria-disabled",W._getAriaDisabled()),E.HbH(W.color?"mat-"+W.color:""),E.AVh("mat-mdc-button-disabled",W.disabled)("mat-mdc-button-disabled-interactive",W.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===W._animationMode)("mat-unthemed",!W.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[E.Vt3,E.aNF],attrs:j,ngContentSelectors:G,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,W){1&v&&(E.NAR(),E.nrm(0,"span",0),E.SdG(1),E.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',F],encapsulation:2,changeDetection:0})}return B})(),T=(()=>{class B{static#e=this.\u0275fac=function(v){return new(v||B)};static#t=this.\u0275mod=E.$C({type:B});static#n=this.\u0275inj=E.G2t({imports:[z.yE,z.pZ,z.yE]})}return B})()},25596:(je,H,w)=>{"use strict";w.d(H,{Hu:()=>xe,Lc:()=>G,MM:()=>te,QG:()=>le,RN:()=>L,WQ:()=>J,YY:()=>re,dh:()=>D,kF:()=>Z,m2:()=>j});var d=w(93953),E=w(60177),k=w(86600);const z=["*"],A=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],P=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],F=new d.nKC("MAT_CARD_CONFIG");let L=(()=>{class ke{constructor(a){this.appearance=a?.appearance||"raised"}static#e=this.\u0275fac=function(f){return new(f||ke)(d.rXU(F,8))};static#t=this.\u0275cmp=d.VBU({type:ke,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(f,y){2&f&&d.AVh("mat-mdc-card-outlined","outlined"===y.appearance)("mdc-card--outlined","outlined"===y.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[d.aNF],ngContentSelectors:z,decls:1,vars:0,template:function(f,y){1&f&&(d.NAR(),d.SdG(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color);border-color:var(--mdc-elevated-card-container-color);border-radius:var(--mdc-elevated-card-container-shape);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color);border-radius:var(--mdc-outlined-card-container-shape);border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return ke})(),D=(()=>{class ke{static#e=this.\u0275fac=function(f){return new(f||ke)};static#t=this.\u0275dir=d.FsC({type:ke,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}return ke})(),j=(()=>{class ke{static#e=this.\u0275fac=function(f){return new(f||ke)};static#t=this.\u0275dir=d.FsC({type:ke,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}return ke})(),G=(()=>{class ke{static#e=this.\u0275fac=function(f){return new(f||ke)};static#t=this.\u0275dir=d.FsC({type:ke,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0})}return ke})(),re=(()=>{class ke{constructor(){this.align="start"}static#e=this.\u0275fac=function(f){return new(f||ke)};static#t=this.\u0275dir=d.FsC({type:ke,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(f,y){2&f&&d.AVh("mat-mdc-card-actions-align-end","end"===y.align)},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0})}return ke})(),te=(()=>{class ke{static#e=this.\u0275fac=function(f){return new(f||ke)};static#t=this.\u0275cmp=d.VBU({type:ke,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[d.aNF],ngContentSelectors:P,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(f,y){1&f&&(d.NAR(A),d.SdG(0),d.j41(1,"div",0),d.SdG(2,1),d.k0s(),d.SdG(3,2))},encapsulation:2,changeDetection:0})}return ke})(),J=(()=>{class ke{static#e=this.\u0275fac=function(f){return new(f||ke)};static#t=this.\u0275dir=d.FsC({type:ke,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"],standalone:!0})}return ke})(),Z=(()=>{class ke{static#e=this.\u0275fac=function(f){return new(f||ke)};static#t=this.\u0275dir=d.FsC({type:ke,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0})}return ke})(),le=(()=>{class ke{static#e=this.\u0275fac=function(f){return new(f||ke)};static#t=this.\u0275dir=d.FsC({type:ke,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-mdc-card-avatar"],standalone:!0})}return ke})(),xe=(()=>{class ke{static#e=this.\u0275fac=function(f){return new(f||ke)};static#t=this.\u0275mod=d.$C({type:ke});static#n=this.\u0275inj=d.G2t({imports:[k.yE,E.MD,k.yE]})}return ke})()},86600:(je,H,w)=>{"use strict";w.d(H,{r5:()=>se,ed:()=>de,es:()=>ye,QC:()=>Bt,is:()=>Ae,$E:()=>_,yE:()=>xe,Np:()=>Q,wT:()=>mn,Sy:()=>An,wg:()=>ne,O5:()=>ge,r6:()=>m,Ej:()=>hn,pZ:()=>U,ug:()=>lt,X0:()=>T,tO:()=>hr,jb:()=>dn,TL:()=>ar});var d=w(93953),E=w(18617),k=w(28203),x=w(60177),O=w(36860),A=w(14085),P=w(21413),F=w(67336);const X=["text"],j=[[["mat-icon"]],"*"],G=["mat-icon","*"];function re(vt,St){if(1&vt&&d.nrm(0,"mat-pseudo-checkbox",1),2&vt){const Mt=d.XpG();d.Y8G("disabled",Mt.disabled)("state",Mt.selected?"checked":"unchecked")}}function te(vt,St){if(1&vt&&d.nrm(0,"mat-pseudo-checkbox",3),2&vt){const Mt=d.XpG();d.Y8G("disabled",Mt.disabled)}}function J(vt,St){if(1&vt&&(d.j41(0,"span",4),d.EFF(1),d.k0s()),2&vt){const Mt=d.XpG();d.R7$(),d.SpI("(",Mt.group.label,")")}}const Z=["mat-internal-form-field",""],ie=["*"];let se=(()=>{class vt{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#f=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return vt})(),de=(()=>{class vt{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return vt})();const be=new d.nKC("mat-sanity-checks",{providedIn:"root",factory:function le(){return!0}});let xe=(()=>{class vt{constructor(Mt,Ye,nt){this._sanityChecks=Ye,this._document=nt,this._hasDoneGlobalChecks=!1,Mt._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Mt){return!(0,O.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Mt])}static#e=this.\u0275fac=function(Ye){return new(Ye||vt)(d.KVO(E.Q_),d.KVO(be,8),d.KVO(x.qQ))};static#t=this.\u0275mod=d.$C({type:vt});static#n=this.\u0275inj=d.G2t({imports:[k.jI,k.jI]})}return vt})();class T{constructor(St,Mt,Ye,nt,Wt){this._defaultMatcher=St,this.ngControl=Mt,this._parentFormGroup=Ye,this._parentForm=nt,this._stateChanges=Wt,this.errorState=!1}updateErrorState(){const St=this.errorState,Mt=this._parentFormGroup||this._parentForm,Ye=this.matcher||this._defaultMatcher,nt=this.ngControl?this.ngControl.control:null,Wt=Ye?.isErrorState(nt,Mt)??!1;Wt!==St&&(this.errorState=Wt,this._stateChanges.next())}}let ye=(()=>{class vt{isErrorState(Mt,Ye){return!!(Mt&&Mt.invalid&&(Mt.touched||Ye&&Ye.submitted))}static#e=this.\u0275fac=function(Ye){return new(Ye||vt)};static#t=this.\u0275prov=d.jDH({token:vt,factory:vt.\u0275fac,providedIn:"root"})}return vt})(),Q=(()=>{class vt{static#e=this.\u0275fac=function(Ye){return new(Ye||vt)};static#t=this.\u0275mod=d.$C({type:vt});static#n=this.\u0275inj=d.G2t({imports:[xe,xe]})}return vt})();var oe=function(vt){return vt[vt.FADING_IN=0]="FADING_IN",vt[vt.VISIBLE=1]="VISIBLE",vt[vt.FADING_OUT=2]="FADING_OUT",vt[vt.HIDDEN=3]="HIDDEN",vt}(oe||{});class fe{constructor(St,Mt,Ye,nt=!1){this._renderer=St,this.element=Mt,this.config=Ye,this._animationForciblyDisabledThroughCss=nt,this.state=oe.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Ee=(0,O.BQ)({passive:!0,capture:!0});class Re{constructor(){this._events=new Map,this._delegateEventHandler=St=>{const Mt=(0,O.Fb)(St);Mt&&this._events.get(St.type)?.forEach((Ye,nt)=>{(nt===Mt||nt.contains(Mt))&&Ye.forEach(Wt=>Wt.handleEvent(St))})}}addHandler(St,Mt,Ye,nt){const Wt=this._events.get(Mt);if(Wt){const Nt=Wt.get(Ye);Nt?Nt.add(nt):Wt.set(Ye,new Set([nt]))}else this._events.set(Mt,new Map([[Ye,new Set([nt])]])),St.runOutsideAngular(()=>{document.addEventListener(Mt,this._delegateEventHandler,Ee)})}removeHandler(St,Mt,Ye){const nt=this._events.get(St);if(!nt)return;const Wt=nt.get(Mt);Wt&&(Wt.delete(Ye),0===Wt.size&&nt.delete(Mt),0===nt.size&&(this._events.delete(St),document.removeEventListener(St,this._delegateEventHandler,Ee)))}}const $e={enterDuration:225,exitDuration:150},_t=(0,O.BQ)({passive:!0,capture:!0}),We=["mousedown","touchstart"],Le=["mouseup","mouseleave","touchend","touchcancel"];class lt{static#e=this._eventManager=new Re;constructor(St,Mt,Ye,nt){this._target=St,this._ngZone=Mt,this._platform=nt,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,nt.isBrowser&&(this._containerElement=(0,A.i8)(Ye))}fadeInRipple(St,Mt,Ye={}){const nt=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Wt={...$e,...Ye.animation};Ye.centered&&(St=nt.left+nt.width/2,Mt=nt.top+nt.height/2);const Nt=Ye.radius||function N(vt,St,Mt){const Ye=Math.max(Math.abs(vt-Mt.left),Math.abs(vt-Mt.right)),nt=Math.max(Math.abs(St-Mt.top),Math.abs(St-Mt.bottom));return Math.sqrt(Ye*Ye+nt*nt)}(St,Mt,nt),un=St-nt.left,Wn=Mt-nt.top,En=Wt.enterDuration,kn=document.createElement("div");kn.classList.add("mat-ripple-element"),kn.style.left=un-Nt+"px",kn.style.top=Wn-Nt+"px",kn.style.height=2*Nt+"px",kn.style.width=2*Nt+"px",null!=Ye.color&&(kn.style.backgroundColor=Ye.color),kn.style.transitionDuration=`${En}ms`,this._containerElement.appendChild(kn);const Or=window.getComputedStyle(kn),Fn=Or.transitionDuration,Lt="none"===Or.transitionProperty||"0s"===Fn||"0s, 0s"===Fn||0===nt.width&&0===nt.height,et=new fe(this,kn,Ye,Lt);kn.style.transform="scale3d(1, 1, 1)",et.state=oe.FADING_IN,Ye.persistent||(this._mostRecentTransientRipple=et);let Te=null;return!Lt&&(En||Wt.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ne=()=>{Te&&(Te.fallbackTimer=null),clearTimeout(nn),this._finishRippleTransition(et)},xt=()=>this._destroyRipple(et),nn=setTimeout(xt,En+100);kn.addEventListener("transitionend",Ne),kn.addEventListener("transitioncancel",xt),Te={onTransitionEnd:Ne,onTransitionCancel:xt,fallbackTimer:nn}}),this._activeRipples.set(et,Te),(Lt||!En)&&this._finishRippleTransition(et),et}fadeOutRipple(St){if(St.state===oe.FADING_OUT||St.state===oe.HIDDEN)return;const Mt=St.element,Ye={...$e,...St.config.animation};Mt.style.transitionDuration=`${Ye.exitDuration}ms`,Mt.style.opacity="0",St.state=oe.FADING_OUT,(St._animationForciblyDisabledThroughCss||!Ye.exitDuration)&&this._finishRippleTransition(St)}fadeOutAll(){this._getActiveRipples().forEach(St=>St.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(St=>{St.config.persistent||St.fadeOut()})}setupTriggerEvents(St){const Mt=(0,A.i8)(St);!this._platform.isBrowser||!Mt||Mt===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Mt,We.forEach(Ye=>{lt._eventManager.addHandler(this._ngZone,Ye,Mt,this)}))}handleEvent(St){"mousedown"===St.type?this._onMousedown(St):"touchstart"===St.type?this._onTouchStart(St):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Le.forEach(Mt=>{this._triggerElement.addEventListener(Mt,this,_t)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(St){St.state===oe.FADING_IN?this._startFadeOutTransition(St):St.state===oe.FADING_OUT&&this._destroyRipple(St)}_startFadeOutTransition(St){const Mt=St===this._mostRecentTransientRipple,{persistent:Ye}=St.config;St.state=oe.VISIBLE,!Ye&&(!Mt||!this._isPointerDown)&&St.fadeOut()}_destroyRipple(St){const Mt=this._activeRipples.get(St)??null;this._activeRipples.delete(St),this._activeRipples.size||(this._containerRect=null),St===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),St.state=oe.HIDDEN,null!==Mt&&(St.element.removeEventListener("transitionend",Mt.onTransitionEnd),St.element.removeEventListener("transitioncancel",Mt.onTransitionCancel),null!==Mt.fallbackTimer&&clearTimeout(Mt.fallbackTimer)),St.element.remove()}_onMousedown(St){const Mt=(0,E._G)(St),Ye=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Mt&&!Ye&&(this._isPointerDown=!0,this.fadeInRipple(St.clientX,St.clientY,this._target.rippleConfig))}_onTouchStart(St){if(!this._target.rippleDisabled&&!(0,E.w6)(St)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Mt=St.changedTouches;if(Mt)for(let Ye=0;Ye<Mt.length;Ye++)this.fadeInRipple(Mt[Ye].clientX,Mt[Ye].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(St=>{!St.config.persistent&&(St.state===oe.VISIBLE||St.config.terminateOnPointerUp&&St.state===oe.FADING_IN)&&St.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const St=this._triggerElement;St&&(We.forEach(Mt=>lt._eventManager.removeHandler(Mt,St,this)),this._pointerUpEventsRegistered&&(Le.forEach(Mt=>St.removeEventListener(Mt,this,_t)),this._pointerUpEventsRegistered=!1))}}const _=new d.nKC("mat-ripple-global-options");let m=(()=>{class vt{get disabled(){return this._disabled}set disabled(Mt){Mt&&this.fadeOutAllNonPersistent(),this._disabled=Mt,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Mt){this._trigger=Mt,this._setupTriggerEventsIfEnabled()}constructor(Mt,Ye,nt,Wt,Nt){this._elementRef=Mt,this._animationMode=Nt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Wt||{},this._rippleRenderer=new lt(this,Ye,Mt,nt)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Mt,Ye=0,nt){return"number"==typeof Mt?this._rippleRenderer.fadeInRipple(Mt,Ye,{...this.rippleConfig,...nt}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Mt})}static#e=this.\u0275fac=function(Ye){return new(Ye||vt)(d.rXU(d.aKT),d.rXU(d.SKi),d.rXU(O.OD),d.rXU(_,8),d.rXU(d.bc$,8))};static#t=this.\u0275dir=d.FsC({type:vt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Ye,nt){2&Ye&&d.AVh("mat-ripple-unbounded",nt.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return vt})(),U=(()=>{class vt{static#e=this.\u0275fac=function(Ye){return new(Ye||vt)};static#t=this.\u0275mod=d.$C({type:vt});static#n=this.\u0275inj=d.G2t({imports:[xe,xe]})}return vt})(),ne=(()=>{class vt{constructor(Mt){this._animationMode=Mt,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(Ye){return new(Ye||vt)(d.rXU(d.bc$,8))};static#t=this.\u0275cmp=d.VBU({type:vt,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(Ye,nt){2&Ye&&d.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===nt.state)("mat-pseudo-checkbox-checked","checked"===nt.state)("mat-pseudo-checkbox-disabled",nt.disabled)("mat-pseudo-checkbox-minimal","minimal"===nt.appearance)("mat-pseudo-checkbox-full","full"===nt.appearance)("_mat-animation-noopable","NoopAnimations"===nt._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[d.aNF],decls:0,vars:0,template:function(Ye,nt){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return vt})(),ge=(()=>{class vt{static#e=this.\u0275fac=function(Ye){return new(Ye||vt)};static#t=this.\u0275mod=d.$C({type:vt});static#n=this.\u0275inj=d.G2t({imports:[xe]})}return vt})();const Ae=new d.nKC("MAT_OPTION_PARENT_COMPONENT"),Bt=new d.nKC("MatOptgroup");let It=0;class Zt{constructor(St,Mt=!1){this.source=St,this.isUserInput=Mt}}let mn=(()=>{class vt{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(Mt){this._disabled=Mt}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(Mt,Ye,nt,Wt){this._element=Mt,this._changeDetectorRef=Ye,this._parent=nt,this.group=Wt,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+It++,this.onSelectionChange=new d.bkB,this._stateChanges=new P.B}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(Mt=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),Mt&&this._emitSelectionChangeEvent())}deselect(Mt=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),Mt&&this._emitSelectionChangeEvent())}focus(Mt,Ye){const nt=this._getHostElement();"function"==typeof nt.focus&&nt.focus(Ye)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(Mt){(Mt.keyCode===F.Fm||Mt.keyCode===F.t6)&&!(0,F.rp)(Mt)&&(this._selectViaInteraction(),Mt.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const Mt=this.viewValue;Mt!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=Mt)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(Mt=!1){this.onSelectionChange.emit(new Zt(this,Mt))}static#e=this.\u0275fac=function(Ye){return new(Ye||vt)(d.rXU(d.aKT),d.rXU(d.gRc),d.rXU(Ae,8),d.rXU(Bt,8))};static#t=this.\u0275cmp=d.VBU({type:vt,selectors:[["mat-option"]],viewQuery:function(Ye,nt){if(1&Ye&&d.GBs(X,7),2&Ye){let Wt;d.mGM(Wt=d.lsd())&&(nt._text=Wt.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(Ye,nt){1&Ye&&d.bIt("click",function(){return nt._selectViaInteraction()})("keydown",function(Nt){return nt._handleKeydown(Nt)}),2&Ye&&(d.Mr5("id",nt.id),d.BMQ("aria-selected",nt.selected)("aria-disabled",nt.disabled.toString()),d.AVh("mdc-list-item--selected",nt.selected)("mat-mdc-option-multiple",nt.multiple)("mat-mdc-option-active",nt.active)("mdc-list-item--disabled",nt.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",d.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[d.GFd,d.aNF],ngContentSelectors:G,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(Ye,nt){1&Ye&&(d.NAR(j),d.DNE(0,re,1,2,"mat-pseudo-checkbox",1),d.SdG(1),d.j41(2,"span",2,0),d.SdG(4,1),d.k0s(),d.DNE(5,te,1,1,"mat-pseudo-checkbox",3)(6,J,2,1,"span",4),d.nrm(7,"div",5)),2&Ye&&(d.vxM(nt.multiple?0:-1),d.R7$(5),d.vxM(nt.multiple||!nt.selected||nt.hideSingleSelectionIndicator?-1:5),d.R7$(),d.vxM(nt.group&&nt.group._inert?6:-1),d.R7$(),d.Y8G("matRippleTrigger",nt._getHostElement())("matRippleDisabled",nt.disabled||nt.disableRipple))},dependencies:[ne,m],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight)}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return vt})();function dn(vt,St,Mt){if(Mt.length){let Ye=St.toArray(),nt=Mt.toArray(),Wt=0;for(let Nt=0;Nt<vt+1;Nt++)Ye[Nt].group&&Ye[Nt].group===nt[Wt]&&Wt++;return Wt}return 0}function ar(vt,St,Mt,Ye){return vt<Mt?vt:vt+St>Mt+Ye?Math.max(0,vt-Ye+St):Mt}let An=(()=>{class vt{static#e=this.\u0275fac=function(Ye){return new(Ye||vt)};static#t=this.\u0275mod=d.$C({type:vt});static#n=this.\u0275inj=d.G2t({imports:[U,xe,ge]})}return vt})();const en={capture:!0},Qt=["focus","mousedown","mouseenter","touchstart"],Et="mat-ripple-loader-uninitialized",ft="mat-ripple-loader-class-name",Ht="mat-ripple-loader-centered",qt="mat-ripple-loader-disabled";let hn=(()=>{class vt{constructor(){this._document=(0,d.WQX)(x.qQ,{optional:!0}),this._animationMode=(0,d.WQX)(d.bc$,{optional:!0}),this._globalRippleOptions=(0,d.WQX)(_,{optional:!0}),this._platform=(0,d.WQX)(O.OD),this._ngZone=(0,d.WQX)(d.SKi),this._hosts=new Map,this._onInteraction=Mt=>{const Ye=(0,O.Fb)(Mt);if(Ye instanceof HTMLElement){const nt=Ye.closest(`[${Et}="${this._globalRippleOptions?.namespace??""}"]`);nt&&this._createRipple(nt)}},this._ngZone.runOutsideAngular(()=>{for(const Mt of Qt)this._document?.addEventListener(Mt,this._onInteraction,en)})}ngOnDestroy(){const Mt=this._hosts.keys();for(const Ye of Mt)this.destroyRipple(Ye);for(const Ye of Qt)this._document?.removeEventListener(Ye,this._onInteraction,en)}configureRipple(Mt,Ye){Mt.setAttribute(Et,this._globalRippleOptions?.namespace??""),(Ye.className||!Mt.hasAttribute(ft))&&Mt.setAttribute(ft,Ye.className||""),Ye.centered&&Mt.setAttribute(Ht,""),Ye.disabled&&Mt.setAttribute(qt,"")}getRipple(Mt){return this._hosts.get(Mt)||this._createRipple(Mt)}setDisabled(Mt,Ye){const nt=this._hosts.get(Mt);nt?nt.disabled=Ye:Ye?Mt.setAttribute(qt,""):Mt.removeAttribute(qt)}_createRipple(Mt){if(!this._document)return;const Ye=this._hosts.get(Mt);if(Ye)return Ye;Mt.querySelector(".mat-ripple")?.remove();const nt=this._document.createElement("span");nt.classList.add("mat-ripple",Mt.getAttribute(ft)),Mt.append(nt);const Wt=new m(new d.aKT(nt),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Wt._isInitialized=!0,Wt.trigger=Mt,Wt.centered=Mt.hasAttribute(Ht),Wt.disabled=Mt.hasAttribute(qt),this.attachRipple(Mt,Wt),Wt}attachRipple(Mt,Ye){Mt.removeAttribute(Et),this._hosts.set(Mt,Ye)}destroyRipple(Mt){const Ye=this._hosts.get(Mt);Ye&&(Ye.ngOnDestroy(),this._hosts.delete(Mt))}static#e=this.\u0275fac=function(Ye){return new(Ye||vt)};static#t=this.\u0275prov=d.jDH({token:vt,factory:vt.\u0275fac,providedIn:"root"})}return vt})(),hr=(()=>{class vt{static#e=this.\u0275fac=function(Ye){return new(Ye||vt)};static#t=this.\u0275cmp=d.VBU({type:vt,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(Ye,nt){2&Ye&&d.AVh("mdc-form-field--align-end","before"===nt.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[d.aNF],attrs:Z,ngContentSelectors:ie,decls:1,vars:0,template:function(Ye,nt){1&Ye&&(d.NAR(),d.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return vt})()},75351:(je,H,w)=>{"use strict";w.d(H,{Vh:()=>Ue,bZ:()=>oe,E7:()=>_t,tx:()=>Ee,Yi:()=>Fe,hM:()=>lt,CP:()=>Se,BI:()=>$e});var d=w(66969),E=w(60177),k=w(93953),z=w(18617),x=w(36860),O=w(76939),A=w(67336),P=w(21413),F=w(59030),L=w(7673),D=w(28203),X=w(99172);function j(m,U){}class G{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let te=(()=>{class m extends O.lb{constructor(ne,ge,Ae,tt,Bt,gt,It,Zt){super(),this._elementRef=ne,this._focusTrapFactory=ge,this._config=tt,this._interactivityChecker=Bt,this._ngZone=gt,this._overlayRef=It,this._focusMonitor=Zt,this._platform=(0,k.WQX)(x.OD),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,k.WQX)(k.gRc),this._injector=(0,k.WQX)(k.zZn),this._isDestroyed=!1,this.attachDomPortal=mn=>{this._portalOutlet.hasAttached();const dn=this._portalOutlet.attachDomPortal(mn);return this._contentAttached(),dn},this._document=Ae,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(ne){this._ariaLabelledByQueue.push(ne),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(ne){const ge=this._ariaLabelledByQueue.indexOf(ne);ge>-1&&(this._ariaLabelledByQueue.splice(ge,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(ne){this._portalOutlet.hasAttached();const ge=this._portalOutlet.attachComponentPortal(ne);return this._contentAttached(),ge}attachTemplatePortal(ne){this._portalOutlet.hasAttached();const ge=this._portalOutlet.attachTemplatePortal(ne);return this._contentAttached(),ge}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(ne,ge){this._interactivityChecker.isFocusable(ne)||(ne.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Ae=()=>{ne.removeEventListener("blur",Ae),ne.removeEventListener("mousedown",Ae),ne.removeAttribute("tabindex")};ne.addEventListener("blur",Ae),ne.addEventListener("mousedown",Ae)})),ne.focus(ge)}_focusByCssSelector(ne,ge){let Ae=this._elementRef.nativeElement.querySelector(ne);Ae&&this._forceFocus(Ae,ge)}_trapFocus(){this._isDestroyed||(0,k.mal)(()=>{const ne=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||ne.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const ne=this._config.restoreFocus;let ge=null;if("string"==typeof ne?ge=this._document.querySelector(ne):"boolean"==typeof ne?ge=ne?this._elementFocusedBeforeDialogWasOpened:null:ne&&(ge=ne),this._config.restoreFocus&&ge&&"function"==typeof ge.focus){const Ae=(0,x.vc)(),tt=this._elementRef.nativeElement;(!Ae||Ae===this._document.body||Ae===tt||tt.contains(Ae))&&(this._focusMonitor?(this._focusMonitor.focusVia(ge,this._closeInteractionType),this._closeInteractionType=null):ge.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const ne=this._elementRef.nativeElement,ge=(0,x.vc)();return ne===ge||ne.contains(ge)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,x.vc)()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(ge){return new(ge||m)(k.rXU(k.aKT),k.rXU(z.GX),k.rXU(E.qQ,8),k.rXU(G),k.rXU(z.Z7),k.rXU(k.SKi),k.rXU(d.yY),k.rXU(z.FN))};static#t=this.\u0275cmp=k.VBU({type:m,selectors:[["cdk-dialog-container"]],viewQuery:function(ge,Ae){if(1&ge&&k.GBs(O.I3,7),2&ge){let tt;k.mGM(tt=k.lsd())&&(Ae._portalOutlet=tt.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(ge,Ae){2&ge&&k.BMQ("id",Ae._config.id||null)("role",Ae._config.role)("aria-modal",Ae._config.ariaModal)("aria-labelledby",Ae._config.ariaLabel?null:Ae._ariaLabelledByQueue[0])("aria-label",Ae._config.ariaLabel)("aria-describedby",Ae._config.ariaDescribedBy||null)},standalone:!0,features:[k.Vt3,k.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(ge,Ae){1&ge&&k.DNE(0,j,0,0,"ng-template",0)},dependencies:[O.I3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return m})();class J{constructor(U,ne){this.overlayRef=U,this.config=ne,this.closed=new P.B,this.disableClose=ne.disableClose,this.backdropClick=U.backdropClick(),this.keydownEvents=U.keydownEvents(),this.outsidePointerEvents=U.outsidePointerEvents(),this.id=ne.id,this.keydownEvents.subscribe(ge=>{ge.keyCode===A._f&&!this.disableClose&&!(0,A.rp)(ge)&&(ge.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=U.detachments().subscribe(()=>{!1!==ne.closeOnOverlayDetachments&&this.close()})}close(U,ne){if(this.containerInstance){const ge=this.closed;this.containerInstance._closeInteractionType=ne?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),ge.next(U),ge.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(U="",ne=""){return this.overlayRef.updateSize({width:U,height:ne}),this}addPanelClass(U){return this.overlayRef.addPanelClass(U),this}removePanelClass(U){return this.overlayRef.removePanelClass(U),this}}const Z=new k.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const m=(0,k.WQX)(d.hJ);return()=>m.scrollStrategies.block()}}),ie=new k.nKC("DialogData"),ae=new k.nKC("DefaultDialogConfig");let le=0,be=(()=>{class m{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(ne,ge,Ae,tt,Bt,gt){this._overlay=ne,this._injector=ge,this._defaultOptions=Ae,this._parentDialog=tt,this._overlayContainer=Bt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new P.B,this._afterOpenedAtThisLevel=new P.B,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,F.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,X.Z)(void 0))),this._scrollStrategy=gt}open(ne,ge){(ge={...this._defaultOptions||new G,...ge}).id=ge.id||"cdk-dialog-"+le++,ge.id&&this.getDialogById(ge.id);const tt=this._getOverlayConfig(ge),Bt=this._overlay.create(tt),gt=new J(Bt,ge),It=this._attachContainer(Bt,gt,ge);return gt.containerInstance=It,this._attachDialogContent(ne,gt,It,ge),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(gt),gt.closed.subscribe(()=>this._removeOpenDialog(gt,!0)),this.afterOpened.next(gt),gt}closeAll(){xe(this.openDialogs,ne=>ne.close())}getDialogById(ne){return this.openDialogs.find(ge=>ge.id===ne)}ngOnDestroy(){xe(this._openDialogsAtThisLevel,ne=>{!1===ne.config.closeOnDestroy&&this._removeOpenDialog(ne,!1)}),xe(this._openDialogsAtThisLevel,ne=>ne.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(ne){const ge=new d.rR({positionStrategy:ne.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:ne.scrollStrategy||this._scrollStrategy(),panelClass:ne.panelClass,hasBackdrop:ne.hasBackdrop,direction:ne.direction,minWidth:ne.minWidth,minHeight:ne.minHeight,maxWidth:ne.maxWidth,maxHeight:ne.maxHeight,width:ne.width,height:ne.height,disposeOnNavigation:ne.closeOnNavigation});return ne.backdropClass&&(ge.backdropClass=ne.backdropClass),ge}_attachContainer(ne,ge,Ae){const tt=Ae.injector||Ae.viewContainerRef?.injector,Bt=[{provide:G,useValue:Ae},{provide:J,useValue:ge},{provide:d.yY,useValue:ne}];let gt;Ae.container?"function"==typeof Ae.container?gt=Ae.container:(gt=Ae.container.type,Bt.push(...Ae.container.providers(Ae))):gt=te;const It=new O.A8(gt,Ae.viewContainerRef,k.zZn.create({parent:tt||this._injector,providers:Bt}),Ae.componentFactoryResolver);return ne.attach(It).instance}_attachDialogContent(ne,ge,Ae,tt){if(ne instanceof k.C4Q){const Bt=this._createInjector(tt,ge,Ae,void 0);let gt={$implicit:tt.data,dialogRef:ge};tt.templateContext&&(gt={...gt,..."function"==typeof tt.templateContext?tt.templateContext():tt.templateContext}),Ae.attachTemplatePortal(new O.VA(ne,null,gt,Bt))}else{const Bt=this._createInjector(tt,ge,Ae,this._injector),gt=Ae.attachComponentPortal(new O.A8(ne,tt.viewContainerRef,Bt,tt.componentFactoryResolver));ge.componentRef=gt,ge.componentInstance=gt.instance}}_createInjector(ne,ge,Ae,tt){const Bt=ne.injector||ne.viewContainerRef?.injector,gt=[{provide:ie,useValue:ne.data},{provide:J,useValue:ge}];return ne.providers&&("function"==typeof ne.providers?gt.push(...ne.providers(ge,ne,Ae)):gt.push(...ne.providers)),ne.direction&&(!Bt||!Bt.get(D.dS,null,{optional:!0}))&&gt.push({provide:D.dS,useValue:{value:ne.direction,change:(0,L.of)()}}),k.zZn.create({parent:Bt||tt,providers:gt})}_removeOpenDialog(ne,ge){const Ae=this.openDialogs.indexOf(ne);Ae>-1&&(this.openDialogs.splice(Ae,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((tt,Bt)=>{tt?Bt.setAttribute("aria-hidden",tt):Bt.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),ge&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const ne=this._overlayContainer.getContainerElement();if(ne.parentElement){const ge=ne.parentElement.children;for(let Ae=ge.length-1;Ae>-1;Ae--){const tt=ge[Ae];tt!==ne&&"SCRIPT"!==tt.nodeName&&"STYLE"!==tt.nodeName&&!tt.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(tt,tt.getAttribute("aria-hidden")),tt.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const ne=this._parentDialog;return ne?ne._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(ge){return new(ge||m)(k.KVO(d.hJ),k.KVO(k.zZn),k.KVO(ae,8),k.KVO(m,12),k.KVO(d.Sf),k.KVO(Z))};static#t=this.\u0275prov=k.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})();function xe(m,U){let ne=m.length;for(;ne--;)U(m[ne])}let ke=(()=>{class m{static#e=this.\u0275fac=function(ge){return new(ge||m)};static#t=this.\u0275mod=k.$C({type:m});static#n=this.\u0275inj=k.G2t({providers:[be],imports:[d.z_,O.jc,z.Pd,O.jc]})}return m})();var C=w(14085),a=w(57786),f=w(5964),y=w(96697),g=w(67333),M=w(86600);function B(m,U){}w(49969);class S{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const s="mdc-dialog--open",v="mdc-dialog--opening",W="mdc-dialog--closing";let ce=(()=>{class m extends te{constructor(ne,ge,Ae,tt,Bt,gt,It,Zt,mn){super(ne,ge,Ae,tt,Bt,gt,It,mn),this._animationMode=Zt,this._animationStateChanged=new k.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Oe(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Oe(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(_e,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(v,s)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(s),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(s),this._animationsEnabled?(this._hostElement.style.setProperty(_e,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(W)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(ne){this._actionSectionCount+=ne,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(v,W)}_waitForAnimationToComplete(ne,ge){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(ge,ne)}_requestAnimationFrame(ne){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(ne):ne()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(ne){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:ne})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(ne){const ge=super.attachComponentPortal(ne);return ge.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),ge}static#e=this.\u0275fac=function(ge){return new(ge||m)(k.rXU(k.aKT),k.rXU(z.GX),k.rXU(E.qQ,8),k.rXU(S),k.rXU(z.Z7),k.rXU(k.SKi),k.rXU(d.yY),k.rXU(k.bc$,8),k.rXU(z.FN))};static#t=this.\u0275cmp=k.VBU({type:m,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(ge,Ae){2&ge&&(k.Mr5("id",Ae._config.id),k.BMQ("aria-modal",Ae._config.ariaModal)("role",Ae._config.role)("aria-labelledby",Ae._config.ariaLabel?null:Ae._ariaLabelledByQueue[0])("aria-label",Ae._config.ariaLabel)("aria-describedby",Ae._config.ariaDescribedBy||null),k.AVh("_mat-animation-noopable",!Ae._animationsEnabled)("mat-mdc-dialog-container-with-actions",Ae._actionSectionCount>0))},standalone:!0,features:[k.Vt3,k.aNF],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(ge,Ae){1&ge&&(k.j41(0,"div",0)(1,"div",1),k.DNE(2,B,0,0,"ng-template",2),k.k0s()())},dependencies:[O.I3],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, 4px);background-color:var(--mdc-dialog-container-color, white)}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87));font-family:var(--mdc-dialog-subhead-font, inherit);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6));font-family:var(--mdc-dialog-supporting-text-font, inherit);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return m})();const _e="--mat-dialog-transition-duration";function Oe(m){return null==m?null:"number"==typeof m?m:m.endsWith("ms")?(0,C.OE)(m.substring(0,m.length-2)):m.endsWith("s")?1e3*(0,C.OE)(m.substring(0,m.length-1)):"0"===m?0:null}var Ve=function(m){return m[m.OPEN=0]="OPEN",m[m.CLOSING=1]="CLOSING",m[m.CLOSED=2]="CLOSED",m}(Ve||{});class Se{constructor(U,ne,ge){this._ref=U,this._containerInstance=ge,this._afterOpened=new P.B,this._beforeClosed=new P.B,this._state=Ve.OPEN,this.disableClose=ne.disableClose,this.id=U.id,U.addPanelClass("mat-mdc-dialog-panel"),ge._animationStateChanged.pipe((0,f.p)(Ae=>"opened"===Ae.state),(0,y.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),ge._animationStateChanged.pipe((0,f.p)(Ae=>"closed"===Ae.state),(0,y.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),U.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,a.h)(this.backdropClick(),this.keydownEvents().pipe((0,f.p)(Ae=>Ae.keyCode===A._f&&!this.disableClose&&!(0,A.rp)(Ae)))).subscribe(Ae=>{this.disableClose||(Ae.preventDefault(),we(this,"keydown"===Ae.type?"keyboard":"mouse"))})}close(U){this._result=U,this._containerInstance._animationStateChanged.pipe((0,f.p)(ne=>"closing"===ne.state),(0,y.s)(1)).subscribe(ne=>{this._beforeClosed.next(U),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),ne.totalTime+100)}),this._state=Ve.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(U){let ne=this._ref.config.positionStrategy;return U&&(U.left||U.right)?U.left?ne.left(U.left):ne.right(U.right):ne.centerHorizontally(),U&&(U.top||U.bottom)?U.top?ne.top(U.top):ne.bottom(U.bottom):ne.centerVertically(),this._ref.updatePosition(),this}updateSize(U="",ne=""){return this._ref.updateSize(U,ne),this}addPanelClass(U){return this._ref.addPanelClass(U),this}removePanelClass(U){return this._ref.removePanelClass(U),this}getState(){return this._state}_finishDialogClose(){this._state=Ve.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function we(m,U,ne){return m._closeInteractionType=U,m.close(ne)}const Ue=new k.nKC("MatMdcDialogData"),ye=new k.nKC("mat-mdc-dialog-default-options"),De=new k.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const m=(0,k.WQX)(d.hJ);return()=>m.scrollStrategies.block()}});let Q=0,oe=(()=>{class m{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const ne=this._parentDialog;return ne?ne._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(ne,ge,Ae,tt,Bt,gt,It,Zt){this._overlay=ne,this._defaultOptions=tt,this._scrollStrategy=Bt,this._parentDialog=gt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new P.B,this._afterOpenedAtThisLevel=new P.B,this.dialogConfigClass=S,this.afterAllClosed=(0,F.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,X.Z)(void 0))),this._dialog=ge.get(be),this._dialogRefConstructor=Se,this._dialogContainerType=ce,this._dialogDataToken=Ue}open(ne,ge){let Ae;(ge={...this._defaultOptions||new S,...ge}).id=ge.id||"mat-mdc-dialog-"+Q++,ge.scrollStrategy=ge.scrollStrategy||this._scrollStrategy();const tt=this._dialog.open(ne,{...ge,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:ge},{provide:G,useValue:ge}]},templateContext:()=>({dialogRef:Ae}),providers:(Bt,gt,It)=>(Ae=new this._dialogRefConstructor(Bt,ge,It),Ae.updatePosition(ge?.position),[{provide:this._dialogContainerType,useValue:It},{provide:this._dialogDataToken,useValue:gt.data},{provide:this._dialogRefConstructor,useValue:Ae}])});return Ae.componentRef=tt.componentRef,Ae.componentInstance=tt.componentInstance,this.openDialogs.push(Ae),this.afterOpened.next(Ae),Ae.afterClosed().subscribe(()=>{const Bt=this.openDialogs.indexOf(Ae);Bt>-1&&(this.openDialogs.splice(Bt,1),this.openDialogs.length||this._getAfterAllClosed().next())}),Ae}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(ne){return this.openDialogs.find(ge=>ge.id===ne)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(ne){let ge=ne.length;for(;ge--;)ne[ge].close()}static#e=this.\u0275fac=function(ge){return new(ge||m)(k.KVO(d.hJ),k.KVO(k.zZn),k.KVO(E.aZ,8),k.KVO(ye,8),k.KVO(De),k.KVO(m,12),k.KVO(d.Sf),k.KVO(k.bc$,8))};static#t=this.\u0275prov=k.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})(),fe=0,Ee=(()=>{class m{constructor(ne,ge,Ae){this.dialogRef=ne,this._elementRef=ge,this._dialog=Ae,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=We(this._elementRef,this._dialog.openDialogs))}ngOnChanges(ne){const ge=ne._matDialogClose||ne._matDialogCloseResult;ge&&(this.dialogResult=ge.currentValue)}_onButtonClick(ne){we(this.dialogRef,0===ne.screenX&&0===ne.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(ge){return new(ge||m)(k.rXU(Se,8),k.rXU(k.aKT),k.rXU(oe))};static#t=this.\u0275dir=k.FsC({type:m,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(ge,Ae){1&ge&&k.bIt("click",function(Bt){return Ae._onButtonClick(Bt)}),2&ge&&k.BMQ("aria-label",Ae.ariaLabel||null)("type",Ae.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[k.OA$]})}return m})(),Re=(()=>{class m{constructor(ne,ge,Ae){this._dialogRef=ne,this._elementRef=ge,this._dialog=Ae}ngOnInit(){this._dialogRef||(this._dialogRef=We(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#e=this.\u0275fac=function(ge){return new(ge||m)(k.rXU(Se,8),k.rXU(k.aKT),k.rXU(oe))};static#t=this.\u0275dir=k.FsC({type:m,standalone:!0})}return m})(),$e=(()=>{class m extends Re{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+fe++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#e=this.\u0275fac=(()=>{let ne;return function(Ae){return(ne||(ne=k.xGo(m)))(Ae||m)}})();static#t=this.\u0275dir=k.FsC({type:m,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(ge,Ae){2&ge&&k.Mr5("id",Ae.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[k.Vt3]})}return m})(),Fe=(()=>{class m{static#e=this.\u0275fac=function(ge){return new(ge||m)};static#t=this.\u0275dir=k.FsC({type:m,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[k.nM4([g.uv])]})}return m})(),_t=(()=>{class m extends Re{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static#e=this.\u0275fac=(()=>{let ne;return function(Ae){return(ne||(ne=k.xGo(m)))(Ae||m)}})();static#t=this.\u0275dir=k.FsC({type:m,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(ge,Ae){2&ge&&k.AVh("mat-mdc-dialog-actions-align-start","start"===Ae.align)("mat-mdc-dialog-actions-align-center","center"===Ae.align)("mat-mdc-dialog-actions-align-end","end"===Ae.align)},inputs:{align:"align"},standalone:!0,features:[k.Vt3]})}return m})();function We(m,U){let ne=m.nativeElement.parentElement;for(;ne&&!ne.classList.contains("mat-mdc-dialog-container");)ne=ne.parentElement;return ne?U.find(ge=>ge.id===ne.id):null}let lt=(()=>{class m{static#e=this.\u0275fac=function(ge){return new(ge||m)};static#t=this.\u0275mod=k.$C({type:m});static#n=this.\u0275inj=k.G2t({providers:[oe],imports:[ke,d.z_,O.jc,M.yE,M.yE]})}return m})()},71997:(je,H,w)=>{"use strict";w.d(H,{q:()=>z,w:()=>x});var d=w(93953),E=w(14085),k=w(86600);let z=(()=>{class O{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(P){this._vertical=(0,E.he)(P)}get inset(){return this._inset}set inset(P){this._inset=(0,E.he)(P)}static#e=this.\u0275fac=function(F){return new(F||O)};static#t=this.\u0275cmp=d.VBU({type:O,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(F,L){2&F&&(d.BMQ("aria-orientation",L.vertical?"vertical":"horizontal"),d.AVh("mat-divider-vertical",L.vertical)("mat-divider-horizontal",!L.vertical)("mat-divider-inset",L.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[d.aNF],decls:0,vars:0,template:function(F,L){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return O})(),x=(()=>{class O{static#e=this.\u0275fac=function(F){return new(F||O)};static#t=this.\u0275mod=d.$C({type:O});static#n=this.\u0275inj=d.G2t({imports:[k.yE,k.yE]})}return O})()},53719:(je,H,w)=>{"use strict";w.d(H,{MV:()=>Ve,RG:()=>Ae,TL:()=>_e,U$:()=>lt,nJ:()=>K,qT:()=>$e,rl:()=>ge,xb:()=>Le,yw:()=>ye});var d=w(93953),E=w(28203),k=w(14085),z=w(36860),x=w(60177),O=w(18359),A=w(21413),P=w(57786),F=w(56977),L=w(98170),D=w(49969),X=w(49937),j=w(86600);const G=["notch"],re=["matFormFieldNotchedOutline",""],te=["*"],J=["textField"],Z=["iconPrefixContainer"],ie=["textPrefixContainer"],ae=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],se=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function de(tt,Bt){1&tt&&d.nrm(0,"span",19)}function le(tt,Bt){if(1&tt&&(d.j41(0,"label",18),d.SdG(1,1),d.DNE(2,de,1,0,"span",19),d.k0s()),2&tt){const gt=d.XpG(2);d.Y8G("floating",gt._shouldLabelFloat())("monitorResize",gt._hasOutline())("id",gt._labelId),d.BMQ("for",gt._control.disableAutomaticLabeling?null:gt._control.id),d.R7$(2),d.vxM(!gt.hideRequiredMarker&&gt._control.required?2:-1)}}function be(tt,Bt){if(1&tt&&d.DNE(0,le,3,5,"label",18),2&tt){const gt=d.XpG();d.vxM(gt._hasFloatingLabel()?0:-1)}}function xe(tt,Bt){1&tt&&d.nrm(0,"div",5)}function ke(tt,Bt){}function C(tt,Bt){if(1&tt&&d.DNE(0,ke,0,0,"ng-template",11),2&tt){d.XpG(2);const gt=d.sdS(1);d.Y8G("ngTemplateOutlet",gt)}}function a(tt,Bt){if(1&tt&&(d.j41(0,"div",7),d.DNE(1,C,1,1,null,11),d.k0s()),2&tt){const gt=d.XpG();d.Y8G("matFormFieldNotchedOutlineOpen",gt._shouldLabelFloat()),d.R7$(),d.vxM(gt._forceDisplayInfixLabel()?-1:1)}}function f(tt,Bt){1&tt&&(d.j41(0,"div",8,2),d.SdG(2,2),d.k0s())}function y(tt,Bt){1&tt&&(d.j41(0,"div",9,3),d.SdG(2,3),d.k0s())}function g(tt,Bt){}function M(tt,Bt){if(1&tt&&d.DNE(0,g,0,0,"ng-template",11),2&tt){d.XpG();const gt=d.sdS(1);d.Y8G("ngTemplateOutlet",gt)}}function T(tt,Bt){1&tt&&(d.j41(0,"div",12),d.SdG(1,4),d.k0s())}function B(tt,Bt){1&tt&&(d.j41(0,"div",13),d.SdG(1,5),d.k0s())}function S(tt,Bt){1&tt&&d.nrm(0,"div",14)}function s(tt,Bt){if(1&tt&&(d.j41(0,"div",16),d.SdG(1,6),d.k0s()),2&tt){const gt=d.XpG();d.Y8G("@transitionMessages",gt._subscriptAnimationState)}}function v(tt,Bt){if(1&tt&&(d.j41(0,"mat-hint",20),d.EFF(1),d.k0s()),2&tt){const gt=d.XpG(2);d.Y8G("id",gt._hintLabelId),d.R7$(),d.JRh(gt.hintLabel)}}function W(tt,Bt){if(1&tt&&(d.j41(0,"div",17),d.DNE(1,v,2,2,"mat-hint",20),d.SdG(2,7),d.nrm(3,"div",21),d.SdG(4,8),d.k0s()),2&tt){const gt=d.XpG();d.Y8G("@transitionMessages",gt._subscriptAnimationState),d.R7$(),d.vxM(gt.hintLabel?1:-1)}}let K=(()=>{class tt{static#e=this.\u0275fac=function(It){return new(It||tt)};static#t=this.\u0275dir=d.FsC({type:tt,selectors:[["mat-label"]],standalone:!0})}return tt})(),ee=0;const ce=new d.nKC("MatError");let _e=(()=>{class tt{constructor(gt,It){this.id="mat-mdc-error-"+ee++,gt||It.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(It){return new(It||tt)(d.kS0("aria-live"),d.rXU(d.aKT))};static#t=this.\u0275dir=d.FsC({type:tt,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(It,Zt){2&It&&d.Mr5("id",Zt.id)},inputs:{id:"id"},standalone:!0,features:[d.Jv_([{provide:ce,useExisting:tt}])]})}return tt})(),Oe=0,Ve=(()=>{class tt{constructor(){this.align="start",this.id="mat-mdc-hint-"+Oe++}static#e=this.\u0275fac=function(It){return new(It||tt)};static#t=this.\u0275dir=d.FsC({type:tt,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(It,Zt){2&It&&(d.Mr5("id",Zt.id),d.BMQ("align",null),d.AVh("mat-mdc-form-field-hint-end","end"===Zt.align))},inputs:{align:"align",id:"id"},standalone:!0})}return tt})();const Se=new d.nKC("MatPrefix"),Ue=new d.nKC("MatSuffix");let ye=(()=>{class tt{constructor(){this._isText=!1}set _isTextSelector(gt){this._isText=!0}static#e=this.\u0275fac=function(It){return new(It||tt)};static#t=this.\u0275dir=d.FsC({type:tt,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[d.Jv_([{provide:Ue,useExisting:tt}])]})}return tt})();const De=new d.nKC("FloatingLabelParent");let pe=(()=>{class tt{get floating(){return this._floating}set floating(gt){this._floating=gt,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(gt){this._monitorResize=gt,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(gt){this._elementRef=gt,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,d.WQX)(L.a),this._ngZone=(0,d.WQX)(d.SKi),this._parent=(0,d.WQX)(De),this._resizeSubscription=new O.yU}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function ue(tt){if(null!==tt.offsetParent)return tt.scrollWidth;const gt=tt.cloneNode(!0);gt.style.setProperty("position","absolute"),gt.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(gt);const It=gt.scrollWidth;return gt.remove(),It}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(It){return new(It||tt)(d.rXU(d.aKT))};static#t=this.\u0275dir=d.FsC({type:tt,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(It,Zt){2&It&&d.AVh("mdc-floating-label--float-above",Zt.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return tt})();const Q="mdc-line-ripple--active",oe="mdc-line-ripple--deactivating";let fe=(()=>{class tt{constructor(gt,It){this._elementRef=gt,this._handleTransitionEnd=Zt=>{const mn=this._elementRef.nativeElement.classList,dn=mn.contains(oe);"opacity"===Zt.propertyName&&dn&&mn.remove(Q,oe)},It.runOutsideAngular(()=>{gt.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const gt=this._elementRef.nativeElement.classList;gt.remove(oe),gt.add(Q)}deactivate(){this._elementRef.nativeElement.classList.add(oe)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(It){return new(It||tt)(d.rXU(d.aKT),d.rXU(d.SKi))};static#t=this.\u0275dir=d.FsC({type:tt,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return tt})(),Ee=(()=>{class tt{constructor(gt,It){this._elementRef=gt,this._ngZone=It,this.open=!1}ngAfterViewInit(){const gt=this._elementRef.nativeElement.querySelector(".mdc-floating-label");gt?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(gt.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>gt.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(gt){this._notch.nativeElement.style.width=this.open&&gt?`calc(${gt}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(It){return new(It||tt)(d.rXU(d.aKT),d.rXU(d.SKi))};static#t=this.\u0275cmp=d.VBU({type:tt,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(It,Zt){if(1&It&&d.GBs(G,5),2&It){let mn;d.mGM(mn=d.lsd())&&(Zt._notch=mn.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(It,Zt){2&It&&d.AVh("mdc-notched-outline--notched",Zt.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[d.aNF],attrs:re,ngContentSelectors:te,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(It,Zt){1&It&&(d.NAR(),d.nrm(0,"div",1),d.j41(1,"div",2,0),d.SdG(3),d.k0s(),d.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return tt})();const Re={transitionMessages:(0,D.hZ)("transitionMessages",[(0,D.wk)("enter",(0,D.iF)({opacity:1,transform:"translateY(0%)"})),(0,D.kY)("void => enter",[(0,D.iF)({opacity:0,transform:"translateY(-5px)"}),(0,D.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let $e=(()=>{class tt{static#e=this.\u0275fac=function(It){return new(It||tt)};static#t=this.\u0275dir=d.FsC({type:tt})}return tt})();const Le=new d.nKC("MatFormField"),lt=new d.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let N=0;const _="fill",U="fixed";let ge=(()=>{class tt{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(gt){this._hideRequiredMarker=(0,k.he)(gt)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(gt){gt!==this._floatLabel&&(this._floatLabel=gt,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(gt){const It=this._appearance;this._appearance=gt||this._defaults?.appearance||_,"outline"===this._appearance&&this._appearance!==It&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||U}set subscriptSizing(gt){this._subscriptSizing=gt||this._defaults?.subscriptSizing||U}get hintLabel(){return this._hintLabel}set hintLabel(gt){this._hintLabel=gt,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(gt){this._explicitFormFieldControl=gt}constructor(gt,It,Zt,mn,dn,ar,An,en){this._elementRef=gt,this._changeDetectorRef=It,this._dir=mn,this._platform=dn,this._defaults=ar,this._animationMode=An,this._labelChild=(0,d.sbv)(K),this._hideRequiredMarker=!1,this.color="primary",this._appearance=_,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+N++,this._hintLabelId="mat-mdc-hint-"+N++,this._subscriptAnimationState="",this._destroyed=new A.B,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._injector=(0,d.WQX)(d.zZn),this.getLabelId=(0,d.EWP)(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=(0,d.EWP)(()=>!!this._labelChild()),ar&&(ar.appearance&&(this.appearance=ar.appearance),this._hideRequiredMarker=!!ar?.hideRequiredMarker,ar.color&&(this.color=ar.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const gt=this._control;gt.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${gt.controlType}`),gt.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),gt.ngControl&&gt.ngControl.valueChanges&&gt.ngControl.valueChanges.pipe((0,F.Q)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(gt=>!gt._isText),this._hasTextPrefix=!!this._prefixChildren.find(gt=>gt._isText),this._hasIconSuffix=!!this._suffixChildren.find(gt=>!gt._isText),this._hasTextSuffix=!!this._suffixChildren.find(gt=>gt._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,P.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,d.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe((0,F.Q)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return!!this._hasFloatingLabel()&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_shouldForward(gt){const It=this._control?this._control.ngControl:null;return It&&It[gt]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let gt=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&gt.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const It=this._hintChildren?this._hintChildren.find(mn=>"start"===mn.align):null,Zt=this._hintChildren?this._hintChildren.find(mn=>"end"===mn.align):null;It?gt.push(It.id):this._hintLabel&&gt.push(this._hintLabelId),Zt&&gt.push(Zt.id)}else this._errorChildren&&gt.push(...this._errorChildren.map(It=>It.id));this._control.setDescribedByIds(gt)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const gt=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(gt.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const It=this._iconPrefixContainer?.nativeElement,Zt=this._textPrefixContainer?.nativeElement,mn=It?.getBoundingClientRect().width??0,dn=Zt?.getBoundingClientRect().width??0;gt.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${mn+dn}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const gt=this._elementRef.nativeElement;if(gt.getRootNode){const It=gt.getRootNode();return It&&It!==gt}return document.documentElement.contains(gt)}static#e=this.\u0275fac=function(It){return new(It||tt)(d.rXU(d.aKT),d.rXU(d.gRc),d.rXU(d.SKi),d.rXU(E.dS),d.rXU(z.OD),d.rXU(lt,8),d.rXU(d.bc$,8),d.rXU(x.qQ))};static#t=this.\u0275cmp=d.VBU({type:tt,selectors:[["mat-form-field"]],contentQueries:function(It,Zt,mn){if(1&It&&(d.C6U(mn,Zt._labelChild,K,5),d.wni(mn,$e,5),d.wni(mn,Se,5),d.wni(mn,Ue,5),d.wni(mn,ce,5),d.wni(mn,Ve,5)),2&It){let dn;d.NyB(),d.mGM(dn=d.lsd())&&(Zt._formFieldControl=dn.first),d.mGM(dn=d.lsd())&&(Zt._prefixChildren=dn),d.mGM(dn=d.lsd())&&(Zt._suffixChildren=dn),d.mGM(dn=d.lsd())&&(Zt._errorChildren=dn),d.mGM(dn=d.lsd())&&(Zt._hintChildren=dn)}},viewQuery:function(It,Zt){if(1&It&&(d.GBs(J,5),d.GBs(Z,5),d.GBs(ie,5),d.GBs(pe,5),d.GBs(Ee,5),d.GBs(fe,5)),2&It){let mn;d.mGM(mn=d.lsd())&&(Zt._textField=mn.first),d.mGM(mn=d.lsd())&&(Zt._iconPrefixContainer=mn.first),d.mGM(mn=d.lsd())&&(Zt._textPrefixContainer=mn.first),d.mGM(mn=d.lsd())&&(Zt._floatingLabel=mn.first),d.mGM(mn=d.lsd())&&(Zt._notchedOutline=mn.first),d.mGM(mn=d.lsd())&&(Zt._lineRipple=mn.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(It,Zt){2&It&&d.AVh("mat-mdc-form-field-label-always-float",Zt._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",Zt._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",Zt._hasIconSuffix)("mat-form-field-invalid",Zt._control.errorState)("mat-form-field-disabled",Zt._control.disabled)("mat-form-field-autofilled",Zt._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===Zt._animationMode)("mat-form-field-appearance-fill","fill"==Zt.appearance)("mat-form-field-appearance-outline","outline"==Zt.appearance)("mat-form-field-hide-placeholder",Zt._hasFloatingLabel()&&!Zt._shouldLabelFloat())("mat-focused",Zt._control.focused)("mat-primary","accent"!==Zt.color&&"warn"!==Zt.color)("mat-accent","accent"===Zt.color)("mat-warn","warn"===Zt.color)("ng-untouched",Zt._shouldForward("untouched"))("ng-touched",Zt._shouldForward("touched"))("ng-pristine",Zt._shouldForward("pristine"))("ng-dirty",Zt._shouldForward("dirty"))("ng-valid",Zt._shouldForward("valid"))("ng-invalid",Zt._shouldForward("invalid"))("ng-pending",Zt._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[d.Jv_([{provide:Le,useExisting:tt},{provide:De,useExisting:tt}]),d.aNF],ngContentSelectors:se,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(It,Zt){if(1&It){const mn=d.RV6();d.NAR(ae),d.DNE(0,be,1,1,"ng-template",null,0,d.C5r),d.j41(2,"div",4,1),d.bIt("click",function(ar){return d.eBV(mn),d.Njj(Zt._control.onContainerClick(ar))}),d.DNE(4,xe,1,0,"div",5),d.j41(5,"div",6),d.DNE(6,a,2,2,"div",7)(7,f,3,0,"div",8)(8,y,3,0,"div",9),d.j41(9,"div",10),d.DNE(10,M,1,1,null,11),d.SdG(11),d.k0s(),d.DNE(12,T,2,0,"div",12)(13,B,2,0,"div",13),d.k0s(),d.DNE(14,S,1,0,"div",14),d.k0s(),d.j41(15,"div",15),d.DNE(16,s,2,1,"div",16)(17,W,5,2,"div",17),d.k0s()}if(2&It){let mn;d.R7$(2),d.AVh("mdc-text-field--filled",!Zt._hasOutline())("mdc-text-field--outlined",Zt._hasOutline())("mdc-text-field--no-label",!Zt._hasFloatingLabel())("mdc-text-field--disabled",Zt._control.disabled)("mdc-text-field--invalid",Zt._control.errorState),d.R7$(2),d.vxM(Zt._hasOutline()||Zt._control.disabled?-1:4),d.R7$(2),d.vxM(Zt._hasOutline()?6:-1),d.R7$(),d.vxM(Zt._hasIconPrefix?7:-1),d.R7$(),d.vxM(Zt._hasTextPrefix?8:-1),d.R7$(2),d.vxM(!Zt._hasOutline()||Zt._forceDisplayInfixLabel()?10:-1),d.R7$(2),d.vxM(Zt._hasTextSuffix?12:-1),d.R7$(),d.vxM(Zt._hasIconSuffix?13:-1),d.R7$(),d.vxM(Zt._hasOutline()?-1:14),d.R7$(),d.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===Zt.subscriptSizing),d.R7$(),d.vxM("error"===(mn=Zt._getDisplayedMessages())?16:"hint"===mn?17:-1)}},dependencies:[pe,Ee,x.T3,fe,Ve],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color);caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color);caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape)}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color);border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Re.transitionMessages]},changeDetection:0})}return tt})(),Ae=(()=>{class tt{static#e=this.\u0275fac=function(It){return new(It||tt)};static#t=this.\u0275mod=d.$C({type:tt});static#n=this.\u0275inj=d.G2t({imports:[j.yE,x.MD,X.w5,j.yE]})}return tt})()},99213:(je,H,w)=>{"use strict";w.d(H,{An:()=>v,m_:()=>W});var d=w(93953),E=w(86600),k=w(60177),z=w(7673),x=w(18810),O=w(27468),A=w(18359),P=w(88141),F=w(96354),L=w(99437),D=w(70980),X=w(97647),j=w(96697),G=w(21626),re=w(345);const te=["*"];let J;function ie(K){return function Z(){if(void 0===J&&(J=null,typeof window<"u")){const K=window;void 0!==K.trustedTypes&&(J=K.trustedTypes.createPolicy("angular#components",{createHTML:ee=>ee}))}return J}()?.createHTML(K)||K}function ae(K){return Error(`Unable to find icon with the name "${K}"`)}function de(K){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${K}".`)}function le(K){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${K}".`)}class be{constructor(ee,ce,_e){this.url=ee,this.svgText=ce,this.options=_e}}let xe=(()=>{class K{constructor(ce,_e,Oe,Ve){this._httpClient=ce,this._sanitizer=_e,this._errorHandler=Ve,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Oe}addSvgIcon(ce,_e,Oe){return this.addSvgIconInNamespace("",ce,_e,Oe)}addSvgIconLiteral(ce,_e,Oe){return this.addSvgIconLiteralInNamespace("",ce,_e,Oe)}addSvgIconInNamespace(ce,_e,Oe,Ve){return this._addSvgIconConfig(ce,_e,new be(Oe,null,Ve))}addSvgIconResolver(ce){return this._resolvers.push(ce),this}addSvgIconLiteralInNamespace(ce,_e,Oe,Ve){const Se=this._sanitizer.sanitize(d.WPN.HTML,Oe);if(!Se)throw le(Oe);const we=ie(Se);return this._addSvgIconConfig(ce,_e,new be("",we,Ve))}addSvgIconSet(ce,_e){return this.addSvgIconSetInNamespace("",ce,_e)}addSvgIconSetLiteral(ce,_e){return this.addSvgIconSetLiteralInNamespace("",ce,_e)}addSvgIconSetInNamespace(ce,_e,Oe){return this._addSvgIconSetConfig(ce,new be(_e,null,Oe))}addSvgIconSetLiteralInNamespace(ce,_e,Oe){const Ve=this._sanitizer.sanitize(d.WPN.HTML,_e);if(!Ve)throw le(_e);const Se=ie(Ve);return this._addSvgIconSetConfig(ce,new be("",Se,Oe))}registerFontClassAlias(ce,_e=ce){return this._fontCssClassesByAlias.set(ce,_e),this}classNameForFontAlias(ce){return this._fontCssClassesByAlias.get(ce)||ce}setDefaultFontSetClass(...ce){return this._defaultFontSetClass=ce,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(ce){const _e=this._sanitizer.sanitize(d.WPN.RESOURCE_URL,ce);if(!_e)throw de(ce);const Oe=this._cachedIconsByUrl.get(_e);return Oe?(0,z.of)(a(Oe)):this._loadSvgIconFromConfig(new be(ce,null)).pipe((0,P.M)(Ve=>this._cachedIconsByUrl.set(_e,Ve)),(0,F.T)(Ve=>a(Ve)))}getNamedSvgIcon(ce,_e=""){const Oe=f(_e,ce);let Ve=this._svgIconConfigs.get(Oe);if(Ve)return this._getSvgFromConfig(Ve);if(Ve=this._getIconConfigFromResolvers(_e,ce),Ve)return this._svgIconConfigs.set(Oe,Ve),this._getSvgFromConfig(Ve);const Se=this._iconSetConfigs.get(_e);return Se?this._getSvgFromIconSetConfigs(ce,Se):(0,x.$)(ae(Oe))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(ce){return ce.svgText?(0,z.of)(a(this._svgElementFromConfig(ce))):this._loadSvgIconFromConfig(ce).pipe((0,F.T)(_e=>a(_e)))}_getSvgFromIconSetConfigs(ce,_e){const Oe=this._extractIconWithNameFromAnySet(ce,_e);if(Oe)return(0,z.of)(Oe);const Ve=_e.filter(Se=>!Se.svgText).map(Se=>this._loadSvgIconSetFromConfig(Se).pipe((0,L.W)(we=>{const ye=`Loading icon set URL: ${this._sanitizer.sanitize(d.WPN.RESOURCE_URL,Se.url)} failed: ${we.message}`;return this._errorHandler.handleError(new Error(ye)),(0,z.of)(null)})));return(0,O.p)(Ve).pipe((0,F.T)(()=>{const Se=this._extractIconWithNameFromAnySet(ce,_e);if(!Se)throw ae(ce);return Se}))}_extractIconWithNameFromAnySet(ce,_e){for(let Oe=_e.length-1;Oe>=0;Oe--){const Ve=_e[Oe];if(Ve.svgText&&Ve.svgText.toString().indexOf(ce)>-1){const Se=this._svgElementFromConfig(Ve),we=this._extractSvgIconFromSet(Se,ce,Ve.options);if(we)return we}}return null}_loadSvgIconFromConfig(ce){return this._fetchIcon(ce).pipe((0,P.M)(_e=>ce.svgText=_e),(0,F.T)(()=>this._svgElementFromConfig(ce)))}_loadSvgIconSetFromConfig(ce){return ce.svgText?(0,z.of)(null):this._fetchIcon(ce).pipe((0,P.M)(_e=>ce.svgText=_e))}_extractSvgIconFromSet(ce,_e,Oe){const Ve=ce.querySelector(`[id="${_e}"]`);if(!Ve)return null;const Se=Ve.cloneNode(!0);if(Se.removeAttribute("id"),"svg"===Se.nodeName.toLowerCase())return this._setSvgAttributes(Se,Oe);if("symbol"===Se.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Se),Oe);const we=this._svgElementFromString(ie("<svg></svg>"));return we.appendChild(Se),this._setSvgAttributes(we,Oe)}_svgElementFromString(ce){const _e=this._document.createElement("DIV");_e.innerHTML=ce;const Oe=_e.querySelector("svg");if(!Oe)throw Error("<svg> tag not found");return Oe}_toSvgElement(ce){const _e=this._svgElementFromString(ie("<svg></svg>")),Oe=ce.attributes;for(let Ve=0;Ve<Oe.length;Ve++){const{name:Se,value:we}=Oe[Ve];"id"!==Se&&_e.setAttribute(Se,we)}for(let Ve=0;Ve<ce.childNodes.length;Ve++)ce.childNodes[Ve].nodeType===this._document.ELEMENT_NODE&&_e.appendChild(ce.childNodes[Ve].cloneNode(!0));return _e}_setSvgAttributes(ce,_e){return ce.setAttribute("fit",""),ce.setAttribute("height","100%"),ce.setAttribute("width","100%"),ce.setAttribute("preserveAspectRatio","xMidYMid meet"),ce.setAttribute("focusable","false"),_e&&_e.viewBox&&ce.setAttribute("viewBox",_e.viewBox),ce}_fetchIcon(ce){const{url:_e,options:Oe}=ce,Ve=Oe?.withCredentials??!1;if(!this._httpClient)throw function se(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==_e)throw Error(`Cannot fetch icon from URL "${_e}".`);const Se=this._sanitizer.sanitize(d.WPN.RESOURCE_URL,_e);if(!Se)throw de(_e);const we=this._inProgressUrlFetches.get(Se);if(we)return we;const Ue=this._httpClient.get(Se,{responseType:"text",withCredentials:Ve}).pipe((0,F.T)(ye=>ie(ye)),(0,D.j)(()=>this._inProgressUrlFetches.delete(Se)),(0,X.u)());return this._inProgressUrlFetches.set(Se,Ue),Ue}_addSvgIconConfig(ce,_e,Oe){return this._svgIconConfigs.set(f(ce,_e),Oe),this}_addSvgIconSetConfig(ce,_e){const Oe=this._iconSetConfigs.get(ce);return Oe?Oe.push(_e):this._iconSetConfigs.set(ce,[_e]),this}_svgElementFromConfig(ce){if(!ce.svgElement){const _e=this._svgElementFromString(ce.svgText);this._setSvgAttributes(_e,ce.options),ce.svgElement=_e}return ce.svgElement}_getIconConfigFromResolvers(ce,_e){for(let Oe=0;Oe<this._resolvers.length;Oe++){const Ve=this._resolvers[Oe](_e,ce);if(Ve)return y(Ve)?new be(Ve.url,null,Ve.options):new be(Ve,null)}}static#e=this.\u0275fac=function(_e){return new(_e||K)(d.KVO(G.Qq,8),d.KVO(re.up),d.KVO(k.qQ,8),d.KVO(d.zcH))};static#t=this.\u0275prov=d.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})();function a(K){return K.cloneNode(!0)}function f(K,ee){return K+":"+ee}function y(K){return!(!K.url||!K.options)}const g=new d.nKC("MAT_ICON_DEFAULT_OPTIONS"),M=new d.nKC("mat-icon-location",{providedIn:"root",factory:function T(){const K=(0,d.WQX)(k.qQ),ee=K?K.location:null;return{getPathname:()=>ee?ee.pathname+ee.search:""}}}),B=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],S=B.map(K=>`[${K}]`).join(", "),s=/^url\(['"]?#(.*?)['"]?\)$/;let v=(()=>{class K{get color(){return this._color||this._defaultColor}set color(ce){this._color=ce}get svgIcon(){return this._svgIcon}set svgIcon(ce){ce!==this._svgIcon&&(ce?this._updateSvgIcon(ce):this._svgIcon&&this._clearSvgElement(),this._svgIcon=ce)}get fontSet(){return this._fontSet}set fontSet(ce){const _e=this._cleanupFontValue(ce);_e!==this._fontSet&&(this._fontSet=_e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(ce){const _e=this._cleanupFontValue(ce);_e!==this._fontIcon&&(this._fontIcon=_e,this._updateFontIconClasses())}constructor(ce,_e,Oe,Ve,Se,we){this._elementRef=ce,this._iconRegistry=_e,this._location=Ve,this._errorHandler=Se,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=A.yU.EMPTY,we&&(we.color&&(this.color=this._defaultColor=we.color),we.fontSet&&(this.fontSet=we.fontSet)),Oe||ce.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(ce){if(!ce)return["",""];const _e=ce.split(":");switch(_e.length){case 1:return["",_e[0]];case 2:return _e;default:throw Error(`Invalid icon name: "${ce}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const ce=this._elementsWithExternalReferences;if(ce&&ce.size){const _e=this._location.getPathname();_e!==this._previousPath&&(this._previousPath=_e,this._prependPathToReferences(_e))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(ce){this._clearSvgElement();const _e=this._location.getPathname();this._previousPath=_e,this._cacheChildrenWithExternalReferences(ce),this._prependPathToReferences(_e),this._elementRef.nativeElement.appendChild(ce)}_clearSvgElement(){const ce=this._elementRef.nativeElement;let _e=ce.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();_e--;){const Oe=ce.childNodes[_e];(1!==Oe.nodeType||"svg"===Oe.nodeName.toLowerCase())&&Oe.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const ce=this._elementRef.nativeElement,_e=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Oe=>Oe.length>0);this._previousFontSetClass.forEach(Oe=>ce.classList.remove(Oe)),_e.forEach(Oe=>ce.classList.add(Oe)),this._previousFontSetClass=_e,this.fontIcon!==this._previousFontIconClass&&!_e.includes("mat-ligature-font")&&(this._previousFontIconClass&&ce.classList.remove(this._previousFontIconClass),this.fontIcon&&ce.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(ce){return"string"==typeof ce?ce.trim().split(" ")[0]:ce}_prependPathToReferences(ce){const _e=this._elementsWithExternalReferences;_e&&_e.forEach((Oe,Ve)=>{Oe.forEach(Se=>{Ve.setAttribute(Se.name,`url('${ce}#${Se.value}')`)})})}_cacheChildrenWithExternalReferences(ce){const _e=ce.querySelectorAll(S),Oe=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Ve=0;Ve<_e.length;Ve++)B.forEach(Se=>{const we=_e[Ve],Ue=we.getAttribute(Se),ye=Ue?Ue.match(s):null;if(ye){let De=Oe.get(we);De||(De=[],Oe.set(we,De)),De.push({name:Se,value:ye[1]})}})}_updateSvgIcon(ce){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),ce){const[_e,Oe]=this._splitIconName(ce);_e&&(this._svgNamespace=_e),Oe&&(this._svgName=Oe),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Oe,_e).pipe((0,j.s)(1)).subscribe(Ve=>this._setSvgElement(Ve),Ve=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${_e}:${Oe}! ${Ve.message}`))})}}static#e=this.\u0275fac=function(_e){return new(_e||K)(d.rXU(d.aKT),d.rXU(xe),d.kS0("aria-hidden"),d.rXU(M),d.rXU(d.zcH),d.rXU(g,8))};static#t=this.\u0275cmp=d.VBU({type:K,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(_e,Oe){2&_e&&(d.BMQ("data-mat-icon-type",Oe._usingFontIcon()?"font":"svg")("data-mat-icon-name",Oe._svgName||Oe.fontIcon)("data-mat-icon-namespace",Oe._svgNamespace||Oe.fontSet)("fontIcon",Oe._usingFontIcon()?Oe.fontIcon:null),d.HbH(Oe.color?"mat-"+Oe.color:""),d.AVh("mat-icon-inline",Oe.inline)("mat-icon-no-color","primary"!==Oe.color&&"accent"!==Oe.color&&"warn"!==Oe.color))},inputs:{color:"color",inline:[2,"inline","inline",d.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[d.GFd,d.aNF],ngContentSelectors:te,decls:1,vars:0,template:function(_e,Oe){1&_e&&(d.NAR(),d.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return K})(),W=(()=>{class K{static#e=this.\u0275fac=function(_e){return new(_e||K)};static#t=this.\u0275mod=d.$C({type:K});static#n=this.\u0275inj=d.G2t({imports:[E.yE,E.yE]})}return K})()},99631:(je,H,w)=>{"use strict";w.d(H,{fg:()=>Z,fS:()=>ie});var d=w(14085),E=w(36860),k=w(93953),z=w(983),x=w(21413);const O=(0,E.BQ)({passive:!0});let A=(()=>{class ae{constructor(de,le){this._platform=de,this._ngZone=le,this._monitoredElements=new Map}monitor(de){if(!this._platform.isBrowser)return z.w;const le=(0,d.i8)(de),be=this._monitoredElements.get(le);if(be)return be.subject;const xe=new x.B,ke="cdk-text-field-autofilled",C=a=>{"cdk-text-field-autofill-start"!==a.animationName||le.classList.contains(ke)?"cdk-text-field-autofill-end"===a.animationName&&le.classList.contains(ke)&&(le.classList.remove(ke),this._ngZone.run(()=>xe.next({target:a.target,isAutofilled:!1}))):(le.classList.add(ke),this._ngZone.run(()=>xe.next({target:a.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{le.addEventListener("animationstart",C,O),le.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(le,{subject:xe,unlisten:()=>{le.removeEventListener("animationstart",C,O)}}),xe}stopMonitoring(de){const le=(0,d.i8)(de),be=this._monitoredElements.get(le);be&&(be.unlisten(),be.subject.complete(),le.classList.remove("cdk-text-field-autofill-monitored"),le.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(le))}ngOnDestroy(){this._monitoredElements.forEach((de,le)=>this.stopMonitoring(le))}static#e=this.\u0275fac=function(le){return new(le||ae)(k.KVO(E.OD),k.KVO(k.SKi))};static#t=this.\u0275prov=k.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})(),L=(()=>{class ae{static#e=this.\u0275fac=function(le){return new(le||ae)};static#t=this.\u0275mod=k.$C({type:ae});static#n=this.\u0275inj=k.G2t({})}return ae})();var D=w(89417),X=w(86600),j=w(53719);const re=new k.nKC("MAT_INPUT_VALUE_ACCESSOR"),te=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let J=0,Z=(()=>{class ae{get disabled(){return this._disabled}set disabled(de){this._disabled=(0,d.he)(de),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(de){this._id=de||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(D.k0.required)??!1}set required(de){this._required=(0,d.he)(de)}get type(){return this._type}set type(de){this._type=de||"text",this._validateType(),!this._isTextarea&&(0,E.MU)().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(de){this._errorStateTracker.matcher=de}get value(){return this._inputValueAccessor.value}set value(de){de!==this.value&&(this._inputValueAccessor.value=de,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(de){this._readonly=(0,d.he)(de)}get errorState(){return this._errorStateTracker.errorState}set errorState(de){this._errorStateTracker.errorState=de}constructor(de,le,be,xe,ke,C,a,f,y,g){this._elementRef=de,this._platform=le,this.ngControl=be,this._autofillMonitor=f,this._ngZone=y,this._formField=g,this._uid="mat-input-"+J++,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new x.B,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(B=>(0,E.MU)().has(B)),this._iOSKeyupListener=B=>{const S=B.target;!S.value&&0===S.selectionStart&&0===S.selectionEnd&&(S.setSelectionRange(1,1),S.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};const M=this._elementRef.nativeElement,T=M.nodeName.toLowerCase();this._inputValueAccessor=a||M,this._previousNativeValue=this.value,this.id=this.id,le.IOS&&y.runOutsideAngular(()=>{de.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new X.X0(C,be,ke,xe,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===T,this._isTextarea="textarea"===T,this._isInFormField=!!g,this._isNativeSelect&&(this.controlType=M.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(de=>{this.autofilled=de.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(de){this._elementRef.nativeElement.focus(de)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(de){de!==this.focused&&(this.focused=de,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const de=this._elementRef.nativeElement.value;this._previousNativeValue!==de&&(this._previousNativeValue=de,this.stateChanges.next())}_dirtyCheckPlaceholder(){const de=this._getPlaceholder();if(de!==this._previousPlaceholder){const le=this._elementRef.nativeElement;this._previousPlaceholder=de,de?le.setAttribute("placeholder",de):le.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){te.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let de=this._elementRef.nativeElement.validity;return de&&de.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const de=this._elementRef.nativeElement,le=de.options[0];return this.focused||de.multiple||!this.empty||!!(de.selectedIndex>-1&&le&&le.label)}return this.focused||!this.empty}setDescribedByIds(de){de.length?this._elementRef.nativeElement.setAttribute("aria-describedby",de.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const de=this._elementRef.nativeElement;return this._isNativeSelect&&(de.multiple||de.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&"number"===this._type&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&"number"!==this._type&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static#e=this.\u0275fac=function(le){return new(le||ae)(k.rXU(k.aKT),k.rXU(E.OD),k.rXU(D.vO,10),k.rXU(D.cV,8),k.rXU(D.j4,8),k.rXU(X.es),k.rXU(re,10),k.rXU(A),k.rXU(k.SKi),k.rXU(j.xb,8))};static#t=this.\u0275dir=k.FsC({type:ae,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(le,be){1&le&&k.bIt("focus",function(){return be._focusChanged(!0)})("blur",function(){return be._focusChanged(!1)})("input",function(){return be._onInput()}),2&le&&(k.Mr5("id",be.id)("disabled",be.disabled)("required",be.required),k.BMQ("name",be.name||null)("readonly",be.readonly&&!be._isNativeSelect||null)("aria-invalid",be.empty&&be.required?null:be.errorState)("aria-required",be.required)("id",be.id),k.AVh("mat-input-server",be._isServer)("mat-mdc-form-field-textarea-control",be._isInFormField&&be._isTextarea)("mat-mdc-form-field-input-control",be._isInFormField)("mdc-text-field__input",be._isInFormField)("mat-mdc-native-select-inline",be._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[k.Jv_([{provide:j.qT,useExisting:ae}]),k.OA$]})}return ae})(),ie=(()=>{class ae{static#e=this.\u0275fac=function(le){return new(le||ae)};static#t=this.\u0275mod=k.$C({type:ae});static#n=this.\u0275inj=k.G2t({imports:[X.yE,j.RG,j.RG,L,X.yE]})}return ae})()},3902:(je,H,w)=>{"use strict";w.d(H,{C_:()=>ce,EI:()=>Re,Fg:()=>lt,YE:()=>oe,ZV:()=>Se,_L:()=>Fe,jt:()=>Q,yE:()=>ee,zi:()=>Ve});var d=w(93953),E=w(14085),k=w(36860),z=w(86600),x=w(18359),O=w(57786),P=(w(21413),w(49937)),F=w(60177),L=w(71997);w(18617),w(45024),w(67336),w(89417),w(56977);const te=["*"],J='.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color);border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected::before,.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected:focus::before,.cdk-high-contrast-active .mdc-list-item:not(.mdc-list-item--selected):focus::before{border-color:CanvasText}.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item.mdc-list-item--selected::before{border-width:3px;border-style:double}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color);font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color);font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color);opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color);opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape);--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape)}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color)}',Z=["unscopedContent"],ie=["text"],ae=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],se=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],K=new d.nKC("ListOption");let ee=(()=>{class N{constructor(m){this._elementRef=m}static#e=this.\u0275fac=function(U){return new(U||N)(d.rXU(d.aKT))};static#t=this.\u0275dir=d.FsC({type:N,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"],standalone:!0})}return N})(),ce=(()=>{class N{constructor(m){this._elementRef=m}static#e=this.\u0275fac=function(U){return new(U||N)(d.rXU(d.aKT))};static#t=this.\u0275dir=d.FsC({type:N,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"],standalone:!0})}return N})(),_e=(()=>{class N{static#e=this.\u0275fac=function(U){return new(U||N)};static#t=this.\u0275dir=d.FsC({type:N,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"],standalone:!0})}return N})(),Oe=(()=>{class N{constructor(m){this._listOption=m}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#e=this.\u0275fac=function(U){return new(U||N)(d.rXU(K,8))};static#t=this.\u0275dir=d.FsC({type:N,hostVars:4,hostBindings:function(U,ne){2&U&&d.AVh("mdc-list-item__start",ne._isAlignedAtStart())("mdc-list-item__end",!ne._isAlignedAtStart())},standalone:!0})}return N})(),Ve=(()=>{class N extends Oe{static#e=this.\u0275fac=(()=>{let m;return function(ne){return(m||(m=d.xGo(N)))(ne||N)}})();static#t=this.\u0275dir=d.FsC({type:N,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],standalone:!0,features:[d.Vt3]})}return N})(),Se=(()=>{class N extends Oe{static#e=this.\u0275fac=(()=>{let m;return function(ne){return(m||(m=d.xGo(N)))(ne||N)}})();static#t=this.\u0275dir=d.FsC({type:N,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],standalone:!0,features:[d.Vt3]})}return N})();const we=new d.nKC("MAT_LIST_CONFIG");let Ue=(()=>{class N{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,d.WQX)(we,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(m){this._disableRipple=(0,E.he)(m)}get disabled(){return this._disabled}set disabled(m){this._disabled=(0,E.he)(m)}static#e=this.\u0275fac=function(U){return new(U||N)};static#t=this.\u0275dir=d.FsC({type:N,hostVars:1,hostBindings:function(U,ne){2&U&&d.BMQ("aria-disabled",ne.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return N})(),ye=(()=>{class N{set lines(m){this._explicitLines=(0,E.OE)(m,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(m){this._disableRipple=(0,E.he)(m)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(m){this._disabled=(0,E.he)(m)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(m,U,ne,ge,Ae,tt){this._elementRef=m,this._ngZone=U,this._listBase=ne,this._platform=ge,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new x.yU,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=Ae||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===tt,ne&&!ne._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new z.ug(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,O.h)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(m){if(!this._lines||!this._titles||!this._unscopedContent)return;m&&this._checkDomForUnscopedTextContent();const U=this._explicitLines??this._inferLinesFromContent(),ne=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",U<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",U<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===U),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===U),this._hasUnscopedTextContent){const ge=0===this._titles.length&&1===U;ne.classList.toggle("mdc-list-item__primary-text",ge),ne.classList.toggle("mdc-list-item__secondary-text",!ge)}else ne.classList.remove("mdc-list-item__primary-text"),ne.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let m=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(m+=1),m}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(m=>m.nodeType!==m.COMMENT_NODE).some(m=>!(!m.textContent||!m.textContent.trim()))}static#e=this.\u0275fac=function(U){return new(U||N)(d.rXU(d.aKT),d.rXU(d.SKi),d.rXU(Ue,8),d.rXU(k.OD),d.rXU(z.$E,8),d.rXU(d.bc$,8))};static#t=this.\u0275dir=d.FsC({type:N,contentQueries:function(U,ne,ge){if(1&U&&(d.wni(ge,Ve,4),d.wni(ge,Se,4)),2&U){let Ae;d.mGM(Ae=d.lsd())&&(ne._avatars=Ae),d.mGM(Ae=d.lsd())&&(ne._icons=Ae)}},hostVars:4,hostBindings:function(U,ne){2&U&&(d.BMQ("aria-disabled",ne.disabled)("disabled",ne._isButtonElement&&ne.disabled||null),d.AVh("mdc-list-item--disabled",ne.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return N})(),Q=(()=>{class N extends Ue{static#e=this.\u0275fac=(()=>{let m;return function(ne){return(m||(m=d.xGo(N)))(ne||N)}})();static#t=this.\u0275cmp=d.VBU({type:N,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],standalone:!0,features:[d.Jv_([{provide:Ue,useExisting:N}]),d.Vt3,d.aNF],ngContentSelectors:te,decls:1,vars:0,template:function(U,ne){1&U&&(d.NAR(),d.SdG(0))},styles:[J],encapsulation:2,changeDetection:0})}return N})(),oe=(()=>{class N extends ye{get activated(){return this._activated}set activated(m){this._activated=(0,E.he)(m)}constructor(m,U,ne,ge,Ae,tt){super(m,U,ne,ge,Ae,tt),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return 0!==this._meta.length&&(0!==this._avatars.length||0!==this._icons.length)}static#e=this.\u0275fac=function(U){return new(U||N)(d.rXU(d.aKT),d.rXU(d.SKi),d.rXU(Ue,8),d.rXU(k.OD),d.rXU(z.$E,8),d.rXU(d.bc$,8))};static#t=this.\u0275cmp=d.VBU({type:N,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(U,ne,ge){if(1&U&&(d.wni(ge,ce,5),d.wni(ge,ee,5),d.wni(ge,_e,5)),2&U){let Ae;d.mGM(Ae=d.lsd())&&(ne._lines=Ae),d.mGM(Ae=d.lsd())&&(ne._titles=Ae),d.mGM(Ae=d.lsd())&&(ne._meta=Ae)}},viewQuery:function(U,ne){if(1&U&&(d.GBs(Z,5),d.GBs(ie,5)),2&U){let ge;d.mGM(ge=d.lsd())&&(ne._unscopedContent=ge.first),d.mGM(ge=d.lsd())&&(ne._itemText=ge.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(U,ne){2&U&&(d.BMQ("aria-current",ne._getAriaCurrent()),d.AVh("mdc-list-item--activated",ne.activated)("mdc-list-item--with-leading-avatar",0!==ne._avatars.length)("mdc-list-item--with-leading-icon",0!==ne._icons.length)("mdc-list-item--with-trailing-meta",0!==ne._meta.length)("mat-mdc-list-item-both-leading-and-trailing",ne._hasBothLeadingAndTrailing())("_mat-animation-noopable",ne._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],standalone:!0,features:[d.Vt3,d.aNF],ngContentSelectors:se,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-mdc-focus-indicator"]],template:function(U,ne){if(1&U){const ge=d.RV6();d.NAR(ae),d.SdG(0),d.j41(1,"span",1),d.SdG(2,1),d.SdG(3,2),d.j41(4,"span",2,0),d.bIt("cdkObserveContent",function(){return d.eBV(ge),d.Njj(ne._updateItemLines(!0))}),d.SdG(6,3),d.k0s()(),d.SdG(7,4),d.SdG(8,5),d.nrm(9,"div",3)}},dependencies:[P.Wv],encapsulation:2,changeDetection:0})}return N})(),Re=(()=>{class N{static#e=this.\u0275fac=function(U){return new(U||N)};static#t=this.\u0275dir=d.FsC({type:N,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-mdc-subheader","mdc-list-group__subheader"],standalone:!0})}return N})(),Fe=(()=>{class N extends Ue{constructor(){super(...arguments),this._isNonInteractive=!1}static#e=this.\u0275fac=(()=>{let m;return function(ne){return(m||(m=d.xGo(N)))(ne||N)}})();static#t=this.\u0275cmp=d.VBU({type:N,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],standalone:!0,features:[d.Jv_([{provide:Ue,useExisting:N}]),d.Vt3,d.aNF],ngContentSelectors:te,decls:1,vars:0,template:function(U,ne){1&U&&(d.NAR(),d.SdG(0))},styles:[J],encapsulation:2,changeDetection:0})}return N})(),lt=(()=>{class N{static#e=this.\u0275fac=function(U){return new(U||N)};static#t=this.\u0275mod=d.$C({type:N});static#n=this.\u0275inj=d.G2t({imports:[P.w5,F.MD,z.yE,z.pZ,z.O5,L.w]})}return N})()},59115:(je,H,w)=>{"use strict";w.d(H,{Cn:()=>De,Cp:()=>ye,fb:()=>y,kk:()=>_e});var d=w(93953),E=w(18617),k=w(67336),z=w(21413),x=w(57786),O=w(18359),A=w(7673),P=w(25007),F=w(99172),L=w(25558),D=w(56977),X=w(5964),j=w(96697),G=w(91986),re=w(60177),te=w(86600),J=w(76939),Z=w(49969),ie=w(28203),ae=w(66969),se=w(36860),de=w(67333);const le=["mat-menu-item",""],be=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],xe=["mat-icon, [matMenuItemIcon]","*"];function ke(pe,ue){1&pe&&(d.qSk(),d.j41(0,"svg",2),d.nrm(1,"polygon",3),d.k0s())}const C=["*"];function a(pe,ue){if(1&pe){const Q=d.RV6();d.j41(0,"div",0),d.bIt("keydown",function(fe){d.eBV(Q);const Ee=d.XpG();return d.Njj(Ee._handleKeydown(fe))})("click",function(){d.eBV(Q);const fe=d.XpG();return d.Njj(fe.closed.emit("click"))})("@transformMenu.start",function(fe){d.eBV(Q);const Ee=d.XpG();return d.Njj(Ee._onAnimationStart(fe))})("@transformMenu.done",function(fe){d.eBV(Q);const Ee=d.XpG();return d.Njj(Ee._onAnimationDone(fe))}),d.j41(1,"div",1),d.SdG(2),d.k0s()()}if(2&pe){const Q=d.XpG();d.HbH(Q._classList),d.Y8G("id",Q.panelId)("@transformMenu",Q._panelAnimationState),d.BMQ("aria-label",Q.ariaLabel||null)("aria-labelledby",Q.ariaLabelledby||null)("aria-describedby",Q.ariaDescribedby||null)}}const f=new d.nKC("MAT_MENU_PANEL");let y=(()=>{class pe{constructor(Q,oe,fe,Ee,Re){this._elementRef=Q,this._document=oe,this._focusMonitor=fe,this._parentMenu=Ee,this._changeDetectorRef=Re,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new z.B,this._focused=new z.B,this._highlighted=!1,this._triggersSubmenu=!1,Ee?.addItem?.(this)}focus(Q,oe){this._focusMonitor&&Q?this._focusMonitor.focusVia(this._getHostElement(),Q,oe):this._getHostElement().focus(oe),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(Q){this.disabled&&(Q.preventDefault(),Q.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const Q=this._elementRef.nativeElement.cloneNode(!0),oe=Q.querySelectorAll("mat-icon, .material-icons");for(let fe=0;fe<oe.length;fe++)oe[fe].remove();return Q.textContent?.trim()||""}_setHighlighted(Q){this._highlighted=Q,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(Q){this._triggersSubmenu=Q,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(oe){return new(oe||pe)(d.rXU(d.aKT),d.rXU(re.qQ),d.rXU(E.FN),d.rXU(f,8),d.rXU(d.gRc))};static#t=this.\u0275cmp=d.VBU({type:pe,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(oe,fe){1&oe&&d.bIt("click",function(Re){return fe._checkDisabled(Re)})("mouseenter",function(){return fe._handleMouseEnter()}),2&oe&&(d.BMQ("role",fe.role)("tabindex",fe._getTabIndex())("aria-disabled",fe.disabled)("disabled",fe.disabled||null),d.AVh("mat-mdc-menu-item-highlighted",fe._highlighted)("mat-mdc-menu-item-submenu-trigger",fe._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",d.L39],disableRipple:[2,"disableRipple","disableRipple",d.L39]},exportAs:["matMenuItem"],standalone:!0,features:[d.GFd,d.aNF],attrs:le,ngContentSelectors:xe,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(oe,fe){1&oe&&(d.NAR(be),d.SdG(0),d.j41(1,"span",0),d.SdG(2,1),d.k0s(),d.nrm(3,"div",1),d.DNE(4,ke,2,0,":svg:svg",2)),2&oe&&(d.R7$(3),d.Y8G("matRippleDisabled",fe.disableRipple||fe.disabled)("matRippleTrigger",fe._getHostElement()),d.R7$(),d.vxM(fe._triggersSubmenu?4:-1))},dependencies:[te.r6],encapsulation:2,changeDetection:0})}return pe})();const B=new d.nKC("MatMenuContent"),s={transformMenu:(0,Z.hZ)("transformMenu",[(0,Z.wk)("void",(0,Z.iF)({opacity:0,transform:"scale(0.8)"})),(0,Z.kY)("void => enter",(0,Z.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Z.iF)({opacity:1,transform:"scale(1)"}))),(0,Z.kY)("* => void",(0,Z.i0)("100ms 25ms linear",(0,Z.iF)({opacity:0})))]),fadeInItems:(0,Z.hZ)("fadeInItems",[(0,Z.wk)("showing",(0,Z.iF)({opacity:1})),(0,Z.kY)("void => *",[(0,Z.iF)({opacity:0}),(0,Z.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let K=0;const ee=new d.nKC("mat-menu-default-options",{providedIn:"root",factory:function ce(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let _e=(()=>{class pe{get xPosition(){return this._xPosition}set xPosition(Q){this._xPosition=Q,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(Q){this._yPosition=Q,this.setPositionClasses()}set panelClass(Q){const oe=this._previousPanelClass,fe={...this._classList};oe&&oe.length&&oe.split(" ").forEach(Ee=>{fe[Ee]=!1}),this._previousPanelClass=Q,Q&&Q.length&&(Q.split(" ").forEach(Ee=>{fe[Ee]=!0}),this._elementRef.nativeElement.className=""),this._classList=fe}get classList(){return this.panelClass}set classList(Q){this.panelClass=Q}constructor(Q,oe,fe,Ee){this._elementRef=Q,this._changeDetectorRef=Ee,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new d.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new z.B,this.closed=new d.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+K++,this._injector=(0,d.WQX)(d.zZn),this.overlayPanelClass=fe.overlayPanelClass||"",this._xPosition=fe.xPosition,this._yPosition=fe.yPosition,this.backdropClass=fe.backdropClass,this.overlapTrigger=fe.overlapTrigger,this.hasBackdrop=fe.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new E.Bu(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,F.Z)(this._directDescendantItems),(0,L.n)(Q=>(0,x.h)(...Q.map(oe=>oe._focused)))).subscribe(Q=>this._keyManager.updateActiveItem(Q)),this._directDescendantItems.changes.subscribe(Q=>{const oe=this._keyManager;if("enter"===this._panelAnimationState&&oe.activeItem?._hasFocus()){const fe=Q.toArray(),Ee=Math.max(0,Math.min(fe.length-1,oe.activeItemIndex||0));fe[Ee]&&!fe[Ee].disabled?oe.setActiveItem(Ee):oe.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,F.Z)(this._directDescendantItems),(0,L.n)(oe=>(0,x.h)(...oe.map(fe=>fe._hovered))))}addItem(Q){}removeItem(Q){}_handleKeydown(Q){const oe=Q.keyCode,fe=this._keyManager;switch(oe){case k._f:(0,k.rp)(Q)||(Q.preventDefault(),this.closed.emit("keydown"));break;case k.UQ:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case k.LE:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(oe===k.i7||oe===k.n6)&&fe.setFocusOrigin("keyboard"),void fe.onKeydown(Q)}Q.stopPropagation()}focusFirstItem(Q="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,d.mal)(()=>{let oe=null;if(this._directDescendantItems.length&&(oe=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!oe||!oe.contains(document.activeElement)){const fe=this._keyManager;fe.setFocusOrigin(Q).setFirstItemActive(),!fe.activeItem&&oe&&oe.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(Q){if(null===this._baseElevation){const $e=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt($e)}const oe=Math.min(this._baseElevation+Q,24),fe=`${this._elevationPrefix}${oe}`,Ee=Object.keys(this._classList).find(Re=>Re.startsWith(this._elevationPrefix));if(!Ee||Ee===this._previousElevation){const Re={...this._classList};this._previousElevation&&(Re[this._previousElevation]=!1),Re[fe]=!0,this._previousElevation=fe,this._classList=Re}}setPositionClasses(Q=this.xPosition,oe=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===Q,"mat-menu-after":"after"===Q,"mat-menu-above":"above"===oe,"mat-menu-below":"below"===oe},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(Q){this._animationDone.next(Q),this._isAnimating=!1}_onAnimationStart(Q){this._isAnimating=!0,"enter"===Q.toState&&0===this._keyManager.activeItemIndex&&(Q.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,F.Z)(this._allItems)).subscribe(Q=>{this._directDescendantItems.reset(Q.filter(oe=>oe._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(oe){return new(oe||pe)(d.rXU(d.aKT),d.rXU(d.SKi),d.rXU(ee),d.rXU(d.gRc))};static#t=this.\u0275cmp=d.VBU({type:pe,selectors:[["mat-menu"]],contentQueries:function(oe,fe,Ee){if(1&oe&&(d.wni(Ee,B,5),d.wni(Ee,y,5),d.wni(Ee,y,4)),2&oe){let Re;d.mGM(Re=d.lsd())&&(fe.lazyContent=Re.first),d.mGM(Re=d.lsd())&&(fe._allItems=Re),d.mGM(Re=d.lsd())&&(fe.items=Re)}},viewQuery:function(oe,fe){if(1&oe&&d.GBs(d.C4Q,5),2&oe){let Ee;d.mGM(Ee=d.lsd())&&(fe.templateRef=Ee.first)}},hostVars:3,hostBindings:function(oe,fe){2&oe&&d.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",d.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",Q=>null==Q?null:(0,d.L39)(Q)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[d.Jv_([{provide:f,useExisting:pe}]),d.GFd,d.aNF],ngContentSelectors:C,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(oe,fe){1&oe&&(d.NAR(),d.DNE(0,a,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[s.transformMenu,s.fadeInItems]},changeDetection:0})}return pe})();const Oe=new d.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const pe=(0,d.WQX)(ae.hJ);return()=>pe.scrollStrategies.reposition()}}),Se={provide:Oe,deps:[ae.hJ],useFactory:function Ve(pe){return()=>pe.scrollStrategies.reposition()}},we=(0,se.BQ)({passive:!0});let ye=(()=>{class pe{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(Q){this.menu=Q}get menu(){return this._menu}set menu(Q){Q!==this._menu&&(this._menu=Q,this._menuCloseSubscription.unsubscribe(),Q&&(this._menuCloseSubscription=Q.close.subscribe(oe=>{this._destroyMenu(oe),("click"===oe||"tab"===oe)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(oe)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(Q,oe,fe,Ee,Re,$e,Fe,_t,We){this._overlay=Q,this._element=oe,this._viewContainerRef=fe,this._menuItemInstance=$e,this._dir=Fe,this._focusMonitor=_t,this._ngZone=We,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=O.yU.EMPTY,this._hoverSubscription=O.yU.EMPTY,this._menuCloseSubscription=O.yU.EMPTY,this._changeDetectorRef=(0,d.WQX)(d.gRc),this._handleTouchStart=Le=>{(0,E.w6)(Le)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new d.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new d.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=Ee,this._parentMaterialMenu=Re instanceof _e?Re:void 0,oe.nativeElement.addEventListener("touchstart",this._handleTouchStart,we)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,we),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const Q=this.menu;if(this._menuOpen||!Q)return;const oe=this._createOverlay(Q),fe=oe.getConfig(),Ee=fe.positionStrategy;this._setPosition(Q,Ee),fe.hasBackdrop=null==Q.hasBackdrop?!this.triggersSubmenu():Q.hasBackdrop,oe.attach(this._getPortal(Q)),Q.lazyContent&&Q.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(Q),Q instanceof _e&&(Q._startAnimation(),Q._directDescendantItems.changes.pipe((0,D.Q)(Q.close)).subscribe(()=>{Ee.withLockedPosition(!1).reapplyLastPosition(),Ee.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(Q,oe){this._focusMonitor&&Q?this._focusMonitor.focusVia(this._element,Q,oe):this._element.nativeElement.focus(oe)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(Q){if(!this._overlayRef||!this.menuOpen)return;const oe=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===Q||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,oe instanceof _e?(oe._resetAnimation(),oe.lazyContent?oe._animationDone.pipe((0,X.p)(fe=>"void"===fe.toState),(0,j.s)(1),(0,D.Q)(oe.lazyContent._attached)).subscribe({next:()=>oe.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),oe?.lazyContent?.detach())}_initMenu(Q){Q.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,Q.direction=this.dir,this._setMenuElevation(Q),Q.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(Q){if(Q.setElevation){let oe=0,fe=Q.parentMenu;for(;fe;)oe++,fe=fe.parentMenu;Q.setElevation(oe)}}_setIsMenuOpen(Q){Q!==this._menuOpen&&(this._menuOpen=Q,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(Q),this._changeDetectorRef.markForCheck())}_createOverlay(Q){if(!this._overlayRef){const oe=this._getOverlayConfig(Q);this._subscribeToPositions(Q,oe.positionStrategy),this._overlayRef=this._overlay.create(oe),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(Q){return new ae.rR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:Q.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:Q.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(Q,oe){Q.setPositionClasses&&oe.positionChanges.subscribe(fe=>{const Ee="start"===fe.connectionPair.overlayX?"after":"before",Re="top"===fe.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>Q.setPositionClasses(Ee,Re)):Q.setPositionClasses(Ee,Re)})}_setPosition(Q,oe){let[fe,Ee]="before"===Q.xPosition?["end","start"]:["start","end"],[Re,$e]="above"===Q.yPosition?["bottom","top"]:["top","bottom"],[Fe,_t]=[Re,$e],[We,Le]=[fe,Ee],lt=0;if(this.triggersSubmenu()){if(Le=fe="before"===Q.xPosition?"start":"end",Ee=We="end"===fe?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const N=this._parentMaterialMenu.items.first;this._parentInnerPadding=N?N._getHostElement().offsetTop:0}lt="bottom"===Re?this._parentInnerPadding:-this._parentInnerPadding}}else Q.overlapTrigger||(Fe="top"===Re?"bottom":"top",_t="top"===$e?"bottom":"top");oe.withPositions([{originX:fe,originY:Fe,overlayX:We,overlayY:Re,offsetY:lt},{originX:Ee,originY:Fe,overlayX:Le,overlayY:Re,offsetY:lt},{originX:fe,originY:_t,overlayX:We,overlayY:$e,offsetY:-lt},{originX:Ee,originY:_t,overlayX:Le,overlayY:$e,offsetY:-lt}])}_menuClosingActions(){const Q=this._overlayRef.backdropClick(),oe=this._overlayRef.detachments(),fe=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,A.of)(),Ee=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,X.p)(Re=>Re!==this._menuItemInstance),(0,X.p)(()=>this._menuOpen)):(0,A.of)();return(0,x.h)(Q,fe,Ee,oe)}_handleMousedown(Q){(0,E._G)(Q)||(this._openedBy=0===Q.button?"mouse":void 0,this.triggersSubmenu()&&Q.preventDefault())}_handleKeydown(Q){const oe=Q.keyCode;(oe===k.Fm||oe===k.t6)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(oe===k.LE&&"ltr"===this.dir||oe===k.UQ&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(Q){this.triggersSubmenu()?(Q.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,X.p)(Q=>Q===this._menuItemInstance&&!Q.disabled),(0,G.c)(0,P.$)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof _e&&this.menu._isAnimating?this.menu._animationDone.pipe((0,j.s)(1),(0,G.c)(0,P.$),(0,D.Q)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(Q){return(!this._portal||this._portal.templateRef!==Q.templateRef)&&(this._portal=new J.VA(Q.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(oe){return new(oe||pe)(d.rXU(ae.hJ),d.rXU(d.aKT),d.rXU(d.c1b),d.rXU(Oe),d.rXU(f,8),d.rXU(y,10),d.rXU(ie.dS,8),d.rXU(E.FN),d.rXU(d.SKi))};static#t=this.\u0275dir=d.FsC({type:pe,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(oe,fe){1&oe&&d.bIt("click",function(Re){return fe._handleClick(Re)})("mousedown",function(Re){return fe._handleMousedown(Re)})("keydown",function(Re){return fe._handleKeydown(Re)}),2&oe&&d.BMQ("aria-haspopup",fe.menu?"menu":null)("aria-expanded",fe.menuOpen)("aria-controls",fe.menuOpen?fe.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return pe})(),De=(()=>{class pe{static#e=this.\u0275fac=function(oe){return new(oe||pe)};static#t=this.\u0275mod=d.$C({type:pe});static#n=this.\u0275inj=d.G2t({providers:[Se],imports:[re.MD,te.pZ,te.yE,ae.z_,de.Gj,te.yE]})}return pe})()},9183:(je,H,w)=>{"use strict";w.d(H,{D6:()=>X,LG:()=>L});var d=w(93953),E=w(60177),k=w(86600);const z=["determinateSpinner"];function x(j,G){if(1&j&&(d.qSk(),d.j41(0,"svg",11),d.nrm(1,"circle",12),d.k0s()),2&j){const re=d.XpG();d.BMQ("viewBox",re._viewBox()),d.R7$(),d.xc7("stroke-dasharray",re._strokeCircumference(),"px")("stroke-dashoffset",re._strokeCircumference()/2,"px")("stroke-width",re._circleStrokeWidth(),"%"),d.BMQ("r",re._circleRadius())}}const O=new d.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function A(){return{diameter:P}}}),P=100;let L=(()=>{class j{get color(){return this._color||this._defaultColor}set color(re){this._color=re}constructor(re,te,J){this._elementRef=re,this._defaultColor="primary",this._value=0,this._diameter=P,this._noopAnimations="NoopAnimations"===te&&!!J&&!J._forceAnimations,this.mode="mat-spinner"===re.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",J&&(J.color&&(this.color=this._defaultColor=J.color),J.diameter&&(this.diameter=J.diameter),J.strokeWidth&&(this.strokeWidth=J.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(re){this._value=Math.max(0,Math.min(100,re||0))}get diameter(){return this._diameter}set diameter(re){this._diameter=re||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(re){this._strokeWidth=re||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const re=2*this._circleRadius()+this.strokeWidth;return`0 0 ${re} ${re}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(te){return new(te||j)(d.rXU(d.aKT),d.rXU(d.bc$,8),d.rXU(O))};static#t=this.\u0275cmp=d.VBU({type:j,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(te,J){if(1&te&&d.GBs(z,5),2&te){let Z;d.mGM(Z=d.lsd())&&(J._determinateCircle=Z.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(te,J){2&te&&(d.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===J.mode?J.value:null)("mode",J.mode),d.HbH("mat-"+J.color),d.xc7("width",J.diameter,"px")("height",J.diameter,"px")("--mdc-circular-progress-size",J.diameter+"px")("--mdc-circular-progress-active-indicator-width",J.diameter+"px"),d.AVh("_mat-animation-noopable",J._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===J.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",d.Udg],diameter:[2,"diameter","diameter",d.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",d.Udg]},exportAs:["matProgressSpinner"],standalone:!0,features:[d.GFd,d.aNF],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(te,J){if(1&te&&(d.DNE(0,x,2,8,"ng-template",null,0,d.C5r),d.j41(2,"div",2,1),d.qSk(),d.j41(4,"svg",3),d.nrm(5,"circle",4),d.k0s()(),d.joV(),d.j41(6,"div",5)(7,"div",6)(8,"div",7),d.eu8(9,8),d.k0s(),d.j41(10,"div",9),d.eu8(11,8),d.k0s(),d.j41(12,"div",10),d.eu8(13,8),d.k0s()()()),2&te){const Z=d.sdS(1);d.R7$(4),d.BMQ("viewBox",J._viewBox()),d.R7$(),d.xc7("stroke-dasharray",J._strokeCircumference(),"px")("stroke-dashoffset",J._strokeDashOffset(),"px")("stroke-width",J._circleStrokeWidth(),"%"),d.BMQ("r",J._circleRadius()),d.R7$(4),d.Y8G("ngTemplateOutlet",Z),d.R7$(2),d.Y8G("ngTemplateOutlet",Z),d.R7$(2),d.Y8G("ngTemplateOutlet",Z)}},dependencies:[E.T3],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return j})(),X=(()=>{class j{static#e=this.\u0275fac=function(te){return new(te||j)};static#t=this.\u0275mod=d.$C({type:j});static#n=this.\u0275inj=d.G2t({imports:[E.MD,k.yE]})}return j})()},5951:(je,H,w)=>{"use strict";w.d(H,{Wk:()=>Z});var d=w(18617),E=w(45024),k=w(93953),x=(w(89417),w(86600)),O=w(60177);const A=["input"],P=["formField"],F=["*"];let L=0;class D{constructor(ae,se){this.source=ae,this.value=se}}const j=new k.nKC("MatRadioGroup"),G=new k.nKC("mat-radio-default-options",{providedIn:"root",factory:function re(){return{color:"accent"}}});let J=(()=>{class ie{get checked(){return this._checked}set checked(se){this._checked!==se&&(this._checked=se,se&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!se&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),se&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(se){this._value!==se&&(this._value=se,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===se),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(se){this._labelPosition=se}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(se){this._setDisabled(se)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(se){this._required=se}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(se){this._color=se}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(se,de,le,be,xe,ke,C,a){this._elementRef=de,this._changeDetector=le,this._focusMonitor=be,this._radioDispatcher=xe,this._providerOverride=C,this._uniqueId="mat-radio-"+ ++L,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new k.bkB,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=(0,k.WQX)(k.zZn),this.radioGroup=se,this._noopAnimations="NoopAnimations"===ke,a&&(this.tabIndex=(0,k.Udg)(a,0))}focus(se,de){de?this._focusMonitor.focusVia(this._inputElement,de,se):this._inputElement.nativeElement.focus(se)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((se,de)=>{se!==this.id&&de===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(se=>{!se&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new D(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(se){se.stopPropagation()}_onInputInteraction(se){if(se.stopPropagation(),!this.checked&&!this.disabled){const de=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),de&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(se){this._onInputInteraction(se),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(se){this._disabled!==se&&(this._disabled=se,this._changeDetector.markForCheck())}_updateTabIndex(){const se=this.radioGroup;let de;if(de=se&&se.selected&&!this.disabled?se.selected===this?this.tabIndex:-1:this.tabIndex,de!==this._previousTabIndex){const le=this._inputElement?.nativeElement;le&&(le.setAttribute("tabindex",de+""),this._previousTabIndex=de,(0,k.mal)(()=>{queueMicrotask(()=>{se&&se.selected&&se.selected!==this&&document.activeElement===le&&(se.selected?._inputElement.nativeElement.focus(),document.activeElement===le&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static#e=this.\u0275fac=function(de){return new(de||ie)(k.rXU(j,8),k.rXU(k.aKT),k.rXU(k.gRc),k.rXU(d.FN),k.rXU(E.zP),k.rXU(k.bc$,8),k.rXU(G,8),k.kS0("tabindex"))};static#t=this.\u0275cmp=k.VBU({type:ie,selectors:[["mat-radio-button"]],viewQuery:function(de,le){if(1&de&&(k.GBs(A,5),k.GBs(P,7,k.aKT)),2&de){let be;k.mGM(be=k.lsd())&&(le._inputElement=be.first),k.mGM(be=k.lsd())&&(le._rippleTrigger=be.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(de,le){1&de&&k.bIt("focus",function(){return le._inputElement.nativeElement.focus()}),2&de&&(k.BMQ("id",le.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),k.AVh("mat-primary","primary"===le.color)("mat-accent","accent"===le.color)("mat-warn","warn"===le.color)("mat-mdc-radio-checked",le.checked)("_mat-animation-noopable",le._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",k.L39],tabIndex:[2,"tabIndex","tabIndex",se=>null==se?0:(0,k.Udg)(se)],checked:[2,"checked","checked",k.L39],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",k.L39],required:[2,"required","required",k.L39],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[k.GFd,k.aNF],ngContentSelectors:F,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(de,le){if(1&de){const be=k.RV6();k.NAR(),k.j41(0,"div",2,0)(2,"div",3)(3,"div",4),k.bIt("click",function(ke){return k.eBV(be),k.Njj(le._onTouchTargetClick(ke))}),k.k0s(),k.j41(4,"input",5,1),k.bIt("change",function(ke){return k.eBV(be),k.Njj(le._onInputInteraction(ke))}),k.k0s(),k.j41(6,"div",6),k.nrm(7,"div",7)(8,"div",8),k.k0s(),k.j41(9,"div",9),k.nrm(10,"div",10),k.k0s()(),k.j41(11,"label",11),k.SdG(12),k.k0s()()}2&de&&(k.Y8G("labelPosition",le.labelPosition),k.R7$(2),k.AVh("mdc-radio--disabled",le.disabled),k.R7$(2),k.Y8G("id",le.inputId)("checked",le.checked)("disabled",le.disabled)("required",le.required),k.BMQ("name",le.name)("value",le.value)("aria-label",le.ariaLabel)("aria-labelledby",le.ariaLabelledby)("aria-describedby",le.ariaDescribedby),k.R7$(5),k.Y8G("matRippleTrigger",le._rippleTrigger.nativeElement)("matRippleDisabled",le._isRippleDisabled())("matRippleCentered",!0),k.R7$(2),k.Y8G("for",le.inputId))},dependencies:[x.r6,x.tO],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color);opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color);opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio--disabled{cursor:default;pointer-events:none}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color);font-family:var(--mat-radio-label-text-font);line-height:var(--mat-radio-label-text-line-height);font-size:var(--mat-radio-label-text-size);letter-spacing:var(--mat-radio-label-text-tracking);font-weight:var(--mat-radio-label-text-weight)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return ie})(),Z=(()=>{class ie{static#e=this.\u0275fac=function(de){return new(de||ie)};static#t=this.\u0275mod=k.$C({type:ie});static#n=this.\u0275inj=k.G2t({imports:[x.yE,O.MD,x.pZ,J,x.yE]})}return ie})()},82798:(je,H,w)=>{"use strict";w.d(H,{$2:()=>Ve,VO:()=>Oe,Ve:()=>Se});var d=w(66969),E=w(60177),k=w(93953),z=w(86600),x=w(53719),O=w(67333),A=w(18617),P=w(28203),F=w(45024),L=w(67336),D=w(89417),X=w(21413),j=w(59030),G=w(57786),re=w(99172),te=w(25558),J=w(5964),Z=w(96354),ie=w(23294),ae=w(56977),se=w(96697),de=w(49969);const le=["trigger"],be=["panel"],xe=[[["mat-select-trigger"]],"*"],ke=["mat-select-trigger","*"];function C(we,Ue){if(1&we&&(k.j41(0,"span",4),k.EFF(1),k.k0s()),2&we){const ye=k.XpG();k.R7$(),k.JRh(ye.placeholder)}}function a(we,Ue){1&we&&k.SdG(0)}function f(we,Ue){if(1&we&&(k.j41(0,"span",11),k.EFF(1),k.k0s()),2&we){const ye=k.XpG(2);k.R7$(),k.JRh(ye.triggerValue)}}function y(we,Ue){if(1&we&&(k.j41(0,"span",5),k.DNE(1,a,1,0)(2,f,2,1,"span",11),k.k0s()),2&we){const ye=k.XpG();k.R7$(),k.vxM(ye.customTrigger?1:2)}}function g(we,Ue){if(1&we){const ye=k.RV6();k.j41(0,"div",12,1),k.bIt("@transformPanel.done",function(pe){k.eBV(ye);const ue=k.XpG();return k.Njj(ue._panelDoneAnimatingStream.next(pe.toState))})("keydown",function(pe){k.eBV(ye);const ue=k.XpG();return k.Njj(ue._handleKeydown(pe))}),k.SdG(2,1),k.k0s()}if(2&we){const ye=k.XpG();k.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",ye._getPanelTheme(),""),k.Y8G("ngClass",ye.panelClass)("@transformPanel","showing"),k.BMQ("id",ye.id+"-panel")("aria-multiselectable",ye.multiple)("aria-label",ye.ariaLabel||null)("aria-labelledby",ye._getPanelAriaLabelledby())}}const M={transformPanelWrap:(0,de.hZ)("transformPanelWrap",[(0,de.kY)("* => void",(0,de.P)("@transformPanel",[(0,de.MA)()],{optional:!0}))]),transformPanel:(0,de.hZ)("transformPanel",[(0,de.wk)("void",(0,de.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,de.kY)("void => showing",(0,de.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,de.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,de.kY)("* => void",(0,de.i0)("100ms linear",(0,de.iF)({opacity:0})))])};let s=0;const v=new k.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const we=(0,k.WQX)(d.hJ);return()=>we.scrollStrategies.reposition()}}),K=new k.nKC("MAT_SELECT_CONFIG"),ee={provide:v,deps:[d.hJ],useFactory:function W(we){return()=>we.scrollStrategies.reposition()}},ce=new k.nKC("MatSelectTrigger");class _e{constructor(Ue,ye){this.source=Ue,this.value=ye}}let Oe=(()=>{class we{_scrollOptionIntoView(ye){const De=this.options.toArray()[ye];if(De){const pe=this.panel.nativeElement,ue=(0,z.jb)(ye,this.options,this.optionGroups),Q=De._getHostElement();pe.scrollTop=0===ye&&1===ue?0:(0,z.TL)(Q.offsetTop,Q.offsetHeight,pe.scrollTop,pe.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(ye){return new _e(this,ye)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(ye){this._hideSingleSelectionIndicator=ye,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(ye){this._placeholder=ye,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(D.k0.required)??!1}set required(ye){this._required=ye,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(ye){this._multiple=ye}get compareWith(){return this._compareWith}set compareWith(ye){this._compareWith=ye,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(ye){this._assignValue(ye)&&this._onChange(ye)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(ye){this._errorStateTracker.matcher=ye}get id(){return this._id}set id(ye){this._id=ye||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(ye){this._errorStateTracker.errorState=ye}constructor(ye,De,pe,ue,Q,oe,fe,Ee,Re,$e,Fe,_t,We,Le){this._viewportRuler=ye,this._changeDetectorRef=De,this._elementRef=Q,this._dir=oe,this._parentFormField=Re,this.ngControl=$e,this._liveAnnouncer=We,this._defaultOptions=Le,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(lt,N)=>lt===N,this._uid="mat-select-"+s++,this._triggerAriaLabelledBy=null,this._destroy=new X.B,this.stateChanges=new X.B,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+s++,this._panelDoneAnimatingStream=new X.B,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new X.B,this.optionSelectionChanges=(0,j.v)(()=>{const lt=this.options;return lt?lt.changes.pipe((0,re.Z)(lt),(0,te.n)(()=>(0,G.h)(...lt.map(N=>N.onSelectionChange)))):this._initialized.pipe((0,te.n)(()=>this.optionSelectionChanges))}),this.openedChange=new k.bkB,this._openedStream=this.openedChange.pipe((0,J.p)(lt=>lt),(0,Z.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,J.p)(lt=>!lt),(0,Z.T)(()=>{})),this.selectionChange=new k.bkB,this.valueChange=new k.bkB,this._trackedModal=null,this._skipPredicate=lt=>!this.panelOpen&&lt.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Le?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=Le.typeaheadDebounceInterval),this._errorStateTracker=new z.X0(ue,$e,Ee,fe,this.stateChanges),this._scrollStrategyFactory=_t,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Fe)||0,this.id=this.id}ngOnInit(){this._selectionModel=new F.CB(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,ie.F)(),(0,ae.Q)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe((0,ae.Q)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe((0,ae.Q)(this._destroy)).subscribe(ye=>{ye.added.forEach(De=>De.select()),ye.removed.forEach(De=>De.deselect())}),this.options.changes.pipe((0,re.Z)(null),(0,ae.Q)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const ye=this._getTriggerAriaLabelledby(),De=this.ngControl;if(ye!==this._triggerAriaLabelledBy){const pe=this._elementRef.nativeElement;this._triggerAriaLabelledBy=ye,ye?pe.setAttribute("aria-labelledby",ye):pe.removeAttribute("aria-labelledby")}De&&(this._previousControl!==De.control&&(void 0!==this._previousControl&&null!==De.disabled&&De.disabled!==this.disabled&&(this.disabled=De.disabled),this._previousControl=De.control),this.updateErrorState())}ngOnChanges(ye){(ye.disabled||ye.userAriaDescribedBy)&&this.stateChanges.next(),ye.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const ye=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!ye)return;const De=`${this.id}-panel`;this._trackedModal&&(0,A.Ae)(this._trackedModal,"aria-owns",De),(0,A.px)(ye,"aria-owns",De),this._trackedModal=ye}_clearFromModal(){this._trackedModal&&((0,A.Ae)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(ye){this._assignValue(ye)}registerOnChange(ye){this._onChange=ye}registerOnTouched(ye){this._onTouched=ye}setDisabledState(ye){this.disabled=ye,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const ye=this._selectionModel.selected.map(De=>De.viewValue);return this._isRtl()&&ye.reverse(),ye.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(ye){this.disabled||(this.panelOpen?this._handleOpenKeydown(ye):this._handleClosedKeydown(ye))}_handleClosedKeydown(ye){const De=ye.keyCode,pe=De===L.n6||De===L.i7||De===L.UQ||De===L.LE,ue=De===L.Fm||De===L.t6,Q=this._keyManager;if(!Q.isTyping()&&ue&&!(0,L.rp)(ye)||(this.multiple||ye.altKey)&&pe)ye.preventDefault(),this.open();else if(!this.multiple){const oe=this.selected;Q.onKeydown(ye);const fe=this.selected;fe&&oe!==fe&&this._liveAnnouncer.announce(fe.viewValue,1e4)}}_handleOpenKeydown(ye){const De=this._keyManager,pe=ye.keyCode,ue=pe===L.n6||pe===L.i7,Q=De.isTyping();if(ue&&ye.altKey)ye.preventDefault(),this.close();else if(Q||pe!==L.Fm&&pe!==L.t6||!De.activeItem||(0,L.rp)(ye))if(!Q&&this._multiple&&pe===L.A&&ye.ctrlKey){ye.preventDefault();const oe=this.options.some(fe=>!fe.disabled&&!fe.selected);this.options.forEach(fe=>{fe.disabled||(oe?fe.select():fe.deselect())})}else{const oe=De.activeItemIndex;De.onKeydown(ye),this._multiple&&ue&&ye.shiftKey&&De.activeItem&&De.activeItemIndex!==oe&&De.activeItem._selectViaInteraction()}else ye.preventDefault(),De.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,se.s)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(ye){if(this.options.forEach(De=>De.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&ye)Array.isArray(ye),ye.forEach(De=>this._selectOptionByValue(De)),this._sortValues();else{const De=this._selectOptionByValue(ye);De?this._keyManager.updateActiveItem(De):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(ye){const De=this.options.find(pe=>{if(this._selectionModel.isSelected(pe))return!1;try{return null!=pe.value&&this._compareWith(pe.value,ye)}catch{return!1}});return De&&this._selectionModel.select(De),De}_assignValue(ye){return!!(ye!==this._value||this._multiple&&Array.isArray(ye))&&(this.options&&this._setSelectionByValue(ye),this._value=ye,!0)}_getOverlayWidth(ye){return"auto"===this.panelWidth?(ye instanceof d.$Q?ye.elementRef:ye||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const ye of this.options)ye._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new A.Au(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const ye=(0,G.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,ae.Q)(ye)).subscribe(De=>{this._onSelect(De.source,De.isUserInput),De.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,G.h)(...this.options.map(De=>De._stateChanges)).pipe((0,ae.Q)(ye)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(ye,De){const pe=this._selectionModel.isSelected(ye);null!=ye.value||this._multiple?(pe!==ye.selected&&(ye.selected?this._selectionModel.select(ye):this._selectionModel.deselect(ye)),De&&this._keyManager.setActiveItem(ye),this.multiple&&(this._sortValues(),De&&this.focus())):(ye.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(ye.value)),pe!==this._selectionModel.isSelected(ye)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const ye=this.options.toArray();this._selectionModel.sort((De,pe)=>this.sortComparator?this.sortComparator(De,pe,ye):ye.indexOf(De)-ye.indexOf(pe)),this.stateChanges.next()}}_propagateChanges(ye){let De;De=this.multiple?this.selected.map(pe=>pe.value):this.selected?this.selected.value:ye,this._value=De,this.valueChange.emit(De),this._onChange(De),this.selectionChange.emit(this._getChangeEvent(De)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let ye=-1;for(let De=0;De<this.options.length;De++)if(!this.options.get(De).disabled){ye=De;break}this._keyManager.setActiveItem(ye)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(ye){this._elementRef.nativeElement.focus(ye)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const ye=this._parentFormField?.getLabelId();return this.ariaLabelledby?(ye?ye+" ":"")+this.ariaLabelledby:ye}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const ye=this._parentFormField?.getLabelId();let De=(ye?ye+" ":"")+this._valueId;return this.ariaLabelledby&&(De+=" "+this.ariaLabelledby),De}_panelDoneAnimating(ye){this.openedChange.emit(ye)}setDescribedByIds(ye){ye.length?this._elementRef.nativeElement.setAttribute("aria-describedby",ye.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(De){return new(De||we)(k.rXU(O.Xj),k.rXU(k.gRc),k.rXU(k.SKi),k.rXU(z.es),k.rXU(k.aKT),k.rXU(P.dS,8),k.rXU(D.cV,8),k.rXU(D.j4,8),k.rXU(x.xb,8),k.rXU(D.vO,10),k.kS0("tabindex"),k.rXU(v),k.rXU(A.Ai),k.rXU(K,8))};static#t=this.\u0275cmp=k.VBU({type:we,selectors:[["mat-select"]],contentQueries:function(De,pe,ue){if(1&De&&(k.wni(ue,ce,5),k.wni(ue,z.wT,5),k.wni(ue,z.QC,5)),2&De){let Q;k.mGM(Q=k.lsd())&&(pe.customTrigger=Q.first),k.mGM(Q=k.lsd())&&(pe.options=Q),k.mGM(Q=k.lsd())&&(pe.optionGroups=Q)}},viewQuery:function(De,pe){if(1&De&&(k.GBs(le,5),k.GBs(be,5),k.GBs(d.WB,5)),2&De){let ue;k.mGM(ue=k.lsd())&&(pe.trigger=ue.first),k.mGM(ue=k.lsd())&&(pe.panel=ue.first),k.mGM(ue=k.lsd())&&(pe._overlayDir=ue.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(De,pe){1&De&&k.bIt("keydown",function(Q){return pe._handleKeydown(Q)})("focus",function(){return pe._onFocus()})("blur",function(){return pe._onBlur()}),2&De&&(k.BMQ("id",pe.id)("tabindex",pe.disabled?-1:pe.tabIndex)("aria-controls",pe.panelOpen?pe.id+"-panel":null)("aria-expanded",pe.panelOpen)("aria-label",pe.ariaLabel||null)("aria-required",pe.required.toString())("aria-disabled",pe.disabled.toString())("aria-invalid",pe.errorState)("aria-activedescendant",pe._getAriaActiveDescendant()),k.AVh("mat-mdc-select-disabled",pe.disabled)("mat-mdc-select-invalid",pe.errorState)("mat-mdc-select-required",pe.required)("mat-mdc-select-empty",pe.empty)("mat-mdc-select-multiple",pe.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",k.L39],disableRipple:[2,"disableRipple","disableRipple",k.L39],tabIndex:[2,"tabIndex","tabIndex",ye=>null==ye?0:(0,k.Udg)(ye)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",k.L39],placeholder:"placeholder",required:[2,"required","required",k.L39],multiple:[2,"multiple","multiple",k.L39],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",k.L39],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",k.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[k.Jv_([{provide:x.qT,useExisting:we},{provide:z.is,useExisting:we}]),k.GFd,k.OA$,k.aNF],ngContentSelectors:ke,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(De,pe){if(1&De){const ue=k.RV6();k.NAR(xe),k.j41(0,"div",2,0),k.bIt("click",function(){return k.eBV(ue),k.Njj(pe.open())}),k.j41(3,"div",3),k.DNE(4,C,2,1,"span",4)(5,y,3,1,"span",5),k.k0s(),k.j41(6,"div",6)(7,"div",7),k.qSk(),k.j41(8,"svg",8),k.nrm(9,"path",9),k.k0s()()()(),k.DNE(10,g,3,9,"ng-template",10),k.bIt("backdropClick",function(){return k.eBV(ue),k.Njj(pe.close())})("attach",function(){return k.eBV(ue),k.Njj(pe._onAttached())})("detach",function(){return k.eBV(ue),k.Njj(pe.close())})}if(2&De){const ue=k.sdS(1);k.R7$(3),k.BMQ("id",pe._valueId),k.R7$(),k.vxM(pe.empty?4:5),k.R7$(6),k.Y8G("cdkConnectedOverlayPanelClass",pe._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",pe._scrollStrategy)("cdkConnectedOverlayOrigin",pe._preferredOverlayOrigin||ue)("cdkConnectedOverlayOpen",pe.panelOpen)("cdkConnectedOverlayPositions",pe._positions)("cdkConnectedOverlayWidth",pe._overlayWidth)}},dependencies:[d.$Q,d.WB,E.YU],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[M.transformPanel]},changeDetection:0})}return we})(),Ve=(()=>{class we{static#e=this.\u0275fac=function(De){return new(De||we)};static#t=this.\u0275dir=k.FsC({type:we,selectors:[["mat-select-trigger"]],standalone:!0,features:[k.Jv_([{provide:ce,useExisting:we}])]})}return we})(),Se=(()=>{class we{static#e=this.\u0275fac=function(De){return new(De||we)};static#t=this.\u0275mod=k.$C({type:we});static#n=this.\u0275inj=k.G2t({providers:[ee],imports:[E.MD,d.z_,z.Sy,z.yE,O.Gj,x.RG,z.Sy,z.yE]})}return we})()},95416:(je,H,w)=>{"use strict";w.d(H,{UG:()=>a});var d=w(93953),E=w(88834),k=w(21413),z=w(60177),x=w(49969),O=w(76939),A=w(36860),P=w(18617),F=w(99327),L=w(66969),D=w(56977);function X(g,M){if(1&g){const T=d.RV6();d.j41(0,"div",1)(1,"button",2),d.bIt("click",function(){d.eBV(T);const S=d.XpG();return d.Njj(S.action())}),d.EFF(2),d.k0s()()}if(2&g){const T=d.XpG();d.R7$(2),d.SpI(" ",T.data.action," ")}}const j=["label"];function G(g,M){}const re=Math.pow(2,31)-1;class te{constructor(M,T){this._overlayRef=T,this._afterDismissed=new k.B,this._afterOpened=new k.B,this._onAction=new k.B,this._dismissedByAction=!1,this.containerInstance=M,M._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(M){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(M,re))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const J=new d.nKC("MatSnackBarData");class Z{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let ie=(()=>{class g{static#e=this.\u0275fac=function(B){return new(B||g)};static#t=this.\u0275dir=d.FsC({type:g,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return g})(),ae=(()=>{class g{static#e=this.\u0275fac=function(B){return new(B||g)};static#t=this.\u0275dir=d.FsC({type:g,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return g})(),se=(()=>{class g{static#e=this.\u0275fac=function(B){return new(B||g)};static#t=this.\u0275dir=d.FsC({type:g,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return g})(),de=(()=>{class g{constructor(T,B){this.snackBarRef=T,this.data=B}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(B){return new(B||g)(d.rXU(te),d.rXU(J))};static#t=this.\u0275cmp=d.VBU({type:g,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[d.aNF],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(B,S){1&B&&(d.j41(0,"div",0),d.EFF(1),d.k0s(),d.DNE(2,X,3,1,"div",1)),2&B&&(d.R7$(),d.SpI(" ",S.data.message,"\n"),d.R7$(),d.vxM(S.hasAction?2:-1))},dependencies:[E.$z,ie,ae,se],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return g})();const le={snackBarState:(0,x.hZ)("state",[(0,x.wk)("void, hidden",(0,x.iF)({transform:"scale(0.8)",opacity:0})),(0,x.wk)("visible",(0,x.iF)({transform:"scale(1)",opacity:1})),(0,x.kY)("* => visible",(0,x.i0)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,x.kY)("* => void, * => hidden",(0,x.i0)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,x.iF)({opacity:0})))])};let be=0,xe=(()=>{class g extends O.lb{constructor(T,B,S,s,v){super(),this._ngZone=T,this._elementRef=B,this._changeDetectorRef=S,this._platform=s,this.snackBarConfig=v,this._document=(0,d.WQX)(z.qQ),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new k.B,this._onExit=new k.B,this._onEnter=new k.B,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+be++,this.attachDomPortal=W=>{this._assertNotAttached();const K=this._portalOutlet.attachDomPortal(W);return this._afterPortalAttached(),K},this._live="assertive"!==v.politeness||v.announcementMessage?"off"===v.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(T){this._assertNotAttached();const B=this._portalOutlet.attachComponentPortal(T);return this._afterPortalAttached(),B}attachTemplatePortal(T){this._assertNotAttached();const B=this._portalOutlet.attachTemplatePortal(T);return this._afterPortalAttached(),B}onAnimationEnd(T){const{fromState:B,toState:S}=T;if(("void"===S&&"void"!==B||"hidden"===S)&&this._completeExit(),"visible"===S){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const T=this._elementRef.nativeElement,B=this.snackBarConfig.panelClass;B&&(Array.isArray(B)?B.forEach(v=>T.classList.add(v)):T.classList.add(B)),this._exposeToModals();const S=this._label.nativeElement,s="mdc-snackbar__label";S.classList.toggle(s,!S.querySelector(`.${s}`))}_exposeToModals(){const T=this._liveElementId,B=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let S=0;S<B.length;S++){const s=B[S],v=s.getAttribute("aria-owns");this._trackedModals.add(s),v?-1===v.indexOf(T)&&s.setAttribute("aria-owns",v+" "+T):s.setAttribute("aria-owns",T)}}_clearFromModals(){this._trackedModals.forEach(T=>{const B=T.getAttribute("aria-owns");if(B){const S=B.replace(this._liveElementId,"").trim();S.length>0?T.setAttribute("aria-owns",S):T.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const T=this._elementRef.nativeElement.querySelector("[aria-hidden]"),B=this._elementRef.nativeElement.querySelector("[aria-live]");if(T&&B){let S=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&T.contains(document.activeElement)&&(S=document.activeElement),T.removeAttribute("aria-hidden"),B.appendChild(T),S?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(B){return new(B||g)(d.rXU(d.SKi),d.rXU(d.aKT),d.rXU(d.gRc),d.rXU(A.OD),d.rXU(Z))};static#t=this.\u0275cmp=d.VBU({type:g,selectors:[["mat-snack-bar-container"]],viewQuery:function(B,S){if(1&B&&(d.GBs(O.I3,7),d.GBs(j,7)),2&B){let s;d.mGM(s=d.lsd())&&(S._portalOutlet=s.first),d.mGM(s=d.lsd())&&(S._label=s.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(B,S){1&B&&d.Kam("@state.done",function(v){return S.onAnimationEnd(v)}),2&B&&d.zvX("@state",S._animationState)},standalone:!0,features:[d.Vt3,d.aNF],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(B,S){1&B&&(d.j41(0,"div",1)(1,"div",2,0)(3,"div",3),d.DNE(4,G,0,0,"ng-template",4),d.k0s(),d.nrm(5,"div"),d.k0s()()),2&B&&(d.R7$(5),d.BMQ("aria-live",S._live)("role",S._role)("id",S._liveElementId))},dependencies:[O.I3],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color);border-radius:var(--mdc-snackbar-container-shape);background-color:var(--mdc-snackbar-container-color)}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font);font-size:var(--mdc-snackbar-supporting-text-size);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[le.snackBarState]}})}return g})();const C=new d.nKC("mat-snack-bar-default-options",{providedIn:"root",factory:function ke(){return new Z}});let a=(()=>{class g{get _openedSnackBarRef(){const T=this._parentSnackBar;return T?T._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(T){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=T:this._snackBarRefAtThisLevel=T}constructor(T,B,S,s,v,W){this._overlay=T,this._live=B,this._injector=S,this._breakpointObserver=s,this._parentSnackBar=v,this._defaultConfig=W,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=de,this.snackBarContainerComponent=xe,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(T,B){return this._attach(T,B)}openFromTemplate(T,B){return this._attach(T,B)}open(T,B="",S){const s={...this._defaultConfig,...S};return s.data={message:T,action:B},s.announcementMessage===T&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(T,B){const s=d.zZn.create({parent:B&&B.viewContainerRef&&B.viewContainerRef.injector||this._injector,providers:[{provide:Z,useValue:B}]}),v=new O.A8(this.snackBarContainerComponent,B.viewContainerRef,s),W=T.attach(v);return W.instance.snackBarConfig=B,W.instance}_attach(T,B){const S={...new Z,...this._defaultConfig,...B},s=this._createOverlay(S),v=this._attachSnackBarContainer(s,S),W=new te(v,s);if(T instanceof d.C4Q){const K=new O.VA(T,null,{$implicit:S.data,snackBarRef:W});W.instance=v.attachTemplatePortal(K)}else{const K=this._createInjector(S,W),ee=new O.A8(T,void 0,K),ce=v.attachComponentPortal(ee);W.instance=ce.instance}return this._breakpointObserver.observe(F.Rp.HandsetPortrait).pipe((0,D.Q)(s.detachments())).subscribe(K=>{s.overlayElement.classList.toggle(this.handsetCssClass,K.matches)}),S.announcementMessage&&v._onAnnounce.subscribe(()=>{this._live.announce(S.announcementMessage,S.politeness)}),this._animateSnackBar(W,S),this._openedSnackBarRef=W,this._openedSnackBarRef}_animateSnackBar(T,B){T.afterDismissed().subscribe(()=>{this._openedSnackBarRef==T&&(this._openedSnackBarRef=null),B.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{T.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):T.containerInstance.enter(),B.duration&&B.duration>0&&T.afterOpened().subscribe(()=>T._dismissAfter(B.duration))}_createOverlay(T){const B=new L.rR;B.direction=T.direction;let S=this._overlay.position().global();const s="rtl"===T.direction,v="left"===T.horizontalPosition||"start"===T.horizontalPosition&&!s||"end"===T.horizontalPosition&&s,W=!v&&"center"!==T.horizontalPosition;return v?S.left("0"):W?S.right("0"):S.centerHorizontally(),"top"===T.verticalPosition?S.top("0"):S.bottom("0"),B.positionStrategy=S,this._overlay.create(B)}_createInjector(T,B){return d.zZn.create({parent:T&&T.viewContainerRef&&T.viewContainerRef.injector||this._injector,providers:[{provide:te,useValue:B},{provide:J,useValue:T.data}]})}static#e=this.\u0275fac=function(B){return new(B||g)(d.KVO(L.hJ),d.KVO(P.Ai),d.KVO(d.zZn),d.KVO(F.QP),d.KVO(g,12),d.KVO(C))};static#t=this.\u0275prov=d.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},2042:(je,H,w)=>{"use strict";w.d(H,{B4:()=>J,NQ:()=>xe,aE:()=>be});var d=w(93953),E=w(18617),k=w(67336),z=w(92771),x=w(21413),O=w(57786),A=w(49969),P=w(86600);const F=["mat-sort-header",""],L=["*"];function D(ke,C){if(1&ke){const a=d.RV6();d.j41(0,"div",2),d.bIt("@arrowPosition.start",function(){d.eBV(a);const y=d.XpG();return d.Njj(y._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){d.eBV(a);const y=d.XpG();return d.Njj(y._disableViewStateAnimation=!1)}),d.nrm(1,"div",3),d.j41(2,"div",4),d.nrm(3,"div",5)(4,"div",6)(5,"div",7),d.k0s()()}if(2&ke){const a=d.XpG();d.Y8G("@arrowOpacity",a._getArrowViewState())("@arrowPosition",a._getArrowViewState())("@allowChildren",a._getArrowDirectionState()),d.R7$(2),d.Y8G("@indicator",a._getArrowDirectionState()),d.R7$(),d.Y8G("@leftPointer",a._getArrowDirectionState()),d.R7$(),d.Y8G("@rightPointer",a._getArrowDirectionState())}}const te=new d.nKC("MAT_SORT_DEFAULT_OPTIONS");let J=(()=>{class ke{get direction(){return this._direction}set direction(a){this._direction=a}constructor(a){this._defaultOptions=a,this._initializedStream=new z.m(1),this.sortables=new Map,this._stateChanges=new x.B,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new d.bkB,this.initialized=this._initializedStream}register(a){this.sortables.set(a.id,a)}deregister(a){this.sortables.delete(a.id)}sort(a){this.active!=a.id?(this.active=a.id,this.direction=a.start?a.start:this.start):this.direction=this.getNextSortDirection(a),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(a){if(!a)return"";let y=function Z(ke,C){let a=["asc","desc"];return"desc"==ke&&a.reverse(),C||a.push(""),a}(a.start||this.start,a?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),g=y.indexOf(this.direction)+1;return g>=y.length&&(g=0),y[g]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static#e=this.\u0275fac=function(f){return new(f||ke)(d.rXU(te,8))};static#t=this.\u0275dir=d.FsC({type:ke,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",d.L39],disabled:[2,"matSortDisabled","disabled",d.L39]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[d.GFd,d.OA$]})}return ke})();const ie=P.ed.ENTERING+" "+P.r5.STANDARD_CURVE,ae={indicator:(0,A.hZ)("indicator",[(0,A.wk)("active-asc, asc",(0,A.iF)({transform:"translateY(0px)"})),(0,A.wk)("active-desc, desc",(0,A.iF)({transform:"translateY(10px)"})),(0,A.kY)("active-asc <=> active-desc",(0,A.i0)(ie))]),leftPointer:(0,A.hZ)("leftPointer",[(0,A.wk)("active-asc, asc",(0,A.iF)({transform:"rotate(-45deg)"})),(0,A.wk)("active-desc, desc",(0,A.iF)({transform:"rotate(45deg)"})),(0,A.kY)("active-asc <=> active-desc",(0,A.i0)(ie))]),rightPointer:(0,A.hZ)("rightPointer",[(0,A.wk)("active-asc, asc",(0,A.iF)({transform:"rotate(45deg)"})),(0,A.wk)("active-desc, desc",(0,A.iF)({transform:"rotate(-45deg)"})),(0,A.kY)("active-asc <=> active-desc",(0,A.i0)(ie))]),arrowOpacity:(0,A.hZ)("arrowOpacity",[(0,A.wk)("desc-to-active, asc-to-active, active",(0,A.iF)({opacity:1})),(0,A.wk)("desc-to-hint, asc-to-hint, hint",(0,A.iF)({opacity:.54})),(0,A.wk)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,A.iF)({opacity:0})),(0,A.kY)("* => asc, * => desc, * => active, * => hint, * => void",(0,A.i0)("0ms")),(0,A.kY)("* <=> *",(0,A.i0)(ie))]),arrowPosition:(0,A.hZ)("arrowPosition",[(0,A.kY)("* => desc-to-hint, * => desc-to-active",(0,A.i0)(ie,(0,A.i7)([(0,A.iF)({transform:"translateY(-25%)"}),(0,A.iF)({transform:"translateY(0)"})]))),(0,A.kY)("* => hint-to-desc, * => active-to-desc",(0,A.i0)(ie,(0,A.i7)([(0,A.iF)({transform:"translateY(0)"}),(0,A.iF)({transform:"translateY(25%)"})]))),(0,A.kY)("* => asc-to-hint, * => asc-to-active",(0,A.i0)(ie,(0,A.i7)([(0,A.iF)({transform:"translateY(25%)"}),(0,A.iF)({transform:"translateY(0)"})]))),(0,A.kY)("* => hint-to-asc, * => active-to-asc",(0,A.i0)(ie,(0,A.i7)([(0,A.iF)({transform:"translateY(0)"}),(0,A.iF)({transform:"translateY(-25%)"})]))),(0,A.wk)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,A.iF)({transform:"translateY(0)"})),(0,A.wk)("hint-to-desc, active-to-desc, desc",(0,A.iF)({transform:"translateY(-25%)"})),(0,A.wk)("hint-to-asc, active-to-asc, asc",(0,A.iF)({transform:"translateY(25%)"}))]),allowChildren:(0,A.hZ)("allowChildren",[(0,A.kY)("* <=> *",[(0,A.P)("@*",(0,A.MA)(),{optional:!0})])])};let se=(()=>{class ke{constructor(){this.changes=new x.B}static#e=this.\u0275fac=function(f){return new(f||ke)};static#t=this.\u0275prov=d.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}return ke})();const le={provide:se,deps:[[new d.Xx1,new d.kdw,se]],useFactory:function de(ke){return ke||new se}};let be=(()=>{class ke{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(a){this._updateSortActionDescription(a)}constructor(a,f,y,g,M,T,B,S){this._intl=a,this._changeDetectorRef=f,this._sort=y,this._columnDef=g,this._focusMonitor=M,this._elementRef=T,this._ariaDescriber=B,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this.disabled=!1,this._sortActionDescription="Sort",S?.arrowPosition&&(this.arrowPosition=S?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(a=>{const f=!!a;f!==this._showIndicatorHint&&(this._setIndicatorHintVisible(f),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_setIndicatorHintVisible(a){this._isDisabled()&&a||(this._showIndicatorHint=a,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(a){this._viewState=a||{},this._disableViewStateAnimation&&(this._viewState={toState:a.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(a){!this._isDisabled()&&(a.keyCode===k.t6||a.keyCode===k.Fm)&&(a.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const a=this._viewState.fromState;return(a?`${a}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(a){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,a)),this._sortActionDescription=a}_handleStateChanges(){this._rerenderSubscription=(0,O.h)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(f){return new(f||ke)(d.rXU(se),d.rXU(d.gRc),d.rXU(J,8),d.rXU("MAT_SORT_HEADER_COLUMN_DEF",8),d.rXU(E.FN),d.rXU(d.aKT),d.rXU(E.vr,8),d.rXU(te,8))};static#t=this.\u0275cmp=d.VBU({type:ke,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(f,y){1&f&&d.bIt("click",function(){return y._handleClick()})("keydown",function(M){return y._handleKeydown(M)})("mouseenter",function(){return y._setIndicatorHintVisible(!0)})("mouseleave",function(){return y._setIndicatorHintVisible(!1)}),2&f&&(d.BMQ("aria-sort",y._getAriaSortAttribute()),d.AVh("mat-sort-header-disabled",y._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",d.L39],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",d.L39]},exportAs:["matSortHeader"],standalone:!0,features:[d.GFd,d.aNF],attrs:F,ngContentSelectors:L,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(f,y){1&f&&(d.NAR(),d.j41(0,"div",0)(1,"div",1),d.SdG(2),d.k0s(),d.DNE(3,D,6,6,"div",2),d.k0s()),2&f&&(d.AVh("mat-sort-header-sorted",y._isSorted())("mat-sort-header-position-before","before"===y.arrowPosition),d.BMQ("tabindex",y._isDisabled()?null:0)("role",y._isDisabled()?null:"button"),d.R7$(3),d.vxM(y._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;color:var(--mat-sort-arrow-color);opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[ae.indicator,ae.leftPointer,ae.rightPointer,ae.arrowOpacity,ae.arrowPosition,ae.allowChildren]},changeDetection:0})}return ke})(),xe=(()=>{class ke{static#e=this.\u0275fac=function(f){return new(f||ke)};static#t=this.\u0275mod=d.$C({type:ke});static#n=this.\u0275inj=d.G2t({providers:[le],imports:[P.yE]})}return ke})()},9159:(je,H,w)=>{"use strict";w.d(H,{$R:()=>vt,YV:()=>Et,cC:()=>qt,KS:()=>hn,tL:()=>ft,YZ:()=>Wt,ji:()=>Mt,NB:()=>un,iL:()=>nt,Zl:()=>Qt,I6:()=>Fn,tP:()=>Or});var d=w(93953),E=w(28203),k=w(45024),z=w(36860),x=w(67333),O=w(60177),A=w(21413),P=w(84412),F=w(74402),L=w(7673),D=w(56977);const X=[[["caption"]],[["colgroup"],["col"]],"*"],j=["caption","colgroup, col","*"];function G(Lt,et){1&Lt&&d.SdG(0,2)}function re(Lt,et){1&Lt&&(d.j41(0,"thead",0),d.eu8(1,1),d.k0s(),d.j41(2,"tbody",0),d.eu8(3,2)(4,3),d.k0s(),d.j41(5,"tfoot",0),d.eu8(6,4),d.k0s())}function te(Lt,et){1&Lt&&d.eu8(0,1)(1,2)(2,3)(3,4)}const ie=new d.nKC("CDK_TABLE");let se=(()=>{class Lt{constructor(Te){this.template=Te}static#e=this.\u0275fac=function(Ne){return new(Ne||Lt)(d.rXU(d.C4Q))};static#t=this.\u0275dir=d.FsC({type:Lt,selectors:[["","cdkCellDef",""]],standalone:!0})}return Lt})(),de=(()=>{class Lt{constructor(Te){this.template=Te}static#e=this.\u0275fac=function(Ne){return new(Ne||Lt)(d.rXU(d.C4Q))};static#t=this.\u0275dir=d.FsC({type:Lt,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}return Lt})(),le=(()=>{class Lt{constructor(Te){this.template=Te}static#e=this.\u0275fac=function(Ne){return new(Ne||Lt)(d.rXU(d.C4Q))};static#t=this.\u0275dir=d.FsC({type:Lt,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}return Lt})(),be=(()=>{class Lt{get name(){return this._name}set name(Te){this._setNameInput(Te)}get sticky(){return this._sticky}set sticky(Te){Te!==this._sticky&&(this._sticky=Te,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(Te){Te!==this._stickyEnd&&(this._stickyEnd=Te,this._hasStickyChanged=!0)}constructor(Te){this._table=Te,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){const Te=this._hasStickyChanged;return this.resetStickyChanged(),Te}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(Te){Te&&(this._name=Te,this.cssClassFriendlyName=Te.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(Ne){return new(Ne||Lt)(d.rXU(ie,8))};static#t=this.\u0275dir=d.FsC({type:Lt,selectors:[["","cdkColumnDef",""]],contentQueries:function(Ne,xt,nn){if(1&Ne&&(d.wni(nn,se,5),d.wni(nn,de,5),d.wni(nn,le,5)),2&Ne){let In;d.mGM(In=d.lsd())&&(xt.cell=In.first),d.mGM(In=d.lsd())&&(xt.headerCell=In.first),d.mGM(In=d.lsd())&&(xt.footerCell=In.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",d.L39],stickyEnd:[2,"stickyEnd","stickyEnd",d.L39]},standalone:!0,features:[d.Jv_([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:Lt}]),d.GFd]})}return Lt})();class xe{constructor(et,Te){Te.nativeElement.classList.add(...et._columnCssClassName)}}let ke=(()=>{class Lt extends xe{constructor(Te,Ne){super(Te,Ne)}static#e=this.\u0275fac=function(Ne){return new(Ne||Lt)(d.rXU(be),d.rXU(d.aKT))};static#t=this.\u0275dir=d.FsC({type:Lt,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[d.Vt3]})}return Lt})(),a=(()=>{class Lt extends xe{constructor(Te,Ne){super(Te,Ne);const xt=Te._table?._getCellRole();xt&&Ne.nativeElement.setAttribute("role",xt)}static#e=this.\u0275fac=function(Ne){return new(Ne||Lt)(d.rXU(be),d.rXU(d.aKT))};static#t=this.\u0275dir=d.FsC({type:Lt,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[d.Vt3]})}return Lt})();class f{constructor(){this.tasks=[],this.endTasks=[]}}const y=new d.nKC("_COALESCED_STYLE_SCHEDULER");let g=(()=>{class Lt{constructor(Te){this._currentSchedule=null,this._ngZone=(0,d.WQX)(d.SKi)}schedule(Te){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(Te)}scheduleEnd(Te){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(Te)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new f,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const Te=this._currentSchedule;this._currentSchedule=new f;for(const Ne of Te.tasks)Ne();for(const Ne of Te.endTasks)Ne()}this._currentSchedule=null})))}static#e=this.\u0275fac=function(Ne){return new(Ne||Lt)(d.KVO(d.SKi))};static#t=this.\u0275prov=d.jDH({token:Lt,factory:Lt.\u0275fac})}return Lt})(),T=(()=>{class Lt{constructor(Te,Ne){this.template=Te,this._differs=Ne}ngOnChanges(Te){if(!this._columnsDiffer){const Ne=Te.columns&&Te.columns.currentValue||[];this._columnsDiffer=this._differs.find(Ne).create(),this._columnsDiffer.diff(Ne)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(Te){return this instanceof B?Te.headerCell.template:this instanceof S?Te.footerCell.template:Te.cell.template}static#e=this.\u0275fac=function(Ne){return new(Ne||Lt)(d.rXU(d.C4Q),d.rXU(d._q3))};static#t=this.\u0275dir=d.FsC({type:Lt,features:[d.OA$]})}return Lt})(),B=(()=>{class Lt extends T{get sticky(){return this._sticky}set sticky(Te){Te!==this._sticky&&(this._sticky=Te,this._hasStickyChanged=!0)}constructor(Te,Ne,xt){super(Te,Ne),this._table=xt,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(Te){super.ngOnChanges(Te)}hasStickyChanged(){const Te=this._hasStickyChanged;return this.resetStickyChanged(),Te}resetStickyChanged(){this._hasStickyChanged=!1}static#e=this.\u0275fac=function(Ne){return new(Ne||Lt)(d.rXU(d.C4Q),d.rXU(d._q3),d.rXU(ie,8))};static#t=this.\u0275dir=d.FsC({type:Lt,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",d.L39]},standalone:!0,features:[d.GFd,d.Vt3,d.OA$]})}return Lt})(),S=(()=>{class Lt extends T{get sticky(){return this._sticky}set sticky(Te){Te!==this._sticky&&(this._sticky=Te,this._hasStickyChanged=!0)}constructor(Te,Ne,xt){super(Te,Ne),this._table=xt,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(Te){super.ngOnChanges(Te)}hasStickyChanged(){const Te=this._hasStickyChanged;return this.resetStickyChanged(),Te}resetStickyChanged(){this._hasStickyChanged=!1}static#e=this.\u0275fac=function(Ne){return new(Ne||Lt)(d.rXU(d.C4Q),d.rXU(d._q3),d.rXU(ie,8))};static#t=this.\u0275dir=d.FsC({type:Lt,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",d.L39]},standalone:!0,features:[d.GFd,d.Vt3,d.OA$]})}return Lt})(),s=(()=>{class Lt extends T{constructor(Te,Ne,xt){super(Te,Ne),this._table=xt}static#e=this.\u0275fac=function(Ne){return new(Ne||Lt)(d.rXU(d.C4Q),d.rXU(d._q3),d.rXU(ie,8))};static#t=this.\u0275dir=d.FsC({type:Lt,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[d.Vt3]})}return Lt})(),v=(()=>{class Lt{static#e=this.mostRecentCellOutlet=null;constructor(Te){this._viewContainer=Te,Lt.mostRecentCellOutlet=this}ngOnDestroy(){Lt.mostRecentCellOutlet===this&&(Lt.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(Ne){return new(Ne||Lt)(d.rXU(d.c1b))};static#n=this.\u0275dir=d.FsC({type:Lt,selectors:[["","cdkCellOutlet",""]],standalone:!0})}return Lt})(),W=(()=>{class Lt{static#e=this.\u0275fac=function(Ne){return new(Ne||Lt)};static#t=this.\u0275cmp=d.VBU({type:Lt,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[d.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Ne,xt){1&Ne&&d.eu8(0,0)},dependencies:[v],encapsulation:2})}return Lt})(),ee=(()=>{class Lt{static#e=this.\u0275fac=function(Ne){return new(Ne||Lt)};static#t=this.\u0275cmp=d.VBU({type:Lt,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[d.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Ne,xt){1&Ne&&d.eu8(0,0)},dependencies:[v],encapsulation:2})}return Lt})(),ce=(()=>{class Lt{constructor(Te){this.templateRef=Te,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(Ne){return new(Ne||Lt)(d.rXU(d.C4Q))};static#t=this.\u0275dir=d.FsC({type:Lt,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}return Lt})();const _e=["top","bottom","left","right"];class Oe{constructor(et,Te,Ne,xt,nn=!0,In=!0,Kn){this._isNativeHtmlTable=et,this._stickCellCss=Te,this.direction=Ne,this._coalescedStyleScheduler=xt,this._isBrowser=nn,this._needsPositionStickyOnElement=In,this._positionListener=Kn,this._cachedCellWidths=[],this._borderCellCss={top:`${Te}-border-elem-top`,bottom:`${Te}-border-elem-bottom`,left:`${Te}-border-elem-left`,right:`${Te}-border-elem-right`}}clearStickyPositioning(et,Te){const Ne=[];for(const xt of et)if(xt.nodeType===xt.ELEMENT_NODE){Ne.push(xt);for(let nn=0;nn<xt.children.length;nn++)Ne.push(xt.children[nn])}this._coalescedStyleScheduler.schedule(()=>{for(const xt of Ne)this._removeStickyStyle(xt,Te)})}updateStickyColumns(et,Te,Ne,xt=!0){et.length&&this._isBrowser&&(Te.some(nn=>nn)||Ne.some(nn=>nn))?this._coalescedStyleScheduler.schedule(()=>{const nn=et[0],In=nn.children.length,Kn=this._getCellWidths(nn,xt),er=this._getStickyStartColumnPositions(Kn,Te),_r=this._getStickyEndColumnPositions(Kn,Ne),Tr=Te.lastIndexOf(!0),Br=Ne.indexOf(!0),jr="rtl"===this.direction,Zr=jr?"right":"left",tn=jr?"left":"right";for(const _n of et)for(let Tn=0;Tn<In;Tn++){const jn=_n.children[Tn];Te[Tn]&&this._addStickyStyle(jn,Zr,er[Tn],Tn===Tr),Ne[Tn]&&this._addStickyStyle(jn,tn,_r[Tn],Tn===Br)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===Tr?[]:Kn.slice(0,Tr+1).map((_n,Tn)=>Te[Tn]?_n:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===Br?[]:Kn.slice(Br).map((_n,Tn)=>Ne[Tn+Br]?_n:null).reverse()}))}):this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}))}stickRows(et,Te,Ne){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{const xt="bottom"===Ne?et.slice().reverse():et,nn="bottom"===Ne?Te.slice().reverse():Te,In=[],Kn=[],er=[];for(let Tr=0,Br=0;Tr<xt.length;Tr++){if(!nn[Tr])continue;In[Tr]=Br;const jr=xt[Tr];er[Tr]=this._isNativeHtmlTable?Array.from(jr.children):[jr];const Zr=jr.getBoundingClientRect().height;Br+=Zr,Kn[Tr]=Zr}const _r=nn.lastIndexOf(!0);for(let Tr=0;Tr<xt.length;Tr++){if(!nn[Tr])continue;const Br=In[Tr],jr=Tr===_r;for(const Zr of er[Tr])this._addStickyStyle(Zr,Ne,Br,jr)}"top"===Ne?this._positionListener?.stickyHeaderRowsUpdated({sizes:Kn,offsets:In,elements:er}):this._positionListener?.stickyFooterRowsUpdated({sizes:Kn,offsets:In,elements:er})})}updateStickyFooterContainer(et,Te){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{const Ne=et.querySelector("tfoot");Ne&&(Te.some(xt=>!xt)?this._removeStickyStyle(Ne,["bottom"]):this._addStickyStyle(Ne,"bottom",0,!1))})}_removeStickyStyle(et,Te){for(const xt of Te)et.style[xt]="",et.classList.remove(this._borderCellCss[xt]);_e.some(xt=>-1===Te.indexOf(xt)&&et.style[xt])?et.style.zIndex=this._getCalculatedZIndex(et):(et.style.zIndex="",this._needsPositionStickyOnElement&&(et.style.position=""),et.classList.remove(this._stickCellCss))}_addStickyStyle(et,Te,Ne,xt){et.classList.add(this._stickCellCss),xt&&et.classList.add(this._borderCellCss[Te]),et.style[Te]=`${Ne}px`,et.style.zIndex=this._getCalculatedZIndex(et),this._needsPositionStickyOnElement&&(et.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(et){const Te={top:100,bottom:10,left:1,right:1};let Ne=0;for(const xt of _e)et.style[xt]&&(Ne+=Te[xt]);return Ne?`${Ne}`:""}_getCellWidths(et,Te=!0){if(!Te&&this._cachedCellWidths.length)return this._cachedCellWidths;const Ne=[],xt=et.children;for(let nn=0;nn<xt.length;nn++)Ne.push(xt[nn].getBoundingClientRect().width);return this._cachedCellWidths=Ne,Ne}_getStickyStartColumnPositions(et,Te){const Ne=[];let xt=0;for(let nn=0;nn<et.length;nn++)Te[nn]&&(Ne[nn]=xt,xt+=et[nn]);return Ne}_getStickyEndColumnPositions(et,Te){const Ne=[];let xt=0;for(let nn=et.length;nn>0;nn--)Te[nn]&&(Ne[nn]=xt,xt+=et[nn]);return Ne}}const Q=new d.nKC("CDK_SPL");let fe=(()=>{class Lt{constructor(Te,Ne){this.viewContainer=Te,this.elementRef=Ne;const xt=(0,d.WQX)(ie);xt._rowOutlet=this,xt._outletAssigned()}static#e=this.\u0275fac=function(Ne){return new(Ne||Lt)(d.rXU(d.c1b),d.rXU(d.aKT))};static#t=this.\u0275dir=d.FsC({type:Lt,selectors:[["","rowOutlet",""]],standalone:!0})}return Lt})(),Ee=(()=>{class Lt{constructor(Te,Ne){this.viewContainer=Te,this.elementRef=Ne;const xt=(0,d.WQX)(ie);xt._headerRowOutlet=this,xt._outletAssigned()}static#e=this.\u0275fac=function(Ne){return new(Ne||Lt)(d.rXU(d.c1b),d.rXU(d.aKT))};static#t=this.\u0275dir=d.FsC({type:Lt,selectors:[["","headerRowOutlet",""]],standalone:!0})}return Lt})(),Re=(()=>{class Lt{constructor(Te,Ne){this.viewContainer=Te,this.elementRef=Ne;const xt=(0,d.WQX)(ie);xt._footerRowOutlet=this,xt._outletAssigned()}static#e=this.\u0275fac=function(Ne){return new(Ne||Lt)(d.rXU(d.c1b),d.rXU(d.aKT))};static#t=this.\u0275dir=d.FsC({type:Lt,selectors:[["","footerRowOutlet",""]],standalone:!0})}return Lt})(),$e=(()=>{class Lt{constructor(Te,Ne){this.viewContainer=Te,this.elementRef=Ne;const xt=(0,d.WQX)(ie);xt._noDataRowOutlet=this,xt._outletAssigned()}static#e=this.\u0275fac=function(Ne){return new(Ne||Lt)(d.rXU(d.c1b),d.rXU(d.aKT))};static#t=this.\u0275dir=d.FsC({type:Lt,selectors:[["","noDataRowOutlet",""]],standalone:!0})}return Lt})(),We=(()=>{class Lt{_getCellRole(){if(void 0===this._cellRoleInternal){const Te=this._elementRef.nativeElement.getAttribute("role"),Ne="grid"===Te||"treegrid"===Te?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&"cell"===Ne?null:Ne}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(Te){this._trackByFn=Te}get dataSource(){return this._dataSource}set dataSource(Te){this._dataSource!==Te&&this._switchDataSource(Te)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(Te){this._multiTemplateDataRows=Te,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(Te){this._fixedLayout=Te,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(Te,Ne,xt,nn,In,Kn,er,_r,Tr,Br,jr,Zr){this._differs=Te,this._changeDetectorRef=Ne,this._elementRef=xt,this._dir=In,this._platform=er,this._viewRepeater=_r,this._coalescedStyleScheduler=Tr,this._viewportRuler=Br,this._stickyPositioningListener=jr,this._onDestroy=new A.B,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new d.bkB,this.viewChange=new P.t({start:0,end:Number.MAX_VALUE}),this._injector=(0,d.WQX)(d.zZn),nn||xt.nativeElement.setAttribute("role","table"),this._document=Kn,this._isServer=!er.isBrowser,this._isNativeHtmlTable="TABLE"===xt.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((Te,Ne)=>this.trackBy?this.trackBy(Ne.dataIndex,Ne.data):Ne),this._viewportRuler.change().pipe((0,D.Q)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(Te=>{Te?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,k.y4)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const Te=this._dataDiffer.diff(this._renderRows);if(!Te)return this._updateNoDataRow(),void this.contentChanged.next();const Ne=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(Te,Ne,(xt,nn,In)=>this._getEmbeddedViewArgs(xt.item,In),xt=>xt.item.data,xt=>{xt.operation===k.Q3.INSERTED&&xt.context&&this._renderCellTemplateForItem(xt.record.item.rowDef,xt.context)}),this._updateRowIndexContext(),Te.forEachIdentityChange(xt=>{Ne.get(xt.currentIndex).context.$implicit=xt.item.data}),this._updateNoDataRow(),(0,d.mal)(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(Te){this._customColumnDefs.add(Te)}removeColumnDef(Te){this._customColumnDefs.delete(Te)}addRowDef(Te){this._customRowDefs.add(Te)}removeRowDef(Te){this._customRowDefs.delete(Te)}addHeaderRowDef(Te){this._customHeaderRowDefs.add(Te),this._headerRowDefChanged=!0}removeHeaderRowDef(Te){this._customHeaderRowDefs.delete(Te),this._headerRowDefChanged=!0}addFooterRowDef(Te){this._customFooterRowDefs.add(Te),this._footerRowDefChanged=!0}removeFooterRowDef(Te){this._customFooterRowDefs.delete(Te),this._footerRowDefChanged=!0}setNoDataRow(Te){this._customNoDataRow=Te}updateStickyHeaderRowStyles(){const Te=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){const xt=lt(this._headerRowOutlet,"thead");xt&&(xt.style.display=Te.length?"":"none")}const Ne=this._headerRowDefs.map(xt=>xt.sticky);this._stickyStyler.clearStickyPositioning(Te,["top"]),this._stickyStyler.stickRows(Te,Ne,"top"),this._headerRowDefs.forEach(xt=>xt.resetStickyChanged())}updateStickyFooterRowStyles(){const Te=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){const xt=lt(this._footerRowOutlet,"tfoot");xt&&(xt.style.display=Te.length?"":"none")}const Ne=this._footerRowDefs.map(xt=>xt.sticky);this._stickyStyler.clearStickyPositioning(Te,["bottom"]),this._stickyStyler.stickRows(Te,Ne,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,Ne),this._footerRowDefs.forEach(xt=>xt.resetStickyChanged())}updateStickyColumnStyles(){const Te=this._getRenderedRows(this._headerRowOutlet),Ne=this._getRenderedRows(this._rowOutlet),xt=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...Te,...Ne,...xt],["left","right"]),this._stickyColumnStylesNeedReset=!1),Te.forEach((nn,In)=>{this._addStickyColumnStyles([nn],this._headerRowDefs[In])}),this._rowDefs.forEach(nn=>{const In=[];for(let Kn=0;Kn<Ne.length;Kn++)this._renderRows[Kn].rowDef===nn&&In.push(Ne[Kn]);this._addStickyColumnStyles(In,nn)}),xt.forEach((nn,In)=>{this._addStickyColumnStyles([nn],this._footerRowDefs[In])}),Array.from(this._columnDefsByName.values()).forEach(nn=>nn.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs();const Ne=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||Ne,this._forceRecalculateCellWidths=Ne,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){const Te=[],Ne=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let xt=0;xt<this._data.length;xt++){let nn=this._data[xt];const In=this._getRenderRowsForData(nn,xt,Ne.get(nn));this._cachedRenderRowsMap.has(nn)||this._cachedRenderRowsMap.set(nn,new WeakMap);for(let Kn=0;Kn<In.length;Kn++){let er=In[Kn];const _r=this._cachedRenderRowsMap.get(er.data);_r.has(er.rowDef)?_r.get(er.rowDef).push(er):_r.set(er.rowDef,[er]),Te.push(er)}}return Te}_getRenderRowsForData(Te,Ne,xt){return this._getRowDefs(Te,Ne).map(In=>{const Kn=xt&&xt.has(In)?xt.get(In):[];if(Kn.length){const er=Kn.shift();return er.dataIndex=Ne,er}return{data:Te,rowDef:In,dataIndex:Ne}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Le(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(Ne=>{this._columnDefsByName.has(Ne.name),this._columnDefsByName.set(Ne.name,Ne)})}_cacheRowDefs(){this._headerRowDefs=Le(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Le(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Le(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const Te=this._rowDefs.filter(Ne=>!Ne.when);this._defaultRowDef=Te[0]}_renderUpdatedColumns(){const Te=(In,Kn)=>In||!!Kn.getColumnsDiff(),Ne=this._rowDefs.reduce(Te,!1);Ne&&this._forceRenderDataRows();const xt=this._headerRowDefs.reduce(Te,!1);xt&&this._forceRenderHeaderRows();const nn=this._footerRowDefs.reduce(Te,!1);return nn&&this._forceRenderFooterRows(),Ne||xt||nn}_switchDataSource(Te){this._data=[],(0,k.y4)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),Te||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=Te}_observeRenderChanges(){if(!this.dataSource)return;let Te;(0,k.y4)(this.dataSource)?Te=this.dataSource.connect(this):(0,F.A)(this.dataSource)?Te=this.dataSource:Array.isArray(this.dataSource)&&(Te=(0,L.of)(this.dataSource)),this._renderChangeSubscription=Te.pipe((0,D.Q)(this._onDestroy)).subscribe(Ne=>{this._data=Ne||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((Te,Ne)=>this._renderRow(this._headerRowOutlet,Te,Ne)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((Te,Ne)=>this._renderRow(this._footerRowOutlet,Te,Ne)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(Te,Ne){const xt=Array.from(Ne.columns||[]).map(Kn=>this._columnDefsByName.get(Kn)),nn=xt.map(Kn=>Kn.sticky),In=xt.map(Kn=>Kn.stickyEnd);this._stickyStyler.updateStickyColumns(Te,nn,In,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(Te){const Ne=[];for(let xt=0;xt<Te.viewContainer.length;xt++){const nn=Te.viewContainer.get(xt);Ne.push(nn.rootNodes[0])}return Ne}_getRowDefs(Te,Ne){if(1==this._rowDefs.length)return[this._rowDefs[0]];let xt=[];if(this.multiTemplateDataRows)xt=this._rowDefs.filter(nn=>!nn.when||nn.when(Ne,Te));else{let nn=this._rowDefs.find(In=>In.when&&In.when(Ne,Te))||this._defaultRowDef;nn&&xt.push(nn)}return xt}_getEmbeddedViewArgs(Te,Ne){return{templateRef:Te.rowDef.template,context:{$implicit:Te.data},index:Ne}}_renderRow(Te,Ne,xt,nn={}){const In=Te.viewContainer.createEmbeddedView(Ne.template,nn,xt);return this._renderCellTemplateForItem(Ne,nn),In}_renderCellTemplateForItem(Te,Ne){for(let xt of this._getCellTemplates(Te))v.mostRecentCellOutlet&&v.mostRecentCellOutlet._viewContainer.createEmbeddedView(xt,Ne);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const Te=this._rowOutlet.viewContainer;for(let Ne=0,xt=Te.length;Ne<xt;Ne++){const In=Te.get(Ne).context;In.count=xt,In.first=0===Ne,In.last=Ne===xt-1,In.even=Ne%2==0,In.odd=!In.even,this.multiTemplateDataRows?(In.dataIndex=this._renderRows[Ne].dataIndex,In.renderIndex=Ne):In.index=this._renderRows[Ne].dataIndex}}_getCellTemplates(Te){return Te&&Te.columns?Array.from(Te.columns,Ne=>{const xt=this._columnDefsByName.get(Ne);return Te.extractCellTemplate(xt)}):[]}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const Te=(Ne,xt)=>Ne||xt.hasStickyChanged();this._headerRowDefs.reduce(Te,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(Te,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(Te,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Oe(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,L.of)()).pipe((0,D.Q)(this._onDestroy)).subscribe(Ne=>{this._stickyStyler.direction=Ne,this.updateStickyColumnStyles()})}_getOwnDefs(Te){return Te.filter(Ne=>!Ne._table||Ne._table===this)}_updateNoDataRow(){const Te=this._customNoDataRow||this._noDataRow;if(!Te)return;const Ne=0===this._rowOutlet.viewContainer.length;if(Ne===this._isShowingNoDataRow)return;const xt=this._noDataRowOutlet.viewContainer;if(Ne){const nn=xt.createEmbeddedView(Te.templateRef),In=nn.rootNodes[0];1===nn.rootNodes.length&&In?.nodeType===this._document.ELEMENT_NODE&&(In.setAttribute("role","row"),In.classList.add(Te._contentClassName))}else xt.clear();this._isShowingNoDataRow=Ne,this._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(Ne){return new(Ne||Lt)(d.rXU(d._q3),d.rXU(d.gRc),d.rXU(d.aKT),d.kS0("role"),d.rXU(E.dS,8),d.rXU(O.qQ),d.rXU(z.OD),d.rXU(k.sL),d.rXU(y),d.rXU(x.Xj),d.rXU(Q,12),d.rXU(d.SKi,8))};static#t=this.\u0275cmp=d.VBU({type:Lt,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(Ne,xt,nn){if(1&Ne&&(d.wni(nn,ce,5),d.wni(nn,be,5),d.wni(nn,s,5),d.wni(nn,B,5),d.wni(nn,S,5)),2&Ne){let In;d.mGM(In=d.lsd())&&(xt._noDataRow=In.first),d.mGM(In=d.lsd())&&(xt._contentColumnDefs=In),d.mGM(In=d.lsd())&&(xt._contentRowDefs=In),d.mGM(In=d.lsd())&&(xt._contentHeaderRowDefs=In),d.mGM(In=d.lsd())&&(xt._contentFooterRowDefs=In)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(Ne,xt){2&Ne&&d.AVh("cdk-table-fixed-layout",xt.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",d.L39],fixedLayout:[2,"fixedLayout","fixedLayout",d.L39]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[d.Jv_([{provide:ie,useExisting:Lt},{provide:k.sL,useClass:k.xn},{provide:y,useClass:g},{provide:Q,useValue:null}]),d.GFd,d.aNF],ngContentSelectors:j,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(Ne,xt){1&Ne&&(d.NAR(X),d.SdG(0),d.SdG(1,1),d.DNE(2,G,1,0)(3,re,7,0)(4,te,4,0)),2&Ne&&(d.R7$(2),d.vxM(xt._isServer?2:-1),d.R7$(),d.vxM(xt._isNativeHtmlTable?3:4))},dependencies:[Ee,fe,$e,Re],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return Lt})();function Le(Lt,et){return Lt.concat(Array.from(et))}function lt(Lt,et){const Te=et.toUpperCase();let Ne=Lt.viewContainer.element.nativeElement;for(;Ne;){const xt=1===Ne.nodeType?Ne.nodeName:null;if(xt===Te)return Ne;if("TABLE"===xt)break;Ne=Ne.parentNode}return null}let m=(()=>{class Lt{static#e=this.\u0275fac=function(Ne){return new(Ne||Lt)};static#t=this.\u0275mod=d.$C({type:Lt});static#n=this.\u0275inj=d.G2t({imports:[x.E9]})}return Lt})();var ne=w(86600),ge=w(57786),Ae=w(84572),tt=w(14085),Bt=w(96354);const gt=[[["caption"]],[["colgroup"],["col"]],"*"],It=["caption","colgroup, col","*"];function Zt(Lt,et){1&Lt&&d.SdG(0,2)}function mn(Lt,et){1&Lt&&(d.j41(0,"thead",0),d.eu8(1,1),d.k0s(),d.j41(2,"tbody",2),d.eu8(3,3)(4,4),d.k0s(),d.j41(5,"tfoot",0),d.eu8(6,5),d.k0s())}function dn(Lt,et){1&Lt&&d.eu8(0,1)(1,3)(2,4)(3,5)}let Qt=(()=>{class Lt extends We{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}static#e=this.\u0275fac=(()=>{let Te;return function(xt){return(Te||(Te=d.xGo(Lt)))(xt||Lt)}})();static#t=this.\u0275cmp=d.VBU({type:Lt,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(Ne,xt){2&Ne&&d.AVh("mdc-table-fixed-layout",xt.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[d.Jv_([{provide:We,useExisting:Lt},{provide:ie,useExisting:Lt},{provide:y,useClass:g},{provide:k.sL,useClass:k.xn},{provide:Q,useValue:null}]),d.Vt3,d.aNF],ngContentSelectors:It,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(Ne,xt){1&Ne&&(d.NAR(gt),d.SdG(0),d.SdG(1,1),d.DNE(2,Zt,1,0)(3,mn,7,0)(4,dn,4,0)),2&Ne&&(d.R7$(2),d.vxM(xt._isServer?2:-1),d.R7$(),d.vxM(xt._isNativeHtmlTable?3:4))},dependencies:[Ee,fe,$e,Re],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return Lt})(),Et=(()=>{class Lt extends se{static#e=this.\u0275fac=(()=>{let Te;return function(xt){return(Te||(Te=d.xGo(Lt)))(xt||Lt)}})();static#t=this.\u0275dir=d.FsC({type:Lt,selectors:[["","matCellDef",""]],standalone:!0,features:[d.Jv_([{provide:se,useExisting:Lt}]),d.Vt3]})}return Lt})(),ft=(()=>{class Lt extends de{static#e=this.\u0275fac=(()=>{let Te;return function(xt){return(Te||(Te=d.xGo(Lt)))(xt||Lt)}})();static#t=this.\u0275dir=d.FsC({type:Lt,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[d.Jv_([{provide:de,useExisting:Lt}]),d.Vt3]})}return Lt})(),qt=(()=>{class Lt extends be{get name(){return this._name}set name(Te){this._setNameInput(Te)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#e=this.\u0275fac=(()=>{let Te;return function(xt){return(Te||(Te=d.xGo(Lt)))(xt||Lt)}})();static#t=this.\u0275dir=d.FsC({type:Lt,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},standalone:!0,features:[d.Jv_([{provide:be,useExisting:Lt},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:Lt}]),d.Vt3]})}return Lt})(),hn=(()=>{class Lt extends ke{static#e=this.\u0275fac=(()=>{let Te;return function(xt){return(Te||(Te=d.xGo(Lt)))(xt||Lt)}})();static#t=this.\u0275dir=d.FsC({type:Lt,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[d.Vt3]})}return Lt})(),vt=(()=>{class Lt extends a{static#e=this.\u0275fac=(()=>{let Te;return function(xt){return(Te||(Te=d.xGo(Lt)))(xt||Lt)}})();static#t=this.\u0275dir=d.FsC({type:Lt,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[d.Vt3]})}return Lt})(),Mt=(()=>{class Lt extends B{static#e=this.\u0275fac=(()=>{let Te;return function(xt){return(Te||(Te=d.xGo(Lt)))(xt||Lt)}})();static#t=this.\u0275dir=d.FsC({type:Lt,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",d.L39]},standalone:!0,features:[d.Jv_([{provide:B,useExisting:Lt}]),d.GFd,d.Vt3]})}return Lt})(),nt=(()=>{class Lt extends s{static#e=this.\u0275fac=(()=>{let Te;return function(xt){return(Te||(Te=d.xGo(Lt)))(xt||Lt)}})();static#t=this.\u0275dir=d.FsC({type:Lt,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},standalone:!0,features:[d.Jv_([{provide:s,useExisting:Lt}]),d.Vt3]})}return Lt})(),Wt=(()=>{class Lt extends W{static#e=this.\u0275fac=(()=>{let Te;return function(xt){return(Te||(Te=d.xGo(Lt)))(xt||Lt)}})();static#t=this.\u0275cmp=d.VBU({type:Lt,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[d.Jv_([{provide:W,useExisting:Lt}]),d.Vt3,d.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Ne,xt){1&Ne&&d.eu8(0,0)},dependencies:[v],encapsulation:2})}return Lt})(),un=(()=>{class Lt extends ee{static#e=this.\u0275fac=(()=>{let Te;return function(xt){return(Te||(Te=d.xGo(Lt)))(xt||Lt)}})();static#t=this.\u0275cmp=d.VBU({type:Lt,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[d.Jv_([{provide:ee,useExisting:Lt}]),d.Vt3,d.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Ne,xt){1&Ne&&d.eu8(0,0)},dependencies:[v],encapsulation:2})}return Lt})(),Or=(()=>{class Lt{static#e=this.\u0275fac=function(Ne){return new(Ne||Lt)};static#t=this.\u0275mod=d.$C({type:Lt});static#n=this.\u0275inj=d.G2t({imports:[ne.yE,m,ne.yE]})}return Lt})();class Fn extends k.qS{get data(){return this._data.value}set data(et){et=Array.isArray(et)?et:[],this._data.next(et),this._renderChangesSubscription||this._filterData(et)}get filter(){return this._filter.value}set filter(et){this._filter.next(et),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(et){this._sort=et,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(et){this._paginator=et,this._updateChangeSubscription()}constructor(et=[]){super(),this._renderData=new P.t([]),this._filter=new P.t(""),this._internalPageChanges=new A.B,this._renderChangesSubscription=null,this.sortingDataAccessor=(Te,Ne)=>{const xt=Te[Ne];if((0,tt.o1)(xt)){const nn=Number(xt);return nn<9007199254740991?nn:xt}return xt},this.sortData=(Te,Ne)=>{const xt=Ne.active,nn=Ne.direction;return xt&&""!=nn?Te.sort((In,Kn)=>{let er=this.sortingDataAccessor(In,xt),_r=this.sortingDataAccessor(Kn,xt);const Tr=typeof er,Br=typeof _r;Tr!==Br&&("number"===Tr&&(er+=""),"number"===Br&&(_r+=""));let jr=0;return null!=er&&null!=_r?er>_r?jr=1:er<_r&&(jr=-1):null!=er?jr=1:null!=_r&&(jr=-1),jr*("asc"==nn?1:-1)}):Te},this.filterPredicate=(Te,Ne)=>{const xt=Object.keys(Te).reduce((In,Kn)=>In+Te[Kn]+"\u25ec","").toLowerCase(),nn=Ne.trim().toLowerCase();return-1!=xt.indexOf(nn)},this._data=new P.t(et),this._updateChangeSubscription()}_updateChangeSubscription(){const et=this._sort?(0,ge.h)(this._sort.sortChange,this._sort.initialized):(0,L.of)(null),Te=this._paginator?(0,ge.h)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,L.of)(null),xt=(0,Ae.z)([this._data,this._filter]).pipe((0,Bt.T)(([Kn])=>this._filterData(Kn))),nn=(0,Ae.z)([xt,et]).pipe((0,Bt.T)(([Kn])=>this._orderData(Kn))),In=(0,Ae.z)([nn,Te]).pipe((0,Bt.T)(([Kn])=>this._pageData(Kn)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=In.subscribe(Kn=>this._renderData.next(Kn))}_filterData(et){return this.filteredData=null==this.filter||""===this.filter?et:et.filter(Te=>this.filterPredicate(Te,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(et){return this.sort?this.sortData(et.slice(),this.sort):et}_pageData(et){if(!this.paginator)return et;const Te=this.paginator.pageIndex*this.paginator.pageSize;return et.slice(Te,Te+this.paginator.pageSize)}_updatePaginator(et){Promise.resolve().then(()=>{const Te=this.paginator;if(Te&&(Te.length=et,Te.pageIndex>0)){const Ne=Math.ceil(Te.length/Te.pageSize)-1||0,xt=Math.min(Te.pageIndex,Ne);xt!==Te.pageIndex&&(Te.pageIndex=xt,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}},55911:(je,H,w)=>{"use strict";w.d(H,{KQ:()=>P,s5:()=>L});var d=w(93953),E=w(86600),k=w(36860),z=w(60177);const x=["*",[["mat-toolbar-row"]]],O=["*","mat-toolbar-row"];let A=(()=>{class D{static#e=this.\u0275fac=function(G){return new(G||D)};static#t=this.\u0275dir=d.FsC({type:D,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}return D})(),P=(()=>{class D{constructor(j,G,re){this._elementRef=j,this._platform=G,this._document=re}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(G){return new(G||D)(d.rXU(d.aKT),d.rXU(k.OD),d.rXU(z.qQ))};static#t=this.\u0275cmp=d.VBU({type:D,selectors:[["mat-toolbar"]],contentQueries:function(G,re,te){if(1&G&&d.wni(te,A,5),2&G){let J;d.mGM(J=d.lsd())&&(re._toolbarRows=J)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(G,re){2&G&&(d.HbH(re.color?"mat-"+re.color:""),d.AVh("mat-toolbar-multiple-rows",re._toolbarRows.length>0)("mat-toolbar-single-row",0===re._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[d.aNF],ngContentSelectors:O,decls:2,vars:0,template:function(G,re){1&G&&(d.NAR(x),d.SdG(0),d.SdG(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return D})(),L=(()=>{class D{static#e=this.\u0275fac=function(G){return new(G||D)};static#t=this.\u0275mod=d.$C({type:D});static#n=this.\u0275inj=d.G2t({imports:[E.yE,E.yE]})}return D})()},14823:(je,H,w)=>{"use strict";w.d(H,{oV:()=>y,uc:()=>T});var d=w(56977),E=w(14085),k=w(67336),z=w(93953),x=w(60177),O=w(36860),A=w(18617),P=w(28203),F=w(66969),L=w(67333),D=w(76939),X=w(21413),G=(w(49969),w(86600));const re=["tooltip"],Z=new z.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const B=(0,z.WQX)(F.hJ);return()=>B.scrollStrategies.reposition({scrollThrottle:20})}}),ae={provide:Z,deps:[F.hJ],useFactory:function ie(B){return()=>B.scrollStrategies.reposition({scrollThrottle:20})}},de=new z.nKC("mat-tooltip-default-options",{providedIn:"root",factory:function se(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),be="tooltip-panel",xe=(0,O.BQ)({passive:!0});let y=(()=>{class B{get position(){return this._position}set position(s){s!==this._position&&(this._position=s,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(s){this._positionAtOrigin=(0,E.he)(s),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(s){this._disabled=(0,E.he)(s),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(s){this._showDelay=(0,E.OE)(s)}get hideDelay(){return this._hideDelay}set hideDelay(s){this._hideDelay=(0,E.OE)(s),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(s){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=s?String(s).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(s){this._tooltipClass=s,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(s,v,W,K,ee,ce,_e,Oe,Ve,Se,we,Ue){this._overlay=s,this._elementRef=v,this._scrollDispatcher=W,this._viewContainerRef=K,this._ngZone=ee,this._platform=ce,this._ariaDescriber=_e,this._focusMonitor=Oe,this._dir=Se,this._defaultOptions=we,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=g,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new X.B,this._injector=(0,z.WQX)(z.zZn),this._scrollStrategy=Ve,this._document=Ue,we&&(this._showDelay=we.showDelay,this._hideDelay=we.hideDelay,we.position&&(this.position=we.position),we.positionAtOrigin&&(this.positionAtOrigin=we.positionAtOrigin),we.touchGestures&&(this.touchGestures=we.touchGestures)),Se.change.pipe((0,d.Q)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,d.Q)(this._destroyed)).subscribe(s=>{s?"keyboard"===s&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const s=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([v,W])=>{s.removeEventListener(v,W,xe)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(s,this.message,"tooltip"),this._focusMonitor.stopMonitoring(s)}show(s=this.showDelay,v){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const W=this._createOverlay(v);this._detach(),this._portal=this._portal||new D.A8(this._tooltipComponent,this._viewContainerRef);const K=this._tooltipInstance=W.attach(this._portal).instance;K._triggerElement=this._elementRef.nativeElement,K._mouseLeaveHideDelay=this._hideDelay,K.afterHidden().pipe((0,d.Q)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),K.show(s)}hide(s=this.hideDelay){const v=this._tooltipInstance;v&&(v.isVisible()?v.hide(s):(v._cancelPendingAnimations(),this._detach()))}toggle(s){this._isTooltipVisible()?this.hide():this.show(void 0,s)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(s){if(this._overlayRef){const K=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!s)&&K._origin instanceof z.aKT)return this._overlayRef;this._detach()}const v=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),W=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&s||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(v);return W.positionChanges.pipe((0,d.Q)(this._destroyed)).subscribe(K=>{this._updateCurrentPositionClass(K.connectionPair),this._tooltipInstance&&K.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:W,panelClass:`${this._cssClassPrefix}-${be}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,d.Q)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,d.Q)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,d.Q)(this._destroyed)).subscribe(K=>{this._isTooltipVisible()&&K.keyCode===k._f&&!(0,k.rp)(K)&&(K.preventDefault(),K.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(s){const v=s.getConfig().positionStrategy,W=this._getOrigin(),K=this._getOverlayPosition();v.withPositions([this._addOffset({...W.main,...K.main}),this._addOffset({...W.fallback,...K.fallback})])}_addOffset(s){const W=!this._dir||"ltr"==this._dir.value;return"top"===s.originY?s.offsetY=-8:"bottom"===s.originY?s.offsetY=8:"start"===s.originX?s.offsetX=W?-8:8:"end"===s.originX&&(s.offsetX=W?8:-8),s}_getOrigin(){const s=!this._dir||"ltr"==this._dir.value,v=this.position;let W;"above"==v||"below"==v?W={originX:"center",originY:"above"==v?"top":"bottom"}:"before"==v||"left"==v&&s||"right"==v&&!s?W={originX:"start",originY:"center"}:("after"==v||"right"==v&&s||"left"==v&&!s)&&(W={originX:"end",originY:"center"});const{x:K,y:ee}=this._invertPosition(W.originX,W.originY);return{main:W,fallback:{originX:K,originY:ee}}}_getOverlayPosition(){const s=!this._dir||"ltr"==this._dir.value,v=this.position;let W;"above"==v?W={overlayX:"center",overlayY:"bottom"}:"below"==v?W={overlayX:"center",overlayY:"top"}:"before"==v||"left"==v&&s||"right"==v&&!s?W={overlayX:"end",overlayY:"center"}:("after"==v||"right"==v&&s||"left"==v&&!s)&&(W={overlayX:"start",overlayY:"center"});const{x:K,y:ee}=this._invertPosition(W.overlayX,W.overlayY);return{main:W,fallback:{overlayX:K,overlayY:ee}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),(0,z.mal)(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(s){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=s,this._tooltipInstance._markForCheck())}_invertPosition(s,v){return"above"===this.position||"below"===this.position?"top"===v?v="bottom":"bottom"===v&&(v="top"):"end"===s?s="start":"start"===s&&(s="end"),{x:s,y:v}}_updateCurrentPositionClass(s){const{overlayY:v,originX:W,originY:K}=s;let ee;if(ee="center"===v?this._dir&&"rtl"===this._dir.value?"end"===W?"left":"right":"start"===W?"left":"right":"bottom"===v&&"top"===K?"above":"below",ee!==this._currentPosition){const ce=this._overlayRef;if(ce){const _e=`${this._cssClassPrefix}-${be}-`;ce.removePanelClass(_e+this._currentPosition),ce.addPanelClass(_e+ee)}this._currentPosition=ee}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",s=>{let v;this._setupPointerExitEventsIfNeeded(),void 0!==s.x&&void 0!==s.y&&(v=s),this.show(void 0,v)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",s=>{const v=s.targetTouches?.[0],W=v?{x:v.clientX,y:v.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,W),this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const s=[];if(this._platformSupportsMouseEvents())s.push(["mouseleave",v=>{const W=v.relatedTarget;(!W||!this._overlayRef?.overlayElement.contains(W))&&this.hide()}],["wheel",v=>this._wheelListener(v)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const v=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};s.push(["touchend",v],["touchcancel",v])}this._addListeners(s),this._passiveListeners.push(...s)}_addListeners(s){s.forEach(([v,W])=>{this._elementRef.nativeElement.addEventListener(v,W,xe)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(s){if(this._isTooltipVisible()){const v=this._document.elementFromPoint(s.clientX,s.clientY),W=this._elementRef.nativeElement;v!==W&&!W.contains(v)&&this.hide()}}_disableNativeGesturesIfNecessary(){const s=this.touchGestures;if("off"!==s){const v=this._elementRef.nativeElement,W=v.style;("on"===s||"INPUT"!==v.nodeName&&"TEXTAREA"!==v.nodeName)&&(W.userSelect=W.msUserSelect=W.webkitUserSelect=W.MozUserSelect="none"),("on"===s||!v.draggable)&&(W.webkitUserDrag="none"),W.touchAction="none",W.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(v){return new(v||B)(z.rXU(F.hJ),z.rXU(z.aKT),z.rXU(L.R),z.rXU(z.c1b),z.rXU(z.SKi),z.rXU(O.OD),z.rXU(A.vr),z.rXU(A.FN),z.rXU(Z),z.rXU(P.dS),z.rXU(de,8),z.rXU(x.qQ))};static#t=this.\u0275dir=z.FsC({type:B,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(v,W){2&v&&z.AVh("mat-mdc-tooltip-disabled",W.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return B})(),g=(()=>{class B{constructor(s,v,W){this._changeDetectorRef=s,this._elementRef=v,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new X.B,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===W}show(s){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},s)}hide(s){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},s)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:s}){(!s||!this._triggerElement.contains(s))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const s=this._elementRef.nativeElement.getBoundingClientRect();return s.height>24&&s.width>=200}_handleAnimationEnd({animationName:s}){(s===this._showAnimation||s===this._hideAnimation)&&this._finalizeAnimation(s===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(s){s?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(s){const v=this._tooltip.nativeElement,W=this._showAnimation,K=this._hideAnimation;if(v.classList.remove(s?K:W),v.classList.add(s?W:K),this._isVisible!==s&&(this._isVisible=s,this._changeDetectorRef.markForCheck()),s&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const ee=getComputedStyle(v);("0s"===ee.getPropertyValue("animation-duration")||"none"===ee.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}s&&this._onShow(),this._animationsDisabled&&(v.classList.add("_mat-animation-noopable"),this._finalizeAnimation(s))}static#e=this.\u0275fac=function(v){return new(v||B)(z.rXU(z.gRc),z.rXU(z.aKT),z.rXU(z.bc$,8))};static#t=this.\u0275cmp=z.VBU({type:B,selectors:[["mat-tooltip-component"]],viewQuery:function(v,W){if(1&v&&z.GBs(re,7),2&v){let K;z.mGM(K=z.lsd())&&(W._tooltip=K.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(v,W){1&v&&z.bIt("mouseleave",function(ee){return W._handleMouseLeave(ee)}),2&v&&z.xc7("zoom",W.isVisible()?1:null)},standalone:!0,features:[z.aNF],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(v,W){if(1&v){const K=z.RV6();z.j41(0,"div",1,0),z.bIt("animationend",function(ce){return z.eBV(K),z.Njj(W._handleAnimationEnd(ce))}),z.j41(2,"div",2),z.EFF(3),z.k0s()()}2&v&&(z.AVh("mdc-tooltip--multiline",W._isMultiline),z.Y8G("ngClass",W.tooltipClass),z.R7$(3),z.JRh(W.message))},dependencies:[x.YU],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color);color:var(--mdc-plain-tooltip-supporting-text-color);border-radius:var(--mdc-plain-tooltip-container-shape);font-family:var(--mdc-plain-tooltip-supporting-text-font);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return B})(),T=(()=>{class B{static#e=this.\u0275fac=function(v){return new(v||B)};static#t=this.\u0275mod=z.$C({type:B});static#n=this.\u0275inj=z.G2t({providers:[ae],imports:[A.Pd,x.MD,F.z_,G.yE,G.yE,L.Gj]})}return B})()},345:(je,H,w)=>{"use strict";w.d(H,{B7:()=>xe,B8:()=>K,hE:()=>fe,up:()=>Ae});var d=w(60177),E=w(93953);class k extends d.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class z extends k{static makeCurrent(){(0,d.ZD)(new z)}onAndCancel(Et,ft,Ht){return Et.addEventListener(ft,Ht),()=>{Et.removeEventListener(ft,Ht)}}dispatchEvent(Et,ft){Et.dispatchEvent(ft)}remove(Et){Et.remove()}createElement(Et,ft){return(ft=ft||this.getDefaultDocument()).createElement(Et)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Et){return Et.nodeType===Node.ELEMENT_NODE}isShadowRoot(Et){return Et instanceof DocumentFragment}getGlobalEventTarget(Et,ft){return"window"===ft?window:"document"===ft?Et:"body"===ft?Et.body:null}getBaseHref(Et){const ft=function O(){return x=x||document.querySelector("base"),x?x.getAttribute("href"):null}();return null==ft?null:function A(Qt){return new URL(Qt,document.baseURI).pathname}(ft)}resetBaseElement(){x=null}getUserAgent(){return window.navigator.userAgent}getCookie(Et){return(0,d._b)(document.cookie,Et)}}let x=null,F=(()=>{class Qt{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(Ht){return new(Ht||Qt)};static#t=this.\u0275prov=E.jDH({token:Qt,factory:Qt.\u0275fac})}return Qt})();const L=new E.nKC("");let D=(()=>{class Qt{constructor(ft,Ht){this._zone=Ht,this._eventNameToPlugin=new Map,ft.forEach(qt=>{qt.manager=this}),this._plugins=ft.slice().reverse()}addEventListener(ft,Ht,qt){return this._findPluginFor(Ht).addEventListener(ft,Ht,qt)}getZone(){return this._zone}_findPluginFor(ft){let Ht=this._eventNameToPlugin.get(ft);if(Ht)return Ht;if(Ht=this._plugins.find(hn=>hn.supports(ft)),!Ht)throw new E.wOt(5101,!1);return this._eventNameToPlugin.set(ft,Ht),Ht}static#e=this.\u0275fac=function(Ht){return new(Ht||Qt)(E.KVO(L),E.KVO(E.SKi))};static#t=this.\u0275prov=E.jDH({token:Qt,factory:Qt.\u0275fac})}return Qt})();class X{constructor(Et){this._doc=Et}}const j="ng-app-id";let G=(()=>{class Qt{constructor(ft,Ht,qt,hn={}){this.doc=ft,this.appId=Ht,this.nonce=qt,this.platformId=hn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,d.Vy)(hn),this.resetHostNodes()}addStyles(ft){for(const Ht of ft)1===this.changeUsageCount(Ht,1)&&this.onStyleAdded(Ht)}removeStyles(ft){for(const Ht of ft)this.changeUsageCount(Ht,-1)<=0&&this.onStyleRemoved(Ht)}ngOnDestroy(){const ft=this.styleNodesInDOM;ft&&(ft.forEach(Ht=>Ht.remove()),ft.clear());for(const Ht of this.getAllStyles())this.onStyleRemoved(Ht);this.resetHostNodes()}addHost(ft){this.hostNodes.add(ft);for(const Ht of this.getAllStyles())this.addStyleToHost(ft,Ht)}removeHost(ft){this.hostNodes.delete(ft)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ft){for(const Ht of this.hostNodes)this.addStyleToHost(Ht,ft)}onStyleRemoved(ft){const Ht=this.styleRef;Ht.get(ft)?.elements?.forEach(qt=>qt.remove()),Ht.delete(ft)}collectServerRenderedStyles(){const ft=this.doc.head?.querySelectorAll(`style[${j}="${this.appId}"]`);if(ft?.length){const Ht=new Map;return ft.forEach(qt=>{null!=qt.textContent&&Ht.set(qt.textContent,qt)}),Ht}return null}changeUsageCount(ft,Ht){const qt=this.styleRef;if(qt.has(ft)){const hn=qt.get(ft);return hn.usage+=Ht,hn.usage}return qt.set(ft,{usage:Ht,elements:[]}),Ht}getStyleElement(ft,Ht){const qt=this.styleNodesInDOM,hn=qt?.get(Ht);if(hn?.parentNode===ft)return qt.delete(Ht),hn.removeAttribute(j),hn;{const hr=this.doc.createElement("style");return this.nonce&&hr.setAttribute("nonce",this.nonce),hr.textContent=Ht,this.platformIsServer&&hr.setAttribute(j,this.appId),ft.appendChild(hr),hr}}addStyleToHost(ft,Ht){const qt=this.getStyleElement(ft,Ht),hn=this.styleRef,hr=hn.get(Ht)?.elements;hr?hr.push(qt):hn.set(Ht,{elements:[qt],usage:1})}resetHostNodes(){const ft=this.hostNodes;ft.clear(),ft.add(this.doc.head)}static#e=this.\u0275fac=function(Ht){return new(Ht||Qt)(E.KVO(d.qQ),E.KVO(E.sZ2),E.KVO(E.BIS,8),E.KVO(E.Agw))};static#t=this.\u0275prov=E.jDH({token:Qt,factory:Qt.\u0275fac})}return Qt})();const re={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},te=/%COMP%/g,J="%COMP%",Z=`_nghost-${J}`,ie=`_ngcontent-${J}`,se=new E.nKC("",{providedIn:"root",factory:()=>!0});function be(Qt,Et){return Et.map(ft=>ft.replace(te,Qt))}let xe=(()=>{class Qt{constructor(ft,Ht,qt,hn,hr,vt,St,Mt=null){this.eventManager=ft,this.sharedStylesHost=Ht,this.appId=qt,this.removeStylesOnCompDestroy=hn,this.doc=hr,this.platformId=vt,this.ngZone=St,this.nonce=Mt,this.rendererByCompId=new Map,this.platformIsServer=(0,d.Vy)(vt),this.defaultRenderer=new ke(ft,hr,St,this.platformIsServer)}createRenderer(ft,Ht){if(!ft||!Ht)return this.defaultRenderer;this.platformIsServer&&Ht.encapsulation===E.gXe.ShadowDom&&(Ht={...Ht,encapsulation:E.gXe.Emulated});const qt=this.getOrCreateRenderer(ft,Ht);return qt instanceof M?qt.applyToHost(ft):qt instanceof g&&qt.applyStyles(),qt}getOrCreateRenderer(ft,Ht){const qt=this.rendererByCompId;let hn=qt.get(Ht.id);if(!hn){const hr=this.doc,vt=this.ngZone,St=this.eventManager,Mt=this.sharedStylesHost,Ye=this.removeStylesOnCompDestroy,nt=this.platformIsServer;switch(Ht.encapsulation){case E.gXe.Emulated:hn=new M(St,Mt,Ht,this.appId,Ye,hr,vt,nt);break;case E.gXe.ShadowDom:return new y(St,Mt,ft,Ht,hr,vt,this.nonce,nt);default:hn=new g(St,Mt,Ht,Ye,hr,vt,nt)}qt.set(Ht.id,hn)}return hn}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(Ht){return new(Ht||Qt)(E.KVO(D),E.KVO(G),E.KVO(E.sZ2),E.KVO(se),E.KVO(d.qQ),E.KVO(E.Agw),E.KVO(E.SKi),E.KVO(E.BIS))};static#t=this.\u0275prov=E.jDH({token:Qt,factory:Qt.\u0275fac})}return Qt})();class ke{constructor(Et,ft,Ht,qt){this.eventManager=Et,this.doc=ft,this.ngZone=Ht,this.platformIsServer=qt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Et,ft){return ft?this.doc.createElementNS(re[ft]||ft,Et):this.doc.createElement(Et)}createComment(Et){return this.doc.createComment(Et)}createText(Et){return this.doc.createTextNode(Et)}appendChild(Et,ft){(f(Et)?Et.content:Et).appendChild(ft)}insertBefore(Et,ft,Ht){Et&&(f(Et)?Et.content:Et).insertBefore(ft,Ht)}removeChild(Et,ft){ft.remove()}selectRootElement(Et,ft){let Ht="string"==typeof Et?this.doc.querySelector(Et):Et;if(!Ht)throw new E.wOt(-5104,!1);return ft||(Ht.textContent=""),Ht}parentNode(Et){return Et.parentNode}nextSibling(Et){return Et.nextSibling}setAttribute(Et,ft,Ht,qt){if(qt){ft=qt+":"+ft;const hn=re[qt];hn?Et.setAttributeNS(hn,ft,Ht):Et.setAttribute(ft,Ht)}else Et.setAttribute(ft,Ht)}removeAttribute(Et,ft,Ht){if(Ht){const qt=re[Ht];qt?Et.removeAttributeNS(qt,ft):Et.removeAttribute(`${Ht}:${ft}`)}else Et.removeAttribute(ft)}addClass(Et,ft){Et.classList.add(ft)}removeClass(Et,ft){Et.classList.remove(ft)}setStyle(Et,ft,Ht,qt){qt&(E.czy.DashCase|E.czy.Important)?Et.style.setProperty(ft,Ht,qt&E.czy.Important?"important":""):Et.style[ft]=Ht}removeStyle(Et,ft,Ht){Ht&E.czy.DashCase?Et.style.removeProperty(ft):Et.style[ft]=""}setProperty(Et,ft,Ht){null!=Et&&(Et[ft]=Ht)}setValue(Et,ft){Et.nodeValue=ft}listen(Et,ft,Ht){if("string"==typeof Et&&!(Et=(0,d.QT)().getGlobalEventTarget(this.doc,Et)))throw new Error(`Unsupported event target ${Et} for event ${ft}`);return this.eventManager.addEventListener(Et,ft,this.decoratePreventDefault(Ht))}decoratePreventDefault(Et){return ft=>{if("__ngUnwrap__"===ft)return Et;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Et(ft)):Et(ft))&&ft.preventDefault()}}}function f(Qt){return"TEMPLATE"===Qt.tagName&&void 0!==Qt.content}class y extends ke{constructor(Et,ft,Ht,qt,hn,hr,vt,St){super(Et,hn,hr,St),this.sharedStylesHost=ft,this.hostEl=Ht,this.shadowRoot=Ht.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Mt=be(qt.id,qt.styles);for(const Ye of Mt){const nt=document.createElement("style");vt&&nt.setAttribute("nonce",vt),nt.textContent=Ye,this.shadowRoot.appendChild(nt)}}nodeOrShadowRoot(Et){return Et===this.hostEl?this.shadowRoot:Et}appendChild(Et,ft){return super.appendChild(this.nodeOrShadowRoot(Et),ft)}insertBefore(Et,ft,Ht){return super.insertBefore(this.nodeOrShadowRoot(Et),ft,Ht)}removeChild(Et,ft){return super.removeChild(null,ft)}parentNode(Et){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Et)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class g extends ke{constructor(Et,ft,Ht,qt,hn,hr,vt,St){super(Et,hn,hr,vt),this.sharedStylesHost=ft,this.removeStylesOnCompDestroy=qt,this.styles=St?be(St,Ht.styles):Ht.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class M extends g{constructor(Et,ft,Ht,qt,hn,hr,vt,St){const Mt=qt+"-"+Ht.id;super(Et,ft,Ht,hn,hr,vt,St,Mt),this.contentAttr=function de(Qt){return ie.replace(te,Qt)}(Mt),this.hostAttr=function le(Qt){return Z.replace(te,Qt)}(Mt)}applyToHost(Et){this.applyStyles(),this.setAttribute(Et,this.hostAttr,"")}createElement(Et,ft){const Ht=super.createElement(Et,ft);return super.setAttribute(Ht,this.contentAttr,""),Ht}}let T=(()=>{class Qt extends X{constructor(ft){super(ft)}supports(ft){return!0}addEventListener(ft,Ht,qt){return ft.addEventListener(Ht,qt,!1),()=>this.removeEventListener(ft,Ht,qt)}removeEventListener(ft,Ht,qt){return ft.removeEventListener(Ht,qt)}static#e=this.\u0275fac=function(Ht){return new(Ht||Qt)(E.KVO(d.qQ))};static#t=this.\u0275prov=E.jDH({token:Qt,factory:Qt.\u0275fac})}return Qt})(),B=(()=>{class Qt extends X{constructor(ft){super(ft),this.delegate=(0,E.WQX)(E.zAP,{optional:!0})}supports(ft){return!!this.delegate&&this.delegate.supports(ft)}addEventListener(ft,Ht,qt){return this.delegate.addEventListener(ft,Ht,qt)}removeEventListener(ft,Ht,qt){return this.delegate.removeEventListener(ft,Ht,qt)}static#e=this.\u0275fac=function(Ht){return new(Ht||Qt)(E.KVO(d.qQ))};static#t=this.\u0275prov=E.jDH({token:Qt,factory:Qt.\u0275fac})}return Qt})();const S=["alt","control","meta","shift"],s={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},v={alt:Qt=>Qt.altKey,control:Qt=>Qt.ctrlKey,meta:Qt=>Qt.metaKey,shift:Qt=>Qt.shiftKey};let W=(()=>{class Qt extends X{constructor(ft){super(ft)}supports(ft){return null!=Qt.parseEventName(ft)}addEventListener(ft,Ht,qt){const hn=Qt.parseEventName(Ht),hr=Qt.eventCallback(hn.fullKey,qt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,d.QT)().onAndCancel(ft,hn.domEventName,hr))}static parseEventName(ft){const Ht=ft.toLowerCase().split("."),qt=Ht.shift();if(0===Ht.length||"keydown"!==qt&&"keyup"!==qt)return null;const hn=Qt._normalizeKey(Ht.pop());let hr="",vt=Ht.indexOf("code");if(vt>-1&&(Ht.splice(vt,1),hr="code."),S.forEach(Mt=>{const Ye=Ht.indexOf(Mt);Ye>-1&&(Ht.splice(Ye,1),hr+=Mt+".")}),hr+=hn,0!=Ht.length||0===hn.length)return null;const St={};return St.domEventName=qt,St.fullKey=hr,St}static matchEventFullKeyCode(ft,Ht){let qt=s[ft.key]||ft.key,hn="";return Ht.indexOf("code.")>-1&&(qt=ft.code,hn="code."),!(null==qt||!qt)&&(qt=qt.toLowerCase()," "===qt?qt="space":"."===qt&&(qt="dot"),S.forEach(hr=>{hr!==qt&&(0,v[hr])(ft)&&(hn+=hr+".")}),hn+=qt,hn===Ht)}static eventCallback(ft,Ht,qt){return hn=>{Qt.matchEventFullKeyCode(hn,ft)&&qt.runGuarded(()=>Ht(hn))}}static _normalizeKey(ft){return"esc"===ft?"escape":ft}static#e=this.\u0275fac=function(Ht){return new(Ht||Qt)(E.KVO(d.qQ))};static#t=this.\u0275prov=E.jDH({token:Qt,factory:Qt.\u0275fac})}return Qt})();function K(Qt,Et){return(0,E.TL3)({rootComponent:Qt,...ce(Et)})}function ce(Qt){return{appProviders:[...pe,...Qt?.providers??[]],platformProviders:we}}const we=[{provide:E.Agw,useValue:d.AJ},{provide:E.PLl,useValue:function Oe(){z.makeCurrent()},multi:!0},{provide:d.qQ,useFactory:function Se(){return(0,E.TL$)(document),document},deps:[]}],pe=[{provide:E.H8p,useValue:"root"},{provide:E.zcH,useFactory:function Ve(){return new E.zcH},deps:[]},{provide:L,useClass:T,multi:!0,deps:[d.qQ,E.SKi,E.Agw]},{provide:L,useClass:W,multi:!0,deps:[d.qQ]},{provide:L,useClass:B,multi:!0},xe,G,D,{provide:E._9s,useExisting:xe},{provide:d.N0,useClass:F,deps:[]},[]];let fe=(()=>{class Qt{constructor(ft){this._doc=ft}getTitle(){return this._doc.title}setTitle(ft){this._doc.title=ft||""}static#e=this.\u0275fac=function(Ht){return new(Ht||Qt)(E.KVO(d.qQ))};static#t=this.\u0275prov=E.jDH({token:Qt,factory:Qt.\u0275fac,providedIn:"root"})}return Qt})(),Ae=(()=>{class Qt{static#e=this.\u0275fac=function(Ht){return new(Ht||Qt)};static#t=this.\u0275prov=E.jDH({token:Qt,factory:function(Ht){let qt=null;return qt=Ht?new(Ht||Qt):E.KVO(tt),qt},providedIn:"root"})}return Qt})(),tt=(()=>{class Qt extends Ae{constructor(ft){super(),this._doc=ft}sanitize(ft,Ht){if(null==Ht)return null;switch(ft){case E.WPN.NONE:return Ht;case E.WPN.HTML:return(0,E.ZF7)(Ht,"HTML")?(0,E.rcV)(Ht):(0,E.h9k)(this._doc,String(Ht)).toString();case E.WPN.STYLE:return(0,E.ZF7)(Ht,"Style")?(0,E.rcV)(Ht):Ht;case E.WPN.SCRIPT:if((0,E.ZF7)(Ht,"Script"))return(0,E.rcV)(Ht);throw new E.wOt(5200,!1);case E.WPN.URL:return(0,E.ZF7)(Ht,"URL")?(0,E.rcV)(Ht):(0,E.$MX)(String(Ht));case E.WPN.RESOURCE_URL:if((0,E.ZF7)(Ht,"ResourceURL"))return(0,E.rcV)(Ht);throw new E.wOt(5201,!1);default:throw new E.wOt(5202,!1)}}bypassSecurityTrustHtml(ft){return(0,E.Kcf)(ft)}bypassSecurityTrustStyle(ft){return(0,E.cWb)(ft)}bypassSecurityTrustScript(ft){return(0,E.UyX)(ft)}bypassSecurityTrustUrl(ft){return(0,E.osQ)(ft)}bypassSecurityTrustResourceUrl(ft){return(0,E.e5t)(ft)}static#e=this.\u0275fac=function(Ht){return new(Ht||Qt)(E.KVO(d.qQ))};static#t=this.\u0275prov=E.jDH({token:Qt,factory:Qt.\u0275fac,providedIn:"root"})}return Qt})()},18498:(je,H,w)=>{"use strict";w.d(H,{nX:()=>Qi,wF:()=>Sr,Z:()=>Ar,Kp:()=>Pu,Ix:()=>Ms,Wk:()=>La,wQ:()=>Ac,iI:()=>an,n3:()=>ic,lh:()=>mt,Sn:()=>me});var d=w(93953),E=w(74402),k=w(86648),z=w(7673),x=w(84412),O=w(84572);const P=(0,w(81853).L)(Ge=>function(){Ge(this),this.name="EmptyError",this.message="no elements in sequence"});var F=w(28793),L=w(59030),D=w(71203),X=w(18810),j=w(983),G=w(30017),re=w(21413),te=w(18359),J=w(60177),Z=w(96354),ie=w(25558),ae=w(96697),se=w(99172),de=w(5964),le=w(31397),be=w(39974),xe=w(54360);function ke(Ge){return(0,be.N)((ut,Qe)=>{let yt=!1;ut.subscribe((0,xe._)(Qe,Ut=>{yt=!0,Qe.next(Ut)},()=>{yt||Qe.next(Ge),Qe.complete()}))})}function C(Ge=a){return(0,be.N)((ut,Qe)=>{let yt=!1;ut.subscribe((0,xe._)(Qe,Ut=>{yt=!0,Qe.next(Ut)},()=>yt?Qe.complete():Qe.error(Ge())))})}function a(){return new P}var f=w(33669);function y(Ge,ut){const Qe=arguments.length>=2;return yt=>yt.pipe(Ge?(0,de.p)((Ut,cn)=>Ge(Ut,cn,yt)):f.D,(0,ae.s)(1),Qe?ke(ut):C(()=>new P))}var g=w(70274),M=w(88141),T=w(99437);function s(Ge){return Ge<=0?()=>j.w:(0,be.N)((ut,Qe)=>{let yt=[];ut.subscribe((0,xe._)(Qe,Ut=>{yt.push(Ut),Ge<yt.length&&yt.shift()},()=>{for(const Ut of yt)Qe.next(Ut);Qe.complete()},void 0,()=>{yt=null}))})}var W=w(73703),K=w(70980),ee=w(99898),ce=w(56977),_e=w(26365),Oe=w(345);const Ve="primary",Se=Symbol("RouteTitle");class we{constructor(ut){this.params=ut||{}}has(ut){return Object.prototype.hasOwnProperty.call(this.params,ut)}get(ut){if(this.has(ut)){const Qe=this.params[ut];return Array.isArray(Qe)?Qe[0]:Qe}return null}getAll(ut){if(this.has(ut)){const Qe=this.params[ut];return Array.isArray(Qe)?Qe:[Qe]}return[]}get keys(){return Object.keys(this.params)}}function Ue(Ge){return new we(Ge)}function ye(Ge,ut,Qe){const yt=Qe.path.split("/");if(yt.length>Ge.length||"full"===Qe.pathMatch&&(ut.hasChildren()||yt.length<Ge.length))return null;const Ut={};for(let cn=0;cn<yt.length;cn++){const Dn=yt[cn],sr=Ge[cn];if(":"===Dn[0])Ut[Dn.substring(1)]=sr;else if(Dn!==sr.path)return null}return{consumed:Ge.slice(0,yt.length),posParams:Ut}}function pe(Ge,ut){const Qe=Ge?ue(Ge):void 0,yt=ut?ue(ut):void 0;if(!Qe||!yt||Qe.length!=yt.length)return!1;let Ut;for(let cn=0;cn<Qe.length;cn++)if(Ut=Qe[cn],!Q(Ge[Ut],ut[Ut]))return!1;return!0}function ue(Ge){return[...Object.keys(Ge),...Object.getOwnPropertySymbols(Ge)]}function Q(Ge,ut){if(Array.isArray(Ge)&&Array.isArray(ut)){if(Ge.length!==ut.length)return!1;const Qe=[...Ge].sort(),yt=[...ut].sort();return Qe.every((Ut,cn)=>yt[cn]===Ut)}return Ge===ut}function oe(Ge){return Ge.length>0?Ge[Ge.length-1]:null}function fe(Ge){return(0,E.A)(Ge)?Ge:(0,d.jNT)(Ge)?(0,k.H)(Promise.resolve(Ge)):(0,z.of)(Ge)}const Ee={exact:function _t(Ge,ut,Qe){if(!ge(Ge.segments,ut.segments)||!N(Ge.segments,ut.segments,Qe)||Ge.numberOfChildren!==ut.numberOfChildren)return!1;for(const yt in ut.children)if(!Ge.children[yt]||!_t(Ge.children[yt],ut.children[yt],Qe))return!1;return!0},subset:Le},Re={exact:function Fe(Ge,ut){return pe(Ge,ut)},subset:function We(Ge,ut){return Object.keys(ut).length<=Object.keys(Ge).length&&Object.keys(ut).every(Qe=>Q(Ge[Qe],ut[Qe]))},ignored:()=>!0};function $e(Ge,ut,Qe){return Ee[Qe.paths](Ge.root,ut.root,Qe.matrixParams)&&Re[Qe.queryParams](Ge.queryParams,ut.queryParams)&&!("exact"===Qe.fragment&&Ge.fragment!==ut.fragment)}function Le(Ge,ut,Qe){return lt(Ge,ut,ut.segments,Qe)}function lt(Ge,ut,Qe,yt){if(Ge.segments.length>Qe.length){const Ut=Ge.segments.slice(0,Qe.length);return!(!ge(Ut,Qe)||ut.hasChildren()||!N(Ut,Qe,yt))}if(Ge.segments.length===Qe.length){if(!ge(Ge.segments,Qe)||!N(Ge.segments,Qe,yt))return!1;for(const Ut in ut.children)if(!Ge.children[Ut]||!Le(Ge.children[Ut],ut.children[Ut],yt))return!1;return!0}{const Ut=Qe.slice(0,Ge.segments.length),cn=Qe.slice(Ge.segments.length);return!!(ge(Ge.segments,Ut)&&N(Ge.segments,Ut,yt)&&Ge.children[Ve])&&lt(Ge.children[Ve],ut,cn,yt)}}function N(Ge,ut,Qe){return ut.every((yt,Ut)=>Re[Qe](Ge[Ut].parameters,yt.parameters))}class _{constructor(ut=new m([],{}),Qe={},yt=null){this.root=ut,this.queryParams=Qe,this.fragment=yt}get queryParamMap(){return this._queryParamMap??=Ue(this.queryParams),this._queryParamMap}toString(){return gt.serialize(this)}}class m{constructor(ut,Qe){this.segments=ut,this.children=Qe,this.parent=null,Object.values(Qe).forEach(yt=>yt.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return It(this)}}class U{constructor(ut,Qe){this.path=ut,this.parameters=Qe}get parameterMap(){return this._parameterMap??=Ue(this.parameters),this._parameterMap}toString(){return Et(this)}}function ge(Ge,ut){return Ge.length===ut.length&&Ge.every((Qe,yt)=>Qe.path===ut[yt].path)}let tt=(()=>{class Ge{static#e=this.\u0275fac=function(yt){return new(yt||Ge)};static#t=this.\u0275prov=d.jDH({token:Ge,factory:()=>new Bt,providedIn:"root"})}return Ge})();class Bt{parse(ut){const Qe=new Wt(ut);return new _(Qe.parseRootSegment(),Qe.parseQueryParams(),Qe.parseFragment())}serialize(ut){const Qe=`/${Zt(ut.root,!0)}`,yt=function Ht(Ge){const ut=Object.entries(Ge).map(([Qe,yt])=>Array.isArray(yt)?yt.map(Ut=>`${dn(Qe)}=${dn(Ut)}`).join("&"):`${dn(Qe)}=${dn(yt)}`).filter(Qe=>Qe);return ut.length?`?${ut.join("&")}`:""}(ut.queryParams);return`${Qe}${yt}${"string"==typeof ut.fragment?`#${function ar(Ge){return encodeURI(Ge)}(ut.fragment)}`:""}`}}const gt=new Bt;function It(Ge){return Ge.segments.map(ut=>Et(ut)).join("/")}function Zt(Ge,ut){if(!Ge.hasChildren())return It(Ge);if(ut){const Qe=Ge.children[Ve]?Zt(Ge.children[Ve],!1):"",yt=[];return Object.entries(Ge.children).forEach(([Ut,cn])=>{Ut!==Ve&&yt.push(`${Ut}:${Zt(cn,!1)}`)}),yt.length>0?`${Qe}(${yt.join("//")})`:Qe}{const Qe=function Ae(Ge,ut){let Qe=[];return Object.entries(Ge.children).forEach(([yt,Ut])=>{yt===Ve&&(Qe=Qe.concat(ut(Ut,yt)))}),Object.entries(Ge.children).forEach(([yt,Ut])=>{yt!==Ve&&(Qe=Qe.concat(ut(Ut,yt)))}),Qe}(Ge,(yt,Ut)=>Ut===Ve?[Zt(Ge.children[Ve],!1)]:[`${Ut}:${Zt(yt,!1)}`]);return 1===Object.keys(Ge.children).length&&null!=Ge.children[Ve]?`${It(Ge)}/${Qe[0]}`:`${It(Ge)}/(${Qe.join("//")})`}}function mn(Ge){return encodeURIComponent(Ge).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dn(Ge){return mn(Ge).replace(/%3B/gi,";")}function An(Ge){return mn(Ge).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function en(Ge){return decodeURIComponent(Ge)}function Qt(Ge){return en(Ge.replace(/\+/g,"%20"))}function Et(Ge){return`${An(Ge.path)}${function ft(Ge){return Object.entries(Ge).map(([ut,Qe])=>`;${An(ut)}=${An(Qe)}`).join("")}(Ge.parameters)}`}const qt=/^[^\/()?;#]+/;function hn(Ge){const ut=Ge.match(qt);return ut?ut[0]:""}const hr=/^[^\/()?;=#]+/,St=/^[^=?&#]+/,Ye=/^[^&#]+/;class Wt{constructor(ut){this.url=ut,this.remaining=ut}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new m([],{}):new m([],this.parseChildren())}parseQueryParams(){const ut={};if(this.consumeOptional("?"))do{this.parseQueryParam(ut)}while(this.consumeOptional("&"));return ut}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const ut=[];for(this.peekStartsWith("(")||ut.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),ut.push(this.parseSegment());let Qe={};this.peekStartsWith("/(")&&(this.capture("/"),Qe=this.parseParens(!0));let yt={};return this.peekStartsWith("(")&&(yt=this.parseParens(!1)),(ut.length>0||Object.keys(Qe).length>0)&&(yt[Ve]=new m(ut,Qe)),yt}parseSegment(){const ut=hn(this.remaining);if(""===ut&&this.peekStartsWith(";"))throw new d.wOt(4009,!1);return this.capture(ut),new U(en(ut),this.parseMatrixParams())}parseMatrixParams(){const ut={};for(;this.consumeOptional(";");)this.parseParam(ut);return ut}parseParam(ut){const Qe=function vt(Ge){const ut=Ge.match(hr);return ut?ut[0]:""}(this.remaining);if(!Qe)return;this.capture(Qe);let yt="";if(this.consumeOptional("=")){const Ut=hn(this.remaining);Ut&&(yt=Ut,this.capture(yt))}ut[en(Qe)]=en(yt)}parseQueryParam(ut){const Qe=function Mt(Ge){const ut=Ge.match(St);return ut?ut[0]:""}(this.remaining);if(!Qe)return;this.capture(Qe);let yt="";if(this.consumeOptional("=")){const Dn=function nt(Ge){const ut=Ge.match(Ye);return ut?ut[0]:""}(this.remaining);Dn&&(yt=Dn,this.capture(yt))}const Ut=Qt(Qe),cn=Qt(yt);if(ut.hasOwnProperty(Ut)){let Dn=ut[Ut];Array.isArray(Dn)||(Dn=[Dn],ut[Ut]=Dn),Dn.push(cn)}else ut[Ut]=cn}parseParens(ut){const Qe={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const yt=hn(this.remaining),Ut=this.remaining[yt.length];if("/"!==Ut&&")"!==Ut&&";"!==Ut)throw new d.wOt(4010,!1);let cn;yt.indexOf(":")>-1?(cn=yt.slice(0,yt.indexOf(":")),this.capture(cn),this.capture(":")):ut&&(cn=Ve);const Dn=this.parseChildren();Qe[cn]=1===Object.keys(Dn).length?Dn[Ve]:new m([],Dn),this.consumeOptional("//")}return Qe}peekStartsWith(ut){return this.remaining.startsWith(ut)}consumeOptional(ut){return!!this.peekStartsWith(ut)&&(this.remaining=this.remaining.substring(ut.length),!0)}capture(ut){if(!this.consumeOptional(ut))throw new d.wOt(4011,!1)}}function Nt(Ge){return Ge.segments.length>0?new m([],{[Ve]:Ge}):Ge}function un(Ge){const ut={};for(const[yt,Ut]of Object.entries(Ge.children)){const cn=un(Ut);if(yt===Ve&&0===cn.segments.length&&cn.hasChildren())for(const[Dn,sr]of Object.entries(cn.children))ut[Dn]=sr;else(cn.segments.length>0||cn.hasChildren())&&(ut[yt]=cn)}return function Wn(Ge){if(1===Ge.numberOfChildren&&Ge.children[Ve]){const ut=Ge.children[Ve];return new m(Ge.segments.concat(ut.segments),ut.children)}return Ge}(new m(Ge.segments,ut))}function En(Ge){return Ge instanceof _}function Or(Ge){let ut;const Ut=Nt(function Qe(cn){const Dn={};for(const Gn of cn.children){const Gr=Qe(Gn);Dn[Gn.outlet]=Gr}const sr=new m(cn.url,Dn);return cn===Ge&&(ut=sr),sr}(Ge.root));return ut??Ut}function Jn(Ge,ut,Qe,yt){let Ut=Ge;for(;Ut.parent;)Ut=Ut.parent;if(0===ut.length)return et(Ut,Ut,Ut,Qe,yt);const cn=function xt(Ge){if("string"==typeof Ge[0]&&1===Ge.length&&"/"===Ge[0])return new Ne(!0,0,Ge);let ut=0,Qe=!1;const yt=Ge.reduce((Ut,cn,Dn)=>{if("object"==typeof cn&&null!=cn){if(cn.outlets){const sr={};return Object.entries(cn.outlets).forEach(([Gn,Gr])=>{sr[Gn]="string"==typeof Gr?Gr.split("/"):Gr}),[...Ut,{outlets:sr}]}if(cn.segmentPath)return[...Ut,cn.segmentPath]}return"string"!=typeof cn?[...Ut,cn]:0===Dn?(cn.split("/").forEach((sr,Gn)=>{0==Gn&&"."===sr||(0==Gn&&""===sr?Qe=!0:".."===sr?ut++:""!=sr&&Ut.push(sr))}),Ut):[...Ut,cn]},[]);return new Ne(Qe,ut,yt)}(ut);if(cn.toRoot())return et(Ut,Ut,new m([],{}),Qe,yt);const Dn=function In(Ge,ut,Qe){if(Ge.isAbsolute)return new nn(ut,!0,0);if(!Qe)return new nn(ut,!1,NaN);if(null===Qe.parent)return new nn(Qe,!0,0);const yt=Fn(Ge.commands[0])?0:1;return function Kn(Ge,ut,Qe){let yt=Ge,Ut=ut,cn=Qe;for(;cn>Ut;){if(cn-=Ut,yt=yt.parent,!yt)throw new d.wOt(4005,!1);Ut=yt.segments.length}return new nn(yt,!1,Ut-cn)}(Qe,Qe.segments.length-1+yt,Ge.numberOfDoubleDots)}(cn,Ut,Ge),sr=Dn.processChildren?Tr(Dn.segmentGroup,Dn.index,cn.commands):_r(Dn.segmentGroup,Dn.index,cn.commands);return et(Ut,Dn.segmentGroup,sr,Qe,yt)}function Fn(Ge){return"object"==typeof Ge&&null!=Ge&&!Ge.outlets&&!Ge.segmentPath}function Lt(Ge){return"object"==typeof Ge&&null!=Ge&&Ge.outlets}function et(Ge,ut,Qe,yt,Ut){let Dn,cn={};yt&&Object.entries(yt).forEach(([Gn,Gr])=>{cn[Gn]=Array.isArray(Gr)?Gr.map(Ui=>`${Ui}`):`${Gr}`}),Dn=Ge===ut?Qe:Te(Ge,ut,Qe);const sr=Nt(un(Dn));return new _(sr,cn,Ut)}function Te(Ge,ut,Qe){const yt={};return Object.entries(Ge.children).forEach(([Ut,cn])=>{yt[Ut]=cn===ut?Qe:Te(cn,ut,Qe)}),new m(Ge.segments,yt)}class Ne{constructor(ut,Qe,yt){if(this.isAbsolute=ut,this.numberOfDoubleDots=Qe,this.commands=yt,ut&&yt.length>0&&Fn(yt[0]))throw new d.wOt(4003,!1);const Ut=yt.find(Lt);if(Ut&&Ut!==oe(yt))throw new d.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class nn{constructor(ut,Qe,yt){this.segmentGroup=ut,this.processChildren=Qe,this.index=yt}}function _r(Ge,ut,Qe){if(Ge??=new m([],{}),0===Ge.segments.length&&Ge.hasChildren())return Tr(Ge,ut,Qe);const yt=function Br(Ge,ut,Qe){let yt=0,Ut=ut;const cn={match:!1,pathIndex:0,commandIndex:0};for(;Ut<Ge.segments.length;){if(yt>=Qe.length)return cn;const Dn=Ge.segments[Ut],sr=Qe[yt];if(Lt(sr))break;const Gn=`${sr}`,Gr=yt<Qe.length-1?Qe[yt+1]:null;if(Ut>0&&void 0===Gn)break;if(Gn&&Gr&&"object"==typeof Gr&&void 0===Gr.outlets){if(!_n(Gn,Gr,Dn))return cn;yt+=2}else{if(!_n(Gn,{},Dn))return cn;yt++}Ut++}return{match:!0,pathIndex:Ut,commandIndex:yt}}(Ge,ut,Qe),Ut=Qe.slice(yt.commandIndex);if(yt.match&&yt.pathIndex<Ge.segments.length){const cn=new m(Ge.segments.slice(0,yt.pathIndex),{});return cn.children[Ve]=new m(Ge.segments.slice(yt.pathIndex),Ge.children),Tr(cn,0,Ut)}return yt.match&&0===Ut.length?new m(Ge.segments,{}):yt.match&&!Ge.hasChildren()?jr(Ge,ut,Qe):yt.match?Tr(Ge,0,Ut):jr(Ge,ut,Qe)}function Tr(Ge,ut,Qe){if(0===Qe.length)return new m(Ge.segments,{});{const yt=function er(Ge){return Lt(Ge[0])?Ge[0].outlets:{[Ve]:Ge}}(Qe),Ut={};if(Object.keys(yt).some(cn=>cn!==Ve)&&Ge.children[Ve]&&1===Ge.numberOfChildren&&0===Ge.children[Ve].segments.length){const cn=Tr(Ge.children[Ve],ut,Qe);return new m(Ge.segments,cn.children)}return Object.entries(yt).forEach(([cn,Dn])=>{"string"==typeof Dn&&(Dn=[Dn]),null!==Dn&&(Ut[cn]=_r(Ge.children[cn],ut,Dn))}),Object.entries(Ge.children).forEach(([cn,Dn])=>{void 0===yt[cn]&&(Ut[cn]=Dn)}),new m(Ge.segments,Ut)}}function jr(Ge,ut,Qe){const yt=Ge.segments.slice(0,ut);let Ut=0;for(;Ut<Qe.length;){const cn=Qe[Ut];if(Lt(cn)){const Gn=Zr(cn.outlets);return new m(yt,Gn)}if(0===Ut&&Fn(Qe[0])){yt.push(new U(Ge.segments[ut].path,tn(Qe[0]))),Ut++;continue}const Dn=Lt(cn)?cn.outlets[Ve]:`${cn}`,sr=Ut<Qe.length-1?Qe[Ut+1]:null;Dn&&sr&&Fn(sr)?(yt.push(new U(Dn,tn(sr))),Ut+=2):(yt.push(new U(Dn,{})),Ut++)}return new m(yt,{})}function Zr(Ge){const ut={};return Object.entries(Ge).forEach(([Qe,yt])=>{"string"==typeof yt&&(yt=[yt]),null!==yt&&(ut[Qe]=jr(new m([],{}),0,yt))}),ut}function tn(Ge){const ut={};return Object.entries(Ge).forEach(([Qe,yt])=>ut[Qe]=`${yt}`),ut}function _n(Ge,ut,Qe){return Ge==Qe.path&&pe(ut,Qe.parameters)}const Tn="imperative";var jn=function(Ge){return Ge[Ge.NavigationStart=0]="NavigationStart",Ge[Ge.NavigationEnd=1]="NavigationEnd",Ge[Ge.NavigationCancel=2]="NavigationCancel",Ge[Ge.NavigationError=3]="NavigationError",Ge[Ge.RoutesRecognized=4]="RoutesRecognized",Ge[Ge.ResolveStart=5]="ResolveStart",Ge[Ge.ResolveEnd=6]="ResolveEnd",Ge[Ge.GuardsCheckStart=7]="GuardsCheckStart",Ge[Ge.GuardsCheckEnd=8]="GuardsCheckEnd",Ge[Ge.RouteConfigLoadStart=9]="RouteConfigLoadStart",Ge[Ge.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",Ge[Ge.ChildActivationStart=11]="ChildActivationStart",Ge[Ge.ChildActivationEnd=12]="ChildActivationEnd",Ge[Ge.ActivationStart=13]="ActivationStart",Ge[Ge.ActivationEnd=14]="ActivationEnd",Ge[Ge.Scroll=15]="Scroll",Ge[Ge.NavigationSkipped=16]="NavigationSkipped",Ge}(jn||{});class fr{constructor(ut,Qe){this.id=ut,this.url=Qe}}class Ar extends fr{constructor(ut,Qe,yt="imperative",Ut=null){super(ut,Qe),this.type=jn.NavigationStart,this.navigationTrigger=yt,this.restoredState=Ut}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Sr extends fr{constructor(ut,Qe,yt){super(ut,Qe),this.urlAfterRedirects=yt,this.type=jn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var zr=function(Ge){return Ge[Ge.Redirect=0]="Redirect",Ge[Ge.SupersededByNewNavigation=1]="SupersededByNewNavigation",Ge[Ge.NoDataFromResolver=2]="NoDataFromResolver",Ge[Ge.GuardRejected=3]="GuardRejected",Ge}(zr||{}),Kr=function(Ge){return Ge[Ge.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",Ge[Ge.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",Ge}(Kr||{});class ii extends fr{constructor(ut,Qe,yt,Ut){super(ut,Qe),this.reason=yt,this.code=Ut,this.type=jn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class To extends fr{constructor(ut,Qe,yt,Ut){super(ut,Qe),this.reason=yt,this.code=Ut,this.type=jn.NavigationSkipped}}class bi extends fr{constructor(ut,Qe,yt,Ut){super(ut,Qe),this.error=yt,this.target=Ut,this.type=jn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Po extends fr{constructor(ut,Qe,yt,Ut){super(ut,Qe),this.urlAfterRedirects=yt,this.state=Ut,this.type=jn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bo extends fr{constructor(ut,Qe,yt,Ut){super(ut,Qe),this.urlAfterRedirects=yt,this.state=Ut,this.type=jn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ho extends fr{constructor(ut,Qe,yt,Ut,cn){super(ut,Qe),this.urlAfterRedirects=yt,this.state=Ut,this.shouldActivate=cn,this.type=jn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fi extends fr{constructor(ut,Qe,yt,Ut){super(ut,Qe),this.urlAfterRedirects=yt,this.state=Ut,this.type=jn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fi extends fr{constructor(ut,Qe,yt,Ut){super(ut,Qe),this.urlAfterRedirects=yt,this.state=Ut,this.type=jn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ni{constructor(ut){this.route=ut,this.type=jn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Aa{constructor(ut){this.route=ut,this.type=jn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _i{constructor(ut){this.snapshot=ut,this.type=jn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class is{constructor(ut){this.snapshot=ut,this.type=jn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Us{constructor(ut){this.snapshot=ut,this.type=jn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Co{constructor(ut){this.snapshot=ut,this.type=jn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ki{constructor(ut,Qe,yt){this.routerEvent=ut,this.position=Qe,this.anchor=yt,this.type=jn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ps{}class da{constructor(ut,Qe){this.url=ut,this.navigationBehaviorOptions=Qe}}function ya(Ge){return Ge.outlet||Ve}function Ta(Ge){if(!Ge)return null;if(Ge.routeConfig?._injector)return Ge.routeConfig._injector;for(let ut=Ge.parent;ut;ut=ut.parent){const Qe=ut.routeConfig;if(Qe?._loadedInjector)return Qe._loadedInjector;if(Qe?._injector)return Qe._injector}return null}class Nl{get injector(){return Ta(this.route?.snapshot)??this.rootInjector}set injector(ut){}constructor(ut){this.rootInjector=ut,this.outlet=null,this.route=null,this.children=new dl(this.rootInjector),this.attachRef=null}}let dl=(()=>{class Ge{constructor(Qe){this.rootInjector=Qe,this.contexts=new Map}onChildOutletCreated(Qe,yt){const Ut=this.getOrCreateContext(Qe);Ut.outlet=yt,this.contexts.set(Qe,Ut)}onChildOutletDestroyed(Qe){const yt=this.getContext(Qe);yt&&(yt.outlet=null,yt.attachRef=null)}onOutletDeactivated(){const Qe=this.contexts;return this.contexts=new Map,Qe}onOutletReAttached(Qe){this.contexts=Qe}getOrCreateContext(Qe){let yt=this.getContext(Qe);return yt||(yt=new Nl(this.rootInjector),this.contexts.set(Qe,yt)),yt}getContext(Qe){return this.contexts.get(Qe)||null}static#e=this.\u0275fac=function(yt){return new(yt||Ge)(d.KVO(d.uvJ))};static#t=this.\u0275prov=d.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();class pc{constructor(ut){this._root=ut}get root(){return this._root.value}parent(ut){const Qe=this.pathFromRoot(ut);return Qe.length>1?Qe[Qe.length-2]:null}children(ut){const Qe=Fs(ut,this._root);return Qe?Qe.children.map(yt=>yt.value):[]}firstChild(ut){const Qe=Fs(ut,this._root);return Qe&&Qe.children.length>0?Qe.children[0].value:null}siblings(ut){const Qe=Ec(ut,this._root);return Qe.length<2?[]:Qe[Qe.length-2].children.map(Ut=>Ut.value).filter(Ut=>Ut!==ut)}pathFromRoot(ut){return Ec(ut,this._root).map(Qe=>Qe.value)}}function Fs(Ge,ut){if(Ge===ut.value)return ut;for(const Qe of ut.children){const yt=Fs(Ge,Qe);if(yt)return yt}return null}function Ec(Ge,ut){if(Ge===ut.value)return[ut];for(const Qe of ut.children){const yt=Ec(Ge,Qe);if(yt.length)return yt.unshift(ut),yt}return[]}class Js{constructor(ut,Qe){this.value=ut,this.children=Qe}toString(){return`TreeNode(${this.value})`}}function ga(Ge){const ut={};return Ge&&Ge.children.forEach(Qe=>ut[Qe.value.outlet]=Qe),ut}class ul extends pc{constructor(ut,Qe){super(ut),this.snapshot=Qe,ds(this,ut)}toString(){return this.snapshot.toString()}}function mc(Ge){const ut=function lo(Ge){const cn=new dd([],{},{},"",{},Ve,Ge,null,{});return new Od("",new Js(cn,[]))}(Ge),Qe=new x.t([new U("",{})]),yt=new x.t({}),Ut=new x.t({}),cn=new x.t({}),Dn=new x.t(""),sr=new Qi(Qe,yt,cn,Dn,Ut,Ve,Ge,ut.root);return sr.snapshot=ut.root,new ul(new Js(sr,[]),ut)}class Qi{constructor(ut,Qe,yt,Ut,cn,Dn,sr,Gn){this.urlSubject=ut,this.paramsSubject=Qe,this.queryParamsSubject=yt,this.fragmentSubject=Ut,this.dataSubject=cn,this.outlet=Dn,this.component=sr,this._futureSnapshot=Gn,this.title=this.dataSubject?.pipe((0,Z.T)(Gr=>Gr[Se]))??(0,z.of)(void 0),this.url=ut,this.params=Qe,this.queryParams=yt,this.fragment=Ut,this.data=cn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Z.T)(ut=>Ue(ut))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Z.T)(ut=>Ue(ut))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Eo(Ge,ut,Qe="emptyOnly"){let yt;const{routeConfig:Ut}=Ge;return yt=null===ut||"always"!==Qe&&""!==Ut?.path&&(ut.component||ut.routeConfig?.loadComponent)?{params:{...Ge.params},data:{...Ge.data},resolve:{...Ge.data,...Ge._resolvedData??{}}}:{params:{...ut.params,...Ge.params},data:{...ut.data,...Ge.data},resolve:{...Ge.data,...ut.data,...Ut?.data,...Ge._resolvedData}},Ut&&Ll(Ut)&&(yt.resolve[Se]=Ut.title),yt}class dd{get title(){return this.data?.[Se]}constructor(ut,Qe,yt,Ut,cn,Dn,sr,Gn,Gr){this.url=ut,this.params=Qe,this.queryParams=yt,this.fragment=Ut,this.data=cn,this.outlet=Dn,this.component=sr,this.routeConfig=Gn,this._resolve=Gr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ue(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ue(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(yt=>yt.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Od extends pc{constructor(ut,Qe){super(Qe),this.url=ut,ds(this,Qe)}toString(){return xc(this._root)}}function ds(Ge,ut){ut.value._routerState=Ge,ut.children.forEach(Qe=>ds(Ge,Qe))}function xc(Ge){const ut=Ge.children.length>0?` { ${Ge.children.map(xc).join(", ")} } `:"";return`${Ge.value}${ut}`}function Gc(Ge){if(Ge.snapshot){const ut=Ge.snapshot,Qe=Ge._futureSnapshot;Ge.snapshot=Qe,pe(ut.queryParams,Qe.queryParams)||Ge.queryParamsSubject.next(Qe.queryParams),ut.fragment!==Qe.fragment&&Ge.fragmentSubject.next(Qe.fragment),pe(ut.params,Qe.params)||Ge.paramsSubject.next(Qe.params),function De(Ge,ut){if(Ge.length!==ut.length)return!1;for(let Qe=0;Qe<Ge.length;++Qe)if(!pe(Ge[Qe],ut[Qe]))return!1;return!0}(ut.url,Qe.url)||Ge.urlSubject.next(Qe.url),pe(ut.data,Qe.data)||Ge.dataSubject.next(Qe.data)}else Ge.snapshot=Ge._futureSnapshot,Ge.dataSubject.next(Ge._futureSnapshot.data)}function tu(Ge,ut){const Qe=pe(Ge.params,ut.params)&&function ne(Ge,ut){return ge(Ge,ut)&&Ge.every((Qe,yt)=>pe(Qe.parameters,ut[yt].parameters))}(Ge.url,ut.url);return Qe&&!(!Ge.parent!=!ut.parent)&&(!Ge.parent||tu(Ge.parent,ut.parent))}function Ll(Ge){return"string"==typeof Ge.title||null===Ge.title}let ic=(()=>{class Ge{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ve,this.activateEvents=new d.bkB,this.deactivateEvents=new d.bkB,this.attachEvents=new d.bkB,this.detachEvents=new d.bkB,this.parentContexts=(0,d.WQX)(dl),this.location=(0,d.WQX)(d.c1b),this.changeDetector=(0,d.WQX)(d.gRc),this.inputBinder=(0,d.WQX)(Pr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(Qe){if(Qe.name){const{firstChange:yt,previousValue:Ut}=Qe.name;if(yt)return;this.isTrackedInParentContexts(Ut)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Ut)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(Qe){return this.parentContexts.getContext(Qe)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const Qe=this.parentContexts.getContext(this.name);Qe?.route&&(Qe.attachRef?this.attach(Qe.attachRef,Qe.route):this.activateWith(Qe.route,Qe.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.wOt(4012,!1);this.location.detach();const Qe=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(Qe.instance),Qe}attach(Qe,yt){this.activated=Qe,this._activatedRoute=yt,this.location.insert(Qe.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(Qe.instance)}deactivate(){if(this.activated){const Qe=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(Qe)}}activateWith(Qe,yt){if(this.isActivated)throw new d.wOt(4013,!1);this._activatedRoute=Qe;const Ut=this.location,Dn=Qe.snapshot.component,sr=this.parentContexts.getOrCreateContext(this.name).children,Gn=new bo(Qe,sr,Ut.injector);this.activated=Ut.createComponent(Dn,{index:Ut.length,injector:Gn,environmentInjector:yt}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(yt){return new(yt||Ge)};static#t=this.\u0275dir=d.FsC({type:Ge,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.OA$]})}return Ge})();class bo{__ngOutletInjector(ut){return new bo(this.route,this.childContexts,ut)}constructor(ut,Qe,yt){this.route=ut,this.childContexts=Qe,this.parent=yt}get(ut,Qe){return ut===Qi?this.route:ut===dl?this.childContexts:this.parent.get(ut,Qe)}}const Pr=new d.nKC("");let Ii=(()=>{class Ge{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(Qe){this.unsubscribeFromRouteData(Qe),this.subscribeToRouteData(Qe)}unsubscribeFromRouteData(Qe){this.outletDataSubscriptions.get(Qe)?.unsubscribe(),this.outletDataSubscriptions.delete(Qe)}subscribeToRouteData(Qe){const{activatedRoute:yt}=Qe,Ut=(0,O.z)([yt.queryParams,yt.params,yt.data]).pipe((0,ie.n)(([cn,Dn,sr],Gn)=>(sr={...cn,...Dn,...sr},0===Gn?(0,z.of)(sr):Promise.resolve(sr)))).subscribe(cn=>{if(!Qe.isActivated||!Qe.activatedComponentRef||Qe.activatedRoute!==yt||null===yt.component)return void this.unsubscribeFromRouteData(Qe);const Dn=(0,d.HJs)(yt.component);if(Dn)for(const{templateName:sr}of Dn.inputs)Qe.activatedComponentRef.setInput(sr,cn[sr]);else this.unsubscribeFromRouteData(Qe)});this.outletDataSubscriptions.set(Qe,Ut)}static#e=this.\u0275fac=function(yt){return new(yt||Ge)};static#t=this.\u0275prov=d.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})();function No(Ge,ut,Qe){if(Qe&&Ge.shouldReuseRoute(ut.value,Qe.value.snapshot)){const yt=Qe.value;yt._futureSnapshot=ut.value;const Ut=function qs(Ge,ut,Qe){return ut.children.map(yt=>{for(const Ut of Qe.children)if(Ge.shouldReuseRoute(yt.value,Ut.value.snapshot))return No(Ge,yt,Ut);return No(Ge,yt)})}(Ge,ut,Qe);return new Js(yt,Ut)}{if(Ge.shouldAttach(ut.value)){const cn=Ge.retrieve(ut.value);if(null!==cn){const Dn=cn.route;return Dn.value._futureSnapshot=ut.value,Dn.children=ut.children.map(sr=>No(Ge,sr)),Dn}}const yt=function _s(Ge){return new Qi(new x.t(Ge.url),new x.t(Ge.params),new x.t(Ge.queryParams),new x.t(Ge.fragment),new x.t(Ge.data),Ge.outlet,Ge.component,Ge)}(ut.value),Ut=ut.children.map(cn=>No(Ge,cn));return new Js(yt,Ut)}}class fl{constructor(ut,Qe){this.redirectTo=ut,this.navigationBehaviorOptions=Qe}}const eo="ngNavigationCancelingError";function sn(Ge,ut){const{redirectTo:Qe,navigationBehaviorOptions:yt}=En(ut)?{redirectTo:ut,navigationBehaviorOptions:void 0}:ut,Ut=Xn(!1,zr.Redirect);return Ut.url=Qe,Ut.navigationBehaviorOptions=yt,Ut}function Xn(Ge,ut){const Qe=new Error(`NavigationCancelingError: ${Ge||""}`);return Qe[eo]=!0,Qe.cancellationCode=ut,Qe}function on(Ge){return!!Ge&&Ge[eo]}class wr{constructor(ut,Qe,yt,Ut,cn){this.routeReuseStrategy=ut,this.futureState=Qe,this.currState=yt,this.forwardEvent=Ut,this.inputBindingEnabled=cn}activate(ut){const Qe=this.futureState._root,yt=this.currState?this.currState._root:null;this.deactivateChildRoutes(Qe,yt,ut),Gc(this.futureState.root),this.activateChildRoutes(Qe,yt,ut)}deactivateChildRoutes(ut,Qe,yt){const Ut=ga(Qe);ut.children.forEach(cn=>{const Dn=cn.value.outlet;this.deactivateRoutes(cn,Ut[Dn],yt),delete Ut[Dn]}),Object.values(Ut).forEach(cn=>{this.deactivateRouteAndItsChildren(cn,yt)})}deactivateRoutes(ut,Qe,yt){const Ut=ut.value,cn=Qe?Qe.value:null;if(Ut===cn)if(Ut.component){const Dn=yt.getContext(Ut.outlet);Dn&&this.deactivateChildRoutes(ut,Qe,Dn.children)}else this.deactivateChildRoutes(ut,Qe,yt);else cn&&this.deactivateRouteAndItsChildren(Qe,yt)}deactivateRouteAndItsChildren(ut,Qe){ut.value.component&&this.routeReuseStrategy.shouldDetach(ut.value.snapshot)?this.detachAndStoreRouteSubtree(ut,Qe):this.deactivateRouteAndOutlet(ut,Qe)}detachAndStoreRouteSubtree(ut,Qe){const yt=Qe.getContext(ut.value.outlet),Ut=yt&&ut.value.component?yt.children:Qe,cn=ga(ut);for(const Dn of Object.values(cn))this.deactivateRouteAndItsChildren(Dn,Ut);if(yt&&yt.outlet){const Dn=yt.outlet.detach(),sr=yt.children.onOutletDeactivated();this.routeReuseStrategy.store(ut.value.snapshot,{componentRef:Dn,route:ut,contexts:sr})}}deactivateRouteAndOutlet(ut,Qe){const yt=Qe.getContext(ut.value.outlet),Ut=yt&&ut.value.component?yt.children:Qe,cn=ga(ut);for(const Dn of Object.values(cn))this.deactivateRouteAndItsChildren(Dn,Ut);yt&&(yt.outlet&&(yt.outlet.deactivate(),yt.children.onOutletDeactivated()),yt.attachRef=null,yt.route=null)}activateChildRoutes(ut,Qe,yt){const Ut=ga(Qe);ut.children.forEach(cn=>{this.activateRoutes(cn,Ut[cn.value.outlet],yt),this.forwardEvent(new Co(cn.value.snapshot))}),ut.children.length&&this.forwardEvent(new is(ut.value.snapshot))}activateRoutes(ut,Qe,yt){const Ut=ut.value,cn=Qe?Qe.value:null;if(Gc(Ut),Ut===cn)if(Ut.component){const Dn=yt.getOrCreateContext(Ut.outlet);this.activateChildRoutes(ut,Qe,Dn.children)}else this.activateChildRoutes(ut,Qe,yt);else if(Ut.component){const Dn=yt.getOrCreateContext(Ut.outlet);if(this.routeReuseStrategy.shouldAttach(Ut.snapshot)){const sr=this.routeReuseStrategy.retrieve(Ut.snapshot);this.routeReuseStrategy.store(Ut.snapshot,null),Dn.children.onOutletReAttached(sr.contexts),Dn.attachRef=sr.componentRef,Dn.route=sr.route.value,Dn.outlet&&Dn.outlet.attach(sr.componentRef,sr.route.value),Gc(sr.route.value),this.activateChildRoutes(ut,null,Dn.children)}else Dn.attachRef=null,Dn.route=Ut,Dn.outlet&&Dn.outlet.activateWith(Ut,Dn.injector),this.activateChildRoutes(ut,null,Dn.children)}else this.activateChildRoutes(ut,null,yt)}}class Wr{constructor(ut){this.path=ut,this.route=this.path[this.path.length-1]}}class to{constructor(ut,Qe){this.component=ut,this.route=Qe}}function Lo(Ge,ut,Qe){const yt=Ge._root;return So(yt,ut?ut._root:null,Qe,[yt.value])}function Pa(Ge,ut){const Qe=Symbol(),yt=ut.get(Ge,Qe);return yt===Qe?"function"!=typeof Ge||(0,d.LfX)(Ge)?ut.get(Ge):Ge:yt}function So(Ge,ut,Qe,yt,Ut={canDeactivateChecks:[],canActivateChecks:[]}){const cn=ga(ut);return Ge.children.forEach(Dn=>{(function Pd(Ge,ut,Qe,yt,Ut={canDeactivateChecks:[],canActivateChecks:[]}){const cn=Ge.value,Dn=ut?ut.value:null,sr=Qe?Qe.getContext(Ge.value.outlet):null;if(Dn&&cn.routeConfig===Dn.routeConfig){const Gn=function vf(Ge,ut,Qe){if("function"==typeof Qe)return Qe(Ge,ut);switch(Qe){case"pathParamsChange":return!ge(Ge.url,ut.url);case"pathParamsOrQueryParamsChange":return!ge(Ge.url,ut.url)||!pe(Ge.queryParams,ut.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tu(Ge,ut)||!pe(Ge.queryParams,ut.queryParams);default:return!tu(Ge,ut)}}(Dn,cn,cn.routeConfig.runGuardsAndResolvers);Gn?Ut.canActivateChecks.push(new Wr(yt)):(cn.data=Dn.data,cn._resolvedData=Dn._resolvedData),So(Ge,ut,cn.component?sr?sr.children:null:Qe,yt,Ut),Gn&&sr&&sr.outlet&&sr.outlet.isActivated&&Ut.canDeactivateChecks.push(new to(sr.outlet.component,Dn))}else Dn&&Bd(ut,sr,Ut),Ut.canActivateChecks.push(new Wr(yt)),So(Ge,null,cn.component?sr?sr.children:null:Qe,yt,Ut)})(Dn,cn[Dn.value.outlet],Qe,yt.concat([Dn.value]),Ut),delete cn[Dn.value.outlet]}),Object.entries(cn).forEach(([Dn,sr])=>Bd(sr,Qe.getContext(Dn),Ut)),Ut}function Bd(Ge,ut,Qe){const yt=ga(Ge),Ut=Ge.value;Object.entries(yt).forEach(([cn,Dn])=>{Bd(Dn,Ut.component?ut?ut.children.getContext(cn):null:ut,Qe)}),Qe.canDeactivateChecks.push(new to(Ut.component&&ut&&ut.outlet&&ut.outlet.isActivated?ut.outlet.component:null,Ut))}function ud(Ge){return"function"==typeof Ge}function Za(Ge){return Ge instanceof P||"EmptyError"===Ge?.name}const Fl=Symbol("INITIAL_VALUE");function Ot(){return(0,ie.n)(Ge=>(0,O.z)(Ge.map(ut=>ut.pipe((0,ae.s)(1),(0,se.Z)(Fl)))).pipe((0,Z.T)(ut=>{for(const Qe of ut)if(!0!==Qe){if(Qe===Fl)return Fl;if(!1===Qe||jt(Qe))return Qe}return!0}),(0,de.p)(ut=>ut!==Fl),(0,ae.s)(1)))}function jt(Ge){return En(Ge)||Ge instanceof fl}function Om(Ge){return(0,D.F)((0,M.M)(ut=>{if("boolean"!=typeof ut)throw sn(0,ut)}),(0,Z.T)(ut=>!0===ut))}class Ba{constructor(ut){this.segmentGroup=ut||null}}class $o extends Error{constructor(ut){super(),this.urlTree=ut}}function Xc(Ge){return(0,X.$)(new Ba(Ge))}class hl{constructor(ut,Qe){this.urlSerializer=ut,this.urlTree=Qe}lineralizeSegments(ut,Qe){let yt=[],Ut=Qe.root;for(;;){if(yt=yt.concat(Ut.segments),0===Ut.numberOfChildren)return(0,z.of)(yt);if(Ut.numberOfChildren>1||!Ut.children[Ve])return(0,X.$)(new d.wOt(4e3,!1));Ut=Ut.children[Ve]}}applyRedirectCommands(ut,Qe,yt,Ut,cn){if("string"!=typeof Qe){const sr=Qe,{queryParams:Gn,fragment:Gr,routeConfig:Ui,url:fo,outlet:yi,params:Ns,data:Es,title:Ua}=Ut,Pi=(0,d.N4e)(cn,()=>sr({params:Ns,data:Es,queryParams:Gn,fragment:Gr,routeConfig:Ui,url:fo,outlet:yi,title:Ua}));if(Pi instanceof _)throw new $o(Pi);Qe=Pi}const Dn=this.applyRedirectCreateUrlTree(Qe,this.urlSerializer.parse(Qe),ut,yt);if("/"===Qe[0])throw new $o(Dn);return Dn}applyRedirectCreateUrlTree(ut,Qe,yt,Ut){const cn=this.createSegmentGroup(ut,Qe.root,yt,Ut);return new _(cn,this.createQueryParams(Qe.queryParams,this.urlTree.queryParams),Qe.fragment)}createQueryParams(ut,Qe){const yt={};return Object.entries(ut).forEach(([Ut,cn])=>{if("string"==typeof cn&&":"===cn[0]){const sr=cn.substring(1);yt[Ut]=Qe[sr]}else yt[Ut]=cn}),yt}createSegmentGroup(ut,Qe,yt,Ut){const cn=this.createSegments(ut,Qe.segments,yt,Ut);let Dn={};return Object.entries(Qe.children).forEach(([sr,Gn])=>{Dn[sr]=this.createSegmentGroup(ut,Gn,yt,Ut)}),new m(cn,Dn)}createSegments(ut,Qe,yt,Ut){return Qe.map(cn=>":"===cn.path[0]?this.findPosParam(ut,cn,Ut):this.findOrReturn(cn,yt))}findPosParam(ut,Qe,yt){const Ut=yt[Qe.path.substring(1)];if(!Ut)throw new d.wOt(4001,!1);return Ut}findOrReturn(ut,Qe){let yt=0;for(const Ut of Qe){if(Ut.path===ut.path)return Qe.splice(yt),Ut;yt++}return ut}}const yc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ru(Ge,ut,Qe,yt,Ut){const cn=jl(Ge,ut,Qe);return cn.matched?(yt=function cl(Ge,ut){return Ge.providers&&!Ge._injector&&(Ge._injector=(0,d.Ol2)(Ge.providers,ut,`Route: ${Ge.path}`)),Ge._injector??ut}(ut,yt),function Gh(Ge,ut,Qe,yt){const Ut=ut.canMatch;if(!Ut||0===Ut.length)return(0,z.of)(!0);const cn=Ut.map(Dn=>{const sr=Pa(Dn,Ge);return fe(function wf(Ge){return Ge&&ud(Ge.canMatch)}(sr)?sr.canMatch(ut,Qe):(0,d.N4e)(Ge,()=>sr(ut,Qe)))});return(0,z.of)(cn).pipe(Ot(),Om())}(yt,ut,Qe).pipe((0,Z.T)(Dn=>!0===Dn?cn:{...yc}))):(0,z.of)(cn)}function jl(Ge,ut,Qe){if("**"===ut.path)return function Tu(Ge){return{matched:!0,parameters:Ge.length>0?oe(Ge).parameters:{},consumedSegments:Ge,remainingSegments:[],positionalParamSegments:{}}}(Qe);if(""===ut.path)return"full"===ut.pathMatch&&(Ge.hasChildren()||Qe.length>0)?{...yc}:{matched:!0,consumedSegments:[],remainingSegments:Qe,parameters:{},positionalParamSegments:{}};const Ut=(ut.matcher||ye)(Qe,Ge,ut);if(!Ut)return{...yc};const cn={};Object.entries(Ut.posParams??{}).forEach(([sr,Gn])=>{cn[sr]=Gn.path});const Dn=Ut.consumed.length>0?{...cn,...Ut.consumed[Ut.consumed.length-1].parameters}:cn;return{matched:!0,consumedSegments:Ut.consumed,remainingSegments:Qe.slice(Ut.consumed.length),parameters:Dn,positionalParamSegments:Ut.posParams??{}}}function md(Ge,ut,Qe,yt){return Qe.length>0&&function Da(Ge,ut,Qe){return Qe.some(yt=>Sc(Ge,ut,yt)&&ya(yt)!==Ve)}(Ge,Qe,yt)?{segmentGroup:new m(ut,zi(yt,new m(Qe,Ge.children))),slicedSegments:[]}:0===Qe.length&&function _f(Ge,ut,Qe){return Qe.some(yt=>Sc(Ge,ut,yt))}(Ge,Qe,yt)?{segmentGroup:new m(Ge.segments,Du(Ge,Qe,yt,Ge.children)),slicedSegments:Qe}:{segmentGroup:new m(Ge.segments,Ge.children),slicedSegments:Qe}}function Du(Ge,ut,Qe,yt){const Ut={};for(const cn of Qe)if(Sc(Ge,ut,cn)&&!yt[ya(cn)]){const Dn=new m([],{});Ut[ya(cn)]=Dn}return{...yt,...Ut}}function zi(Ge,ut){const Qe={};Qe[Ve]=ut;for(const yt of Ge)if(""===yt.path&&ya(yt)!==Ve){const Ut=new m([],{});Qe[ya(yt)]=Ut}return Qe}function Sc(Ge,ut,Qe){return(!(Ge.hasChildren()||ut.length>0)||"full"!==Qe.pathMatch)&&""===Qe.path}class Op{}class Pp{constructor(ut,Qe,yt,Ut,cn,Dn,sr){this.injector=ut,this.configLoader=Qe,this.rootComponentType=yt,this.config=Ut,this.urlTree=cn,this.paramsInheritanceStrategy=Dn,this.urlSerializer=sr,this.applyRedirects=new hl(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(ut){return new d.wOt(4002,`'${ut.segmentGroup}'`)}recognize(){const ut=md(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(ut).pipe((0,Z.T)(({children:Qe,rootSnapshot:yt})=>{const Ut=new Js(yt,Qe),cn=new Od("",Ut),Dn=function kn(Ge,ut,Qe=null,yt=null){return Jn(Or(Ge),ut,Qe,yt)}(yt,[],this.urlTree.queryParams,this.urlTree.fragment);return Dn.queryParams=this.urlTree.queryParams,cn.url=this.urlSerializer.serialize(Dn),{state:cn,tree:Dn}}))}match(ut){const Qe=new dd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Ve,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,ut,Ve,Qe).pipe((0,Z.T)(yt=>({children:yt,rootSnapshot:Qe})),(0,T.W)(yt=>{if(yt instanceof $o)return this.urlTree=yt.urlTree,this.match(yt.urlTree.root);throw yt instanceof Ba?this.noMatchError(yt):yt}))}processSegmentGroup(ut,Qe,yt,Ut,cn){return 0===yt.segments.length&&yt.hasChildren()?this.processChildren(ut,Qe,yt,cn):this.processSegment(ut,Qe,yt,yt.segments,Ut,!0,cn).pipe((0,Z.T)(Dn=>Dn instanceof Js?[Dn]:[]))}processChildren(ut,Qe,yt,Ut){const cn=[];for(const Dn of Object.keys(yt.children))"primary"===Dn?cn.unshift(Dn):cn.push(Dn);return(0,k.H)(cn).pipe((0,g.H)(Dn=>{const sr=yt.children[Dn],Gn=function Oa(Ge,ut){const Qe=Ge.filter(yt=>ya(yt)===ut);return Qe.push(...Ge.filter(yt=>ya(yt)!==ut)),Qe}(Qe,Dn);return this.processSegmentGroup(ut,Gn,sr,Dn,Ut)}),function S(Ge,ut){return(0,be.N)(function B(Ge,ut,Qe,yt,Ut){return(cn,Dn)=>{let sr=Qe,Gn=ut,Gr=0;cn.subscribe((0,xe._)(Dn,Ui=>{const fo=Gr++;Gn=sr?Ge(Gn,Ui,fo):(sr=!0,Ui),yt&&Dn.next(Gn)},Ut&&(()=>{sr&&Dn.next(Gn),Dn.complete()})))}}(Ge,ut,arguments.length>=2,!0))}((Dn,sr)=>(Dn.push(...sr),Dn)),ke(null),function v(Ge,ut){const Qe=arguments.length>=2;return yt=>yt.pipe(Ge?(0,de.p)((Ut,cn)=>Ge(Ut,cn,yt)):f.D,s(1),Qe?ke(ut):C(()=>new P))}(),(0,le.Z)(Dn=>{if(null===Dn)return Xc(yt);const sr=Qs(Dn);return function rv(Ge){Ge.sort((ut,Qe)=>ut.value.outlet===Ve?-1:Qe.value.outlet===Ve?1:ut.value.outlet.localeCompare(Qe.value.outlet))}(sr),(0,z.of)(sr)}))}processSegment(ut,Qe,yt,Ut,cn,Dn,sr){return(0,k.H)(Qe).pipe((0,g.H)(Gn=>this.processSegmentAgainstRoute(Gn._injector??ut,Qe,Gn,yt,Ut,cn,Dn,sr).pipe((0,T.W)(Gr=>{if(Gr instanceof Ba)return(0,z.of)(null);throw Gr}))),y(Gn=>!!Gn),(0,T.W)(Gn=>{if(Za(Gn))return function Nd(Ge,ut,Qe){return 0===ut.length&&!Ge.children[Qe]}(yt,Ut,cn)?(0,z.of)(new Op):Xc(yt);throw Gn}))}processSegmentAgainstRoute(ut,Qe,yt,Ut,cn,Dn,sr,Gn){return function iu(Ge,ut,Qe,yt){return!!(ya(Ge)===yt||yt!==Ve&&Sc(ut,Qe,Ge))&&jl(ut,Ge,Qe).matched}(yt,Ut,cn,Dn)?void 0===yt.redirectTo?this.matchSegmentAgainstRoute(ut,Ut,yt,cn,Dn,Gn):this.allowRedirects&&sr?this.expandSegmentAgainstRouteUsingRedirect(ut,Ut,Qe,yt,cn,Dn,Gn):Xc(Ut):Xc(Ut)}expandSegmentAgainstRouteUsingRedirect(ut,Qe,yt,Ut,cn,Dn,sr){const{matched:Gn,parameters:Gr,consumedSegments:Ui,positionalParamSegments:fo,remainingSegments:yi}=jl(Qe,Ut,cn);if(!Gn)return Xc(Qe);"string"==typeof Ut.redirectTo&&"/"===Ut.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Ns=new dd(cn,Gr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Cu(Ut),ya(Ut),Ut.component??Ut._loadedComponent??null,Ut,xf(Ut)),Es=Eo(Ns,sr,this.paramsInheritanceStrategy);Ns.params=Object.freeze(Es.params),Ns.data=Object.freeze(Es.data);const Ua=this.applyRedirects.applyRedirectCommands(Ui,Ut.redirectTo,fo,Ns,ut);return this.applyRedirects.lineralizeSegments(Ut,Ua).pipe((0,le.Z)(Pi=>this.processSegment(ut,yt,Qe,Pi.concat(yi),Dn,!1,sr)))}matchSegmentAgainstRoute(ut,Qe,yt,Ut,cn,Dn){const sr=ru(Qe,yt,Ut,ut);return"**"===yt.path&&(Qe.children={}),sr.pipe((0,ie.n)(Gn=>Gn.matched?this.getChildConfig(ut=yt._injector??ut,yt,Ut).pipe((0,ie.n)(({routes:Gr})=>{const Ui=yt._loadedInjector??ut,{parameters:fo,consumedSegments:yi,remainingSegments:Ns}=Gn,Es=new dd(yi,fo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Cu(yt),ya(yt),yt.component??yt._loadedComponent??null,yt,xf(yt)),Ua=Eo(Es,Dn,this.paramsInheritanceStrategy);Es.params=Object.freeze(Ua.params),Es.data=Object.freeze(Ua.data);const{segmentGroup:Pi,slicedSegments:js}=md(Qe,yi,Ns,Gr);if(0===js.length&&Pi.hasChildren())return this.processChildren(Ui,Gr,Pi,Es).pipe((0,Z.T)(Bp=>new Js(Es,Bp)));if(0===Gr.length&&0===js.length)return(0,z.of)(new Js(Es,[]));const Nw=ya(yt)===cn;return this.processSegment(Ui,Gr,Pi,js,Nw?Ve:cn,!0,Es).pipe((0,Z.T)(Bp=>new Js(Es,Bp instanceof Js?[Bp]:[])))})):Xc(Qe)))}getChildConfig(ut,Qe,yt){return Qe.children?(0,z.of)({routes:Qe.children,injector:ut}):Qe.loadChildren?void 0!==Qe._loadedRoutes?(0,z.of)({routes:Qe._loadedRoutes,injector:Qe._loadedInjector}):function hd(Ge,ut,Qe,yt){const Ut=ut.canLoad;if(void 0===Ut||0===Ut.length)return(0,z.of)(!0);const cn=Ut.map(Dn=>{const sr=Pa(Dn,Ge);return fe(function Ul(Ge){return Ge&&ud(Ge.canLoad)}(sr)?sr.canLoad(ut,Qe):(0,d.N4e)(Ge,()=>sr(ut,Qe)))});return(0,z.of)(cn).pipe(Ot(),Om())}(ut,Qe,yt).pipe((0,le.Z)(Ut=>Ut?this.configLoader.loadChildren(ut,Qe).pipe((0,M.M)(cn=>{Qe._loadedRoutes=cn.routes,Qe._loadedInjector=cn.injector})):function nu(Ge){return(0,X.$)(Xn(!1,zr.GuardRejected))}())):(0,z.of)({routes:[],injector:ut})}}function Ef(Ge){const ut=Ge.value.routeConfig;return ut&&""===ut.path}function Qs(Ge){const ut=[],Qe=new Set;for(const yt of Ge){if(!Ef(yt)){ut.push(yt);continue}const Ut=ut.find(cn=>yt.value.routeConfig===cn.value.routeConfig);void 0!==Ut?(Ut.children.push(...yt.children),Qe.add(Ut)):ut.push(yt)}for(const yt of Qe){const Ut=Qs(yt.children);ut.push(new Js(yt.value,Ut))}return ut.filter(yt=>!Qe.has(yt))}function Cu(Ge){return Ge.data||{}}function xf(Ge){return Ge.resolve||{}}function Ru(Ge){const ut=Ge.children.map(Qe=>Ru(Qe)).flat();return[Ge,...ut]}function Na(Ge){return(0,ie.n)(ut=>{const Qe=Ge(ut);return Qe?(0,k.H)(Qe).pipe((0,Z.T)(()=>ut)):(0,z.of)(ut)})}let ih=(()=>{class Ge{buildTitle(Qe){let yt,Ut=Qe.root;for(;void 0!==Ut;)yt=this.getResolvedTitleForRoute(Ut)??yt,Ut=Ut.children.find(cn=>cn.outlet===Ve);return yt}getResolvedTitleForRoute(Qe){return Qe.data[Se]}static#e=this.\u0275fac=function(yt){return new(yt||Ge)};static#t=this.\u0275prov=d.jDH({token:Ge,factory:()=>(0,d.WQX)(gc),providedIn:"root"})}return Ge})(),gc=(()=>{class Ge extends ih{constructor(Qe){super(),this.title=Qe}updateTitle(Qe){const yt=this.buildTitle(Qe);void 0!==yt&&this.title.setTitle(yt)}static#e=this.\u0275fac=function(yt){return new(yt||Ge)(d.KVO(Oe.hE))};static#t=this.\u0275prov=d.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();const $l=new d.nKC("",{providedIn:"root",factory:()=>({})});let Ou=(()=>{class Ge{static#e=this.\u0275fac=function(yt){return new(yt||Ge)};static#t=this.\u0275cmp=d.VBU({type:Ge,selectors:[["ng-component"]],standalone:!0,features:[d.aNF],decls:1,vars:0,template:function(yt,Ut){1&yt&&d.nrm(0,"router-outlet")},dependencies:[ic],encapsulation:2})}return Ge})();function oo(Ge){const ut=Ge.children&&Ge.children.map(oo),Qe=ut?{...Ge,children:ut}:{...Ge};return!Qe.component&&!Qe.loadComponent&&(ut||Qe.loadChildren)&&Qe.outlet&&Qe.outlet!==Ve&&(Qe.component=Ou),Qe}const pl=new d.nKC("");let Mc=(()=>{class Ge{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.WQX)(d.Ql9)}loadComponent(Qe){if(this.componentLoaders.get(Qe))return this.componentLoaders.get(Qe);if(Qe._loadedComponent)return(0,z.of)(Qe._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(Qe);const yt=fe(Qe.loadComponent()).pipe((0,Z.T)(Kl),(0,M.M)(cn=>{this.onLoadEndListener&&this.onLoadEndListener(Qe),Qe._loadedComponent=cn}),(0,K.j)(()=>{this.componentLoaders.delete(Qe)})),Ut=new G.G(yt,()=>new re.B).pipe((0,ee.B)());return this.componentLoaders.set(Qe,Ut),Ut}loadChildren(Qe,yt){if(this.childrenLoaders.get(yt))return this.childrenLoaders.get(yt);if(yt._loadedRoutes)return(0,z.of)({routes:yt._loadedRoutes,injector:yt._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(yt);const cn=function Uo(Ge,ut,Qe,yt){return fe(Ge.loadChildren()).pipe((0,Z.T)(Kl),(0,le.Z)(Ut=>Ut instanceof d.Co$||Array.isArray(Ut)?(0,z.of)(Ut):(0,k.H)(ut.compileModuleAsync(Ut))),(0,Z.T)(Ut=>{yt&&yt(Ge);let cn,Dn,sr=!1;return Array.isArray(Ut)?(Dn=Ut,!0):(cn=Ut.create(Qe).injector,Dn=cn.get(pl,[],{optional:!0,self:!0}).flat()),{routes:Dn.map(oo),injector:cn}}))}(yt,this.compiler,Qe,this.onLoadEndListener).pipe((0,K.j)(()=>{this.childrenLoaders.delete(yt)})),Dn=new G.G(cn,()=>new re.B).pipe((0,ee.B)());return this.childrenLoaders.set(yt,Dn),Dn}static#e=this.\u0275fac=function(yt){return new(yt||Ge)};static#t=this.\u0275prov=d.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();function Kl(Ge){return function Ld(Ge){return Ge&&"object"==typeof Ge&&"default"in Ge}(Ge)?Ge.default:Ge}let Mf=(()=>{class Ge{static#e=this.\u0275fac=function(yt){return new(yt||Ge)};static#t=this.\u0275prov=d.jDH({token:Ge,factory:()=>(0,d.WQX)(oh),providedIn:"root"})}return Ge})(),oh=(()=>{class Ge{shouldProcessUrl(Qe){return!0}extract(Qe){return Qe}merge(Qe,yt){return Qe}static#e=this.\u0275fac=function(yt){return new(yt||Ge)};static#t=this.\u0275prov=d.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();const sh=new d.nKC(""),st=new d.nKC("");function Jt(Ge,ut,Qe){const yt=Ge.get(st),Ut=Ge.get(J.qQ);return Ge.get(d.SKi).runOutsideAngular(()=>{if(!Ut.startViewTransition||yt.skipNextTransition)return yt.skipNextTransition=!1,new Promise(Gr=>setTimeout(Gr));let cn;const Dn=new Promise(Gr=>{cn=Gr}),sr=Ut.startViewTransition(()=>(cn(),function Tt(Ge){return new Promise(ut=>{(0,d.mal)({read:()=>setTimeout(ut)},{injector:Ge})})}(Ge))),{onViewTransitionCreated:Gn}=yt;return Gn&&(0,d.N4e)(Ge,()=>Gn({transition:sr,from:ut,to:Qe})),Dn})}const Kt=new d.nKC("");let Mn=(()=>{class Ge{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new re.B,this.transitionAbortSubject=new re.B,this.configLoader=(0,d.WQX)(Mc),this.environmentInjector=(0,d.WQX)(d.uvJ),this.urlSerializer=(0,d.WQX)(tt),this.rootContexts=(0,d.WQX)(dl),this.location=(0,d.WQX)(J.aZ),this.inputBindingEnabled=null!==(0,d.WQX)(Pr,{optional:!0}),this.titleStrategy=(0,d.WQX)(ih),this.options=(0,d.WQX)($l,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,d.WQX)(Mf),this.createViewTransition=(0,d.WQX)(sh,{optional:!0}),this.navigationErrorHandler=(0,d.WQX)(Kt,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,z.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Ut=>this.events.next(new Aa(Ut)),this.configLoader.onLoadStartListener=Ut=>this.events.next(new Ni(Ut))}complete(){this.transitions?.complete()}handleNavigationRequest(Qe){const yt=++this.navigationId;this.transitions?.next({...this.transitions.value,...Qe,id:yt})}setupNavigations(Qe,yt,Ut){return this.transitions=new x.t({id:0,currentUrlTree:yt,currentRawUrl:yt,extractedUrl:this.urlHandlingStrategy.extract(yt),urlAfterRedirects:this.urlHandlingStrategy.extract(yt),rawUrl:yt,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Tn,restoredState:null,currentSnapshot:Ut.snapshot,targetSnapshot:null,currentRouterState:Ut,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,de.p)(cn=>0!==cn.id),(0,Z.T)(cn=>({...cn,extractedUrl:this.urlHandlingStrategy.extract(cn.rawUrl)})),(0,ie.n)(cn=>{let Dn=!1,sr=!1;return(0,z.of)(cn).pipe((0,ie.n)(Gn=>{if(this.navigationId>cn.id)return this.cancelNavigationTransition(cn,"",zr.SupersededByNewNavigation),j.w;this.currentTransition=cn,this.currentNavigation={id:Gn.id,initialUrl:Gn.rawUrl,extractedUrl:Gn.extractedUrl,targetBrowserUrl:"string"==typeof Gn.extras.browserUrl?this.urlSerializer.parse(Gn.extras.browserUrl):Gn.extras.browserUrl,trigger:Gn.source,extras:Gn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Gr=!Qe.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Gr&&"reload"!==(Gn.extras.onSameUrlNavigation??Qe.onSameUrlNavigation)){const fo="";return this.events.next(new To(Gn.id,this.urlSerializer.serialize(Gn.rawUrl),fo,Kr.IgnoredSameUrlNavigation)),Gn.resolve(!1),j.w}if(this.urlHandlingStrategy.shouldProcessUrl(Gn.rawUrl))return(0,z.of)(Gn).pipe((0,ie.n)(fo=>{const yi=this.transitions?.getValue();return this.events.next(new Ar(fo.id,this.urlSerializer.serialize(fo.extractedUrl),fo.source,fo.restoredState)),yi!==this.transitions?.getValue()?j.w:Promise.resolve(fo)}),function gs(Ge,ut,Qe,yt,Ut,cn){return(0,le.Z)(Dn=>function Xh(Ge,ut,Qe,yt,Ut,cn,Dn="emptyOnly"){return new Pp(Ge,ut,Qe,yt,Ut,Dn,cn).recognize()}(Ge,ut,Qe,yt,Dn.extractedUrl,Ut,cn).pipe((0,Z.T)(({state:sr,tree:Gn})=>({...Dn,targetSnapshot:sr,urlAfterRedirects:Gn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,Qe.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,M.M)(fo=>{cn.targetSnapshot=fo.targetSnapshot,cn.urlAfterRedirects=fo.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:fo.urlAfterRedirects};const yi=new Po(fo.id,this.urlSerializer.serialize(fo.extractedUrl),this.urlSerializer.serialize(fo.urlAfterRedirects),fo.targetSnapshot);this.events.next(yi)}));if(Gr&&this.urlHandlingStrategy.shouldProcessUrl(Gn.currentRawUrl)){const{id:fo,extractedUrl:yi,source:Ns,restoredState:Es,extras:Ua}=Gn,Pi=new Ar(fo,this.urlSerializer.serialize(yi),Ns,Es);this.events.next(Pi);const js=mc(this.rootComponentType).snapshot;return this.currentTransition=cn={...Gn,targetSnapshot:js,urlAfterRedirects:yi,extras:{...Ua,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=yi,(0,z.of)(cn)}{const fo="";return this.events.next(new To(Gn.id,this.urlSerializer.serialize(Gn.extractedUrl),fo,Kr.IgnoredByUrlHandlingStrategy)),Gn.resolve(!1),j.w}}),(0,M.M)(Gn=>{const Gr=new Bo(Gn.id,this.urlSerializer.serialize(Gn.extractedUrl),this.urlSerializer.serialize(Gn.urlAfterRedirects),Gn.targetSnapshot);this.events.next(Gr)}),(0,Z.T)(Gn=>(this.currentTransition=cn={...Gn,guards:Lo(Gn.targetSnapshot,Gn.currentSnapshot,this.rootContexts)},cn)),function wt(Ge,ut){return(0,le.Z)(Qe=>{const{targetSnapshot:yt,currentSnapshot:Ut,guards:{canActivateChecks:cn,canDeactivateChecks:Dn}}=Qe;return 0===Dn.length&&0===cn.length?(0,z.of)({...Qe,guardsResult:!0}):function rn(Ge,ut,Qe,yt){return(0,k.H)(Ge).pipe((0,le.Z)(Ut=>function fa(Ge,ut,Qe,yt,Ut){const cn=ut&&ut.routeConfig?ut.routeConfig.canDeactivate:null;if(!cn||0===cn.length)return(0,z.of)(!0);const Dn=cn.map(sr=>{const Gn=Ta(ut)??Ut,Gr=Pa(sr,Gn);return fe(function fd(Ge){return Ge&&ud(Ge.canDeactivate)}(Gr)?Gr.canDeactivate(Ge,ut,Qe,yt):(0,d.N4e)(Gn,()=>Gr(Ge,ut,Qe,yt))).pipe(y())});return(0,z.of)(Dn).pipe(Ot())}(Ut.component,Ut.route,Qe,ut,yt)),y(Ut=>!0!==Ut,!0))}(Dn,yt,Ut,Ge).pipe((0,le.Z)(sr=>sr&&function Mi(Ge){return"boolean"==typeof Ge}(sr)?function Bn(Ge,ut,Qe,yt){return(0,k.H)(ut).pipe((0,g.H)(Ut=>(0,F.x)(function Vi(Ge,ut){return null!==Ge&&ut&&ut(new _i(Ge)),(0,z.of)(!0)}(Ut.route.parent,yt),function ei(Ge,ut){return null!==Ge&&ut&&ut(new Us(Ge)),(0,z.of)(!0)}(Ut.route,yt),function di(Ge,ut,Qe){const yt=ut[ut.length-1],cn=ut.slice(0,ut.length-1).reverse().map(Dn=>function qr(Ge){const ut=Ge.routeConfig?Ge.routeConfig.canActivateChild:null;return ut&&0!==ut.length?{node:Ge,guards:ut}:null}(Dn)).filter(Dn=>null!==Dn).map(Dn=>(0,L.v)(()=>{const sr=Dn.guards.map(Gn=>{const Gr=Ta(Dn.node)??Qe,Ui=Pa(Gn,Gr);return fe(function bf(Ge){return Ge&&ud(Ge.canActivateChild)}(Ui)?Ui.canActivateChild(yt,Ge):(0,d.N4e)(Gr,()=>Ui(yt,Ge))).pipe(y())});return(0,z.of)(sr).pipe(Ot())}));return(0,z.of)(cn).pipe(Ot())}(Ge,Ut.path,Qe),function ys(Ge,ut,Qe){const yt=ut.routeConfig?ut.routeConfig.canActivate:null;if(!yt||0===yt.length)return(0,z.of)(!0);const Ut=yt.map(cn=>(0,L.v)(()=>{const Dn=Ta(ut)??Qe,sr=Pa(cn,Dn);return fe(function Xa(Ge){return Ge&&ud(Ge.canActivate)}(sr)?sr.canActivate(ut,Ge):(0,d.N4e)(Dn,()=>sr(ut,Ge))).pipe(y())}));return(0,z.of)(Ut).pipe(Ot())}(Ge,Ut.route,Qe))),y(Ut=>!0!==Ut,!0))}(yt,cn,Ge,ut):(0,z.of)(sr)),(0,Z.T)(sr=>({...Qe,guardsResult:sr})))})}(this.environmentInjector,Gn=>this.events.next(Gn)),(0,M.M)(Gn=>{if(cn.guardsResult=Gn.guardsResult,Gn.guardsResult&&"boolean"!=typeof Gn.guardsResult)throw sn(0,Gn.guardsResult);const Gr=new Ho(Gn.id,this.urlSerializer.serialize(Gn.extractedUrl),this.urlSerializer.serialize(Gn.urlAfterRedirects),Gn.targetSnapshot,!!Gn.guardsResult);this.events.next(Gr)}),(0,de.p)(Gn=>!!Gn.guardsResult||(this.cancelNavigationTransition(Gn,"",zr.GuardRejected),!1)),Na(Gn=>{if(Gn.guards.canActivateChecks.length)return(0,z.of)(Gn).pipe((0,M.M)(Gr=>{const Ui=new Fi(Gr.id,this.urlSerializer.serialize(Gr.extractedUrl),this.urlSerializer.serialize(Gr.urlAfterRedirects),Gr.targetSnapshot);this.events.next(Ui)}),(0,ie.n)(Gr=>{let Ui=!1;return(0,z.of)(Gr).pipe(function ku(Ge,ut){return(0,le.Z)(Qe=>{const{targetSnapshot:yt,guards:{canActivateChecks:Ut}}=Qe;if(!Ut.length)return(0,z.of)(Qe);const cn=new Set(Ut.map(Gn=>Gn.route)),Dn=new Set;for(const Gn of cn)if(!Dn.has(Gn))for(const Gr of Ru(Gn))Dn.add(Gr);let sr=0;return(0,k.H)(Dn).pipe((0,g.H)(Gn=>cn.has(Gn)?function Zi(Ge,ut,Qe,yt){const Ut=Ge.routeConfig,cn=Ge._resolve;return void 0!==Ut?.title&&!Ll(Ut)&&(cn[Se]=Ut.title),function Hi(Ge,ut,Qe,yt){const Ut=ue(Ge);if(0===Ut.length)return(0,z.of)({});const cn={};return(0,k.H)(Ut).pipe((0,le.Z)(Dn=>function Sf(Ge,ut,Qe,yt){const Ut=Ta(ut)??yt,cn=Pa(Ge,Ut);return fe(cn.resolve?cn.resolve(ut,Qe):(0,d.N4e)(Ut,()=>cn(ut,Qe)))}(Ge[Dn],ut,Qe,yt).pipe(y(),(0,M.M)(sr=>{if(sr instanceof fl)throw sn(new Bt,sr);cn[Dn]=sr}))),s(1),(0,W.u)(cn),(0,T.W)(Dn=>Za(Dn)?j.w:(0,X.$)(Dn)))}(cn,Ge,ut,yt).pipe((0,Z.T)(Dn=>(Ge._resolvedData=Dn,Ge.data=Eo(Ge,Ge.parent,Qe).resolve,null)))}(Gn,yt,Ge,ut):(Gn.data=Eo(Gn,Gn.parent,Ge).resolve,(0,z.of)(void 0))),(0,M.M)(()=>sr++),s(1),(0,le.Z)(Gn=>sr===Dn.size?(0,z.of)(Qe):j.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,M.M)({next:()=>Ui=!0,complete:()=>{Ui||this.cancelNavigationTransition(Gr,"",zr.NoDataFromResolver)}}))}),(0,M.M)(Gr=>{const Ui=new fi(Gr.id,this.urlSerializer.serialize(Gr.extractedUrl),this.urlSerializer.serialize(Gr.urlAfterRedirects),Gr.targetSnapshot);this.events.next(Ui)}))}),Na(Gn=>{const Gr=Ui=>{const fo=[];Ui.routeConfig?.loadComponent&&!Ui.routeConfig._loadedComponent&&fo.push(this.configLoader.loadComponent(Ui.routeConfig).pipe((0,M.M)(yi=>{Ui.component=yi}),(0,Z.T)(()=>{})));for(const yi of Ui.children)fo.push(...Gr(yi));return fo};return(0,O.z)(Gr(Gn.targetSnapshot.root)).pipe(ke(null),(0,ae.s)(1))}),Na(()=>this.afterPreactivation()),(0,ie.n)(()=>{const{currentSnapshot:Gn,targetSnapshot:Gr}=cn,Ui=this.createViewTransition?.(this.environmentInjector,Gn.root,Gr.root);return Ui?(0,k.H)(Ui).pipe((0,Z.T)(()=>cn)):(0,z.of)(cn)}),(0,Z.T)(Gn=>{const Gr=function Bs(Ge,ut,Qe){const yt=No(Ge,ut._root,Qe?Qe._root:void 0);return new ul(yt,ut)}(Qe.routeReuseStrategy,Gn.targetSnapshot,Gn.currentRouterState);return this.currentTransition=cn={...Gn,targetRouterState:Gr},this.currentNavigation.targetRouterState=Gr,cn}),(0,M.M)(()=>{this.events.next(new ps)}),((Ge,ut,Qe,yt)=>(0,Z.T)(Ut=>(new wr(ut,Ut.targetRouterState,Ut.currentRouterState,Qe,yt).activate(Ge),Ut)))(this.rootContexts,Qe.routeReuseStrategy,Gn=>this.events.next(Gn),this.inputBindingEnabled),(0,ae.s)(1),(0,M.M)({next:Gn=>{Dn=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Sr(Gn.id,this.urlSerializer.serialize(Gn.extractedUrl),this.urlSerializer.serialize(Gn.urlAfterRedirects))),this.titleStrategy?.updateTitle(Gn.targetRouterState.snapshot),Gn.resolve(!0)},complete:()=>{Dn=!0}}),(0,ce.Q)(this.transitionAbortSubject.pipe((0,M.M)(Gn=>{throw Gn}))),(0,K.j)(()=>{!Dn&&!sr&&this.cancelNavigationTransition(cn,"",zr.SupersededByNewNavigation),this.currentTransition?.id===cn.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,T.W)(Gn=>{if(sr=!0,on(Gn))this.events.next(new ii(cn.id,this.urlSerializer.serialize(cn.extractedUrl),Gn.message,Gn.cancellationCode)),function Rt(Ge){return on(Ge)&&En(Ge.url)}(Gn)?this.events.next(new da(Gn.url,Gn.navigationBehaviorOptions)):cn.resolve(!1);else{const Gr=new bi(cn.id,this.urlSerializer.serialize(cn.extractedUrl),Gn,cn.targetSnapshot??void 0);try{const Ui=(0,d.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(Gr));if(Ui instanceof fl){const{message:fo,cancellationCode:yi}=sn(0,Ui);this.events.next(new ii(cn.id,this.urlSerializer.serialize(cn.extractedUrl),fo,yi)),this.events.next(new da(Ui.redirectTo,Ui.navigationBehaviorOptions))}else{this.events.next(Gr);const fo=Qe.errorHandler(Gn);cn.resolve(!!fo)}}catch(Ui){this.options.resolveNavigationPromiseOnError?cn.resolve(!1):cn.reject(Ui)}}return j.w}))}))}cancelNavigationTransition(Qe,yt,Ut){const cn=new ii(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),yt,Ut);this.events.next(cn),Qe.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const Qe=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),yt=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return Qe.toString()!==yt?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(yt){return new(yt||Ge)};static#t=this.\u0275prov=d.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();function tr(Ge){return Ge!==Tn}let br=(()=>{class Ge{static#e=this.\u0275fac=function(yt){return new(yt||Ge)};static#t=this.\u0275prov=d.jDH({token:Ge,factory:()=>(0,d.WQX)(xs),providedIn:"root"})}return Ge})();class Jr{shouldDetach(ut){return!1}store(ut,Qe){}shouldAttach(ut){return!1}retrieve(ut){return null}shouldReuseRoute(ut,Qe){return ut.routeConfig===Qe.routeConfig}}let xs=(()=>{class Ge extends Jr{static#e=this.\u0275fac=(()=>{let Qe;return function(Ut){return(Qe||(Qe=d.xGo(Ge)))(Ut||Ge)}})();static#t=this.\u0275prov=d.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),ji=(()=>{class Ge{static#e=this.\u0275fac=function(yt){return new(yt||Ge)};static#t=this.\u0275prov=d.jDH({token:Ge,factory:()=>(0,d.WQX)(Xo),providedIn:"root"})}return Ge})(),Xo=(()=>{class Ge extends ji{constructor(){super(...arguments),this.location=(0,d.WQX)(J.aZ),this.urlSerializer=(0,d.WQX)(tt),this.options=(0,d.WQX)($l,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,d.WQX)(Mf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new _,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=mc(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(Qe){return this.location.subscribe(yt=>{"popstate"===yt.type&&Qe(yt.url,yt.state)})}handleRouterEvent(Qe,yt){if(Qe instanceof Ar)this.stateMemento=this.createStateMemento();else if(Qe instanceof To)this.rawUrlTree=yt.initialUrl;else if(Qe instanceof Po){if("eager"===this.urlUpdateStrategy&&!yt.extras.skipLocationChange){const Ut=this.urlHandlingStrategy.merge(yt.finalUrl,yt.initialUrl);this.setBrowserUrl(yt.targetBrowserUrl??Ut,yt)}}else Qe instanceof ps?(this.currentUrlTree=yt.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(yt.finalUrl,yt.initialUrl),this.routerState=yt.targetRouterState,"deferred"===this.urlUpdateStrategy&&!yt.extras.skipLocationChange&&this.setBrowserUrl(yt.targetBrowserUrl??this.rawUrlTree,yt)):Qe instanceof ii&&(Qe.code===zr.GuardRejected||Qe.code===zr.NoDataFromResolver)?this.restoreHistory(yt):Qe instanceof bi?this.restoreHistory(yt,!0):Qe instanceof Sr&&(this.lastSuccessfulId=Qe.id,this.currentPageId=this.browserPageId)}setBrowserUrl(Qe,yt){const Ut=Qe instanceof _?this.urlSerializer.serialize(Qe):Qe;if(this.location.isCurrentPathEqualTo(Ut)||yt.extras.replaceUrl){const Dn={...yt.extras.state,...this.generateNgRouterState(yt.id,this.browserPageId)};this.location.replaceState(Ut,"",Dn)}else{const cn={...yt.extras.state,...this.generateNgRouterState(yt.id,this.browserPageId+1)};this.location.go(Ut,"",cn)}}restoreHistory(Qe,yt=!1){if("computed"===this.canceledNavigationResolution){const cn=this.currentPageId-this.browserPageId;0!==cn?this.location.historyGo(cn):this.currentUrlTree===Qe.finalUrl&&0===cn&&(this.resetState(Qe),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(yt&&this.resetState(Qe),this.resetUrlToCurrentUrlTree())}resetState(Qe){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Qe.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(Qe,yt){return"computed"===this.canceledNavigationResolution?{navigationId:Qe,\u0275routerPageId:yt}:{navigationId:Qe}}static#e=this.\u0275fac=(()=>{let Qe;return function(Ut){return(Qe||(Qe=d.xGo(Ge)))(Ut||Ge)}})();static#t=this.\u0275prov=d.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();var Ir=function(Ge){return Ge[Ge.COMPLETE=0]="COMPLETE",Ge[Ge.FAILED=1]="FAILED",Ge[Ge.REDIRECTING=2]="REDIRECTING",Ge}(Ir||{});function Qo(Ge,ut){Ge.events.pipe((0,de.p)(Qe=>Qe instanceof Sr||Qe instanceof ii||Qe instanceof bi||Qe instanceof To),(0,Z.T)(Qe=>Qe instanceof Sr||Qe instanceof To?Ir.COMPLETE:Qe instanceof ii&&(Qe.code===zr.Redirect||Qe.code===zr.SupersededByNewNavigation)?Ir.REDIRECTING:Ir.FAILED),(0,de.p)(Qe=>Qe!==Ir.REDIRECTING),(0,ae.s)(1)).subscribe(()=>{ut()})}function ko(Ge){throw Ge}const Ss={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ml={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ms=(()=>{class Ge{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,d.WQX)(d.H3F),this.stateManager=(0,d.WQX)(ji),this.options=(0,d.WQX)($l,{optional:!0})||{},this.pendingTasks=(0,d.WQX)(d.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,d.WQX)(Mn),this.urlSerializer=(0,d.WQX)(tt),this.location=(0,d.WQX)(J.aZ),this.urlHandlingStrategy=(0,d.WQX)(Mf),this._events=new re.B,this.errorHandler=this.options.errorHandler||ko,this.navigated=!1,this.routeReuseStrategy=(0,d.WQX)(br),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,d.WQX)(pl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,d.WQX)(Pr,{optional:!0}),this.eventsSubscription=new te.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:Qe=>{this.console.warn(Qe)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const Qe=this.navigationTransitions.events.subscribe(yt=>{try{const Ut=this.navigationTransitions.currentTransition,cn=this.navigationTransitions.currentNavigation;if(null!==Ut&&null!==cn)if(this.stateManager.handleRouterEvent(yt,cn),yt instanceof ii&&yt.code!==zr.Redirect&&yt.code!==zr.SupersededByNewNavigation)this.navigated=!0;else if(yt instanceof Sr)this.navigated=!0;else if(yt instanceof da){const Dn=yt.navigationBehaviorOptions,sr=this.urlHandlingStrategy.merge(yt.url,Ut.currentRawUrl),Gn={browserUrl:Ut.extras.browserUrl,info:Ut.extras.info,skipLocationChange:Ut.extras.skipLocationChange,replaceUrl:Ut.extras.replaceUrl||"eager"===this.urlUpdateStrategy||tr(Ut.source),...Dn};this.scheduleNavigation(sr,Tn,null,Gn,{resolve:Ut.resolve,reject:Ut.reject,promise:Ut.promise})}(function va(Ge){return!(Ge instanceof ps||Ge instanceof da)})(yt)&&this._events.next(yt)}catch(Ut){this.navigationTransitions.transitionAbortSubject.next(Ut)}});this.eventsSubscription.add(Qe)}resetRootComponentType(Qe){this.routerState.root.component=Qe,this.navigationTransitions.rootComponentType=Qe}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Tn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((Qe,yt)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(Qe,"popstate",yt)},0)})}navigateToSyncWithBrowser(Qe,yt,Ut){const cn={replaceUrl:!0},Dn=Ut?.navigationId?Ut:null;if(Ut){const Gn={...Ut};delete Gn.navigationId,delete Gn.\u0275routerPageId,0!==Object.keys(Gn).length&&(cn.state=Gn)}const sr=this.parseUrl(Qe);this.scheduleNavigation(sr,yt,Dn,cn)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(Qe){this.config=Qe.map(oo),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(Qe,yt={}){const{relativeTo:Ut,queryParams:cn,fragment:Dn,queryParamsHandling:sr,preserveFragment:Gn}=yt,Gr=Gn?this.currentUrlTree.fragment:Dn;let fo,Ui=null;switch(sr){case"merge":Ui={...this.currentUrlTree.queryParams,...cn};break;case"preserve":Ui=this.currentUrlTree.queryParams;break;default:Ui=cn||null}null!==Ui&&(Ui=this.removeEmptyProps(Ui));try{fo=Or(Ut?Ut.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof Qe[0]||"/"!==Qe[0][0])&&(Qe=[]),fo=this.currentUrlTree.root}return Jn(fo,Qe,Ui,Gr??null)}navigateByUrl(Qe,yt={skipLocationChange:!1}){const Ut=En(Qe)?Qe:this.parseUrl(Qe),cn=this.urlHandlingStrategy.merge(Ut,this.rawUrlTree);return this.scheduleNavigation(cn,Tn,null,yt)}navigate(Qe,yt={skipLocationChange:!1}){return function yd(Ge){for(let ut=0;ut<Ge.length;ut++)if(null==Ge[ut])throw new d.wOt(4008,!1)}(Qe),this.navigateByUrl(this.createUrlTree(Qe,yt),yt)}serializeUrl(Qe){return this.urlSerializer.serialize(Qe)}parseUrl(Qe){try{return this.urlSerializer.parse(Qe)}catch{return this.urlSerializer.parse("/")}}isActive(Qe,yt){let Ut;if(Ut=!0===yt?{...Ss}:!1===yt?{...ml}:yt,En(Qe))return $e(this.currentUrlTree,Qe,Ut);const cn=this.parseUrl(Qe);return $e(this.currentUrlTree,cn,Ut)}removeEmptyProps(Qe){return Object.entries(Qe).reduce((yt,[Ut,cn])=>(null!=cn&&(yt[Ut]=cn),yt),{})}scheduleNavigation(Qe,yt,Ut,cn,Dn){if(this.disposed)return Promise.resolve(!1);let sr,Gn,Gr;Dn?(sr=Dn.resolve,Gn=Dn.reject,Gr=Dn.promise):Gr=new Promise((fo,yi)=>{sr=fo,Gn=yi});const Ui=this.pendingTasks.add();return Qo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ui))}),this.navigationTransitions.handleNavigationRequest({source:yt,restoredState:Ut,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:Qe,extras:cn,resolve:sr,reject:Gn,promise:Gr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Gr.catch(fo=>Promise.reject(fo))}static#e=this.\u0275fac=function(yt){return new(yt||Ge)};static#t=this.\u0275prov=d.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),La=(()=>{class Ge{constructor(Qe,yt,Ut,cn,Dn,sr){this.router=Qe,this.route=yt,this.tabIndexAttribute=Ut,this.renderer=cn,this.el=Dn,this.locationStrategy=sr,this.href=null,this.onChanges=new re.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Gn=Dn.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Gn||"area"===Gn,this.isAnchorElement?this.subscription=Qe.events.subscribe(Gr=>{Gr instanceof Sr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(Qe){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",Qe)}ngOnChanges(Qe){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(Qe){null==Qe?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=En(Qe)||Array.isArray(Qe)?Qe:[Qe],this.setTabIndexIfNotOnNativeEl("0"))}onClick(Qe,yt,Ut,cn,Dn){const sr=this.urlTree;return!!(null===sr||this.isAnchorElement&&(0!==Qe||yt||Ut||cn||Dn||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(sr,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const Qe=this.urlTree;this.href=null!==Qe&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(Qe)):null;const yt=null===this.href?null:(0,d.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",yt)}applyAttributeValue(Qe,yt){const Ut=this.renderer,cn=this.el.nativeElement;null!==yt?Ut.setAttribute(cn,Qe,yt):Ut.removeAttribute(cn,Qe)}get urlTree(){return null===this.routerLinkInput?null:En(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(yt){return new(yt||Ge)(d.rXU(Ms),d.rXU(Qi),d.kS0("tabindex"),d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(J.hb))};static#t=this.\u0275dir=d.FsC({type:Ge,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(yt,Ut){1&yt&&d.bIt("click",function(Dn){return Ut.onClick(Dn.button,Dn.ctrlKey,Dn.shiftKey,Dn.altKey,Dn.metaKey)}),2&yt&&d.BMQ("target",Ut.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",d.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",d.L39],replaceUrl:[2,"replaceUrl","replaceUrl",d.L39],routerLink:"routerLink"},standalone:!0,features:[d.GFd,d.OA$]})}return Ge})(),Ac=(()=>{class Ge{get isActive(){return this._isActive}constructor(Qe,yt,Ut,cn,Dn){this.router=Qe,this.element=yt,this.renderer=Ut,this.cdr=cn,this.link=Dn,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new d.bkB,this.routerEventsSubscription=Qe.events.subscribe(sr=>{sr instanceof Sr&&this.update()})}ngAfterContentInit(){(0,z.of)(this.links.changes,(0,z.of)(null)).pipe((0,_e.U)()).subscribe(Qe=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const Qe=[...this.links.toArray(),this.link].filter(yt=>!!yt).map(yt=>yt.onChanges);this.linkInputChangesSubscription=(0,k.H)(Qe).pipe((0,_e.U)()).subscribe(yt=>{this._isActive!==this.isLinkActive(this.router)(yt)&&this.update()})}set routerLinkActive(Qe){const yt=Array.isArray(Qe)?Qe:Qe.split(" ");this.classes=yt.filter(Ut=>!!Ut)}ngOnChanges(Qe){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const Qe=this.hasActiveLinks();this.classes.forEach(yt=>{Qe?this.renderer.addClass(this.element.nativeElement,yt):this.renderer.removeClass(this.element.nativeElement,yt)}),Qe&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==Qe&&(this._isActive=Qe,this.cdr.markForCheck(),this.isActiveChange.emit(Qe))})}isLinkActive(Qe){const yt=function yl(Ge){return!!Ge.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Ut=>{const cn=Ut.urlTree;return!!cn&&Qe.isActive(cn,yt)}}hasActiveLinks(){const Qe=this.isLinkActive(this.router);return this.link&&Qe(this.link)||this.links.some(Qe)}static#e=this.\u0275fac=function(yt){return new(yt||Ge)(d.rXU(Ms),d.rXU(d.aKT),d.rXU(d.sFG),d.rXU(d.gRc),d.rXU(La,8))};static#t=this.\u0275dir=d.FsC({type:Ge,selectors:[["","routerLinkActive",""]],contentQueries:function(yt,Ut,cn){if(1&yt&&d.wni(cn,La,5),2&yt){let Dn;d.mGM(Dn=d.lsd())&&(Ut.links=Dn)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[d.OA$]})}return Ge})();class gl{}let Pu=(()=>{class Ge{preload(Qe,yt){return yt().pipe((0,T.W)(()=>(0,z.of)(null)))}static#e=this.\u0275fac=function(yt){return new(yt||Ge)};static#t=this.\u0275prov=d.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),vc=(()=>{class Ge{constructor(Qe,yt,Ut,cn,Dn){this.router=Qe,this.injector=Ut,this.preloadingStrategy=cn,this.loader=Dn}setUpPreloading(){this.subscription=this.router.events.pipe((0,de.p)(Qe=>Qe instanceof Sr),(0,g.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Qe,yt){const Ut=[];for(const cn of yt){cn.providers&&!cn._injector&&(cn._injector=(0,d.Ol2)(cn.providers,Qe,`Route: ${cn.path}`));const Dn=cn._injector??Qe,sr=cn._loadedInjector??Dn;(cn.loadChildren&&!cn._loadedRoutes&&void 0===cn.canLoad||cn.loadComponent&&!cn._loadedComponent)&&Ut.push(this.preloadConfig(Dn,cn)),(cn.children||cn._loadedRoutes)&&Ut.push(this.processRoutes(sr,cn.children??cn._loadedRoutes))}return(0,k.H)(Ut).pipe((0,_e.U)())}preloadConfig(Qe,yt){return this.preloadingStrategy.preload(yt,()=>{let Ut;Ut=yt.loadChildren&&void 0===yt.canLoad?this.loader.loadChildren(Qe,yt):(0,z.of)(null);const cn=Ut.pipe((0,le.Z)(Dn=>null===Dn?(0,z.of)(void 0):(yt._loadedRoutes=Dn.routes,yt._loadedInjector=Dn.injector,this.processRoutes(Dn.injector??Qe,Dn.routes))));if(yt.loadComponent&&!yt._loadedComponent){const Dn=this.loader.loadComponent(yt);return(0,k.H)([cn,Dn]).pipe((0,_e.U)())}return cn})}static#e=this.\u0275fac=function(yt){return new(yt||Ge)(d.KVO(Ms),d.KVO(d.Ql9),d.KVO(d.uvJ),d.KVO(gl),d.KVO(Mc))};static#t=this.\u0275prov=d.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();const Ud=new d.nKC("");let Af=(()=>{class Ge{constructor(Qe,yt,Ut,cn,Dn={}){this.urlSerializer=Qe,this.transitions=yt,this.viewportScroller=Ut,this.zone=cn,this.options=Dn,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Dn.scrollPositionRestoration||="disabled",Dn.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(Qe=>{Qe instanceof Ar?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Qe.navigationTrigger,this.restoredId=Qe.restoredState?Qe.restoredState.navigationId:0):Qe instanceof Sr?(this.lastId=Qe.id,this.scheduleScrollEvent(Qe,this.urlSerializer.parse(Qe.urlAfterRedirects).fragment)):Qe instanceof To&&Qe.code===Kr.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(Qe,this.urlSerializer.parse(Qe.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(Qe=>{Qe instanceof Ki&&(Qe.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Qe.position):Qe.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Qe.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Qe,yt){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ki(Qe,"popstate"===this.lastSource?this.store[this.restoredId]:null,yt))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(yt){d.QTQ()};static#t=this.\u0275prov=d.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})();function mt(Ge,...ut){return(0,d.EmA)([{provide:pl,multi:!0,useValue:Ge},[],{provide:Qi,useFactory:it,deps:[Ms]},{provide:d.iLQ,multi:!0,useFactory:zn},ut.map(Qe=>Qe.\u0275providers)])}function it(Ge){return Ge.routerState.root}function Je(Ge,ut){return{\u0275kind:Ge,\u0275providers:ut}}function zn(){const Ge=(0,d.WQX)(d.zZn);return ut=>{const Qe=Ge.get(d.o8S);if(ut!==Qe.components[0])return;const yt=Ge.get(Ms),Ut=Ge.get(or);1===Ge.get(ur)&&yt.initialNavigation(),Ge.get(Me,null,d.$GK.Optional)?.setUpPreloading(),Ge.get(Ud,null,d.$GK.Optional)?.init(),yt.resetRootComponentType(Qe.componentTypes[0]),Ut.closed||(Ut.next(),Ut.complete(),Ut.unsubscribe())}}const or=new d.nKC("",{factory:()=>new re.B}),ur=new d.nKC("",{providedIn:"root",factory:()=>1}),Me=new d.nKC("");function me(Ge){return Je(0,[{provide:Me,useExisting:vc},{provide:gl,useExisting:Ge}])}function Vt(Ge){return Je(9,[{provide:sh,useValue:Jt},{provide:st,useValue:{skipNextTransition:!!Ge?.skipInitialTransition,...Ge}}])}const Gt=new d.nKC("ROUTER_FORROOT_GUARD"),bt=[J.aZ,{provide:tt,useClass:Bt},Ms,dl,{provide:Qi,useFactory:it,deps:[Ms]},Mc,[]];let an=(()=>{class Ge{constructor(Qe){}static forRoot(Qe,yt){return{ngModule:Ge,providers:[bt,[],{provide:pl,multi:!0,useValue:Qe},{provide:Gt,useFactory:hi,deps:[[Ms,new d.Xx1,new d.kdw]]},{provide:$l,useValue:yt||{}},yt?.useHash?{provide:J.hb,useClass:J.fw}:{provide:J.hb,useClass:J.Sm},{provide:Ud,useFactory:()=>{const Ge=(0,d.WQX)(J.Xr),ut=(0,d.WQX)(d.SKi),Qe=(0,d.WQX)($l),yt=(0,d.WQX)(Mn),Ut=(0,d.WQX)(tt);return Qe.scrollOffset&&Ge.setOffset(Qe.scrollOffset),new Af(Ut,yt,Ge,ut,Qe)}},yt?.preloadingStrategy?me(yt.preloadingStrategy).\u0275providers:[],yt?.initialNavigation?Oi(yt):[],yt?.bindToComponentInputs?Je(8,[Ii,{provide:Pr,useExisting:Ii}]).\u0275providers:[],yt?.enableViewTransitions?Vt().\u0275providers:[],[{provide:Wo,useFactory:zn},{provide:d.iLQ,multi:!0,useExisting:Wo}]]}}static forChild(Qe){return{ngModule:Ge,providers:[{provide:pl,multi:!0,useValue:Qe}]}}static#e=this.\u0275fac=function(yt){return new(yt||Ge)(d.KVO(Gt,8))};static#t=this.\u0275mod=d.$C({type:Ge});static#n=this.\u0275inj=d.G2t({})}return Ge})();function hi(Ge){return"guarded"}function Oi(Ge){return["disabled"===Ge.initialNavigation?Je(3,[{provide:d.hnV,multi:!0,useFactory:()=>{const ut=(0,d.WQX)(Ms);return()=>{ut.setUpLocationChangeListener()}}},{provide:ur,useValue:2}]).\u0275providers:[],"enabledBlocking"===Ge.initialNavigation?Je(2,[{provide:ur,useValue:0},{provide:d.hnV,multi:!0,deps:[d.zZn],useFactory:ut=>{const Qe=ut.get(J.hj,Promise.resolve());return()=>Qe.then(()=>new Promise(yt=>{const Ut=ut.get(Ms),cn=ut.get(or);Qo(Ut,()=>{yt(!0)}),ut.get(Mn).afterPreactivation=()=>(yt(!0),cn.closed?(0,z.of)(void 0):cn),Ut.initialNavigation()}))}}]).\u0275providers:[]]}const Wo=new d.nKC("")},52039:(je,H,w)=>{"use strict";w.d(H,{oU:()=>en,Q2:()=>ar});class E extends Error{constructor(nt,Wt){super(`${nt}: ${Wt}`),this.code=nt,Object.setPrototypeOf(this,new.target.prototype)}}new Uint8Array(0);class D{constructor(nt,Wt,Nt){this.name=nt,this.prefix=Wt,this.baseEncode=Nt}encode(nt){if(nt instanceof Uint8Array)return`${this.prefix}${this.baseEncode(nt)}`;throw Error("Unknown type, must be binary type")}}class X{constructor(nt,Wt,Nt){if(this.name=nt,this.prefix=Wt,void 0===Wt.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=Wt.codePointAt(0),this.baseDecode=Nt}decode(nt){if("string"==typeof nt){if(nt.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(nt)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(nt.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(nt){return G(this,nt)}}class j{constructor(nt){this.decoders=nt}or(nt){return G(this,nt)}decode(nt){const Nt=this.decoders[nt[0]];if(Nt)return Nt.decode(nt);throw RangeError(`Unable to decode multibase string ${JSON.stringify(nt)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const G=(Ye,nt)=>new j({...Ye.decoders||{[Ye.prefix]:Ye},...nt.decoders||{[nt.prefix]:nt}});class re{constructor(nt,Wt,Nt,un){this.name=nt,this.prefix=Wt,this.baseEncode=Nt,this.baseDecode=un,this.encoder=new D(nt,Wt,Nt),this.decoder=new X(nt,Wt,un)}encode(nt){return this.encoder.encode(nt)}decode(nt){return this.decoder.decode(nt)}}const ae=({name:Ye,prefix:nt,bitsPerChar:Wt,alphabet:Nt})=>(({name:Ye,prefix:nt,encode:Wt,decode:Nt})=>new re(Ye,nt,Wt,Nt))({prefix:nt,name:Ye,encode:un=>((Ye,nt,Wt)=>{const Nt="="===nt[nt.length-1],un=(1<<Wt)-1;let Wn="",En=0,kn=0;for(let Or=0;Or<Ye.length;++Or)for(kn=kn<<8|Ye[Or],En+=8;En>Wt;)En-=Wt,Wn+=nt[un&kn>>En];if(En&&(Wn+=nt[un&kn<<Wt-En]),Nt)for(;Wn.length*Wt&7;)Wn+="=";return Wn})(un,Nt,Wt),decode:un=>((Ye,nt,Wt,Nt)=>{const un={};for(let Fn=0;Fn<nt.length;++Fn)un[nt[Fn]]=Fn;let Wn=Ye.length;for(;"="===Ye[Wn-1];)--Wn;const En=new Uint8Array(Wn*Wt/8|0);let kn=0,Or=0,Jn=0;for(let Fn=0;Fn<Wn;++Fn){const Lt=un[Ye[Fn]];if(void 0===Lt)throw new SyntaxError(`Non-${Nt} character`);Or=Or<<Wt|Lt,kn+=Wt,kn>=8&&(kn-=8,En[Jn++]=255&Or>>kn)}if(kn>=Wt||255&Or<<8-kn)throw new SyntaxError("Unexpected end of data");return En})(un,Nt,Wt,Ye)}),le=(ae({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ae({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ae({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}));ae({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});class xe{static encode(nt){return le.baseEncode(nt)}static decodeAsBytes(nt,Wt){if(!xe.isBase64UrlString(nt))throw new E("EncodedStringIncorrectEncoding",`Given ${Wt} must be base64url string.`);return le.baseDecode(nt)}static decodeAsString(nt,Wt){const Nt=xe.decodeAsBytes(nt,Wt);return xe.bytesToString(Nt)}static isBase64UrlString(nt){return/^[A-Za-z0-9_-]+$/.test(nt)}static stringToBytes(nt){return(new TextEncoder).encode(nt)}static bytesToString(nt){return(new TextDecoder).decode(nt)}}var ke=w(95568),C=function(Ye){return Ye.Public="public",Ye.Private="private",Ye}(C||{});const a=C;class f{static validateEs256kOperationKey(nt,Wt){const Nt=new Set(["kty","crv","x","y"]);Wt===a.Private&&Nt.add("d");for(const un in nt)if(!Nt.has(un))throw new E("PublicKeyJwkEs256kHasUnexpectedProperty",`SECP256K1 JWK key has unexpected property '${un}'.`);if("secp256k1"!==nt.crv)throw new E("JwkEs256kMissingOrInvalidCrv",`SECP256K1 JWK 'crv' property must be 'secp256k1' but got '${nt.crv}.'`);if("EC"!==nt.kty)throw new E("JwkEs256kMissingOrInvalidKty",`SECP256K1 JWK 'kty' property must be 'EC' but got '${nt.kty}.'`);if(43!==nt.x.length)throw new E("JwkEs256kHasIncorrectLengthOfX","SECP256K1 JWK 'x' property must be 43 bytes.");if(43!==nt.y.length)throw new E("JwkEs256kHasIncorrectLengthOfY","SECP256K1 JWK 'y' property must be 43 bytes.");if(Wt===a.Private&&(void 0===nt.d||43!==nt.d.length))throw new E("JwkEs256kHasIncorrectLengthOfD","SECP256K1 JWK 'd' property must be 43 bytes.")}static validateId(nt){if(nt.length>50)throw new E("IdTooLong",`Key ID length ${nt.length} exceed max allowed length of 50.`);if(!xe.isBase64UrlString(nt))throw new E("IdNotUsingBase64UrlCharacterSet",`Key ID '${nt}' is not a Base64URL string.`)}static validatePublicKeyPurposes(nt){if(void 0===nt)return;const Wt=new Set;for(const Nt of nt){if(Wt.has(Nt))throw new E("PublicKeyPurposeDuplicated",`Public key purpose '${Nt}' already specified.`);Wt.add(Nt)}}}const g=(()=>{class Ye{}return Ye.hashAlgorithmInMultihashCode=18,Ye.maxCanonicalizedDeltaSizeInBytes=1e3,Ye})();var M=w(28846);class T{static canonicalizeAsBytes(nt){const Wt=T.removeAllUndefinedProperties(nt),Nt=M(Wt);return xe.stringToBytes(Nt)}static removeAllUndefinedProperties(nt){for(const Wt in nt)"object"==typeof nt[Wt]?T.removeAllUndefinedProperties(nt[Wt]):void 0===nt[Wt]&&delete nt[Wt];return nt}}var S=128,v=-128,W=Math.pow(2,31),ce=128,_e=127,Ve=Math.pow(2,7),Se=Math.pow(2,14),we=Math.pow(2,21),Ue=Math.pow(2,28),ye=Math.pow(2,35),De=Math.pow(2,42),pe=Math.pow(2,49),ue=Math.pow(2,56),Q=Math.pow(2,63);const Re={encode:function K(Ye,nt,Wt){nt=nt||[];for(var Nt=Wt=Wt||0;Ye>=W;)nt[Wt++]=255&Ye|S,Ye/=128;for(;Ye&v;)nt[Wt++]=255&Ye|S,Ye>>>=7;return nt[Wt]=0|Ye,K.bytes=Wt-Nt+1,nt},decode:function Oe(Ye,Nt){var En,Wt=0,un=0,Wn=Nt=Nt||0,kn=Ye.length;do{if(Wn>=kn)throw Oe.bytes=0,new RangeError("Could not decode varint");En=Ye[Wn++],Wt+=un<28?(En&_e)<<un:(En&_e)*Math.pow(2,un),un+=7}while(En>=ce);return Oe.bytes=Wn-Nt,Wt},encodingLength:function(Ye){return Ye<Ve?1:Ye<Se?2:Ye<we?3:Ye<Ue?4:Ye<ye?5:Ye<De?6:Ye<pe?7:Ye<ue?8:Ye<Q?9:10}},$e=(Ye,nt=0)=>[Re.decode(Ye,nt),Re.decode.bytes],Fe=(Ye,nt,Wt=0)=>(Re.encode(Ye,nt,Wt),nt),_t=Ye=>Re.encodingLength(Ye),We=(Ye,nt)=>{const Wt=nt.byteLength,Nt=_t(Ye),un=Nt+_t(Wt),Wn=new Uint8Array(un+Wt);return Fe(Ye,Wn,0),Fe(Wt,Wn,Nt),Wn.set(nt,un),new N(Ye,Wt,nt,Wn)};class N{constructor(nt,Wt,Nt,un){this.code=nt,this.size=Wt,this.digest=Nt,this.bytes=un}}var _=w(10467);const m=({name:Ye,code:nt,encode:Wt})=>new U(Ye,nt,Wt);class U{constructor(nt,Wt,Nt){this.name=nt,this.code=Wt,this.encode=Nt}digest(nt){if(nt instanceof Uint8Array){const Wt=this.encode(nt);return Wt instanceof Uint8Array?We(this.code,Wt):Wt.then(Nt=>We(this.code,Nt))}throw Error("Unknown type, must be binary type")}}const ne=Ye=>function(){var nt=(0,_.A)(function*(Wt){return new Uint8Array(yield crypto.subtle.digest(Ye,Wt))});return function(Wt){return nt.apply(this,arguments)}}(),ge=m({name:"sha2-256",code:18,encode:ne("SHA-256")});m({name:"sha2-512",code:19,encode:ne("SHA-512")});var tt=function(Ye,nt,Wt,Nt){return new(Wt||(Wt=Promise))(function(Wn,En){function kn(Fn){try{Jn(Nt.next(Fn))}catch(Lt){En(Lt)}}function Or(Fn){try{Jn(Nt.throw(Fn))}catch(Lt){En(Lt)}}function Jn(Fn){Fn.done?Wn(Fn.value):function un(Wn){return Wn instanceof Wt?Wn:new Wt(function(En){En(Wn)})}(Fn.value).then(kn,Or)}Jn((Nt=Nt.apply(Ye,nt||[])).next())})};class Bt{static hash(nt,Wt){return tt(this,void 0,void 0,function*(){let Nt;if(18!==Wt)throw new E("MultihashUnsupportedHashAlgorithm",`Hash algorithm defined in multihash code ${Wt} is not supported.`);return Nt=(yield ge.digest(nt)).bytes,Nt})}static hashAsNonMultihashBytes(nt,Wt){return tt(this,void 0,void 0,function*(){let Nt;if(18!==Wt)throw new E("MultihashUnsupportedHashAlgorithm",`Hash algorithm defined in multihash code ${Wt} is not supported.`);return Nt=yield ge.encode(nt),Nt})}static canonicalizeThenHashThenEncode(nt,Wt){return tt(this,void 0,void 0,function*(){const Nt=T.canonicalizeAsBytes(nt);return yield Bt.hashThenEncode(Nt,Wt)})}static canonicalizeThenDoubleHashThenEncode(nt,Wt){return tt(this,void 0,void 0,function*(){const Nt=T.canonicalizeAsBytes(nt),un=yield Bt.hashAsNonMultihashBytes(Nt,Wt);return yield Bt.hashThenEncode(un,Wt)})}static hashThenEncode(nt,Wt){return tt(this,void 0,void 0,function*(){const Nt=yield Bt.hash(nt,Wt);return xe.encode(Nt)})}static validateEncodedHashComputedUsingSupportedHashAlgorithm(nt,Wt){let Nt;const un=xe.decodeAsBytes(nt,Wt);try{Nt=(Ye=>{const nt=(Ye=>{if(Ye instanceof Uint8Array&&"Uint8Array"===Ye.constructor.name)return Ye;if(Ye instanceof ArrayBuffer)return new Uint8Array(Ye);if(ArrayBuffer.isView(Ye))return new Uint8Array(Ye.buffer,Ye.byteOffset,Ye.byteLength);throw new Error("Unknown type, must be binary type")})(Ye),[Wt,Nt]=$e(nt),[un,Wn]=$e(nt.subarray(Nt)),En=nt.subarray(Nt+Wn);if(En.byteLength!==un)throw new Error("Incorrect length");return new N(Wt,un,En,nt)})(un)}catch{throw new E("MultihashStringNotAMultihash",`Given ${Wt} string '${nt}' is not a multihash after decoding.`)}const Wn=g.hashAlgorithmInMultihashCode;if(Wn!==Nt.code)throw new E("MultihashUnsupportedHashAlgorithm",`Given ${Wt} uses unsupported multihash algorithm with code ${Nt.code}, should use ${Wn} or change IonSdkConfig to desired hashing algorithm.`)}}var gt=function(Ye){return Ye.Create="create",Ye.Update="update",Ye.Deactivate="deactivate",Ye.Recover="recover",Ye}(gt||{});const It=gt;var Zt=function(Ye){return Ye.Replace="replace",Ye.AddPublicKeys="add-public-keys",Ye.RemovePublicKeys="remove-public-keys",Ye.AddServices="add-services",Ye.RemoveServices="remove-services",Ye}(Zt||{});const mn=Zt;var dn=function(Ye,nt,Wt,Nt){return new(Wt||(Wt=Promise))(function(Wn,En){function kn(Fn){try{Jn(Nt.next(Fn))}catch(Lt){En(Lt)}}function Or(Fn){try{Jn(Nt.throw(Fn))}catch(Lt){En(Lt)}}function Jn(Fn){Fn.done?Wn(Fn.value):function un(Wn){return Wn instanceof Wt?Wn:new Wt(function(En){En(Wn)})}(Fn.value).then(kn,Or)}Jn((Nt=Nt.apply(Ye,nt||[])).next())})};class ar{static createCreateRequest(nt){return dn(this,void 0,void 0,function*(){const Wt=nt.recoveryKey,Nt=nt.updateKey,un=nt.document.publicKeys,Wn=nt.document.services;f.validateEs256kOperationKey(Wt,a.Public),f.validateEs256kOperationKey(Nt,a.Public),ar.validateDidDocumentKeys(un),ar.validateServices(Wn);const En=g.hashAlgorithmInMultihashCode,kn=[{action:mn.Replace,document:nt.document}],Or={updateCommitment:yield Bt.canonicalizeThenDoubleHashThenEncode(Nt,En),patches:kn};ar.validateDeltaSize(Or);const Fn={deltaHash:yield Bt.canonicalizeThenHashThenEncode(Or,En),recoveryCommitment:yield Bt.canonicalizeThenDoubleHashThenEncode(Wt,En)};return{type:It.Create,suffixData:Fn,delta:Or}})}static createDeactivateRequest(nt){return dn(this,void 0,void 0,function*(){ar.validateDidSuffix(nt.didSuffix),f.validateEs256kOperationKey(nt.recoveryPublicKey,a.Public);const Wt=g.hashAlgorithmInMultihashCode,Nt=yield Bt.canonicalizeThenHashThenEncode(nt.recoveryPublicKey,Wt),un={didSuffix:nt.didSuffix,recoveryKey:nt.recoveryPublicKey},Wn=yield nt.signer.sign({alg:"ES256K"},un);return{type:It.Deactivate,didSuffix:nt.didSuffix,revealValue:Nt,signedData:Wn}})}static createRecoverRequest(nt){return dn(this,void 0,void 0,function*(){ar.validateDidSuffix(nt.didSuffix),f.validateEs256kOperationKey(nt.recoveryPublicKey,a.Public),f.validateEs256kOperationKey(nt.nextRecoveryPublicKey,a.Public),f.validateEs256kOperationKey(nt.nextUpdatePublicKey,a.Public),ar.validateDidDocumentKeys(nt.document.publicKeys),ar.validateServices(nt.document.services);const Wt=g.hashAlgorithmInMultihashCode,Nt=yield Bt.canonicalizeThenHashThenEncode(nt.recoveryPublicKey,Wt),En={patches:[{action:mn.Replace,document:nt.document}],updateCommitment:yield Bt.canonicalizeThenDoubleHashThenEncode(nt.nextUpdatePublicKey,Wt)},kn=yield Bt.canonicalizeThenHashThenEncode(En,Wt),Jn={recoveryCommitment:yield Bt.canonicalizeThenDoubleHashThenEncode(nt.nextRecoveryPublicKey,Wt),recoveryKey:nt.recoveryPublicKey,deltaHash:kn},Fn=yield nt.signer.sign({alg:"ES256K"},Jn);return{type:It.Recover,didSuffix:nt.didSuffix,revealValue:Nt,delta:En,signedData:Fn}})}static createUpdateRequest(nt){return dn(this,void 0,void 0,function*(){if(ar.validateDidSuffix(nt.didSuffix),f.validateEs256kOperationKey(nt.updatePublicKey,a.Public),f.validateEs256kOperationKey(nt.nextUpdatePublicKey,a.Public),ar.validateServices(nt.servicesToAdd),ar.validateDidDocumentKeys(nt.publicKeysToAdd),void 0!==nt.idsOfServicesToRemove)for(const Ne of nt.idsOfServicesToRemove)f.validateId(Ne);if(void 0!==nt.idsOfPublicKeysToRemove)for(const Ne of nt.idsOfPublicKeysToRemove)f.validateId(Ne);const Wt=[],Nt=nt.servicesToAdd;void 0!==Nt&&Nt.length>0&&Wt.push({action:mn.AddServices,services:Nt});const un=nt.idsOfServicesToRemove;void 0!==un&&un.length>0&&Wt.push({action:mn.RemoveServices,ids:un});const Wn=nt.publicKeysToAdd;void 0!==Wn&&Wn.length>0&&Wt.push({action:mn.AddPublicKeys,publicKeys:Wn});const En=nt.idsOfPublicKeysToRemove;void 0!==En&&En.length>0&&Wt.push({action:mn.RemovePublicKeys,ids:En});const kn=g.hashAlgorithmInMultihashCode,Or=yield Bt.canonicalizeThenHashThenEncode(nt.updatePublicKey,kn),Fn={patches:Wt,updateCommitment:yield Bt.canonicalizeThenDoubleHashThenEncode(nt.nextUpdatePublicKey,kn)},Lt=yield Bt.canonicalizeThenHashThenEncode(Fn,kn),et={updateKey:nt.updatePublicKey,deltaHash:Lt},Te=yield nt.signer.sign({alg:"ES256K"},et);return{type:It.Update,didSuffix:nt.didSuffix,revealValue:Or,delta:Fn,signedData:Te}})}static validateDidSuffix(nt){Bt.validateEncodedHashComputedUsingSupportedHashAlgorithm(nt,"didSuffix")}static validateDidDocumentKeys(nt){if(void 0===nt)return;const Wt=new Set;for(const Nt of nt){if(Array.isArray(Nt.publicKeyJwk))throw new E("DidDocumentPublicKeyMissingOrIncorrectType","DID Document key 'publicKeyJwk' property is not a non-array object.");if(f.validateId(Nt.id),Wt.has(Nt.id))throw new E("DidDocumentPublicKeyIdDuplicated",`DID Document key with ID '${Nt.id}' already exists.`);Wt.add(Nt.id),f.validatePublicKeyPurposes(Nt.purposes)}}static validateServices(nt){if(void 0!==nt&&0!==nt.length){const Wt=new Set;for(const Nt of nt){if(ar.validateService(Nt),Wt.has(Nt.id))throw new E("DidDocumentServiceIdDuplicated","Service id has to be unique");Wt.add(Nt.id)}}}static validateService(nt){if(f.validateId(nt.id),nt.type.length>30)throw new E("ServiceTypeTooLong",`Service endpoint type length ${nt.type.length} exceeds max allowed length of 30.`);if(Array.isArray(nt.serviceEndpoint))throw new E("ServiceEndpointCannotBeAnArray","Service endpoint value cannot be an array.");if("string"==typeof nt.serviceEndpoint&&void 0!==ke.parse(nt.serviceEndpoint).error)throw new E("ServiceEndpointStringNotValidUri",`Service endpoint string '${nt.serviceEndpoint}' is not a URI.`)}static validateDeltaSize(nt){const Wt=T.canonicalizeAsBytes(nt);if(Wt.length>g.maxCanonicalizedDeltaSizeInBytes)throw new E("DeltaExceedsMaximumSize",`Delta of ${Wt.length} bytes exceeded limit of ${g.maxCanonicalizedDeltaSizeInBytes} bytes.`)}}var An=function(Ye,nt,Wt,Nt){return new(Wt||(Wt=Promise))(function(Wn,En){function kn(Fn){try{Jn(Nt.next(Fn))}catch(Lt){En(Lt)}}function Or(Fn){try{Jn(Nt.throw(Fn))}catch(Lt){En(Lt)}}function Jn(Fn){Fn.done?Wn(Fn.value):function un(Wn){return Wn instanceof Wt?Wn:new Wt(function(En){En(Wn)})}(Fn.value).then(kn,Or)}Jn((Nt=Nt.apply(Ye,nt||[])).next())})};class en{static createLongFormDid(nt){return An(this,void 0,void 0,function*(){const Wt=yield ar.createCreateRequest(nt),Nt=yield en.computeDidUniqueSuffix(Wt.suffixData);let un;un=void 0===g.network||"mainnet"===g.network?`did:ion:${Nt}`:`did:ion:${g.network}:${Nt}`;const En=T.canonicalizeAsBytes({suffixData:Wt.suffixData,delta:Wt.delta});return`${un}:${xe.encode(En)}`})}static computeDidUniqueSuffix(nt){return An(this,void 0,void 0,function*(){const Wt=T.canonicalizeAsBytes(nt),Nt=yield Bt.hash(Wt,g.hashAlgorithmInMultihashCode);return xe.encode(Nt)})}}w(63741),w(68464)},49402:(je,H,w)=>{"use strict";w.d(H,{hB:()=>Ht,D4:()=>Wn,lF:()=>un});const d=/^(\d{1,3}\.){3,3}\d{1,3}$/,k=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i,x={name:"v4",size:4,isFormat:et=>d.test(et),encode(et,Te,Ne){Ne=~~Ne,Te=Te||new Uint8Array(Ne+4);const xt=et.length;let nn=0;for(let In=0;In<xt;){const Kn=et.charCodeAt(In++);46===Kn?(Te[Ne++]=nn,nn=0):nn=10*nn+(Kn-48)}return Te[Ne]=nn,Te},decode:(et,Te)=>(Te=~~Te,`${et[Te++]}.${et[Te++]}.${et[Te++]}.${et[Te]}`)},O={name:"v6",size:16,isFormat:et=>et.length>0&&k.test(et),encode(et,Te,Ne){let xt=16+(Ne=~~Ne),nn=-1,In=0,Kn=0,er=!0,_r=!1;Te=Te||new Uint8Array(Ne+16);for(let Tr=0;Tr<et.length;Tr++){let Br=et.charCodeAt(Tr);58===Br?(er?-1!==nn?(Ne<xt&&(Te[Ne]=0),Ne<xt-1&&(Te[Ne+1]=0),Ne+=2):Ne<xt&&(nn=Ne):(!0===_r?(Ne<xt&&(Te[Ne]=Kn),Ne++):(Ne<xt&&(Te[Ne]=In>>8),Ne<xt-1&&(Te[Ne+1]=255&In),Ne+=2),In=0,Kn=0),er=!0,_r=!1):46===Br?(Ne<xt&&(Te[Ne]=Kn),Ne++,Kn=0,In=0,er=!1,_r=!0):(er=!1,Br>=97?Br-=87:Br>=65?Br-=55:(Br-=48,Kn=10*Kn+Br),In=(In<<4)+Br)}if(!1===er)!0===_r?(Ne<xt&&(Te[Ne]=Kn),Ne++):(Ne<xt&&(Te[Ne]=In>>8),Ne<xt-1&&(Te[Ne+1]=255&In),Ne+=2);else if(0===nn)Ne<xt&&(Te[Ne]=0),Ne<xt-1&&(Te[Ne+1]=0),Ne+=2;else if(-1!==nn){Ne+=2;for(let Tr=Math.min(Ne-1,xt-1);Tr>=nn+2;Tr--)Te[Tr]=Te[Tr-2];Te[nn]=0,Te[nn+1]=0,nn=Ne}if(nn!==Ne&&-1!==nn)for(Ne>xt-2&&(Ne=xt-2);xt>nn;)Te[--xt]=Ne<xt&&Ne>nn?Te[--Ne]:0;else for(;Ne<xt;)Te[Ne++]=0;return Te},decode(et,Te){Te=~~Te;let Ne="";for(let xt=0;xt<16;xt+=2)0!==xt&&(Ne+=":"),Ne+=(et[Te+xt]<<8|et[Te+xt+1]).toString(16);return Ne.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}};function P(et){if(x.isFormat(et))return x.size;if(O.isFormat(et))return O.size;throw Error(`Invalid ip address: ${et}`)}function X(et){switch(et){case 1:return"A";case 10:return"NULL";case 28:return"AAAA";case 18:return"AFSDB";case 42:return"APL";case 257:return"CAA";case 60:return"CDNSKEY";case 59:return"CDS";case 37:return"CERT";case 5:return"CNAME";case 49:return"DHCID";case 32769:return"DLV";case 39:return"DNAME";case 48:return"DNSKEY";case 43:return"DS";case 55:return"HIP";case 13:return"HINFO";case 45:return"IPSECKEY";case 25:return"KEY";case 36:return"KX";case 29:return"LOC";case 15:return"MX";case 35:return"NAPTR";case 2:return"NS";case 47:return"NSEC";case 50:return"NSEC3";case 51:return"NSEC3PARAM";case 12:return"PTR";case 46:return"RRSIG";case 17:return"RP";case 24:return"SIG";case 6:return"SOA";case 99:return"SPF";case 33:return"SRV";case 44:return"SSHFP";case 32768:return"TA";case 249:return"TKEY";case 52:return"TLSA";case 250:return"TSIG";case 16:return"TXT";case 252:return"AXFR";case 251:return"IXFR";case 41:return"OPT";case 255:return"ANY"}return"UNKNOWN_"+et}function j(et){switch(et.toUpperCase()){case"A":return 1;case"NULL":return 10;case"AAAA":return 28;case"AFSDB":return 18;case"APL":return 42;case"CAA":return 257;case"CDNSKEY":return 60;case"CDS":return 59;case"CERT":return 37;case"CNAME":return 5;case"DHCID":return 49;case"DLV":return 32769;case"DNAME":return 39;case"DNSKEY":return 48;case"DS":return 43;case"HIP":return 55;case"HINFO":return 13;case"IPSECKEY":return 45;case"KEY":return 25;case"KX":return 36;case"LOC":return 29;case"MX":return 15;case"NAPTR":return 35;case"NS":return 2;case"NSEC":return 47;case"NSEC3":return 50;case"NSEC3PARAM":return 51;case"PTR":return 12;case"RRSIG":return 46;case"RP":return 17;case"SIG":return 24;case"SOA":return 6;case"SPF":return 99;case"SRV":return 33;case"SSHFP":return 44;case"TA":return 32768;case"TKEY":return 249;case"TLSA":return 52;case"TSIG":return 250;case"TXT":return 16;case"AXFR":return 252;case"IXFR":return 251;case"OPT":return 41;case"ANY":case"*":return 255}return et.toUpperCase().startsWith("UNKNOWN_")?parseInt(et.slice(8)):0}function G(et){switch(et){case 0:return"NOERROR";case 1:return"FORMERR";case 2:return"SERVFAIL";case 3:return"NXDOMAIN";case 4:return"NOTIMP";case 5:return"REFUSED";case 6:return"YXDOMAIN";case 7:return"YXRRSET";case 8:return"NXRRSET";case 9:return"NOTAUTH";case 10:return"NOTZONE";case 11:return"RCODE_11";case 12:return"RCODE_12";case 13:return"RCODE_13";case 14:return"RCODE_14";case 15:return"RCODE_15"}return"RCODE_"+et}function te(et){switch(et){case 0:return"QUERY";case 1:return"IQUERY";case 2:return"STATUS";case 3:return"OPCODE_3";case 4:return"NOTIFY";case 5:return"UPDATE";case 6:return"OPCODE_6";case 7:return"OPCODE_7";case 8:return"OPCODE_8";case 9:return"OPCODE_9";case 10:return"OPCODE_10";case 11:return"OPCODE_11";case 12:return"OPCODE_12";case 13:return"OPCODE_13";case 14:return"OPCODE_14";case 15:return"OPCODE_15"}return"OPCODE_"+et}function Z(et){switch(et){case 1:return"IN";case 2:return"CS";case 3:return"CH";case 4:return"HS";case 255:return"ANY"}return"UNKNOWN_"+et}function ie(et){switch(et.toUpperCase()){case"IN":return 1;case"CS":return 2;case"CH":return 3;case"HS":return 4;case"ANY":return 255}return 0}function se(et){if("number"==typeof et)return et;if(!et)return-1;switch(et.toUpperCase()){case"OPTION_0":return 0;case"LLQ":return 1;case"UL":return 2;case"NSID":return 3;case"OPTION_4":return 4;case"DAU":return 5;case"DHU":return 6;case"N3U":return 7;case"CLIENT_SUBNET":return 8;case"EXPIRE":return 9;case"COOKIE":return 10;case"TCP_KEEPALIVE":return 11;case"PADDING":return 12;case"CHAIN":return 13;case"KEY_TAG":return 14;case"DEVICEID":return 26946;case"OPTION_65535":return 65535}const Te=et.match(/_(\d+)$/);return Te?parseInt(Te[1],10):-1}const de=55296,le=56320;function xe(et){let Te=0;const Ne=et.length;for(let xt=0;xt<Ne;xt+=1){const nn=et.charCodeAt(xt);if(nn<=127)Te+=1;else if(nn<=2047)Te+=2;else if((63488&nn)!==de)Te+=3;else{const In=xt+1;In===Ne||nn>=le||(64512&et.charCodeAt(In))!==le?Te+=3:(xt=In,Te+=4)}}return Te}function ke(et,Te,Ne){const xt=et.length;null==Ne&&(Ne=0),void 0===Te&&(Te=new Uint8Array(xe(et)+Ne));let nn=Ne;for(let In=0;In<xt;In+=1){let Kn=et.charCodeAt(In);if(Kn<=127)Te[nn++]=Kn;else if(Kn<=2047)Te[nn++]=192|(1984&Kn)>>6,Te[nn++]=128|63&Kn;else if((63488&Kn)!==de)Te[nn++]=224|(61440&Kn)>>12,Te[nn++]=128|(4032&Kn)>>6,Te[nn++]=128|63&Kn;else{const er=In+1;if(er===xt||Kn>=le)Te[nn++]=239,Te[nn++]=191,Te[nn++]=189;else{const _r=et.charCodeAt(er);(64512&_r)!==le?(Te[nn++]=239,Te[nn++]=191,Te[nn++]=189):(In=er,Kn=65536|(1023&Kn)<<10|1023&_r,Te[nn++]=240|(1835008&Kn)>>18,Te[nn++]=128|(258048&Kn)>>12,Te[nn++]=128|(4032&Kn)>>6,Te[nn++]=128|63&Kn)}}}return ke.bytes=nn-Ne,Te}function C(et,Te,Ne){let xt="";null==Te&&(Te=0),null==Ne&&(Ne=et.length);for(let nn=Te;nn<Ne;){const In=et[nn++];let Kn;In<=128?Kn=In:In>191&&In<224?Kn=(31&In)<<6|63&et[nn++]:In>239&&In<365?(Kn=((7&In)<<18|(63&et[nn++])<<12|(63&et[nn++])<<6|63&et[nn++])-65536,xt+=String.fromCharCode(de|Kn>>10&1023),Kn=le|1023&Kn):Kn=(15&In)<<12|(63&et[nn++])<<6|63&et[nn++],xt+=String.fromCharCode(Kn)}return C.bytes=Ne-Te,xt}ke.bytes=0,C.bytes=0;const a=et=>et instanceof Uint8Array;function f(et){return"string"==typeof et?xe(et):et.byteLength}function y(et){return et instanceof Uint8Array?et:Array.isArray(et)?new Uint8Array(et):ke(et)}function g(et,Te,Ne){if("string"!=typeof Te)throw new Error("unknown input type");return ke(Te,et,Ne),ke.bytes}const M={},T=new Array(255);for(let et=0;et<=15;et+=1){const Te=et.toString(16),Ne=Te.toUpperCase();for(let xt=0;xt<=15;xt+=1){const nn=xt.toString(16),In=nn.toUpperCase(),Kn=et<<4|xt,er=`${Te}${nn}`;T[Kn]=er,M[er]=Kn,M[`${Ne}${nn}`]=Kn,M[`${Te}${In}`]=Kn,M[`${Ne}${In}`]=Kn}}function S(et){return et.length>>>1}const v=Math.pow(2,24),W=Math.pow(2,16),K=Math.pow(2,8),ee=(et,Te)=>et[Te]*v+et[Te+1]*W+et[Te+2]*K+et[Te+3],ce=(et,Te)=>et[Te]<<8|et[Te+1],_e=(et,Te,Ne)=>(et[Ne+3]=Te=+Te,et[Ne+2]=Te>>>=8,et[Ne+1]=Te>>>=8,et[Ne]=Te>>>=8,Ne+4),Oe=(et,Te,Ne)=>(et[Ne]=Te>>8,et[Ne+1]=255&Te,Ne+2);function Ve(et,Te,Ne,xt,nn){return Ne<0&&(xt-=Ne,Ne=0),xt<0&&(xt=0),nn<0?new Uint8Array(0):Ne>=Te.length||xt>=nn?0:function Se(et,Te,Ne,xt,nn){nn-xt>Te.length-Ne&&(nn=xt+Te.length-Ne);let In=nn-xt;const Kn=et.length-xt;return In>Kn&&(In=Kn),(0!==xt||nn<et.length)&&(et=new Uint8Array(et.buffer,et.byteOffset+xt,In)),Te.set(et,Ne),In}(et,Te,Ne,xt,nn)}function Q({bytes:et=0,encode:Te,decode:Ne,encodingLength:xt}){return Te.bytes=et,Ne.bytes=et,{encode:Te,decode:Ne,encodingLength:xt||(()=>et)}}const oe=Q({encode(et,Te,Ne){Te||(Te=new Uint8Array(oe.encodingLength(et))),Ne||(Ne=0);const xt=Ne,nn=et.replace(/^\.|\.$/gm,"");if(nn.length){const In=nn.split(".");for(let Kn=0;Kn<In.length;Kn++){const er=g(Te,In[Kn],Ne+1);Te[Ne]=er,Ne+=er+1}}return Te[Ne++]=0,oe.encode.bytes=Ne-xt,Te},decode(et,Te){Te||(Te=0);const Ne=[];let xt=Te,nn=0,In=0,Kn=!1;for(;;){if(Te>=et.length)throw new Error("Cannot decode name (buffer overflow)");const er=et[Te++];if(In+=Kn?0:1,0===er)break;if(192&er){if(192&~er)throw new Error("Cannot decode name (bad label)");{if(Te+1>et.length)throw new Error("Cannot decode name (buffer overflow)");const _r=ce(et,Te-1)-49152;if(_r>=xt)throw new Error("Cannot decode name (bad pointer)");Te=_r,xt=_r,In+=Kn?0:1,Kn=!0}}else{if(Te+er>et.length)throw new Error("Cannot decode name (buffer overflow)");if(nn+=er+1,nn>254)throw new Error("Cannot decode name (name too long)");Ne.push(C(et,Te,Te+er)),Te+=er,In+=Kn?0:er}}return oe.decode.bytes=In,0===Ne.length?".":Ne.join(".")},encodingLength:et=>"."===et||".."===et?1:f(et.replace(/^\.|\.$/gm,""))+2}),fe=Q({encode(et,Te,Ne){Te||(Te=new Uint8Array(fe.encodingLength(et))),Ne||(Ne=0);const xt=g(Te,et,Ne+1);return Te[Ne]=xt,fe.encode.bytes=xt+1,Te},decode(et,Te){Te||(Te=0);const Ne=et[Te],xt=C(et,Te+1,Te+1+Ne);return fe.decode.bytes=Ne+1,xt},encodingLength:et=>f(et)+1}),Ee=Q({bytes:12,encode(et,Te,Ne){Te||(Te=new Uint8Array(Ee.encodingLength(et))),Ne||(Ne=0);const xt=32767&(et.flags||0),nn="response"===et.type?32768:0;return Oe(Te,et.id||0,Ne),Oe(Te,xt|nn,Ne+2),Oe(Te,et.questions.length,Ne+4),Oe(Te,et.answers.length,Ne+6),Oe(Te,et.authorities.length,Ne+8),Oe(Te,et.additionals.length,Ne+10),Te},decode(et,Te){if(Te||(Te=0),et.length<12)throw new Error("Header must be 12 bytes");const Ne=ce(et,Te+2);return{id:ce(et,Te),type:32768&Ne?"response":"query",flags:32767&Ne,flag_qr:1==(Ne>>15&1),opcode:te(Ne>>11&15),flag_aa:1==(Ne>>10&1),flag_tc:1==(Ne>>9&1),flag_rd:1==(Ne>>8&1),flag_ra:1==(Ne>>7&1),flag_z:1==(Ne>>6&1),flag_ad:1==(Ne>>5&1),flag_cd:1==(Ne>>4&1),rcode:G(15&Ne),questions:new Array(ce(et,Te+4)),answers:new Array(ce(et,Te+6)),authorities:new Array(ce(et,Te+8)),additionals:new Array(ce(et,Te+10))}},encodingLength:()=>12}),Re=Q({encode(et,Te,Ne){Te||(Te=new Uint8Array(Re.encodingLength(et))),Ne||(Ne=0);const xt=et.length;return Oe(Te,xt,Ne),Ve(et,Te,Ne+2,0,xt),Re.encode.bytes=xt+2,Te},decode(et,Te){Te||(Te=0);const Ne=ce(et,Te),xt=et.slice(Te+2,Te+2+Ne);return Re.decode.bytes=Ne+2,xt},encodingLength:et=>et.length+2}),$e=Q({encode:(et,Te,Ne)=>(Te||(Te=new Uint8Array($e.encodingLength(et))),Ne||(Ne=0),oe.encode(et,Te,Ne+2),Oe(Te,oe.encode.bytes,Ne),$e.encode.bytes=oe.encode.bytes+2,Te),decode(et,Te){Te||(Te=0);const Ne=ce(et,Te),xt=oe.decode(et,Te+2);return $e.decode.bytes=Ne+2,xt},encodingLength:et=>oe.encodingLength(et)+2}),Fe=Q({encode(et,Te,Ne){Te||(Te=new Uint8Array(Fe.encodingLength(et))),Ne||(Ne=0);const xt=Ne;return oe.encode(et.mname,Te,Ne+=2),oe.encode(et.rname,Te,Ne+=oe.encode.bytes),_e(Te,et.serial||0,Ne+=oe.encode.bytes),_e(Te,et.refresh||0,Ne+=4),_e(Te,et.retry||0,Ne+=4),_e(Te,et.expire||0,Ne+=4),_e(Te,et.minimum||0,Ne+=4),Oe(Te,(Ne+=4)-xt-2,xt),Fe.encode.bytes=Ne-xt,Te},decode(et,Te){Te||(Te=0);const Ne=Te,xt={};return xt.mname=oe.decode(et,Te+=2),xt.rname=oe.decode(et,Te+=oe.decode.bytes),xt.serial=ee(et,Te+=oe.decode.bytes),xt.refresh=ee(et,Te+=4),xt.retry=ee(et,Te+=4),xt.expire=ee(et,Te+=4),xt.minimum=ee(et,Te+=4),Fe.decode.bytes=(Te+=4)-Ne,xt},encodingLength:et=>22+oe.encodingLength(et.mname)+oe.encodingLength(et.rname)}),_t=Q({encode(et,Te,Ne){Array.isArray(et)||(et=[et]);for(let nn=0;nn<et.length;nn++)if("string"==typeof et[nn]&&(et[nn]=y(et[nn])),!a(et[nn]))throw new Error("Must be a Buffer");Te||(Te=new Uint8Array(_t.encodingLength(et))),Ne||(Ne=0);const xt=Ne;return Ne+=2,et.forEach(function(nn){Te[Ne++]=nn.length,Ve(nn,Te,Ne,0,nn.length),Ne+=nn.length}),Oe(Te,Ne-xt-2,xt),_t.encode.bytes=Ne-xt,Te},decode(et,Te){Te||(Te=0);const Ne=Te;let xt=ce(et,Te);Te+=2;const nn=[];for(;xt>0;){const In=et[Te++];if(--xt,xt<In)throw new Error("Buffer overflow");nn.push(et.slice(Te,Te+In)),Te+=In,xt-=In}return _t.decode.bytes=Te-Ne,nn},encodingLength(et){Array.isArray(et)||(et=[et]);let Te=2;return et.forEach(function(Ne){Te+="string"==typeof Ne?f(Ne)+1:Ne.length+1}),Te}}),We=Q({encode(et,Te,Ne){Te||(Te=new Uint8Array(We.encodingLength(et))),Ne||(Ne=0),"string"==typeof et&&(et=y(et)),et||(et=new Uint8Array(0));const xt=Ne,nn=et.length;return Ve(et,Te,Ne+=2,0,nn),Oe(Te,(Ne+=nn)-xt-2,xt),We.encode.bytes=Ne-xt,Te},decode(et,Te){Te||(Te=0);const Ne=Te,xt=ce(et,Te),nn=et.slice(Te+=2,Te+xt);return We.decode.bytes=(Te+=xt)-Ne,nn},encodingLength:et=>et?(a(et)?et.length:f(et))+2:2}),Le=Q({encode(et,Te,Ne){Te||(Te=new Uint8Array(Le.encodingLength(et))),Ne||(Ne=0);const xt=Ne;return fe.encode(et.cpu,Te,Ne+=2),fe.encode(et.os,Te,Ne+=fe.encode.bytes),Oe(Te,(Ne+=fe.encode.bytes)-xt-2,xt),Le.encode.bytes=Ne-xt,Te},decode(et,Te){Te||(Te=0);const Ne=Te,xt={};return xt.cpu=fe.decode(et,Te+=2),xt.os=fe.decode(et,Te+=fe.decode.bytes),Le.decode.bytes=(Te+=fe.decode.bytes)-Ne,xt},encodingLength:et=>fe.encodingLength(et.cpu)+fe.encodingLength(et.os)+2}),lt=Q({encode:(et,Te,Ne)=>(Te||(Te=new Uint8Array(lt.encodingLength(et))),Ne||(Ne=0),oe.encode(et,Te,Ne+2),Oe(Te,oe.encode.bytes,Ne),lt.encode.bytes=oe.encode.bytes+2,Te),decode(et,Te){Te||(Te=0);const Ne=oe.decode(et,Te+2);return lt.decode.bytes=oe.decode.bytes+2,Ne},encodingLength:et=>oe.encodingLength(et)+2}),N=Q({encode(et,Te,Ne){Te||(Te=new Uint8Array(N.encodingLength(et))),Ne||(Ne=0),Oe(Te,et.priority||0,Ne+2),Oe(Te,et.weight||0,Ne+4),Oe(Te,et.port||0,Ne+6),oe.encode(et.target,Te,Ne+8);const xt=oe.encode.bytes+6;return Oe(Te,xt,Ne),N.encode.bytes=xt+2,Te},decode(et,Te){Te||(Te=0);const Ne=ce(et,Te),xt={};return xt.priority=ce(et,Te+2),xt.weight=ce(et,Te+4),xt.port=ce(et,Te+6),xt.target=oe.decode(et,Te+8),N.decode.bytes=Ne+2,xt},encodingLength:et=>8+oe.encodingLength(et.target)}),_=Q({encode(et,Te,Ne){const xt=_.encodingLength(et);return Te||(Te=new Uint8Array(_.encodingLength(et))),Ne||(Ne=0),et.issuerCritical&&(et.flags=_.ISSUER_CRITICAL),Oe(Te,xt-2,Ne),Te[Ne+=2]=et.flags||0,fe.encode(et.tag,Te,Ne+=1),g(Te,et.value,Ne+=fe.encode.bytes),Ne+=f(et.value),_.encode.bytes=xt,Te},decode(et,Te){Te||(Te=0);const Ne=ce(et,Te),xt=Te+=2,nn={};return nn.flags=et[Te],nn.tag=fe.decode(et,Te+=1),nn.value=C(et,Te+=fe.decode.bytes,xt+Ne),nn.issuerCritical=!!(nn.flags&_.ISSUER_CRITICAL),_.decode.bytes=Ne+2,nn},encodingLength:et=>fe.encodingLength(et.tag)+fe.encodingLength(et.value)+2});_.ISSUER_CRITICAL=128;const m=Q({encode(et,Te,Ne){Te||(Te=new Uint8Array(m.encodingLength(et))),Ne||(Ne=0);const xt=Ne;return Oe(Te,et.preference||0,Ne+=2),oe.encode(et.exchange,Te,Ne+=2),Oe(Te,(Ne+=oe.encode.bytes)-xt-2,xt),m.encode.bytes=Ne-xt,Te},decode(et,Te){Te||(Te=0);const Ne=Te,xt={};return xt.preference=ce(et,Te+=2),xt.exchange=oe.decode(et,Te+=2),m.decode.bytes=(Te+=oe.decode.bytes)-Ne,xt},encodingLength:et=>4+oe.encodingLength(et.exchange)}),U=Q({encode:(et,Te,Ne)=>(Te||(Te=new Uint8Array(U.encodingLength(et))),Ne||(Ne=0),Oe(Te,4,Ne),x.encode(et,Te,Ne+=2),Te),decode:(et,Te)=>(Te||(Te=0),x.decode(et,Te+=2)),bytes:6}),ne=Q({encode:(et,Te,Ne)=>(Te||(Te=new Uint8Array(ne.encodingLength(et))),Ne||(Ne=0),Oe(Te,16,Ne),O.encode(et,Te,Ne+=2),ne.encode.bytes=18,Te),decode(et,Te){Te||(Te=0);const Ne=O.decode(et,Te+=2);return ne.decode.bytes=18,Ne},bytes:18}),ge=et=>new Uint8Array(et),Ae=Q({encode(et,Te,Ne){Te||(Te=new Uint8Array(Ae.encodingLength(et))),Ne||(Ne=0);const xt=Ne,nn=se(et.code);if(Oe(Te,nn,Ne),Ne+=2,et.data)Oe(Te,et.data.length,Ne),Ve(et.data,Te,Ne+=2),Ne+=et.data.length;else switch(nn){case 8:{const In=et.sourcePrefixLength||0,Kn=et.family||function F(et){return P(et)===x.size?1:2}(et.ip),er=function L(et,Te,Ne){Ne=~~Ne;const xt=P(et);return"function"==typeof Te&&(Te=Te(Ne+xt)),xt===x.size?x.encode(et,Te,Ne):O.encode(et,Te,Ne)}(et.ip,ge),_r=Math.ceil(In/8);Oe(Te,_r+4,Ne),Oe(Te,Kn,Ne+=2),Ne+=2,Te[Ne++]=In,Te[Ne++]=et.scopePrefixLength||0,Ve(er,Te,Ne,0,_r),Ne+=_r}break;case 11:et.timeout?(Oe(Te,2,Ne),Oe(Te,et.timeout,Ne+=2),Ne+=2):(Oe(Te,0,Ne),Ne+=2);break;case 12:{const In=et.length||0;Oe(Te,In,Ne),Te.fill(0,Ne+=2,Ne+In),Ne+=In}break;case 14:Oe(Te,2*et.tags.length,Ne),Ne+=2;for(const Kn of et.tags)Oe(Te,Kn,Ne),Ne+=2;break;default:throw new Error(`Unknown roption code: ${et.code}`)}return Ae.encode.bytes=Ne-xt,Te},decode(et,Te){Te||(Te=0);const Ne={};Ne.code=ce(et,Te),Ne.type=function ae(et){switch(et){case 1:return"LLQ";case 2:return"UL";case 3:return"NSID";case 5:return"DAU";case 6:return"DHU";case 7:return"N3U";case 8:return"CLIENT_SUBNET";case 9:return"EXPIRE";case 10:return"COOKIE";case 11:return"TCP_KEEPALIVE";case 12:return"PADDING";case 13:return"CHAIN";case 14:return"KEY_TAG";case 26946:return"DEVICEID"}return et<0?null:`OPTION_${et}`}(Ne.code);const xt=ce(et,Te+=2);switch(Ne.data=et.slice(Te+=2,Te+xt),Ne.code){case 8:Ne.family=ce(et,Te),Te+=2,Ne.sourcePrefixLength=et[Te++],Ne.scopePrefixLength=et[Te++];{const nn=new Uint8Array(1===Ne.family?4:16);Ve(et,nn,0,Te,Te+xt-4),Ne.ip=function D(et,Te,Ne){if(Te=~~Te,(Ne=Ne||et.length-Te)===x.size)return x.decode(et,Te,Ne);if(Ne===O.size)return O.decode(et,Te,Ne);throw Error(`Invalid buffer size needs to be ${x.size} for v4 or ${O.size} for v6.`)}(nn)}break;case 11:xt>0&&(Ne.timeout=ce(et,Te),Te+=2);break;case 14:Ne.tags=[];for(let nn=0;nn<xt;nn+=2)Ne.tags.push(ce(et,Te)),Te+=2}return Ae.decode.bytes=xt+4,Ne},encodingLength(et){if(et.data)return et.data.length+4;switch(se(et.code)){case 8:return Math.ceil((et.sourcePrefixLength||0)/8)+8;case 11:return"number"==typeof et.timeout?6:4;case 12:return et.length+4;case 14:return 4+2*et.tags.length}throw new Error(`Unknown roption code: ${et.code}`)}}),tt=Q({encode(et,Te,Ne){Te||(Te=new Uint8Array(tt.encodingLength(et))),Ne||(Ne=0);const xt=Ne,nn=Jn(et,Ae);return Oe(Te,nn,Ne),Ne=Fn(et,Ae,Te,Ne+2),tt.encode.bytes=Ne-xt,Te},decode(et,Te){Te||(Te=0);const Ne=Te,xt=[];let nn=ce(et,Te);Te+=2;let In=0;for(;nn>0;)xt[In++]=Ae.decode(et,Te),Te+=Ae.decode.bytes,nn-=Ae.decode.bytes;return tt.decode.bytes=Te-Ne,xt},encodingLength:et=>2+Jn(et||[],Ae)}),Bt=Q({encode(et,Te,Ne){Te||(Te=new Uint8Array(Bt.encodingLength(et))),Ne||(Ne=0);const xt=Ne,nn=et.key;if(!a(nn))throw new Error("Key must be a Buffer");return Oe(Te,et.flags,Ne+=2),Te[Ne+=2]=Bt.PROTOCOL_DNSSEC,Te[Ne+=1]=et.algorithm,Ve(nn,Te,Ne+=1,0,nn.length),Bt.encode.bytes=(Ne+=nn.length)-xt,Oe(Te,Bt.encode.bytes-2,xt),Te},decode(et,Te){Te||(Te=0);const Ne=Te,xt={},nn=ce(et,Te);if(xt.flags=ce(et,Te+=2),et[Te+=2]!==Bt.PROTOCOL_DNSSEC)throw new Error("Protocol must be 3");return xt.algorithm=et[Te+=1],xt.key=et.slice(Te+=1,Ne+nn+2),Bt.decode.bytes=(Te+=xt.key.length)-Ne,xt},encodingLength:et=>6+f(et.key)});Bt.PROTOCOL_DNSSEC=3,Bt.ZONE_KEY=128,Bt.SECURE_ENTRYPOINT=32768;const gt=Q({encode(et,Te,Ne){Te||(Te=new Uint8Array(gt.encodingLength(et))),Ne||(Ne=0);const xt=Ne,nn=et.signature;if(!a(nn))throw new Error("Signature must be a Buffer");return Ne+=2,Oe(Te,j(et.typeCovered),Ne),Te[Ne+=2]=et.algorithm,Te[Ne+=1]=et.labels,_e(Te,et.originalTTL,Ne+=1),_e(Te,et.expiration,Ne+=4),_e(Te,et.inception,Ne+=4),Oe(Te,et.keyTag,Ne+=4),oe.encode(et.signersName,Te,Ne+=2),Ve(nn,Te,Ne+=oe.encode.bytes,0,nn.length),gt.encode.bytes=(Ne+=nn.length)-xt,Oe(Te,gt.encode.bytes-2,xt),Te},decode(et,Te){Te||(Te=0);const Ne=Te,xt={},nn=ce(et,Te);return xt.typeCovered=X(ce(et,Te+=2)),xt.algorithm=et[Te+=2],xt.labels=et[Te+=1],xt.originalTTL=ee(et,Te+=1),xt.expiration=ee(et,Te+=4),xt.inception=ee(et,Te+=4),xt.keyTag=ce(et,Te+=4),xt.signersName=oe.decode(et,Te+=2),xt.signature=et.slice(Te+=oe.decode.bytes,Ne+nn+2),gt.decode.bytes=(Te+=xt.signature.length)-Ne,xt},encodingLength:et=>20+oe.encodingLength(et.signersName)+f(et.signature)}),It=Q({encode(et,Te,Ne){Te||(Te=new Uint8Array(It.encodingLength(et))),Ne||(Ne=0);const xt=Ne;return oe.encode(et.mbox||".",Te,Ne+=2),oe.encode(et.txt||".",Te,Ne+=oe.encode.bytes),It.encode.bytes=(Ne+=oe.encode.bytes)-xt,Oe(Te,It.encode.bytes-2,xt),Te},decode(et,Te){Te||(Te=0);const Ne=Te,xt={};return xt.mbox=oe.decode(et,Te+=2)||".",xt.txt=oe.decode(et,Te+=oe.decode.bytes)||".",It.decode.bytes=(Te+=oe.decode.bytes)-Ne,xt},encodingLength:et=>2+oe.encodingLength(et.mbox||".")+oe.encodingLength(et.txt||".")}),Zt=Q({encode(et,Te,Ne){Te||(Te=new Uint8Array(Zt.encodingLength(et))),Ne||(Ne=0);const xt=Ne,nn=[];for(let In=0;In<et.length;In++){const Kn=j(et[In]);void 0===nn[Kn>>8]&&(nn[Kn>>8]=[]),nn[Kn>>8][Kn>>3&31]|=1<<7-(7&Kn)}for(let In=0;In<nn.length;In++)if(void 0!==nn[In]){const Kn=y(nn[In]);Te[Ne]=In,Te[Ne+=1]=Kn.length,Ve(Kn,Te,Ne+=1,0,Kn.length),Ne+=Kn.length}return Zt.encode.bytes=Ne-xt,Te},decode(et,Te,Ne){Te||(Te=0);const xt=Te,nn=[];for(;Te-xt<Ne;){const In=et[Te],Kn=et[Te+=1];Te+=1;for(let er=0;er<Kn;er++){const _r=et[Te+er];for(let Tr=0;Tr<8;Tr++)if(_r&1<<7-Tr){const Br=X(In<<8|er<<3|Tr);nn.push(Br)}}Te+=Kn}return Zt.decode.bytes=Te-xt,nn},encodingLength(et){const Te=[];for(let xt=0;xt<et.length;xt++){const nn=j(et[xt]);Te[nn>>8]=Math.max(Te[nn>>8]||0,255&nn)}let Ne=0;for(let xt=0;xt<Te.length;xt++)void 0!==Te[xt]&&(Ne+=2+Math.ceil((Te[xt]+1)/8));return Ne}}),mn=Q({encode(et,Te,Ne){Te||(Te=new Uint8Array(mn.encodingLength(et))),Ne||(Ne=0);const xt=Ne;return oe.encode(et.nextDomain,Te,Ne+=2),Zt.encode(et.rrtypes,Te,Ne+=oe.encode.bytes),mn.encode.bytes=(Ne+=Zt.encode.bytes)-xt,Oe(Te,mn.encode.bytes-2,xt),Te},decode(et,Te){Te||(Te=0);const Ne=Te,xt={},nn=ce(et,Te);return xt.nextDomain=oe.decode(et,Te+=2),xt.rrtypes=Zt.decode(et,Te+=oe.decode.bytes,nn-(Te-Ne)),mn.decode.bytes=(Te+=Zt.decode.bytes)-Ne,xt},encodingLength:et=>2+oe.encodingLength(et.nextDomain)+Zt.encodingLength(et.rrtypes)}),dn=Q({encode(et,Te,Ne){Te||(Te=new Uint8Array(dn.encodingLength(et))),Ne||(Ne=0);const xt=Ne,nn=et.salt;if(!a(nn))throw new Error("salt must be a Buffer");const In=et.nextDomain;if(!a(In))throw new Error("nextDomain must be a Buffer");return Te[Ne+=2]=et.algorithm,Te[Ne+=1]=et.flags,Oe(Te,et.iterations,Ne+=1),Te[Ne+=2]=nn.length,Ve(nn,Te,Ne+=1,0,nn.length),Te[Ne+=nn.length]=In.length,Ve(In,Te,Ne+=1,0,In.length),Zt.encode(et.rrtypes,Te,Ne+=In.length),dn.encode.bytes=(Ne+=Zt.encode.bytes)-xt,Oe(Te,dn.encode.bytes-2,xt),Te},decode(et,Te){Te||(Te=0);const Ne=Te,xt={},nn=ce(et,Te);xt.algorithm=et[Te+=2],xt.flags=et[Te+=1],xt.iterations=ce(et,Te+=1);const In=et[Te+=2];xt.salt=et.slice(Te+=1,Te+In);const Kn=et[Te+=In];return xt.nextDomain=et.slice(Te+=1,Te+Kn),xt.rrtypes=Zt.decode(et,Te+=Kn,nn-(Te-Ne)),dn.decode.bytes=(Te+=Zt.decode.bytes)-Ne,xt},encodingLength:et=>8+et.salt.length+et.nextDomain.length+Zt.encodingLength(et.rrtypes)}),ar=Q({encode(et,Te,Ne){Te||(Te=new Uint8Array(ar.encodingLength(et))),Ne||(Ne=0);const xt=Ne,nn=et.digest;if(!a(nn))throw new Error("Digest must be a Buffer");return Oe(Te,et.keyTag,Ne+=2),Te[Ne+=2]=et.algorithm,Te[Ne+=1]=et.digestType,Ve(nn,Te,Ne+=1,0,nn.length),ar.encode.bytes=(Ne+=nn.length)-xt,Oe(Te,ar.encode.bytes-2,xt),Te},decode(et,Te){Te||(Te=0);const Ne=Te,xt={},nn=ce(et,Te);return xt.keyTag=ce(et,Te+=2),xt.algorithm=et[Te+=2],xt.digestType=et[Te+=1],xt.digest=et.slice(Te+=1,Ne+nn+2),ar.decode.bytes=(Te+=xt.digest.length)-Ne,xt},encodingLength:et=>6+f(et.digest)}),An=Q({encode(et,Te,Ne){Te||(Te=new Uint8Array(An.encodingLength(et))),Ne||(Ne=0);const xt=Ne;Te[Ne+=2]=et.algorithm,Te[Ne+=1]=et.hash,Ne+=1;const nn=S(et.fingerprint),In=en(et.hash);if(nn!==In)throw new Error(`Invalid length of fingerprint "${et.fingerprint}" for hashType=${et.hash}: ${nn} != ${In}`);return function s(et,Te,Ne,xt){let nn=0;for(;Ne<xt;){const In=Te.substr(nn,2),Kn=M[In];if(void 0===Kn)return;et[Ne++]=Kn,nn+=2}}(Te,et.fingerprint,Ne,Ne+=nn),An.encode.bytes=Ne-xt,Oe(Te,An.encode.bytes-2,xt),Te},decode(et,Te){Te||(Te=0);const Ne=Te,xt={};xt.algorithm=et[Te+=2],xt.hash=et[Te+=1],Te+=1;const nn=en(xt.hash);return xt.fingerprint=function B(et,Te,Ne){let xt="";for(let nn=Te;nn<Ne;){const In=et[nn++];xt+=T[In]}return xt}(et,Te,Te+nn),An.decode.bytes=(Te+=nn)-Ne,xt},encodingLength:et=>4+S(et.fingerprint)});function en(et){if(1===et)return 20;if(2===et)return 32;throw new Error(`Invalid hashType=${et}, supported=1,2`)}function Qt(et){switch(et.toUpperCase()){case"A":return U;case"PTR":case"CNAME":case"DNAME":return lt;case"TXT":return _t;case"NULL":return We;case"AAAA":return ne;case"SRV":return N;case"HINFO":return Le;case"CAA":return _;case"NS":return $e;case"SOA":return Fe;case"MX":return m;case"OPT":return tt;case"DNSKEY":return Bt;case"RRSIG":return gt;case"RP":return It;case"NSEC":return mn;case"NSEC3":return dn;case"SSHFP":return An;case"DS":return ar}return Re}An.getFingerprintLengthForHashType=en;const Et=Q({encode(et,Te,Ne){Te||(Te=new Uint8Array(Et.encodingLength(et))),Ne||(Ne=0);const xt=Ne;if(oe.encode(et.name,Te,Ne),Ne+=oe.encode.bytes,Oe(Te,j(et.type),Ne),"OPT"===et.type.toUpperCase()){if("."!==et.name)throw new Error("OPT name must be root.");Oe(Te,et.udpPayloadSize||4096,Ne+2),Te[Ne+4]=et.extendedRcode||0,Te[Ne+5]=et.ednsVersion||0,Oe(Te,et.flags||0,Ne+6),tt.encode(et.options||[],Te,Ne+=8),Ne+=tt.encode.bytes}else{let nn=ie(void 0===et.class?"IN":et.class);et.flush&&(nn|=32768),Oe(Te,nn,Ne+2),_e(Te,et.ttl||0,Ne+4),Ne+=8;const In=Qt(et.type);In.encode(et.data,Te,Ne),Ne+=In.encode.bytes}return Et.encode.bytes=Ne-xt,Te},decode(et,Te){Te||(Te=0);const Ne={},xt=Te;if(Ne.name=oe.decode(et,Te),Ne.type=X(ce(et,Te+=oe.decode.bytes)),"OPT"===Ne.type)Ne.udpPayloadSize=ce(et,Te+2),Ne.extendedRcode=et[Te+4],Ne.ednsVersion=et[Te+5],Ne.flags=ce(et,Te+6),Ne.flag_do=1==(Ne.flags>>15&1),Ne.options=tt.decode(et,Te+8),Te+=8+tt.decode.bytes;else{const nn=ce(et,Te+2);Ne.ttl=ee(et,Te+4),Ne.class=Z(-32769&nn),Ne.flush=!!(32768&nn);const In=Qt(Ne.type);Ne.data=In.decode(et,Te+8),Te+=8+In.decode.bytes}return Et.decode.bytes=Te-xt,Ne},encodingLength(et){const Te=null!=et.data?et.data:et.options;return oe.encodingLength(et.name)+8+Qt(et.type).encodingLength(Te)}}),ft=Q({encode(et,Te,Ne){Te||(Te=new Uint8Array(ft.encodingLength(et))),Ne||(Ne=0);const xt=Ne;return oe.encode(et.name,Te,Ne),Ne+=oe.encode.bytes,Oe(Te,j(et.type),Ne),Ne+=2,Oe(Te,ie(void 0===et.class?"IN":et.class),Ne),ft.encode.bytes=(Ne+=2)-xt,et},decode(et,Te){Te||(Te=0);const Ne=Te,xt={};return xt.name=oe.decode(et,Te),xt.type=X(ce(et,Te+=oe.decode.bytes)),xt.class=Z(ce(et,Te+=2)),Te+=2,!!(32768&xt.class)&&(xt.class&=-32769),ft.decode.bytes=Te-Ne,xt},encodingLength:et=>oe.encodingLength(et.name)+4}),Ht=1024,Ye={encode:function(et,Te,Ne){const xt=!Te;xt&&(Te=new Uint8Array(En(et))),Ne||(Ne=0);const nn=Ne;return et.questions||(et.questions=[]),et.answers||(et.answers=[]),et.authorities||(et.authorities=[]),et.additionals||(et.additionals=[]),Ee.encode(et,Te,Ne),Ne=Fn(et.questions,ft,Te,Ne+=Ee.encode.bytes),Ne=Fn(et.answers,Et,Te,Ne),Ne=Fn(et.authorities,Et,Te,Ne),Ne=Fn(et.additionals,Et,Te,Ne),Ye.encode.bytes=Ne-nn,xt&&un.bytes!==Te.length?Te.slice(0,un.bytes):Te},decode:function(et,Te){Te||(Te=0);const Ne=Te,xt=Ee.decode(et,Te);return Te=Lt(xt.questions,ft,et,Te+=Ee.decode.bytes),Te=Lt(xt.answers,Et,et,Te),Te=Lt(xt.authorities,Et,et,Te),Te=Lt(xt.additionals,Et,et,Te),Ye.decode.bytes=Te-Ne,xt},encodingLength:function(et){return Ee.encodingLength(et)+Jn(et.questions||[],ft)+Jn(et.answers||[],Et)+Jn(et.authorities||[],Et)+Jn(et.additionals||[],Et)}};function nt(et,Te){if(et.questions)throw new Error("Only one .question object expected instead of a .questions array!");const Ne=Object.assign({type:Te},et);return Ne.question&&(Ne.questions=[Ne.question],delete Ne.question),Ne}Ye.encode.bytes=0,Ye.decode.bytes=0;const Wt={encode:function(et,Te,Ne){return Te=Ye.encode(nt(et,"query"),Te,Ne),Wt.encode.bytes=Ye.encode.bytes,Te},decode:function(et,Te){const Ne=Ye.decode(et,Te);return Wt.decode.bytes=Ye.decode.bytes,Ne.questions&&(Ne.question=Ne.questions[0],delete Ne.questions),Ne},encodingLength:function(et){return Ye.encodingLength(nt(et,"query"))}};Wt.encode.bytes=0,Wt.decode.bytes=0;const Nt={encode:function(et,Te,Ne){return Te=Ye.encode(nt(et,"response"),Te,Ne),Nt.encode.bytes=Ye.encode.bytes,Te},decode:function(et,Te){const Ne=Ye.decode(et,Te);return Nt.decode.bytes=Ye.decode.bytes,Ne.questions&&(Ne.question=Ne.questions[0],delete Ne.questions),Ne},encodingLength:function(et){return Ye.encodingLength(nt(et,"response"))}};Nt.encode.bytes=0,Nt.decode.bytes=0;const un=Ye.encode,Wn=Ye.decode,En=Ye.encodingLength;function Jn(et,Te){let Ne=0;for(let xt=0;xt<et.length;xt++)Ne+=Te.encodingLength(et[xt]);return Ne}function Fn(et,Te,Ne,xt){for(let nn=0;nn<et.length;nn++)Te.encode(et[nn],Ne,xt),xt+=Te.encode.bytes;return xt}function Lt(et,Te,Ne,xt){for(let nn=0;nn<et.length;nn++)et[nn]=Te.decode(Ne,xt),xt+=Te.decode.bytes;return xt}},34931:(je,H,w)=>{"use strict";function d(L){if(!Number.isSafeInteger(L)||L<0)throw new Error(`wrong positive integer: ${L}`)}function E(L){if("boolean"!=typeof L)throw new Error(`boolean expected, not ${L}`)}function z(L,...D){if(!function k(L){return null!=L&&"object"==typeof L&&(L instanceof Uint8Array||"Uint8Array"===L.constructor.name)}(L))throw new Error("Uint8Array expected");if(D.length>0&&!D.includes(L.length))throw new Error(`Uint8Array expected of length ${D}, not of length=${L.length}`)}function O(L,D=!0){if(L.destroyed)throw new Error("Hash instance has been destroyed");if(D&&L.finished)throw new Error("Hash#digest() has already been called")}function A(L,D){z(L);const X=D.outputLen;if(L.length<X)throw new Error(`digestInto() expects output buffer of length at least ${X}`)}w.d(H,{CG:()=>A,ai:()=>d,ee:()=>z,lc:()=>E,t2:()=>O})},94730:(je,H,w)=>{"use strict";var d=w(25953),E=w(34931);const k=(T,B)=>255&T[B++]|(255&T[B++])<<8;class z{constructor(B){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,B=(0,d.ZJ)(B),(0,d.qj)(B,32);const S=k(B,0),s=k(B,2),v=k(B,4),W=k(B,6),K=k(B,8),ee=k(B,10),ce=k(B,12),_e=k(B,14);this.r[0]=8191&S,this.r[1]=8191&(S>>>13|s<<3),this.r[2]=7939&(s>>>10|v<<6),this.r[3]=8191&(v>>>7|W<<9),this.r[4]=255&(W>>>4|K<<12),this.r[5]=K>>>1&8190,this.r[6]=8191&(K>>>14|ee<<2),this.r[7]=8065&(ee>>>11|ce<<5),this.r[8]=8191&(ce>>>8|_e<<8),this.r[9]=_e>>>5&127;for(let Oe=0;Oe<8;Oe++)this.pad[Oe]=k(B,16+2*Oe)}process(B,S,s=!1){const v=s?0:2048,{h:W,r:K}=this,ee=K[0],ce=K[1],_e=K[2],Oe=K[3],Ve=K[4],Se=K[5],we=K[6],Ue=K[7],ye=K[8],De=K[9],pe=k(B,S+0),ue=k(B,S+2),Q=k(B,S+4),oe=k(B,S+6),fe=k(B,S+8),Ee=k(B,S+10),Re=k(B,S+12),$e=k(B,S+14);let Fe=W[0]+(8191&pe),_t=W[1]+(8191&(pe>>>13|ue<<3)),We=W[2]+(8191&(ue>>>10|Q<<6)),Le=W[3]+(8191&(Q>>>7|oe<<9)),lt=W[4]+(8191&(oe>>>4|fe<<12)),N=W[5]+(fe>>>1&8191),_=W[6]+(8191&(fe>>>14|Ee<<2)),m=W[7]+(8191&(Ee>>>11|Re<<5)),U=W[8]+(8191&(Re>>>8|$e<<8)),ne=W[9]+($e>>>5|v),ge=0,Ae=ge+Fe*ee+_t*(5*De)+We*(5*ye)+Le*(5*Ue)+lt*(5*we);ge=Ae>>>13,Ae&=8191,Ae+=N*(5*Se)+_*(5*Ve)+m*(5*Oe)+U*(5*_e)+ne*(5*ce),ge+=Ae>>>13,Ae&=8191;let tt=ge+Fe*ce+_t*ee+We*(5*De)+Le*(5*ye)+lt*(5*Ue);ge=tt>>>13,tt&=8191,tt+=N*(5*we)+_*(5*Se)+m*(5*Ve)+U*(5*Oe)+ne*(5*_e),ge+=tt>>>13,tt&=8191;let Bt=ge+Fe*_e+_t*ce+We*ee+Le*(5*De)+lt*(5*ye);ge=Bt>>>13,Bt&=8191,Bt+=N*(5*Ue)+_*(5*we)+m*(5*Se)+U*(5*Ve)+ne*(5*Oe),ge+=Bt>>>13,Bt&=8191;let gt=ge+Fe*Oe+_t*_e+We*ce+Le*ee+lt*(5*De);ge=gt>>>13,gt&=8191,gt+=N*(5*ye)+_*(5*Ue)+m*(5*we)+U*(5*Se)+ne*(5*Ve),ge+=gt>>>13,gt&=8191;let It=ge+Fe*Ve+_t*Oe+We*_e+Le*ce+lt*ee;ge=It>>>13,It&=8191,It+=N*(5*De)+_*(5*ye)+m*(5*Ue)+U*(5*we)+ne*(5*Se),ge+=It>>>13,It&=8191;let Zt=ge+Fe*Se+_t*Ve+We*Oe+Le*_e+lt*ce;ge=Zt>>>13,Zt&=8191,Zt+=N*ee+_*(5*De)+m*(5*ye)+U*(5*Ue)+ne*(5*we),ge+=Zt>>>13,Zt&=8191;let mn=ge+Fe*we+_t*Se+We*Ve+Le*Oe+lt*_e;ge=mn>>>13,mn&=8191,mn+=N*ce+_*ee+m*(5*De)+U*(5*ye)+ne*(5*Ue),ge+=mn>>>13,mn&=8191;let dn=ge+Fe*Ue+_t*we+We*Se+Le*Ve+lt*Oe;ge=dn>>>13,dn&=8191,dn+=N*_e+_*ce+m*ee+U*(5*De)+ne*(5*ye),ge+=dn>>>13,dn&=8191;let ar=ge+Fe*ye+_t*Ue+We*we+Le*Se+lt*Ve;ge=ar>>>13,ar&=8191,ar+=N*Oe+_*_e+m*ce+U*ee+ne*(5*De),ge+=ar>>>13,ar&=8191;let An=ge+Fe*De+_t*ye+We*Ue+Le*we+lt*Se;ge=An>>>13,An&=8191,An+=N*Ve+_*Oe+m*_e+U*ce+ne*ee,ge+=An>>>13,An&=8191,ge=(ge<<2)+ge|0,ge=ge+Ae|0,Ae=8191&ge,ge>>>=13,tt+=ge,W[0]=Ae,W[1]=tt,W[2]=Bt,W[3]=gt,W[4]=It,W[5]=Zt,W[6]=mn,W[7]=dn,W[8]=ar,W[9]=An}finalize(){const{h:B,pad:S}=this,s=new Uint16Array(10);let v=B[1]>>>13;B[1]&=8191;for(let ee=2;ee<10;ee++)B[ee]+=v,v=B[ee]>>>13,B[ee]&=8191;B[0]+=5*v,v=B[0]>>>13,B[0]&=8191,B[1]+=v,v=B[1]>>>13,B[1]&=8191,B[2]+=v,s[0]=B[0]+5,v=s[0]>>>13,s[0]&=8191;for(let ee=1;ee<10;ee++)s[ee]=B[ee]+v,v=s[ee]>>>13,s[ee]&=8191;s[9]-=8192;let W=(1^v)-1;for(let ee=0;ee<10;ee++)s[ee]&=W;W=~W;for(let ee=0;ee<10;ee++)B[ee]=B[ee]&W|s[ee];B[0]=65535&(B[0]|B[1]<<13),B[1]=65535&(B[1]>>>3|B[2]<<10),B[2]=65535&(B[2]>>>6|B[3]<<7),B[3]=65535&(B[3]>>>9|B[4]<<4),B[4]=65535&(B[4]>>>12|B[5]<<1|B[6]<<14),B[5]=65535&(B[6]>>>2|B[7]<<11),B[6]=65535&(B[7]>>>5|B[8]<<8),B[7]=65535&(B[8]>>>8|B[9]<<5);let K=B[0]+S[0];B[0]=65535&K;for(let ee=1;ee<8;ee++)K=(B[ee]+S[ee]|0)+(K>>>16)|0,B[ee]=65535&K}update(B){(0,E.t2)(this);const{buffer:S,blockLen:s}=this,v=(B=(0,d.ZJ)(B)).length;for(let W=0;W<v;){const K=Math.min(s-this.pos,v-W);if(K!==s)S.set(B.subarray(W,W+K),this.pos),this.pos+=K,W+=K,this.pos===s&&(this.process(S,0,!1),this.pos=0);else for(;s<=v-W;W+=s)this.process(B,W)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(B){(0,E.t2)(this),(0,E.CG)(B,this),this.finished=!0;const{buffer:S,h:s}=this;let{pos:v}=this;if(v){for(S[v++]=1;v<16;v++)S[v]=0;this.process(S,0,!0)}this.finalize();let W=0;for(let K=0;K<8;K++)B[W++]=s[K]>>>0,B[W++]=s[K]>>>8;return B}digest(){const{buffer:B,outputLen:S}=this;this.digestInto(B);const s=B.slice(0,S);return this.destroy(),s}}const O=function x(T){const B=(s,v)=>T(v).update((0,d.ZJ)(s)).digest(),S=T(new Uint8Array(32));return B.outputLen=S.outputLen,B.blockLen=S.blockLen,B.create=s=>T(s),B}(T=>new z(T)),A=(0,d.AI)("expand 16-byte k"),P=(0,d.AI)("expand 32-byte k"),F=(0,d.DH)(A),L=(0,d.DH)(P);function D(T,B){return T<<B|T>>>32-B}function X(T){return T.byteOffset%4==0}const re=2**32-1,te=new Uint32Array;function Z(T,B){const{allowShortKeys:S,extendNonceFn:s,counterLength:v,counterRight:W,rounds:K}=(0,d.tY)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},B);if("function"!=typeof T)throw new Error("core must be a function");return(0,E.ai)(v),(0,E.ai)(K),(0,E.lc)(W),(0,E.lc)(S),(ee,ce,_e,Oe,Ve=0)=>{(0,E.ee)(ee),(0,E.ee)(ce),(0,E.ee)(_e);const Se=_e.length;if(Oe||(Oe=new Uint8Array(Se)),(0,E.ee)(Oe),(0,E.ai)(Ve),Ve<0||Ve>=re)throw new Error("arx: counter overflow");if(Oe.length<Se)throw new Error(`arx: output (${Oe.length}) is shorter than data (${Se})`);const we=[];let ye,De,Ue=ee.length;if(32===Ue)ye=ee.slice(),we.push(ye),De=L;else{if(16!==Ue||!S)throw new Error(`arx: invalid 32-byte key, got length=${Ue}`);ye=new Uint8Array(32),ye.set(ee),ye.set(ee,16),De=F,we.push(ye)}X(ce)||(ce=ce.slice(),we.push(ce));const pe=(0,d.DH)(ye);if(s){if(24!==ce.length)throw new Error("arx: extended nonce must be 24 bytes");s(De,pe,(0,d.DH)(ce.subarray(0,16)),pe),ce=ce.subarray(16)}const ue=16-v;if(ue!==ce.length)throw new Error(`arx: nonce must be ${ue} or 16 bytes`);if(12!==ue){const oe=new Uint8Array(12);oe.set(ce,W?0:12-ce.length),we.push(ce=oe)}const Q=(0,d.DH)(ce);for(function J(T,B,S,s,v,W,K,ee){const ce=v.length,_e=new Uint8Array(64),Oe=(0,d.DH)(_e),Ve=X(v)&&X(W),Se=Ve?(0,d.DH)(v):te,we=Ve?(0,d.DH)(W):te;for(let Ue=0;Ue<ce;K++){if(T(B,S,s,Oe,K,ee),K>=re)throw new Error("arx: counter overflow");const ye=Math.min(64,ce-Ue);if(Ve&&64===ye){const De=Ue/4;if(Ue%4!=0)throw new Error("arx: invalid block position");for(let ue,pe=0;pe<16;pe++)ue=De+pe,we[ue]=Se[ue]^Oe[pe];Ue+=64}else{for(let pe,De=0;De<ye;De++)pe=Ue+De,W[pe]=v[pe]^_e[De];Ue+=ye}}}(T,De,pe,Q,_e,Oe,Ve,K);we.length>0;)we.pop().fill(0);return Oe}}function ie(T,B,S,s,v,W=20){let K=T[0],ee=T[1],ce=T[2],_e=T[3],Oe=B[0],Ve=B[1],Se=B[2],we=B[3],Ue=B[4],ye=B[5],De=B[6],pe=B[7],ue=v,Q=S[0],oe=S[1],fe=S[2],Ee=K,Re=ee,$e=ce,Fe=_e,_t=Oe,We=Ve,Le=Se,lt=we,N=Ue,_=ye,m=De,U=pe,ne=ue,ge=Q,Ae=oe,tt=fe;for(let gt=0;gt<W;gt+=2)Ee=Ee+_t|0,ne=D(ne^Ee,16),N=N+ne|0,_t=D(_t^N,12),Ee=Ee+_t|0,ne=D(ne^Ee,8),N=N+ne|0,_t=D(_t^N,7),Re=Re+We|0,ge=D(ge^Re,16),_=_+ge|0,We=D(We^_,12),Re=Re+We|0,ge=D(ge^Re,8),_=_+ge|0,We=D(We^_,7),$e=$e+Le|0,Ae=D(Ae^$e,16),m=m+Ae|0,Le=D(Le^m,12),$e=$e+Le|0,Ae=D(Ae^$e,8),m=m+Ae|0,Le=D(Le^m,7),Fe=Fe+lt|0,tt=D(tt^Fe,16),U=U+tt|0,lt=D(lt^U,12),Fe=Fe+lt|0,tt=D(tt^Fe,8),U=U+tt|0,lt=D(lt^U,7),Ee=Ee+We|0,tt=D(tt^Ee,16),m=m+tt|0,We=D(We^m,12),Ee=Ee+We|0,tt=D(tt^Ee,8),m=m+tt|0,We=D(We^m,7),Re=Re+Le|0,ne=D(ne^Re,16),U=U+ne|0,Le=D(Le^U,12),Re=Re+Le|0,ne=D(ne^Re,8),U=U+ne|0,Le=D(Le^U,7),$e=$e+lt|0,ge=D(ge^$e,16),N=N+ge|0,lt=D(lt^N,12),$e=$e+lt|0,ge=D(ge^$e,8),N=N+ge|0,lt=D(lt^N,7),Fe=Fe+_t|0,Ae=D(Ae^Fe,16),_=_+Ae|0,_t=D(_t^_,12),Fe=Fe+_t|0,Ae=D(Ae^Fe,8),_=_+Ae|0,_t=D(_t^_,7);let Bt=0;s[Bt++]=K+Ee|0,s[Bt++]=ee+Re|0,s[Bt++]=ce+$e|0,s[Bt++]=_e+Fe|0,s[Bt++]=Oe+_t|0,s[Bt++]=Ve+We|0,s[Bt++]=Se+Le|0,s[Bt++]=we+lt|0,s[Bt++]=Ue+N|0,s[Bt++]=ye+_|0,s[Bt++]=De+m|0,s[Bt++]=pe+U|0,s[Bt++]=ue+ne|0,s[Bt++]=Q+ge|0,s[Bt++]=oe+Ae|0,s[Bt++]=fe+tt|0}const de=Z(ie,{counterRight:!1,counterLength:4,allowShortKeys:!1}),le=Z(ie,{counterRight:!1,counterLength:8,extendNonceFn:function ae(T,B,S,s){let v=T[0],W=T[1],K=T[2],ee=T[3],ce=B[0],_e=B[1],Oe=B[2],Ve=B[3],Se=B[4],we=B[5],Ue=B[6],ye=B[7],De=S[0],pe=S[1],ue=S[2],Q=S[3];for(let fe=0;fe<20;fe+=2)v=v+ce|0,De=D(De^v,16),Se=Se+De|0,ce=D(ce^Se,12),v=v+ce|0,De=D(De^v,8),Se=Se+De|0,ce=D(ce^Se,7),W=W+_e|0,pe=D(pe^W,16),we=we+pe|0,_e=D(_e^we,12),W=W+_e|0,pe=D(pe^W,8),we=we+pe|0,_e=D(_e^we,7),K=K+Oe|0,ue=D(ue^K,16),Ue=Ue+ue|0,Oe=D(Oe^Ue,12),K=K+Oe|0,ue=D(ue^K,8),Ue=Ue+ue|0,Oe=D(Oe^Ue,7),ee=ee+Ve|0,Q=D(Q^ee,16),ye=ye+Q|0,Ve=D(Ve^ye,12),ee=ee+Ve|0,Q=D(Q^ee,8),ye=ye+Q|0,Ve=D(Ve^ye,7),v=v+_e|0,Q=D(Q^v,16),Ue=Ue+Q|0,_e=D(_e^Ue,12),v=v+_e|0,Q=D(Q^v,8),Ue=Ue+Q|0,_e=D(_e^Ue,7),W=W+Oe|0,De=D(De^W,16),ye=ye+De|0,Oe=D(Oe^ye,12),W=W+Oe|0,De=D(De^W,8),ye=ye+De|0,Oe=D(Oe^ye,7),K=K+Ve|0,pe=D(pe^K,16),Se=Se+pe|0,Ve=D(Ve^Se,12),K=K+Ve|0,pe=D(pe^K,8),Se=Se+pe|0,Ve=D(Ve^Se,7),ee=ee+ce|0,ue=D(ue^ee,16),we=we+ue|0,ce=D(ce^we,12),ee=ee+ce|0,ue=D(ue^ee,8),we=we+ue|0,ce=D(ce^we,7);let oe=0;s[oe++]=v,s[oe++]=W,s[oe++]=K,s[oe++]=ee,s[oe++]=De,s[oe++]=pe,s[oe++]=ue,s[oe++]=Q},allowShortKeys:!1}),ke=new Uint8Array(16),C=(T,B)=>{T.update(B);const S=B.length%16;S&&T.update(ke.subarray(S))},a=new Uint8Array(32);function f(T,B,S,s,v){const W=T(B,S,a),K=O.create(W);v&&C(K,v),C(K,s);const ee=new Uint8Array(16),ce=(0,d.O8)(ee);(0,d.zp)(ce,0,BigInt(v?v.length:0),!0),(0,d.zp)(ce,8,BigInt(s.length),!0),K.update(ee);const _e=K.digest();return W.fill(0),_e}const y=T=>(B,S,s)=>((0,d.qj)(B,32),(0,d.qj)(S),{encrypt:(W,K)=>{const ee=W.length,ce=ee+16;K?(0,d.qj)(K,ce):K=new Uint8Array(ce),T(B,S,W,K,1);const _e=f(T,B,S,K.subarray(0,-16),s);return K.set(_e,ee),K},decrypt:(W,K)=>{const ee=W.length,ce=ee-16;if(ee<16)throw new Error("encrypted data must be at least 16 bytes");K?(0,d.qj)(K,ce):K=new Uint8Array(ce);const _e=W.subarray(0,-16),Oe=W.subarray(-16),Ve=f(T,B,S,_e,s);if(!(0,d.ex)(Oe,Ve))throw new Error("invalid tag");return T(B,S,_e,K,1),K}});y(de),y(le)},25953:(je,H,w)=>{"use strict";w.d(H,{AI:()=>Z,DH:()=>k,O8:()=>x,ZJ:()=>ae,ex:()=>xe,qj:()=>be,qn:()=>C,tY:()=>le,zp:()=>a});const k=y=>new Uint32Array(y.buffer,y.byteOffset,Math.floor(y.byteLength/4));function z(y){return y instanceof Uint8Array||null!=y&&"object"==typeof y&&"Uint8Array"===y.constructor.name}const x=y=>new DataView(y.buffer,y.byteOffset,y.byteLength);if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function Z(y){if("string"!=typeof y)throw new Error("utf8ToBytes expected string, got "+typeof y);return new Uint8Array((new TextEncoder).encode(y))}function ae(y){if("string"==typeof y)y=Z(y);else{if(!z(y))throw new Error("expected Uint8Array, got "+typeof y);y=y.slice()}return y}const de=y=>"[object Object]"===Object.prototype.toString.call(y)&&y.constructor===Object;function le(y,g){if(void 0!==g&&("object"!=typeof g||!de(g)))throw new Error("options must be object or undefined");return Object.assign(y,g)}function be(y,g){if(!z(y))throw new Error("Uint8Array expected");if("number"==typeof g&&y.length!==g)throw new Error(`Uint8Array length ${g} expected`)}function xe(y,g){if(y.length!==g.length)return!1;let M=0;for(let T=0;T<y.length;T++)M|=y[T]^g[T];return 0===M}const C=(y,g)=>(Object.assign(g,y),g);function a(y,g,M,T){if("function"==typeof y.setBigUint64)return y.setBigUint64(g,M,T);const B=BigInt(32),S=BigInt(4294967295),s=Number(M>>B&S),v=Number(M&S),K=T?0:4;y.setUint32(g+(T?4:0),s,T),y.setUint32(g+K,v,T)}},91879:(je,H,w)=>{"use strict";w.d(H,{NZ:()=>x});const d="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function x(){if(d&&"object"==typeof d.subtle&&null!=d.subtle)return d.subtle;throw new Error("crypto.subtle must be defined")}w(25953),w(34931)},2716:(je,H,w)=>{"use strict";w.d(H,{s:()=>se});var d=w(75781),E=w(62953),k=w(35765),z=w(91006),x=w(7184);const{Ph:A,aT:P}=z,F={Err:class extends Error{constructor(le=""){super(le)}},_parseInt(de){const{Err:le}=F;if(de.length<2||2!==de[0])throw new le("Invalid signature integer tag");const be=de[1],xe=de.subarray(2,be+2);if(!be||xe.length!==be)throw new le("Invalid signature integer: wrong length");if(128&xe[0])throw new le("Invalid signature integer: negative");if(0===xe[0]&&!(128&xe[1]))throw new le("Invalid signature integer: unnecessary leading zero");return{d:A(xe),l:de.subarray(be+2)}},toSig(de){const{Err:le}=F,be="string"==typeof de?P(de):de;if(!z.aY(be))throw new Error("ui8a expected");let xe=be.length;if(xe<2||48!=be[0])throw new le("Invalid signature tag");if(be[1]!==xe-2)throw new le("Invalid signature: incorrect length");const{d:ke,l:C}=F._parseInt(be.subarray(2)),{d:a,l:f}=F._parseInt(C);if(f.length)throw new le("Invalid signature: left bytes after parsing");return{r:ke,s:a}},hexFromSig(de){const le=g=>8&Number.parseInt(g[0],16)?"00"+g:g,be=g=>{const M=g.toString(16);return 1&M.length?`0${M}`:M},xe=le(be(de.s)),ke=le(be(de.r)),C=xe.length/2,a=ke.length/2,f=be(C),y=be(a);return`30${be(a+C+4)}02${y}${ke}02${f}${xe}`}},L=BigInt(0),D=BigInt(1),j=(BigInt(2),BigInt(3));function J(de){const le=function te(de){const le=(0,x.h)(de);return z.Q5(le,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...le})}(de),{Fp:be,n:xe}=le,ke=be.BYTES+1,C=2*be.BYTES+1;function f(oe){return k.zi(oe,xe)}function y(oe){return k.B8(oe,xe)}const{ProjectivePoint:g,normPrivateKeyToScalar:M,weierstrassEquation:T,isWithinCurveOrder:B}=function re(de){const le=function O(de){const le=(0,x.h)(de);z.Q5(le,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:be,Fp:xe,a:ke}=le;if(be){if(!xe.eql(ke,xe.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof be||"bigint"!=typeof be.beta||"function"!=typeof be.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...le})}(de),{Fp:be}=le,xe=le.toBytes||((s,v,W)=>{const K=v.toAffine();return z.Id(Uint8Array.from([4]),be.toBytes(K.x),be.toBytes(K.y))}),ke=le.fromBytes||(s=>{const v=s.subarray(1);return{x:be.fromBytes(v.subarray(0,be.BYTES)),y:be.fromBytes(v.subarray(be.BYTES,2*be.BYTES))}});function C(s){const{a:v,b:W}=le,K=be.sqr(s),ee=be.mul(K,s);return be.add(be.add(ee,be.mul(s,v)),W)}if(!be.eql(be.sqr(le.Gy),C(le.Gx)))throw new Error("bad generator point: equation left != right");function a(s){return"bigint"==typeof s&&L<s&&s<le.n}function f(s){if(!a(s))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function y(s){const{allowedPrivateKeyLengths:v,nByteLength:W,wrapPrivateKey:K,n:ee}=le;if(v&&"bigint"!=typeof s){if(z.aY(s)&&(s=z.My(s)),"string"!=typeof s||!v.includes(s.length))throw new Error("Invalid key");s=s.padStart(2*W,"0")}let ce;try{ce="bigint"==typeof s?s:z.Ph((0,z.qj)("private key",s,W))}catch{throw new Error(`private key must be ${W} bytes, hex or bigint, not ${typeof s}`)}return K&&(ce=k.zi(ce,ee)),f(ce),ce}const g=new Map;function M(s){if(!(s instanceof T))throw new Error("ProjectivePoint expected")}class T{constructor(v,W,K){if(this.px=v,this.py=W,this.pz=K,null==v||!be.isValid(v))throw new Error("x required");if(null==W||!be.isValid(W))throw new Error("y required");if(null==K||!be.isValid(K))throw new Error("z required")}static fromAffine(v){const{x:W,y:K}=v||{};if(!v||!be.isValid(W)||!be.isValid(K))throw new Error("invalid affine point");if(v instanceof T)throw new Error("projective point not allowed");const ee=ce=>be.eql(ce,be.ZERO);return ee(W)&&ee(K)?T.ZERO:new T(W,K,be.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const W=be.invertBatch(v.map(K=>K.pz));return v.map((K,ee)=>K.toAffine(W[ee])).map(T.fromAffine)}static fromHex(v){const W=T.fromAffine(ke((0,z.qj)("pointHex",v)));return W.assertValidity(),W}static fromPrivateKey(v){return T.BASE.multiply(y(v))}_setWindowSize(v){this._WINDOW_SIZE=v,g.delete(this)}assertValidity(){if(this.is0()){if(le.allowInfinityPoint&&!be.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:W}=this.toAffine();if(!be.isValid(v)||!be.isValid(W))throw new Error("bad point: x or y not FE");const K=be.sqr(W),ee=C(v);if(!be.eql(K,ee))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(be.isOdd)return!be.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){M(v);const{px:W,py:K,pz:ee}=this,{px:ce,py:_e,pz:Oe}=v,Ve=be.eql(be.mul(W,Oe),be.mul(ce,ee)),Se=be.eql(be.mul(K,Oe),be.mul(_e,ee));return Ve&&Se}negate(){return new T(this.px,be.neg(this.py),this.pz)}double(){const{a:v,b:W}=le,K=be.mul(W,j),{px:ee,py:ce,pz:_e}=this;let Oe=be.ZERO,Ve=be.ZERO,Se=be.ZERO,we=be.mul(ee,ee),Ue=be.mul(ce,ce),ye=be.mul(_e,_e),De=be.mul(ee,ce);return De=be.add(De,De),Se=be.mul(ee,_e),Se=be.add(Se,Se),Oe=be.mul(v,Se),Ve=be.mul(K,ye),Ve=be.add(Oe,Ve),Oe=be.sub(Ue,Ve),Ve=be.add(Ue,Ve),Ve=be.mul(Oe,Ve),Oe=be.mul(De,Oe),Se=be.mul(K,Se),ye=be.mul(v,ye),De=be.sub(we,ye),De=be.mul(v,De),De=be.add(De,Se),Se=be.add(we,we),we=be.add(Se,we),we=be.add(we,ye),we=be.mul(we,De),Ve=be.add(Ve,we),ye=be.mul(ce,_e),ye=be.add(ye,ye),we=be.mul(ye,De),Oe=be.sub(Oe,we),Se=be.mul(ye,Ue),Se=be.add(Se,Se),Se=be.add(Se,Se),new T(Oe,Ve,Se)}add(v){M(v);const{px:W,py:K,pz:ee}=this,{px:ce,py:_e,pz:Oe}=v;let Ve=be.ZERO,Se=be.ZERO,we=be.ZERO;const Ue=le.a,ye=be.mul(le.b,j);let De=be.mul(W,ce),pe=be.mul(K,_e),ue=be.mul(ee,Oe),Q=be.add(W,K),oe=be.add(ce,_e);Q=be.mul(Q,oe),oe=be.add(De,pe),Q=be.sub(Q,oe),oe=be.add(W,ee);let fe=be.add(ce,Oe);return oe=be.mul(oe,fe),fe=be.add(De,ue),oe=be.sub(oe,fe),fe=be.add(K,ee),Ve=be.add(_e,Oe),fe=be.mul(fe,Ve),Ve=be.add(pe,ue),fe=be.sub(fe,Ve),we=be.mul(Ue,oe),Ve=be.mul(ye,ue),we=be.add(Ve,we),Ve=be.sub(pe,we),we=be.add(pe,we),Se=be.mul(Ve,we),pe=be.add(De,De),pe=be.add(pe,De),ue=be.mul(Ue,ue),oe=be.mul(ye,oe),pe=be.add(pe,ue),ue=be.sub(De,ue),ue=be.mul(Ue,ue),oe=be.add(oe,ue),De=be.mul(pe,oe),Se=be.add(Se,De),De=be.mul(fe,oe),Ve=be.mul(Q,Ve),Ve=be.sub(Ve,De),De=be.mul(Q,pe),we=be.mul(fe,we),we=be.add(we,De),new T(Ve,Se,we)}subtract(v){return this.add(v.negate())}is0(){return this.equals(T.ZERO)}wNAF(v){return S.wNAFCached(this,g,v,W=>{const K=be.invertBatch(W.map(ee=>ee.pz));return W.map((ee,ce)=>ee.toAffine(K[ce])).map(T.fromAffine)})}multiplyUnsafe(v){const W=T.ZERO;if(v===L)return W;if(f(v),v===D)return this;const{endo:K}=le;if(!K)return S.unsafeLadder(this,v);let{k1neg:ee,k1:ce,k2neg:_e,k2:Oe}=K.splitScalar(v),Ve=W,Se=W,we=this;for(;ce>L||Oe>L;)ce&D&&(Ve=Ve.add(we)),Oe&D&&(Se=Se.add(we)),we=we.double(),ce>>=D,Oe>>=D;return ee&&(Ve=Ve.negate()),_e&&(Se=Se.negate()),Se=new T(be.mul(Se.px,K.beta),Se.py,Se.pz),Ve.add(Se)}multiply(v){f(v);let K,ee,W=v;const{endo:ce}=le;if(ce){const{k1neg:_e,k1:Oe,k2neg:Ve,k2:Se}=ce.splitScalar(W);let{p:we,f:Ue}=this.wNAF(Oe),{p:ye,f:De}=this.wNAF(Se);we=S.constTimeNegate(_e,we),ye=S.constTimeNegate(Ve,ye),ye=new T(be.mul(ye.px,ce.beta),ye.py,ye.pz),K=we.add(ye),ee=Ue.add(De)}else{const{p:_e,f:Oe}=this.wNAF(W);K=_e,ee=Oe}return T.normalizeZ([K,ee])[0]}multiplyAndAddUnsafe(v,W,K){const ee=T.BASE,ce=(Oe,Ve)=>Ve!==L&&Ve!==D&&Oe.equals(ee)?Oe.multiply(Ve):Oe.multiplyUnsafe(Ve),_e=ce(this,W).add(ce(v,K));return _e.is0()?void 0:_e}toAffine(v){const{px:W,py:K,pz:ee}=this,ce=this.is0();null==v&&(v=ce?be.ONE:be.inv(ee));const _e=be.mul(W,v),Oe=be.mul(K,v),Ve=be.mul(ee,v);if(ce)return{x:be.ZERO,y:be.ZERO};if(!be.eql(Ve,be.ONE))throw new Error("invZ was invalid");return{x:_e,y:Oe}}isTorsionFree(){const{h:v,isTorsionFree:W}=le;if(v===D)return!0;if(W)return W(T,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:W}=le;return v===D?this:W?W(T,this):this.multiplyUnsafe(le.h)}toRawBytes(v=!0){return this.assertValidity(),xe(T,this,v)}toHex(v=!0){return z.My(this.toRawBytes(v))}}T.BASE=new T(le.Gx,le.Gy,be.ONE),T.ZERO=new T(be.ZERO,be.ONE,be.ZERO);const B=le.nBitLength,S=(0,x.A)(T,le.endo?Math.ceil(B/2):B);return{CURVE:le,ProjectivePoint:T,normPrivateKeyToScalar:y,weierstrassEquation:C,isWithinCurveOrder:a}}({...le,toBytes(oe,fe,Ee){const Re=fe.toAffine(),$e=be.toBytes(Re.x),Fe=z.Id;return Ee?Fe(Uint8Array.from([fe.hasEvenY()?2:3]),$e):Fe(Uint8Array.from([4]),$e,be.toBytes(Re.y))},fromBytes(oe){const fe=oe.length,Ee=oe[0],Re=oe.subarray(1);if(fe!==ke||2!==Ee&&3!==Ee){if(fe===C&&4===Ee)return{x:be.fromBytes(Re.subarray(0,be.BYTES)),y:be.fromBytes(Re.subarray(be.BYTES,2*be.BYTES))};throw new Error(`Point of length ${fe} was invalid. Expected ${ke} compressed bytes or ${C} uncompressed bytes`)}{const $e=z.Ph(Re);if(!function a(oe){return L<oe&&oe<be.ORDER}($e))throw new Error("Point is not on curve");const Fe=T($e);let _t=be.sqrt(Fe);return!(1&~Ee)!=((_t&D)===D)&&(_t=be.neg(_t)),{x:$e,y:_t}}}}),S=oe=>z.My(z.lq(oe,le.nByteLength));function s(oe){return oe>xe>>D}const W=(oe,fe,Ee)=>z.Ph(oe.slice(fe,Ee));class K{constructor(fe,Ee,Re){this.r=fe,this.s=Ee,this.recovery=Re,this.assertValidity()}static fromCompact(fe){const Ee=le.nByteLength;return fe=(0,z.qj)("compactSignature",fe,2*Ee),new K(W(fe,0,Ee),W(fe,Ee,2*Ee))}static fromDER(fe){const{r:Ee,s:Re}=F.toSig((0,z.qj)("DER",fe));return new K(Ee,Re)}assertValidity(){if(!B(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!B(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(fe){return new K(this.r,this.s,fe)}recoverPublicKey(fe){const{r:Ee,s:Re,recovery:$e}=this,Fe=Se((0,z.qj)("msgHash",fe));if(null==$e||![0,1,2,3].includes($e))throw new Error("recovery id invalid");const _t=2===$e||3===$e?Ee+le.n:Ee;if(_t>=be.ORDER)throw new Error("recovery id 2 or 3 invalid");const Le=g.fromHex((1&$e?"03":"02")+S(_t)),lt=y(_t),N=f(-Fe*lt),_=f(Re*lt),m=g.BASE.multiplyAndAddUnsafe(Le,N,_);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return s(this.s)}normalizeS(){return this.hasHighS()?new K(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return z.aT(this.toDERHex())}toDERHex(){return F.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return z.aT(this.toCompactHex())}toCompactHex(){return S(this.r)+S(this.s)}}const ee={isValidPrivateKey(oe){try{return M(oe),!0}catch{return!1}},normPrivateKeyToScalar:M,randomPrivateKey:()=>{const oe=k.Tp(le.n);return k.qy(le.randomBytes(oe),le.n)},precompute:(oe=8,fe=g.BASE)=>(fe._setWindowSize(oe),fe.multiply(BigInt(3)),fe)};function _e(oe){const fe=z.aY(oe),Ee="string"==typeof oe,Re=(fe||Ee)&&oe.length;return fe?Re===ke||Re===C:Ee?Re===2*ke||Re===2*C:oe instanceof g}const Ve=le.bits2int||function(oe){const fe=z.Ph(oe),Ee=8*oe.length-le.nBitLength;return Ee>0?fe>>BigInt(Ee):fe},Se=le.bits2int_modN||function(oe){return f(Ve(oe))},we=z.OG(le.nBitLength);function Ue(oe){if("bigint"!=typeof oe)throw new Error("bigint expected");if(!(L<=oe&&oe<we))throw new Error(`bigint expected < 2^${le.nBitLength}`);return z.lq(oe,le.nByteLength)}const De={lowS:le.lowS,prehash:!1},pe={lowS:le.lowS,prehash:!1};return g.BASE._setWindowSize(8),{CURVE:le,getPublicKey:function ce(oe,fe=!0){return g.fromPrivateKey(oe).toRawBytes(fe)},getSharedSecret:function Oe(oe,fe,Ee=!0){if(_e(oe))throw new Error("first arg must be private key");if(!_e(fe))throw new Error("second arg must be public key");return g.fromHex(fe).multiply(M(oe)).toRawBytes(Ee)},sign:function ue(oe,fe,Ee=De){const{seed:Re,k2sig:$e}=function ye(oe,fe,Ee=De){if(["recovered","canonical"].some(ne=>ne in Ee))throw new Error("sign() legacy options not supported");const{hash:Re,randomBytes:$e}=le;let{lowS:Fe,prehash:_t,extraEntropy:We}=Ee;null==Fe&&(Fe=!0),oe=(0,z.qj)("msgHash",oe),_t&&(oe=(0,z.qj)("prehashed msgHash",Re(oe)));const Le=Se(oe),lt=M(fe),N=[Ue(lt),Ue(Le)];if(null!=We){const ne=!0===We?$e(be.BYTES):We;N.push((0,z.qj)("extraEntropy",ne))}const _=z.Id(...N),m=Le;return{seed:_,k2sig:function U(ne){const ge=Ve(ne);if(!B(ge))return;const Ae=y(ge),tt=g.BASE.multiply(ge).toAffine(),Bt=f(tt.x);if(Bt===L)return;const gt=f(Ae*f(m+Bt*lt));if(gt===L)return;let It=(tt.x===Bt?0:2)|Number(tt.y&D),Zt=gt;return Fe&&s(gt)&&(Zt=function v(oe){return s(oe)?f(-oe):oe}(gt),It^=1),new K(Bt,Zt,It)}}}(oe,fe,Ee);return z.fg(le.hash.outputLen,le.nByteLength,le.hmac)(Re,$e)},verify:function Q(oe,fe,Ee,Re=pe){const $e=oe;if(fe=(0,z.qj)("msgHash",fe),Ee=(0,z.qj)("publicKey",Ee),"strict"in Re)throw new Error("options.strict was renamed to lowS");const{lowS:Fe,prehash:_t}=Re;let We,Le;try{if("string"==typeof $e||z.aY($e))try{We=K.fromDER($e)}catch(tt){if(!(tt instanceof F.Err))throw tt;We=K.fromCompact($e)}else{if("object"!=typeof $e||"bigint"!=typeof $e.r||"bigint"!=typeof $e.s)throw new Error("PARSE");{const{r:tt,s:Bt}=$e;We=new K(tt,Bt)}}Le=g.fromHex(Ee)}catch(tt){if("PARSE"===tt.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Fe&&We.hasHighS())return!1;_t&&(fe=le.hash(fe));const{r:lt,s:N}=We,_=Se(fe),m=y(N),U=f(_*m),ne=f(lt*m),ge=g.BASE.multiplyAndAddUnsafe(Le,U,ne)?.toAffine();return!!ge&&f(ge.x)===lt},ProjectivePoint:g,Signature:K,utils:ee}}function ae(de){return{hash:de,hmac:(le,...be)=>(0,d.w)(de,le,(0,E.Id)(...be)),randomBytes:E.po}}function se(de,le){const be=xe=>J({...de,...ae(xe)});return Object.freeze({...be(le),create:be})}BigInt(4)},7184:(je,H,w)=>{"use strict";w.d(H,{A:()=>x,h:()=>O});var d=w(35765),E=w(91006);const k=BigInt(0),z=BigInt(1);function x(A,P){const F=(D,X)=>{const j=X.negate();return D?j:X},L=D=>({windows:Math.ceil(P/D)+1,windowSize:2**(D-1)});return{constTimeNegate:F,unsafeLadder(D,X){let j=A.ZERO,G=D;for(;X>k;)X&z&&(j=j.add(G)),G=G.double(),X>>=z;return j},precomputeWindow(D,X){const{windows:j,windowSize:G}=L(X),re=[];let te=D,J=te;for(let Z=0;Z<j;Z++){J=te,re.push(J);for(let ie=1;ie<G;ie++)J=J.add(te),re.push(J);te=J.double()}return re},wNAF(D,X,j){const{windows:G,windowSize:re}=L(D);let te=A.ZERO,J=A.BASE;const Z=BigInt(2**D-1),ie=2**D,ae=BigInt(D);for(let se=0;se<G;se++){const de=se*re;let le=Number(j&Z);j>>=ae,le>re&&(le-=ie,j+=z);const be=de,xe=de+Math.abs(le)-1,C=le<0;0===le?J=J.add(F(se%2!=0,X[be])):te=te.add(F(C,X[xe]))}return{p:te,f:J}},wNAFCached(D,X,j,G){const re=D._WINDOW_SIZE||1;let te=X.get(D);return te||(te=this.precomputeWindow(D,re),1!==re&&X.set(D,G(te))),this.wNAF(re,te,j)}}}function O(A){return(0,d.jr)(A.Fp),(0,E.Q5)(A,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,d.LH)(A.n,A.nBitLength),...A,p:A.Fp.ORDER})}},35765:(je,H,w)=>{"use strict";w.d(H,{B8:()=>G,D0:()=>xe,LH:()=>be,Tp:()=>y,Tv:()=>C,dQ:()=>J,jr:()=>ie,n7:()=>X,qy:()=>g,zH:()=>j,zi:()=>D});var d=w(91006);const E=BigInt(0),k=BigInt(1),z=BigInt(2),x=BigInt(3),O=BigInt(4),A=BigInt(5),P=BigInt(8);function D(M,T){const B=M%T;return B>=E?B:T+B}function X(M,T,B){if(B<=E||T<E)throw new Error("Expected power/modulo > 0");if(B===k)return E;let S=k;for(;T>E;)T&k&&(S=S*M%B),M=M*M%B,T>>=k;return S}function j(M,T,B){let S=M;for(;T-- >E;)S*=S,S%=B;return S}function G(M,T){if(M===E||T<=E)throw new Error(`invert: expected positive integers, got n=${M} mod=${T}`);let B=D(M,T),S=T,s=E,v=k,W=k,K=E;for(;B!==E;){const ce=S/B,_e=S%B,Oe=s-W*ce,Ve=v-K*ce;S=B,B=_e,s=W,v=K,W=Oe,K=Ve}if(S!==k)throw new Error("invert: does not exist");return D(s,T)}BigInt(9),BigInt(16);const J=(M,T)=>(D(M,T)&k)===k,Z=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ie(M){const B=Z.reduce((S,s)=>(S[s]="function",S),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,d.Q5)(M,B)}function be(M,T){const B=void 0!==T?T:M.toString(2).length;return{nBitLength:B,nByteLength:Math.ceil(B/8)}}function xe(M,T,B=!1,S={}){if(M<=E)throw new Error(`Expected Field ORDER > 0, got ${M}`);const{nBitLength:s,nByteLength:v}=be(M,T);if(v>2048)throw new Error("Field lengths over 2048 bytes are not supported");const W=function te(M){if(M%O===x){const T=(M+k)/O;return function(S,s){const v=S.pow(s,T);if(!S.eql(S.sqr(v),s))throw new Error("Cannot find square root");return v}}if(M%P===A){const T=(M-A)/P;return function(S,s){const v=S.mul(s,z),W=S.pow(v,T),K=S.mul(s,W),ee=S.mul(S.mul(K,z),W),ce=S.mul(K,S.sub(ee,S.ONE));if(!S.eql(S.sqr(ce),s))throw new Error("Cannot find square root");return ce}}return function re(M){const T=(M-k)/z;let B,S,s;for(B=M-k,S=0;B%z===E;B/=z,S++);for(s=z;s<M&&X(s,T,M)!==M-k;s++);if(1===S){const W=(M+k)/O;return function(ee,ce){const _e=ee.pow(ce,W);if(!ee.eql(ee.sqr(_e),ce))throw new Error("Cannot find square root");return _e}}const v=(B+k)/z;return function(K,ee){if(K.pow(ee,T)===K.neg(K.ONE))throw new Error("Cannot find square root");let ce=S,_e=K.pow(K.mul(K.ONE,s),B),Oe=K.pow(ee,v),Ve=K.pow(ee,B);for(;!K.eql(Ve,K.ONE);){if(K.eql(Ve,K.ZERO))return K.ZERO;let Se=1;for(let Ue=K.sqr(Ve);Se<ce&&!K.eql(Ue,K.ONE);Se++)Ue=K.sqr(Ue);const we=K.pow(_e,k<<BigInt(ce-Se-1));_e=K.sqr(we),Oe=K.mul(Oe,we),Ve=K.mul(Ve,_e),ce=Se}return Oe}}(M)}(M),K=Object.freeze({ORDER:M,BITS:s,BYTES:v,MASK:(0,d.OG)(s),ZERO:E,ONE:k,create:ee=>D(ee,M),isValid:ee=>{if("bigint"!=typeof ee)throw new Error("Invalid field element: expected bigint, got "+typeof ee);return E<=ee&&ee<M},is0:ee=>ee===E,isOdd:ee=>(ee&k)===k,neg:ee=>D(-ee,M),eql:(ee,ce)=>ee===ce,sqr:ee=>D(ee*ee,M),add:(ee,ce)=>D(ee+ce,M),sub:(ee,ce)=>D(ee-ce,M),mul:(ee,ce)=>D(ee*ce,M),pow:(ee,ce)=>function ae(M,T,B){if(B<E)throw new Error("Expected power > 0");if(B===E)return M.ONE;if(B===k)return T;let S=M.ONE,s=T;for(;B>E;)B&k&&(S=M.mul(S,s)),s=M.sqr(s),B>>=k;return S}(K,ee,ce),div:(ee,ce)=>D(ee*G(ce,M),M),sqrN:ee=>ee*ee,addN:(ee,ce)=>ee+ce,subN:(ee,ce)=>ee-ce,mulN:(ee,ce)=>ee*ce,inv:ee=>G(ee,M),sqrt:S.sqrt||(ee=>W(K,ee)),invertBatch:ee=>function se(M,T){const B=new Array(T.length),S=T.reduce((v,W,K)=>M.is0(W)?v:(B[K]=v,M.mul(v,W)),M.ONE),s=M.inv(S);return T.reduceRight((v,W,K)=>M.is0(W)?v:(B[K]=M.mul(v,B[K]),M.mul(v,W)),s),B}(K,ee),cmov:(ee,ce,_e)=>_e?ce:ee,toBytes:ee=>B?(0,d.z)(ee,v):(0,d.lq)(ee,v),fromBytes:ee=>{if(ee.length!==v)throw new Error(`Fp.fromBytes: expected ${v}, got ${ee.length}`);return B?(0,d.lX)(ee):(0,d.Ph)(ee)}});return Object.freeze(K)}function C(M,T){if(!M.isOdd)throw new Error("Field doesn't have isOdd");const B=M.sqrt(T);return M.isOdd(B)?M.neg(B):B}function f(M){if("bigint"!=typeof M)throw new Error("field order must be bigint");const T=M.toString(2).length;return Math.ceil(T/8)}function y(M){const T=f(M);return T+Math.ceil(T/2)}function g(M,T,B=!1){const S=M.length,s=f(T),v=y(T);if(S<16||S<v||S>1024)throw new Error(`expected ${v}-1024 bytes of input, got ${S}`);const K=D(B?(0,d.Ph)(M):(0,d.lX)(M),T-k)+k;return B?(0,d.z)(K,s):(0,d.lq)(K,s)}},91006:(je,H,w)=>{"use strict";w.d(H,{Id:()=>Z,My:()=>O,OG:()=>be,Ph:()=>X,Q5:()=>f,aT:()=>D,aY:()=>z,fg:()=>C,lX:()=>j,lq:()=>G,qj:()=>J,z:()=>re}),BigInt(0);const E=BigInt(1),k=BigInt(2);function z(y){return y instanceof Uint8Array||null!=y&&"object"==typeof y&&"Uint8Array"===y.constructor.name}const x=Array.from({length:256},(y,g)=>g.toString(16).padStart(2,"0"));function O(y){if(!z(y))throw new Error("Uint8Array expected");let g="";for(let M=0;M<y.length;M++)g+=x[y[M]];return g}function P(y){if("string"!=typeof y)throw new Error("hex string expected, got "+typeof y);return BigInt(""===y?"0":`0x${y}`)}const F={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function L(y){return y>=F._0&&y<=F._9?y-F._0:y>=F._A&&y<=F._F?y-(F._A-10):y>=F._a&&y<=F._f?y-(F._a-10):void 0}function D(y){if("string"!=typeof y)throw new Error("hex string expected, got "+typeof y);const g=y.length,M=g/2;if(g%2)throw new Error("padded hex string expected, got unpadded hex of length "+g);const T=new Uint8Array(M);for(let B=0,S=0;B<M;B++,S+=2){const s=L(y.charCodeAt(S)),v=L(y.charCodeAt(S+1));if(void 0===s||void 0===v)throw new Error('hex string expected, got non-hex character "'+(y[S]+y[S+1])+'" at index '+S);T[B]=16*s+v}return T}function X(y){return P(O(y))}function j(y){if(!z(y))throw new Error("Uint8Array expected");return P(O(Uint8Array.from(y).reverse()))}function G(y,g){return D(y.toString(16).padStart(2*g,"0"))}function re(y,g){return G(y,g).reverse()}function J(y,g,M){let T;if("string"==typeof g)try{T=D(g)}catch(S){throw new Error(`${y} must be valid hex string, got "${g}". Cause: ${S}`)}else{if(!z(g))throw new Error(`${y} must be hex string or Uint8Array`);T=Uint8Array.from(g)}const B=T.length;if("number"==typeof M&&B!==M)throw new Error(`${y} expected ${M} bytes, got ${B}`);return T}function Z(...y){let g=0;for(let B=0;B<y.length;B++){const S=y[B];if(!z(S))throw new Error("Uint8Array expected");g+=S.length}let M=new Uint8Array(g),T=0;for(let B=0;B<y.length;B++){const S=y[B];M.set(S,T),T+=S.length}return M}const be=y=>(k<<BigInt(y-1))-E,xe=y=>new Uint8Array(y),ke=y=>Uint8Array.from(y);function C(y,g,M){if("number"!=typeof y||y<2)throw new Error("hashLen must be a number");if("number"!=typeof g||g<2)throw new Error("qByteLen must be a number");if("function"!=typeof M)throw new Error("hmacFn must be a function");let T=xe(y),B=xe(y),S=0;const s=()=>{T.fill(1),B.fill(0),S=0},v=(...ce)=>M(B,T,...ce),W=(ce=xe())=>{B=v(ke([0]),ce),T=v(),0!==ce.length&&(B=v(ke([1]),ce),T=v())},K=()=>{if(S++>=1e3)throw new Error("drbg: tried 1000 values");let ce=0;const _e=[];for(;ce<g;){T=v();const Oe=T.slice();_e.push(Oe),ce+=T.length}return Z(..._e)};return(ce,_e)=>{let Oe;for(s(),W(ce);!(Oe=_e(K()));)W();return s(),Oe}}const a={bigint:y=>"bigint"==typeof y,function:y=>"function"==typeof y,boolean:y=>"boolean"==typeof y,string:y=>"string"==typeof y,stringOrUint8Array:y=>"string"==typeof y||z(y),isSafeInteger:y=>Number.isSafeInteger(y),array:y=>Array.isArray(y),field:(y,g)=>g.Fp.isValid(y),hash:y=>"function"==typeof y&&Number.isSafeInteger(y.outputLen)};function f(y,g,M={}){const T=(B,S,s)=>{const v=a[S];if("function"!=typeof v)throw new Error(`Invalid validator "${S}", expected function`);const W=y[B];if(!(s&&void 0===W||v(W,y)))throw new Error(`Invalid param ${String(B)}=${W} (${typeof W}), expected ${S}`)};for(const[B,S]of Object.entries(g))T(B,S,!1);for(const[B,S]of Object.entries(M))T(B,S,!0);return y}},86295:(je,H,w)=>{"use strict";w.d(H,{ev:()=>T,OA:()=>ee,GU:()=>W,TU:()=>v});var d=w(25431),E=w(62953),k=w(35765),z=w(91006),x=w(7184);const O=BigInt(0),A=BigInt(1),P=BigInt(2),F=BigInt(8),L={zip215:!0};function X(U){const ne=function D(U){const ne=(0,x.h)(U);return z.Q5(U,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...ne})}(U),{Fp:ge,n:Ae,prehash:tt,hash:Bt,randomBytes:gt,nByteLength:It,h:Zt}=ne,mn=P<<BigInt(8*It)-A,dn=ge.create,ar=ne.uvRatio||((Fn,Lt)=>{try{return{isValid:!0,value:ge.sqrt(Fn*ge.inv(Lt))}}catch{return{isValid:!1,value:O}}}),An=ne.adjustScalarBytes||(Fn=>Fn),en=ne.domain||((Fn,Lt,et)=>{if(Lt.length||et)throw new Error("Contexts/pre-hash are not supported");return Fn}),Qt=Fn=>"bigint"==typeof Fn&&O<Fn,Et=(Fn,Lt)=>Qt(Fn)&&Qt(Lt)&&Fn<Lt,ft=Fn=>Fn===O||Et(Fn,mn);function Ht(Fn,Lt){if(Et(Fn,Lt))return Fn;throw new Error(`Expected valid scalar < ${Lt}, got ${typeof Fn} ${Fn}`)}function qt(Fn){return Fn===O?Fn:Ht(Fn,Ae)}const hn=new Map;function hr(Fn){if(!(Fn instanceof vt))throw new Error("ExtendedPoint expected")}class vt{constructor(Lt,et,Te,Ne){if(this.ex=Lt,this.ey=et,this.ez=Te,this.et=Ne,!ft(Lt))throw new Error("x required");if(!ft(et))throw new Error("y required");if(!ft(Te))throw new Error("z required");if(!ft(Ne))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Lt){if(Lt instanceof vt)throw new Error("extended point not allowed");const{x:et,y:Te}=Lt||{};if(!ft(et)||!ft(Te))throw new Error("invalid affine point");return new vt(et,Te,A,dn(et*Te))}static normalizeZ(Lt){const et=ge.invertBatch(Lt.map(Te=>Te.ez));return Lt.map((Te,Ne)=>Te.toAffine(et[Ne])).map(vt.fromAffine)}_setWindowSize(Lt){this._WINDOW_SIZE=Lt,hn.delete(this)}assertValidity(){const{a:Lt,d:et}=ne;if(this.is0())throw new Error("bad point: ZERO");const{ex:Te,ey:Ne,ez:xt,et:nn}=this,In=dn(Te*Te),Kn=dn(Ne*Ne),er=dn(xt*xt),_r=dn(er*er),Tr=dn(In*Lt);if(dn(er*dn(Tr+Kn))!==dn(_r+dn(et*dn(In*Kn))))throw new Error("bad point: equation left != right (1)");if(dn(Te*Ne)!==dn(xt*nn))throw new Error("bad point: equation left != right (2)")}equals(Lt){hr(Lt);const{ex:et,ey:Te,ez:Ne}=this,{ex:xt,ey:nn,ez:In}=Lt,Kn=dn(et*In),er=dn(xt*Ne),_r=dn(Te*In),Tr=dn(nn*Ne);return Kn===er&&_r===Tr}is0(){return this.equals(vt.ZERO)}negate(){return new vt(dn(-this.ex),this.ey,this.ez,dn(-this.et))}double(){const{a:Lt}=ne,{ex:et,ey:Te,ez:Ne}=this,xt=dn(et*et),nn=dn(Te*Te),In=dn(P*dn(Ne*Ne)),Kn=dn(Lt*xt),er=et+Te,_r=dn(dn(er*er)-xt-nn),Tr=Kn+nn,Br=Tr-In,jr=Kn-nn,Zr=dn(_r*Br),tn=dn(Tr*jr),_n=dn(_r*jr),Tn=dn(Br*Tr);return new vt(Zr,tn,Tn,_n)}add(Lt){hr(Lt);const{a:et,d:Te}=ne,{ex:Ne,ey:xt,ez:nn,et:In}=this,{ex:Kn,ey:er,ez:_r,et:Tr}=Lt;if(et===BigInt(-1)){const ii=dn((xt-Ne)*(er+Kn)),To=dn((xt+Ne)*(er-Kn)),bi=dn(To-ii);if(bi===O)return this.double();const Po=dn(nn*P*Tr),Bo=dn(In*P*_r),Ho=Bo+Po,Fi=To+ii,fi=Bo-Po,Ni=dn(Ho*bi),Aa=dn(Fi*fi),_i=dn(Ho*fi),is=dn(bi*Fi);return new vt(Ni,Aa,is,_i)}const Br=dn(Ne*Kn),jr=dn(xt*er),Zr=dn(In*Te*Tr),tn=dn(nn*_r),_n=dn((Ne+xt)*(Kn+er)-Br-jr),Tn=tn-Zr,jn=tn+Zr,fr=dn(jr-et*Br),Ar=dn(_n*Tn),Sr=dn(jn*fr),zr=dn(_n*fr),Kr=dn(Tn*jn);return new vt(Ar,Sr,Kr,zr)}subtract(Lt){return this.add(Lt.negate())}wNAF(Lt){return Ye.wNAFCached(this,hn,Lt,vt.normalizeZ)}multiply(Lt){const{p:et,f:Te}=this.wNAF(Ht(Lt,Ae));return vt.normalizeZ([et,Te])[0]}multiplyUnsafe(Lt){let et=qt(Lt);return et===O?Mt:this.equals(Mt)||et===A?this:this.equals(St)?this.wNAF(et).p:Ye.unsafeLadder(this,et)}isSmallOrder(){return this.multiplyUnsafe(Zt).is0()}isTorsionFree(){return Ye.unsafeLadder(this,Ae).is0()}toAffine(Lt){const{ex:et,ey:Te,ez:Ne}=this,xt=this.is0();null==Lt&&(Lt=xt?F:ge.inv(Ne));const nn=dn(et*Lt),In=dn(Te*Lt),Kn=dn(Ne*Lt);if(xt)return{x:O,y:A};if(Kn!==A)throw new Error("invZ was invalid");return{x:nn,y:In}}clearCofactor(){const{h:Lt}=ne;return Lt===A?this:this.multiplyUnsafe(Lt)}static fromHex(Lt,et=!1){const{d:Te,a:Ne}=ne,xt=ge.BYTES,nn=(Lt=(0,z.qj)("pointHex",Lt,xt)).slice(),In=Lt[xt-1];nn[xt-1]=-129&In;const Kn=z.lX(nn);Kn===O||Ht(Kn,et?mn:ge.ORDER);const er=dn(Kn*Kn),_r=dn(er-A),Tr=dn(Te*er-Ne);let{isValid:Br,value:jr}=ar(_r,Tr);if(!Br)throw new Error("Point.fromHex: invalid y coordinate");const Zr=(jr&A)===A,tn=!!(128&In);if(!et&&jr===O&&tn)throw new Error("Point.fromHex: x=0 and x_0=1");return tn!==Zr&&(jr=dn(-jr)),vt.fromAffine({x:jr,y:Kn})}static fromPrivateKey(Lt){return Nt(Lt).point}toRawBytes(){const{x:Lt,y:et}=this.toAffine(),Te=z.z(et,ge.BYTES);return Te[Te.length-1]|=Lt&A?128:0,Te}toHex(){return z.My(this.toRawBytes())}}vt.BASE=new vt(ne.Gx,ne.Gy,A,dn(ne.Gx*ne.Gy)),vt.ZERO=new vt(O,A,A,O);const{BASE:St,ZERO:Mt}=vt,Ye=(0,x.A)(vt,8*It);function nt(Fn){return(0,k.zi)(Fn,Ae)}function Wt(Fn){return nt(z.lX(Fn))}function Nt(Fn){const Lt=It;Fn=(0,z.qj)("private key",Fn,Lt);const et=(0,z.qj)("hashed private key",Bt(Fn),2*Lt),Te=An(et.slice(0,Lt)),Ne=et.slice(Lt,2*Lt),xt=Wt(Te),nn=St.multiply(xt),In=nn.toRawBytes();return{head:Te,prefix:Ne,scalar:xt,point:nn,pointBytes:In}}function Wn(Fn=new Uint8Array,...Lt){const et=z.Id(...Lt);return Wt(Bt(en(et,(0,z.qj)("context",Fn),!!tt)))}const kn=L;return St._setWindowSize(8),{CURVE:ne,getPublicKey:function un(Fn){return Nt(Fn).pointBytes},sign:function En(Fn,Lt,et={}){Fn=(0,z.qj)("message",Fn),tt&&(Fn=tt(Fn));const{prefix:Te,scalar:Ne,pointBytes:xt}=Nt(Lt),nn=Wn(et.context,Te,Fn),In=St.multiply(nn).toRawBytes(),er=nt(nn+Wn(et.context,In,xt,Fn)*Ne);qt(er);const _r=z.Id(In,z.z(er,ge.BYTES));return(0,z.qj)("result",_r,2*It)},verify:function Or(Fn,Lt,et,Te=kn){const{context:Ne,zip215:xt}=Te,nn=ge.BYTES;Fn=(0,z.qj)("signature",Fn,2*nn),Lt=(0,z.qj)("message",Lt),tt&&(Lt=tt(Lt));const In=z.lX(Fn.slice(nn,2*nn));let Kn,er,_r;try{Kn=vt.fromHex(et,xt),er=vt.fromHex(Fn.slice(0,nn),xt),_r=St.multiplyUnsafe(In)}catch{return!1}if(!xt&&Kn.isSmallOrder())return!1;const Tr=Wn(Ne,er.toRawBytes(),Kn.toRawBytes(),Lt);return er.add(Kn.multiplyUnsafe(Tr)).subtract(_r).clearCofactor().equals(vt.ZERO)},ExtendedPoint:vt,utils:{getExtendedPublicKey:Nt,randomPrivateKey:()=>gt(ge.BYTES),precompute:(Fn=8,Lt=vt.BASE)=>(Lt._setWindowSize(Fn),Lt.multiply(BigInt(3)),Lt)}}}const j=BigInt(0),G=BigInt(1),J=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Z=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),ae=(BigInt(0),BigInt(1)),se=BigInt(2),de=BigInt(5),le=BigInt(10),be=BigInt(20),xe=BigInt(40),ke=BigInt(80);function C(U){const ne=J,Ae=U*U%ne*U%ne,tt=(0,k.zH)(Ae,se,ne)*Ae%ne,Bt=(0,k.zH)(tt,ae,ne)*U%ne,gt=(0,k.zH)(Bt,de,ne)*Bt%ne,It=(0,k.zH)(gt,le,ne)*gt%ne,Zt=(0,k.zH)(It,be,ne)*It%ne,mn=(0,k.zH)(Zt,xe,ne)*Zt%ne,dn=(0,k.zH)(mn,ke,ne)*mn%ne,ar=(0,k.zH)(dn,ke,ne)*mn%ne,An=(0,k.zH)(ar,le,ne)*gt%ne;return{pow_p_5_8:(0,k.zH)(An,se,ne)*U%ne,b2:Ae}}function a(U){return U[0]&=248,U[31]&=127,U[31]|=64,U}const g=(0,k.D0)(J,void 0,!0),M={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:g,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:d.Zf,randomBytes:E.po,adjustScalarBytes:a,uvRatio:function f(U,ne){const ge=J,Ae=(0,k.zi)(ne*ne*ne,ge),Bt=C(U*(0,k.zi)(Ae*Ae*ne,ge)).pow_p_5_8;let gt=(0,k.zi)(U*Ae*Bt,ge);const It=(0,k.zi)(ne*gt*gt,ge),Zt=gt,mn=(0,k.zi)(gt*Z,ge),dn=It===U,ar=It===(0,k.zi)(-U,ge),An=It===(0,k.zi)(-U*Z,ge);return dn&&(gt=Zt),(ar||An)&&(gt=mn),(0,k.dQ)(gt,ge)&&(gt=(0,k.zi)(-gt,ge)),{isValid:dn||ar,value:gt}}},T=X(M);const v=function te(U){const ne=function re(U){return(0,z.Q5)(U,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...U})}(U),{P:ge}=ne,Ae=hn=>(0,k.zi)(hn,ge),tt=ne.montgomeryBits,Bt=Math.ceil(tt/8),gt=ne.nByteLength,It=ne.adjustScalarBytes||(hn=>hn),Zt=ne.powPminus2||(hn=>(0,k.n7)(hn,ge-BigInt(2),ge));function mn(hn,hr,vt){const St=Ae(hn*(hr-vt));return[hr=Ae(hr-St),vt=Ae(vt+St)]}function dn(hn){if("bigint"==typeof hn&&j<=hn&&hn<ge)return hn;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const ar=(ne.a-BigInt(2))/BigInt(4);function en(hn){return(0,z.z)(Ae(hn),Bt)}function ft(hn,hr){const vt=function Qt(hn){const hr=(0,z.qj)("u coordinate",hn,Bt);return 32===gt&&(hr[31]&=127),(0,z.lX)(hr)}(hr),St=function Et(hn){const hr=(0,z.qj)("scalar",hn),vt=hr.length;if(vt!==Bt&&vt!==gt)throw new Error(`Expected ${Bt} or ${gt} bytes, got ${vt}`);return(0,z.lX)(It(hr))}(hn),Mt=function An(hn,hr){const vt=dn(hn),St=dn(hr),Mt=vt;let Wn,Ye=G,nt=j,Wt=vt,Nt=G,un=j;for(let kn=BigInt(tt-1);kn>=j;kn--){const Or=St>>kn&G;un^=Or,Wn=mn(un,Ye,Wt),Ye=Wn[0],Wt=Wn[1],Wn=mn(un,nt,Nt),nt=Wn[0],Nt=Wn[1],un=Or;const Jn=Ye+nt,Fn=Ae(Jn*Jn),Lt=Ye-nt,et=Ae(Lt*Lt),Te=Fn-et,Ne=Wt+Nt,nn=Ae((Wt-Nt)*Jn),In=Ae(Ne*Lt),Kn=nn+In,er=nn-In;Wt=Ae(Kn*Kn),Nt=Ae(Mt*Ae(er*er)),Ye=Ae(Fn*et),nt=Ae(Te*(Fn+Ae(ar*Te)))}Wn=mn(un,Ye,Wt),Ye=Wn[0],Wt=Wn[1],Wn=mn(un,nt,Nt),nt=Wn[0],Nt=Wn[1];const En=Zt(nt);return Ae(Ye*En)}(vt,St);if(Mt===j)throw new Error("Invalid private or public key received");return en(Mt)}const Ht=en(ne.Gu);function qt(hn){return ft(hn,Ht)}return{scalarMult:ft,scalarMultBase:qt,getSharedSecret:(hn,hr)=>ft(hn,hr),getPublicKey:hn=>qt(hn),utils:{randomPrivateKey:()=>ne.randomBytes(ne.nByteLength)},GuBytes:Ht}}({P:J,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:U=>{const ne=J,{pow_p_5_8:ge,b2:Ae}=C(U);return(0,k.zi)((0,k.zH)(ge,BigInt(3),ne)*Ae,ne)},adjustScalarBytes:a,randomBytes:E.po});function W(U){const{y:ne}=T.ExtendedPoint.fromHex(U),ge=BigInt(1);return g.toBytes(g.create((ge+ne)*g.inv(ge-ne)))}function ee(U){const ne=M.hash(U.subarray(0,32));return M.adjustScalarBytes(ne).subarray(0,32)}const ce=(g.ORDER+BigInt(3))/BigInt(8);g.pow(se,ce),g.sqrt(g.neg(g.ONE)),BigInt(5),BigInt(8),BigInt(486662),(0,k.Tv)(g,g.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")},40499:(je,H,w)=>{"use strict";w.d(H,{Ag:()=>P});var d=w(2716),E=w(47565);const z=(0,w(35765).D0)(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),x=z.create(BigInt("-3")),O=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),P=(0,d.s)({a:x,b:O,Fp:z,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},E.s)},94256:(je,H,w)=>{"use strict";w.d(H,{bI:()=>D});var d=w(47565),E=w(35765),k=w(2716);const z=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),x=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),O=BigInt(1),A=BigInt(2),P=(S,s)=>(S+s/A)/s;const L=(0,E.D0)(z,void 0,void 0,{sqrt:function F(S){const s=z,v=BigInt(3),W=BigInt(6),K=BigInt(11),ee=BigInt(22),ce=BigInt(23),_e=BigInt(44),Oe=BigInt(88),Ve=S*S*S%s,Se=Ve*Ve*S%s,we=(0,E.zH)(Se,v,s)*Se%s,Ue=(0,E.zH)(we,v,s)*Se%s,ye=(0,E.zH)(Ue,A,s)*Ve%s,De=(0,E.zH)(ye,K,s)*ye%s,pe=(0,E.zH)(De,ee,s)*De%s,ue=(0,E.zH)(pe,_e,s)*pe%s,Q=(0,E.zH)(ue,Oe,s)*ue%s,oe=(0,E.zH)(Q,_e,s)*pe%s,fe=(0,E.zH)(oe,v,s)*Se%s,Ee=(0,E.zH)(fe,ce,s)*De%s,Re=(0,E.zH)(Ee,W,s)*Ve%s,$e=(0,E.zH)(Re,A,s);if(!L.eql(L.sqr($e),S))throw new Error("Cannot find square root");return $e}}),D=(0,k.s)({a:BigInt(0),b:BigInt(7),Fp:L,n:x,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:S=>{const s=x,v=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),W=-O*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),K=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),ee=v,ce=BigInt("0x100000000000000000000000000000000"),_e=P(ee*S,s),Oe=P(-W*S,s);let Ve=(0,E.zi)(S-_e*v-Oe*K,s),Se=(0,E.zi)(-_e*W-Oe*ee,s);const we=Ve>ce,Ue=Se>ce;if(we&&(Ve=s-Ve),Ue&&(Se=s-Se),Ve>ce||Se>ce)throw new Error("splitScalar: Endomorphism failed, k="+S);return{k1neg:we,k1:Ve,k2neg:Ue,k2:Se}}}},d.s);BigInt(0)},63741:(je,H,w)=>{"use strict";w.d(H,{Rn:()=>s,Wp:()=>Ue,kv:()=>Oe,wJ:()=>ee});var d=w(10467);const E=2n**255n-19n,k=2n**252n+27742317777372353535851937790883648493n,z=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,x=0x6666666666666666666666666666666666666666666666666666666666666658n,O={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:E,n:k,h:8,Gx:z,Gy:x},A=(ue="")=>{throw new Error(ue)},P=ue=>"string"==typeof ue,F=(ue,Q)=>!(ue instanceof Uint8Array)||"number"==typeof Q&&Q>0&&ue.length!==Q?A("Uint8Array expected"):ue,L=ue=>new Uint8Array(ue),D=(ue,Q)=>F(P(ue)?ae(ue):L(ue),Q),X=(ue,Q=E)=>{let oe=ue%Q;return oe>=0n?oe:Q+oe},j=ue=>ue instanceof re?ue:A("Point expected");let G;class re{constructor(Q,oe,fe,Ee){this.ex=Q,this.ey=oe,this.ez=fe,this.et=Ee}static fromAffine(Q){return new re(Q.x,Q.y,1n,X(Q.x*Q.y))}static fromHex(Q,oe=!0){const{d:fe}=O,Ee=(Q=D(Q,32)).slice();Ee[31]=-129&Q[31];const Re=de(Ee);0n===Re||(oe&&!(0n<Re&&Re<E)&&A("bad y coord 1"),!oe&&!(0n<Re&&Re<2n**256n)&&A("bad y coord 2"));const $e=X(Re*Re),Fe=X($e-1n),_t=X(fe*$e+1n);let{isValid:We,value:Le}=a(Fe,_t);return We||A("bad y coordinate 3"),!!(128&Q[31])!=(1n===(1n&Le))&&(Le=X(-Le)),new re(Le,Re,1n,X(Le*Re))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(Q){const{ex:oe,ey:fe,ez:Ee}=this,{ex:Re,ey:$e,ez:Fe}=j(Q),_t=X(oe*Fe),We=X(Re*Ee),Le=X(fe*Fe),lt=X($e*Ee);return _t===We&&Le===lt}is0(){return this.equals(J)}negate(){return new re(X(-this.ex),this.ey,this.ez,X(-this.et))}double(){const{ex:Q,ey:oe,ez:fe}=this,{a:Ee}=O,Re=X(Q*Q),$e=X(oe*oe),Fe=X(2n*X(fe*fe)),_t=X(Ee*Re),We=Q+oe,Le=X(X(We*We)-Re-$e),lt=_t+$e,N=lt-Fe,_=_t-$e,m=X(Le*N),U=X(lt*_),ne=X(Le*_),ge=X(N*lt);return new re(m,U,ge,ne)}add(Q){const{ex:oe,ey:fe,ez:Ee,et:Re}=this,{ex:$e,ey:Fe,ez:_t,et:We}=j(Q),{a:Le,d:lt}=O,N=X(oe*$e),_=X(fe*Fe),m=X(Re*lt*We),U=X(Ee*_t),ne=X((oe+fe)*($e+Fe)-N-_),ge=X(U-m),Ae=X(U+m),tt=X(_-Le*N),Bt=X(ne*ge),gt=X(Ae*tt),It=X(ne*tt),Zt=X(ge*Ae);return new re(Bt,gt,Zt,It)}mul(Q,oe=!0){if(0n===Q)return!0===oe?A("cannot multiply by 0"):J;if("bigint"==typeof Q&&0n<Q&&Q<k||A("invalid scalar, must be < L"),!oe&&this.is0()||1n===Q)return this;if(this.equals(te))return pe(Q).p;let fe=J,Ee=te;for(let Re=this;Q>0n;Re=Re.double(),Q>>=1n)1n&Q?fe=fe.add(Re):oe&&(Ee=Ee.add(Re));return fe}multiply(Q){return this.mul(Q)}clearCofactor(){return this.mul(BigInt(O.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let Q=this.mul(k/2n,!1).double();return Q=Q.add(this),Q.is0()}toAffine(){const{ex:Q,ey:oe,ez:fe}=this;if(this.is0())return{x:0n,y:0n};const Ee=be(fe);return 1n!==X(fe*Ee)&&A("invalid inverse"),{x:X(Q*Ee),y:X(oe*Ee)}}toRawBytes(){const{x:Q,y:oe}=this.toAffine(),fe=se(oe);return fe[31]|=1n&Q?128:0,fe}toHex(){return ie(this.toRawBytes())}}re.BASE=new re(z,x,1n,X(z*x)),re.ZERO=new re(0n,1n,1n,0n);const{BASE:te,ZERO:J}=re,Z=(ue,Q)=>ue.toString(16).padStart(Q,"0"),ie=ue=>Array.from(ue).map(Q=>Z(Q,2)).join(""),ae=ue=>{const Q=ue.length;(!P(ue)||Q%2)&&A("hex invalid 1");const oe=L(Q/2);for(let fe=0;fe<oe.length;fe++){const Ee=2*fe,Re=ue.slice(Ee,Ee+2),$e=Number.parseInt(Re,16);(Number.isNaN($e)||$e<0)&&A("hex invalid 2"),oe[fe]=$e}return oe},se=ue=>ae(Z(ue,64)).reverse(),de=ue=>BigInt("0x"+ie(L(F(ue)).reverse())),le=(...ue)=>{const Q=L(ue.reduce((fe,Ee)=>fe+F(Ee).length,0));let oe=0;return ue.forEach(fe=>{Q.set(fe,oe),oe+=fe.length}),Q},be=(ue,Q=E)=>{(0n===ue||Q<=0n)&&A("no inverse n="+ue+" mod="+Q);let oe=X(ue,Q),fe=Q,Ee=0n,Re=1n,$e=1n,Fe=0n;for(;0n!==oe;){const _t=fe/oe,We=fe%oe,Le=Ee-$e*_t,lt=Re-Fe*_t;fe=oe,oe=We,Ee=$e,Re=Fe,$e=Le,Fe=lt}return 1n===fe?X(Ee,Q):A("no inverse")},xe=(ue,Q)=>{let oe=ue;for(;Q-- >0n;)oe*=oe,oe%=E;return oe},C=19681161376707505956807079304988542015446066515923890162744021073123829784752n,a=(ue,Q)=>{const oe=X(Q*Q*Q),Ee=(ue=>{const oe=ue*ue%E*ue%E,fe=xe(oe,2n)*oe%E,Ee=xe(fe,1n)*ue%E,Re=xe(Ee,5n)*Ee%E,$e=xe(Re,10n)*Re%E,Fe=xe($e,20n)*$e%E,_t=xe(Fe,40n)*Fe%E,We=xe(_t,80n)*_t%E,Le=xe(We,80n)*_t%E,lt=xe(Le,10n)*Re%E;return{pow_p_5_8:xe(lt,2n)*ue%E,b2:oe}})(ue*X(oe*oe*Q)).pow_p_5_8;let Re=X(ue*oe*Ee);const $e=X(Q*Re*Re),Fe=Re,_t=X(Re*C),We=$e===ue,Le=$e===X(-ue),lt=$e===X(-ue*C);return We&&(Re=Fe),(Le||lt)&&(Re=_t),1n===(1n&X(Re))&&(Re=X(-Re)),{isValid:We||Le,value:Re}},f=ue=>X(de(ue),k);let y;const g=(...ue)=>we.sha512Async(...ue),M=(...ue)=>"function"==typeof y?y(...ue):A("etc.sha512Sync not set"),T=ue=>{const Q=ue.slice(0,32);Q[0]&=248,Q[31]&=127,Q[31]|=64;const oe=ue.slice(32,64),fe=f(Q),Ee=te.mul(fe),Re=Ee.toRawBytes();return{head:Q,prefix:oe,scalar:fe,point:Ee,pointBytes:Re}},B=ue=>g(D(ue,32)).then(T),s=ue=>B(ue).then(Q=>Q.pointBytes);function W(ue,Q){return ue?g(Q.hashable).then(Q.finish):Q.finish(M(Q.hashable))}const ee=function(){var ue=(0,d.A)(function*(Q,oe){const fe=D(Q),Ee=yield B(oe);return W(!0,((ue,Q,oe)=>{const{pointBytes:fe,scalar:Ee}=ue,Re=f(Q),$e=te.mul(Re).toRawBytes();return{hashable:le($e,fe,oe),finish:We=>{const Le=X(Re+f(We)*Ee,k);return F(le($e,se(Le)),64)}}})(Ee,yield g(Ee.prefix,fe),fe))});return function(oe,fe){return ue.apply(this,arguments)}}(),Oe=function(){var ue=(0,d.A)(function*(Q,oe,fe){return W(!0,((ue,Q,oe)=>{Q=D(Q),ue=D(ue,64);const fe=re.fromHex(oe,!1),Ee=re.fromHex(ue.slice(0,32),!1),Re=de(ue.slice(32,64)),$e=te.mul(Re,!1);return{hashable:le(Ee.toRawBytes(),fe.toRawBytes(),Q),finish:We=>{const Le=f(We);return Ee.add(fe.mul(Le,!1)).add($e.negate()).clearCofactor().is0()}}})(Q,oe,fe))});return function(oe,fe,Ee){return ue.apply(this,arguments)}}(),Se=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,we={bytesToHex:ie,hexToBytes:ae,concatBytes:le,mod:X,invert:be,randomBytes:ue=>{const Q=Se();return Q||A("crypto.getRandomValues must be defined"),Q.getRandomValues(L(ue))},sha512Async:(ue=(0,d.A)(function*(...Q){const oe=Se();oe||A("crypto.subtle or etc.sha512Async must be defined");const fe=le(...Q);return L(yield oe.subtle.digest("SHA-512",fe.buffer))}),function(){return ue.apply(this,arguments)}),sha512Sync:void 0};var ue;Object.defineProperties(we,{sha512Sync:{configurable:!1,get:()=>y,set(ue){y||(y=ue)}}});const Ue={getExtendedPublicKeyAsync:B,getExtendedPublicKey:ue=>T(M(D(ue,32))),randomPrivateKey:()=>we.randomBytes(32),precompute:(ue=8,Q=te)=>(Q.multiply(3n),Q)},pe=ue=>{const Q=G||(G=(()=>{const ue=[];let oe=te,fe=oe;for(let Ee=0;Ee<33;Ee++){fe=oe,ue.push(fe);for(let Re=1;Re<128;Re++)fe=fe.add(oe),ue.push(fe);oe=fe.double()}return ue})()),oe=(Le,lt)=>{let N=lt.negate();return Le?N:lt};let fe=J,Ee=te;const Fe=BigInt(255),We=BigInt(8);for(let Le=0;Le<33;Le++){const lt=128*Le;let N=Number(ue&Fe);ue>>=We,N>128&&(N-=256,ue+=1n);const _=lt,m=lt+Math.abs(N)-1,ne=N<0;0===N?Ee=Ee.add(oe(Le%2!=0,Q[_])):fe=fe.add(oe(ne,Q[m]))}return{p:fe,f:Ee}}},37099:(je,H,w)=>{"use strict";function d(L){if(!Number.isSafeInteger(L)||L<0)throw new Error(`Wrong positive integer: ${L}`)}function z(L,...D){if(!function k(L){return L instanceof Uint8Array||null!=L&&"object"==typeof L&&"Uint8Array"===L.constructor.name}(L))throw new Error("Expected Uint8Array");if(D.length>0&&!D.includes(L.length))throw new Error(`Expected Uint8Array of length ${D}, not of length=${L.length}`)}function x(L){if("function"!=typeof L||"function"!=typeof L.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");d(L.outputLen),d(L.blockLen)}function O(L,D=!0){if(L.destroyed)throw new Error("Hash instance has been destroyed");if(D&&L.finished)throw new Error("Hash#digest() has already been called")}function A(L,D){z(L);const X=D.outputLen;if(L.length<X)throw new Error(`digestInto() expects output buffer of length at least ${X}`)}w.d(H,{CG:()=>A,ai:()=>d,ee:()=>z,t2:()=>O,tW:()=>x})},36405:(je,H,w)=>{"use strict";w.d(H,{D:()=>z});var d=w(37099),E=w(62953);class z extends E.Vw{constructor(O,A,P,F){super(),this.blockLen=O,this.outputLen=A,this.padOffset=P,this.isLE=F,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(O),this.view=(0,E.O8)(this.buffer)}update(O){(0,d.t2)(this);const{view:A,buffer:P,blockLen:F}=this,L=(O=(0,E.ZJ)(O)).length;for(let D=0;D<L;){const X=Math.min(F-this.pos,L-D);if(X!==F)P.set(O.subarray(D,D+X),this.pos),this.pos+=X,D+=X,this.pos===F&&(this.process(A,0),this.pos=0);else{const j=(0,E.O8)(O);for(;F<=L-D;D+=F)this.process(j,D)}}return this.length+=O.length,this.roundClean(),this}digestInto(O){(0,d.t2)(this),(0,d.CG)(O,this),this.finished=!0;const{buffer:A,view:P,blockLen:F,isLE:L}=this;let{pos:D}=this;A[D++]=128,this.buffer.subarray(D).fill(0),this.padOffset>F-D&&(this.process(P,0),D=0);for(let te=D;te<F;te++)A[te]=0;(function k(x,O,A,P){if("function"==typeof x.setBigUint64)return x.setBigUint64(O,A,P);const F=BigInt(32),L=BigInt(4294967295),D=Number(A>>F&L),X=Number(A&L),G=P?0:4;x.setUint32(O+(P?4:0),D,P),x.setUint32(O+G,X,P)})(P,F-8,BigInt(8*this.length),L),this.process(P,0);const X=(0,E.O8)(O),j=this.outputLen;if(j%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const G=j/4,re=this.get();if(G>re.length)throw new Error("_sha2: outputLen bigger than state");for(let te=0;te<G;te++)X.setUint32(4*te,re[te],L)}digest(){const{buffer:O,outputLen:A}=this;this.digestInto(O);const P=O.slice(0,A);return this.destroy(),P}_cloneInto(O){O||(O=new this.constructor),O.set(...this.get());const{blockLen:A,buffer:P,length:F,finished:L,destroyed:D,pos:X}=this;return O.length=F,O.pos=X,O.finished=L,O.destroyed=D,F%A&&O.buffer.set(P),O}}},86703:(je,H,w)=>{"use strict";w.d(H,{E:()=>d});const d="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},75781:(je,H,w)=>{"use strict";w.d(H,{w:()=>z});var d=w(37099),E=w(62953);class k extends E.Vw{constructor(O,A){super(),this.finished=!1,this.destroyed=!1,(0,d.tW)(O);const P=(0,E.ZJ)(A);if(this.iHash=O.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const F=this.blockLen,L=new Uint8Array(F);L.set(P.length>F?O.create().update(P).digest():P);for(let D=0;D<L.length;D++)L[D]^=54;this.iHash.update(L),this.oHash=O.create();for(let D=0;D<L.length;D++)L[D]^=106;this.oHash.update(L),L.fill(0)}update(O){return(0,d.t2)(this),this.iHash.update(O),this}digestInto(O){(0,d.t2)(this),(0,d.ee)(O,this.outputLen),this.finished=!0,this.iHash.digestInto(O),this.oHash.update(O),this.oHash.digestInto(O),this.destroy()}digest(){const O=new Uint8Array(this.oHash.outputLen);return this.digestInto(O),O}_cloneInto(O){O||(O=Object.create(Object.getPrototypeOf(this),{}));const{oHash:A,iHash:P,finished:F,destroyed:L,blockLen:D,outputLen:X}=this;return O.finished=F,O.destroyed=L,O.blockLen=D,O.outputLen=X,O.oHash=A._cloneInto(O.oHash),O.iHash=P._cloneInto(O.iHash),O}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const z=(x,O,A)=>new k(x,O).update(A).digest();z.create=(x,O)=>new k(x,O)},47565:(je,H,w)=>{"use strict";w.d(H,{s:()=>L});var d=w(36405),E=w(62953);const k=(X,j,G)=>X&j^~X&G,z=(X,j,G)=>X&j^X&G^j&G,x=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),O=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),A=new Uint32Array(64);class P extends d.D{constructor(){super(64,32,8,!1),this.A=0|O[0],this.B=0|O[1],this.C=0|O[2],this.D=0|O[3],this.E=0|O[4],this.F=0|O[5],this.G=0|O[6],this.H=0|O[7]}get(){const{A:j,B:G,C:re,D:te,E:J,F:Z,G:ie,H:ae}=this;return[j,G,re,te,J,Z,ie,ae]}set(j,G,re,te,J,Z,ie,ae){this.A=0|j,this.B=0|G,this.C=0|re,this.D=0|te,this.E=0|J,this.F=0|Z,this.G=0|ie,this.H=0|ae}process(j,G){for(let le=0;le<16;le++,G+=4)A[le]=j.getUint32(G,!1);for(let le=16;le<64;le++){const be=A[le-15],xe=A[le-2],ke=(0,E.Ow)(be,7)^(0,E.Ow)(be,18)^be>>>3,C=(0,E.Ow)(xe,17)^(0,E.Ow)(xe,19)^xe>>>10;A[le]=C+A[le-7]+ke+A[le-16]|0}let{A:re,B:te,C:J,D:Z,E:ie,F:ae,G:se,H:de}=this;for(let le=0;le<64;le++){const xe=de+((0,E.Ow)(ie,6)^(0,E.Ow)(ie,11)^(0,E.Ow)(ie,25))+k(ie,ae,se)+x[le]+A[le]|0,C=((0,E.Ow)(re,2)^(0,E.Ow)(re,13)^(0,E.Ow)(re,22))+z(re,te,J)|0;de=se,se=ae,ae=ie,ie=Z+xe|0,Z=J,J=te,te=re,re=xe+C|0}re=re+this.A|0,te=te+this.B|0,J=J+this.C|0,Z=Z+this.D|0,ie=ie+this.E|0,ae=ae+this.F|0,se=se+this.G|0,de=de+this.H|0,this.set(re,te,J,Z,ie,ae,se,de)}roundClean(){A.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const L=(0,E.ld)(()=>new P)},25431:(je,H,w)=>{"use strict";w.d(H,{Zf:()=>v});var d=w(36405);const E=BigInt(2**32-1),k=BigInt(32);function z(ce,_e=!1){return _e?{h:Number(ce&E),l:Number(ce>>k&E)}:{h:0|Number(ce>>k&E),l:0|Number(ce&E)}}const C_split=function x(ce,_e=!1){let Oe=new Uint32Array(ce.length),Ve=new Uint32Array(ce.length);for(let Se=0;Se<ce.length;Se++){const{h:we,l:Ue}=z(ce[Se],_e);[Oe[Se],Ve[Se]]=[we,Ue]}return[Oe,Ve]},C_shrSH=(ce,_e,Oe)=>ce>>>Oe,C_shrSL=(ce,_e,Oe)=>ce<<32-Oe|_e>>>Oe,C_rotrSH=(ce,_e,Oe)=>ce>>>Oe|_e<<32-Oe,C_rotrSL=(ce,_e,Oe)=>ce<<32-Oe|_e>>>Oe,C_rotrBH=(ce,_e,Oe)=>ce<<64-Oe|_e>>>Oe-32,C_rotrBL=(ce,_e,Oe)=>ce>>>Oe-32|_e<<64-Oe,C_add=function ie(ce,_e,Oe,Ve){const Se=(_e>>>0)+(Ve>>>0);return{h:ce+Oe+(Se/2**32|0)|0,l:0|Se}},C_add3L=(ce,_e,Oe)=>(ce>>>0)+(_e>>>0)+(Oe>>>0),C_add3H=(ce,_e,Oe,Ve)=>_e+Oe+Ve+(ce/2**32|0)|0,C_add4L=(ce,_e,Oe,Ve)=>(ce>>>0)+(_e>>>0)+(Oe>>>0)+(Ve>>>0),C_add4H=(ce,_e,Oe,Ve,Se)=>_e+Oe+Ve+Se+(ce/2**32|0)|0,C_add5H=(ce,_e,Oe,Ve,Se,we)=>_e+Oe+Ve+Se+we+(ce/2**32|0)|0,C_add5L=(ce,_e,Oe,Ve,Se)=>(ce>>>0)+(_e>>>0)+(Oe>>>0)+(Ve>>>0)+(Se>>>0);var a=w(62953);const[f,y]=C_split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(ce=>BigInt(ce))),g=new Uint32Array(80),M=new Uint32Array(80);class T extends d.D{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:_e,Al:Oe,Bh:Ve,Bl:Se,Ch:we,Cl:Ue,Dh:ye,Dl:De,Eh:pe,El:ue,Fh:Q,Fl:oe,Gh:fe,Gl:Ee,Hh:Re,Hl:$e}=this;return[_e,Oe,Ve,Se,we,Ue,ye,De,pe,ue,Q,oe,fe,Ee,Re,$e]}set(_e,Oe,Ve,Se,we,Ue,ye,De,pe,ue,Q,oe,fe,Ee,Re,$e){this.Ah=0|_e,this.Al=0|Oe,this.Bh=0|Ve,this.Bl=0|Se,this.Ch=0|we,this.Cl=0|Ue,this.Dh=0|ye,this.Dl=0|De,this.Eh=0|pe,this.El=0|ue,this.Fh=0|Q,this.Fl=0|oe,this.Gh=0|fe,this.Gl=0|Ee,this.Hh=0|Re,this.Hl=0|$e}process(_e,Oe){for(let We=0;We<16;We++,Oe+=4)g[We]=_e.getUint32(Oe),M[We]=_e.getUint32(Oe+=4);for(let We=16;We<80;We++){const Le=0|g[We-15],lt=0|M[We-15],N=C_rotrSH(Le,lt,1)^C_rotrSH(Le,lt,8)^C_shrSH(Le,lt,7),_=C_rotrSL(Le,lt,1)^C_rotrSL(Le,lt,8)^C_shrSL(Le,lt,7),m=0|g[We-2],U=0|M[We-2],ne=C_rotrSH(m,U,19)^C_rotrBH(m,U,61)^C_shrSH(m,U,6),ge=C_rotrSL(m,U,19)^C_rotrBL(m,U,61)^C_shrSL(m,U,6),Ae=C_add4L(_,ge,M[We-7],M[We-16]),tt=C_add4H(Ae,N,ne,g[We-7],g[We-16]);g[We]=0|tt,M[We]=0|Ae}let{Ah:Ve,Al:Se,Bh:we,Bl:Ue,Ch:ye,Cl:De,Dh:pe,Dl:ue,Eh:Q,El:oe,Fh:fe,Fl:Ee,Gh:Re,Gl:$e,Hh:Fe,Hl:_t}=this;for(let We=0;We<80;We++){const Le=C_rotrSH(Q,oe,14)^C_rotrSH(Q,oe,18)^C_rotrBH(Q,oe,41),lt=C_rotrSL(Q,oe,14)^C_rotrSL(Q,oe,18)^C_rotrBL(Q,oe,41),N=Q&fe^~Q&Re,m=C_add5L(_t,lt,oe&Ee^~oe&$e,y[We],M[We]),U=C_add5H(m,Fe,Le,N,f[We],g[We]),ne=0|m,ge=C_rotrSH(Ve,Se,28)^C_rotrBH(Ve,Se,34)^C_rotrBH(Ve,Se,39),Ae=C_rotrSL(Ve,Se,28)^C_rotrBL(Ve,Se,34)^C_rotrBL(Ve,Se,39),tt=Ve&we^Ve&ye^we&ye,Bt=Se&Ue^Se&De^Ue&De;Fe=0|Re,_t=0|$e,Re=0|fe,$e=0|Ee,fe=0|Q,Ee=0|oe,({h:Q,l:oe}=C_add(0|pe,0|ue,0|U,0|ne)),pe=0|ye,ue=0|De,ye=0|we,De=0|Ue,we=0|Ve,Ue=0|Se;const gt=C_add3L(ne,Ae,Bt);Ve=C_add3H(gt,U,ge,tt),Se=0|gt}({h:Ve,l:Se}=C_add(0|this.Ah,0|this.Al,0|Ve,0|Se)),({h:we,l:Ue}=C_add(0|this.Bh,0|this.Bl,0|we,0|Ue)),({h:ye,l:De}=C_add(0|this.Ch,0|this.Cl,0|ye,0|De)),({h:pe,l:ue}=C_add(0|this.Dh,0|this.Dl,0|pe,0|ue)),({h:Q,l:oe}=C_add(0|this.Eh,0|this.El,0|Q,0|oe)),({h:fe,l:Ee}=C_add(0|this.Fh,0|this.Fl,0|fe,0|Ee)),({h:Re,l:$e}=C_add(0|this.Gh,0|this.Gl,0|Re,0|$e)),({h:Fe,l:_t}=C_add(0|this.Hh,0|this.Hl,0|Fe,0|_t)),this.set(Ve,Se,we,Ue,ye,De,pe,ue,Q,oe,fe,Ee,Re,$e,Fe,_t)}roundClean(){g.fill(0),M.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const v=(0,a.ld)(()=>new T)},62953:(je,H,w)=>{"use strict";w.d(H,{$h:()=>re,AI:()=>J,Id:()=>ie,My:()=>L,O8:()=>O,Ow:()=>A,Vw:()=>ae,ZJ:()=>Z,aT:()=>j,ld:()=>le,po:()=>ke,tY:()=>de});var d=w(10467),E=w(86703);function x(C){return C instanceof Uint8Array||null!=C&&"object"==typeof C&&"Uint8Array"===C.constructor.name}const O=C=>new DataView(C.buffer,C.byteOffset,C.byteLength),A=(C,a)=>C<<32-a|C>>>a;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const F=Array.from({length:256},(C,a)=>a.toString(16).padStart(2,"0"));function L(C){if(!x(C))throw new Error("Uint8Array expected");let a="";for(let f=0;f<C.length;f++)a+=F[C[f]];return a}const D={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function X(C){return C>=D._0&&C<=D._9?C-D._0:C>=D._A&&C<=D._F?C-(D._A-10):C>=D._a&&C<=D._f?C-(D._a-10):void 0}function j(C){if("string"!=typeof C)throw new Error("hex string expected, got "+typeof C);const a=C.length,f=a/2;if(a%2)throw new Error("padded hex string expected, got unpadded hex of length "+a);const y=new Uint8Array(f);for(let g=0,M=0;g<f;g++,M+=2){const T=X(C.charCodeAt(M)),B=X(C.charCodeAt(M+1));if(void 0===T||void 0===B)throw new Error('hex string expected, got non-hex character "'+(C[M]+C[M+1])+'" at index '+M);y[g]=16*T+B}return y}const G=function(){var C=(0,d.A)(function*(){});return function(){return C.apply(this,arguments)}}();function re(C,a,f){return te.apply(this,arguments)}function te(){return(te=(0,d.A)(function*(C,a,f){let y=Date.now();for(let g=0;g<C;g++){f(g);const M=Date.now()-y;M>=0&&M<a||(yield G(),y+=M)}})).apply(this,arguments)}function J(C){if("string"!=typeof C)throw new Error("utf8ToBytes expected string, got "+typeof C);return new Uint8Array((new TextEncoder).encode(C))}function Z(C){if("string"==typeof C&&(C=J(C)),!x(C))throw new Error("expected Uint8Array, got "+typeof C);return C}function ie(...C){let a=0;for(let y=0;y<C.length;y++){const g=C[y];if(!x(g))throw new Error("Uint8Array expected");a+=g.length}const f=new Uint8Array(a);for(let y=0,g=0;y<C.length;y++){const M=C[y];f.set(M,g),g+=M.length}return f}class ae{clone(){return this._cloneInto()}}const se={}.toString;function de(C,a){if(void 0!==a&&"[object Object]"!==se.call(a))throw new Error("Options should be object or undefined");return Object.assign(C,a)}function le(C){const a=y=>C().update(Z(y)).digest(),f=C();return a.outputLen=f.outputLen,a.blockLen=f.blockLen,a.create=()=>C(),a}function ke(C=32){if(E.E&&"function"==typeof E.E.getRandomValues)return E.E.getRandomValues(new Uint8Array(C));throw new Error("crypto.getRandomValues must be defined")}},68464:(je,H,w)=>{"use strict";w.d(H,{CB:()=>se,MX:()=>pe,Wp:()=>fe,jn:()=>oe,lG:()=>s,wJ:()=>Ue});var d=w(10467);const E=2n**256n,k=E-0x1000003d1n,z=E-0x14551231950b75fc4402da1732fc9bebfn,x=0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798n,O=0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8n,A={p:k,n:z,a:0n,b:7n,Gx:x,Gy:O},P=32,F=Fe=>Z(Z(Fe*Fe)*Fe+A.b),L=(Fe="")=>{throw new Error(Fe)},D=Fe=>"bigint"==typeof Fe,X=Fe=>"string"==typeof Fe,j=Fe=>D(Fe)&&0n<Fe&&Fe<k,G=Fe=>D(Fe)&&0n<Fe&&Fe<z,re=(Fe,_t)=>!(Fe instanceof Uint8Array)||"number"==typeof _t&&_t>0&&Fe.length!==_t?L("Uint8Array expected"):Fe,te=Fe=>new Uint8Array(Fe),J=(Fe,_t)=>re(X(Fe)?ke(Fe):te(Fe),_t),Z=(Fe,_t=k)=>{let We=Fe%_t;return We>=0n?We:_t+We},ie=Fe=>Fe instanceof se?Fe:L("Point expected");let ae;class se{constructor(_t,We,Le){this.px=_t,this.py=We,this.pz=Le}static fromAffine(_t){return new se(_t.x,_t.y,1n)}static fromHex(_t){let We;const Le=(_t=J(_t))[0],lt=_t.subarray(1),N=a(lt,0,P),_=_t.length;if(33===_&&[2,3].includes(Le)){j(N)||L("Point hex invalid: x not FE");let m=T(F(N));!(1&~Le)!=(1n===(1n&m))&&(m=Z(-m)),We=new se(N,m,1n)}return 65===_&&4===Le&&(We=new se(N,a(lt,P,2*P),1n)),We?We.ok():L("Point is not on curve")}static fromPrivateKey(_t){return de.mul(B(_t))}get x(){return this.aff().x}get y(){return this.aff().y}equals(_t){const{px:We,py:Le,pz:lt}=this,{px:N,py:_,pz:m}=ie(_t),U=Z(We*m),ne=Z(N*lt),ge=Z(Le*m),Ae=Z(_*lt);return U===ne&&ge===Ae}negate(){return new se(this.px,Z(-this.py),this.pz)}double(){return this.add(this)}add(_t){const{px:We,py:Le,pz:lt}=this,{px:N,py:_,pz:m}=ie(_t),{a:U,b:ne}=A;let ge=0n,Ae=0n,tt=0n;const Bt=Z(3n*ne);let gt=Z(We*N),It=Z(Le*_),Zt=Z(lt*m),mn=Z(We+Le),dn=Z(N+_);mn=Z(mn*dn),dn=Z(gt+It),mn=Z(mn-dn),dn=Z(We+lt);let ar=Z(N+m);return dn=Z(dn*ar),ar=Z(gt+Zt),dn=Z(dn-ar),ar=Z(Le+lt),ge=Z(_+m),ar=Z(ar*ge),ge=Z(It+Zt),ar=Z(ar-ge),tt=Z(U*dn),ge=Z(Bt*Zt),tt=Z(ge+tt),ge=Z(It-tt),tt=Z(It+tt),Ae=Z(ge*tt),It=Z(gt+gt),It=Z(It+gt),Zt=Z(U*Zt),dn=Z(Bt*dn),It=Z(It+Zt),Zt=Z(gt-Zt),Zt=Z(U*Zt),dn=Z(dn+Zt),gt=Z(It*dn),Ae=Z(Ae+gt),gt=Z(ar*dn),ge=Z(mn*ge),ge=Z(ge-gt),gt=Z(mn*It),tt=Z(ar*tt),tt=Z(tt+gt),new se(ge,Ae,tt)}mul(_t,We=!0){if(!We&&0n===_t)return le;if(G(_t)||L("invalid scalar"),this.equals(de))return $e(_t).p;let Le=le,lt=de;for(let N=this;_t>0n;N=N.double(),_t>>=1n)1n&_t?Le=Le.add(N):We&&(lt=lt.add(N));return Le}mulAddQUns(_t,We,Le){return this.mul(We,!1).add(_t.mul(Le,!1)).ok()}toAffine(){const{px:_t,py:We,pz:Le}=this;if(this.equals(le))return{x:0n,y:0n};if(1n===Le)return{x:_t,y:We};const lt=M(Le);return 1n!==Z(Le*lt)&&L("invalid inverse"),{x:Z(_t*lt),y:Z(We*lt)}}assertValidity(){const{x:_t,y:We}=this.aff();return(!j(_t)||!j(We))&&L("Point invalid: x or y"),Z(We*We)===F(_t)?this:L("Point invalid: not on curve")}multiply(_t){return this.mul(_t)}aff(){return this.toAffine()}ok(){return this.assertValidity()}toHex(_t=!0){const{x:We,y:Le}=this.aff();return(_t?0n===(1n&Le)?"02":"03":"04")+y(We)+(_t?"":y(Le))}toRawBytes(_t=!0){return ke(this.toHex(_t))}}se.BASE=new se(x,O,1n),se.ZERO=new se(0n,1n,0n);const{BASE:de,ZERO:le}=se,be=(Fe,_t)=>Fe.toString(16).padStart(_t,"0"),xe=Fe=>Array.from(Fe).map(_t=>be(_t,2)).join(""),ke=Fe=>{const _t=Fe.length;(!X(Fe)||_t%2)&&L("hex invalid 1");const We=te(_t/2);for(let Le=0;Le<We.length;Le++){const lt=2*Le,N=Fe.slice(lt,lt+2),_=Number.parseInt(N,16);(Number.isNaN(_)||_<0)&&L("hex invalid 2"),We[Le]=_}return We},C=Fe=>BigInt("0x"+(xe(Fe)||"0")),a=(Fe,_t,We)=>C(Fe.slice(_t,We)),f=Fe=>D(Fe)&&Fe>=0n&&Fe<E?ke(be(Fe,2*P)):L("bigint expected"),y=Fe=>xe(f(Fe)),g=(...Fe)=>{const _t=te(Fe.reduce((Le,lt)=>Le+re(lt).length,0));let We=0;return Fe.forEach(Le=>{_t.set(Le,We),We+=Le.length}),_t},M=(Fe,_t=k)=>{(0n===Fe||_t<=0n)&&L("no inverse n="+Fe+" mod="+_t);let We=Z(Fe,_t),Le=_t,lt=0n,N=1n,_=1n,m=0n;for(;0n!==We;){const U=Le/We,ne=Le%We,ge=lt-_*U,Ae=N-m*U;Le=We,We=ne,lt=_,N=m,_=ge,m=Ae}return 1n===Le?Z(lt,_t):L("no inverse")},T=Fe=>{let _t=1n;for(let We=Fe,Le=(k+1n)/4n;Le>0n;Le>>=1n)1n&Le&&(_t=_t*We%k),We=We*We%k;return Z(_t*_t)===Fe?_t:L("sqrt invalid")},B=Fe=>(D(Fe)||(Fe=C(J(Fe,P))),G(Fe)?Fe:L("private key out of range")),S=Fe=>Fe>z>>1n;function s(Fe,_t=!0){return se.fromPrivateKey(Fe).toRawBytes(_t)}class v{constructor(_t,We,Le){this.r=_t,this.s=We,this.recovery=Le,this.assertValidity()}static fromCompact(_t){return _t=J(_t,64),new v(a(_t,0,P),a(_t,P,2*P))}assertValidity(){return G(this.r)&&G(this.s)?this:L()}addRecoveryBit(_t){return new v(this.r,this.s,_t)}hasHighS(){return S(this.s)}recoverPublicKey(_t){const{r:We,s:Le,recovery:lt}=this;[0,1,2,3].includes(lt)||L("recovery id invalid");const N=K(J(_t,32)),_=2===lt||3===lt?We+z:We;_>=k&&L("q.x invalid");const U=se.fromHex((1&lt?"03":"02")+y(_)),ne=M(_,z),ge=Z(-N*ne,z),Ae=Z(Le*ne,z);return de.mulAddQUns(U,ge,Ae)}toCompactRawBytes(){return ke(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const W=Fe=>{const _t=8*Fe.length-256,We=C(Fe);return _t>0?We>>BigInt(_t):We},K=Fe=>Z(W(Fe),z),ee=Fe=>f(Fe),ce=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;let _e;const Oe={lowS:!0},Ve={lowS:!0};function Ue(Fe,_t){return ye.apply(this,arguments)}function ye(){return(ye=(0,d.A)(function*(Fe,_t,We=Oe){const{seed:Le,k2sig:lt}=function Se(Fe,_t,We=Oe){["der","recovered","canonical"].some(Ae=>Ae in We)&&L("sign() legacy options not supported");let{lowS:Le}=We;null==Le&&(Le=!0);const lt=K(J(Fe)),N=ee(lt),_=B(_t),m=[ee(_),N];let U=We.extraEntropy;if(U){!0===U&&(U=oe.randomBytes(P));const Ae=J(U);Ae.length!==P&&L(),m.push(Ae)}const ne=lt;return{seed:g(...m),k2sig:Ae=>{const tt=W(Ae);if(!G(tt))return;const Bt=M(tt,z),gt=de.mul(tt).aff(),It=Z(gt.x,z);if(0n===It)return;const Zt=Z(Bt*Z(ne+Z(_*It,z),z),z);if(0n===Zt)return;let mn=Zt,dn=(gt.x===It?0:2)|Number(1n&gt.y);return Le&&S(Zt)&&(mn=Z(-Zt,z),dn^=1),new v(It,mn,dn)}}}(Fe,_t,We);return function we(Fe){let _t=te(P),We=te(P),Le=0;const lt=()=>{_t.fill(1),We.fill(0),Le=0},N="drbg: tried 1000 values";if(Fe){const _=(...ne)=>oe.hmacSha256Async(We,_t,...ne),m=function(){var ne=(0,d.A)(function*(ge=te()){We=yield _(te([0]),ge),_t=yield _(),0!==ge.length&&(We=yield _(te([1]),ge),_t=yield _())});return function(){return ne.apply(this,arguments)}}(),U=function(){var ne=(0,d.A)(function*(){return Le++>=1e3&&L(N),_t=yield _(),_t});return function(){return ne.apply(this,arguments)}}();return function(){var ne=(0,d.A)(function*(ge,Ae){let tt;for(lt(),yield m(ge);!(tt=Ae(yield U()));)yield m();return lt(),tt});return function(ge,Ae){return ne.apply(this,arguments)}}()}{const _=(...ne)=>{const ge=_e;return ge||L("etc.hmacSha256Sync not set"),ge(We,_t,...ne)},m=(ne=te())=>{We=_(te([0]),ne),_t=_(),0!==ne.length&&(We=_(te([1]),ne),_t=_())},U=()=>(Le++>=1e3&&L(N),_t=_(),_t);return(ne,ge)=>{let Ae;for(lt(),m(ne);!(Ae=ge(U()));)m();return lt(),Ae}}}(!0)(Le,lt)})).apply(this,arguments)}function pe(Fe,_t,We,Le=Ve){let N,_,m,{lowS:lt}=Le;null==lt&&(lt=!0),"strict"in Le&&L("verify() legacy options not supported");const U=Fe&&"object"==typeof Fe&&"r"in Fe;!U&&J(Fe).length!==2*P&&L("signature must be 64 bytes");try{N=U?new v(Fe.r,Fe.s).assertValidity():v.fromCompact(Fe),_=K(J(_t,P)),m=We instanceof se?We.ok():se.fromHex(We)}catch{return!1}if(!N)return!1;const{r:ne,s:ge}=N;if(lt&&S(ge))return!1;let Ae;try{const Bt=M(ge,z),gt=Z(_*Bt,z),It=Z(ne*Bt,z);Ae=de.mulAddQUns(m,gt,It).aff()}catch{return!1}return!!Ae&&Z(Ae.x,z)===ne}function Q(Fe){((Fe=J(Fe)).length<P+8||Fe.length>1024)&&L("expected proper params");const We=Z(C(Fe),z-1n)+1n;return f(We)}const oe={hexToBytes:ke,bytesToHex:xe,concatBytes:g,bytesToNumberBE:C,numberToBytesBE:f,mod:Z,invert:M,hmacSha256Async:(Fe=(0,d.A)(function*(_t,...We){const Le=ce();if(!Le)return L("etc.hmacSha256Async not set");const lt=Le.subtle,N=yield lt.importKey("raw",_t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return te(yield lt.sign("HMAC",N,g(...We)))}),function(We){return Fe.apply(this,arguments)}),hmacSha256Sync:_e,hashToPrivateKey:Q,randomBytes:Fe=>{const _t=ce();return _t||L("crypto.getRandomValues must be defined"),_t.getRandomValues(te(Fe))}},fe={normPrivateKeyToScalar:B,isValidPrivateKey:Fe=>{try{return!!B(Fe)}catch{return!1}},randomPrivateKey:()=>Q(oe.randomBytes(P+8)),precompute:(Fe=8,_t=de)=>(_t.multiply(3n),_t)};var Fe;Object.defineProperties(oe,{hmacSha256Sync:{configurable:!1,get:()=>_e,set(Fe){_e||(_e=Fe)}}});const $e=Fe=>{const _t=ae||(ae=(()=>{const Fe=[];let We=de,Le=We;for(let lt=0;lt<33;lt++){Le=We,Fe.push(Le);for(let N=1;N<128;N++)Le=Le.add(We),Fe.push(Le);We=Le.double()}return Fe})()),We=(ge,Ae)=>{let tt=Ae.negate();return ge?tt:Ae};let Le=le,lt=de;const m=BigInt(255),ne=BigInt(8);for(let ge=0;ge<33;ge++){const Ae=128*ge;let tt=Number(Fe&m);Fe>>=ne,tt>128&&(tt-=256,Fe+=1n);const Bt=Ae,gt=Ae+Math.abs(tt)-1,Zt=tt<0;0===tt?lt=lt.add(We(ge%2!=0,_t[Bt])):Le=Le.add(We(Zt,_t[gt]))}return{p:Le,f:lt}}},53813:(je,H,w)=>{"use strict";function E(ye){return ye instanceof Uint8Array||null!=ye&&"object"==typeof ye&&"Uint8Array"===ye.constructor.name}function P(ye,De,pe){if(De<2)throw new Error(`convertRadix: wrong from=${De}, base cannot be less than 2`);if(pe<2)throw new Error(`convertRadix: wrong to=${pe}, base cannot be less than 2`);if(!Array.isArray(ye))throw new Error("convertRadix: data should be array");if(!ye.length)return[];let ue=0;const Q=[],oe=Array.from(ye);for(oe.forEach(fe=>{if(fe<0||fe>=De)throw new Error(`Wrong integer: ${fe}`)});;){let fe=0,Ee=!0;for(let Re=ue;Re<oe.length;Re++){const $e=oe[Re],Fe=De*fe+$e;if(!Number.isSafeInteger(Fe)||De*fe/De!==fe||Fe-$e!=De*fe)throw new Error("convertRadix: carry overflow");fe=Fe%pe;const _t=Math.floor(Fe/pe);if(oe[Re]=_t,!Number.isSafeInteger(_t)||_t*pe+fe!==Fe)throw new Error("convertRadix: carry overflow");Ee&&(_t?Ee=!1:ue=Re)}if(Q.push(fe),Ee)break}for(let fe=0;fe<ye.length-1&&0===ye[fe];fe++)Q.push(0);return Q.reverse()}w.d(H,{Wp:()=>te});const F=(ye,De)=>De?F(De,ye%De):ye,L=(ye,De)=>ye+(De-F(ye,De));function D(ye,De,pe,ue){if(!Array.isArray(ye))throw new Error("convertRadix2: data should be array");if(De<=0||De>32)throw new Error(`convertRadix2: wrong from=${De}`);if(pe<=0||pe>32)throw new Error(`convertRadix2: wrong to=${pe}`);if(L(De,pe)>32)throw new Error(`convertRadix2: carry overflow from=${De} to=${pe} carryBits=${L(De,pe)}`);let Q=0,oe=0;const fe=2**pe-1,Ee=[];for(const Re of ye){if(Re>=2**De)throw new Error(`convertRadix2: invalid data word=${Re} from=${De}`);if(Q=Q<<De|Re,oe+De>32)throw new Error(`convertRadix2: carry overflow pos=${oe} from=${De}`);for(oe+=De;oe>=pe;oe-=pe)Ee.push((Q>>oe-pe&fe)>>>0);Q&=2**oe-1}if(Q=Q<<pe-oe&fe,!ue&&oe>=De)throw new Error("Excess padding");if(!ue&&Q)throw new Error(`Non-zero padding: ${Q}`);return ue&&oe>0&&Ee.push(Q>>>0),Ee}const te={alphabet:function z(ye){return{encode:De=>{if(!Array.isArray(De)||De.length&&"number"!=typeof De[0])throw new Error("alphabet.encode input should be an array of numbers");return De.map(pe=>{if(pe<0||pe>=ye.length)throw new Error(`Digit index outside alphabet: ${pe} (alphabet: ${ye.length})`);return ye[pe]})},decode:De=>{if(!Array.isArray(De)||De.length&&"string"!=typeof De[0])throw new Error("alphabet.decode input should be array of strings");return De.map(pe=>{if("string"!=typeof pe)throw new Error(`alphabet.decode: not string element=${pe}`);const ue=ye.indexOf(pe);if(-1===ue)throw new Error(`Unknown letter: "${pe}". Allowed: ${ye}`);return ue})}}},chain:function k(...ye){const De=oe=>oe,pe=(oe,fe)=>Ee=>oe(fe(Ee));return{encode:ye.map(oe=>oe.encode).reduceRight(pe,De),decode:ye.map(oe=>oe.decode).reduce(pe,De)}},checksum:function re(ye,De){if("function"!=typeof De)throw new Error("checksum fn should be function");return{encode(pe){if(!E(pe))throw new Error("checksum.encode: input should be Uint8Array");const ue=De(pe).slice(0,ye),Q=new Uint8Array(pe.length+ye);return Q.set(pe),Q.set(ue,pe.length),Q},decode(pe){if(!E(pe))throw new Error("checksum.decode: input should be Uint8Array");const ue=pe.slice(0,-ye),Q=De(ue).slice(0,ye),oe=pe.slice(-ye);for(let fe=0;fe<ye;fe++)if(Q[fe]!==oe[fe])throw new Error("Invalid checksum");return ue}}},convertRadix:P,convertRadix2:D,radix:function X(ye){return{encode:De=>{if(!E(De))throw new Error("radix.encode input should be Uint8Array");return P(Array.from(De),256,ye)},decode:De=>{if(!Array.isArray(De)||De.length&&"number"!=typeof De[0])throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(P(De,ye,256))}}},radix2:function j(ye,De=!1){if(ye<=0||ye>32)throw new Error("radix2: bits should be in (0..32]");if(L(8,ye)>32||L(ye,8)>32)throw new Error("radix2: carry overflow");return{encode:pe=>{if(!E(pe))throw new Error("radix2.encode input should be Uint8Array");return D(Array.from(pe),8,ye,!De)},decode:pe=>{if(!Array.isArray(pe)||pe.length&&"number"!=typeof pe[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(D(pe,ye,8,De))}}},join:function x(ye=""){if("string"!=typeof ye)throw new Error("join separator should be string");return{encode:De=>{if(!Array.isArray(De)||De.length&&"string"!=typeof De[0])throw new Error("join.encode input should be array of strings");for(let pe of De)if("string"!=typeof pe)throw new Error(`join.encode: non-string input=${pe}`);return De.join(ye)},decode:De=>{if("string"!=typeof De)throw new Error("join.decode input should be string");return De.split(ye)}}},padding:function O(ye,De="="){if("string"!=typeof De)throw new Error("padding chr should be string");return{encode(pe){if(!Array.isArray(pe)||pe.length&&"string"!=typeof pe[0])throw new Error("padding.encode input should be array of strings");for(let ue of pe)if("string"!=typeof ue)throw new Error(`padding.encode: non-string input=${ue}`);for(;pe.length*ye%8;)pe.push(De);return pe},decode(pe){if(!Array.isArray(pe)||pe.length&&"string"!=typeof pe[0])throw new Error("padding.encode input should be array of strings");for(let Q of pe)if("string"!=typeof Q)throw new Error(`padding.decode: non-string input=${Q}`);let ue=pe.length;if(ue*ye%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;ue>0&&pe[ue-1]===De;ue--)if(!((ue-1)*ye%8))throw new Error("Invalid padding: string has too much padding");return pe.slice(0,ue)}}}}},62590:(je,H,w)=>{"use strict";w.d(H,{DP:()=>jE,Bq:()=>zU,rr:()=>JU,yc:()=>AF,rM:()=>UF,B2:()=>p6,U0:()=>Gl,QZ:()=>$U,dk:()=>SF,nx:()=>ka,cW:()=>vF,Vu:()=>xA,TX:()=>EF,eP:()=>Ow,qB:()=>M6,oN:()=>PF,X7:()=>XU,dK:()=>WU,pO:()=>YU});var d={};w.r(d),w.d(d,{DO:()=>Tr,OG:()=>fi,My:()=>jr,Ph:()=>fr,lX:()=>Ar,Id:()=>To,fg:()=>_i,qj:()=>ii,aT:()=>jn,aY:()=>_r,lq:()=>Sr,z:()=>zr,Q5:()=>Us});var E={};w.r(E),w.d(E,{base10:()=>hd});var k={};w.r(k),w.d(k,{base16:()=>Om,base16upper:()=>Gh});var z={};w.r(z),w.d(z,{base2:()=>Ba});var x={};w.r(x),w.d(x,{base256emoji:()=>hl});var O={};w.r(O),w.d(O,{base32:()=>yc,base32hex:()=>md,base32hexpad:()=>zi,base32hexpadupper:()=>Da,base32hexupper:()=>Du,base32pad:()=>jl,base32padupper:()=>Tu,base32upper:()=>ru,base32z:()=>_f});var A={};w.r(A),w.d(A,{base36:()=>Sc,base36upper:()=>iu});var P={};w.r(P),w.d(P,{base58btc:()=>Nd,base58flickr:()=>Op});var F={};w.r(F),w.d(F,{base64:()=>Xh,base64pad:()=>nv,base64url:()=>Pp,base64urlpad:()=>rv});var L={};w.r(L),w.d(L,{base8:()=>Ef});var D={};w.r(D),w.d(D,{identity:()=>Qs});var X={};w.r(X),w.d(X,{code:()=>gs,decode:()=>Ru,encode:()=>ku,name:()=>xf});var j={};w.r(j),w.d(j,{code:()=>Hi,decode:()=>Na,encode:()=>Sf,name:()=>Zi});var G={};w.r(G),w.d(G,{identity:()=>yl});var re={};w.r(re),w.d(re,{sha256:()=>vc,sha512:()=>Ud});var te={};w.r(te),w.d(te,{Authorization:()=>fo,AuthorizationDelegatedGrant:()=>Nw,AuthorizationOwner:()=>GE,Definitions:()=>CA,GeneralJwk:()=>C6,GeneralJws:()=>k6,GenericSignaturePayload:()=>r2,JwkVerificationMethod:()=>R6,MessagesFilter:()=>e2,MessagesQuery:()=>Vr,MessagesRead:()=>Df,MessagesSubscribe:()=>fy,NumberRangeFilter:()=>ah,PaginationCursor:()=>av,PermissionGrantData:()=>hy,PermissionRequestData:()=>py,PermissionRevocationData:()=>zl,PermissionsDefinitions:()=>Kw,PermissionsScopes:()=>B6,ProtocolDefinition:()=>OA,ProtocolRuleSet:()=>qP,ProtocolsConfigure:()=>QP,ProtocolsQuery:()=>BA,PublicJwk:()=>NA,RecordsDelete:()=>Fw,RecordsFilter:()=>j6,RecordsQuery:()=>XE,RecordsRead:()=>e4,RecordsSubscribe:()=>qE,RecordsWrite:()=>jw,RecordsWriteDataEncoded:()=>I6,RecordsWriteSignaturePayload:()=>K6,RecordsWriteUnidentified:()=>Dc,StringRangeFilter:()=>z6});var J={};w.r(J),w.d(J,{code:()=>Iy,decode:()=>Dv,encode:()=>NT,name:()=>jd});var Z={};w.r(Z),w.d(Z,{code:()=>E_,createLink:()=>tp,createNode:()=>__,decode:()=>x_,encode:()=>np,name:()=>sD,prepare:()=>zp,validate:()=>oD});var ie={};w.r(ie),w.d(ie,{code:()=>e0,decode:()=>a5,encode:()=>ax,name:()=>I_});var ae={};w.r(ae),w.d(ae,{base10:()=>ID});var se={};w.r(se),w.d(se,{base16:()=>m5,base16upper:()=>y5});var de={};w.r(de),w.d(de,{base2:()=>g5});var le={};w.r(le),w.d(le,{base256emoji:()=>Fy});var be={};w.r(be),w.d(be,{base32:()=>jy,base32hex:()=>o0,base32hexpad:()=>zv,base32hexpadupper:()=>PD,base32hexupper:()=>vx,base32pad:()=>v5,base32padupper:()=>P_,base32upper:()=>OD,base32z:()=>bx});var xe={};w.r(xe),w.d(xe,{base36:()=>wx,base36upper:()=>_x});var ke={};w.r(ke),w.d(ke,{base58btc:()=>gh,base58flickr:()=>Ex});var C={};w.r(C),w.d(C,{base64:()=>b5,base64pad:()=>w5,base64url:()=>_5,base64urlpad:()=>BD});var a={};w.r(a),w.d(a,{base8:()=>E5});var f={};w.r(f),w.d(f,{identity:()=>x5});var y={};w.r(y),w.d(y,{code:()=>LD,decode:()=>T5,encode:()=>A5,name:()=>ND});var g={};w.r(g),w.d(g,{code:()=>D5,decode:()=>D4,encode:()=>I5,name:()=>$d});var M={};w.r(M),w.d(M,{identity:()=>KD});var T={};w.r(T),w.d(T,{sha256:()=>Xv,sha512:()=>VD});var B={};w.r(B),w.d(B,{OG:()=>RM,My:()=>$0,Ph:()=>Dg,lX:()=>K0,Id:()=>Ig,fg:()=>$C,qj:()=>tc,aT:()=>tw,aY:()=>Gf,lq:()=>Sp,z:()=>nw,Q5:()=>V0});var S=w(49970),s=w(14725);const v=new TextEncoder,W=new TextDecoder;class K{static base64UrlToBytes(t){return s.r0.baseDecode(t)}static base64UrlToObject(t){const n=s.r0.baseDecode(t);return K.bytesToObject(n)}static bytesToBase64Url(t){return s.r0.baseEncode(t)}static bytesToString(t){return W.decode(t)}static bytesToObject(t){const n=K.bytesToString(t);return JSON.parse(n)}static objectToBytes(t){const n=JSON.stringify(t);return v.encode(n)}static stringToBase64Url(t){const n=v.encode(t);return s.r0.baseEncode(n)}static stringToBytes(t){return v.encode(t)}}var ee=w(63741);class ce extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DwnError"}}var _e=function(r){return r.AuthenticateJwsMissing="AuthenticateJwsMissing",r.AuthenticateDescriptorCidMismatch="AuthenticateDescriptorCidMismatch",r.AuthenticationMoreThanOneSignatureNotSupported="AuthenticationMoreThanOneSignatureNotSupported",r.AuthorizationAuthorNotOwner="AuthorizationAuthorNotOwner",r.AuthorizationNotGrantedToAuthor="AuthorizationNotGrantedToAuthor",r.ComputeCidCodecNotSupported="ComputeCidCodecNotSupported",r.ComputeCidMultihashNotSupported="ComputeCidMultihashNotSupported",r.Ed25519InvalidJwk="Ed25519InvalidJwk",r.EventEmitterStreamNotOpenError="EventEmitterStreamNotOpenError",r.MessagesGrantAuthorizationMismatchedProtocol="EventsGrantAuthorizationMismatchedProtocol",r.MessagesSubscribeAuthorizationFailed="MessagesSubscribeAuthorizationFailed",r.MessagesSubscribeEventStreamUnimplemented="MessagesSubscribeEventStreamUnimplemented",r.GeneralJwsVerifierGetPublicKeyNotFound="GeneralJwsVerifierGetPublicKeyNotFound",r.GeneralJwsVerifierInvalidSignature="GeneralJwsVerifierInvalidSignature",r.GrantAuthorizationGrantExpired="GrantAuthorizationGrantExpired",r.GrantAuthorizationGrantMissing="GrantAuthorizationGrantMissing",r.GrantAuthorizationGrantRevoked="GrantAuthorizationGrantRevoked",r.GrantAuthorizationInterfaceMismatch="GrantAuthorizationInterfaceMismatch",r.GrantAuthorizationMethodMismatch="GrantAuthorizationMethodMismatch",r.GrantAuthorizationNotGrantedForTenant="GrantAuthorizationNotGrantedForTenant",r.GrantAuthorizationNotGrantedToAuthor="GrantAuthorizationNotGrantedToAuthor",r.GrantAuthorizationGrantNotYetActive="GrantAuthorizationGrantNotYetActive",r.HdKeyDerivationPathInvalid="HdKeyDerivationPathInvalid",r.JwsVerifySignatureUnsupportedCrv="JwsVerifySignatureUnsupportedCrv",r.IndexInvalidCursorValueType="IndexInvalidCursorValueType",r.IndexInvalidCursorSortProperty="IndexInvalidCursorSortProperty",r.IndexInvalidSortPropertyInMemory="IndexInvalidSortPropertyInMemory",r.IndexMissingIndexableProperty="IndexMissingIndexableProperty",r.JwsDecodePlainObjectPayloadInvalid="JwsDecodePlainObjectPayloadInvalid",r.MessagesReadInvalidCid="MessagesReadInvalidCid",r.MessagesReadAuthorizationFailed="MessagesReadAuthorizationFailed",r.MessageGetInvalidCid="MessageGetInvalidCid",r.MessagesQueryAuthorizationFailed="MessagesQueryAuthorizationFailed",r.MessagesReadVerifyScopeFailed="MessagesReadVerifyScopeFailed",r.ParseCidCodecNotSupported="ParseCidCodecNotSupported",r.ParseCidMultihashNotSupported="ParseCidMultihashNotSupported",r.PermissionsProtocolCreateGrantRecordsScopeMissingProtocol="PermissionsProtocolCreateGrantRecordsScopeMissingProtocol",r.PermissionsProtocolCreateRequestRecordsScopeMissingProtocol="PermissionsProtocolCreateRequestRecordsScopeMissingProtocol",r.PermissionsProtocolGetScopeInvalidProtocol="PermissionsProtocolGetScopeInvalidProtocol",r.PermissionsProtocolValidateSchemaUnexpectedRecord="PermissionsProtocolValidateSchemaUnexpectedRecord",r.PermissionsProtocolValidateScopeContextIdProhibitedProperties="PermissionsProtocolValidateScopeContextIdProhibitedProperties",r.PermissionsProtocolValidateScopeProtocolMismatch="PermissionsProtocolValidateScopeProtocolMismatch",r.PermissionsProtocolValidateScopeMissingProtocolTag="PermissionsProtocolValidateScopeMissingProtocolTag",r.PermissionsProtocolValidateRevocationProtocolTagMismatch="PermissionsProtocolValidateRevocationProtocolTagMismatch",r.PrivateKeySignerUnableToDeduceAlgorithm="PrivateKeySignerUnableToDeduceAlgorithm",r.PrivateKeySignerUnableToDeduceKeyId="PrivateKeySignerUnableToDeduceKeyId",r.PrivateKeySignerUnsupportedCurve="PrivateKeySignerUnsupportedCurve",r.ProtocolAuthorizationActionNotAllowed="ProtocolAuthorizationActionNotAllowed",r.ProtocolAuthorizationActionRulesNotFound="ProtocolAuthorizationActionRulesNotFound",r.ProtocolAuthorizationIncorrectDataFormat="ProtocolAuthorizationIncorrectDataFormat",r.ProtocolAuthorizationIncorrectContextId="ProtocolAuthorizationIncorrectContextId",r.ProtocolAuthorizationIncorrectProtocolPath="ProtocolAuthorizationIncorrectProtocolPath",r.ProtocolAuthorizationDuplicateRoleRecipient="ProtocolAuthorizationDuplicateRoleRecipient",r.ProtocolAuthorizationInvalidSchema="ProtocolAuthorizationInvalidSchema",r.ProtocolAuthorizationInvalidType="ProtocolAuthorizationInvalidType",r.ProtocolAuthorizationMatchingRoleRecordNotFound="ProtocolAuthorizationMatchingRoleRecordNotFound",r.ProtocolAuthorizationMaxSizeInvalid="ProtocolAuthorizationMaxSizeInvalid",r.ProtocolAuthorizationMinSizeInvalid="ProtocolAuthorizationMinSizeInvalid",r.ProtocolAuthorizationMissingContextId="ProtocolAuthorizationMissingContextId",r.ProtocolAuthorizationMissingRuleSet="ProtocolAuthorizationMissingRuleSet",r.ProtocolAuthorizationParentlessIncorrectProtocolPath="ProtocolAuthorizationParentlessIncorrectProtocolPath",r.ProtocolAuthorizationNotARole="ProtocolAuthorizationNotARole",r.ProtocolAuthorizationParentNotFoundConstructingRecordChain="ProtocolAuthorizationParentNotFoundConstructingRecordChain",r.ProtocolAuthorizationProtocolNotFound="ProtocolAuthorizationProtocolNotFound",r.ProtocolAuthorizationRoleMissingRecipient="ProtocolAuthorizationRoleMissingRecipient",r.ProtocolAuthorizationTagsInvalidSchema="ProtocolAuthorizationTagsInvalidSchema",r.ProtocolsConfigureDuplicateActorInRuleSet="ProtocolsConfigureDuplicateActorInRuleSet",r.ProtocolsConfigureDuplicateRoleInRuleSet="ProtocolsConfigureDuplicateRoleInRuleSet",r.ProtocolsConfigureInvalidSize="ProtocolsConfigureInvalidSize",r.ProtocolsConfigureInvalidActionMissingOf="ProtocolsConfigureInvalidActionMissingOf",r.ProtocolsConfigureInvalidActionOfNotAllowed="ProtocolsConfigureInvalidActionOfNotAllowed",r.ProtocolsConfigureInvalidActionDeleteWithoutCreate="ProtocolsConfigureInvalidActionDeleteWithoutCreate",r.ProtocolsConfigureInvalidActionUpdateWithoutCreate="ProtocolsConfigureInvalidActionUpdateWithoutCreate",r.ProtocolsConfigureInvalidRecipientOfAction="ProtocolsConfigureInvalidRecipientOfAction",r.ProtocolsConfigureInvalidRuleSetRecordType="ProtocolsConfigureInvalidRuleSetRecordType",r.ProtocolsConfigureInvalidTagSchema="ProtocolsConfigureInvalidTagSchema",r.ProtocolsConfigureRecordNestingDepthExceeded="ProtocolsConfigureRecordNestingDepthExceeded",r.ProtocolsConfigureRoleDoesNotExistAtGivenPath="ProtocolsConfigureRoleDoesNotExistAtGivenPath",r.ProtocolsQueryUnauthorized="ProtocolsQueryUnauthorized",r.RecordsAuthorDelegatedGrantAndIdExistenceMismatch="RecordsAuthorDelegatedGrantAndIdExistenceMismatch",r.RecordsAuthorDelegatedGrantCidMismatch="RecordsAuthorDelegatedGrantCidMismatch",r.RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch="RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch",r.RecordsAuthorDelegatedGrantNotADelegatedGrant="RecordsAuthorDelegatedGrantNotADelegatedGrant",r.RecordsDecryptNoMatchingKeyEncryptedFound="RecordsDecryptNoMatchingKeyEncryptedFound",r.RecordsDeleteAuthorizationFailed="RecordsDeleteAuthorizationFailed",r.RecordsQueryCreateFilterPublishedSortInvalid="RecordsQueryCreateFilterPublishedSortInvalid",r.RecordsQueryParseFilterPublishedSortInvalid="RecordsQueryParseFilterPublishedSortInvalid",r.RecordsGrantAuthorizationConditionPublicationProhibited="RecordsGrantAuthorizationConditionPublicationProhibited",r.RecordsGrantAuthorizationConditionPublicationRequired="RecordsGrantAuthorizationConditionPublicationRequired",r.RecordsGrantAuthorizationDeleteProtocolScopeMismatch="RecordsGrantAuthorizationDeleteProtocolScopeMismatch",r.RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch="RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch",r.RecordsGrantAuthorizationScopeContextIdMismatch="RecordsGrantAuthorizationScopeContextIdMismatch",r.RecordsGrantAuthorizationScopeProtocolMismatch="RecordsGrantAuthorizationScopeProtocolMismatch",r.RecordsGrantAuthorizationScopeProtocolPathMismatch="RecordsGrantAuthorizationScopeProtocolPathMismatch",r.RecordsDerivePrivateKeyUnSupportedCurve="RecordsDerivePrivateKeyUnSupportedCurve",r.RecordsInvalidAncestorKeyDerivationSegment="RecordsInvalidAncestorKeyDerivationSegment",r.RecordsOwnerDelegatedGrantAndIdExistenceMismatch="RecordsOwnerDelegatedGrantAndIdExistenceMismatch",r.RecordsOwnerDelegatedGrantCidMismatch="RecordsOwnerDelegatedGrantCidMismatch",r.RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch="RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch",r.RecordsOwnerDelegatedGrantNotADelegatedGrant="RecordsOwnerDelegatedGrantNotADelegatedGrant",r.RecordsProtocolContextDerivationSchemeMissingContextId="RecordsProtocolContextDerivationSchemeMissingContextId",r.RecordsProtocolPathDerivationSchemeMissingProtocol="RecordsProtocolPathDerivationSchemeMissingProtocol",r.RecordsQueryFilterMissingRequiredProperties="RecordsQueryFilterMissingRequiredProperties",r.RecordsReadReturnedMultiple="RecordsReadReturnedMultiple",r.RecordsReadAuthorizationFailed="RecordsReadAuthorizationFailed",r.RecordsSubscribeEventStreamUnimplemented="RecordsSubscribeEventStreamUnimplemented",r.RecordsSubscribeFilterMissingRequiredProperties="RecordsSubscribeFilterMissingRequiredProperties",r.RecordsSchemasDerivationSchemeMissingSchema="RecordsSchemasDerivationSchemeMissingSchema",r.RecordsWriteAttestationIntegrityMoreThanOneSignature="RecordsWriteAttestationIntegrityMoreThanOneSignature",r.RecordsWriteAttestationIntegrityDescriptorCidMismatch="RecordsWriteAttestationIntegrityDescriptorCidMismatch",r.RecordsWriteAttestationIntegrityInvalidPayloadProperty="RecordsWriteAttestationIntegrityInvalidPayloadProperty",r.RecordsWriteAuthorizationFailed="RecordsWriteAuthorizationFailed",r.RecordsWriteCreateMissingSigner="RecordsWriteCreateMissingSigner",r.RecordsWriteCreateDataAndDataCidMutuallyExclusive="RecordsWriteCreateDataAndDataCidMutuallyExclusive",r.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive="RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive",r.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive="RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive",r.RecordsWriteDataCidMismatch="RecordsWriteDataCidMismatch",r.RecordsWriteDataSizeMismatch="RecordsWriteDataSizeMismatch",r.RecordsWriteGetEntryIdUndefinedAuthor="RecordsWriteGetEntryIdUndefinedAuthor",r.RecordsWriteGetNewestWriteRecordNotFound="RecordsWriteGetNewestWriteRecordNotFound",r.RecordsWriteGetInitialWriteNotFound="RecordsWriteGetInitialWriteNotFound",r.RecordsWriteImmutablePropertyChanged="RecordsWriteImmutablePropertyChanged",r.RecordsWriteMissingSigner="RecordsWriteMissingSigner",r.RecordsWriteMissingDataInPrevious="RecordsWriteMissingDataInPrevious",r.RecordsWriteMissingEncodedDataInPrevious="RecordsWriteMissingEncodedDataInPrevious",r.RecordsWriteMissingDataStream="RecordsWriteMissingDataStream",r.RecordsWriteMissingProtocol="RecordsWriteMissingProtocol",r.RecordsWriteMissingSchema="RecordsWriteMissingSchema",r.RecordsWriteOwnerAndTenantMismatch="RecordsWriteOwnerAndTenantMismatch",r.RecordsWriteSignAsOwnerDelegateUnknownAuthor="RecordsWriteSignAsOwnerDelegateUnknownAuthor",r.RecordsWriteSignAsOwnerUnknownAuthor="RecordsWriteSignAsOwnerUnknownAuthor",r.RecordsWriteValidateIntegrityAttestationMismatch="RecordsWriteValidateIntegrityAttestationMismatch",r.RecordsWriteValidateIntegrityContextIdMismatch="RecordsWriteValidateIntegrityContextIdMismatch",r.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload="RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload",r.RecordsWriteValidateIntegrityDateCreatedMismatch="RecordsWriteValidateIntegrityDateCreatedMismatch",r.RecordsWriteValidateIntegrityEncryptionCidMismatch="RecordsWriteValidateIntegrityEncryptionCidMismatch",r.RecordsWriteValidateIntegrityRecordIdUnauthorized="RecordsWriteValidateIntegrityRecordIdUnauthorized",r.SchemaValidatorAdditionalPropertyNotAllowed="SchemaValidatorAdditionalPropertyNotAllowed",r.SchemaValidatorFailure="SchemaValidatorFailure",r.SchemaValidatorSchemaNotFound="SchemaValidatorSchemaNotFound",r.SchemaValidatorUnevaluatedPropertyNotAllowed="SchemaValidatorUnevaluatedPropertyNotAllowed",r.Secp256k1KeyNotValid="Secp256k1KeyNotValid",r.Secp256r1KeyNotValid="Secp256r1KeyNotValid",r.TimestampInvalid="TimestampInvalid",r.UrlProtocolNotNormalized="UrlProtocolNotNormalized",r.UrlProtocolNotNormalizable="UrlProtocolNotNormalizable",r.UrlSchemaNotNormalized="UrlSchemaNotNormalized",r}(_e||{}),Oe=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};function Ve(r){if("OKP"!==r.kty||"Ed25519"!==r.crv)throw new ce(_e.Ed25519InvalidJwk,"invalid jwk. kty MUST be OKP. crv MUST be Ed25519")}function Se(r){return{alg:"EdDSA",kty:"OKP",crv:"Ed25519",x:K.bytesToBase64Url(r)}}const we={sign:(r,t)=>Oe(void 0,void 0,void 0,function*(){Ve(t);const n=K.base64UrlToBytes(t.d);return ee.wJ(r,n)}),verify:(r,t,n)=>Oe(void 0,void 0,void 0,function*(){Ve(n);const i=K.base64UrlToBytes(n.x);return ee.kv(t,r,i)}),generateKeyPair:()=>Oe(void 0,void 0,void 0,function*(){const r=ee.Wp.randomPrivateKey(),t=yield ee.Rn(r),n=K.bytesToBase64Url(r),i=Se(t);return{publicJwk:i,privateJwk:Object.assign(Object.assign({},i),{d:n})}}),publicKeyToJwk:r=>Oe(void 0,void 0,void 0,function*(){return Se(r)})};var Ue=w(68464),ye=w(10467),De=w(92059);const pe=r=>function(){var t=(0,ye.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}(),ue=(0,De.H)({name:"sha2-256",code:18,encode:pe("SHA-256")});(0,De.H)({name:"sha2-512",code:19,encode:pe("SHA-512")});var oe=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Ee{static validateKey(t){if("EC"!==t.kty||"secp256k1"!==t.crv)throw new ce(_e.Secp256k1KeyNotValid,"Invalid SECP256K1 JWK: `kty` MUST be `EC`. `crv` MUST be `secp256k1`")}static publicKeyToJwk(t){return oe(this,void 0,void 0,function*(){let n;return n=33===t.byteLength?Ue.CB.fromHex(t).toRawBytes(!1):t,{alg:"ES256K",kty:"EC",crv:"secp256k1",x:K.bytesToBase64Url(n.subarray(1,33)),y:K.bytesToBase64Url(n.subarray(33,65))}})}static privateKeyToJwk(t){return oe(this,void 0,void 0,function*(){const n=yield Ee.getPublicKey(t),i=yield Ee.publicKeyToJwk(n);return i.d=K.bytesToBase64Url(t),i})}static publicJwkToBytes(t){const n=K.base64UrlToBytes(t.x),i=K.base64UrlToBytes(t.y);return Ue.CB.fromAffine({x:Ue.jn.bytesToNumberBE(n),y:Ue.jn.bytesToNumberBE(i)}).toRawBytes(!0)}static privateJwkToBytes(t){return K.base64UrlToBytes(t.d)}static sign(t,n){return oe(this,void 0,void 0,function*(){Ee.validateKey(n);const i=yield ue.encode(t),l=Ee.privateJwkToBytes(n);return(yield Ue.wJ(i,l)).toCompactRawBytes()})}static verify(t,n,i){return oe(this,void 0,void 0,function*(){Ee.validateKey(i);const l=Ee.publicJwkToBytes(i),p=yield ue.encode(t);return Ue.MX(n,p,l)})}static generateKeyPair(){return oe(this,void 0,void 0,function*(){const t=Ue.Wp.randomPrivateKey(),n=Ue.lG(t,!1),i=K.bytesToBase64Url(t),l=yield Ee.publicKeyToJwk(n);return{publicJwk:l,privateJwk:Object.assign(Object.assign({},l),{d:i})}})}static generateKeyPairRaw(){return oe(this,void 0,void 0,function*(){const t=Ue.Wp.randomPrivateKey();return{publicKey:Ue.lG(t,!0),privateKey:t}})}static getPublicKey(t){return oe(this,void 0,void 0,function*(){return Ue.lG(t,!0)})}static getPublicJwk(t){return oe(this,void 0,void 0,function*(){return function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["d"])})}}function Re(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`positive integer expected, not ${r}`)}function _t(r,...t){if(!function Fe(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}(r))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(r.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${r.length}`)}function Le(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}const m="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Ae=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),tt=(r,t)=>r<<32-t|r>>>t;function hn(r){return"string"==typeof r&&(r=function qt(r){if("string"!=typeof r)throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array((new TextEncoder).encode(r))}(r)),_t(r),r}new Uint8Array(new Uint32Array([287454020]).buffer);class vt{clone(){return this._cloneInto()}}function Ye(r){const t=i=>r().update(hn(i)).digest(),n=r();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>r(),t}function Nt(r=32){if(m&&"function"==typeof m.getRandomValues)return m.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}const Wn=(r,t,n)=>r&t^~r&n,En=(r,t,n)=>r&t^r&n^t&n;class kn extends vt{constructor(t,n,i,l){super(),this.blockLen=t,this.outputLen=n,this.padOffset=i,this.isLE=l,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Ae(this.buffer)}update(t){Le(this);const{view:n,buffer:i,blockLen:l}=this,p=(t=hn(t)).length;for(let c=0;c<p;){const h=Math.min(l-this.pos,p-c);if(h!==l)i.set(t.subarray(c,c+h),this.pos),this.pos+=h,c+=h,this.pos===l&&(this.process(n,0),this.pos=0);else{const V=Ae(t);for(;l<=p-c;c+=l)this.process(V,c)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){Le(this),function lt(r,t){_t(r);const n=t.outputLen;if(r.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(t,this),this.finished=!0;const{buffer:n,view:i,blockLen:l,isLE:p}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>l-c&&(this.process(i,0),c=0);for(let q=c;q<l;q++)n[q]=0;(function un(r,t,n,i){if("function"==typeof r.setBigUint64)return r.setBigUint64(t,n,i);const l=BigInt(32),p=BigInt(4294967295),c=Number(n>>l&p),h=Number(n&p),$=i?0:4;r.setUint32(t+(i?4:0),c,i),r.setUint32(t+$,h,i)})(i,l-8,BigInt(8*this.length),p),this.process(i,0);const h=Ae(t),V=this.outputLen;if(V%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const $=V/4,I=this.get();if($>I.length)throw new Error("_sha2: outputLen bigger than state");for(let q=0;q<$;q++)h.setUint32(4*q,I[q],p)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const i=t.slice(0,n);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:i,length:l,finished:p,destroyed:c,pos:h}=this;return t.length=l,t.pos=h,t.finished=p,t.destroyed=c,l%n&&t.buffer.set(i),t}}const Or=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Jn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Fn=new Uint32Array(64);class Lt extends kn{constructor(){super(64,32,8,!1),this.A=0|Jn[0],this.B=0|Jn[1],this.C=0|Jn[2],this.D=0|Jn[3],this.E=0|Jn[4],this.F=0|Jn[5],this.G=0|Jn[6],this.H=0|Jn[7]}get(){const{A:t,B:n,C:i,D:l,E:p,F:c,G:h,H:V}=this;return[t,n,i,l,p,c,h,V]}set(t,n,i,l,p,c,h,V){this.A=0|t,this.B=0|n,this.C=0|i,this.D=0|l,this.E=0|p,this.F=0|c,this.G=0|h,this.H=0|V}process(t,n){for(let q=0;q<16;q++,n+=4)Fn[q]=t.getUint32(n,!1);for(let q=16;q<64;q++){const Ce=Fn[q-15],Be=Fn[q-2],Pe=tt(Ce,7)^tt(Ce,18)^Ce>>>3,Ke=tt(Be,17)^tt(Be,19)^Be>>>10;Fn[q]=Ke+Fn[q-7]+Pe+Fn[q-16]|0}let{A:i,B:l,C:p,D:c,E:h,F:V,G:$,H:I}=this;for(let q=0;q<64;q++){const Be=I+(tt(h,6)^tt(h,11)^tt(h,25))+Wn(h,V,$)+Or[q]+Fn[q]|0,Ke=(tt(i,2)^tt(i,13)^tt(i,22))+En(i,l,p)|0;I=$,$=V,V=h,h=c+Be|0,c=p,p=l,l=i,i=Be+Ke|0}i=i+this.A|0,l=l+this.B|0,p=p+this.C|0,c=c+this.D|0,h=h+this.E|0,V=V+this.F|0,$=$+this.G|0,I=I+this.H|0,this.set(i,l,p,c,h,V,$,I)}roundClean(){Fn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Te=Ye(()=>new Lt);class xt extends vt{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,function We(r){if("function"!=typeof r||"function"!=typeof r.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Re(r.outputLen),Re(r.blockLen)}(t);const i=hn(n);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const l=this.blockLen,p=new Uint8Array(l);p.set(i.length>l?t.create().update(i).digest():i);for(let c=0;c<p.length;c++)p[c]^=54;this.iHash.update(p),this.oHash=t.create();for(let c=0;c<p.length;c++)p[c]^=106;this.oHash.update(p),p.fill(0)}update(t){return Le(this),this.iHash.update(t),this}digestInto(t){Le(this),_t(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:l,destroyed:p,blockLen:c,outputLen:h}=this;return t.finished=l,t.destroyed=p,t.blockLen=c,t.outputLen=h,t.oHash=n._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const nn=(r,t,n)=>new xt(r,t).update(n).digest();nn.create=(r,t)=>new xt(r,t);const Kn=BigInt(1),er=BigInt(2);function _r(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}function Tr(r){if(!_r(r))throw new Error("Uint8Array expected")}const Br=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function jr(r){Tr(r);let t="";for(let n=0;n<r.length;n++)t+=Br[r[n]];return t}function tn(r){if("string"!=typeof r)throw new Error("hex string expected, got "+typeof r);return BigInt(""===r?"0":`0x${r}`)}const _n={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Tn(r){return r>=_n._0&&r<=_n._9?r-_n._0:r>=_n._A&&r<=_n._F?r-(_n._A-10):r>=_n._a&&r<=_n._f?r-(_n._a-10):void 0}function jn(r){if("string"!=typeof r)throw new Error("hex string expected, got "+typeof r);const t=r.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(n);for(let l=0,p=0;l<n;l++,p+=2){const c=Tn(r.charCodeAt(p)),h=Tn(r.charCodeAt(p+1));if(void 0===c||void 0===h)throw new Error('hex string expected, got non-hex character "'+(r[p]+r[p+1])+'" at index '+p);i[l]=16*c+h}return i}function fr(r){return tn(jr(r))}function Ar(r){return Tr(r),tn(jr(Uint8Array.from(r).reverse()))}function Sr(r,t){return jn(r.toString(16).padStart(2*t,"0"))}function zr(r,t){return Sr(r,t).reverse()}function ii(r,t,n){let i;if("string"==typeof t)try{i=jn(t)}catch(p){throw new Error(`${r} must be valid hex string, got "${t}". Cause: ${p}`)}else{if(!_r(t))throw new Error(`${r} must be hex string or Uint8Array`);i=Uint8Array.from(t)}const l=i.length;if("number"==typeof n&&l!==n)throw new Error(`${r} expected ${n} bytes, got ${l}`);return i}function To(...r){let t=0;for(let i=0;i<r.length;i++){const l=r[i];Tr(l),t+=l.length}const n=new Uint8Array(t);for(let i=0,l=0;i<r.length;i++){const p=r[i];n.set(p,l),l+=p.length}return n}const fi=r=>(er<<BigInt(r-1))-Kn,Ni=r=>new Uint8Array(r),Aa=r=>Uint8Array.from(r);function _i(r,t,n){if("number"!=typeof r||r<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let i=Ni(r),l=Ni(r),p=0;const c=()=>{i.fill(1),l.fill(0),p=0},h=(...q)=>n(l,i,...q),V=(q=Ni())=>{l=h(Aa([0]),q),i=h(),0!==q.length&&(l=h(Aa([1]),q),i=h())},$=()=>{if(p++>=1e3)throw new Error("drbg: tried 1000 values");let q=0;const Ce=[];for(;q<t;){i=h();const Be=i.slice();Ce.push(Be),q+=i.length}return To(...Ce)};return(q,Ce)=>{let Be;for(c(),V(q);!(Be=Ce($()));)V();return c(),Be}}const is={bigint:r=>"bigint"==typeof r,function:r=>"function"==typeof r,boolean:r=>"boolean"==typeof r,string:r=>"string"==typeof r,stringOrUint8Array:r=>"string"==typeof r||_r(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>"function"==typeof r&&Number.isSafeInteger(r.outputLen)};function Us(r,t,n={}){const i=(l,p,c)=>{const h=is[p];if("function"!=typeof h)throw new Error(`Invalid validator "${p}", expected function`);const V=r[l];if(!(c&&void 0===V||h(V,r)))throw new Error(`Invalid param ${String(l)}=${V} (${typeof V}), expected ${p}`)};for(const[l,p]of Object.entries(t))i(l,p,!1);for(const[l,p]of Object.entries(n))i(l,p,!0);return r}const Co=BigInt(0),Ki=BigInt(1),ps=BigInt(2),da=BigInt(3),Ra=BigInt(4),cl=BigInt(5),Ga=BigInt(8);function ua(r,t){const n=r%t;return n>=Co?n:t+n}function Qd(r,t,n){if(n<=Co||t<Co)throw new Error("Expected power/modulo > 0");if(n===Ki)return Co;let i=Ki;for(;t>Co;)t&Ki&&(i=i*r%n),r=r*r%n,t>>=Ki;return i}function ll(r,t){if(r===Co||t<=Co)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let n=ua(r,t),i=t,l=Co,p=Ki,c=Ki,h=Co;for(;n!==Co;){const $=i/n,I=i%n,q=l-c*$,Ce=p-h*$;i=n,n=I,l=c,p=h,c=q,h=Ce}if(i!==Ki)throw new Error("invert: does not exist");return ua(l,t)}BigInt(9),BigInt(16);const Ta=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Js(r,t){const n=void 0!==t?t:r.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Qi(r){if("bigint"!=typeof r)throw new Error("field order must be bigint");const t=r.toString(2).length;return Math.ceil(t/8)}function Eo(r){const t=Qi(r);return t+Math.ceil(t/2)}const Od=BigInt(0),ds=BigInt(1);function Gc(r){return function Nl(r){Us(r,Ta.reduce((i,l)=>(i[l]="function",i),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(r.Fp),Us(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Js(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}const{Ph:Ll,aT:ic}=d,bo={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(r){const{Err:t}=bo;if(r.length<2||2!==r[0])throw new t("Invalid signature integer tag");const n=r[1],i=r.subarray(2,n+2);if(!n||i.length!==n)throw new t("Invalid signature integer: wrong length");if(128&i[0])throw new t("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Ll(i),l:r.subarray(n+2)}},toSig(r){const{Err:t}=bo,n="string"==typeof r?ic(r):r;Tr(n);let i=n.length;if(i<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==i-2)throw new t("Invalid signature: incorrect length");const{d:l,l:p}=bo._parseInt(n.subarray(2)),{d:c,l:h}=bo._parseInt(p);if(h.length)throw new t("Invalid signature: left bytes after parsing");return{r:l,s:c}},hexFromSig(r){const t=$=>8&Number.parseInt($[0],16)?"00"+$:$,n=$=>{const I=$.toString(16);return 1&I.length?`0${I}`:I},i=t(n(r.s)),l=t(n(r.r)),p=i.length/2,c=l.length/2,h=n(p),V=n(c);return`30${n(c+p+4)}02${V}${l}02${h}${i}`}},Pr=BigInt(0),Ii=BigInt(1),No=(BigInt(2),BigInt(3));function eo(r){const t=function fl(r){const t=Gc(r);return Us(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(r),{Fp:n,n:i}=t,l=n.BYTES+1,p=2*n.BYTES+1;function h(ln){return ua(ln,i)}function V(ln){return ll(ln,i)}const{ProjectivePoint:$,normPrivateKeyToScalar:I,weierstrassEquation:q,isWithinCurveOrder:Ce}=function _s(r){const t=function tu(r){const t=Gc(r);Us(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:i,a:l}=t;if(n){if(!i.eql(l,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(r),{Fp:n}=t,i=t.toBytes||((Pe,Ke,rt)=>{const ht=Ke.toAffine();return To(Uint8Array.from([4]),n.toBytes(ht.x),n.toBytes(ht.y))}),l=t.fromBytes||(Pe=>{const Ke=Pe.subarray(1);return{x:n.fromBytes(Ke.subarray(0,n.BYTES)),y:n.fromBytes(Ke.subarray(n.BYTES,2*n.BYTES))}});function p(Pe){const{a:Ke,b:rt}=t,ht=n.sqr(Pe),ct=n.mul(ht,Pe);return n.add(n.add(ct,n.mul(Pe,Ke)),rt)}if(!n.eql(n.sqr(t.Gy),p(t.Gx)))throw new Error("bad generator point: equation left != right");function c(Pe){return"bigint"==typeof Pe&&Pr<Pe&&Pe<t.n}function h(Pe){if(!c(Pe))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function V(Pe){const{allowedPrivateKeyLengths:Ke,nByteLength:rt,wrapPrivateKey:ht,n:ct}=t;if(Ke&&"bigint"!=typeof Pe){if(_r(Pe)&&(Pe=jr(Pe)),"string"!=typeof Pe||!Ke.includes(Pe.length))throw new Error("Invalid key");Pe=Pe.padStart(2*rt,"0")}let dt;try{dt="bigint"==typeof Pe?Pe:fr(ii("private key",Pe,rt))}catch{throw new Error(`private key must be ${rt} bytes, hex or bigint, not ${typeof Pe}`)}return ht&&(dt=ua(dt,ct)),h(dt),dt}const $=new Map;function I(Pe){if(!(Pe instanceof q))throw new Error("ProjectivePoint expected")}class q{constructor(Ke,rt,ht){if(this.px=Ke,this.py=rt,this.pz=ht,null==Ke||!n.isValid(Ke))throw new Error("x required");if(null==rt||!n.isValid(rt))throw new Error("y required");if(null==ht||!n.isValid(ht))throw new Error("z required")}static fromAffine(Ke){const{x:rt,y:ht}=Ke||{};if(!Ke||!n.isValid(rt)||!n.isValid(ht))throw new Error("invalid affine point");if(Ke instanceof q)throw new Error("projective point not allowed");const ct=dt=>n.eql(dt,n.ZERO);return ct(rt)&&ct(ht)?q.ZERO:new q(rt,ht,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Ke){const rt=n.invertBatch(Ke.map(ht=>ht.pz));return Ke.map((ht,ct)=>ht.toAffine(rt[ct])).map(q.fromAffine)}static fromHex(Ke){const rt=q.fromAffine(l(ii("pointHex",Ke)));return rt.assertValidity(),rt}static fromPrivateKey(Ke){return q.BASE.multiply(V(Ke))}_setWindowSize(Ke){this._WINDOW_SIZE=Ke,$.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:Ke,y:rt}=this.toAffine();if(!n.isValid(Ke)||!n.isValid(rt))throw new Error("bad point: x or y not FE");const ht=n.sqr(rt),ct=p(Ke);if(!n.eql(ht,ct))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:Ke}=this.toAffine();if(n.isOdd)return!n.isOdd(Ke);throw new Error("Field doesn't support isOdd")}equals(Ke){I(Ke);const{px:rt,py:ht,pz:ct}=this,{px:dt,py:At,pz:Pt}=Ke,Ct=n.eql(n.mul(rt,Pt),n.mul(dt,ct)),zt=n.eql(n.mul(ht,Pt),n.mul(At,ct));return Ct&&zt}negate(){return new q(this.px,n.neg(this.py),this.pz)}double(){const{a:Ke,b:rt}=t,ht=n.mul(rt,No),{px:ct,py:dt,pz:At}=this;let Pt=n.ZERO,Ct=n.ZERO,zt=n.ZERO,Xt=n.mul(ct,ct),xn=n.mul(dt,dt),Cn=n.mul(At,At),Nn=n.mul(ct,dt);return Nn=n.add(Nn,Nn),zt=n.mul(ct,At),zt=n.add(zt,zt),Pt=n.mul(Ke,zt),Ct=n.mul(ht,Cn),Ct=n.add(Pt,Ct),Pt=n.sub(xn,Ct),Ct=n.add(xn,Ct),Ct=n.mul(Pt,Ct),Pt=n.mul(Nn,Pt),zt=n.mul(ht,zt),Cn=n.mul(Ke,Cn),Nn=n.sub(Xt,Cn),Nn=n.mul(Ke,Nn),Nn=n.add(Nn,zt),zt=n.add(Xt,Xt),Xt=n.add(zt,Xt),Xt=n.add(Xt,Cn),Xt=n.mul(Xt,Nn),Ct=n.add(Ct,Xt),Cn=n.mul(dt,At),Cn=n.add(Cn,Cn),Xt=n.mul(Cn,Nn),Pt=n.sub(Pt,Xt),zt=n.mul(Cn,xn),zt=n.add(zt,zt),zt=n.add(zt,zt),new q(Pt,Ct,zt)}add(Ke){I(Ke);const{px:rt,py:ht,pz:ct}=this,{px:dt,py:At,pz:Pt}=Ke;let Ct=n.ZERO,zt=n.ZERO,Xt=n.ZERO;const xn=t.a,Cn=n.mul(t.b,No);let Nn=n.mul(rt,dt),ir=n.mul(ht,At),Pn=n.mul(ct,Pt),Hn=n.add(rt,ht),ln=n.add(dt,At);Hn=n.mul(Hn,ln),ln=n.add(Nn,ir),Hn=n.sub(Hn,ln),ln=n.add(rt,ct);let vn=n.add(dt,Pt);return ln=n.mul(ln,vn),vn=n.add(Nn,Pn),ln=n.sub(ln,vn),vn=n.add(ht,ct),Ct=n.add(At,Pt),vn=n.mul(vn,Ct),Ct=n.add(ir,Pn),vn=n.sub(vn,Ct),Xt=n.mul(xn,ln),Ct=n.mul(Cn,Pn),Xt=n.add(Ct,Xt),Ct=n.sub(ir,Xt),Xt=n.add(ir,Xt),zt=n.mul(Ct,Xt),ir=n.add(Nn,Nn),ir=n.add(ir,Nn),Pn=n.mul(xn,Pn),ln=n.mul(Cn,ln),ir=n.add(ir,Pn),Pn=n.sub(Nn,Pn),Pn=n.mul(xn,Pn),ln=n.add(ln,Pn),Nn=n.mul(ir,ln),zt=n.add(zt,Nn),Nn=n.mul(vn,ln),Ct=n.mul(Hn,Ct),Ct=n.sub(Ct,Nn),Nn=n.mul(Hn,ir),Xt=n.mul(vn,Xt),Xt=n.add(Xt,Nn),new q(Ct,zt,Xt)}subtract(Ke){return this.add(Ke.negate())}is0(){return this.equals(q.ZERO)}wNAF(Ke){return Be.wNAFCached(this,$,Ke,rt=>{const ht=n.invertBatch(rt.map(ct=>ct.pz));return rt.map((ct,dt)=>ct.toAffine(ht[dt])).map(q.fromAffine)})}multiplyUnsafe(Ke){const rt=q.ZERO;if(Ke===Pr)return rt;if(h(Ke),Ke===Ii)return this;const{endo:ht}=t;if(!ht)return Be.unsafeLadder(this,Ke);let{k1neg:ct,k1:dt,k2neg:At,k2:Pt}=ht.splitScalar(Ke),Ct=rt,zt=rt,Xt=this;for(;dt>Pr||Pt>Pr;)dt&Ii&&(Ct=Ct.add(Xt)),Pt&Ii&&(zt=zt.add(Xt)),Xt=Xt.double(),dt>>=Ii,Pt>>=Ii;return ct&&(Ct=Ct.negate()),At&&(zt=zt.negate()),zt=new q(n.mul(zt.px,ht.beta),zt.py,zt.pz),Ct.add(zt)}multiply(Ke){h(Ke);let ht,ct,rt=Ke;const{endo:dt}=t;if(dt){const{k1neg:At,k1:Pt,k2neg:Ct,k2:zt}=dt.splitScalar(rt);let{p:Xt,f:xn}=this.wNAF(Pt),{p:Cn,f:Nn}=this.wNAF(zt);Xt=Be.constTimeNegate(At,Xt),Cn=Be.constTimeNegate(Ct,Cn),Cn=new q(n.mul(Cn.px,dt.beta),Cn.py,Cn.pz),ht=Xt.add(Cn),ct=xn.add(Nn)}else{const{p:At,f:Pt}=this.wNAF(rt);ht=At,ct=Pt}return q.normalizeZ([ht,ct])[0]}multiplyAndAddUnsafe(Ke,rt,ht){const ct=q.BASE,dt=(Pt,Ct)=>Ct!==Pr&&Ct!==Ii&&Pt.equals(ct)?Pt.multiply(Ct):Pt.multiplyUnsafe(Ct),At=dt(this,rt).add(dt(Ke,ht));return At.is0()?void 0:At}toAffine(Ke){const{px:rt,py:ht,pz:ct}=this,dt=this.is0();null==Ke&&(Ke=dt?n.ONE:n.inv(ct));const At=n.mul(rt,Ke),Pt=n.mul(ht,Ke),Ct=n.mul(ct,Ke);if(dt)return{x:n.ZERO,y:n.ZERO};if(!n.eql(Ct,n.ONE))throw new Error("invZ was invalid");return{x:At,y:Pt}}isTorsionFree(){const{h:Ke,isTorsionFree:rt}=t;if(Ke===Ii)return!0;if(rt)return rt(q,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Ke,clearCofactor:rt}=t;return Ke===Ii?this:rt?rt(q,this):this.multiplyUnsafe(t.h)}toRawBytes(Ke=!0){return this.assertValidity(),i(q,this,Ke)}toHex(Ke=!0){return jr(this.toRawBytes(Ke))}}q.BASE=new q(t.Gx,t.Gy,n.ONE),q.ZERO=new q(n.ZERO,n.ONE,n.ZERO);const Ce=t.nBitLength,Be=function xc(r,t){const n=(l,p)=>{const c=p.negate();return l?c:p},i=l=>({windows:Math.ceil(t/l)+1,windowSize:2**(l-1)});return{constTimeNegate:n,unsafeLadder(l,p){let c=r.ZERO,h=l;for(;p>Od;)p&ds&&(c=c.add(h)),h=h.double(),p>>=ds;return c},precomputeWindow(l,p){const{windows:c,windowSize:h}=i(p),V=[];let $=l,I=$;for(let q=0;q<c;q++){I=$,V.push(I);for(let Ce=1;Ce<h;Ce++)I=I.add($),V.push(I);$=I.double()}return V},wNAF(l,p,c){const{windows:h,windowSize:V}=i(l);let $=r.ZERO,I=r.BASE;const q=BigInt(2**l-1),Ce=2**l,Be=BigInt(l);for(let Pe=0;Pe<h;Pe++){const Ke=Pe*V;let rt=Number(c&q);c>>=Be,rt>V&&(rt-=Ce,c+=ds);const ht=Ke,ct=Ke+Math.abs(rt)-1,At=rt<0;0===rt?I=I.add(n(Pe%2!=0,p[ht])):$=$.add(n(At,p[ct]))}return{p:$,f:I}},wNAFCached(l,p,c,h){const V=l._WINDOW_SIZE||1;let $=p.get(l);return $||($=this.precomputeWindow(l,V),1!==V&&p.set(l,h($))),this.wNAF(V,$,c)}}}(q,t.endo?Math.ceil(Ce/2):Ce);return{CURVE:t,ProjectivePoint:q,normPrivateKeyToScalar:V,weierstrassEquation:p,isWithinCurveOrder:c}}({...t,toBytes(ln,vn,wn){const Un=vn.toAffine(),Sn=n.toBytes(Un.x),Vn=To;return wn?Vn(Uint8Array.from([vn.hasEvenY()?2:3]),Sn):Vn(Uint8Array.from([4]),Sn,n.toBytes(Un.y))},fromBytes(ln){const vn=ln.length,wn=ln[0],Un=ln.subarray(1);if(vn!==l||2!==wn&&3!==wn){if(vn===p&&4===wn)return{x:n.fromBytes(Un.subarray(0,n.BYTES)),y:n.fromBytes(Un.subarray(n.BYTES,2*n.BYTES))};throw new Error(`Point of length ${vn} was invalid. Expected ${l} compressed bytes or ${p} uncompressed bytes`)}{const Sn=fr(Un);if(!function c(ln){return Pr<ln&&ln<n.ORDER}(Sn))throw new Error("Point is not on curve");const Vn=q(Sn);let lr;try{lr=n.sqrt(Vn)}catch(dr){const xr=dr instanceof Error?": "+dr.message:"";throw new Error("Point is not on curve"+xr)}return!(1&~wn)!=((lr&Ii)===Ii)&&(lr=n.neg(lr)),{x:Sn,y:lr}}}}),Be=ln=>jr(Sr(ln,t.nByteLength));function Pe(ln){return ln>i>>Ii}const rt=(ln,vn,wn)=>fr(ln.slice(vn,wn));class ht{constructor(vn,wn,Un){this.r=vn,this.s=wn,this.recovery=Un,this.assertValidity()}static fromCompact(vn){const wn=t.nByteLength;return vn=ii("compactSignature",vn,2*wn),new ht(rt(vn,0,wn),rt(vn,wn,2*wn))}static fromDER(vn){const{r:wn,s:Un}=bo.toSig(ii("DER",vn));return new ht(wn,Un)}assertValidity(){if(!Ce(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!Ce(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(vn){return new ht(this.r,this.s,vn)}recoverPublicKey(vn){const{r:wn,s:Un,recovery:Sn}=this,Vn=zt(ii("msgHash",vn));if(null==Sn||![0,1,2,3].includes(Sn))throw new Error("recovery id invalid");const lr=2===Sn||3===Sn?wn+t.n:wn;if(lr>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const yn=$.fromHex((1&Sn?"03":"02")+Be(lr)),dr=V(lr),xr=h(-Vn*dr),Zn=h(Un*dr),On=$.BASE.multiplyAndAddUnsafe(yn,xr,Zn);if(!On)throw new Error("point at infinify");return On.assertValidity(),On}hasHighS(){return Pe(this.s)}normalizeS(){return this.hasHighS()?new ht(this.r,h(-this.s),this.recovery):this}toDERRawBytes(){return jn(this.toDERHex())}toDERHex(){return bo.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return jn(this.toCompactHex())}toCompactHex(){return Be(this.r)+Be(this.s)}}const ct={isValidPrivateKey(ln){try{return I(ln),!0}catch{return!1}},normPrivateKeyToScalar:I,randomPrivateKey:()=>{const ln=Eo(t.n);return function dd(r,t,n=!1){const i=r.length,l=Qi(t),p=Eo(t);if(i<16||i<p||i>1024)throw new Error(`expected ${p}-1024 bytes of input, got ${i}`);const h=ua(n?fr(r):Ar(r),t-Ki)+Ki;return n?zr(h,l):Sr(h,l)}(t.randomBytes(ln),t.n)},precompute:(ln=8,vn=$.BASE)=>(vn._setWindowSize(ln),vn.multiply(BigInt(3)),vn)};function At(ln){const vn=_r(ln),wn="string"==typeof ln,Un=(vn||wn)&&ln.length;return vn?Un===l||Un===p:wn?Un===2*l||Un===2*p:ln instanceof $}const Ct=t.bits2int||function(ln){const vn=fr(ln),wn=8*ln.length-t.nBitLength;return wn>0?vn>>BigInt(wn):vn},zt=t.bits2int_modN||function(ln){return h(Ct(ln))},Xt=fi(t.nBitLength);function xn(ln){if("bigint"!=typeof ln)throw new Error("bigint expected");if(!(Pr<=ln&&ln<Xt))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Sr(ln,t.nByteLength)}const Nn={lowS:t.lowS,prehash:!1},ir={lowS:t.lowS,prehash:!1};return $.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function dt(ln,vn=!0){return $.fromPrivateKey(ln).toRawBytes(vn)},getSharedSecret:function Pt(ln,vn,wn=!0){if(At(ln))throw new Error("first arg must be private key");if(!At(vn))throw new Error("second arg must be public key");return $.fromHex(vn).multiply(I(ln)).toRawBytes(wn)},sign:function Pn(ln,vn,wn=Nn){const{seed:Un,k2sig:Sn}=function Cn(ln,vn,wn=Nn){if(["recovered","canonical"].some(mr=>mr in wn))throw new Error("sign() legacy options not supported");const{hash:Un,randomBytes:Sn}=t;let{lowS:Vn,prehash:lr,extraEntropy:cr}=wn;null==Vn&&(Vn=!0),ln=ii("msgHash",ln),lr&&(ln=ii("prehashed msgHash",Un(ln)));const yn=zt(ln),dr=I(vn),xr=[xn(dr),xn(yn)];if(null!=cr&&!1!==cr){const mr=!0===cr?Sn(n.BYTES):cr;xr.push(ii("extraEntropy",mr))}const Zn=To(...xr),On=yn;return{seed:Zn,k2sig:function qn(mr){const kr=Ct(mr);if(!Ce(kr))return;const Nr=V(kr),Mr=$.BASE.multiply(kr).toAffine(),Dr=h(Mr.x);if(Dr===Pr)return;const ui=h(Nr*h(On+Dr*dr));if(ui===Pr)return;let Zs=(Mr.x===Dr?0:2)|Number(Mr.y&Ii),yr=ui;return Vn&&Pe(ui)&&(yr=function Ke(ln){return Pe(ln)?h(-ln):ln}(ui),Zs^=1),new ht(Dr,yr,Zs)}}}(ln,vn,wn);return _i(t.hash.outputLen,t.nByteLength,t.hmac)(Un,Sn)},verify:function Hn(ln,vn,wn,Un=ir){const Sn=ln;if(vn=ii("msgHash",vn),wn=ii("publicKey",wn),"strict"in Un)throw new Error("options.strict was renamed to lowS");const{lowS:Vn,prehash:lr}=Un;let cr,yn;try{if("string"==typeof Sn||_r(Sn))try{cr=ht.fromDER(Sn)}catch(Mr){if(!(Mr instanceof bo.Err))throw Mr;cr=ht.fromCompact(Sn)}else{if("object"!=typeof Sn||"bigint"!=typeof Sn.r||"bigint"!=typeof Sn.s)throw new Error("PARSE");{const{r:Mr,s:Dr}=Sn;cr=new ht(Mr,Dr)}}yn=$.fromHex(wn)}catch(Mr){if("PARSE"===Mr.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Vn&&cr.hasHighS())return!1;lr&&(vn=t.hash(vn));const{r:dr,s:xr}=cr,Zn=zt(vn),On=V(xr),qn=h(Zn*On),mr=h(dr*On),kr=$.BASE.multiplyAndAddUnsafe(yn,qn,mr)?.toAffine();return!!kr&&h(kr.x)===dr},ProjectivePoint:$,Signature:ht,utils:ct}}function Rt(r){return{hash:r,hmac:(t,...n)=>nn(r,t,function hr(...r){let t=0;for(let i=0;i<r.length;i++){const l=r[i];_t(l),t+=l.length}const n=new Uint8Array(t);for(let i=0,l=0;i<r.length;i++){const p=r[i];n.set(p,l),l+=p.length}return n}(...n)),randomBytes:Nt}}BigInt(4);const pn=function ga(r,t,n=!1,i={}){if(r<=Co)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:l,nByteLength:p}=Js(r,t);if(p>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=function ya(r){if(r%Ra===da){const t=(r+Ki)/Ra;return function(i,l){const p=i.pow(l,t);if(!i.eql(i.sqr(p),l))throw new Error("Cannot find square root");return p}}if(r%Ga===cl){const t=(r-cl)/Ga;return function(i,l){const p=i.mul(l,ps),c=i.pow(p,t),h=i.mul(l,c),V=i.mul(i.mul(h,ps),c),$=i.mul(h,i.sub(V,i.ONE));if(!i.eql(i.sqr($),l))throw new Error("Cannot find square root");return $}}return function eu(r){const t=(r-Ki)/ps;let n,i,l;for(n=r-Ki,i=0;n%ps===Co;n/=ps,i++);for(l=ps;l<r&&Qd(l,t,r)!==r-Ki;l++);if(1===i){const c=(r+Ki)/Ra;return function(V,$){const I=V.pow($,c);if(!V.eql(V.sqr(I),$))throw new Error("Cannot find square root");return I}}const p=(n+Ki)/ps;return function(h,V){if(h.pow(V,t)===h.neg(h.ONE))throw new Error("Cannot find square root");let $=i,I=h.pow(h.mul(h.ONE,l),n),q=h.pow(V,p),Ce=h.pow(V,n);for(;!h.eql(Ce,h.ONE);){if(h.eql(Ce,h.ZERO))return h.ZERO;let Be=1;for(let Ke=h.sqr(Ce);Be<$&&!h.eql(Ke,h.ONE);Be++)Ke=h.sqr(Ke);const Pe=h.pow(I,Ki<<BigInt($-Be-1));I=h.sqr(Pe),q=h.mul(q,Pe),Ce=h.mul(Ce,I),$=Be}return q}}(r)}(r),h=Object.freeze({ORDER:r,BITS:l,BYTES:p,MASK:fi(l),ZERO:Co,ONE:Ki,create:V=>ua(V,r),isValid:V=>{if("bigint"!=typeof V)throw new Error("Invalid field element: expected bigint, got "+typeof V);return Co<=V&&V<r},is0:V=>V===Co,isOdd:V=>(V&Ki)===Ki,neg:V=>ua(-V,r),eql:(V,$)=>V===$,sqr:V=>ua(V*V,r),add:(V,$)=>ua(V+$,r),sub:(V,$)=>ua(V-$,r),mul:(V,$)=>ua(V*$,r),pow:(V,$)=>function dl(r,t,n){if(n<Co)throw new Error("Expected power > 0");if(n===Co)return r.ONE;if(n===Ki)return t;let i=r.ONE,l=t;for(;n>Co;)n&Ki&&(i=r.mul(i,l)),l=r.sqr(l),n>>=Ki;return i}(h,V,$),div:(V,$)=>ua(V*ll($,r),r),sqrN:V=>V*V,addN:(V,$)=>V+$,subN:(V,$)=>V-$,mulN:(V,$)=>V*$,inv:V=>ll(V,r),sqrt:i.sqrt||(V=>c(h,V)),invertBatch:V=>function pc(r,t){const n=new Array(t.length),i=t.reduce((p,c,h)=>r.is0(c)?p:(n[h]=p,r.mul(p,c)),r.ONE),l=r.inv(i);return t.reduceRight((p,c,h)=>r.is0(c)?p:(n[h]=r.mul(p,n[h]),r.mul(p,c)),l),n}(h,V),cmov:(V,$,I)=>I?$:V,toBytes:V=>n?zr(V,p):Sr(V,p),fromBytes:V=>{if(V.length!==p)throw new Error(`Fp.fromBytes: expected ${p}, got ${V.length}`);return n?Ar(V):fr(V)}});return Object.freeze(h)}(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),Wr=function on(r,t){const n=i=>eo({...r,...Rt(i)});return Object.freeze({...n(t),create:n})}({a:pn.create(BigInt("-3")),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Fp:pn,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Te),to=Wr;function Mi(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);class Ot{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class jt{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return rn(this,t)}}class wt{decoders;constructor(t){this.decoders=t}or(t){return rn(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function rn(r,t){return new wt({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class Bn{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,l){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=l,this.encoder=new Ot(t,n,i),this.decoder=new jt(t,n,l)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function ei({name:r,prefix:t,encode:n,decode:i}){return new Bn(r,t,n,i)}function Vi({name:r,prefix:t,alphabet:n}){const{encode:i,decode:l}=function fd(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var l=0;l<r.length;l++){var p=r.charAt(l),c=p.charCodeAt(0);if(255!==n[c])throw new TypeError(p+" is ambiguous");n[c]=l}var h=r.length,V=r.charAt(0),$=Math.log(h)/Math.log(256),I=Math.log(256)/Math.log(h);function Ce(Pe){if("string"!=typeof Pe)throw new TypeError("Expected String");if(0===Pe.length)return new Uint8Array;var Ke=0;if(" "!==Pe[Ke]){for(var rt=0,ht=0;Pe[Ke]===V;)rt++,Ke++;for(var ct=(Pe.length-Ke)*$+1>>>0,dt=new Uint8Array(ct);Pe[Ke];){var At=n[Pe.charCodeAt(Ke)];if(255===At)return;for(var Pt=0,Ct=ct-1;(0!==At||Pt<ht)&&-1!==Ct;Ct--,Pt++)dt[Ct]=(At+=h*dt[Ct]>>>0)%256>>>0,At=At/256>>>0;if(0!==At)throw new Error("Non-zero carry");ht=Pt,Ke++}if(" "!==Pe[Ke]){for(var zt=ct-ht;zt!==ct&&0===dt[zt];)zt++;for(var Xt=new Uint8Array(rt+(ct-zt)),xn=rt;zt!==ct;)Xt[xn++]=dt[zt++];return Xt}}}return{encode:function q(Pe){if(Pe instanceof Uint8Array||(ArrayBuffer.isView(Pe)?Pe=new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength):Array.isArray(Pe)&&(Pe=Uint8Array.from(Pe))),!(Pe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Pe.length)return"";for(var Ke=0,rt=0,ht=0,ct=Pe.length;ht!==ct&&0===Pe[ht];)ht++,Ke++;for(var dt=(ct-ht)*I+1>>>0,At=new Uint8Array(dt);ht!==ct;){for(var Pt=Pe[ht],Ct=0,zt=dt-1;(0!==Pt||Ct<rt)&&-1!==zt;zt--,Ct++)At[zt]=(Pt+=256*At[zt]>>>0)%h>>>0,Pt=Pt/h>>>0;if(0!==Pt)throw new Error("Non-zero carry");rt=Ct,ht++}for(var Xt=dt-rt;Xt!==dt&&0===At[Xt];)Xt++;for(var xn=V.repeat(Ke);Xt<dt;++Xt)xn+=r.charAt(At[Xt]);return xn},decodeUnsafe:Ce,decode:function Be(Pe){var Ke=Ce(Pe);if(Ke)return Ke;throw new Error(`Non-${t} character`)}}}(n,r);return ei({prefix:t,name:r,encode:i,decode:p=>Mi(l(p))})}function fa({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return ei({prefix:t,name:r,encode:l=>function di(r,t,n){const i="="===t[t.length-1],l=(1<<n)-1;let p="",c=0,h=0;for(let V=0;V<r.length;++V)for(h=h<<8|r[V],c+=8;c>n;)c-=n,p+=t[l&h>>c];if(0!==c&&(p+=t[l&h<<n-c]),i)for(;p.length*n&7;)p+="=";return p}(l,i,n),decode:l=>function ys(r,t,n,i){const l={};for(let I=0;I<t.length;++I)l[t[I]]=I;let p=r.length;for(;"="===r[p-1];)--p;const c=new Uint8Array(p*n/8|0);let h=0,V=0,$=0;for(let I=0;I<p;++I){const q=l[r[I]];if(void 0===q)throw new SyntaxError(`Non-${i} character`);V=V<<n|q,h+=n,h>=8&&(h-=8,c[$++]=255&V>>h)}if(h>=n||255&V<<8-h)throw new SyntaxError("Unexpected end of data");return c}(l,i,n,r)})}const hd=Vi({prefix:"9",name:"base10",alphabet:"0123456789"}),Om=fa({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Gh=fa({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Ba=fa({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),$o=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),Xc=$o.reduce((r,t,n)=>(r[n]=t,r),[]),oc=$o.reduce((r,t,n)=>(r[t.codePointAt(0)]=n,r),[]),hl=ei({prefix:"\u{1f680}",name:"base256emoji",encode:function pd(r){return r.reduce((t,n)=>t+Xc[n],"")},decode:function nu(r){const t=[];for(const n of r){const i=oc[n.codePointAt(0)];if(void 0===i)throw new Error(`Non-base256emoji character: ${n}`);t.push(i)}return new Uint8Array(t)}}),yc=fa({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ru=fa({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),jl=fa({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Tu=fa({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),md=fa({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Du=fa({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),zi=fa({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Da=fa({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),_f=fa({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Sc=Vi({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),iu=Vi({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Nd=Vi({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Op=Vi({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Xh=fa({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),nv=fa({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Pp=fa({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),rv=fa({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Ef=fa({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Qs=ei({prefix:"\0",name:"identity",encode:r=>function bf(r){return(new TextDecoder).decode(r)}(r),decode:r=>function Xa(r){return(new TextEncoder).encode(r)}(r)}),Iu=new TextEncoder,Cu=new TextDecoder,xf="json",gs=512;function ku(r){return Iu.encode(JSON.stringify(r))}function Ru(r){return JSON.parse(Cu.decode(r))}const Zi="raw",Hi=85;function Sf(r){return Mi(r)}function Na(r){return Mi(r)}var gc=128,Ou=-128,oo=Math.pow(2,31),Uo=128,Ld=127,Mf=Math.pow(2,7),oh=Math.pow(2,14),sh=Math.pow(2,21),st=Math.pow(2,28),Jt=Math.pow(2,35),Tt=Math.pow(2,42),Kt=Math.pow(2,49),Mn=Math.pow(2,56),tr=Math.pow(2,63);const ji={encode:function pl(r,t,n){t=t||[];for(var i=n=n||0;r>=oo;)t[n++]=255&r|gc,r/=128;for(;r&Ou;)t[n++]=255&r|gc,r>>>=7;return t[n]=0|r,pl.bytes=n-i+1,t},decode:function Kl(r,i){var c,n=0,l=0,p=i=i||0,h=r.length;do{if(p>=h)throw Kl.bytes=0,new RangeError("Could not decode varint");c=r[p++],n+=l<28?(c&Ld)<<l:(c&Ld)*Math.pow(2,l),l+=7}while(c>=Uo);return Kl.bytes=p-i,n},encodingLength:function(r){return r<Mf?1:r<oh?2:r<sh?3:r<st?4:r<Jt?5:r<Tt?6:r<Kt?7:r<Mn?8:r<tr?9:10}};function Ir(r,t,n=0){return ji.encode(r,t,n),t}function Qo(r){return ji.encodingLength(r)}function ko(r,t){const n=t.byteLength,i=Qo(r),l=i+Qo(n),p=new Uint8Array(l+n);return Ir(r,p,0),Ir(n,p,i),p.set(t,l),new Ms(r,n,t,p)}class Ms{code;size;digest;bytes;constructor(t,n,i,l){this.code=t,this.size=n,this.digest=i,this.bytes=l}}const La=Mi,yl={code:0,name:"identity",encode:La,digest:function Ac(r){return ko(0,La(r))}};function gl({name:r,code:t,encode:n}){return new Pu(r,t,n)}class Pu{name;code;encode;constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?ko(this.code,n):n.then(i=>ko(this.code,i))}throw Error("Unknown type, must be binary type")}}function Pm(r){return function(){var t=(0,ye.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}()}const vc=gl({name:"sha2-256",code:18,encode:Pm("SHA-256")}),Ud=gl({name:"sha2-512",code:19,encode:Pm("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const Xe={...D,...z,...L,...E,...k,...O,...A,...P,...F,...x};function ve(r=0){return new Uint8Array(r)}function Ze(r=0){return new Uint8Array(r)}function qe(r,t,n,i){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:n},decoder:{decode:i}}}const pt=qe("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),Vt=qe("ascii","a",r=>{let t="a";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},r=>{const t=Ze((r=r.substring(1)).length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}),Gt={utf8:pt,"utf-8":pt,hex:Xe.base16,latin1:Vt,ascii:Vt,binary:Vt,...Xe};function bt(r,t="utf8"){const n=Gt[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${r}`)}var Lr=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};const pi_toString=function an(r,t="utf8"){const n=Gt[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.encoder.encode(r).substring(1)};class si{static validateKey(t){if("EC"!==t.kty||"P-256"!==t.crv)throw new ce(_e.Secp256r1KeyNotValid,"Invalid SECP256R1 JWK: `kty` MUST be `EC`. `crv` MUST be `P-256`")}static publicKeyToJwk(t){return Lr(this,void 0,void 0,function*(){let n;return n=33===t.byteLength?Wr.ProjectivePoint.fromHex(t).toRawBytes(!1):t,{alg:"ES256",kty:"EC",crv:"P-256",x:K.bytesToBase64Url(n.subarray(1,33)),y:K.bytesToBase64Url(n.subarray(33,65))}})}static privateJwkToBytes(t){return K.base64UrlToBytes(t.d)}static sign(t,n){return Lr(this,void 0,void 0,function*(){si.validateKey(n);const i=yield ue.encode(t),l=si.privateJwkToBytes(n);return Promise.resolve(Wr.sign(i,l).toCompactRawBytes())})}static verify(t,n,i){return Lr(this,void 0,void 0,function*(){let l;si.validateKey(i),l=64===n.length?Wr.Signature.fromCompact(n):Wr.Signature.fromDER(n);const p=yield ue.encode(t),c=Wr.ProjectivePoint.fromAffine({x:si.bytesToBigInt(K.base64UrlToBytes(i.x)),y:si.bytesToBigInt(K.base64UrlToBytes(i.y))}).toRawBytes(!1);return Wr.verify(l,p,c)})}static generateKeyPair(){return Lr(this,void 0,void 0,function*(){const t=Wr.utils.randomPrivateKey(),n=to.getPublicKey(t,!1),i=K.bytesToBase64Url(t),l=yield si.publicKeyToJwk(n);return{publicJwk:l,privateJwk:Object.assign(Object.assign({},l),{d:i})}})}static bytesToBigInt(t){return BigInt("0x"+pi_toString(t,"base16"))}}const hi={Ed25519:we,secp256k1:{sign:Ee.sign,verify:Ee.verify,generateKeyPair:Ee.generateKeyPair,publicKeyToJwk:Ee.publicKeyToJwk},"P-256":{sign:si.sign,verify:si.verify,generateKeyPair:si.generateKeyPair,publicKeyToJwk:si.publicKeyToJwk}};class Wo{constructor(t){var n,i;if(void 0===t.keyId&&void 0===t.privateJwk.kid)throw new ce(_e.PrivateKeySignerUnableToDeduceKeyId,"Unable to deduce the key ID");if(void 0===t.algorithm&&void 0===t.privateJwk.alg)throw new ce(_e.PrivateKeySignerUnableToDeduceAlgorithm,"Unable to deduce the signature algorithm");if(this.keyId=null!==(n=t.keyId)&&void 0!==n?n:t.privateJwk.kid,this.algorithm=null!==(i=t.algorithm)&&void 0!==i?i:t.privateJwk.alg,this.privateJwk=t.privateJwk,this.signatureAlgorithm=hi[t.privateJwk.crv],!this.signatureAlgorithm)throw new ce(_e.PrivateKeySignerUnsupportedCurve,`Unsupported crv ${t.privateJwk.crv}, crv must be one of ${Object.keys(hi)}`)}sign(t){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return yield this.signatureAlgorithm.sign(t,this.privateJwk)})}}class Cr{static getKid(t){const{kid:n}=K.base64UrlToObject(t.protected);return n}static getSignerDid(t){const n=Cr.getKid(t);return Cr.extractDid(n)}static verifySignature(t,n,i){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const l=hi[i.crv];if(!l)throw new ce(_e.JwsVerifySignatureUnsupportedCrv,`unsupported crv. crv must be one of ${Object.keys(hi)}`);const p=K.stringToBytes(`${n.protected}.${t}`),c=K.base64UrlToBytes(n.signature);return yield l.verify(p,c,i)})}static decodePlainObjectPayload(t){let n;try{n=K.base64UrlToObject(t.payload)}catch{throw new ce(_e.JwsDecodePlainObjectPayloadInvalid,"payload is not a JSON object")}if(!S(n))throw new ce(_e.JwsDecodePlainObjectPayloadInvalid,"signed payload must be a plain object");return n}static extractDid(t){const[n]=t.split("#");return n}static createSigners(t){return t.map(i=>Cr.createSigner(i))}static createSigner(t){return new Wo({privateJwk:t.keyPair.privateJwk,keyId:t.keyId})}}var ki=w(40573);const uo="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,$r=new Set,Mo="object"==typeof ki&&ki?ki:{},sc=(r,t,n,i)=>{"function"==typeof Mo.emitWarning?Mo.emitWarning(r,t,n,i):console.error(`[${n}] ${t}: ${r}`)};let Ge=globalThis.AbortController,ut=globalThis.AbortSignal;if(typeof Ge>"u"){ut=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(i,l){this._onabort.push(l)}},Ge=class{constructor(){t()}signal=new ut;abort(i){if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(const l of this.signal._onabort)l(i);this.signal.onabort?.(i)}}};let r="1"!==Mo.env?.LRU_CACHE_IGNORE_AC_WARNING;const t=()=>{r&&(r=!1,sc("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");const Ut=r=>r&&r===Math.floor(r)&&r>0&&isFinite(r),cn=r=>Ut(r)?r<=Math.pow(2,8)?Uint8Array:r<=Math.pow(2,16)?Uint16Array:r<=Math.pow(2,32)?Uint32Array:r<=Number.MAX_SAFE_INTEGER?Dn:null:null;class Dn extends Array{constructor(t){super(t),this.fill(0)}}class sr{heap;length;static#e=!1;static create(t){const n=cn(t);if(!n)return[];sr.#e=!0;const i=new sr(t,n);return sr.#e=!1,i}constructor(t,n){if(!sr.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class Gn{#e;#t;#n;#f;#A;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#s;#y;#a;#o;#r;#u;#p;#d;#c;#g;#l;#E;#x;#v;#b;#M;#h;static unsafeExposeInternals(t){return{starts:t.#x,ttls:t.#v,sizes:t.#E,keyMap:t.#a,keyList:t.#o,valList:t.#r,next:t.#u,prev:t.#p,get head(){return t.#d},get tail(){return t.#c},free:t.#g,isBackgroundFetch:n=>t.#i(n),backgroundFetch:(n,i,l,p)=>t.#R(n,i,l,p),moveToTail:n=>t.#I(n),indexes:n=>t.#w(n),rindexes:n=>t.#_(n),isStale:n=>t.#m(n)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#y}get size(){return this.#s}get fetchMethod(){return this.#A}get dispose(){return this.#n}get disposeAfter(){return this.#f}constructor(t){const{max:n=0,ttl:i,ttlResolution:l=1,ttlAutopurge:p,updateAgeOnGet:c,updateAgeOnHas:h,allowStale:V,dispose:$,disposeAfter:I,noDisposeOnSet:q,noUpdateTTL:Ce,maxSize:Be=0,maxEntrySize:Pe=0,sizeCalculation:Ke,fetchMethod:rt,noDeleteOnFetchRejection:ht,noDeleteOnStaleGet:ct,allowStaleOnFetchRejection:dt,allowStaleOnFetchAbort:At,ignoreFetchAbort:Pt}=t;if(0!==n&&!Ut(n))throw new TypeError("max option must be a nonnegative integer");const Ct=n?cn(n):Array;if(!Ct)throw new Error("invalid max value: "+n);if(this.#e=n,this.#t=Be,this.maxEntrySize=Pe||this.#t,this.sizeCalculation=Ke,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==rt&&"function"!=typeof rt)throw new TypeError("fetchMethod must be a function if specified");if(this.#A=rt,this.#M=!!rt,this.#a=new Map,this.#o=new Array(n).fill(void 0),this.#r=new Array(n).fill(void 0),this.#u=new Ct(n),this.#p=new Ct(n),this.#d=0,this.#c=0,this.#g=sr.create(n),this.#s=0,this.#y=0,"function"==typeof $&&(this.#n=$),"function"==typeof I?(this.#f=I,this.#l=[]):(this.#f=void 0,this.#l=void 0),this.#b=!!this.#n,this.#h=!!this.#f,this.noDisposeOnSet=!!q,this.noUpdateTTL=!!Ce,this.noDeleteOnFetchRejection=!!ht,this.allowStaleOnFetchRejection=!!dt,this.allowStaleOnFetchAbort=!!At,this.ignoreFetchAbort=!!Pt,0!==this.maxEntrySize){if(0!==this.#t&&!Ut(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!Ut(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#U()}if(this.allowStale=!!V,this.noDeleteOnStaleGet=!!ct,this.updateAgeOnGet=!!c,this.updateAgeOnHas=!!h,this.ttlResolution=Ut(l)||0===l?l:1,this.ttlAutopurge=!!p,this.ttl=i||0,this.ttl){if(!Ut(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#O()}if(0===this.#e&&0===this.ttl&&0===this.#t)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){const zt="LRU_CACHE_UNBOUNDED";!$r.has(zt)&&($r.add(zt),sc("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",zt,Gn))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#O(){const t=new Dn(this.#e),n=new Dn(this.#e);this.#v=t,this.#x=n,this.#P=(p,c,h=uo.now())=>{if(n[p]=0!==c?h:0,t[p]=c,0!==c&&this.ttlAutopurge){const V=setTimeout(()=>{this.#m(p)&&this.delete(this.#o[p])},c+1);V.unref&&V.unref()}},this.#T=p=>{n[p]=0!==t[p]?uo.now():0},this.#S=(p,c)=>{if(t[c]){const h=t[c],V=n[c];p.ttl=h,p.start=V,p.now=i||l(),p.remainingTTL=h-(p.now-V)}};let i=0;const l=()=>{const p=uo.now();if(this.ttlResolution>0){i=p;const c=setTimeout(()=>i=0,this.ttlResolution);c.unref&&c.unref()}return p};this.getRemainingTTL=p=>{const c=this.#a.get(p);if(void 0===c)return 0;const h=t[c],V=n[c];return 0===h||0===V?1/0:h-((i||l())-V)},this.#m=p=>0!==t[p]&&0!==n[p]&&(i||l())-n[p]>t[p]}#T=()=>{};#S=()=>{};#P=()=>{};#m=()=>!1;#U(){const t=new Dn(this.#e);this.#y=0,this.#E=t,this.#D=n=>{this.#y-=t[n],t[n]=0},this.#B=(n,i,l,p)=>{if(this.#i(i))return 0;if(!Ut(l)){if(!p)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof p)throw new TypeError("sizeCalculation must be a function");if(l=p(i,n),!Ut(l))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return l},this.#C=(n,i,l)=>{if(t[n]=i,this.#t){const p=this.#t-t[n];for(;this.#y>p;)this.#k(!0)}this.#y+=t[n],l&&(l.entrySize=i,l.totalCalculatedSize=this.#y)}}#D=t=>{};#C=(t,n,i)=>{};#B=(t,n,i,l)=>{if(i||l)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#w({allowStale:t=this.allowStale}={}){if(this.#s)for(let n=this.#c;this.#N(n)&&((t||!this.#m(n))&&(yield n),n!==this.#d);)n=this.#p[n]}*#_({allowStale:t=this.allowStale}={}){if(this.#s)for(let n=this.#d;this.#N(n)&&((t||!this.#m(n))&&(yield n),n!==this.#c);)n=this.#u[n]}#N(t){return void 0!==t&&this.#a.get(this.#o[t])===t}*entries(){for(const t of this.#w())void 0!==this.#r[t]&&void 0!==this.#o[t]&&!this.#i(this.#r[t])&&(yield[this.#o[t],this.#r[t]])}*rentries(){for(const t of this.#_())void 0!==this.#r[t]&&void 0!==this.#o[t]&&!this.#i(this.#r[t])&&(yield[this.#o[t],this.#r[t]])}*keys(){for(const t of this.#w()){const n=this.#o[t];void 0!==n&&!this.#i(this.#r[t])&&(yield n)}}*rkeys(){for(const t of this.#_()){const n=this.#o[t];void 0!==n&&!this.#i(this.#r[t])&&(yield n)}}*values(){for(const t of this.#w())void 0!==this.#r[t]&&!this.#i(this.#r[t])&&(yield this.#r[t])}*rvalues(){for(const t of this.#_())void 0!==this.#r[t]&&!this.#i(this.#r[t])&&(yield this.#r[t])}[Symbol.iterator](){return this.entries()}find(t,n={}){for(const i of this.#w()){const l=this.#r[i],p=this.#i(l)?l.__staleWhileFetching:l;if(void 0!==p&&t(p,this.#o[i],this))return this.get(this.#o[i],n)}}forEach(t,n=this){for(const i of this.#w()){const l=this.#r[i],p=this.#i(l)?l.__staleWhileFetching:l;void 0!==p&&t.call(n,p,this.#o[i],this)}}rforEach(t,n=this){for(const i of this.#_()){const l=this.#r[i],p=this.#i(l)?l.__staleWhileFetching:l;void 0!==p&&t.call(n,p,this.#o[i],this)}}purgeStale(){let t=!1;for(const n of this.#_({allowStale:!0}))this.#m(n)&&(this.delete(this.#o[n]),t=!0);return t}dump(){const t=[];for(const n of this.#w({allowStale:!0})){const i=this.#o[n],l=this.#r[n],p=this.#i(l)?l.__staleWhileFetching:l;if(void 0===p||void 0===i)continue;const c={value:p};if(this.#v&&this.#x){c.ttl=this.#v[n];const h=uo.now()-this.#x[n];c.start=Math.floor(Date.now()-h)}this.#E&&(c.size=this.#E[n]),t.unshift([i,c])}return t}load(t){this.clear();for(const[n,i]of t){if(i.start){const l=Date.now()-i.start;i.start=uo.now()-l}this.set(n,i.value,i)}}set(t,n,i={}){if(void 0===n)return this.delete(t),this;const{ttl:l=this.ttl,start:p,noDisposeOnSet:c=this.noDisposeOnSet,sizeCalculation:h=this.sizeCalculation,status:V}=i;let{noUpdateTTL:$=this.noUpdateTTL}=i;const I=this.#B(t,n,i.size||0,h);if(this.maxEntrySize&&I>this.maxEntrySize)return V&&(V.set="miss",V.maxEntrySizeExceeded=!0),this.delete(t),this;let q=0===this.#s?void 0:this.#a.get(t);if(void 0===q)q=0===this.#s?this.#c:0!==this.#g.length?this.#g.pop():this.#s===this.#e?this.#k(!1):this.#s,this.#o[q]=t,this.#r[q]=n,this.#a.set(t,q),this.#u[this.#c]=q,this.#p[q]=this.#c,this.#c=q,this.#s++,this.#C(q,I,V),V&&(V.set="add"),$=!1;else{this.#I(q);const Ce=this.#r[q];if(n!==Ce){if(this.#M&&this.#i(Ce)?Ce.__abortController.abort(new Error("replaced")):c||(this.#b&&this.#n?.(Ce,t,"set"),this.#h&&this.#l?.push([Ce,t,"set"])),this.#D(q),this.#C(q,I,V),this.#r[q]=n,V){V.set="replace";const Be=Ce&&this.#i(Ce)?Ce.__staleWhileFetching:Ce;void 0!==Be&&(V.oldValue=Be)}}else V&&(V.set="update")}if(0!==l&&!this.#v&&this.#O(),this.#v&&($||this.#P(q,l,p),V&&this.#S(V,q)),!c&&this.#h&&this.#l){const Ce=this.#l;let Be;for(;Be=Ce?.shift();)this.#f?.(...Be)}return this}pop(){try{for(;this.#s;){const t=this.#r[this.#d];if(this.#k(!0),this.#i(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#h&&this.#l){const t=this.#l;let n;for(;n=t?.shift();)this.#f?.(...n)}}}#k(t){const n=this.#d,i=this.#o[n],l=this.#r[n];return this.#M&&this.#i(l)?l.__abortController.abort(new Error("evicted")):(this.#b||this.#h)&&(this.#b&&this.#n?.(l,i,"evict"),this.#h&&this.#l?.push([l,i,"evict"])),this.#D(n),t&&(this.#o[n]=void 0,this.#r[n]=void 0,this.#g.push(n)),1===this.#s?(this.#d=this.#c=0,this.#g.length=0):this.#d=this.#u[n],this.#a.delete(i),this.#s--,n}has(t,n={}){const{updateAgeOnHas:i=this.updateAgeOnHas,status:l}=n,p=this.#a.get(t);if(void 0!==p){const c=this.#r[p];if(this.#i(c)&&void 0===c.__staleWhileFetching)return!1;if(!this.#m(p))return i&&this.#T(p),l&&(l.has="hit",this.#S(l,p)),!0;l&&(l.has="stale",this.#S(l,p))}else l&&(l.has="miss");return!1}peek(t,n={}){const{allowStale:i=this.allowStale}=n,l=this.#a.get(t);if(void 0!==l&&(i||!this.#m(l))){const p=this.#r[l];return this.#i(p)?p.__staleWhileFetching:p}}#R(t,n,i,l){const p=void 0===n?void 0:this.#r[n];if(this.#i(p))return p;const c=new Ge,{signal:h}=i;h?.addEventListener("abort",()=>c.abort(h.reason),{signal:c.signal});const V={signal:c.signal,options:i,context:l},$=(Ke,rt=!1)=>{const{aborted:ht}=c.signal,ct=i.ignoreFetchAbort&&void 0!==Ke;return i.status&&(ht&&!rt?(i.status.fetchAborted=!0,i.status.fetchError=c.signal.reason,ct&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),!ht||ct||rt?(this.#r[n]===Be&&(void 0===Ke?Be.__staleWhileFetching?this.#r[n]=Be.__staleWhileFetching:this.delete(t):(i.status&&(i.status.fetchUpdated=!0),this.set(t,Ke,V.options))),Ke):q(c.signal.reason)},q=Ke=>{const{aborted:rt}=c.signal,ht=rt&&i.allowStaleOnFetchAbort,ct=ht||i.allowStaleOnFetchRejection,At=Be;if(this.#r[n]===Be&&((ct||i.noDeleteOnFetchRejection)&&void 0!==At.__staleWhileFetching?ht||(this.#r[n]=At.__staleWhileFetching):this.delete(t)),ct)return i.status&&void 0!==At.__staleWhileFetching&&(i.status.returnedStale=!0),At.__staleWhileFetching;if(At.__returned===At)throw Ke};i.status&&(i.status.fetchDispatched=!0);const Be=new Promise((Ke,rt)=>{const ht=this.#A?.(t,p,V);ht&&ht instanceof Promise&&ht.then(ct=>Ke(ct),rt),c.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(Ke(),i.allowStaleOnFetchAbort&&(Ke=ct=>$(ct,!0)))})}).then($,Ke=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=Ke),q(Ke))),Pe=Object.assign(Be,{__abortController:c,__staleWhileFetching:p,__returned:void 0});return void 0===n?(this.set(t,Pe,{...V.options,status:void 0}),n=this.#a.get(t)):this.#r[n]=Pe,Pe}#i(t){if(!this.#M)return!1;const n=t;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof Ge}fetch(t,n={}){var i=this;return(0,ye.A)(function*(){const{allowStale:l=i.allowStale,updateAgeOnGet:p=i.updateAgeOnGet,noDeleteOnStaleGet:c=i.noDeleteOnStaleGet,ttl:h=i.ttl,noDisposeOnSet:V=i.noDisposeOnSet,size:$=0,sizeCalculation:I=i.sizeCalculation,noUpdateTTL:q=i.noUpdateTTL,noDeleteOnFetchRejection:Ce=i.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Be=i.allowStaleOnFetchRejection,ignoreFetchAbort:Pe=i.ignoreFetchAbort,allowStaleOnFetchAbort:Ke=i.allowStaleOnFetchAbort,context:rt,forceRefresh:ht=!1,status:ct,signal:dt}=n;if(!i.#M)return ct&&(ct.fetch="get"),i.get(t,{allowStale:l,updateAgeOnGet:p,noDeleteOnStaleGet:c,status:ct});const At={allowStale:l,updateAgeOnGet:p,noDeleteOnStaleGet:c,ttl:h,noDisposeOnSet:V,size:$,sizeCalculation:I,noUpdateTTL:q,noDeleteOnFetchRejection:Ce,allowStaleOnFetchRejection:Be,allowStaleOnFetchAbort:Ke,ignoreFetchAbort:Pe,status:ct,signal:dt};let Pt=i.#a.get(t);if(void 0===Pt){ct&&(ct.fetch="miss");const Ct=i.#R(t,Pt,At,rt);return Ct.__returned=Ct}{const Ct=i.#r[Pt];if(i.#i(Ct)){const Nn=l&&void 0!==Ct.__staleWhileFetching;return ct&&(ct.fetch="inflight",Nn&&(ct.returnedStale=!0)),Nn?Ct.__staleWhileFetching:Ct.__returned=Ct}const zt=i.#m(Pt);if(!ht&&!zt)return ct&&(ct.fetch="hit"),i.#I(Pt),p&&i.#T(Pt),ct&&i.#S(ct,Pt),Ct;const Xt=i.#R(t,Pt,At,rt),Cn=void 0!==Xt.__staleWhileFetching&&l;return ct&&(ct.fetch=zt?"stale":"refresh",Cn&&zt&&(ct.returnedStale=!0)),Cn?Xt.__staleWhileFetching:Xt.__returned=Xt}})()}get(t,n={}){const{allowStale:i=this.allowStale,updateAgeOnGet:l=this.updateAgeOnGet,noDeleteOnStaleGet:p=this.noDeleteOnStaleGet,status:c}=n,h=this.#a.get(t);if(void 0!==h){const V=this.#r[h],$=this.#i(V);return c&&this.#S(c,h),this.#m(h)?(c&&(c.get="stale"),$?(c&&i&&void 0!==V.__staleWhileFetching&&(c.returnedStale=!0),i?V.__staleWhileFetching:void 0):(p||this.delete(t),c&&i&&(c.returnedStale=!0),i?V:void 0)):(c&&(c.get="hit"),$?V.__staleWhileFetching:(this.#I(h),l&&this.#T(h),V))}c&&(c.get="miss")}#L(t,n){this.#p[n]=t,this.#u[t]=n}#I(t){t!==this.#c&&(t===this.#d?this.#d=this.#u[t]:this.#L(this.#p[t],this.#u[t]),this.#L(this.#c,t),this.#c=t)}delete(t){let n=!1;if(0!==this.#s){const i=this.#a.get(t);if(void 0!==i)if(n=!0,1===this.#s)this.clear();else{this.#D(i);const l=this.#r[i];this.#i(l)?l.__abortController.abort(new Error("deleted")):(this.#b||this.#h)&&(this.#b&&this.#n?.(l,t,"delete"),this.#h&&this.#l?.push([l,t,"delete"])),this.#a.delete(t),this.#o[i]=void 0,this.#r[i]=void 0,i===this.#c?this.#c=this.#p[i]:i===this.#d?this.#d=this.#u[i]:(this.#u[this.#p[i]]=this.#u[i],this.#p[this.#u[i]]=this.#p[i]),this.#s--,this.#g.push(i)}}if(this.#h&&this.#l?.length){const i=this.#l;let l;for(;l=i?.shift();)this.#f?.(...l)}return n}clear(){for(const t of this.#_({allowStale:!0})){const n=this.#r[t];if(this.#i(n))n.__abortController.abort(new Error("deleted"));else{const i=this.#o[t];this.#b&&this.#n?.(n,i,"delete"),this.#h&&this.#l?.push([n,i,"delete"])}}if(this.#a.clear(),this.#r.fill(void 0),this.#o.fill(void 0),this.#v&&this.#x&&(this.#v.fill(0),this.#x.fill(0)),this.#E&&this.#E.fill(0),this.#d=0,this.#c=0,this.#g.length=0,this.#y=0,this.#s=0,this.#h&&this.#l){const t=this.#l;let n;for(;n=t?.shift();)this.#f?.(...n)}}}var Gr=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Ui{constructor(t){this.timeToLiveInSeconds=t,this.cache=new Gn({max:1e5,ttl:1e3*t})}set(t,n){return Gr(this,void 0,void 0,function*(){try{this.cache.set(t,n)}catch{}})}get(t){return Gr(this,void 0,void 0,function*(){return this.cache.get(t)})}}const fo=js,Ua=new RegExp("^[A-Za-z0-9_-]+$","u");function Pi(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){const V=Pi.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return Pi.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Ce=0;for(const Be in r)if("payload"!==Be&&"signatures"!==Be)return Pi.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Be},message:"must NOT have additional properties"}],!1;if(0===Ce){if(void 0!==r.payload){let Be=r.payload;const Pe=0;if("string"!=typeof Be)return Pi.errors=[{instancePath:t+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ua.test(Be))return Pi.errors=[{instancePath:t+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;var $=0===Pe}else $=!0;if($)if(void 0!==r.signatures){let Be=r.signatures;const Pe=0;if(0===Pe){if(!Array.isArray(Be))return Pi.errors=[{instancePath:t+"/signatures",schemaPath:"#/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Be.length<1)return Pi.errors=[{instancePath:t+"/signatures",schemaPath:"#/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const rt=Be.length;for(let ht=0;ht<rt;ht++){let ct=Be[ht];const dt=0;if(0===dt){if(!ct||"object"!=typeof ct||Array.isArray(ct))return Pi.errors=[{instancePath:t+"/signatures/"+ht,schemaPath:"#/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==ct.protected){let Pt=ct.protected;const Ct=0;if("string"!=typeof Pt)return Pi.errors=[{instancePath:t+"/signatures/"+ht+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ua.test(Pt))return Pi.errors=[{instancePath:t+"/signatures/"+ht+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;var q=0===Ct}else q=!0;if(q)if(void 0!==ct.signature){let Pt=ct.signature;const Ct=0;if("string"!=typeof Pt)return Pi.errors=[{instancePath:t+"/signatures/"+ht+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ua.test(Pt))return Pi.errors=[{instancePath:t+"/signatures/"+ht+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;q=0===Ct}else q=!0}if(0!==dt)break}}}$=0===Pe}else $=!0}}return Pi.errors=null,!0}function js(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=js.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return js.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const $=h;for(const I in r)if("signature"!==I)return js.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:I},message:"must NOT have additional properties"}],!1;$===h&&void 0!==r.signature&&(Pi(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:l,dynamicAnchors:p})||(c=null===c?Pi.errors:c.concat(Pi.errors),h=c.length))}}return js.errors=c,0===h}Pi.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},js.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Nw=Zc,Np={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-write-unidentified.json",type:"object",required:["descriptor"],properties:{recordId:{type:"string"},contextId:{type:"string",pattern:"^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"},attestation:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-owner.json"},encryption:{type:"object",properties:{algorithm:{type:"string",enum:["A256CTR"]},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},keyEncryption:{type:"array",minItems:1,items:{type:"object",properties:{rootKeyId:{type:"string"},derivationScheme:{type:"string",enum:["dataFormats","protocolContext","protocolPath","schemas"]},derivedPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},algorithm:{type:"string",enum:["ECIES-ES256K"]},encryptedKey:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},ephemeralPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},messageAuthenticationCode:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"}},additionalProperties:!1,required:["rootKeyId","derivationScheme","algorithm","encryptedKey","initializationVector","ephemeralPublicKey","messageAuthenticationCode"]}}},additionalProperties:!1,required:["algorithm","initializationVector","keyEncryption"]},descriptor:{type:"object",properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Write"],type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},protocol:{type:"string"},protocolPath:{type:"string",pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},schema:{type:"string"},tags:{type:"object",minProperties:1,maxProperties:10,additionalProperties:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"},{type:"array",minItems:1,maxItems:10,items:{type:"string"}},{type:"array",minItems:1,maxItems:10,items:{type:"number"}}]}},parentId:{type:"string"},dataCid:{type:"string"},dataSize:{type:"number"},dateCreated:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},published:{type:"boolean"},datePublished:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},dataFormat:{type:"string"}},additionalProperties:!1,required:["interface","method","dataCid","dataSize","dateCreated","messageTimestamp","dataFormat"],dependencies:{parentId:["protocol"]},allOf:[{$comment:"rule defining `published` and `datePublished` relationship",anyOf:[{properties:{published:{type:"boolean",enum:[!0]}},required:["published","datePublished"]},{properties:{published:{type:"boolean",enum:[!1]}},not:{required:["datePublished"]}},{allOf:[{not:{required:["published"]}},{not:{required:["datePublished"]}}]}]}]}},$comment:"rule defining `protocol` and `contextId` relationship",anyOf:[{properties:{descriptor:{type:"object",required:["protocol","protocolPath"]}},required:["contextId"]},{allOf:[{not:{required:["contextId"]}},{properties:{descriptor:{type:"object",not:{required:["protocol"]}}}},{properties:{descriptor:{type:"object",not:{required:["protocolPath"]}}}}]}]},HE=new RegExp("^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$","u"),Bm=new RegExp("^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$","u"),Uw=new RegExp("^[a-zA-Z]+(/[a-zA-Z]+)*$","u"),Tc=new RegExp("^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$","u"),uy={validate:gd};function Bu(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=Bu.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return Bu.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const I=h;for(const q in r)if("signature"!==q&&"authorDelegatedGrant"!==q&&"ownerSignature"!==q&&"ownerDelegatedGrant"!==q)return Bu.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:q},message:"must NOT have additional properties"}],!1;if(I===h){let q;if(void 0!==r.ownerSignature&&void 0===r.signature&&(q="signature"))return Bu.errors=[{instancePath:t,schemaPath:"#/dependencies",keyword:"dependencies",params:{property:"ownerSignature",missingProperty:q,depsCount:1,deps:"signature"},message:"must have property signature when property ownerSignature is present"}],!1;if(void 0!==r.signature){const Ce=h;Pi(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:l,dynamicAnchors:p})||(c=null===c?Pi.errors:c.concat(Pi.errors),h=c.length);var $=Ce===h}else $=!0;if($){if(void 0!==r.authorDelegatedGrant){const Ce=h;uy.validate(r.authorDelegatedGrant,{instancePath:t+"/authorDelegatedGrant",parentData:r,parentDataProperty:"authorDelegatedGrant",rootData:l,dynamicAnchors:p})||(c=null===c?uy.validate.errors:c.concat(uy.validate.errors),h=c.length),$=Ce===h}else $=!0;if($){if(void 0!==r.ownerSignature){const Ce=h;Pi(r.ownerSignature,{instancePath:t+"/ownerSignature",parentData:r,parentDataProperty:"ownerSignature",rootData:l,dynamicAnchors:p})||(c=null===c?Pi.errors:c.concat(Pi.errors),h=c.length),$=Ce===h}else $=!0;if($)if(void 0!==r.ownerDelegatedGrant){const Ce=h;uy.validate(r.ownerDelegatedGrant,{instancePath:t+"/ownerDelegatedGrant",parentData:r,parentDataProperty:"ownerDelegatedGrant",rootData:l,dynamicAnchors:p})||(c=null===c?uy.validate.errors:c.concat(uy.validate.errors),h=c.length),$=Ce===h}else $=!0}}}}}return Bu.errors=c,0===h}Bu.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const WE={$id:"https://identity.foundation/dwn/json-schemas/general-jwk.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",required:["kty"],properties:{alg:{type:"string"},kid:{type:"string"},kty:{enum:["EC","RSA","oct","OKP"]},crv:{type:"string"},use:{type:"string"},key_ops:{type:"string"},x5u:{type:"string"},x5c:{type:"string"},x5t:{type:"string"},"x5t#S256":{type:"string"}},oneOf:[{properties:{kty:{const:"EC"},crv:{type:"string"},x:{type:"string"},y:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"OKP"},crv:{type:"string"},x:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"RSA"},n:{type:"string"},e:{type:"string"},d:{type:"string"},p:{type:"string"},q:{type:"string"},dp:{type:"string"},dq:{type:"string"},qi:{type:"string"},oth:{type:"object"}},required:["n","e"]},{properties:{kty:{const:"oct"},k:{type:"string"}},required:["k"]}]};function es(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=es.evaluated;V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0);const $=h,I=h;let q=!1,Ce=null;const Be=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let Hn;if(void 0===r.crv&&(Hn="crv")||void 0===r.x&&(Hn="x")){const ln={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/required",keyword:"required",params:{missingProperty:Hn},message:"must have required property '"+Hn+"'"};null===c?c=[ln]:c.push(ln),h++}else{if(void 0!==r.kty){const ln=h;if("EC"!==r.kty){const vn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===c?c=[vn]:c.push(vn),h++}var Pe=ln===h}else Pe=!0;if(Pe){if(void 0!==r.crv){const ln=h;if("string"!=typeof r.crv){const wn={instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[wn]:c.push(wn),h++}Pe=ln===h}else Pe=!0;if(Pe){if(void 0!==r.x){const ln=h;if("string"!=typeof r.x){const wn={instancePath:t+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[wn]:c.push(wn),h++}Pe=ln===h}else Pe=!0;if(Pe){if(void 0!==r.y){const ln=h;if("string"!=typeof r.y){const wn={instancePath:t+"/y",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[wn]:c.push(wn),h++}Pe=ln===h}else Pe=!0;if(Pe)if(void 0!==r.d){const ln=h;if("string"!=typeof r.d){const wn={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[wn]:c.push(wn),h++}Pe=ln===h}else Pe=!0}}}}}if(ct=Be===h){q=!0,Ce=0;var Ke={kty:!0,crv:!0,x:!0,y:!0,d:!0}}const rt=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let Hn;if(void 0===r.crv&&(Hn="crv")||void 0===r.x&&(Hn="x")){const ln={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/required",keyword:"required",params:{missingProperty:Hn},message:"must have required property '"+Hn+"'"};null===c?c=[ln]:c.push(ln),h++}else{if(void 0!==r.kty){const ln=h;if("OKP"!==r.kty){const vn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===c?c=[vn]:c.push(vn),h++}var ht=ln===h}else ht=!0;if(ht){if(void 0!==r.crv){const ln=h;if("string"!=typeof r.crv){const wn={instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[wn]:c.push(wn),h++}ht=ln===h}else ht=!0;if(ht){if(void 0!==r.x){const ln=h;if("string"!=typeof r.x){const wn={instancePath:t+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[wn]:c.push(wn),h++}ht=ln===h}else ht=!0;if(ht)if(void 0!==r.d){const ln=h;if("string"!=typeof r.d){const wn={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[wn]:c.push(wn),h++}ht=ln===h}else ht=!0}}}}if((ct=rt===h)&&q)q=!1,Ce=[Ce,1];else{ct&&(q=!0,Ce=1,!0!==Ke&&((Ke=Ke||{}).kty=!0,Ke.crv=!0,Ke.x=!0,Ke.d=!0));const Hn=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let vn;if(void 0===r.n&&(vn="n")||void 0===r.e&&(vn="e")){const wn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/required",keyword:"required",params:{missingProperty:vn},message:"must have required property '"+vn+"'"};null===c?c=[wn]:c.push(wn),h++}else{if(void 0!==r.kty){const wn=h;if("RSA"!==r.kty){const Un={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===c?c=[Un]:c.push(Un),h++}var dt=wn===h}else dt=!0;if(dt){if(void 0!==r.n){const wn=h;if("string"!=typeof r.n){const Sn={instancePath:t+"/n",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Sn]:c.push(Sn),h++}dt=wn===h}else dt=!0;if(dt){if(void 0!==r.e){const wn=h;if("string"!=typeof r.e){const Sn={instancePath:t+"/e",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Sn]:c.push(Sn),h++}dt=wn===h}else dt=!0;if(dt){if(void 0!==r.d){const wn=h;if("string"!=typeof r.d){const Sn={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Sn]:c.push(Sn),h++}dt=wn===h}else dt=!0;if(dt){if(void 0!==r.p){const wn=h;if("string"!=typeof r.p){const Sn={instancePath:t+"/p",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Sn]:c.push(Sn),h++}dt=wn===h}else dt=!0;if(dt){if(void 0!==r.q){const wn=h;if("string"!=typeof r.q){const Sn={instancePath:t+"/q",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Sn]:c.push(Sn),h++}dt=wn===h}else dt=!0;if(dt){if(void 0!==r.dp){const wn=h;if("string"!=typeof r.dp){const Sn={instancePath:t+"/dp",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Sn]:c.push(Sn),h++}dt=wn===h}else dt=!0;if(dt){if(void 0!==r.dq){const wn=h;if("string"!=typeof r.dq){const Sn={instancePath:t+"/dq",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Sn]:c.push(Sn),h++}dt=wn===h}else dt=!0;if(dt){if(void 0!==r.qi){const wn=h;if("string"!=typeof r.qi){const Sn={instancePath:t+"/qi",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Sn]:c.push(Sn),h++}dt=wn===h}else dt=!0;if(dt)if(void 0!==r.oth){let wn=r.oth;const Un=h;if(!wn||"object"!=typeof wn||Array.isArray(wn)){const Vn={instancePath:t+"/oth",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Vn]:c.push(Vn),h++}dt=Un===h}else dt=!0}}}}}}}}}}if((ct=Hn===h)&&q)q=!1,Ce=[Ce,2];else{ct&&(q=!0,Ce=2,!0!==Ke&&((Ke=Ke||{}).kty=!0,Ke.n=!0,Ke.e=!0,Ke.d=!0,Ke.p=!0,Ke.q=!0,Ke.dp=!0,Ke.dq=!0,Ke.qi=!0,Ke.oth=!0));const vn=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let Un;if(void 0===r.k&&(Un="k")){const Sn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/required",keyword:"required",params:{missingProperty:Un},message:"must have required property '"+Un+"'"};null===c?c=[Sn]:c.push(Sn),h++}else{if(void 0!==r.kty){const Sn=h;if("oct"!==r.kty){const Vn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===c?c=[Vn]:c.push(Vn),h++}var At=Sn===h}else At=!0;if(At)if(void 0!==r.k){const Sn=h;if("string"!=typeof r.k){const lr={instancePath:t+"/k",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[lr]:c.push(lr),h++}At=Sn===h}else At=!0}}var ct;(ct=vn===h)&&q?(q=!1,Ce=[Ce,3]):ct&&(q=!0,Ce=3,!0!==Ke&&((Ke=Ke||{}).kty=!0,Ke.k=!0))}}if(!q){const Hn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf",keyword:"oneOf",params:{passingSchemas:Ce},message:"must match exactly one schema in oneOf"};return null===c?c=[Hn]:c.push(Hn),h++,es.errors=c,!1}if(h=I,null!==c&&(I?c.length=I:c=null),h===$){if(!r||"object"!=typeof r||Array.isArray(r))return es.errors=[{instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Hn;if(void 0===r.kty&&(Hn="kty"))return es.errors=[{instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/required",keyword:"required",params:{missingProperty:Hn},message:"must have required property '"+Hn+"'"}],!1;if(!0!==Ke&&((Ke=Ke||{}).alg=!0,Ke.kid=!0,Ke.kty=!0,Ke.crv=!0,Ke.use=!0,Ke.key_ops=!0,Ke.x5u=!0,Ke.x5c=!0,Ke.x5t=!0,Ke["x5t#S256"]=!0),void 0!==r.alg){const ln=h;if("string"!=typeof r.alg)return es.errors=[{instancePath:t+"/alg",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Pt=ln===h}else Pt=!0;if(Pt){if(void 0!==r.kid){const ln=h;if("string"!=typeof r.kid)return es.errors=[{instancePath:t+"/kid",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pt=ln===h}else Pt=!0;if(Pt){if(void 0!==r.kty){let ln=r.kty;const vn=h;if("EC"!==ln&&"RSA"!==ln&&"oct"!==ln&&"OKP"!==ln)return es.errors=[{instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kty/enum",keyword:"enum",params:{allowedValues:WE.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;Pt=vn===h}else Pt=!0;if(Pt){if(void 0!==r.crv){const ln=h;if("string"!=typeof r.crv)return es.errors=[{instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pt=ln===h}else Pt=!0;if(Pt){if(void 0!==r.use){const ln=h;if("string"!=typeof r.use)return es.errors=[{instancePath:t+"/use",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pt=ln===h}else Pt=!0;if(Pt){if(void 0!==r.key_ops){const ln=h;if("string"!=typeof r.key_ops)return es.errors=[{instancePath:t+"/key_ops",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pt=ln===h}else Pt=!0;if(Pt){if(void 0!==r.x5u){const ln=h;if("string"!=typeof r.x5u)return es.errors=[{instancePath:t+"/x5u",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pt=ln===h}else Pt=!0;if(Pt){if(void 0!==r.x5c){const ln=h;if("string"!=typeof r.x5c)return es.errors=[{instancePath:t+"/x5c",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pt=ln===h}else Pt=!0;if(Pt){if(void 0!==r.x5t){const ln=h;if("string"!=typeof r.x5t)return es.errors=[{instancePath:t+"/x5t",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pt=ln===h}else Pt=!0;if(Pt)if(void 0!==r["x5t#S256"]){const ln=h;if("string"!=typeof r["x5t#S256"])return es.errors=[{instancePath:t+"/x5t#S256",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pt=ln===h}else Pt=!0}}}}}}}}}}if($===h){const Hn=h,ln=h,vn=h;let wn=!1;const Un=h,Sn=h;let Vn=!1;const lr=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let yr;if(void 0===r.d&&(yr="d")){const Ri={};null===c?c=[Ri]:c.push(Ri),h++}}if(Vn=Vn||lr===h,Vn)h=Sn,null!==c&&(Sn?c.length=Sn:c=null);else{const yr={};null===c?c=[yr]:c.push(yr),h++}if(h===Un)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty&&"EC"!==r.kty){const yr={};null===c?c=[yr]:c.push(yr),h++}}else{const yr={};null===c?c=[yr]:c.push(yr),h++}var ir=Un===h;if(wn=wn||ir,ir)var Xt={kty:!0};const cr=h,yn=h;let dr=!1;const xr=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let yr;if(void 0===r.d&&(yr="d")){const Ri={};null===c?c=[Ri]:c.push(Ri),h++}}if(dr=dr||xr===h,dr)h=yn,null!==c&&(yn?c.length=yn:c=null);else{const yr={};null===c?c=[yr]:c.push(yr),h++}if(h===cr)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty&&"OKP"!==r.kty){const yr={};null===c?c=[yr]:c.push(yr),h++}}else{const yr={};null===c?c=[yr]:c.push(yr),h++}ir=cr===h,wn=wn||ir,ir&&!0!==Xt&&((Xt=Xt||{}).kty=!0);const Zn=h,On=h;let qn=!1;const mr=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let yr;if(void 0===r.d&&(yr="d")){const Ri={};null===c?c=[Ri]:c.push(Ri),h++}}var Cn=mr===h;qn=qn||Cn;const kr=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let yr;if(void 0===r.p&&(yr="p")){const Ri={};null===c?c=[Ri]:c.push(Ri),h++}}Cn=kr===h,qn=qn||Cn;const Nr=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let yr;if(void 0===r.q&&(yr="q")){const Ri={};null===c?c=[Ri]:c.push(Ri),h++}}Cn=Nr===h,qn=qn||Cn;const Mr=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let yr;if(void 0===r.dp&&(yr="dp")){const Ri={};null===c?c=[Ri]:c.push(Ri),h++}}Cn=Mr===h,qn=qn||Cn;const Dr=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let yr;if(void 0===r.dq&&(yr="dq")){const Ri={};null===c?c=[Ri]:c.push(Ri),h++}}Cn=Dr===h,qn=qn||Cn;const ui=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let yr;if(void 0===r.qi&&(yr="qi")){const Ri={};null===c?c=[Ri]:c.push(Ri),h++}}Cn=ui===h,qn=qn||Cn;const Zs=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let yr;if(void 0===r.oth&&(yr="oth")){const Ri={};null===c?c=[Ri]:c.push(Ri),h++}}if(Cn=Zs===h,qn=qn||Cn,qn)h=On,null!==c&&(On?c.length=On:c=null);else{const yr={};null===c?c=[yr]:c.push(yr),h++}if(h===Zn)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty){const yr=h;if("RSA"!==r.kty){const Ri={};null===c?c=[Ri]:c.push(Ri),h++}var Nn=yr===h}else Nn=!0;if(Nn)if(void 0!==r.oth){let yr=r.oth;const Ri=h;if(!yr||"object"!=typeof yr||Array.isArray(yr)){const wi={};null===c?c=[wi]:c.push(wi),h++}Nn=Ri===h}else Nn=!0}else{const yr={};null===c?c=[yr]:c.push(yr),h++}if(ir=Zn===h,wn=wn||ir,ir&&!0!==Xt&&((Xt=Xt||{}).kty=!0,Xt.d=!0,Xt.p=!0,Xt.q=!0,Xt.dp=!0,Xt.dq=!0,Xt.qi=!0,Xt.oth=!0),wn)h=vn,null!==c&&(vn?c.length=vn:c=null);else{const yr={};null===c?c=[yr]:c.push(yr),h++}if(ln===h)return es.errors=[{instancePath:t,schemaPath:"#/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;h=Hn,null!==c&&(Hn?c.length=Hn:c=null)}return es.errors=c,V.props=Ke,0===h}es.evaluated={dynamicProps:!0,dynamicItems:!1};const IA=Object.prototype.hasOwnProperty;function oi(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=oi.evaluated;V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0);const $=h;let I=!1;const q=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let cr;if(void 0===r.contextId&&(cr="contextId")){const yn={instancePath:t,schemaPath:"#/anyOf/0/required",keyword:"required",params:{missingProperty:cr},message:"must have required property '"+cr+"'"};null===c?c=[yn]:c.push(yn),h++}else if(void 0!==r.descriptor){let yn=r.descriptor;if(h==h)if(yn&&"object"==typeof yn&&!Array.isArray(yn)){let xr;if(void 0===yn.protocol&&(xr="protocol")||void 0===yn.protocolPath&&(xr="protocolPath")){const Zn={instancePath:t+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/required",keyword:"required",params:{missingProperty:xr},message:"must have required property '"+xr+"'"};null===c?c=[Zn]:c.push(Zn),h++}}else{const xr={instancePath:t+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[xr]:c.push(xr),h++}}}var Pt=q===h;if(I=I||Pt,Pt)var Ce={descriptor:!0};const Be=h,Pe=h,Ke=h,rt=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let cr;if(void 0===r.contextId&&(cr="contextId")){const yn={};null===c?c=[yn]:c.push(yn),h++}}if(rt===h){const cr={instancePath:t,schemaPath:"#/anyOf/1/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[cr]:c.push(cr),h++}else h=Ke,null!==c&&(Ke?c.length=Ke:c=null);if(Pe===h){const cr=h;if(r&&"object"==typeof r&&!Array.isArray(r)&&void 0!==r.descriptor){let dr=r.descriptor;if(!dr||"object"!=typeof dr||Array.isArray(dr)){const On={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[On]:c.push(On),h++}const xr=h,Zn=h;if(dr&&"object"==typeof dr&&!Array.isArray(dr)){let On;if(void 0===dr.protocol&&(On="protocol")){const qn={};null===c?c=[qn]:c.push(qn),h++}}if(Zn===h){const On={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[On]:c.push(On),h++}else h=xr,null!==c&&(xr?c.length=xr:c=null)}if(cr===h&&r&&"object"==typeof r&&!Array.isArray(r)&&void 0!==r.descriptor){let Zn=r.descriptor;if(!Zn||"object"!=typeof Zn||Array.isArray(Zn)){const mr={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[mr]:c.push(mr),h++}const On=h,qn=h;if(Zn&&"object"==typeof Zn&&!Array.isArray(Zn)){let mr;if(void 0===Zn.protocolPath&&(mr="protocolPath")){const kr={};null===c?c=[kr]:c.push(kr),h++}}if(qn===h){const mr={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[mr]:c.push(mr),h++}else h=On,null!==c&&(On?c.length=On:c=null)}}if(Pt=Be===h,I=I||Pt,Pt&&!0!==Ce&&((Ce=Ce||{}).descriptor=!0),!I){const cr={instancePath:t,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===c?c=[cr]:c.push(cr),h++,oi.errors=c,!1}if(h=$,null!==c&&($?c.length=$:c=null),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return oi.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let cr;if(void 0===r.descriptor&&(cr="descriptor"))return oi.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:cr},message:"must have required property '"+cr+"'"}],!1;if(!0!==Ce&&((Ce=Ce||{}).recordId=!0,Ce.contextId=!0,Ce.attestation=!0,Ce.authorization=!0,Ce.encryption=!0,Ce.descriptor=!0),void 0!==r.recordId){const yn=h;if("string"!=typeof r.recordId)return oi.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Ct=yn===h}else Ct=!0;if(Ct){if(void 0!==r.contextId){let yn=r.contextId;const dr=h;if(h===dr){if("string"!=typeof yn)return oi.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!HE.test(yn))return oi.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"},message:'must match pattern "^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"'}],!1}Ct=dr===h}else Ct=!0;if(Ct){if(void 0!==r.attestation){const yn=h;Pi(r.attestation,{instancePath:t+"/attestation",parentData:r,parentDataProperty:"attestation",rootData:l,dynamicAnchors:p})||(c=null===c?Pi.errors:c.concat(Pi.errors),h=c.length),Ct=yn===h}else Ct=!0;if(Ct){if(void 0!==r.authorization){const yn=h;Bu(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:p})||(c=null===c?Bu.errors:c.concat(Bu.errors),h=c.length),Ct=yn===h}else Ct=!0;if(Ct){if(void 0!==r.encryption){let yn=r.encryption;const dr=h;if(h===dr){if(!yn||"object"!=typeof yn||Array.isArray(yn))return oi.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Zn;if(void 0===yn.algorithm&&(Zn="algorithm")||void 0===yn.initializationVector&&(Zn="initializationVector")||void 0===yn.keyEncryption&&(Zn="keyEncryption"))return oi.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/required",keyword:"required",params:{missingProperty:Zn},message:"must have required property '"+Zn+"'"}],!1;{const On=h;for(const qn in yn)if("algorithm"!==qn&&"initializationVector"!==qn&&"keyEncryption"!==qn)return oi.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:qn},message:"must NOT have additional properties"}],!1;if(On===h){if(void 0!==yn.algorithm){let qn=yn.algorithm;const mr=h;if("string"!=typeof qn)return oi.errors=[{instancePath:t+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("A256CTR"!==qn)return oi.errors=[{instancePath:t+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/enum",keyword:"enum",params:{allowedValues:Np.properties.encryption.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var zt=mr===h}else zt=!0;if(zt){if(void 0!==yn.initializationVector){let qn=yn.initializationVector;const mr=h;if(h==h){if("string"!=typeof qn)return oi.errors=[{instancePath:t+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ua.test(qn))return oi.errors=[{instancePath:t+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}zt=mr===h}else zt=!0;if(zt)if(void 0!==yn.keyEncryption){let qn=yn.keyEncryption;const mr=h;if(h===mr){if(!Array.isArray(qn))return oi.errors=[{instancePath:t+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(qn.length<1)return oi.errors=[{instancePath:t+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Nr=qn.length;for(let Mr=0;Mr<Nr;Mr++){let Dr=qn[Mr];const ui=h;if(h===ui){if(!Dr||"object"!=typeof Dr||Array.isArray(Dr))return oi.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr,schemaPath:"#/properties/encryption/properties/keyEncryption/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let yr;if(void 0===Dr.rootKeyId&&(yr="rootKeyId")||void 0===Dr.derivationScheme&&(yr="derivationScheme")||void 0===Dr.algorithm&&(yr="algorithm")||void 0===Dr.encryptedKey&&(yr="encryptedKey")||void 0===Dr.initializationVector&&(yr="initializationVector")||void 0===Dr.ephemeralPublicKey&&(yr="ephemeralPublicKey")||void 0===Dr.messageAuthenticationCode&&(yr="messageAuthenticationCode"))return oi.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr,schemaPath:"#/properties/encryption/properties/keyEncryption/items/required",keyword:"required",params:{missingProperty:yr},message:"must have required property '"+yr+"'"}],!1;{const Ri=h;for(const Bi in Dr)if("rootKeyId"!==Bi&&"derivationScheme"!==Bi&&"derivedPublicKey"!==Bi&&"algorithm"!==Bi&&"encryptedKey"!==Bi&&"initializationVector"!==Bi&&"ephemeralPublicKey"!==Bi&&"messageAuthenticationCode"!==Bi)return oi.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr,schemaPath:"#/properties/encryption/properties/keyEncryption/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Bi},message:"must NOT have additional properties"}],!1;if(Ri===h){if(void 0!==Dr.rootKeyId){const Bi=h;if("string"!=typeof Dr.rootKeyId)return oi.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr+"/rootKeyId",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var xn=Bi===h}else xn=!0;if(xn){if(void 0!==Dr.derivationScheme){let Bi=Dr.derivationScheme;const wi=h;if("string"!=typeof Bi)return oi.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("dataFormats"!==Bi&&"protocolContext"!==Bi&&"protocolPath"!==Bi&&"schemas"!==Bi)return oi.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/enum",keyword:"enum",params:{allowedValues:Np.properties.encryption.properties.keyEncryption.items.properties.derivationScheme.enum},message:"must be equal to one of the allowed values"}],!1;xn=wi===h}else xn=!0;if(xn){if(void 0!==Dr.derivedPublicKey){const Bi=h;es(Dr.derivedPublicKey,{instancePath:t+"/encryption/keyEncryption/"+Mr+"/derivedPublicKey",parentData:Dr,parentDataProperty:"derivedPublicKey",rootData:l,dynamicAnchors:p})||(c=null===c?es.errors:c.concat(es.errors),h=c.length),xn=Bi===h}else xn=!0;if(xn){if(void 0!==Dr.algorithm){let Bi=Dr.algorithm;const wi=h;if("string"!=typeof Bi)return oi.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("ECIES-ES256K"!==Bi)return oi.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/enum",keyword:"enum",params:{allowedValues:Np.properties.encryption.properties.keyEncryption.items.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;xn=wi===h}else xn=!0;if(xn){if(void 0!==Dr.encryptedKey){let Bi=Dr.encryptedKey;const wi=h;if(h==h){if("string"!=typeof Bi)return oi.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ua.test(Bi))return oi.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}xn=wi===h}else xn=!0;if(xn){if(void 0!==Dr.initializationVector){let Bi=Dr.initializationVector;const wi=h;if(h==h){if("string"!=typeof Bi)return oi.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ua.test(Bi))return oi.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}xn=wi===h}else xn=!0;if(xn){if(void 0!==Dr.ephemeralPublicKey){const Bi=h;es(Dr.ephemeralPublicKey,{instancePath:t+"/encryption/keyEncryption/"+Mr+"/ephemeralPublicKey",parentData:Dr,parentDataProperty:"ephemeralPublicKey",rootData:l,dynamicAnchors:p})||(c=null===c?es.errors:c.concat(es.errors),h=c.length),xn=Bi===h}else xn=!0;if(xn)if(void 0!==Dr.messageAuthenticationCode){let Bi=Dr.messageAuthenticationCode;const wi=h;if(h==h){if("string"!=typeof Bi)return oi.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ua.test(Bi))return oi.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}xn=wi===h}else xn=!0}}}}}}}}}}if(ui!==h)break}}}zt=mr===h}else zt=!0}}}}}Ct=dr===h}else Ct=!0;if(Ct)if(void 0!==r.descriptor){let yn=r.descriptor;const dr=h,xr=h;let Zn=!1;const On=h;if(yn&&"object"==typeof yn&&!Array.isArray(yn)){let yr;if(void 0===yn.published&&(yr="published")||void 0===yn.datePublished&&(yr="datePublished")){const Ri={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/required",keyword:"required",params:{missingProperty:yr},message:"must have required property '"+yr+"'"};null===c?c=[Ri]:c.push(Ri),h++}else if(void 0!==yn.published){let Ri=yn.published;if("boolean"!=typeof Ri){const Bi={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===c?c=[Bi]:c.push(Bi),h++}if(!0!==Ri){const Bi={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:Np.properties.descriptor.allOf[0].anyOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===c?c=[Bi]:c.push(Bi),h++}}}var ln=On===h;if(Zn=Zn||ln,ln)var Cn={published:!0};const qn=h,mr=h,kr=h;if(yn&&"object"==typeof yn&&!Array.isArray(yn)){let yr;if(void 0===yn.datePublished&&(yr="datePublished")){const Ri={};null===c?c=[Ri]:c.push(Ri),h++}}if(kr===h){const yr={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[yr]:c.push(yr),h++}else h=mr,null!==c&&(mr?c.length=mr:c=null);if(h===qn&&yn&&"object"==typeof yn&&!Array.isArray(yn)&&void 0!==yn.published){let yr=yn.published;if("boolean"!=typeof yr){const Ri={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===c?c=[Ri]:c.push(Ri),h++}if(!1!==yr){const Ri={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/enum",keyword:"enum",params:{allowedValues:Np.properties.descriptor.allOf[0].anyOf[1].properties.published.enum},message:"must be equal to one of the allowed values"};null===c?c=[Ri]:c.push(Ri),h++}}ln=qn===h,Zn=Zn||ln,ln&&!0!==Cn&&((Cn=Cn||{}).published=!0);const Nr=h,Mr=h,Dr=h,ui=h;if(yn&&"object"==typeof yn&&!Array.isArray(yn)){let yr;if(void 0===yn.published&&(yr="published")){const Ri={};null===c?c=[Ri]:c.push(Ri),h++}}if(ui===h){const yr={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[yr]:c.push(yr),h++}else h=Dr,null!==c&&(Dr?c.length=Dr:c=null);if(Mr===h){const Ri=h,Bi=h;if(yn&&"object"==typeof yn&&!Array.isArray(yn)){let Ps;if(void 0===yn.datePublished&&(Ps="datePublished")){const cd={};null===c?c=[cd]:c.push(cd),h++}}if(Bi===h){const Ps={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[Ps]:c.push(Ps),h++}else h=Ri,null!==c&&(Ri?c.length=Ri:c=null)}if(ln=Nr===h,Zn=Zn||ln,!Zn){const yr={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===c?c=[yr]:c.push(yr),h++,oi.errors=c,!1}if(h=xr,null!==c&&(xr?c.length=xr:c=null),h===dr){if(!yn||"object"!=typeof yn||Array.isArray(yn))return oi.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let yr;if(void 0===yn.interface&&(yr="interface")||void 0===yn.method&&(yr="method")||void 0===yn.dataCid&&(yr="dataCid")||void 0===yn.dataSize&&(yr="dataSize")||void 0===yn.dateCreated&&(yr="dateCreated")||void 0===yn.messageTimestamp&&(yr="messageTimestamp")||void 0===yn.dataFormat&&(yr="dataFormat"))return oi.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:yr},message:"must have required property '"+yr+"'"}],!1;{const Ri=h;for(const Bi in yn)if(!IA.call(Np.properties.descriptor.properties,Bi))return oi.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Bi},message:"must NOT have additional properties"}],!1;if(Ri===h){let Bi;if(void 0!==yn.parentId&&void 0===yn.protocol&&(Bi="protocol"))return oi.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/dependencies",keyword:"dependencies",params:{property:"parentId",missingProperty:Bi,depsCount:1,deps:"protocol"},message:"must have property protocol when property parentId is present"}],!1;if(void 0!==yn.interface){let wi=yn.interface;const Ps=h;if("string"!=typeof wi)return oi.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==wi)return oi.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Np.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var vn=Ps===h}else vn=!0;if(vn){if(void 0!==yn.method){let wi=yn.method;const Ps=h;if("string"!=typeof wi)return oi.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Write"!==wi)return oi.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Np.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;vn=Ps===h}else vn=!0;if(vn){if(void 0!==yn.recipient){let wi=yn.recipient;const Ps=h;if(h==h){if("string"!=typeof wi)return oi.errors=[{instancePath:t+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Bm.test(wi))return oi.errors=[{instancePath:t+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}vn=Ps===h}else vn=!0;if(vn){if(void 0!==yn.protocol){const wi=h;if("string"!=typeof yn.protocol)return oi.errors=[{instancePath:t+"/descriptor/protocol",schemaPath:"#/properties/descriptor/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;vn=wi===h}else vn=!0;if(vn){if(void 0!==yn.protocolPath){let wi=yn.protocolPath;const Ps=h;if(h===Ps){if("string"!=typeof wi)return oi.errors=[{instancePath:t+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Uw.test(wi))return oi.errors=[{instancePath:t+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},message:'must match pattern "^[a-zA-Z]+(/[a-zA-Z]+)*$"'}],!1}vn=Ps===h}else vn=!0;if(vn){if(void 0!==yn.schema){const wi=h;if("string"!=typeof yn.schema)return oi.errors=[{instancePath:t+"/descriptor/schema",schemaPath:"#/properties/descriptor/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;vn=wi===h}else vn=!0;if(vn){if(void 0!==yn.tags){let wi=yn.tags;const Ps=h;if(h===Ps){if(!wi||"object"!=typeof wi||Array.isArray(wi))return oi.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(wi).length>10)return oi.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/maxProperties",keyword:"maxProperties",params:{limit:10},message:"must NOT have more than 10 properties"}],!1;if(Object.keys(wi).length<1)return oi.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;for(const Jo in wi){let qo=wi[Jo];const Ys=h,cs=h;let Di=!1,ls=null;const ld=h;if("string"!=typeof qo){const Wc={instancePath:t+"/descriptor/tags/"+Jo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Wc]:c.push(Wc),h++}(wn=ld===h)&&(Di=!0,ls=0);const _c=h;if("number"!=typeof qo||!isFinite(qo)){const Wc={instancePath:t+"/descriptor/tags/"+Jo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===c?c=[Wc]:c.push(Wc),h++}if((wn=_c===h)&&Di)Di=!1,ls=[ls,1];else{wn&&(Di=!0,ls=1);const Wc=h;if("boolean"!=typeof qo){const Bw={instancePath:t+"/descriptor/tags/"+Jo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===c?c=[Bw]:c.push(Bw),h++}if((wn=Wc===h)&&Di)Di=!1,ls=[ls,2];else{wn&&(Di=!0,ls=2);const Bw=h;if(h===Bw)if(Array.isArray(qo))if(qo.length>10){const rh={instancePath:t+"/descriptor/tags/"+Jo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/maxItems",keyword:"maxItems",params:{limit:10},message:"must NOT have more than 10 items"};null===c?c=[rh]:c.push(rh),h++}else if(qo.length<1){const rh={instancePath:t+"/descriptor/tags/"+Jo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===c?c=[rh]:c.push(rh),h++}else{const rh=qo.length;for(let A6=0;A6<rh;A6++){const Wh=h;if("string"!=typeof qo[A6]){const TA={instancePath:t+"/descriptor/tags/"+Jo.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+A6,schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[TA]:c.push(TA),h++}if(Wh!==h)break}}else{const rh={instancePath:t+"/descriptor/tags/"+Jo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/type",keyword:"type",params:{type:"array"},message:"must be array"};null===c?c=[rh]:c.push(rh),h++}if((wn=Bw===h)&&Di)Di=!1,ls=[ls,3];else{if(wn){Di=!0,ls=3;var Sn=!0}const rh=h;if(h===rh)if(Array.isArray(qo))if(qo.length>10){const Wh={instancePath:t+"/descriptor/tags/"+Jo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/maxItems",keyword:"maxItems",params:{limit:10},message:"must NOT have more than 10 items"};null===c?c=[Wh]:c.push(Wh),h++}else if(qo.length<1){const Wh={instancePath:t+"/descriptor/tags/"+Jo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===c?c=[Wh]:c.push(Wh),h++}else{const Wh=qo.length;for(let T6=0;T6<Wh;T6++){let TA=qo[T6];const $F=h;if("number"!=typeof TA||!isFinite(TA)){const U9={instancePath:t+"/descriptor/tags/"+Jo.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+T6,schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/items/type",keyword:"type",params:{type:"number"},message:"must be number"};null===c?c=[U9]:c.push(U9),h++}if($F!==h)break}}else{const Wh={instancePath:t+"/descriptor/tags/"+Jo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/type",keyword:"type",params:{type:"array"},message:"must be array"};null===c?c=[Wh]:c.push(Wh),h++}var wn;(wn=rh===h)&&Di?(Di=!1,ls=[ls,4]):wn&&(Di=!0,ls=4,!0!==Sn&&(Sn=!0))}}}if(!Di){const Wc={instancePath:t+"/descriptor/tags/"+Jo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf",keyword:"oneOf",params:{passingSchemas:ls},message:"must match exactly one schema in oneOf"};return null===c?c=[Wc]:c.push(Wc),h++,oi.errors=c,!1}if(h=cs,null!==c&&(cs?c.length=cs:c=null),Ys!==h)break}}vn=Ps===h}else vn=!0;if(vn){if(void 0!==yn.parentId){const wi=h;if("string"!=typeof yn.parentId)return oi.errors=[{instancePath:t+"/descriptor/parentId",schemaPath:"#/properties/descriptor/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;vn=wi===h}else vn=!0;if(vn){if(void 0!==yn.dataCid){const wi=h;if("string"!=typeof yn.dataCid)return oi.errors=[{instancePath:t+"/descriptor/dataCid",schemaPath:"#/properties/descriptor/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;vn=wi===h}else vn=!0;if(vn){if(void 0!==yn.dataSize){let wi=yn.dataSize;const Ps=h;if("number"!=typeof wi||!isFinite(wi))return oi.errors=[{instancePath:t+"/descriptor/dataSize",schemaPath:"#/properties/descriptor/properties/dataSize/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;vn=Ps===h}else vn=!0;if(vn){if(void 0!==yn.dateCreated){let wi=yn.dateCreated;const Ps=h;if(h==h){if("string"!=typeof wi)return oi.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Tc.test(wi))return oi.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}vn=Ps===h}else vn=!0;if(vn){if(void 0!==yn.messageTimestamp){let wi=yn.messageTimestamp;const Ps=h;if(h==h){if("string"!=typeof wi)return oi.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Tc.test(wi))return oi.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}vn=Ps===h}else vn=!0;if(vn){if(void 0!==yn.published){const wi=h;if("boolean"!=typeof yn.published)return oi.errors=[{instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;vn=wi===h}else vn=!0;if(vn){if(void 0!==yn.datePublished){let wi=yn.datePublished;const Ps=h;if(h==h){if("string"!=typeof wi)return oi.errors=[{instancePath:t+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Tc.test(wi))return oi.errors=[{instancePath:t+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}vn=Ps===h}else vn=!0;if(vn)if(void 0!==yn.dataFormat){const wi=h;if("string"!=typeof yn.dataFormat)return oi.errors=[{instancePath:t+"/descriptor/dataFormat",schemaPath:"#/properties/descriptor/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;vn=wi===h}else vn=!0}}}}}}}}}}}}}}}}}Ct=dr===h}else Ct=!0}}}}}}return oi.errors=c,V.props=Ce,0===h}function gd(r,{instancePath:t="",parentData:n,parentDataProperty:i,rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=gd.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),oi(r,{instancePath:t,parentData:n,parentDataProperty:i,rootData:l,dynamicAnchors:p}))var $=oi.evaluated.props;else c=null===c?oi.errors:c.concat(oi.errors),h=c.length;if(0===h){if(!r||"object"!=typeof r||Array.isArray(r))return gd.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let q;if(void 0===r.recordId&&(q="recordId")||void 0===r.authorization&&(q="authorization")||void 0===r.encodedData&&(q="encodedData"))return gd.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:q},message:"must have required property '"+q+"'"}],!1;if(!0!==$&&(($=$||{}).encodedData=!0),void 0!==r.encodedData){const Ce=h;if("string"!=typeof r.encodedData)return gd.errors=[{instancePath:t+"/encodedData",schemaPath:"#/properties/encodedData/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=Ce===h}else I=!0;if(I&&!0!==$)for(const Ce in r)if(!$||!$[Ce])return gd.errors=[{instancePath:t,schemaPath:"#/unevaluatedProperties",keyword:"unevaluatedProperties",params:{unevaluatedProperty:Ce},message:"must NOT have unevaluated properties"}],!1}}return gd.errors=c,0===h}function Zc(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=Zc.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return Zc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const I=h;for(const q in r)if("signature"!==q&&"authorDelegatedGrant"!==q)return Zc.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:q},message:"must NOT have additional properties"}],!1;if(I===h){if(void 0!==r.signature){const q=h;Pi(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:l,dynamicAnchors:p})||(c=null===c?Pi.errors:c.concat(Pi.errors),h=c.length);var $=q===h}else $=!0;if($)if(void 0!==r.authorDelegatedGrant){const q=h;gd(r.authorDelegatedGrant,{instancePath:t+"/authorDelegatedGrant",parentData:r,parentDataProperty:"authorDelegatedGrant",rootData:l,dynamicAnchors:p})||(c=null===c?gd.errors:c.concat(gd.errors),h=c.length),$=q===h}else $=!0}}}return Zc.errors=c,0===h}oi.evaluated={dynamicProps:!0,dynamicItems:!1},gd.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},Zc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const GE=Bu,Fw=Fa,ou={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-delete.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","recordId","prune"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Delete"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},recordId:{type:"string"},prune:{type:"boolean"}}}}};function Fa(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=Fa.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return Fa.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let q;if(void 0===r.authorization&&(q="authorization")||void 0===r.descriptor&&(q="descriptor"))return Fa.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:q},message:"must have required property '"+q+"'"}],!1;{const Ce=h;for(const Be in r)if("authorization"!==Be&&"descriptor"!==Be)return Fa.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Be},message:"must NOT have additional properties"}],!1;if(Ce===h){if(void 0!==r.authorization){const Be=h;Zc(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:p})||(c=null===c?Zc.errors:c.concat(Zc.errors),h=c.length);var $=Be===h}else $=!0;if($)if(void 0!==r.descriptor){let Be=r.descriptor;const Pe=h;if(h===Pe){if(!Be||"object"!=typeof Be||Array.isArray(Be))return Fa.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let rt;if(void 0===Be.interface&&(rt="interface")||void 0===Be.method&&(rt="method")||void 0===Be.messageTimestamp&&(rt="messageTimestamp")||void 0===Be.recordId&&(rt="recordId")||void 0===Be.prune&&(rt="prune"))return Fa.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:rt},message:"must have required property '"+rt+"'"}],!1;{const ht=h;for(const ct in Be)if("interface"!==ct&&"method"!==ct&&"messageTimestamp"!==ct&&"recordId"!==ct&&"prune"!==ct)return Fa.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ct},message:"must NOT have additional properties"}],!1;if(ht===h){if(void 0!==Be.interface){let ct=Be.interface;const dt=h;if("string"!=typeof ct)return Fa.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==ct)return Fa.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:ou.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var I=dt===h}else I=!0;if(I){if(void 0!==Be.method){let ct=Be.method;const dt=h;if("string"!=typeof ct)return Fa.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Delete"!==ct)return Fa.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:ou.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;I=dt===h}else I=!0;if(I){if(void 0!==Be.messageTimestamp){let ct=Be.messageTimestamp;const dt=h;if(h==h){if("string"!=typeof ct)return Fa.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Tc.test(ct))return Fa.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}I=dt===h}else I=!0;if(I){if(void 0!==Be.recordId){const ct=h;if("string"!=typeof Be.recordId)return Fa.errors=[{instancePath:t+"/descriptor/recordId",schemaPath:"#/properties/descriptor/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;I=ct===h}else I=!0;if(I)if(void 0!==Be.prune){const ct=h;if("boolean"!=typeof Be.prune)return Fa.errors=[{instancePath:t+"/descriptor/prune",schemaPath:"#/properties/descriptor/properties/prune/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;I=ct===h}else I=!0}}}}}}}$=Pe===h}else $=!0}}}}return Fa.errors=c,0===h}Fa.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const XE=$s,ZE={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"},pagination:{type:"object",additionalProperties:!1,properties:{limit:{type:"number",minimum:1},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}},dateSort:{enum:["createdAscending","createdDescending","publishedAscending","publishedDescending"],type:"string"}}}}},YE={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json",type:"object",minProperties:1,additionalProperties:!1,required:["messageCid","value"],properties:{messageCid:{type:"string"},value:{type:["string","number"]}}},JE={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-filter.json",type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},protocolPath:{type:"string"},author:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},attester:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},contextId:{type:"string"},schema:{type:"string"},tags:{type:"object",minProperties:1,additionalProperties:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"},{type:"object",minProperties:1,additionalProperties:!1,properties:{startsWith:{type:"string"}}},{$ref:"https://identity.foundation/dwn/json-schemas/string-range-filter.json"},{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"}]}},recordId:{type:"string"},parentId:{type:"string"},published:{type:"boolean"},dataFormat:{type:"string"},dataSize:{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"},dataCid:{type:"string"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},datePublished:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},dateUpdated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}}},dependencies:{datePublished:{oneOf:[{properties:{published:{enum:[!0]}},required:["published"]},{not:{required:["published"]}}]}}};function li(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=li.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return li.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return li.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const cr=h;for(const yn in r)if(!IA.call(JE.properties,yn))return li.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:yn},message:"must NOT have additional properties"}],!1;if(cr===h){if(void 0!==r.datePublished){const yn=h,dr=h;let xr=!1,Zn=null;const On=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let Nr;if(void 0===r.published&&(Nr="published")){const Mr={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/0/required",keyword:"required",params:{missingProperty:Nr},message:"must have required property '"+Nr+"'"};null===c?c=[Mr]:c.push(Mr),h++}else if(void 0!==r.published&&!0!==r.published){const Mr={instancePath:t+"/published",schemaPath:"#/dependencies/datePublished/oneOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:JE.dependencies.datePublished.oneOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===c?c=[Mr]:c.push(Mr),h++}}On===h&&(xr=!0,Zn=0);const qn=h,mr=h,kr=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let Nr;if(void 0===r.published&&(Nr="published")){const Mr={};null===c?c=[Mr]:c.push(Mr),h++}}var q;if(kr===h){const Nr={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[Nr]:c.push(Nr),h++}else h=mr,null!==c&&(mr?c.length=mr:c=null);if((q=qn===h)&&xr?(xr=!1,Zn=[Zn,1]):q&&(xr=!0,Zn=1),!xr){const Nr={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf",keyword:"oneOf",params:{passingSchemas:Zn},message:"must match exactly one schema in oneOf"};return null===c?c=[Nr]:c.push(Nr),h++,li.errors=c,!1}h=dr,null!==c&&(dr?c.length=dr:c=null);var Ce=yn===h}else Ce=!0;if(Ce){if(void 0!==r.protocol){const yn=h;if("string"!=typeof r.protocol)return li.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Be=yn===h}else Be=!0;if(Be){if(void 0!==r.protocolPath){const yn=h;if("string"!=typeof r.protocolPath)return li.errors=[{instancePath:t+"/protocolPath",schemaPath:"#/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Be=yn===h}else Be=!0;if(Be){if(void 0!==r.author){let yn=r.author;const dr=h;if(h==h){if("string"!=typeof yn)return li.errors=[{instancePath:t+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Bm.test(yn))return li.errors=[{instancePath:t+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Be=dr===h}else Be=!0;if(Be){if(void 0!==r.attester){let yn=r.attester;const dr=h;if(h==h){if("string"!=typeof yn)return li.errors=[{instancePath:t+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Bm.test(yn))return li.errors=[{instancePath:t+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Be=dr===h}else Be=!0;if(Be){if(void 0!==r.recipient){let yn=r.recipient;const dr=h;if(h==h){if("string"!=typeof yn)return li.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Bm.test(yn))return li.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Be=dr===h}else Be=!0;if(Be){if(void 0!==r.contextId){const yn=h;if("string"!=typeof r.contextId)return li.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Be=yn===h}else Be=!0;if(Be){if(void 0!==r.schema){const yn=h;if("string"!=typeof r.schema)return li.errors=[{instancePath:t+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Be=yn===h}else Be=!0;if(Be){if(void 0!==r.tags){let yn=r.tags;const dr=h;if(h===dr){if(!yn||"object"!=typeof yn||Array.isArray(yn))return li.errors=[{instancePath:t+"/tags",schemaPath:"#/properties/tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(yn).length<1)return li.errors=[{instancePath:t+"/tags",schemaPath:"#/properties/tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;for(const Zn in yn){let On=yn[Zn];const qn=h,mr=h;let kr=!1,Nr=null;const Mr=h;if("string"!=typeof On){const ui={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[ui]:c.push(ui),h++}(Pe=Mr===h)&&(kr=!0,Nr=0);const Dr=h;if("number"!=typeof On||!isFinite(On)){const ui={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===c?c=[ui]:c.push(ui),h++}if((Pe=Dr===h)&&kr)kr=!1,Nr=[Nr,1];else{Pe&&(kr=!0,Nr=1);const ui=h;if("boolean"!=typeof On){const yr={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===c?c=[yr]:c.push(yr),h++}if((Pe=ui===h)&&kr)kr=!1,Nr=[Nr,2];else{Pe&&(kr=!0,Nr=2);const yr=h;if(h===yr)if(On&&"object"==typeof On&&!Array.isArray(On))if(Object.keys(On).length<1){const Bi={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===c?c=[Bi]:c.push(Bi),h++}else{const Bi=h;for(const wi in On)if("startsWith"!==wi){const Ps={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:wi},message:"must NOT have additional properties"};null===c?c=[Ps]:c.push(Ps),h++;break}if(Bi===h&&void 0!==On.startsWith&&"string"!=typeof On.startsWith){const wi={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1")+"/startsWith",schemaPath:"#/properties/tags/additionalProperties/oneOf/3/properties/startsWith/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[wi]:c.push(wi),h++}}else{const Bi={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Bi]:c.push(Bi),h++}if((Pe=yr===h)&&kr)kr=!1,Nr=[Nr,3];else{if(Pe){kr=!0,Nr=3;var Ke=!0}const Bi=h;if(h==h)if(On&&"object"==typeof On&&!Array.isArray(On))if(Object.keys(On).length<1){const cd={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===c?c=[cd]:c.push(cd),h++}else{const cd=h;for(const Jo in On)if("gt"!==Jo&&"gte"!==Jo&&"lt"!==Jo&&"lte"!==Jo){const qo={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Jo},message:"must NOT have additional properties"};null===c?c=[qo]:c.push(qo),h++;break}if(cd===h){if(void 0!==On.gt){const Jo=h,qo=h,Ys=h;if(On&&"object"==typeof On&&!Array.isArray(On)){let cs;if(void 0===On.gte&&(cs="gte")){const Di={};null===c?c=[Di]:c.push(Di),h++}}if(Ys===h){const cs={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[cs]:c.push(cs),h++}else h=qo,null!==c&&(qo?c.length=qo:c=null);var ht=Jo===h}else ht=!0;if(ht){if(void 0!==On.gte){const Jo=h,qo=h,Ys=h;if(On&&"object"==typeof On&&!Array.isArray(On)){let Di;if(void 0===On.gt&&(Di="gt")){const ls={};null===c?c=[ls]:c.push(ls),h++}}if(Ys===h){const Di={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[Di]:c.push(Di),h++}else h=qo,null!==c&&(qo?c.length=qo:c=null);ht=Jo===h}else ht=!0;if(ht){if(void 0!==On.lt){const Jo=h,qo=h,Ys=h;if(On&&"object"==typeof On&&!Array.isArray(On)){let Di;if(void 0===On.lte&&(Di="lte")){const ls={};null===c?c=[ls]:c.push(ls),h++}}if(Ys===h){const Di={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[Di]:c.push(Di),h++}else h=qo,null!==c&&(qo?c.length=qo:c=null);ht=Jo===h}else ht=!0;if(ht){if(void 0!==On.lte){const Jo=h,qo=h,Ys=h;if(On&&"object"==typeof On&&!Array.isArray(On)){let Di;if(void 0===On.lt&&(Di="lt")){const ls={};null===c?c=[ls]:c.push(ls),h++}}if(Ys===h){const Di={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[Di]:c.push(Di),h++}else h=qo,null!==c&&(qo?c.length=qo:c=null);ht=Jo===h}else ht=!0;if(ht){if(void 0!==On.gt){const Jo=h;if("string"!=typeof On.gt){const qo={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1")+"/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/gt/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[qo]:c.push(qo),h++}var Pt=Jo===h}else Pt=!0;if(Pt){if(void 0!==On.gte){const Jo=h;if("string"!=typeof On.gte){const Ys={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1")+"/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/gte/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Ys]:c.push(Ys),h++}Pt=Jo===h}else Pt=!0;if(Pt){if(void 0!==On.lt){const Jo=h;if("string"!=typeof On.lt){const Ys={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1")+"/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/lt/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Ys]:c.push(Ys),h++}Pt=Jo===h}else Pt=!0;if(Pt)if(void 0!==On.lte){const Jo=h;if("string"!=typeof On.lte){const Ys={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1")+"/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/lte/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Ys]:c.push(Ys),h++}Pt=Jo===h}else Pt=!0}}}}}}}}else{const cd={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[cd]:c.push(cd),h++}if((Pe=Bi===h)&&kr)kr=!1,Nr=[Nr,4];else{Pe&&(kr=!0,Nr=4,!0!==Ke&&(Ke=!0));const cd=h;if(h==h)if(On&&"object"==typeof On&&!Array.isArray(On))if(Object.keys(On).length<1){const Ys={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===c?c=[Ys]:c.push(Ys),h++}else{const Ys=h;for(const cs in On)if("gt"!==cs&&"gte"!==cs&&"lt"!==cs&&"lte"!==cs){const Di={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:cs},message:"must NOT have additional properties"};null===c?c=[Di]:c.push(Di),h++;break}if(Ys===h){if(void 0!==On.gt){const cs=h,Di=h,ls=h;if(On&&"object"==typeof On&&!Array.isArray(On)){let ld;if(void 0===On.gte&&(ld="gte")){const _c={};null===c?c=[_c]:c.push(_c),h++}}if(ls===h){const ld={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[ld]:c.push(ld),h++}else h=Di,null!==c&&(Di?c.length=Di:c=null);var zt=cs===h}else zt=!0;if(zt){if(void 0!==On.gte){const cs=h,Di=h,ls=h;if(On&&"object"==typeof On&&!Array.isArray(On)){let _c;if(void 0===On.gt&&(_c="gt")){const Wc={};null===c?c=[Wc]:c.push(Wc),h++}}if(ls===h){const _c={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[_c]:c.push(_c),h++}else h=Di,null!==c&&(Di?c.length=Di:c=null);zt=cs===h}else zt=!0;if(zt){if(void 0!==On.lt){const cs=h,Di=h,ls=h;if(On&&"object"==typeof On&&!Array.isArray(On)){let _c;if(void 0===On.lte&&(_c="lte")){const Wc={};null===c?c=[Wc]:c.push(Wc),h++}}if(ls===h){const _c={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[_c]:c.push(_c),h++}else h=Di,null!==c&&(Di?c.length=Di:c=null);zt=cs===h}else zt=!0;if(zt){if(void 0!==On.lte){const cs=h,Di=h,ls=h;if(On&&"object"==typeof On&&!Array.isArray(On)){let _c;if(void 0===On.lt&&(_c="lt")){const Wc={};null===c?c=[Wc]:c.push(Wc),h++}}if(ls===h){const _c={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[_c]:c.push(_c),h++}else h=Di,null!==c&&(Di?c.length=Di:c=null);zt=cs===h}else zt=!0;if(zt){if(void 0!==On.gt){let cs=On.gt;const Di=h;if("number"!=typeof cs||!isFinite(cs)){const ls={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1")+"/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"};null===c?c=[ls]:c.push(ls),h++}var Nn=Di===h}else Nn=!0;if(Nn){if(void 0!==On.gte){let cs=On.gte;const Di=h;if("number"!=typeof cs||!isFinite(cs)){const ld={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1")+"/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"};null===c?c=[ld]:c.push(ld),h++}Nn=Di===h}else Nn=!0;if(Nn){if(void 0!==On.lt){let cs=On.lt;const Di=h;if("number"!=typeof cs||!isFinite(cs)){const ld={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1")+"/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"};null===c?c=[ld]:c.push(ld),h++}Nn=Di===h}else Nn=!0;if(Nn)if(void 0!==On.lte){let cs=On.lte;const Di=h;if("number"!=typeof cs||!isFinite(cs)){const ld={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1")+"/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"};null===c?c=[ld]:c.push(ld),h++}Nn=Di===h}else Nn=!0}}}}}}}}else{const Ys={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Ys]:c.push(Ys),h++}var Pe;(Pe=cd===h)&&kr?(kr=!1,Nr=[Nr,5]):Pe&&(kr=!0,Nr=5,!0!==Ke&&(Ke=!0))}}}}if(!kr){const ui={instancePath:t+"/tags/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf",keyword:"oneOf",params:{passingSchemas:Nr},message:"must match exactly one schema in oneOf"};return null===c?c=[ui]:c.push(ui),h++,li.errors=c,!1}if(h=mr,null!==c&&(mr?c.length=mr:c=null),qn!==h)break}}Be=dr===h}else Be=!0;if(Be){if(void 0!==r.recordId){const yn=h;if("string"!=typeof r.recordId)return li.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Be=yn===h}else Be=!0;if(Be){if(void 0!==r.parentId){const yn=h;if("string"!=typeof r.parentId)return li.errors=[{instancePath:t+"/parentId",schemaPath:"#/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Be=yn===h}else Be=!0;if(Be){if(void 0!==r.published){const yn=h;if("boolean"!=typeof r.published)return li.errors=[{instancePath:t+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Be=yn===h}else Be=!0;if(Be){if(void 0!==r.dataFormat){const yn=h;if("string"!=typeof r.dataFormat)return li.errors=[{instancePath:t+"/dataFormat",schemaPath:"#/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Be=yn===h}else Be=!0;if(Be){if(void 0!==r.dataSize){let yn=r.dataSize;const dr=h;if(h==h){if(!yn||"object"!=typeof yn||Array.isArray(yn))return li.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(yn).length<1)return li.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const On=h;for(const qn in yn)if("gt"!==qn&&"gte"!==qn&&"lt"!==qn&&"lte"!==qn)return li.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:qn},message:"must NOT have additional properties"}],!1;if(On===h){if(void 0!==yn.gt){const qn=h,mr=h,kr=h;if(yn&&"object"==typeof yn&&!Array.isArray(yn)){let Nr;if(void 0===yn.gte&&(Nr="gte")){const Mr={};null===c?c=[Mr]:c.push(Mr),h++}}if(kr===h)return li.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;h=mr,null!==c&&(mr?c.length=mr:c=null);var Hn=qn===h}else Hn=!0;if(Hn){if(void 0!==yn.gte){const qn=h,mr=h,kr=h;if(yn&&"object"==typeof yn&&!Array.isArray(yn)){let Mr;if(void 0===yn.gt&&(Mr="gt")){const Dr={};null===c?c=[Dr]:c.push(Dr),h++}}if(kr===h)return li.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;h=mr,null!==c&&(mr?c.length=mr:c=null),Hn=qn===h}else Hn=!0;if(Hn){if(void 0!==yn.lt){const qn=h,mr=h,kr=h;if(yn&&"object"==typeof yn&&!Array.isArray(yn)){let Mr;if(void 0===yn.lte&&(Mr="lte")){const Dr={};null===c?c=[Dr]:c.push(Dr),h++}}if(kr===h)return li.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;h=mr,null!==c&&(mr?c.length=mr:c=null),Hn=qn===h}else Hn=!0;if(Hn){if(void 0!==yn.lte){const qn=h,mr=h,kr=h;if(yn&&"object"==typeof yn&&!Array.isArray(yn)){let Mr;if(void 0===yn.lt&&(Mr="lt")){const Dr={};null===c?c=[Dr]:c.push(Dr),h++}}if(kr===h)return li.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;h=mr,null!==c&&(mr?c.length=mr:c=null),Hn=qn===h}else Hn=!0;if(Hn){if(void 0!==yn.gt){let qn=yn.gt;const mr=h;if("number"!=typeof qn||!isFinite(qn))return li.errors=[{instancePath:t+"/dataSize/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Un=mr===h}else Un=!0;if(Un){if(void 0!==yn.gte){let qn=yn.gte;const mr=h;if("number"!=typeof qn||!isFinite(qn))return li.errors=[{instancePath:t+"/dataSize/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Un=mr===h}else Un=!0;if(Un){if(void 0!==yn.lt){let qn=yn.lt;const mr=h;if("number"!=typeof qn||!isFinite(qn))return li.errors=[{instancePath:t+"/dataSize/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Un=mr===h}else Un=!0;if(Un)if(void 0!==yn.lte){let qn=yn.lte;const mr=h;if("number"!=typeof qn||!isFinite(qn))return li.errors=[{instancePath:t+"/dataSize/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Un=mr===h}else Un=!0}}}}}}}}}Be=dr===h}else Be=!0;if(Be){if(void 0!==r.dataCid){const yn=h;if("string"!=typeof r.dataCid)return li.errors=[{instancePath:t+"/dataCid",schemaPath:"#/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Be=yn===h}else Be=!0;if(Be){if(void 0!==r.dateCreated){let yn=r.dateCreated;const dr=h;if(h===dr){if(!yn||"object"!=typeof yn||Array.isArray(yn))return li.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(yn).length<1)return li.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Zn=h;for(const On in yn)if("from"!==On&&"to"!==On)return li.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:On},message:"must NOT have additional properties"}],!1;if(Zn===h){if(void 0!==yn.from){let On=yn.from;const qn=h;if(h==h){if("string"!=typeof On)return li.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Tc.test(On))return li.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Sn=qn===h}else Sn=!0;if(Sn)if(void 0!==yn.to){let On=yn.to;const qn=h;if(h==h){if("string"!=typeof On)return li.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Tc.test(On))return li.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Sn=qn===h}else Sn=!0}}}Be=dr===h}else Be=!0;if(Be){if(void 0!==r.datePublished){let yn=r.datePublished;const dr=h;if(h===dr){if(!yn||"object"!=typeof yn||Array.isArray(yn))return li.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(yn).length<1)return li.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Zn=h;for(const On in yn)if("from"!==On&&"to"!==On)return li.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:On},message:"must NOT have additional properties"}],!1;if(Zn===h){if(void 0!==yn.from){let On=yn.from;const qn=h;if(h==h){if("string"!=typeof On)return li.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Tc.test(On))return li.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Vn=qn===h}else Vn=!0;if(Vn)if(void 0!==yn.to){let On=yn.to;const qn=h;if(h==h){if("string"!=typeof On)return li.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Tc.test(On))return li.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Vn=qn===h}else Vn=!0}}}Be=dr===h}else Be=!0;if(Be)if(void 0!==r.dateUpdated){let yn=r.dateUpdated;const dr=h;if(h===dr){if(!yn||"object"!=typeof yn||Array.isArray(yn))return li.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(yn).length<1)return li.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Zn=h;for(const On in yn)if("from"!==On&&"to"!==On)return li.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:On},message:"must NOT have additional properties"}],!1;if(Zn===h){if(void 0!==yn.from){let On=yn.from;const qn=h;if(h==h){if("string"!=typeof On)return li.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Tc.test(On))return li.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var lr=qn===h}else lr=!0;if(lr)if(void 0!==yn.to){let On=yn.to;const qn=h;if(h==h){if("string"!=typeof On)return li.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Tc.test(On))return li.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}lr=qn===h}else lr=!0}}}Be=dr===h}else Be=!0}}}}}}}}}}}}}}}}}}}return li.errors=c,0===h}function $s(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=$s.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return $s.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Be;if(void 0===r.descriptor&&(Be="descriptor"))return $s.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Be},message:"must have required property '"+Be+"'"}],!1;{const Pe=h;for(const Ke in r)if("authorization"!==Ke&&"descriptor"!==Ke)return $s.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ke},message:"must NOT have additional properties"}],!1;if(Pe===h){if(void 0!==r.authorization){const Ke=h;Zc(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:p})||(c=null===c?Zc.errors:c.concat(Zc.errors),h=c.length);var $=Ke===h}else $=!0;if($)if(void 0!==r.descriptor){let Ke=r.descriptor;const rt=h;if(h===rt){if(!Ke||"object"!=typeof Ke||Array.isArray(Ke))return $s.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ct;if(void 0===Ke.interface&&(ct="interface")||void 0===Ke.method&&(ct="method")||void 0===Ke.messageTimestamp&&(ct="messageTimestamp")||void 0===Ke.filter&&(ct="filter"))return $s.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:ct},message:"must have required property '"+ct+"'"}],!1;{const dt=h;for(const At in Ke)if("interface"!==At&&"method"!==At&&"messageTimestamp"!==At&&"filter"!==At&&"pagination"!==At&&"dateSort"!==At)return $s.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:At},message:"must NOT have additional properties"}],!1;if(dt===h){if(void 0!==Ke.interface){let At=Ke.interface;const Pt=h;if("string"!=typeof At)return $s.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==At)return $s.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:ZE.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var I=Pt===h}else I=!0;if(I){if(void 0!==Ke.method){let At=Ke.method;const Pt=h;if("string"!=typeof At)return $s.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==At)return $s.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:ZE.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;I=Pt===h}else I=!0;if(I){if(void 0!==Ke.messageTimestamp){let At=Ke.messageTimestamp;const Pt=h;if(h==h){if("string"!=typeof At)return $s.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Tc.test(At))return $s.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}I=Pt===h}else I=!0;if(I){if(void 0!==Ke.filter){const At=h;li(Ke.filter,{instancePath:t+"/descriptor/filter",parentData:Ke,parentDataProperty:"filter",rootData:l,dynamicAnchors:p})||(c=null===c?li.errors:c.concat(li.errors),h=c.length),I=At===h}else I=!0;if(I){if(void 0!==Ke.pagination){let At=Ke.pagination;const Pt=h;if(h===Pt){if(!At||"object"!=typeof At||Array.isArray(At))return $s.errors=[{instancePath:t+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const zt=h;for(const Xt in At)if("limit"!==Xt&&"cursor"!==Xt)return $s.errors=[{instancePath:t+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Xt},message:"must NOT have additional properties"}],!1;if(zt===h){if(void 0!==At.limit){let Xt=At.limit;const xn=h;if(h===xn){if("number"!=typeof Xt||!isFinite(Xt))return $s.errors=[{instancePath:t+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(Xt<1||isNaN(Xt))return $s.errors=[{instancePath:t+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"}],!1}var q=xn===h}else q=!0;if(q)if(void 0!==At.cursor){let Xt=At.cursor;const xn=h;if(h==h){if(!Xt||"object"!=typeof Xt||Array.isArray(Xt))return $s.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Xt).length<1)return $s.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let ir;if(void 0===Xt.messageCid&&(ir="messageCid")||void 0===Xt.value&&(ir="value"))return $s.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:ir},message:"must have required property '"+ir+"'"}],!1;{const Pn=h;for(const Hn in Xt)if("messageCid"!==Hn&&"value"!==Hn)return $s.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Hn},message:"must NOT have additional properties"}],!1;if(Pn===h){if(void 0!==Xt.messageCid){const Hn=h;if("string"!=typeof Xt.messageCid)return $s.errors=[{instancePath:t+"/descriptor/pagination/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Ce=Hn===h}else Ce=!0;if(Ce)if(void 0!==Xt.value){let Hn=Xt.value;const ln=h;if("string"!=typeof Hn&&("number"!=typeof Hn||!isFinite(Hn)))return $s.errors=[{instancePath:t+"/descriptor/pagination/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:YE.properties.value.type},message:"must be string,number"}],!1;Ce=ln===h}else Ce=!0}}}}q=xn===h}else q=!0}}}I=Pt===h}else I=!0;if(I)if(void 0!==Ke.dateSort){let At=Ke.dateSort;const Pt=h;if("string"!=typeof At)return $s.errors=[{instancePath:t+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("createdAscending"!==At&&"createdDescending"!==At&&"publishedAscending"!==At&&"publishedDescending"!==At)return $s.errors=[{instancePath:t+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/enum",keyword:"enum",params:{allowedValues:ZE.properties.descriptor.properties.dateSort.enum},message:"must be equal to one of the allowed values"}],!1;I=Pt===h}else I=!0}}}}}}}}$=rt===h}else $=!0}}}}return $s.errors=c,0===h}li.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},$s.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const qE=vl,QE={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-subscribe.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Subscribe"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function vl(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=vl.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return vl.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let q;if(void 0===r.descriptor&&(q="descriptor"))return vl.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:q},message:"must have required property '"+q+"'"}],!1;{const Ce=h;for(const Be in r)if("authorization"!==Be&&"descriptor"!==Be)return vl.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Be},message:"must NOT have additional properties"}],!1;if(Ce===h){if(void 0!==r.authorization){const Be=h;Zc(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:p})||(c=null===c?Zc.errors:c.concat(Zc.errors),h=c.length);var $=Be===h}else $=!0;if($)if(void 0!==r.descriptor){let Be=r.descriptor;const Pe=h;if(h===Pe){if(!Be||"object"!=typeof Be||Array.isArray(Be))return vl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let rt;if(void 0===Be.interface&&(rt="interface")||void 0===Be.method&&(rt="method")||void 0===Be.messageTimestamp&&(rt="messageTimestamp")||void 0===Be.filter&&(rt="filter"))return vl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:rt},message:"must have required property '"+rt+"'"}],!1;{const ht=h;for(const ct in Be)if("interface"!==ct&&"method"!==ct&&"messageTimestamp"!==ct&&"filter"!==ct)return vl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ct},message:"must NOT have additional properties"}],!1;if(ht===h){if(void 0!==Be.interface){let ct=Be.interface;const dt=h;if("string"!=typeof ct)return vl.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==ct)return vl.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:QE.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var I=dt===h}else I=!0;if(I){if(void 0!==Be.method){let ct=Be.method;const dt=h;if("string"!=typeof ct)return vl.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Subscribe"!==ct)return vl.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:QE.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;I=dt===h}else I=!0;if(I){if(void 0!==Be.messageTimestamp){let ct=Be.messageTimestamp;const dt=h;if(h==h){if("string"!=typeof ct)return vl.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Tc.test(ct))return vl.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}I=dt===h}else I=!0;if(I)if(void 0!==Be.filter){const ct=h;li(Be.filter,{instancePath:t+"/descriptor/filter",parentData:Be,parentDataProperty:"filter",rootData:l,dynamicAnchors:p})||(c=null===c?li.errors:c.concat(li.errors),h=c.length),I=ct===h}else I=!0}}}}}}$=Pe===h}else $=!0}}}}return vl.errors=c,0===h}vl.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const jw=Nm;function Nm(r,{instancePath:t="",parentData:n,parentDataProperty:i,rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=Nm.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),oi(r,{instancePath:t,parentData:n,parentDataProperty:i,rootData:l,dynamicAnchors:p}))var $=oi.evaluated.props;else c=null===c?oi.errors:c.concat(oi.errors),h=c.length;if(0===h){if(!r||"object"!=typeof r||Array.isArray(r))return Nm.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let I;if(void 0===r.recordId&&(I="recordId")||void 0===r.authorization&&(I="authorization"))return Nm.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:I},message:"must have required property '"+I+"'"}],!1;if(!0!==$)for(const q in r)if(!$||!$[q])return Nm.errors=[{instancePath:t,schemaPath:"#/unevaluatedProperties",keyword:"unevaluatedProperties",params:{unevaluatedProperty:q},message:"must NOT have unevaluated properties"}],!1}}return Nm.errors=c,0===h}Nm.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const I6=gd,Dc=oi,CA=Zh;function Zh(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){const V=Zh.evaluated;return V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(Zh.errors=null,!0):(Zh.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}Zh.evaluated={dynamicProps:!1,dynamicItems:!1};const C6=bl;function bl(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=bl.evaluated;V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0);const $=h;let I=!1,q=null;const Ce=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let Pt;if(void 0===r.crv&&(Pt="crv")||void 0===r.x&&(Pt="x")){const Ct={instancePath:t,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:Pt},message:"must have required property '"+Pt+"'"};null===c?c=[Ct]:c.push(Ct),h++}else{if(void 0!==r.kty){const Ct=h;if("EC"!==r.kty){const zt={instancePath:t+"/kty",schemaPath:"#/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===c?c=[zt]:c.push(zt),h++}var Be=Ct===h}else Be=!0;if(Be){if(void 0!==r.crv){const Ct=h;if("string"!=typeof r.crv){const Xt={instancePath:t+"/crv",schemaPath:"#/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Xt]:c.push(Xt),h++}Be=Ct===h}else Be=!0;if(Be){if(void 0!==r.x){const Ct=h;if("string"!=typeof r.x){const Xt={instancePath:t+"/x",schemaPath:"#/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Xt]:c.push(Xt),h++}Be=Ct===h}else Be=!0;if(Be){if(void 0!==r.y){const Ct=h;if("string"!=typeof r.y){const Xt={instancePath:t+"/y",schemaPath:"#/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Xt]:c.push(Xt),h++}Be=Ct===h}else Be=!0;if(Be)if(void 0!==r.d){const Ct=h;if("string"!=typeof r.d){const Xt={instancePath:t+"/d",schemaPath:"#/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Xt]:c.push(Xt),h++}Be=Ct===h}else Be=!0}}}}}if(ht=Ce===h){I=!0,q=0;var Pe={kty:!0,crv:!0,x:!0,y:!0,d:!0}}const Ke=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let Pt;if(void 0===r.crv&&(Pt="crv")||void 0===r.x&&(Pt="x")){const Ct={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:Pt},message:"must have required property '"+Pt+"'"};null===c?c=[Ct]:c.push(Ct),h++}else{if(void 0!==r.kty){const Ct=h;if("OKP"!==r.kty){const zt={instancePath:t+"/kty",schemaPath:"#/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===c?c=[zt]:c.push(zt),h++}var rt=Ct===h}else rt=!0;if(rt){if(void 0!==r.crv){const Ct=h;if("string"!=typeof r.crv){const Xt={instancePath:t+"/crv",schemaPath:"#/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Xt]:c.push(Xt),h++}rt=Ct===h}else rt=!0;if(rt){if(void 0!==r.x){const Ct=h;if("string"!=typeof r.x){const Xt={instancePath:t+"/x",schemaPath:"#/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Xt]:c.push(Xt),h++}rt=Ct===h}else rt=!0;if(rt)if(void 0!==r.d){const Ct=h;if("string"!=typeof r.d){const Xt={instancePath:t+"/d",schemaPath:"#/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Xt]:c.push(Xt),h++}rt=Ct===h}else rt=!0}}}}if((ht=Ke===h)&&I)I=!1,q=[q,1];else{ht&&(I=!0,q=1,!0!==Pe&&((Pe=Pe||{}).kty=!0,Pe.crv=!0,Pe.x=!0,Pe.d=!0));const Pt=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let zt;if(void 0===r.n&&(zt="n")||void 0===r.e&&(zt="e")){const Xt={instancePath:t,schemaPath:"#/oneOf/2/required",keyword:"required",params:{missingProperty:zt},message:"must have required property '"+zt+"'"};null===c?c=[Xt]:c.push(Xt),h++}else{if(void 0!==r.kty){const Xt=h;if("RSA"!==r.kty){const xn={instancePath:t+"/kty",schemaPath:"#/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===c?c=[xn]:c.push(xn),h++}var ct=Xt===h}else ct=!0;if(ct){if(void 0!==r.n){const Xt=h;if("string"!=typeof r.n){const Cn={instancePath:t+"/n",schemaPath:"#/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Cn]:c.push(Cn),h++}ct=Xt===h}else ct=!0;if(ct){if(void 0!==r.e){const Xt=h;if("string"!=typeof r.e){const Cn={instancePath:t+"/e",schemaPath:"#/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Cn]:c.push(Cn),h++}ct=Xt===h}else ct=!0;if(ct){if(void 0!==r.d){const Xt=h;if("string"!=typeof r.d){const Cn={instancePath:t+"/d",schemaPath:"#/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Cn]:c.push(Cn),h++}ct=Xt===h}else ct=!0;if(ct){if(void 0!==r.p){const Xt=h;if("string"!=typeof r.p){const Cn={instancePath:t+"/p",schemaPath:"#/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Cn]:c.push(Cn),h++}ct=Xt===h}else ct=!0;if(ct){if(void 0!==r.q){const Xt=h;if("string"!=typeof r.q){const Cn={instancePath:t+"/q",schemaPath:"#/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Cn]:c.push(Cn),h++}ct=Xt===h}else ct=!0;if(ct){if(void 0!==r.dp){const Xt=h;if("string"!=typeof r.dp){const Cn={instancePath:t+"/dp",schemaPath:"#/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Cn]:c.push(Cn),h++}ct=Xt===h}else ct=!0;if(ct){if(void 0!==r.dq){const Xt=h;if("string"!=typeof r.dq){const Cn={instancePath:t+"/dq",schemaPath:"#/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Cn]:c.push(Cn),h++}ct=Xt===h}else ct=!0;if(ct){if(void 0!==r.qi){const Xt=h;if("string"!=typeof r.qi){const Cn={instancePath:t+"/qi",schemaPath:"#/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Cn]:c.push(Cn),h++}ct=Xt===h}else ct=!0;if(ct)if(void 0!==r.oth){let Xt=r.oth;const xn=h;if(!Xt||"object"!=typeof Xt||Array.isArray(Xt)){const Nn={instancePath:t+"/oth",schemaPath:"#/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Nn]:c.push(Nn),h++}ct=xn===h}else ct=!0}}}}}}}}}}if((ht=Pt===h)&&I)I=!1,q=[q,2];else{ht&&(I=!0,q=2,!0!==Pe&&((Pe=Pe||{}).kty=!0,Pe.n=!0,Pe.e=!0,Pe.d=!0,Pe.p=!0,Pe.q=!0,Pe.dp=!0,Pe.dq=!0,Pe.qi=!0,Pe.oth=!0));const zt=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let xn;if(void 0===r.k&&(xn="k")){const Cn={instancePath:t,schemaPath:"#/oneOf/3/required",keyword:"required",params:{missingProperty:xn},message:"must have required property '"+xn+"'"};null===c?c=[Cn]:c.push(Cn),h++}else{if(void 0!==r.kty){const Cn=h;if("oct"!==r.kty){const Nn={instancePath:t+"/kty",schemaPath:"#/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===c?c=[Nn]:c.push(Nn),h++}var dt=Cn===h}else dt=!0;if(dt)if(void 0!==r.k){const Cn=h;if("string"!=typeof r.k){const ir={instancePath:t+"/k",schemaPath:"#/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[ir]:c.push(ir),h++}dt=Cn===h}else dt=!0}}var ht;(ht=zt===h)&&I?(I=!1,q=[q,3]):ht&&(I=!0,q=3,!0!==Pe&&((Pe=Pe||{}).kty=!0,Pe.k=!0))}}if(!I){const Pt={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:q},message:"must match exactly one schema in oneOf"};return null===c?c=[Pt]:c.push(Pt),h++,bl.errors=c,!1}if(h=$,null!==c&&($?c.length=$:c=null),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return bl.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Pt;if(void 0===r.kty&&(Pt="kty"))return bl.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Pt},message:"must have required property '"+Pt+"'"}],!1;if(!0!==Pe&&((Pe=Pe||{}).alg=!0,Pe.kid=!0,Pe.kty=!0,Pe.crv=!0,Pe.use=!0,Pe.key_ops=!0,Pe.x5u=!0,Pe.x5c=!0,Pe.x5t=!0,Pe["x5t#S256"]=!0),void 0!==r.alg){const Ct=h;if("string"!=typeof r.alg)return bl.errors=[{instancePath:t+"/alg",schemaPath:"#/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var At=Ct===h}else At=!0;if(At){if(void 0!==r.kid){const Ct=h;if("string"!=typeof r.kid)return bl.errors=[{instancePath:t+"/kid",schemaPath:"#/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;At=Ct===h}else At=!0;if(At){if(void 0!==r.kty){let Ct=r.kty;const zt=h;if("EC"!==Ct&&"RSA"!==Ct&&"oct"!==Ct&&"OKP"!==Ct)return bl.errors=[{instancePath:t+"/kty",schemaPath:"#/properties/kty/enum",keyword:"enum",params:{allowedValues:WE.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;At=zt===h}else At=!0;if(At){if(void 0!==r.crv){const Ct=h;if("string"!=typeof r.crv)return bl.errors=[{instancePath:t+"/crv",schemaPath:"#/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;At=Ct===h}else At=!0;if(At){if(void 0!==r.use){const Ct=h;if("string"!=typeof r.use)return bl.errors=[{instancePath:t+"/use",schemaPath:"#/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;At=Ct===h}else At=!0;if(At){if(void 0!==r.key_ops){const Ct=h;if("string"!=typeof r.key_ops)return bl.errors=[{instancePath:t+"/key_ops",schemaPath:"#/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;At=Ct===h}else At=!0;if(At){if(void 0!==r.x5u){const Ct=h;if("string"!=typeof r.x5u)return bl.errors=[{instancePath:t+"/x5u",schemaPath:"#/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;At=Ct===h}else At=!0;if(At){if(void 0!==r.x5c){const Ct=h;if("string"!=typeof r.x5c)return bl.errors=[{instancePath:t+"/x5c",schemaPath:"#/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;At=Ct===h}else At=!0;if(At){if(void 0!==r.x5t){const Ct=h;if("string"!=typeof r.x5t)return bl.errors=[{instancePath:t+"/x5t",schemaPath:"#/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;At=Ct===h}else At=!0;if(At)if(void 0!==r["x5t#S256"]){const Ct=h;if("string"!=typeof r["x5t#S256"])return bl.errors=[{instancePath:t+"/x5t#S256",schemaPath:"#/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;At=Ct===h}else At=!0}}}}}}}}}}return bl.errors=c,V.props=Pe,0===h}bl.evaluated={dynamicProps:!0,dynamicItems:!1};const k6=Pi,R6=Tf,O6={$id:"https://identity.foundation/dwn/json-schemas/jwk-verification-method.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",additionalProperties:!1,required:["id","type","controller","publicKeyJwk"],properties:{id:{type:"string"},type:{enum:["JsonWebKey","JsonWebKey2020"]},controller:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}}};function Tf(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=Tf.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return Tf.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let I;if(void 0===r.id&&(I="id")||void 0===r.type&&(I="type")||void 0===r.controller&&(I="controller")||void 0===r.publicKeyJwk&&(I="publicKeyJwk"))return Tf.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:I},message:"must have required property '"+I+"'"}],!1;{const q=h;for(const Ce in r)if("id"!==Ce&&"type"!==Ce&&"controller"!==Ce&&"publicKeyJwk"!==Ce)return Tf.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ce},message:"must NOT have additional properties"}],!1;if(q===h){if(void 0!==r.id){const Ce=h;if("string"!=typeof r.id)return Tf.errors=[{instancePath:t+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $=Ce===h}else $=!0;if($){if(void 0!==r.type){let Ce=r.type;const Be=h;if("JsonWebKey"!==Ce&&"JsonWebKey2020"!==Ce)return Tf.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/enum",keyword:"enum",params:{allowedValues:O6.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;$=Be===h}else $=!0;if($){if(void 0!==r.controller){let Ce=r.controller;const Be=h;if(h==h){if("string"!=typeof Ce)return Tf.errors=[{instancePath:t+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Bm.test(Ce))return Tf.errors=[{instancePath:t+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}$=Be===h}else $=!0;if($)if(void 0!==r.publicKeyJwk){const Ce=h;es(r.publicKeyJwk,{instancePath:t+"/publicKeyJwk",parentData:r,parentDataProperty:"publicKeyJwk",rootData:l,dynamicAnchors:p})||(c=null===c?es.errors:c.concat(es.errors),h=c.length),$=Ce===h}else $=!0}}}}}}return Tf.errors=c,0===h}Tf.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const e2=go,sv={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-filter.json",type:"object",additionalProperties:!1,minProperties:1,properties:{interface:{enum:["Protocols","Records"],type:"string"},method:{enum:["Configure","Delete","Write"],type:"string"},protocol:{type:"string"},messageTimestamp:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}}}};function go(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){const V=go.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return go.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return go.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const q=0;for(const Ce in r)if("interface"!==Ce&&"method"!==Ce&&"protocol"!==Ce&&"messageTimestamp"!==Ce)return go.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ce},message:"must NOT have additional properties"}],!1;if(0===q){if(void 0!==r.interface){let Ce=r.interface;const Be=0;if("string"!=typeof Ce)return go.errors=[{instancePath:t+"/interface",schemaPath:"#/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==Ce&&"Records"!==Ce)return go.errors=[{instancePath:t+"/interface",schemaPath:"#/properties/interface/enum",keyword:"enum",params:{allowedValues:sv.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var $=0===Be}else $=!0;if($){if(void 0!==r.method){let Ce=r.method;const Be=0;if("string"!=typeof Ce)return go.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Configure"!==Ce&&"Delete"!==Ce&&"Write"!==Ce)return go.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/enum",keyword:"enum",params:{allowedValues:sv.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;$=0===Be}else $=!0;if($){if(void 0!==r.protocol){const Ce=0;if("string"!=typeof r.protocol)return go.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===Ce}else $=!0;if($)if(void 0!==r.messageTimestamp){let Ce=r.messageTimestamp;const Be=0;if(0===Be){if(!Ce||"object"!=typeof Ce||Array.isArray(Ce))return go.errors=[{instancePath:t+"/messageTimestamp",schemaPath:"#/properties/messageTimestamp/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Ce).length<1)return go.errors=[{instancePath:t+"/messageTimestamp",schemaPath:"#/properties/messageTimestamp/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Ke=0;for(const rt in Ce)if("from"!==rt&&"to"!==rt)return go.errors=[{instancePath:t+"/messageTimestamp",schemaPath:"#/properties/messageTimestamp/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:rt},message:"must NOT have additional properties"}],!1;if(0===Ke){if(void 0!==Ce.from){let rt=Ce.from;const ht=0;if("string"!=typeof rt)return go.errors=[{instancePath:t+"/messageTimestamp/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Tc.test(rt))return go.errors=[{instancePath:t+"/messageTimestamp/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1;var I=0===ht}else I=!0;if(I)if(void 0!==Ce.to){let rt=Ce.to;const ht=0;if("string"!=typeof rt)return go.errors=[{instancePath:t+"/messageTimestamp/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Tc.test(rt))return go.errors=[{instancePath:t+"/messageTimestamp/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1;I=0===ht}else I=!0}}}$=0===Be}else $=!0}}}}return go.errors=null,!0}go.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Vr=Ro,Li={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-query.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filters"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filters:{type:"array",items:{$ref:"https://identity.foundation/dwn/json-schemas/messages-filter.json"}},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}}}};function Ro(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=Ro.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return Ro.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Be;if(void 0===r.authorization&&(Be="authorization")||void 0===r.descriptor&&(Be="descriptor"))return Ro.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Be},message:"must have required property '"+Be+"'"}],!1;{const Pe=h;for(const Ke in r)if("authorization"!==Ke&&"descriptor"!==Ke)return Ro.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ke},message:"must NOT have additional properties"}],!1;if(Pe===h){if(void 0!==r.authorization){const Ke=h;js(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:p})||(c=null===c?js.errors:c.concat(js.errors),h=c.length);var $=Ke===h}else $=!0;if($)if(void 0!==r.descriptor){let Ke=r.descriptor;const rt=h;if(h===rt){if(!Ke||"object"!=typeof Ke||Array.isArray(Ke))return Ro.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ct;if(void 0===Ke.interface&&(ct="interface")||void 0===Ke.method&&(ct="method")||void 0===Ke.messageTimestamp&&(ct="messageTimestamp")||void 0===Ke.filters&&(ct="filters"))return Ro.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:ct},message:"must have required property '"+ct+"'"}],!1;{const dt=h;for(const At in Ke)if("interface"!==At&&"method"!==At&&"messageTimestamp"!==At&&"filters"!==At&&"cursor"!==At)return Ro.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:At},message:"must NOT have additional properties"}],!1;if(dt===h){if(void 0!==Ke.interface){let At=Ke.interface;const Pt=h;if("string"!=typeof At)return Ro.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Messages"!==At)return Ro.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Li.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var I=Pt===h}else I=!0;if(I){if(void 0!==Ke.method){let At=Ke.method;const Pt=h;if("string"!=typeof At)return Ro.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==At)return Ro.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Li.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;I=Pt===h}else I=!0;if(I){if(void 0!==Ke.messageTimestamp){let At=Ke.messageTimestamp;const Pt=h;if(h==h){if("string"!=typeof At)return Ro.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Tc.test(At))return Ro.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}I=Pt===h}else I=!0;if(I){if(void 0!==Ke.filters){let At=Ke.filters;const Pt=h;if(h===Pt){if(!Array.isArray(At))return Ro.errors=[{instancePath:t+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const zt=At.length;for(let Xt=0;Xt<zt;Xt++){const xn=h;if(go(At[Xt],{instancePath:t+"/descriptor/filters/"+Xt,parentData:At,parentDataProperty:Xt,rootData:l,dynamicAnchors:p})||(c=null===c?go.errors:c.concat(go.errors),h=c.length),xn!==h)break}}}I=Pt===h}else I=!0;if(I)if(void 0!==Ke.cursor){let At=Ke.cursor;const Pt=h;if(h==h){if(!At||"object"!=typeof At||Array.isArray(At))return Ro.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(At).length<1)return Ro.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let Xt;if(void 0===At.messageCid&&(Xt="messageCid")||void 0===At.value&&(Xt="value"))return Ro.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:Xt},message:"must have required property '"+Xt+"'"}],!1;{const xn=h;for(const Cn in At)if("messageCid"!==Cn&&"value"!==Cn)return Ro.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Cn},message:"must NOT have additional properties"}],!1;if(xn===h){if(void 0!==At.messageCid){const Cn=h;if("string"!=typeof At.messageCid)return Ro.errors=[{instancePath:t+"/descriptor/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Ce=Cn===h}else Ce=!0;if(Ce)if(void 0!==At.value){let Cn=At.value;const Nn=h;if("string"!=typeof Cn&&("number"!=typeof Cn||!isFinite(Cn)))return Ro.errors=[{instancePath:t+"/descriptor/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:YE.properties.value.type},message:"must be string,number"}],!1;Ce=Nn===h}else Ce=!0}}}}I=Pt===h}else I=!0}}}}}}}$=rt===h}else $=!0}}}}return Ro.errors=c,0===h}Ro.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Df=As,Yc={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-read.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Read"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},messageCid:{type:"string"}}}}};function As(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=As.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return As.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let q;if(void 0===r.authorization&&(q="authorization")||void 0===r.descriptor&&(q="descriptor"))return As.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:q},message:"must have required property '"+q+"'"}],!1;{const Ce=h;for(const Be in r)if("authorization"!==Be&&"descriptor"!==Be)return As.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Be},message:"must NOT have additional properties"}],!1;if(Ce===h){if(void 0!==r.authorization){const Be=h;js(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:p})||(c=null===c?js.errors:c.concat(js.errors),h=c.length);var $=Be===h}else $=!0;if($)if(void 0!==r.descriptor){let Be=r.descriptor;const Pe=h;if(h===Pe){if(!Be||"object"!=typeof Be||Array.isArray(Be))return As.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let rt;if(void 0===Be.interface&&(rt="interface")||void 0===Be.method&&(rt="method")||void 0===Be.messageTimestamp&&(rt="messageTimestamp"))return As.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:rt},message:"must have required property '"+rt+"'"}],!1;{const ht=h;for(const ct in Be)if("interface"!==ct&&"method"!==ct&&"messageTimestamp"!==ct&&"messageCid"!==ct)return As.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ct},message:"must NOT have additional properties"}],!1;if(ht===h){if(void 0!==Be.interface){let ct=Be.interface;const dt=h;if("string"!=typeof ct)return As.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Messages"!==ct)return As.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Yc.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var I=dt===h}else I=!0;if(I){if(void 0!==Be.method){let ct=Be.method;const dt=h;if("string"!=typeof ct)return As.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Read"!==ct)return As.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Yc.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;I=dt===h}else I=!0;if(I){if(void 0!==Be.messageTimestamp){let ct=Be.messageTimestamp;const dt=h;if(h==h){if("string"!=typeof ct)return As.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Tc.test(ct))return As.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}I=dt===h}else I=!0;if(I)if(void 0!==Be.messageCid){const ct=h;if("string"!=typeof Be.messageCid)return As.errors=[{instancePath:t+"/descriptor/messageCid",schemaPath:"#/properties/descriptor/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;I=ct===h}else I=!0}}}}}}$=Pe===h}else $=!0}}}}return As.errors=c,0===h}As.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const fy=os,ea={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-subscribe.json",type:"object",additionalProperties:!1,required:["descriptor","authorization"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filters"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Subscribe"],type:"string"},messageTimestamp:{type:"string"},filters:{type:"array",items:{$ref:"https://identity.foundation/dwn/json-schemas/messages-filter.json"}}}}}};function os(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=os.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return os.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ce;if(void 0===r.descriptor&&(Ce="descriptor")||void 0===r.authorization&&(Ce="authorization"))return os.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Ce},message:"must have required property '"+Ce+"'"}],!1;{const Be=h;for(const Pe in r)if("authorization"!==Pe&&"descriptor"!==Pe)return os.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pe},message:"must NOT have additional properties"}],!1;if(Be===h){if(void 0!==r.authorization){const Pe=h;js(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:p})||(c=null===c?js.errors:c.concat(js.errors),h=c.length);var $=Pe===h}else $=!0;if($)if(void 0!==r.descriptor){let Pe=r.descriptor;const Ke=h;if(h===Ke){if(!Pe||"object"!=typeof Pe||Array.isArray(Pe))return os.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ht;if(void 0===Pe.interface&&(ht="interface")||void 0===Pe.method&&(ht="method")||void 0===Pe.messageTimestamp&&(ht="messageTimestamp")||void 0===Pe.filters&&(ht="filters"))return os.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:ht},message:"must have required property '"+ht+"'"}],!1;{const ct=h;for(const dt in Pe)if("interface"!==dt&&"method"!==dt&&"messageTimestamp"!==dt&&"filters"!==dt)return os.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:dt},message:"must NOT have additional properties"}],!1;if(ct===h){if(void 0!==Pe.interface){let dt=Pe.interface;const At=h;if("string"!=typeof dt)return os.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Messages"!==dt)return os.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:ea.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var I=At===h}else I=!0;if(I){if(void 0!==Pe.method){let dt=Pe.method;const At=h;if("string"!=typeof dt)return os.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Subscribe"!==dt)return os.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:ea.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;I=At===h}else I=!0;if(I){if(void 0!==Pe.messageTimestamp){const dt=h;if("string"!=typeof Pe.messageTimestamp)return os.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;I=dt===h}else I=!0;if(I)if(void 0!==Pe.filters){let dt=Pe.filters;const At=h;if(h===At){if(!Array.isArray(dt))return os.errors=[{instancePath:t+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const Ct=dt.length;for(let zt=0;zt<Ct;zt++){const Xt=h;if(go(dt[zt],{instancePath:t+"/descriptor/filters/"+zt,parentData:dt,parentDataProperty:zt,rootData:l,dynamicAnchors:p})||(c=null===c?go.errors:c.concat(go.errors),h=c.length),Xt!==h)break}}}I=At===h}else I=!0}}}}}}$=Ke===h}else $=!0}}}}return os.errors=c,0===h}os.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const ah=Ei;function Ei(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=Ei.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return Ei.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return Ei.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Ke=h;for(const rt in r)if("gt"!==rt&&"gte"!==rt&&"lt"!==rt&&"lte"!==rt)return Ei.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:rt},message:"must NOT have additional properties"}],!1;if(Ke===h){if(void 0!==r.gt){const rt=h,ht=h,ct=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let dt;if(void 0===r.gte&&(dt="gte")){const At={};null===c?c=[At]:c.push(At),h++}}if(ct===h)return Ei.errors=[{instancePath:t,schemaPath:"#/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;h=ht,null!==c&&(ht?c.length=ht:c=null);var I=rt===h}else I=!0;if(I){if(void 0!==r.gte){const rt=h,ht=h,ct=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let At;if(void 0===r.gt&&(At="gt")){const Pt={};null===c?c=[Pt]:c.push(Pt),h++}}if(ct===h)return Ei.errors=[{instancePath:t,schemaPath:"#/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;h=ht,null!==c&&(ht?c.length=ht:c=null),I=rt===h}else I=!0;if(I){if(void 0!==r.lt){const rt=h,ht=h,ct=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let At;if(void 0===r.lte&&(At="lte")){const Pt={};null===c?c=[Pt]:c.push(Pt),h++}}if(ct===h)return Ei.errors=[{instancePath:t,schemaPath:"#/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;h=ht,null!==c&&(ht?c.length=ht:c=null),I=rt===h}else I=!0;if(I){if(void 0!==r.lte){const rt=h,ht=h,ct=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let At;if(void 0===r.lt&&(At="lt")){const Pt={};null===c?c=[Pt]:c.push(Pt),h++}}if(ct===h)return Ei.errors=[{instancePath:t,schemaPath:"#/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;h=ht,null!==c&&(ht?c.length=ht:c=null),I=rt===h}else I=!0;if(I){if(void 0!==r.gt){let rt=r.gt;const ht=h;if("number"!=typeof rt||!isFinite(rt))return Ei.errors=[{instancePath:t+"/gt",schemaPath:"#/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Pe=ht===h}else Pe=!0;if(Pe){if(void 0!==r.gte){let rt=r.gte;const ht=h;if("number"!=typeof rt||!isFinite(rt))return Ei.errors=[{instancePath:t+"/gte",schemaPath:"#/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Pe=ht===h}else Pe=!0;if(Pe){if(void 0!==r.lt){let rt=r.lt;const ht=h;if("number"!=typeof rt||!isFinite(rt))return Ei.errors=[{instancePath:t+"/lt",schemaPath:"#/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Pe=ht===h}else Pe=!0;if(Pe)if(void 0!==r.lte){let rt=r.lte;const ht=h;if("number"!=typeof rt||!isFinite(rt))return Ei.errors=[{instancePath:t+"/lte",schemaPath:"#/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Pe=ht===h}else Pe=!0}}}}}}}}}return Ei.errors=c,0===h}Ei.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const av=If;function If(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){const V=If.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return If.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return If.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let I;if(void 0===r.messageCid&&(I="messageCid")||void 0===r.value&&(I="value"))return If.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:I},message:"must have required property '"+I+"'"}],!1;{const q=0;for(const Ce in r)if("messageCid"!==Ce&&"value"!==Ce)return If.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ce},message:"must NOT have additional properties"}],!1;if(0===q){if(void 0!==r.messageCid){const Ce=0;if("string"!=typeof r.messageCid)return If.errors=[{instancePath:t+"/messageCid",schemaPath:"#/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $=0===Ce}else $=!0;if($)if(void 0!==r.value){let Ce=r.value;const Be=0;if("string"!=typeof Ce&&("number"!=typeof Ce||!isFinite(Ce)))return If.errors=[{instancePath:t+"/value",schemaPath:"#/properties/value/type",keyword:"type",params:{type:YE.properties.value.type},message:"must be string,number"}],!1;$=0===Be}else $=!0}}}return If.errors=null,!0}If.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const hy=Ic,Lp={type:"object",additionalProperties:!1,properties:{publication:{enum:["Required","Prohibited"],type:"string"}}};function Vl(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=Vl.evaluated;V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0);const $=h;let I=!1,q=null;const Ce=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let Nn;if(void 0===r.interface&&(Nn="interface")||void 0===r.method&&(Nn="method")){const ir={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/required",keyword:"required",params:{missingProperty:Nn},message:"must have required property '"+Nn+"'"};null===c?c=[ir]:c.push(ir),h++}else{const ir=h;for(const Pn in r)if("interface"!==Pn&&"method"!==Pn&&"protocol"!==Pn){const Hn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pn},message:"must NOT have additional properties"};null===c?c=[Hn]:c.push(Hn),h++;break}if(ir===h){if(void 0!==r.interface){const Pn=h;if("Messages"!==r.interface){const Hn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===c?c=[Hn]:c.push(Hn),h++}var Pe=Pn===h}else Pe=!0;if(Pe){if(void 0!==r.method){const Pn=h;if("Query"!==r.method){const ln={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===c?c=[ln]:c.push(ln),h++}Pe=Pn===h}else Pe=!0;if(Pe)if(void 0!==r.protocol){const Pn=h;if("string"!=typeof r.protocol){const ln={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[ln]:c.push(ln),h++}Pe=Pn===h}else Pe=!0}}}}else{const Nn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Nn]:c.push(Nn),h++}if(dt=Ce===h){I=!0,q=0;var Ke=!0}const rt=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let Nn;if(void 0===r.interface&&(Nn="interface")||void 0===r.method&&(Nn="method")){const ir={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/required",keyword:"required",params:{missingProperty:Nn},message:"must have required property '"+Nn+"'"};null===c?c=[ir]:c.push(ir),h++}else{const ir=h;for(const Pn in r)if("interface"!==Pn&&"method"!==Pn&&"protocol"!==Pn){const Hn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pn},message:"must NOT have additional properties"};null===c?c=[Hn]:c.push(Hn),h++;break}if(ir===h){if(void 0!==r.interface){const Pn=h;if("Messages"!==r.interface){const Hn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===c?c=[Hn]:c.push(Hn),h++}var ct=Pn===h}else ct=!0;if(ct){if(void 0!==r.method){const Pn=h;if("Read"!==r.method){const ln={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===c?c=[ln]:c.push(ln),h++}ct=Pn===h}else ct=!0;if(ct)if(void 0!==r.protocol){const Pn=h;if("string"!=typeof r.protocol){const ln={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[ln]:c.push(ln),h++}ct=Pn===h}else ct=!0}}}}else{const Nn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Nn]:c.push(Nn),h++}if((dt=rt===h)&&I)I=!1,q=[q,1];else{dt&&(I=!0,q=1,!0!==Ke&&(Ke=!0));const Nn=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let Hn;if(void 0===r.interface&&(Hn="interface")||void 0===r.method&&(Hn="method")){const ln={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/required",keyword:"required",params:{missingProperty:Hn},message:"must have required property '"+Hn+"'"};null===c?c=[ln]:c.push(ln),h++}else{const ln=h;for(const vn in r)if("interface"!==vn&&"method"!==vn&&"protocol"!==vn){const wn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:vn},message:"must NOT have additional properties"};null===c?c=[wn]:c.push(wn),h++;break}if(ln===h){if(void 0!==r.interface){const vn=h;if("Messages"!==r.interface){const wn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===c?c=[wn]:c.push(wn),h++}var At=vn===h}else At=!0;if(At){if(void 0!==r.method){const vn=h;if("Subscribe"!==r.method){const Un={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===c?c=[Un]:c.push(Un),h++}At=vn===h}else At=!0;if(At)if(void 0!==r.protocol){const vn=h;if("string"!=typeof r.protocol){const Un={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Un]:c.push(Un),h++}At=vn===h}else At=!0}}}}else{const Hn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Hn]:c.push(Hn),h++}if((dt=Nn===h)&&I)I=!1,q=[q,2];else{dt&&(I=!0,q=2,!0!==Ke&&(Ke=!0));const Hn=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let wn;if(void 0===r.interface&&(wn="interface")||void 0===r.method&&(wn="method")){const Un={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/required",keyword:"required",params:{missingProperty:wn},message:"must have required property '"+wn+"'"};null===c?c=[Un]:c.push(Un),h++}else{const Un=h;for(const Sn in r)if("interface"!==Sn&&"method"!==Sn){const Vn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Sn},message:"must NOT have additional properties"};null===c?c=[Vn]:c.push(Vn),h++;break}if(Un===h){if(void 0!==r.interface){const Sn=h;if("Protocols"!==r.interface){const Vn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===c?c=[Vn]:c.push(Vn),h++}var Pt=Sn===h}else Pt=!0;if(Pt)if(void 0!==r.method){const Sn=h;if("Query"!==r.method){const lr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===c?c=[lr]:c.push(lr),h++}Pt=Sn===h}else Pt=!0}}}else{const wn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[wn]:c.push(wn),h++}if((dt=Hn===h)&&I)I=!1,q=[q,3];else{dt&&(I=!0,q=3,!0!==Ke&&(Ke=!0));const wn=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let Vn;if(void 0===r.interface&&(Vn="interface")||void 0===r.method&&(Vn="method")){const lr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/required",keyword:"required",params:{missingProperty:Vn},message:"must have required property '"+Vn+"'"};null===c?c=[lr]:c.push(lr),h++}else{const lr=h;for(const cr in r)if("interface"!==cr&&"method"!==cr&&"protocol"!==cr&&"contextId"!==cr&&"protocolPath"!==cr){const yn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:cr},message:"must NOT have additional properties"};null===c?c=[yn]:c.push(yn),h++;break}if(lr===h){if(void 0!==r.interface){const cr=h;if("Records"!==r.interface){const yn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[yn]:c.push(yn),h++}var Ct=cr===h}else Ct=!0;if(Ct){if(void 0!==r.method){const cr=h;if("Read"!==r.method){const dr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===c?c=[dr]:c.push(dr),h++}Ct=cr===h}else Ct=!0;if(Ct){if(void 0!==r.protocol){const cr=h;if("string"!=typeof r.protocol){const dr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[dr]:c.push(dr),h++}Ct=cr===h}else Ct=!0;if(Ct){if(void 0!==r.contextId){const cr=h;if("string"!=typeof r.contextId){const dr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[dr]:c.push(dr),h++}Ct=cr===h}else Ct=!0;if(Ct)if(void 0!==r.protocolPath){const cr=h;if("string"!=typeof r.protocolPath){const dr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[dr]:c.push(dr),h++}Ct=cr===h}else Ct=!0}}}}}}else{const Vn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Vn]:c.push(Vn),h++}if((dt=wn===h)&&I)I=!1,q=[q,4];else{dt&&(I=!0,q=4,!0!==Ke&&(Ke=!0));const Vn=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let yn;if(void 0===r.interface&&(yn="interface")||void 0===r.method&&(yn="method")){const dr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/required",keyword:"required",params:{missingProperty:yn},message:"must have required property '"+yn+"'"};null===c?c=[dr]:c.push(dr),h++}else{const dr=h;for(const xr in r)if("interface"!==xr&&"method"!==xr&&"protocol"!==xr&&"contextId"!==xr&&"protocolPath"!==xr){const Zn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:xr},message:"must NOT have additional properties"};null===c?c=[Zn]:c.push(Zn),h++;break}if(dr===h){if(void 0!==r.interface){const xr=h;if("Records"!==r.interface){const Zn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[Zn]:c.push(Zn),h++}var zt=xr===h}else zt=!0;if(zt){if(void 0!==r.method){const xr=h;if("Delete"!==r.method){const On={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};null===c?c=[On]:c.push(On),h++}zt=xr===h}else zt=!0;if(zt){if(void 0!==r.protocol){const xr=h;if("string"!=typeof r.protocol){const On={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[On]:c.push(On),h++}zt=xr===h}else zt=!0;if(zt){if(void 0!==r.contextId){const xr=h;if("string"!=typeof r.contextId){const On={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[On]:c.push(On),h++}zt=xr===h}else zt=!0;if(zt)if(void 0!==r.protocolPath){const xr=h;if("string"!=typeof r.protocolPath){const On={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[On]:c.push(On),h++}zt=xr===h}else zt=!0}}}}}}else{const yn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[yn]:c.push(yn),h++}if((dt=Vn===h)&&I)I=!1,q=[q,5];else{dt&&(I=!0,q=5,!0!==Ke&&(Ke=!0));const yn=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let Zn;if(void 0===r.interface&&(Zn="interface")||void 0===r.method&&(Zn="method")){const On={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/required",keyword:"required",params:{missingProperty:Zn},message:"must have required property '"+Zn+"'"};null===c?c=[On]:c.push(On),h++}else{const On=h;for(const qn in r)if("interface"!==qn&&"method"!==qn&&"protocol"!==qn&&"contextId"!==qn&&"protocolPath"!==qn){const mr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:qn},message:"must NOT have additional properties"};null===c?c=[mr]:c.push(mr),h++;break}if(On===h){if(void 0!==r.interface){const qn=h;if("Records"!==r.interface){const mr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[mr]:c.push(mr),h++}var Xt=qn===h}else Xt=!0;if(Xt){if(void 0!==r.method){const qn=h;if("Write"!==r.method){const kr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};null===c?c=[kr]:c.push(kr),h++}Xt=qn===h}else Xt=!0;if(Xt){if(void 0!==r.protocol){const qn=h;if("string"!=typeof r.protocol){const kr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[kr]:c.push(kr),h++}Xt=qn===h}else Xt=!0;if(Xt){if(void 0!==r.contextId){const qn=h;if("string"!=typeof r.contextId){const kr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[kr]:c.push(kr),h++}Xt=qn===h}else Xt=!0;if(Xt)if(void 0!==r.protocolPath){const qn=h;if("string"!=typeof r.protocolPath){const kr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[kr]:c.push(kr),h++}Xt=qn===h}else Xt=!0}}}}}}else{const Zn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Zn]:c.push(Zn),h++}if((dt=yn===h)&&I)I=!1,q=[q,6];else{dt&&(I=!0,q=6,!0!==Ke&&(Ke=!0));const Zn=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let mr;if(void 0===r.interface&&(mr="interface")||void 0===r.method&&(mr="method")){const kr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/required",keyword:"required",params:{missingProperty:mr},message:"must have required property '"+mr+"'"};null===c?c=[kr]:c.push(kr),h++}else{const kr=h;for(const Nr in r)if("interface"!==Nr&&"method"!==Nr&&"protocol"!==Nr&&"contextId"!==Nr&&"protocolPath"!==Nr){const Mr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Nr},message:"must NOT have additional properties"};null===c?c=[Mr]:c.push(Mr),h++;break}if(kr===h){if(void 0!==r.interface){const Nr=h;if("Records"!==r.interface){const Mr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[Mr]:c.push(Mr),h++}var xn=Nr===h}else xn=!0;if(xn){if(void 0!==r.method){const Nr=h;if("Query"!==r.method){const Dr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===c?c=[Dr]:c.push(Dr),h++}xn=Nr===h}else xn=!0;if(xn){if(void 0!==r.protocol){const Nr=h;if("string"!=typeof r.protocol){const Dr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Dr]:c.push(Dr),h++}xn=Nr===h}else xn=!0;if(xn){if(void 0!==r.contextId){const Nr=h;if("string"!=typeof r.contextId){const Dr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Dr]:c.push(Dr),h++}xn=Nr===h}else xn=!0;if(xn)if(void 0!==r.protocolPath){const Nr=h;if("string"!=typeof r.protocolPath){const Dr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Dr]:c.push(Dr),h++}xn=Nr===h}else xn=!0}}}}}}else{const mr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[mr]:c.push(mr),h++}if((dt=Zn===h)&&I)I=!1,q=[q,7];else{dt&&(I=!0,q=7,!0!==Ke&&(Ke=!0));const mr=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let Mr;if(void 0===r.interface&&(Mr="interface")||void 0===r.method&&(Mr="method")){const Dr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/required",keyword:"required",params:{missingProperty:Mr},message:"must have required property '"+Mr+"'"};null===c?c=[Dr]:c.push(Dr),h++}else{const Dr=h;for(const ui in r)if("interface"!==ui&&"method"!==ui&&"protocol"!==ui&&"contextId"!==ui&&"protocolPath"!==ui){const Zs={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ui},message:"must NOT have additional properties"};null===c?c=[Zs]:c.push(Zs),h++;break}if(Dr===h){if(void 0!==r.interface){const ui=h;if("Records"!==r.interface){const Zs={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[Zs]:c.push(Zs),h++}var Cn=ui===h}else Cn=!0;if(Cn){if(void 0!==r.method){const ui=h;if("Subscribe"!==r.method){const yr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===c?c=[yr]:c.push(yr),h++}Cn=ui===h}else Cn=!0;if(Cn){if(void 0!==r.protocol){const ui=h;if("string"!=typeof r.protocol){const yr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[yr]:c.push(yr),h++}Cn=ui===h}else Cn=!0;if(Cn){if(void 0!==r.contextId){const ui=h;if("string"!=typeof r.contextId){const yr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[yr]:c.push(yr),h++}Cn=ui===h}else Cn=!0;if(Cn)if(void 0!==r.protocolPath){const ui=h;if("string"!=typeof r.protocolPath){const yr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[yr]:c.push(yr),h++}Cn=ui===h}else Cn=!0}}}}}}else{const Mr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Mr]:c.push(Mr),h++}var dt;(dt=mr===h)&&I?(I=!1,q=[q,8]):dt&&(I=!0,q=8,!0!==Ke&&(Ke=!0))}}}}}}}if(!I){const Nn={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:q},message:"must match exactly one schema in oneOf"};return null===c?c=[Nn]:c.push(Nn),h++,Vl.errors=c,!1}return h=$,null!==c&&($?c.length=$:c=null),Vl.errors=c,V.props=Ke,0===h}function Ic(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=Ic.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return Ic.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let I;if(void 0===r.dateExpires&&(I="dateExpires")||void 0===r.scope&&(I="scope"))return Ic.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:I},message:"must have required property '"+I+"'"}],!1;{const q=h;for(const Ce in r)if("description"!==Ce&&"dateExpires"!==Ce&&"requestId"!==Ce&&"delegated"!==Ce&&"scope"!==Ce&&"conditions"!==Ce)return Ic.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ce},message:"must NOT have additional properties"}],!1;if(q===h){if(void 0!==r.description){const Ce=h;if("string"!=typeof r.description)return Ic.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $=Ce===h}else $=!0;if($){if(void 0!==r.dateExpires){let Ce=r.dateExpires;const Be=h;if(h==h){if("string"!=typeof Ce)return Ic.errors=[{instancePath:t+"/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Tc.test(Ce))return Ic.errors=[{instancePath:t+"/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}$=Be===h}else $=!0;if($){if(void 0!==r.requestId){const Ce=h;if("string"!=typeof r.requestId)return Ic.errors=[{instancePath:t+"/requestId",schemaPath:"#/properties/requestId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=Ce===h}else $=!0;if($){if(void 0!==r.delegated){const Ce=h;if("boolean"!=typeof r.delegated)return Ic.errors=[{instancePath:t+"/delegated",schemaPath:"#/properties/delegated/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;$=Ce===h}else $=!0;if($){if(void 0!==r.scope){const Ce=h;Vl(r.scope,{instancePath:t+"/scope",parentData:r,parentDataProperty:"scope",rootData:l,dynamicAnchors:p})||(c=null===c?Vl.errors:c.concat(Vl.errors),h=c.length),$=Ce===h}else $=!0;if($)if(void 0!==r.conditions){let Ce=r.conditions;const Be=h;if(h==h){if(!Ce||"object"!=typeof Ce||Array.isArray(Ce))return Ic.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const rt=h;for(const ht in Ce)if("publication"!==ht)return Ic.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ht},message:"must NOT have additional properties"}],!1;if(rt===h&&void 0!==Ce.publication){let ht=Ce.publication;if("string"!=typeof ht)return Ic.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Required"!==ht&&"Prohibited"!==ht)return Ic.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:Lp.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}}$=Be===h}else $=!0}}}}}}}}return Ic.errors=c,0===h}Vl.evaluated={dynamicProps:!0,dynamicItems:!1},Ic.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const py=Ds;function ch(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=ch.evaluated;V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0);const $=h;let I=!1,q=null;const Ce=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let Nn;if(void 0===r.interface&&(Nn="interface")||void 0===r.method&&(Nn="method")){const ir={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/required",keyword:"required",params:{missingProperty:Nn},message:"must have required property '"+Nn+"'"};null===c?c=[ir]:c.push(ir),h++}else{const ir=h;for(const Pn in r)if("interface"!==Pn&&"method"!==Pn&&"protocol"!==Pn){const Hn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pn},message:"must NOT have additional properties"};null===c?c=[Hn]:c.push(Hn),h++;break}if(ir===h){if(void 0!==r.interface){const Pn=h;if("Messages"!==r.interface){const Hn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===c?c=[Hn]:c.push(Hn),h++}var Pe=Pn===h}else Pe=!0;if(Pe){if(void 0!==r.method){const Pn=h;if("Query"!==r.method){const ln={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===c?c=[ln]:c.push(ln),h++}Pe=Pn===h}else Pe=!0;if(Pe)if(void 0!==r.protocol){const Pn=h;if("string"!=typeof r.protocol){const ln={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[ln]:c.push(ln),h++}Pe=Pn===h}else Pe=!0}}}}else{const Nn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Nn]:c.push(Nn),h++}if(dt=Ce===h){I=!0,q=0;var Ke=!0}const rt=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let Nn;if(void 0===r.interface&&(Nn="interface")||void 0===r.method&&(Nn="method")){const ir={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/required",keyword:"required",params:{missingProperty:Nn},message:"must have required property '"+Nn+"'"};null===c?c=[ir]:c.push(ir),h++}else{const ir=h;for(const Pn in r)if("interface"!==Pn&&"method"!==Pn&&"protocol"!==Pn){const Hn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pn},message:"must NOT have additional properties"};null===c?c=[Hn]:c.push(Hn),h++;break}if(ir===h){if(void 0!==r.interface){const Pn=h;if("Messages"!==r.interface){const Hn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===c?c=[Hn]:c.push(Hn),h++}var ct=Pn===h}else ct=!0;if(ct){if(void 0!==r.method){const Pn=h;if("Read"!==r.method){const ln={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===c?c=[ln]:c.push(ln),h++}ct=Pn===h}else ct=!0;if(ct)if(void 0!==r.protocol){const Pn=h;if("string"!=typeof r.protocol){const ln={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[ln]:c.push(ln),h++}ct=Pn===h}else ct=!0}}}}else{const Nn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Nn]:c.push(Nn),h++}if((dt=rt===h)&&I)I=!1,q=[q,1];else{dt&&(I=!0,q=1,!0!==Ke&&(Ke=!0));const Nn=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let Hn;if(void 0===r.interface&&(Hn="interface")||void 0===r.method&&(Hn="method")){const ln={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/required",keyword:"required",params:{missingProperty:Hn},message:"must have required property '"+Hn+"'"};null===c?c=[ln]:c.push(ln),h++}else{const ln=h;for(const vn in r)if("interface"!==vn&&"method"!==vn&&"protocol"!==vn){const wn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:vn},message:"must NOT have additional properties"};null===c?c=[wn]:c.push(wn),h++;break}if(ln===h){if(void 0!==r.interface){const vn=h;if("Messages"!==r.interface){const wn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===c?c=[wn]:c.push(wn),h++}var At=vn===h}else At=!0;if(At){if(void 0!==r.method){const vn=h;if("Subscribe"!==r.method){const Un={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===c?c=[Un]:c.push(Un),h++}At=vn===h}else At=!0;if(At)if(void 0!==r.protocol){const vn=h;if("string"!=typeof r.protocol){const Un={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Un]:c.push(Un),h++}At=vn===h}else At=!0}}}}else{const Hn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Hn]:c.push(Hn),h++}if((dt=Nn===h)&&I)I=!1,q=[q,2];else{dt&&(I=!0,q=2,!0!==Ke&&(Ke=!0));const Hn=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let wn;if(void 0===r.interface&&(wn="interface")||void 0===r.method&&(wn="method")){const Un={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/required",keyword:"required",params:{missingProperty:wn},message:"must have required property '"+wn+"'"};null===c?c=[Un]:c.push(Un),h++}else{const Un=h;for(const Sn in r)if("interface"!==Sn&&"method"!==Sn){const Vn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Sn},message:"must NOT have additional properties"};null===c?c=[Vn]:c.push(Vn),h++;break}if(Un===h){if(void 0!==r.interface){const Sn=h;if("Protocols"!==r.interface){const Vn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===c?c=[Vn]:c.push(Vn),h++}var Pt=Sn===h}else Pt=!0;if(Pt)if(void 0!==r.method){const Sn=h;if("Query"!==r.method){const lr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===c?c=[lr]:c.push(lr),h++}Pt=Sn===h}else Pt=!0}}}else{const wn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[wn]:c.push(wn),h++}if((dt=Hn===h)&&I)I=!1,q=[q,3];else{dt&&(I=!0,q=3,!0!==Ke&&(Ke=!0));const wn=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let Vn;if(void 0===r.interface&&(Vn="interface")||void 0===r.method&&(Vn="method")){const lr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/required",keyword:"required",params:{missingProperty:Vn},message:"must have required property '"+Vn+"'"};null===c?c=[lr]:c.push(lr),h++}else{const lr=h;for(const cr in r)if("interface"!==cr&&"method"!==cr&&"protocol"!==cr&&"contextId"!==cr&&"protocolPath"!==cr){const yn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:cr},message:"must NOT have additional properties"};null===c?c=[yn]:c.push(yn),h++;break}if(lr===h){if(void 0!==r.interface){const cr=h;if("Records"!==r.interface){const yn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[yn]:c.push(yn),h++}var Ct=cr===h}else Ct=!0;if(Ct){if(void 0!==r.method){const cr=h;if("Read"!==r.method){const dr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===c?c=[dr]:c.push(dr),h++}Ct=cr===h}else Ct=!0;if(Ct){if(void 0!==r.protocol){const cr=h;if("string"!=typeof r.protocol){const dr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[dr]:c.push(dr),h++}Ct=cr===h}else Ct=!0;if(Ct){if(void 0!==r.contextId){const cr=h;if("string"!=typeof r.contextId){const dr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[dr]:c.push(dr),h++}Ct=cr===h}else Ct=!0;if(Ct)if(void 0!==r.protocolPath){const cr=h;if("string"!=typeof r.protocolPath){const dr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[dr]:c.push(dr),h++}Ct=cr===h}else Ct=!0}}}}}}else{const Vn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Vn]:c.push(Vn),h++}if((dt=wn===h)&&I)I=!1,q=[q,4];else{dt&&(I=!0,q=4,!0!==Ke&&(Ke=!0));const Vn=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let yn;if(void 0===r.interface&&(yn="interface")||void 0===r.method&&(yn="method")){const dr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/required",keyword:"required",params:{missingProperty:yn},message:"must have required property '"+yn+"'"};null===c?c=[dr]:c.push(dr),h++}else{const dr=h;for(const xr in r)if("interface"!==xr&&"method"!==xr&&"protocol"!==xr&&"contextId"!==xr&&"protocolPath"!==xr){const Zn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:xr},message:"must NOT have additional properties"};null===c?c=[Zn]:c.push(Zn),h++;break}if(dr===h){if(void 0!==r.interface){const xr=h;if("Records"!==r.interface){const Zn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[Zn]:c.push(Zn),h++}var zt=xr===h}else zt=!0;if(zt){if(void 0!==r.method){const xr=h;if("Delete"!==r.method){const On={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};null===c?c=[On]:c.push(On),h++}zt=xr===h}else zt=!0;if(zt){if(void 0!==r.protocol){const xr=h;if("string"!=typeof r.protocol){const On={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[On]:c.push(On),h++}zt=xr===h}else zt=!0;if(zt){if(void 0!==r.contextId){const xr=h;if("string"!=typeof r.contextId){const On={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[On]:c.push(On),h++}zt=xr===h}else zt=!0;if(zt)if(void 0!==r.protocolPath){const xr=h;if("string"!=typeof r.protocolPath){const On={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[On]:c.push(On),h++}zt=xr===h}else zt=!0}}}}}}else{const yn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[yn]:c.push(yn),h++}if((dt=Vn===h)&&I)I=!1,q=[q,5];else{dt&&(I=!0,q=5,!0!==Ke&&(Ke=!0));const yn=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let Zn;if(void 0===r.interface&&(Zn="interface")||void 0===r.method&&(Zn="method")){const On={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/required",keyword:"required",params:{missingProperty:Zn},message:"must have required property '"+Zn+"'"};null===c?c=[On]:c.push(On),h++}else{const On=h;for(const qn in r)if("interface"!==qn&&"method"!==qn&&"protocol"!==qn&&"contextId"!==qn&&"protocolPath"!==qn){const mr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:qn},message:"must NOT have additional properties"};null===c?c=[mr]:c.push(mr),h++;break}if(On===h){if(void 0!==r.interface){const qn=h;if("Records"!==r.interface){const mr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[mr]:c.push(mr),h++}var Xt=qn===h}else Xt=!0;if(Xt){if(void 0!==r.method){const qn=h;if("Write"!==r.method){const kr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};null===c?c=[kr]:c.push(kr),h++}Xt=qn===h}else Xt=!0;if(Xt){if(void 0!==r.protocol){const qn=h;if("string"!=typeof r.protocol){const kr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[kr]:c.push(kr),h++}Xt=qn===h}else Xt=!0;if(Xt){if(void 0!==r.contextId){const qn=h;if("string"!=typeof r.contextId){const kr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[kr]:c.push(kr),h++}Xt=qn===h}else Xt=!0;if(Xt)if(void 0!==r.protocolPath){const qn=h;if("string"!=typeof r.protocolPath){const kr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[kr]:c.push(kr),h++}Xt=qn===h}else Xt=!0}}}}}}else{const Zn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Zn]:c.push(Zn),h++}if((dt=yn===h)&&I)I=!1,q=[q,6];else{dt&&(I=!0,q=6,!0!==Ke&&(Ke=!0));const Zn=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let mr;if(void 0===r.interface&&(mr="interface")||void 0===r.method&&(mr="method")){const kr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/required",keyword:"required",params:{missingProperty:mr},message:"must have required property '"+mr+"'"};null===c?c=[kr]:c.push(kr),h++}else{const kr=h;for(const Nr in r)if("interface"!==Nr&&"method"!==Nr&&"protocol"!==Nr&&"contextId"!==Nr&&"protocolPath"!==Nr){const Mr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Nr},message:"must NOT have additional properties"};null===c?c=[Mr]:c.push(Mr),h++;break}if(kr===h){if(void 0!==r.interface){const Nr=h;if("Records"!==r.interface){const Mr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[Mr]:c.push(Mr),h++}var xn=Nr===h}else xn=!0;if(xn){if(void 0!==r.method){const Nr=h;if("Query"!==r.method){const Dr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===c?c=[Dr]:c.push(Dr),h++}xn=Nr===h}else xn=!0;if(xn){if(void 0!==r.protocol){const Nr=h;if("string"!=typeof r.protocol){const Dr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Dr]:c.push(Dr),h++}xn=Nr===h}else xn=!0;if(xn){if(void 0!==r.contextId){const Nr=h;if("string"!=typeof r.contextId){const Dr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Dr]:c.push(Dr),h++}xn=Nr===h}else xn=!0;if(xn)if(void 0!==r.protocolPath){const Nr=h;if("string"!=typeof r.protocolPath){const Dr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Dr]:c.push(Dr),h++}xn=Nr===h}else xn=!0}}}}}}else{const mr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[mr]:c.push(mr),h++}if((dt=Zn===h)&&I)I=!1,q=[q,7];else{dt&&(I=!0,q=7,!0!==Ke&&(Ke=!0));const mr=h;if(h==h)if(r&&"object"==typeof r&&!Array.isArray(r)){let Mr;if(void 0===r.interface&&(Mr="interface")||void 0===r.method&&(Mr="method")){const Dr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/required",keyword:"required",params:{missingProperty:Mr},message:"must have required property '"+Mr+"'"};null===c?c=[Dr]:c.push(Dr),h++}else{const Dr=h;for(const ui in r)if("interface"!==ui&&"method"!==ui&&"protocol"!==ui&&"contextId"!==ui&&"protocolPath"!==ui){const Zs={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ui},message:"must NOT have additional properties"};null===c?c=[Zs]:c.push(Zs),h++;break}if(Dr===h){if(void 0!==r.interface){const ui=h;if("Records"!==r.interface){const Zs={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[Zs]:c.push(Zs),h++}var Cn=ui===h}else Cn=!0;if(Cn){if(void 0!==r.method){const ui=h;if("Subscribe"!==r.method){const yr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===c?c=[yr]:c.push(yr),h++}Cn=ui===h}else Cn=!0;if(Cn){if(void 0!==r.protocol){const ui=h;if("string"!=typeof r.protocol){const yr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[yr]:c.push(yr),h++}Cn=ui===h}else Cn=!0;if(Cn){if(void 0!==r.contextId){const ui=h;if("string"!=typeof r.contextId){const yr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[yr]:c.push(yr),h++}Cn=ui===h}else Cn=!0;if(Cn)if(void 0!==r.protocolPath){const ui=h;if("string"!=typeof r.protocolPath){const yr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[yr]:c.push(yr),h++}Cn=ui===h}else Cn=!0}}}}}}else{const Mr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Mr]:c.push(Mr),h++}var dt;(dt=mr===h)&&I?(I=!1,q=[q,8]):dt&&(I=!0,q=8,!0!==Ke&&(Ke=!0))}}}}}}}if(!I){const Nn={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:q},message:"must match exactly one schema in oneOf"};return null===c?c=[Nn]:c.push(Nn),h++,ch.errors=c,!1}return h=$,null!==c&&($?c.length=$:c=null),ch.errors=c,V.props=Ke,0===h}function Ds(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=Ds.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return Ds.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let I;if(void 0===r.delegated&&(I="delegated")||void 0===r.scope&&(I="scope"))return Ds.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:I},message:"must have required property '"+I+"'"}],!1;{const q=h;for(const Ce in r)if("description"!==Ce&&"delegated"!==Ce&&"scope"!==Ce&&"conditions"!==Ce)return Ds.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ce},message:"must NOT have additional properties"}],!1;if(q===h){if(void 0!==r.description){const Ce=h;if("string"!=typeof r.description)return Ds.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $=Ce===h}else $=!0;if($){if(void 0!==r.delegated){const Ce=h;if("boolean"!=typeof r.delegated)return Ds.errors=[{instancePath:t+"/delegated",schemaPath:"#/properties/delegated/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;$=Ce===h}else $=!0;if($){if(void 0!==r.scope){const Ce=h;ch(r.scope,{instancePath:t+"/scope",parentData:r,parentDataProperty:"scope",rootData:l,dynamicAnchors:p})||(c=null===c?ch.errors:c.concat(ch.errors),h=c.length),$=Ce===h}else $=!0;if($)if(void 0!==r.conditions){let Ce=r.conditions;const Be=h;if(h==h){if(!Ce||"object"!=typeof Ce||Array.isArray(Ce))return Ds.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const rt=h;for(const ht in Ce)if("publication"!==ht)return Ds.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ht},message:"must NOT have additional properties"}],!1;if(rt===h&&void 0!==Ce.publication){let ht=Ce.publication;if("string"!=typeof ht)return Ds.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Required"!==ht&&"Prohibited"!==ht)return Ds.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:Lp.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}}$=Be===h}else $=!0}}}}}}return Ds.errors=c,0===h}ch.evaluated={dynamicProps:!0,dynamicItems:!1},Ds.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const zl=su;function su(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){const V=su.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return su.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const $=0;for(const I in r)if("description"!==I)return su.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:I},message:"must NOT have additional properties"}],!1;if(0===$&&void 0!==r.description&&"string"!=typeof r.description)return su.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1}return su.errors=null,!0}su.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Kw=Yh;function Yh(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){const V=Yh.evaluated;return V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(Yh.errors=null,!0):(Yh.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}Yh.evaluated={dynamicProps:!1,dynamicItems:!1};const B6=Um;function Um(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){const V=Um.evaluated;return V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(Um.errors=null,!0):(Um.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}Um.evaluated={dynamicProps:!1,dynamicItems:!1};const OA=Cc,Vw=new RegExp(".*","u"),dv={$id:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",additionalProperties:!1,properties:{$encryption:{type:"object",additionalProperties:!1,properties:{rootKeyId:{type:"string"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}},required:["rootKeyId","publicKeyJwk"]},$actions:{type:"array",minItems:1,items:{type:"object",oneOf:[{required:["who","can"],additionalProperties:!1,properties:{who:{type:"string",enum:["anyone","author","recipient"]},of:{type:"string"},can:{type:"array",minItems:1,items:{type:"string",enum:["co-delete","co-prune","co-update","create","delete","prune","read","update"]}}}},{required:["role","can"],properties:{role:{$comment:"Must be the protocol path of a role record type",type:"string"},can:{type:"array",minItems:1,items:{type:"string",enum:["co-delete","co-update","create","delete","query","subscribe","read","update"]}}}}]}},$role:{$comment:"When `true`, this turns a record into `role` that may be used within a context/sub-context",type:"boolean"},$size:{type:"object",additionalProperties:!1,properties:{min:{type:"number",minimum:0},max:{type:"number",minimum:0}}},$tags:{type:"object",minProperties:1,properties:{$requiredTags:{type:"array",items:{type:"string"}},$allowUndefinedTags:{type:"boolean"}},patternProperties:{"^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$":{type:"object",additionalProperties:!1,properties:{type:{enum:["string","number","integer","boolean","array"]},items:{type:"object",properties:{type:{enum:["string","number","integer"]}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$":{}}},contains:{type:"object",properties:{type:{enum:["string","number","integer"]}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$":{}}}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength|minItems|maxItems|uniqueItems|minContains|maxContains)$":{}}}}}},patternProperties:{"^[^$].*$":{$ref:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json"}}},N6=new RegExp("^[^$].*$","u"),YP=new RegExp("^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$","u"),JP=new RegExp("^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength|minItems|maxItems|uniqueItems|minContains|maxContains)$","u"),L6=new RegExp("^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$","u"),PA={validate:ts};function ts(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=ts.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return ts.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const ir=h;for(const Pn in r)if("$encryption"!==Pn&&"$actions"!==Pn&&"$role"!==Pn&&"$size"!==Pn&&"$tags"!==Pn&&!N6.test(Pn))return ts.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pn},message:"must NOT have additional properties"}],!1;if(ir===h){if(void 0!==r.$encryption){let Pn=r.$encryption;const Hn=h;if(h===Hn){if(!Pn||"object"!=typeof Pn||Array.isArray(Pn))return ts.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ln;if(void 0===Pn.rootKeyId&&(ln="rootKeyId")||void 0===Pn.publicKeyJwk&&(ln="publicKeyJwk"))return ts.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/required",keyword:"required",params:{missingProperty:ln},message:"must have required property '"+ln+"'"}],!1;{const vn=h;for(const wn in Pn)if("rootKeyId"!==wn&&"publicKeyJwk"!==wn)return ts.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:wn},message:"must NOT have additional properties"}],!1;if(vn===h){if(void 0!==Pn.rootKeyId){const wn=h;if("string"!=typeof Pn.rootKeyId)return ts.errors=[{instancePath:t+"/$encryption/rootKeyId",schemaPath:"#/properties/%24encryption/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $=wn===h}else $=!0;if($)if(void 0!==Pn.publicKeyJwk){const wn=h;es(Pn.publicKeyJwk,{instancePath:t+"/$encryption/publicKeyJwk",parentData:Pn,parentDataProperty:"publicKeyJwk",rootData:l,dynamicAnchors:p})||(c=null===c?es.errors:c.concat(es.errors),h=c.length),$=wn===h}else $=!0}}}}var I=Hn===h}else I=!0;if(I){if(void 0!==r.$actions){let Pn=r.$actions;const Hn=h;if(h===Hn){if(!Array.isArray(Pn))return ts.errors=[{instancePath:t+"/$actions",schemaPath:"#/properties/%24actions/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Pn.length<1)return ts.errors=[{instancePath:t+"/$actions",schemaPath:"#/properties/%24actions/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const vn=Pn.length;for(let wn=0;wn<vn;wn++){let Un=Pn[wn];const Sn=h;if(!Un||"object"!=typeof Un||Array.isArray(Un))return ts.errors=[{instancePath:t+"/$actions/"+wn,schemaPath:"#/properties/%24actions/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;const Vn=h;let lr=!1,cr=null;const yn=h;if(Un&&"object"==typeof Un&&!Array.isArray(Un)){let Zn;if(void 0===Un.who&&(Zn="who")||void 0===Un.can&&(Zn="can")){const On={instancePath:t+"/$actions/"+wn,schemaPath:"#/properties/%24actions/items/oneOf/0/required",keyword:"required",params:{missingProperty:Zn},message:"must have required property '"+Zn+"'"};null===c?c=[On]:c.push(On),h++}else{const On=h;for(const qn in Un)if("who"!==qn&&"of"!==qn&&"can"!==qn){const mr={instancePath:t+"/$actions/"+wn,schemaPath:"#/properties/%24actions/items/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:qn},message:"must NOT have additional properties"};null===c?c=[mr]:c.push(mr),h++;break}if(On===h){if(void 0!==Un.who){let qn=Un.who;const mr=h;if("string"!=typeof qn){const kr={instancePath:t+"/$actions/"+wn+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[kr]:c.push(kr),h++}if("anyone"!==qn&&"author"!==qn&&"recipient"!==qn){const kr={instancePath:t+"/$actions/"+wn+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/enum",keyword:"enum",params:{allowedValues:dv.properties.$actions.items.oneOf[0].properties.who.enum},message:"must be equal to one of the allowed values"};null===c?c=[kr]:c.push(kr),h++}var Ce=mr===h}else Ce=!0;if(Ce){if(void 0!==Un.of){const qn=h;if("string"!=typeof Un.of){const kr={instancePath:t+"/$actions/"+wn+"/of",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/of/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[kr]:c.push(kr),h++}Ce=qn===h}else Ce=!0;if(Ce)if(void 0!==Un.can){let qn=Un.can;const mr=h;if(h===mr)if(Array.isArray(qn))if(qn.length<1){const Nr={instancePath:t+"/$actions/"+wn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===c?c=[Nr]:c.push(Nr),h++}else{const Nr=qn.length;for(let Mr=0;Mr<Nr;Mr++){let Dr=qn[Mr];const ui=h;if("string"!=typeof Dr){const yr={instancePath:t+"/$actions/"+wn+"/can/"+Mr,schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[yr]:c.push(yr),h++}if("co-delete"!==Dr&&"co-prune"!==Dr&&"co-update"!==Dr&&"create"!==Dr&&"delete"!==Dr&&"prune"!==Dr&&"read"!==Dr&&"update"!==Dr){const yr={instancePath:t+"/$actions/"+wn+"/can/"+Mr,schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/items/enum",keyword:"enum",params:{allowedValues:dv.properties.$actions.items.oneOf[0].properties.can.items.enum},message:"must be equal to one of the allowed values"};null===c?c=[yr]:c.push(yr),h++}if(ui!==h)break}}else{const Nr={instancePath:t+"/$actions/"+wn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/type",keyword:"type",params:{type:"array"},message:"must be array"};null===c?c=[Nr]:c.push(Nr),h++}Ce=mr===h}else Ce=!0}}}}if(yn===h){lr=!0,cr=0;var Pe=!0}const dr=h;if(Un&&"object"==typeof Un&&!Array.isArray(Un)){let Zn;if(void 0===Un.role&&(Zn="role")||void 0===Un.can&&(Zn="can")){const On={instancePath:t+"/$actions/"+wn,schemaPath:"#/properties/%24actions/items/oneOf/1/required",keyword:"required",params:{missingProperty:Zn},message:"must have required property '"+Zn+"'"};null===c?c=[On]:c.push(On),h++}else{if(void 0!==Un.role){const On=h;if("string"!=typeof Un.role){const qn={instancePath:t+"/$actions/"+wn+"/role",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/role/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[qn]:c.push(qn),h++}var Ke=On===h}else Ke=!0;if(Ke)if(void 0!==Un.can){let On=Un.can;const qn=h;if(h===qn)if(Array.isArray(On))if(On.length<1){const kr={instancePath:t+"/$actions/"+wn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===c?c=[kr]:c.push(kr),h++}else{const kr=On.length;for(let Nr=0;Nr<kr;Nr++){let Mr=On[Nr];const Dr=h;if("string"!=typeof Mr){const Zs={instancePath:t+"/$actions/"+wn+"/can/"+Nr,schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Zs]:c.push(Zs),h++}if("co-delete"!==Mr&&"co-update"!==Mr&&"create"!==Mr&&"delete"!==Mr&&"query"!==Mr&&"subscribe"!==Mr&&"read"!==Mr&&"update"!==Mr){const Zs={instancePath:t+"/$actions/"+wn+"/can/"+Nr,schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/items/enum",keyword:"enum",params:{allowedValues:dv.properties.$actions.items.oneOf[1].properties.can.items.enum},message:"must be equal to one of the allowed values"};null===c?c=[Zs]:c.push(Zs),h++}if(Dr!==h)break}}else{const kr={instancePath:t+"/$actions/"+wn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/type",keyword:"type",params:{type:"array"},message:"must be array"};null===c?c=[kr]:c.push(kr),h++}Ke=qn===h}else Ke=!0}}var ht;if((ht=dr===h)&&lr?(lr=!1,cr=[cr,1]):ht&&(lr=!0,cr=1,!0!==Pe&&((Pe=Pe||{}).role=!0,Pe.can=!0)),!lr){const Zn={instancePath:t+"/$actions/"+wn,schemaPath:"#/properties/%24actions/items/oneOf",keyword:"oneOf",params:{passingSchemas:cr},message:"must match exactly one schema in oneOf"};return null===c?c=[Zn]:c.push(Zn),h++,ts.errors=c,!1}if(h=Vn,null!==c&&(Vn?c.length=Vn:c=null),Sn!==h)break}}}I=Hn===h}else I=!0;if(I){if(void 0!==r.$role){const Pn=h;if("boolean"!=typeof r.$role)return ts.errors=[{instancePath:t+"/$role",schemaPath:"#/properties/%24role/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;I=Pn===h}else I=!0;if(I){if(void 0!==r.$size){let Pn=r.$size;const Hn=h;if(h===Hn){if(!Pn||"object"!=typeof Pn||Array.isArray(Pn))return ts.errors=[{instancePath:t+"/$size",schemaPath:"#/properties/%24size/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const vn=h;for(const wn in Pn)if("min"!==wn&&"max"!==wn)return ts.errors=[{instancePath:t+"/$size",schemaPath:"#/properties/%24size/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:wn},message:"must NOT have additional properties"}],!1;if(vn===h){if(void 0!==Pn.min){let wn=Pn.min;const Un=h;if(h===Un){if("number"!=typeof wn||!isFinite(wn))return ts.errors=[{instancePath:t+"/$size/min",schemaPath:"#/properties/%24size/properties/min/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(wn<0||isNaN(wn))return ts.errors=[{instancePath:t+"/$size/min",schemaPath:"#/properties/%24size/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}var ct=Un===h}else ct=!0;if(ct)if(void 0!==Pn.max){let wn=Pn.max;const Un=h;if(h===Un){if("number"!=typeof wn||!isFinite(wn))return ts.errors=[{instancePath:t+"/$size/max",schemaPath:"#/properties/%24size/properties/max/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(wn<0||isNaN(wn))return ts.errors=[{instancePath:t+"/$size/max",schemaPath:"#/properties/%24size/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}ct=Un===h}else ct=!0}}}I=Hn===h}else I=!0;if(I){if(void 0!==r.$tags){let Pn=r.$tags;const Hn=h;if(h===Hn){if(!Pn||"object"!=typeof Pn||Array.isArray(Pn))return ts.errors=[{instancePath:t+"/$tags",schemaPath:"#/properties/%24tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Pn).length<1)return ts.errors=[{instancePath:t+"/$tags",schemaPath:"#/properties/%24tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;if(void 0!==Pn.$requiredTags){let vn=Pn.$requiredTags;const wn=h;if(h===wn){if(!Array.isArray(vn))return ts.errors=[{instancePath:t+"/$tags/$requiredTags",schemaPath:"#/properties/%24tags/properties/%24requiredTags/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const Un=vn.length;for(let Sn=0;Sn<Un;Sn++){const Vn=h;if("string"!=typeof vn[Sn])return ts.errors=[{instancePath:t+"/$tags/$requiredTags/"+Sn,schemaPath:"#/properties/%24tags/properties/%24requiredTags/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(Vn!==h)break}}}var At=wn===h}else At=!0;if(At){if(void 0!==Pn.$allowUndefinedTags){const vn=h;if("boolean"!=typeof Pn.$allowUndefinedTags)return ts.errors=[{instancePath:t+"/$tags/$allowUndefinedTags",schemaPath:"#/properties/%24tags/properties/%24allowUndefinedTags/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;At=vn===h}else At=!0;if(At){var Pt={$requiredTags:!0,$allowUndefinedTags:!0};for(const vn in Pn)if(YP.test(vn)){let wn=Pn[vn];if(h==h){if(!wn||"object"!=typeof wn||Array.isArray(wn))return ts.errors=[{instancePath:t+"/$tags/"+vn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Sn=h;for(const Vn in wn)if("type"!==Vn&&"items"!==Vn&&"contains"!==Vn&&!JP.test(Vn))return ts.errors=[{instancePath:t+"/$tags/"+vn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Vn},message:"must NOT have additional properties"}],!1;if(Sn===h){if(void 0!==wn.type){let Vn=wn.type;const lr=h;if("string"!==Vn&&"number"!==Vn&&"integer"!==Vn&&"boolean"!==Vn&&"array"!==Vn)return ts.errors=[{instancePath:t+"/$tags/"+vn.replace(/~/g,"~0").replace(/\//g,"~1")+"/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/type/enum",keyword:"enum",params:{allowedValues:dv.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var Ct=lr===h}else Ct=!0;if(Ct){if(void 0!==wn.items){let Vn=wn.items;const lr=h;if(h===lr){if(!Vn||"object"!=typeof Vn||Array.isArray(Vn))return ts.errors=[{instancePath:t+"/$tags/"+vn.replace(/~/g,"~0").replace(/\//g,"~1")+"/items",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==Vn.type){let yn=Vn.type;const dr=h;if("string"!==yn&&"number"!==yn&&"integer"!==yn)return ts.errors=[{instancePath:t+"/$tags/"+vn.replace(/~/g,"~0").replace(/\//g,"~1")+"/items/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/items/properties/type/enum",keyword:"enum",params:{allowedValues:dv.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.items.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var zt=dr===h}else zt=!0;if(zt){var Xt={type:!0};for(const yn in Vn)L6.test(yn)&&(Xt[yn]=!0)}}Ct=lr===h}else Ct=!0;if(Ct)if(void 0!==wn.contains){let Vn=wn.contains;const lr=h;if(h===lr){if(!Vn||"object"!=typeof Vn||Array.isArray(Vn))return ts.errors=[{instancePath:t+"/$tags/"+vn.replace(/~/g,"~0").replace(/\//g,"~1")+"/contains",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/contains/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==Vn.type){let yn=Vn.type;const dr=h;if("string"!==yn&&"number"!==yn&&"integer"!==yn)return ts.errors=[{instancePath:t+"/$tags/"+vn.replace(/~/g,"~0").replace(/\//g,"~1")+"/contains/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/contains/properties/type/enum",keyword:"enum",params:{allowedValues:dv.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.contains.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var xn=dr===h}else xn=!0;if(xn){var Cn={type:!0};for(const yn in Vn)L6.test(yn)&&(Cn[yn]=!0)}}Ct=lr===h}else Ct=!0}}}}Pt[vn]=!0}}}}I=Hn===h}else I=!0;if(I)for(const Pn in r)if(N6.test(Pn)){const Hn=h;if(PA.validate(r[Pn],{instancePath:t+"/"+Pn.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:r,parentDataProperty:Pn,rootData:l,dynamicAnchors:p})||(c=null===c?PA.validate.errors:c.concat(PA.validate.errors),h=c.length),Hn!==h)break}}}}}}}}return ts.errors=c,0===h}function Cc(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=Cc.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return Cc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Pe;if(void 0===r.protocol&&(Pe="protocol")||void 0===r.published&&(Pe="published")||void 0===r.types&&(Pe="types")||void 0===r.structure&&(Pe="structure"))return Cc.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Pe},message:"must have required property '"+Pe+"'"}],!1;{const Ke=h;for(const rt in r)if("protocol"!==rt&&"published"!==rt&&"types"!==rt&&"structure"!==rt)return Cc.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:rt},message:"must NOT have additional properties"}],!1;if(Ke===h){if(void 0!==r.protocol){const rt=h;if("string"!=typeof r.protocol)return Cc.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $=rt===h}else $=!0;if($){if(void 0!==r.published){const rt=h;if("boolean"!=typeof r.published)return Cc.errors=[{instancePath:t+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;$=rt===h}else $=!0;if($){if(void 0!==r.types){let rt=r.types;const ht=h;if(h===ht){if(!rt||"object"!=typeof rt||Array.isArray(rt))return Cc.errors=[{instancePath:t+"/types",schemaPath:"#/properties/types/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var I={};for(const dt in rt)if(Vw.test(dt)){let At=rt[dt];if(h==h){if(!At||"object"!=typeof At||Array.isArray(At))return Cc.errors=[{instancePath:t+"/types/"+dt.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Ct=h;for(const zt in At)if("schema"!==zt&&"dataFormats"!==zt)return Cc.errors=[{instancePath:t+"/types/"+dt.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:zt},message:"must NOT have additional properties"}],!1;if(Ct===h){if(void 0!==At.schema){const zt=h;if("string"!=typeof At.schema)return Cc.errors=[{instancePath:t+"/types/"+dt.replace(/~/g,"~0").replace(/\//g,"~1")+"/schema",schemaPath:"#/properties/types/patternProperties/.*/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var q=zt===h}else q=!0;if(q)if(void 0!==At.dataFormats){let zt=At.dataFormats;const Xt=h;if(h===Xt){if(!Array.isArray(zt))return Cc.errors=[{instancePath:t+"/types/"+dt.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(zt.length<1)return Cc.errors=[{instancePath:t+"/types/"+dt.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Cn=zt.length;for(let Nn=0;Nn<Cn;Nn++){const ir=h;if("string"!=typeof zt[Nn])return Cc.errors=[{instancePath:t+"/types/"+dt.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats/"+Nn,schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(ir!==h)break}}}q=Xt===h}else q=!0}}}I[dt]=!0}}$=ht===h}else $=!0;if($)if(void 0!==r.structure){let rt=r.structure;const ht=h;if(h===ht){if(!rt||"object"!=typeof rt||Array.isArray(rt))return Cc.errors=[{instancePath:t+"/structure",schemaPath:"#/properties/structure/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var Be={};for(const dt in rt)Vw.test(dt)&&(ts(rt[dt],{instancePath:t+"/structure/"+dt.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:rt,parentDataProperty:dt,rootData:l,dynamicAnchors:p})||(c=null===c?ts.errors:c.concat(ts.errors),h=c.length),Be[dt]=!0)}$=ht===h}else $=!0}}}}}}return Cc.errors=c,0===h}ts.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},Cc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const qP=ts,QP=vd,U6={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/protocols-configure.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","definition"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Configure"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},definition:{$ref:"https://identity.foundation/dwn/json-schemas/protocol-definition.json"}}}}};function vd(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=vd.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return vd.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let q;if(void 0===r.authorization&&(q="authorization")||void 0===r.descriptor&&(q="descriptor"))return vd.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:q},message:"must have required property '"+q+"'"}],!1;{const Ce=h;for(const Be in r)if("authorization"!==Be&&"descriptor"!==Be)return vd.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Be},message:"must NOT have additional properties"}],!1;if(Ce===h){if(void 0!==r.authorization){const Be=h;js(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:p})||(c=null===c?js.errors:c.concat(js.errors),h=c.length);var $=Be===h}else $=!0;if($)if(void 0!==r.descriptor){let Be=r.descriptor;const Pe=h;if(h===Pe){if(!Be||"object"!=typeof Be||Array.isArray(Be))return vd.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let rt;if(void 0===Be.interface&&(rt="interface")||void 0===Be.method&&(rt="method")||void 0===Be.messageTimestamp&&(rt="messageTimestamp")||void 0===Be.definition&&(rt="definition"))return vd.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:rt},message:"must have required property '"+rt+"'"}],!1;{const ht=h;for(const ct in Be)if("interface"!==ct&&"method"!==ct&&"messageTimestamp"!==ct&&"definition"!==ct)return vd.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ct},message:"must NOT have additional properties"}],!1;if(ht===h){if(void 0!==Be.interface){let ct=Be.interface;const dt=h;if("string"!=typeof ct)return vd.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==ct)return vd.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:U6.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var I=dt===h}else I=!0;if(I){if(void 0!==Be.method){let ct=Be.method;const dt=h;if("string"!=typeof ct)return vd.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Configure"!==ct)return vd.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:U6.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;I=dt===h}else I=!0;if(I){if(void 0!==Be.messageTimestamp){let ct=Be.messageTimestamp;const dt=h;if(h==h){if("string"!=typeof ct)return vd.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Tc.test(ct))return vd.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}I=dt===h}else I=!0;if(I)if(void 0!==Be.definition){const ct=h;Cc(Be.definition,{instancePath:t+"/descriptor/definition",parentData:Be,parentDataProperty:"definition",rootData:l,dynamicAnchors:p})||(c=null===c?Cc.errors:c.concat(Cc.errors),h=c.length),I=ct===h}else I=!0}}}}}}$=Pe===h}else $=!0}}}}return vd.errors=c,0===h}vd.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const BA=ac,n2={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/protocols-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"}}}}}}};function ac(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=ac.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return ac.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ce;if(void 0===r.descriptor&&(Ce="descriptor"))return ac.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Ce},message:"must have required property '"+Ce+"'"}],!1;{const Be=h;for(const Pe in r)if("authorization"!==Pe&&"descriptor"!==Pe)return ac.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pe},message:"must NOT have additional properties"}],!1;if(Be===h){if(void 0!==r.authorization){const Pe=h;js(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:p})||(c=null===c?js.errors:c.concat(js.errors),h=c.length);var $=Pe===h}else $=!0;if($)if(void 0!==r.descriptor){let Pe=r.descriptor;const Ke=h;if(h===Ke){if(!Pe||"object"!=typeof Pe||Array.isArray(Pe))return ac.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ht;if(void 0===Pe.interface&&(ht="interface")||void 0===Pe.method&&(ht="method")||void 0===Pe.messageTimestamp&&(ht="messageTimestamp"))return ac.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:ht},message:"must have required property '"+ht+"'"}],!1;{const ct=h;for(const dt in Pe)if("interface"!==dt&&"method"!==dt&&"messageTimestamp"!==dt&&"filter"!==dt)return ac.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:dt},message:"must NOT have additional properties"}],!1;if(ct===h){if(void 0!==Pe.interface){let dt=Pe.interface;const At=h;if("string"!=typeof dt)return ac.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==dt)return ac.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:n2.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var I=At===h}else I=!0;if(I){if(void 0!==Pe.method){let dt=Pe.method;const At=h;if("string"!=typeof dt)return ac.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==dt)return ac.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:n2.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;I=At===h}else I=!0;if(I){if(void 0!==Pe.messageTimestamp){let dt=Pe.messageTimestamp;const At=h;if(h==h){if("string"!=typeof dt)return ac.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Tc.test(dt))return ac.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}I=At===h}else I=!0;if(I)if(void 0!==Pe.filter){let dt=Pe.filter;const At=h;if(h===At){if(!dt||"object"!=typeof dt||Array.isArray(dt))return ac.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(dt).length<1)return ac.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Ct=h;for(const zt in dt)if("protocol"!==zt&&"recipient"!==zt)return ac.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:zt},message:"must NOT have additional properties"}],!1;if(Ct===h){if(void 0!==dt.protocol){const zt=h;if("string"!=typeof dt.protocol)return ac.errors=[{instancePath:t+"/descriptor/filter/protocol",schemaPath:"#/properties/descriptor/properties/filter/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var q=zt===h}else q=!0;if(q)if(void 0!==dt.recipient){let zt=dt.recipient;const Xt=h;if(h==h){if("string"!=typeof zt)return ac.errors=[{instancePath:t+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Bm.test(zt))return ac.errors=[{instancePath:t+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}q=Xt===h}else q=!0}}}I=At===h}else I=!0}}}}}}$=Ke===h}else $=!0}}}}return ac.errors=c,0===h}ac.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const e4=bd,F6={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-read.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Read"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function bd(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=bd.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return bd.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let q;if(void 0===r.descriptor&&(q="descriptor"))return bd.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:q},message:"must have required property '"+q+"'"}],!1;{const Ce=h;for(const Be in r)if("authorization"!==Be&&"descriptor"!==Be)return bd.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Be},message:"must NOT have additional properties"}],!1;if(Ce===h){if(void 0!==r.authorization){const Be=h;Zc(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:p})||(c=null===c?Zc.errors:c.concat(Zc.errors),h=c.length);var $=Be===h}else $=!0;if($)if(void 0!==r.descriptor){let Be=r.descriptor;const Pe=h;if(h===Pe){if(!Be||"object"!=typeof Be||Array.isArray(Be))return bd.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let rt;if(void 0===Be.interface&&(rt="interface")||void 0===Be.method&&(rt="method")||void 0===Be.messageTimestamp&&(rt="messageTimestamp")||void 0===Be.filter&&(rt="filter"))return bd.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:rt},message:"must have required property '"+rt+"'"}],!1;{const ht=h;for(const ct in Be)if("interface"!==ct&&"method"!==ct&&"messageTimestamp"!==ct&&"filter"!==ct)return bd.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ct},message:"must NOT have additional properties"}],!1;if(ht===h){if(void 0!==Be.interface){let ct=Be.interface;const dt=h;if("string"!=typeof ct)return bd.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==ct)return bd.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:F6.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var I=dt===h}else I=!0;if(I){if(void 0!==Be.method){let ct=Be.method;const dt=h;if("string"!=typeof ct)return bd.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Read"!==ct)return bd.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:F6.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;I=dt===h}else I=!0;if(I){if(void 0!==Be.messageTimestamp){let ct=Be.messageTimestamp;const dt=h;if(h==h){if("string"!=typeof ct)return bd.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Tc.test(ct))return bd.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}I=dt===h}else I=!0;if(I)if(void 0!==Be.filter){const ct=h;li(Be.filter,{instancePath:t+"/descriptor/filter",parentData:Be,parentDataProperty:"filter",rootData:l,dynamicAnchors:p})||(c=null===c?li.errors:c.concat(li.errors),h=c.length),I=ct===h}else I=!0}}}}}}$=Pe===h}else $=!0}}}}return bd.errors=c,0===h}bd.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const j6=li,NA=es,r2=kf;function kf(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){const V=kf.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return kf.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let I;if(void 0===r.descriptorCid&&(I="descriptorCid"))return kf.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:I},message:"must have required property '"+I+"'"}],!1;{const q=0;for(const Ce in r)if("descriptorCid"!==Ce&&"delegatedGrantId"!==Ce&&"permissionGrantId"!==Ce&&"protocolRole"!==Ce)return kf.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ce},message:"must NOT have additional properties"}],!1;if(0===q){if(void 0!==r.descriptorCid){const Ce=0;if("string"!=typeof r.descriptorCid)return kf.errors=[{instancePath:t+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $=0===Ce}else $=!0;if($){if(void 0!==r.delegatedGrantId){const Ce=0;if("string"!=typeof r.delegatedGrantId)return kf.errors=[{instancePath:t+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===Ce}else $=!0;if($){if(void 0!==r.permissionGrantId){const Ce=0;if("string"!=typeof r.permissionGrantId)return kf.errors=[{instancePath:t+"/permissionGrantId",schemaPath:"#/properties/permissionGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===Ce}else $=!0;if($)if(void 0!==r.protocolRole){const Ce=0;if("string"!=typeof r.protocolRole)return kf.errors=[{instancePath:t+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===Ce}else $=!0}}}}}return kf.errors=null,!0}kf.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const K6=Hl;function Hl(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){const V=Hl.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return Hl.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let I;if(void 0===r.descriptorCid&&(I="descriptorCid")||void 0===r.recordId&&(I="recordId"))return Hl.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:I},message:"must have required property '"+I+"'"}],!1;{const q=0;for(const Ce in r)if("descriptorCid"!==Ce&&"recordId"!==Ce&&"contextId"!==Ce&&"attestationCid"!==Ce&&"encryptionCid"!==Ce&&"delegatedGrantId"!==Ce&&"permissionGrantId"!==Ce&&"protocolRole"!==Ce)return Hl.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ce},message:"must NOT have additional properties"}],!1;if(0===q){if(void 0!==r.descriptorCid){const Ce=0;if("string"!=typeof r.descriptorCid)return Hl.errors=[{instancePath:t+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $=0===Ce}else $=!0;if($){if(void 0!==r.recordId){const Ce=0;if("string"!=typeof r.recordId)return Hl.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===Ce}else $=!0;if($){if(void 0!==r.contextId){const Ce=0;if("string"!=typeof r.contextId)return Hl.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===Ce}else $=!0;if($){if(void 0!==r.attestationCid){const Ce=0;if("string"!=typeof r.attestationCid)return Hl.errors=[{instancePath:t+"/attestationCid",schemaPath:"#/properties/attestationCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===Ce}else $=!0;if($){if(void 0!==r.encryptionCid){const Ce=0;if("string"!=typeof r.encryptionCid)return Hl.errors=[{instancePath:t+"/encryptionCid",schemaPath:"#/properties/encryptionCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===Ce}else $=!0;if($){if(void 0!==r.delegatedGrantId){const Ce=0;if("string"!=typeof r.delegatedGrantId)return Hl.errors=[{instancePath:t+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===Ce}else $=!0;if($){if(void 0!==r.permissionGrantId){const Ce=0;if("string"!=typeof r.permissionGrantId)return Hl.errors=[{instancePath:t+"/permissionGrantId",schemaPath:"#/properties/permissionGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===Ce}else $=!0;if($)if(void 0!==r.protocolRole){const Ce=0;if("string"!=typeof r.protocolRole)return Hl.errors=[{instancePath:t+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===Ce}else $=!0}}}}}}}}}return Hl.errors=null,!0}Hl.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const z6=wl;function wl(r,{instancePath:t="",rootData:l=r,dynamicAnchors:p={}}={}){let c=null,h=0;const V=wl.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===h){if(!r||"object"!=typeof r||Array.isArray(r))return wl.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return wl.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Ke=h;for(const rt in r)if("gt"!==rt&&"gte"!==rt&&"lt"!==rt&&"lte"!==rt)return wl.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:rt},message:"must NOT have additional properties"}],!1;if(Ke===h){if(void 0!==r.gt){const rt=h,ht=h,ct=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let dt;if(void 0===r.gte&&(dt="gte")){const At={};null===c?c=[At]:c.push(At),h++}}if(ct===h)return wl.errors=[{instancePath:t,schemaPath:"#/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;h=ht,null!==c&&(ht?c.length=ht:c=null);var I=rt===h}else I=!0;if(I){if(void 0!==r.gte){const rt=h,ht=h,ct=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let At;if(void 0===r.gt&&(At="gt")){const Pt={};null===c?c=[Pt]:c.push(Pt),h++}}if(ct===h)return wl.errors=[{instancePath:t,schemaPath:"#/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;h=ht,null!==c&&(ht?c.length=ht:c=null),I=rt===h}else I=!0;if(I){if(void 0!==r.lt){const rt=h,ht=h,ct=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let At;if(void 0===r.lte&&(At="lte")){const Pt={};null===c?c=[Pt]:c.push(Pt),h++}}if(ct===h)return wl.errors=[{instancePath:t,schemaPath:"#/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;h=ht,null!==c&&(ht?c.length=ht:c=null),I=rt===h}else I=!0;if(I){if(void 0!==r.lte){const rt=h,ht=h,ct=h;if(r&&"object"==typeof r&&!Array.isArray(r)){let At;if(void 0===r.lt&&(At="lt")){const Pt={};null===c?c=[Pt]:c.push(Pt),h++}}if(ct===h)return wl.errors=[{instancePath:t,schemaPath:"#/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;h=ht,null!==c&&(ht?c.length=ht:c=null),I=rt===h}else I=!0;if(I){if(void 0!==r.gt){const rt=h;if("string"!=typeof r.gt)return wl.errors=[{instancePath:t+"/gt",schemaPath:"#/properties/gt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Pe=rt===h}else Pe=!0;if(Pe){if(void 0!==r.gte){const rt=h;if("string"!=typeof r.gte)return wl.errors=[{instancePath:t+"/gte",schemaPath:"#/properties/gte/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pe=rt===h}else Pe=!0;if(Pe){if(void 0!==r.lt){const rt=h;if("string"!=typeof r.lt)return wl.errors=[{instancePath:t+"/lt",schemaPath:"#/properties/lt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pe=rt===h}else Pe=!0;if(Pe)if(void 0!==r.lte){const rt=h;if("string"!=typeof r.lte)return wl.errors=[{instancePath:t+"/lte",schemaPath:"#/properties/lte/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pe=rt===h}else Pe=!0}}}}}}}}}return wl.errors=c,0===h}function my(r,t){const n=te[r];if(!n)throw new ce(_e.SchemaValidatorSchemaNotFound,`schema for ${r} not found.`);if(n(t),!n.errors)return;const[i]=n.errors;let{instancePath:l,message:p,keyword:c}=i;if(l||(l=r),"additionalProperties"===c)throw new ce(_e.SchemaValidatorAdditionalPropertyNotAllowed,`${p}: ${l}: ${i.params.additionalProperty}`);if("unevaluatedProperties"===c)throw new ce(_e.SchemaValidatorUnevaluatedPropertyNotAllowed,`${p}: ${l}: ${i.params.unevaluatedProperty}`);throw new ce(_e.SchemaValidatorFailure,`${l}: ${p}`)}wl.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};var Nu=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Lu{constructor(t){this.cache=t||new Ui(600)}static get singleton(){return void 0===Lu._singleton&&(Lu._singleton=new Lu),Lu._singleton}static verifySignatures(t,n){return Nu(this,void 0,void 0,function*(){return yield Lu.singleton.verifySignatures(t,n)})}verifySignatures(t,n){return Nu(this,void 0,void 0,function*(){const i=[];for(const l of t.signatures){let p;const c=Cr.getKid(l),h=`${l.protected}.${t.payload}.${l.signature}`,V=yield this.cache.get(h);if(void 0===V){const I=yield Lu.getPublicKey(c,n);p=yield Cr.verifySignature(t.payload,l,I),yield this.cache.set(h,p)}else p=V;const $=Cr.extractDid(c);if(!p)throw new ce(_e.GeneralJwsVerifierInvalidSignature,`Signature verification failed for ${$}`);i.push($)}return{signers:i}})}static getPublicKey(t,n){return Nu(this,void 0,void 0,function*(){const i=Cr.extractDid(t),{didDocument:l}=yield n.resolve(i),{verificationMethod:p=[]}=l||{};let c;for(const V of p)if(t.endsWith(V.id)){c=V;break}if(!c)throw new ce(_e.GeneralJwsVerifierGetPublicKeyNotFound,"public key needed to verify signature not found in DID Document");my("JwkVerificationMethod",c);const{publicKeyJwk:h}=c;return h})}}const LA=["string","number","bigint","symbol"],vs=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];class Rr{constructor(t,n,i){this.major=t,this.majorEncoded=t<<5,this.name=n,this.terminal=i}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}}Rr.uint=new Rr(0,"uint",!0),Rr.negint=new Rr(1,"negint",!0),Rr.bytes=new Rr(2,"bytes",!0),Rr.string=new Rr(3,"string",!0),Rr.array=new Rr(4,"array",!1),Rr.map=new Rr(5,"map",!1),Rr.tag=new Rr(6,"tag",!1),Rr.float=new Rr(7,"float",!0),Rr.false=new Rr(7,"false",!0),Rr.true=new Rr(7,"true",!0),Rr.null=new Rr(7,"null",!0),Rr.undefined=new Rr(7,"undefined",!0),Rr.break=new Rr(7,"break",!0);class Ai{constructor(t,n,i){this.type=t,this.value=n,this.encodedLength=i,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const Uu=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,au=new TextDecoder,H6=new TextEncoder;function yy(r){return Uu&&globalThis.Buffer.isBuffer(r)}function UA(r){return r instanceof Uint8Array?yy(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r:Uint8Array.from(r)}const Fu=Uu?(r,t,n)=>n-t>64?globalThis.Buffer.from(r.subarray(t,n)).toString("utf8"):hv(r,t,n):(r,t,n)=>n-t>64?au.decode(r.subarray(t,n)):hv(r,t,n),FA=Uu?r=>r.length>64?globalThis.Buffer.from(r):ho(r):r=>r.length>64?H6.encode(r):ho(r),dh=r=>Uint8Array.from(r),zw=Uu?(r,t,n)=>yy(r)?new Uint8Array(r.subarray(t,n)):r.slice(t,n):(r,t,n)=>r.slice(t,n),fv=Uu?(r,t)=>(r=r.map(n=>n instanceof Uint8Array?n:globalThis.Buffer.from(n)),UA(globalThis.Buffer.concat(r,t))):(r,t)=>{const n=new Uint8Array(t);let i=0;for(let l of r)i+l.length>n.length&&(l=l.subarray(0,n.length-i)),n.set(l,i),i+=l.length;return n},s2=Uu?r=>globalThis.Buffer.allocUnsafe(r):r=>new Uint8Array(r);function ho(r,t=1/0){let n;const i=r.length;let l=null;const p=[];for(let c=0;c<i;++c){if(n=r.charCodeAt(c),n>55295&&n<57344){if(!l){if(n>56319){(t-=3)>-1&&p.push(239,191,189);continue}if(c+1===i){(t-=3)>-1&&p.push(239,191,189);continue}l=n;continue}if(n<56320){(t-=3)>-1&&p.push(239,191,189),l=n;continue}n=65536+(l-55296<<10|n-56320)}else l&&(t-=3)>-1&&p.push(239,191,189);if(l=null,n<128){if((t-=1)<0)break;p.push(n)}else if(n<2048){if((t-=2)<0)break;p.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;p.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;p.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return p}function hv(r,t,n){const i=[];for(;t<n;){const l=r[t];let p=null,c=l>239?4:l>223?3:l>191?2:1;if(t+c<=n){let h,V,$,I;switch(c){case 1:l<128&&(p=l);break;case 2:h=r[t+1],128==(192&h)&&(I=(31&l)<<6|63&h,I>127&&(p=I));break;case 3:h=r[t+1],V=r[t+2],128==(192&h)&&128==(192&V)&&(I=(15&l)<<12|(63&h)<<6|63&V,I>2047&&(I<55296||I>57343)&&(p=I));break;case 4:h=r[t+1],V=r[t+2],$=r[t+3],128==(192&h)&&128==(192&V)&&128==(192&$)&&(I=(15&l)<<18|(63&h)<<12|(63&V)<<6|63&$,I>65535&&I<1114112&&(p=I))}}null===p?(p=65533,c=1):p>65535&&(p-=65536,i.push(p>>>10&1023|55296),p=56320|1023&p),i.push(p),t+=c}return function $A(r){const t=r.length;if(t<=Hw)return String.fromCharCode.apply(String,r);let n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,r.slice(i,i+=Hw));return n}(i)}const Hw=4096;class KA{constructor(t=256){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let n=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1)n.set(t,n.length-(this.maxCursor-this.cursor)-1);else{if(n){const l=n.length-(this.maxCursor-this.cursor)-1;l<n.length&&(this.chunks[this.chunks.length-1]=n.subarray(0,l),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(n=s2(this.chunkSize),this.chunks.push(n),this.maxCursor+=n.length,null===this._initReuseChunk&&(this._initReuseChunk=n),n.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let n;if(1===this.chunks.length){const i=this.chunks[0];t&&this.cursor>i.length/2?(n=this.cursor===i.length?i:i.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):n=zw(i,0,this.cursor)}else n=fv(this.chunks,this.cursor);return t&&this.reset(),n}}const ns="CBOR decode error:",VA="CBOR encode error:",gy=[];function ju(r,t,n){if(r.length-t<n)throw new Error(`${ns} not enough data for type`)}gy[23]=1,gy[24]=2,gy[25]=3,gy[26]=5,gy[27]=9;const _l=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Fm(r,t,n){ju(r,t,1);const i=r[t];if(!0===n.strict&&i<_l[0])throw new Error(`${ns} integer encoded in more bytes than necessary (strict decode)`);return i}function jm(r,t,n){ju(r,t,2);const i=r[t]<<8|r[t+1];if(!0===n.strict&&i<_l[1])throw new Error(`${ns} integer encoded in more bytes than necessary (strict decode)`);return i}function $m(r,t,n){ju(r,t,4);const i=16777216*r[t]+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3];if(!0===n.strict&&i<_l[2])throw new Error(`${ns} integer encoded in more bytes than necessary (strict decode)`);return i}function Km(r,t,n){ju(r,t,8);const l=16777216*r[t+4]+(r[t+5]<<16)+(r[t+6]<<8)+r[t+7],p=(BigInt(16777216*r[t]+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3])<<BigInt(32))+BigInt(l);if(!0===n.strict&&p<_l[3])throw new Error(`${ns} integer encoded in more bytes than necessary (strict decode)`);if(p<=Number.MAX_SAFE_INTEGER)return Number(p);if(!0===n.allowBigInt)return p;throw new Error(`${ns} integers outside of the safe integer range are not supported`)}function ss(r,t){return cu(r,0,t.value)}function cu(r,t,n){if(n<_l[0]){const i=Number(n);r.push([t|i])}else if(n<_l[1]){const i=Number(n);r.push([24|t,i])}else if(n<_l[2]){const i=Number(n);r.push([25|t,i>>>8,255&i])}else if(n<_l[3]){const i=Number(n);r.push([26|t,i>>>24&255,i>>>16&255,i>>>8&255,255&i])}else{const i=BigInt(n);if(!(i<_l[4]))throw new Error(`${ns} encountered BigInt larger than allowable range`);{const l=[27|t,0,0,0,0,0,0,0];let p=Number(i&BigInt(4294967295)),c=Number(i>>BigInt(32)&BigInt(4294967295));l[8]=255&p,p>>=8,l[7]=255&p,p>>=8,l[6]=255&p,p>>=8,l[5]=255&p,l[4]=255&c,c>>=8,l[3]=255&c,c>>=8,l[2]=255&c,c>>=8,l[1]=255&c,r.push(l)}}}ss.encodedSize=function(t){return cu.encodedSize(t.value)},cu.encodedSize=function(t){return t<_l[0]?1:t<_l[1]?2:t<_l[2]?3:t<_l[3]?5:9},ss.compareTokens=function(t,n){return t.value<n.value?-1:t.value>n.value?1:0};const mv=BigInt(-1),d2=BigInt(1);function WA(r,t){const n=t.value;cu(r,t.type.majorEncoded,"bigint"==typeof n?n*mv-d2:-1*n-1)}function vy(r,t,n,i){ju(r,t,n+i);const l=zw(r,t+n,t+n+i);return new Ai(Rr.bytes,l,n+i)}function GA(r,t,n,i){return vy(r,t,1,n)}function Fd(r){return void 0===r.encodedBytes&&(r.encodedBytes=r.type===Rr.string?FA(r.value):r.value),r.encodedBytes}function $u(r,t){const n=Fd(t);cu(r,t.type.majorEncoded,n.length),r.push(n)}function by(r,t,n,i,l){const p=n+i;ju(r,t,p);const c=new Ai(Rr.string,Fu(r,t+n,t+p),p);return!0===l.retainStringBytes&&(c.byteValue=zw(r,t+n,t+p)),c}function G6(r,t,n,i){return by(r,t,1,n,i)}WA.encodedSize=function(t){const n=t.value,i="bigint"==typeof n?n*mv-d2:-1*n-1;return i<_l[0]?1:i<_l[1]?2:i<_l[2]?3:i<_l[3]?5:9},WA.compareTokens=function(t,n){return t.value<n.value?1:t.value>n.value?-1:0},$u.encodedSize=function(t){const n=Fd(t);return cu.encodedSize(n.length)+n.length},$u.compareTokens=function(t,n){return function W6(r,t){return r.length<t.length?-1:r.length>t.length?1:function Jh(r,t){if(yy(r)&&yy(t))return r.compare(t);for(let n=0;n<r.length;n++)if(r[n]!==t[n])return r[n]<t[n]?-1:1;return 0}(r,t)}(Fd(t),Fd(n))};const Ww=$u;function wy(r,t,n,i){return new Ai(Rr.array,i,n)}function YA(r,t,n,i){return wy(0,0,1,n)}function yv(r,t){cu(r,Rr.array.majorEncoded,t.value)}function _y(r,t,n,i){return new Ai(Rr.map,i,n)}function El(r,t,n,i){return _y(0,0,1,n)}function m2(r,t){cu(r,Rr.map.majorEncoded,t.value)}function rT(r,t,n,i){return new Ai(Rr.tag,n,1)}function Ey(r,t){cu(r,Rr.tag.majorEncoded,t.value)}yv.compareTokens=ss.compareTokens,yv.encodedSize=function(t){return cu.encodedSize(t.value)},m2.compareTokens=ss.compareTokens,m2.encodedSize=function(t){return cu.encodedSize(t.value)},Ey.compareTokens=ss.compareTokens,Ey.encodedSize=function(t){return cu.encodedSize(t.value)};function Fp(r,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(r))throw new Error(`${ns} NaN values are not supported`);if(!1===n.allowInfinity&&(r===1/0||r===-1/0))throw new Error(`${ns} Infinity values are not supported`)}return new Ai(Rr.float,r,t)}function Zw(r,t,n){const i=t.value;if(!1===i)r.push([20|Rr.float.majorEncoded]);else if(!0===i)r.push([21|Rr.float.majorEncoded]);else if(null===i)r.push([22|Rr.float.majorEncoded]);else if(void 0===i)r.push([23|Rr.float.majorEncoded]);else{let l,p=!1;(!n||!0!==n.float64)&&(Q6(i),l=bv(fh,1),i===l||Number.isNaN(i)?(fh[0]=249,r.push(fh.slice(0,3)),p=!0):(jp(i),l=wv(fh,1),i===l&&(fh[0]=250,r.push(fh.slice(0,5)),p=!0))),p||(function _v(r){Ku.setFloat64(0,r,!1)}(i),l=cT(fh,1),fh[0]=251,r.push(fh.slice(0,9)))}}Zw.encodedSize=function(t,n){const i=t.value;if(!1===i||!0===i||null==i)return 1;if(!n||!0!==n.float64){Q6(i);let l=bv(fh,1);if(i===l||Number.isNaN(i))return 3;if(jp(i),l=wv(fh,1),i===l)return 5}return 9};const aT=new ArrayBuffer(9),Ku=new DataView(aT,1),fh=new Uint8Array(aT,0);function Q6(r){if(r===1/0)Ku.setUint16(0,31744,!1);else if(r===-1/0)Ku.setUint16(0,64512,!1);else if(Number.isNaN(r))Ku.setUint16(0,32256,!1);else{Ku.setFloat32(0,r);const t=Ku.getUint32(0),n=(2139095040&t)>>23,i=8388607&t;if(255===n)Ku.setUint16(0,31744,!1);else if(0===n)Ku.setUint16(0,(2147483648&r)>>16|i>>13,!1);else{const l=n-127;l<-24?Ku.setUint16(0,0):Ku.setUint16(0,l<-14?(2147483648&t)>>16|1<<24+l:(2147483648&t)>>16|l+15<<10|i>>13,!1)}}}function bv(r,t){if(r.length-t<2)throw new Error(`${ns} not enough data for float16`);const n=(r[t]<<8)+r[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const i=n>>10&31,l=1023&n;let p;return p=0===i?l*2**-24:31!==i?(l+1024)*2**(i-25):0===l?1/0:NaN,32768&n?-p:p}function jp(r){Ku.setFloat32(0,r,!1)}function wv(r,t){if(r.length-t<4)throw new Error(`${ns} not enough data for float32`);return new DataView(r.buffer,(r.byteOffset||0)+t,4).getFloat32(0,!1)}function cT(r,t){if(r.length-t<8)throw new Error(`${ns} not enough data for float64`);return new DataView(r.buffer,(r.byteOffset||0)+t,8).getFloat64(0,!1)}function rs(r,t,n){throw new Error(`${ns} encountered invalid minor (${n}) for major ${r[t]>>>5}`)}function Yw(r){return()=>{throw new Error(`${ns} ${r}`)}}Zw.compareTokens=ss.compareTokens;const ti=[];for(let r=0;r<=23;r++)ti[r]=rs;ti[24]=function gr(r,t,n,i){return new Ai(Rr.uint,Fm(r,t+1,i),2)},ti[25]=function Fo(r,t,n,i){return new Ai(Rr.uint,jm(r,t+1,i),3)},ti[26]=function zA(r,t,n,i){return new Ai(Rr.uint,$m(r,t+1,i),5)},ti[27]=function HA(r,t,n,i){return new Ai(Rr.uint,Km(r,t+1,i),9)},ti[28]=rs,ti[29]=rs,ti[30]=rs,ti[31]=rs;for(let r=32;r<=55;r++)ti[r]=rs;ti[56]=function pv(r,t,n,i){return new Ai(Rr.negint,-1-Fm(r,t+1,i),2)},ti[57]=function Rf(r,t,n,i){return new Ai(Rr.negint,-1-jm(r,t+1,i),3)},ti[58]=function l2(r,t,n,i){return new Ai(Rr.negint,-1-$m(r,t+1,i),5)},ti[59]=function n4(r,t,n,i){const l=Km(r,t+1,i);if("bigint"!=typeof l){const p=-1-l;if(p>=Number.MIN_SAFE_INTEGER)return new Ai(Rr.negint,p,9)}if(!0!==i.allowBigInt)throw new Error(`${ns} integers outside of the safe integer range are not supported`);return new Ai(Rr.negint,mv-BigInt(l),9)},ti[60]=rs,ti[61]=rs,ti[62]=rs,ti[63]=rs;for(let r=64;r<=87;r++)ti[r]=GA;ti[88]=function XA(r,t,n,i){return vy(r,t,2,Fm(r,t+1,i))},ti[89]=function _d(r,t,n,i){return vy(r,t,3,jm(r,t+1,i))},ti[90]=function qh(r,t,n,i){return vy(r,t,5,$m(r,t+1,i))},ti[91]=function ZA(r,t,n,i){const l=Km(r,t+1,i);if("bigint"==typeof l)throw new Error(`${ns} 64-bit integer bytes lengths not supported`);return vy(r,t,9,l)},ti[92]=rs,ti[93]=rs,ti[94]=rs,ti[95]=Yw("indefinite length bytes/strings are not supported");for(let r=96;r<=119;r++)ti[r]=G6;ti[120]=function X6(r,t,n,i){return by(r,t,2,Fm(r,t+1,i),i)},ti[121]=function u2(r,t,n,i){return by(r,t,3,jm(r,t+1,i),i)},ti[122]=function f2(r,t,n,i){return by(r,t,5,$m(r,t+1,i),i)},ti[123]=function h2(r,t,n,i){const l=Km(r,t+1,i);if("bigint"==typeof l)throw new Error(`${ns} 64-bit integer string lengths not supported`);return by(r,t,9,l,i)},ti[124]=rs,ti[125]=rs,ti[126]=rs,ti[127]=Yw("indefinite length bytes/strings are not supported");for(let r=128;r<=151;r++)ti[r]=YA;ti[152]=function p2(r,t,n,i){return wy(0,0,2,Fm(r,t+1,i))},ti[153]=function JA(r,t,n,i){return wy(0,0,3,jm(r,t+1,i))},ti[154]=function qA(r,t,n,i){return wy(0,0,5,$m(r,t+1,i))},ti[155]=function QA(r,t,n,i){const l=Km(r,t+1,i);if("bigint"==typeof l)throw new Error(`${ns} 64-bit integer array lengths not supported`);return wy(0,0,9,l)},ti[156]=rs,ti[157]=rs,ti[158]=rs,ti[159]=function eT(r,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${ns} indefinite length items not allowed`);return wy(0,0,1,1/0)};for(let r=160;r<=183;r++)ti[r]=El;ti[184]=function Vm(r,t,n,i){return _y(0,0,2,Fm(r,t+1,i))},ti[185]=function ha(r,t,n,i){return _y(0,0,3,jm(r,t+1,i))},ti[186]=function tT(r,t,n,i){return _y(0,0,5,$m(r,t+1,i))},ti[187]=function Z6(r,t,n,i){const l=Km(r,t+1,i);if("bigint"==typeof l)throw new Error(`${ns} 64-bit integer map lengths not supported`);return _y(0,0,9,l)},ti[188]=rs,ti[189]=rs,ti[190]=rs,ti[191]=function nT(r,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${ns} indefinite length items not allowed`);return _y(0,0,1,1/0)};for(let r=192;r<=215;r++)ti[r]=rT;ti[216]=function iT(r,t,n,i){return new Ai(Rr.tag,Fm(r,t+1,i),2)},ti[217]=function gv(r,t,n,i){return new Ai(Rr.tag,jm(r,t+1,i),3)},ti[218]=function uh(r,t,n,i){return new Ai(Rr.tag,$m(r,t+1,i),5)},ti[219]=function Y6(r,t,n,i){return new Ai(Rr.tag,Km(r,t+1,i),9)},ti[220]=rs,ti[221]=rs,ti[222]=rs,ti[223]=rs;for(let r=224;r<=243;r++)ti[r]=Yw("simple values are not supported");ti[244]=rs,ti[245]=rs,ti[246]=rs,ti[247]=function sT(r,t,n,i){if(!1===i.allowUndefined)throw new Error(`${ns} undefined values are not supported`);return!0===i.coerceUndefinedToNull?new Ai(Rr.null,null,1):new Ai(Rr.undefined,void 0,1)},ti[248]=Yw("simple values are not supported"),ti[249]=function vv(r,t,n,i){return Fp(bv(r,t+1),3,i)},ti[250]=function q6(r,t,n,i){return Fp(wv(r,t+1),5,i)},ti[251]=function g2(r,t,n,i){return Fp(cT(r,t+1),9,i)},ti[252]=rs,ti[253]=rs,ti[254]=rs,ti[255]=function J6(r,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${ns} indefinite length items not allowed`);return new Ai(Rr.break,void 0,1)};const lu=[];for(let r=0;r<24;r++)lu[r]=new Ai(Rr.uint,r,1);for(let r=-1;r>=-24;r--)lu[31-r]=new Ai(Rr.negint,r,1);lu[64]=new Ai(Rr.bytes,new Uint8Array(0),1),lu[96]=new Ai(Rr.string,"",1),lu[128]=new Ai(Rr.array,0,1),lu[160]=new Ai(Rr.map,0,1),lu[244]=new Ai(Rr.false,!1,1),lu[245]=new Ai(Rr.true,!0,1),lu[246]=new Ai(Rr.null,null,1);const lT={float64:!1,mapSorter:function v2(r,t){const n=Array.isArray(r[0])?r[0][0]:r[0],i=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==i.type)return n.type.compare(i.type);const p=uT[n.type.major].compareTokens(n,i);return 0===p&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),p},quickEncodeToken:function r4(r){switch(r.type){case Rr.false:return dh([244]);case Rr.true:return dh([245]);case Rr.null:return dh([246]);case Rr.bytes:return r.value.length?void 0:dh([64]);case Rr.string:return""===r.value?dh([96]):void 0;case Rr.array:return 0===r.value?dh([128]):void 0;case Rr.map:return 0===r.value?dh([160]):void 0;case Rr.uint:return r.value<24?dh([Number(r.value)]):void 0;case Rr.negint:if(r.value>=-24)return dh([31-Number(r.value)])}}},uT=function dT(){const r=[];return r[Rr.uint.major]=ss,r[Rr.negint.major]=WA,r[Rr.bytes.major]=$u,r[Rr.string.major]=Ww,r[Rr.array.major]=yv,r[Rr.map.major]=m2,r[Rr.tag.major]=Ey,r[Rr.float.major]=Zw,r}(),Vu=new KA;class Jw{constructor(t,n){this.obj=t,this.parent=n}includes(t){let n=this;do{if(n.obj===t)return!0}while(n=n.parent);return!1}static createCheck(t,n){if(t&&t.includes(n))throw new Error(`${VA} object contains circular references`);return new Jw(n,t)}}const Of={null:new Ai(Rr.null,null),undefined:new Ai(Rr.undefined,void 0),true:new Ai(Rr.true,!0),false:new Ai(Rr.false,!1),emptyArray:new Ai(Rr.array,0),emptyMap:new Ai(Rr.map,0)},hh={number:(r,t,n,i)=>Number.isInteger(r)&&Number.isSafeInteger(r)?new Ai(r>=0?Rr.uint:Rr.negint,r):new Ai(Rr.float,r),bigint:(r,t,n,i)=>r>=BigInt(0)?new Ai(Rr.uint,r):new Ai(Rr.negint,r),Uint8Array:(r,t,n,i)=>new Ai(Rr.bytes,r),string:(r,t,n,i)=>new Ai(Rr.string,r),boolean:(r,t,n,i)=>r?Of.true:Of.false,null:(r,t,n,i)=>Of.null,undefined:(r,t,n,i)=>Of.undefined,ArrayBuffer:(r,t,n,i)=>new Ai(Rr.bytes,new Uint8Array(r)),DataView:(r,t,n,i)=>new Ai(Rr.bytes,new Uint8Array(r.buffer,r.byteOffset,r.byteLength)),Array(r,t,n,i){if(!r.length)return!0===n.addBreakTokens?[Of.emptyArray,new Ai(Rr.break)]:Of.emptyArray;i=Jw.createCheck(i,r);const l=[];let p=0;for(const c of r)l[p++]=Ev(c,n,i);return n.addBreakTokens?[new Ai(Rr.array,r.length),l,new Ai(Rr.break)]:[new Ai(Rr.array,r.length),l]},Object(r,t,n,i){const l="Object"!==t,p=l?r.keys():Object.keys(r),c=l?r.size:p.length;if(!c)return!0===n.addBreakTokens?[Of.emptyMap,new Ai(Rr.break)]:Of.emptyMap;i=Jw.createCheck(i,r);const h=[];let V=0;for(const $ of p)h[V++]=[Ev($,n,i),Ev(l?r.get($):r[$],n,i)];return function qw(r,t){t.mapSorter&&r.sort(t.mapSorter)}(h,n),n.addBreakTokens?[new Ai(Rr.map,c),h,new Ai(Rr.break)]:[new Ai(Rr.map,c),h]}};hh.Map=hh.Object,hh.Buffer=hh.Uint8Array;for(const r of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))hh[`${r}Array`]=hh.DataView;function Ev(r,t={},n){const i=function o2(r){if(null===r)return"null";if(void 0===r)return"undefined";if(!0===r||!1===r)return"boolean";const t=typeof r;if(LA.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(r))return"Array";if(function uv(r){return r&&r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer.call(null,r)}(r))return"Buffer";const n=function wd(r){const t=Object.prototype.toString.call(r).slice(8,-1);if(vs.includes(t))return t}(r);return n||"Object"}(r),l=t&&t.typeEncoders&&t.typeEncoders[i]||hh[i];if("function"==typeof l){const c=l(r,i,t,n);if(null!=c)return c}const p=hh[i];if(!p)throw new Error(`${VA} unsupported type: ${i}`);return p(r,i,t,n)}function fT(r,t,n,i){if(Array.isArray(t))for(const l of t)fT(r,l,n,i);else n[t.type.major](r,t,i)}function hT(r,t,n){const i=Ev(r,n);if(!Array.isArray(i)&&n.quickEncodeToken){const l=n.quickEncodeToken(i);if(l)return l;const p=t[i.type.major];if(p.encodedSize){const c=p.encodedSize(i,n),h=new KA(c);if(p(h,i,n),1!==h.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${i} was wrong`);return UA(h.chunks[0])}}return Vu.reset(),fT(Vu,i,t,n),Vu.toBytes(!0)}const mT={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class yT{constructor(t,n={}){this.pos=0,this.data=t,this.options=n}done(){return this.pos>=this.data.length}next(){const t=this.data[this.pos];let n=lu[t];if(void 0===n){const i=ti[t];if(!i)throw new Error(`${ns} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);n=i(this.data,this.pos,31&t,this.options)}return this.pos+=n.encodedLength,n}}const xv=Symbol.for("DONE"),zm=Symbol.for("BREAK");function xy(r,t){if(r.done())return xv;const n=r.next();if(n.type===Rr.break)return zm;if(n.type.terminal)return n.value;if(n.type===Rr.array)return function Hm(r,t,n){const i=[];for(let l=0;l<r.value;l++){const p=xy(t,n);if(p===zm){if(r.value===1/0)break;throw new Error(`${ns} got unexpected break to lengthed array`)}if(p===xv)throw new Error(`${ns} found array but not enough entries (got ${l}, expected ${r.value})`);i[l]=p}return i}(n,r,t);if(n.type===Rr.map)return function ek(r,t,n){const i=!0===n.useMaps,l=i?void 0:{},p=i?new Map:void 0;for(let c=0;c<r.value;c++){const h=xy(t,n);if(h===zm){if(r.value===1/0)break;throw new Error(`${ns} got unexpected break to lengthed map`)}if(h===xv)throw new Error(`${ns} found map but not enough entries (got ${c} [no key], expected ${r.value})`);if(!0!==i&&"string"!=typeof h)throw new Error(`${ns} non-string keys not supported (got ${typeof h})`);if(!0===n.rejectDuplicateMapKeys&&(i&&p.has(h)||!i&&h in l))throw new Error(`${ns} found repeat map key "${h}"`);const V=xy(t,n);if(V===xv)throw new Error(`${ns} found map but not enough entries (got ${c} [no value], expected ${r.value})`);i?p.set(h,V):l[h]=V}return i?p:l}(n,r,t);if(n.type===Rr.tag){if(t.tags&&"function"==typeof t.tags[n.value]){const i=xy(r,t);return t.tags[n.value](i)}throw new Error(`${ns} tag not supported (${n.value})`)}throw new Error("unsupported")}const Ay=(new Uint8Array(0),r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")});class Qw{constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class ET{constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return xT(this,t)}}class rk{constructor(t){this.decoders=t}or(t){return xT(this,t)}decode(t){const i=this.decoders[t[0]];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const xT=(r,t)=>new rk({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class ik{constructor(t,n,i,l){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=l,this.encoder=new Qw(t,n,i),this.decoder=new ET(t,n,l)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const b2=({name:r,prefix:t,encode:n,decode:i})=>new ik(r,t,n,i),ST=({prefix:r,name:t,alphabet:n})=>{const{encode:i,decode:l}=function Sy(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var l=0;l<r.length;l++){var p=r.charAt(l),c=p.charCodeAt(0);if(255!==n[c])throw new TypeError(p+" is ambiguous");n[c]=l}var h=r.length,V=r.charAt(0),$=Math.log(h)/Math.log(256),I=Math.log(256)/Math.log(h);function Ce(Pe){if("string"!=typeof Pe)throw new TypeError("Expected String");if(0===Pe.length)return new Uint8Array;var Ke=0;if(" "!==Pe[Ke]){for(var rt=0,ht=0;Pe[Ke]===V;)rt++,Ke++;for(var ct=(Pe.length-Ke)*$+1>>>0,dt=new Uint8Array(ct);Pe[Ke];){var At=n[Pe.charCodeAt(Ke)];if(255===At)return;for(var Pt=0,Ct=ct-1;(0!==At||Pt<ht)&&-1!==Ct;Ct--,Pt++)dt[Ct]=(At+=h*dt[Ct]>>>0)%256>>>0,At=At/256>>>0;if(0!==At)throw new Error("Non-zero carry");ht=Pt,Ke++}if(" "!==Pe[Ke]){for(var zt=ct-ht;zt!==ct&&0===dt[zt];)zt++;for(var Xt=new Uint8Array(rt+(ct-zt)),xn=rt;zt!==ct;)Xt[xn++]=dt[zt++];return Xt}}}return{encode:function q(Pe){if(Pe instanceof Uint8Array||(ArrayBuffer.isView(Pe)?Pe=new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength):Array.isArray(Pe)&&(Pe=Uint8Array.from(Pe))),!(Pe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Pe.length)return"";for(var Ke=0,rt=0,ht=0,ct=Pe.length;ht!==ct&&0===Pe[ht];)ht++,Ke++;for(var dt=(ct-ht)*I+1>>>0,At=new Uint8Array(dt);ht!==ct;){for(var Pt=Pe[ht],Ct=0,zt=dt-1;(0!==Pt||Ct<rt)&&-1!==zt;zt--,Ct++)At[zt]=(Pt+=256*At[zt]>>>0)%h>>>0,Pt=Pt/h>>>0;if(0!==Pt)throw new Error("Non-zero carry");rt=Ct,ht++}for(var Xt=dt-rt;Xt!==dt&&0===At[Xt];)Xt++;for(var xn=V.repeat(Ke);Xt<dt;++Xt)xn+=r.charAt(At[Xt]);return xn},decodeUnsafe:Ce,decode:function Be(Pe){var Ke=Ce(Pe);if(Ke)return Ke;throw new Error(`Non-${t} character`)}}}(n,t);return b2({prefix:r,name:t,encode:i,decode:p=>Ay(l(p))})},Qh=({name:r,prefix:t,bitsPerChar:n,alphabet:i})=>b2({prefix:t,name:r,encode:l=>((r,t,n)=>{const i="="===t[t.length-1],l=(1<<n)-1;let p="",c=0,h=0;for(let V=0;V<r.length;++V)for(h=h<<8|r[V],c+=8;c>n;)c-=n,p+=t[l&h>>c];if(c&&(p+=t[l&h<<n-c]),i)for(;p.length*n&7;)p+="=";return p})(l,i,n),decode:l=>((r,t,n,i)=>{const l={};for(let I=0;I<t.length;++I)l[t[I]]=I;let p=r.length;for(;"="===r[p-1];)--p;const c=new Uint8Array(p*n/8|0);let h=0,V=0,$=0;for(let I=0;I<p;++I){const q=l[r[I]];if(void 0===q)throw new SyntaxError(`Non-${i} character`);V=V<<n|q,h+=n,h>=8&&(h-=8,c[$++]=255&V>>h)}if(h>=n||255&V<<8-h)throw new SyntaxError("Unexpected end of data");return c})(l,i,n,r)}),w2=Qh({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ph=(Qh({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Qh({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Qh({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Qh({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Qh({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Qh({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Qh({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Qh({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),ST({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));ST({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var AT=128,a4=-128,dk=Math.pow(2,31),TT=128,_2=127,ba=Math.pow(2,7),uk=Math.pow(2,14),E2=Math.pow(2,21),fk=Math.pow(2,28),hk=Math.pow(2,35),x2=Math.pow(2,42),IT=Math.pow(2,49),CT=Math.pow(2,56),S2=Math.pow(2,63);const n_={encode:function Pf(r,t,n){t=t||[];for(var i=n=n||0;r>=dk;)t[n++]=255&r|AT,r/=128;for(;r&a4;)t[n++]=255&r|AT,r>>>=7;return t[n]=0|r,Pf.bytes=n-i+1,t},decode:function DT(r,i){var c,n=0,l=0,p=i=i||0,h=r.length;do{if(p>=h)throw DT.bytes=0,new RangeError("Could not decode varint");c=r[p++],n+=l<28?(c&_2)<<l:(c&_2)*Math.pow(2,l),l+=7}while(c>=TT);return DT.bytes=p-i,n},encodingLength:function(r){return r<ba?1:r<uk?2:r<E2?3:r<fk?4:r<hk?5:r<x2?6:r<IT?7:r<CT?8:r<S2?9:10}},zu=(r,t=0)=>[n_.decode(r,t),n_.decode.bytes],r_=(r,t,n=0)=>(n_.encode(r,t,n),t),Sv=r=>n_.encodingLength(r);class M2{constructor(t,n,i,l){this.code=t,this.size=n,this.digest=i,this.bytes=l}}const A2=(r,t)=>{const{bytes:n,version:i}=r;return 0===i?Av(n,i_(r),t||ph.encoder):yk(n,i_(r),t||w2.encoder)},Ty=new WeakMap,i_=r=>{const t=Ty.get(r);if(null==t){const n=new Map;return Ty.set(r,n),n}return t};class Rc{constructor(t,n,i,l){this.code=n,this.version=t,this.multihash=i,this.bytes=l,this["/"]=l}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==Dy)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==OT)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Rc.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,i=((r,t)=>{const n=t.byteLength,i=Sv(r),l=i+Sv(n),p=new Uint8Array(l+n);return r_(r,p,0),r_(n,p,i),p.set(t,l),new M2(r,n,t,p)})(t,n);return Rc.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return Rc.equals(this,t)}static equals(t,n){return n&&t.code===n.code&&t.version===n.version&&((r,t)=>r===t||r.code===t.code&&r.size===t.size&&t.bytes instanceof Uint8Array&&((r,t)=>{if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0})(r.bytes,t.bytes))(t.multihash,n.multihash)}toString(t){return A2(this,t)}toJSON(){return{"/":A2(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(null==t)return null;const n=t;if(n instanceof Rc)return n;if(null!=n["/"]&&n["/"]===n.bytes||n.asCID===n){const{version:i,code:l,multihash:p,bytes:c}=n;return new Rc(i,l,p,c||Tv(i,l,p.bytes))}if(!0===n[s_]){const{version:i,multihash:l,code:p}=n,c=(r=>{const t=Ay(r),[n,i]=zu(t),[l,p]=zu(t.subarray(i)),c=t.subarray(i+p);if(c.byteLength!==l)throw new Error("Incorrect length");return new M2(n,l,c,t)})(l);return Rc.create(i,p,c)}return null}static create(t,n,i){if("number"!=typeof n)throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:if(n!==Dy)throw new Error(`Version 0 CID must use dag-pb (code: ${Dy}) block encoding`);return new Rc(t,n,i,i.bytes);case 1:{const l=Tv(t,n,i.bytes);return new Rc(t,n,i,l)}default:throw new Error("Invalid version")}}static createV0(t){return Rc.create(0,Dy,t)}static createV1(t,n){return Rc.create(1,t,n)}static decode(t){const[n,i]=Rc.decodeFirst(t);if(i.length)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=Rc.inspectBytes(t),i=n.size-n.multihashSize,l=Ay(t.subarray(i,i+n.multihashSize));if(l.byteLength!==n.multihashSize)throw new Error("Incorrect length");const p=l.subarray(n.multihashSize-n.digestSize),c=new M2(n.multihashCode,n.digestSize,p,l);return[0===n.version?Rc.createV0(c):Rc.createV1(n.codec,c),t.subarray(n.size)]}static inspectBytes(t){let n=0;const i=()=>{const[q,Ce]=zu(t.subarray(n));return n+=Ce,q};let l=i(),p=Dy;if(18===l?(l=0,n=0):p=i(),0!==l&&1!==l)throw new RangeError(`Invalid CID version ${l}`);const c=n,h=i(),V=i(),$=n+V;return{version:l,codec:p,multihashCode:h,digestSize:V,multihashSize:$-c,size:$}}static parse(t,n){const[i,l]=o_(t,n),p=Rc.decode(l);if(0===p.version&&"Q"!==t[0])throw Error("Version 0 CID string must not include multibase prefix");return i_(p).set(i,t),p}}const o_=(r,t)=>{switch(r[0]){case"Q":return[ph.prefix,(t||ph).decode(`${ph.prefix}${r}`)];case ph.prefix:return[ph.prefix,(t||ph).decode(r)];case w2.prefix:return[w2.prefix,(t||w2).decode(r)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}},Av=(r,t,n)=>{const{prefix:i}=n;if(i!==ph.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const l=t.get(i);if(null==l){const p=n.encode(r).slice(1);return t.set(i,p),p}return l},yk=(r,t,n)=>{const{prefix:i}=n,l=t.get(i);if(null==l){const p=n.encode(r);return t.set(i,p),p}return l},Dy=112,OT=18,Tv=(r,t,n)=>{const i=Sv(r),l=i+Sv(t),p=new Uint8Array(l+n.byteLength);return r_(r,p,0),r_(t,p,i),p.set(n,l),p},s_=Symbol.for("@ipld/js-cid/CID"),PT={float64:!0,typeEncoders:{Object:function gk(r){if(r.asCID!==r&&r["/"]!==r.bytes)return null;const t=Rc.asCID(r);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new Ai(Rr.tag,42),new Ai(Rr.bytes,n)]},undefined:function vk(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function bk(r){if(Number.isNaN(r))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(r===1/0||r===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}},BT={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};BT.tags[42]=function wk(r){if(0!==r[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return Rc.decode(r.subarray(1))};const jd="dag-cbor",Iy=113,NT=r=>function pT(r,t){return t=Object.assign({},lT,t),hT(r,uT,t)}(r,PT),Dv=r=>function gT(r,t){if(!(r instanceof Uint8Array))throw new Error(`${ns} data to decode must be a Uint8Array`);const n=(t=Object.assign({},mT,t)).tokenizer||new yT(r,t),i=xy(n,t);if(i===xv)throw new Error(`${ns} did not find any content to decode`);if(i===zm)throw new Error(`${ns} got unexpected break`);if(!n.done())throw new Error(`${ns} too many terminals, data makes no sense`);return i}(r,BT);var mh=w(41405),Gm=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},Oc=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(p){n[p]=r[p]&&function(c){return new Promise(function(h,V){!function l(p,c,h,V){Promise.resolve(V).then(function($){p({value:$,done:h})},c)}(h,V,(c=r[p](c)).done,c.value)})}}},$a=function(r){return this instanceof $a?(this.v=r,this):new $a(r)},Iv=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,i=n.apply(r,t||[]),p=[];return l={},c("next"),c("throw"),c("return"),l[Symbol.asyncIterator]=function(){return this},l;function c(Ce){i[Ce]&&(l[Ce]=function(Be){return new Promise(function(Pe,Ke){p.push([Ce,Be,Pe,Ke])>1||h(Ce,Be)})})}function h(Ce,Be){try{!function V(Ce){Ce.value instanceof $a?Promise.resolve(Ce.value.v).then($,I):q(p[0][2],Ce)}(i[Ce](Be))}catch(Pe){q(p[0][3],Pe)}}function $(Ce){h("next",Ce)}function I(Ce){h("throw",Ce)}function q(Ce,Be){Ce(Be),p.shift(),p.length&&h(p[0][0],p[0][1])}};class T2{open(){return Gm(this,void 0,void 0,function*(){})}close(){return Gm(this,void 0,void 0,function*(){})}put(t,n,i){return Gm(this,void 0,void 0,function*(){return t})}get(t,n){return Gm(this,void 0,void 0,function*(){return new Uint8Array})}has(t,n){return Gm(this,void 0,void 0,function*(){return!1})}delete(t,n){return Gm(this,void 0,void 0,function*(){})}isEmpty(t){return Gm(this,void 0,void 0,function*(){return!0})}putMany(t,n){return Iv(this,arguments,function*(){var l,p,c;try{for(var I,V=!0,$=Oc(t);!(l=(I=yield $a($.next())).done);V=!0){V=!1;const q=I.value;yield $a(this.put(q.cid,q.block,n)),yield yield $a(q.cid)}}catch(q){p={error:q}}finally{try{!V&&!l&&(c=$.return)&&(yield $a(c.call($)))}finally{if(p)throw p.error}}})}getMany(t,n){return Iv(this,arguments,function*(){var l,p,c;try{for(var I,V=!0,$=Oc(t);!(l=(I=yield $a($.next())).done);V=!0){V=!1;const q=I.value;yield yield $a({cid:q,block:yield $a(this.get(q,n))})}}catch(q){p={error:q}}finally{try{!V&&!l&&(c=$.return)&&(yield $a(c.call($)))}finally{if(p)throw p.error}}})}getAll(t){return Iv(this,arguments,function*(){var i,l,p,c;const h=this.db.iterator({keys:!0,keyEncoding:"buffer"},t);try{for(var I,V=!0,$=Oc(h);!(i=(I=yield $a($.next())).done);V=!0){c=I.value,V=!1;const[q,Ce]=c;yield yield $a({cid:mh.TO.decode(q),block:Ce})}}catch(q){l={error:q}}finally{try{!V&&!i&&(p=$.return)&&(yield $a(p.call($)))}finally{if(l)throw l.error}}})}deleteMany(t,n){return Iv(this,arguments,function*(){var l,p,c;try{for(var I,V=!0,$=Oc(t);!(l=(I=yield $a($.next())).done);V=!0){V=!1;const q=I.value;yield $a(this.delete(q,n)),yield yield $a(q)}}catch(q){p={error:q}}finally{try{!V&&!l&&(c=$.return)&&(yield $a(c.call($)))}finally{if(p)throw p.error}}})}clear(){return Gm(this,void 0,void 0,function*(){})}}var Bf=w(41861);function c_(r,t){this.v=r,this.k=t}function gi(r){return new c_(r,0)}function us(r){return function(){return new Cv(r.apply(this,arguments))}}function Cv(r){var t,n;function i(p,c){try{var h=r[p](c),V=h.value,$=V instanceof c_;Promise.resolve($?V.v:V).then(function(I){if($){var q="return"===p?"return":"next";if(!V.k||I.done)return i(q,I);I=r[q](I).value}l(h.done?"return":"normal",I)},function(I){i("throw",I)})}catch(I){l("throw",I)}}function l(p,c){switch(p){case"return":t.resolve({value:c,done:!0});break;case"throw":t.reject(c);break;default:t.resolve({value:c,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(p,c){return new Promise(function(h,V){var $={key:p,arg:c,resolve:h,reject:V,next:null};n?n=n.next=$:(t=n=$,i(p,c))})},"function"!=typeof r.return&&(this.return=void 0)}function Ko(r){var t,n,i,l=2;for(typeof Symbol<"u"&&(n=Symbol.asyncIterator,i=Symbol.iterator);l--;){if(n&&null!=(t=r[n]))return t.call(r);if(i&&null!=(t=r[i]))return new l_(t.call(r));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function l_(r){function t(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var i=n.done;return Promise.resolve(n.value).then(function(l){return{value:l,done:i}})}return(l_=function(i){this.s=i,this.n=i.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(i){var l=this.s.return;return void 0===l?Promise.resolve({value:i,done:!0}):t(l.apply(this.s,arguments))},throw:function(i){var l=this.s.return;return void 0===l?Promise.reject(i):t(l.apply(this.s,arguments))}},new l_(r)}Cv.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Cv.prototype.next=function(r){return this._invoke("next",r)},Cv.prototype.throw=function(r){return this._invoke("throw",r)},Cv.prototype.return=function(r){return this._invoke("return",r)};var d_=w(5014);const D2=function Ek(r,t=1){return t=Number(t),function _k(r){return null!=r[Symbol.asyncIterator]}(r)?us(function*(){let n=[];if(t<1&&(t=1),t!==Math.round(t))throw new Error("Batch size must be an integer");var p,i=!1,l=!1;try{for(var h,c=Ko(r);i=!(h=yield gi(c.next())).done;i=!1)for(n.push(h.value);n.length>=t;)yield n.slice(0,t),n=n.slice(t)}catch(V){l=!0,p=V}finally{try{i&&null!=c.return&&(yield gi(c.return()))}finally{if(l)throw p}}for(;n.length>0;)yield n.slice(0,t),n=n.slice(t)})():function*(){let n=[];if(t<1&&(t=1),t!==Math.round(t))throw new Error("Batch size must be an integer");for(const i of r)for(n.push(i);n.length>=t;)yield n.slice(0,t),n=n.slice(t);for(;n.length>0;)yield n.slice(0,t),n=n.slice(t)}()};function I2(r){return u_.apply(this,arguments)}function u_(){return u_=us(function*(r,t=1){var l,n=!1,i=!1;try{for(var c,p=Ko(D2(r,t));n=!(c=yield gi(p.next())).done;n=!1){const V=c.value.map(function(){var $=(0,ye.A)(function*(I){return I().then(q=>({ok:!0,value:q}),q=>({ok:!1,err:q}))});return function(I){return $.apply(this,arguments)}}());for(let $=0;$<V.length;$++){const I=yield gi(V[$]);if(!I.ok)throw I.err;yield I.value}}}catch(h){i=!0,l=h}finally{try{n&&null!=p.return&&(yield gi(p.return()))}finally{if(i)throw l}}}),u_.apply(this,arguments)}function f_(r,t){null==t&&(t=r.reduce((l,p)=>l+p.length,0));const n=Ze(t);let i=0;for(const l of r)n.set(l,i),i+=l.length;return n}function LT(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0}const k2=Symbol.for("@achingbrain/uint8arraylist");function R2(r,t){if(null==t||t<0)throw new RangeError("index is out of bounds");let n=0;for(const i of r){const l=n+i.byteLength;if(t<l)return{buf:i,index:t-n};n=l}throw new RangeError("index is out of bounds")}function h_(r){return!!r?.[k2]}class Xm{bufs;length;[k2]=!0;constructor(...t){this.bufs=[],this.length=0,t.length>0&&this.appendAll(t)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...t){this.appendAll(t)}appendAll(t){let n=0;for(const i of t)if(i instanceof Uint8Array)n+=i.byteLength,this.bufs.push(i);else{if(!h_(i))throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");n+=i.byteLength,this.bufs.push(...i.bufs)}this.length+=n}prepend(...t){this.prependAll(t)}prependAll(t){let n=0;for(const i of t.reverse())if(i instanceof Uint8Array)n+=i.byteLength,this.bufs.unshift(i);else{if(!h_(i))throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");n+=i.byteLength,this.bufs.unshift(...i.bufs)}this.length+=n}get(t){const n=R2(this.bufs,t);return n.buf[n.index]}set(t,n){const i=R2(this.bufs,t);i.buf[i.index]=n}write(t,n=0){if(t instanceof Uint8Array)for(let i=0;i<t.length;i++)this.set(n+i,t[i]);else{if(!h_(t))throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList");for(let i=0;i<t.length;i++)this.set(n+i,t.get(i))}}consume(t){if(t=Math.trunc(t),!(Number.isNaN(t)||t<=0)){if(t===this.byteLength)return this.bufs=[],void(this.length=0);for(;this.bufs.length>0;){if(!(t>=this.bufs[0].byteLength)){this.bufs[0]=this.bufs[0].subarray(t),this.length-=t;break}t-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift()}}}slice(t,n){const{bufs:i,length:l}=this._subList(t,n);return f_(i,l)}subarray(t,n){const{bufs:i,length:l}=this._subList(t,n);return 1===i.length?i[0]:f_(i,l)}sublist(t,n){const{bufs:i,length:l}=this._subList(t,n),p=new Xm;return p.length=l,p.bufs=[...i],p}_subList(t,n){if((t=t??0)<0&&(t=this.length+t),(n=n??this.length)<0&&(n=this.length+n),t<0||n>this.length)throw new RangeError("index is out of bounds");if(t===n)return{bufs:[],length:0};if(0===t&&n===this.length)return{bufs:this.bufs,length:this.length};const i=[];let l=0;for(let p=0;p<this.bufs.length;p++){const c=this.bufs[p],h=l,V=h+c.byteLength;if(l=V,t>=V)continue;const $=t>=h&&t<V,I=n>h&&n<=V;if($&&I){if(t===h&&n===V){i.push(c);break}const q=t-h;i.push(c.subarray(q,q+(n-t)));break}if($){if(0===t){i.push(c);continue}i.push(c.subarray(t-h))}else{if(I){if(n===V){i.push(c);break}i.push(c.subarray(0,n-h));break}i.push(c)}}return{bufs:i,length:n-t}}indexOf(t,n=0){if(!(h_(t)||t instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');const i=t instanceof Uint8Array?t:t.subarray();if(n=Number(n??0),isNaN(n)&&(n=0),n<0&&(n=this.length+n),n<0&&(n=0),0===t.length)return n>this.length?this.length:n;const l=i.byteLength;if(0===l)throw new TypeError("search must be at least 1 byte long");const c=new Int32Array(256);for(let q=0;q<256;q++)c[q]=-1;for(let q=0;q<l;q++)c[i[q]]=q;const h=c,V=this.byteLength-i.byteLength,$=i.byteLength-1;let I;for(let q=n;q<=V;q+=I){I=0;for(let Ce=$;Ce>=0;Ce--){const Be=this.get(q+Ce);if(i[Ce]!==Be){I=Math.max(1,Ce-h[Be]);break}}if(0===I)return q}return-1}getInt8(t){const n=this.subarray(t,t+1);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt8(0)}setInt8(t,n){const i=Ze(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt8(0,n),this.write(i,t)}getInt16(t,n){const i=this.subarray(t,t+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt16(0,n)}setInt16(t,n,i){const l=ve(2);new DataView(l.buffer,l.byteOffset,l.byteLength).setInt16(0,n,i),this.write(l,t)}getInt32(t,n){const i=this.subarray(t,t+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt32(0,n)}setInt32(t,n,i){const l=ve(4);new DataView(l.buffer,l.byteOffset,l.byteLength).setInt32(0,n,i),this.write(l,t)}getBigInt64(t,n){const i=this.subarray(t,t+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigInt64(0,n)}setBigInt64(t,n,i){const l=ve(8);new DataView(l.buffer,l.byteOffset,l.byteLength).setBigInt64(0,n,i),this.write(l,t)}getUint8(t){const n=this.subarray(t,t+1);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint8(0)}setUint8(t,n){const i=Ze(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint8(0,n),this.write(i,t)}getUint16(t,n){const i=this.subarray(t,t+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint16(0,n)}setUint16(t,n,i){const l=ve(2);new DataView(l.buffer,l.byteOffset,l.byteLength).setUint16(0,n,i),this.write(l,t)}getUint32(t,n){const i=this.subarray(t,t+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint32(0,n)}setUint32(t,n,i){const l=ve(4);new DataView(l.buffer,l.byteOffset,l.byteLength).setUint32(0,n,i),this.write(l,t)}getBigUint64(t,n){const i=this.subarray(t,t+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigUint64(0,n)}setBigUint64(t,n,i){const l=ve(8);new DataView(l.buffer,l.byteOffset,l.byteLength).setBigUint64(0,n,i),this.write(l,t)}getFloat32(t,n){const i=this.subarray(t,t+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat32(0,n)}setFloat32(t,n,i){const l=ve(4);new DataView(l.buffer,l.byteOffset,l.byteLength).setFloat32(0,n,i),this.write(l,t)}getFloat64(t,n){const i=this.subarray(t,t+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat64(0,n)}setFloat64(t,n,i){const l=ve(8);new DataView(l.buffer,l.byteOffset,l.byteLength).setFloat64(0,n,i),this.write(l,t)}equals(t){if(null==t||!(t instanceof Xm)||t.bufs.length!==this.bufs.length)return!1;for(let n=0;n<this.bufs.length;n++)if(!LT(this.bufs[n],t.bufs[n]))return!1;return!0}static fromUint8Arrays(t,n){const i=new Xm;return i.bufs=t,null==n&&(n=t.reduce((l,p)=>l+p.byteLength,0)),i.length=n,i}}const Sk=(r={})=>{const t=r.chunkSize??262144;return function(){var n=us(function*(l){let p=new Xm,c=0,h=!1;var I,V=!1,$=!1;try{for(var Ce,q=Ko(l);V=!(Ce=yield gi(q.next())).done;V=!1){const Be=Ce.value;for(p.append(Be),c+=Be.length;c>=t;)if(yield p.slice(0,t),h=!0,t===p.length)p=new Xm,c=0;else{const Pe=new Xm;Pe.append(p.sublist(t)),p=Pe,c-=t}}}catch(Be){$=!0,I=Be}finally{try{V&&null!=q.return&&(yield gi(q.return()))}finally{if($)throw I}}(!h||c>0)&&(yield p.subarray(0,c))});return function i(l){return n.apply(this,arguments)}}()};function O2(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);class Ik{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class FT{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return Ck(this,t)}}class B2{decoders;constructor(t){this.decoders=t}or(t){return Ck(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function Ck(r,t){return new B2({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class kk{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,l){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=l,this.encoder=new Ik(t,n,i),this.decoder=new FT(t,n,l)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function jT({name:r,prefix:t,encode:n,decode:i}){return new kk(r,t,n,i)}function $T({name:r,prefix:t,alphabet:n}){const{encode:i,decode:l}=function P2(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var l=0;l<r.length;l++){var p=r.charAt(l),c=p.charCodeAt(0);if(255!==n[c])throw new TypeError(p+" is ambiguous");n[c]=l}var h=r.length,V=r.charAt(0),$=Math.log(h)/Math.log(256),I=Math.log(256)/Math.log(h);function Ce(Pe){if("string"!=typeof Pe)throw new TypeError("Expected String");if(0===Pe.length)return new Uint8Array;var Ke=0;if(" "!==Pe[Ke]){for(var rt=0,ht=0;Pe[Ke]===V;)rt++,Ke++;for(var ct=(Pe.length-Ke)*$+1>>>0,dt=new Uint8Array(ct);Pe[Ke];){var At=n[Pe.charCodeAt(Ke)];if(255===At)return;for(var Pt=0,Ct=ct-1;(0!==At||Pt<ht)&&-1!==Ct;Ct--,Pt++)dt[Ct]=(At+=h*dt[Ct]>>>0)%256>>>0,At=At/256>>>0;if(0!==At)throw new Error("Non-zero carry");ht=Pt,Ke++}if(" "!==Pe[Ke]){for(var zt=ct-ht;zt!==ct&&0===dt[zt];)zt++;for(var Xt=new Uint8Array(rt+(ct-zt)),xn=rt;zt!==ct;)Xt[xn++]=dt[zt++];return Xt}}}return{encode:function q(Pe){if(Pe instanceof Uint8Array||(ArrayBuffer.isView(Pe)?Pe=new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength):Array.isArray(Pe)&&(Pe=Uint8Array.from(Pe))),!(Pe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Pe.length)return"";for(var Ke=0,rt=0,ht=0,ct=Pe.length;ht!==ct&&0===Pe[ht];)ht++,Ke++;for(var dt=(ct-ht)*I+1>>>0,At=new Uint8Array(dt);ht!==ct;){for(var Pt=Pe[ht],Ct=0,zt=dt-1;(0!==Pt||Ct<rt)&&-1!==zt;zt--,Ct++)At[zt]=(Pt+=256*At[zt]>>>0)%h>>>0,Pt=Pt/h>>>0;if(0!==Pt)throw new Error("Non-zero carry");rt=Ct,ht++}for(var Xt=dt-rt;Xt!==dt&&0===At[Xt];)Xt++;for(var xn=V.repeat(Ke);Xt<dt;++Xt)xn+=r.charAt(At[Xt]);return xn},decodeUnsafe:Ce,decode:function Be(Pe){var Ke=Ce(Pe);if(Ke)return Ke;throw new Error(`Non-${t} character`)}}}(n,r);return jT({prefix:t,name:r,encode:i,decode:p=>O2(l(p))})}function Kp({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return jT({prefix:t,name:r,encode:l=>function f4(r,t,n){const i="="===t[t.length-1],l=(1<<n)-1;let p="",c=0,h=0;for(let V=0;V<r.length;++V)for(h=h<<8|r[V],c+=8;c>n;)c-=n,p+=t[l&h>>c];if(0!==c&&(p+=t[l&h<<n-c]),i)for(;p.length*n&7;)p+="=";return p}(l,i,n),decode:l=>function Rk(r,t,n,i){const l={};for(let I=0;I<t.length;++I)l[t[I]]=I;let p=r.length;for(;"="===r[p-1];)--p;const c=new Uint8Array(p*n/8|0);let h=0,V=0,$=0;for(let I=0;I<p;++I){const q=l[r[I]];if(void 0===q)throw new SyntaxError(`Non-${i} character`);V=V<<n|q,h+=n,h>=8&&(h-=8,c[$++]=255&V>>h)}if(h>=n||255&V<<8-h)throw new SyntaxError("Unexpected end of data");return c}(l,i,n,r)})}const Zm=Kp({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),du=(Kp({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Kp({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Kp({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Kp({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Kp({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Kp({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Kp({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Kp({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),$T({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));$T({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Cy=128,p4=-128,F2=Math.pow(2,31),WT=128,GT=127,$2=Math.pow(2,7),XT=Math.pow(2,14),Pk=Math.pow(2,21),Bk=Math.pow(2,28),Rv=Math.pow(2,35),ZT=Math.pow(2,42),K2=Math.pow(2,49),Nk=Math.pow(2,56),m4=Math.pow(2,63);const Ym={encode:function ky(r,t,n){t=t||[];for(var i=n=n||0;r>=F2;)t[n++]=255&r|Cy,r/=128;for(;r&p4;)t[n++]=255&r|Cy,r>>>=7;return t[n]=0|r,ky.bytes=n-i+1,t},decode:function j2(r,i){var c,n=0,l=0,p=i=i||0,h=r.length;do{if(p>=h)throw j2.bytes=0,new RangeError("Could not decode varint");c=r[p++],n+=l<28?(c&GT)<<l:(c&GT)*Math.pow(2,l),l+=7}while(c>=WT);return j2.bytes=p-i,n},encodingLength:function(r){return r<$2?1:r<XT?2:r<Pk?3:r<Bk?4:r<Rv?5:r<ZT?6:r<K2?7:r<Nk?8:r<m4?9:10}};function Pv(r,t=0){return[Ym.decode(r,t),Ym.decode.bytes]}function Bv(r,t,n=0){return Ym.encode(r,t,n),t}function g_(r){return Ym.encodingLength(r)}class Jm{code;size;digest;bytes;constructor(t,n,i,l){this.code=t,this.size=n,this.digest=i,this.bytes=l}}function v_(r,t){const{bytes:n,version:i}=r;return 0===i?function qT(r,t,n){const{prefix:i}=n;if(i!==du.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const l=t.get(i);if(null==l){const p=n.encode(r).slice(1);return t.set(i,p),p}return l}(n,b_(r),t??du.encoder):function w_(r,t,n){const{prefix:i}=n,l=t.get(i);if(null==l){const p=n.encode(r);return t.set(i,p),p}return l}(n,b_(r),t??Zm.encoder)}const H2=new WeakMap;function b_(r){const t=H2.get(r);if(null==t){const n=new Map;return H2.set(r,n),n}return t}class wa{code;version;multihash;bytes;"/";constructor(t,n,i,l){this.code=n,this.version=t,this.multihash=i,this.bytes=l,this["/"]=l}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==qm)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==Ry)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return wa.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,i=function YT(r,t){const n=t.byteLength,i=g_(r),l=i+g_(n),p=new Uint8Array(l+n);return Bv(r,p,0),Bv(n,p,i),p.set(t,l),new Jm(r,n,t,p)}(t,n);return wa.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return wa.equals(this,t)}static equals(t,n){return null!=n&&t.code===n.code&&t.version===n.version&&function JT(r,t){return r===t||r.code===t.code&&r.size===t.size&&t.bytes instanceof Uint8Array&&function Ak(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0}(r.bytes,t.bytes)}(t.multihash,n.multihash)}toString(t){return v_(this,t)}toJSON(){return{"/":v_(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(null==t)return null;const n=t;if(n instanceof wa)return n;if(null!=n["/"]&&n["/"]===n.bytes||n.asCID===n){const{version:i,code:l,multihash:p,bytes:c}=n;return new wa(i,l,p,c??QT(i,l,p.bytes))}if(!0===n[Fk]){const{version:i,multihash:l,code:p}=n,c=function V2(r){const t=O2(r),[n,i]=Pv(t),[l,p]=Pv(t.subarray(i)),c=t.subarray(i+p);if(c.byteLength!==l)throw new Error("Incorrect length");return new Jm(n,l,c,t)}(l);return wa.create(i,p,c)}return null}static create(t,n,i){if("number"!=typeof n)throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:if(n!==qm)throw new Error(`Version 0 CID must use dag-pb (code: ${qm}) block encoding`);return new wa(t,n,i,i.bytes);case 1:{const l=QT(t,n,i.bytes);return new wa(t,n,i,l)}default:throw new Error("Invalid version")}}static createV0(t){return wa.create(0,qm,t)}static createV1(t,n){return wa.create(1,t,n)}static decode(t){const[n,i]=wa.decodeFirst(t);if(0!==i.length)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=wa.inspectBytes(t),i=n.size-n.multihashSize,l=O2(t.subarray(i,i+n.multihashSize));if(l.byteLength!==n.multihashSize)throw new Error("Incorrect length");const p=l.subarray(n.multihashSize-n.digestSize),c=new Jm(n.multihashCode,n.digestSize,p,l);return[0===n.version?wa.createV0(c):wa.createV1(n.codec,c),t.subarray(n.size)]}static inspectBytes(t){let n=0;const i=()=>{const[q,Ce]=Pv(t.subarray(n));return n+=Ce,q};let l=i(),p=qm;if(18===l?(l=0,n=0):p=i(),0!==l&&1!==l)throw new RangeError(`Invalid CID version ${l}`);const c=n,h=i(),V=i(),$=n+V;return{version:l,codec:p,multihashCode:h,digestSize:V,multihashSize:$-c,size:$}}static parse(t,n){const[i,l]=function W2(r,t){switch(r[0]){case"Q":return[du.prefix,(t??du).decode(`${du.prefix}${r}`)];case du.prefix:return[du.prefix,(t??du).decode(r)];case Zm.prefix:return[Zm.prefix,(t??Zm).decode(r)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}}(t,n),p=wa.decode(l);if(0===p.version&&"Q"!==t[0])throw Error("Version 0 CID string must not include multibase prefix");return b_(p).set(i,t),p}}const qm=112,Ry=18;function QT(r,t,n){const i=g_(r),l=i+g_(t),p=new Uint8Array(l+n.byteLength);return Bv(r,p,0),Bv(t,p,i),p.set(n,l),p}const Fk=Symbol.for("@ipld/js-cid/CID"),g4=new TextDecoder;function Oy(r,t){let n=0;for(let i=0;;i+=7){if(i>=64)throw new Error("protobuf: varint overflow");if(t>=r.length)throw new Error("protobuf: unexpected end of data");const l=r[t++];if(n+=i<28?(127&l)<<i:(127&l)*2**i,l<128)break}return[n,t]}function Py(r,t){let n;[n,t]=Oy(r,t);const i=t+n;if(n<0||i<0)throw new Error("protobuf: invalid length");if(i>r.length)throw new Error("protobuf: unexpected end of data");return[r.subarray(t,i),i]}function G2(r,t){let n;return[n,t]=Oy(r,t),[7&n,n>>3,t]}function eD(r){const t={},n=r.length;let i=0;for(;i<n;){let l,p;if([l,p,i]=G2(r,i),1===p){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==l)throw new Error(`protobuf: (PBLink) wrong wireType (${l}) for Hash`);if(void 0!==t.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,i]=Py(r,i)}else if(2===p){if(void 0!==t.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==l)throw new Error(`protobuf: (PBLink) wrong wireType (${l}) for Name`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let c;[c,i]=Py(r,i),t.Name=g4.decode(c)}else{if(3!==p)throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${p}`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==l)throw new Error(`protobuf: (PBLink) wrong wireType (${l}) for Tsize`);[t.Tsize,i]=Oy(r,i)}}if(i>n)throw new Error("protobuf: (PBLink) unexpected end of data");return t}const Vp=new TextEncoder,nD=2**32,jk=2**31;function $k(r,t){let n=t.length;if("number"==typeof r.Tsize){if(r.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(r.Tsize))throw new Error("Tsize too large for encoding");n=yh(t,n,r.Tsize)-1,t[n]=24}if("string"==typeof r.Name){const i=Vp.encode(r.Name);n-=i.length,t.set(i,n),n=yh(t,n,i.length)-1,t[n]=18}return r.Hash&&(n-=r.Hash.length,t.set(r.Hash,n),n=yh(t,n,r.Hash.length)-1,t[n]=10),t.length-n}function Vk(r){let t=0;if(r.Hash){const n=r.Hash.length;t+=1+n+By(n)}if("string"==typeof r.Name){const n=Vp.encode(r.Name).length;t+=1+n+By(n)}return"number"==typeof r.Tsize&&(t+=1+By(r.Tsize)),t}function yh(r,t,n){const i=t-=By(n);for(;n>=jk;)r[t++]=127&n|128,n/=128;for(;n>=128;)r[t++]=127&n|128,n>>>=7;return r[t]=n,i}function By(r){return r%2==0&&r++,Math.floor((function zk(r){let t=0;return r>=nD&&(r=Math.floor(r/nD),t=32),r>=65536&&(r>>>=16,t+=16),r>=256&&(r>>>=8,t+=8),t+Hk[r]}(r)+6)/7)}const Hk=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],Wk=["Data","Links"],Gk=["Hash","Name","Tsize"],X2=new TextEncoder;function Z2(r,t){if(r===t)return 0;const n=r.Name?X2.encode(r.Name):[],i=t.Name?X2.encode(t.Name):[];let l=n.length,p=i.length;for(let c=0,h=Math.min(l,p);c<h;++c)if(n[c]!==i[c]){l=n[c],p=i[c];break}return l<p?-1:p<l?1:0}function rD(r,t){return!Object.keys(r).some(n=>!t.includes(n))}function iD(r){if("object"==typeof r.asCID){const n=wa.asCID(r);if(!n)throw new TypeError("Invalid DAG-PB form");return{Hash:n}}if("object"!=typeof r||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");const t={};if(r.Hash){let n=wa.asCID(r.Hash);try{n||("string"==typeof r.Hash?n=wa.parse(r.Hash):r.Hash instanceof Uint8Array&&(n=wa.decode(r.Hash)))}catch(i){throw new TypeError(`Invalid DAG-PB form: ${i.message}`)}n&&(t.Hash=n)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return"string"==typeof r.Name&&(t.Name=r.Name),"number"==typeof r.Tsize&&(t.Tsize=r.Tsize),t}function zp(r){if((r instanceof Uint8Array||"string"==typeof r)&&(r={Data:r}),"object"!=typeof r||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");const t={};if(void 0!==r.Data)if("string"==typeof r.Data)t.Data=X2.encode(r.Data);else{if(!(r.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form");t.Data=r.Data}if(void 0!==r.Links){if(!Array.isArray(r.Links))throw new TypeError("Invalid DAG-PB form");t.Links=r.Links.map(iD),t.Links.sort(Z2)}else t.Links=[];return t}function oD(r){if(!r||"object"!=typeof r||Array.isArray(r)||r instanceof Uint8Array||r["/"]&&r["/"]===r.bytes)throw new TypeError("Invalid DAG-PB form");if(!rD(r,Wk))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==r.Data&&!(r.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(r.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let t=0;t<r.Links.length;t++){const n=r.Links[t];if(!n||"object"!=typeof n||Array.isArray(n)||n instanceof Uint8Array||n["/"]&&n["/"]===n.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!rD(n,Gk))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(void 0===n.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(null==n.Hash||!n.Hash["/"]||n.Hash["/"]!==n.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==n.Name&&"string"!=typeof n.Name)throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==n.Tsize){if("number"!=typeof n.Tsize||n.Tsize%1!=0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(n.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(t>0&&-1===Z2(n,r.Links[t-1]))throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function __(r,t=[]){return zp({Data:r,Links:t})}function tp(r,t,n){return iD({Hash:n,Name:r,Tsize:t})}const sD="dag-pb",E_=112;function np(r){oD(r);const t={};return r.Links&&(t.Links=r.Links.map(n=>{const i={};return n.Hash&&(i.Hash=n.Hash.bytes),void 0!==n.Name&&(i.Name=n.Name),void 0!==n.Tsize&&(i.Tsize=n.Tsize),i})),r.Data&&(t.Data=r.Data),function Kk(r){const t=function ep(r){let t=0;if(r.Data){const n=r.Data.length;t+=1+n+By(n)}if(r.Links)for(const n of r.Links){const i=Vk(n);t+=1+i+By(i)}return t}(r),n=new Uint8Array(t);let i=t;if(r.Data&&(i-=r.Data.length,n.set(r.Data,i),i=yh(n,i,r.Data.length)-1,n[i]=10),r.Links)for(let l=r.Links.length-1;l>=0;l--){const p=$k(r.Links[l],n.subarray(0,i));i-=p,i=yh(n,i,p)-1,n[i]=18}return n}(t)}function x_(r){const t=function Nv(r){return r instanceof ArrayBuffer?new Uint8Array(r,0,r.byteLength):r}(r),n=function tD(r){const t=r.length;let i,p,n=0,l=!1;for(;n<t;){let h,V;if([h,V,n]=G2(r,n),2!==h)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${h}`);if(1===V){if(p)throw new Error("protobuf: (PBNode) duplicate Data section");[p,n]=Py(r,n),i&&(l=!0)}else{if(2!==V)throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${V}`);{if(l)throw new Error("protobuf: (PBNode) duplicate Links section");let $;i||(i=[]),[$,n]=Py(r,n),i.push(eD($))}}}if(n>t)throw new Error("protobuf: (PBNode) unexpected end of data");const c={};return p&&(c.Data=p),c.Links=i||[],c}(t),i={};return n.Data&&(i.Data=n.Data),n.Links&&(i.Links=n.Links.map(l=>{const p={};try{p.Hash=wa.decode(l.Hash)}catch{}if(!p.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==l.Name&&(p.Name=l.Name),void 0!==l.Tsize&&(p.Tsize=l.Tsize),p})),i}var Xk=w(3087);const v4=Math.pow(2,7),Y2=Math.pow(2,14),J2=Math.pow(2,21),aD=Math.pow(2,28),cD=Math.pow(2,35),S_=Math.pow(2,42),q2=Math.pow(2,49),Is=128,Wl=127;function Lv(r){if(r<v4)return 1;if(r<Y2)return 2;if(r<J2)return 3;if(r<aD)return 4;if(r<cD)return 5;if(r<S_)return 6;if(r<q2)return 7;if(null!=Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw new RangeError("Could not encode varint");return 8}function lD(r,t,n=0){switch(Lv(r)){case 8:t[n++]=255&r|Is,r/=128;case 7:t[n++]=255&r|Is,r/=128;case 6:t[n++]=255&r|Is,r/=128;case 5:t[n++]=255&r|Is,r/=128;case 4:t[n++]=255&r|Is,r>>>=7;case 3:t[n++]=255&r|Is,r>>>=7;case 2:t[n++]=255&r|Is,r>>>=7;case 1:t[n++]=255&r,r>>>=7;break;default:throw new Error("unreachable")}return t}const Hp=new Float32Array([-0]),xl=new Uint8Array(Hp.buffer);function ex(r,t,n){Hp[0]=r,t[n]=xl[0],t[n+1]=xl[1],t[n+2]=xl[2],t[n+3]=xl[3]}const Uv=new Float64Array([-0]),fs=new Uint8Array(Uv.buffer);function tx(r,t,n){Uv[0]=r,t[n]=fs[0],t[n+1]=fs[1],t[n+2]=fs[2],t[n+3]=fs[3],t[n+4]=fs[4],t[n+5]=fs[5],t[n+6]=fs[6],t[n+7]=fs[7]}const Qk=BigInt(Number.MAX_SAFE_INTEGER),uD=BigInt(Number.MIN_SAFE_INTEGER);class Ed{lo;hi;constructor(t,n){this.lo=0|t,this.hi=0|n}toNumber(t=!1){if(!t&&this.hi>>>31>0){const n=1+~this.lo>>>0;let i=~this.hi>>>0;return 0===n&&(i=i+1>>>0),-(n+4294967296*i)}return this.lo+4294967296*this.hi}toBigInt(t=!1){if(t)return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n);if(this.hi>>>31){const n=1+~this.lo>>>0;let i=~this.hi>>>0;return 0===n&&(i=i+1>>>0),-(BigInt(n)+(BigInt(i)<<32n))}return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n)}toString(t=!1){return this.toBigInt(t).toString()}zzEncode(){const t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this}zzDecode(){const t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this}length(){const t=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return 0===i?0===n?t<16384?t<128?1:2:t<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:i<128?9:10}static fromBigInt(t){if(0n===t)return Ny;if(t<Qk&&t>uD)return this.fromNumber(Number(t));const n=t<0n;n&&(t=-t);let i=t>>32n,l=t-(i<<32n);return n&&(i=0n|~i,l=0n|~l,++l>Ly&&(l=0n,++i>Ly&&(i=0n))),new Ed(Number(l),Number(i))}static fromNumber(t){if(0===t)return Ny;const n=t<0;n&&(t=-t);let i=t>>>0,l=(t-i)/4294967296>>>0;return n&&(l=~l>>>0,i=~i>>>0,++i>4294967295&&(i=0,++l>4294967295&&(l=0))),new Ed(i,l)}static from(t){return"number"==typeof t?Ed.fromNumber(t):"bigint"==typeof t?Ed.fromBigInt(t):"string"==typeof t?Ed.fromBigInt(BigInt(t)):null!=t.low||null!=t.high?new Ed(t.low>>>0,t.high>>>0):Ny}}const Ny=new Ed(0,0);Ny.toBigInt=function(){return 0n},Ny.zzEncode=Ny.zzDecode=function(){return this},Ny.length=function(){return 1};const Ly=4294967296n;function fD(r,t,n){const i=n;let l,p;for(let c=0;c<r.length;++c)l=r.charCodeAt(c),l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=63&l|128):55296==(64512&l)&&56320==(64512&(p=r.charCodeAt(c+1)))?(l=65536+((1023&l)<<10)+(1023&p),++c,t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=63&l|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=63&l|128);return n-i}function Hu(r,t){return RangeError(`index out of range: ${r.pos} + ${t??1} > ${r.len}`)}function M_(r,t){return(r[t-4]|r[t-3]<<8|r[t-2]<<16|r[t-1]<<24)>>>0}class n5{buf;pos;len;_slice=Uint8Array.prototype.subarray;constructor(t){this.buf=t,this.pos=0,this.len=t.length}uint32(){let t=4294967295;if(t=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(t=(t|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,Hu(this,10);return t}int32(){return 0|this.uint32()}sint32(){const t=this.uint32();return t>>>1^-(1&t)}bool(){return 0!==this.uint32()}fixed32(){if(this.pos+4>this.len)throw Hu(this,4);return M_(this.buf,this.pos+=4)}sfixed32(){if(this.pos+4>this.len)throw Hu(this,4);return 0|M_(this.buf,this.pos+=4)}float(){if(this.pos+4>this.len)throw Hu(this,4);const t=function Qm(r,t){return xl[0]=r[t],xl[1]=r[t+1],xl[2]=r[t+2],xl[3]=r[t+3],Hp[0]}(this.buf,this.pos);return this.pos+=4,t}double(){if(this.pos+8>this.len)throw Hu(this,4);const t=function qk(r,t){return fs[0]=r[t],fs[1]=r[t+1],fs[2]=r[t+2],fs[3]=r[t+3],fs[4]=r[t+4],fs[5]=r[t+5],fs[6]=r[t+6],fs[7]=r[t+7],Uv[0]}(this.buf,this.pos);return this.pos+=8,t}bytes(){const t=this.uint32(),n=this.pos,i=this.pos+t;if(i>this.len)throw Hu(this,t);return this.pos+=t,n===i?new Uint8Array(0):this.buf.subarray(n,i)}string(){const t=this.bytes();return function t5(r,t,n){if(n-t<1)return"";let l;const p=[];let h,c=0;for(;t<n;)h=r[t++],h<128?p[c++]=h:h>191&&h<224?p[c++]=(31&h)<<6|63&r[t++]:h>239&&h<365?(h=((7&h)<<18|(63&r[t++])<<12|(63&r[t++])<<6|63&r[t++])-65536,p[c++]=55296+(h>>10),p[c++]=56320+(1023&h)):p[c++]=(15&h)<<12|(63&r[t++])<<6|63&r[t++],c>8191&&((l??(l=[])).push(String.fromCharCode.apply(String,p)),c=0);return null!=l?(c>0&&l.push(String.fromCharCode.apply(String,p.slice(0,c))),l.join("")):String.fromCharCode.apply(String,p.slice(0,c))}(t,0,t.length)}skip(t){if("number"==typeof t){if(this.pos+t>this.len)throw Hu(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw Hu(this)}while(128&this.buf[this.pos++]);return this}skipType(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error(`invalid wire type ${t} at offset ${this.pos}`)}return this}readLongVarint(){const t=new Ed(0,0);let n=0;if(!(this.len-this.pos>4)){for(;n<3;++n){if(this.pos>=this.len)throw Hu(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*n)>>>0,t}for(;n<4;++n)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(n=0,this.len-this.pos>4){for(;n<5;++n)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}else for(;n<5;++n){if(this.pos>=this.len)throw Hu(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}readFixed64(){if(this.pos+8>this.len)throw Hu(this,8);const t=M_(this.buf,this.pos+=4),n=M_(this.buf,this.pos+=4);return new Ed(t,n)}int64(){return this.readLongVarint().toBigInt()}int64Number(){return this.readLongVarint().toNumber()}int64String(){return this.readLongVarint().toString()}uint64(){return this.readLongVarint().toBigInt(!0)}uint64Number(){const t=function Q2(r,t){let n=r[t],i=0;if(i+=n&Wl,n<Is||(n=r[t+1],i+=(n&Wl)<<7,n<Is)||(n=r[t+2],i+=(n&Wl)<<14,n<Is)||(n=r[t+3],i+=(n&Wl)<<21,n<Is)||(n=r[t+4],i+=(n&Wl)*aD,n<Is)||(n=r[t+5],i+=(n&Wl)*cD,n<Is)||(n=r[t+6],i+=(n&Wl)*S_,n<Is)||(n=r[t+7],i+=(n&Wl)*q2,n<Is))return i;throw new RangeError("Could not decode varint")}(this.buf,this.pos);return this.pos+=Lv(t),t}uint64String(){return this.readLongVarint().toString(!0)}sint64(){return this.readLongVarint().zzDecode().toBigInt()}sint64Number(){return this.readLongVarint().zzDecode().toNumber()}sint64String(){return this.readLongVarint().zzDecode().toString()}fixed64(){return this.readFixed64().toBigInt()}fixed64Number(){return this.readFixed64().toNumber()}fixed64String(){return this.readFixed64().toString()}sfixed64(){return this.readFixed64().toBigInt()}sfixed64Number(){return this.readFixed64().toNumber()}sfixed64String(){return this.readFixed64().toString()}}function nx(r,t,n){const i=function r5(r){return new n5(r instanceof Uint8Array?r:r.subarray())}(r);return t.decode(i,void 0,n)}class Fv{fn;len;next;val;constructor(t,n,i){this.fn=t,this.len=n,this.next=void 0,this.val=i}}function jv(){}class x4{head;tail;len;next;constructor(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}}const S4=function i5(r){const t=r??8192,n=t>>>1;let i,l=t;return function(c){if(c<1||c>n)return Ze(c);l+c>t&&(i=Ze(t),l=0);const h=i.subarray(l,l+=c);return 7&l&&(l=1+(7|l)),h}}();class hD{len;head;tail;states;constructor(){this.len=0,this.head=new Fv(jv,0,0),this.tail=this.head,this.states=null}_push(t,n,i){return this.tail=this.tail.next=new Fv(t,n,i),this.len+=n,this}uint32(t){return this.len+=(this.tail=this.tail.next=new A4((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this}int32(t){return t<0?this._push(ix,10,Ed.fromNumber(t)):this.uint32(t)}sint32(t){return this.uint32((t<<1^t>>31)>>>0)}uint64(t){const n=Ed.fromBigInt(t);return this._push(ix,n.length(),n)}uint64Number(t){return this._push(lD,Lv(t),t)}uint64String(t){return this.uint64(BigInt(t))}int64(t){return this.uint64(t)}int64Number(t){return this.uint64Number(t)}int64String(t){return this.uint64String(t)}sint64(t){const n=Ed.fromBigInt(t).zzEncode();return this._push(ix,n.length(),n)}sint64Number(t){const n=Ed.fromNumber(t).zzEncode();return this._push(ix,n.length(),n)}sint64String(t){return this.sint64(BigInt(t))}bool(t){return this._push(pD,1,t?1:0)}fixed32(t){return this._push($v,4,t>>>0)}sfixed32(t){return this.fixed32(t)}fixed64(t){const n=Ed.fromBigInt(t);return this._push($v,4,n.lo)._push($v,4,n.hi)}fixed64Number(t){const n=Ed.fromNumber(t);return this._push($v,4,n.lo)._push($v,4,n.hi)}fixed64String(t){return this.fixed64(BigInt(t))}sfixed64(t){return this.fixed64(t)}sfixed64Number(t){return this.fixed64Number(t)}sfixed64String(t){return this.fixed64String(t)}float(t){return this._push(ex,4,t)}double(t){return this._push(tx,8,t)}bytes(t){const n=t.length>>>0;return 0===n?this._push(pD,1,0):this.uint32(n)._push(A_,n,t)}string(t){const n=function e5(r){let t=0,n=0;for(let i=0;i<r.length;++i)n=r.charCodeAt(i),n<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&r.charCodeAt(i+1))?(++i,t+=4):t+=3;return t}(t);return 0!==n?this.uint32(n)._push(fD,n,t):this._push(pD,1,0)}fork(){return this.states=new x4(this),this.head=this.tail=new Fv(jv,0,0),this.len=0,this}reset(){return null!=this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Fv(jv,0,0),this.len=0),this}ldelim(){const t=this.head,n=this.tail,i=this.len;return this.reset().uint32(i),0!==i&&(this.tail.next=t.next,this.tail=n,this.len+=i),this}finish(){let t=this.head.next;const n=function rx(r){return null!=globalThis.Buffer?Ze(r):S4(r)}(this.len);let i=0;for(;null!=t;)t.fn(t.val,n,i),i+=t.len,t=t.next;return n}}function pD(r,t,n){t[n]=255&r}function M4(r,t,n){for(;r>127;)t[n++]=127&r|128,r>>>=7;t[n]=r}class A4 extends Fv{next;constructor(t,n){super(M4,t,n),this.next=void 0}}function ix(r,t,n){for(;0!==r.hi;)t[n++]=127&r.lo|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)t[n++]=127&r.lo|128,r.lo=r.lo>>>7;t[n++]=r.lo}function $v(r,t,n){t[n]=255&r,t[n+1]=r>>>8&255,t[n+2]=r>>>16&255,t[n+3]=r>>>24}function A_(r,t,n){t.set(r,n)}function T_(r,t,n){t.set(r,n)}function mD(r,t,n){r.length<40?fD(r,t,n):null!=t.utf8Write?t.utf8Write(r,n):t.set(bt(r),n)}function D_(r,t){const n=function yD(){return new hD}();return t.encode(r,n,{lengthDelimited:!1}),n.finish()}null!=globalThis.Buffer&&(hD.prototype.bytes=function(r){const t=r.length>>>0;return this.uint32(t),t>0&&this._push(T_,t,r),this},hD.prototype.string=function(r){const t=globalThis.Buffer.byteLength(r);return this.uint32(t),t>0&&this._push(mD,t,r),this});var Ka,Kv,o5,ox=function(r){return r[r.VARINT=0]="VARINT",r[r.BIT64=1]="BIT64",r[r.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",r[r.START_GROUP=3]="START_GROUP",r[r.END_GROUP=4]="END_GROUP",r[r.BIT32=5]="BIT32",r}(ox||{});function gD(r,t,n,i){return{name:r,type:t,encode:n,decode:i}}function Wp(r,t){return gD("message",ox.LENGTH_DELIMITED,r,t)}Error,function(r){let t;var l;let n,i;(l=t=r.DataType||(r.DataType={})).Raw="Raw",l.Directory="Directory",l.File="File",l.Metadata="Metadata",l.Symlink="Symlink",l.HAMTShard="HAMTShard",function(l){l[l.Raw=0]="Raw",l[l.Directory=1]="Directory",l[l.File=2]="File",l[l.Metadata=3]="Metadata",l[l.Symlink=4]="Symlink",l[l.HAMTShard=5]="HAMTShard"}(n||(n={})),function(l){l.codec=()=>function vD(r){function t(l){if(null==r[l.toString()])throw new Error("Invalid enum value");return r[l]}return gD("enum",ox.VARINT,function(p,c){const h=t(p);c.int32(h)},function(p){return t(p.int32())})}(n)}(t=r.DataType||(r.DataType={})),r.codec=()=>(null==i&&(i=Wp((l,p,c={})=>{if(!1!==c.lengthDelimited&&p.fork(),null!=l.Type&&(p.uint32(8),r.DataType.codec().encode(l.Type,p)),null!=l.Data&&(p.uint32(18),p.bytes(l.Data)),null!=l.filesize&&(p.uint32(24),p.uint64(l.filesize)),null!=l.blocksizes)for(const h of l.blocksizes)p.uint32(32),p.uint64(h);null!=l.hashType&&(p.uint32(40),p.uint64(l.hashType)),null!=l.fanout&&(p.uint32(48),p.uint64(l.fanout)),null!=l.mode&&(p.uint32(56),p.uint32(l.mode)),null!=l.mtime&&(p.uint32(66),Kv.codec().encode(l.mtime,p)),!1!==c.lengthDelimited&&p.ldelim()},(l,p)=>{const c={blocksizes:[]},h=null==p?l.len:l.pos+p;for(;l.pos<h;){const V=l.uint32();switch(V>>>3){case 1:c.Type=r.DataType.codec().decode(l);break;case 2:c.Data=l.bytes();break;case 3:c.filesize=l.uint64();break;case 4:c.blocksizes.push(l.uint64());break;case 5:c.hashType=l.uint64();break;case 6:c.fanout=l.uint64();break;case 7:c.mode=l.uint32();break;case 8:c.mtime=Kv.codec().decode(l,l.uint32());break;default:l.skipType(7&V)}}return c})),i),r.encode=l=>D_(l,r.codec()),r.decode=l=>nx(l,r.codec())}(Ka||(Ka={})),function(r){let t;r.codec=()=>(null==t&&(t=Wp((n,i,l={})=>{!1!==l.lengthDelimited&&i.fork(),null!=n.Seconds&&(i.uint32(8),i.int64(n.Seconds)),null!=n.FractionalNanoseconds&&(i.uint32(21),i.fixed32(n.FractionalNanoseconds)),!1!==l.lengthDelimited&&i.ldelim()},(n,i)=>{const l={},p=null==i?n.len:n.pos+i;for(;n.pos<p;){const c=n.uint32();switch(c>>>3){case 1:l.Seconds=n.int64();break;case 2:l.FractionalNanoseconds=n.fixed32();break;default:n.skipType(7&c)}}return l})),t),r.encode=n=>D_(n,r.codec()),r.decode=n=>nx(n,r.codec())}(Kv||(Kv={})),function(r){let t;r.codec=()=>(null==t&&(t=Wp((n,i,l={})=>{!1!==l.lengthDelimited&&i.fork(),null!=n.MimeType&&(i.uint32(10),i.string(n.MimeType)),!1!==l.lengthDelimited&&i.ldelim()},(n,i)=>{const l={},p=null==i?n.len:n.pos+i;for(;n.pos<p;){const c=n.uint32();c>>>3==1?l.MimeType=n.string():n.skipType(7&c)}return l})),t),r.encode=n=>D_(n,r.codec()),r.decode=n=>nx(n,r.codec())}(o5||(o5={}));const bD={Raw:"raw",Directory:"directory",File:"file",Metadata:"metadata",Symlink:"symlink",HAMTShard:"hamt-sharded-directory"},T4=["directory","hamt-sharded-directory"],s5=parseInt("0644",8),sx=parseInt("0755",8);class Gu{static unmarshal(t){const n=Ka.decode(t),i=new Gu({type:bD[null!=n.Type?n.Type.toString():"File"],data:n.Data,blockSizes:n.blocksizes,mode:n.mode,mtime:null!=n.mtime?{secs:n.mtime.Seconds??0n,nsecs:n.mtime.FractionalNanoseconds}:void 0,fanout:n.fanout});return i._originalMode=n.mode??0,i}type;data;blockSizes;hashType;fanout;mtime;_mode;_originalMode;constructor(t={type:"file"}){const{type:n,data:i,blockSizes:l,hashType:p,fanout:c,mtime:h,mode:V}=t;if(null!=n&&!Object.values(bD).includes(n))throw Xk(new Error("Type: "+n+" is not valid"),"ERR_INVALID_TYPE");this.type=n??"file",this.data=i,this.hashType=p,this.fanout=c,this.blockSizes=l??[],this._originalMode=0,this.mode=V,this.mtime=h}set mode(t){this._mode=null==t?this.isDirectory()?sx:s5:4095&t}get mode(){return this._mode}isDirectory(){return T4.includes(this.type)}addBlockSize(t){this.blockSizes.push(t)}removeBlockSize(t){this.blockSizes.splice(t,1)}fileSize(){if(this.isDirectory())return 0n;let t=0n;return this.blockSizes.forEach(n=>{t+=n}),null!=this.data&&(t+=BigInt(this.data.length)),t}marshal(){let t;switch(this.type){case"raw":t=Ka.DataType.Raw;break;case"directory":t=Ka.DataType.Directory;break;case"file":t=Ka.DataType.File;break;case"metadata":t=Ka.DataType.Metadata;break;case"symlink":t=Ka.DataType.Symlink;break;case"hamt-sharded-directory":t=Ka.DataType.HAMTShard;break;default:throw Xk(new Error(`Type: ${t} is not valid`),"ERR_INVALID_TYPE")}let i,l,n=this.data;return(null==this.data||0===this.data.length)&&(n=void 0),null!=this.mode&&(i=4294963200&this._originalMode|(this.mode??0),i===s5&&!this.isDirectory()&&(i=void 0),i===sx&&this.isDirectory()&&(i=void 0)),null!=this.mtime&&(l={Seconds:this.mtime.secs,FractionalNanoseconds:this.mtime.nsecs}),Ka.encode({Type:t,Data:n,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:i,mtime:l})}}var wD=w(52054);const I_="raw",e0=85,ax=r=>(0,wD.au)(r),a5=r=>(0,wD.au)(r);class Sl extends Event{type;detail;constructor(t,n){super(t),this.type=t,this.detail=n}}const Gp=function(){var r=(0,ye.A)(function*(t,n,i){null==i.codec&&(i.codec=Z);const l=yield ue.digest(t),p=Bf.TO.create(i.cidVersion,i.codec.code,l);return yield n.put(p,t,i),p});return function(n,i,l){return r.apply(this,arguments)}}();function _D(r){return function(){var t=us(function*(i,l){let p=0n;var V,c=!1,h=!1;try{for(var I,$=Ko(i.content);c=!(I=yield gi($.next())).done;c=!1){let q=I.value;yield(0,ye.A)(function*(){let Ce;const Be={codec:Z,cidVersion:r.cidVersion,onProgress:r.onProgress};r.rawLeaves?(Be.codec=ie,Be.cidVersion=1):(Ce=new Gu({type:r.leafType,data:q}),q=np({Data:Ce.marshal(),Links:[]}));const Pe=yield Gp(q,l,Be);return p+=BigInt(q.byteLength),r.onProgress?.(new Sl("unixfs:importer:progress:file:write",{bytesWritten:p,cid:Pe,path:i.path})),{cid:Pe,unixfs:Ce,size:BigInt(q.length),block:q}})}}catch(q){h=!0,V=q}finally{try{c&&null!=$.return&&(yield gi($.return()))}finally{if(h)throw V}}});return function n(i,l){return t.apply(this,arguments)}}()}function Xu(r){var t={},n=!1;function i(l,p){return n=!0,{done:!1,value:new c_(p=new Promise(function(c){c(r[l](p))}),1)}}return t[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(l){return n?(n=!1,l):i("next",l)},"function"==typeof r.throw&&(t.throw=function(l){if(n)throw n=!1,l;return i("throw",l)}),"function"==typeof r.return&&(t.return=function(l){return n?(n=!1,l):i("return",l)}),t}const C_=function(){var r=(0,ye.A)(function*(t,n,i){const l=new Gu({type:"directory",mtime:t.mtime,mode:t.mode}),p=np(zp({Data:l.marshal()}));return{cid:yield Gp(p,n,i),path:t.path,unixfs:l,size:BigInt(p.length),originalPath:t.originalPath,block:p}});return function(n,i,l){return r.apply(this,arguments)}}();function cx(){return(cx=us(function*(r,t,n){let l,i=-1;var h,p=!1,c=!1;try{for(var $,V=Ko(I2(n.bufferImporter(r,t),n.blockWriteConcurrency));p=!($=yield gi(V.next())).done;p=!1){const I=$.value;i++,0!==i?(1===i&&null!=l&&(yield{...l,block:void 0,single:void 0},l=void 0),yield{...I,block:void 0}):l={...I,single:!0}}}catch(I){c=!0,h=I}finally{try{p&&null!=V.return&&(yield gi(V.return()))}finally{if(c)throw h}}null!=l&&(yield l)})).apply(this,arguments)}function lx(r){return!0===r.single}const l5=(r,t,n)=>function(){var l=(0,ye.A)(function*(p){if(1===p.length&&lx(p[0])&&n.reduceSingleLeafToSelf){const q=p[0];let Ce=q.block;return lx(q)&&(void 0!==r.mtime||void 0!==r.mode)&&(q.unixfs=new Gu({type:"file",mtime:r.mtime,mode:r.mode,data:q.block}),Ce={Data:q.unixfs.marshal(),Links:[]},q.block=np(zp(Ce)),q.cid=yield Gp(q.block,t,{...n,cidVersion:n.cidVersion}),q.size=BigInt(q.block.length)),n.onProgress?.(new Sl("unixfs:importer:progress:file:layout",{cid:q.cid,path:q.originalPath})),{cid:q.cid,path:r.path,unixfs:q.unixfs,size:q.size,originalPath:q.originalPath}}const c=new Gu({type:"file",mtime:r.mtime,mode:r.mode}),h=p.filter(q=>q.cid.code===e0&&q.size>0||null!=q.unixfs&&null==q.unixfs.data&&q.unixfs.fileSize()>0n||!!q.unixfs?.data?.length).map(q=>q.cid.code===e0?(c.addBlockSize(q.size),{Name:"",Tsize:Number(q.size),Hash:q.cid}):(c.addBlockSize(null==q.unixfs||null==q.unixfs.data?q.unixfs?.fileSize()??0n:BigInt(q.unixfs.data.length)),{Name:"",Tsize:Number(q.size),Hash:q.cid})),V={Data:c.marshal(),Links:h},$=np(zp(V)),I=yield Gp($,t,n);return n.onProgress?.(new Sl("unixfs:importer:progress:file:layout",{cid:I,path:r.originalPath})),{cid:I,path:r.path,unixfs:c,size:BigInt($.length+V.Links.reduce((q,Ce)=>q+(Ce.Tsize??0),0)),originalPath:r.originalPath,block:$}});return function(c){return l.apply(this,arguments)}}(),d5=function(){var r=(0,ye.A)(function*(t,n,i){return i.layout(function c5(r,t,n){return cx.apply(this,arguments)}(t,n,i),l5(t,n,i))});return function(n,i,l){return r.apply(this,arguments)}}();function Vv(r){try{if(r instanceof Uint8Array)return us(function*(){yield r})();if(function ED(r){return Symbol.iterator in r}(r))return us(function*(){yield*Xu(Ko(r))})();if(function dx(r){return Symbol.asyncIterator in r}(r))return r}catch{throw d_(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw d_(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}function ux(r){return null!=r.content}function xD(r){return null!=globalThis.Buffer?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}const n0=(new Uint8Array(0),r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")});class DD{constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class R_{constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return px(this,t)}}class r0{constructor(t){this.decoders=t}or(t){return px(this,t)}decode(t){const i=this.decoders[t[0]];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const px=(r,t)=>new r0({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class mx{constructor(t,n,i,l){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=l,this.encoder=new DD(t,n,i),this.decoder=new R_(t,n,l)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const Xp=({name:r,prefix:t,encode:n,decode:i})=>new mx(r,t,n,i),Uy=({prefix:r,name:t,alphabet:n})=>{const{encode:i,decode:l}=function u5(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var l=0;l<r.length;l++){var p=r.charAt(l),c=p.charCodeAt(0);if(255!==n[c])throw new TypeError(p+" is ambiguous");n[c]=l}var h=r.length,V=r.charAt(0),$=Math.log(h)/Math.log(256),I=Math.log(256)/Math.log(h);function Ce(Pe){if("string"!=typeof Pe)throw new TypeError("Expected String");if(0===Pe.length)return new Uint8Array;var Ke=0;if(" "!==Pe[Ke]){for(var rt=0,ht=0;Pe[Ke]===V;)rt++,Ke++;for(var ct=(Pe.length-Ke)*$+1>>>0,dt=new Uint8Array(ct);Pe[Ke];){var At=n[Pe.charCodeAt(Ke)];if(255===At)return;for(var Pt=0,Ct=ct-1;(0!==At||Pt<ht)&&-1!==Ct;Ct--,Pt++)dt[Ct]=(At+=h*dt[Ct]>>>0)%256>>>0,At=At/256>>>0;if(0!==At)throw new Error("Non-zero carry");ht=Pt,Ke++}if(" "!==Pe[Ke]){for(var zt=ct-ht;zt!==ct&&0===dt[zt];)zt++;for(var Xt=new Uint8Array(rt+(ct-zt)),xn=rt;zt!==ct;)Xt[xn++]=dt[zt++];return Xt}}}return{encode:function q(Pe){if(Pe instanceof Uint8Array||(ArrayBuffer.isView(Pe)?Pe=new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength):Array.isArray(Pe)&&(Pe=Uint8Array.from(Pe))),!(Pe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Pe.length)return"";for(var Ke=0,rt=0,ht=0,ct=Pe.length;ht!==ct&&0===Pe[ht];)ht++,Ke++;for(var dt=(ct-ht)*I+1>>>0,At=new Uint8Array(dt);ht!==ct;){for(var Pt=Pe[ht],Ct=0,zt=dt-1;(0!==Pt||Ct<rt)&&-1!==zt;zt--,Ct++)At[zt]=(Pt+=256*At[zt]>>>0)%h>>>0,Pt=Pt/h>>>0;if(0!==Pt)throw new Error("Non-zero carry");rt=Ct,ht++}for(var Xt=dt-rt;Xt!==dt&&0===At[Xt];)Xt++;for(var xn=V.repeat(Ke);Xt<dt;++Xt)xn+=r.charAt(At[Xt]);return xn},decodeUnsafe:Ce,decode:function Be(Pe){var Ke=Ce(Pe);if(Ke)return Ke;throw new Error(`Non-${t} character`)}}}(n,t);return Xp({prefix:r,name:t,encode:i,decode:p=>n0(l(p))})},Ml=({name:r,prefix:t,bitsPerChar:n,alphabet:i})=>Xp({prefix:t,name:r,encode:l=>((r,t,n)=>{const i="="===t[t.length-1],l=(1<<n)-1;let p="",c=0,h=0;for(let V=0;V<r.length;++V)for(h=h<<8|r[V],c+=8;c>n;)c-=n,p+=t[l&h>>c];if(c&&(p+=t[l&h<<n-c]),i)for(;p.length*n&7;)p+="=";return p})(l,i,n),decode:l=>((r,t,n,i)=>{const l={};for(let I=0;I<t.length;++I)l[t[I]]=I;let p=r.length;for(;"="===r[p-1];)--p;const c=new Uint8Array(p*n/8|0);let h=0,V=0,$=0;for(let I=0;I<p;++I){const q=l[r[I]];if(void 0===q)throw new SyntaxError(`Non-${i} character`);V=V<<n|q,h+=n,h>=8&&(h-=8,c[$++]=255&V>>h)}if(h>=n||255&V<<8-h)throw new SyntaxError("Unexpected end of data");return c})(l,i,n,r)}),ID=Uy({prefix:"9",name:"base10",alphabet:"0123456789"}),m5=Ml({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),y5=Ml({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),g5=Ml({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),gx=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),CD=gx.reduce((r,t,n)=>(r[n]=t,r),[]),xo=gx.reduce((r,t,n)=>(r[t.codePointAt(0)]=n,r),[]),Fy=Xp({prefix:"\u{1f680}",name:"base256emoji",encode:function kD(r){return r.reduce((t,n)=>t+CD[n],"")},decode:function RD(r){const t=[];for(const n of r){const i=xo[n.codePointAt(0)];if(void 0===i)throw new Error(`Non-base256emoji character: ${n}`);t.push(i)}return new Uint8Array(t)}}),jy=Ml({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),OD=Ml({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),v5=Ml({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),P_=Ml({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),o0=Ml({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),vx=Ml({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),zv=Ml({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),PD=Ml({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),bx=Ml({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),wx=Uy({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),_x=Uy({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),gh=Uy({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ex=Uy({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),b5=Ml({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),w5=Ml({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),_5=Ml({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),BD=Ml({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),E5=Ml({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),x5=Xp({prefix:"\0",name:"identity",encode:r=>(r=>(new TextDecoder).decode(r))(r),decode:r=>(r=>(new TextEncoder).encode(r))(r)}),S5=new TextEncoder,M5=new TextDecoder,ND="json",LD=512,A5=r=>S5.encode(JSON.stringify(r)),T5=r=>JSON.parse(M5.decode(r)),$d="raw",D5=85,I5=r=>n0(r),D4=r=>n0(r);var Sx=128,k5=-128,R5=Math.pow(2,31),B5=Math.pow(2,7),N5=Math.pow(2,14),L5=Math.pow(2,21),U5=Math.pow(2,28),vh=Math.pow(2,35),Tx=Math.pow(2,42),F5=Math.pow(2,49),j5=Math.pow(2,56),UD=Math.pow(2,63);const Ix_encode=function Mx(r,t,n){t=t||[];for(var i=n=n||0;r>=R5;)t[n++]=255&r|Sx,r/=128;for(;r&k5;)t[n++]=255&r|Sx,r>>>=7;return t[n]=0|r,Mx.bytes=n-i+1,t},Ix_encodingLength=function(r){return r<B5?1:r<N5?2:r<L5?3:r<U5?4:r<vh?5:r<Tx?6:r<F5?7:r<j5?8:r<UD?9:10},Hv=(r,t,n=0)=>(Ix_encode(r,t,n),t),Wv=r=>Ix_encodingLength(r),s0=(r,t)=>{const n=t.byteLength,i=Wv(r),l=i+Wv(n),p=new Uint8Array(l+n);return Hv(r,p,0),Hv(n,p,i),p.set(t,l),new kx(r,n,t,p)};class kx{constructor(t,n,i,l){this.code=t,this.size=n,this.digest=i,this.bytes=l}}const $D=n0,KD={code:0,name:"identity",encode:$D,digest:r=>s0(0,$D(r))},Zp=({name:r,code:t,encode:n})=>new $y(r,t,n);class $y{constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?s0(this.code,n):n.then(i=>s0(this.code,i))}throw Error("Unknown type, must be binary type")}}const U_=r=>function(){var t=(0,ye.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}(),Xv=Zp({name:"sha2-256",code:18,encode:U_("SHA-256")}),VD=Zp({name:"sha2-512",code:19,encode:U_("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const Bx={...f,...de,...a,...ae,...se,...be,...xe,...ke,...C,...le};function Lx(r,t,n,i){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:n},decoder:{decode:i}}}const Ky=Lx("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),a0=Lx("ascii","a",r=>{let t="a";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},r=>{const t=function Nx(r=0){return null!=globalThis.Buffer?.allocUnsafe?xD(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}((r=r.substring(1)).length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}),W5={utf8:Ky,"utf-8":Ky,hex:Bx.base16,latin1:a0,ascii:a0,binary:a0,...Bx};function G5(r,t="utf8"){const n=W5[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${r}`):xD(globalThis.Buffer.from(r,"utf-8"))}const X5=()=>function(){var r=us(function*(n){var p,i=!1,l=!1;try{for(var h,c=Ko(n);i=!(h=yield gi(c.next())).done;i=!1){const V=h.value;if(void 0===V.length)throw d_(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if("string"==typeof V||V instanceof String)yield G5(V.toString());else if(Array.isArray(V))yield Uint8Array.from(V);else{if(!(V instanceof Uint8Array))throw d_(new Error("Content was invalid"),"ERR_INVALID_CONTENT");yield V}}}catch(V){l=!0,p=V}finally{try{i&&null!=c.return&&(yield gi(c.return()))}finally{if(l)throw p}}});return function t(n){return r.apply(this,arguments)}}(),$_=174;function Ux(r){const t=r?.maxChildrenPerNode??$_;return function(){var n=(0,ye.A)(function*(l,p){const c=[];var $,h=!1,V=!1;try{for(var q,I=Ko(D2(l,t));h=!(q=yield I.next()).done;h=!1){const Ce=q.value;c.push(yield p(Ce))}}catch(Ce){V=!0,$=Ce}finally{try{h&&null!=I.return&&(yield I.return())}finally{if(V)throw $}}return c.length>1?i(c,p):c[0]});function i(l,p){return n.apply(this,arguments)}return i}()}class K_{options;root;dir;path;dirty;flat;parent;parentKey;unixfs;mode;mtime;cid;size;nodeSize;constructor(t,n){this.options=n??{},this.root=t.root,this.dir=t.dir,this.path=t.path,this.dirty=t.dirty,this.flat=t.flat,this.parent=t.parent,this.parentKey=t.parentKey,this.unixfs=t.unixfs,this.mode=t.mode,this.mtime=t.mtime}}const Fx=Bf.TO.parse("QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn"),GD=Bf.TO.parse("zdj7WbTaiJT1fgatdet9Ei9iDB5hdCxkbVyhyh8YTUnXMiwYi");class jx extends K_{_children;constructor(t,n){super(t,n),this._children=new Map}put(t,n){var i=this;return(0,ye.A)(function*(){i.cid=void 0,i.size=void 0,i.nodeSize=void 0,i._children.set(t,n)})()}get(t){var n=this;return(0,ye.A)(function*(){return Promise.resolve(n._children.get(t))})()}childCount(){return this._children.size}directChildrenCount(){return this.childCount()}onlyChild(){return this._children.values().next().value}eachChildSeries(){var t=this;return us(function*(){for(const[n,i]of t._children.entries())yield{key:n,child:i}})()}estimateNodeSize(){if(void 0!==this.nodeSize)return this.nodeSize;this.nodeSize=0;for(const[t,n]of this._children.entries())null!=n.size&&null!=n.cid&&(this.nodeSize+=t.length+(1===this.options.cidVersion?GD.bytes.byteLength:Fx.bytes.byteLength));return this.nodeSize}flush(t){var n=this;return us(function*(){const i=[];for(const[Pe,Ke]of n._children.entries()){let rt=Ke;if(Ke instanceof K_){var c,l=!1,p=!1;try{for(var V,h=Ko(Ke.flush(t));l=!(V=yield gi(h.next())).done;l=!1){const ht=V.value;rt=ht,yield ht}}catch(ht){p=!0,c=ht}finally{try{l&&null!=h.return&&(yield gi(h.return()))}finally{if(p)throw c}}}null!=rt.size&&null!=rt.cid&&i.push({Name:Pe,Tsize:Number(rt.size),Hash:rt.cid})}const $=new Gu({type:"directory",mtime:n.mtime,mode:n.mode}),I={Data:$.marshal(),Links:i},q=np(zp(I)),Ce=yield gi(Gp(q,t,n.options)),Be=q.length+I.Links.reduce((Pe,Ke)=>Pe+(null==Ke.Tsize?0:Ke.Tsize),0);n.cid=Ce,n.size=Be,yield{cid:Ce,unixfs:$,path:n.path,size:BigInt(Be)}})()}}const J5=new Uint8Array(0);function V_(r){const t=r.match(/../g);return null!=t?new Uint8Array(t.map(n=>parseInt(n,16))):J5}class YD{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class JD{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return QD(this,t)}}class qD{decoders;constructor(t){this.decoders=t}or(t){return QD(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function QD(r,t){return new qD({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class e8{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,l){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=l,this.encoder=new YD(t,n,i),this.decoder=new JD(t,n,l)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function eI({name:r,prefix:t,encode:n,decode:i}){return new e8(r,t,n,i)}function Vy({name:r,prefix:t,alphabet:n}){const{encode:i,decode:l}=function XD(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var l=0;l<r.length;l++){var p=r.charAt(l),c=p.charCodeAt(0);if(255!==n[c])throw new TypeError(p+" is ambiguous");n[c]=l}var h=r.length,V=r.charAt(0),$=Math.log(h)/Math.log(256),I=Math.log(256)/Math.log(h);function Ce(Pe){if("string"!=typeof Pe)throw new TypeError("Expected String");if(0===Pe.length)return new Uint8Array;var Ke=0;if(" "!==Pe[Ke]){for(var rt=0,ht=0;Pe[Ke]===V;)rt++,Ke++;for(var ct=(Pe.length-Ke)*$+1>>>0,dt=new Uint8Array(ct);Pe[Ke];){var At=n[Pe.charCodeAt(Ke)];if(255===At)return;for(var Pt=0,Ct=ct-1;(0!==At||Pt<ht)&&-1!==Ct;Ct--,Pt++)dt[Ct]=(At+=h*dt[Ct]>>>0)%256>>>0,At=At/256>>>0;if(0!==At)throw new Error("Non-zero carry");ht=Pt,Ke++}if(" "!==Pe[Ke]){for(var zt=ct-ht;zt!==ct&&0===dt[zt];)zt++;for(var Xt=new Uint8Array(rt+(ct-zt)),xn=rt;zt!==ct;)Xt[xn++]=dt[zt++];return Xt}}}return{encode:function q(Pe){if(Pe instanceof Uint8Array||(ArrayBuffer.isView(Pe)?Pe=new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength):Array.isArray(Pe)&&(Pe=Uint8Array.from(Pe))),!(Pe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Pe.length)return"";for(var Ke=0,rt=0,ht=0,ct=Pe.length;ht!==ct&&0===Pe[ht];)ht++,Ke++;for(var dt=(ct-ht)*I+1>>>0,At=new Uint8Array(dt);ht!==ct;){for(var Pt=Pe[ht],Ct=0,zt=dt-1;(0!==Pt||Ct<rt)&&-1!==zt;zt--,Ct++)At[zt]=(Pt+=256*At[zt]>>>0)%h>>>0,Pt=Pt/h>>>0;if(0!==Pt)throw new Error("Non-zero carry");rt=Ct,ht++}for(var Xt=dt-rt;Xt!==dt&&0===At[Xt];)Xt++;for(var xn=V.repeat(Ke);Xt<dt;++Xt)xn+=r.charAt(At[Xt]);return xn},decodeUnsafe:Ce,decode:function Be(Pe){var Ke=Ce(Pe);if(Ke)return Ke;throw new Error(`Non-${t} character`)}}}(n,r);return eI({prefix:t,name:r,encode:i,decode:p=>function Yv(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}(l(p))})}function ip({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return eI({prefix:t,name:r,encode:l=>function n8(r,t,n){const i="="===t[t.length-1],l=(1<<n)-1;let p="",c=0,h=0;for(let V=0;V<r.length;++V)for(h=h<<8|r[V],c+=8;c>n;)c-=n,p+=t[l&h>>c];if(0!==c&&(p+=t[l&h<<n-c]),i)for(;p.length*n&7;)p+="=";return p}(l,i,n),decode:l=>function t8(r,t,n,i){const l={};for(let I=0;I<t.length;++I)l[t[I]]=I;let p=r.length;for(;"="===r[p-1];)--p;const c=new Uint8Array(p*n/8|0);let h=0,V=0,$=0;for(let I=0;I<p;++I){const q=l[r[I]];if(void 0===q)throw new SyntaxError(`Non-${i} character`);V=V<<n|q,h+=n,h>=8&&(h-=8,c[$++]=255&V>>h)}if(h>=n||255&V<<8-h)throw new SyntaxError("Unexpected end of data");return c}(l,i,n,r)})}ip({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ip({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ip({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ip({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ip({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ip({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ip({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ip({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ip({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Vy({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Vy({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var nI=128,Vx=-128,qv=Math.pow(2,31),l8=128,zy=127,U4=Math.pow(2,7),d8=Math.pow(2,14),iI=Math.pow(2,21),Hx=Math.pow(2,28),u8=Math.pow(2,35),oI=Math.pow(2,42),f8=Math.pow(2,49),sI=Math.pow(2,56),aI=Math.pow(2,63);const H_={encode:function zx(r,t,n){t=t||[];for(var i=n=n||0;r>=qv;)t[n++]=255&r|nI,r/=128;for(;r&Vx;)t[n++]=255&r|nI,r>>>=7;return t[n]=0|r,zx.bytes=n-i+1,t},decode:function Hy(r,i){var c,n=0,l=0,p=i=i||0,h=r.length;do{if(p>=h)throw Hy.bytes=0,new RangeError("Could not decode varint");c=r[p++],n+=l<28?(c&zy)<<l:(c&zy)*Math.pow(2,l),l+=7}while(c>=l8);return Hy.bytes=p-i,n},encodingLength:function(r){return r<U4?1:r<d8?2:r<iI?3:r<Hx?4:r<u8?5:r<oI?6:r<f8?7:r<sI?8:r<aI?9:10}};function W_(r,t,n=0){return H_.encode(r,t,n),t}function G_(r){return H_.encodingLength(r)}function Xx(r,t){const n=t.byteLength,i=G_(r),l=i+G_(n),p=new Uint8Array(l+n);return W_(r,p,0),W_(n,p,i),p.set(t,l),new Yx(r,n,t,p)}class Yx{code;size;digest;bytes;constructor(t,n,i,l){this.code=t,this.size=n,this.digest=i,this.bytes=l}}function Y_({name:r,code:t,encode:n}){return new v8(r,t,n)}Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");class v8{name;code;encode;constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?Xx(this.code,n):n.then(i=>Xx(this.code,i))}throw Error("Unknown type, must be binary type")}}var J_=w(13026);Y_({name:"murmur3-32",code:35,encode:r=>function q_(r){const t=new Array(4);for(let n=0;n<4;n++)t[n]=255&r,r>>=8;return new Uint8Array(t)}(J_.x86.hash32(r))});const uI=Y_({name:"murmur3-128",code:34,encode:r=>V_(J_.x64.hash128(r))});Y_({name:"murmur3-x64-64",code:34,encode:r=>V_(J_.x64.hash128(r)).subarray(0,8)});var w8=w(18876);class uu{_options;_popCount;_parent;_posAtParent;_children;key;constructor(t,n,i=0){this._options=t,this._popCount=0,this._parent=n,this._posAtParent=i,this._children=new w8,this.key=null}put(t,n){var i=this;return(0,ye.A)(function*(){const l=yield i._findNewBucketAndPos(t);l.bucket._putAt(l,t,n)})()}get(t){var n=this;return(0,ye.A)(function*(){const i=yield n._findChild(t);if(null!=i)return i.value})()}del(t){var n=this;return(0,ye.A)(function*(){const i=yield n._findPlace(t),l=i.bucket._at(i.pos);null!=l&&l.key===t&&i.bucket._delAt(i.pos)})()}leafCount(){return this._children.compactArray().reduce((n,i)=>i instanceof uu?n+i.leafCount():n+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const t=this._children.compactArray();for(const n of t)n instanceof uu?yield*n.eachLeafSeries():yield n}serialize(t,n){return n(this._children.reduce((l,p,c)=>(null!=p&&l.push(p instanceof uu?p.serialize(t,n):t(p,c)),l),[]))}asyncTransform(t,n){var i=this;return(0,ye.A)(function*(){return _8(i,t,n)})()}toJSON(){return this.serialize(d0,tb)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}_findChild(t){var n=this;return(0,ye.A)(function*(){const i=yield n._findPlace(t),l=i.bucket._at(i.pos);if(!(l instanceof uu)&&null!=l&&l.key===t)return l})()}_findPlace(t){var n=this;return(0,ye.A)(function*(){const i=n._options.hash("string"==typeof t?bt(t):t),l=yield i.take(n._options.bits),p=n._children.get(l);return p instanceof uu?p._findPlace(i):{bucket:n,pos:l,hash:i,existingChild:p}})()}_findNewBucketAndPos(t){var n=this;return(0,ye.A)(function*(){const i=yield n._findPlace(t);if(null!=i.existingChild&&i.existingChild.key!==t){const l=new uu(n._options,i.bucket,i.pos);i.bucket._putObjectAt(i.pos,l);const p=yield l._findPlace(i.existingChild.hash);return p.bucket._putAt(p,i.existingChild.key,i.existingChild.value),l._findNewBucketAndPos(i.hash)}return i})()}_putAt(t,n,i){this._putObjectAt(t.pos,{key:n,value:i,hash:t.hash})}_putObjectAt(t,n){null==this._children.get(t)&&this._popCount++,this._children.set(t,n)}_delAt(t){if(-1===t)throw new Error("Invalid position");null!=this._children.get(t)&&this._popCount--,this._children.unset(t),this._level()}_level(){if(null!=this._parent&&this._popCount<=1)if(1===this._popCount){const t=this._children.find(l0);if(null!=t&&!(t instanceof uu)){const n=t.hash;n.untake(this._options.bits),this._parent._putAt({pos:this._posAtParent,hash:n,bucket:this._parent},t.key,t.value)}}else this._parent._delAt(this._posAtParent)}_at(t){return this._children.get(t)}}function l0(r){return!!r}function d0(r,t){return r.key}function tb(r){return r}function _8(r,t,n){return Q_.apply(this,arguments)}function Q_(){return(Q_=(0,ye.A)(function*(r,t,n){const i=[];for(const l of r._children.compactArray())if(l instanceof uu)yield _8(l,t,n);else{const p=yield t(l);i.push({bitField:r._children.bitField(),children:p})}return n(i)})).apply(this,arguments)}const E8=[255,254,252,248,240,224,192,128],fI=[1,3,7,15,31,63,127,255];class x8{_value;_currentBytePos;_currentBitPos;constructor(t){this._value=t,this._currentBytePos=t.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+8*this._currentBytePos}totalBits(){return 8*this._value.length}take(t){let n=t,i=0;for(;n>0&&this._haveBits();){const l=this._value[this._currentBytePos],p=this._currentBitPos+1,c=Math.min(p,n);i=(i<<c)+hI(l,p-c,c),n-=c,this._currentBitPos-=c,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return i}untake(t){for(this._currentBitPos+=t;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}}function hI(r,t,n){const i=function j4(r,t){return E8[r]&fI[Math.min(t+r-1,7)]}(t,n);return(r&i)>>>t}function S8(r){return function t(n){return n instanceof Xy?n:new Xy(n,r)}}class Xy{_value;_hashFn;_depth;_availableBits;_currentBufferIndex;_buffers;constructor(t,n){if(!(t instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=t,this._hashFn=n,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}take(t){var n=this;return(0,ye.A)(function*(){let i=t;for(;n._availableBits<i;)yield n._produceMoreBits();let l=0;for(;i>0;){const p=n._buffers[n._currentBufferIndex],c=Math.min(p.availableBits(),i);l=(l<<c)+p.take(c),i-=c,n._availableBits-=c,0===p.availableBits()&&n._currentBufferIndex++}return l})()}untake(t){let n=t;for(;n>0;){const i=this._buffers[this._currentBufferIndex],l=Math.min(i.totalBits()-i.availableBits(),n);i.untake(l),n-=l,this._availableBits+=l,this._currentBufferIndex>0&&i.totalBits()===i.availableBits()&&(this._depth--,this._currentBufferIndex--)}}_produceMoreBits(){var t=this;return(0,ye.A)(function*(){t._depth++;const n=t._depth>0?f_([t._value,Uint8Array.from([t._depth])]):t._value,i=yield t._hashFn(n),l=new x8(i);t._buffers.push(l),t._availableBits+=l.availableBits()})()}}function e1(r){if(null==r||null==r.hashFn)throw new Error("please define an options.hashFn");const t={bits:r.bits??8,hash:S8(r.hashFn)};return new uu(t)}function M8(r){return qx.apply(this,arguments)}function qx(){return(qx=(0,ye.A)(function*(r){return(yield uI.encode(r)).slice(0,8).reverse()})).apply(this,arguments)}const pI=BigInt(34),mI=class $4 extends K_{_bucket;constructor(t,n){super(t,n),this._bucket=e1({hashFn:M8,bits:8})}put(t,n){var i=this;return(0,ye.A)(function*(){i.cid=void 0,i.size=void 0,i.nodeSize=void 0,yield i._bucket.put(t,n)})()}get(t){var n=this;return(0,ye.A)(function*(){return n._bucket.get(t)})()}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}eachChildSeries(){var t=this;return us(function*(){var l,n=!1,i=!1;try{for(var c,p=Ko(t._bucket.eachLeafSeries());n=!(c=yield gi(p.next())).done;n=!1){const{key:h,value:V}=c.value;yield{key:h,child:V}}}catch(h){i=!0,l=h}finally{try{n&&null!=p.return&&(yield gi(p.return()))}finally{if(i)throw l}}})()}estimateNodeSize(){return void 0!==this.nodeSize||(this.nodeSize=t1(this._bucket,this,this.options)),this.nodeSize}flush(t){var n=this;return us(function*(){var p,i=!1,l=!1;try{for(var h,c=Ko(Dl(n._bucket,t,n,n.options));i=!(h=yield gi(c.next())).done;i=!1)yield{...h.value,path:n.path}}catch(V){l=!0,p=V}finally{try{i&&null!=c.return&&(yield gi(c.return()))}finally{if(l)throw p}}})()}};function Dl(r,t,n,i){return qc.apply(this,arguments)}function qc(){return(qc=us(function*(r,t,n,i){const l=r._children,p=[];let c=0n;for(let zt=0;zt<l.length;zt++){const Xt=l.get(zt);if(null==Xt)continue;const xn=zt.toString(16).toUpperCase().padStart(2,"0");if(Xt instanceof uu){let Cn;var $,h=!1,V=!1;try{for(var q,I=Ko(Dl(Xt,t,null,i));h=!(q=yield gi(I.next())).done;h=!1)Cn=q.value}catch(Nn){V=!0,$=Nn}finally{try{h&&null!=I.return&&(yield gi(I.return()))}finally{if(V)throw $}}if(null==Cn)throw new Error("Could not flush sharded directory, no subshard found");p.push({Name:xn,Tsize:Number(Cn.size),Hash:Cn.cid}),c+=Cn.size}else if(yI(Xt.value)){const Cn=Xt.value;let Nn;var Pe,Ce=!1,Be=!1;try{for(var rt,Ke=Ko(Cn.flush(t));Ce=!(rt=yield gi(Ke.next())).done;Ce=!1)Nn=rt.value,yield Nn}catch(Pn){Be=!0,Pe=Pn}finally{try{Ce&&null!=Ke.return&&(yield gi(Ke.return()))}finally{if(Be)throw Pe}}if(null==Nn)throw new Error("Did not flush dir");p.push({Name:xn+Xt.key,Tsize:Number(Nn.size),Hash:Nn.cid}),c+=Nn.size}else{const Cn=Xt.value;if(null==Cn.cid)continue;const ir=Cn.size;p.push({Name:xn+Xt.key,Tsize:Number(ir),Hash:Cn.cid}),c+=BigInt(ir??0)}}const ht=Uint8Array.from(l.bitField().reverse()),ct=new Gu({type:"hamt-sharded-directory",data:ht,fanout:BigInt(r.tableSize()),hashType:pI,mtime:n?.mtime,mode:n?.mode}),At=np(zp({Data:ct.marshal(),Links:p})),Pt=yield gi(Gp(At,t,i)),Ct=BigInt(At.byteLength)+c;yield{cid:Pt,unixfs:ct,size:Ct}})).apply(this,arguments)}function yI(r){return"function"==typeof r.flush}function t1(r,t,n){const i=r._children,l=[];for(let V=0;V<i.length;V++){const $=i.get(V);if(null==$)continue;const I=V.toString(16).toUpperCase().padStart(2,"0");if($ instanceof uu){const q=t1($,null,n);l.push({Name:I,Tsize:Number(q),Hash:0===n.cidVersion?Fx:GD})}else if("function"==typeof $.value.flush){const Ce=$.value.nodeSize();l.push({Name:I+$.key,Tsize:Number(Ce),Hash:0===n.cidVersion?Fx:GD})}else{const q=$.value;if(null==q.cid)continue;l.push({Name:I+$.key,Tsize:Number(q.size),Hash:q.cid})}}const p=Uint8Array.from(i.bitField().reverse());return np(zp({Data:new Gu({type:"hamt-sharded-directory",data:p,fanout:BigInt(r.tableSize()),hashType:pI,mtime:t?.mtime,mode:t?.mode}).marshal(),Links:l})).length}function Qx(r,t,n,i){return n1.apply(this,arguments)}function n1(){return n1=(0,ye.A)(function*(r,t,n,i){let l=t;t instanceof jx&&t.estimateNodeSize()>n&&(l=yield function A8(r,t){return r1.apply(this,arguments)}(t,i));const p=l.parent;if(null!=p){if(l!==t){if(null!=r&&(r.parent=l),null==l.parentKey)throw new Error("No parent key found");yield p.put(l.parentKey,l)}return Qx(l,p,n,i)}return l}),n1.apply(this,arguments)}function r1(){return(r1=(0,ye.A)(function*(r,t){const n=new mI({root:r.root,dir:!0,parent:r.parent,parentKey:r.parentKey,path:r.path,dirty:r.dirty,flat:!1,mtime:r.mtime,mode:r.mode},t);var p,i=!1,l=!1;try{for(var h,c=Ko(r.eachChildSeries());i=!(h=yield c.next()).done;i=!1){const{key:V,child:$}=h.value;yield n.put(V,$)}}catch(V){l=!0,p=V}finally{try{i&&null!=c.return&&(yield c.return())}finally{if(l)throw p}}return n})).apply(this,arguments)}const T8=(r="")=>(r.trim().match(/([^\\/]|\\\/)+/g)??[]).filter(Boolean);function D8(r,t,n){return Zy.apply(this,arguments)}function Zy(){return(Zy=(0,ye.A)(function*(r,t,n){const i=T8(r.path??""),l=i.length-1;let p=t,c="";for(let h=0;h<i.length;h++){const V=i[h];c+=`${""!==c?"/":""}${V}`;const $=h===l;if(p.dirty=!0,p.cid=void 0,p.size=void 0,$)yield p.put(V,r),t=yield Qx(null,p,n.shardSplitThresholdBytes,n);else{let I=yield p.get(V);(null==I||!(I instanceof K_))&&(I=new jx({root:!1,dir:!0,parent:p,parentKey:V,path:c,dirty:!0,flat:!0,mtime:I?.unixfs?.mtime,mode:I?.unixfs?.mode},n)),yield p.put(V,I),p=I}}return t})).apply(this,arguments)}function o1(r,t){return bh.apply(this,arguments)}function bh(){return(bh=us(function*(r,t){r instanceof K_?yield*Xu(Ko(r.flush(t))):!0===r.unixfs?.isDirectory()&&(yield r)})).apply(this,arguments)}function Yy(r,t){return u0.apply(this,arguments)}function u0(){return u0=us(function*(r,t,n={}){let i;i=Symbol.asyncIterator in r||Symbol.iterator in r?r:[r];const l=n.wrapWithDirectory??!1,p=n.shardSplitThresholdBytes??262144,c=n.cidVersion??1,h=n.rawLeaves??!0,V=n.leafType??"file",$=n.fileImportConcurrency??50,I=n.blockWriteConcurrency??10,q=n.reduceSingleLeafToSelf??!0,Ce=n.chunker??Sk(),Be=n.chunkValidator??X5(),Pe=n.dagBuilder??function k_(r){return function(){var t=us(function*(i,l){var h,p=!1,c=!1;try{for(var $,V=Ko(i);p=!($=yield gi(V.next())).done;p=!1){const I=$.value;{let q;if(null!=I.path&&(q=I.path,I.path=I.path.split("/").filter(Ce=>null!=Ce&&"."!==Ce).join("/")),ux(I)){const Ce={path:I.path,mtime:I.mtime,mode:I.mode,content:us(function*(){let Be=0n;var rt,Pe=!1,Ke=!1;try{for(var ct,ht=Ko(r.chunker(r.chunkValidator(Vv(I.content))));Pe=!(ct=yield gi(ht.next())).done;Pe=!1){const dt=ct.value;{const At=BigInt(dt.byteLength);Be+=At,r.onProgress?.(new Sl("unixfs:importer:progress:file:read",{bytesRead:Be,chunkSize:At,path:I.path})),yield dt}}}catch(dt){Ke=!0,rt=dt}finally{try{Pe&&null!=ht.return&&(yield gi(ht.return()))}finally{if(Ke)throw rt}}})(),originalPath:q};yield(0,ye.A)(function*(){return d5(Ce,l,r)})}else{if(null==I.path)throw new Error("Import candidate must have content or path or both");{const Ce={path:I.path,mtime:I.mtime,mode:I.mode,originalPath:q};yield(0,ye.A)(function*(){return C_(Ce,l,r)})}}}}}catch(I){c=!0,h=I}finally{try{p&&null!=V.return&&(yield gi(V.return()))}finally{if(c)throw h}}});return function n(i,l){return t.apply(this,arguments)}}()}({chunker:Ce,chunkValidator:Be,wrapWithDirectory:l,layout:n.layout??Ux(),bufferImporter:n.bufferImporter??_D({cidVersion:c,rawLeaves:h,leafType:V,onProgress:n.onProgress}),blockWriteConcurrency:I,reduceSingleLeafToSelf:q,cidVersion:c,onProgress:n.onProgress}),Ke=n.treeBuilder??function s1(r){return function(){var t=us(function*(i,l){let c,p=new jx({root:!0,dir:!0,path:"",dirty:!0,flat:!0},r),h=!1;var I,V=!1,$=!1;try{for(var Ce,q=Ko(i);V=!(Ce=yield gi(q.next())).done;V=!1){const ct=Ce.value;{if(null==ct)continue;const dt=`${ct.originalPath??""}`.split("/")[0];null!=dt&&""!==dt&&(null==c?(c=dt,h=!0):c!==dt&&(h=!1)),p=yield gi(D8(ct,p,r)),(null==ct.unixfs||!ct.unixfs.isDirectory())&&(yield ct)}}}catch(ct){$=!0,I=ct}finally{try{V&&null!=q.return&&(yield gi(q.return()))}finally{if($)throw I}}if(r.wrapWithDirectory||h&&p.childCount()>1)yield*Xu(Ko(o1(p,l)));else{var Ke,Be=!1,Pe=!1;try{for(var ht,rt=Ko(p.eachChildSeries());Be=!(ht=yield gi(rt.next())).done;Be=!1){const ct=ht.value;null!=ct&&(yield*Xu(Ko(o1(ct.child,l))))}}catch(ct){Pe=!0,Ke=ct}finally{try{Be&&null!=rt.return&&(yield gi(rt.return()))}finally{if(Pe)throw Ke}}}});return function n(i,l){return t.apply(this,arguments)}}()}({wrapWithDirectory:l,shardSplitThresholdBytes:p,cidVersion:c,onProgress:n.onProgress});var ct,rt=!1,ht=!1;try{for(var At,dt=Ko(Ke(I2(Pe(i,t),$),t));rt=!(At=yield gi(dt.next())).done;rt=!1){const Pt=At.value;yield{cid:Pt.cid,path:Pt.path,unixfs:Pt.unixfs,size:Pt.size}}}catch(Pt){ht=!0,ct=Pt}finally{try{rt&&null!=dt.return&&(yield gi(dt.return()))}finally{if(ht)throw ct}}}),u0.apply(this,arguments)}var c1=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},tS=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(p){n[p]=r[p]&&function(c){return new Promise(function(h,V){!function l(p,c,h,V){Promise.resolve(V).then(function($){p({value:$,done:h})},c)}(h,V,(c=r[p](c)).done,c.value)})}}};const bI={[ue.code]:ue},qy={[Iy]:J};class Qc{static computeCid(t,n=Iy,i=ue.code){return c1(this,void 0,void 0,function*(){const l=qy[n];if(!l)throw new ce(_e.ComputeCidCodecNotSupported,`codec [${n}] not supported`);const p=bI[i];if(!p)throw new ce(_e.ComputeCidMultihashNotSupported,`multihash code [${i}] not supported`);const c=l.encode(t),h=yield p.digest(c);return(yield Bf.TO.createV1(l.code,h)).toString()})}static parseCid(t){const n=Bf.TO.parse(t).toV1();if(!qy[n.code])throw new ce(_e.ParseCidCodecNotSupported,`codec [${n.code}] not supported`);if(!bI[n.multihash.code])throw new ce(_e.ParseCidMultihashNotSupported,`multihash code [${n.multihash.code}] not supported`);return n}static computeDagPbCidFromBytes(t){var n,i,l;return c1(this,void 0,void 0,function*(){const c=Yy([{content:t}],new T2,{cidVersion:1});let h;try{for(var I,V=!0,$=tS(c);I=yield $.next(),!(n=I.done);V=!0)V=!1,h=I.value}catch(q){i={error:q}}finally{try{!V&&!n&&(l=$.return)&&(yield l.call($))}finally{if(i)throw i.error}}return h?h.cid.toString():""})}static computeDagPbCidFromStream(t){var n,i,l;return c1(this,void 0,void 0,function*(){const c=Yy([{content:t}],new T2,{cidVersion:1});let h;try{for(var I,V=!0,$=tS(c);I=yield $.next(),!(n=I.done);V=!0)V=!1,h=I.value}catch(q){i={error:q}}finally{try{!V&&!n&&(l=$.return)&&(yield l.call($))}finally{if(i)throw i.error}}return h?h.cid.toString():""})}}var wI=w(91426),nb=w(63397),rb=w(65797),l1=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};nb.VV.isEphemeralKeyCompressed=!0;class ib{static aes256CtrEncrypt(t,n,i){return l1(this,void 0,void 0,function*(){const l=wI.createCipheriv("aes-256-ctr",t,n),p=new rb.Readable({read(){}});return i.on("data",c=>{const h=l.update(c);p.push(h)}),i.on("end",()=>{const c=l.final();p.push(c),p.push(null)}),i.on("error",c=>{p.emit("error",c)}),p})}static aes256CtrDecrypt(t,n,i){return l1(this,void 0,void 0,function*(){const l=wI.createDecipheriv("aes-256-ctr",t,n),p=new rb.Readable({read(){}});return i.on("data",c=>{const h=l.update(c);p.push(h)}),i.on("end",()=>{const c=l.final();p.push(c),p.push(null)}),i.on("error",c=>{p.emit("error",c)}),p})}static eciesSecp256k1Encrypt(t,n){return l1(this,void 0,void 0,function*(){const i=Buffer.from(t),l=Buffer.from(n),p=nb.w(i,l);let c=0,h=ib.isEphemeralKeyCompressed?33:65;const V=p.subarray(c,h);c=h,h+=nb.VV.symmetricNonceLength;const $=p.subarray(c,h);c=h,h+=16;const I=p.subarray(c,h);return{ciphertext:p.subarray(h),ephemeralPublicKey:V,initializationVector:$,messageAuthenticationCode:I}})}static eciesSecp256k1Decrypt(t){return l1(this,void 0,void 0,function*(){const n=Buffer.from(t.privateKey),i=Buffer.concat([t.ephemeralPublicKey,t.initializationVector,t.messageAuthenticationCode,t.ciphertext]);return nb.Yc(n,i)})}static get isEphemeralKeyCompressed(){return nb.VV.isEphemeralKeyCompressed}}var nS=function(r){return r.Aes256Ctr="A256CTR",r.EciesSecp256k1="ECIES-ES256K",r}(nS||{}),_I=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class qp{constructor(t){this.jws=t}static create(t,n=[]){return _I(this,void 0,void 0,function*(){const i={payload:K.bytesToBase64Url(t),signatures:[]},l=new qp(i);for(const p of n)yield l.addSignature(p);return l})}addSignature(t){return _I(this,void 0,void 0,function*(){const i=JSON.stringify({kid:t.keyId,alg:t.algorithm}),l=K.stringToBase64Url(i),c=K.stringToBytes(`${l}.${this.jws.payload}`),h=yield t.sign(c),V=K.bytesToBase64Url(h);this.jws.signatures.push({protected:l,signature:V})})}getJws(){return this.jws}}const p0="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;var ob=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},Kd=function(r){return r.DataFormats="dataFormats",r.ProtocolContext="protocolContext",r.ProtocolPath="protocolPath",r.Schemas="schemas",r}(Kd||{});class m0{static derivePrivateKey(t,n){var i;return ob(this,void 0,void 0,function*(){const l=Ee.privateJwkToBytes(t.derivedPrivateKey),p=null!==(i=t.derivationPath)&&void 0!==i?i:[],c=yield m0.derivePrivateKeyBytes(l,n),h=yield Ee.privateKeyToJwk(c);return{rootKeyId:t.rootKeyId,derivationScheme:t.derivationScheme,derivationPath:[...p,...n],derivedPrivateKey:h}})}static derivePublicKey(t,n){return ob(this,void 0,void 0,function*(){const i=yield m0.derivePrivateKey(t,n);return yield Ee.getPublicJwk(i.derivedPrivateKey)})}static derivePrivateKeyBytes(t,n){return ob(this,void 0,void 0,function*(){m0.validateKeyDerivationPath(n);let i=t;for(const l of n){const p=K.stringToBytes(l);i=yield m0.deriveKeyUsingHkdf({hashAlgorithm:"SHA-256",initialKeyMaterial:i,info:p,keyLengthInBytes:32})}return i})}static deriveKeyUsingHkdf(t){return ob(this,void 0,void 0,function*(){const{hashAlgorithm:n,initialKeyMaterial:i,info:l,keyLengthInBytes:p}=t,h=yield function EI(){if(p0&&"object"==typeof p0.subtle&&null!=p0.subtle)return p0.subtle;throw new Error("crypto.subtle must be defined")}().importKey("raw",i,{name:"HKDF"},!1,["deriveBits"]),V=yield crypto.subtle.deriveBits({name:"HKDF",hash:n,salt:new Uint8Array(0),info:l},h,8*p);return new Uint8Array(V)})}static validateKeyDerivationPath(t){if(t.includes(""))throw new ce(_e.HdKeyDerivationPathInvalid,`Invalid key derivation path: ${t}`)}}function rS(r,t){return r>t?1:r<t?-1:0}function sb(r){if("object"!=typeof r)return!1;for(const t in r)return!1;return!0}function xd(r){Object.keys(r).forEach(t=>{void 0===r[t]?delete r[t]:"object"==typeof r[t]&&xd(r[t])})}var Nf=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Hr{static validateJsonSchema(t){my(t.descriptor.interface+t.descriptor.method,t)}static getSigner(t){return void 0===t.authorization?void 0:Cr.getSignerDid(t.authorization.signature.signatures[0])}static getCid(t){return Nf(this,void 0,void 0,function*(){const n=Object.assign({},t);return n.encodedData&&delete n.encodedData,yield Qc.computeCid(n)})}static compareCid(t,n){return Nf(this,void 0,void 0,function*(){return rS(yield Hr.getCid(t),yield Hr.getCid(n))})}static createAuthorization(t){return Nf(this,void 0,void 0,function*(){const{descriptor:n,signer:i,delegatedGrant:l,permissionGrantId:p,protocolRole:c}=t;let h;void 0!==l&&(h=yield Hr.getCid(l));const $={signature:yield Hr.createSignature(n,i,{delegatedGrantId:h,permissionGrantId:p,protocolRole:c})};return void 0!==l&&($.authorDelegatedGrant=l),$})}static createSignature(t,n,i){return Nf(this,void 0,void 0,function*(){const l=yield Qc.computeCid(t),p=Object.assign({descriptorCid:l},i);xd(p);const c=K.objectToBytes(p);return(yield qp.create(c,[n])).getJws()})}static getNewestMessage(t){return Nf(this,void 0,void 0,function*(){let n;for(const i of t)(void 0===n||(yield Hr.isNewer(i,n)))&&(n=i);return n})}static getOldestMessage(t){return Nf(this,void 0,void 0,function*(){let n;for(const i of t)(void 0===n||(yield Hr.isOlder(i,n)))&&(n=i);return n})}static isNewer(t,n){return Nf(this,void 0,void 0,function*(){return(yield Hr.compareMessageTimestamp(t,n))>0})}static isOlder(t,n){return Nf(this,void 0,void 0,function*(){return(yield Hr.compareMessageTimestamp(t,n))<0})}static isSignedByAuthorDelegate(t){var n;return void 0!==(null===(n=t.authorization)||void 0===n?void 0:n.authorDelegatedGrant)}static isSignedByOwnerDelegate(t){var n;return void 0!==(null===(n=t.authorization)||void 0===n?void 0:n.ownerDelegatedGrant)}static compareMessageTimestamp(t,n){return Nf(this,void 0,void 0,function*(){return t.descriptor.messageTimestamp>n.descriptor.messageTimestamp?1:t.descriptor.messageTimestamp<n.descriptor.messageTimestamp?-1:Hr.compareCid(t,n)})}static validateSignatureStructure(t,n,i="GenericSignaturePayload"){return Nf(this,void 0,void 0,function*(){if(1!==t.signatures.length)throw new ce(_e.AuthenticationMoreThanOneSignatureNotSupported,"expected no more than 1 signature for authorization purpose");const l=Cr.decodePlainObjectPayload(t);my(i,l);const{descriptorCid:p}=l,c=yield Qc.computeCid(n);if(p!==c)throw new ce(_e.AuthenticateDescriptorCidMismatch,`provided descriptorCid ${p} does not match expected CID ${c}`);return l})}}class Zu{static parse(t){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return new Zu(t)})}constructor(t){this.id=t.recordId,this.grantor=Hr.getSigner(t),this.grantee=t.descriptor.recipient,this.dateGranted=t.descriptor.dateCreated;const i=K.base64UrlToObject(t.encodedData);this.dateExpires=i.dateExpires,this.delegated=i.delegated,this.description=i.description,this.requestId=i.requestId,this.scope=i.scope,this.conditions=i.conditions}}var Gl=function(r){return r.CreatedAscending="createdAscending",r.CreatedDescending="createdDescending",r.PublishedAscending="publishedAscending",r.PublishedDescending="publishedDescending",r}(Gl||{});class Il{static matchAnyFilter(t,n){if(0===n.length)return!0;for(const i of n)if(this.matchFilter(t,i))return!0;return!1}static matchFilter(t,n){for(const i in n){const l=n[i],p=t[i];if(void 0===p||!(Array.isArray(p)?this.matchAnyIndexValue(l,p):this.matchIndexValue(l,p)))return!1}return!0}static matchAnyIndexValue(t,n){for(const i of n)if(this.matchIndexValue(t,i))return!0;return!1}static matchIndexValue(t,n){if("object"==typeof t){if(Array.isArray(t)){if(this.matchOneOf(t,n))return!0}else if(this.matchRange(t,n))return!0}else if(n===t)return!0;return!1}static matchOneOf(t,n){for(const i of t)if(n===i)return!0;return!1}static matchRange(t,n){return!(void 0!==t.lt&&n>=t.lt||void 0!==t.lte&&n>t.lte||void 0!==t.gt&&n<=t.gt||void 0!==t.gte&&n<t.gte)}static isEqualFilter(t){return"object"!=typeof t}static isRangeFilter(t){return"object"==typeof t&&!Array.isArray(t)&&("gt"in t||"lt"in t||"lte"in t||"gte"in t)}static isOneOfFilter(t){return!("object"!=typeof t||!Array.isArray(t))}static convertRangeCriterion(t){let n;return void 0!==t.to&&void 0!==t.from?n={gte:t.from,lt:t.to}:void 0!==t.to?n={lt:t.to}:void 0!==t.from&&(n={gte:t.from}),n}static constructPrefixFilterAsRangeFilter(t){return{gte:t,lt:t+"\uffff"}}}class sS{static reduceFilter(t){if(Object.keys(t).length<=1)return t;const{recordId:i,attester:l,parentId:p,recipient:c,contextId:h,protocolPath:$,schema:I,protocol:q}=t,Ce=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["recordId","attester","parentId","recipient","contextId","author","protocolPath","schema","protocol"]);if(void 0!==i)return{recordId:i};if(void 0!==l)return{attester:l};if(void 0!==p)return{parentId:p};if(void 0!==c)return{recipient:c};if(void 0!==h)return{contextId:h};if(void 0!==$)return{protocolPath:$};if(void 0!==I)return{schema:I};if(void 0!==q)return{protocol:q};const Pe=Object.keys(Ce)[0],Ke={};return Ke[Pe]=t[Pe],Ke}}var $i=function(r){return r.Messages="Messages",r.Protocols="Protocols",r.Records="Records",r}($i||{}),vi=function(r){return r.Configure="Configure",r.Query="Query",r.Read="Read",r.Write="Write",r.Delete="Delete",r.Subscribe="Subscribe",r}(vi||{});function Qp(r){let t;try{t=em(r)}catch{t=void 0}if(r!==t)throw new ce(_e.UrlProtocolNotNormalized,`Protocol URI ${r} must be normalized.`)}function em(r){return u1(r)}function d1(r){let t;try{t=ab(r)}catch{t=void 0}if(r!==t)throw new ce(_e.UrlSchemaNotNormalized,`Schema URI ${r} must be normalized.`)}function ab(r){return u1(r)}function u1(r){let t;t=/^[^:]+:(\/{2})?[^\/].*/.test(r)?r:`http://${r}`;try{const n=new URL(t);return n.search="",n.hash="",function aS(r){return r.endsWith("/")?r.slice(0,-1):r}(n.href)}catch{throw new ce(_e.UrlProtocolNotNormalizable,"Could not normalize protocol URI")}}var f1=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class vo{static isRecordsWrite(t){return t.descriptor.interface===$i.Records&&t.descriptor.method===vi.Write}static getAuthor(t){let n;return n=Hr.getSigner(void 0!==t.authorization.authorDelegatedGrant?t.authorization.authorDelegatedGrant:t),n}static decrypt(t,n,i){return f1(this,void 0,void 0,function*(){const{encryption:l}=t,p=l.keyEncryption.find(Ke=>Ke.rootKeyId===n.rootKeyId&&Ke.derivationScheme===n.derivationScheme);if(void 0===p)throw new ce(_e.RecordsDecryptNoMatchingKeyEncryptedFound,`Unable to find a symmetric key encrypted using key         with ID '${n.rootKeyId}' and '${n.derivationScheme}' derivation scheme.`);const c=vo.constructKeyDerivationPath(p.derivationScheme,t),h=yield vo.derivePrivateKey(n,c),V=K.base64UrlToBytes(p.encryptedKey),$=Ee.publicJwkToBytes(p.ephemeralPublicKey),I=K.base64UrlToBytes(p.initializationVector),q=K.base64UrlToBytes(p.messageAuthenticationCode),Ce=yield ib.eciesSecp256k1Decrypt({ciphertext:V,ephemeralPublicKey:$,initializationVector:I,messageAuthenticationCode:q,privateKey:h}),Be=K.base64UrlToBytes(l.initializationVector);return yield ib.aes256CtrDecrypt(Ce,Be,i)})}static constructKeyDerivationPath(t,n){const i=n.descriptor,l=n.contextId;let p;return p=t===Kd.DataFormats?vo.constructKeyDerivationPathUsingDataFormatsScheme(i.schema,i.dataFormat):t===Kd.ProtocolPath?vo.constructKeyDerivationPathUsingProtocolPathScheme(i):t===Kd.ProtocolContext?vo.constructKeyDerivationPathUsingProtocolContextScheme(l):vo.constructKeyDerivationPathUsingSchemasScheme(i.schema),p}static constructKeyDerivationPathUsingDataFormatsScheme(t,n){return void 0!==t?[Kd.DataFormats,t,n]:[Kd.DataFormats,n]}static constructKeyDerivationPathUsingProtocolPathScheme(t){if(void 0===t.protocol)throw new ce(_e.RecordsProtocolPathDerivationSchemeMissingProtocol,"Unable to construct key derivation path using `protocols` scheme because `protocol` is missing.");const n=t.protocolPath.split("/");return[Kd.ProtocolPath,t.protocol,...n]}static constructKeyDerivationPathUsingProtocolContextScheme(t){if(void 0===t)throw new ce(_e.RecordsProtocolContextDerivationSchemeMissingContextId,"Unable to construct key derivation path using `protocolContext` scheme because `contextId` is missing.");const n=t.split("/")[0];return[Kd.ProtocolContext,n]}static constructKeyDerivationPathUsingSchemasScheme(t){if(void 0===t)throw new ce(_e.RecordsSchemasDerivationSchemeMissingSchema,"Unable to construct key derivation path using `schemas` scheme because `schema` is missing.");return[Kd.Schemas,t]}static derivePrivateKey(t,n){var i;return f1(this,void 0,void 0,function*(){if("secp256k1"!==t.derivedPrivateKey.crv)throw new ce(_e.RecordsDerivePrivateKeyUnSupportedCurve,`Curve ${t.derivedPrivateKey.crv} is not supported.`);const l=null!==(i=t.derivationPath)&&void 0!==i?i:[];vo.validateAncestorKeyAndDescentKeyDerivationPathsMatch(l,n);const p=n.slice(l.length),c=Ee.privateJwkToBytes(t.derivedPrivateKey);return yield m0.derivePrivateKeyBytes(c,p)})}static validateAncestorKeyAndDescentKeyDerivationPathsMatch(t,n){for(let i=0;i<t.length;i++){const l=t[i],p=n[i];if(l!==p)throw new ce(_e.RecordsInvalidAncestorKeyDerivationSegment,`Ancestor key derivation segment '${l}' mismatches against the descendant key derivation segment '${p}'.`)}}static getParentContextFromOfContextId(t){if(void 0===t)return;const n=t.lastIndexOf("/");return-1===n?"":t.substring(0,n)}static normalizeFilter(t){let n,i;n=void 0===t.protocol?void 0:em(t.protocol),i=void 0===t.schema?void 0:ab(t.schema);const l=Object.assign(Object.assign({},t),{protocol:n,schema:i});return xd(l),l}static isStartsWithFilter(t){return"object"==typeof t&&"startsWith"in t&&"string"==typeof t.startsWith}static buildTagIndexes(t){const n={};for(const i in t)n[`tag.${i}`]=t[i];return n}static convertTagsFilter(t){const n={};for(const i in t){const l=t[i];n[`tag.${i}`]=this.isStartsWithFilter(l)?Il.constructPrefixFilterAsRangeFilter(l.startsWith):l}return n}static convertFilter(t,n){const{tags:i}=t,l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["tags"]);let p={};void 0!==i&&(p=Object.assign({},this.convertTagsFilter(i)));const c=Object.assign(Object.assign({},l),p),{dateCreated:h,datePublished:V,dateUpdated:$,contextId:I}=t,q=h?Il.convertRangeCriterion(h):void 0;q&&(c.dateCreated=q);const Ce=V?Il.convertRangeCriterion(V):void 0;Ce&&(c.published=!0,c.datePublished=Ce),!0!==c.published&&(n===Gl.PublishedAscending||n===Gl.PublishedDescending)&&(c.published=!0);const Be=$?Il.convertRangeCriterion($):void 0;Be&&(c.messageTimestamp=Be,delete c.dateUpdated);const Pe=I?Il.constructPrefixFilterAsRangeFilter(I):void 0;return Pe&&(c.contextId=Pe),c}static validateDelegatedGrantReferentialIntegrity(t,n,i){var l,p;return f1(this,void 0,void 0,function*(){const c=void 0!==n?.delegatedGrantId,h=void 0!==(null===(l=t.authorization)||void 0===l?void 0:l.authorDelegatedGrant);if(c!==h)throw new ce(_e.RecordsAuthorDelegatedGrantAndIdExistenceMismatch,`delegatedGrantId in message (author) signature and authorDelegatedGrant must both exist or be undefined.          delegatedGrantId in message (author) signature defined: ${c},          authorDelegatedGrant defined: ${h}`);if(h){const I=t.authorization.authorDelegatedGrant;if(!0!==(yield Zu.parse(I)).delegated)throw new ce(_e.RecordsAuthorDelegatedGrantNotADelegatedGrant,"The owner delegated grant given is not a delegated grant.");const Ce=I.descriptor.recipient,Be=Hr.getSigner(t);if(Ce!==Be)throw new ce(_e.RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch,`grantedTo ${Ce} in author delegated grant must be the same as the signer ${Be} of the message signature.`);const Pe=yield Hr.getCid(I);if(Pe!==n.delegatedGrantId)throw new ce(_e.RecordsAuthorDelegatedGrantCidMismatch,`CID of the author delegated grant ${Pe} must be the same as           the delegatedGrantId ${n.delegatedGrantId} in the message signature.`)}const V=void 0!==i?.delegatedGrantId,$=void 0!==(null===(p=t.authorization)||void 0===p?void 0:p.ownerDelegatedGrant);if(V!==$)throw new ce(_e.RecordsOwnerDelegatedGrantAndIdExistenceMismatch,`delegatedGrantId in owner signature and ownerDelegatedGrant must both exist or be undefined.          delegatedGrantId in owner signature defined: ${V},          ownerDelegatedGrant defined: ${$}`);if($){const I=t.authorization.ownerDelegatedGrant;if(!0!==(yield Zu.parse(I)).delegated)throw new ce(_e.RecordsOwnerDelegatedGrantNotADelegatedGrant,"The owner delegated grant given is not a delegated grant.");const Ce=I.descriptor.recipient,Be=Cr.getSignerDid(t.authorization.ownerSignature.signatures[0]);if(Ce!==Be)throw new ce(_e.RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch,`grantedTo ${Ce} in owner delegated grant must be the same as the signer ${Be} of the owner signature.`);const Pe=yield Hr.getCid(I);if(Pe!==i.delegatedGrantId)throw new ce(_e.RecordsOwnerDelegatedGrantCidMismatch,`CID of the owner delegated grant ${Pe} must be the same as           the delegatedGrantId ${i.delegatedGrantId} in the owner signature.`)}})}static shouldProtocolAuthorize(t){return void 0!==t.protocolRole}static filterIncludesPublishedRecords(t){return void 0!==t.datePublished||!1!==t.published}static filterIncludesUnpublishedRecords(t){return void 0===t.datePublished&&void 0===t.published||!1===t.published}}var cS=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Yu{static performBaseValidation(t){return cS(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:i,expectedGrantee:l,permissionGrant:p,messageStore:c}=t,h=n.descriptor;Yu.verifyExpectedGrantorAndGrantee(i,l,p);const V=i;yield Yu.verifyGrantActive(V,h.messageTimestamp,p,c),yield Yu.verifyGrantScopeInterfaceAndMethod(h.interface,h.method,p)})}static verifyExpectedGrantorAndGrantee(t,n,i){const l=i.grantee;if(n!==l)throw new ce(_e.GrantAuthorizationNotGrantedToAuthor,`Permission grant is granted to ${l}, but need to be granted to ${n}`);const p=i.grantor;if(t!==p)throw new ce(_e.GrantAuthorizationNotGrantedForTenant,`Permission grant is granted by ${p}, but need to be granted by ${t}`)}static verifyGrantActive(t,n,i,l){return cS(this,void 0,void 0,function*(){if(n<i.dateGranted)throw new ce(_e.GrantAuthorizationGrantNotYetActive,"The message has a timestamp before the associated permission grant becomes active");if(n>=i.dateExpires)throw new ce(_e.GrantAuthorizationGrantExpired,"The message has timestamp after the expiry of the associated permission grant");const p={parentId:i.id,protocolPath:"grant/revocation",isLatestBaseState:!0},{messages:c}=yield l.query(t,[p]),h=yield Hr.getOldestMessage(c);if(void 0!==h&&h.descriptor.messageTimestamp<=n)throw new ce(_e.GrantAuthorizationGrantRevoked,`Permission grant with CID ${i.id} has been revoked`)})}static verifyGrantScopeInterfaceAndMethod(t,n,i){return cS(this,void 0,void 0,function*(){if(t!==i.scope.interface)throw new ce(_e.GrantAuthorizationInterfaceMismatch,`DWN Interface of incoming message is outside the scope of permission grant with ID ${i.id}`);if(n!==i.scope.method)throw new ce(_e.GrantAuthorizationMethodMismatch,`DWN Method of incoming message is outside the scope of permission grant with ID ${i.id}`)})}}var lS=function(r){return r.Required="Required",r.Prohibited="Prohibited",r}(lS||{}),Qy=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class fu{static authorizeWrite(t){return Qy(this,void 0,void 0,function*(){const{recordsWriteMessage:n,expectedGrantor:i,expectedGrantee:l,permissionGrant:p,messageStore:c}=t;yield Yu.performBaseValidation({incomingMessage:n,expectedGrantor:i,expectedGrantee:l,permissionGrant:p,messageStore:c}),fu.verifyScope(n,p.scope),fu.verifyConditions(n,p.conditions)})}static authorizeRead(t){return Qy(this,void 0,void 0,function*(){const{recordsReadMessage:n,recordsWriteMessageToBeRead:i,expectedGrantor:l,expectedGrantee:p,permissionGrant:c,messageStore:h}=t;yield Yu.performBaseValidation({incomingMessage:n,expectedGrantor:l,expectedGrantee:p,permissionGrant:c,messageStore:h}),fu.verifyScope(i,c.scope)})}static authorizeQueryOrSubscribe(t){return Qy(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:i,expectedGrantee:l,permissionGrant:p,messageStore:c}=t;yield Yu.performBaseValidation({incomingMessage:n,expectedGrantor:i,expectedGrantee:l,permissionGrant:p,messageStore:c});const V=p.scope.protocol,$=n.descriptor.filter.protocol;if(void 0!==V&&$!==V)throw new ce(_e.RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch,`Grant protocol scope ${V} does not match protocol in message ${$}`)})}static authorizeDelete(t){return Qy(this,void 0,void 0,function*(){const{recordsDeleteMessage:n,recordsWriteToDelete:i,expectedGrantor:l,expectedGrantee:p,permissionGrant:c,messageStore:h}=t;yield Yu.performBaseValidation({incomingMessage:n,expectedGrantor:l,expectedGrantee:p,permissionGrant:c,messageStore:h});const $=c.scope.protocol,I=i.descriptor.protocol;if(void 0!==$&&I!==$)throw new ce(_e.RecordsGrantAuthorizationDeleteProtocolScopeMismatch,`Grant protocol scope ${$} does not match protocol in record to delete ${I}`)})}static verifyScope(t,n){if(n.protocol!==t.descriptor.protocol)throw new ce(_e.RecordsGrantAuthorizationScopeProtocolMismatch,"Grant scope specifies different protocol than what appears in the record");if(void 0!==n.contextId&&(void 0===t.contextId||!t.contextId.startsWith(n.contextId)))throw new ce(_e.RecordsGrantAuthorizationScopeContextIdMismatch,"Grant scope specifies different contextId than what appears in the record");if(void 0!==n.protocolPath&&n.protocolPath!==t.descriptor.protocolPath)throw new ce(_e.RecordsGrantAuthorizationScopeProtocolPathMismatch,"Grant scope specifies different protocolPath than what appears in the record")}static verifyConditions(t,n){if(n?.publication===lS.Required&&!t.descriptor.published)throw new ce(_e.RecordsGrantAuthorizationConditionPublicationRequired,"Permission grant requires message to be published");if(n?.publication===lS.Prohibited&&t.descriptor.published)throw new ce(_e.RecordsGrantAuthorizationConditionPublicationProhibited,"Permission grant prohibits message from being published")}}var kt=w(89994);const SI={};function op(r,t){Object.defineProperty(r.prototype,Symbol.toStringTag,{value:t,writable:!1,enumerable:!1,configurable:!0});for(const n of Object.getOwnPropertyNames(r)){const i=Object.getOwnPropertyDescriptor(r,n);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(r,n,i))}for(const n of Object.getOwnPropertyNames(r.prototype)){const i=Object.getOwnPropertyDescriptor(r.prototype,n);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(r.prototype,n,i))}Ks(t,r),Ks(`${t}.prototype`,r.prototype)}function Ks(r,t){const n=`%${r}%`;if(void 0!==SI[n])throw new Error(`intrinsic ${r} already exists`);SI[n]=t}function Ur(r){return SI[r]}var dS,h1;const xi="slot-epochNanoSeconds",Lf="slot-timezone-identifier",Yr="slot-year",Qr="slot-month",ni="slot-day",no="slot-hour",so="slot-minute",ao="slot-second",po="slot-millisecond",ro="slot-microsecond",co="slot-nanosecond",Qn="slot-calendar",C8="slot-date-brand",uS="slot-year-month-brand",fS="slot-month-day-brand",Pc="slot-cached-instant",as="slot-time-zone",Cl="slot-years",Bc="slot-months",Sd="slot-weeks",Xl="slot-days",Zl="slot-hours",Yl="slot-minutes",Jl="slot-seconds",kl="slot-milliseconds",Ya="slot-microseconds",cc="slot-nanoseconds",ta="slot-calendar-identifier",k8=new WeakMap,p1=Symbol.for("@@Temporal__GetSlots");(dS=globalThis)[p1]||(dS[p1]=function(t){return k8.get(t)});const hS=globalThis[p1],MI=Symbol.for("@@Temporal__CreateSlots");(h1=globalThis)[MI]||(h1[MI]=function(t){k8.set(t,Object.create(null))});const wh=globalThis[MI];function lc(r,...t){if(!r||"object"!=typeof r)return!1;const n=hS(r);return!!n&&t.every(i=>i in n)}function He(r,t){const n=hS(r)?.[t];if(void 0===n)throw new TypeError(`Missing internal slot ${t}`);return n}function io(r,t,n){const i=hS(r);if(void 0===i)throw new TypeError("Missing slots for the given container");if(i[t])throw new TypeError(`${t} already has set`);i[t]=n}const pS=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,cb=new RegExp("(?:"+[`(?:${pS.source})(?:\\/(?:${pS.source}))*`,"Etc/GMT(?:0|[-+]\\d{1,2})","GMT[-+]?0","EST5EDT","CST6CDT","MST7MDT","PST8PDT",/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source].join("|")+")"),mS=/(?:[+\u2212-]\d{6}|\d{4})/,yS=/(?:0[1-9]|1[0-2])/,m1=/(?:0[1-9]|[12]\d|3[01])/,V4=new RegExp(`(${mS.source})(?:-(${yS.source})-(${m1.source})|(${yS.source})(${m1.source}))`),AI=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,gS=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,y1=new RegExp(`([zZ])|${gS.source}?`),tm=/\[(!)?([a-z_][a-z0-9_-]*)=([A-Za-z0-9]+(?:-[A-Za-z0-9]+)*)\]/g,R8=new RegExp([`^${V4.source}`,`(?:(?:T|\\s+)${AI.source}(?:${y1.source})?)?`,`(?:\\[!?(${cb.source})\\])?`,`((?:${tm.source})*)$`].join(""),"i"),g1=new RegExp([`^T?${AI.source}`,`(?:${y1.source})?`,`(?:\\[!?${cb.source}\\])?`,`((?:${tm.source})*)$`].join(""),"i"),O8=new RegExp(`^(${mS.source})-?(${yS.source})(?:\\[!?${cb.source}\\])?((?:${tm.source})*)$`),P8=new RegExp(`^(?:--)?(${yS.source})-?(${m1.source})(?:\\[!?${cb.source}\\])?((?:${tm.source})*)$`),vS=/(\d+)(?:[.,](\d{1,9}))?/,B8=new RegExp(`(?:${vS.source}H)?(?:${vS.source}M)?(?:${vS.source}S)?`),N8=new RegExp(`^([+\u2212-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${B8.source})?$`,"i"),L8=Array.prototype.includes,bS=Array.prototype.push,wS=globalThis.Intl.DateTimeFormat,TI=Math.min,U8=Math.max,Vs=Math.abs,ql=Math.floor,y0=Math.sign,hu=Math.trunc,lb=Number.isNaN,Rl=Number.isFinite,z4=Number,g0=String,_S=Number.MAX_SAFE_INTEGER,el=Object.create,DI=Object.getOwnPropertyDescriptor,eg=Reflect.apply,F8=Reflect.ownKeys,_a=kt.BigInt(0),sp=kt.BigInt(1),_h=kt.BigInt(60),II=kt.BigInt(24),jo=kt.BigInt(1e3),Vd=kt.BigInt(1e6),Nc=kt.BigInt(1e9),db=kt.BigInt(-1),Ja=kt.multiply(kt.BigInt(3600),Nc),nm=kt.multiply(_h,Nc),pu=kt.multiply(Ja,II),Ql=kt.multiply(kt.BigInt(-86400),kt.BigInt(1e17)),Uf=kt.multiply(kt.BigInt(86400),kt.BigInt(1e17)),v1=-271821,rm=275760,im=kt.multiply(kt.BigInt(-388152),kt.BigInt(1e13)),CI=kt.multiply(pu,kt.BigInt(3660)),ES=kt.multiply(pu,kt.BigInt(366)),kI=kt.multiply(pu,kt.BigInt(14)),j8=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function bs(r){return kt.equal(r,_a)}function Go(r,t){const n=r[t];if(void 0!==n)return n}function ci(r,t,n){return eg(r,t,arguments.length>2?n:[])}function mo(r){return"object"==typeof r&&null!==r||"function"==typeof r}function Eh(r){if("bigint"==typeof r)throw new TypeError("Cannot convert BigInt to number");return z4(r)}function zs(r){const t=Eh(r);if(lb(t)||0===t)return 0;if(!Rl(t))return t;const n=ql(Vs(t));return 0===n?0:y0(t)*n}function Ol(r){if("number"!=typeof r||lb(r)||!Rl(r))return!1;const t=Vs(r);return ql(t)===t}function dc(r){if("symbol"==typeof r)throw new TypeError("Cannot convert a Symbol value to a String");return g0(r)}function Oo(r){const t=Eh(r);if(0===t)return 0;if(lb(t)||!Rl(t))throw new RangeError("invalid number value");const n=hu(t);return 0===n?0:n}function xS(r,t){const n=Oo(r);if(n<=0)throw void 0!==t?new RangeError(`property '${t}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return n}function qa(r){const t=Eh(r);if(!Rl(t))throw new RangeError("infinity is out of range");if(!Ol(t))throw new RangeError(`unsupported fractional value ${r}`);return 0===t?0:t}function Ea(r,t){return{quotient:kt.divide(r,t),remainder:kt.remainder(r,t)}}function v0(r){return kt.lessThan(r,_a)}function b1(r){return bs(r)?0:v0(r)?-1:1}function Ju(r){return kt.lessThan(r,_a)?kt.multiply(r,db):r}const ub=new Map([["year",Oo],["month",xS],["monthCode",dc],["day",xS],["hour",Oo],["minute",Oo],["second",Oo],["millisecond",Oo],["microsecond",Oo],["nanosecond",Oo],["years",qa],["months",qa],["weeks",qa],["days",qa],["hours",qa],["minutes",qa],["seconds",qa],["milliseconds",qa],["microseconds",qa],["nanoseconds",qa],["era",dc],["eraYear",zs],["offset",dc]]),b0=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),fb=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],ed=new Map(fb.map(r=>[r[0],r[1]])),$8=new Map(fb.map(([r,t])=>[t,r])),RI=fb.map(([,r])=>r),w1=Array.from(ed.keys()).sort(),SS=new Map;function MS(r){let t=SS.get(r);return void 0===t&&(t=new wS("en-us",{timeZone:g0(r),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),SS.set(r,t)),t}function OI(r){if(null==r)throw new TypeError(`Expected object not ${r}`);return Object(r)}function hb(r,t,n,i){if(null==t)return;const l=F8(t);for(const p of l)if(!n.some(c=>Object.is(c,p))&&Object.prototype.propertyIsEnumerable.call(t,p)){const c=t[p];if(i&&i.some(h=>Object.is(h,c)))continue;r[p]=c}}function Qa(r){return lc(r,xi)&&!lc(r,as,Qn)}function td(r){return lc(r,Lf)}function Hs(r){return lc(r,ta)}function Ws(r){return lc(r,Cl,Bc,Xl,Zl,Yl,Jl,kl,Ya,cc)}function yo(r){return lc(r,C8)}function na(r){return lc(r,no,so,ao,po,ro,co)&&!lc(r,Yr,Qr,ni)}function Yi(r){return lc(r,Yr,Qr,ni,no,so,ao,po,ro,co)}function Do(r){return lc(r,uS)}function Va(r){return lc(r,fS)}function ri(r){return lc(r,xi,as,Qn)}function w0(r){if(lc(r,Qn)||lc(r,as))throw new TypeError("with() does not support a calendar or timeZone property");if(na(r))throw new TypeError("with() does not accept Temporal.PlainTime, use withPlainTime() instead");if(void 0!==r.calendar)throw new TypeError("with() does not support a calendar property");if(void 0!==r.timeZone)throw new TypeError("with() does not support a timeZone property")}function _1(r,t){return"never"===t?"":AS(Lc(r),t)}function AS(r,t){return"never"===t||"auto"===t&&"iso8601"===r?"":`[${"critical"===t?"!":""}u-ca=${r}]`}function xh(r){const t=R8.exec(r);if(!t)throw new RangeError(`invalid ISO 8601 string: ${r}`);let n=t[1];if("\u2212"===n[0]&&(n=`-${n.slice(1)}`),"-000000"===n)throw new RangeError(`invalid ISO 8601 string: ${r}`);const i=zs(n),l=zs(t[2]||t[4]),p=zs(t[3]||t[5]),c=zs(t[6]),h=void 0!==t[6],V=zs(t[7]||t[10]);let $=zs(t[8]||t[11]);60===$&&($=59);const I=(t[9]||t[12])+"000000000",q=zs(I.slice(0,3)),Ce=zs(I.slice(3,6)),Be=zs(I.slice(6,9));let Pe,Ke=!1;if(t[13])Pe=void 0,Ke=!0;else if(t[14]&&t[15]){const Ct=t[17]||"00";let zt=t[18]||"0";if(Pe=`${"-"===t[14]||"\u2212"===t[14]?"-":"+"}${t[15]||"00"}:${t[16]||"00"}`,+zt){for(;zt.endsWith("0");)zt=zt.slice(0,-1);Pe+=`:${Ct}.${zt}`}else+Ct&&(Pe+=`:${Ct}`);"-00:00"===Pe&&(Pe="+00:00")}const rt=t[19],ht=t[20];let ct;for(const[,dt,At,Pt]of ht.matchAll(tm))if("u-ca"===At)void 0===ct&&(ct=Pt);else if("!"===dt)throw new RangeError(`Unrecognized annotation: !${At}=${Pt}`);return Ab(i,l,p,c,V,$,q,Ce,Be),{year:i,month:l,day:p,hasTime:h,hour:c,minute:V,second:$,millisecond:q,microsecond:Ce,nanosecond:Be,ianaName:rt,offset:Pe,z:Ke,calendar:ct}}function om(r){const t=O8.exec(r);let n,i,l,p;if(t){let c=t[1];if("\u2212"===c[0]&&(c=`-${c.slice(1)}`),"-000000"===c)throw new RangeError(`invalid ISO 8601 string: ${r}`);n=zs(c),i=zs(t[2]);const h=t[3];for(const[,V,$,I]of h.matchAll(tm))if("u-ca"===$)void 0===l&&(l=I);else if("!"===V)throw new RangeError(`Unrecognized annotation: !${$}=${I}`);if(void 0!==l&&"iso8601"!==l)throw new RangeError("YYYY-MM format is only valid with iso8601 calendar")}else{let c;if(({year:n,month:i,calendar:l,day:p,z:c}=xh(r)),c)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:n,month:i,calendar:l,referenceISODay:p}}function E1(r){const t=P8.exec(r);let n,i,l,p;if(t){n=zs(t[1]),i=zs(t[2]);const c=t[3];for(const[,h,V,$]of c.matchAll(tm))if("u-ca"===V)void 0===l&&(l=$);else if("!"===h)throw new RangeError(`Unrecognized annotation: !${V}=${$}`);if(void 0!==l&&"iso8601"!==l)throw new RangeError("MM-DD format is only valid with iso8601 calendar")}else{let c;if(({month:n,day:i,calendar:l,year:p,z:c}=xh(r)),c)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:n,day:i,calendar:l,referenceISOYear:p}}function x1(r,t,n,i){let l=r,p=t,c=n;switch(i){case"reject":Rh(l,p,c);break;case"constrain":({year:l,month:p,day:c}=GI(l,p,c))}return{year:l,month:p,day:c}}function S1(r,t,n,i,l,p,c){let h=r,V=t,$=n,I=i,q=l,Ce=p;switch(c){case"reject":z1(h,V,$,I,q,Ce);break;case"constrain":({hour:h,minute:V,second:$,millisecond:I,microsecond:q,nanosecond:Ce}=(Ke=V,rt=$,ht=I,ct=q,dt=Ce,{hour:Ad(h,0,23),minute:Ad(Ke,0,59),second:Ad(rt,0,59),millisecond:Ad(ht,0,999),microsecond:Ad(ct,0,999),nanosecond:Ad(dt,0,999)}))}var Ke,rt,ht,ct,dt;return{hour:h,minute:V,second:$,millisecond:I,microsecond:q,nanosecond:Ce}}function sm(r){if(!mo(r))return function(Pe){const Ke=N8.exec(Pe);if(!Ke)throw new RangeError(`invalid duration: ${Pe}`);if(Ke.slice(2).every(wn=>void 0===wn))throw new RangeError(`invalid duration: ${Pe}`);const rt="-"===Ke[1]||"\u2212"===Ke[1]?-1:1,ht=void 0===Ke[2]?0:Oo(Ke[2])*rt,ct=void 0===Ke[3]?0:Oo(Ke[3])*rt,dt=void 0===Ke[4]?0:Oo(Ke[4])*rt,At=void 0===Ke[5]?0:Oo(Ke[5])*rt,Pt=void 0===Ke[6]?0:Oo(Ke[6])*rt,Ct=Ke[7],zt=Ke[8],Xt=Ke[9],xn=Ke[10],Cn=Ke[11];let Nn=0,ir=0,Pn=0;if(void 0!==Ct){if(zt??Xt??xn??Cn)throw new RangeError("only the smallest unit can be fractional");Pn=3600*zs((Ct+"000000000").slice(0,9))*rt}else if(Nn=void 0===zt?0:Oo(zt)*rt,void 0!==Xt){if(xn??Cn)throw new RangeError("only the smallest unit can be fractional");Pn=60*zs((Xt+"000000000").slice(0,9))*rt}else ir=void 0===xn?0:Oo(xn)*rt,void 0!==Cn&&(Pn=zs((Cn+"000000000").slice(0,9))*rt);const Hn=Pn%1e3,ln=hu(Pn/1e3)%1e3,vn=hu(Pn/1e6)%1e3;return ir+=hu(Pn/1e9)%60,Nn+=hu(Pn/6e10),cg(ht,ct,dt,At,Pt,Nn,ir,vn,ln,Hn),{years:ht,months:ct,weeks:dt,days:At,hours:Pt,minutes:Nn,seconds:ir,milliseconds:vn,microseconds:ln,nanoseconds:Hn}}(dc(r));if(Ws(r))return{years:He(r,Cl),months:He(r,Bc),weeks:He(r,Sd),days:He(r,Xl),hours:He(r,Zl),minutes:He(r,Yl),seconds:He(r,Jl),milliseconds:He(r,kl),microseconds:He(r,Ya),nanoseconds:He(r,cc)};const t={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let n=function(Pe){if(!mo(Pe))throw new TypeError("invalid duration-like");const Ke={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0};let rt=!1;for(const ht of w1){const ct=Pe[ht];void 0!==ct&&(rt=!0,Ke[ht]=qa(ct))}if(!rt)throw new TypeError("invalid duration-like");return Ke}(r);for(const Be of w1){const Pe=n[Be];void 0!==Pe&&(t[Be]=Pe)}let{years:i,months:l,weeks:p,days:c,hours:h,minutes:V,seconds:$,milliseconds:I,microseconds:q,nanoseconds:Ce}=t;return cg(i,l,p,c,h,V,$,I,q,Ce),{years:i,months:l,weeks:p,days:c,hours:h,minutes:V,seconds:$,milliseconds:I,microseconds:q,nanoseconds:Ce}}function xa(r){return void 0===r?"constrain":hm(r,"overflow",["constrain","reject"],"constrain")}function tg(r){return void 0===r?"compatible":hm(r,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function Sh(r,t){return hm(r,"roundingMode",["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"],t)}function M1(r,t){return void 0===r?t:hm(r,"offset",["prefer","use","ignore","reject"],t)}function _0(r){return hm(r,"calendarName",["auto","always","never","critical"],"auto")}function am(r){let t=r.roundingIncrement;if(void 0===t)return 1;if(t=Eh(t),!Rl(t))throw new RangeError("roundingIncrement must be finite");const n=hu(t);if(n<1||n>1e9)throw new RangeError(`roundingIncrement must be at least 1 and at most 1e9, not ${t}`);return n}function ng(r,t,n){const i=n?t:t-1;if(r>i)throw new RangeError(`roundingIncrement must be at least 1 and less than ${i}, not ${r}`);if(t%r!=0)throw new RangeError(`Rounding increment must divide evenly into ${t}`)}function pb(r){const t=r.fractionalSecondDigits;if(void 0===t)return"auto";if("number"!=typeof t){if("auto"!==dc(t))throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return"auto"}const n=ql(t);if(!Rl(n)||n<0||n>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return n}function mb(r,t){switch(r){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}switch(t){case"auto":return{precision:t,unit:"nanosecond",increment:1};case 0:return{precision:t,unit:"second",increment:1};case 1:case 2:case 3:return{precision:t,unit:"millisecond",increment:10**(3-t)};case 4:case 5:case 6:return{precision:t,unit:"microsecond",increment:10**(6-t)};case 7:case 8:case 9:return{precision:t,unit:"nanosecond",increment:10**(9-t)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`)}}const E0=Symbol("~required~");function Md(r,t,n,i,l=[]){const p=[];for(const[,$,I]of fb)"datetime"!==n&&n!==I||p.push($);p.push(...l);let c=i;c===E0?c=void 0:void 0!==c&&p.push(c);const h=[...p];for(const $ of p){const I=$8.get($);void 0!==I&&h.push(I)}let V=hm(r,t,h,c);if(void 0===V&&i===E0)throw new RangeError(`${t} is required`);return ed.has(V)?ed.get(V):V}function A1(r){const t=r.relativeTo;if(void 0===t)return t;let n,i,l,p,c,h,V,$,I,q,Ce,Be,Pe="option",Ke=!1;if(mo(t)){if(ri(t)||yo(t))return t;if(Yi(t))return sg(t);q=Qu(t);const rt=Sa(q,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);rt.push("timeZone","offset");const ht=wo(t,rt,[]),ct=el(null);ct.overflow="constrain",({year:n,month:i,day:l,hour:p,minute:c,second:h,millisecond:V,microsecond:$,nanosecond:I}=yb(q,ht,ct)),Be=ht.offset,void 0===Be&&(Pe="wall"),Ce=ht.timeZone,void 0!==Ce&&(Ce=Pl(Ce))}else{let rt,ht;if(({year:n,month:i,day:l,hour:p,minute:c,second:h,millisecond:V,microsecond:$,nanosecond:I,calendar:q,ianaName:rt,offset:Be,z:ht}=xh(dc(t))),rt)Ce=Pl(rt),ht?Pe="exact":Be||(Pe="wall"),Ke=!0;else if(ht)throw new RangeError("Z designator not supported for PlainDate relativeTo; either remove the Z or add a bracketed time zone");if(q||(q="iso8601"),!yp(q))throw new RangeError(`invalid calendar identifier ${q}`);q=Bh(q)}return void 0===Ce?zd(n,i,l,q):Ia(jf(n,i,l,p,c,h,V,$,I,Pe,"option"===Pe?Ch(Be):0,Ce,"compatible","reject",Ke),Ce,q)}function TS(r,t,n,i,l,p,c,h,V,$){for(const[I,q]of[["years",r],["months",t],["weeks",n],["days",i],["hours",l],["minutes",p],["seconds",c],["milliseconds",h],["microseconds",V],["nanoseconds",$]])if(0!==q)return ed.get(I);return"nanosecond"}function x0(r,t){return RI.indexOf(r)>RI.indexOf(t)?t:r}function wo(r,t,n,{emptySourceErrorMessage:i}={emptySourceErrorMessage:"no supported properties found"}){const l=el(null);let p=!1;t.sort();for(const c of t){let h=r[c];if(void 0!==h)p=!0,ub.has(c)&&(h=ub.get(c)(h)),l[c]=h;else if("partial"!==n){if(L8.call(n,c))throw new TypeError(`required property '${c}' missing or undefined`);h=b0.get(c),l[c]=h}}if("partial"===n&&!p)throw new TypeError(i);return l}function T1(r,t="complete"){const n=["hour","microsecond","millisecond","minute","nanosecond","second"],i=wo(r,n,"partial",{emptySourceErrorMessage:"invalid time-like"}),l={};for(const p of n){const c=DI(i,p);void 0!==c?l[p]=c.value:"complete"===t&&(l[p]=0)}return l}function hs(r,t){let n=r;if(mo(n)){if(yo(n))return n;if(ri(n)&&(xa(t),n=Hd(He(n,as),He(n,Pc),He(n,Qn))),Yi(n))return xa(t),zd(He(n,Yr),He(n,Qr),He(n,ni),He(n,Qn));const V=Qu(n);return fp(V,wo(n,Sa(V,["day","month","monthCode","year"]),[]),t)}xa(t);let{year:i,month:l,day:p,calendar:c,z:h}=xh(dc(n));if(h)throw new RangeError("Z designator not supported for PlainDate");if(c||(c="iso8601"),!yp(c))throw new RangeError(`invalid calendar identifier ${c}`);return c=Bh(c),zd(i,l,p,c)}function yb(r,t,n){let{hour:i,minute:l,second:p,millisecond:c,microsecond:h,nanosecond:V}=T1(t);const $=xa(n),I=fp(r,t,n),q=He(I,Yr),Ce=He(I,Qr),Be=He(I,ni);return({hour:i,minute:l,second:p,millisecond:c,microsecond:h,nanosecond:V}=S1(i,l,p,c,h,V,$)),{year:q,month:Ce,day:Be,hour:i,minute:l,second:p,millisecond:c,microsecond:h,nanosecond:V}}function S0(r,t){let n,i,l,p,c,h,V,$,I,q;if(mo(r)){if(Yi(r))return r;if(ri(r))return xa(t),Hd(He(r,as),He(r,Pc),He(r,Qn));if(yo(r))return xa(t),nd(He(r,Yr),He(r,Qr),He(r,ni),0,0,0,0,0,0,He(r,Qn));q=Qu(r);const Ce=wo(r,Sa(q,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:n,month:i,day:l,hour:p,minute:c,second:h,millisecond:V,microsecond:$,nanosecond:I}=yb(q,Ce,t))}else{let Ce;if(xa(t),({year:n,month:i,day:l,hour:p,minute:c,second:h,millisecond:V,microsecond:$,nanosecond:I,calendar:q,z:Ce}=xh(dc(r))),Ce)throw new RangeError("Z designator not supported for PlainDateTime");if(Ab(n,i,l,p,c,h,V,$,I),q||(q="iso8601"),!yp(q))throw new RangeError(`invalid calendar identifier ${q}`);q=Bh(q)}return nd(n,i,l,p,c,h,V,$,I,q)}function rg(r){if(Ws(r))return r;let{years:t,months:n,weeks:i,days:l,hours:p,minutes:c,seconds:h,milliseconds:V,microseconds:$,nanoseconds:I}=sm(r);return new(Ur("%Temporal.Duration%"))(t,n,i,l,p,c,h,V,$,I)}function Ff(r){if(Qa(r))return r;if(ri(r))return new(Ur("%Temporal.Instant%"))(He(r,xi));const t=function K8(r){let{year:t,month:n,day:i,hour:l,minute:p,second:c,millisecond:h,microsecond:V,nanosecond:$,offset:I,z:q}=function(Ke){const rt=xh(Ke);if(!rt.z&&!rt.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return rt}(r);if(!q&&!I)throw new RangeError("Temporal.Instant requires a time zone offset");const Ce=q?0:Ch(I);({year:t,month:n,day:i,hour:l,minute:p,second:c,millisecond:h,microsecond:V,nanosecond:$}=$1(t,n,i,l,p,c,h,V,$-Ce));const Be=rl(t,n,i,l,p,c,h,V,$);if(null===Be)throw new RangeError("DateTime outside of supported range");return Be}(dc(r));return new(Ur("%Temporal.Instant%"))(t)}function BI(r,t){let n=r;if(mo(n)){if(Va(n))return n;let h,V;if(lc(n,Qn))h=He(n,Qn),V=!1;else{let I=n.calendar;V=void 0===I,void 0===I&&(I="iso8601"),h=tl(I)}const $=wo(n,Sa(h,["day","month","monthCode","year"]),[]);return V&&void 0!==$.month&&void 0===$.monthCode&&void 0===$.year&&($.year=1972),_b(h,$,t)}xa(t);let{month:i,day:l,referenceISOYear:p,calendar:c}=E1(dc(n));if(void 0===c&&(c="iso8601"),!yp(c))throw new RangeError(`invalid calendar identifier ${c}`);return c=Bh(c),void 0===p?(Rh(1972,i,l),ap(i,l,c)):_b(c,ap(i,l,c,p))}function Mh(r,t="constrain"){let n,i,l,p,c,h,V=r;if(mo(V)){if(na(V))return V;if(ri(V)&&(V=Hd(He(V,as),He(V,Pc),He(V,Qn))),Yi(V))return new(Ur("%Temporal.PlainTime%"))(He(V,no),He(V,so),He(V,ao),He(V,po),He(V,ro),He(V,co));({hour:n,minute:i,second:l,millisecond:p,microsecond:c,nanosecond:h}=T1(V)),({hour:n,minute:i,second:l,millisecond:p,microsecond:c,nanosecond:h}=S1(n,i,l,p,c,h,t))}else({hour:n,minute:i,second:l,millisecond:p,microsecond:c,nanosecond:h}=function(I){const q=g1.exec(I);let Ce,Be,Pe,Ke,rt,ht,ct;if(q){Ce=zs(q[1]),Be=zs(q[2]||q[5]),Pe=zs(q[3]||q[6]),60===Pe&&(Pe=59);const dt=(q[4]||q[7])+"000000000";Ke=zs(dt.slice(0,3)),rt=zs(dt.slice(3,6)),ht=zs(dt.slice(6,9)),ct=q[14];for(const[,At,Pt,Ct]of ct.matchAll(tm))if("u-ca"!==Pt&&"!"===At)throw new RangeError(`Unrecognized annotation: !${Pt}=${Ct}`);if(q[8])throw new RangeError("Z designator not supported for PlainTime")}else{let dt,At;if(({hasTime:At,hour:Ce,minute:Be,second:Pe,millisecond:Ke,microsecond:rt,nanosecond:ht,z:dt}=xh(I)),!At)throw new RangeError(`time is missing in string: ${I}`);if(dt)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(I))return{hour:Ce,minute:Be,second:Pe,millisecond:Ke,microsecond:rt,nanosecond:ht};try{const{month:dt,day:At}=E1(I);Rh(1972,dt,At)}catch{try{const{year:dt,month:At}=om(I);Rh(dt,At,1)}catch{return{hour:Ce,minute:Be,second:Pe,millisecond:Ke,microsecond:rt,nanosecond:ht}}}throw new RangeError(`invalid ISO 8601 time-only string ${I}; may need a T prefix`)}(dc(V))),z1(n,i,l,p,c,h);return new(Ur("%Temporal.PlainTime%"))(n,i,l,p,c,h)}function ig(r,t){if(mo(r)){if(Do(r))return r;const c=Qu(r);return hp(c,wo(r,Sa(c,["month","monthCode","year"]),[]),t)}xa(t);let{year:n,month:i,referenceISODay:l,calendar:p}=om(dc(r));if(void 0===p&&(p="iso8601"),!yp(p))throw new RangeError(`invalid calendar identifier ${p}`);return p=Bh(p),void 0===l?(Rh(n,i,1),Ah(n,i,p)):hp(p,Ah(n,i,p,l))}function jf(r,t,n,i,l,p,c,h,V,$,I,q,Ce,Be,Pe){const Ke=new(Ur("%Temporal.PlainDateTime%"))(r,t,n,i,l,p,c,h,V);if("wall"===$||"ignore"===Be)return He(nl(q,Ke,Ce),xi);if("exact"===$||"use"===Be){const ht=rl(r,t,n,i,l,p,c,h,V);if(null===ht)throw new RangeError("ZonedDateTime outside of supported range");return kt.subtract(ht,kt.BigInt(I))}const rt=xb(q,Ke);for(const ht of rt){const ct=ef(q,ht),dt=kt.toNumber(Wd(kt.BigInt(ct),nm,"halfExpand"));if(ct===I||Pe&&dt===I)return He(ht,xi)}if("reject"===Be){const ht=Sb(I),ct=td(q)?He(q,Lf):"time zone";throw new RangeError(`Offset ${ht} is invalid for ${Ke.toString()} in ${ct}`)}return He(FI(rt,q,Ke,Ce),xi)}function M0(r,t){let n,i,l,p,c,h,V,$,I,q,Ce,Be,Pe,Ke,rt=!1,ht="option";if(mo(r)){if(ri(r))return r;Be=Qu(r);const dt=Sa(Be,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);dt.push("timeZone","offset");const At=wo(r,dt,["timeZone"]);q=Pl(At.timeZone),Ce=At.offset,void 0===Ce&&(ht="wall"),Pe=tg(t),Ke=M1(t,"reject"),({year:n,month:i,day:l,hour:p,minute:c,second:h,millisecond:V,microsecond:$,nanosecond:I}=yb(Be,At,t))}else{let dt,At;if(({year:n,month:i,day:l,hour:p,minute:c,second:h,millisecond:V,microsecond:$,nanosecond:I,ianaName:dt,offset:Ce,z:At,calendar:Be}=function(Ct){const zt=xh(Ct);if(!zt.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return zt}(dc(r))),q=Pl(dt),At?ht="exact":Ce||(ht="wall"),Be||(Be="iso8601"),!yp(Be))throw new RangeError(`invalid calendar identifier ${Be}`);Be=Bh(Be),rt=!0,Pe=tg(t),Ke=M1(t,"reject"),xa(t)}let ct=0;return"option"===ht&&(ct=Ch(Ce)),Ia(jf(n,i,l,p,c,h,V,$,I,ht,ct,q,Pe,Ke,rt),q,Be)}function NI(r,t,n,i,l){Rh(t,n,i),XI(t,n,i),wh(r),io(r,Yr,t),io(r,Qr,n),io(r,ni,i),io(r,Qn,l),io(r,C8,!0)}function zd(r,t,n,i="iso8601"){const l=Ur("%Temporal.PlainDate%"),p=el(l.prototype);return NI(p,r,t,n,i),p}function LI(r,t,n,i,l,p,c,h,V,$,I){Ab(t,n,i,l,p,c,h,V,$),z8(t,n,i,l,p,c,h,V,$),wh(r),io(r,Yr,t),io(r,Qr,n),io(r,ni,i),io(r,no,l),io(r,so,p),io(r,ao,c),io(r,po,h),io(r,ro,V),io(r,co,$),io(r,Qn,I)}function nd(r,t,n,i,l,p,c,h,V,$="iso8601"){const I=Ur("%Temporal.PlainDateTime%"),q=el(I.prototype);return LI(q,r,t,n,i,l,p,c,h,V,$),q}function DS(r,t,n,i,l){Rh(l,t,n),XI(l,t,n),wh(r),io(r,Qr,t),io(r,ni,n),io(r,Yr,l),io(r,Qn,i),io(r,fS,!0)}function ap(r,t,n="iso8601",i=1972){const l=Ur("%Temporal.PlainMonthDay%"),p=el(l.prototype);return DS(p,r,t,n,i),p}function D1(r,t,n,i,l){var c,h;Rh(t,n,l),h=n,Uc(c=t,v1,rm),c===v1?Uc(h,4,12):c===rm&&Uc(h,1,9),wh(r),io(r,Yr,t),io(r,Qr,n),io(r,ni,l),io(r,Qn,i),io(r,uS,!0)}function Ah(r,t,n="iso8601",i=1){const l=Ur("%Temporal.PlainYearMonth%"),p=el(l.prototype);return D1(p,r,t,n,i),p}function IS(r,t,n,i){D0(t),wh(r),io(r,xi,t),io(r,as,n),io(r,Qn,i);const l=new(Ur("%Temporal.Instant%"))(He(r,xi));io(r,Pc,l)}function Ia(r,t,n="iso8601"){const i=Ur("%Temporal.ZonedDateTime%"),l=el(i.prototype);return IS(l,r,t,n),l}function Sa(r,t){if("string"==typeof r){const l=new(Ur("%Temporal.Calendar%"))(r);return ci(Ur("%Temporal.Calendar.prototype.fields%"),l,[t])}const n=ci(Go(r,"fields"),r,[t]),i=[];for(const l of n){if("string"!=typeof l)throw new TypeError("bad return from calendar.fields()");bS.call(i,l)}return i}function qu(r,t,n){if("string"==typeof r){const l=new(Ur("%Temporal.Calendar%"))(r);return ci(Ur("%Temporal.Calendar.prototype.mergeFields%"),l,[t,n])}const i=ci(Go(r,"mergeFields"),r,[t,n]);if(!mo(i))throw new TypeError("bad return from calendar.mergeFields()");return i}function Ca(r,t,n,i,l){let p=l;if("string"==typeof r){const h=new(Ur("%Temporal.Calendar%"))(r);return ci(Ur("%Temporal.Calendar.prototype.dateAdd%"),h,[t,n,i])}void 0===p&&(p=Go(r,"dateAdd"));const c=eg(p,r,[t,n,i]);if(!yo(c))throw new TypeError("invalid result");return c}function mu(r,t,n,i,l){let p=l;if("string"==typeof r){const h=new(Ur("%Temporal.Calendar%"))(r);return ci(Ur("%Temporal.Calendar.prototype.dateUntil%"),h,[t,n,i])}void 0===p&&(p=Go(r,"dateUntil"));const c=eg(p,r,[t,n,i]);if(!Ws(c))throw new TypeError("invalid result");return c}function cp(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return ci(Ur("%Temporal.Calendar.prototype.year%"),i,[t])}let n=ci(Go(r,"year"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar year result must be an integer");if(!Ol(n))throw new RangeError("calendar year result must be an integer");return n}function lp(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return ci(Ur("%Temporal.Calendar.prototype.month%"),i,[t])}let n=ci(Go(r,"month"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar month result must be a positive integer");if(!Ol(n)||n<1)throw new RangeError("calendar month result must be a positive integer");return n}function Th(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return ci(Ur("%Temporal.Calendar.prototype.monthCode%"),i,[t])}let n=ci(Go(r,"monthCode"),r,[t]);if("string"!=typeof n)throw new TypeError("calendar monthCode result must be a string");return n}function Dh(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return ci(Ur("%Temporal.Calendar.prototype.day%"),i,[t])}const n=ci(Go(r,"day"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar day result must be a positive integer");if(!Ol(n)||n<1)throw new RangeError("calendar day result must be a positive integer");return n}function dp(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return ci(Ur("%Temporal.Calendar.prototype.era%"),i,[t])}let n=ci(Go(r,"era"),r,[t]);if(void 0===n)return n;if("string"!=typeof n)throw new TypeError("calendar era result must be a string or undefined");return n}function up(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return ci(Ur("%Temporal.Calendar.prototype.eraYear%"),i,[t])}let n=ci(Go(r,"eraYear"),r,[t]);if(void 0===n)return n;if("number"!=typeof n)throw new TypeError("calendar eraYear result must be an integer or undefined");if(!Ol(n))throw new RangeError("calendar eraYear result must be an integer or undefined");return n}function I1(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return ci(Ur("%Temporal.Calendar.prototype.dayOfWeek%"),i,[t])}const n=ci(Go(r,"dayOfWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar dayOfWeek result must be a positive integer");if(!Ol(n)||n<1)throw new RangeError("calendar dayOfWeek result must be a positive integer");return n}function C1(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return ci(Ur("%Temporal.Calendar.prototype.dayOfYear%"),i,[t])}const n=ci(Go(r,"dayOfYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar dayOfYear result must be a positive integer");if(!Ol(n)||n<1)throw new RangeError("calendar dayOfYear result must be a positive integer");return n}function k1(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return ci(Ur("%Temporal.Calendar.prototype.weekOfYear%"),i,[t])}const n=ci(Go(r,"weekOfYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar weekOfYear result must be a positive integer");if(!Ol(n)||n<1)throw new RangeError("calendar weekOfYear result must be a positive integer");return n}function R1(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return ci(Ur("%Temporal.Calendar.prototype.yearOfWeek%"),i,[t])}const n=ci(Go(r,"yearOfWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar yearOfWeek result must be an integer");if(!Ol(n))throw new RangeError("calendar yearOfWeek result must be an integer");return n}function O1(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return ci(Ur("%Temporal.Calendar.prototype.daysInWeek%"),i,[t])}const n=ci(Go(r,"daysInWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInWeek result must be a positive integer");if(!Ol(n)||n<1)throw new RangeError("calendar daysInWeek result must be a positive integer");return n}function gb(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return ci(Ur("%Temporal.Calendar.prototype.daysInMonth%"),i,[t])}const n=ci(Go(r,"daysInMonth"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInMonth result must be a positive integer");if(!Ol(n)||n<1)throw new RangeError("calendar daysInMonth result must be a positive integer");return n}function vb(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return ci(Ur("%Temporal.Calendar.prototype.daysInYear%"),i,[t])}const n=ci(Go(r,"daysInYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInYear result must be a positive integer");if(!Ol(n)||n<1)throw new RangeError("calendar daysInYear result must be a positive integer");return n}function bb(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return ci(Ur("%Temporal.Calendar.prototype.monthsInYear%"),i,[t])}const n=ci(Go(r,"monthsInYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar monthsInYear result must be a positive integer");if(!Ol(n)||n<1)throw new RangeError("calendar monthsInYear result must be a positive integer");return n}function wb(r,t){if("string"==typeof r){const i=new(Ur("%Temporal.Calendar%"))(r);return ci(Ur("%Temporal.Calendar.prototype.inLeapYear%"),i,[t])}const n=ci(Go(r,"inLeapYear"),r,[t]);if("boolean"!=typeof n)throw new TypeError("calendar inLeapYear result must be a boolean");return n}function tl(r){if(mo(r)){if(lc(r,Qn))return He(r,Qn);if(!(Hs(l=r)||"dateAdd"in l&&"dateFromFields"in l&&"dateUntil"in l&&"day"in l&&"dayOfWeek"in l&&"dayOfYear"in l&&"daysInMonth"in l&&"daysInWeek"in l&&"daysInYear"in l&&"fields"in l&&"id"in l&&"inLeapYear"in l&&"mergeFields"in l&&"month"in l&&"monthCode"in l&&"monthDayFromFields"in l&&"monthsInYear"in l&&"weekOfYear"in l&&"year"in l&&"yearMonthFromFields"in l&&"yearOfWeek"in l))throw new TypeError("expected a Temporal.Calendar or object implementing the Temporal.Calendar protocol");return r}var l;const t=dc(r);if(yp(t))return Bh(t);let n;try{({calendar:n}=xh(t))}catch{try{({calendar:n}=om(t))}catch{({calendar:n}=E1(t))}}if(n||(n="iso8601"),!yp(n))throw new RangeError(`invalid calendar identifier ${n}`);return Bh(n)}function Qu(r){if(lc(r,Qn))return He(r,Qn);const{calendar:t}=r;return void 0===t?"iso8601":tl(t)}function Lc(r){if("string"==typeof r)return r;const t=r.id;if("string"!=typeof t)throw new TypeError("calendar.id should be a string");return t}function og(r){return mo(r)?r:new(Ur("%Temporal.Calendar%"))(r)}function A0(r,t){return r===t||Lc(r)===Lc(t)}function Ih(r,t,n){if(r===t)return;const i=Lc(r),l=Lc(t);if(i!==l)throw new RangeError(`cannot ${n} of ${i} and ${l} calendars`)}function P1(r,t){if(r===t)return t;const n=Lc(r),i=Lc(t);if(n===i||"iso8601"===n)return t;if("iso8601"===i)return r;throw new RangeError("irreconcilable calendars")}function fp(r,t,n,i){if("string"==typeof r){const p=new(Ur("%Temporal.Calendar%"))(r);return ci(Ur("%Temporal.Calendar.prototype.dateFromFields%"),p,[t,n])}const l=ci(i??Go(r,"dateFromFields"),r,[t,n]);if(!yo(l))throw new TypeError("invalid result");return l}function hp(r,t,n){if("string"==typeof r){const l=new(Ur("%Temporal.Calendar%"))(r);return ci(Ur("%Temporal.Calendar.prototype.yearMonthFromFields%"),l,[t,n])}let i=ci(Go(r,"yearMonthFromFields"),r,[t,n]);if(!Do(i))throw new TypeError("invalid result");return i}function _b(r,t,n){if("string"==typeof r){const l=new(Ur("%Temporal.Calendar%"))(r);return ci(Ur("%Temporal.Calendar.prototype.monthDayFromFields%"),l,[t,n])}let i=ci(Go(r,"monthDayFromFields"),r,[t,n]);if(!Va(i))throw new TypeError("invalid result");return i}function Pl(r){if(mo(r)){if(ri(r))return He(r,as);if(!(td(n=r)||"getOffsetNanosecondsFor"in n&&"getPossibleInstantsFor"in n&&"id"in n))throw new TypeError("expected a Temporal.TimeZone or object implementing the Temporal.TimeZone protocol");return r}var n;return function PI(r){const{ianaName:t,offset:n,z:i}=function(p){if(new RegExp(`^${cb.source}$`,"i").test(p))return{ianaName:p};try{const c=xh(p);if(c.z||c.offset||c.ianaName)return c}catch{}throw new RangeError(`Invalid time zone: ${p}`)}(r);return t?tf(t):i?"UTC":Sb(Ch(n))}(dc(r))}function Eb(r){if("string"==typeof r)return r;const t=r.id;if("string"!=typeof t)throw new TypeError("timeZone.id should be a string");return t}function UI(r){return mo(r)?r:new(Ur("%Temporal.TimeZone%"))(r)}function CS(r,t){return r===t||Eb(r)===Eb(t)}function sg(r){return zd(He(r,Yr),He(r,Qr),He(r,ni),He(r,Qn))}function uc(r){return new(Ur("%Temporal.PlainTime%"))(He(r,no),He(r,so),He(r,ao),He(r,po),He(r,ro),He(r,co))}function ef(r,t,n){if("string"==typeof r){const l=new(Ur("%Temporal.TimeZone%"))(r);return ci(Ur("%Temporal.TimeZone.prototype.getOffsetNanosecondsFor%"),l,[t])}const i=ci(n??Go(r,"getOffsetNanosecondsFor"),r,[t]);if("number"!=typeof i)throw new TypeError("bad return from getOffsetNanosecondsFor");if(!Ol(i)||Vs(i)>=864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return i}function kS(r,t){return Sb(ef(r,t))}function Hd(r,t,n){const i=He(t,xi),l=ef(r,t);let{year:p,month:c,day:h,hour:V,minute:$,second:I,millisecond:q,microsecond:Ce,nanosecond:Be}=nf(i);return({year:p,month:c,day:h,hour:V,minute:$,second:I,millisecond:q,microsecond:Ce,nanosecond:Be}=$1(p,c,h,V,$,I,q,Ce,Be+l)),nd(p,c,h,V,$,I,q,Ce,Be,n)}function nl(r,t,n){return FI(xb(r,t),r,t,n)}function FI(r,t,n,i){const l=Ur("%Temporal.Instant%"),p=r.length;if(1===p)return r[0];if(p)switch(i){case"compatible":case"earlier":return r[0];case"later":return r[p-1];case"reject":throw new RangeError("multiple instants found")}const c=He(n,Yr),h=He(n,Qr),V=He(n,ni),$=He(n,no),I=He(n,so),q=He(n,ao),Ce=He(n,po),Be=He(n,ro),Pe=He(n,co),Ke=rl(c,h,V,$,I,q,Ce,Be,Pe);if(null===Ke)throw new RangeError("DateTime outside of supported range");const rt=new l(kt.subtract(Ke,pu)),ht=new l(kt.add(Ke,pu)),ct=ef(t,rt),dt=ef(t,ht)-ct;switch(i){case"earlier":{const At=He(n,Qn),Pt=Ur("%Temporal.PlainDateTime%"),Ct=Db(c,h,V,$,I,q,Ce,Be,Pe,At,0,0,0,0,0,0,0,0,0,-dt,void 0);return xb(t,new Pt(Ct.year,Ct.month,Ct.day,Ct.hour,Ct.minute,Ct.second,Ct.millisecond,Ct.microsecond,Ct.nanosecond,At))[0]}case"compatible":case"later":{const At=He(n,Qn),Pt=Ur("%Temporal.PlainDateTime%"),Ct=Db(c,h,V,$,I,q,Ce,Be,Pe,At,0,0,0,0,0,0,0,0,0,dt,void 0),zt=xb(t,new Pt(Ct.year,Ct.month,Ct.day,Ct.hour,Ct.minute,Ct.second,Ct.millisecond,Ct.microsecond,Ct.nanosecond,At));return zt[zt.length-1]}case"reject":throw new RangeError("no such instant found")}}function xb(r,t,n){if("string"==typeof r){const p=new(Ur("%Temporal.TimeZone%"))(r);return ci(Ur("%Temporal.TimeZone.prototype.getPossibleInstantsFor%"),p,[t])}const i=ci(n??Go(r,"getPossibleInstantsFor"),r,[t]),l=[];for(const p of i){if(!Qa(p))throw new TypeError("bad return from getPossibleInstantsFor");bS.call(l,p)}return l}function cm(r){let t;return t=r<0||r>9999?(r<0?"-":"+")+`000000${Vs(r)}`.slice(-6):`0000${r}`.slice(-4),t}function ws(r){return`00${r}`.slice(-2)}function B1(r,t,n,i,l){if("minute"===l)return"";const p=`:${ws(r)}`;let c,h=1e6*t+1e3*n+i;if("auto"===l){if(0===h)return p;for(c=`${h}`.padStart(9,"0");"0"===c[c.length-1];)c=c.slice(0,-1)}else{if(0===l)return p;c=`${h}`.padStart(9,"0").slice(0,l)}return`${p}.${c}`}function jI(r,t,n){let i=t;void 0===i&&(i="UTC");const l=Hd(i,r,"iso8601"),p=cm(He(l,Yr)),c=ws(He(l,Qr)),h=ws(He(l,ni)),V=ws(He(l,no)),$=ws(He(l,so)),I=B1(He(l,ao),He(l,po),He(l,ro),He(l,co),n);let q="Z";return void 0!==t&&(q=$f(ef(i,r))),`${p}-${c}-${h}T${V}:${$}${I}${q}`}function N1(r,t="auto",n){function i(xn){return xn<=_S?xn.toString(10):kt.BigInt(xn).toString(10)}const l=He(r,Cl),p=He(r,Bc),c=He(r,Sd),h=He(r,Xl),V=He(r,Zl),$=He(r,Yl);let I=He(r,Jl),q=He(r,kl),Ce=He(r,Ya),Be=He(r,cc);const Pe=kh(l,p,c,h,V,$,I,q,Ce,Be);if(n){const{unit:xn,increment:Cn,roundingMode:Nn}=n;({seconds:I,milliseconds:q,microseconds:Ce,nanoseconds:Be}=Vf(0,0,0,0,0,0,I,q,Ce,Be,Cn,xn,Nn))}const Ke=[];l&&Ke.push(`${i(Vs(l))}Y`),p&&Ke.push(`${i(Vs(p))}M`),c&&Ke.push(`${i(Vs(c))}W`),h&&Ke.push(`${i(Vs(h))}D`);const rt=[];V&&rt.push(`${i(Vs(V))}H`),$&&rt.push(`${i(Vs($))}M`);const ht=[];let ct,dt,At,Pt,Ct=ag(0,0,0,I,q,Ce,Be,0);({quotient:Ct,remainder:ct}=Ea(Ct,jo)),({quotient:Ct,remainder:dt}=Ea(Ct,jo)),({quotient:Pt,remainder:At}=Ea(Ct,jo));const zt=1e6*Vs(kt.toNumber(At))+1e3*Vs(kt.toNumber(dt))+Vs(kt.toNumber(ct));let Xt;if("auto"===t){if(0!==zt)for(Xt=`${zt}`.padStart(9,"0");"0"===Xt[Xt.length-1];)Xt=Xt.slice(0,-1)}else 0!==t&&(Xt=`${zt}`.padStart(9,"0").slice(0,t));return Xt&&ht.unshift(".",Xt),kt.equal(Pt,_a)&&!ht.length&&"auto"===t||ht.unshift(Ju(Pt).toString()),ht.length&&rt.push(`${ht.join("")}S`),rt.length&&rt.unshift("T"),Ke.length||rt.length?`${Pe<0?"-":""}P${Ke.join("")}${rt.join("")}`:"PT0S"}function $I(r,t="auto"){return`${cm(He(r,Yr))}-${ws(He(r,Qr))}-${ws(He(r,ni))}${_1(He(r,Qn),t)}`}function RS(r,t,n="auto",i){let l=He(r,Yr),p=He(r,Qr),c=He(r,ni),h=He(r,no),V=He(r,so),$=He(r,ao),I=He(r,po),q=He(r,ro),Ce=He(r,co);if(i){const{unit:Be,increment:Pe,roundingMode:Ke}=i;({year:l,month:p,day:c,hour:h,minute:V,second:$,millisecond:I,microsecond:q,nanosecond:Ce}=lg(l,p,c,h,V,$,I,q,Ce,Pe,Be,Ke))}return`${cm(l)}-${ws(p)}-${ws(c)}T${ws(h)}:${ws(V)}${B1($,I,q,Ce,t)}${_1(He(r,Qn),n)}`}function V8(r,t="auto"){let n=`${ws(He(r,Qr))}-${ws(He(r,ni))}`;const i=Lc(He(r,Qn));("always"===t||"critical"===t||"iso8601"!==i)&&(n=`${cm(He(r,Yr))}-${n}`);const l=AS(i,t);return l&&(n+=l),n}function L1(r,t="auto"){let n=`${cm(He(r,Yr))}-${ws(He(r,Qr))}`;const i=Lc(He(r,Qn));("always"===t||"critical"===t||"iso8601"!==i)&&(n+=`-${ws(He(r,ni))}`);const l=AS(i,t);return l&&(n+=l),n}function U1(r,t,n="auto",i="auto",l="auto",p){let c=He(r,Pc);if(p){const{unit:I,increment:q,roundingMode:Ce}=p,Be=C0(He(r,xi),q,I,Ce);c=new(Ur("%Temporal.Instant%"))(Be)}const h=He(r,as),V=Hd(h,c,"iso8601");let $=`${cm(He(V,Yr))}-${ws(He(V,Qr))}-${ws(He(V,ni))}T${ws(He(V,no))}:${ws(He(V,so))}${B1(He(V,ao),He(V,po),He(V,ro),He(V,co),t)}`;return"never"!==l&&($+=$f(ef(h,c))),"never"!==i&&($+=`[${"critical"===i?"!":""}${Eb(h)}]`),$+=_1(He(r,Qn),n),$}function lm(r){return R0.test(g0(r))}function Ch(r){const t=R0.exec(g0(r));if(!t)throw new RangeError(`invalid time zone offset: ${r}`);return("-"===t[1]||"\u2212"===t[1]?-1:1)*(1e9*(60*(60*+t[2]+ +(t[3]||0))+ +(t[4]||0))+ +((t[5]||0)+"000000000").slice(0,9))}function tf(r){return lm(r)?Sb(Ch(r)):MS(g0(r)).resolvedOptions().timeZone}function pp(r,t){const{year:n,month:i,day:l,hour:p,minute:c,second:h,millisecond:V,microsecond:$,nanosecond:I}=OS(r,t),q=n%400,Ce=(n-q)/400,Be=kt.multiply(kt.BigInt(146097),pu),Pe=rl(q,i,l,p,c,h,V,$,I),Ke=kt.add(Pe,kt.multiply(Be,kt.BigInt(Ce)));return kt.toNumber(kt.subtract(Ke,t))}function Sb(r){const t=r<0?"-":"+",n=Vs(r),i=n%1e9,l=ql(n/1e9)%60,p=ql(n/6e10)%60,c=ws(ql(n/36e11)),h=ws(p),V=ws(l);let $="";if(i){let I=`${i}`.padStart(9,"0");for(;"0"===I[I.length-1];)I=I.slice(0,-1);$=`:${V}.${I}`}else l&&($=`:${V}`);return`${t}${c}:${h}${$}`}function $f(r){let t=kt.toNumber(Wd(kt.BigInt(r),nm,"halfExpand"));const n=t<0?"-":"+";t=Vs(t);const i=t/6e10%60;return`${n}${ws(ql(t/36e11))}:${ws(i)}`}function rl(r,t,n,i,l,p,c,h,V){const $=new Date;$.setUTCHours(i,l,p,c),$.setUTCFullYear(r,t-1,n);const I=$.getTime();if(lb(I))return null;let q=kt.multiply(kt.BigInt(I),Vd);return q=kt.add(q,kt.multiply(kt.BigInt(h),jo)),q=kt.add(q,kt.BigInt(V)),kt.lessThan(q,Ql)||kt.greaterThan(q,Uf)?null:q}function nf(r){const{quotient:t,remainder:n}=Ea(r,Vd);let i=kt.toNumber(t),l=kt.toNumber(n);l<0&&(l+=1e6,i-=1);const p=ql(l/1e3)%1e3,c=l%1e3,h=new Date(i);return{epochMilliseconds:i,year:h.getUTCFullYear(),month:h.getUTCMonth()+1,day:h.getUTCDate(),hour:h.getUTCHours(),minute:h.getUTCMinutes(),second:h.getUTCSeconds(),millisecond:h.getUTCMilliseconds(),microsecond:p,nanosecond:c}}function OS(r,t){const{epochMilliseconds:n,millisecond:i,microsecond:l,nanosecond:p}=nf(t),{year:c,month:h,day:V,hour:$,minute:I,second:q}=(Pe=n,function(ht){const ct=ht.split(/[^\w]+/);if(7!==ct.length)throw new RangeError(`expected 7 parts in "${ht}`);const dt=+ct[0],At=+ct[1];let Pt=+ct[2];const Ct=ct[3].toUpperCase();if("B"===Ct||"BC"===Ct)Pt=1-Pt;else if("A"!==Ct&&"AD"!==Ct)throw new RangeError(`Unknown era ${Ct} in "${ht}`);let zt=+ct[4];24===zt&&(zt=0);const Xt=+ct[5],xn=+ct[6];if(!(Rl(Pt)&&Rl(dt)&&Rl(At)&&Rl(zt)&&Rl(Xt)&&Rl(xn)))throw new RangeError(`Invalid number in "${ht}`);return{year:Pt,month:dt,day:At,hour:zt,minute:Xt,second:xn}}(MS(r).format(new Date(Pe))));var Pe;return $1(c,h,V,$,I,q,i,l,p)}function PS(r,t){return kt.lessThan(r,t)?t:r}function KI(){return kt.add(Ob(),CI)}function VI(r,t){if(kt.lessThan(t,im))return VI(r,im);const n=kt.add(t,ES),i=PS(KI(),n);let l=PS(im,t);const p=pp(r,l);let c=l,h=p;for(;p===h&&kt.lessThan(kt.BigInt(l),i);){if(c=kt.add(l,kI),kt.greaterThan(c,Uf))return null;h=pp(r,c),p===h&&(l=c)}return p===h?null:nC(V=>pp(r,V),l,c,p,h)}function BS(r,t){const n=KI(),i=kt.greaterThan(t,n),l=i?kt.subtract(t,ES):im;if("Africa/Casablanca"===r||"Africa/El_Aaiun"===r){const $=He(Ff("2088-01-01T00Z"),xi);if(kt.lessThan($,t))return BS(r,$)}let p=kt.subtract(t,sp);if(kt.lessThan(p,im))return null;const c=pp(r,p);let h=p,V=c;for(;c===V&&kt.greaterThan(p,l);){if(h=kt.subtract(p,kI),kt.lessThan(h,im))return null;V=pp(r,h),c===V&&(p=h)}if(c===V){if(i){const $=kt.subtract(n,pu);return BS(r,$)}return null}return nC($=>pp(r,$),h,p,V,c)}function dm(r){return void 0!==r&&r%4==0&&(r%100!=0||r%400==0)}function Kf(r,t){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[dm(r)?"leapyear":"standard"][t-1]}function T0(r,t,n){const i=t+(t<3?10:-2),l=r-(t<3?1:0),p=ql(l/100),c=l-100*p,h=(n+ql(2.6*i-.2)+(c+ql(c/4))+(ql(p/4)-2*p))%7;return h+(h<=0?7:0)}function F1(r,t,n){let i=n;for(let l=t-1;l>0;l--)i+=Kf(r,l);return i}function NS(r,t,n){const i=F1(r,t,n),l=T0(r,t,n)||7,p=T0(r,1,1),c=ql((i-l+10)/7);return c<1?5===p||6===p&&dm(r-1)?{week:53,year:r-1}:{week:52,year:r-1}:53===c&&(dm(r)?366:365)-i<4-l?{week:1,year:r+1}:{week:c,year:r}}function kh(r,t,n,i,l,p,c,h,V,$){for(const I of[r,t,n,i,l,p,c,h,V,$])if(0!==I)return I<0?-1:1;return 0}function j1(r,t){let n=r,i=t;if(!Rl(n)||!Rl(i))throw new RangeError("infinity is out of range");return i-=1,n+=ql(i/12),i%=12,i<0&&(i+=12),i+=1,{year:n,month:i}}function Mb(r,t,n){let i=r,l=t,p=n;if(!Rl(p))throw new RangeError("infinity is out of range");({year:i,month:l}=j1(i,l));const c=146097;if(Vs(p)>c){const $=hu(p/c);i+=400*$,p-=$*c}let h=0,V=l>2?i:i-1;for(;h=dm(V)?366:365,p<-h;)i-=1,V-=1,p+=h;for(V+=1;h=dm(V)?366:365,p>h;)i+=1,V+=1,p-=h;for(;p<1;)({year:i,month:l}=j1(i,l-1)),p+=Kf(i,l);for(;p>Kf(i,l);)p-=Kf(i,l),({year:i,month:l}=j1(i,l+1));return{year:i,month:l,day:p}}function $1(r,t,n,i,l,p,c,h,V){const{deltaDays:$,hour:I,minute:q,second:Ce,millisecond:Be,microsecond:Pe,nanosecond:Ke}=rf(i,l,p,c,h,V),{year:rt,month:ht,day:ct}=Mb(r,t,n+$);return{year:rt,month:ht,day:ct,hour:I,minute:q,second:Ce,millisecond:Be,microsecond:Pe,nanosecond:Ke}}function rf(r,t,n,i,l,p){let c,h=kt.BigInt(r),V=kt.BigInt(t),$=kt.BigInt(n),I=kt.BigInt(i),q=kt.BigInt(l),Ce=kt.BigInt(p);return({quotient:c,remainder:Ce}=vu(Ce,jo)),q=kt.add(q,c),({quotient:c,remainder:q}=vu(q,jo)),I=kt.add(I,c),({quotient:c,remainder:I}=vu(I,jo)),$=kt.add($,c),({quotient:c,remainder:$}=vu($,_h)),V=kt.add(V,c),({quotient:c,remainder:V}=vu(V,_h)),h=kt.add(h,c),({quotient:c,remainder:h}=vu(h,II)),{deltaDays:kt.toNumber(c),hour:kt.toNumber(h),minute:kt.toNumber(V),second:kt.toNumber($),millisecond:kt.toNumber(I),microsecond:kt.toNumber(q),nanosecond:kt.toNumber(Ce)}}function ag(r,t,n,i,l,p,c,h){const V=kt.BigInt(r);let $=kt.BigInt(c);0!==r&&($=kt.subtract(kt.BigInt(c),kt.BigInt(h)));const I=kt.add(kt.BigInt(t),kt.multiply(V,kt.BigInt(24))),q=kt.add(kt.BigInt(n),kt.multiply(I,_h)),Ce=kt.add(kt.BigInt(i),kt.multiply(q,_h)),Be=kt.add(kt.BigInt(l),kt.multiply(Ce,jo)),Pe=kt.add(kt.BigInt(p),kt.multiply(Be,jo));return kt.add(kt.BigInt($),kt.multiply(Pe,jo))}function K1(r,t){const n=Ur("%Temporal.Instant%"),i=y0(kt.toNumber(r));let l=kt.BigInt(r),p=864e11;if(0===i)return{days:0,nanoseconds:_a,dayLengthNs:p};if(!ri(t)){let dt;return({quotient:dt,remainder:l}=Ea(l,kt.BigInt(p))),{days:kt.toNumber(dt),nanoseconds:l,dayLengthNs:p}}const c=He(t,xi),h=He(t,Pc),V=kt.add(c,l),$=new n(V),I=He(t,as),q=He(t,Qn),Ce=Hd(I,h,q),Be=Hd(I,$,q);let{days:Pe}=G1(He(Ce,Yr),He(Ce,Qr),He(Ce,ni),He(Ce,no),He(Ce,so),He(Ce,ao),He(Ce,po),He(Ce,ro),He(Ce,co),He(Be,Yr),He(Be,Qr),He(Be,ni),He(Be,no),He(Be,so),He(Be,ao),He(Be,po),He(Be,ro),He(Be,co),q,"day",el(null)),Ke=gu(h,I,q,0,0,0,Pe,0,0,0,0,0,0),rt=kt.BigInt(Pe);if(1===i)for(;kt.greaterThan(rt,_a)&&kt.greaterThan(Ke,V);)rt=kt.subtract(rt,sp),Ke=gu(h,I,q,0,0,0,kt.toNumber(rt),0,0,0,0,0,0);l=kt.subtract(V,Ke);let ht=!1,ct=new n(Ke);do{const dt=gu(ct,I,q,0,0,0,i,0,0,0,0,0,0),At=He(ct,xi);p=kt.toNumber(kt.subtract(dt,At)),ht=kt.greaterThanOrEqual(kt.multiply(kt.subtract(l,kt.BigInt(p)),kt.BigInt(i)),_a),ht&&(l=kt.subtract(l,kt.BigInt(p)),ct=new n(dt),rt=kt.add(rt,kt.BigInt(i)))}while(ht);if(!bs(rt)&&b1(rt)!==i)throw new RangeError("Time zone or calendar converted nanoseconds into a number of days with the opposite sign");if(!bs(l)&&b1(l)!==i)throw v0(l)&&1===i?new Error("assert not reached"):new RangeError("Time zone or calendar ended up with a remainder of nanoseconds with the opposite sign");if(kt.greaterThanOrEqual(Ju(l),Ju(kt.BigInt(p))))throw new Error("assert not reached");return{days:kt.toNumber(rt),nanoseconds:l,dayLengthNs:Vs(p)}}function yu(r,t,n,i,l,p,c,h,V){let $=zI(r,t,n,i,l,p,c,h,V);if("positive overflow"===$||"negative overflow"===$)throw new RangeError("Duration out of range");return $}function zI(r,t,n,i,l,p,c,h,V){let $,I,q,Ce,Be,Pe,Ke=r;if(ri(V)){const zt=gu(He(V,Pc),He(V,as),He(V,Qn),0,0,0,Ke,t,n,i,l,p,c),Xt=He(V,xi);$=kt.subtract(zt,Xt)}else $=ag(Ke,t,n,i,l,p,c,0);"year"===h||"month"===h||"week"===h||"day"===h?({days:Ke,nanoseconds:$}=K1($,V)):Ke=0;const rt=kt.lessThan($,_a)?-1:1;switch($=Ju($),I=q=Ce=Be=Pe=_a,h){case"year":case"month":case"week":case"day":case"hour":({quotient:I,remainder:$}=Ea($,jo)),({quotient:q,remainder:I}=Ea(I,jo)),({quotient:Ce,remainder:q}=Ea(q,jo)),({quotient:Be,remainder:Ce}=Ea(Ce,_h)),({quotient:Pe,remainder:Be}=Ea(Be,_h));break;case"minute":({quotient:I,remainder:$}=Ea($,jo)),({quotient:q,remainder:I}=Ea(I,jo)),({quotient:Ce,remainder:q}=Ea(q,jo)),({quotient:Be,remainder:Ce}=Ea(Ce,_h));break;case"second":({quotient:I,remainder:$}=Ea($,jo)),({quotient:q,remainder:I}=Ea(I,jo)),({quotient:Ce,remainder:q}=Ea(q,jo));break;case"millisecond":({quotient:I,remainder:$}=Ea($,jo)),({quotient:q,remainder:I}=Ea(I,jo));break;case"microsecond":({quotient:I,remainder:$}=Ea($,jo));break;case"nanosecond":break;default:throw new Error("assert not reached")}const ht=kt.toNumber(Pe)*rt,ct=kt.toNumber(Be)*rt,dt=kt.toNumber(Ce)*rt,At=kt.toNumber(q)*rt,Pt=kt.toNumber(I)*rt,Ct=kt.toNumber($)*rt;for(const zt of[Ke,ht,ct,dt,At,Pt,Ct])if(!Rl(zt))return 1===rt?"positive overflow":"negative overflow";return{days:Ke,hours:ht,minutes:ct,seconds:dt,milliseconds:At,microseconds:Pt,nanoseconds:Ct}}function V1(r,t,n,i,l,p){const c=Ur("%Temporal.Duration%"),h=kh(r,t,n,i,0,0,0,0,0,0);if(0===h)return{years:r,months:t,weeks:n,days:i};const V=kt.BigInt(h);let $,I,q=kt.BigInt(r),Ce=kt.BigInt(t),Be=kt.BigInt(n),Pe=kt.BigInt(i);p&&(I=hs(p),$=He(I,Qn));const Ke=new c(h),rt=new c(0,h),ht=new c(0,0,h);switch(l){case"year":break;case"month":{if(!$)throw new RangeError("a starting point is required for months balancing");let ct,dt;for("string"!=typeof $&&(ct=Go($,"dateAdd"),dt=Go($,"dateUntil"));!bs(q);){const At=Ca($,I,Ke,void 0,ct),Pt=el(null);Pt.largestUnit="month";const Ct=mu($,I,At,Pt,dt),zt=kt.BigInt(He(Ct,Bc));I=At,Ce=kt.add(Ce,zt),q=kt.subtract(q,V)}}break;case"week":{if(!$)throw new RangeError("a starting point is required for weeks balancing");const ct="string"!=typeof $?Go($,"dateAdd"):void 0;for(;!bs(q);){let dt;({relativeTo:I,days:dt}=il($,I,Ke,ct)),Pe=kt.add(Pe,kt.BigInt(dt)),q=kt.subtract(q,V)}for(;!bs(Ce);){let dt;({relativeTo:I,days:dt}=il($,I,rt,ct)),Pe=kt.add(Pe,kt.BigInt(dt)),Ce=kt.subtract(Ce,V)}break}default:{if(bs(q)&&bs(Ce)&&bs(Be))break;if(!$)throw new RangeError("a starting point is required for balancing calendar units");const ct="string"!=typeof $?Go($,"dateAdd"):void 0;for(;!bs(q);){let dt;({relativeTo:I,days:dt}=il($,I,Ke,ct)),Pe=kt.add(Pe,kt.BigInt(dt)),q=kt.subtract(q,V)}for(;!bs(Ce);){let dt;({relativeTo:I,days:dt}=il($,I,rt,ct)),Pe=kt.add(Pe,kt.BigInt(dt)),Ce=kt.subtract(Ce,V)}for(;!bs(Be);){let dt;({relativeTo:I,days:dt}=il($,I,ht,ct)),Pe=kt.add(Pe,kt.BigInt(dt)),Be=kt.subtract(Be,V)}break}}return{years:kt.toNumber(q),months:kt.toNumber(Ce),weeks:kt.toNumber(Be),days:kt.toNumber(Pe)}}function HI(r,t,n,i,l){if(ri(r)){const p=He(r,Pc),c=He(r,as),h=He(r,Qn),V=ef(c,p),$=gu(p,c,h,t,n,i,l,0,0,0,0,0,0);return ef(c,new(Ur("%Temporal.Instant%"))($))-V}return 0}function WI(r){return new(Ur("%Temporal.Duration%"))(-He(r,Cl),-He(r,Bc),-He(r,Sd),-He(r,Xl),-He(r,Zl),-He(r,Yl),-He(r,Jl),-He(r,kl),-He(r,Ya),-He(r,cc))}function Ad(r,t,n){return TI(n,U8(t,r))}function GI(r,t,n){const i=Ad(t,1,12);return{year:r,month:i,day:Ad(n,1,Kf(r,i))}}function Uc(r,t,n){if(r<t||r>n)throw new RangeError(`value out of range: ${t} <= ${r} <= ${n}`)}function Rh(r,t,n){Uc(t,1,12),Uc(n,1,Kf(r,t))}function XI(r,t,n){z8(r,t,n,12,0,0,0,0,0)}function z1(r,t,n,i,l,p){Uc(r,0,23),Uc(t,0,59),Uc(n,0,59),Uc(i,0,999),Uc(l,0,999),Uc(p,0,999)}function Ab(r,t,n,i,l,p,c,h,V){Rh(r,t,n),z1(i,l,p,c,h,V)}function z8(r,t,n,i,l,p,c,h,V){if(Uc(r,v1,rm),r===v1&&null==rl(r,t,n+1,i,l,p,c,h,V-1)||r===rm&&null==rl(r,t,n-1,i,l,p,c,h,V+1))throw new RangeError("DateTime outside of supported range")}function D0(r){if(kt.lessThan(r,Ql)||kt.greaterThan(r,Uf))throw new RangeError("Instant outside of supported range")}function cg(r,t,n,i,l,p,c,h,V,$){const I=kh(r,t,n,i,l,p,c,h,V,$);for(const q of[r,t,n,i,l,p,c,h,V,$]){if(!Rl(q))throw new RangeError("infinite values not allowed as duration fields");const Ce=y0(q);if(0!==Ce&&Ce!==I)throw new RangeError("mixed-sign values not allowed as duration fields")}}function H1(r,t,n,i,l,p,c){switch(c){case"year":case"month":{const h=-Oh(r,t,n,i,l,p);if(0===h)return{years:0,months:0,weeks:0,days:0};const V={year:r,month:t,day:n},$={year:i,month:l,day:p};let I=$.year-V.year,q=um(r,t,n,I,0,0,0,"constrain"),Ce=-Oh(q.year,q.month,q.day,i,l,p);if(0===Ce)return"year"===c?{years:I,months:0,weeks:0,days:0}:{years:0,months:12*I,weeks:0,days:0};let Be=$.month-V.month;if(Ce!==h&&(I-=h,Be+=12*h),q=um(r,t,n,I,Be,0,0,"constrain"),Ce=-Oh(q.year,q.month,q.day,i,l,p),0===Ce)return"year"===c?{years:I,months:Be,weeks:0,days:0}:{years:0,months:Be+12*I,weeks:0,days:0};Ce!==h&&(Be-=h,Be===-h&&(I-=h,Be=11*h),q=um(r,t,n,I,Be,0,0,"constrain"));let Pe=0;return Pe=q.month===$.month?$.day-q.day:h<0?-q.day-(Kf($.year,$.month)-$.day):$.day+(Kf(q.year,q.month)-q.day),"month"===c&&(Be+=12*I,I=0),{years:I,months:Be,weeks:0,days:Pe}}case"week":case"day":{let h,V,$;Oh(r,t,n,i,l,p)<0?(V={year:r,month:t,day:n},h={year:i,month:l,day:p},$=1):(V={year:i,month:l,day:p},h={year:r,month:t,day:n},$=-1);let I=F1(h.year,h.month,h.day)-F1(V.year,V.month,V.day);for(let Ce=V.year;Ce<h.year;++Ce)I+=dm(Ce)?366:365;let q=0;return"week"===c&&(q=ql(I/7),I%=7),q*=$,I*=$,{years:0,months:0,weeks:q,days:I}}default:throw new Error("assert not reached")}}function LS(r,t,n,i,l,p,c,h,V,$,I,q){let Ce=c-r,Be=h-t,Pe=V-n,Ke=$-i,rt=I-l,ht=q-p;const ct=kh(0,0,0,0,Ce,Be,Pe,Ke,rt,ht);Ce*=ct,Be*=ct,Pe*=ct,Ke*=ct,rt*=ct,ht*=ct;let dt=0;if(({deltaDays:dt,hour:Ce,minute:Be,second:Pe,millisecond:Ke,microsecond:rt,nanosecond:ht}=rf(Ce,Be,Pe,Ke,rt,ht)),0!=dt)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return Ce*=ct,Be*=ct,Pe*=ct,Ke*=ct,rt*=ct,ht*=ct,{hours:Ce,minutes:Be,seconds:Pe,milliseconds:Ke,microseconds:rt,nanoseconds:ht}}function W1(r,t,n,i,l,p){const c=kt.subtract(t,r);let h=0,V=0,$=kt.toNumber(kt.remainder(c,jo)),I=kt.toNumber(kt.remainder(kt.divide(c,jo),jo)),q=kt.toNumber(kt.remainder(kt.divide(c,Vd),jo)),Ce=kt.toNumber(kt.divide(c,Nc));return({hours:h,minutes:V,seconds:Ce,milliseconds:q,microseconds:I,nanoseconds:$}=Vf(0,0,0,0,0,0,Ce,q,I,$,n,i,p)),yu(0,h,V,Ce,q,I,$,l)}function G1(r,t,n,i,l,p,c,h,V,$,I,q,Ce,Be,Pe,Ke,rt,ht,ct,dt,At){let Pt=r,Ct=t,zt=n,{hours:Xt,minutes:xn,seconds:Cn,milliseconds:Nn,microseconds:ir,nanoseconds:Pn}=LS(i,l,p,c,h,V,Ce,Be,Pe,Ke,rt,ht);const Hn=kh(0,0,0,0,Xt,xn,Cn,Nn,ir,Pn);Oh($,I,q,Pt,Ct,zt)===-Hn&&(({year:Pt,month:Ct,day:zt}=Mb(Pt,Ct,zt-Hn)),({hours:Xt,minutes:xn,seconds:Cn,milliseconds:Nn,microseconds:ir,nanoseconds:Pn}=yu(-Hn,Xt,xn,Cn,Nn,ir,Pn,dt)));const ln=zd(Pt,Ct,zt,ct),vn=zd($,I,q,ct),wn=x0("day",dt),Un=bu(At);Un.largestUnit=wn;let{years:Sn,months:Vn,weeks:lr,days:cr}=mu(ct,ln,vn,Un);return({days:cr,hours:Xt,minutes:xn,seconds:Cn,milliseconds:Nn,microseconds:ir,nanoseconds:Pn}=yu(cr,Xt,xn,Cn,Nn,ir,Pn,dt)),{years:Sn,months:Vn,weeks:lr,days:cr,hours:Xt,minutes:xn,seconds:Cn,milliseconds:Nn,microseconds:ir,nanoseconds:Pn}}function ZI(r,t,n,i,l,p){const c=kt.subtract(t,r);if(kt.equal(c,_a))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};const h=Ur("%Temporal.Instant%"),V=new h(r),$=new h(t),I=Hd(n,V,i),q=Hd(n,$,i);let{years:Ce,months:Be,weeks:Pe,days:Ke}=G1(He(I,Yr),He(I,Qr),He(I,ni),He(I,no),He(I,so),He(I,ao),He(I,po),He(I,ro),He(I,co),He(q,Yr),He(q,Qr),He(q,ni),He(q,no),He(q,so),He(q,ao),He(q,po),He(q,ro),He(q,co),i,l,p);const rt=gu(V,n,i,Ce,Be,Pe,0,0,0,0,0,0,0);let ht=kt.subtract(t,rt);const ct=Ia(rt,n,i);({nanoseconds:ht,days:Ke}=K1(ht,ct));const{hours:dt,minutes:At,seconds:Pt,milliseconds:Ct,microseconds:zt,nanoseconds:Xt}=yu(0,0,0,0,0,0,kt.toNumber(ht),"hour");return{years:Ce,months:Be,weeks:Pe,days:Ke,hours:dt,minutes:At,seconds:Pt,milliseconds:Ct,microseconds:zt,nanoseconds:Xt}}function I0(r,t,n,i,l,p){const c=fb.reduce((Be,Pe)=>{const Ke=Pe[0],rt=Pe[1];return"datetime"!==n&&Pe[2]!==n||i.includes(rt)||Be.push(rt,Ke),Be},[]);let h=Md(t,"largestUnit",n,"auto");if(i.includes(h))throw new RangeError(`largestUnit must be one of ${c.join(", ")}, not ${h}`);const V=am(t);let $=Sh(t,"trunc");"since"===r&&($=function(Pe){switch(Pe){case"ceil":return"floor";case"floor":return"ceil";case"halfCeil":return"halfFloor";case"halfFloor":return"halfCeil";default:return Pe}}($));const I=Md(t,"smallestUnit",n,l);if(i.includes(I))throw new RangeError(`smallestUnit must be one of ${c.join(", ")}, not ${I}`);const q=x0(p,I);if("auto"===h&&(h=q),x0(h,I)!==h)throw new RangeError(`largestUnit ${h} cannot be smaller than smallestUnit ${I}`);const Ce={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[I];return void 0!==Ce&&ng(V,Ce,!1),{largestUnit:h,roundingIncrement:V,roundingMode:$,smallestUnit:I}}function US(r,t,n,i){const l="since"===r?-1:1,p=Ff(n),c=I0(r,bu(i),"time",[],"nanosecond","second"),h=He(t,xi),V=He(p,xi);let{hours:$,minutes:I,seconds:q,milliseconds:Ce,microseconds:Be,nanoseconds:Pe}=W1(h,V,c.roundingIncrement,c.smallestUnit,c.largestUnit,c.roundingMode);return new(Ur("%Temporal.Duration%"))(0,0,0,0,l*$,l*I,l*q,l*Ce,l*Be,l*Pe)}function YI(r,t,n,i){const l="since"===r?-1:1,p=hs(n),c=He(t,Qn);Ih(c,He(p,Qn),"compute difference between dates");const h=bu(i),V=I0(r,h,"date",[],"day","day");h.largestUnit=V.largestUnit;let{years:$,months:I,weeks:q,days:Ce}=mu(c,t,p,h);return"day"===V.smallestUnit&&1===V.roundingIncrement||({years:$,months:I,weeks:q,days:Ce}=Vf($,I,q,Ce,0,0,0,0,0,0,V.roundingIncrement,V.smallestUnit,V.roundingMode,t)),new(Ur("%Temporal.Duration%"))(l*$,l*I,l*q,l*Ce,0,0,0,0,0,0)}function FS(r,t,n,i){const l="since"===r?-1:1,p=S0(n),c=He(t,Qn);Ih(c,He(p,Qn),"compute difference between dates");const h=bu(i),V=I0(r,h,"datetime",[],"nanosecond","day");let{years:$,months:I,weeks:q,days:Ce,hours:Be,minutes:Pe,seconds:Ke,milliseconds:rt,microseconds:ht,nanoseconds:ct}=G1(He(t,Yr),He(t,Qr),He(t,ni),He(t,no),He(t,so),He(t,ao),He(t,po),He(t,ro),He(t,co),He(p,Yr),He(p,Qr),He(p,ni),He(p,no),He(p,so),He(p,ao),He(p,po),He(p,ro),He(p,co),c,V.largestUnit,h);const dt=sg(t);return({years:$,months:I,weeks:q,days:Ce,hours:Be,minutes:Pe,seconds:Ke,milliseconds:rt,microseconds:ht,nanoseconds:ct}=Vf($,I,q,Ce,Be,Pe,Ke,rt,ht,ct,V.roundingIncrement,V.smallestUnit,V.roundingMode,dt)),({days:Ce,hours:Be,minutes:Pe,seconds:Ke,milliseconds:rt,microseconds:ht,nanoseconds:ct}=yu(Ce,Be,Pe,Ke,rt,ht,ct,V.largestUnit)),new(Ur("%Temporal.Duration%"))(l*$,l*I,l*q,l*Ce,l*Be,l*Pe,l*Ke,l*rt,l*ht,l*ct)}function H8(r,t,n,i){const l="since"===r?-1:1,p=Mh(n),c=I0(r,bu(i),"time",[],"nanosecond","hour");let{hours:h,minutes:V,seconds:$,milliseconds:I,microseconds:q,nanoseconds:Ce}=LS(He(t,no),He(t,so),He(t,ao),He(t,po),He(t,ro),He(t,co),He(p,no),He(p,so),He(p,ao),He(p,po),He(p,ro),He(p,co));return({hours:h,minutes:V,seconds:$,milliseconds:I,microseconds:q,nanoseconds:Ce}=Vf(0,0,0,0,h,V,$,I,q,Ce,c.roundingIncrement,c.smallestUnit,c.roundingMode)),({hours:h,minutes:V,seconds:$,milliseconds:I,microseconds:q,nanoseconds:Ce}=yu(0,h,V,$,I,q,Ce,c.largestUnit)),new(Ur("%Temporal.Duration%"))(0,0,0,0,l*h,l*V,l*$,l*I,l*q,l*Ce)}function W8(r,t,n,i){const l="since"===r?-1:1,p=ig(n),c=He(t,Qn);Ih(c,He(p,Qn),"compute difference between months");const h=bu(i),V=I0(r,h,"date",["week","day"],"month","year");h.largestUnit=V.largestUnit;const $=Sa(c,["monthCode","year"]),I=wo(t,$,[]);I.day=1;const q=fp(c,I),Ce=wo(p,$,[]);Ce.day=1;const Be=fp(c,Ce);let{years:Pe,months:Ke}=mu(c,q,Be,h);return"month"===V.smallestUnit&&1===V.roundingIncrement||({years:Pe,months:Ke}=Vf(Pe,Ke,0,0,0,0,0,0,0,0,V.roundingIncrement,V.smallestUnit,V.roundingMode,q)),new(Ur("%Temporal.Duration%"))(l*Pe,l*Ke,0,0,0,0,0,0,0,0)}function JI(r,t,n,i){const l="since"===r?-1:1,p=M0(n),c=He(t,Qn);Ih(c,He(p,Qn),"compute difference between dates");const h=bu(i),V=I0(r,h,"datetime",[],"nanosecond","hour");h.largestUnit=V.largestUnit;const $=He(t,xi),I=He(p,xi);let q,Ce,Be,Pe,Ke,rt,ht,ct,dt,At;if("year"!==V.largestUnit&&"month"!==V.largestUnit&&"week"!==V.largestUnit&&"day"!==V.largestUnit)q=0,Ce=0,Be=0,Pe=0,({hours:Ke,minutes:rt,seconds:ht,milliseconds:ct,microseconds:dt,nanoseconds:At}=W1($,I,V.roundingIncrement,V.smallestUnit,V.largestUnit,V.roundingMode));else{const Pt=He(t,as);if(!CS(Pt,He(p,as)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");({years:q,months:Ce,weeks:Be,days:Pe,hours:Ke,minutes:rt,seconds:ht,milliseconds:ct,microseconds:dt,nanoseconds:At}=ZI($,I,Pt,c,V.largestUnit,h)),({years:q,months:Ce,weeks:Be,days:Pe,hours:Ke,minutes:rt,seconds:ht,milliseconds:ct,microseconds:dt,nanoseconds:At}=Vf(q,Ce,Be,Pe,Ke,rt,ht,ct,dt,At,V.roundingIncrement,V.smallestUnit,V.roundingMode,t)),({years:q,months:Ce,weeks:Be,days:Pe,hours:Ke,minutes:rt,seconds:ht,milliseconds:ct,microseconds:dt,nanoseconds:At}=KS(q,Ce,Be,Pe,Ke,rt,ht,ct,dt,At,V.roundingIncrement,V.smallestUnit,V.roundingMode,t))}return new(Ur("%Temporal.Duration%"))(l*q,l*Ce,l*Be,l*Pe,l*Ke,l*rt,l*ht,l*ct,l*dt,l*At)}function um(r,t,n,i,l,p,c,h){let V=r,$=t,I=n,q=p,Ce=c;return V+=i,$+=l,({year:V,month:$}=j1(V,$)),({year:V,month:$,day:I}=x1(V,$,I,h)),Ce+=7*q,I+=Ce,({year:V,month:$,day:I}=Mb(V,$,I)),{year:V,month:$,day:I}}function Tb(r,t,n,i,l,p,c,h,V,$,I,q){let Ce=r,Be=t,Pe=n,Ke=i,rt=l,ht=p;Ce+=c,Be+=h,Pe+=V,Ke+=$,rt+=I,ht+=q;let ct=0;return({deltaDays:ct,hour:Ce,minute:Be,second:Pe,millisecond:Ke,microsecond:rt,nanosecond:ht}=rf(Ce,Be,Pe,Ke,rt,ht)),{deltaDays:ct,hour:Ce,minute:Be,second:Pe,millisecond:Ke,microsecond:rt,nanosecond:ht}}function qI(r,t,n,i,l,p,c,h,V,$,I,q,Ce,Be,Pe,Ke,rt,ht,ct,dt,At){const Pt=x0(TS(r,t,n,i,l,p,c,h,V,$),TS(I,q,Ce,Be,Pe,Ke,rt,ht,ct,dt));let Ct,zt,Xt,xn,Cn,Nn,ir,Pn,Hn,ln;if(At)if(yo(At)){const vn=Ur("%Temporal.Duration%"),wn=He(At,Qn),Un=new vn(r,t,n,i,0,0,0,0,0,0),Sn=new vn(I,q,Ce,Be,0,0,0,0,0,0),Vn="string"!=typeof wn?Go(wn,"dateAdd"):void 0,lr=Ca(wn,At,Un,void 0,Vn),cr=Ca(wn,lr,Sn,void 0,Vn),yn=x0("day",Pt),dr=el(null);dr.largestUnit=yn,({years:Ct,months:zt,weeks:Xt,days:xn}=mu(wn,At,cr,dr)),({days:xn,hours:Cn,minutes:Nn,seconds:ir,milliseconds:Pn,microseconds:Hn,nanoseconds:ln}=yu(xn,kt.add(kt.BigInt(l),kt.BigInt(Pe)),kt.add(kt.BigInt(p),kt.BigInt(Ke)),kt.add(kt.BigInt(c),kt.BigInt(rt)),kt.add(kt.BigInt(h),kt.BigInt(ht)),kt.add(kt.BigInt(V),kt.BigInt(ct)),kt.add(kt.BigInt($),kt.BigInt(dt)),Pt))}else{const vn=Ur("%Temporal.Instant%"),wn=He(At,as),Un=He(At,Qn),Sn=gu(He(At,Pc),wn,Un,r,t,n,i,l,p,c,h,V,$),Vn=gu(new vn(Sn),wn,Un,I,q,Ce,Be,Pe,Ke,rt,ht,ct,dt);"year"!==Pt&&"month"!==Pt&&"week"!==Pt&&"day"!==Pt?(Ct=0,zt=0,Xt=0,xn=0,({hours:Cn,minutes:Nn,seconds:ir,milliseconds:Pn,microseconds:Hn,nanoseconds:ln}=W1(He(At,xi),Vn,1,"nanosecond",Pt,"halfExpand"))):({years:Ct,months:zt,weeks:Xt,days:xn,hours:Cn,minutes:Nn,seconds:ir,milliseconds:Pn,microseconds:Hn,nanoseconds:ln}=ZI(He(At,xi),Vn,wn,Un,Pt,el(null)))}else{if("year"===Pt||"month"===Pt||"week"===Pt)throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");Ct=zt=Xt=0,({days:xn,hours:Cn,minutes:Nn,seconds:ir,milliseconds:Pn,microseconds:Hn,nanoseconds:ln}=yu(i+Be,kt.add(kt.BigInt(l),kt.BigInt(Pe)),kt.add(kt.BigInt(p),kt.BigInt(Ke)),kt.add(kt.BigInt(c),kt.BigInt(rt)),kt.add(kt.BigInt(h),kt.BigInt(ht)),kt.add(kt.BigInt(V),kt.BigInt(ct)),kt.add(kt.BigInt($),kt.BigInt(dt)),Pt))}return cg(Ct,zt,Xt,xn,Cn,Nn,ir,Pn,Hn,ln),{years:Ct,months:zt,weeks:Xt,days:xn,hours:Cn,minutes:Nn,seconds:ir,milliseconds:Pn,microseconds:Hn,nanoseconds:ln}}function jS(r,t,n,i,l,p,c){let h=_a;h=kt.add(h,kt.BigInt(c)),h=kt.add(h,kt.multiply(kt.BigInt(p),jo)),h=kt.add(h,kt.multiply(kt.BigInt(l),Vd)),h=kt.add(h,kt.multiply(kt.BigInt(i),Nc)),h=kt.add(h,kt.multiply(kt.BigInt(n),kt.BigInt(6e10))),h=kt.add(h,kt.multiply(kt.BigInt(t),kt.BigInt(36e11)));const V=kt.add(r,h);return D0(V),V}function Db(r,t,n,i,l,p,c,h,V,$,I,q,Ce,Be,Pe,Ke,rt,ht,ct,dt,At){let Pt=Be,{deltaDays:Ct,hour:zt,minute:Xt,second:xn,millisecond:Cn,microsecond:Nn,nanosecond:ir}=Tb(i,l,p,c,h,V,Pe,Ke,rt,ht,ct,dt);Pt+=Ct;const Pn=Ur("%Temporal.Duration%"),Hn=Ca($,zd(r,t,n,$),new Pn(I,q,Ce,Pt,0,0,0,0,0,0),At);return{year:He(Hn,Yr),month:He(Hn,Qr),day:He(Hn,ni),hour:zt,minute:Xt,second:xn,millisecond:Cn,microsecond:Nn,nanosecond:ir}}function gu(r,t,n,i,l,p,c,h,V,$,I,q,Ce,Be){const Pe=Ur("%Temporal.Duration%");if(0===kh(i,l,p,c,0,0,0,0,0,0))return jS(He(r,xi),h,V,$,I,q,Ce);const Ke=Hd(t,r,n),rt=Ca(n,zd(He(Ke,Yr),He(Ke,Qr),He(Ke,ni),n),new Pe(i,l,p,c,0,0,0,0,0,0),Be),ht=nd(He(rt,Yr),He(rt,Qr),He(rt,ni),He(Ke,no),He(Ke,so),He(Ke,ao),He(Ke,po),He(Ke,ro),He(Ke,co),n);return jS(He(nl(t,ht,"compatible"),xi),h,V,$,I,q,Ce)}function Ib(r,t,n,i){const l="subtract"===r?-1:1;let{years:p,months:c,weeks:h,days:V,hours:$,minutes:I,seconds:q,milliseconds:Ce,microseconds:Be,nanoseconds:Pe}=sm(n);const Ke=A1(Io(i));return({years:p,months:c,weeks:h,days:V,hours:$,minutes:I,seconds:q,milliseconds:Ce,microseconds:Be,nanoseconds:Pe}=qI(He(t,Cl),He(t,Bc),He(t,Sd),He(t,Xl),He(t,Zl),He(t,Yl),He(t,Jl),He(t,kl),He(t,Ya),He(t,cc),l*p,l*c,l*h,l*V,l*$,l*I,l*q,l*Ce,l*Be,l*Pe,Ke)),new(Ur("%Temporal.Duration%"))(p,c,h,V,$,I,q,Ce,Be,Pe)}function Cb(r,t,n){const i="subtract"===r?-1:1,{hours:l,minutes:p,seconds:c,milliseconds:h,microseconds:V,nanoseconds:$}=function(Ce,Be){let Pe=sm(Ce);for(const Ke of["years","months","weeks","days"])if(0!==Pe[Ke])throw new RangeError(`Duration field ${Ke} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return Pe}(n),I=jS(He(t,xi),i*l,i*p,i*c,i*h,i*V,i*$);return new(Ur("%Temporal.Instant%"))(I)}function X1(r,t,n,i){const l="subtract"===r?-1:1,{years:p,months:c,weeks:h,days:V,hours:$,minutes:I,seconds:q,milliseconds:Ce,microseconds:Be,nanoseconds:Pe}=sm(n),Ke=Io(i),rt=He(t,Qn),{year:ht,month:ct,day:dt,hour:At,minute:Pt,second:Ct,millisecond:zt,microsecond:Xt,nanosecond:xn}=Db(He(t,Yr),He(t,Qr),He(t,ni),He(t,no),He(t,so),He(t,ao),He(t,po),He(t,ro),He(t,co),rt,l*p,l*c,l*h,l*V,l*$,l*I,l*q,l*Ce,l*Be,l*Pe,Ke);return nd(ht,ct,dt,At,Pt,Ct,zt,Xt,xn,rt)}function $S(r,t,n){const i="subtract"===r?-1:1,{hours:l,minutes:p,seconds:c,milliseconds:h,microseconds:V,nanoseconds:$}=sm(n);let{hour:I,minute:q,second:Ce,millisecond:Be,microsecond:Pe,nanosecond:Ke}=Tb(He(t,no),He(t,so),He(t,ao),He(t,po),He(t,ro),He(t,co),i*l,i*p,i*c,i*h,i*V,i*$);return({hour:I,minute:q,second:Ce,millisecond:Be,microsecond:Pe,nanosecond:Ke}=S1(I,q,Ce,Be,Pe,Ke,"reject")),new(Ur("%Temporal.PlainTime%"))(I,q,Ce,Be,Pe,Ke)}function QI(r,t,n,i){let l=sm(n);"subtract"===r&&(l={years:-l.years,months:-l.months,weeks:-l.weeks,days:-l.days,hours:-l.hours,minutes:-l.minutes,seconds:-l.seconds,milliseconds:-l.milliseconds,microseconds:-l.microseconds,nanoseconds:-l.nanoseconds});let{years:p,months:c,weeks:h,days:V,hours:$,minutes:I,seconds:q,milliseconds:Ce,microseconds:Be,nanoseconds:Pe}=l;({days:V}=yu(V,$,I,q,Ce,Be,Pe,"day"));const Ke=Io(i),rt=He(t,Qn),ht=Sa(rt,["monthCode","year"]),ct=wo(t,ht,[]),dt=el(null);hb(dt,ct,[]),ct.day=1;let At=fp(rt,ct);const Pt=kh(p,c,h,V,0,0,0,0,0,0),Ct=Go(rt,"dateAdd"),zt=Ur("%Temporal.Duration%");if(Pt<0){const Cn=Ca(rt,At,new zt(0,1,0,0,0,0,0,0,0,0),void 0,Ct),Nn=Ca(rt,Cn,new zt(0,0,0,-1,0,0,0,0,0,0),void 0,Ct);dt.day=Dh(rt,Nn),At=fp(rt,dt)}const Xt=new zt(p,c,h,V,0,0,0,0,0,0),xn=bu(Ke);return hp(rt,wo(Ca(rt,At,Xt,Ke,Ct),ht,[]),xn)}function eC(r,t,n,i){const l="subtract"===r?-1:1,{years:p,months:c,weeks:h,days:V,hours:$,minutes:I,seconds:q,milliseconds:Ce,microseconds:Be,nanoseconds:Pe}=sm(n),Ke=Io(i),rt=He(t,as),ht=He(t,Qn);return Ia(gu(He(t,Pc),rt,ht,l*p,l*c,l*h,l*V,l*$,l*I,l*q,l*Ce,l*Be,l*Pe,Ke),rt,ht)}function Wd(r,t,n){if(kt.equal(t,sp))return r;let{quotient:i,remainder:l}=Ea(r,t);if(kt.equal(l,_a))return r;const p=kt.lessThan(l,_a)?-1:1,c=Ju(kt.multiply(l,kt.BigInt(2))),h=kt.equal(c,t),V=kt.greaterThan(c,t);switch(n){case"ceil":p>0&&(i=kt.add(i,kt.BigInt(p)));break;case"floor":p<0&&(i=kt.add(i,kt.BigInt(p)));break;case"expand":i=kt.add(i,kt.BigInt(p));break;case"trunc":break;case"halfCeil":(V||h&&p>0)&&(i=kt.add(i,kt.BigInt(p)));break;case"halfFloor":(V||h&&p<0)&&(i=kt.add(i,kt.BigInt(p)));break;case"halfExpand":(V||h)&&(i=kt.add(i,kt.BigInt(p)));break;case"halfTrunc":V&&(i=kt.add(i,kt.BigInt(p)));break;case"halfEven":(V||h&&1===kt.toNumber(kt.remainder(Ju(i),kt.BigInt(2))))&&(i=kt.add(i,kt.BigInt(p)))}return kt.multiply(i,t)}function C0(r,t,n,i){let{remainder:l}=vu(r,pu);const p=kt.subtract(r,l),c=Wd(l,kt.BigInt(Bb[n]*t),i);return kt.add(p,c)}function lg(r,t,n,i,l,p,c,h,V,$,I,q,Ce=864e11){const{deltaDays:Be,hour:Pe,minute:Ke,second:rt,millisecond:ht,microsecond:ct,nanosecond:dt}=kb(i,l,p,c,h,V,$,I,q,Ce),{year:At,month:Pt,day:Ct}=Mb(r,t,n+Be);return{year:At,month:Pt,day:Ct,hour:Pe,minute:Ke,second:rt,millisecond:ht,microsecond:ct,nanosecond:dt}}function kb(r,t,n,i,l,p,c,h,V,$=864e11){let I=_a;switch(h){case"day":case"hour":I=kt.BigInt(r);case"minute":I=kt.add(kt.multiply(I,_h),kt.BigInt(t));case"second":I=kt.add(kt.multiply(I,_h),kt.BigInt(n));case"millisecond":I=kt.add(kt.multiply(I,jo),kt.BigInt(i));case"microsecond":I=kt.add(kt.multiply(I,jo),kt.BigInt(l));case"nanosecond":I=kt.add(kt.multiply(I,jo),kt.BigInt(p))}const q="day"===h?$:Bb[h],Ce=Wd(I,kt.BigInt(q*c),V),Be=kt.toNumber(kt.divide(Ce,kt.BigInt(q)));switch(h){case"day":return{deltaDays:Be,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return rf(Be,0,0,0,0,0);case"minute":return rf(r,Be,0,0,0,0);case"second":return rf(r,t,Be,0,0,0);case"millisecond":return rf(r,t,n,Be,0,0);case"microsecond":return rf(r,t,n,i,Be,0);case"nanosecond":return rf(r,t,n,i,l,Be);default:throw new Error(`Invalid unit ${h}`)}}function Rb(r,t){return H1(He(r,Yr),He(r,Qr),He(r,ni),He(t,Yr),He(t,Qr),He(t,ni),"day").days}function il(r,t,n,i){const l=Ca(r,t,n,void 0,i);return{relativeTo:l,days:Rb(t,l)}}function tC(r,t,n,i,l){const p=He(r,as),c=He(r,Qn);return Ia(gu(He(r,Pc),p,c,t,n,i,l,0,0,0,0,0,0),p,c)}function KS(r,t,n,i,l,p,c,h,V,$,I,q,Ce,Be){let Pe=r,Ke=t,rt=n,ht=i,ct=l,dt=p,At=c,Pt=h,Ct=V,zt=$;if(!ri(Be)||"year"===q||"month"===q||"week"===q||"day"===q||"nanosecond"===q&&1===I)return{years:Pe,months:Ke,weeks:rt,days:ht,hours:ct,minutes:dt,seconds:At,milliseconds:Pt,microseconds:Ct,nanoseconds:zt};let Xt=ag(0,ct,dt,At,Pt,Ct,zt,0);const xn=y0(kt.toNumber(Xt)),Cn=He(Be,as),Nn=He(Be,Qn),ir=gu(He(Be,Pc),Cn,Nn,Pe,Ke,rt,ht,0,0,0,0,0,0),Pn=gu(new(Ur("%Temporal.Instant%"))(ir),Cn,Nn,0,0,0,xn,0,0,0,0,0,0),Hn=kt.subtract(Pn,ir);return kt.greaterThanOrEqual(kt.multiply(kt.subtract(Xt,Hn),kt.BigInt(xn)),_a)&&(({years:Pe,months:Ke,weeks:rt,days:ht}=qI(Pe,Ke,rt,ht,0,0,0,0,0,0,0,0,0,xn,0,0,0,0,0,0,Be)),Xt=C0(kt.subtract(Xt,Hn),I,q,Ce),({hours:ct,minutes:dt,seconds:At,milliseconds:Pt,microseconds:Ct,nanoseconds:zt}=yu(0,0,0,0,0,0,kt.toNumber(Xt),"hour"))),{years:Pe,months:Ke,weeks:rt,days:ht,hours:ct,minutes:dt,seconds:At,milliseconds:Pt,microseconds:Ct,nanoseconds:zt}}function Vf(r,t,n,i,l,p,c,h,V,$,I,q,Ce,Be){let Pe=r,Ke=t,rt=n,ht=i,ct=l,dt=p,At=c,Pt=h,Ct=V,zt=kt.BigInt($);const Xt=Ur("%Temporal.Duration%");let xn,Cn,Nn,ir,Pn=Be;if(Pn){if(ri(Pn))Cn=Pn,Pn=hs(Pn);else if(!yo(Pn))throw new TypeError("starting point must be PlainDate or ZonedDateTime");xn=He(Pn,Qn)}if("year"===q||"month"===q||"week"===q||"day"===q){let Hn,ln,vn;zt=ag(0,ct,dt,At,Pt,Ct,$,0),Cn&&(Hn=tC(Cn,Pe,Ke,rt,ht)),({days:ln,nanoseconds:zt,dayLengthNs:vn}=K1(zt,Hn)),Nn=kt.BigInt(vn),ht+=ln,ct=dt=At=Pt=Ct=0}switch(q){case"year":{if(!xn)throw new RangeError("A starting point is required for years rounding");const Hn=new Xt(Pe),ln="string"!=typeof xn?Go(xn,"dateAdd"):void 0,vn=Ca(xn,Pn,Hn,void 0,ln),wn=Ca(xn,Pn,new Xt(Pe,Ke,rt),void 0,ln);Pn=vn,ht+=Rb(vn,wn);const Un=Ca(xn,Pn,new Xt(0,0,0,ht),void 0,ln),Sn=el(null);Sn.largestUnit="year";const Vn=mu(xn,Pn,Un,Sn).years;Pe+=Vn;const lr=Pn;Pn=Ca(xn,Pn,new Xt(Vn),void 0,ln),ht-=Rb(lr,Pn);const cr=new Xt(ht<0?-1:1);let{days:yn}=il(xn,Pn,cr,ln);yn=Vs(yn);const dr=kt.multiply(kt.BigInt(yn),Nn);zt=kt.add(kt.add(kt.multiply(dr,kt.BigInt(Pe)),kt.multiply(kt.BigInt(ht),Nn)),zt);const xr=Wd(zt,kt.multiply(dr,kt.BigInt(I)),Ce);ir=Ph(zt,dr),Pe=kt.toNumber(kt.divide(xr,dr)),zt=_a,Ke=rt=ht=0;break}case"month":{if(!xn)throw new RangeError("A starting point is required for months rounding");const Hn=new Xt(Pe,Ke),ln="string"!=typeof xn?Go(xn,"dateAdd"):void 0,vn=Ca(xn,Pn,Hn,void 0,ln),wn=Ca(xn,Pn,new Xt(Pe,Ke,rt),void 0,ln);Pn=vn,ht+=Rb(vn,wn);const Un=y0(ht),Sn=new Xt(0,ht<0?-1:1);let Vn;for(({relativeTo:Pn,days:Vn}=il(xn,Pn,Sn,ln));Vs(ht)>=Vs(Vn);)Ke+=Un,ht-=Vn,({relativeTo:Pn,days:Vn}=il(xn,Pn,Sn,ln));Vn=Vs(Vn);const lr=kt.multiply(kt.BigInt(Vn),Nn);zt=kt.add(kt.add(kt.multiply(lr,kt.BigInt(Ke)),kt.multiply(kt.BigInt(ht),Nn)),zt);const cr=Wd(zt,kt.multiply(lr,kt.BigInt(I)),Ce);ir=Ph(zt,lr),Ke=kt.toNumber(kt.divide(cr,lr)),zt=_a,rt=ht=0;break}case"week":{if(!xn)throw new RangeError("A starting point is required for weeks rounding");const Hn=y0(ht),ln=new Xt(0,0,ht<0?-1:1),vn="string"!=typeof xn?Go(xn,"dateAdd"):void 0;let wn;for(({relativeTo:Pn,days:wn}=il(xn,Pn,ln,vn));Vs(ht)>=Vs(wn);)rt+=Hn,ht-=wn,({relativeTo:Pn,days:wn}=il(xn,Pn,ln,vn));wn=Vs(wn);const Un=kt.multiply(kt.BigInt(wn),Nn);zt=kt.add(kt.add(kt.multiply(Un,kt.BigInt(rt)),kt.multiply(kt.BigInt(ht),Nn)),zt);const Sn=Wd(zt,kt.multiply(Un,kt.BigInt(I)),Ce);ir=Ph(zt,Un),rt=kt.toNumber(kt.divide(Sn,Un)),zt=_a,ht=0;break}case"day":{const Hn=Nn;zt=kt.add(kt.multiply(Hn,kt.BigInt(ht)),zt);const ln=Wd(zt,kt.multiply(Hn,kt.BigInt(I)),Ce);ir=Ph(zt,Hn),ht=kt.toNumber(kt.divide(ln,Hn)),zt=_a;break}case"hour":{let ln=kt.multiply(kt.BigInt(ct),kt.BigInt(36e11));ln=kt.add(ln,kt.multiply(kt.BigInt(dt),kt.BigInt(6e10))),ln=kt.add(ln,kt.multiply(kt.BigInt(At),Nc)),ln=kt.add(ln,kt.multiply(kt.BigInt(Pt),Vd)),ln=kt.add(ln,kt.multiply(kt.BigInt(Ct),jo)),ln=kt.add(ln,zt),ir=Ph(ln,kt.BigInt(36e11));const vn=Wd(ln,kt.BigInt(36e11*I),Ce);ct=kt.toNumber(kt.divide(vn,kt.BigInt(36e11))),zt=_a,dt=At=Pt=Ct=0;break}case"minute":{let ln=kt.multiply(kt.BigInt(dt),kt.BigInt(6e10));ln=kt.add(ln,kt.multiply(kt.BigInt(At),Nc)),ln=kt.add(ln,kt.multiply(kt.BigInt(Pt),Vd)),ln=kt.add(ln,kt.multiply(kt.BigInt(Ct),jo)),ln=kt.add(ln,zt),ir=Ph(ln,kt.BigInt(6e10));const vn=Wd(ln,kt.BigInt(6e10*I),Ce);dt=kt.toNumber(kt.divide(vn,kt.BigInt(6e10))),zt=_a,At=Pt=Ct=0;break}case"second":{let ln=kt.multiply(kt.BigInt(At),Nc);ln=kt.add(ln,kt.multiply(kt.BigInt(Pt),Vd)),ln=kt.add(ln,kt.multiply(kt.BigInt(Ct),jo)),ln=kt.add(ln,zt),ir=Ph(ln,kt.BigInt(1e9));const vn=Wd(ln,kt.BigInt(1e9*I),Ce);At=kt.toNumber(kt.divide(vn,kt.BigInt(1e9))),zt=_a,Pt=Ct=0;break}case"millisecond":{let ln=kt.multiply(kt.BigInt(Pt),Vd);ln=kt.add(ln,kt.multiply(kt.BigInt(Ct),jo)),ln=kt.add(ln,zt),ir=Ph(ln,kt.BigInt(1e6));const vn=Wd(ln,kt.BigInt(1e6*I),Ce);Pt=kt.toNumber(kt.divide(vn,kt.BigInt(1e6))),zt=_a,Ct=0;break}case"microsecond":{let ln=kt.multiply(kt.BigInt(Ct),jo);ln=kt.add(ln,zt),ir=Ph(ln,kt.BigInt(1e3));const vn=Wd(ln,kt.BigInt(1e3*I),Ce);Ct=kt.toNumber(kt.divide(vn,kt.BigInt(1e3))),zt=_a;break}case"nanosecond":ir=kt.toNumber(zt),zt=Wd(kt.BigInt(zt),kt.BigInt(I),Ce)}return{years:Pe,months:Ke,weeks:rt,days:ht,hours:ct,minutes:dt,seconds:At,milliseconds:Pt,microseconds:Ct,nanoseconds:kt.toNumber(zt),total:ir}}function Oh(r,t,n,i,l,p){for(const[c,h]of[[r,i],[t,l],[n,p]])if(c!==h)return fm(c-h);return 0}function vu(r,t){let{quotient:n,remainder:i}=Ea(r,t);return kt.lessThan(i,_a)&&(n=kt.subtract(n,sp),i=kt.add(i,t)),{quotient:n,remainder:i}}function dg(r,t){const{quotient:n,remainder:i}=Ea(r,t);return bs(i)||!v0(r)==!v0(t)?n:kt.subtract(n,sp)}function Ph(r,t){const{quotient:n,remainder:i}=Ea(r,t);return kt.toNumber(n)+kt.toNumber(i)/kt.toNumber(t)}function mp(r){const t=Z1(r);return void 0!==globalThis.BigInt?globalThis.BigInt(t.toString(10)):t}function Z1(r){let t=r;if("object"==typeof r){const n=r[Symbol.toPrimitive];n&&"function"==typeof n&&(t=eg(n,r,["number"]))}if("number"==typeof t)throw new TypeError("cannot convert number to bigint");return kt.BigInt("bigint"==typeof t?t.toString(10):t)}const Ob=(()=>{let r=kt.BigInt(Date.now()%1e6);return()=>{const t=kt.BigInt(Date.now()),n=kt.add(kt.multiply(t,Vd),r);return r=kt.remainder(t,Vd),kt.greaterThan(n,Uf)?Uf:kt.lessThan(n,Ql)?Ql:n}})();function k0(){return(new wS).resolvedOptions().timeZone}function fm(r){return r<0?-1:r>0?1:r}function Io(r){if(void 0===r)return el(null);if(mo(r)&&null!==r)return r;throw new TypeError("Options parameter must be an object, not "+(null===r?"null":typeof r))}function Pb(r,t){const n=el(null);return n[r]=t,n}function bu(r){const t=el(null);return hb(t,Io(r),[]),t}function hm(r,t,n,i){let l=r[t];if(void 0!==l){if(l=dc(l),!n.includes(l))throw new RangeError(`${t} must be one of ${n.join(", ")}, not ${l}`);return l}return i}function yp(r){return j8.includes(Bh(r))}function Bh(r){return r.replace(/[A-Z]/g,t=>{const n=t.charCodeAt(0);return String.fromCharCode(n+32)})}const R0=new RegExp(`^${gS.source}$`);function nC(r,t,n,i=r(t),l=r(n)){let p=kt.BigInt(t),c=kt.BigInt(n),h=i,V=l;for(;kt.greaterThan(kt.subtract(c,p),sp);){const $=kt.divide(kt.add(p,c),kt.BigInt(2)),I=r($);if(I===h)p=$,h=I;else{if(I!==V)throw new Error(`invalid state in bisection ${h} - ${I} - ${V}`);c=$,V=I}}return c}const Bb={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},Nb=Symbol("date"),Td=Symbol("ym"),VS=Symbol("md"),zS=Symbol("time"),rC=Symbol("datetime"),ug=Symbol("instant"),Nh=Symbol("original"),fg=Symbol("timezone"),sf=Symbol("calendar-id"),HS=Symbol("locale"),O0=Symbol("options"),Lb=r=>({value:r,enumerable:!0,writable:!1,configurable:!0}),hg=globalThis.Intl.DateTimeFormat,gp=Object.assign,iC=Object.prototype.hasOwnProperty,oC=Reflect.apply;function P0(r,t){let n=r[t];return"function"==typeof n&&(n=new hg(r[HS],n(r[O0])),r[t]=n),n}function B0(r,t={}){if(!(this instanceof B0))return new B0(r,t);const n=void 0!==t,i=n?gp({},t):{},l=new hg(r,i),p=l.resolvedOptions();if(n){const c=gp({},p);for(const h in c)oC(iC,i,[h])||delete c[h];this[O0]=c}else this[O0]=i;this[HS]=p.locale,this[Nh]=l,this[fg]=p.timeZone,this[sf]=p.calendar,this[Nb]=sC,this[Td]=W4,this[VS]=G4,this[zS]=H4,this[rC]=q1,this[ug]=G8}Object.defineProperty(B0,"name",{writable:!0,value:"DateTimeFormat"}),B0.supportedLocalesOf=function(r,t){return hg.supportedLocalesOf(r,t)};const Y1={resolvedOptions:Lb(function(){return this[Nh].resolvedOptions()}),format:Lb(function(t,...n){let{instant:i,formatter:l}=pg(t,this);return i&&l?l.format(i.epochMilliseconds):this[Nh].format(t,...n)}),formatRange:Lb(function(t,n){if(Lh(t)||Lh(n)){if(!aC(t,n))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");const{instant:i,formatter:l}=pg(t,this),{instant:p,formatter:c}=pg(n,this);if(i&&p&&l&&c&&l===c)return l.formatRange(i.epochMilliseconds,p.epochMilliseconds)}return this[Nh].formatRange(t,n)})};"formatToParts"in hg.prototype&&(Y1.formatToParts=Lb(function(t,...n){let{instant:i,formatter:l}=pg(t,this);return i&&l?l.formatToParts(i.epochMilliseconds):this[Nh].formatToParts(t,...n)})),"formatRangeToParts"in hg.prototype&&(Y1.formatRangeToParts=Lb(function(t,n){if(Lh(t)||Lh(n)){if(!aC(t,n))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");const{instant:i,formatter:l}=pg(t,this),{instant:p,formatter:c}=pg(n,this);if(i&&p&&l&&c&&l===c)return l.formatRangeToParts(i.epochMilliseconds,p.epochMilliseconds)}return this[Nh].formatRangeToParts(t,n)})),B0.prototype=Object.create(hg.prototype,Y1),Object.defineProperty(B0,"prototype",{writable:!1,enumerable:!1,configurable:!1});const vp=B0;function J1(r={},t={}){const n=gp({},r);for(const i of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])n[i]=i in t?t[i]:n[i],!1!==n[i]&&void 0!==n[i]||delete n[i];return n}function H4(r){let t=J1(r,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return Q1(t)||(t=gp({},t,{hour:"numeric",minute:"numeric",second:"numeric"})),t}function W4(r){let t=J1(r,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in t||"month"in t||(t=gp(t,{year:"numeric",month:"numeric"})),t}function G4(r){let t=J1(r,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in t||"day"in t||(t=gp({},t,{month:"numeric",day:"numeric"})),t}function sC(r){let t=J1(r,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return WS(t)||(t=gp({},t,{year:"numeric",month:"numeric",day:"numeric"})),t}function q1(r){let t=J1(r,{timeZoneName:!1});return Q1(t)||WS(t)||(t=gp({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function G8(r){let t=r;return Q1(t)||WS(t)||(t=gp({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function WS(r){return"year"in r||"month"in r||"day"in r||"weekday"in r||"dateStyle"in r}function Q1(r){return"hour"in r||"minute"in r||"second"in r||"timeStyle"in r||"dayPeriod"in r}function Lh(r){return yo(r)||na(r)||Yi(r)||ri(r)||Do(r)||Va(r)||Qa(r)}function aC(r,t){return!(!Lh(r)||!Lh(t)||na(r)&&!na(t)||yo(r)&&!yo(t)||Yi(r)&&!Yi(t)||ri(r)&&!ri(t)||Do(r)&&!Do(t)||Va(r)&&!Va(t)||Qa(r)&&!Qa(t))}function pg(r,t){const n=Ur("%Temporal.PlainDateTime%");if(na(r)){const i=new n(1970,1,1,He(r,no),He(r,so),He(r,ao),He(r,po),He(r,ro),He(r,co),t[sf]);return{instant:nl(t[fg],i,"compatible"),formatter:P0(t,zS)}}if(Do(r)){const i=He(r,Yr),l=He(r,Qr),p=He(r,ni),c=Lc(He(r,Qn));if(c!==t[sf])throw new RangeError(`cannot format PlainYearMonth with calendar ${c} in locale with calendar ${t[sf]}`);const h=new n(i,l,p,12,0,0,0,0,0,c);return{instant:nl(t[fg],h,"compatible"),formatter:P0(t,Td)}}if(Va(r)){const i=He(r,Yr),l=He(r,Qr),p=He(r,ni),c=Lc(He(r,Qn));if(c!==t[sf])throw new RangeError(`cannot format PlainMonthDay with calendar ${c} in locale with calendar ${t[sf]}`);const h=new n(i,l,p,12,0,0,0,0,0,c);return{instant:nl(t[fg],h,"compatible"),formatter:P0(t,VS)}}if(yo(r)){const i=He(r,Yr),l=He(r,Qr),p=He(r,ni),c=Lc(He(r,Qn));if("iso8601"!==c&&c!==t[sf])throw new RangeError(`cannot format PlainDate with calendar ${c} in locale with calendar ${t[sf]}`);const h=new n(i,l,p,12,0,0,0,0,0,t[sf]);return{instant:nl(t[fg],h,"compatible"),formatter:P0(t,Nb)}}if(Yi(r)){const i=He(r,Yr),l=He(r,Qr),p=He(r,ni),c=He(r,no),h=He(r,so),V=He(r,ao),$=He(r,po),I=He(r,ro),q=He(r,co),Ce=Lc(He(r,Qn));if("iso8601"!==Ce&&Ce!==t[sf])throw new RangeError(`cannot format PlainDateTime with calendar ${Ce} in locale with calendar ${t[sf]}`);let Be=r;return"iso8601"===Ce&&(Be=new n(i,l,p,c,h,V,$,I,q,t[sf])),{instant:nl(t[fg],Be,"compatible"),formatter:P0(t,rC)}}if(ri(r))throw new TypeError("Temporal.ZonedDateTime not supported in DateTimeFormat methods. Use toLocaleString() instead.");return Qa(r)?{instant:r,formatter:P0(t,ug)}:{}}Object.freeze({__proto__:null,DateTimeFormat:vp});class af{constructor(t){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const n=Z1(t);D0(n),wh(this),io(this,xi,n)}get epochSeconds(){if(!Qa(this))throw new TypeError("invalid receiver");const t=He(this,xi);return kt.toNumber(dg(t,Nc))}get epochMilliseconds(){if(!Qa(this))throw new TypeError("invalid receiver");const t=kt.BigInt(He(this,xi));return kt.toNumber(dg(t,Vd))}get epochMicroseconds(){if(!Qa(this))throw new TypeError("invalid receiver");return mp(dg(kt.BigInt(He(this,xi)),jo))}get epochNanoseconds(){if(!Qa(this))throw new TypeError("invalid receiver");return mp(kt.BigInt(He(this,xi)))}add(t){if(!Qa(this))throw new TypeError("invalid receiver");return Cb("add",this,t)}subtract(t){if(!Qa(this))throw new TypeError("invalid receiver");return Cb("subtract",this,t)}until(t,n){if(!Qa(this))throw new TypeError("invalid receiver");return US("until",this,t,n)}since(t,n){if(!Qa(this))throw new TypeError("invalid receiver");return US("since",this,t,n)}round(t){if(!Qa(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?Pb("smallestUnit",t):Io(t),i=am(n),l=Sh(n,"halfExpand"),p=Md(n,"smallestUnit","time",E0);ng(i,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[p],!0);const c=C0(He(this,xi),i,p,l);return new af(c)}equals(t){if(!Qa(this))throw new TypeError("invalid receiver");const n=Ff(t),i=He(this,xi),l=He(n,xi);return kt.equal(kt.BigInt(i),kt.BigInt(l))}toString(t){if(!Qa(this))throw new TypeError("invalid receiver");const n=Io(t),i=pb(n),l=Sh(n,"trunc"),p=Md(n,"smallestUnit","time",void 0);if("hour"===p)throw new RangeError('smallestUnit must be a time unit other than "hour"');let c=n.timeZone;void 0!==c&&(c=Pl(c));const{precision:h,unit:V,increment:$}=mb(p,i),I=C0(He(this,xi),$,V,l);return jI(new af(I),c,h)}toJSON(){if(!Qa(this))throw new TypeError("invalid receiver");return jI(this,void 0,"auto")}toLocaleString(t,n){if(!Qa(this))throw new TypeError("invalid receiver");return new vp(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(t){if(!Qa(this))throw new TypeError("invalid receiver");if(!mo(t))throw new TypeError("invalid argument in toZonedDateTime");const n=t.calendar;if(void 0===n)throw new TypeError("missing calendar property in toZonedDateTime");const i=tl(n),l=t.timeZone;if(void 0===l)throw new TypeError("missing timeZone property in toZonedDateTime");const p=Pl(l);return Ia(He(this,xi),p,i)}toZonedDateTimeISO(t){if(!Qa(this))throw new TypeError("invalid receiver");const n=Pl(t);return Ia(He(this,xi),n,"iso8601")}static fromEpochSeconds(t){const n=Eh(t),i=kt.multiply(kt.BigInt(n),Nc);return D0(i),new af(i)}static fromEpochMilliseconds(t){const n=Eh(t),i=kt.multiply(kt.BigInt(n),Vd);return D0(i),new af(i)}static fromEpochMicroseconds(t){const n=Z1(t),i=kt.multiply(n,jo);return D0(i),new af(i)}static fromEpochNanoseconds(t){const n=Z1(t);return D0(n),new af(n)}static from(t){return Qa(t)?new af(He(t,xi)):Ff(t)}static compare(t,n){const i=Ff(t),l=Ff(n),p=He(i,xi),c=He(l,xi);return kt.lessThan(p,c)?-1:kt.greaterThan(p,c)?1:0}}op(af,"Temporal.Instant");const X8=Array.prototype.includes,Z8=Array.prototype.push,cC=globalThis.Intl.DateTimeFormat,Y8=Array.prototype.sort,J8=Math.abs,Ub=Math.floor,GS=Object.create,eE=Object.entries,XS=Set,lC=Reflect.ownKeys,Fc=Set.prototype.add,dC=Set.prototype.values,Cs={};class pa{constructor(t){if(arguments.length<1)throw new RangeError("missing argument: id is required");const n=dc(t);if(!yp(n))throw new RangeError(`invalid calendar identifier ${n}`);wh(this),io(this,ta,Bh(n))}get id(){if(!Hs(this))throw new TypeError("invalid receiver");return He(this,ta)}dateFromFields(t,n){if(!Hs(this))throw new TypeError("invalid receiver");if(!mo(t))throw new TypeError("invalid fields");const i=Io(n),l=He(this,ta);return Cs[l].dateFromFields(t,i,l)}yearMonthFromFields(t,n){if(!Hs(this))throw new TypeError("invalid receiver");if(!mo(t))throw new TypeError("invalid fields");const i=Io(n),l=He(this,ta);return Cs[l].yearMonthFromFields(t,i,l)}monthDayFromFields(t,n){if(!Hs(this))throw new TypeError("invalid receiver");if(!mo(t))throw new TypeError("invalid fields");const i=Io(n),l=He(this,ta);return Cs[l].monthDayFromFields(t,i,l)}fields(t){if(!Hs(this))throw new TypeError("invalid receiver");const n=[],i=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(const l of t){if("string"!=typeof l)throw new TypeError("invalid fields");if(!i.has(l))throw new RangeError(`invalid field name ${l}`);i.delete(l),Z8.call(n,l)}return Cs[He(this,ta)].fields(n)}mergeFields(t,n){if(!Hs(this))throw new TypeError("invalid receiver");const i=OI(t),l=GS(null);hb(l,i,[],[void 0]);const p=OI(n),c=GS(null);hb(c,p,[],[void 0]);const h=lC(c),V=Cs[He(this,ta)].fieldKeysToIgnore(h),$=GS(null),I=lC(l);for(const q of I){let Ce;Ce=ci(X8,V,[q])?c[q]:l[q],void 0!==Ce&&($[q]=Ce)}return hb($,c,[]),$}dateAdd(t,n,i){if(!Hs(this))throw new TypeError("invalid receiver");const l=hs(t),p=rg(n),c=xa(Io(i)),{days:h}=yu(He(p,Xl),He(p,Zl),He(p,Yl),He(p,Jl),He(p,kl),He(p,Ya),He(p,cc),"day"),V=He(this,ta);return Cs[V].dateAdd(l,He(p,Cl),He(p,Bc),He(p,Sd),h,c,V)}dateUntil(t,n,i){if(!Hs(this))throw new TypeError("invalid receiver");const l=hs(t),p=hs(n);let c=Md(Io(i),"largestUnit","date","auto");"auto"===c&&(c="day");const{years:h,months:V,weeks:$,days:I}=Cs[He(this,ta)].dateUntil(l,p,c);return new(Ur("%Temporal.Duration%"))(h,V,$,I,0,0,0,0,0,0)}year(t){let n=t;if(!Hs(this))throw new TypeError("invalid receiver");return Do(n)||(n=hs(n)),Cs[He(this,ta)].year(n)}month(t){let n=t;if(!Hs(this))throw new TypeError("invalid receiver");if(Va(n))throw new TypeError("use monthCode on PlainMonthDay instead");return Do(n)||(n=hs(n)),Cs[He(this,ta)].month(n)}monthCode(t){let n=t;if(!Hs(this))throw new TypeError("invalid receiver");return Do(n)||Va(n)||(n=hs(n)),Cs[He(this,ta)].monthCode(n)}day(t){let n=t;if(!Hs(this))throw new TypeError("invalid receiver");return Va(n)||(n=hs(n)),Cs[He(this,ta)].day(n)}era(t){let n=t;if(!Hs(this))throw new TypeError("invalid receiver");return Do(n)||(n=hs(n)),Cs[He(this,ta)].era(n)}eraYear(t){let n=t;if(!Hs(this))throw new TypeError("invalid receiver");return Do(n)||(n=hs(n)),Cs[He(this,ta)].eraYear(n)}dayOfWeek(t){if(!Hs(this))throw new TypeError("invalid receiver");const n=hs(t);return Cs[He(this,ta)].dayOfWeek(n)}dayOfYear(t){if(!Hs(this))throw new TypeError("invalid receiver");const n=hs(t);return Cs[He(this,ta)].dayOfYear(n)}weekOfYear(t){if(!Hs(this))throw new TypeError("invalid receiver");const n=hs(t);return Cs[He(this,ta)].weekOfYear(n)}yearOfWeek(t){if(!Hs(this))throw new TypeError("invalid receiver");const n=hs(t);return Cs[He(this,ta)].yearOfWeek(n)}daysInWeek(t){if(!Hs(this))throw new TypeError("invalid receiver");const n=hs(t);return Cs[He(this,ta)].daysInWeek(n)}daysInMonth(t){let n=t;if(!Hs(this))throw new TypeError("invalid receiver");return Do(n)||(n=hs(n)),Cs[He(this,ta)].daysInMonth(n)}daysInYear(t){let n=t;if(!Hs(this))throw new TypeError("invalid receiver");return Do(n)||(n=hs(n)),Cs[He(this,ta)].daysInYear(n)}monthsInYear(t){let n=t;if(!Hs(this))throw new TypeError("invalid receiver");return Do(n)||(n=hs(n)),Cs[He(this,ta)].monthsInYear(n)}inLeapYear(t){let n=t;if(!Hs(this))throw new TypeError("invalid receiver");return Do(n)||(n=hs(n)),Cs[He(this,ta)].inLeapYear(n)}toString(){if(!Hs(this))throw new TypeError("invalid receiver");return He(this,ta)}toJSON(){if(!Hs(this))throw new TypeError("invalid receiver");return He(this,ta)}static from(t){return og(tl(t))}}function tE(r){if(!r.startsWith("M"))throw new RangeError(`Invalid month code: ${r}.  Month codes must start with M.`);const t=+r.slice(1);if(isNaN(t))throw new RangeError(`Invalid month code: ${r}`);return t}function Uh(r,t=!1){return`M${r.toString().padStart(2,"0")}${t?"L":""}`}function nE(r,t,n=12){let{month:i,monthCode:l}=r;if(void 0===l){if(void 0===i)throw new TypeError("Either month or monthCode are required");"reject"===t&&Uc(i,1,n),"constrain"===t&&(i=Ad(i,1,n)),l=Uh(i)}else{const p=tE(l);if(void 0!==i&&i!==p)throw new RangeError(`monthCode ${l} and month ${i} must match if both are present`);if(l!==Uh(p))throw new RangeError(`Invalid month code: ${l}`);if(i=p,i<1||i>n)throw new RangeError(`Invalid monthCode: ${l}`)}return{...r,month:i,monthCode:l}}op(pa,"Temporal.Calendar"),Ks("Temporal.Calendar.from",pa.from),Ks("Temporal.Calendar.prototype.dateAdd",pa.prototype.dateAdd),Ks("Temporal.Calendar.prototype.dateFromFields",pa.prototype.dateFromFields),Ks("Temporal.Calendar.prototype.dateUntil",pa.prototype.dateUntil),Ks("Temporal.Calendar.prototype.day",pa.prototype.day),Ks("Temporal.Calendar.prototype.dayOfWeek",pa.prototype.dayOfWeek),Ks("Temporal.Calendar.prototype.dayOfYear",pa.prototype.dayOfYear),Ks("Temporal.Calendar.prototype.daysInMonth",pa.prototype.daysInMonth),Ks("Temporal.Calendar.prototype.daysInWeek",pa.prototype.daysInWeek),Ks("Temporal.Calendar.prototype.daysInYear",pa.prototype.daysInYear),Ks("Temporal.Calendar.prototype.era",pa.prototype.era),Ks("Temporal.Calendar.prototype.eraYear",pa.prototype.eraYear),Ks("Temporal.Calendar.prototype.fields",pa.prototype.fields),Ks("Temporal.Calendar.prototype.inLeapYear",pa.prototype.inLeapYear),Ks("Temporal.Calendar.prototype.mergeFields",pa.prototype.mergeFields),Ks("Temporal.Calendar.prototype.month",pa.prototype.month),Ks("Temporal.Calendar.prototype.monthCode",pa.prototype.monthCode),Ks("Temporal.Calendar.prototype.monthDayFromFields",pa.prototype.monthDayFromFields),Ks("Temporal.Calendar.prototype.monthsInYear",pa.prototype.monthsInYear),Ks("Temporal.Calendar.prototype.weekOfYear",pa.prototype.weekOfYear),Ks("Temporal.Calendar.prototype.year",pa.prototype.year),Ks("Temporal.Calendar.prototype.yearMonthFromFields",pa.prototype.yearMonthFromFields),Ks("Temporal.Calendar.prototype.yearOfWeek",pa.prototype.yearOfWeek),Cs.iso8601={dateFromFields(r,t,n){let i=wo(r,["day","month","monthCode","year"],["year","day"]);const l=xa(t);i=nE(i);let{year:p,month:c,day:h}=i;return({year:p,month:c,day:h}=x1(p,c,h,l)),zd(p,c,h,n)},yearMonthFromFields(r,t,n){let i=wo(r,["month","monthCode","year"],["year"]);const l=xa(t);i=nE(i);let{year:p,month:c}=i;return({year:p,month:c}=function(V,$,I){let q=V,Ce=$;switch(I){case"reject":Rh(q,Ce,1);break;case"constrain":({year:q,month:Ce}=GI(q,Ce))}return{year:q,month:Ce}}(p,c,l)),Ah(p,c,n,1)},monthDayFromFields(r,t,n){let i=wo(r,["day","month","monthCode","year"],["day"]);const l=xa(t);if(void 0!==i.month&&void 0===i.year&&void 0===i.monthCode)throw new TypeError("either year or monthCode required with month");const p=void 0===i.monthCode;i=nE(i);let{month:c,day:h,year:V}=i;return({month:c,day:h}=x1(p?V:1972,c,h,l)),ap(c,h,n,1972)},fields:r=>r,fieldKeysToIgnore(r){const t=new XS;for(let n=0;n<r.length;n++){const i=r[n];ci(Fc,t,[i]),"month"===i?ci(Fc,t,["monthCode"]):"monthCode"===i&&ci(Fc,t,["month"])}return[...ci(dC,t,[])]},dateAdd(r,t,n,i,l,p,c){let h=He(r,Yr),V=He(r,Qr),$=He(r,ni);return({year:h,month:V,day:$}=um(h,V,$,t,n,i,l,p)),zd(h,V,$,c)},dateUntil:(r,t,n)=>H1(He(r,Yr),He(r,Qr),He(r,ni),He(t,Yr),He(t,Qr),He(t,ni),n),year:r=>He(r,Yr),era(){},eraYear(){},month:r=>He(r,Qr),monthCode:r=>Uh(He(r,Qr)),day:r=>He(r,ni),dayOfWeek:r=>T0(He(r,Yr),He(r,Qr),He(r,ni)),dayOfYear:r=>F1(He(r,Yr),He(r,Qr),He(r,ni)),weekOfYear:r=>NS(He(r,Yr),He(r,Qr),He(r,ni)).week,yearOfWeek:r=>NS(He(r,Yr),He(r,Qr),He(r,ni)).year,daysInWeek:()=>7,daysInMonth:r=>Kf(He(r,Yr),He(r,Qr)),daysInYear(r){let t=r;return lc(t,Yr)||(t=hs(t)),dm(He(t,Yr))?366:365},monthsInYear:()=>12,inLeapYear(r){let t=r;return lc(t,Yr)||(t=hs(t)),dm(He(t,Yr))}};class ra{constructor(t){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),void 0!==t){let n=0;for(const i of t.map.entries()){if(++n>ra.MAX_CACHE_ENTRIES)break;this.map.set(...i)}}}get(t){const n=this.map.get(t);return n&&(this.hits++,this.report()),this.calls++,n}set(t,n){this.map.set(t,n),this.misses++,this.report()}report(){}setObject(t){if(ra.objectMap.get(t))throw new RangeError("object already cached");ra.objectMap.set(t,this),this.report()}static getCacheForObject(t){let n=ra.objectMap.get(t);return n||(n=new ra,ra.objectMap.set(t,n)),n}}function uC({isoYear:r,isoMonth:t,isoDay:n}){return`${cm(r)}-${ws(t)}-${ws(n)}T00:00Z`}function Fb(r,t){return{years:r.year-t.year,months:r.month-t.month,days:r.day-t.day}}ra.objectMap=new WeakMap,ra.MAX_CACHE_ENTRIES=1e3;class mg{constructor(){this.eraLength="short",this.hasEra=!0,this.erasBeginMidYear=!1}getFormatter(){return void 0===this.formatter&&(this.formatter=new cC(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(t,n){const{year:i,month:l,day:p}=t,c=JSON.stringify({func:"isoToCalendarDate",isoYear:i,isoMonth:l,isoDay:p,id:this.id}),h=n.get(c);if(h)return h;const V=this.getFormatter();let $,I;try{I=uC({isoYear:i,isoMonth:l,isoDay:p}),$=V.formatToParts(new Date(I))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:i,isoMonth:l,isoDay:p})}`)}const q={};for(let{type:Be,value:Pe}of $){if("year"===Be&&(q.eraYear=+Pe),"relatedYear"===Be&&(q.eraYear=+Pe),"month"===Be){const Ke=/^([0-9]*)(.*?)$/.exec(Pe);if(!Ke||3!=Ke.length||!Ke[1]&&!Ke[2])throw new RangeError(`Unexpected month: ${Pe}`);if(q.month=Ke[1]?+Ke[1]:1,q.month<1)throw new RangeError(`Invalid month ${Pe} from ${I}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(q.month>13)throw new RangeError(`Invalid month ${Pe} from ${I}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);Ke[2]&&(q.monthExtra=Ke[2])}"day"===Be&&(q.day=+Pe),this.hasEra&&"era"===Be&&null!=Pe&&""!==Pe&&(Pe=Pe.split(" (")[0],q.era=Pe.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(void 0===q.eraYear)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){const{era:Be,eraYear:Pe}=this.reviseIntlEra(q,t);q.era=Be,q.eraYear=Pe}this.checkIcuBugs&&this.checkIcuBugs(t);const Ce=this.adjustCalendarDate(q,n,"constrain",!0);if(void 0===Ce.year)throw new RangeError(`Missing year converting ${JSON.stringify(t)}`);if(void 0===Ce.month)throw new RangeError(`Missing month converting ${JSON.stringify(t)}`);if(void 0===Ce.day)throw new RangeError(`Missing day converting ${JSON.stringify(t)}`);return n.set(c,Ce),["constrain","reject"].forEach(Be=>{const Pe=JSON.stringify({func:"calendarToIsoDate",year:Ce.year,month:Ce.month,day:Ce.day,overflow:Be,id:this.id});n.set(Pe,t)}),Ce}validateCalendarDate(t){const{era:n,month:i,year:l,day:p,eraYear:c,monthCode:h,monthExtra:V}=t;if(void 0!==V)throw new RangeError("Unexpected `monthExtra` value");if(void 0===l&&void 0===c)throw new TypeError("year or eraYear is required");if(void 0===i&&void 0===h)throw new TypeError("month or monthCode is required");if(void 0===p)throw new RangeError("Missing day");if(void 0!==h){if("string"!=typeof h)throw new RangeError("monthCode must be a string, not "+typeof h);if(!/^M([01]?\d)(L?)$/.test(h))throw new RangeError(`Invalid monthCode: ${h}`)}if(this.constantEra){if(void 0!==n&&n!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${n}`);if(void 0!==c&&void 0!==l&&c!==l)throw new RangeError(`eraYear ${c} does not match year ${l}`)}if(this.hasEra&&void 0===t.era!=(void 0===t.eraYear))throw new RangeError("properties 'era' and 'eraYear' must be provided together")}adjustCalendarDate(t,n,i="constrain",l=!1){if("lunisolar"===this.calendarType)throw new RangeError("Override required for lunisolar calendars");let p=t;if(this.validateCalendarDate(p),this.constantEra){const{year:$,eraYear:I}=p;p={...p,era:this.constantEra,year:void 0!==$?$:I,eraYear:void 0!==I?I:$}}const c=this.monthsInYear(p,n);let{month:h,monthCode:V}=p;return({month:h,monthCode:V}=nE(p,i,c)),{...p,month:h,monthCode:V}}regulateMonthDayNaive(t,n,i){const l=this.monthsInYear(t,i);let{month:p,day:c}=t;return"reject"===n?(Uc(p,1,l),Uc(c,1,this.maximumMonthLength(t))):(p=Ad(p,1,l),c=Ad(c,1,this.maximumMonthLength({...t,month:p}))),{...t,month:p,day:c}}calendarToIsoDate(t,n="constrain",i){const l=t;let p=this.adjustCalendarDate(t,i,n,!1);p=this.regulateMonthDayNaive(p,n,i);const{year:c,month:h,day:V}=p,$=JSON.stringify({func:"calendarToIsoDate",year:c,month:h,day:V,overflow:n,id:this.id});let I,q=i.get($);if(q||void 0!==l.year&&void 0!==l.month&&void 0!==l.day&&(l.year!==p.year||l.month!==p.month||l.day!==p.day)&&(I=JSON.stringify({func:"calendarToIsoDate",year:l.year,month:l.month,day:l.day,overflow:n,id:this.id}),q=i.get(I),q))return q;let Ce=this.estimateIsoDate({year:c,month:h,day:V});const Be=ct=>{let dt=this.addDaysIso(Ce,ct);if(p.day>this.minimumMonthLength(p)){let At=this.isoToCalendarDate(dt,i);for(;At.month!==h||At.year!==c;){if("reject"===n)throw new RangeError(`day ${V} does not exist in month ${h} of year ${c}`);dt=this.addDaysIso(dt,-1),At=this.isoToCalendarDate(dt,i)}}return dt};let Pe=0,Ke=this.isoToCalendarDate(Ce,i),rt=Fb(p,Ke);0===rt.years&&0===rt.months&&0===rt.days||(Ce=this.addDaysIso(Ce,365*rt.years+30*rt.months+rt.days),Ke=this.isoToCalendarDate(Ce,i),rt=Fb(p,Ke),0===rt.years&&0===rt.months?Ce=Be(rt.days):Pe=this.compareCalendarDates(p,Ke));let ht=8;for(;Pe;){Ce=this.addDaysIso(Ce,Pe*ht);const ct=Ke;Ke=this.isoToCalendarDate(Ce,i);const dt=Pe;if(Pe=this.compareCalendarDates(p,Ke),Pe)if(rt=Fb(p,Ke),0===rt.years&&0===rt.months)Ce=Be(rt.days),Pe=0;else if(dt&&Pe!==dt)if(ht>1)ht/=2;else{if("reject"===n)throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...l})}`);this.compareCalendarDates(Ke,ct)>0&&(Ce=this.addDaysIso(Ce,-1)),Pe=0}}if(i.set($,Ce),I&&i.set(I,Ce),void 0===p.year||void 0===p.month||void 0===p.day||void 0===p.monthCode||this.hasEra&&(void 0===p.era||void 0===p.eraYear))throw new RangeError("Unexpected missing property");return Ce}temporalToCalendarDate(t,n){const i={year:He(t,Yr),month:He(t,Qr),day:He(t,ni)};return this.isoToCalendarDate(i,n)}compareCalendarDates(t,n){const i=wo(t,["day","month","year"],["day","month","year"]),l=wo(n,["day","month","year"],["day","month","year"]);return i.year!==l.year?fm(i.year-l.year):i.month!==l.month?fm(i.month-l.month):i.day!==l.day?fm(i.day-l.day):0}regulateDate(t,n="constrain",i){const l=this.calendarToIsoDate(t,n,i);return this.isoToCalendarDate(l,i)}addDaysIso(t,n){return um(t.year,t.month,t.day,0,0,0,n,"constrain")}addDaysCalendar(t,n,i){const l=this.calendarToIsoDate(t,"constrain",i),p=this.addDaysIso(l,n);return this.isoToCalendarDate(p,i)}addMonthsCalendar(t,n,i,l){let p=t;const{day:c}=p;for(let h=0,V=J8(n);h<V;h++){const{month:$}=p,I=p,q=n<0?-Math.max(c,this.daysInPreviousMonth(p,l)):this.daysInMonth(p,l),Ce=this.calendarToIsoDate(p,"constrain",l);let Be=this.addDaysIso(Ce,q);if(p=this.isoToCalendarDate(Be,l),n>0){const Pe=this.monthsInYear(I,l);for(;p.month-1!=$%Pe;)Be=this.addDaysIso(Be,-1),p=this.isoToCalendarDate(Be,l)}p.day!==c&&(p=this.regulateDate({...p,day:c},"constrain",l))}if("reject"===i&&p.day!==c)throw new RangeError(`Day ${c} does not exist in resulting calendar month`);return p}addCalendar(t,{years:n=0,months:i=0,weeks:l=0,days:p=0},c,h){const{year:V,day:$,monthCode:I}=t,q=this.adjustCalendarDate({year:V+n,monthCode:I,day:$},h),Ce=this.addMonthsCalendar(q,i,c,h);return this.addDaysCalendar(Ce,p+7*l,h)}untilCalendar(t,n,i,l){let p=0,c=0,h=0,V=0;switch(i){case"day":p=this.calendarDaysUntil(t,n,l);break;case"week":{const $=this.calendarDaysUntil(t,n,l);p=$%7,c=($-p)/7;break}case"month":case"year":{const $=this.compareCalendarDates(n,t);if(!$)return{years:0,months:0,weeks:0,days:0};const I=n.year-t.year;if("year"===i&&I){let Pe=0;n.monthCode>t.monthCode&&(Pe=1),n.monthCode<t.monthCode&&(Pe=-1),Pe||(Pe=Math.sign(n.day-t.day)),V=Pe*$<0?I-$:I}let Ce,Be=V?this.addCalendar(t,{years:V},"constrain",l):t;do{h+=$,Ce=Be,Be=this.addMonthsCalendar(Ce,$,"constrain",l),Be.day!==t.day&&(Be=this.regulateDate({...Be,day:t.day},"constrain",l))}while(this.compareCalendarDates(n,Be)*$>=0);h-=$,p=this.calendarDaysUntil(Ce,n,l);break}}return{years:V,months:h,weeks:c,days:p}}daysInMonth(t,n){const{day:i}=t,l=this.maximumMonthLength(t),p=this.minimumMonthLength(t);if(p===l)return p;const c=i<=l-p?l:p,h=this.calendarToIsoDate(t,"constrain",n),V=this.addDaysIso(h,c),$=this.isoToCalendarDate(V,n),I=this.addDaysIso(V,-$.day);return this.isoToCalendarDate(I,n).day}daysInPreviousMonth(t,n){const{day:i,month:l,year:p}=t;let c={year:l>1?p:p-1,month:l,day:1};const h=l>1?l-1:this.monthsInYear(c,n);c={...c,month:h};const V=this.minimumMonthLength(c),$=this.maximumMonthLength(c);if(V===$)return $;const I=this.calendarToIsoDate(t,"constrain",n),q=this.addDaysIso(I,-i);return this.isoToCalendarDate(q,n).day}startOfCalendarYear(t){return{year:t.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(t){return{year:t.year,month:t.month,day:1}}calendarDaysUntil(t,n,i){const l=this.calendarToIsoDate(t,"constrain",i),p=this.calendarToIsoDate(n,"constrain",i);return this.isoDaysUntil(l,p)}isoDaysUntil(t,n){return H1(t.year,t.month,t.day,n.year,n.month,n.day,"day").days}monthDayFromFields(t,n,i){let l,p,c,h,V,{monthCode:$,day:I}=t;if(void 0===$){let{year:Be,era:Pe,eraYear:Ke}=t;if(void 0===Be&&(void 0===Pe||void 0===Ke))throw new TypeError("when `monthCode` is omitted, `year` (or `era` and `eraYear`) and `month` are required");({monthCode:$,day:I}=this.isoToCalendarDate(this.calendarToIsoDate(t,n,i),i))}const q=this.isoToCalendarDate({year:1972,month:12,day:31},i),Ce=q.monthCode>$||q.monthCode===$&&q.day>=I?q.year:q.year-1;for(let Be=0;Be<100;Be++){const Pe=this.adjustCalendarDate({day:I,monthCode:$,year:Ce-Be},i),Ke=this.calendarToIsoDate(Pe,"constrain",i),rt=this.isoToCalendarDate(Ke,i);if(({year:l,month:p,day:c}=Ke),rt.monthCode===$&&rt.day===I)return{month:p,day:c,year:l};"constrain"===n&&(void 0===h||rt.monthCode===h.monthCode&&rt.day>h.day)&&(h=rt,V=Ke)}if("constrain"===n&&void 0!==V)return V;throw new RangeError(`No recent ${this.id} year with monthCode ${$} and day ${I}`)}}class fC extends mg{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(t){const{year:n}=t;return(7*n+1)%19<7}monthsInYear(t){return this.inLeapYear(t)?13:12}minimumMonthLength(t){return this.minMaxMonthLength(t,"min")}maximumMonthLength(t){return this.minMaxMonthLength(t,"max")}minMaxMonthLength(t,n){const{month:i,year:l}=t,p=this.getMonthCode(l,i),c=eE(this.months).find(V=>V[1].monthCode===p);if(void 0===c)throw new RangeError(`unmatched Hebrew month: ${i}`);const h=c[1].days;return"number"==typeof h?h:h[n]}estimateIsoDate(t){const{year:n}=t;return{year:n-3760,month:1,day:1}}getMonthCode(t,n){return this.inLeapYear({year:t})?6===n?Uh(5,!0):Uh(n<6?n:n-1):Uh(n)}adjustCalendarDate(t,n,i="constrain",l=!1){let{year:p,eraYear:c,month:h,monthCode:V,day:$,monthExtra:I}=t;if(void 0===p&&void 0!==c&&(p=c),void 0===c&&void 0!==p&&(c=p),l){if(I){const q=this.months[I];if(!q)throw new RangeError(`Unrecognized month from formatToParts: ${I}`);h=this.inLeapYear({year:p})?q.leap:q.regular}return V=this.getMonthCode(p,h),{year:p,month:h,day:$,era:void 0,eraYear:c,monthCode:V}}if(this.validateCalendarDate(t),void 0===h)if(V.endsWith("L")){if("M05L"!==V)throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${V}`);if(h=6,!this.inLeapYear({year:p})){if("reject"===i)throw new RangeError(`Hebrew monthCode M05L is invalid in year ${p} which is not a leap year`);h=6,V="M06"}}else{h=tE(V),this.inLeapYear({year:p})&&h>=6&&h++;const q=this.monthsInYear({year:p});if(h<1||h>q)throw new RangeError(`Invalid monthCode: ${V}`)}else if("reject"===i?(Uc(h,1,this.monthsInYear({year:p})),Uc($,1,this.maximumMonthLength({year:p,month:h}))):(h=Ad(h,1,this.monthsInYear({year:p})),$=Ad($,1,this.maximumMonthLength({year:p,month:h}))),void 0===V)V=this.getMonthCode(p,h);else if(this.getMonthCode(p,h)!==V)throw new RangeError(`monthCode ${V} doesn't correspond to month ${h} in Hebrew year ${p}`);return{...t,day:$,month:h,monthCode:V,year:p,eraYear:c}}}class yg extends mg{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(t,n){return 30===this.daysInMonth({year:t.year,month:12,day:1},n)}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(t){const{year:n}=this.adjustCalendarDate(t);return{year:Ub(n*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}}class hC extends yg{constructor(){super(...arguments),this.id="islamic"}}class q8 extends yg{constructor(){super(...arguments),this.id="islamic-umalqura"}}class Q8 extends yg{constructor(){super(...arguments),this.id="islamic-tbla"}}class eR extends yg{constructor(){super(...arguments),this.id="islamic-civil"}}class tR extends yg{constructor(){super(...arguments),this.id="islamic-rgsa"}}class nR extends yg{constructor(){super(...arguments),this.id="islamicc"}}class rR extends mg{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(t,n){return hC.prototype.inLeapYear.call(this,t,n)}monthsInYear(){return 12}minimumMonthLength(t){const{month:n}=t;return 12===n?29:n<=6?31:30}maximumMonthLength(t){const{month:n}=t;return 12===n?30:n<=6?31:30}estimateIsoDate(t){const{year:n}=this.adjustCalendarDate(t);return{year:n+621,month:1,day:1}}}class pC extends mg{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug="10/11/-79 Saka"!==new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})}inLeapYear(t){return ZS(t.year+78)}monthsInYear(){return 12}minimumMonthLength(t){return this.getMonthInfo(t).length}maximumMonthLength(t){return this.getMonthInfo(t).length}getMonthInfo(t){const{month:n}=t;let i=this.months[n];if(void 0===i)throw new RangeError(`Invalid month: ${n}`);return this.inLeapYear(t)&&i.leap&&(i=i.leap),i}estimateIsoDate(t){const n=this.adjustCalendarDate(t),i=this.getMonthInfo(n);return um(n.year+78+(i.nextYear?1:0),i.month,i.day,0,0,0,n.day-1,"constrain")}checkIcuBugs(t){if(this.vulnerableToBceBug&&t.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}}function ZS(r){return r%4==0&&(r%100!=0||r%400==0)}class gg extends mg{constructor(t,n){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=t;const{eras:i,anchorEra:l}=function(c){let h,V=c;if(0===V.length)throw new RangeError("Invalid era data: eras are required");if(1===V.length&&V[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(1===V.length&&!V[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(V.filter(I=>null!=I.reverseOf).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");V.forEach(I=>{if(I.isAnchor||!I.anchorEpoch&&!I.reverseOf){if(h)throw new RangeError("Invalid era data: cannot have multiple anchor eras");h=I,I.anchorEpoch={year:I.hasYearZero?0:1}}else if(!I.name)throw new RangeError("If era name is blank, it must be the anchor era")}),V=V.filter(I=>I.name),V.forEach(I=>{const{reverseOf:q}=I;if(q){const Ce=V.find(Be=>Be.name===q);if(void 0===Ce)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${q}`);I.reverseOf=Ce,I.anchorEpoch=Ce.anchorEpoch,I.isoEpoch=Ce.isoEpoch}void 0===I.anchorEpoch.month&&(I.anchorEpoch.month=1),void 0===I.anchorEpoch.day&&(I.anchorEpoch.day=1)}),Y8.call(V,(I,q)=>{if(I.reverseOf)return 1;if(q.reverseOf)return-1;if(!I.isoEpoch||!q.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return q.isoEpoch.year-I.isoEpoch.year});const $=V[V.length-1].reverseOf;if($&&$!==V[V.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return V.forEach((I,q)=>{I.genericName="era"+(V.length-1-q)}),{eras:V,anchorEra:h||V[0]}}(n);this.anchorEra=l,this.eras=i}inLeapYear(t){const{year:n}=this.estimateIsoDate({month:1,day:1,year:t.year});return ZS(n)}monthsInYear(){return 12}minimumMonthLength(t){const{month:n}=t;return 2===n?this.inLeapYear(t)?29:28:[4,6,9,11].indexOf(n)>=0?30:31}maximumMonthLength(t){return this.minimumMonthLength(t)}completeEraYear(t){const n=(h,V)=>{const $=t[h];if(null!=$&&$!=V)throw new RangeError(`Input ${h} ${$} doesn't match calculated value ${V}`)},i=h=>{let V;const $={...t,year:h},I=this.eras.find((q,Ce)=>{if(Ce===this.eras.length-1){if(q.reverseOf){if(h>0)throw new RangeError(`Signed year ${h} is invalid for era ${q.name}`);return V=q.anchorEpoch.year-h,!0}return V=h-q.anchorEpoch.year+(q.hasYearZero?0:1),!0}return this.compareCalendarDates($,q.anchorEpoch)>=0&&(V=h-q.anchorEpoch.year+(q.hasYearZero?0:1),!0)});if(!I)throw new RangeError(`Year ${h} was not matched by any era`);return{eraYear:V,era:I.name}};let{year:l,eraYear:p,era:c}=t;if(null!=l)({eraYear:p,era:c}=i(l)),n("era",c),n("eraYear",p);else{if(null==p)throw new RangeError("Either `year` or `eraYear` and `era` are required");{const h=void 0===c?void 0:this.eras.find(V=>V.name===c||V.genericName===c);if(!h)throw new RangeError(`Era ${c} (ISO year ${p}) was not matched by any era`);if(p<1&&h.reverseOf)throw new RangeError(`Years in ${c} era must be positive, not ${l}`);l=h.reverseOf?h.anchorEpoch.year-p:p+h.anchorEpoch.year-(h.hasYearZero?0:1),n("year",l),({eraYear:p,era:c}=i(l))}}return{...t,year:l,eraYear:p,era:c}}adjustCalendarDate(t,n,i="constrain"){let l=t;const{month:p,monthCode:c}=l;return void 0===p&&(l={...l,month:tE(c)}),this.validateCalendarDate(l),l=this.completeEraYear(l),super.adjustCalendarDate(l,n,i)}estimateIsoDate(t){const n=this.adjustCalendarDate(t),{year:i,month:l,day:p}=n,{anchorEra:c}=this;return x1(i+c.isoEpoch.year-(c.hasYearZero?0:1),l,p,"constrain")}checkIcuBugs(t){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&Oh(t.year,t.month,t.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}}class YS extends gg{constructor(t,n){super(t,n)}inLeapYear(t){const{year:n}=t;return(n+1)%4==0}monthsInYear(){return 13}minimumMonthLength(t){const{month:n}=t;return 13===n?this.inLeapYear(t)?6:5:30}maximumMonthLength(t){return this.minimumMonthLength(t)}}class mC extends YS{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}}class iR extends YS{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}}class oR extends YS{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}}class yC extends gg{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}}class gC extends gg{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}}class JS extends gg{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(t){let{era:n,eraYear:i}=t;return"bc"!==n&&"b"!==n||(n="bce"),"ad"!==n&&"a"!==n||(n="ce"),{era:n,eraYear:i}}}class qS extends gg{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long",this.erasBeginMidYear=!0}reviseIntlEra(t,n){const{era:i,eraYear:l}=t,{year:p}=n;return this.eras.find(c=>c.name===i)?{era:i,eraYear:l}:p<1?{era:"bce",eraYear:1-p}:{era:"ce",eraYear:p}}}class vC extends mg{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(t,n){const i=this.getMonthList(t.year,n);return 13===eE(i).length}monthsInYear(t,n){return this.inLeapYear(t,n)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(t,n){if(void 0===t)throw new TypeError("Missing year");const i=JSON.stringify({func:"getMonthList",calendarYear:t,id:this.id}),l=n.get(i);if(l)return l;const p=this.getFormatter(),c=(rt,ht)=>{const ct=uC({isoYear:rt,isoMonth:2,isoDay:1}),dt=new Date(ct);dt.setUTCDate(ht+1);const At=p.formatToParts(dt),Pt=At.find(Xt=>"month"===Xt.type).value,Ct=+At.find(Xt=>"day"===Xt.type).value;let zt=At.find(Xt=>"relatedYear"===Xt.type);if(void 0===zt)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return zt=+zt.value,{calendarMonthString:Pt,calendarDay:Ct,calendarYearToVerify:zt}};let h=17,{calendarMonthString:V,calendarDay:$,calendarYearToVerify:I}=c(t,h);"1"!==V&&(h+=29,({calendarMonthString:V,calendarDay:$}=c(t,h))),h-=$-5;const q={};let Ce,Be,Pe=1,Ke=!1;do{({calendarMonthString:V,calendarDay:$,calendarYearToVerify:I}=c(t,h)),Ce&&(q[Be].daysInMonth=Ce+30-$),I!==t?Ke=!0:(q[V]={monthIndex:Pe++},h+=30),Ce=$,Be=V}while(!Ke);return q[Be].daysInMonth=Ce+30-$,n.set(i,q),q}estimateIsoDate(t){const{year:n,month:i}=t;return{year:n,month:i>=12?12:i+1,day:1}}adjustCalendarDate(t,n,i="constrain",l=!1){let{year:p,month:c,monthExtra:h,day:V,monthCode:$,eraYear:I}=t;if(l){if(p=I,h&&"bis"!==h)throw new RangeError(`Unexpected leap month suffix: ${h}`);const q=Uh(c,void 0!==h),Ce=`${c}${h||""}`,Be=this.getMonthList(p,n)[Ce];if(void 0===Be)throw new RangeError(`Unmatched month ${Ce} in Chinese year ${p}`);return c=Be.monthIndex,{year:p,month:c,day:V,era:void 0,eraYear:I,monthCode:q}}if(this.validateCalendarDate(t),void 0===p&&(p=I),void 0===I&&(I=p),void 0===c){const q=this.getMonthList(p,n);let Ce=$.replace("L","bis").slice(1);"0"===Ce[0]&&(Ce=Ce.slice(1));let Be=q[Ce];if(c=Be&&Be.monthIndex,void 0===c&&$.endsWith("L")&&"M13L"!=$&&"constrain"===i){let Pe=$.slice(1,-1);"0"===Pe[0]&&(Pe=Pe.slice(1)),Be=q[Pe],Be&&(c=Be.monthIndex,$=Uh(Pe))}if(void 0===c)throw new RangeError(`Unmatched month ${$} in Chinese year ${p}`)}else if(void 0===$){const q=this.getMonthList(p,n),Ce=eE(q),Be=Ce.length;"reject"===i?(Uc(c,1,Be),Uc(V,1,this.maximumMonthLength())):(c=Ad(c,1,Be),V=Ad(V,1,this.maximumMonthLength()));const Pe=Ce.find(([,Ke])=>Ke.monthIndex===c);if(void 0===Pe)throw new RangeError(`Invalid month ${c} in Chinese year ${p}`);$=Uh(Pe[0].replace("bis",""),-1!==Pe[0].indexOf("bis"))}else{const q=this.getMonthList(p,n);let Ce=$.replace("L","bis").slice(1);"0"===Ce[0]&&(Ce=Ce.slice(1));const Be=q[Ce];if(!Be)throw new RangeError(`Unmatched monthCode ${$} in Chinese year ${p}`);if(c!==Be.monthIndex)throw new RangeError(`monthCode ${$} doesn't correspond to month ${c} in Chinese year ${p}`)}return{...t,year:p,eraYear:I,month:c,monthCode:$,day:V}}}class QS extends vC{constructor(){super(...arguments),this.id="chinese"}}class bC extends vC{constructor(){super(...arguments),this.id="dangi"}}class wC{constructor(t){this.helper=t}dateFromFields(t,n,i){const l=new ra,p=wo(t,this.fields(["day","month","monthCode","year"]),[]),c=xa(n),{year:h,month:V,day:$}=this.helper.calendarToIsoDate(p,c,l),I=zd(h,V,$,i);return l.setObject(I),I}yearMonthFromFields(t,n,i){const l=new ra,p=wo(t,this.fields(["month","monthCode","year"]),[]),c=xa(n),{year:h,month:V,day:$}=this.helper.calendarToIsoDate({...p,day:1},c,l),I=Ah(h,V,i,$);return l.setObject(I),I}monthDayFromFields(t,n,i){const l=new ra,p=wo(t,this.fields(["day","month","monthCode","year"]),[]),c=xa(n),{year:h,month:V,day:$}=this.helper.monthDayFromFields(p,c,l),I=ap(V,$,i,h);return l.setObject(I),I}fields(t){let n=t;return X8.call(n,"year")&&(n=[...n,"era","eraYear"]),n}fieldKeysToIgnore(t){const n=new XS;for(let i=0;i<t.length;i++){const l=t[i];switch(ci(Fc,n,[l]),l){case"era":ci(Fc,n,["eraYear"]),ci(Fc,n,["year"]);break;case"eraYear":ci(Fc,n,["era"]),ci(Fc,n,["year"]);break;case"year":ci(Fc,n,["era"]),ci(Fc,n,["eraYear"]);break;case"month":ci(Fc,n,["monthCode"]),this.helper.erasBeginMidYear&&(ci(Fc,n,["era"]),ci(Fc,n,["eraYear"]));break;case"monthCode":ci(Fc,n,["month"]),this.helper.erasBeginMidYear&&(ci(Fc,n,["era"]),ci(Fc,n,["eraYear"]));break;case"day":this.helper.erasBeginMidYear&&(ci(Fc,n,["era"]),ci(Fc,n,["eraYear"]))}}return[...ci(dC,n,[])]}dateAdd(t,n,i,l,p,c,h){const V=ra.getCacheForObject(t),$=this.helper.temporalToCalendarDate(t,V),I=this.helper.addCalendar($,{years:n,months:i,weeks:l,days:p},c,V),q=this.helper.calendarToIsoDate(I,"constrain",V),{year:Ce,month:Be,day:Pe}=q,Ke=zd(Ce,Be,Pe,h);return new ra(V).setObject(Ke),Ke}dateUntil(t,n,i){const l=ra.getCacheForObject(t),p=ra.getCacheForObject(n),c=this.helper.temporalToCalendarDate(t,l),h=this.helper.temporalToCalendarDate(n,p);return this.helper.untilCalendar(c,h,i,l)}year(t){const n=ra.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).year}month(t){const n=ra.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).month}day(t){const n=ra.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).day}era(t){if(!this.helper.hasEra)return;const n=ra.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).era}eraYear(t){if(!this.helper.hasEra)return;const n=ra.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).eraYear}monthCode(t){const n=ra.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).monthCode}dayOfWeek(t){return Cs.iso8601.dayOfWeek(t)}dayOfYear(t){const n=ra.getCacheForObject(t),i=this.helper.isoToCalendarDate(t,n),l=this.helper.startOfCalendarYear(i);return this.helper.calendarDaysUntil(l,i,n)+1}weekOfYear(t){return Cs.iso8601.weekOfYear(t)}yearOfWeek(t){return Cs.iso8601.yearOfWeek(t)}daysInWeek(t){return Cs.iso8601.daysInWeek(t)}daysInMonth(t){const n=ra.getCacheForObject(t),i=this.helper.temporalToCalendarDate(t,n),l=this.helper.maximumMonthLength(i);if(l===this.helper.minimumMonthLength(i))return l;const p=this.helper.startOfCalendarMonth(i),c=this.helper.addMonthsCalendar(p,1,"constrain",n);return this.helper.calendarDaysUntil(p,c,n)}daysInYear(t){let n=t;lc(n,Yr)||(n=hs(n));const i=ra.getCacheForObject(n),l=this.helper.temporalToCalendarDate(n,i),p=this.helper.startOfCalendarYear(l),c=this.helper.addCalendar(p,{years:1},"constrain",i);return this.helper.calendarDaysUntil(p,c,i)}monthsInYear(t){const n=ra.getCacheForObject(t),i=this.helper.temporalToCalendarDate(t,n);return this.helper.monthsInYear(i,n)}inLeapYear(t){let n=t;lc(n,Yr)||(n=hs(n));const i=ra.getCacheForObject(n),l=this.helper.temporalToCalendarDate(n,i);return this.helper.inLeapYear(l,i)}}for(const r of[fC,rR,oR,mC,iR,QS,bC,yC,pC,gC,JS,qS,hC,q8,Q8,eR,tR,nR]){const t=new r;Cs[t.id]=new wC(t)}class rE{constructor(t,n,i,l="iso8601"){NI(this,Oo(t),Oo(n),Oo(i),tl(l))}get calendarId(){if(!yo(this))throw new TypeError("invalid receiver");return Lc(He(this,Qn))}get era(){if(!yo(this))throw new TypeError("invalid receiver");return dp(He(this,Qn),this)}get eraYear(){if(!yo(this))throw new TypeError("invalid receiver");return up(He(this,Qn),this)}get year(){if(!yo(this))throw new TypeError("invalid receiver");return cp(He(this,Qn),this)}get month(){if(!yo(this))throw new TypeError("invalid receiver");return lp(He(this,Qn),this)}get monthCode(){if(!yo(this))throw new TypeError("invalid receiver");return Th(He(this,Qn),this)}get day(){if(!yo(this))throw new TypeError("invalid receiver");return Dh(He(this,Qn),this)}get dayOfWeek(){if(!yo(this))throw new TypeError("invalid receiver");return I1(He(this,Qn),this)}get dayOfYear(){if(!yo(this))throw new TypeError("invalid receiver");return C1(He(this,Qn),this)}get weekOfYear(){if(!yo(this))throw new TypeError("invalid receiver");return k1(He(this,Qn),this)}get yearOfWeek(){if(!yo(this))throw new TypeError("invalid receiver");return R1(He(this,Qn),this)}get daysInWeek(){if(!yo(this))throw new TypeError("invalid receiver");return O1(He(this,Qn),this)}get daysInMonth(){if(!yo(this))throw new TypeError("invalid receiver");return gb(He(this,Qn),this)}get daysInYear(){if(!yo(this))throw new TypeError("invalid receiver");return vb(He(this,Qn),this)}get monthsInYear(){if(!yo(this))throw new TypeError("invalid receiver");return bb(He(this,Qn),this)}get inLeapYear(){if(!yo(this))throw new TypeError("invalid receiver");return wb(He(this,Qn),this)}with(t,n){if(!yo(this))throw new TypeError("invalid receiver");if(!mo(t))throw new TypeError("invalid argument");w0(t);const i=Io(n),l=He(this,Qn),p=Sa(l,["day","month","monthCode","year"]);let c=wo(this,p,[]);return c=qu(l,c,wo(t,p,"partial")),c=wo(c,p,[]),fp(l,c,i)}withCalendar(t){if(!yo(this))throw new TypeError("invalid receiver");const n=tl(t);return new rE(He(this,Yr),He(this,Qr),He(this,ni),n)}add(t,n){if(!yo(this))throw new TypeError("invalid receiver");const i=rg(t),l=Io(n);return Ca(He(this,Qn),this,i,l)}subtract(t,n){if(!yo(this))throw new TypeError("invalid receiver");const i=WI(rg(t)),l=Io(n);return Ca(He(this,Qn),this,i,l)}until(t,n){if(!yo(this))throw new TypeError("invalid receiver");return YI("until",this,t,n)}since(t,n){if(!yo(this))throw new TypeError("invalid receiver");return YI("since",this,t,n)}equals(t){if(!yo(this))throw new TypeError("invalid receiver");const n=hs(t);for(const i of[Yr,Qr,ni])if(He(this,i)!==He(n,i))return!1;return A0(He(this,Qn),He(n,Qn))}toString(t){if(!yo(this))throw new TypeError("invalid receiver");return $I(this,_0(Io(t)))}toJSON(){if(!yo(this))throw new TypeError("invalid receiver");return $I(this)}toLocaleString(t,n){if(!yo(this))throw new TypeError("invalid receiver");return new vp(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(t){if(!yo(this))throw new TypeError("invalid receiver");const n=He(this,Yr),i=He(this,Qr),l=He(this,ni),p=He(this,Qn);if(void 0===t)return nd(n,i,l,0,0,0,0,0,0,p);const c=Mh(t);return nd(n,i,l,He(c,no),He(c,so),He(c,ao),He(c,po),He(c,ro),He(c,co),p)}toZonedDateTime(t){if(!yo(this))throw new TypeError("invalid receiver");let n,i;if(mo(t))if(td(t))n=t;else{const Pe=t.timeZone;void 0===Pe?n=Pl(t):(n=Pl(Pe),i=t.plainTime)}else n=Pl(t);const l=He(this,Yr),p=He(this,Qr),c=He(this,ni),h=He(this,Qn);let V=0,$=0,I=0,q=0,Ce=0,Be=0;return void 0!==i&&(i=Mh(i),V=He(i,no),$=He(i,so),I=He(i,ao),q=He(i,po),Ce=He(i,ro),Be=He(i,co)),Ia(He(nl(n,nd(l,p,c,V,$,I,q,Ce,Be,h),"compatible"),xi),n,h)}toPlainYearMonth(){if(!yo(this))throw new TypeError("invalid receiver");const t=He(this,Qn);return hp(t,wo(this,Sa(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!yo(this))throw new TypeError("invalid receiver");const t=He(this,Qn);return _b(t,wo(this,Sa(t,["day","monthCode"]),[]))}getISOFields(){if(!yo(this))throw new TypeError("invalid receiver");return{calendar:He(this,Qn),isoDay:He(this,ni),isoMonth:He(this,Qr),isoYear:He(this,Yr)}}getCalendar(){if(!yo(this))throw new TypeError("invalid receiver");return og(He(this,Qn))}static from(t,n){const i=Io(n);return yo(t)?(xa(i),zd(He(t,Yr),He(t,Qr),He(t,ni),He(t,Qn))):hs(t,i)}static compare(t,n){const i=hs(t),l=hs(n);return Oh(He(i,Yr),He(i,Qr),He(i,ni),He(l,Yr),He(l,Qr),He(l,ni))}}op(rE,"Temporal.PlainDate");class vg{constructor(t,n,i,l=0,p=0,c=0,h=0,V=0,$=0,I="iso8601"){LI(this,Oo(t),Oo(n),Oo(i),void 0===l?0:Oo(l),void 0===p?0:Oo(p),void 0===c?0:Oo(c),void 0===h?0:Oo(h),void 0===V?0:Oo(V),void 0===$?0:Oo($),tl(I))}get calendarId(){if(!Yi(this))throw new TypeError("invalid receiver");return Lc(He(this,Qn))}get year(){if(!Yi(this))throw new TypeError("invalid receiver");return cp(He(this,Qn),this)}get month(){if(!Yi(this))throw new TypeError("invalid receiver");return lp(He(this,Qn),this)}get monthCode(){if(!Yi(this))throw new TypeError("invalid receiver");return Th(He(this,Qn),this)}get day(){if(!Yi(this))throw new TypeError("invalid receiver");return Dh(He(this,Qn),this)}get hour(){if(!Yi(this))throw new TypeError("invalid receiver");return He(this,no)}get minute(){if(!Yi(this))throw new TypeError("invalid receiver");return He(this,so)}get second(){if(!Yi(this))throw new TypeError("invalid receiver");return He(this,ao)}get millisecond(){if(!Yi(this))throw new TypeError("invalid receiver");return He(this,po)}get microsecond(){if(!Yi(this))throw new TypeError("invalid receiver");return He(this,ro)}get nanosecond(){if(!Yi(this))throw new TypeError("invalid receiver");return He(this,co)}get era(){if(!Yi(this))throw new TypeError("invalid receiver");return dp(He(this,Qn),this)}get eraYear(){if(!Yi(this))throw new TypeError("invalid receiver");return up(He(this,Qn),this)}get dayOfWeek(){if(!Yi(this))throw new TypeError("invalid receiver");return I1(He(this,Qn),this)}get dayOfYear(){if(!Yi(this))throw new TypeError("invalid receiver");return C1(He(this,Qn),this)}get weekOfYear(){if(!Yi(this))throw new TypeError("invalid receiver");return k1(He(this,Qn),this)}get yearOfWeek(){if(!Yi(this))throw new TypeError("invalid receiver");return R1(He(this,Qn),this)}get daysInWeek(){if(!Yi(this))throw new TypeError("invalid receiver");return O1(He(this,Qn),this)}get daysInYear(){if(!Yi(this))throw new TypeError("invalid receiver");return vb(He(this,Qn),this)}get daysInMonth(){if(!Yi(this))throw new TypeError("invalid receiver");return gb(He(this,Qn),this)}get monthsInYear(){if(!Yi(this))throw new TypeError("invalid receiver");return bb(He(this,Qn),this)}get inLeapYear(){if(!Yi(this))throw new TypeError("invalid receiver");return wb(He(this,Qn),this)}with(t,n){if(!Yi(this))throw new TypeError("invalid receiver");if(!mo(t))throw new TypeError("invalid argument");w0(t);const i=Io(n),l=He(this,Qn),p=Sa(l,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);let c=wo(this,p,[]);c=qu(l,c,wo(t,p,"partial")),c=wo(c,p,[]);const{year:h,month:V,day:$,hour:I,minute:q,second:Ce,millisecond:Be,microsecond:Pe,nanosecond:Ke}=yb(l,c,i);return nd(h,V,$,I,q,Ce,Be,Pe,Ke,l)}withPlainTime(t){if(!Yi(this))throw new TypeError("invalid receiver");const n=He(this,Yr),i=He(this,Qr),l=He(this,ni),p=He(this,Qn);if(void 0===t)return nd(n,i,l,0,0,0,0,0,0,p);const c=Mh(t);return nd(n,i,l,He(c,no),He(c,so),He(c,ao),He(c,po),He(c,ro),He(c,co),p)}withPlainDate(t){if(!Yi(this))throw new TypeError("invalid receiver");const n=hs(t),i=He(n,Yr),l=He(n,Qr),p=He(n,ni);let c=He(n,Qn);const h=He(this,no),V=He(this,so),$=He(this,ao),I=He(this,po),q=He(this,ro),Ce=He(this,co);return c=P1(He(this,Qn),c),nd(i,l,p,h,V,$,I,q,Ce,c)}withCalendar(t){if(!Yi(this))throw new TypeError("invalid receiver");const n=tl(t);return new vg(He(this,Yr),He(this,Qr),He(this,ni),He(this,no),He(this,so),He(this,ao),He(this,po),He(this,ro),He(this,co),n)}add(t,n){if(!Yi(this))throw new TypeError("invalid receiver");return X1("add",this,t,n)}subtract(t,n){if(!Yi(this))throw new TypeError("invalid receiver");return X1("subtract",this,t,n)}until(t,n){if(!Yi(this))throw new TypeError("invalid receiver");return FS("until",this,t,n)}since(t,n){if(!Yi(this))throw new TypeError("invalid receiver");return FS("since",this,t,n)}round(t){if(!Yi(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?Pb("smallestUnit",t):Io(t),i=am(n),l=Sh(n,"halfExpand"),p=Md(n,"smallestUnit","time",E0,["day"]),c={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[p];ng(i,c,1===c);let h=He(this,Yr),V=He(this,Qr),$=He(this,ni),I=He(this,no),q=He(this,so),Ce=He(this,ao),Be=He(this,po),Pe=He(this,ro),Ke=He(this,co);return({year:h,month:V,day:$,hour:I,minute:q,second:Ce,millisecond:Be,microsecond:Pe,nanosecond:Ke}=lg(h,V,$,I,q,Ce,Be,Pe,Ke,i,p,l)),nd(h,V,$,I,q,Ce,Be,Pe,Ke,He(this,Qn))}equals(t){if(!Yi(this))throw new TypeError("invalid receiver");const n=S0(t);for(const i of[Yr,Qr,ni,no,so,ao,po,ro,co])if(He(this,i)!==He(n,i))return!1;return A0(He(this,Qn),He(n,Qn))}toString(t){if(!Yi(this))throw new TypeError("invalid receiver");const n=Io(t),i=_0(n),l=pb(n),p=Sh(n,"trunc"),c=Md(n,"smallestUnit","time",void 0);if("hour"===c)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:h,unit:V,increment:$}=mb(c,l);return RS(this,h,i,{unit:V,increment:$,roundingMode:p})}toJSON(){if(!Yi(this))throw new TypeError("invalid receiver");return RS(this,"auto")}toLocaleString(t,n){if(!Yi(this))throw new TypeError("invalid receiver");return new vp(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(t,n){if(!Yi(this))throw new TypeError("invalid receiver");const i=Pl(t);return Ia(He(nl(i,this,tg(Io(n))),xi),i,He(this,Qn))}toPlainDate(){if(!Yi(this))throw new TypeError("invalid receiver");return sg(this)}toPlainYearMonth(){if(!Yi(this))throw new TypeError("invalid receiver");const t=He(this,Qn);return hp(t,wo(this,Sa(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Yi(this))throw new TypeError("invalid receiver");const t=He(this,Qn);return _b(t,wo(this,Sa(t,["day","monthCode"]),[]))}toPlainTime(){if(!Yi(this))throw new TypeError("invalid receiver");return uc(this)}getISOFields(){if(!Yi(this))throw new TypeError("invalid receiver");return{calendar:He(this,Qn),isoDay:He(this,ni),isoHour:He(this,no),isoMicrosecond:He(this,ro),isoMillisecond:He(this,po),isoMinute:He(this,so),isoMonth:He(this,Qr),isoNanosecond:He(this,co),isoSecond:He(this,ao),isoYear:He(this,Yr)}}getCalendar(){if(!Yi(this))throw new TypeError("invalid receiver");return og(He(this,Qn))}static from(t,n){const i=Io(n);return Yi(t)?(xa(i),nd(He(t,Yr),He(t,Qr),He(t,ni),He(t,no),He(t,so),He(t,ao),He(t,po),He(t,ro),He(t,co),He(t,Qn))):S0(t,i)}static compare(t,n){const i=S0(t),l=S0(n);for(const p of[Yr,Qr,ni,no,so,ao,po,ro,co]){const c=He(i,p),h=He(l,p);if(c!==h)return fm(c-h)}return 0}}op(vg,"Temporal.PlainDateTime");class pm{constructor(t=0,n=0,i=0,l=0,p=0,c=0,h=0,V=0,$=0,I=0){const q=void 0===t?0:qa(t),Ce=void 0===n?0:qa(n),Be=void 0===i?0:qa(i),Pe=void 0===l?0:qa(l),Ke=void 0===p?0:qa(p),rt=void 0===c?0:qa(c),ht=void 0===h?0:qa(h),ct=void 0===V?0:qa(V),dt=void 0===$?0:qa($),At=void 0===I?0:qa(I);cg(q,Ce,Be,Pe,Ke,rt,ht,ct,dt,At),wh(this),io(this,Cl,q),io(this,Bc,Ce),io(this,Sd,Be),io(this,Xl,Pe),io(this,Zl,Ke),io(this,Yl,rt),io(this,Jl,ht),io(this,kl,ct),io(this,Ya,dt),io(this,cc,At)}get years(){if(!Ws(this))throw new TypeError("invalid receiver");return He(this,Cl)}get months(){if(!Ws(this))throw new TypeError("invalid receiver");return He(this,Bc)}get weeks(){if(!Ws(this))throw new TypeError("invalid receiver");return He(this,Sd)}get days(){if(!Ws(this))throw new TypeError("invalid receiver");return He(this,Xl)}get hours(){if(!Ws(this))throw new TypeError("invalid receiver");return He(this,Zl)}get minutes(){if(!Ws(this))throw new TypeError("invalid receiver");return He(this,Yl)}get seconds(){if(!Ws(this))throw new TypeError("invalid receiver");return He(this,Jl)}get milliseconds(){if(!Ws(this))throw new TypeError("invalid receiver");return He(this,kl)}get microseconds(){if(!Ws(this))throw new TypeError("invalid receiver");return He(this,Ya)}get nanoseconds(){if(!Ws(this))throw new TypeError("invalid receiver");return He(this,cc)}get sign(){if(!Ws(this))throw new TypeError("invalid receiver");return kh(He(this,Cl),He(this,Bc),He(this,Sd),He(this,Xl),He(this,Zl),He(this,Yl),He(this,Jl),He(this,kl),He(this,Ya),He(this,cc))}get blank(){if(!Ws(this))throw new TypeError("invalid receiver");return 0===kh(He(this,Cl),He(this,Bc),He(this,Sd),He(this,Xl),He(this,Zl),He(this,Yl),He(this,Jl),He(this,kl),He(this,Ya),He(this,cc))}with(t){if(!Ws(this))throw new TypeError("invalid receiver");const n=wo(t,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial"),{years:i=He(this,Cl),months:l=He(this,Bc),weeks:p=He(this,Sd),days:c=He(this,Xl),hours:h=He(this,Zl),minutes:V=He(this,Yl),seconds:$=He(this,Jl),milliseconds:I=He(this,kl),microseconds:q=He(this,Ya),nanoseconds:Ce=He(this,cc)}=n;return new pm(i,l,p,c,h,V,$,I,q,Ce)}negated(){if(!Ws(this))throw new TypeError("invalid receiver");return WI(this)}abs(){if(!Ws(this))throw new TypeError("invalid receiver");return new pm(Math.abs(He(this,Cl)),Math.abs(He(this,Bc)),Math.abs(He(this,Sd)),Math.abs(He(this,Xl)),Math.abs(He(this,Zl)),Math.abs(He(this,Yl)),Math.abs(He(this,Jl)),Math.abs(He(this,kl)),Math.abs(He(this,Ya)),Math.abs(He(this,cc)))}add(t,n){if(!Ws(this))throw new TypeError("invalid receiver");return Ib("add",this,t,n)}subtract(t,n){if(!Ws(this))throw new TypeError("invalid receiver");return Ib("subtract",this,t,n)}round(t){if(!Ws(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");let n=He(this,Cl),i=He(this,Bc),l=He(this,Sd),p=He(this,Xl),c=He(this,Zl),h=He(this,Yl),V=He(this,Jl),$=He(this,kl),I=He(this,Ya),q=He(this,cc),Ce=TS(n,i,l,p,c,h,V,$,I,q);const Be="string"==typeof t?Pb("smallestUnit",t):Io(t);let Pe=Md(Be,"largestUnit","datetime",void 0,["auto"]),Ke=A1(Be);const rt=am(Be),ht=Sh(Be,"halfExpand");let ct=Md(Be,"smallestUnit","datetime",void 0),dt=!0;ct||(dt=!1,ct="nanosecond"),Ce=x0(Ce,ct);let At=!0;if(Pe||(At=!1,Pe=Ce),"auto"===Pe&&(Pe=Ce),!dt&&!At)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(x0(Pe,ct)!==Pe)throw new RangeError(`largestUnit ${Pe} cannot be smaller than smallestUnit ${ct}`);const Pt={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[ct];return void 0!==Pt&&ng(rt,Pt,!1),({years:n,months:i,weeks:l,days:p}=V1(n,i,l,p,Pe,Ke)),({years:n,months:i,weeks:l,days:p,hours:c,minutes:h,seconds:V,milliseconds:$,microseconds:I,nanoseconds:q}=Vf(n,i,l,p,c,h,V,$,I,q,rt,ct,ht,Ke)),({years:n,months:i,weeks:l,days:p,hours:c,minutes:h,seconds:V,milliseconds:$,microseconds:I,nanoseconds:q}=KS(n,i,l,p,c,h,V,$,I,q,rt,ct,ht,Ke)),({days:p,hours:c,minutes:h,seconds:V,milliseconds:$,microseconds:I,nanoseconds:q}=yu(p,c,h,V,$,I,q,Pe,Ke)),({years:n,months:i,weeks:l,days:p}=function(zt,Xt,xn,Cn,Nn,ir){const Pn=Ur("%Temporal.Duration%"),Hn=kh(zt,Xt,xn,Cn,0,0,0,0,0,0);if(0===Hn)return{years:zt,months:Xt,weeks:xn,days:Cn};const ln=kt.BigInt(Hn);let vn,wn,Un=kt.BigInt(zt),Sn=kt.BigInt(Xt),Vn=kt.BigInt(xn),lr=kt.BigInt(Cn);ir&&(wn=hs(ir),vn=He(wn,Qn));const cr=new Pn(Hn),yn=new Pn(0,Hn),dr=new Pn(0,0,Hn);switch(Nn){case"year":{if(!vn)throw new RangeError("a starting point is required for years balancing");const xr="string"!=typeof vn?Go(vn,"dateAdd"):void 0;let Zn,On,qn;for(({relativeTo:Zn,days:On}=il(vn,wn,cr,xr));kt.greaterThanOrEqual(Ju(lr),kt.BigInt(Vs(On)));)lr=kt.subtract(lr,kt.BigInt(On)),Un=kt.add(Un,ln),wn=Zn,({relativeTo:Zn,days:On}=il(vn,wn,cr,xr));for(({relativeTo:Zn,days:qn}=il(vn,wn,yn,xr));kt.greaterThanOrEqual(Ju(lr),kt.BigInt(Vs(qn)));)lr=kt.subtract(lr,kt.BigInt(qn)),Sn=kt.add(Sn,ln),wn=Zn,({relativeTo:Zn,days:qn}=il(vn,wn,yn,xr));Zn=Ca(vn,wn,cr,void 0,xr);const mr="string"!=typeof vn?Go(vn,"dateUntil"):void 0,kr=el(null);kr.largestUnit="month";let Nr=mu(vn,wn,Zn,kr,mr),Mr=He(Nr,Bc);for(;kt.greaterThanOrEqual(Ju(Sn),kt.BigInt(Vs(Mr)));){Sn=kt.subtract(Sn,kt.BigInt(Mr)),Un=kt.add(Un,ln),wn=Zn,Zn=Ca(vn,wn,cr,void 0,xr);const Dr=el(null);Dr.largestUnit="month",Nr=mu(vn,wn,Zn,Dr,mr),Mr=He(Nr,Bc)}break}case"month":{if(!vn)throw new RangeError("a starting point is required for months balancing");const xr="string"!=typeof vn?Go(vn,"dateAdd"):void 0;let Zn,On;for(({relativeTo:Zn,days:On}=il(vn,wn,yn,xr));kt.greaterThanOrEqual(Ju(lr),kt.BigInt(Vs(On)));)lr=kt.subtract(lr,kt.BigInt(On)),Sn=kt.add(Sn,ln),wn=Zn,({relativeTo:Zn,days:On}=il(vn,wn,yn,xr));break}case"week":{if(!vn)throw new RangeError("a starting point is required for weeks balancing");const xr="string"!=typeof vn?Go(vn,"dateAdd"):void 0;let Zn,On;for(({relativeTo:Zn,days:On}=il(vn,wn,dr,xr));kt.greaterThanOrEqual(Ju(lr),kt.BigInt(Vs(On)));)lr=kt.subtract(lr,kt.BigInt(On)),Vn=kt.add(Vn,ln),wn=Zn,({relativeTo:Zn,days:On}=il(vn,wn,dr,xr));break}}return{years:kt.toNumber(Un),months:kt.toNumber(Sn),weeks:kt.toNumber(Vn),days:kt.toNumber(lr)}}(n,i,l,p,Pe,Ke)),new pm(n,i,l,p,c,h,V,$,I,q)}total(t){if(!Ws(this))throw new TypeError("invalid receiver");let n=He(this,Cl),i=He(this,Bc),l=He(this,Sd),p=He(this,Xl),c=He(this,Zl),h=He(this,Yl),V=He(this,Jl),$=He(this,kl),I=He(this,Ya),q=He(this,cc);if(void 0===t)throw new TypeError("options argument is required");const Ce="string"==typeof t?Pb("unit",t):Io(t),Be=A1(Ce),Pe=Md(Ce,"unit","datetime",E0);let Ke;({years:n,months:i,weeks:l,days:p}=V1(n,i,l,p,Pe,Be)),ri(Be)&&(Ke=tC(Be,n,i,l,0));let rt=zI(p,c,h,V,$,I,q,Pe,Ke);if("positive overflow"===rt)return 1/0;if("negative overflow"===rt)return-1/0;({days:p,hours:c,minutes:h,seconds:V,milliseconds:$,microseconds:I,nanoseconds:q}=rt);const{total:ht}=Vf(n,i,l,p,c,h,V,$,I,q,1,Pe,"trunc",Be);return ht}toString(t){if(!Ws(this))throw new TypeError("invalid receiver");const n=Io(t),i=pb(n),l=Sh(n,"trunc"),p=Md(n,"smallestUnit","time",void 0);if("hour"===p||"minute"===p)throw new RangeError('smallestUnit must be a time unit other than "hours" or "minutes"');const{precision:c,unit:h,increment:V}=mb(p,i);return N1(this,c,{unit:h,increment:V,roundingMode:l})}toJSON(){if(!Ws(this))throw new TypeError("invalid receiver");return N1(this)}toLocaleString(t,n){if(!Ws(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&void 0!==Intl.DurationFormat?new Intl.DurationFormat(t,n).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),N1(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(t){return Ws(t)?new pm(He(t,Cl),He(t,Bc),He(t,Sd),He(t,Xl),He(t,Zl),He(t,Yl),He(t,Jl),He(t,kl),He(t,Ya),He(t,cc)):rg(t)}static compare(t,n,i){const l=rg(t),p=rg(n),c=A1(Io(i)),h=He(l,Cl),V=He(l,Bc),$=He(l,Sd);let I=He(l,Xl);const q=He(l,Zl),Ce=He(l,Yl),Be=He(l,Jl),Pe=He(l,kl),Ke=He(l,Ya);let rt=He(l,cc);const ht=He(p,Cl),ct=He(p,Bc),dt=He(p,Sd);let At=He(p,Xl);const Pt=He(p,Zl),Ct=He(p,Yl),zt=He(p,Jl),Xt=He(p,kl),xn=He(p,Ya);let Cn=He(p,cc);const Nn=HI(c,h,V,$,I),ir=HI(c,ht,ct,dt,At);0===h&&0===ht&&0===V&&0===ct&&0===$&&0===dt||(({days:I}=V1(h,V,$,I,"day",c)),({days:At}=V1(ht,ct,dt,At,"day",c)));const Pn=ag(I,q,Ce,Be,Pe,Ke,rt,Nn),Hn=ag(At,Pt,Ct,zt,Xt,xn,Cn,ir);return fm(kt.toNumber(kt.subtract(Pn,Hn)))}}op(pm,"Temporal.Duration");const _C=Object.create;class iE{constructor(t,n,i="iso8601",l=1972){DS(this,Oo(t),Oo(n),tl(i),Oo(l))}get monthCode(){if(!Va(this))throw new TypeError("invalid receiver");return Th(He(this,Qn),this)}get day(){if(!Va(this))throw new TypeError("invalid receiver");return Dh(He(this,Qn),this)}get calendarId(){if(!Va(this))throw new TypeError("invalid receiver");return Lc(He(this,Qn))}with(t,n){if(!Va(this))throw new TypeError("invalid receiver");if(!mo(t))throw new TypeError("invalid argument");w0(t);const i=Io(n),l=He(this,Qn),p=Sa(l,["day","month","monthCode","year"]);let c=wo(this,p,[]);return c=qu(l,c,wo(t,p,"partial")),c=wo(c,p,[]),_b(l,c,i)}equals(t){if(!Va(this))throw new TypeError("invalid receiver");const n=BI(t);for(const i of[Qr,ni,Yr])if(He(this,i)!==He(n,i))return!1;return A0(He(this,Qn),He(n,Qn))}toString(t){if(!Va(this))throw new TypeError("invalid receiver");return V8(this,_0(Io(t)))}toJSON(){if(!Va(this))throw new TypeError("invalid receiver");return V8(this)}toLocaleString(t,n){if(!Va(this))throw new TypeError("invalid receiver");return new vp(t,n).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(t){if(!Va(this))throw new TypeError("invalid receiver");if(!mo(t))throw new TypeError("argument should be an object");const n=He(this,Qn),i=Sa(n,["day","monthCode"]),l=wo(this,i,[]),p=Sa(n,["year"]);let c=qu(n,l,wo(t,p,[]));c=wo(c,[...new Set([...i,...p])],[]);const h=_C(null);return h.overflow="reject",fp(n,c,h)}getISOFields(){if(!Va(this))throw new TypeError("invalid receiver");return{calendar:He(this,Qn),isoDay:He(this,ni),isoMonth:He(this,Qr),isoYear:He(this,Yr)}}getCalendar(){if(!Va(this))throw new TypeError("invalid receiver");return og(He(this,Qn))}static from(t,n){const i=Io(n);return Va(t)?(xa(i),ap(He(t,Qr),He(t,ni),He(t,Qn),He(t,Yr))):BI(t,i)}}op(iE,"Temporal.PlainMonthDay");const eM=()=>new(Ur("%Temporal.Instant%"))(Ob()),oE=(r,t=k0())=>{const n=Pl(t),i=tl(r);return Hd(n,eM(),i)},jb=(r=k0())=>Hd(Pl(r),eM(),"iso8601"),tM=(r,t=k0())=>{const n=Pl(t),i=tl(r);return Ia(Ob(),n,i)},nM={instant:eM,plainDateTime:oE,plainDateTimeISO:jb,plainDate:(r,t=k0())=>sg(oE(r,t)),plainDateISO:(r=k0())=>sg(jb(r)),plainTimeISO:(r=k0())=>uc(jb(r)),timeZoneId:()=>k0(),zonedDateTime:tM,zonedDateTimeISO:(r=k0())=>tM("iso8601",r),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(nM,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});const EC=Object.assign;function rM(r,t,n){let i=He(r,no),l=He(r,so),p=He(r,ao),c=He(r,po),h=He(r,ro),V=He(r,co);if(n){const{unit:$,increment:I,roundingMode:q}=n;({hour:i,minute:l,second:p,millisecond:c,microsecond:h,nanosecond:V}=kb(i,l,p,c,h,V,I,$,q))}return`${ws(i)}:${ws(l)}${B1(p,c,h,V,t)}`}class mm{constructor(t=0,n=0,i=0,l=0,p=0,c=0){const h=void 0===t?0:Oo(t),V=void 0===n?0:Oo(n),$=void 0===i?0:Oo(i),I=void 0===l?0:Oo(l),q=void 0===p?0:Oo(p),Ce=void 0===c?0:Oo(c);z1(h,V,$,I,q,Ce),wh(this),io(this,no,h),io(this,so,V),io(this,ao,$),io(this,po,I),io(this,ro,q),io(this,co,Ce)}get hour(){if(!na(this))throw new TypeError("invalid receiver");return He(this,no)}get minute(){if(!na(this))throw new TypeError("invalid receiver");return He(this,so)}get second(){if(!na(this))throw new TypeError("invalid receiver");return He(this,ao)}get millisecond(){if(!na(this))throw new TypeError("invalid receiver");return He(this,po)}get microsecond(){if(!na(this))throw new TypeError("invalid receiver");return He(this,ro)}get nanosecond(){if(!na(this))throw new TypeError("invalid receiver");return He(this,co)}with(t,n){if(!na(this))throw new TypeError("invalid receiver");if(!mo(t))throw new TypeError("invalid argument");w0(t);const i=xa(Io(n)),l=T1(t,"partial"),p=T1(this);let{hour:c,minute:h,second:V,millisecond:$,microsecond:I,nanosecond:q}=EC(p,l);return({hour:c,minute:h,second:V,millisecond:$,microsecond:I,nanosecond:q}=S1(c,h,V,$,I,q,i)),new mm(c,h,V,$,I,q)}add(t){if(!na(this))throw new TypeError("invalid receiver");return $S("add",this,t)}subtract(t){if(!na(this))throw new TypeError("invalid receiver");return $S("subtract",this,t)}until(t,n){if(!na(this))throw new TypeError("invalid receiver");return H8("until",this,t,n)}since(t,n){if(!na(this))throw new TypeError("invalid receiver");return H8("since",this,t,n)}round(t){if(!na(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?Pb("smallestUnit",t):Io(t),i=am(n),l=Sh(n,"halfExpand"),p=Md(n,"smallestUnit","time",E0);ng(i,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[p],!1);let c=He(this,no),h=He(this,so),V=He(this,ao),$=He(this,po),I=He(this,ro),q=He(this,co);return({hour:c,minute:h,second:V,millisecond:$,microsecond:I,nanosecond:q}=kb(c,h,V,$,I,q,i,p,l)),new mm(c,h,V,$,I,q)}equals(t){if(!na(this))throw new TypeError("invalid receiver");const n=Mh(t);for(const i of[no,so,ao,po,ro,co])if(He(this,i)!==He(n,i))return!1;return!0}toString(t){if(!na(this))throw new TypeError("invalid receiver");const n=Io(t),i=pb(n),l=Sh(n,"trunc"),p=Md(n,"smallestUnit","time",void 0);if("hour"===p)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:c,unit:h,increment:V}=mb(p,i);return rM(this,c,{unit:h,increment:V,roundingMode:l})}toJSON(){if(!na(this))throw new TypeError("invalid receiver");return rM(this,"auto")}toLocaleString(t,n){if(!na(this))throw new TypeError("invalid receiver");return new vp(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(t){if(!na(this))throw new TypeError("invalid receiver");const n=hs(t),i=He(n,Yr),l=He(n,Qr),p=He(n,ni),c=He(n,Qn);return nd(i,l,p,He(this,no),He(this,so),He(this,ao),He(this,po),He(this,ro),He(this,co),c)}toZonedDateTime(t){if(!na(this))throw new TypeError("invalid receiver");if(!mo(t))throw new TypeError("invalid argument");const n=t.plainDate;if(void 0===n)throw new TypeError("missing date property");const i=hs(n),l=t.timeZone;if(void 0===l)throw new TypeError("missing timeZone property");const p=Pl(l),c=He(i,Yr),h=He(i,Qr),V=He(i,ni),$=He(i,Qn),I=He(this,no),q=He(this,so),Ce=He(this,ao),Be=He(this,po),Pe=He(this,ro),Ke=He(this,co);return Ia(He(nl(p,new(Ur("%Temporal.PlainDateTime%"))(c,h,V,I,q,Ce,Be,Pe,Ke,$),"compatible"),xi),p,$)}getISOFields(){if(!na(this))throw new TypeError("invalid receiver");return{isoHour:He(this,no),isoMicrosecond:He(this,ro),isoMillisecond:He(this,po),isoMinute:He(this,so),isoNanosecond:He(this,co),isoSecond:He(this,ao)}}static from(t,n){const i=xa(Io(n));return na(t)?new mm(He(t,no),He(t,so),He(t,ao),He(t,po),He(t,ro),He(t,co)):Mh(t,i)}static compare(t,n){const i=Mh(t),l=Mh(n);for(const p of[no,so,ao,po,ro,co]){const c=He(i,p),h=He(l,p);if(c!==h)return fm(c-h)}return 0}}op(mm,"Temporal.PlainTime");class bg{constructor(t){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");const n=tf(t);wh(this),io(this,Lf,n)}get id(){if(!td(this))throw new TypeError("invalid receiver");return He(this,Lf)}getOffsetNanosecondsFor(t){if(!td(this))throw new TypeError("invalid receiver");const n=Ff(t),i=He(this,Lf);return lm(i)?Ch(i):pp(i,He(n,xi))}getOffsetStringFor(t){if(!td(this))throw new TypeError("invalid receiver");return kS(this,Ff(t))}getPlainDateTimeFor(t,n="iso8601"){if(!td(this))throw new TypeError("invalid receiver");return Hd(this,Ff(t),tl(n))}getInstantFor(t,n){if(!td(this))throw new TypeError("invalid receiver");return nl(this,S0(t),tg(Io(n)))}getPossibleInstantsFor(t){if(!td(this))throw new TypeError("invalid receiver");const n=S0(t),i=Ur("%Temporal.Instant%"),l=He(this,Lf);if(lm(l)){const c=rl(He(n,Yr),He(n,Qr),He(n,ni),He(n,no),He(n,so),He(n,ao),He(n,po),He(n,ro),He(n,co));if(null===c)throw new RangeError("DateTime outside of supported range");const h=Ch(l);return[new i(kt.subtract(c,kt.BigInt(h)))]}return function(h,V,$,I,q,Ce,Be,Pe,Ke,rt){const ht=rl(V,$,I,q,Ce,Be,Pe,Ke,rt);if(null===ht)throw new RangeError("DateTime outside of supported range");let ct=kt.subtract(ht,pu);kt.lessThan(ct,Ql)&&(ct=ht);let dt=kt.add(ht,pu);kt.greaterThan(dt,Uf)&&(dt=ht);const At=pp(h,ct),Pt=pp(h,dt);return(At===Pt?[At]:[At,Pt]).map(Ct=>{const zt=kt.subtract(ht,kt.BigInt(Ct)),Xt=OS(h,zt);if(V===Xt.year&&$===Xt.month&&I===Xt.day&&q===Xt.hour&&Ce===Xt.minute&&Be===Xt.second&&Pe===Xt.millisecond&&Ke===Xt.microsecond&&rt===Xt.nanosecond)return zt}).filter(Ct=>void 0!==Ct)}(l,He(n,Yr),He(n,Qr),He(n,ni),He(n,no),He(n,so),He(n,ao),He(n,po),He(n,ro),He(n,co)).map(c=>new i(c))}getNextTransition(t){if(!td(this))throw new TypeError("invalid receiver");const n=Ff(t),i=He(this,Lf);if(lm(i)||"UTC"===i)return null;let l=He(n,xi);const p=Ur("%Temporal.Instant%");return l=VI(i,l),null===l?null:new p(l)}getPreviousTransition(t){if(!td(this))throw new TypeError("invalid receiver");const n=Ff(t),i=He(this,Lf);if(lm(i)||"UTC"===i)return null;let l=He(n,xi);const p=Ur("%Temporal.Instant%");return l=BS(i,l),null===l?null:new p(l)}toString(){if(!td(this))throw new TypeError("invalid receiver");return He(this,Lf)}toJSON(){if(!td(this))throw new TypeError("invalid receiver");return He(this,Lf)}static from(t){return UI(Pl(t))}}op(bg,"Temporal.TimeZone"),Ks("Temporal.TimeZone.prototype.getOffsetNanosecondsFor",bg.prototype.getOffsetNanosecondsFor),Ks("Temporal.TimeZone.prototype.getPossibleInstantsFor",bg.prototype.getPossibleInstantsFor);const xC=Object.create;class sE{constructor(t,n,i="iso8601",l=1){D1(this,Oo(t),Oo(n),tl(i),Oo(l))}get year(){if(!Do(this))throw new TypeError("invalid receiver");return cp(He(this,Qn),this)}get month(){if(!Do(this))throw new TypeError("invalid receiver");return lp(He(this,Qn),this)}get monthCode(){if(!Do(this))throw new TypeError("invalid receiver");return Th(He(this,Qn),this)}get calendarId(){if(!Do(this))throw new TypeError("invalid receiver");return Lc(He(this,Qn))}get era(){if(!Do(this))throw new TypeError("invalid receiver");return dp(He(this,Qn),this)}get eraYear(){if(!Do(this))throw new TypeError("invalid receiver");return up(He(this,Qn),this)}get daysInMonth(){if(!Do(this))throw new TypeError("invalid receiver");return gb(He(this,Qn),this)}get daysInYear(){if(!Do(this))throw new TypeError("invalid receiver");return vb(He(this,Qn),this)}get monthsInYear(){if(!Do(this))throw new TypeError("invalid receiver");return bb(He(this,Qn),this)}get inLeapYear(){if(!Do(this))throw new TypeError("invalid receiver");return wb(He(this,Qn),this)}with(t,n){if(!Do(this))throw new TypeError("invalid receiver");if(!mo(t))throw new TypeError("invalid argument");w0(t);const i=Io(n),l=He(this,Qn),p=Sa(l,["month","monthCode","year"]);let c=wo(this,p,[]);return c=qu(l,c,wo(t,p,"partial")),c=wo(c,p,[]),hp(l,c,i)}add(t,n){if(!Do(this))throw new TypeError("invalid receiver");return QI("add",this,t,n)}subtract(t,n){if(!Do(this))throw new TypeError("invalid receiver");return QI("subtract",this,t,n)}until(t,n){if(!Do(this))throw new TypeError("invalid receiver");return W8("until",this,t,n)}since(t,n){if(!Do(this))throw new TypeError("invalid receiver");return W8("since",this,t,n)}equals(t){if(!Do(this))throw new TypeError("invalid receiver");const n=ig(t);for(const i of[Yr,Qr,ni])if(He(this,i)!==He(n,i))return!1;return A0(He(this,Qn),He(n,Qn))}toString(t){if(!Do(this))throw new TypeError("invalid receiver");return L1(this,_0(Io(t)))}toJSON(){if(!Do(this))throw new TypeError("invalid receiver");return L1(this)}toLocaleString(t,n){if(!Do(this))throw new TypeError("invalid receiver");return new vp(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(t){if(!Do(this))throw new TypeError("invalid receiver");if(!mo(t))throw new TypeError("argument should be an object");const n=He(this,Qn),i=Sa(n,["monthCode","year"]),l=wo(this,i,[]),p=Sa(n,["day"]);let c=qu(n,l,wo(t,p,[]));c=wo(c,[...new Set([...i,...p])],[]);const h=xC(null);return h.overflow="reject",fp(n,c,h)}getISOFields(){if(!Do(this))throw new TypeError("invalid receiver");return{calendar:He(this,Qn),isoDay:He(this,ni),isoMonth:He(this,Qr),isoYear:He(this,Yr)}}getCalendar(){if(!Do(this))throw new TypeError("invalid receiver");return og(He(this,Qn))}static from(t,n){const i=Io(n);return Do(t)?(xa(i),Ah(He(t,Yr),He(t,Qr),He(t,Qn),He(t,ni))):ig(t,i)}static compare(t,n){const i=ig(t),l=ig(n);return Oh(He(i,Yr),He(i,Qr),He(i,ni),He(l,Yr),He(l,Qr),He(l,ni))}}op(sE,"Temporal.PlainYearMonth");const SC=vp.prototype.resolvedOptions,MC=Object.create;class aE{constructor(t,n,i="iso8601"){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");IS(this,Z1(t),Pl(n),tl(i))}get calendarId(){if(!ri(this))throw new TypeError("invalid receiver");return Lc(He(this,Qn))}get timeZoneId(){if(!ri(this))throw new TypeError("invalid receiver");return Eb(He(this,as))}get year(){if(!ri(this))throw new TypeError("invalid receiver");return cp(He(this,Qn),Ts(this))}get month(){if(!ri(this))throw new TypeError("invalid receiver");return lp(He(this,Qn),Ts(this))}get monthCode(){if(!ri(this))throw new TypeError("invalid receiver");return Th(He(this,Qn),Ts(this))}get day(){if(!ri(this))throw new TypeError("invalid receiver");return Dh(He(this,Qn),Ts(this))}get hour(){if(!ri(this))throw new TypeError("invalid receiver");return He(Ts(this),no)}get minute(){if(!ri(this))throw new TypeError("invalid receiver");return He(Ts(this),so)}get second(){if(!ri(this))throw new TypeError("invalid receiver");return He(Ts(this),ao)}get millisecond(){if(!ri(this))throw new TypeError("invalid receiver");return He(Ts(this),po)}get microsecond(){if(!ri(this))throw new TypeError("invalid receiver");return He(Ts(this),ro)}get nanosecond(){if(!ri(this))throw new TypeError("invalid receiver");return He(Ts(this),co)}get era(){if(!ri(this))throw new TypeError("invalid receiver");return dp(He(this,Qn),Ts(this))}get eraYear(){if(!ri(this))throw new TypeError("invalid receiver");return up(He(this,Qn),Ts(this))}get epochSeconds(){if(!ri(this))throw new TypeError("invalid receiver");const t=He(this,xi);return kt.toNumber(dg(t,Nc))}get epochMilliseconds(){if(!ri(this))throw new TypeError("invalid receiver");const t=He(this,xi);return kt.toNumber(dg(t,Vd))}get epochMicroseconds(){if(!ri(this))throw new TypeError("invalid receiver");return mp(dg(He(this,xi),jo))}get epochNanoseconds(){if(!ri(this))throw new TypeError("invalid receiver");return mp(He(this,xi))}get dayOfWeek(){if(!ri(this))throw new TypeError("invalid receiver");return I1(He(this,Qn),Ts(this))}get dayOfYear(){if(!ri(this))throw new TypeError("invalid receiver");return C1(He(this,Qn),Ts(this))}get weekOfYear(){if(!ri(this))throw new TypeError("invalid receiver");return k1(He(this,Qn),Ts(this))}get yearOfWeek(){if(!ri(this))throw new TypeError("invalid receiver");return R1(He(this,Qn),Ts(this))}get hoursInDay(){if(!ri(this))throw new TypeError("invalid receiver");const t=Ts(this),n=Ur("%Temporal.PlainDateTime%"),i=He(t,Yr),l=He(t,Qr),p=He(t,ni),c=new n(i,l,p,0,0,0,0,0,0),h=um(i,l,p,0,0,0,1,"reject"),V=new n(h.year,h.month,h.day,0,0,0,0,0,0),$=He(this,as),I=He(nl($,c,"compatible"),xi),q=He(nl($,V,"compatible"),xi);return Ph(kt.subtract(q,I),Ja)}get daysInWeek(){if(!ri(this))throw new TypeError("invalid receiver");return O1(He(this,Qn),Ts(this))}get daysInMonth(){if(!ri(this))throw new TypeError("invalid receiver");return gb(He(this,Qn),Ts(this))}get daysInYear(){if(!ri(this))throw new TypeError("invalid receiver");return vb(He(this,Qn),Ts(this))}get monthsInYear(){if(!ri(this))throw new TypeError("invalid receiver");return bb(He(this,Qn),Ts(this))}get inLeapYear(){if(!ri(this))throw new TypeError("invalid receiver");return wb(He(this,Qn),Ts(this))}get offset(){if(!ri(this))throw new TypeError("invalid receiver");return kS(He(this,as),He(this,Pc))}get offsetNanoseconds(){if(!ri(this))throw new TypeError("invalid receiver");return ef(He(this,as),He(this,Pc))}with(t,n){if(!ri(this))throw new TypeError("invalid receiver");if(!mo(t))throw new TypeError("invalid zoned-date-time-like");w0(t);const i=Io(n),l=He(this,Qn);let p=Sa(l,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);p.push("offset");let c=wo(this,p,["offset"]);c=qu(l,c,wo(t,p,"partial")),c=wo(c,p,["offset"]);const h=tg(i),V=M1(i,"prefer");let{year:$,month:I,day:q,hour:Ce,minute:Be,second:Pe,millisecond:Ke,microsecond:rt,nanosecond:ht}=yb(l,c,i);const ct=Ch(c.offset),dt=He(this,as);return Ia(jf($,I,q,Ce,Be,Pe,Ke,rt,ht,"option",ct,dt,h,V,!1),dt,l)}withPlainDate(t){if(!ri(this))throw new TypeError("invalid receiver");const n=hs(t),i=He(n,Yr),l=He(n,Qr),p=He(n,ni);let c=He(n,Qn);const h=Ts(this),V=He(h,no),$=He(h,so),I=He(h,ao),q=He(h,po),Ce=He(h,ro),Be=He(h,co);c=P1(He(this,Qn),c);const Pe=He(this,as);return Ia(He(nl(Pe,new(Ur("%Temporal.PlainDateTime%"))(i,l,p,V,$,I,q,Ce,Be,c),"compatible"),xi),Pe,c)}withPlainTime(t){if(!ri(this))throw new TypeError("invalid receiver");const n=Ur("%Temporal.PlainTime%"),i=void 0===t?new n:Mh(t),l=Ts(this),p=He(l,Yr),c=He(l,Qr),h=He(l,ni),V=He(this,Qn),$=He(i,no),I=He(i,so),q=He(i,ao),Ce=He(i,po),Be=He(i,ro),Pe=He(i,co),Ke=He(this,as);return Ia(He(nl(Ke,new(Ur("%Temporal.PlainDateTime%"))(p,c,h,$,I,q,Ce,Be,Pe,V),"compatible"),xi),Ke,V)}withTimeZone(t){if(!ri(this))throw new TypeError("invalid receiver");const n=Pl(t);return Ia(He(this,xi),n,He(this,Qn))}withCalendar(t){if(!ri(this))throw new TypeError("invalid receiver");const n=tl(t);return Ia(He(this,xi),He(this,as),n)}add(t,n){if(!ri(this))throw new TypeError("invalid receiver");return eC("add",this,t,n)}subtract(t,n){if(!ri(this))throw new TypeError("invalid receiver");return eC("subtract",this,t,n)}until(t,n){if(!ri(this))throw new TypeError("invalid receiver");return JI("until",this,t,n)}since(t,n){if(!ri(this))throw new TypeError("invalid receiver");return JI("since",this,t,n)}round(t){if(!ri(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?Pb("smallestUnit",t):Io(t),i=am(n),l=Sh(n,"halfExpand"),p=Md(n,"smallestUnit","time",E0,["day"]),c={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[p];ng(i,c,1===c);const h=Ts(this);let V=He(h,Yr),$=He(h,Qr),I=He(h,ni),q=He(h,no),Ce=He(h,so),Be=He(h,ao),Pe=He(h,po),Ke=He(h,ro),rt=He(h,co);const ht=Ur("%Temporal.PlainDateTime%"),ct=He(this,as),dt=He(this,Qn),At=nl(ct,new ht(He(h,Yr),He(h,Qr),He(h,ni),0,0,0,0,0,0),"compatible"),Pt=gu(At,ct,dt,0,0,0,1,0,0,0,0,0,0),Ct=kt.subtract(Pt,kt.BigInt(He(At,xi)));if(kt.lessThanOrEqual(Ct,_a))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero or negative length days");return({year:V,month:$,day:I,hour:q,minute:Ce,second:Be,millisecond:Pe,microsecond:Ke,nanosecond:rt}=lg(V,$,I,q,Ce,Be,Pe,Ke,rt,i,p,l,kt.toNumber(Ct))),Ia(jf(V,$,I,q,Ce,Be,Pe,Ke,rt,"option",ef(ct,He(this,Pc)),ct,"compatible","prefer",!1),ct,He(this,Qn))}equals(t){if(!ri(this))throw new TypeError("invalid receiver");const n=M0(t),i=He(this,xi),l=He(n,xi);return!!kt.equal(kt.BigInt(i),kt.BigInt(l))&&!!CS(He(this,as),He(n,as))&&A0(He(this,Qn),He(n,Qn))}toString(t){if(!ri(this))throw new TypeError("invalid receiver");const n=Io(t),i=_0(n),l=pb(n),p=hm(n,"offset",["auto","never"],"auto"),c=Sh(n,"trunc"),h=Md(n,"smallestUnit","time",void 0);if("hour"===h)throw new RangeError('smallestUnit must be a time unit other than "hour"');const V=hm(n,"timeZoneName",["auto","never","critical"],"auto"),{precision:$,unit:I,increment:q}=mb(h,l);return U1(this,$,i,V,p,{unit:I,increment:q,roundingMode:c})}toLocaleString(t,n){if(!ri(this))throw new TypeError("invalid receiver");const i=Io(n),l=MC(null);if(hb(l,i,["timeZone"]),void 0!==i.timeZone)throw new TypeError("ZonedDateTime toLocaleString does not accept a timeZone option");void 0===l.year&&void 0===l.month&&void 0===l.day&&void 0===l.weekday&&void 0===l.dateStyle&&void 0===l.hour&&void 0===l.minute&&void 0===l.second&&void 0===l.timeStyle&&void 0===l.dayPeriod&&void 0===l.timeZoneName&&(l.timeZoneName="short");let p=Eb(He(this,as));if(lm(p))throw new RangeError("toLocaleString does not support offset string time zones");p=tf(p),l.timeZone=p;const c=new vp(t,l),h=ci(SC,c,[]).calendar,V=Lc(He(this,Qn));if("iso8601"!==V&&"iso8601"!==h&&h!==V)throw new RangeError(`cannot format ZonedDateTime with calendar ${V} in locale with calendar ${h}`);return c.format(He(this,Pc))}toJSON(){if(!ri(this))throw new TypeError("invalid receiver");return U1(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!ri(this))throw new TypeError("invalid receiver");const t=Ts(this),n=Ur("%Temporal.PlainDateTime%"),i=He(this,Qn),l=new n(He(t,Yr),He(t,Qr),He(t,ni),0,0,0,0,0,0,i),p=He(this,as);return Ia(He(nl(p,l,"compatible"),xi),p,i)}toInstant(){if(!ri(this))throw new TypeError("invalid receiver");return new(Ur("%Temporal.Instant%"))(He(this,xi))}toPlainDate(){if(!ri(this))throw new TypeError("invalid receiver");return sg(Ts(this))}toPlainTime(){if(!ri(this))throw new TypeError("invalid receiver");return uc(Ts(this))}toPlainDateTime(){if(!ri(this))throw new TypeError("invalid receiver");return Ts(this)}toPlainYearMonth(){if(!ri(this))throw new TypeError("invalid receiver");const t=He(this,Qn);return hp(t,wo(this,Sa(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!ri(this))throw new TypeError("invalid receiver");const t=He(this,Qn);return _b(t,wo(this,Sa(t,["day","monthCode"]),[]))}getISOFields(){if(!ri(this))throw new TypeError("invalid receiver");const t=Ts(this),n=He(this,as);return{calendar:He(this,Qn),isoDay:He(t,ni),isoHour:He(t,no),isoMicrosecond:He(t,ro),isoMillisecond:He(t,po),isoMinute:He(t,so),isoMonth:He(t,Qr),isoNanosecond:He(t,co),isoSecond:He(t,ao),isoYear:He(t,Yr),offset:kS(n,He(this,Pc)),timeZone:n}}getCalendar(){if(!ri(this))throw new TypeError("invalid receiver");return og(He(this,Qn))}getTimeZone(){if(!ri(this))throw new TypeError("invalid receiver");return UI(He(this,as))}static from(t,n){const i=Io(n);return ri(t)?(tg(i),M1(i,"reject"),xa(i),Ia(He(t,xi),He(t,as),He(t,Qn))):M0(t,i)}static compare(t,n){const i=M0(t),l=M0(n),p=He(i,xi),c=He(l,xi);return kt.lessThan(kt.BigInt(p),kt.BigInt(c))?-1:kt.greaterThan(kt.BigInt(p),kt.BigInt(c))?1:0}}function Ts(r){return Hd(He(r,as),He(r,Pc),He(r,Qn))}op(aE,"Temporal.ZonedDateTime");var N0=Object.freeze({__proto__:null,Calendar:pa,Duration:pm,Instant:af,Now:nM,PlainDate:rE,PlainDateTime:vg,PlainMonthDay:iE,PlainTime:mm,PlainYearMonth:sE,TimeZone:bg,ZonedDateTime:aE});const AC=[af,pa,rE,vg,pm,iE,mm,bg,sE,aE];for(const r of AC){const t=Object.getOwnPropertyDescriptor(r,"prototype");(t.configurable||t.enumerable||t.writable)&&(t.configurable=!1,t.enumerable=!1,t.writable=!1,Object.defineProperty(r,"prototype",t))}var cE=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class ma{static sleep(t){return cE(this,void 0,void 0,function*(){return new Promise(n=>setTimeout(n,t))})}static minimalSleep(){return cE(this,void 0,void 0,function*(){yield ma.sleep(2)})}static getCurrentTimestamp(){return N0.Now.instant().toString({smallestUnit:"microseconds"})}static createTimestamp(t){const{year:n,month:i,day:l,hour:p,minute:c,second:h,millisecond:V,microsecond:$}=t;return N0.ZonedDateTime.from({timeZone:"UTC",year:n,month:i,day:l,hour:p,minute:c,second:h,millisecond:V,microsecond:$}).toInstant().toString({smallestUnit:"microseconds"})}static createOffsetTimestamp(t,n){const i=n?N0.Instant.from(n):N0.Now.instant(),l=N0.Duration.from(t);return i.add(l).toString({smallestUnit:"microseconds"})}static validateTimestamp(t){try{N0.Instant.from(t)}catch{throw new ce(_e.TimestampInvalid,`Invalid timestamp: ${t}`)}}}var ec=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Vo{get message(){if(void 0===this._message.authorization)throw new ce(_e.RecordsWriteMissingSigner,"This RecordsWrite is not yet signed, JSON message cannot be generated from an incomplete state.");return this._message}get author(){return this._author}get signaturePayload(){return this._signaturePayload}get owner(){return this._owner}get ownerSignaturePayload(){return this._ownerSignaturePayload}get isSignedByAuthorDelegate(){return Hr.isSignedByAuthorDelegate(this._message)}get isSignedByOwnerDelegate(){return Hr.isSignedByOwnerDelegate(this._message)}get signer(){return Hr.getSigner(this._message)}get ownerSignatureSigner(){var t;return void 0===(null===(t=this._message.authorization)||void 0===t?void 0:t.ownerSignature)?void 0:Cr.getSignerDid(this._message.authorization.ownerSignature.signatures[0])}constructor(t,n){this.parentContextId=n,this._message=t,void 0!==t.authorization&&(this._author=vo.getAuthor(t),this._signaturePayload=Cr.decodePlainObjectPayload(t.authorization.signature),void 0!==t.authorization.ownerSignature&&(this._owner=void 0!==t.authorization.ownerDelegatedGrant?Hr.getSigner(t.authorization.ownerDelegatedGrant):Cr.getSignerDid(t.authorization.ownerSignature.signatures[0]),this._ownerSignaturePayload=Cr.decodePlainObjectPayload(t.authorization.ownerSignature))),this.attesters=Vo.getAttesters(t)}static parse(t){return ec(this,void 0,void 0,function*(){const n=JSON.parse(JSON.stringify(t));yield Hr.validateSignatureStructure(n.authorization.signature,n.descriptor,"RecordsWriteSignaturePayload"),void 0!==n.authorization.ownerSignature&&(yield Hr.validateSignatureStructure(n.authorization.ownerSignature,n.descriptor)),yield Vo.validateAttestationIntegrity(n);const i=new Vo(n);return yield i.validateIntegrity(),i})}static create(t){var n,i,l,p;return ec(this,void 0,void 0,function*(){if(void 0===t.protocol&&void 0!==t.protocolPath||void 0!==t.protocol&&void 0===t.protocolPath)throw new ce(_e.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive,"`protocol` and `protocolPath` must both be defined or undefined at the same time");if(void 0===t.data&&void 0===t.dataCid||void 0!==t.data&&void 0!==t.dataCid)throw new ce(_e.RecordsWriteCreateDataAndDataCidMutuallyExclusive,"one and only one parameter between `data` and `dataCid` is required");if(void 0===t.dataCid&&void 0!==t.dataSize||void 0!==t.dataCid&&void 0===t.dataSize)throw new ce(_e.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive,"`dataCid` and `dataSize` must both be defined or undefined at the same time");if(void 0===t.signer&&void 0!==t.delegatedGrant)throw new ce(_e.RecordsWriteCreateMissingSigner,"`signer` must be given when `delegatedGrant` is given");const c=null!==(n=t.dataCid)&&void 0!==n?n:yield Qc.computeDagPbCidFromBytes(t.data),h=null!==(i=t.dataSize)&&void 0!==i?i:t.data.length,V=ma.getCurrentTimestamp(),$={interface:$i.Records,method:vi.Write,protocol:void 0!==t.protocol?em(t.protocol):void 0,protocolPath:t.protocolPath,recipient:t.recipient,schema:void 0!==t.schema?ab(t.schema):void 0,tags:t.tags,parentId:Vo.getRecordIdFromContextId(t.parentContextId),dataCid:c,dataSize:h,dateCreated:null!==(l=t.dateCreated)&&void 0!==l?l:V,messageTimestamp:null!==(p=t.messageTimestamp)&&void 0!==p?p:V,published:t.published,datePublished:t.datePublished,dataFormat:t.dataFormat};!0===t.published&&void 0===t.datePublished&&($.datePublished=V),xd($);const I=t.recordId,q=yield Qc.computeCid($),Ce=yield Vo.createAttestation(q,t.attestationSigners),Be=yield Vo.createEncryptionProperty($,t.encryptionInput),Pe={recordId:I,descriptor:$};void 0!==Ce&&(Pe.attestation=Ce),void 0!==Be&&(Pe.encryption=Be);const Ke=new Vo(Pe,t.parentContextId);return void 0!==t.signer&&(yield Ke.sign({signer:t.signer,delegatedGrant:t.delegatedGrant,permissionGrantId:t.permissionGrantId,protocolRole:t.protocolRole})),Ke})}static getRecordIdFromContextId(t){return t?.split("/").filter(n=>""!==n).pop()}static createFrom(t){var n,i,l,p;return ec(this,void 0,void 0,function*(){const c=t.recordsWriteMessage,h=yield Vo.parse(c),V=ma.getCurrentTimestamp(),$=null!==(n=t.published)&&void 0!==n?n:!!t.datePublished||c.descriptor.published;let I;t.datePublished?I=t.datePublished:$&&(I=c.descriptor.published?c.descriptor.datePublished:V);const q={recipient:c.descriptor.recipient,recordId:c.recordId,dateCreated:c.descriptor.dateCreated,protocol:c.descriptor.protocol,protocolPath:c.descriptor.protocolPath,schema:c.descriptor.schema,parentContextId:vo.getParentContextFromOfContextId(c.contextId),messageTimestamp:null!==(i=t.messageTimestamp)&&void 0!==i?i:V,published:$,datePublished:I,tags:t.tags,data:t.data,dataCid:t.data?void 0:c.descriptor.dataCid,dataSize:t.data?void 0:c.descriptor.dataSize,dataFormat:null!==(l=t.dataFormat)&&void 0!==l?l:c.descriptor.dataFormat,protocolRole:null!==(p=t.protocolRole)&&void 0!==p?p:h.signaturePayload.protocolRole,delegatedGrant:t.delegatedGrant,signer:t.signer,attestationSigners:t.attestationSigners};return yield Vo.create(q)})}toJSON(){return this.message}encryptSymmetricEncryptionKey(t){return ec(this,void 0,void 0,function*(){this._message.encryption=yield Vo.createEncryptionProperty(this._message.descriptor,t),delete this._message.authorization,this._signaturePayload=void 0,this._author=void 0})}sign(t){var n;return ec(this,void 0,void 0,function*(){const{signer:i,delegatedGrant:l,permissionGrantId:p,protocolRole:c}=t;let h,V;void 0!==l?(h=yield Hr.getCid(l),V=Cr.getSignerDid(l.authorization.signature.signatures[0])):V=Cr.extractDid(i.keyId);const $=this._message.descriptor,I=yield Qc.computeCid($);this._message.recordId=null!==(n=this._message.recordId)&&void 0!==n?n:yield Vo.getEntryId(V,$),void 0!==this._message.descriptor.protocol&&(this._message.contextId=void 0===this.parentContextId||""===this.parentContextId?this._message.recordId:this.parentContextId+"/"+this._message.recordId);const q=yield Vo.createSignerSignature({recordId:this._message.recordId,contextId:this._message.contextId,descriptorCid:I,attestation:this._message.attestation,encryption:this._message.encryption,signer:i,delegatedGrantId:h,permissionGrantId:p,protocolRole:c});this._message.authorization={signature:q},void 0!==l&&(this._message.authorization.authorDelegatedGrant=l),this._signaturePayload=Cr.decodePlainObjectPayload(q),this._author=V})}signAsOwner(t){return ec(this,void 0,void 0,function*(){if(void 0===this._author)throw new ce(_e.RecordsWriteSignAsOwnerUnknownAuthor,"Unable to sign as owner without message signature because owner needs to sign over `recordId` which depends on author DID.");const n=this._message.descriptor,i=yield Hr.createSignature(n,t);this._message.authorization.ownerSignature=i,this._ownerSignaturePayload=Cr.decodePlainObjectPayload(i),this._owner=Cr.extractDid(t.keyId)})}signAsOwnerDelegate(t,n){return ec(this,void 0,void 0,function*(){if(void 0===this._author)throw new ce(_e.RecordsWriteSignAsOwnerDelegateUnknownAuthor,"Unable to sign as owner delegate without message signature because owner delegate needs to sign over `recordId` which depends on author DID.");const i=yield Hr.getCid(n),l=this._message.descriptor,p=yield Hr.createSignature(l,t,{delegatedGrantId:i});this._message.authorization.ownerSignature=p,this._message.authorization.ownerDelegatedGrant=n,this._ownerSignaturePayload=Cr.decodePlainObjectPayload(p),this._owner=Cr.getSignerDid(n.authorization.signature.signatures[0])})}validateIntegrity(){return ec(this,void 0,void 0,function*(){if(yield this.isInitialWrite()){const i=this.message.descriptor.dateCreated,l=this.message.descriptor.messageTimestamp;if(l!==i)throw new ce(_e.RecordsWriteValidateIntegrityDateCreatedMismatch,`messageTimestamp ${l} must match dateCreated ${i} for the initial write`);if(void 0!==this.message.descriptor.protocol&&void 0===this.message.descriptor.parentId){const p=yield this.getEntryId();if(this.message.contextId!==p)throw new ce(_e.RecordsWriteValidateIntegrityContextIdMismatch,`contextId in message: ${this.message.contextId} does not match deterministic contextId: ${p}`)}}const n=this.signaturePayload;if(this.message.recordId!==n.recordId)throw new ce(_e.RecordsWriteValidateIntegrityRecordIdUnauthorized,`recordId in message ${this.message.recordId} does not match recordId in authorization: ${n.recordId}`);if(this.message.contextId!==n.contextId)throw new ce(_e.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload,`contextId in message ${this.message.contextId} does not match contextId in authorization: ${n.contextId}`);if(yield vo.validateDelegatedGrantReferentialIntegrity(this.message,n,this.ownerSignaturePayload),void 0!==n.attestationCid){const i=yield Qc.computeCid(this.message.attestation),l=n.attestationCid;if(l!==i)throw new ce(_e.RecordsWriteValidateIntegrityAttestationMismatch,`CID ${i} of attestation property in message does not match attestationCid in authorization: ${l}`)}if(void 0!==n.encryptionCid){const i=yield Qc.computeCid(this.message.encryption),l=n.encryptionCid;if(l!==i)throw new ce(_e.RecordsWriteValidateIntegrityEncryptionCidMismatch,`CID ${i} of encryption property in message does not match encryptionCid in authorization: ${l}`)}void 0!==this.message.descriptor.protocol&&Qp(this.message.descriptor.protocol),void 0!==this.message.descriptor.schema&&d1(this.message.descriptor.schema),ma.validateTimestamp(this.message.descriptor.messageTimestamp),ma.validateTimestamp(this.message.descriptor.dateCreated),this.message.descriptor.datePublished&&ma.validateTimestamp(this.message.descriptor.datePublished)})}static validateAttestationIntegrity(t){return ec(this,void 0,void 0,function*(){if(void 0===t.attestation)return;if(1!==t.attestation.signatures.length)throw new ce(_e.RecordsWriteAttestationIntegrityMoreThanOneSignature,`Currently implementation only supports 1 attester, but got ${t.attestation.signatures.length}`);const n=Cr.decodePlainObjectPayload(t.attestation),{descriptorCid:i}=n,l=yield Qc.computeCid(t.descriptor);if(i!==l)throw new ce(_e.RecordsWriteAttestationIntegrityDescriptorCidMismatch,`descriptorCid ${i} does not match expected descriptorCid ${l}`);const p=Object.keys(n).length;if(p>1)throw new ce(_e.RecordsWriteAttestationIntegrityInvalidPayloadProperty,`Only 'descriptorCid' is allowed in attestation payload, but got ${p} properties.`)})}getEntryId(){return ec(this,void 0,void 0,function*(){return yield Vo.getEntryId(this.author,this.message.descriptor)})}static getEntryId(t,n){return ec(this,void 0,void 0,function*(){if(void 0===t)throw new ce(_e.RecordsWriteGetEntryIdUndefinedAuthor,"Property `author` is needed to compute entry ID.");const i=Object.assign({},n);return i.author=t,yield Qc.computeCid(i)})}isInitialWrite(){return ec(this,void 0,void 0,function*(){return(yield this.getEntryId())===this.message.recordId})}constructIndexes(t){return ec(this,void 0,void 0,function*(){const n=this.message,i=n.descriptor,{tags:l}=i,p=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(i,["tags"]);delete p.published;let c=Object.assign(Object.assign({},p),{isLatestBaseState:t,published:!!n.descriptor.published,author:this.author,recordId:n.recordId,entryId:yield Vo.getEntryId(this.author,this.message.descriptor)});if(void 0!==l&&!0===t){const h=vo.buildTagIndexes(Object.assign({},l));c=Object.assign(Object.assign({},c),h)}return this.attesters.length>0&&(c.attester=this.attesters[0]),void 0!==n.contextId&&(c.contextId=n.contextId),c})}authorizeAuthorDelegate(t){return ec(this,void 0,void 0,function*(){const n=yield Zu.parse(this.message.authorization.authorDelegatedGrant);yield fu.authorizeWrite({recordsWriteMessage:this.message,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:n,messageStore:t})})}authorizeOwnerDelegate(t){return ec(this,void 0,void 0,function*(){const n=yield Zu.parse(this.message.authorization.ownerDelegatedGrant);yield fu.authorizeWrite({recordsWriteMessage:this.message,expectedGrantor:this.owner,expectedGrantee:this.ownerSignatureSigner,permissionGrant:n,messageStore:t})})}static isInitialWrite(t){return ec(this,void 0,void 0,function*(){if(t.descriptor.interface!==$i.Records||t.descriptor.method!==vi.Write)return!1;const n=t,i=vo.getAuthor(n);return(yield Vo.getEntryId(i,n.descriptor))===n.recordId})}static createEncryptionProperty(t,n){var i,l;return ec(this,void 0,void 0,function*(){if(void 0===n)return;const p=[];for(const h of n.keyEncryptionInputs){if(h.derivationScheme===Kd.ProtocolPath&&void 0===t.protocol)throw new ce(_e.RecordsWriteMissingProtocol,"`protocols` encryption scheme cannot be applied to record without the `protocol` property.");if(h.derivationScheme===Kd.Schemas&&void 0===t.schema)throw new ce(_e.RecordsWriteMissingSchema,"`schemas` encryption scheme cannot be applied to record without the `schema` property.");const V=Ee.publicJwkToBytes(h.publicKey),$=yield ib.eciesSecp256k1Encrypt(V,n.key),I=K.bytesToBase64Url($.ciphertext),q=yield Ee.publicKeyToJwk($.ephemeralPublicKey),Ce=K.bytesToBase64Url($.initializationVector),Be=K.bytesToBase64Url($.messageAuthenticationCode),Pe={rootKeyId:h.publicKeyId,algorithm:null!==(i=h.algorithm)&&void 0!==i?i:nS.EciesSecp256k1,derivationScheme:h.derivationScheme,ephemeralPublicKey:q,initializationVector:Ce,messageAuthenticationCode:Be,encryptedKey:I};h.derivationScheme===Kd.ProtocolContext&&(Pe.derivedPublicKey=h.publicKey),p.push(Pe)}return{algorithm:null!==(l=n.algorithm)&&void 0!==l?l:nS.Aes256Ctr,initializationVector:K.bytesToBase64Url(n.initializationVector),keyEncryption:p}})}static createAttestation(t,n){return ec(this,void 0,void 0,function*(){if(void 0===n||0===n.length)return;const l=K.objectToBytes({descriptorCid:t});return(yield qp.create(l,n)).getJws()})}static createSignerSignature(t){return ec(this,void 0,void 0,function*(){const{recordId:n,contextId:i,descriptorCid:l,attestation:p,encryption:c,signer:h,delegatedGrantId:V,permissionGrantId:$,protocolRole:I}=t,Be={recordId:n,descriptorCid:l,contextId:i,attestationCid:p?yield Qc.computeCid(p):void 0,encryptionCid:c?yield Qc.computeCid(c):void 0,delegatedGrantId:V,permissionGrantId:$,protocolRole:I};xd(Be);const Pe=K.objectToBytes(Be);return(yield qp.create(Pe,[h])).getJws()})}static getInitialWrite(t){return ec(this,void 0,void 0,function*(){for(const n of t)if(yield Vo.isInitialWrite(n))return n;throw new ce(_e.RecordsWriteGetInitialWriteNotFound,"Initial write is not found.")})}static verifyEqualityOfImmutableProperties(t,n){const i=["dataCid","dataSize","dataFormat","datePublished","published","messageTimestamp","tags"];let l=[];l.push(...Object.keys(t.descriptor)),l.push(...Object.keys(n.descriptor)),l=[...new Set(l)];for(const p of l)if(-1===i.indexOf(p)){const c=t.descriptor[p],h=n.descriptor[p];if(h!==c)throw new ce(_e.RecordsWriteImmutablePropertyChanged,`${p} is an immutable property: cannot change '${c}' to '${h}'`)}return!0}static getAttesters(t){var n,i;return(null!==(i=null===(n=t.attestation)||void 0===n?void 0:n.signatures)&&void 0!==i?i:[]).map(c=>Cr.getSignerDid(c))}static fetchNewestRecordsWrite(t,n,i){return ec(this,void 0,void 0,function*(){const l={interface:$i.Records,method:vi.Write,recordId:i},{messages:p}=yield t.query(n,[l]),c=yield Hr.getNewestMessage(p);if(void 0!==c)return c;throw new ce(_e.RecordsWriteGetNewestWriteRecordNotFound,"record not found")})}static fetchInitialRecordsWrite(t,n,i){return ec(this,void 0,void 0,function*(){const l={entryId:i},{messages:p}=yield t.query(n,[l]);return 0===p.length?void 0:yield Vo.parse(p[0])})}}var TC=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};function Fh(r,t){return TC(this,void 0,void 0,function*(){if(void 0===r)throw new ce(_e.AuthenticateJwsMissing,"Missing JWS.");if(yield Lu.verifySignatures(r.signature,t),void 0!==r.ownerSignature&&(yield Lu.verifySignatures(r.ownerSignature,t)),void 0!==r.authorDelegatedGrant){const n=yield Vo.parse(r.authorDelegatedGrant);yield Lu.verifySignatures(n.message.authorization.signature,t)}if(void 0!==r.ownerDelegatedGrant){const n=yield Vo.parse(r.ownerDelegatedGrant);yield Lu.verifySignatures(n.message.authorization.signature,t)}})}class dR{isActiveTenant(t){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return{isActiveTenant:!0}})}}class bp{get message(){return this._message}get signer(){return this._signer}get author(){return this._author}get signaturePayload(){return this._signaturePayload}constructor(t){this._message=t,void 0!==t.authorization&&(this._signer=Hr.getSigner(t),this._author=void 0!==t.authorization.authorDelegatedGrant?Hr.getSigner(t.authorization.authorDelegatedGrant):this._signer,this._signaturePayload=Cr.decodePlainObjectPayload(t.authorization.signature))}toJSON(){return this.message}}var lE=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class wg extends bp{static parse(t){return lE(this,void 0,void 0,function*(){if(!1===t.descriptor.filter.published&&(t.descriptor.dateSort===Gl.PublishedAscending||t.descriptor.dateSort===Gl.PublishedDescending))throw new ce(_e.RecordsQueryParseFilterPublishedSortInvalid,`queries must not filter for \`published:false\` and sort by ${t.descriptor.dateSort}`);let n;if(void 0!==t.authorization&&(n=yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield vo.validateDelegatedGrantReferentialIntegrity(t,n),void 0!==n?.protocolRole&&void 0===t.descriptor.filter.protocolPath)throw new ce(_e.RecordsQueryFilterMissingRequiredProperties,"Role-authorized queries must include `protocolPath` in the filter");return void 0!==t.descriptor.filter.protocol&&Qp(t.descriptor.filter.protocol),void 0!==t.descriptor.filter.schema&&d1(t.descriptor.filter.schema),ma.validateTimestamp(t.descriptor.messageTimestamp),new wg(t)})}static create(t){var n;return lE(this,void 0,void 0,function*(){const i={interface:$i.Records,method:vi.Query,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ma.getCurrentTimestamp(),filter:vo.normalizeFilter(t.filter),dateSort:t.dateSort,pagination:t.pagination};if(!1===t.filter.published&&(t.dateSort===Gl.PublishedAscending||t.dateSort===Gl.PublishedDescending))throw new ce(_e.RecordsQueryCreateFilterPublishedSortInvalid,`queries must not filter for \`published:false\` and sort by ${t.dateSort}`);xd(i);const l=t.signer;let p;l&&(p=yield Hr.createAuthorization({descriptor:i,signer:l,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant}));const c={descriptor:i,authorization:p};return Hr.validateJsonSchema(c),new wg(c)})}authorizeDelegate(t){return lE(this,void 0,void 0,function*(){const n=yield Zu.parse(this.message.authorization.authorDelegatedGrant);yield fu.authorizeQueryOrSubscribe({incomingMessage:this.message,expectedGrantee:this.signer,expectedGrantor:this.author,permissionGrant:n,messageStore:t})})}}var iM=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class wp{static toBytes(t){return iM(this,void 0,void 0,function*(){return new Promise((n,i)=>{const l=[];t.on("data",p=>{l.push(p)}),t.on("end",()=>{const p=wp.concatenateArrayOfBytes(l);n(p)}),t.on("error",i)})})}static toObject(t){return iM(this,void 0,void 0,function*(){const n=yield wp.toBytes(t);return K.bytesToObject(n)})}static concatenateArrayOfBytes(t){const n=t.reduce((p,c)=>p+c.length,0),i=new Uint8Array(n);let l=0;for(const p of t)i.set(p,l),l+=p.length;return i}static fromBytes(t){let i=0;return new rb.Readable({read(p){i+1e5>t.length?(this.push(t.subarray(i)),this.push(null)):(this.push(t.subarray(i,i+1e5)),i+=1e5)}})}static fromObject(t){const n=K.objectToBytes(t);return wp.fromBytes(n)}static duplicateDataStream(t,n){const i=[];for(let l=0;l<n;l++){const p=new rb.PassThrough;t.pipe(p),i.push(p)}return i}}function ks(r,t){return{status:{code:t,detail:r instanceof Error?r.message:"Error"}}}class dE{static parse(t){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return new dE(t)})}constructor(t){this.id=t.recordId,this.requester=Hr.getSigner(t);const i=K.base64UrlToObject(t.encodedData);this.delegated=i.delegated,this.description=i.description,this.scope=i.scope,this.conditions=i.conditions}}var _g=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class _o{static parseRequest(t){return K.base64UrlToObject(t)}static createRequest(t){return _g(this,void 0,void 0,function*(){if(this.isRecordPermissionScope(t.scope)&&void 0===t.scope.protocol)throw new ce(_e.PermissionsProtocolCreateRequestRecordsScopeMissingProtocol,"Permission request for Records must have a scope with a `protocol` property");const n=_o.normalizePermissionScope(t.scope),i={description:t.description,delegated:t.delegated,scope:n,conditions:t.conditions};let l;this.hasProtocolScope(n)&&(l={protocol:n.protocol});const p=K.objectToBytes(i),c=yield Vo.create({signer:t.signer,messageTimestamp:t.dateRequested,protocol:_o.uri,protocolPath:_o.requestPath,dataFormat:"application/json",data:p,tags:l});return{recordsWrite:c,permissionRequestData:i,permissionRequestBytes:p,dataEncodedMessage:Object.assign(Object.assign({},c.message),{encodedData:K.bytesToBase64Url(p)})}})}static createGrant(t){return _g(this,void 0,void 0,function*(){if(this.isRecordPermissionScope(t.scope)&&void 0===t.scope.protocol)throw new ce(_e.PermissionsProtocolCreateGrantRecordsScopeMissingProtocol,"Permission grants for Records must have a scope with a `protocol` property");const n=_o.normalizePermissionScope(t.scope),i={dateExpires:t.dateExpires,requestId:t.requestId,description:t.description,delegated:t.delegated,scope:n,conditions:t.conditions};let l;this.hasProtocolScope(n)&&(l={protocol:n.protocol});const p=K.objectToBytes(i),c=yield Vo.create({signer:t.signer,messageTimestamp:t.dateGranted,dateCreated:t.dateGranted,recipient:t.grantedTo,protocol:_o.uri,protocolPath:_o.grantPath,dataFormat:"application/json",data:p,tags:l});return{recordsWrite:c,permissionGrantData:i,permissionGrantBytes:p,dataEncodedMessage:Object.assign(Object.assign({},c.message),{encodedData:K.bytesToBase64Url(p)})}})}static createRevocation(t){return _g(this,void 0,void 0,function*(){const n={description:t.description},i=t.grant.id;let l;this.hasProtocolScope(t.grant.scope)&&(l={protocol:em(t.grant.scope.protocol)});const p=K.objectToBytes(n),c=yield Vo.create({signer:t.signer,parentContextId:i,protocol:_o.uri,protocolPath:_o.revocationPath,dataFormat:"application/json",data:p,tags:l});return{recordsWrite:c,permissionRevocationData:n,permissionRevocationBytes:p,dataEncodedMessage:Object.assign(Object.assign({},c.message),{encodedData:K.bytesToBase64Url(p)})}})}static validateSchema(t,n){const i=K.bytesToString(n),l=JSON.parse(i);if(t.descriptor.protocolPath===_o.requestPath){const p=l;my("PermissionRequestData",p),_o.validateScopeAndTags(p.scope,t)}else if(t.descriptor.protocolPath===_o.grantPath){my("PermissionGrantData",l);const p=l;_o.validateScopeAndTags(p.scope,t),ma.validateTimestamp(p.dateExpires)}else{if(t.descriptor.protocolPath!==_o.revocationPath)throw new ce(_e.PermissionsProtocolValidateSchemaUnexpectedRecord,`Unexpected permission record: ${t.descriptor.protocolPath}`);my("PermissionRevocationData",l)}}static fetchGrant(t,n,i){return _g(this,void 0,void 0,function*(){const l={recordId:i,isLatestBaseState:!0},{messages:p}=yield n.query(t,[l]),c=p[0],h=c?.descriptor.interface,V=c?.descriptor.method;if(h!==$i.Records||V!==vi.Write||c.descriptor.protocolPath!==_o.grantPath)throw new ce(_e.GrantAuthorizationGrantMissing,`Could not find permission grant with record ID ${i}.`);const $=c;return yield Zu.parse($)})}static getScopeFromPermissionRecord(t,n,i){return _g(this,void 0,void 0,function*(){if(i.descriptor.protocol!==_o.uri)throw new ce(_e.PermissionsProtocolGetScopeInvalidProtocol,`Unexpected protocol for permission record: ${i.descriptor.protocol}`);return i.descriptor.protocolPath===_o.revocationPath?(yield _o.fetchGrant(t,n,i.descriptor.parentId)).scope:i.descriptor.protocolPath===_o.grantPath?(yield Zu.parse(i)).scope:(yield dE.parse(i)).scope})}static normalizePermissionScope(t){const n=Object.assign({},t);return _o.hasProtocolScope(n)&&(n.protocol=em(n.protocol)),n}static isRecordPermissionScope(t){return"Records"===t.interface}static hasProtocolScope(t){return"protocol"in t&&void 0!==t.protocol}static validateTags(t,n){if(void 0===t.descriptor.tags||void 0===t.descriptor.tags.protocol)throw new ce(_e.PermissionsProtocolValidateScopeMissingProtocolTag,"Permission grants must have a `tags` property that contains a protocol tag");const i=t.descriptor.tags.protocol;if(i!==n)throw new ce(_e.PermissionsProtocolValidateScopeProtocolMismatch,`Permission grants must have a scope with a protocol that matches the tagged protocol: ${i}`)}static validateScopeAndTags(t,n){if(this.hasProtocolScope(t)&&(Qp(t.protocol),this.validateTags(n,t.protocol)),this.isRecordPermissionScope(t)&&void 0!==t.contextId&&void 0!==t.protocolPath)throw new ce(_e.PermissionsProtocolValidateScopeContextIdProhibitedProperties,"Permission grants cannot have both `contextId` and `protocolPath` present")}}_o.uri="https://tbd.website/dwn/permissions",_o.requestPath="request",_o.grantPath="grant",_o.revocationPath="grant/revocation",_o.definition={published:!0,protocol:_o.uri,types:{request:{dataFormats:["application/json"]},grant:{dataFormats:["application/json"]},revocation:{dataFormats:["application/json"]}},structure:{request:{$size:{max:1e4},$actions:[{who:"anyone",can:["create"]}]},grant:{$size:{max:1e4},$actions:[{who:"recipient",of:"grant",can:["read","query"]}],revocation:{$size:{max:1e4},$actions:[{who:"anyone",can:["read"]}]}}}};class uE{static normalizeFilters(t){const n=[];for(const i of t){const l=void 0!==i.protocol?em(i.protocol):void 0,p=Object.assign(Object.assign({},i),{protocol:l});xd(p),sb(p)||n.push(p)}return n}static convertFilters(t){const n=[];for(const i of t){const l=this.constructPermissionRecordsFilter(i);l&&n.push(l),n.push(this.convertFilter(i))}return n}static constructPermissionRecordsFilter(t){const{protocol:n,messageTimestamp:i}=t;if(void 0!==n){const l=Object.assign({protocol:_o.uri},vo.convertTagsFilter({protocol:n}));if(null!=i){const p=Il.convertRangeCriterion(i);p&&(l.messageTimestamp=p)}return l}}static convertFilter(t){const n=Object.assign({},t),{messageTimestamp:i}=t,l=i?Il.convertRangeCriterion(i):void 0;return l&&(n.messageTimestamp=l,delete n.dateUpdated),n}}var fE=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class $b{static authorizeMessagesRead(t){return fE(this,void 0,void 0,function*(){const{messagesReadMessage:n,messageToRead:i,expectedGrantor:l,expectedGrantee:p,permissionGrant:c,messageStore:h}=t;yield Yu.performBaseValidation({incomingMessage:n,expectedGrantor:l,expectedGrantee:p,permissionGrant:c,messageStore:h});const V=c.scope;yield $b.verifyScope(l,i,V,h)})}static authorizeQueryOrSubscribe(t){return fE(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:i,expectedGrantee:l,permissionGrant:p,messageStore:c}=t;if(yield Yu.performBaseValidation({incomingMessage:n,expectedGrantor:i,expectedGrantee:l,permissionGrant:p,messageStore:c}),_o.hasProtocolScope(p.scope)){const h=p.scope.protocol;for(const V of n.descriptor.filters)if(V.protocol!==h)throw new ce(_e.MessagesGrantAuthorizationMismatchedProtocol,`The protocol ${V.protocol} does not match the scoped protocol ${h}`)}})}static verifyScope(t,n,i,l){return fE(this,void 0,void 0,function*(){if(void 0!==i.protocol){if(n.descriptor.interface===$i.Records){const p=n,c=vo.isRecordsWrite(p)?p:yield Vo.fetchNewestRecordsWrite(l,t,p.descriptor.recordId);if(c.descriptor.protocol===i.protocol)return;if(c.descriptor.protocol===_o.uri){const h=yield _o.getScopeFromPermissionRecord(t,l,c);if(_o.hasProtocolScope(h)&&h.protocol===i.protocol)return}}else if(n.descriptor.interface===$i.Protocols&&n.descriptor.definition.protocol===i.protocol)return;throw new ce(_e.MessagesReadVerifyScopeFailed,"record message failed scope authorization")}})}}var IC=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class L0 extends bp{static parse(t){return IC(this,void 0,void 0,function*(){Hr.validateJsonSchema(t),yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor);for(const n of t.descriptor.filters)"protocol"in n&&void 0!==n.protocol&&Qp(n.protocol);return new L0(t)})}static create(t){var n;return IC(this,void 0,void 0,function*(){const i={interface:$i.Messages,method:vi.Query,filters:t.filters?uE.normalizeFilters(t.filters):[],messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ma.getCurrentTimestamp(),cursor:t.cursor};xd(i);const{permissionGrantId:l,signer:p}=t,h={descriptor:i,authorization:yield Hr.createAuthorization({descriptor:i,signer:p,permissionGrantId:l})};return Hr.validateJsonSchema(h),new L0(h)})}}var Kb=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Vb{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.eventLog=i}handle({tenant:t,message:n}){return Kb(this,void 0,void 0,function*(){let i;try{i=yield L0.parse(n)}catch(h){return ks(h,400)}try{yield Fh(n.authorization,this.didResolver),yield Vb.authorizeMessagesQuery(t,i,this.messageStore)}catch(h){return ks(h,401)}const l=uE.convertFilters(n.descriptor.filters),{events:p,cursor:c}=yield this.eventLog.queryEvents(t,l,n.descriptor.cursor);return{status:{code:200,detail:"OK"},entries:p,cursor:c}})}static authorizeMessagesQuery(t,n,i){return Kb(this,void 0,void 0,function*(){if(n.author!==t){if(void 0===n.author||void 0===n.signaturePayload.permissionGrantId)throw new ce(_e.MessagesQueryAuthorizationFailed,"message failed authorization");{const l=yield _o.fetchGrant(t,i,n.signaturePayload.permissionGrantId);yield $b.authorizeQueryOrSubscribe({incomingMessage:n.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:l,messageStore:i})}}})}}var oM=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class U0 extends bp{static parse(t){return oM(this,void 0,void 0,function*(){return Hr.validateJsonSchema(t),this.validateMessageCid(t.descriptor.messageCid),yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor),ma.validateTimestamp(t.descriptor.messageTimestamp),new U0(t)})}static create(t){var n;return oM(this,void 0,void 0,function*(){const i={interface:$i.Messages,method:vi.Read,messageCid:t.messageCid,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ma.getCurrentTimestamp()},{signer:l,permissionGrantId:p}=t,h={descriptor:i,authorization:yield Hr.createAuthorization({descriptor:i,signer:l,permissionGrantId:p})};return Hr.validateJsonSchema(h),U0.validateMessageCid(t.messageCid),new U0(h)})}static validateMessageCid(t){try{Qc.parseCid(t)}catch{throw new ce(_e.MessagesReadInvalidCid,`${t} is not a valid CID`)}}}var sM=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class hE{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return sM(this,void 0,void 0,function*(){let i;try{i=yield U0.parse(n)}catch(c){return ks(c,400)}try{yield Fh(n.authorization,this.didResolver)}catch(c){return ks(c,401)}const l=yield this.messageStore.get(t,n.descriptor.messageCid);if(void 0===l)return{status:{code:404,detail:"Not Found"}};try{yield hE.authorizeMessagesRead(t,i,l,this.messageStore)}catch(c){return ks(c,401)}const p={message:l,messageCid:n.descriptor.messageCid};if(vo.isRecordsWrite(l)){const c=p.message;if(void 0!==c.encodedData){const h=K.base64UrlToBytes(c.encodedData);p.data=wp.fromBytes(h),delete c.encodedData}else{const h=yield this.dataStore.get(t,c.recordId,c.descriptor.dataCid);void 0!==h?.dataStream&&(p.data=h.dataStream)}}return{status:{code:200,detail:"OK"},entry:p}})}static authorizeMessagesRead(t,n,i,l){return sM(this,void 0,void 0,function*(){if(n.author!==t){if(void 0===n.author||void 0===n.signaturePayload.permissionGrantId)throw new ce(_e.MessagesReadAuthorizationFailed,"protocol message failed authorization");{const p=yield _o.fetchGrant(t,l,n.signaturePayload.permissionGrantId);yield $b.authorizeMessagesRead({messagesReadMessage:n.message,messageToRead:i,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:p,messageStore:l})}}})}}var aM=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Eg extends bp{static parse(t){return aM(this,void 0,void 0,function*(){Hr.validateJsonSchema(t),yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor);for(const n of t.descriptor.filters)"protocol"in n&&void 0!==n.protocol&&Qp(n.protocol);return ma.validateTimestamp(t.descriptor.messageTimestamp),new Eg(t)})}static create(t){var n,i;return aM(this,void 0,void 0,function*(){const l=ma.getCurrentTimestamp(),p={interface:$i.Messages,method:vi.Subscribe,filters:null!==(n=t.filters)&&void 0!==n?n:[],messageTimestamp:null!==(i=t.messageTimestamp)&&void 0!==i?i:l};xd(p);const{permissionGrantId:c,signer:h}=t,$={descriptor:p,authorization:yield Hr.createAuthorization({descriptor:p,signer:h,permissionGrantId:c})};return Hr.validateJsonSchema($),new Eg($)})}}var cM=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class zb{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.eventStream=i}handle({tenant:t,message:n,subscriptionHandler:i}){return cM(this,void 0,void 0,function*(){if(void 0===this.eventStream)return ks(new ce(_e.MessagesSubscribeEventStreamUnimplemented,"Subscriptions are not supported"),501);let l;try{l=yield Eg.parse(n)}catch(I){return ks(I,400)}try{yield Fh(n.authorization,this.didResolver),yield zb.authorizeMessagesSubscribe(t,l,this.messageStore)}catch(I){return ks(I,401)}const{filters:p}=n.descriptor,c=uE.convertFilters(p),h=yield Hr.getCid(n);return{status:{code:200,detail:"OK"},subscription:yield this.eventStream.subscribe(t,h,(I,q,Ce)=>{t===I&&Il.matchAnyFilter(Ce,c)&&i(q)})}})}static authorizeMessagesSubscribe(t,n,i){return cM(this,void 0,void 0,function*(){if(n.author!==t){if(void 0===n.author||void 0===n.signaturePayload.permissionGrantId)throw new ce(_e.MessagesSubscribeAuthorizationFailed,"message failed authorization");{const l=yield _o.fetchGrant(t,i,n.signaturePayload.permissionGrantId);yield $b.authorizeQueryOrSubscribe({incomingMessage:n.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:l,messageStore:i})}}})}}var lM=w(20844),ym=function(r){return r.Anyone="anyone",r.Author="author",r.Recipient="recipient",r}(ym||{}),wc=function(r){return r.CoDelete="co-delete",r.CoPrune="co-prune",r.CoUpdate="co-update",r.Create="create",r.Delete="delete",r.Prune="prune",r.Query="query",r.Read="read",r.Subscribe="subscribe",r.Update="update",r}(wc||{}),dM=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class wu extends bp{static parse(t){return dM(this,void 0,void 0,function*(){return Hr.validateJsonSchema(t),wu.validateProtocolDefinition(t.descriptor.definition),yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor),ma.validateTimestamp(t.descriptor.messageTimestamp),new wu(t)})}static create(t){var n;return dM(this,void 0,void 0,function*(){const i={interface:$i.Protocols,method:vi.Configure,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ma.getCurrentTimestamp(),definition:wu.normalizeDefinition(t.definition)},p={descriptor:i,authorization:yield Hr.createAuthorization({descriptor:i,signer:t.signer,permissionGrantId:t.permissionGrantId})};return Hr.validateJsonSchema(p),wu.validateProtocolDefinition(p.descriptor.definition),new wu(p)})}static validateProtocolDefinition(t){const{protocol:n,types:i}=t;Qp(n);for(const l in i){const p=i[l].schema;void 0!==p&&d1(p)}wu.validateStructure(t)}static validateStructure(t){const n=Object.keys(t.types),i=wu.fetchAllRolePathsRecursively("",t.structure,[]);wu.validateRuleSetRecursively({ruleSet:t.structure,ruleSetProtocolPath:"",recordTypes:n,roles:i})}static fetchAllRolePathsRecursively(t,n,i){if(t.split("/").length>10)throw new ce(_e.ProtocolsConfigureRecordNestingDepthExceeded,"Record nesting depth exceeded 10 levels.");for(const l in n){if(l.startsWith("$"))continue;const p=n[l];let c;c=""===t?l:`${t}/${l}`,p.$role?i.push(c):wu.fetchAllRolePathsRecursively(c,p,i)}return i}static validateRuleSetRecursively(t){var n;const{ruleSet:i,ruleSetProtocolPath:l,recordTypes:p,roles:c}=t;if(void 0!==i.$size){const{min:V=0,max:$}=i.$size;if(void 0!==$&&$<V)throw new ce(_e.ProtocolsConfigureInvalidSize,`Invalid size range found: max limit ${$} less than min limit ${V} at protocol path '${l}'`)}if(i.$tags){const V=new lM.default,Ce=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(i.$tags,["$allowUndefinedTags","$requiredTags"]);for(const Be in Ce)if(!V.validateSchema(Ce[Be])){const Ke=V.errorsText(V.errors,{dataVar:`${l}/$tags/${Be}`});throw new ce(_e.ProtocolsConfigureInvalidTagSchema,`tags schema validation error: ${Ke}`)}}const h=null!==(n=i.$actions)&&void 0!==n?n:[];for(let V=0;V<h.length;V++){const $=h[V];if(void 0!==$.role&&!c.includes($.role))throw new ce(_e.ProtocolsConfigureRoleDoesNotExistAtGivenPath,`Role in action ${JSON.stringify($)} for rule set ${l} does not exist.`);if("anyone"===$.who&&$.of)throw new ce(_e.ProtocolsConfigureInvalidActionOfNotAllowed,`'of' is not allowed at rule set protocol path (${l})`);if($.who===ym.Recipient&&void 0===$.of&&$.can.some(q=>![wc.CoUpdate,wc.CoDelete,wc.CoPrune].includes(q)))throw new ce(_e.ProtocolsConfigureInvalidRecipientOfAction,"Rules for `recipient` without `of` property must have `can` containing only `co-update`, `co-delete`, and `co-prune`.");if($.who===ym.Author&&!$.of)throw new ce(_e.ProtocolsConfigureInvalidActionMissingOf,"'of' is required when 'author' is specified as 'who'");if(void 0!==$.can){if($.can.includes(wc.Update)&&!$.can.includes(wc.Create))throw new ce(_e.ProtocolsConfigureInvalidActionUpdateWithoutCreate,`Action rule ${JSON.stringify($)} contains 'update' action but missing the required 'create' action.`);if($.can.includes(wc.Delete)&&!$.can.includes(wc.Create))throw new ce(_e.ProtocolsConfigureInvalidActionDeleteWithoutCreate,`Action rule ${JSON.stringify($)} contains 'delete' action but missing the required 'create' action.`)}for(let I=V+1;I<h.length;I++){const q=h[I];if(void 0!==$.who){if($.who===q.who&&$.of===q.of)throw new ce(_e.ProtocolsConfigureDuplicateActorInRuleSet,`More than one action rule per actor ${$.who} of ${$.of} not allowed within a rule set: ${JSON.stringify($)}`)}else if($.role===q.role)throw new ce(_e.ProtocolsConfigureDuplicateRoleInRuleSet,`More than one action rule per role ${$.role} not allowed within a rule set: ${JSON.stringify($)}`)}}for(const V in i){if(V.startsWith("$"))continue;if(!p.includes(V))throw new ce(_e.ProtocolsConfigureInvalidRuleSetRecordType,`Rule set ${V} is not declared as an allowed type in the protocol definition.`);let I;I=""===l?V:`${l}/${V}`,wu.validateRuleSetRecursively({ruleSet:i[V],ruleSetProtocolPath:I,recordTypes:p,roles:c})}}static normalizeDefinition(t){const n=Object.assign({},t.types);for(const i in n){const l=n[i].schema;void 0!==l&&(n[i].schema=ab(l))}return Object.assign(Object.assign({},t),{protocol:em(t.protocol),types:n})}}class Hb{constructor(t,n,i,l){this.didResolver=t,this.messageStore=n,this.eventLog=i,this.eventStream=l}handle({tenant:t,message:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){let i;try{i=yield wu.parse(n)}catch(I){return ks(I,400)}try{yield Fh(n.authorization,this.didResolver),yield function cR(r,t){return TC(this,void 0,void 0,function*(){if(t.author!==r)throw new ce(_e.AuthorizationAuthorNotOwner,`Message authored by ${t.author}, not authored by expected owner ${r}.`)})}(t,i)}catch(I){return ks(I,401)}const l={interface:$i.Protocols,method:vi.Configure,protocol:n.descriptor.definition.protocol},{messages:p}=yield this.messageStore.query(t,[l]);let V,c=yield Hr.getNewestMessage(p),h=!1;if((void 0===c||(yield Hr.isNewer(n,c)))&&(h=!0,c=n),h){const I=Hb.constructIndexes(i);yield this.messageStore.put(t,n,I);const q=yield Hr.getCid(n);yield this.eventLog.append(t,q,I),void 0!==this.eventStream&&this.eventStream.emit(t,{message:n},I),V={status:{code:202,detail:"Accepted"}}}else V={status:{code:409,detail:"Conflict"}};const $=[];for(const I of p)if(yield Hr.isNewer(c,I)){const q=yield Hr.getCid(I);$.push(q),yield this.messageStore.delete(t,q)}return yield this.eventLog.deleteEventsByCid(t,$),V})}static constructIndexes(t){const n=t.message.descriptor,{definition:i}=n,l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(n,["definition"]),{author:p}=t;return Object.assign(Object.assign({},l),{author:p,protocol:i.protocol,published:i.published})}}var pE=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class gm extends bp{static parse(t){return pE(this,void 0,void 0,function*(){return void 0!==t.authorization&&(yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor)),void 0!==t.descriptor.filter&&Qp(t.descriptor.filter.protocol),ma.validateTimestamp(t.descriptor.messageTimestamp),new gm(t)})}static create(t){var n;return pE(this,void 0,void 0,function*(){const i={interface:$i.Protocols,method:vi.Query,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ma.getCurrentTimestamp(),filter:t.filter?gm.normalizeFilter(t.filter):void 0};let l;xd(i),void 0!==t.signer&&(l=yield Hr.createAuthorization({descriptor:i,signer:t.signer,permissionGrantId:t.permissionGrantId}));const p={descriptor:i,authorization:l};return Hr.validateJsonSchema(p),new gm(p)})}static normalizeFilter(t){return Object.assign(Object.assign({},t),{protocol:em(t.protocol)})}authorize(t,n){return pE(this,void 0,void 0,function*(){if(this.author!==t){if(void 0===this.author||!this.signaturePayload.permissionGrantId)throw new ce(_e.ProtocolsQueryUnauthorized,"The ProtocolsQuery failed authorization");{const i=yield _o.fetchGrant(t,n,this.signaturePayload.permissionGrantId);yield Yu.performBaseValidation({incomingMessage:this.message,expectedGrantor:t,expectedGrantee:this.author,permissionGrant:i,messageStore:n})}}})}}var CC=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class hR{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return CC(this,void 0,void 0,function*(){let i;try{i=yield gm.parse(n)}catch(c){return ks(c,400)}try{yield Fh(n.authorization,this.didResolver),yield i.authorize(t,this.messageStore)}catch(c){return c.code===_e.AuthenticateJwsMissing||c.code===_e.ProtocolsQueryUnauthorized?{status:{code:200,detail:"OK"},entries:yield this.fetchPublishedProtocolsConfigure(t,i)}:ks(c,401)}const l=Object.assign(Object.assign({},n.descriptor.filter),{interface:$i.Protocols,method:vi.Configure});xd(l);const{messages:p}=yield this.messageStore.query(t,[l]);return{status:{code:200,detail:"OK"},entries:p}})}fetchPublishedProtocolsConfigure(t,n){return CC(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},n.message.descriptor.filter),{interface:$i.Protocols,method:vi.Configure,published:!0}),{messages:l}=yield this.messageStore.query(t,[i]);return l})}}var rd=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Ao{static validateReferentialIntegrity(t,n,i){return rd(this,void 0,void 0,function*(){const l=yield Ao.fetchProtocolDefinition(t,n.message.descriptor.protocol,i);Ao.verifyType(n.message,l.types),yield Ao.verifyProtocolPathAndContextId(t,n,i);const p=Ao.getRuleSet(n.message.descriptor.protocolPath,l);yield Ao.verifyAsRoleRecordIfNeeded(t,n,p,i),Ao.verifySizeLimit(n,p),Ao.verifyTagsIfNeeded(n,p)})}static authorizeWrite(t,n,i){return rd(this,void 0,void 0,function*(){let p;p=void 0===(yield Ao.fetchInitialWrite(t,n.message.recordId,i))?yield Ao.constructRecordChain(t,n.message.descriptor.parentId,i):yield Ao.constructRecordChain(t,n.message.recordId,i);const c=yield Ao.fetchProtocolDefinition(t,n.message.descriptor.protocol,i),h=Ao.getRuleSet(n.message.descriptor.protocolPath,c);yield Ao.verifyInvokedRole(t,n,n.message.descriptor.protocol,n.message.contextId,c,i),yield Ao.authorizeAgainstAllowedActions(t,n,h,p,i)})}static authorizeRead(t,n,i,l){return rd(this,void 0,void 0,function*(){const p=yield Ao.constructRecordChain(t,i.message.recordId,l),c=yield Ao.fetchProtocolDefinition(t,i.message.descriptor.protocol,l),h=Ao.getRuleSet(i.message.descriptor.protocolPath,c);yield Ao.verifyInvokedRole(t,n,i.message.descriptor.protocol,i.message.contextId,c,l),yield Ao.authorizeAgainstAllowedActions(t,n,h,p,l)})}static authorizeQueryOrSubscribe(t,n,i){return rd(this,void 0,void 0,function*(){const{protocol:l,protocolPath:p,contextId:c}=n.message.descriptor.filter,h=yield Ao.fetchProtocolDefinition(t,l,i),V=Ao.getRuleSet(p,h);yield Ao.verifyInvokedRole(t,n,l,c,h,i),yield Ao.authorizeAgainstAllowedActions(t,n,V,[],i)})}static authorizeDelete(t,n,i,l){return rd(this,void 0,void 0,function*(){const p=yield Ao.constructRecordChain(t,n.message.descriptor.recordId,l),c=yield Ao.fetchProtocolDefinition(t,i.message.descriptor.protocol,l),h=Ao.getRuleSet(i.message.descriptor.protocolPath,c);yield Ao.verifyInvokedRole(t,n,i.message.descriptor.protocol,i.message.contextId,c,l),yield Ao.authorizeAgainstAllowedActions(t,n,h,p,l)})}static fetchProtocolDefinition(t,n,i){return rd(this,void 0,void 0,function*(){if(n===_o.uri)return _o.definition;const l={interface:$i.Protocols,method:vi.Configure,protocol:n},{messages:p}=yield i.query(t,[l]);if(0===p.length)throw new ce(_e.ProtocolAuthorizationProtocolNotFound,`unable to find protocol definition for ${n}`);return p[0].descriptor.definition})}static constructRecordChain(t,n,i){return rd(this,void 0,void 0,function*(){if(void 0===n)return[];const l=[];let p=n;for(;void 0!==p;){const c=yield Ao.fetchInitialWrite(t,p,i);if(void 0===c)throw new ce(_e.ProtocolAuthorizationParentNotFoundConstructingRecordChain,`Unexpected error that should never trigger: no parent found with ID ${p} when constructing record chain.`);l.push(c),p=c.descriptor.parentId}return l.reverse()})}static fetchInitialWrite(t,n,i){return rd(this,void 0,void 0,function*(){const l={interface:$i.Records,method:vi.Write,recordId:n},{messages:p}=yield i.query(t,[l]);return 0===p.length?void 0:yield Vo.getInitialWrite(p)})}static getRuleSet(t,n){const i=Ao.getRuleSetAtProtocolPath(t,n);if(void 0===i)throw new ce(_e.ProtocolAuthorizationMissingRuleSet,`No rule set defined for protocolPath ${t}`);return i}static verifyProtocolPathAndContextId(t,n,i){var l;return rd(this,void 0,void 0,function*(){const p=n.message.descriptor.protocolPath,c=Ao.getTypeName(p),h=n.message.descriptor.parentId;if(void 0===h){if(p!==c)throw new ce(_e.ProtocolAuthorizationParentlessIncorrectProtocolPath,`Declared protocol path '${p}' is not valid for records with no parent'.`);return}const $={isLatestBaseState:!0,interface:$i.Records,method:vi.Write,protocol:n.message.descriptor.protocol,recordId:h},{messages:I}=yield i.query(t,[$]),q=I[0];if(`${null===(l=q?.descriptor)||void 0===l?void 0:l.protocolPath}/${c}`!==p)throw new ce(_e.ProtocolAuthorizationIncorrectProtocolPath,`Could not find matching parent record to verify declared protocol path '${p}'.`);const Pe=`${q.contextId}/${n.message.recordId}`,Ke=n.message.contextId;if(Ke!==Pe)throw new ce(_e.ProtocolAuthorizationIncorrectContextId,`Declared contextId '${Ke}' is not the same as expected: '${Pe}'.`)})}static verifyType(t,n){const i=Object.keys(n),p=Ao.getTypeName(t.descriptor.protocolPath);if(!i.includes(p))throw new ce(_e.ProtocolAuthorizationInvalidType,`record with type ${p} not allowed in protocol`);const h=Ao.getTypeName(t.descriptor.protocolPath),V=n[h],{schema:$}=t.descriptor;if(void 0!==V.schema&&V.schema!==$)throw new ce(_e.ProtocolAuthorizationInvalidSchema,`type '${h}' must have schema '${V.schema}',         instead has '${$}'`);const{dataFormat:I}=t.descriptor;if(void 0!==V.dataFormats&&!V.dataFormats.includes(I))throw new ce(_e.ProtocolAuthorizationIncorrectDataFormat,`type '${h}' must have data format in (${V.dataFormats}),         instead has '${I}'`)}static verifyInvokedRole(t,n,i,l,p,c){var h;return rd(this,void 0,void 0,function*(){const V=null===(h=n.signaturePayload)||void 0===h?void 0:h.protocolRole;if(void 0===V)return;const $=Ao.getRuleSetAtProtocolPath(V,p);if(void 0===$||!$.$role)throw new ce(_e.ProtocolAuthorizationNotARole,`Protocol path ${V} does not match role record type.`);const I={interface:$i.Records,method:vi.Write,protocol:i,protocolPath:V,recipient:n.author,isLatestBaseState:!0},q=V.split("/").length-1;if(void 0===l&&q>0)throw new ce(_e.ProtocolAuthorizationMissingContextId,"Could not verify role because contextId is missing.");if(q>0){const Pe=l.split("/").slice(0,q).join("/"),Ke=Il.constructPrefixFilterAsRangeFilter(Pe);I.contextId=Ke}const{messages:Ce}=yield c.query(t,[I]);if(0===Ce.length)throw new ce(_e.ProtocolAuthorizationMatchingRoleRecordNotFound,`No matching role record found for protocol path ${V}`)})}static getActionsSeekingARuleMatch(t,n,i){return rd(this,void 0,void 0,function*(){switch(n.message.descriptor.method){case vi.Delete:const l=n,p=l.message.descriptor.recordId,c=yield Vo.fetchInitialRecordsWrite(i,t,p);if(void 0===c)return[];const h=[];return l.message.descriptor.prune?(h.push(wc.CoPrune),n.author===c.author&&h.push(wc.Prune)):(h.push(wc.CoDelete),n.author===c.author&&h.push(wc.Delete)),h;case vi.Query:return[wc.Query];case vi.Read:return[wc.Read];case vi.Subscribe:return[wc.Subscribe];case vi.Write:if(yield n.isInitialWrite())return[wc.Create];{const I=n.message.recordId,q=yield Vo.fetchInitialRecordsWrite(i,t,I);return void 0===q?[]:n.author===q.author?[wc.CoUpdate,wc.Update]:[wc.CoUpdate]}}return[]})}static authorizeAgainstAllowedActions(t,n,i,l,p){var c;return rd(this,void 0,void 0,function*(){const h=n.message.descriptor.method,V=yield Ao.getActionsSeekingARuleMatch(t,n,p),$=n.author,I=i.$actions;if(void 0===I)throw new ce(_e.ProtocolAuthorizationActionRulesNotFound,`no action rule defined for Records${h}, ${$} is unauthorized`);const q=null===(c=n.signaturePayload)||void 0===c?void 0:c.protocolRole;for(const Ce of I)if(Ce.can.some(Ke=>V.includes(Ke))){if(Ce.who===ym.Anyone)return;if(void 0!==$)if(void 0===q)if(Ce.who!==ym.Recipient||void 0!==Ce.of){if(yield Ao.checkActor($,Ce,l))return}else{let Ke;if(Ke=n.message.descriptor.method===vi.Write?n.message:l[l.length-1],Ke.descriptor.recipient===$)return}else if(Ce.role===q)return}throw new ce(_e.ProtocolAuthorizationActionNotAllowed,`Inbound message action Records${h} by author ${n.author} not allowed.`)})}static verifySizeLimit(t,n){const{min:i=0,max:l}=n.$size||{},p=t.message.descriptor.dataSize;if(p<i)throw new ce(_e.ProtocolAuthorizationMinSizeInvalid,`data size ${p} is less than allowed ${i}`);if(void 0!==l&&p>l)throw new ce(_e.ProtocolAuthorizationMaxSizeInvalid,`data size ${p} is more than allowed ${l}`)}static verifyTagsIfNeeded(t,n){if(void 0!==n.$tags){const{tags:i={},protocol:l,protocolPath:p}=t.message.descriptor,c=n.$tags,{$allowUndefinedTags:h,$requiredTags:V}=c,$=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(c,["$allowUndefinedTags","$requiredTags"]),I=h||!1,q=V||[],Ce=new lM.default,Be=Ce.compile({type:"object",properties:$,required:q,additionalProperties:I});if(!Be(i)){const Ke=Ce.errorsText(Be.errors,{dataVar:`${l}/${p}/$tags`});throw new ce(_e.ProtocolAuthorizationTagsInvalidSchema,`tags schema validation error: ${Ke}`)}}}static verifyAsRoleRecordIfNeeded(t,n,i,l){return rd(this,void 0,void 0,function*(){if(!i.$role)return;const p=n,c=p.message.descriptor.recipient;if(void 0===c)throw new ce(_e.ProtocolAuthorizationRoleMissingRecipient,"Role records must have a recipient");const h=p.message.descriptor.protocolPath,V={interface:$i.Records,method:vi.Write,isLatestBaseState:!0,protocol:p.message.descriptor.protocol,protocolPath:h,recipient:c},$=vo.getParentContextFromOfContextId(p.message.contextId);if(""!==$){const Be=Il.constructPrefixFilterAsRangeFilter($);V.contextId=Be}const{messages:I}=yield l.query(t,[V]);if(I.filter(Be=>Be.recordId!==p.message.recordId).length>0)throw new ce(_e.ProtocolAuthorizationDuplicateRoleRecipient,`DID '${c}' is already recipient of a role record at protocol path '${h} under the parent context ${$}.`)})}static getRuleSetAtProtocolPath(t,n){const i=t.split("/");let l=n.structure,p=0;for(;p<i.length;){const h=l[i[p]];if(void 0===h)return;l=h,p++}return l}static checkActor(t,n,i){return rd(this,void 0,void 0,function*(){const l=i.find(p=>p.descriptor.protocolPath===n.of);if(void 0===l)return!1;if(n.who===ym.Recipient)return t===l.descriptor.recipient;{const p=(yield Vo.parse(l)).author;return t===p}})}static getTypeName(t){return t.split("/").slice(-1)[0]}}var fM=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class F0 extends bp{static parse(t){return fM(this,void 0,void 0,function*(){let n;return void 0!==t.authorization&&(n=yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield vo.validateDelegatedGrantReferentialIntegrity(t,n),ma.validateTimestamp(t.descriptor.messageTimestamp),new F0(t)})}static create(t){var n,i;return fM(this,void 0,void 0,function*(){const l=t.recordId,p=ma.getCurrentTimestamp(),c={interface:$i.Records,method:vi.Delete,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:p,recordId:l,prune:null!==(i=t.prune)&&void 0!==i&&i},V={descriptor:c,authorization:yield Hr.createAuthorization({descriptor:c,signer:t.signer,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant})};return Hr.validateJsonSchema(V),new F0(V)})}constructIndexes(t){const i=Object.assign({},this.message.descriptor),{protocol:l,protocolPath:p,recipient:c,schema:h,parentId:V,dateCreated:$}=t.descriptor,I=Object.assign({protocol:l,protocolPath:p,recipient:c,schema:h,parentId:V,dateCreated:$,contextId:t.contextId,author:this.author},i);return xd(I),I}authorizeDelegate(t,n){return fM(this,void 0,void 0,function*(){const i=yield Zu.parse(this.message.authorization.authorDelegatedGrant);yield fu.authorizeDelete({recordsDeleteMessage:this.message,recordsWriteToDelete:t,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:i,messageStore:n})})}}var xg=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},hM=function(r){return r.RecordsDelete="RecordsDelete",r}(hM||{});let mE=(()=>{class r{constructor(n,i){this.resumableTaskStore=n,this.resumableTaskBatchSize=100,this.resumableTaskHandlers={[hM.RecordsDelete]:l=>xg(this,void 0,void 0,function*(){return yield i.performRecordsDelete(l)})}}run(n){return xg(this,void 0,void 0,function*(){const i=2*r.timeoutExtensionFrequencyInSeconds,l=yield this.resumableTaskStore.register(n,i);yield this.runWithAutomaticTimeoutExtension(l)})}runWithAutomaticTimeoutExtension(n){return xg(this,void 0,void 0,function*(){const i=2*r.timeoutExtensionFrequencyInSeconds;let l;try{l=setInterval(()=>{this.resumableTaskStore.extend(n.id,i)},1e3*r.timeoutExtensionFrequencyInSeconds);const p=this.resumableTaskHandlers[n.task.name];yield p(n.task.data),yield this.resumableTaskStore.delete(n.id)}finally{r.clearTimeoutExtensionTimer(l)}})}static clearTimeoutExtensionTimer(n){clearInterval(n)}resumeTasksAndWaitForCompletion(){return xg(this,void 0,void 0,function*(){for(;;){const n=yield this.resumableTaskStore.grab(this.resumableTaskBatchSize);if(void 0===n||0===n.length)break;yield this.retryTasksUntilCompletion(n)}})}retryTasksUntilCompletion(n){return xg(this,void 0,void 0,function*(){let i=n;for(;i.length>0;){const l=i;i=[];const p=l.map(c=>xg(this,void 0,void 0,function*(){try{yield this.runWithAutomaticTimeoutExtension(c)}catch(h){console.error("Error while running resumable task:",h),console.error("Resumable task:",n),i.push(c)}}));yield Promise.all(p)}})}}return r.timeoutExtensionFrequencyInSeconds=30,r})();var pM=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Sg{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.resumableTaskManager=i}handle({tenant:t,message:n}){return pM(this,void 0,void 0,function*(){let i;try{i=yield F0.parse(n)}catch($){return ks($,400)}try{yield Fh(n.authorization,this.didResolver)}catch($){return ks($,401)}const l={interface:$i.Records,recordId:n.descriptor.recordId},{messages:p}=yield this.messageStore.query(t,[l]),c=yield Hr.getNewestMessage(p);if(void 0===c||c.descriptor.method===vi.Delete)return{status:{code:404,detail:"Not Found"}};if(!(yield Hr.isNewer(n,c)))return{status:{code:409,detail:"Conflict"}};try{yield Sg.authorizeRecordsDelete(t,i,yield Vo.parse(c),this.messageStore)}catch($){return ks($,401)}return yield this.resumableTaskManager.run({name:hM.RecordsDelete,data:{tenant:t,message:n}}),{status:{code:202,detail:"Accepted"}}})}static authorizeRecordsDelete(t,n,i,l){return pM(this,void 0,void 0,function*(){if(Hr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i.message,l)),n.author!==t){if(void 0===i.message.descriptor.protocol)throw new ce(_e.RecordsDeleteAuthorizationFailed,"RecordsDelete message failed authorization");yield Ao.authorizeDelete(t,n,i,l)}})}}var zf=function(r){return r[r.Descending=-1]="Descending",r[r.Ascending=1]="Ascending",r}(zf||{}),Wb=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class _p{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return Wb(this,void 0,void 0,function*(){let i,l,p;try{i=yield wg.parse(n)}catch(c){return ks(c,400)}if(vo.filterIncludesPublishedRecords(i.message.descriptor.filter)&&void 0===i.author){const c=yield this.fetchPublishedRecords(t,i);l=c.messages,p=c.cursor}else{try{yield Fh(n.authorization,this.didResolver),yield _p.authorizeRecordsQuery(t,i,this.messageStore)}catch(c){return ks(c,401)}if(i.author===t){const c=yield this.fetchRecordsAsOwner(t,i);l=c.messages,p=c.cursor}else{const c=yield this.fetchRecordsAsNonOwner(t,i);l=c.messages,p=c.cursor}}for(const c of l)if(!(yield Vo.isInitialWrite(c))){const V=(yield this.messageStore.query(t,[{recordId:c.recordId,isLatestBaseState:!1,method:vi.Write}])).messages[0];delete V.encodedData,c.initialWrite=V}return{status:{code:200,detail:"OK"},entries:l,cursor:p}})}convertDateSort(t){switch(t){case Gl.CreatedAscending:return{dateCreated:zf.Ascending};case Gl.CreatedDescending:return{dateCreated:zf.Descending};case Gl.PublishedAscending:return{datePublished:zf.Ascending};case Gl.PublishedDescending:return{datePublished:zf.Descending};default:return{dateCreated:zf.Ascending}}}fetchRecordsAsOwner(t,n){return Wb(this,void 0,void 0,function*(){const{dateSort:i,filter:l,pagination:p}=n.message.descriptor,c=Object.assign(Object.assign({},vo.convertFilter(l,i)),{interface:$i.Records,method:vi.Write,isLatestBaseState:!0}),h=this.convertDateSort(i);return this.messageStore.query(t,[c],h,p)})}fetchRecordsAsNonOwner(t,n){return Wb(this,void 0,void 0,function*(){const{dateSort:i,pagination:l,filter:p}=n.message.descriptor,c=[];if(vo.filterIncludesPublishedRecords(p)&&c.push(_p.buildPublishedRecordsFilter(n)),vo.filterIncludesUnpublishedRecords(p)){c.push(_p.buildUnpublishedRecordsByQueryAuthorFilter(n));const V=n.message.descriptor.filter.recipient;(void 0===V||V===n.author)&&c.push(_p.buildUnpublishedRecordsForQueryAuthorFilter(n)),vo.shouldProtocolAuthorize(n.signaturePayload)&&c.push(_p.buildUnpublishedProtocolAuthorizedRecordsFilter(n))}const h=this.convertDateSort(i);return this.messageStore.query(t,c,h,l)})}fetchPublishedRecords(t,n){return Wb(this,void 0,void 0,function*(){const{dateSort:i,pagination:l}=n.message.descriptor,p=_p.buildPublishedRecordsFilter(n),c=this.convertDateSort(i);return this.messageStore.query(t,[p],c,l)})}static buildPublishedRecordsFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},vo.convertFilter(i,n)),{interface:$i.Records,method:vi.Write,published:!0,isLatestBaseState:!0})}static buildUnpublishedRecordsForQueryAuthorFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},vo.convertFilter(i,n)),{interface:$i.Records,method:vi.Write,recipient:t.author,isLatestBaseState:!0,published:!1})}static buildUnpublishedProtocolAuthorizedRecordsFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},vo.convertFilter(i,n)),{interface:$i.Records,method:vi.Write,isLatestBaseState:!0,published:!1})}static buildUnpublishedRecordsByQueryAuthorFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},vo.convertFilter(i,n)),{author:t.author,interface:$i.Records,method:vi.Write,isLatestBaseState:!0,published:!1})}static authorizeRecordsQuery(t,n,i){return Wb(this,void 0,void 0,function*(){Hr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i)),vo.shouldProtocolAuthorize(n.signaturePayload)&&(yield Ao.authorizeQueryOrSubscribe(t,n,i))})}}var yE=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Mg extends bp{static parse(t){return yE(this,void 0,void 0,function*(){let n;return void 0!==t.authorization&&(n=yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield vo.validateDelegatedGrantReferentialIntegrity(t,n),ma.validateTimestamp(t.descriptor.messageTimestamp),new Mg(t)})}static create(t){var n;return yE(this,void 0,void 0,function*(){const{filter:i,signer:l,permissionGrantId:p,protocolRole:c}=t,h=ma.getCurrentTimestamp(),V={interface:$i.Records,method:vi.Read,filter:vo.normalizeFilter(i),messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:h};let $;xd(V),void 0!==l&&($=yield Hr.createAuthorization({descriptor:V,signer:l,permissionGrantId:p,protocolRole:c,delegatedGrant:t.delegatedGrant}));const I={descriptor:V,authorization:$};return Hr.validateJsonSchema(I),new Mg(I)})}authorizeDelegate(t,n){return yE(this,void 0,void 0,function*(){const i=yield Zu.parse(this.message.authorization.authorDelegatedGrant);yield fu.authorizeRead({recordsReadMessage:this.message,recordsWriteMessageToBeRead:t,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:i,messageStore:n})})}}var mM=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class yM{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return mM(this,void 0,void 0,function*(){let i;try{i=yield Mg.parse(n)}catch(I){return ks(I,400)}try{void 0!==i.author&&(yield Fh(n.authorization,this.didResolver))}catch(I){return ks(I,401)}const l=Object.assign({interface:$i.Records,isLatestBaseState:!0},vo.convertFilter(n.descriptor.filter)),{messages:p}=yield this.messageStore.query(t,[l]);if(0===p.length)return{status:{code:404,detail:"Not Found"}};if(p.length>1)return ks(new ce(_e.RecordsReadReturnedMultiple,"Multiple records exist for the RecordsRead filter"),400);const c=p[0];try{yield yM.authorizeRecordsRead(t,i,yield Vo.parse(c),this.messageStore)}catch(I){return ks(I,401)}let h;if(void 0!==c.encodedData){const I=K.base64UrlToBytes(c.encodedData);h=wp.fromBytes(I),delete c.encodedData}else{const I=yield this.dataStore.get(t,c.recordId,c.descriptor.dataCid);if(void 0===I?.dataStream)return{status:{code:404,detail:"Not Found"}};h=I.dataStream}const V=Object.assign(Object.assign({},c),{data:h});if(!(yield Vo.isInitialWrite(V))){const q=(yield this.messageStore.query(t,[{recordId:V.recordId,isLatestBaseState:!1,method:vi.Write}])).messages[0];delete q.encodedData,V.initialWrite=q}return{status:{code:200,detail:"OK"},record:V}})}static authorizeRecordsRead(t,n,i,l){return mM(this,void 0,void 0,function*(){Hr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i.message,l));const{descriptor:p}=i.message;if(n.author!==t){if(!0===p.published)return;if(void 0!==n.author&&n.author===p.recipient)return;if(void 0!==n.author&&void 0!==n.signaturePayload.permissionGrantId){const c=yield _o.fetchGrant(t,l,n.signaturePayload.permissionGrantId);yield fu.authorizeRead({recordsReadMessage:n.message,recordsWriteMessageToBeRead:i.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:c,messageStore:l})}else{if(void 0===p.protocol)throw new ce(_e.RecordsReadAuthorizationFailed,"message failed authorization");yield Ao.authorizeRead(t,n,i,l)}}})}}var gM=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Gb extends bp{static parse(t){return gM(this,void 0,void 0,function*(){let n;if(void 0!==t.authorization&&(n=yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield vo.validateDelegatedGrantReferentialIntegrity(t,n),void 0!==n?.protocolRole&&void 0===t.descriptor.filter.protocolPath)throw new ce(_e.RecordsSubscribeFilterMissingRequiredProperties,"Role-authorized subscriptions must include `protocolPath` in the filter");return void 0!==t.descriptor.filter.protocol&&Qp(t.descriptor.filter.protocol),void 0!==t.descriptor.filter.schema&&d1(t.descriptor.filter.schema),ma.validateTimestamp(t.descriptor.messageTimestamp),new Gb(t)})}static create(t){var n;return gM(this,void 0,void 0,function*(){const i={interface:$i.Records,method:vi.Subscribe,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ma.getCurrentTimestamp(),filter:vo.normalizeFilter(t.filter)};xd(i);const l=t.signer;let p;l&&(p=yield Hr.createAuthorization({descriptor:i,signer:l,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant}));const c={descriptor:i,authorization:p};return Hr.validateJsonSchema(c),new Gb(c)})}authorizeDelegate(t){return gM(this,void 0,void 0,function*(){const n=yield Zu.parse(this.message.authorization.authorDelegatedGrant);yield fu.authorizeQueryOrSubscribe({incomingMessage:this.message,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:n,messageStore:t})})}}var gE=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class jh{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.eventStream=i}handle({tenant:t,message:n,subscriptionHandler:i}){return gE(this,void 0,void 0,function*(){if(void 0===this.eventStream)return ks(new ce(_e.RecordsSubscribeEventStreamUnimplemented,"Subscriptions are not supported"),501);let l;try{l=yield Gb.parse(n)}catch($){return ks($,400)}let p=[];if(vo.filterIncludesPublishedRecords(l.message.descriptor.filter)&&void 0===l.author)p=[jh.buildPublishedRecordsFilter(l)],delete n.authorization;else{try{yield Fh(n.authorization,this.didResolver),yield jh.authorizeRecordsSubscribe(t,l,this.messageStore)}catch($){return ks($,401)}p=l.author===t?yield jh.filterAsOwner(l):yield jh.filterAsNonOwner(l)}const h=yield Hr.getCid(n);return{status:{code:200,detail:"OK"},subscription:yield this.eventStream.subscribe(t,h,($,I,q)=>{t===$&&Il.matchAnyFilter(q,p)&&i(I)})}})}static filterAsOwner(t){return gE(this,void 0,void 0,function*(){const{filter:n}=t.message.descriptor;return[Object.assign(Object.assign({},vo.convertFilter(n)),{interface:$i.Records,method:[vi.Write,vi.Delete]})]})}static filterAsNonOwner(t){return gE(this,void 0,void 0,function*(){const n=[],{filter:i}=t.message.descriptor;if(vo.filterIncludesPublishedRecords(i)&&n.push(jh.buildPublishedRecordsFilter(t)),vo.filterIncludesUnpublishedRecords(i)){n.push(jh.buildUnpublishedRecordsBySubscribeAuthorFilter(t));const l=t.message.descriptor.filter.recipient;(void 0===l||l===t.author)&&n.push(jh.buildUnpublishedRecordsForSubscribeAuthorFilter(t)),vo.shouldProtocolAuthorize(t.signaturePayload)&&n.push(jh.buildUnpublishedProtocolAuthorizedRecordsFilter(t))}return n})}static buildPublishedRecordsFilter(t){return Object.assign(Object.assign({},vo.convertFilter(t.message.descriptor.filter)),{interface:$i.Records,method:[vi.Write,vi.Delete],published:!0})}static buildUnpublishedRecordsForSubscribeAuthorFilter(t){return Object.assign(Object.assign({},vo.convertFilter(t.message.descriptor.filter)),{interface:$i.Records,method:[vi.Write,vi.Delete],recipient:t.author,published:!1})}static buildUnpublishedProtocolAuthorizedRecordsFilter(t){return Object.assign(Object.assign({},vo.convertFilter(t.message.descriptor.filter)),{interface:$i.Records,method:[vi.Write,vi.Delete],published:!1})}static buildUnpublishedRecordsBySubscribeAuthorFilter(t){return Object.assign(Object.assign({},vo.convertFilter(t.message.descriptor.filter)),{author:t.author,interface:$i.Records,method:[vi.Write,vi.Delete],published:!1})}static authorizeRecordsSubscribe(t,n,i){return gE(this,void 0,void 0,function*(){Hr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i)),vo.shouldProtocolAuthorize(n.signaturePayload)&&(yield Ao.authorizeQueryOrSubscribe(t,n,i))})}}let vM=(()=>{class r{}return r.maxDataSizeAllowedToBeEncoded=3e4,r})();var Xb=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class cf{constructor({messageStore:t,dataStore:n,eventLog:i,eventStream:l}){this.messageStore=t,this.dataStore=n,this.eventLog=i,this.eventStream=l}performRecordsDelete({tenant:t,message:n}){return Xb(this,void 0,void 0,function*(){const i={interface:$i.Records,recordId:n.descriptor.recordId},{messages:l}=yield this.messageStore.query(t,[i]),p=yield Hr.getNewestMessage(l);if(void 0===p||p.descriptor.method===vi.Delete)return;const c=yield F0.parse(n),h=yield Vo.getInitialWrite(l),V=c.constructIndexes(h),$=yield Hr.getCid(n);yield this.messageStore.put(t,n,V),yield this.eventLog.append(t,$,V),void 0!==this.eventStream&&this.eventStream.emit(t,{message:n,initialWrite:h},V),n.descriptor.prune&&(yield cf.purgeRecordDescendants(t,n.descriptor.recordId,this.messageStore,this.dataStore,this.eventLog)),yield cf.deleteAllOlderMessagesButKeepInitialWrite(t,l,n,this.messageStore,this.dataStore,this.eventLog)})}static deleteFromDataStoreIfNeeded(t,n,i,l){return Xb(this,void 0,void 0,function*(){if(i.descriptor.method!==vi.Write)return;const p=i;p.descriptor.dataSize<=vM.maxDataSizeAllowedToBeEncoded||p.descriptor.dataCid!==l.descriptor.dataCid&&(yield t.delete(n,p.recordId,p.descriptor.dataCid))})}static purgeRecordDescendants(t,n,i,l,p){return Xb(this,void 0,void 0,function*(){const c={interface:$i.Records,parentId:n},{messages:h}=yield i.query(t,[c]),V=new Map;for(const $ of h){let I;I=vo.isRecordsWrite($)?$.recordId:$.descriptor.recordId,V.has(I)||V.set(I,[]),V.get(I).push($)}for(const $ of V.keys())yield cf.purgeRecordDescendants(t,$,i,l,p);for(const $ of V.keys())yield cf.purgeRecordMessages(t,V.get($),i,l,p)})}static purgeRecordMessages(t,n,i,l,p){return Xb(this,void 0,void 0,function*(){const c=n.filter($=>$.descriptor.method===vi.Write),h=yield Hr.getNewestMessage(c);yield l.delete(t,h.recordId,h.descriptor.dataCid);const V=yield Promise.all(n.map($=>Hr.getCid($)));yield p.deleteEventsByCid(t,V),yield Promise.all(V.map($=>i.delete(t,$)))})}static deleteAllOlderMessagesButKeepInitialWrite(t,n,i,l,p,c){return Xb(this,void 0,void 0,function*(){const h=[];for(const V of n){if(yield Hr.isOlder(V,i)){yield cf.deleteFromDataStoreIfNeeded(p,t,V,i);const I=yield Hr.getCid(V);if(yield l.delete(t,I),yield Vo.isInitialWrite(V)){const Pe=yield(yield Vo.parse(V)).constructIndexes(!1),Ke=V;delete Ke.encodedData,yield l.put(t,Ke,Pe)}else{const Ce=yield Hr.getCid(V);h.push(Ce)}}yield c.deleteEventsByCid(t,h)}})}}var vm=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class bm{constructor(t,n,i,l,p){this.didResolver=t,this.messageStore=n,this.dataStore=i,this.eventLog=l,this.eventStream=p}handle({tenant:t,message:n,dataStream:i}){return vm(this,void 0,void 0,function*(){let l;try{l=yield Vo.parse(n),void 0!==n.descriptor.protocol&&(yield Ao.validateReferentialIntegrity(t,l,this.messageStore))}catch(Be){return ks(Be,400)}try{yield Fh(n.authorization,this.didResolver),yield bm.authorizeRecordsWrite(t,l,this.messageStore)}catch(Be){return ks(Be,401)}const p={interface:$i.Records,recordId:n.recordId},{messages:c}=yield this.messageStore.query(t,[p]),h=yield l.isInitialWrite();let V;if(!h)try{V=yield Vo.getInitialWrite(c),Vo.verifyEqualityOfImmutableProperties(V,n)}catch(Be){return ks(Be,400)}const $=yield Hr.getNewestMessage(c);let q,I=!1;if(void 0===$||(yield Hr.isNewer(n,$))?(I=!0,q=n):q=$,!I)return{status:{code:409,detail:"Conflict"}};try{yield this.preProcessingForCoreRecordsWrite(t,n);let Be=!1,Pe=n;if(void 0!==i)Pe=yield this.processMessageWithDataStream(t,n,i),Be=!0;else{if($?.descriptor.method===vi.Delete)throw new ce(_e.RecordsWriteMissingDataStream,"No data stream was provided with the previous message being a delete");if(!h){const rt=$;Pe=yield this.processMessageWithoutDataStream(t,n,rt),Be=!0}}const Ke=yield l.constructIndexes(Be);yield this.messageStore.put(t,Pe,Ke),yield this.eventLog.append(t,yield Hr.getCid(n),Ke),void 0!==this.eventStream&&Be&&this.eventStream.emit(t,{message:n,initialWrite:V},Ke)}catch(Be){const Pe=Be;if(void 0!==Pe.code&&(Pe.code===_e.RecordsWriteMissingEncodedDataInPrevious||Pe.code===_e.RecordsWriteMissingDataInPrevious||Pe.code===_e.RecordsWriteMissingDataStream||Pe.code===_e.RecordsWriteDataCidMismatch||Pe.code===_e.RecordsWriteDataSizeMismatch||Pe.code.startsWith("PermissionsProtocolValidate")||Pe.code.startsWith("SchemaValidator")))return ks(Be,400);throw Be}return yield cf.deleteAllOlderMessagesButKeepInitialWrite(t,c,q,this.messageStore,this.dataStore,this.eventLog),yield this.postProcessingForCoreRecordsWrite(t,l),{status:{code:202,detail:"Accepted"}}})}preProcessingForCoreRecordsWrite(t,n){var i;return vm(this,void 0,void 0,function*(){if(n.descriptor.protocol===_o.uri&&n.descriptor.protocolPath===_o.revocationPath){const l=n.descriptor.parentId,p=yield _o.fetchGrant(t,this.messageStore,l),c=null===(i=n.descriptor.tags)||void 0===i?void 0:i.protocol,h="protocol"in p.scope?p.scope.protocol:void 0;if(h!==c)throw new ce(_e.PermissionsProtocolValidateRevocationProtocolTagMismatch,`Revocation protocol ${c} does not match grant protocol ${h}`)}})}static validateSchemaForCoreRecordsWrite(t,n){t.descriptor.protocol===_o.uri&&_o.validateSchema(t,n)}postProcessingForCoreRecordsWrite(t,n){return vm(this,void 0,void 0,function*(){if(n.message.descriptor.protocol===_o.uri&&n.message.descriptor.protocolPath===_o.revocationPath){const l={permissionGrantId:n.message.descriptor.parentId,dateCreated:{gte:n.message.descriptor.messageTimestamp}},{messages:p}=yield this.messageStore.query(t,[l]),c=[];for(const h of p){const V=yield Hr.getCid(h);yield this.messageStore.delete(t,V)}this.eventLog.deleteEventsByCid(t,c)}})}cloneAndAddEncodedData(t,n){return vm(this,void 0,void 0,function*(){const i=Object.assign({},t);return i.encodedData=K.bytesToBase64Url(n),i})}processMessageWithDataStream(t,n,i){return vm(this,void 0,void 0,function*(){let l=n;if(n.descriptor.dataSize<=vM.maxDataSizeAllowedToBeEncoded){const p=yield wp.toBytes(i),c=yield Qc.computeDagPbCidFromBytes(p);bm.validateDataIntegrity(n.descriptor.dataCid,n.descriptor.dataSize,c,p.length),bm.validateSchemaForCoreRecordsWrite(n,p),l=yield this.cloneAndAddEncodedData(n,p)}else{const[p,c]=wp.duplicateDataStream(i,2);try{const[h,V]=yield Promise.all([Qc.computeDagPbCidFromStream(p),this.dataStore.put(t,n.recordId,n.descriptor.dataCid,c)]);bm.validateDataIntegrity(n.descriptor.dataCid,n.descriptor.dataSize,h,V.dataSize)}catch(h){throw yield this.dataStore.delete(t,n.recordId,n.descriptor.dataCid),h}}return l})}processMessageWithoutDataStream(t,n,i){return vm(this,void 0,void 0,function*(){const l=Object.assign({},n),{dataCid:p,dataSize:c}=n.descriptor;if(bm.validateDataIntegrity(p,c,i.descriptor.dataCid,i.descriptor.dataSize),c<=vM.maxDataSizeAllowedToBeEncoded){if(void 0===i.encodedData)throw new ce(_e.RecordsWriteMissingEncodedDataInPrevious,"No dataStream was provided and unable to get data from previous message");l.encodedData=i.encodedData}else if(void 0===(yield this.dataStore.get(t,i.recordId,n.descriptor.dataCid)))throw new ce(_e.RecordsWriteMissingDataInPrevious,"No dataStream was provided and unable to get data from previous message");return l})}static validateDataIntegrity(t,n,i,l){if(t!==i)throw new ce(_e.RecordsWriteDataCidMismatch,`actual data CID ${i} does not match dataCid in descriptor: ${t}`);if(n!==l)throw new ce(_e.RecordsWriteDataSizeMismatch,`actual data size ${l} bytes does not match dataSize in descriptor: ${n}`)}static authorizeRecordsWrite(t,n,i){return vm(this,void 0,void 0,function*(){if(void 0!==n.owner&&n.owner!==t)throw new ce(_e.RecordsWriteOwnerAndTenantMismatch,`Owner ${n.owner} must be the same as tenant ${t} when specified.`);if(n.isSignedByAuthorDelegate&&(yield n.authorizeAuthorDelegate(i)),n.isSignedByOwnerDelegate&&(yield n.authorizeOwnerDelegate(i)),void 0===n.owner){if(n.author===t)return;if(void 0!==n.author&&void 0!==n.signaturePayload.permissionGrantId){const l=yield _o.fetchGrant(t,i,n.signaturePayload.permissionGrantId);yield fu.authorizeWrite({recordsWriteMessage:n.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:l,messageStore:i})}else{if(void 0===n.message.descriptor.protocol)throw new ce(_e.RecordsWriteAuthorizationFailed,"message failed authorization");yield Ao.authorizeWrite(t,n,i)}}})}}var Zb=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}(Zb||{});const Hf={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Rs{constructor({method:t,id:n,path:i,query:l,fragment:p,params:c}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=i,this.query=l,this.fragment=p,this.params=c}static parse(t){if(!t)return null;const n=Rs.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:i,id:l,path:p,query:c,fragment:h}=n.groups,V={uri:`did:${i}:${l}`,method:i,id:l};if(p&&(V.path=p),c&&(V.query=c.slice(1)),h&&(V.fragment=h.slice(1)),c){const $={},I=c.slice(1).split("&");for(const q of I){const[Ce,Be]=q.split("=");$[Ce]=Be}V.params=$}return V}}Rs.METHOD_PATTERN="([a-z0-9]+)",Rs.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Rs.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Rs.PCT_ENCODED_PATTERN})`,Rs.METHOD_ID_PATTERN=`((?:${Rs.ID_CHAR_PATTERN}*:)*(${Rs.ID_CHAR_PATTERN}+))`,Rs.PATH_PATTERN="(/[^#?]*)?",Rs.QUERY_PATTERN="([?][^#]*)?",Rs.FRAGMENT_PATTERN="(#.*)?",Rs.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Rs.METHOD_PATTERN}):(?<id>${Rs.METHOD_ID_PATTERN})(?<path>${Rs.PATH_PATTERN})(?<query>${Rs.QUERY_PATTERN})(?<fragment>${Rs.FRAGMENT_PATTERN})$`);class Wi extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wi)}}var Ji=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(Ji||{}),nr=w(37475);function kC(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function bM(r,...t){if(!function mR(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}(r))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(r.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${r.length}`)}function Yb(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}const vE="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function wM(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}const _M=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Ep=(r,t)=>r<<32-t|r>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function bE(r){if("string"!=typeof r)throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array((new TextEncoder).encode(r))}function Tg(r){if("string"==typeof r&&(r=bE(r)),!wM(r))throw new Error("expected Uint8Array, got "+typeof r);return r}function BC(...r){let t=0;for(let i=0;i<r.length;i++){const l=r[i];if(!wM(l))throw new Error("Uint8Array expected");t+=l.length}const n=new Uint8Array(t);for(let i=0,l=0;i<r.length;i++){const p=r[i];n.set(p,l),l+=p.length}return n}class Qb{clone(){return this._cloneInto()}}function SM(r){const t=i=>r().update(Tg(i)).digest(),n=r();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>r(),t}function xp(r=32){if(vE&&"function"==typeof vE.getRandomValues)return vE.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}class MM extends Qb{constructor(t,n,i,l){super(),this.blockLen=t,this.outputLen=n,this.padOffset=i,this.isLE=l,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=_M(this.buffer)}update(t){Yb(this);const{view:n,buffer:i,blockLen:l}=this,p=(t=Tg(t)).length;for(let c=0;c<p;){const h=Math.min(l-this.pos,p-c);if(h!==l)i.set(t.subarray(c,c+h),this.pos),this.pos+=h,c+=h,this.pos===l&&(this.process(n,0),this.pos=0);else{const V=_M(t);for(;l<=p-c;c+=l)this.process(V,c)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){Yb(this),function Ag(r,t){bM(r);const n=t.outputLen;if(r.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(t,this),this.finished=!0;const{buffer:n,view:i,blockLen:l,isLE:p}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>l-c&&(this.process(i,0),c=0);for(let q=c;q<l;q++)n[q]=0;(function wR(r,t,n,i){if("function"==typeof r.setBigUint64)return r.setBigUint64(t,n,i);const l=BigInt(32),p=BigInt(4294967295),c=Number(n>>l&p),h=Number(n&p),$=i?0:4;r.setUint32(t+(i?4:0),c,i),r.setUint32(t+$,h,i)})(i,l-8,BigInt(8*this.length),p),this.process(i,0);const h=_M(t),V=this.outputLen;if(V%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const $=V/4,I=this.get();if($>I.length)throw new Error("_sha2: outputLen bigger than state");for(let q=0;q<$;q++)h.setUint32(4*q,I[q],p)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const i=t.slice(0,n);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:i,length:l,finished:p,destroyed:c,pos:h}=this;return t.length=l,t.pos=h,t.finished=p,t.destroyed=c,l%n&&t.buffer.set(i),t}}const AM=(r,t,n)=>r&t^~r&n,Q4=(r,t,n)=>r&t^r&n^t&n,_R=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),_m=new Uint32Array(64);class TM extends MM{constructor(){super(64,32,8,!1),this.A=0|wm[0],this.B=0|wm[1],this.C=0|wm[2],this.D=0|wm[3],this.E=0|wm[4],this.F=0|wm[5],this.G=0|wm[6],this.H=0|wm[7]}get(){const{A:t,B:n,C:i,D:l,E:p,F:c,G:h,H:V}=this;return[t,n,i,l,p,c,h,V]}set(t,n,i,l,p,c,h,V){this.A=0|t,this.B=0|n,this.C=0|i,this.D=0|l,this.E=0|p,this.F=0|c,this.G=0|h,this.H=0|V}process(t,n){for(let q=0;q<16;q++,n+=4)_m[q]=t.getUint32(n,!1);for(let q=16;q<64;q++){const Ce=_m[q-15],Be=_m[q-2],Pe=Ep(Ce,7)^Ep(Ce,18)^Ce>>>3,Ke=Ep(Be,17)^Ep(Be,19)^Be>>>10;_m[q]=Ke+_m[q-7]+Pe+_m[q-16]|0}let{A:i,B:l,C:p,D:c,E:h,F:V,G:$,H:I}=this;for(let q=0;q<64;q++){const Be=I+(Ep(h,6)^Ep(h,11)^Ep(h,25))+AM(h,V,$)+_R[q]+_m[q]|0,Ke=(Ep(i,2)^Ep(i,13)^Ep(i,22))+Q4(i,l,p)|0;I=$,$=V,V=h,h=c+Be|0,c=p,p=l,l=i,i=Be+Ke|0}i=i+this.A|0,l=l+this.B|0,p=p+this.C|0,c=c+this.D|0,h=h+this.E|0,V=V+this.F|0,$=$+this.G|0,I=I+this.H|0,this.set(i,l,p,c,h,V,$,I)}roundClean(){_m.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const j0=SM(()=>new TM);class LC{static digest({data:t}){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return j0(t)})}}class DM{}BigInt(0);const ew=BigInt(1),FC=BigInt(2);function Gf(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}const MR=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function $0(r){if(!Gf(r))throw new Error("Uint8Array expected");let t="";for(let n=0;n<r.length;n++)t+=MR[r[n]];return t}function CM(r){if("string"!=typeof r)throw new Error("hex string expected, got "+typeof r);return BigInt(""===r?"0":`0x${r}`)}const Em={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function AR(r){return r>=Em._0&&r<=Em._9?r-Em._0:r>=Em._A&&r<=Em._F?r-(Em._A-10):r>=Em._a&&r<=Em._f?r-(Em._a-10):void 0}function tw(r){if("string"!=typeof r)throw new Error("hex string expected, got "+typeof r);const t=r.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(n);for(let l=0,p=0;l<n;l++,p+=2){const c=AR(r.charCodeAt(p)),h=AR(r.charCodeAt(p+1));if(void 0===c||void 0===h)throw new Error('hex string expected, got non-hex character "'+(r[p]+r[p+1])+'" at index '+p);i[l]=16*c+h}return i}function Dg(r){return CM($0(r))}function K0(r){if(!Gf(r))throw new Error("Uint8Array expected");return CM($0(Uint8Array.from(r).reverse()))}function Sp(r,t){return tw(r.toString(16).padStart(2*t,"0"))}function nw(r,t){return Sp(r,t).reverse()}function tc(r,t,n){let i;if("string"==typeof t)try{i=tw(t)}catch(p){throw new Error(`${r} must be valid hex string, got "${t}". Cause: ${p}`)}else{if(!Gf(t))throw new Error(`${r} must be hex string or Uint8Array`);i=Uint8Array.from(t)}const l=i.length;if("number"==typeof n&&l!==n)throw new Error(`${r} expected ${n} bytes, got ${l}`);return i}function Ig(...r){let t=0;for(let l=0;l<r.length;l++){const p=r[l];if(!Gf(p))throw new Error("Uint8Array expected");t+=p.length}let n=new Uint8Array(t),i=0;for(let l=0;l<r.length;l++){const p=r[l];n.set(p,i),i+=p.length}return n}const RM=r=>(FC<<BigInt(r-1))-ew,OM=r=>new Uint8Array(r),jC=r=>Uint8Array.from(r);function $C(r,t,n){if("number"!=typeof r||r<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let i=OM(r),l=OM(r),p=0;const c=()=>{i.fill(1),l.fill(0),p=0},h=(...q)=>n(l,i,...q),V=(q=OM())=>{l=h(jC([0]),q),i=h(),0!==q.length&&(l=h(jC([1]),q),i=h())},$=()=>{if(p++>=1e3)throw new Error("drbg: tried 1000 values");let q=0;const Ce=[];for(;q<t;){i=h();const Be=i.slice();Ce.push(Be),q+=i.length}return Ig(...Ce)};return(q,Ce)=>{let Be;for(c(),V(q);!(Be=Ce($()));)V();return c(),Be}}const DR={bigint:r=>"bigint"==typeof r,function:r=>"function"==typeof r,boolean:r=>"boolean"==typeof r,string:r=>"string"==typeof r,stringOrUint8Array:r=>"string"==typeof r||Gf(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>"function"==typeof r&&Number.isSafeInteger(r.outputLen)};function V0(r,t,n={}){const i=(l,p,c)=>{const h=DR[p];if("function"!=typeof h)throw new Error(`Invalid validator "${p}", expected function`);const V=r[l];if(!(c&&void 0===V||h(V,r)))throw new Error(`Invalid param ${String(l)}=${V} (${typeof V}), expected ${p}`)};for(const[l,p]of Object.entries(t))i(l,p,!1);for(const[l,p]of Object.entries(n))i(l,p,!0);return r}const jc=BigInt(0),Gs=BigInt(1),xm=BigInt(2),IR=BigInt(3),PM=BigInt(4),KC=BigInt(5),VC=BigInt(8);function ia(r,t){const n=r%t;return n>=jc?n:t+n}function zC(r,t,n){if(n<=jc||t<jc)throw new Error("Expected power/modulo > 0");if(n===Gs)return jc;let i=Gs;for(;t>jc;)t&Gs&&(i=i*r%n),r=r*r%n,t>>=Gs;return i}function za(r,t,n){let i=r;for(;t-- >jc;)i*=i,i%=n;return i}function _E(r,t){if(r===jc||t<=jc)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let n=ia(r,t),i=t,l=jc,p=Gs,c=Gs,h=jc;for(;n!==jc;){const $=i/n,I=i%n,q=l-c*$,Ce=p-h*$;i=n,n=I,l=c,p=h,c=q,h=Ce}if(i!==Gs)throw new Error("invert: does not exist");return ia(l,t)}BigInt(9),BigInt(16);const BM=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function GC(r,t){const n=void 0!==t?t:r.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function NM(r,t,n=!1,i={}){if(r<=jc)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:l,nByteLength:p}=GC(r,t);if(p>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=function OR(r){if(r%PM===IR){const t=(r+Gs)/PM;return function(i,l){const p=i.pow(l,t);if(!i.eql(i.sqr(p),l))throw new Error("Cannot find square root");return p}}if(r%VC===KC){const t=(r-KC)/VC;return function(i,l){const p=i.mul(l,xm),c=i.pow(p,t),h=i.mul(l,c),V=i.mul(i.mul(h,xm),c),$=i.mul(h,i.sub(V,i.ONE));if(!i.eql(i.sqr($),l))throw new Error("Cannot find square root");return $}}return function RR(r){const t=(r-Gs)/xm;let n,i,l;for(n=r-Gs,i=0;n%xm===jc;n/=xm,i++);for(l=xm;l<r&&zC(l,t,r)!==r-Gs;l++);if(1===i){const c=(r+Gs)/PM;return function(V,$){const I=V.pow($,c);if(!V.eql(V.sqr(I),$))throw new Error("Cannot find square root");return I}}const p=(n+Gs)/xm;return function(h,V){if(h.pow(V,t)===h.neg(h.ONE))throw new Error("Cannot find square root");let $=i,I=h.pow(h.mul(h.ONE,l),n),q=h.pow(V,p),Ce=h.pow(V,n);for(;!h.eql(Ce,h.ONE);){if(h.eql(Ce,h.ZERO))return h.ZERO;let Be=1;for(let Ke=h.sqr(Ce);Be<$&&!h.eql(Ke,h.ONE);Be++)Ke=h.sqr(Ke);const Pe=h.pow(I,Gs<<BigInt($-Be-1));I=h.sqr(Pe),q=h.mul(q,Pe),Ce=h.mul(Ce,I),$=Be}return q}}(r)}(r),h=Object.freeze({ORDER:r,BITS:l,BYTES:p,MASK:RM(l),ZERO:jc,ONE:Gs,create:V=>ia(V,r),isValid:V=>{if("bigint"!=typeof V)throw new Error("Invalid field element: expected bigint, got "+typeof V);return jc<=V&&V<r},is0:V=>V===jc,isOdd:V=>(V&Gs)===Gs,neg:V=>ia(-V,r),eql:(V,$)=>V===$,sqr:V=>ia(V*V,r),add:(V,$)=>ia(V+$,r),sub:(V,$)=>ia(V-$,r),mul:(V,$)=>ia(V*$,r),pow:(V,$)=>function BR(r,t,n){if(n<jc)throw new Error("Expected power > 0");if(n===jc)return r.ONE;if(n===Gs)return t;let i=r.ONE,l=t;for(;n>jc;)n&Gs&&(i=r.mul(i,l)),l=r.sqr(l),n>>=Gs;return i}(h,V,$),div:(V,$)=>ia(V*_E($,r),r),sqrN:V=>V*V,addN:(V,$)=>V+$,subN:(V,$)=>V-$,mulN:(V,$)=>V*$,inv:V=>_E(V,r),sqrt:i.sqrt||(V=>c(h,V)),invertBatch:V=>function WC(r,t){const n=new Array(t.length),i=t.reduce((p,c,h)=>r.is0(c)?p:(n[h]=p,r.mul(p,c)),r.ONE),l=r.inv(i);return t.reduceRight((p,c,h)=>r.is0(c)?p:(n[h]=r.mul(p,n[h]),r.mul(p,c)),l),n}(h,V),cmov:(V,$,I)=>I?$:V,toBytes:V=>n?nw(V,p):Sp(V,p),fromBytes:V=>{if(V.length!==p)throw new Error(`Fp.fromBytes: expected ${p}, got ${V.length}`);return n?K0(V):Dg(V)}});return Object.freeze(h)}function LM(r){if("bigint"!=typeof r)throw new Error("field order must be bigint");const t=r.toString(2).length;return Math.ceil(t/8)}function ZC(r){const t=LM(r);return t+Math.ceil(t/2)}class EE extends Qb{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,function OC(r){if("function"!=typeof r||"function"!=typeof r.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");kC(r.outputLen),kC(r.blockLen)}(t);const i=Tg(n);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const l=this.blockLen,p=new Uint8Array(l);p.set(i.length>l?t.create().update(i).digest():i);for(let c=0;c<p.length;c++)p[c]^=54;this.iHash.update(p),this.oHash=t.create();for(let c=0;c<p.length;c++)p[c]^=106;this.oHash.update(p),p.fill(0)}update(t){return Yb(this),this.iHash.update(t),this}digestInto(t){Yb(this),bM(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:l,destroyed:p,blockLen:c,outputLen:h}=this;return t.finished=l,t.destroyed=p,t.blockLen=c,t.outputLen=h,t.oHash=n._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const FM=(r,t,n)=>new EE(r,t).update(n).digest();FM.create=(r,t)=>new EE(r,t);const YC=BigInt(0),rw=BigInt(1);function iw(r,t){const n=(l,p)=>{const c=p.negate();return l?c:p},i=l=>({windows:Math.ceil(t/l)+1,windowSize:2**(l-1)});return{constTimeNegate:n,unsafeLadder(l,p){let c=r.ZERO,h=l;for(;p>YC;)p&rw&&(c=c.add(h)),h=h.double(),p>>=rw;return c},precomputeWindow(l,p){const{windows:c,windowSize:h}=i(p),V=[];let $=l,I=$;for(let q=0;q<c;q++){I=$,V.push(I);for(let Ce=1;Ce<h;Ce++)I=I.add($),V.push(I);$=I.double()}return V},wNAF(l,p,c){const{windows:h,windowSize:V}=i(l);let $=r.ZERO,I=r.BASE;const q=BigInt(2**l-1),Ce=2**l,Be=BigInt(l);for(let Pe=0;Pe<h;Pe++){const Ke=Pe*V;let rt=Number(c&q);c>>=Be,rt>V&&(rt-=Ce,c+=rw);const ht=Ke,ct=Ke+Math.abs(rt)-1,At=rt<0;0===rt?I=I.add(n(Pe%2!=0,p[ht])):$=$.add(n(At,p[ct]))}return{p:$,f:I}},wNAFCached(l,p,c,h){const V=l._WINDOW_SIZE||1;let $=p.get(l);return $||($=this.precomputeWindow(l,V),1!==V&&p.set(l,h($))),this.wNAF(V,$,c)}}}function JC(r){return function PR(r){V0(r,BM.reduce((i,l)=>(i[l]="function",i),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(r.Fp),V0(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...GC(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}const{Ph:UR,aT:iB}=B,z0={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(r){const{Err:t}=z0;if(r.length<2||2!==r[0])throw new t("Invalid signature integer tag");const n=r[1],i=r.subarray(2,n+2);if(!n||i.length!==n)throw new t("Invalid signature integer: wrong length");if(128&i[0])throw new t("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:UR(i),l:r.subarray(n+2)}},toSig(r){const{Err:t}=z0,n="string"==typeof r?iB(r):r;if(!Gf(n))throw new Error("ui8a expected");let i=n.length;if(i<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==i-2)throw new t("Invalid signature: incorrect length");const{d:l,l:p}=z0._parseInt(n.subarray(2)),{d:c,l:h}=z0._parseInt(p);if(h.length)throw new t("Invalid signature: left bytes after parsing");return{r:l,s:c}},hexFromSig(r){const t=$=>8&Number.parseInt($[0],16)?"00"+$:$,n=$=>{const I=$.toString(16);return 1&I.length?`0${I}`:I},i=t(n(r.s)),l=t(n(r.r)),p=i.length/2,c=l.length/2,h=n(p),V=n(c);return`30${n(c+p+4)}02${V}${l}02${h}${i}`}},lf=BigInt(0),Ha=BigInt(1),H0=(BigInt(2),BigInt(3));function jR(r){const t=function FR(r){const t=JC(r);return V0(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(r),{Fp:n,n:i}=t,l=n.BYTES+1,p=2*n.BYTES+1;function h(ln){return ia(ln,i)}function V(ln){return _E(ln,i)}const{ProjectivePoint:$,normPrivateKeyToScalar:I,weierstrassEquation:q,isWithinCurveOrder:Ce}=function QC(r){const t=function qC(r){const t=JC(r);V0(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:i,a:l}=t;if(n){if(!i.eql(l,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(r),{Fp:n}=t,i=t.toBytes||((Pe,Ke,rt)=>{const ht=Ke.toAffine();return Ig(Uint8Array.from([4]),n.toBytes(ht.x),n.toBytes(ht.y))}),l=t.fromBytes||(Pe=>{const Ke=Pe.subarray(1);return{x:n.fromBytes(Ke.subarray(0,n.BYTES)),y:n.fromBytes(Ke.subarray(n.BYTES,2*n.BYTES))}});function p(Pe){const{a:Ke,b:rt}=t,ht=n.sqr(Pe),ct=n.mul(ht,Pe);return n.add(n.add(ct,n.mul(Pe,Ke)),rt)}if(!n.eql(n.sqr(t.Gy),p(t.Gx)))throw new Error("bad generator point: equation left != right");function c(Pe){return"bigint"==typeof Pe&&lf<Pe&&Pe<t.n}function h(Pe){if(!c(Pe))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function V(Pe){const{allowedPrivateKeyLengths:Ke,nByteLength:rt,wrapPrivateKey:ht,n:ct}=t;if(Ke&&"bigint"!=typeof Pe){if(Gf(Pe)&&(Pe=$0(Pe)),"string"!=typeof Pe||!Ke.includes(Pe.length))throw new Error("Invalid key");Pe=Pe.padStart(2*rt,"0")}let dt;try{dt="bigint"==typeof Pe?Pe:Dg(tc("private key",Pe,rt))}catch{throw new Error(`private key must be ${rt} bytes, hex or bigint, not ${typeof Pe}`)}return ht&&(dt=ia(dt,ct)),h(dt),dt}const $=new Map;function I(Pe){if(!(Pe instanceof q))throw new Error("ProjectivePoint expected")}class q{constructor(Ke,rt,ht){if(this.px=Ke,this.py=rt,this.pz=ht,null==Ke||!n.isValid(Ke))throw new Error("x required");if(null==rt||!n.isValid(rt))throw new Error("y required");if(null==ht||!n.isValid(ht))throw new Error("z required")}static fromAffine(Ke){const{x:rt,y:ht}=Ke||{};if(!Ke||!n.isValid(rt)||!n.isValid(ht))throw new Error("invalid affine point");if(Ke instanceof q)throw new Error("projective point not allowed");const ct=dt=>n.eql(dt,n.ZERO);return ct(rt)&&ct(ht)?q.ZERO:new q(rt,ht,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Ke){const rt=n.invertBatch(Ke.map(ht=>ht.pz));return Ke.map((ht,ct)=>ht.toAffine(rt[ct])).map(q.fromAffine)}static fromHex(Ke){const rt=q.fromAffine(l(tc("pointHex",Ke)));return rt.assertValidity(),rt}static fromPrivateKey(Ke){return q.BASE.multiply(V(Ke))}_setWindowSize(Ke){this._WINDOW_SIZE=Ke,$.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:Ke,y:rt}=this.toAffine();if(!n.isValid(Ke)||!n.isValid(rt))throw new Error("bad point: x or y not FE");const ht=n.sqr(rt),ct=p(Ke);if(!n.eql(ht,ct))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:Ke}=this.toAffine();if(n.isOdd)return!n.isOdd(Ke);throw new Error("Field doesn't support isOdd")}equals(Ke){I(Ke);const{px:rt,py:ht,pz:ct}=this,{px:dt,py:At,pz:Pt}=Ke,Ct=n.eql(n.mul(rt,Pt),n.mul(dt,ct)),zt=n.eql(n.mul(ht,Pt),n.mul(At,ct));return Ct&&zt}negate(){return new q(this.px,n.neg(this.py),this.pz)}double(){const{a:Ke,b:rt}=t,ht=n.mul(rt,H0),{px:ct,py:dt,pz:At}=this;let Pt=n.ZERO,Ct=n.ZERO,zt=n.ZERO,Xt=n.mul(ct,ct),xn=n.mul(dt,dt),Cn=n.mul(At,At),Nn=n.mul(ct,dt);return Nn=n.add(Nn,Nn),zt=n.mul(ct,At),zt=n.add(zt,zt),Pt=n.mul(Ke,zt),Ct=n.mul(ht,Cn),Ct=n.add(Pt,Ct),Pt=n.sub(xn,Ct),Ct=n.add(xn,Ct),Ct=n.mul(Pt,Ct),Pt=n.mul(Nn,Pt),zt=n.mul(ht,zt),Cn=n.mul(Ke,Cn),Nn=n.sub(Xt,Cn),Nn=n.mul(Ke,Nn),Nn=n.add(Nn,zt),zt=n.add(Xt,Xt),Xt=n.add(zt,Xt),Xt=n.add(Xt,Cn),Xt=n.mul(Xt,Nn),Ct=n.add(Ct,Xt),Cn=n.mul(dt,At),Cn=n.add(Cn,Cn),Xt=n.mul(Cn,Nn),Pt=n.sub(Pt,Xt),zt=n.mul(Cn,xn),zt=n.add(zt,zt),zt=n.add(zt,zt),new q(Pt,Ct,zt)}add(Ke){I(Ke);const{px:rt,py:ht,pz:ct}=this,{px:dt,py:At,pz:Pt}=Ke;let Ct=n.ZERO,zt=n.ZERO,Xt=n.ZERO;const xn=t.a,Cn=n.mul(t.b,H0);let Nn=n.mul(rt,dt),ir=n.mul(ht,At),Pn=n.mul(ct,Pt),Hn=n.add(rt,ht),ln=n.add(dt,At);Hn=n.mul(Hn,ln),ln=n.add(Nn,ir),Hn=n.sub(Hn,ln),ln=n.add(rt,ct);let vn=n.add(dt,Pt);return ln=n.mul(ln,vn),vn=n.add(Nn,Pn),ln=n.sub(ln,vn),vn=n.add(ht,ct),Ct=n.add(At,Pt),vn=n.mul(vn,Ct),Ct=n.add(ir,Pn),vn=n.sub(vn,Ct),Xt=n.mul(xn,ln),Ct=n.mul(Cn,Pn),Xt=n.add(Ct,Xt),Ct=n.sub(ir,Xt),Xt=n.add(ir,Xt),zt=n.mul(Ct,Xt),ir=n.add(Nn,Nn),ir=n.add(ir,Nn),Pn=n.mul(xn,Pn),ln=n.mul(Cn,ln),ir=n.add(ir,Pn),Pn=n.sub(Nn,Pn),Pn=n.mul(xn,Pn),ln=n.add(ln,Pn),Nn=n.mul(ir,ln),zt=n.add(zt,Nn),Nn=n.mul(vn,ln),Ct=n.mul(Hn,Ct),Ct=n.sub(Ct,Nn),Nn=n.mul(Hn,ir),Xt=n.mul(vn,Xt),Xt=n.add(Xt,Nn),new q(Ct,zt,Xt)}subtract(Ke){return this.add(Ke.negate())}is0(){return this.equals(q.ZERO)}wNAF(Ke){return Be.wNAFCached(this,$,Ke,rt=>{const ht=n.invertBatch(rt.map(ct=>ct.pz));return rt.map((ct,dt)=>ct.toAffine(ht[dt])).map(q.fromAffine)})}multiplyUnsafe(Ke){const rt=q.ZERO;if(Ke===lf)return rt;if(h(Ke),Ke===Ha)return this;const{endo:ht}=t;if(!ht)return Be.unsafeLadder(this,Ke);let{k1neg:ct,k1:dt,k2neg:At,k2:Pt}=ht.splitScalar(Ke),Ct=rt,zt=rt,Xt=this;for(;dt>lf||Pt>lf;)dt&Ha&&(Ct=Ct.add(Xt)),Pt&Ha&&(zt=zt.add(Xt)),Xt=Xt.double(),dt>>=Ha,Pt>>=Ha;return ct&&(Ct=Ct.negate()),At&&(zt=zt.negate()),zt=new q(n.mul(zt.px,ht.beta),zt.py,zt.pz),Ct.add(zt)}multiply(Ke){h(Ke);let ht,ct,rt=Ke;const{endo:dt}=t;if(dt){const{k1neg:At,k1:Pt,k2neg:Ct,k2:zt}=dt.splitScalar(rt);let{p:Xt,f:xn}=this.wNAF(Pt),{p:Cn,f:Nn}=this.wNAF(zt);Xt=Be.constTimeNegate(At,Xt),Cn=Be.constTimeNegate(Ct,Cn),Cn=new q(n.mul(Cn.px,dt.beta),Cn.py,Cn.pz),ht=Xt.add(Cn),ct=xn.add(Nn)}else{const{p:At,f:Pt}=this.wNAF(rt);ht=At,ct=Pt}return q.normalizeZ([ht,ct])[0]}multiplyAndAddUnsafe(Ke,rt,ht){const ct=q.BASE,dt=(Pt,Ct)=>Ct!==lf&&Ct!==Ha&&Pt.equals(ct)?Pt.multiply(Ct):Pt.multiplyUnsafe(Ct),At=dt(this,rt).add(dt(Ke,ht));return At.is0()?void 0:At}toAffine(Ke){const{px:rt,py:ht,pz:ct}=this,dt=this.is0();null==Ke&&(Ke=dt?n.ONE:n.inv(ct));const At=n.mul(rt,Ke),Pt=n.mul(ht,Ke),Ct=n.mul(ct,Ke);if(dt)return{x:n.ZERO,y:n.ZERO};if(!n.eql(Ct,n.ONE))throw new Error("invZ was invalid");return{x:At,y:Pt}}isTorsionFree(){const{h:Ke,isTorsionFree:rt}=t;if(Ke===Ha)return!0;if(rt)return rt(q,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Ke,clearCofactor:rt}=t;return Ke===Ha?this:rt?rt(q,this):this.multiplyUnsafe(t.h)}toRawBytes(Ke=!0){return this.assertValidity(),i(q,this,Ke)}toHex(Ke=!0){return $0(this.toRawBytes(Ke))}}q.BASE=new q(t.Gx,t.Gy,n.ONE),q.ZERO=new q(n.ZERO,n.ONE,n.ZERO);const Ce=t.nBitLength,Be=iw(q,t.endo?Math.ceil(Ce/2):Ce);return{CURVE:t,ProjectivePoint:q,normPrivateKeyToScalar:V,weierstrassEquation:p,isWithinCurveOrder:c}}({...t,toBytes(ln,vn,wn){const Un=vn.toAffine(),Sn=n.toBytes(Un.x),Vn=Ig;return wn?Vn(Uint8Array.from([vn.hasEvenY()?2:3]),Sn):Vn(Uint8Array.from([4]),Sn,n.toBytes(Un.y))},fromBytes(ln){const vn=ln.length,wn=ln[0],Un=ln.subarray(1);if(vn!==l||2!==wn&&3!==wn){if(vn===p&&4===wn)return{x:n.fromBytes(Un.subarray(0,n.BYTES)),y:n.fromBytes(Un.subarray(n.BYTES,2*n.BYTES))};throw new Error(`Point of length ${vn} was invalid. Expected ${l} compressed bytes or ${p} uncompressed bytes`)}{const Sn=Dg(Un);if(!function c(ln){return lf<ln&&ln<n.ORDER}(Sn))throw new Error("Point is not on curve");const Vn=q(Sn);let lr=n.sqrt(Vn);return!(1&~wn)!=((lr&Ha)===Ha)&&(lr=n.neg(lr)),{x:Sn,y:lr}}}}),Be=ln=>$0(Sp(ln,t.nByteLength));function Pe(ln){return ln>i>>Ha}const rt=(ln,vn,wn)=>Dg(ln.slice(vn,wn));class ht{constructor(vn,wn,Un){this.r=vn,this.s=wn,this.recovery=Un,this.assertValidity()}static fromCompact(vn){const wn=t.nByteLength;return vn=tc("compactSignature",vn,2*wn),new ht(rt(vn,0,wn),rt(vn,wn,2*wn))}static fromDER(vn){const{r:wn,s:Un}=z0.toSig(tc("DER",vn));return new ht(wn,Un)}assertValidity(){if(!Ce(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!Ce(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(vn){return new ht(this.r,this.s,vn)}recoverPublicKey(vn){const{r:wn,s:Un,recovery:Sn}=this,Vn=zt(tc("msgHash",vn));if(null==Sn||![0,1,2,3].includes(Sn))throw new Error("recovery id invalid");const lr=2===Sn||3===Sn?wn+t.n:wn;if(lr>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const yn=$.fromHex((1&Sn?"03":"02")+Be(lr)),dr=V(lr),xr=h(-Vn*dr),Zn=h(Un*dr),On=$.BASE.multiplyAndAddUnsafe(yn,xr,Zn);if(!On)throw new Error("point at infinify");return On.assertValidity(),On}hasHighS(){return Pe(this.s)}normalizeS(){return this.hasHighS()?new ht(this.r,h(-this.s),this.recovery):this}toDERRawBytes(){return tw(this.toDERHex())}toDERHex(){return z0.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return tw(this.toCompactHex())}toCompactHex(){return Be(this.r)+Be(this.s)}}const ct={isValidPrivateKey(ln){try{return I(ln),!0}catch{return!1}},normPrivateKeyToScalar:I,randomPrivateKey:()=>{const ln=ZC(t.n);return function UM(r,t,n=!1){const i=r.length,l=LM(t),p=ZC(t);if(i<16||i<p||i>1024)throw new Error(`expected ${p}-1024 bytes of input, got ${i}`);const h=ia(n?Dg(r):K0(r),t-Gs)+Gs;return n?nw(h,l):Sp(h,l)}(t.randomBytes(ln),t.n)},precompute:(ln=8,vn=$.BASE)=>(vn._setWindowSize(ln),vn.multiply(BigInt(3)),vn)};function At(ln){const vn=Gf(ln),wn="string"==typeof ln,Un=(vn||wn)&&ln.length;return vn?Un===l||Un===p:wn?Un===2*l||Un===2*p:ln instanceof $}const Ct=t.bits2int||function(ln){const vn=Dg(ln),wn=8*ln.length-t.nBitLength;return wn>0?vn>>BigInt(wn):vn},zt=t.bits2int_modN||function(ln){return h(Ct(ln))},Xt=RM(t.nBitLength);function xn(ln){if("bigint"!=typeof ln)throw new Error("bigint expected");if(!(lf<=ln&&ln<Xt))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Sp(ln,t.nByteLength)}const Nn={lowS:t.lowS,prehash:!1},ir={lowS:t.lowS,prehash:!1};return $.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function dt(ln,vn=!0){return $.fromPrivateKey(ln).toRawBytes(vn)},getSharedSecret:function Pt(ln,vn,wn=!0){if(At(ln))throw new Error("first arg must be private key");if(!At(vn))throw new Error("second arg must be public key");return $.fromHex(vn).multiply(I(ln)).toRawBytes(wn)},sign:function Pn(ln,vn,wn=Nn){const{seed:Un,k2sig:Sn}=function Cn(ln,vn,wn=Nn){if(["recovered","canonical"].some(mr=>mr in wn))throw new Error("sign() legacy options not supported");const{hash:Un,randomBytes:Sn}=t;let{lowS:Vn,prehash:lr,extraEntropy:cr}=wn;null==Vn&&(Vn=!0),ln=tc("msgHash",ln),lr&&(ln=tc("prehashed msgHash",Un(ln)));const yn=zt(ln),dr=I(vn),xr=[xn(dr),xn(yn)];if(null!=cr){const mr=!0===cr?Sn(n.BYTES):cr;xr.push(tc("extraEntropy",mr))}const Zn=Ig(...xr),On=yn;return{seed:Zn,k2sig:function qn(mr){const kr=Ct(mr);if(!Ce(kr))return;const Nr=V(kr),Mr=$.BASE.multiply(kr).toAffine(),Dr=h(Mr.x);if(Dr===lf)return;const ui=h(Nr*h(On+Dr*dr));if(ui===lf)return;let Zs=(Mr.x===Dr?0:2)|Number(Mr.y&Ha),yr=ui;return Vn&&Pe(ui)&&(yr=function Ke(ln){return Pe(ln)?h(-ln):ln}(ui),Zs^=1),new ht(Dr,yr,Zs)}}}(ln,vn,wn);return $C(t.hash.outputLen,t.nByteLength,t.hmac)(Un,Sn)},verify:function Hn(ln,vn,wn,Un=ir){const Sn=ln;if(vn=tc("msgHash",vn),wn=tc("publicKey",wn),"strict"in Un)throw new Error("options.strict was renamed to lowS");const{lowS:Vn,prehash:lr}=Un;let cr,yn;try{if("string"==typeof Sn||Gf(Sn))try{cr=ht.fromDER(Sn)}catch(Mr){if(!(Mr instanceof z0.Err))throw Mr;cr=ht.fromCompact(Sn)}else{if("object"!=typeof Sn||"bigint"!=typeof Sn.r||"bigint"!=typeof Sn.s)throw new Error("PARSE");{const{r:Mr,s:Dr}=Sn;cr=new ht(Mr,Dr)}}yn=$.fromHex(wn)}catch(Mr){if("PARSE"===Mr.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Vn&&cr.hasHighS())return!1;lr&&(vn=t.hash(vn));const{r:dr,s:xr}=cr,Zn=zt(vn),On=V(xr),qn=h(Zn*On),mr=h(dr*On),kr=$.BASE.multiplyAndAddUnsafe(yn,qn,mr)?.toAffine();return!!kr&&h(kr.x)===dr},ProjectivePoint:$,Signature:ht,utils:ct}}function sB(r){return{hash:r,hmac:(t,...n)=>FM(r,t,BC(...n)),randomBytes:xp}}function e3(r,t){const n=i=>jR({...r,...sB(i)});return Object.freeze({...n(t),create:n})}BigInt(4);const sw=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),xE=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),t3=BigInt(1),Cg=BigInt(2),n3=(r,t)=>(r+t/Cg)/t;const jM=NM(sw,void 0,void 0,{sqrt:function SE(r){const t=sw,n=BigInt(3),i=BigInt(6),l=BigInt(11),p=BigInt(22),c=BigInt(23),h=BigInt(44),V=BigInt(88),$=r*r*r%t,I=$*$*r%t,q=za(I,n,t)*I%t,Ce=za(q,n,t)*I%t,Be=za(Ce,Cg,t)*$%t,Pe=za(Be,l,t)*Be%t,Ke=za(Pe,p,t)*Pe%t,rt=za(Ke,h,t)*Ke%t,ht=za(rt,V,t)*rt%t,ct=za(ht,h,t)*Ke%t,dt=za(ct,n,t)*I%t,At=za(dt,c,t)*Pe%t,Pt=za(At,i,t)*$%t,Ct=za(Pt,Cg,t);if(!jM.eql(jM.sqr(Ct),r))throw new Error("Cannot find square root");return Ct}}),Dd=e3({a:BigInt(0),b:BigInt(7),Fp:jM,n:xE,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const t=xE,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-t3*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),l=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),p=n,c=BigInt("0x100000000000000000000000000000000"),h=n3(p*r,t),V=n3(-i*r,t);let $=ia(r-h*n-V*l,t),I=ia(-h*i-V*p,t);const q=$>c,Ce=I>c;if(q&&($=t-$),Ce&&(I=t-I),$>c||I>c)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:q,k1:$,k2neg:Ce,k2:I}}}},j0);BigInt(0);const WR="urn:jwk:";function Xs({jwk:r}){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const t=r.kty;let n;if("EC"===t)n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===t)n={k:r.k,kty:r.kty};else if("OKP"===t)n={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);n={e:r.e,kty:r.kty,n:r.n}}(0,nr.E8)(n);const i=function fB(r){const t=i=>{if(null!==i&&"object"==typeof i&&!Array.isArray(i)){const l=Object.keys(i).sort(),p={};for(const c of l)p[c]=t(i[c]);return p}return i},n=t(r);return JSON.stringify(n)}(n),l=nr.U$.string(i).toUint8Array(),p=yield LC.digest({data:l});return nr.U$.uint8Array(p).toBase64Url()})}function Pg(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"EC"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function c3(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r)||"d"in r||"EC"!==r.kty||"string"!=typeof r.x)}function Sm(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"OKP"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function AE(r){return!(!r||"object"!=typeof r||"d"in r||!("kty"in r&&"crv"in r&&"x"in r)||"OKP"!==r.kty||"string"!=typeof r.x)}var id=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class nc{static adjustSignatureToLowS({signature:t}){return id(this,void 0,void 0,function*(){const n=Dd.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return id(this,void 0,void 0,function*(){const n=yield nc.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",d:nr.U$.uint8Array(t).toBase64Url(),x:nr.U$.uint8Array(n.x).toBase64Url(),y:nr.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Xs({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return id(this,void 0,void 0,function*(){const n=yield nc.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",x:nr.U$.uint8Array(n.x).toBase64Url(),y:nr.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Xs({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return id(this,void 0,void 0,function*(){return Dd.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return id(this,void 0,void 0,function*(){const n=yield nc.privateKeyToBytes({privateKey:t}),i=yield nc.getCurvePoint({keyBytes:n}),l={kty:"EC",crv:"secp256k1",x:nr.U$.uint8Array(i.x).toBase64Url(),y:nr.U$.uint8Array(i.y).toBase64Url()};return l.kid=yield Xs({jwk:l}),l})}static convertDerToCompactSignature({derSignature:t}){return id(this,void 0,void 0,function*(){return Dd.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return id(this,void 0,void 0,function*(){return Dd.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return id(this,void 0,void 0,function*(){const t=Dd.utils.randomPrivateKey(),n=yield nc.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Xs({jwk:n}),n})}static getPublicKey({key:t}){var n;return id(this,void 0,void 0,function*(){if(!Pg(t)||"secp256k1"!==t.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["d"]);return null!==(n=l.kid)&&void 0!==n||(l.kid=yield Xs({jwk:l})),l})}static privateKeyToBytes({privateKey:t}){return id(this,void 0,void 0,function*(){if(!Pg(t))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return nr.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return id(this,void 0,void 0,function*(){if(!c3(t)||!t.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=nr.U$.base64Url(t.x).toUint8Array(),l=nr.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...l])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return id(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield nc.privateKeyToBytes({privateKey:t}),l=yield nc.publicKeyToBytes({publicKey:n});return Dd.getSharedSecret(i,l,!0).slice(1)})}static sign({data:t,key:n}){return id(this,void 0,void 0,function*(){const i=yield nc.privateKeyToBytes({privateKey:n}),l=j0(t);return Dd.sign(l,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return id(this,void 0,void 0,function*(){return Dd.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return id(this,void 0,void 0,function*(){try{Dd.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return id(this,void 0,void 0,function*(){const l=yield nc.publicKeyToBytes({publicKey:t}),p=j0(i);return Dd.verify(n,p,l,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return id(this,void 0,void 0,function*(){32===t.byteLength&&(t=Dd.getPublicKey(t));const n=Dd.ProjectivePoint.fromHex(t);return{x:Sp(n.x,32),y:Sp(n.y,32)}})}}const XR=NM(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),df=e3({a:XR.create(BigInt("-3")),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Fp:XR,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},j0);var $c=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class rc{static adjustSignatureToLowS({signature:t}){return $c(this,void 0,void 0,function*(){const n=df.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return $c(this,void 0,void 0,function*(){const n=yield rc.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",d:nr.U$.uint8Array(t).toBase64Url(),x:nr.U$.uint8Array(n.x).toBase64Url(),y:nr.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Xs({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return $c(this,void 0,void 0,function*(){const n=yield rc.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",x:nr.U$.uint8Array(n.x).toBase64Url(),y:nr.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Xs({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return $c(this,void 0,void 0,function*(){return df.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return $c(this,void 0,void 0,function*(){const n=yield rc.privateKeyToBytes({privateKey:t}),i=yield rc.getCurvePoint({keyBytes:n}),l={kty:"EC",crv:"P-256",x:nr.U$.uint8Array(i.x).toBase64Url(),y:nr.U$.uint8Array(i.y).toBase64Url()};return l.kid=yield Xs({jwk:l}),l})}static convertDerToCompactSignature({derSignature:t}){return $c(this,void 0,void 0,function*(){return df.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return $c(this,void 0,void 0,function*(){return df.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return $c(this,void 0,void 0,function*(){const t=df.utils.randomPrivateKey(),n=yield rc.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Xs({jwk:n}),n})}static getPublicKey({key:t}){var n;return $c(this,void 0,void 0,function*(){if(!Pg(t)||"P-256"!==t.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["d"]);return null!==(n=l.kid)&&void 0!==n||(l.kid=yield Xs({jwk:l})),l})}static privateKeyToBytes({privateKey:t}){return $c(this,void 0,void 0,function*(){if(!Pg(t))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return nr.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return $c(this,void 0,void 0,function*(){if(!c3(t)||!t.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=nr.U$.base64Url(t.x).toUint8Array(),l=nr.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...l])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return $c(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield rc.privateKeyToBytes({privateKey:t}),l=yield rc.publicKeyToBytes({publicKey:n});return df.getSharedSecret(i,l,!0).slice(1)})}static sign({data:t,key:n}){return $c(this,void 0,void 0,function*(){const i=yield rc.privateKeyToBytes({privateKey:n}),l=j0(t);return df.sign(l,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return $c(this,void 0,void 0,function*(){return df.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return $c(this,void 0,void 0,function*(){try{df.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return $c(this,void 0,void 0,function*(){const l=yield rc.publicKeyToBytes({publicKey:t}),p=j0(i);return df.verify(n,p,l,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return $c(this,void 0,void 0,function*(){32===t.byteLength&&(t=df.getPublicKey(t));const n=df.ProjectivePoint.fromHex(t);return{x:Sp(n.x,32),y:Sp(n.y,32)}})}}var W0=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class TE extends DM{computePublicKey({key:t}){return W0(this,void 0,void 0,function*(){if(!Pg(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield nc.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield rc.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return W0(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield nc.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield rc.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return W0(this,void 0,void 0,function*(){if(!Pg(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield nc.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield rc.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}sign({key:t,data:n}){return W0(this,void 0,void 0,function*(){if(!Pg(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield nc.sign({key:t,data:n});case"P-256":return yield rc.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return W0(this,void 0,void 0,function*(){if(!c3(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield nc.verify({key:t,signature:n,data:i});case"P-256":return yield rc.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}const G0=BigInt(2**32-1),d3=BigInt(32);function JR(r,t=!1){return t?{h:Number(r&G0),l:Number(r>>d3&G0)}:{h:0|Number(r>>d3&G0),l:0|Number(r&G0)}}const zo_split=function vB(r,t=!1){let n=new Uint32Array(r.length),i=new Uint32Array(r.length);for(let l=0;l<r.length;l++){const{h:p,l:c}=JR(r[l],t);[n[l],i[l]]=[p,c]}return[n,i]},zo_shrSH=(r,t,n)=>r>>>n,zo_shrSL=(r,t,n)=>r<<32-n|t>>>n,zo_rotrSH=(r,t,n)=>r>>>n|t<<32-n,zo_rotrSL=(r,t,n)=>r<<32-n|t>>>n,zo_rotrBH=(r,t,n)=>r<<64-n|t>>>n-32,zo_rotrBL=(r,t,n)=>r>>>n-32|t<<64-n,zo_add=function y3(r,t,n,i){const l=(t>>>0)+(i>>>0);return{h:r+n+(l/2**32|0)|0,l:0|l}},zo_add3L=(r,t,n)=>(r>>>0)+(t>>>0)+(n>>>0),zo_add3H=(r,t,n,i)=>t+n+i+(r/2**32|0)|0,zo_add4L=(r,t,n,i)=>(r>>>0)+(t>>>0)+(n>>>0)+(i>>>0),zo_add4H=(r,t,n,i,l)=>t+n+i+l+(r/2**32|0)|0,zo_add5H=(r,t,n,i,l,p)=>t+n+i+l+p+(r/2**32|0)|0,zo_add5L=(r,t,n,i,l)=>(r>>>0)+(t>>>0)+(n>>>0)+(i>>>0)+(l>>>0),[Kc,cw]=zo_split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),Xf=new Uint32Array(80),Zf=new Uint32Array(80);class lw extends MM{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:i,Bl:l,Ch:p,Cl:c,Dh:h,Dl:V,Eh:$,El:I,Fh:q,Fl:Ce,Gh:Be,Gl:Pe,Hh:Ke,Hl:rt}=this;return[t,n,i,l,p,c,h,V,$,I,q,Ce,Be,Pe,Ke,rt]}set(t,n,i,l,p,c,h,V,$,I,q,Ce,Be,Pe,Ke,rt){this.Ah=0|t,this.Al=0|n,this.Bh=0|i,this.Bl=0|l,this.Ch=0|p,this.Cl=0|c,this.Dh=0|h,this.Dl=0|V,this.Eh=0|$,this.El=0|I,this.Fh=0|q,this.Fl=0|Ce,this.Gh=0|Be,this.Gl=0|Pe,this.Hh=0|Ke,this.Hl=0|rt}process(t,n){for(let dt=0;dt<16;dt++,n+=4)Xf[dt]=t.getUint32(n),Zf[dt]=t.getUint32(n+=4);for(let dt=16;dt<80;dt++){const At=0|Xf[dt-15],Pt=0|Zf[dt-15],Ct=zo_rotrSH(At,Pt,1)^zo_rotrSH(At,Pt,8)^zo_shrSH(At,Pt,7),zt=zo_rotrSL(At,Pt,1)^zo_rotrSL(At,Pt,8)^zo_shrSL(At,Pt,7),Xt=0|Xf[dt-2],xn=0|Zf[dt-2],Cn=zo_rotrSH(Xt,xn,19)^zo_rotrBH(Xt,xn,61)^zo_shrSH(Xt,xn,6),Nn=zo_rotrSL(Xt,xn,19)^zo_rotrBL(Xt,xn,61)^zo_shrSL(Xt,xn,6),ir=zo_add4L(zt,Nn,Zf[dt-7],Zf[dt-16]),Pn=zo_add4H(ir,Ct,Cn,Xf[dt-7],Xf[dt-16]);Xf[dt]=0|Pn,Zf[dt]=0|ir}let{Ah:i,Al:l,Bh:p,Bl:c,Ch:h,Cl:V,Dh:$,Dl:I,Eh:q,El:Ce,Fh:Be,Fl:Pe,Gh:Ke,Gl:rt,Hh:ht,Hl:ct}=this;for(let dt=0;dt<80;dt++){const At=zo_rotrSH(q,Ce,14)^zo_rotrSH(q,Ce,18)^zo_rotrBH(q,Ce,41),Pt=zo_rotrSL(q,Ce,14)^zo_rotrSL(q,Ce,18)^zo_rotrBL(q,Ce,41),Ct=q&Be^~q&Ke,Xt=zo_add5L(ct,Pt,Ce&Pe^~Ce&rt,cw[dt],Zf[dt]),xn=zo_add5H(Xt,ht,At,Ct,Kc[dt],Xf[dt]),Cn=0|Xt,Nn=zo_rotrSH(i,l,28)^zo_rotrBH(i,l,34)^zo_rotrBH(i,l,39),ir=zo_rotrSL(i,l,28)^zo_rotrBL(i,l,34)^zo_rotrBL(i,l,39),Pn=i&p^i&h^p&h,Hn=l&c^l&V^c&V;ht=0|Ke,ct=0|rt,Ke=0|Be,rt=0|Pe,Be=0|q,Pe=0|Ce,({h:q,l:Ce}=zo_add(0|$,0|I,0|xn,0|Cn)),$=0|h,I=0|V,h=0|p,V=0|c,p=0|i,c=0|l;const ln=zo_add3L(Cn,ir,Hn);i=zo_add3H(ln,xn,Nn,Pn),l=0|ln}({h:i,l}=zo_add(0|this.Ah,0|this.Al,0|i,0|l)),({h:p,l:c}=zo_add(0|this.Bh,0|this.Bl,0|p,0|c)),({h,l:V}=zo_add(0|this.Ch,0|this.Cl,0|h,0|V)),({h:$,l:I}=zo_add(0|this.Dh,0|this.Dl,0|$,0|I)),({h:q,l:Ce}=zo_add(0|this.Eh,0|this.El,0|q,0|Ce)),({h:Be,l:Pe}=zo_add(0|this.Fh,0|this.Fl,0|Be,0|Pe)),({h:Ke,l:rt}=zo_add(0|this.Gh,0|this.Gl,0|Ke,0|rt)),({h:ht,l:ct}=zo_add(0|this.Hh,0|this.Hl,0|ht,0|ct)),this.set(i,l,p,c,h,V,$,I,q,Ce,Be,Pe,Ke,rt,ht,ct)}roundClean(){Xf.fill(0),Zf.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const iO=SM(()=>new lw),uf=BigInt(0),Xd=BigInt(1),dw=BigInt(2),sO=BigInt(8),aO={zip215:!0};function WM(r){const t=function b3(r){const t=JC(r);return V0(r,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(r),{Fp:n,n:i,prehash:l,hash:p,randomBytes:c,nByteLength:h,h:V}=t,$=dw<<BigInt(8*h)-Xd,I=n.create,q=t.uvRatio||((Un,Sn)=>{try{return{isValid:!0,value:n.sqrt(Un*n.inv(Sn))}}catch{return{isValid:!1,value:uf}}}),Ce=t.adjustScalarBytes||(Un=>Un),Be=t.domain||((Un,Sn,Vn)=>{if(Sn.length||Vn)throw new Error("Contexts/pre-hash are not supported");return Un}),Pe=Un=>"bigint"==typeof Un&&uf<Un,Ke=(Un,Sn)=>Pe(Un)&&Pe(Sn)&&Un<Sn,rt=Un=>Un===uf||Ke(Un,$);function ht(Un,Sn){if(Ke(Un,Sn))return Un;throw new Error(`Expected valid scalar < ${Sn}, got ${typeof Un} ${Un}`)}function ct(Un){return Un===uf?Un:ht(Un,i)}const dt=new Map;function At(Un){if(!(Un instanceof Pt))throw new Error("ExtendedPoint expected")}class Pt{constructor(Sn,Vn,lr,cr){if(this.ex=Sn,this.ey=Vn,this.ez=lr,this.et=cr,!rt(Sn))throw new Error("x required");if(!rt(Vn))throw new Error("y required");if(!rt(lr))throw new Error("z required");if(!rt(cr))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Sn){if(Sn instanceof Pt)throw new Error("extended point not allowed");const{x:Vn,y:lr}=Sn||{};if(!rt(Vn)||!rt(lr))throw new Error("invalid affine point");return new Pt(Vn,lr,Xd,I(Vn*lr))}static normalizeZ(Sn){const Vn=n.invertBatch(Sn.map(lr=>lr.ez));return Sn.map((lr,cr)=>lr.toAffine(Vn[cr])).map(Pt.fromAffine)}_setWindowSize(Sn){this._WINDOW_SIZE=Sn,dt.delete(this)}assertValidity(){const{a:Sn,d:Vn}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:lr,ey:cr,ez:yn,et:dr}=this,xr=I(lr*lr),Zn=I(cr*cr),On=I(yn*yn),qn=I(On*On),mr=I(xr*Sn);if(I(On*I(mr+Zn))!==I(qn+I(Vn*I(xr*Zn))))throw new Error("bad point: equation left != right (1)");if(I(lr*cr)!==I(yn*dr))throw new Error("bad point: equation left != right (2)")}equals(Sn){At(Sn);const{ex:Vn,ey:lr,ez:cr}=this,{ex:yn,ey:dr,ez:xr}=Sn,Zn=I(Vn*xr),On=I(yn*cr),qn=I(lr*xr),mr=I(dr*cr);return Zn===On&&qn===mr}is0(){return this.equals(Pt.ZERO)}negate(){return new Pt(I(-this.ex),this.ey,this.ez,I(-this.et))}double(){const{a:Sn}=t,{ex:Vn,ey:lr,ez:cr}=this,yn=I(Vn*Vn),dr=I(lr*lr),xr=I(dw*I(cr*cr)),Zn=I(Sn*yn),On=Vn+lr,qn=I(I(On*On)-yn-dr),mr=Zn+dr,kr=mr-xr,Nr=Zn-dr,Mr=I(qn*kr),Dr=I(mr*Nr),ui=I(qn*Nr),Zs=I(kr*mr);return new Pt(Mr,Dr,Zs,ui)}add(Sn){At(Sn);const{a:Vn,d:lr}=t,{ex:cr,ey:yn,ez:dr,et:xr}=this,{ex:Zn,ey:On,ez:qn,et:mr}=Sn;if(Vn===BigInt(-1)){const Jo=I((yn-cr)*(On+Zn)),qo=I((yn+cr)*(On-Zn)),Ys=I(qo-Jo);if(Ys===uf)return this.double();const cs=I(dr*dw*mr),Di=I(xr*dw*qn),ls=Di+cs,ld=qo+Jo,_c=Di-cs,Wc=I(ls*Ys),FF=I(ld*_c),Bw=I(ls*_c),jF=I(Ys*ld);return new Pt(Wc,FF,jF,Bw)}const kr=I(cr*Zn),Nr=I(yn*On),Mr=I(xr*lr*mr),Dr=I(dr*qn),ui=I((cr+yn)*(Zn+On)-kr-Nr),Zs=Dr-Mr,yr=Dr+Mr,Ri=I(Nr-Vn*kr),Bi=I(ui*Zs),wi=I(yr*Ri),Ps=I(ui*Ri),cd=I(Zs*yr);return new Pt(Bi,wi,cd,Ps)}subtract(Sn){return this.add(Sn.negate())}wNAF(Sn){return Xt.wNAFCached(this,dt,Sn,Pt.normalizeZ)}multiply(Sn){const{p:Vn,f:lr}=this.wNAF(ht(Sn,i));return Pt.normalizeZ([Vn,lr])[0]}multiplyUnsafe(Sn){let Vn=ct(Sn);return Vn===uf?zt:this.equals(zt)||Vn===Xd?this:this.equals(Ct)?this.wNAF(Vn).p:Xt.unsafeLadder(this,Vn)}isSmallOrder(){return this.multiplyUnsafe(V).is0()}isTorsionFree(){return Xt.unsafeLadder(this,i).is0()}toAffine(Sn){const{ex:Vn,ey:lr,ez:cr}=this,yn=this.is0();null==Sn&&(Sn=yn?sO:n.inv(cr));const dr=I(Vn*Sn),xr=I(lr*Sn),Zn=I(cr*Sn);if(yn)return{x:uf,y:Xd};if(Zn!==Xd)throw new Error("invZ was invalid");return{x:dr,y:xr}}clearCofactor(){const{h:Sn}=t;return Sn===Xd?this:this.multiplyUnsafe(Sn)}static fromHex(Sn,Vn=!1){const{d:lr,a:cr}=t,yn=n.BYTES,dr=(Sn=tc("pointHex",Sn,yn)).slice(),xr=Sn[yn-1];dr[yn-1]=-129&xr;const Zn=K0(dr);Zn===uf||ht(Zn,Vn?$:n.ORDER);const On=I(Zn*Zn),qn=I(On-Xd),mr=I(lr*On-cr);let{isValid:kr,value:Nr}=q(qn,mr);if(!kr)throw new Error("Point.fromHex: invalid y coordinate");const Mr=(Nr&Xd)===Xd,Dr=!!(128&xr);if(!Vn&&Nr===uf&&Dr)throw new Error("Point.fromHex: x=0 and x_0=1");return Dr!==Mr&&(Nr=I(-Nr)),Pt.fromAffine({x:Nr,y:Zn})}static fromPrivateKey(Sn){return Nn(Sn).point}toRawBytes(){const{x:Sn,y:Vn}=this.toAffine(),lr=nw(Vn,n.BYTES);return lr[lr.length-1]|=Sn&Xd?128:0,lr}toHex(){return $0(this.toRawBytes())}}Pt.BASE=new Pt(t.Gx,t.Gy,Xd,I(t.Gx*t.Gy)),Pt.ZERO=new Pt(uf,Xd,Xd,uf);const{BASE:Ct,ZERO:zt}=Pt,Xt=iw(Pt,8*h);function xn(Un){return ia(Un,i)}function Cn(Un){return xn(K0(Un))}function Nn(Un){const Sn=h;Un=tc("private key",Un,Sn);const Vn=tc("hashed private key",p(Un),2*Sn),lr=Ce(Vn.slice(0,Sn)),cr=Vn.slice(Sn,2*Sn),yn=Cn(lr),dr=Ct.multiply(yn),xr=dr.toRawBytes();return{head:lr,prefix:cr,scalar:yn,point:dr,pointBytes:xr}}function Pn(Un=new Uint8Array,...Sn){const Vn=Ig(...Sn);return Cn(p(Be(Vn,tc("context",Un),!!l)))}const ln=aO;return Ct._setWindowSize(8),{CURVE:t,getPublicKey:function ir(Un){return Nn(Un).pointBytes},sign:function Hn(Un,Sn,Vn={}){Un=tc("message",Un),l&&(Un=l(Un));const{prefix:lr,scalar:cr,pointBytes:yn}=Nn(Sn),dr=Pn(Vn.context,lr,Un),xr=Ct.multiply(dr).toRawBytes(),On=xn(dr+Pn(Vn.context,xr,yn,Un)*cr);return ct(On),tc("result",Ig(xr,nw(On,n.BYTES)),2*h)},verify:function vn(Un,Sn,Vn,lr=ln){const{context:cr,zip215:yn}=lr,dr=n.BYTES;Un=tc("signature",Un,2*dr),Sn=tc("message",Sn),l&&(Sn=l(Sn));const xr=K0(Un.slice(dr,2*dr));let Zn,On,qn;try{Zn=Pt.fromHex(Vn,yn),On=Pt.fromHex(Un.slice(0,dr),yn),qn=Ct.multiplyUnsafe(xr)}catch{return!1}if(!yn&&Zn.isSmallOrder())return!1;const mr=Pn(cr,On.toRawBytes(),Zn.toRawBytes(),Sn);return On.add(Zn.multiplyUnsafe(mr)).subtract(qn).clearCofactor().equals(Pt.ZERO)},ExtendedPoint:Pt,utils:{getExtendedPublicKey:Nn,randomPrivateKey:()=>c(n.BYTES),precompute:(Un=8,Sn=Pt.BASE)=>(Sn._setWindowSize(Un),Sn.multiply(BigInt(3)),Sn)}}}const Ng=BigInt(0),Lg=BigInt(1),Ug=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),GM=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Ap=(BigInt(0),BigInt(1)),XM=BigInt(2),cO=BigInt(5),w3=BigInt(10),MB=BigInt(20),_3=BigInt(40),ZM=BigInt(80);function lO(r){const t=Ug,i=r*r%t*r%t,l=za(i,XM,t)*i%t,p=za(l,Ap,t)*r%t,c=za(p,cO,t)*p%t,h=za(c,w3,t)*c%t,V=za(h,MB,t)*h%t,$=za(V,_3,t)*V%t,I=za($,ZM,t)*$%t,q=za(I,ZM,t)*$%t,Ce=za(q,w3,t)*c%t;return{pow_p_5_8:za(Ce,XM,t)*r%t,b2:i}}function fw(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}const ai=NM(Ug,void 0,!0),hw={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ai,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:iO,randomBytes:xp,adjustScalarBytes:fw,uvRatio:function E3(r,t){const n=Ug,i=ia(t*t*t,n),l=ia(i*i*t,n);let c=ia(r*i*lO(r*l).pow_p_5_8,n);const h=ia(t*c*c,n),V=c,$=ia(c*GM,n),I=h===r,q=h===ia(-r,n),Ce=h===ia(-r*GM,n);return I&&(c=V),(q||Ce)&&(c=$),((r,t)=>(ia(r,t)&Gs)===Gs)(c,n)&&(c=ia(-c,n)),{isValid:I||q,value:c}}},Vc=WM(hw);const IE=function DE(r){const t=function uw(r){return V0(r,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...r})}(r),{P:n}=t,i=dt=>ia(dt,n),l=t.montgomeryBits,p=Math.ceil(l/8),c=t.nByteLength,h=t.adjustScalarBytes||(dt=>dt),V=t.powPminus2||(dt=>zC(dt,n-BigInt(2),n));function $(dt,At,Pt){const Ct=i(dt*(At-Pt));return[At=i(At-Ct),Pt=i(Pt+Ct)]}function I(dt){if("bigint"==typeof dt&&Ng<=dt&&dt<n)return dt;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const q=(t.a-BigInt(2))/BigInt(4);function Be(dt){return nw(i(dt),p)}function rt(dt,At){const Pt=function Pe(dt){const At=tc("u coordinate",dt,p);return 32===c&&(At[31]&=127),K0(At)}(At),Ct=function Ke(dt){const At=tc("scalar",dt),Pt=At.length;if(Pt!==p&&Pt!==c)throw new Error(`Expected ${p} or ${c} bytes, got ${Pt}`);return K0(h(At))}(dt),zt=function Ce(dt,At){const Pt=I(dt),Ct=I(At),zt=Pt;let Pn,Xt=Lg,xn=Ng,Cn=Pt,Nn=Lg,ir=Ng;for(let ln=BigInt(l-1);ln>=Ng;ln--){const vn=Ct>>ln&Lg;ir^=vn,Pn=$(ir,Xt,Cn),Xt=Pn[0],Cn=Pn[1],Pn=$(ir,xn,Nn),xn=Pn[0],Nn=Pn[1],ir=vn;const wn=Xt+xn,Un=i(wn*wn),Sn=Xt-xn,Vn=i(Sn*Sn),lr=Un-Vn,cr=Cn+Nn,dr=i((Cn-Nn)*wn),xr=i(cr*Sn),Zn=dr+xr,On=dr-xr;Cn=i(Zn*Zn),Nn=i(zt*i(On*On)),Xt=i(Un*Vn),xn=i(lr*(Un+i(q*lr)))}Pn=$(ir,Xt,Cn),Xt=Pn[0],Cn=Pn[1],Pn=$(ir,xn,Nn),xn=Pn[0],Nn=Pn[1];const Hn=V(xn);return i(Xt*Hn)}(Pt,Ct);if(zt===Ng)throw new Error("Invalid private or public key received");return Be(zt)}const ht=Be(t.Gu);function ct(dt){return rt(dt,ht)}return{scalarMult:rt,scalarMultBase:ct,getSharedSecret:(dt,At)=>rt(dt,At),getPublicKey:dt=>ct(dt),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:ht}}({P:Ug,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:r=>{const t=Ug,{pow_p_5_8:n,b2:i}=lO(r);return ia(za(n,BigInt(3),t)*i,t)},adjustScalarBytes:fw,randomBytes:xp}),uO=(ai.ORDER+BigInt(3))/BigInt(8);ai.pow(XM,uO),ai.sqrt(ai.neg(ai.ONE)),BigInt(5),BigInt(8),BigInt(486662),function XC(r,t){if(!r.isOdd)throw new Error("Field doesn't have isOdd");const n=r.sqrt(t);r.isOdd(n)&&r.neg(n)}(ai,ai.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var hf=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class Wa{static bytesToPrivateKey({privateKeyBytes:t}){return hf(this,void 0,void 0,function*(){const n=Vc.getPublicKey(t),i={crv:"Ed25519",d:nr.U$.uint8Array(t).toBase64Url(),kty:"OKP",x:nr.U$.uint8Array(n).toBase64Url()};return i.kid=yield Xs({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return hf(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"Ed25519",x:nr.U$.uint8Array(t).toBase64Url()};return n.kid=yield Xs({jwk:n}),n})}static computePublicKey({key:t}){return hf(this,void 0,void 0,function*(){const n=yield Wa.privateKeyToBytes({privateKey:t}),i=Vc.getPublicKey(n),l={kty:"OKP",crv:"Ed25519",x:nr.U$.uint8Array(i).toBase64Url()};return l.kid=yield Xs({jwk:l}),l})}static convertPrivateKeyToX25519({privateKey:t}){return hf(this,void 0,void 0,function*(){const i=function IB(r){const t=hw.hash(r.subarray(0,32));return hw.adjustScalarBytes(t).subarray(0,32)}(yield Wa.privateKeyToBytes({privateKey:t})),l=IE.getPublicKey(i),p={kty:"OKP",crv:"X25519",d:nr.U$.uint8Array(i).toBase64Url(),x:nr.U$.uint8Array(l).toBase64Url()};return p.kid=yield Xs({jwk:p}),p})}static convertPublicKeyToX25519({publicKey:t}){return hf(this,void 0,void 0,function*(){const n=yield Wa.publicKeyToBytes({publicKey:t});if(!(yield Wa.validatePublicKey({publicKeyBytes:n})))throw new Error("Ed25519: Invalid public key.");const l=function x3(r){const{y:t}=Vc.ExtendedPoint.fromHex(r),n=BigInt(1);return ai.toBytes(ai.create((n+t)*ai.inv(n-t)))}(n),p={kty:"OKP",crv:"X25519",x:nr.U$.uint8Array(l).toBase64Url()};return p.kid=yield Xs({jwk:p}),p})}static generateKey(){return hf(this,void 0,void 0,function*(){const t=Vc.utils.randomPrivateKey(),n=yield Wa.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Xs({jwk:n}),n})}static getPublicKey({key:t}){var n;return hf(this,void 0,void 0,function*(){if(!Sm(t)||"Ed25519"!==t.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["d"]);return null!==(n=l.kid)&&void 0!==n||(l.kid=yield Xs({jwk:l})),l})}static privateKeyToBytes({privateKey:t}){return hf(this,void 0,void 0,function*(){if(!Sm(t))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return nr.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return hf(this,void 0,void 0,function*(){if(!AE(t))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return nr.U$.base64Url(t.x).toUint8Array()})}static sign({key:t,data:n}){return hf(this,void 0,void 0,function*(){const i=yield Wa.privateKeyToBytes({privateKey:t});return Vc.sign(n,i)})}static validatePublicKey({publicKeyBytes:t}){return hf(this,void 0,void 0,function*(){try{Vc.ExtendedPoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return hf(this,void 0,void 0,function*(){const l=yield Wa.publicKeyToBytes({publicKey:t});return Vc.verify(n,i,l)})}}var kE=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},_u=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};const mw={Ed25519:{implementation:class EO extends DM{computePublicKey({key:t}){return kE(this,void 0,void 0,function*(){if(!Sm(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield Wa.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}generateKey({algorithm:t}){return kE(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield Wa.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return kE(this,void 0,void 0,function*(){if(!Sm(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield Wa.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}sign({key:t,data:n}){return kE(this,void 0,void 0,function*(){if(!Sm(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield Wa.sign({key:t,data:n});throw new Error(`Unsupported curve: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return kE(this,void 0,void 0,function*(){if(!AE(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield Wa.verify({key:t,signature:n,data:i});throw new Error(`Unsupported curve: ${t.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:TE,names:["ES256K","secp256k1"]},secp256r1:{implementation:TE,names:["ES256","secp256r1"]},"SHA-256":{implementation:class SR extends DM{digest({algorithm:t,data:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===t)return yield LC.digest({data:n})})}},names:["SHA-256"]}};class Mm{constructor(t){var n;this._algorithmInstances=new Map,this._keyStore=null!==(n=t?.keyStore)&&void 0!==n?n:new nr.ny}digest({algorithm:t,data:n}){return _u(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}exportKey({keyUri:t}){return _u(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){return _u(this,void 0,void 0,function*(){const i=yield this.getAlgorithm({algorithm:t}).generateKey({algorithm:t});if(void 0===i?.kid)throw new Error("Generated key is missing a required property: kid");const l=`${WR}${i.kid}`;return yield this._keyStore.set(l,i),l})}getKeyUri({key:t}){return _u(this,void 0,void 0,function*(){const n=yield Xs({jwk:t});return`${WR}${n}`})}getPublicKey({keyUri:t}){return _u(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return _u(this,void 0,void 0,function*(){if(!function GR(r){if(!r||"object"!=typeof r)return!1;switch(r.kty){case"EC":case"OKP":case"RSA":return"d"in r;case"oct":return"k"in r;default:return!1}}(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield Xs({jwk:i}));const l=yield this.getKeyUri({key:i});return yield this._keyStore.set(l,i),l})}sign({keyUri:t,data:n}){return _u(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),l=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:l}).sign({data:n,key:i})})}verify({key:t,signature:n,data:i}){return _u(this,void 0,void 0,function*(){const l=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:l}).verify({key:t,signature:n,data:i})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=mw[t])||void 0===n?void 0:n.implementation;if(!i)throw new Error(`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const l in mw){const p=mw[l];if(n&&p.names.includes(n))return l;if(i&&p.names.includes(i))return l}throw new Error(`Unable to determine algorithm based on provided input: alg=${n}, crv=${i}`)}getPrivateKey({keyUri:t}){return _u(this,void 0,void 0,function*(){const n=yield this._keyStore.get(t);if(!n)throw new Error(`Key not found: ${t}`);return n})}}function RE(r){const t={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(r.alg&&Object.values(t).includes(r.alg))return r.alg;if(r.crv&&Object.keys(t).includes(r.crv))return t[r.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${r.alg}, crv=${r.crv}. Supported 'alg' values: ${Object.values(t).join(", ")}. Supported 'crv' values: ${Object.keys(t).join(", ")}.`)}"object"==typeof globalThis&&"crypto"in globalThis&&globalThis;const Am=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4));function qM(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function R3(r){if("string"!=typeof r)throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array((new TextEncoder).encode(r))}function O3(r){if("string"==typeof r)r=R3(r);else{if(!qM(r))throw new Error("expected Uint8Array, got "+typeof r);r=r.slice()}return r}function yw(r,t){if(!qM(r))throw new Error("Uint8Array expected");if("number"==typeof t&&r.length!==t)throw new Error(`Uint8Array length ${t} expected`)}function OE(r,t,n,i){if("function"==typeof r.setBigUint64)return r.setBigUint64(t,n,i);const l=BigInt(32),p=BigInt(4294967295),c=Number(n>>l&p),h=Number(n&p),$=i?0:4;r.setUint32(t+(i?4:0),c,i),r.setUint32(t+$,h,i)}function X0(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`wrong positive integer: ${r}`)}function QM(r){if("boolean"!=typeof r)throw new Error(`boolean expected, not ${r}`)}function gw(r,...t){if(!function IO(r){return null!=r&&"object"==typeof r&&(r instanceof Uint8Array||"Uint8Array"===r.constructor.name)}(r))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(r.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${r.length}`)}function u(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}var jg=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class vw{static bytesToPrivateKey({privateKeyBytes:t}){return jg(this,void 0,void 0,function*(){const n=IE.getPublicKey(t),i={kty:"OKP",crv:"X25519",d:nr.U$.uint8Array(t).toBase64Url(),x:nr.U$.uint8Array(n).toBase64Url()};return i.kid=yield Xs({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return jg(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"X25519",x:nr.U$.uint8Array(t).toBase64Url()};return n.kid=yield Xs({jwk:n}),n})}static computePublicKey({key:t}){return jg(this,void 0,void 0,function*(){const n=yield vw.privateKeyToBytes({privateKey:t}),i=IE.getPublicKey(n),l={kty:"OKP",crv:"X25519",x:nr.U$.uint8Array(i).toBase64Url()};return l.kid=yield Xs({jwk:l}),l})}static generateKey(){return jg(this,void 0,void 0,function*(){const t=IE.utils.randomPrivateKey(),n=yield vw.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Xs({jwk:n}),n})}static getPublicKey({key:t}){var n;return jg(this,void 0,void 0,function*(){if(!Sm(t)||"X25519"!==t.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["d"]);return null!==(n=l.kid)&&void 0!==n||(l.kid=yield Xs({jwk:l})),l})}static privateKeyToBytes({privateKey:t}){return jg(this,void 0,void 0,function*(){if(!Sm(t))throw new Error("X25519: The provided key is not a valid OKP private key.");return nr.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return jg(this,void 0,void 0,function*(){if(!AE(t))throw new Error("X25519: The provided key is not a valid OKP public key.");return nr.U$.base64Url(t.x).toUint8Array()})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return jg(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield vw.privateKeyToBytes({privateKey:t}),l=yield vw.publicKeyToBytes({publicKey:n});return IE.getSharedSecret(i,l)})}}const Id=(r,t)=>255&r[t++]|(255&r[t++])<<8;class u7{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,yw(t=O3(t),32);const n=Id(t,0),i=Id(t,2),l=Id(t,4),p=Id(t,6),c=Id(t,8),h=Id(t,10),V=Id(t,12),$=Id(t,14);this.r[0]=8191&n,this.r[1]=8191&(n>>>13|i<<3),this.r[2]=7939&(i>>>10|l<<6),this.r[3]=8191&(l>>>7|p<<9),this.r[4]=255&(p>>>4|c<<12),this.r[5]=c>>>1&8190,this.r[6]=8191&(c>>>14|h<<2),this.r[7]=8065&(h>>>11|V<<5),this.r[8]=8191&(V>>>8|$<<8),this.r[9]=$>>>5&127;for(let I=0;I<8;I++)this.pad[I]=Id(t,16+2*I)}process(t,n,i=!1){const l=i?0:2048,{h:p,r:c}=this,h=c[0],V=c[1],$=c[2],I=c[3],q=c[4],Ce=c[5],Be=c[6],Pe=c[7],Ke=c[8],rt=c[9],ht=Id(t,n+0),ct=Id(t,n+2),dt=Id(t,n+4),At=Id(t,n+6),Pt=Id(t,n+8),Ct=Id(t,n+10),zt=Id(t,n+12),Xt=Id(t,n+14);let xn=p[0]+(8191&ht),Cn=p[1]+(8191&(ht>>>13|ct<<3)),Nn=p[2]+(8191&(ct>>>10|dt<<6)),ir=p[3]+(8191&(dt>>>7|At<<9)),Pn=p[4]+(8191&(At>>>4|Pt<<12)),Hn=p[5]+(Pt>>>1&8191),ln=p[6]+(8191&(Pt>>>14|Ct<<2)),vn=p[7]+(8191&(Ct>>>11|zt<<5)),wn=p[8]+(8191&(zt>>>8|Xt<<8)),Un=p[9]+(Xt>>>5|l),Sn=0,Vn=Sn+xn*h+Cn*(5*rt)+Nn*(5*Ke)+ir*(5*Pe)+Pn*(5*Be);Sn=Vn>>>13,Vn&=8191,Vn+=Hn*(5*Ce)+ln*(5*q)+vn*(5*I)+wn*(5*$)+Un*(5*V),Sn+=Vn>>>13,Vn&=8191;let lr=Sn+xn*V+Cn*h+Nn*(5*rt)+ir*(5*Ke)+Pn*(5*Pe);Sn=lr>>>13,lr&=8191,lr+=Hn*(5*Be)+ln*(5*Ce)+vn*(5*q)+wn*(5*I)+Un*(5*$),Sn+=lr>>>13,lr&=8191;let cr=Sn+xn*$+Cn*V+Nn*h+ir*(5*rt)+Pn*(5*Ke);Sn=cr>>>13,cr&=8191,cr+=Hn*(5*Pe)+ln*(5*Be)+vn*(5*Ce)+wn*(5*q)+Un*(5*I),Sn+=cr>>>13,cr&=8191;let yn=Sn+xn*I+Cn*$+Nn*V+ir*h+Pn*(5*rt);Sn=yn>>>13,yn&=8191,yn+=Hn*(5*Ke)+ln*(5*Pe)+vn*(5*Be)+wn*(5*Ce)+Un*(5*q),Sn+=yn>>>13,yn&=8191;let dr=Sn+xn*q+Cn*I+Nn*$+ir*V+Pn*h;Sn=dr>>>13,dr&=8191,dr+=Hn*(5*rt)+ln*(5*Ke)+vn*(5*Pe)+wn*(5*Be)+Un*(5*Ce),Sn+=dr>>>13,dr&=8191;let xr=Sn+xn*Ce+Cn*q+Nn*I+ir*$+Pn*V;Sn=xr>>>13,xr&=8191,xr+=Hn*h+ln*(5*rt)+vn*(5*Ke)+wn*(5*Pe)+Un*(5*Be),Sn+=xr>>>13,xr&=8191;let Zn=Sn+xn*Be+Cn*Ce+Nn*q+ir*I+Pn*$;Sn=Zn>>>13,Zn&=8191,Zn+=Hn*V+ln*h+vn*(5*rt)+wn*(5*Ke)+Un*(5*Pe),Sn+=Zn>>>13,Zn&=8191;let On=Sn+xn*Pe+Cn*Be+Nn*Ce+ir*q+Pn*I;Sn=On>>>13,On&=8191,On+=Hn*$+ln*V+vn*h+wn*(5*rt)+Un*(5*Ke),Sn+=On>>>13,On&=8191;let qn=Sn+xn*Ke+Cn*Pe+Nn*Be+ir*Ce+Pn*q;Sn=qn>>>13,qn&=8191,qn+=Hn*I+ln*$+vn*V+wn*h+Un*(5*rt),Sn+=qn>>>13,qn&=8191;let mr=Sn+xn*rt+Cn*Ke+Nn*Pe+ir*Be+Pn*Ce;Sn=mr>>>13,mr&=8191,mr+=Hn*q+ln*I+vn*$+wn*V+Un*h,Sn+=mr>>>13,mr&=8191,Sn=(Sn<<2)+Sn|0,Sn=Sn+Vn|0,Vn=8191&Sn,Sn>>>=13,lr+=Sn,p[0]=Vn,p[1]=lr,p[2]=cr,p[3]=yn,p[4]=dr,p[5]=xr,p[6]=Zn,p[7]=On,p[8]=qn,p[9]=mr}finalize(){const{h:t,pad:n}=this,i=new Uint16Array(10);let l=t[1]>>>13;t[1]&=8191;for(let h=2;h<10;h++)t[h]+=l,l=t[h]>>>13,t[h]&=8191;t[0]+=5*l,l=t[0]>>>13,t[0]&=8191,t[1]+=l,l=t[1]>>>13,t[1]&=8191,t[2]+=l,i[0]=t[0]+5,l=i[0]>>>13,i[0]&=8191;for(let h=1;h<10;h++)i[h]=t[h]+l,l=i[h]>>>13,i[h]&=8191;i[9]-=8192;let p=(1^l)-1;for(let h=0;h<10;h++)i[h]&=p;p=~p;for(let h=0;h<10;h++)t[h]=t[h]&p|i[h];t[0]=65535&(t[0]|t[1]<<13),t[1]=65535&(t[1]>>>3|t[2]<<10),t[2]=65535&(t[2]>>>6|t[3]<<7),t[3]=65535&(t[3]>>>9|t[4]<<4),t[4]=65535&(t[4]>>>12|t[5]<<1|t[6]<<14),t[5]=65535&(t[6]>>>2|t[7]<<11),t[6]=65535&(t[7]>>>5|t[8]<<8),t[7]=65535&(t[8]>>>8|t[9]<<5);let c=t[0]+n[0];t[0]=65535&c;for(let h=1;h<8;h++)c=(t[h]+n[h]|0)+(c>>>16)|0,t[h]=65535&c}update(t){u(this);const{buffer:n,blockLen:i}=this,l=(t=O3(t)).length;for(let p=0;p<l;){const c=Math.min(i-this.pos,l-p);if(c!==i)n.set(t.subarray(p,p+c),this.pos),this.pos+=c,p+=c,this.pos===i&&(this.process(n,0,!1),this.pos=0);else for(;i<=l-p;p+=i)this.process(t,p)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(t){u(this),function b(r,t){gw(r);const n=t.outputLen;if(r.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(t,this),this.finished=!0;const{buffer:n,h:i}=this;let{pos:l}=this;if(l){for(n[l++]=1;l<16;l++)n[l]=0;this.process(n,0,!0)}this.finalize();let p=0;for(let c=0;c<8;c++)t[p++]=i[c]>>>0,t[p++]=i[c]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const i=t.slice(0,n);return this.destroy(),i}}const h7=function f7(r){const t=(i,l)=>r(l).update(O3(i)).digest(),n=r(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=i=>r(i),t}(r=>new u7(r)),p7=R3("expand 16-byte k"),m7=R3("expand 32-byte k"),y7=Am(p7),g7=Am(m7);function Si(r,t){return r<<t|r>>>32-t}function kO(r){return r.byteOffset%4==0}const XB=2**32-1,ZB=new Uint32Array;function eA(r,t){const{allowShortKeys:n,extendNonceFn:i,counterLength:l,counterRight:p,rounds:c}=function HB(r,t){if(void 0!==t&&("object"!=typeof t||!(r=>"[object Object]"===Object.prototype.toString.call(r)&&r.constructor===Object)(t)))throw new Error("options must be object or undefined");return Object.assign(r,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof r)throw new Error("core must be a function");return X0(l),X0(c),QM(p),QM(n),(h,V,$,I,q=0)=>{gw(h),gw(V),gw($);const Ce=$.length;if(I||(I=new Uint8Array(Ce)),gw(I),X0(q),q<0||q>=XB)throw new Error("arx: counter overflow");if(I.length<Ce)throw new Error(`arx: output (${I.length}) is shorter than data (${Ce})`);const Be=[];let Ke,rt,Pe=h.length;if(32===Pe)Ke=h.slice(),Be.push(Ke),rt=g7;else{if(16!==Pe||!n)throw new Error(`arx: invalid 32-byte key, got length=${Pe}`);Ke=new Uint8Array(32),Ke.set(h),Ke.set(h,16),rt=y7,Be.push(Ke)}kO(V)||(V=V.slice(),Be.push(V));const ht=Am(Ke);if(i){if(24!==V.length)throw new Error("arx: extended nonce must be 24 bytes");i(rt,ht,Am(V.subarray(0,16)),ht),V=V.subarray(16)}const ct=16-l;if(ct!==V.length)throw new Error(`arx: nonce must be ${ct} or 16 bytes`);if(12!==ct){const At=new Uint8Array(12);At.set(V,p?0:12-V.length),Be.push(V=At)}const dt=Am(V);for(function b7(r,t,n,i,l,p,c,h){const V=l.length,$=new Uint8Array(64),I=Am($),q=kO(l)&&kO(p),Ce=q?Am(l):ZB,Be=q?Am(p):ZB;for(let Pe=0;Pe<V;c++){if(r(t,n,i,I,c,h),c>=XB)throw new Error("arx: counter overflow");const Ke=Math.min(64,V-Pe);if(q&&64===Ke){const rt=Pe/4;if(Pe%4!=0)throw new Error("arx: invalid block position");for(let ct,ht=0;ht<16;ht++)ct=rt+ht,Be[ct]=Ce[ct]^I[ht];Pe+=64}else{for(let ht,rt=0;rt<Ke;rt++)ht=Pe+rt,p[ht]=l[ht]^$[rt];Pe+=Ke}}}(r,rt,ht,dt,$,I,q,c);Be.length>0;)Be.pop().fill(0);return I}}function tA(r,t,n,i,l,p=20){let c=r[0],h=r[1],V=r[2],$=r[3],I=t[0],q=t[1],Ce=t[2],Be=t[3],Pe=t[4],Ke=t[5],rt=t[6],ht=t[7],ct=l,dt=n[0],At=n[1],Pt=n[2],Ct=c,zt=h,Xt=V,xn=$,Cn=I,Nn=q,ir=Ce,Pn=Be,Hn=Pe,ln=Ke,vn=rt,wn=ht,Un=ct,Sn=dt,Vn=At,lr=Pt;for(let yn=0;yn<p;yn+=2)Ct=Ct+Cn|0,Un=Si(Un^Ct,16),Hn=Hn+Un|0,Cn=Si(Cn^Hn,12),Ct=Ct+Cn|0,Un=Si(Un^Ct,8),Hn=Hn+Un|0,Cn=Si(Cn^Hn,7),zt=zt+Nn|0,Sn=Si(Sn^zt,16),ln=ln+Sn|0,Nn=Si(Nn^ln,12),zt=zt+Nn|0,Sn=Si(Sn^zt,8),ln=ln+Sn|0,Nn=Si(Nn^ln,7),Xt=Xt+ir|0,Vn=Si(Vn^Xt,16),vn=vn+Vn|0,ir=Si(ir^vn,12),Xt=Xt+ir|0,Vn=Si(Vn^Xt,8),vn=vn+Vn|0,ir=Si(ir^vn,7),xn=xn+Pn|0,lr=Si(lr^xn,16),wn=wn+lr|0,Pn=Si(Pn^wn,12),xn=xn+Pn|0,lr=Si(lr^xn,8),wn=wn+lr|0,Pn=Si(Pn^wn,7),Ct=Ct+Nn|0,lr=Si(lr^Ct,16),vn=vn+lr|0,Nn=Si(Nn^vn,12),Ct=Ct+Nn|0,lr=Si(lr^Ct,8),vn=vn+lr|0,Nn=Si(Nn^vn,7),zt=zt+ir|0,Un=Si(Un^zt,16),wn=wn+Un|0,ir=Si(ir^wn,12),zt=zt+ir|0,Un=Si(Un^zt,8),wn=wn+Un|0,ir=Si(ir^wn,7),Xt=Xt+Pn|0,Sn=Si(Sn^Xt,16),Hn=Hn+Sn|0,Pn=Si(Pn^Hn,12),Xt=Xt+Pn|0,Sn=Si(Sn^Xt,8),Hn=Hn+Sn|0,Pn=Si(Pn^Hn,7),xn=xn+Cn|0,Vn=Si(Vn^xn,16),ln=ln+Vn|0,Cn=Si(Cn^ln,12),xn=xn+Cn|0,Vn=Si(Vn^xn,8),ln=ln+Vn|0,Cn=Si(Cn^ln,7);let cr=0;i[cr++]=c+Ct|0,i[cr++]=h+zt|0,i[cr++]=V+Xt|0,i[cr++]=$+xn|0,i[cr++]=I+Cn|0,i[cr++]=q+Nn|0,i[cr++]=Ce+ir|0,i[cr++]=Be+Pn|0,i[cr++]=Pe+Hn|0,i[cr++]=Ke+ln|0,i[cr++]=rt+vn|0,i[cr++]=ht+wn|0,i[cr++]=ct+Un|0,i[cr++]=dt+Sn|0,i[cr++]=At+Vn|0,i[cr++]=Pt+lr|0}const _7=eA(tA,{counterRight:!1,counterLength:4,allowShortKeys:!1}),E7=eA(tA,{counterRight:!1,counterLength:8,extendNonceFn:function w7(r,t,n,i){let l=r[0],p=r[1],c=r[2],h=r[3],V=t[0],$=t[1],I=t[2],q=t[3],Ce=t[4],Be=t[5],Pe=t[6],Ke=t[7],rt=n[0],ht=n[1],ct=n[2],dt=n[3];for(let Pt=0;Pt<20;Pt+=2)l=l+V|0,rt=Si(rt^l,16),Ce=Ce+rt|0,V=Si(V^Ce,12),l=l+V|0,rt=Si(rt^l,8),Ce=Ce+rt|0,V=Si(V^Ce,7),p=p+$|0,ht=Si(ht^p,16),Be=Be+ht|0,$=Si($^Be,12),p=p+$|0,ht=Si(ht^p,8),Be=Be+ht|0,$=Si($^Be,7),c=c+I|0,ct=Si(ct^c,16),Pe=Pe+ct|0,I=Si(I^Pe,12),c=c+I|0,ct=Si(ct^c,8),Pe=Pe+ct|0,I=Si(I^Pe,7),h=h+q|0,dt=Si(dt^h,16),Ke=Ke+dt|0,q=Si(q^Ke,12),h=h+q|0,dt=Si(dt^h,8),Ke=Ke+dt|0,q=Si(q^Ke,7),l=l+$|0,dt=Si(dt^l,16),Pe=Pe+dt|0,$=Si($^Pe,12),l=l+$|0,dt=Si(dt^l,8),Pe=Pe+dt|0,$=Si($^Pe,7),p=p+I|0,rt=Si(rt^p,16),Ke=Ke+rt|0,I=Si(I^Ke,12),p=p+I|0,rt=Si(rt^p,8),Ke=Ke+rt|0,I=Si(I^Ke,7),c=c+q|0,ht=Si(ht^c,16),Ce=Ce+ht|0,q=Si(q^Ce,12),c=c+q|0,ht=Si(ht^c,8),Ce=Ce+ht|0,q=Si(q^Ce,7),h=h+V|0,ct=Si(ct^h,16),Be=Be+ct|0,V=Si(V^Be,12),h=h+V|0,ct=Si(ct^h,8),Be=Be+ct|0,V=Si(V^Be,7);let At=0;i[At++]=l,i[At++]=p,i[At++]=c,i[At++]=h,i[At++]=rt,i[At++]=ht,i[At++]=ct,i[At++]=dt},allowShortKeys:!1}),x7=new Uint8Array(16),YB=(r,t)=>{r.update(t);const n=t.length%16;n&&r.update(x7.subarray(n))},S7=new Uint8Array(32);function JB(r,t,n,i,l){const p=r(t,n,S7),c=h7.create(p);l&&YB(c,l),YB(c,i);const h=new Uint8Array(16),V=(r=>new DataView(r.buffer,r.byteOffset,r.byteLength))(h);OE(V,0,BigInt(l?l.length:0),!0),OE(V,8,BigInt(i.length),!0),c.update(h);const $=c.digest();return p.fill(0),$}const qB=r=>(t,n,i)=>(yw(t,32),yw(n),{encrypt:(p,c)=>{const h=p.length,V=h+16;c?yw(c,V):c=new Uint8Array(V),r(t,n,p,c,1);const $=JB(r,t,n,c.subarray(0,-16),i);return c.set($,h),c},decrypt:(p,c)=>{const h=p.length,V=h-16;if(h<16)throw new Error("encrypted data must be at least 16 bytes");c?yw(c,V):c=new Uint8Array(V);const $=p.subarray(0,-16);if(!function DO(r,t){if(r.length!==t.length)return!1;let n=0;for(let i=0;i<r.length;i++)n|=r[i]^t[i];return 0===n}(p.subarray(-16),JB(r,t,n,$,i)))throw new Error("invalid tag");return r(t,n,$,c,1),c}});function Dp(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function PO({didDocument:r}){var t,n;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const i=[];return i.push(...null!==(n=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(BO))&&void 0!==n?n:[]),Object.keys(Zb).forEach(l=>{var p,c;i.push(...null!==(c=null===(p=r[l])||void 0===p?void 0:p.filter(BO))&&void 0!==c?c:[])}),i}function I7({didDocument:r,methodId:t}){const n=[];return Object.keys(Zb).forEach(i=>{if(Array.isArray(r[i])){const l=r[i],p=Dp(t);l.some(h=>{const V=Dp(h)===p,$=BO(h)&&Dp(h.id)===p;return V||$})&&n.push(i)}}),n}function BO(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}function QB({keyBytes:r,multicodecCode:t,multicodecName:n}){const i=nr.Gs.addPrefix({code:t,data:r,name:n}),l=nr.U$.uint8Array(i).toBase58Btc();return nr.U$.base58Btc(l).toMultibase()}function eN({multibaseKeyId:r}){try{const t=nr.U$.multibase(r).toBase58Btc(),n=nr.U$.base58Btc(t).toUint8Array(),{code:i,data:l,name:p}=nr.Gs.removePrefix({prefixedData:n});return{keyBytes:l,multicodecCode:i,multicodecName:p}}catch{throw new Wi(Ji.InvalidDid,`Invalid multibase identifier: ${r}`)}}qB(_7),qB(E7);var iA=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class $g{constructor({uri:t,document:n,metadata:i,keyManager:l}){this.uri=t,this.document=n,this.metadata=i,this.keyManager=l}export(){return iA(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const n=[];for(let i of this.document.verificationMethod){if(!i.publicKeyJwk)throw new Error(`Verification method '${i.id}' does not contain a public key in JWK format`);const l=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),p=yield this.keyManager.exportKey({keyUri:l});n.push(Object.assign({},p))}t.privateKeys=n}return t})}getSigner(t){return iA(this,void 0,void 0,function*(){var n;const i=null===(n=this.document.verificationMethod)||void 0===n?void 0:n.find(V=>{var $,I;return Dp(V.id)===(null!==($=Dp(t?.methodId))&&void 0!==$?$:Dp(null===(I=this.document.assertionMethod)||void 0===I?void 0:I[0]))});if(!i||!i.publicKeyJwk)throw new Wi(Ji.InternalError,"A verification method intended for signing could not be determined from the DID Document");const l=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),p=yield this.keyManager.getPublicKey({keyUri:l}),c=this.keyManager;return{algorithm:RE(p),keyId:i.id,sign(V){return iA(this,arguments,void 0,function*({data:$}){return yield c.sign({data:$,keyUri:l})})},verify(V){return iA(this,arguments,void 0,function*({data:$,signature:I}){return yield c.verify({data:$,key:p,signature:I})})}}})}static import(t){return iA(this,arguments,void 0,function*({portableDid:n,keyManager:i=new Mm}){var l;const p=PO({didDocument:n.document});if(0===p.length)throw new Wi(Ji.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let h of null!==(l=n.privateKeys)&&void 0!==l?l:[])yield i.importKey({key:h});for(let h of p){if(!h.publicKeyJwk)throw new Error(`Verification method '${h.id}' does not contain a public key in JWK format`);const V=yield i.getKeyUri({key:h.publicKeyJwk});yield i.getPublicKey({keyUri:V})}return new $g({uri:n.uri,document:n.document,metadata:n.metadata,keyManager:i})})}}var N3=w(2198),PE=w(49402),tN=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class NO{static getSigningMethod(t){return tN(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,n){return tN(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var od=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},nN=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n};const rN="https://diddht.tbddev.org",Kg=7200,xu=",";var iN=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}(iN||{}),pf=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(pf||{}),oN=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(oN||{});const sN={Ed25519:pf.Ed25519,ES256K:pf.secp256k1,ES256:pf.secp256r1,"P-256":pf.secp256r1,secp256k1:pf.secp256k1,secp256r1:pf.secp256r1,X25519:pf.X25519},aN={[pf.Ed25519]:"Ed25519",[pf.secp256k1]:"ES256K",[pf.secp256r1]:"ES256",[pf.X25519]:"ECDH-ES+A256KW"};let LO=(()=>{class r extends NO{static create(){return od(this,arguments,void 0,function*({keyManager:n=new Mm,options:i={}}={}){var l,p,c,h,V,$,I,q,Ce,Be,Pe;if(null!==(l=i.verificationMethods)&&void 0!==l&&l.some(Ct=>!(Ct.algorithm in sN)))throw new Error("One or more verification method algorithms are not supported");const Ke=null===(p=i.verificationMethods)||void 0===p?void 0:p.filter(Ct=>"id"in Ct).map(Ct=>Ct.id);if(Ke&&Ke.length!==new Set(Ke).size)throw new Error("One or more verification method IDs are not unique");if(null!==(c=i.services)&&void 0!==c&&c.some(Ct=>!Ct.id||!Ct.type||!Ct.serviceEndpoint))throw new Error("One or more services are missing required properties");const rt=yield n.generateKey({algorithm:"Ed25519"}),ht=yield n.getPublicKey({keyUri:rt}),ct=yield sl.identityKeyToIdentifier({identityKey:ht}),dt=Object.assign(Object.assign({id:ct},i.alsoKnownAs&&{alsoKnownAs:i.alsoKnownAs}),i.controllers&&{controller:i.controllers}),At=[...null!==(h=i.verificationMethods)&&void 0!==h?h:[]];At?.some(Ct=>{var zt;return"0"===(null===(zt=Ct.id)||void 0===zt?void 0:zt.split("#").pop())})||At.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const Ct of At){const zt=Ct.id&&"0"===Ct.id.split("#").pop()?rt:yield n.generateKey({algorithm:Ct.algorithm}),Xt=yield n.getPublicKey({keyUri:zt});let xn=null!==($=null!==(V=Ct.id)&&void 0!==V?V:Xt.kid)&&void 0!==$?$:yield Xs({jwk:Xt});xn=`${ct}#${Dp(xn)}`,null!==(I=dt.verificationMethod)&&void 0!==I||(dt.verificationMethod=[]),dt.verificationMethod.push({id:xn,type:"JsonWebKey",controller:null!==(q=Ct.controller)&&void 0!==q?q:ct,publicKeyJwk:Xt});for(const Cn of null!==(Ce=Ct.purposes)&&void 0!==Ce?Ce:[])dt[Cn]||(dt[Cn]=[]),dt[Cn].push(xn)}null===(Be=i.services)||void 0===Be||Be.forEach(Ct=>{var zt;null!==(zt=dt.service)&&void 0!==zt||(dt.service=[]),Ct.id=`${ct}#${Ct.id.split("#").pop()}`,dt.service.push(Ct)});const Pt=new $g({uri:ct,document:dt,metadata:Object.assign({published:!1},i.types&&{types:i.types}),keyManager:n});if(null===(Pe=i.publish)||void 0===Pe||Pe){const Ct=yield r.publish({did:Pt,gatewayUri:i.gatewayUri});Pt.metadata=Ct.didDocumentMetadata}return Pt})}static import(n){return od(this,arguments,void 0,function*({portableDid:i,keyManager:l=new Mm}){var p;const c=Rs.parse(i.uri);if(c?.method!==r.methodName)throw new Wi(Ji.MethodNotSupported,"Method not supported");const h=yield $g.import({portableDid:i,keyManager:l});if(null===(p=h.document.verificationMethod)||void 0===p||!p.some(V=>{var $;return"0"===(null===($=V.id)||void 0===$?void 0:$.split("#").pop())}))throw new Wi(Ji.InvalidDidDocument,"DID document must contain an Identity Key");return h})}static getSigningMethod(n){return od(this,arguments,void 0,function*({didDocument:i,methodId:l="#0"}){var p;const c=Rs.parse(i.id);if(c&&c.method!==this.methodName)throw new Wi(Ji.MethodNotSupported,`Method not supported: ${c.method}`);const h=null===(p=i.verificationMethod)||void 0===p?void 0:p.find(V=>{var $,I;return Dp(V.id)===(null!==($=Dp(l))&&void 0!==$?$:Dp(null===(I=i.assertionMethod)||void 0===I?void 0:I[0]))});if(!h||!h.publicKeyJwk)throw new Wi(Ji.InternalError,"A verification method intended for signing could not be determined from the DID Document");return h})}static publish(n){return od(this,arguments,void 0,function*({did:i,gatewayUri:l=rN}){return yield Z0.put({did:i,gatewayUri:l})})}static resolve(n){return od(this,arguments,void 0,function*(i,l={}){var p;const c=null!==(p=l?.gatewayUri)&&void 0!==p?p:rN;try{yield sl.identifierToIdentityKey({didUri:i});const{didDocument:h,didDocumentMetadata:V}=yield Z0.get({didUri:i,gatewayUri:c});return Object.assign(Object.assign({},Hf),{didDocument:h,didDocumentMetadata:V})}catch(h){if(!(h instanceof Wi))throw new Error(h);return Object.assign(Object.assign({},Hf),{didResolutionMetadata:Object.assign({error:h.code},h.message&&{errorMessage:h.message})})}})}}return r.methodName="dht",r})();class Z0{static get(t){return od(this,arguments,void 0,function*({didUri:n,gatewayUri:i}){const l=sl.identifierToIdentityKeyBytes({didUri:n}),p=yield Z0.pkarrGet({gatewayUri:i,publicKeyBytes:l}),c=yield sl.parseBep44GetMessage({bep44Message:p}),h=yield Z0.fromDnsPacket({didUri:n,dnsPacket:c});return h.didDocumentMetadata.versionId=p.seq.toString(),h})}static put(t){return od(this,arguments,void 0,function*({did:n,gatewayUri:i}){const l=yield Z0.toDnsPacket({didDocument:n.document,didMetadata:n.metadata,authoritativeGatewayUris:[i]}),p=yield sl.createBep44PutMessage({dnsPacket:l,publicKeyBytes:sl.identifierToIdentityKeyBytes({didUri:n.uri}),signer:yield n.getSigner({methodId:"0"})}),c=yield Z0.pkarrPut({gatewayUri:i,bep44Message:p});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:c,versionId:p.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return od(this,arguments,void 0,function*({gatewayUri:n,publicKeyBytes:i}){const l=nr.U$.uint8Array(i).toBase32Z(),p=new URL(l,n).href;let c;try{if(c=yield fetch(p,{method:"GET"}),!c.ok)throw new Wi(Ji.NotFound,`Pkarr record not found for: ${l}`)}catch($){throw $ instanceof Wi?$:new Wi(Ji.InternalError,`Failed to fetch Pkarr record: ${$.message}`)}const h=yield c.arrayBuffer();if(!h)throw new Wi(Ji.NotFound,`Pkarr record not found for: ${l}`);if(h.byteLength<72)throw new Wi(Ji.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${h.byteLength}`);if(h.byteLength>1072)throw new Wi(Ji.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${h.byteLength}`);return{k:i,seq:Number(new DataView(h).getBigUint64(64)),sig:new Uint8Array(h,0,64),v:new Uint8Array(h,72)}})}static pkarrPut(t){return od(this,arguments,void 0,function*({gatewayUri:n,bep44Message:i}){const l=nr.U$.uint8Array(i.k).toBase32Z(),p=new URL(l,n).href,c=new Uint8Array(i.v.length+72);let h;c.set(i.sig,0),new DataView(c.buffer).setBigUint64(i.sig.length,BigInt(i.seq)),c.set(i.v,i.sig.length+8);try{h=yield fetch(p,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:c})}catch(V){throw new Wi(Ji.InternalError,`Failed to put Pkarr record for identifier ${l}: ${V.message}`)}return h.ok})}static fromDnsPacket(t){return od(this,arguments,void 0,function*({didUri:n,dnsPacket:i}){var l,p,c;const h={id:n},V={published:!0},$=new Map;for(const I of null!==(l=i?.answers)&&void 0!==l?l:[]){if("TXT"!==I.type)continue;const q=I.name.split(".")[0].substring(1);switch(!0){case q.startsWith("aka"):{const Ce=sl.parseTxtDataToString(I.data);h.alsoKnownAs=Ce.split(xu);break}case q.startsWith("cnt"):{const Ce=sl.parseTxtDataToString(I.data);h.controller=Ce.includes(xu)?Ce.split(xu):Ce;break}case q.startsWith("k"):{const{id:Ce,t:Be,k:Pe,c:Ke,a:rt}=sl.parseTxtDataToObject(I.data),ht=nr.U$.base64Url(Pe).toUint8Array(),ct=pf[Number(Be)];let dt=yield sl.keyConverter(ct).bytesToPublicKey({publicKeyBytes:ht});dt.alg=rt||aN[Number(Be)];const At="k0"===q?"0":void 0!==Ce?Ce:yield Xs({jwk:dt});null!==(p=h.verificationMethod)&&void 0!==p||(h.verificationMethod=[]);const Pt=`${n}#${At}`;h.verificationMethod.push({id:Pt,type:"JsonWebKey",controller:Ke??n,publicKeyJwk:dt}),$.set(q,Pt);break}case q.startsWith("s"):{const Ce=sl.parseTxtDataToObject(I.data),{id:Be,t:Pe,se:Ke}=Ce,rt=nN(Ce,["id","t","se"]),ht=Ke.includes(xu)?Ke.split(xu):[Ke],ct=Object.fromEntries(Object.entries(rt).map(([dt,At])=>[dt,At.includes(xu)?At.split(xu):At]));null!==(c=h.service)&&void 0!==c||(h.service=[]),h.service.push(Object.assign(Object.assign({},ct),{id:`${n}#${Be}`,type:Pe,serviceEndpoint:ht}));break}case q.startsWith("typ"):{const{id:Ce}=sl.parseTxtDataToObject(I.data);V.types=Ce.split(xu).map(Be=>Number(Be));break}case q.startsWith("did"):{const Ce=ct=>ct.split(xu).map(dt=>$.get(dt)).filter(dt=>"string"==typeof dt),{auth:Be,asm:Pe,del:Ke,inv:rt,agm:ht}=sl.parseTxtDataToObject(I.data);Be&&(h.authentication=Ce(Be)),Pe&&(h.assertionMethod=Ce(Pe)),Ke&&(h.capabilityDelegation=Ce(Ke)),rt&&(h.capabilityInvocation=Ce(rt)),ht&&(h.keyAgreement=Ce(ht));break}}}return{didDocument:h,didDocumentMetadata:V,didResolutionMetadata:{}}})}static toDnsPacket(t){return od(this,arguments,void 0,function*({didDocument:n,didMetadata:i,authoritativeGatewayUris:l,previousDidProof:p}){var c,h,V,$,I;const q=[],Ce=[],Be=new Map,Pe=[],Ke=[];if(void 0!==p){const{signature:ct,previousDid:dt}=p;yield sl.validatePreviousDidProof({newDid:n.id,previousDidProof:p}),q.push({type:"TXT",name:"_prv._did.",ttl:Kg,data:`id=${dt};s=${ct}`})}if(n.alsoKnownAs&&q.push({type:"TXT",name:"_aka._did.",ttl:Kg,data:n.alsoKnownAs.join(xu)}),n.controller){const ct=Array.isArray(n.controller)?n.controller.join(xu):n.controller;q.push({type:"TXT",name:"_cnt._did.",ttl:Kg,data:ct})}for(const[ct,dt]of null!==(h=null===(c=n.verificationMethod)||void 0===c?void 0:c.entries())&&void 0!==h?h:[]){const At=`k${ct}`;Ke.push(At);let Pt=dt.id.split("#").pop();Be.set(Pt,At);const Ct=dt.publicKeyJwk;if(!Ct?.crv||!(Ct.crv in sN))throw new Wi(Ji.InvalidPublicKeyType,`Verification method '${dt.id}' contains an unsupported key type: ${null!==(V=Ct?.crv)&&void 0!==V?V:"undefined"}`);const zt=pf[Ct.crv],Xt=yield sl.keyConverter(Ct.crv).publicKeyToBytes({publicKey:Ct}),Cn=[`t=${zt}`,`k=${nr.U$.uint8Array(Xt).toBase64Url()}`];"0"!==Pt&&(yield Xs({jwk:Ct}))!==Pt&&Cn.unshift(`id=${Pt}`),Ct.alg!==aN[zt]&&Cn.push(`a=${Ct.alg}`),dt.controller!==n.id&&Cn.push(`c=${dt.controller}`),q.push({type:"TXT",name:`_${At}._did.`,ttl:Kg,data:Cn.join(";")})}null===($=n.service)||void 0===$||$.forEach((ct,dt)=>{const At=`s${dt}`;Pe.push(At);let{id:Pt,type:Ct,serviceEndpoint:zt}=ct,Xt=nN(ct,["id","type","serviceEndpoint"]);Pt=Dp(Pt),zt=Array.isArray(zt)?zt.join(","):zt;const Cn=Object.entries(Object.assign({id:Pt,t:Ct,se:zt},Xt)).map(([ir,Pn])=>`${ir}=${Pn}`).join(";"),Nn=sl.chunkDataIfNeeded(Cn);q.push({type:"TXT",name:`_${At}._did.`,ttl:Kg,data:Nn})});const rt=["v=0"];if(Ke.length&&rt.push(`vm=${Ke.join(xu)}`),Object.keys(Zb).forEach(ct=>{var dt;const At=null===(dt=n[ct])||void 0===dt?void 0:dt.map(Pt=>Be.get(Pt.split("#").pop()));At&&rt.push(`${oN[ct]}=${At.join(xu)}`)}),Pe.length&&rt.push(`svc=${Pe.join(xu)}`),null!==(I=i.types)&&void 0!==I&&I.length){const dt=i.types.map(At=>"string"==typeof At?iN[At]:At);q.push({type:"TXT",name:"_typ._did.",ttl:Kg,data:`id=${dt.join(xu)}`})}q.push({type:"TXT",name:"_did."+Z0.getUniqueDidSuffix(n.id)+".",ttl:Kg,data:rt.join(";")});for(const ct of l||[])Ce.push({type:"NS",name:"_did."+Z0.getUniqueDidSuffix(n.id)+".",ttl:Kg,data:ct+"."});return{id:0,type:"response",flags:PE.hB,answers:[...q,...Ce]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class sl{static createBep44PutMessage(t){return od(this,arguments,void 0,function*({dnsPacket:n,publicKeyBytes:i,signer:l}){const p=Math.ceil(Date.now()/1e3),c=(0,PE.lF)(n),h=N3.A.encode({seq:p,v:c}).subarray(1,-1);if(h.length>1e3)throw new Wi(Ji.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${h.length} bytes`);return{k:i,seq:p,sig:yield l.sign({data:h}),v:c}})}static identifierToIdentityKey(t){return od(this,arguments,void 0,function*({didUri:n}){let i=sl.identifierToIdentityKeyBytes({didUri:n});return yield Wa.bytesToPublicKey({publicKeyBytes:i})})}static identifierToIdentityKeyBytes({didUri:t}){const n=Rs.parse(t);if(!n)throw new Wi(Ji.InvalidDid,`Invalid DID URI: ${t}`);if(n.method!==LO.methodName)throw new Wi(Ji.MethodNotSupported,`Method not supported: ${n.method}`);let i;try{i=nr.U$.base32Z(n.id).toUint8Array()}catch{throw new Wi(Ji.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==i.length)throw new Wi(Ji.InvalidPublicKeyLength,`Invalid public key length: ${i.length}`);return i}static identityKeyToIdentifier(t){return od(this,arguments,void 0,function*({identityKey:n}){const i=yield Wa.publicKeyToBytes({publicKey:n}),l=nr.U$.uint8Array(i).toBase32Z();return`did:${LO.methodName}:${l}`})}static keyConverter(t){const i={Ed25519:Wa,"P-256":{publicKeyToBytes:l=>od(this,[l],void 0,function*({publicKey:p}){const c=yield rc.publicKeyToBytes({publicKey:p});return yield rc.compressPublicKey({publicKeyBytes:c})}),bytesToPublicKey:rc.bytesToPublicKey,privateKeyToBytes:rc.privateKeyToBytes,bytesToPrivateKey:rc.bytesToPrivateKey},secp256k1:{publicKeyToBytes:l=>od(this,[l],void 0,function*({publicKey:p}){const c=yield nc.publicKeyToBytes({publicKey:p});return yield nc.compressPublicKey({publicKeyBytes:c})}),bytesToPublicKey:nc.bytesToPublicKey,privateKeyToBytes:nc.privateKeyToBytes,bytesToPrivateKey:nc.bytesToPrivateKey},X25519:vw}[t];if(!i)throw new Wi(Ji.InvalidPublicKeyType,`Unsupported curve: ${t}`);return i}static parseBep44GetMessage(t){return od(this,arguments,void 0,function*({bep44Message:n}){const i=yield Wa.bytesToPublicKey({publicKeyBytes:n.k}),l=N3.A.encode({seq:n.seq,v:n.v}).subarray(1,-1);if(!(yield Wa.verify({key:i,signature:n.sig,data:l})))throw new Wi(Ji.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,PE.D4)(n.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((n,i)=>{const[l,p]=i.split("=");return n[l]=p,n},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return nr.U$.uint8Array(t).toString();if(Array.isArray(t))return t.map(n=>this.parseTxtDataToString(n)).join("");throw new Wi(Ji.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return od(this,arguments,void 0,function*({newDid:n,previousDidProof:i}){const l=yield sl.identifierToIdentityKey({didUri:i.previousDid}),p=sl.identifierToIdentityKeyBytes({didUri:n}),c=nr.U$.base64Url(i.signature).toUint8Array();if(!(yield Wa.verify({key:l,data:p,signature:c})))throw new Wi(Ji.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const n=[];for(let i=0;i<t.length;i+=255)n.push(t.slice(i,i+255));return n}}var cN=w(52039),Vg=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},Y0=function(r){return r.Ed25519="Ed25519",r.secp256k1="secp256k1",r.secp256r1="secp256r1",r.X25519="X25519",r}(Y0||{});const R7={Ed25519:Y0.Ed25519,ES256K:Y0.secp256k1,ES256:Y0.secp256r1,"P-256":Y0.secp256r1,secp256k1:Y0.secp256k1,secp256r1:Y0.secp256r1},lN="https://ion.tbd.engineering";let O7=(()=>{class r extends NO{static create(){return Vg(this,arguments,void 0,function*({keyManager:n=new Mm,options:i={}}={}){var l,p,c,h,V,$,I;if(null!==(l=i.verificationMethods)&&void 0!==l&&l.some(Ct=>!(Ct.algorithm in R7)))throw new Error("One or more verification method algorithms are not supported");const q=null===(p=i.verificationMethods)||void 0===p?void 0:p.filter(Ct=>"id"in Ct).map(Ct=>Ct.id);if(q&&q.length!==new Set(q).size)throw new Error("One or more verification method IDs are not unique");if(null!==(c=i.services)&&void 0!==c&&c.some(Ct=>!Ct.id||!Ct.type||!Ct.serviceEndpoint))throw new Error("One or more services are missing required properties");const Ce={algorithm:"Ed25519",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]},Be=[];for(const Ct of null!==(h=i.verificationMethods)&&void 0!==h?h:[Ce]){const zt=yield n.generateKey({algorithm:Ct.algorithm}),Xt=yield n.getPublicKey({keyUri:zt});Be.push({id:Ct.id,publicKeyJwk:Xt,purposes:null!==(V=Ct.purposes)&&void 0!==V?V:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]})}const Pe=yield n.generateKey({algorithm:Y0.secp256k1}),Ke=yield n.getPublicKey({keyUri:Pe}),rt=yield n.generateKey({algorithm:Y0.secp256k1}),ht=yield n.getPublicKey({keyUri:rt}),ct=yield $h.computeLongFormDidUri({recoveryKey:Ke,updateKey:ht,services:null!==($=i.services)&&void 0!==$?$:[],verificationMethods:Be}),{didDocument:dt,didResolutionMetadata:At}=yield r.resolve(ct,{gatewayUri:i.gatewayUri});if(null===dt)throw new Error(`Unable to resolve DID during creation: ${At?.error}`);const Pt=new $g({uri:ct,document:dt,metadata:{published:!1,canonicalId:ct.split(":",3).join(":"),recoveryKey:Ke,updateKey:ht},keyManager:n});if(null===(I=i.publish)||void 0===I||I){const Ct=yield r.publish({did:Pt,gatewayUri:i.gatewayUri});Pt.metadata=Ct.didDocumentMetadata}return Pt})}static getSigningMethod(n){return Vg(this,arguments,void 0,function*({didDocument:i,methodId:l}){var p;const c=Rs.parse(i.id);if(c&&c.method!==this.methodName)throw new Wi(Ji.MethodNotSupported,`Method not supported: ${c.method}`);const h=null===(p=i.verificationMethod)||void 0===p?void 0:p.find(V=>{var $;return V.id===(l??(null===($=i.assertionMethod)||void 0===$?void 0:$[0]))});if(!h||!h.publicKeyJwk)throw new Wi(Ji.InternalError,"A verification method intended for signing could not be determined from the DID Document");return h})}static import(n){return Vg(this,arguments,void 0,function*({portableDid:i,keyManager:l=new Mm}){const p=Rs.parse(i.uri);if(p?.method!==r.methodName)throw new Wi(Ji.MethodNotSupported,"Method not supported");return yield $g.import({portableDid:i,keyManager:l})})}static publish(n){return Vg(this,arguments,void 0,function*({did:i,gatewayUri:l=lN}){var p,c,h;const V=null!==(c=null===(p=i.document.verificationMethod)||void 0===p?void 0:p.map(q=>({id:q.id,publicKeyJwk:q.publicKeyJwk,purposes:I7({didDocument:i.document,methodId:q.id})})))&&void 0!==c?c:[],$=yield $h.createIonDocument({services:null!==(h=i.document.service)&&void 0!==h?h:[],verificationMethods:V}),I=yield $h.constructCreateRequest({ionDocument:$,recoveryKey:i.metadata.recoveryKey,updateKey:i.metadata.updateKey});try{const q=$h.appendPathToUrl({baseUrl:l,path:"/operations"}),Ce=yield fetch(q,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)});return{didDocument:i.document,didDocumentMetadata:Object.assign(Object.assign({},i.metadata),{published:Ce.ok}),didRegistrationMetadata:{}}}catch{return{didDocument:null,didDocumentMetadata:{published:!1},didRegistrationMetadata:{error:Ji.InternalError,errorMessage:`Failed to publish DID document for: ${i.uri}`}}}})}static resolve(n){return Vg(this,arguments,void 0,function*(i,l={}){var p,c;const h=Rs.parse(i);if(!h)return Object.assign(Object.assign({},Hf),{didResolutionMetadata:{error:"invalidDid"}});if(h.method!==r.methodName)return Object.assign(Object.assign({},Hf),{didResolutionMetadata:{error:"methodNotSupported"}});const V=null!==(p=l?.gatewayUri)&&void 0!==p?p:lN;try{const $=$h.appendPathToUrl({baseUrl:V,path:`/identifiers/${i}`}),I=yield fetch($);if(!I.ok)throw new Wi(Ji.NotFound,`Unable to find DID document for: ${i}`);const{didDocument:q,didDocumentMetadata:Ce}=yield I.json();return Object.assign(Object.assign(Object.assign({},Hf),q&&{didDocument:q}),{didDocumentMetadata:Object.assign({published:null===(c=Ce?.method)||void 0===c?void 0:c.published},Ce)})}catch($){if(!($ instanceof Wi))throw new Error($);return Object.assign(Object.assign({},Hf),{didResolutionMetadata:Object.assign({error:$.code},$.message&&{errorMessage:$.message})})}})}}return r.methodName="ion",r})();class $h{static appendPathToUrl({baseUrl:t,path:n}){const i=new URL(t);return i.pathname=i.pathname.endsWith("/")?i.pathname:i.pathname+"/",i.pathname+=n.startsWith("/")?n.substring(1):n,i.toString()}static computeLongFormDidUri(t){return Vg(this,arguments,void 0,function*({recoveryKey:n,updateKey:i,services:l,verificationMethods:p}){const c=yield $h.createIonDocument({services:l,verificationMethods:p}),h=$h.normalizeJwk(n),V=$h.normalizeJwk(i);return yield cN.oU.createLongFormDid({document:c,recoveryKey:h,updateKey:V})})}static constructCreateRequest(t){return Vg(this,arguments,void 0,function*({ionDocument:n,recoveryKey:i,updateKey:l}){return yield cN.Q2.createCreateRequest({document:n,recoveryKey:$h.normalizeJwk(i),updateKey:$h.normalizeJwk(l)})})}static createIonDocument(t){return Vg(this,arguments,void 0,function*({services:n,verificationMethods:i}){var l,p;const c=[];for(const $ of i){let I=null!==(p=null!==(l=$.id)&&void 0!==l?l:$.publicKeyJwk.kid)&&void 0!==p?p:yield Xs({jwk:$.publicKeyJwk});I=`${I.split("#").pop()}`;const q={id:I,publicKeyJwk:$h.normalizeJwk($.publicKeyJwk),purposes:$.purposes,type:"JsonWebKey2020"};c.push(q)}return{publicKeys:c,services:n.map($=>Object.assign(Object.assign({},$),{id:`${$.id.split("#").pop()}`}))}})}static normalizeJwk(t){const n=t.kty;let i;if("EC"===n)i={crv:t.crv,kty:t.kty,x:t.x,y:t.y};else if("oct"===n)i={k:t.k,kty:t.kty};else if("OKP"===n)i={crv:t.crv,kty:t.kty,x:t.x};else{if("RSA"!==n)throw new Error(`Unsupported key type: ${n}`);i={e:t.e,kty:t.kty,n:t.n}}return i}}var Ip=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},zg=function(r){return r.Ed25519="Ed25519",r.secp256k1="secp256k1",r.secp256r1="secp256r1",r.X25519="X25519",r}(zg||{});const UO={Ed25519VerificationKey2020:"https://w3id.org/security/suites/ed25519-2020/v1",JsonWebKey2020:"https://w3id.org/security/suites/jws-2020/v1",X25519KeyAgreementKey2020:"https://w3id.org/security/suites/x25519-2020/v1"},P7={Ed25519:zg.Ed25519,ES256K:zg.secp256k1,ES256:zg.secp256r1,"P-256":zg.secp256r1,secp256k1:zg.secp256k1,secp256r1:zg.secp256r1,X25519:zg.X25519};let B7=(()=>{class r extends NO{static create(){return Ip(this,arguments,void 0,function*({keyManager:n=new Mm,options:i={}}={}){var l,p,c,h;if(i.algorithm&&i.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(i.verificationMethods&&1!==i.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const V=null!==(h=null!==(l=i.algorithm)&&void 0!==l?l:null===(c=null===(p=i.verificationMethods)||void 0===p?void 0:p[0])||void 0===c?void 0:c.algorithm)&&void 0!==h?h:"Ed25519",$=yield n.generateKey({algorithm:V}),I=yield n.getPublicKey({keyUri:$}),q=yield J0.publicKeyToMultibaseId({publicKey:I}),Ce=`did:${r.methodName}:${q}`,Pe=(yield r.resolve(Ce,i)).didDocument;return new $g({uri:Ce,document:Pe,metadata:{},keyManager:n})})}static getSigningMethod(n){return Ip(this,arguments,void 0,function*({didDocument:i}){var l;const p=Rs.parse(i.id);if(p&&p.method!==this.methodName)throw new Wi(Ji.MethodNotSupported,`Method not supported: ${p.method}`);const[c]=i.assertionMethod||[],h=null===(l=i.verificationMethod)||void 0===l?void 0:l.find(V=>V.id===c);if(!h||!h.publicKeyJwk)throw new Wi(Ji.InternalError,"A verification method intended for signing could not be determined from the DID Document");return h})}static import(n){return Ip(this,arguments,void 0,function*({portableDid:i,keyManager:l=new Mm}){const p=Rs.parse(i.uri);if(p?.method!==r.methodName)throw new Wi(Ji.MethodNotSupported,"Method not supported");const c=yield $g.import({portableDid:i,keyManager:l});if(1!==c.document.verificationMethod.length)throw new Wi(Ji.InvalidDidDocument,"DID document must contain exactly one verification method");return c})}static resolve(n,i){return Ip(this,void 0,void 0,function*(){try{const l=yield r.createDocument({didUri:n,options:i});return Object.assign(Object.assign({},Hf),{didDocument:l})}catch(l){if(!(l instanceof Wi))throw new Error(l);return Object.assign(Object.assign({},Hf),{didResolutionMetadata:Object.assign({error:l.code},l.message&&{errorMessage:l.message})})}})}static createDocument(n){return Ip(this,arguments,void 0,function*({didUri:i,options:l={}}){const{defaultContext:p="https://www.w3.org/ns/did/v1",enableEncryptionKeyDerivation:c=!1,enableExperimentalPublicKeyTypes:h=!1,publicKeyFormat:V="JsonWebKey2020"}=l,$={id:""},I=Rs.parse(i);if(!I)throw new Wi(Ji.InvalidDid,`Invalid DID URI: ${i}`);const q=I.id;if(I.method!==r.methodName)throw new Wi(Ji.MethodNotSupported,`Method not supported: ${I.method}`);if(!r.validateIdentifier(I))throw new Wi(Ji.InvalidDid,`Invalid DID URI: ${i}`);const Ce=yield r.createSignatureMethod({didUri:i,multibaseValue:q,options:{enableExperimentalPublicKeyTypes:h,publicKeyFormat:V}});if($.id=I.uri,$.verificationMethod=[Ce],$.authentication=[Ce.id],$.assertionMethod=[Ce.id],$.capabilityInvocation=[Ce.id],$.capabilityDelegation=[Ce.id],!0===c){const Ke="Ed25519VerificationKey2020"===V?"X25519KeyAgreementKey2020":"JsonWebKey2020",rt=yield this.createEncryptionMethod({didUri:i,multibaseValue:q,options:{enableExperimentalPublicKeyTypes:h,publicKeyFormat:Ke}});$.verificationMethod.push(rt),$.keyAgreement=[rt.id]}const Be=[p];return function D7({didDocument:r}){const n=PO({didDocument:r}).map(i=>i.type);return[...new Set(n)]}({didDocument:$}).forEach(Ke=>{Be.push(UO[Ke])}),$["@context"]=Be,$})}static createEncryptionMethod(n){return Ip(this,arguments,void 0,function*({didUri:i,multibaseValue:l,options:p}){const{enableExperimentalPublicKeyTypes:c,publicKeyFormat:h}=p,V={id:"",type:"",controller:""},{keyBytes:$,multicodecCode:I}=yield r.deriveEncryptionKey({multibaseValue:l}),q=$.byteLength,Ce=J0.MULTICODEC_PUBLIC_KEY_LENGTH[I];if(q!==Ce)throw new Wi(Ji.InvalidPublicKeyLength,`Expected ${q} bytes. Actual: ${Ce}`);const Be=QB({keyBytes:$,multicodecCode:I});V.id=`${i}#${Be}`;try{new URL(V.id)}catch{throw new Wi(Ji.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(h in UO))throw new Wi(Ji.UnsupportedPublicKeyType,`Unsupported format: ${h}`);if(!1===c&&!["Multikey","JsonWebKey2020","X25519KeyAgreementKey2020"].includes(h))throw new Wi(Ji.InvalidPublicKeyType,`Specified '${h}' without setting enableExperimentalPublicKeyTypes to true.`);if(V.type=h,V.controller=i,"X25519KeyAgreementKey2020"===h&&(V.publicKeyMultibase=Be),"JsonWebKey2020"===h){const{crv:Ke}=yield J0.multicodecToJwk({code:I});V.publicKeyJwk=yield J0.keyConverter(Ke).bytesToPublicKey({publicKeyBytes:$})}return V})}static createSignatureMethod(n){return Ip(this,arguments,void 0,function*({didUri:i,multibaseValue:l,options:p}){const{enableExperimentalPublicKeyTypes:c,publicKeyFormat:h}=p,V={id:"",type:"",controller:""},{keyBytes:$,multicodecCode:I,multicodecName:q}=eN({multibaseKeyId:l}),Ce=$.byteLength,Be=J0.MULTICODEC_PUBLIC_KEY_LENGTH[I];if(Ce!==Be)throw new Wi(Ji.InvalidPublicKeyLength,`Expected ${Ce} bytes. Actual: ${Be}`);let Pe=!1;switch(q){case"secp256k1-pub":Pe=yield nc.validatePublicKey({publicKeyBytes:$});break;case"ed25519-pub":Pe=yield Wa.validatePublicKey({publicKeyBytes:$});break;case"x25519-pub":Pe=!0}if(!Pe)throw new Wi(Ji.InvalidPublicKey,"Invalid public key detected.");V.id=`${i}#${l}`;try{new URL(V.id)}catch{throw new Wi(Ji.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(h in UO))throw new Wi(Ji.UnsupportedPublicKeyType,`Unsupported format: ${h}`);if(!1===c&&!["Multikey","JsonWebKey2020","Ed25519VerificationKey2020"].includes(h))throw new Wi(Ji.InvalidPublicKeyType,`Specified '${h}' without setting enableExperimentalPublicKeyTypes to true.`);if(V.type=h,V.controller=i,"Ed25519VerificationKey2020"===h&&(V.publicKeyMultibase=l),"JsonWebKey2020"===h){const{crv:rt}=yield J0.multicodecToJwk({code:I});V.publicKeyJwk=yield J0.keyConverter(rt).bytesToPublicKey({publicKeyBytes:$})}return V})}static deriveEncryptionKey(n){return Ip(this,arguments,void 0,function*({multibaseValue:i}){let l={keyBytes:new Uint8Array,multicodecCode:0};const{keyBytes:p,multicodecCode:c}=eN({multibaseKeyId:i});if(237===c){const h=yield J0.keyConverter("Ed25519").bytesToPublicKey({publicKeyBytes:p}),V=yield Wa.convertPublicKeyToX25519({publicKey:h});l={keyBytes:yield J0.keyConverter("Ed25519").publicKeyToBytes({publicKey:V}),multicodecCode:236}}return l})}static validateIdentifier(n){const{method:i,id:l}=n,[p]=n.uri.split(":",1);return"did"===p&&"key"===i&&Number("1")>0&&"String"===(0,nr.fc)(l)&&l.startsWith("z")}}return r.methodName="key",r})(),J0=(()=>{class r{static jwkToMulticodec(n){return Ip(this,arguments,void 0,function*({jwk:i}){const l=[];i.crv&&(l.push(i.crv),l.push(i.d?"private":"public"));const p=l.join(":"),c=r.JWK_TO_MULTICODEC[p];if(void 0===c)throw new Error(`Unsupported JWK to Multicodec conversion: '${p}'`);return{code:nr.Gs.getCodeFromName({name:c}),name:c}})}static keyCompressor(n){const l={"P-256":rc.compressPublicKey,secp256k1:nc.compressPublicKey}[n];if(!l)throw new Wi(Ji.InvalidPublicKeyType,`Unsupported curve: ${n}`);return l}static keyConverter(n){const l={Ed25519:Wa,"P-256":rc,secp256k1:nc,X25519:vw}[n];if(!l)throw new Wi(Ji.InvalidPublicKeyType,`Unsupported curve: ${n}`);return l}static multicodecToJwk(n){return Ip(this,arguments,void 0,function*({code:i,name:l}){if(!(l?!i:i))throw new Error("Either 'name' or 'code' must be defined, but not both.");l=void 0===l?nr.Gs.getNameFromCode({code:i}):l;const c=r.MULTICODEC_TO_JWK[l];if(void 0===c)throw new Error("Unsupported Multicodec to JWK conversion");return Object.assign({},c)})}static publicKeyToMultibaseId(n){return Ip(this,arguments,void 0,function*({publicKey:i}){var l;if(!i?.crv||!(i.crv in P7))throw new Wi(Ji.InvalidPublicKeyType,`Public key contains an unsupported key type: ${null!==(l=i?.crv)&&void 0!==l?l:"undefined"}`);let p=yield r.keyConverter(i.crv).publicKeyToBytes({publicKey:i});/^(secp256k1|P-256|P-384|P-521)$/.test(i.crv)&&(p=yield r.keyCompressor(i.crv)({publicKeyBytes:p}));const{name:c}=yield r.jwkToMulticodec({jwk:i});return QB({keyBytes:p,multicodecName:c})})}}return r.JWK_TO_MULTICODEC={"Ed25519:public":"ed25519-pub","Ed25519:private":"ed25519-priv","secp256k1:public":"secp256k1-pub","secp256k1:private":"secp256k1-priv","X25519:public":"x25519-pub","X25519:private":"x25519-priv"},r.MULTICODEC_PUBLIC_KEY_LENGTH={231:33,236:32,237:32},r.MULTICODEC_TO_JWK={"ed25519-pub":{crv:"Ed25519",kty:"OKP",x:""},"ed25519-priv":{crv:"Ed25519",kty:"OKP",x:"",d:""},"secp256k1-pub":{crv:"secp256k1",kty:"EC",x:"",y:""},"secp256k1-priv":{crv:"secp256k1",kty:"EC",x:"",y:"",d:""},"x25519-pub":{crv:"X25519",kty:"OKP",x:""},"x25519-priv":{crv:"X25519",kty:"OKP",x:"",d:""}},r})();var N7=w(14078),L7=w(42064);class F7{constructor({db:t,location:n="DATA/DID_RESOLVERCACHE",ttl:i="15m"}={}){this.cache=t??new L7.Level(n),this.ttl=N7(i)}get(t){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{const n=yield this.cache.get(t),i=JSON.parse(n);return Date.now()>=i.ttlMillis?void this.cache.nextTick(()=>this.cache.del(t)):i.value}catch(n){if(n.notFound)return;throw n}})}set(t,n){const i={ttlMillis:Date.now()+this.ttl,value:n},l=JSON.stringify(i);return this.cache.put(t,l)}delete(t){return this.cache.del(t)}clear(){return this.cache.clear()}close(){return this.cache.close()}}const j7={get:function(r){return null},set:function(r,t){return null},delete:function(r){return null},clear:function(){return null},close:function(){return null}};var dN=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class $7{constructor({cache:t,didResolvers:n}){this.didResolvers=new Map,this.cache=t||j7;for(const i of n)this.didResolvers.set(i.methodName,i)}resolve(t,n){return dN(this,void 0,void 0,function*(){const i=Rs.parse(t);if(!i)return Object.assign(Object.assign({},Hf),{didResolutionMetadata:{error:Ji.InvalidDid,errorMessage:`Invalid DID URI: ${t}`}});const l=this.didResolvers.get(i.method);if(!l)return Object.assign(Object.assign({},Hf),{didResolutionMetadata:{error:Ji.MethodNotSupported,errorMessage:`Method not supported: ${i.method}`}});const p=yield this.cache.get(i.uri);if(p)return p;{const c=yield l.resolve(i.uri,n);return c.didResolutionMetadata.error||(yield this.cache.set(i.uri,c)),c}})}dereference(t,n){return dN(this,void 0,void 0,function*(){const i=Rs.parse(t);if(!i)return{dereferencingMetadata:{error:Ji.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:l,didResolutionMetadata:p,didDocumentMetadata:c}=yield this.resolve(i.uri);if(!l)return{dereferencingMetadata:{error:p.error},contentStream:null,contentMetadata:{}};if(!i.fragment||i.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:l,contentMetadata:c};const{service:h=[],verificationMethod:V=[]}=l,$=new Set([t,i.fragment,`#${i.fragment}`]);let I;for(let q of V)if($.has(q.id)){I=q;break}for(let q of h)if($.has(q.id)){I=q;break}return I?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:I,contentMetadata:p}:{dereferencingMetadata:{error:Ji.NotFound},contentStream:null,contentMetadata:{}}})}}var BE=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class FO{constructor(t){this.didResolver=t.didResolver,this.tenantGate=t.tenantGate,this.eventStream=t.eventStream,this.messageStore=t.messageStore,this.dataStore=t.dataStore,this.resumableTaskStore=t.resumableTaskStore,this.eventLog=t.eventLog,this.eventStream=t.eventStream,this.storageController=new cf({messageStore:this.messageStore,dataStore:this.dataStore,eventLog:this.eventLog,eventStream:this.eventStream}),this.resumableTaskManager=new mE(t.resumableTaskStore,this.storageController),this.methodHandlers={[$i.Messages+vi.Query]:new Vb(this.didResolver,this.messageStore,this.eventLog),[$i.Messages+vi.Read]:new hE(this.didResolver,this.messageStore,this.dataStore),[$i.Messages+vi.Subscribe]:new zb(this.didResolver,this.messageStore,this.eventStream),[$i.Protocols+vi.Configure]:new Hb(this.didResolver,this.messageStore,this.eventLog,this.eventStream),[$i.Protocols+vi.Query]:new hR(this.didResolver,this.messageStore,this.dataStore),[$i.Records+vi.Delete]:new Sg(this.didResolver,this.messageStore,this.resumableTaskManager),[$i.Records+vi.Query]:new _p(this.didResolver,this.messageStore,this.dataStore),[$i.Records+vi.Read]:new yM(this.didResolver,this.messageStore,this.dataStore),[$i.Records+vi.Subscribe]:new jh(this.didResolver,this.messageStore,this.eventStream),[$i.Records+vi.Write]:new bm(this.didResolver,this.messageStore,this.dataStore,this.eventLog,this.eventStream)}}static create(t){var n,i;return BE(this,void 0,void 0,function*(){null!==(n=t.didResolver)&&void 0!==n||(t.didResolver=new $7({didResolvers:[LO,O7,B7],cache:new F7({location:"RESOLVERCACHE"})})),null!==(i=t.tenantGate)&&void 0!==i||(t.tenantGate=new dR);const l=new FO(t);return yield l.open(),l})}open(){var t;return BE(this,void 0,void 0,function*(){yield this.messageStore.open(),yield this.dataStore.open(),yield this.resumableTaskStore.open(),yield this.eventLog.open(),yield null===(t=this.eventStream)||void 0===t?void 0:t.open(),yield this.resumableTaskManager.resumeTasksAndWaitForCompletion()})}close(){var t;return BE(this,void 0,void 0,function*(){yield null===(t=this.eventStream)||void 0===t?void 0:t.close(),yield this.messageStore.close(),yield this.dataStore.close(),yield this.resumableTaskStore.close(),yield this.eventLog.close()})}processMessage(t,n,i={}){var l;return BE(this,void 0,void 0,function*(){const p=null!==(l=yield this.validateTenant(t))&&void 0!==l?l:yield this.validateMessageIntegrity(n);if(void 0!==p)return p;const{dataStream:c,subscriptionHandler:h}=i,V=n.descriptor.interface+n.descriptor.method;return yield this.methodHandlers[V].handle({tenant:t,message:n,dataStream:c,subscriptionHandler:h})})}validateTenant(t){var n;return BE(this,void 0,void 0,function*(){const i=yield this.tenantGate.isActiveTenant(t);if(!i.isActiveTenant)return{status:{code:401,detail:null!==(n=i.detail)&&void 0!==n?n:`DID ${t} is not an active tenant.`}}})}validateMessageIntegrity(t){var n,i;return BE(this,void 0,void 0,function*(){const l=null===(n=t?.descriptor)||void 0===n?void 0:n.interface,p=null===(i=t?.descriptor)||void 0===i?void 0:i.method;if(void 0===l||void 0===p)return{status:{code:400,detail:`Both interface and method must be present, interface: ${l}, method: ${p}`}};try{Hr.validateJsonSchema(t)}catch(c){return ks(c,400)}})}}function V7(r){return new Promise((t,n)=>{r.aborted?n(r.reason):r.addEventListener("abort",()=>{n(r.reason)})})}function Cd(r,t){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return t?Promise.race([r,V7(t)]):r})}var fN=w(54626),Yf=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},Cp=function(r){return this instanceof Cp?(this.v=r,this):new Cp(r)},jO=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(p){n[p]=r[p]&&function(c){return new Promise(function(h,V){!function l(p,c,h,V){Promise.resolve(V).then(function($){p({value:$,done:h})},c)}(h,V,(c=r[p](c)).done,c.value)})}}},hN=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,i=n.apply(r,t||[]),p=[];return l={},c("next"),c("throw"),c("return"),l[Symbol.asyncIterator]=function(){return this},l;function c(Ce){i[Ce]&&(l[Ce]=function(Be){return new Promise(function(Pe,Ke){p.push([Ce,Be,Pe,Ke])>1||h(Ce,Be)})})}function h(Ce,Be){try{!function V(Ce){Ce.value instanceof Cp?Promise.resolve(Ce.value.v).then($,I):q(p[0][2],Ce)}(i[Ce](Be))}catch(Pe){q(p[0][3],Pe)}}function $(Ce){h("next",Ce)}function I(Ce){h("throw",Ce)}function q(Ce,Be){Ce(Be),p.shift(),p.length&&h(p[0][0],p[0][1])}};function bw(r,t){return Yf(this,void 0,void 0,function*(){return new fN.Level(r,Object.assign(Object.assign({},t),{keyEncoding:"utf8"}))})}class NE{constructor(t,n){this.config=Object.assign({createLevelDatabase:bw},t),this.db=n}open(){return Yf(this,void 0,void 0,function*(){switch(yield this.createLevelDatabase(),this.db.status){case"open":return;case"opening":return new Promise(t=>{this.db.once("open",t)});case"closing":return new Promise((t,n)=>{this.db.once("closed",()=>{this.db.open().then(t).catch(n)})});case"closed":return this.db.open()}})}close(){return Yf(this,void 0,void 0,function*(){if(this.db)switch(this.db.status){case"open":return this.db.close();case"opening":return new Promise((t,n)=>{this.db.once("open",()=>{this.db.close().then(t).catch(n)})});case"closing":return new Promise(t=>{this.db.once("closed",t)});case"closed":return}})}partition(t){return Yf(this,void 0,void 0,function*(){return yield this.createLevelDatabase(),new NE(this.config,this.db.sublevel(t,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}get(t,n){var i;return Yf(this,void 0,void 0,function*(){null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Cd(this.createLevelDatabase(),n?.signal);try{return yield Cd(this.db.get(String(t)),n?.signal)}catch(l){if("LEVEL_NOT_FOUND"===l.code)return;throw l}})}has(t,n){return Yf(this,void 0,void 0,function*(){return!!(yield this.get(t,n))})}keys(t){var n,i;return hN(this,arguments,function*(){var p,c,h;null===(n=t?.signal)||void 0===n||n.throwIfAborted(),yield Cp(Cd(this.createLevelDatabase(),t?.signal));try{for(var q,$=!0,I=jO(this.db.keys());!(p=(q=yield Cp(I.next())).done);$=!0){$=!1;const Ce=q.value;null===(i=t?.signal)||void 0===i||i.throwIfAborted(),yield yield Cp(Ce)}}catch(Ce){c={error:Ce}}finally{try{!$&&!p&&(h=I.return)&&(yield Cp(h.call(I)))}finally{if(c)throw c.error}}})}iterator(t,n){var i,l;return hN(this,arguments,function*(){var c,h,V;null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Cp(Cd(this.createLevelDatabase(),n?.signal));try{for(var Ce,I=!0,q=jO(this.db.iterator(t));!(c=(Ce=yield Cp(q.next())).done);I=!0){I=!1;const Be=Ce.value;null===(l=n?.signal)||void 0===l||l.throwIfAborted(),yield yield Cp(Be)}}catch(Be){h={error:Be}}finally{try{!I&&!c&&(V=q.return)&&(yield Cp(V.call(q)))}finally{if(h)throw h.error}}})}put(t,n,i){var l;return Yf(this,void 0,void 0,function*(){return null===(l=i?.signal)||void 0===l||l.throwIfAborted(),yield Cd(this.createLevelDatabase(),i?.signal),Cd(this.db.put(String(t),n),i?.signal)})}delete(t,n){var i;return Yf(this,void 0,void 0,function*(){return null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Cd(this.createLevelDatabase(),n?.signal),Cd(this.db.del(String(t)),n?.signal)})}isEmpty(t){var n,i,l;return Yf(this,void 0,void 0,function*(){try{for(var V,c=!0,h=jO(this.keys(t));V=yield h.next(),!(n=V.done);c=!0)return c=!1,!1}catch($){i={error:$}}finally{try{!c&&!n&&(l=h.return)&&(yield l.call(h))}finally{if(i)throw i.error}}return!0})}clear(){return Yf(this,void 0,void 0,function*(){yield this.createLevelDatabase(),yield this.db.clear(),yield this.compactUnderlyingStorage()})}batch(t,n){var i;return Yf(this,void 0,void 0,function*(){return null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Cd(this.createLevelDatabase(),n?.signal),Cd(this.db.batch(t),n?.signal)})}createPartitionOperation(t,n){return Object.assign(Object.assign({},n),{sublevel:this.db.sublevel(t,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding})})}compactUnderlyingStorage(t){var n,i,l;return Yf(this,void 0,void 0,function*(){null===(n=t?.signal)||void 0===n||n.throwIfAborted(),yield Cd(this.createLevelDatabase(),t?.signal);const p=this.sublevelRange;if(!p)return;const c=this.root;return c.db.supports.additionalMethods.compactRange?Cd(null===(l=(i=c.db).compactRange)||void 0===l?void 0:l.call(i,...p),t?.signal):void 0})}get sublevelRange(){const t=this.db.prefix;if(!t)return;const n=t.slice(0,-1)+String.fromCharCode(t.charCodeAt(t.length-1)+1);return[t,n]}get root(){let t=this.db;for(const n=t.db;n&&n!==t;)t=n;return new NE(this.config,t)}createLevelDatabase(){var t;return Yf(this,void 0,void 0,function*(){null!==(t=this.db)&&void 0!==t||(this.db=yield this.config.createLevelDatabase(this.config.location,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}}var q0=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},U3=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(p){n[p]=r[p]&&function(c){return new Promise(function(h,V){!function l(p,c,h,V){Promise.resolve(V).then(function($){p({value:$,done:h})},c)}(h,V,(c=r[p](c)).done,c.value)})}}},sd=function(r){return this instanceof sd?(this.v=r,this):new sd(r)},F3=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,i=n.apply(r,t||[]),p=[];return l={},c("next"),c("throw"),c("return"),l[Symbol.asyncIterator]=function(){return this},l;function c(Ce){i[Ce]&&(l[Ce]=function(Be){return new Promise(function(Pe,Ke){p.push([Ce,Be,Pe,Ke])>1||h(Ce,Be)})})}function h(Ce,Be){try{!function V(Ce){Ce.value instanceof sd?Promise.resolve(Ce.value.v).then($,I):q(p[0][2],Ce)}(i[Ce](Be))}catch(Pe){q(p[0][3],Pe)}}function $(Ce){h("next",Ce)}function I(Ce){h("throw",Ce)}function q(Ce,Be){Ce(Be),p.shift(),p.length&&h(p[0][0],p[0][1])}};class j3{constructor(t,n){this.config=Object.assign({createLevelDatabase:bw},t),this.db=n??new NE(Object.assign(Object.assign({},this.config),{valueEncoding:"binary"}))}open(){return q0(this,void 0,void 0,function*(){return this.db.open()})}close(){return q0(this,void 0,void 0,function*(){return this.db.close()})}partition(t){return q0(this,void 0,void 0,function*(){const n=yield this.db.partition(t);return new j3(Object.assign(Object.assign({},this.config),{location:""}),n)})}put(t,n,i){return q0(this,void 0,void 0,function*(){return yield this.db.put(String(t),n,i),mh.TO.parse(t.toString())})}get(t,n){return q0(this,void 0,void 0,function*(){return yield this.db.get(String(t),n)})}has(t,n){return q0(this,void 0,void 0,function*(){return this.db.has(String(t),n)})}delete(t,n){return q0(this,void 0,void 0,function*(){return this.db.delete(String(t),n)})}isEmpty(t){return q0(this,void 0,void 0,function*(){return this.db.isEmpty(t)})}putMany(t,n){return F3(this,arguments,function*(){var l,p,c;try{for(var I,V=!0,$=U3(t);!(l=(I=yield sd($.next())).done);V=!0){V=!1;const q=I.value;yield sd(this.put(q.cid,q.block,n)),yield yield sd(q.cid)}}catch(q){p={error:q}}finally{try{!V&&!l&&(c=$.return)&&(yield sd(c.call($)))}finally{if(p)throw p.error}}})}getMany(t,n){return F3(this,arguments,function*(){var l,p,c;try{for(var I,V=!0,$=U3(t);!(l=(I=yield sd($.next())).done);V=!0){V=!1;const q=I.value;yield yield sd({cid:q,block:yield sd(this.get(q,n))})}}catch(q){p={error:q}}finally{try{!V&&!l&&(c=$.return)&&(yield sd(c.call($)))}finally{if(p)throw p.error}}})}getAll(t){return F3(this,arguments,function*(){var i,l,p,c;const h=this.db.iterator({keys:!0,keyEncoding:"buffer"},t);try{for(var I,V=!0,$=U3(h);!(i=(I=yield sd($.next())).done);V=!0){c=I.value,V=!1;const[q,Ce]=c;yield yield sd({cid:mh.TO.decode(q),block:Ce})}}catch(q){l={error:q}}finally{try{!V&&!i&&(p=$.return)&&(yield sd(p.call($)))}finally{if(l)throw l.error}}})}deleteMany(t,n){return F3(this,arguments,function*(){var l,p,c;try{for(var I,V=!0,$=U3(t);!(l=(I=yield sd($.next())).done);V=!0){V=!1;const q=I.value;yield sd(this.delete(q,n)),yield yield sd(q)}}catch(q){p={error:q}}finally{try{!V&&!l&&(c=$.return)&&(yield sd(c.call($)))}finally{if(p)throw p.error}}})}clear(){return q0(this,void 0,void 0,function*(){return this.db.clear()})}}var zc=w(42853);const W7=function H7(r){if(function z7(r){return null!=r[Symbol.asyncIterator]}(r))return(0,ye.A)(function*(){let n;var p,i=!1,l=!1;try{for(var h,c=Ko(r);i=!(h=yield c.next()).done;i=!1)n=h.value}catch(V){l=!0,p=V}finally{try{i&&null!=c.return&&(yield c.return())}finally{if(l)throw p}}return n})();let t;for(const n of r)t=n;return t};var pN=w(56580);const Z7=function(){var r=(0,ye.A)(function*(t,n,i,l,p,c,h,V){const $=yield h.get(t,V),I=Dv($);let q=I,Ce=i;for(;l.length>0;){const Be=l[0];if(!(Be in q))throw zc(new Error(`No property named ${Be} found in cbor node ${t}`),"ERR_NO_PROP");{l.shift(),Ce=`${Ce}/${Be}`;const Pe=Bf.TO.asCID(q[Be]);if(null!=Pe)return{entry:{type:"object",name:n,path:i,cid:t,node:$,depth:c,size:BigInt($.length),content:function(){var Ke=us(function*(){yield I});return function(){return Ke.apply(this,arguments)}}()},next:{cid:Pe,name:Be,path:Ce,toResolve:l}};q=q[Be]}}return{entry:{type:"object",name:n,path:i,cid:t,node:$,depth:c,size:BigInt($.length),content:(Be=us(function*(){yield I}),function(){return Be.apply(this,arguments)})}};var Be});return function(n,i,l,p,c,h,V,$){return r.apply(this,arguments)}}(),$3=function Y7(r,t,n,i){const l=BigInt(r.length),p=BigInt(t+l);return n>=p||i<t?new Uint8Array(0):(i>=t&&i<p&&(r=r.subarray(0,Number(i-t))),n>=t&&n<p&&(r=r.subarray(Number(n-t))),r)},$O=(r,t=0,n=r)=>{const i=BigInt(r),l=BigInt(t??0);let p=BigInt(n);if(p!==i&&(p=l+p),p>i&&(p=i),l<0n)throw zc(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(l>i)throw zc(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(p<0n)throw zc(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(p>i)throw zc(new Error("Length must be less than the file size"),"ERR_INVALID_PARAMS");return{start:l,end:p}},J7=r=>{function n(){return(n=us(function*(i={}){const{start:l,end:p}=$O(r.length,i.offset,i.length),c=$3(r,0n,l,p);i.onProgress?.(new Sl("unixfs:exporter:progress:identity",{bytesRead:BigInt(c.byteLength),totalBytes:p-l,fileSize:BigInt(r.byteLength)})),yield c})).apply(this,arguments)}return function t(){return n.apply(this,arguments)}},q7=function(){var r=(0,ye.A)(function*(t,n,i,l,p,c,h,V){if(l.length>0)throw zc(new Error(`No link named ${i} found in raw node ${t}`),"ERR_NOT_FOUND");const $=pN.D4(t.multihash.bytes);return{entry:{type:"identity",name:n,path:i,cid:t,content:J7($.digest),depth:c,size:BigInt($.digest.length),node:$.digest}}});return function(n,i,l,p,c,h,V,$){return r.apply(this,arguments)}}(),Q7=r=>{function n(){return(n=us(function*(i={}){const{start:l,end:p}=$O(r.length,i.offset,i.length),c=$3(r,0n,l,p);i.onProgress?.(new Sl("unixfs:exporter:progress:raw",{bytesRead:BigInt(c.byteLength),totalBytes:p-l,fileSize:BigInt(r.byteLength)})),yield c})).apply(this,arguments)}return function t(){return n.apply(this,arguments)}},eL=function(){var r=(0,ye.A)(function*(t,n,i,l,p,c,h,V){if(l.length>0)throw zc(new Error(`No link named ${i} found in raw node ${t}`),"ERR_NOT_FOUND");const $=yield h.get(t,V);return{entry:{type:"raw",name:n,path:i,cid:t,content:Q7($),depth:c,size:BigInt($.length),node:$}}});return function(n,i,l,p,c,h,V,$){return r.apply(this,arguments)}}(),tL=function(){var r=(0,ye.A)(function*(t){return(yield uI.encode(t)).slice(0,8).reverse()});return function(n){return r.apply(this,arguments)}}(),nL=function(){var r=(0,ye.A)(function*(t,n,i){yield Promise.all(t.map(function(){var l=(0,ye.A)(function*(p){if(null==p.Name)throw new Error("Unexpected Link without a Name");if(2!==p.Name.length)yield i.put(p.Name.substring(2),!0);else{const c=parseInt(p.Name,16);n._putObjectAt(c,new uu({hash:i._options.hash,bits:i._options.bits},n,c))}});return function(p){return l.apply(this,arguments)}}()))});return function(n,i,l){return r.apply(this,arguments)}}(),gN=r=>r.toString(16).toUpperCase().padStart(2,"0").substring(0,2),vN=function(){var r=(0,ye.A)(function*(t,n,i,l,p){if(null==l){const q=e1({hashFn:tL});l={rootBucket:q,hamtDepth:1,lastBucket:q}}yield nL(t.Links,l.lastBucket,l.rootBucket);const c=yield l.rootBucket._findNewBucketAndPos(n);let h=gN(c.pos);const V=(r=>{let t=r.bucket;const n=[];for(;null!=t._parent;)n.push(t),t=t._parent;return n.push(t),n.reverse()})(c);V.length>l.hamtDepth&&(l.lastBucket=V[l.hamtDepth],h=gN(l.lastBucket._posAtParent));const $=t.Links.find(q=>{if(null==q.Name)return!1;const Ce=q.Name.substring(0,2),Be=q.Name.substring(2);return!(Ce!==h||""!==Be&&Be!==n)});if(null!=$)return null!=$.Name&&$.Name.substring(2)===n?$.Hash:(l.hamtDepth++,t=x_(yield i.get($.Hash,p)),vN(t,n,i,l,p))});return function(n,i,l,p,c){return r.apply(this,arguments)}}(),iL=vN,bN=function oL(r){const[t,n]=null!=r[Symbol.asyncIterator]?[r[Symbol.asyncIterator](),Symbol.asyncIterator]:[r[Symbol.iterator](),Symbol.iterator],i=[];return{peek:()=>t.next(),push:l=>{i.push(l)},next:()=>i.length>0?{done:!1,value:i.shift()}:t.next(),[n](){return this}}},KO=function dL(r,t){let n=0;if(function lL(r){return null!=r[Symbol.asyncIterator]}(r))return us(function*(){var I,V=!1,$=!1;try{for(var Ce,q=Ko(r);V=!(Ce=yield gi(q.next())).done;V=!1){const Be=Ce.value;yield t(Be,n++)}}catch(Be){$=!0,I=Be}finally{try{V&&null!=q.return&&(yield gi(q.return()))}finally{if($)throw I}}})();const i=bN(r),{value:l,done:p}=i.next();if(!0===p)return function*(){}();const c=t(l,n++);if("function"==typeof c.then)return us(function*(){yield yield gi(c);var I,V=!1,$=!1;try{for(var Ce,q=Ko(i);V=!(Ce=yield gi(q.next())).done;V=!1){const Be=Ce.value;yield t(Be,n++)}}catch(Be){$=!0,I=Be}finally{try{V&&null!=q.return&&(yield gi(q.return()))}finally{if($)throw I}}})();const h=t;return function*(){yield c;for(const V of i)yield h(V,n++)}()};function LE(){const r={};return r.promise=new Promise((t,n)=>{r.resolve=t,r.reject=n}),r}const K3=globalThis.CustomEvent??Event;function VO(r){return zO.apply(this,arguments)}function zO(){return(zO=us(function*(r,t={}){let n=t.concurrency??1/0;n<1&&(n=1/0);const i=null!=t.ordered&&t.ordered,l=new EventTarget,p=[];let $,c=LE(),h=LE(),V=!1,I=!1;function q(){return i?p[0]?.done:!!p.find(Pe=>Pe.done)}function*Ce(){for(;p.length>0&&p[0].done;){const Pe=p[0];if(p.shift(),!Pe.ok)throw I=!0,c.resolve(),Pe.err;yield Pe.value,c.resolve()}}function*Be(){for(;q();)for(let Pe=0;Pe<p.length;Pe++)if(p[Pe].done){const Ke=p[Pe];if(p.splice(Pe,1),Pe--,!Ke.ok)throw I=!0,c.resolve(),Ke.err;yield Ke.value,c.resolve()}}for(l.addEventListener("task-complete",()=>{h.resolve()}),Promise.resolve().then((0,ye.A)(function*(){try{var rt,Pe=!1,Ke=!1;try{for(var ct,ht=Ko(r);Pe=!(ct=yield ht.next()).done;Pe=!1){const dt=ct.value;{if(p.length===n&&(c=LE(),yield c.promise),I)break;const At={done:!1};p.push(At),dt().then(Pt=>{At.done=!0,At.ok=!0,At.value=Pt,l.dispatchEvent(new K3("task-complete"))},Pt=>{At.done=!0,At.err=Pt,l.dispatchEvent(new K3("task-complete"))})}}}catch(dt){Ke=!0,rt=dt}finally{try{Pe&&null!=ht.return&&(yield ht.return())}finally{if(Ke)throw rt}}V=!0,l.dispatchEvent(new K3("task-complete"))}catch(dt){$=dt,l.dispatchEvent(new K3("task-complete"))}}));;){if(q()||(h=LE(),yield gi(h.promise)),null!=$)throw $;if(i?yield*Xu(Ko(Ce())):yield*Xu(Ko(Be())),V&&0===p.length)break}})).apply(this,arguments)}class wN{buffer;mask;top;btm;next;constructor(t){if(!(t>0)||t-1&t)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}push(t){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=t,this.top=this.top+1&this.mask,!0)}shift(){const t=this.buffer[this.btm];if(void 0!==t)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,t}isEmpty(){return void 0===this.buffer[this.btm]}}class HO{size;hwm;head;tail;constructor(t={}){this.hwm=t.splitLimit??16,this.head=new wN(this.hwm),this.tail=this.head,this.size=0}calculateSize(t){return null!=t?.byteLength?t.byteLength:1}push(t){null!=t?.value&&(this.size+=this.calculateSize(t.value)),this.head.push(t)||(this.head=this.head.next=new wN(2*this.head.buffer.length),this.head.push(t))}shift(){let t=this.tail.shift();if(void 0===t&&null!=this.tail.next){const n=this.tail.next;this.tail.next=null,this.tail=n,t=this.tail.shift()}return null!=t?.value&&(this.size-=this.calculateSize(t.value)),t}isEmpty(){return this.head.isEmpty()}}class uL extends Error{type;code;constructor(t,n){super(t??"The operation was aborted"),this.type="aborted",this.code=n??"ABORT_ERR"}}function WO(r={}){return function _N(r,t){let l,p,c,n=(t=t??{}).onEnd,i=new HO,h=LE();const V=function(){var rt=(0,ye.A)(function*(){try{return i.isEmpty()?c?{done:!0}:yield new Promise((ht,ct)=>{p=dt=>{p=null,i.push(dt);try{ht(r(i))}catch(At){ct(At)}return l}}):r(i)}finally{i.isEmpty()&&queueMicrotask(()=>{h.resolve(),h=LE()})}});return function(){return rt.apply(this,arguments)}}(),$=rt=>null!=p?p(rt):(i.push(rt),l),q=rt=>{if(c)return l;if(!0!==t?.objectMode&&null==rt?.byteLength)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return $({done:!1,value:rt})},Ce=rt=>c?l:(c=!0,null!=rt?(rt=>(i=new HO,null!=p?p({error:rt}):(i.push({error:rt}),l)))(rt):$({done:!0}));if(l={[Symbol.asyncIterator](){return this},next:V,return:()=>(i=new HO,Ce(),{done:!0}),throw:rt=>(Ce(rt),{done:!0}),push:q,end:Ce,get readableLength(){return i.size},onEmpty:(rt=(0,ye.A)(function*(ht){const ct=ht?.signal;if(ct?.throwIfAborted(),i.isEmpty())return;let dt,At;null!=ct&&(dt=new Promise((Pt,Ct)=>{At=()=>{Ct(new uL)},ct.addEventListener("abort",At)}));try{yield Promise.race([h.promise,dt])}finally{null!=At&&null!=ct&&ct?.removeEventListener("abort",At)}}),function(ct){return rt.apply(this,arguments)})},null==n)return l;var rt;const Ke=l;return l={[Symbol.asyncIterator](){return this},next:()=>Ke.next(),throw:rt=>(Ke.throw(rt),null!=n&&(n(rt),n=void 0),{done:!0}),return:()=>(Ke.return(),null!=n&&(n(),n=void 0),{done:!0}),push:q,end:rt=>(Ke.end(rt),null!=n&&(n(rt),n=void 0),l),get readableLength(){return Ke.readableLength},onEmpty:rt=>Ke.onEmpty(rt)},l}(n=>{const i=n.shift();if(null==i)return{done:!0};if(null!=i.error)throw i.error;return{done:!0===i.done,value:i.value}},r)}function fL(r){return null!=r[Symbol.asyncIterator]}function GO(r,...t){if(null==r)throw new Error("Empty pipeline");if(XO(r)){const i=r;r=()=>i.source}else if(xN(r)||EN(r)){const i=r;r=()=>i}const n=[r,...t];if(n.length>1&&XO(n[n.length-1])&&(n[n.length-1]=n[n.length-1].sink),n.length>2)for(let i=1;i<n.length-1;i++)XO(n[i])&&(n[i]=yL(n[i]));return mL(...n)}const mL=(...r)=>{let t;for(;r.length>0;)t=r.shift()(t);return t},EN=r=>null!=r?.[Symbol.asyncIterator],xN=r=>null!=r?.[Symbol.iterator],XO=r=>null!=r&&null!=r.sink&&null!=r.source,yL=r=>t=>{const n=r.sink(t);if(null!=n?.then){const i=WO({objectMode:!0});let l;n.then(()=>{i.end()},c=>{i.end(c)});const p=r.source;if(EN(p))l=function(){var c=us(function*(){yield*Xu(Ko(p)),i.end()});return function(){return c.apply(this,arguments)}}();else{if(!xN(p))throw new Error("Unknown duplex source type - must be Iterable or AsyncIterable");l=function*(){yield*p,i.end()}}return function hL(...r){const t=[];for(const n of r)fL(n)||t.push(n);return t.length===r.length?function*(){for(const n of t)yield*n}():us(function*(){const n=WO({objectMode:!0});Promise.resolve().then((0,ye.A)(function*(){try{yield Promise.all(r.map(function(){var i=(0,ye.A)(function*(l){var h,p=!1,c=!1;try{for(var $,V=Ko(l);p=!($=yield V.next()).done;p=!1)n.push($.value)}catch(I){c=!0,h=I}finally{try{p&&null!=V.return&&(yield V.return())}finally{if(c)throw h}}});return function(l){return i.apply(this,arguments)}}())),n.end()}catch(i){n.end(i)}})),yield*Xu(Ko(n))})()}(i,l())}return r.source};var vL=w(50233);class SN extends Error{constructor(t){super(t),this.name="TimeoutError"}}class bL extends Error{constructor(t){super(),this.name="AbortError",this.message=t}}const MN=r=>void 0===globalThis.DOMException?new bL(r):new DOMException(r),AN=r=>{const t=void 0===r.reason?MN("This operation was aborted."):r.reason;return t instanceof Error?t:MN(t)};var Q0,ww=function(r,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?r!==t||!i:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(r):i?i.value:t.get(r)};Q0=new WeakMap;const xL=class EL{constructor(){Q0.set(this,[])}enqueue(t,n){const i={priority:(n={priority:0,...n}).priority,run:t};if(this.size&&ww(this,Q0,"f")[this.size-1].priority>=n.priority)return void ww(this,Q0,"f").push(i);const l=function _L(r,t,n){let i=0,l=r.length;for(;l>0;){const p=Math.trunc(l/2);let c=i+p;n(r[c],t)<=0?(i=++c,l-=p+1):l=p}return i}(ww(this,Q0,"f"),i,(p,c)=>c.priority-p.priority);ww(this,Q0,"f").splice(l,0,i)}dequeue(){const t=ww(this,Q0,"f").shift();return t?.run}filter(t){return ww(this,Q0,"f").filter(n=>n.priority===t.priority).map(n=>n.run)}get size(){return ww(this,Q0,"f").length}};var Hc,oA,sA,Hg,V3,aA,z3,kp,cA,Jf,H3,qf,lA,Wg,W3,TN,DN,IN,CN,kN,G3,ZO,YO,X3,RN,Z3,hc=function(r,t,n,i,l){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!l)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?r!==t||!l:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?l.call(r,n):l?l.value=n:t.set(r,n),n},Ti=function(r,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?r!==t||!i:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(r):i?i.value:t.get(r)};class ON extends Error{}oA=new WeakMap,sA=new WeakMap,Hg=new WeakMap,V3=new WeakMap,aA=new WeakMap,z3=new WeakMap,kp=new WeakMap,cA=new WeakMap,Jf=new WeakMap,H3=new WeakMap,qf=new WeakMap,lA=new WeakMap,Wg=new WeakMap,W3=new WeakMap,Hc=new WeakSet,TN=function(){return Ti(this,sA,"f")||Ti(this,Hg,"f")<Ti(this,V3,"f")},DN=function(){return Ti(this,qf,"f")<Ti(this,lA,"f")},IN=function(){var t;hc(this,qf,(t=Ti(this,qf,"f"),--t),"f"),Ti(this,Hc,"m",G3).call(this),this.emit("next")},CN=function(){Ti(this,Hc,"m",YO).call(this),Ti(this,Hc,"m",ZO).call(this),hc(this,cA,void 0,"f")},kN=function(){const t=Date.now();if(void 0===Ti(this,kp,"f")){const n=Ti(this,z3,"f")-t;if(!(n<0))return void 0===Ti(this,cA,"f")&&hc(this,cA,setTimeout(()=>{Ti(this,Hc,"m",CN).call(this)},n),"f"),!0;hc(this,Hg,Ti(this,oA,"f")?Ti(this,qf,"f"):0,"f")}return!1},G3=function(){if(0===Ti(this,Jf,"f").size)return Ti(this,kp,"f")&&clearInterval(Ti(this,kp,"f")),hc(this,kp,void 0,"f"),this.emit("empty"),0===Ti(this,qf,"f")&&this.emit("idle"),!1;if(!Ti(this,Wg,"f")){const t=!Ti(this,Hc,"a",kN);if(Ti(this,Hc,"a",TN)&&Ti(this,Hc,"a",DN)){const n=Ti(this,Jf,"f").dequeue();return!!n&&(this.emit("active"),n(),t&&Ti(this,Hc,"m",ZO).call(this),!0)}}return!1},ZO=function(){Ti(this,sA,"f")||void 0!==Ti(this,kp,"f")||(hc(this,kp,setInterval(()=>{Ti(this,Hc,"m",YO).call(this)},Ti(this,aA,"f")),"f"),hc(this,z3,Date.now()+Ti(this,aA,"f"),"f"))},YO=function(){0===Ti(this,Hg,"f")&&0===Ti(this,qf,"f")&&Ti(this,kp,"f")&&(clearInterval(Ti(this,kp,"f")),hc(this,kp,void 0,"f")),hc(this,Hg,Ti(this,oA,"f")?Ti(this,qf,"f"):0,"f"),Ti(this,Hc,"m",X3).call(this)},X3=function(){for(;Ti(this,Hc,"m",G3).call(this););},RN=function(){var r=(0,ye.A)(function*(n){return new Promise((i,l)=>{n.addEventListener("abort",()=>{l(new ON("The task was aborted."))},{once:!0})})});return function t(n){return r.apply(this,arguments)}}(),Z3=function(){var r=(0,ye.A)(function*(n,i){return new Promise(l=>{const p=()=>{i&&!i()||(this.off(n,p),l())};this.on(n,p)})});return function t(n,i){return r.apply(this,arguments)}}();const ML=class SL extends vL{constructor(t){var n,i,l,p;if(super(),Hc.add(this),oA.set(this,void 0),sA.set(this,void 0),Hg.set(this,0),V3.set(this,void 0),aA.set(this,void 0),z3.set(this,0),kp.set(this,void 0),cA.set(this,void 0),Jf.set(this,void 0),H3.set(this,void 0),qf.set(this,0),lA.set(this,void 0),Wg.set(this,void 0),W3.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(t={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:xL,...t}).intervalCap&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(i=null===(n=t.intervalCap)||void 0===n?void 0:n.toString())&&void 0!==i?i:""}\` (${typeof t.intervalCap})`);if(void 0===t.interval||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(p=null===(l=t.interval)||void 0===l?void 0:l.toString())&&void 0!==p?p:""}\` (${typeof t.interval})`);hc(this,oA,t.carryoverConcurrencyCount,"f"),hc(this,sA,t.intervalCap===Number.POSITIVE_INFINITY||0===t.interval,"f"),hc(this,V3,t.intervalCap,"f"),hc(this,aA,t.interval,"f"),hc(this,Jf,new t.queueClass,"f"),hc(this,H3,t.queueClass,"f"),this.concurrency=t.concurrency,this.timeout=t.timeout,hc(this,W3,!0===t.throwOnTimeout,"f"),hc(this,Wg,!1===t.autoStart,"f")}get concurrency(){return Ti(this,lA,"f")}set concurrency(t){if(!("number"==typeof t&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);hc(this,lA,t,"f"),Ti(this,Hc,"m",X3).call(this)}add(t,n={}){var i=this;return(0,ye.A)(function*(){return n={timeout:i.timeout,throwOnTimeout:Ti(i,W3,"f"),...n},new Promise((l,p)=>{Ti(i,Jf,"f").enqueue((0,ye.A)(function*(){var c,h,V;hc(i,qf,(h=Ti(i,qf,"f"),++h),"f"),hc(i,Hg,(V=Ti(i,Hg,"f"),++V),"f");try{if(null!==(c=n.signal)&&void 0!==c&&c.aborted)throw new ON("The task was aborted.");let $=t({signal:n.signal});n.timeout&&($=function wL(r,t,n,i){let l;const p=new Promise((c,h)=>{if("number"!=typeof t||1!==Math.sign(t))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${t}\``);if(t!==Number.POSITIVE_INFINITY){if((i={customTimers:{setTimeout,clearTimeout},...i}).signal){const{signal:V}=i;V.aborted&&h(AN(V)),V.addEventListener("abort",()=>{h(AN(V))})}l=i.customTimers.setTimeout.call(void 0,()=>{if("function"==typeof n){try{c(n())}catch(I){h(I)}return}const $=n instanceof Error?n:new SN("string"==typeof n?n:`Promise timed out after ${t} milliseconds`);"function"==typeof r.cancel&&r.cancel(),h($)},t),(0,ye.A)(function*(){try{c(yield r)}catch(V){h(V)}finally{i.customTimers.clearTimeout.call(void 0,l)}})()}else c(r)});return p.clear=()=>{clearTimeout(l),l=void 0},p}(Promise.resolve($),n.timeout)),n.signal&&($=Promise.race([$,Ti(i,Hc,"m",RN).call(i,n.signal)]));const I=yield $;l(I),i.emit("completed",I)}catch($){if($ instanceof SN&&!n.throwOnTimeout)return void l();p($),i.emit("error",$)}finally{Ti(i,Hc,"m",IN).call(i)}}),n),i.emit("add"),Ti(i,Hc,"m",G3).call(i)})})()}addAll(t,n){var i=this;return(0,ye.A)(function*(){return Promise.all(t.map(function(){var l=(0,ye.A)(function*(p){return i.add(p,n)});return function(p){return l.apply(this,arguments)}}()))})()}start(){return Ti(this,Wg,"f")?(hc(this,Wg,!1,"f"),Ti(this,Hc,"m",X3).call(this),this):this}pause(){hc(this,Wg,!0,"f")}clear(){hc(this,Jf,new(Ti(this,H3,"f")),"f")}onEmpty(){var t=this;return(0,ye.A)(function*(){0!==Ti(t,Jf,"f").size&&(yield Ti(t,Hc,"m",Z3).call(t,"empty"))})()}onSizeLessThan(t){var n=this;return(0,ye.A)(function*(){Ti(n,Jf,"f").size<t||(yield Ti(n,Hc,"m",Z3).call(n,"next",()=>Ti(n,Jf,"f").size<t))})()}onIdle(){var t=this;return(0,ye.A)(function*(){0===Ti(t,qf,"f")&&0===Ti(t,Jf,"f").size||(yield Ti(t,Hc,"m",Z3).call(t,"idle"))})()}get size(){return Ti(this,Jf,"f").size}sizeBy(t){return Ti(this,Jf,"f").filter(t).length}get pending(){return Ti(this,qf,"f")}get isPaused(){return Ti(this,Wg,"f")}};function PN(r,t,n,i,l,p,c){return JO.apply(this,arguments)}function JO(){return JO=(0,ye.A)(function*(r,t,n,i,l,p,c){if(t instanceof Uint8Array){const $=$3(t,i,l,p);return void n.push($)}if(null==t.Data)throw zc(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let h;try{h=Gu.unmarshal(t.Data)}catch($){throw zc($,"ERR_NOT_UNIXFS")}if(null!=h.data){const I=$3(h.data,i,l,p);n.push(I),i+=BigInt(I.byteLength)}const V=[];if(t.Links.length!==h.blockSizes.length)throw zc(new Error("Inconsistent block sizes and dag links"),"ERR_NOT_UNIXFS");for(let $=0;$<t.Links.length;$++){const Ce=i+h.blockSizes[$];if((l>=i&&l<Ce||p>=i&&p<=Ce||l<i&&p>Ce)&&V.push({link:t.Links[$],blockStart:i}),(i=Ce)>p)break}yield GO(V,$=>KO($,I=>(0,ye.A)(function*(){const q=yield r.get(I.link.Hash,c);return{...I,block:q}})),$=>VO($,{ordered:!0}),function(){var $=(0,ye.A)(function*(I){var Be,q=!1,Ce=!1;try{for(var Ke,Pe=Ko(I);q=!(Ke=yield Pe.next()).done;q=!1){const{link:rt,block:ht,blockStart:ct}=Ke.value;{let dt;switch(rt.Hash.code){case E_:dt=x_(ht);break;case e0:dt=ht;break;default:return void n.end(zc(new Error(`Unsupported codec: ${rt.Hash.code}`),"ERR_NOT_UNIXFS"))}const At=new ML({concurrency:1});At.on("error",Pt=>{n.end(Pt)}),At.add((0,ye.A)(function*(){c.onProgress?.(new Sl("unixfs:exporter:walk:file",{cid:rt.Hash})),yield PN(r,dt,n,ct,l,p,c)})),yield At.onIdle()}}}catch(rt){Ce=!0,Be=rt}finally{try{q&&null!=Pe.return&&(yield Pe.return())}finally{if(Ce)throw Be}}});return function(I){return $.apply(this,arguments)}}()),i>=p&&n.end()}),JO.apply(this,arguments)}const BN=(r,t,n,i,l,p,c)=>{function V(){return(V=us(function*($={}){const I=n.fileSize();if(void 0===I)throw new Error("File was a directory");const{start:q,end:Ce}=$O(I,$.offset,$.length);if(0n===Ce)return;let Be=0n;const Pe=Ce-q,Ke=WO();$.onProgress?.(new Sl("unixfs:exporter:walk:file",{cid:r})),PN(c,t,Ke,0n,q,Ce,$).catch(Pt=>{Ke.end(Pt)});var ct,rt=!1,ht=!1;try{for(var At,dt=Ko(Ke);rt=!(At=yield gi(dt.next())).done;rt=!1){const Pt=At.value;if(null!=Pt){if(Be+=BigInt(Pt.byteLength),Be>Pe)throw Ke.end(),zc(new Error("Read too many bytes - the file size reported by the UnixFS data in the root node may be incorrect"),"ERR_OVER_READ");Be===Pe&&Ke.end(),$.onProgress?.(new Sl("unixfs:exporter:progress:unixfs:file",{bytesRead:Be,totalBytes:Pe,fileSize:I})),yield Pt}}}catch(Pt){ht=!0,ct=Pt}finally{try{rt&&null!=dt.return&&(yield gi(dt.return()))}finally{if(ht)throw ct}}if(Be<Pe)throw zc(new Error("Traversed entire DAG but did not read enough bytes"),"ERR_UNDER_READ")})).apply(this,arguments)}return function h(){return V.apply(this,arguments)}};function NN(r,t,n,i,l,p){return qO.apply(this,arguments)}function qO(){return(qO=us(function*(r,t,n,i,l,p){const h=GO(r.Links,Be=>KO(Be,Pe=>(0,ye.A)(function*(){const Ke=null!=Pe.Name?Pe.Name.substring(2):null;if(null!=Ke&&""!==Ke){const rt=yield n(Pe.Hash,Ke,`${t}/${Ke}`,[],i+1,l,p);return{entries:null==rt.entry?[]:[rt.entry]}}{const rt=yield l.get(Pe.Hash,p);return r=x_(rt),p.onProgress?.(new Sl("unixfs:exporter:walk:hamt-sharded-directory",{cid:Pe.Hash})),{entries:NN(r,t,n,i,l,p)}}})),Be=>VO(Be,{ordered:!0}));var I,V=!1,$=!1;try{for(var Ce,q=Ko(h);V=!(Ce=yield gi(q.next())).done;V=!1){const{entries:Be}=Ce.value;yield*Xu(Ko(Be))}}catch(Be){$=!0,I=Be}finally{try{V&&null!=q.return&&(yield gi(q.return()))}finally{if($)throw I}}})).apply(this,arguments)}const IL={raw:BN,file:BN,directory:(r,t,n,i,l,p,c)=>{function V(){return(V=us(function*($={}){const Ce=t.Links.slice($.offset??0,$.length??t.Links.length);$.onProgress?.(new Sl("unixfs:exporter:walk:directory",{cid:r})),yield*Xu(Ko(GO(Ce,Be=>KO(Be,Pe=>(0,ye.A)(function*(){const Ke=Pe.Name??"",rt=`${i}/${Ke}`;return(yield l(Pe.Hash,Ke,rt,[],p+1,c,$)).entry})),Be=>VO(Be,{ordered:!0}),Be=>function aL(r,t){let n=0;if(function sL(r){return null!=r[Symbol.asyncIterator]}(r))return us(function*(){var I,V=!1,$=!1;try{for(var Ce,q=Ko(r);V=!(Ce=yield gi(q.next())).done;V=!1){const Be=Ce.value;(yield gi(t(Be,n++)))&&(yield Be)}}catch(Be){$=!0,I=Be}finally{try{V&&null!=q.return&&(yield gi(q.return()))}finally{if($)throw I}}})();const i=bN(r),{value:l,done:p}=i.next();if(!0===p)return function*(){}();const c=t(l,n++);if("function"==typeof c.then)return us(function*(){(yield gi(c))&&(yield l);var I,V=!1,$=!1;try{for(var Ce,q=Ko(i);V=!(Ce=yield gi(q.next())).done;V=!1){const Be=Ce.value;(yield gi(t(Be,n++)))&&(yield Be)}}catch(Be){$=!0,I=Be}finally{try{V&&null!=q.return&&(yield gi(q.return()))}finally{if($)throw I}}})();const h=t;return function*(){!0===c&&(yield l);for(const V of i)h(V,n++)&&(yield V)}()}(Be,Pe=>null!=Pe))))})).apply(this,arguments)}return function h(){return V.apply(this,arguments)}},"hamt-sharded-directory":(r,t,n,i,l,p,c)=>function h(V={}){return V.onProgress?.(new Sl("unixfs:exporter:walk:hamt-sharded-directory",{cid:r})),NN(t,i,l,p,c,V)},metadata:(r,t,n,i,l,p,c)=>()=>[],symlink:(r,t,n,i,l,p,c)=>()=>[]},kL={[E_]:function(){var r=(0,ye.A)(function*(t,n,i,l,p,c,h,V){const I=x_(yield h.get(t,V));let q,Ce;if(null==n&&(n=t.toString()),null==I.Data)throw zc(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{q=Gu.unmarshal(I.Data)}catch(Pe){throw zc(Pe,"ERR_NOT_UNIXFS")}if(null==i&&(i=n),l.length>0){let Pe;if(Pe="hamt-sharded-directory"===q?.type?yield iL(I,l[0],h):((r,t)=>r.Links.find(i=>i.Name===t)?.Hash)(I,l[0]),null==Pe)throw zc(new Error("file does not exist"),"ERR_NOT_FOUND");const Ke=l.shift();Ce={cid:Pe,toResolve:l,name:Ke??"",path:`${i}/${Ke}`}}const Be=IL[q.type](t,I,q,i,p,c,h);if(null==Be)throw zc(new Error("could not find content exporter"),"ERR_NOT_FOUND");return q.isDirectory()?{entry:{type:"directory",name:n,path:i,cid:t,content:Be,unixfs:q,depth:c,node:I,size:q.fileSize()},next:Ce}:{entry:{type:"file",name:n,path:i,cid:t,content:Be,unixfs:q,depth:c,node:I,size:q.fileSize()},next:Ce}});return function(n,i,l,p,c,h,V,$){return r.apply(this,arguments)}}(),[e0]:eL,[Iy]:Z7,0:q7},LN=function(){var r=(0,ye.A)(function*(t,n,i,l,p,c,h){const V=kL[t.code];if(null==V)throw zc(new Error(`No resolver for code ${t.code}`),"ERR_NO_RESOLVER");return V(t,n,i,l,LN,p,c,h)});return function(n,i,l,p,c,h,V){return r.apply(this,arguments)}}(),RL=LN,PL=r=>{if(r instanceof Uint8Array)return{cid:Bf.TO.decode(r),toResolve:[]};const t=Bf.TO.asCID(r);if(null!=t)return{cid:t,toResolve:[]};if("string"==typeof r){0===r.indexOf("/ipfs/")&&(r=r.substring(6));const n=((r="")=>(r.trim().match(/([^\\^/]|\\\/)+/g)??[]).filter(Boolean))(r);return{cid:Bf.TO.parse(n[0]),toResolve:n.slice(1)}}throw zc(new Error(`Unknown path type ${r}`),"ERR_BAD_PATH")};function QO(){return(QO=us(function*(r,t,n={}){let{cid:i,toResolve:l}=PL(r),p=i.toString(),c=p;const h=l.length;for(;;){const V=yield gi(RL(i,p,c,l,h,t,n));if(null==V.entry&&null==V.next)throw zc(new Error(`Could not resolve ${r}`),"ERR_NOT_FOUND");if(null!=V.entry&&(yield V.entry),null==V.next)return;l=V.next.toResolve,i=V.next.cid,p=V.next.name,c=V.next.path}})).apply(this,arguments)}function eP(){return eP=(0,ye.A)(function*(r,t,n={}){const i=yield W7(function BL(r,t){return QO.apply(this,arguments)}(r,t,n));if(null==i)throw zc(new Error(`Could not resolve ${r}`),"ERR_NOT_FOUND");return i}),eP.apply(this,arguments)}var Gg=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class LL{constructor(t={}){this.config=Object.assign({blockstoreLocation:"DATASTORE",createLevelDatabase:bw},t),this.blockstore=new j3({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return Gg(this,void 0,void 0,function*(){yield this.blockstore.open()})}close(){return Gg(this,void 0,void 0,function*(){yield this.blockstore.close()})}put(t,n,i,l){var p,c,h,$,I;return Gg(this,void 0,void 0,function*(){const q=yield this.getBlockstoreForStoringData(t,n,i),Ce=Yy([{content:l}],q,{cidVersion:1});let Be;try{for(var rt,Pe=!0,Ke=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(p){n[p]=r[p]&&function(c){return new Promise(function(h,V){!function l(p,c,h,V){Promise.resolve(V).then(function($){p({value:$,done:h})},c)}(h,V,(c=r[p](c)).done,c.value)})}}}(Ce);rt=yield Ke.next(),!(p=rt.done);Pe=!0)Pe=!1,Be=rt.value}catch(ht){c={error:ht}}finally{try{!Pe&&!p&&(h=Ke.return)&&(yield h.call(Ke))}finally{if(c)throw c.error}}return{dataSize:Number(null!==(I=null===($=Be.unixfs)||void 0===$?void 0:$.fileSize())&&void 0!==I?I:Be.size)}})}get(t,n,i){return Gg(this,void 0,void 0,function*(){const l=yield this.getBlockstoreForStoringData(t,n,i);if(!(yield l.has(i)))return;const c=yield function UN(r,t){return eP.apply(this,arguments)}(i,l),h=c.content(),V=new rb.Readable({read(){return Gg(this,void 0,void 0,function*(){const I=yield h.next();this.push(I.done?null:I.value)})}});let $=c.size;return("file"===c.type||"directory"===c.type)&&($=c.unixfs.fileSize()),{dataSize:Number($),dataStream:V}})}delete(t,n,i){return Gg(this,void 0,void 0,function*(){yield(yield this.getBlockstoreForStoringData(t,n,i)).clear()})}clear(){return Gg(this,void 0,void 0,function*(){yield this.blockstore.clear()})}getBlockstoreForStoringData(t,n,i){return Gg(this,void 0,void 0,function*(){return yield(yield(yield(yield this.blockstore.partition("data")).partition(t)).partition(n)).partition(i)})}}var Bl=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},dA=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(p){n[p]=r[p]&&function(c){return new Promise(function(h,V){!function l(p,c,h,V){Promise.resolve(V).then(function($){p({value:$,done:h})},c)}(h,V,(c=r[p](c)).done,c.value)})}}},_w=function(r){return this instanceof _w?(this.v=r,this):new _w(r)};let Y3=(()=>{class r{constructor(n){this.config=Object.assign({createLevelDatabase:bw},n),this.db=new NE({location:this.config.location,createLevelDatabase:this.config.createLevelDatabase,keyEncoding:"utf8"})}open(){return Bl(this,void 0,void 0,function*(){yield this.db.open()})}close(){return Bl(this,void 0,void 0,function*(){yield this.db.close()})}clear(){return Bl(this,void 0,void 0,function*(){yield this.db.clear()})}put(n,i,l,p){return Bl(this,void 0,void 0,function*(){if(sb(l))throw new ce(_e.IndexMissingIndexableProperty,"Index must include at least one valid indexable property");const c={messageCid:i,indexes:l},h=[];for(const q in l){const Ce=l[q];if(Array.isArray(Ce))for(const Be of Ce){const Pe=this.createPutIndexedItemOperation(n,c,q,Be);h.push(Pe)}else{const Be=this.createPutIndexedItemOperation(n,c,q,Ce);h.push(Be)}}const V=this.createOperationForIndexesLookupPartition(n,{type:"put",key:i,value:JSON.stringify(l)});h.push(V);const $=yield Promise.all(h);yield(yield this.db.partition(n)).batch($,p)})}delete(n,i,l){return Bl(this,void 0,void 0,function*(){const p=[],c=yield this.getIndexes(n,i);if(void 0===c)return;const h=this.createOperationForIndexesLookupPartition(n,{type:"del",key:i});p.push(h);for(const I in c){const q=c[I];if(Array.isArray(q))for(const Ce of q){const Be=this.createDeleteIndexedItemOperation(n,i,I,Ce);p.push(Be)}else{const Ce=this.createDeleteIndexedItemOperation(n,i,I,q);p.push(Ce)}}const V=yield Promise.all(p);yield(yield this.db.partition(n)).batch(V,l)})}createPutIndexedItemOperation(n,i,l,p){return Bl(this,void 0,void 0,function*(){const{messageCid:c}=i,h=r.keySegmentJoin(r.encodeValue(p),c);return this.createOperationForIndexPartition(n,l,{type:"put",key:h,value:JSON.stringify(i)})})}createDeleteIndexedItemOperation(n,i,l,p){return Bl(this,void 0,void 0,function*(){const c=r.keySegmentJoin(r.encodeValue(p),i);return this.createOperationForIndexPartition(n,l,{type:"del",key:c})})}createOperationForIndexPartition(n,i,l){return Bl(this,void 0,void 0,function*(){const p=yield this.db.partition(n),c=r.getIndexPartitionName(i);return p.createPartitionOperation(c,l)})}createOperationForIndexesLookupPartition(n,i){return Bl(this,void 0,void 0,function*(){return(yield this.db.partition(n)).createPartitionOperation("index",i)})}static getIndexPartitionName(n){return`__${n}__`}getIndexPartition(n,i){return Bl(this,void 0,void 0,function*(){const l=r.getIndexPartitionName(i);return(yield this.db.partition(n)).partition(l)})}getIndexesLookupPartition(n){return Bl(this,void 0,void 0,function*(){return(yield this.db.partition(n)).partition("index")})}query(n,i,l,p){return Bl(this,void 0,void 0,function*(){return r.shouldQueryWithInMemoryPaging(i,l)?this.queryWithInMemoryPaging(n,i,l,p):this.queryWithIteratorPaging(n,i,l,p)})}queryWithIteratorPaging(n,i,l,p){var c,h,V;return Bl(this,void 0,void 0,function*(){const{cursor:I,limit:q}=l,Ce=I?this.createStartingKeyFromCursor(I):"",Be=[];try{for(var rt,Pe=!0,Ke=dA(this.getIndexIterator(n,Ce,l,p));rt=yield Ke.next(),!(c=rt.done);Pe=!0){Pe=!1;const ht=rt.value;if(void 0!==q&&q===Be.length)break;const{indexes:ct}=ht;Il.matchAnyFilter(ct,i)&&Be.push(ht)}}catch(ht){h={error:ht}}finally{try{!Pe&&!c&&(V=Ke.return)&&(yield V.call(Ke))}finally{if(h)throw h.error}}return Be})}getIndexIterator(n,i,l,p){return function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,i=n.apply(r,t||[]),p=[];return l={},c("next"),c("throw"),c("return"),l[Symbol.asyncIterator]=function(){return this},l;function c(Ce){i[Ce]&&(l[Ce]=function(Be){return new Promise(function(Pe,Ke){p.push([Ce,Be,Pe,Ke])>1||h(Ce,Be)})})}function h(Ce,Be){try{!function V(Ce){Ce.value instanceof _w?Promise.resolve(Ce.value.v).then($,I):q(p[0][2],Ce)}(i[Ce](Be))}catch(Pe){q(p[0][3],Pe)}}function $(Ce){h("next",Ce)}function I(Ce){h("throw",Ce)}function q(Ce,Be){Ce(Be),p.shift(),p.length&&h(p[0][0],p[0][1])}}(this,arguments,function*(){var h,V,$,I;const{sortProperty:q,sortDirection:Ce=zf.Ascending,cursor:Be}=l,Pe={gt:i};Ce===zf.Descending&&(Pe.reverse=!0,void 0!==Be&&(Pe.lt=i,delete Pe.gt));const Ke=yield _w(this.getIndexPartition(n,q));try{for(var ct,rt=!0,ht=dA(Ke.iterator(Pe,p));!(h=(ct=yield _w(ht.next())).done);rt=!0){I=ct.value,rt=!1;const[dt,At]=I,{indexes:Pt,messageCid:Ct}=JSON.parse(At);yield yield _w({indexes:Pt,messageCid:Ct})}}catch(dt){V={error:dt}}finally{try{!rt&&!h&&($=ht.return)&&(yield _w($.call(ht)))}finally{if(V)throw V.error}}})}createStartingKeyFromCursor(n){const{messageCid:i,value:l}=n;return r.keySegmentJoin(r.encodeValue(l),i)}static createCursorFromLastArrayItem(n,i){if(n.length>0)return this.createCursorFromItem(n.at(-1),i)}static createCursorFromItem(n,i){const{messageCid:l,indexes:p}=n,c=p[i];if(void 0===c)throw new ce(_e.IndexInvalidCursorSortProperty,`the sort property '${i}' is not defined within the given item.`);if("boolean"==typeof c||Array.isArray(c))throw new ce(_e.IndexInvalidCursorValueType,`only string or number values are supported for cursors, a(n) ${typeof c} was given.`);return{messageCid:l,value:c}}queryWithInMemoryPaging(n,i,l,p){return Bl(this,void 0,void 0,function*(){const{sortProperty:c,sortDirection:h=zf.Ascending,cursor:V,limit:$}=l,I=V?this.createStartingKeyFromCursor(V):void 0,q=new Map;0===i.length&&(i=[{}]);try{yield Promise.all(i.map(Ke=>this.executeSingleFilterQuery(n,Ke,c,q,p)))}catch(Ke){if(Ke.code===_e.IndexInvalidSortPropertyInMemory)return[]}const Ce=[...q.values()].sort((Ke,rt)=>this.sortItems(Ke,rt,c,h)),Be=void 0!==I?this.findCursorStartingIndex(Ce,h,c,I):0;return Be<0?[]:Ce.slice(Be,void 0!==$?Be+$:void 0)})}executeSingleFilterQuery(n,i,l,p,c){return Bl(this,void 0,void 0,function*(){const h=[];if(sb(i)){const $=this.getAllItems(n,l);h.push($)}const V=sS.reduceFilter(i);for(const $ in V){const I=V[$];if(Il.isEqualFilter(I)){const q=this.filterExactMatches(n,$,I,c);h.push(q)}else if(Il.isOneOfFilter(I))for(const q of new Set(I)){const Ce=this.filterExactMatches(n,$,q,c);h.push(Ce)}else if(Il.isRangeFilter(I)){const q=this.filterRangeMatches(n,$,I,c);h.push(q)}}for(const $ of h){const I=yield $;for(const q of I)if(!p.has(q.messageCid)&&Il.matchFilter(q.indexes,i)){if(void 0===q.indexes[l])throw new ce(_e.IndexInvalidSortPropertyInMemory,`invalid sort property ${l}`);p.set(q.messageCid,q)}}})}getAllItems(n,i){var l,p,c,h;return Bl(this,void 0,void 0,function*(){const V=yield this.getIndexPartition(n,i),$=[];try{for(var Ce,I=!0,q=dA(V.iterator());Ce=yield q.next(),!(l=Ce.done);I=!0){h=Ce.value,I=!1;const[Be,Pe]=h;$.push(JSON.parse(Pe))}}catch(Be){p={error:Be}}finally{try{!I&&!l&&(c=q.return)&&(yield c.call(q))}finally{if(p)throw p.error}}return $})}filterExactMatches(n,i,l,p){var c,h,V,$;return Bl(this,void 0,void 0,function*(){const I=r.keySegmentJoin(r.encodeValue(l)),q={gt:I},Ce=yield this.getIndexPartition(n,i),Be=[];try{for(var rt,Pe=!0,Ke=dA(Ce.iterator(q,p));rt=yield Ke.next(),!(c=rt.done);Pe=!0){$=rt.value,Pe=!1;const[ht,ct]=$;if(!ht.startsWith(I))break;Be.push(JSON.parse(ct))}}catch(ht){h={error:ht}}finally{try{!Pe&&!c&&(V=Ke.return)&&(yield V.call(Ke))}finally{if(h)throw h.error}}return Be})}filterRangeMatches(n,i,l,p){var c,h,V,$;return Bl(this,void 0,void 0,function*(){const I={};for(const rt in l)I[rt]=r.encodeValue(l[rt]);void 0===I.gt&&void 0===I.gte&&(I.reverse=!0);const q=[],Ce=yield this.getIndexPartition(n,i);try{for(var Ke,Be=!0,Pe=dA(Ce.iterator(I,p));Ke=yield Pe.next(),!(c=Ke.done);Be=!0){$=Ke.value,Be=!1;const[rt,ht]=$;"gt"in l&&this.extractIndexValueFromKey(rt)===r.encodeValue(l.gt)||q.push(JSON.parse(ht))}}catch(rt){h={error:rt}}finally{try{!Be&&!c&&(V=Pe.return)&&(yield V.call(Pe))}finally{if(h)throw h.error}}if("lte"in l)for(const rt of yield this.filterExactMatches(n,i,l.lte,p))q.push(rt);return q})}sortItems(n,i,l,p){const h=i.indexes[l],V=r.encodeValue(n.indexes[l])+n.messageCid,$=r.encodeValue(h)+i.messageCid;return p===zf.Ascending?rS(V,$):rS($,V)}findCursorStartingIndex(n,i,l,p){return n.findIndex(h=>{const{messageCid:V,indexes:$}=h,q=r.keySegmentJoin(r.encodeValue($[l]),V);return i===zf.Ascending?q>p:q<p})}getIndexes(n,i){return Bl(this,void 0,void 0,function*(){const p=yield(yield this.getIndexesLookupPartition(n)).get(i);if(void 0!==p)return JSON.parse(p)})}extractIndexValueFromKey(n){const[i]=n.split(r.delimiter);return i}static keySegmentJoin(...n){return n.join(r.delimiter)}static encodeNumberValue(n){const i=Number.MAX_SAFE_INTEGER,p=String(Number.MAX_SAFE_INTEGER).length;return(n<0?"!":"")+String(n+(n<0?i:0)).padStart(p,"0")}static encodeValue(n){return"number"==typeof n?this.encodeNumberValue(n):JSON.stringify(n)}static shouldQueryWithInMemoryPaging(n,i){for(const l of n)if(!r.isFilterConcise(l,i))return!1;return!0}static isFilterConcise(n,i){return void 0!==n.recordId||void 0===i.cursor&&(void 0!==n.protocolPath||void 0!==n.contextId||void 0!==n.parentId||void 0!==n.schema)}}return r.delimiter="\0",r})();function nP(r){if(!rP(r))throw new Error("Parameter was not an error")}function rP(r){return"[object Error]"===function FL(r){return Object.prototype.toString.call(r)}(r)||r instanceof Error}class Qf extends Error{constructor(t,n){const i=[...arguments],{options:l,shortMessage:p}=function jL(r){let t,n="";if(0===r.length)t={};else if(rP(r[0]))t={cause:r[0]},n=r.slice(1).join(" ")||"";else if(r[0]&&"object"==typeof r[0])t=Object.assign({},r[0]),n=r.slice(1).join(" ")||"";else{if("string"!=typeof r[0])throw new Error("Invalid arguments passed to Layerr");t={},n=n=r.join(" ")||""}return{options:t,shortMessage:n}}(i);let c=p;l.cause&&(c=`${c}: ${l.cause.message}`),super(c),this.message=c,this.name=l.name&&"string"==typeof l.name?l.name:"Layerr",l.cause&&Object.defineProperty(this,"_cause",{value:l.cause}),Object.defineProperty(this,"_info",{value:{}}),l.info&&"object"==typeof l.info&&Object.assign(this._info,l.info),Error.captureStackTrace&&Error.captureStackTrace(this,l.constructorOpt||this.constructor)}static cause(t){return nP(t),t._cause&&rP(t._cause)?t._cause:null}static fullStack(t){nP(t);const n=Qf.cause(t);return n?`${t.stack}\ncaused by: ${Qf.fullStack(n)}`:t.stack}static info(t){nP(t);const n={},i=Qf.cause(t);return i&&Object.assign(n,Qf.info(i)),t._info&&Object.assign(n,t._info),n}cause(){return Qf.cause(this)}toString(){let t=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t=`${t}: ${this.message}`),t}}const Ew="0123456789ABCDEFGHJKMNPQRSTVWXYZ",xw=32,iP=0xffffffffffff,Dm=Object.freeze({source:"ulid"});function oP(r,t){if(isNaN(r))throw new Qf({info:{code:"ENC_TIME_NAN",...Dm}},`Time must be a number: ${r}`);if(r>iP)throw new Qf({info:{code:"ENC_TIME_SIZE_EXCEED",...Dm}},`Cannot encode a time larger than ${iP}: ${r}`);if(r<0)throw new Qf({info:{code:"ENC_TIME_NEG",...Dm}},`Time must be positive: ${r}`);if(!1===Number.isInteger(r))throw new Qf({info:{code:"ENC_TIME_TYPE",...Dm}},`Time must be an integer: ${r}`);let n,i="";for(let l=t;l>0;l--)n=r%xw,i=Ew.charAt(n)+i,r=(r-n)/xw;return i}function KN(r){const t=r||function jN(r){const t=r||function $L(){return function VL(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}()?self:typeof window<"u"?window:typeof globalThis<"u"||typeof globalThis<"u"?globalThis:null}(),n=t&&(t.crypto||t.msCrypto)||null;if("function"==typeof n?.getRandomValues)return()=>{const i=new Uint8Array(1);return n.getRandomValues(i),i[0]/255};if("function"==typeof n?.randomBytes)return()=>n.randomBytes(1).readUInt8()/255;throw new Qf({info:{code:"PRNG_DETECT",...Dm}},"Failed to find a reliable PRNG")}();let i,n=0;return function(p){const c=isNaN(p)?Date.now():p;if(c<=n){const V=i=function KL(r){let t,i,l,n=r.length,p=r;const c=xw-1;for(;!t&&n-- >=0;){if(i=p[n],l=Ew.indexOf(i),-1===l)throw new Qf({info:{code:"B32_INC_ENC",...Dm}},"Incorrectly encoded string");l!==c?t=VN(p,n,Ew[l+1]):p=VN(p,n,Ew[0])}if("string"==typeof t)return t;throw new Qf({info:{code:"B32_INC_INVALID",...Dm}},"Failed incrementing string")}(i);return oP(n,10)+V}n=c;const h=i=function $N(r,t){let n="";for(;r>0;r--)n=zL(t)+n;return n}(16,t);return oP(c,10)+h}}function zL(r){let t=Math.floor(r()*xw);return t===xw&&(t=xw-1),Ew.charAt(t)}function VN(r,t,n){return t>r.length-1?r:r.substr(0,t)+n+r.substr(t+1)}var Sw=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class HL{constructor(t){this.index=new Y3(Object.assign({location:"EVENTLOG",createLevelDatabase:bw},t)),this.ulidFactory=KN()}open(){return Sw(this,void 0,void 0,function*(){return this.index.open()})}close(){return Sw(this,void 0,void 0,function*(){return this.index.close()})}clear(){return Sw(this,void 0,void 0,function*(){return this.index.clear()})}append(t,n,i){return Sw(this,void 0,void 0,function*(){const l=this.ulidFactory();yield this.index.put(t,n,Object.assign(Object.assign({},i),{watermark:l}))})}queryEvents(t,n,i){return Sw(this,void 0,void 0,function*(){const l=yield this.index.query(t,n,{sortProperty:"watermark",cursor:i});return{events:l.map(({messageCid:p})=>p),cursor:Y3.createCursorFromLastArrayItem(l,"watermark")}})}getEvents(t,n){return Sw(this,void 0,void 0,function*(){return this.queryEvents(t,[],n)})}deleteEventsByCid(t,n){return Sw(this,void 0,void 0,function*(){const i=[];for(const l of n)i.push(this.index.delete(t,l));yield Promise.all(i)})}}function q3({enumerable:r=!0,configurable:t=!1}={}){return{enumerable:r,configurable:t,writable:!1}}function*WL(r,t){if(null!=t&&"object"==typeof t)if(Array.isArray(t))for(const[n,i]of t.entries()){const l=[...r,n],p=mh.TO.asCID(i);p?yield[l.join("/"),p]:"object"==typeof i&&(yield*sP(i,l))}else{const n=mh.TO.asCID(t);n?yield[r.join("/"),n]:yield*sP(t,r)}}function*sP(r,t){if(null==r||r instanceof Uint8Array)return;const n=mh.TO.asCID(r);n&&(yield[t.join("/"),n]);for(const[i,l]of Object.entries(r)){const p=[...t,i];yield*WL(p,l)}}function*GL(r,t){if(Array.isArray(t))for(const[n,i]of t.entries()){const l=[...r,n];yield l.join("/"),"object"==typeof i&&!mh.TO.asCID(i)&&(yield*aP(i,l))}else yield*aP(t,r)}function*aP(r,t){if(null!=r&&"object"==typeof r)for(const[n,i]of Object.entries(r)){const l=[...t,n];yield l.join("/"),null!=i&&!(i instanceof Uint8Array)&&"object"==typeof i&&!mh.TO.asCID(i)&&(yield*GL(l,i))}}class cP{constructor({cid:t,bytes:n,value:i}){if(!t||!n||typeof i>"u")throw new Error("Missing required argument");this.cid=t,this.bytes=n,this.value=i,this.asBlock=this,Object.defineProperties(this,{cid:q3(),bytes:q3(),value:q3(),asBlock:q3()})}links(){return sP(this.value,[])}tree(){return aP(this.value,[])}get(t="/"){return function XL(r,t){let n=r;for(const[i,l]of t.entries()){if(n=n[l],null==n)throw new Error(`Object has no property at ${t.slice(0,i+1).map(c=>`[${JSON.stringify(c)}]`).join("")}`);const p=mh.TO.asCID(n);if(p)return{value:p,remaining:t.slice(i+1).join("/")}}return{value:n}}(this.value,t.split("/").filter(Boolean))}}function lP(){return(lP=(0,ye.A)(function*({value:r,codec:t,hasher:n}){if(typeof r>"u")throw new Error('Missing required argument "value"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const i=t.encode(r),l=yield n.digest(i),p=mh.TO.create(1,t.code,l);return new cP({value:r,bytes:i,cid:p})})).apply(this,arguments)}function dP(){return(dP=(0,ye.A)(function*({bytes:r,codec:t,hasher:n}){if(!r)throw new Error('Missing required argument "bytes"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const i=t.decode(r),l=yield n.digest(r),p=mh.TO.create(1,t.code,l);return new cP({value:i,bytes:r,cid:p})})).apply(this,arguments)}var Mw=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class fP{constructor(t={}){this.config=Object.assign({blockstoreLocation:"MESSAGESTORE",indexLocation:"INDEX",createLevelDatabase:bw},t),this.blockstore=new j3({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase}),this.index=new Y3({location:this.config.indexLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return Mw(this,void 0,void 0,function*(){yield this.blockstore.open(),yield this.index.open()})}close(){return Mw(this,void 0,void 0,function*(){yield this.blockstore.close(),yield this.index.close()})}get(t,n,i){var l;return Mw(this,void 0,void 0,function*(){null===(l=i?.signal)||void 0===l||l.throwIfAborted();const p=yield Cd(this.blockstore.partition(t),i?.signal),c=Bf.TO.parse(n),h=yield p.get(c,i);return h?(yield Cd(function YL(r){return dP.apply(this,arguments)}({bytes:h,codec:J,hasher:ue}),i?.signal)).value:void 0})}query(t,n,i,l,p){var c;return Mw(this,void 0,void 0,function*(){null===(c=p?.signal)||void 0===c||c.throwIfAborted();const h=fP.buildQueryOptions(i,l),V=yield this.index.query(t,n,h,p);let $;void 0!==l?.limit&&l.limit<V.length&&(V.splice(-1),$=Y3.createCursorFromLastArrayItem(V,h.sortProperty));const I=[];for(let q=0;q<V.length;q++){const{messageCid:Ce}=V[q],Be=yield this.get(t,Ce,p);Be&&I.push(Be)}return{messages:I,cursor:$}})}static buildQueryOptions(t={},n={}){let{limit:i,cursor:l}=n;const{dateCreated:p,datePublished:c,messageTimestamp:h}=t;let V=zf.Ascending,$="messageTimestamp";return void 0!==p?$="dateCreated":void 0!==c?$="datePublished":void 0!==h&&($="messageTimestamp"),void 0!==t[$]&&(V=t[$]),void 0!==i&&i>0&&(i+=1),{sortDirection:V,sortProperty:$,limit:i,cursor:l}}delete(t,n,i){var l;return Mw(this,void 0,void 0,function*(){null===(l=i?.signal)||void 0===l||l.throwIfAborted();const p=yield Cd(this.blockstore.partition(t),i?.signal),c=Bf.TO.parse(n);yield p.delete(c,i),yield this.index.delete(t,n,i)})}put(t,n,i,l){var p;return Mw(this,void 0,void 0,function*(){null===(p=l?.signal)||void 0===p||p.throwIfAborted();const c=yield Cd(this.blockstore.partition(t),l?.signal),h=yield Cd(function ZL(r){return lP.apply(this,arguments)}({value:n,codec:J,hasher:ue}),l?.signal),V=Qc.parseCid(yield Hr.getCid(n));yield c.put(V,h.bytes,l);const $=V.toString();yield this.index.put(t,$,i,l)})}clear(){return Mw(this,void 0,void 0,function*(){yield this.blockstore.clear(),yield this.index.clear()})}}var Xg=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};let QL=(()=>{class r{constructor(n){this.config=Object.assign({location:"RESUMABLE-TASK-STORE",createLevelDatabase:bw},n),this.db=new NE({location:this.config.location,createLevelDatabase:this.config.createLevelDatabase,keyEncoding:"utf8"})}open(){return Xg(this,void 0,void 0,function*(){yield this.db.open()})}close(){return Xg(this,void 0,void 0,function*(){yield this.db.close()})}register(n,i){return Xg(this,void 0,void 0,function*(){const l=yield Qc.computeCid(n),p={id:l,timeout:Date.now()+1e3*i,retryCount:0,task:n};return yield this.db.put(l,JSON.stringify(p)),p})}grab(n){var i,l,p,c;return Xg(this,void 0,void 0,function*(){const h=[];try{for(var I,V=!0,$=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(p){n[p]=r[p]&&function(c){return new Promise(function(h,V){!function l(p,c,h,V){Promise.resolve(V).then(function($){p({value:$,done:h})},c)}(h,V,(c=r[p](c)).done,c.value)})}}}(this.db.iterator());I=yield $.next(),!(i=I.done);V=!0){c=I.value,V=!1;const[q,Ce]=c,Be=JSON.parse(Ce);if(Date.now()>=Be.timeout&&(Be.timeout=Date.now()+1e3*r.taskTimeoutInSeconds,Be.retryCount++,yield this.db.put(Be.id,JSON.stringify(Be)),h.push(Be)),h.length>=n)break}}catch(q){l={error:q}}finally{try{!V&&!i&&(p=$.return)&&(yield p.call($))}finally{if(l)throw l.error}}return h})}read(n){return Xg(this,void 0,void 0,function*(){const i=yield this.db.get(n);if(i)return JSON.parse(i)})}extend(n,i){return Xg(this,void 0,void 0,function*(){const l=yield this.db.get(n);if(l){const p=JSON.parse(l);p.timeout=Date.now()+1e3*i,yield this.db.put(p.id,JSON.stringify(p))}})}delete(n){return Xg(this,void 0,void 0,function*(){return this.db.delete(n)})}clear(){return Xg(this,void 0,void 0,function*(){yield this.db.clear()})}}return r.taskTimeoutInSeconds=60,r})();w(44356);var ka=function(r){return r.MessagesQuery="MessagesQuery",r.MessagesRead="MessagesRead",r.MessagesSubscribe="MessagesSubscribe",r.ProtocolsConfigure="ProtocolsConfigure",r.ProtocolsQuery="ProtocolsQuery",r.RecordsDelete="RecordsDelete",r.RecordsQuery="RecordsQuery",r.RecordsRead="RecordsRead",r.RecordsSubscribe="RecordsSubscribe",r.RecordsWrite="RecordsWrite",r}(ka||{});const zN={[ka.MessagesQuery]:L0,[ka.MessagesRead]:U0,[ka.MessagesSubscribe]:Eg,[ka.ProtocolsConfigure]:wu,[ka.ProtocolsQuery]:gm,[ka.RecordsDelete]:F0,[ka.RecordsQuery]:wg,[ka.RecordsRead]:Mg,[ka.RecordsSubscribe]:Gb,[ka.RecordsWrite]:Vo};class e6{constructor({did:t,metadata:n}){this.did=t,this.metadata=n}export(){return r=this,t=void 0,i=function*(){return{portableDid:yield this.did.export(),metadata:this.metadata}},new((n=void 0)||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())});var r,t,n,i}}var Aw=w(47565);class pP{static digest({data:t}){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return(0,Aw.s)(t)})}}class Im{}class mP extends Im{digest({algorithm:t,data:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===t)return yield pP.digest({data:n})})}}var Kh=w(94256),t6=w(91006);const n6="urn:jwk:";function Yo({jwk:r}){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const t=r.kty;let n;if("EC"===t)n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===t)n={k:r.k,kty:r.kty};else if("OKP"===t)n={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);n={e:r.e,kty:r.kty,n:r.n}}(0,nr.E8)(n);const i=function rU(r){const t=i=>{if(null!==i&&"object"==typeof i&&!Array.isArray(i)){const l=Object.keys(i).sort(),p={};for(const c of l)p[c]=t(i[c]);return p}return i},n=t(r);return JSON.stringify(n)}(n),l=nr.U$.string(i).toUint8Array(),p=yield pP.digest({data:l});return nr.U$.uint8Array(p).toBase64Url()})}function Cm(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"EC"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function r6(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r)||"d"in r||"EC"!==r.kty||"string"!=typeof r.x)}function HN(r){return!(!r||"object"!=typeof r||!("kty"in r)||!("k"in r)||"oct"!==r.kty||"string"!=typeof r.k)}function km(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"OKP"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function i6(r){return!(!r||"object"!=typeof r||"d"in r||!("kty"in r&&"crv"in r&&"x"in r)||"OKP"!==r.kty||"string"!=typeof r.x)}function yP(r){if(!r||"object"!=typeof r)return!1;switch(r.kty){case"EC":case"OKP":case"RSA":return"d"in r;case"oct":return"k"in r;default:return!1}}var kd=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class aa{static adjustSignatureToLowS({signature:t}){return kd(this,void 0,void 0,function*(){const n=Kh.bI.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return kd(this,void 0,void 0,function*(){const n=yield aa.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",d:nr.U$.uint8Array(t).toBase64Url(),x:nr.U$.uint8Array(n.x).toBase64Url(),y:nr.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Yo({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return kd(this,void 0,void 0,function*(){const n=yield aa.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",x:nr.U$.uint8Array(n.x).toBase64Url(),y:nr.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Yo({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return kd(this,void 0,void 0,function*(){return Kh.bI.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return kd(this,void 0,void 0,function*(){const n=yield aa.privateKeyToBytes({privateKey:t}),i=yield aa.getCurvePoint({keyBytes:n}),l={kty:"EC",crv:"secp256k1",x:nr.U$.uint8Array(i.x).toBase64Url(),y:nr.U$.uint8Array(i.y).toBase64Url()};return l.kid=yield Yo({jwk:l}),l})}static convertDerToCompactSignature({derSignature:t}){return kd(this,void 0,void 0,function*(){return Kh.bI.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return kd(this,void 0,void 0,function*(){return Kh.bI.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return kd(this,void 0,void 0,function*(){const t=Kh.bI.utils.randomPrivateKey(),n=yield aa.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Yo({jwk:n}),n})}static getPublicKey({key:t}){var n;return kd(this,void 0,void 0,function*(){if(!Cm(t)||"secp256k1"!==t.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["d"]);return null!==(n=l.kid)&&void 0!==n||(l.kid=yield Yo({jwk:l})),l})}static privateKeyToBytes({privateKey:t}){return kd(this,void 0,void 0,function*(){if(!Cm(t))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return nr.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return kd(this,void 0,void 0,function*(){if(!r6(t)||!t.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=nr.U$.base64Url(t.x).toUint8Array(),l=nr.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...l])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return kd(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield aa.privateKeyToBytes({privateKey:t}),l=yield aa.publicKeyToBytes({publicKey:n});return Kh.bI.getSharedSecret(i,l,!0).slice(1)})}static sign({data:t,key:n}){return kd(this,void 0,void 0,function*(){const i=yield aa.privateKeyToBytes({privateKey:n}),l=(0,Aw.s)(t);return Kh.bI.sign(l,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return kd(this,void 0,void 0,function*(){return Kh.bI.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return kd(this,void 0,void 0,function*(){try{Kh.bI.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return kd(this,void 0,void 0,function*(){const l=yield aa.publicKeyToBytes({publicKey:t}),p=(0,Aw.s)(i);return Kh.bI.verify(n,p,l,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return kd(this,void 0,void 0,function*(){32===t.byteLength&&(t=Kh.bI.getPublicKey(t));const n=Kh.bI.ProjectivePoint.fromHex(t);return{x:(0,t6.lq)(n.x,32),y:(0,t6.lq)(n.y,32)}})}}var Vh=w(40499),Rd=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class ca{static adjustSignatureToLowS({signature:t}){return Rd(this,void 0,void 0,function*(){const n=Vh.Ag.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return Rd(this,void 0,void 0,function*(){const n=yield ca.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",d:nr.U$.uint8Array(t).toBase64Url(),x:nr.U$.uint8Array(n.x).toBase64Url(),y:nr.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Yo({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Rd(this,void 0,void 0,function*(){const n=yield ca.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",x:nr.U$.uint8Array(n.x).toBase64Url(),y:nr.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Yo({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return Rd(this,void 0,void 0,function*(){return Vh.Ag.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return Rd(this,void 0,void 0,function*(){const n=yield ca.privateKeyToBytes({privateKey:t}),i=yield ca.getCurvePoint({keyBytes:n}),l={kty:"EC",crv:"P-256",x:nr.U$.uint8Array(i.x).toBase64Url(),y:nr.U$.uint8Array(i.y).toBase64Url()};return l.kid=yield Yo({jwk:l}),l})}static convertDerToCompactSignature({derSignature:t}){return Rd(this,void 0,void 0,function*(){return Vh.Ag.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return Rd(this,void 0,void 0,function*(){return Vh.Ag.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return Rd(this,void 0,void 0,function*(){const t=Vh.Ag.utils.randomPrivateKey(),n=yield ca.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Yo({jwk:n}),n})}static getPublicKey({key:t}){var n;return Rd(this,void 0,void 0,function*(){if(!Cm(t)||"P-256"!==t.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["d"]);return null!==(n=l.kid)&&void 0!==n||(l.kid=yield Yo({jwk:l})),l})}static privateKeyToBytes({privateKey:t}){return Rd(this,void 0,void 0,function*(){if(!Cm(t))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return nr.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Rd(this,void 0,void 0,function*(){if(!r6(t)||!t.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=nr.U$.base64Url(t.x).toUint8Array(),l=nr.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...l])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Rd(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield ca.privateKeyToBytes({privateKey:t}),l=yield ca.publicKeyToBytes({publicKey:n});return Vh.Ag.getSharedSecret(i,l,!0).slice(1)})}static sign({data:t,key:n}){return Rd(this,void 0,void 0,function*(){const i=yield ca.privateKeyToBytes({privateKey:n}),l=(0,Aw.s)(t);return Vh.Ag.sign(l,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return Rd(this,void 0,void 0,function*(){return Vh.Ag.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return Rd(this,void 0,void 0,function*(){try{Vh.Ag.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Rd(this,void 0,void 0,function*(){const l=yield ca.publicKeyToBytes({publicKey:t}),p=(0,Aw.s)(i);return Vh.Ag.verify(n,p,l,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return Rd(this,void 0,void 0,function*(){32===t.byteLength&&(t=Vh.Ag.getPublicKey(t));const n=Vh.Ag.ProjectivePoint.fromHex(t);return{x:(0,t6.lq)(n.x,32),y:(0,t6.lq)(n.y,32)}})}}var uA=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class o6 extends Im{computePublicKey({key:t}){return uA(this,void 0,void 0,function*(){if(!Cm(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield aa.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield ca.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return uA(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield aa.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield ca.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return uA(this,void 0,void 0,function*(){if(!Cm(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield aa.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield ca.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}sign({key:t,data:n}){return uA(this,void 0,void 0,function*(){if(!Cm(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield aa.sign({key:t,data:n});case"P-256":return yield ca.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return uA(this,void 0,void 0,function*(){if(!r6(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield aa.verify({key:t,signature:n,data:i});case"P-256":return yield ca.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var Yd=w(86295),zh=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class la{static bytesToPrivateKey({privateKeyBytes:t}){return zh(this,void 0,void 0,function*(){const n=Yd.ev.getPublicKey(t),i={crv:"Ed25519",d:nr.U$.uint8Array(t).toBase64Url(),kty:"OKP",x:nr.U$.uint8Array(n).toBase64Url()};return i.kid=yield Yo({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return zh(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"Ed25519",x:nr.U$.uint8Array(t).toBase64Url()};return n.kid=yield Yo({jwk:n}),n})}static computePublicKey({key:t}){return zh(this,void 0,void 0,function*(){const n=yield la.privateKeyToBytes({privateKey:t}),i=Yd.ev.getPublicKey(n),l={kty:"OKP",crv:"Ed25519",x:nr.U$.uint8Array(i).toBase64Url()};return l.kid=yield Yo({jwk:l}),l})}static convertPrivateKeyToX25519({privateKey:t}){return zh(this,void 0,void 0,function*(){const n=yield la.privateKeyToBytes({privateKey:t}),i=(0,Yd.OA)(n),l=Yd.TU.getPublicKey(i),p={kty:"OKP",crv:"X25519",d:nr.U$.uint8Array(i).toBase64Url(),x:nr.U$.uint8Array(l).toBase64Url()};return p.kid=yield Yo({jwk:p}),p})}static convertPublicKeyToX25519({publicKey:t}){return zh(this,void 0,void 0,function*(){const n=yield la.publicKeyToBytes({publicKey:t});if(!(yield la.validatePublicKey({publicKeyBytes:n})))throw new Error("Ed25519: Invalid public key.");const l=(0,Yd.GU)(n),p={kty:"OKP",crv:"X25519",x:nr.U$.uint8Array(l).toBase64Url()};return p.kid=yield Yo({jwk:p}),p})}static generateKey(){return zh(this,void 0,void 0,function*(){const t=Yd.ev.utils.randomPrivateKey(),n=yield la.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Yo({jwk:n}),n})}static getPublicKey({key:t}){var n;return zh(this,void 0,void 0,function*(){if(!km(t)||"Ed25519"!==t.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["d"]);return null!==(n=l.kid)&&void 0!==n||(l.kid=yield Yo({jwk:l})),l})}static privateKeyToBytes({privateKey:t}){return zh(this,void 0,void 0,function*(){if(!km(t))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return nr.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return zh(this,void 0,void 0,function*(){if(!i6(t))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return nr.U$.base64Url(t.x).toUint8Array()})}static sign({key:t,data:n}){return zh(this,void 0,void 0,function*(){const i=yield la.privateKeyToBytes({privateKey:t});return Yd.ev.sign(n,i)})}static validatePublicKey({publicKeyBytes:t}){return zh(this,void 0,void 0,function*(){try{Yd.ev.ExtendedPoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return zh(this,void 0,void 0,function*(){const l=yield la.publicKeyToBytes({publicKey:t});return Yd.ev.verify(n,i,l)})}}var fA=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class WN extends Im{computePublicKey({key:t}){return fA(this,void 0,void 0,function*(){if(!km(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield la.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}generateKey({algorithm:t}){return fA(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield la.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return fA(this,void 0,void 0,function*(){if(!km(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield la.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}sign({key:t,data:n}){return fA(this,void 0,void 0,function*(){if(!km(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield la.sign({key:t,data:n});throw new Error(`Unsupported curve: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return fA(this,void 0,void 0,function*(){if(!i6(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield la.verify({key:t,signature:n,data:i});throw new Error(`Unsupported curve: ${t.crv}`)})}}var ey=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};const gP={Ed25519:{implementation:WN,names:["Ed25519"]},secp256k1:{implementation:o6,names:["ES256K","secp256k1"]},secp256r1:{implementation:o6,names:["ES256","secp256r1"]},"SHA-256":{implementation:mP,names:["SHA-256"]}};class Rm{constructor(t){var n;this._algorithmInstances=new Map,this._keyStore=null!==(n=t?.keyStore)&&void 0!==n?n:new nr.ny}digest({algorithm:t,data:n}){return ey(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}exportKey({keyUri:t}){return ey(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){return ey(this,void 0,void 0,function*(){const i=yield this.getAlgorithm({algorithm:t}).generateKey({algorithm:t});if(void 0===i?.kid)throw new Error("Generated key is missing a required property: kid");const l=`${n6}${i.kid}`;return yield this._keyStore.set(l,i),l})}getKeyUri({key:t}){return ey(this,void 0,void 0,function*(){const n=yield Yo({jwk:t});return`${n6}${n}`})}getPublicKey({keyUri:t}){return ey(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return ey(this,void 0,void 0,function*(){if(!yP(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield Yo({jwk:i}));const l=yield this.getKeyUri({key:i});return yield this._keyStore.set(l,i),l})}sign({keyUri:t,data:n}){return ey(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),l=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:l}).sign({data:n,key:i})})}verify({key:t,signature:n,data:i}){return ey(this,void 0,void 0,function*(){const l=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:l}).verify({key:t,signature:n,data:i})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=gP[t])||void 0===n?void 0:n.implementation;if(!i)throw new Error(`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const l in gP){const p=gP[l];if(n&&p.names.includes(n))return l;if(i&&p.names.includes(i))return l}throw new Error(`Unable to determine algorithm based on provided input: alg=${n}, crv=${i}`)}getPrivateKey({keyUri:t}){return ey(this,void 0,void 0,function*(){const n=yield this._keyStore.get(t);if(!n)throw new Error(`Key not found: ${t}`);return n})}}var cU=w(86703),Jd=w(62953);function GN(r){const t={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(r.alg&&Object.values(t).includes(r.alg))return r.alg;if(r.crv&&Object.keys(t).includes(r.crv))return t[r.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${r.alg}, crv=${r.crv}. Supported 'alg' values: ${Object.values(t).join(", ")}. Supported 'crv' values: ${Object.keys(t).join(", ")}.`)}function XN(r){return(0,Jd.po)(r)}function Tw(){return cU.E.randomUUID()}var Zg=w(91879),pA=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};const YN=[128,192,256],l6=[96,104,112,120,128];class Yg{static bytesToPrivateKey({privateKeyBytes:t}){return pA(this,void 0,void 0,function*(){const n={k:nr.U$.uint8Array(t).toBase64Url(),kty:"oct"};return n.kid=yield Yo({jwk:n}),n})}static decrypt({key:t,data:n,iv:i,additionalData:l,tagLength:p}){return pA(this,void 0,void 0,function*(){if(12!==i.byteLength)throw new TypeError("The initialization vector must be 96 bits in length");if(p&&!l6.includes(p))throw new RangeError(`The tag length is invalid: Must be ${l6.join(", ")} bits`);const c=(0,Zg.NZ)(),h=yield c.importKey("jwk",t,{name:"AES-GCM"},!0,["decrypt"]),V=Object.assign(Object.assign({name:"AES-GCM",iv:i},p&&{tagLength:p}),l&&{additionalData:l}),$=yield c.decrypt(V,h,n);return new Uint8Array($)})}static encrypt({data:t,iv:n,key:i,additionalData:l,tagLength:p}){return pA(this,void 0,void 0,function*(){if(12!==n.byteLength)throw new TypeError("The initialization vector must be 96 bits in length");if(p&&!l6.includes(p))throw new RangeError(`The tag length is invalid: Must be ${l6.join(", ")} bits`);const c=(0,Zg.NZ)(),h=yield c.importKey("jwk",i,{name:"AES-GCM"},!0,["encrypt"]),V=Object.assign(Object.assign({name:"AES-GCM",iv:n},p&&{tagLength:p}),l&&{additionalData:l}),$=yield c.encrypt(V,h,t);return new Uint8Array($)})}static generateKey({length:t}){return pA(this,void 0,void 0,function*(){if(!YN.includes(t))throw new RangeError(`The key length is invalid: Must be ${YN.join(", ")} bits`);const n=(0,Zg.NZ)(),i=yield n.generateKey({name:"AES-GCM",length:t},!0,["encrypt"]),h=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(yield n.exportKey("jwk",i),["ext","key_ops"]);return h.kid=yield Yo({jwk:h}),h})}static privateKeyToBytes({privateKey:t}){return pA(this,void 0,void 0,function*(){if(!HN(t))throw new Error("AesGcm: The provided key is not a valid oct private key.");return nr.U$.base64Url(t.k).toUint8Array()})}}var bP=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},Jg=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class FE{static bytesToPrivateKey({privateKeyBytes:t}){return Jg(this,void 0,void 0,function*(){const n=Yd.TU.getPublicKey(t),i={kty:"OKP",crv:"X25519",d:nr.U$.uint8Array(t).toBase64Url(),x:nr.U$.uint8Array(n).toBase64Url()};return i.kid=yield Yo({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Jg(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"X25519",x:nr.U$.uint8Array(t).toBase64Url()};return n.kid=yield Yo({jwk:n}),n})}static computePublicKey({key:t}){return Jg(this,void 0,void 0,function*(){const n=yield FE.privateKeyToBytes({privateKey:t}),i=Yd.TU.getPublicKey(n),l={kty:"OKP",crv:"X25519",x:nr.U$.uint8Array(i).toBase64Url()};return l.kid=yield Yo({jwk:l}),l})}static generateKey(){return Jg(this,void 0,void 0,function*(){const t=Yd.TU.utils.randomPrivateKey(),n=yield FE.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Yo({jwk:n}),n})}static getPublicKey({key:t}){var n;return Jg(this,void 0,void 0,function*(){if(!km(t)||"X25519"!==t.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["d"]);return null!==(n=l.kid)&&void 0!==n||(l.kid=yield Yo({jwk:l})),l})}static privateKeyToBytes({privateKey:t}){return Jg(this,void 0,void 0,function*(){if(!km(t))throw new Error("X25519: The provided key is not a valid OKP private key.");return nr.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Jg(this,void 0,void 0,function*(){if(!i6(t))throw new Error("X25519: The provided key is not a valid OKP public key.");return nr.U$.base64Url(t.x).toUint8Array()})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Jg(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield FE.privateKeyToBytes({privateKey:t}),l=yield FE.publicKeyToBytes({publicKey:n});return Yd.TU.getSharedSecret(i,l)})}}w(94730);class vU{static deriveKeyBytes({baseKeyBytes:t,length:n,hash:i,salt:l,info:p=new Uint8Array}){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const h=yield(0,Zg.NZ)().importKey("raw",t,{name:"HKDF"},!1,["deriveBits"]);l="string"==typeof l?nr.U$.string(l).toUint8Array():l,p="string"==typeof p?nr.U$.string(p).toUint8Array():p;const V=yield crypto.subtle.deriveBits({name:"HKDF",hash:i,salt:l,info:p},h,n);return new Uint8Array(V)})}}class Gi extends Error{constructor(t,n){super(n),this.code=t,this.name="CryptoError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gi)}}var Xi=function(r){return r.AlgorithmNotSupported="algorithmNotSupported",r.EncodingError="encodingError",r.InvalidJwe="invalidJwe",r.InvalidJwk="invalidJwk",r.OperationNotSupported="operationNotSupported",r}(Xi||{}),ty=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class JN extends Im{bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return ty(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const i=yield aa.bytesToPrivateKey({privateKeyBytes:n});return i.alg="EdDSA",i}case"ES256":case"secp256r1":{const i=yield ca.bytesToPrivateKey({privateKeyBytes:n});return i.alg="EdDSA",i}default:throw new Gi(Xi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)}})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return ty(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const i=yield aa.bytesToPublicKey({publicKeyBytes:n});return i.alg="EdDSA",i}case"ES256":case"secp256r1":{const i=yield ca.bytesToPublicKey({publicKeyBytes:n});return i.alg="EdDSA",i}default:throw new Gi(Xi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)}})}computePublicKey({key:t}){return ty(this,void 0,void 0,function*(){if(!Cm(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield aa.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield ca.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return ty(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield aa.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield ca.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return ty(this,void 0,void 0,function*(){if(!Cm(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield aa.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield ca.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}privateKeyToBytes({privateKey:t}){return ty(this,void 0,void 0,function*(){switch(t.crv){case"secp256k1":return yield aa.privateKeyToBytes({privateKey:t});case"P-256":return yield ca.privateKeyToBytes({privateKey:t});default:throw new Gi(Xi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)}})}publicKeyToBytes({publicKey:t}){return ty(this,void 0,void 0,function*(){switch(t.crv){case"secp256k1":return yield aa.publicKeyToBytes({publicKey:t});case"P-256":return yield ca.publicKeyToBytes({publicKey:t});default:throw new Gi(Xi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)}})}sign({key:t,data:n}){return ty(this,void 0,void 0,function*(){if(!Cm(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield aa.sign({key:t,data:n});case"P-256":return yield ca.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return ty(this,void 0,void 0,function*(){if(!r6(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield aa.verify({key:t,signature:n,data:i});case"P-256":return yield ca.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var ny=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},gA=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},qN=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n};const QN=[128,192,256];class vA{static bytesToPrivateKey({privateKeyBytes:t}){return gA(this,void 0,void 0,function*(){const n={k:nr.U$.uint8Array(t).toBase64Url(),kty:"oct"};return n.kid=yield Yo({jwk:n}),n.alg={128:"A128KW",192:"A192KW",256:"A256KW"}[8*t.length],n})}static generateKey({length:t}){return gA(this,void 0,void 0,function*(){if(!QN.includes(t))throw new RangeError(`The key length is invalid: Must be ${QN.join(", ")} bits`);const n=(0,Zg.NZ)(),i=yield n.generateKey({name:"AES-KW",length:t},!0,["wrapKey","unwrapKey"]),l=yield n.exportKey("jwk",i),h=qN(l,["ext","key_ops"]);return h.kid=yield Yo({jwk:h}),h})}static privateKeyToBytes({privateKey:t}){return gA(this,void 0,void 0,function*(){if(!HN(t))throw new Error("AesKw: The provided key is not a valid oct private key.");return nr.U$.base64Url(t.k).toUint8Array()})}static unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKey:i}){return gA(this,void 0,void 0,function*(){if(!("alg"in i)||!i.alg)throw new Gi(Xi.InvalidJwk,"The decryption key is missing the 'alg' property.");if(!["A128KW","A192KW","A256KW"].includes(i.alg))throw new Gi(Xi.AlgorithmNotSupported,`The 'decryptionKey' algorithm is not supported: ${i.alg}`);const l=(0,Zg.NZ)(),p=yield l.importKey("jwk",i,{name:"AES-KW"},!0,["unwrapKey"]),c={A128KW:"AES-KW",A192KW:"AES-KW",A256KW:"AES-KW",A128GCM:"AES-GCM",A192GCM:"AES-GCM",A256GCM:"AES-GCM"}[n];if(!c)throw new Gi(Xi.AlgorithmNotSupported,`The 'wrappedKeyAlgorithm' is not supported: ${n}`);const h=yield l.unwrapKey("raw",t.buffer,p,"AES-KW",{name:c},!0,["unwrapKey"]),V=yield l.exportKey("jwk",h),Ce=qN(V,["ext","key_ops"]);return Ce.kid=yield Yo({jwk:Ce}),Ce})}static wrapKey({unwrappedKey:t,encryptionKey:n}){return gA(this,void 0,void 0,function*(){if(!("alg"in n)||!n.alg)throw new Gi(Xi.InvalidJwk,"The encryption key is missing the 'alg' property.");if(!["A128KW","A192KW","A256KW"].includes(n.alg))throw new Gi(Xi.AlgorithmNotSupported,`The 'encryptionKey' algorithm is not supported: ${n.alg}`);if(!("alg"in t)||!t.alg)throw new Gi(Xi.InvalidJwk,"The private key to wrap is missing the 'alg' property.");const i=(0,Zg.NZ)(),l=yield i.importKey("jwk",n,{name:"AES-KW"},!0,["wrapKey"]),p={A128KW:"AES-KW",A192KW:"AES-KW",A256KW:"AES-KW",A128GCM:"AES-GCM",A192GCM:"AES-GCM",A256GCM:"AES-GCM"}[t.alg];if(!p)throw new Gi(Xi.AlgorithmNotSupported,`The 'unwrappedKey' algorithm is not supported: ${t.alg}`);const c=yield i.importKey("jwk",t,{name:p},!0,["unwrapKey"]),h=yield i.wrapKey("raw",c,l,"AES-KW");return new Uint8Array(h)})}}var bA=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class e9 extends Im{bytesToPrivateKey({privateKeyBytes:t}){return bA(this,void 0,void 0,function*(){const n=yield vA.bytesToPrivateKey({privateKeyBytes:t});return n.alg={16:"A128KW",24:"A192KW",32:"A256KW"}[t.length],n})}generateKey({algorithm:t}){return bA(this,void 0,void 0,function*(){const n={A128KW:128,A192KW:192,A256KW:256}[t],i=yield vA.generateKey({length:n});return i.alg=t,i})}privateKeyToBytes({privateKey:t}){return bA(this,void 0,void 0,function*(){return yield vA.privateKeyToBytes({privateKey:t})})}unwrapKey(t){return bA(this,void 0,void 0,function*(){return yield vA.unwrapKey(t)})}wrapKey(t){return bA(this,void 0,void 0,function*(){return vA.wrapKey(t)})}}class SU{static deriveKeyBytes({baseKeyBytes:t,hash:n,salt:i,iterations:l,length:p}){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const c=(0,Zg.NZ)(),h=yield c.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]),V=yield c.deriveBits({name:"PBKDF2",hash:n,salt:i,iterations:l},h,p);return new Uint8Array(V)})}}var wA=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},qd=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};const EP={"AES-GCM":{implementation:class DU extends Im{bytesToPrivateKey({privateKeyBytes:t}){return wA(this,void 0,void 0,function*(){const n=yield Yg.bytesToPrivateKey({privateKeyBytes:t});return n.alg={16:"A128GCM",24:"A192GCM",32:"A256GCM"}[t.length],n})}decrypt(t){return wA(this,void 0,void 0,function*(){return Yg.decrypt(t)})}encrypt(t){return wA(this,void 0,void 0,function*(){return Yg.encrypt(t)})}generateKey({algorithm:t}){return wA(this,void 0,void 0,function*(){const n={A128GCM:128,A192GCM:192,A256GCM:256}[t],i=yield Yg.generateKey({length:n});return i.alg=t,i})}privateKeyToBytes({privateKey:t}){return wA(this,void 0,void 0,function*(){return yield Yg.privateKeyToBytes({privateKey:t})})}},names:["A128GCM","A192GCM","A256GCM"],operations:["bytesToPrivateKey","decrypt","encrypt","generateKey"]},"AES-KW":{implementation:e9,names:["A128KW","A192KW","A256KW"],operations:["bytesToPrivateKey","generateKey","privateKeyToBytes","wrapKey","unwrapKey"]},Ed25519:{implementation:class EU extends Im{bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return ny(this,void 0,void 0,function*(){if("Ed25519"===t){const i=yield la.bytesToPrivateKey({privateKeyBytes:n});return i.alg="EdDSA",i}throw new Gi(Xi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return ny(this,void 0,void 0,function*(){if("Ed25519"===t){const i=yield la.bytesToPublicKey({publicKeyBytes:n});return i.alg="EdDSA",i}throw new Gi(Xi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)})}computePublicKey({key:t}){return ny(this,void 0,void 0,function*(){if(!km(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield la.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Gi(Xi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}generateKey({algorithm:t}){return ny(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield la.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return ny(this,void 0,void 0,function*(){if(!km(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield la.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}privateKeyToBytes({privateKey:t}){return ny(this,void 0,void 0,function*(){if("Ed25519"===t.crv)return yield la.privateKeyToBytes({privateKey:t});throw new Gi(Xi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}publicKeyToBytes({publicKey:t}){return ny(this,void 0,void 0,function*(){if("Ed25519"===t.crv)return yield la.publicKeyToBytes({publicKey:t});throw new Gi(Xi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}sign({key:t,data:n}){return ny(this,void 0,void 0,function*(){if(!km(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield la.sign({key:t,data:n});throw new Gi(Xi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return ny(this,void 0,void 0,function*(){if(!i6(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield la.verify({key:t,signature:n,data:i});throw new Gi(Xi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}},names:["Ed25519"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},HKDF:{implementation:class _U extends Im{deriveKeyBytes(t){var{algorithm:n}=t,i=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["algorithm"]);return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const l={"HKDF-256":"SHA-256","HKDF-384":"SHA-384","HKDF-512":"SHA-512"}[n];return yield vU.deriveKeyBytes(Object.assign(Object.assign({},i),{hash:l}))})}},names:["HKDF-256","HKDF-384","HKDF-512"],operations:["deriveKey","deriveKeyBytes"]},PBKDF2:{implementation:class TU extends Im{deriveKeyBytes(t){var{algorithm:n}=t,i=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["algorithm"]);return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const[,l]=n.split(/[-+]/),p={HS256:"SHA-256",HS384:"SHA-384",HS512:"SHA-512"}[l];return yield SU.deriveKeyBytes(Object.assign(Object.assign({},i),{hash:p}))})}},names:["PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"],operations:["deriveKey","deriveKeyBytes"]},secp256k1:{implementation:JN,names:["ES256K","secp256k1"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},secp256r1:{implementation:JN,names:["ES256","secp256r1"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},"SHA-256":{implementation:mP,names:["SHA-256"],operations:["digest"]}};class jE{constructor(){this._algorithmInstances=new Map}bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return qd(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:t});return yield this.getAlgorithm({algorithm:i}).bytesToPrivateKey({algorithm:t,privateKeyBytes:n})})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return qd(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:t});return yield this.getAlgorithm({algorithm:i}).bytesToPublicKey({algorithm:t,publicKeyBytes:n})})}decrypt(t){return qd(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.key});return yield this.getAlgorithm({algorithm:n}).decrypt(t)})}deriveKey(t){var n,i;return qd(this,void 0,void 0,function*(){const l=this.getAlgorithmName({algorithm:t.algorithm}),p=this.getAlgorithm({algorithm:l});let c;switch(t.algorithm){case"HKDF-256":case"HKDF-384":case"HKDF-512":c=t.derivedKeyAlgorithm;break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":c=t.algorithm.split(/[-+]/)[2];break;default:throw new Gi(Xi.AlgorithmNotSupported,`The specified "algorithm" is not supported: ${t.algorithm}`)}const h=+(null!==(i=null===(n=c.match(/\d+/))||void 0===n?void 0:n[0])&&void 0!==i?i:-1);if(-1===h)throw new Gi(Xi.AlgorithmNotSupported,`The derived key algorithm" is not supported: ${c}`);const V=yield p.deriveKeyBytes(Object.assign(Object.assign({},t),{length:h}));return yield this.bytesToPrivateKey({algorithm:c,privateKeyBytes:V})})}deriveKeyBytes(t){return qd(this,void 0,void 0,function*(){const n=this.getAlgorithmName({algorithm:t.algorithm});return yield this.getAlgorithm({algorithm:n}).deriveKeyBytes(t)})}digest({algorithm:t,data:n}){return qd(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}encrypt(t){return qd(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.key});return yield this.getAlgorithm({algorithm:n}).encrypt(t)})}generateKey(t){var n;return qd(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:t.algorithm}),p=yield this.getAlgorithm({algorithm:i}).generateKey({algorithm:t.algorithm});return null!==(n=p.kid)&&void 0!==n||(p.kid=yield Yo({jwk:p})),p})}getKeyUri(t){return qd(this,void 0,void 0,function*(){throw new Error("Method not implemented.")})}getPublicKey({key:t}){return qd(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).getPublicKey({key:t})})}privateKeyToBytes({privateKey:t}){return qd(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).privateKeyToBytes({privateKey:t})})}publicKeyToBytes({publicKey:t}){return qd(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).publicKeyToBytes({publicKey:t})})}sign({key:t,data:n}){return qd(this,void 0,void 0,function*(){const i=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:i}).sign({data:n,key:t})})}unwrapKey(t){return qd(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.decryptionKey});return yield this.getAlgorithm({algorithm:n}).unwrapKey(t)})}verify({key:t,signature:n,data:i}){return qd(this,void 0,void 0,function*(){const l=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:l}).verify({key:t,signature:n,data:i})})}wrapKey(t){return qd(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.encryptionKey});return yield this.getAlgorithm({algorithm:n}).wrapKey(t)})}getAlgorithm({algorithm:t}){var n;const i=null===(n=EP[t])||void 0===n?void 0:n.implementation;if(!i)throw new Gi(Xi.AlgorithmNotSupported,`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({algorithm:t,key:n}){var i;const l=null!==(i=n?.alg)&&void 0!==i?i:t,p=n?.crv;for(const c of Object.keys(EP)){const h=EP[c].names;if(l&&h.includes(l))return c;if(p&&h.includes(p))return c}throw new Gi(Xi.AlgorithmNotSupported,`Algorithm not supported based on provided input: alg=${l}, crv=${p}. Please check the documentation for the list of supported algorithms.`)}}var d6=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}(d6||{});const Iw={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Ma{constructor({method:t,id:n,path:i,query:l,fragment:p,params:c}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=i,this.query=l,this.fragment=p,this.params=c}static parse(t){if(!t)return null;const n=Ma.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:i,id:l,path:p,query:c,fragment:h}=n.groups,V={uri:`did:${i}:${l}`,method:i,id:l};if(p&&(V.path=p),c&&(V.query=c.slice(1)),h&&(V.fragment=h.slice(1)),c){const $={},I=c.slice(1).split("&");for(const q of I){const[Ce,Be]=q.split("=");$[Ce]=Be}V.params=$}return V}}Ma.METHOD_PATTERN="([a-z0-9]+)",Ma.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Ma.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Ma.PCT_ENCODED_PATTERN})`,Ma.METHOD_ID_PATTERN=`((?:${Ma.ID_CHAR_PATTERN}*:)*(${Ma.ID_CHAR_PATTERN}+))`,Ma.PATH_PATTERN="(/[^#?]*)?",Ma.QUERY_PATTERN="([?][^#]*)?",Ma.FRAGMENT_PATTERN="(#.*)?",Ma.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Ma.METHOD_PATTERN}):(?<id>${Ma.METHOD_ID_PATTERN})(?<path>${Ma.PATH_PATTERN})(?<query>${Ma.QUERY_PATTERN})(?<fragment>${Ma.FRAGMENT_PATTERN})$`);class Ls extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ls)}}var Os=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(Os||{});function Rp(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function SP(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}var _A=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class ry{constructor({uri:t,document:n,metadata:i,keyManager:l}){this.uri=t,this.document=n,this.metadata=i,this.keyManager=l}export(){return _A(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const n=[];for(let i of this.document.verificationMethod){if(!i.publicKeyJwk)throw new Error(`Verification method '${i.id}' does not contain a public key in JWK format`);const l=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),p=yield this.keyManager.exportKey({keyUri:l});n.push(Object.assign({},p))}t.privateKeys=n}return t})}getSigner(t){return _A(this,void 0,void 0,function*(){var n;const i=null===(n=this.document.verificationMethod)||void 0===n?void 0:n.find(V=>{var $,I;return Rp(V.id)===(null!==($=Rp(t?.methodId))&&void 0!==$?$:Rp(null===(I=this.document.assertionMethod)||void 0===I?void 0:I[0]))});if(!i||!i.publicKeyJwk)throw new Ls(Os.InternalError,"A verification method intended for signing could not be determined from the DID Document");const l=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),p=yield this.keyManager.getPublicKey({keyUri:l}),c=this.keyManager;return{algorithm:GN(p),keyId:i.id,sign(V){return _A(this,arguments,void 0,function*({data:$}){return yield c.sign({data:$,keyUri:l})})},verify(V){return _A(this,arguments,void 0,function*({data:$,signature:I}){return yield c.verify({data:$,key:p,signature:I})})}}})}static import(t){return _A(this,arguments,void 0,function*({portableDid:n,keyManager:i=new Rm}){var l;const p=function xP({didDocument:r}){var t,n;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const i=[];return i.push(...null!==(n=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(SP))&&void 0!==n?n:[]),Object.keys(d6).forEach(l=>{var p,c;i.push(...null!==(c=null===(p=r[l])||void 0===p?void 0:p.filter(SP))&&void 0!==c?c:[])}),i}({didDocument:n.document});if(0===p.length)throw new Ls(Os.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let h of null!==(l=n.privateKeys)&&void 0!==l?l:[])yield i.importKey({key:h});for(let h of p){if(!h.publicKeyJwk)throw new Error(`Verification method '${h.id}' does not contain a public key in JWK format`);const V=yield i.getKeyUri({key:h.publicKeyJwk});yield i.getPublicKey({keyUri:V})}return new ry({uri:n.uri,document:n.document,metadata:n.metadata,keyManager:i})})}}var t9=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class n9{static getSigningMethod(t){return t9(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,n){return t9(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var ad=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},r9=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n};const i9="https://diddht.tbddev.org",qg=7200,Su=",";var o9=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}(o9||{}),mf=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(mf||{}),s9=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(s9||{});const a9={Ed25519:mf.Ed25519,ES256K:mf.secp256k1,ES256:mf.secp256r1,"P-256":mf.secp256r1,secp256k1:mf.secp256k1,secp256r1:mf.secp256r1,X25519:mf.X25519},c9={[mf.Ed25519]:"Ed25519",[mf.secp256k1]:"ES256K",[mf.secp256r1]:"ES256",[mf.X25519]:"ECDH-ES+A256KW"};let f6=(()=>{class r extends n9{static create(){return ad(this,arguments,void 0,function*({keyManager:n=new Rm,options:i={}}={}){var l,p,c,h,V,$,I,q,Ce,Be,Pe;if(null!==(l=i.verificationMethods)&&void 0!==l&&l.some(Ct=>!(Ct.algorithm in a9)))throw new Error("One or more verification method algorithms are not supported");const Ke=null===(p=i.verificationMethods)||void 0===p?void 0:p.filter(Ct=>"id"in Ct).map(Ct=>Ct.id);if(Ke&&Ke.length!==new Set(Ke).size)throw new Error("One or more verification method IDs are not unique");if(null!==(c=i.services)&&void 0!==c&&c.some(Ct=>!Ct.id||!Ct.type||!Ct.serviceEndpoint))throw new Error("One or more services are missing required properties");const rt=yield n.generateKey({algorithm:"Ed25519"}),ht=yield n.getPublicKey({keyUri:rt}),ct=yield al.identityKeyToIdentifier({identityKey:ht}),dt=Object.assign(Object.assign({id:ct},i.alsoKnownAs&&{alsoKnownAs:i.alsoKnownAs}),i.controllers&&{controller:i.controllers}),At=[...null!==(h=i.verificationMethods)&&void 0!==h?h:[]];At?.some(Ct=>{var zt;return"0"===(null===(zt=Ct.id)||void 0===zt?void 0:zt.split("#").pop())})||At.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const Ct of At){const zt=Ct.id&&"0"===Ct.id.split("#").pop()?rt:yield n.generateKey({algorithm:Ct.algorithm}),Xt=yield n.getPublicKey({keyUri:zt});let xn=null!==($=null!==(V=Ct.id)&&void 0!==V?V:Xt.kid)&&void 0!==$?$:yield Yo({jwk:Xt});xn=`${ct}#${Rp(xn)}`,null!==(I=dt.verificationMethod)&&void 0!==I||(dt.verificationMethod=[]),dt.verificationMethod.push({id:xn,type:"JsonWebKey",controller:null!==(q=Ct.controller)&&void 0!==q?q:ct,publicKeyJwk:Xt});for(const Cn of null!==(Ce=Ct.purposes)&&void 0!==Ce?Ce:[])dt[Cn]||(dt[Cn]=[]),dt[Cn].push(xn)}null===(Be=i.services)||void 0===Be||Be.forEach(Ct=>{var zt;null!==(zt=dt.service)&&void 0!==zt||(dt.service=[]),Ct.id=`${ct}#${Ct.id.split("#").pop()}`,dt.service.push(Ct)});const Pt=new ry({uri:ct,document:dt,metadata:Object.assign({published:!1},i.types&&{types:i.types}),keyManager:n});if(null===(Pe=i.publish)||void 0===Pe||Pe){const Ct=yield r.publish({did:Pt,gatewayUri:i.gatewayUri});Pt.metadata=Ct.didDocumentMetadata}return Pt})}static import(n){return ad(this,arguments,void 0,function*({portableDid:i,keyManager:l=new Rm}){var p;const c=Ma.parse(i.uri);if(c?.method!==r.methodName)throw new Ls(Os.MethodNotSupported,"Method not supported");const h=yield ry.import({portableDid:i,keyManager:l});if(null===(p=h.document.verificationMethod)||void 0===p||!p.some(V=>{var $;return"0"===(null===($=V.id)||void 0===$?void 0:$.split("#").pop())}))throw new Ls(Os.InvalidDidDocument,"DID document must contain an Identity Key");return h})}static getSigningMethod(n){return ad(this,arguments,void 0,function*({didDocument:i,methodId:l="#0"}){var p;const c=Ma.parse(i.id);if(c&&c.method!==this.methodName)throw new Ls(Os.MethodNotSupported,`Method not supported: ${c.method}`);const h=null===(p=i.verificationMethod)||void 0===p?void 0:p.find(V=>{var $,I;return Rp(V.id)===(null!==($=Rp(l))&&void 0!==$?$:Rp(null===(I=i.assertionMethod)||void 0===I?void 0:I[0]))});if(!h||!h.publicKeyJwk)throw new Ls(Os.InternalError,"A verification method intended for signing could not be determined from the DID Document");return h})}static publish(n){return ad(this,arguments,void 0,function*({did:i,gatewayUri:l=i9}){return yield iy.put({did:i,gatewayUri:l})})}static resolve(n){return ad(this,arguments,void 0,function*(i,l={}){var p;const c=null!==(p=l?.gatewayUri)&&void 0!==p?p:i9;try{yield al.identifierToIdentityKey({didUri:i});const{didDocument:h,didDocumentMetadata:V}=yield iy.get({didUri:i,gatewayUri:c});return Object.assign(Object.assign({},Iw),{didDocument:h,didDocumentMetadata:V})}catch(h){if(!(h instanceof Ls))throw new Error(h);return Object.assign(Object.assign({},Iw),{didResolutionMetadata:Object.assign({error:h.code},h.message&&{errorMessage:h.message})})}})}}return r.methodName="dht",r})();class iy{static get(t){return ad(this,arguments,void 0,function*({didUri:n,gatewayUri:i}){const l=al.identifierToIdentityKeyBytes({didUri:n}),p=yield iy.pkarrGet({gatewayUri:i,publicKeyBytes:l}),c=yield al.parseBep44GetMessage({bep44Message:p}),h=yield iy.fromDnsPacket({didUri:n,dnsPacket:c});return h.didDocumentMetadata.versionId=p.seq.toString(),h})}static put(t){return ad(this,arguments,void 0,function*({did:n,gatewayUri:i}){const l=yield iy.toDnsPacket({didDocument:n.document,didMetadata:n.metadata,authoritativeGatewayUris:[i]}),p=yield al.createBep44PutMessage({dnsPacket:l,publicKeyBytes:al.identifierToIdentityKeyBytes({didUri:n.uri}),signer:yield n.getSigner({methodId:"0"})}),c=yield iy.pkarrPut({gatewayUri:i,bep44Message:p});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:c,versionId:p.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return ad(this,arguments,void 0,function*({gatewayUri:n,publicKeyBytes:i}){const l=nr.U$.uint8Array(i).toBase32Z(),p=new URL(l,n).href;let c;try{if(c=yield fetch(p,{method:"GET"}),!c.ok)throw new Ls(Os.NotFound,`Pkarr record not found for: ${l}`)}catch($){throw $ instanceof Ls?$:new Ls(Os.InternalError,`Failed to fetch Pkarr record: ${$.message}`)}const h=yield c.arrayBuffer();if(!h)throw new Ls(Os.NotFound,`Pkarr record not found for: ${l}`);if(h.byteLength<72)throw new Ls(Os.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${h.byteLength}`);if(h.byteLength>1072)throw new Ls(Os.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${h.byteLength}`);return{k:i,seq:Number(new DataView(h).getBigUint64(64)),sig:new Uint8Array(h,0,64),v:new Uint8Array(h,72)}})}static pkarrPut(t){return ad(this,arguments,void 0,function*({gatewayUri:n,bep44Message:i}){const l=nr.U$.uint8Array(i.k).toBase32Z(),p=new URL(l,n).href,c=new Uint8Array(i.v.length+72);let h;c.set(i.sig,0),new DataView(c.buffer).setBigUint64(i.sig.length,BigInt(i.seq)),c.set(i.v,i.sig.length+8);try{h=yield fetch(p,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:c})}catch(V){throw new Ls(Os.InternalError,`Failed to put Pkarr record for identifier ${l}: ${V.message}`)}return h.ok})}static fromDnsPacket(t){return ad(this,arguments,void 0,function*({didUri:n,dnsPacket:i}){var l,p,c;const h={id:n},V={published:!0},$=new Map;for(const I of null!==(l=i?.answers)&&void 0!==l?l:[]){if("TXT"!==I.type)continue;const q=I.name.split(".")[0].substring(1);switch(!0){case q.startsWith("aka"):{const Ce=al.parseTxtDataToString(I.data);h.alsoKnownAs=Ce.split(Su);break}case q.startsWith("cnt"):{const Ce=al.parseTxtDataToString(I.data);h.controller=Ce.includes(Su)?Ce.split(Su):Ce;break}case q.startsWith("k"):{const{id:Ce,t:Be,k:Pe,c:Ke,a:rt}=al.parseTxtDataToObject(I.data),ht=nr.U$.base64Url(Pe).toUint8Array(),ct=mf[Number(Be)];let dt=yield al.keyConverter(ct).bytesToPublicKey({publicKeyBytes:ht});dt.alg=rt||c9[Number(Be)];const At="k0"===q?"0":void 0!==Ce?Ce:yield Yo({jwk:dt});null!==(p=h.verificationMethod)&&void 0!==p||(h.verificationMethod=[]);const Pt=`${n}#${At}`;h.verificationMethod.push({id:Pt,type:"JsonWebKey",controller:Ke??n,publicKeyJwk:dt}),$.set(q,Pt);break}case q.startsWith("s"):{const Ce=al.parseTxtDataToObject(I.data),{id:Be,t:Pe,se:Ke}=Ce,rt=r9(Ce,["id","t","se"]),ht=Ke.includes(Su)?Ke.split(Su):[Ke],ct=Object.fromEntries(Object.entries(rt).map(([dt,At])=>[dt,At.includes(Su)?At.split(Su):At]));null!==(c=h.service)&&void 0!==c||(h.service=[]),h.service.push(Object.assign(Object.assign({},ct),{id:`${n}#${Be}`,type:Pe,serviceEndpoint:ht}));break}case q.startsWith("typ"):{const{id:Ce}=al.parseTxtDataToObject(I.data);V.types=Ce.split(Su).map(Be=>Number(Be));break}case q.startsWith("did"):{const Ce=ct=>ct.split(Su).map(dt=>$.get(dt)).filter(dt=>"string"==typeof dt),{auth:Be,asm:Pe,del:Ke,inv:rt,agm:ht}=al.parseTxtDataToObject(I.data);Be&&(h.authentication=Ce(Be)),Pe&&(h.assertionMethod=Ce(Pe)),Ke&&(h.capabilityDelegation=Ce(Ke)),rt&&(h.capabilityInvocation=Ce(rt)),ht&&(h.keyAgreement=Ce(ht));break}}}return{didDocument:h,didDocumentMetadata:V,didResolutionMetadata:{}}})}static toDnsPacket(t){return ad(this,arguments,void 0,function*({didDocument:n,didMetadata:i,authoritativeGatewayUris:l,previousDidProof:p}){var c,h,V,$,I;const q=[],Ce=[],Be=new Map,Pe=[],Ke=[];if(void 0!==p){const{signature:ct,previousDid:dt}=p;yield al.validatePreviousDidProof({newDid:n.id,previousDidProof:p}),q.push({type:"TXT",name:"_prv._did.",ttl:qg,data:`id=${dt};s=${ct}`})}if(n.alsoKnownAs&&q.push({type:"TXT",name:"_aka._did.",ttl:qg,data:n.alsoKnownAs.join(Su)}),n.controller){const ct=Array.isArray(n.controller)?n.controller.join(Su):n.controller;q.push({type:"TXT",name:"_cnt._did.",ttl:qg,data:ct})}for(const[ct,dt]of null!==(h=null===(c=n.verificationMethod)||void 0===c?void 0:c.entries())&&void 0!==h?h:[]){const At=`k${ct}`;Ke.push(At);let Pt=dt.id.split("#").pop();Be.set(Pt,At);const Ct=dt.publicKeyJwk;if(!Ct?.crv||!(Ct.crv in a9))throw new Ls(Os.InvalidPublicKeyType,`Verification method '${dt.id}' contains an unsupported key type: ${null!==(V=Ct?.crv)&&void 0!==V?V:"undefined"}`);const zt=mf[Ct.crv],Xt=yield al.keyConverter(Ct.crv).publicKeyToBytes({publicKey:Ct}),Cn=[`t=${zt}`,`k=${nr.U$.uint8Array(Xt).toBase64Url()}`];"0"!==Pt&&(yield Yo({jwk:Ct}))!==Pt&&Cn.unshift(`id=${Pt}`),Ct.alg!==c9[zt]&&Cn.push(`a=${Ct.alg}`),dt.controller!==n.id&&Cn.push(`c=${dt.controller}`),q.push({type:"TXT",name:`_${At}._did.`,ttl:qg,data:Cn.join(";")})}null===($=n.service)||void 0===$||$.forEach((ct,dt)=>{const At=`s${dt}`;Pe.push(At);let{id:Pt,type:Ct,serviceEndpoint:zt}=ct,Xt=r9(ct,["id","type","serviceEndpoint"]);Pt=Rp(Pt),zt=Array.isArray(zt)?zt.join(","):zt;const Cn=Object.entries(Object.assign({id:Pt,t:Ct,se:zt},Xt)).map(([ir,Pn])=>`${ir}=${Pn}`).join(";"),Nn=al.chunkDataIfNeeded(Cn);q.push({type:"TXT",name:`_${At}._did.`,ttl:qg,data:Nn})});const rt=["v=0"];if(Ke.length&&rt.push(`vm=${Ke.join(Su)}`),Object.keys(d6).forEach(ct=>{var dt;const At=null===(dt=n[ct])||void 0===dt?void 0:dt.map(Pt=>Be.get(Pt.split("#").pop()));At&&rt.push(`${s9[ct]}=${At.join(Su)}`)}),Pe.length&&rt.push(`svc=${Pe.join(Su)}`),null!==(I=i.types)&&void 0!==I&&I.length){const dt=i.types.map(At=>"string"==typeof At?o9[At]:At);q.push({type:"TXT",name:"_typ._did.",ttl:qg,data:`id=${dt.join(Su)}`})}q.push({type:"TXT",name:"_did."+iy.getUniqueDidSuffix(n.id)+".",ttl:qg,data:rt.join(";")});for(const ct of l||[])Ce.push({type:"NS",name:"_did."+iy.getUniqueDidSuffix(n.id)+".",ttl:qg,data:ct+"."});return{id:0,type:"response",flags:PE.hB,answers:[...q,...Ce]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class al{static createBep44PutMessage(t){return ad(this,arguments,void 0,function*({dnsPacket:n,publicKeyBytes:i,signer:l}){const p=Math.ceil(Date.now()/1e3),c=(0,PE.lF)(n),h=N3.A.encode({seq:p,v:c}).subarray(1,-1);if(h.length>1e3)throw new Ls(Os.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${h.length} bytes`);return{k:i,seq:p,sig:yield l.sign({data:h}),v:c}})}static identifierToIdentityKey(t){return ad(this,arguments,void 0,function*({didUri:n}){let i=al.identifierToIdentityKeyBytes({didUri:n});return yield la.bytesToPublicKey({publicKeyBytes:i})})}static identifierToIdentityKeyBytes({didUri:t}){const n=Ma.parse(t);if(!n)throw new Ls(Os.InvalidDid,`Invalid DID URI: ${t}`);if(n.method!==f6.methodName)throw new Ls(Os.MethodNotSupported,`Method not supported: ${n.method}`);let i;try{i=nr.U$.base32Z(n.id).toUint8Array()}catch{throw new Ls(Os.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==i.length)throw new Ls(Os.InvalidPublicKeyLength,`Invalid public key length: ${i.length}`);return i}static identityKeyToIdentifier(t){return ad(this,arguments,void 0,function*({identityKey:n}){const i=yield la.publicKeyToBytes({publicKey:n}),l=nr.U$.uint8Array(i).toBase32Z();return`did:${f6.methodName}:${l}`})}static keyConverter(t){const i={Ed25519:la,"P-256":{publicKeyToBytes:l=>ad(this,[l],void 0,function*({publicKey:p}){const c=yield ca.publicKeyToBytes({publicKey:p});return yield ca.compressPublicKey({publicKeyBytes:c})}),bytesToPublicKey:ca.bytesToPublicKey,privateKeyToBytes:ca.privateKeyToBytes,bytesToPrivateKey:ca.bytesToPrivateKey},secp256k1:{publicKeyToBytes:l=>ad(this,[l],void 0,function*({publicKey:p}){const c=yield aa.publicKeyToBytes({publicKey:p});return yield aa.compressPublicKey({publicKeyBytes:c})}),bytesToPublicKey:aa.bytesToPublicKey,privateKeyToBytes:aa.privateKeyToBytes,bytesToPrivateKey:aa.bytesToPrivateKey},X25519:FE}[t];if(!i)throw new Ls(Os.InvalidPublicKeyType,`Unsupported curve: ${t}`);return i}static parseBep44GetMessage(t){return ad(this,arguments,void 0,function*({bep44Message:n}){const i=yield la.bytesToPublicKey({publicKeyBytes:n.k}),l=N3.A.encode({seq:n.seq,v:n.v}).subarray(1,-1);if(!(yield la.verify({key:i,signature:n.sig,data:l})))throw new Ls(Os.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,PE.D4)(n.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((n,i)=>{const[l,p]=i.split("=");return n[l]=p,n},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return nr.U$.uint8Array(t).toString();if(Array.isArray(t))return t.map(n=>this.parseTxtDataToString(n)).join("");throw new Ls(Os.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return ad(this,arguments,void 0,function*({newDid:n,previousDidProof:i}){const l=yield al.identifierToIdentityKey({didUri:i.previousDid}),p=al.identifierToIdentityKeyBytes({didUri:n}),c=nr.U$.base64Url(i.signature).toUint8Array();if(!(yield la.verify({key:l,data:p,signature:c})))throw new Ls(Os.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const n=[];for(let i=0;i<t.length;i+=255)n.push(t.slice(i,i+255));return n}}var h6=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};let OU=(()=>{class r extends n9{static create(){return h6(this,arguments,void 0,function*({keyManager:n=new Rm,options:i={}}={}){var l,p,c,h;if(i.algorithm&&i.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(i.verificationMethods&&1!==i.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const V=null!==(h=null!==(l=i.algorithm)&&void 0!==l?l:null===(c=null===(p=i.verificationMethods)||void 0===p?void 0:p[0])||void 0===c?void 0:c.algorithm)&&void 0!==h?h:"Ed25519",$=yield n.generateKey({algorithm:V}),I=yield n.getPublicKey({keyUri:$}),q=nr.U$.object(I).toBase64Url(),Ce=`did:${r.methodName}:${q}`,Pe=(yield r.resolve(Ce)).didDocument;return new ry({uri:Ce,document:Pe,metadata:{},keyManager:n})})}static getSigningMethod(n){return h6(this,arguments,void 0,function*({didDocument:i}){var l;const p=Ma.parse(i.id);if(p&&p.method!==this.methodName)throw new Ls(Os.MethodNotSupported,`Method not supported: ${p.method}`);const[c]=null!==(l=i.verificationMethod)&&void 0!==l?l:[];if(!c||!c.publicKeyJwk)throw new Ls(Os.InternalError,"A verification method intended for signing could not be determined from the DID Document");return c})}static import(n){return h6(this,arguments,void 0,function*({portableDid:i,keyManager:l=new Rm}){const p=Ma.parse(i.uri);if(p?.method!==r.methodName)throw new Ls(Os.MethodNotSupported,"Method not supported");const c=yield ry.import({portableDid:i,keyManager:l});if(1!==c.document.verificationMethod.length)throw new Ls(Os.InvalidDidDocument,"DID document must contain exactly one verification method");return c})}static resolve(n,i){return h6(this,void 0,void 0,function*(){const l=Ma.parse(n);let p;try{p=nr.U$.base64Url(l.id).toObject()}catch{}if(!l||!p)return Object.assign(Object.assign({},Iw),{didResolutionMetadata:{error:"invalidDid"}});if(l.method!==r.methodName)return Object.assign(Object.assign({},Iw),{didResolutionMetadata:{error:"methodNotSupported"}});const c={"@context":["https://www.w3.org/ns/did/v1"],id:l.uri},h=`${c.id}#0`;switch(c.verificationMethod=[{id:h,type:"JsonWebKey",controller:c.id,publicKeyJwk:p}],c.authentication=[h],c.assertionMethod=[h],c.capabilityInvocation=[h],c.capabilityDelegation=[h],c.keyAgreement=[h],p.use){case"sig":delete c.keyAgreement;break;case"enc":delete c.authentication,delete c.assertionMethod,delete c.capabilityInvocation,delete c.capabilityDelegation}return Object.assign(Object.assign({},Iw),{didDocument:c})})}}return r.methodName="jwk",r})();var Rw=w(81447),PU=w(94787);class NU{constructor({db:t,location:n="DATA/DID_RESOLVERCACHE",ttl:i="15m"}={}){this.cache=t??new PU.Level(n),this.ttl=Rw(i)}get(t){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{const n=yield this.cache.get(t),i=JSON.parse(n);return Date.now()>=i.ttlMillis?void this.cache.nextTick(()=>this.cache.del(t)):i.value}catch(n){if(n.notFound)return;throw n}})}set(t,n){const i={ttlMillis:Date.now()+this.ttl,value:n},l=JSON.stringify(i);return this.cache.put(t,l)}delete(t){return this.cache.del(t)}clear(){return this.cache.clear()}close(){return this.cache.close()}}const LU={get:function(r){return null},set:function(r,t){return null},delete:function(r){return null},clear:function(){return null},close:function(){return null}};var l9=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class d9{constructor({cache:t,didResolvers:n}){this.didResolvers=new Map,this.cache=t||LU;for(const i of n)this.didResolvers.set(i.methodName,i)}resolve(t,n){return l9(this,void 0,void 0,function*(){const i=Ma.parse(t);if(!i)return Object.assign(Object.assign({},Iw),{didResolutionMetadata:{error:Os.InvalidDid,errorMessage:`Invalid DID URI: ${t}`}});const l=this.didResolvers.get(i.method);if(!l)return Object.assign(Object.assign({},Iw),{didResolutionMetadata:{error:Os.MethodNotSupported,errorMessage:`Method not supported: ${i.method}`}});const p=yield this.cache.get(i.uri);if(p)return p;{const c=yield l.resolve(i.uri,n);return c.didResolutionMetadata.error||(yield this.cache.set(i.uri,c)),c}})}dereference(t,n){return l9(this,void 0,void 0,function*(){const i=Ma.parse(t);if(!i)return{dereferencingMetadata:{error:Os.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:l,didResolutionMetadata:p,didDocumentMetadata:c}=yield this.resolve(i.uri);if(!l)return{dereferencingMetadata:{error:p.error},contentStream:null,contentMetadata:{}};if(!i.fragment||i.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:l,contentMetadata:c};const{service:h=[],verificationMethod:V=[]}=l,$=new Set([t,i.fragment,`#${i.fragment}`]);let I;for(let q of V)if($.has(q.id)){I=q;break}for(let q of h)if($.has(q.id)){I=q;break}return I?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:I,contentMetadata:p}:{dereferencingMetadata:{error:Os.NotFound},contentStream:null,contentMetadata:{}}})}}const u9={protocol:"http://identity.foundation/protocols/web5/identity-store",published:!1,types:{portableDid:{schema:"https://identity.foundation/schemas/web5/portable-did",dataFormats:["application/json"]},identityMetadata:{schema:"https://identity.foundation/schemas/web5/identity-metadata",dataFormats:["application/json"]}},structure:{portableDid:{},identityMetadata:{}}},UU={protocol:"http://identity.foundation/protocols/web5/jwk-store",published:!1,types:{privateJwk:{schema:"https://identity.foundation/schemas/web5/private-jwk",dataFormats:["application/json"]}},structure:{privateJwk:{}}};function f9(r){return!(!r||"object"!=typeof r||null===r)&&"uri"in r&&"document"in r&&"metadata"in r&&(!("keyManager"in r)||void 0===r.keyManager)}var $E=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};const eh="^";class jU extends Rm{constructor(){super(),this._predefinedKeys=new Map,this._keyGenerator=this._predefinedKeys.keys()}addPredefinedKeys({privateKeys:t}){var n;return $E(this,void 0,void 0,function*(){const i={};for(const l of t)null!==(n=l.kid)&&void 0!==n||(l.kid=yield Yo({jwk:l})),i[yield this.getKeyUri({key:l})]=l;this._predefinedKeys=new Map(Object.entries(i)),this._keyGenerator=this._predefinedKeys.keys()})}exportKey({keyUri:t}){return $E(this,void 0,void 0,function*(){const n=this._predefinedKeys.get(t);if(!n)throw new Error(`DeterministicKeyGenerator.exportKey: Key not found: ${t}`);return n})}generateKey(t){return $E(this,void 0,void 0,function*(){const{value:n,done:i}=this._keyGenerator.next();if(i)throw new Error("Ran out of predefined keys");return n})}getPublicKey({keyUri:t}){return $E(this,void 0,void 0,function*(){const n=this._predefinedKeys.get(t);if(!n)throw new Error(`DeterministicKeyGenerator.getPublicKey: Key not found: ${t}`);return function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(n,["d"])})}sign({keyUri:t,data:n}){return $E(this,void 0,void 0,function*(){const i=this._predefinedKeys.get(t);if(!i)throw new Error(`DeterministicKeyGenerator.sign: Key not found: ${t}`);return yield la.sign({data:n,key:i})})}}function oy({agent:r,tenant:t,didUri:n}){return $E(this,void 0,void 0,function*(){if(t)return t;if(r.agentDid)return r.agentDid.uri;if(!n)throw new Error("Failed to determine tenant DID: 'agent.agentDid', 'tenant', and 'didUri' are undefined");return n})}var th=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class AP{constructor(){this.name="DwnDataStore",this._cache=new nr.LC({ttl:Rw("15 minutes"),max:100}),this._index=new nr.LC({ttl:Rw("2 hours"),max:1e3}),this._protocolInitializedCache=new nr.LC({ttl:Rw("1 hour"),max:1e3}),this._recordProperties={dataFormat:"application/json"}}delete({id:t,agent:n,tenant:i}){return th(this,void 0,void 0,function*(){const l=yield oy({agent:n,tenant:i,didUri:t});let p=yield this.lookupRecordId({id:t,tenantDid:l,agent:n});if(!p)return!1;const{reply:{status:c}}=yield n.dwn.processRequest({author:l,target:l,messageType:ka.RecordsDelete,messageParams:{recordId:p}});if(202===c.code)return this._index.delete(`${l}${eh}${t}`),this._cache.delete(p),!0;throw new Error(`${this.name}: Failed to delete '${t}' from store: (${c.code}) ${c.detail}`)})}get({id:t,agent:n,tenant:i,useCache:l=!1}){return th(this,void 0,void 0,function*(){const p=yield oy({agent:n,tenant:i,didUri:t});let c=yield this.lookupRecordId({id:t,tenantDid:p,agent:n});if(c)return yield this.getRecord({recordId:c,tenantDid:p,agent:n,useCache:l})})}list({agent:t,tenant:n}){return th(this,void 0,void 0,function*(){const i=yield oy({tenant:n,agent:t});return yield this.getAllRecords({agent:t,tenantDid:i})})}set({id:t,data:n,tenant:i,agent:l,preventDuplicates:p=!0,useCache:c=!1}){return th(this,void 0,void 0,function*(){const h=yield oy({agent:l,tenant:i,didUri:t});if(yield this.initialize({tenant:h,agent:l}),p&&(yield this.lookupRecordId({id:t,tenantDid:h,agent:l})))throw new Error(`${this.name}: Import failed due to duplicate entry for: ${t}`);const V=nr.U$.object(n).toUint8Array(),{message:$,reply:{status:I}}=yield l.dwn.processRequest({author:h,target:h,messageType:ka.RecordsWrite,messageParams:Object.assign({},this._recordProperties),dataStream:new Blob([V],{type:"application/json"})});if(!$||202!==I.code)throw new Error(`${this.name}: Failed to write data to store for: ${t}`);this._index.set(`${h}${eh}${t}`,$.recordId),c&&this._cache.set($.recordId,n)})}initialize({tenant:t,agent:n}){return th(this,void 0,void 0,function*(){const i=yield oy({agent:n,tenant:t});if(this._protocolInitializedCache.has(i))return;const{reply:{status:l,entries:p}}=yield n.dwn.processRequest({author:i,target:i,messageType:ka.ProtocolsQuery,messageParams:{filter:{protocol:this._recordProtocolDefinition.protocol}}});if(200!==l.code)throw new Error(`Failed to query for protocols: ${l.code} - ${l.detail}`);0===p?.length&&(yield this.installProtocol(i,n)),this._protocolInitializedCache.set(i,!0)})}getAllRecords(t){return th(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DwnDataStore must implement getAllRecords()")})}getRecord({recordId:t,tenantDid:n,agent:i,useCache:l}){var p;return th(this,void 0,void 0,function*(){if(l){const V=this._cache.get(t);if(V)return V}const{reply:c}=yield i.dwn.processRequest({author:n,target:n,messageType:ka.RecordsRead,messageParams:{filter:{recordId:t}}});if(null===(p=c.record)||void 0===p||!p.data)throw new Error(`${this.name}: Failed to read data from DWN for: ${t}`);const h=yield nr.VS.consumeToJson({readable:c.record.data});return l&&this._cache.set(t,h),h})}installProtocol(t,n){return th(this,void 0,void 0,function*(){const{reply:{status:i}}=yield n.dwn.processRequest({author:t,target:t,messageType:ka.ProtocolsConfigure,messageParams:{definition:this._recordProtocolDefinition}});if(202!==i.code)throw new Error(`Failed to install protocol: ${i.code} - ${i.detail}`)})}lookupRecordId({id:t,tenantDid:n,agent:i}){return th(this,void 0,void 0,function*(){let l=this._index.get(`${n}${eh}${t}`,{updateAgeOnGet:!0});return l||(yield this.getAllRecords({agent:i,tenantDid:n}),l=this._index.get(`${n}${eh}${t}`)),l})}}class TP{constructor(){this.name="InMemoryDataStore",this.store=new Map}delete({id:t,agent:n,tenant:i}){return th(this,void 0,void 0,function*(){const l=yield oy({agent:n,tenant:i,didUri:t});return!!this.store.has(`${l}${eh}${t}`)&&(this.store.delete(`${l}${eh}${t}`),!0)})}get({id:t,agent:n,tenant:i}){return th(this,void 0,void 0,function*(){const l=yield oy({agent:n,tenant:i,didUri:t});return this.store.get(`${l}${eh}${t}`)})}list({agent:t,tenant:n}){return th(this,void 0,void 0,function*(){const i=yield oy({tenant:n,agent:t}),l=[];for(const[p,c]of this.store.entries())p.startsWith(`${i}${eh}`)&&l.push(c);return l})}set({id:t,data:n,tenant:i,agent:l,preventDuplicates:p}){return th(this,void 0,void 0,function*(){const c=yield oy({agent:l,tenant:i,didUri:t});if(p&&this.store.has(`${c}${eh}${t}`))throw new Error(`${this.name}: Import failed due to duplicate entry for: ${t}`);const h=structuredClone(n);this.store.set(`${c}${eh}${t}`,h)})}}var sy=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class $U extends AP{constructor(){super(...arguments),this.name="DwnDidStore",this._recordProtocolDefinition=u9,this._recordProperties={dataFormat:"application/json",protocol:this._recordProtocolDefinition.protocol,protocolPath:"portableDid",schema:this._recordProtocolDefinition.types.portableDid.schema}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return sy(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return sy(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return sy(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return sy(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var i;return sy(this,void 0,void 0,function*(){this._index.clear();const{reply:l}=yield t.dwn.processRequest({author:n,target:n,messageType:ka.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let p=[];for(const c of null!==(i=l.entries)&&void 0!==i?i:[]){if(!c.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const h=nr.U$.base64Url(c.encodedData).toObject();f9(h)&&(this._index.set(`${n}${eh}${h.uri}`,c.recordId),this._cache.set(c.recordId,h),p.push(h))}return p})}}class KU extends TP{constructor(){super(...arguments),this.name="InMemoryDidStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return sy(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return sy(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return sy(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return sy(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var EA=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class VU{constructor({ttl:t="15m"}={}){this.cache=new nr.LC({ttl:Rw(t)})}get(t){return EA(this,void 0,void 0,function*(){if(!t)throw new Error("Key cannot be null or undefined");return this.cache.get(t)})}set(t,n){return EA(this,void 0,void 0,function*(){this.cache.set(t,n)})}delete(t){return EA(this,void 0,void 0,function*(){this.cache.delete(t)})}clear(){return EA(this,void 0,void 0,function*(){this.cache.clear()})}close(){return EA(this,void 0,void 0,function*(){})}}var ev=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},p6=function(r){return r.Create="Create",r.Resolve="Resolve",r}(p6||{});function h9(r,t){return r.messageType===t}class zU extends d9{constructor({agent:t,didMethods:n,resolverCache:i,store:l}){if(!n)throw new TypeError("AgentDidApi: Required parameter missing: 'didMethods'");super({didResolvers:n,cache:i??new VU}),this._didMethods=new Map,this._agent=t,this._store=l??new KU;for(const p of n)this._didMethods.set(p.methodName,p)}get agent(){if(void 0===this._agent)throw new Error("AgentDidApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}create({method:t,tenant:n,options:i,store:l}){return ev(this,void 0,void 0,function*(){const c=yield this.getMethod(t).create({keyManager:this.agent.keyManager,options:i});if(l??1){const{uri:h,document:V,metadata:$}=c,I={uri:h,document:V,metadata:$};yield this._store.set({id:I.uri,data:I,agent:this.agent,tenant:n??I.uri,preventDuplicates:!1,useCache:!0})}return c})}export({didUri:t,tenant:n}){return ev(this,void 0,void 0,function*(){const i=yield this.get({didUri:t,tenant:n});if(!i)throw new Error(`AgentDidApi: Failed to export due to DID not found: ${t}`);return yield i.export()})}get({didUri:t,tenant:n}){return ev(this,void 0,void 0,function*(){const i=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0});return i?yield ry.import({portableDid:i,keyManager:this.agent.keyManager}):void 0})}getSigningMethod({didUri:t,methodId:n}){return ev(this,void 0,void 0,function*(){const i=Ma.parse(t);if(!i)throw new Error(`Invalid DID URI: ${t}`);const l=this.getMethod(i.method),{didDocument:p,didResolutionMetadata:c}=yield this.resolve(t);if(!p)throw new Error(`DID resolution failed for '${t}': ${JSON.stringify(c)}`);return yield l.getSigningMethod({didDocument:p,methodId:n})})}import({portableDid:t,tenant:n}){return ev(this,void 0,void 0,function*(){const i=yield ry.import({keyManager:this.agent.keyManager,portableDid:t}),{uri:l,document:p,metadata:c}=i,h={uri:l,document:p,metadata:c};return yield this._store.set({id:h.uri,data:h,agent:this.agent,tenant:n??h.uri,preventDuplicates:!0,useCache:!0}),i})}delete({didUri:t,tenant:n,deleteKey:i=!0}){return ev(this,void 0,void 0,function*(){const l=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!1});if(!l)throw new Error("AgentDidApi: Could not delete, DID not found");yield this._store.delete({id:t,agent:this.agent,tenant:n}),i&&(yield this.deleteKeys({portableDid:l}))})}deleteKeys({portableDid:t}){return ev(this,void 0,void 0,function*(){for(const n of t.document.verificationMethod||[]){if(!n.publicKeyJwk)continue;const i=yield this.agent.keyManager.getKeyUri({key:n.publicKeyJwk});yield this.agent.keyManager.deleteKey({keyUri:i})}})}processRequest(t){var n;return ev(this,void 0,void 0,function*(){if(h9(t,p6.Create))try{const i=yield this.create(Object.assign({},t.messageParams));return{result:{uri:i.uri,document:i.document,metadata:i.metadata},ok:!0,status:{code:201,message:"Created"}}}catch(i){return{ok:!1,status:{code:500,message:null!==(n=i.message)&&void 0!==n?n:"Unknown error occurred"}}}if(h9(t,p6.Resolve)){const{didUri:i,options:l}=t.messageParams;return{result:yield this.resolve(i,l),ok:!0,status:{code:200,message:"OK"}}}throw new Error(`AgentDidApi: Unsupported request type: ${t.messageType}`)})}getMethod(t){const n=this._didMethods.get(t);if(void 0===n)throw new Error(`DID Method not supported: ${t}`);return n}}var HU=w(85493),p9=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};function m9(r){return DP(r.stream())}function y9(r,t){return p9(this,void 0,void 0,function*(){const n=yield t.dereference(`${r}#dwn`);if(n.dereferencingMetadata.error)throw new Error(`Failed to dereference '${r}#dwn': ${n.dereferencingMetadata.error}`);if(function kU(r){if(!function CU(r){return!(!r||"object"!=typeof r||null===r)&&"id"in r&&"type"in r&&"serviceEndpoint"in r}(r)||"DecentralizedWebNode"!==r.type||!("enc"in r)||!("sig"in r))return!1;const t=n=>"string"==typeof n||Array.isArray(n)&&n.every(i=>"string"==typeof i);return t(r.enc)&&t(r.sig)}(n.contentStream)){const{serviceEndpoint:i}=n.contentStream,l="string"==typeof i?[i]:Array.isArray(i)&&i.every(p=>"string"==typeof p)?i:[];if(l.length>0)return l}return[]})}function WU(r){return vo.getAuthor(r)}function m6(r){return!(!r||"object"!=typeof r||null===r)&&"message"in r&&"object"==typeof r.message&&null!==r.message&&"descriptor"in r.message&&"object"==typeof r.message.descriptor&&null!==r.message.descriptor&&"interface"in r.message.descriptor&&r.message.descriptor.interface===$i.Records&&"method"in r.message.descriptor&&r.message.descriptor.method===vi.Write}function GU(r){return Hr.getCid(r)}function XU(r,t){return p9(this,void 0,void 0,function*(){const n=t===Gl.CreatedAscending||t===Gl.CreatedDescending?r.descriptor.dateCreated:r.descriptor.datePublished;if(void 0===n)throw new Error("The dateCreated or datePublished property is missing from the record descriptor.");return{messageCid:yield GU(r),value:n}})}function DP(r){return new HU.s(r)}function IP(r,t){return r.endsWith("/")&&(r=r.slice(0,-1)),t.startsWith("/")&&(t=t.slice(1)),`${r}/${t}`}var ay=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};function YU(r,t){return t.descriptor.interface+t.descriptor.method===r}class JU{constructor({agent:t,dwn:n}){this._agent=t,this._dwn=n}get agent(){if(void 0===this._agent)throw new Error("AgentDwnApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}get node(){return this._dwn}static createDwn({dataPath:t,dataStore:n,didResolver:i,eventLog:l,eventStream:p,messageStore:c,tenantGate:h,resumableTaskStore:V}){return ay(this,void 0,void 0,function*(){return n??(n=new LL({blockstoreLocation:`${t}/DWN_DATASTORE`})),i??(i=new d9({didResolvers:[f6,OU],cache:new NU({location:`${t}/DID_RESOLVERCACHE`})})),l??(l=new HL({location:`${t}/DWN_EVENTLOG`})),c??(c=new fP({blockstoreLocation:`${t}/DWN_MESSAGESTORE`,indexLocation:`${t}/DWN_MESSAGEINDEX`})),V??(V=new QL({location:`${t}/DWN_RESUMABLETASKSTORE`})),yield FO.create({dataStore:n,didResolver:i,eventLog:l,eventStream:p,messageStore:c,tenantGate:h,resumableTaskStore:V})})}processRequest(t){return ay(this,void 0,void 0,function*(){const{message:n,dataStream:i}=yield this.constructDwnMessage({request:t}),{subscriptionHandler:l}=t;return{reply:!1!==t.store?yield this._dwn.processMessage(t.target,n,{dataStream:i,subscriptionHandler:l}):{status:{code:202,detail:"Accepted"}},message:n,messageCid:yield Hr.getCid(n)}})}sendRequest(t){return ay(this,void 0,void 0,function*(){const n=yield y9(t.target,this.agent.did);if(0===n.length)throw new Error(`AgentDwnApi: DID Service is missing or malformed: ${t.target}#dwn`);let i,l,p,c;if("messageCid"in t)({message:l,data:p}=yield this.getDwnMessage({author:t.author,messageCid:t.messageCid,messageType:t.messageType})),i=t.messageCid;else{if(({message:l}=yield this.constructDwnMessage({request:t})),t.dataStream&&!(t.dataStream instanceof Blob))throw new Error("AgentDwnApi: DataStream must be provided as a Blob");p=t.dataStream,c=t.subscriptionHandler}const h=yield this.sendDwnRpcRequest({targetDid:t.target,dwnEndpointUrls:n,message:l,data:p,subscriptionHandler:c});return i??(i=yield Hr.getCid(l)),{reply:h,message:l,messageCid:i}})}sendDwnRpcRequest({targetDid:t,dwnEndpointUrls:n,message:i,data:l,subscriptionHandler:p}){return ay(this,void 0,void 0,function*(){const c=[];if(i.descriptor.method===vi.Subscribe&&void 0===p)throw new Error("AgentDwnApi: Subscription handler is required for subscription requests.");for(let h of n)try{if(void 0!==p){if(!(yield this.agent.rpc.getServerInfo(h)).webSocketSupport){c.push({url:h,message:"WebSocket support is not enabled on the server."});continue}const I=new URL(h);I.protocol="http:"===I.protocol?"ws:":"wss:",h=I.toString()}return yield this.agent.rpc.sendDwnRequest({dwnUrl:h,targetDid:t,message:i,data:l,subscriptionHandler:p})}catch(V){c.push({url:h,message:V instanceof Error?V.message:"Unknown error"})}throw new Error(`Failed to send DWN RPC request: ${JSON.stringify(c)}`)})}constructDwnMessage({request:t}){var n;return ay(this,void 0,void 0,function*(){const i=t.rawMessage;let l;if(function ZU(r,t){return r.messageType===t}(t,ka.RecordsWrite)){const V=t.messageParams;if(t.dataStream&&!V?.data){const{dataStream:$}=t;let I;if($ instanceof Blob)I=m9($),l=m9($);else if($ instanceof ReadableStream){const[q,Ce]=$.tee();I=DP(q),l=DP(Ce)}i||(V.dataCid=yield Qc.computeDagPbCidFromStream(I),null!==(n=V.dataSize)&&void 0!==n||(V.dataSize=I.bytesRead))}}const p=yield this.getSigner(t.author),c=zN[t.messageType],h=i?yield c.parse(i):yield c.create(Object.assign(Object.assign({},t.messageParams),{signer:p}));return m6(h)&&t.signAsOwner&&(yield h.signAsOwner(p)),{message:h.message,dataStream:l}})}getSigner(t){return ay(this,void 0,void 0,function*(){if(t===this.agent.agentDid.uri){const n=yield this.agent.agentDid.getSigner();return{algorithm:n.algorithm,keyId:n.keyId,sign:i=>ay(this,void 0,void 0,function*(){return yield n.sign({data:i})})}}try{const n=yield this.agent.did.getSigningMethod({didUri:t});if(!n.publicKeyJwk)throw new Error(`Verification method '${n.id}' does not contain a public key in JWK format`);const i=yield this.agent.keyManager.getKeyUri({key:n.publicKeyJwk}),l=yield this.agent.keyManager.getPublicKey({keyUri:i}),p=this.agent.keyManager;return{algorithm:GN(l),keyId:n.id,sign:c=>ay(this,void 0,void 0,function*(){return yield p.sign({data:c,keyUri:i})})}}catch(n){throw new Error(`AgentDwnApi: Unable to get signer for author '${t}': ${n.message}`)}})}getDwnMessage({author:t,messageCid:n}){return ay(this,void 0,void 0,function*(){const i=yield this.getSigner(t),l=yield zN[ka.MessagesRead].create({messageCid:n,signer:i}),p=yield this._dwn.processMessage(t,l.message);if(200!==p.status.code)throw new Error(`AgentDwnApi: Failed to read message, response status: ${p.status.code} - ${p.status.detail}`);const c=p.entry;let V={message:c.message};if(m6(c)&&c.data){const $=yield nr.VS.consumeToBytes({readable:c.data});V.data=new Blob([$],{type:c.message.descriptor.dataFormat})}return V})}}var y6=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class xA{static registerTenant(t,n){return y6(this,void 0,void 0,function*(){const i=IP(t,"registration"),l=IP(i,"terms-of-service"),p=IP(i,"proof-of-work"),c=yield fetch(l,{method:"GET"});if(200!==c.status){const Ke=c.status,rt=c.statusText,ht=yield c.text();throw new Error(`Failed fetching terms-of-service: ${Ke} ${rt}: ${ht}`)}const h=yield c.text(),V=yield fetch(p,{method:"GET"}),{challengeNonce:$,maximumAllowedHashValue:I}=yield V.json(),q={did:n,termsOfServiceHash:yield xA.hashAsHexString(h)},Ce=yield xA.findQualifiedResponseNonce({challengeNonce:$,maximumAllowedHashValue:I,requestData:JSON.stringify(q)}),Pe=yield fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({registrationData:q,proofOfWork:{challengeNonce:$,responseNonce:Ce}})});if(200!==Pe.status){const Ke=Pe.status,rt=Pe.statusText,ht=yield Pe.text();throw new Error(`Registration failed: ${Ke} ${rt}: ${ht}`)}})}static hashAsHexString(t){return y6(this,void 0,void 0,function*(){const n=yield pP.digest({data:nr.U$.string(t).toUint8Array()});return nr.U$.uint8Array(n).toHex()})}static findQualifiedResponseNonce(t){return y6(this,void 0,void 0,function*(){const n=Date.now(),{maximumAllowedHashValue:i,challengeNonce:l,requestData:p}=t,c=BigInt(`0x${i}`);let V,h=1,$=!1;do{V=yield this.generateNonce();const I=yield xA.hashAsHexString(l+V+p);$=BigInt(`0x${I}`)<=c,h++}while(!$);return console.log(`iterations: ${h}, time lapsed: ${Date.now()-n} ms`),V})}static generateNonce(){return y6(this,void 0,void 0,function*(){const t=XN(32);return yield nr.U$.uint8Array(t).toHex().toUpperCase()})}}var CP=w(75781),qU=w(36405);const QU=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),g9=Uint8Array.from({length:16},(r,t)=>t);let kP=[g9],RP=[g9.map(r=>(9*r+5)%16)];for(let r=0;r<4;r++)for(let t of[kP,RP])t.push(t[r].map(n=>QU[n]));const v9=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>new Uint8Array(r)),tF=kP.map((r,t)=>r.map(n=>v9[t][n])),nF=RP.map((r,t)=>r.map(n=>v9[t][n])),rF=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),iF=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),g6=(r,t)=>r<<t|r>>>32-t;function b9(r,t,n,i){return 0===r?t^n^i:1===r?t&n|~t&i:2===r?(t|~n)^i:3===r?t&i|n&~i:t^(n|~i)}const v6=new Uint32Array(16);class oF extends qU.D{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:i,h3:l,h4:p}=this;return[t,n,i,l,p]}set(t,n,i,l,p){this.h0=0|t,this.h1=0|n,this.h2=0|i,this.h3=0|l,this.h4=0|p}process(t,n){for(let Be=0;Be<16;Be++,n+=4)v6[Be]=t.getUint32(n,!0);let i=0|this.h0,l=i,p=0|this.h1,c=p,h=0|this.h2,V=h,$=0|this.h3,I=$,q=0|this.h4,Ce=q;for(let Be=0;Be<5;Be++){const Pe=4-Be,Ke=rF[Be],rt=iF[Be],ht=kP[Be],ct=RP[Be],dt=tF[Be],At=nF[Be];for(let Pt=0;Pt<16;Pt++){const Ct=g6(i+b9(Be,p,h,$)+v6[ht[Pt]]+Ke,dt[Pt])+q|0;i=q,q=$,$=0|g6(h,10),h=p,p=Ct}for(let Pt=0;Pt<16;Pt++){const Ct=g6(l+b9(Pe,c,V,I)+v6[ct[Pt]]+rt,At[Pt])+Ce|0;l=Ce,Ce=I,I=0|g6(V,10),V=c,c=Ct}}this.set(this.h1+h+I|0,this.h2+$+Ce|0,this.h3+q+l|0,this.h4+i+c|0,this.h0+p+V|0)}roundClean(){v6.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const sF=(0,Jd.ld)(()=>new oF);var OP=w(25431),cy=w(37099);const aF=(0,Jd.AI)("ed25519 seed"),PP=2147483648,w9=new Uint8Array([0]);function _9(r,...t){return"string"==typeof r&&(r=(0,Jd.aT)(r)),(0,cy.ee)(r,...t),r}const BP=r=>{if(!Number.isSafeInteger(r)||r<0||r>2**32-1)throw new Error(`Invalid number=${r}. Should be from 0 to 2 ** 32 - 1`);const t=new Uint8Array(4);return(0,Jd.O8)(t).setUint32(0,r,!1),t};class b6{get publicKeyRaw(){return Yd.ev.getPublicKey(this.privateKey)}get publicKey(){return(0,Jd.Id)(w9,this.publicKeyRaw)}get pubHash(){return sF((0,Aw.s)(this.publicKey))}get fingerprint(){return(0,Jd.O8)(this.pubHash).getUint32(0,!1)}get fingerprintHex(){return(0,Jd.My)(BP(this.fingerprint))}get parentFingerprintHex(){return(0,Jd.My)(BP(this.parentFingerprint))}static fromMasterSeed(t){if(8*(t=_9(t)).length<128||8*t.length>512)throw new Error(`HDKey: wrong seed length=${t.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const n=(0,CP.w)(OP.Zf,aF,t);return new b6({privateKey:n.slice(0,32),chainCode:n.slice(32)})}constructor(t){if(this.depth=0,this.index=0,this.parentFingerprint=0,!t||"object"!=typeof t)throw new Error("HDKey.constructor must not be called directly");if((0,cy.ee)(t.privateKey,32),(0,cy.ee)(t.chainCode,32),this.depth=t.depth||0,this.index=t.index||0,this.parentFingerprint=t.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");this.chainCode=t.chainCode,this.privateKey=t.privateKey}derive(t,n=!1){if(!/^[mM]'?/.test(t))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(t))return this;const i=t.replace(/^[mM]'?\//,"").split("/");let l=this;for(const p of i){const c=/^(\d+)('?)$/.exec(p);if(!c||3!==c.length)throw new Error(`Invalid child index: ${p}`);let h=+c[1];if(!Number.isSafeInteger(h)||h>=PP)throw new Error("Invalid index");(n||"'"===c[2])&&(h+=PP),l=l.deriveChild(h)}return l}deriveChild(t){if(t<PP)throw new Error(`Non-hardened child derivation not possible for Ed25519 (index=${t})`);const n=(0,Jd.Id)(w9,this.privateKey,BP(t)),i=(0,CP.w)(OP.Zf,this.chainCode,n);return new b6({chainCode:i.slice(32),depth:this.depth+1,parentFingerprint:this.fingerprint,index:t,privateKey:i.slice(0,32)})}sign(t){return Yd.ev.sign(t,this.privateKey)}verify(t,n){return n=_9(n,64),Yd.ev.verify(n,t,this.publicKeyRaw)}}const E9="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n");function NP(){return(NP=(0,ye.A)(function*(r,t,n,i){const{c:l,dkLen:p,asyncTick:c,DK:h,PRF:V,PRFSalt:$}=function x9(r,t,n,i){(0,cy.tW)(r);const l=(0,Jd.tY)({dkLen:32,asyncTick:10},i),{c:p,dkLen:c,asyncTick:h}=l;if((0,cy.ai)(p),(0,cy.ai)(c),(0,cy.ai)(h),p<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const V=(0,Jd.ZJ)(t),$=(0,Jd.ZJ)(n),I=new Uint8Array(c),q=CP.w.create(r,V),Ce=q._cloneInto().update($);return{c:p,dkLen:c,asyncTick:h,DK:I,PRF:q,PRFSalt:Ce}}(r,t,n,i);let I;const q=new Uint8Array(4),Ce=(0,Jd.O8)(q),Be=new Uint8Array(V.outputLen);for(let Pe=1,Ke=0;Ke<p;Pe++,Ke+=V.outputLen){const rt=h.subarray(Ke,Ke+V.outputLen);Ce.setInt32(0,Pe,!1),(I=$._cloneInto(I)).update(q).digestInto(Be),rt.set(Be.subarray(0,rt.length)),yield(0,Jd.$h)(l-1,c,()=>{V._cloneInto(I).update(Be).digestInto(Be);for(let ht=0;ht<rt.length;ht++)rt[ht]^=Be[ht]})}return function S9(r,t,n,i,l){return r.destroy(),t.destroy(),i&&i.destroy(),l.fill(0),n}(V,$,h,I,Be)})).apply(this,arguments)}var w6=w(53813);function M9(r){if("string"!=typeof r)throw new TypeError("Invalid mnemonic type: "+typeof r);return r.normalize("NFKD")}function LP(r){const t=M9(r),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}function A9(r){(0,cy.ee)(r,16,20,24,28,32)}const hF=r=>{const t=8-r.length/4;return new Uint8Array([(0,Aw.s)(r)[0]>>t<<t])};function T9(r){if(!Array.isArray(r)||2048!==r.length||"string"!=typeof r[0])throw new Error("Wordlist: expected array of 2048 strings");return r.forEach(t=>{if("string"!=typeof t)throw new Error(`Wordlist: non-string element: ${t}`)}),w6.Wp.chain(w6.Wp.checksum(1,hF),w6.Wp.radix2(11,!0),w6.Wp.alphabet(r))}function gF(r,t=""){return function dF(r,t,n,i){return NP.apply(this,arguments)}(OP.Zf,LP(r).nfkd,(r=>M9(`mnemonic${r}`))(t),{c:2048,dkLen:64})}var ly=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class vF extends AP{constructor(){super(...arguments),this.name="DwnKeyStore",this._recordProtocolDefinition=UU,this._recordProperties={dataFormat:"application/json",protocol:this._recordProtocolDefinition.protocol,protocolPath:"privateJwk",schema:this._recordProtocolDefinition.types.privateJwk.schema}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return ly(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return ly(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return ly(this,void 0,void 0,function*(){yield n.set.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return ly(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var i;return ly(this,void 0,void 0,function*(){this._index.clear();const{reply:l}=yield t.dwn.processRequest({author:n,target:n,messageType:ka.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let p=[];for(const c of null!==(i=l.entries)&&void 0!==i?i:[]){if(!c.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const h=nr.U$.base64Url(c.encodedData).toObject();yP(h)&&(this._index.set(`${n}${eh}${n6}${h.kid}`,c.recordId),this._cache.set(c.recordId,h),p.push(h))}return p})}}class bF extends TP{constructor(){super(...arguments),this.name="InMemoryKeyStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return ly(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return ly(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return ly(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return ly(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var nh=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})},I9=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n};const UP={"AES-GCM":{implementation:class uU extends Im{decrypt(t){return bP(this,void 0,void 0,function*(){return Yg.decrypt(t)})}encrypt(t){return bP(this,void 0,void 0,function*(){return Yg.encrypt(t)})}generateKey({algorithm:t}){return bP(this,void 0,void 0,function*(){const n={A128GCM:128,A192GCM:192,A256GCM:256}[t],i=yield Yg.generateKey({length:n});return i.alg=t,i})}},names:["A128GCM","A192GCM","A256GCM"]},"AES-KW":{implementation:e9,names:["A128KW","A192KW","A256KW"]},Ed25519:{implementation:WN,names:["Ed25519"]},secp256k1:{implementation:o6,names:["ES256K","secp256k1"]},secp256r1:{implementation:o6,names:["ES256","secp256r1"]},"SHA-256":{implementation:mP,names:["SHA-256"]}};class Ow{constructor({agent:t,keyStore:n}={}){this._algorithmInstances=new Map,this._agent=t,this._keyStore=n??new bF}get agent(){if(void 0===this._agent)throw new Error("LocalKeyManager: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}decrypt(t){var{keyUri:n}=t,i=I9(t,["keyUri"]);return nh(this,void 0,void 0,function*(){const l=yield this.getPrivateKey({keyUri:n}),p=this.getAlgorithmName({key:l});return yield this.getAlgorithm({algorithm:p}).decrypt(Object.assign({key:l},i))})}digest(t){throw new Error("Method not implemented.")}encrypt(t){var{keyUri:n}=t,i=I9(t,["keyUri"]);return nh(this,void 0,void 0,function*(){const l=yield this.getPrivateKey({keyUri:n}),p=this.getAlgorithmName({key:l});return yield this.getAlgorithm({algorithm:p}).encrypt(Object.assign({key:l},i))})}exportKey({keyUri:t}){return nh(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){var n;return nh(this,void 0,void 0,function*(){const i=this.getAlgorithmName({key:{alg:t}}),p=yield this.getAlgorithm({algorithm:i}).generateKey({algorithm:t});null!==(n=p.kid)&&void 0!==n||(p.kid=yield Yo({jwk:p}));const c=yield this.getKeyUri({key:p});return yield this._keyStore.set({id:c,data:p,agent:this.agent,preventDuplicates:!1,useCache:!0}),c})}getKeyUri({key:t}){return nh(this,void 0,void 0,function*(){const n=yield Yo({jwk:t});return`${n6}${n}`})}getPublicKey({keyUri:t}){return nh(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return nh(this,void 0,void 0,function*(){if(!yP(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield Yo({jwk:i}));const l=yield this.getKeyUri({key:i});return yield this._keyStore.set({id:l,data:i,agent:this.agent,preventDuplicates:!0,useCache:!0}),l})}sign({keyUri:t,data:n}){return nh(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),l=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:l}).sign({data:n,key:i})})}unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKeyUri:i}){return nh(this,void 0,void 0,function*(){const l=yield this.getPrivateKey({keyUri:i}),p=this.getAlgorithmName({key:l});return yield this.getAlgorithm({algorithm:p}).unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKey:l})})}verify({key:t,signature:n,data:i}){return nh(this,void 0,void 0,function*(){const l=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:l}).verify({key:t,signature:n,data:i})})}wrapKey({unwrappedKey:t,encryptionKeyUri:n}){return nh(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:n}),l=this.getAlgorithmName({key:i});return yield this.getAlgorithm({algorithm:l}).wrapKey({unwrappedKey:t,encryptionKey:i})})}deleteKey({keyUri:t}){return nh(this,void 0,void 0,function*(){if(!(yield this._keyStore.get({id:t,agent:this.agent,useCache:!0})))throw new Error(`Key not found: ${t}`);yield this._keyStore.delete({id:t,agent:this.agent})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=UP[t])||void 0===n?void 0:n.implementation;if(!i)throw new Gi(Xi.AlgorithmNotSupported,`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const l of Object.keys(UP)){const p=UP[l].names;if(n&&p.includes(n))return l;if(i&&p.includes(i))return l}throw new Gi(Xi.AlgorithmNotSupported,`Algorithm not supported based on provided input: alg=${n}, crv=${i}. Please check the documentation for the list of supported algorithms.`)}getPrivateKey({keyUri:t}){return nh(this,void 0,void 0,function*(){const n=yield this._keyStore.get({id:t,agent:this.agent,useCache:!0});if(!n)throw new Error(`Key not found: ${t}`);return n})}}var C9=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};function FP(r){return"object"==typeof r&&null!==r&&"alg"in r&&void 0!==r.alg&&"enc"in r&&void 0!==r.enc}class k9{static decrypt({key:t,encryptedKey:n,joseHeader:i,crypto:l}){return C9(this,void 0,void 0,function*(){switch(i.alg){case"dir":if(void 0!==n)throw new Gi(Xi.InvalidJwe,'JWE "encrypted_key" is not allowed when using "dir" (Direct Encryption Mode).');if(t instanceof Uint8Array)throw new Gi(Xi.InvalidJwe,'Key management "key" must be a Key URI or JWK when using "dir" (Direct Encryption Mode).');return t;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if("number"!=typeof i.p2c)throw new Gi(Xi.InvalidJwe,'JOSE Header "p2c" (PBES2 Count) is missing or not a number.');if("string"!=typeof i.p2s)throw new Gi(Xi.InvalidJwe,'JOSE Header "p2s" (PBES2 salt) is missing or not a string.');if(!(t instanceof Uint8Array))throw new Gi(Xi.InvalidJwe,'Key management "key" must be a Uint8Array when using "PBES2" (Key Encryption Mode).');if(void 0===n)throw new Gi(Xi.InvalidJwe,'JWE "encrypted_key" is required when using "PBES2" (Key Encryption Mode).');let p;try{p=new Uint8Array([...nr.U$.string(i.alg).toUint8Array(),0,...nr.U$.base64Url(i.p2s).toUint8Array()])}catch{throw new Gi(Xi.EncodingError,'Failed to decode the JOSE Header "p2s" (PBES2 salt) value.')}const c=yield l.deriveKey({algorithm:i.alg,baseKeyBytes:t,iterations:i.p2c,salt:p});if(!c.alg||!["A128KW","A192KW","A256KW"].includes(c.alg))throw new Gi(Xi.AlgorithmNotSupported,`Unsupported Key Encryption Algorithm (alg) value: ${c.alg}`);return yield l.unwrapKey({decryptionKey:c,wrappedKeyBytes:n,wrappedKeyAlgorithm:i.enc})}default:throw new Gi(Xi.AlgorithmNotSupported,`Unsupported "alg" (Algorithm) Header Parameter value: ${i.alg}`)}})}static encrypt({key:t,joseHeader:n,crypto:i}){return C9(this,void 0,void 0,function*(){let l,p;switch(n.alg){case"dir":if(void 0!==p)throw new Gi(Xi.InvalidJwe,'JWE "encrypted_key" is not allowed when using "dir" (Direct Encryption Mode).');if(t instanceof Uint8Array)throw new Gi(Xi.InvalidJwe,'Key management "key" must be a Key URI or JWK when using "dir" (Direct Encryption Mode).');l=t;break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if("number"!=typeof n.p2c)throw new Gi(Xi.InvalidJwe,'JOSE Header "p2c" (PBES2 Count) is missing or not a number.');if("string"!=typeof n.p2s)throw new Gi(Xi.InvalidJwe,'JOSE Header "p2s" (PBES2 salt) is missing or not a string.');if(!(t instanceof Uint8Array))throw new Gi(Xi.InvalidJwe,'Key management "key" must be a Uint8Array when using "PBES2" (Key Encryption Mode).');let c;l=yield i.generateKey({algorithm:n.enc});try{c=new Uint8Array([...nr.U$.string(n.alg).toUint8Array(),0,...nr.U$.base64Url(n.p2s).toUint8Array()])}catch{throw new Gi(Xi.EncodingError,'Failed to decode the JOSE Header "p2s" (PBES2 salt) value.')}const h=yield i.deriveKey({algorithm:n.alg,baseKeyBytes:t,iterations:n.p2c,salt:c});p=yield i.wrapKey({encryptionKey:h,unwrappedKey:l});break}default:throw new Gi(Xi.AlgorithmNotSupported,`Unsupported "alg" (Algorithm) Header Parameter value: ${n.alg}`)}return{cek:l,encryptedKey:p}})}}function _6(r){return null!==r&&"object"==typeof r&&"encrypt"in r&&"function"==typeof r.encrypt&&"decrypt"in r&&"function"==typeof r.decrypt}function R9(...r){const t=new Set,n=r.filter(Boolean);for(const i of n)for(const l in i){if(t.has(l))return!0;t.add(l)}return!1}var O9=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};function jP(r,t){if(void 0!==t)try{if("string"!=typeof t)throw new Error;return nr.U$.base64Url(t).toUint8Array()}catch{throw new Gi(Xi.InvalidJwe,`Failed to decode the JWE Header parameter '${r}' from Base64 URL format to Uint8Array. Ensure the value is properly encoded in Base64 URL format without padding.`)}}class E6{constructor(t){this.ciphertext="",Object.assign(this,t)}static decrypt({jwe:t,key:n,keyManager:i=new Rm,crypto:l=new jE,options:p={}}){var c,h;return O9(this,void 0,void 0,function*(){if(!_6(l))throw new Gi(Xi.OperationNotSupported,'Crypto API does not support the "encrypt" operation.');if(!_6(i))throw new Gi(Xi.OperationNotSupported,'Key Manager does not support the "decrypt" operation.');if(!t.protected&&!t.header&&!t.unprotected)throw new Gi(Xi.InvalidJwe,'JWE is missing the required JOSE header parameters. Please provide at least one of the following: "protected", "header", or "unprotected"');if("string"!=typeof t.ciphertext)throw new Gi(Xi.InvalidJwe,"JWE Ciphertext is missing or not a string.");let V;if(t.protected)try{V=nr.U$.base64Url(t.protected).toObject()}catch{throw new Error("JWE Protected Header is invalid")}if(R9(V,t.header,t.unprotected))throw new Error('Duplicate properties detected. Please ensure that each parameter is defined only once across the JWE "header", "protected", and "unprotected" objects.');const $=Object.assign(Object.assign(Object.assign({},V),t.header),t.unprotected);if(!FP($))throw new Error('JWE Header is missing required "alg" (Algorithm) and/or "enc" (Encryption) Header Parameters');if(Array.isArray(p.allowedAlgValues)&&!p.allowedAlgValues.includes($.alg))throw new Error(`"alg" (Algorithm) Header Parameter value not allowed: ${$.alg}`);if(Array.isArray(p.allowedEncValues)&&!p.allowedEncValues.includes($.enc))throw new Error(`"enc" (Encryption Algorithm) Header Parameter value not allowed: ${$.enc}`);let I;try{const rt=t.encrypted_key?nr.U$.base64Url(t.encrypted_key).toUint8Array():void 0;I=yield k9.decrypt({key:n,encryptedKey:rt,joseHeader:$,keyManager:i,crypto:l})}catch(rt){if(rt instanceof Gi&&(rt.code===Xi.InvalidJwe||rt.code===Xi.AlgorithmNotSupported))throw rt;I="string"==typeof n?yield i.generateKey({algorithm:$.enc}):yield l.generateKey({algorithm:$.enc})}const q=jP("iv",t.iv),Ce=jP("tag",t.tag),Be=void 0!==Ce?new Uint8Array([...nr.U$.base64Url(t.ciphertext).toUint8Array(),...Ce??[]]):nr.U$.base64Url(t.ciphertext).toUint8Array(),Pe=void 0!==t.aad?new Uint8Array([...nr.U$.string(null!==(c=t.protected)&&void 0!==c?c:"").toUint8Array(),...nr.U$.string(".").toUint8Array(),...nr.U$.string(t.aad).toUint8Array()]):nr.U$.string(null!==(h=t.protected)&&void 0!==h?h:"").toUint8Array();return{plaintext:"string"==typeof I?yield i.decrypt({keyUri:I,data:Be,iv:q,additionalData:Pe}):yield l.decrypt({key:I,data:Be,iv:q,additionalData:Pe}),protectedHeader:V,additionalAuthenticatedData:jP("aad",t.aad),sharedUnprotectedHeader:t.unprotected,unprotectedHeader:t.header}})}static encrypt({key:t,plaintext:n,additionalAuthenticatedData:i,protectedHeader:l,sharedUnprotectedHeader:p,unprotectedHeader:c,keyManager:h=new Rm,crypto:V=new jE}){return O9(this,void 0,void 0,function*(){if(!_6(V))throw new Gi(Xi.OperationNotSupported,'Crypto API does not support the "encrypt" operation.');if(!_6(h))throw new Gi(Xi.OperationNotSupported,'Key Manager does not support the "decrypt" operation.');if(!l&&!p&&!c)throw new Gi(Xi.InvalidJwe,'JWE is missing the required JOSE header parameters. Please provide at least one of the following: "protectedHeader", "sharedUnprotectedHeader", or "unprotectedHeader"');if(!(n instanceof Uint8Array))throw new Gi(Xi.InvalidJwe,"Plaintext is missing or not a byte array.");if(R9(l,p,c))throw new Error('Duplicate properties detected. Please ensure that each parameter is defined only once across the JWE "protectedHeader", "sharedUnprotectedHeader", and "unprotectedHeader" objects.');const $=Object.assign(Object.assign(Object.assign({},l),p),c);if(!FP($))throw new Error('JWE Header is missing required "alg" (Algorithm) and/or "enc" (Encryption) Header Parameters');const{cek:I,encryptedKey:q}=yield k9.encrypt({key:t,joseHeader:$,keyManager:h,crypto:V});let Ce;switch($.enc){case"A128GCM":case"A192GCM":case"A256GCM":Ce=XN(12);break;default:Ce=new Uint8Array(0)}const Be=l?nr.U$.object(l).toBase64Url():"";let Pe,Ke;i?(Ke=nr.U$.uint8Array(i).toBase64Url(),Pe=nr.U$.string(Be+"."+Ke).toUint8Array()):Pe=nr.U$.string(Be).toUint8Array();const rt="string"==typeof I?yield h.encrypt({keyUri:I,data:n,iv:Ce,additionalData:Pe}):yield V.encrypt({key:I,data:n,iv:Ce,additionalData:Pe}),ht=rt.slice(0,-16),ct=rt.slice(-16),dt=new E6({ciphertext:nr.U$.uint8Array(ht).toBase64Url()});return q&&(dt.encrypted_key=nr.U$.uint8Array(q).toBase64Url()),l&&(dt.protected=Be),p&&(dt.unprotected=p),c&&(dt.header=c),Ce&&(dt.iv=nr.U$.uint8Array(Ce).toBase64Url()),Ke&&(dt.aad=Ke),ct&&(dt.tag=nr.U$.uint8Array(ct).toBase64Url()),dt})}}var P9=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class KE{static decrypt({jwe:t,key:n,keyManager:i=new Rm,crypto:l=new jE,options:p={}}){return P9(this,void 0,void 0,function*(){if("string"!=typeof t)throw new Gi(Xi.InvalidJwe,"Invalid JWE format. JWE must be a string.");const{0:c,1:h,2:V,3:$,4:I,length:q}=t.split(".");if(5!==q)throw new Gi(Xi.InvalidJwe,"Invalid JWE format. JWE must have 5 parts.");const Ce=yield E6.decrypt({jwe:{ciphertext:$,encrypted_key:h||void 0,iv:V||void 0,protected:c,tag:I||void 0},key:n,keyManager:i,crypto:l,options:p});if(!FP(Ce.protectedHeader))throw new Gi(Xi.InvalidJwe,"Decrypt operation failed due to missing or malformed JWE Protected Header");return{plaintext:Ce.plaintext,protectedHeader:Ce.protectedHeader}})}static encrypt({plaintext:t,protectedHeader:n,key:i,keyManager:l=new Rm,crypto:p=new jE,options:c={}}){return P9(this,void 0,void 0,function*(){const h=yield E6.encrypt({plaintext:t,protectedHeader:n,key:i,keyManager:l,crypto:p,options:c});return[h.protected,h.encrypted_key,h.iv,h.ciphertext,h.tag].join(".")})}}var Hh=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};function B9(r){return"string"!=typeof r||0===r.trim().length}class EF{constructor({keyDerivationWorkFactor:t,store:n}={}){this.crypto=new jE,this._keyDerivationWorkFactor=t??21e4,this._store=n??new nr.ny}backup(){return Hh(this,void 0,void 0,function*(){if(this.isLocked()||!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Unable to proceed with the backup operation because the identity vault has not been initialized and unlocked. Please ensure the vault is properly initialized with a secure password before attempting to backup its contents.");const t={did:yield this.getStoredDid(),contentEncryptionKey:yield this.getStoredContentEncryptionKey(),status:yield this.getStatus()},n=nr.U$.object(t).toBase64Url(),i={data:n,dateCreated:(new Date).toISOString(),size:n.length};return yield this.setStatus({lastBackup:i.dateCreated}),i})}changePassword({oldPassword:t,newPassword:n}){return Hh(this,void 0,void 0,function*(){if(!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Unable to proceed with the change password operation because the identity vault has not been initialized. Please ensure the vault is properly initialized with a secure password before trying again.");yield this.lock();const i=yield this.getStoredContentEncryptionKey();let l,p;try{let h;({plaintext:h,protectedHeader:l}=yield KE.decrypt({jwe:i,key:nr.U$.string(t).toUint8Array(),crypto:this.crypto,keyManager:new Ow})),p=nr.U$.uint8Array(h).toObject()}catch{throw new Error("HdIdentityVault: Unable to change the vault password due to an incorrectly entered old password.")}const c=yield KE.encrypt({key:nr.U$.string(n).toUint8Array(),protectedHeader:l,plaintext:nr.U$.object(p).toUint8Array(),crypto:this.crypto,keyManager:new Ow});yield this._store.set("contentEncryptionKey",c),this._contentEncryptionKey=p})}getDid(){return Hh(this,void 0,void 0,function*(){if(this.isLocked())throw new Error("HdIdentityVault: Vault has not been initialized and unlocked.");const t=yield this.getStoredDid(),{plaintext:n}=yield KE.decrypt({jwe:t,key:this._contentEncryptionKey,crypto:this.crypto,keyManager:new Ow}),i=nr.U$.uint8Array(n).toObject();if(!f9(i))throw new Error("HdIdentityVault: Unable to decode malformed DID in identity vault");return yield ry.import({portableDid:i})})}getStatus(){return Hh(this,void 0,void 0,function*(){const t=yield this._store.get("vaultStatus");if(!t)return{initialized:!1,lastBackup:null,lastRestore:null};const n=nr.U$.string(t).toObject();if(!function _F(r){return"object"==typeof r&&null!==r&&"initialized"in r&&"boolean"==typeof r.initialized&&"lastBackup"in r&&"lastRestore"in r}(n))throw new Error("HdIdentityVault: Invalid IdentityVaultStatus object in store");return n})}initialize({password:t,recoveryPhrase:n}){return Hh(this,void 0,void 0,function*(){if(yield this.isInitialized())throw new Error("HdIdentityVault: Vault has already been initialized.");if(B9(t))throw new Error("HdIdentityVault: The password is required and cannot be blank. Please provide a ' +\n        'valid, non-empty password.");if(n&&B9(n))throw new Error("HdIdentityVault: The password is required and cannot be blank. Please provide a ' +\n        'valid, non-empty password.");if(n??(n=function fF(r,t=128){if((0,cy.ai)(t),t%32!=0||t>256)throw new TypeError("Invalid entropy");return function mF(r,t){return A9(r),T9(t).encode(r).join((r=>"\u3042\u3044\u3053\u304f\u3057\u3093"===r[0])(t)?"\u3000":" ")}((0,Jd.po)(t/8),r)}(E9,128)),!function yF(r,t){try{!function pF(r,t){const{words:n}=LP(r);A9(T9(t).decode(n))}(r,t)}catch{return!1}return!0}(n,E9))throw new Error("HdIdentityVault: The provided recovery phrase is invalid. Please ensure that the recovery phrase is a correctly formatted series of 12 words.");const i=yield gF(n),l=b6.fromMasterSeed(i),p=l.derive("m/44'/0'/0'/0'/0'"),c=yield this.crypto.deriveKey({algorithm:"HKDF-512",baseKeyBytes:p.privateKey,salt:"",info:"vault_cek",derivedKeyAlgorithm:"A256GCM"}),h=yield this.crypto.deriveKeyBytes({algorithm:"HKDF-512",baseKeyBytes:p.publicKey,salt:"",info:"vault_unlock_salt",length:256}),V={alg:"PBES2-HS512+A256KW",enc:"A256GCM",cty:"text/plain",p2c:this._keyDerivationWorkFactor,p2s:nr.U$.uint8Array(h).toBase64Url()},$=yield KE.encrypt({key:nr.U$.string(t).toUint8Array(),protectedHeader:V,plaintext:nr.U$.object(c).toUint8Array(),crypto:this.crypto,keyManager:new Ow});yield this._store.set("contentEncryptionKey",$);const I=l.derive("m/44'/0'/1708523827'/0'/0'"),q=yield this.crypto.bytesToPrivateKey({algorithm:"Ed25519",privateKeyBytes:I.privateKey});let Ce=l.derive("m/44'/0'/1708523827'/0'/1'");const Be=yield this.crypto.bytesToPrivateKey({algorithm:"Ed25519",privateKeyBytes:Ce.privateKey}),Pe=new jU;yield Pe.addPredefinedKeys({privateKeys:[q,Be]});const rt=yield(yield f6.create({keyManager:Pe,options:{verificationMethods:[{algorithm:"Ed25519",id:"sig",purposes:["assertionMethod","authentication"]}]}})).export(),ct=yield KE.encrypt({key:c,plaintext:nr.U$.object(rt).toUint8Array(),protectedHeader:{alg:"dir",enc:"A256GCM",cty:"json"},crypto:this.crypto,keyManager:new Ow});return yield this._store.set("did",ct),this._contentEncryptionKey=c,yield this.setStatus({initialized:!0}),n})}isInitialized(){return Hh(this,void 0,void 0,function*(){return this.getStatus().then(({initialized:t})=>t)})}isLocked(){return!this._contentEncryptionKey}lock(){return Hh(this,void 0,void 0,function*(){if(!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Lock operation failed. Vault has not been initialized.");this._contentEncryptionKey&&(this._contentEncryptionKey.k=""),this._contentEncryptionKey=void 0})}restore({backup:t,password:n}){return Hh(this,void 0,void 0,function*(){if(!function wF(r){return"object"==typeof r&&null!==r&&"dateCreated"in r&&"string"==typeof r.dateCreated&&"size"in r&&"number"==typeof r.size&&"data"in r&&"string"==typeof r.data}(t))throw new Error("HdIdentityVault: Restore operation failed due to invalid backup object.");let i,l,p;try{p=yield this.getStoredDid(),l=yield this.getStoredContentEncryptionKey(),i=yield this.getStatus()}catch{throw new Error("HdIdentityVault: The restore operation cannot proceed because the existing vault contents are missing or inaccessible. If the problem persists consider re-initializing the vault and retrying the restore.")}try{const c=nr.U$.base64Url(t.data).toObject();yield this._store.set("did",c.did),yield this._store.set("contentEncryptionKey",c.contentEncryptionKey),yield this.setStatus(c.status),yield this.unlock({password:n})}catch{throw yield this.setStatus(i),yield this._store.set("contentEncryptionKey",l),yield this._store.set("did",p),new Error("HdIdentityVault: Restore operation failed due to invalid backup data or an incorrect password. Please verify the password is correct for the provided backup and try again.")}yield this.setStatus({lastRestore:(new Date).toISOString()})})}unlock({password:t}){return Hh(this,void 0,void 0,function*(){yield this.lock();const n=yield this.getStoredContentEncryptionKey();try{const{plaintext:i}=yield KE.decrypt({jwe:n,key:nr.U$.string(t).toUint8Array(),crypto:this.crypto,keyManager:new Ow}),l=nr.U$.uint8Array(i).toObject();this._contentEncryptionKey=l}catch{throw new Error("HdIdentityVault: Unable to unlock the vault due to an incorrect password.")}})}getStoredDid(){return Hh(this,void 0,void 0,function*(){const t=yield this._store.get("did");if(!t)throw new Error("HdIdentityVault: Unable to retrieve the DID record from the vault. Please check the vault status and if the problem persists consider re-initializing the vault and restoring the contents from a previous backup.");return t})}getStoredContentEncryptionKey(){return Hh(this,void 0,void 0,function*(){const t=yield this._store.get("contentEncryptionKey");if(!t)throw new Error("HdIdentityVault: Unable to retrieve the Content Encryption Key record from the vault. Please check the vault status and if the problem persists consider re-initializing the vault and restoring the contents from a previous backup.");return t})}setStatus({initialized:t,lastBackup:n,lastRestore:i}){return Hh(this,void 0,void 0,function*(){let l=yield this.getStatus();return l.initialized=t??l.initialized,l.lastBackup=n??l.lastBackup,l.lastRestore=i??l.lastRestore,yield this._store.set("vaultStatus",JSON.stringify(l)),!0})}}var dy=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class SF extends AP{constructor(){super(...arguments),this.name="DwnIdentityStore",this._recordProtocolDefinition=u9,this._recordProperties={dataFormat:"application/json",protocol:this._recordProtocolDefinition.protocol,protocolPath:"identityMetadata",schema:this._recordProtocolDefinition.types.identityMetadata.schema}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return dy(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return dy(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return dy(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return dy(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var i;return dy(this,void 0,void 0,function*(){this._index.clear();const{reply:l}=yield t.dwn.processRequest({author:n,target:n,messageType:ka.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let p=[];for(const c of null!==(i=l.entries)&&void 0!==i?i:[]){if(!c.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const h=nr.U$.base64Url(c.encodedData).toObject();(r=h)&&"object"==typeof r&&null!==r&&"name"in r&&(this._index.set(`${n}${eh}${h.uri}`,c.recordId),this._cache.set(c.recordId,h),p.push(h))}var r;return p})}}class MF extends TP{constructor(){super(...arguments),this.name="InMemoryIdentityStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return dy(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return dy(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return dy(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return dy(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var Pw=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class AF{constructor({agent:t,store:n}={}){this._agent=t,this._store=n??new MF}get agent(){if(void 0===this._agent)throw new Error("AgentIdentityApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}create({metadata:t,didMethod:n="dht",didOptions:i,store:l,tenant:p}){return Pw(this,void 0,void 0,function*(){const c=yield this.agent.did.create({method:n,options:i,store:l,tenant:p}),h=new e6({did:c,metadata:Object.assign(Object.assign({},t),{uri:c.uri,tenant:p??c.uri})});return(l??!0)&&(yield this._store.set({id:h.did.uri,data:h.metadata,agent:this.agent,tenant:h.metadata.tenant,preventDuplicates:!1,useCache:!0})),h})}export({didUri:t,tenant:n}){return Pw(this,void 0,void 0,function*(){const i=yield this.get({didUri:t,tenant:n});if(!i)throw new Error(`AgentIdentityApi: Failed to export due to Identity not found: ${t}`);return yield i.export()})}get({didUri:t,tenant:n}){return Pw(this,void 0,void 0,function*(){const i=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0});if(!i)return;const l=yield this.agent.did.get({didUri:t,tenant:i.tenant});if(!l)throw new Error(`AgentIdentityApi: Identity is present in the store but DID is missing: ${t}`);return new e6({did:l,metadata:i})})}import({portableIdentity:t}){return Pw(this,void 0,void 0,function*(){const n=yield this.agent.did.import({portableDid:t.portableDid,tenant:t.metadata.tenant});if(!n)throw new Error(`AgentIdentityApi: Failed to import Identity: ${t.metadata.uri}`);const i=new e6({did:n,metadata:t.metadata});return yield this._store.set({id:i.did.uri,data:i.metadata,agent:this.agent,tenant:i.metadata.tenant,preventDuplicates:!0,useCache:!0}),i})}list({tenant:t}={}){return Pw(this,void 0,void 0,function*(){const n=yield this._store.list({agent:this.agent,tenant:t}),i=[];for(const l of n){const p=yield this.get({didUri:l.uri,tenant:l.tenant});i.push(p)}return i})}manage({portableIdentity:t}){return Pw(this,void 0,void 0,function*(){const n=yield this.agent.did.get({didUri:t.metadata.uri,tenant:t.metadata.tenant});if(!n)throw new Error(`AgentIdentityApi: Failed to manage Identity: ${t.metadata.uri}`);const i=new e6({did:n,metadata:t.metadata});return yield this._store.set({id:i.did.uri,data:i.metadata,agent:this.agent,preventDuplicates:!0,useCache:!0}),i})}delete({didUri:t,tenant:n}){return Pw(this,void 0,void 0,function*(){if(!(yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0})))throw new Error(`AgentIdentityApi: Failed to purge due to Identity not found: ${t}`);yield this._store.delete({id:t,agent:this.agent,tenant:n})})}}const $P=(r,t,n)=>({jsonrpc:"2.0",id:r,method:t,params:n}),N9=(r,t,n,i)=>({jsonrpc:"2.0",id:r,method:`rpc.subscribe.${t}`,params:i,subscription:{id:n}});function x6(r){try{return JSON.parse(r)}catch{return null}}var SA=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class DF{constructor({ttl:t="15m"}={}){this.cache=new nr.LC({ttl:Rw(t)})}get(t){return SA(this,void 0,void 0,function*(){return this.cache.get(t)})}set(t,n){return SA(this,void 0,void 0,function*(){this.cache.set(t,n)})}delete(t){return SA(this,void 0,void 0,function*(){this.cache.delete(t)})}clear(){return SA(this,void 0,void 0,function*(){this.cache.clear()})}close(){return SA(this,void 0,void 0,function*(){})}}var L9=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class IF{constructor(t){this.serverInfoCache=t??new DF}get transportProtocols(){return["http:","https:"]}sendDwnRequest(t){return L9(this,void 0,void 0,function*(){const n=Tw(),i=$P(n,"dwn.processMessage",{target:t.targetDid,message:t.message}),l={method:"POST",headers:{"dwn-request":JSON.stringify(i)}};t.data&&(l.headers["content-type"]="application/octet-stream",l.body=t.data);const p=yield fetch(t.dwnUrl,l);let c,h;const{headers:V}=p;if(V.has("dwn-response")){const I=x6(V.get("dwn-response"));if(null==I)throw new Error(`failed to parse json rpc response. dwn url: ${t.dwnUrl}`);h=p.body,c=I}else{const I=yield p.text();c=JSON.parse(I)}if(c.error){const{code:I,message:q}=c.error;throw new Error(`(${I}) - ${q}`)}const{reply:$}=c.result;return h&&$.record?$.record.data=h:h&&$.entry&&($.entry.data=h),$})}getServerInfo(t){return L9(this,void 0,void 0,function*(){const n=yield this.serverInfoCache.get(t);if(n)return n;const i=new URL(t);i.pathname.endsWith("/")?i.pathname+="info":i.pathname+="/info";try{const l=yield fetch(i.toString());if(l.ok){const p=yield l.json(),c={registrationRequirements:p.registrationRequirements,maxFileSize:p.maxFileSize,webSocketSupport:p.webSocketSupport};return this.serverInfoCache.set(t,c),c}throw new Error(`HTTP (${l.status}) - ${l.statusText}`)}catch(l){throw new Error(`Error encountered while processing response from ${i.toString()}: ${l.message}`)}})}}var VE=null;typeof WebSocket<"u"?VE=WebSocket:typeof MozWebSocket<"u"?VE=MozWebSocket:typeof globalThis<"u"?VE=globalThis.WebSocket||globalThis.MozWebSocket:typeof window<"u"?VE=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(VE=self.WebSocket||self.MozWebSocket);const CF=VE;var S6=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};const kF=3e3,RF=3e4;class KP{constructor(t,n){this.socket=t,this.responseTimeout=n,this.messageHandlers=new Map}static connect(t,n={}){return S6(this,void 0,void 0,function*(){const{connectTimeout:i=kF,responseTimeout:l=RF,onclose:p,onerror:c}=n,h=new CF(t);return h.onclose=p||(()=>{console.info(`JSON RPC Socket close ${t}`)}),h.onerror=c||(V=>{console.error(`JSON RPC Socket error ${t}`,V)}),new Promise((V,$)=>{h.addEventListener("open",()=>{const I=new KP(h,l);h.addEventListener("message",q=>{const Ce=x6(q.data),Be=I.messageHandlers.get(Ce.id);Be&&Be(q)}),V(I)}),h.addEventListener("error",I=>{$(I)}),setTimeout(()=>$,i)})})}close(){this.socket.close()}request(t){return S6(this,void 0,void 0,function*(){return new Promise((n,i)=>{var l;null!==(l=t.id)&&void 0!==l||(t.id=Tw()),this.messageHandlers.set(t.id,c=>{const h=x6(c.data);if(h.id===t.id)return this.messageHandlers.delete(t.id),n(h)}),this.send(t),setTimeout(()=>{this.messageHandlers.delete(t.id),i(new Error("request timed out"))},this.responseTimeout)})})}subscribe(t,n){return S6(this,void 0,void 0,function*(){if(!t.method.startsWith("rpc.subscribe."))throw new Error("subscribe rpc requests must include the `rpc.subscribe` prefix");if(!t.subscription)throw new Error("subscribe rpc requests must include subscribe options");const i=t.subscription.id;this.messageHandlers.set(i,h=>{const V=x6(h.data.toString());V.id===i&&(void 0!==V.error&&(this.messageHandlers.delete(i),this.closeSubscription(i)),n(V))});const p=yield this.request(t);return p.error?(this.messageHandlers.delete(i),{response:p}):{response:p,close:()=>S6(this,void 0,void 0,function*(){this.messageHandlers.delete(i),yield this.closeSubscription(i)})}})}closeSubscription(t){const n=Tw(),i=N9(n,"close",t,{});return this.request(i)}send(t){this.socket.send(JSON.stringify(t))}}var VP=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class tv{get transportProtocols(){return["ws:","wss:"]}sendDwnRequest(t,n){return VP(this,void 0,void 0,function*(){const i=new URL(t.dwnUrl);if("ws:"!==i.protocol&&"wss:"!==i.protocol)throw new Error(`Invalid websocket protocol ${i.protocol}`);if(!tv.connections.has(i.host))try{const $=yield KP.connect(i.toString(),n);tv.connections.set(i.host,{socket:$,subscriptions:new Map})}catch($){throw new Error(`Error connecting to ${i.host}: ${$.message}`)}const p=tv.connections.get(i.host),{targetDid:c,message:h,subscriptionHandler:V}=t;return V?tv.subscriptionRequest(p,c,h,V):tv.processMessage(p,c,h)})}static processMessage(t,n,i){return VP(this,void 0,void 0,function*(){const l=Tw(),p=$P(l,"dwn.processMessage",{target:n,message:i}),{socket:c}=t,h=yield c.request(p),{error:V,result:$}=h;if(void 0!==V)throw new Error(`error sending DWN request: ${V.message}`);return $.reply})}static subscriptionRequest(t,n,i,l){return VP(this,void 0,void 0,function*(){const p=Tw(),c=Tw(),h=N9(p,"dwn.processMessage",c,{target:n,message:i}),{socket:V,subscriptions:$}=t,{response:I,close:q}=yield V.subscribe(h,Ke=>{const{result:rt,error:ht}=Ke;if(ht){const dt=$.get(c);return dt&&dt.close(),void $.delete(c)}const{event:ct}=rt;l(ct)}),{error:Ce,result:Be}=I;if(Ce)throw new Error(`could not subscribe via jsonrpc socket: ${Ce.message}`);const{reply:Pe}=Be;return Pe.subscription&&q&&($.set(c,Object.assign(Object.assign({},Pe.subscription),{close:q})),Pe.subscription.close=q),Pe})}}tv.connections=new Map;var MA=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class PF{constructor(t=[]){this.transportClients=new Map,t=[new BF,new NF,...t];for(let n of t)for(let i of n.transportProtocols)this.transportClients.set(i,n)}get transportProtocols(){return Array.from(this.transportClients.keys())}sendDidRequest(t){return MA(this,void 0,void 0,function*(){const n=new URL(t.url),i=this.transportClients.get(n.protocol);if(!i){const l=new Error(`no ${n.protocol} transport client available`);throw l.name="NO_TRANSPORT_CLIENT",l}return i.sendDidRequest(t)})}sendDwnRequest(t){const n=new URL(t.dwnUrl),i=this.transportClients.get(n.protocol);if(!i){const l=new Error(`no ${n.protocol} transport client available`);throw l.name="NO_TRANSPORT_CLIENT",l}return i.sendDwnRequest(t)}getServerInfo(t){return MA(this,void 0,void 0,function*(){const n=new URL(t),i=this.transportClients.get(n.protocol);if(!i){const l=new Error(`no ${n.protocol} transport client available`);throw l.name="NO_TRANSPORT_CLIENT",l}return i.getServerInfo(t)})}}class BF extends IF{sendDidRequest(t){return MA(this,void 0,void 0,function*(){const n=Tw(),i=$P(n,t.method,{data:t.data}),l=new Request(t.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});let p;try{const c=yield fetch(l);if(!c.ok)throw new Error(`HTTP (${c.status}) - ${c.statusText}`);if(p=yield c.json(),p.error){const{code:h,message:V}=p.error;throw new Error(`JSON RPC (${h}) - ${V}`)}}catch(c){throw new Error(`Error encountered while processing response from ${t.url}: ${c.message}`)}return p.result})}}class NF extends tv{sendDidRequest(t){return MA(this,void 0,void 0,function*(){throw new Error(`not implemented for transports [${this.transportProtocols.join(", ")}]`)})}getServerInfo(t){return MA(this,void 0,void 0,function*(){throw new Error(`not implemented for transports [${this.transportProtocols.join(", ")}]`)})}}class UF{constructor({agent:t,syncEngine:n}){this._syncEngine=n,this._agent=t}get agent(){if(void 0===this._agent)throw new Error("AgentSyncApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t,this._syncEngine.agent=t}registerIdentity(t){return function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){yield this._syncEngine.registerIdentity(t)})}startSync(t){return this._syncEngine.startSync(t)}stopSync(){this._syncEngine.stopSync()}}var yf=function(r,t,n,i){return new(n||(n=Promise))(function(p,c){function h(I){try{$(i.next(I))}catch(q){c(q)}}function V(I){try{$(i.throw(I))}catch(q){c(q)}}function $(I){I.done?p(I.value):function l(p){return p instanceof n?p:new n(function(c){c(p)})}(I.value).then(h,V)}$((i=i.apply(r,t||[])).next())})};class M6{constructor({agent:t,dataPath:n,db:i}){this._agent=t,this._db=i||new fN.Level(n??"DATA/AGENT/SYNC_STORE"),this._ulidFactory=KN()}get agent(){if(void 0===this._agent)throw new Error("SyncEngineLevel: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}clear(){return yf(this,void 0,void 0,function*(){yield this._db.clear()})}close(){return yf(this,void 0,void 0,function*(){yield this._db.close()})}pull(){var t;return yf(this,void 0,void 0,function*(){const n=yield this.getSyncPeerState({syncDirection:"pull"});yield this.enqueueOperations({syncDirection:"pull",syncPeerState:n});const i=this.getPullQueue(),l=yield i.iterator().all(),p=[],c=new Set;for(let h of l){const[V]=h,[$,I,q,Ce]=V.split("~");if(c.has(I))continue;if(yield this.messageExists($,Ce)){p.push({type:"del",key:V});continue}const Pe=yield this.agent.processDwnRequest({store:!1,author:$,target:$,messageType:ka.MessagesRead,messageParams:{messageCid:Ce}});let Ke;try{Ke=yield this.agent.rpc.sendDwnRequest({dwnUrl:I,targetDid:$,message:Pe.message})}catch{c.add(I);continue}if(200!==Ke.status.code||null===(t=Ke.entry)||void 0===t||!t.message){yield this.addMessage($,Ce),p.push({type:"del",key:V});continue}const rt=Ke.entry,ht=rt.message,ct=m6(rt)&&rt.data?nr.VS.fromWebReadable({readableStream:rt.data}):void 0,dt=yield this.agent.dwn.node.processMessage($,ht,{dataStream:ct});M6.syncMessageReplyIsSuccessful(dt)&&(yield this.addMessage($,Ce),p.push({type:"del",key:V}))}yield i.batch(p)})}push(){return yf(this,void 0,void 0,function*(){const t=yield this.getSyncPeerState({syncDirection:"push"});yield this.enqueueOperations({syncDirection:"push",syncPeerState:t});const n=this.getPushQueue(),i=yield n.iterator().all(),l=[],p=new Set;for(let c of i){const[h]=c,[V,$,I,q]=h.split("~");if(p.has($))continue;const Ce=yield this.getDwnMessage({author:V,messageCid:q});if(Ce)try{const Be=yield this.agent.rpc.sendDwnRequest({dwnUrl:$,targetDid:V,data:Ce.data,message:Ce.message});M6.syncMessageReplyIsSuccessful(Be)&&(yield this.addMessage(V,q),l.push({type:"del",key:h}))}catch{p.add($)}else l.push({type:"del",key:h}),yield this.addMessage(V,q)}yield n.batch(l)})}registerIdentity({did:t}){return yf(this,void 0,void 0,function*(){yield this._db.sublevel("registeredIdentities").put(t,"")})}startSync({interval:t}){const n=Rw(t);return new Promise((i,l)=>{const p=()=>yf(this,void 0,void 0,function*(){this._syncIntervalId&&clearInterval(this._syncIntervalId);try{yield this.push(),yield this.pull()}catch(c){this.stopSync(),l(c)}this._syncIntervalId=setInterval(p,n)});this._syncIntervalId=setInterval(p,n)})}stopSync(){this._syncIntervalId&&(clearInterval(this._syncIntervalId),this._syncIntervalId=void 0)}static syncMessageReplyIsSuccessful(t){var n,i;return 202===t.status.code||409===t.status.code||(null===(n=t.entry)||void 0===n?void 0:n.message.descriptor.interface)===$i.Records&&(null===(i=t.entry)||void 0===i?void 0:i.message.descriptor.method)===vi.Delete&&404===t.status.code}enqueueOperations({syncDirection:t,syncPeerState:n}){return yf(this,void 0,void 0,function*(){for(let i of n){const l=yield this.getDwnEventLog({did:i.did,dwnUrl:i.dwnUrl,cursor:i.cursor,syncDirection:t}),p=[];for(let c of l){const h=this._ulidFactory(),V=[i.did,i.dwnUrl,h,c].join("~");p.push({type:"put",key:V,value:""})}p.length>0&&(yield("pull"===t?this.getPullQueue():this.getPushQueue()).batch(p))}})}getDwnEventLog({did:t,dwnUrl:n,syncDirection:i,cursor:l}){var p;return yf(this,void 0,void 0,function*(){let c={};if("pull"===i){const V=yield this.agent.dwn.processRequest({store:!1,target:t,author:t,messageType:ka.MessagesQuery,messageParams:{filters:[],cursor:l}});try{c=yield this.agent.rpc.sendDwnRequest({dwnUrl:n,targetDid:t,message:V.message})}catch{}}else"push"===i&&(c=(yield this.agent.dwn.processRequest({author:t,target:t,messageType:ka.MessagesQuery,messageParams:{filters:[],cursor:l}})).reply);const h=null!==(p=c.entries)&&void 0!==p?p:[];return c.cursor&&this.setCursor(t,n,i,c.cursor),h})}getDwnMessage({author:t,messageCid:n}){return yf(this,void 0,void 0,function*(){let{reply:i}=yield this.agent.dwn.processRequest({author:t,target:t,messageType:ka.MessagesRead,messageParams:{messageCid:n}});if(200!==i.status.code||!i.entry)return;const l=i.entry;let p={message:l.message};if(m6(l)&&l.data){const c=yield nr.VS.consumeToBytes({readable:l.data});p.data=new Blob([c],{type:l.message.descriptor.dataFormat})}return p})}getSyncPeerState({syncDirection:t}){return yf(this,void 0,void 0,function*(){const n=yield this._db.sublevel("registeredIdentities").keys().all(),i=[];for(let l of n){const p=yield y9(l,this.agent.did);if(0!==p.length)for(let c of p){const h=yield this.getCursor(l,c,t);i.push({did:l,dwnUrl:c,cursor:h})}}return i})}getCursor(t,n,i){return yf(this,void 0,void 0,function*(){const l=`${t}~${n}~${i}`,p=this.getCursorStore();try{const c=yield p.get(l);if(c)return JSON.parse(c)}catch(c){if(c.notFound)return}})}setCursor(t,n,i,l){return yf(this,void 0,void 0,function*(){const p=`${t}~${n}~${i}`;yield this.getCursorStore().put(p,JSON.stringify(l))})}messageExists(t,n){return yf(this,void 0,void 0,function*(){const i=this.getMessageStore(t);try{return yield i.get(n),!0}catch(l){if(l.notFound)return!1;throw l}})}addMessage(t,n){return yf(this,void 0,void 0,function*(){return yield this.getMessageStore(t).put(n,"")})}getMessageStore(t){return this._db.sublevel("history").sublevel(t).sublevel("messages")}getCursorStore(){return this._db.sublevel("cursors")}getPushQueue(){return this._db.sublevel("pushQueue")}getPullQueue(){return this._db.sublevel("pullQueue")}}},74862:(je,H,w)=>{"use strict";w.d(H,{uW:()=>ga});var d=w(62590),E=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})};class z{constructor(Me){this.agent=Me.agent,this.connectedDid=Me.connectedDid}create(Me){return E(this,void 0,void 0,function*(){const me=yield this.agent.processDidRequest({messageType:d.B2.Create,messageParams:Object.assign({},Me)}),{result:ve}=me,Ze=function(Xe,Me){var me={};for(var ve in Xe)Object.prototype.hasOwnProperty.call(Xe,ve)&&Me.indexOf(ve)<0&&(me[ve]=Xe[ve]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(Xe);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ve[Ze])&&(me[ve[Ze]]=Xe[ve[Ze]])}return me}(me,["result"]);return Object.assign({did:ve},Ze)})}resolve(Me,me){return E(this,void 0,void 0,function*(){const{result:ve}=yield this.agent.processDidRequest({messageParams:{didUri:Me,options:me},messageType:d.B2.Resolve});return ve})}}var x=w(37475);function O(Xe,Me){let me;const ve=(0,x.fc)(Xe);if("text/plain"===Me||"String"===ve)me=new Blob([Xe],{type:"text/plain"});else if("application/json"===Me||"Object"===ve){const Ze=x.U$.object(Xe).toUint8Array();me=new Blob([Ze],{type:"application/json"})}else if("Uint8Array"===ve||"ArrayBuffer"===ve)me=new Blob([Xe],{type:"application/octet-stream"});else{if("Blob"!==ve)throw new Error("data type not supported.");me=Xe}return{dataBlob:me,dataFormat:Me=Me||me.type||"application/octet-stream"}}class A{static check(Me,me){let ve=A.cache.get(Me);return!!ve&&ve.has(me)}static set(Me,me){let ve=A.cache.get(Me)||new Set;if(A.cache.delete(Me),A.cache.set(Me,ve),this.cache.size>A.sendCacheLimit){const Ze=A.cache.keys().next().value;A.cache.delete(Ze)}if(ve.delete(me),ve.add(me),ve.size>A.sendCacheLimit){const Ze=ve.keys().next().value;ve.delete(Ze)}}}A.cache=new Map,A.sendCacheLimit=100;var P=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})},F=function(Xe,Me){var me={};for(var ve in Xe)Object.prototype.hasOwnProperty.call(Xe,ve)&&Me.indexOf(ve)<0&&(me[ve]=Xe[ve]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(Xe);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ve[Ze])&&(me[ve[Ze]]=Xe[ve[Ze]])}return me};let L=(()=>{class Xe{get _recordsWriteDescriptor(){if((0,d.pO)(d.nx.RecordsWrite,this.rawMessage))return this._descriptor}get _immutableProperties(){return this._recordsWriteDescriptor||this._initialWrite.descriptor}get id(){return this._recordId}get contextId(){return this._contextId}get dateCreated(){return this._immutableProperties.dateCreated}get parentId(){return this._immutableProperties.parentId}get protocol(){return this._immutableProperties.protocol}get protocolPath(){return this._immutableProperties.protocolPath}get recipient(){return this._immutableProperties.recipient}get schema(){return this._immutableProperties.schema}get dataFormat(){var me;return null===(me=this._recordsWriteDescriptor)||void 0===me?void 0:me.dataFormat}get dataCid(){var me;return null===(me=this._recordsWriteDescriptor)||void 0===me?void 0:me.dataCid}get dataSize(){var me;return null===(me=this._recordsWriteDescriptor)||void 0===me?void 0:me.dataSize}get datePublished(){var me;return null===(me=this._recordsWriteDescriptor)||void 0===me?void 0:me.datePublished}get published(){var me;return null===(me=this._recordsWriteDescriptor)||void 0===me?void 0:me.published}get tags(){var me;return null===(me=this._recordsWriteDescriptor)||void 0===me?void 0:me.tags}get author(){return this._author}get dateModified(){return this._descriptor.messageTimestamp}get encryption(){return this._encryption}get authorization(){return this._authorization}get attestation(){return this._attestation}get protocolRole(){return this._protocolRole}get deleted(){return(0,d.pO)(d.nx.RecordsDelete,this.rawMessage)}get initialWrite(){return this._initialWrite}get rawMessage(){let ve;return ve=this._descriptor.interface+this._descriptor.method===d.nx.RecordsWrite?JSON.parse(JSON.stringify({contextId:this._contextId,recordId:this._recordId,descriptor:this._descriptor,attestation:this._attestation,authorization:this._authorization,encryption:this._encryption})):JSON.parse(JSON.stringify({descriptor:this._descriptor,authorization:this._authorization})),(0,x.E8)(ve),ve}constructor(me,ve){this._agent=me,this._author=ve.author,this._connectedDid=ve.connectedDid,this._remoteOrigin=ve.remoteOrigin,this._attestation=ve.attestation,this._authorization=ve.authorization,this._contextId=ve.contextId,this._descriptor=ve.descriptor,this._encryption=ve.encryption,this._initialWrite=ve.initialWrite,this._recordId=ve.recordId,this._protocolRole=ve.protocolRole,ve.encodedData&&(this._encodedData="string"==typeof ve.encodedData?new Blob([x.U$.base64Url(ve.encodedData).toUint8Array()],{type:this.dataFormat}):ve.encodedData),ve.data&&(this._readableStream=x.Z6.isReadableStream(ve.data)?x.VS.fromWebReadable({readableStream:ve.data}):ve.data)}get data(){const me=this;return{blob(){return P(this,void 0,void 0,function*(){return new Blob([yield x.VS.consumeToBytes({readable:yield this.stream()})],{type:me.dataFormat})})},bytes(){return P(this,void 0,void 0,function*(){return yield x.VS.consumeToBytes({readable:yield this.stream()})})},json(){return P(this,void 0,void 0,function*(){return yield x.VS.consumeToJson({readable:yield this.stream()})})},text(){return P(this,void 0,void 0,function*(){return yield x.VS.consumeToText({readable:yield this.stream()})})},stream(){return P(this,void 0,void 0,function*(){if(me._encodedData?me._readableStream=x.VS.fromWebReadable({readableStream:me._encodedData.stream()}):x.VS.isReadable({readable:me._readableStream})||(me._readableStream=me._remoteOrigin?yield me.readRecordData({target:me._remoteOrigin,isRemote:!0}):yield me.readRecordData({target:me._connectedDid,isRemote:!1})),!me._readableStream)throw new Error("Record data is not available.");return me._readableStream})},then(Ze,qe){return this.stream().then(Ze,qe)},catch(Ze){return this.stream().catch(Ze)}}}store(me=!1){return P(this,void 0,void 0,function*(){return this.processRecord({signAsOwner:me,store:!0})})}import(me=!0){return P(this,void 0,void 0,function*(){return this.processRecord({store:me,signAsOwner:!0})})}send(me){return P(this,void 0,void 0,function*(){const ve=this._initialWrite;if(me??(me=this._connectedDid),ve&&!Xe._sendCache.check(this._recordId,me)){const pt=Object.assign({},ve);(0,x.E8)(pt),yield this._agent.sendDwnRequest({messageType:d.nx.RecordsWrite,author:this._connectedDid,target:me,rawMessage:pt}),Xe._sendCache.set(this._recordId,me)}let Ze;Ze=this.deleted?{messageType:d.nx.RecordsDelete,author:this._connectedDid,target:me,rawMessage:Object.assign({},this.rawMessage)}:{messageType:d.nx.RecordsWrite,author:this._connectedDid,target:me,dataStream:yield this.data.blob(),rawMessage:Object.assign({},this.rawMessage)};const{reply:qe}=yield this._agent.sendDwnRequest(Ze);return qe})}toJSON(){return{attestation:this.attestation,author:this.author,authorization:this.authorization,contextId:this.contextId,dataCid:this.dataCid,dataFormat:this.dataFormat,dataSize:this.dataSize,dateCreated:this.dateCreated,messageTimestamp:this.dateModified,datePublished:this.datePublished,encryption:this.encryption,parentId:this.parentId,protocol:this.protocol,protocolPath:this.protocolPath,protocolRole:this.protocolRole,published:this.published,recipient:this.recipient,recordId:this.id,schema:this.schema,tags:this.tags}}toString(){let me="Record: {\n";return me+=`  ID: ${this.id}\n`,me+=this.contextId?`  Context ID: ${this.contextId}\n`:"",me+=this.protocol?`  Protocol: ${this.protocol}\n`:"",me+=this.schema?`  Schema: ${this.schema}\n`:"",this.deleted||(me+=`  Data CID: ${this.dataCid}\n`,me+=`  Data Format: ${this.dataFormat}\n`,me+=`  Data Size: ${this.dataSize}\n`),me+=`  Deleted: ${this.deleted}\n`,me+=`  Created: ${this.dateCreated}\n`,me+=`  Modified: ${this.dateModified}\n`,me+="}",me}paginationCursor(me){return P(this,void 0,void 0,function*(){return(0,d.pO)(d.nx.RecordsWrite,this.rawMessage)?(0,d.X7)(this.rawMessage,me):void 0})}update(me){var{dateModified:ve,data:Ze}=me,qe=F(me,["dateModified","data"]);return P(this,void 0,void 0,function*(){if(!(0,d.pO)(d.nx.RecordsWrite,this.rawMessage)&&!this._initialWrite)throw new Error("If initial write is not set, the current rawRecord must be a RecordsWrite message.");const pt=this._recordsWriteDescriptor,{parentId:Vt}=pt,bn=F(pt,["parentId"]),Gt=Vt?this._contextId.split("/").slice(0,-1).join("/"):void 0;let an,bt=Object.assign(Object.assign(Object.assign({},bn),qe),{parentContextId:Gt,messageTimestamp:ve,recordId:this._recordId});((0,x.RI)(bt.tags)||null===bt.tags)&&delete bt.tags,void 0!==Ze&&(delete bt.dataCid,delete bt.dataSize,({dataBlob:an}=O(Ze,bt.dataFormat)));const Lr=new Set(["data","dataCid","dataSize","datePublished","messageTimestamp","published","tags"]);Xe.verifyPermittedMutation(Object.keys(qe),Lr),!1===qe.published&&void 0!==bt.datePublished&&delete bt.datePublished;const pi=yield this._agent.processDwnRequest({author:this._connectedDid,dataStream:an,messageParams:Object.assign({},bt),messageType:d.nx.RecordsWrite,target:this._connectedDid}),{message:si,reply:{status:hi}}=pi,Oi=si;return 200<=hi.code&&hi.code<=299&&(this._initialWrite||(this._initialWrite=Object.assign({},this.rawMessage)),this._authorization=Oi.authorization,this._protocolRole=qe.protocolRole,Lr.forEach(Wo=>{this._descriptor[Wo]=Oi.descriptor[Wo]}),void 0!==Ze&&(this._encodedData=an)),{status:hi}})}delete(me){return P(this,void 0,void 0,function*(){const ve=me||{},{store:Ze,signAsOwner:qe,dateModified:pt}=ve,Vt=F(ve,["store","signAsOwner","dateModified"]);let bn={messageType:d.nx.RecordsDelete,author:this._connectedDid,target:this._connectedDid,store:Ze,signAsOwner:qe};if(this.deleted){if(!this._initialWrite)throw new Error("If initial write is not set, the current rawRecord must be a RecordsWrite message.");bn.rawMessage=this.rawMessage}else bn.messageParams=Object.assign(Object.assign({},Vt),{recordId:this._recordId,messageTimestamp:pt});const Gt=yield this._agent.processDwnRequest(bn),{message:bt,reply:{status:an}}=Gt;return 202!==an.code||(this._initialWrite||(this._initialWrite=Object.assign({},this.rawMessage)),this._author=(0,d.dK)(bt),this._descriptor=bt.descriptor,this._authorization=bt.authorization,this._encodedData=void 0,this._encryption=void 0,this._attestation=void 0),{status:an}})}processRecord({store:me,signAsOwner:ve}){return P(this,void 0,void 0,function*(){if(this._initialWrite&&(ve&&!this._initialWriteSigned||me&&!this._initialWriteStored)){const Gt={messageType:d.nx.RecordsWrite,rawMessage:this.initialWrite,author:this._connectedDid,target:this._connectedDid,signAsOwner:ve,store:me},bt=yield this._agent.processDwnRequest(Gt),{message:an,reply:{status:Lr}}=bt,pi=an;200<=Lr.code&&Lr.code<=299&&(me&&(this._initialWriteStored=!0),ve&&(this._initialWriteSigned=!0,this.initialWrite.authorization=pi.authorization))}let Ze;Ze=this.deleted?{messageType:d.nx.RecordsDelete,rawMessage:this.rawMessage,author:this._connectedDid,target:this._connectedDid,signAsOwner:ve,store:me}:{messageType:d.nx.RecordsWrite,rawMessage:this.rawMessage,author:this._connectedDid,target:this._connectedDid,dataStream:yield this.data.blob(),signAsOwner:ve,store:me};const qe=yield this._agent.processDwnRequest(Ze),{message:pt,reply:{status:Vt}}=qe;return 200<=Vt.code&&Vt.code<=299&&ve&&(this._authorization=pt.authorization),{status:Vt}})}readRecordData({target:me,isRemote:ve}){return P(this,void 0,void 0,function*(){const Ze={author:this._connectedDid,messageParams:{filter:{recordId:this.id}},messageType:d.nx.RecordsRead,target:me},qe=ve?this._agent.sendDwnRequest(Ze):this._agent.processDwnRequest(Ze);try{const{reply:{status:pt,record:Vt}}=yield qe;if(200!==pt.code)throw new Error(`${pt.code}: ${pt.detail}`);const bn=Vt.data;return x.Z6.isReadableStream(bn)?x.VS.fromWebReadable({readableStream:bn}):bn}catch(pt){throw new Error(`Error encountered while attempting to read data: ${pt.message}`)}})}static verifyPermittedMutation(me,ve){for(const Ze of me)if(!ve.has(Ze))throw new Error(`${Ze} is an immutable property. Its value cannot be changed.`)}}return Xe._sendCache=A,Xe})();class X{constructor(Me,me,ve){this._agent=Me,this._metadata=ve,this._protocolsConfigureMessage=me}get definition(){return this._protocolsConfigureMessage.descriptor.definition}toJSON(){return this._protocolsConfigureMessage}send(Me){return function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})}(this,void 0,void 0,function*(){const{reply:me}=yield this._agent.sendDwnRequest({author:this._metadata.author,messageCid:this._metadata.messageCid,messageType:d.nx.ProtocolsConfigure,target:Me});return{status:me.status}})}}var j=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})};class re{constructor(Me){this.agent=Me.agent,this.connectedDid=Me.connectedDid}get protocols(){return{configure:Me=>j(this,void 0,void 0,function*(){const me=yield this.agent.processDwnRequest({author:this.connectedDid,messageParams:Me.message,messageType:d.nx.ProtocolsConfigure,target:this.connectedDid}),{message:ve,messageCid:Ze,reply:{status:qe}}=me,pt={status:qe};return qe.code<300&&(pt.protocol=new X(this.agent,ve,{author:this.connectedDid,messageCid:Ze})),pt}),query:Me=>j(this,void 0,void 0,function*(){const me={author:this.connectedDid,messageParams:Me.message,messageType:d.nx.ProtocolsQuery,target:Me.from||this.connectedDid};let ve;ve=Me.from?yield this.agent.sendDwnRequest(me):yield this.agent.processDwnRequest(me);const Ze=ve.reply,{entries:qe=[],status:pt}=Ze;return{protocols:qe.map(bn=>new X(this.agent,bn,{author:this.connectedDid})),status:pt}})}}get records(){return{create:Me=>j(this,void 0,void 0,function*(){return this.records.write(Me)}),createFrom:Me=>j(this,void 0,void 0,function*(){var me;const ve=Me.record.toJSON(),{author:Ze}=ve,qe=function(Xe,Me){var me={};for(var ve in Xe)Object.prototype.hasOwnProperty.call(Xe,ve)&&Me.indexOf(ve)<0&&(me[ve]=Xe[ve]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(Xe);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ve[Ze])&&(me[ve[Ze]]=Xe[ve[Ze]])}return me}(ve,["author"]);return void 0!==Me.data&&(delete qe.dataCid,delete qe.dataSize),!1===(null===(me=Me.message)||void 0===me?void 0:me.published)&&void 0!==qe.datePublished&&(delete qe.datePublished,delete qe.published),(!(0,x.RI)(Me.message)||Me.author&&Me.author!==Ze)&&delete qe.recordId,this.records.write({data:Me.data,message:Object.assign(Object.assign({},qe),Me.message)})}),delete:Me=>j(this,void 0,void 0,function*(){const me={author:this.connectedDid,messageParams:Me.message,messageType:d.nx.RecordsDelete,target:Me.from||this.connectedDid};let ve;ve=Me.from?yield this.agent.sendDwnRequest(me):yield this.agent.processDwnRequest(me);const{reply:{status:Ze}}=ve;return{status:Ze}}),query:Me=>j(this,void 0,void 0,function*(){const me={author:this.connectedDid,messageParams:Me.message,messageType:d.nx.RecordsQuery,target:Me.from||this.connectedDid};let ve;ve=Me.from?yield this.agent.sendDwnRequest(me):yield this.agent.processDwnRequest(me);const Ze=ve.reply,{entries:qe,status:pt,cursor:Vt}=Ze;return{records:qe.map(Gt=>{const bt=Object.assign({author:(0,d.dK)(Gt),connectedDid:this.connectedDid,remoteOrigin:Me.from},Gt);return new L(this.agent,bt)}),status:pt,cursor:Vt}}),read:Me=>j(this,void 0,void 0,function*(){const me={author:this.connectedDid,messageParams:Me.message,messageType:d.nx.RecordsRead,target:Me.from||this.connectedDid};let ve;ve=Me.from?yield this.agent.sendDwnRequest(me):yield this.agent.processDwnRequest(me);const{reply:{record:Ze,status:qe}}=ve;let pt;if(200<=qe.code&&qe.code<=299){const Vt=Object.assign({author:(0,d.dK)(Ze),connectedDid:this.connectedDid,remoteOrigin:Me.from},Ze);pt=new L(this.agent,Vt)}return{record:pt,status:qe}}),write:Me=>j(this,void 0,void 0,function*(){var me;const{dataBlob:ve,dataFormat:Ze}=O(Me.data,null===(me=Me.message)||void 0===me?void 0:me.dataFormat),qe=yield this.agent.processDwnRequest({author:this.connectedDid,dataStream:ve,messageParams:Object.assign(Object.assign({},Me.message),{dataFormat:Ze}),messageType:d.nx.RecordsWrite,store:Me.store,target:this.connectedDid}),{message:pt,reply:{status:Vt}}=qe;let bn;if(200<=Vt.code&&Vt.code<=299){const Gt=Object.assign({author:this.connectedDid,connectedDid:this.connectedDid,encodedData:ve},pt);bn=new L(this.agent,Gt)}return{record:bn,status:Vt}})}}}class J{constructor(Me){this.agent=Me.agent,this.connectedDid=Me.connectedDid}create(){return Xe=this,Me=void 0,ve=function*(){throw new Error("Not implemented.")},new((me=void 0)||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())});var Xe,Me,me,ve}}var Z=function(Xe){return Xe.authentication="authentication",Xe.assertionMethod="assertionMethod",Xe.keyAgreement="keyAgreement",Xe.capabilityInvocation="capabilityInvocation",Xe.capabilityDelegation="capabilityDelegation",Xe}(Z||{});const ie={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class ae{constructor({method:Me,id:me,path:ve,query:Ze,fragment:qe,params:pt}){this.uri=`did:${Me}:${me}`,this.method=Me,this.id=me,this.path=ve,this.query=Ze,this.fragment=qe,this.params=pt}static parse(Me){if(!Me)return null;const me=ae.DID_URI_PATTERN.exec(Me);if(!me||!me.groups)return null;const{method:ve,id:Ze,path:qe,query:pt,fragment:Vt}=me.groups,bn={uri:`did:${ve}:${Ze}`,method:ve,id:Ze};if(qe&&(bn.path=qe),pt&&(bn.query=pt.slice(1)),Vt&&(bn.fragment=Vt.slice(1)),pt){const Gt={},bt=pt.slice(1).split("&");for(const an of bt){const[Lr,pi]=an.split("=");Gt[Lr]=pi}bn.params=Gt}return bn}}ae.METHOD_PATTERN="([a-z0-9]+)",ae.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",ae.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${ae.PCT_ENCODED_PATTERN})`,ae.METHOD_ID_PATTERN=`((?:${ae.ID_CHAR_PATTERN}*:)*(${ae.ID_CHAR_PATTERN}+))`,ae.PATH_PATTERN="(/[^#?]*)?",ae.QUERY_PATTERN="([?][^#]*)?",ae.FRAGMENT_PATTERN="(#.*)?",ae.DID_URI_PATTERN=new RegExp(`^did:(?<method>${ae.METHOD_PATTERN}):(?<id>${ae.METHOD_ID_PATTERN})(?<path>${ae.PATH_PATTERN})(?<query>${ae.QUERY_PATTERN})(?<fragment>${ae.FRAGMENT_PATTERN})$`);class se extends Error{constructor(Me,me){super(`${Me}: ${me}`),this.code=Me,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,se)}}var de=function(Xe){return Xe.InvalidDid="invalidDid",Xe.MethodNotSupported="methodNotSupported",Xe.InternalError="internalError",Xe.InvalidDidDocument="invalidDidDocument",Xe.InvalidDidDocumentLength="invalidDidDocumentLength",Xe.InvalidDidUrl="invalidDidUrl",Xe.InvalidPreviousDidProof="invalidPreviousDidProof",Xe.InvalidPublicKey="invalidPublicKey",Xe.InvalidPublicKeyLength="invalidPublicKeyLength",Xe.InvalidPublicKeyType="invalidPublicKeyType",Xe.InvalidSignature="invalidSignature",Xe.NotFound="notFound",Xe.RepresentationNotSupported="representationNotSupported",Xe.UnsupportedPublicKeyType="unsupportedPublicKeyType",Xe}(de||{}),le=w(47565);class xe{static digest({data:Me}){return function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})}(this,void 0,void 0,function*(){return(0,le.s)(Me)})}}class ke{}var f=w(94256),y=w(91006);const T="urn:jwk:";function B({jwk:Xe}){return function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})}(this,void 0,void 0,function*(){const Me=Xe.kty;let me;if("EC"===Me)me={crv:Xe.crv,kty:Xe.kty,x:Xe.x,y:Xe.y};else if("oct"===Me)me={k:Xe.k,kty:Xe.kty};else if("OKP"===Me)me={crv:Xe.crv,kty:Xe.kty,x:Xe.x};else{if("RSA"!==Me)throw new Error(`Unsupported key type: ${Me}`);me={e:Xe.e,kty:Xe.kty,n:Xe.n}}(0,x.E8)(me);const ve=function g(Xe){const Me=ve=>{if(null!==ve&&"object"==typeof ve&&!Array.isArray(ve)){const Ze=Object.keys(ve).sort(),qe={};for(const pt of Ze)qe[pt]=Me(ve[pt]);return qe}return ve},me=Me(Xe);return JSON.stringify(me)}(me),Ze=x.U$.string(ve).toUint8Array(),qe=yield xe.digest({data:Ze});return x.U$.uint8Array(qe).toBase64Url()})}function S(Xe){return!(!Xe||"object"!=typeof Xe||!("kty"in Xe&&"crv"in Xe&&"x"in Xe&&"d"in Xe)||"EC"!==Xe.kty||"string"!=typeof Xe.d||"string"!=typeof Xe.x)}function s(Xe){return!(!Xe||"object"!=typeof Xe||!("kty"in Xe&&"crv"in Xe&&"x"in Xe)||"d"in Xe||"EC"!==Xe.kty||"string"!=typeof Xe.x)}function W(Xe){return!(!Xe||"object"!=typeof Xe||!("kty"in Xe&&"crv"in Xe&&"x"in Xe&&"d"in Xe)||"OKP"!==Xe.kty||"string"!=typeof Xe.d||"string"!=typeof Xe.x)}function K(Xe){return!(!Xe||"object"!=typeof Xe||"d"in Xe||!("kty"in Xe&&"crv"in Xe&&"x"in Xe)||"OKP"!==Xe.kty||"string"!=typeof Xe.x)}var _e=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})};class Ve{static adjustSignatureToLowS({signature:Me}){return _e(this,void 0,void 0,function*(){const me=f.bI.Signature.fromCompact(Me);return me.hasHighS()?me.normalizeS().toCompactRawBytes():Me})}static bytesToPrivateKey({privateKeyBytes:Me}){return _e(this,void 0,void 0,function*(){const me=yield Ve.getCurvePoint({keyBytes:Me}),ve={kty:"EC",crv:"secp256k1",d:x.U$.uint8Array(Me).toBase64Url(),x:x.U$.uint8Array(me.x).toBase64Url(),y:x.U$.uint8Array(me.y).toBase64Url()};return ve.kid=yield B({jwk:ve}),ve})}static bytesToPublicKey({publicKeyBytes:Me}){return _e(this,void 0,void 0,function*(){const me=yield Ve.getCurvePoint({keyBytes:Me}),ve={kty:"EC",crv:"secp256k1",x:x.U$.uint8Array(me.x).toBase64Url(),y:x.U$.uint8Array(me.y).toBase64Url()};return ve.kid=yield B({jwk:ve}),ve})}static compressPublicKey({publicKeyBytes:Me}){return _e(this,void 0,void 0,function*(){return f.bI.ProjectivePoint.fromHex(Me).toRawBytes(!0)})}static computePublicKey({key:Me}){return _e(this,void 0,void 0,function*(){const me=yield Ve.privateKeyToBytes({privateKey:Me}),ve=yield Ve.getCurvePoint({keyBytes:me}),Ze={kty:"EC",crv:"secp256k1",x:x.U$.uint8Array(ve.x).toBase64Url(),y:x.U$.uint8Array(ve.y).toBase64Url()};return Ze.kid=yield B({jwk:Ze}),Ze})}static convertDerToCompactSignature({derSignature:Me}){return _e(this,void 0,void 0,function*(){return f.bI.Signature.fromDER(Me).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:Me}){return _e(this,void 0,void 0,function*(){return f.bI.ProjectivePoint.fromHex(Me).toRawBytes(!1)})}static generateKey(){return _e(this,void 0,void 0,function*(){const Me=f.bI.utils.randomPrivateKey(),me=yield Ve.bytesToPrivateKey({privateKeyBytes:Me});return me.kid=yield B({jwk:me}),me})}static getPublicKey({key:Me}){var me;return _e(this,void 0,void 0,function*(){if(!S(Me)||"secp256k1"!==Me.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let Ze=function(Xe,Me){var me={};for(var ve in Xe)Object.prototype.hasOwnProperty.call(Xe,ve)&&Me.indexOf(ve)<0&&(me[ve]=Xe[ve]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(Xe);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ve[Ze])&&(me[ve[Ze]]=Xe[ve[Ze]])}return me}(Me,["d"]);return null!==(me=Ze.kid)&&void 0!==me||(Ze.kid=yield B({jwk:Ze})),Ze})}static privateKeyToBytes({privateKey:Me}){return _e(this,void 0,void 0,function*(){if(!S(Me))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return x.U$.base64Url(Me.d).toUint8Array()})}static publicKeyToBytes({publicKey:Me}){return _e(this,void 0,void 0,function*(){if(!s(Me)||!Me.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const me=new Uint8Array([4]),ve=x.U$.base64Url(Me.x).toUint8Array(),Ze=x.U$.base64Url(Me.y).toUint8Array();return new Uint8Array([...me,...ve,...Ze])})}static sharedSecret({privateKeyA:Me,publicKeyB:me}){return _e(this,void 0,void 0,function*(){if("x"in Me&&"x"in me&&Me.x===me.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const ve=yield Ve.privateKeyToBytes({privateKey:Me}),Ze=yield Ve.publicKeyToBytes({publicKey:me});return f.bI.getSharedSecret(ve,Ze,!0).slice(1)})}static sign({data:Me,key:me}){return _e(this,void 0,void 0,function*(){const ve=yield Ve.privateKeyToBytes({privateKey:me}),Ze=(0,le.s)(Me);return f.bI.sign(Ze,ve).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:Me}){return _e(this,void 0,void 0,function*(){return f.bI.utils.isValidPrivateKey(Me)})}static validatePublicKey({publicKeyBytes:Me}){return _e(this,void 0,void 0,function*(){try{f.bI.ProjectivePoint.fromHex(Me).assertValidity()}catch{return!1}return!0})}static verify({key:Me,signature:me,data:ve}){return _e(this,void 0,void 0,function*(){const Ze=yield Ve.publicKeyToBytes({publicKey:Me}),qe=(0,le.s)(ve);return f.bI.verify(me,qe,Ze,{lowS:!1})})}static getCurvePoint({keyBytes:Me}){return _e(this,void 0,void 0,function*(){32===Me.byteLength&&(Me=f.bI.getPublicKey(Me));const me=f.bI.ProjectivePoint.fromHex(Me);return{x:(0,y.lq)(me.x,32),y:(0,y.lq)(me.y,32)}})}}var Se=w(40499),we=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})};class ye{static adjustSignatureToLowS({signature:Me}){return we(this,void 0,void 0,function*(){const me=Se.Ag.Signature.fromCompact(Me);return me.hasHighS()?me.normalizeS().toCompactRawBytes():Me})}static bytesToPrivateKey({privateKeyBytes:Me}){return we(this,void 0,void 0,function*(){const me=yield ye.getCurvePoint({keyBytes:Me}),ve={kty:"EC",crv:"P-256",d:x.U$.uint8Array(Me).toBase64Url(),x:x.U$.uint8Array(me.x).toBase64Url(),y:x.U$.uint8Array(me.y).toBase64Url()};return ve.kid=yield B({jwk:ve}),ve})}static bytesToPublicKey({publicKeyBytes:Me}){return we(this,void 0,void 0,function*(){const me=yield ye.getCurvePoint({keyBytes:Me}),ve={kty:"EC",crv:"P-256",x:x.U$.uint8Array(me.x).toBase64Url(),y:x.U$.uint8Array(me.y).toBase64Url()};return ve.kid=yield B({jwk:ve}),ve})}static compressPublicKey({publicKeyBytes:Me}){return we(this,void 0,void 0,function*(){return Se.Ag.ProjectivePoint.fromHex(Me).toRawBytes(!0)})}static computePublicKey({key:Me}){return we(this,void 0,void 0,function*(){const me=yield ye.privateKeyToBytes({privateKey:Me}),ve=yield ye.getCurvePoint({keyBytes:me}),Ze={kty:"EC",crv:"P-256",x:x.U$.uint8Array(ve.x).toBase64Url(),y:x.U$.uint8Array(ve.y).toBase64Url()};return Ze.kid=yield B({jwk:Ze}),Ze})}static convertDerToCompactSignature({derSignature:Me}){return we(this,void 0,void 0,function*(){return Se.Ag.Signature.fromDER(Me).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:Me}){return we(this,void 0,void 0,function*(){return Se.Ag.ProjectivePoint.fromHex(Me).toRawBytes(!1)})}static generateKey(){return we(this,void 0,void 0,function*(){const Me=Se.Ag.utils.randomPrivateKey(),me=yield ye.bytesToPrivateKey({privateKeyBytes:Me});return me.kid=yield B({jwk:me}),me})}static getPublicKey({key:Me}){var me;return we(this,void 0,void 0,function*(){if(!S(Me)||"P-256"!==Me.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let Ze=function(Xe,Me){var me={};for(var ve in Xe)Object.prototype.hasOwnProperty.call(Xe,ve)&&Me.indexOf(ve)<0&&(me[ve]=Xe[ve]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(Xe);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ve[Ze])&&(me[ve[Ze]]=Xe[ve[Ze]])}return me}(Me,["d"]);return null!==(me=Ze.kid)&&void 0!==me||(Ze.kid=yield B({jwk:Ze})),Ze})}static privateKeyToBytes({privateKey:Me}){return we(this,void 0,void 0,function*(){if(!S(Me))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return x.U$.base64Url(Me.d).toUint8Array()})}static publicKeyToBytes({publicKey:Me}){return we(this,void 0,void 0,function*(){if(!s(Me)||!Me.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const me=new Uint8Array([4]),ve=x.U$.base64Url(Me.x).toUint8Array(),Ze=x.U$.base64Url(Me.y).toUint8Array();return new Uint8Array([...me,...ve,...Ze])})}static sharedSecret({privateKeyA:Me,publicKeyB:me}){return we(this,void 0,void 0,function*(){if("x"in Me&&"x"in me&&Me.x===me.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const ve=yield ye.privateKeyToBytes({privateKey:Me}),Ze=yield ye.publicKeyToBytes({publicKey:me});return Se.Ag.getSharedSecret(ve,Ze,!0).slice(1)})}static sign({data:Me,key:me}){return we(this,void 0,void 0,function*(){const ve=yield ye.privateKeyToBytes({privateKey:me}),Ze=(0,le.s)(Me);return Se.Ag.sign(Ze,ve).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:Me}){return we(this,void 0,void 0,function*(){return Se.Ag.utils.isValidPrivateKey(Me)})}static validatePublicKey({publicKeyBytes:Me}){return we(this,void 0,void 0,function*(){try{Se.Ag.ProjectivePoint.fromHex(Me).assertValidity()}catch{return!1}return!0})}static verify({key:Me,signature:me,data:ve}){return we(this,void 0,void 0,function*(){const Ze=yield ye.publicKeyToBytes({publicKey:Me}),qe=(0,le.s)(ve);return Se.Ag.verify(me,qe,Ze,{lowS:!1})})}static getCurvePoint({keyBytes:Me}){return we(this,void 0,void 0,function*(){32===Me.byteLength&&(Me=Se.Ag.getPublicKey(Me));const me=Se.Ag.ProjectivePoint.fromHex(Me);return{x:(0,y.lq)(me.x,32),y:(0,y.lq)(me.y,32)}})}}var De=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})};class pe extends ke{computePublicKey({key:Me}){return De(this,void 0,void 0,function*(){if(!S(Me))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Me.crv){case"secp256k1":{const me=yield Ve.computePublicKey({key:Me});return me.alg="ES256K",me}case"P-256":{const me=yield ye.computePublicKey({key:Me});return me.alg="ES256",me}default:throw new Error(`Unsupported curve: ${Me.crv}`)}})}generateKey({algorithm:Me}){return De(this,void 0,void 0,function*(){switch(Me){case"ES256K":case"secp256k1":{const me=yield Ve.generateKey();return me.alg="ES256K",me}case"ES256":case"secp256r1":{const me=yield ye.generateKey();return me.alg="ES256",me}}})}getPublicKey({key:Me}){return De(this,void 0,void 0,function*(){if(!S(Me))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Me.crv){case"secp256k1":{const me=yield Ve.getPublicKey({key:Me});return me.alg="ES256K",me}case"P-256":{const me=yield ye.getPublicKey({key:Me});return me.alg="ES256",me}default:throw new Error(`Unsupported curve: ${Me.crv}`)}})}sign({key:Me,data:me}){return De(this,void 0,void 0,function*(){if(!S(Me))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Me.crv){case"secp256k1":return yield Ve.sign({key:Me,data:me});case"P-256":return yield ye.sign({key:Me,data:me});default:throw new Error(`Unsupported curve: ${Me.crv}`)}})}verify({key:Me,signature:me,data:ve}){return De(this,void 0,void 0,function*(){if(!s(Me))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(Me.crv){case"secp256k1":return yield Ve.verify({key:Me,signature:me,data:ve});case"P-256":return yield ye.verify({key:Me,signature:me,data:ve});default:throw new Error(`Unsupported curve: ${Me.crv}`)}})}}var ue=w(86295),Q=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})};class fe{static bytesToPrivateKey({privateKeyBytes:Me}){return Q(this,void 0,void 0,function*(){const me=ue.ev.getPublicKey(Me),ve={crv:"Ed25519",d:x.U$.uint8Array(Me).toBase64Url(),kty:"OKP",x:x.U$.uint8Array(me).toBase64Url()};return ve.kid=yield B({jwk:ve}),ve})}static bytesToPublicKey({publicKeyBytes:Me}){return Q(this,void 0,void 0,function*(){const me={kty:"OKP",crv:"Ed25519",x:x.U$.uint8Array(Me).toBase64Url()};return me.kid=yield B({jwk:me}),me})}static computePublicKey({key:Me}){return Q(this,void 0,void 0,function*(){const me=yield fe.privateKeyToBytes({privateKey:Me}),ve=ue.ev.getPublicKey(me),Ze={kty:"OKP",crv:"Ed25519",x:x.U$.uint8Array(ve).toBase64Url()};return Ze.kid=yield B({jwk:Ze}),Ze})}static convertPrivateKeyToX25519({privateKey:Me}){return Q(this,void 0,void 0,function*(){const me=yield fe.privateKeyToBytes({privateKey:Me}),ve=(0,ue.OA)(me),Ze=ue.TU.getPublicKey(ve),qe={kty:"OKP",crv:"X25519",d:x.U$.uint8Array(ve).toBase64Url(),x:x.U$.uint8Array(Ze).toBase64Url()};return qe.kid=yield B({jwk:qe}),qe})}static convertPublicKeyToX25519({publicKey:Me}){return Q(this,void 0,void 0,function*(){const me=yield fe.publicKeyToBytes({publicKey:Me});if(!(yield fe.validatePublicKey({publicKeyBytes:me})))throw new Error("Ed25519: Invalid public key.");const Ze=(0,ue.GU)(me),qe={kty:"OKP",crv:"X25519",x:x.U$.uint8Array(Ze).toBase64Url()};return qe.kid=yield B({jwk:qe}),qe})}static generateKey(){return Q(this,void 0,void 0,function*(){const Me=ue.ev.utils.randomPrivateKey(),me=yield fe.bytesToPrivateKey({privateKeyBytes:Me});return me.kid=yield B({jwk:me}),me})}static getPublicKey({key:Me}){var me;return Q(this,void 0,void 0,function*(){if(!W(Me)||"Ed25519"!==Me.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let Ze=function(Xe,Me){var me={};for(var ve in Xe)Object.prototype.hasOwnProperty.call(Xe,ve)&&Me.indexOf(ve)<0&&(me[ve]=Xe[ve]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(Xe);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ve[Ze])&&(me[ve[Ze]]=Xe[ve[Ze]])}return me}(Me,["d"]);return null!==(me=Ze.kid)&&void 0!==me||(Ze.kid=yield B({jwk:Ze})),Ze})}static privateKeyToBytes({privateKey:Me}){return Q(this,void 0,void 0,function*(){if(!W(Me))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return x.U$.base64Url(Me.d).toUint8Array()})}static publicKeyToBytes({publicKey:Me}){return Q(this,void 0,void 0,function*(){if(!K(Me))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return x.U$.base64Url(Me.x).toUint8Array()})}static sign({key:Me,data:me}){return Q(this,void 0,void 0,function*(){const ve=yield fe.privateKeyToBytes({privateKey:Me});return ue.ev.sign(me,ve)})}static validatePublicKey({publicKeyBytes:Me}){return Q(this,void 0,void 0,function*(){try{ue.ev.ExtendedPoint.fromHex(Me).assertValidity()}catch{return!1}return!0})}static verify({key:Me,signature:me,data:ve}){return Q(this,void 0,void 0,function*(){const Ze=yield fe.publicKeyToBytes({publicKey:Me});return ue.ev.verify(me,ve,Ze)})}}var Ee=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})},$e=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})};const Fe={Ed25519:{implementation:class Re extends ke{computePublicKey({key:Me}){return Ee(this,void 0,void 0,function*(){if(!W(Me))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Me.crv){const me=yield fe.computePublicKey({key:Me});return me.alg="EdDSA",me}throw new Error(`Unsupported curve: ${Me.crv}`)})}generateKey({algorithm:Me}){return Ee(this,void 0,void 0,function*(){if("Ed25519"===Me){const me=yield fe.generateKey();return me.alg="EdDSA",me}})}getPublicKey({key:Me}){return Ee(this,void 0,void 0,function*(){if(!W(Me))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Me.crv){const me=yield fe.getPublicKey({key:Me});return me.alg="EdDSA",me}throw new Error(`Unsupported curve: ${Me.crv}`)})}sign({key:Me,data:me}){return Ee(this,void 0,void 0,function*(){if(!W(Me))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Me.crv)return yield fe.sign({key:Me,data:me});throw new Error(`Unsupported curve: ${Me.crv}`)})}verify({key:Me,signature:me,data:ve}){return Ee(this,void 0,void 0,function*(){if(!K(Me))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===Me.crv)return yield fe.verify({key:Me,signature:me,data:ve});throw new Error(`Unsupported curve: ${Me.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:pe,names:["ES256K","secp256k1"]},secp256r1:{implementation:pe,names:["ES256","secp256r1"]},"SHA-256":{implementation:class a extends ke{digest({algorithm:Me,data:me}){return function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===Me)return yield xe.digest({data:me})})}},names:["SHA-256"]}};class _t{constructor(Me){var me;this._algorithmInstances=new Map,this._keyStore=null!==(me=Me?.keyStore)&&void 0!==me?me:new x.ny}digest({algorithm:Me,data:me}){return $e(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:Me}).digest({algorithm:Me,data:me})})}exportKey({keyUri:Me}){return $e(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:Me})})}generateKey({algorithm:Me}){return $e(this,void 0,void 0,function*(){const ve=yield this.getAlgorithm({algorithm:Me}).generateKey({algorithm:Me});if(void 0===ve?.kid)throw new Error("Generated key is missing a required property: kid");const Ze=`${T}${ve.kid}`;return yield this._keyStore.set(Ze,ve),Ze})}getKeyUri({key:Me}){return $e(this,void 0,void 0,function*(){const me=yield B({jwk:Me});return`${T}${me}`})}getPublicKey({keyUri:Me}){return $e(this,void 0,void 0,function*(){const me=yield this.getPrivateKey({keyUri:Me}),ve=this.getAlgorithmName({key:me});return yield this.getAlgorithm({algorithm:ve}).getPublicKey({key:me})})}importKey({key:Me}){var me;return $e(this,void 0,void 0,function*(){if(!function ee(Xe){if(!Xe||"object"!=typeof Xe)return!1;switch(Xe.kty){case"EC":case"OKP":case"RSA":return"d"in Xe;case"oct":return"k"in Xe;default:return!1}}(Me))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const ve=structuredClone(Me);null!==(me=ve.kid)&&void 0!==me||(ve.kid=yield B({jwk:ve}));const Ze=yield this.getKeyUri({key:ve});return yield this._keyStore.set(Ze,ve),Ze})}sign({keyUri:Me,data:me}){return $e(this,void 0,void 0,function*(){const ve=yield this.getPrivateKey({keyUri:Me}),Ze=this.getAlgorithmName({key:ve});return this.getAlgorithm({algorithm:Ze}).sign({data:me,key:ve})})}verify({key:Me,signature:me,data:ve}){return $e(this,void 0,void 0,function*(){const Ze=this.getAlgorithmName({key:Me});return this.getAlgorithm({algorithm:Ze}).verify({key:Me,signature:me,data:ve})})}getAlgorithm({algorithm:Me}){var me;const ve=null===(me=Fe[Me])||void 0===me?void 0:me.implementation;if(!ve)throw new Error(`Algorithm not supported: ${Me}`);return this._algorithmInstances.has(ve)||this._algorithmInstances.set(ve,new ve),this._algorithmInstances.get(ve)}getAlgorithmName({key:Me}){const me=Me.alg,ve=Me.crv;for(const Ze in Fe){const qe=Fe[Ze];if(me&&qe.names.includes(me))return Ze;if(ve&&qe.names.includes(ve))return Ze}throw new Error(`Unable to determine algorithm based on provided input: alg=${me}, crv=${ve}`)}getPrivateKey({keyUri:Me}){return $e(this,void 0,void 0,function*(){const me=yield this._keyStore.get(Me);if(!me)throw new Error(`Key not found: ${Me}`);return me})}}function _(Xe){const Me={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(Xe.alg&&Object.values(Me).includes(Xe.alg))return Xe.alg;if(Xe.crv&&Object.keys(Me).includes(Xe.crv))return Me[Xe.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${Xe.alg}, crv=${Xe.crv}. Supported 'alg' values: ${Object.values(Me).join(", ")}. Supported 'crv' values: ${Object.keys(Me).join(", ")}.`)}w(86703),w(62953),w(91879);var Mt=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})};class nt{static bytesToPrivateKey({privateKeyBytes:Me}){return Mt(this,void 0,void 0,function*(){const me=ue.TU.getPublicKey(Me),ve={kty:"OKP",crv:"X25519",d:x.U$.uint8Array(Me).toBase64Url(),x:x.U$.uint8Array(me).toBase64Url()};return ve.kid=yield B({jwk:ve}),ve})}static bytesToPublicKey({publicKeyBytes:Me}){return Mt(this,void 0,void 0,function*(){const me={kty:"OKP",crv:"X25519",x:x.U$.uint8Array(Me).toBase64Url()};return me.kid=yield B({jwk:me}),me})}static computePublicKey({key:Me}){return Mt(this,void 0,void 0,function*(){const me=yield nt.privateKeyToBytes({privateKey:Me}),ve=ue.TU.getPublicKey(me),Ze={kty:"OKP",crv:"X25519",x:x.U$.uint8Array(ve).toBase64Url()};return Ze.kid=yield B({jwk:Ze}),Ze})}static generateKey(){return Mt(this,void 0,void 0,function*(){const Me=ue.TU.utils.randomPrivateKey(),me=yield nt.bytesToPrivateKey({privateKeyBytes:Me});return me.kid=yield B({jwk:me}),me})}static getPublicKey({key:Me}){var me;return Mt(this,void 0,void 0,function*(){if(!W(Me)||"X25519"!==Me.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let Ze=function(Xe,Me){var me={};for(var ve in Xe)Object.prototype.hasOwnProperty.call(Xe,ve)&&Me.indexOf(ve)<0&&(me[ve]=Xe[ve]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(Xe);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ve[Ze])&&(me[ve[Ze]]=Xe[ve[Ze]])}return me}(Me,["d"]);return null!==(me=Ze.kid)&&void 0!==me||(Ze.kid=yield B({jwk:Ze})),Ze})}static privateKeyToBytes({privateKey:Me}){return Mt(this,void 0,void 0,function*(){if(!W(Me))throw new Error("X25519: The provided key is not a valid OKP private key.");return x.U$.base64Url(Me.d).toUint8Array()})}static publicKeyToBytes({publicKey:Me}){return Mt(this,void 0,void 0,function*(){if(!K(Me))throw new Error("X25519: The provided key is not a valid OKP public key.");return x.U$.base64Url(Me.x).toUint8Array()})}static sharedSecret({privateKeyA:Me,publicKeyB:me}){return Mt(this,void 0,void 0,function*(){if("x"in Me&&"x"in me&&Me.x===me.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const ve=yield nt.privateKeyToBytes({privateKey:Me}),Ze=yield nt.publicKeyToBytes({publicKey:me});return ue.TU.getSharedSecret(ve,Ze)})}}function Lt(Xe){if("string"==typeof Xe&&0!==Xe.length)return Xe.split("#").pop()}function er(Xe){return!(!Xe||"object"!=typeof Xe||null===Xe||!("id"in Xe&&"type"in Xe&&"controller"in Xe)||"string"!=typeof Xe.id||"string"!=typeof Xe.type||"string"!=typeof Xe.controller)}w(94730);var Br=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})};class jr{constructor({uri:Me,document:me,metadata:ve,keyManager:Ze}){this.uri=Me,this.document=me,this.metadata=ve,this.keyManager=Ze}export(){return Br(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let Me={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const me=[];for(let ve of this.document.verificationMethod){if(!ve.publicKeyJwk)throw new Error(`Verification method '${ve.id}' does not contain a public key in JWK format`);const Ze=yield this.keyManager.getKeyUri({key:ve.publicKeyJwk}),qe=yield this.keyManager.exportKey({keyUri:Ze});me.push(Object.assign({},qe))}Me.privateKeys=me}return Me})}getSigner(Me){return Br(this,void 0,void 0,function*(){var me;const ve=null===(me=this.document.verificationMethod)||void 0===me?void 0:me.find(bn=>{var Gt,bt;return Lt(bn.id)===(null!==(Gt=Lt(Me?.methodId))&&void 0!==Gt?Gt:Lt(null===(bt=this.document.assertionMethod)||void 0===bt?void 0:bt[0]))});if(!ve||!ve.publicKeyJwk)throw new se(de.InternalError,"A verification method intended for signing could not be determined from the DID Document");const Ze=yield this.keyManager.getKeyUri({key:ve.publicKeyJwk}),qe=yield this.keyManager.getPublicKey({keyUri:Ze}),pt=this.keyManager;return{algorithm:_(qe),keyId:ve.id,sign(bn){return Br(this,arguments,void 0,function*({data:Gt}){return yield pt.sign({data:Gt,keyUri:Ze})})},verify(bn){return Br(this,arguments,void 0,function*({data:Gt,signature:bt}){return yield pt.verify({data:Gt,key:qe,signature:bt})})}}})}static import(Me){return Br(this,arguments,void 0,function*({portableDid:me,keyManager:ve=new _t}){var Ze;const qe=function Ne({didDocument:Xe}){var Me,me;if(!Xe)throw new TypeError("Required parameter missing: 'didDocument'");const ve=[];return ve.push(...null!==(me=null===(Me=Xe.verificationMethod)||void 0===Me?void 0:Me.filter(er))&&void 0!==me?me:[]),Object.keys(Z).forEach(Ze=>{var qe,pt;ve.push(...null!==(pt=null===(qe=Xe[Ze])||void 0===qe?void 0:qe.filter(er))&&void 0!==pt?pt:[])}),ve}({didDocument:me.document});if(0===qe.length)throw new se(de.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let Vt of null!==(Ze=me.privateKeys)&&void 0!==Ze?Ze:[])yield ve.importKey({key:Vt});for(let Vt of qe){if(!Vt.publicKeyJwk)throw new Error(`Verification method '${Vt.id}' does not contain a public key in JWK format`);const bn=yield ve.getKeyUri({key:Vt.publicKeyJwk});yield ve.getPublicKey({keyUri:bn})}return new jr({uri:me.uri,document:me.document,metadata:me.metadata,keyManager:ve})})}}var Zr=w(2198),tn=w(49402),_n=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})};class Tn{static getSigningMethod(Me){return _n(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(Me,me){return _n(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var jn=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})},fr=function(Xe,Me){var me={};for(var ve in Xe)Object.prototype.hasOwnProperty.call(Xe,ve)&&Me.indexOf(ve)<0&&(me[ve]=Xe[ve]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(Xe);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ve[Ze])&&(me[ve[Ze]]=Xe[ve[Ze]])}return me};const Ar="https://diddht.tbddev.org",zr=7200,ii=",";var To=function(Xe){return Xe[Xe.Discoverable=0]="Discoverable",Xe[Xe.Organization=1]="Organization",Xe[Xe.Government=2]="Government",Xe[Xe.Corporation=3]="Corporation",Xe[Xe.LocalBusiness=4]="LocalBusiness",Xe[Xe.SoftwarePackage=5]="SoftwarePackage",Xe[Xe.WebApp=6]="WebApp",Xe[Xe.FinancialInstitution=7]="FinancialInstitution",Xe}(To||{}),bi=function(Xe){return Xe[Xe.Ed25519=0]="Ed25519",Xe[Xe.secp256k1=1]="secp256k1",Xe[Xe.secp256r1=2]="secp256r1",Xe[Xe.X25519=3]="X25519",Xe}(bi||{}),Po=function(Xe){return Xe.authentication="auth",Xe.assertionMethod="asm",Xe.capabilityDelegation="del",Xe.capabilityInvocation="inv",Xe.keyAgreement="agm",Xe}(Po||{});const Bo={Ed25519:bi.Ed25519,ES256K:bi.secp256k1,ES256:bi.secp256r1,"P-256":bi.secp256r1,secp256k1:bi.secp256k1,secp256r1:bi.secp256r1,X25519:bi.X25519},Ho={[bi.Ed25519]:"Ed25519",[bi.secp256k1]:"ES256K",[bi.secp256r1]:"ES256",[bi.X25519]:"ECDH-ES+A256KW"};let Fi=(()=>{class Xe extends Tn{static create(){return jn(this,arguments,void 0,function*({keyManager:me=new _t,options:ve={}}={}){var Ze,qe,pt,Vt,bn,Gt,bt,an,Lr,pi,si;if(null!==(Ze=ve.verificationMethods)&&void 0!==Ze&&Ze.some($r=>!($r.algorithm in Bo)))throw new Error("One or more verification method algorithms are not supported");const hi=null===(qe=ve.verificationMethods)||void 0===qe?void 0:qe.filter($r=>"id"in $r).map($r=>$r.id);if(hi&&hi.length!==new Set(hi).size)throw new Error("One or more verification method IDs are not unique");if(null!==(pt=ve.services)&&void 0!==pt&&pt.some($r=>!$r.id||!$r.type||!$r.serviceEndpoint))throw new Error("One or more services are missing required properties");const Oi=yield me.generateKey({algorithm:"Ed25519"}),Wo=yield me.getPublicKey({keyUri:Oi}),mi=yield Ni.identityKeyToIdentifier({identityKey:Wo}),Cr=Object.assign(Object.assign({id:mi},ve.alsoKnownAs&&{alsoKnownAs:ve.alsoKnownAs}),ve.controllers&&{controller:ve.controllers}),ki=[...null!==(Vt=ve.verificationMethods)&&void 0!==Vt?Vt:[]];ki?.some($r=>{var Mo;return"0"===(null===(Mo=$r.id)||void 0===Mo?void 0:Mo.split("#").pop())})||ki.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const $r of ki){const Mo=$r.id&&"0"===$r.id.split("#").pop()?Oi:yield me.generateKey({algorithm:$r.algorithm}),sc=yield me.getPublicKey({keyUri:Mo});let Ge=null!==(Gt=null!==(bn=$r.id)&&void 0!==bn?bn:sc.kid)&&void 0!==Gt?Gt:yield B({jwk:sc});Ge=`${mi}#${Lt(Ge)}`,null!==(bt=Cr.verificationMethod)&&void 0!==bt||(Cr.verificationMethod=[]),Cr.verificationMethod.push({id:Ge,type:"JsonWebKey",controller:null!==(an=$r.controller)&&void 0!==an?an:mi,publicKeyJwk:sc});for(const ut of null!==(Lr=$r.purposes)&&void 0!==Lr?Lr:[])Cr[ut]||(Cr[ut]=[]),Cr[ut].push(Ge)}null===(pi=ve.services)||void 0===pi||pi.forEach($r=>{var Mo;null!==(Mo=Cr.service)&&void 0!==Mo||(Cr.service=[]),$r.id=`${mi}#${$r.id.split("#").pop()}`,Cr.service.push($r)});const uo=new jr({uri:mi,document:Cr,metadata:Object.assign({published:!1},ve.types&&{types:ve.types}),keyManager:me});if(null===(si=ve.publish)||void 0===si||si){const $r=yield Xe.publish({did:uo,gatewayUri:ve.gatewayUri});uo.metadata=$r.didDocumentMetadata}return uo})}static import(me){return jn(this,arguments,void 0,function*({portableDid:ve,keyManager:Ze=new _t}){var qe;const pt=ae.parse(ve.uri);if(pt?.method!==Xe.methodName)throw new se(de.MethodNotSupported,"Method not supported");const Vt=yield jr.import({portableDid:ve,keyManager:Ze});if(null===(qe=Vt.document.verificationMethod)||void 0===qe||!qe.some(bn=>{var Gt;return"0"===(null===(Gt=bn.id)||void 0===Gt?void 0:Gt.split("#").pop())}))throw new se(de.InvalidDidDocument,"DID document must contain an Identity Key");return Vt})}static getSigningMethod(me){return jn(this,arguments,void 0,function*({didDocument:ve,methodId:Ze="#0"}){var qe;const pt=ae.parse(ve.id);if(pt&&pt.method!==this.methodName)throw new se(de.MethodNotSupported,`Method not supported: ${pt.method}`);const Vt=null===(qe=ve.verificationMethod)||void 0===qe?void 0:qe.find(bn=>{var Gt,bt;return Lt(bn.id)===(null!==(Gt=Lt(Ze))&&void 0!==Gt?Gt:Lt(null===(bt=ve.assertionMethod)||void 0===bt?void 0:bt[0]))});if(!Vt||!Vt.publicKeyJwk)throw new se(de.InternalError,"A verification method intended for signing could not be determined from the DID Document");return Vt})}static publish(me){return jn(this,arguments,void 0,function*({did:ve,gatewayUri:Ze=Ar}){return yield fi.put({did:ve,gatewayUri:Ze})})}static resolve(me){return jn(this,arguments,void 0,function*(ve,Ze={}){var qe;const pt=null!==(qe=Ze?.gatewayUri)&&void 0!==qe?qe:Ar;try{yield Ni.identifierToIdentityKey({didUri:ve});const{didDocument:Vt,didDocumentMetadata:bn}=yield fi.get({didUri:ve,gatewayUri:pt});return Object.assign(Object.assign({},ie),{didDocument:Vt,didDocumentMetadata:bn})}catch(Vt){if(!(Vt instanceof se))throw new Error(Vt);return Object.assign(Object.assign({},ie),{didResolutionMetadata:Object.assign({error:Vt.code},Vt.message&&{errorMessage:Vt.message})})}})}}return Xe.methodName="dht",Xe})();class fi{static get(Me){return jn(this,arguments,void 0,function*({didUri:me,gatewayUri:ve}){const Ze=Ni.identifierToIdentityKeyBytes({didUri:me}),qe=yield fi.pkarrGet({gatewayUri:ve,publicKeyBytes:Ze}),pt=yield Ni.parseBep44GetMessage({bep44Message:qe}),Vt=yield fi.fromDnsPacket({didUri:me,dnsPacket:pt});return Vt.didDocumentMetadata.versionId=qe.seq.toString(),Vt})}static put(Me){return jn(this,arguments,void 0,function*({did:me,gatewayUri:ve}){const Ze=yield fi.toDnsPacket({didDocument:me.document,didMetadata:me.metadata,authoritativeGatewayUris:[ve]}),qe=yield Ni.createBep44PutMessage({dnsPacket:Ze,publicKeyBytes:Ni.identifierToIdentityKeyBytes({didUri:me.uri}),signer:yield me.getSigner({methodId:"0"})}),pt=yield fi.pkarrPut({gatewayUri:ve,bep44Message:qe});return{didDocument:me.document,didDocumentMetadata:Object.assign(Object.assign({},me.metadata),{published:pt,versionId:qe.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(Me){return jn(this,arguments,void 0,function*({gatewayUri:me,publicKeyBytes:ve}){const Ze=x.U$.uint8Array(ve).toBase32Z(),qe=new URL(Ze,me).href;let pt;try{if(pt=yield fetch(qe,{method:"GET"}),!pt.ok)throw new se(de.NotFound,`Pkarr record not found for: ${Ze}`)}catch(Gt){throw Gt instanceof se?Gt:new se(de.InternalError,`Failed to fetch Pkarr record: ${Gt.message}`)}const Vt=yield pt.arrayBuffer();if(!Vt)throw new se(de.NotFound,`Pkarr record not found for: ${Ze}`);if(Vt.byteLength<72)throw new se(de.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${Vt.byteLength}`);if(Vt.byteLength>1072)throw new se(de.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${Vt.byteLength}`);return{k:ve,seq:Number(new DataView(Vt).getBigUint64(64)),sig:new Uint8Array(Vt,0,64),v:new Uint8Array(Vt,72)}})}static pkarrPut(Me){return jn(this,arguments,void 0,function*({gatewayUri:me,bep44Message:ve}){const Ze=x.U$.uint8Array(ve.k).toBase32Z(),qe=new URL(Ze,me).href,pt=new Uint8Array(ve.v.length+72);let Vt;pt.set(ve.sig,0),new DataView(pt.buffer).setBigUint64(ve.sig.length,BigInt(ve.seq)),pt.set(ve.v,ve.sig.length+8);try{Vt=yield fetch(qe,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:pt})}catch(bn){throw new se(de.InternalError,`Failed to put Pkarr record for identifier ${Ze}: ${bn.message}`)}return Vt.ok})}static fromDnsPacket(Me){return jn(this,arguments,void 0,function*({didUri:me,dnsPacket:ve}){var Ze,qe,pt;const Vt={id:me},bn={published:!0},Gt=new Map;for(const bt of null!==(Ze=ve?.answers)&&void 0!==Ze?Ze:[]){if("TXT"!==bt.type)continue;const an=bt.name.split(".")[0].substring(1);switch(!0){case an.startsWith("aka"):{const Lr=Ni.parseTxtDataToString(bt.data);Vt.alsoKnownAs=Lr.split(ii);break}case an.startsWith("cnt"):{const Lr=Ni.parseTxtDataToString(bt.data);Vt.controller=Lr.includes(ii)?Lr.split(ii):Lr;break}case an.startsWith("k"):{const{id:Lr,t:pi,k:si,c:hi,a:Oi}=Ni.parseTxtDataToObject(bt.data),Wo=x.U$.base64Url(si).toUint8Array(),mi=bi[Number(pi)];let Cr=yield Ni.keyConverter(mi).bytesToPublicKey({publicKeyBytes:Wo});Cr.alg=Oi||Ho[Number(pi)];const ki="k0"===an?"0":void 0!==Lr?Lr:yield B({jwk:Cr});null!==(qe=Vt.verificationMethod)&&void 0!==qe||(Vt.verificationMethod=[]);const uo=`${me}#${ki}`;Vt.verificationMethod.push({id:uo,type:"JsonWebKey",controller:hi??me,publicKeyJwk:Cr}),Gt.set(an,uo);break}case an.startsWith("s"):{const Lr=Ni.parseTxtDataToObject(bt.data),{id:pi,t:si,se:hi}=Lr,Oi=fr(Lr,["id","t","se"]),Wo=hi.includes(ii)?hi.split(ii):[hi],mi=Object.fromEntries(Object.entries(Oi).map(([Cr,ki])=>[Cr,ki.includes(ii)?ki.split(ii):ki]));null!==(pt=Vt.service)&&void 0!==pt||(Vt.service=[]),Vt.service.push(Object.assign(Object.assign({},mi),{id:`${me}#${pi}`,type:si,serviceEndpoint:Wo}));break}case an.startsWith("typ"):{const{id:Lr}=Ni.parseTxtDataToObject(bt.data);bn.types=Lr.split(ii).map(pi=>Number(pi));break}case an.startsWith("did"):{const Lr=mi=>mi.split(ii).map(Cr=>Gt.get(Cr)).filter(Cr=>"string"==typeof Cr),{auth:pi,asm:si,del:hi,inv:Oi,agm:Wo}=Ni.parseTxtDataToObject(bt.data);pi&&(Vt.authentication=Lr(pi)),si&&(Vt.assertionMethod=Lr(si)),hi&&(Vt.capabilityDelegation=Lr(hi)),Oi&&(Vt.capabilityInvocation=Lr(Oi)),Wo&&(Vt.keyAgreement=Lr(Wo));break}}}return{didDocument:Vt,didDocumentMetadata:bn,didResolutionMetadata:{}}})}static toDnsPacket(Me){return jn(this,arguments,void 0,function*({didDocument:me,didMetadata:ve,authoritativeGatewayUris:Ze,previousDidProof:qe}){var pt,Vt,bn,Gt,bt;const an=[],Lr=[],pi=new Map,si=[],hi=[];if(void 0!==qe){const{signature:mi,previousDid:Cr}=qe;yield Ni.validatePreviousDidProof({newDid:me.id,previousDidProof:qe}),an.push({type:"TXT",name:"_prv._did.",ttl:zr,data:`id=${Cr};s=${mi}`})}if(me.alsoKnownAs&&an.push({type:"TXT",name:"_aka._did.",ttl:zr,data:me.alsoKnownAs.join(ii)}),me.controller){const mi=Array.isArray(me.controller)?me.controller.join(ii):me.controller;an.push({type:"TXT",name:"_cnt._did.",ttl:zr,data:mi})}for(const[mi,Cr]of null!==(Vt=null===(pt=me.verificationMethod)||void 0===pt?void 0:pt.entries())&&void 0!==Vt?Vt:[]){const ki=`k${mi}`;hi.push(ki);let uo=Cr.id.split("#").pop();pi.set(uo,ki);const $r=Cr.publicKeyJwk;if(!$r?.crv||!($r.crv in Bo))throw new se(de.InvalidPublicKeyType,`Verification method '${Cr.id}' contains an unsupported key type: ${null!==(bn=$r?.crv)&&void 0!==bn?bn:"undefined"}`);const Mo=bi[$r.crv],sc=yield Ni.keyConverter($r.crv).publicKeyToBytes({publicKey:$r}),ut=[`t=${Mo}`,`k=${x.U$.uint8Array(sc).toBase64Url()}`];"0"!==uo&&(yield B({jwk:$r}))!==uo&&ut.unshift(`id=${uo}`),$r.alg!==Ho[Mo]&&ut.push(`a=${$r.alg}`),Cr.controller!==me.id&&ut.push(`c=${Cr.controller}`),an.push({type:"TXT",name:`_${ki}._did.`,ttl:zr,data:ut.join(";")})}null===(Gt=me.service)||void 0===Gt||Gt.forEach((mi,Cr)=>{const ki=`s${Cr}`;si.push(ki);let{id:uo,type:$r,serviceEndpoint:Mo}=mi,sc=fr(mi,["id","type","serviceEndpoint"]);uo=Lt(uo),Mo=Array.isArray(Mo)?Mo.join(","):Mo;const ut=Object.entries(Object.assign({id:uo,t:$r,se:Mo},sc)).map(([yt,Ut])=>`${yt}=${Ut}`).join(";"),Qe=Ni.chunkDataIfNeeded(ut);an.push({type:"TXT",name:`_${ki}._did.`,ttl:zr,data:Qe})});const Oi=["v=0"];if(hi.length&&Oi.push(`vm=${hi.join(ii)}`),Object.keys(Z).forEach(mi=>{var Cr;const ki=null===(Cr=me[mi])||void 0===Cr?void 0:Cr.map(uo=>pi.get(uo.split("#").pop()));ki&&Oi.push(`${Po[mi]}=${ki.join(ii)}`)}),si.length&&Oi.push(`svc=${si.join(ii)}`),null!==(bt=ve.types)&&void 0!==bt&&bt.length){const Cr=ve.types.map(ki=>"string"==typeof ki?To[ki]:ki);an.push({type:"TXT",name:"_typ._did.",ttl:zr,data:`id=${Cr.join(ii)}`})}an.push({type:"TXT",name:"_did."+fi.getUniqueDidSuffix(me.id)+".",ttl:zr,data:Oi.join(";")});for(const mi of Ze||[])Lr.push({type:"NS",name:"_did."+fi.getUniqueDidSuffix(me.id)+".",ttl:zr,data:mi+"."});return{id:0,type:"response",flags:tn.hB,answers:[...an,...Lr]}})}static getUniqueDidSuffix(Me){return Me.split(":")[2]}}class Ni{static createBep44PutMessage(Me){return jn(this,arguments,void 0,function*({dnsPacket:me,publicKeyBytes:ve,signer:Ze}){const qe=Math.ceil(Date.now()/1e3),pt=(0,tn.lF)(me),Vt=Zr.A.encode({seq:qe,v:pt}).subarray(1,-1);if(Vt.length>1e3)throw new se(de.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${Vt.length} bytes`);return{k:ve,seq:qe,sig:yield Ze.sign({data:Vt}),v:pt}})}static identifierToIdentityKey(Me){return jn(this,arguments,void 0,function*({didUri:me}){let ve=Ni.identifierToIdentityKeyBytes({didUri:me});return yield fe.bytesToPublicKey({publicKeyBytes:ve})})}static identifierToIdentityKeyBytes({didUri:Me}){const me=ae.parse(Me);if(!me)throw new se(de.InvalidDid,`Invalid DID URI: ${Me}`);if(me.method!==Fi.methodName)throw new se(de.MethodNotSupported,`Method not supported: ${me.method}`);let ve;try{ve=x.U$.base32Z(me.id).toUint8Array()}catch{throw new se(de.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==ve.length)throw new se(de.InvalidPublicKeyLength,`Invalid public key length: ${ve.length}`);return ve}static identityKeyToIdentifier(Me){return jn(this,arguments,void 0,function*({identityKey:me}){const ve=yield fe.publicKeyToBytes({publicKey:me}),Ze=x.U$.uint8Array(ve).toBase32Z();return`did:${Fi.methodName}:${Ze}`})}static keyConverter(Me){const ve={Ed25519:fe,"P-256":{publicKeyToBytes:Ze=>jn(this,[Ze],void 0,function*({publicKey:qe}){const pt=yield ye.publicKeyToBytes({publicKey:qe});return yield ye.compressPublicKey({publicKeyBytes:pt})}),bytesToPublicKey:ye.bytesToPublicKey,privateKeyToBytes:ye.privateKeyToBytes,bytesToPrivateKey:ye.bytesToPrivateKey},secp256k1:{publicKeyToBytes:Ze=>jn(this,[Ze],void 0,function*({publicKey:qe}){const pt=yield Ve.publicKeyToBytes({publicKey:qe});return yield Ve.compressPublicKey({publicKeyBytes:pt})}),bytesToPublicKey:Ve.bytesToPublicKey,privateKeyToBytes:Ve.privateKeyToBytes,bytesToPrivateKey:Ve.bytesToPrivateKey},X25519:nt}[Me];if(!ve)throw new se(de.InvalidPublicKeyType,`Unsupported curve: ${Me}`);return ve}static parseBep44GetMessage(Me){return jn(this,arguments,void 0,function*({bep44Message:me}){const ve=yield fe.bytesToPublicKey({publicKeyBytes:me.k}),Ze=Zr.A.encode({seq:me.seq,v:me.v}).subarray(1,-1);if(!(yield fe.verify({key:ve,signature:me.sig,data:Ze})))throw new se(de.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,tn.D4)(me.v)})}static parseTxtDataToObject(Me){return this.parseTxtDataToString(Me).split(";").reduce((me,ve)=>{const[Ze,qe]=ve.split("=");return me[Ze]=qe,me},{})}static parseTxtDataToString(Me){if("string"==typeof Me)return Me;if(Me instanceof Uint8Array)return x.U$.uint8Array(Me).toString();if(Array.isArray(Me))return Me.map(me=>this.parseTxtDataToString(me)).join("");throw new se(de.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(Me){return jn(this,arguments,void 0,function*({newDid:me,previousDidProof:ve}){const Ze=yield Ni.identifierToIdentityKey({didUri:ve.previousDid}),qe=Ni.identifierToIdentityKeyBytes({didUri:me}),pt=x.U$.base64Url(ve.signature).toUint8Array();if(!(yield fe.verify({key:Ze,data:qe,signature:pt})))throw new se(de.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(Me){if(Me.length<=255)return Me;const me=[];for(let ve=0;ve<Me.length;ve+=255)me.push(Me.slice(ve,ve+255));return me}}w(52039);var da=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})};let Ra=(()=>{class Xe extends Tn{static create(){return da(this,arguments,void 0,function*({keyManager:me=new _t,options:ve={}}={}){var Ze,qe,pt,Vt;if(ve.algorithm&&ve.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(ve.verificationMethods&&1!==ve.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const bn=null!==(Vt=null!==(Ze=ve.algorithm)&&void 0!==Ze?Ze:null===(pt=null===(qe=ve.verificationMethods)||void 0===qe?void 0:qe[0])||void 0===pt?void 0:pt.algorithm)&&void 0!==Vt?Vt:"Ed25519",Gt=yield me.generateKey({algorithm:bn}),bt=yield me.getPublicKey({keyUri:Gt}),an=x.U$.object(bt).toBase64Url(),Lr=`did:${Xe.methodName}:${an}`,si=(yield Xe.resolve(Lr)).didDocument;return new jr({uri:Lr,document:si,metadata:{},keyManager:me})})}static getSigningMethod(me){return da(this,arguments,void 0,function*({didDocument:ve}){var Ze;const qe=ae.parse(ve.id);if(qe&&qe.method!==this.methodName)throw new se(de.MethodNotSupported,`Method not supported: ${qe.method}`);const[pt]=null!==(Ze=ve.verificationMethod)&&void 0!==Ze?Ze:[];if(!pt||!pt.publicKeyJwk)throw new se(de.InternalError,"A verification method intended for signing could not be determined from the DID Document");return pt})}static import(me){return da(this,arguments,void 0,function*({portableDid:ve,keyManager:Ze=new _t}){const qe=ae.parse(ve.uri);if(qe?.method!==Xe.methodName)throw new se(de.MethodNotSupported,"Method not supported");const pt=yield jr.import({portableDid:ve,keyManager:Ze});if(1!==pt.document.verificationMethod.length)throw new se(de.InvalidDidDocument,"DID document must contain exactly one verification method");return pt})}static resolve(me,ve){return da(this,void 0,void 0,function*(){const Ze=ae.parse(me);let qe;try{qe=x.U$.base64Url(Ze.id).toObject()}catch{}if(!Ze||!qe)return Object.assign(Object.assign({},ie),{didResolutionMetadata:{error:"invalidDid"}});if(Ze.method!==Xe.methodName)return Object.assign(Object.assign({},ie),{didResolutionMetadata:{error:"methodNotSupported"}});const pt={"@context":["https://www.w3.org/ns/did/v1"],id:Ze.uri},Vt=`${pt.id}#0`;switch(pt.verificationMethod=[{id:Vt,type:"JsonWebKey",controller:pt.id,publicKeyJwk:qe}],pt.authentication=[Vt],pt.assertionMethod=[Vt],pt.capabilityInvocation=[Vt],pt.capabilityDelegation=[Vt],pt.keyAgreement=[Vt],qe.use){case"sig":delete pt.keyAgreement;break;case"enc":delete pt.authentication,delete pt.assertionMethod,delete pt.capabilityInvocation,delete pt.capabilityDelegation}return Object.assign(Object.assign({},ie),{didDocument:pt})})}}return Xe.methodName="jwk",Xe})();var eu=w(97829),ya=w(67449);class Ta{constructor({db:Me,location:me="DATA/DID_RESOLVERCACHE",ttl:ve="15m"}={}){this.cache=Me??new ya.Level(me),this.ttl=eu(ve)}get(Me){return function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})}(this,void 0,void 0,function*(){try{const me=yield this.cache.get(Me),ve=JSON.parse(me);return Date.now()>=ve.ttlMillis?void this.cache.nextTick(()=>this.cache.del(Me)):ve.value}catch(me){if(me.notFound)return;throw me}})}set(Me,me){const ve={ttlMillis:Date.now()+this.ttl,value:me},Ze=JSON.stringify(ve);return this.cache.put(Me,Ze)}delete(Me){return this.cache.del(Me)}clear(){return this.cache.clear()}close(){return this.cache.close()}}var Fs=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})};class Ec{constructor(Me){this._agentDid=Me.agentDid,this.crypto=Me.cryptoApi,this.did=Me.didApi,this.dwn=Me.dwnApi,this.identity=Me.identityApi,this.keyManager=Me.keyManager,this.rpc=Me.rpcClient,this.sync=Me.syncApi,this.vault=Me.agentVault,this.did.agent=this,this.dwn.agent=this,this.identity.agent=this,this.keyManager.agent=this,this.sync.agent=this}get agentDid(){if(void 0===this._agentDid)throw new Error('Web5UserAgent: The "agentDid" property is not set. Ensure the agent is properly initialized and a DID is assigned.');return this._agentDid}set agentDid(Me){this._agentDid=Me}static create({dataPath:Me="DATA/AGENT",agentDid:me,agentVault:ve,cryptoApi:Ze,didApi:qe,dwnApi:pt,identityApi:Vt,keyManager:bn,rpcClient:Gt,syncApi:bt}={}){return Fs(this,void 0,void 0,function*(){return ve??(ve=new d.TX({keyDerivationWorkFactor:21e4,store:new x.cG({location:`${Me}/VAULT_STORE`})})),Ze??(Ze=new d.DP),qe??(qe=new d.Bq({didMethods:[Fi,Ra],resolverCache:new Ta({location:`${Me}/DID_RESOLVERCACHE`}),store:new d.QZ})),pt??(pt=new d.rr({dwn:yield d.rr.createDwn({dataPath:Me,didResolver:qe})})),Vt??(Vt=new d.yc({store:new d.dk})),bn??(bn=new d.eP({keyStore:new d.cW})),Gt??(Gt=new d.oN),bt??(bt=new d.rM({syncEngine:new d.qB({dataPath:Me})})),new Ec({agentDid:me,agentVault:ve,cryptoApi:Ze,didApi:qe,dwnApi:pt,keyManager:bn,identityApi:Vt,rpcClient:Gt,syncApi:bt})})}firstLaunch(){return Fs(this,void 0,void 0,function*(){return!1===(yield this.vault.isInitialized())})}initialize({password:Me,recoveryPhrase:me}){return Fs(this,void 0,void 0,function*(){return me=yield this.vault.initialize({password:Me,recoveryPhrase:me})})}processDidRequest(Me){return Fs(this,void 0,void 0,function*(){return this.did.processRequest(Me)})}processDwnRequest(Me){return Fs(this,void 0,void 0,function*(){return this.dwn.processRequest(Me)})}processVcRequest(Me){return Fs(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDidRequest(Me){return Fs(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDwnRequest(Me){return Fs(this,void 0,void 0,function*(){return this.dwn.sendRequest(Me)})}sendVcRequest(Me){return Fs(this,void 0,void 0,function*(){throw new Error("Not implemented")})}start({password:Me}){return Fs(this,void 0,void 0,function*(){this.vault.isLocked()&&(yield this.vault.unlock({password:Me})),this.agentDid=yield this.vault.getDid()})}}class ga{constructor({agent:Me,connectedDid:me}){this.agent=Me,this.connectedDid=me,this.did=new z({agent:Me,connectedDid:me}),this.dwn=new re({agent:Me,connectedDid:me}),this.vc=new J({agent:Me,connectedDid:me})}static connect({agent:Me,agentVault:me,connectedDid:ve,password:Ze,recoveryPhrase:qe,sync:pt,techPreview:Vt,didCreateOptions:bn,registration:Gt}={}){var bt,an,Lr;return function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})}(this,void 0,void 0,function*(){if(void 0===Me){const si=yield Ec.create({agentVault:me});Me=si,void 0===Ze&&(Ze="insecure-static-phrase",console.warn("%cSECURITY WARNING:%c You have not set a password, which defaults to a static, guessable value. This significantly compromises the security of your data. Please configure a secure, unique password.","font-weight: bold; color: red;","font-weight: normal; color: inherit;")),(yield si.firstLaunch())&&(qe=yield si.initialize({password:Ze,recoveryPhrase:qe})),yield si.start({password:Ze});{let Oi;const Wo=yield si.identity.list(),mi=Wo.length;if(0===mi){const Cr=null!==(an=null!==(bt=Vt?.dwnEndpoints)&&void 0!==bt?bt:bn?.dwnEndpoints)&&void 0!==an?an:["https://dwn.tbddev.org/beta"];Oi=yield si.identity.create({didMethod:"dht",metadata:{name:"Default"},didOptions:{services:[{id:"dwn",type:"DecentralizedWebNode",serviceEndpoint:Cr,enc:"#enc",sig:"#sig"}],verificationMethods:[{algorithm:"Ed25519",id:"sig",purposes:["assertionMethod","authentication"]},{algorithm:"secp256k1",id:"enc",purposes:["keyAgreement"]}]}}),yield si.identity.manage({portableIdentity:yield Oi.export()})}else{if(1!==mi)throw new Error(`connect() failed due to unexpected state: Expected 1 but found ${mi} stored identities.`);Oi=Wo[0]}ve=Oi.did.uri}if(void 0!==Gt){const Oi=null!==(Lr=Vt?.dwnEndpoints)&&void 0!==Lr?Lr:bn?.dwnEndpoints;try{for(const Wo of Oi)0!==(yield si.rpc.getServerInfo(Wo)).registrationRequirements.length&&(yield d.Vu.registerTenant(Wo,Me.agentDid.uri),yield d.Vu.registerTenant(Wo,ve));Gt.onSuccess()}catch(Wo){Gt.onFailure(Wo)}}"off"!==pt&&(yield si.sync.registerIdentity({did:ve}),pt??(pt="2m"),si.sync.startSync({interval:pt}).catch(Oi=>{console.error(`Sync failed: ${Oi}`)}))}return{web5:new ga({agent:Me,connectedDid:ve}),did:ve,recoveryPhrase:qe}})}}var ul=function(Xe){return Xe.authentication="authentication",Xe.assertionMethod="assertionMethod",Xe.keyAgreement="keyAgreement",Xe.capabilityInvocation="capabilityInvocation",Xe.capabilityDelegation="capabilityDelegation",Xe}(ul||{});const mc={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class lo{constructor({method:Me,id:me,path:ve,query:Ze,fragment:qe,params:pt}){this.uri=`did:${Me}:${me}`,this.method=Me,this.id=me,this.path=ve,this.query=Ze,this.fragment=qe,this.params=pt}static parse(Me){if(!Me)return null;const me=lo.DID_URI_PATTERN.exec(Me);if(!me||!me.groups)return null;const{method:ve,id:Ze,path:qe,query:pt,fragment:Vt}=me.groups,bn={uri:`did:${ve}:${Ze}`,method:ve,id:Ze};if(qe&&(bn.path=qe),pt&&(bn.query=pt.slice(1)),Vt&&(bn.fragment=Vt.slice(1)),pt){const Gt={},bt=pt.slice(1).split("&");for(const an of bt){const[Lr,pi]=an.split("=");Gt[Lr]=pi}bn.params=Gt}return bn}}lo.METHOD_PATTERN="([a-z0-9]+)",lo.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",lo.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${lo.PCT_ENCODED_PATTERN})`,lo.METHOD_ID_PATTERN=`((?:${lo.ID_CHAR_PATTERN}*:)*(${lo.ID_CHAR_PATTERN}+))`,lo.PATH_PATTERN="(/[^#?]*)?",lo.QUERY_PATTERN="([?][^#]*)?",lo.FRAGMENT_PATTERN="(#.*)?",lo.DID_URI_PATTERN=new RegExp(`^did:(?<method>${lo.METHOD_PATTERN}):(?<id>${lo.METHOD_ID_PATTERN})(?<path>${lo.PATH_PATTERN})(?<query>${lo.QUERY_PATTERN})(?<fragment>${lo.FRAGMENT_PATTERN})$`);class Qi extends Error{constructor(Me,me){super(`${Me}: ${me}`),this.code=Me,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qi)}}var Eo=function(Xe){return Xe.InvalidDid="invalidDid",Xe.MethodNotSupported="methodNotSupported",Xe.InternalError="internalError",Xe.InvalidDidDocument="invalidDidDocument",Xe.InvalidDidDocumentLength="invalidDidDocumentLength",Xe.InvalidDidUrl="invalidDidUrl",Xe.InvalidPreviousDidProof="invalidPreviousDidProof",Xe.InvalidPublicKey="invalidPublicKey",Xe.InvalidPublicKeyLength="invalidPublicKeyLength",Xe.InvalidPublicKeyType="invalidPublicKeyType",Xe.InvalidSignature="invalidSignature",Xe.NotFound="notFound",Xe.RepresentationNotSupported="representationNotSupported",Xe.UnsupportedPublicKeyType="unsupportedPublicKeyType",Xe}(Eo||{});class Od{static digest({data:Me}){return function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})}(this,void 0,void 0,function*(){return(0,le.s)(Me)})}}class ds{}const ic="urn:jwk:";function bo({jwk:Xe}){return function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})}(this,void 0,void 0,function*(){const Me=Xe.kty;let me;if("EC"===Me)me={crv:Xe.crv,kty:Xe.kty,x:Xe.x,y:Xe.y};else if("oct"===Me)me={k:Xe.k,kty:Xe.kty};else if("OKP"===Me)me={crv:Xe.crv,kty:Xe.kty,x:Xe.x};else{if("RSA"!==Me)throw new Error(`Unsupported key type: ${Me}`);me={e:Xe.e,kty:Xe.kty,n:Xe.n}}(0,x.E8)(me);const ve=function tu(Xe){const Me=ve=>{if(null!==ve&&"object"==typeof ve&&!Array.isArray(ve)){const Ze=Object.keys(ve).sort(),qe={};for(const pt of Ze)qe[pt]=Me(ve[pt]);return qe}return ve},me=Me(Xe);return JSON.stringify(me)}(me),Ze=x.U$.string(ve).toUint8Array(),qe=yield Od.digest({data:Ze});return x.U$.uint8Array(qe).toBase64Url()})}function Pr(Xe){return!(!Xe||"object"!=typeof Xe||!("kty"in Xe&&"crv"in Xe&&"x"in Xe&&"d"in Xe)||"EC"!==Xe.kty||"string"!=typeof Xe.d||"string"!=typeof Xe.x)}function Ii(Xe){return!(!Xe||"object"!=typeof Xe||!("kty"in Xe&&"crv"in Xe&&"x"in Xe)||"d"in Xe||"EC"!==Xe.kty||"string"!=typeof Xe.x)}function No(Xe){return!(!Xe||"object"!=typeof Xe||!("kty"in Xe&&"crv"in Xe&&"x"in Xe&&"d"in Xe)||"OKP"!==Xe.kty||"string"!=typeof Xe.d||"string"!=typeof Xe.x)}function qs(Xe){return!(!Xe||"object"!=typeof Xe||"d"in Xe||!("kty"in Xe&&"crv"in Xe&&"x"in Xe)||"OKP"!==Xe.kty||"string"!=typeof Xe.x)}var eo=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})};class Xn{static adjustSignatureToLowS({signature:Me}){return eo(this,void 0,void 0,function*(){const me=f.bI.Signature.fromCompact(Me);return me.hasHighS()?me.normalizeS().toCompactRawBytes():Me})}static bytesToPrivateKey({privateKeyBytes:Me}){return eo(this,void 0,void 0,function*(){const me=yield Xn.getCurvePoint({keyBytes:Me}),ve={kty:"EC",crv:"secp256k1",d:x.U$.uint8Array(Me).toBase64Url(),x:x.U$.uint8Array(me.x).toBase64Url(),y:x.U$.uint8Array(me.y).toBase64Url()};return ve.kid=yield bo({jwk:ve}),ve})}static bytesToPublicKey({publicKeyBytes:Me}){return eo(this,void 0,void 0,function*(){const me=yield Xn.getCurvePoint({keyBytes:Me}),ve={kty:"EC",crv:"secp256k1",x:x.U$.uint8Array(me.x).toBase64Url(),y:x.U$.uint8Array(me.y).toBase64Url()};return ve.kid=yield bo({jwk:ve}),ve})}static compressPublicKey({publicKeyBytes:Me}){return eo(this,void 0,void 0,function*(){return f.bI.ProjectivePoint.fromHex(Me).toRawBytes(!0)})}static computePublicKey({key:Me}){return eo(this,void 0,void 0,function*(){const me=yield Xn.privateKeyToBytes({privateKey:Me}),ve=yield Xn.getCurvePoint({keyBytes:me}),Ze={kty:"EC",crv:"secp256k1",x:x.U$.uint8Array(ve.x).toBase64Url(),y:x.U$.uint8Array(ve.y).toBase64Url()};return Ze.kid=yield bo({jwk:Ze}),Ze})}static convertDerToCompactSignature({derSignature:Me}){return eo(this,void 0,void 0,function*(){return f.bI.Signature.fromDER(Me).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:Me}){return eo(this,void 0,void 0,function*(){return f.bI.ProjectivePoint.fromHex(Me).toRawBytes(!1)})}static generateKey(){return eo(this,void 0,void 0,function*(){const Me=f.bI.utils.randomPrivateKey(),me=yield Xn.bytesToPrivateKey({privateKeyBytes:Me});return me.kid=yield bo({jwk:me}),me})}static getPublicKey({key:Me}){var me;return eo(this,void 0,void 0,function*(){if(!Pr(Me)||"secp256k1"!==Me.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let Ze=function(Xe,Me){var me={};for(var ve in Xe)Object.prototype.hasOwnProperty.call(Xe,ve)&&Me.indexOf(ve)<0&&(me[ve]=Xe[ve]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(Xe);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ve[Ze])&&(me[ve[Ze]]=Xe[ve[Ze]])}return me}(Me,["d"]);return null!==(me=Ze.kid)&&void 0!==me||(Ze.kid=yield bo({jwk:Ze})),Ze})}static privateKeyToBytes({privateKey:Me}){return eo(this,void 0,void 0,function*(){if(!Pr(Me))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return x.U$.base64Url(Me.d).toUint8Array()})}static publicKeyToBytes({publicKey:Me}){return eo(this,void 0,void 0,function*(){if(!Ii(Me)||!Me.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const me=new Uint8Array([4]),ve=x.U$.base64Url(Me.x).toUint8Array(),Ze=x.U$.base64Url(Me.y).toUint8Array();return new Uint8Array([...me,...ve,...Ze])})}static sharedSecret({privateKeyA:Me,publicKeyB:me}){return eo(this,void 0,void 0,function*(){if("x"in Me&&"x"in me&&Me.x===me.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const ve=yield Xn.privateKeyToBytes({privateKey:Me}),Ze=yield Xn.publicKeyToBytes({publicKey:me});return f.bI.getSharedSecret(ve,Ze,!0).slice(1)})}static sign({data:Me,key:me}){return eo(this,void 0,void 0,function*(){const ve=yield Xn.privateKeyToBytes({privateKey:me}),Ze=(0,le.s)(Me);return f.bI.sign(Ze,ve).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:Me}){return eo(this,void 0,void 0,function*(){return f.bI.utils.isValidPrivateKey(Me)})}static validatePublicKey({publicKeyBytes:Me}){return eo(this,void 0,void 0,function*(){try{f.bI.ProjectivePoint.fromHex(Me).assertValidity()}catch{return!1}return!0})}static verify({key:Me,signature:me,data:ve}){return eo(this,void 0,void 0,function*(){const Ze=yield Xn.publicKeyToBytes({publicKey:Me}),qe=(0,le.s)(ve);return f.bI.verify(me,qe,Ze,{lowS:!1})})}static getCurvePoint({keyBytes:Me}){return eo(this,void 0,void 0,function*(){32===Me.byteLength&&(Me=f.bI.getPublicKey(Me));const me=f.bI.ProjectivePoint.fromHex(Me);return{x:(0,y.lq)(me.x,32),y:(0,y.lq)(me.y,32)}})}}var Rt=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})};class pn{static adjustSignatureToLowS({signature:Me}){return Rt(this,void 0,void 0,function*(){const me=Se.Ag.Signature.fromCompact(Me);return me.hasHighS()?me.normalizeS().toCompactRawBytes():Me})}static bytesToPrivateKey({privateKeyBytes:Me}){return Rt(this,void 0,void 0,function*(){const me=yield pn.getCurvePoint({keyBytes:Me}),ve={kty:"EC",crv:"P-256",d:x.U$.uint8Array(Me).toBase64Url(),x:x.U$.uint8Array(me.x).toBase64Url(),y:x.U$.uint8Array(me.y).toBase64Url()};return ve.kid=yield bo({jwk:ve}),ve})}static bytesToPublicKey({publicKeyBytes:Me}){return Rt(this,void 0,void 0,function*(){const me=yield pn.getCurvePoint({keyBytes:Me}),ve={kty:"EC",crv:"P-256",x:x.U$.uint8Array(me.x).toBase64Url(),y:x.U$.uint8Array(me.y).toBase64Url()};return ve.kid=yield bo({jwk:ve}),ve})}static compressPublicKey({publicKeyBytes:Me}){return Rt(this,void 0,void 0,function*(){return Se.Ag.ProjectivePoint.fromHex(Me).toRawBytes(!0)})}static computePublicKey({key:Me}){return Rt(this,void 0,void 0,function*(){const me=yield pn.privateKeyToBytes({privateKey:Me}),ve=yield pn.getCurvePoint({keyBytes:me}),Ze={kty:"EC",crv:"P-256",x:x.U$.uint8Array(ve.x).toBase64Url(),y:x.U$.uint8Array(ve.y).toBase64Url()};return Ze.kid=yield bo({jwk:Ze}),Ze})}static convertDerToCompactSignature({derSignature:Me}){return Rt(this,void 0,void 0,function*(){return Se.Ag.Signature.fromDER(Me).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:Me}){return Rt(this,void 0,void 0,function*(){return Se.Ag.ProjectivePoint.fromHex(Me).toRawBytes(!1)})}static generateKey(){return Rt(this,void 0,void 0,function*(){const Me=Se.Ag.utils.randomPrivateKey(),me=yield pn.bytesToPrivateKey({privateKeyBytes:Me});return me.kid=yield bo({jwk:me}),me})}static getPublicKey({key:Me}){var me;return Rt(this,void 0,void 0,function*(){if(!Pr(Me)||"P-256"!==Me.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let Ze=function(Xe,Me){var me={};for(var ve in Xe)Object.prototype.hasOwnProperty.call(Xe,ve)&&Me.indexOf(ve)<0&&(me[ve]=Xe[ve]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(Xe);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ve[Ze])&&(me[ve[Ze]]=Xe[ve[Ze]])}return me}(Me,["d"]);return null!==(me=Ze.kid)&&void 0!==me||(Ze.kid=yield bo({jwk:Ze})),Ze})}static privateKeyToBytes({privateKey:Me}){return Rt(this,void 0,void 0,function*(){if(!Pr(Me))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return x.U$.base64Url(Me.d).toUint8Array()})}static publicKeyToBytes({publicKey:Me}){return Rt(this,void 0,void 0,function*(){if(!Ii(Me)||!Me.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const me=new Uint8Array([4]),ve=x.U$.base64Url(Me.x).toUint8Array(),Ze=x.U$.base64Url(Me.y).toUint8Array();return new Uint8Array([...me,...ve,...Ze])})}static sharedSecret({privateKeyA:Me,publicKeyB:me}){return Rt(this,void 0,void 0,function*(){if("x"in Me&&"x"in me&&Me.x===me.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const ve=yield pn.privateKeyToBytes({privateKey:Me}),Ze=yield pn.publicKeyToBytes({publicKey:me});return Se.Ag.getSharedSecret(ve,Ze,!0).slice(1)})}static sign({data:Me,key:me}){return Rt(this,void 0,void 0,function*(){const ve=yield pn.privateKeyToBytes({privateKey:me}),Ze=(0,le.s)(Me);return Se.Ag.sign(Ze,ve).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:Me}){return Rt(this,void 0,void 0,function*(){return Se.Ag.utils.isValidPrivateKey(Me)})}static validatePublicKey({publicKeyBytes:Me}){return Rt(this,void 0,void 0,function*(){try{Se.Ag.ProjectivePoint.fromHex(Me).assertValidity()}catch{return!1}return!0})}static verify({key:Me,signature:me,data:ve}){return Rt(this,void 0,void 0,function*(){const Ze=yield pn.publicKeyToBytes({publicKey:Me}),qe=(0,le.s)(ve);return Se.Ag.verify(me,qe,Ze,{lowS:!1})})}static getCurvePoint({keyBytes:Me}){return Rt(this,void 0,void 0,function*(){32===Me.byteLength&&(Me=Se.Ag.getPublicKey(Me));const me=Se.Ag.ProjectivePoint.fromHex(Me);return{x:(0,y.lq)(me.x,32),y:(0,y.lq)(me.y,32)}})}}var pr=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})};class wr extends ds{computePublicKey({key:Me}){return pr(this,void 0,void 0,function*(){if(!Pr(Me))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Me.crv){case"secp256k1":{const me=yield Xn.computePublicKey({key:Me});return me.alg="ES256K",me}case"P-256":{const me=yield pn.computePublicKey({key:Me});return me.alg="ES256",me}default:throw new Error(`Unsupported curve: ${Me.crv}`)}})}generateKey({algorithm:Me}){return pr(this,void 0,void 0,function*(){switch(Me){case"ES256K":case"secp256k1":{const me=yield Xn.generateKey();return me.alg="ES256K",me}case"ES256":case"secp256r1":{const me=yield pn.generateKey();return me.alg="ES256",me}}})}getPublicKey({key:Me}){return pr(this,void 0,void 0,function*(){if(!Pr(Me))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Me.crv){case"secp256k1":{const me=yield Xn.getPublicKey({key:Me});return me.alg="ES256K",me}case"P-256":{const me=yield pn.getPublicKey({key:Me});return me.alg="ES256",me}default:throw new Error(`Unsupported curve: ${Me.crv}`)}})}sign({key:Me,data:me}){return pr(this,void 0,void 0,function*(){if(!Pr(Me))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Me.crv){case"secp256k1":return yield Xn.sign({key:Me,data:me});case"P-256":return yield pn.sign({key:Me,data:me});default:throw new Error(`Unsupported curve: ${Me.crv}`)}})}verify({key:Me,signature:me,data:ve}){return pr(this,void 0,void 0,function*(){if(!Ii(Me))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(Me.crv){case"secp256k1":return yield Xn.verify({key:Me,signature:me,data:ve});case"P-256":return yield pn.verify({key:Me,signature:me,data:ve});default:throw new Error(`Unsupported curve: ${Me.crv}`)}})}}var Wr=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})};class Lo{static bytesToPrivateKey({privateKeyBytes:Me}){return Wr(this,void 0,void 0,function*(){const me=ue.ev.getPublicKey(Me),ve={crv:"Ed25519",d:x.U$.uint8Array(Me).toBase64Url(),kty:"OKP",x:x.U$.uint8Array(me).toBase64Url()};return ve.kid=yield bo({jwk:ve}),ve})}static bytesToPublicKey({publicKeyBytes:Me}){return Wr(this,void 0,void 0,function*(){const me={kty:"OKP",crv:"Ed25519",x:x.U$.uint8Array(Me).toBase64Url()};return me.kid=yield bo({jwk:me}),me})}static computePublicKey({key:Me}){return Wr(this,void 0,void 0,function*(){const me=yield Lo.privateKeyToBytes({privateKey:Me}),ve=ue.ev.getPublicKey(me),Ze={kty:"OKP",crv:"Ed25519",x:x.U$.uint8Array(ve).toBase64Url()};return Ze.kid=yield bo({jwk:Ze}),Ze})}static convertPrivateKeyToX25519({privateKey:Me}){return Wr(this,void 0,void 0,function*(){const me=yield Lo.privateKeyToBytes({privateKey:Me}),ve=(0,ue.OA)(me),Ze=ue.TU.getPublicKey(ve),qe={kty:"OKP",crv:"X25519",d:x.U$.uint8Array(ve).toBase64Url(),x:x.U$.uint8Array(Ze).toBase64Url()};return qe.kid=yield bo({jwk:qe}),qe})}static convertPublicKeyToX25519({publicKey:Me}){return Wr(this,void 0,void 0,function*(){const me=yield Lo.publicKeyToBytes({publicKey:Me});if(!(yield Lo.validatePublicKey({publicKeyBytes:me})))throw new Error("Ed25519: Invalid public key.");const Ze=(0,ue.GU)(me),qe={kty:"OKP",crv:"X25519",x:x.U$.uint8Array(Ze).toBase64Url()};return qe.kid=yield bo({jwk:qe}),qe})}static generateKey(){return Wr(this,void 0,void 0,function*(){const Me=ue.ev.utils.randomPrivateKey(),me=yield Lo.bytesToPrivateKey({privateKeyBytes:Me});return me.kid=yield bo({jwk:me}),me})}static getPublicKey({key:Me}){var me;return Wr(this,void 0,void 0,function*(){if(!No(Me)||"Ed25519"!==Me.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let Ze=function(Xe,Me){var me={};for(var ve in Xe)Object.prototype.hasOwnProperty.call(Xe,ve)&&Me.indexOf(ve)<0&&(me[ve]=Xe[ve]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(Xe);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ve[Ze])&&(me[ve[Ze]]=Xe[ve[Ze]])}return me}(Me,["d"]);return null!==(me=Ze.kid)&&void 0!==me||(Ze.kid=yield bo({jwk:Ze})),Ze})}static privateKeyToBytes({privateKey:Me}){return Wr(this,void 0,void 0,function*(){if(!No(Me))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return x.U$.base64Url(Me.d).toUint8Array()})}static publicKeyToBytes({publicKey:Me}){return Wr(this,void 0,void 0,function*(){if(!qs(Me))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return x.U$.base64Url(Me.x).toUint8Array()})}static sign({key:Me,data:me}){return Wr(this,void 0,void 0,function*(){const ve=yield Lo.privateKeyToBytes({privateKey:Me});return ue.ev.sign(me,ve)})}static validatePublicKey({publicKeyBytes:Me}){return Wr(this,void 0,void 0,function*(){try{ue.ev.ExtendedPoint.fromHex(Me).assertValidity()}catch{return!1}return!0})}static verify({key:Me,signature:me,data:ve}){return Wr(this,void 0,void 0,function*(){const Ze=yield Lo.publicKeyToBytes({publicKey:Me});return ue.ev.verify(me,ve,Ze)})}}var qr=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})},So=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})};const Pd={Ed25519:{implementation:class Pa extends ds{computePublicKey({key:Me}){return qr(this,void 0,void 0,function*(){if(!No(Me))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Me.crv){const me=yield Lo.computePublicKey({key:Me});return me.alg="EdDSA",me}throw new Error(`Unsupported curve: ${Me.crv}`)})}generateKey({algorithm:Me}){return qr(this,void 0,void 0,function*(){if("Ed25519"===Me){const me=yield Lo.generateKey();return me.alg="EdDSA",me}})}getPublicKey({key:Me}){return qr(this,void 0,void 0,function*(){if(!No(Me))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Me.crv){const me=yield Lo.getPublicKey({key:Me});return me.alg="EdDSA",me}throw new Error(`Unsupported curve: ${Me.crv}`)})}sign({key:Me,data:me}){return qr(this,void 0,void 0,function*(){if(!No(Me))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Me.crv)return yield Lo.sign({key:Me,data:me});throw new Error(`Unsupported curve: ${Me.crv}`)})}verify({key:Me,signature:me,data:ve}){return qr(this,void 0,void 0,function*(){if(!qs(Me))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===Me.crv)return yield Lo.verify({key:Me,signature:me,data:ve});throw new Error(`Unsupported curve: ${Me.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:wr,names:["ES256K","secp256k1"]},secp256r1:{implementation:wr,names:["ES256","secp256r1"]},"SHA-256":{implementation:class Gc extends ds{digest({algorithm:Me,data:me}){return function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===Me)return yield Od.digest({data:me})})}},names:["SHA-256"]}};class vf{constructor(Me){var me;this._algorithmInstances=new Map,this._keyStore=null!==(me=Me?.keyStore)&&void 0!==me?me:new x.ny}digest({algorithm:Me,data:me}){return So(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:Me}).digest({algorithm:Me,data:me})})}exportKey({keyUri:Me}){return So(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:Me})})}generateKey({algorithm:Me}){return So(this,void 0,void 0,function*(){const ve=yield this.getAlgorithm({algorithm:Me}).generateKey({algorithm:Me});if(void 0===ve?.kid)throw new Error("Generated key is missing a required property: kid");const Ze=`${ic}${ve.kid}`;return yield this._keyStore.set(Ze,ve),Ze})}getKeyUri({key:Me}){return So(this,void 0,void 0,function*(){const me=yield bo({jwk:Me});return`${ic}${me}`})}getPublicKey({keyUri:Me}){return So(this,void 0,void 0,function*(){const me=yield this.getPrivateKey({keyUri:Me}),ve=this.getAlgorithmName({key:me});return yield this.getAlgorithm({algorithm:ve}).getPublicKey({key:me})})}importKey({key:Me}){var me;return So(this,void 0,void 0,function*(){if(!function _s(Xe){if(!Xe||"object"!=typeof Xe)return!1;switch(Xe.kty){case"EC":case"OKP":case"RSA":return"d"in Xe;case"oct":return"k"in Xe;default:return!1}}(Me))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const ve=structuredClone(Me);null!==(me=ve.kid)&&void 0!==me||(ve.kid=yield bo({jwk:ve}));const Ze=yield this.getKeyUri({key:ve});return yield this._keyStore.set(Ze,ve),Ze})}sign({keyUri:Me,data:me}){return So(this,void 0,void 0,function*(){const ve=yield this.getPrivateKey({keyUri:Me}),Ze=this.getAlgorithmName({key:ve});return this.getAlgorithm({algorithm:Ze}).sign({data:me,key:ve})})}verify({key:Me,signature:me,data:ve}){return So(this,void 0,void 0,function*(){const Ze=this.getAlgorithmName({key:Me});return this.getAlgorithm({algorithm:Ze}).verify({key:Me,signature:me,data:ve})})}getAlgorithm({algorithm:Me}){var me;const ve=null===(me=Pd[Me])||void 0===me?void 0:me.implementation;if(!ve)throw new Error(`Algorithm not supported: ${Me}`);return this._algorithmInstances.has(ve)||this._algorithmInstances.set(ve,new ve),this._algorithmInstances.get(ve)}getAlgorithmName({key:Me}){const me=Me.alg,ve=Me.crv;for(const Ze in Pd){const qe=Pd[Ze];if(me&&qe.names.includes(me))return Ze;if(ve&&qe.names.includes(ve))return Ze}throw new Error(`Unable to determine algorithm based on provided input: alg=${me}, crv=${ve}`)}getPrivateKey({keyUri:Me}){return So(this,void 0,void 0,function*(){const me=yield this._keyStore.get(Me);if(!me)throw new Error(`Key not found: ${Me}`);return me})}}function Mi(Xe){const Me={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(Xe.alg&&Object.values(Me).includes(Xe.alg))return Xe.alg;if(Xe.crv&&Object.keys(Me).includes(Xe.crv))return Me[Xe.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${Xe.alg}, crv=${Xe.crv}. Supported 'alg' values: ${Object.values(Me).join(", ")}. Supported 'crv' values: ${Object.keys(Me).join(", ")}.`)}var oc=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})};class nu{static bytesToPrivateKey({privateKeyBytes:Me}){return oc(this,void 0,void 0,function*(){const me=ue.TU.getPublicKey(Me),ve={kty:"OKP",crv:"X25519",d:x.U$.uint8Array(Me).toBase64Url(),x:x.U$.uint8Array(me).toBase64Url()};return ve.kid=yield bo({jwk:ve}),ve})}static bytesToPublicKey({publicKeyBytes:Me}){return oc(this,void 0,void 0,function*(){const me={kty:"OKP",crv:"X25519",x:x.U$.uint8Array(Me).toBase64Url()};return me.kid=yield bo({jwk:me}),me})}static computePublicKey({key:Me}){return oc(this,void 0,void 0,function*(){const me=yield nu.privateKeyToBytes({privateKey:Me}),ve=ue.TU.getPublicKey(me),Ze={kty:"OKP",crv:"X25519",x:x.U$.uint8Array(ve).toBase64Url()};return Ze.kid=yield bo({jwk:Ze}),Ze})}static generateKey(){return oc(this,void 0,void 0,function*(){const Me=ue.TU.utils.randomPrivateKey(),me=yield nu.bytesToPrivateKey({privateKeyBytes:Me});return me.kid=yield bo({jwk:me}),me})}static getPublicKey({key:Me}){var me;return oc(this,void 0,void 0,function*(){if(!No(Me)||"X25519"!==Me.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let Ze=function(Xe,Me){var me={};for(var ve in Xe)Object.prototype.hasOwnProperty.call(Xe,ve)&&Me.indexOf(ve)<0&&(me[ve]=Xe[ve]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(Xe);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ve[Ze])&&(me[ve[Ze]]=Xe[ve[Ze]])}return me}(Me,["d"]);return null!==(me=Ze.kid)&&void 0!==me||(Ze.kid=yield bo({jwk:Ze})),Ze})}static privateKeyToBytes({privateKey:Me}){return oc(this,void 0,void 0,function*(){if(!No(Me))throw new Error("X25519: The provided key is not a valid OKP private key.");return x.U$.base64Url(Me.d).toUint8Array()})}static publicKeyToBytes({publicKey:Me}){return oc(this,void 0,void 0,function*(){if(!qs(Me))throw new Error("X25519: The provided key is not a valid OKP public key.");return x.U$.base64Url(Me.x).toUint8Array()})}static sharedSecret({privateKeyA:Me,publicKeyB:me}){return oc(this,void 0,void 0,function*(){if("x"in Me&&"x"in me&&Me.x===me.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const ve=yield nu.privateKeyToBytes({privateKey:Me}),Ze=yield nu.publicKeyToBytes({publicKey:me});return ue.TU.getSharedSecret(ve,Ze)})}}function Da(Xe){if("string"==typeof Xe&&0!==Xe.length)return Xe.split("#").pop()}function Pp(Xe){return!(!Xe||"object"!=typeof Xe||null===Xe||!("id"in Xe&&"type"in Xe&&"controller"in Xe)||"string"!=typeof Xe.id||"string"!=typeof Xe.type||"string"!=typeof Xe.controller)}var Qs=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})};class Iu{constructor({uri:Me,document:me,metadata:ve,keyManager:Ze}){this.uri=Me,this.document=me,this.metadata=ve,this.keyManager=Ze}export(){return Qs(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let Me={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const me=[];for(let ve of this.document.verificationMethod){if(!ve.publicKeyJwk)throw new Error(`Verification method '${ve.id}' does not contain a public key in JWK format`);const Ze=yield this.keyManager.getKeyUri({key:ve.publicKeyJwk}),qe=yield this.keyManager.exportKey({keyUri:Ze});me.push(Object.assign({},qe))}Me.privateKeys=me}return Me})}getSigner(Me){return Qs(this,void 0,void 0,function*(){var me;const ve=null===(me=this.document.verificationMethod)||void 0===me?void 0:me.find(bn=>{var Gt,bt;return Da(bn.id)===(null!==(Gt=Da(Me?.methodId))&&void 0!==Gt?Gt:Da(null===(bt=this.document.assertionMethod)||void 0===bt?void 0:bt[0]))});if(!ve||!ve.publicKeyJwk)throw new Qi(Eo.InternalError,"A verification method intended for signing could not be determined from the DID Document");const Ze=yield this.keyManager.getKeyUri({key:ve.publicKeyJwk}),qe=yield this.keyManager.getPublicKey({keyUri:Ze}),pt=this.keyManager;return{algorithm:Mi(qe),keyId:ve.id,sign(bn){return Qs(this,arguments,void 0,function*({data:Gt}){return yield pt.sign({data:Gt,keyUri:Ze})})},verify(bn){return Qs(this,arguments,void 0,function*({data:Gt,signature:bt}){return yield pt.verify({data:Gt,key:qe,signature:bt})})}}})}static import(Me){return Qs(this,arguments,void 0,function*({portableDid:me,keyManager:ve=new vf}){var Ze;const qe=function iu({didDocument:Xe}){var Me,me;if(!Xe)throw new TypeError("Required parameter missing: 'didDocument'");const ve=[];return ve.push(...null!==(me=null===(Me=Xe.verificationMethod)||void 0===Me?void 0:Me.filter(Pp))&&void 0!==me?me:[]),Object.keys(ul).forEach(Ze=>{var qe,pt;ve.push(...null!==(pt=null===(qe=Xe[Ze])||void 0===qe?void 0:qe.filter(Pp))&&void 0!==pt?pt:[])}),ve}({didDocument:me.document});if(0===qe.length)throw new Qi(Eo.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let Vt of null!==(Ze=me.privateKeys)&&void 0!==Ze?Ze:[])yield ve.importKey({key:Vt});for(let Vt of qe){if(!Vt.publicKeyJwk)throw new Error(`Verification method '${Vt.id}' does not contain a public key in JWK format`);const bn=yield ve.getKeyUri({key:Vt.publicKeyJwk});yield ve.getPublicKey({keyUri:bn})}return new Iu({uri:me.uri,document:me.document,metadata:me.metadata,keyManager:ve})})}}var Cu=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})};class xf{static getSigningMethod(Me){return Cu(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(Me,me){return Cu(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var gs=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})},ku=function(Xe,Me){var me={};for(var ve in Xe)Object.prototype.hasOwnProperty.call(Xe,ve)&&Me.indexOf(ve)<0&&(me[ve]=Xe[ve]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(Xe);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ve[Ze])&&(me[ve[Ze]]=Xe[ve[Ze]])}return me};const Ru="https://diddht.tbddev.org",Hi=7200,Na=",";var ih=function(Xe){return Xe[Xe.Discoverable=0]="Discoverable",Xe[Xe.Organization=1]="Organization",Xe[Xe.Government=2]="Government",Xe[Xe.Corporation=3]="Corporation",Xe[Xe.LocalBusiness=4]="LocalBusiness",Xe[Xe.SoftwarePackage=5]="SoftwarePackage",Xe[Xe.WebApp=6]="WebApp",Xe[Xe.FinancialInstitution=7]="FinancialInstitution",Xe}(ih||{}),gc=function(Xe){return Xe[Xe.Ed25519=0]="Ed25519",Xe[Xe.secp256k1=1]="secp256k1",Xe[Xe.secp256r1=2]="secp256r1",Xe[Xe.X25519=3]="X25519",Xe}(gc||{}),$l=function(Xe){return Xe.authentication="auth",Xe.assertionMethod="asm",Xe.capabilityDelegation="del",Xe.capabilityInvocation="inv",Xe.keyAgreement="agm",Xe}($l||{});const Ou={Ed25519:gc.Ed25519,ES256K:gc.secp256k1,ES256:gc.secp256r1,"P-256":gc.secp256r1,secp256k1:gc.secp256k1,secp256r1:gc.secp256r1,X25519:gc.X25519},oo={[gc.Ed25519]:"Ed25519",[gc.secp256k1]:"ES256K",[gc.secp256r1]:"ES256",[gc.X25519]:"ECDH-ES+A256KW"};let pl=(()=>{class Xe extends xf{static create(){return gs(this,arguments,void 0,function*({keyManager:me=new vf,options:ve={}}={}){var Ze,qe,pt,Vt,bn,Gt,bt,an,Lr,pi,si;if(null!==(Ze=ve.verificationMethods)&&void 0!==Ze&&Ze.some($r=>!($r.algorithm in Ou)))throw new Error("One or more verification method algorithms are not supported");const hi=null===(qe=ve.verificationMethods)||void 0===qe?void 0:qe.filter($r=>"id"in $r).map($r=>$r.id);if(hi&&hi.length!==new Set(hi).size)throw new Error("One or more verification method IDs are not unique");if(null!==(pt=ve.services)&&void 0!==pt&&pt.some($r=>!$r.id||!$r.type||!$r.serviceEndpoint))throw new Error("One or more services are missing required properties");const Oi=yield me.generateKey({algorithm:"Ed25519"}),Wo=yield me.getPublicKey({keyUri:Oi}),mi=yield Uo.identityKeyToIdentifier({identityKey:Wo}),Cr=Object.assign(Object.assign({id:mi},ve.alsoKnownAs&&{alsoKnownAs:ve.alsoKnownAs}),ve.controllers&&{controller:ve.controllers}),ki=[...null!==(Vt=ve.verificationMethods)&&void 0!==Vt?Vt:[]];ki?.some($r=>{var Mo;return"0"===(null===(Mo=$r.id)||void 0===Mo?void 0:Mo.split("#").pop())})||ki.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const $r of ki){const Mo=$r.id&&"0"===$r.id.split("#").pop()?Oi:yield me.generateKey({algorithm:$r.algorithm}),sc=yield me.getPublicKey({keyUri:Mo});let Ge=null!==(Gt=null!==(bn=$r.id)&&void 0!==bn?bn:sc.kid)&&void 0!==Gt?Gt:yield bo({jwk:sc});Ge=`${mi}#${Da(Ge)}`,null!==(bt=Cr.verificationMethod)&&void 0!==bt||(Cr.verificationMethod=[]),Cr.verificationMethod.push({id:Ge,type:"JsonWebKey",controller:null!==(an=$r.controller)&&void 0!==an?an:mi,publicKeyJwk:sc});for(const ut of null!==(Lr=$r.purposes)&&void 0!==Lr?Lr:[])Cr[ut]||(Cr[ut]=[]),Cr[ut].push(Ge)}null===(pi=ve.services)||void 0===pi||pi.forEach($r=>{var Mo;null!==(Mo=Cr.service)&&void 0!==Mo||(Cr.service=[]),$r.id=`${mi}#${$r.id.split("#").pop()}`,Cr.service.push($r)});const uo=new Iu({uri:mi,document:Cr,metadata:Object.assign({published:!1},ve.types&&{types:ve.types}),keyManager:me});if(null===(si=ve.publish)||void 0===si||si){const $r=yield Xe.publish({did:uo,gatewayUri:ve.gatewayUri});uo.metadata=$r.didDocumentMetadata}return uo})}static import(me){return gs(this,arguments,void 0,function*({portableDid:ve,keyManager:Ze=new vf}){var qe;const pt=lo.parse(ve.uri);if(pt?.method!==Xe.methodName)throw new Qi(Eo.MethodNotSupported,"Method not supported");const Vt=yield Iu.import({portableDid:ve,keyManager:Ze});if(null===(qe=Vt.document.verificationMethod)||void 0===qe||!qe.some(bn=>{var Gt;return"0"===(null===(Gt=bn.id)||void 0===Gt?void 0:Gt.split("#").pop())}))throw new Qi(Eo.InvalidDidDocument,"DID document must contain an Identity Key");return Vt})}static getSigningMethod(me){return gs(this,arguments,void 0,function*({didDocument:ve,methodId:Ze="#0"}){var qe;const pt=lo.parse(ve.id);if(pt&&pt.method!==this.methodName)throw new Qi(Eo.MethodNotSupported,`Method not supported: ${pt.method}`);const Vt=null===(qe=ve.verificationMethod)||void 0===qe?void 0:qe.find(bn=>{var Gt,bt;return Da(bn.id)===(null!==(Gt=Da(Ze))&&void 0!==Gt?Gt:Da(null===(bt=ve.assertionMethod)||void 0===bt?void 0:bt[0]))});if(!Vt||!Vt.publicKeyJwk)throw new Qi(Eo.InternalError,"A verification method intended for signing could not be determined from the DID Document");return Vt})}static publish(me){return gs(this,arguments,void 0,function*({did:ve,gatewayUri:Ze=Ru}){return yield Mc.put({did:ve,gatewayUri:Ze})})}static resolve(me){return gs(this,arguments,void 0,function*(ve,Ze={}){var qe;const pt=null!==(qe=Ze?.gatewayUri)&&void 0!==qe?qe:Ru;try{yield Uo.identifierToIdentityKey({didUri:ve});const{didDocument:Vt,didDocumentMetadata:bn}=yield Mc.get({didUri:ve,gatewayUri:pt});return Object.assign(Object.assign({},mc),{didDocument:Vt,didDocumentMetadata:bn})}catch(Vt){if(!(Vt instanceof Qi))throw new Error(Vt);return Object.assign(Object.assign({},mc),{didResolutionMetadata:Object.assign({error:Vt.code},Vt.message&&{errorMessage:Vt.message})})}})}}return Xe.methodName="dht",Xe})();class Mc{static get(Me){return gs(this,arguments,void 0,function*({didUri:me,gatewayUri:ve}){const Ze=Uo.identifierToIdentityKeyBytes({didUri:me}),qe=yield Mc.pkarrGet({gatewayUri:ve,publicKeyBytes:Ze}),pt=yield Uo.parseBep44GetMessage({bep44Message:qe}),Vt=yield Mc.fromDnsPacket({didUri:me,dnsPacket:pt});return Vt.didDocumentMetadata.versionId=qe.seq.toString(),Vt})}static put(Me){return gs(this,arguments,void 0,function*({did:me,gatewayUri:ve}){const Ze=yield Mc.toDnsPacket({didDocument:me.document,didMetadata:me.metadata,authoritativeGatewayUris:[ve]}),qe=yield Uo.createBep44PutMessage({dnsPacket:Ze,publicKeyBytes:Uo.identifierToIdentityKeyBytes({didUri:me.uri}),signer:yield me.getSigner({methodId:"0"})}),pt=yield Mc.pkarrPut({gatewayUri:ve,bep44Message:qe});return{didDocument:me.document,didDocumentMetadata:Object.assign(Object.assign({},me.metadata),{published:pt,versionId:qe.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(Me){return gs(this,arguments,void 0,function*({gatewayUri:me,publicKeyBytes:ve}){const Ze=x.U$.uint8Array(ve).toBase32Z(),qe=new URL(Ze,me).href;let pt;try{if(pt=yield fetch(qe,{method:"GET"}),!pt.ok)throw new Qi(Eo.NotFound,`Pkarr record not found for: ${Ze}`)}catch(Gt){throw Gt instanceof Qi?Gt:new Qi(Eo.InternalError,`Failed to fetch Pkarr record: ${Gt.message}`)}const Vt=yield pt.arrayBuffer();if(!Vt)throw new Qi(Eo.NotFound,`Pkarr record not found for: ${Ze}`);if(Vt.byteLength<72)throw new Qi(Eo.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${Vt.byteLength}`);if(Vt.byteLength>1072)throw new Qi(Eo.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${Vt.byteLength}`);return{k:ve,seq:Number(new DataView(Vt).getBigUint64(64)),sig:new Uint8Array(Vt,0,64),v:new Uint8Array(Vt,72)}})}static pkarrPut(Me){return gs(this,arguments,void 0,function*({gatewayUri:me,bep44Message:ve}){const Ze=x.U$.uint8Array(ve.k).toBase32Z(),qe=new URL(Ze,me).href,pt=new Uint8Array(ve.v.length+72);let Vt;pt.set(ve.sig,0),new DataView(pt.buffer).setBigUint64(ve.sig.length,BigInt(ve.seq)),pt.set(ve.v,ve.sig.length+8);try{Vt=yield fetch(qe,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:pt})}catch(bn){throw new Qi(Eo.InternalError,`Failed to put Pkarr record for identifier ${Ze}: ${bn.message}`)}return Vt.ok})}static fromDnsPacket(Me){return gs(this,arguments,void 0,function*({didUri:me,dnsPacket:ve}){var Ze,qe,pt;const Vt={id:me},bn={published:!0},Gt=new Map;for(const bt of null!==(Ze=ve?.answers)&&void 0!==Ze?Ze:[]){if("TXT"!==bt.type)continue;const an=bt.name.split(".")[0].substring(1);switch(!0){case an.startsWith("aka"):{const Lr=Uo.parseTxtDataToString(bt.data);Vt.alsoKnownAs=Lr.split(Na);break}case an.startsWith("cnt"):{const Lr=Uo.parseTxtDataToString(bt.data);Vt.controller=Lr.includes(Na)?Lr.split(Na):Lr;break}case an.startsWith("k"):{const{id:Lr,t:pi,k:si,c:hi,a:Oi}=Uo.parseTxtDataToObject(bt.data),Wo=x.U$.base64Url(si).toUint8Array(),mi=gc[Number(pi)];let Cr=yield Uo.keyConverter(mi).bytesToPublicKey({publicKeyBytes:Wo});Cr.alg=Oi||oo[Number(pi)];const ki="k0"===an?"0":void 0!==Lr?Lr:yield bo({jwk:Cr});null!==(qe=Vt.verificationMethod)&&void 0!==qe||(Vt.verificationMethod=[]);const uo=`${me}#${ki}`;Vt.verificationMethod.push({id:uo,type:"JsonWebKey",controller:hi??me,publicKeyJwk:Cr}),Gt.set(an,uo);break}case an.startsWith("s"):{const Lr=Uo.parseTxtDataToObject(bt.data),{id:pi,t:si,se:hi}=Lr,Oi=ku(Lr,["id","t","se"]),Wo=hi.includes(Na)?hi.split(Na):[hi],mi=Object.fromEntries(Object.entries(Oi).map(([Cr,ki])=>[Cr,ki.includes(Na)?ki.split(Na):ki]));null!==(pt=Vt.service)&&void 0!==pt||(Vt.service=[]),Vt.service.push(Object.assign(Object.assign({},mi),{id:`${me}#${pi}`,type:si,serviceEndpoint:Wo}));break}case an.startsWith("typ"):{const{id:Lr}=Uo.parseTxtDataToObject(bt.data);bn.types=Lr.split(Na).map(pi=>Number(pi));break}case an.startsWith("did"):{const Lr=mi=>mi.split(Na).map(Cr=>Gt.get(Cr)).filter(Cr=>"string"==typeof Cr),{auth:pi,asm:si,del:hi,inv:Oi,agm:Wo}=Uo.parseTxtDataToObject(bt.data);pi&&(Vt.authentication=Lr(pi)),si&&(Vt.assertionMethod=Lr(si)),hi&&(Vt.capabilityDelegation=Lr(hi)),Oi&&(Vt.capabilityInvocation=Lr(Oi)),Wo&&(Vt.keyAgreement=Lr(Wo));break}}}return{didDocument:Vt,didDocumentMetadata:bn,didResolutionMetadata:{}}})}static toDnsPacket(Me){return gs(this,arguments,void 0,function*({didDocument:me,didMetadata:ve,authoritativeGatewayUris:Ze,previousDidProof:qe}){var pt,Vt,bn,Gt,bt;const an=[],Lr=[],pi=new Map,si=[],hi=[];if(void 0!==qe){const{signature:mi,previousDid:Cr}=qe;yield Uo.validatePreviousDidProof({newDid:me.id,previousDidProof:qe}),an.push({type:"TXT",name:"_prv._did.",ttl:Hi,data:`id=${Cr};s=${mi}`})}if(me.alsoKnownAs&&an.push({type:"TXT",name:"_aka._did.",ttl:Hi,data:me.alsoKnownAs.join(Na)}),me.controller){const mi=Array.isArray(me.controller)?me.controller.join(Na):me.controller;an.push({type:"TXT",name:"_cnt._did.",ttl:Hi,data:mi})}for(const[mi,Cr]of null!==(Vt=null===(pt=me.verificationMethod)||void 0===pt?void 0:pt.entries())&&void 0!==Vt?Vt:[]){const ki=`k${mi}`;hi.push(ki);let uo=Cr.id.split("#").pop();pi.set(uo,ki);const $r=Cr.publicKeyJwk;if(!$r?.crv||!($r.crv in Ou))throw new Qi(Eo.InvalidPublicKeyType,`Verification method '${Cr.id}' contains an unsupported key type: ${null!==(bn=$r?.crv)&&void 0!==bn?bn:"undefined"}`);const Mo=gc[$r.crv],sc=yield Uo.keyConverter($r.crv).publicKeyToBytes({publicKey:$r}),ut=[`t=${Mo}`,`k=${x.U$.uint8Array(sc).toBase64Url()}`];"0"!==uo&&(yield bo({jwk:$r}))!==uo&&ut.unshift(`id=${uo}`),$r.alg!==oo[Mo]&&ut.push(`a=${$r.alg}`),Cr.controller!==me.id&&ut.push(`c=${Cr.controller}`),an.push({type:"TXT",name:`_${ki}._did.`,ttl:Hi,data:ut.join(";")})}null===(Gt=me.service)||void 0===Gt||Gt.forEach((mi,Cr)=>{const ki=`s${Cr}`;si.push(ki);let{id:uo,type:$r,serviceEndpoint:Mo}=mi,sc=ku(mi,["id","type","serviceEndpoint"]);uo=Da(uo),Mo=Array.isArray(Mo)?Mo.join(","):Mo;const ut=Object.entries(Object.assign({id:uo,t:$r,se:Mo},sc)).map(([yt,Ut])=>`${yt}=${Ut}`).join(";"),Qe=Uo.chunkDataIfNeeded(ut);an.push({type:"TXT",name:`_${ki}._did.`,ttl:Hi,data:Qe})});const Oi=["v=0"];if(hi.length&&Oi.push(`vm=${hi.join(Na)}`),Object.keys(ul).forEach(mi=>{var Cr;const ki=null===(Cr=me[mi])||void 0===Cr?void 0:Cr.map(uo=>pi.get(uo.split("#").pop()));ki&&Oi.push(`${$l[mi]}=${ki.join(Na)}`)}),si.length&&Oi.push(`svc=${si.join(Na)}`),null!==(bt=ve.types)&&void 0!==bt&&bt.length){const Cr=ve.types.map(ki=>"string"==typeof ki?ih[ki]:ki);an.push({type:"TXT",name:"_typ._did.",ttl:Hi,data:`id=${Cr.join(Na)}`})}an.push({type:"TXT",name:"_did."+Mc.getUniqueDidSuffix(me.id)+".",ttl:Hi,data:Oi.join(";")});for(const mi of Ze||[])Lr.push({type:"NS",name:"_did."+Mc.getUniqueDidSuffix(me.id)+".",ttl:Hi,data:mi+"."});return{id:0,type:"response",flags:tn.hB,answers:[...an,...Lr]}})}static getUniqueDidSuffix(Me){return Me.split(":")[2]}}class Uo{static createBep44PutMessage(Me){return gs(this,arguments,void 0,function*({dnsPacket:me,publicKeyBytes:ve,signer:Ze}){const qe=Math.ceil(Date.now()/1e3),pt=(0,tn.lF)(me),Vt=Zr.A.encode({seq:qe,v:pt}).subarray(1,-1);if(Vt.length>1e3)throw new Qi(Eo.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${Vt.length} bytes`);return{k:ve,seq:qe,sig:yield Ze.sign({data:Vt}),v:pt}})}static identifierToIdentityKey(Me){return gs(this,arguments,void 0,function*({didUri:me}){let ve=Uo.identifierToIdentityKeyBytes({didUri:me});return yield Lo.bytesToPublicKey({publicKeyBytes:ve})})}static identifierToIdentityKeyBytes({didUri:Me}){const me=lo.parse(Me);if(!me)throw new Qi(Eo.InvalidDid,`Invalid DID URI: ${Me}`);if(me.method!==pl.methodName)throw new Qi(Eo.MethodNotSupported,`Method not supported: ${me.method}`);let ve;try{ve=x.U$.base32Z(me.id).toUint8Array()}catch{throw new Qi(Eo.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==ve.length)throw new Qi(Eo.InvalidPublicKeyLength,`Invalid public key length: ${ve.length}`);return ve}static identityKeyToIdentifier(Me){return gs(this,arguments,void 0,function*({identityKey:me}){const ve=yield Lo.publicKeyToBytes({publicKey:me}),Ze=x.U$.uint8Array(ve).toBase32Z();return`did:${pl.methodName}:${Ze}`})}static keyConverter(Me){const ve={Ed25519:Lo,"P-256":{publicKeyToBytes:Ze=>gs(this,[Ze],void 0,function*({publicKey:qe}){const pt=yield pn.publicKeyToBytes({publicKey:qe});return yield pn.compressPublicKey({publicKeyBytes:pt})}),bytesToPublicKey:pn.bytesToPublicKey,privateKeyToBytes:pn.privateKeyToBytes,bytesToPrivateKey:pn.bytesToPrivateKey},secp256k1:{publicKeyToBytes:Ze=>gs(this,[Ze],void 0,function*({publicKey:qe}){const pt=yield Xn.publicKeyToBytes({publicKey:qe});return yield Xn.compressPublicKey({publicKeyBytes:pt})}),bytesToPublicKey:Xn.bytesToPublicKey,privateKeyToBytes:Xn.privateKeyToBytes,bytesToPrivateKey:Xn.bytesToPrivateKey},X25519:nu}[Me];if(!ve)throw new Qi(Eo.InvalidPublicKeyType,`Unsupported curve: ${Me}`);return ve}static parseBep44GetMessage(Me){return gs(this,arguments,void 0,function*({bep44Message:me}){const ve=yield Lo.bytesToPublicKey({publicKeyBytes:me.k}),Ze=Zr.A.encode({seq:me.seq,v:me.v}).subarray(1,-1);if(!(yield Lo.verify({key:ve,signature:me.sig,data:Ze})))throw new Qi(Eo.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,tn.D4)(me.v)})}static parseTxtDataToObject(Me){return this.parseTxtDataToString(Me).split(";").reduce((me,ve)=>{const[Ze,qe]=ve.split("=");return me[Ze]=qe,me},{})}static parseTxtDataToString(Me){if("string"==typeof Me)return Me;if(Me instanceof Uint8Array)return x.U$.uint8Array(Me).toString();if(Array.isArray(Me))return Me.map(me=>this.parseTxtDataToString(me)).join("");throw new Qi(Eo.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(Me){return gs(this,arguments,void 0,function*({newDid:me,previousDidProof:ve}){const Ze=yield Uo.identifierToIdentityKey({didUri:ve.previousDid}),qe=Uo.identifierToIdentityKeyBytes({didUri:me}),pt=x.U$.base64Url(ve.signature).toUint8Array();if(!(yield Lo.verify({key:Ze,data:qe,signature:pt})))throw new Qi(Eo.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(Me){if(Me.length<=255)return Me;const me=[];for(let ve=0;ve<Me.length;ve+=255)me.push(Me.slice(ve,ve+255));return me}}let Xo=(()=>{class Xe extends xf{static resolve(me,ve){return function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})}(this,void 0,void 0,function*(){const Ze=lo.parse(me);if(!Ze)return Object.assign(Object.assign({},mc),{didResolutionMetadata:{error:"invalidDid"}});if(Ze.method!==Xe.methodName)return Object.assign(Object.assign({},mc),{didResolutionMetadata:{error:"methodNotSupported"}});let qe=`https://${Ze.id.replace(/:/g,"/")}`;qe=decodeURIComponent(qe);const pt=Ze.id.includes(":")?`${qe}/did.json`:`${qe}/.well-known/did.json`;try{const Vt=yield fetch(pt);if(!Vt.ok)throw new Error("HTTP error status code returned");const bn=yield Vt.json();return Object.assign(Object.assign({},mc),{didDocument:bn})}catch{return Object.assign(Object.assign({},mc),{didResolutionMetadata:{error:"notFound"}})}})}}return Xe.methodName="web",Xe})();w(44514),w(1424);const ml={get:function(Xe){return null},set:function(Xe,Me){return null},delete:function(Xe){return null},clear:function(){return null},close:function(){return null}};var Ms=function(Xe,Me,me,ve){return new(me||(me=Promise))(function(qe,pt){function Vt(bt){try{Gt(ve.next(bt))}catch(an){pt(an)}}function bn(bt){try{Gt(ve.throw(bt))}catch(an){pt(an)}}function Gt(bt){bt.done?qe(bt.value):function Ze(qe){return qe instanceof me?qe:new me(function(pt){pt(qe)})}(bt.value).then(Vt,bn)}Gt((ve=ve.apply(Xe,Me||[])).next())})};new class yd{constructor({cache:Me,didResolvers:me}){this.didResolvers=new Map,this.cache=Me||ml;for(const ve of me)this.didResolvers.set(ve.methodName,ve)}resolve(Me,me){return Ms(this,void 0,void 0,function*(){const ve=lo.parse(Me);if(!ve)return Object.assign(Object.assign({},mc),{didResolutionMetadata:{error:Eo.InvalidDid,errorMessage:`Invalid DID URI: ${Me}`}});const Ze=this.didResolvers.get(ve.method);if(!Ze)return Object.assign(Object.assign({},mc),{didResolutionMetadata:{error:Eo.MethodNotSupported,errorMessage:`Method not supported: ${ve.method}`}});const qe=yield this.cache.get(ve.uri);if(qe)return qe;{const pt=yield Ze.resolve(ve.uri,me);return pt.didResolutionMetadata.error||(yield this.cache.set(ve.uri,pt)),pt}})}dereference(Me,me){return Ms(this,void 0,void 0,function*(){const ve=lo.parse(Me);if(!ve)return{dereferencingMetadata:{error:Eo.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:Ze,didResolutionMetadata:qe,didDocumentMetadata:pt}=yield this.resolve(ve.uri);if(!Ze)return{dereferencingMetadata:{error:qe.error},contentStream:null,contentMetadata:{}};if(!ve.fragment||ve.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:Ze,contentMetadata:pt};const{service:Vt=[],verificationMethod:bn=[]}=Ze,Gt=new Set([Me,ve.fragment,`#${ve.fragment}`]);let bt;for(let an of bn)if(Gt.has(an.id)){bt=an;break}for(let an of Vt)if(Gt.has(an.id)){bt=an;break}return bt?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:bt,contentMetadata:qe}:{dereferencingMetadata:{error:Eo.NotFound},contentStream:null,contentMetadata:{}}})}}({didResolvers:[pl,Xo]})},37475:(je,H,w)=>{"use strict";w.d(H,{U$:()=>j,cG:()=>se,ny:()=>de,Gs:()=>re,VS:()=>f,Z6:()=>ke,LC:()=>d,RI:()=>te,E8:()=>Z,fc:()=>P});var d=w(52191),E=w(15130),k=w(80286),z=w(14725);function P(y){const M=Object.prototype.toString.call(y).match(/\s([a-zA-Z0-9]+)/),[T,B]=M;return B}var F=function(y,g,M,T){return new(M||(M=Promise))(function(S,s){function v(ee){try{K(T.next(ee))}catch(ce){s(ce)}}function W(ee){try{K(T.throw(ee))}catch(ce){s(ce)}}function K(ee){ee.done?S(ee.value):function B(S){return S instanceof M?S:new M(function(s){s(S)})}(ee.value).then(v,W)}K((T=T.apply(y,g||[])).next())})},L=function(y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var M,g=y[Symbol.asyncIterator];return g?g.call(y):(y="function"==typeof __values?__values(y):y[Symbol.iterator](),M={},T("next"),T("throw"),T("return"),M[Symbol.asyncIterator]=function(){return this},M);function T(S){M[S]=y[S]&&function(s){return new Promise(function(v,W){!function B(S,s,v,W){Promise.resolve(W).then(function(K){S({value:K,done:v})},s)}(v,W,(s=y[S](s)).done,s.value)})}}};const D=new TextEncoder,X=new TextDecoder;class j{constructor(g,M){this.data=g,this.format=M}static arrayBuffer(g){return new j(g,"ArrayBuffer")}static asyncIterable(g){if(!function O(y){return"object"==typeof y&&null!==y&&"function"==typeof y[Symbol.asyncIterator]}(g))throw new TypeError("Input must be of type AsyncIterable.");return new j(g,"AsyncIterable")}static base32Z(g){return new j(g,"Base32Z")}static base58Btc(g){return new j(g,"Base58Btc")}static base64Url(g){return new j(g,"Base64Url")}static bufferSource(g){return new j(g,"BufferSource")}static hex(g){if("string"!=typeof g)throw new TypeError("Hex input must be a string.");if(g.length%2!=0)throw new TypeError("Hex input must have an even number of characters.");return new j(g,"Hex")}static multibase(g){return new j(g,"Multibase")}static object(g){return new j(g,"Object")}static string(g){return new j(g,"String")}static uint8Array(g){return new j(g,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return k.s.baseDecode(this.data).buffer;case"Base64Url":return z.r0.baseDecode(this.data).buffer;case"BufferSource":if("ArrayBuffer"===P(this.data))return this.data;if(ArrayBuffer.isView(this.data))return function x(y){return 0!==y.byteOffset||y.byteLength!==y.buffer.byteLength}(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`);case"Hex":case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return F(this,void 0,void 0,function*(){if("AsyncIterable"===this.format)return yield(yield this.toBlobAsync()).arrayBuffer();throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)})}toBase32Z(){if("Uint8Array"===this.format)return E.jd.baseEncode(this.data);throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const g=new Uint8Array(this.data);return k.s.baseEncode(g)}case"Multibase":return this.data.substring(1);case"Uint8Array":return k.s.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const g=new Uint8Array(this.data);return z.r0.baseEncode(g)}case"BufferSource":{const g=this.toUint8Array();return z.r0.baseEncode(g)}case"Object":{const g=JSON.stringify(this.data),M=D.encode(g);return z.r0.baseEncode(M)}case"String":{const g=D.encode(this.data);return z.r0.baseEncode(g)}case"Uint8Array":return z.r0.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){var g,M,T;return F(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const W=[];try{for(var v,S=!0,s=L(this.data);v=yield s.next(),!(g=v.done);S=!0)S=!1,W.push(v.value)}catch(ee){M={error:ee}}finally{try{!S&&!g&&(T=s.return)&&(yield T.call(s))}finally{if(M)throw M.error}}return new Blob(W)}throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)})}toHex(){const g=Array.from({length:256},(M,T)=>T.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const M=this.toUint8Array();return j.uint8Array(M).toHex()}case"Base64Url":{const M=this.toUint8Array();return j.uint8Array(M).toHex()}case"Uint8Array":{let M="";for(let T=0;T<this.data.length;T++)M+=g[this.data[T]];return M}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){if("Base58Btc"===this.format)return`z${this.data}`;throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}toObject(){switch(this.format){case"Base64Url":{const g=z.r0.baseDecode(this.data),M=X.decode(g);return JSON.parse(M)}case"String":return JSON.parse(this.data);case"Uint8Array":{const g=X.decode(this.data);return JSON.parse(g)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return F(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const g=yield this.toStringAsync();return JSON.parse(g)}throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)})}toString(){switch(this.format){case"ArrayBuffer":case"Uint8Array":return X.decode(this.data);case"Base64Url":{const g=z.r0.baseDecode(this.data);return X.decode(g)}case"Object":return JSON.stringify(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){var g,M,T,B;return F(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){let W="";try{for(var v,S=!0,s=L(this.data);v=yield s.next(),!(g=v.done);S=!0)S=!1,W+="string"==typeof(B=v.value)?B:X.decode(B,{stream:!0})}catch(K){M={error:K}}finally{try{!S&&!g&&(T=s.return)&&(yield T.call(s))}finally{if(M)throw M.error}}return W+=X.decode(void 0,{stream:!1}),W}throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return E.jd.baseDecode(this.data);case"Base58Btc":return k.s.baseDecode(this.data);case"Base64Url":return z.r0.baseDecode(this.data);case"BufferSource":{const g=P(this.data);if("Uint8Array"===g)return this.data;if("ArrayBuffer"===g)return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const g=new Uint8Array(this.data.length/2);for(let M=0;M<this.data.length;M+=2){const T=parseInt(this.data.substring(M,M+2),16);if(isNaN(T))throw new TypeError("Input is not a valid hexadecimal string.");g[M/2]=T}return g}case"Object":{const g=JSON.stringify(this.data);return D.encode(g)}case"String":return D.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return F(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const g=yield this.toArrayBufferAsync();return new Uint8Array(g)}throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)})}}var G=w(41405);class re{static addPrefix(g){var M;let{code:T,data:B,name:S}=g;if(!(S?!T:T))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(T=re.codeToName.has(T)?T:re.nameToCode.get(S),void 0===T)throw new Error(`Unsupported multicodec: ${null!==(M=g.name)&&void 0!==M?M:g.code}`);const s=G.L8.encodingLength(T),v=new Uint8Array(s+B.byteLength);return v.set(B,s),G.L8.encodeTo(T,v),v}static getCodeFromData(g){const{prefixedData:M}=g,[T,B]=G.L8.decode(M);return T}static getCodeFromName(g){const{name:M}=g,T=re.nameToCode.get(M);if(void 0===T)throw new Error(`Unsupported multicodec: ${M}`);return T}static getNameFromCode(g){const{code:M}=g,T=re.codeToName.get(M);if(void 0===T)throw new Error(`Unsupported multicodec: ${M}`);return T}static registerCodec(g){re.codeToName.set(g.code,g.name),re.nameToCode.set(g.name,g.code)}static removePrefix(g){const{prefixedData:M}=g,[T,B]=G.L8.decode(M),S=re.codeToName.get(T);if(void 0===S)throw new Error(`Unsupported multicodec: ${T}`);return{code:T,data:M.slice(B),name:S}}}function te(y){return!("object"!=typeof y||null===y||Object.getOwnPropertySymbols(y).length>0)&&0===Object.keys(y).length}function Z(y){Object.keys(y).forEach(g=>{void 0===y[g]?delete y[g]:"object"==typeof y[g]&&Z(y[g])})}re.codeToName=new Map,re.nameToCode=new Map,re.registerCodec({code:237,name:"ed25519-pub"}),re.registerCodec({code:4864,name:"ed25519-priv"}),re.registerCodec({code:236,name:"x25519-pub"}),re.registerCodec({code:4866,name:"x25519-priv"}),re.registerCodec({code:231,name:"secp256k1-pub"}),re.registerCodec({code:4865,name:"secp256k1-priv"});var ie=w(54626),ae=function(y,g,M,T){return new(M||(M=Promise))(function(S,s){function v(ee){try{K(T.next(ee))}catch(ce){s(ce)}}function W(ee){try{K(T.throw(ee))}catch(ce){s(ce)}}function K(ee){ee.done?S(ee.value):function B(S){return S instanceof M?S:new M(function(s){s(S)})}(ee.value).then(v,W)}K((T=T.apply(y,g||[])).next())})};class se{constructor({db:g,location:M="DATASTORE"}={}){this.store=g??new ie.Level(M)}clear(){return ae(this,void 0,void 0,function*(){yield this.store.clear()})}close(){return ae(this,void 0,void 0,function*(){yield this.store.close()})}delete(g){return ae(this,void 0,void 0,function*(){yield this.store.del(g)})}get(g){return ae(this,void 0,void 0,function*(){try{return yield this.store.get(g)}catch(M){if(M.notFound)return;throw M}})}set(g,M){return ae(this,void 0,void 0,function*(){yield this.store.put(g,M)})}}class de{constructor(){this.store=new Map}clear(){return ae(this,void 0,void 0,function*(){this.store.clear()})}close(){return ae(this,void 0,void 0,function*(){})}delete(g){return ae(this,void 0,void 0,function*(){return this.store.delete(g)})}get(g){return ae(this,void 0,void 0,function*(){return this.store.get(g)})}has(g){return ae(this,void 0,void 0,function*(){return this.store.has(g)})}list(){return ae(this,void 0,void 0,function*(){return Array.from(this.store.values())})}set(g,M){return ae(this,void 0,void 0,function*(){this.store.set(g,M)})}}var le=function(y,g,M,T){return new(M||(M=Promise))(function(S,s){function v(ee){try{K(T.next(ee))}catch(ce){s(ce)}}function W(ee){try{K(T.throw(ee))}catch(ce){s(ce)}}function K(ee){ee.done?S(ee.value):function B(S){return S instanceof M?S:new M(function(s){s(S)})}(ee.value).then(v,W)}K((T=T.apply(y,g||[])).next())})},be=function(y){return this instanceof be?(this.v=y,this):new be(y)};class ke{static asAsyncIterator(g){return function(y,g,M){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B,T=M.apply(y,g||[]),S=[];return B={},s("next"),s("throw"),s("return"),B[Symbol.asyncIterator]=function(){return this},B;function s(_e){T[_e]&&(B[_e]=function(Oe){return new Promise(function(Ve,Se){S.push([_e,Oe,Ve,Se])>1||v(_e,Oe)})})}function v(_e,Oe){try{!function W(_e){_e.value instanceof be?Promise.resolve(_e.value.v).then(K,ee):ce(S[0][2],_e)}(T[_e](Oe))}catch(Ve){ce(S[0][3],Ve)}}function K(_e){v("next",_e)}function ee(_e){v("throw",_e)}function ce(_e,Oe){_e(Oe),S.shift(),S.length&&v(S[0][0],S[0][1])}}(this,arguments,function*(){const T=g.getReader();try{for(;;){const{done:B,value:S}=yield be(T.read());if(B)break;yield yield be(S)}}finally{T.releaseLock()}})}static consumeToArrayBuffer({readableStream:g}){return le(this,void 0,void 0,function*(){const M=ke.asAsyncIterator(g);return yield j.asyncIterable(M).toArrayBufferAsync()})}static consumeToBlob({readableStream:g}){return le(this,void 0,void 0,function*(){const M=ke.asAsyncIterator(g);return yield j.asyncIterable(M).toBlobAsync()})}static consumeToBytes({readableStream:g}){return le(this,void 0,void 0,function*(){const M=ke.asAsyncIterator(g);return yield j.asyncIterable(M).toUint8ArrayAsync()})}static consumeToJson({readableStream:g}){return le(this,void 0,void 0,function*(){const M=ke.asAsyncIterator(g);return yield j.asyncIterable(M).toObjectAsync()})}static consumeToText({readableStream:g}){return le(this,void 0,void 0,function*(){const M=ke.asAsyncIterator(g);return yield j.asyncIterable(M).toStringAsync()})}static generateByteStream({streamLength:g,chunkLength:M,fillValue:T}){let S,B=g??1/0;function s(){const v=Math.min(B,M??1/0);let W;if(B-=v,"number"==typeof T)W=new Uint8Array(v).fill(T);else if(Array.isArray(T)){W=new Uint8Array(v);const[K,ee]=T,ce=ee-K+1;for(let _e=0;_e<v;_e++)W[_e]=Math.floor(Math.random()*ce)+K}else W=new Uint8Array(v);S.enqueue(W),B<=0&&S.close()}return new ReadableStream({start(v){S=v,s()},pull(){s()}})}static isReadable({readableStream:g}){if(!ke.isReadableStream(g)||g.locked)return!1;try{return g.getReader().releaseLock(),!0}catch{return!1}}static isReadableStream(g){return"object"==typeof g&&null!==g&&"getReader"in g&&"function"==typeof g.getReader}static isStream(g){return ke.isReadableStream(g)||ke.isWritableStream(g)||ke.isTransformStream(g)}static isTransformStream(g){return"object"==typeof g&&null!==g&&"readable"in g&&"object"==typeof g.readable&&"writable"in g&&"object"==typeof g.writable}static isWritableStream(g){return"object"==typeof g&&null!==g&&"getWriter"in g&&"function"==typeof g.getWriter&&"abort"in g&&"function"==typeof g.abort}}var C=w(95424),a=function(y,g,M,T){return new(M||(M=Promise))(function(S,s){function v(ee){try{K(T.next(ee))}catch(ce){s(ce)}}function W(ee){try{K(T.throw(ee))}catch(ce){s(ce)}}function K(ee){ee.done?S(ee.value):function B(S){return S instanceof M?S:new M(function(s){s(S)})}(ee.value).then(v,W)}K((T=T.apply(y,g||[])).next())})};class f{static consumeToArrayBuffer({readable:g}){return a(this,void 0,void 0,function*(){return yield j.asyncIterable(g).toArrayBufferAsync()})}static consumeToBlob({readable:g}){return a(this,void 0,void 0,function*(){return yield j.asyncIterable(g).toBlobAsync()})}static consumeToBytes({readable:g}){return a(this,void 0,void 0,function*(){return yield j.asyncIterable(g).toUint8ArrayAsync()})}static consumeToJson({readable:g}){return a(this,void 0,void 0,function*(){return yield j.asyncIterable(g).toObjectAsync()})}static consumeToText({readable:g}){return a(this,void 0,void 0,function*(){return yield j.asyncIterable(g).toStringAsync()})}static fromWebReadable({readableStream:g,readableOptions:M}){if(!ke.isReadableStream(g))throw new TypeError("NodeStream.fromWebReadable: 'readableStream' is not a Web ReadableStream.");const T=g.getReader();let B=!1;const S=new C.Readable(Object.assign(Object.assign({},M),{read:function(){T.read().then(({done:s,value:v})=>{if(s)this.push(null);else if(!this.push(v))return}).catch(s=>{this.destroy(s)})},destroy:function(s,v){function W(){v(s)}B?W():T.cancel(s).then(W).catch(W)}}));return T.closed.then(()=>{B=!0}).catch(s=>{B=!0,S.destroy(s)}),S}static isDestroyed({stream:g}){if(!f.isStream(g))throw new TypeError("NodeStream.isDestroyed: 'stream' is not a Node stream.");return!(!g.destroyed&&!(("_writableState"in g?g._writableState:void 0)||g._readableState).destroyed)}static isReadable({readable:g}){return!!f.isReadableStream(g)&&g.readable&&"boolean"==typeof g._readableState.ended&&!g._readableState.ended&&"boolean"==typeof g._readableState.endEmitted&&!g._readableState.endEmitted&&!g.destroyed&&!g.isPaused()}static isReadableStream(g){return"object"==typeof g&&null!==g&&"pipe"in g&&"function"==typeof g.pipe&&"on"in g&&"function"==typeof g.on&&!("_writableState"in g)&&"_readableState"in g}static isStream(g){return"object"==typeof g&&null!==g&&("_readableState"in g||"_writableState"in g)}static toWebReadable({readable:g}){if(!f.isReadableStream(g))throw new TypeError("NodeStream.toWebReadable: 'readable' is not a Node Readable stream.");if(f.isDestroyed({stream:g})){const M=new ReadableStream;return M.cancel(),M}return new ReadableStream({start(M){g.on("data",T=>{M.enqueue(T)}),g.on("end",()=>{M.close()}),g.on("error",T=>{M.error(T)})},cancel(){g.destroy()}})}}},2198:(je,H,w)=>{"use strict";w.d(H,{A:()=>ue});const d="0123456789abcdef",E=[],k=[];for(let Q=0;Q<256;Q++)E[Q]=d[Q>>4&15]+d[15&Q],Q<16&&(Q<10?k[48+Q]=Q:k[87+Q]=Q);const z=Q=>{const oe=Q.length;let fe="",Ee=0;for(;Ee<oe;)fe+=E[Q[Ee++]];return fe};for(var F=typeof Uint8Array>"u"?[]:new Uint8Array(256),L=0;L<64;L++)F["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(L)]=L;const j=new TextDecoder,G=(Q,oe)=>oe?new TextDecoder(oe).decode(Q):j.decode(Q),re=new TextEncoder,te=Q=>re.encode(Q);function a(Q){const oe=Q<0?1:0;return Q=Math.abs(Number(Q||1)),Math.floor(Math.log10(Q))+1+oe}function f(Q){return ArrayBuffer.isView(Q)?"arraybufferview":Array.isArray(Q)?"array":Q instanceof Number?"number":Q instanceof Boolean?"boolean":Q instanceof Set?"set":Q instanceof Map?"map":Q instanceof String?"string":Q instanceof ArrayBuffer?"arraybuffer":typeof Q}function y(Q,oe,fe){const Ee=[];let Re=null;return y._encode(Ee,Q),Re=((Q,oe=0)=>{const fe=Q.length||0;if(!oe){let Fe=fe;for(;Fe--;)oe+=Q[Fe].length}const Ee=new Uint8Array(oe);let Re=oe,$e=fe;for(;$e--;)Re-=Q[$e].length,Ee.set(Q[$e],Re);return Ee})(Ee),y.bytes=Re.length,ArrayBuffer.isView(oe)?(oe.set(Re,fe),oe):Re}typeof window<"u"?window:self,y.bytes=-1,y._floatConversionDetected=!1,y._encode=function(Q,oe){if(null!=oe)switch(f(oe)){case"object":y.dict(Q,oe);break;case"map":y.dictMap(Q,oe);break;case"array":y.list(Q,oe);break;case"set":y.listSet(Q,oe);break;case"string":y.string(Q,oe);break;case"number":case"boolean":y.number(Q,oe);break;case"arraybufferview":y.buffer(Q,new Uint8Array(oe.buffer,oe.byteOffset,oe.byteLength));break;case"arraybuffer":y.buffer(Q,new Uint8Array(oe))}};const g=new Uint8Array([101]),M=new Uint8Array([100]),T=new Uint8Array([108]);y.buffer=function(Q,oe){Q.push(te(oe.length+":"),oe)},y.string=function(Q,oe){Q.push(te(te(oe).byteLength+":"+oe))},y.number=function(Q,oe){if(Number.isInteger(oe))return Q.push(te("i"+BigInt(oe)+"e"));const fe=2147483648,$e=(oe/fe|0)*fe+(oe%fe|0);Q.push(te("i"+$e+"e")),$e!==oe&&!y._floatConversionDetected&&(y._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+oe+'":','Bencoding only defines support for integers, value was converted to "'+$e+'"'),console.trace())},y.dict=function(Q,oe){Q.push(M);let Ee,fe=0;const Re=Object.keys(oe).sort(),$e=Re.length;for(;fe<$e;fe++)Ee=Re[fe],null!=oe[Ee]&&(y.string(Q,Ee),y._encode(Q,oe[Ee]));Q.push(g)},y.dictMap=function(Q,oe){Q.push(M);const fe=Array.from(oe.keys()).sort();for(const Ee of fe)null!=oe.get(Ee)&&(ArrayBuffer.isView(Ee)?y._encode(Q,Ee):y.string(Q,String(Ee)),y._encode(Q,oe.get(Ee)));Q.push(g)},y.list=function(Q,oe){let fe=0;const Ee=oe.length;for(Q.push(T);fe<Ee;fe++)null!=oe[fe]&&y._encode(Q,oe[fe]);Q.push(g)},y.listSet=function(Q,oe){Q.push(T);for(const fe of oe)null!=fe&&y._encode(Q,fe);Q.push(g)};const B=y;function ee(Q,oe,fe){let Ee=0,Re=1;for(let $e=oe;$e<fe;$e++){const Fe=Q[$e];if(Fe<58&&Fe>=48)Ee=10*Ee+(Fe-48);else if($e!==oe||43!==Fe){if($e===oe&&45===Fe){Re=-1;continue}if(46===Fe)break;throw new Error("not a number: buffer["+$e+"] = "+Fe)}}return Ee*Re}function ce(Q,oe,fe,Ee){return null==Q||0===Q.length?null:("number"!=typeof oe&&null==Ee&&(Ee=oe,oe=void 0),"number"!=typeof fe&&null==Ee&&(Ee=fe,fe=void 0),ce.position=0,ce.encoding=Ee||null,ce.data=ArrayBuffer.isView(Q)?new Uint8Array(Q.slice(oe,fe)):te(Q),ce.bytes=ce.data.length,ce.next())}function ye(Q){if(null==Q)return 0;const fe=f(Q);switch(fe){case"arraybufferview":return function Ue(Q){const oe=Q.byteLength-Q.byteOffset;return a(oe)+1+oe}(Q);case"string":return function we(Q){const oe=te(Q).byteLength;return a(oe)+1+oe}(Q);case"array":case"set":return function Oe(Q){let oe=2;for(const fe of Q)oe+=ye(fe);return oe}(Q);case"number":return 1+a(Math.floor(Q))+1;case"bigint":return 1+Q.toString().length+1;case"object":return function Se(Q){let oe=2;const fe=Object.keys(Q);for(let Ee=0;Ee<fe.length;Ee++){const Re=te(fe[Ee]).byteLength;oe+=a(Re)+1+Re,oe+=ye(Q[fe[Ee]])}return oe}(Q);case"map":return function Ve(Q){let oe=2;for(const[fe,Ee]of Q){const Re=te(fe).byteLength;oe+=a(Re)+1+Re,oe+=ye(Ee)}return oe}(Q);default:throw new TypeError(`Unsupported value of type "${fe}"`)}}ce.bytes=0,ce.position=0,ce.data=null,ce.encoding=null,ce.next=function(){switch(ce.data[ce.position]){case 100:return ce.dictionary();case 108:return ce.list();case 105:return ce.integer();default:return ce.buffer()}},ce.find=function(Q){let oe=ce.position;const fe=ce.data.length,Ee=ce.data;for(;oe<fe;){if(Ee[oe]===Q)return oe;oe++}throw new Error('Invalid data: Missing delimiter "'+String.fromCharCode(Q)+'" [0x'+Q.toString(16)+"]")},ce.dictionary=function(){ce.position++;const Q={};for(;101!==ce.data[ce.position];){const oe=ce.buffer();let fe=G(oe);fe.includes("\ufffd")&&(fe=z(oe)),Q[fe]=ce.next()}return ce.position++,Q},ce.list=function(){ce.position++;const Q=[];for(;101!==ce.data[ce.position];)Q.push(ce.next());return ce.position++,Q},ce.integer=function(){const Q=ce.find(101),oe=ee(ce.data,ce.position+1,Q);return ce.position+=Q+1-ce.position,oe},ce.buffer=function(){let Q=ce.find(58);const oe=ee(ce.data,ce.position,Q),fe=++Q+oe;return ce.position=fe,ce.encoding?G(ce.data.slice(Q,fe)):ce.data.slice(Q,fe)};const ue={encode:B,decode:ce,byteLength:ye,encodingLength:ye}},10797:(je,H,w)=>{"use strict";w.d(H,{_Q:()=>X,yE:()=>re});var x=w(52054);class O{constructor(J,Z,ie){this.name=J,this.prefix=Z,this.baseEncode=ie}encode(J){if(J instanceof Uint8Array)return`${this.prefix}${this.baseEncode(J)}`;throw Error("Unknown type, must be binary type")}}class A{constructor(J,Z,ie){if(this.name=J,this.prefix=Z,void 0===Z.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=Z.codePointAt(0),this.baseDecode=ie}decode(J){if("string"==typeof J){if(J.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(J)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(J.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(J){return F(this,J)}}class P{constructor(J){this.decoders=J}or(J){return F(this,J)}decode(J){const ie=this.decoders[J[0]];if(ie)return ie.decode(J);throw RangeError(`Unable to decode multibase string ${JSON.stringify(J)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const F=(te,J)=>new P({...te.decoders||{[te.prefix]:te},...J.decoders||{[J.prefix]:J}});class L{constructor(J,Z,ie,ae){this.name=J,this.prefix=Z,this.baseEncode=ie,this.baseDecode=ae,this.encoder=new O(J,Z,ie),this.decoder=new A(J,Z,ae)}encode(J){return this.encoder.encode(J)}decode(J){return this.decoder.decode(J)}}const D=({name:te,prefix:J,encode:Z,decode:ie})=>new L(te,J,Z,ie),X=({prefix:te,name:J,alphabet:Z})=>{const{encode:ie,decode:ae}=function d(te,J){if(te.length>=255)throw new TypeError("Alphabet too long");for(var Z=new Uint8Array(256),ie=0;ie<Z.length;ie++)Z[ie]=255;for(var ae=0;ae<te.length;ae++){var se=te.charAt(ae),de=se.charCodeAt(0);if(255!==Z[de])throw new TypeError(se+" is ambiguous");Z[de]=ae}var le=te.length,be=te.charAt(0),xe=Math.log(le)/Math.log(256),ke=Math.log(256)/Math.log(le);function a(y){if("string"!=typeof y)throw new TypeError("Expected String");if(0===y.length)return new Uint8Array;var g=0;if(" "!==y[g]){for(var M=0,T=0;y[g]===be;)M++,g++;for(var B=(y.length-g)*xe+1>>>0,S=new Uint8Array(B);y[g];){var s=Z[y.charCodeAt(g)];if(255===s)return;for(var v=0,W=B-1;(0!==s||v<T)&&-1!==W;W--,v++)S[W]=(s+=le*S[W]>>>0)%256>>>0,s=s/256>>>0;if(0!==s)throw new Error("Non-zero carry");T=v,g++}if(" "!==y[g]){for(var K=B-T;K!==B&&0===S[K];)K++;for(var ee=new Uint8Array(M+(B-K)),ce=M;K!==B;)ee[ce++]=S[K++];return ee}}}return{encode:function C(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===y.length)return"";for(var g=0,M=0,T=0,B=y.length;T!==B&&0===y[T];)T++,g++;for(var S=(B-T)*ke+1>>>0,s=new Uint8Array(S);T!==B;){for(var v=y[T],W=0,K=S-1;(0!==v||W<M)&&-1!==K;K--,W++)s[K]=(v+=256*s[K]>>>0)%le>>>0,v=v/le>>>0;if(0!==v)throw new Error("Non-zero carry");M=W,T++}for(var ee=S-M;ee!==S&&0===s[ee];)ee++;for(var ce=be.repeat(g);ee<S;++ee)ce+=te.charAt(s[ee]);return ce},decodeUnsafe:a,decode:function f(y){var g=a(y);if(g)return g;throw new Error(`Non-${J} character`)}}}(Z,J);return D({prefix:te,name:J,encode:ie,decode:se=>(0,x.au)(ae(se))})},re=({name:te,prefix:J,bitsPerChar:Z,alphabet:ie})=>D({prefix:J,name:te,encode:ae=>((te,J,Z)=>{const ie="="===J[J.length-1],ae=(1<<Z)-1;let se="",de=0,le=0;for(let be=0;be<te.length;++be)for(le=le<<8|te[be],de+=8;de>Z;)de-=Z,se+=J[ae&le>>de];if(de&&(se+=J[ae&le<<Z-de]),ie)for(;se.length*Z&7;)se+="=";return se})(ae,ie,Z),decode:ae=>((te,J,Z,ie)=>{const ae={};for(let ke=0;ke<J.length;++ke)ae[J[ke]]=ke;let se=te.length;for(;"="===te[se-1];)--se;const de=new Uint8Array(se*Z/8|0);let le=0,be=0,xe=0;for(let ke=0;ke<se;++ke){const C=ae[te[ke]];if(void 0===C)throw new SyntaxError(`Non-${ie} character`);be=be<<Z|C,le+=Z,le>=8&&(le-=8,de[xe++]=255&be>>le)}if(le>=Z||255&be<<8-le)throw new SyntaxError("Unexpected end of data");return de})(ae,ie,Z,te)})},15130:(je,H,w)=>{"use strict";w.d(H,{RG:()=>E,jd:()=>L});var d=w(10797);const E=(0,d.yE)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),L=((0,d.yE)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),(0,d.yE)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),(0,d.yE)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),(0,d.yE)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),(0,d.yE)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),(0,d.yE)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),(0,d.yE)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),(0,d.yE)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}))},80286:(je,H,w)=>{"use strict";w.d(H,{s:()=>E});var d=w(10797);const E=(0,d._Q)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});(0,d._Q)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},14725:(je,H,w)=>{"use strict";w.d(H,{r0:()=>z});var d=w(10797);(0,d.yE)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),(0,d.yE)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});const z=(0,d.yE)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});(0,d.yE)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})},52054:(je,H,w)=>{"use strict";w.d(H,{aI:()=>z,au:()=>x}),new Uint8Array(0);const z=(F,L)=>{if(F===L)return!0;if(F.byteLength!==L.byteLength)return!1;for(let D=0;D<F.byteLength;D++)if(F[D]!==L[D])return!1;return!0},x=F=>{if(F instanceof Uint8Array&&"Uint8Array"===F.constructor.name)return F;if(F instanceof ArrayBuffer)return new Uint8Array(F);if(ArrayBuffer.isView(F))return new Uint8Array(F.buffer,F.byteOffset,F.byteLength);throw new Error("Unknown type, must be binary type")}},41861:(je,H,w)=>{"use strict";w.d(H,{TO:()=>D});var d=w(28206),E=w(56580),k=w(80286),z=w(15130),x=w(52054);const O=(ie,ae)=>{const{bytes:se,version:de}=ie;return 0===de?j(se,L(ie),ae||k.s.encoder):G(se,L(ie),ae||z.RG.encoder)},F=new WeakMap,L=ie=>{const ae=F.get(ie);if(null==ae){const se=new Map;return F.set(ie,se),se}return ae};class D{constructor(ae,se,de,le){this.code=se,this.version=ae,this.multihash=de,this.bytes=le,this["/"]=le}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:ae,multihash:se}=this;if(ae!==re)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(se.code!==te)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return D.createV0(se)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:ae,digest:se}=this.multihash,de=E.vt(ae,se);return D.createV1(this.code,de)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(ae){return D.equals(this,ae)}static equals(ae,se){return se&&ae.code===se.code&&ae.version===se.version&&E.aI(ae.multihash,se.multihash)}toString(ae){return O(this,ae)}toJSON(){return{"/":O(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(ae){if(null==ae)return null;const se=ae;if(se instanceof D)return se;if(null!=se["/"]&&se["/"]===se.bytes||se.asCID===se){const{version:de,code:le,multihash:be,bytes:xe}=se;return new D(de,le,be,xe||J(de,le,be.bytes))}if(!0===se[Z]){const{version:de,multihash:le,code:be}=se,xe=E.D4(le);return D.create(de,be,xe)}return null}static create(ae,se,de){if("number"!=typeof se)throw new Error("String codecs are no longer supported");if(!(de.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(ae){case 0:if(se!==re)throw new Error(`Version 0 CID must use dag-pb (code: ${re}) block encoding`);return new D(ae,se,de,de.bytes);case 1:{const le=J(ae,se,de.bytes);return new D(ae,se,de,le)}default:throw new Error("Invalid version")}}static createV0(ae){return D.create(0,re,ae)}static createV1(ae,se){return D.create(1,ae,se)}static decode(ae){const[se,de]=D.decodeFirst(ae);if(de.length)throw new Error("Incorrect length");return se}static decodeFirst(ae){const se=D.inspectBytes(ae),de=se.size-se.multihashSize,le=(0,x.au)(ae.subarray(de,de+se.multihashSize));if(le.byteLength!==se.multihashSize)throw new Error("Incorrect length");const be=le.subarray(se.multihashSize-se.digestSize),xe=new E.np(se.multihashCode,se.digestSize,be,le);return[0===se.version?D.createV0(xe):D.createV1(se.codec,xe),ae.subarray(se.size)]}static inspectBytes(ae){let se=0;const de=()=>{const[y,g]=d.decode(ae.subarray(se));return se+=g,y};let le=de(),be=re;if(18===le?(le=0,se=0):be=de(),0!==le&&1!==le)throw new RangeError(`Invalid CID version ${le}`);const xe=se,ke=de(),C=de(),a=se+C;return{version:le,codec:be,multihashCode:ke,digestSize:C,multihashSize:a-xe,size:a}}static parse(ae,se){const[de,le]=X(ae,se),be=D.decode(le);if(0===be.version&&"Q"!==ae[0])throw Error("Version 0 CID string must not include multibase prefix");return L(be).set(de,ae),be}}const X=(ie,ae)=>{switch(ie[0]){case"Q":return[k.s.prefix,(ae||k.s).decode(`${k.s.prefix}${ie}`)];case k.s.prefix:return[k.s.prefix,(ae||k.s).decode(ie)];case z.RG.prefix:return[z.RG.prefix,(ae||z.RG).decode(ie)];default:if(null==ae)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[ie[0],ae.decode(ie)]}},j=(ie,ae,se)=>{const{prefix:de}=se;if(de!==k.s.prefix)throw Error(`Cannot string encode V0 in ${se.name} encoding`);const le=ae.get(de);if(null==le){const be=se.encode(ie).slice(1);return ae.set(de,be),be}return le},G=(ie,ae,se)=>{const{prefix:de}=se,le=ae.get(de);if(null==le){const be=se.encode(ie);return ae.set(de,be),be}return le},re=112,te=18,J=(ie,ae,se)=>{const de=d.encodingLength(ie),le=de+d.encodingLength(ae),be=new Uint8Array(le+se.byteLength);return d.encodeTo(ie,be,0),d.encodeTo(ae,be,de),be.set(se,le),be},Z=Symbol.for("@ipld/js-cid/CID")},56580:(je,H,w)=>{"use strict";w.d(H,{D4:()=>z,aI:()=>x,np:()=>O,vt:()=>k});var d=w(52054),E=w(28206);const k=(A,P)=>{const F=P.byteLength,L=E.encodingLength(A),D=L+E.encodingLength(F),X=new Uint8Array(D+F);return E.encodeTo(A,X,0),E.encodeTo(F,X,L),X.set(P,D),new O(A,F,P,X)},z=A=>{const P=(0,d.au)(A),[F,L]=E.decode(P),[D,X]=E.decode(P.subarray(L)),j=P.subarray(L+X);if(j.byteLength!==D)throw new Error("Incorrect length");return new O(F,D,j,P)},x=(A,P)=>A===P||A.code===P.code&&A.size===P.size&&P.bytes instanceof Uint8Array&&(0,d.aI)(A.bytes,P.bytes);class O{constructor(P,F,L,D){this.code=P,this.size=F,this.digest=L,this.bytes=D}}},92059:(je,H,w)=>{"use strict";w.d(H,{H:()=>E});var d=w(56580);const E=({name:z,code:x,encode:O})=>new k(z,x,O);class k{constructor(x,O,A){this.name=x,this.code=O,this.encode=A}digest(x){if(x instanceof Uint8Array){const O=this.encode(x);return O instanceof Uint8Array?d.vt(this.code,O):O.then(A=>d.vt(this.code,A))}throw Error("Unknown type, must be binary type")}}},41405:(je,H,w)=>{"use strict";w.d(H,{L8:()=>E,TO:()=>d.TO});var d=w(41861),E=w(28206);w(52054),w(92059),w(56580)},28206:(je,H,w)=>{"use strict";w.r(H),w.d(H,{decode:()=>be,encodeTo:()=>xe,encodingLength:()=>ke});var E=128,z=-128,x=Math.pow(2,31),P=128,F=127,D=Math.pow(2,7),X=Math.pow(2,14),j=Math.pow(2,21),G=Math.pow(2,28),re=Math.pow(2,35),te=Math.pow(2,42),J=Math.pow(2,49),Z=Math.pow(2,56),ie=Math.pow(2,63);const le={encode:function O(C,a,f){a=a||[];for(var y=f=f||0;C>=x;)a[f++]=255&C|E,C/=128;for(;C&z;)a[f++]=255&C|E,C>>>=7;return a[f]=0|C,O.bytes=f-y+1,a},decode:function L(C,y){var T,f=0,g=0,M=y=y||0,B=C.length;do{if(M>=B)throw L.bytes=0,new RangeError("Could not decode varint");T=C[M++],f+=g<28?(T&F)<<g:(T&F)*Math.pow(2,g),g+=7}while(T>=P);return L.bytes=M-y,f},encodingLength:function(C){return C<D?1:C<X?2:C<j?3:C<G?4:C<re?5:C<te?6:C<J?7:C<Z?8:C<ie?9:10}},be=(C,a=0)=>[le.decode(C,a),le.decode.bytes],xe=(C,a,f=0)=>(le.encode(C,a,f),a),ke=C=>le.encodingLength(C)},10467:(je,H,w)=>{"use strict";function d(k,z,x,O,A,P,F){try{var L=k[P](F),D=L.value}catch(X){return void x(X)}L.done?z(D):Promise.resolve(D).then(O,A)}function E(k){return function(){var z=this,x=arguments;return new Promise(function(O,A){var P=k.apply(z,x);function F(D){d(P,O,A,F,L,"next",D)}function L(D){d(P,O,A,F,L,"throw",D)}F(void 0)})}}w.d(H,{A:()=>E})},31635:(je,H,w)=>{"use strict";function X(s,v,W,K){return new(W||(W=Promise))(function(ce,_e){function Oe(we){try{Se(K.next(we))}catch(Ue){_e(Ue)}}function Ve(we){try{Se(K.throw(we))}catch(Ue){_e(Ue)}}function Se(we){we.done?ce(we.value):function ee(ce){return ce instanceof W?ce:new W(function(_e){_e(ce)})}(we.value).then(Oe,Ve)}Se((K=K.apply(s,v||[])).next())})}function se(s){return this instanceof se?(this.v=s,this):new se(s)}function de(s,v,W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,K=W.apply(s,v||[]),ce=[];return ee={},Oe("next"),Oe("throw"),Oe("return",function _e(De){return function(pe){return Promise.resolve(pe).then(De,Ue)}}),ee[Symbol.asyncIterator]=function(){return this},ee;function Oe(De,pe){K[De]&&(ee[De]=function(ue){return new Promise(function(Q,oe){ce.push([De,ue,Q,oe])>1||Ve(De,ue)})},pe&&(ee[De]=pe(ee[De])))}function Ve(De,pe){try{!function Se(De){De.value instanceof se?Promise.resolve(De.value.v).then(we,Ue):ye(ce[0][2],De)}(K[De](pe))}catch(ue){ye(ce[0][3],ue)}}function we(De){Ve("next",De)}function Ue(De){Ve("throw",De)}function ye(De,pe){De(pe),ce.shift(),ce.length&&Ve(ce[0][0],ce[0][1])}}function be(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W,v=s[Symbol.asyncIterator];return v?v.call(s):(s=function te(s){var v="function"==typeof Symbol&&Symbol.iterator,W=v&&s[v],K=0;if(W)return W.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&K>=s.length&&(s=void 0),{value:s&&s[K++],done:!s}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),W={},K("next"),K("throw"),K("return"),W[Symbol.asyncIterator]=function(){return this},W);function K(ce){W[ce]=s[ce]&&function(_e){return new Promise(function(Oe,Ve){!function ee(ce,_e,Oe,Ve){Promise.resolve(Ve).then(function(Se){ce({value:Se,done:Oe})},_e)}(Oe,Ve,(_e=s[ce](_e)).done,_e.value)})}}}w.d(H,{AQ:()=>de,N3:()=>se,sH:()=>X,xN:()=>be}),"function"==typeof SuppressedError&&SuppressedError},83813:je=>{"use strict";je.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},59608:je=>{"use strict";je.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/applicator","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/applicator":true},"$dynamicAnchor":"meta","title":"Applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"prefixItems":{"$ref":"#/$defs/schemaArray"},"items":{"$dynamicRef":"#meta"},"contains":{"$dynamicRef":"#meta"},"additionalProperties":{"$dynamicRef":"#meta"},"properties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"propertyNames":{"format":"regex"},"default":{}},"dependentSchemas":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"propertyNames":{"$dynamicRef":"#meta"},"if":{"$dynamicRef":"#meta"},"then":{"$dynamicRef":"#meta"},"else":{"$dynamicRef":"#meta"},"allOf":{"$ref":"#/$defs/schemaArray"},"anyOf":{"$ref":"#/$defs/schemaArray"},"oneOf":{"$ref":"#/$defs/schemaArray"},"not":{"$dynamicRef":"#meta"}},"$defs":{"schemaArray":{"type":"array","minItems":1,"items":{"$dynamicRef":"#meta"}}}}')},11082:je=>{"use strict";je.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/content","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Content vocabulary meta-schema","type":["object","boolean"],"properties":{"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"contentSchema":{"$dynamicRef":"#meta"}}}')},93406:je=>{"use strict";je.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/core","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true},"$dynamicAnchor":"meta","title":"Core vocabulary meta-schema","type":["object","boolean"],"properties":{"$id":{"$ref":"#/$defs/uriReferenceString","$comment":"Non-empty fragments not allowed.","pattern":"^[^#]*#?$"},"$schema":{"$ref":"#/$defs/uriString"},"$ref":{"$ref":"#/$defs/uriReferenceString"},"$anchor":{"$ref":"#/$defs/anchorString"},"$dynamicRef":{"$ref":"#/$defs/uriReferenceString"},"$dynamicAnchor":{"$ref":"#/$defs/anchorString"},"$vocabulary":{"type":"object","propertyNames":{"$ref":"#/$defs/uriString"},"additionalProperties":{"type":"boolean"}},"$comment":{"type":"string"},"$defs":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"}}},"$defs":{"anchorString":{"type":"string","pattern":"^[A-Za-z_][-A-Za-z0-9._]*$"},"uriString":{"type":"string","format":"uri"},"uriReferenceString":{"type":"string","format":"uri-reference"}}}')},14516:je=>{"use strict";je.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/format-annotation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/format-annotation":true},"$dynamicAnchor":"meta","title":"Format vocabulary meta-schema for annotation results","type":["object","boolean"],"properties":{"format":{"type":"string"}}}')},3059:je=>{"use strict";je.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/meta-data","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/meta-data":true},"$dynamicAnchor":"meta","title":"Meta-data vocabulary meta-schema","type":["object","boolean"],"properties":{"title":{"type":"string"},"description":{"type":"string"},"default":true,"deprecated":{"type":"boolean","default":false},"readOnly":{"type":"boolean","default":false},"writeOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true}}}')},8307:je=>{"use strict";je.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/unevaluated","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/unevaluated":true},"$dynamicAnchor":"meta","title":"Unevaluated applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"unevaluatedItems":{"$dynamicRef":"#meta"},"unevaluatedProperties":{"$dynamicRef":"#meta"}}}')},18738:je=>{"use strict";je.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/validation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/validation":true},"$dynamicAnchor":"meta","title":"Validation vocabulary meta-schema","type":["object","boolean"],"properties":{"type":{"anyOf":[{"$ref":"#/$defs/simpleTypes"},{"type":"array","items":{"$ref":"#/$defs/simpleTypes"},"minItems":1,"uniqueItems":true}]},"const":true,"enum":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/$defs/nonNegativeInteger"},"minLength":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"maxItems":{"$ref":"#/$defs/nonNegativeInteger"},"minItems":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxContains":{"$ref":"#/$defs/nonNegativeInteger"},"minContains":{"$ref":"#/$defs/nonNegativeInteger","default":1},"maxProperties":{"$ref":"#/$defs/nonNegativeInteger"},"minProperties":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"required":{"$ref":"#/$defs/stringArray"},"dependentRequired":{"type":"object","additionalProperties":{"$ref":"#/$defs/stringArray"}}},"$defs":{"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"$ref":"#/$defs/nonNegativeInteger","default":0},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}}}')},6438:je=>{"use strict";je.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/schema","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true,"https://json-schema.org/draft/2020-12/vocab/applicator":true,"https://json-schema.org/draft/2020-12/vocab/unevaluated":true,"https://json-schema.org/draft/2020-12/vocab/validation":true,"https://json-schema.org/draft/2020-12/vocab/meta-data":true,"https://json-schema.org/draft/2020-12/vocab/format-annotation":true,"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Core and Validation specifications meta-schema","allOf":[{"$ref":"meta/core"},{"$ref":"meta/applicator"},{"$ref":"meta/unevaluated"},{"$ref":"meta/validation"},{"$ref":"meta/meta-data"},{"$ref":"meta/format-annotation"},{"$ref":"meta/content"}],"type":["object","boolean"],"$comment":"This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.","properties":{"definitions":{"$comment":"\\"definitions\\" has been replaced by \\"$defs\\".","type":"object","additionalProperties":{"$dynamicRef":"#meta"},"deprecated":true,"default":{}},"dependencies":{"$comment":"\\"dependencies\\" has been split and replaced by \\"dependentSchemas\\" and \\"dependentRequired\\" in order to serve their differing semantics.","type":"object","additionalProperties":{"anyOf":[{"$dynamicRef":"#meta"},{"$ref":"meta/validation#/$defs/stringArray"}]},"deprecated":true,"default":{}},"$recursiveAnchor":{"$comment":"\\"$recursiveAnchor\\" has been replaced by \\"$dynamicAnchor\\".","$ref":"meta/core#/$defs/anchorString","deprecated":true},"$recursiveRef":{"$comment":"\\"$recursiveRef\\" has been replaced by \\"$dynamicRef\\".","$ref":"meta/core#/$defs/uriReferenceString","deprecated":true}}}')},3219:je=>{"use strict";je.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},62951:je=>{"use strict";je.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},64589:je=>{"use strict";je.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},23241:je=>{"use strict";je.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},1636:je=>{"use strict";je.exports={rE:"6.5.5"}},15579:je=>{"use strict";je.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},je=>{var H=d=>je(je.s=d);H(94073),H(47815)}]);