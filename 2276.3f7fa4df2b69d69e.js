"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2276],{62276:(Y,l,e)=>{e.r(l),e.d(l,{ConnectionsComponent:()=>X});var n=e(54438),m=e(81317),C=e(5363),u=e(60177),i=e(25596),r=e(88834),d=e(99213),p=e(30046),F=e(98703),g=e(60385);const h=t=>["/app",t],y=(t,c)=>["/app",t,c];function _(t,c){1&t&&n.EFF(0," people ")}function k(t,c){1&t&&n.EFF(0," connect_without_contact ")}function E(t,c){if(1&t&&n.EFF(0),2&t){const o=n.XpG(2);n.SpI(' Reason: "',o.entry.data.title,'" ')}}function M(t,c){if(1&t&&(n.j41(0,"a",3),n.EFF(1),n.k0s()),2&t){const o=n.XpG(2);n.Y8G("routerLink",n.l_i(2,y,o.entry.data.app,o.entry.data.recordId)),n.R7$(),n.SpI("Name: ",o.entry.data.title,"")}}function v(t,c){if(1&t){const o=n.RV6();n.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-icon",1),n.DNE(3,_,1,0)(4,k,1,0),n.k0s(),n.j41(5,"mat-card-title"),n.EFF(6," App: "),n.j41(7,"span",2)(8,"a",3),n.EFF(9),n.k0s()()(),n.j41(10,"mat-card-subtitle"),n.EFF(11,"Type: "),n.j41(12,"span",2),n.EFF(13),n.k0s(),n.EFF(14),n.nI1(15,"ago"),n.k0s()(),n.j41(16,"mat-card-content")(17,"div",4),n.DNE(18,E,1,1)(19,M,2,5,"a",3),n.k0s(),n.nrm(20,"app-profile-header",5),n.k0s(),n.j41(21,"mat-card-actions")(22,"button",6),n.bIt("click",function(){n.eBV(o);const a=n.XpG();return n.Njj(a.deleteConnection(a.entry))}),n.EFF(23,"DELETE"),n.k0s(),n.EFF(24,"\xa0 "),n.j41(25,"button",6),n.bIt("click",function(){n.eBV(o);const a=n.XpG();return n.Njj(a.block(a.entry))}),n.EFF(26,"BLOCK"),n.k0s()()()}if(2&t){const o=n.XpG();n.R7$(3),n.vxM("friend"==o.entry.record.tags.type?3:4),n.R7$(5),n.Y8G("routerLink",n.eq3(11,h,o.entry.data.app)),n.R7$(),n.JRh(o.entry.data.app),n.R7$(4),n.JRh(o.entry.record.tags.type),n.R7$(),n.SpI(" (",n.bMT(15,9,o.entry.record.dateCreated),")"),n.R7$(4),n.vxM("friend"==o.entry.record.tags.type?18:19),n.R7$(2),n.Y8G("did",o.entry.record.recipient),n.R7$(2),n.Y8G("disabled",o.entry.loading),n.R7$(3),n.Y8G("disabled",o.entry.loading)}}let j=(()=>{class t{constructor(){this.entry=void 0,this.connection=(0,n.WQX)(m.K),this.app=(0,n.WQX)(C.d)}deleteConnection(o){o.loading=!0,this.connection.deleteConnection(o),"credential"===o.record.tags.type&&this.connection.removeFriendship(o)}block(o){o.loading=!0,console.log("Blocking user",o),this.connection.block(o.record.recipient)}static#n=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275cmp=n.VBU({type:t,selectors:[["app-connection"]],inputs:{entry:"entry"},standalone:!0,features:[n.aNF],decls:1,vars:1,consts:[["appearance","outlined",1,"card-notification"],["inline","true","mat-card-avatar","",1,"card-icon"],[1,"capitalize"],[1,"link",3,"routerLink"],[1,"notification-description"],[3,"did"],["mat-button","",3,"click","disabled"]],template:function(s,a){1&s&&n.DNE(0,v,27,13,"mat-card",0),2&s&&n.vxM(a.entry?0:-1)},dependencies:[g.w,F.g,u.MD,i.Hu,i.RN,i.YY,i.QG,i.m2,i.MM,i.Lc,i.dh,r.Hl,r.$z,d.m_,d.An,p.iI,p.Wk],styles:[".card-icon[_ngcontent-%COMP%]{font-size:3em}.card-notification[_ngcontent-%COMP%]{margin-bottom:1em}.notifications-title[_ngcontent-%COMP%]{display:flex;width:100%}.notifications-card[_ngcontent-%COMP%]{max-width:600px;width:100%}.card-notification[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.notification-description[_ngcontent-%COMP%]{margin-bottom:1em}"]})}return t})();var x=e(49996),R=e(34635),f=e(9183);const b=()=>["..","blocks"];function T(t,c){1&t&&n.nrm(0,"mat-spinner",2)}function $(t,c){1&t&&(n.j41(0,"mat-icon"),n.EFF(1,"refresh"),n.k0s())}function O(t,c){1&t&&n.nrm(0,"app-request",3),2&t&&n.Y8G("entry",c.$implicit)}function P(t,c){1&t&&n.EFF(0," No requests found. ")}function G(t,c){1&t&&n.nrm(0,"app-connection",3),2&t&&n.Y8G("entry",c.$implicit)}function N(t,c){1&t&&n.EFF(0," No connections found. ")}let X=(()=>{class t{constructor(){this.connection=(0,n.WQX)(m.K),this.identity=(0,n.WQX)(R.K),this.app=(0,n.WQX)(C.d)}static#n=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275cmp=n.VBU({type:t,selectors:[["app-connections"]],standalone:!0,features:[n.aNF],decls:35,vars:6,consts:[[1,"notifications-card"],["mat-icon-button","",3,"click","disabled"],["diameter","24"],[3,"entry"],[3,"routerLink"]],template:function(s,a){1&s&&(n.j41(0,"h1"),n.EFF(1,"Connections Management"),n.k0s(),n.j41(2,"mat-card",0)(3,"mat-card-header")(4,"mat-card-title-group")(5,"mat-card-title"),n.EFF(6,"Requests"),n.k0s(),n.j41(7,"mat-card-subtitle"),n.EFF(8,"These are incoming connection requests from other users"),n.k0s(),n.j41(9,"button",1),n.bIt("click",function(){return a.connection.reloadRequests()}),n.DNE(10,T,1,0,"mat-spinner",2)(11,$,2,0,"mat-icon"),n.k0s()()(),n.j41(12,"mat-card-content")(13,"p"),n.Z7z(14,O,1,1,"app-request",3,n.fX1,!1,P,1,0),n.k0s()()(),n.nrm(17,"br"),n.j41(18,"mat-card",0)(19,"mat-card-header")(20,"mat-card-title-group")(21,"mat-card-title"),n.EFF(22,"Connections"),n.k0s(),n.j41(23,"mat-card-subtitle"),n.EFF(24,"These are approved and active connections"),n.k0s()()(),n.j41(25,"mat-card-content")(26,"p"),n.Z7z(27,G,1,1,"app-connection",3,n.fX1,!1,N,1,0),n.k0s()()(),n.j41(30,"p"),n.EFF(31,"Missing requests? Make sure you have not "),n.j41(32,"a",4),n.EFF(33,"blocked"),n.k0s(),n.EFF(34," the request."),n.k0s()),2&s&&(n.R7$(9),n.Y8G("disabled",a.connection.loading()),n.R7$(),n.vxM(a.connection.loading()?10:11),n.R7$(4),n.Dyx(a.connection.requests()),n.R7$(13),n.Dyx(a.connection.connections()),n.R7$(5),n.Y8G("routerLink",n.lJ4(5,b)))},dependencies:[x.$,j,u.MD,i.Hu,i.RN,i.m2,i.MM,i.Lc,i.dh,i.aJ,r.Hl,r.iY,d.m_,d.An,p.iI,p.Wk,f.D6,f.LG],styles:[".card-icon[_ngcontent-%COMP%]{font-size:3em}.card-notification[_ngcontent-%COMP%]{margin-bottom:1em}.notifications-title[_ngcontent-%COMP%]{display:flex;width:100%}[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center}.notifications-card[_ngcontent-%COMP%]{max-width:600px;width:100%}.card-notification[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.notification-description[_ngcontent-%COMP%]{margin-bottom:1em}"]})}return t})()}}]);