"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2076],{85297:(E,f,n)=>{n.d(f,{u:()=>u});var o=n(10467),i=n(54438),v=n(96084),h=n(32794);let u=(()=>{class p{constructor(){var s=this;this.app=(0,i.WQX)(v.d),this.configuration={protocol:h.Q.protocol,protocolPath:"data",schema:h.Q.types.data.schema,dataFormat:h.Q.types.data.dataFormats[0]},(0,i.QZP)((0,o.A)(function*(){s.app.initialized()&&(yield s.initialize())}))}initialize(){return(0,o.A)(function*(){})()}save(s,e,r=!1){var l=this;return(0,o.A)(function*(){return l.app.storage.save(l.configuration,s,e,r)})()}load(s,e=null){var r=this;return(0,o.A)(function*(){return r.app.storage.load(r.configuration,s,e)})()}get(s,e=null){var r=this;return(0,o.A)(function*(){return r.app.storage.get(s,e)})()}update(s,e,r,l=!1){var d=this;return(0,o.A)(function*(){return d.app.storage.update(s,e,r,l)})()}delete(s){var e=this;return(0,o.A)(function*(){return e.app.storage.delete(s)})()}static{this.\u0275fac=function(e){return new(e||p)}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},69226:(E,f,n)=>{n.d(f,{x:()=>h});var o=n(10467),i=n(54438),v=n(96084);let h=(()=>{class u{constructor(){this.appService=(0,i.WQX)(v.d),this.loaded=(0,i.vPA)(!1),this.bsn={tokens:[],sources:[],accounts:[],tags:[],accounts_filtered:[]},(0,i.QZP)(()=>{this.appService.initialized()&&this.load()})}shorten(t){return t.substring(0,5)+"..."+t.substring(t.length-5)}filter(t){this.bsn.accounts_filtered=t&&0!=t.length?this.bsn.accounts.filter(s=>s.tags.some(e=>t.includes(e.id))):this.bsn.accounts}load(){var t=this;return(0,o.A)(function*(){var s=yield fetch("https://bsn.mtla.me/json");if(s.ok){var e=yield s.json();t.updated=e.createDate;let r=e.knownTokens.map(c=>{const[a,_]=c.split("-");return{id:_,name:a,short:t.shorten(_)}}),l=e.usedSources.map(c=>{const[a,_]=c.split("-");return{id:_,name:a,short:t.shorten(_)}}),d=Object.entries(e.accounts).map(([c,a])=>({id:c,short:t.shorten(c),balances:a.balances,profile:a.profile,tags:a.tags?Object.entries(a.tags).map(([_,g])=>({id:_,value:g})):[]}));t.bsn.tokens=r,t.bsn.sources=l,t.bsn.accounts=d;const m=new Set;d.forEach(c=>{c.tags.forEach(a=>{m.add(a.id)})}),t.bsn.tags=Array.from(m).sort(),t.bsn.accounts_filtered=t.bsn.accounts,t.loaded.set(!0)}})()}static{this.\u0275fac=function(s){return new(s||u)}}static{this.\u0275prov=i.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})()}}]);