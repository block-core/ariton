"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3416],{13416:(J,F,r)=>{r.r(F),r.d(F,{DebugComponent:()=>I});var s=r(10467),h=r(60177),t=r(54438),R=r(89417),b=r(88834),u=r(25596),_=r(99213),k=r(99631),T=r(59115),M=r(14823),y=r(34635),E=r(25246),N=r(53719);function Z(i,j){if(1&i){const e=t.RV6();t.j41(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),t.EFF(3,"DWN Result"),t.k0s()(),t.j41(4,"mat-card-content"),t.EFF(5),t.nrm(6,"br")(7,"br"),t.EFF(8," Result:"),t.nrm(9,"br"),t.j41(10,"div",8),t.EFF(11),t.k0s()(),t.j41(12,"mat-card-actions")(13,"button",1),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return o.result="",t.Njj(o.status="")}),t.EFF(14,"Close"),t.k0s()()()}if(2&i){const e=t.XpG();t.R7$(5),t.SpI(" Status: ",e.status," "),t.R7$(6),t.JRh(e.result)}}let I=(()=>{class i{constructor(){this.query='{\n      "data": {},\n      "message": {\n        "tags": { "role": true },\n        "recipient": "did:dht:9omof8aypjcx33rkuk9akug8j7sr4n7u4s69c1hxj8ocmwj8pf1y",\n        "protocol": "https://schema.ariton.app/note",\n        "protocolPath": "collaborator",\n        "schema": "https://schema.ariton.app/note/schema/collaborator",\n        "dataFormat": "application/json"\n      }\n    }',this.result="",this.status="",this.identity=(0,t.WQX)(y.K),this.instances=[],this.syncInterval="15s",this.targetDid="",this.recordId=""}createInstance(e){var a=this;return(0,s.A)(function*(){const o="password"+e,n=yield E.uW.connect({password:o,sync:a.syncInterval});console.log("Web5 Connected.",n.did),console.log("Delegated DID: ",n.delegateDid),console.log("Recovery Phrase: ",n.recoveryPhrase),console.log("AgentDID: ",n.web5.agent.agentDid.uri),console.log("AgentDID metadata: ",n.web5.agent.agentDid.metadata),console.log("AgentDID document.id: ",n.web5.agent.agentDid.document.id);const d=yield n.web5.agent.agentDid.export();console.log("Agent DID export:",d);const l=n.web5.agent,V=yield l.vault.backup();console.log("Backup:",V);const p=yield l.vault.getStatus();console.log("Vault Status:",p);const g=yield l.sync.getIdentityOptions(n.did);console.log("Identity Options:",g),yield l.vault.restore({backup:V,password:o});const m=yield l.sync.getIdentityOptions(n.did);console.log("Identity Options2:",m);const U=yield l.identity.list();console.log("Identities:",U);const c=yield U[0].export();console.log("Exported Identity:",c);const D=yield l.identity.export({didUri:n.did});console.log("Portable User DID:",D)})()}restoreAgent(e){var a=this;return(0,s.A)(function*(){const o="password"+e,n=yield E.uW.connect({password:o,sync:a.syncInterval});console.log("Web5 Connected.",n.did),console.log("Delegated DID: ",n.delegateDid),console.log("Recovery Phrase: ",n.recoveryPhrase),console.log("AgentDID: ",n.web5.agent.agentDid.uri),console.log("AgentDID metadata: ",n.web5.agent.agentDid.metadata),console.log("AgentDID document.id: ",n.web5.agent.agentDid.document.id);const d=yield n.web5.agent.agentDid.export();console.log("Agent DID export:",d);const l=n.web5.agent,V=yield l.vault.backup();console.log("Backup:",V);const p=yield l.vault.getStatus();console.log("Vault Status:",p);const g=yield l.sync.getIdentityOptions(n.did);console.log("Identity Options:",g),V.data="eyJkaWQiOiJleUpoYkdjaU9pSmthWElpTENKbGJtTWlPaUpCTWpVMlIwTk5JaXdpWTNSNUlqb2lhbk52YmlKOS4uemN4bElRQzlEWWZ0V2kydy53R2FtWnVILXE3cUNTYUs4UkxiQ05XdHAtVnFoQjRfTmczXzY2Zl9zYWlVeW9ZUHI2d3R2SkdXY25yd1dud1ZJYkdlamhDVnRrTWlkLUplakVHVE9zeXpMQmJZWXc0LW5IUUlGOTZreHVYSkF3cmRRc0o4cUJ0U3NJakhXQmJySUpFbnVkNE95UkQtUzlCWDFvZ0l0ak1GQmlwZy05N3BBMktxbnhMV2tKejBIcXZBVDNhdVhpbS04clZZNmlSNU93Q0pXb19EMjhhbFI5Si1ZNTBmTGVjWE1nZ0ZqMmp6dkc4Q3EzbUhyMklHSDJFbW1OemV5b05hT2xBV2ZHU1N3Sk1WYS1rcThMYTBRWUxieHZnNExjUjU3cVg3dFpRS3hQZTl1ZEdsandybXBtcXdFMXAwM2luUzJxelZLeTNyUGV0QzB4bWp5RE9meDdPM2NmNl80LXpmRXg4X2VkWkRoaExuTjN2N3pxak9ycl9JczVYcHZLc1NvMC1EU3lYdExfQXpNUzRuOXFPb1V5M044aDIxN01sRkJ0Ukd2TGJDaE12RlhkMy1ENEZsd0dvTktCd0xDX3F3RXNfMmt0U1VKdGNEX20yYzVkNENxSW1fSVFjUGtKQ2J6N3lUellUUjdrV1g2S2otU21ldXF0OVFvRG1BeEkxbVV1T0o4Y0pSN1VUSHpyOTJBY09HaVVJdTlTT2Nzbm4ta2JmRTl2U3FVVnZfcTNqcDEza3ptMnBrZWoyTmNnUnVRTnhqYy1DUVFINmVJeHh1SWRPTmF2UjZrWjJ5TFFKZkhFb1BXZXNtQ2dNY1NWR1RiaUp5MWFtWDJjeXI4NnZWaDJTemdwTjhzbmJJaF96MXdFZkRCWC15SFI4cjBQMHJFVG1DVXBoanExd0JISGVTeWVsUEVVakczLXNTZTVIMlQxc0EzVFJiUDczcWZhNktSa0tseVdCb0F6d0ZkcGRBWGVtTVhNNTlwOGlqU0ttYXVSZmZSQTJhZkJDS2FEYnFzX01QdjNGM0h1d2Ixb0x3UG0yOWNCNVJUVGRldU9yWG5rX1RjQVVPOFhSLWxLR19KYlFsc1d4NGlfMV9oVFpPZ3c1bjZfSmFZTUEtZl9wTEpRY0hLREFPeEJBLUowNW5PbmhFR3VIeWhjV0U3TEpsek41RUZVcW5qV0ZKLUJVYTFUMzhnWnRJX19SbHdDTGxjcXo4Y2wzMTdERE1QWEliY1dtZTBlUFBGVXR3Ty1tT3RIV2hMMzBMVEhpTjZ1YndBNWVIbW12M2VGT19SdktiOVdUalp3b0hHbXF5cDc1TDU4MmlnLWNLSE8tNDRTc0syX2F0THlZRnBGT3VKYXh1RFl3cVZnREdoWkgxa3hzci00RXN1ZmRyMmZkcHRWc3p1S1E2TFhuQXFsRHpUUVhsVldhanJmekh2VUI1OUVySGw0VVg3ZGZkQUZZWk1IUGMwZXE0UnJXbkxJdVZENXhwZTRGbFpZQmFHa3pOMnFmSElCdzdlX01ubFhIdXN6dmFoUEp4aFo4TllNcUN6QWowZVV2bmRCdU9PMVhqTm1uZUtla0tiOVFRQTFfUUhfaS1RQ01kV0VHcVNGLVVoUzRHT0ttZHdLNmJIVU5WTzVYXzdJWU9UeUtWMDdoN1JnM0NDNWJBUUlQSUtMZFlFWmRrR1FxeldiUTRnWWZqM09yaTlUczdfY3M5bUk4dm9OQmg1bEFzdk5UQjJyUnpnakZlb3V4V1NGenNfZmwwNnVkOHp2WnFTRGF3VEdIaU9ja0JfZEF1bFVmV0FYQlZ1UUxDaDlVQWNScUpJSUNoUDZIbEw4bXVQXzgxUE9YcFd4SUJQMkJVU1hmUVgxYnBXY3Fad1poMVBLZEhqYTJuNmxJbkJ5djNsR2Y1LVB2aUpfX2Fkb25IR2I3MXJMUzJDaFo4S3A4aFFFVElhdGlpLUNsSVllVS1kX2dYLXdpeEpLR0JyZFREUXFfRTRXVldVWnNMandEQTN0dWV2a0l4VE9TcWFvWnBzakFvZHA2ZmJZalc5blRobUh6QkdVc09HWTdTeFlUOGFRM3JIdXI2cW4xVU55cDZ6VXNodkVUX2xheUE1cDV2bUt2RkN2X0VmaU56YjZBYTNEa09ZRUdMeE4wZTNtNU5hdk80QlJCM2FycjRIOXVVRE11em8xdVBwZ1hSZE5ubVlxd0J2Yzl5LWlnMVg5aE9NMHh1dXhmX2RQMEt3cmlDMndxT1NJRXQzSExJcjMwTVZhXzl4U2k3Mk15NzdEb1ItVG1nQWtpeWZkanlnRGVUTUxaYzdyN0VXaVNhVGNRYkZ2UjFmNXhka0VpMGhSanZnUlhvZjdqUk1qbDVCLU1ybktxMldReXJkQ3Nfb0ZXbC1rY1V0MWtQTngweFZJVWFxRl9ib0UxbWhUZHo4Vkx0WVJheDdfbnZwQkxOZEQ2TWVXTmhYeXhCMkM2aURIV2dudy1HQmd0VGhNSkNjOVVLWTJUV291QmVvNU5OSV9lVjNxOHpsd3Ftb2FNR29fWThlel9xb2owM29CbEhZUEpYSllidzVScUEweS05elBfQUFwQndRanJSOHRKWklEcHV0VFlBQmYybHViR3lTdE13SWZkQ0N3Zms4MERmLU93cENtM2htRXp3MEl4eHM4ODNxLThYdFB3c2dta3hhRU9nOGwyQXg3Um1XQXctR05VVUxhanlPbUlGV082eGhnck5xRk5nQ2lETGFEZF9BZFFqSXVMbFV4dld1UEU1U1hrbkx2NjZMdDZtOWZ2b0RnMlktdnB1elN4TVhUU1phOGpaa0JOR1VRTkJaMzEzTFdmMTdEeXFPNVZuZDJOQmxYQ0s1cXA5OW5IR3JSVGZROW85XzJQd0JlN3ROVXpTcTFtbGpzbHV2SXJ4QWVXN1dPcHlXV045U01ORmRhSWtaNEd3WWd3YnJTSEJWVkpEZHJDeXFxT1ZUQTdqaE1GZC1WcFRJdlRObS1FblVZUTBnYmdtUWNhWkZjZjduNFo2UDZSZFFjY0tISGtWTmxwNUVYY0lCNzV1S3NidFRvVU1kRlMzRHZKRDdkWjlZYzh4dkN5M3RScldWWDVaWUVuQmxXU1lKT25yOGlFNU83NDhYYmpGaU5ORkJXRkotS3BtWHJFRjVXLVB6QUtUYTlORU0yT0FrRVNJNFk1RU96U3hJMVA2QjVRQ0hLelUtM1JPek9hcVBVeWJMNWw3VDRDa0lMQ19kQ05JRDRmd2V5NzBLMlpfazRRQ3o2MWF3Wk1JWnJscG5OV1JkQ0NSMFJsQ2ZJY2JXNzlMakhrdFQxLXJTcERhcG9xcXRHUWZDb25USzRkemtFUk1WTDMyemNVRGVJM3ZTVXF4TkQ0NWVOU01yQ0djYVgxaDdnYkpQbnNUMU50X2Rpa0E1bDFaVVYzNWJZSWN5YXB2UG0zNm9RcWc3MmJxSnUwQUxmVFFSckFhQ08ydWh1MmpzU21aRmlwYVRveHZmVzlNTFVDZi1NQS5CMzZuSFFLMmdaQjhWRWlaRE1vOVJnIiwiY29udGVudEVuY3J5cHRpb25LZXkiOiJleUpoYkdjaU9pSlFRa1ZUTWkxSVV6VXhNaXRCTWpVMlMxY2lMQ0psYm1NaU9pSkJNalUyUjBOTklpd2lZM1I1SWpvaWRHVjRkQzl3YkdGcGJpSXNJbkF5WXlJNk1qRXdNREF3TENKd01uTWlPaUpMVEhadmMweEdUVmhGWkdaVk4zbFZhRkJvVWkxSWVFVkpjRTUxWldKellWaFZNalpOV205cllqZzRJbjAuRm5NRjRDaHRnb2ZuWGpUVVFod0Fwb1ZZWDMzUVRsYU9ISkJYTzFNaEpmWWV4Skw5V3Z4d1V3LnRlczZZSDJvUWRxU2pXMkYuZ0M5d3dOMzRkal9oVDFPMnFudDB0WW5laWRuTDFGeG5EcHZaaHg2X05iLWtwX1VYWFN0SHNuYWNka2c4VzZoeVdPSUg2R09WOWduX1JmOGpYejBybEo2THloZG1JUmlPTW9nVXRmbkkzcUlJbFc4b2puRFFjUXRLeFQ0UkxHWWJ1YzZSQU1hT2wxTDQyaXV1WExCbkRQdXFwa3lXdExFQVAxcEdlVW5TTnRlYm9XSS45dWdZRVNCbmRtakdBeVNfWkt2MjhRIiwic3RhdHVzIjp7ImluaXRpYWxpemVkIjp0cnVlLCJsYXN0QmFja3VwIjoiMjAyNC0xMC0wOFQyMjoxOTozMi40MjhaIiwibGFzdFJlc3RvcmUiOiIyMDI0LTEwLTA4VDIyOjIyOjI3LjM4OVoifX0",console.log("Agent URI before restore:",l.agentDid.uri);const m=yield l.identity.list();console.log("Identities:",m);for(let c=0;c<m.length;c++){const D=m[c];yield l.identity.delete({didUri:D.did.uri})}yield l.vault.restore({backup:V,password:o});const U=yield l.vault.getDid();console.log("Agent DID from vault:",U),console.log("Agent URI after restore:",l.agentDid.uri);const W=yield l.identity.list();console.log("Identities after import:",W),yield l.sync.startSync({interval:"2s"}),setTimeout((0,s.A)(function*(){const c=yield l.identity.list();console.log("Identities:",c)}),1e4)})()}exportDid(e){}dwnRead(){var e=this;return(0,s.A)(function*(){console.log("this.query:",e.query);const a=JSON.parse(e.query);console.log("Request:",a);const{record:o,status:n}=yield e.identity.web5.dwn.records.read(a);console.log("Status:",n),console.log("Records:",o),e.status=`${n.code}: ${n.detail}`,e.result=JSON.stringify(o,null,2)})()}dwnQuery(){var e=this;return(0,s.A)(function*(){console.log("this.query:",e.query);const a=JSON.parse(e.query);console.log("Request:",a);const{records:o,status:n}=yield e.identity.web5.dwn.records.query(a);console.log("Status:",n),console.log("Records:",o),e.status=`${n.code}: ${n.detail}`,e.result=JSON.stringify(o,null,2)})()}dwnWrite(){var e=this;return(0,s.A)(function*(){console.log("this.query:",e.query);const a=JSON.parse(e.query);console.log("Request:",a);const{record:o,status:n}=yield e.identity.web5.dwn.records.create(a);console.log("Status:",n),console.log("Record:",o),e.status=`${n.code}: ${n.detail}`,e.result=JSON.stringify(o,null,2)})()}lookupRecord(){var e=this;return(0,s.A)(function*(){if(e.targetDid&&e.recordId)try{const{record:a,status:o}=yield e.identity.web5.dwn.records.read({message:{filter:{recordId:e.recordId}}});e.status=`${o.code}: ${o.detail}`,e.result=JSON.stringify(a,null,2)}catch(a){e.status=`Error: ${a}`,e.result=""}else e.status="Error: Both DID and Record ID are required"})()}resolveDid(){var e=this;return(0,s.A)(function*(){if(e.targetDid)try{const a=yield e.identity.web5.did.resolve(e.targetDid);e.result=a?JSON.stringify(a.didDocument,null,2):"Not found"}catch(a){e.status=`Error: ${a}`,e.result=""}else e.status="Error: DID are required"})()}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-debug"]],standalone:!0,features:[t.aNF],decls:41,vars:6,consts:[["body",""],["mat-button","",3,"click"],["appearance","outline",1,"full-width"],["matInput","","placeholder","Enter DID",3,"ngModelChange","ngModel"],["matInput","","placeholder","Enter Record ID",3,"ngModelChange","ngModel"],["appearance","outline","subscriptSizing","dynamic",1,"full-width"],["rows","6","matInput","","placeholder","Query (JSON)",3,"ngModelChange","ngModel"],["mat-button","",3,"click","disabled"],[1,"formatted"]],template:function(a,o){if(1&a){const n=t.RV6();t.j41(0,"h1"),t.EFF(1,"Debug Tool"),t.k0s(),t.j41(2,"button",1),t.bIt("click",function(){return t.eBV(n),t.Njj(o.createInstance(1))}),t.EFF(3,"Create Web5 Instance 1"),t.k0s(),t.j41(4,"button",1),t.bIt("click",function(){return t.eBV(n),t.Njj(o.restoreAgent(1))}),t.EFF(5,"Restore Agent"),t.k0s(),t.j41(6,"button",1),t.bIt("click",function(){return t.eBV(n),t.Njj(o.createInstance(2))}),t.EFF(7,"Create Web5 Instance 2"),t.k0s(),t.j41(8,"button",1),t.bIt("click",function(){return t.eBV(n),t.Njj(o.exportDid(1))}),t.EFF(9,"Export DID 1"),t.k0s(),t.j41(10,"button",1),t.bIt("click",function(){return t.eBV(n),t.Njj(o.exportDid(2))}),t.EFF(11,"Export DID 2"),t.k0s(),t.j41(12,"mat-card")(13,"mat-card-header")(14,"mat-card-title"),t.EFF(15,"DWN Tool"),t.k0s()(),t.j41(16,"mat-card-content")(17,"mat-form-field",2)(18,"mat-label"),t.EFF(19,"Target DID"),t.k0s(),t.j41(20,"input",3),t.mxI("ngModelChange",function(l){return t.eBV(n),t.DH7(o.targetDid,l)||(o.targetDid=l),t.Njj(l)}),t.k0s()(),t.j41(21,"mat-form-field",2)(22,"mat-label"),t.EFF(23,"Record ID"),t.k0s(),t.j41(24,"input",4),t.mxI("ngModelChange",function(l){return t.eBV(n),t.DH7(o.recordId,l)||(o.recordId=l),t.Njj(l)}),t.k0s()(),t.j41(25,"mat-form-field",5)(26,"textarea",6,0),t.mxI("ngModelChange",function(l){return t.eBV(n),t.DH7(o.query,l)||(o.query=l),t.Njj(l)}),t.k0s()()(),t.j41(28,"mat-card-actions")(29,"button",1),t.bIt("click",function(){return t.eBV(n),t.Njj(o.dwnWrite())}),t.EFF(30,"Write"),t.k0s(),t.j41(31,"button",1),t.bIt("click",function(){return t.eBV(n),t.Njj(o.dwnQuery())}),t.EFF(32,"Query"),t.k0s(),t.j41(33,"button",1),t.bIt("click",function(){return t.eBV(n),t.Njj(o.dwnRead())}),t.EFF(34,"Read"),t.k0s(),t.j41(35,"button",7),t.bIt("click",function(){return t.eBV(n),t.Njj(o.lookupRecord())}),t.EFF(36,"Lookup Record"),t.k0s(),t.j41(37,"button",7),t.bIt("click",function(){return t.eBV(n),t.Njj(o.resolveDid())}),t.EFF(38,"Resolve DID"),t.k0s()()(),t.nrm(39,"br"),t.DNE(40,Z,15,2,"mat-card")}2&a&&(t.R7$(20),t.R50("ngModel",o.targetDid),t.R7$(4),t.R50("ngModel",o.recordId),t.R7$(2),t.R50("ngModel",o.query),t.R7$(9),t.Y8G("disabled",!o.targetDid||!o.recordId),t.R7$(2),t.Y8G("disabled",!o.targetDid),t.R7$(3),t.vxM(o.result||o.status?40:-1))},dependencies:[u.Hu,u.RN,u.YY,u.m2,u.MM,u.dh,b.Hl,b.$z,h.MD,M.uc,T.Cn,_.m_,k.fS,k.fg,N.rl,N.nJ,R.YN,R.me,R.BC,R.vS],styles:[".formatted[_ngcontent-%COMP%]{white-space:pre-wrap;word-wrap:break-word;font-family:monospace}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}"]})}}return i})()}}]);