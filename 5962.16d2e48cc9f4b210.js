"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5962],{75962:(C,l,n)=>{n.r(l),n.d(l,{BackupComponent:()=>F});var s=n(10467),e=n(54438),u=n(88834),c=n(25596),p=n(99213),d=n(60177),_=n(14823),m=n(30046),y=n(26703),h=n(34635),k=n(96084);const b=i=>({blur:i});function E(i,g){1&i&&(e.j41(0,"span"),e.EFF(1,"Reveal phrase"),e.k0s())}function f(i,g){1&i&&(e.j41(0,"span"),e.EFF(1,"Hide phrase"),e.k0s())}let F=(()=>{class i{constructor(t,o,a){this.router=t,this.identityService=o,this.appService=a,this.recoveryPhrase="",this.reveal=(0,e.vPA)(!1),this.utils=(0,e.WQX)(y.Q)}backupToFile(){var t=this;return(0,s.A)(function*(){const a=(yield t.identityService.activeAgent().vault.backup()).data;yield t.saveFile(a)})()}backup(){var t=this;return(0,s.A)(function*(){const o=yield t.identityService.activeAgent().identity.export({didUri:t.identityService.did});yield t.utils.backupAccount({portableIdentity:o})})()}copyRecoveryPhrase(){var t=this;return(0,s.A)(function*(){try{yield navigator.clipboard.writeText(t.appService.agent().recoveryPhrase),console.log("Text copied to clipboard")}catch(o){console.error("Failed to copy: ",o)}})()}confirmBackup(){this.appService.state().backupConfirmed=!0,this.appService.saveState(this.appService.state()),this.router.navigate(["/introduction"])}saveFile(t){return(0,s.A)(function*(){const o=new Blob([t],{type:"text/plain"}),a=window.URL.createObjectURL(o),r=document.createElement("a");r.href=a,r.download="ariton-account-backup.txt",document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(a),r.remove()})()}backupToProtectedFile(){var t=this;return(0,s.A)(function*(){const o=yield t.identityService.activeAgent().agentDid.export();console.log(o);const a=JSON.stringify(o);yield t.saveFile(a)})()}revealRecoveryPhrase(){var t=this;return(0,s.A)(function*(){t.reveal.set(!t.reveal())})()}static{this.\u0275fac=function(o){return new(o||i)(e.rXU(m.Ix),e.rXU(h.K),e.rXU(k.d))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-backup"]],standalone:!0,features:[e.aNF],decls:62,vars:7,consts:[["appearance","outlined"],["mat-flat-button","",3,"click"],[1,"recovery-phrase-container"],[1,"recovery-phrase",3,"ngClass"],["matTooltip","Copy the recovery phrase","mat-icon-button","",1,"copy-button",3,"click"],["mat-button","",3,"click"],["disabled","true","mat-flat-button",""]],template:function(o,a){if(1&o&&(e.j41(0,"h1"),e.EFF(1,"Backup your agent and account"),e.k0s(),e.j41(2,"p"),e.EFF(3," Your agent is your virtual assistant that helps organize your data on Ariton. It is different and independent from your accounts, which you also should backup.\n"),e.k0s(),e.j41(4,"mat-card",0)(5,"mat-card-header")(6,"mat-card-title"),e.EFF(7,"Account Backup"),e.k0s(),e.j41(8,"mat-card-subtitle"),e.EFF(9,"Download a file you can use to restore your account on other devices."),e.k0s(),e.j41(10,"mat-card-subtitle"),e.EFF(11),e.k0s()(),e.j41(12,"mat-card-actions")(13,"button",1),e.bIt("click",function(){return a.backup()}),e.j41(14,"span"),e.EFF(15,"Save Backup"),e.k0s()()()(),e.j41(16,"mat-card",0)(17,"mat-card-header")(18,"mat-card-title"),e.EFF(19,"Secret Recovery Phrase"),e.k0s(),e.j41(20,"mat-card-subtitle"),e.EFF(21,"Keep it hidden, keep it safe"),e.k0s(),e.j41(22,"mat-card-subtitle"),e.EFF(23),e.k0s()(),e.j41(24,"mat-card-content",2)(25,"p",3),e.EFF(26),e.k0s(),e.j41(27,"button",4),e.bIt("click",function(){return a.copyRecoveryPhrase()}),e.j41(28,"mat-icon"),e.EFF(29,"content_copy"),e.k0s()()(),e.j41(30,"mat-card-actions")(31,"button",5),e.bIt("click",function(){return a.revealRecoveryPhrase()}),e.DNE(32,E,2,0,"span")(33,f,2,0,"span"),e.k0s()()(),e.j41(34,"p")(35,"button",1),e.bIt("click",function(){return a.confirmBackup()}),e.j41(36,"mat-icon"),e.EFF(37,"done"),e.k0s(),e.EFF(38," Confirm you have saved the recovery phrase "),e.k0s(),e.j41(39,"button",6)(40,"mat-icon"),e.EFF(41,"groups"),e.k0s(),e.EFF(42," Social Recovery Setup (3 friends) "),e.k0s(),e.j41(43,"button",6)(44,"mat-icon"),e.EFF(45,"backup"),e.k0s(),e.EFF(46," Save to Cloud "),e.k0s()(),e.j41(47,"mat-card")(48,"mat-card-content")(49,"p"),e.EFF(50," Ariton is unique and unlike other apps you are used to. Ariton is self-custodial, meaning that you are responsible for keeping your account safe and secure. If you lose your account, you lose all your data and access to the app. "),e.k0s(),e.j41(51,"p"),e.EFF(52," Additionally we believe in giving you amazing user experience, so we have different options to choose from when it comes to backup. "),e.k0s(),e.j41(53,"p"),e.EFF(54,"Quick explanation:"),e.k0s(),e.j41(55,"ul")(56,"li"),e.EFF(57," Social backup is a unique feature that less apps have today. It allows you to choose 3 of your friends that you trust. If you ever loose your account (or device), you can simply ask your 3 friends to help restore your account. This must be setup before it can be used and you friends has to accept this responsibility. "),e.k0s(),e.j41(58,"li"),e.EFF(59," We also support backup using cloud storage, this is less secure than other options, but it's convenient to use as you can access your account as long as you can access your cloud storage. We plan to support OneDrive (Microsoft), Google Drive, iCloud (Apple) "),e.k0s()(),e.j41(60,"p"),e.EFF(61,"You can of course use multiple options."),e.k0s()()()),2&o){let r,v;e.R7$(11),e.SpI("User DID: ",a.identityService.did,""),e.R7$(12),e.SpI("Agent DID: ",null==(r=a.appService.agent())?null:r.did,""),e.R7$(2),e.Y8G("ngClass",e.eq3(5,b,!a.reveal())),e.R7$(),e.SpI(" ",null==(v=a.appService.agent())?null:v.recoveryPhrase," "),e.R7$(6),e.vxM(a.reveal()?33:32)}},dependencies:[d.MD,d.YU,u.Hl,u.$z,u.iY,p.m_,p.An,c.Hu,c.RN,c.YY,c.m2,c.MM,c.Lc,c.dh,_.uc,_.oV,m.iI],styles:["button[_ngcontent-%COMP%]{margin-top:1em;margin-right:1em}mat-card[_ngcontent-%COMP%]{margin-top:1em;margin-bottom:1em}.secret-recovery-phrase[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.recovery-phrase[_ngcontent-%COMP%]{font-size:1.4em}.recovery-phrase-container[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:center}.copy-button[_ngcontent-%COMP%]{margin-left:.1em}"]})}}return i})()}}]);