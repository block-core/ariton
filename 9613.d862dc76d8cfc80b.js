"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9613],{29613:(v,l,a)=>{a.r(l),a.d(l,{NewComponent:()=>p});var E=a(10467),t=a(54438),s=a(88834),d=a(37064),c=a(30046),m=a(99631),g=a(65571),f=a(82798),D=a(99213),M=a(5951),O=a(25596),n=a(89417),P=a(52778),u=a(53719);let p=(()=>{class _{constructor(){this.fb=(0,t.WQX)(n.ok),this.identity=(0,t.WQX)(d.K),this.app=(0,t.WQX)(P.d),this.router=(0,t.WQX)(c.Ix),this.form=this.fb.group({name:["",n.k0.required]})}ngOnInit(){}onSubmit(){var e=this;return(0,E.A)(function*(){e.form.disable(),console.log("Creating account...");const o=e.identity.activeAgent();console.log("Create...");const r=yield o.identity.create({metadata:{name:e.form.controls.name.value}});console.log("Export...");const i=yield r.export();console.log("Manage...");const C=yield o.identity.manage({portableIdentity:i});yield e.identity.registerAccount(C.metadata.uri,e.app.account().password),e.identity.changeAccount(i.metadata.uri),e.router.navigate(["/accounts"])})()}static{this.\u0275fac=function(o){return new(o||_)}}static{this.\u0275cmp=t.VBU({type:_,selectors:[["app-new"]],standalone:!0,features:[t.aNF],decls:11,vars:2,consts:[[3,"ngSubmit","formGroup"],["matInput","","formControlName","name","type","text"],["mat-flat-button","",3,"disabled"]],template:function(o,r){1&o&&(t.j41(0,"h1"),t.EFF(1,"Create new account"),t.k0s(),t.j41(2,"form",0),t.bIt("ngSubmit",function(){return r.onSubmit()}),t.j41(3,"p")(4,"mat-form-field")(5,"mat-label"),t.EFF(6,"Enter account name"),t.k0s(),t.nrm(7,"input",1),t.k0s()(),t.j41(8,"p")(9,"button",2),t.EFF(10,"Create account"),t.k0s()()()),2&o&&(t.R7$(2),t.Y8G("formGroup",r.form),t.R7$(7),t.Y8G("disabled",r.form.disabled||r.form.invalid))},dependencies:[m.fS,m.fg,u.rl,u.nJ,s.Hl,s.$z,g.Vg,f.Ve,D.m_,M.Wk,O.Hu,n.X1,n.qT,n.me,n.BC,n.cb,n.j4,n.JD]})}}return _})()}}]);