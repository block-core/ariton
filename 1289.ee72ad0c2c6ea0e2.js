(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1289],{44273:(X,d,s)=>{"use strict";var h,a,v,m,g,c,u,i,p,o,l,w,E,b,A,C,_;s.r(d),s.d(d,{JSONPath:()=>Bn}),(a={})[(h={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9}).BooleanLiteral]="Boolean",a[h.EOF]="<end>",a[h.Identifier]="Identifier",a[h.Keyword]="Keyword",a[h.NullLiteral]="Null",a[h.NumericLiteral]="Numeric",a[h.Punctuator]="Punctuator",a[h.StringLiteral]="String",a[h.RegularExpression]="RegularExpression",v=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="];var N={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"};function O($,Z){if(!$)throw new Error("ASSERT: "+Z)}function j($){return $>=48&&$<=57}function F($){return"0123456789abcdefABCDEF".indexOf($)>=0}function T($){return"01234567".indexOf($)>=0}function z($){return 32===$||9===$||11===$||12===$||160===$||$>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf($)>=0}function ee($){return 10===$||13===$||8232===$||8233===$}function ie($){return 64==$||36===$||95===$||$>=65&&$<=90||$>=97&&$<=122||92===$||$>=128&&c.NonAsciiIdentifierStart.test(String.fromCharCode($))}function x($){return 36===$||95===$||$>=65&&$<=90||$>=97&&$<=122||$>=48&&$<=57||92===$||$>=128&&c.NonAsciiIdentifierPart.test(String.fromCharCode($))}function R($){switch($){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function J($){return"eval"===$||"arguments"===$}function ce($,Z,ye,ne,ae){var be;O("number"==typeof ye,"Comment must have valid position"),!(C.lastCommentStart>=ye)&&(C.lastCommentStart=ye,be={type:$,value:Z},_.range&&(be.range=[ye,ne]),_.loc&&(be.loc=ae),_.comments.push(be),_.attachComment&&(_.leadingComments.push(be),_.trailingComments.push(be)))}function M($){var Z,ye,ne,ae;for(Z=o-$,ye={start:{line:l,column:o-w-$}};o<E;)if(ne=i.charCodeAt(o),++o,ee(ne))return _.comments&&(ae=i.slice(Z+$,o-1),ye.end={line:l,column:o-w-1},ce("Line",ae,Z,o-1,ye)),13===ne&&10===i.charCodeAt(o)&&++o,++l,void(w=o);_.comments&&(ae=i.slice(Z+$,o),ye.end={line:l,column:o-w},ce("Line",ae,Z,o,ye))}function Q(){var $,Z,ye,ne;for(_.comments&&($=o-2,Z={start:{line:l,column:o-w-2}});o<E;)if(ee(ye=i.charCodeAt(o)))13===ye&&10===i.charCodeAt(o+1)&&++o,++l,++o,w=o,o>=E&&Ue({},g.UnexpectedToken,"ILLEGAL");else if(42===ye){if(47===i.charCodeAt(o+1))return++o,++o,void(_.comments&&(ne=i.slice($+2,o-2),Z.end={line:l,column:o-w},ce("Block",ne,$,o,Z)));++o}else++o;Ue({},g.UnexpectedToken,"ILLEGAL")}function de(){var $,Z;for(Z=0===o;o<E;)if(z($=i.charCodeAt(o)))++o;else if(ee($))++o,13===$&&10===i.charCodeAt(o)&&++o,++l,w=o,Z=!0;else if(47===$)if(47===($=i.charCodeAt(o+1)))++o,++o,M(2),Z=!0;else{if(42!==$)break;++o,++o,Q()}else if(Z&&45===$){if(45!==i.charCodeAt(o+1)||62!==i.charCodeAt(o+2))break;o+=3,M(3)}else{if(60!==$)break;if("!--"!==i.slice(o+1,o+4))break;++o,++o,++o,++o,M(4)}}function we($){var Z,ye,ne,ae=0;for(ye="u"===$?4:2,Z=0;Z<ye;++Z){if(!(o<E&&F(i[o])))return"";ne=i[o++],ae=16*ae+"0123456789abcdef".indexOf(ne.toLowerCase())}return String.fromCharCode(ae)}function je(){var $,Z;for($=i.charCodeAt(o++),Z=String.fromCharCode($),92===$&&(117!==i.charCodeAt(o)&&Ue({},g.UnexpectedToken,"ILLEGAL"),++o,(!($=we("u"))||"\\"===$||!ie($.charCodeAt(0)))&&Ue({},g.UnexpectedToken,"ILLEGAL"),Z=$);o<E&&x($=i.charCodeAt(o));)++o,Z+=String.fromCharCode($),92===$&&(Z=Z.substr(0,Z.length-1),117!==i.charCodeAt(o)&&Ue({},g.UnexpectedToken,"ILLEGAL"),++o,(!($=we("u"))||"\\"===$||!x($.charCodeAt(0)))&&Ue({},g.UnexpectedToken,"ILLEGAL"),Z+=$);return Z}function G(){var ye,ae,be,Me,$=o,Z=i.charCodeAt(o),ne=i[o];switch(Z){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++o,_.tokenize&&(40===Z?_.openParenToken=_.tokens.length:123===Z&&(_.openCurlyToken=_.tokens.length)),{type:h.Punctuator,value:String.fromCharCode(Z),lineNumber:l,lineStart:w,start:$,end:o};default:if(61===(ye=i.charCodeAt(o+1)))switch(Z){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return o+=2,{type:h.Punctuator,value:String.fromCharCode(Z)+String.fromCharCode(ye),lineNumber:l,lineStart:w,start:$,end:o};case 33:case 61:return 61===i.charCodeAt(o+=2)&&++o,{type:h.Punctuator,value:i.slice($,o),lineNumber:l,lineStart:w,start:$,end:o}}}return">>>="===(Me=i.substr(o,4))?{type:h.Punctuator,value:Me,lineNumber:l,lineStart:w,start:$,end:o+=4}:">>>"===(be=Me.substr(0,3))||"<<="===be||">>="===be?{type:h.Punctuator,value:be,lineNumber:l,lineStart:w,start:$,end:o+=3}:ne===(ae=be.substr(0,2))[1]&&"+-<>&|".indexOf(ne)>=0||"=>"===ae?{type:h.Punctuator,value:ae,lineNumber:l,lineStart:w,start:$,end:o+=2}:"<>=!+-*%&|^/".indexOf(ne)>=0?(++o,{type:h.Punctuator,value:ne,lineNumber:l,lineStart:w,start:$,end:o}):void Ue({},g.UnexpectedToken,"ILLEGAL")}function le(){var $,Z,ye;if(O(j((ye=i[o]).charCodeAt(0))||"."===ye,"Numeric literal must start with a decimal digit or a decimal point"),Z=o,$="","."!==ye){if($=i[o++],ye=i[o],"0"===$){if("x"===ye||"X"===ye)return++o,function K($){for(var Z="";o<E&&F(i[o]);)Z+=i[o++];return 0===Z.length&&Ue({},g.UnexpectedToken,"ILLEGAL"),ie(i.charCodeAt(o))&&Ue({},g.UnexpectedToken,"ILLEGAL"),{type:h.NumericLiteral,value:parseInt("0x"+Z,16),lineNumber:l,lineStart:w,start:$,end:o}}(Z);if(T(ye))return function q($){for(var Z="0"+i[o++];o<E&&T(i[o]);)Z+=i[o++];return(ie(i.charCodeAt(o))||j(i.charCodeAt(o)))&&Ue({},g.UnexpectedToken,"ILLEGAL"),{type:h.NumericLiteral,value:parseInt(Z,8),octal:!0,lineNumber:l,lineStart:w,start:$,end:o}}(Z);ye&&j(ye.charCodeAt(0))&&Ue({},g.UnexpectedToken,"ILLEGAL")}for(;j(i.charCodeAt(o));)$+=i[o++];ye=i[o]}if("."===ye){for($+=i[o++];j(i.charCodeAt(o));)$+=i[o++];ye=i[o]}if("e"===ye||"E"===ye)if($+=i[o++],("+"===(ye=i[o])||"-"===ye)&&($+=i[o++]),j(i.charCodeAt(o)))for(;j(i.charCodeAt(o));)$+=i[o++];else Ue({},g.UnexpectedToken,"ILLEGAL");return ie(i.charCodeAt(o))&&Ue({},g.UnexpectedToken,"ILLEGAL"),{type:h.NumericLiteral,value:parseFloat($),lineNumber:l,lineStart:w,start:Z,end:o}}function Xe(){var $,Z,ye,ae;return A=null,de(),$=o,Z=function pe(){var $,Z,ye,ne;for(O("/"===($=i[o]),"Regular expression literal must start with a slash"),Z=i[o++],ye=!1,ne=!1;o<E;)if(Z+=$=i[o++],"\\"===$)ee(($=i[o++]).charCodeAt(0))&&Ue({},g.UnterminatedRegExp),Z+=$;else if(ee($.charCodeAt(0)))Ue({},g.UnterminatedRegExp);else if(ye)"]"===$&&(ye=!1);else{if("/"===$){ne=!0;break}"["===$&&(ye=!0)}return ne||Ue({},g.UnterminatedRegExp),{value:Z.substr(1,Z.length-2),literal:Z}}(),ye=function De(){var $,Z,ye,ne;for(Z="",ye="";o<E&&x(($=i[o]).charCodeAt(0));)if(++o,"\\"===$&&o<E)if("u"===($=i[o])){if(ne=++o,$=we("u"))for(ye+=$,Z+="\\u";ne<o;++ne)Z+=i[ne];else o=ne,ye+="u",Z+="\\u";qe({},g.UnexpectedToken,"ILLEGAL")}else Z+="\\",qe({},g.UnexpectedToken,"ILLEGAL");else ye+=$,Z+=$;return{value:ye,literal:Z}}(),ae=function Ee($,Z){var ye;try{ye=new RegExp($,Z)}catch{Ue({},g.InvalidRegExp)}return ye}(Z.value,ye.value),_.tokenize?{type:h.RegularExpression,value:ae,lineNumber:l,lineStart:w,start:$,end:o}:{literal:Z.literal+ye.literal,value:ae,start:$,end:o}}function Pe(){var $,Z,ye,ne;return de(),$=o,Z={start:{line:l,column:o-w}},ye=Xe(),Z.end={line:l,column:o-w},_.tokenize||(_.tokens.length>0&&(ne=_.tokens[_.tokens.length-1]).range[0]===$&&"Punctuator"===ne.type&&("/"===ne.value||"/="===ne.value)&&_.tokens.pop(),_.tokens.push({type:"RegularExpression",value:ye.literal,range:[$,o],loc:Z})),ye}function ve(){var $;return de(),o>=E?{type:h.EOF,lineNumber:l,lineStart:w,start:o,end:o}:ie($=i.charCodeAt(o))?function I(){var $,Z,ye;return $=o,Z=92===i.charCodeAt(o)?je():function S(){var $,Z;for($=o++;o<E;){if(92===(Z=i.charCodeAt(o)))return o=$,je();if(!x(Z))break;++o}return i.slice($,o)}(),ye=1===Z.length?h.Identifier:function W($){if(p&&R($))return!0;switch($.length){case 2:return"if"===$||"in"===$||"do"===$;case 3:return"var"===$||"for"===$||"new"===$||"try"===$||"let"===$;case 4:return"this"===$||"else"===$||"case"===$||"void"===$||"with"===$||"enum"===$;case 5:return"while"===$||"break"===$||"catch"===$||"throw"===$||"const"===$||"yield"===$||"class"===$||"super"===$;case 6:return"return"===$||"typeof"===$||"delete"===$||"switch"===$||"export"===$||"import"===$;case 7:return"default"===$||"finally"===$||"extends"===$;case 8:return"function"===$||"continue"===$||"debugger"===$;case 10:return"instanceof"===$;default:return!1}}(Z)?h.Keyword:"null"===Z?h.NullLiteral:"true"===Z||"false"===Z?h.BooleanLiteral:h.Identifier,{type:ye,value:Z,lineNumber:l,lineStart:w,start:$,end:o}}():40===$||41===$||59===$?G():39===$||34===$?function he(){var Z,ye,ne,ae,be,Me,nt,pt,$="",Ke=!1;for(nt=l,pt=w,O("'"===(Z=i[o])||'"'===Z,"String literal must starts with a quote"),ye=o,++o;o<E;){if((ne=i[o++])===Z){Z="";break}if("\\"===ne)if((ne=i[o++])&&ee(ne.charCodeAt(0)))++l,"\r"===ne&&"\n"===i[o]&&++o,w=o;else switch(ne){case"u":case"x":Me=o,(be=we(ne))?$+=be:(o=Me,$+=ne);break;case"n":$+="\n";break;case"r":$+="\r";break;case"t":$+="\t";break;case"b":$+="\b";break;case"f":$+="\f";break;case"v":$+="\v";break;default:T(ne)?(0!==(ae="01234567".indexOf(ne))&&(Ke=!0),o<E&&T(i[o])&&(Ke=!0,ae=8*ae+"01234567".indexOf(i[o++]),"0123".indexOf(ne)>=0&&o<E&&T(i[o])&&(ae=8*ae+"01234567".indexOf(i[o++]))),$+=String.fromCharCode(ae)):$+=ne}else{if(ee(ne.charCodeAt(0)))break;$+=ne}}return""!==Z&&Ue({},g.UnexpectedToken,"ILLEGAL"),{type:h.StringLiteral,value:$,octal:Ke,startLineNumber:nt,startLineStart:pt,lineNumber:l,lineStart:w,start:ye,end:o}}():46===$?j(i.charCodeAt(o+1))?le():G():j($)?le():_.tokenize&&47===$?function me(){var $,Z;if(!($=_.tokens[_.tokens.length-1]))return Pe();if("Punctuator"===$.type){if("]"===$.value)return G();if(")"===$.value)return!(Z=_.tokens[_.openParenToken-1])||"Keyword"!==Z.type||"if"!==Z.value&&"while"!==Z.value&&"for"!==Z.value&&"with"!==Z.value?G():Pe();if("}"===$.value){if(_.tokens[_.openCurlyToken-3]&&"Keyword"===_.tokens[_.openCurlyToken-3].type){if(!(Z=_.tokens[_.openCurlyToken-4]))return G()}else{if(!_.tokens[_.openCurlyToken-4]||"Keyword"!==_.tokens[_.openCurlyToken-4].type)return G();if(!(Z=_.tokens[_.openCurlyToken-5]))return Pe()}return v.indexOf(Z.value)>=0?G():Pe()}return Pe()}return"Keyword"===$.type?Pe():G()}():G()}function ge(){var $,Z,ne;return de(),$={start:{line:l,column:o-w}},Z=ve(),$.end={line:l,column:o-w},Z.type!==h.EOF&&(ne=i.slice(Z.start,Z.end),_.tokens.push({type:a[Z.type],value:ne,range:[Z.start,Z.end],loc:$})),Z}function Ae(){var $;return o=($=A).end,l=$.lineNumber,w=$.lineStart,A=typeof _.tokens<"u"?ge():ve(),o=$.end,l=$.lineNumber,w=$.lineStart,$}function $e(){var $,Z,ye;$=o,Z=l,ye=w,A=typeof _.tokens<"u"?ge():ve(),o=$,l=Z,w=ye}function xe($,Z){this.line=$,this.column=Z}function Ne($,Z,ye,ne){this.start=new xe($,Z),this.end=new xe(ye,ne)}function Le(){var $,Z,ye,ne;return $=o,Z=l,ye=w,de(),ne=l!==Z,o=$,l=Z,w=ye,ne}function Ue($,Z){for(var ye=[],ne=2;ne<arguments.length;ne++)ye[ne-2]=arguments[ne];var ae,be=Z.replace(/%(\d)/g,function(Me,Ke){return O(Ke<ye.length,"Message reference must be in range"),ye[Ke]});throw"number"==typeof $.lineNumber?((ae=new Error("Line "+$.lineNumber+": "+be)).index=$.start,ae.lineNumber=$.lineNumber,ae.column=$.start-w+1):((ae=new Error("Line "+l+": "+be)).index=o,ae.lineNumber=l,ae.column=o-w+1),ae.description=be,ae}function qe(){for(var $=[],Z=0;Z<arguments.length;Z++)$[Z]=arguments[Z];try{Ue.apply(null,$)}catch(ye){if(!_.errors)throw ye;_.errors.push(ye)}}function Je($){if($.type===h.EOF&&Ue($,g.UnexpectedEOS),$.type===h.NumericLiteral&&Ue($,g.UnexpectedNumber),$.type===h.StringLiteral&&Ue($,g.UnexpectedString),$.type===h.Identifier&&Ue($,g.UnexpectedIdentifier),$.type===h.Keyword){if(function H($){switch($){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}($.value))Ue($,g.UnexpectedReserved);else if(p&&R($.value))return void qe($,g.StrictReservedWord);Ue($,g.UnexpectedToken,$.value)}Ue($,g.UnexpectedToken,$.value)}function We($){var Z=Ae();(Z.type!==h.Punctuator||Z.value!==$)&&Je(Z)}function at($){var Z=Ae();(Z.type!==h.Keyword||Z.value!==$)&&Je(Z)}function te($){return A.type===h.Punctuator&&A.value===$}function U($){return A.type===h.Keyword&&A.value===$}function Y(){var $;59===i.charCodeAt(o)||te(";")?Ae():($=l,de(),l===$&&A.type!==h.EOF&&!te("}")&&Je(A))}function Se($){return $.type===N.Identifier||$.type===N.MemberExpression}function Ie($,Z){var ye,ne,ae;return ye=p,ae=A,ne=mi(),Z&&p&&J($[0].name)&&qe(Z,g.StrictParamName),p=ye,b.markEnd(b.createFunctionExpression(null,$,[],ne),ae)}function Oe(){var $,Z;return Z=A,($=Ae()).type===h.StringLiteral||$.type===h.NumericLiteral?(p&&$.octal&&qe($,g.StrictOctalLiteral),b.markEnd(b.createLiteral($),Z)):b.markEnd(b.createIdentifier($.value),Z)}function Be(){var $,Z,ye,ne,ae,be;return be=A,($=A).type===h.Identifier?(ye=Oe(),"get"!==$.value||te(":")?"set"!==$.value||te(":")?(We(":"),ne=He(),b.markEnd(b.createProperty("init",ye,ne),be)):(Z=Oe(),We("("),($=A).type!==h.Identifier?(We(")"),qe($,g.UnexpectedToken,$.value),ne=Ie([])):(ae=[_t()],We(")"),ne=Ie(ae,$)),b.markEnd(b.createProperty("set",Z,ne),be)):(Z=Oe(),We("("),We(")"),ne=Ie([]),b.markEnd(b.createProperty("get",Z,ne),be))):$.type!==h.EOF&&$.type!==h.Punctuator?(Z=Oe(),We(":"),ne=He(),b.markEnd(b.createProperty("init",Z,ne),be)):void Je($)}function tt(){var $,Z,ye,ne;if(te("("))return function lt(){var $;return We("("),$=Ge(),We(")"),$}();if(te("["))return function Ce(){var Z,$=[];for(Z=A,We("[");!te("]");)te(",")?(Ae(),$.push(null)):($.push(He()),te("]")||We(","));return Ae(),b.markEnd(b.createArrayExpression($),Z)}();if(te("{"))return function ct(){var Z,ye,ne,ae,Ke,$=[],be={},Me=String;for(Ke=A,We("{");!te("}");)ye=(Z=Be()).key.type===N.Identifier?Z.key.name:Me(Z.key.value),ae="init"===Z.kind?m.Data:"get"===Z.kind?m.Get:m.Set,ne="$"+ye,Object.prototype.hasOwnProperty.call(be,ne)?(be[ne]===m.Data?p&&ae===m.Data?qe({},g.StrictDuplicateProperty):ae!==m.Data&&qe({},g.AccessorDataProperty):ae===m.Data?qe({},g.AccessorDataProperty):be[ne]&ae&&qe({},g.AccessorGetSet),be[ne]|=ae):be[ne]=ae,$.push(Z),te("}")||We(",");return We("}"),b.markEnd(b.createObjectExpression($),Ke)}();if(ne=A,($=A.type)===h.Identifier)ye=b.createIdentifier(Ae().value);else if($===h.StringLiteral||$===h.NumericLiteral)p&&A.octal&&qe(A,g.StrictOctalLiteral),ye=b.createLiteral(Ae());else if($===h.Keyword){if(U("function"))return function dn(){var $,ye,ne,ae,be,Ke,nt,pt,Me,Z=null;return pt=A,at("function"),te("(")||($=A,Z=_t(),p?J($.value)&&qe($,g.StrictFunctionName):J($.value)?(ne=$,ae=g.StrictFunctionName):R($.value)&&(ne=$,ae=g.StrictReservedWord)),Me=(be=Fi(ne)).params,ye=be.stricted,ne=be.firstRestricted,be.message&&(ae=be.message),nt=p,Ke=mi(),p&&ne&&Ue(ne,ae),p&&ye&&qe(ye,ae),p=nt,b.markEnd(b.createFunctionExpression(Z,Me,[],Ke),pt)}();U("this")?(Ae(),ye=b.createThisExpression()):Je(Ae())}else $===h.BooleanLiteral?((Z=Ae()).value="true"===Z.value,ye=b.createLiteral(Z)):$===h.NullLiteral?((Z=Ae()).value=null,ye=b.createLiteral(Z)):te("/")||te("/=")?(ye=b.createLiteral(typeof _.tokens<"u"?Pe():Xe()),$e()):Je(Ae());return b.markEnd(ye,ne)}function ft(){var $=[];if(We("("),!te(")"))for(;o<E&&($.push(He()),!te(")"));)We(",");return We(")"),$}function It(){return We("."),function Bt(){var $,Z;return Z=A,function Fe($){return $.type===h.Identifier||$.type===h.Keyword||$.type===h.BooleanLiteral||$.type===h.NullLiteral}($=Ae())||Je($),b.markEnd(b.createIdentifier($.value),Z)}()}function St(){var $;return We("["),$=Ge(),We("]"),$}function Ft(){var $,Z,ye;return ye=A,at("new"),$=function V(){var $,Z,ye,ne;for(ne=A,$=C.allowIn,Z=U("new")?Ft():tt(),C.allowIn=$;te(".")||te("[");)te("[")?(ye=St(),Z=b.createMemberExpression("[",Z,ye)):(ye=It(),Z=b.createMemberExpression(".",Z,ye)),b.markEnd(Z,ne);return Z}(),Z=te("(")?ft():[],b.markEnd(b.createNewExpression($,Z),ye)}function ue(){var $,Z,ye=A;return $=function yr(){var $,Z,ye,ne,ae;for(ae=A,$=C.allowIn,C.allowIn=!0,Z=U("new")?Ft():tt(),C.allowIn=$;;){if(te("."))ne=It(),Z=b.createMemberExpression(".",Z,ne);else if(te("("))ye=ft(),Z=b.createCallExpression(Z,ye);else{if(!te("["))break;ne=St(),Z=b.createMemberExpression("[",Z,ne)}b.markEnd(Z,ae)}return Z}(),A.type===h.Punctuator&&(te("++")||te("--"))&&!Le()&&(p&&$.type===N.Identifier&&J($.name)&&qe({},g.StrictLHSPostfix),Se($)||qe({},g.InvalidLHSInAssignment),Z=Ae(),$=b.markEnd(b.createPostfixExpression(Z.value,$),ye)),$}function oe(){var $,Z,ye;return A.type!==h.Punctuator&&A.type!==h.Keyword?Z=ue():te("++")||te("--")?(ye=A,$=Ae(),Z=oe(),p&&Z.type===N.Identifier&&J(Z.name)&&qe({},g.StrictLHSPrefix),Se(Z)||qe({},g.InvalidLHSInAssignment),Z=b.createUnaryExpression($.value,Z),Z=b.markEnd(Z,ye)):te("+")||te("-")||te("~")||te("!")?(ye=A,$=Ae(),Z=oe(),Z=b.createUnaryExpression($.value,Z),Z=b.markEnd(Z,ye)):U("delete")||U("void")||U("typeof")?(ye=A,$=Ae(),Z=oe(),Z=b.createUnaryExpression($.value,Z),Z=b.markEnd(Z,ye),p&&"delete"===Z.operator&&Z.argument.type===N.Identifier&&qe({},g.StrictDelete)):Z=ue(),Z}function fe($,Z){var ye=0;if($.type!==h.Punctuator&&$.type!==h.Keyword)return 0;switch($.value){case"||":ye=1;break;case"&&":ye=2;break;case"|":ye=3;break;case"^":ye=4;break;case"&":ye=5;break;case"==":case"!=":case"===":case"!==":ye=6;break;case"<":case">":case"<=":case">=":case"instanceof":ye=7;break;case"in":ye=Z?7:0;break;case"<<":case">>":case">>>":ye=8;break;case"+":case"-":ye=9;break;case"*":case"/":case"%":ye=11}return ye}function He(){var $,Z,ye,ne,ae;return $=A,ae=A,ne=Z=function Ve(){var $,Z,ye,ne,ae;return ae=A,$=function _e(){var $,Z,ye,ne,ae,be,Me,Ke,nt,pt;if($=A,nt=oe(),0===(ae=fe(ne=A,C.allowIn)))return nt;for(ne.prec=ae,Ae(),Z=[$,A],be=[nt,ne,Me=oe()];(ae=fe(A,C.allowIn))>0;){for(;be.length>2&&ae<=be[be.length-2].prec;)Me=be.pop(),Ke=be.pop().value,nt=be.pop(),ye=b.createBinaryExpression(Ke,nt,Me),Z.pop(),b.markEnd(ye,$=Z[Z.length-1]),be.push(ye);(ne=Ae()).prec=ae,be.push(ne),Z.push(A),ye=oe(),be.push(ye)}for(ye=be[pt=be.length-1],Z.pop();pt>1;)ye=b.createBinaryExpression(be[pt-1].value,be[pt-2],ye),pt-=2,$=Z.pop(),b.markEnd(ye,$);return ye}(),te("?")&&(Ae(),Z=C.allowIn,C.allowIn=!0,ye=He(),C.allowIn=Z,We(":"),ne=He(),$=b.createConditionalExpression($,ye,ne),b.markEnd($,ae)),$}(),function P(){var $;return A.type===h.Punctuator&&("="===($=A.value)||"*="===$||"/="===$||"%="===$||"+="===$||"-="===$||"<<="===$||">>="===$||">>>="===$||"&="===$||"^="===$||"|="===$)}()&&(Se(Z)||qe({},g.InvalidLHSInAssignment),p&&Z.type===N.Identifier&&J(Z.name)&&qe($,g.StrictLHSAssignment),$=Ae(),ye=He(),ne=b.markEnd(b.createAssignmentExpression($.value,Z,ye),ae)),ne}function Ge(){var $,Z=A;if($=He(),te(",")){for($=b.createSequenceExpression([$]);o<E&&te(",");)Ae(),$.expressions.push(He());b.markEnd($,Z)}return $}function wt(){var $,Z;return Z=A,We("{"),$=function ut(){for(var Z,$=[];o<E&&!(te("}")||(Z=fn(),typeof Z>"u"));)$.push(Z);return $}(),We("}"),b.markEnd(b.createBlockStatement($),Z)}function _t(){var $,Z;return Z=A,($=Ae()).type!==h.Identifier&&Je($),b.markEnd(b.createIdentifier($.value),Z)}function lr($){var ye,ne,Z=null;return ne=A,ye=_t(),p&&J(ye.name)&&qe({},g.StrictVarName),"const"===$?(We("="),Z=He()):te("=")&&(Ae(),Z=He()),b.markEnd(b.createVariableDeclarator(ye,Z),ne)}function Yt($){var Z=[];do{if(Z.push(lr($)),!te(","))break;Ae()}while(o<E);return Z}function pi(){var $,ye,ne,Z=[];for(ne=A,U("default")?(Ae(),$=null):(at("case"),$=Ge()),We(":");o<E&&!(te("}")||U("default")||U("case"));)ye=jt(),Z.push(ye);return b.markEnd(b.createSwitchCase($,Z),ne)}function jt(){var Z,ye,ne,ae,$=A.type;if($===h.EOF&&Je(A),$===h.Punctuator&&"{"===A.value)return wt();if(ae=A,$===h.Punctuator)switch(A.value){case";":return b.markEnd(function Nt(){return We(";"),b.createEmptyStatement()}(),ae);case"(":return b.markEnd(function ln(){var $=Ge();return Y(),b.createExpressionStatement($)}(),ae)}if($===h.Keyword)switch(A.value){case"break":return b.markEnd(function xi(){var $=null;return at("break"),59===i.charCodeAt(o)?(Ae(),C.inIteration||C.inSwitch||Ue({},g.IllegalBreak),b.createBreakStatement(null)):Le()?(C.inIteration||C.inSwitch||Ue({},g.IllegalBreak),b.createBreakStatement(null)):(A.type===h.Identifier&&($=_t(),Object.prototype.hasOwnProperty.call(C.labelSet,"$"+$.name)||Ue({},g.UnknownLabel,$.name)),Y(),null===$&&!(C.inIteration||C.inSwitch)&&Ue({},g.IllegalBreak),b.createBreakStatement($))}(),ae);case"continue":return b.markEnd(function fi(){var $=null;return at("continue"),59===i.charCodeAt(o)?(Ae(),C.inIteration||Ue({},g.IllegalContinue),b.createContinueStatement(null)):Le()?(C.inIteration||Ue({},g.IllegalContinue),b.createContinueStatement(null)):(A.type===h.Identifier&&($=_t(),Object.prototype.hasOwnProperty.call(C.labelSet,"$"+$.name)||Ue({},g.UnknownLabel,$.name)),Y(),null===$&&!C.inIteration&&Ue({},g.IllegalContinue),b.createContinueStatement($))}(),ae);case"debugger":return b.markEnd(function Ks(){return at("debugger"),Y(),b.createDebuggerStatement()}(),ae);case"do":return b.markEnd(function dr(){var $,Z,ye;return at("do"),ye=C.inIteration,C.inIteration=!0,$=jt(),C.inIteration=ye,at("while"),We("("),Z=Ge(),We(")"),te(";")&&Ae(),b.createDoWhileStatement($,Z)}(),ae);case"for":return b.markEnd(function Gr(){var $,Z,ye,ne,ae,be,Me;return $=Z=ye=null,at("for"),We("("),te(";")?Ae():(U("var")||U("let")?(C.allowIn=!1,$=function Mt(){var $,Z,ye;return ye=A,$=Ae(),Z=Yt(),b.markEnd(b.createVariableDeclaration(Z,$.value),ye)}(),C.allowIn=!0,1===$.declarations.length&&U("in")&&(Ae(),ne=$,ae=Ge(),$=null)):(C.allowIn=!1,$=Ge(),C.allowIn=!0,U("in")&&(Se($)||qe({},g.InvalidLHSInForIn),Ae(),ne=$,ae=Ge(),$=null)),typeof ne>"u"&&We(";")),typeof ne>"u"&&(te(";")||(Z=Ge()),We(";"),te(")")||(ye=Ge())),We(")"),Me=C.inIteration,C.inIteration=!0,be=jt(),C.inIteration=Me,typeof ne>"u"?b.createForStatement($,Z,ye,be):b.createForInStatement(ne,ae,be)}(),ae);case"function":return b.markEnd(Zr(),ae);case"if":return b.markEnd(function Vr(){var $,Z,ye;return at("if"),We("("),$=Ge(),We(")"),Z=jt(),U("else")?(Ae(),ye=jt()):ye=null,b.createIfStatement($,Z,ye)}(),ae);case"return":return b.markEnd(function Xr(){var $=null;return at("return"),C.inFunctionBody||qe({},g.IllegalReturn),32===i.charCodeAt(o)&&ie(i.charCodeAt(o+1))?($=Ge(),Y(),b.createReturnStatement($)):Le()?b.createReturnStatement(null):(te(";")||!te("}")&&A.type!==h.EOF&&($=Ge()),Y(),b.createReturnStatement($))}(),ae);case"switch":return b.markEnd(function hi(){var $,Z,ye,ne,ae;if(at("switch"),We("("),$=Ge(),We(")"),We("{"),Z=[],te("}"))return Ae(),b.createSwitchStatement($,Z);for(ne=C.inSwitch,C.inSwitch=!0,ae=!1;o<E&&!te("}");)null===(ye=pi()).test&&(ae&&Ue({},g.MultipleDefaultsInSwitch),ae=!0),Z.push(ye);return C.inSwitch=ne,We("}"),b.createSwitchStatement($,Z)}(),ae);case"throw":return b.markEnd(function Ls(){var $;return at("throw"),Le()&&Ue({},g.NewlineAfterThrow),$=Ge(),Y(),b.createThrowStatement($)}(),ae);case"try":return b.markEnd(function Xt(){var $,Z=[],ye=null;return at("try"),$=wt(),U("catch")&&Z.push(function yi(){var $,Z,ye;return ye=A,at("catch"),We("("),te(")")&&Je(A),$=_t(),p&&J($.name)&&qe({},g.StrictCatchVariable),We(")"),Z=wt(),b.markEnd(b.createCatchClause($,Z),ye)}()),U("finally")&&(Ae(),ye=wt()),0===Z.length&&!ye&&Ue({},g.NoCatchOrFinally),b.createTryStatement($,[],Z,ye)}(),ae);case"var":return b.markEnd(function Kr(){var $;return at("var"),$=Yt(),Y(),b.createVariableDeclaration($,"var")}(),ae);case"while":return b.markEnd(function Ir(){var $,Z,ye;return at("while"),We("("),$=Ge(),We(")"),ye=C.inIteration,C.inIteration=!0,Z=jt(),C.inIteration=ye,b.createWhileStatement($,Z)}(),ae);case"with":return b.markEnd(function Oi(){var $,Z;return p&&(de(),qe({},g.StrictModeWith)),at("with"),We("("),$=Ge(),We(")"),Z=jt(),b.createWithStatement($,Z)}(),ae)}return(Z=Ge()).type===N.Identifier&&te(":")?(Ae(),ne="$"+Z.name,Object.prototype.hasOwnProperty.call(C.labelSet,ne)&&Ue({},g.Redeclaration,"Label",Z.name),C.labelSet[ne]=!0,ye=jt(),delete C.labelSet[ne],b.markEnd(b.createLabeledStatement(Z,ye),ae)):(Y(),b.markEnd(b.createExpressionStatement(Z),ae))}function mi(){var $,ye,ae,be,Me,Ke,nt,pt,Z=[];for(pt=A,We("{");o<E&&A.type===h.StringLiteral&&(ye=A,$=fn(),Z.push($),$.expression.type===N.Literal);)"use strict"===i.slice(ye.start+1,ye.end-1)?(p=!0,ae&&qe(ae,g.StrictOctalLiteral)):!ae&&ye.octal&&(ae=ye);for(be=C.labelSet,Me=C.inIteration,Ke=C.inSwitch,nt=C.inFunctionBody,C.labelSet={},C.inIteration=!1,C.inSwitch=!1,C.inFunctionBody=!0;o<E&&!(te("}")||($=fn(),typeof $>"u"));)Z.push($);return We("}"),C.labelSet=be,C.inIteration=Me,C.inSwitch=Ke,C.inFunctionBody=nt,b.markEnd(b.createBlockStatement(Z),pt)}function Fi($){var Z,ne,ae,be,Me,Ke,ye=[];if(We("("),!te(")"))for(be={};o<E&&(ne=A,Z=_t(),Me="$"+ne.value,p?(J(ne.value)&&(ae=ne,Ke=g.StrictParamName),Object.prototype.hasOwnProperty.call(be,Me)&&(ae=ne,Ke=g.StrictParamDupe)):$||(J(ne.value)?($=ne,Ke=g.StrictParamName):R(ne.value)?($=ne,Ke=g.StrictReservedWord):Object.prototype.hasOwnProperty.call(be,Me)&&($=ne,Ke=g.StrictParamDupe)),ye.push(Z),be[Me]=!0,!te(")"));)We(",");return We(")"),{params:ye,stricted:ae,firstRestricted:$,message:Ke}}function Zr(){var $,Z,ye,ne,ae,be,Me,Ke,nt,pt;return pt=A,at("function"),ne=A,$=_t(),p?J(ne.value)&&qe(ne,g.StrictFunctionName):J(ne.value)?(Me=ne,Ke=g.StrictFunctionName):R(ne.value)&&(Me=ne,Ke=g.StrictReservedWord),Z=(be=Fi(Me)).params,ae=be.stricted,Me=be.firstRestricted,be.message&&(Ke=be.message),nt=p,ye=mi(),p&&Me&&Ue(Me,Ke),p&&ae&&qe(ae,Ke),p=nt,b.markEnd(b.createFunctionDeclaration($,Z,[],ye),pt)}function fn(){if(A.type===h.Keyword)switch(A.value){case"const":case"let":return function er($){var Z,ye;return ye=A,at($),Z=Yt($),Y(),b.markEnd(b.createVariableDeclaration(Z,$),ye)}(A.value);case"function":return Zr();default:return jt()}if(A.type!==h.EOF)return jt()}function Jt($,Z){var ye,ne;ne=String,"string"!=typeof $&&!($ instanceof String)&&($=ne($)),b=u,o=0,l=(i=$).length>0?1:0,w=0,E=i.length,A=null,C={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},_={},typeof Z<"u"&&(_.range="boolean"==typeof Z.range&&Z.range,_.loc="boolean"==typeof Z.loc&&Z.loc,_.attachComment="boolean"==typeof Z.attachComment&&Z.attachComment,_.loc&&null!=Z.source&&(_.source=ne(Z.source)),"boolean"==typeof Z.tokens&&Z.tokens&&(_.tokens=[]),"boolean"==typeof Z.comment&&Z.comment&&(_.comments=[]),"boolean"==typeof Z.tolerant&&Z.tolerant&&(_.errors=[]),_.attachComment&&(_.range=!0,_.comments=[],_.bottomRightStack=[],_.trailingComments=[],_.leadingComments=[]));try{ye=function Vs(){var $,Z;return de(),$e(),Z=A,p=!1,$=function Sr(){for(var $,ye,ae,Z=[];o<E&&(ye=A).type===h.StringLiteral&&($=fn(),Z.push($),$.expression.type===N.Literal);)"use strict"===i.slice(ye.start+1,ye.end-1)?(p=!0,ae&&qe(ae,g.StrictOctalLiteral)):!ae&&ye.octal&&(ae=ye);for(;o<E&&!(typeof($=fn())>"u");)Z.push($);return Z}(),b.markEnd(b.createProgram($),Z)}(),typeof _.comments<"u"&&(ye.comments=_.comments),typeof _.tokens<"u"&&(function Yr(){var $,Z,ye,ne=[];for($=0;$<_.tokens.length;++$)ye={type:(Z=_.tokens[$]).type,value:Z.value},_.range&&(ye.range=Z.range),_.loc&&(ye.loc=Z.loc),ne.push(ye);_.tokens=ne}(),ye.tokens=_.tokens),typeof _.errors<"u"&&(ye.errors=_.errors)}catch(ae){throw ae}finally{_={}}return ye}function Bi($,Z,ye,ne){function ae(nt){return String(nt).match(/^[0-9]+$/)?parseInt(nt):Number.isFinite(nt)?parseInt(nt,10):0}if("string"==typeof Z)throw new Error("start cannot be a string");if("string"==typeof ye)throw new Error("end cannot be a string");if("string"==typeof ne)throw new Error("step cannot be a string");var be=$.length;if(0===ne)throw new Error("step cannot be zero");if(ne=ne?ae(ne):1,ye=ye<0?be+ye:ye,Z=ae(0===(Z=Z<0?be+Z:Z)?0:Z||(ne>0?0:be-1)),ye=ae(0===ye?0:ye||(ne>0?be:-1)),Z=ne>0?Math.max(0,Z):Math.min(be,Z),ye=ne>0?Math.min(ye,be):Math.max(-1,ye),ne>0&&ye<=Z)return[];if(ne<0&&Z<=ye)return[];for(var Me=[],Ke=Z;Ke!=ye&&!(ne<0&&Ke<=ye||ne>0&&Ke>=ye);Ke+=ne)Me.push($[Ke]);return Me}m={Data:1,Get:2,Set:4},g={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},c={NonAsciiIdentifierStart:new RegExp("[\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]"),NonAsciiIdentifierPart:new RegExp("[\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u0800-\u082d\u0840-\u085b\u08a0\u08a2-\u08ac\u08e4-\u08fe\u0900-\u0963\u0966-\u096f\u0971-\u0977\u0979-\u097f\u0981-\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7\u09c8\u09cb-\u09ce\u09d7\u09dc\u09dd\u09df-\u09e3\u09e6-\u09f1\u0a01-\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5c\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c58\u0c59\u0c60-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1\u0cf2\u0d02\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d57\u0d60-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb9\u0ebb-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772\u1773\u1780-\u17d3\u17d7\u17dc\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1877\u1880-\u18aa\u18b0-\u18f5\u1900-\u191c\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19d9\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1cd0-\u1cd2\u1cd4-\u1cf6\u1d00-\u1de6\u1dfc-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200c\u200d\u203f\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u2e2f\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099\u309a\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua697\ua69f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua827\ua840-\ua873\ua880-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua900-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a\uaa7b\uaa80-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabea\uabec\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]")},u={name:"SyntaxTree",processComment:function($){var Z,ye;if(!($.type===N.Program&&$.body.length>0)){for(_.trailingComments.length>0?_.trailingComments[0].range[0]>=$.range[1]?(ye=_.trailingComments,_.trailingComments=[]):_.trailingComments.length=0:_.bottomRightStack.length>0&&_.bottomRightStack[_.bottomRightStack.length-1].trailingComments&&_.bottomRightStack[_.bottomRightStack.length-1].trailingComments[0].range[0]>=$.range[1]&&(ye=_.bottomRightStack[_.bottomRightStack.length-1].trailingComments,delete _.bottomRightStack[_.bottomRightStack.length-1].trailingComments);_.bottomRightStack.length>0&&_.bottomRightStack[_.bottomRightStack.length-1].range[0]>=$.range[0];)Z=_.bottomRightStack.pop();Z?Z.leadingComments&&Z.leadingComments[Z.leadingComments.length-1].range[1]<=$.range[0]&&($.leadingComments=Z.leadingComments,delete Z.leadingComments):_.leadingComments.length>0&&_.leadingComments[_.leadingComments.length-1].range[1]<=$.range[0]&&($.leadingComments=_.leadingComments,_.leadingComments=[]),ye&&($.trailingComments=ye),_.bottomRightStack.push($)}},markEnd:function($,Z){return _.range&&($.range=[Z.start,o]),_.loc&&($.loc=new Ne(void 0===Z.startLineNumber?Z.lineNumber:Z.startLineNumber,Z.start-(void 0===Z.startLineStart?Z.lineStart:Z.startLineStart),l,o-w),this.postProcess($)),_.attachComment&&this.processComment($),$},postProcess:function($){return _.source&&($.loc.source=_.source),$},createArrayExpression:function($){return{type:N.ArrayExpression,elements:$}},createAssignmentExpression:function($,Z,ye){return{type:N.AssignmentExpression,operator:$,left:Z,right:ye}},createBinaryExpression:function($,Z,ye){return{type:"||"===$||"&&"===$?N.LogicalExpression:N.BinaryExpression,operator:$,left:Z,right:ye}},createBlockStatement:function($){return{type:N.BlockStatement,body:$}},createBreakStatement:function($){return{type:N.BreakStatement,label:$}},createCallExpression:function($,Z){return{type:N.CallExpression,callee:$,arguments:Z}},createCatchClause:function($,Z){return{type:N.CatchClause,param:$,body:Z}},createConditionalExpression:function($,Z,ye){return{type:N.ConditionalExpression,test:$,consequent:Z,alternate:ye}},createContinueStatement:function($){return{type:N.ContinueStatement,label:$}},createDebuggerStatement:function(){return{type:N.DebuggerStatement}},createDoWhileStatement:function($,Z){return{type:N.DoWhileStatement,body:$,test:Z}},createEmptyStatement:function(){return{type:N.EmptyStatement}},createExpressionStatement:function($){return{type:N.ExpressionStatement,expression:$}},createForStatement:function($,Z,ye,ne){return{type:N.ForStatement,init:$,test:Z,update:ye,body:ne}},createForInStatement:function($,Z,ye){return{type:N.ForInStatement,left:$,right:Z,body:ye,each:!1}},createFunctionDeclaration:function($,Z,ye,ne){return{type:N.FunctionDeclaration,id:$,params:Z,defaults:ye,body:ne,rest:null,generator:!1,expression:!1}},createFunctionExpression:function($,Z,ye,ne){return{type:N.FunctionExpression,id:$,params:Z,defaults:ye,body:ne,rest:null,generator:!1,expression:!1}},createIdentifier:function($){return{type:N.Identifier,name:$}},createIfStatement:function($,Z,ye){return{type:N.IfStatement,test:$,consequent:Z,alternate:ye}},createLabeledStatement:function($,Z){return{type:N.LabeledStatement,label:$,body:Z}},createLiteral:function($){return{type:N.Literal,value:$.value,raw:i.slice($.start,$.end)}},createMemberExpression:function($,Z,ye){return{type:N.MemberExpression,computed:"["===$,object:Z,property:ye}},createNewExpression:function($,Z){return{type:N.NewExpression,callee:$,arguments:Z}},createObjectExpression:function($){return{type:N.ObjectExpression,properties:$}},createPostfixExpression:function($,Z){return{type:N.UpdateExpression,operator:$,argument:Z,prefix:!1}},createProgram:function($){return{type:N.Program,body:$}},createProperty:function($,Z,ye){return{type:N.Property,key:Z,value:ye,kind:$}},createReturnStatement:function($){return{type:N.ReturnStatement,argument:$}},createSequenceExpression:function($){return{type:N.SequenceExpression,expressions:$}},createSwitchCase:function($,Z){return{type:N.SwitchCase,test:$,consequent:Z}},createSwitchStatement:function($,Z){return{type:N.SwitchStatement,discriminant:$,cases:Z}},createThisExpression:function(){return{type:N.ThisExpression}},createThrowStatement:function($){return{type:N.ThrowStatement,argument:$}},createTryStatement:function($,Z,ye,ne){return{type:N.TryStatement,block:$,guardedHandlers:Z,handlers:ye,finalizer:ne}},createUnaryExpression:function($,Z){return"++"===$||"--"===$?{type:N.UpdateExpression,operator:$,argument:Z,prefix:!0}:{type:N.UnaryExpression,operator:$,argument:Z,prefix:!0}},createVariableDeclaration:function($,Z){return{type:N.VariableDeclaration,declarations:$,kind:Z}},createVariableDeclarator:function($,Z){return{type:N.VariableDeclarator,id:$,init:Z}},createWhileStatement:function($,Z){return{type:N.WhileStatement,test:$,body:Z}},createWithStatement:function($,Z){return{type:N.WithStatement,object:$,body:Z}}};var Ti=s(18911),pn=s.n(Ti);function Ii($){return function(Z,ye,ne,ae){var be=Z.value,Me=Z.path,Ke=[],nt=function(pt,Et){ji(pt)?(pt.forEach(function(Ct,_r){Ke.length>=ae||ne(_r,Ct,ye)&&Ke.push({path:Et.concat(_r),value:Ct})}),pt.forEach(function(Ct,_r){Ke.length>=ae||$&&nt(Ct,Et.concat(_r))})):function ki($){return $&&!($ instanceof Array)&&$ instanceof Object}(pt)&&(Object.keys(pt).forEach(function(Ct){Ke.length>=ae||ne(Ct,pt[Ct],ye)&&Ke.push({path:Et.concat(Ct),value:pt[Ct]})}),Object.keys(pt).forEach(function(Ct){Ke.length>=ae||$&&nt(pt[Ct],Et.concat(Ct))}))}.bind(this);return nt(be,Me),Ke}}function Hn($,Z){try{return pn()($,Z)}catch{}}function hn($){return function(Z,ye,ne){return this.descend(ye,Z.expression.value,$,ne)}}function Pr($){return function(Z,ye,ne){return this.traverse(ye,Z.expression.value,$,ne)}}function On($){return function $i($,Z){for(var ye=[],ne=[],ae=0,be=$?.length;ae<be;ae++){var Me=$[ae],Ke=Z?Z(Me,ae):Me;ne.includes(Ke)||(ne.push(Ke),ye.push(Me))}return ye}($=$.filter(function(Z){return Z}),function(Z){return Z.path.map(function(ye){return String(ye).replace("-","--")}).join("-")})}function Ws($){var Z=String($);return Z.match(/^-?[0-9]+$/)?parseInt(Z):null}function ji($){return Array.isArray($)}function Fn($,Z,ye){var ae=Hn(Jt(Z).body[0].expression,{"@":$.value}),be=ye.replace(/\{\{\s*value\s*\}\}/g,ae),Me=Bn.nodes($.value,be);return Me.forEach(function(Ke){Ke.path=$.path.concat(Ke.path.slice(1))}),Me}var zs=function(){function $(){this._fns={"member-child-identifier":function(Z,ye){var ne=Z.expression.value,ae=ye.value;if(ae instanceof Object&&ne in ae)return[{value:ae[ne],path:ye.path.concat(ne)}]},"member-descendant-identifier":Pr(function(Z,ye,ne){return Z==ne}),"subscript-child-numeric_literal":hn(function(Z,ye,ne){return Z===ne}),"member-child-numeric_literal":hn(function(Z,ye,ne){return String(Z)===String(ne)}),"subscript-descendant-numeric_literal":Pr(function(Z,ye,ne){return Z===ne}),"member-child-wildcard":hn(function(){return!0}),"member-descendant-wildcard":Pr(function(){return!0}),"subscript-descendant-wildcard":Pr(function(){return!0}),"subscript-child-wildcard":hn(function(){return!0}),"subscript-child-slice":function(Z,ye){if(ji(ye.value)){var ne=Z.expression.value.split(":").map(Ws),ae=ye.value.map(function(be,Me){return{value:be,path:ye.path.concat(Me)}});return Bi.apply(null,[ae].concat(ne))}},"subscript-child-union":function(Z,ye){var ne=[];return Z.expression.value.forEach(function(ae){var be={operation:"subscript",scope:"child",expression:ae.expression},Ke=this.resolve(be)(be,ye);Ke&&(ne=ne.concat(Ke))},this),On(ne)},"subscript-descendant-union":function(Z,ye,ne){var ae=this,be=[];return Bn.nodes(ye,"$..*").slice(1).forEach(function(Ke){be.length>=ne||Z.expression.value.forEach(function(nt){var pt={operation:"subscript",scope:"child",expression:nt.expression},Ct=ae.resolve(pt)(pt,Ke);be=be.concat(Ct)})}),On(be)},"subscript-child-filter_expression":function(Z,ye,ne){var be=Jt(Z.expression.value.slice(2,-1)).body[0].expression;return this.descend(ye,null,function(Ke,nt){return Hn(be,{"@":nt})},ne)},"subscript-descendant-filter_expression":function(Z,ye,ne){var be=Jt(Z.expression.value.slice(2,-1)).body[0].expression;return this.traverse(ye,null,function(Ke,nt){return Hn(be,{"@":nt})},ne)},"subscript-child-script_expression":function(Z,ye){return Fn(ye,Z.expression.value.slice(1,-1),"$[{{value}}]")},"member-child-script_expression":function(Z,ye){return Fn(ye,Z.expression.value.slice(1,-1),"$.{{value}}")},"member-descendant-script_expression":function(Z,ye){return Fn(ye,Z.expression.value.slice(1,-1),"$..value")}},this.initialize()}return $.prototype.initialize=function(){this.traverse=Ii(!0),this.descend=Ii(),this._fns["subscript-child-string_literal"]=this._fns["member-child-identifier"],this._fns["member-descendant-numeric_literal"]=this._fns["subscript-descendant-string_literal"]=this._fns["member-descendant-identifier"]},$.prototype.resolve=function(Z){var ye=[Z.operation,Z.scope,Z.expression.type].join("-"),ne=this._fns[ye];if(!ne)throw new Error("couldn't resolve key: "+ye);return ne.bind(this)},$.prototype.register=function(Z,ye){if(!(ye instanceof Function))throw new Error("handler must be a function");this._fns[Z]=ye},$}(),Gn=s(15320);function Jr(){var $=new Gn.iX,Z=$.parseError;return $.yy.parseError=function(){$.yy.ast&&$.yy.ast.initialize(),Z.apply($,arguments)},$}var Wt=function(){function $(){}return $.ok=function(Z,ye){if(!Z)throw new Error(ye)},$.equal=function(Z,ye,ne){if(Z!==ye)throw new Error(ne)},$}(),Bn=function(){function $(){}return $.parse=function(Z){return Wt.ok("string"==typeof Z,"we need a path"),(new Jr).parse(Z)},$.parent=function(Z,ye){Wt.ok(Z instanceof Object,"obj needs to be an object"),Wt.ok(ye,"we need a path");var ne=this.nodes(Z,ye)[0];return ne.path.pop(),this.value(Z,ne.path)},$.apply=function(Z,ye,ne){Wt.ok(Z instanceof Object,"obj needs to be an object"),Wt.ok(ye,"we need a path"),Wt.equal(typeof ne,"function","fn needs to be function");var ae=this.nodes(Z,ye).sort(function(be,Me){return Me.path.length-be.path.length});return ae.forEach(function(be){var Me=be.path.pop(),Ke=this.value(Z,this.stringify(be.path)),nt=be.value=ne.call(Z,Ke[Me]);Ke[Me]=nt},this),ae},$.value=function(Z,ye,ne){if(Wt.ok(Z instanceof Object,"obj needs to be an object"),Wt.ok(ye,"we need a path"),void 0!==ne){var ae=this.nodes(Z,ye).shift();if(!ae)return this._vivify(Z,ye,ne);var be=ae.path.slice(-1).shift();this.parent(Z,this.stringify(ae.path))[be]=ne}return this.query(Z,this.stringify(ye),1).shift()},$._vivify=function(Z,ye,ne){var ae=this;Wt.ok(Z instanceof Object,"obj needs to be an object"),Wt.ok(ye,"we need a path");var be=(new Jr).parse(ye).map(function(Ke){return Ke.expression.value}),Me=function(Ke,nt){var pt=Ke.pop(),Et=ae.value(Z,Ke);Et||(Me(Ke.concat(),"string"==typeof pt?{}:[]),Et=ae.value(Z,Ke)),Et[pt]=nt};return Me(be,ne),this.query(Z,ye)[0]},$.query=function(Z,ye,ne){return Wt.ok(Z instanceof Object,"obj needs to be an object"),Wt.ok("string"==typeof ye,"we need a path"),this.nodes(Z,ye,ne).map(function(be){return be.value})},$.paths=function(Z,ye,ne){return Wt.ok(Z instanceof Object,"obj needs to be an object"),Wt.ok(ye,"we need a path"),this.nodes(Z,ye,ne).map(function(be){return be.path})},$.nodes=function(Z,ye,ne){if(Wt.ok(Z instanceof Object,"obj needs to be an object"),Wt.ok(ye,"we need a path"),0===ne)return[];var ae=(new Jr).parse(ye),be=new zs,Me=[{path:["$"],value:Z}],Ke=[];return ae.length&&"root"==ae[0].expression.type&&ae.shift(),ae.length?(ae.forEach(function(nt,pt){if(!(Ke.length>=ne)){var Et=be.resolve(nt),Ct=[];Me.forEach(function(_r){if(!(Ke.length>=ne)){var fr=Et(nt,_r,ne);pt==ae.length-1?Ke=Ke.concat(fr||[]):Ct=Ct.concat(fr||[])}}),Me=Ct}}),ne?Ke.slice(0,ne):Ke):Me},$.stringify=function(Z){Wt.ok(Z,"we need a path");var ye="$",ne={"descendant-member":"..{{value}}","child-member":".{{value}}","descendant-subscript":"..[{{value}}]","child-subscript":"[{{value}}]"};return(Z=this._normalize(Z)).forEach(function(ae){if("root"!=ae.expression.type){var Ke,be=[ae.scope,ae.operation].join("-"),Me=ne[be];if(Ke="string_literal"==ae.expression.type?JSON.stringify(ae.expression.value):ae.expression.value,!Me)throw new Error("couldn't find template "+be);ye+=Me.replace(/{{value}}/,Ke)}}),ye},$._normalize=function(Z){if(Wt.ok(Z,"we need a path"),"string"==typeof Z)return(new Jr).parse(Z);if(Array.isArray(Z)&&"string"==typeof Z[0]){var ye=[{expression:{type:"root",value:"$"}}];return Z.forEach(function(ne,ae){"$"==ne&&0===ae||("string"==typeof ne&&ne.match("^[a-zA-Z_]+[a-zA-Z0-9_]*$")?ye.push({operation:"member",scope:"child",expression:{value:ne,type:"identifier"}}):ye.push({operation:"subscript",scope:"child",expression:{value:ne,type:"number"==typeof ne?"numeric_literal":"string_literal"}}))}),ye}if(Array.isArray(Z)&&"object"==typeof Z[0])return Z;throw new Error("couldn't understand path "+Z)},$}()},15320:(X,d)=>{var h=function(){var a=function(ee,ie,x,H){for(x=x||{},H=ee.length;H--;x[ee[H]]=ie);return x},v=[1,5],m=[1,6],g=[1,7],c=[1,8],u=[1,9],i=[1,18],p=[1,19],o=[1,20],l=[1,12,14,22],w=[1,29],E=[1,30],b=[1,33],A=[1,35],C=[1,31],_=[1,36],N=[1,37],O=[24,28],j={trace:function(){},yy:{},symbols_:{error:2,JSON_PATH:3,DOLLAR:4,PATH_COMPONENTS:5,LEADING_CHILD_MEMBER_EXPRESSION:6,PATH_COMPONENT:7,MEMBER_COMPONENT:8,SUBSCRIPT_COMPONENT:9,CHILD_MEMBER_COMPONENT:10,DESCENDANT_MEMBER_COMPONENT:11,DOT:12,MEMBER_EXPRESSION:13,DOT_DOT:14,STAR:15,IDENTIFIER:16,SCRIPT_EXPRESSION:17,INTEGER:18,END:19,CHILD_SUBSCRIPT_COMPONENT:20,DESCENDANT_SUBSCRIPT_COMPONENT:21,"[":22,SUBSCRIPT:23,"]":24,SUBSCRIPT_EXPRESSION:25,SUBSCRIPT_EXPRESSION_LIST:26,SUBSCRIPT_EXPRESSION_LISTABLE:27,",":28,STRING_LITERAL:29,ARRAY_SLICE:30,FILTER_EXPRESSION:31,QQ_STRING:32,Q_STRING:33,$accept:0,$end:1},terminals_:{2:"error",4:"DOLLAR",12:"DOT",14:"DOT_DOT",15:"STAR",16:"IDENTIFIER",17:"SCRIPT_EXPRESSION",18:"INTEGER",19:"END",22:"[",24:"]",28:",",30:"ARRAY_SLICE",31:"FILTER_EXPRESSION",32:"QQ_STRING",33:"Q_STRING"},productions_:[0,[3,1],[3,2],[3,1],[3,2],[5,1],[5,2],[7,1],[7,1],[8,1],[8,1],[10,2],[6,1],[11,2],[13,1],[13,1],[13,1],[13,1],[13,1],[9,1],[9,1],[20,3],[21,4],[23,1],[23,1],[26,1],[26,3],[27,1],[27,1],[27,1],[25,1],[25,1],[25,1],[29,1],[29,1]],performAction:function(ie,x,H,R,J,W,ce){R.ast||(R.ast=F,F.initialize());var M=W.length-1;switch(J){case 1:return R.ast.set({expression:{type:"root",value:W[M]}}),R.ast.unshift(),R.ast.yield();case 2:return R.ast.set({expression:{type:"root",value:W[M-1]}}),R.ast.unshift(),R.ast.yield();case 3:return R.ast.unshift(),R.ast.yield();case 4:return R.ast.set({operation:"member",scope:"child",expression:{type:"identifier",value:W[M-1]}}),R.ast.unshift(),R.ast.yield();case 5:case 6:case 11:case 13:case 18:case 21:case 22:case 23:break;case 7:R.ast.set({operation:"member"}),R.ast.push();break;case 8:R.ast.set({operation:"subscript"}),R.ast.push();break;case 9:case 19:R.ast.set({scope:"child"});break;case 10:case 20:R.ast.set({scope:"descendant"});break;case 12:R.ast.set({scope:"child",operation:"member"});break;case 14:R.ast.set({expression:{type:"wildcard",value:W[M]}});break;case 15:R.ast.set({expression:{type:"identifier",value:W[M]}});break;case 16:R.ast.set({expression:{type:"script_expression",value:W[M]}});break;case 17:R.ast.set({expression:{type:"numeric_literal",value:parseInt(W[M])}});break;case 24:W[M].length>1?R.ast.set({expression:{type:"union",value:W[M]}}):this.$=W[M];break;case 25:this.$=[W[M]];break;case 26:this.$=W[M-2].concat(W[M]);break;case 27:this.$={expression:{type:"numeric_literal",value:parseInt(W[M])}},R.ast.set(this.$);break;case 28:this.$={expression:{type:"string_literal",value:W[M]}},R.ast.set(this.$);break;case 29:this.$={expression:{type:"slice",value:W[M]}},R.ast.set(this.$);break;case 30:this.$={expression:{type:"wildcard",value:W[M]}},R.ast.set(this.$);break;case 31:this.$={expression:{type:"script_expression",value:W[M]}},R.ast.set(this.$);break;case 32:this.$={expression:{type:"filter_expression",value:W[M]}},R.ast.set(this.$);break;case 33:case 34:this.$=W[M]}},table:[{3:1,4:[1,2],6:3,13:4,15:v,16:m,17:g,18:c,19:u},{1:[3]},{1:[2,1],5:10,7:11,8:12,9:13,10:14,11:15,12:i,14:p,20:16,21:17,22:o},{1:[2,3],5:21,7:11,8:12,9:13,10:14,11:15,12:i,14:p,20:16,21:17,22:o},a(l,[2,12]),a(l,[2,14]),a(l,[2,15]),a(l,[2,16]),a(l,[2,17]),a(l,[2,18]),{1:[2,2],7:22,8:12,9:13,10:14,11:15,12:i,14:p,20:16,21:17,22:o},a(l,[2,5]),a(l,[2,7]),a(l,[2,8]),a(l,[2,9]),a(l,[2,10]),a(l,[2,19]),a(l,[2,20]),{13:23,15:v,16:m,17:g,18:c,19:u},{13:24,15:v,16:m,17:g,18:c,19:u,22:[1,25]},{15:w,17:E,18:b,23:26,25:27,26:28,27:32,29:34,30:A,31:C,32:_,33:N},{1:[2,4],7:22,8:12,9:13,10:14,11:15,12:i,14:p,20:16,21:17,22:o},a(l,[2,6]),a(l,[2,11]),a(l,[2,13]),{15:w,17:E,18:b,23:38,25:27,26:28,27:32,29:34,30:A,31:C,32:_,33:N},{24:[1,39]},{24:[2,23]},{24:[2,24],28:[1,40]},{24:[2,30]},{24:[2,31]},{24:[2,32]},a(O,[2,25]),a(O,[2,27]),a(O,[2,28]),a(O,[2,29]),a(O,[2,33]),a(O,[2,34]),{24:[1,41]},a(l,[2,21]),{18:b,27:42,29:34,30:A,32:_,33:N},a(l,[2,22]),a(O,[2,26])],defaultActions:{27:[2,23],29:[2,30],30:[2,31],31:[2,32]},parseError:function(ie,x){if(!x.recoverable){var H=new Error(ie);throw H.hash=x,H}this.trace(ie)},parse:function(ie){var H=[0],J=[null],W=[],ce=this.table,M="",Q=0,de=0,we=0,I=W.slice.call(arguments,1),G=Object.create(this.lexer),K={yy:{}};for(var q in this.yy)Object.prototype.hasOwnProperty.call(this.yy,q)&&(K.yy[q]=this.yy[q]);G.setInput(ie,K.yy),K.yy.lexer=G,K.yy.parser=this,typeof G.yylloc>"u"&&(G.yylloc={});var le=G.yylloc;W.push(le);var Ue,he=G.options&&G.options.ranges;this.parseError="function"==typeof K.yy.parseError?K.yy.parseError:Object.getPrototypeOf(this).parseError;for(var De,Xe,Pe,Fe,ve,Ae,$e,Ne,ge={};;){if(this.defaultActions[Pe=H[H.length-1]]?Fe=this.defaultActions[Pe]:((null===De||typeof De>"u")&&(Ue=void 0,"number"!=typeof(Ue=G.lex()||1)&&(Ue=this.symbols_[Ue]||Ue),De=Ue),Fe=ce[Pe]&&ce[Pe][De]),typeof Fe>"u"||!Fe.length||!Fe[0]){var Le;for(Ae in Ne=[],ce[Pe])this.terminals_[Ae]&&Ae>2&&Ne.push("'"+this.terminals_[Ae]+"'");Le=G.showPosition?"Parse error on line "+(Q+1)+":\n"+G.showPosition()+"\nExpecting "+Ne.join(", ")+", got '"+(this.terminals_[De]||De)+"'":"Parse error on line "+(Q+1)+": Unexpected "+(1==De?"end of input":"'"+(this.terminals_[De]||De)+"'"),this.parseError(Le,{text:G.match,token:this.terminals_[De]||De,line:G.yylineno,loc:le,expected:Ne})}if(Fe[0]instanceof Array&&Fe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Pe+", token: "+De);switch(Fe[0]){case 1:H.push(De),J.push(G.yytext),W.push(G.yylloc),H.push(Fe[1]),De=null,Xe?(De=Xe,Xe=null):(de=G.yyleng,M=G.yytext,Q=G.yylineno,le=G.yylloc,we>0&&we--);break;case 2:if(ge.$=J[J.length-($e=this.productions_[Fe[1]][1])],ge._$={first_line:W[W.length-($e||1)].first_line,last_line:W[W.length-1].last_line,first_column:W[W.length-($e||1)].first_column,last_column:W[W.length-1].last_column},he&&(ge._$.range=[W[W.length-($e||1)].range[0],W[W.length-1].range[1]]),typeof(ve=this.performAction.apply(ge,[M,de,Q,K.yy,Fe[1],J,W].concat(I)))<"u")return ve;$e&&(H=H.slice(0,-1*$e*2),J=J.slice(0,-1*$e),W=W.slice(0,-1*$e)),H.push(this.productions_[Fe[1]][0]),J.push(ge.$),W.push(ge._$),H.push(ce[H[H.length-2]][H[H.length-1]]);break;case 3:return!0}}return!0}},F={initialize:function(){this._nodes=[],this._node={},this._stash=[]},set:function(ee){for(var ie in ee)this._node[ie]=ee[ie];return this._node},node:function(ee){return arguments.length&&(this._node=ee),this._node},push:function(){this._nodes.push(this._node),this._node={}},unshift:function(){this._nodes.unshift(this._node),this._node={}},yield:function(){var ee=this._nodes;return this.initialize(),ee}};function z(){this.yy={}}return j.lexer=function(){return{EOF:1,parseError:function(x,H){if(!this.yy.parser)throw new Error(x);this.yy.parser.parseError(x,H)},setInput:function(ie,x){return this.yy=x||this.yy||{},this._input=ie,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ie=this._input[0];return this.yytext+=ie,this.yyleng++,this.offset++,this.match+=ie,this.matched+=ie,ie.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ie},unput:function(ie){var x=ie.length,H=ie.split(/(?:\r\n?|\n)/g);this._input=ie+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-x),this.offset-=x;var R=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),H.length-1&&(this.yylineno-=H.length-1);var J=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:H?(H.length===R.length?this.yylloc.first_column:0)+R[R.length-H.length].length-H[0].length:this.yylloc.first_column-x},this.options.ranges&&(this.yylloc.range=[J[0],J[0]+this.yyleng-x]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(ie){this.unput(this.match.slice(ie))},pastInput:function(){var ie=this.matched.substr(0,this.matched.length-this.match.length);return(ie.length>20?"...":"")+ie.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ie=this.match;return ie.length<20&&(ie+=this._input.substr(0,20-ie.length)),(ie.substr(0,20)+(ie.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ie=this.pastInput(),x=new Array(ie.length+1).join("-");return ie+this.upcomingInput()+"\n"+x+"^"},test_match:function(ie,x){var H,R,J;if(this.options.backtrack_lexer&&(J={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(J.yylloc.range=this.yylloc.range.slice(0))),(R=ie[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=R.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:R?R[R.length-1].length-R[R.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ie[0].length},this.yytext+=ie[0],this.match+=ie[0],this.matches=ie,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ie[0].length),this.matched+=ie[0],H=this.performAction.call(this,this.yy,this,x,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),H)return H;if(this._backtrack){for(var W in J)this[W]=J[W];return!1}return!1},next:function(){if(this.done)return this.EOF;var ie,x,H,R;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var J=this._currentRules(),W=0;W<J.length;W++)if((H=this._input.match(this.rules[J[W]]))&&(!x||H[0].length>x[0].length)){if(x=H,R=W,this.options.backtrack_lexer){if(!1!==(ie=this.test_match(H,J[W])))return ie;if(this._backtrack){x=!1;continue}return!1}if(!this.options.flex)break}return x?!1!==(ie=this.test_match(x,J[R]))&&ie:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(x){this.conditionStack.push(x)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(x){return(x=this.conditionStack.length-1-Math.abs(x||0))>=0?this.conditionStack[x]:"INITIAL"},pushState:function(x){this.begin(x)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(x,H,R,J){switch(R){case 0:return 4;case 1:return 14;case 2:return 12;case 3:return 15;case 4:return 16;case 5:return 22;case 6:return 24;case 7:return 28;case 8:return 30;case 9:return 18;case 10:return H.yytext=H.yytext.substr(1,H.yyleng-2),32;case 11:return H.yytext=H.yytext.substr(1,H.yyleng-2),33;case 12:return 17;case 13:return 31}},rules:[/^(?:\$)/,/^(?:\.\.)/,/^(?:\.)/,/^(?:\*)/,/^(?:[a-zA-Z_]+[a-zA-Z0-9_]*)/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:((-?(?:0|[1-9][0-9]*)))?\:((-?(?:0|[1-9][0-9]*)))?(\:((-?(?:0|[1-9][0-9]*)))?)?)/,/^(?:(-?(?:0|[1-9][0-9]*)))/,/^(?:"(?:\\["bfnrt\/\\]|\\u[a-fA-F0-9]{4}|[^"\\])*")/,/^(?:'(?:\\['bfnrt\/\\]|\\u[a-fA-F0-9]{4}|[^'\\])*')/,/^(?:\(.+?\)(?=\]))/,/^(?:\?\(.+?\)(?=\]))/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}}}(),z.prototype=j,j.Parser=z,new z}();d.iX=h.Parser},1289:(X,d,s)=>{"use strict";s.r(d),s.d(d,{ProfileComponent:()=>_m});var h=s(10467),a=s(93953),v=s(88834),m=s(71997),g=s(99213),c=s(59115),u=s(18498),i=s(39434),p=s(96850),o=s(34635),l=s(78013),w=s(75351),E=s(68314);let b=(()=>{class t{constructor(e){this.data=e}ngAfterViewInit(){const e=document.querySelector("canvas");E.mo(e,this.data.did,n=>{n&&console.error("Error generating QR code: ",n)})}static#e=this.\u0275fac=function(n){return new(n||t)(a.rXU(w.Vh))};static#t=this.\u0275cmp=a.VBU({type:t,selectors:[["app-qrcode-dialog"]],standalone:!0,features:[a.aNF],decls:2,vars:0,consts:[["qrCanvas",""]],template:function(n,f){1&n&&a.nrm(0,"canvas",null,0)}})}return t})();var A=s(31439),C=s(60177),_=s(9183),N=s(69371);s(52191),new Uint8Array(0);class M{name;prefix;baseEncode;constructor(r,e,n){this.name=r,this.prefix=e,this.baseEncode=n}encode(r){if(r instanceof Uint8Array)return`${this.prefix}${this.baseEncode(r)}`;throw Error("Unknown type, must be binary type")}}class Q{name;prefix;baseDecode;prefixCodePoint;constructor(r,e,n){if(this.name=r,this.prefix=e,void 0===e.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=n}decode(r){if("string"==typeof r){if(r.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(r)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(r.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(r){return we(this,r)}}class de{decoders;constructor(r){this.decoders=r}or(r){return we(this,r)}decode(r){const n=this.decoders[r[0]];if(null!=n)return n.decode(r);throw RangeError(`Unable to decode multibase string ${JSON.stringify(r)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function we(t,r){return new de({...t.decoders??{[t.prefix]:t},...r.decoders??{[r.prefix]:r}})}class je{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(r,e,n,f){this.name=r,this.prefix=e,this.baseEncode=n,this.baseDecode=f,this.encoder=new M(r,e,n),this.decoder=new Q(r,e,f)}encode(r){return this.encoder.encode(r)}decode(r){return this.decoder.decode(r)}}function S({name:t,prefix:r,encode:e,decode:n}){return new je(t,r,e,n)}function I({name:t,prefix:r,alphabet:e}){const{encode:n,decode:f}=function R(t,r){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var f=0;f<t.length;f++){var y=t.charAt(f),D=y.charCodeAt(0);if(255!==e[D])throw new TypeError(y+" is ambiguous");e[D]=f}var k=t.length,re=t.charAt(0),L=Math.log(k)/Math.log(256),B=Math.log(256)/Math.log(k);function Te(Re){if("string"!=typeof Re)throw new TypeError("Expected String");if(0===Re.length)return new Uint8Array;var Ze=0;if(" "!==Re[Ze]){for(var ot=0,it=0;Re[Ze]===re;)ot++,Ze++;for(var rt=(Re.length-Ze)*L+1>>>0,Ye=new Uint8Array(rt);Re[Ze];){var ze=e[Re.charCodeAt(Ze)];if(255===ze)return;for(var st=0,et=rt-1;(0!==ze||st<it)&&-1!==et;et--,st++)Ye[et]=(ze+=k*Ye[et]>>>0)%256>>>0,ze=ze/256>>>0;if(0!==ze)throw new Error("Non-zero carry");it=st,Ze++}if(" "!==Re[Ze]){for(var Qe=rt-it;Qe!==rt&&0===Ye[Qe];)Qe++;for(var dt=new Uint8Array(ot+(rt-Qe)),yt=ot;Qe!==rt;)dt[yt++]=Ye[Qe++];return dt}}}return{encode:function se(Re){if(Re instanceof Uint8Array||(ArrayBuffer.isView(Re)?Re=new Uint8Array(Re.buffer,Re.byteOffset,Re.byteLength):Array.isArray(Re)&&(Re=Uint8Array.from(Re))),!(Re instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Re.length)return"";for(var Ze=0,ot=0,it=0,rt=Re.length;it!==rt&&0===Re[it];)it++,Ze++;for(var Ye=(rt-it)*B+1>>>0,ze=new Uint8Array(Ye);it!==rt;){for(var st=Re[it],et=0,Qe=Ye-1;(0!==st||et<ot)&&-1!==Qe;Qe--,et++)ze[Qe]=(st+=256*ze[Qe]>>>0)%k>>>0,st=st/k>>>0;if(0!==st)throw new Error("Non-zero carry");ot=et,it++}for(var dt=Ye-ot;dt!==Ye&&0===ze[dt];)dt++;for(var yt=re.repeat(Ze);dt<Ye;++dt)yt+=t.charAt(ze[dt]);return yt},decodeUnsafe:Te,decode:function ke(Re){var Ze=Te(Re);if(Ze)return Ze;throw new Error(`Non-${r} character`)}}}(e,t);return S({prefix:r,name:t,encode:n,decode:y=>function ee(t){if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")}(f(y))})}function q({name:t,prefix:r,bitsPerChar:e,alphabet:n}){return S({prefix:r,name:t,encode:f=>function K(t,r,e){const n="="===r[r.length-1],f=(1<<e)-1;let y="",D=0,k=0;for(let re=0;re<t.length;++re)for(k=k<<8|t[re],D+=8;D>e;)D-=e,y+=r[f&k>>D];if(0!==D&&(y+=r[f&k<<e-D]),n)for(;y.length*e&7;)y+="=";return y}(f,n,e),decode:f=>function G(t,r,e,n){const f={};for(let B=0;B<r.length;++B)f[r[B]]=B;let y=t.length;for(;"="===t[y-1];)--y;const D=new Uint8Array(y*e/8|0);let k=0,re=0,L=0;for(let B=0;B<y;++B){const se=f[t[B]];if(void 0===se)throw new SyntaxError(`Non-${n} character`);re=re<<e|se,k+=e,k>=8&&(k-=8,D[L++]=255&re>>k)}if(k>=e||255&re<<8-k)throw new SyntaxError("Unexpected end of data");return D}(f,n,e,t)})}q({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),q({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),q({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),q({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),q({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),q({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),q({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),q({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});const me=q({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),ve=I({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),xe=(I({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),q({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),q({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),q({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}));function Je(t){const e=Object.prototype.toString.call(t).match(/\s([a-zA-Z0-9]+)/),[n,f]=e;return f}q({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var We=function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})},at=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(y){e[y]=t[y]&&function(D){return new Promise(function(k,re){!function f(y,D,k,re){Promise.resolve(re).then(function(L){y({value:L,done:k})},D)}(k,re,(D=t[y](D)).done,D.value)})}}};const te=new TextEncoder,U=new TextDecoder;class P{constructor(r,e){this.data=r,this.format=e}static arrayBuffer(r){return new P(r,"ArrayBuffer")}static asyncIterable(r){if(!function Ue(t){return"object"==typeof t&&null!==t&&"function"==typeof t[Symbol.asyncIterator]}(r))throw new TypeError("Input must be of type AsyncIterable.");return new P(r,"AsyncIterable")}static base32Z(r){return new P(r,"Base32Z")}static base58Btc(r){return new P(r,"Base58Btc")}static base64Url(r){return new P(r,"Base64Url")}static bufferSource(r){return new P(r,"BufferSource")}static hex(r){if("string"!=typeof r)throw new TypeError("Hex input must be a string.");if(r.length%2!=0)throw new TypeError("Hex input must have an even number of characters.");return new P(r,"Hex")}static multibase(r){return new P(r,"Multibase")}static object(r){return new P(r,"Object")}static string(r){return new P(r,"String")}static uint8Array(r){return new P(r,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return ve.baseDecode(this.data).buffer;case"Base64Url":return xe.baseDecode(this.data).buffer;case"BufferSource":if("ArrayBuffer"===Je(this.data))return this.data;if(ArrayBuffer.isView(this.data))return function Le(t){return 0!==t.byteOffset||t.byteLength!==t.buffer.byteLength}(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`);case"Hex":case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return We(this,void 0,void 0,function*(){if("AsyncIterable"===this.format)return yield(yield this.toBlobAsync()).arrayBuffer();throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)})}toBase32Z(){if("Uint8Array"===this.format)return me.baseEncode(this.data);throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const r=new Uint8Array(this.data);return ve.baseEncode(r)}case"Multibase":return this.data.substring(1);case"Uint8Array":return ve.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const r=new Uint8Array(this.data);return xe.baseEncode(r)}case"BufferSource":{const r=this.toUint8Array();return xe.baseEncode(r)}case"Object":{const r=JSON.stringify(this.data),e=te.encode(r);return xe.baseEncode(e)}case"String":{const r=te.encode(this.data);return xe.baseEncode(r)}case"Uint8Array":return xe.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){return We(this,void 0,void 0,function*(){var r,e,n;if("AsyncIterable"===this.format){const re=[];try{for(var k,y=!0,D=at(this.data);!(r=(k=yield D.next()).done);y=!0)y=!1,re.push(k.value)}catch(B){e={error:B}}finally{try{!y&&!r&&(n=D.return)&&(yield n.call(D))}finally{if(e)throw e.error}}return new Blob(re)}throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)})}toHex(){const r=Array.from({length:256},(e,n)=>n.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const e=this.toUint8Array();return P.uint8Array(e).toHex()}case"Base64Url":{const e=this.toUint8Array();return P.uint8Array(e).toHex()}case"Uint8Array":{let e="";for(let n=0;n<this.data.length;n++)e+=r[this.data[n]];return e}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){if("Base58Btc"===this.format)return`z${this.data}`;throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}toObject(){switch(this.format){case"Base64Url":{const r=xe.baseDecode(this.data),e=U.decode(r);return JSON.parse(e)}case"String":return JSON.parse(this.data);case"Uint8Array":{const r=U.decode(this.data);return JSON.parse(r)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return We(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const r=yield this.toStringAsync();return JSON.parse(r)}throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)})}toString(){switch(this.format){case"ArrayBuffer":case"Uint8Array":return U.decode(this.data);case"Base64Url":{const r=xe.baseDecode(this.data);return U.decode(r)}case"Object":return JSON.stringify(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){return We(this,void 0,void 0,function*(){var r,e,n,f;if("AsyncIterable"===this.format){let re="";try{for(var k,y=!0,D=at(this.data);!(r=(k=yield D.next()).done);y=!0)y=!1,re+="string"==typeof(f=k.value)?f:U.decode(f,{stream:!0})}catch(L){e={error:L}}finally{try{!y&&!r&&(n=D.return)&&(yield n.call(D))}finally{if(e)throw e.error}}return re+=U.decode(void 0,{stream:!1}),re}throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return me.baseDecode(this.data);case"Base58Btc":return ve.baseDecode(this.data);case"Base64Url":return xe.baseDecode(this.data);case"BufferSource":{const r=Je(this.data);if("Uint8Array"===r)return this.data;if("ArrayBuffer"===r)return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const r=new Uint8Array(this.data.length/2);for(let e=0;e<this.data.length;e+=2){const n=parseInt(this.data.substring(e,e+2),16);if(isNaN(n))throw new TypeError("Input is not a valid hexadecimal string.");r[e/2]=n}return r}case"Object":{const r=JSON.stringify(this.data);return te.encode(r)}case"String":return te.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return We(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const r=yield this.toArrayBufferAsync();return new Uint8Array(r)}throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)})}}var Se=128,Ie=-128,Oe=Math.pow(2,31),lt=128,tt=127,Bt=Math.pow(2,7),It=Math.pow(2,14),St=Math.pow(2,21),Ft=Math.pow(2,28),yr=Math.pow(2,35),V=Math.pow(2,42),ue=Math.pow(2,49),oe=Math.pow(2,56),fe=Math.pow(2,63);const Ge={encode:function Be(t,r,e){r=r||[];for(var n=e=e||0;t>=Oe;)r[e++]=255&t|Se,t/=128;for(;t&Ie;)r[e++]=255&t|Se,t>>>=7;return r[e]=0|t,Be.bytes=e-n+1,r},decode:function ft(t,n){var D,e=0,f=0,y=n=n||0,k=t.length;do{if(y>=k)throw ft.bytes=0,new RangeError("Could not decode varint");D=t[y++],e+=f<28?(D&tt)<<f:(D&tt)*Math.pow(2,f),f+=7}while(D>=lt);return ft.bytes=y-n,e},encodingLength:function(t){return t<Bt?1:t<It?2:t<St?3:t<Ft?4:t<yr?5:t<V?6:t<ue?7:t<oe?8:t<fe?9:10}};function ut(t,r=0){return[Ge.decode(t,r),Ge.decode.bytes]}Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");class Xt{static addPrefix(r){var e;let{code:n,data:f,name:y}=r;if(!(y?!n:n))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(n=Xt.codeToName.has(n)?n:Xt.nameToCode.get(y),void 0===n)throw new Error(`Unsupported multicodec: ${null!==(e=r.name)&&void 0!==e?e:r.code}`);const D=function _t(t){return Ge.encodingLength(t)}(n),k=new Uint8Array(D+f.byteLength);return k.set(f,D),function wt(t,r,e=0){return Ge.encode(t,r,e),r}(n,k),k}static getCodeFromData(r){const{prefixedData:e}=r,[n,f]=ut(e);return n}static getCodeFromName(r){const{name:e}=r,n=Xt.nameToCode.get(e);if(void 0===n)throw new Error(`Unsupported multicodec: ${e}`);return n}static getNameFromCode(r){const{code:e}=r,n=Xt.codeToName.get(e);if(void 0===n)throw new Error(`Unsupported multicodec: ${e}`);return n}static registerCodec(r){Xt.codeToName.set(r.code,r.name),Xt.nameToCode.set(r.name,r.code)}static removePrefix(r){const{prefixedData:e}=r,[n,f]=ut(e),y=Xt.codeToName.get(n);if(void 0===y)throw new Error(`Unsupported multicodec: ${n}`);return{code:n,data:e.slice(f),name:y}}}Xt.codeToName=new Map,Xt.nameToCode=new Map,Xt.registerCodec({code:237,name:"ed25519-pub"}),Xt.registerCodec({code:4864,name:"ed25519-priv"}),Xt.registerCodec({code:236,name:"x25519-pub"}),Xt.registerCodec({code:4866,name:"x25519-priv"}),Xt.registerCodec({code:231,name:"secp256k1-pub"}),Xt.registerCodec({code:4865,name:"secp256k1-priv"}),s(51818),s(57963);const Pr=(new Uint8Array(0),t=>{if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")});class ki{constructor(r,e,n){this.name=r,this.prefix=e,this.baseEncode=n}encode(r){if(r instanceof Uint8Array)return`${this.prefix}${this.baseEncode(r)}`;throw Error("Unknown type, must be binary type")}}class Fn{constructor(r,e,n){if(this.name=r,this.prefix=e,void 0===e.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=n}decode(r){if("string"==typeof r){if(r.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(r)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(r.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(r){return $i(this,r)}}class zs{constructor(r){this.decoders=r}or(r){return $i(this,r)}decode(r){const n=this.decoders[r[0]];if(n)return n.decode(r);throw RangeError(`Unable to decode multibase string ${JSON.stringify(r)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const $i=(t,r)=>new zs({...t.decoders||{[t.prefix]:t},...r.decoders||{[r.prefix]:r}});class gi{constructor(r,e,n,f){this.name=r,this.prefix=e,this.baseEncode=n,this.baseDecode=f,this.encoder=new ki(r,e,n),this.decoder=new Fn(r,e,f)}encode(r){return this.encoder.encode(r)}decode(r){return this.decoder.decode(r)}}const Gn=({name:t,prefix:r,encode:e,decode:n})=>new gi(t,r,e,n),Jr=({prefix:t,name:r,alphabet:e})=>{const{encode:n,decode:f}=function Jt(t,r){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var f=0;f<t.length;f++){var y=t.charAt(f),D=y.charCodeAt(0);if(255!==e[D])throw new TypeError(y+" is ambiguous");e[D]=f}var k=t.length,re=t.charAt(0),L=Math.log(k)/Math.log(256),B=Math.log(256)/Math.log(k);function Te(Re){if("string"!=typeof Re)throw new TypeError("Expected String");if(0===Re.length)return new Uint8Array;var Ze=0;if(" "!==Re[Ze]){for(var ot=0,it=0;Re[Ze]===re;)ot++,Ze++;for(var rt=(Re.length-Ze)*L+1>>>0,Ye=new Uint8Array(rt);Re[Ze];){var ze=e[Re.charCodeAt(Ze)];if(255===ze)return;for(var st=0,et=rt-1;(0!==ze||st<it)&&-1!==et;et--,st++)Ye[et]=(ze+=k*Ye[et]>>>0)%256>>>0,ze=ze/256>>>0;if(0!==ze)throw new Error("Non-zero carry");it=st,Ze++}if(" "!==Re[Ze]){for(var Qe=rt-it;Qe!==rt&&0===Ye[Qe];)Qe++;for(var dt=new Uint8Array(ot+(rt-Qe)),yt=ot;Qe!==rt;)dt[yt++]=Ye[Qe++];return dt}}}return{encode:function se(Re){if(Re instanceof Uint8Array||(ArrayBuffer.isView(Re)?Re=new Uint8Array(Re.buffer,Re.byteOffset,Re.byteLength):Array.isArray(Re)&&(Re=Uint8Array.from(Re))),!(Re instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Re.length)return"";for(var Ze=0,ot=0,it=0,rt=Re.length;it!==rt&&0===Re[it];)it++,Ze++;for(var Ye=(rt-it)*B+1>>>0,ze=new Uint8Array(Ye);it!==rt;){for(var st=Re[it],et=0,Qe=Ye-1;(0!==st||et<ot)&&-1!==Qe;Qe--,et++)ze[Qe]=(st+=256*ze[Qe]>>>0)%k>>>0,st=st/k>>>0;if(0!==st)throw new Error("Non-zero carry");ot=et,it++}for(var dt=Ye-ot;dt!==Ye&&0===ze[dt];)dt++;for(var yt=re.repeat(Ze);dt<Ye;++dt)yt+=t.charAt(ze[dt]);return yt},decodeUnsafe:Te,decode:function ke(Re){var Ze=Te(Re);if(Ze)return Ze;throw new Error(`Non-${r} character`)}}}(e,r);return Gn({prefix:t,name:r,encode:n,decode:y=>Pr(f(y))})},$=({name:t,prefix:r,bitsPerChar:e,alphabet:n})=>Gn({prefix:r,name:t,encode:f=>((t,r,e)=>{const n="="===r[r.length-1],f=(1<<e)-1;let y="",D=0,k=0;for(let re=0;re<t.length;++re)for(k=k<<8|t[re],D+=8;D>e;)D-=e,y+=r[f&k>>D];if(D&&(y+=r[f&k<<e-D]),n)for(;y.length*e&7;)y+="=";return y})(f,n,e),decode:f=>((t,r,e,n)=>{const f={};for(let B=0;B<r.length;++B)f[r[B]]=B;let y=t.length;for(;"="===t[y-1];)--y;const D=new Uint8Array(y*e/8|0);let k=0,re=0,L=0;for(let B=0;B<y;++B){const se=f[t[B]];if(void 0===se)throw new SyntaxError(`Non-${n} character`);re=re<<e|se,k+=e,k>=8&&(k-=8,D[L++]=255&re>>k)}if(k>=e||255&re<<8-k)throw new SyntaxError("Unexpected end of data");return D})(f,n,e,t)}),pt=($({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),$({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),$({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),$({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),$({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),$({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),$({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),$({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),$({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})),Et=Jr({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),pr=(Jr({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),$({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),$({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),$({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}));function Qr(t){const e=Object.prototype.toString.call(t).match(/\s([a-zA-Z0-9]+)/),[n,f]=e;return f}$({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var tr=function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})},xr=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(y){e[y]=t[y]&&function(D){return new Promise(function(k,re){!function f(y,D,k,re){Promise.resolve(re).then(function(L){y({value:L,done:k})},D)}(k,re,(D=t[y](D)).done,D.value)})}}};const gr=new TextEncoder,zt=new TextDecoder;class mt{constructor(r,e){this.data=r,this.format=e}static arrayBuffer(r){return new mt(r,"ArrayBuffer")}static asyncIterable(r){if(!function Tt(t){return"object"==typeof t&&null!==t&&"function"==typeof t[Symbol.asyncIterator]}(r))throw new TypeError("Input must be of type AsyncIterable.");return new mt(r,"AsyncIterable")}static base32Z(r){return new mt(r,"Base32Z")}static base58Btc(r){return new mt(r,"Base58Btc")}static base64Url(r){return new mt(r,"Base64Url")}static bufferSource(r){return new mt(r,"BufferSource")}static hex(r){if("string"!=typeof r)throw new TypeError("Hex input must be a string.");if(r.length%2!=0)throw new TypeError("Hex input must have an even number of characters.");return new mt(r,"Hex")}static multibase(r){return new mt(r,"Multibase")}static object(r){return new mt(r,"Object")}static string(r){return new mt(r,"String")}static uint8Array(r){return new mt(r,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return Et.baseDecode(this.data).buffer;case"Base64Url":return pr.baseDecode(this.data).buffer;case"BufferSource":if("ArrayBuffer"===Qr(this.data))return this.data;if(ArrayBuffer.isView(this.data))return function Fo(t){return 0!==t.byteOffset||t.byteLength!==t.buffer.byteLength}(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`);case"Hex":case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return tr(this,void 0,void 0,function*(){if("AsyncIterable"===this.format)return yield(yield this.toBlobAsync()).arrayBuffer();throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)})}toBase32Z(){if("Uint8Array"===this.format)return pt.baseEncode(this.data);throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const r=new Uint8Array(this.data);return Et.baseEncode(r)}case"Multibase":return this.data.substring(1);case"Uint8Array":return Et.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const r=new Uint8Array(this.data);return pr.baseEncode(r)}case"BufferSource":{const r=this.toUint8Array();return pr.baseEncode(r)}case"Object":{const r=JSON.stringify(this.data),e=gr.encode(r);return pr.baseEncode(e)}case"String":{const r=gr.encode(this.data);return pr.baseEncode(r)}case"Uint8Array":return pr.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){var r,e,n;return tr(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const re=[];try{for(var k,y=!0,D=xr(this.data);k=yield D.next(),!(r=k.done);y=!0)y=!1,re.push(k.value)}catch(B){e={error:B}}finally{try{!y&&!r&&(n=D.return)&&(yield n.call(D))}finally{if(e)throw e.error}}return new Blob(re)}throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)})}toHex(){const r=Array.from({length:256},(e,n)=>n.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const e=this.toUint8Array();return mt.uint8Array(e).toHex()}case"Base64Url":{const e=this.toUint8Array();return mt.uint8Array(e).toHex()}case"Uint8Array":{let e="";for(let n=0;n<this.data.length;n++)e+=r[this.data[n]];return e}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){if("Base58Btc"===this.format)return`z${this.data}`;throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}toObject(){switch(this.format){case"Base64Url":{const r=pr.baseDecode(this.data),e=zt.decode(r);return JSON.parse(e)}case"String":return JSON.parse(this.data);case"Uint8Array":{const r=zt.decode(this.data);return JSON.parse(r)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return tr(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const r=yield this.toStringAsync();return JSON.parse(r)}throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)})}toString(){switch(this.format){case"ArrayBuffer":case"Uint8Array":return zt.decode(this.data);case"Base64Url":{const r=pr.baseDecode(this.data);return zt.decode(r)}case"Object":return JSON.stringify(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){var r,e,n,f;return tr(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){let re="";try{for(var k,y=!0,D=xr(this.data);k=yield D.next(),!(r=k.done);y=!0)y=!1,re+="string"==typeof(f=k.value)?f:zt.decode(f,{stream:!0})}catch(L){e={error:L}}finally{try{!y&&!r&&(n=D.return)&&(yield n.call(D))}finally{if(e)throw e.error}}return re+=zt.decode(void 0,{stream:!1}),re}throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return pt.baseDecode(this.data);case"Base58Btc":return Et.baseDecode(this.data);case"Base64Url":return pr.baseDecode(this.data);case"BufferSource":{const r=Qr(this.data);if("Uint8Array"===r)return this.data;if("ArrayBuffer"===r)return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const r=new Uint8Array(this.data.length/2);for(let e=0;e<this.data.length;e+=2){const n=parseInt(this.data.substring(e,e+2),16);if(isNaN(n))throw new TypeError("Input is not a valid hexadecimal string.");r[e/2]=n}return r}case"Object":{const r=JSON.stringify(this.data);return gr.encode(r)}case"String":return gr.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return tr(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const r=yield this.toArrayBufferAsync();return new Uint8Array(r)}throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)})}}var Ar=128,vi=-128,vl=Math.pow(2,31),wl=128,Qa=127,El=Math.pow(2,7),Sl=Math.pow(2,14),_l=Math.pow(2,21),Al=Math.pow(2,28),Dl=Math.pow(2,35),Cl=Math.pow(2,42),Pl=Math.pow(2,49),xl=Math.pow(2,56),Ol=Math.pow(2,63);const Hs={encode:function Ya(t,r,e){r=r||[];for(var n=e=e||0;t>=vl;)r[e++]=255&t|Ar,t/=128;for(;t&vi;)r[e++]=255&t|Ar,t>>>=7;return r[e]=0|t,Ya.bytes=e-n+1,r},decode:function Bo(t,n){var D,e=0,f=0,y=n=n||0,k=t.length;do{if(y>=k)throw Bo.bytes=0,new RangeError("Could not decode varint");D=t[y++],e+=f<28?(D&Qa)<<f:(D&Qa)*Math.pow(2,f),f+=7}while(D>=wl);return Bo.bytes=y-n,e},encodingLength:function(t){return t<El?1:t<Sl?2:t<_l?3:t<Al?4:t<Dl?5:t<Cl?6:t<Pl?7:t<xl?8:t<Ol?9:10}},Ni=(t,r=0)=>[Hs.decode(t,r),Hs.decode.bytes];Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");class hr{static addPrefix(r){var e;let{code:n,data:f,name:y}=r;if(!(y?!n:n))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(n=hr.codeToName.has(n)?n:hr.nameToCode.get(y),void 0===n)throw new Error(`Unsupported multicodec: ${null!==(e=r.name)&&void 0!==e?e:r.code}`);const D=Hs.encodingLength(n),k=new Uint8Array(D+f.byteLength);return k.set(f,D),((t,r,e=0)=>{Hs.encode(t,r,e)})(n,k),k}static getCodeFromData(r){const{prefixedData:e}=r,[n,f]=Ni(e);return n}static getCodeFromName(r){const{name:e}=r,n=hr.nameToCode.get(e);if(void 0===n)throw new Error(`Unsupported multicodec: ${e}`);return n}static getNameFromCode(r){const{code:e}=r,n=hr.codeToName.get(e);if(void 0===n)throw new Error(`Unsupported multicodec: ${e}`);return n}static registerCodec(r){hr.codeToName.set(r.code,r.name),hr.nameToCode.set(r.name,r.code)}static removePrefix(r){const{prefixedData:e}=r,[n,f]=Ni(e),y=hr.codeToName.get(n);if(void 0===y)throw new Error(`Unsupported multicodec: ${n}`);return{code:n,data:e.slice(f),name:y}}}function tu(t){Object.keys(t).forEach(r=>{void 0===t[r]?delete t[r]:"object"==typeof t[r]&&tu(t[r])})}hr.codeToName=new Map,hr.nameToCode=new Map,hr.registerCodec({code:237,name:"ed25519-pub"}),hr.registerCodec({code:4864,name:"ed25519-priv"}),hr.registerCodec({code:236,name:"x25519-pub"}),hr.registerCodec({code:4866,name:"x25519-priv"}),hr.registerCodec({code:231,name:"secp256k1-pub"}),hr.registerCodec({code:4865,name:"secp256k1-priv"}),s(95635);var jr=function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})};class Jl{constructor(){this.store=new Map}clear(){return jr(this,void 0,void 0,function*(){this.store.clear()})}close(){return jr(this,void 0,void 0,function*(){})}delete(r){return jr(this,void 0,void 0,function*(){return this.store.delete(r)})}get(r){return jr(this,void 0,void 0,function*(){return this.store.get(r)})}has(r){return jr(this,void 0,void 0,function*(){return this.store.has(r)})}list(){return jr(this,void 0,void 0,function*(){return Array.from(this.store.values())})}set(r,e){return jr(this,void 0,void 0,function*(){this.store.set(r,e)})}}function $o(t,...r){if(!function Hl(t){return t instanceof Uint8Array||null!=t&&"object"==typeof t&&"Uint8Array"===t.constructor.name}(t))throw new Error("Uint8Array expected");if(r.length>0&&!r.includes(t.length))throw new Error(`Uint8Array expected of length ${r}, not of length=${t.length}`)}function Ro(t,r=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(r&&t.finished)throw new Error("Hash#digest() has already been called")}const Gs="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,No=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),tn=(t,r)=>t<<32-r|t>>>r;function Xs(t){return"string"==typeof t&&(t=function Ql(t){if("string"!=typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}(t)),$o(t),t}new Uint8Array(new Uint32Array([287454020]).buffer);class ql{clone(){return this._cloneInto()}}function td(t){const r=n=>t().update(Xs(n)).digest(),e=t();return r.outputLen=e.outputLen,r.blockLen=e.blockLen,r.create=()=>t(),r}const id=(t,r,e)=>t&r^~t&e,sd=(t,r,e)=>t&r^t&e^r&e;class od extends ql{constructor(r,e,n,f){super(),this.blockLen=r,this.outputLen=e,this.padOffset=n,this.isLE=f,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(r),this.view=No(this.buffer)}update(r){Ro(this);const{view:e,buffer:n,blockLen:f}=this,y=(r=Xs(r)).length;for(let D=0;D<y;){const k=Math.min(f-this.pos,y-D);if(k!==f)n.set(r.subarray(D,D+k),this.pos),this.pos+=k,D+=k,this.pos===f&&(this.process(e,0),this.pos=0);else{const re=No(r);for(;f<=y-D;D+=f)this.process(re,D)}}return this.length+=r.length,this.roundClean(),this}digestInto(r){Ro(this),function ru(t,r){$o(t);const e=r.outputLen;if(t.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}(r,this),this.finished=!0;const{buffer:e,view:n,blockLen:f,isLE:y}=this;let{pos:D}=this;e[D++]=128,this.buffer.subarray(D).fill(0),this.padOffset>f-D&&(this.process(n,0),D=0);for(let se=D;se<f;se++)e[se]=0;(function nd(t,r,e,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(r,e,n);const f=BigInt(32),y=BigInt(4294967295),D=Number(e>>f&y),k=Number(e&y),L=n?0:4;t.setUint32(r+(n?4:0),D,n),t.setUint32(r+L,k,n)})(n,f-8,BigInt(8*this.length),y),this.process(n,0);const k=No(r),re=this.outputLen;if(re%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const L=re/4,B=this.get();if(L>B.length)throw new Error("_sha2: outputLen bigger than state");for(let se=0;se<L;se++)k.setUint32(4*se,B[se],y)}digest(){const{buffer:r,outputLen:e}=this;this.digestInto(r);const n=r.slice(0,e);return this.destroy(),n}_cloneInto(r){r||(r=new this.constructor),r.set(...this.get());const{blockLen:e,buffer:n,length:f,finished:y,destroyed:D,pos:k}=this;return r.length=f,r.pos=k,r.finished=y,r.destroyed=D,f%e&&r.buffer.set(n),r}}const ad=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Tn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),In=new Uint32Array(64);class iu extends od{constructor(){super(64,32,8,!1),this.A=0|Tn[0],this.B=0|Tn[1],this.C=0|Tn[2],this.D=0|Tn[3],this.E=0|Tn[4],this.F=0|Tn[5],this.G=0|Tn[6],this.H=0|Tn[7]}get(){const{A:r,B:e,C:n,D:f,E:y,F:D,G:k,H:re}=this;return[r,e,n,f,y,D,k,re]}set(r,e,n,f,y,D,k,re){this.A=0|r,this.B=0|e,this.C=0|n,this.D=0|f,this.E=0|y,this.F=0|D,this.G=0|k,this.H=0|re}process(r,e){for(let se=0;se<16;se++,e+=4)In[se]=r.getUint32(e,!1);for(let se=16;se<64;se++){const Te=In[se-15],ke=In[se-2],Re=tn(Te,7)^tn(Te,18)^Te>>>3,Ze=tn(ke,17)^tn(ke,19)^ke>>>10;In[se]=Ze+In[se-7]+Re+In[se-16]|0}let{A:n,B:f,C:y,D,E:k,F:re,G:L,H:B}=this;for(let se=0;se<64;se++){const ke=B+(tn(k,6)^tn(k,11)^tn(k,25))+id(k,re,L)+ad[se]+In[se]|0,Ze=(tn(n,2)^tn(n,13)^tn(n,22))+sd(n,f,y)|0;B=L,L=re,re=k,k=D+ke|0,D=y,y=f,f=n,n=ke+Ze|0}n=n+this.A|0,f=f+this.B|0,y=y+this.C|0,D=D+this.D|0,k=k+this.E|0,re=re+this.F|0,L=L+this.G|0,B=B+this.H|0,this.set(n,f,y,D,k,re,L,B)}roundClean(){In.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const zi=td(()=>new iu);class su{static digest(r){return function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})}(this,arguments,void 0,function*({data:e}){return zi(e)})}}class Uo{}var kt=s(94256),jn=s(91006);const ou="urn:jwk:";function Zt(t){return function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})}(this,arguments,void 0,function*({jwk:r}){const e=r.kty;let n;if("EC"===e)n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===e)n={k:r.k,kty:r.kty};else if("OKP"===e)n={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==e)throw new Error(`Unsupported key type: ${e}`);n={e:r.e,kty:r.kty,n:r.n}}tu(n);const f=function dd(t){const r=n=>{if(null!==n&&"object"==typeof n&&!Array.isArray(n)){const f=Object.keys(n).sort(),y={};for(const D of f)y[D]=r(n[D]);return y}return n},e=r(t);return JSON.stringify(e)}(n),y=mt.string(f).toUint8Array(),D=yield su.digest({data:y});return mt.uint8Array(D).toBase64Url()})}function Xn(t){return!(!t||"object"!=typeof t||!("kty"in t&&"crv"in t&&"x"in t&&"d"in t)||"EC"!==t.kty||"string"!=typeof t.d||"string"!=typeof t.x)}function Lo(t){return!(!t||"object"!=typeof t||!("kty"in t&&"crv"in t&&"x"in t)||"d"in t||"EC"!==t.kty||"string"!=typeof t.x)}function Hi(t){return!(!t||"object"!=typeof t||!("kty"in t&&"crv"in t&&"x"in t&&"d"in t)||"OKP"!==t.kty||"string"!=typeof t.d||"string"!=typeof t.x)}function au(t){return!(!t||"object"!=typeof t||"d"in t||!("kty"in t&&"crv"in t&&"x"in t)||"OKP"!==t.kty||"string"!=typeof t.x)}var nr=function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})};class vr{static adjustSignatureToLowS(r){return nr(this,arguments,void 0,function*({signature:e}){const n=kt.bI.Signature.fromCompact(e);return n.hasHighS()?n.normalizeS().toCompactRawBytes():e})}static bytesToPrivateKey(r){return nr(this,arguments,void 0,function*({privateKeyBytes:e}){const n=yield vr.getCurvePoint({keyBytes:e}),f={kty:"EC",crv:"secp256k1",d:mt.uint8Array(e).toBase64Url(),x:mt.uint8Array(n.x).toBase64Url(),y:mt.uint8Array(n.y).toBase64Url()};return f.kid=yield Zt({jwk:f}),f})}static bytesToPublicKey(r){return nr(this,arguments,void 0,function*({publicKeyBytes:e}){const n=yield vr.getCurvePoint({keyBytes:e}),f={kty:"EC",crv:"secp256k1",x:mt.uint8Array(n.x).toBase64Url(),y:mt.uint8Array(n.y).toBase64Url()};return f.kid=yield Zt({jwk:f}),f})}static compressPublicKey(r){return nr(this,arguments,void 0,function*({publicKeyBytes:e}){return kt.bI.ProjectivePoint.fromHex(e).toRawBytes(!0)})}static computePublicKey(r){return nr(this,arguments,void 0,function*({key:e}){const n=yield vr.privateKeyToBytes({privateKey:e}),f=yield vr.getCurvePoint({keyBytes:n}),y={kty:"EC",crv:"secp256k1",x:mt.uint8Array(f.x).toBase64Url(),y:mt.uint8Array(f.y).toBase64Url()};return y.kid=yield Zt({jwk:y}),y})}static convertDerToCompactSignature(r){return nr(this,arguments,void 0,function*({derSignature:e}){return kt.bI.Signature.fromDER(e).toCompactRawBytes()})}static decompressPublicKey(r){return nr(this,arguments,void 0,function*({publicKeyBytes:e}){return kt.bI.ProjectivePoint.fromHex(e).toRawBytes(!1)})}static generateKey(){return nr(this,void 0,void 0,function*(){const r=kt.bI.utils.randomPrivateKey(),e=yield vr.bytesToPrivateKey({privateKeyBytes:r});return e.kid=yield Zt({jwk:e}),e})}static getPublicKey(r){return nr(this,arguments,void 0,function*({key:e}){var n;if(!Xn(e)||"secp256k1"!==e.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let y=function(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var f=0;for(n=Object.getOwnPropertySymbols(t);f<n.length;f++)r.indexOf(n[f])<0&&Object.prototype.propertyIsEnumerable.call(t,n[f])&&(e[n[f]]=t[n[f]])}return e}(e,["d"]);return null!==(n=y.kid)&&void 0!==n||(y.kid=yield Zt({jwk:y})),y})}static privateKeyToBytes(r){return nr(this,arguments,void 0,function*({privateKey:e}){if(!Xn(e))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return mt.base64Url(e.d).toUint8Array()})}static publicKeyToBytes(r){return nr(this,arguments,void 0,function*({publicKey:e}){if(!Lo(e)||!e.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),f=mt.base64Url(e.x).toUint8Array(),y=mt.base64Url(e.y).toUint8Array();return new Uint8Array([...n,...f,...y])})}static sharedSecret(r){return nr(this,arguments,void 0,function*({privateKeyA:e,publicKeyB:n}){if("x"in e&&"x"in n&&e.x===n.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const f=yield vr.privateKeyToBytes({privateKey:e}),y=yield vr.publicKeyToBytes({publicKey:n});return kt.bI.getSharedSecret(f,y,!0).slice(1)})}static sign(r){return nr(this,arguments,void 0,function*({data:e,key:n}){const f=yield vr.privateKeyToBytes({privateKey:n}),y=zi(e);return kt.bI.sign(y,f).toCompactRawBytes()})}static validatePrivateKey(r){return nr(this,arguments,void 0,function*({privateKeyBytes:e}){return kt.bI.utils.isValidPrivateKey(e)})}static validatePublicKey(r){return nr(this,arguments,void 0,function*({publicKeyBytes:e}){try{kt.bI.ProjectivePoint.fromHex(e).assertValidity()}catch{return!1}return!0})}static verify(r){return nr(this,arguments,void 0,function*({key:e,signature:n,data:f}){const y=yield vr.publicKeyToBytes({publicKey:e}),D=zi(f);return kt.bI.verify(n,D,y,{lowS:!1})})}static getCurvePoint(r){return nr(this,arguments,void 0,function*({keyBytes:e}){32===e.byteLength&&(e=kt.bI.getPublicKey(e));const n=kt.bI.ProjectivePoint.fromHex(e);return{x:(0,jn.lq)(n.x,32),y:(0,jn.lq)(n.y,32)}})}}var $t=s(40499),ir=function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})};class br{static adjustSignatureToLowS(r){return ir(this,arguments,void 0,function*({signature:e}){const n=$t.Ag.Signature.fromCompact(e);return n.hasHighS()?n.normalizeS().toCompactRawBytes():e})}static bytesToPrivateKey(r){return ir(this,arguments,void 0,function*({privateKeyBytes:e}){const n=yield br.getCurvePoint({keyBytes:e}),f={kty:"EC",crv:"P-256",d:mt.uint8Array(e).toBase64Url(),x:mt.uint8Array(n.x).toBase64Url(),y:mt.uint8Array(n.y).toBase64Url()};return f.kid=yield Zt({jwk:f}),f})}static bytesToPublicKey(r){return ir(this,arguments,void 0,function*({publicKeyBytes:e}){const n=yield br.getCurvePoint({keyBytes:e}),f={kty:"EC",crv:"P-256",x:mt.uint8Array(n.x).toBase64Url(),y:mt.uint8Array(n.y).toBase64Url()};return f.kid=yield Zt({jwk:f}),f})}static compressPublicKey(r){return ir(this,arguments,void 0,function*({publicKeyBytes:e}){return $t.Ag.ProjectivePoint.fromHex(e).toRawBytes(!0)})}static computePublicKey(r){return ir(this,arguments,void 0,function*({key:e}){const n=yield br.privateKeyToBytes({privateKey:e}),f=yield br.getCurvePoint({keyBytes:n}),y={kty:"EC",crv:"P-256",x:mt.uint8Array(f.x).toBase64Url(),y:mt.uint8Array(f.y).toBase64Url()};return y.kid=yield Zt({jwk:y}),y})}static convertDerToCompactSignature(r){return ir(this,arguments,void 0,function*({derSignature:e}){return $t.Ag.Signature.fromDER(e).toCompactRawBytes()})}static decompressPublicKey(r){return ir(this,arguments,void 0,function*({publicKeyBytes:e}){return $t.Ag.ProjectivePoint.fromHex(e).toRawBytes(!1)})}static generateKey(){return ir(this,void 0,void 0,function*(){const r=$t.Ag.utils.randomPrivateKey(),e=yield br.bytesToPrivateKey({privateKeyBytes:r});return e.kid=yield Zt({jwk:e}),e})}static getPublicKey(r){return ir(this,arguments,void 0,function*({key:e}){var n;if(!Xn(e)||"P-256"!==e.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let y=function(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var f=0;for(n=Object.getOwnPropertySymbols(t);f<n.length;f++)r.indexOf(n[f])<0&&Object.prototype.propertyIsEnumerable.call(t,n[f])&&(e[n[f]]=t[n[f]])}return e}(e,["d"]);return null!==(n=y.kid)&&void 0!==n||(y.kid=yield Zt({jwk:y})),y})}static privateKeyToBytes(r){return ir(this,arguments,void 0,function*({privateKey:e}){if(!Xn(e))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return mt.base64Url(e.d).toUint8Array()})}static publicKeyToBytes(r){return ir(this,arguments,void 0,function*({publicKey:e}){if(!Lo(e)||!e.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),f=mt.base64Url(e.x).toUint8Array(),y=mt.base64Url(e.y).toUint8Array();return new Uint8Array([...n,...f,...y])})}static sharedSecret(r){return ir(this,arguments,void 0,function*({privateKeyA:e,publicKeyB:n}){if("x"in e&&"x"in n&&e.x===n.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const f=yield br.privateKeyToBytes({privateKey:e}),y=yield br.publicKeyToBytes({publicKey:n});return $t.Ag.getSharedSecret(f,y,!0).slice(1)})}static sign(r){return ir(this,arguments,void 0,function*({data:e,key:n}){const f=yield br.privateKeyToBytes({privateKey:n}),y=zi(e);return $t.Ag.sign(y,f).toCompactRawBytes()})}static validatePrivateKey(r){return ir(this,arguments,void 0,function*({privateKeyBytes:e}){return $t.Ag.utils.isValidPrivateKey(e)})}static validatePublicKey(r){return ir(this,arguments,void 0,function*({publicKeyBytes:e}){try{$t.Ag.ProjectivePoint.fromHex(e).assertValidity()}catch{return!1}return!0})}static verify(r){return ir(this,arguments,void 0,function*({key:e,signature:n,data:f}){const y=yield br.publicKeyToBytes({publicKey:e}),D=zi(f);return $t.Ag.verify(n,D,y,{lowS:!1})})}static getCurvePoint(r){return ir(this,arguments,void 0,function*({keyBytes:e}){32===e.byteLength&&(e=$t.Ag.getPublicKey(e));const n=$t.Ag.ProjectivePoint.fromHex(e);return{x:(0,jn.lq)(n.x,32),y:(0,jn.lq)(n.y,32)}})}}var Gi=function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})};class uu extends Uo{computePublicKey(r){return Gi(this,arguments,void 0,function*({key:e}){if(!Xn(e))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(e.crv){case"secp256k1":{const n=yield vr.computePublicKey({key:e});return n.alg="ES256K",n}case"P-256":{const n=yield br.computePublicKey({key:e});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${e.crv}`)}})}generateKey(r){return Gi(this,arguments,void 0,function*({algorithm:e}){switch(e){case"ES256K":case"secp256k1":{const n=yield vr.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield br.generateKey();return n.alg="ES256",n}}})}getPublicKey(r){return Gi(this,arguments,void 0,function*({key:e}){if(!Xn(e))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(e.crv){case"secp256k1":{const n=yield vr.getPublicKey({key:e});return n.alg="ES256K",n}case"P-256":{const n=yield br.getPublicKey({key:e});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${e.crv}`)}})}sign(r){return Gi(this,arguments,void 0,function*({key:e,data:n}){if(!Xn(e))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(e.crv){case"secp256k1":return yield vr.sign({key:e,data:n});case"P-256":return yield br.sign({key:e,data:n});default:throw new Error(`Unsupported curve: ${e.crv}`)}})}verify(r){return Gi(this,arguments,void 0,function*({key:e,signature:n,data:f}){if(!Lo(e))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(e.crv){case"secp256k1":return yield vr.verify({key:e,signature:n,data:f});case"P-256":return yield br.verify({key:e,signature:n,data:f});default:throw new Error(`Unsupported curve: ${e.crv}`)}})}}var Lt=s(86295),kr=function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})};class Or{static bytesToPrivateKey(r){return kr(this,arguments,void 0,function*({privateKeyBytes:e}){const n=Lt.ev.getPublicKey(e),f={crv:"Ed25519",d:mt.uint8Array(e).toBase64Url(),kty:"OKP",x:mt.uint8Array(n).toBase64Url()};return f.kid=yield Zt({jwk:f}),f})}static bytesToPublicKey(r){return kr(this,arguments,void 0,function*({publicKeyBytes:e}){const n={kty:"OKP",crv:"Ed25519",x:mt.uint8Array(e).toBase64Url()};return n.kid=yield Zt({jwk:n}),n})}static computePublicKey(r){return kr(this,arguments,void 0,function*({key:e}){const n=yield Or.privateKeyToBytes({privateKey:e}),f=Lt.ev.getPublicKey(n),y={kty:"OKP",crv:"Ed25519",x:mt.uint8Array(f).toBase64Url()};return y.kid=yield Zt({jwk:y}),y})}static convertPrivateKeyToX25519(r){return kr(this,arguments,void 0,function*({privateKey:e}){const n=yield Or.privateKeyToBytes({privateKey:e}),f=(0,Lt.OA)(n),y=Lt.TU.getPublicKey(f),D={kty:"OKP",crv:"X25519",d:mt.uint8Array(f).toBase64Url(),x:mt.uint8Array(y).toBase64Url()};return D.kid=yield Zt({jwk:D}),D})}static convertPublicKeyToX25519(r){return kr(this,arguments,void 0,function*({publicKey:e}){const n=yield Or.publicKeyToBytes({publicKey:e});if(!(yield Or.validatePublicKey({publicKeyBytes:n})))throw new Error("Ed25519: Invalid public key.");const y=(0,Lt.GU)(n),D={kty:"OKP",crv:"X25519",x:mt.uint8Array(y).toBase64Url()};return D.kid=yield Zt({jwk:D}),D})}static generateKey(){return kr(this,void 0,void 0,function*(){const r=Lt.ev.utils.randomPrivateKey(),e=yield Or.bytesToPrivateKey({privateKeyBytes:r});return e.kid=yield Zt({jwk:e}),e})}static getPublicKey(r){return kr(this,arguments,void 0,function*({key:e}){var n;if(!Hi(e)||"Ed25519"!==e.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let y=function(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var f=0;for(n=Object.getOwnPropertySymbols(t);f<n.length;f++)r.indexOf(n[f])<0&&Object.prototype.propertyIsEnumerable.call(t,n[f])&&(e[n[f]]=t[n[f]])}return e}(e,["d"]);return null!==(n=y.kid)&&void 0!==n||(y.kid=yield Zt({jwk:y})),y})}static privateKeyToBytes(r){return kr(this,arguments,void 0,function*({privateKey:e}){if(!Hi(e))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return mt.base64Url(e.d).toUint8Array()})}static publicKeyToBytes(r){return kr(this,arguments,void 0,function*({publicKey:e}){if(!au(e))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return mt.base64Url(e.x).toUint8Array()})}static sign(r){return kr(this,arguments,void 0,function*({key:e,data:n}){const f=yield Or.privateKeyToBytes({privateKey:e});return Lt.ev.sign(n,f)})}static validatePublicKey(r){return kr(this,arguments,void 0,function*({publicKeyBytes:e}){try{Lt.ev.ExtendedPoint.fromHex(e).assertValidity()}catch{return!1}return!0})}static verify(r){return kr(this,arguments,void 0,function*({key:e,signature:n,data:f}){const y=yield Or.publicKeyToBytes({publicKey:e});return Lt.ev.verify(n,f,y)})}}var Xi=function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})},mn=function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})};const Ko={Ed25519:{implementation:class gd extends Uo{computePublicKey(r){return Xi(this,arguments,void 0,function*({key:e}){if(!Hi(e))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===e.crv){const n=yield Or.computePublicKey({key:e});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${e.crv}`)})}generateKey(r){return Xi(this,arguments,void 0,function*({algorithm:e}){if("Ed25519"===e){const n=yield Or.generateKey();return n.alg="EdDSA",n}})}getPublicKey(r){return Xi(this,arguments,void 0,function*({key:e}){if(!Hi(e))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===e.crv){const n=yield Or.getPublicKey({key:e});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${e.crv}`)})}sign(r){return Xi(this,arguments,void 0,function*({key:e,data:n}){if(!Hi(e))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===e.crv)return yield Or.sign({key:e,data:n});throw new Error(`Unsupported curve: ${e.crv}`)})}verify(r){return Xi(this,arguments,void 0,function*({key:e,signature:n,data:f}){if(!au(e))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===e.crv)return yield Or.verify({key:e,signature:n,data:f});throw new Error(`Unsupported curve: ${e.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:uu,names:["ES256K","secp256k1"]},secp256r1:{implementation:uu,names:["ES256","secp256r1"]},"SHA-256":{implementation:class ld extends Uo{digest(r){return function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})}(this,arguments,void 0,function*({algorithm:e,data:n}){if("SHA-256"===e)return yield su.digest({data:n})})}},names:["SHA-256"]}};s(91879),s(94730);var eo=function(t){return t.authentication="authentication",t.assertionMethod="assertionMethod",t.keyAgreement="keyAgreement",t.capabilityInvocation="capabilityInvocation",t.capabilityDelegation="capabilityDelegation",t}(eo||{});const sr={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Pt{constructor({method:r,id:e,path:n,query:f,fragment:y,params:D}){this.uri=`did:${r}:${e}`,this.method=r,this.id=e,this.path=n,this.query=f,this.fragment=y,this.params=D}static parse(r){if(!r)return null;const e=Pt.DID_URI_PATTERN.exec(r);if(!e||!e.groups)return null;const{method:n,id:f,path:y,query:D,fragment:k}=e.groups,re={uri:`did:${n}:${f}`,method:n,id:f};if(y&&(re.path=y),D&&(re.query=D.slice(1)),k&&(re.fragment=k.slice(1)),D){const L={},B=D.slice(1).split("&");for(const se of B){const[Te,ke]=se.split("=");L[Te]=ke}re.params=L}return re}}Pt.METHOD_PATTERN="([a-z0-9]+)",Pt.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Pt.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Pt.PCT_ENCODED_PATTERN})`,Pt.METHOD_ID_PATTERN=`((?:${Pt.ID_CHAR_PATTERN}*:)*(${Pt.ID_CHAR_PATTERN}+))`,Pt.PATH_PATTERN="(/[^#?]*)?",Pt.QUERY_PATTERN="([?][^#]*)?",Pt.FRAGMENT_PATTERN="(#.*)?",Pt.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Pt.METHOD_PATTERN}):(?<id>${Pt.METHOD_ID_PATTERN})(?<path>${Pt.PATH_PATTERN})(?<query>${Pt.QUERY_PATTERN})(?<fragment>${Pt.FRAGMENT_PATTERN})$`);class gt extends Error{constructor(r,e){super(`${r}: ${e}`),this.code=r,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gt)}}var vt=function(t){return t.InvalidDid="invalidDid",t.MethodNotSupported="methodNotSupported",t.InternalError="internalError",t.InvalidDidDocument="invalidDidDocument",t.InvalidDidDocumentLength="invalidDidDocumentLength",t.InvalidDidUrl="invalidDidUrl",t.InvalidPreviousDidProof="invalidPreviousDidProof",t.InvalidPublicKey="invalidPublicKey",t.InvalidPublicKeyLength="invalidPublicKeyLength",t.InvalidPublicKeyType="invalidPublicKeyType",t.InvalidSignature="invalidSignature",t.NotFound="notFound",t.RepresentationNotSupported="representationNotSupported",t.UnsupportedPublicKeyType="unsupportedPublicKeyType",t}(vt||{});const Ho=(new Uint8Array(0),t=>{if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")});class Id{constructor(r,e,n){this.name=r,this.prefix=e,this.baseEncode=n}encode(r){if(r instanceof Uint8Array)return`${this.prefix}${this.baseEncode(r)}`;throw Error("Unknown type, must be binary type")}}class jd{constructor(r,e,n){if(this.name=r,this.prefix=e,void 0===e.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=n}decode(r){if("string"==typeof r){if(r.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(r)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(r.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(r){return du(this,r)}}class kd{constructor(r){this.decoders=r}or(r){return du(this,r)}decode(r){const n=this.decoders[r[0]];if(n)return n.decode(r);throw RangeError(`Unable to decode multibase string ${JSON.stringify(r)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const du=(t,r)=>new kd({...t.decoders||{[t.prefix]:t},...r.decoders||{[r.prefix]:r}});class $d{constructor(r,e,n,f){this.name=r,this.prefix=e,this.baseEncode=n,this.baseDecode=f,this.encoder=new Id(r,e,n),this.decoder=new jd(r,e,f)}encode(r){return this.encoder.encode(r)}decode(r){return this.decoder.decode(r)}}const fu=({name:t,prefix:r,encode:e,decode:n})=>new $d(t,r,e,n),pu=({prefix:t,name:r,alphabet:e})=>{const{encode:n,decode:f}=function Pd(t,r){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var f=0;f<t.length;f++){var y=t.charAt(f),D=y.charCodeAt(0);if(255!==e[D])throw new TypeError(y+" is ambiguous");e[D]=f}var k=t.length,re=t.charAt(0),L=Math.log(k)/Math.log(256),B=Math.log(256)/Math.log(k);function Te(Re){if("string"!=typeof Re)throw new TypeError("Expected String");if(0===Re.length)return new Uint8Array;var Ze=0;if(" "!==Re[Ze]){for(var ot=0,it=0;Re[Ze]===re;)ot++,Ze++;for(var rt=(Re.length-Ze)*L+1>>>0,Ye=new Uint8Array(rt);Re[Ze];){var ze=e[Re.charCodeAt(Ze)];if(255===ze)return;for(var st=0,et=rt-1;(0!==ze||st<it)&&-1!==et;et--,st++)Ye[et]=(ze+=k*Ye[et]>>>0)%256>>>0,ze=ze/256>>>0;if(0!==ze)throw new Error("Non-zero carry");it=st,Ze++}if(" "!==Re[Ze]){for(var Qe=rt-it;Qe!==rt&&0===Ye[Qe];)Qe++;for(var dt=new Uint8Array(ot+(rt-Qe)),yt=ot;Qe!==rt;)dt[yt++]=Ye[Qe++];return dt}}}return{encode:function se(Re){if(Re instanceof Uint8Array||(ArrayBuffer.isView(Re)?Re=new Uint8Array(Re.buffer,Re.byteOffset,Re.byteLength):Array.isArray(Re)&&(Re=Uint8Array.from(Re))),!(Re instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Re.length)return"";for(var Ze=0,ot=0,it=0,rt=Re.length;it!==rt&&0===Re[it];)it++,Ze++;for(var Ye=(rt-it)*B+1>>>0,ze=new Uint8Array(Ye);it!==rt;){for(var st=Re[it],et=0,Qe=Ye-1;(0!==st||et<ot)&&-1!==Qe;Qe--,et++)ze[Qe]=(st+=256*ze[Qe]>>>0)%k>>>0,st=st/k>>>0;if(0!==st)throw new Error("Non-zero carry");ot=et,it++}for(var dt=Ye-ot;dt!==Ye&&0===ze[dt];)dt++;for(var yt=re.repeat(Ze);dt<Ye;++dt)yt+=t.charAt(ze[dt]);return yt},decodeUnsafe:Te,decode:function ke(Re){var Ze=Te(Re);if(Ze)return Ze;throw new Error(`Non-${r} character`)}}}(e,r);return fu({prefix:t,name:r,encode:n,decode:y=>Ho(f(y))})},Fr=({name:t,prefix:r,bitsPerChar:e,alphabet:n})=>fu({prefix:r,name:t,encode:f=>((t,r,e)=>{const n="="===r[r.length-1],f=(1<<e)-1;let y="",D=0,k=0;for(let re=0;re<t.length;++re)for(k=k<<8|t[re],D+=8;D>e;)D-=e,y+=r[f&k>>D];if(D&&(y+=r[f&k<<e-D]),n)for(;y.length*e&7;)y+="=";return y})(f,n,e),decode:f=>((t,r,e,n)=>{const f={};for(let B=0;B<r.length;++B)f[r[B]]=B;let y=t.length;for(;"="===t[y-1];)--y;const D=new Uint8Array(y*e/8|0);let k=0,re=0,L=0;for(let B=0;B<y;++B){const se=f[t[B]];if(void 0===se)throw new SyntaxError(`Non-${n} character`);re=re<<e|se,k+=e,k>=8&&(k-=8,D[L++]=255&re>>k)}if(k>=e||255&re<<8-k)throw new SyntaxError("Unexpected end of data");return D})(f,n,e,t)}),hu=(Fr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Fr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Fr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Fr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Fr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Fr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Fr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Fr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Fr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})),$r=pu({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),gn=(pu({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Fr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Fr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Fr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}));function Go(t){const e=Object.prototype.toString.call(t).match(/\s([a-zA-Z0-9]+)/),[n,f]=e;return f}Fr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var ts=function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})},yu=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(y){e[y]=t[y]&&function(D){return new Promise(function(k,re){!function f(y,D,k,re){Promise.resolve(re).then(function(L){y({value:L,done:k})},D)}(k,re,(D=t[y](D)).done,D.value)})}}};const ro=new TextEncoder,Yn=new TextDecoder;class ht{constructor(r,e){this.data=r,this.format=e}static arrayBuffer(r){return new ht(r,"ArrayBuffer")}static asyncIterable(r){if(!function Ud(t){return"object"==typeof t&&null!==t&&"function"==typeof t[Symbol.asyncIterator]}(r))throw new TypeError("Input must be of type AsyncIterable.");return new ht(r,"AsyncIterable")}static base32Z(r){return new ht(r,"Base32Z")}static base58Btc(r){return new ht(r,"Base58Btc")}static base64Url(r){return new ht(r,"Base64Url")}static bufferSource(r){return new ht(r,"BufferSource")}static hex(r){if("string"!=typeof r)throw new TypeError("Hex input must be a string.");if(r.length%2!=0)throw new TypeError("Hex input must have an even number of characters.");return new ht(r,"Hex")}static multibase(r){return new ht(r,"Multibase")}static object(r){return new ht(r,"Object")}static string(r){return new ht(r,"String")}static uint8Array(r){return new ht(r,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return $r.baseDecode(this.data).buffer;case"Base64Url":return gn.baseDecode(this.data).buffer;case"BufferSource":if("ArrayBuffer"===Go(this.data))return this.data;if(ArrayBuffer.isView(this.data))return function Md(t){return 0!==t.byteOffset||t.byteLength!==t.buffer.byteLength}(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`);case"Hex":case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return ts(this,void 0,void 0,function*(){if("AsyncIterable"===this.format)return yield(yield this.toBlobAsync()).arrayBuffer();throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)})}toBase32Z(){if("Uint8Array"===this.format)return hu.baseEncode(this.data);throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const r=new Uint8Array(this.data);return $r.baseEncode(r)}case"Multibase":return this.data.substring(1);case"Uint8Array":return $r.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const r=new Uint8Array(this.data);return gn.baseEncode(r)}case"BufferSource":{const r=this.toUint8Array();return gn.baseEncode(r)}case"Object":{const r=JSON.stringify(this.data),e=ro.encode(r);return gn.baseEncode(e)}case"String":{const r=ro.encode(this.data);return gn.baseEncode(r)}case"Uint8Array":return gn.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){var r,e,n;return ts(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const re=[];try{for(var k,y=!0,D=yu(this.data);k=yield D.next(),!(r=k.done);y=!0)y=!1,re.push(k.value)}catch(B){e={error:B}}finally{try{!y&&!r&&(n=D.return)&&(yield n.call(D))}finally{if(e)throw e.error}}return new Blob(re)}throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)})}toHex(){const r=Array.from({length:256},(e,n)=>n.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const e=this.toUint8Array();return ht.uint8Array(e).toHex()}case"Base64Url":{const e=this.toUint8Array();return ht.uint8Array(e).toHex()}case"Uint8Array":{let e="";for(let n=0;n<this.data.length;n++)e+=r[this.data[n]];return e}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){if("Base58Btc"===this.format)return`z${this.data}`;throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}toObject(){switch(this.format){case"Base64Url":{const r=gn.baseDecode(this.data),e=Yn.decode(r);return JSON.parse(e)}case"String":return JSON.parse(this.data);case"Uint8Array":{const r=Yn.decode(this.data);return JSON.parse(r)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return ts(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const r=yield this.toStringAsync();return JSON.parse(r)}throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)})}toString(){switch(this.format){case"ArrayBuffer":case"Uint8Array":return Yn.decode(this.data);case"Base64Url":{const r=gn.baseDecode(this.data);return Yn.decode(r)}case"Object":return JSON.stringify(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){var r,e,n,f;return ts(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){let re="";try{for(var k,y=!0,D=yu(this.data);k=yield D.next(),!(r=k.done);y=!0)y=!1,re+="string"==typeof(f=k.value)?f:Yn.decode(f,{stream:!0})}catch(L){e={error:L}}finally{try{!y&&!r&&(n=D.return)&&(yield n.call(D))}finally{if(e)throw e.error}}return re+=Yn.decode(void 0,{stream:!1}),re}throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return hu.baseDecode(this.data);case"Base58Btc":return $r.baseDecode(this.data);case"Base64Url":return gn.baseDecode(this.data);case"BufferSource":{const r=Go(this.data);if("Uint8Array"===r)return this.data;if("ArrayBuffer"===r)return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const r=new Uint8Array(this.data.length/2);for(let e=0;e<this.data.length;e+=2){const n=parseInt(this.data.substring(e,e+2),16);if(isNaN(n))throw new TypeError("Input is not a valid hexadecimal string.");r[e/2]=n}return r}case"Object":{const r=JSON.stringify(this.data);return ro.encode(r)}case"String":return ro.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return ts(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const r=yield this.toArrayBufferAsync();return new Uint8Array(r)}throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)})}}var mu=128,Vd=-128,Jd=Math.pow(2,31),zd=128,vu=127,Hd=Math.pow(2,7),Gd=Math.pow(2,14),Xd=Math.pow(2,21),Zd=Math.pow(2,28),Yd=Math.pow(2,35),Qd=Math.pow(2,42),qd=Math.pow(2,49),ef=Math.pow(2,56),tf=Math.pow(2,63);const no={encode:function gu(t,r,e){r=r||[];for(var n=e=e||0;t>=Jd;)r[e++]=255&t|mu,t/=128;for(;t&Vd;)r[e++]=255&t|mu,t>>>=7;return r[e]=0|t,gu.bytes=e-n+1,r},decode:function Xo(t,n){var D,e=0,f=0,y=n=n||0,k=t.length;do{if(y>=k)throw Xo.bytes=0,new RangeError("Could not decode varint");D=t[y++],e+=f<28?(D&vu)<<f:(D&vu)*Math.pow(2,f),f+=7}while(D>=zd);return Xo.bytes=y-n,e},encodingLength:function(t){return t<Hd?1:t<Gd?2:t<Xd?3:t<Zd?4:t<Yd?5:t<Qd?6:t<qd?7:t<ef?8:t<tf?9:10}},rs=(t,r=0)=>[no.decode(t,r),no.decode.bytes];Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");class Ht{static addPrefix(r){var e;let{code:n,data:f,name:y}=r;if(!(y?!n:n))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(n=Ht.codeToName.has(n)?n:Ht.nameToCode.get(y),void 0===n)throw new Error(`Unsupported multicodec: ${null!==(e=r.name)&&void 0!==e?e:r.code}`);const D=no.encodingLength(n),k=new Uint8Array(D+f.byteLength);return k.set(f,D),((t,r,e=0)=>{no.encode(t,r,e)})(n,k),k}static getCodeFromData(r){const{prefixedData:e}=r,[n,f]=rs(e);return n}static getCodeFromName(r){const{name:e}=r,n=Ht.nameToCode.get(e);if(void 0===n)throw new Error(`Unsupported multicodec: ${e}`);return n}static getNameFromCode(r){const{code:e}=r,n=Ht.codeToName.get(e);if(void 0===n)throw new Error(`Unsupported multicodec: ${e}`);return n}static registerCodec(r){Ht.codeToName.set(r.code,r.name),Ht.nameToCode.set(r.name,r.code)}static removePrefix(r){const{prefixedData:e}=r,[n,f]=rs(e),y=Ht.codeToName.get(n);if(void 0===y)throw new Error(`Unsupported multicodec: ${n}`);return{code:n,data:e.slice(f),name:y}}}function Eu(t){Object.keys(t).forEach(r=>{void 0===t[r]?delete t[r]:"object"==typeof t[r]&&Eu(t[r])})}Ht.codeToName=new Map,Ht.nameToCode=new Map,Ht.registerCodec({code:237,name:"ed25519-pub"}),Ht.registerCodec({code:4864,name:"ed25519-priv"}),Ht.registerCodec({code:236,name:"x25519-pub"}),Ht.registerCodec({code:4866,name:"x25519-priv"}),Ht.registerCodec({code:231,name:"secp256k1-pub"}),Ht.registerCodec({code:4865,name:"secp256k1-priv"}),s(64311);var Rr=function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})};class gf{constructor(){this.store=new Map}clear(){return Rr(this,void 0,void 0,function*(){this.store.clear()})}close(){return Rr(this,void 0,void 0,function*(){})}delete(r){return Rr(this,void 0,void 0,function*(){return this.store.delete(r)})}get(r){return Rr(this,void 0,void 0,function*(){return this.store.get(r)})}has(r){return Rr(this,void 0,void 0,function*(){return this.store.has(r)})}list(){return Rr(this,void 0,void 0,function*(){return Array.from(this.store.values())})}set(r,e){return Rr(this,void 0,void 0,function*(){this.store.set(r,e)})}}function ea(t,r=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(r&&t.finished)throw new Error("Hash#digest() has already been called")}function _u(t,r){!function Su(t,...r){if(!function wf(t){return t instanceof Uint8Array||null!=t&&"object"==typeof t&&"Uint8Array"===t.constructor.name}(t))throw new Error("Expected Uint8Array");if(r.length>0&&!r.includes(t.length))throw new Error(`Expected Uint8Array of length ${r}, not of length=${t.length}`)}(t);const e=r.outputLen;if(t.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}"object"==typeof globalThis&&"crypto"in globalThis&&globalThis;const ra=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),nn=(t,r)=>t<<32-r|t>>>r;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function so(t){if("string"==typeof t&&(t=function Af(t){if("string"!=typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}(t)),!function ta(t){return t instanceof Uint8Array||null!=t&&"object"==typeof t&&"Uint8Array"===t.constructor.name}(t))throw new Error("expected Uint8Array, got "+typeof t);return t}class Df{clone(){return this._cloneInto()}}function Pf(t){const r=n=>t().update(so(n)).digest(),e=t();return r.outputLen=e.outputLen,r.blockLen=e.blockLen,r.create=()=>t(),r}class Ff extends Df{constructor(r,e,n,f){super(),this.blockLen=r,this.outputLen=e,this.padOffset=n,this.isLE=f,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(r),this.view=ra(this.buffer)}update(r){ea(this);const{view:e,buffer:n,blockLen:f}=this,y=(r=so(r)).length;for(let D=0;D<y;){const k=Math.min(f-this.pos,y-D);if(k!==f)n.set(r.subarray(D,D+k),this.pos),this.pos+=k,D+=k,this.pos===f&&(this.process(e,0),this.pos=0);else{const re=ra(r);for(;f<=y-D;D+=f)this.process(re,D)}}return this.length+=r.length,this.roundClean(),this}digestInto(r){ea(this),_u(r,this),this.finished=!0;const{buffer:e,view:n,blockLen:f,isLE:y}=this;let{pos:D}=this;e[D++]=128,this.buffer.subarray(D).fill(0),this.padOffset>f-D&&(this.process(n,0),D=0);for(let se=D;se<f;se++)e[se]=0;(function Of(t,r,e,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(r,e,n);const f=BigInt(32),y=BigInt(4294967295),D=Number(e>>f&y),k=Number(e&y),L=n?0:4;t.setUint32(r+(n?4:0),D,n),t.setUint32(r+L,k,n)})(n,f-8,BigInt(8*this.length),y),this.process(n,0);const k=ra(r),re=this.outputLen;if(re%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const L=re/4,B=this.get();if(L>B.length)throw new Error("_sha2: outputLen bigger than state");for(let se=0;se<L;se++)k.setUint32(4*se,B[se],y)}digest(){const{buffer:r,outputLen:e}=this;this.digestInto(r);const n=r.slice(0,e);return this.destroy(),n}_cloneInto(r){r||(r=new this.constructor),r.set(...this.get());const{blockLen:e,buffer:n,length:f,finished:y,destroyed:D,pos:k}=this;return r.length=f,r.pos=k,r.finished=y,r.destroyed=D,f%e&&r.buffer.set(n),r}}const Bf=(t,r,e)=>t&r^~t&e,Tf=(t,r,e)=>t&r^t&e^r&e,If=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),$n=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Rn=new Uint32Array(64);class Du extends Ff{constructor(){super(64,32,8,!1),this.A=0|$n[0],this.B=0|$n[1],this.C=0|$n[2],this.D=0|$n[3],this.E=0|$n[4],this.F=0|$n[5],this.G=0|$n[6],this.H=0|$n[7]}get(){const{A:r,B:e,C:n,D:f,E:y,F:D,G:k,H:re}=this;return[r,e,n,f,y,D,k,re]}set(r,e,n,f,y,D,k,re){this.A=0|r,this.B=0|e,this.C=0|n,this.D=0|f,this.E=0|y,this.F=0|D,this.G=0|k,this.H=0|re}process(r,e){for(let se=0;se<16;se++,e+=4)Rn[se]=r.getUint32(e,!1);for(let se=16;se<64;se++){const Te=Rn[se-15],ke=Rn[se-2],Re=nn(Te,7)^nn(Te,18)^Te>>>3,Ze=nn(ke,17)^nn(ke,19)^ke>>>10;Rn[se]=Ze+Rn[se-7]+Re+Rn[se-16]|0}let{A:n,B:f,C:y,D,E:k,F:re,G:L,H:B}=this;for(let se=0;se<64;se++){const ke=B+(nn(k,6)^nn(k,11)^nn(k,25))+Bf(k,re,L)+If[se]+Rn[se]|0,Ze=(nn(n,2)^nn(n,13)^nn(n,22))+Tf(n,f,y)|0;B=L,L=re,re=k,k=D+ke|0,D=y,y=f,f=n,n=ke+Ze|0}n=n+this.A|0,f=f+this.B|0,y=y+this.C|0,D=D+this.D|0,k=k+this.E|0,re=re+this.F|0,L=L+this.G|0,B=B+this.H|0,this.set(n,f,y,D,k,re,L,B)}roundClean(){Rn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ls=Pf(()=>new Du);class Cu{static digest({data:r}){return function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})}(this,void 0,void 0,function*(){return ls(r)})}}class ia{}const Pu="urn:jwk:";function Ot({jwk:t}){return function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})}(this,void 0,void 0,function*(){const r=t.kty;let e;if("EC"===r)e={crv:t.crv,kty:t.kty,x:t.x,y:t.y};else if("oct"===r)e={k:t.k,kty:t.kty};else if("OKP"===r)e={crv:t.crv,kty:t.kty,x:t.x};else{if("RSA"!==r)throw new Error(`Unsupported key type: ${r}`);e={e:t.e,kty:t.kty,n:t.n}}Eu(e);const n=function Rf(t){const r=n=>{if(null!==n&&"object"==typeof n&&!Array.isArray(n)){const f=Object.keys(n).sort(),y={};for(const D of f)y[D]=r(n[D]);return y}return n},e=r(t);return JSON.stringify(e)}(e),f=ht.string(n).toUint8Array(),y=yield Cu.digest({data:f});return ht.uint8Array(y).toBase64Url()})}function Qn(t){return!(!t||"object"!=typeof t||!("kty"in t&&"crv"in t&&"x"in t&&"d"in t)||"EC"!==t.kty||"string"!=typeof t.d||"string"!=typeof t.x)}function sa(t){return!(!t||"object"!=typeof t||!("kty"in t&&"crv"in t&&"x"in t)||"d"in t||"EC"!==t.kty||"string"!=typeof t.x)}function qn(t){return!(!t||"object"!=typeof t||!("kty"in t&&"crv"in t&&"x"in t&&"d"in t)||"OKP"!==t.kty||"string"!=typeof t.d||"string"!=typeof t.x)}function oa(t){return!(!t||"object"!=typeof t||"d"in t||!("kty"in t&&"crv"in t&&"x"in t)||"OKP"!==t.kty||"string"!=typeof t.x)}var ar=function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})};class Ut{static adjustSignatureToLowS({signature:r}){return ar(this,void 0,void 0,function*(){const e=kt.bI.Signature.fromCompact(r);return e.hasHighS()?e.normalizeS().toCompactRawBytes():r})}static bytesToPrivateKey({privateKeyBytes:r}){return ar(this,void 0,void 0,function*(){const e=yield Ut.getCurvePoint({keyBytes:r}),n={kty:"EC",crv:"secp256k1",d:ht.uint8Array(r).toBase64Url(),x:ht.uint8Array(e.x).toBase64Url(),y:ht.uint8Array(e.y).toBase64Url()};return n.kid=yield Ot({jwk:n}),n})}static bytesToPublicKey({publicKeyBytes:r}){return ar(this,void 0,void 0,function*(){const e=yield Ut.getCurvePoint({keyBytes:r}),n={kty:"EC",crv:"secp256k1",x:ht.uint8Array(e.x).toBase64Url(),y:ht.uint8Array(e.y).toBase64Url()};return n.kid=yield Ot({jwk:n}),n})}static compressPublicKey({publicKeyBytes:r}){return ar(this,void 0,void 0,function*(){return kt.bI.ProjectivePoint.fromHex(r).toRawBytes(!0)})}static computePublicKey({key:r}){return ar(this,void 0,void 0,function*(){const e=yield Ut.privateKeyToBytes({privateKey:r}),n=yield Ut.getCurvePoint({keyBytes:e}),f={kty:"EC",crv:"secp256k1",x:ht.uint8Array(n.x).toBase64Url(),y:ht.uint8Array(n.y).toBase64Url()};return f.kid=yield Ot({jwk:f}),f})}static convertDerToCompactSignature({derSignature:r}){return ar(this,void 0,void 0,function*(){return kt.bI.Signature.fromDER(r).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:r}){return ar(this,void 0,void 0,function*(){return kt.bI.ProjectivePoint.fromHex(r).toRawBytes(!1)})}static generateKey(){return ar(this,void 0,void 0,function*(){const r=kt.bI.utils.randomPrivateKey(),e=yield Ut.bytesToPrivateKey({privateKeyBytes:r});return e.kid=yield Ot({jwk:e}),e})}static getPublicKey({key:r}){var e;return ar(this,void 0,void 0,function*(){if(!Qn(r)||"secp256k1"!==r.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let f=function(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var f=0;for(n=Object.getOwnPropertySymbols(t);f<n.length;f++)r.indexOf(n[f])<0&&Object.prototype.propertyIsEnumerable.call(t,n[f])&&(e[n[f]]=t[n[f]])}return e}(r,["d"]);return null!==(e=f.kid)&&void 0!==e||(f.kid=yield Ot({jwk:f})),f})}static privateKeyToBytes({privateKey:r}){return ar(this,void 0,void 0,function*(){if(!Qn(r))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return ht.base64Url(r.d).toUint8Array()})}static publicKeyToBytes({publicKey:r}){return ar(this,void 0,void 0,function*(){if(!sa(r)||!r.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const e=new Uint8Array([4]),n=ht.base64Url(r.x).toUint8Array(),f=ht.base64Url(r.y).toUint8Array();return new Uint8Array([...e,...n,...f])})}static sharedSecret({privateKeyA:r,publicKeyB:e}){return ar(this,void 0,void 0,function*(){if("x"in r&&"x"in e&&r.x===e.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const n=yield Ut.privateKeyToBytes({privateKey:r}),f=yield Ut.publicKeyToBytes({publicKey:e});return kt.bI.getSharedSecret(n,f,!0).slice(1)})}static sign({data:r,key:e}){return ar(this,void 0,void 0,function*(){const n=yield Ut.privateKeyToBytes({privateKey:e}),f=ls(r);return kt.bI.sign(f,n).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:r}){return ar(this,void 0,void 0,function*(){return kt.bI.utils.isValidPrivateKey(r)})}static validatePublicKey({publicKeyBytes:r}){return ar(this,void 0,void 0,function*(){try{kt.bI.ProjectivePoint.fromHex(r).assertValidity()}catch{return!1}return!0})}static verify({key:r,signature:e,data:n}){return ar(this,void 0,void 0,function*(){const f=yield Ut.publicKeyToBytes({publicKey:r}),y=ls(n);return kt.bI.verify(e,y,f,{lowS:!1})})}static getCurvePoint({keyBytes:r}){return ar(this,void 0,void 0,function*(){32===r.byteLength&&(r=kt.bI.getPublicKey(r));const e=kt.bI.ProjectivePoint.fromHex(r);return{x:(0,jn.lq)(e.x,32),y:(0,jn.lq)(e.y,32)}})}}var ur=function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})};class Kt{static adjustSignatureToLowS({signature:r}){return ur(this,void 0,void 0,function*(){const e=$t.Ag.Signature.fromCompact(r);return e.hasHighS()?e.normalizeS().toCompactRawBytes():r})}static bytesToPrivateKey({privateKeyBytes:r}){return ur(this,void 0,void 0,function*(){const e=yield Kt.getCurvePoint({keyBytes:r}),n={kty:"EC",crv:"P-256",d:ht.uint8Array(r).toBase64Url(),x:ht.uint8Array(e.x).toBase64Url(),y:ht.uint8Array(e.y).toBase64Url()};return n.kid=yield Ot({jwk:n}),n})}static bytesToPublicKey({publicKeyBytes:r}){return ur(this,void 0,void 0,function*(){const e=yield Kt.getCurvePoint({keyBytes:r}),n={kty:"EC",crv:"P-256",x:ht.uint8Array(e.x).toBase64Url(),y:ht.uint8Array(e.y).toBase64Url()};return n.kid=yield Ot({jwk:n}),n})}static compressPublicKey({publicKeyBytes:r}){return ur(this,void 0,void 0,function*(){return $t.Ag.ProjectivePoint.fromHex(r).toRawBytes(!0)})}static computePublicKey({key:r}){return ur(this,void 0,void 0,function*(){const e=yield Kt.privateKeyToBytes({privateKey:r}),n=yield Kt.getCurvePoint({keyBytes:e}),f={kty:"EC",crv:"P-256",x:ht.uint8Array(n.x).toBase64Url(),y:ht.uint8Array(n.y).toBase64Url()};return f.kid=yield Ot({jwk:f}),f})}static convertDerToCompactSignature({derSignature:r}){return ur(this,void 0,void 0,function*(){return $t.Ag.Signature.fromDER(r).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:r}){return ur(this,void 0,void 0,function*(){return $t.Ag.ProjectivePoint.fromHex(r).toRawBytes(!1)})}static generateKey(){return ur(this,void 0,void 0,function*(){const r=$t.Ag.utils.randomPrivateKey(),e=yield Kt.bytesToPrivateKey({privateKeyBytes:r});return e.kid=yield Ot({jwk:e}),e})}static getPublicKey({key:r}){var e;return ur(this,void 0,void 0,function*(){if(!Qn(r)||"P-256"!==r.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let f=function(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var f=0;for(n=Object.getOwnPropertySymbols(t);f<n.length;f++)r.indexOf(n[f])<0&&Object.prototype.propertyIsEnumerable.call(t,n[f])&&(e[n[f]]=t[n[f]])}return e}(r,["d"]);return null!==(e=f.kid)&&void 0!==e||(f.kid=yield Ot({jwk:f})),f})}static privateKeyToBytes({privateKey:r}){return ur(this,void 0,void 0,function*(){if(!Qn(r))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return ht.base64Url(r.d).toUint8Array()})}static publicKeyToBytes({publicKey:r}){return ur(this,void 0,void 0,function*(){if(!sa(r)||!r.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const e=new Uint8Array([4]),n=ht.base64Url(r.x).toUint8Array(),f=ht.base64Url(r.y).toUint8Array();return new Uint8Array([...e,...n,...f])})}static sharedSecret({privateKeyA:r,publicKeyB:e}){return ur(this,void 0,void 0,function*(){if("x"in r&&"x"in e&&r.x===e.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const n=yield Kt.privateKeyToBytes({privateKey:r}),f=yield Kt.publicKeyToBytes({publicKey:e});return $t.Ag.getSharedSecret(n,f,!0).slice(1)})}static sign({data:r,key:e}){return ur(this,void 0,void 0,function*(){const n=yield Kt.privateKeyToBytes({privateKey:e}),f=ls(r);return $t.Ag.sign(f,n).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:r}){return ur(this,void 0,void 0,function*(){return $t.Ag.utils.isValidPrivateKey(r)})}static validatePublicKey({publicKeyBytes:r}){return ur(this,void 0,void 0,function*(){try{$t.Ag.ProjectivePoint.fromHex(r).assertValidity()}catch{return!1}return!0})}static verify({key:r,signature:e,data:n}){return ur(this,void 0,void 0,function*(){const f=yield Kt.publicKeyToBytes({publicKey:r}),y=ls(n);return $t.Ag.verify(e,y,f,{lowS:!1})})}static getCurvePoint({keyBytes:r}){return ur(this,void 0,void 0,function*(){32===r.byteLength&&(r=$t.Ag.getPublicKey(r));const e=$t.Ag.ProjectivePoint.fromHex(r);return{x:(0,jn.lq)(e.x,32),y:(0,jn.lq)(e.y,32)}})}}var ds=function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})};class xu extends ia{computePublicKey({key:r}){return ds(this,void 0,void 0,function*(){if(!Qn(r))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(r.crv){case"secp256k1":{const e=yield Ut.computePublicKey({key:r});return e.alg="ES256K",e}case"P-256":{const e=yield Kt.computePublicKey({key:r});return e.alg="ES256",e}default:throw new Error(`Unsupported curve: ${r.crv}`)}})}generateKey({algorithm:r}){return ds(this,void 0,void 0,function*(){switch(r){case"ES256K":case"secp256k1":{const e=yield Ut.generateKey();return e.alg="ES256K",e}case"ES256":case"secp256r1":{const e=yield Kt.generateKey();return e.alg="ES256",e}}})}getPublicKey({key:r}){return ds(this,void 0,void 0,function*(){if(!Qn(r))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(r.crv){case"secp256k1":{const e=yield Ut.getPublicKey({key:r});return e.alg="ES256K",e}case"P-256":{const e=yield Kt.getPublicKey({key:r});return e.alg="ES256",e}default:throw new Error(`Unsupported curve: ${r.crv}`)}})}sign({key:r,data:e}){return ds(this,void 0,void 0,function*(){if(!Qn(r))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(r.crv){case"secp256k1":return yield Ut.sign({key:r,data:e});case"P-256":return yield Kt.sign({key:r,data:e});default:throw new Error(`Unsupported curve: ${r.crv}`)}})}verify({key:r,signature:e,data:n}){return ds(this,void 0,void 0,function*(){if(!sa(r))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(r.crv){case"secp256k1":return yield Ut.verify({key:r,signature:e,data:n});case"P-256":return yield Kt.verify({key:r,signature:e,data:n});default:throw new Error(`Unsupported curve: ${r.crv}`)}})}}var Nr=function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})};class Vt{static bytesToPrivateKey({privateKeyBytes:r}){return Nr(this,void 0,void 0,function*(){const e=Lt.ev.getPublicKey(r),n={crv:"Ed25519",d:ht.uint8Array(r).toBase64Url(),kty:"OKP",x:ht.uint8Array(e).toBase64Url()};return n.kid=yield Ot({jwk:n}),n})}static bytesToPublicKey({publicKeyBytes:r}){return Nr(this,void 0,void 0,function*(){const e={kty:"OKP",crv:"Ed25519",x:ht.uint8Array(r).toBase64Url()};return e.kid=yield Ot({jwk:e}),e})}static computePublicKey({key:r}){return Nr(this,void 0,void 0,function*(){const e=yield Vt.privateKeyToBytes({privateKey:r}),n=Lt.ev.getPublicKey(e),f={kty:"OKP",crv:"Ed25519",x:ht.uint8Array(n).toBase64Url()};return f.kid=yield Ot({jwk:f}),f})}static convertPrivateKeyToX25519({privateKey:r}){return Nr(this,void 0,void 0,function*(){const e=yield Vt.privateKeyToBytes({privateKey:r}),n=(0,Lt.OA)(e),f=Lt.TU.getPublicKey(n),y={kty:"OKP",crv:"X25519",d:ht.uint8Array(n).toBase64Url(),x:ht.uint8Array(f).toBase64Url()};return y.kid=yield Ot({jwk:y}),y})}static convertPublicKeyToX25519({publicKey:r}){return Nr(this,void 0,void 0,function*(){const e=yield Vt.publicKeyToBytes({publicKey:r});if(!(yield Vt.validatePublicKey({publicKeyBytes:e})))throw new Error("Ed25519: Invalid public key.");const f=(0,Lt.GU)(e),y={kty:"OKP",crv:"X25519",x:ht.uint8Array(f).toBase64Url()};return y.kid=yield Ot({jwk:y}),y})}static generateKey(){return Nr(this,void 0,void 0,function*(){const r=Lt.ev.utils.randomPrivateKey(),e=yield Vt.bytesToPrivateKey({privateKeyBytes:r});return e.kid=yield Ot({jwk:e}),e})}static getPublicKey({key:r}){var e;return Nr(this,void 0,void 0,function*(){if(!qn(r)||"Ed25519"!==r.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let f=function(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var f=0;for(n=Object.getOwnPropertySymbols(t);f<n.length;f++)r.indexOf(n[f])<0&&Object.prototype.propertyIsEnumerable.call(t,n[f])&&(e[n[f]]=t[n[f]])}return e}(r,["d"]);return null!==(e=f.kid)&&void 0!==e||(f.kid=yield Ot({jwk:f})),f})}static privateKeyToBytes({privateKey:r}){return Nr(this,void 0,void 0,function*(){if(!qn(r))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return ht.base64Url(r.d).toUint8Array()})}static publicKeyToBytes({publicKey:r}){return Nr(this,void 0,void 0,function*(){if(!oa(r))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return ht.base64Url(r.x).toUint8Array()})}static sign({key:r,data:e}){return Nr(this,void 0,void 0,function*(){const n=yield Vt.privateKeyToBytes({privateKey:r});return Lt.ev.sign(e,n)})}static validatePublicKey({publicKeyBytes:r}){return Nr(this,void 0,void 0,function*(){try{Lt.ev.ExtendedPoint.fromHex(r).assertValidity()}catch{return!1}return!0})}static verify({key:r,signature:e,data:n}){return Nr(this,void 0,void 0,function*(){const f=yield Vt.publicKeyToBytes({publicKey:r});return Lt.ev.verify(e,n,f)})}}var fs=function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})},bn=function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})};const aa={Ed25519:{implementation:class Vf extends ia{computePublicKey({key:r}){return fs(this,void 0,void 0,function*(){if(!qn(r))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===r.crv){const e=yield Vt.computePublicKey({key:r});return e.alg="EdDSA",e}throw new Error(`Unsupported curve: ${r.crv}`)})}generateKey({algorithm:r}){return fs(this,void 0,void 0,function*(){if("Ed25519"===r){const e=yield Vt.generateKey();return e.alg="EdDSA",e}})}getPublicKey({key:r}){return fs(this,void 0,void 0,function*(){if(!qn(r))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===r.crv){const e=yield Vt.getPublicKey({key:r});return e.alg="EdDSA",e}throw new Error(`Unsupported curve: ${r.crv}`)})}sign({key:r,data:e}){return fs(this,void 0,void 0,function*(){if(!qn(r))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===r.crv)return yield Vt.sign({key:r,data:e});throw new Error(`Unsupported curve: ${r.crv}`)})}verify({key:r,signature:e,data:n}){return fs(this,void 0,void 0,function*(){if(!oa(r))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===r.crv)return yield Vt.verify({key:r,signature:e,data:n});throw new Error(`Unsupported curve: ${r.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:xu,names:["ES256K","secp256k1"]},secp256r1:{implementation:xu,names:["ES256","secp256r1"]},"SHA-256":{implementation:class $f extends ia{digest({algorithm:r,data:e}){return function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===r)return yield Cu.digest({data:e})})}},names:["SHA-256"]}};class wn{constructor(r){var e;this._algorithmInstances=new Map,this._keyStore=null!==(e=r?.keyStore)&&void 0!==e?e:new gf}digest({algorithm:r,data:e}){return bn(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:r}).digest({algorithm:r,data:e})})}exportKey({keyUri:r}){return bn(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:r})})}generateKey({algorithm:r}){return bn(this,void 0,void 0,function*(){const n=yield this.getAlgorithm({algorithm:r}).generateKey({algorithm:r});if(void 0===n?.kid)throw new Error("Generated key is missing a required property: kid");const f=`${Pu}${n.kid}`;return yield this._keyStore.set(f,n),f})}getKeyUri({key:r}){return bn(this,void 0,void 0,function*(){const e=yield Ot({jwk:r});return`${Pu}${e}`})}getPublicKey({keyUri:r}){return bn(this,void 0,void 0,function*(){const e=yield this.getPrivateKey({keyUri:r}),n=this.getAlgorithmName({key:e});return yield this.getAlgorithm({algorithm:n}).getPublicKey({key:e})})}importKey({key:r}){var e;return bn(this,void 0,void 0,function*(){if(!function Mf(t){if(!t||"object"!=typeof t)return!1;switch(t.kty){case"EC":case"OKP":case"RSA":return"d"in t;case"oct":return"k"in t;default:return!1}}(r))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const n=structuredClone(r);null!==(e=n.kid)&&void 0!==e||(n.kid=yield Ot({jwk:n}));const f=yield this.getKeyUri({key:n});return yield this._keyStore.set(f,n),f})}sign({keyUri:r,data:e}){return bn(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:r}),f=this.getAlgorithmName({key:n});return this.getAlgorithm({algorithm:f}).sign({data:e,key:n})})}verify({key:r,signature:e,data:n}){return bn(this,void 0,void 0,function*(){const f=this.getAlgorithmName({key:r});return this.getAlgorithm({algorithm:f}).verify({key:r,signature:e,data:n})})}getAlgorithm({algorithm:r}){var e;const n=null===(e=aa[r])||void 0===e?void 0:e.implementation;if(!n)throw new Error(`Algorithm not supported: ${r}`);return this._algorithmInstances.has(n)||this._algorithmInstances.set(n,new n),this._algorithmInstances.get(n)}getAlgorithmName({key:r}){const e=r.alg,n=r.crv;for(const f in aa){const y=aa[f];if(e&&y.names.includes(e))return f;if(n&&y.names.includes(n))return f}throw new Error(`Unable to determine algorithm based on provided input: alg=${e}, crv=${n}`)}getPrivateKey({keyUri:r}){return bn(this,void 0,void 0,function*(){const e=yield this._keyStore.get(r);if(!e)throw new Error(`Key not found: ${r}`);return e})}}function Jf(t){const r={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(t.alg&&Object.values(r).includes(t.alg))return t.alg;if(t.crv&&Object.keys(r).includes(t.crv))return r[t.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${t.alg}, crv=${t.crv}. Supported 'alg' values: ${Object.values(r).join(", ")}. Supported 'crv' values: ${Object.keys(r).join(", ")}.`)}var Nn=function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})};class ti{static bytesToPrivateKey({privateKeyBytes:r}){return Nn(this,void 0,void 0,function*(){const e=Lt.TU.getPublicKey(r),n={kty:"OKP",crv:"X25519",d:ht.uint8Array(r).toBase64Url(),x:ht.uint8Array(e).toBase64Url()};return n.kid=yield Ot({jwk:n}),n})}static bytesToPublicKey({publicKeyBytes:r}){return Nn(this,void 0,void 0,function*(){const e={kty:"OKP",crv:"X25519",x:ht.uint8Array(r).toBase64Url()};return e.kid=yield Ot({jwk:e}),e})}static computePublicKey({key:r}){return Nn(this,void 0,void 0,function*(){const e=yield ti.privateKeyToBytes({privateKey:r}),n=Lt.TU.getPublicKey(e),f={kty:"OKP",crv:"X25519",x:ht.uint8Array(n).toBase64Url()};return f.kid=yield Ot({jwk:f}),f})}static generateKey(){return Nn(this,void 0,void 0,function*(){const r=Lt.TU.utils.randomPrivateKey(),e=yield ti.bytesToPrivateKey({privateKeyBytes:r});return e.kid=yield Ot({jwk:e}),e})}static getPublicKey({key:r}){var e;return Nn(this,void 0,void 0,function*(){if(!qn(r)||"X25519"!==r.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let f=function(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var f=0;for(n=Object.getOwnPropertySymbols(t);f<n.length;f++)r.indexOf(n[f])<0&&Object.prototype.propertyIsEnumerable.call(t,n[f])&&(e[n[f]]=t[n[f]])}return e}(r,["d"]);return null!==(e=f.kid)&&void 0!==e||(f.kid=yield Ot({jwk:f})),f})}static privateKeyToBytes({privateKey:r}){return Nn(this,void 0,void 0,function*(){if(!qn(r))throw new Error("X25519: The provided key is not a valid OKP private key.");return ht.base64Url(r.d).toUint8Array()})}static publicKeyToBytes({publicKey:r}){return Nn(this,void 0,void 0,function*(){if(!oa(r))throw new Error("X25519: The provided key is not a valid OKP public key.");return ht.base64Url(r.x).toUint8Array()})}static sharedSecret({privateKeyA:r,publicKeyB:e}){return Nn(this,void 0,void 0,function*(){if("x"in r&&"x"in e&&r.x===e.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const n=yield ti.privateKeyToBytes({privateKey:r}),f=yield ti.publicKeyToBytes({publicKey:e});return Lt.TU.getSharedSecret(n,f)})}}function zr(t){if("string"==typeof t&&0!==t.length)return t.split("#").pop()}function fa({didDocument:t}){var r,e;if(!t)throw new TypeError("Required parameter missing: 'didDocument'");const n=[];return n.push(...null!==(e=null===(r=t.verificationMethod)||void 0===r?void 0:r.filter(lo))&&void 0!==e?e:[]),Object.keys(eo).forEach(f=>{var y,D;n.push(...null!==(D=null===(y=t[f])||void 0===y?void 0:y.filter(lo))&&void 0!==D?D:[])}),n}function ep({didDocument:t,methodId:r}){const e=[];return Object.keys(eo).forEach(n=>{if(Array.isArray(t[n])){const f=t[n],y=zr(r);f.some(k=>{const re=zr(k)===y,L=lo(k)&&zr(k.id)===y;return re||L})&&e.push(n)}}),e}function lo(t){return!(!t||"object"!=typeof t||null===t||!("id"in t&&"type"in t&&"controller"in t)||"string"!=typeof t.id||"string"!=typeof t.type||"string"!=typeof t.controller)}function Bu({keyBytes:t,multicodecCode:r,multicodecName:e}){const n=Ht.addPrefix({code:r,data:t,name:e}),f=ht.uint8Array(n).toBase58Btc();return ht.base58Btc(f).toMultibase()}function Tu({multibaseKeyId:t}){try{const r=ht.multibase(t).toBase58Btc(),e=ht.base58Btc(r).toUint8Array(),{code:n,data:f,name:y}=Ht.removePrefix({prefixedData:e});return{keyBytes:f,multicodecCode:n,multicodecName:y}}catch{throw new gt(vt.InvalidDid,`Invalid multibase identifier: ${t}`)}}var vs=function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})};class sn{constructor({uri:r,document:e,metadata:n,keyManager:f}){this.uri=r,this.document=e,this.metadata=n,this.keyManager=f}export(){return vs(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let r={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const e=[];for(let n of this.document.verificationMethod){if(!n.publicKeyJwk)throw new Error(`Verification method '${n.id}' does not contain a public key in JWK format`);const f=yield this.keyManager.getKeyUri({key:n.publicKeyJwk}),y=yield this.keyManager.exportKey({keyUri:f});e.push(Object.assign({},y))}r.privateKeys=e}return r})}getSigner(r){return vs(this,void 0,void 0,function*(){var e;const n=null===(e=this.document.verificationMethod)||void 0===e?void 0:e.find(re=>{var L,B;return zr(re.id)===(null!==(L=zr(r?.methodId))&&void 0!==L?L:zr(null===(B=this.document.assertionMethod)||void 0===B?void 0:B[0]))});if(!n||!n.publicKeyJwk)throw new gt(vt.InternalError,"A verification method intended for signing could not be determined from the DID Document");const f=yield this.keyManager.getKeyUri({key:n.publicKeyJwk}),y=yield this.keyManager.getPublicKey({keyUri:f}),D=this.keyManager;return{algorithm:Jf(y),keyId:n.id,sign(re){return vs(this,arguments,void 0,function*({data:L}){return yield D.sign({data:L,keyUri:f})})},verify(re){return vs(this,arguments,void 0,function*({data:L,signature:B}){return yield D.verify({data:L,key:y,signature:B})})}}})}static import(r){return vs(this,arguments,void 0,function*({portableDid:e,keyManager:n=new wn}){var f;const y=fa({didDocument:e.document});if(0===y.length)throw new gt(vt.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let k of null!==(f=e.privateKeys)&&void 0!==f?f:[])yield n.importKey({key:k});for(let k of y){if(!k.publicKeyJwk)throw new Error(`Verification method '${k.id}' does not contain a public key in JWK format`);const re=yield n.getKeyUri({key:k.publicKeyJwk});yield n.getPublicKey({keyUri:re})}return new sn({uri:e.uri,document:e.document,metadata:e.metadata,keyManager:n})})}}var Iu=s(2198),pa=s(49402),ju=function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})};class bs{static getSigningMethod(r){return ju(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(r,e){return ju(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var Qt=function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})},ku=function(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var f=0;for(n=Object.getOwnPropertySymbols(t);f<n.length;f++)r.indexOf(n[f])<0&&Object.prototype.propertyIsEnumerable.call(t,n[f])&&(e[n[f]]=t[n[f]])}return e};const $u="https://diddht.tbddev.org",Mn=7200,wr=",";var Ru=function(t){return t[t.Discoverable=0]="Discoverable",t[t.Organization=1]="Organization",t[t.Government=2]="Government",t[t.Corporation=3]="Corporation",t[t.LocalBusiness=4]="LocalBusiness",t[t.SoftwarePackage=5]="SoftwarePackage",t[t.WebApp=6]="WebApp",t[t.FinancialInstitution=7]="FinancialInstitution",t}(Ru||{}),Dr=function(t){return t[t.Ed25519=0]="Ed25519",t[t.secp256k1=1]="secp256k1",t[t.secp256r1=2]="secp256r1",t[t.X25519=3]="X25519",t}(Dr||{}),Nu=function(t){return t.authentication="auth",t.assertionMethod="asm",t.capabilityDelegation="del",t.capabilityInvocation="inv",t.keyAgreement="agm",t}(Nu||{});const Mu={Ed25519:Dr.Ed25519,ES256K:Dr.secp256k1,ES256:Dr.secp256r1,"P-256":Dr.secp256r1,secp256k1:Dr.secp256k1,secp256r1:Dr.secp256r1,X25519:Dr.X25519},Uu={[Dr.Ed25519]:"EdDSA",[Dr.secp256k1]:"ES256K",[Dr.secp256r1]:"ES256",[Dr.X25519]:"ECDH-ES+A256KW"};let ha=(()=>{class t extends bs{static create(){return Qt(this,arguments,void 0,function*({keyManager:e=new wn,options:n={}}={}){var f,y,D,k,re,L,B,se,Te,ke,Re;if(null!==(f=n.verificationMethods)&&void 0!==f&&f.some(et=>!(et.algorithm in Mu)))throw new Error("One or more verification method algorithms are not supported");const Ze=null===(y=n.verificationMethods)||void 0===y?void 0:y.filter(et=>"id"in et).map(et=>et.id);if(Ze&&Ze.length!==new Set(Ze).size)throw new Error("One or more verification method IDs are not unique");if(null!==(D=n.services)&&void 0!==D&&D.some(et=>!et.id||!et.type||!et.serviceEndpoint))throw new Error("One or more services are missing required properties");const ot=yield e.generateKey({algorithm:"Ed25519"}),it=yield e.getPublicKey({keyUri:ot}),rt=yield Gt.identityKeyToIdentifier({identityKey:it}),Ye=Object.assign(Object.assign({id:rt},n.alsoKnownAs&&{alsoKnownAs:n.alsoKnownAs}),n.controllers&&{controller:n.controllers}),ze=[...null!==(k=n.verificationMethods)&&void 0!==k?k:[]];ze?.some(et=>{var Qe;return"0"===(null===(Qe=et.id)||void 0===Qe?void 0:Qe.split("#").pop())})||ze.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const et of ze){const Qe=et.id&&"0"===et.id.split("#").pop()?ot:yield e.generateKey({algorithm:et.algorithm}),dt=yield e.getPublicKey({keyUri:Qe});let yt=null!==(L=null!==(re=et.id)&&void 0!==re?re:dt.kid)&&void 0!==L?L:yield Ot({jwk:dt});yt=`${rt}#${zr(yt)}`,null!==(B=Ye.verificationMethod)&&void 0!==B||(Ye.verificationMethod=[]),Ye.verificationMethod.push({id:yt,type:"JsonWebKey",controller:null!==(se=et.controller)&&void 0!==se?se:rt,publicKeyJwk:dt});for(const bt of null!==(Te=et.purposes)&&void 0!==Te?Te:[])Ye[bt]||(Ye[bt]=[]),Ye[bt].push(yt)}null===(ke=n.services)||void 0===ke||ke.forEach(et=>{var Qe;null!==(Qe=Ye.service)&&void 0!==Qe||(Ye.service=[]),et.id=`${rt}#${et.id.split("#").pop()}`,Ye.service.push(et)});const st=new sn({uri:rt,document:Ye,metadata:Object.assign({published:!1},n.types&&{types:n.types}),keyManager:e});if(null===(Re=n.publish)||void 0===Re||Re){const et=yield t.publish({did:st,gatewayUri:n.gatewayUri});st.metadata=et.didDocumentMetadata}return st})}static import(e){return Qt(this,arguments,void 0,function*({portableDid:n,keyManager:f=new wn}){var y;const D=Pt.parse(n.uri);if(D?.method!==t.methodName)throw new gt(vt.MethodNotSupported,"Method not supported");const k=yield sn.import({portableDid:n,keyManager:f});if(null===(y=k.document.verificationMethod)||void 0===y||!y.some(re=>{var L;return"0"===(null===(L=re.id)||void 0===L?void 0:L.split("#").pop())}))throw new gt(vt.InvalidDidDocument,"DID document must contain an Identity Key");return k})}static getSigningMethod(e){return Qt(this,arguments,void 0,function*({didDocument:n,methodId:f="#0"}){var y;const D=Pt.parse(n.id);if(D&&D.method!==this.methodName)throw new gt(vt.MethodNotSupported,`Method not supported: ${D.method}`);const k=null===(y=n.verificationMethod)||void 0===y?void 0:y.find(re=>{var L,B;return zr(re.id)===(null!==(L=zr(f))&&void 0!==L?L:zr(null===(B=n.assertionMethod)||void 0===B?void 0:B[0]))});if(!k||!k.publicKeyJwk)throw new gt(vt.InternalError,"A verification method intended for signing could not be determined from the DID Document");return k})}static publish(e){return Qt(this,arguments,void 0,function*({did:n,gatewayUri:f=$u}){return yield En.put({did:n,gatewayUri:f})})}static resolve(e){return Qt(this,arguments,void 0,function*(n,f={}){var y;const D=null!==(y=f?.gatewayUri)&&void 0!==y?y:$u;try{yield Gt.identifierToIdentityKey({didUri:n});const{didDocument:k,didDocumentMetadata:re}=yield En.get({didUri:n,gatewayUri:D});return Object.assign(Object.assign({},sr),{didDocument:k,didDocumentMetadata:re})}catch(k){if(!(k instanceof gt))throw new Error(k);return Object.assign(Object.assign({},sr),{didResolutionMetadata:Object.assign({error:k.code},k.message&&{errorMessage:k.message})})}})}}return t.methodName="dht",t})();class En{static get(r){return Qt(this,arguments,void 0,function*({didUri:e,gatewayUri:n}){const f=Gt.identifierToIdentityKeyBytes({didUri:e}),y=yield En.pkarrGet({gatewayUri:n,publicKeyBytes:f}),D=yield Gt.parseBep44GetMessage({bep44Message:y}),k=yield En.fromDnsPacket({didUri:e,dnsPacket:D});return k.didDocumentMetadata.versionId=y.seq.toString(),k})}static put(r){return Qt(this,arguments,void 0,function*({did:e,gatewayUri:n}){const f=yield En.toDnsPacket({didDocument:e.document,didMetadata:e.metadata,authoritativeGatewayUris:[n]}),y=yield Gt.createBep44PutMessage({dnsPacket:f,publicKeyBytes:Gt.identifierToIdentityKeyBytes({didUri:e.uri}),signer:yield e.getSigner({methodId:"0"})}),D=yield En.pkarrPut({gatewayUri:n,bep44Message:y});return{didDocument:e.document,didDocumentMetadata:Object.assign(Object.assign({},e.metadata),{published:D,versionId:y.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(r){return Qt(this,arguments,void 0,function*({gatewayUri:e,publicKeyBytes:n}){const f=ht.uint8Array(n).toBase32Z(),y=new URL(f,e).href;let D;try{if(D=yield fetch(y,{method:"GET"}),!D.ok)throw new gt(vt.NotFound,`Pkarr record not found for: ${f}`)}catch(L){throw L instanceof gt?L:new gt(vt.InternalError,`Failed to fetch Pkarr record: ${L.message}`)}const k=yield D.arrayBuffer();if(!k)throw new gt(vt.NotFound,`Pkarr record not found for: ${f}`);if(k.byteLength<72)throw new gt(vt.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${k.byteLength}`);if(k.byteLength>1072)throw new gt(vt.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${k.byteLength}`);return{k:n,seq:Number(new DataView(k).getBigUint64(64)),sig:new Uint8Array(k,0,64),v:new Uint8Array(k,72)}})}static pkarrPut(r){return Qt(this,arguments,void 0,function*({gatewayUri:e,bep44Message:n}){const f=ht.uint8Array(n.k).toBase32Z(),y=new URL(f,e).href,D=new Uint8Array(n.v.length+72);let k;D.set(n.sig,0),new DataView(D.buffer).setBigUint64(n.sig.length,BigInt(n.seq)),D.set(n.v,n.sig.length+8);try{k=yield fetch(y,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:D})}catch(re){throw new gt(vt.InternalError,`Failed to put Pkarr record for identifier ${f}: ${re.message}`)}return k.ok})}static fromDnsPacket(r){return Qt(this,arguments,void 0,function*({didUri:e,dnsPacket:n}){var f,y,D;const k={id:e},re={published:!0},L=new Map;for(const B of null!==(f=n?.answers)&&void 0!==f?f:[]){if("TXT"!==B.type)continue;const se=B.name.split(".")[0].substring(1);switch(!0){case se.startsWith("aka"):{const Te=Gt.parseTxtDataToString(B.data);k.alsoKnownAs=Te.split(wr);break}case se.startsWith("cnt"):{const Te=Gt.parseTxtDataToString(B.data);k.controller=Te.includes(wr)?Te.split(wr):Te;break}case se.startsWith("k"):{const{id:Te,t:ke,k:Re,c:Ze,a:ot}=Gt.parseTxtDataToObject(B.data),it=ht.base64Url(Re).toUint8Array(),rt=Dr[Number(ke)];let Ye=yield Gt.keyConverter(rt).bytesToPublicKey({publicKeyBytes:it});Ye.alg=ot||Uu[Number(ke)];const ze="k0"===se?"0":void 0!==Te?Te:yield Ot({jwk:Ye});null!==(y=k.verificationMethod)&&void 0!==y||(k.verificationMethod=[]);const st=`${e}#${ze}`;k.verificationMethod.push({id:st,type:"JsonWebKey",controller:Ze??e,publicKeyJwk:Ye}),L.set(se,st);break}case se.startsWith("s"):{const Te=Gt.parseTxtDataToObject(B.data),{id:ke,t:Re,se:Ze}=Te,ot=ku(Te,["id","t","se"]),it=Ze.includes(wr)?Ze.split(wr):[Ze],rt=Object.fromEntries(Object.entries(ot).map(([Ye,ze])=>[Ye,ze.includes(wr)?ze.split(wr):ze]));null!==(D=k.service)&&void 0!==D||(k.service=[]),k.service.push(Object.assign(Object.assign({},rt),{id:`${e}#${ke}`,type:Re,serviceEndpoint:it}));break}case se.startsWith("typ"):{const{id:Te}=Gt.parseTxtDataToObject(B.data);re.types=Te.split(wr).map(ke=>Number(ke));break}case se.startsWith("did"):{const Te=rt=>rt.split(wr).map(Ye=>L.get(Ye)).filter(Ye=>"string"==typeof Ye),{auth:ke,asm:Re,del:Ze,inv:ot,agm:it}=Gt.parseTxtDataToObject(B.data);ke&&(k.authentication=Te(ke)),Re&&(k.assertionMethod=Te(Re)),Ze&&(k.capabilityDelegation=Te(Ze)),ot&&(k.capabilityInvocation=Te(ot)),it&&(k.keyAgreement=Te(it));break}}}return{didDocument:k,didDocumentMetadata:re,didResolutionMetadata:{}}})}static toDnsPacket(r){return Qt(this,arguments,void 0,function*({didDocument:e,didMetadata:n,authoritativeGatewayUris:f,previousDidProof:y}){var D,k,re,L,B;const se=[],Te=[],ke=new Map,Re=[],Ze=[];if(void 0!==y){const{signature:rt,previousDid:Ye}=y;yield Gt.validatePreviousDidProof({newDid:e.id,previousDidProof:y}),se.push({type:"TXT",name:"_prv._did.",ttl:Mn,data:`id=${Ye};s=${rt}`})}if(e.alsoKnownAs&&se.push({type:"TXT",name:"_aka._did.",ttl:Mn,data:e.alsoKnownAs.join(wr)}),e.controller){const rt=Array.isArray(e.controller)?e.controller.join(wr):e.controller;se.push({type:"TXT",name:"_cnt._did.",ttl:Mn,data:rt})}for(const[rt,Ye]of null!==(k=null===(D=e.verificationMethod)||void 0===D?void 0:D.entries())&&void 0!==k?k:[]){const ze=`k${rt}`;Ze.push(ze);let st=Ye.id.split("#").pop();ke.set(st,ze);const et=Ye.publicKeyJwk;if(!et?.crv||!(et.crv in Mu))throw new gt(vt.InvalidPublicKeyType,`Verification method '${Ye.id}' contains an unsupported key type: ${null!==(re=et?.crv)&&void 0!==re?re:"undefined"}`);const Qe=Dr[et.crv],dt=yield Gt.keyConverter(et.crv).publicKeyToBytes({publicKey:et}),bt=[`t=${Qe}`,`k=${ht.uint8Array(dt).toBase64Url()}`];"0"!==st&&(yield Ot({jwk:et}))!==st&&bt.unshift(`id=${st}`),et.alg!==Uu[Qe]&&bt.push(`a=${et.alg}`),Ye.controller!==e.id&&bt.push(`c=${Ye.controller}`),se.push({type:"TXT",name:`_${ze}._did.`,ttl:Mn,data:bt.join(";")})}null===(L=e.service)||void 0===L||L.forEach((rt,Ye)=>{const ze=`s${Ye}`;Re.push(ze);let{id:st,type:et,serviceEndpoint:Qe}=rt,dt=ku(rt,["id","type","serviceEndpoint"]);st=zr(st),Qe=Array.isArray(Qe)?Qe.join(","):Qe;const bt=Object.entries(Object.assign({id:st,t:et,se:Qe},dt)).map(([Pn,Co])=>`${Pn}=${Co}`).join(";"),At=Gt.chunkDataIfNeeded(bt);se.push({type:"TXT",name:`_${ze}._did.`,ttl:Mn,data:At})});const ot=["v=0"];if(Ze.length&&ot.push(`vm=${Ze.join(wr)}`),Object.keys(eo).forEach(rt=>{var Ye;const ze=null===(Ye=e[rt])||void 0===Ye?void 0:Ye.map(st=>ke.get(st.split("#").pop()));ze&&ot.push(`${Nu[rt]}=${ze.join(wr)}`)}),Re.length&&ot.push(`svc=${Re.join(wr)}`),null!==(B=n.types)&&void 0!==B&&B.length){const Ye=n.types.map(ze=>"string"==typeof ze?Ru[ze]:ze);se.push({type:"TXT",name:"_typ._did.",ttl:Mn,data:`id=${Ye.join(wr)}`})}se.push({type:"TXT",name:"_did."+En.getUniqueDidSuffix(e.id)+".",ttl:Mn,data:ot.join(";")});for(const rt of f||[])Te.push({type:"NS",name:"_did."+En.getUniqueDidSuffix(e.id)+".",ttl:Mn,data:rt+"."});return{id:0,type:"response",flags:pa.hB,answers:[...se,...Te]}})}static getUniqueDidSuffix(r){return r.split(":")[2]}}class Gt{static createBep44PutMessage(r){return Qt(this,arguments,void 0,function*({dnsPacket:e,publicKeyBytes:n,signer:f}){const y=Math.ceil(Date.now()/1e3),D=(0,pa.lF)(e),k=Iu.A.encode({seq:y,v:D}).subarray(1,-1);if(k.length>1e3)throw new gt(vt.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${k.length} bytes`);return{k:n,seq:y,sig:yield f.sign({data:k}),v:D}})}static identifierToIdentityKey(r){return Qt(this,arguments,void 0,function*({didUri:e}){let n=Gt.identifierToIdentityKeyBytes({didUri:e});return yield Vt.bytesToPublicKey({publicKeyBytes:n})})}static identifierToIdentityKeyBytes({didUri:r}){const e=Pt.parse(r);if(!e)throw new gt(vt.InvalidDid,`Invalid DID URI: ${r}`);if(e.method!==ha.methodName)throw new gt(vt.MethodNotSupported,`Method not supported: ${e.method}`);let n;try{n=ht.base32Z(e.id).toUint8Array()}catch{throw new gt(vt.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==n.length)throw new gt(vt.InvalidPublicKeyLength,`Invalid public key length: ${n.length}`);return n}static identityKeyToIdentifier(r){return Qt(this,arguments,void 0,function*({identityKey:e}){const n=yield Vt.publicKeyToBytes({publicKey:e}),f=ht.uint8Array(n).toBase32Z();return`did:${ha.methodName}:${f}`})}static keyConverter(r){const n={Ed25519:Vt,"P-256":{publicKeyToBytes:f=>Qt(this,[f],void 0,function*({publicKey:y}){const D=yield Kt.publicKeyToBytes({publicKey:y});return yield Kt.compressPublicKey({publicKeyBytes:D})}),bytesToPublicKey:Kt.bytesToPublicKey,privateKeyToBytes:Kt.privateKeyToBytes,bytesToPrivateKey:Kt.bytesToPrivateKey},secp256k1:{publicKeyToBytes:f=>Qt(this,[f],void 0,function*({publicKey:y}){const D=yield Ut.publicKeyToBytes({publicKey:y});return yield Ut.compressPublicKey({publicKeyBytes:D})}),bytesToPublicKey:Ut.bytesToPublicKey,privateKeyToBytes:Ut.privateKeyToBytes,bytesToPrivateKey:Ut.bytesToPrivateKey},X25519:ti}[r];if(!n)throw new gt(vt.InvalidPublicKeyType,`Unsupported curve: ${r}`);return n}static parseBep44GetMessage(r){return Qt(this,arguments,void 0,function*({bep44Message:e}){const n=yield Vt.bytesToPublicKey({publicKeyBytes:e.k}),f=Iu.A.encode({seq:e.seq,v:e.v}).subarray(1,-1);if(!(yield Vt.verify({key:n,signature:e.sig,data:f})))throw new gt(vt.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,pa.D4)(e.v)})}static parseTxtDataToObject(r){return this.parseTxtDataToString(r).split(";").reduce((e,n)=>{const[f,y]=n.split("=");return e[f]=y,e},{})}static parseTxtDataToString(r){if("string"==typeof r)return r;if(r instanceof Uint8Array)return ht.uint8Array(r).toString();if(Array.isArray(r))return r.map(e=>this.parseTxtDataToString(e)).join("");throw new gt(vt.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(r){return Qt(this,arguments,void 0,function*({newDid:e,previousDidProof:n}){const f=yield Gt.identifierToIdentityKey({didUri:n.previousDid}),y=Gt.identifierToIdentityKeyBytes({didUri:e}),D=ht.base64Url(n.signature).toUint8Array();if(!(yield Vt.verify({key:f,data:y,signature:D})))throw new gt(vt.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(r){if(r.length<=255)return r;const e=[];for(let n=0;n<r.length;n+=255)e.push(r.slice(n,n+255));return e}}var Lu=s(52039),Un=function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})},Sn=function(t){return t.Ed25519="Ed25519",t.secp256k1="secp256k1",t.secp256r1="secp256r1",t.X25519="X25519",t}(Sn||{});const np={Ed25519:Sn.Ed25519,ES256K:Sn.secp256k1,ES256:Sn.secp256r1,"P-256":Sn.secp256r1,secp256k1:Sn.secp256k1,secp256r1:Sn.secp256r1},Ku="https://ion.tbd.engineering";let ip=(()=>{class t extends bs{static create(){return Un(this,arguments,void 0,function*({keyManager:e=new wn,options:n={}}={}){var f,y,D,k,re,L,B;if(null!==(f=n.verificationMethods)&&void 0!==f&&f.some(et=>!(et.algorithm in np)))throw new Error("One or more verification method algorithms are not supported");const se=null===(y=n.verificationMethods)||void 0===y?void 0:y.filter(et=>"id"in et).map(et=>et.id);if(se&&se.length!==new Set(se).size)throw new Error("One or more verification method IDs are not unique");if(null!==(D=n.services)&&void 0!==D&&D.some(et=>!et.id||!et.type||!et.serviceEndpoint))throw new Error("One or more services are missing required properties");const Te={algorithm:"Ed25519",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]},ke=[];for(const et of null!==(k=n.verificationMethods)&&void 0!==k?k:[Te]){const Qe=yield e.generateKey({algorithm:et.algorithm}),dt=yield e.getPublicKey({keyUri:Qe});ke.push({id:et.id,publicKeyJwk:dt,purposes:null!==(re=et.purposes)&&void 0!==re?re:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]})}const Re=yield e.generateKey({algorithm:Sn.secp256k1}),Ze=yield e.getPublicKey({keyUri:Re}),ot=yield e.generateKey({algorithm:Sn.secp256k1}),it=yield e.getPublicKey({keyUri:ot}),rt=yield Mr.computeLongFormDidUri({recoveryKey:Ze,updateKey:it,services:null!==(L=n.services)&&void 0!==L?L:[],verificationMethods:ke}),{didDocument:Ye,didResolutionMetadata:ze}=yield t.resolve(rt,{gatewayUri:n.gatewayUri});if(null===Ye)throw new Error(`Unable to resolve DID during creation: ${ze?.error}`);const st=new sn({uri:rt,document:Ye,metadata:{published:!1,canonicalId:rt.split(":",3).join(":"),recoveryKey:Ze,updateKey:it},keyManager:e});if(null===(B=n.publish)||void 0===B||B){const et=yield t.publish({did:st,gatewayUri:n.gatewayUri});st.metadata=et.didDocumentMetadata}return st})}static getSigningMethod(e){return Un(this,arguments,void 0,function*({didDocument:n,methodId:f}){var y;const D=Pt.parse(n.id);if(D&&D.method!==this.methodName)throw new gt(vt.MethodNotSupported,`Method not supported: ${D.method}`);const k=null===(y=n.verificationMethod)||void 0===y?void 0:y.find(re=>{var L;return re.id===(f??(null===(L=n.assertionMethod)||void 0===L?void 0:L[0]))});if(!k||!k.publicKeyJwk)throw new gt(vt.InternalError,"A verification method intended for signing could not be determined from the DID Document");return k})}static import(e){return Un(this,arguments,void 0,function*({portableDid:n,keyManager:f=new wn}){const y=Pt.parse(n.uri);if(y?.method!==t.methodName)throw new gt(vt.MethodNotSupported,"Method not supported");return yield sn.import({portableDid:n,keyManager:f})})}static publish(e){return Un(this,arguments,void 0,function*({did:n,gatewayUri:f=Ku}){var y,D,k;const re=null!==(D=null===(y=n.document.verificationMethod)||void 0===y?void 0:y.map(se=>({id:se.id,publicKeyJwk:se.publicKeyJwk,purposes:ep({didDocument:n.document,methodId:se.id})})))&&void 0!==D?D:[],L=yield Mr.createIonDocument({services:null!==(k=n.document.service)&&void 0!==k?k:[],verificationMethods:re}),B=yield Mr.constructCreateRequest({ionDocument:L,recoveryKey:n.metadata.recoveryKey,updateKey:n.metadata.updateKey});try{const se=Mr.appendPathToUrl({baseUrl:f,path:"/operations"}),Te=yield fetch(se,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:Te.ok}),didRegistrationMetadata:{}}}catch{return{didDocument:null,didDocumentMetadata:{published:!1},didRegistrationMetadata:{error:vt.InternalError,errorMessage:`Failed to publish DID document for: ${n.uri}`}}}})}static resolve(e){return Un(this,arguments,void 0,function*(n,f={}){var y,D;const k=Pt.parse(n);if(!k)return Object.assign(Object.assign({},sr),{didResolutionMetadata:{error:"invalidDid"}});if(k.method!==t.methodName)return Object.assign(Object.assign({},sr),{didResolutionMetadata:{error:"methodNotSupported"}});const re=null!==(y=f?.gatewayUri)&&void 0!==y?y:Ku;try{const L=Mr.appendPathToUrl({baseUrl:re,path:`/identifiers/${n}`}),B=yield fetch(L);if(!B.ok)throw new gt(vt.NotFound,`Unable to find DID document for: ${n}`);const{didDocument:se,didDocumentMetadata:Te}=yield B.json();return Object.assign(Object.assign(Object.assign({},sr),se&&{didDocument:se}),{didDocumentMetadata:Object.assign({published:null===(D=Te?.method)||void 0===D?void 0:D.published},Te)})}catch(L){if(!(L instanceof gt))throw new Error(L);return Object.assign(Object.assign({},sr),{didResolutionMetadata:Object.assign({error:L.code},L.message&&{errorMessage:L.message})})}})}}return t.methodName="ion",t})();class Mr{static appendPathToUrl({baseUrl:r,path:e}){const n=new URL(r);return n.pathname=n.pathname.endsWith("/")?n.pathname:n.pathname+"/",n.pathname+=e.startsWith("/")?e.substring(1):e,n.toString()}static computeLongFormDidUri(r){return Un(this,arguments,void 0,function*({recoveryKey:e,updateKey:n,services:f,verificationMethods:y}){const D=yield Mr.createIonDocument({services:f,verificationMethods:y}),k=Mr.normalizeJwk(e),re=Mr.normalizeJwk(n);return yield Lu.oU.createLongFormDid({document:D,recoveryKey:k,updateKey:re})})}static constructCreateRequest(r){return Un(this,arguments,void 0,function*({ionDocument:e,recoveryKey:n,updateKey:f}){return yield Lu.Q2.createCreateRequest({document:e,recoveryKey:Mr.normalizeJwk(n),updateKey:Mr.normalizeJwk(f)})})}static createIonDocument(r){return Un(this,arguments,void 0,function*({services:e,verificationMethods:n}){var f,y;const D=[];for(const L of n){let B=null!==(y=null!==(f=L.id)&&void 0!==f?f:L.publicKeyJwk.kid)&&void 0!==y?y:yield Ot({jwk:L.publicKeyJwk});B=`${B.split("#").pop()}`;const se={id:B,publicKeyJwk:Mr.normalizeJwk(L.publicKeyJwk),purposes:L.purposes,type:"JsonWebKey2020"};D.push(se)}return{publicKeys:D,services:e.map(L=>Object.assign(Object.assign({},L),{id:`${L.id.split("#").pop()}`}))}})}static normalizeJwk(r){const e=r.kty;let n;if("EC"===e)n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===e)n={k:r.k,kty:r.kty};else if("OKP"===e)n={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==e)throw new Error(`Unsupported key type: ${e}`);n={e:r.e,kty:r.kty,n:r.n}}return n}}var po=function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})};let sp=(()=>{class t extends bs{static create(){return po(this,arguments,void 0,function*({keyManager:e=new wn,options:n={}}={}){var f,y,D,k;if(n.algorithm&&n.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(n.verificationMethods&&1!==n.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const re=null!==(k=null!==(f=n.algorithm)&&void 0!==f?f:null===(D=null===(y=n.verificationMethods)||void 0===y?void 0:y[0])||void 0===D?void 0:D.algorithm)&&void 0!==k?k:"Ed25519",L=yield e.generateKey({algorithm:re}),B=yield e.getPublicKey({keyUri:L}),se=ht.object(B).toBase64Url(),Te=`did:${t.methodName}:${se}`,Re=(yield t.resolve(Te)).didDocument;return new sn({uri:Te,document:Re,metadata:{},keyManager:e})})}static getSigningMethod(e){return po(this,arguments,void 0,function*({didDocument:n}){var f;const y=Pt.parse(n.id);if(y&&y.method!==this.methodName)throw new gt(vt.MethodNotSupported,`Method not supported: ${y.method}`);const[D]=null!==(f=n.verificationMethod)&&void 0!==f?f:[];if(!D||!D.publicKeyJwk)throw new gt(vt.InternalError,"A verification method intended for signing could not be determined from the DID Document");return D})}static import(e){return po(this,arguments,void 0,function*({portableDid:n,keyManager:f=new wn}){const y=Pt.parse(n.uri);if(y?.method!==t.methodName)throw new gt(vt.MethodNotSupported,"Method not supported");const D=yield sn.import({portableDid:n,keyManager:f});if(1!==D.document.verificationMethod.length)throw new gt(vt.InvalidDidDocument,"DID document must contain exactly one verification method");return D})}static resolve(e,n){return po(this,void 0,void 0,function*(){const f=Pt.parse(e);let y;try{y=ht.base64Url(f.id).toObject()}catch{}if(!f||!y)return Object.assign(Object.assign({},sr),{didResolutionMetadata:{error:"invalidDid"}});if(f.method!==t.methodName)return Object.assign(Object.assign({},sr),{didResolutionMetadata:{error:"methodNotSupported"}});const D={"@context":["https://www.w3.org/ns/did/v1"],id:f.uri},k=`${D.id}#0`;switch(D.verificationMethod=[{id:k,type:"JsonWebKey",controller:D.id,publicKeyJwk:y}],D.authentication=[k],D.assertionMethod=[k],D.capabilityInvocation=[k],D.capabilityDelegation=[k],D.keyAgreement=[k],y.use){case"sig":delete D.keyAgreement;break;case"enc":delete D.authentication,delete D.assertionMethod,delete D.capabilityInvocation,delete D.capabilityDelegation}return Object.assign(Object.assign({},sr),{didDocument:D})})}}return t.methodName="jwk",t})();var Hr=function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})},Ln=function(t){return t.Ed25519="Ed25519",t.secp256k1="secp256k1",t.secp256r1="secp256r1",t.X25519="X25519",t}(Ln||{});const ya={Ed25519VerificationKey2020:"https://w3id.org/security/suites/ed25519-2020/v1",JsonWebKey2020:"https://w3id.org/security/suites/jws-2020/v1",X25519KeyAgreementKey2020:"https://w3id.org/security/suites/x25519-2020/v1"},op={Ed25519:Ln.Ed25519,ES256K:Ln.secp256k1,ES256:Ln.secp256r1,"P-256":Ln.secp256r1,secp256k1:Ln.secp256k1,secp256r1:Ln.secp256r1,X25519:Ln.X25519};let ap=(()=>{class t extends bs{static create(){return Hr(this,arguments,void 0,function*({keyManager:e=new wn,options:n={}}={}){var f,y,D,k;if(n.algorithm&&n.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(n.verificationMethods&&1!==n.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const re=null!==(k=null!==(f=n.algorithm)&&void 0!==f?f:null===(D=null===(y=n.verificationMethods)||void 0===y?void 0:y[0])||void 0===D?void 0:D.algorithm)&&void 0!==k?k:"Ed25519",L=yield e.generateKey({algorithm:re}),B=yield e.getPublicKey({keyUri:L}),se=yield _n.publicKeyToMultibaseId({publicKey:B}),Te=`did:${t.methodName}:${se}`,Re=(yield t.resolve(Te,n)).didDocument;return new sn({uri:Te,document:Re,metadata:{},keyManager:e})})}static getSigningMethod(e){return Hr(this,arguments,void 0,function*({didDocument:n}){var f;const y=Pt.parse(n.id);if(y&&y.method!==this.methodName)throw new gt(vt.MethodNotSupported,`Method not supported: ${y.method}`);const[D]=n.assertionMethod||[],k=null===(f=n.verificationMethod)||void 0===f?void 0:f.find(re=>re.id===D);if(!k||!k.publicKeyJwk)throw new gt(vt.InternalError,"A verification method intended for signing could not be determined from the DID Document");return k})}static import(e){return Hr(this,arguments,void 0,function*({portableDid:n,keyManager:f=new wn}){const y=Pt.parse(n.uri);if(y?.method!==t.methodName)throw new gt(vt.MethodNotSupported,"Method not supported");const D=yield sn.import({portableDid:n,keyManager:f});if(1!==D.document.verificationMethod.length)throw new gt(vt.InvalidDidDocument,"DID document must contain exactly one verification method");return D})}static resolve(e,n){return Hr(this,void 0,void 0,function*(){try{const f=yield t.createDocument({didUri:e,options:n});return Object.assign(Object.assign({},sr),{didDocument:f})}catch(f){if(!(f instanceof gt))throw new Error(f);return Object.assign(Object.assign({},sr),{didResolutionMetadata:Object.assign({error:f.code},f.message&&{errorMessage:f.message})})}})}static createDocument(e){return Hr(this,arguments,void 0,function*({didUri:n,options:f={}}){const{defaultContext:y="https://www.w3.org/ns/did/v1",enableEncryptionKeyDerivation:D=!1,enableExperimentalPublicKeyTypes:k=!1,publicKeyFormat:re="JsonWebKey2020"}=f,L={id:""},B=Pt.parse(n);if(!B)throw new gt(vt.InvalidDid,`Invalid DID URI: ${n}`);const se=B.id;if(B.method!==t.methodName)throw new gt(vt.MethodNotSupported,`Method not supported: ${B.method}`);if(!t.validateIdentifier(B))throw new gt(vt.InvalidDid,`Invalid DID URI: ${n}`);const Te=yield t.createSignatureMethod({didUri:n,multibaseValue:se,options:{enableExperimentalPublicKeyTypes:k,publicKeyFormat:re}});if(L.id=B.uri,L.verificationMethod=[Te],L.authentication=[Te.id],L.assertionMethod=[Te.id],L.capabilityInvocation=[Te.id],L.capabilityDelegation=[Te.id],!0===D){const Ze="Ed25519VerificationKey2020"===re?"X25519KeyAgreementKey2020":"JsonWebKey2020",ot=yield this.createEncryptionMethod({didUri:n,multibaseValue:se,options:{enableExperimentalPublicKeyTypes:k,publicKeyFormat:Ze}});L.verificationMethod.push(ot),L.keyAgreement=[ot.id]}const ke=[y];return function qf({didDocument:t}){const e=fa({didDocument:t}).map(n=>n.type);return[...new Set(e)]}({didDocument:L}).forEach(Ze=>{ke.push(ya[Ze])}),L["@context"]=ke,L})}static createEncryptionMethod(e){return Hr(this,arguments,void 0,function*({didUri:n,multibaseValue:f,options:y}){const{enableExperimentalPublicKeyTypes:D,publicKeyFormat:k}=y,re={id:"",type:"",controller:""},{keyBytes:L,multicodecCode:B}=yield t.deriveEncryptionKey({multibaseValue:f}),se=L.byteLength,Te=_n.MULTICODEC_PUBLIC_KEY_LENGTH[B];if(se!==Te)throw new gt(vt.InvalidPublicKeyLength,`Expected ${se} bytes. Actual: ${Te}`);const ke=Bu({keyBytes:L,multicodecCode:B});re.id=`${n}#${ke}`;try{new URL(re.id)}catch{throw new gt(vt.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(k in ya))throw new gt(vt.UnsupportedPublicKeyType,`Unsupported format: ${k}`);if(!1===D&&!["Multikey","JsonWebKey2020","X25519KeyAgreementKey2020"].includes(k))throw new gt(vt.InvalidPublicKeyType,`Specified '${k}' without setting enableExperimentalPublicKeyTypes to true.`);if(re.type=k,re.controller=n,"X25519KeyAgreementKey2020"===k&&(re.publicKeyMultibase=ke),"JsonWebKey2020"===k){const{crv:Ze}=yield _n.multicodecToJwk({code:B});re.publicKeyJwk=yield _n.keyConverter(Ze).bytesToPublicKey({publicKeyBytes:L})}return re})}static createSignatureMethod(e){return Hr(this,arguments,void 0,function*({didUri:n,multibaseValue:f,options:y}){const{enableExperimentalPublicKeyTypes:D,publicKeyFormat:k}=y,re={id:"",type:"",controller:""},{keyBytes:L,multicodecCode:B,multicodecName:se}=Tu({multibaseKeyId:f}),Te=L.byteLength,ke=_n.MULTICODEC_PUBLIC_KEY_LENGTH[B];if(Te!==ke)throw new gt(vt.InvalidPublicKeyLength,`Expected ${Te} bytes. Actual: ${ke}`);let Re=!1;switch(se){case"secp256k1-pub":Re=yield Ut.validatePublicKey({publicKeyBytes:L});break;case"ed25519-pub":Re=yield Vt.validatePublicKey({publicKeyBytes:L});break;case"x25519-pub":Re=!0}if(!Re)throw new gt(vt.InvalidPublicKey,"Invalid public key detected.");re.id=`${n}#${f}`;try{new URL(re.id)}catch{throw new gt(vt.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(k in ya))throw new gt(vt.UnsupportedPublicKeyType,`Unsupported format: ${k}`);if(!1===D&&!["Multikey","JsonWebKey2020","Ed25519VerificationKey2020"].includes(k))throw new gt(vt.InvalidPublicKeyType,`Specified '${k}' without setting enableExperimentalPublicKeyTypes to true.`);if(re.type=k,re.controller=n,"Ed25519VerificationKey2020"===k&&(re.publicKeyMultibase=f),"JsonWebKey2020"===k){const{crv:ot}=yield _n.multicodecToJwk({code:B});re.publicKeyJwk=yield _n.keyConverter(ot).bytesToPublicKey({publicKeyBytes:L})}return re})}static deriveEncryptionKey(e){return Hr(this,arguments,void 0,function*({multibaseValue:n}){let f={keyBytes:new Uint8Array,multicodecCode:0};const{keyBytes:y,multicodecCode:D}=Tu({multibaseKeyId:n});if(237===D){const k=yield _n.keyConverter("Ed25519").bytesToPublicKey({publicKeyBytes:y}),re=yield Vt.convertPublicKeyToX25519({publicKey:k});f={keyBytes:yield _n.keyConverter("Ed25519").publicKeyToBytes({publicKey:re}),multicodecCode:236}}return f})}static validateIdentifier(e){const{method:n,id:f}=e,[y]=e.uri.split(":",1);return"did"===y&&"key"===n&&Number("1")>0&&"String"===Go(f)&&f.startsWith("z")}}return t.methodName="key",t})(),_n=(()=>{class t{static jwkToMulticodec(e){return Hr(this,arguments,void 0,function*({jwk:n}){const f=[];n.crv&&(f.push(n.crv),f.push(n.d?"private":"public"));const y=f.join(":"),D=t.JWK_TO_MULTICODEC[y];if(void 0===D)throw new Error(`Unsupported JWK to Multicodec conversion: '${y}'`);return{code:Ht.getCodeFromName({name:D}),name:D}})}static keyCompressor(e){const f={"P-256":Kt.compressPublicKey,secp256k1:Ut.compressPublicKey}[e];if(!f)throw new gt(vt.InvalidPublicKeyType,`Unsupported curve: ${e}`);return f}static keyConverter(e){const f={Ed25519:Vt,"P-256":Kt,secp256k1:Ut,X25519:ti}[e];if(!f)throw new gt(vt.InvalidPublicKeyType,`Unsupported curve: ${e}`);return f}static multicodecToJwk(e){return Hr(this,arguments,void 0,function*({code:n,name:f}){if(!(f?!n:n))throw new Error("Either 'name' or 'code' must be defined, but not both.");f=void 0===f?Ht.getNameFromCode({code:n}):f;const D=t.MULTICODEC_TO_JWK[f];if(void 0===D)throw new Error("Unsupported Multicodec to JWK conversion");return Object.assign({},D)})}static publicKeyToMultibaseId(e){return Hr(this,arguments,void 0,function*({publicKey:n}){var f;if(!n?.crv||!(n.crv in op))throw new gt(vt.InvalidPublicKeyType,`Public key contains an unsupported key type: ${null!==(f=n?.crv)&&void 0!==f?f:"undefined"}`);let y=yield t.keyConverter(n.crv).publicKeyToBytes({publicKey:n});/^(secp256k1|P-256|P-384|P-521)$/.test(n.crv)&&(y=yield t.keyCompressor(n.crv)({publicKeyBytes:y}));const{name:D}=yield t.jwkToMulticodec({jwk:n});return Bu({keyBytes:y,multicodecName:D})})}}return t.JWK_TO_MULTICODEC={"Ed25519:public":"ed25519-pub","Ed25519:private":"ed25519-priv","secp256k1:public":"secp256k1-pub","secp256k1:private":"secp256k1-priv","X25519:public":"x25519-pub","X25519:private":"x25519-priv"},t.MULTICODEC_PUBLIC_KEY_LENGTH={231:33,236:32,237:32},t.MULTICODEC_TO_JWK={"ed25519-pub":{crv:"Ed25519",kty:"OKP",x:""},"ed25519-priv":{crv:"Ed25519",kty:"OKP",x:"",d:""},"secp256k1-pub":{crv:"secp256k1",kty:"EC",x:"",y:""},"secp256k1-priv":{crv:"secp256k1",kty:"EC",x:"",y:"",d:""},"x25519-pub":{crv:"X25519",kty:"OKP",x:""},"x25519-priv":{crv:"X25519",kty:"OKP",x:"",d:""}},t})();let cp=(()=>{class t extends bs{static resolve(e,n){return function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})}(this,void 0,void 0,function*(){const f=Pt.parse(e);if(!f)return Object.assign(Object.assign({},sr),{didResolutionMetadata:{error:"invalidDid"}});if(f.method!==t.methodName)return Object.assign(Object.assign({},sr),{didResolutionMetadata:{error:"methodNotSupported"}});let y=`https://${f.id.replace(/:/g,"/")}`;y=decodeURIComponent(y);const D=f.id.includes(":")?`${y}/did.json`:`${y}/.well-known/did.json`;try{const k=yield fetch(D);if(!k.ok)throw new Error("HTTP error status code returned");const re=yield k.json();return Object.assign(Object.assign({},sr),{didDocument:re})}catch{return Object.assign(Object.assign({},sr),{didResolutionMetadata:{error:"notFound"}})}})}}return t.methodName="web",t})();s(9236);const dp={get:function(t){return null},set:function(t,r){return null},delete:function(t){return null},clear:function(){return null},close:function(){return null}};var Vu=function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})},Ju=function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})};const pp=new class vd{constructor(r){var e;this._algorithmInstances=new Map,this._keyStore=null!==(e=r?.keyStore)&&void 0!==e?e:new Jl}digest(r){return mn(this,arguments,void 0,function*({algorithm:e,data:n}){return yield this.getAlgorithm({algorithm:e}).digest({algorithm:e,data:n})})}exportKey(r){return mn(this,arguments,void 0,function*({keyUri:e}){return yield this.getPrivateKey({keyUri:e})})}generateKey(r){return mn(this,arguments,void 0,function*({algorithm:e}){const f=yield this.getAlgorithm({algorithm:e}).generateKey({algorithm:e});if(void 0===f?.kid)throw new Error("Generated key is missing a required property: kid");const y=`${ou}${f.kid}`;return yield this._keyStore.set(y,f),y})}getKeyUri(r){return mn(this,arguments,void 0,function*({key:e}){const n=yield Zt({jwk:e});return`${ou}${n}`})}getPublicKey(r){return mn(this,arguments,void 0,function*({keyUri:e}){const n=yield this.getPrivateKey({keyUri:e}),f=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:f}).getPublicKey({key:n})})}importKey(r){return mn(this,arguments,void 0,function*({key:e}){var n;if(!function pd(t){if(!t||"object"!=typeof t)return!1;switch(t.kty){case"EC":case"OKP":case"RSA":return"d"in t;case"oct":return"k"in t;default:return!1}}(e))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const f=structuredClone(e);null!==(n=f.kid)&&void 0!==n||(f.kid=yield Zt({jwk:f}));const y=yield this.getKeyUri({key:f});return yield this._keyStore.set(y,f),y})}sign(r){return mn(this,arguments,void 0,function*({keyUri:e,data:n}){const f=yield this.getPrivateKey({keyUri:e}),y=this.getAlgorithmName({key:f});return this.getAlgorithm({algorithm:y}).sign({data:n,key:f})})}verify(r){return mn(this,arguments,void 0,function*({key:e,signature:n,data:f}){const y=this.getAlgorithmName({key:e});return this.getAlgorithm({algorithm:y}).verify({key:e,signature:n,data:f})})}getAlgorithm({algorithm:r}){var e;const n=null===(e=Ko[r])||void 0===e?void 0:e.implementation;if(!n)throw new Error(`Algorithm not supported: ${r}`);return this._algorithmInstances.has(n)||this._algorithmInstances.set(n,new n),this._algorithmInstances.get(n)}getAlgorithmName({key:r}){const e=r.alg,n=r.crv;for(const f in Ko){const y=Ko[f];if(e&&y.names.includes(e))return f;if(n&&y.names.includes(n))return f}throw new Error(`Unable to determine algorithm based on provided input: alg=${e}, crv=${n}`)}getPrivateKey(r){return mn(this,arguments,void 0,function*({keyUri:e}){const n=yield this._keyStore.get(e);if(!n)throw new Error(`Key not found: ${e}`);return n})}};class ri{static sign(r){return Ju(this,void 0,void 0,function*(){const{signerDid:e,payload:n}=r,f=yield e.getSigner();let y=f.keyId;"#"===y.charAt(0)&&(y=`${e.uri}${y}`);const D=Object.assign({alg:f.algorithm,kid:y},r.header),L=`${P.object(D).toBase64Url()}.${P.object(n).toBase64Url()}`,B=P.string(L).toUint8Array(),se=yield f.sign({data:B});return`${L}.${P.uint8Array(se).toBase64Url()}`})}static verify(r){return Ju(this,void 0,void 0,function*(){const{decoded:e,encoded:n}=ri.parse({jwt:r.jwt});if(e.payload.exp&&Math.floor(Date.now()/1e3)>e.payload.exp)throw new Error("Verification failed: JWT is expired");const f=yield ri.didResolver.dereference(e.header.kid);if(f.dereferencingMetadata.error)throw new Error(`Failed to resolve ${e.header.kid}`);const y=f.contentStream;if(!y||!lo(y))throw new Error("Verification failed: Expected kid in JWT header to dereference a DID Document Verification Method");const D=y.publicKeyJwk;if(!D)throw new Error("Verification failed: Expected kid in JWT header to dereference to a DID Document Verification Method with publicKeyJwk");if(D.alg&&D.alg!==e.header.alg)throw new Error("Verification failed: Expected alg in JWT header to match DID Document Verification Method alg");const re=P.string(`${n.header}.${n.payload}`).toUint8Array(),L=P.base64Url(n.signature).toUint8Array();if(!(yield pp.verify({key:D,signature:L,data:re})))throw new Error("Signature verification failed: Integrity mismatch");return e})}static parse(r){const e=r.jwt.split(".");if(3!==e.length)throw new Error(`Verification failed: Malformed JWT. expected 3 parts. got ${e.length}`);const[n,f,y]=e;let D,k;try{D=P.base64Url(n).toObject()}catch{throw new Error("Verification failed: Malformed JWT. Invalid base64url encoding for JWT header")}if(!D.alg||!D.kid)throw new Error("Verification failed: Expected JWT header to contain alg and kid");try{k=P.base64Url(f).toObject()}catch{throw new Error("Verification failed: Malformed JWT. Invalid base64url encoding for JWT payload")}return{decoded:{header:D,payload:k},encoded:{header:n,payload:f,signature:y}}}}function wi(t){let r=t.length;for(;--r>=0;)t[r]=0}ri.didResolver=new class fp{constructor({cache:r,didResolvers:e}){this.didResolvers=new Map,this.cache=r||dp;for(const n of e)this.didResolvers.set(n.methodName,n)}resolve(r,e){return Vu(this,void 0,void 0,function*(){const n=Pt.parse(r);if(!n)return Object.assign(Object.assign({},sr),{didResolutionMetadata:{error:vt.InvalidDid,errorMessage:`Invalid DID URI: ${r}`}});const f=this.didResolvers.get(n.method);if(!f)return Object.assign(Object.assign({},sr),{didResolutionMetadata:{error:vt.MethodNotSupported,errorMessage:`Method not supported: ${n.method}`}});const y=yield this.cache.get(n.uri);if(y)return y;{const D=yield f.resolve(n.uri,e);return D.didResolutionMetadata.error||(yield this.cache.set(n.uri,D)),D}})}dereference(r,e){return Vu(this,void 0,void 0,function*(){const n=Pt.parse(r);if(!n)return{dereferencingMetadata:{error:vt.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:f,didResolutionMetadata:y,didDocumentMetadata:D}=yield this.resolve(n.uri);if(!f)return{dereferencingMetadata:{error:y.error},contentStream:null,contentMetadata:{}};if(!n.fragment||n.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:f,contentMetadata:D};const{service:k=[],verificationMethod:re=[]}=f,L=new Set([r,n.fragment,`#${n.fragment}`]);let B;for(let se of re)if(L.has(se.id)){B=se;break}for(let se of k)if(L.has(se.id)){B=se;break}return B?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:B,contentMetadata:y}:{dereferencingMetadata:{error:vt.NotFound},contentStream:null,contentMetadata:{}}})}}({didResolvers:[ha,ip,ap,sp,cp]}),new(s(30720).E8);const wa=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ho=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Sp=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),qu=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),An=new Array(576);wi(An);const Ss=new Array(60);wi(Ss);const _s=new Array(512);wi(_s);const As=new Array(256);wi(As);const Ea=new Array(29);wi(Ea);const yo=new Array(30);function Sa(t,r,e,n,f){this.static_tree=t,this.extra_bits=r,this.extra_base=e,this.elems=n,this.max_length=f,this.has_stree=t&&t.length}let ec,tc,rc;function _a(t,r){this.dyn_tree=t,this.max_code=0,this.stat_desc=r}wi(yo);const nc=t=>t<256?_s[t]:_s[256+(t>>>7)],Ds=(t,r)=>{t.pending_buf[t.pending++]=255&r,t.pending_buf[t.pending++]=r>>>8&255},Cr=(t,r,e)=>{t.bi_valid>16-e?(t.bi_buf|=r<<t.bi_valid&65535,Ds(t,t.bi_buf),t.bi_buf=r>>16-t.bi_valid,t.bi_valid+=e-16):(t.bi_buf|=r<<t.bi_valid&65535,t.bi_valid+=e)},on=(t,r,e)=>{Cr(t,e[2*r],e[2*r+1])},ic=(t,r)=>{let e=0;do{e|=1&t,t>>>=1,e<<=1}while(--r>0);return e>>>1},sc=(t,r,e)=>{const n=new Array(16);let y,D,f=0;for(y=1;y<=15;y++)f=f+e[y-1]<<1,n[y]=f;for(D=0;D<=r;D++){let k=t[2*D+1];0!==k&&(t[2*D]=ic(n[k]++,k))}},oc=t=>{let r;for(r=0;r<286;r++)t.dyn_ltree[2*r]=0;for(r=0;r<30;r++)t.dyn_dtree[2*r]=0;for(r=0;r<19;r++)t.bl_tree[2*r]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},ac=t=>{t.bi_valid>8?Ds(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},uc=(t,r,e,n)=>{const f=2*r,y=2*e;return t[f]<t[y]||t[f]===t[y]&&n[r]<=n[e]},Aa=(t,r,e)=>{const n=t.heap[e];let f=e<<1;for(;f<=t.heap_len&&(f<t.heap_len&&uc(r,t.heap[f+1],t.heap[f],t.depth)&&f++,!uc(r,n,t.heap[f],t.depth));)t.heap[e]=t.heap[f],e=f,f<<=1;t.heap[e]=n},cc=(t,r,e)=>{let n,f,D,k,y=0;if(0!==t.sym_next)do{n=255&t.pending_buf[t.sym_buf+y++],n+=(255&t.pending_buf[t.sym_buf+y++])<<8,f=t.pending_buf[t.sym_buf+y++],0===n?on(t,f,r):(D=As[f],on(t,D+256+1,r),k=wa[D],0!==k&&(f-=Ea[D],Cr(t,f,k)),n--,D=nc(n),on(t,D,e),k=ho[D],0!==k&&(n-=yo[D],Cr(t,n,k)))}while(y<t.sym_next);on(t,256,r)},Da=(t,r)=>{const e=r.dyn_tree,n=r.stat_desc.static_tree,f=r.stat_desc.has_stree,y=r.stat_desc.elems;let D,k,L,re=-1;for(t.heap_len=0,t.heap_max=573,D=0;D<y;D++)0!==e[2*D]?(t.heap[++t.heap_len]=re=D,t.depth[D]=0):e[2*D+1]=0;for(;t.heap_len<2;)L=t.heap[++t.heap_len]=re<2?++re:0,e[2*L]=1,t.depth[L]=0,t.opt_len--,f&&(t.static_len-=n[2*L+1]);for(r.max_code=re,D=t.heap_len>>1;D>=1;D--)Aa(t,e,D);L=y;do{D=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Aa(t,e,1),k=t.heap[1],t.heap[--t.heap_max]=D,t.heap[--t.heap_max]=k,e[2*L]=e[2*D]+e[2*k],t.depth[L]=(t.depth[D]>=t.depth[k]?t.depth[D]:t.depth[k])+1,e[2*D+1]=e[2*k+1]=L,t.heap[1]=L++,Aa(t,e,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,r)=>{const e=r.dyn_tree,n=r.max_code,f=r.stat_desc.static_tree,y=r.stat_desc.has_stree,D=r.stat_desc.extra_bits,k=r.stat_desc.extra_base,re=r.stat_desc.max_length;let L,B,se,Te,ke,Re,Ze=0;for(Te=0;Te<=15;Te++)t.bl_count[Te]=0;for(e[2*t.heap[t.heap_max]+1]=0,L=t.heap_max+1;L<573;L++)B=t.heap[L],Te=e[2*e[2*B+1]+1]+1,Te>re&&(Te=re,Ze++),e[2*B+1]=Te,!(B>n)&&(t.bl_count[Te]++,ke=0,B>=k&&(ke=D[B-k]),Re=e[2*B],t.opt_len+=Re*(Te+ke),y&&(t.static_len+=Re*(f[2*B+1]+ke)));if(0!==Ze){do{for(Te=re-1;0===t.bl_count[Te];)Te--;t.bl_count[Te]--,t.bl_count[Te+1]+=2,t.bl_count[re]--,Ze-=2}while(Ze>0);for(Te=re;0!==Te;Te--)for(B=t.bl_count[Te];0!==B;)se=t.heap[--L],!(se>n)&&(e[2*se+1]!==Te&&(t.opt_len+=(Te-e[2*se+1])*e[2*se],e[2*se+1]=Te),B--)}})(t,r),sc(e,re,t.bl_count)},lc=(t,r,e)=>{let n,y,f=-1,D=r[1],k=0,re=7,L=4;for(0===D&&(re=138,L=3),r[2*(e+1)+1]=65535,n=0;n<=e;n++)y=D,D=r[2*(n+1)+1],!(++k<re&&y===D)&&(k<L?t.bl_tree[2*y]+=k:0!==y?(y!==f&&t.bl_tree[2*y]++,t.bl_tree[32]++):k<=10?t.bl_tree[34]++:t.bl_tree[36]++,k=0,f=y,0===D?(re=138,L=3):y===D?(re=6,L=3):(re=7,L=4))},dc=(t,r,e)=>{let n,y,f=-1,D=r[1],k=0,re=7,L=4;for(0===D&&(re=138,L=3),n=0;n<=e;n++)if(y=D,D=r[2*(n+1)+1],!(++k<re&&y===D)){if(k<L)do{on(t,y,t.bl_tree)}while(0!=--k);else 0!==y?(y!==f&&(on(t,y,t.bl_tree),k--),on(t,16,t.bl_tree),Cr(t,k-3,2)):k<=10?(on(t,17,t.bl_tree),Cr(t,k-3,3)):(on(t,18,t.bl_tree),Cr(t,k-11,7));k=0,f=y,0===D?(re=138,L=3):y===D?(re=6,L=3):(re=7,L=4)}};let fc=!1;const pc=(t,r,e,n)=>{Cr(t,0+(n?1:0),3),ac(t),Ds(t,e),Ds(t,~e),e&&t.pending_buf.set(t.window.subarray(r,r+e),t.pending),t.pending+=e};var Mp={_tr_init:t=>{fc||((()=>{let t,r,e,n,f;const y=new Array(16);for(e=0,n=0;n<28;n++)for(Ea[n]=e,t=0;t<1<<wa[n];t++)As[e++]=n;for(As[e-1]=n,f=0,n=0;n<16;n++)for(yo[n]=f,t=0;t<1<<ho[n];t++)_s[f++]=n;for(f>>=7;n<30;n++)for(yo[n]=f<<7,t=0;t<1<<ho[n]-7;t++)_s[256+f++]=n;for(r=0;r<=15;r++)y[r]=0;for(t=0;t<=143;)An[2*t+1]=8,t++,y[8]++;for(;t<=255;)An[2*t+1]=9,t++,y[9]++;for(;t<=279;)An[2*t+1]=7,t++,y[7]++;for(;t<=287;)An[2*t+1]=8,t++,y[8]++;for(sc(An,287,y),t=0;t<30;t++)Ss[2*t+1]=5,Ss[2*t]=ic(t,5);ec=new Sa(An,wa,257,286,15),tc=new Sa(Ss,ho,0,30,15),rc=new Sa(new Array(0),Sp,0,19,7)})(),fc=!0),t.l_desc=new _a(t.dyn_ltree,ec),t.d_desc=new _a(t.dyn_dtree,tc),t.bl_desc=new _a(t.bl_tree,rc),t.bi_buf=0,t.bi_valid=0,oc(t)},_tr_stored_block:pc,_tr_flush_block:(t,r,e,n)=>{let f,y,D=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),Da(t,t.l_desc),Da(t,t.d_desc),D=(t=>{let r;for(lc(t,t.dyn_ltree,t.l_desc.max_code),lc(t,t.dyn_dtree,t.d_desc.max_code),Da(t,t.bl_desc),r=18;r>=3&&0===t.bl_tree[2*qu[r]+1];r--);return t.opt_len+=3*(r+1)+5+5+4,r})(t),f=t.opt_len+3+7>>>3,y=t.static_len+3+7>>>3,y<=f&&(f=y)):f=y=e+5,e+4<=f&&-1!==r?pc(t,r,e,n):4===t.strategy||y===f?(Cr(t,2+(n?1:0),3),cc(t,An,Ss)):(Cr(t,4+(n?1:0),3),((t,r,e,n)=>{let f;for(Cr(t,r-257,5),Cr(t,e-1,5),Cr(t,n-4,4),f=0;f<n;f++)Cr(t,t.bl_tree[2*qu[f]+1],3);dc(t,t.dyn_ltree,r-1),dc(t,t.dyn_dtree,e-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,D+1),cc(t,t.dyn_ltree,t.dyn_dtree)),oc(t),n&&ac(t)},_tr_tally:(t,r,e)=>(t.pending_buf[t.sym_buf+t.sym_next++]=r,t.pending_buf[t.sym_buf+t.sym_next++]=r>>8,t.pending_buf[t.sym_buf+t.sym_next++]=e,0===r?t.dyn_ltree[2*e]++:(t.matches++,r--,t.dyn_ltree[2*(As[e]+256+1)]++,t.dyn_dtree[2*nc(r)]++),t.sym_next===t.sym_end),_tr_align:t=>{Cr(t,2,3),on(t,256,An),(t=>{16===t.bi_valid?(Ds(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},Cs=(t,r,e,n)=>{let f=65535&t,y=t>>>16&65535,D=0;for(;0!==e;){D=e>2e3?2e3:e,e-=D;do{f=f+r[n++]|0,y=y+f|0}while(--D);f%=65521,y%=65521}return f|y<<16};const Lp=new Uint32Array((()=>{let t,r=[];for(var e=0;e<256;e++){t=e;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;r[e]=t}return r})());var qt=(t,r,e,n)=>{const f=Lp,y=n+e;t^=-1;for(let D=n;D<y;D++)t=t>>>8^f[255&(t^r[D])];return~t},ii={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},si={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Kp,_tr_stored_block:Ca,_tr_flush_block:Vp,_tr_tally:Kn,_tr_align:Jp}=Mp,{Z_NO_FLUSH:Vn,Z_PARTIAL_FLUSH:Wp,Z_FULL_FLUSH:zp,Z_FINISH:Ur,Z_BLOCK:hc,Z_OK:cr,Z_STREAM_END:yc,Z_STREAM_ERROR:an,Z_DATA_ERROR:Hp,Z_BUF_ERROR:Pa,Z_DEFAULT_COMPRESSION:Gp,Z_FILTERED:Xp,Z_HUFFMAN_ONLY:mo,Z_RLE:Zp,Z_FIXED:Yp,Z_DEFAULT_STRATEGY:Qp,Z_UNKNOWN:qp,Z_DEFLATED:go}=si,un=262,ui=(t,r)=>(t.msg=ii[r],r),mc=t=>2*t-(t>4?9:0),Wn=t=>{let r=t.length;for(;--r>=0;)t[r]=0},ch=t=>{let r,e,n,f=t.w_size;r=t.hash_size,n=r;do{e=t.head[--n],t.head[n]=e>=f?e-f:0}while(--r);r=f,n=r;do{e=t.prev[--n],t.prev[n]=e>=f?e-f:0}while(--r)};let zn=(t,r,e)=>(r<<t.hash_shift^e)&t.hash_mask;const Br=t=>{const r=t.state;let e=r.pending;e>t.avail_out&&(e=t.avail_out),0!==e&&(t.output.set(r.pending_buf.subarray(r.pending_out,r.pending_out+e),t.next_out),t.next_out+=e,r.pending_out+=e,t.total_out+=e,t.avail_out-=e,r.pending-=e,0===r.pending&&(r.pending_out=0))},Tr=(t,r)=>{Vp(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,r),t.block_start=t.strstart,Br(t.strm)},xt=(t,r)=>{t.pending_buf[t.pending++]=r},xs=(t,r)=>{t.pending_buf[t.pending++]=r>>>8&255,t.pending_buf[t.pending++]=255&r},ja=(t,r,e,n)=>{let f=t.avail_in;return f>n&&(f=n),0===f?0:(t.avail_in-=f,r.set(t.input.subarray(t.next_in,t.next_in+f),e),1===t.state.wrap?t.adler=Cs(t.adler,r,f,e):2===t.state.wrap&&(t.adler=qt(t.adler,r,f,e)),t.next_in+=f,t.total_in+=f,f)},gc=(t,r)=>{let f,y,e=t.max_chain_length,n=t.strstart,D=t.prev_length,k=t.nice_match;const re=t.strstart>t.w_size-un?t.strstart-(t.w_size-un):0,L=t.window,B=t.w_mask,se=t.prev,Te=t.strstart+258;let ke=L[n+D-1],Re=L[n+D];t.prev_length>=t.good_match&&(e>>=2),k>t.lookahead&&(k=t.lookahead);do{if(f=r,L[f+D]===Re&&L[f+D-1]===ke&&L[f]===L[n]&&L[++f]===L[n+1]){n+=2,f++;do{}while(L[++n]===L[++f]&&L[++n]===L[++f]&&L[++n]===L[++f]&&L[++n]===L[++f]&&L[++n]===L[++f]&&L[++n]===L[++f]&&L[++n]===L[++f]&&L[++n]===L[++f]&&n<Te);if(y=258-(Te-n),n=Te-258,y>D){if(t.match_start=r,D=y,y>=k)break;ke=L[n+D-1],Re=L[n+D]}}}while((r=se[r&B])>re&&0!=--e);return D<=t.lookahead?D:t.lookahead},Di=t=>{const r=t.w_size;let e,n,f;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=r+(r-un)&&(t.window.set(t.window.subarray(r,r+r-n),0),t.match_start-=r,t.strstart-=r,t.block_start-=r,t.insert>t.strstart&&(t.insert=t.strstart),ch(t),n+=r),0===t.strm.avail_in)break;if(e=ja(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=e,t.lookahead+t.insert>=3)for(f=t.strstart-t.insert,t.ins_h=t.window[f],t.ins_h=zn(t,t.ins_h,t.window[f+1]);t.insert&&(t.ins_h=zn(t,t.ins_h,t.window[f+3-1]),t.prev[f&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=f,f++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<un&&0!==t.strm.avail_in)},vc=(t,r)=>{let n,f,y,e=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,D=0,k=t.strm.avail_in;do{if(n=65535,y=t.bi_valid+42>>3,t.strm.avail_out<y||(y=t.strm.avail_out-y,f=t.strstart-t.block_start,n>f+t.strm.avail_in&&(n=f+t.strm.avail_in),n>y&&(n=y),n<e&&(0===n&&r!==Ur||r===Vn||n!==f+t.strm.avail_in)))break;D=r===Ur&&n===f+t.strm.avail_in?1:0,Ca(t,0,0,D),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,Br(t.strm),f&&(f>n&&(f=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+f),t.strm.next_out),t.strm.next_out+=f,t.strm.avail_out-=f,t.strm.total_out+=f,t.block_start+=f,n-=f),n&&(ja(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(0===D);return k-=t.strm.avail_in,k&&(k>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=k&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-k,t.strm.next_in),t.strstart),t.strstart+=k,t.insert+=k>t.w_size-t.insert?t.w_size-t.insert:k),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),D?4:r!==Vn&&r!==Ur&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(y=t.window_size-t.strstart,t.strm.avail_in>y&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,y+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),y>t.strm.avail_in&&(y=t.strm.avail_in),y&&(ja(t.strm,t.window,t.strstart,y),t.strstart+=y,t.insert+=y>t.w_size-t.insert?t.w_size-t.insert:y),t.high_water<t.strstart&&(t.high_water=t.strstart),y=t.bi_valid+42>>3,y=t.pending_buf_size-y>65535?65535:t.pending_buf_size-y,e=y>t.w_size?t.w_size:y,f=t.strstart-t.block_start,(f>=e||(f||r===Ur)&&r!==Vn&&0===t.strm.avail_in&&f<=y)&&(n=f>y?y:f,D=r===Ur&&0===t.strm.avail_in&&n===f?1:0,Ca(t,t.block_start,n,D),t.block_start+=n,Br(t.strm)),D?3:1)},ka=(t,r)=>{let e,n;for(;;){if(t.lookahead<un){if(Di(t),t.lookahead<un&&r===Vn)return 1;if(0===t.lookahead)break}if(e=0,t.lookahead>=3&&(t.ins_h=zn(t,t.ins_h,t.window[t.strstart+3-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==e&&t.strstart-e<=t.w_size-un&&(t.match_length=gc(t,e)),t.match_length>=3)if(n=Kn(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=zn(t,t.ins_h,t.window[t.strstart+3-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=zn(t,t.ins_h,t.window[t.strstart+1]);else n=Kn(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Tr(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,r===Ur?(Tr(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Tr(t,!1),0===t.strm.avail_out)?1:2},Ci=(t,r)=>{let e,n,f;for(;;){if(t.lookahead<un){if(Di(t),t.lookahead<un&&r===Vn)return 1;if(0===t.lookahead)break}if(e=0,t.lookahead>=3&&(t.ins_h=zn(t,t.ins_h,t.window[t.strstart+3-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==e&&t.prev_length<t.max_lazy_match&&t.strstart-e<=t.w_size-un&&(t.match_length=gc(t,e),t.match_length<=5&&(t.strategy===Xp||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){f=t.strstart+t.lookahead-3,n=Kn(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=f&&(t.ins_h=zn(t,t.ins_h,t.window[t.strstart+3-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Tr(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(n=Kn(t,0,t.window[t.strstart-1]),n&&Tr(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=Kn(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,r===Ur?(Tr(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Tr(t,!1),0===t.strm.avail_out)?1:2};function cn(t,r,e,n,f){this.good_length=t,this.max_lazy=r,this.nice_length=e,this.max_chain=n,this.func=f}const Os=[new cn(0,0,0,0,vc),new cn(4,4,8,4,ka),new cn(4,5,16,8,ka),new cn(4,6,32,32,ka),new cn(4,4,16,16,Ci),new cn(8,16,32,32,Ci),new cn(8,16,128,128,Ci),new cn(8,32,128,256,Ci),new cn(32,128,258,1024,Ci),new cn(32,258,258,4096,Ci)];function ph(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=go,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Wn(this.dyn_ltree),Wn(this.dyn_dtree),Wn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Wn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Wn(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Fs=t=>{if(!t)return 1;const r=t.state;return!r||r.strm!==t||42!==r.status&&57!==r.status&&69!==r.status&&73!==r.status&&91!==r.status&&103!==r.status&&113!==r.status&&666!==r.status?1:0},bc=t=>{if(Fs(t))return ui(t,an);t.total_in=t.total_out=0,t.data_type=qp;const r=t.state;return r.pending=0,r.pending_out=0,r.wrap<0&&(r.wrap=-r.wrap),r.status=2===r.wrap?57:r.wrap?42:113,t.adler=2===r.wrap?0:1,r.last_flush=-2,Kp(r),cr},wc=t=>{const r=bc(t);return r===cr&&(t=>{t.window_size=2*t.w_size,Wn(t.head),t.max_lazy_match=Os[t.level].max_lazy,t.good_match=Os[t.level].good_length,t.nice_match=Os[t.level].nice_length,t.max_chain_length=Os[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0})(t.state),r},Ec=(t,r,e,n,f,y)=>{if(!t)return an;let D=1;if(r===Gp&&(r=6),n<0?(D=0,n=-n):n>15&&(D=2,n-=16),f<1||f>9||e!==go||n<8||n>15||r<0||r>9||y<0||y>Yp||8===n&&1!==D)return ui(t,an);8===n&&(n=9);const k=new ph;return t.state=k,k.strm=t,k.status=42,k.wrap=D,k.gzhead=null,k.w_bits=n,k.w_size=1<<k.w_bits,k.w_mask=k.w_size-1,k.hash_bits=f+7,k.hash_size=1<<k.hash_bits,k.hash_mask=k.hash_size-1,k.hash_shift=~~((k.hash_bits+3-1)/3),k.window=new Uint8Array(2*k.w_size),k.head=new Uint16Array(k.hash_size),k.prev=new Uint16Array(k.w_size),k.lit_bufsize=1<<f+6,k.pending_buf_size=4*k.lit_bufsize,k.pending_buf=new Uint8Array(k.pending_buf_size),k.sym_buf=k.lit_bufsize,k.sym_end=3*(k.lit_bufsize-1),k.level=r,k.strategy=y,k.method=e,wc(t)};var Bs={deflateInit:(t,r)=>Ec(t,r,go,15,8,Qp),deflateInit2:Ec,deflateReset:wc,deflateResetKeep:bc,deflateSetHeader:(t,r)=>Fs(t)||2!==t.state.wrap?an:(t.state.gzhead=r,cr),deflate:(t,r)=>{if(Fs(t)||r>hc||r<0)return t?ui(t,an):an;const e=t.state;if(!t.output||0!==t.avail_in&&!t.input||666===e.status&&r!==Ur)return ui(t,0===t.avail_out?Pa:an);const n=e.last_flush;if(e.last_flush=r,0!==e.pending){if(Br(t),0===t.avail_out)return e.last_flush=-1,cr}else if(0===t.avail_in&&mc(r)<=mc(n)&&r!==Ur)return ui(t,Pa);if(666===e.status&&0!==t.avail_in)return ui(t,Pa);if(42===e.status&&0===e.wrap&&(e.status=113),42===e.status){let f=go+(e.w_bits-8<<4)<<8,y=-1;if(y=e.strategy>=mo||e.level<2?0:e.level<6?1:6===e.level?2:3,f|=y<<6,0!==e.strstart&&(f|=32),f+=31-f%31,xs(e,f),0!==e.strstart&&(xs(e,t.adler>>>16),xs(e,65535&t.adler)),t.adler=1,e.status=113,Br(t),0!==e.pending)return e.last_flush=-1,cr}if(57===e.status)if(t.adler=0,xt(e,31),xt(e,139),xt(e,8),e.gzhead)xt(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),xt(e,255&e.gzhead.time),xt(e,e.gzhead.time>>8&255),xt(e,e.gzhead.time>>16&255),xt(e,e.gzhead.time>>24&255),xt(e,9===e.level?2:e.strategy>=mo||e.level<2?4:0),xt(e,255&e.gzhead.os),e.gzhead.extra&&e.gzhead.extra.length&&(xt(e,255&e.gzhead.extra.length),xt(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(t.adler=qt(t.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=69;else if(xt(e,0),xt(e,0),xt(e,0),xt(e,0),xt(e,0),xt(e,9===e.level?2:e.strategy>=mo||e.level<2?4:0),xt(e,3),e.status=113,Br(t),0!==e.pending)return e.last_flush=-1,cr;if(69===e.status){if(e.gzhead.extra){let f=e.pending,y=(65535&e.gzhead.extra.length)-e.gzindex;for(;e.pending+y>e.pending_buf_size;){let k=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+k),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>f&&(t.adler=qt(t.adler,e.pending_buf,e.pending-f,f)),e.gzindex+=k,Br(t),0!==e.pending)return e.last_flush=-1,cr;f=0,y-=k}let D=new Uint8Array(e.gzhead.extra);e.pending_buf.set(D.subarray(e.gzindex,e.gzindex+y),e.pending),e.pending+=y,e.gzhead.hcrc&&e.pending>f&&(t.adler=qt(t.adler,e.pending_buf,e.pending-f,f)),e.gzindex=0}e.status=73}if(73===e.status){if(e.gzhead.name){let y,f=e.pending;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>f&&(t.adler=qt(t.adler,e.pending_buf,e.pending-f,f)),Br(t),0!==e.pending)return e.last_flush=-1,cr;f=0}y=e.gzindex<e.gzhead.name.length?255&e.gzhead.name.charCodeAt(e.gzindex++):0,xt(e,y)}while(0!==y);e.gzhead.hcrc&&e.pending>f&&(t.adler=qt(t.adler,e.pending_buf,e.pending-f,f)),e.gzindex=0}e.status=91}if(91===e.status){if(e.gzhead.comment){let y,f=e.pending;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>f&&(t.adler=qt(t.adler,e.pending_buf,e.pending-f,f)),Br(t),0!==e.pending)return e.last_flush=-1,cr;f=0}y=e.gzindex<e.gzhead.comment.length?255&e.gzhead.comment.charCodeAt(e.gzindex++):0,xt(e,y)}while(0!==y);e.gzhead.hcrc&&e.pending>f&&(t.adler=qt(t.adler,e.pending_buf,e.pending-f,f))}e.status=103}if(103===e.status){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(Br(t),0!==e.pending))return e.last_flush=-1,cr;xt(e,255&t.adler),xt(e,t.adler>>8&255),t.adler=0}if(e.status=113,Br(t),0!==e.pending)return e.last_flush=-1,cr}if(0!==t.avail_in||0!==e.lookahead||r!==Vn&&666!==e.status){let f=0===e.level?vc(e,r):e.strategy===mo?((t,r)=>{let e;for(;;){if(0===t.lookahead&&(Di(t),0===t.lookahead)){if(r===Vn)return 1;break}if(t.match_length=0,e=Kn(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,e&&(Tr(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,r===Ur?(Tr(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Tr(t,!1),0===t.strm.avail_out)?1:2})(e,r):e.strategy===Zp?((t,r)=>{let e,n,f,y;const D=t.window;for(;;){if(t.lookahead<=258){if(Di(t),t.lookahead<=258&&r===Vn)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(f=t.strstart-1,n=D[f],n===D[++f]&&n===D[++f]&&n===D[++f])){y=t.strstart+258;do{}while(n===D[++f]&&n===D[++f]&&n===D[++f]&&n===D[++f]&&n===D[++f]&&n===D[++f]&&n===D[++f]&&n===D[++f]&&f<y);t.match_length=258-(y-f),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(e=Kn(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(e=Kn(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),e&&(Tr(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,r===Ur?(Tr(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Tr(t,!1),0===t.strm.avail_out)?1:2})(e,r):Os[e.level].func(e,r);if((3===f||4===f)&&(e.status=666),1===f||3===f)return 0===t.avail_out&&(e.last_flush=-1),cr;if(2===f&&(r===Wp?Jp(e):r!==hc&&(Ca(e,0,0,!1),r===zp&&(Wn(e.head),0===e.lookahead&&(e.strstart=0,e.block_start=0,e.insert=0))),Br(t),0===t.avail_out))return e.last_flush=-1,cr}return r!==Ur?cr:e.wrap<=0?yc:(2===e.wrap?(xt(e,255&t.adler),xt(e,t.adler>>8&255),xt(e,t.adler>>16&255),xt(e,t.adler>>24&255),xt(e,255&t.total_in),xt(e,t.total_in>>8&255),xt(e,t.total_in>>16&255),xt(e,t.total_in>>24&255)):(xs(e,t.adler>>>16),xs(e,65535&t.adler)),Br(t),e.wrap>0&&(e.wrap=-e.wrap),0!==e.pending?cr:yc)},deflateEnd:t=>{if(Fs(t))return an;const r=t.state.status;return t.state=null,113===r?ui(t,Hp):cr},deflateSetDictionary:(t,r)=>{let e=r.length;if(Fs(t))return an;const n=t.state,f=n.wrap;if(2===f||1===f&&42!==n.status||n.lookahead)return an;if(1===f&&(t.adler=Cs(t.adler,r,e,0)),n.wrap=0,e>=n.w_size){0===f&&(Wn(n.head),n.strstart=0,n.block_start=0,n.insert=0);let re=new Uint8Array(n.w_size);re.set(r.subarray(e-n.w_size,e),0),r=re,e=n.w_size}const y=t.avail_in,D=t.next_in,k=t.input;for(t.avail_in=e,t.next_in=0,t.input=r,Di(n);n.lookahead>=3;){let re=n.strstart,L=n.lookahead-2;do{n.ins_h=zn(n,n.ins_h,n.window[re+3-1]),n.prev[re&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=re,re++}while(--L);n.strstart=re,n.lookahead=2,Di(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=D,t.input=k,t.avail_in=y,n.wrap=f,cr},deflateInfo:"pako deflate (from Nodeca project)"};const xh=(t,r)=>Object.prototype.hasOwnProperty.call(t,r);var vo={assign:function(t){const r=Array.prototype.slice.call(arguments,1);for(;r.length;){const e=r.shift();if(e){if("object"!=typeof e)throw new TypeError(e+"must be non-object");for(const n in e)xh(e,n)&&(t[n]=e[n])}}return t},flattenChunks:t=>{let r=0;for(let n=0,f=t.length;n<f;n++)r+=t[n].length;const e=new Uint8Array(r);for(let n=0,f=0,y=t.length;n<y;n++){let D=t[n];e.set(D,f),f+=D.length}return e}};let Sc=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Sc=!1}const Ts=new Uint8Array(256);for(let t=0;t<256;t++)Ts[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Ts[254]=Ts[254]=1;var Is={string2buf:t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let r,e,n,f,y,D=t.length,k=0;for(f=0;f<D;f++)e=t.charCodeAt(f),55296==(64512&e)&&f+1<D&&(n=t.charCodeAt(f+1),56320==(64512&n)&&(e=65536+(e-55296<<10)+(n-56320),f++)),k+=e<128?1:e<2048?2:e<65536?3:4;for(r=new Uint8Array(k),y=0,f=0;y<k;f++)e=t.charCodeAt(f),55296==(64512&e)&&f+1<D&&(n=t.charCodeAt(f+1),56320==(64512&n)&&(e=65536+(e-55296<<10)+(n-56320),f++)),e<128?r[y++]=e:e<2048?(r[y++]=192|e>>>6,r[y++]=128|63&e):e<65536?(r[y++]=224|e>>>12,r[y++]=128|e>>>6&63,r[y++]=128|63&e):(r[y++]=240|e>>>18,r[y++]=128|e>>>12&63,r[y++]=128|e>>>6&63,r[y++]=128|63&e);return r},buf2string:(t,r)=>{const e=r||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,r));let n,f;const y=new Array(2*e);for(f=0,n=0;n<e;){let D=t[n++];if(D<128){y[f++]=D;continue}let k=Ts[D];if(k>4)y[f++]=65533,n+=k-1;else{for(D&=2===k?31:3===k?15:7;k>1&&n<e;)D=D<<6|63&t[n++],k--;k>1?y[f++]=65533:D<65536?y[f++]=D:(D-=65536,y[f++]=55296|D>>10&1023,y[f++]=56320|1023&D)}}return((t,r)=>{if(r<65534&&t.subarray&&Sc)return String.fromCharCode.apply(null,t.length===r?t:t.subarray(0,r));let e="";for(let n=0;n<r;n++)e+=String.fromCharCode(t[n]);return e})(y,f)},utf8border:(t,r)=>{(r=r||t.length)>t.length&&(r=t.length);let e=r-1;for(;e>=0&&128==(192&t[e]);)e--;return e<0||0===e?r:e+Ts[t[e]]>r?e:r}},_c=function kh(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Ac=Object.prototype.toString,{Z_NO_FLUSH:$h,Z_SYNC_FLUSH:Rh,Z_FULL_FLUSH:Nh,Z_FINISH:Mh,Z_OK:bo,Z_STREAM_END:Uh,Z_DEFAULT_COMPRESSION:Lh,Z_DEFAULT_STRATEGY:Kh,Z_DEFLATED:Vh}=si;function js(t){this.options=vo.assign({level:Lh,method:Vh,chunkSize:16384,windowBits:15,memLevel:8,strategy:Kh},t||{});let r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _c,this.strm.avail_out=0;let e=Bs.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(e!==bo)throw new Error(ii[e]);if(r.header&&Bs.deflateSetHeader(this.strm,r.header),r.dictionary){let n;if(n="string"==typeof r.dictionary?Is.string2buf(r.dictionary):"[object ArrayBuffer]"===Ac.call(r.dictionary)?new Uint8Array(r.dictionary):r.dictionary,e=Bs.deflateSetDictionary(this.strm,n),e!==bo)throw new Error(ii[e]);this._dict_set=!0}}function $a(t,r){const e=new js(r);if(e.push(t,!0),e.err)throw e.msg||ii[e.err];return e.result}js.prototype.push=function(t,r){const e=this.strm,n=this.options.chunkSize;let f,y;if(this.ended)return!1;for(y=r===~~r?r:!0===r?Mh:$h,e.input="string"==typeof t?Is.string2buf(t):"[object ArrayBuffer]"===Ac.call(t)?new Uint8Array(t):t,e.next_in=0,e.avail_in=e.input.length;;)if(0===e.avail_out&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),(y===Rh||y===Nh)&&e.avail_out<=6)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else{if(f=Bs.deflate(e,y),f===Uh)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),f=Bs.deflateEnd(this.strm),this.onEnd(f),this.ended=!0,f===bo;if(0!==e.avail_out){if(y>0&&e.next_out>0)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else if(0===e.avail_in)break}else this.onData(e.output)}return!0},js.prototype.onData=function(t){this.chunks.push(t)},js.prototype.onEnd=function(t){t===bo&&(this.result=vo.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Yh={Deflate:js,deflate:$a,deflateRaw:function Jh(t,r){return(r=r||{}).raw=!0,$a(t,r)},gzip:function Wh(t,r){return(r=r||{}).gzip=!0,$a(t,r)},constants:si};const wo=16209;var qh=function(r,e){let n,f,y,D,k,re,L,B,se,Te,ke,Re,Ze,ot,it,rt,Ye,ze,st,et,Qe,dt,yt,bt;const At=r.state;n=r.next_in,yt=r.input,f=n+(r.avail_in-5),y=r.next_out,bt=r.output,D=y-(e-r.avail_out),k=y+(r.avail_out-257),re=At.dmax,L=At.wsize,B=At.whave,se=At.wnext,Te=At.window,ke=At.hold,Re=At.bits,Ze=At.lencode,ot=At.distcode,it=(1<<At.lenbits)-1,rt=(1<<At.distbits)-1;e:do{Re<15&&(ke+=yt[n++]<<Re,Re+=8,ke+=yt[n++]<<Re,Re+=8),Ye=Ze[ke&it];t:for(;;){if(ze=Ye>>>24,ke>>>=ze,Re-=ze,ze=Ye>>>16&255,0===ze)bt[y++]=65535&Ye;else{if(!(16&ze)){if(64&ze){if(32&ze){At.mode=16191;break e}r.msg="invalid literal/length code",At.mode=wo;break e}Ye=Ze[(65535&Ye)+(ke&(1<<ze)-1)];continue t}for(st=65535&Ye,ze&=15,ze&&(Re<ze&&(ke+=yt[n++]<<Re,Re+=8),st+=ke&(1<<ze)-1,ke>>>=ze,Re-=ze),Re<15&&(ke+=yt[n++]<<Re,Re+=8,ke+=yt[n++]<<Re,Re+=8),Ye=ot[ke&rt];;){if(ze=Ye>>>24,ke>>>=ze,Re-=ze,ze=Ye>>>16&255,16&ze){if(et=65535&Ye,ze&=15,Re<ze&&(ke+=yt[n++]<<Re,Re+=8,Re<ze&&(ke+=yt[n++]<<Re,Re+=8)),et+=ke&(1<<ze)-1,et>re){r.msg="invalid distance too far back",At.mode=wo;break e}if(ke>>>=ze,Re-=ze,ze=y-D,et>ze){if(ze=et-ze,ze>B&&At.sane){r.msg="invalid distance too far back",At.mode=wo;break e}if(Qe=0,dt=Te,0===se){if(Qe+=L-ze,ze<st){st-=ze;do{bt[y++]=Te[Qe++]}while(--ze);Qe=y-et,dt=bt}}else if(se<ze){if(Qe+=L+se-ze,ze-=se,ze<st){st-=ze;do{bt[y++]=Te[Qe++]}while(--ze);if(Qe=0,se<st){ze=se,st-=ze;do{bt[y++]=Te[Qe++]}while(--ze);Qe=y-et,dt=bt}}}else if(Qe+=se-ze,ze<st){st-=ze;do{bt[y++]=Te[Qe++]}while(--ze);Qe=y-et,dt=bt}for(;st>2;)bt[y++]=dt[Qe++],bt[y++]=dt[Qe++],bt[y++]=dt[Qe++],st-=3;st&&(bt[y++]=dt[Qe++],st>1&&(bt[y++]=dt[Qe++]))}else{Qe=y-et;do{bt[y++]=bt[Qe++],bt[y++]=bt[Qe++],bt[y++]=bt[Qe++],st-=3}while(st>2);st&&(bt[y++]=bt[Qe++],st>1&&(bt[y++]=bt[Qe++]))}break}if(64&ze){r.msg="invalid distance code",At.mode=wo;break e}Ye=ot[(65535&Ye)+(ke&(1<<ze)-1)]}}break}}while(n<f&&y<k);st=Re>>3,n-=st,Re-=st<<3,ke&=(1<<Re)-1,r.next_in=n,r.next_out=y,r.avail_in=n<f?f-n+5:5-(n-f),r.avail_out=y<k?k-y+257:257-(y-k),At.hold=ke,At.bits=Re};const ey=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ty=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ry=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ny=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ks=(t,r,e,n,f,y,D,k)=>{const re=k.bits;let Ye,ze,st,et,Qe,yt,L=0,B=0,se=0,Te=0,ke=0,Re=0,Ze=0,ot=0,it=0,rt=0,dt=null;const bt=new Uint16Array(16),At=new Uint16Array(16);let Co,Po,xo,Pn=null;for(L=0;L<=15;L++)bt[L]=0;for(B=0;B<n;B++)bt[r[e+B]]++;for(ke=re,Te=15;Te>=1&&0===bt[Te];Te--);if(ke>Te&&(ke=Te),0===Te)return f[y++]=20971520,f[y++]=20971520,k.bits=1,0;for(se=1;se<Te&&0===bt[se];se++);for(ke<se&&(ke=se),ot=1,L=1;L<=15;L++)if(ot<<=1,ot-=bt[L],ot<0)return-1;if(ot>0&&(0===t||1!==Te))return-1;for(At[1]=0,L=1;L<15;L++)At[L+1]=At[L]+bt[L];for(B=0;B<n;B++)0!==r[e+B]&&(D[At[r[e+B]]++]=B);if(0===t?(dt=Pn=D,yt=20):1===t?(dt=ey,Pn=ty,yt=257):(dt=ry,Pn=ny,yt=0),rt=0,B=0,L=se,Qe=y,Re=ke,Ze=0,st=-1,it=1<<ke,et=it-1,1===t&&it>852||2===t&&it>592)return 1;for(;;){Co=L-Ze,D[B]+1<yt?(Po=0,xo=D[B]):D[B]>=yt?(Po=Pn[D[B]-yt],xo=dt[D[B]-yt]):(Po=96,xo=0),Ye=1<<L-Ze,ze=1<<Re,se=ze;do{ze-=Ye,f[Qe+(rt>>Ze)+ze]=Co<<24|Po<<16|xo}while(0!==ze);for(Ye=1<<L-1;rt&Ye;)Ye>>=1;if(0!==Ye?(rt&=Ye-1,rt+=Ye):rt=0,B++,0==--bt[L]){if(L===Te)break;L=r[e+D[B]]}if(L>ke&&(rt&et)!==st){for(0===Ze&&(Ze=ke),Qe+=se,Re=L-Ze,ot=1<<Re;Re+Ze<Te&&(ot-=bt[Re+Ze],!(ot<=0));)Re++,ot<<=1;if(it+=1<<Re,1===t&&it>852||2===t&&it>592)return 1;st=rt&et,f[st]=ke<<24|Re<<16|Qe-y}}return 0!==rt&&(f[Qe+rt]=L-Ze<<24|64<<16),k.bits=ke,0};const{Z_FINISH:Bc,Z_BLOCK:sy,Z_TREES:Eo,Z_OK:ci,Z_STREAM_END:oy,Z_NEED_DICT:ay,Z_STREAM_ERROR:Lr,Z_DATA_ERROR:Tc,Z_MEM_ERROR:Ic,Z_BUF_ERROR:uy,Z_DEFLATED:jc}=si,So=16180,_o=16190,Dn=16191,Ao=16199,Do=16200,Rt=16209,il=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function fy(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const li=t=>{if(!t)return 1;const r=t.state;return!r||r.strm!==t||r.mode<So||r.mode>16211?1:0},sl=t=>{if(li(t))return Lr;const r=t.state;return t.total_in=t.total_out=r.total=0,t.msg="",r.wrap&&(t.adler=1&r.wrap),r.mode=So,r.last=0,r.havedict=0,r.flags=-1,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(852),r.distcode=r.distdyn=new Int32Array(592),r.sane=1,r.back=-1,ci},ol=t=>{if(li(t))return Lr;const r=t.state;return r.wsize=0,r.whave=0,r.wnext=0,sl(t)},al=(t,r)=>{let e;if(li(t))return Lr;const n=t.state;return r<0?(e=0,r=-r):(e=5+(r>>4),r<48&&(r&=15)),r&&(r<8||r>15)?Lr:(null!==n.window&&n.wbits!==r&&(n.window=null),n.wrap=e,n.wbits=r,ol(t))},ul=(t,r)=>{if(!t)return Lr;const e=new fy;t.state=e,e.strm=t,e.window=null,e.mode=So;const n=al(t,r);return n!==ci&&(t.state=null),n};let La,Ka,cl=!0;const hy=t=>{if(cl){La=new Int32Array(512),Ka=new Int32Array(32);let r=0;for(;r<144;)t.lens[r++]=8;for(;r<256;)t.lens[r++]=9;for(;r<280;)t.lens[r++]=7;for(;r<288;)t.lens[r++]=8;for(ks(1,t.lens,0,288,La,0,t.work,{bits:9}),r=0;r<32;)t.lens[r++]=5;ks(2,t.lens,0,32,Ka,0,t.work,{bits:5}),cl=!1}t.lencode=La,t.lenbits=9,t.distcode=Ka,t.distbits=5},ll=(t,r,e,n)=>{let f;const y=t.state;return null===y.window&&(y.wsize=1<<y.wbits,y.wnext=0,y.whave=0,y.window=new Uint8Array(y.wsize)),n>=y.wsize?(y.window.set(r.subarray(e-y.wsize,e),0),y.wnext=0,y.whave=y.wsize):(f=y.wsize-y.wnext,f>n&&(f=n),y.window.set(r.subarray(e-n,e-n+f),y.wnext),(n-=f)?(y.window.set(r.subarray(e-n,e),0),y.wnext=n,y.whave=y.wsize):(y.wnext+=f,y.wnext===y.wsize&&(y.wnext=0),y.whave<y.wsize&&(y.whave+=f))),0};var Cn={inflateReset:ol,inflateReset2:al,inflateResetKeep:sl,inflateInit:t=>ul(t,15),inflateInit2:ul,inflate:(t,r)=>{let e,n,f,y,D,k,re,L,B,se,Te,ke,Re,Ze,it,rt,Ye,ze,st,et,Qe,dt,ot=0;const yt=new Uint8Array(4);let bt,At;const Pn=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(li(t)||!t.output||!t.input&&0!==t.avail_in)return Lr;e=t.state,e.mode===Dn&&(e.mode=16192),D=t.next_out,f=t.output,re=t.avail_out,y=t.next_in,n=t.input,k=t.avail_in,L=e.hold,B=e.bits,se=k,Te=re,dt=ci;e:for(;;)switch(e.mode){case So:if(0===e.wrap){e.mode=16192;break}for(;B<16;){if(0===k)break e;k--,L+=n[y++]<<B,B+=8}if(2&e.wrap&&35615===L){0===e.wbits&&(e.wbits=15),e.check=0,yt[0]=255&L,yt[1]=L>>>8&255,e.check=qt(e.check,yt,2,0),L=0,B=0,e.mode=16181;break}if(e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&L)<<8)+(L>>8))%31){t.msg="incorrect header check",e.mode=Rt;break}if((15&L)!==jc){t.msg="unknown compression method",e.mode=Rt;break}if(L>>>=4,B-=4,Qe=8+(15&L),0===e.wbits&&(e.wbits=Qe),Qe>15||Qe>e.wbits){t.msg="invalid window size",e.mode=Rt;break}e.dmax=1<<e.wbits,e.flags=0,t.adler=e.check=1,e.mode=512&L?16189:Dn,L=0,B=0;break;case 16181:for(;B<16;){if(0===k)break e;k--,L+=n[y++]<<B,B+=8}if(e.flags=L,(255&e.flags)!==jc){t.msg="unknown compression method",e.mode=Rt;break}if(57344&e.flags){t.msg="unknown header flags set",e.mode=Rt;break}e.head&&(e.head.text=L>>8&1),512&e.flags&&4&e.wrap&&(yt[0]=255&L,yt[1]=L>>>8&255,e.check=qt(e.check,yt,2,0)),L=0,B=0,e.mode=16182;case 16182:for(;B<32;){if(0===k)break e;k--,L+=n[y++]<<B,B+=8}e.head&&(e.head.time=L),512&e.flags&&4&e.wrap&&(yt[0]=255&L,yt[1]=L>>>8&255,yt[2]=L>>>16&255,yt[3]=L>>>24&255,e.check=qt(e.check,yt,4,0)),L=0,B=0,e.mode=16183;case 16183:for(;B<16;){if(0===k)break e;k--,L+=n[y++]<<B,B+=8}e.head&&(e.head.xflags=255&L,e.head.os=L>>8),512&e.flags&&4&e.wrap&&(yt[0]=255&L,yt[1]=L>>>8&255,e.check=qt(e.check,yt,2,0)),L=0,B=0,e.mode=16184;case 16184:if(1024&e.flags){for(;B<16;){if(0===k)break e;k--,L+=n[y++]<<B,B+=8}e.length=L,e.head&&(e.head.extra_len=L),512&e.flags&&4&e.wrap&&(yt[0]=255&L,yt[1]=L>>>8&255,e.check=qt(e.check,yt,2,0)),L=0,B=0}else e.head&&(e.head.extra=null);e.mode=16185;case 16185:if(1024&e.flags&&(ke=e.length,ke>k&&(ke=k),ke&&(e.head&&(Qe=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(n.subarray(y,y+ke),Qe)),512&e.flags&&4&e.wrap&&(e.check=qt(e.check,n,ke,y)),k-=ke,y+=ke,e.length-=ke),e.length))break e;e.length=0,e.mode=16186;case 16186:if(2048&e.flags){if(0===k)break e;ke=0;do{Qe=n[y+ke++],e.head&&Qe&&e.length<65536&&(e.head.name+=String.fromCharCode(Qe))}while(Qe&&ke<k);if(512&e.flags&&4&e.wrap&&(e.check=qt(e.check,n,ke,y)),k-=ke,y+=ke,Qe)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=16187;case 16187:if(4096&e.flags){if(0===k)break e;ke=0;do{Qe=n[y+ke++],e.head&&Qe&&e.length<65536&&(e.head.comment+=String.fromCharCode(Qe))}while(Qe&&ke<k);if(512&e.flags&&4&e.wrap&&(e.check=qt(e.check,n,ke,y)),k-=ke,y+=ke,Qe)break e}else e.head&&(e.head.comment=null);e.mode=16188;case 16188:if(512&e.flags){for(;B<16;){if(0===k)break e;k--,L+=n[y++]<<B,B+=8}if(4&e.wrap&&L!==(65535&e.check)){t.msg="header crc mismatch",e.mode=Rt;break}L=0,B=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),t.adler=e.check=0,e.mode=Dn;break;case 16189:for(;B<32;){if(0===k)break e;k--,L+=n[y++]<<B,B+=8}t.adler=e.check=il(L),L=0,B=0,e.mode=_o;case _o:if(0===e.havedict)return t.next_out=D,t.avail_out=re,t.next_in=y,t.avail_in=k,e.hold=L,e.bits=B,ay;t.adler=e.check=1,e.mode=Dn;case Dn:if(r===sy||r===Eo)break e;case 16192:if(e.last){L>>>=7&B,B-=7&B,e.mode=16206;break}for(;B<3;){if(0===k)break e;k--,L+=n[y++]<<B,B+=8}switch(e.last=1&L,L>>>=1,B-=1,3&L){case 0:e.mode=16193;break;case 1:if(hy(e),e.mode=Ao,r===Eo){L>>>=2,B-=2;break e}break;case 2:e.mode=16196;break;case 3:t.msg="invalid block type",e.mode=Rt}L>>>=2,B-=2;break;case 16193:for(L>>>=7&B,B-=7&B;B<32;){if(0===k)break e;k--,L+=n[y++]<<B,B+=8}if((65535&L)!=(L>>>16^65535)){t.msg="invalid stored block lengths",e.mode=Rt;break}if(e.length=65535&L,L=0,B=0,e.mode=16194,r===Eo)break e;case 16194:e.mode=16195;case 16195:if(ke=e.length,ke){if(ke>k&&(ke=k),ke>re&&(ke=re),0===ke)break e;f.set(n.subarray(y,y+ke),D),k-=ke,y+=ke,re-=ke,D+=ke,e.length-=ke;break}e.mode=Dn;break;case 16196:for(;B<14;){if(0===k)break e;k--,L+=n[y++]<<B,B+=8}if(e.nlen=257+(31&L),L>>>=5,B-=5,e.ndist=1+(31&L),L>>>=5,B-=5,e.ncode=4+(15&L),L>>>=4,B-=4,e.nlen>286||e.ndist>30){t.msg="too many length or distance symbols",e.mode=Rt;break}e.have=0,e.mode=16197;case 16197:for(;e.have<e.ncode;){for(;B<3;){if(0===k)break e;k--,L+=n[y++]<<B,B+=8}e.lens[Pn[e.have++]]=7&L,L>>>=3,B-=3}for(;e.have<19;)e.lens[Pn[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,bt={bits:e.lenbits},dt=ks(0,e.lens,0,19,e.lencode,0,e.work,bt),e.lenbits=bt.bits,dt){t.msg="invalid code lengths set",e.mode=Rt;break}e.have=0,e.mode=16198;case 16198:for(;e.have<e.nlen+e.ndist;){for(;ot=e.lencode[L&(1<<e.lenbits)-1],it=ot>>>24,rt=ot>>>16&255,Ye=65535&ot,!(it<=B);){if(0===k)break e;k--,L+=n[y++]<<B,B+=8}if(Ye<16)L>>>=it,B-=it,e.lens[e.have++]=Ye;else{if(16===Ye){for(At=it+2;B<At;){if(0===k)break e;k--,L+=n[y++]<<B,B+=8}if(L>>>=it,B-=it,0===e.have){t.msg="invalid bit length repeat",e.mode=Rt;break}Qe=e.lens[e.have-1],ke=3+(3&L),L>>>=2,B-=2}else if(17===Ye){for(At=it+3;B<At;){if(0===k)break e;k--,L+=n[y++]<<B,B+=8}L>>>=it,B-=it,Qe=0,ke=3+(7&L),L>>>=3,B-=3}else{for(At=it+7;B<At;){if(0===k)break e;k--,L+=n[y++]<<B,B+=8}L>>>=it,B-=it,Qe=0,ke=11+(127&L),L>>>=7,B-=7}if(e.have+ke>e.nlen+e.ndist){t.msg="invalid bit length repeat",e.mode=Rt;break}for(;ke--;)e.lens[e.have++]=Qe}}if(e.mode===Rt)break;if(0===e.lens[256]){t.msg="invalid code -- missing end-of-block",e.mode=Rt;break}if(e.lenbits=9,bt={bits:e.lenbits},dt=ks(1,e.lens,0,e.nlen,e.lencode,0,e.work,bt),e.lenbits=bt.bits,dt){t.msg="invalid literal/lengths set",e.mode=Rt;break}if(e.distbits=6,e.distcode=e.distdyn,bt={bits:e.distbits},dt=ks(2,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,bt),e.distbits=bt.bits,dt){t.msg="invalid distances set",e.mode=Rt;break}if(e.mode=Ao,r===Eo)break e;case Ao:e.mode=Do;case Do:if(k>=6&&re>=258){t.next_out=D,t.avail_out=re,t.next_in=y,t.avail_in=k,e.hold=L,e.bits=B,qh(t,Te),D=t.next_out,f=t.output,re=t.avail_out,y=t.next_in,n=t.input,k=t.avail_in,L=e.hold,B=e.bits,e.mode===Dn&&(e.back=-1);break}for(e.back=0;ot=e.lencode[L&(1<<e.lenbits)-1],it=ot>>>24,rt=ot>>>16&255,Ye=65535&ot,!(it<=B);){if(0===k)break e;k--,L+=n[y++]<<B,B+=8}if(rt&&!(240&rt)){for(ze=it,st=rt,et=Ye;ot=e.lencode[et+((L&(1<<ze+st)-1)>>ze)],it=ot>>>24,rt=ot>>>16&255,Ye=65535&ot,!(ze+it<=B);){if(0===k)break e;k--,L+=n[y++]<<B,B+=8}L>>>=ze,B-=ze,e.back+=ze}if(L>>>=it,B-=it,e.back+=it,e.length=Ye,0===rt){e.mode=16205;break}if(32&rt){e.back=-1,e.mode=Dn;break}if(64&rt){t.msg="invalid literal/length code",e.mode=Rt;break}e.extra=15&rt,e.mode=16201;case 16201:if(e.extra){for(At=e.extra;B<At;){if(0===k)break e;k--,L+=n[y++]<<B,B+=8}e.length+=L&(1<<e.extra)-1,L>>>=e.extra,B-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=16202;case 16202:for(;ot=e.distcode[L&(1<<e.distbits)-1],it=ot>>>24,rt=ot>>>16&255,Ye=65535&ot,!(it<=B);){if(0===k)break e;k--,L+=n[y++]<<B,B+=8}if(!(240&rt)){for(ze=it,st=rt,et=Ye;ot=e.distcode[et+((L&(1<<ze+st)-1)>>ze)],it=ot>>>24,rt=ot>>>16&255,Ye=65535&ot,!(ze+it<=B);){if(0===k)break e;k--,L+=n[y++]<<B,B+=8}L>>>=ze,B-=ze,e.back+=ze}if(L>>>=it,B-=it,e.back+=it,64&rt){t.msg="invalid distance code",e.mode=Rt;break}e.offset=Ye,e.extra=15&rt,e.mode=16203;case 16203:if(e.extra){for(At=e.extra;B<At;){if(0===k)break e;k--,L+=n[y++]<<B,B+=8}e.offset+=L&(1<<e.extra)-1,L>>>=e.extra,B-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){t.msg="invalid distance too far back",e.mode=Rt;break}e.mode=16204;case 16204:if(0===re)break e;if(ke=Te-re,e.offset>ke){if(ke=e.offset-ke,ke>e.whave&&e.sane){t.msg="invalid distance too far back",e.mode=Rt;break}ke>e.wnext?(ke-=e.wnext,Re=e.wsize-ke):Re=e.wnext-ke,ke>e.length&&(ke=e.length),Ze=e.window}else Ze=f,Re=D-e.offset,ke=e.length;ke>re&&(ke=re),re-=ke,e.length-=ke;do{f[D++]=Ze[Re++]}while(--ke);0===e.length&&(e.mode=Do);break;case 16205:if(0===re)break e;f[D++]=e.length,re--,e.mode=Do;break;case 16206:if(e.wrap){for(;B<32;){if(0===k)break e;k--,L|=n[y++]<<B,B+=8}if(Te-=re,t.total_out+=Te,e.total+=Te,4&e.wrap&&Te&&(t.adler=e.check=e.flags?qt(e.check,f,Te,D-Te):Cs(e.check,f,Te,D-Te)),Te=re,4&e.wrap&&(e.flags?L:il(L))!==e.check){t.msg="incorrect data check",e.mode=Rt;break}L=0,B=0}e.mode=16207;case 16207:if(e.wrap&&e.flags){for(;B<32;){if(0===k)break e;k--,L+=n[y++]<<B,B+=8}if(4&e.wrap&&L!==(4294967295&e.total)){t.msg="incorrect length check",e.mode=Rt;break}L=0,B=0}e.mode=16208;case 16208:dt=oy;break e;case Rt:dt=Tc;break e;case 16210:return Ic;default:return Lr}return t.next_out=D,t.avail_out=re,t.next_in=y,t.avail_in=k,e.hold=L,e.bits=B,(e.wsize||Te!==t.avail_out&&e.mode<Rt&&(e.mode<16206||r!==Bc))&&ll(t,t.output,t.next_out,Te-t.avail_out),se-=t.avail_in,Te-=t.avail_out,t.total_in+=se,t.total_out+=Te,e.total+=Te,4&e.wrap&&Te&&(t.adler=e.check=e.flags?qt(e.check,f,Te,t.next_out-Te):Cs(e.check,f,Te,t.next_out-Te)),t.data_type=e.bits+(e.last?64:0)+(e.mode===Dn?128:0)+(e.mode===Ao||16194===e.mode?256:0),(0===se&&0===Te||r===Bc)&&dt===ci&&(dt=uy),dt},inflateEnd:t=>{if(li(t))return Lr;let r=t.state;return r.window&&(r.window=null),t.state=null,ci},inflateGetHeader:(t,r)=>{if(li(t))return Lr;const e=t.state;return 2&e.wrap?(e.head=r,r.done=!1,ci):Lr},inflateSetDictionary:(t,r)=>{const e=r.length;let n,f,y;return li(t)||(n=t.state,0!==n.wrap&&n.mode!==_o)?Lr:n.mode===_o&&(f=1,f=Cs(f,r,e,0),f!==n.check)?Tc:(y=ll(t,r,e,e),y?(n.mode=16210,Ic):(n.havedict=1,ci))},inflateInfo:"pako inflate (from Nodeca project)"},Fy=function Oy(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const dl=Object.prototype.toString,{Z_NO_FLUSH:By,Z_FINISH:Ty,Z_OK:$s,Z_STREAM_END:Va,Z_NEED_DICT:Ja,Z_STREAM_ERROR:Iy,Z_DATA_ERROR:fl,Z_MEM_ERROR:jy}=si;function Rs(t){this.options=vo.assign({chunkSize:65536,windowBits:15,to:""},t||{});const r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,0===r.windowBits&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(t&&t.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(15&r.windowBits||(r.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _c,this.strm.avail_out=0;let e=Cn.inflateInit2(this.strm,r.windowBits);if(e!==$s)throw new Error(ii[e]);if(this.header=new Fy,Cn.inflateGetHeader(this.strm,this.header),r.dictionary&&("string"==typeof r.dictionary?r.dictionary=Is.string2buf(r.dictionary):"[object ArrayBuffer]"===dl.call(r.dictionary)&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(e=Cn.inflateSetDictionary(this.strm,r.dictionary),e!==$s)))throw new Error(ii[e])}function Wa(t,r){const e=new Rs(r);if(e.push(t),e.err)throw e.msg||ii[e.err];return e.result}Rs.prototype.push=function(t,r){const e=this.strm,n=this.options.chunkSize,f=this.options.dictionary;let y,D,k;if(this.ended)return!1;for(D=r===~~r?r:!0===r?Ty:By,e.input="[object ArrayBuffer]"===dl.call(t)?new Uint8Array(t):t,e.next_in=0,e.avail_in=e.input.length;;){for(0===e.avail_out&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),y=Cn.inflate(e,D),y===Ja&&f&&(y=Cn.inflateSetDictionary(e,f),y===$s?y=Cn.inflate(e,D):y===fl&&(y=Ja));e.avail_in>0&&y===Va&&e.state.wrap>0&&0!==t[e.next_in];)Cn.inflateReset(e),y=Cn.inflate(e,D);switch(y){case Iy:case fl:case Ja:case jy:return this.onEnd(y),this.ended=!0,!1}if(k=e.avail_out,e.next_out&&(0===e.avail_out||y===Va))if("string"===this.options.to){let re=Is.utf8border(e.output,e.next_out),L=e.next_out-re,B=Is.buf2string(e.output,re);e.next_out=L,e.avail_out=n-L,L&&e.output.set(e.output.subarray(re,re+L),0),this.onData(B)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(y!==$s||0!==k){if(y===Va)return y=Cn.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,!0;if(0===e.avail_in)break}}return!0},Rs.prototype.onData=function(t){this.chunks.push(t)},Rs.prototype.onEnd=function(t){t===$s&&(this.result="string"===this.options.to?this.chunks.join(""):vo.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Ly={Inflate:Rs,inflate:Wa,inflateRaw:function ky(t,r){return(r=r||{}).raw=!0,Wa(t,r)},ungzip:Wa,constants:si};function pl(t){return new Date(1e3*t).toISOString().replace(/\.\d{3}/,"")}const Ns="VerifiablePresentation";class Ms{static validateCredentialPayload(r){this.validateContext(r.vcDataModel["@context"]),this.validateVcType(r.type),this.validateCredentialSubject(r.vcDataModel.credentialSubject),r.vcDataModel.issuanceDate&&this.validateTimestamp(r.vcDataModel.issuanceDate),r.vcDataModel.expirationDate&&this.validateTimestamp(r.vcDataModel.expirationDate)}static validateContext(r){const e=this.asArray(r);if(e.length<1||-1===e.indexOf(Xa))throw new Error(`@context is missing default context "${Xa}"`)}static validateVcType(r){const e=this.asArray(r);if(e.length<1||-1===e.indexOf(Us))throw new Error(`type is missing default "${Us}"`)}static validateVpType(r){const e=this.asArray(r);if(e.length<1||-1===e.indexOf(Ns))throw new Error(`type is missing default "${Ns}"`)}static validateCredentialSubject(r){if(0===Object.keys(r).length)throw new Error("credentialSubject must not be empty")}static validateTimestamp(r){if(!function om(t){if(!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}Z$/.test(t))return!1;const e=new Date(t);return!isNaN(e.getTime())}(r)&&!function am(t){if(!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|[+-]\d{2}:\d{2})$/.test(t))return!1;const e=new Date(t);return!isNaN(e.getTime())}(r))throw new Error("timestamp is not valid xml schema 112 timestamp")}static asArray(r){return Array.isArray(r)?r:[r]}}var Ga=function(t,r,e,n){return new(e||(e=Promise))(function(y,D){function k(B){try{L(n.next(B))}catch(se){D(se)}}function re(B){try{L(n.throw(B))}catch(se){D(se)}}function L(B){B.done?y(B.value):function f(y){return y instanceof e?y:new e(function(D){D(y)})}(B.value).then(k,re)}L((n=n.apply(t,r||[])).next())})};const Xa="https://www.w3.org/2018/credentials/v1",Us="VerifiableCredential";class di{constructor(r){this.vcDataModel=r}get type(){return this.vcDataModel.type[this.vcDataModel.type.length-1]}get issuer(){return this.vcDataModel.issuer.toString()}get subject(){return Array.isArray(this.vcDataModel.credentialSubject)?this.vcDataModel.credentialSubject[0].id:this.vcDataModel.credentialSubject.id}sign(r){return Ga(this,void 0,void 0,function*(){return yield ri.sign({signerDid:r.did,payload:Object.assign({vc:this.vcDataModel,nbf:Math.floor(new Date(this.vcDataModel.issuanceDate).getTime()/1e3),jti:this.vcDataModel.id,iss:r.did.uri,sub:this.subject,iat:Math.floor(Date.now()/1e3)},this.vcDataModel.expirationDate&&{exp:Math.floor(new Date(this.vcDataModel.expirationDate).getTime()/1e3)})})})}toString(){return JSON.stringify(this.vcDataModel)}static create(r){return Ga(this,void 0,void 0,function*(){const{type:e,issuer:n,subject:f,data:y,issuanceDate:D,expirationDate:k,credentialStatus:re,credentialSchema:L,evidence:B}=r,se=JSON.parse(JSON.stringify(y));if("object"!=typeof se)throw new Error("Expected data to be parseable into a JSON object");if(!n||!f)throw new Error("Issuer and subject must be defined");if("string"!=typeof n||"string"!=typeof f)throw new Error("Issuer and subject must be of type string");const Te=Object.assign({id:f},se),ke=[Xa];null!==re&&ke.push(yl);const Re=Object.assign(Object.assign(Object.assign(Object.assign({"@context":ke,type:Array.isArray(e)?[Us,...e]:e?[Us,e]:[Us],id:`urn:uuid:${Gs.randomUUID()}`,issuer:n,issuanceDate:D||(new Date).toISOString().replace(/\.\d+Z$/,"Z"),credentialSubject:Te},k&&{expirationDate:k}),re&&{credentialStatus:re}),L&&{credentialSchema:L}),B&&{evidence:B});return Za(Re),new di(Re)})}static verify(r){return Ga(this,arguments,void 0,function*({vcJwt:e}){const{payload:n}=yield ri.verify({jwt:e}),{exp:f,iss:y,nbf:D,jti:k,sub:re,vc:L}=n;if(!L)throw new Error("vc property missing.");const B=n.vc;if(f&&B.expirationDate&&f!==Math.floor(new Date(B.expirationDate).getTime()/1e3))throw new Error("Verification failed: exp claim does not match expirationDate");if(f&&(B.expirationDate=pl(f)),!y)throw new Error("Verification failed: iss claim is required");if(y!==B.issuer)throw new Error("Verification failed: iss claim does not match expected issuer");if(D&&D>Math.floor(Date.now()/1e3))throw new Error("Verification failed: nbf claim is in the future");if(D&&B.issuanceDate&&D!==Math.floor(new Date(B.issuanceDate).getTime()/1e3))throw new Error("Verification failed: nbf claim does not match issuanceDate");if(D&&(B.issuanceDate=pl(D)),re&&!Array.isArray(B.credentialSubject)&&re!==B.credentialSubject.id)throw new Error("Verification failed: sub claim does not match credentialSubject.id");if(re&&!Array.isArray(B.credentialSubject)&&(B.credentialSubject.id=re),k&&k!==B.id)throw new Error("Verification failed: jti claim does not match id");return k&&(B.id=k),Za(B),{issuer:n.iss,subject:n.sub,vc:B}})}static parseJwt({vcJwt:r}){const n=ri.parse({jwt:r}).decoded.payload.vc;if(!n)throw Error("Jwt payload missing vc property");return Za(n),new di(n)}}function Za(t){Ms.validateContext(t["@context"]),Ms.validateVcType(t.type),Ms.validateCredentialSubject(t.credentialSubject),t.issuanceDate&&Ms.validateTimestamp(t.issuanceDate),t.expirationDate&&Ms.validateTimestamp(t.expirationDate)}const yl="https://w3id.org/vc/status-list/2021/v1";var lm=s(345),dm=s(95416);const fm=()=>["/app/chat"],pm=()=>["edit"];function hm(t,r){if(1&t&&(a.nrm(0,"img",2),a.nI1(1,"safeResourceUrl")),2&t){const e=a.XpG(2);a.Y8G("src",a.bMT(1,1,e.data().avatar),a.B4B)}}function ym(t,r){1&t&&a.nrm(0,"img",3)}function mm(t,r){if(1&t&&(a.j41(0,"span"),a.EFF(1),a.k0s()),2&t){const e=a.XpG(2);a.R7$(),a.SpI("(",e.data().profile.title,")")}}function gm(t,r){1&t&&(a.nrm(0,"mat-divider"),a.j41(1,"button",17)(2,"mat-icon"),a.EFF(3,"edit"),a.k0s(),a.j41(4,"span"),a.EFF(5,"Edit Profile"),a.k0s()()),2&t&&(a.R7$(),a.Y8G("routerLink",a.lJ4(1,pm)))}function vm(t,r){1&t&&(a.j41(0,"mat-icon",18),a.EFF(1,"badge"),a.k0s(),a.EFF(2," About "))}function bm(t,r){1&t&&(a.j41(0,"mat-icon",18),a.EFF(1,"diversity_2"),a.k0s(),a.EFF(2," Communities "))}function wm(t,r){1&t&&(a.j41(0,"mat-icon",18),a.EFF(1,"folder_shared"),a.k0s(),a.EFF(2," Data "))}function Em(t,r){if(1&t){const e=a.RV6();a.j41(0,"div",1),a.DNE(1,hm,2,3,"img",2)(2,ym,1,0,"img",3),a.j41(3,"div",4)(4,"h1"),a.EFF(5),a.DNE(6,mm,2,1,"span"),a.k0s(),a.j41(7,"span",5),a.EFF(8),a.k0s()(),a.nrm(9,"div",6),a.j41(10,"div")(11,"button",7)(12,"mat-icon"),a.EFF(13,"more_vert"),a.k0s()(),a.j41(14,"mat-menu",null,0)(16,"button",8)(17,"mat-icon"),a.EFF(18,"chat_bubble"),a.k0s(),a.j41(19,"span"),a.EFF(20,"Message"),a.k0s()(),a.j41(21,"button",9),a.bIt("click",function(){a.eBV(e);const f=a.XpG();return a.Njj(f.addFriend(f.data().did))}),a.j41(22,"mat-icon"),a.EFF(23,"person_add"),a.k0s(),a.j41(24,"span"),a.EFF(25,"Add Friend"),a.k0s()(),a.DNE(26,gm,6,2),a.nrm(27,"mat-divider"),a.j41(28,"button",9),a.bIt("click",function(){a.eBV(e);const f=a.XpG();return a.Njj(f.copyDID(f.data().did))}),a.j41(29,"mat-icon"),a.EFF(30,"content_copy"),a.k0s(),a.j41(31,"span"),a.EFF(32,"Copy DID"),a.k0s()(),a.j41(33,"button",9),a.bIt("click",function(){a.eBV(e);const f=a.XpG();return a.Njj(f.showQR(f.data().did))}),a.j41(34,"mat-icon"),a.EFF(35,"qr_code"),a.k0s(),a.j41(36,"span"),a.EFF(37,"Show QR"),a.k0s()(),a.j41(38,"button",9),a.bIt("click",function(){a.eBV(e);const f=a.XpG();return a.Njj(f.shareProfile(f.data().did))}),a.j41(39,"mat-icon"),a.EFF(40,"send"),a.k0s(),a.j41(41,"span"),a.EFF(42,"Share Profile"),a.k0s()(),a.nrm(43,"mat-divider"),a.j41(44,"button",10)(45,"mat-icon"),a.EFF(46,"block"),a.k0s(),a.j41(47,"span"),a.EFF(48,"Block"),a.k0s()()()()(),a.j41(49,"div",11)(50,"mat-tab-group")(51,"mat-tab"),a.DNE(52,vm,3,0,"ng-template",12),a.j41(53,"div",13)(54,"div",14)(55,"mat-icon"),a.EFF(56,"event"),a.k0s(),a.j41(57,"span"),a.EFF(58),a.k0s(),a.j41(59,"mat-icon"),a.EFF(60,"place"),a.k0s(),a.j41(61,"span"),a.EFF(62),a.k0s(),a.j41(63,"mat-icon"),a.EFF(64,"event"),a.k0s(),a.j41(65,"span"),a.EFF(66),a.k0s(),a.j41(67,"mat-icon"),a.EFF(68,"link"),a.k0s(),a.j41(69,"span"),a.EFF(70),a.k0s()(),a.j41(71,"div",15),a.EFF(72),a.k0s(),a.j41(73,"p")(74,"button",16),a.bIt("click",function(){a.eBV(e);const f=a.XpG();return a.Njj(f.issueFriendVC())}),a.EFF(75,"Issue Friend VC"),a.k0s()()()(),a.j41(76,"mat-tab"),a.DNE(77,bm,3,0,"ng-template",12),a.EFF(78," Not implemented yet. "),a.k0s(),a.j41(79,"mat-tab"),a.DNE(80,wm,3,0,"ng-template",12),a.EFF(81," Not implemented yet. "),a.k0s()()()}if(2&t){const e=a.sdS(15),n=a.XpG();a.R7$(),a.vxM(n.data().avatar?1:2),a.R7$(4),a.SpI(" ",n.data().profile.name," "),a.R7$(),a.vxM(n.data().profile.title?6:-1),a.R7$(2),a.JRh(n.data().did),a.R7$(3),a.Y8G("matMenuTriggerFor",e),a.R7$(5),a.Y8G("routerLink",a.lJ4(12,fm)),a.R7$(10),a.vxM(n.data().did===n.identity.did?26:-1),a.R7$(32),a.JRh(n.data().profile.birthDate),a.R7$(4),a.JRh(n.data().profilelocation),a.R7$(4),a.JRh(n.data().profile.status),a.R7$(4),a.JRh(n.data().profile.links),a.R7$(2),a.SpI(" ",n.profileService.selected().bio," ")}}function Sm(t,r){1&t&&a.nrm(0,"mat-spinner")}let _m=(()=>{class t{ngOnDestroy(){URL.revokeObjectURL(this.avatarSrc)}constructor(e,n,f,y){this.dialog=e,this.sanitizer=n,this._snackBar=f,this.route=y,this.profileService=(0,a.WQX)(i.p),this.identity=(0,a.WQX)(o.K),this.app=(0,a.WQX)(A.d),this.data=(0,a.vPA)(void 0),this.avatarSrc=null,(0,a.QZP)(()=>{this.app.initialized()&&this.route.paramMap.subscribe(D=>{const k=D.get("id");k&&(console.log("USER ID SET!!",k),this.loadUserProfile(k))})})}ngOnInit(){return(0,h.A)(function*(){})()}loadData(){return(0,h.A)(function*(){})()}addFriend(e){var n=this;return(0,h.A)(function*(){console.log("TARGET DID 1:",n.profileService.selected().did),console.log("TARGET DID 2:",n.profileService.current().did),console.log("AUTHOR DID:",n.identity.did),console.log("INPUT DID:",e);const{status:f,record:y}=yield n.identity.web5.dwn.records.create({data:{message:"I want to be your friend."},message:{recipient:e,protocol:N.Q.protocol,protocolPath:"request",schema:N.Q.types.request.schema,dataFormat:N.Q.types.request.dataFormats[0]}});console.log("Request create status:",f);const{status:D}=yield y.send(e);n.openSnackBar(202!==D.code?`Friend request failed.Code: ${D.code}, Details: ${D.detail}.`:"Friend request sent")})()}issueFriendVC(){var e=this;return(0,h.A)(function*(){const n=yield di.create({type:"FriendshipCredential",issuer:e.identity.did,subject:e.identity.did,data:null});console.log("VC:",n);const f=yield e.identity.activeAgent().identity.get({didUri:e.identity.did});if(f){const y=yield n.sign({did:f.did});console.log("VC JWT:",y);const{record:D}=yield e.identity.web5.dwn.records.create({data:y,message:{schema:"FriendsCredential",dataFormat:"application/vc+jwt",published:!0}});console.log("VC RECORD:",D);const k=yield D.data.text();console.log("READ SIGNED VC:",k);const re=di.parseJwt({vcJwt:k});console.log("PARSED VC:",re);const L=yield di.create({type:"FriendshipCredential",issuer:e.identity.did,subject:e.identity.did,data:{vc:y}});console.log("FINAL VC:",L);const B=yield n.sign({did:f.did});console.log("VC FINAL JWT:",B);const se=di.parseJwt({vcJwt:B});console.log("PARSED FINAL VC:",se)}})()}loadUserProfile(e){var n=this;return(0,h.A)(function*(){const f=yield n.profileService.loadProfile(e);n.data.set(f),console.log(f),console.log("PROFILE SET!!!")})()}openSnackBar(e){this._snackBar.open(e,void 0,{duration:2e3})}copyDID(e){var n=this;return(0,h.A)(function*(){try{yield navigator.clipboard.writeText(e),n.openSnackBar("DID copied to clipboard")}catch(f){console.error("Failed to copy: ",f)}})()}showQR(e){this.dialog.open(b,{data:{did:e}})}shareProfile(e){var n=this;return(0,h.A)(function*(){const y=document.location.href;try{yield navigator.share({title:"SondreB (Voluntaryist)",url:y,text:"Check out this profile on Ariton"}),n.openSnackBar("Thanks for sharing!")}catch(k){n.openSnackBar(`Couldn't share ${k}`)}})()}static#e=this.\u0275fac=function(n){return new(n||t)(a.rXU(w.bZ),a.rXU(lm.up),a.rXU(dm.UG),a.rXU(u.nX))};static#t=this.\u0275cmp=a.VBU({type:t,selectors:[["app-profile"]],standalone:!0,features:[a.aNF],decls:2,vars:1,consts:[["menuProfile","matMenu"],[1,"profile-header"],["onerror","this.src='/avatar-placeholder.png';this.onerror='';",1,"profile-header-icon",3,"src"],["src","/avatar-placeholder.png",1,"profile-header-icon"],[1,"profile-header-text"],[1,"ellipsis"],[1,"spacer"],["mat-icon-button","",3,"matMenuTriggerFor"],["disabled","true","mat-menu-item","",3,"routerLink"],["mat-menu-item","",3,"click"],["disabled","true","mat-menu-item",""],[1,"profile-content"],["mat-tab-label",""],[1,"about-tab-container"],[1,"profile-items"],[1,"profile-bio"],["mat-button","",3,"click"],["mat-menu-item","",3,"routerLink"],[1,"example-tab-icon"]],template:function(n,f){1&n&&a.DNE(0,Em,82,13)(1,Sm,1,0,"mat-spinner"),2&n&&a.vxM(f.data()?0:1)},dependencies:[w.hM,l.d,p.RI,p.ES,p.mq,p.T8,g.m_,g.An,v.Hl,v.$z,v.iY,c.Cn,c.kk,c.fb,c.Cp,u.Wk,m.w,m.q,C.MD,_.D6,_.LG],styles:[".profile-header[_ngcontent-%COMP%]{display:flex;gap:1em;align-items:center}.profile-header-icon[_ngcontent-%COMP%]{border-radius:50%;width:128px}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:300}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}h1[_ngcontent-%COMP%]{margin:0;padding:0}.example-tab-icon[_ngcontent-%COMP%]{margin-right:8px}.profile-content[_ngcontent-%COMP%]{margin-top:.4em}.about-tab-container[_ngcontent-%COMP%]{padding:1em}.profile-items[_ngcontent-%COMP%]{display:flex;align-items:center}.profile-items[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;margin-left:.2em;margin-right:1em}.profile-bio[_ngcontent-%COMP%]{margin-top:1em}.profile-header-text[_ngcontent-%COMP%]{width:100%}@media (max-width: 959.98px){.profile-header[_ngcontent-%COMP%]{gap:.2em;flex-direction:column}}"]})}return t})()},15315:(X,d,s)=>{"use strict";var R,h=Object.defineProperty,a=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(R,J)=>{var W={};for(var ce in R)g.call(R,ce)&&J.indexOf(ce)<0&&(W[ce]=R[ce]);if(null!=R&&m)for(var ce of m(R))J.indexOf(ce)<0&&c.call(R,ce)&&(W[ce]=R[ce]);return W},l=(R,J,W)=>new Promise((ce,M)=>{var Q=je=>{try{we(W.next(je))}catch(S){M(S)}},de=je=>{try{we(W.throw(je))}catch(S){M(S)}},we=je=>je.done?ce(je.value):Promise.resolve(je.value).then(Q,de);we((W=W.apply(R,J)).next())}),w={};((R,J)=>{for(var W in J)h(R,W,{get:J[W],enumerable:!0})})(w,{createHashMapping:()=>z,createHashMappingSync:()=>ee,decodeJwt:()=>A,decodeSdJwt:()=>_,decodeSdJwtSync:()=>N,getClaims:()=>O,getClaimsSync:()=>j,getSDAlgAndPayload:()=>ie,splitSdJwt:()=>C,unpack:()=>x,unpackArray:()=>F,unpackObj:()=>T,unpackSync:()=>H}),X.exports=(R=w,((R,J,W,ce)=>{if(J&&"object"==typeof J||"function"==typeof J)for(let M of v(J))!g.call(R,M)&&undefined!==M&&h(R,M,{get:()=>J[M],enumerable:!(ce=a(J,M))||ce.enumerable});return R})(h({},"__esModule",{value:!0}),R));var E=s(47862),b=s(29994),A=R=>{const{0:J,1:W,2:ce,length:M}=R.split(".");if(3!==M)throw new E.SDJWTException("Invalid JWT as input");return{header:JSON.parse((0,E.base64urlDecode)(J)),payload:JSON.parse((0,E.base64urlDecode)(W)),signature:ce}},C=R=>{const[J,...W]=R.split(b.SD_SEPARATOR);if(0===W.length)return{jwt:J,disclosures:[]};const ce=W.pop();return{jwt:J,disclosures:W,kbJwt:ce||void 0}},_=(R,J)=>l(void 0,null,function*(){const[W,...ce]=R.split(b.SD_SEPARATOR),M=A(W);if(0===ce.length)return{jwt:M,disclosures:[]};const Q=ce.pop(),de=Q?A(Q):void 0,{_sd_alg:we}=ie(M.payload);return{jwt:M,disclosures:yield Promise.all(ce.map(S=>E.Disclosure.fromEncode(S,{alg:we,hasher:J}))),kbJwt:de}}),N=(R,J)=>{const[W,...ce]=R.split(b.SD_SEPARATOR),M=A(W);if(0===ce.length)return{jwt:M,disclosures:[]};const Q=ce.pop(),de=Q?A(Q):void 0,{_sd_alg:we}=ie(M.payload);return{jwt:M,disclosures:ce.map(S=>E.Disclosure.fromEncodeSync(S,{alg:we,hasher:J})),kbJwt:de}},O=(R,J,W)=>l(void 0,null,function*(){const{unpackedObj:ce}=yield x(R,J,W);return ce}),j=(R,J,W)=>{const{unpackedObj:ce}=H(R,J,W);return ce},F=(R,J,W="")=>{const ce={},M=[];return R.forEach((Q,de)=>{if("object"==typeof Q&&null!==Q){const we=Q[b.SD_LIST_KEY];if(we){const je=J[we];if(je){const S=W?`${W}.${de}`:`${de}`;ce[S]=we;const{unpackedObj:I,disclosureKeymap:G}=T(je.value,J,S);M.push(I),Object.assign(ce,G)}}else{const je=W?`${W}.${de}`:`${de}`,{unpackedObj:S,disclosureKeymap:I}=T(Q,J,je);M.push(S),Object.assign(ce,I)}}else M.push(Q)}),{unpackedObj:M,disclosureKeymap:ce}},T=(R,J,W="")=>{const ce={};if("object"==typeof R&&null!==R){if(Array.isArray(R))return F(R,J,W);for(const S in R)if(S!==b.SD_DIGEST&&S!==b.SD_LIST_KEY&&"object"==typeof R[S]){const I=W?`${W}.${S}`:S,{unpackedObj:G,disclosureKeymap:K}=T(R[S],J,I);R[S]=G,Object.assign(ce,K)}const M=R,{_sd:Q}=M,de=u(M,["_sd"]),we={};if(Q)for(const S of Q){const I=J[S];if(I?.key){const G=W?`${W}.${I.key}`:I.key;ce[G]=S;const{unpackedObj:K,disclosureKeymap:q}=T(I.value,J,G);we[I.key]=K,Object.assign(ce,q)}}return{unpackedObj:Object.assign(de,we),disclosureKeymap:ce}}return{unpackedObj:R,disclosureKeymap:ce}},z=(R,J)=>l(void 0,null,function*(){const W={};for(let ce=0;ce<R.length;ce++){const M=R[ce];W[yield M.digest(J)]=M}return W}),ee=(R,J)=>{const W={};for(let ce=0;ce<R.length;ce++){const M=R[ce];W[M.digestSync(J)]=M}return W},ie=R=>{const J=R,{_sd_alg:W}=J,ce=u(J,["_sd_alg"]);return"string"!=typeof W?{_sd_alg:"sha-256",payload:ce}:{_sd_alg:W,payload:ce}},x=(R,J,W)=>l(void 0,null,function*(){const{_sd_alg:ce,payload:M}=ie(R),de=yield z(J,{hasher:W,alg:ce});return T(M,de)}),H=(R,J,W)=>{const{_sd_alg:ce,payload:M}=ie(R),de=ee(J,{hasher:W,alg:ce});return T(M,de)}},22084:(X,d,s)=>{"use strict";var j,h=Object.defineProperty,a=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,m=Object.prototype.hasOwnProperty,i=(j,F,T)=>new Promise((z,ee)=>{var ie=R=>{try{H(T.next(R))}catch(J){ee(J)}},x=R=>{try{H(T.throw(R))}catch(J){ee(J)}},H=R=>R.done?z(R.value):Promise.resolve(R.value).then(ie,x);H((T=T.apply(j,F)).next())}),p={};((j,F)=>{for(var T in F)h(j,T,{get:F[T],enumerable:!0})})(p,{createHashMappingForSerializedDisclosure:()=>N,present:()=>A,presentSync:()=>C,presentableKeys:()=>E,presentableKeysSync:()=>b,selectDisclosures:()=>O,transformPresentationFrame:()=>_}),X.exports=(j=p,((j,F,T,z)=>{if(F&&"object"==typeof F||"function"==typeof F)for(let ee of v(F))!m.call(j,ee)&&undefined!==ee&&h(j,ee,{get:()=>F[ee],enumerable:!(z=a(F,ee))||z.enumerable});return j})(h({},"__esModule",{value:!0}),j));var o=s(29994),l=s(47862),w=s(15315),E=(j,F,T)=>i(void 0,null,function*(){const{disclosureKeymap:z}=yield(0,w.unpack)(j,F,T);return Object.keys(z).sort()}),b=(j,F,T)=>{const{disclosureKeymap:z}=(0,w.unpackSync)(j,F,T);return Object.keys(z).sort()},A=(j,F,T)=>i(void 0,null,function*(){const{jwt:z,kbJwt:ee}=(0,w.splitSdJwt)(j),{jwt:{payload:ie},disclosures:x}=yield(0,w.decodeSdJwt)(j,T),{_sd_alg:H}=(0,w.getSDAlgAndPayload)(ie),R={alg:H,hasher:T},J=_(F),W=yield(0,w.createHashMapping)(x,R),{disclosureKeymap:ce}=yield(0,w.unpack)(ie,x,T);return[z,...J.map(Q=>W[ce[Q]]).filter(Q=>void 0!==Q).map(Q=>Q.encode()),ee??""].join(o.SD_SEPARATOR)}),C=(j,F,T)=>{const{jwt:z,kbJwt:ee}=(0,w.splitSdJwt)(j),{jwt:{payload:ie},disclosures:x}=(0,w.decodeSdJwtSync)(j,T),{_sd_alg:H}=(0,w.getSDAlgAndPayload)(ie),R={alg:H,hasher:T},J=_(F),W=(0,w.createHashMappingSync)(x,R),{disclosureKeymap:ce}=(0,w.unpackSync)(ie,x,T);return[z,...J.map(Q=>W[ce[Q]]).filter(Q=>void 0!==Q).map(Q=>Q.encode()),ee??""].join(o.SD_SEPARATOR)},_=(j,F="")=>Object.entries(j).reduce((T,[z,ee])=>{const ie=F?`${F}.${z}`:z;return"boolean"==typeof ee?ee&&T.push(ie):T.push(ie,..._(ee,ie)),T},[]),N=j=>{const F={};for(let T=0;T<j.length;T++){const z=j[T],{digest:ee,encoded:ie,key:x,salt:H,value:R}=z;F[ee]=l.Disclosure.fromArray(x?[H,x,R]:[H,R],{digest:ee,encoded:ie})}return F},O=(j,F,T)=>{if(0===F.length)return[];const z=N(F),{disclosureKeymap:ee}=(0,w.unpackObj)(j,z);return _(T).map(R=>z[ee[R]]).filter(R=>void 0!==R).map(R=>{const{salt:J,key:W,value:ce,_digest:M}=R;if(!M)throw new l.SDJWTException("Implementation error: _digest is not defined");return{digest:M,encoded:R.encode(),salt:J,key:W,value:ce}})}},29994:X=>{"use strict";var w,d=Object.defineProperty,s=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c={};((w,E)=>{for(var b in E)d(w,b,{get:E[b],enumerable:!0})})(c,{KB_JWT_TYP:()=>l,SD_DECOY:()=>o,SD_DIGEST:()=>p,SD_LIST_KEY:()=>i,SD_SEPARATOR:()=>u}),X.exports=(w=c,((w,E,b,A)=>{if(E&&"object"==typeof E||"function"==typeof E)for(let C of h(E))!a.call(w,C)&&undefined!==C&&d(w,C,{get:()=>E[C],enumerable:!(A=s(E,C))||A.enumerable});return w})(d({},"__esModule",{value:!0}),w));var u="~",i="...",p="_sd",o="_sd_decoy",l="kb+jwt"},47862:(X,d,s)=>{"use strict";var C,h=Object.defineProperty,a=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,m=Object.prototype.hasOwnProperty,i=(C,_,N)=>new Promise((O,j)=>{var F=ee=>{try{z(N.next(ee))}catch(ie){j(ie)}},T=ee=>{try{z(N.throw(ee))}catch(ie){j(ie)}},z=ee=>ee.done?O(ee.value):Promise.resolve(ee.value).then(F,T);z((N=N.apply(C,_)).next())}),p={};((C,_)=>{for(var N in _)h(C,N,{get:_[N],enumerable:!0})})(p,{Disclosure:()=>A,SDJWTException:()=>b,base64urlDecode:()=>w,base64urlEncode:()=>l,uint8ArrayToBase64Url:()=>E}),X.exports=(C=p,((C,_,N,O)=>{if(_&&"object"==typeof _||"function"==typeof _)for(let j of v(_))!m.call(C,j)&&undefined!==j&&h(C,j,{get:()=>_[j],enumerable:!(O=a(_,j))||O.enumerable});return C})(h({},"__esModule",{value:!0}),C));var o=s(12398),l=o.Base64.encodeURI,w=o.Base64.decode,E=C=>o.Base64.fromUint8Array(C,!0),b=class gl extends Error{constructor(_,N){super(_),Object.setPrototypeOf(this,gl.prototype),this.name="SDJWTException",this.details=N}getFullMessage(){return`${this.name}: ${this.message} ${this.details?`- ${JSON.stringify(this.details)}`:""}`}},A=class Oo{constructor(_,N){if(this._digest=N?.digest,this._encoded=N?.encoded,2===_.length)return this.salt=_[0],void(this.value=_[1]);if(3===_.length)return this.salt=_[0],this.key=_[1],void(this.value=_[2]);throw new b("Invalid disclosure data")}static fromEncode(_,N){return i(this,null,function*(){const{hasher:O,alg:j}=N,F=yield O(_,j),T=E(F),z=JSON.parse(w(_));return Oo.fromArray(z,{digest:T,encoded:_})})}static fromEncodeSync(_,N){const{hasher:O,alg:j}=N,F=O(_,j),T=E(F),z=JSON.parse(w(_));return Oo.fromArray(z,{digest:T,encoded:_})}static fromArray(_,N){return new Oo(_,N)}encode(){return this._encoded||(this._encoded=l(JSON.stringify(this.decode()))),this._encoded}decode(){return this.key?[this.salt,this.key,this.value]:[this.salt,this.value]}digest(_){return i(this,null,function*(){const{hasher:N,alg:O}=_;if(!this._digest){const j=yield N(this.encode(),O);this._digest=E(j)}return this._digest})}digestSync(_){const{hasher:N,alg:O}=_;if(!this._digest){const j=N(this.encode(),O);this._digest=E(j)}return this._digest}}},47636:function(X,d,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(v,m,g,c){void 0===c&&(c=g);var u=Object.getOwnPropertyDescriptor(m,g);(!u||("get"in u?!m.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return m[g]}}),Object.defineProperty(v,c,u)}:function(v,m,g,c){void 0===c&&(c=g),v[c]=m[g]}),a=this&&this.__exportStar||function(v,m){for(var g in v)"default"!==g&&!Object.prototype.hasOwnProperty.call(m,g)&&h(m,v,g)};Object.defineProperty(d,"__esModule",{value:!0}),a(s(83858),d)},66091:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},80723:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},25515:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},18414:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},95517:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},37728:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},39762:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.Directives=void 0,d.Directives={Required:"required",Allowed:"allowed",Disallowed:"disallowed"}},891:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.ExchangeStatus=void 0,d.ExchangeStatus={Created:"CREATED",Submitted:"SUBMITTED",HolderDeclined:"HOLDER_DECLINED",Expired:"EXPIRED",Accepted:"ACCEPTED",VerifierDeclined:"VERIFIER_DECLINED"}},67847:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},40826:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},56911:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},17954:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},79506:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},23843:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},39711:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},5179:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},68020:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},54078:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},81755:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},83947:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},73725:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},87260:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},75873:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},83858:function(X,d,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(v,m,g,c){void 0===c&&(c=g);var u=Object.getOwnPropertyDescriptor(m,g);(!u||("get"in u?!m.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return m[g]}}),Object.defineProperty(v,c,u)}:function(v,m,g,c){void 0===c&&(c=g),v[c]=m[g]}),a=this&&this.__exportStar||function(v,m){for(var g in v)"default"!==g&&!Object.prototype.hasOwnProperty.call(m,g)&&h(m,v,g)};Object.defineProperty(d,"__esModule",{value:!0}),a(s(66091),d),a(s(80723),d),a(s(25515),d),a(s(18414),d),a(s(95517),d),a(s(37728),d),a(s(39762),d),a(s(891),d),a(s(67847),d),a(s(40826),d),a(s(56911),d),a(s(17954),d),a(s(79506),d),a(s(23843),d),a(s(39711),d),a(s(5179),d),a(s(68020),d),a(s(54078),d),a(s(81755),d),a(s(83947),d),a(s(73725),d),a(s(87260),d),a(s(75873),d),a(s(99959),d),a(s(41787),d),a(s(25526),d),a(s(8946),d),a(s(62704),d),a(s(13065),d),a(s(42834),d),a(s(32206),d),a(s(35723),d),a(s(31748),d),a(s(80125),d),a(s(9668),d),a(s(57669),d),a(s(56179),d),a(s(79369),d),a(s(6982),d),a(s(46521),d),a(s(28858),d),a(s(78029),d),a(s(3296),d)},99959:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},41787:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},25526:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.Optionality=void 0,d.Optionality={Required:"required",Preferred:"preferred"}},8946:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},62704:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},13065:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},42834:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},32206:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},35723:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},31748:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},80125:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},9668:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},57669:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.Rules=void 0,d.Rules={All:"all",Pick:"pick"}},56179:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},79369:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},6982:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.Status=void 0,d.Status={Success:"SUCCESS",Warn:"WARN",Error:"ERROR"}},46521:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},28858:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},78029:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},3296:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},30720:(X,d,s)=>{"use strict";d.E8=void 0;const a=s(2700);Object.defineProperty(d,"E8",{enumerable:!0,get:function(){return a.PEX}})},55776:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.hasErrors=d.Checked=d.Status=void 0,d.Status={INFO:"info",WARN:"warn",ERROR:"error"},d.Checked=class{constructor(a,v,m){this.tag=a,this.status=v,this.message=m}},d.hasErrors=a=>a.filter(m=>function v(m){return m.status===d.Status.ERROR}(m)).length>0},97889:function(X,d,s){"use strict";var h=this&&this.__awaiter||function(o,l,w,E){return new(w||(w=Promise))(function(A,C){function _(j){try{O(E.next(j))}catch(F){C(F)}}function N(j){try{O(E.throw(j))}catch(F){C(F)}}function O(j){j.done?A(j.value):function b(A){return A instanceof w?A:new w(function(C){C(A)})}(j.value).then(_,N)}O((E=E.apply(o,l||[])).next())})};Object.defineProperty(d,"__esModule",{value:!0}),d.PEX=void 0;const a=s(11151),v=s(55776),m=s(70143),g=s(64864),c=s(99938),u=s(13486),i=s(80930);class p{constructor(l){this._evaluationClientWrapper=new m.EvaluationClientWrapper,this.options=l}evaluatePresentation(l,w,E){var b,A,C;const _=void 0!==E?.generatePresentationSubmission?E.generatePresentationSubmission:void 0===E?.presentationSubmission,N=c.SSITypesBuilder.toInternalPresentationDefinition(l),O=JSON.parse(JSON.stringify(w)),j=c.SSITypesBuilder.mapExternalVerifiablePresentationToWrappedVP(O,null===(b=this.options)||void 0===b?void 0:b.hasher),F=null!==(A=E?.presentationSubmission)&&void 0!==A?A:j.decoded.presentation_submission;if(!F&&!_)throw Error("Either a presentation submission as part of the VP or provided separately was expected");const T=a.CredentialMapper.isW3cPresentation(j.presentation)&&j.presentation.holder?[j.presentation.holder]:[],z=Object.assign(Object.assign({},E),{holderDIDs:T,presentationSubmission:F,generatePresentationSubmission:_}),ee=this._evaluationClientWrapper.evaluate(N,j.vcs,z);return!(null===(C=ee.value)||void 0===C)&&C.descriptor_map.length&&(new m.EvaluationClientWrapper).selectFrom(N,j.vcs,z).areRequiredCredentialsPresent!==v.Status.ERROR&&(ee.errors=[]),ee}evaluateCredentials(l,w,E){var b;const A=c.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(w,null===(b=this.options)||void 0===b?void 0:b.hasher);this._evaluationClientWrapper=new m.EvaluationClientWrapper;const C=c.SSITypesBuilder.toInternalPresentationDefinition(l),_=this._evaluationClientWrapper.evaluate(C,A,E);if(_.value&&_.value.descriptor_map.length){const O=(new m.EvaluationClientWrapper).selectFrom(C,A,E);_.areRequiredCredentialsPresent=O.areRequiredCredentialsPresent,_.errors=O.errors}else _.areRequiredCredentialsPresent=v.Status.ERROR;return _}selectFrom(l,w,E){var b;const A=JSON.parse(JSON.stringify(w)),C=c.SSITypesBuilder.toInternalPresentationDefinition(l);return this._evaluationClientWrapper=new m.EvaluationClientWrapper,this._evaluationClientWrapper.selectFrom(C,c.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(A,null===(b=this.options)||void 0===b?void 0:b.hasher),E)}presentationSubmissionFrom(l,w,E){var b;const A=c.SSITypesBuilder.toInternalPresentationDefinition(l);return this._evaluationClientWrapper.submissionFrom(A,c.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(w,null===(b=this.options)||void 0===b?void 0:b.hasher),E)}presentationFrom(l,w,E){var b,A;const C=this.presentationSubmissionFrom(l,w,E),_=w.some(j=>a.CredentialMapper.isSdJwtDecodedCredential(j)||a.CredentialMapper.isSdJwtEncoded(j));if(E?.presentationSubmissionLocation===g.PresentationSubmissionLocation.PRESENTATION&&_)throw new Error("Presentation submission location cannot be set to presentation when creating a presentation with an SD-JWT VC");const N=null!==(b=E?.presentationSubmissionLocation)&&void 0!==b?b:_?g.PresentationSubmissionLocation.EXTERNAL:g.PresentationSubmissionLocation.PRESENTATION;return{presentation:p.constructPresentation(w,Object.assign(Object.assign({},E),{presentationSubmission:N===g.PresentationSubmissionLocation.PRESENTATION?C:void 0,hasher:null===(A=this.options)||void 0===A?void 0:A.hasher})),presentationSubmissionLocation:N,presentationSubmission:C}}static constructPresentation(l,w){var E,b,A,C;const _=Array.isArray(l)?l:[l];if(_.some(N=>a.CredentialMapper.isSdJwtDecodedCredential(N)||a.CredentialMapper.isSdJwtEncoded(N))){if(_.length>1)throw new Error("Only a single credential is supported when creating a presentation with an SD-JWT VC");if(w?.presentationSubmission)throw new Error("Presentation submission cannot be included in the presentation when creating a presentation with an SD-JWT VC");if(w?.basePresentationPayload)throw new Error("Base presentation payload cannot be when creating a presentation from an SD-JWT VC");const N=a.CredentialMapper.isSdJwtEncoded(_[0])?a.CredentialMapper.decodeVerifiableCredential(_[0],w?.hasher):_[0];if(!w?.hasher)throw new Error("Hasher must be provided when creating a presentation with an SD-JWT VC");const O=null!==(E=N.signedPayload._sd_alg)&&void 0!==E?E:"sha-256",j=(0,u.calculateSdHash)(N.compactSdJwtVc,O,w.hasher),F={header:{typ:"kb+jwt"},payload:{iat:(new Date).getTime(),_sd_hash:j}};return Object.assign(Object.assign({},N),{kbJwt:F})}{if(!l)throw Error("At least a verifiable credential needs to be passed in to create a presentation");const N=Array.isArray(l)?l:[l],O=N.map(ee=>a.CredentialMapper.toWrappedVerifiableCredential(ee)),j=Array.from(new Set(O.flatMap(ee=>(0,u.getSubjectIdsAsString)(ee.credential))));1!==j.length&&!w?.holderDID&&console.log(`We deduced ${j.length} subject from ${O.length} Verifiable Credentials, and no holder property was given. This might lead to undesired results`);const F=null!==(b=w?.holderDID)&&void 0!==b?b:1===j.length?j[0]:void 0,T=null!==(A=w?.basePresentationPayload)&&void 0!==A&&A.type?Array.isArray(w.basePresentationPayload.type)?w.basePresentationPayload.type:[w.basePresentationPayload.type]:[];T.includes("VerifiablePresentation")||T.push("VerifiablePresentation");const z=null!==(C=w?.basePresentationPayload)&&void 0!==C&&C["@context"]?Array.isArray(w.basePresentationPayload["@context"])?w.basePresentationPayload["@context"]:[w.basePresentationPayload["@context"]]:[];return z.includes("https://www.w3.org/2018/credentials/v1")||z.push("https://www.w3.org/2018/credentials/v1"),w?.presentationSubmission&&(T.includes("PresentationSubmission")||T.push("PresentationSubmission"),z.includes("https://identity.foundation/presentation-exchange/submission/v1")||z.push("https://identity.foundation/presentation-exchange/submission/v1")),Object.assign(Object.assign(Object.assign(Object.assign({},w?.basePresentationPayload),{"@context":z,type:T,holder:F}),!!w?.presentationSubmission&&{presentation_submission:w.presentationSubmission}),{verifiableCredential:N})}}static validateDefinition(l){const w=(0,u.definitionVersionDiscovery)(l);if(w.error)throw new Error(w.error);const E=[];return E.push(w.version===c.PEVersion.v1?{bundler:new i.PresentationDefinitionV1VB("root"),target:c.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(l)}:{bundler:new i.PresentationDefinitionV2VB("root"),target:c.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(l)}),(new i.ValidationEngine).validate(E)}static validateSubmission(l){return(new i.ValidationEngine).validate([{bundler:new i.PresentationSubmissionVB("root"),target:l}])}verifiablePresentationFrom(l,w,E,b){return h(this,void 0,void 0,function*(){var A,C;const{holderDID:_,signatureOptions:N,proofOptions:O}=b,F=_?[_]:[],T=function j(){let W=[];if(O?.typeSupportsSelectiveDisclosure){if(!O?.type)throw Error("Please provide a proof type if you enable selective disclosure");W=[O.type]}return W}(),z=this.evaluateCredentials(l,w,{holderDIDs:F,limitDisclosureSignatureSuites:T}),ee=this.presentationFrom(l,z.verifiableCredential,b),ie=this.evaluatePresentation(l,ee.presentation,Object.assign({limitDisclosureSignatureSuites:T},ee.presentationSubmissionLocation===g.PresentationSubmissionLocation.EXTERNAL&&{presentationSubmission:ee.presentationSubmission}));if(!ie.value)throw new Error("Could not get evaluation results from presentationResult");const x={type:O?.type,verificationMethod:N?.verificationMethod,created:O?.created?O.created:(new Date).toISOString(),proofPurpose:O?.proofPurpose,proofValue:N?.proofValue,jws:N?.jws,challenge:O?.challenge,nonce:O?.nonce,domain:O?.domain};let H=ee.presentation;if(a.CredentialMapper.isSdJwtDecodedCredential(ee.presentation)){if(null===(A=this.options)||void 0===A||!A.hasher)throw new Error("Hasher must be provided when creating a presentation with an SD-JWT VC");const W=null!==(C=ee.presentation.signedPayload._sd_alg)&&void 0!==C?C:"sha-256",ce=(0,u.calculateSdHash)(ee.presentation.compactSdJwtVc,W,this.options.hasher),M={header:{typ:"kb+jwt"},payload:{iat:(new Date).getTime(),nonce:O?.nonce,_sd_hash:ce}};H=Object.assign(Object.assign({},H),{kbJwt:M})}const R={options:Object.assign(Object.assign({},b),{presentationSubmissionLocation:ee.presentationSubmissionLocation}),presentation:H,presentationDefinition:l,selectedCredentials:w,proof:x,presentationSubmission:ie.value,evaluationResults:ie};return{verifiablePresentation:yield E(R),presentationSubmissionLocation:ee.presentationSubmissionLocation,presentationSubmission:ie.value}})}static definitionVersionDiscovery(l){return(0,u.definitionVersionDiscovery)(l)}}d.PEX=p},38992:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.PEXv1=void 0;const h=s(11151),a=s(97889),v=s(70143),m=s(64864),g=s(99938),c=s(80930);d.PEXv1=class u extends a.PEX{evaluatePresentation(p,o,l){return g.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(p),super.evaluatePresentation(p,o,l)}evaluateCredentials(p,o,l){return g.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(p),super.evaluateCredentials(p,o,l)}selectFrom(p,o,l){const w=JSON.parse(JSON.stringify(o));return this._evaluationClientWrapper=new v.EvaluationClientWrapper,this._evaluationClientWrapper.selectFrom(g.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(p),g.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(w),l)}presentationFrom(p,o,l){var w;const E=this._evaluationClientWrapper.submissionFrom(g.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(p),g.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(o),l),b=o.some(_=>h.CredentialMapper.isSdJwtDecodedCredential(_)||h.CredentialMapper.isSdJwtEncoded(_));if(l?.presentationSubmissionLocation===m.PresentationSubmissionLocation.PRESENTATION&&b)throw new Error("Presentation submission location cannot be set to presentation when creating a presentation with an SD-JWT VC");const A=null!==(w=l?.presentationSubmissionLocation)&&void 0!==w?w:b?m.PresentationSubmissionLocation.EXTERNAL:m.PresentationSubmissionLocation.PRESENTATION;return{presentation:a.PEX.constructPresentation(o,Object.assign(Object.assign({},l),{presentationSubmission:A===m.PresentationSubmissionLocation.PRESENTATION?E:void 0})),presentationSubmissionLocation:A,presentationSubmission:E}}static validateDefinition(p){const o=g.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(p);return(new c.ValidationEngine).validate([{bundler:new c.PresentationDefinitionV1VB("root"),target:o}])}static validateSubmission(p){return a.PEX.validateSubmission(p)}}},71945:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.PEXv2=void 0;const h=s(11151),a=s(97889),v=s(70143),m=s(64864),g=s(99938),c=s(80930);d.PEXv2=class u extends a.PEX{evaluatePresentation(p,o,l){return g.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(p),super.evaluatePresentation(p,o,l)}evaluateCredentials(p,o,l){return g.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(p),super.evaluateCredentials(p,o,l)}selectFrom(p,o,l){return this._evaluationClientWrapper=new v.EvaluationClientWrapper,this._evaluationClientWrapper.selectFrom(g.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(p),g.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(o),l)}presentationFrom(p,o,l){var w;const E=this._evaluationClientWrapper.submissionFrom(g.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(p),g.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(o),l),b=o.some(_=>h.CredentialMapper.isSdJwtDecodedCredential(_)||h.CredentialMapper.isSdJwtEncoded(_));if(l?.presentationSubmissionLocation===m.PresentationSubmissionLocation.PRESENTATION&&b)throw new Error("Presentation submission location cannot be set to presentation when creating a presentation with an SD-JWT VC");const A=null!==(w=l?.presentationSubmissionLocation)&&void 0!==w?w:b?m.PresentationSubmissionLocation.EXTERNAL:m.PresentationSubmissionLocation.PRESENTATION;return{presentation:a.PEX.constructPresentation(o,Object.assign(Object.assign({},l),{presentationSubmission:A===m.PresentationSubmissionLocation.PRESENTATION?E:void 0})),presentationSubmissionLocation:A,presentationSubmission:E}}static validateDefinition(p){const o=g.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(p);return(new c.ValidationEngine).validate([{bundler:new c.PresentationDefinitionV2VB("root"),target:o}])}static validateSubmission(p){return a.PEX.validateSubmission(p)}}},38947:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},45994:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.HandlerCheckResult=void 0,d.HandlerCheckResult=class{constructor(h,a,v,m,g,c){this.input_descriptor_path=h,this.verifiable_credential_path=a,this.evaluator=v,this.status=m,this.message=g,this.payload=c}}},92127:function(X,d,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(v,m,g,c){void 0===c&&(c=g);var u=Object.getOwnPropertyDescriptor(m,g);(!u||("get"in u?!m.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return m[g]}}),Object.defineProperty(v,c,u)}:function(v,m,g,c){void 0===c&&(c=g),v[c]=m[g]}),a=this&&this.__exportStar||function(v,m){for(var g in v)"default"!==g&&!Object.prototype.hasOwnProperty.call(m,g)&&h(m,v,g)};Object.defineProperty(d,"__esModule",{value:!0}),a(s(38947),d),a(s(45994),d),a(s(83565),d),a(s(21235),d)},83565:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},21235:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},50950:function(X,d,s){"use strict";var h=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(d,"__esModule",{value:!0}),d.EvaluationClient=void 0;const a=s(11151),v=s(55776),m=h(s(24080)),g=s(13486),c=s(71001),u=[a.IProofType.BbsBlsSignatureProof2020,"DataIntegrityProof.anoncreds-2023"];d.EvaluationClient=class i{constructor(){this.failed_catched={tag:"root",status:v.Status.ERROR,message:m.default.UNKNOWN_EXCEPTION,stacktrace:""},this._results=[],this._wrappedVcs=[],this._presentationSubmission={},this._dids=[],this._limitDisclosureSignatureSuites=u,this._restrictToDIDMethods=[],this._generatePresentationSubmission=!0}evaluate(o,l,w){this._restrictToDIDMethods=w?.restrictToDIDMethods?(0,g.uniformDIDMethods)(w?.restrictToDIDMethods):[],this._dids=w?.holderDIDs?(0,g.filterToRestrictedDIDs)(w.holderDIDs,this._restrictToDIDMethods):[],this._limitDisclosureSignatureSuites=w?.limitDisclosureSignatureSuites,this._restrictToFormats=w?.restrictToFormats,this._generatePresentationSubmission=void 0===w?.generatePresentationSubmission||w.generatePresentationSubmission,w?.presentationSubmission&&(this._presentationSubmission=w.presentationSubmission);let E=this.initEvaluationHandlers();for(E?.handle(o,l);E?.hasNext();){E=E.getNext();try{E?.handle(o,l)}catch(b){throw this.failed_catched.message+=b.message,this.failed_catched.stacktrace=b,this.failed_catched}}}get results(){return this._results}get dids(){return this._dids}set dids(o){this._dids=o}assertPresentationSubmission(){if("string"==typeof this._presentationSubmission&&(console.log("Presentation submission present, but as string not object. External calls did not follow contract. Correcting"),this._presentationSubmission=JSON.parse(this._presentationSubmission)),!(this.generatePresentationSubmission||this.presentationSubmission&&0!==Object.keys(this.presentationSubmission).length))throw Error("No presentation submission present, but required option was set")}get generatePresentationSubmission(){return this._generatePresentationSubmission}set generatePresentationSubmission(o){this._generatePresentationSubmission=o}get presentationSubmission(){return this._presentationSubmission}set presentationSubmission(o){this._presentationSubmission=o}get wrappedVcs(){return this._wrappedVcs}set wrappedVcs(o){this._wrappedVcs=o}get limitDisclosureSignatureSuites(){return this._limitDisclosureSignatureSuites||u}set limitDisclosureSignatureSuites(o){this._limitDisclosureSignatureSuites=o}get restrictToDIDMethods(){return this._restrictToDIDMethods}set restrictToDIDMethods(o){this._restrictToDIDMethods=(0,g.uniformDIDMethods)(o)}hasRestrictToDIDMethods(){return this.restrictToDIDMethods&&this.restrictToDIDMethods.length>0}get restrictToFormats(){return this._restrictToFormats}set restrictToFormats(o){this._restrictToFormats=o}initEvaluationHandlers(){const o=new c.UriEvaluationHandler(this);return o.setNext(new c.DIDRestrictionEvaluationHandler(this)).setNext(new c.FormatRestrictionEvaluationHandler(this)).setNext(new c.InputDescriptorFilterEvaluationHandler(this)).setNext(new c.PredicateRelatedFieldEvaluationHandler(this)).setNext(new c.LimitDisclosureEvaluationHandler(this)).setNext(new c.SubjectIsIssuerEvaluationHandler(this)).setNext(new c.SubjectIsHolderEvaluationHandler(this)).setNext(new c.SameSubjectEvaluationHandler(this)).setNext(new c.MarkForSubmissionEvaluationHandler(this)),o}}},78995:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.EvaluationClientWrapper=void 0;const h=s(44273),a=s(47636),v=s(11151),m=s(55776),g=s(64864),c=s(13486),u=s(50950);d.EvaluationClientWrapper=class i{constructor(){this._client=new u.EvaluationClient}getEvaluationClient(){return this._client}selectFrom(o,l,w){var E;let b;this._client.evaluate(o,l,w);const A=[...this.formatNotInfo(m.Status.WARN)],C=[...this.formatNotInfo(m.Status.ERROR)];if(o.submission_requirements){const _=this._client.results.filter(z=>"MarkForSubmissionEvaluation"===z.evaluator&&z.payload.group&&z.status!==m.Status.ERROR),N=Array.from(new Set(_));let O;try{O=this.matchSubmissionRequirements(o,o.submission_requirements,N)}catch(z){const ee={status:m.Status.ERROR,message:JSON.stringify(z),tag:"matchSubmissionRequirements"};return{errors:C?[...C,ee]:[ee],warnings:A,areRequiredCredentialsPresent:m.Status.ERROR}}const F=this.extractMatches(O).map(z=>h.JSONPath.nodes(this._client.wrappedVcs.map(ee=>ee.original),z)[0].value),T=this.determineAreRequiredCredentialsPresent(o,O);b={errors:T===m.Status.INFO?[]:C,matches:[...O],areRequiredCredentialsPresent:T,verifiableCredential:F,warnings:A}}else{const _=this._client.results.filter(O=>"MarkForSubmissionEvaluation"===O.evaluator&&O.status!==m.Status.ERROR);if(this.checkWithoutSubmissionRequirements(_,o).length)return{errors:C,matches:[],areRequiredCredentialsPresent:m.Status.ERROR,verifiableCredential:l.map(O=>O.original),warnings:A};{const O=this.matchWithoutSubmissionRequirements(_,o),F=this.extractMatches(O).map(T=>h.JSONPath.nodes(this._client.wrappedVcs.map(z=>z.original),T)[0].value);b={errors:[],matches:[...O],areRequiredCredentialsPresent:m.Status.INFO,verifiableCredential:F,warnings:A}}}return this.fillSelectableCredentialsToVerifiableCredentialsMapping(b,l),b.areRequiredCredentialsPresent=this.determineAreRequiredCredentialsPresent(o,b?.matches),this.remapMatches(l.map(_=>_.original),b.matches,b?.verifiableCredential),null===(E=b.matches)||void 0===E||E.forEach(_=>{this.updateSubmissionRequirementMatchPathToAlias(_,"verifiableCredential")}),b.areRequiredCredentialsPresent===m.Status.INFO?b.errors=[]:(b.errors=C,b.warnings=A,b.verifiableCredential=l.map(_=>_.original)),b}remapMatches(o,l,w){l?.forEach(E=>{E.from_nested?this.remapMatches(o,E.from_nested,w):E.vc_path.forEach((b,A,C)=>{const _=h.JSONPath.query(o,b)[0],N=w?.findIndex(O=>JSON.stringify(O)===JSON.stringify(_));if(-1===N)throw new Error(`The index of the VerifiableCredential in your current call can't be found in your previously submitted credentials. Are you trying to send a new Credential?\nverifiableCredential: ${_}`);C[A]=`$[${N}]`})})}extractMatches(o){const l=[];return o.forEach(w=>{l.push(...w.vc_path),w.from_nested&&l.push(...this.extractMatches(w.from_nested))}),Array.from(new Set(l))}checkWithoutSubmissionRequirements(o,l){const w=[];if(!l.input_descriptors)return[];if(!o.length)return[{input_descriptor_path:"",evaluator:"checkWithoutSubmissionRequirement",verifiable_credential_path:"",status:m.Status.ERROR,payload:"Not all the InputDescriptors are addressed"}];const E=l.input_descriptors,b=c.ObjectUtils.getDistinctFieldInObject(o,"input_descriptor_path");if(b.length!==E.length){const A=b.map(C=>c.JsonPathUtils.extractInputField(l,[C])[0].value).map(C=>C.id);for(let C=0;C<l.input_descriptors.length;C++)-1==A.indexOf(l.input_descriptors[C].id)&&w.push({input_descriptor_path:`$.input_descriptors[${C}]`,evaluator:"checkWithoutSubmissionRequirement",verifiable_credential_path:"",status:m.Status.ERROR,payload:"Not all the InputDescriptors are addressed"})}return w}matchSubmissionRequirements(o,l,w){const E=[];for(const b of l){const A={name:o.name||o.id,rule:b.rule,vc_path:[]};if(b.from&&(A.from=b.from),b.min&&(A.min=b.min),b.max&&(A.max=b.max),b.count&&(A.count=b.count),b.from){const C=this.mapMatchingDescriptors(o,b,w);C&&(A.vc_path.push(...C.vc_path),A.name=C.name,E.push(A))}else{if(!b.from_nested)throw new Error("Invalid SubmissionRequirement object: Must contain either 'from' or 'from_nested'");try{A.from_nested=this.matchSubmissionRequirements(o,b.from_nested,w),E.push(A)}catch(C){throw new Error(`Error in handling value of from_nested: ${b.from_nested}: err: ${C}`)}}}return E}matchWithoutSubmissionRequirements(o,l){const w=[],E=this.createIdToVcMap(o);for(const[b,A]of E.entries())if(A&&A.length)for(const C of A){const _=c.JsonPathUtils.extractInputField(l,[b]);_.length&&w.push({name:_[0].value.name||_[0].value.id,rule:a.Rules.All,vc_path:[C]})}return this.removeDuplicateSubmissionRequirementMatches(w)}mapMatchingDescriptors(o,l,w){var E;const b={rule:l.rule,vc_path:[]};if(l?.from){b.from=l.from;for(const A of w){const C=h.JSONPath.query(o,A.input_descriptor_path)[0];C.group&&-1===C.group.indexOf(l.from)||(b.name=C.name||C.id,A.payload.group.includes(l.from)&&-1===(null===(E=b.vc_path)||void 0===E?void 0:E.indexOf(A.verifiable_credential_path))&&b.vc_path.push(A.verifiable_credential_path))}}return b}evaluate(o,l,w){var E,b,A,C;this._client.evaluate(o,l,w);const _={areRequiredCredentialsPresent:m.Status.INFO,verifiableCredential:l.map(N=>N.original)};if(_.warnings=this.formatNotInfo(m.Status.WARN),_.errors=this.formatNotInfo(m.Status.ERROR),this._client.assertPresentationSubmission(),null!==(E=this._client.presentationSubmission)&&void 0!==E&&E.descriptor_map.length){const N=null===(b=this._client.presentationSubmission)||void 0===b?void 0:b.descriptor_map.length;for(let O=0;O<N;O++)this._client.presentationSubmission.descriptor_map[O]&&this._client.presentationSubmission.descriptor_map.push(this._client.presentationSubmission.descriptor_map[O]);this._client.presentationSubmission.descriptor_map.splice(0,N),_.value=JSON.parse(JSON.stringify(this._client.presentationSubmission))}return this._client.generatePresentationSubmission&&this.updatePresentationSubmissionPathToVpPath(_.value),_.verifiableCredential=this._client.wrappedVcs.map(N=>N.original),_.areRequiredCredentialsPresent=null!==(C=null===(A=_.value)||void 0===A?void 0:A.descriptor_map)&&void 0!==C&&C.length?m.Status.INFO:m.Status.ERROR,_}formatNotInfo(o){return this._client.results.filter(l=>l.status===o).map(l=>{const w=l.verifiable_credential_path.substring(1);return{tag:l.evaluator,status:l.status,message:`${l.message}: ${l.input_descriptor_path}: $.verifiableCredential${w}`}})}submissionFrom(o,l,w){if(!this._client.results.length)throw Error("You need to call evaluate() before pex.presentationFrom()");if(!this._client.generatePresentationSubmission)return this._client.presentationSubmission;if(o.submission_requirements){const A=this._client.results.filter(F=>"MarkForSubmissionEvaluation"===F.evaluator&&F.payload.group&&F.status!==m.Status.ERROR),[C,_]=this.matchUserSelectedVcs(A,l),N=new Map;"input_descriptors"in o&&o.input_descriptors.forEach(F=>{F.group&&F.group.forEach(T=>{N.has(T)?N.set(T,N.get(T)+1):N.set(T,1)})});const O=this.evaluateRequirements(o.submission_requirements,C,N,0),j=_.filter(F=>O[1].find(T=>T.verifiable_credential_path===F[1]));return this.updatePresentationSubmission(j),this.updatePresentationSubmissionPathToVpPath(),w?.presentationSubmissionLocation===g.PresentationSubmissionLocation.EXTERNAL&&this.updatePresentationSubmissionToExternal(),this._client.presentationSubmission}const E=this._client.results.filter(A=>"MarkForSubmissionEvaluation"===A.evaluator&&A.status!==m.Status.ERROR),b=this.matchUserSelectedVcs(E,l);return this.updatePresentationSubmission(b[1]),this.updatePresentationSubmissionPathToVpPath(),w?.presentationSubmissionLocation===g.PresentationSubmissionLocation.EXTERNAL&&this.updatePresentationSubmissionToExternal(),this._client.presentationSubmission}updatePresentationSubmission(o){this._client.generatePresentationSubmission&&(this._client.presentationSubmission.descriptor_map=this._client.presentationSubmission.descriptor_map.filter(l=>o.find(w=>w[0]===l.path)).map(l=>{const w=o.find(E=>E[0]===l.path);return w&&(l.path=w[1]),l}))}updatePresentationSubmissionToExternal(){this._client.presentationSubmission.descriptor_map=this._client.presentationSubmission.descriptor_map.map(l=>{if(l.path_nested)return l;if("vc+sd-jwt"===l.format)return l;const w=l.format,E=Object.assign({},l);return E.path_nested=Object.assign({},l),E.path="$",w.startsWith("ldp_")?E.format="ldp_vp":w.startsWith("di_")?E.format="di_vp":"jwt_vc"===w?(E.format="jwt_vp",E.path_nested.path=E.path_nested.path.replace("$.verifiableCredential[","$.vp.verifiableCredential[")):"jwt_vc_json"===w&&(E.format="jwt_vp_json",E.path_nested.path=E.path_nested.path.replace("$.verifiableCredential[","$.vp.verifiableCredential[")),E})}matchUserSelectedVcs(o,l){const w=l.map((A,C)=>[C,JSON.stringify(A.original)]),E=this._client.wrappedVcs.map((A,C)=>[C,JSON.stringify(A.original)]),b=[];return w.forEach((A,C)=>{E.forEach((_,N)=>{_[1]===A[1]&&b.push([`$[${N}]`,`$[${C}]`])})}),[o=o.filter(A=>b.find(C=>C[0]===A.verifiable_credential_path)).map(A=>{const C=b.find(_=>_[0]===A.verifiable_credential_path);return C&&(A.verifiable_credential_path=C[1]),A}),b]}evaluateRequirements(o,l,w,E){let b=0;const A=[];for(const C of o)if(C.from){if(C.rule===a.Rules.All){const[_,N]=this.countMatchingInputDescriptors(C,l);if(_!==(w.get(C.from)||0))throw Error(`Not all input descriptors are members of group ${C.from}`);b++,A.push(...N)}else if(C.rule===a.Rules.Pick){const[_,N]=this.countMatchingInputDescriptors(C,l);try{this.handleCount(C,_,E),b++}catch(O){if(0===E)throw O}A.push(...N)}}else if(C.from_nested){const[_,N]=this.evaluateRequirements(C.from_nested,l,w,++E);b+=_,A.push(...N),this.handleCount(C,_,E)}return[b,A]}countMatchingInputDescriptors(o,l){let w=0;const E=[];for(const b of l)b.payload.group.includes(o.from)&&(E.push(b),w++);return[w,E]}handleCount(o,l,w){if(o.count&&l!==o.count)throw Error(`Count: expected: ${o.count} actual: ${l} at level: ${w}`);if(o.min&&l<o.min)throw Error(`Min: expected: ${o.min} actual: ${l} at level: ${w}`);if(o.max&&l>o.max)throw Error(`Max: expected: ${o.max} actual: ${l} at level: ${w}`)}removeDuplicateSubmissionRequirementMatches(o){return o.filter((l,w)=>{const E=JSON.stringify(l);return w===o.findIndex(b=>JSON.stringify(b)===E)})}fillSelectableCredentialsToVerifiableCredentialsMapping(o,l){var w;o&&(null===(w=o.verifiableCredential)||void 0===w||w.forEach(E=>{var b;const A=l.findIndex(C=>v.CredentialMapper.areOriginalVerifiableCredentialsEqual(C.original,E));if(-1===A)throw new Error("index is not right");null===(b=o.vcIndexes)||void 0===b||b.push(A)}))}determineAreRequiredCredentialsPresent(o,l,w){if(!l||!l.length)return m.Status.ERROR;const E=l.map(b=>this.determineSubmissionRequirementStatus(o,b));if(!w)return E.includes(m.Status.ERROR)?m.Status.ERROR:E.includes(m.Status.WARN)?m.Status.WARN:m.Status.INFO;{if(w.rule===a.Rules.All&&E.includes(m.Status.ERROR))return m.Status.ERROR;const b=E.filter(A=>A!==m.Status.ERROR).length;if(w.count)return w.count>b?m.Status.ERROR:w.count<b?m.Status.WARN:m.Status.INFO;if(w.min&&w.min>b)return m.Status.ERROR;if(w.max&&w.max<b)return m.Status.WARN}return m.Status.INFO}determineSubmissionRequirementStatus(o,l){if(l.from&&l.from_nested)throw new Error("Invalid submission_requirement object: MUST contain either a from or from_nested property.");if(!l.from&&!l.from_nested&&1!==l.vc_path.length)return m.Status.ERROR;if(l.from){const w=this.countGroupIDs(o.input_descriptors,l.from);switch(l.rule){case a.Rules.All:return l.vc_path.length===w?m.Status.INFO:m.Status.WARN;case a.Rules.Pick:return this.getPickRuleStatus(l);default:return m.Status.ERROR}}else if(l.from_nested)return this.determineAreRequiredCredentialsPresent(o,l.from_nested,l);return m.Status.INFO}getPickRuleStatus(o){return 0===o.vc_path.length?m.Status.ERROR:o.count&&o.vc_path.length!==o.count?o.vc_path.length>o.count?m.Status.WARN:m.Status.ERROR:o.min&&o.vc_path.length<o.min?m.Status.ERROR:o.max&&o.vc_path.length>o.max?m.Status.WARN:m.Status.INFO}updateSubmissionRequirementMatchPathToAlias(o,l){const w=[];o.vc_path.forEach(E=>{w.push(E.replace("$","$."+l))}),o.vc_path=w,o.from_nested&&o.from_nested.forEach(E=>{this.updateSubmissionRequirementMatchPathToAlias(E,l)})}updatePresentationSubmissionPathToVpPath(o){const l=o?o.descriptor_map:this._client.generatePresentationSubmission?this._client.presentationSubmission.descriptor_map:void 0;l?.forEach(w=>{"vc+sd-jwt"===w.format?w.path="$":this.replacePathWithAlias(w,"verifiableCredential")})}replacePathWithAlias(o,l){o.path=o.path.replace("$[",`$.${l}[`),o.path_nested&&this.replacePathWithAlias(o.path_nested,l)}createIdToVcMap(o){const l=new Map,w=new Map;for(let E=0;E<o.length;E++){const b=o[E].input_descriptor_path;if(w.has(b)){const A=w.get(b);A&&A.push(o[E])}else w.set(b,[o[E]])}for(const[E,b]of w.entries()){const A=[];for(let C=0;C<b.length;C++)-1===A.indexOf(b[C].verifiable_credential_path)&&A.push(b[C].verifiable_credential_path);l.set(E,A)}return l}countGroupIDs(o,l){let w=0;for(const E of o)E.group&&E.group.includes(l)&&w++;return w}}},32893:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.AbstractEvaluationHandler=void 0;const h=s(44273),a=s(55776);d.AbstractEvaluationHandler=class v{constructor(g){this._client=g}setNext(g){return this.nextHandler=g,g}getNext(){return this.nextHandler}hasNext(){return null!=this.nextHandler}get client(){return this._client}get wrappedVcs(){return this._client.wrappedVcs}set wrappedVcs(g){this._client.wrappedVcs=g}get presentationSubmission(){return this._client.presentationSubmission}set presentationSubmission(g){this._client.presentationSubmission=g}getResults(){return this._client.results}updatePresentationSubmission(g){this._client.assertPresentationSubmission(),this.presentationSubmission.descriptor_map.forEach((c,u,i)=>{let p;this.getResults().filter(l=>l.status===a.Status.ERROR&&l.evaluator===this.getName()).find(l=>(p=h.JSONPath.query(g,l.input_descriptor_path)[0],l.verifiable_credential_path===c.path&&p?.id===c.id))&&delete i[u]})}removeDuplicate(g){return g.reduce((c,u)=>c.find(p=>p.input_descriptor_path===u.input_descriptor_path&&p.verifiable_credential_path===u.verifiable_credential_path)?c:c.concat([u]),[])}}},4028:function(X,d,s){"use strict";var h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(d,"__esModule",{value:!0}),d.DIDRestrictionEvaluationHandler=void 0;const a=s(11151),v=s(55776),m=h(s(24080)),g=s(13486),c=s(32893);d.DIDRestrictionEvaluationHandler=class u extends c.AbstractEvaluationHandler{constructor(p){super(p)}getName(){return"DIDRestrictionEvaluation"}handle(p,o){p.input_descriptors.forEach((l,w)=>{o.forEach((E,b)=>{const A=this.getIssuerIdFromWrappedVerifiableCredential(E);this.client.hasRestrictToDIDMethods()&&A&&!(0,g.isRestrictedDID)(A,this.client.restrictToDIDMethods)&&A.toLowerCase().startsWith("did:")?this.getResults().push(this.generateErrorResult(w,`$[${b}]`,E)):this.getResults().push(this.generateSuccessResult(w,`$[${b}]`,E,`${A} is allowed`))})}),this.updatePresentationSubmission(p)}getIssuerIdFromWrappedVerifiableCredential(p){if(a.CredentialMapper.isW3cCredential(p.credential))return"object"==typeof p.credential.issuer?p.credential.issuer.id:p.credential.issuer;if(a.CredentialMapper.isSdJwtDecodedCredential(p.credential))return p.credential.decodedPayload.iss;throw new Error("Unsupported credential type")}generateErrorResult(p,o,l){return{input_descriptor_path:`$.input_descriptors[${p}]`,evaluator:this.getName(),status:v.Status.ERROR,message:m.default.FORMAT_RESTRICTION_DIDNT_PASS,verifiable_credential_path:o,payload:{format:l.format}}}generateSuccessResult(p,o,l,w){return{input_descriptor_path:`$.input_descriptors[${p}]`,evaluator:this.getName(),status:v.Status.INFO,message:w??m.default.FORMAT_RESTRICTION_PASSED,verifiable_credential_path:o,payload:{format:l.format}}}}},19819:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},30614:function(X,d,s){"use strict";var h=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(d,"__esModule",{value:!0}),d.FormatRestrictionEvaluationHandler=void 0;const a=s(55776),v=h(s(24080)),m=s(32893);d.FormatRestrictionEvaluationHandler=class g extends m.AbstractEvaluationHandler{constructor(u){super(u)}getName(){return"FormatRestrictionEvaluation"}handle(u,i){const p=this.client.restrictToFormats?Object.keys(this.client.restrictToFormats):void 0;u.input_descriptors.forEach((o,l)=>{i.forEach((w,E)=>{const b="format"in o&&o.format?Object.keys(o.format):[w.format];let A=p??b;"format"in o&&o.format&&void 0!==p&&(A=Object.keys(o.format).filter(C=>p.includes(C))),A.includes(w.format)?this.getResults().push(this.generateSuccessResult(l,`$[${E}]`,w,`${w.format} is allowed from ${JSON.stringify(A)}`)):this.getResults().push(this.generateErrorResult(l,`$[${E}]`,w))})}),this.updatePresentationSubmission(u)}generateErrorResult(u,i,p){return{input_descriptor_path:`$.input_descriptors[${u}]`,evaluator:this.getName(),status:a.Status.ERROR,message:v.default.FORMAT_RESTRICTION_DIDNT_PASS,verifiable_credential_path:i,payload:{format:p.format}}}generateSuccessResult(u,i,p,o){return{input_descriptor_path:`$.input_descriptors[${u}]`,evaluator:this.getName(),status:a.Status.INFO,message:o??v.default.FORMAT_RESTRICTION_PASSED,verifiable_credential_path:i,payload:{format:p.format}}}}},71001:function(X,d,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(v,m,g,c){void 0===c&&(c=g);var u=Object.getOwnPropertyDescriptor(m,g);(!u||("get"in u?!m.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return m[g]}}),Object.defineProperty(v,c,u)}:function(v,m,g,c){void 0===c&&(c=g),v[c]=m[g]}),a=this&&this.__exportStar||function(v,m){for(var g in v)"default"!==g&&!Object.prototype.hasOwnProperty.call(m,g)&&h(m,v,g)};Object.defineProperty(d,"__esModule",{value:!0}),a(s(32893),d),a(s(19819),d),a(s(298),d),a(s(19477),d),a(s(77918),d),a(s(60019),d),a(s(1599),d),a(s(4257),d),a(s(67966),d),a(s(63217),d),a(s(30614),d),a(s(4028),d)},298:function(X,d,s){"use strict";var h=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(d,"__esModule",{value:!0}),d.InputDescriptorFilterEvaluationHandler=void 0;const a=s(44273),v=h(s(39208)),m=h(s(21953)),g=s(55776),c=h(s(24080)),u=s(13486),i=s(32893),p=new v.default({verbose:!1,code:{source:!1,lines:!0,esm:!1},allowUnionTypes:!0,allErrors:!0,strict:!1});(0,m.default)(p);class o extends i.AbstractEvaluationHandler{constructor(w){super(w),o.keepCacheSizeInCheck()}getName(){return"FilterEvaluation"}handle(w,E){const b=a.JSONPath.nodes(w,"$..fields[*]");E.forEach((A,C)=>{this.createNoFieldResults(w,C,A),b.forEach(_=>{let N=[];_.value.path&&(N=u.JsonPathUtils.extractInputField(A.decoded,_.value.path));let O=!1;for(const j of N)if(this.evaluateFilter(j,_.value)){O=!0;const F={result:Object.assign({},N[0]),valid:!0,format:A.format};this.getResults().push(Object.assign({},this.createResultObject(a.JSONPath.stringify(_.path.slice(0,3)),C,F)))}if(!O)if(N.length){const j={result:Object.assign({},N[0]),valid:!1,format:A.format};this.createResponse(_,C,j,c.default.INPUT_CANDIDATE_FAILED_FILTER_EVALUATION)}else this.createResponse(_,C,{valid:!1,format:A.format},c.default.INPUT_CANDIDATE_DOESNT_CONTAIN_PROPERTY)})}),this.updatePresentationSubmission(w)}createNoFieldResults(w,E,b){w.input_descriptors.map((C,_)=>({index:_,inDesc:C})).filter(C=>{var _,N,O;return void 0===(null===(_=C.inDesc.constraints)||void 0===_?void 0:_.fields)||0===(null===(O=null===(N=C.inDesc.constraints)||void 0===N?void 0:N.fields)||void 0===O?void 0:O.length)}).forEach(C=>{const _={result:[],valid:!0,format:b.format};this.getResults().push(Object.assign({},this.createResultObject(`$.input_descriptors[${C.index}]`,E,_)))})}createResponse(w,E,b,A){this.getResults().push(Object.assign(Object.assign({},this.createResultObject(a.JSONPath.stringify(w.path.slice(0,3)),E,b)),{status:g.Status.ERROR,message:A}))}createResultObject(w,E,b){return{input_descriptor_path:w,verifiable_credential_path:`$[${E}]`,evaluator:this.getName(),status:g.Status.INFO,message:c.default.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION,payload:b}}evaluateFilter(w,E){var b,A;null!==(b=E.filter)&&void 0!==b&&b.format&&"date"===E.filter.format&&this.transformDateFormat(w);let C=!0;if(E.filter){const _=JSON.stringify({filter:E.filter,value:w.value}),N=Date.now();C=null===(A=o.FILTER_CACHE.get(_))||void 0===A?void 0:A.value,void 0===C&&(o.keepCacheSizeInCheck(),C=p.validate(E.filter,w.value),o.FILTER_CACHE.set(_,{value:C,ts:N+o.DEFAULT_FILTER_CACHE_TTL}))}return C}transformDateFormat(w){const E=new Date(w.value);let b=E.getUTCMonth()+1+"";1===b.length&&(b="0"+b);let A=E.getUTCDate()+"";1===A.length&&(A="0"+A),w.value=E.getUTCFullYear()+"-"+b+"-"+A,w.value=E.toISOString().substring(0,E.toISOString().indexOf("T"))}static keepCacheSizeInCheck(w){var E,b,A;const C=null!==(E=w?.ttl)&&void 0!==E?E:o.DEFAULT_FILTER_CACHE_TTL,_=null!==(b=w?.maxCacheSize)&&void 0!==b?b:o.DEFAULT_MAX_FILTER_CACHE_SIZE,N=null!==(A=w?.resetCacheSize)&&void 0!==A?A:o.DEFAULT_RESET_CACHE_SIZE,O=Date.now();for(const[F,T]of o.FILTER_CACHE)T.ts+C<O&&o.FILTER_CACHE.delete(F);const j=o.FILTER_CACHE.size;if(j>_){const F=o.FILTER_CACHE.keys();for(let T=0;T<j-N;T++)o.FILTER_CACHE.delete(F.next().value)}}}d.InputDescriptorFilterEvaluationHandler=o,o.FILTER_CACHE=new Map,o.DEFAULT_MAX_FILTER_CACHE_SIZE=100,o.DEFAULT_FILTER_CACHE_TTL=3e4,o.DEFAULT_RESET_CACHE_SIZE=o.DEFAULT_MAX_FILTER_CACHE_SIZE/2},77918:function(X,d,s){"use strict";var h=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(d,"__esModule",{value:!0}),d.LimitDisclosureEvaluationHandler=void 0;const a=s(47636),v=s(11151),m=s(55776),g=h(s(24080)),c=s(13486),u=s(32893);d.LimitDisclosureEvaluationHandler=class i extends u.AbstractEvaluationHandler{constructor(o){super(o)}getName(){return"LimitDisclosureEvaluation"}handle(o,l){o.input_descriptors.forEach((w,E)=>{var b,A,C;null!==(b=w.constraints)&&void 0!==b&&b.fields&&((null===(A=w.constraints)||void 0===A?void 0:A.limit_disclosure)===a.Optionality.Required||(null===(C=w.constraints)||void 0===C?void 0:C.limit_disclosure)===a.Optionality.Preferred)&&this.evaluateLimitDisclosure(l,w.constraints,E)})}isLimitDisclosureSupported(o,l,w,E){if("vc+sd-jwt"===o.format)return!0;const b=this.client.limitDisclosureSignatureSuites,A=o.decoded.proof;if(!A||Array.isArray(A)||!A.type)return!1;const C=A.cryptosuite?`${A.type}.${A.cryptosuite}`:A.type;return!!b?.includes(C)||(E==a.Optionality.Required&&this.createLimitDisclosureNotSupportedResult(w,l),!1)}evaluateLimitDisclosure(o,l,w){const E=l?.fields,b=l.limit_disclosure;o.forEach((A,C)=>{b&&this.isLimitDisclosureSupported(A,C,w,b)&&this.enforceLimitDisclosure(A,E,w,C,o,b)})}enforceLimitDisclosure(o,l,w,E,b,A){if(v.CredentialMapper.isWrappedSdJwtVerifiableCredential(o)){const C=this.createSdJwtPresentationFrame(o.credential,l,w,E);C&&((0,c.applySdJwtLimitDisclosure)(o.credential,C),o.decoded=o.credential.decodedPayload,o.original=v.CredentialMapper.isSdJwtDecodedCredential(o.original)?o.credential:o.credential.compactSdJwtVc,this.createSuccessResult(w,`$[${E}]`,A))}else{if(!v.CredentialMapper.isW3cCredential(o.credential))throw new Error(`Unsupported format for selective disclosure ${o.format}`);{const C=this.createVcWithRequiredFields(o.credential,l,w,E);C&&(b[E].credential=C,this.createSuccessResult(w,`$[${E}]`,A))}}}createSdJwtPresentationFrame(o,l,w,E){const b={};for(const A of l)if(A.path){const C=c.JsonPathUtils.extractInputField(o.decodedPayload,A.path);if(!(C.length>0))return void this.createMandatoryFieldNotFoundResult(w,E,A.path);c.JsonPathUtils.setValue(b,C[0].path,!0)}return b}createVcWithRequiredFields(o,l,w,E){let b={};b=Object.assign(b,o),b.credentialSubject={};for(const A of l)if(A.path){const C=c.JsonPathUtils.extractInputField(o,A.path);if(!(C.length>0))return void this.createMandatoryFieldNotFoundResult(w,E,A.path);b=this.copyResultPathToDestinationCredential(C[0],o,b)}return b}copyResultPathToDestinationCredential(o,l,w){let E=Object.assign({},l.credentialSubject);return o.path.forEach(b=>{E[b]&&(E={[b]:E[b]})}),w.credentialSubject=Object.assign(Object.assign({},w.credentialSubject),E),w}createSuccessResult(o,l,w){return this.getResults().push({input_descriptor_path:`$.input_descriptors[${o}]`,verifiable_credential_path:`${l}`,evaluator:this.getName(),status:w===a.Optionality.Required?m.Status.INFO:m.Status.WARN,message:g.default.LIMIT_DISCLOSURE_APPLIED,payload:void 0})}createMandatoryFieldNotFoundResult(o,l,w){return this.getResults().push({input_descriptor_path:`$.input_descriptors[${o}]`,verifiable_credential_path:`$[${l}]`,evaluator:this.getName(),status:m.Status.ERROR,message:g.default.VERIFIABLE_CREDENTIAL_MANDATORY_FIELD_NOT_PRESENT,payload:w})}createLimitDisclosureNotSupportedResult(o,l){return this.getResults().push({input_descriptor_path:`$.input_descriptors[${o}]`,verifiable_credential_path:`$[${l}]`,evaluator:this.getName(),status:m.Status.ERROR,message:g.default.LIMIT_DISCLOSURE_NOT_SUPPORTED})}}},60019:function(X,d,s){"use strict";var h=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(d,"__esModule",{value:!0}),d.MarkForSubmissionEvaluationHandler=void 0;const a=s(44273),v=s(55776),m=h(s(24080)),g=s(32893);d.MarkForSubmissionEvaluationHandler=class c extends g.AbstractEvaluationHandler{constructor(i){super(i)}getName(){return"MarkForSubmissionEvaluation"}handle(i,p){const o=[...this.getResults()],l=o.filter(E=>E.status===v.Status.ERROR),w=this.retrieveNoErrorStatus(o,l);this.client.wrappedVcs=p,this.produceErrorResults(l),this.produceSuccessResults(w,i)}retrieveNoErrorStatus(i,p){return i.filter(l=>l.status!==v.Status.ERROR).filter(l=>!p.find(w=>l.input_descriptor_path===w.input_descriptor_path&&l.verifiable_credential_path===w.verifiable_credential_path))}produceSuccessResults(i,p){this.removeDuplicate(i).forEach(o=>{const w=a.JSONPath.nodes(p,o.input_descriptor_path)[0].value.group;this.getResults().push({input_descriptor_path:o.input_descriptor_path,verifiable_credential_path:o.verifiable_credential_path,evaluator:this.getName(),status:v.Status.INFO,payload:{group:w},message:m.default.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION})})}produceErrorResults(i){this.removeDuplicate(i).forEach(p=>{const o=Object.assign({},p.payload);o.evaluator=p.evaluator,this.getResults().push(Object.assign(Object.assign({},p),{evaluator:this.getName(),message:m.default.INPUT_CANDIDATE_IS_NOT_ELIGIBLE_FOR_PRESENTATION_SUBMISSION,payload:o}))})}}},1599:function(X,d,s){"use strict";var h=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(d,"__esModule",{value:!0}),d.PredicateRelatedFieldEvaluationHandler=void 0;const a=s(47636),v=s(55776),m=h(s(24080)),g=s(32893);d.PredicateRelatedFieldEvaluationHandler=class c extends g.AbstractEvaluationHandler{constructor(i){super(i)}getName(){return"PredicateRelatedFieldEvaluation"}handle(i){i.input_descriptors.forEach((p,o)=>{p.constraints&&this.examinePredicateRelatedField(o,p.constraints)})}examinePredicateRelatedField(i,p){if(p?.fields)for(let o=0;o<p.fields.length;o++)for(let l=0;l<this.getResults().length;l++)this.examinePredicateForFilterEvaluationResult(this.getResults(),l,i,p,o)}examinePredicateForFilterEvaluationResult(i,p,o,l,w){var E;const b=this.retrieveResultInputDescriptorIdx(i[p].input_descriptor_path);if(i[p].payload&&i[p].payload.result&&i[p].payload.result.path&&"FilterEvaluation"===i[p].evaluator&&o===b&&l&&l.fields&&l.fields[w]&&l.fields[w].predicate&&l.fields[w].path&&null!==(E=l.fields[w].path)&&void 0!==E&&E.includes(this.concatenatePath(i[p].payload.result.path))){const A=Object.assign({},i[p].payload.result),C=this.createResultObject(o,p,A,i);l.fields[w].predicate===a.Optionality.Required||(C.payload.value=!0),i.push(C)}}retrieveResultInputDescriptorIdx(i){const o=i.indexOf("$.input_descriptors["),l=i.substring(o+20),w=l.indexOf("]"),E=l.substring(0,w);return parseInt(E)}concatenatePath(i){let p="";for(let o=0;o<i.length;o++)"number"==typeof i[o]?(p=p.substring(0,p.length-1),p+="[*]."):p+=i[o]+".";return p.substring(0,p.length-1)}createResultObject(i,p,o,l){return{input_descriptor_path:`$.input_descriptors[${i}]`,verifiable_credential_path:l[p].verifiable_credential_path,evaluator:this.getName(),status:v.Status.INFO,message:m.default.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION,payload:o}}}},4257:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.SameSubjectEvaluationHandler=void 0;const h=s(44273),a=s(47636),v=s(55776),m=s(32893);d.SameSubjectEvaluationHandler=class g extends m.AbstractEvaluationHandler{constructor(u){super(u),this.fieldIds=[],this.sameSubject=[],this.messages=new Map,this.messages.set(v.Status.INFO,"The field ids requiring the same subject to belong to same subject"),this.messages.set(v.Status.WARN,"The field ids preferring the same subject to belong to same subject"),this.messages.set(v.Status.ERROR,"The fields ids not belong to the same subject")}getName(){return"SameSubjectEvaluation"}handle(u,i){const p=this.mapSameSubjectFieldIdsToInputDescriptors(u),o=this.mapCredentialsToResultObjecs(i,p),l=this.countSameSubjectOccurrences(p,o);this.generateErrorResults(l,o),this.updatePresentationSubmission(u)}mapSameSubjectFieldIdsToInputDescriptors(u){this.fieldIds.push(...h.JSONPath.nodes(u,"$..fields[*].id")),this.sameSubject.push(...h.JSONPath.nodes(u,"$..same_subject[*]"));const i=[];return this.fieldIds.forEach(p=>{const o=this.sameSubject.find(l=>l.value.field_id.includes(p.value));o&&i.push([p,o])}),i}generateErrorResults(u,i){u.forEach((p,o)=>{const l=i.filter(w=>o===w.payload.fieldIdSet).map(w=>w.payload.credentialSubject.id);(l.length!==p||1!==new Set(l).size)&&i.forEach((w,E,b)=>{w.payload.fieldIdSet===o&&(w.status=v.Status.ERROR,w.message=this.messages.get(v.Status.ERROR),b[E]=w)})}),this.client.results.push(...i)}countSameSubjectOccurrences(u,i){const p=new Map;return u.forEach(o=>{i.filter(w=>o[1].value.field_id===w.payload.fieldIdSet)&&(p.has(o[1].value.field_id)&&p.get(o[1].value.field_id)?p.set(o[1].value.field_id,p.get(o[1].value.field_id)+1):p.set(o[1].value.field_id,1))}),p}mapCredentialsToResultObjecs(u,i){const p=[...h.JSONPath.nodes(u.map(l=>l.credential),"$..credentialSubject")],o=[];return p.forEach(l=>{const w=i.find(E=>0!==h.JSONPath.query(l.value,`$..${E[0].value}`).length);w&&w[1].value.directive===a.Optionality.Required?o.push({input_descriptor_path:h.JSONPath.stringify(w[0].path.slice(0,3)),status:v.Status.INFO,evaluator:this.getName(),payload:{fieldIdSet:w[1].value.field_id,credentialSubject:l.value},message:this.messages.get(v.Status.INFO),verifiable_credential_path:h.JSONPath.stringify(l.path.slice(0,2))}):w&&w[1].value.directive===a.Optionality.Preferred&&o.push({input_descriptor_path:h.JSONPath.stringify(w[0].path.slice(0,3)),status:v.Status.WARN,evaluator:this.getName(),payload:{fieldIdSet:w[1].value.field_id,credentialSubject:l.value},message:this.messages.get(v.Status.WARN),verifiable_credential_path:h.JSONPath.stringify(l.path.slice(0,2))})}),o}}},19477:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.SubjectIsHolderEvaluationHandler=void 0;const h=s(44273),a=s(47636),v=s(55776),m=s(32893);d.SubjectIsHolderEvaluationHandler=class g extends m.AbstractEvaluationHandler{constructor(u){super(u),this.fieldIdzInputDescriptorsSameSubjectRequired=new Map,this.fieldIdzInputDescriptorsSameSubjectPreferred=new Map,this.isHolder=[],this.fieldIds=[],this.credentialsSubjectsByPath=new Map,this.credentialsByPath=new Map,this.messages=new Map,this.messages.set(v.Status.INFO,"The field ids requiring the subject to be the holder"),this.messages.set(v.Status.WARN,"The field ids preferring the subject to be the holder"),this.messages.set(v.Status.ERROR,"The field id missing")}getName(){return"IsHolderEvaluation"}handle(u,i){this.findIsHolderFieldIdsToInputDescriptorsSets(u),this.findAllCredentialSubjects(i),this.confirmAllFieldSetHasSameSubject(this.fieldIdzInputDescriptorsSameSubjectRequired,v.Status.INFO,a.Optionality.Required),this.confirmAllFieldSetHasSameSubject(this.fieldIdzInputDescriptorsSameSubjectPreferred,v.Status.WARN,a.Optionality.Preferred),this.updatePresentationSubmission(u)}findIsHolderFieldIdsToInputDescriptorsSets(u){var i;this.fieldIds.push(...h.JSONPath.nodes(u,"$..fields[*].id")),this.isHolder.push(...h.JSONPath.nodes(u,"$..is_holder[*]"));const p=null===(i=this.fieldIds)||void 0===i?void 0:i.map(l=>l.value),o=[];o.push(...this.evaluateFields(this.fieldIdzInputDescriptorsSameSubjectPreferred,this.isHolder,p,a.Optionality.Preferred)),o.push(...this.evaluateFields(this.fieldIdzInputDescriptorsSameSubjectRequired,this.isHolder,p,a.Optionality.Required)),o.forEach(l=>this.getResults().push(this.createResult(l[1],l[0],["",{}],v.Status.ERROR,void 0)))}evaluateFields(u,i,p,o){const l=[];return i.filter(w=>w.value.directive===o).filter(w=>w.value.field_id.every(E=>p.includes(E))).forEach(w=>u.set(h.JSONPath.stringify(w.path.slice(0,3)),w.value.field_id)),i.filter(w=>w.value.directive===o).filter(w=>!w.value.field_id.every(E=>p.includes(E))).forEach(w=>l.push([h.JSONPath.stringify(w.path.slice(0,3)),w.value.field_id])),l}findAllCredentialSubjects(u){const i=h.JSONPath.nodes(u.map(p=>p.credential),"$..credentialSubject");for(let p=0;p<i.length;p++){const o=i[p],l=h.JSONPath.stringify(o.path.slice(0,2));this.credentialsSubjectsByPath.set(l,o.value),this.credentialsByPath.set(l,u[p])}}confirmAllFieldSetHasSameSubject(u,i,p){const o=Array.from(u).flatMap(b=>Array.from(this.credentialsSubjectsByPath).filter(A=>b[1].find(C=>Object.keys(A[1]).includes(C)))),l=this.mapCredentialPathsToInputDescriptors(p),w=Array.from(o).flatMap(b=>Object.keys(b[1]).filter(A=>"id"!==A)),E=Array.from(u.values()).flatMap(b=>b.every(A=>w.includes(A)))[0];o.forEach(b=>{const A=l.get(b[0]);E&&b[1].id&&this.client.dids.includes(b[1].id)?this.getResults().push(this.createResult(Object.keys(b[1]).filter(C=>"id"!==C),A,b,i,this.credentialsByPath.get(b[0]))):this.getResults().push(this.createResult(Object.keys(b[1]).filter(C=>"id"!==C),A,b,v.Status.ERROR,this.credentialsByPath.get(b[0])))})}mapCredentialPathsToInputDescriptors(u){var i;const p=new Map;return null===(i=this.fieldIds)||void 0===i||i.forEach(o=>{const l=h.JSONPath.stringify(o.path.slice(0,3));this.credentialsSubjectsByPath.forEach((w,E)=>{const b=this.isHolder.find(A=>h.JSONPath.stringify(A.path.slice(0,3))===l);Object.keys(w).includes(o.value)&&b?.value.directive===u&&p.set(E,l)})}),p}createResult(u,i,p,o,l,w){return{input_descriptor_path:i,verifiable_credential_path:p[0],evaluator:this.getName(),status:o,payload:Object.assign({fieldIdSet:u,credentialSubject:p[1]},l?{format:l.format}:{}),message:w??this.messages.get(o)}}}},67966:function(X,d,s){"use strict";var h=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(d,"__esModule",{value:!0}),d.SubjectIsIssuerEvaluationHandler=void 0;const a=s(47636),v=s(11151),m=s(55776),g=h(s(24080)),c=s(13486),u=s(32893);d.SubjectIsIssuerEvaluationHandler=class i extends u.AbstractEvaluationHandler{constructor(o){super(o)}getName(){return"SubjectIsIssuerEvaluation"}handle(o,l){o.input_descriptors.forEach((w,E)=>{const b=w.constraints;b?.subject_is_issuer===a.Optionality.Required?this.checkSubjectIsIssuer(w.id,l,E):this.getResults().push(...l.map((A,C)=>this.generateSuccessResult(E,`$[${C}]`,A,"not applicable")))}),this.updatePresentationSubmission(o)}checkSubjectIsIssuer(o,l,w){this.client.presentationSubmission.descriptor_map.forEach(E=>{if(E.id===o){const b=c.JsonPathUtils.extractInputField(l.map(A=>A.credential),[E.path]);for(const A of b){const C=(0,c.getIssuerString)(A.value);A&&A.value&&(0,c.getSubjectIdsAsString)(A.value).every(_=>_===C)?this.getResults().push(this.generateSuccessResult(w,E.path,v.CredentialMapper.toWrappedVerifiableCredential(A.value))):this.getResults().push(this.generateErrorResult(w,E.path,v.CredentialMapper.toWrappedVerifiableCredential(A.value)))}}})}generateErrorResult(o,l,w){return{input_descriptor_path:`$.input_descriptors[${o}]`,evaluator:this.getName(),status:m.Status.ERROR,message:g.default.SUBJECT_IS_NOT_ISSUER,verifiable_credential_path:l,payload:{format:w.format}}}generateSuccessResult(o,l,w,E){return{input_descriptor_path:`$.input_descriptors[${o}]`,evaluator:this.getName(),status:m.Status.INFO,message:E??g.default.SUBJECT_IS_ISSUER,verifiable_credential_path:l,payload:{format:w.format}}}}},63217:function(X,d,s){"use strict";var h=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(d,"__esModule",{value:!0}),d.UriEvaluationHandler=void 0;const a=s(44273),v=s(11151),m=s(35975),g=s(55776),c=s(99938),u=h(s(24080)),i=s(32893);class p extends i.AbstractEvaluationHandler{constructor(l){super(l)}getName(){return"UriEvaluation"}handle(l,w){var E,b,A;l.input_descriptors.forEach((N,O)=>{const j=l.getVersion()!==c.PEVersion.v2?N.schema.map(F=>F.uri):[];w.forEach((F,T)=>{const z=p.buildVcContextAndSchemaUris(F.credential,l.getVersion());this.evaluateUris(F,z,j,O,T,l.getVersion())})});const C=(null===(E=l.format)||void 0===E?void 0:E.di)||(null===(b=l.format)||void 0===b?void 0:b.di_vc)||(null===(A=l.format)||void 0===A?void 0:A.di_vp),_=this.getResults().filter(N=>N.status===g.Status.INFO).map(N=>{var O,j,F,T;let z=null===(O=N.payload)||void 0===O?void 0:O.format;if(C&&("ldp_vc"===z||"ldp"===z)){const H=a.JSONPath.nodes(w,N.verifiable_credential_path).map(W=>W.value).map(W=>W.type===v.OriginalType.JSONLD&&W.credential.proof?(Array.isArray(W.credential.proof)?W.credential.proof:[W.credential.proof]).filter(Q=>"DataIntegrityProof"===Q.type&&void 0!==Q.cryptosuite):[]).reduce((W,ce)=>W.filter(M=>ce.includes(M))),R=a.JSONPath.nodes(l,N.input_descriptor_path)[0].value,J=!R.format||(null===(j=R?.format)||void 0===j?void 0:j.di)||(null===(F=R?.format)||void 0===F?void 0:F.di_vc)||(null===(T=R?.format)||void 0===T?void 0:T.di_vp);H.length>0&&J&&(z="di_vc")}return{id:a.JSONPath.nodes(l,N.input_descriptor_path)[0].value.id,format:z,path:N.verifiable_credential_path}});this.client.generatePresentationSubmission&&(!this.presentationSubmission||0===Object.keys(this.presentationSubmission).length)&&(this.presentationSubmission={id:(0,m.nanoid)(),definition_id:l.id,descriptor_map:_})}evaluateUris(l,w,E,b,A,C){let _=!1;if(C===c.PEVersion.v1){for(let N=0;N<E.length;N++)p.containsHashlink(E[N])&&this.getResults().push(this.createWarnResultObject(b,A));for(let N=0;N<w.length;N++)null!=E.find(O=>O===w[N])&&(_=!0)}else _=!0;_?this.getResults().push(this.createSuccessResultObject(l,E,b,A)):this.getResults().push(this.createErrorResultObject(l,E,b,A))}static buildVcContextAndSchemaUris(l,w){const E=[];return v.CredentialMapper.isW3cCredential(l)&&(Array.isArray(l["@context"])?l["@context"].forEach(b=>E.push(b)):E.push(l["@context"]),Array.isArray(l.credentialSchema)&&l.credentialSchema.length>0?l.credentialSchema.forEach(b=>E.push(b.id)):l.credentialSchema&&E.push(l.credentialSchema.id),w===c.PEVersion.v1&&(Array.isArray(l.type)?l.type.forEach(b=>E.push(b)):l.type&&E.push(l.type))),v.CredentialMapper.isSdJwtDecodedCredential(l)&&w===c.PEVersion.v1&&E.push(l.decodedPayload.vct),E}createSuccessResultObject(l,w,E,b){const A=this.createResult(E,b);return A.status=g.Status.INFO,A.message=u.default.URI_EVALUATION_PASSED,A.payload={format:l.format,vcContext:v.CredentialMapper.isW3cCredential(l.credential)?l.credential["@context"]:void 0,vcCredentialSchema:v.CredentialMapper.isW3cCredential(l.credential)?l.credential.credentialSchema:void 0,inputDescriptorsUris:w},A}createErrorResultObject(l,w,E,b){const A=this.createResult(E,b);return A.status=g.Status.ERROR,A.message=u.default.URI_EVALUATION_DIDNT_PASS,A.payload={format:l.format,vcContext:v.CredentialMapper.isW3cCredential(l.credential)?l.credential["@context"]:void 0,vcCredentialSchema:v.CredentialMapper.isW3cCredential(l.credential)?l.credential.credentialSchema:void 0,inputDescriptorsUris:w},A}createWarnResultObject(l,w){const E=this.createResult(l,w);return E.status=g.Status.WARN,E.message=u.default.URI_EVALUATION_DIDNT_PASS,E.payload=u.default.INPUT_DESCRIPTOR_CONTEXT_CONTAINS_HASHLINK_VERIFICATION_NOT_SUPPORTED,E}createResult(l,w){return{input_descriptor_path:`$.input_descriptors[${l}]`,verifiable_credential_path:`$[${w}]`,evaluator:this.getName(),status:g.Status.INFO,message:void 0}}static containsHashlink(l){return!(this.matchAll(l,p.HASHLINK_QUERY_URL_REGEX).next().done&&this.matchAll(l,p.HASHLINK_URL_ENCODED_REGEX).next().done)}}d.UriEvaluationHandler=p,p.matchAll=s(72373),p.HASHLINK_URL_ENCODED_REGEX=/hl:[a-zA-Z0-9]+:[a-zA-Z0-9]+/g,p.HASHLINK_QUERY_URL_REGEX=/https*?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&/=]*)(hl=[a-zA-Z0-9]+)/g},70143:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.HandlerCheckResult=d.EvaluationClientWrapper=d.EvaluationClient=void 0;const h=s(92127);Object.defineProperty(d,"HandlerCheckResult",{enumerable:!0,get:function(){return h.HandlerCheckResult}});const a=s(50950);Object.defineProperty(d,"EvaluationClient",{enumerable:!0,get:function(){return a.EvaluationClient}});var v=s(78995);Object.defineProperty(d,"EvaluationClientWrapper",{enumerable:!0,get:function(){return v.EvaluationClientWrapper}})},2700:function(X,d,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(o,l,w,E){void 0===E&&(E=w);var b=Object.getOwnPropertyDescriptor(l,w);(!b||("get"in b?!l.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return l[w]}}),Object.defineProperty(o,E,b)}:function(o,l,w,E){void 0===E&&(E=w),o[E]=l[w]}),a=this&&this.__exportStar||function(o,l){for(var w in o)"default"!==w&&!Object.prototype.hasOwnProperty.call(l,w)&&h(l,o,w)};Object.defineProperty(d,"__esModule",{value:!0}),d.PEXv2=d.PEXv1=d.PEX=d.Status=d.Checked=d.PEVersion=d.ValidationEngine=d.HandlerCheckResult=void 0;const v=s(55776);Object.defineProperty(d,"Checked",{enumerable:!0,get:function(){return v.Checked}}),Object.defineProperty(d,"Status",{enumerable:!0,get:function(){return v.Status}});const m=s(97889);Object.defineProperty(d,"PEX",{enumerable:!0,get:function(){return m.PEX}});const g=s(38992);Object.defineProperty(d,"PEXv1",{enumerable:!0,get:function(){return g.PEXv1}});const c=s(71945);Object.defineProperty(d,"PEXv2",{enumerable:!0,get:function(){return c.PEXv2}});const u=s(70143);Object.defineProperty(d,"HandlerCheckResult",{enumerable:!0,get:function(){return u.HandlerCheckResult}});const i=s(99938);Object.defineProperty(d,"PEVersion",{enumerable:!0,get:function(){return i.PEVersion}});const p=s(80930);Object.defineProperty(d,"ValidationEngine",{enumerable:!0,get:function(){return p.ValidationEngine}}),a(s(64864),d)},64864:function(X,d,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(v,m,g,c){void 0===c&&(c=g);var u=Object.getOwnPropertyDescriptor(m,g);(!u||("get"in u?!m.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return m[g]}}),Object.defineProperty(v,c,u)}:function(v,m,g,c){void 0===c&&(c=g),v[c]=m[g]}),a=this&&this.__exportStar||function(v,m){for(var g in v)"default"!==g&&!Object.prototype.hasOwnProperty.call(m,g)&&h(m,v,g)};Object.defineProperty(d,"__esModule",{value:!0}),a(s(34277),d)},34277:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.KeyEncoding=d.PresentationSubmissionLocation=void 0;var s=function(a){return a[a.EXTERNAL=0]="EXTERNAL",a[a.PRESENTATION=1]="PRESENTATION",a}(s||(d.PresentationSubmissionLocation=s={})),h=function(a){return a.Jwk="Jwk",a.Base58="Base58",a.Hex="Hex",a.Multibase="Multibase",a}(h||(d.KeyEncoding=h={}))},99358:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.PEVersion=d.InternalPresentationDefinitionV2=d.InternalPresentationDefinitionV1=void 0,d.InternalPresentationDefinitionV1=class s{constructor(m,g,c,u,i,p){this.id=m,this.input_descriptors=g,this.format=c,this.name=u,this.purpose=i,this.submission_requirements=p}getVersion(){return a.v1}},d.InternalPresentationDefinitionV2=class h{constructor(m,g,c,u,i,p,o){this.format=c,this.frame=u,this.id=m,this.input_descriptors=g,this.name=i,this.purpose=p,this.submission_requirements=o}getVersion(){return a.v2}};var a=function(v){return v.v1="v1",v.v2="v2",v}(a||(d.PEVersion=a={}))},24080:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});var s=function(h){return h.INPUT_CANDIDATE_DOESNT_CONTAIN_PROPERTY="Input candidate does not contain property",h.INPUT_CANDIDATE_FAILED_FILTER_EVALUATION="Input candidate failed filter evaluation",h.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION="The input candidate is eligible for submission",h.INPUT_CANDIDATE_IS_NOT_ELIGIBLE_FOR_PRESENTATION_SUBMISSION="The input candidate is not eligible for submission",h.INPUT_DESCRIPTOR_CONTEXT_CONTAINS_HASHLINK_VERIFICATION_NOT_SUPPORTED="Input descriptor contains hashlink. This version doesn't support hashlink verification.",h.LIMIT_DISCLOSURE_APPLIED="added variable in the limit_disclosure to the verifiableCredential",h.LIMIT_DISCLOSURE_NOT_SUPPORTED="Limit disclosure not supported",h.SUBJECT_IS_NOT_ISSUER="subject is not issuer",h.SUBJECT_IS_ISSUER="subject is issuer",h.FORMAT_RESTRICTION_PASSED="the Credential format of the candidate inputs matches the required formats",h.FORMAT_RESTRICTION_DIDNT_PASS="the Credential format of the candidate inputs didn't match the required formats",h.URI_EVALUATION_PASSED="@context URI(s) for the schema of the candidate input is equal to one of the input_descriptors object uri values.",h.URI_EVALUATION_DIDNT_PASS="@context URI for the of the candidate input MUST be equal to one of the input_descriptors object uri values exactly.",h.UNKNOWN_EXCEPTION="unknown exception occurred: ",h.VERIFIABLE_CREDENTIAL_MANDATORY_FIELD_NOT_PRESENT="mandatory field not present in the verifiableCredential",h}(s||{});d.default=s},88819:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.SSITypesBuilder=void 0;const h=s(11151),a=s(13486),v=s(99358);class m{static modelEntityToInternalPresentationDefinitionV1(c){const u=m.createCopyAndModifyPresentationDefinition(c);return new v.InternalPresentationDefinitionV1(u.id,u.input_descriptors,u.format,u.name,u.purpose,u.submission_requirements)}static modelEntityInternalPresentationDefinitionV2(c){const u=m.createCopyAndModifyPresentationDefinition(c);return new v.InternalPresentationDefinitionV2(u.id,u.input_descriptors,u.format,u.frame,u.name,u.purpose,u.submission_requirements)}static createCopyAndModifyPresentationDefinition(c){const u=JSON.parse(JSON.stringify(c));return a.JsonPathUtils.changePropertyNameRecursively(u,"_const","const"),a.JsonPathUtils.changePropertyNameRecursively(u,"_enum","enum"),a.JsonPathUtils.changeSpecialPathsRecursively(u),u}static mapExternalVerifiablePresentationToWrappedVP(c,u){return h.CredentialMapper.toWrappedVerifiablePresentation(c,{hasher:u})}static mapExternalVerifiableCredentialsToWrappedVcs(c,u){return h.CredentialMapper.toWrappedVerifiableCredentials(Array.isArray(c)?c:[c],{hasher:u})}static toInternalPresentationDefinition(c){const u=JSON.parse(JSON.stringify(c)),i=(0,a.definitionVersionDiscovery)(u);if(i.error)throw i.error;return i.version==v.PEVersion.v1?m.modelEntityToInternalPresentationDefinitionV1(u):m.modelEntityInternalPresentationDefinitionV2(u)}}d.SSITypesBuilder=m},99938:function(X,d,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(v,m,g,c){void 0===c&&(c=g);var u=Object.getOwnPropertyDescriptor(m,g);(!u||("get"in u?!m.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return m[g]}}),Object.defineProperty(v,c,u)}:function(v,m,g,c){void 0===c&&(c=g),v[c]=m[g]}),a=this&&this.__exportStar||function(v,m){for(var g in v)"default"!==g&&!Object.prototype.hasOwnProperty.call(m,g)&&h(m,v,g)};Object.defineProperty(d,"__esModule",{value:!0}),a(s(24080),d),a(s(99358),d),a(s(88819),d)},27426:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.ObjectUtils=void 0;class s{static asArray(a){return Array.isArray(a)?a:[a]}static isObject(a){return"[object Object]"===Object.prototype.toString.call(a)}static isUrlAbsolute(a){s.isString(a)&&/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/.test(a)}static isString(a){return"string"==typeof a||"[object String]"===Object.prototype.toString.call(a)}static getDistinctFieldInObject(a,v){const m=a.map(g=>g[v]);return Array.from(new Set(m))}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}}d.ObjectUtils=s},18471:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.ObjectValidationUtils=void 0,d.ObjectValidationUtils=class s{static optionalNonEmptyString(a){return null==a||a.length>0}static nonEmptyString(a){return null!=a&&a.length>0}static isValidDIDURI(a){return new RegExp("^did:([a-z0-9]+)(:([a-zA-Z0-9\\.\\-_]|%[0-9a-fA-F]{2})+)+(/([a-zA-Z-\\._~]|%[0-9a-fA-F]{2}|[!$&'()*+,;=:@])*)?").test(a)}}},79446:function(X,d,s){"use strict";var h=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(d,"__esModule",{value:!0}),d.filterToRestrictedDIDs=d.isRestrictedDID=d.uniformDIDMethods=d.definitionVersionDiscovery=d.getIssuerString=d.getSubjectIdsAsString=void 0;const a=s(99938),v=h(s(86515)),m=h(s(93046)),g=s(27426),c=s(45408);function o(E,b){var A;let C=null!==(A=E?.map(_=>_.toLowerCase()).map(_=>_.startsWith("did:")?_:`did:${_}`))&&void 0!==A?A:[];if(b?.removePrefix){const _=b.removePrefix.endsWith(":")?b.removePrefix.length:b.removePrefix.length+1;C=C.map(N=>N.startsWith(b.removePrefix)?N.substring(_):N)}return C.includes("did")?[]:C}d.getSubjectIdsAsString=function u(E){return(Array.isArray(E.credentialSubject)?E.credentialSubject:[E.credentialSubject]).filter(A=>!!A.id).map(A=>A.id)},d.getIssuerString=function i(E){return g.ObjectUtils.isString(E.issuer)?E.issuer:E.issuer.id},d.definitionVersionDiscovery=function p(E){const b=JSON.parse(JSON.stringify(E));c.JsonPathUtils.changePropertyNameRecursively(b,"_const","const"),c.JsonPathUtils.changePropertyNameRecursively(b,"_enum","enum");const A={presentation_definition:b};let C=(0,m.default)(A);return C?{version:a.PEVersion.v2}:(C=(0,v.default)(A),C?{version:a.PEVersion.v1}:{error:"This is not a valid PresentationDefinition"})},d.uniformDIDMethods=o,d.isRestrictedDID=function l(E,b){const A=o(b);return 0===A.length||A.some(C=>E.toLowerCase().startsWith(C))},d.filterToRestrictedDIDs=function w(E,b){const A=o(b);return 0===A.length?E:A.flatMap(C=>E.filter(_=>_.toLowerCase().startsWith(C)))}},13486:function(X,d,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(v,m,g,c){void 0===c&&(c=g);var u=Object.getOwnPropertyDescriptor(m,g);(!u||("get"in u?!m.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return m[g]}}),Object.defineProperty(v,c,u)}:function(v,m,g,c){void 0===c&&(c=g),v[c]=m[g]}),a=this&&this.__exportStar||function(v,m){for(var g in v)"default"!==g&&!Object.prototype.hasOwnProperty.call(m,g)&&h(m,v,g)};Object.defineProperty(d,"__esModule",{value:!0}),a(s(45408),d),a(s(27426),d),a(s(18471),d),a(s(79446),d),a(s(58870),d)},45408:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.JsonPathUtils=void 0;const h=s(44273);class a{static extractInputField(m,g){let c=[];if(g)for(const u of g)if(c=h.JSONPath.nodes(m,u),c.length)break;return c}static changePropertyNameRecursively(m,g,c){const u=a.extractInputField(m,["$.."+g]);for(const i of u)this.copyResultPathToDestinationDefinition(i.path,m,c)}static setValue(m,g,c){const u="string"==typeof g?g:h.JSONPath.stringify(g);return h.JSONPath.value(m,u,c),m}static copyResultPathToDestinationDefinition(m,g,c){let u=g;for(let i=1;i<m.length;i++)if(i+1<m.length&&(u=u[m[i]]),m.length==i+1){u[c]=u[m[i]],delete u[m[i]];break}}static changeSpecialPathsRecursively(m){const g=a.extractInputField(m,["$..path"]);for(const c of g)this.modifyPathsWithSpecialCharacter(c.path,m)}static modifyPathsWithSpecialCharacter(m,g){let c=g;for(let u=1;u<m.length;u++)if(u+1<m.length&&(c=c[m[u]]),m.length==u+1){const i=c[m[u]],p=[];for(let o=0;o<i.length;o++)p.push(this.modifyPathWithSpecialCharacter(i[o]));c[m[u]]=p;break}}static modifyPathWithSpecialCharacter(m){const g=this.matchAll(m,this.REGEX_PATH);return this.modifyPathRecursive(g,m)}static modifyPathRecursive(m,g){let c=m.next(),u=!1;for(;c&&!c.done&&!u;){const i=c.value.index;if(i&&1==i)g=g.charAt(0)+"['"+c.value[0]+"']"+g.substring(i+c.value[0].length),u=!0,this.modifyPathRecursive(m,g);else if(i&&i>1&&"['"!==g.substring(i-2,i)&&'["'!==g.substring(i-2,i))if(".."===g.substring(i-2,i)){g=g.substring(0,i-2)+"..['"+c.value[0]+"']"+g.substring(i+c.value[0].length),u=!0;const p=this.matchAll(g,this.REGEX_PATH);this.modifyPathRecursive(p,g)}else"."===g.charAt(i-1)&&(g=g.substring(0,i-1)+"['"+c.value[0]+"']"+g.substring(i+c.value[0].length),u=!0,this.modifyPathRecursive(m,g));c=m.next()}return g}}d.JsonPathUtils=a,a.matchAll=s(72373),a.REGEX_PATH=/@\w+/g},58870:function(X,d,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(o,l,w,E){void 0===E&&(E=w);var b=Object.getOwnPropertyDescriptor(l,w);(!b||("get"in b?!l.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return l[w]}}),Object.defineProperty(o,E,b)}:function(o,l,w,E){void 0===E&&(E=w),o[E]=l[w]}),a=this&&this.__setModuleDefault||(Object.create?function(o,l){Object.defineProperty(o,"default",{enumerable:!0,value:l})}:function(o,l){o.default=l}),v=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var l={};if(null!=o)for(var w in o)"default"!==w&&Object.prototype.hasOwnProperty.call(o,w)&&h(l,o,w);return a(l,o),l};Object.defineProperty(d,"__esModule",{value:!0}),d.applySdJwtLimitDisclosure=d.calculateSdHash=void 0;const m=s(15315),g=s(22084),c=v(s(75324)),u=s(27426);d.calculateSdHash=function i(o,l,w){const E=w(o,l);return c.toString(E,"base64url")},d.applySdJwtLimitDisclosure=function p(o,l){const w=o.disclosures.map(O=>({digest:O.digest,encoded:O.encoded,salt:O.decoded[0],value:3===O.decoded.length?O.decoded[2]:O.decoded[1],key:3===O.decoded.length?O.decoded[1]:void 0})),E=(0,g.selectDisclosures)(u.ObjectUtils.cloneDeep(o.signedPayload),w,l);o.disclosures=E.map(O=>({encoded:O.encoded,decoded:O.key?[O.salt,O.key,O.value]:[O.salt,O.value],digest:O.digest}));const b=o.disclosures.map(O=>O.encoded),A=o.compactSdJwtVc.split("~");o.compactSdJwtVc=A.filter((O,j)=>0===j||j===A.length-1||b.includes(O)).join("~");const{payload:C}=(0,m.getSDAlgAndPayload)(u.ObjectUtils.cloneDeep(o.signedPayload)),_=(0,g.createHashMappingForSerializedDisclosure)(E),{unpackedObj:N}=(0,m.unpackObj)(C,_);o.decodedPayload=N}},38612:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.ConstraintsVB=void 0;const h=s(47636),a=s(30387),v=s(10767);class m extends v.ValidationBundler{constructor(c){super(c,"constraints"),this.disclosureLimitShouldHaveKnownValueMsg="limit_disclosure should have known value",this.statusShouldHaveKnownValueMsg="Unknown status property",this.statusDirectiveShouldHaveKnownValueMsg="status directive should have known value",this.subjectIsIssuerShouldBeKnownValueMsg="subject_is_issuer should be known value",this.fieldIdIsMandatoryMsg="field_id property is mandatory",this.fieldIdMustBeArrayOfStringsMsg="field_id property must be an array of strings",this.fieldIdMustCorrespondToFieldIdMsg="field_id must correspond to a present field object id property",this.directivePropertyIsMandatoryMsg="directive property is mandatory",this.oneOfTheKnownDirectivePropertiesMandatoryMsg="directive property must be one of [required, preferred]"}getValidations(c){let u=[];return c&&(u=[{tag:this.getTag(),target:c,predicate:i=>m.disclosureLimitShouldHaveKnownValue(i.limit_disclosure),message:this.disclosureLimitShouldHaveKnownValueMsg},{tag:this.getTag(),target:c,predicate:i=>m.statusShouldHaveKnownValue(i.statuses),message:this.statusShouldHaveKnownValueMsg},{tag:this.getTag(),target:c,predicate:m.statusDirectiveShouldHaveKnownValue(),message:this.statusDirectiveShouldHaveKnownValueMsg},{tag:this.getTag(),target:c,predicate:i=>m.shouldBeKnownOption(i.is_holder),message:this.subjectIsIssuerShouldBeKnownValueMsg},{tag:this.getTag(),target:c,predicate:i=>this.fieldIdInSubjectMustCorrespondToFieldId(i,i.is_holder),message:this.fieldIdMustCorrespondToFieldIdMsg},{tag:this.getTag(),target:c,predicate:i=>this.fieldIdInSubjectMustCorrespondToFieldId(i,i.same_subject),message:this.fieldIdMustCorrespondToFieldIdMsg},...this.getSubjectsValidations(c?.is_holder),...this.getSubjectsValidations(c?.same_subject),...this.getFieldsValidations(c)]),u}getFieldsValidations(c){var u;return null!==(u=c?.fields)&&void 0!==u&&u.length?new a.FieldsVB(this.getTag()).getValidations(c.fields):[]}static disclosureLimitShouldHaveKnownValue(c){return!c||c===h.Optionality.Preferred||c===h.Optionality.Required}static statusShouldHaveKnownValue(c){return null==c||null!=c.active||null!=c.revoked||null!=c.suspended}static statusDirectiveShouldHaveKnownValue(){return c=>{var u,i,p;return this.pdStatusShouldBeKnown(null===(u=c?.statuses)||void 0===u?void 0:u.active)&&this.pdStatusShouldBeKnown(null===(i=c?.statuses)||void 0===i?void 0:i.revoked)&&this.pdStatusShouldBeKnown(null===(p=c?.statuses)||void 0===p?void 0:p.suspended)}}static pdStatusShouldBeKnown(c){return!c||c.directive===h.Directives.Allowed||c.directive===h.Directives.Disallowed||c.directive===h.Directives.Required}static shouldBeKnownOption(c){return!c||0===c.filter(u=>u.directive!==h.Optionality.Preferred&&u.directive!==h.Optionality.Required).length}getSubjectsValidations(c){if(c){let u=[];for(let i=0;i<c.length;i++)u=[{tag:this.getMyTag(i),target:c[i],predicate:p=>Array.isArray(p.field_id),message:this.fieldIdMustBeArrayOfStringsMsg},{tag:this.getMyTag(i),target:c[i],predicate:p=>!!p.field_id,message:this.fieldIdIsMandatoryMsg},{tag:this.getMyTag(i),target:c[i],predicate:p=>p.field_id.length===p.field_id.filter(o=>"string"==typeof o).length,message:this.fieldIdMustBeArrayOfStringsMsg},{tag:this.getMyTag(i),target:c[i],predicate:p=>void 0!==p.directive,message:this.directivePropertyIsMandatoryMsg},{tag:this.getMyTag(i),target:c[i],predicate:p=>p.directive===h.Optionality.Preferred||p.directive===h.Optionality.Required,message:this.oneOfTheKnownDirectivePropertiesMandatoryMsg}];return u}return[]}getMyTag(c){return this.parentTag+"."+this.myTag+"["+c+"]"}fieldIdInSubjectMustCorrespondToFieldId(c,u){if(u)for(const i of u)for(const p of i.field_id)if(!m.isValidFieldId(c,p))return!1;return!0}static isValidFieldId(c,u){return!!c?.fields&&c.fields.map(i=>i.id).includes(u)}}d.ConstraintsVB=m},30387:function(X,d,s){"use strict";var h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(d,"__esModule",{value:!0}),d.FieldsVB=void 0;const a=s(44273),v=s(47636),m=h(s(94217)),g=h(s(61264)),c=s(10767);class u extends c.ValidationBundler{constructor(p){super(p,"fields"),this.mustHaveValidJsonPathsMsg='field object "path" property must contain array of valid json paths',this.pathObjMustHaveValidJsonPathMsg='field object "path" property must contain valid json paths.',this.filterMustBeValidJsonSchemaMsg='field object "filter" property must be valid json schema',this.filterIsMustInPresenceOfPredicateMsg='field object must have a "filter" property if "predicate" is present',this.filterIsNotValidJsonSchemaDescriptorMsg='could not parse "filter" object as a valid json schema descriptor.',this.purposeShouldBeANonEmptyStringMsg="purpose should be a non empty string",this.shouldBeKnownOptionMsg="Unknown predicate property"}getValidations(p){let o=[];if(p)for(let l=0;l<p.length;l++)o=[...o,...this.getValidationsFor(p[l],l)];return o}getValidationsFor(p,o){return[{tag:this.getMyTag(o),target:p,predicate:this.mustHaveValidJsonPaths(),message:this.mustHaveValidJsonPathsMsg},{tag:this.getMyTag(o),target:p,predicate:this.filterMustBeValidJsonSchema(),message:this.filterMustBeValidJsonSchemaMsg},{tag:this.getMyTag(o),target:p,predicate:this.filterIsMustInPresenceOfPredicate(),message:this.filterIsMustInPresenceOfPredicateMsg},{tag:this.getMyTag(o),target:p,predicate:l=>u.optionalNonEmptyString(l?.purpose),message:this.purposeShouldBeANonEmptyStringMsg},{tag:this.getMyTag(o),target:p,predicate:l=>u.shouldBeKnownOption(l?.predicate),message:this.shouldBeKnownOptionMsg}]}getMyTag(p){return this.parentTag+"."+this.myTag+"["+p+"]"}mustHaveValidJsonPaths(){return p=>null!=p.path&&p.path.length>0&&this._validateJsonPaths(p.path)}_validateJsonPaths(p){const o=[];if(p.forEach(l=>{try{a.JSONPath.parse(l)}catch{o.push(l)}}),o.length>0)throw this.toChecked(this.pathObjMustHaveValidJsonPathMsg+" Got: "+JSON.stringify(o));return!0}filterMustBeValidJsonSchema(){return p=>this._validateFilter(p.filter)}_validateFilter(p){if(null==p)return!0;let o=!1;try{o=(0,g.default)(p),o||(o=(0,m.default)(p))}catch{throw this.toChecked(this.filterIsNotValidJsonSchemaDescriptorMsg+" Got "+JSON.stringify(p))}return o}filterIsMustInPresenceOfPredicate(){return p=>!(null!=p.predicate&&null==p.filter)}static optionalNonEmptyString(p){return null==p||p.length>0}static shouldBeKnownOption(p){return null==p||p==v.Optionality.Required||p==v.Optionality.Preferred}}d.FieldsVB=u},79241:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.FrameVB=void 0;const h=s(13486),a=s(10767);class v extends a.ValidationBundler{constructor(g){super(g,"frame"),this.frameIsValidMsg="frame value is not valid"}getValidations(g){let c=[];return c=[...c,...this.getMyValidations(g)],c}getMyValidations(g){return[{tag:this.getMyTag(),target:g,predicate:v.frameIsValid,message:this.frameIsValidMsg}]}getMyTag(){return this.parentTag+"."+this.myTag}static frameIsValid(g){if(!g||Array.isArray(g)||"object"!=typeof g)return!1;const c=g;if(c&&c["@id"])for(const u of h.ObjectUtils.asArray(g["@id"]))if(!h.ObjectUtils.isObject(u)&&!h.ObjectUtils.isUrlAbsolute(u)||h.ObjectUtils.isString(u)&&0===u.indexOf("_:"))return!1;if(c["@types"])for(const u of h.ObjectUtils.asArray(g["@types"]))if(!h.ObjectUtils.isObject(u)&&!h.ObjectUtils.isUrlAbsolute(u)||h.ObjectUtils.isString(u)&&0===u.indexOf("_:"))return!1;return!0}}d.FrameVB=v},75056:function(X,d,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(v,m,g,c){void 0===c&&(c=g);var u=Object.getOwnPropertyDescriptor(m,g);(!u||("get"in u?!m.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return m[g]}}),Object.defineProperty(v,c,u)}:function(v,m,g,c){void 0===c&&(c=g),v[c]=m[g]}),a=this&&this.__exportStar||function(v,m){for(var g in v)"default"!==g&&!Object.prototype.hasOwnProperty.call(m,g)&&h(m,v,g)};Object.defineProperty(d,"__esModule",{value:!0}),a(s(30387),d),a(s(853),d),a(s(74840),d),a(s(27506),d),a(s(12915),d),a(s(3170),d),a(s(97091),d),a(s(10767),d),a(s(38612),d)},853:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.InputDescriptorsV1VB=void 0;const h=s(13486),a=s(38612),v=s(10767);d.InputDescriptorsV1VB=class m extends v.ValidationBundler{constructor(c){super(c,"input_descriptor"),this.idMustBeNonEmptyStringMsg="input descriptor id must be non-empty string",this.nameShouldBeNonEmptyStringMsg="input descriptor name should be non-empty string",this.purposeShouldBeNonEmptyStringMsg="input descriptor purpose should be non-empty string",this.shouldHaveValidSchemaURIMsg="schema should have valid URI"}getValidations(c){let u=[];return u.push({tag:this.getTag(),target:c,predicate:i=>this.shouldHaveUniqueIds(i),message:"input descriptor ids must be unique"},{tag:this.getTag(),target:c,predicate:i=>this.shouldHaveUniqueFieldsIds(i),message:"fields id must be unique"}),c.forEach((i,p)=>{u=[...u,...this.getValidationFor(i,p),...this.constraintsValidations(i,p)]}),u}getValidationFor(c,u){return[{tag:this.getMyTag(u),target:c,predicate:i=>h.ObjectValidationUtils.nonEmptyString(i?.id),message:this.idMustBeNonEmptyStringMsg},{tag:this.getMyTag(u),target:c,predicate:this.isValidSchema(),message:this.shouldHaveValidSchemaURIMsg},{tag:this.getMyTag(u),target:c,predicate:i=>h.ObjectValidationUtils.optionalNonEmptyString(i?.name),message:this.nameShouldBeNonEmptyStringMsg},{tag:this.getMyTag(u),target:c,predicate:i=>h.ObjectValidationUtils.optionalNonEmptyString(i?.purpose),message:this.purposeShouldBeNonEmptyStringMsg}]}shouldHaveUniqueFieldsIds(c){const u=[],i=new Set,p=[];return c.map(o=>{var l;return null===(l=o.constraints)||void 0===l?void 0:l.fields}).forEach(o=>{o&&p.push(...o)}),p.forEach(o=>{o.id&&u.push(o.id)}),u.forEach(o=>i.add(o)),u.length===i.size}shouldHaveUniqueIds(c){const u=[],i=new Set;return c.forEach(p=>u.push(p.id)),u.forEach(p=>i.add(p)),u.length===i.size}getMyTag(c){return this.parentTag+"."+this.myTag+"["+c+"]"}isValidSchema(){return c=>c.schema.filter(u=>this.isAValidURI(u.uri)&&(null==u.required||"boolean"==typeof u.required)).length>0}isAValidURI(c){if(!c)return!1;if(!h.ObjectValidationUtils.nonEmptyString(c))return!1;if(c.startsWith("http://")||c.startsWith("https://"))try{new URL(c)}catch{return h.ObjectValidationUtils.isValidDIDURI(c)}return!0}constraintsValidations(c,u){return c.constraints?new a.ConstraintsVB(this.getMyTag(u)).getValidations(c.constraints):[]}}},74840:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.InputDescriptorsV2VB=void 0;const h=s(13486),a=s(38612),v=s(10767);d.InputDescriptorsV2VB=class m extends v.ValidationBundler{constructor(c){super(c,"input_descriptor"),this.idMustBeNonEmptyStringMsg="input descriptor id must be non-empty string",this.nameShouldBeNonEmptyStringMsg="input descriptor name should be non-empty string",this.purposeShouldBeNonEmptyStringMsg="input descriptor purpose should be non-empty string"}getValidations(c){let u=[];return u.push({tag:this.getTag(),target:c,predicate:i=>this.shouldNotHaveSchema(i),message:"input descriptor should not have schema property"},{tag:this.getTag(),target:c,predicate:i=>this.shouldHaveUniqueIds(i),message:"input descriptor ids must be unique"},{tag:this.getTag(),target:c,predicate:i=>this.shouldHaveUniqueFieldsIds(i),message:"fields id must be unique"}),c.forEach((i,p)=>{u=[...u,...this.getValidationFor(i,p),...this.constraintsValidations(i,p)]}),u}getValidationFor(c,u){return[{tag:this.getMyTag(u),target:c,predicate:i=>h.ObjectValidationUtils.nonEmptyString(i?.id),message:this.idMustBeNonEmptyStringMsg},{tag:this.getMyTag(u),target:c,predicate:i=>h.ObjectValidationUtils.optionalNonEmptyString(i?.name),message:this.nameShouldBeNonEmptyStringMsg},{tag:this.getMyTag(u),target:c,predicate:i=>h.ObjectValidationUtils.optionalNonEmptyString(i?.purpose),message:this.purposeShouldBeNonEmptyStringMsg}]}shouldHaveUniqueFieldsIds(c){const u=[],i=new Set,p=[];return c.map(o=>{var l;return null===(l=o.constraints)||void 0===l?void 0:l.fields}).forEach(o=>{o&&p.push(...o)}),p.forEach(o=>{o.id&&u.push(o.id)}),u.forEach(o=>i.add(o)),u.length===i.size}shouldHaveUniqueIds(c){const u=[],i=new Set;return c.forEach(p=>u.push(p.id)),u.forEach(p=>i.add(p)),u.length===i.size}getMyTag(c){return this.parentTag+"."+this.myTag+"["+c+"]"}constraintsValidations(c,u){return c.constraints?new a.ConstraintsVB(this.getMyTag(u)).getValidations(c.constraints):[]}shouldNotHaveSchema(c){let u=!1;return c.forEach(i=>{i.schema&&(u=!0)}),!u}}},27506:function(X,d,s){"use strict";var h=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(d,"__esModule",{value:!0}),d.PresentationDefinitionV1VB=void 0;const a=s(92209),v=s(83851),m=h(s(86515)),g=s(853),c=s(97091),u=s(10767);class i extends u.ValidationBundler{constructor(o){super(o,"presentation_definition")}getValidations(o){return o.submission_requirements?[...this.myValidations(o),...new g.InputDescriptorsV1VB(this.myTag).getValidations(o.input_descriptors),...new c.SubmissionRequirementVB(this.myTag).getValidations(o.submission_requirements)]:[...this.myValidations(o),...new g.InputDescriptorsV1VB(this.myTag).getValidations(o.input_descriptors)]}myValidations(o){return[{tag:this.getTag(),target:o,predicate:l=>null!=l,message:"presentation_definition should be non null."},{tag:this.getTag(),target:o,predicate:this.shouldBeAsPerJsonSchema(),message:"presentation_definition should be as per json schema."},{tag:this.getTag(),target:o,predicate:l=>i.nonEmptyString(l?.id),message:"id should not be empty"},{tag:this.getTag(),target:o,predicate:l=>i.optionalNonEmptyString(l?.name),message:"name should be a non-empty string"},{tag:this.getTag(),target:o,predicate:l=>i.optionalNonEmptyString(l?.purpose),message:"purpose should be a non-empty string"},{tag:this.getTag(),target:o,predicate:l=>i.formatValuesShouldNotBeEmpty(l?.format),message:"formats values should not empty"},{tag:this.getTag(),target:o,predicate:l=>i.formatValuesShouldBeAmongKnownValues(l?.format),message:"formats should only have known identifiers for alg or proof_type"},{tag:this.getTag(),target:o,predicate:l=>i.groupShouldMatchSubmissionRequirements(l),message:"input descriptor group should match the from in submission requirements."},{tag:this.getTag(),target:o,predicate:l=>i.shouldNotHaveFrameProperty(l),message:"input descriptor should not have frame property."}]}static optionalNonEmptyString(o){return null==o||o.length>0}static nonEmptyString(o){return null!=o&&o.length>0}static formatValuesShouldNotBeEmpty(o){var l,w,E,b,A,C,_,N,O,j,F;let T=!0;return null!=o?.jwt&&(T=T&&(null===(l=o.jwt.alg)||void 0===l?void 0:l.length)>0),null!=o?.jwt_vc&&(T=T&&(null===(w=o.jwt_vc.alg)||void 0===w?void 0:w.length)>0),null!=o?.jwt_vc_json&&(T=T&&(null===(E=o.jwt_vc_json.alg)||void 0===E?void 0:E.length)>0),null!=o?.jwt_vp&&(T=T&&(null===(b=o.jwt_vp.alg)||void 0===b?void 0:b.length)>0),null!=o?.jwt_vp_json&&(T=T&&(null===(A=o.jwt_vp_json.alg)||void 0===A?void 0:A.length)>0),null!=o?.ldp&&(T=T&&(null===(C=o.ldp.proof_type)||void 0===C?void 0:C.length)>0),null!=o?.ldp_vc&&(T=T&&(null===(_=o.ldp_vc.proof_type)||void 0===_?void 0:_.length)>0),null!=o?.ldp_vp&&(T=T&&(null===(N=o.ldp_vp.proof_type)||void 0===N?void 0:N.length)>0),null!=o?.di&&(T=T&&(null===(O=o.di.proof_type)||void 0===O?void 0:O.length)>0),null!=o?.di_vc&&(T=T&&(null===(j=o.di_vc.proof_type)||void 0===j?void 0:j.length)>0),null!=o?.di_vp&&(T=T&&(null===(F=o.di_vp.proof_type)||void 0===F?void 0:F.length)>0),T}static formatValuesShouldBeAmongKnownValues(o){let l=[];if(o){const w=a.JwtAlgos.getJwtAlgos(),E=v.LdpTypes.getLdpTypes();l=[];for(const[b,A]of Object.entries(o))b.startsWith("jwt")?l.push(...i.isJWTAlgoKnown(A,w)):l.push(...i.isLDPProofKnown(A,E))}return 0===l.length}static isJWTAlgoKnown(o,l){const w=[];if(null!=o&&null!=o.alg)for(const E of o.alg)l.includes(E)||w.push(E);return w}static isLDPProofKnown(o,l){const w=[];if(null!=o&&null!=o.proof_type)for(const E of o.proof_type)l.includes(E)||w.push(E);return w}static groupShouldMatchSubmissionRequirements(o){if(null!=o.submission_requirements&&o.submission_requirements.length>0){const l=[];o.input_descriptors.forEach(C=>{C.group&&l.push(...C.group)});const w=new Set(l),E=[];i.flatten(o.submission_requirements).forEach(C=>{C.from&&(Array.isArray(C.from)?E.push(...C.from):E.push(C.from))});const b=new Set(E);return 0===new Set([...b].filter(C=>null!=C&&C.length>0&&!w.has(C))).size}return!0}static flatten(o){return o?.reduce((l,w)=>l.concat(Array.isArray(w.from_nested)?this.flatten(w.from_nested):w),[])}shouldBeAsPerJsonSchema(){return o=>(0,m.default)({presentation_definition:o})}static shouldNotHaveFrameProperty(o){return!o.frame}}d.PresentationDefinitionV1VB=i},12915:function(X,d,s){"use strict";var h=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(d,"__esModule",{value:!0}),d.PresentationDefinitionV2VB=void 0;const a=s(92209),v=s(83851),m=h(s(93046)),g=s(79241),c=s(74840),u=s(97091),i=s(10767);class p extends i.ValidationBundler{constructor(l){super(l,"presentation_definition")}getValidations(l){let w=[];return w=l.submission_requirements?[...this.myValidations(l),...new c.InputDescriptorsV2VB(this.myTag).getValidations(l.input_descriptors),...new u.SubmissionRequirementVB(this.myTag).getValidations(l.submission_requirements)]:[...this.myValidations(l),...new c.InputDescriptorsV2VB(this.myTag).getValidations(l.input_descriptors)],l.frame&&w.push(...new g.FrameVB(this.myTag).getValidations(l.frame)),w}myValidations(l){return[{tag:this.getTag(),target:l,predicate:w=>null!=w,message:"presentation_definition should be non null."},{tag:this.getTag(),target:l,predicate:this.shouldBeAsPerJsonSchema(),message:"presentation_definition should be as per json schema."},{tag:this.getTag(),target:l,predicate:w=>p.nonEmptyString(w?.id),message:"id should not be empty"},{tag:this.getTag(),target:l,predicate:w=>p.optionalNonEmptyString(w?.name),message:"name should be a non-empty string"},{tag:this.getTag(),target:l,predicate:w=>p.optionalNonEmptyString(w?.purpose),message:"purpose should be a non-empty string"},{tag:this.getTag(),target:l,predicate:w=>p.formatValuesShouldNotBeEmpty(w?.format),message:"formats values should not empty"},{tag:this.getTag(),target:l,predicate:w=>p.formatValuesShouldBeAmongKnownValues(w?.format),message:"formats should only have known identifiers for alg or proof_type"},{tag:this.getTag(),target:l,predicate:w=>p.groupShouldMatchSubmissionRequirements(w),message:"input descriptor group should match the from in submission requirements."}]}static optionalNonEmptyString(l){return null==l||l.length>0}static nonEmptyString(l){return null!=l&&l.length>0}static formatValuesShouldNotBeEmpty(l){var w,E,b,A,C,_,N,O,j,F,T;let z=!0;return null!=l?.jwt&&(z=z&&(null===(w=l.jwt.alg)||void 0===w?void 0:w.length)>0),null!=l?.jwt_vc&&(z=z&&(null===(E=l.jwt_vc.alg)||void 0===E?void 0:E.length)>0),null!=l?.jwt_vc_json&&(z=z&&(null===(b=l.jwt_vc_json.alg)||void 0===b?void 0:b.length)>0),null!=l?.jwt_vp&&(z=z&&(null===(A=l.jwt_vp.alg)||void 0===A?void 0:A.length)>0),null!=l?.jwt_vp_json&&(z=z&&(null===(C=l.jwt_vp_json.alg)||void 0===C?void 0:C.length)>0),null!=l?.ldp&&(z=z&&(null===(_=l.ldp.proof_type)||void 0===_?void 0:_.length)>0),null!=l?.ldp_vc&&(z=z&&(null===(N=l.ldp_vc.proof_type)||void 0===N?void 0:N.length)>0),null!=l?.ldp_vp&&(z=z&&(null===(O=l.ldp_vp.proof_type)||void 0===O?void 0:O.length)>0),null!=l?.di&&(z=z&&(null===(j=l.di.proof_type)||void 0===j?void 0:j.length)>0),null!=l?.di_vc&&(z=z&&(null===(F=l.di_vc.proof_type)||void 0===F?void 0:F.length)>0),null!=l?.di_vp&&(z=z&&(null===(T=l.di_vp.proof_type)||void 0===T?void 0:T.length)>0),z}static formatValuesShouldBeAmongKnownValues(l){let w=[];if(l){const E=a.JwtAlgos.getJwtAlgos(),b=v.LdpTypes.getLdpTypes();w=[];for(const[A,C]of Object.entries(l))A.startsWith("jwt")?w.push(...p.isJWTAlgoKnown(C,E)):w.push(...p.isLDPProofKnown(C,b))}return 0===w.length}static isJWTAlgoKnown(l,w){const E=[];if(null!=l&&null!=l.alg)for(const b of l.alg)w.includes(b)||E.push(b);return E}static isLDPProofKnown(l,w){const E=[];if(null!=l&&null!=l.proof_type)for(const b of l.proof_type)w.includes(b)||E.push(b);return E}static groupShouldMatchSubmissionRequirements(l){if(null!=l.submission_requirements&&l.submission_requirements.length>0){const w=[];l.input_descriptors.forEach(_=>{_.group&&w.push(..._.group)});const E=new Set(w),b=[];p.flatten(l.submission_requirements).forEach(_=>{_.from&&b.push(_.from)});const A=new Set(b);return 0===new Set([...A].filter(_=>null!=_&&_.length>0&&!E.has(_))).size}return!0}static flatten(l){return l?.reduce((w,E)=>w.concat(Array.isArray(E.from_nested)?this.flatten(E.from_nested):E),[])}shouldBeAsPerJsonSchema(){return l=>(0,m.default)({presentation_definition:l})}}d.PresentationDefinitionV2VB=p},3170:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.PresentationSubmissionVB=void 0;const h=s(44273),a=s(55776),v=s(10767);class m extends v.ValidationBundler{constructor(c){super(c,"presentation_submission")}getValidations(c){return[{tag:this.getTag(),target:c,predicate:u=>null!=u,message:"presentation_submission should be non null."},{tag:this.getTag(),target:c,predicate:u=>m.nonEmptyString(u?.id),message:"id should not be empty"},{tag:this.getTag(),target:c,predicate:u=>m.nonEmptyString(u?.definition_id),message:"presentation_definition_id should not be empty"},{tag:this.getTag(),target:c,predicate:u=>m.descriptorMapMustBePresent(u?.descriptor_map),message:"descriptor_map should be a non-empty list"},{tag:this.getTag(),target:c,predicate:u=>m.idMustBeSameForEachLevelOfNesting(u?.descriptor_map),message:"each descriptor should have a one id in it, on all levels"},{tag:this.getTag(),target:c,predicate:u=>m.formatsShouldBeKnown(u?.descriptor_map),message:"each format should be one of the known format"},{tag:this.getTag(),target:c,predicate:u=>m.pathsShouldBeValidJsonPaths(u?.descriptor_map),message:"each path should be a valid jsonPath"}]}static nonEmptyString(c){return null!=c&&c.length>0}static descriptorMapMustBePresent(c){return null!=c&&c.length>0}static idMustBeSameForEachLevelOfNesting(c){let u=!0;if(null!=c)for(let i=0;i<c.length;i++)u=u&&m.isIdSameForEachLevelOfNesting(c[i],c[i].id);return u}static isIdSameForEachLevelOfNesting(c,u){let i=!0;return null!=c&&null!=c.path_nested&&(i=c.path_nested.id==u&&i&&m.isIdSameForEachLevelOfNesting(c.path_nested,u)),i}static formatsShouldBeKnown(c){let u=!0;if(null!=c){const i=["jwt","jwt_vc","jwt_vc_json","jwt_vp","jwt_vp_json","ldp","ldp_vc","ldp_vp","di","di_vc","di_vp","vc+sd-jwt"];for(let p=0;p<c.length;p++)u=m.formatShouldBeKnown(c[p],i)}return u}static formatShouldBeKnown(c,u){let i=!0;return null!=c&&(i=u.includes(c.format)),null!=c.path_nested&&(i=i&&m.formatShouldBeKnown(c.path_nested,u)),i}static pathsShouldBeValidJsonPaths(c){let u=!0;if(null!=c)for(let i=0;i<c.length;i++)u=m.pathShouldBeValid(c[i],[]);return u}static pathShouldBeValid(c,u){if(null!=c){try{h.JSONPath.parse(c.path)}catch{u.push(c.path)}null!=c.path_nested&&m.pathShouldBeValid(c.path_nested,u)}if(u.length>0)throw new a.Checked("",a.Status.ERROR,"These were not parsable json paths: "+JSON.stringify(u));return!0}}d.PresentationSubmissionVB=m},97091:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.SubmissionRequirementVB=void 0;const h=s(10767);class a extends h.ValidationBundler{constructor(m){super(m,"submission_requirements"),this.ruleIsMandatoryMsg="rule is a mandatory field",this.needsOneFromOrFromNestedMsg="needs exactly one of from or from_nested",this.fromNestedShouldBeArrayMsg="The value of the from_nested property MUST be an array",this.isCountPositiveIntMsg="count must be a practical positive number",this.isMinPositiveIntMsg="min must be a practical positive number",this.isMaxPositiveIntMsg="max must be a practical positive number",this.ruleShouldBePickOrAllMsg="rule should be either pick or all"}getValidations(m){let g=[];if(null!=m&&m.length>0)for(let c=0;c<m.length;c++)g=[...g,...this.getMyValidations(c,m),...this.getSubValidations(c,m)];return g}getMyValidations(m,g){return[{tag:this.getMyTag(m),target:g[m],predicate:a.ruleIsMandatory,message:this.ruleIsMandatoryMsg},{tag:this.getMyTag(m),target:g[m],predicate:a.needsOneFromOrFromNested,message:this.needsOneFromOrFromNestedMsg},{tag:this.getMyTag(m),target:g[m],predicate:a.fromNestedShouldBeArray,message:this.fromNestedShouldBeArrayMsg},{tag:this.getMyTag(m),target:g[m],predicate:this.isCountPositiveInt,message:this.isCountPositiveIntMsg},{tag:this.getMyTag(m),target:g[m],predicate:this.isMinPositiveInt,message:this.isMinPositiveIntMsg},{tag:this.getMyTag(m),target:g[m],predicate:this.isMaxPositiveInt,message:this.isMaxPositiveIntMsg},{tag:this.getMyTag(m),target:g[m],predicate:a.ruleShouldBePickOrAll,message:this.ruleShouldBePickOrAllMsg}]}getMyTag(m){return this.parentTag+"."+this.myTag+"["+m+"]"}getSubValidations(m,g){const c=g[m].from_nested;return null!=c?new a(this.getFromNestedTag(m)).getValidations(c):[]}getFromNestedTag(m){return this.getMyTag(m)+".from_nested"}isCountPositiveInt(m){return"pick"!==m.rule||null==m.count||0<m.count}isMinPositiveInt(m){return"pick"!==m.rule||null==m.min||0<=m.min}isMaxPositiveInt(m){return"pick"!==m.rule||null==m.max||0<m.max}static ruleIsMandatory(m){return null!=m.rule}static needsOneFromOrFromNested(m){return null==m.from!=(null==m.from_nested)}static fromNestedShouldBeArray(m){return null==m.from_nested||Array.isArray(m.from_nested)}static ruleShouldBePickOrAll(m){return"pick"===m.rule||"all"===m.rule}}d.SubmissionRequirementVB=a},10767:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.ValidationBundler=void 0;const h=s(55776);d.ValidationBundler=class a{constructor(m,g){this.parentTag=m,this.myTag=g}getTag(){return null!=this.parentTag?this.parentTag+"."+this.myTag:this.myTag}toChecked(m){return new h.Checked(this.getTag(),h.Status.ERROR,m)}}},80320:function(X,d,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(v,m,g,c){void 0===c&&(c=g);var u=Object.getOwnPropertyDescriptor(m,g);(!u||("get"in u?!m.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return m[g]}}),Object.defineProperty(v,c,u)}:function(v,m,g,c){void 0===c&&(c=g),v[c]=m[g]}),a=this&&this.__exportStar||function(v,m){for(var g in v)"default"!==g&&!Object.prototype.hasOwnProperty.call(m,g)&&h(m,v,g)};Object.defineProperty(d,"__esModule",{value:!0}),a(s(51130),d),a(s(93398),d),a(s(50903),d)},92209:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.JwtAlgos=void 0,d.JwtAlgos=class s{static getJwtAlgos(){return["HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","ES512","PS256","PS384","PS512","none","RSA1_5","RSA-OAEP","RSA-OAEP-256","A128KW","A192KW","A256KW","dir","ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW","A128GCMKW","A192GCMKW","A256GCMKW","PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"]}}},83851:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.LdpTypes=void 0,d.LdpTypes=class s{static getLdpTypes(){return["Ed25519VerificationKey2018","Ed25519Signature2018","RsaSignature2018","EcdsaSecp256k1Signature2019","EcdsaSecp256k1RecoverySignature2020","JsonWebSignature2020","GpgSignature2020","JcsEd25519Signature2020","BbsBlsSignature2020","Bls12381G2Key2020","DataIntegrityProof"]}}},93398:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},50903:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.ValidationEngine=void 0;const h=s(80320);d.ValidationEngine=class a{validate(m){let g=[];for(const c of m)g=g.concat(c.bundler.getValidations(c.target));return(0,h.validate)(g)}}},51130:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.validate=void 0;const h=s(55776);d.validate=v=>{function g(o){return new h.Checked(o.tag,h.Status.ERROR,o.message)}function c(o){return new h.Checked(o,h.Status.INFO,"ok")}const p=v.map(o=>function u(o){let l;try{l=o.predicate(o.target)?c(o.tag):g(o)}catch{l=g(o)}return l}(o)).reduce((o,l)=>(l.status!==h.Status.INFO&&o.push(l),o),[]);return(0,h.hasErrors)(p)?p:[c("root")]}},80930:function(X,d,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(v,m,g,c){void 0===c&&(c=g);var u=Object.getOwnPropertyDescriptor(m,g);(!u||("get"in u?!m.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return m[g]}}),Object.defineProperty(v,c,u)}:function(v,m,g,c){void 0===c&&(c=g),v[c]=m[g]}),a=this&&this.__exportStar||function(v,m){for(var g in v)"default"!==g&&!Object.prototype.hasOwnProperty.call(m,g)&&h(m,v,g)};Object.defineProperty(d,"__esModule",{value:!0}),a(s(75056),d),a(s(80320),d)},94217:X=>{"use strict";X.exports=u,X.exports.default=u;const s={additionalProperties:!1,properties:{const:{$ref:"#/definitions/OneOfNumberStringBoolean"},enum:{items:{$ref:"#/definitions/OneOfNumberString"},type:"array"},exclusiveMaximum:{$ref:"#/definitions/OneOfNumberString"},exclusiveMinimum:{$ref:"#/definitions/OneOfNumberString"},format:{type:"string"},maxLength:{type:"number"},maximum:{$ref:"#/definitions/OneOfNumberString"},minLength:{type:"number"},minimum:{$ref:"#/definitions/OneOfNumberString"},not:{type:"object"},pattern:{type:"string"},type:{type:"string"}},required:["type"],type:"object"},h=Object.prototype.hasOwnProperty,a={type:["number","string","boolean"]};function v(i,{instancePath:p="",rootData:w=i}={}){let E=null,b=0;if("number"!=typeof i&&"string"!=typeof i&&"boolean"!=typeof i){const A={instancePath:p,schemaPath:"#/type",keyword:"type",params:{type:a.type},message:"must be number,string,boolean",schema:a.type,parentSchema:a,data:i};null===E?E=[A]:E.push(A),b++}return v.errors=E,0===b}const m={type:["number","string"]};function g(i,{instancePath:p="",rootData:w=i}={}){let E=null,b=0;if("number"!=typeof i&&"string"!=typeof i){const A={instancePath:p,schemaPath:"#/type",keyword:"type",params:{type:m.type},message:"must be number,string",schema:m.type,parentSchema:m,data:i};null===E?E=[A]:E.push(A),b++}return g.errors=E,0===b}function c(i,{instancePath:p="",rootData:w=i}={}){let E=null,b=0;if(i&&"object"==typeof i&&!Array.isArray(i)){if(void 0===i.type){const A={instancePath:p,schemaPath:"#/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'",schema:s.required,parentSchema:s,data:i};null===E?E=[A]:E.push(A),b++}for(const A in i)if(!h.call(s.properties,A)){const C={instancePath:p,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:A},message:"must NOT have additional properties",schema:!1,parentSchema:s,data:i};null===E?E=[C]:E.push(C),b++}if(void 0!==i.const&&(v(i.const,{instancePath:p+"/const",parentData:i,parentDataProperty:"const",rootData:w})||(E=null===E?v.errors:E.concat(v.errors),b=E.length)),void 0!==i.enum){let A=i.enum;if(Array.isArray(A)){const C=A.length;for(let _=0;_<C;_++)g(A[_],{instancePath:p+"/enum/"+_,parentData:A,parentDataProperty:_,rootData:w})||(E=null===E?g.errors:E.concat(g.errors),b=E.length)}else{const C={instancePath:p+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:s.properties.enum.type,parentSchema:s.properties.enum,data:A};null===E?E=[C]:E.push(C),b++}}if(void 0!==i.exclusiveMaximum&&(g(i.exclusiveMaximum,{instancePath:p+"/exclusiveMaximum",parentData:i,parentDataProperty:"exclusiveMaximum",rootData:w})||(E=null===E?g.errors:E.concat(g.errors),b=E.length)),void 0!==i.exclusiveMinimum&&(g(i.exclusiveMinimum,{instancePath:p+"/exclusiveMinimum",parentData:i,parentDataProperty:"exclusiveMinimum",rootData:w})||(E=null===E?g.errors:E.concat(g.errors),b=E.length)),void 0!==i.format){let A=i.format;if("string"!=typeof A){const C={instancePath:p+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.properties.format.type,parentSchema:s.properties.format,data:A};null===E?E=[C]:E.push(C),b++}}if(void 0!==i.maxLength){let A=i.maxLength;if("number"!=typeof A){const C={instancePath:p+"/maxLength",schemaPath:"#/properties/maxLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:s.properties.maxLength.type,parentSchema:s.properties.maxLength,data:A};null===E?E=[C]:E.push(C),b++}}if(void 0!==i.maximum&&(g(i.maximum,{instancePath:p+"/maximum",parentData:i,parentDataProperty:"maximum",rootData:w})||(E=null===E?g.errors:E.concat(g.errors),b=E.length)),void 0!==i.minLength){let A=i.minLength;if("number"!=typeof A){const C={instancePath:p+"/minLength",schemaPath:"#/properties/minLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:s.properties.minLength.type,parentSchema:s.properties.minLength,data:A};null===E?E=[C]:E.push(C),b++}}if(void 0!==i.minimum&&(g(i.minimum,{instancePath:p+"/minimum",parentData:i,parentDataProperty:"minimum",rootData:w})||(E=null===E?g.errors:E.concat(g.errors),b=E.length)),void 0!==i.not){let A=i.not;if(!A||"object"!=typeof A||Array.isArray(A)){const C={instancePath:p+"/not",schemaPath:"#/properties/not/type",keyword:"type",params:{type:"object"},message:"must be object",schema:s.properties.not.type,parentSchema:s.properties.not,data:A};null===E?E=[C]:E.push(C),b++}}if(void 0!==i.pattern){let A=i.pattern;if("string"!=typeof A){const C={instancePath:p+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.properties.pattern.type,parentSchema:s.properties.pattern,data:A};null===E?E=[C]:E.push(C),b++}}if(void 0!==i.type){let A=i.type;if("string"!=typeof A){const C={instancePath:p+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.properties.type.type,parentSchema:s.properties.type,data:A};null===E?E=[C]:E.push(C),b++}}}else{const A={instancePath:p,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:s.type,parentSchema:s,data:i};null===E?E=[A]:E.push(A),b++}return c.errors=E,0===b}function u(i,{instancePath:p="",parentData:o,parentDataProperty:l,rootData:w=i}={}){let E=null,b=0;return c(i,{instancePath:p,parentData:o,parentDataProperty:l,rootData:w})||(E=null===E?c.errors:E.concat(c.errors),b=E.length),u.errors=E,0===b}},61264:X=>{"use strict";X.exports=i,X.exports.default=i;const s={additionalProperties:!1,properties:{const:{$ref:"#/definitions/OneOfNumberStringBoolean"},contains:{$ref:"#/definitions/FilterV2"},enum:{items:{$ref:"#/definitions/OneOfNumberString"},type:"array"},exclusiveMaximum:{$ref:"#/definitions/OneOfNumberString"},exclusiveMinimum:{$ref:"#/definitions/OneOfNumberString"},format:{type:"string"},formatExclusiveMaximum:{type:"string"},formatExclusiveMinimum:{type:"string"},formatMaximum:{type:"string"},formatMinimum:{type:"string"},items:{anyOf:[{$ref:"#/definitions/FilterV2"},{items:{$ref:"#/definitions/FilterV2"},minItems:1,type:"array"}]},maxLength:{type:"number"},maximum:{$ref:"#/definitions/OneOfNumberString"},minLength:{type:"number"},minimum:{$ref:"#/definitions/OneOfNumberString"},not:{type:"object"},pattern:{type:"string"},type:{type:"string"}},type:"object"},h=Object.prototype.hasOwnProperty,a={type:["number","string","boolean"]};function v(p,{instancePath:o="",rootData:E=p}={}){let b=null,A=0;if("number"!=typeof p&&"string"!=typeof p&&"boolean"!=typeof p){const C={instancePath:o,schemaPath:"#/type",keyword:"type",params:{type:a.type},message:"must be number,string,boolean",schema:a.type,parentSchema:a,data:p};null===b?b=[C]:b.push(C),A++}return v.errors=b,0===A}const m={type:["number","string"]};function g(p,{instancePath:o="",rootData:E=p}={}){let b=null,A=0;if("number"!=typeof p&&"string"!=typeof p){const C={instancePath:o,schemaPath:"#/type",keyword:"type",params:{type:m.type},message:"must be number,string",schema:m.type,parentSchema:m,data:p};null===b?b=[C]:b.push(C),A++}return g.errors=b,0===A}const c={validate:u};function u(p,{instancePath:o="",rootData:E=p}={}){let b=null,A=0;if(p&&"object"==typeof p&&!Array.isArray(p)){for(const _ in p)if(!h.call(s.properties,_)){const N={instancePath:o,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_},message:"must NOT have additional properties",schema:!1,parentSchema:s,data:p};null===b?b=[N]:b.push(N),A++}if(void 0!==p.const&&(v(p.const,{instancePath:o+"/const",parentData:p,parentDataProperty:"const",rootData:E})||(b=null===b?v.errors:b.concat(v.errors),A=b.length)),void 0!==p.contains&&(c.validate(p.contains,{instancePath:o+"/contains",parentData:p,parentDataProperty:"contains",rootData:E})||(b=null===b?c.validate.errors:b.concat(c.validate.errors),A=b.length)),void 0!==p.enum){let _=p.enum;if(Array.isArray(_)){const N=_.length;for(let O=0;O<N;O++)g(_[O],{instancePath:o+"/enum/"+O,parentData:_,parentDataProperty:O,rootData:E})||(b=null===b?g.errors:b.concat(g.errors),A=b.length)}else{const N={instancePath:o+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:s.properties.enum.type,parentSchema:s.properties.enum,data:_};null===b?b=[N]:b.push(N),A++}}if(void 0!==p.exclusiveMaximum&&(g(p.exclusiveMaximum,{instancePath:o+"/exclusiveMaximum",parentData:p,parentDataProperty:"exclusiveMaximum",rootData:E})||(b=null===b?g.errors:b.concat(g.errors),A=b.length)),void 0!==p.exclusiveMinimum&&(g(p.exclusiveMinimum,{instancePath:o+"/exclusiveMinimum",parentData:p,parentDataProperty:"exclusiveMinimum",rootData:E})||(b=null===b?g.errors:b.concat(g.errors),A=b.length)),void 0!==p.format){let _=p.format;if("string"!=typeof _){const N={instancePath:o+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.properties.format.type,parentSchema:s.properties.format,data:_};null===b?b=[N]:b.push(N),A++}}if(void 0!==p.formatExclusiveMaximum){let _=p.formatExclusiveMaximum;if("string"!=typeof _){const N={instancePath:o+"/formatExclusiveMaximum",schemaPath:"#/properties/formatExclusiveMaximum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.properties.formatExclusiveMaximum.type,parentSchema:s.properties.formatExclusiveMaximum,data:_};null===b?b=[N]:b.push(N),A++}}if(void 0!==p.formatExclusiveMinimum){let _=p.formatExclusiveMinimum;if("string"!=typeof _){const N={instancePath:o+"/formatExclusiveMinimum",schemaPath:"#/properties/formatExclusiveMinimum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.properties.formatExclusiveMinimum.type,parentSchema:s.properties.formatExclusiveMinimum,data:_};null===b?b=[N]:b.push(N),A++}}if(void 0!==p.formatMaximum){let _=p.formatMaximum;if("string"!=typeof _){const N={instancePath:o+"/formatMaximum",schemaPath:"#/properties/formatMaximum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.properties.formatMaximum.type,parentSchema:s.properties.formatMaximum,data:_};null===b?b=[N]:b.push(N),A++}}if(void 0!==p.formatMinimum){let _=p.formatMinimum;if("string"!=typeof _){const N={instancePath:o+"/formatMinimum",schemaPath:"#/properties/formatMinimum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.properties.formatMinimum.type,parentSchema:s.properties.formatMinimum,data:_};null===b?b=[N]:b.push(N),A++}}if(void 0!==p.items){let _=p.items;const N=A;let O=!1;const j=A;c.validate(_,{instancePath:o+"/items",parentData:p,parentDataProperty:"items",rootData:E})||(b=null===b?c.validate.errors:b.concat(c.validate.errors),A=b.length);var C=j===A;if(O=O||C,!O){const F=A;if(Array.isArray(_)){if(_.length<1){const ee={instancePath:o+"/items",schemaPath:"#/properties/items/anyOf/1/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:s.properties.items.anyOf[1],data:_};null===b?b=[ee]:b.push(ee),A++}const z=_.length;for(let ee=0;ee<z;ee++)c.validate(_[ee],{instancePath:o+"/items/"+ee,parentData:_,parentDataProperty:ee,rootData:E})||(b=null===b?c.validate.errors:b.concat(c.validate.errors),A=b.length)}else{const z={instancePath:o+"/items",schemaPath:"#/properties/items/anyOf/1/type",keyword:"type",params:{type:"array"},message:"must be array",schema:s.properties.items.anyOf[1].type,parentSchema:s.properties.items.anyOf[1],data:_};null===b?b=[z]:b.push(z),A++}C=F===A,O=O||C}if(O)A=N,null!==b&&(N?b.length=N:b=null);else{const F={instancePath:o+"/items",schemaPath:"#/properties/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:s.properties.items.anyOf,parentSchema:s.properties.items,data:_};null===b?b=[F]:b.push(F),A++}}if(void 0!==p.maxLength){let _=p.maxLength;if("number"!=typeof _){const N={instancePath:o+"/maxLength",schemaPath:"#/properties/maxLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:s.properties.maxLength.type,parentSchema:s.properties.maxLength,data:_};null===b?b=[N]:b.push(N),A++}}if(void 0!==p.maximum&&(g(p.maximum,{instancePath:o+"/maximum",parentData:p,parentDataProperty:"maximum",rootData:E})||(b=null===b?g.errors:b.concat(g.errors),A=b.length)),void 0!==p.minLength){let _=p.minLength;if("number"!=typeof _){const N={instancePath:o+"/minLength",schemaPath:"#/properties/minLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:s.properties.minLength.type,parentSchema:s.properties.minLength,data:_};null===b?b=[N]:b.push(N),A++}}if(void 0!==p.minimum&&(g(p.minimum,{instancePath:o+"/minimum",parentData:p,parentDataProperty:"minimum",rootData:E})||(b=null===b?g.errors:b.concat(g.errors),A=b.length)),void 0!==p.not){let _=p.not;if(!_||"object"!=typeof _||Array.isArray(_)){const N={instancePath:o+"/not",schemaPath:"#/properties/not/type",keyword:"type",params:{type:"object"},message:"must be object",schema:s.properties.not.type,parentSchema:s.properties.not,data:_};null===b?b=[N]:b.push(N),A++}}if(void 0!==p.pattern){let _=p.pattern;if("string"!=typeof _){const N={instancePath:o+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.properties.pattern.type,parentSchema:s.properties.pattern,data:_};null===b?b=[N]:b.push(N),A++}}if(void 0!==p.type){let _=p.type;if("string"!=typeof _){const N={instancePath:o+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.properties.type.type,parentSchema:s.properties.type,data:_};null===b?b=[N]:b.push(N),A++}}}else{const _={instancePath:o,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:s.type,parentSchema:s,data:p};null===b?b=[_]:b.push(_),A++}return u.errors=b,0===A}function i(p,{instancePath:o="",parentData:l,parentDataProperty:w,rootData:E=p}={}){let b=null,A=0;return u(p,{instancePath:o,parentData:l,parentDataProperty:w,rootData:E})||(b=null===b?u.errors:b.concat(u.errors),A=b.length),i.errors=b,0===A}},86515:X=>{"use strict";X.exports=j,X.exports.default=j;const d={$schema:"http://json-schema.org/draft-07/schema#",title:"Presentation Definition",definitions:{schema:{type:"object",properties:{uri:{type:"string"},required:{type:"boolean"}},required:["uri"],additionalProperties:!1},issuance:{type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0},filter:{type:"object",properties:{type:{type:"string"},format:{type:"string"},pattern:{type:"string"},minimum:{type:["number","string"]},minLength:{type:"integer"},maxLength:{type:"integer"},exclusiveMinimum:{type:["number","string"]},exclusiveMaximum:{type:["number","string"]},maximum:{type:["number","string"]},const:{type:["number","string"]},enum:{type:"array",items:{type:["number","string"]}},not:{type:"object",minProperties:1}},required:["type"],additionalProperties:!1},format:{type:"object",properties:{"vc+sd-jwt":{type:"object",properties:{"sd-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a SD-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented SD-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}},"kb-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a KB-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented KB-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}}},required:[],additionalProperties:!1}},patternProperties:{"^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},"^di_vc$|^di_vp$|^di$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}},cryptosuite:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type","cryptosuite"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},submission_requirements:{type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},input_descriptors:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},group:{type:"array",items:{type:"string"}},schema:{type:"array",items:{$ref:"#/definitions/schema"}},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id","schema"],additionalProperties:!1},field:{type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"},predicate:{type:"string",enum:["required","preferred"]}},required:["path","filter","predicate"],additionalProperties:!1}]}},type:"object",properties:{presentation_definition:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},format:{$ref:"#/definitions/format"},submission_requirements:{type:"array",items:{$ref:"#/definitions/submission_requirements"}},input_descriptors:{type:"array",items:{$ref:"#/definitions/input_descriptors"}}},required:["id","input_descriptors"],additionalProperties:!1}}},s={type:"object",properties:{"vc+sd-jwt":{type:"object",properties:{"sd-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a SD-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented SD-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}},"kb-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a KB-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented KB-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}}},required:[],additionalProperties:!1}},patternProperties:{"^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},"^di_vc$|^di_vp$|^di$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}},cryptosuite:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type","cryptosuite"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},h=new RegExp("^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$","u"),a=new RegExp("^ldp_vc$|^ldp_vp$|^ldp$","u"),v=new RegExp("^di_vc$|^di_vp$|^di$","u"),m=new RegExp("additionalProperties","u");function g(F,{instancePath:T="",rootData:ie=F}={}){let x=null,H=0;if(F&&"object"==typeof F&&!Array.isArray(F)){for(const R in F)if(!("vc+sd-jwt"===R||h.test(R)||a.test(R)||v.test(R)||m.test(R))){const J={instancePath:T,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:R},message:"must NOT have additional properties",schema:!1,parentSchema:s,data:F};null===x?x=[J]:x.push(J),H++}if(void 0!==F["vc+sd-jwt"]){let R=F["vc+sd-jwt"];if(R&&"object"==typeof R&&!Array.isArray(R)){for(const J in R)if("sd-jwt_alg_values"!==J&&"kb-jwt_alg_values"!==J){const W={instancePath:T+"/vc+sd-jwt",schemaPath:"#/properties/vc%2Bsd-jwt/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:J},message:"must NOT have additional properties",schema:!1,parentSchema:s.properties["vc+sd-jwt"],data:R};null===x?x=[W]:x.push(W),H++}if(void 0!==R["sd-jwt_alg_values"]){let J=R["sd-jwt_alg_values"];if(Array.isArray(J)){if(J.length<1){const ce={instancePath:T+"/vc+sd-jwt/sd-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:s.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"],data:J};null===x?x=[ce]:x.push(ce),H++}const W=J.length;for(let ce=0;ce<W;ce++){let M=J[ce];if("string"!=typeof M){const Q={instancePath:T+"/vc+sd-jwt/sd-jwt_alg_values/"+ce,schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].items.type,parentSchema:s.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].items,data:M};null===x?x=[Q]:x.push(Q),H++}}}else{const W={instancePath:T+"/vc+sd-jwt/sd-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/type",keyword:"type",params:{type:"array"},message:"must be array",schema:s.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].type,parentSchema:s.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"],data:J};null===x?x=[W]:x.push(W),H++}}if(void 0!==R["kb-jwt_alg_values"]){let J=R["kb-jwt_alg_values"];if(Array.isArray(J)){if(J.length<1){const ce={instancePath:T+"/vc+sd-jwt/kb-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:s.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"],data:J};null===x?x=[ce]:x.push(ce),H++}const W=J.length;for(let ce=0;ce<W;ce++){let M=J[ce];if("string"!=typeof M){const Q={instancePath:T+"/vc+sd-jwt/kb-jwt_alg_values/"+ce,schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].items.type,parentSchema:s.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].items,data:M};null===x?x=[Q]:x.push(Q),H++}}}else{const W={instancePath:T+"/vc+sd-jwt/kb-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/type",keyword:"type",params:{type:"array"},message:"must be array",schema:s.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].type,parentSchema:s.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"],data:J};null===x?x=[W]:x.push(W),H++}}}else{const J={instancePath:T+"/vc+sd-jwt",schemaPath:"#/properties/vc%2Bsd-jwt/type",keyword:"type",params:{type:"object"},message:"must be object",schema:s.properties["vc+sd-jwt"].type,parentSchema:s.properties["vc+sd-jwt"],data:R};null===x?x=[J]:x.push(J),H++}}for(const R in F)if(h.test(R)){let J=F[R];if(J&&"object"==typeof J&&!Array.isArray(J)){if(void 0===J.alg){const W={instancePath:T+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/required",keyword:"required",params:{missingProperty:"alg"},message:"must have required property 'alg'",schema:s.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].required,parentSchema:s.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"],data:J};null===x?x=[W]:x.push(W),H++}for(const W in J)if("alg"!==W){const ce={instancePath:T+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:W},message:"must NOT have additional properties",schema:!1,parentSchema:s.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"],data:J};null===x?x=[ce]:x.push(ce),H++}if(void 0!==J.alg){let W=J.alg;if(Array.isArray(W)){if(W.length<1){const M={instancePath:T+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/properties/alg/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:s.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].properties.alg,data:W};null===x?x=[M]:x.push(M),H++}const ce=W.length;for(let M=0;M<ce;M++){let Q=W[M];if("string"!=typeof Q){const de={instancePath:T+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg/"+M,schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/properties/alg/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].properties.alg.items.type,parentSchema:s.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].properties.alg.items,data:Q};null===x?x=[de]:x.push(de),H++}}}else{const ce={instancePath:T+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/properties/alg/type",keyword:"type",params:{type:"array"},message:"must be array",schema:s.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].properties.alg.type,parentSchema:s.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].properties.alg,data:W};null===x?x=[ce]:x.push(ce),H++}}}else{const W={instancePath:T+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:s.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].type,parentSchema:s.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"],data:J};null===x?x=[W]:x.push(W),H++}}for(const R in F)if(a.test(R)){let J=F[R];if(J&&"object"==typeof J&&!Array.isArray(J)){if(void 0===J.proof_type){const W={instancePath:T+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/required",keyword:"required",params:{missingProperty:"proof_type"},message:"must have required property 'proof_type'",schema:s.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].required,parentSchema:s.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:J};null===x?x=[W]:x.push(W),H++}for(const W in J)if("proof_type"!==W){const ce={instancePath:T+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:W},message:"must NOT have additional properties",schema:!1,parentSchema:s.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:J};null===x?x=[ce]:x.push(ce),H++}if(void 0!==J.proof_type){let W=J.proof_type;if(Array.isArray(W)){if(W.length<1){const M={instancePath:T+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:s.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:W};null===x?x=[M]:x.push(M),H++}const ce=W.length;for(let M=0;M<ce;M++){let Q=W[M];if("string"!=typeof Q){const de={instancePath:T+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type/"+M,schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items.type,parentSchema:s.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items,data:Q};null===x?x=[de]:x.push(de),H++}}}else{const ce={instancePath:T+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/type",keyword:"type",params:{type:"array"},message:"must be array",schema:s.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.type,parentSchema:s.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:W};null===x?x=[ce]:x.push(ce),H++}}}else{const W={instancePath:T+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:s.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].type,parentSchema:s.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:J};null===x?x=[W]:x.push(W),H++}}for(const R in F)if(v.test(R)){let J=F[R];if(J&&"object"==typeof J&&!Array.isArray(J)){if(void 0===J.proof_type){const W={instancePath:T+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/required",keyword:"required",params:{missingProperty:"proof_type"},message:"must have required property 'proof_type'",schema:s.patternProperties["^di_vc$|^di_vp$|^di$"].required,parentSchema:s.patternProperties["^di_vc$|^di_vp$|^di$"],data:J};null===x?x=[W]:x.push(W),H++}if(void 0===J.cryptosuite){const W={instancePath:T+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/required",keyword:"required",params:{missingProperty:"cryptosuite"},message:"must have required property 'cryptosuite'",schema:s.patternProperties["^di_vc$|^di_vp$|^di$"].required,parentSchema:s.patternProperties["^di_vc$|^di_vp$|^di$"],data:J};null===x?x=[W]:x.push(W),H++}for(const W in J)if("proof_type"!==W&&"cryptosuite"!==W){const ce={instancePath:T+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:W},message:"must NOT have additional properties",schema:!1,parentSchema:s.patternProperties["^di_vc$|^di_vp$|^di$"],data:J};null===x?x=[ce]:x.push(ce),H++}if(void 0!==J.proof_type){let W=J.proof_type;if(Array.isArray(W)){if(W.length<1){const M={instancePath:T+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:s.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type,data:W};null===x?x=[M]:x.push(M),H++}const ce=W.length;for(let M=0;M<ce;M++){let Q=W[M];if("string"!=typeof Q){const de={instancePath:T+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type/"+M,schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.items.type,parentSchema:s.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.items,data:Q};null===x?x=[de]:x.push(de),H++}}}else{const ce={instancePath:T+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/type",keyword:"type",params:{type:"array"},message:"must be array",schema:s.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.type,parentSchema:s.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type,data:W};null===x?x=[ce]:x.push(ce),H++}}if(void 0!==J.cryptosuite){let W=J.cryptosuite;if(Array.isArray(W)){if(W.length<1){const M={instancePath:T+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:s.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite,data:W};null===x?x=[M]:x.push(M),H++}const ce=W.length;for(let M=0;M<ce;M++){let Q=W[M];if("string"!=typeof Q){const de={instancePath:T+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite/"+M,schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.items.type,parentSchema:s.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.items,data:Q};null===x?x=[de]:x.push(de),H++}}}else{const ce={instancePath:T+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/type",keyword:"type",params:{type:"array"},message:"must be array",schema:s.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.type,parentSchema:s.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite,data:W};null===x?x=[ce]:x.push(ce),H++}}}else{const W={instancePath:T+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:s.patternProperties["^di_vc$|^di_vp$|^di$"].type,parentSchema:s.patternProperties["^di_vc$|^di_vp$|^di$"],data:J};null===x?x=[W]:x.push(W),H++}}for(const R in F)if(m.test(R)){const J={instancePath:T+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/additionalProperties/false schema",keyword:"false schema",params:{},message:"boolean schema is false",schema:!1,parentSchema:s.patternProperties.additionalProperties,data:F[R]};null===x?x=[J]:x.push(J),H++}}else{const R={instancePath:T,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:s.type,parentSchema:s,data:F};null===x?x=[R]:x.push(R),H++}return g.errors=x,0===H}const c={type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},u={validate:i};function i(F,{instancePath:T="",rootData:ie=F}={}){let x=null,H=0;if(!F||"object"!=typeof F||Array.isArray(F)){const de={instancePath:T,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:c.type,parentSchema:c,data:F};null===x?x=[de]:x.push(de),H++}const R=H;let J=!1,W=null;const ce=H;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0===F.rule){const de={instancePath:T,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:c.oneOf[0].required,parentSchema:c.oneOf[0],data:F};null===x?x=[de]:x.push(de),H++}if(void 0===F.from){const de={instancePath:T,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"from"},message:"must have required property 'from'",schema:c.oneOf[0].required,parentSchema:c.oneOf[0],data:F};null===x?x=[de]:x.push(de),H++}for(const de in F)if("name"!==de&&"purpose"!==de&&"rule"!==de&&"count"!==de&&"min"!==de&&"max"!==de&&"from"!==de){const we={instancePath:T,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:de},message:"must NOT have additional properties",schema:!1,parentSchema:c.oneOf[0],data:F};null===x?x=[we]:x.push(we),H++}if(void 0!==F.name){let de=F.name;if("string"!=typeof de){const we={instancePath:T+"/name",schemaPath:"#/oneOf/0/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:c.oneOf[0].properties.name.type,parentSchema:c.oneOf[0].properties.name,data:de};null===x?x=[we]:x.push(we),H++}}if(void 0!==F.purpose){let de=F.purpose;if("string"!=typeof de){const we={instancePath:T+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:c.oneOf[0].properties.purpose.type,parentSchema:c.oneOf[0].properties.purpose,data:de};null===x?x=[we]:x.push(we),H++}}if(void 0!==F.rule){let de=F.rule;if("string"!=typeof de){const we={instancePath:T+"/rule",schemaPath:"#/oneOf/0/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:c.oneOf[0].properties.rule.type,parentSchema:c.oneOf[0].properties.rule,data:de};null===x?x=[we]:x.push(we),H++}if("all"!==de&&"pick"!==de){const we={instancePath:T+"/rule",schemaPath:"#/oneOf/0/properties/rule/enum",keyword:"enum",params:{allowedValues:c.oneOf[0].properties.rule.enum},message:"must be equal to one of the allowed values",schema:c.oneOf[0].properties.rule.enum,parentSchema:c.oneOf[0].properties.rule,data:de};null===x?x=[we]:x.push(we),H++}}if(void 0!==F.count){let de=F.count;if("number"!=typeof de||de%1||isNaN(de)){const we={instancePath:T+"/count",schemaPath:"#/oneOf/0/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:c.oneOf[0].properties.count.type,parentSchema:c.oneOf[0].properties.count,data:de};null===x?x=[we]:x.push(we),H++}if("number"==typeof de&&(de<1||isNaN(de))){const we={instancePath:T+"/count",schemaPath:"#/oneOf/0/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:c.oneOf[0].properties.count,data:de};null===x?x=[we]:x.push(we),H++}}if(void 0!==F.min){let de=F.min;if("number"!=typeof de||de%1||isNaN(de)){const we={instancePath:T+"/min",schemaPath:"#/oneOf/0/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:c.oneOf[0].properties.min.type,parentSchema:c.oneOf[0].properties.min,data:de};null===x?x=[we]:x.push(we),H++}if("number"==typeof de&&(de<0||isNaN(de))){const we={instancePath:T+"/min",schemaPath:"#/oneOf/0/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:c.oneOf[0].properties.min,data:de};null===x?x=[we]:x.push(we),H++}}if(void 0!==F.max){let de=F.max;if("number"!=typeof de||de%1||isNaN(de)){const we={instancePath:T+"/max",schemaPath:"#/oneOf/0/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:c.oneOf[0].properties.max.type,parentSchema:c.oneOf[0].properties.max,data:de};null===x?x=[we]:x.push(we),H++}if("number"==typeof de&&(de<0||isNaN(de))){const we={instancePath:T+"/max",schemaPath:"#/oneOf/0/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:c.oneOf[0].properties.max,data:de};null===x?x=[we]:x.push(we),H++}}if(void 0!==F.from){let de=F.from;if("string"!=typeof de){const we={instancePath:T+"/from",schemaPath:"#/oneOf/0/properties/from/type",keyword:"type",params:{type:"string"},message:"must be string",schema:c.oneOf[0].properties.from.type,parentSchema:c.oneOf[0].properties.from,data:de};null===x?x=[we]:x.push(we),H++}}}ce===H&&(J=!0,W=0);const M=H;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0===F.rule){const de={instancePath:T,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:c.oneOf[1].required,parentSchema:c.oneOf[1],data:F};null===x?x=[de]:x.push(de),H++}if(void 0===F.from_nested){const de={instancePath:T,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"from_nested"},message:"must have required property 'from_nested'",schema:c.oneOf[1].required,parentSchema:c.oneOf[1],data:F};null===x?x=[de]:x.push(de),H++}for(const de in F)if("name"!==de&&"purpose"!==de&&"rule"!==de&&"count"!==de&&"min"!==de&&"max"!==de&&"from_nested"!==de){const we={instancePath:T,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:de},message:"must NOT have additional properties",schema:!1,parentSchema:c.oneOf[1],data:F};null===x?x=[we]:x.push(we),H++}if(void 0!==F.name){let de=F.name;if("string"!=typeof de){const we={instancePath:T+"/name",schemaPath:"#/oneOf/1/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:c.oneOf[1].properties.name.type,parentSchema:c.oneOf[1].properties.name,data:de};null===x?x=[we]:x.push(we),H++}}if(void 0!==F.purpose){let de=F.purpose;if("string"!=typeof de){const we={instancePath:T+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:c.oneOf[1].properties.purpose.type,parentSchema:c.oneOf[1].properties.purpose,data:de};null===x?x=[we]:x.push(we),H++}}if(void 0!==F.rule){let de=F.rule;if("string"!=typeof de){const we={instancePath:T+"/rule",schemaPath:"#/oneOf/1/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:c.oneOf[1].properties.rule.type,parentSchema:c.oneOf[1].properties.rule,data:de};null===x?x=[we]:x.push(we),H++}if("all"!==de&&"pick"!==de){const we={instancePath:T+"/rule",schemaPath:"#/oneOf/1/properties/rule/enum",keyword:"enum",params:{allowedValues:c.oneOf[1].properties.rule.enum},message:"must be equal to one of the allowed values",schema:c.oneOf[1].properties.rule.enum,parentSchema:c.oneOf[1].properties.rule,data:de};null===x?x=[we]:x.push(we),H++}}if(void 0!==F.count){let de=F.count;if("number"!=typeof de||de%1||isNaN(de)){const we={instancePath:T+"/count",schemaPath:"#/oneOf/1/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:c.oneOf[1].properties.count.type,parentSchema:c.oneOf[1].properties.count,data:de};null===x?x=[we]:x.push(we),H++}if("number"==typeof de&&(de<1||isNaN(de))){const we={instancePath:T+"/count",schemaPath:"#/oneOf/1/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:c.oneOf[1].properties.count,data:de};null===x?x=[we]:x.push(we),H++}}if(void 0!==F.min){let de=F.min;if("number"!=typeof de||de%1||isNaN(de)){const we={instancePath:T+"/min",schemaPath:"#/oneOf/1/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:c.oneOf[1].properties.min.type,parentSchema:c.oneOf[1].properties.min,data:de};null===x?x=[we]:x.push(we),H++}if("number"==typeof de&&(de<0||isNaN(de))){const we={instancePath:T+"/min",schemaPath:"#/oneOf/1/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:c.oneOf[1].properties.min,data:de};null===x?x=[we]:x.push(we),H++}}if(void 0!==F.max){let de=F.max;if("number"!=typeof de||de%1||isNaN(de)){const we={instancePath:T+"/max",schemaPath:"#/oneOf/1/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:c.oneOf[1].properties.max.type,parentSchema:c.oneOf[1].properties.max,data:de};null===x?x=[we]:x.push(we),H++}if("number"==typeof de&&(de<0||isNaN(de))){const we={instancePath:T+"/max",schemaPath:"#/oneOf/1/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:c.oneOf[1].properties.max,data:de};null===x?x=[we]:x.push(we),H++}}if(void 0!==F.from_nested){let de=F.from_nested;if(Array.isArray(de)){if(de.length<1){const je={instancePath:T+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:c.oneOf[1].properties.from_nested,data:de};null===x?x=[je]:x.push(je),H++}const we=de.length;for(let je=0;je<we;je++)u.validate(de[je],{instancePath:T+"/from_nested/"+je,parentData:de,parentDataProperty:je,rootData:ie})||(x=null===x?u.validate.errors:x.concat(u.validate.errors),H=x.length)}else{const we={instancePath:T+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/type",keyword:"type",params:{type:"array"},message:"must be array",schema:c.oneOf[1].properties.from_nested.type,parentSchema:c.oneOf[1].properties.from_nested,data:de};null===x?x=[we]:x.push(we),H++}}}var Q;if((Q=M===H)&&J?(J=!1,W=[W,1]):Q&&(J=!0,W=1),J)H=R,null!==x&&(R?x.length=R:x=null);else{const de={instancePath:T,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:W},message:"must match exactly one schema in oneOf",schema:c.oneOf,parentSchema:c,data:F};null===x?x=[de]:x.push(de),H++}return i.errors=x,0===H}const p={type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},group:{type:"array",items:{type:"string"}},schema:{type:"array",items:{$ref:"#/definitions/schema"}},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id","schema"],additionalProperties:!1},o={type:"object",properties:{uri:{type:"string"},required:{type:"boolean"}},required:["uri"],additionalProperties:!1};function l(F,{instancePath:T="",rootData:ie=F}={}){let x=null,H=0;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0===F.uri){const R={instancePath:T,schemaPath:"#/required",keyword:"required",params:{missingProperty:"uri"},message:"must have required property 'uri'",schema:o.required,parentSchema:o,data:F};null===x?x=[R]:x.push(R),H++}for(const R in F)if("uri"!==R&&"required"!==R){const J={instancePath:T,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:R},message:"must NOT have additional properties",schema:!1,parentSchema:o,data:F};null===x?x=[J]:x.push(J),H++}if(void 0!==F.uri){let R=F.uri;if("string"!=typeof R){const J={instancePath:T+"/uri",schemaPath:"#/properties/uri/type",keyword:"type",params:{type:"string"},message:"must be string",schema:o.properties.uri.type,parentSchema:o.properties.uri,data:R};null===x?x=[J]:x.push(J),H++}}if(void 0!==F.required){let R=F.required;if("boolean"!=typeof R){const J={instancePath:T+"/required",schemaPath:"#/properties/required/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:o.properties.required.type,parentSchema:o.properties.required,data:R};null===x?x=[J]:x.push(J),H++}}}else{const R={instancePath:T,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:o.type,parentSchema:o,data:F};null===x?x=[R]:x.push(R),H++}return l.errors=x,0===H}const w={type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0};function E(F,{instancePath:T="",rootData:ie=F}={}){let x=null,H=0;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0!==F.manifest){let R=F.manifest;if("string"!=typeof R){const J={instancePath:T+"/manifest",schemaPath:"#/properties/manifest/type",keyword:"type",params:{type:"string"},message:"must be string",schema:w.properties.manifest.type,parentSchema:w.properties.manifest,data:R};null===x?x=[J]:x.push(J),H++}}}else{const R={instancePath:T,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:w.type,parentSchema:w,data:F};null===x?x=[R]:x.push(R),H++}return E.errors=x,0===H}const b={type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"},predicate:{type:"string",enum:["required","preferred"]}},required:["path","filter","predicate"],additionalProperties:!1}]},A={type:"object",properties:{type:{type:"string"},format:{type:"string"},pattern:{type:"string"},minimum:{type:["number","string"]},minLength:{type:"integer"},maxLength:{type:"integer"},exclusiveMinimum:{type:["number","string"]},exclusiveMaximum:{type:["number","string"]},maximum:{type:["number","string"]},const:{type:["number","string"]},enum:{type:"array",items:{type:["number","string"]}},not:{type:"object",minProperties:1}},required:["type"],additionalProperties:!1},C=Object.prototype.hasOwnProperty;function _(F,{instancePath:T="",rootData:ie=F}={}){let x=null,H=0;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0===F.type){const R={instancePath:T,schemaPath:"#/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'",schema:A.required,parentSchema:A,data:F};null===x?x=[R]:x.push(R),H++}for(const R in F)if(!C.call(A.properties,R)){const J={instancePath:T,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:R},message:"must NOT have additional properties",schema:!1,parentSchema:A,data:F};null===x?x=[J]:x.push(J),H++}if(void 0!==F.type){let R=F.type;if("string"!=typeof R){const J={instancePath:T+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties.type.type,parentSchema:A.properties.type,data:R};null===x?x=[J]:x.push(J),H++}}if(void 0!==F.format){let R=F.format;if("string"!=typeof R){const J={instancePath:T+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties.format.type,parentSchema:A.properties.format,data:R};null===x?x=[J]:x.push(J),H++}}if(void 0!==F.pattern){let R=F.pattern;if("string"!=typeof R){const J={instancePath:T+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties.pattern.type,parentSchema:A.properties.pattern,data:R};null===x?x=[J]:x.push(J),H++}}if(void 0!==F.minimum){let R=F.minimum;if("number"!=typeof R&&"string"!=typeof R){const J={instancePath:T+"/minimum",schemaPath:"#/properties/minimum/type",keyword:"type",params:{type:A.properties.minimum.type},message:"must be number,string",schema:A.properties.minimum.type,parentSchema:A.properties.minimum,data:R};null===x?x=[J]:x.push(J),H++}}if(void 0!==F.minLength){let R=F.minLength;if("number"!=typeof R||R%1||isNaN(R)){const J={instancePath:T+"/minLength",schemaPath:"#/properties/minLength/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:A.properties.minLength.type,parentSchema:A.properties.minLength,data:R};null===x?x=[J]:x.push(J),H++}}if(void 0!==F.maxLength){let R=F.maxLength;if("number"!=typeof R||R%1||isNaN(R)){const J={instancePath:T+"/maxLength",schemaPath:"#/properties/maxLength/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:A.properties.maxLength.type,parentSchema:A.properties.maxLength,data:R};null===x?x=[J]:x.push(J),H++}}if(void 0!==F.exclusiveMinimum){let R=F.exclusiveMinimum;if("number"!=typeof R&&"string"!=typeof R){const J={instancePath:T+"/exclusiveMinimum",schemaPath:"#/properties/exclusiveMinimum/type",keyword:"type",params:{type:A.properties.exclusiveMinimum.type},message:"must be number,string",schema:A.properties.exclusiveMinimum.type,parentSchema:A.properties.exclusiveMinimum,data:R};null===x?x=[J]:x.push(J),H++}}if(void 0!==F.exclusiveMaximum){let R=F.exclusiveMaximum;if("number"!=typeof R&&"string"!=typeof R){const J={instancePath:T+"/exclusiveMaximum",schemaPath:"#/properties/exclusiveMaximum/type",keyword:"type",params:{type:A.properties.exclusiveMaximum.type},message:"must be number,string",schema:A.properties.exclusiveMaximum.type,parentSchema:A.properties.exclusiveMaximum,data:R};null===x?x=[J]:x.push(J),H++}}if(void 0!==F.maximum){let R=F.maximum;if("number"!=typeof R&&"string"!=typeof R){const J={instancePath:T+"/maximum",schemaPath:"#/properties/maximum/type",keyword:"type",params:{type:A.properties.maximum.type},message:"must be number,string",schema:A.properties.maximum.type,parentSchema:A.properties.maximum,data:R};null===x?x=[J]:x.push(J),H++}}if(void 0!==F.const){let R=F.const;if("number"!=typeof R&&"string"!=typeof R){const J={instancePath:T+"/const",schemaPath:"#/properties/const/type",keyword:"type",params:{type:A.properties.const.type},message:"must be number,string",schema:A.properties.const.type,parentSchema:A.properties.const,data:R};null===x?x=[J]:x.push(J),H++}}if(void 0!==F.enum){let R=F.enum;if(Array.isArray(R)){const J=R.length;for(let W=0;W<J;W++){let ce=R[W];if("number"!=typeof ce&&"string"!=typeof ce){const M={instancePath:T+"/enum/"+W,schemaPath:"#/properties/enum/items/type",keyword:"type",params:{type:A.properties.enum.items.type},message:"must be number,string",schema:A.properties.enum.items.type,parentSchema:A.properties.enum.items,data:ce};null===x?x=[M]:x.push(M),H++}}}else{const J={instancePath:T+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:A.properties.enum.type,parentSchema:A.properties.enum,data:R};null===x?x=[J]:x.push(J),H++}}if(void 0!==F.not){let R=F.not;if(R&&"object"==typeof R&&!Array.isArray(R)){if(Object.keys(R).length<1){const J={instancePath:T+"/not",schemaPath:"#/properties/not/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties",schema:1,parentSchema:A.properties.not,data:R};null===x?x=[J]:x.push(J),H++}}else{const J={instancePath:T+"/not",schemaPath:"#/properties/not/type",keyword:"type",params:{type:"object"},message:"must be object",schema:A.properties.not.type,parentSchema:A.properties.not,data:R};null===x?x=[J]:x.push(J),H++}}}else{const R={instancePath:T,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:A.type,parentSchema:A,data:F};null===x?x=[R]:x.push(R),H++}return _.errors=x,0===H}function N(F,{instancePath:T="",rootData:ie=F}={}){let x=null,H=0;if(!F||"object"!=typeof F||Array.isArray(F)){const de={instancePath:T,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:b.type,parentSchema:b,data:F};null===x?x=[de]:x.push(de),H++}const R=H;let J=!1,W=null;const ce=H;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0===F.path){const de={instancePath:T,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:b.oneOf[0].required,parentSchema:b.oneOf[0],data:F};null===x?x=[de]:x.push(de),H++}for(const de in F)if("id"!==de&&"path"!==de&&"purpose"!==de&&"filter"!==de){const we={instancePath:T,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:de},message:"must NOT have additional properties",schema:!1,parentSchema:b.oneOf[0],data:F};null===x?x=[we]:x.push(we),H++}if(void 0!==F.id){let de=F.id;if("string"!=typeof de){const we={instancePath:T+"/id",schemaPath:"#/oneOf/0/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:b.oneOf[0].properties.id.type,parentSchema:b.oneOf[0].properties.id,data:de};null===x?x=[we]:x.push(we),H++}}if(void 0!==F.path){let de=F.path;if(Array.isArray(de)){const we=de.length;for(let je=0;je<we;je++){let S=de[je];if("string"!=typeof S){const I={instancePath:T+"/path/"+je,schemaPath:"#/oneOf/0/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:b.oneOf[0].properties.path.items.type,parentSchema:b.oneOf[0].properties.path.items,data:S};null===x?x=[I]:x.push(I),H++}}}else{const we={instancePath:T+"/path",schemaPath:"#/oneOf/0/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:b.oneOf[0].properties.path.type,parentSchema:b.oneOf[0].properties.path,data:de};null===x?x=[we]:x.push(we),H++}}if(void 0!==F.purpose){let de=F.purpose;if("string"!=typeof de){const we={instancePath:T+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:b.oneOf[0].properties.purpose.type,parentSchema:b.oneOf[0].properties.purpose,data:de};null===x?x=[we]:x.push(we),H++}}void 0!==F.filter&&(_(F.filter,{instancePath:T+"/filter",parentData:F,parentDataProperty:"filter",rootData:ie})||(x=null===x?_.errors:x.concat(_.errors),H=x.length))}ce===H&&(J=!0,W=0);const M=H;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0===F.path){const de={instancePath:T,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:b.oneOf[1].required,parentSchema:b.oneOf[1],data:F};null===x?x=[de]:x.push(de),H++}if(void 0===F.filter){const de={instancePath:T,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"filter"},message:"must have required property 'filter'",schema:b.oneOf[1].required,parentSchema:b.oneOf[1],data:F};null===x?x=[de]:x.push(de),H++}if(void 0===F.predicate){const de={instancePath:T,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"predicate"},message:"must have required property 'predicate'",schema:b.oneOf[1].required,parentSchema:b.oneOf[1],data:F};null===x?x=[de]:x.push(de),H++}for(const de in F)if("id"!==de&&"path"!==de&&"purpose"!==de&&"filter"!==de&&"predicate"!==de){const we={instancePath:T,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:de},message:"must NOT have additional properties",schema:!1,parentSchema:b.oneOf[1],data:F};null===x?x=[we]:x.push(we),H++}if(void 0!==F.id){let de=F.id;if("string"!=typeof de){const we={instancePath:T+"/id",schemaPath:"#/oneOf/1/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:b.oneOf[1].properties.id.type,parentSchema:b.oneOf[1].properties.id,data:de};null===x?x=[we]:x.push(we),H++}}if(void 0!==F.path){let de=F.path;if(Array.isArray(de)){const we=de.length;for(let je=0;je<we;je++){let S=de[je];if("string"!=typeof S){const I={instancePath:T+"/path/"+je,schemaPath:"#/oneOf/1/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:b.oneOf[1].properties.path.items.type,parentSchema:b.oneOf[1].properties.path.items,data:S};null===x?x=[I]:x.push(I),H++}}}else{const we={instancePath:T+"/path",schemaPath:"#/oneOf/1/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:b.oneOf[1].properties.path.type,parentSchema:b.oneOf[1].properties.path,data:de};null===x?x=[we]:x.push(we),H++}}if(void 0!==F.purpose){let de=F.purpose;if("string"!=typeof de){const we={instancePath:T+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:b.oneOf[1].properties.purpose.type,parentSchema:b.oneOf[1].properties.purpose,data:de};null===x?x=[we]:x.push(we),H++}}if(void 0!==F.filter&&(_(F.filter,{instancePath:T+"/filter",parentData:F,parentDataProperty:"filter",rootData:ie})||(x=null===x?_.errors:x.concat(_.errors),H=x.length)),void 0!==F.predicate){let de=F.predicate;if("string"!=typeof de){const we={instancePath:T+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/type",keyword:"type",params:{type:"string"},message:"must be string",schema:b.oneOf[1].properties.predicate.type,parentSchema:b.oneOf[1].properties.predicate,data:de};null===x?x=[we]:x.push(we),H++}if("required"!==de&&"preferred"!==de){const we={instancePath:T+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/enum",keyword:"enum",params:{allowedValues:b.oneOf[1].properties.predicate.enum},message:"must be equal to one of the allowed values",schema:b.oneOf[1].properties.predicate.enum,parentSchema:b.oneOf[1].properties.predicate,data:de};null===x?x=[we]:x.push(we),H++}}}var Q;if((Q=M===H)&&J?(J=!1,W=[W,1]):Q&&(J=!0,W=1),J)H=R,null!==x&&(R?x.length=R:x=null);else{const de={instancePath:T,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:W},message:"must match exactly one schema in oneOf",schema:b.oneOf,parentSchema:b,data:F};null===x?x=[de]:x.push(de),H++}return N.errors=x,0===H}function O(F,{instancePath:T="",rootData:ie=F}={}){let x=null,H=0;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0===F.id){const R={instancePath:T,schemaPath:"#/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:p.required,parentSchema:p,data:F};null===x?x=[R]:x.push(R),H++}if(void 0===F.schema){const R={instancePath:T,schemaPath:"#/required",keyword:"required",params:{missingProperty:"schema"},message:"must have required property 'schema'",schema:p.required,parentSchema:p,data:F};null===x?x=[R]:x.push(R),H++}for(const R in F)if("id"!==R&&"name"!==R&&"purpose"!==R&&"group"!==R&&"schema"!==R&&"issuance"!==R&&"constraints"!==R){const J={instancePath:T,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:R},message:"must NOT have additional properties",schema:!1,parentSchema:p,data:F};null===x?x=[J]:x.push(J),H++}if(void 0!==F.id){let R=F.id;if("string"!=typeof R){const J={instancePath:T+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:p.properties.id.type,parentSchema:p.properties.id,data:R};null===x?x=[J]:x.push(J),H++}}if(void 0!==F.name){let R=F.name;if("string"!=typeof R){const J={instancePath:T+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:p.properties.name.type,parentSchema:p.properties.name,data:R};null===x?x=[J]:x.push(J),H++}}if(void 0!==F.purpose){let R=F.purpose;if("string"!=typeof R){const J={instancePath:T+"/purpose",schemaPath:"#/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:p.properties.purpose.type,parentSchema:p.properties.purpose,data:R};null===x?x=[J]:x.push(J),H++}}if(void 0!==F.group){let R=F.group;if(Array.isArray(R)){const J=R.length;for(let W=0;W<J;W++){let ce=R[W];if("string"!=typeof ce){const M={instancePath:T+"/group/"+W,schemaPath:"#/properties/group/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:p.properties.group.items.type,parentSchema:p.properties.group.items,data:ce};null===x?x=[M]:x.push(M),H++}}}else{const J={instancePath:T+"/group",schemaPath:"#/properties/group/type",keyword:"type",params:{type:"array"},message:"must be array",schema:p.properties.group.type,parentSchema:p.properties.group,data:R};null===x?x=[J]:x.push(J),H++}}if(void 0!==F.schema){let R=F.schema;if(Array.isArray(R)){const J=R.length;for(let W=0;W<J;W++)l(R[W],{instancePath:T+"/schema/"+W,parentData:R,parentDataProperty:W,rootData:ie})||(x=null===x?l.errors:x.concat(l.errors),H=x.length)}else{const J={instancePath:T+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"array"},message:"must be array",schema:p.properties.schema.type,parentSchema:p.properties.schema,data:R};null===x?x=[J]:x.push(J),H++}}if(void 0!==F.issuance){let R=F.issuance;if(Array.isArray(R)){const J=R.length;for(let W=0;W<J;W++)E(R[W],{instancePath:T+"/issuance/"+W,parentData:R,parentDataProperty:W,rootData:ie})||(x=null===x?E.errors:x.concat(E.errors),H=x.length)}else{const J={instancePath:T+"/issuance",schemaPath:"#/properties/issuance/type",keyword:"type",params:{type:"array"},message:"must be array",schema:p.properties.issuance.type,parentSchema:p.properties.issuance,data:R};null===x?x=[J]:x.push(J),H++}}if(void 0!==F.constraints){let R=F.constraints;if(R&&"object"==typeof R&&!Array.isArray(R)){for(const J in R)if("limit_disclosure"!==J&&"statuses"!==J&&"fields"!==J&&"subject_is_issuer"!==J&&"is_holder"!==J&&"same_subject"!==J){const W={instancePath:T+"/constraints",schemaPath:"#/properties/constraints/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:J},message:"must NOT have additional properties",schema:!1,parentSchema:p.properties.constraints,data:R};null===x?x=[W]:x.push(W),H++}if(void 0!==R.limit_disclosure){let J=R.limit_disclosure;if("string"!=typeof J){const W={instancePath:T+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/type",keyword:"type",params:{type:"string"},message:"must be string",schema:p.properties.constraints.properties.limit_disclosure.type,parentSchema:p.properties.constraints.properties.limit_disclosure,data:J};null===x?x=[W]:x.push(W),H++}if("required"!==J&&"preferred"!==J){const W={instancePath:T+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/enum",keyword:"enum",params:{allowedValues:p.properties.constraints.properties.limit_disclosure.enum},message:"must be equal to one of the allowed values",schema:p.properties.constraints.properties.limit_disclosure.enum,parentSchema:p.properties.constraints.properties.limit_disclosure,data:J};null===x?x=[W]:x.push(W),H++}}if(void 0!==R.statuses){let J=R.statuses;if(J&&"object"==typeof J&&!Array.isArray(J)){if(void 0!==J.active){let W=J.active;if(W&&"object"==typeof W&&!Array.isArray(W)){if(void 0!==W.directive){let ce=W.directive;if("string"!=typeof ce){const M={instancePath:T+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:p.properties.constraints.properties.statuses.properties.active.properties.directive.type,parentSchema:p.properties.constraints.properties.statuses.properties.active.properties.directive,data:ce};null===x?x=[M]:x.push(M),H++}if("required"!==ce&&"allowed"!==ce&&"disallowed"!==ce){const M={instancePath:T+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/enum",keyword:"enum",params:{allowedValues:p.properties.constraints.properties.statuses.properties.active.properties.directive.enum},message:"must be equal to one of the allowed values",schema:p.properties.constraints.properties.statuses.properties.active.properties.directive.enum,parentSchema:p.properties.constraints.properties.statuses.properties.active.properties.directive,data:ce};null===x?x=[M]:x.push(M),H++}}}else{const ce={instancePath:T+"/constraints/statuses/active",schemaPath:"#/properties/constraints/properties/statuses/properties/active/type",keyword:"type",params:{type:"object"},message:"must be object",schema:p.properties.constraints.properties.statuses.properties.active.type,parentSchema:p.properties.constraints.properties.statuses.properties.active,data:W};null===x?x=[ce]:x.push(ce),H++}}if(void 0!==J.suspended){let W=J.suspended;if(W&&"object"==typeof W&&!Array.isArray(W)){if(void 0!==W.directive){let ce=W.directive;if("string"!=typeof ce){const M={instancePath:T+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:p.properties.constraints.properties.statuses.properties.suspended.properties.directive.type,parentSchema:p.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:ce};null===x?x=[M]:x.push(M),H++}if("required"!==ce&&"allowed"!==ce&&"disallowed"!==ce){const M={instancePath:T+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/enum",keyword:"enum",params:{allowedValues:p.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum},message:"must be equal to one of the allowed values",schema:p.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum,parentSchema:p.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:ce};null===x?x=[M]:x.push(M),H++}}}else{const ce={instancePath:T+"/constraints/statuses/suspended",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/type",keyword:"type",params:{type:"object"},message:"must be object",schema:p.properties.constraints.properties.statuses.properties.suspended.type,parentSchema:p.properties.constraints.properties.statuses.properties.suspended,data:W};null===x?x=[ce]:x.push(ce),H++}}if(void 0!==J.revoked){let W=J.revoked;if(W&&"object"==typeof W&&!Array.isArray(W)){if(void 0!==W.directive){let ce=W.directive;if("string"!=typeof ce){const M={instancePath:T+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:p.properties.constraints.properties.statuses.properties.revoked.properties.directive.type,parentSchema:p.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:ce};null===x?x=[M]:x.push(M),H++}if("required"!==ce&&"allowed"!==ce&&"disallowed"!==ce){const M={instancePath:T+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/enum",keyword:"enum",params:{allowedValues:p.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum},message:"must be equal to one of the allowed values",schema:p.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum,parentSchema:p.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:ce};null===x?x=[M]:x.push(M),H++}}}else{const ce={instancePath:T+"/constraints/statuses/revoked",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/type",keyword:"type",params:{type:"object"},message:"must be object",schema:p.properties.constraints.properties.statuses.properties.revoked.type,parentSchema:p.properties.constraints.properties.statuses.properties.revoked,data:W};null===x?x=[ce]:x.push(ce),H++}}}else{const W={instancePath:T+"/constraints/statuses",schemaPath:"#/properties/constraints/properties/statuses/type",keyword:"type",params:{type:"object"},message:"must be object",schema:p.properties.constraints.properties.statuses.type,parentSchema:p.properties.constraints.properties.statuses,data:J};null===x?x=[W]:x.push(W),H++}}if(void 0!==R.fields){let J=R.fields;if(Array.isArray(J)){const W=J.length;for(let ce=0;ce<W;ce++)N(J[ce],{instancePath:T+"/constraints/fields/"+ce,parentData:J,parentDataProperty:ce,rootData:ie})||(x=null===x?N.errors:x.concat(N.errors),H=x.length)}else{const W={instancePath:T+"/constraints/fields",schemaPath:"#/properties/constraints/properties/fields/type",keyword:"type",params:{type:"array"},message:"must be array",schema:p.properties.constraints.properties.fields.type,parentSchema:p.properties.constraints.properties.fields,data:J};null===x?x=[W]:x.push(W),H++}}if(void 0!==R.subject_is_issuer){let J=R.subject_is_issuer;if("string"!=typeof J){const W={instancePath:T+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/type",keyword:"type",params:{type:"string"},message:"must be string",schema:p.properties.constraints.properties.subject_is_issuer.type,parentSchema:p.properties.constraints.properties.subject_is_issuer,data:J};null===x?x=[W]:x.push(W),H++}if("required"!==J&&"preferred"!==J){const W={instancePath:T+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/enum",keyword:"enum",params:{allowedValues:p.properties.constraints.properties.subject_is_issuer.enum},message:"must be equal to one of the allowed values",schema:p.properties.constraints.properties.subject_is_issuer.enum,parentSchema:p.properties.constraints.properties.subject_is_issuer,data:J};null===x?x=[W]:x.push(W),H++}}if(void 0!==R.is_holder){let J=R.is_holder;if(Array.isArray(J)){const W=J.length;for(let ce=0;ce<W;ce++){let M=J[ce];if(M&&"object"==typeof M&&!Array.isArray(M)){if(void 0===M.field_id){const Q={instancePath:T+"/constraints/is_holder/"+ce,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:p.properties.constraints.properties.is_holder.items.required,parentSchema:p.properties.constraints.properties.is_holder.items,data:M};null===x?x=[Q]:x.push(Q),H++}if(void 0===M.directive){const Q={instancePath:T+"/constraints/is_holder/"+ce,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:p.properties.constraints.properties.is_holder.items.required,parentSchema:p.properties.constraints.properties.is_holder.items,data:M};null===x?x=[Q]:x.push(Q),H++}for(const Q in M)if("field_id"!==Q&&"directive"!==Q){const de={instancePath:T+"/constraints/is_holder/"+ce,schemaPath:"#/properties/constraints/properties/is_holder/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Q},message:"must NOT have additional properties",schema:!1,parentSchema:p.properties.constraints.properties.is_holder.items,data:M};null===x?x=[de]:x.push(de),H++}if(void 0!==M.field_id){let Q=M.field_id;if(Array.isArray(Q)){const de=Q.length;for(let we=0;we<de;we++){let je=Q[we];if("string"!=typeof je){const S={instancePath:T+"/constraints/is_holder/"+ce+"/field_id/"+we,schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:p.properties.constraints.properties.is_holder.items.properties.field_id.items.type,parentSchema:p.properties.constraints.properties.is_holder.items.properties.field_id.items,data:je};null===x?x=[S]:x.push(S),H++}}}else{const de={instancePath:T+"/constraints/is_holder/"+ce+"/field_id",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:p.properties.constraints.properties.is_holder.items.properties.field_id.type,parentSchema:p.properties.constraints.properties.is_holder.items.properties.field_id,data:Q};null===x?x=[de]:x.push(de),H++}}if(void 0!==M.directive){let Q=M.directive;if("string"!=typeof Q){const de={instancePath:T+"/constraints/is_holder/"+ce+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:p.properties.constraints.properties.is_holder.items.properties.directive.type,parentSchema:p.properties.constraints.properties.is_holder.items.properties.directive,data:Q};null===x?x=[de]:x.push(de),H++}if("required"!==Q&&"preferred"!==Q){const de={instancePath:T+"/constraints/is_holder/"+ce+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/enum",keyword:"enum",params:{allowedValues:p.properties.constraints.properties.is_holder.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:p.properties.constraints.properties.is_holder.items.properties.directive.enum,parentSchema:p.properties.constraints.properties.is_holder.items.properties.directive,data:Q};null===x?x=[de]:x.push(de),H++}}}else{const Q={instancePath:T+"/constraints/is_holder/"+ce,schemaPath:"#/properties/constraints/properties/is_holder/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:p.properties.constraints.properties.is_holder.items.type,parentSchema:p.properties.constraints.properties.is_holder.items,data:M};null===x?x=[Q]:x.push(Q),H++}}}else{const W={instancePath:T+"/constraints/is_holder",schemaPath:"#/properties/constraints/properties/is_holder/type",keyword:"type",params:{type:"array"},message:"must be array",schema:p.properties.constraints.properties.is_holder.type,parentSchema:p.properties.constraints.properties.is_holder,data:J};null===x?x=[W]:x.push(W),H++}}if(void 0!==R.same_subject){let J=R.same_subject;if(Array.isArray(J)){const W=J.length;for(let ce=0;ce<W;ce++){let M=J[ce];if(M&&"object"==typeof M&&!Array.isArray(M)){if(void 0===M.field_id){const Q={instancePath:T+"/constraints/same_subject/"+ce,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:p.properties.constraints.properties.same_subject.items.required,parentSchema:p.properties.constraints.properties.same_subject.items,data:M};null===x?x=[Q]:x.push(Q),H++}if(void 0===M.directive){const Q={instancePath:T+"/constraints/same_subject/"+ce,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:p.properties.constraints.properties.same_subject.items.required,parentSchema:p.properties.constraints.properties.same_subject.items,data:M};null===x?x=[Q]:x.push(Q),H++}for(const Q in M)if("field_id"!==Q&&"directive"!==Q){const de={instancePath:T+"/constraints/same_subject/"+ce,schemaPath:"#/properties/constraints/properties/same_subject/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Q},message:"must NOT have additional properties",schema:!1,parentSchema:p.properties.constraints.properties.same_subject.items,data:M};null===x?x=[de]:x.push(de),H++}if(void 0!==M.field_id){let Q=M.field_id;if(Array.isArray(Q)){const de=Q.length;for(let we=0;we<de;we++){let je=Q[we];if("string"!=typeof je){const S={instancePath:T+"/constraints/same_subject/"+ce+"/field_id/"+we,schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:p.properties.constraints.properties.same_subject.items.properties.field_id.items.type,parentSchema:p.properties.constraints.properties.same_subject.items.properties.field_id.items,data:je};null===x?x=[S]:x.push(S),H++}}}else{const de={instancePath:T+"/constraints/same_subject/"+ce+"/field_id",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:p.properties.constraints.properties.same_subject.items.properties.field_id.type,parentSchema:p.properties.constraints.properties.same_subject.items.properties.field_id,data:Q};null===x?x=[de]:x.push(de),H++}}if(void 0!==M.directive){let Q=M.directive;if("string"!=typeof Q){const de={instancePath:T+"/constraints/same_subject/"+ce+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:p.properties.constraints.properties.same_subject.items.properties.directive.type,parentSchema:p.properties.constraints.properties.same_subject.items.properties.directive,data:Q};null===x?x=[de]:x.push(de),H++}if("required"!==Q&&"preferred"!==Q){const de={instancePath:T+"/constraints/same_subject/"+ce+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/enum",keyword:"enum",params:{allowedValues:p.properties.constraints.properties.same_subject.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:p.properties.constraints.properties.same_subject.items.properties.directive.enum,parentSchema:p.properties.constraints.properties.same_subject.items.properties.directive,data:Q};null===x?x=[de]:x.push(de),H++}}}else{const Q={instancePath:T+"/constraints/same_subject/"+ce,schemaPath:"#/properties/constraints/properties/same_subject/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:p.properties.constraints.properties.same_subject.items.type,parentSchema:p.properties.constraints.properties.same_subject.items,data:M};null===x?x=[Q]:x.push(Q),H++}}}else{const W={instancePath:T+"/constraints/same_subject",schemaPath:"#/properties/constraints/properties/same_subject/type",keyword:"type",params:{type:"array"},message:"must be array",schema:p.properties.constraints.properties.same_subject.type,parentSchema:p.properties.constraints.properties.same_subject,data:J};null===x?x=[W]:x.push(W),H++}}}else{const J={instancePath:T+"/constraints",schemaPath:"#/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object",schema:p.properties.constraints.type,parentSchema:p.properties.constraints,data:R};null===x?x=[J]:x.push(J),H++}}}else{const R={instancePath:T,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:p.type,parentSchema:p,data:F};null===x?x=[R]:x.push(R),H++}return O.errors=x,0===H}function j(F,{instancePath:T="",rootData:ie=F}={}){let x=null,H=0;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0!==F.presentation_definition){let R=F.presentation_definition;if(R&&"object"==typeof R&&!Array.isArray(R)){if(void 0===R.id){const J={instancePath:T+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:d.properties.presentation_definition.required,parentSchema:d.properties.presentation_definition,data:R};null===x?x=[J]:x.push(J),H++}if(void 0===R.input_descriptors){const J={instancePath:T+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"input_descriptors"},message:"must have required property 'input_descriptors'",schema:d.properties.presentation_definition.required,parentSchema:d.properties.presentation_definition,data:R};null===x?x=[J]:x.push(J),H++}for(const J in R)if("id"!==J&&"name"!==J&&"purpose"!==J&&"format"!==J&&"submission_requirements"!==J&&"input_descriptors"!==J){const W={instancePath:T+"/presentation_definition",schemaPath:"#/properties/presentation_definition/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:J},message:"must NOT have additional properties",schema:!1,parentSchema:d.properties.presentation_definition,data:R};null===x?x=[W]:x.push(W),H++}if(void 0!==R.id){let J=R.id;if("string"!=typeof J){const W={instancePath:T+"/presentation_definition/id",schemaPath:"#/properties/presentation_definition/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties.presentation_definition.properties.id.type,parentSchema:d.properties.presentation_definition.properties.id,data:J};null===x?x=[W]:x.push(W),H++}}if(void 0!==R.name){let J=R.name;if("string"!=typeof J){const W={instancePath:T+"/presentation_definition/name",schemaPath:"#/properties/presentation_definition/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties.presentation_definition.properties.name.type,parentSchema:d.properties.presentation_definition.properties.name,data:J};null===x?x=[W]:x.push(W),H++}}if(void 0!==R.purpose){let J=R.purpose;if("string"!=typeof J){const W={instancePath:T+"/presentation_definition/purpose",schemaPath:"#/properties/presentation_definition/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties.presentation_definition.properties.purpose.type,parentSchema:d.properties.presentation_definition.properties.purpose,data:J};null===x?x=[W]:x.push(W),H++}}if(void 0!==R.format&&(g(R.format,{instancePath:T+"/presentation_definition/format",parentData:R,parentDataProperty:"format",rootData:ie})||(x=null===x?g.errors:x.concat(g.errors),H=x.length)),void 0!==R.submission_requirements){let J=R.submission_requirements;if(Array.isArray(J)){const W=J.length;for(let ce=0;ce<W;ce++)i(J[ce],{instancePath:T+"/presentation_definition/submission_requirements/"+ce,parentData:J,parentDataProperty:ce,rootData:ie})||(x=null===x?i.errors:x.concat(i.errors),H=x.length)}else{const W={instancePath:T+"/presentation_definition/submission_requirements",schemaPath:"#/properties/presentation_definition/properties/submission_requirements/type",keyword:"type",params:{type:"array"},message:"must be array",schema:d.properties.presentation_definition.properties.submission_requirements.type,parentSchema:d.properties.presentation_definition.properties.submission_requirements,data:J};null===x?x=[W]:x.push(W),H++}}if(void 0!==R.input_descriptors){let J=R.input_descriptors;if(Array.isArray(J)){const W=J.length;for(let ce=0;ce<W;ce++)O(J[ce],{instancePath:T+"/presentation_definition/input_descriptors/"+ce,parentData:J,parentDataProperty:ce,rootData:ie})||(x=null===x?O.errors:x.concat(O.errors),H=x.length)}else{const W={instancePath:T+"/presentation_definition/input_descriptors",schemaPath:"#/properties/presentation_definition/properties/input_descriptors/type",keyword:"type",params:{type:"array"},message:"must be array",schema:d.properties.presentation_definition.properties.input_descriptors.type,parentSchema:d.properties.presentation_definition.properties.input_descriptors,data:J};null===x?x=[W]:x.push(W),H++}}}else{const J={instancePath:T+"/presentation_definition",schemaPath:"#/properties/presentation_definition/type",keyword:"type",params:{type:"object"},message:"must be object",schema:d.properties.presentation_definition.type,parentSchema:d.properties.presentation_definition,data:R};null===x?x=[J]:x.push(J),H++}}}else{const R={instancePath:T,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:d.type,parentSchema:d,data:F};null===x?x=[R]:x.push(R),H++}return j.errors=x,0===H}},93046:(X,d,s)=>{"use strict";X.exports=ce,X.exports.default=ce;const h={$schema:"http://json-schema.org/draft-07/schema#",title:"Presentation Definition",definitions:{issuance:{type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0},format:{type:"object",properties:{"vc+sd-jwt":{type:"object",properties:{"sd-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a SD-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented SD-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}},"kb-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a KB-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented KB-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}}},required:[],additionalProperties:!1}},patternProperties:{"^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},"^di_vc$|^di_vp$|^di$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}},cryptosuite:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type","cryptosuite"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},submission_requirements:{type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},input_descriptors:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},group:{type:"array",items:{type:"string"}},format:{$ref:"#/definitions/format"},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id"],additionalProperties:!1},field:{type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},name:{type:"string"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},predicate:{type:"string",enum:["required","preferred"]},name:{type:"string"}},required:["path","filter","predicate"],additionalProperties:!1}]}},type:"object",properties:{presentation_definition:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},format:{$ref:"#/definitions/format"},frame:{type:"object",additionalProperties:!0},submission_requirements:{type:"array",items:{$ref:"#/definitions/submission_requirements"}},input_descriptors:{type:"array",items:{$ref:"#/definitions/input_descriptors"}}},required:["id","input_descriptors"],additionalProperties:!1}}},a={type:"object",properties:{"vc+sd-jwt":{type:"object",properties:{"sd-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a SD-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented SD-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}},"kb-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a KB-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented KB-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}}},required:[],additionalProperties:!1}},patternProperties:{"^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},"^di_vc$|^di_vp$|^di$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}},cryptosuite:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type","cryptosuite"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},v=new RegExp("^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$","u"),m=new RegExp("^ldp_vc$|^ldp_vp$|^ldp$","u"),g=new RegExp("^di_vc$|^di_vp$|^di$","u"),c=new RegExp("additionalProperties","u");function u(M,{instancePath:Q="",rootData:je=M}={}){let S=null,I=0;if(M&&"object"==typeof M&&!Array.isArray(M)){for(const G in M)if(!("vc+sd-jwt"===G||v.test(G)||m.test(G)||g.test(G)||c.test(G))){const K={instancePath:Q,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:G},message:"must NOT have additional properties",schema:!1,parentSchema:a,data:M};null===S?S=[K]:S.push(K),I++}if(void 0!==M["vc+sd-jwt"]){let G=M["vc+sd-jwt"];if(G&&"object"==typeof G&&!Array.isArray(G)){for(const K in G)if("sd-jwt_alg_values"!==K&&"kb-jwt_alg_values"!==K){const q={instancePath:Q+"/vc+sd-jwt",schemaPath:"#/properties/vc%2Bsd-jwt/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:K},message:"must NOT have additional properties",schema:!1,parentSchema:a.properties["vc+sd-jwt"],data:G};null===S?S=[q]:S.push(q),I++}if(void 0!==G["sd-jwt_alg_values"]){let K=G["sd-jwt_alg_values"];if(Array.isArray(K)){if(K.length<1){const le={instancePath:Q+"/vc+sd-jwt/sd-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:a.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"],data:K};null===S?S=[le]:S.push(le),I++}const q=K.length;for(let le=0;le<q;le++){let he=K[le];if("string"!=typeof he){const Ee={instancePath:Q+"/vc+sd-jwt/sd-jwt_alg_values/"+le,schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].items.type,parentSchema:a.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].items,data:he};null===S?S=[Ee]:S.push(Ee),I++}}}else{const q={instancePath:Q+"/vc+sd-jwt/sd-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/type",keyword:"type",params:{type:"array"},message:"must be array",schema:a.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].type,parentSchema:a.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"],data:K};null===S?S=[q]:S.push(q),I++}}if(void 0!==G["kb-jwt_alg_values"]){let K=G["kb-jwt_alg_values"];if(Array.isArray(K)){if(K.length<1){const le={instancePath:Q+"/vc+sd-jwt/kb-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:a.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"],data:K};null===S?S=[le]:S.push(le),I++}const q=K.length;for(let le=0;le<q;le++){let he=K[le];if("string"!=typeof he){const Ee={instancePath:Q+"/vc+sd-jwt/kb-jwt_alg_values/"+le,schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].items.type,parentSchema:a.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].items,data:he};null===S?S=[Ee]:S.push(Ee),I++}}}else{const q={instancePath:Q+"/vc+sd-jwt/kb-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/type",keyword:"type",params:{type:"array"},message:"must be array",schema:a.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].type,parentSchema:a.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"],data:K};null===S?S=[q]:S.push(q),I++}}}else{const K={instancePath:Q+"/vc+sd-jwt",schemaPath:"#/properties/vc%2Bsd-jwt/type",keyword:"type",params:{type:"object"},message:"must be object",schema:a.properties["vc+sd-jwt"].type,parentSchema:a.properties["vc+sd-jwt"],data:G};null===S?S=[K]:S.push(K),I++}}for(const G in M)if(v.test(G)){let K=M[G];if(K&&"object"==typeof K&&!Array.isArray(K)){if(void 0===K.alg){const q={instancePath:Q+"/"+G.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/required",keyword:"required",params:{missingProperty:"alg"},message:"must have required property 'alg'",schema:a.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].required,parentSchema:a.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"],data:K};null===S?S=[q]:S.push(q),I++}for(const q in K)if("alg"!==q){const le={instancePath:Q+"/"+G.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:q},message:"must NOT have additional properties",schema:!1,parentSchema:a.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"],data:K};null===S?S=[le]:S.push(le),I++}if(void 0!==K.alg){let q=K.alg;if(Array.isArray(q)){if(q.length<1){const he={instancePath:Q+"/"+G.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/properties/alg/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:a.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].properties.alg,data:q};null===S?S=[he]:S.push(he),I++}const le=q.length;for(let he=0;he<le;he++){let Ee=q[he];if("string"!=typeof Ee){const pe={instancePath:Q+"/"+G.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg/"+he,schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/properties/alg/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].properties.alg.items.type,parentSchema:a.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].properties.alg.items,data:Ee};null===S?S=[pe]:S.push(pe),I++}}}else{const le={instancePath:Q+"/"+G.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/properties/alg/type",keyword:"type",params:{type:"array"},message:"must be array",schema:a.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].properties.alg.type,parentSchema:a.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].properties.alg,data:q};null===S?S=[le]:S.push(le),I++}}}else{const q={instancePath:Q+"/"+G.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:a.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].type,parentSchema:a.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"],data:K};null===S?S=[q]:S.push(q),I++}}for(const G in M)if(m.test(G)){let K=M[G];if(K&&"object"==typeof K&&!Array.isArray(K)){if(void 0===K.proof_type){const q={instancePath:Q+"/"+G.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/required",keyword:"required",params:{missingProperty:"proof_type"},message:"must have required property 'proof_type'",schema:a.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].required,parentSchema:a.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:K};null===S?S=[q]:S.push(q),I++}for(const q in K)if("proof_type"!==q){const le={instancePath:Q+"/"+G.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:q},message:"must NOT have additional properties",schema:!1,parentSchema:a.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:K};null===S?S=[le]:S.push(le),I++}if(void 0!==K.proof_type){let q=K.proof_type;if(Array.isArray(q)){if(q.length<1){const he={instancePath:Q+"/"+G.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:a.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:q};null===S?S=[he]:S.push(he),I++}const le=q.length;for(let he=0;he<le;he++){let Ee=q[he];if("string"!=typeof Ee){const pe={instancePath:Q+"/"+G.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type/"+he,schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items.type,parentSchema:a.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items,data:Ee};null===S?S=[pe]:S.push(pe),I++}}}else{const le={instancePath:Q+"/"+G.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/type",keyword:"type",params:{type:"array"},message:"must be array",schema:a.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.type,parentSchema:a.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:q};null===S?S=[le]:S.push(le),I++}}}else{const q={instancePath:Q+"/"+G.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:a.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].type,parentSchema:a.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:K};null===S?S=[q]:S.push(q),I++}}for(const G in M)if(g.test(G)){let K=M[G];if(K&&"object"==typeof K&&!Array.isArray(K)){if(void 0===K.proof_type){const q={instancePath:Q+"/"+G.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/required",keyword:"required",params:{missingProperty:"proof_type"},message:"must have required property 'proof_type'",schema:a.patternProperties["^di_vc$|^di_vp$|^di$"].required,parentSchema:a.patternProperties["^di_vc$|^di_vp$|^di$"],data:K};null===S?S=[q]:S.push(q),I++}if(void 0===K.cryptosuite){const q={instancePath:Q+"/"+G.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/required",keyword:"required",params:{missingProperty:"cryptosuite"},message:"must have required property 'cryptosuite'",schema:a.patternProperties["^di_vc$|^di_vp$|^di$"].required,parentSchema:a.patternProperties["^di_vc$|^di_vp$|^di$"],data:K};null===S?S=[q]:S.push(q),I++}for(const q in K)if("proof_type"!==q&&"cryptosuite"!==q){const le={instancePath:Q+"/"+G.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:q},message:"must NOT have additional properties",schema:!1,parentSchema:a.patternProperties["^di_vc$|^di_vp$|^di$"],data:K};null===S?S=[le]:S.push(le),I++}if(void 0!==K.proof_type){let q=K.proof_type;if(Array.isArray(q)){if(q.length<1){const he={instancePath:Q+"/"+G.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:a.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type,data:q};null===S?S=[he]:S.push(he),I++}const le=q.length;for(let he=0;he<le;he++){let Ee=q[he];if("string"!=typeof Ee){const pe={instancePath:Q+"/"+G.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type/"+he,schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.items.type,parentSchema:a.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.items,data:Ee};null===S?S=[pe]:S.push(pe),I++}}}else{const le={instancePath:Q+"/"+G.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/type",keyword:"type",params:{type:"array"},message:"must be array",schema:a.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.type,parentSchema:a.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type,data:q};null===S?S=[le]:S.push(le),I++}}if(void 0!==K.cryptosuite){let q=K.cryptosuite;if(Array.isArray(q)){if(q.length<1){const he={instancePath:Q+"/"+G.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:a.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite,data:q};null===S?S=[he]:S.push(he),I++}const le=q.length;for(let he=0;he<le;he++){let Ee=q[he];if("string"!=typeof Ee){const pe={instancePath:Q+"/"+G.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite/"+he,schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.items.type,parentSchema:a.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.items,data:Ee};null===S?S=[pe]:S.push(pe),I++}}}else{const le={instancePath:Q+"/"+G.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/type",keyword:"type",params:{type:"array"},message:"must be array",schema:a.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.type,parentSchema:a.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite,data:q};null===S?S=[le]:S.push(le),I++}}}else{const q={instancePath:Q+"/"+G.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:a.patternProperties["^di_vc$|^di_vp$|^di$"].type,parentSchema:a.patternProperties["^di_vc$|^di_vp$|^di$"],data:K};null===S?S=[q]:S.push(q),I++}}for(const G in M)if(c.test(G)){const K={instancePath:Q+"/"+G.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/additionalProperties/false schema",keyword:"false schema",params:{},message:"boolean schema is false",schema:!1,parentSchema:a.patternProperties.additionalProperties,data:M[G]};null===S?S=[K]:S.push(K),I++}}else{const G={instancePath:Q,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:a.type,parentSchema:a,data:M};null===S?S=[G]:S.push(G),I++}return u.errors=S,0===I}const i={type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},p={validate:o};function o(M,{instancePath:Q="",rootData:je=M}={}){let S=null,I=0;if(!M||"object"!=typeof M||Array.isArray(M)){const pe={instancePath:Q,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:i.type,parentSchema:i,data:M};null===S?S=[pe]:S.push(pe),I++}const G=I;let K=!1,q=null;const le=I;if(M&&"object"==typeof M&&!Array.isArray(M)){if(void 0===M.rule){const pe={instancePath:Q,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:i.oneOf[0].required,parentSchema:i.oneOf[0],data:M};null===S?S=[pe]:S.push(pe),I++}if(void 0===M.from){const pe={instancePath:Q,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"from"},message:"must have required property 'from'",schema:i.oneOf[0].required,parentSchema:i.oneOf[0],data:M};null===S?S=[pe]:S.push(pe),I++}for(const pe in M)if("name"!==pe&&"purpose"!==pe&&"rule"!==pe&&"count"!==pe&&"min"!==pe&&"max"!==pe&&"from"!==pe){const De={instancePath:Q,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:pe},message:"must NOT have additional properties",schema:!1,parentSchema:i.oneOf[0],data:M};null===S?S=[De]:S.push(De),I++}if(void 0!==M.name){let pe=M.name;if("string"!=typeof pe){const De={instancePath:Q+"/name",schemaPath:"#/oneOf/0/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.oneOf[0].properties.name.type,parentSchema:i.oneOf[0].properties.name,data:pe};null===S?S=[De]:S.push(De),I++}}if(void 0!==M.purpose){let pe=M.purpose;if("string"!=typeof pe){const De={instancePath:Q+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.oneOf[0].properties.purpose.type,parentSchema:i.oneOf[0].properties.purpose,data:pe};null===S?S=[De]:S.push(De),I++}}if(void 0!==M.rule){let pe=M.rule;if("string"!=typeof pe){const De={instancePath:Q+"/rule",schemaPath:"#/oneOf/0/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.oneOf[0].properties.rule.type,parentSchema:i.oneOf[0].properties.rule,data:pe};null===S?S=[De]:S.push(De),I++}if("all"!==pe&&"pick"!==pe){const De={instancePath:Q+"/rule",schemaPath:"#/oneOf/0/properties/rule/enum",keyword:"enum",params:{allowedValues:i.oneOf[0].properties.rule.enum},message:"must be equal to one of the allowed values",schema:i.oneOf[0].properties.rule.enum,parentSchema:i.oneOf[0].properties.rule,data:pe};null===S?S=[De]:S.push(De),I++}}if(void 0!==M.count){let pe=M.count;if("number"!=typeof pe||pe%1||isNaN(pe)){const De={instancePath:Q+"/count",schemaPath:"#/oneOf/0/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:i.oneOf[0].properties.count.type,parentSchema:i.oneOf[0].properties.count,data:pe};null===S?S=[De]:S.push(De),I++}if("number"==typeof pe&&(pe<1||isNaN(pe))){const De={instancePath:Q+"/count",schemaPath:"#/oneOf/0/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:i.oneOf[0].properties.count,data:pe};null===S?S=[De]:S.push(De),I++}}if(void 0!==M.min){let pe=M.min;if("number"!=typeof pe||pe%1||isNaN(pe)){const De={instancePath:Q+"/min",schemaPath:"#/oneOf/0/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:i.oneOf[0].properties.min.type,parentSchema:i.oneOf[0].properties.min,data:pe};null===S?S=[De]:S.push(De),I++}if("number"==typeof pe&&(pe<0||isNaN(pe))){const De={instancePath:Q+"/min",schemaPath:"#/oneOf/0/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:i.oneOf[0].properties.min,data:pe};null===S?S=[De]:S.push(De),I++}}if(void 0!==M.max){let pe=M.max;if("number"!=typeof pe||pe%1||isNaN(pe)){const De={instancePath:Q+"/max",schemaPath:"#/oneOf/0/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:i.oneOf[0].properties.max.type,parentSchema:i.oneOf[0].properties.max,data:pe};null===S?S=[De]:S.push(De),I++}if("number"==typeof pe&&(pe<0||isNaN(pe))){const De={instancePath:Q+"/max",schemaPath:"#/oneOf/0/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:i.oneOf[0].properties.max,data:pe};null===S?S=[De]:S.push(De),I++}}if(void 0!==M.from){let pe=M.from;if("string"!=typeof pe){const De={instancePath:Q+"/from",schemaPath:"#/oneOf/0/properties/from/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.oneOf[0].properties.from.type,parentSchema:i.oneOf[0].properties.from,data:pe};null===S?S=[De]:S.push(De),I++}}}le===I&&(K=!0,q=0);const he=I;if(M&&"object"==typeof M&&!Array.isArray(M)){if(void 0===M.rule){const pe={instancePath:Q,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:i.oneOf[1].required,parentSchema:i.oneOf[1],data:M};null===S?S=[pe]:S.push(pe),I++}if(void 0===M.from_nested){const pe={instancePath:Q,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"from_nested"},message:"must have required property 'from_nested'",schema:i.oneOf[1].required,parentSchema:i.oneOf[1],data:M};null===S?S=[pe]:S.push(pe),I++}for(const pe in M)if("name"!==pe&&"purpose"!==pe&&"rule"!==pe&&"count"!==pe&&"min"!==pe&&"max"!==pe&&"from_nested"!==pe){const De={instancePath:Q,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:pe},message:"must NOT have additional properties",schema:!1,parentSchema:i.oneOf[1],data:M};null===S?S=[De]:S.push(De),I++}if(void 0!==M.name){let pe=M.name;if("string"!=typeof pe){const De={instancePath:Q+"/name",schemaPath:"#/oneOf/1/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.oneOf[1].properties.name.type,parentSchema:i.oneOf[1].properties.name,data:pe};null===S?S=[De]:S.push(De),I++}}if(void 0!==M.purpose){let pe=M.purpose;if("string"!=typeof pe){const De={instancePath:Q+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.oneOf[1].properties.purpose.type,parentSchema:i.oneOf[1].properties.purpose,data:pe};null===S?S=[De]:S.push(De),I++}}if(void 0!==M.rule){let pe=M.rule;if("string"!=typeof pe){const De={instancePath:Q+"/rule",schemaPath:"#/oneOf/1/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.oneOf[1].properties.rule.type,parentSchema:i.oneOf[1].properties.rule,data:pe};null===S?S=[De]:S.push(De),I++}if("all"!==pe&&"pick"!==pe){const De={instancePath:Q+"/rule",schemaPath:"#/oneOf/1/properties/rule/enum",keyword:"enum",params:{allowedValues:i.oneOf[1].properties.rule.enum},message:"must be equal to one of the allowed values",schema:i.oneOf[1].properties.rule.enum,parentSchema:i.oneOf[1].properties.rule,data:pe};null===S?S=[De]:S.push(De),I++}}if(void 0!==M.count){let pe=M.count;if("number"!=typeof pe||pe%1||isNaN(pe)){const De={instancePath:Q+"/count",schemaPath:"#/oneOf/1/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:i.oneOf[1].properties.count.type,parentSchema:i.oneOf[1].properties.count,data:pe};null===S?S=[De]:S.push(De),I++}if("number"==typeof pe&&(pe<1||isNaN(pe))){const De={instancePath:Q+"/count",schemaPath:"#/oneOf/1/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:i.oneOf[1].properties.count,data:pe};null===S?S=[De]:S.push(De),I++}}if(void 0!==M.min){let pe=M.min;if("number"!=typeof pe||pe%1||isNaN(pe)){const De={instancePath:Q+"/min",schemaPath:"#/oneOf/1/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:i.oneOf[1].properties.min.type,parentSchema:i.oneOf[1].properties.min,data:pe};null===S?S=[De]:S.push(De),I++}if("number"==typeof pe&&(pe<0||isNaN(pe))){const De={instancePath:Q+"/min",schemaPath:"#/oneOf/1/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:i.oneOf[1].properties.min,data:pe};null===S?S=[De]:S.push(De),I++}}if(void 0!==M.max){let pe=M.max;if("number"!=typeof pe||pe%1||isNaN(pe)){const De={instancePath:Q+"/max",schemaPath:"#/oneOf/1/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:i.oneOf[1].properties.max.type,parentSchema:i.oneOf[1].properties.max,data:pe};null===S?S=[De]:S.push(De),I++}if("number"==typeof pe&&(pe<0||isNaN(pe))){const De={instancePath:Q+"/max",schemaPath:"#/oneOf/1/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:i.oneOf[1].properties.max,data:pe};null===S?S=[De]:S.push(De),I++}}if(void 0!==M.from_nested){let pe=M.from_nested;if(Array.isArray(pe)){if(pe.length<1){const Xe={instancePath:Q+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:i.oneOf[1].properties.from_nested,data:pe};null===S?S=[Xe]:S.push(Xe),I++}const De=pe.length;for(let Xe=0;Xe<De;Xe++)p.validate(pe[Xe],{instancePath:Q+"/from_nested/"+Xe,parentData:pe,parentDataProperty:Xe,rootData:je})||(S=null===S?p.validate.errors:S.concat(p.validate.errors),I=S.length)}else{const De={instancePath:Q+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/type",keyword:"type",params:{type:"array"},message:"must be array",schema:i.oneOf[1].properties.from_nested.type,parentSchema:i.oneOf[1].properties.from_nested,data:pe};null===S?S=[De]:S.push(De),I++}}}var Ee;if((Ee=he===I)&&K?(K=!1,q=[q,1]):Ee&&(K=!0,q=1),K)I=G,null!==S&&(G?S.length=G:S=null);else{const pe={instancePath:Q,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:q},message:"must match exactly one schema in oneOf",schema:i.oneOf,parentSchema:i,data:M};null===S?S=[pe]:S.push(pe),I++}return o.errors=S,0===I}const l={type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},group:{type:"array",items:{type:"string"}},format:{$ref:"#/definitions/format"},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id"],additionalProperties:!1},w={type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0};function E(M,{instancePath:Q="",rootData:je=M}={}){let S=null,I=0;if(M&&"object"==typeof M&&!Array.isArray(M)){if(void 0!==M.manifest){let G=M.manifest;if("string"!=typeof G){const K={instancePath:Q+"/manifest",schemaPath:"#/properties/manifest/type",keyword:"type",params:{type:"string"},message:"must be string",schema:w.properties.manifest.type,parentSchema:w.properties.manifest,data:G};null===S?S=[K]:S.push(K),I++}}}else{const G={instancePath:Q,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:w.type,parentSchema:w,data:M};null===S?S=[G]:S.push(G),I++}return E.errors=S,0===I}const b={type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},name:{type:"string"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},predicate:{type:"string",enum:["required","preferred"]},name:{type:"string"}},required:["path","filter","predicate"],additionalProperties:!1}]},A={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},C={type:"integer",minimum:0};function _(M,{instancePath:Q="",rootData:je=M}={}){let S=null,I=0;if("number"!=typeof M||M%1||isNaN(M)){const G={instancePath:Q,schemaPath:"#/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:C.type,parentSchema:C,data:M};null===S?S=[G]:S.push(G),I++}if("number"==typeof M&&(M<0||isNaN(M))){const G={instancePath:Q,schemaPath:"#/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:C,data:M};null===S?S=[G]:S.push(G),I++}return _.errors=S,0===I}function O(M,{instancePath:Q="",parentData:de,parentDataProperty:we,rootData:je=M}={}){let S=null,I=0;return _(M,{instancePath:Q,parentData:de,parentDataProperty:we,rootData:je})||(S=null===S?_.errors:S.concat(_.errors),I=S.length),O.errors=S,0===I}const j={type:"array",minItems:1,items:{$ref:"#"}},F={validate:R};function T(M,{instancePath:Q="",rootData:je=M}={}){let S=null,I=0;if(Array.isArray(M)){if(M.length<1){const K={instancePath:Q,schemaPath:"#/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:j,data:M};null===S?S=[K]:S.push(K),I++}const G=M.length;for(let K=0;K<G;K++)F.validate(M[K],{instancePath:Q+"/"+K,parentData:M,parentDataProperty:K,rootData:je})||(S=null===S?F.validate.errors:S.concat(F.validate.errors),I=S.length)}else{const G={instancePath:Q,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array",schema:j.type,parentSchema:j,data:M};null===S?S=[G]:S.push(G),I++}return T.errors=S,0===I}const z={type:"array",items:{type:"string"},uniqueItems:!0,default:[]};function ee(M,{instancePath:Q="",rootData:je=M}={}){let S=null,I=0;if(Array.isArray(M)){const G=M.length;for(let le=0;le<G;le++){let he=M[le];if("string"!=typeof he){const Ee={instancePath:Q+"/"+le,schemaPath:"#/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:z.items.type,parentSchema:z.items,data:he};null===S?S=[Ee]:S.push(Ee),I++}}let q,K=M.length;if(K>1){const le={};for(;K--;){let he=M[K];if("string"==typeof he){if("number"==typeof le[he]){q=le[he];const Ee={instancePath:Q,schemaPath:"#/uniqueItems",keyword:"uniqueItems",params:{i:K,j:q},message:"must NOT have duplicate items (items ## "+q+" and "+K+" are identical)",schema:!0,parentSchema:z,data:M};null===S?S=[Ee]:S.push(Ee),I++;break}le[he]=K}}}}else{const G={instancePath:Q,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array",schema:z.type,parentSchema:z,data:M};null===S?S=[G]:S.push(G),I++}return ee.errors=S,0===I}const ie={enum:["array","boolean","integer","null","number","object","string"]};function x(M,{instancePath:Q="",rootData:je=M}={}){let S=null,I=0;if("array"!==M&&"boolean"!==M&&"integer"!==M&&"null"!==M&&"number"!==M&&"object"!==M&&"string"!==M){const G={instancePath:Q,schemaPath:"#/enum",keyword:"enum",params:{allowedValues:ie.enum},message:"must be equal to one of the allowed values",schema:ie.enum,parentSchema:ie,data:M};null===S?S=[G]:S.push(G),I++}return x.errors=S,0===I}const H=s(54195).default;function R(M,{instancePath:Q="",rootData:je=M}={}){let S=null,I=0;if((!M||"object"!=typeof M||Array.isArray(M))&&"boolean"!=typeof M){const he={instancePath:Q,schemaPath:"#/type",keyword:"type",params:{type:A.type},message:"must be object,boolean",schema:A.type,parentSchema:A,data:M};null===S?S=[he]:S.push(he),I++}if(M&&"object"==typeof M&&!Array.isArray(M)){if(void 0!==M.$id){let he=M.$id;if("string"!=typeof he){const Ee={instancePath:Q+"/$id",schemaPath:"#/properties/%24id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties.$id.type,parentSchema:A.properties.$id,data:he};null===S?S=[Ee]:S.push(Ee),I++}}if(void 0!==M.$schema){let he=M.$schema;if("string"!=typeof he){const Ee={instancePath:Q+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties.$schema.type,parentSchema:A.properties.$schema,data:he};null===S?S=[Ee]:S.push(Ee),I++}}if(void 0!==M.$ref){let he=M.$ref;if("string"!=typeof he){const Ee={instancePath:Q+"/$ref",schemaPath:"#/properties/%24ref/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties.$ref.type,parentSchema:A.properties.$ref,data:he};null===S?S=[Ee]:S.push(Ee),I++}}if(void 0!==M.$comment){let he=M.$comment;if("string"!=typeof he){const Ee={instancePath:Q+"/$comment",schemaPath:"#/properties/%24comment/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties.$comment.type,parentSchema:A.properties.$comment,data:he};null===S?S=[Ee]:S.push(Ee),I++}}if(void 0!==M.title){let he=M.title;if("string"!=typeof he){const Ee={instancePath:Q+"/title",schemaPath:"#/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties.title.type,parentSchema:A.properties.title,data:he};null===S?S=[Ee]:S.push(Ee),I++}}if(void 0!==M.description){let he=M.description;if("string"!=typeof he){const Ee={instancePath:Q+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties.description.type,parentSchema:A.properties.description,data:he};null===S?S=[Ee]:S.push(Ee),I++}}if(void 0!==M.readOnly){let he=M.readOnly;if("boolean"!=typeof he){const Ee={instancePath:Q+"/readOnly",schemaPath:"#/properties/readOnly/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:A.properties.readOnly.type,parentSchema:A.properties.readOnly,data:he};null===S?S=[Ee]:S.push(Ee),I++}}if(void 0!==M.examples){let he=M.examples;if(!Array.isArray(he)){const Ee={instancePath:Q+"/examples",schemaPath:"#/properties/examples/type",keyword:"type",params:{type:"array"},message:"must be array",schema:A.properties.examples.type,parentSchema:A.properties.examples,data:he};null===S?S=[Ee]:S.push(Ee),I++}}if(void 0!==M.multipleOf){let he=M.multipleOf;if("number"==typeof he){if(he<=0||isNaN(he)){const Ee={instancePath:Q+"/multipleOf",schemaPath:"#/properties/multipleOf/exclusiveMinimum",keyword:"exclusiveMinimum",params:{comparison:">",limit:0},message:"must be > 0",schema:0,parentSchema:A.properties.multipleOf,data:he};null===S?S=[Ee]:S.push(Ee),I++}}else{const Ee={instancePath:Q+"/multipleOf",schemaPath:"#/properties/multipleOf/type",keyword:"type",params:{type:"number"},message:"must be number",schema:A.properties.multipleOf.type,parentSchema:A.properties.multipleOf,data:he};null===S?S=[Ee]:S.push(Ee),I++}}if(void 0!==M.maximum){let he=M.maximum;if("number"!=typeof he){const Ee={instancePath:Q+"/maximum",schemaPath:"#/properties/maximum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:A.properties.maximum.type,parentSchema:A.properties.maximum,data:he};null===S?S=[Ee]:S.push(Ee),I++}}if(void 0!==M.exclusiveMaximum){let he=M.exclusiveMaximum;if("number"!=typeof he){const Ee={instancePath:Q+"/exclusiveMaximum",schemaPath:"#/properties/exclusiveMaximum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:A.properties.exclusiveMaximum.type,parentSchema:A.properties.exclusiveMaximum,data:he};null===S?S=[Ee]:S.push(Ee),I++}}if(void 0!==M.minimum){let he=M.minimum;if("number"!=typeof he){const Ee={instancePath:Q+"/minimum",schemaPath:"#/properties/minimum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:A.properties.minimum.type,parentSchema:A.properties.minimum,data:he};null===S?S=[Ee]:S.push(Ee),I++}}if(void 0!==M.exclusiveMinimum){let he=M.exclusiveMinimum;if("number"!=typeof he){const Ee={instancePath:Q+"/exclusiveMinimum",schemaPath:"#/properties/exclusiveMinimum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:A.properties.exclusiveMinimum.type,parentSchema:A.properties.exclusiveMinimum,data:he};null===S?S=[Ee]:S.push(Ee),I++}}if(void 0!==M.maxLength&&(_(M.maxLength,{instancePath:Q+"/maxLength",parentData:M,parentDataProperty:"maxLength",rootData:je})||(S=null===S?_.errors:S.concat(_.errors),I=S.length)),void 0!==M.minLength&&(O(M.minLength,{instancePath:Q+"/minLength",parentData:M,parentDataProperty:"minLength",rootData:je})||(S=null===S?O.errors:S.concat(O.errors),I=S.length)),void 0!==M.pattern){let he=M.pattern;if("string"!=typeof he){const Ee={instancePath:Q+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties.pattern.type,parentSchema:A.properties.pattern,data:he};null===S?S=[Ee]:S.push(Ee),I++}}if(void 0!==M.additionalItems&&(R(M.additionalItems,{instancePath:Q+"/additionalItems",parentData:M,parentDataProperty:"additionalItems",rootData:je})||(S=null===S?R.errors:S.concat(R.errors),I=S.length)),void 0!==M.items){let he=M.items;const Ee=I;let pe=!1;const De=I;R(he,{instancePath:Q+"/items",parentData:M,parentDataProperty:"items",rootData:je})||(S=null===S?R.errors:S.concat(R.errors),I=S.length);var G=De===I;if(pe=pe||G,!pe){const Xe=I;T(he,{instancePath:Q+"/items",parentData:M,parentDataProperty:"items",rootData:je})||(S=null===S?T.errors:S.concat(T.errors),I=S.length),G=Xe===I,pe=pe||G}if(pe)I=Ee,null!==S&&(Ee?S.length=Ee:S=null);else{const Xe={instancePath:Q+"/items",schemaPath:"#/properties/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:A.properties.items.anyOf,parentSchema:A.properties.items,data:he};null===S?S=[Xe]:S.push(Xe),I++}}if(void 0!==M.maxItems&&(_(M.maxItems,{instancePath:Q+"/maxItems",parentData:M,parentDataProperty:"maxItems",rootData:je})||(S=null===S?_.errors:S.concat(_.errors),I=S.length)),void 0!==M.minItems&&(O(M.minItems,{instancePath:Q+"/minItems",parentData:M,parentDataProperty:"minItems",rootData:je})||(S=null===S?O.errors:S.concat(O.errors),I=S.length)),void 0!==M.uniqueItems){let he=M.uniqueItems;if("boolean"!=typeof he){const Ee={instancePath:Q+"/uniqueItems",schemaPath:"#/properties/uniqueItems/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:A.properties.uniqueItems.type,parentSchema:A.properties.uniqueItems,data:he};null===S?S=[Ee]:S.push(Ee),I++}}if(void 0!==M.contains&&(R(M.contains,{instancePath:Q+"/contains",parentData:M,parentDataProperty:"contains",rootData:je})||(S=null===S?R.errors:S.concat(R.errors),I=S.length)),void 0!==M.maxProperties&&(_(M.maxProperties,{instancePath:Q+"/maxProperties",parentData:M,parentDataProperty:"maxProperties",rootData:je})||(S=null===S?_.errors:S.concat(_.errors),I=S.length)),void 0!==M.minProperties&&(O(M.minProperties,{instancePath:Q+"/minProperties",parentData:M,parentDataProperty:"minProperties",rootData:je})||(S=null===S?O.errors:S.concat(O.errors),I=S.length)),void 0!==M.required&&(ee(M.required,{instancePath:Q+"/required",parentData:M,parentDataProperty:"required",rootData:je})||(S=null===S?ee.errors:S.concat(ee.errors),I=S.length)),void 0!==M.additionalProperties&&(R(M.additionalProperties,{instancePath:Q+"/additionalProperties",parentData:M,parentDataProperty:"additionalProperties",rootData:je})||(S=null===S?R.errors:S.concat(R.errors),I=S.length)),void 0!==M.definitions){let he=M.definitions;if(he&&"object"==typeof he&&!Array.isArray(he))for(const Ee in he)R(he[Ee],{instancePath:Q+"/definitions/"+Ee.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:he,parentDataProperty:Ee,rootData:je})||(S=null===S?R.errors:S.concat(R.errors),I=S.length);else{const Ee={instancePath:Q+"/definitions",schemaPath:"#/properties/definitions/type",keyword:"type",params:{type:"object"},message:"must be object",schema:A.properties.definitions.type,parentSchema:A.properties.definitions,data:he};null===S?S=[Ee]:S.push(Ee),I++}}if(void 0!==M.properties){let he=M.properties;if(he&&"object"==typeof he&&!Array.isArray(he))for(const Ee in he)R(he[Ee],{instancePath:Q+"/properties/"+Ee.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:he,parentDataProperty:Ee,rootData:je})||(S=null===S?R.errors:S.concat(R.errors),I=S.length);else{const Ee={instancePath:Q+"/properties",schemaPath:"#/properties/properties/type",keyword:"type",params:{type:"object"},message:"must be object",schema:A.properties.properties.type,parentSchema:A.properties.properties,data:he};null===S?S=[Ee]:S.push(Ee),I++}}if(void 0!==M.patternProperties){let he=M.patternProperties;if(he&&"object"==typeof he&&!Array.isArray(he)){for(const Ee in he)if(I!=I){const De={instancePath:Q+"/patternProperties",schemaPath:"#/properties/patternProperties/propertyNames",keyword:"propertyNames",params:{propertyName:Ee},message:"property name must be valid",schema:A.properties.patternProperties.propertyNames,parentSchema:A.properties.patternProperties,data:he};null===S?S=[De]:S.push(De),I++}for(const Ee in he)R(he[Ee],{instancePath:Q+"/patternProperties/"+Ee.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:he,parentDataProperty:Ee,rootData:je})||(S=null===S?R.errors:S.concat(R.errors),I=S.length)}else{const Ee={instancePath:Q+"/patternProperties",schemaPath:"#/properties/patternProperties/type",keyword:"type",params:{type:"object"},message:"must be object",schema:A.properties.patternProperties.type,parentSchema:A.properties.patternProperties,data:he};null===S?S=[Ee]:S.push(Ee),I++}}if(void 0!==M.dependencies){let he=M.dependencies;if(he&&"object"==typeof he&&!Array.isArray(he))for(const Ee in he){let pe=he[Ee];const De=I;let Xe=!1;const Pe=I;R(pe,{instancePath:Q+"/dependencies/"+Ee.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:he,parentDataProperty:Ee,rootData:je})||(S=null===S?R.errors:S.concat(R.errors),I=S.length);var q=Pe===I;if(Xe=Xe||q,!Xe){const Fe=I;ee(pe,{instancePath:Q+"/dependencies/"+Ee.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:he,parentDataProperty:Ee,rootData:je})||(S=null===S?ee.errors:S.concat(ee.errors),I=S.length),q=Fe===I,Xe=Xe||q}if(Xe)I=De,null!==S&&(De?S.length=De:S=null);else{const Fe={instancePath:Q+"/dependencies/"+Ee.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/dependencies/additionalProperties/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:A.properties.dependencies.additionalProperties.anyOf,parentSchema:A.properties.dependencies.additionalProperties,data:pe};null===S?S=[Fe]:S.push(Fe),I++}}else{const Ee={instancePath:Q+"/dependencies",schemaPath:"#/properties/dependencies/type",keyword:"type",params:{type:"object"},message:"must be object",schema:A.properties.dependencies.type,parentSchema:A.properties.dependencies,data:he};null===S?S=[Ee]:S.push(Ee),I++}}if(void 0!==M.propertyNames&&(R(M.propertyNames,{instancePath:Q+"/propertyNames",parentData:M,parentDataProperty:"propertyNames",rootData:je})||(S=null===S?R.errors:S.concat(R.errors),I=S.length)),void 0!==M.enum){let he=M.enum;if(Array.isArray(he)){if(he.length<1){const De={instancePath:Q+"/enum",schemaPath:"#/properties/enum/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:A.properties.enum,data:he};null===S?S=[De]:S.push(De),I++}let pe,Ee=he.length;if(Ee>1)e:for(;Ee--;)for(pe=Ee;pe--;)if(H(he[Ee],he[pe])){const De={instancePath:Q+"/enum",schemaPath:"#/properties/enum/uniqueItems",keyword:"uniqueItems",params:{i:Ee,j:pe},message:"must NOT have duplicate items (items ## "+pe+" and "+Ee+" are identical)",schema:!0,parentSchema:A.properties.enum,data:he};null===S?S=[De]:S.push(De),I++;break e}}else{const Ee={instancePath:Q+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:A.properties.enum.type,parentSchema:A.properties.enum,data:he};null===S?S=[Ee]:S.push(Ee),I++}}if(void 0!==M.type){let he=M.type;const Ee=I;let pe=!1;const De=I;x(he,{instancePath:Q+"/type",parentData:M,parentDataProperty:"type",rootData:je})||(S=null===S?x.errors:S.concat(x.errors),I=S.length);var le=De===I;if(pe=pe||le,!pe){const Xe=I;if(Array.isArray(he)){if(he.length<1){const ge={instancePath:Q+"/type",schemaPath:"#/properties/type/anyOf/1/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:A.properties.type.anyOf[1],data:he};null===S?S=[ge]:S.push(ge),I++}const Fe=he.length;for(let ge=0;ge<Fe;ge++)x(he[ge],{instancePath:Q+"/type/"+ge,parentData:he,parentDataProperty:ge,rootData:je})||(S=null===S?x.errors:S.concat(x.errors),I=S.length);let ve,me=he.length;if(me>1)e:for(;me--;)for(ve=me;ve--;)if(H(he[me],he[ve])){const ge={instancePath:Q+"/type",schemaPath:"#/properties/type/anyOf/1/uniqueItems",keyword:"uniqueItems",params:{i:me,j:ve},message:"must NOT have duplicate items (items ## "+ve+" and "+me+" are identical)",schema:!0,parentSchema:A.properties.type.anyOf[1],data:he};null===S?S=[ge]:S.push(ge),I++;break e}}else{const Fe={instancePath:Q+"/type",schemaPath:"#/properties/type/anyOf/1/type",keyword:"type",params:{type:"array"},message:"must be array",schema:A.properties.type.anyOf[1].type,parentSchema:A.properties.type.anyOf[1],data:he};null===S?S=[Fe]:S.push(Fe),I++}le=Xe===I,pe=pe||le}if(pe)I=Ee,null!==S&&(Ee?S.length=Ee:S=null);else{const Xe={instancePath:Q+"/type",schemaPath:"#/properties/type/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:A.properties.type.anyOf,parentSchema:A.properties.type,data:he};null===S?S=[Xe]:S.push(Xe),I++}}if(void 0!==M.format){let he=M.format;if("string"!=typeof he){const Ee={instancePath:Q+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties.format.type,parentSchema:A.properties.format,data:he};null===S?S=[Ee]:S.push(Ee),I++}}if(void 0!==M.contentMediaType){let he=M.contentMediaType;if("string"!=typeof he){const Ee={instancePath:Q+"/contentMediaType",schemaPath:"#/properties/contentMediaType/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties.contentMediaType.type,parentSchema:A.properties.contentMediaType,data:he};null===S?S=[Ee]:S.push(Ee),I++}}if(void 0!==M.contentEncoding){let he=M.contentEncoding;if("string"!=typeof he){const Ee={instancePath:Q+"/contentEncoding",schemaPath:"#/properties/contentEncoding/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties.contentEncoding.type,parentSchema:A.properties.contentEncoding,data:he};null===S?S=[Ee]:S.push(Ee),I++}}void 0!==M.if&&(R(M.if,{instancePath:Q+"/if",parentData:M,parentDataProperty:"if",rootData:je})||(S=null===S?R.errors:S.concat(R.errors),I=S.length)),void 0!==M.then&&(R(M.then,{instancePath:Q+"/then",parentData:M,parentDataProperty:"then",rootData:je})||(S=null===S?R.errors:S.concat(R.errors),I=S.length)),void 0!==M.else&&(R(M.else,{instancePath:Q+"/else",parentData:M,parentDataProperty:"else",rootData:je})||(S=null===S?R.errors:S.concat(R.errors),I=S.length)),void 0!==M.allOf&&(T(M.allOf,{instancePath:Q+"/allOf",parentData:M,parentDataProperty:"allOf",rootData:je})||(S=null===S?T.errors:S.concat(T.errors),I=S.length)),void 0!==M.anyOf&&(T(M.anyOf,{instancePath:Q+"/anyOf",parentData:M,parentDataProperty:"anyOf",rootData:je})||(S=null===S?T.errors:S.concat(T.errors),I=S.length)),void 0!==M.oneOf&&(T(M.oneOf,{instancePath:Q+"/oneOf",parentData:M,parentDataProperty:"oneOf",rootData:je})||(S=null===S?T.errors:S.concat(T.errors),I=S.length)),void 0!==M.not&&(R(M.not,{instancePath:Q+"/not",parentData:M,parentDataProperty:"not",rootData:je})||(S=null===S?R.errors:S.concat(R.errors),I=S.length))}return R.errors=S,0===I}function J(M,{instancePath:Q="",rootData:je=M}={}){let S=null,I=0;if(!M||"object"!=typeof M||Array.isArray(M)){const pe={instancePath:Q,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:b.type,parentSchema:b,data:M};null===S?S=[pe]:S.push(pe),I++}const G=I;let K=!1,q=null;const le=I;if(M&&"object"==typeof M&&!Array.isArray(M)){if(void 0===M.path){const pe={instancePath:Q,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:b.oneOf[0].required,parentSchema:b.oneOf[0],data:M};null===S?S=[pe]:S.push(pe),I++}for(const pe in M)if("id"!==pe&&"path"!==pe&&"purpose"!==pe&&"intent_to_retain"!==pe&&"filter"!==pe&&"name"!==pe){const De={instancePath:Q,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:pe},message:"must NOT have additional properties",schema:!1,parentSchema:b.oneOf[0],data:M};null===S?S=[De]:S.push(De),I++}if(void 0!==M.id){let pe=M.id;if("string"!=typeof pe){const De={instancePath:Q+"/id",schemaPath:"#/oneOf/0/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:b.oneOf[0].properties.id.type,parentSchema:b.oneOf[0].properties.id,data:pe};null===S?S=[De]:S.push(De),I++}}if(void 0!==M.path){let pe=M.path;if(Array.isArray(pe)){const De=pe.length;for(let Xe=0;Xe<De;Xe++){let Pe=pe[Xe];if("string"!=typeof Pe){const Fe={instancePath:Q+"/path/"+Xe,schemaPath:"#/oneOf/0/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:b.oneOf[0].properties.path.items.type,parentSchema:b.oneOf[0].properties.path.items,data:Pe};null===S?S=[Fe]:S.push(Fe),I++}}}else{const De={instancePath:Q+"/path",schemaPath:"#/oneOf/0/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:b.oneOf[0].properties.path.type,parentSchema:b.oneOf[0].properties.path,data:pe};null===S?S=[De]:S.push(De),I++}}if(void 0!==M.purpose){let pe=M.purpose;if("string"!=typeof pe){const De={instancePath:Q+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:b.oneOf[0].properties.purpose.type,parentSchema:b.oneOf[0].properties.purpose,data:pe};null===S?S=[De]:S.push(De),I++}}if(void 0!==M.intent_to_retain){let pe=M.intent_to_retain;if("boolean"!=typeof pe){const De={instancePath:Q+"/intent_to_retain",schemaPath:"#/oneOf/0/properties/intent_to_retain/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:b.oneOf[0].properties.intent_to_retain.type,parentSchema:b.oneOf[0].properties.intent_to_retain,data:pe};null===S?S=[De]:S.push(De),I++}}if(void 0!==M.filter&&(R(M.filter,{instancePath:Q+"/filter",parentData:M,parentDataProperty:"filter",rootData:je})||(S=null===S?R.errors:S.concat(R.errors),I=S.length)),void 0!==M.name){let pe=M.name;if("string"!=typeof pe){const De={instancePath:Q+"/name",schemaPath:"#/oneOf/0/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:b.oneOf[0].properties.name.type,parentSchema:b.oneOf[0].properties.name,data:pe};null===S?S=[De]:S.push(De),I++}}}le===I&&(K=!0,q=0);const he=I;if(M&&"object"==typeof M&&!Array.isArray(M)){if(void 0===M.path){const pe={instancePath:Q,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:b.oneOf[1].required,parentSchema:b.oneOf[1],data:M};null===S?S=[pe]:S.push(pe),I++}if(void 0===M.filter){const pe={instancePath:Q,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"filter"},message:"must have required property 'filter'",schema:b.oneOf[1].required,parentSchema:b.oneOf[1],data:M};null===S?S=[pe]:S.push(pe),I++}if(void 0===M.predicate){const pe={instancePath:Q,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"predicate"},message:"must have required property 'predicate'",schema:b.oneOf[1].required,parentSchema:b.oneOf[1],data:M};null===S?S=[pe]:S.push(pe),I++}for(const pe in M)if("id"!==pe&&"path"!==pe&&"purpose"!==pe&&"intent_to_retain"!==pe&&"filter"!==pe&&"predicate"!==pe&&"name"!==pe){const De={instancePath:Q,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:pe},message:"must NOT have additional properties",schema:!1,parentSchema:b.oneOf[1],data:M};null===S?S=[De]:S.push(De),I++}if(void 0!==M.id){let pe=M.id;if("string"!=typeof pe){const De={instancePath:Q+"/id",schemaPath:"#/oneOf/1/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:b.oneOf[1].properties.id.type,parentSchema:b.oneOf[1].properties.id,data:pe};null===S?S=[De]:S.push(De),I++}}if(void 0!==M.path){let pe=M.path;if(Array.isArray(pe)){const De=pe.length;for(let Xe=0;Xe<De;Xe++){let Pe=pe[Xe];if("string"!=typeof Pe){const Fe={instancePath:Q+"/path/"+Xe,schemaPath:"#/oneOf/1/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:b.oneOf[1].properties.path.items.type,parentSchema:b.oneOf[1].properties.path.items,data:Pe};null===S?S=[Fe]:S.push(Fe),I++}}}else{const De={instancePath:Q+"/path",schemaPath:"#/oneOf/1/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:b.oneOf[1].properties.path.type,parentSchema:b.oneOf[1].properties.path,data:pe};null===S?S=[De]:S.push(De),I++}}if(void 0!==M.purpose){let pe=M.purpose;if("string"!=typeof pe){const De={instancePath:Q+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:b.oneOf[1].properties.purpose.type,parentSchema:b.oneOf[1].properties.purpose,data:pe};null===S?S=[De]:S.push(De),I++}}if(void 0!==M.intent_to_retain){let pe=M.intent_to_retain;if("boolean"!=typeof pe){const De={instancePath:Q+"/intent_to_retain",schemaPath:"#/oneOf/1/properties/intent_to_retain/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:b.oneOf[1].properties.intent_to_retain.type,parentSchema:b.oneOf[1].properties.intent_to_retain,data:pe};null===S?S=[De]:S.push(De),I++}}if(void 0!==M.filter&&(R(M.filter,{instancePath:Q+"/filter",parentData:M,parentDataProperty:"filter",rootData:je})||(S=null===S?R.errors:S.concat(R.errors),I=S.length)),void 0!==M.predicate){let pe=M.predicate;if("string"!=typeof pe){const De={instancePath:Q+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/type",keyword:"type",params:{type:"string"},message:"must be string",schema:b.oneOf[1].properties.predicate.type,parentSchema:b.oneOf[1].properties.predicate,data:pe};null===S?S=[De]:S.push(De),I++}if("required"!==pe&&"preferred"!==pe){const De={instancePath:Q+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/enum",keyword:"enum",params:{allowedValues:b.oneOf[1].properties.predicate.enum},message:"must be equal to one of the allowed values",schema:b.oneOf[1].properties.predicate.enum,parentSchema:b.oneOf[1].properties.predicate,data:pe};null===S?S=[De]:S.push(De),I++}}if(void 0!==M.name){let pe=M.name;if("string"!=typeof pe){const De={instancePath:Q+"/name",schemaPath:"#/oneOf/1/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:b.oneOf[1].properties.name.type,parentSchema:b.oneOf[1].properties.name,data:pe};null===S?S=[De]:S.push(De),I++}}}var Ee;if((Ee=he===I)&&K?(K=!1,q=[q,1]):Ee&&(K=!0,q=1),K)I=G,null!==S&&(G?S.length=G:S=null);else{const pe={instancePath:Q,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:q},message:"must match exactly one schema in oneOf",schema:b.oneOf,parentSchema:b,data:M};null===S?S=[pe]:S.push(pe),I++}return J.errors=S,0===I}function W(M,{instancePath:Q="",rootData:je=M}={}){let S=null,I=0;if(M&&"object"==typeof M&&!Array.isArray(M)){if(void 0===M.id){const G={instancePath:Q,schemaPath:"#/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:l.required,parentSchema:l,data:M};null===S?S=[G]:S.push(G),I++}for(const G in M)if("id"!==G&&"name"!==G&&"purpose"!==G&&"issuance"!==G&&"group"!==G&&"format"!==G&&"constraints"!==G){const K={instancePath:Q,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:G},message:"must NOT have additional properties",schema:!1,parentSchema:l,data:M};null===S?S=[K]:S.push(K),I++}if(void 0!==M.id){let G=M.id;if("string"!=typeof G){const K={instancePath:Q+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.id.type,parentSchema:l.properties.id,data:G};null===S?S=[K]:S.push(K),I++}}if(void 0!==M.name){let G=M.name;if("string"!=typeof G){const K={instancePath:Q+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.name.type,parentSchema:l.properties.name,data:G};null===S?S=[K]:S.push(K),I++}}if(void 0!==M.purpose){let G=M.purpose;if("string"!=typeof G){const K={instancePath:Q+"/purpose",schemaPath:"#/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.purpose.type,parentSchema:l.properties.purpose,data:G};null===S?S=[K]:S.push(K),I++}}if(void 0!==M.issuance){let G=M.issuance;if(Array.isArray(G)){const K=G.length;for(let q=0;q<K;q++)E(G[q],{instancePath:Q+"/issuance/"+q,parentData:G,parentDataProperty:q,rootData:je})||(S=null===S?E.errors:S.concat(E.errors),I=S.length)}else{const K={instancePath:Q+"/issuance",schemaPath:"#/properties/issuance/type",keyword:"type",params:{type:"array"},message:"must be array",schema:l.properties.issuance.type,parentSchema:l.properties.issuance,data:G};null===S?S=[K]:S.push(K),I++}}if(void 0!==M.group){let G=M.group;if(Array.isArray(G)){const K=G.length;for(let q=0;q<K;q++){let le=G[q];if("string"!=typeof le){const he={instancePath:Q+"/group/"+q,schemaPath:"#/properties/group/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.group.items.type,parentSchema:l.properties.group.items,data:le};null===S?S=[he]:S.push(he),I++}}}else{const K={instancePath:Q+"/group",schemaPath:"#/properties/group/type",keyword:"type",params:{type:"array"},message:"must be array",schema:l.properties.group.type,parentSchema:l.properties.group,data:G};null===S?S=[K]:S.push(K),I++}}if(void 0!==M.format&&(u(M.format,{instancePath:Q+"/format",parentData:M,parentDataProperty:"format",rootData:je})||(S=null===S?u.errors:S.concat(u.errors),I=S.length)),void 0!==M.constraints){let G=M.constraints;if(G&&"object"==typeof G&&!Array.isArray(G)){for(const K in G)if("limit_disclosure"!==K&&"statuses"!==K&&"fields"!==K&&"subject_is_issuer"!==K&&"is_holder"!==K&&"same_subject"!==K){const q={instancePath:Q+"/constraints",schemaPath:"#/properties/constraints/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:K},message:"must NOT have additional properties",schema:!1,parentSchema:l.properties.constraints,data:G};null===S?S=[q]:S.push(q),I++}if(void 0!==G.limit_disclosure){let K=G.limit_disclosure;if("string"!=typeof K){const q={instancePath:Q+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.constraints.properties.limit_disclosure.type,parentSchema:l.properties.constraints.properties.limit_disclosure,data:K};null===S?S=[q]:S.push(q),I++}if("required"!==K&&"preferred"!==K){const q={instancePath:Q+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/enum",keyword:"enum",params:{allowedValues:l.properties.constraints.properties.limit_disclosure.enum},message:"must be equal to one of the allowed values",schema:l.properties.constraints.properties.limit_disclosure.enum,parentSchema:l.properties.constraints.properties.limit_disclosure,data:K};null===S?S=[q]:S.push(q),I++}}if(void 0!==G.statuses){let K=G.statuses;if(K&&"object"==typeof K&&!Array.isArray(K)){if(void 0!==K.active){let q=K.active;if(q&&"object"==typeof q&&!Array.isArray(q)){if(void 0!==q.directive){let le=q.directive;if("string"!=typeof le){const he={instancePath:Q+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.constraints.properties.statuses.properties.active.properties.directive.type,parentSchema:l.properties.constraints.properties.statuses.properties.active.properties.directive,data:le};null===S?S=[he]:S.push(he),I++}if("required"!==le&&"allowed"!==le&&"disallowed"!==le){const he={instancePath:Q+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/enum",keyword:"enum",params:{allowedValues:l.properties.constraints.properties.statuses.properties.active.properties.directive.enum},message:"must be equal to one of the allowed values",schema:l.properties.constraints.properties.statuses.properties.active.properties.directive.enum,parentSchema:l.properties.constraints.properties.statuses.properties.active.properties.directive,data:le};null===S?S=[he]:S.push(he),I++}}}else{const le={instancePath:Q+"/constraints/statuses/active",schemaPath:"#/properties/constraints/properties/statuses/properties/active/type",keyword:"type",params:{type:"object"},message:"must be object",schema:l.properties.constraints.properties.statuses.properties.active.type,parentSchema:l.properties.constraints.properties.statuses.properties.active,data:q};null===S?S=[le]:S.push(le),I++}}if(void 0!==K.suspended){let q=K.suspended;if(q&&"object"==typeof q&&!Array.isArray(q)){if(void 0!==q.directive){let le=q.directive;if("string"!=typeof le){const he={instancePath:Q+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.constraints.properties.statuses.properties.suspended.properties.directive.type,parentSchema:l.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:le};null===S?S=[he]:S.push(he),I++}if("required"!==le&&"allowed"!==le&&"disallowed"!==le){const he={instancePath:Q+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/enum",keyword:"enum",params:{allowedValues:l.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum},message:"must be equal to one of the allowed values",schema:l.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum,parentSchema:l.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:le};null===S?S=[he]:S.push(he),I++}}}else{const le={instancePath:Q+"/constraints/statuses/suspended",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/type",keyword:"type",params:{type:"object"},message:"must be object",schema:l.properties.constraints.properties.statuses.properties.suspended.type,parentSchema:l.properties.constraints.properties.statuses.properties.suspended,data:q};null===S?S=[le]:S.push(le),I++}}if(void 0!==K.revoked){let q=K.revoked;if(q&&"object"==typeof q&&!Array.isArray(q)){if(void 0!==q.directive){let le=q.directive;if("string"!=typeof le){const he={instancePath:Q+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.constraints.properties.statuses.properties.revoked.properties.directive.type,parentSchema:l.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:le};null===S?S=[he]:S.push(he),I++}if("required"!==le&&"allowed"!==le&&"disallowed"!==le){const he={instancePath:Q+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/enum",keyword:"enum",params:{allowedValues:l.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum},message:"must be equal to one of the allowed values",schema:l.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum,parentSchema:l.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:le};null===S?S=[he]:S.push(he),I++}}}else{const le={instancePath:Q+"/constraints/statuses/revoked",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/type",keyword:"type",params:{type:"object"},message:"must be object",schema:l.properties.constraints.properties.statuses.properties.revoked.type,parentSchema:l.properties.constraints.properties.statuses.properties.revoked,data:q};null===S?S=[le]:S.push(le),I++}}}else{const q={instancePath:Q+"/constraints/statuses",schemaPath:"#/properties/constraints/properties/statuses/type",keyword:"type",params:{type:"object"},message:"must be object",schema:l.properties.constraints.properties.statuses.type,parentSchema:l.properties.constraints.properties.statuses,data:K};null===S?S=[q]:S.push(q),I++}}if(void 0!==G.fields){let K=G.fields;if(Array.isArray(K)){const q=K.length;for(let le=0;le<q;le++)J(K[le],{instancePath:Q+"/constraints/fields/"+le,parentData:K,parentDataProperty:le,rootData:je})||(S=null===S?J.errors:S.concat(J.errors),I=S.length)}else{const q={instancePath:Q+"/constraints/fields",schemaPath:"#/properties/constraints/properties/fields/type",keyword:"type",params:{type:"array"},message:"must be array",schema:l.properties.constraints.properties.fields.type,parentSchema:l.properties.constraints.properties.fields,data:K};null===S?S=[q]:S.push(q),I++}}if(void 0!==G.subject_is_issuer){let K=G.subject_is_issuer;if("string"!=typeof K){const q={instancePath:Q+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.constraints.properties.subject_is_issuer.type,parentSchema:l.properties.constraints.properties.subject_is_issuer,data:K};null===S?S=[q]:S.push(q),I++}if("required"!==K&&"preferred"!==K){const q={instancePath:Q+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/enum",keyword:"enum",params:{allowedValues:l.properties.constraints.properties.subject_is_issuer.enum},message:"must be equal to one of the allowed values",schema:l.properties.constraints.properties.subject_is_issuer.enum,parentSchema:l.properties.constraints.properties.subject_is_issuer,data:K};null===S?S=[q]:S.push(q),I++}}if(void 0!==G.is_holder){let K=G.is_holder;if(Array.isArray(K)){const q=K.length;for(let le=0;le<q;le++){let he=K[le];if(he&&"object"==typeof he&&!Array.isArray(he)){if(void 0===he.field_id){const Ee={instancePath:Q+"/constraints/is_holder/"+le,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:l.properties.constraints.properties.is_holder.items.required,parentSchema:l.properties.constraints.properties.is_holder.items,data:he};null===S?S=[Ee]:S.push(Ee),I++}if(void 0===he.directive){const Ee={instancePath:Q+"/constraints/is_holder/"+le,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:l.properties.constraints.properties.is_holder.items.required,parentSchema:l.properties.constraints.properties.is_holder.items,data:he};null===S?S=[Ee]:S.push(Ee),I++}for(const Ee in he)if("field_id"!==Ee&&"directive"!==Ee){const pe={instancePath:Q+"/constraints/is_holder/"+le,schemaPath:"#/properties/constraints/properties/is_holder/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ee},message:"must NOT have additional properties",schema:!1,parentSchema:l.properties.constraints.properties.is_holder.items,data:he};null===S?S=[pe]:S.push(pe),I++}if(void 0!==he.field_id){let Ee=he.field_id;if(Array.isArray(Ee)){const pe=Ee.length;for(let De=0;De<pe;De++){let Xe=Ee[De];if("string"!=typeof Xe){const Pe={instancePath:Q+"/constraints/is_holder/"+le+"/field_id/"+De,schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.constraints.properties.is_holder.items.properties.field_id.items.type,parentSchema:l.properties.constraints.properties.is_holder.items.properties.field_id.items,data:Xe};null===S?S=[Pe]:S.push(Pe),I++}}}else{const pe={instancePath:Q+"/constraints/is_holder/"+le+"/field_id",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:l.properties.constraints.properties.is_holder.items.properties.field_id.type,parentSchema:l.properties.constraints.properties.is_holder.items.properties.field_id,data:Ee};null===S?S=[pe]:S.push(pe),I++}}if(void 0!==he.directive){let Ee=he.directive;if("string"!=typeof Ee){const pe={instancePath:Q+"/constraints/is_holder/"+le+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.constraints.properties.is_holder.items.properties.directive.type,parentSchema:l.properties.constraints.properties.is_holder.items.properties.directive,data:Ee};null===S?S=[pe]:S.push(pe),I++}if("required"!==Ee&&"preferred"!==Ee){const pe={instancePath:Q+"/constraints/is_holder/"+le+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/enum",keyword:"enum",params:{allowedValues:l.properties.constraints.properties.is_holder.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:l.properties.constraints.properties.is_holder.items.properties.directive.enum,parentSchema:l.properties.constraints.properties.is_holder.items.properties.directive,data:Ee};null===S?S=[pe]:S.push(pe),I++}}}else{const Ee={instancePath:Q+"/constraints/is_holder/"+le,schemaPath:"#/properties/constraints/properties/is_holder/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:l.properties.constraints.properties.is_holder.items.type,parentSchema:l.properties.constraints.properties.is_holder.items,data:he};null===S?S=[Ee]:S.push(Ee),I++}}}else{const q={instancePath:Q+"/constraints/is_holder",schemaPath:"#/properties/constraints/properties/is_holder/type",keyword:"type",params:{type:"array"},message:"must be array",schema:l.properties.constraints.properties.is_holder.type,parentSchema:l.properties.constraints.properties.is_holder,data:K};null===S?S=[q]:S.push(q),I++}}if(void 0!==G.same_subject){let K=G.same_subject;if(Array.isArray(K)){const q=K.length;for(let le=0;le<q;le++){let he=K[le];if(he&&"object"==typeof he&&!Array.isArray(he)){if(void 0===he.field_id){const Ee={instancePath:Q+"/constraints/same_subject/"+le,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:l.properties.constraints.properties.same_subject.items.required,parentSchema:l.properties.constraints.properties.same_subject.items,data:he};null===S?S=[Ee]:S.push(Ee),I++}if(void 0===he.directive){const Ee={instancePath:Q+"/constraints/same_subject/"+le,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:l.properties.constraints.properties.same_subject.items.required,parentSchema:l.properties.constraints.properties.same_subject.items,data:he};null===S?S=[Ee]:S.push(Ee),I++}for(const Ee in he)if("field_id"!==Ee&&"directive"!==Ee){const pe={instancePath:Q+"/constraints/same_subject/"+le,schemaPath:"#/properties/constraints/properties/same_subject/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ee},message:"must NOT have additional properties",schema:!1,parentSchema:l.properties.constraints.properties.same_subject.items,data:he};null===S?S=[pe]:S.push(pe),I++}if(void 0!==he.field_id){let Ee=he.field_id;if(Array.isArray(Ee)){const pe=Ee.length;for(let De=0;De<pe;De++){let Xe=Ee[De];if("string"!=typeof Xe){const Pe={instancePath:Q+"/constraints/same_subject/"+le+"/field_id/"+De,schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.constraints.properties.same_subject.items.properties.field_id.items.type,parentSchema:l.properties.constraints.properties.same_subject.items.properties.field_id.items,data:Xe};null===S?S=[Pe]:S.push(Pe),I++}}}else{const pe={instancePath:Q+"/constraints/same_subject/"+le+"/field_id",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:l.properties.constraints.properties.same_subject.items.properties.field_id.type,parentSchema:l.properties.constraints.properties.same_subject.items.properties.field_id,data:Ee};null===S?S=[pe]:S.push(pe),I++}}if(void 0!==he.directive){let Ee=he.directive;if("string"!=typeof Ee){const pe={instancePath:Q+"/constraints/same_subject/"+le+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.constraints.properties.same_subject.items.properties.directive.type,parentSchema:l.properties.constraints.properties.same_subject.items.properties.directive,data:Ee};null===S?S=[pe]:S.push(pe),I++}if("required"!==Ee&&"preferred"!==Ee){const pe={instancePath:Q+"/constraints/same_subject/"+le+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/enum",keyword:"enum",params:{allowedValues:l.properties.constraints.properties.same_subject.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:l.properties.constraints.properties.same_subject.items.properties.directive.enum,parentSchema:l.properties.constraints.properties.same_subject.items.properties.directive,data:Ee};null===S?S=[pe]:S.push(pe),I++}}}else{const Ee={instancePath:Q+"/constraints/same_subject/"+le,schemaPath:"#/properties/constraints/properties/same_subject/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:l.properties.constraints.properties.same_subject.items.type,parentSchema:l.properties.constraints.properties.same_subject.items,data:he};null===S?S=[Ee]:S.push(Ee),I++}}}else{const q={instancePath:Q+"/constraints/same_subject",schemaPath:"#/properties/constraints/properties/same_subject/type",keyword:"type",params:{type:"array"},message:"must be array",schema:l.properties.constraints.properties.same_subject.type,parentSchema:l.properties.constraints.properties.same_subject,data:K};null===S?S=[q]:S.push(q),I++}}}else{const K={instancePath:Q+"/constraints",schemaPath:"#/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object",schema:l.properties.constraints.type,parentSchema:l.properties.constraints,data:G};null===S?S=[K]:S.push(K),I++}}}else{const G={instancePath:Q,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:l.type,parentSchema:l,data:M};null===S?S=[G]:S.push(G),I++}return W.errors=S,0===I}function ce(M,{instancePath:Q="",rootData:je=M}={}){let S=null,I=0;if(M&&"object"==typeof M&&!Array.isArray(M)){if(void 0!==M.presentation_definition){let G=M.presentation_definition;if(G&&"object"==typeof G&&!Array.isArray(G)){if(void 0===G.id){const K={instancePath:Q+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:h.properties.presentation_definition.required,parentSchema:h.properties.presentation_definition,data:G};null===S?S=[K]:S.push(K),I++}if(void 0===G.input_descriptors){const K={instancePath:Q+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"input_descriptors"},message:"must have required property 'input_descriptors'",schema:h.properties.presentation_definition.required,parentSchema:h.properties.presentation_definition,data:G};null===S?S=[K]:S.push(K),I++}for(const K in G)if("id"!==K&&"name"!==K&&"purpose"!==K&&"format"!==K&&"frame"!==K&&"submission_requirements"!==K&&"input_descriptors"!==K){const q={instancePath:Q+"/presentation_definition",schemaPath:"#/properties/presentation_definition/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:K},message:"must NOT have additional properties",schema:!1,parentSchema:h.properties.presentation_definition,data:G};null===S?S=[q]:S.push(q),I++}if(void 0!==G.id){let K=G.id;if("string"!=typeof K){const q={instancePath:Q+"/presentation_definition/id",schemaPath:"#/properties/presentation_definition/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.presentation_definition.properties.id.type,parentSchema:h.properties.presentation_definition.properties.id,data:K};null===S?S=[q]:S.push(q),I++}}if(void 0!==G.name){let K=G.name;if("string"!=typeof K){const q={instancePath:Q+"/presentation_definition/name",schemaPath:"#/properties/presentation_definition/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.presentation_definition.properties.name.type,parentSchema:h.properties.presentation_definition.properties.name,data:K};null===S?S=[q]:S.push(q),I++}}if(void 0!==G.purpose){let K=G.purpose;if("string"!=typeof K){const q={instancePath:Q+"/presentation_definition/purpose",schemaPath:"#/properties/presentation_definition/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.presentation_definition.properties.purpose.type,parentSchema:h.properties.presentation_definition.properties.purpose,data:K};null===S?S=[q]:S.push(q),I++}}if(void 0!==G.format&&(u(G.format,{instancePath:Q+"/presentation_definition/format",parentData:G,parentDataProperty:"format",rootData:je})||(S=null===S?u.errors:S.concat(u.errors),I=S.length)),void 0!==G.frame){let K=G.frame;if(!K||"object"!=typeof K||Array.isArray(K)){const q={instancePath:Q+"/presentation_definition/frame",schemaPath:"#/properties/presentation_definition/properties/frame/type",keyword:"type",params:{type:"object"},message:"must be object",schema:h.properties.presentation_definition.properties.frame.type,parentSchema:h.properties.presentation_definition.properties.frame,data:K};null===S?S=[q]:S.push(q),I++}}if(void 0!==G.submission_requirements){let K=G.submission_requirements;if(Array.isArray(K)){const q=K.length;for(let le=0;le<q;le++)o(K[le],{instancePath:Q+"/presentation_definition/submission_requirements/"+le,parentData:K,parentDataProperty:le,rootData:je})||(S=null===S?o.errors:S.concat(o.errors),I=S.length)}else{const q={instancePath:Q+"/presentation_definition/submission_requirements",schemaPath:"#/properties/presentation_definition/properties/submission_requirements/type",keyword:"type",params:{type:"array"},message:"must be array",schema:h.properties.presentation_definition.properties.submission_requirements.type,parentSchema:h.properties.presentation_definition.properties.submission_requirements,data:K};null===S?S=[q]:S.push(q),I++}}if(void 0!==G.input_descriptors){let K=G.input_descriptors;if(Array.isArray(K)){const q=K.length;for(let le=0;le<q;le++)W(K[le],{instancePath:Q+"/presentation_definition/input_descriptors/"+le,parentData:K,parentDataProperty:le,rootData:je})||(S=null===S?W.errors:S.concat(W.errors),I=S.length)}else{const q={instancePath:Q+"/presentation_definition/input_descriptors",schemaPath:"#/properties/presentation_definition/properties/input_descriptors/type",keyword:"type",params:{type:"array"},message:"must be array",schema:h.properties.presentation_definition.properties.input_descriptors.type,parentSchema:h.properties.presentation_definition.properties.input_descriptors,data:K};null===S?S=[q]:S.push(q),I++}}}else{const K={instancePath:Q+"/presentation_definition",schemaPath:"#/properties/presentation_definition/type",keyword:"type",params:{type:"object"},message:"must be object",schema:h.properties.presentation_definition.type,parentSchema:h.properties.presentation_definition,data:G};null===S?S=[K]:S.push(K),I++}}}else{const G={instancePath:Q,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:h.type,parentSchema:h,data:M};null===S?S=[G]:S.push(G),I++}return ce.errors=S,0===I}},3993:(X,d)=>{"use strict";function s(ee,ie){return{validate:ee,compare:ie}}Object.defineProperty(d,"__esModule",{value:!0}),d.formatNames=d.fastFormats=d.fullFormats=void 0,d.fullFormats={date:s(m,g),time:s(u,i),"date-time":s(function o(ee){const ie=ee.split(p);return 2===ie.length&&m(ie[0])&&u(ie[1],!0)},l),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function b(ee){return w.test(ee)&&E.test(ee)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function z(ee){if(T.test(ee))return!1;try{return new RegExp(ee),!0}catch{return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function C(ee){return A.lastIndex=0,A.test(ee)},int32:{type:"number",validate:function O(ee){return Number.isInteger(ee)&&ee<=N&&ee>=_}},int64:{type:"number",validate:function j(ee){return Number.isInteger(ee)}},float:{type:"number",validate:F},double:{type:"number",validate:F},password:!0,binary:!0},d.fastFormats={...d.fullFormats,date:s(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,g),time:s(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,i),"date-time":s(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,l),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},d.formatNames=Object.keys(d.fullFormats);const a=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,v=[0,31,28,31,30,31,30,31,31,30,31,30,31];function m(ee){const ie=a.exec(ee);if(!ie)return!1;const H=+ie[2],R=+ie[3];return H>=1&&H<=12&&R>=1&&R<=(2===H&&function h(ee){return ee%4==0&&(ee%100!=0||ee%400==0)}(+ie[1])?29:v[H])}function g(ee,ie){if(ee&&ie)return ee>ie?1:ee<ie?-1:0}const c=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function u(ee,ie){const x=c.exec(ee);if(!x)return!1;const H=+x[1],R=+x[2],J=+x[3];return(H<=23&&R<=59&&J<=59||23===H&&59===R&&60===J)&&(!ie||""!==x[5])}function i(ee,ie){if(!ee||!ie)return;const x=c.exec(ee),H=c.exec(ie);return x&&H?(ee=x[1]+x[2]+x[3]+(x[4]||""))>(ie=H[1]+H[2]+H[3]+(H[4]||""))?1:ee<ie?-1:0:void 0}const p=/t|\s/i;function l(ee,ie){if(!ee||!ie)return;const[x,H]=ee.split(p),[R,J]=ie.split(p),W=g(x,R);return void 0!==W?W||i(H,J):void 0}const w=/\/|:/,E=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,A=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm,_=-(2**31),N=2**31-1;function F(){return!0}const T=/[^\\]\\Z/},21953:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(3993),a=s(10122),v=s(85432),m=new v.Name("fullFormats"),g=new v.Name("fastFormats"),c=(i,p={keywords:!0})=>{if(Array.isArray(p))return u(i,p,h.fullFormats,m),i;const[o,l]="fast"===p.mode?[h.fastFormats,g]:[h.fullFormats,m];return u(i,p.formats||h.formatNames,o,l),p.keywords&&a.default(i),i};function u(i,p,o,l){var w,E;null!==(w=(E=i.opts.code).formats)&&void 0!==w||(E.formats=v._`require("ajv-formats/dist/formats").${l}`);for(const b of p)i.addFormat(b,o[b])}c.get=(i,p="full")=>{const l=("fast"===p?h.fastFormats:h.fullFormats)[i];if(!l)throw new Error(`Unknown format "${i}"`);return l},X.exports=d=c,Object.defineProperty(d,"__esModule",{value:!0}),d.default=c},10122:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.formatLimitDefinition=void 0;const h=s(39208),a=s(85432),v=a.operators,m={formatMaximum:{okStr:"<=",ok:v.LTE,fail:v.GT},formatMinimum:{okStr:">=",ok:v.GTE,fail:v.LT},formatExclusiveMaximum:{okStr:"<",ok:v.LT,fail:v.GTE},formatExclusiveMinimum:{okStr:">",ok:v.GT,fail:v.LTE}},g={message:({keyword:u,schemaCode:i})=>a.str`should be ${m[u].okStr} ${i}`,params:({keyword:u,schemaCode:i})=>a._`{comparison: ${m[u].okStr}, limit: ${i}}`};d.formatLimitDefinition={keyword:Object.keys(m),type:"string",schemaType:"string",$data:!0,error:g,code(u){const{gen:i,data:p,schemaCode:o,keyword:l,it:w}=u,{opts:E,self:b}=w;if(!E.validateFormats)return;const A=new h.KeywordCxt(w,b.RULES.all.format.definition,"format");function N(O){return a._`${O}.compare(${p}, ${o}) ${m[l].fail} 0`}A.$data?function C(){const O=i.scopeValue("formats",{ref:b.formats,code:E.code.formats}),j=i.const("fmt",a._`${O}[${A.schemaCode}]`);u.fail$data(a.or(a._`typeof ${j} != "object"`,a._`${j} instanceof RegExp`,a._`typeof ${j}.compare != "function"`,N(j)))}():function _(){const O=A.schema,j=b.formats[O];if(!j||!0===j)return;if("object"!=typeof j||j instanceof RegExp||"function"!=typeof j.compare)throw new Error(`"${l}": format "${O}" does not define "compare" function`);const F=i.scopeValue("formats",{key:O,ref:j,code:E.code.formats?a._`${E.code.formats}${a.getProperty(O)}`:void 0});u.fail$data(N(F))}()},dependencies:["format"]},d.default=u=>(u.addKeyword(d.formatLimitDefinition),u)},11151:function(X,d,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(v,m,g,c){void 0===c&&(c=g);var u=Object.getOwnPropertyDescriptor(m,g);(!u||("get"in u?!m.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return m[g]}}),Object.defineProperty(v,c,u)}:function(v,m,g,c){void 0===c&&(c=g),v[c]=m[g]}),a=this&&this.__exportStar||function(v,m){for(var g in v)"default"!==g&&!Object.prototype.hasOwnProperty.call(m,g)&&h(m,v,g)};Object.defineProperty(d,"__esModule",{value:!0}),a(s(76533),d),a(s(59433),d),a(s(54065),d)},51236:function(X,d,s){"use strict";var h=this&&this.__rest||function(u,i){var p={};for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&i.indexOf(o)<0&&(p[o]=u[o]);if(null!=u&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(u);l<o.length;l++)i.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(u,o[l])&&(p[o[l]]=u[o[l]])}return p},a=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(d,"__esModule",{value:!0}),d.CredentialMapper=void 0;const v=a(s(38350)),m=s(76533),g=s(59433);class c{static decodeSdJwtVcAsync(i,p){return(0,m.decodeSdJwtVcAsync)(i,p)}static decodeVerifiablePresentation(i,p){var o;if(c.isJwtEncoded(i)){const l=(0,v.default)(i),w=(0,v.default)(i,{header:!0});return l.vp.proof={type:m.IProofType.JwtProof2020,created:l.nbf,proofPurpose:m.IProofPurpose.authentication,verificationMethod:null!==(o=w.kid)&&void 0!==o?o:l.iss,jwt:i},l}if(c.isJwtDecodedPresentation(i))return i;if(c.isSdJwtEncoded(i)){if(!p)throw new Error("Hasher implementation is required to decode SD-JWT");return(0,m.decodeSdJwtVc)(i,p)}return c.isSdJwtDecodedCredential(i)?i:c.isJsonLdAsString(i)?JSON.parse(i):i}static decodeVerifiableCredential(i,p){var o;if(c.isJwtEncoded(i)){const l=(0,v.default)(i),w=(0,v.default)(i,{header:!0});return l.vc.proof={type:m.IProofType.JwtProof2020,created:l.nbf,proofPurpose:m.IProofPurpose.authentication,verificationMethod:null!==(o=w.kid)&&void 0!==o?o:l.iss,jwt:i},l}if(c.isJwtDecodedCredential(i))return i;if(c.isJsonLdAsString(i))return JSON.parse(i);if(c.isSdJwtEncoded(i)){if(!p)throw new Error("Hasher implementation is required to decode SD-JWT");return(0,m.decodeSdJwtVc)(i,p)}return c.isSdJwtDecodedCredential(i),i}static toWrappedVerifiablePresentation(i,p){if(c.isSdJwtDecodedCredential(i)||c.isSdJwtEncoded(i)){let j;if(c.isSdJwtEncoded(i)){if(!p?.hasher)throw new Error("Hasher implementation is required to decode SD-JWT");j=(0,m.decodeSdJwtVc)(i,p.hasher)}else j=i;return{type:c.isSdJwtDecodedCredential(i)?m.OriginalType.SD_JWT_VC_DECODED:m.OriginalType.SD_JWT_VC_ENCODED,format:"vc+sd-jwt",original:i,presentation:j,decoded:j.decodedPayload,vcs:[c.toWrappedVerifiableCredential(i,p)]}}const o=c.getFirstProof(i),l="string"!=typeof i&&c.hasJWTProofType(i)?o?.jwt:i;if(!l)throw Error("Could not determine original presentation, probably it was a converted JWT presentation, that is now missing the JWT value in the proof");const w=c.decodeVerifiablePresentation(l),E=c.isJwtEncoded(l),b=c.isJwtDecodedPresentation(l),A=E?m.OriginalType.JWT_ENCODED:b?m.OriginalType.JWT_DECODED:m.OriginalType.JSONLD,C=b||E?"jwt_vp":"ldp_vp";let _;if(_=E||b?c.jwtDecodedPresentationToUniformPresentation(w,!1,p):w,!_||!("verifiableCredential"in _)||!_.verifiableCredential||0===_.verifiableCredential.length)throw Error("VP needs to have at least one verifiable credential at this point");const N=c.toWrappedVerifiableCredentials(_.verifiableCredential,p);return{type:A,format:C,original:l,decoded:w,presentation:Object.assign(Object.assign({},_),{verifiableCredential:N}),vcs:N}}static toWrappedVerifiableCredentials(i,p){return i.map(o=>c.toWrappedVerifiableCredential(o,p))}static toWrappedVerifiableCredential(i,p){var o;if(c.isSdJwtDecodedCredential(i)||c.isSdJwtEncoded(i)){let O;if(c.isSdJwtEncoded(i)){if(!p?.hasher)throw new Error("Hasher implementation is required to decode SD-JWT");O=(0,m.decodeSdJwtVc)(i,p.hasher)}else O=i;return{type:c.isSdJwtDecodedCredential(i)?m.OriginalType.SD_JWT_VC_DECODED:m.OriginalType.SD_JWT_VC_ENCODED,format:"vc+sd-jwt",original:i,credential:O,decoded:O.decodedPayload}}const l=c.getFirstProof(i),w=c.hasJWTProofType(i)&&l&&null!==(o=l.jwt)&&void 0!==o?o:i;if(!w)throw Error("Could not determine original credential, probably it was a converted JWT credential, that is now missing the JWT value in the proof");const E=c.decodeVerifiableCredential(w),b=c.isJwtEncoded(w),A=c.isJwtDecodedCredential(w);return{original:w,decoded:E,format:b||A?"jwt_vc":"ldp_vc",type:b?m.OriginalType.JWT_ENCODED:A?m.OriginalType.JWT_DECODED:m.OriginalType.JSONLD,credential:b||A?c.jwtDecodedCredentialToUniformCredential(E,p):E}}static isJwtEncoded(i){return g.ObjectUtils.isString(i)&&i.startsWith("ey")&&!i.includes("~")}static isSdJwtEncoded(i){return g.ObjectUtils.isString(i)&&i.startsWith("ey")&&i.includes("~")}static isW3cCredential(i){var p;return"@context"in i&&((null===(p=i.type)||void 0===p?void 0:p.includes("VerifiableCredential"))||!1)}static isCredential(i){try{if(c.isJwtEncoded(i)){const p=c.toUniformCredential(i);return c.isW3cCredential(p)}return!!c.isSdJwtEncoded(i)||c.isW3cCredential(i)||c.isSdJwtDecodedCredentialPayload(i)||c.isJwtDecodedCredential(i)||c.isSdJwtDecodedCredential(i)}catch{return!1}}static isPresentation(i){try{if(c.isJwtEncoded(i)){const p=c.toUniformPresentation(i);return c.isW3cPresentation(p)}return!c.isSdJwtEncoded(i)&&(c.isW3cPresentation(i)||c.isSdJwtDecodedCredentialPayload(i)||c.isJwtDecodedPresentation(i)||c.isSdJwtDecodedCredential(i))}catch{return!1}}static hasProof(i){try{return!!(c.isJwtEncoded(i)||c.isJwtDecodedCredential(i)||c.isSdJwtEncoded(i)||c.isSdJwtDecodedCredential(i)||"vc"in i&&i.vc.proof||"vp"in i&&i.vp.proof)||!!i.proof}catch{return!1}}static isW3cPresentation(i){var p;return"@context"in i&&((null===(p=i.type)||void 0===p?void 0:p.includes("VerifiablePresentation"))||!1)}static isSdJwtDecodedCredentialPayload(i){return"vct"in i}static areOriginalVerifiableCredentialsEqual(i,p){return"string"==typeof i||"string"==typeof p?i===p:c.isSdJwtDecodedCredential(i)||c.isSdJwtDecodedCredential(p)?i.compactSdJwtVc===p.compactSdJwtVc:JSON.stringify(p.proof)===JSON.stringify(i.proof)}static isJsonLdAsString(i){return g.ObjectUtils.isString(i)&&i.includes("@context")}static isSdJwtDecodedCredential(i){return void 0!==i.compactSdJwtVc}static isJwtDecodedCredential(i){return void 0!==i.vc&&void 0!==i.iss}static isJwtDecodedPresentation(i){return void 0!==i.vp&&void 0!==i.iss}static jwtEncodedPresentationToUniformPresentation(i,p=!0,o){return c.jwtDecodedPresentationToUniformPresentation((0,v.default)(i),p,o)}static jwtDecodedPresentationToUniformPresentation(i,p=!0,o){const{iss:l,aud:w,jti:E,vp:b}=i,A=h(i,["iss","aud","jti","vp"]),C=Object.assign(Object.assign({},A),b);if(p){if(!b.verifiableCredential)throw Error("Verifiable Presentation should have a verifiable credential at this point");C.verifiableCredential=b.verifiableCredential.map(_=>c.toUniformCredential(_,o))}if(l){const _=C.holder;if(_&&_!==l)throw new Error(`Inconsistent holders between JWT claim (${l}) and VC value (${_})`);C.holder=l}if(w){const _=C.verifier;if(_&&_!==w)throw new Error(`Inconsistent holders between JWT claim (${w}) and VC value (${_})`);C.verifier=w}if(E){const _=C.id;if(_&&_!==E)throw new Error(`Inconsistent VP ids between JWT claim (${E}) and VP value (${_})`);C.id=E}return C}static toUniformCredential(i,p){var o;if(c.isSdJwtDecodedCredential(i))throw new Error("Converting SD-JWT VC to uniform VC is not supported.");const l="string"!=typeof i&&c.hasJWTProofType(i)?null===(o=c.getFirstProof(i))||void 0===o?void 0:o.jwt:i;if(!l)throw Error("Could not determine original credential from passed in credential. Probably because a JWT proof type was present, but now is not available anymore");const w=c.decodeVerifiableCredential(l),E=c.isJwtEncoded(l);return c.isJwtDecodedCredential(l)||E?c.jwtDecodedCredentialToUniformCredential(w,p):w}static toUniformPresentation(i,p){var o;if(c.isSdJwtDecodedCredential(i))throw new Error("Converting SD-JWT VC to uniform VP is not supported.");const l=c.getFirstProof(i),w="string"!=typeof i&&c.hasJWTProofType(i)?l?.jwt:i;if(!w)throw Error("Could not determine original presentation, probably it was a converted JWT presentation, that is now missing the JWT value in the proof");const E=c.decodeVerifiablePresentation(w),b=c.isJwtEncoded(w),A=c.isJwtDecodedPresentation(w),C=b||A?c.jwtDecodedPresentationToUniformPresentation(E,!1):E;return p?.addContextIfMissing&&!C["@context"]&&(C["@context"]=["https://www.w3.org/2018/credentials/v1"]),C.verifiableCredential=null===(o=C.verifiableCredential)||void 0===o?void 0:o.map(_=>c.toUniformCredential(_,p)),C}static jwtEncodedCredentialToUniformCredential(i,p){return c.jwtDecodedCredentialToUniformCredential((0,v.default)(i),p)}static jwtDecodedCredentialToUniformCredential(i,p){var o;const{exp:l,nbf:w,iss:E,vc:b,sub:A,jti:C}=i,_=h(i,["exp","nbf","iss","vc","sub","jti"]),N=Object.assign(Object.assign({},_),b),O=null!==(o=p?.maxTimeSkewInMS)&&void 0!==o?o:1500;if(l){const j=N.expirationDate,F=parseInt(l.toString()),T=F<9999999999?new Date(1e3*F).toISOString().replace(/\.000Z/,"Z"):new Date(F).toISOString();if(j&&j!==T){const z=Math.abs(new Date(T).getTime()-new Date(j).getTime());if(!O||z>O)throw new Error(`Inconsistent expiration dates between JWT claim (${T}) and VC value (${j})`)}N.expirationDate=T}if(w){const j=N.issuanceDate,F=parseInt(w.toString()),T=F<9999999999?new Date(1e3*F).toISOString().replace(/\.000Z/,"Z"):new Date(F).toISOString();if(j&&j!==T){const z=Math.abs(new Date(T).getTime()-new Date(j).getTime());if(!O||z>O)throw new Error(`Inconsistent issuance dates between JWT claim (${T}) and VC value (${j})`)}N.issuanceDate=T}if(E){const j=N.issuer;if(j){if("string"==typeof j){if(j!==E)throw new Error(`Inconsistent issuers between JWT claim (${E}) and VC value (${j})`)}else if(!j.id&&Object.keys(j).length>0&&(j.id=E),j.id!==E)throw new Error(`Inconsistent issuers between JWT claim (${E}) and VC value (${j.id})`)}else N.issuer=E}if(A){const j=Array.isArray(N.credentialSubject)?N.credentialSubject:[N.credentialSubject];for(let F=0;F<j.length;F++){const T=j[F].id;if(T&&T!==A)throw new Error(`Inconsistent credential subject ids between JWT claim (${A}) and VC value (${T})`);Array.isArray(N.credentialSubject)?N.credentialSubject[F].id=A:N.credentialSubject.id=A}}if(C){const j=N.id;if(j&&j!==C)throw new Error(`Inconsistent credential ids between JWT claim (${C}) and VC value (${j})`);N.id=C}return N}static toExternalVerifiableCredential(i){let p;if(i.proof){if(!i.proof.type)throw new Error("Verifiable credential proof is missing a type");if(!i.proof.created)throw new Error("Verifiable credential proof is missing a created date");if(!i.proof.proofPurpose)throw new Error("Verifiable credential proof is missing a proof purpose");if(!i.proof.verificationMethod)throw new Error("Verifiable credential proof is missing a verification method");p=Object.assign(Object.assign({},i.proof),{type:i.proof.type,created:i.proof.created,proofPurpose:i.proof.proofPurpose,verificationMethod:i.proof.verificationMethod})}return Object.assign(Object.assign({},i),{type:i.type?"string"==typeof i.type?[i.type]:i.type:["VerifiableCredential"],proof:p})}static storedCredentialToOriginalFormat(i){const p=c.detectDocumentType(i);if("string"==typeof i){if(0===p)return c.toCompactJWT(i);if(1===p)return JSON.parse(i)}else{if(0===p&&"vc"in i)return c.toCompactJWT(i);if("proof"in i&&"JwtProof2020"===i.proof.type&&i.proof.jwt)return i.proof.jwt}return i}static storedPresentationToOriginalFormat(i){const p=c.detectDocumentType(i);if("string"==typeof i){if(0===p)return c.toCompactJWT(i);if(1===p)return JSON.parse(i)}else{if(0===p&&"vp"in i)return c.toCompactJWT(i);if("proof"in i&&"JwtProof2020"===i.proof.type&&i.proof.jwt)return i.proof.jwt}return i}static toCompactJWT(i){if(!i||0!==c.detectDocumentType(i))throw Error("Cannot convert non JWT credential to JWT");if("string"==typeof i)return i;let p;if(p="vp"in i?"jwt"in i.vp.proof?i.vp.proof.jwt:i.vp.proof:"vc"in i?"jwt"in i.vc.proof?i.vc.proof.jwt:i.vc.proof:Array.isArray(i.proof)?i.proof[0].jwt:i.proof.jwt,!p)throw Error("Could not get JWT from supplied document");return p}static detectDocumentType(i){if(this.isJsonLdAsString(i))return 1;if(this.isJwtEncoded(i))return 0;if(this.isSdJwtEncoded(i)||this.isSdJwtDecodedCredential(i))return 2;const p="vc"in i?i.vc.proof:"vp"in i?i.vp.proof:i.proof,o=Array.isArray(p)?p[0]:p;return o?.jwt?0:"EthereumEip712Signature2021"===o?.type?3:1}static hasJWTProofType(i){var p;return"string"!=typeof i&&!(null===(p=c.getFirstProof(i))||void 0===p||!p.jwt)}static getFirstProof(i){if(!i||"string"==typeof i)return;const p="vc"in i?i.vc.proof:"vp"in i?i.vp.proof:i.proof;return Array.isArray(p)?p[0]:p}}d.CredentialMapper=c,c.isWrappedSdJwtVerifiableCredential=m.isWrappedSdJwtVerifiableCredential,c.isWrappedSdJwtVerifiablePresentation=m.isWrappedSdJwtVerifiablePresentation,c.isWrappedW3CVerifiableCredential=m.isWrappedW3CVerifiableCredential,c.isWrappedW3CVerifiablePresentation=m.isWrappedW3CVerifiablePresentation},54065:function(X,d,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(v,m,g,c){void 0===c&&(c=g);var u=Object.getOwnPropertyDescriptor(m,g);(!u||("get"in u?!m.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return m[g]}}),Object.defineProperty(v,c,u)}:function(v,m,g,c){void 0===c&&(c=g),v[c]=m[g]}),a=this&&this.__exportStar||function(v,m){for(var g in v)"default"!==g&&!Object.prototype.hasOwnProperty.call(m,g)&&h(m,v,g)};Object.defineProperty(d,"__esModule",{value:!0}),a(s(51236),d),a(s(71561),d)},71561:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.mapLanguageValues=d.mapLanguageValue=d.toLanguageValueObjects=d.toLanguageValueObject=d.isLanguageValueObjects=d.isLanguageValueObject=void 0;const h=s(59433);d.isLanguageValueObject=i=>!(!i||!h.ObjectUtils.isObject(i)||Array.isArray(i)||2!==Object.keys(i).length||!("language"in i)||!i.language||!("value"in i)||!i.value),d.isLanguageValueObjects=i=>!(!i||!Array.isArray(i))&&i.every(p=>(0,d.isLanguageValueObject)(p)),d.toLanguageValueObject=i=>(0,d.isLanguageValueObject)(i)?i:void 0,d.toLanguageValueObjects=i=>(0,d.isLanguageValueObject)(i)?h.ObjectUtils.asArray((0,d.toLanguageValueObject)(i)):(0,d.isLanguageValueObjects)(i)?i:void 0,d.mapLanguageValue=(i,p)=>{const o=(0,d.toLanguageValueObjects)(i);if(Array.isArray(o)){if(0===o.length)return i;const l=o.filter(E=>!p?.language||E.language.toLowerCase().includes(p.language.toLowerCase()));let w;if(l.length>0)w=l[0];else{if(!1===p?.fallbackToFirstObject)return i;w=o[0]}return w.value}return i},d.mapLanguageValues=(i,p)=>{const o=p?.noDeepClone?i:JSON.parse(JSON.stringify(i));return Object.keys(i).forEach(l=>{o[l]=(0,d.mapLanguageValue)(o[l],p),(h.ObjectUtils.isObject(o[l])||Array.isArray(o[l]))&&(o[l]=(0,d.mapLanguageValues)(o[l],Object.assign(Object.assign({},p),{noDeepClone:!0})))}),o}},40528:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.parseDid=d.IProofType=d.IProofPurpose=void 0;var s=function(m){return m.verificationMethod="verificationMethod",m.assertionMethod="assertionMethod",m.authentication="authentication",m.keyAgreement="keyAgreement",m.contractAgreement="contactAgreement",m.capabilityInvocation="capabilityInvocation",m.capabilityDelegation="capabilityDelegation",m}(s||(d.IProofPurpose=s={})),h=function(m){return m.Ed25519Signature2018="Ed25519Signature2018",m.Ed25519Signature2020="Ed25519Signature2020",m.EcdsaSecp256k1Signature2019="EcdsaSecp256k1Signature2019",m.EcdsaSecp256k1RecoverySignature2020="EcdsaSecp256k1RecoverySignature2020",m.JsonWebSignature2020="JsonWebSignature2020",m.RsaSignature2018="RsaSignature2018",m.GpgSignature2020="GpgSignature2020",m.JcsEd25519Signature2020="JcsEd25519Signature2020",m.BbsBlsSignatureProof2020="BbsBlsSignatureProof2020",m.BbsBlsBoundSignatureProof2020="BbsBlsBoundSignatureProof2020",m.JwtProof2020="JwtProof2020",m}(h||(d.IProofType=h={}));d.parseDid=m=>{const g=v(m);if(null===g)throw new Error("invalid did");return g};const v=m=>{const c="(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))",p="[a-zA-Z0-9_.:%-]",A=new RegExp(`^did:([a-z0-9]+):((?:${c}*:)*(${c}+))((;${p}+=${p}*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$`);if(""===m||!m)return null;const C=m.match(A);if(C){const _={did:`did:${C[1]}:${C[2]}`,method:C[1],id:C[2],didUrl:m};if(C[4]){const N=C[4].slice(1).split(";");_.params={};for(const O of N){const j=O.split("=");_.params[j[0]]=j[1]}}return C[6]&&(_.path=C[6]),C[7]&&(_.query=C[7].slice(1)),C[8]&&(_.fragment=C[8].slice(1)),_}return null}},5940:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},76533:function(X,d,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(v,m,g,c){void 0===c&&(c=g);var u=Object.getOwnPropertyDescriptor(m,g);(!u||("get"in u?!m.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return m[g]}}),Object.defineProperty(v,c,u)}:function(v,m,g,c){void 0===c&&(c=g),v[c]=m[g]}),a=this&&this.__exportStar||function(v,m){for(var g in v)"default"!==g&&!Object.prototype.hasOwnProperty.call(m,g)&&h(m,v,g)};Object.defineProperty(d,"__esModule",{value:!0}),a(s(40528),d),a(s(30988),d),a(s(69922),d),a(s(5940),d),a(s(86548),d),a(s(66996),d)},30988:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})},86548:function(X,d,s){"use strict";var h=this&&this.__awaiter||function(u,i,p,o){return new(p||(p=Promise))(function(w,E){function b(_){try{C(o.next(_))}catch(N){E(N)}}function A(_){try{C(o.throw(_))}catch(N){E(N)}}function C(_){_.done?w(_.value):function l(w){return w instanceof p?w:new p(function(E){E(w)})}(_.value).then(b,A)}C((o=o.apply(u,i||[])).next())})};Object.defineProperty(d,"__esModule",{value:!0}),d.decodeSdJwtVcAsync=d.decodeSdJwtVc=d.isWrappedSdJwtVerifiablePresentation=d.isWrappedSdJwtVerifiableCredential=void 0;const a=s(15315);d.isWrappedSdJwtVerifiableCredential=function v(u){return"vc+sd-jwt"===u.format},d.isWrappedSdJwtVerifiablePresentation=function m(u){return"vc+sd-jwt"===u.format},d.decodeSdJwtVc=function g(u,i){const{jwt:p,disclosures:o}=(0,a.decodeSdJwtSync)(u,i),l=p.payload;return{compactSdJwtVc:u,decodedPayload:(0,a.getClaimsSync)(l,o,i),disclosures:o.map(E=>{const b=E.key?[E.salt,E.key,E.value]:[E.salt,E.value];if(!E._digest)throw new Error("Implementation error: digest not present in disclosure");return{decoded:b,digest:E._digest,encoded:E.encode()}}),signedPayload:l}},d.decodeSdJwtVcAsync=function c(u,i){return h(this,void 0,void 0,function*(){const{jwt:p,disclosures:o}=yield(0,a.decodeSdJwt)(u,i),l=p.payload,w=yield(0,a.getClaims)(l,o,i);return{compactSdJwtVc:u,decodedPayload:w,disclosures:o.map(E=>{const b=E.key?[E.salt,E.key,E.value]:[E.salt,E.value];if(!E._digest)throw new Error("Implementation error: digest not present in disclosure");return{decoded:b,digest:E._digest,encoded:E.encode()}}),signedPayload:l}})}},69922:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.DocumentFormat=d.OriginalType=void 0;var s=function(a){return a.JSONLD="json-ld",a.JWT_ENCODED="jwt-encoded",a.JWT_DECODED="jwt-decoded",a.SD_JWT_VC_ENCODED="sd-jwt-vc-encoded",a.SD_JWT_VC_DECODED="sd-jwt-vc-decoded",a}(s||(d.OriginalType=s={})),h=function(a){return a[a.JWT=0]="JWT",a[a.JSONLD=1]="JSONLD",a[a.SD_JWT_VC=2]="SD_JWT_VC",a[a.EIP712=3]="EIP712",a}(h||(d.DocumentFormat=h={}))},66996:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.isWrappedW3CVerifiablePresentation=d.isWrappedW3CVerifiableCredential=d.StatusListDriverType=d.StatusListCredentialIdMode=d.StatusListType=d.JWT_PROOF_TYPE_2020=void 0,d.JWT_PROOF_TYPE_2020="JwtProof2020";var s=function(g){return g.StatusList2021="StatusList2021",g}(s||(d.StatusListType=s={})),h=function(g){return g.ISSUANCE="ISSUANCE",g.PERSISTENCE="PERSISTENCE",g.NEVER="NEVER",g}(h||(d.StatusListCredentialIdMode=h={})),a=function(g){return g.AGENT_TYPEORM="agent_typeorm",g.AGENT_KV_STORE="agent_kv_store",g.GITHUB="github",g.AGENT_FILESYSTEM="agent_filesystem",g}(a||(d.StatusListDriverType=a={}));d.isWrappedW3CVerifiableCredential=function v(g){return"jwt_vc"===g.format||"ldp_vc"===g.format},d.isWrappedW3CVerifiablePresentation=function m(g){return"jwt_vp"===g.format||"ldp_vp"===g.format}},59433:function(X,d,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(v,m,g,c){void 0===c&&(c=g);var u=Object.getOwnPropertyDescriptor(m,g);(!u||("get"in u?!m.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return m[g]}}),Object.defineProperty(v,c,u)}:function(v,m,g,c){void 0===c&&(c=g),v[c]=m[g]}),a=this&&this.__exportStar||function(v,m){for(var g in v)"default"!==g&&!Object.prototype.hasOwnProperty.call(m,g)&&h(m,v,g)};Object.defineProperty(d,"__esModule",{value:!0}),a(s(24418),d)},24418:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.ObjectUtils=void 0;class s{static asArray(a){return Array.isArray(a)?a:[a]}static isObject(a){return"object"==typeof a||"[object Object]"===Object.prototype.toString.call(a)}static isUrlAbsolute(a){s.isString(a)&&/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/.test(a)}static isString(a){return"string"==typeof a||"[object String]"===Object.prototype.toString.call(a)}}d.ObjectUtils=s},95635:(X,d,s)=>{s(23963)},64311:(X,d,s)=>{s(23963)},86166:(X,d,s)=>{"use strict";const h=s(13981),a=s(22020),v="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;d.Buffer=u,d.SlowBuffer=function N(te){return+te!=te&&(te=0),u.alloc(+te)},d.INSPECT_MAX_BYTES=50;const m=2147483647;function c(te){if(te>m)throw new RangeError('The value "'+te+'" is invalid for option "size"');const U=new Uint8Array(te);return Object.setPrototypeOf(U,u.prototype),U}function u(te,U,P){if("number"==typeof te){if("string"==typeof U)throw new TypeError('The "string" argument must be of type string. Received type number');return l(te)}return i(te,U,P)}function i(te,U,P){if("string"==typeof te)return function w(te,U){if(("string"!=typeof U||""===U)&&(U="utf8"),!u.isEncoding(U))throw new TypeError("Unknown encoding: "+U);const P=0|O(te,U);let Y=c(P);const Se=Y.write(te,U);return Se!==P&&(Y=Y.slice(0,Se)),Y}(te,U);if(ArrayBuffer.isView(te))return function b(te){if(Ue(te,Uint8Array)){const U=new Uint8Array(te);return A(U.buffer,U.byteOffset,U.byteLength)}return E(te)}(te);if(null==te)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof te);if(Ue(te,ArrayBuffer)||te&&Ue(te.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ue(te,SharedArrayBuffer)||te&&Ue(te.buffer,SharedArrayBuffer)))return A(te,U,P);if("number"==typeof te)throw new TypeError('The "value" argument must not be of type number. Received type number');const Y=te.valueOf&&te.valueOf();if(null!=Y&&Y!==te)return u.from(Y,U,P);const Se=function C(te){if(u.isBuffer(te)){const U=0|_(te.length),P=c(U);return 0===P.length||te.copy(P,0,0,U),P}return void 0!==te.length?"number"!=typeof te.length||qe(te.length)?c(0):E(te):"Buffer"===te.type&&Array.isArray(te.data)?E(te.data):void 0}(te);if(Se)return Se;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof te[Symbol.toPrimitive])return u.from(te[Symbol.toPrimitive]("string"),U,P);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof te)}function p(te){if("number"!=typeof te)throw new TypeError('"size" argument must be of type number');if(te<0)throw new RangeError('The value "'+te+'" is invalid for option "size"')}function l(te){return p(te),c(te<0?0:0|_(te))}function E(te){const U=te.length<0?0:0|_(te.length),P=c(U);for(let Y=0;Y<U;Y+=1)P[Y]=255&te[Y];return P}function A(te,U,P){if(U<0||te.byteLength<U)throw new RangeError('"offset" is outside of buffer bounds');if(te.byteLength<U+(P||0))throw new RangeError('"length" is outside of buffer bounds');let Y;return Y=void 0===U&&void 0===P?new Uint8Array(te):void 0===P?new Uint8Array(te,U):new Uint8Array(te,U,P),Object.setPrototypeOf(Y,u.prototype),Y}function _(te){if(te>=m)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m.toString(16)+" bytes");return 0|te}function O(te,U){if(u.isBuffer(te))return te.length;if(ArrayBuffer.isView(te)||Ue(te,ArrayBuffer))return te.byteLength;if("string"!=typeof te)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof te);const P=te.length,Y=arguments.length>2&&!0===arguments[2];if(!Y&&0===P)return 0;let Se=!1;for(;;)switch(U){case"ascii":case"latin1":case"binary":return P;case"utf8":case"utf-8":return Ae(te).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*P;case"hex":return P>>>1;case"base64":return Ne(te).length;default:if(Se)return Y?-1:Ae(te).length;U=(""+U).toLowerCase(),Se=!0}}function j(te,U,P){let Y=!1;if((void 0===U||U<0)&&(U=0),U>this.length||((void 0===P||P>this.length)&&(P=this.length),P<=0)||(P>>>=0)<=(U>>>=0))return"";for(te||(te="utf8");;)switch(te){case"hex":return we(this,U,P);case"utf8":case"utf-8":return W(this,U,P);case"ascii":return Q(this,U,P);case"latin1":case"binary":return de(this,U,P);case"base64":return J(this,U,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return je(this,U,P);default:if(Y)throw new TypeError("Unknown encoding: "+te);te=(te+"").toLowerCase(),Y=!0}}function F(te,U,P){const Y=te[U];te[U]=te[P],te[P]=Y}function T(te,U,P,Y,Se){if(0===te.length)return-1;if("string"==typeof P?(Y=P,P=0):P>2147483647?P=2147483647:P<-2147483648&&(P=-2147483648),qe(P=+P)&&(P=Se?0:te.length-1),P<0&&(P=te.length+P),P>=te.length){if(Se)return-1;P=te.length-1}else if(P<0){if(!Se)return-1;P=0}if("string"==typeof U&&(U=u.from(U,Y)),u.isBuffer(U))return 0===U.length?-1:z(te,U,P,Y,Se);if("number"==typeof U)return U&=255,"function"==typeof Uint8Array.prototype.indexOf?Se?Uint8Array.prototype.indexOf.call(te,U,P):Uint8Array.prototype.lastIndexOf.call(te,U,P):z(te,[U],P,Y,Se);throw new TypeError("val must be string, number or Buffer")}function z(te,U,P,Y,Se){let ct,Ce=1,Ie=te.length,Oe=U.length;if(void 0!==Y&&("ucs2"===(Y=String(Y).toLowerCase())||"ucs-2"===Y||"utf16le"===Y||"utf-16le"===Y)){if(te.length<2||U.length<2)return-1;Ce=2,Ie/=2,Oe/=2,P/=2}function Be(lt,tt){return 1===Ce?lt[tt]:lt.readUInt16BE(tt*Ce)}if(Se){let lt=-1;for(ct=P;ct<Ie;ct++)if(Be(te,ct)===Be(U,-1===lt?0:ct-lt)){if(-1===lt&&(lt=ct),ct-lt+1===Oe)return lt*Ce}else-1!==lt&&(ct-=ct-lt),lt=-1}else for(P+Oe>Ie&&(P=Ie-Oe),ct=P;ct>=0;ct--){let lt=!0;for(let tt=0;tt<Oe;tt++)if(Be(te,ct+tt)!==Be(U,tt)){lt=!1;break}if(lt)return ct}return-1}function ee(te,U,P,Y){P=Number(P)||0;const Se=te.length-P;Y?(Y=Number(Y))>Se&&(Y=Se):Y=Se;const Ce=U.length;let Ie;for(Y>Ce/2&&(Y=Ce/2),Ie=0;Ie<Y;++Ie){const Oe=parseInt(U.substr(2*Ie,2),16);if(qe(Oe))return Ie;te[P+Ie]=Oe}return Ie}function ie(te,U,P,Y){return Le(Ae(U,te.length-P),te,P,Y)}function x(te,U,P,Y){return Le(function $e(te){const U=[];for(let P=0;P<te.length;++P)U.push(255&te.charCodeAt(P));return U}(U),te,P,Y)}function H(te,U,P,Y){return Le(Ne(U),te,P,Y)}function R(te,U,P,Y){return Le(function xe(te,U){let P,Y,Se;const Ce=[];for(let Ie=0;Ie<te.length&&!((U-=2)<0);++Ie)P=te.charCodeAt(Ie),Y=P>>8,Se=P%256,Ce.push(Se),Ce.push(Y);return Ce}(U,te.length-P),te,P,Y)}function J(te,U,P){return h.fromByteArray(0===U&&P===te.length?te:te.slice(U,P))}function W(te,U,P){P=Math.min(te.length,P);const Y=[];let Se=U;for(;Se<P;){const Ce=te[Se];let Ie=null,Oe=Ce>239?4:Ce>223?3:Ce>191?2:1;if(Se+Oe<=P){let Be,ct,lt,tt;switch(Oe){case 1:Ce<128&&(Ie=Ce);break;case 2:Be=te[Se+1],128==(192&Be)&&(tt=(31&Ce)<<6|63&Be,tt>127&&(Ie=tt));break;case 3:Be=te[Se+1],ct=te[Se+2],128==(192&Be)&&128==(192&ct)&&(tt=(15&Ce)<<12|(63&Be)<<6|63&ct,tt>2047&&(tt<55296||tt>57343)&&(Ie=tt));break;case 4:Be=te[Se+1],ct=te[Se+2],lt=te[Se+3],128==(192&Be)&&128==(192&ct)&&128==(192&lt)&&(tt=(15&Ce)<<18|(63&Be)<<12|(63&ct)<<6|63&lt,tt>65535&&tt<1114112&&(Ie=tt))}}null===Ie?(Ie=65533,Oe=1):Ie>65535&&(Ie-=65536,Y.push(Ie>>>10&1023|55296),Ie=56320|1023&Ie),Y.push(Ie),Se+=Oe}return function M(te){const U=te.length;if(U<=ce)return String.fromCharCode.apply(String,te);let P="",Y=0;for(;Y<U;)P+=String.fromCharCode.apply(String,te.slice(Y,Y+=ce));return P}(Y)}d.kMaxLength=m,!(u.TYPED_ARRAY_SUPPORT=function g(){try{const te=new Uint8Array(1),U={foo:function(){return 42}};return Object.setPrototypeOf(U,Uint8Array.prototype),Object.setPrototypeOf(te,U),42===te.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(te,U,P){return i(te,U,P)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(te,U,P){return function o(te,U,P){return p(te),te<=0?c(te):void 0!==U?"string"==typeof P?c(te).fill(U,P):c(te).fill(U):c(te)}(te,U,P)},u.allocUnsafe=function(te){return l(te)},u.allocUnsafeSlow=function(te){return l(te)},u.isBuffer=function(U){return null!=U&&!0===U._isBuffer&&U!==u.prototype},u.compare=function(U,P){if(Ue(U,Uint8Array)&&(U=u.from(U,U.offset,U.byteLength)),Ue(P,Uint8Array)&&(P=u.from(P,P.offset,P.byteLength)),!u.isBuffer(U)||!u.isBuffer(P))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(U===P)return 0;let Y=U.length,Se=P.length;for(let Ce=0,Ie=Math.min(Y,Se);Ce<Ie;++Ce)if(U[Ce]!==P[Ce]){Y=U[Ce],Se=P[Ce];break}return Y<Se?-1:Se<Y?1:0},u.isEncoding=function(U){switch(String(U).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(U,P){if(!Array.isArray(U))throw new TypeError('"list" argument must be an Array of Buffers');if(0===U.length)return u.alloc(0);let Y;if(void 0===P)for(P=0,Y=0;Y<U.length;++Y)P+=U[Y].length;const Se=u.allocUnsafe(P);let Ce=0;for(Y=0;Y<U.length;++Y){let Ie=U[Y];if(Ue(Ie,Uint8Array))Ce+Ie.length>Se.length?(u.isBuffer(Ie)||(Ie=u.from(Ie)),Ie.copy(Se,Ce)):Uint8Array.prototype.set.call(Se,Ie,Ce);else{if(!u.isBuffer(Ie))throw new TypeError('"list" argument must be an Array of Buffers');Ie.copy(Se,Ce)}Ce+=Ie.length}return Se},u.byteLength=O,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const U=this.length;if(U%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let P=0;P<U;P+=2)F(this,P,P+1);return this},u.prototype.swap32=function(){const U=this.length;if(U%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let P=0;P<U;P+=4)F(this,P,P+3),F(this,P+1,P+2);return this},u.prototype.swap64=function(){const U=this.length;if(U%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let P=0;P<U;P+=8)F(this,P,P+7),F(this,P+1,P+6),F(this,P+2,P+5),F(this,P+3,P+4);return this},u.prototype.toLocaleString=u.prototype.toString=function(){const U=this.length;return 0===U?"":0===arguments.length?W(this,0,U):j.apply(this,arguments)},u.prototype.equals=function(U){if(!u.isBuffer(U))throw new TypeError("Argument must be a Buffer");return this===U||0===u.compare(this,U)},u.prototype.inspect=function(){let U="";const P=d.INSPECT_MAX_BYTES;return U=this.toString("hex",0,P).replace(/(.{2})/g,"$1 ").trim(),this.length>P&&(U+=" ... "),"<Buffer "+U+">"},v&&(u.prototype[v]=u.prototype.inspect),u.prototype.compare=function(U,P,Y,Se,Ce){if(Ue(U,Uint8Array)&&(U=u.from(U,U.offset,U.byteLength)),!u.isBuffer(U))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof U);if(void 0===P&&(P=0),void 0===Y&&(Y=U?U.length:0),void 0===Se&&(Se=0),void 0===Ce&&(Ce=this.length),P<0||Y>U.length||Se<0||Ce>this.length)throw new RangeError("out of range index");if(Se>=Ce&&P>=Y)return 0;if(Se>=Ce)return-1;if(P>=Y)return 1;if(this===U)return 0;let Ie=(Ce>>>=0)-(Se>>>=0),Oe=(Y>>>=0)-(P>>>=0);const Be=Math.min(Ie,Oe),ct=this.slice(Se,Ce),lt=U.slice(P,Y);for(let tt=0;tt<Be;++tt)if(ct[tt]!==lt[tt]){Ie=ct[tt],Oe=lt[tt];break}return Ie<Oe?-1:Oe<Ie?1:0},u.prototype.includes=function(U,P,Y){return-1!==this.indexOf(U,P,Y)},u.prototype.indexOf=function(U,P,Y){return T(this,U,P,Y,!0)},u.prototype.lastIndexOf=function(U,P,Y){return T(this,U,P,Y,!1)},u.prototype.write=function(U,P,Y,Se){if(void 0===P)Se="utf8",Y=this.length,P=0;else if(void 0===Y&&"string"==typeof P)Se=P,Y=this.length,P=0;else{if(!isFinite(P))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");P>>>=0,isFinite(Y)?(Y>>>=0,void 0===Se&&(Se="utf8")):(Se=Y,Y=void 0)}const Ce=this.length-P;if((void 0===Y||Y>Ce)&&(Y=Ce),U.length>0&&(Y<0||P<0)||P>this.length)throw new RangeError("Attempt to write outside buffer bounds");Se||(Se="utf8");let Ie=!1;for(;;)switch(Se){case"hex":return ee(this,U,P,Y);case"utf8":case"utf-8":return ie(this,U,P,Y);case"ascii":case"latin1":case"binary":return x(this,U,P,Y);case"base64":return H(this,U,P,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,U,P,Y);default:if(Ie)throw new TypeError("Unknown encoding: "+Se);Se=(""+Se).toLowerCase(),Ie=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const ce=4096;function Q(te,U,P){let Y="";P=Math.min(te.length,P);for(let Se=U;Se<P;++Se)Y+=String.fromCharCode(127&te[Se]);return Y}function de(te,U,P){let Y="";P=Math.min(te.length,P);for(let Se=U;Se<P;++Se)Y+=String.fromCharCode(te[Se]);return Y}function we(te,U,P){const Y=te.length;(!U||U<0)&&(U=0),(!P||P<0||P>Y)&&(P=Y);let Se="";for(let Ce=U;Ce<P;++Ce)Se+=Je[te[Ce]];return Se}function je(te,U,P){const Y=te.slice(U,P);let Se="";for(let Ce=0;Ce<Y.length-1;Ce+=2)Se+=String.fromCharCode(Y[Ce]+256*Y[Ce+1]);return Se}function S(te,U,P){if(te%1!=0||te<0)throw new RangeError("offset is not uint");if(te+U>P)throw new RangeError("Trying to access beyond buffer length")}function I(te,U,P,Y,Se,Ce){if(!u.isBuffer(te))throw new TypeError('"buffer" argument must be a Buffer instance');if(U>Se||U<Ce)throw new RangeError('"value" argument is out of bounds');if(P+Y>te.length)throw new RangeError("Index out of range")}function G(te,U,P,Y,Se){Pe(U,Y,Se,te,P,7);let Ce=Number(U&BigInt(4294967295));te[P++]=Ce,Ce>>=8,te[P++]=Ce,Ce>>=8,te[P++]=Ce,Ce>>=8,te[P++]=Ce;let Ie=Number(U>>BigInt(32)&BigInt(4294967295));return te[P++]=Ie,Ie>>=8,te[P++]=Ie,Ie>>=8,te[P++]=Ie,Ie>>=8,te[P++]=Ie,P}function K(te,U,P,Y,Se){Pe(U,Y,Se,te,P,7);let Ce=Number(U&BigInt(4294967295));te[P+7]=Ce,Ce>>=8,te[P+6]=Ce,Ce>>=8,te[P+5]=Ce,Ce>>=8,te[P+4]=Ce;let Ie=Number(U>>BigInt(32)&BigInt(4294967295));return te[P+3]=Ie,Ie>>=8,te[P+2]=Ie,Ie>>=8,te[P+1]=Ie,Ie>>=8,te[P]=Ie,P+8}function q(te,U,P,Y,Se,Ce){if(P+Y>te.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("Index out of range")}function le(te,U,P,Y,Se){return U=+U,P>>>=0,Se||q(te,0,P,4),a.write(te,U,P,Y,23,4),P+4}function he(te,U,P,Y,Se){return U=+U,P>>>=0,Se||q(te,0,P,8),a.write(te,U,P,Y,52,8),P+8}u.prototype.slice=function(U,P){const Y=this.length;(U=~~U)<0?(U+=Y)<0&&(U=0):U>Y&&(U=Y),(P=void 0===P?Y:~~P)<0?(P+=Y)<0&&(P=0):P>Y&&(P=Y),P<U&&(P=U);const Se=this.subarray(U,P);return Object.setPrototypeOf(Se,u.prototype),Se},u.prototype.readUintLE=u.prototype.readUIntLE=function(U,P,Y){U>>>=0,P>>>=0,Y||S(U,P,this.length);let Se=this[U],Ce=1,Ie=0;for(;++Ie<P&&(Ce*=256);)Se+=this[U+Ie]*Ce;return Se},u.prototype.readUintBE=u.prototype.readUIntBE=function(U,P,Y){U>>>=0,P>>>=0,Y||S(U,P,this.length);let Se=this[U+--P],Ce=1;for(;P>0&&(Ce*=256);)Se+=this[U+--P]*Ce;return Se},u.prototype.readUint8=u.prototype.readUInt8=function(U,P){return U>>>=0,P||S(U,1,this.length),this[U]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(U,P){return U>>>=0,P||S(U,2,this.length),this[U]|this[U+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(U,P){return U>>>=0,P||S(U,2,this.length),this[U]<<8|this[U+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(U,P){return U>>>=0,P||S(U,4,this.length),(this[U]|this[U+1]<<8|this[U+2]<<16)+16777216*this[U+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(U,P){return U>>>=0,P||S(U,4,this.length),16777216*this[U]+(this[U+1]<<16|this[U+2]<<8|this[U+3])},u.prototype.readBigUInt64LE=We(function(U){Fe(U>>>=0,"offset");const P=this[U],Y=this[U+7];(void 0===P||void 0===Y)&&me(U,this.length-8);const Se=P+256*this[++U]+65536*this[++U]+this[++U]*2**24,Ce=this[++U]+256*this[++U]+65536*this[++U]+Y*2**24;return BigInt(Se)+(BigInt(Ce)<<BigInt(32))}),u.prototype.readBigUInt64BE=We(function(U){Fe(U>>>=0,"offset");const P=this[U],Y=this[U+7];(void 0===P||void 0===Y)&&me(U,this.length-8);const Se=P*2**24+65536*this[++U]+256*this[++U]+this[++U],Ce=this[++U]*2**24+65536*this[++U]+256*this[++U]+Y;return(BigInt(Se)<<BigInt(32))+BigInt(Ce)}),u.prototype.readIntLE=function(U,P,Y){U>>>=0,P>>>=0,Y||S(U,P,this.length);let Se=this[U],Ce=1,Ie=0;for(;++Ie<P&&(Ce*=256);)Se+=this[U+Ie]*Ce;return Ce*=128,Se>=Ce&&(Se-=Math.pow(2,8*P)),Se},u.prototype.readIntBE=function(U,P,Y){U>>>=0,P>>>=0,Y||S(U,P,this.length);let Se=P,Ce=1,Ie=this[U+--Se];for(;Se>0&&(Ce*=256);)Ie+=this[U+--Se]*Ce;return Ce*=128,Ie>=Ce&&(Ie-=Math.pow(2,8*P)),Ie},u.prototype.readInt8=function(U,P){return U>>>=0,P||S(U,1,this.length),128&this[U]?-1*(255-this[U]+1):this[U]},u.prototype.readInt16LE=function(U,P){U>>>=0,P||S(U,2,this.length);const Y=this[U]|this[U+1]<<8;return 32768&Y?4294901760|Y:Y},u.prototype.readInt16BE=function(U,P){U>>>=0,P||S(U,2,this.length);const Y=this[U+1]|this[U]<<8;return 32768&Y?4294901760|Y:Y},u.prototype.readInt32LE=function(U,P){return U>>>=0,P||S(U,4,this.length),this[U]|this[U+1]<<8|this[U+2]<<16|this[U+3]<<24},u.prototype.readInt32BE=function(U,P){return U>>>=0,P||S(U,4,this.length),this[U]<<24|this[U+1]<<16|this[U+2]<<8|this[U+3]},u.prototype.readBigInt64LE=We(function(U){Fe(U>>>=0,"offset");const P=this[U],Y=this[U+7];return(void 0===P||void 0===Y)&&me(U,this.length-8),(BigInt(this[U+4]+256*this[U+5]+65536*this[U+6]+(Y<<24))<<BigInt(32))+BigInt(P+256*this[++U]+65536*this[++U]+this[++U]*2**24)}),u.prototype.readBigInt64BE=We(function(U){Fe(U>>>=0,"offset");const P=this[U],Y=this[U+7];(void 0===P||void 0===Y)&&me(U,this.length-8);const Se=(P<<24)+65536*this[++U]+256*this[++U]+this[++U];return(BigInt(Se)<<BigInt(32))+BigInt(this[++U]*2**24+65536*this[++U]+256*this[++U]+Y)}),u.prototype.readFloatLE=function(U,P){return U>>>=0,P||S(U,4,this.length),a.read(this,U,!0,23,4)},u.prototype.readFloatBE=function(U,P){return U>>>=0,P||S(U,4,this.length),a.read(this,U,!1,23,4)},u.prototype.readDoubleLE=function(U,P){return U>>>=0,P||S(U,8,this.length),a.read(this,U,!0,52,8)},u.prototype.readDoubleBE=function(U,P){return U>>>=0,P||S(U,8,this.length),a.read(this,U,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(U,P,Y,Se){U=+U,P>>>=0,Y>>>=0,Se||I(this,U,P,Y,Math.pow(2,8*Y)-1,0);let Ce=1,Ie=0;for(this[P]=255&U;++Ie<Y&&(Ce*=256);)this[P+Ie]=U/Ce&255;return P+Y},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(U,P,Y,Se){U=+U,P>>>=0,Y>>>=0,Se||I(this,U,P,Y,Math.pow(2,8*Y)-1,0);let Ce=Y-1,Ie=1;for(this[P+Ce]=255&U;--Ce>=0&&(Ie*=256);)this[P+Ce]=U/Ie&255;return P+Y},u.prototype.writeUint8=u.prototype.writeUInt8=function(U,P,Y){return U=+U,P>>>=0,Y||I(this,U,P,1,255,0),this[P]=255&U,P+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(U,P,Y){return U=+U,P>>>=0,Y||I(this,U,P,2,65535,0),this[P]=255&U,this[P+1]=U>>>8,P+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(U,P,Y){return U=+U,P>>>=0,Y||I(this,U,P,2,65535,0),this[P]=U>>>8,this[P+1]=255&U,P+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(U,P,Y){return U=+U,P>>>=0,Y||I(this,U,P,4,4294967295,0),this[P+3]=U>>>24,this[P+2]=U>>>16,this[P+1]=U>>>8,this[P]=255&U,P+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(U,P,Y){return U=+U,P>>>=0,Y||I(this,U,P,4,4294967295,0),this[P]=U>>>24,this[P+1]=U>>>16,this[P+2]=U>>>8,this[P+3]=255&U,P+4},u.prototype.writeBigUInt64LE=We(function(U,P=0){return G(this,U,P,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=We(function(U,P=0){return K(this,U,P,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(U,P,Y,Se){if(U=+U,P>>>=0,!Se){const Be=Math.pow(2,8*Y-1);I(this,U,P,Y,Be-1,-Be)}let Ce=0,Ie=1,Oe=0;for(this[P]=255&U;++Ce<Y&&(Ie*=256);)U<0&&0===Oe&&0!==this[P+Ce-1]&&(Oe=1),this[P+Ce]=(U/Ie|0)-Oe&255;return P+Y},u.prototype.writeIntBE=function(U,P,Y,Se){if(U=+U,P>>>=0,!Se){const Be=Math.pow(2,8*Y-1);I(this,U,P,Y,Be-1,-Be)}let Ce=Y-1,Ie=1,Oe=0;for(this[P+Ce]=255&U;--Ce>=0&&(Ie*=256);)U<0&&0===Oe&&0!==this[P+Ce+1]&&(Oe=1),this[P+Ce]=(U/Ie|0)-Oe&255;return P+Y},u.prototype.writeInt8=function(U,P,Y){return U=+U,P>>>=0,Y||I(this,U,P,1,127,-128),U<0&&(U=255+U+1),this[P]=255&U,P+1},u.prototype.writeInt16LE=function(U,P,Y){return U=+U,P>>>=0,Y||I(this,U,P,2,32767,-32768),this[P]=255&U,this[P+1]=U>>>8,P+2},u.prototype.writeInt16BE=function(U,P,Y){return U=+U,P>>>=0,Y||I(this,U,P,2,32767,-32768),this[P]=U>>>8,this[P+1]=255&U,P+2},u.prototype.writeInt32LE=function(U,P,Y){return U=+U,P>>>=0,Y||I(this,U,P,4,2147483647,-2147483648),this[P]=255&U,this[P+1]=U>>>8,this[P+2]=U>>>16,this[P+3]=U>>>24,P+4},u.prototype.writeInt32BE=function(U,P,Y){return U=+U,P>>>=0,Y||I(this,U,P,4,2147483647,-2147483648),U<0&&(U=4294967295+U+1),this[P]=U>>>24,this[P+1]=U>>>16,this[P+2]=U>>>8,this[P+3]=255&U,P+4},u.prototype.writeBigInt64LE=We(function(U,P=0){return G(this,U,P,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=We(function(U,P=0){return K(this,U,P,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeFloatLE=function(U,P,Y){return le(this,U,P,!0,Y)},u.prototype.writeFloatBE=function(U,P,Y){return le(this,U,P,!1,Y)},u.prototype.writeDoubleLE=function(U,P,Y){return he(this,U,P,!0,Y)},u.prototype.writeDoubleBE=function(U,P,Y){return he(this,U,P,!1,Y)},u.prototype.copy=function(U,P,Y,Se){if(!u.isBuffer(U))throw new TypeError("argument should be a Buffer");if(Y||(Y=0),!Se&&0!==Se&&(Se=this.length),P>=U.length&&(P=U.length),P||(P=0),Se>0&&Se<Y&&(Se=Y),Se===Y||0===U.length||0===this.length)return 0;if(P<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(Se<0)throw new RangeError("sourceEnd out of bounds");Se>this.length&&(Se=this.length),U.length-P<Se-Y&&(Se=U.length-P+Y);const Ce=Se-Y;return this===U&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(P,Y,Se):Uint8Array.prototype.set.call(U,this.subarray(Y,Se),P),Ce},u.prototype.fill=function(U,P,Y,Se){if("string"==typeof U){if("string"==typeof P?(Se=P,P=0,Y=this.length):"string"==typeof Y&&(Se=Y,Y=this.length),void 0!==Se&&"string"!=typeof Se)throw new TypeError("encoding must be a string");if("string"==typeof Se&&!u.isEncoding(Se))throw new TypeError("Unknown encoding: "+Se);if(1===U.length){const Ie=U.charCodeAt(0);("utf8"===Se&&Ie<128||"latin1"===Se)&&(U=Ie)}}else"number"==typeof U?U&=255:"boolean"==typeof U&&(U=Number(U));if(P<0||this.length<P||this.length<Y)throw new RangeError("Out of range index");if(Y<=P)return this;let Ce;if(P>>>=0,Y=void 0===Y?this.length:Y>>>0,U||(U=0),"number"==typeof U)for(Ce=P;Ce<Y;++Ce)this[Ce]=U;else{const Ie=u.isBuffer(U)?U:u.from(U,Se),Oe=Ie.length;if(0===Oe)throw new TypeError('The value "'+U+'" is invalid for argument "value"');for(Ce=0;Ce<Y-P;++Ce)this[Ce+P]=Ie[Ce%Oe]}return this};const Ee={};function pe(te,U,P){Ee[te]=class extends P{constructor(){super(),Object.defineProperty(this,"message",{value:U.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${te}]`,delete this.name}get code(){return te}set code(Se){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Se,writable:!0})}toString(){return`${this.name} [${te}]: ${this.message}`}}}function De(te){let U="",P=te.length;const Y="-"===te[0]?1:0;for(;P>=Y+4;P-=3)U=`_${te.slice(P-3,P)}${U}`;return`${te.slice(0,P)}${U}`}function Pe(te,U,P,Y,Se,Ce){if(te>P||te<U){const Ie="bigint"==typeof U?"n":"";let Oe;throw Oe=Ce>3?0===U||U===BigInt(0)?`>= 0${Ie} and < 2${Ie} ** ${8*(Ce+1)}${Ie}`:`>= -(2${Ie} ** ${8*(Ce+1)-1}${Ie}) and < 2 ** ${8*(Ce+1)-1}${Ie}`:`>= ${U}${Ie} and <= ${P}${Ie}`,new Ee.ERR_OUT_OF_RANGE("value",Oe,te)}!function Xe(te,U,P){Fe(U,"offset"),(void 0===te[U]||void 0===te[U+P])&&me(U,te.length-(P+1))}(Y,Se,Ce)}function Fe(te,U){if("number"!=typeof te)throw new Ee.ERR_INVALID_ARG_TYPE(U,"number",te)}function me(te,U,P){throw Math.floor(te)!==te?(Fe(te,P),new Ee.ERR_OUT_OF_RANGE(P||"offset","an integer",te)):U<0?new Ee.ERR_BUFFER_OUT_OF_BOUNDS:new Ee.ERR_OUT_OF_RANGE(P||"offset",`>= ${P?1:0} and <= ${U}`,te)}pe("ERR_BUFFER_OUT_OF_BOUNDS",function(te){return te?`${te} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),pe("ERR_INVALID_ARG_TYPE",function(te,U){return`The "${te}" argument must be of type number. Received type ${typeof U}`},TypeError),pe("ERR_OUT_OF_RANGE",function(te,U,P){let Y=`The value of "${te}" is out of range.`,Se=P;return Number.isInteger(P)&&Math.abs(P)>2**32?Se=De(String(P)):"bigint"==typeof P&&(Se=String(P),(P>BigInt(2)**BigInt(32)||P<-(BigInt(2)**BigInt(32)))&&(Se=De(Se)),Se+="n"),Y+=` It must be ${U}. Received ${Se}`,Y},RangeError);const ve=/[^+/0-9A-Za-z-_]/g;function Ae(te,U){let P;U=U||1/0;const Y=te.length;let Se=null;const Ce=[];for(let Ie=0;Ie<Y;++Ie){if(P=te.charCodeAt(Ie),P>55295&&P<57344){if(!Se){if(P>56319){(U-=3)>-1&&Ce.push(239,191,189);continue}if(Ie+1===Y){(U-=3)>-1&&Ce.push(239,191,189);continue}Se=P;continue}if(P<56320){(U-=3)>-1&&Ce.push(239,191,189),Se=P;continue}P=65536+(Se-55296<<10|P-56320)}else Se&&(U-=3)>-1&&Ce.push(239,191,189);if(Se=null,P<128){if((U-=1)<0)break;Ce.push(P)}else if(P<2048){if((U-=2)<0)break;Ce.push(P>>6|192,63&P|128)}else if(P<65536){if((U-=3)<0)break;Ce.push(P>>12|224,P>>6&63|128,63&P|128)}else{if(!(P<1114112))throw new Error("Invalid code point");if((U-=4)<0)break;Ce.push(P>>18|240,P>>12&63|128,P>>6&63|128,63&P|128)}}return Ce}function Ne(te){return h.toByteArray(function ge(te){if((te=(te=te.split("=")[0]).trim().replace(ve,"")).length<2)return"";for(;te.length%4!=0;)te+="=";return te}(te))}function Le(te,U,P,Y){let Se;for(Se=0;Se<Y&&!(Se+P>=U.length||Se>=te.length);++Se)U[Se+P]=te[Se];return Se}function Ue(te,U){return te instanceof U||null!=te&&null!=te.constructor&&null!=te.constructor.name&&te.constructor.name===U.name}function qe(te){return te!=te}const Je=function(){const te="0123456789abcdef",U=new Array(256);for(let P=0;P<16;++P){const Y=16*P;for(let Se=0;Se<16;++Se)U[Y+Se]=te[P]+te[Se]}return U}();function We(te){return typeof BigInt>"u"?at:te}function at(){throw new Error("BigInt not supported")}},51818:(X,d,s)=>{s(23963)},9236:X=>{var d=1e3,s=60*d,h=60*s,a=24*h,v=7*a;function i(p,o,l,w){var E=o>=1.5*l;return Math.round(p/l)+" "+w+(E?"s":"")}X.exports=function(p,o){o=o||{};var l=typeof p;if("string"===l&&p.length>0)return function g(p){if(!((p=String(p)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(o){var l=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*l;case"weeks":case"week":case"w":return l*v;case"days":case"day":case"d":return l*a;case"hours":case"hour":case"hrs":case"hr":case"h":return l*h;case"minutes":case"minute":case"mins":case"min":case"m":return l*s;case"seconds":case"second":case"secs":case"sec":case"s":return l*d;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}}}(p);if("number"===l&&isFinite(p))return o.long?function u(p){var o=Math.abs(p);return o>=a?i(p,o,a,"day"):o>=h?i(p,o,h,"hour"):o>=s?i(p,o,s,"minute"):o>=d?i(p,o,d,"second"):p+" ms"}(p):function c(p){var o=Math.abs(p);return o>=a?Math.round(p/a)+"d":o>=h?Math.round(p/h)+"h":o>=s?Math.round(p/s)+"m":o>=d?Math.round(p/d)+"s":p+"ms"}(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))}},28664:(X,d,s)=>{"use strict";const{AbortError:h,codes:a}=s(43600),{isNodeStream:v,isWebStream:m,kControllerErrorFunction:g}=s(48886),c=s(37595),{ERR_INVALID_ARG_TYPE:u}=a;X.exports.addAbortSignal=function(o,l){if(((p,o)=>{if("object"!=typeof p||!("aborted"in p))throw new u("signal","AbortSignal",p)})(o),!v(l)&&!m(l))throw new u("stream",["ReadableStream","WritableStream","Stream"],l);return X.exports.addAbortSignalNoValidate(o,l)},X.exports.addAbortSignalNoValidate=function(p,o){if("object"!=typeof p||!("aborted"in p))return o;const l=v(o)?()=>{o.destroy(new h(void 0,{cause:p.reason}))}:()=>{o[g](new h(void 0,{cause:p.reason}))};return p.aborted?l():(p.addEventListener("abort",l),c(o,()=>p.removeEventListener("abort",l))),o}},76447:(X,d,s)=>{"use strict";const{StringPrototypeSlice:h,SymbolIterator:a,TypedArrayPrototypeSet:v,Uint8Array:m}=s(85035),{Buffer:g}=s(86166),{inspect:c}=s(31895);X.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(i){const p={data:i,next:null};this.length>0?this.tail.next=p:this.head=p,this.tail=p,++this.length}unshift(i){const p={data:i,next:this.head};0===this.length&&(this.tail=p),this.head=p,++this.length}shift(){if(0===this.length)return;const i=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,i}clear(){this.head=this.tail=null,this.length=0}join(i){if(0===this.length)return"";let p=this.head,o=""+p.data;for(;null!==(p=p.next);)o+=i+p.data;return o}concat(i){if(0===this.length)return g.alloc(0);const p=g.allocUnsafe(i>>>0);let o=this.head,l=0;for(;o;)v(p,o.data,l),l+=o.data.length,o=o.next;return p}consume(i,p){const o=this.head.data;if(i<o.length){const l=o.slice(0,i);return this.head.data=o.slice(i),l}return i===o.length?this.shift():p?this._getString(i):this._getBuffer(i)}first(){return this.head.data}*[a](){for(let i=this.head;i;i=i.next)yield i.data}_getString(i){let p="",o=this.head,l=0;do{const w=o.data;if(!(i>w.length)){i===w.length?(p+=w,++l,this.head=o.next?o.next:this.tail=null):(p+=h(w,0,i),this.head=o,o.data=h(w,i));break}p+=w,i-=w.length,++l}while(null!==(o=o.next));return this.length-=l,p}_getBuffer(i){const p=g.allocUnsafe(i),o=i;let l=this.head,w=0;do{const E=l.data;if(!(i>E.length)){i===E.length?(v(p,E,o-i),++w,this.head=l.next?l.next:this.tail=null):(v(p,new m(E.buffer,E.byteOffset,i),o-i),this.head=l,l.data=E.slice(i));break}v(p,E,o-i),i-=E.length,++w}while(null!==(l=l.next));return this.length-=w,p}[Symbol.for("nodejs.util.inspect.custom")](i,p){return c(this,{...p,depth:0,customInspect:!1})}}},83763:(X,d,s)=>{"use strict";var h=s(29293).default;const{pipeline:a}=s(62305),v=s(91669),{destroyer:m}=s(13725),{isNodeStream:g,isReadable:c,isWritable:u,isWebStream:i,isTransformStream:p,isWritableStream:o,isReadableStream:l}=s(48886),{AbortError:w,codes:{ERR_INVALID_ARG_VALUE:E,ERR_MISSING_ARGS:b}}=s(43600),A=s(37595);X.exports=function(..._){if(0===_.length)throw new b("streams");if(1===_.length)return v.from(_[0]);const N=[..._];if("function"==typeof _[0]&&(_[0]=v.from(_[0])),"function"==typeof _[_.length-1]){const J=_.length-1;_[J]=v.from(_[J])}for(let J=0;J<_.length;++J)if(g(_[J])||i(_[J])){if(J<_.length-1&&!(c(_[J])||l(_[J])||p(_[J])))throw new E(`streams[${J}]`,N[J],"must be readable");if(J>0&&!(u(_[J])||o(_[J])||p(_[J])))throw new E(`streams[${J}]`,N[J],"must be writable")}let O,j,F,T,z;const ie=_[0],x=a(_,function ee(J){const W=T;T=null,W?W(J):J?z.destroy(J):!R&&!H&&z.destroy()}),H=!!(u(ie)||o(ie)||p(ie)),R=!!(c(x)||l(x)||p(x));if(z=new v({writableObjectMode:!(null==ie||!ie.writableObjectMode),readableObjectMode:!(null==x||!x.writableObjectMode),writable:H,readable:R}),H){if(g(ie))z._write=function(W,ce,M){ie.write(W,ce)?M():O=M},z._final=function(W){ie.end(),j=W},ie.on("drain",function(){if(O){const W=O;O=null,W()}});else if(i(ie)){const ce=(p(ie)?ie.writable:ie).getWriter();z._write=function(){var M=h(function*(Q,de,we){try{yield ce.ready,ce.write(Q).catch(()=>{}),we()}catch(je){we(je)}});return function(Q,de,we){return M.apply(this,arguments)}}(),z._final=function(){var M=h(function*(Q){try{yield ce.ready,ce.close().catch(()=>{}),j=Q}catch(de){Q(de)}});return function(Q){return M.apply(this,arguments)}}()}const J=p(x)?x.readable:x;A(J,()=>{if(j){const W=j;j=null,W()}})}if(R)if(g(x))x.on("readable",function(){if(F){const J=F;F=null,J()}}),x.on("end",function(){z.push(null)}),z._read=function(){for(;;){const J=x.read();if(null===J)return void(F=z._read);if(!z.push(J))return}};else if(i(x)){const W=(p(x)?x.readable:x).getReader();z._read=h(function*(){for(;;)try{const{value:ce,done:M}=yield W.read();if(!z.push(ce))return;if(M)return void z.push(null)}catch{return}})}return z._destroy=function(J,W){!J&&null!==T&&(J=new w),F=null,O=null,j=null,null===T?W(J):(T=W,g(x)&&m(x,J))},z}},13725:(X,d,s)=>{"use strict";const h=s(40573),{aggregateTwoErrors:a,codes:{ERR_MULTIPLE_CALLBACK:v},AbortError:m}=s(43600),{Symbol:g}=s(85035),{kDestroyed:c,isDestroyed:u,isFinished:i,isServerRequest:p}=s(48886),o=g("kDestroy"),l=g("kConstruct");function w(H,R,J){H&&(R&&!R.errored&&(R.errored=H),J&&!J.errored&&(J.errored=H))}function b(H,R,J){let W=!1;function ce(M){if(W)return;W=!0;const Q=H._readableState,de=H._writableState;w(M,de,Q),de&&(de.closed=!0),Q&&(Q.closed=!0),"function"==typeof J&&J(M),M?h.nextTick(A,H,M):h.nextTick(C,H)}try{H._destroy(R||null,ce)}catch(M){ce(M)}}function A(H,R){_(H,R),C(H)}function C(H){const R=H._readableState,J=H._writableState;J&&(J.closeEmitted=!0),R&&(R.closeEmitted=!0),(null!=J&&J.emitClose||null!=R&&R.emitClose)&&H.emit("close")}function _(H,R){const J=H._readableState,W=H._writableState;null!=W&&W.errorEmitted||null!=J&&J.errorEmitted||(W&&(W.errorEmitted=!0),J&&(J.errorEmitted=!0),H.emit("error",R))}function O(H,R,J){const W=H._readableState,ce=H._writableState;if(null!=ce&&ce.destroyed||null!=W&&W.destroyed)return this;null!=W&&W.autoDestroy||null!=ce&&ce.autoDestroy?H.destroy(R):R&&(ce&&!ce.errored&&(ce.errored=R),W&&!W.errored&&(W.errored=R),J?h.nextTick(_,H,R):_(H,R))}function F(H){let R=!1;function J(W){if(R)return void O(H,W??new v);R=!0;const ce=H._readableState,M=H._writableState,Q=M||ce;ce&&(ce.constructed=!0),M&&(M.constructed=!0),Q.destroyed?H.emit(o,W):W?O(H,W,!0):h.nextTick(T,H)}try{H._construct(W=>{h.nextTick(J,W)})}catch(W){h.nextTick(J,W)}}function T(H){H.emit(l)}function z(H){return H?.setHeader&&"function"==typeof H.abort}function ee(H){H.emit("close")}function ie(H,R){H.emit("error",R),h.nextTick(ee,H)}X.exports={construct:function j(H,R){if("function"!=typeof H._construct)return;const J=H._readableState,W=H._writableState;J&&(J.constructed=!1),W&&(W.constructed=!1),H.once(l,R),!(H.listenerCount(l)>1)&&h.nextTick(F,H)},destroyer:function x(H,R){!H||u(H)||(!R&&!i(H)&&(R=new m),p(H)?(H.socket=null,H.destroy(R)):z(H)?H.abort():z(H.req)?H.req.abort():"function"==typeof H.destroy?H.destroy(R):"function"==typeof H.close?H.close():R?h.nextTick(ie,H,R):h.nextTick(ee,H),H.destroyed||(H[c]=!0))},destroy:function E(H,R){const J=this._readableState,W=this._writableState,ce=W||J;return null!=W&&W.destroyed||null!=J&&J.destroyed?("function"==typeof R&&R(),this):(w(H,W,J),W&&(W.destroyed=!0),J&&(J.destroyed=!0),ce.constructed?b(this,H,R):this.once(o,function(M){b(this,a(M,H),R)}),this)},undestroy:function N(){const H=this._readableState,R=this._writableState;H&&(H.constructed=!0,H.closed=!1,H.closeEmitted=!1,H.destroyed=!1,H.errored=null,H.errorEmitted=!1,H.reading=!1,H.ended=!1===H.readable,H.endEmitted=!1===H.readable),R&&(R.constructed=!0,R.destroyed=!1,R.closed=!1,R.closeEmitted=!1,R.errored=null,R.errorEmitted=!1,R.finalCalled=!1,R.prefinished=!1,R.ended=!1===R.writable,R.ending=!1===R.writable,R.finished=!1===R.writable)},errorOrDestroy:O}},91669:(X,d,s)=>{"use strict";const{ObjectDefineProperties:h,ObjectGetOwnPropertyDescriptor:a,ObjectKeys:v,ObjectSetPrototypeOf:m}=s(85035);X.exports=u;const g=s(96155),c=s(37663);m(u.prototype,g.prototype),m(u,g);{const l=v(c.prototype);for(let w=0;w<l.length;w++){const E=l[w];u.prototype[E]||(u.prototype[E]=c.prototype[E])}}function u(l){if(!(this instanceof u))return new u(l);g.call(this,l),c.call(this,l),l?(this.allowHalfOpen=!1!==l.allowHalfOpen,!1===l.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===l.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let i,o;function p(){return void 0===i&&(i={}),i}h(u.prototype,{writable:{__proto__:null,...a(c.prototype,"writable")},writableHighWaterMark:{__proto__:null,...a(c.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...a(c.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...a(c.prototype,"writableBuffer")},writableLength:{__proto__:null,...a(c.prototype,"writableLength")},writableFinished:{__proto__:null,...a(c.prototype,"writableFinished")},writableCorked:{__proto__:null,...a(c.prototype,"writableCorked")},writableEnded:{__proto__:null,...a(c.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...a(c.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(l){this._readableState&&this._writableState&&(this._readableState.destroyed=l,this._writableState.destroyed=l)}}}),u.fromWeb=function(l,w){return p().newStreamDuplexFromReadableWritablePair(l,w)},u.toWeb=function(l){return p().newReadableWritablePairFromDuplex(l)},u.from=function(l){return o||(o=s(31051)),o(l,"body")}},31051:(X,d,s)=>{var h=s(29293).default,a=s(53344).default,v=s(42958).default;const m=s(40573),g=s(86166),{isReadable:c,isWritable:u,isIterable:i,isNodeStream:p,isReadableNodeStream:o,isWritableNodeStream:l,isDuplexNodeStream:w}=s(48886),E=s(37595),{AbortError:b,codes:{ERR_INVALID_ARG_TYPE:A,ERR_INVALID_RETURN_VALUE:C}}=s(43600),{destroyer:_}=s(13725),N=s(91669),O=s(96155),{createDeferredPromise:j}=s(31895),F=s(41647),T=globalThis.Blob||g.Blob,z=typeof T<"u"?function(W){return W instanceof T}:function(W){return!1},ee=globalThis.AbortController||s(9465).AbortController,{FunctionPrototypeCall:ie}=s(85035);class x extends N{constructor(W){super(W),!1===W?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===W?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function R(J){const W=J.readable&&"function"!=typeof J.readable.read?O.wrap(J.readable):J.readable,ce=J.writable;let de,we,je,S,I,M=!!c(W),Q=!!u(ce);function G(K){const q=S;S=null,q?q(K):K&&I.destroy(K)}return I=new x({readableObjectMode:!(null==W||!W.readableObjectMode),writableObjectMode:!(null==ce||!ce.writableObjectMode),readable:M,writable:Q}),Q&&(E(ce,K=>{Q=!1,K&&_(W,K),G(K)}),I._write=function(K,q,le){ce.write(K,q)?le():de=le},I._final=function(K){ce.end(),we=K},ce.on("drain",function(){if(de){const K=de;de=null,K()}}),ce.on("finish",function(){if(we){const K=we;we=null,K()}})),M&&(E(W,K=>{M=!1,K&&_(W,K),G(K)}),W.on("readable",function(){if(je){const K=je;je=null,K()}}),W.on("end",function(){I.push(null)}),I._read=function(){for(;;){const K=W.read();if(null===K)return void(je=I._read);if(!I.push(K))return}}),I._destroy=function(K,q){!K&&null!==S&&(K=new b),je=null,de=null,we=null,null===S?q(K):(S=q,_(ce,K),_(W,K))},I}X.exports=function J(W,ce){if(w(W))return W;if(o(W))return R({readable:W});if(l(W))return R({writable:W});if(p(W))return R({writable:!1,readable:!1});if("function"==typeof W){const{value:Q,write:de,final:we,destroy:je}=function H(J){let{promise:W,resolve:ce}=j();const M=new ee,Q=M.signal;return{value:J(v(function*(){for(;;){const we=W;W=null;const{chunk:je,done:S,cb:I}=yield a(we);if(m.nextTick(I),S)return;if(Q.aborted)throw new b(void 0,{cause:Q.reason});({promise:W,resolve:ce}=j()),yield je}})(),{signal:Q}),write(we,je,S){const I=ce;ce=null,I({chunk:we,done:!1,cb:S})},final(we){const je=ce;ce=null,je({done:!0,cb:we})},destroy(we,je){M.abort(),je(we)}}}(W);if(i(Q))return F(x,Q,{objectMode:!0,write:de,final:we,destroy:je});const S=Q?.then;if("function"==typeof S){let I;const G=ie(S,Q,K=>{if(null!=K)throw new C("nully","body",K)},K=>{_(I,K)});return I=new x({objectMode:!0,readable:!1,write:de,final(K){we(h(function*(){try{yield G,m.nextTick(K,null)}catch(q){m.nextTick(K,q)}}))},destroy:je})}throw new C("Iterable, AsyncIterable or AsyncFunction",ce,Q)}if(z(W))return J(W.arrayBuffer());if(i(W))return F(x,W,{objectMode:!0,writable:!1});if("object"==typeof W?.writable||"object"==typeof W?.readable)return R({readable:null!=W&&W.readable?o(W?.readable)?W?.readable:J(W.readable):void 0,writable:null!=W&&W.writable?l(W?.writable)?W?.writable:J(W.writable):void 0});const M=W?.then;if("function"==typeof M){let Q;return ie(M,W,de=>{null!=de&&Q.push(de),Q.push(null)},de=>{_(Q,de)}),Q=new x({objectMode:!0,writable:!1,read(){}})}throw new A(ce,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],W)}},37595:(X,d,s)=>{const h=s(40573),{AbortError:a,codes:v}=s(43600),{ERR_INVALID_ARG_TYPE:m,ERR_STREAM_PREMATURE_CLOSE:g}=v,{kEmptyObject:c,once:u}=s(31895),{validateAbortSignal:i,validateFunction:p,validateObject:o,validateBoolean:l}=s(63918),{Promise:w,PromisePrototypeThen:E}=s(85035),{isClosed:b,isReadable:A,isReadableNodeStream:C,isReadableStream:_,isReadableFinished:N,isReadableErrored:O,isWritable:j,isWritableNodeStream:F,isWritableStream:T,isWritableFinished:z,isWritableErrored:ee,isNodeStream:ie,willEmitClose:x,kIsClosedPromise:H}=s(48886),J=()=>{};function W(Q,de,we){var je,S;if(2===arguments.length?(we=de,de=c):null==de?de=c:o(de,"options"),p(we,"callback"),i(de.signal,"options.signal"),we=u(we),_(Q)||T(Q))return function ce(Q,de,we){let je=!1,S=J;if(de.signal)if(S=()=>{je=!0,we.call(Q,new a(void 0,{cause:de.signal.reason}))},de.signal.aborted)h.nextTick(S);else{const G=we;we=u((...K)=>{de.signal.removeEventListener("abort",S),G.apply(Q,K)}),de.signal.addEventListener("abort",S)}const I=(...G)=>{je||h.nextTick(()=>we.apply(Q,G))};return E(Q[H].promise,I,I),J}(Q,de,we);if(!ie(Q))throw new m("stream",["ReadableStream","WritableStream","Stream"],Q);const I=null!==(je=de.readable)&&void 0!==je?je:C(Q),G=null!==(S=de.writable)&&void 0!==S?S:F(Q),K=Q._writableState,q=Q._readableState,le=()=>{Q.writable||pe()};let he=x(Q)&&C(Q)===I&&F(Q)===G,Ee=z(Q,!1);const pe=()=>{Ee=!0,Q.destroyed&&(he=!1),(!he||Q.readable&&!I)&&(!I||De)&&we.call(Q)};let De=N(Q,!1);const Xe=()=>{De=!0,Q.destroyed&&(he=!1),(!he||Q.writable&&!G)&&(!G||Ee)&&we.call(Q)},Pe=$e=>{we.call(Q,$e)};let Fe=b(Q);const me=()=>{Fe=!0;const $e=ee(Q)||O(Q);return $e&&"boolean"!=typeof $e?we.call(Q,$e):I&&!De&&C(Q,!0)&&!N(Q,!1)?we.call(Q,new g):!G||Ee||z(Q,!1)?void we.call(Q):we.call(Q,new g)},ve=()=>{Fe=!0;const $e=ee(Q)||O(Q);if($e&&"boolean"!=typeof $e)return we.call(Q,$e);we.call(Q)},ge=()=>{Q.req.on("finish",pe)};!function R(Q){return Q.setHeader&&"function"==typeof Q.abort}(Q)?G&&!K&&(Q.on("end",le),Q.on("close",le)):(Q.on("complete",pe),he||Q.on("abort",me),Q.req?ge():Q.on("request",ge)),!he&&"boolean"==typeof Q.aborted&&Q.on("aborted",me),Q.on("end",Xe),Q.on("finish",pe),!1!==de.error&&Q.on("error",Pe),Q.on("close",me),Fe?h.nextTick(me):null!=K&&K.errorEmitted||null!=q&&q.errorEmitted?he||h.nextTick(ve):(!I&&(!he||A(Q))&&(Ee||!1===j(Q))||!G&&(!he||j(Q))&&(De||!1===A(Q))||q&&Q.req&&Q.aborted)&&h.nextTick(ve);const Ae=()=>{we=J,Q.removeListener("aborted",me),Q.removeListener("complete",pe),Q.removeListener("abort",me),Q.removeListener("request",ge),Q.req&&Q.req.removeListener("finish",pe),Q.removeListener("end",le),Q.removeListener("close",le),Q.removeListener("finish",pe),Q.removeListener("end",Xe),Q.removeListener("error",Pe),Q.removeListener("close",me)};if(de.signal&&!Fe){const $e=()=>{const xe=we;Ae(),xe.call(Q,new a(void 0,{cause:de.signal.reason}))};if(de.signal.aborted)h.nextTick($e);else{const xe=we;we=u((...Ne)=>{de.signal.removeEventListener("abort",$e),xe.apply(Q,Ne)}),de.signal.addEventListener("abort",$e)}}return Ae}X.exports=W,X.exports.finished=function M(Q,de){var we;let je=!1;return null===de&&(de=c),null!==(we=de)&&void 0!==we&&we.cleanup&&(l(de.cleanup,"cleanup"),je=de.cleanup),new w((S,I)=>{const G=W(Q,de,K=>{je&&G(),K?I(K):S()})})}},41647:(X,d,s)=>{"use strict";var h=s(29293).default;const a=s(40573),{PromisePrototypeThen:v,SymbolAsyncIterator:m,SymbolIterator:g}=s(85035),{Buffer:c}=s(86166),{ERR_INVALID_ARG_TYPE:u,ERR_STREAM_NULL_VALUES:i}=s(43600).codes;X.exports=function p(o,l,w){let E,b;if("string"==typeof l||l instanceof c)return new o({objectMode:!0,...w,read(){this.push(l),this.push(null)}});if(l&&l[m])b=!0,E=l[m]();else{if(!l||!l[g])throw new u("iterable",["Iterable"],l);b=!1,E=l[g]()}const A=new o({objectMode:!0,highWaterMark:1,...w});let C=!1;function N(){return(N=h(function*(F){if(null!=F&&"function"==typeof E.throw){const{value:ee,done:ie}=yield E.throw(F);if(yield ee,ie)return}if("function"==typeof E.return){const{value:ee}=yield E.return();yield ee}})).apply(this,arguments)}function j(){return(j=h(function*(){for(;;){try{const{value:F,done:T}=b?yield E.next():E.next();if(T)A.push(null);else{const z=F&&"function"==typeof F.then?yield F:F;if(null===z)throw C=!1,new i;if(A.push(z))continue;C=!1}}catch(F){A.destroy(F)}break}})).apply(this,arguments)}return A._read=function(){C||(C=!0,function O(){j.apply(this,arguments)}())},A._destroy=function(F,T){v(function _(F){return N.apply(this,arguments)}(F),()=>a.nextTick(T,F),z=>a.nextTick(T,z||F))},A}},91356:(X,d,s)=>{"use strict";const{ArrayIsArray:h,ObjectSetPrototypeOf:a}=s(85035),{EventEmitter:v}=s(44356);function m(c){v.call(this,c)}function g(c,u,i){if("function"==typeof c.prependListener)return c.prependListener(u,i);c._events&&c._events[u]?h(c._events[u])?c._events[u].unshift(i):c._events[u]=[i,c._events[u]]:c.on(u,i)}a(m.prototype,v.prototype),a(m,v),m.prototype.pipe=function(c,u){const i=this;function p(C){c.writable&&!1===c.write(C)&&i.pause&&i.pause()}function o(){i.readable&&i.resume&&i.resume()}i.on("data",p),c.on("drain",o),!c._isStdio&&(!u||!1!==u.end)&&(i.on("end",w),i.on("close",E));let l=!1;function w(){l||(l=!0,c.end())}function E(){l||(l=!0,"function"==typeof c.destroy&&c.destroy())}function b(C){A(),0===v.listenerCount(this,"error")&&this.emit("error",C)}function A(){i.removeListener("data",p),c.removeListener("drain",o),i.removeListener("end",w),i.removeListener("close",E),i.removeListener("error",b),c.removeListener("error",b),i.removeListener("end",A),i.removeListener("close",A),c.removeListener("close",A)}return g(i,"error",b),g(c,"error",b),i.on("end",A),i.on("close",A),c.on("close",A),c.emit("pipe",i),c},X.exports={Stream:m,prependListener:g}},71234:(X,d,s)=>{"use strict";var h=s(29293).default,a=s(93513).default,v=s(82881).default,m=s(53344).default,g=s(42958).default;const c=globalThis.AbortController||s(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:u,ERR_INVALID_ARG_TYPE:i,ERR_MISSING_ARGS:p,ERR_OUT_OF_RANGE:o},AbortError:l}=s(43600),{validateAbortSignal:w,validateInteger:E,validateObject:b}=s(63918),A=s(85035).Symbol("kWeak"),{finished:C}=s(37595),_=s(83763),{addAbortSignalNoValidate:N}=s(28664),{isWritable:O,isNodeStream:j}=s(48886),{ArrayPrototypePush:F,MathFloor:T,Number:z,NumberIsNaN:ee,Promise:ie,PromiseReject:x,PromisePrototypeThen:H,Symbol:R}=s(85035),J=R("kEmpty"),W=R("kEof");function M(ge,Ae){if("function"!=typeof ge)throw new i("fn",["Function","AsyncFunction"],ge);null!=Ae&&b(Ae,"options"),null!=Ae?.signal&&w(Ae.signal,"options.signal");let $e=1;return null!=Ae?.concurrency&&($e=T(Ae.concurrency)),E($e,"concurrency",1),function(){var xe=g(function*(){var Le,Ue;const qe=new c,Je=this,We=[],at=qe.signal,te={signal:at},U=()=>qe.abort();null!=Ae&&null!==(Le=Ae.signal)&&void 0!==Le&&Le.aborted&&U(),null==Ae||null===(Ue=Ae.signal)||void 0===Ue||Ue.addEventListener("abort",U);let P,Y,Se=!1;function Ce(){Se=!0}function Oe(){return(Oe=h(function*(){try{var lt,Be=!1,ct=!1;try{for(var ft,tt=v(Je);Be=!(ft=yield tt.next()).done;Be=!1){let St=ft.value;var Bt;if(Se)return;if(at.aborted)throw new l;try{St=ge(St,te)}catch(Ft){St=x(Ft)}St!==J&&("function"==typeof(null===(Bt=St)||void 0===Bt?void 0:Bt.catch)&&St.catch(Ce),We.push(St),P&&(P(),P=null),!Se&&We.length&&We.length>=$e&&(yield new ie(Ft=>{Y=Ft})))}}catch(St){ct=!0,lt=St}finally{try{Be&&null!=tt.return&&(yield tt.return())}finally{if(ct)throw lt}}We.push(W)}catch(St){const Ft=x(St);H(Ft,void 0,Ce),We.push(Ft)}finally{var It;Se=!0,P&&(P(),P=null),null==Ae||null===(It=Ae.signal)||void 0===It||It.removeEventListener("abort",U)}})).apply(this,arguments)}!function Ie(){Oe.apply(this,arguments)}();try{for(;;){for(;We.length>0;){const Be=yield m(We[0]);if(Be===W)return;if(at.aborted)throw new l;Be!==J&&(yield Be),We.shift(),Y&&(Y(),Y=null)}yield m(new ie(Be=>{P=Be}))}}finally{qe.abort(),Se=!0,Y&&(Y(),Y=null)}});return function Ne(){return xe.apply(this,arguments)}}().call(this)}function de(ge){return we.apply(this,arguments)}function we(){return(we=h(function*(ge,Ae=void 0){var Ne,$e=!1,xe=!1;try{for(var Le=v(le.call(this,ge,Ae));$e=!(yield Le.next()).done;$e=!1)return!0}catch(qe){xe=!0,Ne=qe}finally{try{$e&&null!=Le.return&&(yield Le.return())}finally{if(xe)throw Ne}}return!1})).apply(this,arguments)}function S(){return(S=h(function*(ge,Ae=void 0){if("function"!=typeof ge)throw new i("fn",["Function","AsyncFunction"],ge);return!(yield de.call(this,h(function*(...$e){return!(yield ge(...$e))}),Ae))})).apply(this,arguments)}function G(){return(G=h(function*(ge,Ae){var Ne,$e=!1,xe=!1;try{for(var Ue,Le=v(le.call(this,ge,Ae));$e=!(Ue=yield Le.next()).done;$e=!1)return Ue.value}catch(qe){xe=!0,Ne=qe}finally{try{$e&&null!=Le.return&&(yield Le.return())}finally{if(xe)throw Ne}}})).apply(this,arguments)}function q(){return q=h(function*(ge,Ae){if("function"!=typeof ge)throw new i("fn",["Function","AsyncFunction"],ge);function xe(){return(xe=h(function*(We,at){return yield ge(We,at),J})).apply(this,arguments)}var Ue,Ne=!1,Le=!1;try{for(var qe=v(M.call(this,function $e(We,at){return xe.apply(this,arguments)},Ae));Ne=!(yield qe.next()).done;Ne=!1);}catch(We){Le=!0,Ue=We}finally{try{Ne&&null!=qe.return&&(yield qe.return())}finally{if(Le)throw Ue}}}),q.apply(this,arguments)}function le(ge,Ae){if("function"!=typeof ge)throw new i("fn",["Function","AsyncFunction"],ge);function xe(){return(xe=h(function*(Ne,Le){return(yield ge(Ne,Le))?Ne:J})).apply(this,arguments)}return M.call(this,function $e(Ne,Le){return xe.apply(this,arguments)},Ae)}class he extends p{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function pe(){return pe=h(function*(ge,Ae,$e){var xe;if("function"!=typeof ge)throw new i("reducer",["Function","AsyncFunction"],ge);null!=$e&&b($e,"options"),null!=$e?.signal&&w($e.signal,"options.signal");let Ne=arguments.length>1;if(null!=$e&&null!==(xe=$e.signal)&&void 0!==xe&&xe.aborted){const Y=new l(void 0,{cause:$e.signal.reason});throw this.once("error",()=>{}),yield C(this.destroy(Y)),Y}const Le=new c,Ue=Le.signal;null!=$e&&$e.signal&&$e.signal.addEventListener("abort",()=>Le.abort(),{once:!0,[A]:this});let qe=!1;try{var at,Je=!1,We=!1;try{for(var U,te=v(this);Je=!(U=yield te.next()).done;Je=!1){const Y=U.value;var P;if(qe=!0,null!=$e&&null!==(P=$e.signal)&&void 0!==P&&P.aborted)throw new l;Ne?Ae=yield ge(Ae,Y,{signal:Ue}):(Ae=Y,Ne=!0)}}catch(Y){We=!0,at=Y}finally{try{Je&&null!=te.return&&(yield te.return())}finally{if(We)throw at}}if(!qe&&!Ne)throw new he}finally{Le.abort()}return Ae}),pe.apply(this,arguments)}function Xe(){return(Xe=h(function*(ge){null!=ge&&b(ge,"options"),null!=ge?.signal&&w(ge.signal,"options.signal");const Ae=[];var Ne,$e=!1,xe=!1;try{for(var Ue,Le=v(this);$e=!(Ue=yield Le.next()).done;$e=!1){const Je=Ue.value;var qe;if(null!=ge&&null!==(qe=ge.signal)&&void 0!==qe&&qe.aborted)throw new l(void 0,{cause:ge.signal.reason});F(Ae,Je)}}catch(Je){xe=!0,Ne=Je}finally{try{$e&&null!=Le.return&&(yield Le.return())}finally{if(xe)throw Ne}}return Ae})).apply(this,arguments)}function Fe(ge){if(ge=z(ge),ee(ge))return 0;if(ge<0)throw new o("number",">= 0",ge);return ge}X.exports.streamReturningOperators={asIndexedPairs:function Q(ge=void 0){return null!=ge&&b(ge,"options"),null!=ge?.signal&&w(ge.signal,"options.signal"),function(){var Ae=g(function*(){let xe=0;var Ue,Ne=!1,Le=!1;try{for(var Je,qe=v(this);Ne=!(Je=yield m(qe.next())).done;Ne=!1){const at=Je.value;var We;if(null!=ge&&null!==(We=ge.signal)&&void 0!==We&&We.aborted)throw new l({cause:ge.signal.reason});yield[xe++,at]}}catch(at){Le=!0,Ue=at}finally{try{Ne&&null!=qe.return&&(yield m(qe.return()))}finally{if(Le)throw Ue}}});return function $e(){return Ae.apply(this,arguments)}}().call(this)},drop:function me(ge,Ae=void 0){return null!=Ae&&b(Ae,"options"),null!=Ae?.signal&&w(Ae.signal,"options.signal"),ge=Fe(ge),function(){var $e=g(function*(){var Ne;if(null!=Ae&&null!==(Ne=Ae.signal)&&void 0!==Ne&&Ne.aborted)throw new l;var qe,Le=!1,Ue=!1;try{for(var We,Je=v(this);Le=!(We=yield m(Je.next())).done;Le=!1){const te=We.value;var at;if(null!=Ae&&null!==(at=Ae.signal)&&void 0!==at&&at.aborted)throw new l;ge--<=0&&(yield te)}}catch(te){Ue=!0,qe=te}finally{try{Le&&null!=Je.return&&(yield m(Je.return()))}finally{if(Ue)throw qe}}});return function xe(){return $e.apply(this,arguments)}}().call(this)},filter:le,flatMap:function Pe(ge,Ae){const $e=M.call(this,ge,Ae);return function(){var xe=g(function*(){var qe,Le=!1,Ue=!1;try{for(var We,Je=v($e);Le=!(We=yield m(Je.next())).done;Le=!1){const at=We.value;yield*a(v(at),m)}}catch(at){Ue=!0,qe=at}finally{try{Le&&null!=Je.return&&(yield m(Je.return()))}finally{if(Ue)throw qe}}});return function Ne(){return xe.apply(this,arguments)}}().call(this)},map:M,take:function ve(ge,Ae=void 0){return null!=Ae&&b(Ae,"options"),null!=Ae?.signal&&w(Ae.signal,"options.signal"),ge=Fe(ge),function(){var $e=g(function*(){var Ne;if(null!=Ae&&null!==(Ne=Ae.signal)&&void 0!==Ne&&Ne.aborted)throw new l;var qe,Le=!1,Ue=!1;try{for(var We,Je=v(this);Le=!(We=yield m(Je.next())).done;Le=!1){const te=We.value;var at;if(null!=Ae&&null!==(at=Ae.signal)&&void 0!==at&&at.aborted)throw new l;if(!(ge-- >0))return;yield te}}catch(te){Ue=!0,qe=te}finally{try{Le&&null!=Je.return&&(yield m(Je.return()))}finally{if(Ue)throw qe}}});return function xe(){return $e.apply(this,arguments)}}().call(this)},compose:function ce(ge,Ae){if(null!=Ae&&b(Ae,"options"),null!=Ae?.signal&&w(Ae.signal,"options.signal"),j(ge)&&!O(ge))throw new u("stream",ge,"must be writable");const $e=_(this,ge);return null!=Ae&&Ae.signal&&N(Ae.signal,$e),$e}},X.exports.promiseReturningOperators={every:function je(ge){return S.apply(this,arguments)},forEach:function K(ge,Ae){return q.apply(this,arguments)},reduce:function Ee(ge,Ae,$e){return pe.apply(this,arguments)},toArray:function De(ge){return Xe.apply(this,arguments)},some:de,find:function I(ge,Ae){return G.apply(this,arguments)}}},6513:(X,d,s)=>{"use strict";const{ObjectSetPrototypeOf:h}=s(85035);X.exports=v;const a=s(12475);function v(m){if(!(this instanceof v))return new v(m);a.call(this,m)}h(v.prototype,a.prototype),h(v,a),v.prototype._transform=function(m,g,c){c(null,m)}},62305:(X,d,s)=>{var h=s(29293).default,a=s(42958).default,v=s(53344).default,m=s(93513).default,g=s(82881).default;const c=s(40573),{ArrayIsArray:u,Promise:i,SymbolAsyncIterator:p}=s(85035),o=s(37595),{once:l}=s(31895),w=s(13725),E=s(91669),{aggregateTwoErrors:b,codes:{ERR_INVALID_ARG_TYPE:A,ERR_INVALID_RETURN_VALUE:C,ERR_MISSING_ARGS:_,ERR_STREAM_DESTROYED:N,ERR_STREAM_PREMATURE_CLOSE:O},AbortError:j}=s(43600),{validateFunction:F,validateAbortSignal:T}=s(63918),{isIterable:z,isReadable:ee,isReadableNodeStream:ie,isNodeStream:x,isTransformStream:H,isWebStream:R,isReadableStream:J,isReadableEnded:W}=s(48886),ce=globalThis.AbortController||s(9465).AbortController;let M,Q;function de(De,Xe,Pe){let Fe=!1;return De.on("close",()=>{Fe=!0}),{destroy:ve=>{Fe||(Fe=!0,w.destroyer(De,ve||new N("pipe")))},cleanup:o(De,{readable:Xe,writable:Pe},ve=>{Fe=!ve})}}function je(De){if(z(De))return De;if(ie(De))return function S(De){return I.apply(this,arguments)}(De);throw new A("val",["Readable","Iterable","AsyncIterable"],De)}function I(){return(I=a(function*(De){Q||(Q=s(96155)),yield*m(g(Q.prototype[p].call(De)),v)})).apply(this,arguments)}function G(De,Xe,Pe,Fe){return K.apply(this,arguments)}function K(){return(K=h(function*(De,Xe,Pe,{end:Fe}){let me,ve=null;const ge=Je=>{if(Je&&(me=Je),ve){const We=ve;ve=null,We()}},Ae=()=>new i((Je,We)=>{me?We(me):ve=()=>{me?We(me):Je()}});Xe.on("drain",ge);const $e=o(Xe,{readable:!1},ge);try{Xe.writableNeedDrain&&(yield Ae());var Le,xe=!1,Ne=!1;try{for(var qe,Ue=g(De);xe=!(qe=yield Ue.next()).done;xe=!1)Xe.write(qe.value)||(yield Ae())}catch(Je){Ne=!0,Le=Je}finally{try{xe&&null!=Ue.return&&(yield Ue.return())}finally{if(Ne)throw Le}}Fe&&Xe.end(),yield Ae(),Pe()}catch(Je){Pe(me!==Je?b(me,Je):Je)}finally{$e(),Xe.off("drain",ge)}})).apply(this,arguments)}function q(De,Xe,Pe,Fe){return le.apply(this,arguments)}function le(){return(le=h(function*(De,Xe,Pe,{end:Fe}){H(Xe)&&(Xe=Xe.writable);const me=Xe.getWriter();try{var Ae,ve=!1,ge=!1;try{for(var xe,$e=g(De);ve=!(xe=yield $e.next()).done;ve=!1){const Ne=xe.value;yield me.ready,me.write(Ne).catch(()=>{})}}catch(Ne){ge=!0,Ae=Ne}finally{try{ve&&null!=$e.return&&(yield $e.return())}finally{if(ge)throw Ae}}yield me.ready,Fe&&(yield me.close()),Pe()}catch(Ne){try{yield me.abort(Ne),Pe(Ne)}catch(Le){Pe(Le)}}})).apply(this,arguments)}function Ee(De,Xe,Pe){if(1===De.length&&u(De[0])&&(De=De[0]),De.length<2)throw new _("streams");const Fe=new ce,me=Fe.signal,ve=Pe?.signal,ge=[];function Ae(){qe(new j)}let $e,xe;T(ve,"options.signal"),ve?.addEventListener("abort",Ae);const Ne=[];let Je,Le=0;function Ue(U){qe(U,0==--Le)}function qe(U,P){if(U&&(!$e||"ERR_STREAM_PREMATURE_CLOSE"===$e.code)&&($e=U),$e||P){for(;Ne.length;)Ne.shift()($e);ve?.removeEventListener("abort",Ae),Fe.abort(),P&&($e||ge.forEach(Y=>Y()),c.nextTick(Xe,$e,xe))}}for(let U=0;U<De.length;U++){const P=De[U],Y=U<De.length-1,Se=U>0,Ce=Y||!1!==Pe?.end,Ie=U===De.length-1;if(x(P)){let Oe=function(Be){Be&&"AbortError"!==Be.name&&"ERR_STREAM_PREMATURE_CLOSE"!==Be.code&&Ue(Be)};if(Ce){const{destroy:Be,cleanup:ct}=de(P,Y,Se);Ne.push(Be),ee(P)&&Ie&&ge.push(ct)}P.on("error",Oe),ee(P)&&Ie&&ge.push(()=>{P.removeListener("error",Oe)})}if(0===U)if("function"==typeof P){if(Je=P({signal:me}),!z(Je))throw new C("Iterable, AsyncIterable or Stream","source",Je)}else Je=z(P)||ie(P)||H(P)?P:E.from(P);else if("function"==typeof P){var We;if(Je=H(Je)?je(null===(We=Je)||void 0===We?void 0:We.readable):je(Je),Je=P(Je,{signal:me}),Y){if(!z(Je,!0))throw new C("AsyncIterable",`transform[${U-1}]`,Je)}else{var at;M||(M=s(6513));const Oe=new M({objectMode:!0}),Be=null===(at=Je)||void 0===at?void 0:at.then;if("function"==typeof Be)Le++,Be.call(Je,tt=>{xe=tt,null!=tt&&Oe.write(tt),Ce&&Oe.end(),c.nextTick(Ue)},tt=>{Oe.destroy(tt),c.nextTick(Ue,tt)});else if(z(Je,!0))Le++,G(Je,Oe,Ue,{end:Ce});else{if(!J(Je)&&!H(Je))throw new C("AsyncIterable or Promise","destination",Je);Le++,G(Je.readable||Je,Oe,Ue,{end:Ce})}Je=Oe;const{destroy:ct,cleanup:lt}=de(Je,!1,!0);Ne.push(ct),Ie&&ge.push(lt)}}else if(x(P)){if(ie(Je)){Le+=2;const Oe=pe(Je,P,Ue,{end:Ce});ee(P)&&Ie&&ge.push(Oe)}else if(H(Je)||J(Je))Le++,G(Je.readable||Je,P,Ue,{end:Ce});else{if(!z(Je))throw new A("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Je);Le++,G(Je,P,Ue,{end:Ce})}Je=P}else if(R(P)){if(ie(Je))Le++,q(je(Je),P,Ue,{end:Ce});else if(J(Je)||z(Je))Le++,q(Je,P,Ue,{end:Ce});else{if(!H(Je))throw new A("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Je);Le++,q(Je.readable,P,Ue,{end:Ce})}Je=P}else Je=E.from(P)}return(null!=me&&me.aborted||null!=ve&&ve.aborted)&&c.nextTick(Ae),Je}function pe(De,Xe,Pe,{end:Fe}){let me=!1;if(Xe.on("close",()=>{me||Pe(new O)}),De.pipe(Xe,{end:!1}),Fe){let ge=function(){me=!0,Xe.end()};W(De)?c.nextTick(ge):De.once("end",ge)}else Pe();return o(De,{readable:!0,writable:!1},ge=>{const Ae=De._readableState;ge&&"ERR_STREAM_PREMATURE_CLOSE"===ge.code&&Ae&&Ae.ended&&!Ae.errored&&!Ae.errorEmitted?De.once("end",Pe).once("error",Pe):Pe(ge)}),o(Xe,{readable:!1,writable:!0},Pe)}X.exports={pipelineImpl:Ee,pipeline:function he(...De){return Ee(De,l(function we(De){return F(De[De.length-1],"streams[stream.length - 1]"),De.pop()}(De)))}}},96155:(X,d,s)=>{var h=s(53344).default,a=s(42958).default;const v=s(40573),{ArrayPrototypeIndexOf:m,NumberIsInteger:g,NumberIsNaN:c,NumberParseInt:u,ObjectDefineProperties:i,ObjectKeys:p,ObjectSetPrototypeOf:o,Promise:l,SafeSet:w,SymbolAsyncIterator:E,Symbol:b}=s(85035);X.exports=G,G.ReadableState=I;const{EventEmitter:A}=s(44356),{Stream:C,prependListener:_}=s(91356),{Buffer:N}=s(86166),{addAbortSignal:O}=s(28664),j=s(37595);let F=s(31895).debuglog("stream",P=>{F=P});const T=s(76447),z=s(13725),{getHighWaterMark:ee,getDefaultHighWaterMark:ie}=s(28942),{aggregateTwoErrors:x,codes:{ERR_INVALID_ARG_TYPE:H,ERR_METHOD_NOT_IMPLEMENTED:R,ERR_OUT_OF_RANGE:J,ERR_STREAM_PUSH_AFTER_EOF:W,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:ce}}=s(43600),{validateObject:M}=s(63918),Q=b("kPaused"),{StringDecoder:de}=s(78454),we=s(41647);o(G.prototype,C.prototype),o(G,C);const je=()=>{},{errorOrDestroy:S}=z;function I(P,Y,Se){"boolean"!=typeof Se&&(Se=Y instanceof s(91669)),this.objectMode=!(!P||!P.objectMode),Se&&(this.objectMode=this.objectMode||!(!P||!P.readableObjectMode)),this.highWaterMark=P?ee(this,P,"readableHighWaterMark",Se):ie(!1),this.buffer=new T,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[Q]=null,this.errorEmitted=!1,this.emitClose=!P||!1!==P.emitClose,this.autoDestroy=!P||!1!==P.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=P&&P.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,P&&P.encoding&&(this.decoder=new de(P.encoding),this.encoding=P.encoding)}function G(P){if(!(this instanceof G))return new G(P);const Y=this instanceof s(91669);this._readableState=new I(P,this,Y),P&&("function"==typeof P.read&&(this._read=P.read),"function"==typeof P.destroy&&(this._destroy=P.destroy),"function"==typeof P.construct&&(this._construct=P.construct),P.signal&&!Y&&O(P.signal,this)),C.call(this,P),z.construct(this,()=>{this._readableState.needReadable&&Pe(this,this._readableState)})}function K(P,Y,Se,Ce){F("readableAddChunk",Y);const Ie=P._readableState;let Oe;if(Ie.objectMode||("string"==typeof Y?Ie.encoding!==(Se=Se||Ie.defaultEncoding)&&(Ce&&Ie.encoding?Y=N.from(Y,Se).toString(Ie.encoding):(Y=N.from(Y,Se),Se="")):Y instanceof N?Se="":C._isUint8Array(Y)?(Y=C._uint8ArrayToBuffer(Y),Se=""):null!=Y&&(Oe=new H("chunk",["string","Buffer","Uint8Array"],Y))),Oe)S(P,Oe);else if(null===Y)Ie.reading=!1,function pe(P,Y){if(F("onEofChunk"),!Y.ended){if(Y.decoder){const Se=Y.decoder.end();Se&&Se.length&&(Y.buffer.push(Se),Y.length+=Y.objectMode?1:Se.length)}Y.ended=!0,Y.sync?De(P):(Y.needReadable=!1,Y.emittedReadable=!0,Xe(P))}}(P,Ie);else if(Ie.objectMode||Y&&Y.length>0)if(Ce)if(Ie.endEmitted)S(P,new ce);else{if(Ie.destroyed||Ie.errored)return!1;q(P,Ie,Y,!0)}else if(Ie.ended)S(P,new W);else{if(Ie.destroyed||Ie.errored)return!1;Ie.reading=!1,Ie.decoder&&!Se?(Y=Ie.decoder.write(Y),Ie.objectMode||0!==Y.length?q(P,Ie,Y,!1):Pe(P,Ie)):q(P,Ie,Y,!1)}else Ce||(Ie.reading=!1,Pe(P,Ie));return!Ie.ended&&(Ie.length<Ie.highWaterMark||0===Ie.length)}function q(P,Y,Se,Ce){Y.flowing&&0===Y.length&&!Y.sync&&P.listenerCount("data")>0?(Y.multiAwaitDrain?Y.awaitDrainWriters.clear():Y.awaitDrainWriters=null,Y.dataEmitted=!0,P.emit("data",Se)):(Y.length+=Y.objectMode?1:Se.length,Ce?Y.buffer.unshift(Se):Y.buffer.push(Se),Y.needReadable&&De(P)),Pe(P,Y)}function Ee(P,Y){return P<=0||0===Y.length&&Y.ended?0:Y.objectMode?1:c(P)?Y.flowing&&Y.length?Y.buffer.first().length:Y.length:P<=Y.length?P:Y.ended?Y.length:0}function De(P){const Y=P._readableState;F("emitReadable",Y.needReadable,Y.emittedReadable),Y.needReadable=!1,Y.emittedReadable||(F("emitReadable",Y.flowing),Y.emittedReadable=!0,v.nextTick(Xe,P))}function Xe(P){const Y=P._readableState;F("emitReadable_",Y.destroyed,Y.length,Y.ended),!Y.destroyed&&!Y.errored&&(Y.length||Y.ended)&&(P.emit("readable"),Y.emittedReadable=!1),Y.needReadable=!Y.flowing&&!Y.ended&&Y.length<=Y.highWaterMark,xe(P)}function Pe(P,Y){!Y.readingMore&&Y.constructed&&(Y.readingMore=!0,v.nextTick(Fe,P,Y))}function Fe(P,Y){for(;!Y.reading&&!Y.ended&&(Y.length<Y.highWaterMark||Y.flowing&&0===Y.length);){const Se=Y.length;if(F("maybeReadMore read 0"),P.read(0),Se===Y.length)break}Y.readingMore=!1}function ve(P){const Y=P._readableState;Y.readableListening=P.listenerCount("readable")>0,Y.resumeScheduled&&!1===Y[Q]?Y.flowing=!0:P.listenerCount("data")>0?P.resume():Y.readableListening||(Y.flowing=null)}function ge(P){F("readable nexttick read 0"),P.read(0)}function $e(P,Y){F("resume",Y.reading),Y.reading||P.read(0),Y.resumeScheduled=!1,P.emit("resume"),xe(P),Y.flowing&&!Y.reading&&P.read(0)}function xe(P){const Y=P._readableState;for(F("flow",Y.flowing);Y.flowing&&null!==P.read(););}function Ne(P,Y){"function"!=typeof P.read&&(P=G.wrap(P,{objectMode:!0}));const Se=function Le(P,Y){return Ue.apply(this,arguments)}(P,Y);return Se.stream=P,Se}function Ue(){return(Ue=a(function*(P,Y){let Ie,Se=je;function Ce(Be){this===P?(Se(),Se=je):Se=Be}P.on("readable",Ce);const Oe=j(P,{writable:!1},Be=>{Ie=Be?x(Ie,Be):null,Se(),Se=je});try{for(;;){const Be=P.destroyed?null:P.read();if(null!==Be)yield Be;else{if(Ie)throw Ie;if(null===Ie)return;yield h(new l(Ce))}}}catch(Be){throw Ie=x(Ie,Be),Ie}finally{!Ie&&!1===Y?.destroyOnReturn||void 0!==Ie&&!P._readableState.autoDestroy?(P.off("readable",Ce),Oe()):z.destroyer(P,null)}})).apply(this,arguments)}function qe(P,Y){if(0===Y.length)return null;let Se;return Y.objectMode?Se=Y.buffer.shift():!P||P>=Y.length?(Se=Y.decoder?Y.buffer.join(""):1===Y.buffer.length?Y.buffer.first():Y.buffer.concat(Y.length),Y.buffer.clear()):Se=Y.buffer.consume(P,Y.decoder),Se}function Je(P){const Y=P._readableState;F("endReadable",Y.endEmitted),Y.endEmitted||(Y.ended=!0,v.nextTick(We,Y,P))}function We(P,Y){if(F("endReadableNT",P.endEmitted,P.length),!P.errored&&!P.closeEmitted&&!P.endEmitted&&0===P.length)if(P.endEmitted=!0,Y.emit("end"),Y.writable&&!1===Y.allowHalfOpen)v.nextTick(at,Y);else if(P.autoDestroy){const Se=Y._writableState;(!Se||Se.autoDestroy&&(Se.finished||!1===Se.writable))&&Y.destroy()}}function at(P){P.writable&&!P.writableEnded&&!P.destroyed&&P.end()}let te;function U(){return void 0===te&&(te={}),te}G.prototype.destroy=z.destroy,G.prototype._undestroy=z.undestroy,G.prototype._destroy=function(P,Y){Y(P)},G.prototype[A.captureRejectionSymbol]=function(P){this.destroy(P)},G.prototype.push=function(P,Y){return K(this,P,Y,!1)},G.prototype.unshift=function(P,Y){return K(this,P,Y,!0)},G.prototype.isPaused=function(){const P=this._readableState;return!0===P[Q]||!1===P.flowing},G.prototype.setEncoding=function(P){const Y=new de(P);this._readableState.decoder=Y,this._readableState.encoding=this._readableState.decoder.encoding;const Se=this._readableState.buffer;let Ce="";for(const Ie of Se)Ce+=Y.write(Ie);return Se.clear(),""!==Ce&&Se.push(Ce),this._readableState.length=Ce.length,this},G.prototype.read=function(P){F("read",P),void 0===P?P=NaN:g(P)||(P=u(P,10));const Y=this._readableState,Se=P;if(P>Y.highWaterMark&&(Y.highWaterMark=function he(P){if(P>1073741824)throw new J("size","<= 1GiB",P);return P--,P|=P>>>1,P|=P>>>2,P|=P>>>4,P|=P>>>8,P|=P>>>16,++P}(P)),0!==P&&(Y.emittedReadable=!1),0===P&&Y.needReadable&&((0!==Y.highWaterMark?Y.length>=Y.highWaterMark:Y.length>0)||Y.ended))return F("read: emitReadable",Y.length,Y.ended),0===Y.length&&Y.ended?Je(this):De(this),null;if(0===(P=Ee(P,Y))&&Y.ended)return 0===Y.length&&Je(this),null;let Ie,Ce=Y.needReadable;if(F("need readable",Ce),(0===Y.length||Y.length-P<Y.highWaterMark)&&(Ce=!0,F("length less than watermark",Ce)),Y.ended||Y.reading||Y.destroyed||Y.errored||!Y.constructed)Ce=!1,F("reading, ended or constructing",Ce);else if(Ce){F("do read"),Y.reading=!0,Y.sync=!0,0===Y.length&&(Y.needReadable=!0);try{this._read(Y.highWaterMark)}catch(Oe){S(this,Oe)}Y.sync=!1,Y.reading||(P=Ee(Se,Y))}return Ie=P>0?qe(P,Y):null,null===Ie?(Y.needReadable=Y.length<=Y.highWaterMark,P=0):(Y.length-=P,Y.multiAwaitDrain?Y.awaitDrainWriters.clear():Y.awaitDrainWriters=null),0===Y.length&&(Y.ended||(Y.needReadable=!0),Se!==P&&Y.ended&&Je(this)),null!==Ie&&!Y.errorEmitted&&!Y.closeEmitted&&(Y.dataEmitted=!0,this.emit("data",Ie)),Ie},G.prototype._read=function(P){throw new R("_read()")},G.prototype.pipe=function(P,Y){const Se=this,Ce=this._readableState;1===Ce.pipes.length&&(Ce.multiAwaitDrain||(Ce.multiAwaitDrain=!0,Ce.awaitDrainWriters=new w(Ce.awaitDrainWriters?[Ce.awaitDrainWriters]:[]))),Ce.pipes.push(P),F("pipe count=%d opts=%j",Ce.pipes.length,Y);const Oe=Y&&!1===Y.end||P===v.stdout||P===v.stderr?V:ct;function ct(){F("onend"),P.end()}Ce.endEmitted?v.nextTick(Oe):Se.once("end",Oe),P.on("unpipe",function Be(ue,oe){F("onunpipe"),ue===Se&&oe&&!1===oe.hasUnpiped&&(oe.hasUnpiped=!0,function ft(){F("cleanup"),P.removeListener("close",Ft),P.removeListener("finish",yr),lt&&P.removeListener("drain",lt),P.removeListener("error",St),P.removeListener("unpipe",Be),Se.removeListener("end",ct),Se.removeListener("end",V),Se.removeListener("data",It),tt=!0,lt&&Ce.awaitDrainWriters&&(!P._writableState||P._writableState.needDrain)&&lt()}())});let lt,tt=!1;function Bt(){tt||(1===Ce.pipes.length&&Ce.pipes[0]===P?(F("false write response, pause",0),Ce.awaitDrainWriters=P,Ce.multiAwaitDrain=!1):Ce.pipes.length>1&&Ce.pipes.includes(P)&&(F("false write response, pause",Ce.awaitDrainWriters.size),Ce.awaitDrainWriters.add(P)),Se.pause()),lt||(lt=function me(P,Y){return function(){const Ce=P._readableState;Ce.awaitDrainWriters===Y?(F("pipeOnDrain",1),Ce.awaitDrainWriters=null):Ce.multiAwaitDrain&&(F("pipeOnDrain",Ce.awaitDrainWriters.size),Ce.awaitDrainWriters.delete(Y)),(!Ce.awaitDrainWriters||0===Ce.awaitDrainWriters.size)&&P.listenerCount("data")&&P.resume()}}(Se,P),P.on("drain",lt))}function It(ue){F("ondata");const oe=P.write(ue);F("dest.write",oe),!1===oe&&Bt()}function St(ue){if(F("onerror",ue),V(),P.removeListener("error",St),0===P.listenerCount("error")){const oe=P._writableState||P._readableState;oe&&!oe.errorEmitted?S(P,ue):P.emit("error",ue)}}function Ft(){P.removeListener("finish",yr),V()}function yr(){F("onfinish"),P.removeListener("close",Ft),V()}function V(){F("unpipe"),Se.unpipe(P)}return Se.on("data",It),_(P,"error",St),P.once("close",Ft),P.once("finish",yr),P.emit("pipe",Se),!0===P.writableNeedDrain?Ce.flowing&&Bt():Ce.flowing||(F("pipe resume"),Se.resume()),P},G.prototype.unpipe=function(P){const Y=this._readableState;if(0===Y.pipes.length)return this;if(!P){const Ie=Y.pipes;Y.pipes=[],this.pause();for(let Oe=0;Oe<Ie.length;Oe++)Ie[Oe].emit("unpipe",this,{hasUnpiped:!1});return this}const Ce=m(Y.pipes,P);return-1===Ce||(Y.pipes.splice(Ce,1),0===Y.pipes.length&&this.pause(),P.emit("unpipe",this,{hasUnpiped:!1})),this},G.prototype.addListener=G.prototype.on=function(P,Y){const Se=C.prototype.on.call(this,P,Y),Ce=this._readableState;return"data"===P?(Ce.readableListening=this.listenerCount("readable")>0,!1!==Ce.flowing&&this.resume()):"readable"===P&&!Ce.endEmitted&&!Ce.readableListening&&(Ce.readableListening=Ce.needReadable=!0,Ce.flowing=!1,Ce.emittedReadable=!1,F("on readable",Ce.length,Ce.reading),Ce.length?De(this):Ce.reading||v.nextTick(ge,this)),Se},G.prototype.off=G.prototype.removeListener=function(P,Y){const Se=C.prototype.removeListener.call(this,P,Y);return"readable"===P&&v.nextTick(ve,this),Se},G.prototype.removeAllListeners=function(P){const Y=C.prototype.removeAllListeners.apply(this,arguments);return("readable"===P||void 0===P)&&v.nextTick(ve,this),Y},G.prototype.resume=function(){const P=this._readableState;return P.flowing||(F("resume"),P.flowing=!P.readableListening,function Ae(P,Y){Y.resumeScheduled||(Y.resumeScheduled=!0,v.nextTick($e,P,Y))}(this,P)),P[Q]=!1,this},G.prototype.pause=function(){return F("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(F("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Q]=!0,this},G.prototype.wrap=function(P){let Y=!1;P.on("data",Ce=>{!this.push(Ce)&&P.pause&&(Y=!0,P.pause())}),P.on("end",()=>{this.push(null)}),P.on("error",Ce=>{S(this,Ce)}),P.on("close",()=>{this.destroy()}),P.on("destroy",()=>{this.destroy()}),this._read=()=>{Y&&P.resume&&(Y=!1,P.resume())};const Se=p(P);for(let Ce=1;Ce<Se.length;Ce++){const Ie=Se[Ce];void 0===this[Ie]&&"function"==typeof P[Ie]&&(this[Ie]=P[Ie].bind(P))}return this},G.prototype[E]=function(){return Ne(this)},G.prototype.iterator=function(P){return void 0!==P&&M(P,"options"),Ne(this,P)},i(G.prototype,{readable:{__proto__:null,get(){const P=this._readableState;return!(!P||!1===P.readable||P.destroyed||P.errorEmitted||P.endEmitted)},set(P){this._readableState&&(this._readableState.readable=!!P)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(P){this._readableState&&(this._readableState.flowing=P)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(P){this._readableState&&(this._readableState.destroyed=P)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),i(I.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[Q]},set(P){this[Q]=!!P}}}),G._fromList=qe,G.from=function(P,Y){return we(G,P,Y)},G.fromWeb=function(P,Y){return U().newStreamReadableFromReadableStream(P,Y)},G.toWeb=function(P,Y){return U().newReadableStreamFromStreamReadable(P,Y)},G.wrap=function(P,Y){var Se,Ce;return new G({objectMode:null===(Se=null!==(Ce=P.readableObjectMode)&&void 0!==Ce?Ce:P.objectMode)||void 0===Se||Se,...Y,destroy(Ie,Oe){z.destroyer(P,Ie),Oe(Ie)}}).wrap(P)}},28942:(X,d,s)=>{"use strict";const{MathFloor:h,NumberIsInteger:a}=s(85035),{ERR_INVALID_ARG_VALUE:v}=s(43600).codes;function g(u){return u?16:16384}X.exports={getHighWaterMark:function c(u,i,p,o){const l=function m(u,i,p){return null!=u.highWaterMark?u.highWaterMark:i?u[p]:null}(i,o,p);if(null!=l){if(!a(l)||l<0)throw new v(o?`options.${p}`:"options.highWaterMark",l);return h(l)}return g(u.objectMode)},getDefaultHighWaterMark:g}},12475:(X,d,s)=>{"use strict";const{ObjectSetPrototypeOf:h,Symbol:a}=s(85035);X.exports=u;const{ERR_METHOD_NOT_IMPLEMENTED:v}=s(43600).codes,m=s(91669),{getHighWaterMark:g}=s(28942);h(u.prototype,m.prototype),h(u,m);const c=a("kCallback");function u(o){if(!(this instanceof u))return new u(o);const l=o?g(this,o,"readableHighWaterMark",!0):null;0===l&&(o={...o,highWaterMark:null,readableHighWaterMark:l,writableHighWaterMark:o.writableHighWaterMark||0}),m.call(this,o),this._readableState.sync=!1,this[c]=null,o&&("function"==typeof o.transform&&(this._transform=o.transform),"function"==typeof o.flush&&(this._flush=o.flush)),this.on("prefinish",p)}function i(o){"function"!=typeof this._flush||this.destroyed?(this.push(null),o&&o()):this._flush((l,w)=>{l?o?o(l):this.destroy(l):(null!=w&&this.push(w),this.push(null),o&&o())})}function p(){this._final!==i&&i.call(this)}u.prototype._final=i,u.prototype._transform=function(o,l,w){throw new v("_transform()")},u.prototype._write=function(o,l,w){const E=this._readableState,b=this._writableState,A=E.length;this._transform(o,l,(C,_)=>{C?w(C):(null!=_&&this.push(_),b.ended||A===E.length||E.length<E.highWaterMark?w():this[c]=w)})},u.prototype._read=function(){if(this[c]){const o=this[c];this[c]=null,o()}}},48886:(X,d,s)=>{"use strict";const{Symbol:h,SymbolAsyncIterator:a,SymbolIterator:v,SymbolFor:m}=s(85035),g=h("kDestroyed"),c=h("kIsErrored"),u=h("kIsReadable"),i=h("kIsDisturbed"),p=m("nodejs.webstream.isClosedPromise"),o=m("nodejs.webstream.controllerErrorFunction");function l(S,I=!1){var G;return!(!S||"function"!=typeof S.pipe||"function"!=typeof S.on||I&&("function"!=typeof S.pause||"function"!=typeof S.resume)||S._writableState&&!1===(null===(G=S._readableState)||void 0===G?void 0:G.readable)||S._writableState&&!S._readableState)}function w(S){var I;return!(!S||"function"!=typeof S.write||"function"!=typeof S.on||S._readableState&&!1===(null===(I=S._writableState)||void 0===I?void 0:I.writable))}function b(S){return S&&(S._readableState||S._writableState||"function"==typeof S.write&&"function"==typeof S.on||"function"==typeof S.pipe&&"function"==typeof S.on)}function A(S){return!(!S||b(S)||"function"!=typeof S.pipeThrough||"function"!=typeof S.getReader||"function"!=typeof S.cancel)}function C(S){return!(!S||b(S)||"function"!=typeof S.getWriter||"function"!=typeof S.abort)}function _(S){return!(!S||b(S)||"object"!=typeof S.readable||"object"!=typeof S.writable)}function j(S){if(!b(S))return null;const K=S._writableState||S._readableState;return!!(S.destroyed||S[g]||null!=K&&K.destroyed)}function F(S){if(!w(S))return null;if(!0===S.writableEnded)return!0;const I=S._writableState;return(null==I||!I.errored)&&("boolean"!=typeof I?.ended?null:I.ended)}function ee(S,I){if(!l(S))return null;const G=S._readableState;return(null==G||!G.errored)&&("boolean"!=typeof G?.endEmitted?null:!!(G.endEmitted||!1===I&&!0===G.ended&&0===G.length))}function ie(S){return S&&null!=S[u]?S[u]:"boolean"!=typeof S?.readable?null:!j(S)&&l(S)&&S.readable&&!ee(S)}function x(S){return"boolean"!=typeof S?.writable?null:!j(S)&&w(S)&&S.writable&&!F(S)}function ce(S){return"boolean"==typeof S._closed&&"boolean"==typeof S._defaultKeepAlive&&"boolean"==typeof S._removedConnection&&"boolean"==typeof S._removedContLen}function M(S){return"boolean"==typeof S._sent100&&ce(S)}X.exports={kDestroyed:g,isDisturbed:function we(S){var I;return!(!S||!(null!==(I=S[i])&&void 0!==I?I:S.readableDidRead||S.readableAborted))},kIsDisturbed:i,isErrored:function je(S){var I,G,K,q,le,he,Ee,pe,De,Xe;return!(!S||!(null!==(I=null!==(G=null!==(K=null!==(q=null!==(le=null!==(he=S[c])&&void 0!==he?he:S.readableErrored)&&void 0!==le?le:S.writableErrored)&&void 0!==q?q:null===(Ee=S._readableState)||void 0===Ee?void 0:Ee.errorEmitted)&&void 0!==K?K:null===(pe=S._writableState)||void 0===pe?void 0:pe.errorEmitted)&&void 0!==G?G:null===(De=S._readableState)||void 0===De?void 0:De.errored)&&void 0!==I?I:null!==(Xe=S._writableState)&&void 0!==Xe&&Xe.errored))},kIsErrored:c,isReadable:ie,kIsReadable:u,kIsClosedPromise:p,kControllerErrorFunction:o,isClosed:function W(S){if(!b(S))return null;if("boolean"==typeof S.closed)return S.closed;const I=S._writableState,G=S._readableState;return"boolean"==typeof I?.closed||"boolean"==typeof G?.closed?I?.closed||G?.closed:"boolean"==typeof S._closed&&ce(S)?S._closed:null},isDestroyed:j,isDuplexNodeStream:function E(S){return!(!S||"function"!=typeof S.pipe||!S._readableState||"function"!=typeof S.on||"function"!=typeof S.write)},isFinished:function H(S,I){return b(S)?!!j(S)||!(!1!==I?.readable&&ie(S)||!1!==I?.writable&&x(S)):null},isIterable:function O(S,I){return null!=S&&(!0===I?"function"==typeof S[a]:!1===I?"function"==typeof S[v]:"function"==typeof S[a]||"function"==typeof S[v])},isReadableNodeStream:l,isReadableStream:A,isReadableEnded:function z(S){if(!l(S))return null;if(!0===S.readableEnded)return!0;const I=S._readableState;return!(!I||I.errored)&&("boolean"!=typeof I?.ended?null:I.ended)},isReadableFinished:ee,isReadableErrored:function J(S){var I,G;return b(S)?S.readableErrored?S.readableErrored:null!==(I=null===(G=S._readableState)||void 0===G?void 0:G.errored)&&void 0!==I?I:null:null},isNodeStream:b,isWebStream:function N(S){return A(S)||C(S)||_(S)},isWritable:x,isWritableNodeStream:w,isWritableStream:C,isWritableEnded:F,isWritableFinished:function T(S,I){if(!w(S))return null;if(!0===S.writableFinished)return!0;const G=S._writableState;return(null==G||!G.errored)&&("boolean"!=typeof G?.finished?null:!!(G.finished||!1===I&&!0===G.ended&&0===G.length))},isWritableErrored:function R(S){var I,G;return b(S)?S.writableErrored?S.writableErrored:null!==(I=null===(G=S._writableState)||void 0===G?void 0:G.errored)&&void 0!==I?I:null:null},isServerRequest:function Q(S){var I;return"boolean"==typeof S._consuming&&"boolean"==typeof S._dumped&&void 0===(null===(I=S.req)||void 0===I?void 0:I.upgradeOrConnect)},isServerResponse:M,willEmitClose:function de(S){if(!b(S))return null;const K=S._writableState||S._readableState;return!K&&M(S)||!!(K&&K.autoDestroy&&K.emitClose&&!1===K.closed)},isTransformStream:_}},37663:(X,d,s)=>{const h=s(40573),{ArrayPrototypeSlice:a,Error:v,FunctionPrototypeSymbolHasInstance:m,ObjectDefineProperty:g,ObjectDefineProperties:c,ObjectSetPrototypeOf:u,StringPrototypeToLowerCase:i,Symbol:p,SymbolHasInstance:o}=s(85035);X.exports=M,M.WritableState=W;const{EventEmitter:l}=s(44356),w=s(91356).Stream,{Buffer:E}=s(86166),b=s(13725),{addAbortSignal:A}=s(28664),{getHighWaterMark:C,getDefaultHighWaterMark:_}=s(28942),{ERR_INVALID_ARG_TYPE:N,ERR_METHOD_NOT_IMPLEMENTED:O,ERR_MULTIPLE_CALLBACK:j,ERR_STREAM_CANNOT_PIPE:F,ERR_STREAM_DESTROYED:T,ERR_STREAM_ALREADY_FINISHED:z,ERR_STREAM_NULL_VALUES:ee,ERR_STREAM_WRITE_AFTER_END:ie,ERR_UNKNOWN_ENCODING:x}=s(43600).codes,{errorOrDestroy:H}=b;function R(){}u(M.prototype,w.prototype),u(M,w);const J=p("kOnFinished");function W(me,ve,ge){"boolean"!=typeof ge&&(ge=ve instanceof s(91669)),this.objectMode=!(!me||!me.objectMode),ge&&(this.objectMode=this.objectMode||!(!me||!me.writableObjectMode)),this.highWaterMark=me?C(this,me,"writableHighWaterMark",ge):_(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(me&&!1===me.decodeStrings),this.defaultEncoding=me&&me.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=S.bind(void 0,ve),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ce(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!me||!1!==me.emitClose,this.autoDestroy=!me||!1!==me.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[J]=[]}function ce(me){me.buffered=[],me.bufferedIndex=0,me.allBuffers=!0,me.allNoop=!0}function M(me){const ve=this instanceof s(91669);if(!ve&&!m(M,this))return new M(me);this._writableState=new W(me,this,ve),me&&("function"==typeof me.write&&(this._write=me.write),"function"==typeof me.writev&&(this._writev=me.writev),"function"==typeof me.destroy&&(this._destroy=me.destroy),"function"==typeof me.final&&(this._final=me.final),"function"==typeof me.construct&&(this._construct=me.construct),me.signal&&A(me.signal,this)),w.call(this,me),b.construct(this,()=>{const ge=this._writableState;ge.writing||q(this,ge),pe(this,ge)})}function Q(me,ve,ge,Ae){const $e=me._writableState;if("function"==typeof ge)Ae=ge,ge=$e.defaultEncoding;else{if(ge){if("buffer"!==ge&&!E.isEncoding(ge))throw new x(ge)}else ge=$e.defaultEncoding;"function"!=typeof Ae&&(Ae=R)}if(null===ve)throw new ee;if(!$e.objectMode)if("string"==typeof ve)!1!==$e.decodeStrings&&(ve=E.from(ve,ge),ge="buffer");else if(ve instanceof E)ge="buffer";else{if(!w._isUint8Array(ve))throw new N("chunk",["string","Buffer","Uint8Array"],ve);ve=w._uint8ArrayToBuffer(ve),ge="buffer"}let xe;return $e.ending?xe=new ie:$e.destroyed&&(xe=new T("write")),xe?(h.nextTick(Ae,xe),H(me,xe,!0),xe):($e.pendingcb++,function de(me,ve,ge,Ae,$e){const xe=ve.objectMode?1:ge.length;ve.length+=xe;const Ne=ve.length<ve.highWaterMark;return Ne||(ve.needDrain=!0),ve.writing||ve.corked||ve.errored||!ve.constructed?(ve.buffered.push({chunk:ge,encoding:Ae,callback:$e}),ve.allBuffers&&"buffer"!==Ae&&(ve.allBuffers=!1),ve.allNoop&&$e!==R&&(ve.allNoop=!1)):(ve.writelen=xe,ve.writecb=$e,ve.writing=!0,ve.sync=!0,me._write(ge,Ae,ve.onwrite),ve.sync=!1),Ne&&!ve.errored&&!ve.destroyed}(me,$e,ve,ge,Ae))}function we(me,ve,ge,Ae,$e,xe,Ne){ve.writelen=Ae,ve.writecb=Ne,ve.writing=!0,ve.sync=!0,ve.destroyed?ve.onwrite(new T("write")):ge?me._writev($e,ve.onwrite):me._write($e,xe,ve.onwrite),ve.sync=!1}function je(me,ve,ge,Ae){--ve.pendingcb,Ae(ge),K(ve),H(me,ge)}function S(me,ve){const ge=me._writableState,Ae=ge.sync,$e=ge.writecb;"function"==typeof $e?(ge.writing=!1,ge.writecb=null,ge.length-=ge.writelen,ge.writelen=0,ve?(ge.errored||(ge.errored=ve),me._readableState&&!me._readableState.errored&&(me._readableState.errored=ve),Ae?h.nextTick(je,me,ge,ve,$e):je(me,ge,ve,$e)):(ge.buffered.length>ge.bufferedIndex&&q(me,ge),Ae?null!==ge.afterWriteTickInfo&&ge.afterWriteTickInfo.cb===$e?ge.afterWriteTickInfo.count++:(ge.afterWriteTickInfo={count:1,cb:$e,stream:me,state:ge},h.nextTick(I,ge.afterWriteTickInfo)):G(me,ge,1,$e))):H(me,new j)}function I({stream:me,state:ve,count:ge,cb:Ae}){return ve.afterWriteTickInfo=null,G(me,ve,ge,Ae)}function G(me,ve,ge,Ae){for(!ve.ending&&!me.destroyed&&0===ve.length&&ve.needDrain&&(ve.needDrain=!1,me.emit("drain"));ge-- >0;)ve.pendingcb--,Ae();ve.destroyed&&K(ve),pe(me,ve)}function K(me){if(me.writing)return;for(let $e=me.bufferedIndex;$e<me.buffered.length;++$e){var ve;const{chunk:xe,callback:Ne}=me.buffered[$e];me.length-=me.objectMode?1:xe.length,Ne(null!==(ve=me.errored)&&void 0!==ve?ve:new T("write"))}const ge=me[J].splice(0);for(let $e=0;$e<ge.length;$e++){var Ae;ge[$e](null!==(Ae=me.errored)&&void 0!==Ae?Ae:new T("end"))}ce(me)}function q(me,ve){if(ve.corked||ve.bufferProcessing||ve.destroyed||!ve.constructed)return;const{buffered:ge,bufferedIndex:Ae,objectMode:$e}=ve,xe=ge.length-Ae;if(!xe)return;let Ne=Ae;if(ve.bufferProcessing=!0,xe>1&&me._writev){ve.pendingcb-=xe-1;const Le=ve.allNoop?R:qe=>{for(let Je=Ne;Je<ge.length;++Je)ge[Je].callback(qe)},Ue=ve.allNoop&&0===Ne?ge:a(ge,Ne);Ue.allBuffers=ve.allBuffers,we(me,ve,!0,ve.length,Ue,"",Le),ce(ve)}else{do{const{chunk:Le,encoding:Ue,callback:qe}=ge[Ne];ge[Ne++]=null,we(me,ve,!1,$e?1:Le.length,Le,Ue,qe)}while(Ne<ge.length&&!ve.writing);Ne===ge.length?ce(ve):Ne>256?(ge.splice(0,Ne),ve.bufferedIndex=0):ve.bufferedIndex=Ne}ve.bufferProcessing=!1}function le(me){return me.ending&&!me.destroyed&&me.constructed&&0===me.length&&!me.errored&&0===me.buffered.length&&!me.finished&&!me.writing&&!me.errorEmitted&&!me.closeEmitted}function pe(me,ve,ge){le(ve)&&(function Ee(me,ve){!ve.prefinished&&!ve.finalCalled&&("function"!=typeof me._final||ve.destroyed?(ve.prefinished=!0,me.emit("prefinish")):(ve.finalCalled=!0,function he(me,ve){let ge=!1;function Ae($e){if(ge)H(me,$e??j());else if(ge=!0,ve.pendingcb--,$e){const xe=ve[J].splice(0);for(let Ne=0;Ne<xe.length;Ne++)xe[Ne]($e);H(me,$e,ve.sync)}else le(ve)&&(ve.prefinished=!0,me.emit("prefinish"),ve.pendingcb++,h.nextTick(De,me,ve))}ve.sync=!0,ve.pendingcb++;try{me._final(Ae)}catch($e){Ae($e)}ve.sync=!1}(me,ve)))}(me,ve),0===ve.pendingcb&&(ge?(ve.pendingcb++,h.nextTick((Ae,$e)=>{le($e)?De(Ae,$e):$e.pendingcb--},me,ve)):le(ve)&&(ve.pendingcb++,De(me,ve))))}function De(me,ve){ve.pendingcb--,ve.finished=!0;const ge=ve[J].splice(0);for(let Ae=0;Ae<ge.length;Ae++)ge[Ae]();if(me.emit("finish"),ve.autoDestroy){const Ae=me._readableState;(!Ae||Ae.autoDestroy&&(Ae.endEmitted||!1===Ae.readable))&&me.destroy()}}W.prototype.getBuffer=function(){return a(this.buffered,this.bufferedIndex)},g(W.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),g(M,o,{__proto__:null,value:function(me){return!!m(this,me)||this===M&&me&&me._writableState instanceof W}}),M.prototype.pipe=function(){H(this,new F)},M.prototype.write=function(me,ve,ge){return!0===Q(this,me,ve,ge)},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){const me=this._writableState;me.corked&&(me.corked--,me.writing||q(this,me))},M.prototype.setDefaultEncoding=function(ve){if("string"==typeof ve&&(ve=i(ve)),!E.isEncoding(ve))throw new x(ve);return this._writableState.defaultEncoding=ve,this},M.prototype._write=function(me,ve,ge){if(!this._writev)throw new O("_write()");this._writev([{chunk:me,encoding:ve}],ge)},M.prototype._writev=null,M.prototype.end=function(me,ve,ge){const Ae=this._writableState;let $e;if("function"==typeof me?(ge=me,me=null,ve=null):"function"==typeof ve&&(ge=ve,ve=null),null!=me){const xe=Q(this,me,ve);xe instanceof v&&($e=xe)}return Ae.corked&&(Ae.corked=1,this.uncork()),$e||(Ae.errored||Ae.ending?Ae.finished?$e=new z("end"):Ae.destroyed&&($e=new T("end")):(Ae.ending=!0,pe(this,Ae,!0),Ae.ended=!0)),"function"==typeof ge&&($e||Ae.finished?h.nextTick(ge,$e):Ae[J].push(ge)),this},c(M.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(me){this._writableState&&(this._writableState.destroyed=me)}},writable:{__proto__:null,get(){const me=this._writableState;return!(!me||!1===me.writable||me.destroyed||me.errored||me.ending||me.ended)},set(me){this._writableState&&(this._writableState.writable=!!me)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const me=this._writableState;return!!me&&!me.destroyed&&!me.ending&&me.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Xe=b.destroy;let Pe;function Fe(){return void 0===Pe&&(Pe={}),Pe}M.prototype.destroy=function(me,ve){const ge=this._writableState;return!ge.destroyed&&(ge.bufferedIndex<ge.buffered.length||ge[J].length)&&h.nextTick(K,ge),Xe.call(this,me,ve),this},M.prototype._undestroy=b.undestroy,M.prototype._destroy=function(me,ve){ve(me)},M.prototype[l.captureRejectionSymbol]=function(me){this.destroy(me)},M.fromWeb=function(me,ve){return Fe().newStreamWritableFromWritableStream(me,ve)},M.toWeb=function(me){return Fe().newWritableStreamFromStreamWritable(me)}},63918:(X,d,s)=>{"use strict";const{ArrayIsArray:h,ArrayPrototypeIncludes:a,ArrayPrototypeJoin:v,ArrayPrototypeMap:m,NumberIsInteger:g,NumberIsNaN:c,NumberMAX_SAFE_INTEGER:u,NumberMIN_SAFE_INTEGER:i,NumberParseInt:p,ObjectPrototypeHasOwnProperty:o,RegExpPrototypeExec:l,String:w,StringPrototypeToUpperCase:E,StringPrototypeTrim:b}=s(85035),{hideStackFrames:A,codes:{ERR_SOCKET_BAD_PORT:C,ERR_INVALID_ARG_TYPE:_,ERR_INVALID_ARG_VALUE:N,ERR_OUT_OF_RANGE:O,ERR_UNKNOWN_SIGNAL:j}}=s(43600),{normalizeEncoding:F}=s(31895),{isAsyncFunction:T,isArrayBufferView:z}=s(31895).types,ee={},H=/^[0-7]+$/,W=A((xe,Ne,Le=i,Ue=u)=>{if("number"!=typeof xe)throw new _(Ne,"number",xe);if(!g(xe))throw new O(Ne,"an integer",xe);if(xe<Le||xe>Ue)throw new O(Ne,`>= ${Le} && <= ${Ue}`,xe)}),ce=A((xe,Ne,Le=-2147483648,Ue=2147483647)=>{if("number"!=typeof xe)throw new _(Ne,"number",xe);if(!g(xe))throw new O(Ne,"an integer",xe);if(xe<Le||xe>Ue)throw new O(Ne,`>= ${Le} && <= ${Ue}`,xe)}),M=A((xe,Ne,Le=!1)=>{if("number"!=typeof xe)throw new _(Ne,"number",xe);if(!g(xe))throw new O(Ne,"an integer",xe);const Ue=Le?1:0,qe=4294967295;if(xe<Ue||xe>qe)throw new O(Ne,`>= ${Ue} && <= ${qe}`,xe)});function Q(xe,Ne){if("string"!=typeof xe)throw new _(Ne,"string",xe)}const we=A((xe,Ne,Le)=>{if(!a(Le,xe)){const qe="must be one of: "+v(m(Le,Je=>"string"==typeof Je?`'${Je}'`:w(Je)),", ");throw new N(Ne,xe,qe)}});function je(xe,Ne){if("boolean"!=typeof xe)throw new _(Ne,"boolean",xe)}function S(xe,Ne,Le){return null!=xe&&o(xe,Ne)?xe[Ne]:Le}const I=A((xe,Ne,Le=null)=>{const Ue=S(Le,"allowArray",!1),qe=S(Le,"allowFunction",!1);if(!S(Le,"nullable",!1)&&null===xe||!Ue&&h(xe)||"object"!=typeof xe&&(!qe||"function"!=typeof xe))throw new _(Ne,"Object",xe)}),G=A((xe,Ne)=>{if(null!=xe&&"object"!=typeof xe&&"function"!=typeof xe)throw new _(Ne,"a dictionary",xe)}),K=A((xe,Ne,Le=0)=>{if(!h(xe))throw new _(Ne,"Array",xe);if(xe.length<Le)throw new N(Ne,xe,`must be longer than ${Le}`)}),Ee=A((xe,Ne="buffer")=>{if(!z(xe))throw new _(Ne,["Buffer","TypedArray","DataView"],xe)}),Xe=A((xe,Ne)=>{if(void 0!==xe&&(null===xe||"object"!=typeof xe||!("aborted"in xe)))throw new _(Ne,"AbortSignal",xe)}),Pe=A((xe,Ne)=>{if("function"!=typeof xe)throw new _(Ne,"Function",xe)}),Fe=A((xe,Ne)=>{if("function"!=typeof xe||T(xe))throw new _(Ne,"Function",xe)}),me=A((xe,Ne)=>{if(void 0!==xe)throw new _(Ne,"undefined",xe)}),ge=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Ae(xe,Ne){if(typeof xe>"u"||!l(ge,xe))throw new N(Ne,xe,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}X.exports={isInt32:function ie(xe){return xe===(0|xe)},isUint32:function x(xe){return xe===xe>>>0},parseFileMode:function J(xe,Ne,Le){if(typeof xe>"u"&&(xe=Le),"string"==typeof xe){if(null===l(H,xe))throw new N(Ne,xe,"must be a 32-bit unsigned integer or an octal string");xe=p(xe,8)}return M(xe,Ne),xe},validateArray:K,validateStringArray:function q(xe,Ne){K(xe,Ne);for(let Le=0;Le<xe.length;Le++)Q(xe[Le],`${Ne}[${Le}]`)},validateBooleanArray:function le(xe,Ne){K(xe,Ne);for(let Le=0;Le<xe.length;Le++)je(xe[Le],`${Ne}[${Le}]`)},validateBoolean:je,validateBuffer:Ee,validateDictionary:G,validateEncoding:function pe(xe,Ne){const Le=F(Ne),Ue=xe.length;if("hex"===Le&&Ue%2!=0)throw new N("encoding",Ne,`is invalid for data of length ${Ue}`)},validateFunction:Pe,validateInt32:ce,validateInteger:W,validateNumber:function de(xe,Ne,Le=void 0,Ue){if("number"!=typeof xe)throw new _(Ne,"number",xe);if(null!=Le&&xe<Le||null!=Ue&&xe>Ue||(null!=Le||null!=Ue)&&c(xe))throw new O(Ne,`${null!=Le?`>= ${Le}`:""}${null!=Le&&null!=Ue?" && ":""}${null!=Ue?`<= ${Ue}`:""}`,xe)},validateObject:I,validateOneOf:we,validatePlainFunction:Fe,validatePort:function De(xe,Ne="Port",Le=!0){if("number"!=typeof xe&&"string"!=typeof xe||"string"==typeof xe&&0===b(xe).length||+xe!=+xe>>>0||xe>65535||0===xe&&!Le)throw new C(Ne,xe,Le);return 0|xe},validateSignalName:function he(xe,Ne="signal"){if(Q(xe,Ne),void 0===ee[xe])throw void 0!==ee[E(xe)]?new j(xe+" (signals must use all capital letters)"):new j(xe)},validateString:Q,validateUint32:M,validateUndefined:me,validateUnion:function ve(xe,Ne,Le){if(!a(Le,xe))throw new _(Ne,`('${v(Le,"|")}')`,xe)},validateAbortSignal:Xe,validateLinkHeaderValue:function $e(xe){if("string"==typeof xe)return Ae(xe,"hints"),xe;if(h(xe)){const Ne=xe.length;let Le="";if(0===Ne)return Le;for(let Ue=0;Ue<Ne;Ue++){const qe=xe[Ue];Ae(qe,"hints"),Le+=qe,Ue!==Ne-1&&(Le+=", ")}return Le}throw new N("hints",xe,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},57963:(X,d,s)=>{"use strict";const h=s(71995),a=s(86124),v=h.Readable.destroy;X.exports=h.Readable,X.exports._uint8ArrayToBuffer=h._uint8ArrayToBuffer,X.exports._isUint8Array=h._isUint8Array,X.exports.isDisturbed=h.isDisturbed,X.exports.isErrored=h.isErrored,X.exports.isReadable=h.isReadable,X.exports.Readable=h.Readable,X.exports.Writable=h.Writable,X.exports.Duplex=h.Duplex,X.exports.Transform=h.Transform,X.exports.PassThrough=h.PassThrough,X.exports.addAbortSignal=h.addAbortSignal,X.exports.finished=h.finished,X.exports.destroy=h.destroy,X.exports.destroy=v,X.exports.pipeline=h.pipeline,X.exports.compose=h.compose,Object.defineProperty(h,"promises",{configurable:!0,enumerable:!0,get:()=>a}),X.exports.Stream=h.Stream,X.exports.default=X.exports},43600:(X,d,s)=>{"use strict";const{format:h,inspect:a,AggregateError:v}=s(31895),m=globalThis.AggregateError||v,g=Symbol("kIsNodeError"),c=["string","function","number","object","Function","Object","boolean","bigint","symbol"],u=/^([A-Z][a-z0-9]*)+$/,p={};function o(_,N){if(!_)throw new p.ERR_INTERNAL_ASSERTION(N)}function l(_){let N="",O=_.length;const j="-"===_[0]?1:0;for(;O>=j+4;O-=3)N=`_${_.slice(O-3,O)}${N}`;return`${_.slice(0,O)}${N}`}function E(_,N,O){O||(O=Error);class j extends O{constructor(...T){super(function w(_,N,O){if("function"==typeof N)return o(N.length<=O.length,`Code: ${_}; The provided arguments length (${O.length}) does not match the required ones (${N.length}).`),N(...O);const j=(N.match(/%[dfijoOs]/g)||[]).length;return o(j===O.length,`Code: ${_}; The provided arguments length (${O.length}) does not match the required ones (${j}).`),0===O.length?N:h(N,...O)}(_,N,T))}toString(){return`${this.name} [${_}]: ${this.message}`}}Object.defineProperties(j.prototype,{name:{value:O.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${_}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),j.prototype.code=_,j.prototype[g]=!0,p[_]=j}function b(_){return Object.defineProperty(_,"name",{value:"__node_internal_"+_.name}),_}class C extends Error{constructor(N="The operation was aborted",O=void 0){if(void 0!==O&&"object"!=typeof O)throw new p.ERR_INVALID_ARG_TYPE("options","Object",O);super(N,O),this.code="ABORT_ERR",this.name="AbortError"}}E("ERR_ASSERTION","%s",Error),E("ERR_INVALID_ARG_TYPE",(_,N,O)=>{o("string"==typeof _,"'name' must be a string"),Array.isArray(N)||(N=[N]);let j="The ";_.endsWith(" argument")?j+=`${_} `:j+=`"${_}" ${_.includes(".")?"property":"argument"} `,j+="must be ";const F=[],T=[],z=[];for(const ie of N)o("string"==typeof ie,"All expected entries have to be of type string"),c.includes(ie)?F.push(ie.toLowerCase()):u.test(ie)?T.push(ie):(o("object"!==ie,'The value "object" should be written as "Object"'),z.push(ie));if(T.length>0){const ie=F.indexOf("object");-1!==ie&&(F.splice(F,ie,1),T.push("Object"))}if(F.length>0){switch(F.length){case 1:j+=`of type ${F[0]}`;break;case 2:j+=`one of type ${F[0]} or ${F[1]}`;break;default:{const ie=F.pop();j+=`one of type ${F.join(", ")}, or ${ie}`}}(T.length>0||z.length>0)&&(j+=" or ")}if(T.length>0){switch(T.length){case 1:j+=`an instance of ${T[0]}`;break;case 2:j+=`an instance of ${T[0]} or ${T[1]}`;break;default:{const ie=T.pop();j+=`an instance of ${T.join(", ")}, or ${ie}`}}z.length>0&&(j+=" or ")}switch(z.length){case 0:break;case 1:z[0].toLowerCase()!==z[0]&&(j+="an "),j+=`${z[0]}`;break;case 2:j+=`one of ${z[0]} or ${z[1]}`;break;default:{const ie=z.pop();j+=`one of ${z.join(", ")}, or ${ie}`}}if(null==O)j+=`. Received ${O}`;else if("function"==typeof O&&O.name)j+=`. Received function ${O.name}`;else if("object"==typeof O){var ee;null!==(ee=O.constructor)&&void 0!==ee&&ee.name?j+=`. Received an instance of ${O.constructor.name}`:j+=`. Received ${a(O,{depth:-1})}`}else{let ie=a(O,{colors:!1});ie.length>25&&(ie=`${ie.slice(0,25)}...`),j+=`. Received type ${typeof O} (${ie})`}return j},TypeError),E("ERR_INVALID_ARG_VALUE",(_,N,O="is invalid")=>{let j=a(N);return j.length>128&&(j=j.slice(0,128)+"..."),`The ${_.includes(".")?"property":"argument"} '${_}' ${O}. Received ${j}`},TypeError),E("ERR_INVALID_RETURN_VALUE",(_,N,O)=>{var j;return`Expected ${_} to be returned from the "${N}" function but got ${null!=O&&null!==(j=O.constructor)&&void 0!==j&&j.name?`instance of ${O.constructor.name}`:"type "+typeof O}.`},TypeError),E("ERR_MISSING_ARGS",(..._)=>{let N;o(_.length>0,"At least one arg needs to be specified");const O=_.length;switch(_=(Array.isArray(_)?_:[_]).map(j=>`"${j}"`).join(" or "),O){case 1:N+=`The ${_[0]} argument`;break;case 2:N+=`The ${_[0]} and ${_[1]} arguments`;break;default:{const j=_.pop();N+=`The ${_.join(", ")}, and ${j} arguments`}}return`${N} must be specified`},TypeError),E("ERR_OUT_OF_RANGE",(_,N,O)=>{let j;return o(N,'Missing "range" argument'),Number.isInteger(O)&&Math.abs(O)>2**32?j=l(String(O)):"bigint"==typeof O?(j=String(O),(O>2n**32n||O<-(2n**32n))&&(j=l(j)),j+="n"):j=a(O),`The value of "${_}" is out of range. It must be ${N}. Received ${j}`},RangeError),E("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),E("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),E("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),E("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),E("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),E("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),E("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),E("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),E("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),E("ERR_STREAM_WRITE_AFTER_END","write after end",Error),E("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),X.exports={AbortError:C,aggregateTwoErrors:b(function A(_,N){if(_&&N&&_!==N){if(Array.isArray(N.errors))return N.errors.push(_),N;const O=new m([N,_],N.message);return O.code=N.code,O}return _||N}),hideStackFrames:b,codes:p}},85035:X=>{"use strict";X.exports={ArrayIsArray:d=>Array.isArray(d),ArrayPrototypeIncludes:(d,s)=>d.includes(s),ArrayPrototypeIndexOf:(d,s)=>d.indexOf(s),ArrayPrototypeJoin:(d,s)=>d.join(s),ArrayPrototypeMap:(d,s)=>d.map(s),ArrayPrototypePop:(d,s)=>d.pop(s),ArrayPrototypePush:(d,s)=>d.push(s),ArrayPrototypeSlice:(d,s,h)=>d.slice(s,h),Error,FunctionPrototypeCall:(d,s,...h)=>d.call(s,...h),FunctionPrototypeSymbolHasInstance:(d,s)=>Function.prototype[Symbol.hasInstance].call(d,s),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(d,s)=>Object.defineProperties(d,s),ObjectDefineProperty:(d,s,h)=>Object.defineProperty(d,s,h),ObjectGetOwnPropertyDescriptor:(d,s)=>Object.getOwnPropertyDescriptor(d,s),ObjectKeys:d=>Object.keys(d),ObjectSetPrototypeOf:(d,s)=>Object.setPrototypeOf(d,s),Promise,PromisePrototypeCatch:(d,s)=>d.catch(s),PromisePrototypeThen:(d,s,h)=>d.then(s,h),PromiseReject:d=>Promise.reject(d),ReflectApply:Reflect.apply,RegExpPrototypeTest:(d,s)=>d.test(s),SafeSet:Set,String,StringPrototypeSlice:(d,s,h)=>d.slice(s,h),StringPrototypeToLowerCase:d=>d.toLowerCase(),StringPrototypeToUpperCase:d=>d.toUpperCase(),StringPrototypeTrim:d=>d.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(d,s,h)=>d.set(s,h),Uint8Array}},31895:(X,d,s)=>{"use strict";var h=s(29293).default;const a=s(86166),v=Object.getPrototypeOf(h(function*(){})).constructor,m=globalThis.Blob||a.Blob,g=typeof m<"u"?function(i){return i instanceof m}:function(i){return!1};class c extends Error{constructor(i){if(!Array.isArray(i))throw new TypeError("Expected input to be an Array, got "+typeof i);let p="";for(let o=0;o<i.length;o++)p+=`    ${i[o].stack}\n`;super(p),this.name="AggregateError",this.errors=i}}X.exports={AggregateError:c,kEmptyObject:Object.freeze({}),once(u){let i=!1;return function(...p){i||(i=!0,u.apply(this,p))}},createDeferredPromise:function(){let u,i;return{promise:new Promise((o,l)=>{u=o,i=l}),resolve:u,reject:i}},promisify:u=>new Promise((i,p)=>{u((o,...l)=>o?p(o):i(...l))}),debuglog:()=>function(){},format:(u,...i)=>u.replace(/%([sdifj])/g,function(...[p,o]){const l=i.shift();return"f"===o?l.toFixed(6):"j"===o?JSON.stringify(l):"s"===o&&"object"==typeof l?`${l.constructor!==Object?l.constructor.name:""} {}`.trim():l.toString()}),inspect(u){switch(typeof u){case"string":if(u.includes("'")){if(!u.includes('"'))return`"${u}"`;if(!u.includes("`")&&!u.includes("${"))return`\`${u}\``}return`'${u}'`;case"number":return isNaN(u)?"NaN":Object.is(u,-0)?String(u):u;case"bigint":return`${String(u)}n`;case"boolean":case"undefined":return String(u);case"object":return"{}"}},types:{isAsyncFunction:u=>u instanceof v,isArrayBufferView:u=>ArrayBuffer.isView(u)},isBlob:g},X.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},71995:(X,d,s)=>{const{Buffer:h}=s(86166),{ObjectDefineProperty:a,ObjectKeys:v,ReflectApply:m}=s(85035),{promisify:{custom:g}}=s(31895),{streamReturningOperators:c,promiseReturningOperators:u}=s(71234),{codes:{ERR_ILLEGAL_CONSTRUCTOR:i}}=s(43600),p=s(83763),{pipeline:o}=s(62305),{destroyer:l}=s(13725),w=s(37595),b=s(86124),A=s(48886),C=X.exports=s(91356).Stream;C.isDisturbed=A.isDisturbed,C.isErrored=A.isErrored,C.isReadable=A.isReadable,C.Readable=s(96155);for(const O of v(c)){let F=function(...T){if(new.target)throw i();return C.Readable.from(m(j,this,T))};const j=c[O];a(F,"name",{__proto__:null,value:j.name}),a(F,"length",{__proto__:null,value:j.length}),a(C.Readable.prototype,O,{__proto__:null,value:F,enumerable:!1,configurable:!0,writable:!0})}for(const O of v(u)){let F=function(...z){if(new.target)throw i();return m(j,this,z)};const j=u[O];a(F,"name",{__proto__:null,value:j.name}),a(F,"length",{__proto__:null,value:j.length}),a(C.Readable.prototype,O,{__proto__:null,value:F,enumerable:!1,configurable:!0,writable:!0})}C.Writable=s(37663),C.Duplex=s(91669),C.Transform=s(12475),C.PassThrough=s(6513),C.pipeline=o;const{addAbortSignal:_}=s(28664);C.addAbortSignal=_,C.finished=w,C.destroy=l,C.compose=p,a(C,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>b}),a(o,g,{__proto__:null,enumerable:!0,get:()=>b.pipeline}),a(w,g,{__proto__:null,enumerable:!0,get:()=>b.finished}),C.Stream=C,C._isUint8Array=function(j){return j instanceof Uint8Array},C._uint8ArrayToBuffer=function(j){return h.from(j.buffer,j.byteOffset,j.byteLength)}},86124:(X,d,s)=>{"use strict";const{ArrayPrototypePop:h,Promise:a}=s(85035),{isIterable:v,isNodeStream:m,isWebStream:g}=s(48886),{pipelineImpl:c}=s(62305),{finished:u}=s(37595);s(71995),X.exports={finished:u,pipeline:function i(...p){return new a((o,l)=>{let w,E;const b=p[p.length-1];if(b&&"object"==typeof b&&!m(b)&&!v(b)&&!g(b)){const A=h(p);w=A.signal,E=A.end}c(p,(A,C)=>{A?l(A):o(C)},{signal:w,end:E})})}}},39208:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.MissingRefError=d.ValidationError=d.CodeGen=d.Name=d.nil=d.stringify=d.str=d._=d.KeywordCxt=d.Ajv=void 0;const h=s(2113),a=s(70457),v=s(78058),m=s(72079),g=["/properties"],c="http://json-schema.org/draft-07/schema";class u extends h.default{_addVocabularies(){super._addVocabularies(),a.default.forEach(E=>this.addVocabulary(E)),this.opts.discriminator&&this.addKeyword(v.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const E=this.opts.$data?this.$dataMetaSchema(m,g):m;this.addMetaSchema(E,c,!1),this.refs["http://json-schema.org/schema"]=c}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:void 0)}}d.Ajv=u,X.exports=d=u,X.exports.Ajv=u,Object.defineProperty(d,"__esModule",{value:!0}),d.default=u;var i=s(87157);Object.defineProperty(d,"KeywordCxt",{enumerable:!0,get:function(){return i.KeywordCxt}});var p=s(85432);Object.defineProperty(d,"_",{enumerable:!0,get:function(){return p._}}),Object.defineProperty(d,"str",{enumerable:!0,get:function(){return p.str}}),Object.defineProperty(d,"stringify",{enumerable:!0,get:function(){return p.stringify}}),Object.defineProperty(d,"nil",{enumerable:!0,get:function(){return p.nil}}),Object.defineProperty(d,"Name",{enumerable:!0,get:function(){return p.Name}}),Object.defineProperty(d,"CodeGen",{enumerable:!0,get:function(){return p.CodeGen}});var o=s(9857);Object.defineProperty(d,"ValidationError",{enumerable:!0,get:function(){return o.default}});var l=s(66606);Object.defineProperty(d,"MissingRefError",{enumerable:!0,get:function(){return l.default}})},43467:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.regexpCode=d.getEsmExportName=d.getProperty=d.safeStringify=d.stringify=d.strConcat=d.addCodeArg=d.str=d._=d.nil=d._Code=d.Name=d.IDENTIFIER=d._CodeOrName=void 0;class s{}d._CodeOrName=s,d.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class h extends s{constructor(_){if(super(),!d.IDENTIFIER.test(_))throw new Error("CodeGen: name must be a valid identifier");this.str=_}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}d.Name=h;class a extends s{constructor(_){super(),this._items="string"==typeof _?[_]:_}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const _=this._items[0];return""===_||'""'===_}get str(){var _;return null!==(_=this._str)&&void 0!==_?_:this._str=this._items.reduce((N,O)=>`${N}${O}`,"")}get names(){var _;return null!==(_=this._names)&&void 0!==_?_:this._names=this._items.reduce((N,O)=>(O instanceof h&&(N[O.str]=(N[O.str]||0)+1),N),{})}}function v(C,..._){const N=[C[0]];let O=0;for(;O<_.length;)c(N,_[O]),N.push(C[++O]);return new a(N)}d._Code=a,d.nil=new a(""),d._=v;const m=new a("+");function g(C,..._){const N=[w(C[0])];let O=0;for(;O<_.length;)N.push(m),c(N,_[O]),N.push(m,w(C[++O]));return function u(C){let _=1;for(;_<C.length-1;){if(C[_]===m){const N=i(C[_-1],C[_+1]);if(void 0!==N){C.splice(_-1,3,N);continue}C[_++]="+"}_++}}(N),new a(N)}function c(C,_){_ instanceof a?C.push(..._._items):C.push(_ instanceof h?_:function o(C){return"number"==typeof C||"boolean"==typeof C||null===C?C:w(Array.isArray(C)?C.join(","):C)}(_))}function i(C,_){return'""'===_?C:'""'===C?_:"string"==typeof C?_ instanceof h||'"'!==C[C.length-1]?void 0:"string"!=typeof _?`${C.slice(0,-1)}${_}"`:'"'===_[0]?C.slice(0,-1)+_.slice(1):void 0:"string"!=typeof _||'"'!==_[0]||C instanceof h?void 0:`"${C}${_.slice(1)}`}function w(C){return JSON.stringify(C).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}d.str=g,d.addCodeArg=c,d.strConcat=function p(C,_){return _.emptyStr()?C:C.emptyStr()?_:g`${C}${_}`},d.stringify=function l(C){return new a(w(C))},d.safeStringify=w,d.getProperty=function E(C){return"string"==typeof C&&d.IDENTIFIER.test(C)?new a(`.${C}`):v`[${C}]`},d.getEsmExportName=function b(C){if("string"==typeof C&&d.IDENTIFIER.test(C))return new a(`${C}`);throw new Error(`CodeGen: invalid export name: ${C}, use explicit $id name mapping`)},d.regexpCode=function A(C){return new a(C.toString())}},85432:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.or=d.and=d.not=d.CodeGen=d.operators=d.varKinds=d.ValueScopeName=d.ValueScope=d.Scope=d.Name=d.regexpCode=d.stringify=d.getProperty=d.nil=d.strConcat=d.str=d._=void 0;const h=s(43467),a=s(60240);var v=s(43467);Object.defineProperty(d,"_",{enumerable:!0,get:function(){return v._}}),Object.defineProperty(d,"str",{enumerable:!0,get:function(){return v.str}}),Object.defineProperty(d,"strConcat",{enumerable:!0,get:function(){return v.strConcat}}),Object.defineProperty(d,"nil",{enumerable:!0,get:function(){return v.nil}}),Object.defineProperty(d,"getProperty",{enumerable:!0,get:function(){return v.getProperty}}),Object.defineProperty(d,"stringify",{enumerable:!0,get:function(){return v.stringify}}),Object.defineProperty(d,"regexpCode",{enumerable:!0,get:function(){return v.regexpCode}}),Object.defineProperty(d,"Name",{enumerable:!0,get:function(){return v.Name}});var m=s(60240);Object.defineProperty(d,"Scope",{enumerable:!0,get:function(){return m.Scope}}),Object.defineProperty(d,"ValueScope",{enumerable:!0,get:function(){return m.ValueScope}}),Object.defineProperty(d,"ValueScopeName",{enumerable:!0,get:function(){return m.ValueScopeName}}),Object.defineProperty(d,"varKinds",{enumerable:!0,get:function(){return m.varKinds}}),d.operators={GT:new h._Code(">"),GTE:new h._Code(">="),LT:new h._Code("<"),LTE:new h._Code("<="),EQ:new h._Code("==="),NEQ:new h._Code("!=="),NOT:new h._Code("!"),OR:new h._Code("||"),AND:new h._Code("&&"),ADD:new h._Code("+")};class g{optimizeNodes(){return this}optimizeNames(K,q){return this}}class c extends g{constructor(K,q,le){super(),this.varKind=K,this.name=q,this.rhs=le}render({es5:K,_n:q}){return`${K?a.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+q}optimizeNames(K,q){if(K[this.name.str])return this.rhs&&(this.rhs=W(this.rhs,K,q)),this}get names(){return this.rhs instanceof h._CodeOrName?this.rhs.names:{}}}class u extends g{constructor(K,q,le){super(),this.lhs=K,this.rhs=q,this.sideEffects=le}render({_n:K}){return`${this.lhs} = ${this.rhs};`+K}optimizeNames(K,q){if(!(this.lhs instanceof h.Name)||K[this.lhs.str]||this.sideEffects)return this.rhs=W(this.rhs,K,q),this}get names(){return J(this.lhs instanceof h.Name?{}:{...this.lhs.names},this.rhs)}}class i extends u{constructor(K,q,le,he){super(K,le,he),this.op=q}render({_n:K}){return`${this.lhs} ${this.op}= ${this.rhs};`+K}}class p extends g{constructor(K){super(),this.label=K,this.names={}}render({_n:K}){return`${this.label}:`+K}}class o extends g{constructor(K){super(),this.label=K,this.names={}}render({_n:K}){return`break${this.label?` ${this.label}`:""};`+K}}class l extends g{constructor(K){super(),this.error=K}render({_n:K}){return`throw ${this.error};`+K}get names(){return this.error.names}}class w extends g{constructor(K){super(),this.code=K}render({_n:K}){return`${this.code};`+K}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(K,q){return this.code=W(this.code,K,q),this}get names(){return this.code instanceof h._CodeOrName?this.code.names:{}}}class E extends g{constructor(K=[]){super(),this.nodes=K}render(K){return this.nodes.reduce((q,le)=>q+le.render(K),"")}optimizeNodes(){const{nodes:K}=this;let q=K.length;for(;q--;){const le=K[q].optimizeNodes();Array.isArray(le)?K.splice(q,1,...le):le?K[q]=le:K.splice(q,1)}return K.length>0?this:void 0}optimizeNames(K,q){const{nodes:le}=this;let he=le.length;for(;he--;){const Ee=le[he];Ee.optimizeNames(K,q)||(ce(K,Ee.names),le.splice(he,1))}return le.length>0?this:void 0}get names(){return this.nodes.reduce((K,q)=>R(K,q.names),{})}}class b extends E{render(K){return"{"+K._n+super.render(K)+"}"+K._n}}class A extends E{}let C=(()=>{class G extends b{}return G.kind="else",G})(),_=(()=>{class G extends b{constructor(q,le){super(le),this.condition=q}render(q){let le=`if(${this.condition})`+super.render(q);return this.else&&(le+="else "+this.else.render(q)),le}optimizeNodes(){super.optimizeNodes();const q=this.condition;if(!0===q)return this.nodes;let le=this.else;if(le){const he=le.optimizeNodes();le=this.else=Array.isArray(he)?new C(he):he}return le?!1===q?le instanceof G?le:le.nodes:this.nodes.length?this:new G(M(q),le instanceof G?[le]:le.nodes):!1!==q&&this.nodes.length?this:void 0}optimizeNames(q,le){var he;if(this.else=null===(he=this.else)||void 0===he?void 0:he.optimizeNames(q,le),super.optimizeNames(q,le)||this.else)return this.condition=W(this.condition,q,le),this}get names(){const q=super.names;return J(q,this.condition),this.else&&R(q,this.else.names),q}}return G.kind="if",G})(),N=(()=>{class G extends b{}return G.kind="for",G})();class O extends N{constructor(K){super(),this.iteration=K}render(K){return`for(${this.iteration})`+super.render(K)}optimizeNames(K,q){if(super.optimizeNames(K,q))return this.iteration=W(this.iteration,K,q),this}get names(){return R(super.names,this.iteration.names)}}class j extends N{constructor(K,q,le,he){super(),this.varKind=K,this.name=q,this.from=le,this.to=he}render(K){const q=K.es5?a.varKinds.var:this.varKind,{name:le,from:he,to:Ee}=this;return`for(${q} ${le}=${he}; ${le}<${Ee}; ${le}++)`+super.render(K)}get names(){const K=J(super.names,this.from);return J(K,this.to)}}class F extends N{constructor(K,q,le,he){super(),this.loop=K,this.varKind=q,this.name=le,this.iterable=he}render(K){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(K)}optimizeNames(K,q){if(super.optimizeNames(K,q))return this.iterable=W(this.iterable,K,q),this}get names(){return R(super.names,this.iterable.names)}}let T=(()=>{class G extends b{constructor(q,le,he){super(),this.name=q,this.args=le,this.async=he}render(q){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(q)}}return G.kind="func",G})(),z=(()=>{class G extends E{render(q){return"return "+super.render(q)}}return G.kind="return",G})();class ee extends b{render(K){let q="try"+super.render(K);return this.catch&&(q+=this.catch.render(K)),this.finally&&(q+=this.finally.render(K)),q}optimizeNodes(){var K,q;return super.optimizeNodes(),null===(K=this.catch)||void 0===K||K.optimizeNodes(),null===(q=this.finally)||void 0===q||q.optimizeNodes(),this}optimizeNames(K,q){var le,he;return super.optimizeNames(K,q),null===(le=this.catch)||void 0===le||le.optimizeNames(K,q),null===(he=this.finally)||void 0===he||he.optimizeNames(K,q),this}get names(){const K=super.names;return this.catch&&R(K,this.catch.names),this.finally&&R(K,this.finally.names),K}}let ie=(()=>{class G extends b{constructor(q){super(),this.error=q}render(q){return`catch(${this.error})`+super.render(q)}}return G.kind="catch",G})(),x=(()=>{class G extends b{render(q){return"finally"+super.render(q)}}return G.kind="finally",G})();function R(G,K){for(const q in K)G[q]=(G[q]||0)+(K[q]||0);return G}function J(G,K){return K instanceof h._CodeOrName?R(G,K.names):G}function W(G,K,q){return G instanceof h.Name?le(G):function he(Ee){return Ee instanceof h._Code&&Ee._items.some(pe=>pe instanceof h.Name&&1===K[pe.str]&&void 0!==q[pe.str])}(G)?new h._Code(G._items.reduce((Ee,pe)=>(pe instanceof h.Name&&(pe=le(pe)),pe instanceof h._Code?Ee.push(...pe._items):Ee.push(pe),Ee),[])):G;function le(Ee){const pe=q[Ee.str];return void 0===pe||1!==K[Ee.str]?Ee:(delete K[Ee.str],pe)}}function ce(G,K){for(const q in K)G[q]=(G[q]||0)-(K[q]||0)}function M(G){return"boolean"==typeof G||"number"==typeof G||null===G?!G:h._`!${I(G)}`}d.CodeGen=class H{constructor(K,q={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...q,_n:q.lines?"\n":""},this._extScope=K,this._scope=new a.Scope({parent:K}),this._nodes=[new A]}toString(){return this._root.render(this.opts)}name(K){return this._scope.name(K)}scopeName(K){return this._extScope.name(K)}scopeValue(K,q){const le=this._extScope.value(K,q);return(this._values[le.prefix]||(this._values[le.prefix]=new Set)).add(le),le}getScopeValue(K,q){return this._extScope.getValue(K,q)}scopeRefs(K){return this._extScope.scopeRefs(K,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(K,q,le,he){const Ee=this._scope.toName(q);return void 0!==le&&he&&(this._constants[Ee.str]=le),this._leafNode(new c(K,Ee,le)),Ee}const(K,q,le){return this._def(a.varKinds.const,K,q,le)}let(K,q,le){return this._def(a.varKinds.let,K,q,le)}var(K,q,le){return this._def(a.varKinds.var,K,q,le)}assign(K,q,le){return this._leafNode(new u(K,q,le))}add(K,q){return this._leafNode(new i(K,d.operators.ADD,q))}code(K){return"function"==typeof K?K():K!==h.nil&&this._leafNode(new w(K)),this}object(...K){const q=["{"];for(const[le,he]of K)q.length>1&&q.push(","),q.push(le),(le!==he||this.opts.es5)&&(q.push(":"),(0,h.addCodeArg)(q,he));return q.push("}"),new h._Code(q)}if(K,q,le){if(this._blockNode(new _(K)),q&&le)this.code(q).else().code(le).endIf();else if(q)this.code(q).endIf();else if(le)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(K){return this._elseNode(new _(K))}else(){return this._elseNode(new C)}endIf(){return this._endBlockNode(_,C)}_for(K,q){return this._blockNode(K),q&&this.code(q).endFor(),this}for(K,q){return this._for(new O(K),q)}forRange(K,q,le,he,Ee=(this.opts.es5?a.varKinds.var:a.varKinds.let)){const pe=this._scope.toName(K);return this._for(new j(Ee,pe,q,le),()=>he(pe))}forOf(K,q,le,he=a.varKinds.const){const Ee=this._scope.toName(K);if(this.opts.es5){const pe=q instanceof h.Name?q:this.var("_arr",q);return this.forRange("_i",0,h._`${pe}.length`,De=>{this.var(Ee,h._`${pe}[${De}]`),le(Ee)})}return this._for(new F("of",he,Ee,q),()=>le(Ee))}forIn(K,q,le,he=(this.opts.es5?a.varKinds.var:a.varKinds.const)){if(this.opts.ownProperties)return this.forOf(K,h._`Object.keys(${q})`,le);const Ee=this._scope.toName(K);return this._for(new F("in",he,Ee,q),()=>le(Ee))}endFor(){return this._endBlockNode(N)}label(K){return this._leafNode(new p(K))}break(K){return this._leafNode(new o(K))}return(K){const q=new z;if(this._blockNode(q),this.code(K),1!==q.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(z)}try(K,q,le){if(!q&&!le)throw new Error('CodeGen: "try" without "catch" and "finally"');const he=new ee;if(this._blockNode(he),this.code(K),q){const Ee=this.name("e");this._currNode=he.catch=new ie(Ee),q(Ee)}return le&&(this._currNode=he.finally=new x,this.code(le)),this._endBlockNode(ie,x)}throw(K){return this._leafNode(new l(K))}block(K,q){return this._blockStarts.push(this._nodes.length),K&&this.code(K).endBlock(q),this}endBlock(K){const q=this._blockStarts.pop();if(void 0===q)throw new Error("CodeGen: not in self-balancing block");const le=this._nodes.length-q;if(le<0||void 0!==K&&le!==K)throw new Error(`CodeGen: wrong number of nodes: ${le} vs ${K} expected`);return this._nodes.length=q,this}func(K,q=h.nil,le,he){return this._blockNode(new T(K,q,le)),he&&this.code(he).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(K=1){for(;K-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(K){return this._currNode.nodes.push(K),this}_blockNode(K){this._currNode.nodes.push(K),this._nodes.push(K)}_endBlockNode(K,q){const le=this._currNode;if(le instanceof K||q&&le instanceof q)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${q?`${K.kind}/${q.kind}`:K.kind}"`)}_elseNode(K){const q=this._currNode;if(!(q instanceof _))throw new Error('CodeGen: "else" without "if"');return this._currNode=q.else=K,this}get _root(){return this._nodes[0]}get _currNode(){const K=this._nodes;return K[K.length-1]}set _currNode(K){const q=this._nodes;q[q.length-1]=K}},d.not=M;const Q=S(d.operators.AND);d.and=function de(...G){return G.reduce(Q)};const we=S(d.operators.OR);function S(G){return(K,q)=>K===h.nil?q:q===h.nil?K:h._`${I(K)} ${G} ${I(q)}`}function I(G){return G instanceof h.Name?G:h._`(${G})`}d.or=function je(...G){return G.reduce(we)}},60240:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.ValueScope=d.ValueScopeName=d.Scope=d.varKinds=d.UsedValueState=void 0;const h=s(43467);class a extends Error{constructor(p){super(`CodeGen: "code" for ${p} not defined`),this.value=p.value}}var v=function(i){return i[i.Started=0]="Started",i[i.Completed=1]="Completed",i}(v||(d.UsedValueState=v={}));d.varKinds={const:new h.Name("const"),let:new h.Name("let"),var:new h.Name("var")};class m{constructor({prefixes:p,parent:o}={}){this._names={},this._prefixes=p,this._parent=o}toName(p){return p instanceof h.Name?p:this.name(p)}name(p){return new h.Name(this._newName(p))}_newName(p){return`${p}${(this._names[p]||this._nameGroup(p)).index++}`}_nameGroup(p){var o,l;if(null!==(l=null===(o=this._parent)||void 0===o?void 0:o._prefixes)&&void 0!==l&&l.has(p)||this._prefixes&&!this._prefixes.has(p))throw new Error(`CodeGen: prefix "${p}" is not allowed in this scope`);return this._names[p]={prefix:p,index:0}}}d.Scope=m;class g extends h.Name{constructor(p,o){super(o),this.prefix=p}setValue(p,{property:o,itemIndex:l}){this.value=p,this.scopePath=h._`.${new h.Name(o)}[${l}]`}}d.ValueScopeName=g;const c=h._`\n`;d.ValueScope=class u extends m{constructor(p){super(p),this._values={},this._scope=p.scope,this.opts={...p,_n:p.lines?c:h.nil}}get(){return this._scope}name(p){return new g(p,this._newName(p))}value(p,o){var l;if(void 0===o.ref)throw new Error("CodeGen: ref must be passed in value");const w=this.toName(p),{prefix:E}=w,b=null!==(l=o.key)&&void 0!==l?l:o.ref;let A=this._values[E];if(A){const N=A.get(b);if(N)return N}else A=this._values[E]=new Map;A.set(b,w);const C=this._scope[E]||(this._scope[E]=[]),_=C.length;return C[_]=o.ref,w.setValue(o,{property:E,itemIndex:_}),w}getValue(p,o){const l=this._values[p];if(l)return l.get(o)}scopeRefs(p,o=this._values){return this._reduceValues(o,l=>{if(void 0===l.scopePath)throw new Error(`CodeGen: name "${l}" has no value`);return h._`${p}${l.scopePath}`})}scopeCode(p=this._values,o,l){return this._reduceValues(p,w=>{if(void 0===w.value)throw new Error(`CodeGen: name "${w}" has no value`);return w.value.code},o,l)}_reduceValues(p,o,l={},w){let E=h.nil;for(const b in p){const A=p[b];if(!A)continue;const C=l[b]=l[b]||new Map;A.forEach(_=>{if(C.has(_))return;C.set(_,v.Started);let N=o(_);if(N)E=h._`${E}${this.opts.es5?d.varKinds.var:d.varKinds.const} ${_} = ${N};${this.opts._n}`;else{if(!(N=w?.(_)))throw new a(_);E=h._`${E}${N}${this.opts._n}`}C.set(_,v.Completed)})}return E}}},37511:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.extendErrors=d.resetErrorsCount=d.reportExtraError=d.reportError=d.keyword$DataError=d.keywordError=void 0;const h=s(85432),a=s(87868),v=s(12682);function i(C,_){const N=C.const("err",_);C.if(h._`${v.default.vErrors} === null`,()=>C.assign(v.default.vErrors,h._`[${N}]`),h._`${v.default.vErrors}.push(${N})`),C.code(h._`${v.default.errors}++`)}function p(C,_){const{gen:N,validateName:O,schemaEnv:j}=C;j.$async?N.throw(h._`new ${C.ValidationError}(${_})`):(N.assign(h._`${O}.errors`,_),N.return(!1))}d.keywordError={message:({keyword:C})=>h.str`must pass "${C}" keyword validation`},d.keyword$DataError={message:({keyword:C,schemaType:_})=>_?h.str`"${C}" keyword must be ${_} ($data)`:h.str`"${C}" keyword is invalid ($data)`},d.reportError=function m(C,_=d.keywordError,N,O){const{it:j}=C,{gen:F,compositeRule:T,allErrors:z}=j,ee=l(C,_,N);O??(T||z)?i(F,ee):p(j,h._`[${ee}]`)},d.reportExtraError=function g(C,_=d.keywordError,N){const{it:O}=C,{gen:j,compositeRule:F,allErrors:T}=O;i(j,l(C,_,N)),F||T||p(O,v.default.vErrors)},d.resetErrorsCount=function c(C,_){C.assign(v.default.errors,_),C.if(h._`${v.default.vErrors} !== null`,()=>C.if(_,()=>C.assign(h._`${v.default.vErrors}.length`,_),()=>C.assign(v.default.vErrors,null)))},d.extendErrors=function u({gen:C,keyword:_,schemaValue:N,data:O,errsCount:j,it:F}){if(void 0===j)throw new Error("ajv implementation error");const T=C.name("err");C.forRange("i",j,v.default.errors,z=>{C.const(T,h._`${v.default.vErrors}[${z}]`),C.if(h._`${T}.instancePath === undefined`,()=>C.assign(h._`${T}.instancePath`,(0,h.strConcat)(v.default.instancePath,F.errorPath))),C.assign(h._`${T}.schemaPath`,h.str`${F.errSchemaPath}/${_}`),F.opts.verbose&&(C.assign(h._`${T}.schema`,N),C.assign(h._`${T}.data`,O))})};const o={keyword:new h.Name("keyword"),schemaPath:new h.Name("schemaPath"),params:new h.Name("params"),propertyName:new h.Name("propertyName"),message:new h.Name("message"),schema:new h.Name("schema"),parentSchema:new h.Name("parentSchema")};function l(C,_,N){const{createErrors:O}=C.it;return!1===O?h._`{}`:function w(C,_,N={}){const{gen:O,it:j}=C,F=[E(j,N),b(C,N)];return function A(C,{params:_,message:N},O){const{keyword:j,data:F,schemaValue:T,it:z}=C,{opts:ee,propertyName:ie,topSchemaRef:x,schemaPath:H}=z;O.push([o.keyword,j],[o.params,"function"==typeof _?_(C):_||h._`{}`]),ee.messages&&O.push([o.message,"function"==typeof N?N(C):N]),ee.verbose&&O.push([o.schema,T],[o.parentSchema,h._`${x}${H}`],[v.default.data,F]),ie&&O.push([o.propertyName,ie])}(C,_,F),O.object(...F)}(C,_,N)}function E({errorPath:C},{instancePath:_}){const N=_?h.str`${C}${(0,a.getErrorPath)(_,a.Type.Str)}`:C;return[v.default.instancePath,(0,h.strConcat)(v.default.instancePath,N)]}function b({keyword:C,it:{errSchemaPath:_}},{schemaPath:N,parentSchema:O}){let j=O?_:h.str`${_}/${C}`;return N&&(j=h.str`${j}${(0,a.getErrorPath)(N,a.Type.Str)}`),[o.schemaPath,j]}},7762:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.resolveSchema=d.getCompilingSchema=d.resolveRef=d.compileSchema=d.SchemaEnv=void 0;const h=s(85432),a=s(9857),v=s(12682),m=s(28222),g=s(87868),c=s(87157);class u{constructor(N){var O;let j;this.refs={},this.dynamicAnchors={},"object"==typeof N.schema&&(j=N.schema),this.schema=N.schema,this.schemaId=N.schemaId,this.root=N.root||this,this.baseId=null!==(O=N.baseId)&&void 0!==O?O:(0,m.normalizeId)(j?.[N.schemaId||"$id"]),this.schemaPath=N.schemaPath,this.localRefs=N.localRefs,this.meta=N.meta,this.$async=j?.$async,this.refs={}}}function i(_){const N=l.call(this,_);if(N)return N;const O=(0,m.getFullPath)(this.opts.uriResolver,_.root.baseId),{es5:j,lines:F}=this.opts.code,{ownProperties:T}=this.opts,z=new h.CodeGen(this.scope,{es5:j,lines:F,ownProperties:T});let ee;_.$async&&(ee=z.scopeValue("Error",{ref:a.default,code:h._`require("ajv/dist/runtime/validation_error").default`}));const ie=z.scopeName("validate");_.validateName=ie;const x={gen:z,allErrors:this.opts.allErrors,data:v.default.data,parentData:v.default.parentData,parentDataProperty:v.default.parentDataProperty,dataNames:[v.default.data],dataPathArr:[h.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:z.scopeValue("schema",!0===this.opts.code.source?{ref:_.schema,code:(0,h.stringify)(_.schema)}:{ref:_.schema}),validateName:ie,ValidationError:ee,schema:_.schema,schemaEnv:_,rootId:O,baseId:_.baseId||O,schemaPath:h.nil,errSchemaPath:_.schemaPath||(this.opts.jtd?"":"#"),errorPath:h._`""`,opts:this.opts,self:this};let H;try{this._compilations.add(_),(0,c.validateFunctionCode)(x),z.optimize(this.opts.code.optimize);const R=z.toString();H=`${z.scopeRefs(v.default.scope)}return ${R}`,this.opts.code.process&&(H=this.opts.code.process(H,_));const W=new Function(`${v.default.self}`,`${v.default.scope}`,H)(this,this.scope.get());if(this.scope.value(ie,{ref:W}),W.errors=null,W.schema=_.schema,W.schemaEnv=_,_.$async&&(W.$async=!0),!0===this.opts.code.source&&(W.source={validateName:ie,validateCode:R,scopeValues:z._values}),this.opts.unevaluated){const{props:ce,items:M}=x;W.evaluated={props:ce instanceof h.Name?void 0:ce,items:M instanceof h.Name?void 0:M,dynamicProps:ce instanceof h.Name,dynamicItems:M instanceof h.Name},W.source&&(W.source.evaluated=(0,h.stringify)(W.evaluated))}return _.validate=W,_}catch(R){throw delete _.validate,delete _.validateName,H&&this.logger.error("Error compiling schema, function code:",H),R}finally{this._compilations.delete(_)}}function o(_){return(0,m.inlineRef)(_.schema,this.opts.inlineRefs)?_.schema:_.validate?_:i.call(this,_)}function l(_){for(const N of this._compilations)if(w(N,_))return N}function w(_,N){return _.schema===N.schema&&_.root===N.root&&_.baseId===N.baseId}function E(_,N){let O;for(;"string"==typeof(O=this.refs[N]);)N=O;return O||this.schemas[N]||b.call(this,_,N)}function b(_,N){const O=this.opts.uriResolver.parse(N),j=(0,m._getFullPath)(this.opts.uriResolver,O);let F=(0,m.getFullPath)(this.opts.uriResolver,_.baseId,void 0);if(Object.keys(_.schema).length>0&&j===F)return C.call(this,O,_);const T=(0,m.normalizeId)(j),z=this.refs[T]||this.schemas[T];if("string"==typeof z){const ee=b.call(this,_,z);return"object"!=typeof ee?.schema?void 0:C.call(this,O,ee)}if("object"==typeof z?.schema){if(z.validate||i.call(this,z),T===(0,m.normalizeId)(N)){const{schema:ee}=z,{schemaId:ie}=this.opts,x=ee[ie];return x&&(F=(0,m.resolveUrl)(this.opts.uriResolver,F,x)),new u({schema:ee,schemaId:ie,root:_,baseId:F})}return C.call(this,O,z)}}d.SchemaEnv=u,d.compileSchema=i,d.resolveRef=function p(_,N,O){var j;O=(0,m.resolveUrl)(this.opts.uriResolver,N,O);const F=_.refs[O];if(F)return F;let T=E.call(this,_,O);if(void 0===T){const z=null===(j=_.localRefs)||void 0===j?void 0:j[O],{schemaId:ee}=this.opts;z&&(T=new u({schema:z,schemaId:ee,root:_,baseId:N}))}return void 0!==T?_.refs[O]=o.call(this,T):void 0},d.getCompilingSchema=l,d.resolveSchema=b;const A=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function C(_,{baseId:N,schema:O,root:j}){var F;if("/"!==(null===(F=_.fragment)||void 0===F?void 0:F[0]))return;for(const ee of _.fragment.slice(1).split("/")){if("boolean"==typeof O)return;const ie=O[(0,g.unescapeFragment)(ee)];if(void 0===ie)return;const x="object"==typeof(O=ie)&&O[this.opts.schemaId];!A.has(ee)&&x&&(N=(0,m.resolveUrl)(this.opts.uriResolver,N,x))}let T;if("boolean"!=typeof O&&O.$ref&&!(0,g.schemaHasRulesButRef)(O,this.RULES)){const ee=(0,m.resolveUrl)(this.opts.uriResolver,N,O.$ref);T=b.call(this,j,ee)}const{schemaId:z}=this.opts;return T=T||new u({schema:O,schemaId:z,root:j,baseId:N}),T.schema!==T.root.schema?T:void 0}},12682:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(85432),a={data:new h.Name("data"),valCxt:new h.Name("valCxt"),instancePath:new h.Name("instancePath"),parentData:new h.Name("parentData"),parentDataProperty:new h.Name("parentDataProperty"),rootData:new h.Name("rootData"),dynamicAnchors:new h.Name("dynamicAnchors"),vErrors:new h.Name("vErrors"),errors:new h.Name("errors"),this:new h.Name("this"),self:new h.Name("self"),scope:new h.Name("scope"),json:new h.Name("json"),jsonPos:new h.Name("jsonPos"),jsonLen:new h.Name("jsonLen"),jsonPart:new h.Name("jsonPart")};d.default=a},66606:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(28222);class a extends Error{constructor(m,g,c,u){super(u||`can't resolve reference ${c} from id ${g}`),this.missingRef=(0,h.resolveUrl)(m,g,c),this.missingSchema=(0,h.normalizeId)((0,h.getFullPath)(m,this.missingRef))}}d.default=a},28222:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.getSchemaRefs=d.resolveUrl=d.normalizeId=d._getFullPath=d.getFullPath=d.inlineRef=void 0;const h=s(87868),a=s(40362),v=s(44331),m=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);d.inlineRef=function g(C,_=!0){return"boolean"==typeof C||(!0===_?!u(C):!!_&&i(C)<=_)};const c=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function u(C){for(const _ in C){if(c.has(_))return!0;const N=C[_];if(Array.isArray(N)&&N.some(u)||"object"==typeof N&&u(N))return!0}return!1}function i(C){let _=0;for(const N in C){if("$ref"===N)return 1/0;if(_++,!m.has(N)&&("object"==typeof C[N]&&(0,h.eachItem)(C[N],O=>_+=i(O)),_===1/0))return 1/0}return _}function p(C,_="",N){!1!==N&&(_=w(_));const O=C.parse(_);return o(C,O)}function o(C,_){return C.serialize(_).split("#")[0]+"#"}d.getFullPath=p,d._getFullPath=o;const l=/#\/?$/;function w(C){return C?C.replace(l,""):""}d.normalizeId=w,d.resolveUrl=function E(C,_,N){return N=w(N),C.resolve(_,N)};const b=/^[a-z_][-a-z0-9._]*$/i;d.getSchemaRefs=function A(C,_){if("boolean"==typeof C)return{};const{schemaId:N,uriResolver:O}=this.opts,j=w(C[N]||_),F={"":j},T=p(O,j,!1),z={},ee=new Set;return v(C,{allKeys:!0},(H,R,J,W)=>{if(void 0===W)return;const ce=T+R;let M=F[W];function Q(we){if(we=w(M?(0,this.opts.uriResolver.resolve)(M,we):we),ee.has(we))throw x(we);ee.add(we);let S=this.refs[we];return"string"==typeof S&&(S=this.refs[S]),"object"==typeof S?ie(H,S.schema,we):we!==w(ce)&&("#"===we[0]?(ie(H,z[we],we),z[we]=H):this.refs[we]=ce),we}function de(we){if("string"==typeof we){if(!b.test(we))throw new Error(`invalid anchor "${we}"`);Q.call(this,`#${we}`)}}"string"==typeof H[N]&&(M=Q.call(this,H[N])),de.call(this,H.$anchor),de.call(this,H.$dynamicAnchor),F[R]=M}),z;function ie(H,R,J){if(void 0!==R&&!a(H,R))throw x(J)}function x(H){return new Error(`reference "${H}" resolves to more than one schema`)}}},66093:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.getRules=d.isJSONType=void 0;const h=new Set(["string","number","integer","boolean","null","object","array"]);d.isJSONType=function a(m){return"string"==typeof m&&h.has(m)},d.getRules=function v(){const m={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...m,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},m.number,m.string,m.array,m.object],post:{rules:[]},all:{},keywords:{}}}},87868:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.checkStrictMode=d.getErrorPath=d.Type=d.useFunc=d.setEvaluated=d.evaluatedPropsToName=d.mergeEvaluated=d.eachItem=d.unescapeJsonPointer=d.escapeJsonPointer=d.escapeFragment=d.unescapeFragment=d.schemaRefOrVal=d.schemaHasRulesButRef=d.schemaHasRules=d.checkUnknownRules=d.alwaysValidSchema=d.toHash=void 0;const h=s(85432),a=s(43467);function g(T,z=T.schema){const{opts:ee,self:ie}=T;if(!ee.strictSchema||"boolean"==typeof z)return;const x=ie.RULES.keywords;for(const H in z)x[H]||F(T,`unknown keyword: "${H}"`)}function c(T,z){if("boolean"==typeof T)return!T;for(const ee in T)if(z[ee])return!0;return!1}function l(T){return"number"==typeof T?`${T}`:T.replace(/~/g,"~0").replace(/\//g,"~1")}function w(T){return T.replace(/~1/g,"/").replace(/~0/g,"~")}function b({mergeNames:T,mergeToName:z,mergeValues:ee,resultToName:ie}){return(x,H,R,J)=>{const W=void 0===R?H:R instanceof h.Name?(H instanceof h.Name?T(x,H,R):z(x,H,R),R):H instanceof h.Name?(z(x,R,H),H):ee(H,R);return J!==h.Name||W instanceof h.Name?W:ie(x,W)}}function A(T,z){if(!0===z)return T.var("props",!0);const ee=T.var("props",h._`{}`);return void 0!==z&&C(T,ee,z),ee}function C(T,z,ee){Object.keys(ee).forEach(ie=>T.assign(h._`${z}${(0,h.getProperty)(ie)}`,!0))}d.toHash=function v(T){const z={};for(const ee of T)z[ee]=!0;return z},d.alwaysValidSchema=function m(T,z){return"boolean"==typeof z?z:0===Object.keys(z).length||(g(T,z),!c(z,T.self.RULES.all))},d.checkUnknownRules=g,d.schemaHasRules=c,d.schemaHasRulesButRef=function u(T,z){if("boolean"==typeof T)return!T;for(const ee in T)if("$ref"!==ee&&z.all[ee])return!0;return!1},d.schemaRefOrVal=function i({topSchemaRef:T,schemaPath:z},ee,ie,x){if(!x){if("number"==typeof ee||"boolean"==typeof ee)return ee;if("string"==typeof ee)return h._`${ee}`}return h._`${T}${z}${(0,h.getProperty)(ie)}`},d.unescapeFragment=function p(T){return w(decodeURIComponent(T))},d.escapeFragment=function o(T){return encodeURIComponent(l(T))},d.escapeJsonPointer=l,d.unescapeJsonPointer=w,d.eachItem=function E(T,z){if(Array.isArray(T))for(const ee of T)z(ee);else z(T)},d.mergeEvaluated={props:b({mergeNames:(T,z,ee)=>T.if(h._`${ee} !== true && ${z} !== undefined`,()=>{T.if(h._`${z} === true`,()=>T.assign(ee,!0),()=>T.assign(ee,h._`${ee} || {}`).code(h._`Object.assign(${ee}, ${z})`))}),mergeToName:(T,z,ee)=>T.if(h._`${ee} !== true`,()=>{!0===z?T.assign(ee,!0):(T.assign(ee,h._`${ee} || {}`),C(T,ee,z))}),mergeValues:(T,z)=>!0===T||{...T,...z},resultToName:A}),items:b({mergeNames:(T,z,ee)=>T.if(h._`${ee} !== true && ${z} !== undefined`,()=>T.assign(ee,h._`${z} === true ? true : ${ee} > ${z} ? ${ee} : ${z}`)),mergeToName:(T,z,ee)=>T.if(h._`${ee} !== true`,()=>T.assign(ee,!0===z||h._`${ee} > ${z} ? ${ee} : ${z}`)),mergeValues:(T,z)=>!0===T||Math.max(T,z),resultToName:(T,z)=>T.var("items",z)})},d.evaluatedPropsToName=A,d.setEvaluated=C;const _={};d.useFunc=function N(T,z){return T.scopeValue("func",{ref:z,code:_[z.code]||(_[z.code]=new a._Code(z.code))})};var O=function(T){return T[T.Num=0]="Num",T[T.Str=1]="Str",T}(O||(d.Type=O={}));function F(T,z,ee=T.opts.strictSchema){if(ee){if(z=`strict mode: ${z}`,!0===ee)throw new Error(z);T.self.logger.warn(z)}}d.getErrorPath=function j(T,z,ee){if(T instanceof h.Name){const ie=z===O.Num;return ee?ie?h._`"[" + ${T} + "]"`:h._`"['" + ${T} + "']"`:ie?h._`"/" + ${T}`:h._`"/" + ${T}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return ee?(0,h.getProperty)(T).toString():"/"+l(T)},d.checkStrictMode=F},61064:(X,d)=>{"use strict";function h(v,m){return m.rules.some(g=>a(v,g))}function a(v,m){var g;return void 0!==v[m.keyword]||(null===(g=m.definition.implements)||void 0===g?void 0:g.some(c=>void 0!==v[c]))}Object.defineProperty(d,"__esModule",{value:!0}),d.shouldUseRule=d.shouldUseGroup=d.schemaHasRulesForType=void 0,d.schemaHasRulesForType=function s({schema:v,self:m},g){const c=m.RULES.types[g];return c&&!0!==c&&h(v,c)},d.shouldUseGroup=h,d.shouldUseRule=a},89318:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.boolOrEmptySchema=d.topBoolOrEmptySchema=void 0;const h=s(37511),a=s(85432),v=s(12682),m={message:"boolean schema is false"};function u(i,p){const{gen:o,data:l}=i;(0,h.reportError)({gen:o,keyword:"false schema",data:l,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:i},m,void 0,p)}d.topBoolOrEmptySchema=function g(i){const{gen:p,schema:o,validateName:l}=i;!1===o?u(i,!1):"object"==typeof o&&!0===o.$async?p.return(v.default.data):(p.assign(a._`${l}.errors`,null),p.return(!0))},d.boolOrEmptySchema=function c(i,p){const{gen:o,schema:l}=i;!1===l?(o.var(p,!1),u(i)):o.var(p,!0)}},15894:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.reportTypeError=d.checkDataTypes=d.checkDataType=d.coerceAndCheckDataType=d.getJSONTypes=d.getSchemaTypes=d.DataType=void 0;const h=s(66093),a=s(61064),v=s(37511),m=s(85432),g=s(87868);var c=function(O){return O[O.Correct=0]="Correct",O[O.Wrong=1]="Wrong",O}(c||(d.DataType=c={}));function i(O){const j=Array.isArray(O)?O:O?[O]:[];if(j.every(h.isJSONType))return j;throw new Error("type must be JSONType or JSONType[]: "+j.join(","))}d.getSchemaTypes=function u(O){const j=i(O.type);if(j.includes("null")){if(!1===O.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!j.length&&void 0!==O.nullable)throw new Error('"nullable" cannot be used without "type"');!0===O.nullable&&j.push("null")}return j},d.getJSONTypes=i,d.coerceAndCheckDataType=function p(O,j){const{gen:F,data:T,opts:z}=O,ee=function l(O,j){return j?O.filter(F=>o.has(F)||"array"===j&&"array"===F):[]}(j,z.coerceTypes),ie=j.length>0&&!(0===ee.length&&1===j.length&&(0,a.schemaHasRulesForType)(O,j[0]));if(ie){const x=A(j,T,z.strictNumbers,c.Wrong);F.if(x,()=>{ee.length?function w(O,j,F){const{gen:T,data:z,opts:ee}=O,ie=T.let("dataType",m._`typeof ${z}`),x=T.let("coerced",m._`undefined`);"array"===ee.coerceTypes&&T.if(m._`${ie} == 'object' && Array.isArray(${z}) && ${z}.length == 1`,()=>T.assign(z,m._`${z}[0]`).assign(ie,m._`typeof ${z}`).if(A(j,z,ee.strictNumbers),()=>T.assign(x,z))),T.if(m._`${x} !== undefined`);for(const R of F)(o.has(R)||"array"===R&&"array"===ee.coerceTypes)&&H(R);function H(R){switch(R){case"string":return void T.elseIf(m._`${ie} == "number" || ${ie} == "boolean"`).assign(x,m._`"" + ${z}`).elseIf(m._`${z} === null`).assign(x,m._`""`);case"number":return void T.elseIf(m._`${ie} == "boolean" || ${z} === null
              || (${ie} == "string" && ${z} && ${z} == +${z})`).assign(x,m._`+${z}`);case"integer":return void T.elseIf(m._`${ie} === "boolean" || ${z} === null
              || (${ie} === "string" && ${z} && ${z} == +${z} && !(${z} % 1))`).assign(x,m._`+${z}`);case"boolean":return void T.elseIf(m._`${z} === "false" || ${z} === 0 || ${z} === null`).assign(x,!1).elseIf(m._`${z} === "true" || ${z} === 1`).assign(x,!0);case"null":return T.elseIf(m._`${z} === "" || ${z} === 0 || ${z} === false`),void T.assign(x,null);case"array":T.elseIf(m._`${ie} === "string" || ${ie} === "number"
              || ${ie} === "boolean" || ${z} === null`).assign(x,m._`[${z}]`)}}T.else(),_(O),T.endIf(),T.if(m._`${x} !== undefined`,()=>{T.assign(z,x),function E({gen:O,parentData:j,parentDataProperty:F},T){O.if(m._`${j} !== undefined`,()=>O.assign(m._`${j}[${F}]`,T))}(O,x)})}(O,j,ee):_(O)})}return ie};const o=new Set(["string","number","integer","boolean","null"]);function b(O,j,F,T=c.Correct){const z=T===c.Correct?m.operators.EQ:m.operators.NEQ;let ee;switch(O){case"null":return m._`${j} ${z} null`;case"array":ee=m._`Array.isArray(${j})`;break;case"object":ee=m._`${j} && typeof ${j} == "object" && !Array.isArray(${j})`;break;case"integer":ee=ie(m._`!(${j} % 1) && !isNaN(${j})`);break;case"number":ee=ie();break;default:return m._`typeof ${j} ${z} ${O}`}return T===c.Correct?ee:(0,m.not)(ee);function ie(x=m.nil){return(0,m.and)(m._`typeof ${j} == "number"`,x,F?m._`isFinite(${j})`:m.nil)}}function A(O,j,F,T){if(1===O.length)return b(O[0],j,F,T);let z;const ee=(0,g.toHash)(O);if(ee.array&&ee.object){const ie=m._`typeof ${j} != "object"`;z=ee.null?ie:m._`!${j} || ${ie}`,delete ee.null,delete ee.array,delete ee.object}else z=m.nil;ee.number&&delete ee.integer;for(const ie in ee)z=(0,m.and)(z,b(ie,j,F,T));return z}d.checkDataType=b,d.checkDataTypes=A;const C={message:({schema:O})=>`must be ${O}`,params:({schema:O,schemaValue:j})=>"string"==typeof O?m._`{type: ${O}}`:m._`{type: ${j}}`};function _(O){const j=function N(O){const{gen:j,data:F,schema:T}=O,z=(0,g.schemaRefOrVal)(O,T,"type");return{gen:j,keyword:"type",data:F,schema:T.type,schemaCode:z,schemaValue:z,parentSchema:T,params:{},it:O}}(O);(0,v.reportError)(j,C)}d.reportTypeError=_},13599:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.assignDefaults=void 0;const h=s(85432),a=s(87868);function m(g,c,u){const{gen:i,compositeRule:p,data:o,opts:l}=g;if(void 0===u)return;const w=h._`${o}${(0,h.getProperty)(c)}`;if(p)return void(0,a.checkStrictMode)(g,`default is ignored for: ${w}`);let E=h._`${w} === undefined`;"empty"===l.useDefaults&&(E=h._`${E} || ${w} === null || ${w} === ""`),i.if(E,h._`${w} = ${(0,h.stringify)(u)}`)}d.assignDefaults=function v(g,c){const{properties:u,items:i}=g.schema;if("object"===c&&u)for(const p in u)m(g,p,u[p].default);else"array"===c&&Array.isArray(i)&&i.forEach((p,o)=>m(g,o,p.default))}},87157:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.getData=d.KeywordCxt=d.validateFunctionCode=void 0;const h=s(89318),a=s(15894),v=s(61064),m=s(15894),g=s(13599),c=s(40742),u=s(35924),i=s(85432),p=s(12682),o=s(28222),l=s(87868),w=s(37511);function b({gen:Pe,validateName:Fe,schema:me,schemaEnv:ve,opts:ge},Ae){ge.code.es5?Pe.func(Fe,i._`${p.default.data}, ${p.default.valCxt}`,ve.$async,()=>{Pe.code(i._`"use strict"; ${O(me,ge)}`),function C(Pe,Fe){Pe.if(p.default.valCxt,()=>{Pe.var(p.default.instancePath,i._`${p.default.valCxt}.${p.default.instancePath}`),Pe.var(p.default.parentData,i._`${p.default.valCxt}.${p.default.parentData}`),Pe.var(p.default.parentDataProperty,i._`${p.default.valCxt}.${p.default.parentDataProperty}`),Pe.var(p.default.rootData,i._`${p.default.valCxt}.${p.default.rootData}`),Fe.dynamicRef&&Pe.var(p.default.dynamicAnchors,i._`${p.default.valCxt}.${p.default.dynamicAnchors}`)},()=>{Pe.var(p.default.instancePath,i._`""`),Pe.var(p.default.parentData,i._`undefined`),Pe.var(p.default.parentDataProperty,i._`undefined`),Pe.var(p.default.rootData,p.default.data),Fe.dynamicRef&&Pe.var(p.default.dynamicAnchors,i._`{}`)})}(Pe,ge),Pe.code(Ae)}):Pe.func(Fe,i._`${p.default.data}, ${function A(Pe){return i._`{${p.default.instancePath}="", ${p.default.parentData}, ${p.default.parentDataProperty}, ${p.default.rootData}=${p.default.data}${Pe.dynamicRef?i._`, ${p.default.dynamicAnchors}={}`:i.nil}}={}`}(ge)}`,ve.$async,()=>Pe.code(O(me,ge)).code(Ae))}function O(Pe,Fe){const me="object"==typeof Pe&&Pe[Fe.schemaId];return me&&(Fe.code.source||Fe.code.process)?i._`/*# sourceURL=${me} */`:i.nil}function F({schema:Pe,self:Fe}){if("boolean"==typeof Pe)return!Pe;for(const me in Pe)if(Fe.RULES.all[me])return!0;return!1}function T(Pe){return"boolean"!=typeof Pe.schema}function ee(Pe){(0,l.checkUnknownRules)(Pe),function x(Pe){const{schema:Fe,errSchemaPath:me,opts:ve,self:ge}=Pe;Fe.$ref&&ve.ignoreKeywordsWithRef&&(0,l.schemaHasRulesButRef)(Fe,ge.RULES)&&ge.logger.warn(`$ref: keywords ignored in schema at path "${me}"`)}(Pe)}function ie(Pe,Fe){if(Pe.opts.jtd)return Q(Pe,[],!1,Fe);const me=(0,a.getSchemaTypes)(Pe.schema);Q(Pe,me,!(0,a.coerceAndCheckDataType)(Pe,me),Fe)}function W({gen:Pe,schemaEnv:Fe,schema:me,errSchemaPath:ve,opts:ge}){const Ae=me.$comment;if(!0===ge.$comment)Pe.code(i._`${p.default.self}.logger.log(${Ae})`);else if("function"==typeof ge.$comment){const $e=i.str`${ve}/$comment`,xe=Pe.scopeValue("root",{ref:Fe.root});Pe.code(i._`${p.default.self}.opts.$comment(${Ae}, ${$e}, ${xe}.schema)`)}}function Q(Pe,Fe,me,ve){const{gen:ge,schema:Ae,data:$e,allErrors:xe,opts:Ne,self:Le}=Pe,{RULES:Ue}=Le;function qe(Je){(0,v.shouldUseGroup)(Ae,Je)&&(Je.type?(ge.if((0,m.checkDataType)(Je.type,$e,Ne.strictNumbers)),de(Pe,Je),1===Fe.length&&Fe[0]===Je.type&&me&&(ge.else(),(0,m.reportTypeError)(Pe)),ge.endIf()):de(Pe,Je),xe||ge.if(i._`${p.default.errors} === ${ve||0}`))}!Ae.$ref||!Ne.ignoreKeywordsWithRef&&(0,l.schemaHasRulesButRef)(Ae,Ue)?(Ne.jtd||function we(Pe,Fe){Pe.schemaEnv.meta||!Pe.opts.strictTypes||(function je(Pe,Fe){if(Fe.length){if(!Pe.dataTypes.length)return void(Pe.dataTypes=Fe);Fe.forEach(me=>{K(Pe.dataTypes,me)||le(Pe,`type "${me}" not allowed by context "${Pe.dataTypes.join(",")}"`)}),function q(Pe,Fe){const me=[];for(const ve of Pe.dataTypes)K(Fe,ve)?me.push(ve):Fe.includes("integer")&&"number"===ve&&me.push("integer");Pe.dataTypes=me}(Pe,Fe)}}(Pe,Fe),Pe.opts.allowUnionTypes||function S(Pe,Fe){Fe.length>1&&(2!==Fe.length||!Fe.includes("null"))&&le(Pe,"use allowUnionTypes to allow union type keyword")}(Pe,Fe),function I(Pe,Fe){const me=Pe.self.RULES.all;for(const ve in me){const ge=me[ve];if("object"==typeof ge&&(0,v.shouldUseRule)(Pe.schema,ge)){const{type:Ae}=ge.definition;Ae.length&&!Ae.some($e=>G(Fe,$e))&&le(Pe,`missing type "${Ae.join(",")}" for keyword "${ve}"`)}}}(Pe,Pe.dataTypes))}(Pe,Fe),ge.block(()=>{for(const Je of Ue.rules)qe(Je);qe(Ue.post)})):ge.block(()=>Ee(Pe,"$ref",Ue.all.$ref.definition))}function de(Pe,Fe){const{gen:me,schema:ve,opts:{useDefaults:ge}}=Pe;ge&&(0,g.assignDefaults)(Pe,Fe.type),me.block(()=>{for(const Ae of Fe.rules)(0,v.shouldUseRule)(ve,Ae)&&Ee(Pe,Ae.keyword,Ae.definition,Fe.type)})}function G(Pe,Fe){return Pe.includes(Fe)||"number"===Fe&&Pe.includes("integer")}function K(Pe,Fe){return Pe.includes(Fe)||"integer"===Fe&&Pe.includes("number")}function le(Pe,Fe){(0,l.checkStrictMode)(Pe,Fe+=` at "${Pe.schemaEnv.baseId+Pe.errSchemaPath}" (strictTypes)`,Pe.opts.strictTypes)}d.validateFunctionCode=function E(Pe){T(Pe)&&(ee(Pe),F(Pe))?function _(Pe){const{schema:Fe,opts:me,gen:ve}=Pe;b(Pe,()=>{me.$comment&&Fe.$comment&&W(Pe),function H(Pe){const{schema:Fe,opts:me}=Pe;void 0!==Fe.default&&me.useDefaults&&me.strictSchema&&(0,l.checkStrictMode)(Pe,"default is ignored in the schema root")}(Pe),ve.let(p.default.vErrors,null),ve.let(p.default.errors,0),me.unevaluated&&function N(Pe){const{gen:Fe,validateName:me}=Pe;Pe.evaluated=Fe.const("evaluated",i._`${me}.evaluated`),Fe.if(i._`${Pe.evaluated}.dynamicProps`,()=>Fe.assign(i._`${Pe.evaluated}.props`,i._`undefined`)),Fe.if(i._`${Pe.evaluated}.dynamicItems`,()=>Fe.assign(i._`${Pe.evaluated}.items`,i._`undefined`))}(Pe),ie(Pe),function ce(Pe){const{gen:Fe,schemaEnv:me,validateName:ve,ValidationError:ge,opts:Ae}=Pe;me.$async?Fe.if(i._`${p.default.errors} === 0`,()=>Fe.return(p.default.data),()=>Fe.throw(i._`new ${ge}(${p.default.vErrors})`)):(Fe.assign(i._`${ve}.errors`,p.default.vErrors),Ae.unevaluated&&function M({gen:Pe,evaluated:Fe,props:me,items:ve}){me instanceof i.Name&&Pe.assign(i._`${Fe}.props`,me),ve instanceof i.Name&&Pe.assign(i._`${Fe}.items`,ve)}(Pe),Fe.return(i._`${p.default.errors} === 0`))}(Pe)})}(Pe):b(Pe,()=>(0,h.topBoolOrEmptySchema)(Pe))};class he{constructor(Fe,me,ve){if((0,c.validateKeywordUsage)(Fe,me,ve),this.gen=Fe.gen,this.allErrors=Fe.allErrors,this.keyword=ve,this.data=Fe.data,this.schema=Fe.schema[ve],this.$data=me.$data&&Fe.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,l.schemaRefOrVal)(Fe,this.schema,ve,this.$data),this.schemaType=me.schemaType,this.parentSchema=Fe.schema,this.params={},this.it=Fe,this.def=me,this.$data)this.schemaCode=Fe.gen.const("vSchema",Xe(this.$data,Fe));else if(this.schemaCode=this.schemaValue,!(0,c.validSchemaType)(this.schema,me.schemaType,me.allowUndefined))throw new Error(`${ve} value must be ${JSON.stringify(me.schemaType)}`);("code"in me?me.trackErrors:!1!==me.errors)&&(this.errsCount=Fe.gen.const("_errs",p.default.errors))}result(Fe,me,ve){this.failResult((0,i.not)(Fe),me,ve)}failResult(Fe,me,ve){this.gen.if(Fe),ve?ve():this.error(),me?(this.gen.else(),me(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(Fe,me){this.failResult((0,i.not)(Fe),void 0,me)}fail(Fe){if(void 0===Fe)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(Fe),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(Fe){if(!this.$data)return this.fail(Fe);const{schemaCode:me}=this;this.fail(i._`${me} !== undefined && (${(0,i.or)(this.invalid$data(),Fe)})`)}error(Fe,me,ve){if(me)return this.setParams(me),this._error(Fe,ve),void this.setParams({});this._error(Fe,ve)}_error(Fe,me){(Fe?w.reportExtraError:w.reportError)(this,this.def.error,me)}$dataError(){(0,w.reportError)(this,this.def.$dataError||w.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,w.resetErrorsCount)(this.gen,this.errsCount)}ok(Fe){this.allErrors||this.gen.if(Fe)}setParams(Fe,me){me?Object.assign(this.params,Fe):this.params=Fe}block$data(Fe,me,ve=i.nil){this.gen.block(()=>{this.check$data(Fe,ve),me()})}check$data(Fe=i.nil,me=i.nil){if(!this.$data)return;const{gen:ve,schemaCode:ge,schemaType:Ae,def:$e}=this;ve.if((0,i.or)(i._`${ge} === undefined`,me)),Fe!==i.nil&&ve.assign(Fe,!0),(Ae.length||$e.validateSchema)&&(ve.elseIf(this.invalid$data()),this.$dataError(),Fe!==i.nil&&ve.assign(Fe,!1)),ve.else()}invalid$data(){const{gen:Fe,schemaCode:me,schemaType:ve,def:ge,it:Ae}=this;return(0,i.or)(function $e(){if(ve.length){if(!(me instanceof i.Name))throw new Error("ajv implementation error");const Ne=Array.isArray(ve)?ve:[ve];return i._`${(0,m.checkDataTypes)(Ne,me,Ae.opts.strictNumbers,m.DataType.Wrong)}`}return i.nil}(),function xe(){if(ge.validateSchema){const Ne=Fe.scopeValue("validate$data",{ref:ge.validateSchema});return i._`!${Ne}(${me})`}return i.nil}())}subschema(Fe,me){const ve=(0,u.getSubschema)(this.it,Fe);(0,u.extendSubschemaData)(ve,this.it,Fe),(0,u.extendSubschemaMode)(ve,Fe);const ge={...this.it,...ve,items:void 0,props:void 0};return function j(Pe,Fe){T(Pe)&&(ee(Pe),F(Pe))?function z(Pe,Fe){const{schema:me,gen:ve,opts:ge}=Pe;ge.$comment&&me.$comment&&W(Pe),function R(Pe){const Fe=Pe.schema[Pe.opts.schemaId];Fe&&(Pe.baseId=(0,o.resolveUrl)(Pe.opts.uriResolver,Pe.baseId,Fe))}(Pe),function J(Pe){if(Pe.schema.$async&&!Pe.schemaEnv.$async)throw new Error("async schema in sync schema")}(Pe);const Ae=ve.const("_errs",p.default.errors);ie(Pe,Ae),ve.var(Fe,i._`${Ae} === ${p.default.errors}`)}(Pe,Fe):(0,h.boolOrEmptySchema)(Pe,Fe)}(ge,me),ge}mergeEvaluated(Fe,me){const{it:ve,gen:ge}=this;ve.opts.unevaluated&&(!0!==ve.props&&void 0!==Fe.props&&(ve.props=l.mergeEvaluated.props(ge,Fe.props,ve.props,me)),!0!==ve.items&&void 0!==Fe.items&&(ve.items=l.mergeEvaluated.items(ge,Fe.items,ve.items,me)))}mergeValidEvaluated(Fe,me){const{it:ve,gen:ge}=this;if(ve.opts.unevaluated&&(!0!==ve.props||!0!==ve.items))return ge.if(me,()=>this.mergeEvaluated(Fe,i.Name)),!0}}function Ee(Pe,Fe,me,ve){const ge=new he(Pe,me,Fe);"code"in me?me.code(ge,ve):ge.$data&&me.validate?(0,c.funcKeywordCode)(ge,me):"macro"in me?(0,c.macroKeywordCode)(ge,me):(me.compile||me.validate)&&(0,c.funcKeywordCode)(ge,me)}d.KeywordCxt=he;const pe=/^\/(?:[^~]|~0|~1)*$/,De=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Xe(Pe,{dataLevel:Fe,dataNames:me,dataPathArr:ve}){let ge,Ae;if(""===Pe)return p.default.rootData;if("/"===Pe[0]){if(!pe.test(Pe))throw new Error(`Invalid JSON-pointer: ${Pe}`);ge=Pe,Ae=p.default.rootData}else{const Le=De.exec(Pe);if(!Le)throw new Error(`Invalid JSON-pointer: ${Pe}`);const Ue=+Le[1];if(ge=Le[2],"#"===ge){if(Ue>=Fe)throw new Error(Ne("property/index",Ue));return ve[Fe-Ue]}if(Ue>Fe)throw new Error(Ne("data",Ue));if(Ae=me[Fe-Ue],!ge)return Ae}let $e=Ae;const xe=ge.split("/");for(const Le of xe)Le&&(Ae=i._`${Ae}${(0,i.getProperty)((0,l.unescapeJsonPointer)(Le))}`,$e=i._`${$e} && ${Ae}`);return $e;function Ne(Le,Ue){return`Cannot access ${Le} ${Ue} levels up, current level is ${Fe}`}}d.getData=Xe},40742:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.validateKeywordUsage=d.validSchemaType=d.funcKeywordCode=d.macroKeywordCode=void 0;const h=s(85432),a=s(12682),v=s(12240),m=s(37511);function u(E){const{gen:b,data:A,it:C}=E;b.if(C.parentData,()=>b.assign(A,h._`${C.parentData}[${C.parentDataProperty}]`))}function o(E,b,A){if(void 0===A)throw new Error(`keyword "${b}" failed to compile`);return E.scopeValue("keyword","function"==typeof A?{ref:A}:{ref:A,code:(0,h.stringify)(A)})}d.macroKeywordCode=function g(E,b){const{gen:A,keyword:C,schema:_,parentSchema:N,it:O}=E,j=b.macro.call(O.self,_,N,O),F=o(A,C,j);!1!==O.opts.validateSchema&&O.self.validateSchema(j,!0);const T=A.name("valid");E.subschema({schema:j,schemaPath:h.nil,errSchemaPath:`${O.errSchemaPath}/${C}`,topSchemaRef:F,compositeRule:!0},T),E.pass(T,()=>E.error(!0))},d.funcKeywordCode=function c(E,b){var A;const{gen:C,keyword:_,schema:N,parentSchema:O,$data:j,it:F}=E;!function p({schemaEnv:E},b){if(b.async&&!E.$async)throw new Error("async keyword in sync schema")}(F,b);const T=!j&&b.compile?b.compile.call(F.self,N,O,F):b.validate,z=o(C,_,T),ee=C.let("valid");function R(W=(b.async?h._`await `:h.nil)){C.assign(ee,h._`${W}${(0,v.callValidateCode)(E,z,F.opts.passContext?a.default.this:a.default.self,!("compile"in b&&!j||!1===b.schema))}`,b.modifying)}function J(W){var ce;C.if((0,h.not)(null!==(ce=b.valid)&&void 0!==ce?ce:ee),W)}E.block$data(ee,function ie(){if(!1===b.errors)R(),b.modifying&&u(E),J(()=>E.error());else{const W=b.async?function x(){const W=C.let("ruleErrs",null);return C.try(()=>R(h._`await `),ce=>C.assign(ee,!1).if(h._`${ce} instanceof ${F.ValidationError}`,()=>C.assign(W,h._`${ce}.errors`),()=>C.throw(ce))),W}():function H(){const W=h._`${z}.errors`;return C.assign(W,null),R(h.nil),W}();b.modifying&&u(E),J(()=>function i(E,b){const{gen:A}=E;A.if(h._`Array.isArray(${b})`,()=>{A.assign(a.default.vErrors,h._`${a.default.vErrors} === null ? ${b} : ${a.default.vErrors}.concat(${b})`).assign(a.default.errors,h._`${a.default.vErrors}.length`),(0,m.extendErrors)(E)},()=>E.error())}(E,W))}}),E.ok(null!==(A=b.valid)&&void 0!==A?A:ee)},d.validSchemaType=function l(E,b,A=!1){return!b.length||b.some(C=>"array"===C?Array.isArray(E):"object"===C?E&&"object"==typeof E&&!Array.isArray(E):typeof E==C||A&&typeof E>"u")},d.validateKeywordUsage=function w({schema:E,opts:b,self:A,errSchemaPath:C},_,N){if(Array.isArray(_.keyword)?!_.keyword.includes(N):_.keyword!==N)throw new Error("ajv implementation error");const O=_.dependencies;if(O?.some(j=>!Object.prototype.hasOwnProperty.call(E,j)))throw new Error(`parent schema must have dependencies of ${N}: ${O.join(",")}`);if(_.validateSchema&&!_.validateSchema(E[N])){const F=`keyword "${N}" value is invalid at path "${C}": `+A.errorsText(_.validateSchema.errors);if("log"!==b.validateSchema)throw new Error(F);A.logger.error(F)}}},35924:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.extendSubschemaMode=d.extendSubschemaData=d.getSubschema=void 0;const h=s(85432),a=s(87868);d.getSubschema=function v(c,{keyword:u,schemaProp:i,schema:p,schemaPath:o,errSchemaPath:l,topSchemaRef:w}){if(void 0!==u&&void 0!==p)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==u){const E=c.schema[u];return void 0===i?{schema:E,schemaPath:h._`${c.schemaPath}${(0,h.getProperty)(u)}`,errSchemaPath:`${c.errSchemaPath}/${u}`}:{schema:E[i],schemaPath:h._`${c.schemaPath}${(0,h.getProperty)(u)}${(0,h.getProperty)(i)}`,errSchemaPath:`${c.errSchemaPath}/${u}/${(0,a.escapeFragment)(i)}`}}if(void 0!==p){if(void 0===o||void 0===l||void 0===w)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:p,schemaPath:o,topSchemaRef:w,errSchemaPath:l}}throw new Error('either "keyword" or "schema" must be passed')},d.extendSubschemaData=function m(c,u,{dataProp:i,dataPropType:p,data:o,dataTypes:l,propertyName:w}){if(void 0!==o&&void 0!==i)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:E}=u;if(void 0!==i){const{errorPath:A,dataPathArr:C,opts:_}=u;b(E.let("data",h._`${u.data}${(0,h.getProperty)(i)}`,!0)),c.errorPath=h.str`${A}${(0,a.getErrorPath)(i,p,_.jsPropertySyntax)}`,c.parentDataProperty=h._`${i}`,c.dataPathArr=[...C,c.parentDataProperty]}function b(A){c.data=A,c.dataLevel=u.dataLevel+1,c.dataTypes=[],u.definedProperties=new Set,c.parentData=u.data,c.dataNames=[...u.dataNames,A]}void 0!==o&&(b(o instanceof h.Name?o:E.let("data",o,!0)),void 0!==w&&(c.propertyName=w)),l&&(c.dataTypes=l)},d.extendSubschemaMode=function g(c,{jtdDiscriminator:u,jtdMetadata:i,compositeRule:p,createErrors:o,allErrors:l}){void 0!==p&&(c.compositeRule=p),void 0!==o&&(c.createErrors=o),void 0!==l&&(c.allErrors=l),c.jtdDiscriminator=u,c.jtdMetadata=i}},2113:(X,d,s)=>{"use strict";var h=s(29293).default;Object.defineProperty(d,"__esModule",{value:!0}),d.CodeGen=d.Name=d.nil=d.stringify=d.str=d._=d.KeywordCxt=void 0;var a=s(87157);Object.defineProperty(d,"KeywordCxt",{enumerable:!0,get:function(){return a.KeywordCxt}});var v=s(85432);Object.defineProperty(d,"_",{enumerable:!0,get:function(){return v._}}),Object.defineProperty(d,"str",{enumerable:!0,get:function(){return v.str}}),Object.defineProperty(d,"stringify",{enumerable:!0,get:function(){return v.stringify}}),Object.defineProperty(d,"nil",{enumerable:!0,get:function(){return v.nil}}),Object.defineProperty(d,"Name",{enumerable:!0,get:function(){return v.Name}}),Object.defineProperty(d,"CodeGen",{enumerable:!0,get:function(){return v.CodeGen}});const m=s(9857),g=s(66606),c=s(66093),u=s(7762),i=s(85432),p=s(28222),o=s(15894),l=s(87868),w=s(63837),E=s(12857),b=(S,I)=>new RegExp(S,I);b.code="new RegExp";const A=["removeAdditional","useDefaults","coerceTypes"],C=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),_={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},N={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function j(S){var I,G,K,q,le,he,Ee,pe,De,Xe,Pe,Fe,me,ve,ge,Ae,$e,xe,Ne,Le,Ue,qe,Je,We,at;const te=S.strict,U=null===(I=S.code)||void 0===I?void 0:I.optimize,P=!0===U||void 0===U?1:U||0,Y=null!==(K=null===(G=S.code)||void 0===G?void 0:G.regExp)&&void 0!==K?K:b,Se=null!==(q=S.uriResolver)&&void 0!==q?q:E.default;return{strictSchema:null===(he=null!==(le=S.strictSchema)&&void 0!==le?le:te)||void 0===he||he,strictNumbers:null===(pe=null!==(Ee=S.strictNumbers)&&void 0!==Ee?Ee:te)||void 0===pe||pe,strictTypes:null!==(Xe=null!==(De=S.strictTypes)&&void 0!==De?De:te)&&void 0!==Xe?Xe:"log",strictTuples:null!==(Fe=null!==(Pe=S.strictTuples)&&void 0!==Pe?Pe:te)&&void 0!==Fe?Fe:"log",strictRequired:null!==(ve=null!==(me=S.strictRequired)&&void 0!==me?me:te)&&void 0!==ve&&ve,code:S.code?{...S.code,optimize:P,regExp:Y}:{optimize:P,regExp:Y},loopRequired:null!==(ge=S.loopRequired)&&void 0!==ge?ge:200,loopEnum:null!==(Ae=S.loopEnum)&&void 0!==Ae?Ae:200,meta:null===($e=S.meta)||void 0===$e||$e,messages:null===(xe=S.messages)||void 0===xe||xe,inlineRefs:null===(Ne=S.inlineRefs)||void 0===Ne||Ne,schemaId:null!==(Le=S.schemaId)&&void 0!==Le?Le:"$id",addUsedSchema:null===(Ue=S.addUsedSchema)||void 0===Ue||Ue,validateSchema:null===(qe=S.validateSchema)||void 0===qe||qe,validateFormats:null===(Je=S.validateFormats)||void 0===Je||Je,unicodeRegExp:null===(We=S.unicodeRegExp)||void 0===We||We,int32range:null===(at=S.int32range)||void 0===at||at,uriResolver:Se}}class F{constructor(I={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,I=this.opts={...I,...j(I)};const{es5:G,lines:K}=this.opts.code;this.scope=new i.ValueScope({scope:{},prefixes:C,es5:G,lines:K}),this.logger=function J(S){if(!1===S)return R;if(void 0===S)return console;if(S.log&&S.warn&&S.error)return S;throw new Error("logger must implement log, warn and error methods")}(I.logger);const q=I.validateFormats;I.validateFormats=!1,this.RULES=(0,c.getRules)(),T.call(this,_,I,"NOT SUPPORTED"),T.call(this,N,I,"DEPRECATED","warn"),this._metaOpts=H.call(this),I.formats&&ie.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),I.keywords&&x.call(this,I.keywords),"object"==typeof I.meta&&this.addMetaSchema(I.meta),ee.call(this),I.validateFormats=q}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:I,meta:G,schemaId:K}=this.opts;let q=w;"id"===K&&(q={...w},q.id=q.$id,delete q.$id),G&&I&&this.addMetaSchema(q,q[K],!1)}defaultMeta(){const{meta:I,schemaId:G}=this.opts;return this.opts.defaultMeta="object"==typeof I?I[G]||I:void 0}validate(I,G){let K;if("string"==typeof I){if(K=this.getSchema(I),!K)throw new Error(`no schema with key or ref "${I}"`)}else K=this.compile(I);const q=K(G);return"$async"in K||(this.errors=K.errors),q}compile(I,G){const K=this._addSchema(I,G);return K.validate||this._compileSchemaEnv(K)}compileAsync(I,G){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:K}=this.opts;return q.call(this,I,G);function q(ge,Ae){return le.apply(this,arguments)}function le(){return(le=h(function*(ge,Ae){yield he.call(this,ge.$schema);const $e=this._addSchema(ge,Ae);return $e.validate||pe.call(this,$e)})).apply(this,arguments)}function he(ge){return Ee.apply(this,arguments)}function Ee(){return(Ee=h(function*(ge){ge&&!this.getSchema(ge)&&(yield q.call(this,{$ref:ge},!0))})).apply(this,arguments)}function pe(ge){return De.apply(this,arguments)}function De(){return(De=h(function*(ge){try{return this._compileSchemaEnv(ge)}catch(Ae){if(!(Ae instanceof g.default))throw Ae;return Xe.call(this,Ae),yield Pe.call(this,Ae.missingSchema),pe.call(this,ge)}})).apply(this,arguments)}function Xe({missingSchema:ge,missingRef:Ae}){if(this.refs[ge])throw new Error(`AnySchema ${ge} is loaded but ${Ae} cannot be resolved`)}function Pe(ge){return Fe.apply(this,arguments)}function Fe(){return(Fe=h(function*(ge){const Ae=yield me.call(this,ge);this.refs[ge]||(yield he.call(this,Ae.$schema)),this.refs[ge]||this.addSchema(Ae,ge,G)})).apply(this,arguments)}function me(ge){return ve.apply(this,arguments)}function ve(){return(ve=h(function*(ge){const Ae=this._loading[ge];if(Ae)return Ae;try{return yield this._loading[ge]=K(ge)}finally{delete this._loading[ge]}})).apply(this,arguments)}}addSchema(I,G,K,q=this.opts.validateSchema){if(Array.isArray(I)){for(const he of I)this.addSchema(he,void 0,K,q);return this}let le;if("object"==typeof I){const{schemaId:he}=this.opts;if(le=I[he],void 0!==le&&"string"!=typeof le)throw new Error(`schema ${he} must be string`)}return G=(0,p.normalizeId)(G||le),this._checkUnique(G),this.schemas[G]=this._addSchema(I,K,G,q,!0),this}addMetaSchema(I,G,K=this.opts.validateSchema){return this.addSchema(I,G,!0,K),this}validateSchema(I,G){if("boolean"==typeof I)return!0;let K;if(K=I.$schema,void 0!==K&&"string"!=typeof K)throw new Error("$schema must be a string");if(K=K||this.opts.defaultMeta||this.defaultMeta(),!K)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const q=this.validate(K,I);if(!q&&G){const le="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(le);this.logger.error(le)}return q}getSchema(I){let G;for(;"string"==typeof(G=z.call(this,I));)I=G;if(void 0===G){const{schemaId:K}=this.opts,q=new u.SchemaEnv({schema:{},schemaId:K});if(G=u.resolveSchema.call(this,q,I),!G)return;this.refs[I]=G}return G.validate||this._compileSchemaEnv(G)}removeSchema(I){if(I instanceof RegExp)return this._removeAllSchemas(this.schemas,I),this._removeAllSchemas(this.refs,I),this;switch(typeof I){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const G=z.call(this,I);return"object"==typeof G&&this._cache.delete(G.schema),delete this.schemas[I],delete this.refs[I],this}case"object":{this._cache.delete(I);let K=I[this.opts.schemaId];return K&&(K=(0,p.normalizeId)(K),delete this.schemas[K],delete this.refs[K]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(I){for(const G of I)this.addKeyword(G);return this}addKeyword(I,G){let K;if("string"==typeof I)K=I,"object"==typeof G&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),G.keyword=K);else{if("object"!=typeof I||void 0!==G)throw new Error("invalid addKeywords parameters");if(K=(G=I).keyword,Array.isArray(K)&&!K.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(ce.call(this,K,G),!G)return(0,l.eachItem)(K,le=>M.call(this,le)),this;de.call(this,G);const q={...G,type:(0,o.getJSONTypes)(G.type),schemaType:(0,o.getJSONTypes)(G.schemaType)};return(0,l.eachItem)(K,0===q.type.length?le=>M.call(this,le,q):le=>q.type.forEach(he=>M.call(this,le,q,he))),this}getKeyword(I){const G=this.RULES.all[I];return"object"==typeof G?G.definition:!!G}removeKeyword(I){const{RULES:G}=this;delete G.keywords[I],delete G.all[I];for(const K of G.rules){const q=K.rules.findIndex(le=>le.keyword===I);q>=0&&K.rules.splice(q,1)}return this}addFormat(I,G){return"string"==typeof G&&(G=new RegExp(G)),this.formats[I]=G,this}errorsText(I=this.errors,{separator:G=", ",dataVar:K="data"}={}){return I&&0!==I.length?I.map(q=>`${K}${q.instancePath} ${q.message}`).reduce((q,le)=>q+G+le):"No errors"}$dataMetaSchema(I,G){const K=this.RULES.all;I=JSON.parse(JSON.stringify(I));for(const q of G){const le=q.split("/").slice(1);let he=I;for(const Ee of le)he=he[Ee];for(const Ee in K){const pe=K[Ee];if("object"!=typeof pe)continue;const{$data:De}=pe.definition,Xe=he[Ee];De&&Xe&&(he[Ee]=je(Xe))}}return I}_removeAllSchemas(I,G){for(const K in I){const q=I[K];(!G||G.test(K))&&("string"==typeof q?delete I[K]:q&&!q.meta&&(this._cache.delete(q.schema),delete I[K]))}}_addSchema(I,G,K,q=this.opts.validateSchema,le=this.opts.addUsedSchema){let he;const{schemaId:Ee}=this.opts;if("object"==typeof I)he=I[Ee];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof I)throw new Error("schema must be object or boolean")}let pe=this._cache.get(I);if(void 0!==pe)return pe;K=(0,p.normalizeId)(he||K);const De=p.getSchemaRefs.call(this,I,K);return pe=new u.SchemaEnv({schema:I,schemaId:Ee,meta:G,baseId:K,localRefs:De}),this._cache.set(pe.schema,pe),le&&!K.startsWith("#")&&(K&&this._checkUnique(K),this.refs[K]=pe),q&&this.validateSchema(I,!0),pe}_checkUnique(I){if(this.schemas[I]||this.refs[I])throw new Error(`schema with key or id "${I}" already exists`)}_compileSchemaEnv(I){if(I.meta?this._compileMetaSchema(I):u.compileSchema.call(this,I),!I.validate)throw new Error("ajv implementation error");return I.validate}_compileMetaSchema(I){const G=this.opts;this.opts=this._metaOpts;try{u.compileSchema.call(this,I)}finally{this.opts=G}}}function T(S,I,G,K="error"){for(const q in S)q in I&&this.logger[K](`${G}: option ${q}. ${S[q]}`)}function z(S){return S=(0,p.normalizeId)(S),this.schemas[S]||this.refs[S]}function ee(){const S=this.opts.schemas;if(S)if(Array.isArray(S))this.addSchema(S);else for(const I in S)this.addSchema(S[I],I)}function ie(){for(const S in this.opts.formats){const I=this.opts.formats[S];I&&this.addFormat(S,I)}}function x(S){if(Array.isArray(S))this.addVocabulary(S);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const I in S){const G=S[I];G.keyword||(G.keyword=I),this.addKeyword(G)}}}function H(){const S={...this.opts};for(const I of A)delete S[I];return S}F.ValidationError=m.default,F.MissingRefError=g.default,d.default=F;const R={log(){},warn(){},error(){}},W=/^[a-z_$][a-z0-9_$:-]*$/i;function ce(S,I){const{RULES:G}=this;if((0,l.eachItem)(S,K=>{if(G.keywords[K])throw new Error(`Keyword ${K} is already defined`);if(!W.test(K))throw new Error(`Keyword ${K} has invalid name`)}),I&&I.$data&&!("code"in I)&&!("validate"in I))throw new Error('$data keyword must have "code" or "validate" function')}function M(S,I,G){var K;const q=I?.post;if(G&&q)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:le}=this;let he=q?le.post:le.rules.find(({type:pe})=>pe===G);if(he||(he={type:G,rules:[]},le.rules.push(he)),le.keywords[S]=!0,!I)return;const Ee={keyword:S,definition:{...I,type:(0,o.getJSONTypes)(I.type),schemaType:(0,o.getJSONTypes)(I.schemaType)}};I.before?Q.call(this,he,Ee,I.before):he.rules.push(Ee),le.all[S]=Ee,null===(K=I.implements)||void 0===K||K.forEach(pe=>this.addKeyword(pe))}function Q(S,I,G){const K=S.rules.findIndex(q=>q.keyword===G);K>=0?S.rules.splice(K,0,I):(S.rules.push(I),this.logger.warn(`rule ${G} is not defined`))}function de(S){let{metaSchema:I}=S;void 0!==I&&(S.$data&&this.opts.$data&&(I=je(I)),S.validateSchema=this.compile(I,!0))}const we={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function je(S){return{anyOf:[S,we]}}},54195:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(40362);h.code='require("ajv/dist/runtime/equal").default',d.default=h},41506:(X,d)=>{"use strict";function s(h){const a=h.length;let g,v=0,m=0;for(;m<a;)v++,g=h.charCodeAt(m++),g>=55296&&g<=56319&&m<a&&(g=h.charCodeAt(m),56320==(64512&g)&&m++);return v}Object.defineProperty(d,"__esModule",{value:!0}),d.default=s,s.code='require("ajv/dist/runtime/ucs2length").default'},12857:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(95568);h.code='require("ajv/dist/runtime/uri").default',d.default=h},9857:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});class s extends Error{constructor(a){super("validation failed"),this.errors=a,this.ajv=this.validation=!0}}d.default=s},12676:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.validateAdditionalItems=void 0;const h=s(85432),a=s(87868),m={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:c}})=>h.str`must NOT have more than ${c} items`,params:({params:{len:c}})=>h._`{limit: ${c}}`},code(c){const{parentSchema:u,it:i}=c,{items:p}=u;Array.isArray(p)?g(c,p):(0,a.checkStrictMode)(i,'"additionalItems" is ignored when "items" is not an array of schemas')}};function g(c,u){const{gen:i,schema:p,data:o,keyword:l,it:w}=c;w.items=!0;const E=i.const("len",h._`${o}.length`);if(!1===p)c.setParams({len:u.length}),c.pass(h._`${E} <= ${u.length}`);else if("object"==typeof p&&!(0,a.alwaysValidSchema)(w,p)){const A=i.var("valid",h._`${E} <= ${u.length}`);i.if((0,h.not)(A),()=>function b(A){i.forRange("i",u.length,E,C=>{c.subschema({keyword:l,dataProp:C,dataPropType:a.Type.Num},A),w.allErrors||i.if((0,h.not)(A),()=>i.break())})}(A)),c.ok(A)}}d.validateAdditionalItems=g,d.default=m},84491:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(12240),a=s(85432),v=s(12682),m=s(87868);d.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:u})=>a._`{additionalProperty: ${u.additionalProperty}}`},code(u){const{gen:i,schema:p,parentSchema:o,data:l,errsCount:w,it:E}=u;if(!w)throw new Error("ajv implementation error");const{allErrors:b,opts:A}=E;if(E.props=!0,"all"!==A.removeAdditional&&(0,m.alwaysValidSchema)(E,p))return;const C=(0,h.allSchemaProperties)(o.properties),_=(0,h.allSchemaProperties)(o.patternProperties);function j(z){i.code(a._`delete ${l}[${z}]`)}function F(z){if("all"===A.removeAdditional||A.removeAdditional&&!1===p)j(z);else{if(!1===p)return u.setParams({additionalProperty:z}),u.error(),void(b||i.break());if("object"==typeof p&&!(0,m.alwaysValidSchema)(E,p)){const ee=i.name("valid");"failing"===A.removeAdditional?(T(z,ee,!1),i.if((0,a.not)(ee),()=>{u.reset(),j(z)})):(T(z,ee),b||i.if((0,a.not)(ee),()=>i.break()))}}}function T(z,ee,ie){const x={keyword:"additionalProperties",dataProp:z,dataPropType:m.Type.Str};!1===ie&&Object.assign(x,{compositeRule:!0,createErrors:!1,allErrors:!1}),u.subschema(x,ee)}(function N(){i.forIn("key",l,z=>{C.length||_.length?i.if(function O(z){let ee;if(C.length>8){const ie=(0,m.schemaRefOrVal)(E,o.properties,"properties");ee=(0,h.isOwnProperty)(i,ie,z)}else ee=C.length?(0,a.or)(...C.map(ie=>a._`${z} === ${ie}`)):a.nil;return _.length&&(ee=(0,a.or)(ee,..._.map(ie=>a._`${(0,h.usePattern)(u,ie)}.test(${z})`))),(0,a.not)(ee)}(z),()=>F(z)):F(z)})})(),u.ok(a._`${w} === ${v.default.errors}`)}}},2937:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(87868);d.default={keyword:"allOf",schemaType:"array",code(v){const{gen:m,schema:g,it:c}=v;if(!Array.isArray(g))throw new Error("ajv implementation error");const u=m.name("valid");g.forEach((i,p)=>{if((0,h.alwaysValidSchema)(c,i))return;const o=v.subschema({keyword:"allOf",schemaProp:p},u);v.ok(u),v.mergeEvaluated(o)})}}},83968:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const a={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:s(12240).validateUnion,error:{message:"must match a schema in anyOf"}};d.default=a},66066:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(85432),a=s(87868);d.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:g,max:c}})=>void 0===c?h.str`must contain at least ${g} valid item(s)`:h.str`must contain at least ${g} and no more than ${c} valid item(s)`,params:({params:{min:g,max:c}})=>void 0===c?h._`{minContains: ${g}}`:h._`{minContains: ${g}, maxContains: ${c}}`},code(g){const{gen:c,schema:u,parentSchema:i,data:p,it:o}=g;let l,w;const{minContains:E,maxContains:b}=i;o.opts.next?(l=void 0===E?1:E,w=b):l=1;const A=c.const("len",h._`${p}.length`);if(g.setParams({min:l,max:w}),void 0===w&&0===l)return void(0,a.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==w&&l>w)return(0,a.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),void g.fail();if((0,a.alwaysValidSchema)(o,u)){let j=h._`${A} >= ${l}`;return void 0!==w&&(j=h._`${j} && ${A} <= ${w}`),void g.pass(j)}o.items=!0;const C=c.name("valid");function _(){const j=c.name("_valid"),F=c.let("count",0);N(j,()=>c.if(j,()=>function O(j){c.code(h._`${j}++`),void 0===w?c.if(h._`${j} >= ${l}`,()=>c.assign(C,!0).break()):(c.if(h._`${j} > ${w}`,()=>c.assign(C,!1).break()),1===l?c.assign(C,!0):c.if(h._`${j} >= ${l}`,()=>c.assign(C,!0)))}(F)))}function N(j,F){c.forRange("i",0,A,T=>{g.subschema({keyword:"contains",dataProp:T,dataPropType:a.Type.Num,compositeRule:!0},j),F()})}void 0===w&&1===l?N(C,()=>c.if(C,()=>c.break())):0===l?(c.let(C,!0),void 0!==w&&c.if(h._`${p}.length > 0`,_)):(c.let(C,!1),_()),g.result(C,()=>g.reset())}}},99310:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.validateSchemaDeps=d.validatePropertyDeps=d.error=void 0;const h=s(85432),a=s(87868),v=s(12240);d.error={message:({params:{property:i,depsCount:p,deps:o}})=>h.str`must have ${1===p?"property":"properties"} ${o} when property ${i} is present`,params:({params:{property:i,depsCount:p,deps:o,missingProperty:l}})=>h._`{property: ${i},
    missingProperty: ${l},
    depsCount: ${p},
    deps: ${o}}`};const m={keyword:"dependencies",type:"object",schemaType:"object",error:d.error,code(i){const[p,o]=function g({schema:i}){const p={},o={};for(const l in i)"__proto__"!==l&&((Array.isArray(i[l])?p:o)[l]=i[l]);return[p,o]}(i);c(i,p),u(i,o)}};function c(i,p=i.schema){const{gen:o,data:l,it:w}=i;if(0===Object.keys(p).length)return;const E=o.let("missing");for(const b in p){const A=p[b];if(0===A.length)continue;const C=(0,v.propertyInData)(o,l,b,w.opts.ownProperties);i.setParams({property:b,depsCount:A.length,deps:A.join(", ")}),w.allErrors?o.if(C,()=>{for(const _ of A)(0,v.checkReportMissingProp)(i,_)}):(o.if(h._`${C} && (${(0,v.checkMissingProp)(i,A,E)})`),(0,v.reportMissingProp)(i,E),o.else())}}function u(i,p=i.schema){const{gen:o,data:l,keyword:w,it:E}=i,b=o.name("valid");for(const A in p)(0,a.alwaysValidSchema)(E,p[A])||(o.if((0,v.propertyInData)(o,l,A,E.opts.ownProperties),()=>{const C=i.subschema({keyword:w,schemaProp:A},b);i.mergeValidEvaluated(C,b)},()=>o.var(b,!0)),i.ok(b))}d.validatePropertyDeps=c,d.validateSchemaDeps=u,d.default=m},13884:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(85432),a=s(87868);function g(c,u){const i=c.schema[u];return void 0!==i&&!(0,a.alwaysValidSchema)(c,i)}d.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:c})=>h.str`must match "${c.ifClause}" schema`,params:({params:c})=>h._`{failingKeyword: ${c.ifClause}}`},code(c){const{gen:u,parentSchema:i,it:p}=c;void 0===i.then&&void 0===i.else&&(0,a.checkStrictMode)(p,'"if" without "then" and "else" is ignored');const o=g(p,"then"),l=g(p,"else");if(!o&&!l)return;const w=u.let("valid",!0),E=u.name("_valid");if(function b(){const C=c.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},E);c.mergeEvaluated(C)}(),c.reset(),o&&l){const C=u.let("ifClause");c.setParams({ifClause:C}),u.if(E,A("then",C),A("else",C))}else o?u.if(E,A("then")):u.if((0,h.not)(E),A("else"));function A(C,_){return()=>{const N=c.subschema({keyword:C},E);u.assign(w,E),c.mergeValidEvaluated(N,w),_?u.assign(_,h._`${C}`):c.setParams({ifClause:C})}}c.pass(w,()=>c.error(!0))}}},69795:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(12676),a=s(90207),v=s(23403),m=s(18555),g=s(66066),c=s(99310),u=s(62944),i=s(84491),p=s(48758),o=s(55852),l=s(6970),w=s(83968),E=s(2646),b=s(2937),A=s(13884),C=s(73337);d.default=function _(N=!1){const O=[l.default,w.default,E.default,b.default,A.default,C.default,u.default,i.default,c.default,p.default,o.default];return N?O.push(a.default,m.default):O.push(h.default,v.default),O.push(g.default),O}},23403:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.validateTuple=void 0;const h=s(85432),a=s(87868),v=s(12240),m={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(c){const{schema:u,it:i}=c;if(Array.isArray(u))return g(c,"additionalItems",u);i.items=!0,!(0,a.alwaysValidSchema)(i,u)&&c.ok((0,v.validateArray)(c))}};function g(c,u,i=c.schema){const{gen:p,parentSchema:o,data:l,keyword:w,it:E}=c;(function C(_){const{opts:N,errSchemaPath:O}=E,j=i.length;N.strictTuples&&!(j===_.minItems&&(j===_.maxItems||!1===_[u]))&&(0,a.checkStrictMode)(E,`"${w}" is ${j}-tuple, but minItems or maxItems/${u} are not specified or different at path "${O}"`,N.strictTuples)})(o),E.opts.unevaluated&&i.length&&!0!==E.items&&(E.items=a.mergeEvaluated.items(p,i.length,E.items));const b=p.name("valid"),A=p.const("len",h._`${l}.length`);i.forEach((_,N)=>{(0,a.alwaysValidSchema)(E,_)||(p.if(h._`${A} > ${N}`,()=>c.subschema({keyword:w,schemaProp:N,dataProp:N},b)),c.ok(b))})}d.validateTuple=g,d.default=m},18555:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(85432),a=s(87868),v=s(12240),m=s(12676);d.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:u}})=>h.str`must NOT have more than ${u} items`,params:({params:{len:u}})=>h._`{limit: ${u}}`},code(u){const{schema:i,parentSchema:p,it:o}=u,{prefixItems:l}=p;o.items=!0,!(0,a.alwaysValidSchema)(o,i)&&(l?(0,m.validateAdditionalItems)(u,l):u.ok((0,v.validateArray)(u)))}}},6970:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(87868);d.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(v){const{gen:m,schema:g,it:c}=v;if((0,h.alwaysValidSchema)(c,g))return void v.fail();const u=m.name("valid");v.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},u),v.failResult(u,()=>v.reset(),()=>v.error())},error:{message:"must NOT be valid"}}},2646:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(85432),a=s(87868);d.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:g})=>h._`{passingSchemas: ${g.passing}}`},code(g){const{gen:c,schema:u,parentSchema:i,it:p}=g;if(!Array.isArray(u))throw new Error("ajv implementation error");if(p.opts.discriminator&&i.discriminator)return;const o=u,l=c.let("valid",!1),w=c.let("passing",null),E=c.name("_valid");g.setParams({passing:w}),c.block(function b(){o.forEach((A,C)=>{let _;(0,a.alwaysValidSchema)(p,A)?c.var(E,!0):_=g.subschema({keyword:"oneOf",schemaProp:C,compositeRule:!0},E),C>0&&c.if(h._`${E} && ${l}`).assign(l,!1).assign(w,h._`[${w}, ${C}]`).else(),c.if(E,()=>{c.assign(l,!0),c.assign(w,C),_&&g.mergeEvaluated(_,h.Name)})})}),g.result(l,()=>g.reset(),()=>g.error(!0))}}},55852:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(12240),a=s(85432),v=s(87868),m=s(87868);d.default={keyword:"patternProperties",type:"object",schemaType:"object",code(c){const{gen:u,schema:i,data:p,parentSchema:o,it:l}=c,{opts:w}=l,E=(0,h.allSchemaProperties)(i),b=E.filter(F=>(0,v.alwaysValidSchema)(l,i[F]));if(0===E.length||b.length===E.length&&(!l.opts.unevaluated||!0===l.props))return;const A=w.strictSchema&&!w.allowMatchingProperties&&o.properties,C=u.name("valid");!0!==l.props&&!(l.props instanceof a.Name)&&(l.props=(0,m.evaluatedPropsToName)(u,l.props));const{props:_}=l;function O(F){for(const T in A)new RegExp(F).test(T)&&(0,v.checkStrictMode)(l,`property ${T} matches pattern ${F} (use allowMatchingProperties)`)}function j(F){u.forIn("key",p,T=>{u.if(a._`${(0,h.usePattern)(c,F)}.test(${T})`,()=>{const z=b.includes(F);z||c.subschema({keyword:"patternProperties",schemaProp:F,dataProp:T,dataPropType:m.Type.Str},C),l.opts.unevaluated&&!0!==_?u.assign(a._`${_}[${T}]`,!0):!z&&!l.allErrors&&u.if((0,a.not)(C),()=>u.break())})})}!function N(){for(const F of E)A&&O(F),l.allErrors?j(F):(u.var(C,!0),j(F),u.if(C))}()}}},90207:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(23403);d.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:v=>(0,h.validateTuple)(v,"items")}},48758:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(87157),a=s(12240),v=s(87868),m=s(84491);d.default={keyword:"properties",type:"object",schemaType:"object",code(c){const{gen:u,schema:i,parentSchema:p,data:o,it:l}=c;"all"===l.opts.removeAdditional&&void 0===p.additionalProperties&&m.default.code(new h.KeywordCxt(l,m.default,"additionalProperties"));const w=(0,a.allSchemaProperties)(i);for(const _ of w)l.definedProperties.add(_);l.opts.unevaluated&&w.length&&!0!==l.props&&(l.props=v.mergeEvaluated.props(u,(0,v.toHash)(w),l.props));const E=w.filter(_=>!(0,v.alwaysValidSchema)(l,i[_]));if(0===E.length)return;const b=u.name("valid");for(const _ of E)A(_)?C(_):(u.if((0,a.propertyInData)(u,o,_,l.opts.ownProperties)),C(_),l.allErrors||u.else().var(b,!0),u.endIf()),c.it.definedProperties.add(_),c.ok(b);function A(_){return l.opts.useDefaults&&!l.compositeRule&&void 0!==i[_].default}function C(_){c.subschema({keyword:"properties",schemaProp:_,dataProp:_},b)}}}},62944:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(85432),a=s(87868);d.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:g})=>h._`{propertyName: ${g.propertyName}}`},code(g){const{gen:c,schema:u,data:i,it:p}=g;if((0,a.alwaysValidSchema)(p,u))return;const o=c.name("valid");c.forIn("key",i,l=>{g.setParams({propertyName:l}),g.subschema({keyword:"propertyNames",data:l,dataTypes:["string"],propertyName:l,compositeRule:!0},o),c.if((0,h.not)(o),()=>{g.error(!0),p.allErrors||c.break()})}),g.ok(o)}}},73337:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(87868);d.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:v,parentSchema:m,it:g}){void 0===m.if&&(0,h.checkStrictMode)(g,`"${v}" without "if" is ignored`)}}},12240:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.validateUnion=d.validateArray=d.usePattern=d.callValidateCode=d.schemaProperties=d.allSchemaProperties=d.noPropertyInData=d.propertyInData=d.isOwnProperty=d.hasPropFunc=d.reportMissingProp=d.checkMissingProp=d.checkReportMissingProp=void 0;const h=s(85432),a=s(87868),v=s(12682),m=s(87868);function i(O){return O.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:h._`Object.prototype.hasOwnProperty`})}function p(O,j,F){return h._`${i(O)}.call(${j}, ${F})`}function l(O,j,F,T){const z=h._`${j}${(0,h.getProperty)(F)} === undefined`;return T?(0,h.or)(z,(0,h.not)(p(O,j,F))):z}function w(O){return O?Object.keys(O).filter(j=>"__proto__"!==j):[]}d.checkReportMissingProp=function g(O,j){const{gen:F,data:T,it:z}=O;F.if(l(F,T,j,z.opts.ownProperties),()=>{O.setParams({missingProperty:h._`${j}`},!0),O.error()})},d.checkMissingProp=function c({gen:O,data:j,it:{opts:F}},T,z){return(0,h.or)(...T.map(ee=>(0,h.and)(l(O,j,ee,F.ownProperties),h._`${z} = ${ee}`)))},d.reportMissingProp=function u(O,j){O.setParams({missingProperty:j},!0),O.error()},d.hasPropFunc=i,d.isOwnProperty=p,d.propertyInData=function o(O,j,F,T){const z=h._`${j}${(0,h.getProperty)(F)} !== undefined`;return T?h._`${z} && ${p(O,j,F)}`:z},d.noPropertyInData=l,d.allSchemaProperties=w,d.schemaProperties=function E(O,j){return w(j).filter(F=>!(0,a.alwaysValidSchema)(O,j[F]))},d.callValidateCode=function b({schemaCode:O,data:j,it:{gen:F,topSchemaRef:T,schemaPath:z,errorPath:ee},it:ie},x,H,R){const J=R?h._`${O}, ${j}, ${T}${z}`:j,W=[[v.default.instancePath,(0,h.strConcat)(v.default.instancePath,ee)],[v.default.parentData,ie.parentData],[v.default.parentDataProperty,ie.parentDataProperty],[v.default.rootData,v.default.rootData]];ie.opts.dynamicRef&&W.push([v.default.dynamicAnchors,v.default.dynamicAnchors]);const ce=h._`${J}, ${F.object(...W)}`;return H!==h.nil?h._`${x}.call(${H}, ${ce})`:h._`${x}(${ce})`};const A=h._`new RegExp`;d.usePattern=function C({gen:O,it:{opts:j}},F){const T=j.unicodeRegExp?"u":"",{regExp:z}=j.code,ee=z(F,T);return O.scopeValue("pattern",{key:ee.toString(),ref:ee,code:h._`${"new RegExp"===z.code?A:(0,m.useFunc)(O,z)}(${F}, ${T})`})},d.validateArray=function _(O){const{gen:j,data:F,keyword:T,it:z}=O,ee=j.name("valid");if(z.allErrors){const x=j.let("valid",!0);return ie(()=>j.assign(x,!1)),x}return j.var(ee,!0),ie(()=>j.break()),ee;function ie(x){const H=j.const("len",h._`${F}.length`);j.forRange("i",0,H,R=>{O.subschema({keyword:T,dataProp:R,dataPropType:a.Type.Num},ee),j.if((0,h.not)(ee),x)})}},d.validateUnion=function N(O){const{gen:j,schema:F,keyword:T,it:z}=O;if(!Array.isArray(F))throw new Error("ajv implementation error");if(F.some(H=>(0,a.alwaysValidSchema)(z,H))&&!z.opts.unevaluated)return;const ie=j.let("valid",!1),x=j.name("_valid");j.block(()=>F.forEach((H,R)=>{const J=O.subschema({keyword:T,schemaProp:R,compositeRule:!0},x);j.assign(ie,h._`${ie} || ${x}`),O.mergeValidEvaluated(J,x)||j.if((0,h.not)(ie))})),O.result(ie,()=>O.reset(),()=>O.error(!0))}},83260:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},16281:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(83260),a=s(81680);d.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",h.default,a.default]},81680:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.callRef=d.getValidate=void 0;const h=s(66606),a=s(12240),v=s(85432),m=s(12682),g=s(7762),c=s(87868),u={keyword:"$ref",schemaType:"string",code(o){const{gen:l,schema:w,it:E}=o,{baseId:b,schemaEnv:A,validateName:C,opts:_,self:N}=E,{root:O}=A;if(("#"===w||"#/"===w)&&b===O.baseId)return function F(){if(A===O)return p(o,C,A,A.$async);const ee=l.scopeValue("root",{ref:O});return p(o,v._`${ee}.validate`,O,O.$async)}();const j=g.resolveRef.call(N,O,b,w);if(void 0===j)throw new h.default(E.opts.uriResolver,b,w);return j instanceof g.SchemaEnv?function T(ee){const ie=i(o,ee);p(o,ie,ee,ee.$async)}(j):function z(ee){const ie=l.scopeValue("schema",!0===_.code.source?{ref:ee,code:(0,v.stringify)(ee)}:{ref:ee}),x=l.name("valid"),H=o.subschema({schema:ee,dataTypes:[],schemaPath:v.nil,topSchemaRef:ie,errSchemaPath:w},x);o.mergeEvaluated(H),o.ok(x)}(j)}};function i(o,l){const{gen:w}=o;return l.validate?w.scopeValue("validate",{ref:l.validate}):v._`${w.scopeValue("wrapper",{ref:l})}.validate`}function p(o,l,w,E){const{gen:b,it:A}=o,{allErrors:C,schemaEnv:_,opts:N}=A,O=N.passContext?m.default.this:v.nil;function T(ee){const ie=v._`${ee}.errors`;b.assign(m.default.vErrors,v._`${m.default.vErrors} === null ? ${ie} : ${m.default.vErrors}.concat(${ie})`),b.assign(m.default.errors,v._`${m.default.vErrors}.length`)}function z(ee){var ie;if(!A.opts.unevaluated)return;const x=null===(ie=w?.validate)||void 0===ie?void 0:ie.evaluated;if(!0!==A.props)if(x&&!x.dynamicProps)void 0!==x.props&&(A.props=c.mergeEvaluated.props(b,x.props,A.props));else{const H=b.var("props",v._`${ee}.evaluated.props`);A.props=c.mergeEvaluated.props(b,H,A.props,v.Name)}if(!0!==A.items)if(x&&!x.dynamicItems)void 0!==x.items&&(A.items=c.mergeEvaluated.items(b,x.items,A.items));else{const H=b.var("items",v._`${ee}.evaluated.items`);A.items=c.mergeEvaluated.items(b,H,A.items,v.Name)}}E?function j(){if(!_.$async)throw new Error("async schema referenced by sync schema");const ee=b.let("valid");b.try(()=>{b.code(v._`await ${(0,a.callValidateCode)(o,l,O)}`),z(l),C||b.assign(ee,!0)},ie=>{b.if(v._`!(${ie} instanceof ${A.ValidationError})`,()=>b.throw(ie)),T(ie),C||b.assign(ee,!1)}),o.ok(ee)}():function F(){o.result((0,a.callValidateCode)(o,l,O),()=>z(l),()=>T(l))}()}d.getValidate=i,d.callRef=p,d.default=u},78058:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(85432),a=s(97543),v=s(7762),m=s(87868);d.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:u,tagName:i}})=>u===a.DiscrError.Tag?`tag "${i}" must be string`:`value of tag "${i}" must be in oneOf`,params:({params:{discrError:u,tag:i,tagName:p}})=>h._`{error: ${u}, tag: ${p}, tagValue: ${i}}`},code(u){const{gen:i,data:p,schema:o,parentSchema:l,it:w}=u,{oneOf:E}=l;if(!w.opts.discriminator)throw new Error("discriminator: requires discriminator option");const b=o.propertyName;if("string"!=typeof b)throw new Error("discriminator: requires propertyName");if(o.mapping)throw new Error("discriminator: mapping is not supported");if(!E)throw new Error("discriminator: requires oneOf keyword");const A=i.let("valid",!1),C=i.const("tag",h._`${p}${(0,h.getProperty)(b)}`);function N(j){const F=i.name("valid"),T=u.subschema({keyword:"oneOf",schemaProp:j},F);return u.mergeEvaluated(T,h.Name),F}i.if(h._`typeof ${C} == "string"`,()=>function _(){const j=function O(){var j;const F={},T=ee(l);let z=!0;for(let H=0;H<E.length;H++){let R=E[H];R?.$ref&&!(0,m.schemaHasRulesButRef)(R,w.self.RULES)&&(R=v.resolveRef.call(w.self,w.schemaEnv.root,w.baseId,R?.$ref),R instanceof v.SchemaEnv&&(R=R.schema));const J=null===(j=R?.properties)||void 0===j?void 0:j[b];if("object"!=typeof J)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${b}"`);z=z&&(T||ee(R)),ie(J,H)}if(!z)throw new Error(`discriminator: "${b}" must be required`);return F;function ee({required:H}){return Array.isArray(H)&&H.includes(b)}function ie(H,R){if(H.const)x(H.const,R);else{if(!H.enum)throw new Error(`discriminator: "properties/${b}" must have "const" or "enum"`);for(const J of H.enum)x(J,R)}}function x(H,R){if("string"!=typeof H||H in F)throw new Error(`discriminator: "${b}" values must be unique strings`);F[H]=R}}();i.if(!1);for(const F in j)i.elseIf(h._`${C} === ${F}`),i.assign(A,N(j[F]));i.else(),u.error(!1,{discrError:a.DiscrError.Mapping,tag:C,tagName:b}),i.endIf()}(),()=>u.error(!1,{discrError:a.DiscrError.Tag,tag:C,tagName:b})),u.ok(A)}}},97543:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.DiscrError=void 0;var s=function(h){return h.Tag="tag",h.Mapping="mapping",h}(s||(d.DiscrError=s={}))},70457:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(16281),a=s(57085),v=s(69795),m=s(25309),g=s(33880),c=[h.default,a.default,(0,v.default)(),m.default,g.metadataVocabulary,g.contentVocabulary];d.default=c},30742:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(85432);d.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:m})=>h.str`must match format "${m}"`,params:({schemaCode:m})=>h._`{format: ${m}}`},code(m,g){const{gen:c,data:u,$data:i,schema:p,schemaCode:o,it:l}=m,{opts:w,errSchemaPath:E,schemaEnv:b,self:A}=l;w.validateFormats&&(i?function C(){const N=c.scopeValue("formats",{ref:A.formats,code:w.code.formats}),O=c.const("fDef",h._`${N}[${o}]`),j=c.let("fType"),F=c.let("format");c.if(h._`typeof ${O} == "object" && !(${O} instanceof RegExp)`,()=>c.assign(j,h._`${O}.type || "string"`).assign(F,h._`${O}.validate`),()=>c.assign(j,h._`"string"`).assign(F,O)),m.fail$data((0,h.or)(function T(){return!1===w.strictSchema?h.nil:h._`${o} && !${F}`}(),function z(){const ee=b.$async?h._`(${O}.async ? await ${F}(${u}) : ${F}(${u}))`:h._`${F}(${u})`,ie=h._`(typeof ${F} == "function" ? ${ee} : ${F}.test(${u}))`;return h._`${F} && ${F} !== true && ${j} === ${g} && !${ie}`}()))}():function _(){const N=A.formats[p];if(!N)return void function T(){if(!1!==w.strictSchema)throw new Error(ie());function ie(){return`unknown format "${p}" ignored in schema at path "${E}"`}A.logger.warn(ie())}();if(!0===N)return;const[O,j,F]=function z(ie){const x=ie instanceof RegExp?(0,h.regexpCode)(ie):w.code.formats?h._`${w.code.formats}${(0,h.getProperty)(p)}`:void 0,H=c.scopeValue("formats",{key:p,ref:ie,code:x});return"object"!=typeof ie||ie instanceof RegExp?["string",ie,H]:[ie.type||"string",ie.validate,h._`${H}.validate`]}(N);O===g&&m.pass(function ee(){if("object"==typeof N&&!(N instanceof RegExp)&&N.async){if(!b.$async)throw new Error("async format in sync schema");return h._`await ${F}(${u})`}return"function"==typeof j?h._`${F}(${u})`:h._`${F}.test(${u})`}())}())}}},25309:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const a=[s(30742).default];d.default=a},33880:(X,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.contentVocabulary=d.metadataVocabulary=void 0,d.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],d.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},37438:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(85432),a=s(87868),v=s(54195);d.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:c})=>h._`{allowedValue: ${c}}`},code(c){const{gen:u,data:i,$data:p,schemaCode:o,schema:l}=c;p||l&&"object"==typeof l?c.fail$data(h._`!${(0,a.useFunc)(u,v.default)}(${i}, ${o})`):c.fail(h._`${l} !== ${i}`)}}},37956:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(85432),a=s(87868),v=s(54195);d.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:c})=>h._`{allowedValues: ${c}}`},code(c){const{gen:u,data:i,$data:p,schema:o,schemaCode:l,it:w}=c;if(!p&&0===o.length)throw new Error("enum must have non-empty array");let b;const A=()=>b??(b=(0,a.useFunc)(u,v.default));let C;if(o.length>=w.opts.loopEnum||p)C=u.let("valid"),c.block$data(C,function _(){u.assign(C,!1),u.forOf("v",l,O=>u.if(h._`${A()}(${i}, ${O})`,()=>u.assign(C,!0).break()))});else{if(!Array.isArray(o))throw new Error("ajv implementation error");const O=u.const("vSchema",l);C=(0,h.or)(...o.map((j,F)=>function N(O,j){const F=o[j];return"object"==typeof F&&null!==F?h._`${A()}(${i}, ${O}[${j}])`:h._`${i} === ${F}`}(O,F)))}c.pass(C)}}},57085:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(89807),a=s(60776),v=s(55854),m=s(98675),g=s(11379),c=s(64620),u=s(34812),i=s(13632),p=s(37438),o=s(37956);d.default=[h.default,a.default,v.default,m.default,g.default,c.default,u.default,i.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},p.default,o.default]},34812:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(85432);d.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:m,schemaCode:g})=>h.str`must NOT have ${"maxItems"===m?"more":"fewer"} than ${g} items`,params:({schemaCode:m})=>h._`{limit: ${m}}`},code(m){const{keyword:g,data:c,schemaCode:u}=m;m.fail$data(h._`${c}.length ${"maxItems"===g?h.operators.GT:h.operators.LT} ${u}`)}}},55854:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(85432),a=s(87868),v=s(41506);d.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:c,schemaCode:u})=>h.str`must NOT have ${"maxLength"===c?"more":"fewer"} than ${u} characters`,params:({schemaCode:c})=>h._`{limit: ${c}}`},code(c){const{keyword:u,data:i,schemaCode:p,it:o}=c,l="maxLength"===u?h.operators.GT:h.operators.LT,w=!1===o.opts.unicode?h._`${i}.length`:h._`${(0,a.useFunc)(c.gen,v.default)}(${i})`;c.fail$data(h._`${w} ${l} ${p}`)}}},89807:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(85432),a=h.operators,v={maximum:{okStr:"<=",ok:a.LTE,fail:a.GT},minimum:{okStr:">=",ok:a.GTE,fail:a.LT},exclusiveMaximum:{okStr:"<",ok:a.LT,fail:a.GTE},exclusiveMinimum:{okStr:">",ok:a.GT,fail:a.LTE}},m={message:({keyword:c,schemaCode:u})=>h.str`must be ${v[c].okStr} ${u}`,params:({keyword:c,schemaCode:u})=>h._`{comparison: ${v[c].okStr}, limit: ${u}}`},g={keyword:Object.keys(v),type:"number",schemaType:"number",$data:!0,error:m,code(c){const{keyword:u,data:i,schemaCode:p}=c;c.fail$data(h._`${i} ${v[u].fail} ${p} || isNaN(${i})`)}};d.default=g},11379:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(85432);d.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:m,schemaCode:g})=>h.str`must NOT have ${"maxProperties"===m?"more":"fewer"} than ${g} properties`,params:({schemaCode:m})=>h._`{limit: ${m}}`},code(m){const{keyword:g,data:c,schemaCode:u}=m;m.fail$data(h._`Object.keys(${c}).length ${"maxProperties"===g?h.operators.GT:h.operators.LT} ${u}`)}}},60776:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(85432);d.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:m})=>h.str`must be multiple of ${m}`,params:({schemaCode:m})=>h._`{multipleOf: ${m}}`},code(m){const{gen:g,data:c,schemaCode:u,it:i}=m,p=i.opts.multipleOfPrecision,o=g.let("res"),l=p?h._`Math.abs(Math.round(${o}) - ${o}) > 1e-${p}`:h._`${o} !== parseInt(${o})`;m.fail$data(h._`(${u} === 0 || (${o} = ${c}/${u}, ${l}))`)}}},98675:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(12240),a=s(85432);d.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:g})=>a.str`must match pattern "${g}"`,params:({schemaCode:g})=>a._`{pattern: ${g}}`},code(g){const{data:c,$data:u,schema:i,schemaCode:p,it:o}=g,w=u?a._`(new RegExp(${p}, ${o.opts.unicodeRegExp?"u":""}))`:(0,h.usePattern)(g,i);g.fail$data(a._`!${w}.test(${c})`)}}},64620:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(12240),a=s(85432),v=s(87868);d.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:c}})=>a.str`must have required property '${c}'`,params:({params:{missingProperty:c}})=>a._`{missingProperty: ${c}}`},code(c){const{gen:u,schema:i,schemaCode:p,data:o,$data:l,it:w}=c,{opts:E}=w;if(!l&&0===i.length)return;const b=i.length>=E.loopRequired;if(w.allErrors?function A(){if(b||l)c.block$data(a.nil,_);else for(const O of i)(0,h.checkReportMissingProp)(c,O)}():function C(){const O=u.let("missing");if(b||l){const j=u.let("valid",!0);c.block$data(j,()=>function N(O,j){c.setParams({missingProperty:O}),u.forOf(O,p,()=>{u.assign(j,(0,h.propertyInData)(u,o,O,E.ownProperties)),u.if((0,a.not)(j),()=>{c.error(),u.break()})},a.nil)}(O,j)),c.ok(j)}else u.if((0,h.checkMissingProp)(c,i,O)),(0,h.reportMissingProp)(c,O),u.else()}(),E.strictRequired){const O=c.parentSchema.properties,{definedProperties:j}=c.it;for(const F of i)void 0!==O?.[F]||j.has(F)||(0,v.checkStrictMode)(w,`required property "${F}" is not defined at "${w.schemaEnv.baseId+w.errSchemaPath}" (strictRequired)`,w.opts.strictRequired)}function _(){u.forOf("prop",p,O=>{c.setParams({missingProperty:O}),u.if((0,h.noPropertyInData)(u,o,O,E.ownProperties),()=>c.error())})}}}},13632:(X,d,s)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const h=s(15894),a=s(85432),v=s(87868),m=s(54195);d.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:u,j:i}})=>a.str`must NOT have duplicate items (items ## ${i} and ${u} are identical)`,params:({params:{i:u,j:i}})=>a._`{i: ${u}, j: ${i}}`},code(u){const{gen:i,data:p,$data:o,schema:l,parentSchema:w,schemaCode:E,it:b}=u;if(!o&&!l)return;const A=i.let("valid"),C=w.items?(0,h.getSchemaTypes)(w.items):[];function O(F,T){const z=i.name("item"),ee=(0,h.checkDataTypes)(C,z,b.opts.strictNumbers,h.DataType.Wrong),ie=i.const("indices",a._`{}`);i.for(a._`;${F}--;`,()=>{i.let(z,a._`${p}[${F}]`),i.if(ee,a._`continue`),C.length>1&&i.if(a._`typeof ${z} == "string"`,a._`${z} += "_"`),i.if(a._`typeof ${ie}[${z}] == "number"`,()=>{i.assign(T,a._`${ie}[${z}]`),u.error(),i.assign(A,!1).break()}).code(a._`${ie}[${z}] = ${F}`)})}function j(F,T){const z=(0,v.useFunc)(i,m.default),ee=i.name("outer");i.label(ee).for(a._`;${F}--;`,()=>i.for(a._`${T} = ${F}; ${T}--;`,()=>i.if(a._`${z}(${p}[${F}], ${p}[${T}])`,()=>{u.error(),i.assign(A,!1).break(ee)})))}u.block$data(A,function _(){const F=i.let("i",a._`${p}.length`),T=i.let("j");u.setParams({i:F,j:T}),i.assign(A,!0),i.if(a._`${F} > 1`,()=>(function N(){return C.length>0&&!C.some(F=>"object"===F||"array"===F)}()?O:j)(F,T))},a._`${E} === false`),u.ok(A)}}},23020:(X,d,s)=>{"use strict";var h=s(90258),a=s(48128),v=a(h("String.prototype.indexOf"));X.exports=function(g,c){var u=h(g,!!c);return"function"==typeof u&&v(g,".prototype.")>-1?a(u):u}},48128:(X,d,s)=>{"use strict";var h=s(65992),a=s(90258),v=s(31358),m=s(46758),g=a("%Function.prototype.apply%"),c=a("%Function.prototype.call%"),u=a("%Reflect.apply%",!0)||h.call(c,g),i=s(4570),p=a("%Math.max%");X.exports=function(w){if("function"!=typeof w)throw new m("a function is required");var E=u(h,c,arguments);return v(E,1+p(0,w.length-(arguments.length-1)),!0)};var o=function(){return u(h,g,arguments)};i?i(X.exports,"apply",{value:o}):X.exports.apply=o},92736:(X,d,s)=>{"use strict";var h=s(4570),a=s(58413),v=s(46758),m=s(83798);X.exports=function(c,u,i){if(!c||"object"!=typeof c&&"function"!=typeof c)throw new v("`obj` must be an object or a function`");if("string"!=typeof u&&"symbol"!=typeof u)throw new v("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new v("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new v("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new v("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new v("`loose`, if provided, must be a boolean");var p=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,w=arguments.length>6&&arguments[6],E=!!m&&m(c,u);if(h)h(c,u,{configurable:null===l&&E?E.configurable:!l,enumerable:null===p&&E?E.enumerable:!p,value:i,writable:null===o&&E?E.writable:!o});else{if(!w&&(p||o||l))throw new a("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");c[u]=i}}},947:(X,d,s)=>{"use strict";var h=s(44934),a="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),v=Object.prototype.toString,m=Array.prototype.concat,g=s(92736),u=s(35861)(),i=function(o,l,w,E){if(l in o)if(!0===E){if(o[l]===w)return}else if(!function(o){return"function"==typeof o&&"[object Function]"===v.call(o)}(E)||!E())return;u?g(o,l,w,!0):g(o,l,w)},p=function(o,l){var w=arguments.length>2?arguments[2]:{},E=h(l);a&&(E=m.call(E,Object.getOwnPropertySymbols(l)));for(var b=0;b<E.length;b+=1)i(o,E[b],l[E[b]],w[E[b]])};p.supportsDescriptors=!!u,X.exports=p},80243:X=>{"use strict";var d={single_source_shortest_paths:function(s,h,a){var v={},m={};m[h]=0;var c,u,i,p,o,w,g=d.PriorityQueue.make();for(g.push(h,0);!g.empty();)for(i in p=(c=g.pop()).cost,o=s[u=c.value]||{})o.hasOwnProperty(i)&&(w=p+o[i],(typeof m[i]>"u"||m[i]>w)&&(m[i]=w,g.push(i,w),v[i]=u));if(typeof a<"u"&&typeof m[a]>"u"){var A=["Could not find a path from ",h," to ",a,"."].join("");throw new Error(A)}return v},extract_shortest_path_from_predecessor_list:function(s,h){for(var a=[],v=h;v;)a.push(v),v=s[v];return a.reverse(),a},find_path:function(s,h,a){var v=d.single_source_shortest_paths(s,h,a);return d.extract_shortest_path_from_predecessor_list(v,a)},PriorityQueue:{make:function(s){var v,h=d.PriorityQueue,a={};for(v in s=s||{},h)h.hasOwnProperty(v)&&(a[v]=h[v]);return a.queue=[],a.sorter=s.sorter||h.default_sorter,a},default_sorter:function(s,h){return s.cost-h.cost},push:function(s,h){this.queue.push({value:s,cost:h}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};X.exports=d},33174:X=>{"use strict";X.exports=function(s){for(var h=[],a=s.length,v=0;v<a;v++){var m=s.charCodeAt(v);if(m>=55296&&m<=56319&&a>v+1){var g=s.charCodeAt(v+1);g>=56320&&g<=57343&&(m=1024*(m-55296)+g-56320+65536,v+=1)}m<128?h.push(m):m<2048?(h.push(m>>6|192),h.push(63&m|128)):m<55296||m>=57344&&m<65536?(h.push(m>>12|224),h.push(m>>6&63|128),h.push(63&m|128)):m>=65536&&m<=1114111?(h.push(m>>18|240),h.push(m>>12&63|128),h.push(m>>6&63|128),h.push(63&m|128)):h.push(239,191,189)}return new Uint8Array(h).buffer}},4570:(X,d,s)=>{"use strict";var a=s(90258)("%Object.defineProperty%",!0)||!1;if(a)try{a({},"a",{value:1})}catch{a=!1}X.exports=a},1756:X=>{"use strict";X.exports=EvalError},37640:X=>{"use strict";X.exports=Error},77933:X=>{"use strict";X.exports=RangeError},6613:X=>{"use strict";X.exports=ReferenceError},58413:X=>{"use strict";X.exports=SyntaxError},46758:X=>{"use strict";X.exports=TypeError},5286:X=>{"use strict";X.exports=URIError},34813:(X,d,s)=>{"use strict";var h=s(46758);X.exports=function(v){if(null==v)throw new h(arguments.length>0&&arguments[1]||"Cannot call method on "+v);return v}},65240:(X,d,s)=>{"use strict";var a=s(90258)("%Object.defineProperty%",!0),v=s(88779)(),m=s(78368),g=v?Symbol.toStringTag:null;X.exports=function(u,i){g&&(arguments.length>2&&arguments[2]&&arguments[2].force||!m(u,g))&&(a?a(u,g,{configurable:!0,enumerable:!1,value:i,writable:!1}):u[g]=i)}},31232:(X,d,s)=>{"use strict";var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,a=s(20561),v=s(58239),m=s(94665),g=s(16827);X.exports=function(p){if(a(p))return p;var l,o="default";if(arguments.length>1&&(arguments[1]===String?o="string":arguments[1]===Number&&(o="number")),h&&(Symbol.toPrimitive?l=function(p,o){var l=p[o];if(null!==l&&typeof l<"u"){if(!v(l))throw new TypeError(l+" returned for property "+o+" of object "+p+" is not a function");return l}}(p,Symbol.toPrimitive):g(p)&&(l=Symbol.prototype.valueOf)),typeof l<"u"){var w=l.call(p,o);if(a(w))return w;throw new TypeError("unable to convert exotic object to primitive")}return"default"===o&&(m(p)||g(p))&&(o="string"),function(p,o){if(typeof p>"u"||null===p)throw new TypeError("Cannot call method on "+p);if("string"!=typeof o||"number"!==o&&"string"!==o)throw new TypeError('hint must be "string" or "number"');var w,E,b,l="string"===o?["toString","valueOf"]:["valueOf","toString"];for(b=0;b<l.length;++b)if(v(w=p[l[b]])&&(E=w.call(p),a(E)))return E;throw new TypeError("No default value")}(p,"default"===o?"number":o)}},20561:X=>{"use strict";X.exports=function(s){return null===s||"function"!=typeof s&&"object"!=typeof s}},46096:(X,d,s)=>{!function(){"use strict";var a,v,m,g,c,u,i,p,o,l,w,E,b,A,C,_,N,O,j,F,T,z,ee,ie;function J(V){return tt.Statement.hasOwnProperty(V.type)}c=s(48038),u=s(3516),a=c.Syntax,m={"||":(v={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Exponentiation:13,Await:14,Unary:14,Postfix:15,Call:16,New:17,TaggedTemplate:18,Member:19,Primary:20}).LogicalOR,"&&":v.LogicalAND,"|":v.BitwiseOR,"^":v.BitwiseXOR,"&":v.BitwiseAND,"==":v.Equality,"!=":v.Equality,"===":v.Equality,"!==":v.Equality,is:v.Equality,isnt:v.Equality,"<":v.Relational,">":v.Relational,"<=":v.Relational,">=":v.Relational,in:v.Relational,instanceof:v.Relational,"<<":v.BitwiseSHIFT,">>":v.BitwiseSHIFT,">>>":v.BitwiseSHIFT,"+":v.Additive,"-":v.Additive,"*":v.Multiplicative,"%":v.Multiplicative,"/":v.Multiplicative,"**":v.Exponentiation};function Pe(V,ue){var oe="";for(ue|=0;ue>0;ue>>>=1,V+=V)1&ue&&(oe+=V);return oe}function me(V){var ue=V.length;return ue&&u.code.isLineTerminator(V.charCodeAt(ue-1))}function ve(V,ue){var oe;for(oe in ue)ue.hasOwnProperty(oe)&&(V[oe]=ue[oe]);return V}function ge(V,ue){var oe,fe;function _e(Ve){return"object"==typeof Ve&&Ve instanceof Object&&!(Ve instanceof RegExp)}for(oe in ue)ue.hasOwnProperty(oe)&&(_e(fe=ue[oe])?_e(V[oe])?ge(V[oe],fe):V[oe]=ge({},fe):V[oe]=fe);return V}function $e(V,ue){return 8232==(-2&V)?(ue?"u":"\\u")+(8232===V?"2028":"2029"):10===V||13===V?(ue?"":"\\")+(10===V?"n":"r"):String.fromCharCode(V)}function Ne(V,ue){var oe;return 8===V?"\\b":12===V?"\\f":9===V?"\\t":(oe=V.toString(16).toUpperCase(),o||V>255?"\\u"+"0000".slice(oe.length)+oe:0!==V||u.code.isDecimalDigit(ue)?11===V?"\\x0B":"\\x"+"00".slice(oe.length)+oe:"\\0")}function Le(V){if(92===V)return"\\\\";if(10===V)return"\\n";if(13===V)return"\\r";if(8232===V)return"\\u2028";if(8233===V)return"\\u2029";throw new Error("Incorrectly classified character")}function Je(V){var ue,oe,fe,_e="";for(ue=0,oe=V.length;ue<oe;++ue)fe=V[ue],_e+=Array.isArray(fe)?Je(fe):fe;return _e}function We(V,ue){if(!z)return Array.isArray(V)?Je(V):V;if(null==ue){if(V instanceof g)return V;ue={}}return null==ue.loc?new g(null,null,z,V,ue.name||null):new g(ue.loc.start.line,ue.loc.start.column,!0===z?ue.loc.source||null:z,V,ue.name||null)}function at(){return C||" "}function te(V,ue){var oe,fe,_e,Ve;return 0===(oe=We(V).toString()).length?[ue]:0===(fe=We(ue).toString()).length?[V]:(_e=oe.charCodeAt(oe.length-1),Ve=fe.charCodeAt(0),(43===_e||45===_e)&&_e===Ve||u.code.isIdentifierPartES5(_e)&&u.code.isIdentifierPartES5(Ve)||47===_e&&105===Ve?[V,at(),ue]:u.code.isWhiteSpace(_e)||u.code.isLineTerminator(_e)||u.code.isWhiteSpace(Ve)||u.code.isLineTerminator(Ve)?[V,ue]:[V,C,ue])}function U(V){return[i,V]}function P(V){var ue;ue=i,V(i+=p),i=ue}function Ce(V,ue){if("Line"===V.type){if(me(V.value))return"//"+V.value;var oe="//"+V.value;return ie||(oe+="\n"),oe}return F.format.indent.adjustMultilineComment&&/[\n\r]/.test(V.value)?function Se(V,ue){var oe,fe,_e,Ve,He,Ge,ut,wt;for(oe=V.split(/\r\n|[\r\n]/),Ge=Number.MAX_VALUE,fe=1,_e=oe.length;fe<_e;++fe){for(Ve=oe[fe],He=0;He<Ve.length&&u.code.isWhiteSpace(Ve.charCodeAt(He));)++He;Ge>He&&(Ge=He)}for(typeof ue<"u"?(ut=i,"*"===oe[1][Ge]&&(ue+=" "),i=ue):(1&Ge&&--Ge,ut=i),fe=1,_e=oe.length;fe<_e;++fe)wt=We(U(oe[fe].slice(Ge))),oe[fe]=z?wt.join(""):wt;return i=ut,oe.join("\n")}("/*"+V.value+"*/",ue):"/*"+V.value+"*/"}function Ie(V,ue){var oe,fe,_e,Ve,He,Ge,ut,wt,_t,lr,Yt,Nt;if(V.leadingComments&&V.leadingComments.length>0){if(Ve=ue,ie){for(ue=[],(Nt=((Yt=ee.substring((wt=(_e=V.leadingComments[0]).extendedRange)[0],(_t=_e.range)[0])).match(/\n/g)||[]).length)>0?(ue.push(Pe("\n",Nt)),ue.push(U(Ce(_e)))):(ue.push(Yt),ue.push(Ce(_e))),lr=_t,oe=1,fe=V.leadingComments.length;oe<fe;oe++)Nt=(ee.substring(lr[1],(_t=(_e=V.leadingComments[oe]).range)[0]).match(/\n/g)||[]).length,ue.push(Pe("\n",Nt)),ue.push(U(Ce(_e))),lr=_t;Nt=(ee.substring(_t[1],wt[1]).match(/\n/g)||[]).length,ue.push(Pe("\n",Nt))}else for(_e=V.leadingComments[0],ue=[],O&&V.type===a.Program&&0===V.body.length&&ue.push("\n"),ue.push(Ce(_e)),me(We(ue).toString())||ue.push("\n"),oe=1,fe=V.leadingComments.length;oe<fe;++oe)me(We(ut=[Ce(_e=V.leadingComments[oe])]).toString())||ut.push("\n"),ue.push(U(ut));ue.push(U(Ve))}if(V.trailingComments)if(ie)(Nt=((Yt=ee.substring((wt=(_e=V.trailingComments[0]).extendedRange)[0],(_t=_e.range)[0])).match(/\n/g)||[]).length)>0?(ue.push(Pe("\n",Nt)),ue.push(U(Ce(_e)))):(ue.push(Yt),ue.push(Ce(_e)));else for(He=!me(We(ue).toString()),Ge=Pe(" ",function Y(V){var ue;for(ue=V.length-1;ue>=0&&!u.code.isLineTerminator(V.charCodeAt(ue));--ue);return V.length-1-ue}(We([i,ue,p]).toString())),oe=0,fe=V.trailingComments.length;oe<fe;++oe)_e=V.trailingComments[oe],He?(ue=0===oe?[ue,p]:[ue,Ge]).push(Ce(_e,Ge)):ue=[ue,U(Ce(_e))],oe!==fe-1&&!me(We(ue).toString())&&(ue=[ue,"\n"]);return ue}function Oe(V,ue,oe){var fe,_e=0;for(fe=V;fe<ue;fe++)"\n"===ee[fe]&&_e++;for(fe=1;fe<_e;fe++)oe.push(A)}function Be(V,ue,oe){return ue<oe?["(",V,")"]:V}function ct(V){var ue,oe,fe;for(ue=1,oe=(fe=V.split(/\r\n|\n/)).length;ue<oe;ue++)fe[ue]=A+i+fe[ue];return fe}function tt(){}function ft(V){return We(V.name,V)}function Bt(V,ue){return V.async?"async"+(ue?at():C):""}function It(V){return V.generator&&!F.moz.starlessGenerator?"*"+C:""}function St(V){var ue=V.value,oe="";return ue.async&&(oe+=Bt(ue,!V.computed)),ue.generator&&(oe+=It(ue)?"*":""),oe}tt.prototype.maybeBlock=function(V,ue){var oe,fe,_e=this;return fe=!F.comment||!V.leadingComments,V.type===a.BlockStatement&&fe?[C,this.generateStatement(V,ue)]:V.type===a.EmptyStatement&&fe?";":(P(function(){oe=[A,U(_e.generateStatement(V,ue))]}),oe)},tt.prototype.maybeBlockSuffix=function(V,ue){var oe=me(We(ue).toString());return V.type!==a.BlockStatement||F.comment&&V.leadingComments||oe?oe?[ue,i]:[ue,A,i]:[ue,C]},tt.prototype.generatePattern=function(V,ue,oe){return V.type===a.Identifier?ft(V):this.generateExpression(V,ue,oe)},tt.prototype.generateFunctionParams=function(V){var ue,oe,fe,_e;if(_e=!1,V.type!==a.ArrowFunctionExpression||V.rest||V.defaults&&0!==V.defaults.length||1!==V.params.length||V.params[0].type!==a.Identifier){for((fe=V.type===a.ArrowFunctionExpression?[Bt(V,!1)]:[]).push("("),V.defaults&&(_e=!0),ue=0,oe=V.params.length;ue<oe;++ue)fe.push(_e&&V.defaults[ue]?this.generateAssignment(V.params[ue],V.defaults[ue],"=",v.Assignment,7):this.generatePattern(V.params[ue],v.Assignment,7)),ue+1<oe&&fe.push(","+C);V.rest&&(V.params.length&&fe.push(","+C),fe.push("..."),fe.push(ft(V.rest))),fe.push(")")}else fe=[Bt(V,!0),ft(V.params[0])];return fe},tt.prototype.generateFunctionBody=function(V){var ue,oe;return ue=this.generateFunctionParams(V),V.type===a.ArrowFunctionExpression&&(ue.push(C),ue.push("=>")),V.expression?(ue.push(C),"{"===(oe=this.generateExpression(V.body,v.Assignment,7)).toString().charAt(0)&&(oe=["(",oe,")"]),ue.push(oe)):ue.push(this.maybeBlock(V.body,9)),ue},tt.prototype.generateIterationForStatement=function(V,ue,oe){var fe=["for"+(ue.await?at()+"await":"")+C+"("],_e=this;return P(function(){ue.left.type===a.VariableDeclaration?P(function(){fe.push(ue.left.kind+at()),fe.push(_e.generateStatement(ue.left.declarations[0],0))}):fe.push(_e.generateExpression(ue.left,v.Call,7)),fe=te(fe,V),fe=[te(fe,_e.generateExpression(ue.right,v.Assignment,7)),")"]}),fe.push(this.maybeBlock(ue.body,oe)),fe},tt.prototype.generatePropertyKey=function(V,ue){var oe=[];return ue&&oe.push("["),oe.push(this.generateExpression(V,v.Assignment,7)),ue&&oe.push("]"),oe},tt.prototype.generateAssignment=function(V,ue,oe,fe,_e){return v.Assignment<fe&&(_e|=1),Be([this.generateExpression(V,v.Call,_e),C+oe+C,this.generateExpression(ue,v.Assignment,_e)],v.Assignment,fe)},tt.prototype.semicolon=function(V){return!N&&32&V?"":";"},ve(tt.prototype,tt.Statement={BlockStatement:function(V,ue){var oe,fe,_e=["{",A],Ve=this;return P(function(){var He,Ge,ut,wt;for(0===V.body.length&&ie&&(oe=V.range)[1]-oe[0]>2&&("\n"===(fe=ee.substring(oe[0]+1,oe[1]-1))[0]&&(_e=["{"]),_e.push(fe)),wt=1,8&ue&&(wt|=16),He=0,Ge=V.body.length;He<Ge;++He)ie&&(0===He&&(V.body[0].leadingComments&&"\n"===(fe=ee.substring((oe=V.body[0].leadingComments[0].extendedRange)[0],oe[1]))[0]&&(_e=["{"]),V.body[0].leadingComments||Oe(V.range[0],V.body[0].range[0],_e)),He>0&&!V.body[He-1].trailingComments&&!V.body[He].leadingComments&&Oe(V.body[He-1].range[1],V.body[He].range[0],_e)),He===Ge-1&&(wt|=32),ut=V.body[He].leadingComments&&ie?Ve.generateStatement(V.body[He],wt):U(Ve.generateStatement(V.body[He],wt)),_e.push(ut),me(We(ut).toString())||ie&&He<Ge-1&&V.body[He+1].leadingComments||_e.push(A),ie&&He===Ge-1&&(V.body[He].trailingComments||Oe(V.body[He].range[1],V.range[1],_e))}),_e.push(U("}")),_e},BreakStatement:function(V,ue){return V.label?"break "+V.label.name+this.semicolon(ue):"break"+this.semicolon(ue)},ContinueStatement:function(V,ue){return V.label?"continue "+V.label.name+this.semicolon(ue):"continue"+this.semicolon(ue)},ClassBody:function(V,ue){var oe=["{",A],fe=this;return P(function(_e){var Ve,He;for(Ve=0,He=V.body.length;Ve<He;++Ve)oe.push(_e),oe.push(fe.generateExpression(V.body[Ve],v.Sequence,7)),Ve+1<He&&oe.push(A)}),me(We(oe).toString())||oe.push(A),oe.push(i),oe.push("}"),oe},ClassDeclaration:function(V,ue){var oe,fe;return oe=["class"],V.id&&(oe=te(oe,this.generateExpression(V.id,v.Sequence,7))),V.superClass&&(fe=te("extends",this.generateExpression(V.superClass,v.Unary,7)),oe=te(oe,fe)),oe.push(C),oe.push(this.generateStatement(V.body,33)),oe},DirectiveStatement:function(V,ue){return F.raw&&V.raw?V.raw+this.semicolon(ue):function Ue(V){var ue,oe,fe,_e;for(_e="double"===E?'"':"'",ue=0,oe=V.length;ue<oe;++ue){if(39===(fe=V.charCodeAt(ue))){_e='"';break}if(34===fe){_e="'";break}92===fe&&++ue}return _e+V+_e}(V.directive)+this.semicolon(ue)},DoWhileStatement:function(V,ue){var oe=te("do",this.maybeBlock(V.body,1));return te(oe=this.maybeBlockSuffix(V.body,oe),["while"+C+"(",this.generateExpression(V.test,v.Sequence,7),")"+this.semicolon(ue)])},CatchClause:function(V,ue){var oe,fe=this;return P(function(){var _e;V.param?(oe=["catch"+C+"(",fe.generateExpression(V.param,v.Sequence,7),")"],V.guard&&(_e=fe.generateExpression(V.guard,v.Sequence,7),oe.splice(2,0," if ",_e))):oe=["catch"]}),oe.push(this.maybeBlock(V.body,1)),oe},DebuggerStatement:function(V,ue){return"debugger"+this.semicolon(ue)},EmptyStatement:function(V,ue){return";"},ExportDefaultDeclaration:function(V,ue){var fe,oe=["export"];return fe=32&ue?33:1,oe=te(oe,"default"),J(V.declaration)?te(oe,this.generateStatement(V.declaration,fe)):te(oe,this.generateExpression(V.declaration,v.Assignment,7)+this.semicolon(ue))},ExportNamedDeclaration:function(V,ue){var oe=["export"],_e=this;return V.declaration?te(oe,this.generateStatement(V.declaration,32&ue?33:1)):(V.specifiers&&(0===V.specifiers.length?oe=te(oe,"{"+C+"}"):V.specifiers[0].type===a.ExportBatchSpecifier?oe=te(oe,this.generateExpression(V.specifiers[0],v.Sequence,7)):(oe=te(oe,"{"),P(function(Ve){var He,Ge;for(oe.push(A),He=0,Ge=V.specifiers.length;He<Ge;++He)oe.push(Ve),oe.push(_e.generateExpression(V.specifiers[He],v.Sequence,7)),He+1<Ge&&oe.push(","+A)}),me(We(oe).toString())||oe.push(A),oe.push(i+"}")),V.source?oe=te(oe,["from"+C,this.generateExpression(V.source,v.Sequence,7),this.semicolon(ue)]):oe.push(this.semicolon(ue))),oe)},ExportAllDeclaration:function(V,ue){return["export"+C,"*"+C,"from"+C,this.generateExpression(V.source,v.Sequence,7),this.semicolon(ue)]},ExpressionStatement:function(V,ue){var oe,fe;return 123===(fe=We(oe=[this.generateExpression(V.expression,v.Sequence,7)]).toString()).charCodeAt(0)||function _e(Ge){var ut;return"class"===Ge.slice(0,5)&&(123===(ut=Ge.charCodeAt(5))||u.code.isWhiteSpace(ut)||u.code.isLineTerminator(ut))}(fe)||function Ve(Ge){var ut;return"function"===Ge.slice(0,8)&&(40===(ut=Ge.charCodeAt(8))||u.code.isWhiteSpace(ut)||42===ut||u.code.isLineTerminator(ut))}(fe)||function He(Ge){var ut,wt,_t;if("async"!==Ge.slice(0,5)||!u.code.isWhiteSpace(Ge.charCodeAt(5)))return!1;for(wt=6,_t=Ge.length;wt<_t&&u.code.isWhiteSpace(Ge.charCodeAt(wt));++wt);return wt!==_t&&"function"===Ge.slice(wt,wt+8)&&(40===(ut=Ge.charCodeAt(wt+8))||u.code.isWhiteSpace(ut)||42===ut||u.code.isLineTerminator(ut))}(fe)||j&&16&ue&&V.expression.type===a.Literal&&"string"==typeof V.expression.value?oe=["(",oe,")"+this.semicolon(ue)]:oe.push(this.semicolon(ue)),oe},ImportDeclaration:function(V,ue){var oe,fe,_e=this;return 0===V.specifiers.length?["import",C,this.generateExpression(V.source,v.Sequence,7),this.semicolon(ue)]:(oe=["import"],V.specifiers[fe=0].type===a.ImportDefaultSpecifier&&(oe=te(oe,[this.generateExpression(V.specifiers[fe],v.Sequence,7)]),++fe),V.specifiers[fe]&&(0!==fe&&oe.push(","),V.specifiers[fe].type===a.ImportNamespaceSpecifier?oe=te(oe,[C,this.generateExpression(V.specifiers[fe],v.Sequence,7)]):(oe.push(C+"{"),V.specifiers.length-fe==1?(oe.push(C),oe.push(this.generateExpression(V.specifiers[fe],v.Sequence,7)),oe.push(C+"}"+C)):(P(function(Ve){var He,Ge;for(oe.push(A),He=fe,Ge=V.specifiers.length;He<Ge;++He)oe.push(Ve),oe.push(_e.generateExpression(V.specifiers[He],v.Sequence,7)),He+1<Ge&&oe.push(","+A)}),me(We(oe).toString())||oe.push(A),oe.push(i+"}"+C)))),oe=te(oe,["from"+C,this.generateExpression(V.source,v.Sequence,7),this.semicolon(ue)]))},VariableDeclarator:function(V,ue){var oe=1&ue?7:6;return V.init?[this.generateExpression(V.id,v.Assignment,oe),C,"=",C,this.generateExpression(V.init,v.Assignment,oe)]:this.generatePattern(V.id,v.Assignment,oe)},VariableDeclaration:function(V,ue){var oe,fe,_e,Ve,He,Ge=this;function ut(){for(Ve=V.declarations[0],F.comment&&Ve.leadingComments?(oe.push("\n"),oe.push(U(Ge.generateStatement(Ve,He)))):(oe.push(at()),oe.push(Ge.generateStatement(Ve,He))),fe=1,_e=V.declarations.length;fe<_e;++fe)Ve=V.declarations[fe],F.comment&&Ve.leadingComments?(oe.push(","+A),oe.push(U(Ge.generateStatement(Ve,He)))):(oe.push(","+C),oe.push(Ge.generateStatement(Ve,He)))}return oe=[V.kind],He=1&ue?1:0,V.declarations.length>1?P(ut):ut(),oe.push(this.semicolon(ue)),oe},ThrowStatement:function(V,ue){return[te("throw",this.generateExpression(V.argument,v.Sequence,7)),this.semicolon(ue)]},TryStatement:function(V,ue){var oe,fe,_e,Ve;if(oe=["try",this.maybeBlock(V.block,1)],oe=this.maybeBlockSuffix(V.block,oe),V.handlers)for(fe=0,_e=V.handlers.length;fe<_e;++fe)oe=te(oe,this.generateStatement(V.handlers[fe],1)),(V.finalizer||fe+1!==_e)&&(oe=this.maybeBlockSuffix(V.handlers[fe].body,oe));else{for(fe=0,_e=(Ve=V.guardedHandlers||[]).length;fe<_e;++fe)oe=te(oe,this.generateStatement(Ve[fe],1)),(V.finalizer||fe+1!==_e)&&(oe=this.maybeBlockSuffix(Ve[fe].body,oe));if(V.handler)if(Array.isArray(V.handler))for(fe=0,_e=V.handler.length;fe<_e;++fe)oe=te(oe,this.generateStatement(V.handler[fe],1)),(V.finalizer||fe+1!==_e)&&(oe=this.maybeBlockSuffix(V.handler[fe].body,oe));else oe=te(oe,this.generateStatement(V.handler,1)),V.finalizer&&(oe=this.maybeBlockSuffix(V.handler.body,oe))}return V.finalizer&&(oe=te(oe,["finally",this.maybeBlock(V.finalizer,1)])),oe},SwitchStatement:function(V,ue){var oe,fe,_e,Ve,He,Ge=this;if(P(function(){oe=["switch"+C+"(",Ge.generateExpression(V.discriminant,v.Sequence,7),")"+C+"{"+A]}),V.cases)for(He=1,_e=0,Ve=V.cases.length;_e<Ve;++_e)_e===Ve-1&&(He|=32),fe=U(this.generateStatement(V.cases[_e],He)),oe.push(fe),me(We(fe).toString())||oe.push(A);return oe.push(U("}")),oe},SwitchCase:function(V,ue){var oe,fe,_e,Ve,He,Ge=this;return P(function(){for(oe=V.test?[te("case",Ge.generateExpression(V.test,v.Sequence,7)),":"]:["default:"],_e=0,(Ve=V.consequent.length)&&V.consequent[0].type===a.BlockStatement&&(fe=Ge.maybeBlock(V.consequent[0],1),oe.push(fe),_e=1),_e!==Ve&&!me(We(oe).toString())&&oe.push(A),He=1;_e<Ve;++_e)_e===Ve-1&&32&ue&&(He|=32),fe=U(Ge.generateStatement(V.consequent[_e],He)),oe.push(fe),_e+1!==Ve&&!me(We(fe).toString())&&oe.push(A)}),oe},IfStatement:function(V,ue){var oe,fe,Ve=this;return P(function(){oe=["if"+C+"(",Ve.generateExpression(V.test,v.Sequence,7),")"]}),fe=1,32&ue&&(fe|=32),V.alternate?(oe.push(this.maybeBlock(V.consequent,1)),oe=te(oe=this.maybeBlockSuffix(V.consequent,oe),V.alternate.type===a.IfStatement?["else ",this.generateStatement(V.alternate,fe)]:te("else",this.maybeBlock(V.alternate,fe)))):oe.push(this.maybeBlock(V.consequent,fe)),oe},ForStatement:function(V,ue){var oe,fe=this;return P(function(){oe=["for"+C+"("],V.init?V.init.type===a.VariableDeclaration?oe.push(fe.generateStatement(V.init,0)):(oe.push(fe.generateExpression(V.init,v.Sequence,6)),oe.push(";")):oe.push(";"),V.test&&(oe.push(C),oe.push(fe.generateExpression(V.test,v.Sequence,7))),oe.push(";"),V.update&&(oe.push(C),oe.push(fe.generateExpression(V.update,v.Sequence,7))),oe.push(")")}),oe.push(this.maybeBlock(V.body,32&ue?33:1)),oe},ForInStatement:function(V,ue){return this.generateIterationForStatement("in",V,32&ue?33:1)},ForOfStatement:function(V,ue){return this.generateIterationForStatement("of",V,32&ue?33:1)},LabeledStatement:function(V,ue){return[V.label.name+":",this.maybeBlock(V.body,32&ue?33:1)]},Program:function(V,ue){var oe,fe,_e,Ve,He;for(Ve=V.body.length,oe=[O&&Ve>0?"\n":""],He=17,_e=0;_e<Ve;++_e)!O&&_e===Ve-1&&(He|=32),ie&&(0===_e&&(V.body[0].leadingComments||Oe(V.range[0],V.body[_e].range[0],oe)),_e>0&&!V.body[_e-1].trailingComments&&!V.body[_e].leadingComments&&Oe(V.body[_e-1].range[1],V.body[_e].range[0],oe)),fe=U(this.generateStatement(V.body[_e],He)),oe.push(fe),_e+1<Ve&&!me(We(fe).toString())&&(ie&&V.body[_e+1].leadingComments||oe.push(A)),ie&&_e===Ve-1&&(V.body[_e].trailingComments||Oe(V.body[_e].range[1],V.range[1],oe));return oe},FunctionDeclaration:function(V,ue){return[Bt(V,!0),"function",It(V)||at(),V.id?ft(V.id):"",this.generateFunctionBody(V)]},ReturnStatement:function(V,ue){return V.argument?[te("return",this.generateExpression(V.argument,v.Sequence,7)),this.semicolon(ue)]:["return"+this.semicolon(ue)]},WhileStatement:function(V,ue){var oe,fe=this;return P(function(){oe=["while"+C+"(",fe.generateExpression(V.test,v.Sequence,7),")"]}),oe.push(this.maybeBlock(V.body,32&ue?33:1)),oe},WithStatement:function(V,ue){var oe,fe=this;return P(function(){oe=["with"+C+"(",fe.generateExpression(V.object,v.Sequence,7),")"]}),oe.push(this.maybeBlock(V.body,32&ue?33:1)),oe}}),ve(tt.prototype,tt.Expression={SequenceExpression:function(V,ue,oe){var fe,_e,Ve;for(v.Sequence<ue&&(oe|=1),fe=[],_e=0,Ve=V.expressions.length;_e<Ve;++_e)fe.push(this.generateExpression(V.expressions[_e],v.Assignment,oe)),_e+1<Ve&&fe.push(","+C);return Be(fe,v.Sequence,ue)},AssignmentExpression:function(V,ue,oe){return this.generateAssignment(V.left,V.right,V.operator,ue,oe)},ArrowFunctionExpression:function(V,ue,oe){return Be(this.generateFunctionBody(V),v.ArrowFunction,ue)},ConditionalExpression:function(V,ue,oe){return v.Conditional<ue&&(oe|=1),Be([this.generateExpression(V.test,v.LogicalOR,oe),C+"?"+C,this.generateExpression(V.consequent,v.Assignment,oe),C+":"+C,this.generateExpression(V.alternate,v.Assignment,oe)],v.Conditional,ue)},LogicalExpression:function(V,ue,oe){return this.BinaryExpression(V,ue,oe)},BinaryExpression:function(V,ue,oe){var fe,Ve,He,Ge,ut;return He=m[V.operator],Ve="**"===V.operator?He:He+1,He<ue&&(oe|=1),fe=47===(ut=(Ge=this.generateExpression(V.left,"**"===V.operator?v.Postfix:He,oe)).toString()).charCodeAt(ut.length-1)&&u.code.isIdentifierPartES5(V.operator.charCodeAt(0))?[Ge,at(),V.operator]:te(Ge,V.operator),Ge=this.generateExpression(V.right,Ve,oe),"/"===V.operator&&"/"===Ge.toString().charAt(0)||"<"===V.operator.slice(-1)&&"!--"===Ge.toString().slice(0,3)?(fe.push(at()),fe.push(Ge)):fe=te(fe,Ge),"in"!==V.operator||1&oe?Be(fe,He,ue):["(",fe,")"]},CallExpression:function(V,ue,oe){var fe,_e,Ve;for((fe=[this.generateExpression(V.callee,v.Call,3)]).push("("),_e=0,Ve=V.arguments.length;_e<Ve;++_e)fe.push(this.generateExpression(V.arguments[_e],v.Assignment,7)),_e+1<Ve&&fe.push(","+C);return fe.push(")"),2&oe?Be(fe,v.Call,ue):["(",fe,")"]},NewExpression:function(V,ue,oe){var fe,_e,Ve,He;if(_e=V.arguments.length,fe=te("new",this.generateExpression(V.callee,v.New,4&oe&&!_&&0===_e?5:1)),!(4&oe)||_||_e>0){for(fe.push("("),Ve=0,He=_e;Ve<He;++Ve)fe.push(this.generateExpression(V.arguments[Ve],v.Assignment,7)),Ve+1<He&&fe.push(","+C);fe.push(")")}return Be(fe,v.New,ue)},MemberExpression:function(V,ue,oe){var fe,_e;return fe=[this.generateExpression(V.object,v.Call,2&oe?3:1)],V.computed?(fe.push("["),fe.push(this.generateExpression(V.property,v.Sequence,2&oe?7:5)),fe.push("]")):(V.object.type===a.Literal&&"number"==typeof V.object.value&&(_e=We(fe).toString()).indexOf(".")<0&&!/[eExX]/.test(_e)&&u.code.isDecimalDigit(_e.charCodeAt(_e.length-1))&&!(_e.length>=2&&48===_e.charCodeAt(0))&&fe.push(" "),fe.push("."),fe.push(ft(V.property))),Be(fe,v.Member,ue)},MetaProperty:function(V,ue,oe){var fe;return(fe=[]).push("string"==typeof V.meta?V.meta:ft(V.meta)),fe.push("."),fe.push("string"==typeof V.property?V.property:ft(V.property)),Be(fe,v.Member,ue)},UnaryExpression:function(V,ue,oe){var fe,_e,Ve,He,Ge;return _e=this.generateExpression(V.argument,v.Unary,7),""===C?fe=te(V.operator,_e):(fe=[V.operator],V.operator.length>2?fe=te(fe,_e):(Ge=(He=We(fe).toString()).charCodeAt(He.length-1),Ve=_e.toString().charCodeAt(0),((43===Ge||45===Ge)&&Ge===Ve||u.code.isIdentifierPartES5(Ge)&&u.code.isIdentifierPartES5(Ve))&&fe.push(at()),fe.push(_e))),Be(fe,v.Unary,ue)},YieldExpression:function(V,ue,oe){var fe;return fe=V.delegate?"yield*":"yield",V.argument&&(fe=te(fe,this.generateExpression(V.argument,v.Yield,7))),Be(fe,v.Yield,ue)},AwaitExpression:function(V,ue,oe){return Be(te(V.all?"await*":"await",this.generateExpression(V.argument,v.Await,7)),v.Await,ue)},UpdateExpression:function(V,ue,oe){return V.prefix?Be([V.operator,this.generateExpression(V.argument,v.Unary,7)],v.Unary,ue):Be([this.generateExpression(V.argument,v.Postfix,7),V.operator],v.Postfix,ue)},FunctionExpression:function(V,ue,oe){var fe=[Bt(V,!0),"function"];return V.id?(fe.push(It(V)||at()),fe.push(ft(V.id))):fe.push(It(V)||C),fe.push(this.generateFunctionBody(V)),fe},ArrayPattern:function(V,ue,oe){return this.ArrayExpression(V,ue,oe,!0)},ArrayExpression:function(V,ue,oe,fe){var _e,Ve,He=this;return V.elements.length?(_e=["[",(Ve=!fe&&V.elements.length>1)?A:""],P(function(Ge){var ut,wt;for(ut=0,wt=V.elements.length;ut<wt;++ut)V.elements[ut]?(_e.push(Ve?Ge:""),_e.push(He.generateExpression(V.elements[ut],v.Assignment,7))):(Ve&&_e.push(Ge),ut+1===wt&&_e.push(",")),ut+1<wt&&_e.push(","+(Ve?A:C))}),Ve&&!me(We(_e).toString())&&_e.push(A),_e.push(Ve?i:""),_e.push("]"),_e):"[]"},RestElement:function(V,ue,oe){return"..."+this.generatePattern(V.argument)},ClassExpression:function(V,ue,oe){var fe,_e;return fe=["class"],V.id&&(fe=te(fe,this.generateExpression(V.id,v.Sequence,7))),V.superClass&&(_e=te("extends",this.generateExpression(V.superClass,v.Unary,7)),fe=te(fe,_e)),fe.push(C),fe.push(this.generateStatement(V.body,33)),fe},MethodDefinition:function(V,ue,oe){var fe,_e;return fe=V.static?["static"+C]:[],_e="get"===V.kind||"set"===V.kind?[te(V.kind,this.generatePropertyKey(V.key,V.computed)),this.generateFunctionBody(V.value)]:[St(V),this.generatePropertyKey(V.key,V.computed),this.generateFunctionBody(V.value)],te(fe,_e)},Property:function(V,ue,oe){return"get"===V.kind||"set"===V.kind?[V.kind,at(),this.generatePropertyKey(V.key,V.computed),this.generateFunctionBody(V.value)]:V.shorthand?"AssignmentPattern"===V.value.type?this.AssignmentPattern(V.value,v.Sequence,7):this.generatePropertyKey(V.key,V.computed):V.method?[St(V),this.generatePropertyKey(V.key,V.computed),this.generateFunctionBody(V.value)]:[this.generatePropertyKey(V.key,V.computed),":"+C,this.generateExpression(V.value,v.Assignment,7)]},ObjectExpression:function(V,ue,oe){var fe,_e,Ve,He=this;return V.properties.length?(fe=V.properties.length>1,P(function(){Ve=He.generateExpression(V.properties[0],v.Sequence,7)}),fe||function Fe(V){return/[\r\n]/g.test(V)}(We(Ve).toString())?(P(function(Ge){var ut,wt;if(_e=["{",A,Ge,Ve],fe)for(_e.push(","+A),ut=1,wt=V.properties.length;ut<wt;++ut)_e.push(Ge),_e.push(He.generateExpression(V.properties[ut],v.Sequence,7)),ut+1<wt&&_e.push(","+A)}),me(We(_e).toString())||_e.push(A),_e.push(i),_e.push("}"),_e):["{",C,Ve,C,"}"]):"{}"},AssignmentPattern:function(V,ue,oe){return this.generateAssignment(V.left,V.right,"=",ue,oe)},ObjectPattern:function(V,ue,oe){var fe,_e,Ve,He,Ge,ut=this;if(!V.properties.length)return"{}";if(He=!1,1===V.properties.length)(Ge=V.properties[0]).type===a.Property&&Ge.value.type!==a.Identifier&&(He=!0);else for(_e=0,Ve=V.properties.length;_e<Ve;++_e)if((Ge=V.properties[_e]).type===a.Property&&!Ge.shorthand){He=!0;break}return fe=["{",He?A:""],P(function(wt){var _t,lr;for(_t=0,lr=V.properties.length;_t<lr;++_t)fe.push(He?wt:""),fe.push(ut.generateExpression(V.properties[_t],v.Sequence,7)),_t+1<lr&&fe.push(","+(He?A:C))}),He&&!me(We(fe).toString())&&fe.push(A),fe.push(He?i:""),fe.push("}"),fe},ThisExpression:function(V,ue,oe){return"this"},Super:function(V,ue,oe){return"super"},Identifier:function(V,ue,oe){return ft(V)},ImportDefaultSpecifier:function(V,ue,oe){return ft(V.id||V.local)},ImportNamespaceSpecifier:function(V,ue,oe){var fe=["*"],_e=V.id||V.local;return _e&&fe.push(C+"as"+at()+ft(_e)),fe},ImportSpecifier:function(V,ue,oe){var fe=V.imported,_e=[fe.name],Ve=V.local;return Ve&&Ve.name!==fe.name&&_e.push(at()+"as"+at()+ft(Ve)),_e},ExportSpecifier:function(V,ue,oe){var fe=V.local,_e=[fe.name],Ve=V.exported;return Ve&&Ve.name!==fe.name&&_e.push(at()+"as"+at()+ft(Ve)),_e},Literal:function(V,ue,oe){var fe;if(V.hasOwnProperty("raw")&&T&&F.raw)try{if((fe=T(V.raw).body[0].expression).type===a.Literal&&fe.value===V.value)return V.raw}catch{}return V.regex?"/"+V.regex.pattern+"/"+V.regex.flags:null===V.value?"null":"string"==typeof V.value?function qe(V){var oe,fe,_e,Ge,ut,ue="",Ve=0,He=0;for(oe=0,fe=V.length;oe<fe;++oe){if(39===(_e=V.charCodeAt(oe)))++Ve;else if(34===_e)++He;else if(47===_e&&o)ue+="\\";else{if(u.code.isLineTerminator(_e)||92===_e){ue+=Le(_e);continue}if(!u.code.isIdentifierPartES5(_e)&&(o&&_e<32||!o&&!b&&(_e<32||_e>126))){ue+=Ne(_e,V.charCodeAt(oe+1));continue}}ue+=String.fromCharCode(_e)}if(ut=(Ge=!("double"===E||"auto"===E&&He<Ve))?"'":'"',!(Ge?Ve:He))return ut+ue+ut;for(V=ue,ue=ut,oe=0,fe=V.length;oe<fe;++oe)(39===(_e=V.charCodeAt(oe))&&Ge||34===_e&&!Ge)&&(ue+="\\"),ue+=String.fromCharCode(_e);return ue+ut}(V.value):"number"==typeof V.value?function Ae(V){var ue,oe,fe,_e,Ve;if(V!=V)throw new Error("Numeric literal whose value is NaN");if(V<0||0===V&&1/V<0)throw new Error("Numeric literal whose value is negative");if(V===1/0)return o?"null":l?"1e400":"1e+400";if(ue=""+V,!l||ue.length<3)return ue;for(oe=ue.indexOf("."),!o&&48===ue.charCodeAt(0)&&1===oe&&(oe=0,ue=ue.slice(1)),fe=ue,ue=ue.replace("e+","e"),_e=0,(Ve=fe.indexOf("e"))>0&&(_e=+fe.slice(Ve+1),fe=fe.slice(0,Ve)),oe>=0&&(_e-=fe.length-oe-1,fe=+(fe.slice(0,oe)+fe.slice(oe+1))+""),Ve=0;48===fe.charCodeAt(fe.length+Ve-1);)--Ve;return 0!==Ve&&(_e-=Ve,fe=fe.slice(0,Ve)),0!==_e&&(fe+="e"+_e),(fe.length<ue.length||w&&V>1e12&&Math.floor(V)===V&&(fe="0x"+V.toString(16)).length<ue.length)&&+fe===V&&(ue=fe),ue}(V.value):"boolean"==typeof V.value?V.value?"true":"false":function xe(V){var ue,oe,fe,_e,Ve,He,Ge,ut;if(oe=V.toString(),V.source){if(!(ue=oe.match(/\/([^/]*)$/)))return oe;for(fe=ue[1],oe="",Ge=!1,ut=!1,_e=0,Ve=V.source.length;_e<Ve;++_e)He=V.source.charCodeAt(_e),ut?(oe+=$e(He,ut),ut=!1):(Ge?93===He&&(Ge=!1):47===He?oe+="\\":91===He&&(Ge=!0),oe+=$e(He,ut),ut=92===He);return"/"+oe+"/"+fe}return oe}(V.value)},GeneratorExpression:function(V,ue,oe){return this.ComprehensionExpression(V,ue,oe)},ComprehensionExpression:function(V,ue,oe){var fe,_e,Ve,He,Ge=this;return fe=V.type===a.GeneratorExpression?["("]:["["],F.moz.comprehensionExpressionStartsWithAssignment&&(He=this.generateExpression(V.body,v.Assignment,7),fe.push(He)),V.blocks&&P(function(){for(_e=0,Ve=V.blocks.length;_e<Ve;++_e)He=Ge.generateExpression(V.blocks[_e],v.Sequence,7),_e>0||F.moz.comprehensionExpressionStartsWithAssignment?fe=te(fe,He):fe.push(He)}),V.filter&&(fe=te(fe,"if"+C),He=this.generateExpression(V.filter,v.Sequence,7),fe=te(fe,["(",He,")"])),F.moz.comprehensionExpressionStartsWithAssignment||(He=this.generateExpression(V.body,v.Assignment,7),fe=te(fe,He)),fe.push(V.type===a.GeneratorExpression?")":"]"),fe},ComprehensionBlock:function(V,ue,oe){var fe;return fe=te(fe=V.left.type===a.VariableDeclaration?[V.left.kind,at(),this.generateStatement(V.left.declarations[0],0)]:this.generateExpression(V.left,v.Call,7),V.of?"of":"in"),fe=te(fe,this.generateExpression(V.right,v.Sequence,7)),["for"+C+"(",fe,")"]},SpreadElement:function(V,ue,oe){return["...",this.generateExpression(V.argument,v.Assignment,7)]},TaggedTemplateExpression:function(V,ue,oe){var fe=3;return 2&oe||(fe=1),Be([this.generateExpression(V.tag,v.Call,fe),this.generateExpression(V.quasi,v.Primary,4)],v.TaggedTemplate,ue)},TemplateElement:function(V,ue,oe){return V.value.raw},TemplateLiteral:function(V,ue,oe){var fe,_e,Ve;for(fe=["`"],_e=0,Ve=V.quasis.length;_e<Ve;++_e)fe.push(this.generateExpression(V.quasis[_e],v.Primary,7)),_e+1<Ve&&(fe.push("${"+C),fe.push(this.generateExpression(V.expressions[_e],v.Sequence,7)),fe.push(C+"}"));return fe.push("`"),fe},ModuleSpecifier:function(V,ue,oe){return this.Literal(V,ue,oe)},ImportExpression:function(V,ue,oe){return Be(["import(",this.generateExpression(V.source,v.Assignment,7),")"],v.Call,ue)}}),tt.prototype.generateExpression=function(V,ue,oe){var fe,_e;return _e=V.type||a.Property,F.verbatim&&V.hasOwnProperty(F.verbatim)?function lt(V,ue){var oe;return We("string"==typeof(oe=V[F.verbatim])?Be(ct(oe),v.Sequence,ue):Be(ct(oe.content),null!=oe.precedence?oe.precedence:v.Sequence,ue),V)}(V,ue):(fe=this[_e](V,ue,oe),F.comment&&(fe=Ie(V,fe)),We(fe,V))},tt.prototype.generateStatement=function(V,ue){var oe,fe;return oe=this[V.type](V,ue),F.comment&&(oe=Ie(V,oe)),fe=We(oe).toString(),V.type===a.Program&&!O&&""===A&&"\n"===fe.charAt(fe.length-1)&&(oe=z?We(oe).replaceRight(/\s+$/,""):fe.replace(/\s+$/,"")),We(oe,V)},s(84777),d.cM=function yr(V,ue){var fe,_e,oe={indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:"\n",space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null};return null!=ue?("string"==typeof ue.indent&&(oe.format.indent.style=ue.indent),"number"==typeof ue.base&&(oe.format.indent.base=ue.base),ue=ge(oe,ue),p=ue.format.indent.style,i="string"==typeof ue.base?ue.base:Pe(p,ue.format.indent.base)):i=Pe(p=(ue=oe).format.indent.style,ue.format.indent.base),l=ue.format.renumber,w=!(o=ue.format.json)&&ue.format.hexadecimal,E=o?"double":ue.format.quotes,b=ue.format.escapeless,A=ue.format.newline,C=ue.format.space,ue.format.compact&&(A=C=p=i=""),_=ue.format.parentheses,N=ue.format.semicolons,O=ue.format.safeConcatenation,j=ue.directive,T=o?null:ue.parse,ee=ue.sourceCode,ie=ue.format.preserveBlankLines&&null!==ee,F=ue,(z=ue.sourceMap)&&(g=d.T?globalThis.sourceMap.SourceNode:s(89877).SourceNode),fe=function Ft(V){var ue;if(ue=new tt,J(V))return ue.generateStatement(V,1);if(function R(V){return tt.Expression.hasOwnProperty(V.type)}(V))return ue.generateExpression(V,v.Sequence,7);throw new Error("Unknown node type: "+V.type)}(V),z?(_e=fe.toStringWithSourceMap({file:ue.file,sourceRoot:ue.sourceMapRoot}),ue.sourceContent&&_e.map.setSourceContent(ue.sourceMap,ue.sourceContent),ue.sourceMapWithCode?_e:_e.map.toString()):(_e={code:fe.toString(),map:null},ue.sourceMapWithCode?_e:_e.code)},ge({},v),d.T=!1}()},24683:(X,d,s)=>{var h=s(75775),a=Object.prototype.hasOwnProperty,v=typeof Map<"u";function m(){this._array=[],this._set=v?new Map:Object.create(null)}m.fromArray=function(c,u){for(var i=new m,p=0,o=c.length;p<o;p++)i.add(c[p],u);return i},m.prototype.size=function(){return v?this._set.size:Object.getOwnPropertyNames(this._set).length},m.prototype.add=function(c,u){var i=v?c:h.toSetString(c),p=v?this.has(c):a.call(this._set,i),o=this._array.length;(!p||u)&&this._array.push(c),p||(v?this._set.set(c,o):this._set[i]=o)},m.prototype.has=function(c){if(v)return this._set.has(c);var u=h.toSetString(c);return a.call(this._set,u)},m.prototype.indexOf=function(c){if(v){var u=this._set.get(c);if(u>=0)return u}else{var i=h.toSetString(c);if(a.call(this._set,i))return this._set[i]}throw new Error('"'+c+'" is not in the set.')},m.prototype.at=function(c){if(c>=0&&c<this._array.length)return this._array[c];throw new Error("No element indexed by "+c)},m.prototype.toArray=function(){return this._array.slice()},d.C=m},59344:(X,d,s)=>{var h=s(57312);d.encode=function(p){var l,o="",w=function c(i){return i<0?1+(-i<<1):0+(i<<1)}(p);do{l=31&w,(w>>>=5)>0&&(l|=32),o+=h.encode(l)}while(w>0);return o},d.decode=function(p,o,l){var A,C,w=p.length,E=0,b=0;do{if(o>=w)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(C=h.decode(p.charCodeAt(o++))))throw new Error("Invalid base64 digit: "+p.charAt(o-1));A=!!(32&C),E+=(C&=31)<<b,b+=5}while(A);l.value=function u(i){var o=i>>1;return 1&~i?o:-o}(E),l.rest=o}},57312:(X,d)=>{var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");d.encode=function(h){if(0<=h&&h<s.length)return s[h];throw new TypeError("Must be between 0 and 63: "+h)},d.decode=function(h){return 65<=h&&h<=90?h-65:97<=h&&h<=122?h-97+26:48<=h&&h<=57?h-48+52:43==h?62:47==h?63:-1}},36295:(X,d)=>{function s(h,a,v,m,g,c){var u=Math.floor((a-h)/2)+h,i=g(v,m[u],!0);return 0===i?u:i>0?a-u>1?s(u,a,v,m,g,c):c==d.LEAST_UPPER_BOUND?a<m.length?a:-1:u:u-h>1?s(h,u,v,m,g,c):c==d.LEAST_UPPER_BOUND?u:h<0?-1:h}d.GREATEST_LOWER_BOUND=1,d.LEAST_UPPER_BOUND=2,d.search=function(a,v,m,g){if(0===v.length)return-1;var c=s(-1,v.length,a,v,m,g||d.GREATEST_LOWER_BOUND);if(c<0)return-1;for(;c-1>=0&&0===m(v[c],v[c-1],!0);)--c;return c}},94242:(X,d,s)=>{var h=s(75775);function v(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}v.prototype.unsortedForEach=function(g,c){this._array.forEach(g,c)},v.prototype.add=function(g){!function a(m,g){var c=m.generatedLine,u=g.generatedLine;return u>c||u==c&&g.generatedColumn>=m.generatedColumn||h.compareByGeneratedPositionsInflated(m,g)<=0}(this._last,g)?(this._sorted=!1,this._array.push(g)):(this._last=g,this._array.push(g))},v.prototype.toArray=function(){return this._sorted||(this._array.sort(h.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},d.P=v},14421:(X,d)=>{function s(v,m,g){var c=v[m];v[m]=v[g],v[g]=c}function a(v,m,g,c){if(g<c){var u=function h(v,m){return Math.round(v+Math.random()*(m-v))}(g,c),i=g-1;s(v,u,c);for(var p=v[c],o=g;o<c;o++)m(v[o],p)<=0&&s(v,i+=1,o);s(v,i+1,o);var l=i+1;a(v,m,g,l-1),a(v,m,l+1,c)}}d.g=function(v,m){a(v,m,0,v.length-1)}},2818:(X,d,s)=>{var a=s(75775),v=s(36295),m=s(24683).C,g=s(59344),c=s(14421).g;function u(l,w){var E=l;return"string"==typeof l&&(E=a.parseSourceMapInput(l)),null!=E.sections?new o(E,w):new i(E,w)}function i(l,w){var E=l;"string"==typeof l&&(E=a.parseSourceMapInput(l));var b=a.getArg(E,"version"),A=a.getArg(E,"sources"),C=a.getArg(E,"names",[]),_=a.getArg(E,"sourceRoot",null),N=a.getArg(E,"sourcesContent",null),O=a.getArg(E,"mappings"),j=a.getArg(E,"file",null);if(b!=this._version)throw new Error("Unsupported version: "+b);_&&(_=a.normalize(_)),A=A.map(String).map(a.normalize).map(function(F){return _&&a.isAbsolute(_)&&a.isAbsolute(F)?a.relative(_,F):F}),this._names=m.fromArray(C.map(String),!0),this._sources=m.fromArray(A,!0),this._absoluteSources=this._sources.toArray().map(function(F){return a.computeSourceURL(_,F,w)}),this.sourceRoot=_,this.sourcesContent=N,this._mappings=O,this._sourceMapURL=w,this.file=j}function p(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function o(l,w){var E=l;"string"==typeof l&&(E=a.parseSourceMapInput(l));var b=a.getArg(E,"version"),A=a.getArg(E,"sections");if(b!=this._version)throw new Error("Unsupported version: "+b);this._sources=new m,this._names=new m;var C={line:-1,column:0};this._sections=A.map(function(_){if(_.url)throw new Error("Support for url field in sections not implemented.");var N=a.getArg(_,"offset"),O=a.getArg(N,"line"),j=a.getArg(N,"column");if(O<C.line||O===C.line&&j<C.column)throw new Error("Section offsets must be ordered and non-overlapping.");return C=N,{generatedOffset:{generatedLine:O+1,generatedColumn:j+1},consumer:new u(a.getArg(_,"map"),w)}})}u.fromSourceMap=function(l,w){return i.fromSourceMap(l,w)},u.prototype._version=3,u.prototype.__generatedMappings=null,Object.defineProperty(u.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),u.prototype.__originalMappings=null,Object.defineProperty(u.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),u.prototype._charIsMappingSeparator=function(w,E){var b=w.charAt(E);return";"===b||","===b},u.prototype._parseMappings=function(w,E){throw new Error("Subclasses must implement _parseMappings")},u.GENERATED_ORDER=1,u.ORIGINAL_ORDER=2,u.GREATEST_LOWER_BOUND=1,u.LEAST_UPPER_BOUND=2,u.prototype.eachMapping=function(w,E,b){var _,A=E||null;switch(b||u.GENERATED_ORDER){case u.GENERATED_ORDER:_=this._generatedMappings;break;case u.ORIGINAL_ORDER:_=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var N=this.sourceRoot;_.map(function(O){var j=null===O.source?null:this._sources.at(O.source);return{source:j=a.computeSourceURL(N,j,this._sourceMapURL),generatedLine:O.generatedLine,generatedColumn:O.generatedColumn,originalLine:O.originalLine,originalColumn:O.originalColumn,name:null===O.name?null:this._names.at(O.name)}},this).forEach(w,A)},u.prototype.allGeneratedPositionsFor=function(w){var E=a.getArg(w,"line"),b={source:a.getArg(w,"source"),originalLine:E,originalColumn:a.getArg(w,"column",0)};if(b.source=this._findSourceIndex(b.source),b.source<0)return[];var A=[],C=this._findMapping(b,this._originalMappings,"originalLine","originalColumn",a.compareByOriginalPositions,v.LEAST_UPPER_BOUND);if(C>=0){var _=this._originalMappings[C];if(void 0===w.column)for(var N=_.originalLine;_&&_.originalLine===N;)A.push({line:a.getArg(_,"generatedLine",null),column:a.getArg(_,"generatedColumn",null),lastColumn:a.getArg(_,"lastGeneratedColumn",null)}),_=this._originalMappings[++C];else for(var O=_.originalColumn;_&&_.originalLine===E&&_.originalColumn==O;)A.push({line:a.getArg(_,"generatedLine",null),column:a.getArg(_,"generatedColumn",null),lastColumn:a.getArg(_,"lastGeneratedColumn",null)}),_=this._originalMappings[++C]}return A},(i.prototype=Object.create(u.prototype)).consumer=u,i.prototype._findSourceIndex=function(l){var E,w=l;if(null!=this.sourceRoot&&(w=a.relative(this.sourceRoot,w)),this._sources.has(w))return this._sources.indexOf(w);for(E=0;E<this._absoluteSources.length;++E)if(this._absoluteSources[E]==l)return E;return-1},i.fromSourceMap=function(w,E){var b=Object.create(i.prototype),A=b._names=m.fromArray(w._names.toArray(),!0),C=b._sources=m.fromArray(w._sources.toArray(),!0);b.sourceRoot=w._sourceRoot,b.sourcesContent=w._generateSourcesContent(b._sources.toArray(),b.sourceRoot),b.file=w._file,b._sourceMapURL=E,b._absoluteSources=b._sources.toArray().map(function(ee){return a.computeSourceURL(b.sourceRoot,ee,E)});for(var _=w._mappings.toArray().slice(),N=b.__generatedMappings=[],O=b.__originalMappings=[],j=0,F=_.length;j<F;j++){var T=_[j],z=new p;z.generatedLine=T.generatedLine,z.generatedColumn=T.generatedColumn,T.source&&(z.source=C.indexOf(T.source),z.originalLine=T.originalLine,z.originalColumn=T.originalColumn,T.name&&(z.name=A.indexOf(T.name)),O.push(z)),N.push(z)}return c(b.__originalMappings,a.compareByOriginalPositions),b},i.prototype._version=3,Object.defineProperty(i.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),i.prototype._parseMappings=function(w,E){for(var x,H,R,J,b=1,A=0,C=0,_=0,N=0,O=0,j=w.length,F=0,T={},z={},ee=[],ie=[];F<j;)if(";"===w.charAt(F))b++,F++,A=0;else if(","===w.charAt(F))F++;else{for((x=new p).generatedLine=b,J=F;J<j&&!this._charIsMappingSeparator(w,J);J++);if(R=T[H=w.slice(F,J)])F+=H.length;else{for(R=[];F<J;)g.decode(w,F,z),F=z.rest,R.push(z.value);if(2===R.length)throw new Error("Found a source, but no line and column");if(3===R.length)throw new Error("Found a source and line, but no column");T[H]=R}x.generatedColumn=A+R[0],A=x.generatedColumn,R.length>1&&(x.source=N+R[1],N+=R[1],x.originalLine=C+R[2],C=x.originalLine,x.originalLine+=1,x.originalColumn=_+R[3],_=x.originalColumn,R.length>4&&(x.name=O+R[4],O+=R[4])),ie.push(x),"number"==typeof x.originalLine&&ee.push(x)}c(ie,a.compareByGeneratedPositionsDeflated),this.__generatedMappings=ie,c(ee,a.compareByOriginalPositions),this.__originalMappings=ee},i.prototype._findMapping=function(w,E,b,A,C,_){if(w[b]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+w[b]);if(w[A]<0)throw new TypeError("Column must be greater than or equal to 0, got "+w[A]);return v.search(w,E,C,_)},i.prototype.computeColumnSpans=function(){for(var w=0;w<this._generatedMappings.length;++w){var E=this._generatedMappings[w];if(w+1<this._generatedMappings.length){var b=this._generatedMappings[w+1];if(E.generatedLine===b.generatedLine){E.lastGeneratedColumn=b.generatedColumn-1;continue}}E.lastGeneratedColumn=1/0}},i.prototype.originalPositionFor=function(w){var E={generatedLine:a.getArg(w,"line"),generatedColumn:a.getArg(w,"column")},b=this._findMapping(E,this._generatedMappings,"generatedLine","generatedColumn",a.compareByGeneratedPositionsDeflated,a.getArg(w,"bias",u.GREATEST_LOWER_BOUND));if(b>=0){var A=this._generatedMappings[b];if(A.generatedLine===E.generatedLine){var C=a.getArg(A,"source",null);null!==C&&(C=this._sources.at(C),C=a.computeSourceURL(this.sourceRoot,C,this._sourceMapURL));var _=a.getArg(A,"name",null);return null!==_&&(_=this._names.at(_)),{source:C,line:a.getArg(A,"originalLine",null),column:a.getArg(A,"originalColumn",null),name:_}}}return{source:null,line:null,column:null,name:null}},i.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(w){return null==w})},i.prototype.sourceContentFor=function(w,E){if(!this.sourcesContent)return null;var b=this._findSourceIndex(w);if(b>=0)return this.sourcesContent[b];var C,A=w;if(null!=this.sourceRoot&&(A=a.relative(this.sourceRoot,A)),null!=this.sourceRoot&&(C=a.urlParse(this.sourceRoot))){var _=A.replace(/^file:\/\//,"");if("file"==C.scheme&&this._sources.has(_))return this.sourcesContent[this._sources.indexOf(_)];if((!C.path||"/"==C.path)&&this._sources.has("/"+A))return this.sourcesContent[this._sources.indexOf("/"+A)]}if(E)return null;throw new Error('"'+A+'" is not in the SourceMap.')},i.prototype.generatedPositionFor=function(w){var E=a.getArg(w,"source");if((E=this._findSourceIndex(E))<0)return{line:null,column:null,lastColumn:null};var b={source:E,originalLine:a.getArg(w,"line"),originalColumn:a.getArg(w,"column")},A=this._findMapping(b,this._originalMappings,"originalLine","originalColumn",a.compareByOriginalPositions,a.getArg(w,"bias",u.GREATEST_LOWER_BOUND));if(A>=0){var C=this._originalMappings[A];if(C.source===b.source)return{line:a.getArg(C,"generatedLine",null),column:a.getArg(C,"generatedColumn",null),lastColumn:a.getArg(C,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},(o.prototype=Object.create(u.prototype)).constructor=u,o.prototype._version=3,Object.defineProperty(o.prototype,"sources",{get:function(){for(var l=[],w=0;w<this._sections.length;w++)for(var E=0;E<this._sections[w].consumer.sources.length;E++)l.push(this._sections[w].consumer.sources[E]);return l}}),o.prototype.originalPositionFor=function(w){var E={generatedLine:a.getArg(w,"line"),generatedColumn:a.getArg(w,"column")},b=v.search(E,this._sections,function(C,_){return C.generatedLine-_.generatedOffset.generatedLine||C.generatedColumn-_.generatedOffset.generatedColumn}),A=this._sections[b];return A?A.consumer.originalPositionFor({line:E.generatedLine-(A.generatedOffset.generatedLine-1),column:E.generatedColumn-(A.generatedOffset.generatedLine===E.generatedLine?A.generatedOffset.generatedColumn-1:0),bias:w.bias}):{source:null,line:null,column:null,name:null}},o.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(w){return w.consumer.hasContentsOfAllSources()})},o.prototype.sourceContentFor=function(w,E){for(var b=0;b<this._sections.length;b++){var C=this._sections[b].consumer.sourceContentFor(w,!0);if(C)return C}if(E)return null;throw new Error('"'+w+'" is not in the SourceMap.')},o.prototype.generatedPositionFor=function(w){for(var E=0;E<this._sections.length;E++){var b=this._sections[E];if(-1!==b.consumer._findSourceIndex(a.getArg(w,"source"))){var A=b.consumer.generatedPositionFor(w);if(A)return{line:A.line+(b.generatedOffset.generatedLine-1),column:A.column+(b.generatedOffset.generatedLine===A.line?b.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},o.prototype._parseMappings=function(w,E){this.__generatedMappings=[],this.__originalMappings=[];for(var b=0;b<this._sections.length;b++)for(var A=this._sections[b],C=A.consumer._generatedMappings,_=0;_<C.length;_++){var N=C[_],O=A.consumer._sources.at(N.source);O=a.computeSourceURL(A.consumer.sourceRoot,O,this._sourceMapURL),this._sources.add(O),O=this._sources.indexOf(O);var j=null;N.name&&(j=A.consumer._names.at(N.name),this._names.add(j),j=this._names.indexOf(j));var F={source:O,generatedLine:N.generatedLine+(A.generatedOffset.generatedLine-1),generatedColumn:N.generatedColumn+(A.generatedOffset.generatedLine===N.generatedLine?A.generatedOffset.generatedColumn-1:0),originalLine:N.originalLine,originalColumn:N.originalColumn,name:j};this.__generatedMappings.push(F),"number"==typeof F.originalLine&&this.__originalMappings.push(F)}c(this.__generatedMappings,a.compareByGeneratedPositionsDeflated),c(this.__originalMappings,a.compareByOriginalPositions)}},63429:(X,d,s)=>{var h=s(59344),a=s(75775),v=s(24683).C,m=s(94242).P;function g(c){c||(c={}),this._file=a.getArg(c,"file",null),this._sourceRoot=a.getArg(c,"sourceRoot",null),this._skipValidation=a.getArg(c,"skipValidation",!1),this._sources=new v,this._names=new v,this._mappings=new m,this._sourcesContents=null}g.prototype._version=3,g.fromSourceMap=function(u){var i=u.sourceRoot,p=new g({file:u.file,sourceRoot:i});return u.eachMapping(function(o){var l={generated:{line:o.generatedLine,column:o.generatedColumn}};null!=o.source&&(l.source=o.source,null!=i&&(l.source=a.relative(i,l.source)),l.original={line:o.originalLine,column:o.originalColumn},null!=o.name&&(l.name=o.name)),p.addMapping(l)}),u.sources.forEach(function(o){var l=o;null!==i&&(l=a.relative(i,o)),p._sources.has(l)||p._sources.add(l);var w=u.sourceContentFor(o);null!=w&&p.setSourceContent(o,w)}),p},g.prototype.addMapping=function(u){var i=a.getArg(u,"generated"),p=a.getArg(u,"original",null),o=a.getArg(u,"source",null),l=a.getArg(u,"name",null);this._skipValidation||this._validateMapping(i,p,o,l),null!=o&&(o=String(o),this._sources.has(o)||this._sources.add(o)),null!=l&&(l=String(l),this._names.has(l)||this._names.add(l)),this._mappings.add({generatedLine:i.line,generatedColumn:i.column,originalLine:null!=p&&p.line,originalColumn:null!=p&&p.column,source:o,name:l})},g.prototype.setSourceContent=function(u,i){var p=u;null!=this._sourceRoot&&(p=a.relative(this._sourceRoot,p)),null!=i?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[a.toSetString(p)]=i):this._sourcesContents&&(delete this._sourcesContents[a.toSetString(p)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},g.prototype.applySourceMap=function(u,i,p){var o=i;if(null==i){if(null==u.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');o=u.file}var l=this._sourceRoot;null!=l&&(o=a.relative(l,o));var w=new v,E=new v;this._mappings.unsortedForEach(function(b){if(b.source===o&&null!=b.originalLine){var A=u.originalPositionFor({line:b.originalLine,column:b.originalColumn});null!=A.source&&(b.source=A.source,null!=p&&(b.source=a.join(p,b.source)),null!=l&&(b.source=a.relative(l,b.source)),b.originalLine=A.line,b.originalColumn=A.column,null!=A.name&&(b.name=A.name))}var C=b.source;null!=C&&!w.has(C)&&w.add(C);var _=b.name;null!=_&&!E.has(_)&&E.add(_)},this),this._sources=w,this._names=E,u.sources.forEach(function(b){var A=u.sourceContentFor(b);null!=A&&(null!=p&&(b=a.join(p,b)),null!=l&&(b=a.relative(l,b)),this.setSourceContent(b,A))},this)},g.prototype._validateMapping=function(u,i,p,o){if(i&&"number"!=typeof i.line&&"number"!=typeof i.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(u&&"line"in u&&"column"in u&&u.line>0&&u.column>=0)||i||p||o){if(u&&"line"in u&&"column"in u&&i&&"line"in i&&"column"in i&&u.line>0&&u.column>=0&&i.line>0&&i.column>=0&&p)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:u,source:p,original:i,name:o}))}},g.prototype._serializeMappings=function(){for(var b,A,C,_,u=0,i=1,p=0,o=0,l=0,w=0,E="",N=this._mappings.toArray(),O=0,j=N.length;O<j;O++){if(b="",(A=N[O]).generatedLine!==i)for(u=0;A.generatedLine!==i;)b+=";",i++;else if(O>0){if(!a.compareByGeneratedPositionsInflated(A,N[O-1]))continue;b+=","}b+=h.encode(A.generatedColumn-u),u=A.generatedColumn,null!=A.source&&(_=this._sources.indexOf(A.source),b+=h.encode(_-w),w=_,b+=h.encode(A.originalLine-1-o),o=A.originalLine-1,b+=h.encode(A.originalColumn-p),p=A.originalColumn,null!=A.name&&(C=this._names.indexOf(A.name),b+=h.encode(C-l),l=C)),E+=b}return E},g.prototype._generateSourcesContent=function(u,i){return u.map(function(p){if(!this._sourcesContents)return null;null!=i&&(p=a.relative(i,p));var o=a.toSetString(p);return Object.prototype.hasOwnProperty.call(this._sourcesContents,o)?this._sourcesContents[o]:null},this)},g.prototype.toJSON=function(){var u={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(u.file=this._file),null!=this._sourceRoot&&(u.sourceRoot=this._sourceRoot),this._sourcesContents&&(u.sourcesContent=this._generateSourcesContent(u.sources,u.sourceRoot)),u},g.prototype.toString=function(){return JSON.stringify(this.toJSON())},d.x=g},72071:(X,d,s)=>{var h=s(63429).x,a=s(75775),v=/(\r?\n)/,g="$$$isSourceNode$$$";function c(u,i,p,o,l){this.children=[],this.sourceContents={},this.line=u??null,this.column=i??null,this.source=p??null,this.name=l??null,this[g]=!0,null!=o&&this.add(o)}c.fromStringWithSourceMap=function(i,p,o){var l=new c,w=i.split(v),E=0,b=function(){return F()+(F()||"");function F(){return E<w.length?w[E++]:void 0}},A=1,C=0,_=null;return p.eachMapping(function(O){if(null!==_){if(!(A<O.generatedLine)){var F=(j=w[E]||"").substr(0,O.generatedColumn-C);return w[E]=j.substr(O.generatedColumn-C),C=O.generatedColumn,N(_,F),void(_=O)}N(_,b()),A++,C=0}for(;A<O.generatedLine;)l.add(b()),A++;var j;C<O.generatedColumn&&(l.add((j=w[E]||"").substr(0,O.generatedColumn)),w[E]=j.substr(O.generatedColumn),C=O.generatedColumn),_=O},this),E<w.length&&(_&&N(_,b()),l.add(w.splice(E).join(""))),p.sources.forEach(function(O){var j=p.sourceContentFor(O);null!=j&&(null!=o&&(O=a.join(o,O)),l.setSourceContent(O,j))}),l;function N(O,j){if(null===O||void 0===O.source)l.add(j);else{var F=o?a.join(o,O.source):O.source;l.add(new c(O.originalLine,O.originalColumn,F,j,O.name))}}},c.prototype.add=function(i){if(Array.isArray(i))i.forEach(function(p){this.add(p)},this);else{if(!i[g]&&"string"!=typeof i)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+i);i&&this.children.push(i)}return this},c.prototype.prepend=function(i){if(Array.isArray(i))for(var p=i.length-1;p>=0;p--)this.prepend(i[p]);else{if(!i[g]&&"string"!=typeof i)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+i);this.children.unshift(i)}return this},c.prototype.walk=function(i){for(var p,o=0,l=this.children.length;o<l;o++)(p=this.children[o])[g]?p.walk(i):""!==p&&i(p,{source:this.source,line:this.line,column:this.column,name:this.name})},c.prototype.join=function(i){var p,o,l=this.children.length;if(l>0){for(p=[],o=0;o<l-1;o++)p.push(this.children[o]),p.push(i);p.push(this.children[o]),this.children=p}return this},c.prototype.replaceRight=function(i,p){var o=this.children[this.children.length-1];return o[g]?o.replaceRight(i,p):"string"==typeof o?this.children[this.children.length-1]=o.replace(i,p):this.children.push("".replace(i,p)),this},c.prototype.setSourceContent=function(i,p){this.sourceContents[a.toSetString(i)]=p},c.prototype.walkSourceContents=function(i){for(var p=0,o=this.children.length;p<o;p++)this.children[p][g]&&this.children[p].walkSourceContents(i);var l=Object.keys(this.sourceContents);for(p=0,o=l.length;p<o;p++)i(a.fromSetString(l[p]),this.sourceContents[l[p]])},c.prototype.toString=function(){var i="";return this.walk(function(p){i+=p}),i},c.prototype.toStringWithSourceMap=function(i){var p={code:"",line:1,column:0},o=new h(i),l=!1,w=null,E=null,b=null,A=null;return this.walk(function(C,_){p.code+=C,null!==_.source&&null!==_.line&&null!==_.column?((w!==_.source||E!==_.line||b!==_.column||A!==_.name)&&o.addMapping({source:_.source,original:{line:_.line,column:_.column},generated:{line:p.line,column:p.column},name:_.name}),w=_.source,E=_.line,b=_.column,A=_.name,l=!0):l&&(o.addMapping({generated:{line:p.line,column:p.column}}),w=null,l=!1);for(var N=0,O=C.length;N<O;N++)10===C.charCodeAt(N)?(p.line++,p.column=0,N+1===O?(w=null,l=!1):l&&o.addMapping({source:_.source,original:{line:_.line,column:_.column},generated:{line:p.line,column:p.column},name:_.name})):p.column++}),this.walkSourceContents(function(C,_){o.setSourceContent(C,_)}),{code:p.code,map:o}},d.SourceNode=c},75775:(X,d)=>{d.getArg=function s(O,j,F){if(j in O)return O[j];if(3===arguments.length)return F;throw new Error('"'+j+'" is a required argument.')};var h=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,a=/^data:.+\,.+$/;function v(O){var j=O.match(h);return j?{scheme:j[1],auth:j[2],host:j[3],port:j[4],path:j[5]}:null}function m(O){var j="";return O.scheme&&(j+=O.scheme+":"),j+="//",O.auth&&(j+=O.auth+"@"),O.host&&(j+=O.host),O.port&&(j+=":"+O.port),O.path&&(j+=O.path),j}function g(O){var j=O,F=v(O);if(F){if(!F.path)return O;j=F.path}for(var ee,T=d.isAbsolute(j),z=j.split(/\/+/),ie=0,x=z.length-1;x>=0;x--)"."===(ee=z[x])?z.splice(x,1):".."===ee?ie++:ie>0&&(""===ee?(z.splice(x+1,ie),ie=0):(z.splice(x,2),ie--));return""===(j=z.join("/"))&&(j=T?"/":"."),F?(F.path=j,m(F)):j}function c(O,j){""===O&&(O="."),""===j&&(j=".");var F=v(j),T=v(O);if(T&&(O=T.path||"/"),F&&!F.scheme)return T&&(F.scheme=T.scheme),m(F);if(F||j.match(a))return j;if(T&&!T.host&&!T.path)return T.host=j,m(T);var z="/"===j.charAt(0)?j:g(O.replace(/\/+$/,"")+"/"+j);return T?(T.path=z,m(T)):z}d.urlParse=v,d.urlGenerate=m,d.normalize=g,d.join=c,d.isAbsolute=function(O){return"/"===O.charAt(0)||h.test(O)},d.relative=function u(O,j){""===O&&(O="."),O=O.replace(/\/$/,"");for(var F=0;0!==j.indexOf(O+"/");){var T=O.lastIndexOf("/");if(T<0||(O=O.slice(0,T)).match(/^([^\/]+:\/)?\/*$/))return j;++F}return Array(F+1).join("../")+j.substr(O.length+1)};var i=!("__proto__"in Object.create(null));function p(O){return O}function w(O){if(!O)return!1;var j=O.length;if(j<9||95!==O.charCodeAt(j-1)||95!==O.charCodeAt(j-2)||111!==O.charCodeAt(j-3)||116!==O.charCodeAt(j-4)||111!==O.charCodeAt(j-5)||114!==O.charCodeAt(j-6)||112!==O.charCodeAt(j-7)||95!==O.charCodeAt(j-8)||95!==O.charCodeAt(j-9))return!1;for(var F=j-10;F>=0;F--)if(36!==O.charCodeAt(F))return!1;return!0}function A(O,j){return O===j?0:null===O?1:null===j?-1:O>j?1:-1}d.toSetString=i?p:function o(O){return w(O)?"$"+O:O},d.fromSetString=i?p:function l(O){return w(O)?O.slice(1):O},d.compareByOriginalPositions=function E(O,j,F){var T=A(O.source,j.source);return 0!==T||0!=(T=O.originalLine-j.originalLine)||0!=(T=O.originalColumn-j.originalColumn)||F||0!=(T=O.generatedColumn-j.generatedColumn)||0!=(T=O.generatedLine-j.generatedLine)?T:A(O.name,j.name)},d.compareByGeneratedPositionsDeflated=function b(O,j,F){var T=O.generatedLine-j.generatedLine;return 0!==T||0!=(T=O.generatedColumn-j.generatedColumn)||F||0!==(T=A(O.source,j.source))||0!=(T=O.originalLine-j.originalLine)||0!=(T=O.originalColumn-j.originalColumn)?T:A(O.name,j.name)},d.compareByGeneratedPositionsInflated=function C(O,j){var F=O.generatedLine-j.generatedLine;return 0!==F||0!=(F=O.generatedColumn-j.generatedColumn)||0!==(F=A(O.source,j.source))||0!=(F=O.originalLine-j.originalLine)||0!=(F=O.originalColumn-j.originalColumn)?F:A(O.name,j.name)},d.parseSourceMapInput=function _(O){return JSON.parse(O.replace(/^\)]}'[^\n]*\n/,""))},d.computeSourceURL=function N(O,j,F){if(j=j||"",O&&("/"!==O[O.length-1]&&"/"!==j[0]&&(O+="/"),j=O+j),F){var T=v(F);if(!T)throw new Error("sourceMapURL could not be parsed");if(T.path){var z=T.path.lastIndexOf("/");z>=0&&(T.path=T.path.substring(0,z+1))}j=c(m(T),j)}return g(j)}},89877:(X,d,s)=>{s(63429),s(2818),d.SourceNode=s(72071).SourceNode},48038:(X,d,s)=>{!function h(a){"use strict";var v,m,g,c,u,i;function p(j){var T,z,F={};for(T in j)j.hasOwnProperty(T)&&(F[T]="object"==typeof(z=j[T])&&null!==z?p(z):z);return F}function l(j,F){this.parent=j,this.key=F}function w(j,F,T,z){this.node=j,this.path=F,this.wrap=T,this.ref=z}function E(){}function b(j){return null!=j&&"object"==typeof j&&"string"==typeof j.type}function A(j,F){return(j===v.ObjectExpression||j===v.ObjectPattern)&&"properties"===F}function C(j,F){return(new E).traverse(j,F)}function N(j,F){var T;return T=function o(j,F){var T,z,ee,ie;for(z=j.length,ee=0;z;)F(j[ie=ee+(T=z>>>1)])?z=T:(ee=ie+1,z-=T+1);return ee}(F,function(ee){return ee.range[0]>j.range[0]}),j.extendedRange=[j.range[0],j.range[1]],T!==F.length&&(j.extendedRange[1]=F[T].range[0]),(T-=1)>=0&&(j.extendedRange[0]=F[T].range[1]),j}return v={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},g={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},m={Break:c={},Skip:u={},Remove:i={}},l.prototype.replace=function(F){this.parent[this.key]=F},l.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)},E.prototype.path=function(){var F,T,z,ee,ie;function H(R,J){if(Array.isArray(J))for(z=0,ee=J.length;z<ee;++z)R.push(J[z]);else R.push(J)}if(!this.__current.path)return null;for(ie=[],F=2,T=this.__leavelist.length;F<T;++F)H(ie,this.__leavelist[F].path);return H(ie,this.__current.path),ie},E.prototype.type=function(){return this.current().type||this.__current.wrap},E.prototype.parents=function(){var F,T,z;for(z=[],F=1,T=this.__leavelist.length;F<T;++F)z.push(this.__leavelist[F].node);return z},E.prototype.current=function(){return this.__current.node},E.prototype.__execute=function(F,T){var z,ee;return ee=void 0,z=this.__current,this.__current=T,this.__state=null,F&&(ee=F.call(this,T.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=z,ee},E.prototype.notify=function(F){this.__state=F},E.prototype.skip=function(){this.notify(u)},E.prototype.break=function(){this.notify(c)},E.prototype.remove=function(){this.notify(i)},E.prototype.__initialize=function(j,F){this.visitor=F,this.root=j,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,"iteration"===F.fallback?this.__fallback=Object.keys:"function"==typeof F.fallback&&(this.__fallback=F.fallback),this.__keys=g,F.keys&&(this.__keys=Object.assign(Object.create(this.__keys),F.keys))},E.prototype.traverse=function(F,T){var z,ee,ie,x,H,R,J,W,ce,M,Q,de;for(this.__initialize(F,T),de={},ee=this.__leavelist,(z=this.__worklist).push(new w(F,null,null,null)),ee.push(new w(null,null,null,null));z.length;)if((ie=z.pop())!==de){if(ie.node){if(R=this.__execute(T.enter,ie),this.__state===c||R===c)return;if(z.push(de),ee.push(ie),this.__state===u||R===u)continue;if(!(M=this.__keys[H=(x=ie.node).type||ie.wrap])){if(!this.__fallback)throw new Error("Unknown node type "+H+".");M=this.__fallback(x)}for(W=M.length;(W-=1)>=0;)if(Q=x[J=M[W]])if(Array.isArray(Q)){for(ce=Q.length;(ce-=1)>=0;)if(Q[ce]){if(A(H,M[W]))ie=new w(Q[ce],[J,ce],"Property",null);else{if(!b(Q[ce]))continue;ie=new w(Q[ce],[J,ce],null,null)}z.push(ie)}}else b(Q)&&z.push(new w(Q,J,null,null))}}else if(ie=ee.pop(),R=this.__execute(T.leave,ie),this.__state===c||R===c)return},E.prototype.replace=function(F,T){var z,ee,ie,x,H,R,J,W,ce,M,Q,de,we;function je(S){var I,G,K,q;if(S.ref.remove())for(G=S.ref.key,q=S.ref.parent,I=z.length;I--;)if((K=z[I]).ref&&K.ref.parent===q){if(K.ref.key<G)break;--K.ref.key}}for(this.__initialize(F,T),Q={},z=this.__worklist,ee=this.__leavelist,R=new w(F,null,null,new l(de={root:F},"root")),z.push(R),ee.push(R);z.length;)if((R=z.pop())!==Q){if(void 0!==(H=this.__execute(T.enter,R))&&H!==c&&H!==u&&H!==i&&(R.ref.replace(H),R.node=H),(this.__state===i||H===i)&&(je(R),R.node=null),this.__state===c||H===c)return de.root;if((ie=R.node)&&(z.push(Q),ee.push(R),this.__state!==u&&H!==u)){if(!(ce=this.__keys[x=ie.type||R.wrap])){if(!this.__fallback)throw new Error("Unknown node type "+x+".");ce=this.__fallback(ie)}for(J=ce.length;(J-=1)>=0;)if(M=ie[we=ce[J]])if(Array.isArray(M)){for(W=M.length;(W-=1)>=0;)if(M[W]){if(A(x,ce[J]))R=new w(M[W],[we,W],"Property",new l(M,W));else{if(!b(M[W]))continue;R=new w(M[W],[we,W],null,new l(M,W))}z.push(R)}}else b(M)&&z.push(new w(M,we,null,new l(ie,we)))}}else if(R=ee.pop(),void 0!==(H=this.__execute(T.leave,R))&&H!==c&&H!==u&&H!==i&&R.ref.replace(H),(this.__state===i||H===i)&&je(R),this.__state===c||H===c)return de.root;return de.root},a.version=s(99600).rE,a.Syntax=v,a.traverse=C,a.replace=function _(j,F){return(new E).replace(j,F)},a.attachComments=function O(j,F,T){var ee,ie,x,H,z=[];if(!j.range)throw new Error("attachComments needs range information");if(!T.length){if(F.length){for(x=0,ie=F.length;x<ie;x+=1)(ee=p(F[x])).extendedRange=[0,j.range[0]],z.push(ee);j.leadingComments=z}return j}for(x=0,ie=F.length;x<ie;x+=1)z.push(N(p(F[x]),T));return H=0,C(j,{enter:function(R){for(var J;H<z.length&&!((J=z[H]).extendedRange[1]>R.range[0]);)J.extendedRange[1]===R.range[0]?(R.leadingComments||(R.leadingComments=[]),R.leadingComments.push(J),z.splice(H,1)):H+=1;return H===z.length?m.Break:z[H].extendedRange[0]>R.range[1]?m.Skip:void 0}}),H=0,C(j,{leave:function(R){for(var J;H<z.length&&!(R.range[1]<(J=z[H]).extendedRange[0]);)R.range[1]===J.extendedRange[0]?(R.trailingComments||(R.trailingComments=[]),R.trailingComments.push(J),z.splice(H,1)):H+=1;return H===z.length?m.Break:z[H].extendedRange[0]>R.range[1]?m.Skip:void 0}}),j},a.VisitorKeys=g,a.VisitorOption=m,a.Controller=E,a.cloneEnvironment=function(){return h({})},a}(d)},40569:X=>{!function(){"use strict";function h(g){if(null==g)return!1;switch(g.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function v(g){switch(g.type){case"IfStatement":return null!=g.alternate?g.alternate:g.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return g.body}return null}X.exports={isExpression:function d(g){if(null==g)return!1;switch(g.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1},isStatement:h,isIterationStatement:function s(g){if(null==g)return!1;switch(g.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1},isSourceElement:function a(g){return h(g)||null!=g&&"FunctionDeclaration"===g.type},isProblematicIfStatement:function m(g){var c;if("IfStatement"!==g.type||null==g.alternate)return!1;c=g.consequent;do{if("IfStatement"===c.type&&null==c.alternate)return!0;c=v(c)}while(c);return!1},trailingStatement:v}}()},45444:X=>{!function(){"use strict";var d,s,h,a,v,m;function o(A){return A<=65535?String.fromCharCode(A):String.fromCharCode(Math.floor((A-65536)/1024)+55296)+String.fromCharCode((A-65536)%1024+56320)}for(s={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},d={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},h=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279],a=new Array(128),m=0;m<128;++m)a[m]=m>=97&&m<=122||m>=65&&m<=90||36===m||95===m;for(v=new Array(128),m=0;m<128;++m)v[m]=m>=97&&m<=122||m>=65&&m<=90||m>=48&&m<=57||36===m||95===m;X.exports={isDecimalDigit:function g(A){return 48<=A&&A<=57},isHexDigit:function c(A){return 48<=A&&A<=57||97<=A&&A<=102||65<=A&&A<=70},isOctalDigit:function u(A){return A>=48&&A<=55},isWhiteSpace:function i(A){return 32===A||9===A||11===A||12===A||160===A||A>=5760&&h.indexOf(A)>=0},isLineTerminator:function p(A){return 10===A||13===A||8232===A||8233===A},isIdentifierStartES5:function l(A){return A<128?a[A]:s.NonAsciiIdentifierStart.test(o(A))},isIdentifierPartES5:function w(A){return A<128?v[A]:s.NonAsciiIdentifierPart.test(o(A))},isIdentifierStartES6:function E(A){return A<128?a[A]:d.NonAsciiIdentifierStart.test(o(A))},isIdentifierPartES6:function b(A){return A<128?v[A]:d.NonAsciiIdentifierPart.test(o(A))}}}()},99050:(X,d,s)=>{!function(){"use strict";var h=s(45444);function v(E,b){return!(!b&&"yield"===E)&&m(E,b)}function m(E,b){if(b&&function a(E){switch(E){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}(E))return!0;switch(E.length){case 2:return"if"===E||"in"===E||"do"===E;case 3:return"var"===E||"for"===E||"new"===E||"try"===E;case 4:return"this"===E||"else"===E||"case"===E||"void"===E||"with"===E||"enum"===E;case 5:return"while"===E||"break"===E||"catch"===E||"throw"===E||"const"===E||"yield"===E||"class"===E||"super"===E;case 6:return"return"===E||"typeof"===E||"delete"===E||"switch"===E||"export"===E||"import"===E;case 7:return"default"===E||"finally"===E||"extends"===E;case 8:return"function"===E||"continue"===E||"debugger"===E;case 10:return"instanceof"===E;default:return!1}}function g(E,b){return"null"===E||"true"===E||"false"===E||v(E,b)}function c(E,b){return"null"===E||"true"===E||"false"===E||m(E,b)}function i(E){var b,A,C;if(0===E.length||(C=E.charCodeAt(0),!h.isIdentifierStartES5(C)))return!1;for(b=1,A=E.length;b<A;++b)if(C=E.charCodeAt(b),!h.isIdentifierPartES5(C))return!1;return!0}function p(E,b){return 1024*(E-55296)+(b-56320)+65536}function o(E){var b,A,C,_,N;if(0===E.length)return!1;for(N=h.isIdentifierStartES6,b=0,A=E.length;b<A;++b){if(55296<=(C=E.charCodeAt(b))&&C<=56319){if(++b>=A||!(56320<=(_=E.charCodeAt(b))&&_<=57343))return!1;C=p(C,_)}if(!N(C))return!1;N=h.isIdentifierPartES6}return!0}X.exports={isKeywordES5:v,isKeywordES6:m,isReservedWordES5:g,isReservedWordES6:c,isRestrictedWord:function u(E){return"eval"===E||"arguments"===E},isIdentifierNameES5:i,isIdentifierNameES6:o,isIdentifierES5:function l(E,b){return i(E)&&!g(E,b)},isIdentifierES6:function w(E,b){return o(E)&&!c(E,b)}}}()},3516:(X,d,s)=>{!function(){"use strict";d.ast=s(40569),d.code=s(45444),d.keyword=s(99050)}()},49132:X=>{"use strict";var s=Object.prototype.toString,h=Math.max,v=function(u,i){for(var p=[],o=0;o<u.length;o+=1)p[o]=u[o];for(var l=0;l<i.length;l+=1)p[l+u.length]=i[l];return p};X.exports=function(u){var i=this;if("function"!=typeof i||"[object Function]"!==s.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,p=function(u,i){for(var p=[],o=1,l=0;o<u.length;o+=1,l+=1)p[l]=u[o];return p}(arguments),w=h(0,i.length-p.length),E=[],b=0;b<w;b++)E[b]="$"+b;if(o=Function("binder","return function ("+function(c,u){for(var i="",p=0;p<c.length;p+=1)i+=c[p],p+1<c.length&&(i+=",");return i}(E)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof o){var C=i.apply(this,v(p,arguments));return Object(C)===C?C:this}return i.apply(u,v(p,arguments))}),i.prototype){var A=function(){};A.prototype=i.prototype,o.prototype=new A,A.prototype=null}return o}},65992:(X,d,s)=>{"use strict";var h=s(49132);X.exports=Function.prototype.bind||h},64003:X=>{"use strict";var d=function(){return"string"==typeof function(){}.name},s=Object.getOwnPropertyDescriptor;if(s)try{s([],"length")}catch{s=null}d.functionsHaveConfigurableNames=function(){if(!d()||!s)return!1;var v=s(function(){},"name");return!!v&&!!v.configurable};var h=Function.prototype.bind;d.boundFunctionsHaveNames=function(){return d()&&"function"==typeof h&&""!==function(){}.bind().name},X.exports=d},90258:(X,d,s)=>{"use strict";var h,a=s(37640),v=s(1756),m=s(77933),g=s(6613),c=s(58413),u=s(46758),i=s(5286),p=Function,o=function(de){try{return p('"use strict"; return ('+de+").constructor;")()}catch{}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch{l=null}var w=function(){throw new u},E=l?function(){try{return w}catch{try{return l(arguments,"callee").get}catch{return w}}}():w,b=s(19900)(),A=s(62119)(),C=Object.getPrototypeOf||(A?function(de){return de.__proto__}:null),_={},N=typeof Uint8Array>"u"||!C?h:C(Uint8Array),O={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?h:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?h:ArrayBuffer,"%ArrayIteratorPrototype%":b&&C?C([][Symbol.iterator]()):h,"%AsyncFromSyncIteratorPrototype%":h,"%AsyncFunction%":_,"%AsyncGenerator%":_,"%AsyncGeneratorFunction%":_,"%AsyncIteratorPrototype%":_,"%Atomics%":typeof Atomics>"u"?h:Atomics,"%BigInt%":typeof BigInt>"u"?h:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?h:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?h:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?h:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":a,"%eval%":eval,"%EvalError%":v,"%Float32Array%":typeof Float32Array>"u"?h:Float32Array,"%Float64Array%":typeof Float64Array>"u"?h:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?h:FinalizationRegistry,"%Function%":p,"%GeneratorFunction%":_,"%Int8Array%":typeof Int8Array>"u"?h:Int8Array,"%Int16Array%":typeof Int16Array>"u"?h:Int16Array,"%Int32Array%":typeof Int32Array>"u"?h:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":b&&C?C(C([][Symbol.iterator]())):h,"%JSON%":"object"==typeof JSON?JSON:h,"%Map%":typeof Map>"u"?h:Map,"%MapIteratorPrototype%":typeof Map>"u"||!b||!C?h:C((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?h:Promise,"%Proxy%":typeof Proxy>"u"?h:Proxy,"%RangeError%":m,"%ReferenceError%":g,"%Reflect%":typeof Reflect>"u"?h:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?h:Set,"%SetIteratorPrototype%":typeof Set>"u"||!b||!C?h:C((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?h:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":b&&C?C(""[Symbol.iterator]()):h,"%Symbol%":b?Symbol:h,"%SyntaxError%":c,"%ThrowTypeError%":E,"%TypedArray%":N,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array>"u"?h:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?h:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?h:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?h:Uint32Array,"%URIError%":i,"%WeakMap%":typeof WeakMap>"u"?h:WeakMap,"%WeakRef%":typeof WeakRef>"u"?h:WeakRef,"%WeakSet%":typeof WeakSet>"u"?h:WeakSet};if(C)try{null.error}catch(de){var j=C(C(de));O["%Error.prototype%"]=j}var F=function de(we){var je;if("%AsyncFunction%"===we)je=o("async function () {}");else if("%GeneratorFunction%"===we)je=o("function* () {}");else if("%AsyncGeneratorFunction%"===we)je=o("async function* () {}");else if("%AsyncGenerator%"===we){var S=de("%AsyncGeneratorFunction%");S&&(je=S.prototype)}else if("%AsyncIteratorPrototype%"===we){var I=de("%AsyncGenerator%");I&&C&&(je=C(I.prototype))}return O[we]=je,je},T={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},z=s(65992),ee=s(78368),ie=z.call(Function.call,Array.prototype.concat),x=z.call(Function.apply,Array.prototype.splice),H=z.call(Function.call,String.prototype.replace),R=z.call(Function.call,String.prototype.slice),J=z.call(Function.call,RegExp.prototype.exec),W=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ce=/\\(\\)?/g,Q=function(we,je){var I,S=we;if(ee(T,S)&&(S="%"+(I=T[S])[0]+"%"),ee(O,S)){var G=O[S];if(G===_&&(G=F(S)),typeof G>"u"&&!je)throw new u("intrinsic "+we+" exists, but is not available. Please file an issue!");return{alias:I,name:S,value:G}}throw new c("intrinsic "+we+" does not exist!")};X.exports=function(we,je){if("string"!=typeof we||0===we.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof je)throw new u('"allowMissing" argument must be a boolean');if(null===J(/^%?[^%]*%?$/,we))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var S=function(we){var je=R(we,0,1),S=R(we,-1);if("%"===je&&"%"!==S)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===S&&"%"!==je)throw new c("invalid intrinsic syntax, expected opening `%`");var I=[];return H(we,W,function(G,K,q,le){I[I.length]=q?H(le,ce,"$1"):K||G}),I}(we),I=S.length>0?S[0]:"",G=Q("%"+I+"%",je),K=G.name,q=G.value,le=!1,he=G.alias;he&&(I=he[0],x(S,ie([0,1],he)));for(var Ee=1,pe=!0;Ee<S.length;Ee+=1){var De=S[Ee],Xe=R(De,0,1),Pe=R(De,-1);if(('"'===Xe||"'"===Xe||"`"===Xe||'"'===Pe||"'"===Pe||"`"===Pe)&&Xe!==Pe)throw new c("property names with quotes must have matching quotes");if(("constructor"===De||!pe)&&(le=!0),ee(O,K="%"+(I+="."+De)+"%"))q=O[K];else if(null!=q){if(!(De in q)){if(!je)throw new u("base intrinsic for "+we+" exists, but the property is not available.");return}if(l&&Ee+1>=S.length){var Fe=l(q,De);q=(pe=!!Fe)&&"get"in Fe&&!("originalValue"in Fe.get)?Fe.get:q[De]}else pe=ee(q,De),q=q[De];pe&&!le&&(O[K]=q)}}return q}},83798:(X,d,s)=>{"use strict";var a=s(90258)("%Object.getOwnPropertyDescriptor%",!0);if(a)try{a([],"length")}catch{a=null}X.exports=a},35861:(X,d,s)=>{"use strict";var h=s(4570),a=function(){return!!h};a.hasArrayLengthDefineBug=function(){if(!h)return null;try{return 1!==h([],"length",{value:1}).length}catch{return!0}},X.exports=a},62119:X=>{"use strict";var d={__proto__:null,foo:{}},s=Object;X.exports=function(){return{__proto__:d}.foo===d.foo&&!(d instanceof s)}},19900:(X,d,s)=>{"use strict";var h=typeof Symbol<"u"&&Symbol,a=s(45310);X.exports=function(){return"function"==typeof h&&"function"==typeof Symbol&&"symbol"==typeof h("foo")&&"symbol"==typeof Symbol("bar")&&a()}},45310:X=>{"use strict";X.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var s={},h=Symbol("test"),a=Object(h);if("string"==typeof h||"[object Symbol]"!==Object.prototype.toString.call(h)||"[object Symbol]"!==Object.prototype.toString.call(a))return!1;for(h in s[h]=42,s)return!1;if("function"==typeof Object.keys&&0!==Object.keys(s).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(s).length)return!1;var m=Object.getOwnPropertySymbols(s);if(1!==m.length||m[0]!==h||!Object.prototype.propertyIsEnumerable.call(s,h))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var g=Object.getOwnPropertyDescriptor(s,h);if(42!==g.value||!0!==g.enumerable)return!1}return!0}},88779:(X,d,s)=>{"use strict";var h=s(45310);X.exports=function(){return h()&&!!Symbol.toStringTag}},78368:(X,d,s)=>{"use strict";var h=Function.prototype.call,a=Object.prototype.hasOwnProperty,v=s(65992);X.exports=v.call(h,a)},53720:(X,d,s)=>{"use strict";var h=s(78368),a=s(3541)(),v=s(46758),m={assert:function(g,c){if(!g||"object"!=typeof g&&"function"!=typeof g)throw new v("`O` is not an object");if("string"!=typeof c)throw new v("`slot` must be a string");if(a.assert(g),!m.has(g,c))throw new v("`"+c+"` is not present on `O`")},get:function(g,c){if(!g||"object"!=typeof g&&"function"!=typeof g)throw new v("`O` is not an object");if("string"!=typeof c)throw new v("`slot` must be a string");var u=a.get(g);return u&&u["$"+c]},has:function(g,c){if(!g||"object"!=typeof g&&"function"!=typeof g)throw new v("`O` is not an object");if("string"!=typeof c)throw new v("`slot` must be a string");var u=a.get(g);return!!u&&h(u,"$"+c)},set:function(g,c,u){if(!g||"object"!=typeof g&&"function"!=typeof g)throw new v("`O` is not an object");if("string"!=typeof c)throw new v("`slot` must be a string");var i=a.get(g);i||a.set(g,i={}),i["$"+c]=u}};Object.freeze&&Object.freeze(m),X.exports=m},58239:X=>{"use strict";var h,a,d=Function.prototype.toString,s="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof s&&"function"==typeof Object.defineProperty)try{h=Object.defineProperty({},"length",{get:function(){throw a}}),a={},s(function(){throw 42},null,h)}catch(_){_!==a&&(s=null)}else s=null;var v=/^\s*class\b/,m=function(N){try{var O=d.call(N);return v.test(O)}catch{return!1}},g=function(N){try{return!m(N)&&(d.call(N),!0)}catch{return!1}},c=Object.prototype.toString,E="function"==typeof Symbol&&!!Symbol.toStringTag,b=!(0 in[,]),A=function(){return!1};if("object"==typeof document){var C=document.all;c.call(C)===c.call(document.all)&&(A=function(N){if((b||!N)&&(typeof N>"u"||"object"==typeof N))try{var O=c.call(N);return("[object HTMLAllCollection]"===O||"[object HTML document.all class]"===O||"[object HTMLCollection]"===O||"[object Object]"===O)&&null==N("")}catch{}return!1})}X.exports=s?function(N){if(A(N))return!0;if(!N||"function"!=typeof N&&"object"!=typeof N)return!1;try{s(N,null,h)}catch(O){if(O!==a)return!1}return!m(N)&&g(N)}:function(N){if(A(N))return!0;if(!N||"function"!=typeof N&&"object"!=typeof N)return!1;if(E)return g(N);if(m(N))return!1;var O=c.call(N);return!("[object Function]"!==O&&"[object GeneratorFunction]"!==O&&!/^\[object HTML/.test(O))&&g(N)}},94665:(X,d,s)=>{"use strict";var h=Date.prototype.getDay,v=Object.prototype.toString,g=s(88779)();X.exports=function(u){return"object"==typeof u&&null!==u&&(g?function(u){try{return h.call(u),!0}catch{return!1}}(u):"[object Date]"===v.call(u))}},53290:(X,d,s)=>{"use strict";var v,m,g,c,h=s(23020),a=s(88779)();if(a){v=h("Object.prototype.hasOwnProperty"),m=h("RegExp.prototype.exec"),g={};var u=function(){throw g};c={toString:u,valueOf:u},"symbol"==typeof Symbol.toPrimitive&&(c[Symbol.toPrimitive]=u)}var i=h("Object.prototype.toString"),p=Object.getOwnPropertyDescriptor;X.exports=a?function(w){if(!w||"object"!=typeof w)return!1;var E=p(w,"lastIndex");if(!E||!v(E,"value"))return!1;try{m(w,c)}catch(A){return A===g}}:function(w){return!(!w||"object"!=typeof w&&"function"!=typeof w)&&"[object RegExp]"===i(w)}},16827:(X,d,s)=>{"use strict";var h=Object.prototype.toString;if(s(19900)()){var v=Symbol.prototype.toString,m=/^Symbol\(.*\)$/;X.exports=function(u){if("symbol"==typeof u)return!0;if("[object Symbol]"!==h.call(u))return!1;try{return function(u){return"symbol"==typeof u.valueOf()&&m.test(v.call(u))}(u)}catch{return!1}}}else X.exports=function(u){return!1}},12398:function(X){typeof self<"u"?self:typeof window<"u"?window:typeof globalThis<"u"&&globalThis,X.exports=function(){"use strict";var G,d="3.7.7",s=d,h="function"==typeof Buffer,a="function"==typeof TextDecoder?new TextDecoder:void 0,v="function"==typeof TextEncoder?new TextEncoder:void 0,g=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),c=(G={},g.forEach(function(K,q){return G[K]=q}),G),u=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,i=String.fromCharCode.bind(String),p="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(I){return new Uint8Array(Array.prototype.slice.call(I,0))},o=function(I){return I.replace(/=/g,"").replace(/[+\/]/g,function(G){return"+"==G?"-":"_"})},l=function(I){return I.replace(/[^A-Za-z0-9\+\/]/g,"")},w=function(I){for(var G,K,q,le,he="",Ee=I.length%3,pe=0;pe<I.length;){if((K=I.charCodeAt(pe++))>255||(q=I.charCodeAt(pe++))>255||(le=I.charCodeAt(pe++))>255)throw new TypeError("invalid character found");he+=g[(G=K<<16|q<<8|le)>>18&63]+g[G>>12&63]+g[G>>6&63]+g[63&G]}return Ee?he.slice(0,Ee-3)+"===".substring(Ee):he},E="function"==typeof btoa?function(I){return btoa(I)}:h?function(I){return Buffer.from(I,"binary").toString("base64")}:w,b=h?function(I){return Buffer.from(I).toString("base64")}:function(I){for(var K=[],q=0,le=I.length;q<le;q+=4096)K.push(i.apply(null,I.subarray(q,q+4096)));return E(K.join(""))},A=function(I,G){return void 0===G&&(G=!1),G?o(b(I)):b(I)},C=function(I){if(I.length<2)return(G=I.charCodeAt(0))<128?I:G<2048?i(192|G>>>6)+i(128|63&G):i(224|G>>>12&15)+i(128|G>>>6&63)+i(128|63&G);var G=65536+1024*(I.charCodeAt(0)-55296)+(I.charCodeAt(1)-56320);return i(240|G>>>18&7)+i(128|G>>>12&63)+i(128|G>>>6&63)+i(128|63&G)},_=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,N=function(I){return I.replace(_,C)},O=h?function(I){return Buffer.from(I,"utf8").toString("base64")}:v?function(I){return b(v.encode(I))}:function(I){return E(N(I))},j=function(I,G){return void 0===G&&(G=!1),G?o(O(I)):O(I)},F=function(I){return j(I,!0)},T=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,z=function(I){switch(I.length){case 4:var K=((7&I.charCodeAt(0))<<18|(63&I.charCodeAt(1))<<12|(63&I.charCodeAt(2))<<6|63&I.charCodeAt(3))-65536;return i(55296+(K>>>10))+i(56320+(1023&K));case 3:return i((15&I.charCodeAt(0))<<12|(63&I.charCodeAt(1))<<6|63&I.charCodeAt(2));default:return i((31&I.charCodeAt(0))<<6|63&I.charCodeAt(1))}},ee=function(I){return I.replace(T,z)},ie=function(I){if(I=I.replace(/\s+/g,""),!u.test(I))throw new TypeError("malformed base64.");I+="==".slice(2-(3&I.length));for(var G,q,le,K="",he=0;he<I.length;)G=c[I.charAt(he++)]<<18|c[I.charAt(he++)]<<12|(q=c[I.charAt(he++)])<<6|(le=c[I.charAt(he++)]),K+=64===q?i(G>>16&255):64===le?i(G>>16&255,G>>8&255):i(G>>16&255,G>>8&255,255&G);return K},x="function"==typeof atob?function(I){return atob(l(I))}:h?function(I){return Buffer.from(I,"base64").toString("binary")}:ie,H=h?function(I){return p(Buffer.from(I,"base64"))}:function(I){return p(x(I).split("").map(function(G){return G.charCodeAt(0)}))},R=function(I){return H(W(I))},J=h?function(I){return Buffer.from(I,"base64").toString("utf8")}:a?function(I){return a.decode(H(I))}:function(I){return ee(x(I))},W=function(I){return l(I.replace(/[-_]/g,function(G){return"-"==G?"+":"/"}))},ce=function(I){return J(W(I))},Q=function(I){return{value:I,enumerable:!1,writable:!0,configurable:!0}},de=function(){var I=function(G,K){return Object.defineProperty(String.prototype,G,Q(K))};I("fromBase64",function(){return ce(this)}),I("toBase64",function(G){return j(this,G)}),I("toBase64URI",function(){return j(this,!0)}),I("toBase64URL",function(){return j(this,!0)}),I("toUint8Array",function(){return R(this)})},we=function(){var I=function(G,K){return Object.defineProperty(Uint8Array.prototype,G,Q(K))};I("toBase64",function(G){return A(this,G)}),I("toBase64URI",function(){return A(this,!0)}),I("toBase64URL",function(){return A(this,!0)})},S={version:d,VERSION:s,atob:x,atobPolyfill:ie,btoa:E,btoaPolyfill:w,fromBase64:ce,toBase64:j,encode:j,encodeURI:F,encodeURL:F,utob:N,btou:ee,decode:ce,isValid:function(I){if("string"!=typeof I)return!1;var G=I.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(G)||!/[^\s0-9a-zA-Z\-_]/.test(G)},fromUint8Array:A,toUint8Array:R,extendString:de,extendUint8Array:we,extendBuiltins:function(){de(),we()},Base64:{}};return Object.keys(S).forEach(function(I){return S.Base64[I]=S[I]}),S}()},38350:(X,d,s)=>{"use strict";function h(u){this.message=u}s.r(d),s.d(d,{InvalidTokenError:()=>m,default:()=>c}),(h.prototype=new Error).name="InvalidCharacterError";var a=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(u){var i=String(u).replace(/=+$/,"");if(i.length%4==1)throw new h("'atob' failed: The string to be decoded is not correctly encoded.");for(var p,o,l=0,w=0,E="";o=i.charAt(w++);~o&&(p=l%4?64*p+o:o,l++%4)?E+=String.fromCharCode(255&p>>(-2*l&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return E};function m(u){this.message=u}(m.prototype=new Error).name="InvalidTokenError";const c=function g(u,i){if("string"!=typeof u)throw new m("Invalid token specified");var p=!0===(i=i||{}).header?0:1;try{return JSON.parse(function v(u){var i=u.replace(/-/g,"+").replace(/_/g,"/");switch(i.length%4){case 0:break;case 2:i+="==";break;case 3:i+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(a(i).replace(/(.)/g,function(o,l){var w=l.charCodeAt(0).toString(16).toUpperCase();return w.length<2&&(w="0"+w),"%"+w}))}catch{return a(i)}}(u.split(".")[p]))}catch(o){throw new m("Invalid token specified: "+o.message)}}},89150:(X,d,s)=>{var h="function"==typeof Map&&Map.prototype,a=Object.getOwnPropertyDescriptor&&h?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,v=h&&a&&"function"==typeof a.get?a.get:null,m=h&&Map.prototype.forEach,g="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&g?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=g&&c&&"function"==typeof c.get?c.get:null,i=g&&Set.prototype.forEach,o="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,w="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,b="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,A=Boolean.prototype.valueOf,C=Object.prototype.toString,_=Function.prototype.toString,N=String.prototype.match,O=String.prototype.slice,j=String.prototype.replace,F=String.prototype.toUpperCase,T=String.prototype.toLowerCase,z=RegExp.prototype.test,ee=Array.prototype.concat,ie=Array.prototype.join,x=Array.prototype.slice,H=Math.floor,R="function"==typeof BigInt?BigInt.prototype.valueOf:null,J=Object.getOwnPropertySymbols,W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,ce="function"==typeof Symbol&&"object"==typeof Symbol.iterator,M="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,Q=Object.prototype.propertyIsEnumerable,de=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Oe){return Oe.__proto__}:null);function we(Oe,Be){if(Oe===1/0||Oe===-1/0||Oe!=Oe||Oe&&Oe>-1e3&&Oe<1e3||z.call(/e/,Be))return Be;var ct=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof Oe){var lt=Oe<0?-H(-Oe):H(Oe);if(lt!==Oe){var tt=String(lt),ft=O.call(Be,tt.length+1);return j.call(tt,ct,"$&_")+"."+j.call(j.call(ft,/([0-9]{3})/g,"$&_"),/_$/,"")}}return j.call(Be,ct,"$&_")}var je=s(42634),S=je.custom,I=Pe(S)?S:null;function G(Oe,Be,ct){var lt="double"===(ct.quoteStyle||Be)?'"':"'";return lt+Oe+lt}function K(Oe){return j.call(String(Oe),/"/g,"&quot;")}function q(Oe){return!("[object Array]"!==ge(Oe)||M&&"object"==typeof Oe&&M in Oe)}function he(Oe){return!("[object RegExp]"!==ge(Oe)||M&&"object"==typeof Oe&&M in Oe)}function Pe(Oe){if(ce)return Oe&&"object"==typeof Oe&&Oe instanceof Symbol;if("symbol"==typeof Oe)return!0;if(!Oe||"object"!=typeof Oe||!W)return!1;try{return W.call(Oe),!0}catch{}return!1}X.exports=function Oe(Be,ct,lt,tt){var ft=ct||{};if(ve(ft,"quoteStyle")&&"single"!==ft.quoteStyle&&"double"!==ft.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ve(ft,"maxStringLength")&&("number"==typeof ft.maxStringLength?ft.maxStringLength<0&&ft.maxStringLength!==1/0:null!==ft.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Bt=!ve(ft,"customInspect")||ft.customInspect;if("boolean"!=typeof Bt&&"symbol"!==Bt)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ve(ft,"indent")&&null!==ft.indent&&"\t"!==ft.indent&&!(parseInt(ft.indent,10)===ft.indent&&ft.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ve(ft,"numericSeparator")&&"boolean"!=typeof ft.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var It=ft.numericSeparator;if(typeof Be>"u")return"undefined";if(null===Be)return"null";if("boolean"==typeof Be)return Be?"true":"false";if("string"==typeof Be)return We(Be,ft);if("number"==typeof Be){if(0===Be)return 1/0/Be>0?"0":"-0";var St=String(Be);return It?we(Be,St):St}if("bigint"==typeof Be){var Ft=String(Be)+"n";return It?we(Be,Ft):Ft}var yr=typeof ft.depth>"u"?5:ft.depth;if(typeof lt>"u"&&(lt=0),lt>=yr&&yr>0&&"object"==typeof Be)return q(Be)?"[Array]":"[Object]";var V=function Se(Oe,Be){var ct;if("\t"===Oe.indent)ct="\t";else{if(!("number"==typeof Oe.indent&&Oe.indent>0))return null;ct=ie.call(Array(Oe.indent+1)," ")}return{base:ct,prev:ie.call(Array(Be+1),ct)}}(ft,lt);if(typeof tt>"u")tt=[];else if($e(tt,Be)>=0)return"[Circular]";function ue(dr,Ir,Mt){if(Ir&&(tt=x.call(tt)).push(Ir),Mt){var Gr={depth:ft.depth};return ve(ft,"quoteStyle")&&(Gr.quoteStyle=ft.quoteStyle),Oe(dr,Gr,lt+1,tt)}return Oe(dr,ft,lt+1,tt)}if("function"==typeof Be&&!he(Be)){var oe=function Ae(Oe){if(Oe.name)return Oe.name;var Be=N.call(_.call(Oe),/^function\s*([\w$]+)/);return Be?Be[1]:null}(Be),fe=Ie(Be,ue);return"[Function"+(oe?": "+oe:" (anonymous)")+"]"+(fe.length>0?" { "+ie.call(fe,", ")+" }":"")}if(Pe(Be)){var _e=ce?j.call(String(Be),/^(Symbol\(.*\))_[^)]*$/,"$1"):W.call(Be);return"object"!=typeof Be||ce?_e:te(_e)}if(function Je(Oe){return!(!Oe||"object"!=typeof Oe)&&(typeof HTMLElement<"u"&&Oe instanceof HTMLElement||"string"==typeof Oe.nodeName&&"function"==typeof Oe.getAttribute)}(Be)){for(var Ve="<"+T.call(String(Be.nodeName)),He=Be.attributes||[],Ge=0;Ge<He.length;Ge++)Ve+=" "+He[Ge].name+"="+G(K(He[Ge].value),"double",ft);return Ve+=">",Be.childNodes&&Be.childNodes.length&&(Ve+="..."),Ve+"</"+T.call(String(Be.nodeName))+">"}if(q(Be)){if(0===Be.length)return"[]";var ut=Ie(Be,ue);return V&&!function Y(Oe){for(var Be=0;Be<Oe.length;Be++)if($e(Oe[Be],"\n")>=0)return!1;return!0}(ut)?"["+Ce(ut,V)+"]":"[ "+ie.call(ut,", ")+" ]"}if(function Ee(Oe){return!("[object Error]"!==ge(Oe)||M&&"object"==typeof Oe&&M in Oe)}(Be)){var wt=Ie(Be,ue);return"cause"in Error.prototype||!("cause"in Be)||Q.call(Be,"cause")?0===wt.length?"["+String(Be)+"]":"{ ["+String(Be)+"] "+ie.call(wt,", ")+" }":"{ ["+String(Be)+"] "+ie.call(ee.call("[cause]: "+ue(Be.cause),wt),", ")+" }"}if("object"==typeof Be&&Bt){if(I&&"function"==typeof Be[I]&&je)return je(Be,{depth:yr-lt});if("symbol"!==Bt&&"function"==typeof Be.inspect)return Be.inspect()}if(function xe(Oe){if(!v||!Oe||"object"!=typeof Oe)return!1;try{v.call(Oe);try{u.call(Oe)}catch{return!0}return Oe instanceof Map}catch{}return!1}(Be)){var _t=[];return m&&m.call(Be,function(dr,Ir){_t.push(ue(Ir,Be,!0)+" => "+ue(dr,Be))}),P("Map",v.call(Be),_t,V)}if(function Ue(Oe){if(!u||!Oe||"object"!=typeof Oe)return!1;try{u.call(Oe);try{v.call(Oe)}catch{return!0}return Oe instanceof Set}catch{}return!1}(Be)){var lr=[];return i&&i.call(Be,function(dr){lr.push(ue(dr,Be))}),P("Set",u.call(Be),lr,V)}if(function Ne(Oe){if(!o||!Oe||"object"!=typeof Oe)return!1;try{o.call(Oe,o);try{w.call(Oe,w)}catch{return!0}return Oe instanceof WeakMap}catch{}return!1}(Be))return U("WeakMap");if(function qe(Oe){if(!w||!Oe||"object"!=typeof Oe)return!1;try{w.call(Oe,w);try{o.call(Oe,o)}catch{return!0}return Oe instanceof WeakSet}catch{}return!1}(Be))return U("WeakSet");if(function Le(Oe){if(!b||!Oe||"object"!=typeof Oe)return!1;try{return b.call(Oe),!0}catch{}return!1}(Be))return U("WeakRef");if(function De(Oe){return!("[object Number]"!==ge(Oe)||M&&"object"==typeof Oe&&M in Oe)}(Be))return te(ue(Number(Be)));if(function Fe(Oe){if(!Oe||"object"!=typeof Oe||!R)return!1;try{return R.call(Oe),!0}catch{}return!1}(Be))return te(ue(R.call(Be)));if(function Xe(Oe){return!("[object Boolean]"!==ge(Oe)||M&&"object"==typeof Oe&&M in Oe)}(Be))return te(A.call(Be));if(function pe(Oe){return!("[object String]"!==ge(Oe)||M&&"object"==typeof Oe&&M in Oe)}(Be))return te(ue(String(Be)));if(typeof window<"u"&&Be===window)return"{ [object Window] }";if(Be===globalThis)return"{ [object globalThis] }";if(!function le(Oe){return!("[object Date]"!==ge(Oe)||M&&"object"==typeof Oe&&M in Oe)}(Be)&&!he(Be)){var Yt=Ie(Be,ue),Kr=de?de(Be)===Object.prototype:Be instanceof Object||Be.constructor===Object,er=Be instanceof Object?"":"null prototype",Nt=!Kr&&M&&Object(Be)===Be&&M in Be?O.call(ge(Be),8,-1):er?"Object":"",Vr=(Kr||"function"!=typeof Be.constructor?"":Be.constructor.name?Be.constructor.name+" ":"")+(Nt||er?"["+ie.call(ee.call([],Nt||[],er||[]),": ")+"] ":"");return 0===Yt.length?Vr+"{}":V?Vr+"{"+Ce(Yt,V)+"}":Vr+"{ "+ie.call(Yt,", ")+" }"}return String(Be)};var me=Object.prototype.hasOwnProperty||function(Oe){return Oe in this};function ve(Oe,Be){return me.call(Oe,Be)}function ge(Oe){return C.call(Oe)}function $e(Oe,Be){if(Oe.indexOf)return Oe.indexOf(Be);for(var ct=0,lt=Oe.length;ct<lt;ct++)if(Oe[ct]===Be)return ct;return-1}function We(Oe,Be){if(Oe.length>Be.maxStringLength){var ct=Oe.length-Be.maxStringLength,lt="... "+ct+" more character"+(ct>1?"s":"");return We(O.call(Oe,0,Be.maxStringLength),Be)+lt}return G(j.call(j.call(Oe,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,at),"single",Be)}function at(Oe){var Be=Oe.charCodeAt(0),ct={8:"b",9:"t",10:"n",12:"f",13:"r"}[Be];return ct?"\\"+ct:"\\x"+(Be<16?"0":"")+F.call(Be.toString(16))}function te(Oe){return"Object("+Oe+")"}function U(Oe){return Oe+" { ? }"}function P(Oe,Be,ct,lt){return Oe+" ("+Be+") {"+(lt?Ce(ct,lt):ie.call(ct,", "))+"}"}function Ce(Oe,Be){if(0===Oe.length)return"";var ct="\n"+Be.prev+Be.base;return ct+ie.call(Oe,","+ct)+"\n"+Be.prev}function Ie(Oe,Be){var ct=q(Oe),lt=[];if(ct){lt.length=Oe.length;for(var tt=0;tt<Oe.length;tt++)lt[tt]=ve(Oe,tt)?Be(Oe[tt],Oe):""}var Bt,ft="function"==typeof J?J(Oe):[];if(ce){Bt={};for(var It=0;It<ft.length;It++)Bt["$"+ft[It]]=ft[It]}for(var St in Oe)ve(Oe,St)&&(ct&&String(Number(St))===St&&St<Oe.length||ce&&Bt["$"+St]instanceof Symbol||(z.call(/[^\w$]/,St)?lt.push(Be(St,Oe)+": "+Be(Oe[St],Oe)):lt.push(St+": "+Be(Oe[St],Oe))));if("function"==typeof J)for(var Ft=0;Ft<ft.length;Ft++)Q.call(Oe,ft[Ft])&&lt.push("["+Be(ft[Ft])+"]: "+Be(Oe[ft[Ft]],Oe));return lt}},50366:(X,d,s)=>{"use strict";var h;if(!Object.keys){var a=Object.prototype.hasOwnProperty,v=Object.prototype.toString,m=s(21050),g=Object.prototype.propertyIsEnumerable,c=!g.call({toString:null},"toString"),u=g.call(function(){},"prototype"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(E){var b=E.constructor;return b&&b.prototype===E},o={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},l=function(){if(typeof window>"u")return!1;for(var E in window)try{if(!o["$"+E]&&a.call(window,E)&&null!==window[E]&&"object"==typeof window[E])try{p(window[E])}catch{return!0}}catch{return!0}return!1}();h=function(b){var A=null!==b&&"object"==typeof b,C="[object Function]"===v.call(b),_=m(b),N=A&&"[object String]"===v.call(b),O=[];if(!A&&!C&&!_)throw new TypeError("Object.keys called on a non-object");var j=u&&C;if(N&&b.length>0&&!a.call(b,0))for(var F=0;F<b.length;++F)O.push(String(F));if(_&&b.length>0)for(var T=0;T<b.length;++T)O.push(String(T));else for(var z in b)(!j||"prototype"!==z)&&a.call(b,z)&&O.push(String(z));if(c)for(var ee=function(E){if(typeof window>"u"||!l)return p(E);try{return p(E)}catch{return!1}}(b),ie=0;ie<i.length;++ie)(!ee||"constructor"!==i[ie])&&a.call(b,i[ie])&&O.push(i[ie]);return O}}X.exports=h},44934:(X,d,s)=>{"use strict";var h=Array.prototype.slice,a=s(21050),v=Object.keys,m=v?function(u){return v(u)}:s(50366),g=Object.keys;m.shim=function(){if(Object.keys){var u=function(){var i=Object.keys(arguments);return i&&i.length===arguments.length}(1,2);u||(Object.keys=function(p){return a(p)?g(h.call(p)):g(p)})}else Object.keys=m;return Object.keys||m},X.exports=m},21050:X=>{"use strict";var d=Object.prototype.toString;X.exports=function(h){var a=d.call(h),v="[object Arguments]"===a;return v||(v="[object Array]"!==a&&null!==h&&"object"==typeof h&&"number"==typeof h.length&&h.length>=0&&"[object Function]"===d.call(h.callee)),v}},68314:(X,d,s)=>{const a=s(72836),v=s(89460),m=s(7030),g=s(56511);function c(u,i,p,o,l){const w=[].slice.call(arguments,1),E=w.length,b="function"==typeof w[E-1];if(!b&&!a())throw new Error("Callback required as last argument");if(!b){if(E<1)throw new Error("Too few arguments provided");return 1===E?(p=i,i=o=void 0):2===E&&!i.getContext&&(o=p,p=i,i=void 0),new Promise(function(A,C){try{const _=v.create(p,o);A(u(_,i,o))}catch(_){C(_)}})}if(E<2)throw new Error("Too few arguments provided");2===E?(l=p,p=i,i=o=void 0):3===E&&(i.getContext&&typeof l>"u"?(l=o,o=void 0):(l=o,o=p,p=i,i=void 0));try{const A=v.create(p,o);l(null,u(A,i,o))}catch(A){l(A)}}d.mo=c.bind(null,m.render),c.bind(null,m.renderToDataURL),c.bind(null,function(u,i,p){return g.render(u,p)})},72836:X=>{X.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},96214:(X,d,s)=>{const h=s(19089).getSymbolSize;d.getRowColCoords=function(v){if(1===v)return[];const m=Math.floor(v/7)+2,g=h(v),c=145===g?26:2*Math.ceil((g-13)/(2*m-2)),u=[g-7];for(let i=1;i<m-1;i++)u[i]=u[i-1]-c;return u.push(6),u.reverse()},d.getPositions=function(v){const m=[],g=d.getRowColCoords(v),c=g.length;for(let u=0;u<c;u++)for(let i=0;i<c;i++)0===u&&0===i||0===u&&i===c-1||u===c-1&&0===i||m.push([g[u],g[i]]);return m}},1018:(X,d,s)=>{const h=s(91677),a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function v(m){this.mode=h.ALPHANUMERIC,this.data=m}v.getBitsLength=function(g){return 11*Math.floor(g/2)+g%2*6},v.prototype.getLength=function(){return this.data.length},v.prototype.getBitsLength=function(){return v.getBitsLength(this.data.length)},v.prototype.write=function(g){let c;for(c=0;c+2<=this.data.length;c+=2){let u=45*a.indexOf(this.data[c]);u+=a.indexOf(this.data[c+1]),g.put(u,11)}this.data.length%2&&g.put(a.indexOf(this.data[c]),6)},X.exports=v},84662:X=>{function d(){this.buffer=[],this.length=0}d.prototype={get:function(s){const h=Math.floor(s/8);return 1==(this.buffer[h]>>>7-s%8&1)},put:function(s,h){for(let a=0;a<h;a++)this.putBit(1==(s>>>h-a-1&1))},getLengthInBits:function(){return this.length},putBit:function(s){const h=Math.floor(this.length/8);this.buffer.length<=h&&this.buffer.push(0),s&&(this.buffer[h]|=128>>>this.length%8),this.length++}},X.exports=d},35941:X=>{function d(s){if(!s||s<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=s,this.data=new Uint8Array(s*s),this.reservedBit=new Uint8Array(s*s)}d.prototype.set=function(s,h,a,v){const m=s*this.size+h;this.data[m]=a,v&&(this.reservedBit[m]=!0)},d.prototype.get=function(s,h){return this.data[s*this.size+h]},d.prototype.xor=function(s,h,a){this.data[s*this.size+h]^=a},d.prototype.isReserved=function(s,h){return this.reservedBit[s*this.size+h]},X.exports=d},54969:(X,d,s)=>{const h=s(33174),a=s(91677);function v(m){this.mode=a.BYTE,"string"==typeof m&&(m=h(m)),this.data=new Uint8Array(m)}v.getBitsLength=function(g){return 8*g},v.prototype.getLength=function(){return this.data.length},v.prototype.getBitsLength=function(){return v.getBitsLength(this.data.length)},v.prototype.write=function(m){for(let g=0,c=this.data.length;g<c;g++)m.put(this.data[g],8)},X.exports=v},23677:(X,d,s)=>{const h=s(47424),a=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],v=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];d.getBlocksCount=function(g,c){switch(c){case h.L:return a[4*(g-1)+0];case h.M:return a[4*(g-1)+1];case h.Q:return a[4*(g-1)+2];case h.H:return a[4*(g-1)+3];default:return}},d.getTotalCodewordsCount=function(g,c){switch(c){case h.L:return v[4*(g-1)+0];case h.M:return v[4*(g-1)+1];case h.Q:return v[4*(g-1)+2];case h.H:return v[4*(g-1)+3];default:return}}},47424:(X,d)=>{d.L={bit:1},d.M={bit:0},d.Q={bit:3},d.H={bit:2},d.isValid=function(a){return a&&typeof a.bit<"u"&&a.bit>=0&&a.bit<4},d.from=function(a,v){if(d.isValid(a))return a;try{return function s(h){if("string"!=typeof h)throw new Error("Param is not a string");switch(h.toLowerCase()){case"l":case"low":return d.L;case"m":case"medium":return d.M;case"q":case"quartile":return d.Q;case"h":case"high":return d.H;default:throw new Error("Unknown EC Level: "+h)}}(a)}catch{return v}}},76269:(X,d,s)=>{const h=s(19089).getSymbolSize;d.getPositions=function(m){const g=h(m);return[[0,0],[g-7,0],[0,g-7]]}},26254:(X,d,s)=>{const h=s(19089),m=h.getBCHDigit(1335);d.getEncodedBits=function(c,u){const i=c.bit<<3|u;let p=i<<10;for(;h.getBCHDigit(p)-m>=0;)p^=1335<<h.getBCHDigit(p)-m;return 21522^(i<<10|p)}},66686:(X,d)=>{const s=new Uint8Array(512),h=new Uint8Array(256);(function(){let v=1;for(let m=0;m<255;m++)s[m]=v,h[v]=m,v<<=1,256&v&&(v^=285);for(let m=255;m<512;m++)s[m]=s[m-255]})(),d.log=function(v){if(v<1)throw new Error("log("+v+")");return h[v]},d.exp=function(v){return s[v]},d.mul=function(v,m){return 0===v||0===m?0:s[h[v]+h[m]]}},83264:(X,d,s)=>{const h=s(91677),a=s(19089);function v(m){this.mode=h.KANJI,this.data=m}v.getBitsLength=function(g){return 13*g},v.prototype.getLength=function(){return this.data.length},v.prototype.getBitsLength=function(){return v.getBitsLength(this.data.length)},v.prototype.write=function(m){let g;for(g=0;g<this.data.length;g++){let c=a.toSJIS(this.data[g]);if(c>=33088&&c<=40956)c-=33088;else{if(!(c>=57408&&c<=60351))throw new Error("Invalid SJIS character: "+this.data[g]+"\nMake sure your charset is UTF-8");c-=49472}c=192*(c>>>8&255)+(255&c),m.put(c,13)}},X.exports=v},3361:(X,d)=>{d.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function h(a,v,m){switch(a){case d.Patterns.PATTERN000:return(v+m)%2==0;case d.Patterns.PATTERN001:return v%2==0;case d.Patterns.PATTERN010:return m%3==0;case d.Patterns.PATTERN011:return(v+m)%3==0;case d.Patterns.PATTERN100:return(Math.floor(v/2)+Math.floor(m/3))%2==0;case d.Patterns.PATTERN101:return v*m%2+v*m%3==0;case d.Patterns.PATTERN110:return(v*m%2+v*m%3)%2==0;case d.Patterns.PATTERN111:return(v*m%3+(v+m)%2)%2==0;default:throw new Error("bad maskPattern:"+a)}}d.isValid=function(v){return null!=v&&""!==v&&!isNaN(v)&&v>=0&&v<=7},d.from=function(v){return d.isValid(v)?parseInt(v,10):void 0},d.getPenaltyN1=function(v){const m=v.size;let g=0,c=0,u=0,i=null,p=null;for(let o=0;o<m;o++){c=u=0,i=p=null;for(let l=0;l<m;l++){let w=v.get(o,l);w===i?c++:(c>=5&&(g+=c-5+3),i=w,c=1),w=v.get(l,o),w===p?u++:(u>=5&&(g+=u-5+3),p=w,u=1)}c>=5&&(g+=c-5+3),u>=5&&(g+=u-5+3)}return g},d.getPenaltyN2=function(v){const m=v.size;let g=0;for(let c=0;c<m-1;c++)for(let u=0;u<m-1;u++){const i=v.get(c,u)+v.get(c,u+1)+v.get(c+1,u)+v.get(c+1,u+1);(4===i||0===i)&&g++}return 3*g},d.getPenaltyN3=function(v){const m=v.size;let g=0,c=0,u=0;for(let i=0;i<m;i++){c=u=0;for(let p=0;p<m;p++)c=c<<1&2047|v.get(i,p),p>=10&&(1488===c||93===c)&&g++,u=u<<1&2047|v.get(p,i),p>=10&&(1488===u||93===u)&&g++}return 40*g},d.getPenaltyN4=function(v){let m=0;const g=v.data.length;for(let u=0;u<g;u++)m+=v.data[u];return 10*Math.abs(Math.ceil(100*m/g/5)-10)},d.applyMask=function(v,m){const g=m.size;for(let c=0;c<g;c++)for(let u=0;u<g;u++)m.isReserved(u,c)||m.xor(u,c,h(v,u,c))},d.getBestMask=function(v,m){const g=Object.keys(d.Patterns).length;let c=0,u=1/0;for(let i=0;i<g;i++){m(i),d.applyMask(i,v);const p=d.getPenaltyN1(v)+d.getPenaltyN2(v)+d.getPenaltyN3(v)+d.getPenaltyN4(v);d.applyMask(i,v),p<u&&(u=p,c=i)}return c}},91677:(X,d,s)=>{const h=s(80377),a=s(99359);d.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},d.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},d.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},d.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},d.MIXED={bit:-1},d.getCharCountIndicator=function(g,c){if(!g.ccBits)throw new Error("Invalid mode: "+g);if(!h.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?g.ccBits[0]:c<27?g.ccBits[1]:g.ccBits[2]},d.getBestModeForData=function(g){return a.testNumeric(g)?d.NUMERIC:a.testAlphanumeric(g)?d.ALPHANUMERIC:a.testKanji(g)?d.KANJI:d.BYTE},d.toString=function(g){if(g&&g.id)return g.id;throw new Error("Invalid mode")},d.isValid=function(g){return g&&g.bit&&g.ccBits},d.from=function(g,c){if(d.isValid(g))return g;try{return function v(m){if("string"!=typeof m)throw new Error("Param is not a string");switch(m.toLowerCase()){case"numeric":return d.NUMERIC;case"alphanumeric":return d.ALPHANUMERIC;case"kanji":return d.KANJI;case"byte":return d.BYTE;default:throw new Error("Unknown mode: "+m)}}(g)}catch{return c}}},96628:(X,d,s)=>{const h=s(91677);function a(v){this.mode=h.NUMERIC,this.data=v.toString()}a.getBitsLength=function(m){return 10*Math.floor(m/3)+(m%3?m%3*3+1:0)},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(m){let g,c,u;for(g=0;g+3<=this.data.length;g+=3)c=this.data.substr(g,3),u=parseInt(c,10),m.put(u,10);const i=this.data.length-g;i>0&&(c=this.data.substr(g),u=parseInt(c,10),m.put(u,3*i+1))},X.exports=a},81744:(X,d,s)=>{const h=s(66686);d.mul=function(v,m){const g=new Uint8Array(v.length+m.length-1);for(let c=0;c<v.length;c++)for(let u=0;u<m.length;u++)g[c+u]^=h.mul(v[c],m[u]);return g},d.mod=function(v,m){let g=new Uint8Array(v);for(;g.length-m.length>=0;){const c=g[0];for(let i=0;i<m.length;i++)g[i]^=h.mul(m[i],c);let u=0;for(;u<g.length&&0===g[u];)u++;g=g.slice(u)}return g},d.generateECPolynomial=function(v){let m=new Uint8Array([1]);for(let g=0;g<v;g++)m=d.mul(m,new Uint8Array([1,h.exp(g)]));return m}},89460:(X,d,s)=>{const h=s(19089),a=s(47424),v=s(84662),m=s(35941),g=s(96214),c=s(76269),u=s(3361),i=s(23677),p=s(86289),o=s(91252),l=s(26254),w=s(91677),E=s(22868);function N(z,ee,ie){const x=z.size,H=l.getEncodedBits(ee,ie);let R,J;for(R=0;R<15;R++)J=1==(H>>R&1),z.set(R<6?R:R<8?R+1:x-15+R,8,J,!0),z.set(8,R<8?x-R-1:R<9?15-R-1+1:15-R-1,J,!0);z.set(x-8,8,1,!0)}function T(z,ee,ie,x){let H;if(Array.isArray(z))H=E.fromArray(z);else{if("string"!=typeof z)throw new Error("Invalid data");{let M=ee;if(!M){const Q=E.rawSplit(z);M=o.getBestVersionForData(Q,ie)}H=E.fromString(z,M||40)}}const R=o.getBestVersionForData(H,ie);if(!R)throw new Error("The amount of data is too big to be stored in a QR Code");if(ee){if(ee<R)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+R+".\n")}else ee=R;const J=function j(z,ee,ie){const x=new v;ie.forEach(function(ce){x.put(ce.mode.bit,4),x.put(ce.getLength(),w.getCharCountIndicator(ce.mode,z)),ce.write(x)});const J=8*(h.getSymbolTotalCodewords(z)-i.getTotalCodewordsCount(z,ee));for(x.getLengthInBits()+4<=J&&x.put(0,4);x.getLengthInBits()%8!=0;)x.putBit(0);const W=(J-x.getLengthInBits())/8;for(let ce=0;ce<W;ce++)x.put(ce%2?17:236,8);return function F(z,ee,ie){const x=h.getSymbolTotalCodewords(ee),R=x-i.getTotalCodewordsCount(ee,ie),J=i.getBlocksCount(ee,ie),ce=J-x%J,M=Math.floor(x/J),Q=Math.floor(R/J),de=Q+1,we=M-Q,je=new p(we);let S=0;const I=new Array(J),G=new Array(J);let K=0;const q=new Uint8Array(z.buffer);for(let De=0;De<J;De++){const Xe=De<ce?Q:de;I[De]=q.slice(S,S+Xe),G[De]=je.encode(I[De]),S+=Xe,K=Math.max(K,Xe)}const le=new Uint8Array(x);let Ee,pe,he=0;for(Ee=0;Ee<K;Ee++)for(pe=0;pe<J;pe++)Ee<I[pe].length&&(le[he++]=I[pe][Ee]);for(Ee=0;Ee<we;Ee++)for(pe=0;pe<J;pe++)le[he++]=G[pe][Ee];return le}(x,z,ee)}(ee,ie,H),W=h.getSymbolSize(ee),ce=new m(W);return function b(z,ee){const ie=z.size,x=c.getPositions(ee);for(let H=0;H<x.length;H++){const R=x[H][0],J=x[H][1];for(let W=-1;W<=7;W++)if(!(R+W<=-1||ie<=R+W))for(let ce=-1;ce<=7;ce++)J+ce<=-1||ie<=J+ce||z.set(R+W,J+ce,W>=0&&W<=6&&(0===ce||6===ce)||ce>=0&&ce<=6&&(0===W||6===W)||W>=2&&W<=4&&ce>=2&&ce<=4,!0)}}(ce,ee),function A(z){const ee=z.size;for(let ie=8;ie<ee-8;ie++){const x=ie%2==0;z.set(ie,6,x,!0),z.set(6,ie,x,!0)}}(ce),function C(z,ee){const ie=g.getPositions(ee);for(let x=0;x<ie.length;x++){const H=ie[x][0],R=ie[x][1];for(let J=-2;J<=2;J++)for(let W=-2;W<=2;W++)z.set(H+J,R+W,-2===J||2===J||-2===W||2===W||0===J&&0===W,!0)}}(ce,ee),N(ce,ie,0),ee>=7&&function _(z,ee){const ie=z.size,x=o.getEncodedBits(ee);let H,R,J;for(let W=0;W<18;W++)H=Math.floor(W/3),R=W%3+ie-8-3,J=1==(x>>W&1),z.set(H,R,J,!0),z.set(R,H,J,!0)}(ce,ee),function O(z,ee){const ie=z.size;let x=-1,H=ie-1,R=7,J=0;for(let W=ie-1;W>0;W-=2)for(6===W&&W--;;){for(let ce=0;ce<2;ce++)if(!z.isReserved(H,W-ce)){let M=!1;J<ee.length&&(M=1==(ee[J]>>>R&1)),z.set(H,W-ce,M),R--,-1===R&&(J++,R=7)}if(H+=x,H<0||ie<=H){H-=x,x=-x;break}}}(ce,J),isNaN(x)&&(x=u.getBestMask(ce,N.bind(null,ce,ie))),u.applyMask(x,ce),N(ce,ie,x),{modules:ce,version:ee,errorCorrectionLevel:ie,maskPattern:x,segments:H}}d.create=function(ee,ie){if(typeof ee>"u"||""===ee)throw new Error("No input text");let H,R,x=a.M;return typeof ie<"u"&&(x=a.from(ie.errorCorrectionLevel,a.M),H=o.from(ie.version),R=u.from(ie.maskPattern),ie.toSJISFunc&&h.setToSJISFunction(ie.toSJISFunc)),T(ee,H,x,R)}},86289:(X,d,s)=>{const h=s(81744);function a(v){this.genPoly=void 0,this.degree=v,this.degree&&this.initialize(this.degree)}a.prototype.initialize=function(m){this.degree=m,this.genPoly=h.generateECPolynomial(this.degree)},a.prototype.encode=function(m){if(!this.genPoly)throw new Error("Encoder not initialized");const g=new Uint8Array(m.length+this.degree);g.set(m);const c=h.mod(g,this.genPoly),u=this.degree-c.length;if(u>0){const i=new Uint8Array(this.degree);return i.set(c,u),i}return c},X.exports=a},99359:(X,d)=>{const s="[0-9]+";let a="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";a=a.replace(/u/g,"\\u");const v="(?:(?![A-Z0-9 $%*+\\-./:]|"+a+")(?:.|[\r\n]))+";d.KANJI=new RegExp(a,"g"),d.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),d.BYTE=new RegExp(v,"g"),d.NUMERIC=new RegExp(s,"g"),d.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const m=new RegExp("^"+a+"$"),g=new RegExp("^"+s+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");d.testKanji=function(i){return m.test(i)},d.testNumeric=function(i){return g.test(i)},d.testAlphanumeric=function(i){return c.test(i)}},22868:(X,d,s)=>{const h=s(91677),a=s(96628),v=s(1018),m=s(54969),g=s(83264),c=s(99359),u=s(19089),i=s(80243);function p(_){return unescape(encodeURIComponent(_)).length}function o(_,N,O){const j=[];let F;for(;null!==(F=_.exec(O));)j.push({data:F[0],index:F.index,mode:N,length:F[0].length});return j}function l(_){const N=o(c.NUMERIC,h.NUMERIC,_),O=o(c.ALPHANUMERIC,h.ALPHANUMERIC,_);let j,F;return u.isKanjiModeEnabled()?(j=o(c.BYTE,h.BYTE,_),F=o(c.KANJI,h.KANJI,_)):(j=o(c.BYTE_KANJI,h.BYTE,_),F=[]),N.concat(O,j,F).sort(function(z,ee){return z.index-ee.index}).map(function(z){return{data:z.data,mode:z.mode,length:z.length}})}function w(_,N){switch(N){case h.NUMERIC:return a.getBitsLength(_);case h.ALPHANUMERIC:return v.getBitsLength(_);case h.KANJI:return g.getBitsLength(_);case h.BYTE:return m.getBitsLength(_)}}function C(_,N){let O;const j=h.getBestModeForData(_);if(O=h.from(N,j),O!==h.BYTE&&O.bit<j.bit)throw new Error('"'+_+'" cannot be encoded with mode '+h.toString(O)+".\n Suggested mode is: "+h.toString(j));switch(O===h.KANJI&&!u.isKanjiModeEnabled()&&(O=h.BYTE),O){case h.NUMERIC:return new a(_);case h.ALPHANUMERIC:return new v(_);case h.KANJI:return new g(_);case h.BYTE:return new m(_)}}d.fromArray=function(N){return N.reduce(function(O,j){return"string"==typeof j?O.push(C(j,null)):j.data&&O.push(C(j.data,j.mode)),O},[])},d.fromString=function(N,O){const F=function b(_){const N=[];for(let O=0;O<_.length;O++){const j=_[O];switch(j.mode){case h.NUMERIC:N.push([j,{data:j.data,mode:h.ALPHANUMERIC,length:j.length},{data:j.data,mode:h.BYTE,length:j.length}]);break;case h.ALPHANUMERIC:N.push([j,{data:j.data,mode:h.BYTE,length:j.length}]);break;case h.KANJI:N.push([j,{data:j.data,mode:h.BYTE,length:p(j.data)}]);break;case h.BYTE:N.push([{data:j.data,mode:h.BYTE,length:p(j.data)}])}}return N}(l(N,u.isKanjiModeEnabled())),T=function A(_,N){const O={},j={start:{}};let F=["start"];for(let T=0;T<_.length;T++){const z=_[T],ee=[];for(let ie=0;ie<z.length;ie++){const x=z[ie],H=""+T+ie;ee.push(H),O[H]={node:x,lastCount:0},j[H]={};for(let R=0;R<F.length;R++){const J=F[R];O[J]&&O[J].node.mode===x.mode?(j[J][H]=w(O[J].lastCount+x.length,x.mode)-w(O[J].lastCount,x.mode),O[J].lastCount+=x.length):(O[J]&&(O[J].lastCount=x.length),j[J][H]=w(x.length,x.mode)+4+h.getCharCountIndicator(x.mode,N))}}F=ee}for(let T=0;T<F.length;T++)j[F[T]].end=0;return{map:j,table:O}}(F,O),z=i.find_path(T.map,"start","end"),ee=[];for(let ie=1;ie<z.length-1;ie++)ee.push(T.table[z[ie]].node);return d.fromArray(function E(_){return _.reduce(function(N,O){const j=N.length-1>=0?N[N.length-1]:null;return j&&j.mode===O.mode?(N[N.length-1].data+=O.data,N):(N.push(O),N)},[])}(ee))},d.rawSplit=function(N){return d.fromArray(l(N,u.isKanjiModeEnabled()))}},19089:(X,d)=>{let s;const h=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];d.getSymbolSize=function(v){if(!v)throw new Error('"version" cannot be null or undefined');if(v<1||v>40)throw new Error('"version" should be in range from 1 to 40');return 4*v+17},d.getSymbolTotalCodewords=function(v){return h[v]},d.getBCHDigit=function(a){let v=0;for(;0!==a;)v++,a>>>=1;return v},d.setToSJISFunction=function(v){if("function"!=typeof v)throw new Error('"toSJISFunc" is not a valid function.');s=v},d.isKanjiModeEnabled=function(){return typeof s<"u"},d.toSJIS=function(v){return s(v)}},80377:(X,d)=>{d.isValid=function(h){return!isNaN(h)&&h>=1&&h<=40}},91252:(X,d,s)=>{const h=s(19089),a=s(23677),v=s(47424),m=s(91677),g=s(80377),u=h.getBCHDigit(7973);function p(w,E){return m.getCharCountIndicator(w,E)+4}function o(w,E){let b=0;return w.forEach(function(A){const C=p(A.mode,E);b+=C+A.getBitsLength()}),b}d.from=function(E,b){return g.isValid(E)?parseInt(E,10):b},d.getCapacity=function(E,b,A){if(!g.isValid(E))throw new Error("Invalid QR Code version");typeof A>"u"&&(A=m.BYTE);const N=8*(h.getSymbolTotalCodewords(E)-a.getTotalCodewordsCount(E,b));if(A===m.MIXED)return N;const O=N-p(A,E);switch(A){case m.NUMERIC:return Math.floor(O/10*3);case m.ALPHANUMERIC:return Math.floor(O/11*2);case m.KANJI:return Math.floor(O/13);default:return Math.floor(O/8)}},d.getBestVersionForData=function(E,b){let A;const C=v.from(b,v.M);if(Array.isArray(E)){if(E.length>1)return function l(w,E){for(let b=1;b<=40;b++)if(o(w,b)<=d.getCapacity(b,E,m.MIXED))return b}(E,C);if(0===E.length)return 1;A=E[0]}else A=E;return function i(w,E,b){for(let A=1;A<=40;A++)if(E<=d.getCapacity(A,b,w))return A}(A.mode,A.getLength(),C)},d.getEncodedBits=function(E){if(!g.isValid(E)||E<7)throw new Error("Invalid QR Code version");let b=E<<12;for(;h.getBCHDigit(b)-u>=0;)b^=7973<<h.getBCHDigit(b)-u;return E<<12|b}},7030:(X,d,s)=>{const h=s(47077);d.render=function(g,c,u){let i=u,p=c;typeof i>"u"&&(!c||!c.getContext)&&(i=c,c=void 0),c||(p=function v(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),i=h.getOptions(i);const o=h.getImageWidth(g.modules.size,i),l=p.getContext("2d"),w=l.createImageData(o,o);return h.qrToImageData(w.data,g,i),function a(m,g,c){m.clearRect(0,0,g.width,g.height),g.style||(g.style={}),g.height=c,g.width=c,g.style.height=c+"px",g.style.width=c+"px"}(l,p,o),l.putImageData(w,0,0),p},d.renderToDataURL=function(g,c,u){let i=u;return typeof i>"u"&&(!c||!c.getContext)&&(i=c,c=void 0),i||(i={}),d.render(g,c,i).toDataURL(i.type||"image/png",(i.rendererOpts||{}).quality)}},56511:(X,d,s)=>{const h=s(47077);function a(g,c){const u=g.a/255,i=c+'="'+g.hex+'"';return u<1?i+" "+c+'-opacity="'+u.toFixed(2).slice(1)+'"':i}function v(g,c,u){let i=g+c;return typeof u<"u"&&(i+=" "+u),i}d.render=function(c,u,i){const p=h.getOptions(u),o=c.modules.size,l=c.modules.data,w=o+2*p.margin,E=p.color.light.a?"<path "+a(p.color.light,"fill")+' d="M0 0h'+w+"v"+w+'H0z"/>':"",b="<path "+a(p.color.dark,"stroke")+' d="'+function m(g,c,u){let i="",p=0,o=!1,l=0;for(let w=0;w<g.length;w++){const E=Math.floor(w%c),b=Math.floor(w/c);!E&&!o&&(o=!0),g[w]?(l++,w>0&&E>0&&g[w-1]||(i+=o?v("M",E+u,.5+b+u):v("m",p,0),p=0,o=!1),E+1<c&&g[w+1]||(i+=v("h",l),l=0)):p++}return i}(l,o,p.margin)+'"/>',_='<svg xmlns="http://www.w3.org/2000/svg" '+(p.width?'width="'+p.width+'" height="'+p.width+'" ':"")+'viewBox="0 0 '+w+" "+w+'" shape-rendering="crispEdges">'+E+b+"</svg>\n";return"function"==typeof i&&i(null,_),_}},47077:(X,d)=>{function s(h){if("number"==typeof h&&(h=h.toString()),"string"!=typeof h)throw new Error("Color should be defined as hex string");let a=h.slice().replace("#","").split("");if(a.length<3||5===a.length||a.length>8)throw new Error("Invalid hex color: "+h);(3===a.length||4===a.length)&&(a=Array.prototype.concat.apply([],a.map(function(m){return[m,m]}))),6===a.length&&a.push("F","F");const v=parseInt(a.join(""),16);return{r:v>>24&255,g:v>>16&255,b:v>>8&255,a:255&v,hex:"#"+a.slice(0,6).join("")}}d.getOptions=function(a){a||(a={}),a.color||(a.color={});const m=a.width&&a.width>=21?a.width:void 0;return{width:m,scale:m?4:a.scale||4,margin:typeof a.margin>"u"||null===a.margin||a.margin<0?4:a.margin,color:{dark:s(a.color.dark||"#000000ff"),light:s(a.color.light||"#ffffffff")},type:a.type,rendererOpts:a.rendererOpts||{}}},d.getScale=function(a,v){return v.width&&v.width>=a+2*v.margin?v.width/(a+2*v.margin):v.scale},d.getImageWidth=function(a,v){const m=d.getScale(a,v);return Math.floor((a+2*v.margin)*m)},d.qrToImageData=function(a,v,m){const g=v.modules.size,c=v.modules.data,u=d.getScale(g,m),i=Math.floor((g+2*m.margin)*u),p=m.margin*u,o=[m.color.light,m.color.dark];for(let l=0;l<i;l++)for(let w=0;w<i;w++){let E=4*(l*i+w),b=m.color.light;l>=p&&w>=p&&l<i-p&&w<i-p&&(b=o[c[Math.floor((l-p)/u)*g+Math.floor((w-p)/u)]?1:0]),a[E++]=b.r,a[E++]=b.g,a[E++]=b.b,a[E]=b.a}}},62364:(X,d,s)=>{"use strict";var h=s(56469),a=s(46758),v=Object;X.exports=h(function(){if(null==this||this!==v(this))throw new a("RegExp.prototype.flags getter called on non-object");var g="";return this.hasIndices&&(g+="d"),this.global&&(g+="g"),this.ignoreCase&&(g+="i"),this.multiline&&(g+="m"),this.dotAll&&(g+="s"),this.unicode&&(g+="u"),this.unicodeSets&&(g+="v"),this.sticky&&(g+="y"),g},"get flags",!0)},55864:(X,d,s)=>{"use strict";var h=s(947),a=s(48128),v=s(62364),m=s(35209),g=s(88871),c=a(m());h(c,{getPolyfill:m,implementation:v,shim:g}),X.exports=c},35209:(X,d,s)=>{"use strict";var h=s(62364),a=s(947).supportsDescriptors,v=Object.getOwnPropertyDescriptor;X.exports=function(){if(a&&"gim"===/a/gim.flags){var g=v(RegExp.prototype,"flags");if(g&&"function"==typeof g.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var c="",u={};if(Object.defineProperty(u,"hasIndices",{get:function(){c+="d"}}),Object.defineProperty(u,"sticky",{get:function(){c+="y"}}),"dy"===c)return g.get}}return h}},88871:(X,d,s)=>{"use strict";var h=s(947).supportsDescriptors,a=s(35209),v=Object.getOwnPropertyDescriptor,m=Object.defineProperty,g=TypeError,c=Object.getPrototypeOf,u=/a/;X.exports=function(){if(!h||!c)throw new g("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var p=a(),o=c(u),l=v(o,"flags");return(!l||l.get!==p)&&m(o,"flags",{configurable:!0,enumerable:!1,get:p}),p}},5202:(X,d,s)=>{"use strict";var h=s(23020),a=s(53290),v=h("RegExp.prototype.exec"),m=s(46758);X.exports=function(c){if(!a(c))throw new m("`regex` must be a RegExp");return function(i){return null!==v(c,i)}}},31358:(X,d,s)=>{"use strict";var h=s(90258),a=s(92736),v=s(35861)(),m=s(83798),g=s(46758),c=h("%Math.floor%");X.exports=function(i,p){if("function"!=typeof i)throw new g("`fn` is not a function");if("number"!=typeof p||p<0||p>4294967295||c(p)!==p)throw new g("`length` must be a positive 32-bit integer");var o=arguments.length>2&&!!arguments[2],l=!0,w=!0;if("length"in i&&m){var E=m(i,"length");E&&!E.configurable&&(l=!1),E&&!E.writable&&(w=!1)}return(l||w||!o)&&(v?a(i,"length",p,!0,!0):a(i,"length",p)),i}},56469:(X,d,s)=>{"use strict";var h=s(92736),a=s(35861)(),v=s(64003).functionsHaveConfigurableNames(),m=s(46758);X.exports=function(c,u){if("function"!=typeof c)throw new m("`fn` is not a function");return(!(arguments.length>2&&arguments[2])||v)&&(a?h(c,"name",u,!0,!0):h(c,"name",u)),c}},3541:(X,d,s)=>{"use strict";var h=s(90258),a=s(23020),v=s(89150),m=s(46758),g=h("%WeakMap%",!0),c=h("%Map%",!0),u=a("WeakMap.prototype.get",!0),i=a("WeakMap.prototype.set",!0),p=a("WeakMap.prototype.has",!0),o=a("Map.prototype.get",!0),l=a("Map.prototype.set",!0),w=a("Map.prototype.has",!0),E=function(_,N){for(var j,O=_;null!==(j=O.next);O=j)if(j.key===N)return O.next=j.next,j.next=_.next,_.next=j,j};X.exports=function(){var N,O,j,F={assert:function(T){if(!F.has(T))throw new m("Side channel does not contain "+v(T))},get:function(T){if(g&&T&&("object"==typeof T||"function"==typeof T)){if(N)return u(N,T)}else if(c){if(O)return o(O,T)}else if(j)return function(_,N){var O=E(_,N);return O&&O.value}(j,T)},has:function(T){if(g&&T&&("object"==typeof T||"function"==typeof T)){if(N)return p(N,T)}else if(c){if(O)return w(O,T)}else if(j)return function(_,N){return!!E(_,N)}(j,T);return!1},set:function(T,z){g&&T&&("object"==typeof T||"function"==typeof T)?(N||(N=new g),i(N,T,z)):c?(O||(O=new c),l(O,T,z)):(j||(j={key:{},next:null}),function(_,N,O){var j=E(_,N);j?j.value=O:_.next={key:N,next:_.next,value:O}}(j,T,z))}};return F}},18911:(X,d,s)=>{var h=s(46096).cM;X.exports=function(a,v){v||(v={});var m={},g=function c(u,i){if("Literal"===u.type)return u.value;if("UnaryExpression"===u.type){var p=c(u.argument);return"+"===u.operator?+p:"-"===u.operator?-p:"~"===u.operator?~p:"!"===u.operator?!p:m}if("ArrayExpression"===u.type){for(var o=[],l=0,w=u.elements.length;l<w;l++){if((E=c(u.elements[l]))===m)return m;o.push(E)}return o}if("ObjectExpression"===u.type){var b={};for(l=0;l<u.properties.length;l++){var C=null===(A=u.properties[l]).value?A.value:c(A.value);if(C===m)return m;b[A.key.value||A.key.name]=C}return b}if("BinaryExpression"===u.type||"LogicalExpression"===u.type){if((w=c(u.left))===m)return m;var _=c(u.right);if(_===m)return m;var N=u.operator;return"=="===N?w==_:"==="===N?w===_:"!="===N?w!=_:"!=="===N?w!==_:"+"===N?w+_:"-"===N?w-_:"*"===N?w*_:"/"===N?w/_:"%"===N?w%_:"<"===N?w<_:"<="===N?w<=_:">"===N?w>_:">="===N?w>=_:"|"===N?w|_:"&"===N?w&_:"^"===N?w^_:"&&"===N?w&&_:"||"===N?w||_:m}if("Identifier"===u.type)return{}.hasOwnProperty.call(v,u.name)?v[u.name]:m;if("ThisExpression"===u.type)return{}.hasOwnProperty.call(v,"this")?v.this:m;if("CallExpression"===u.type){var O=c(u.callee);if(O===m||"function"!=typeof O)return m;var j=u.callee.object?c(u.callee.object):m;j===m&&(j=null);var F=[];for(l=0,w=u.arguments.length;l<w;l++){var E;if((E=c(u.arguments[l]))===m)return m;F.push(E)}return O.apply(j,F)}var A;if("MemberExpression"===u.type)return(b=c(u.object))===m||"function"==typeof b?m:"Identifier"===u.property.type?b[u.property.name]:(A=c(u.property))===m?m:b[A];if("ConditionalExpression"===u.type)return(p=c(u.test))===m?m:c(p?u.consequent:u.alternate);if("ExpressionStatement"===u.type)return(p=c(u.expression))===m?m:p;if("ReturnStatement"===u.type)return c(u.argument);if("FunctionExpression"===u.type){var T=u.body.body,z={};for(Object.keys(v).forEach(function(M){z[M]=v[M]}),l=0;l<u.params.length;l++){var ee=u.params[l];if("Identifier"!=ee.type)return m;v[ee.name]=null}for(var l in T)if(c(T[l])===m)return m;v=z;var ie=Object.keys(v),x=ie.map(function(M){return v[M]});return Function(ie.join(", "),"return "+h(u)).apply(null,x)}if("TemplateLiteral"===u.type){var H="";for(l=0;l<u.expressions.length;l++)H+=c(u.quasis[l]),H+=c(u.expressions[l]);return H+c(u.quasis[l])}if("TaggedTemplateExpression"===u.type){var R=c(u.tag),J=u.quasi,W=J.quasis.map(c),ce=J.expressions.map(c);return R.apply(null,[W].concat(ce))}return"TemplateElement"===u.type?u.value.cooked:m}(a);return g===m?void 0:g}},20571:(X,d,s)=>{"use strict";var h=s(98683),a=s(48527),v=s(33602),m=s(84706),g=s(88535),c=s(34813),u=s(23020),i=s(19900)(),p=s(55864),o=s(90258),l=s(46758),w=o("%RegExp%"),E=u("String.prototype.indexOf"),b=s(73995),A=function(_){var N=b();if(i&&"symbol"==typeof Symbol.matchAll){var O=v(_,Symbol.matchAll);return O===w.prototype[Symbol.matchAll]&&O!==N?N:O}if(m(_))return N};X.exports=function(_){var N=c(this);if(typeof _<"u"&&null!==_){if(m(_)){var j="flags"in _?a(_,"flags"):p(_);if(c(j),E(g(j),"g")<0)throw new l("matchAll requires a global regular expression")}var F=A(_);if(typeof F<"u")return h(F,_,[N])}var T=g(N),z=new w(_,"g");return h(A(z),z,[T])}},72373:(X,d,s)=>{"use strict";var h=s(48128),a=s(947),v=s(20571),m=s(40082),g=s(928),c=h(v);a(c,{getPolyfill:m,implementation:v,shim:g}),X.exports=c},73995:(X,d,s)=>{"use strict";var h=s(19900)(),a=s(88153);X.exports=function(){return h&&"symbol"==typeof Symbol.matchAll&&"function"==typeof RegExp.prototype[Symbol.matchAll]?RegExp.prototype[Symbol.matchAll]:a}},40082:(X,d,s)=>{"use strict";var h=s(20571);X.exports=function(){if(String.prototype.matchAll)try{"".matchAll(RegExp.prototype)}catch{return String.prototype.matchAll}return h}},88153:(X,d,s)=>{"use strict";var h=s(87045),a=s(48527),v=s(72459),m=s(50149),g=s(51382),c=s(88535),u=s(80035),i=s(55864),p=s(56469),o=s(23020),l=s(90258),w=s(46758),E=o("String.prototype.indexOf"),b=l("%RegExp%"),A="flags"in b.prototype,_=p(function(O){var j=this;if("Object"!==u(j))throw new w('"this" value must be an Object');var F=c(O),z=function(O,j){var T="flags"in j?a(j,"flags"):c(i(j));return{flags:T,matcher:new O(A&&"string"==typeof T?j:O===b?j.source:j,T)}}(m(j,b),j),ee=z.flags,ie=z.matcher,x=g(a(j,"lastIndex"));v(ie,"lastIndex",x,!0);var H=E(ee,"g")>-1,R=E(ee,"u")>-1;return h(ie,F,H,R)},"[Symbol.matchAll]",!0);X.exports=_},928:(X,d,s)=>{"use strict";var h=s(947),a=s(19900)(),v=s(83798),m=s(40082),g=s(73995),c=Object.defineProperty;X.exports=function(){var i=m();if(h(String.prototype,{matchAll:i},{matchAll:function(){return String.prototype.matchAll!==i}}),a){var p=Symbol.matchAll||(Symbol.for?Symbol.for("Symbol.matchAll"):Symbol("Symbol.matchAll"));if(h(Symbol,{matchAll:p},{matchAll:function(){return Symbol.matchAll!==p}}),c&&v){var o=v(Symbol,p);(!o||o.configurable)&&c(Symbol,p,{configurable:!1,enumerable:!1,value:p,writable:!1})}var l=g(),w={};w[p]=l;var E={};E[p]=function(){return RegExp.prototype[p]!==l},h(RegExp.prototype,w,E)}return i}},90343:(X,d,s)=>{"use strict";var h=s(34813),a=s(88535),m=s(23020)("String.prototype.replace"),g=/^\s$/.test("\u180e"),c=g?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,u=g?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;X.exports=function(){var p=a(h(this));return m(m(p,c,""),u,"")}},36913:(X,d,s)=>{"use strict";var h=s(48128),a=s(947),v=s(34813),m=s(90343),g=s(12054),c=s(98452),u=h(g()),i=function(o){return v(o),u(o)};a(i,{getPolyfill:g,implementation:m,shim:c}),X.exports=i},12054:(X,d,s)=>{"use strict";var h=s(90343);X.exports=function(){return String.prototype.trim&&"\u200b"==="\u200b".trim()&&"\u180e"==="\u180e".trim()&&"_\u180e"==="_\u180e".trim()&&"\u180e_"==="\u180e_".trim()?String.prototype.trim:h}},98452:(X,d,s)=>{"use strict";var h=s(947),a=s(12054);X.exports=function(){var m=a();return h(String.prototype,{trim:m},{trim:function(){return String.prototype.trim!==m}}),m}},42634:()=>{},99014:(X,d,s)=>{"use strict";var h=s(32431),a=s(34174),v=s(74985),m=s(46758);X.exports=function(c,u,i){if("string"!=typeof c)throw new m("Assertion failed: `S` must be a String");if(!a(u)||u<0||u>v)throw new m("Assertion failed: `length` must be an integer >= 0 and <= 2**53");if("boolean"!=typeof i)throw new m("Assertion failed: `unicode` must be a Boolean");return i?u+1>=c.length?u+1:u+h(c,u)["[[CodeUnitCount]]"]:u+1}},98683:(X,d,s)=>{"use strict";var h=s(90258),a=s(23020),v=s(46758),m=s(22802),g=h("%Reflect.apply%",!0)||a("Function.prototype.apply");X.exports=function(u,i){var p=arguments.length>2?arguments[2]:[];if(!m(p))throw new v("Assertion failed: optional `argumentsList`, if provided, must be a List");return g(u,i,p)}},32431:(X,d,s)=>{"use strict";var h=s(46758),a=s(23020),v=s(32270),m=s(24034),g=s(15225),c=a("String.prototype.charAt"),u=a("String.prototype.charCodeAt");X.exports=function(p,o){if("string"!=typeof p)throw new h("Assertion failed: `string` must be a String");var l=p.length;if(o<0||o>=l)throw new h("Assertion failed: `position` must be >= 0, and < the length of `string`");var w=u(p,o),E=c(p,o),b=v(w),A=m(w);if(!b&&!A)return{"[[CodePoint]]":E,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!1};if(A||o+1===l)return{"[[CodePoint]]":E,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0};var C=u(p,o+1);return m(C)?{"[[CodePoint]]":g(w,C),"[[CodeUnitCount]]":2,"[[IsUnpairedSurrogate]]":!1}:{"[[CodePoint]]":E,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0}}},50363:(X,d,s)=>{"use strict";var h=s(46758);X.exports=function(v,m){if("boolean"!=typeof m)throw new h("Assertion failed: Type(done) is not Boolean");return{value:v,done:m}}},87045:(X,d,s)=>{"use strict";var h=s(90258),a=s(19900)(),v=s(46758),m=h("%IteratorPrototype%",!0),g=s(99014),c=s(50363),u=s(29624),i=s(48527),p=s(56042),o=s(59127),l=s(72459),w=s(51382),E=s(88535),b=s(80035),A=s(53720),C=s(65240),_=function(F,T,z,ee){if("string"!=typeof T)throw new v("`S` must be a string");if("boolean"!=typeof z)throw new v("`global` must be a boolean");if("boolean"!=typeof ee)throw new v("`fullUnicode` must be a boolean");A.set(this,"[[IteratingRegExp]]",F),A.set(this,"[[IteratedString]]",T),A.set(this,"[[Global]]",z),A.set(this,"[[Unicode]]",ee),A.set(this,"[[Done]]",!1)};m&&(_.prototype=p(m)),u(_.prototype,"next",function(){var F=this;if("Object"!==b(F))throw new v("receiver must be an object");if(!(F instanceof _&&A.has(F,"[[IteratingRegExp]]")&&A.has(F,"[[IteratedString]]")&&A.has(F,"[[Global]]")&&A.has(F,"[[Unicode]]")&&A.has(F,"[[Done]]")))throw new v('"this" value must be a RegExpStringIterator instance');if(A.get(F,"[[Done]]"))return c(void 0,!0);var T=A.get(F,"[[IteratingRegExp]]"),z=A.get(F,"[[IteratedString]]"),ee=A.get(F,"[[Global]]"),ie=A.get(F,"[[Unicode]]"),x=o(T,z);if(null===x)return A.set(F,"[[Done]]",!0),c(void 0,!0);if(ee){if(""===E(i(x,"0"))){var R=w(i(T,"lastIndex")),J=g(z,R,ie);l(T,"lastIndex",J,!0)}return c(x,!1)}return A.set(F,"[[Done]]",!0),c(x,!1)},!1),a&&(C(_.prototype,"RegExp String Iterator"),Symbol.iterator&&"function"!=typeof _.prototype[Symbol.iterator])&&u(_.prototype,Symbol.iterator,function(){return this},!1),X.exports=function(F,T,z,ee){return new _(F,T,z,ee)}},29624:(X,d,s)=>{"use strict";var h=s(46758),a=s(90662),v=s(42626),m=s(1203),g=s(80035);X.exports=function(u,i,p,o){if("Object"!==g(u))throw new h("Assertion failed: `homeObject` is not an Object");if(!m(i))throw new h("Assertion failed: `key` is not a Property Key or a Private Name");if("function"!=typeof p)throw new h("Assertion failed: `closure` is not a function");if("boolean"!=typeof o)throw new h("Assertion failed: `enumerable` is not a Boolean");if(!v(u))throw new h("Assertion failed: `homeObject` is not an ordinary, extensible object, with no non-configurable properties");a(u,i,{"[[Value]]":p,"[[Writable]]":!0,"[[Enumerable]]":o,"[[Configurable]]":!0})}},90662:(X,d,s)=>{"use strict";var h=s(46758),a=s(70492),v=s(81396),m=s(72183),g=s(11414),c=s(1203),u=s(86440),i=s(46018),p=s(80035);X.exports=function(l,w,E){if("Object"!==p(l))throw new h("Assertion failed: Type(O) is not Object");if(!c(w))throw new h("Assertion failed: IsPropertyKey(P) is not true");var b=a(E)?E:i(E);if(!a(b))throw new h("Assertion failed: Desc is not a valid Property Descriptor");return v(g,u,m,l,w,b)}},72183:(X,d,s)=>{"use strict";var h=s(46758),a=s(70492),v=s(4938);X.exports=function(g){if(typeof g<"u"&&!a(g))throw new h("Assertion failed: `Desc` must be a Property Descriptor");return v(g)}},48527:(X,d,s)=>{"use strict";var h=s(46758),a=s(89150),v=s(1203),m=s(80035);X.exports=function(c,u){if("Object"!==m(c))throw new h("Assertion failed: Type(O) is not Object");if(!v(u))throw new h("Assertion failed: IsPropertyKey(P) is not true, got "+a(u));return c[u]}},33602:(X,d,s)=>{"use strict";var h=s(46758),a=s(80213),v=s(35867),m=s(1203),g=s(89150);X.exports=function(u,i){if(!m(i))throw new h("Assertion failed: IsPropertyKey(P) is not true");var p=a(u,i);if(null!=p){if(!v(p))throw new h(g(i)+" is not a function: "+g(p));return p}}},80213:(X,d,s)=>{"use strict";var h=s(46758),a=s(89150),v=s(1203);X.exports=function(g,c){if(!v(c))throw new h("Assertion failed: IsPropertyKey(P) is not true, got "+a(c));return g[c]}},22802:(X,d,s)=>{"use strict";X.exports=s(31153)},35867:(X,d,s)=>{"use strict";X.exports=s(58239)},13711:(X,d,s)=>{"use strict";var a=s(29539)("%Reflect.construct%",!0),v=s(90662);try{v({},"",{"[[Get]]":function(){}})}catch{v=null}if(v&&a){var m={},g={};v(g,"length",{"[[Get]]":function(){throw m},"[[Enumerable]]":!0}),X.exports=function(u){try{a(u,g)}catch(i){return i===m}}}else X.exports=function(u){return"function"==typeof u&&!!u.prototype}},11414:(X,d,s)=>{"use strict";var h=s(46758),a=s(78368),v=s(70492);X.exports=function(g){if(typeof g>"u")return!1;if(!v(g))throw new h("Assertion failed: `Desc` must be a Property Descriptor");return!(!a(g,"[[Value]]")&&!a(g,"[[Writable]]"))}},42626:(X,d,s)=>{"use strict";var h=s(90258),a=h("%Object.preventExtensions%",!0),v=h("%Object.isExtensible%",!0),m=s(32081);X.exports=a?function(c){return!m(c)&&v(c)}:function(c){return!m(c)}},1203:X=>{"use strict";X.exports=function(s){return"string"==typeof s||"symbol"==typeof s}},84706:(X,d,s)=>{"use strict";var a=s(90258)("%Symbol.match%",!0),v=s(53290),m=s(12788);X.exports=function(c){if(!c||"object"!=typeof c)return!1;if(a){var u=c[a];if(typeof u<"u")return m(u)}return v(c)}},56042:(X,d,s)=>{"use strict";var a=s(90258)("%Object.create%",!0),v=s(46758),m=s(58413),g=s(22802),c=s(80035),u=s(54810),i=s(53720),p=s(62119)();X.exports=function(l){if(null!==l&&"Object"!==c(l))throw new v("Assertion failed: `proto` must be null or an object");var E,w=arguments.length<2?[]:arguments[1];if(!g(w))throw new v("Assertion failed: `additionalInternalSlotsList` must be an Array");if(a)E=a(l);else if(p)E={__proto__:l};else{if(null===l)throw new m("native Object.create support is required to create null objects");var b=function(){};b.prototype=l,E=new b}return w.length>0&&u(w,function(A){i.set(E,A,void 0)}),E}},59127:(X,d,s)=>{"use strict";var h=s(46758),a=s(23020)("RegExp.prototype.exec"),v=s(98683),m=s(48527),g=s(35867),c=s(80035);X.exports=function(i,p){if("Object"!==c(i))throw new h("Assertion failed: `R` must be an Object");if("string"!=typeof p)throw new h("Assertion failed: `S` must be a String");var o=m(i,"exec");if(g(o)){var l=v(o,i,[p]);if("object"==typeof l)return l;throw new h('"exec" method must return `null` or an Object')}return a(i,p)}},86440:(X,d,s)=>{"use strict";var h=s(91661);X.exports=function(v,m){return v===m?0!==v||1/v==1/m:h(v)&&h(m)}},72459:(X,d,s)=>{"use strict";var h=s(46758),a=s(1203),v=s(86440),m=s(80035),g=function(){try{return delete[].length,!0}catch{return!1}}();X.exports=function(u,i,p,o){if("Object"!==m(u))throw new h("Assertion failed: `O` must be an Object");if(!a(i))throw new h("Assertion failed: `P` must be a Property Key");if("boolean"!=typeof o)throw new h("Assertion failed: `Throw` must be a Boolean");if(o){if(u[i]=p,g&&!v(u[i],p))throw new h("Attempted to assign to readonly property.");return!0}try{return u[i]=p,!g||v(u[i],p)}catch{return!1}}},50149:(X,d,s)=>{"use strict";var a=s(90258)("%Symbol.species%",!0),v=s(46758),m=s(13711),g=s(80035);X.exports=function(u,i){if("Object"!==g(u))throw new v("Assertion failed: Type(O) is not Object");var p=u.constructor;if(typeof p>"u")return i;if("Object"!==g(p))throw new v("O.constructor is not an Object");var o=a?p[a]:void 0;if(null==o)return i;if(m(o))return o;throw new v("no constructor found")}},6465:(X,d,s)=>{"use strict";var h=s(90258),a=h("%Number%"),v=h("%RegExp%"),m=s(46758),g=h("%parseInt%"),c=s(23020),u=s(5202),i=c("String.prototype.slice"),p=u(/^0b[01]+$/i),o=u(/^0o[0-7]+$/i),l=u(/^[-+]0x[0-9a-f]+$/i),b=u(new v("["+["\x85","\u200b","\ufffe"].join("")+"]","g")),A=s(36913);X.exports=function C(_){if("string"!=typeof _)throw new m("Assertion failed: `argument` is not a String");if(p(_))return a(g(i(_,2),2));if(o(_))return a(g(i(_,2),8));if(b(_)||l(_))return NaN;var N=A(_);return N!==_?C(N):a(_)}},12788:X=>{"use strict";X.exports=function(s){return!!s}},39463:(X,d,s)=>{"use strict";var h=s(81255),a=s(39737),v=s(91661),m=s(84217);X.exports=function(c){var u=h(c);return v(u)||0===u?0:m(u)?a(u):u}},51382:(X,d,s)=>{"use strict";var h=s(74985),a=s(39463);X.exports=function(m){var g=a(m);return g<=0?0:g>h?h:g}},81255:(X,d,s)=>{"use strict";var h=s(90258),a=s(46758),v=h("%Number%"),m=s(32081),g=s(56801),c=s(6465);X.exports=function(i){var p=m(i)?i:g(i,v);if("symbol"==typeof p)throw new a("Cannot convert a Symbol value to a number");if("bigint"==typeof p)throw new a("Conversion from 'BigInt' to 'number' is not allowed.");return"string"==typeof p?c(p):v(p)}},56801:(X,d,s)=>{"use strict";var h=s(31232);X.exports=function(v){return arguments.length>1?h(v,arguments[1]):h(v)}},46018:(X,d,s)=>{"use strict";var h=s(78368),a=s(46758),v=s(80035),m=s(12788),g=s(35867);X.exports=function(u){if("Object"!==v(u))throw new a("ToPropertyDescriptor requires an object");var i={};if(h(u,"enumerable")&&(i["[[Enumerable]]"]=m(u.enumerable)),h(u,"configurable")&&(i["[[Configurable]]"]=m(u.configurable)),h(u,"value")&&(i["[[Value]]"]=u.value),h(u,"writable")&&(i["[[Writable]]"]=m(u.writable)),h(u,"get")){var p=u.get;if(typeof p<"u"&&!g(p))throw new a("getter must be a function");i["[[Get]]"]=p}if(h(u,"set")){var o=u.set;if(typeof o<"u"&&!g(o))throw new a("setter must be a function");i["[[Set]]"]=o}if((h(i,"[[Get]]")||h(i,"[[Set]]"))&&(h(i,"[[Value]]")||h(i,"[[Writable]]")))throw new a("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return i}},88535:(X,d,s)=>{"use strict";var a=s(90258)("%String%"),v=s(46758);X.exports=function(g){if("symbol"==typeof g)throw new v("Cannot convert a Symbol value to a string");return a(g)}},80035:(X,d,s)=>{"use strict";var h=s(72408);X.exports=function(v){return"symbol"==typeof v?"Symbol":"bigint"==typeof v?"BigInt":h(v)}},15225:(X,d,s)=>{"use strict";var h=s(90258),a=s(46758),v=h("%String.fromCharCode%"),m=s(32270),g=s(24034);X.exports=function(u,i){if(!m(u)||!g(i))throw new a("Assertion failed: `lead` must be a leading surrogate char code, and `trail` must be a trailing surrogate char code");return v(u)+v(i)}},12045:X=>{"use strict";var d=Math.floor;X.exports=function(h){return"bigint"==typeof h?h:d(h)}},39737:(X,d,s)=>{"use strict";var h=s(12045),a=s(46758);X.exports=function(m){if("number"!=typeof m&&"bigint"!=typeof m)throw new a("argument must be a Number or a BigInt");var g=m<0?-h(-m):h(m);return 0===g?0:g}},72408:X=>{"use strict";X.exports=function(s){return null===s?"Null":typeof s>"u"?"Undefined":"function"==typeof s||"object"==typeof s?"Object":"number"==typeof s?"Number":"boolean"==typeof s?"Boolean":"string"==typeof s?"String":void 0}},29539:(X,d,s)=>{"use strict";X.exports=s(90258)},81396:(X,d,s)=>{"use strict";var h=s(35861),a=s(4570),v=h.hasArrayLengthDefineBug(),m=v&&s(31153),c=s(23020)("Object.prototype.propertyIsEnumerable");X.exports=function(i,p,o,l,w,E){if(!a){if(!i(E)||!E["[[Configurable]]"]||!E["[[Writable]]"]||w in l&&c(l,w)!==!!E["[[Enumerable]]"])return!1;var b=E["[[Value]]"];return l[w]=b,p(l[w],b)}return v&&"length"===w&&"[[Value]]"in E&&m(l)&&l.length!==E["[[Value]]"]?(l.length=E["[[Value]]"],l.length===E["[[Value]]"]):(a(l,w,o(E)),!0)}},31153:(X,d,s)=>{"use strict";var a=s(90258)("%Array%"),v=!a.isArray&&s(23020)("Object.prototype.toString");X.exports=a.isArray||function(g){return"[object Array]"===v(g)}},54810:X=>{"use strict";X.exports=function(s,h){for(var a=0;a<s.length;a+=1)h(s[a],a,s)}},4938:X=>{"use strict";X.exports=function(s){if(typeof s>"u")return s;var h={};return"[[Value]]"in s&&(h.value=s["[[Value]]"]),"[[Writable]]"in s&&(h.writable=!!s["[[Writable]]"]),"[[Get]]"in s&&(h.get=s["[[Get]]"]),"[[Set]]"in s&&(h.set=s["[[Set]]"]),"[[Enumerable]]"in s&&(h.enumerable=!!s["[[Enumerable]]"]),"[[Configurable]]"in s&&(h.configurable=!!s["[[Configurable]]"]),h}},84217:(X,d,s)=>{"use strict";var h=s(91661);X.exports=function(a){return("number"==typeof a||"bigint"==typeof a)&&!h(a)&&a!==1/0&&a!==-1/0}},34174:(X,d,s)=>{"use strict";var h=s(90258),a=h("%Math.abs%"),v=h("%Math.floor%"),m=s(91661),g=s(84217);X.exports=function(u){if("number"!=typeof u||m(u)||!g(u))return!1;var i=a(u);return v(i)===i}},32270:X=>{"use strict";X.exports=function(s){return"number"==typeof s&&s>=55296&&s<=56319}},91661:X=>{"use strict";X.exports=Number.isNaN||function(s){return s!=s}},32081:X=>{"use strict";X.exports=function(s){return null===s||"function"!=typeof s&&"object"!=typeof s}},24034:X=>{"use strict";X.exports=function(s){return"number"==typeof s&&s>=56320&&s<=57343}},74985:X=>{"use strict";X.exports=Number.MAX_SAFE_INTEGER||9007199254740991},70492:(X,d,s)=>{"use strict";var h=s(46758),a=s(78368),v={__proto__:null,"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};X.exports=function(g){if(!g||"object"!=typeof g)return!1;for(var c in g)if(a(g,c)&&!v[c])return!1;var u=a(g,"[[Value]]")||a(g,"[[Writable]]"),i=a(g,"[[Get]]")||a(g,"[[Set]]");if(u&&i)throw new h("Property Descriptors may not be both accessor and data descriptors");return!0}},75324:(X,d,s)=>{"use strict";s.r(d),s.d(d,{compare:()=>A,concat:()=>O,equals:()=>j,fromString:()=>$,toString:()=>Z,xor:()=>ye});var h={};s.r(h),s.d(h,{identity:()=>he});var a={};s.r(a),s.d(a,{base2:()=>Ee});var v={};s.r(v),s.d(v,{base8:()=>pe});var m={};s.r(m),s.d(m,{base10:()=>De});var g={};s.r(g),s.d(g,{base16:()=>Xe,base16upper:()=>Pe});var c={};s.r(c),s.d(c,{base32:()=>Fe,base32hex:()=>Ae,base32hexpad:()=>xe,base32hexpadupper:()=>Ne,base32hexupper:()=>$e,base32pad:()=>ve,base32padupper:()=>ge,base32upper:()=>me,base32z:()=>Le});var u={};s.r(u),s.d(u,{base36:()=>Ue,base36upper:()=>qe});var i={};s.r(i),s.d(i,{base58btc:()=>Je,base58flickr:()=>We});var p={};s.r(p),s.d(p,{base64:()=>at,base64pad:()=>te,base64url:()=>U,base64urlpad:()=>P});var o={};s.r(o),s.d(o,{base256emoji:()=>Be});var l={};s.r(l),s.d(l,{sha256:()=>Oi,sha512:()=>pi});var w={};s.r(w),s.d(w,{identity:()=>Ks});var E={};s.r(E),s.d(E,{code:()=>mi,decode:()=>Zr,encode:()=>Fi,name:()=>jt});var b={};function A(ne,ae){for(let be=0;be<ne.byteLength;be++){if(ne[be]<ae[be])return-1;if(ne[be]>ae[be])return 1}return ne.byteLength>ae.byteLength?1:ne.byteLength<ae.byteLength?-1:0}function C(ne){return null!=globalThis.Buffer?new Uint8Array(ne.buffer,ne.byteOffset,ne.byteLength):ne}function N(ne=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?C(globalThis.Buffer.allocUnsafe(ne)):new Uint8Array(ne)}function O(ne,ae){ae||(ae=ne.reduce((Ke,nt)=>Ke+nt.length,0));const be=N(ae);let Me=0;for(const Ke of ne)be.set(Ke,Me),Me+=Ke.length;return C(be)}function j(ne,ae){if(ne===ae)return!0;if(ne.byteLength!==ae.byteLength)return!1;for(let be=0;be<ne.byteLength;be++)if(ne[be]!==ae[be])return!1;return!0}s.r(b),s.d(b,{code:()=>Vs,decode:()=>xn,encode:()=>Yr,name:()=>Sr});const J=(new Uint8Array(0),ne=>{if(ne instanceof Uint8Array&&"Uint8Array"===ne.constructor.name)return ne;if(ne instanceof ArrayBuffer)return new Uint8Array(ne);if(ArrayBuffer.isView(ne))return new Uint8Array(ne.buffer,ne.byteOffset,ne.byteLength);throw new Error("Unknown type, must be binary type")});class Q{constructor(ae,be,Me){this.name=ae,this.prefix=be,this.baseEncode=Me}encode(ae){if(ae instanceof Uint8Array)return`${this.prefix}${this.baseEncode(ae)}`;throw Error("Unknown type, must be binary type")}}class de{constructor(ae,be,Me){if(this.name=ae,this.prefix=be,void 0===be.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=be.codePointAt(0),this.baseDecode=Me}decode(ae){if("string"==typeof ae){if(ae.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(ae)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(ae.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(ae){return je(this,ae)}}class we{constructor(ae){this.decoders=ae}or(ae){return je(this,ae)}decode(ae){const Me=this.decoders[ae[0]];if(Me)return Me.decode(ae);throw RangeError(`Unable to decode multibase string ${JSON.stringify(ae)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const je=(ne,ae)=>new we({...ne.decoders||{[ne.prefix]:ne},...ae.decoders||{[ae.prefix]:ae}});class S{constructor(ae,be,Me,Ke){this.name=ae,this.prefix=be,this.baseEncode=Me,this.baseDecode=Ke,this.encoder=new Q(ae,be,Me),this.decoder=new de(ae,be,Ke)}encode(ae){return this.encoder.encode(ae)}decode(ae){return this.decoder.decode(ae)}}const I=({name:ne,prefix:ae,encode:be,decode:Me})=>new S(ne,ae,be,Me),G=({prefix:ne,name:ae,alphabet:be})=>{const{encode:Me,decode:Ke}=function F(ne,ae){if(ne.length>=255)throw new TypeError("Alphabet too long");for(var be=new Uint8Array(256),Me=0;Me<be.length;Me++)be[Me]=255;for(var Ke=0;Ke<ne.length;Ke++){var nt=ne.charAt(Ke),pt=nt.charCodeAt(0);if(255!==be[pt])throw new TypeError(nt+" is ambiguous");be[pt]=Ke}var Et=ne.length,Ct=ne.charAt(0),_r=Math.log(Et)/Math.log(256),fr=Math.log(256)/Math.log(Et);function Ri(Tt){if("string"!=typeof Tt)throw new TypeError("Expected String");if(0===Tt.length)return new Uint8Array;var mr=0;if(" "!==Tt[mr]){for(var Qr=0,tr=0;Tt[mr]===Ct;)Qr++,mr++;for(var xr=(Tt.length-mr)*_r+1>>>0,gr=new Uint8Array(xr);Tt[mr];){var zt=be[Tt.charCodeAt(mr)];if(255===zt)return;for(var mt=0,qr=xr-1;(0!==zt||mt<tr)&&-1!==qr;qr--,mt++)gr[qr]=(zt+=Et*gr[qr]>>>0)%256>>>0,zt=zt/256>>>0;if(0!==zt)throw new Error("Non-zero carry");tr=mt,mr++}if(" "!==Tt[mr]){for(var Ar=xr-tr;Ar!==xr&&0===gr[Ar];)Ar++;for(var Wr=new Uint8Array(Qr+(xr-Ar)),vi=Qr;Ar!==xr;)Wr[vi++]=gr[Ar++];return Wr}}}return{encode:function pr(Tt){if(Tt instanceof Uint8Array||(ArrayBuffer.isView(Tt)?Tt=new Uint8Array(Tt.buffer,Tt.byteOffset,Tt.byteLength):Array.isArray(Tt)&&(Tt=Uint8Array.from(Tt))),!(Tt instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Tt.length)return"";for(var mr=0,Qr=0,tr=0,xr=Tt.length;tr!==xr&&0===Tt[tr];)tr++,mr++;for(var gr=(xr-tr)*fr+1>>>0,zt=new Uint8Array(gr);tr!==xr;){for(var mt=Tt[tr],qr=0,Ar=gr-1;(0!==mt||qr<Qr)&&-1!==Ar;Ar--,qr++)zt[Ar]=(mt+=256*zt[Ar]>>>0)%Et>>>0,mt=mt/Et>>>0;if(0!==mt)throw new Error("Non-zero carry");Qr=qr,tr++}for(var Wr=gr-Qr;Wr!==gr&&0===zt[Wr];)Wr++;for(var vi=Ct.repeat(mr);Wr<gr;++Wr)vi+=ne.charAt(zt[Wr]);return vi},decodeUnsafe:Ri,decode:function Fo(Tt){var mr=Ri(Tt);if(mr)return mr;throw new Error(`Non-${ae} character`)}}}(be,ae);return I({prefix:ne,name:ae,encode:Me,decode:nt=>J(Ke(nt))})},le=({name:ne,prefix:ae,bitsPerChar:be,alphabet:Me})=>I({prefix:ae,name:ne,encode:Ke=>((ne,ae,be)=>{const Me="="===ae[ae.length-1],Ke=(1<<be)-1;let nt="",pt=0,Et=0;for(let Ct=0;Ct<ne.length;++Ct)for(Et=Et<<8|ne[Ct],pt+=8;pt>be;)pt-=be,nt+=ae[Ke&Et>>pt];if(pt&&(nt+=ae[Ke&Et<<be-pt]),Me)for(;nt.length*be&7;)nt+="=";return nt})(Ke,Me,be),decode:Ke=>((ne,ae,be,Me)=>{const Ke={};for(let fr=0;fr<ae.length;++fr)Ke[ae[fr]]=fr;let nt=ne.length;for(;"="===ne[nt-1];)--nt;const pt=new Uint8Array(nt*be/8|0);let Et=0,Ct=0,_r=0;for(let fr=0;fr<nt;++fr){const pr=Ke[ne[fr]];if(void 0===pr)throw new SyntaxError(`Non-${Me} character`);Ct=Ct<<be|pr,Et+=be,Et>=8&&(Et-=8,pt[_r++]=255&Ct>>Et)}if(Et>=be||255&Ct<<8-Et)throw new SyntaxError("Unexpected end of data");return pt})(Ke,Me,be,ne)}),he=I({prefix:"\0",name:"identity",encode:ne=>(ne=>(new TextDecoder).decode(ne))(ne),decode:ne=>(ne=>(new TextEncoder).encode(ne))(ne)}),Ee=le({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),pe=le({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),De=G({prefix:"9",name:"base10",alphabet:"0123456789"}),Xe=le({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Pe=le({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Fe=le({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),me=le({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ve=le({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ge=le({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ae=le({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),$e=le({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),xe=le({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Ne=le({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Le=le({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Ue=G({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),qe=G({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Je=G({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),We=G({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),at=le({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),te=le({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),U=le({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),P=le({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Y=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),Se=Y.reduce((ne,ae,be)=>(ne[be]=ae,ne),[]),Ce=Y.reduce((ne,ae,be)=>(ne[ae.codePointAt(0)]=be,ne),[]),Be=I({prefix:"\u{1f680}",name:"base256emoji",encode:function Ie(ne){return ne.reduce((ae,be)=>ae+Se[be],"")},decode:function Oe(ne){const ae=[];for(const be of ne){const Me=Ce[be.codePointAt(0)];if(void 0===Me)throw new Error(`Non-base256emoji character: ${be}`);ae.push(Me)}return new Uint8Array(ae)}});var ct=s(10467),tt=128,Bt=-128,It=Math.pow(2,31),oe=Math.pow(2,7),fe=Math.pow(2,14),_e=Math.pow(2,21),Ve=Math.pow(2,28),He=Math.pow(2,35),Ge=Math.pow(2,42),ut=Math.pow(2,49),wt=Math.pow(2,56),_t=Math.pow(2,63);const er_encode=function St(ne,ae,be){ae=ae||[];for(var Me=be=be||0;ne>=It;)ae[be++]=255&ne|tt,ne/=128;for(;ne&Bt;)ae[be++]=255&ne|tt,ne>>>=7;return ae[be]=0|ne,St.bytes=be-Me+1,ae},er_encodingLength=function(ne){return ne<oe?1:ne<fe?2:ne<_e?3:ne<Ve?4:ne<He?5:ne<Ge?6:ne<ut?7:ne<wt?8:ne<_t?9:10},ln=(ne,ae,be=0)=>(er_encode(ne,ae,be),ae),Vr=ne=>er_encodingLength(ne),dr=(ne,ae)=>{const be=ae.byteLength,Me=Vr(ne),Ke=Me+Vr(be),nt=new Uint8Array(Ke+be);return ln(ne,nt,0),ln(be,nt,Me),nt.set(ae,Ke),new Gr(ne,be,ae,nt)};class Gr{constructor(ae,be,Me,Ke){this.code=ae,this.size=be,this.digest=Me,this.bytes=Ke}}const fi=({name:ne,code:ae,encode:be})=>new xi(ne,ae,be);class xi{constructor(ae,be,Me){this.name=ae,this.code=be,this.encode=Me}digest(ae){if(ae instanceof Uint8Array){const be=this.encode(ae);return be instanceof Uint8Array?dr(this.code,be):be.then(Me=>dr(this.code,Me))}throw Error("Unknown type, must be binary type")}}const Xr=ne=>function(){var ae=(0,ct.A)(function*(be){return new Uint8Array(yield crypto.subtle.digest(ne,be))});return function(be){return ae.apply(this,arguments)}}(),Oi=fi({name:"sha2-256",code:18,encode:Xr("SHA-256")}),pi=fi({name:"sha2-512",code:19,encode:Xr("SHA-512")}),yi=J,Ks={code:0,name:"identity",encode:yi,digest:ne=>dr(0,yi(ne))},jt="raw",mi=85,Fi=ne=>J(ne),Zr=ne=>J(ne),dn=new TextEncoder,fn=new TextDecoder,Sr="json",Vs=512,Yr=ne=>dn.encode(JSON.stringify(ne)),xn=ne=>JSON.parse(fn.decode(ne));Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const Fn={...h,...a,...v,...m,...g,...c,...u,...i,...p,...o};function gi(ne,ae,be,Me){return{name:ne,prefix:ae,encoder:{name:ne,prefix:ae,encode:be},decoder:{decode:Me}}}const Gn=gi("utf8","u",ne=>"u"+new TextDecoder("utf8").decode(ne),ne=>(new TextEncoder).encode(ne.substring(1))),Jr=gi("ascii","a",ne=>{let ae="a";for(let be=0;be<ne.length;be++)ae+=String.fromCharCode(ne[be]);return ae},ne=>{const ae=N((ne=ne.substring(1)).length);for(let be=0;be<ne.length;be++)ae[be]=ne.charCodeAt(be);return ae}),Bn={utf8:Gn,"utf-8":Gn,hex:Fn.base16,latin1:Jr,ascii:Jr,binary:Jr,...Fn};function $(ne,ae="utf8"){const be=Bn[ae];if(!be)throw new Error(`Unsupported encoding "${ae}"`);return"utf8"!==ae&&"utf-8"!==ae||null==globalThis.Buffer||null==globalThis.Buffer.from?be.decoder.decode(`${be.prefix}${ne}`):C(globalThis.Buffer.from(ne,"utf-8"))}function Z(ne,ae="utf8"){const be=Bn[ae];if(!be)throw new Error(`Unsupported encoding "${ae}"`);return"utf8"!==ae&&"utf-8"!==ae||null==globalThis.Buffer||null==globalThis.Buffer.from?be.encoder.encode(ne).substring(1):globalThis.Buffer.from(ne.buffer,ne.byteOffset,ne.byteLength).toString("utf8")}function ye(ne,ae){if(ne.length!==ae.length)throw new Error("Inputs should have the same length");const be=N(ne.length);for(let Me=0;Me<ne.length;Me++)be[Me]=ne[Me]^ae[Me];return C(be)}},35975:(X,d,s)=>{"use strict";s.r(d),s.d(d,{customAlphabet:()=>m,customRandom:()=>v,nanoid:()=>g,random:()=>a,urlAlphabet:()=>h});let h="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",a=c=>crypto.getRandomValues(new Uint8Array(c)),v=(c,u,i)=>{let p=(2<<Math.log(c.length-1)/Math.LN2)-1,o=-~(1.6*p*u/c.length);return(l=u)=>{let w="";for(;;){let E=i(o),b=o;for(;b--;)if(w+=c[E[b]&p]||"",w.length===l)return w}}},m=(c,u=21)=>v(c,u,a),g=(c=21)=>crypto.getRandomValues(new Uint8Array(c)).reduce((u,i)=>u+((i&=63)<36?i.toString(36):i<62?(i-26).toString(36).toUpperCase():i>62?"-":"_"),"")},63837:X=>{"use strict";X.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},72079:X=>{"use strict";X.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},84777:X=>{"use strict";X.exports={}},99600:X=>{"use strict";X.exports={rE:"4.3.0"}}}]);