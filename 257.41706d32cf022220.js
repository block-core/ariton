"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[257],{92257:(Q,b,i)=>{i.r(b),i.d(b,{DataComponent:()=>H});var h=i(99213),u=i(96850),c=i(10467),t=i(93953),g=i(88834),F=i(3902),v=i(60177),S=i(18498),p=i(47358),$=i(64109);const _=[{name:"components",type:"folder",children:[{name:"src",type:"folder",children:[{name:"cdk",type:"folder",children:[{name:"package.json",type:"file"},{name:"BUILD.bazel",type:"file"}]},{name:"material",type:"folder"}]}]},{name:"angular",type:"folder",children:[{name:"packages",type:"folder",children:[{name:".travis.yml",type:"file"},{name:"firebase.json",type:"file"}]},{name:"package.json",type:"file"}]},{name:"angularjs",type:"folder",children:[{name:"gulpfile.js",type:"file"},{name:"README.md",type:"file"}]}];let w=(()=>{class n{transform(e,o){if(0===e)return"0 Bytes";const s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB","PB"][s]}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275pipe=t.EJ8({name:"size",type:n,pure:!0,standalone:!0})}return n})();var k=i(67402);const P=n=>["view",n];function D(n,l){if(1&n&&(t.j41(0,"div",2)(1,"span",6),t.EFF(2,"ID: "),t.j41(3,"a",7),t.EFF(4),t.k0s()(),t.nrm(5,"br"),t.j41(6,"span"),t.EFF(7),t.nrm(8,"br"),t.EFF(9),t.nrm(10,"br"),t.EFF(11),t.nI1(12,"size"),t.nrm(13,"br"),t.EFF(14),t.nrm(15,"br"),t.EFF(16),t.nrm(17,"br"),t.EFF(18),t.nrm(19,"br"),t.k0s()()),2&n){const e=l.$implicit;t.R7$(3),t.Y8G("routerLink",t.eq3(10,P,e.id)),t.R7$(),t.JRh(e.id),t.R7$(3),t.SpI(" Format: ",e.dataFormat,""),t.R7$(2),t.SpI(" Schema: ",e.schema,""),t.R7$(2),t.SpI(" Size: ",t.bMT(12,8,e.dataSize),""),t.R7$(3),t.SpI(" Created: ",e.dateCreated,""),t.R7$(2),t.SpI(" Published: ",e.published,""),t.R7$(2),t.SpI(" Date Published: ",e.datePublished,"")}}function E(n,l){if(1&n&&(t.j41(0,"mat-tree-node",8),t.nrm(1,"button",9),t.j41(2,"mat-icon",10),t.EFF(3),t.k0s(),t.EFF(4),t.k0s()),2&n){const e=l.$implicit;t.R7$(2),t.BMQ("aria-label",e.type+"icon"),t.R7$(),t.SpI(" ","file"===e.type?"description":"folder"," "),t.R7$(),t.SpI(" ",e.name," ")}}function x(n,l){if(1&n&&(t.j41(0,"mat-tree-node",11)(1,"button",12)(2,"mat-icon",13),t.EFF(3),t.k0s()(),t.j41(4,"mat-icon",10),t.EFF(5),t.k0s(),t.EFF(6),t.k0s()),2&n){const e=l.$implicit,o=t.XpG();t.R7$(),t.BMQ("aria-label","Toggle "+e.name),t.R7$(2),t.SpI(" ",o.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),t.R7$(),t.BMQ("aria-label",e.type+"icon"),t.R7$(),t.SpI(" ","file"===e.type?"description":"folder"," "),t.R7$(),t.SpI(" ",e.name," ")}}let T=(()=>{class n{constructor(e){this.identityService=e,this.record=(0,t.vPA)(null),this.records=(0,t.vPA)([]),(0,t.QZP)(()=>{this.identityService.initialized()&&this.load()}),this.treeFlattener=new p.yj(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new $.XW(this.getLevel,this.isExpandable),this.dataSource=new p.zw(this.treeControl,this.treeFlattener),this.dataSource.data=_}transformer(e,o){return{name:e.name,type:e.type,level:o,expandable:!!e.children}}getLevel(e){return e.level}isExpandable(e){return e.expandable}hasChild(e,o){return o.expandable}getChildren(e){return e.children}load(){var e=this;return(0,c.A)(function*(){const{protocols:o}=yield e.identityService.web5.dwn.protocols.query({message:{filter:{protocol:"https://social-media.xyz"}}});console.log(o);var{records:r}=yield e.identityService.web5.dwn.records.query({message:{filter:{protocol:"https://social-media.xyz"}}});console.log("All records:"),console.log(r),r&&e.records.set(r);var{records:r}=yield e.identityService.web5.dwn.records.query({from:e.identityService.did,message:{filter:{schema:"https://schema.org/Playlist",dataFormat:"application/json"}}});console.log(r);const a=yield e.identityService.web5.dwn.records.query({message:{filter:{parentId:"bafyreianzpmhbgcgam5mys722vnsiuwn7y4ek6kjeyjptttquasw4hge2m"}}});console.log(a.records);var{records:r}=yield e.identityService.web5.dwn.records.query({message:{filter:{protocol:"https://playlist.org/protocol",protocolPath:"playlist/video"}}});console.log(r)})()}registerChatProtocol(){var e=this;return(0,c.A)(function*(){const{protocol:a,status:r}=yield e.identityService.web5.dwn.protocols.configure({message:{definition:{protocol:"https://social-media.xyz",published:!0,types:{post:{schema:"https://social-media.xyz/schemas/postSchema",dataFormats:["text/plain"]},reply:{schema:"https://social-media.xyz/schemas/replySchema",dataFormats:["text/plain"]},image:{dataFormats:["image/jpeg"]},caption:{schema:"https://social-media.xyz/schemas/captionSchema",dataFormats:["text/plain"]}},structure:{post:{$actions:[{who:"anyone",can:["create","read"]}],reply:{$actions:[{who:"recipient",of:"post",can:["create"]},{who:"author",of:"post",can:["create"]}]}},image:{$actions:[{who:"anyone",can:["create","read"]}],caption:{$actions:[{who:"anyone",can:["read"]},{who:"author",of:"image",can:["create"]}]},reply:{$actions:[{who:"author",of:"image",can:["read"]},{who:"recipient",of:"image",can:["create"]}]}}}}}});if(202===r.code&&console.log("Protocol accepted"),console.log(a),console.log(r),a){const{status:s}=yield a.send("did:dht:83azq4wzkghcacu4mt57ne8d5gumnytxxjkpmn5h1shwkafzi5so");202===s.code?console.log("Protocol sent to remote DWNs"):console.error(`Failed to send protocol to remote DWNs. Code: ${s.detail}, Detail: ${s.detail}`)}})()}createChatRecord(){var e=this;return(0,c.A)(function*(){const{record:o,status:a}=yield e.identityService.web5.dwn.records.create({data:"Hey this is my first post!",message:{recipient:"did:dht:83azq4wzkghcacu4mt57ne8d5gumnytxxjkpmn5h1shwkafzi5so",schema:"https://social-media.xyz/schemas/postSchema",dataFormat:"text/plain",protocol:"https://social-media.xyz",protocolPath:"post"}});202===a.code?console.log("Record created successfully!"):console.error(`Failed to create record. Code: ${a.detail}, Detail: ${a.detail}`),console.log(o)})()}createRegistry(){var e=this;return(0,c.A)(function*(){var{record:o}=yield e.identityService.web5.dwn.records.create({data:{name:"Liberstad CC",description:"Crypto Company Registry",tags:["registry","did","liberstad"]},message:{dataFormat:"application/json",schema:"https://schema.ariton.app/registry",published:!0}});if(console.log(o),o){const{status:a}=yield o.send("did:dht:r9pc5egfoa6isk3ueocrbmt7wigkjdnrfjd5dj35crbo5oesueuy");console.log(a)}var{record:o}=yield e.identityService.web5.dwn.records.create({data:{name:"Blockchain Social Network (BSN)",description:"Stellar blockchain data registry",tags:["registry","did","stellar","mtl","montelibero"]},message:{dataFormat:"application/json",schema:"https://schema.ariton.app/registry",published:!0}});if(console.log(o),o){const{status:a}=yield o.send("did:dht:r9pc5egfoa6isk3ueocrbmt7wigkjdnrfjd5dj35crbo5oesueuy");console.log(a)}})()}readRegistries(){var e=this;return(0,c.A)(function*(){var{records:o}=yield e.identityService.web5.dwn.records.query({from:"did:dht:r9pc5egfoa6isk3ueocrbmt7wigkjdnrfjd5dj35crbo5oesueuy",message:{filter:{schema:"https://schema.ariton.app/registry"}}});console.log(o),o&&e.records.set(o)})()}createRecord(e){var o=this;return(0,c.A)(function*(){var{record:a}=yield o.identityService.web5.dwn.records.create({data:{content:"Hello Web5 child!",description:"Keep Building child!",tags:["web5","ariton","did"]},message:{dataFormat:"application/json",published:e,protocolPath:"playlist/video",parentContextId:"bafyreicvvzlgrovmwhoi6snnsiuvgs5eucy4f766vkfgb6sfcqveth5nhy"}});console.log(a)})()}updateRecord(){return(0,c.A)(function*(){})()}static#t=this.\u0275fac=function(o){return new(o||n)(t.rXU(k.K))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-data-management"]],standalone:!0,features:[t.Jv_([w]),t.aNF],decls:28,vars:3,consts:[["mat-flat-button","",3,"click"],[1,"example-list-wrapping"],[1,"record-line"],[3,"dataSource","treeControl"],["matTreeNodeToggle","","matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matListItemTitle",""],[3,"routerLink"],["matTreeNodeToggle","","matTreeNodePadding",""],["mat-icon-button","","disabled",""],[1,"type-icon"],["matTreeNodePadding",""],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(o,a){1&o&&(t.nrm(0,"br"),t.j41(1,"p")(2,"button",0),t.bIt("click",function(){return a.createRegistry()}),t.EFF(3,"Create Registry in Public Node"),t.k0s(),t.EFF(4,"\xa0 "),t.j41(5,"button",0),t.bIt("click",function(){return a.readRegistries()}),t.EFF(6,"Read Registries in Public Node"),t.k0s()(),t.nrm(7,"br"),t.j41(8,"button",0),t.bIt("click",function(){return a.load()}),t.EFF(9,"Load Data"),t.k0s(),t.EFF(10,"\n\xa0\n"),t.j41(11,"button",0),t.bIt("click",function(){return a.createRecord(!1)}),t.EFF(12,"Create Private Record"),t.k0s(),t.EFF(13,"\n\xa0\n"),t.j41(14,"button",0),t.bIt("click",function(){return a.createRecord(!0)}),t.EFF(15,"Create Public Record"),t.k0s(),t.EFF(16,"\n\xa0\n"),t.j41(17,"button",0),t.bIt("click",function(){return a.registerChatProtocol()}),t.EFF(18,"Register Chat Protocol"),t.k0s(),t.EFF(19,"\n\xa0\n"),t.j41(20,"button",0),t.bIt("click",function(){return a.createChatRecord()}),t.EFF(21,"Create Chat Record"),t.k0s(),t.j41(22,"mat-list",1),t.Z7z(23,D,20,12,"div",2,t.fX1),t.k0s(),t.j41(25,"mat-tree",3),t.DNE(26,E,5,3,"mat-tree-node",4)(27,x,7,5,"mat-tree-node",5),t.k0s()),2&o&&(t.R7$(23),t.Dyx(a.records()),t.R7$(2),t.Y8G("dataSource",a.dataSource)("treeControl",a.treeControl),t.R7$(2),t.Y8G("matTreeNodeDefWhen",a.hasChild))},dependencies:[S.Wk,v.MD,u.RI,h.m_,h.An,g.Hl,g.$z,g.iY,F.Fg,F.jt,F.yE,p.jH,p.yI,p.yF,p.pO,p.lQ,p.d6,w],styles:[".record-line[_ngcontent-%COMP%]{border-bottom:1px solid #e0e0e0}.example-tab-icon[_ngcontent-%COMP%]{margin-right:8px}.type-icon[_ngcontent-%COMP%]{color:#757575;margin-right:5px}"]})}return n})();const j={protocol:"https://schema.ariton.app/profile/entry",published:!0,types:{post:{schema:"https://social-media.xyz/schemas/postSchema",dataFormats:["text/plain"]},reply:{schema:"https://social-media.xyz/schemas/replySchema",dataFormats:["text/plain"]},image:{dataFormats:["image/jpeg"]},caption:{schema:"https://social-media.xyz/schemas/captionSchema",dataFormats:["text/plain"]}},structure:{post:{$actions:[{who:"anyone",can:["create","read"]}],reply:{$actions:[{who:"recipient",of:"post",can:["create"]},{who:"author",of:"post",can:["create"]}]}},image:{$actions:[{who:"anyone",can:["create","read"]}],caption:{$actions:[{who:"anyone",can:["read"]},{who:"author",of:"image",can:["create"]}]},reply:{$actions:[{who:"author",of:"image",can:["read"]},{who:"recipient",of:"image",can:["create"]}]}}}},C={protocol:"https://social-media.xyz",published:!0,types:{post:{schema:"https://social-media.xyz/schemas/postSchema",dataFormats:["text/plain"]},reply:{schema:"https://social-media.xyz/schemas/replySchema",dataFormats:["text/plain"]},image:{dataFormats:["image/jpeg"]},caption:{schema:"https://social-media.xyz/schemas/captionSchema",dataFormats:["text/plain"]}},structure:{post:{$actions:[{who:"anyone",can:["create","read"]}],reply:{$actions:[{who:"recipient",of:"post",can:["create"]},{who:"author",of:"post",can:["create"]}]}},image:{$actions:[{who:"anyone",can:["create","read"]}],caption:{$actions:[{who:"anyone",can:["read"]},{who:"author",of:"image",can:["create"]}]},reply:{$actions:[{who:"author",of:"image",can:["read"]},{who:"recipient",of:"image",can:["create"]}]}}}},R={protocol:"http://anyone-collaborate-protocol.xyz",published:!0,types:{doc:{}},structure:{doc:{$actions:[{who:"anyone",can:["read","co-update","co-delete"]}]}}},z={protocol:"http://chat-protocol.xyz",published:!0,types:{thread:{schema:"thread",dataFormats:["application/json"]},message:{schema:"message",dataFormats:["application/json"]}},structure:{thread:{$actions:[{who:"anyone",can:["create","update"]},{who:"author",of:"thread",can:["read"]},{who:"recipient",of:"thread",can:["read"]}],message:{$actions:[{who:"anyone",can:["create","update"]},{who:"author",of:"thread/message",can:["read"]},{who:"recipient",of:"thread/message",can:["read"]}]}}}},M={protocol:"http://free-for-all-protocol.xyz",published:!0,types:{post:{schema:"eph",dataFormats:["application/json"]},attachment:{}},structure:{post:{$actions:[{who:"anyone",can:["create","update","delete","prune","read","co-delete","co-prune"]}],attachment:{$actions:[{who:"anyone",can:["create","update","delete","read","co-delete"]}]}}}},I={protocol:"http://minimal.xyz",published:!1,types:{foo:{}},structure:{foo:{}}},A={protocol:"http://message-protocol.xyz",published:!0,types:{message:{schema:"http://message.me",dataFormats:["text/plain"]},attachment:{}},structure:{message:{$actions:[{who:"anyone",can:["create","update"]}],attachment:{$actions:[{who:"anyone",can:["create","update"]}]}}}};var d=i(9454),N=i(25596);function B(n,l){if(1&n&&(t.j41(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),t.EFF(3),t.k0s(),t.j41(4,"mat-panel-description"),t.EFF(5),t.j41(6,"mat-icon"),t.EFF(7,"format_list_bulleted"),t.k0s()()(),t.j41(8,"h3"),t.EFF(9,"Types"),t.k0s(),t.nrm(10,"div",4),t.j41(11,"h3"),t.EFF(12,"Structure"),t.k0s(),t.nrm(13,"div",4),t.j41(14,"mat-action-row")(15,"button",5),t.EFF(16,"Previous"),t.k0s(),t.j41(17,"button",5),t.EFF(18,"End"),t.k0s()()()),2&n){const e=l.$implicit,o=t.XpG();t.R7$(3),t.SpI(" ",e.definition.protocol," "),t.R7$(2),t.SpI(" Published: ",e.definition.published," "),t.R7$(5),t.Y8G("innerHTML",o.getFormattedTypes(e.definition.types),t.npT),t.R7$(3),t.Y8G("innerHTML",o.getFormattedStructure(e.definition.structure),t.npT)}}let O=(()=>{class n{constructor(){this.accordion=t.ebz.required(d.BS),this.identityService=(0,t.WQX)(k.K),this.protocols=(0,t.vPA)([]),(0,t.QZP)(()=>{this.identityService.initialized()&&this.load()})}ngOnInit(){return(0,c.A)(function*(){})()}load(){var e=this;return(0,c.A)(function*(){const{protocols:o}=yield e.identityService.web5.dwn.protocols.query({message:{}});console.log(o),e.protocols.set(o)})()}getFormattedTypes(e){let o="";for(const a in e)e.hasOwnProperty(a)&&(o+=`<div class="type">\n                            <strong>${a}</strong>`,e[a].schema&&(o+=`<div>Schema: <a href="${e[a].schema}">${e[a].schema}</a></div>`),e[a].dataFormats&&(o+=`<div>Data Formats: ${e[a].dataFormats.join(", ")}</div>`),o+="</div>");return o}getFormattedStructure(e){let o="";const a=s=>s.map(m=>`<div class="action">\n                        <strong>Can:</strong> ${m.can.join(", ")}<br>\n                        <strong>Who:</strong> ${m.who}<br>\n                        ${m.of?`<strong>Of:</strong> ${m.of}<br>`:""}\n                    </div>`).join(""),r=(s,m=0)=>{let f="";for(const y in s)s.hasOwnProperty(y)&&(f+=`<div class="structure" style="margin-left: ${20*m}px;">\n                                <strong>${y}</strong>`,f+="$actions"===y?a(s[y]):r(s[y],m+1),f+="</div>");return f};return o=r(e),o}installProfileProtocol(){var e=this;return(0,c.A)(function*(){const{protocol:o,status:a}=yield e.identityService.web5.dwn.protocols.configure({message:{definition:j}});console.log("Install status:",a),console.log("Protocol:",o)})()}installSocialProtocol(){var e=this;return(0,c.A)(function*(){const{protocol:o,status:a}=yield e.identityService.web5.dwn.protocols.configure({message:{definition:C}});console.log("Install status:",a),console.log("Protocol:",o)})()}installProtocols(){var e=this;return(0,c.A)(function*(){const o=[j,C,R,z,M,I,A];for(const a of o){const{protocol:r,status:s}=yield e.identityService.web5.dwn.protocols.configure({message:{definition:a}});console.log("Install status:",s),console.log("Protocol:",r)}yield e.load()})()}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-data-protocols"]],viewQuery:function(o,a){1&o&&t.wEZ(a.accordion,d.BS,5),2&o&&t.NyB()},standalone:!0,features:[t.aNF],decls:15,vars:0,consts:[[1,"action-buttons"],["mat-flat-button","",3,"click"],["mat-button","",3,"click"],["multi","",1,"example-headers-align"],[3,"innerHTML"],["mat-button",""]],template:function(o,a){1&o&&(t.j41(0,"h2"),t.EFF(1,"Data Protocol Management"),t.k0s(),t.j41(2,"p"),t.EFF(3," Ariton stores your data on Decentralized Web Nodes and on your DWNs you have protocols that controls the behavior of your data. Here you can manage your protocols.\n"),t.k0s(),t.j41(4,"div",0)(5,"button",1),t.bIt("click",function(){return a.installProtocols()}),t.EFF(6,"Install Protocols"),t.k0s()(),t.j41(7,"div",0)(8,"button",2),t.bIt("click",function(){return a.accordion().openAll()}),t.EFF(9,"Expand All"),t.k0s(),t.j41(10,"button",2),t.bIt("click",function(){return a.accordion().closeAll()}),t.EFF(11,"Collapse All"),t.k0s()(),t.j41(12,"mat-accordion",3),t.Z7z(13,B,19,4,"mat-expansion-panel",null,t.fX1),t.k0s()),2&o&&(t.R7$(13),t.Dyx(a.protocols()))},dependencies:[N.Hu,g.Hl,g.$z,F.Fg,v.MD,d.MY,d.BS,d.GK,d.c0,d.Z2,d.WN,d.Q6,h.m_,h.An],styles:[".action-buttons[_ngcontent-%COMP%]{margin-bottom:.5em}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1em;margin-bottom:1em}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.example-headers-align[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%] + .mat-mdc-form-field[_ngcontent-%COMP%]{margin-left:8px}"]})}return n})();function L(n,l){1&n&&(t.j41(0,"mat-icon",1),t.EFF(1,"source"),t.k0s(),t.EFF(2," Your Data "))}function W(n,l){1&n&&(t.j41(0,"mat-icon",1),t.EFF(1,"folder"),t.k0s(),t.EFF(2," Public Data "))}function G(n,l){1&n&&(t.j41(0,"mat-icon",1),t.EFF(1,"format_list_bulleted"),t.k0s(),t.EFF(2," Protocols "))}let H=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-data"]],standalone:!0,features:[t.aNF],decls:11,vars:0,consts:[["mat-tab-label",""],[1,"example-tab-icon"]],template:function(o,a){1&o&&(t.j41(0,"mat-tab-group")(1,"mat-tab"),t.DNE(2,L,3,0,"ng-template",0),t.nrm(3,"app-data-management"),t.k0s(),t.j41(4,"mat-tab"),t.DNE(5,W,3,0,"ng-template",0),t.j41(6,"p"),t.EFF(7,'Not implemented yet. See "Your Data" tab.'),t.k0s()(),t.j41(8,"mat-tab"),t.DNE(9,G,3,0,"ng-template",0),t.nrm(10,"app-data-protocols"),t.k0s()())},dependencies:[u.RI,u.ES,u.mq,u.T8,h.m_,h.An,T,O],styles:[".example-tab-icon[_ngcontent-%COMP%]{margin-right:8px}"]})}return n})()}}]);