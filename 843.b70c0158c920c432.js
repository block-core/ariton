"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[843],{2843:($,g,i)=>{i.r(g),i.d(g,{DataComponent:()=>T});var p=i(99213),m=i(96850),c=i(10467),e=i(93953),u=i(88834),h=i(3902),f=i(60177),b=i(18498),s=i(47358),F=i(64109);const v=[{name:"components",type:"folder",children:[{name:"src",type:"folder",children:[{name:"cdk",type:"folder",children:[{name:"package.json",type:"file"},{name:"BUILD.bazel",type:"file"}]},{name:"material",type:"folder"}]}]},{name:"angular",type:"folder",children:[{name:"packages",type:"folder",children:[{name:".travis.yml",type:"file"},{name:"firebase.json",type:"file"}]},{name:"package.json",type:"file"}]},{name:"angularjs",type:"folder",children:[{name:"gulpfile.js",type:"file"},{name:"README.md",type:"file"}]}];let y=(()=>{class n{transform(t,a){if(0===t)return"0 Bytes";const d=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,d)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB","PB"][d]}static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275pipe=e.EJ8({name:"size",type:n,pure:!0,standalone:!0})}return n})();var k=i(67402);const C=n=>["view",n];function j(n,l){if(1&n&&(e.j41(0,"div",2)(1,"span",6),e.EFF(2,"ID: "),e.j41(3,"a",7),e.EFF(4),e.k0s()(),e.nrm(5,"br"),e.j41(6,"span"),e.EFF(7),e.nrm(8,"br"),e.EFF(9),e.nrm(10,"br"),e.EFF(11),e.nI1(12,"size"),e.nrm(13,"br"),e.EFF(14),e.nrm(15,"br"),e.EFF(16),e.nrm(17,"br"),e.EFF(18),e.nrm(19,"br"),e.k0s()()),2&n){const t=l.$implicit;e.R7$(3),e.Y8G("routerLink",e.eq3(10,C,t.id)),e.R7$(),e.JRh(t.id),e.R7$(3),e.SpI(" Format: ",t.dataFormat,""),e.R7$(2),e.SpI(" Schema: ",t.schema,""),e.R7$(2),e.SpI(" Size: ",e.bMT(12,8,t.dataSize),""),e.R7$(3),e.SpI(" Created: ",t.dateCreated,""),e.R7$(2),e.SpI(" Published: ",t.published,""),e.R7$(2),e.SpI(" Date Published: ",t.datePublished,"")}}function S(n,l){if(1&n&&(e.j41(0,"mat-tree-node",8),e.nrm(1,"button",9),e.j41(2,"mat-icon",10),e.EFF(3),e.k0s(),e.EFF(4),e.k0s()),2&n){const t=l.$implicit;e.R7$(2),e.BMQ("aria-label",t.type+"icon"),e.R7$(),e.SpI(" ","file"===t.type?"description":"folder"," "),e.R7$(),e.SpI(" ",t.name," ")}}function R(n,l){if(1&n&&(e.j41(0,"mat-tree-node",11)(1,"button",12)(2,"mat-icon",13),e.EFF(3),e.k0s()(),e.j41(4,"mat-icon",10),e.EFF(5),e.k0s(),e.EFF(6),e.k0s()),2&n){const t=l.$implicit,a=e.XpG();e.R7$(),e.BMQ("aria-label","Toggle "+t.name),e.R7$(2),e.SpI(" ",a.treeControl.isExpanded(t)?"expand_more":"chevron_right"," "),e.R7$(),e.BMQ("aria-label",t.type+"icon"),e.R7$(),e.SpI(" ","file"===t.type?"description":"folder"," "),e.R7$(),e.SpI(" ",t.name," ")}}let w=(()=>{class n{constructor(t){this.identityService=t,this.record=(0,e.vPA)(null),this.records=(0,e.vPA)([]),(0,e.QZP)(()=>{this.identityService.initialized()&&this.load()}),this.treeFlattener=new s.yj(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new F.XW(this.getLevel,this.isExpandable),this.dataSource=new s.zw(this.treeControl,this.treeFlattener),this.dataSource.data=v}transformer(t,a){return{name:t.name,type:t.type,level:a,expandable:!!t.children}}getLevel(t){return t.level}isExpandable(t){return t.expandable}hasChild(t,a){return a.expandable}getChildren(t){return t.children}load(){var t=this;return(0,c.A)(function*(){const{protocols:a}=yield t.identityService.web5.dwn.protocols.query({message:{filter:{protocol:"https://social-media.xyz"}}});console.log(a);var{records:r}=yield t.identityService.web5.dwn.records.query({message:{filter:{protocol:"https://social-media.xyz"}}});console.log("All records:"),console.log(r),r&&t.records.set(r);var{records:r}=yield t.identityService.web5.dwn.records.query({from:t.identityService.did,message:{filter:{schema:"https://schema.org/Playlist",dataFormat:"application/json"}}});console.log(r);const o=yield t.identityService.web5.dwn.records.query({message:{filter:{parentId:"bafyreianzpmhbgcgam5mys722vnsiuwn7y4ek6kjeyjptttquasw4hge2m"}}});console.log(o.records);var{records:r}=yield t.identityService.web5.dwn.records.query({message:{filter:{protocol:"https://playlist.org/protocol",protocolPath:"playlist/video"}}});console.log(r)})()}registerChatProtocol(){var t=this;return(0,c.A)(function*(){const{protocol:o,status:r}=yield t.identityService.web5.dwn.protocols.configure({message:{definition:{protocol:"https://social-media.xyz",published:!0,types:{post:{schema:"https://social-media.xyz/schemas/postSchema",dataFormats:["text/plain"]},reply:{schema:"https://social-media.xyz/schemas/replySchema",dataFormats:["text/plain"]},image:{dataFormats:["image/jpeg"]},caption:{schema:"https://social-media.xyz/schemas/captionSchema",dataFormats:["text/plain"]}},structure:{post:{$actions:[{who:"anyone",can:["create","read"]}],reply:{$actions:[{who:"recipient",of:"post",can:["create"]},{who:"author",of:"post",can:["create"]}]}},image:{$actions:[{who:"anyone",can:["create","read"]}],caption:{$actions:[{who:"anyone",can:["read"]},{who:"author",of:"image",can:["create"]}]},reply:{$actions:[{who:"author",of:"image",can:["read"]},{who:"recipient",of:"image",can:["create"]}]}}}}}});if(202===r.code&&console.log("Protocol accepted"),console.log(o),console.log(r),o){const{status:d}=yield o.send("did:dht:83azq4wzkghcacu4mt57ne8d5gumnytxxjkpmn5h1shwkafzi5so");202===d.code?console.log("Protocol sent to remote DWNs"):console.error(`Failed to send protocol to remote DWNs. Code: ${d.detail}, Detail: ${d.detail}`)}})()}createChatRecord(){var t=this;return(0,c.A)(function*(){const{record:a,status:o}=yield t.identityService.web5.dwn.records.create({data:"Hey this is my first post!",message:{recipient:"did:dht:83azq4wzkghcacu4mt57ne8d5gumnytxxjkpmn5h1shwkafzi5so",schema:"https://social-media.xyz/schemas/postSchema",dataFormat:"text/plain",protocol:"https://social-media.xyz",protocolPath:"post"}});202===o.code?console.log("Record created successfully!"):console.error(`Failed to create record. Code: ${o.detail}, Detail: ${o.detail}`),console.log(a)})()}createRegistry(){var t=this;return(0,c.A)(function*(){var{record:a}=yield t.identityService.web5.dwn.records.create({data:{name:"Liberstad CC",description:"Crypto Company Registry",tags:["registry","did","liberstad"]},message:{dataFormat:"application/json",schema:"https://schema.ariton.app/registry",published:!0}});if(console.log(a),a){const{status:o}=yield a.send("did:dht:r9pc5egfoa6isk3ueocrbmt7wigkjdnrfjd5dj35crbo5oesueuy");console.log(o)}var{record:a}=yield t.identityService.web5.dwn.records.create({data:{name:"Blockchain Social Network (BSN)",description:"Stellar blockchain data registry",tags:["registry","did","stellar","mtl","montelibero"]},message:{dataFormat:"application/json",schema:"https://schema.ariton.app/registry",published:!0}});if(console.log(a),a){const{status:o}=yield a.send("did:dht:r9pc5egfoa6isk3ueocrbmt7wigkjdnrfjd5dj35crbo5oesueuy");console.log(o)}})()}readRegistries(){var t=this;return(0,c.A)(function*(){var{records:a}=yield t.identityService.web5.dwn.records.query({from:"did:dht:r9pc5egfoa6isk3ueocrbmt7wigkjdnrfjd5dj35crbo5oesueuy",message:{filter:{schema:"https://schema.ariton.app/registry"}}});console.log(a),a&&t.records.set(a)})()}createRecord(t){var a=this;return(0,c.A)(function*(){var{record:o}=yield a.identityService.web5.dwn.records.create({data:{content:"Hello Web5 child!",description:"Keep Building child!",tags:["web5","ariton","did"]},message:{dataFormat:"application/json",published:t,protocolPath:"playlist/video",parentContextId:"bafyreicvvzlgrovmwhoi6snnsiuvgs5eucy4f766vkfgb6sfcqveth5nhy"}});console.log(o)})()}updateRecord(){return(0,c.A)(function*(){})()}static#e=this.\u0275fac=function(a){return new(a||n)(e.rXU(k.K))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-data-management"]],standalone:!0,features:[e.Jv_([y]),e.aNF],decls:28,vars:3,consts:[["mat-flat-button","",3,"click"],[1,"example-list-wrapping"],[1,"record-line"],[3,"dataSource","treeControl"],["matTreeNodeToggle","","matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matListItemTitle",""],[3,"routerLink"],["matTreeNodeToggle","","matTreeNodePadding",""],["mat-icon-button","","disabled",""],[1,"type-icon"],["matTreeNodePadding",""],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(a,o){1&a&&(e.nrm(0,"br"),e.j41(1,"p")(2,"button",0),e.bIt("click",function(){return o.createRegistry()}),e.EFF(3,"Create Registry in Public Node"),e.k0s(),e.EFF(4,"\xa0 "),e.j41(5,"button",0),e.bIt("click",function(){return o.readRegistries()}),e.EFF(6,"Read Registries in Public Node"),e.k0s()(),e.nrm(7,"br"),e.j41(8,"button",0),e.bIt("click",function(){return o.load()}),e.EFF(9,"Load Data"),e.k0s(),e.EFF(10,"\n\xa0\n"),e.j41(11,"button",0),e.bIt("click",function(){return o.createRecord(!1)}),e.EFF(12,"Create Private Record"),e.k0s(),e.EFF(13,"\n\xa0\n"),e.j41(14,"button",0),e.bIt("click",function(){return o.createRecord(!0)}),e.EFF(15,"Create Public Record"),e.k0s(),e.EFF(16,"\n\xa0\n"),e.j41(17,"button",0),e.bIt("click",function(){return o.registerChatProtocol()}),e.EFF(18,"Register Chat Protocol"),e.k0s(),e.EFF(19,"\n\xa0\n"),e.j41(20,"button",0),e.bIt("click",function(){return o.createChatRecord()}),e.EFF(21,"Create Chat Record"),e.k0s(),e.j41(22,"mat-list",1),e.Z7z(23,j,20,12,"div",2,e.fX1),e.k0s(),e.j41(25,"mat-tree",3),e.DNE(26,S,5,3,"mat-tree-node",4)(27,R,7,5,"mat-tree-node",5),e.k0s()),2&a&&(e.R7$(23),e.Dyx(o.records()),e.R7$(2),e.Y8G("dataSource",o.dataSource)("treeControl",o.treeControl),e.R7$(2),e.Y8G("matTreeNodeDefWhen",o.hasChild))},dependencies:[b.Wk,f.MD,m.RI,p.m_,p.An,u.Hl,u.$z,u.iY,h.Fg,h.jt,h.yE,s.jH,s.yI,s.yF,s.pO,s.lQ,s.d6,y],styles:[".record-line[_ngcontent-%COMP%]{border-bottom:1px solid #e0e0e0}.example-tab-icon[_ngcontent-%COMP%]{margin-right:8px}.type-icon[_ngcontent-%COMP%]{color:#757575;margin-right:5px}"]})}return n})();function E(n,l){1&n&&(e.j41(0,"mat-icon",1),e.EFF(1,"source"),e.k0s(),e.EFF(2," Your Data "))}function D(n,l){1&n&&(e.j41(0,"mat-icon",1),e.EFF(1,"folder"),e.k0s(),e.EFF(2," Public Data "))}let T=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-data"]],standalone:!0,features:[e.aNF],decls:8,vars:0,consts:[["mat-tab-label",""],[1,"example-tab-icon"]],template:function(a,o){1&a&&(e.j41(0,"mat-tab-group")(1,"mat-tab"),e.DNE(2,E,3,0,"ng-template",0),e.nrm(3,"app-data-management"),e.k0s(),e.j41(4,"mat-tab"),e.DNE(5,D,3,0,"ng-template",0),e.j41(6,"p"),e.EFF(7,'Not implemented yet. See "Your Data" tab.'),e.k0s()()())},dependencies:[m.RI,m.ES,m.mq,m.T8,p.m_,p.An,w],styles:[".example-tab-icon[_ngcontent-%COMP%]{margin-right:8px}"]})}return n})()}}]);