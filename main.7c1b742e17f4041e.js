(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{52191:(Fe,z,_)=>{var p=_(40573);const E="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,k=()=>E.now(),x=A=>A===1/0||(A=>A&&A===Math.floor(A)&&A>0&&isFinite(A))(A);class R{constructor({max:O=1/0,ttl:F,updateAgeOnGet:L=!1,checkAgeOnGet:I=!1,noUpdateTTL:Z=!1,dispose:j,noDisposeOnSet:G=!1}={}){if(this.expirations=Object.create(null),this.data=new Map,this.expirationMap=new Map,void 0!==F&&!x(F))throw new TypeError("ttl must be positive integer or Infinity if set");if(!x(O))throw new TypeError("max must be positive integer or Infinity");if(this.ttl=F,this.max=O,this.updateAgeOnGet=!!L,this.checkAgeOnGet=!!I,this.noUpdateTTL=!!Z,this.noDisposeOnSet=!!G,void 0!==j){if("function"!=typeof j)throw new TypeError("dispose must be function if set");this.dispose=j}this.timer=void 0,this.timerExpiration=void 0}setTimer(O,F){if(this.timerExpiration<O)return;this.timer&&clearTimeout(this.timer);const L=setTimeout(()=>{this.timer=void 0,this.timerExpiration=void 0,this.purgeStale();for(const I in this.expirations){this.setTimer(I,I-k());break}},F);L.unref&&L.unref(),this.timerExpiration=O,this.timer=L}cancelTimer(){this.timer&&(clearTimeout(this.timer),this.timerExpiration=void 0,this.timer=void 0)}cancelTimers(){return p.emitWarning('TTLCache.cancelTimers has been renamed to TTLCache.cancelTimer (no "s"), and will be removed in the next major version update'),this.cancelTimer()}clear(){const O=this.dispose!==R.prototype.dispose?[...this]:[];this.data.clear(),this.expirationMap.clear(),this.cancelTimer(),this.expirations=Object.create(null);for(const[F,L]of O)this.dispose(L,F,"delete")}setTTL(O,F=this.ttl){const L=this.expirationMap.get(O);if(void 0!==L){const I=this.expirations[L];!I||I.length<=1?delete this.expirations[L]:this.expirations[L]=I.filter(Z=>Z!==O)}if(F!==1/0){const I=Math.floor(k()+F);this.expirationMap.set(O,I),this.expirations[I]||(this.expirations[I]=[],this.setTimer(I,F)),this.expirations[I].push(O)}else this.expirationMap.set(O,1/0)}set(O,F,{ttl:L=this.ttl,noUpdateTTL:I=this.noUpdateTTL,noDisposeOnSet:Z=this.noDisposeOnSet}={}){if(!x(L))throw new TypeError("ttl must be positive integer or Infinity");if(this.expirationMap.has(O)){I||this.setTTL(O,L);const j=this.data.get(O);j!==F&&(this.data.set(O,F),Z||this.dispose(j,O,"set"))}else this.setTTL(O,L),this.data.set(O,F);for(;this.size>this.max;)this.purgeToCapacity();return this}has(O){return this.data.has(O)}getRemainingTTL(O){const F=this.expirationMap.get(O);return F===1/0?F:void 0!==F?Math.max(0,Math.ceil(F-k())):0}get(O,{updateAgeOnGet:F=this.updateAgeOnGet,ttl:L=this.ttl,checkAgeOnGet:I=this.checkAgeOnGet}={}){const Z=this.data.get(O);if(!I||0!==this.getRemainingTTL(O))return F&&this.setTTL(O,L),Z;this.delete(O)}dispose(O,F){}delete(O){const F=this.expirationMap.get(O);if(void 0!==F){const L=this.data.get(O);this.data.delete(O),this.expirationMap.delete(O);const I=this.expirations[F];return I&&(I.length<=1?delete this.expirations[F]:this.expirations[F]=I.filter(Z=>Z!==O)),this.dispose(L,O,"delete"),0===this.size&&this.cancelTimer(),!0}return!1}purgeToCapacity(){for(const O in this.expirations){const F=this.expirations[O];if(!(this.size-F.length>=this.max)){const L=this.size-this.max,I=[];for(const Z of F.splice(0,L))I.push([Z,this.data.get(Z)]),this.data.delete(Z),this.expirationMap.delete(Z);for(const[Z,j]of I)this.dispose(j,Z,"evict");return}{delete this.expirations[O];const L=[];for(const I of F)L.push([I,this.data.get(I)]),this.data.delete(I),this.expirationMap.delete(I);for(const[I,Z]of L)this.dispose(Z,I,"evict")}}}get size(){return this.data.size}purgeStale(){const O=Math.ceil(k());for(const F in this.expirations){if("Infinity"===F||F>O)return;const L=[...this.expirations[F]||[]],I=[];delete this.expirations[F];for(const Z of L)I.push([Z,this.data.get(Z)]),this.data.delete(Z),this.expirationMap.delete(Z);for(const[Z,j]of I)this.dispose(j,Z,"stale")}0===this.size&&this.cancelTimer()}*entries(){for(const O in this.expirations)for(const F of this.expirations[O])yield[F,this.data.get(F)]}*keys(){for(const O in this.expirations)for(const F of this.expirations[O])yield F}*values(){for(const O in this.expirations)for(const F of this.expirations[O])yield this.data.get(F)}[Symbol.iterator](){return this.entries()}}Fe.exports=R},33065:(Fe,z,_)=>{"use strict";_.r(z),_.d(z,{RestoreComponent:()=>re});var p=_(10467),E=_(93953),k=_(89417),H=_(88834),x=_(25596),R=_(99213),A=_(99631),O=_(5951),F=_(82798),L=_(34635),I=_(60132),Z=_(31439),j=_(53719);function G(te,J){1&te&&(E.j41(0,"mat-error"),E.EFF(1,"Recovery phrase is "),E.j41(2,"strong"),E.EFF(3,"required"),E.k0s()())}let re=(()=>{class te{constructor(){this.fb=(0,E.WQX)(k.ok),this.crypto=(0,E.WQX)(I.j),this.app=(0,E.WQX)(Z.d),this.identity=(0,E.WQX)(L.K),this.addressForm=this.fb.group({recoveryPhrase:[null,k.k0.required]})}onSubmit(){var Y=this;return(0,p.A)(function*(){console.log(Y.addressForm.controls.recoveryPhrase.value),Y.addressForm.disable(),Y.app.loading.set(!0);let oe=yield Y.crypto.createPassword();const ae={did:"",recoveryPhrase:Y.addressForm.controls.recoveryPhrase.value,password:oe,passwordHash:""};oe="123";const se=yield Y.identity.restore(oe,Y.addressForm.controls.recoveryPhrase.value);if(console.log("RESTORE Result: ",se),!se)return alert("Failed to restore account."),void Y.addressForm.enable();ae.did=se.did,Y.app.addAccount(ae),Y.app.initialized.set(!0),Y.app.loading.set(!1)})()}static#e=this.\u0275fac=function(oe){return new(oe||te)};static#t=this.\u0275cmp=E.VBU({type:te,selectors:[["app-restore"]],standalone:!0,features:[E.aNF],decls:20,vars:3,consts:[["recoveryPhrase",""],["novalidate","",3,"ngSubmit","formGroup"],[1,"shipping-card"],[1,"full-width"],["matInput","","placeholder","Secret Recovery Phrase","formControlName","recoveryPhrase"],["align","end"],["mat-flat-button","","color","primary","type","submit",3,"disabled"]],template:function(oe,ae){if(1&oe){const se=E.RV6();E.j41(0,"h1"),E.EFF(1,"Restore your account"),E.k0s(),E.j41(2,"form",1),E.bIt("ngSubmit",function(){return E.eBV(se),E.Njj(ae.onSubmit())}),E.j41(3,"mat-card",2)(4,"mat-card-header")(5,"mat-card-title"),E.EFF(6,"Secret Recovery Phrase"),E.k0s(),E.j41(7,"mat-card-subtitle"),E.EFF(8,"Enter your 12 words backup"),E.k0s()(),E.j41(9,"mat-card-content"),E.nrm(10,"br"),E.j41(11,"mat-form-field",3)(12,"mat-label"),E.EFF(13,"Secret Recovery Phrase"),E.k0s(),E.nrm(14,"textarea",4,0),E.DNE(16,G,4,0,"mat-error"),E.k0s()(),E.j41(17,"mat-card-actions",5)(18,"button",6),E.EFF(19,"Restore"),E.k0s()()()()}2&oe&&(E.R7$(2),E.Y8G("formGroup",ae.addressForm),E.R7$(14),E.vxM(ae.addressForm.controls.recoveryPhrase.hasError("required")?16:-1),E.R7$(2),E.Y8G("disabled",ae.app.loading()))},dependencies:[A.fS,A.fg,j.rl,j.nJ,j.TL,H.Hl,H.$z,F.Ve,R.m_,O.Wk,x.Hu,x.RN,x.YY,x.m2,x.MM,x.Lc,x.dh,k.X1,k.qT,k.me,k.BC,k.cb,k.j4,k.JD],styles:[".shipping-card[_ngcontent-%COMP%]{min-width:120px;margin:20px auto}.mat-radio-button[_ngcontent-%COMP%]{display:block;margin:5px 0}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col[_ngcontent-%COMP%]{flex:1;margin-right:20px}.col[_ngcontent-%COMP%]:last-child{margin-right:0}.link-input[_ngcontent-%COMP%]{display:flex;align-items:baseline}.link-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.4em}"]})}return te})()},31439:(Fe,z,_)=>{"use strict";_.d(z,{d:()=>de,f:()=>se});var p=_(10467),E=_(93953),k=_(43794),H=_(60132),x=_(34635),A=_.t(JSON.parse('{"name":"ariton","version":"0.0.1","scripts":{"ng":"ng","start":"ng serve","build":"ng build","watch":"ng build --watch --configuration development","test":"ng test","deploy":"ng deploy app","i18n":"ng extract-i18n --format=json --output-path src/locale"},"repository":{"type":"git","url":"git+https://github.com/block-core/ariton.git"},"private":true,"dependencies":{"@angular-builders/custom-webpack":"^18.0.0","@angular/animations":"^18.1.3","@angular/cdk":"^18.1.3","@angular/common":"^18.1.3","@angular/compiler":"^18.1.3","@angular/core":"^18.1.3","@angular/forms":"^18.1.3","@angular/material":"^18.1.3","@angular/platform-browser":"^18.1.3","@angular/platform-browser-dynamic":"^18.1.3","@angular/router":"^18.1.3","@angular/service-worker":"^18.1.3","@scure/bip39":"^1.3.0","@web5/agent":"^0.4.1","@web5/api":"^0.10.0","@web5/credentials":"^1.0.4","@web5/crypto":"^1.0.2","@web5/dids":"^1.1.2","@web5/identity-agent":"^0.4.1","cropperjs":"^1.6.2","crypto-browserify":"^3.12.0","process":"^0.11.10","qrcode":"^1.5.3","rxjs":"~7.8.1","stream":"^0.0.3","stream-browserify":"^3.0.0","tslib":"^2.6.3","zone.js":"~0.14.8"},"devDependencies":{"@angular-devkit/build-angular":"^18.1.3","@angular/cli":"^18.1.3","@angular/compiler-cli":"^18.1.3","@angular/localize":"^18.1.3","@types/jasmine":"~5.1.4","@types/qrcode":"^1.5.5","angular-cli-ghpages":"^2.0.1","jasmine-core":"~5.2.0","karma":"~6.4.4","karma-chrome-launcher":"~3.2.0","karma-coverage":"~2.2.1","karma-jasmine":"~5.1.0","karma-jasmine-html-reporter":"~2.1.0","typescript":"~5.5.4"}}'),2),O=_(4053),F=_(77949),L=_(45189),I=_(49245),Z=_(62060),j=_(67136),G=_(1639),re=_(69371),te=_(2685),J=_(69314),Y=_(97372);let oe=(()=>{class le{constructor(){this.identityService=(0,E.WQX)(x.K)}register(){var xe=this;return(0,p.A)(function*(){const Ce=[J.Q,O.Q,F.Q,L.Q,I.Q,Z.Q,j.Q,G.Q,re.Q,te.Q,Y.Q];for(const C of Ce){const{protocol:a,status:u}=yield xe.identityService.web5.dwn.protocols.configure({message:{definition:C}});console.log("Install status:",u),console.log("Protocol:",a)}})()}static#e=this.\u0275fac=function(Ce){return new(Ce||le)};static#t=this.\u0275prov=E.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();var ae=_(39434),se=function(le){return le[le.Initial=0]="Initial",le[le.NewUser=1]="NewUser",le[le.Locked=2]="Locked",le[le.Unlocked=3]="Unlocked",le[le.Error=4]="Error",le}(se||{});let de=(()=>{class le{constructor(){var xe=this;this.onboardingState=(0,E.vPA)(se.Initial),this.initialized=(0,E.vPA)(!1),this.loading=(0,E.vPA)(!1),this.storage=(0,E.WQX)(k.n),this.crypto=(0,E.WQX)(H.j),this.identity=(0,E.WQX)(x.K),this.profile=(0,E.WQX)(ae.p),this.protocol=(0,E.WQX)(oe),this.state=(0,E.vPA)({loginAction:"/dashboard",selectedAccount:"",hidden:{}}),this.account=(0,E.vPA)({did:"",recoveryPhrase:"",password:"",passwordHash:""}),this.accounts=(0,E.vPA)([]),this.params=(0,E.vPA)({}),this.package=A,console.log(`Ariton v${this.package.version} initialized.`),this.dependencies=Object.entries(this.package.dependencies).map(([Ce,C])=>({name:Ce,version:C})),(0,E.QZP)((0,p.A)(function*(){xe.identity.locked()||(yield xe.onUnlocked())}))}saveAccounts(){this.storage.save("accounts",this.accounts())}saveState(){this.storage.save("state",this.state())}hasStateBeenSet(){return!!this.storage.read("state")}addAccount(xe){this.accounts().push(xe),this.saveAccounts(),this.state().selectedAccount=xe.did,this.saveState()}createAccount(){var xe=this;return(0,p.A)(function*(){xe.storage.save("state",{selectedAccount:"",hidden:{},loginAction:"/introduction"}),yield xe.initialize()})()}initialize(){var xe=this;return(0,p.A)(function*(){xe.loading.set(!0),console.log("Initializing Ariton...");let Ce=xe.storage.read("state");if(!Ce)return xe.onboardingState.set(se.NewUser),void xe.loading.set(!1);let a,C=xe.storage.read("accounts");if(C){const u=C.find(y=>y.did===Ce.selectedAccount);xe.accounts.set(C),xe.account?.set(u),u.password?(a=yield xe.identity.connect(u.did,u.password),a?(xe.onboardingState.set(se.Unlocked),xe.identity.locked.set(!1)):xe.loading.set(!1)):(xe.identity.locked.set(!0),xe.onboardingState.set(se.Locked))}else{console.log("No accounts found");const u=yield xe.crypto.createPassword();if(a=yield xe.identity.initialConnect(u),void 0===a)return xe.storage.remove("state"),xe.onboardingState.set(se.Error),void xe.loading.set(!1);console.log(a),console.log("Initialize connect finished."),C=[{did:a.did,recoveryPhrase:a.recoveryPhrase,password:u}],xe.storage.save("accounts",C),Ce.selectedAccount=a.did,xe.accounts.set(C),xe.account?.set(C[0]),xe.storage.save("state",Ce),xe.onboardingState.set(se.Unlocked),xe.identity.locked.set(!1)}xe.state.set(Ce)})()}onUnlocked(){var xe=this;return(0,p.A)(function*(){yield xe.profile.openCurrentUserProfile(xe.account().did),xe.initialized.set(!0),xe.loading.set(!1),xe.protocol.register()})()}static#e=this.\u0275fac=function(Ce){return new(Ce||le)};static#t=this.\u0275prov=E.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})()},61748:(Fe,z,_)=>{"use strict";_.d(z,{b:()=>H});var p=_(18498),E=_(5964),k=_(93953);let H=(()=>{class x{constructor(A,O){this.router=A,this.activatedRoute=O,this.breadcrumbs=[],this.router.events.pipe((0,E.p)(F=>F instanceof p.wF)).subscribe(()=>{this.breadcrumbs=this.createBreadcrumbs(this.activatedRoute.root)})}createBreadcrumbs(A,O="",F=[]){const L=A.children;if(0===L.length)return F;for(const I of L){const Z=I.snapshot.url.map(j=>j.path).join("/");return""!==Z&&(O+=`/${Z}`),F.push({label:I.snapshot.data.breadcrumb,url:O}),this.createBreadcrumbs(I,O,F)}return F}static#e=this.\u0275fac=function(O){return new(O||x)(k.KVO(p.Ix),k.KVO(p.nX))};static#t=this.\u0275prov=k.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()},60132:(Fe,z,_)=>{"use strict";_.d(z,{j:()=>Af});var p=_(10467);_(52191),new Uint8Array(0);class re{name;prefix;baseEncode;constructor(tt,Ye,ot){this.name=tt,this.prefix=Ye,this.baseEncode=ot}encode(tt){if(tt instanceof Uint8Array)return`${this.prefix}${this.baseEncode(tt)}`;throw Error("Unknown type, must be binary type")}}class te{name;prefix;baseDecode;prefixCodePoint;constructor(tt,Ye,ot){if(this.name=tt,this.prefix=Ye,void 0===Ye.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=Ye.codePointAt(0),this.baseDecode=ot}decode(tt){if("string"==typeof tt){if(tt.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(tt)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(tt.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(tt){return Y(this,tt)}}class J{decoders;constructor(tt){this.decoders=tt}or(tt){return Y(this,tt)}decode(tt){const ot=this.decoders[tt[0]];if(null!=ot)return ot.decode(tt);throw RangeError(`Unable to decode multibase string ${JSON.stringify(tt)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function Y(mt,tt){return new J({...mt.decoders??{[mt.prefix]:mt},...tt.decoders??{[tt.prefix]:tt}})}class oe{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(tt,Ye,ot,Ut){this.name=tt,this.prefix=Ye,this.baseEncode=ot,this.baseDecode=Ut,this.encoder=new re(tt,Ye,ot),this.decoder=new te(tt,Ye,Ut)}encode(tt){return this.encoder.encode(tt)}decode(tt){return this.decoder.decode(tt)}}function ae({name:mt,prefix:tt,encode:Ye,decode:ot}){return new oe(mt,tt,Ye,ot)}function se({name:mt,prefix:tt,alphabet:Ye}){const{encode:ot,decode:Ut}=function I(mt,tt){if(mt.length>=255)throw new TypeError("Alphabet too long");for(var Ye=new Uint8Array(256),ot=0;ot<Ye.length;ot++)Ye[ot]=255;for(var Ut=0;Ut<mt.length;Ut++){var Zt=mt.charAt(Ut),hn=Zt.charCodeAt(0);if(255!==Ye[hn])throw new TypeError(Zt+" is ambiguous");Ye[hn]=Ut}var Vn=mt.length,or=mt.charAt(0),ur=Math.log(Vn)/Math.log(256),Un=Math.log(256)/Math.log(Vn);function We(me){if("string"!=typeof me)throw new TypeError("Expected String");if(0===me.length)return new Uint8Array;var ve=0;if(" "!==me[ve]){for(var Ze=0,Je=0;me[ve]===or;)Ze++,ve++;for(var pt=(me.length-ve)*ur+1>>>0,jt=new Uint8Array(pt);me[ve];){var yn=Ye[me.charCodeAt(ve)];if(255===yn)return;for(var Ht=0,bt=pt-1;(0!==yn||Ht<Je)&&-1!==bt;bt--,Ht++)jt[bt]=(yn+=Vn*jt[bt]>>>0)%256>>>0,yn=yn/256>>>0;if(0!==yn)throw new Error("Non-zero carry");Je=Ht,ve++}if(" "!==me[ve]){for(var nn=pt-Je;nn!==pt&&0===jt[nn];)nn++;for(var Or=new Uint8Array(Ze+(pt-nn)),pi=Ze;nn!==pt;)Or[pi++]=jt[nn++];return Or}}}return{encode:function nr(me){if(me instanceof Uint8Array||(ArrayBuffer.isView(me)?me=new Uint8Array(me.buffer,me.byteOffset,me.byteLength):Array.isArray(me)&&(me=Uint8Array.from(me))),!(me instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===me.length)return"";for(var ve=0,Ze=0,Je=0,pt=me.length;Je!==pt&&0===me[Je];)Je++,ve++;for(var jt=(pt-Je)*Un+1>>>0,yn=new Uint8Array(jt);Je!==pt;){for(var Ht=me[Je],bt=0,nn=jt-1;(0!==Ht||bt<Ze)&&-1!==nn;nn--,bt++)yn[nn]=(Ht+=256*yn[nn]>>>0)%Vn>>>0,Ht=Ht/Vn>>>0;if(0!==Ht)throw new Error("Non-zero carry");Ze=bt,Je++}for(var Or=jt-Ze;Or!==jt&&0===yn[Or];)Or++;for(var pi=or.repeat(ve);Or<jt;++Or)pi+=mt.charAt(yn[Or]);return pi},decodeUnsafe:We,decode:function Me(me){var ve=We(me);if(ve)return ve;throw new Error(`Non-${tt} character`)}}}(Ye,mt);return ae({prefix:tt,name:mt,encode:ot,decode:Zt=>function A(mt){if(mt instanceof Uint8Array&&"Uint8Array"===mt.constructor.name)return mt;if(mt instanceof ArrayBuffer)return new Uint8Array(mt);if(ArrayBuffer.isView(mt))return new Uint8Array(mt.buffer,mt.byteOffset,mt.byteLength);throw new Error("Unknown type, must be binary type")}(Ut(Zt))})}function we({name:mt,prefix:tt,bitsPerChar:Ye,alphabet:ot}){return ae({prefix:tt,name:mt,encode:Ut=>function le(mt,tt,Ye){const ot="="===tt[tt.length-1],Ut=(1<<Ye)-1;let Zt="",hn=0,Vn=0;for(let or=0;or<mt.length;++or)for(Vn=Vn<<8|mt[or],hn+=8;hn>Ye;)hn-=Ye,Zt+=tt[Ut&Vn>>hn];if(0!==hn&&(Zt+=tt[Ut&Vn<<Ye-hn]),ot)for(;Zt.length*Ye&7;)Zt+="=";return Zt}(Ut,ot,Ye),decode:Ut=>function de(mt,tt,Ye,ot){const Ut={};for(let Un=0;Un<tt.length;++Un)Ut[tt[Un]]=Un;let Zt=mt.length;for(;"="===mt[Zt-1];)--Zt;const hn=new Uint8Array(Zt*Ye/8|0);let Vn=0,or=0,ur=0;for(let Un=0;Un<Zt;++Un){const nr=Ut[mt[Un]];if(void 0===nr)throw new SyntaxError(`Non-${ot} character`);or=or<<Ye|nr,Vn+=Ye,Vn>=8&&(Vn-=8,hn[ur++]=255&or>>Vn)}if(Vn>=Ye||255&or<<8-Vn)throw new SyntaxError("Unexpected end of data");return hn}(Ut,ot,Ye,mt)})}we({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),we({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),we({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),we({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),we({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),we({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),we({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),we({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),we({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),se({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),se({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),we({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),we({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),we({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),we({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),new TextEncoder,new TextDecoder;var pe=128,Q=-128,ie=Math.pow(2,31),ke=128,Ue=127,_t=Math.pow(2,7),Ve=Math.pow(2,14),Be=Math.pow(2,21),lt=Math.pow(2,28),B=Math.pow(2,35),w=Math.pow(2,42),m=Math.pow(2,49),U=Math.pow(2,56),ne=Math.pow(2,63);const Bt={encode:function ue(mt,tt,Ye){tt=tt||[];for(var ot=Ye=Ye||0;mt>=ie;)tt[Ye++]=255&mt|pe,mt/=128;for(;mt&Q;)tt[Ye++]=255&mt|pe,mt>>>=7;return tt[Ye]=0|mt,ue.bytes=Ye-ot+1,tt},decode:function Le(mt,ot){var hn,Ye=0,Ut=0,Zt=ot=ot||0,Vn=mt.length;do{if(Zt>=Vn)throw Le.bytes=0,new RangeError("Could not decode varint");hn=mt[Zt++],Ye+=Ut<28?(hn&Ue)<<Ut:(hn&Ue)*Math.pow(2,Ut),Ut+=7}while(hn>=ke);return Le.bytes=Zt-ot,Ye},encodingLength:function(mt){return mt<_t?1:mt<Ve?2:mt<Be?3:mt<lt?4:mt<B?5:mt<w?6:mt<m?7:mt<U?8:mt<ne?9:10}};function gt(mt,tt=0){return[Bt.decode(mt,tt),Bt.decode.bytes]}Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");class sn{static addPrefix(tt){var Ye;let{code:ot,data:Ut,name:Zt}=tt;if(!(Zt?!ot:ot))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(ot=sn.codeToName.has(ot)?ot:sn.nameToCode.get(Zt),void 0===ot)throw new Error(`Unsupported multicodec: ${null!==(Ye=tt.name)&&void 0!==Ye?Ye:tt.code}`);const hn=function Gt(mt){return Bt.encodingLength(mt)}(ot),Vn=new Uint8Array(hn+Ut.byteLength);return Vn.set(Ut,hn),function It(mt,tt,Ye=0){return Bt.encode(mt,tt,Ye),tt}(ot,Vn),Vn}static getCodeFromData(tt){const{prefixedData:Ye}=tt,[ot,Ut]=gt(Ye);return ot}static getCodeFromName(tt){const{name:Ye}=tt,ot=sn.nameToCode.get(Ye);if(void 0===ot)throw new Error(`Unsupported multicodec: ${Ye}`);return ot}static getNameFromCode(tt){const{code:Ye}=tt,ot=sn.codeToName.get(Ye);if(void 0===ot)throw new Error(`Unsupported multicodec: ${Ye}`);return ot}static registerCodec(tt){sn.codeToName.set(tt.code,tt.name),sn.nameToCode.set(tt.name,tt.code)}static removePrefix(tt){const{prefixedData:Ye}=tt,[ot,Ut]=gt(Ye),Zt=sn.codeToName.get(ot);if(void 0===Zt)throw new Error(`Unsupported multicodec: ${ot}`);return{code:ot,data:Ye.slice(Ut),name:Zt}}}sn.codeToName=new Map,sn.nameToCode=new Map,sn.registerCodec({code:237,name:"ed25519-pub"}),sn.registerCodec({code:4864,name:"ed25519-priv"}),sn.registerCodec({code:236,name:"x25519-pub"}),sn.registerCodec({code:4866,name:"x25519-priv"}),sn.registerCodec({code:231,name:"secp256k1-pub"}),sn.registerCodec({code:4865,name:"secp256k1-priv"}),_(95099),_(80868);const Fn="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function Rd(mt){return function fa(mt=32){if(Fn&&"function"==typeof Fn.getRandomValues)return Fn.getRandomValues(new Uint8Array(mt));throw new Error("crypto.getRandomValues must be defined")}(mt)}new Uint8Array(new Uint32Array([287454020]).buffer),_(94256),_(91006),_(40499),_(86295),_(91879);class zh{static deriveKey(tt){return function(mt,tt,Ye,ot){return new(Ye||(Ye=Promise))(function(Zt,hn){function Vn(Un){try{ur(ot.next(Un))}catch(nr){hn(nr)}}function or(Un){try{ur(ot.throw(Un))}catch(nr){hn(nr)}}function ur(Un){Un.done?Zt(Un.value):function Ut(Zt){return Zt instanceof Ye?Zt:new Ye(function(hn){hn(Zt)})}(Un.value).then(Vn,or)}ur((ot=ot.apply(mt,tt||[])).next())})}(this,arguments,void 0,function*({hash:Ye,password:ot,salt:Ut,iterations:Zt,length:hn}){const Vn=yield Fn.subtle.importKey("raw",ot,{name:"PBKDF2"},!1,["deriveBits"]),or=yield Fn.subtle.deriveBits({name:"PBKDF2",hash:Ye,salt:Ut,iterations:Zt},Vn,hn);return new Uint8Array(or)})}}function Da(mt,...tt){if(!function zi(mt){return mt instanceof Uint8Array||null!=mt&&"object"==typeof mt&&"Uint8Array"===mt.constructor.name}(mt))throw new Error("Uint8Array expected");if(tt.length>0&&!tt.includes(mt.length))throw new Error(`Uint8Array expected of length ${tt}, not of length=${mt.length}`)}function kc(mt,tt=!0){if(mt.destroyed)throw new Error("Hash instance has been destroyed");if(tt&&mt.finished)throw new Error("Hash#digest() has already been called")}_(94730);const Hh="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Ef=mt=>new DataView(mt.buffer,mt.byteOffset,mt.byteLength),ta=(mt,tt)=>mt<<32-tt|mt>>>tt;function eo(mt){return"string"==typeof mt&&(mt=function Ou(mt){if("string"!=typeof mt)throw new Error("utf8ToBytes expected string, got "+typeof mt);return new Uint8Array((new TextEncoder).encode(mt))}(mt)),Da(mt),mt}new Uint8Array(new Uint32Array([287454020]).buffer);class Pc{clone(){return this._cloneInto()}}function Ll(mt){const tt=ot=>mt().update(eo(ot)).digest(),Ye=mt();return tt.outputLen=Ye.outputLen,tt.blockLen=Ye.blockLen,tt.create=()=>mt(),tt}const Xt=(mt,tt,Ye)=>mt&tt^~mt&Ye,At=(mt,tt,Ye)=>mt&tt^mt&Ye^tt&Ye;class Ft extends Pc{constructor(tt,Ye,ot,Ut){super(),this.blockLen=tt,this.outputLen=Ye,this.padOffset=ot,this.isLE=Ut,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(tt),this.view=Ef(this.buffer)}update(tt){kc(this);const{view:Ye,buffer:ot,blockLen:Ut}=this,Zt=(tt=eo(tt)).length;for(let hn=0;hn<Zt;){const Vn=Math.min(Ut-this.pos,Zt-hn);if(Vn!==Ut)ot.set(tt.subarray(hn,hn+Vn),this.pos),this.pos+=Vn,hn+=Vn,this.pos===Ut&&(this.process(Ye,0),this.pos=0);else{const or=Ef(tt);for(;Ut<=Zt-hn;hn+=Ut)this.process(or,hn)}}return this.length+=tt.length,this.roundClean(),this}digestInto(tt){kc(this),function ou(mt,tt){Da(mt);const Ye=tt.outputLen;if(mt.length<Ye)throw new Error(`digestInto() expects output buffer of length at least ${Ye}`)}(tt,this),this.finished=!0;const{buffer:Ye,view:ot,blockLen:Ut,isLE:Zt}=this;let{pos:hn}=this;Ye[hn++]=128,this.buffer.subarray(hn).fill(0),this.padOffset>Ut-hn&&(this.process(ot,0),hn=0);for(let nr=hn;nr<Ut;nr++)Ye[nr]=0;(function it(mt,tt,Ye,ot){if("function"==typeof mt.setBigUint64)return mt.setBigUint64(tt,Ye,ot);const Ut=BigInt(32),Zt=BigInt(4294967295),hn=Number(Ye>>Ut&Zt),Vn=Number(Ye&Zt),ur=ot?0:4;mt.setUint32(tt+(ot?4:0),hn,ot),mt.setUint32(tt+ur,Vn,ot)})(ot,Ut-8,BigInt(8*this.length),Zt),this.process(ot,0);const Vn=Ef(tt),or=this.outputLen;if(or%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const ur=or/4,Un=this.get();if(ur>Un.length)throw new Error("_sha2: outputLen bigger than state");for(let nr=0;nr<ur;nr++)Vn.setUint32(4*nr,Un[nr],Zt)}digest(){const{buffer:tt,outputLen:Ye}=this;this.digestInto(tt);const ot=tt.slice(0,Ye);return this.destroy(),ot}_cloneInto(tt){tt||(tt=new this.constructor),tt.set(...this.get());const{blockLen:Ye,buffer:ot,length:Ut,finished:Zt,destroyed:hn,pos:Vn}=this;return tt.length=Ut,tt.pos=Vn,tt.finished=Zt,tt.destroyed=hn,Ut%Ye&&tt.buffer.set(ot),tt}}const Sn=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wr=new Uint32Array(64);class Zr extends Ft{constructor(){super(64,32,8,!1),this.A=0|tr[0],this.B=0|tr[1],this.C=0|tr[2],this.D=0|tr[3],this.E=0|tr[4],this.F=0|tr[5],this.G=0|tr[6],this.H=0|tr[7]}get(){const{A:tt,B:Ye,C:ot,D:Ut,E:Zt,F:hn,G:Vn,H:or}=this;return[tt,Ye,ot,Ut,Zt,hn,Vn,or]}set(tt,Ye,ot,Ut,Zt,hn,Vn,or){this.A=0|tt,this.B=0|Ye,this.C=0|ot,this.D=0|Ut,this.E=0|Zt,this.F=0|hn,this.G=0|Vn,this.H=0|or}process(tt,Ye){for(let nr=0;nr<16;nr++,Ye+=4)wr[nr]=tt.getUint32(Ye,!1);for(let nr=16;nr<64;nr++){const We=wr[nr-15],Me=wr[nr-2],me=ta(We,7)^ta(We,18)^We>>>3,ve=ta(Me,17)^ta(Me,19)^Me>>>10;wr[nr]=ve+wr[nr-7]+me+wr[nr-16]|0}let{A:ot,B:Ut,C:Zt,D:hn,E:Vn,F:or,G:ur,H:Un}=this;for(let nr=0;nr<64;nr++){const Me=Un+(ta(Vn,6)^ta(Vn,11)^ta(Vn,25))+Xt(Vn,or,ur)+Sn[nr]+wr[nr]|0,ve=(ta(ot,2)^ta(ot,13)^ta(ot,22))+At(ot,Ut,Zt)|0;Un=ur,ur=or,or=Vn,Vn=hn+Me|0,hn=Zt,Zt=Ut,Ut=ot,ot=Me+ve|0}ot=ot+this.A|0,Ut=Ut+this.B|0,Zt=Zt+this.C|0,hn=hn+this.D|0,Vn=Vn+this.E|0,or=or+this.F|0,ur=ur+this.G|0,Un=Un+this.H|0,this.set(ot,Ut,Zt,hn,Vn,or,ur,Un)}roundClean(){wr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const $i=Ll(()=>new Zr);var Ir=_(53813);function Ms(mt,tt=128){if(function ud(mt){if(!Number.isSafeInteger(mt)||mt<0)throw new Error(`positive integer expected, not ${mt}`)}(tt),tt%32!=0||tt>256)throw new TypeError("Invalid entropy");return function Oc(mt,tt){return function pl(mt){Da(mt,16,20,24,28,32)}(mt),function Sa(mt){if(!Array.isArray(mt)||2048!==mt.length||"string"!=typeof mt[0])throw new Error("Wordlist: expected array of 2048 strings");return mt.forEach(tt=>{if("string"!=typeof tt)throw new Error(`Wordlist: non-string element: ${tt}`)}),Ir.Wp.chain(Ir.Wp.checksum(1,fd),Ir.Wp.radix2(11,!0),Ir.Wp.alphabet(mt))}(tt).encode(mt).join((mt=>"\u3042\u3044\u3053\u304f\u3057\u3093"===mt[0])(tt)?"\u3000":" ")}(function ch(mt=32){if(Hh&&"function"==typeof Hh.getRandomValues)return Hh.getRandomValues(new Uint8Array(mt));throw new Error("crypto.getRandomValues must be defined")}(tt/8),mt)}const fd=mt=>{const tt=8-mt.length/4;return new Uint8Array([$i(mt)[0]>>tt<<tt])};const vc="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n");var Ld=_(93953);let Af=(()=>{class mt{constructor(){}createPassword(Ye=6,ot=128){return(0,p.A)(function*(){try{const Ut=Ms(vc,ot).split(" "),Zt=[];for(let hn=0;hn<Ye;hn++){const Vn=Math.floor(Math.random()*Ut.length);Zt.push(Ut[Vn])}return Zt.join(" ")}catch(Ut){throw console.error(Ut),Ut}})()}encrypt(Ye,ot){return this.deriveKey(ot),Ye}encryptData(Ye,ot){return(0,p.A)(function*(){})()}deriveKey(Ye){return(0,p.A)(function*(){return yield zh.deriveKey({hash:"SHA-256",password:(new TextEncoder).encode(Ye),salt:Rd(16),iterations:1e3,length:256})})()}static#e=this.\u0275fac=function(ot){return new(ot||mt)};static#t=this.\u0275prov=Ld.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"})}return mt})()},34635:(Fe,z,_)=>{"use strict";_.d(z,{K:()=>x});var p=_(10467),E=_(93953),k=_(74862),H=_(60132);let x=(()=>{class R{constructor(O){this.cryptoService=O,this.syncInterval="10s",this.agents=(0,E.vPA)([]),this.preinitialized=(0,E.vPA)(!1),this.initialized=(0,E.vPA)(!1),this.locked=(0,E.vPA)(!0)}initialConnect(O){var F=this;return(0,p.A)(function*(){try{const L=yield k.uW.connect({password:O,sync:F.syncInterval});return F.web5=L.web5,F.did=L.did,console.log("Web5 Connected.",F.did),F.preinitialized.set(!0),F.initialized.set(!0),L}catch(L){console.error(L)}})()}connect(O,F){var L=this;return(0,p.A)(function*(){try{const I=yield k.uW.connect({connectedDid:O,password:F,sync:L.syncInterval});return L.web5=I.web5,L.did=I.did,console.log("Web5 Connected."),L.preinitialized.set(!0),L.initialized.set(!0),I}catch{alert("Failed to initialize Web5")}})()}restore(O,F){var L=this;return(0,p.A)(function*(){try{const I=yield k.uW.connect({recoveryPhrase:F,password:O,sync:L.syncInterval});return L.web5=I.web5,L.did=I.did,console.log("Web5 Connected."),L.preinitialized.set(!0),L.initialized.set(!0),I}catch{alert("Failed to initialize Web5")}})()}activeAgent(){return this.web5.agent}changePassword(O,F){var L=this;return(0,p.A)(function*(){yield L.web5.agent.vault.changePassword({oldPassword:O,newPassword:F})})()}lock(){var O=this;return(0,p.A)(function*(){console.log("Locking account..."),yield O.web5.agent.vault.lock(),console.log("Vault locked"),O.locked.set(!0)})()}unlock(O){var F=this;return(0,p.A)(function*(){console.log("Connecting to Web5...");try{const{did:L,web5:I}=yield k.uW.connect({sync:"5s",password:O});return F.did=L,F.web5=I,F.initialized.set(!0),F.locked.set(!1),!0}catch(L){return console.error(L),console.log("Show unlock screen!"),F.locked.set(!0),!1}})()}static#e=this.\u0275fac=function(F){return new(F||R)(E.KVO(H.j))};static#t=this.\u0275prov=E.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}return R})()},36815:(Fe,z,_)=>{"use strict";_.d(z,{Y:()=>E});var p=_(93953);let E=(()=>{class k{constructor(){this.scrolling=(0,p.vPA)(!0),this.navigation=(0,p.vPA)(!1),this.actions=(0,p.vPA)([]),(0,p.QZP)(()=>{const x=document.querySelector(".sidenav-scroll-wrapper");x&&(x.style.overflow=this.scrolling()?"auto":"hidden");const R=document.querySelector(".sidenav-content");R&&(R.style.overflow=this.scrolling()?"auto":"hidden")})}addAction(x){this.actions.update(R=>[...R,x])}resetActions(){this.actions.set([])}enableScrolling(){this.scrolling.set(!0)}disableScrolling(){this.scrolling.set(!1)}enableNavigation(){this.navigation.set(!0)}disableNavigation(){this.navigation.set(!1)}static#e=this.\u0275fac=function(R){return new(R||k)};static#t=this.\u0275prov=p.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}return k})()},55619:(Fe,z,_)=>{"use strict";_.d(z,{o:()=>H});var p=_(18498),E=_(93953),k=_(60177);let H=(()=>{class x{constructor(A,O){this.router=A,this.location=O,this.history=[],this.router.events.subscribe(F=>{F instanceof p.wF&&this.history.push(F.urlAfterRedirects)})}back(){this.history.pop(),this.history.length>0?this.location.back():this.router.navigateByUrl("/")}static#e=this.\u0275fac=function(O){return new(O||x)(E.KVO(p.Ix),E.KVO(k.aZ))};static#t=this.\u0275prov=E.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()},39434:(Fe,z,_)=>{"use strict";_.d(z,{p:()=>x});var p=_(10467),E=_(93953),k=_(34635),H=_(22312);let x=(()=>{class R{constructor(){this.identity=(0,E.WQX)(k.K),this.current=(0,E.vPA)({did:"",name:"",title:"",bio:"",profileImage:"",profileBanner:"",status:"",location:"",links:[],birthDate:""}),this.selected=(0,E.vPA)({did:"",name:"",title:"",bio:"",profileImage:"",profileBanner:"",status:"",location:"",links:[],birthDate:""}),this.avatar=(0,E.vPA)(null),this.avatarSelected=(0,E.vPA)(null)}loadProfile(O){var F=this;return(0,p.A)(function*(){const L=yield F.identity.web5.dwn.records.query({from:O,message:{filter:{protocol:H.ME.uri,protocolPath:"profile",dataFormat:"application/json"}}});let I={},Z=null;if(console.log("RESPONSE FOUND FOR PROFILE:",L),console.log("RECORDS FOUND FOR PROFILE:",L.records),L.records)for(const te of L.records)Z=te,I={...yield te.data.json(),id:te.dataCid,did:te.author,created:te.dateCreated};var j=null,G=null;const re=yield F.identity.web5.dwn.records.query({from:O,message:{filter:{protocol:H.ME.uri,protocolPath:"avatar",dataFormat:"image/png"}}});if(re.records&&re.records.length>0){const te=re.records[0];j=te,G=yield te.data.text()}return{record:Z,avatarRecord:j,avatar:G,profile:I,did:O}})()}openCurrentUserProfile(O){var F=this;return(0,p.A)(function*(){console.log("Open current user profile",O);const L=yield F.loadProfile(O);F.current.set(L.profile)})()}openProfile(O){var F=this;return(0,p.A)(function*(){console.log("Open profile",O);const L=yield F.loadProfile(O);F.avatarSelected.set(L.avatar),F.selected.set(L.profile),O==F.identity.did&&(F.avatar.set(L.avatar),F.current.set(L.profile))})()}static#e=this.\u0275fac=function(F){return new(F||R)};static#t=this.\u0275prov=E.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}return R})()},98703:(Fe,z,_)=>{"use strict";_.d(z,{g:()=>E});var p=_(93953);let E=(()=>{class k{transform(x,R){if(x){const A=Math.floor((+new Date-+new Date(x))/1e3);if(A<29)return"Just now";const O={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60,second:1};let F;for(const L in O)if(F=Math.floor(A/O[L]),F>0)return 1===F?F+" "+L+" ago":F+" "+L+"s ago"}return x}static#e=this.\u0275fac=function(R){return new(R||k)};static#t=this.\u0275pipe=p.EJ8({name:"ago",type:k,pure:!0,standalone:!0})}return k})()},33347:(Fe,z,_)=>{"use strict";_.d(z,{k:()=>E});var p=_(93953);let E=(()=>{class k{transform(x,R){if(x){const A=x.lastIndexOf(":");if(-1!==A){const O=x.slice(0,A+1),F=x.slice(A+1);return O+F.slice(0,5)+"..."+F.slice(-5)}return x.slice(0,5)+"..."+x.slice(-5)}return x}static#e=this.\u0275fac=function(R){return new(R||k)};static#t=this.\u0275pipe=p.EJ8({name:"did",type:k,pure:!0,standalone:!0})}return k})()},78013:(Fe,z,_)=>{"use strict";_.d(z,{d:()=>k});var p=_(93953),E=_(345);let k=(()=>{class H{constructor(R){this.sanitizer=R}transform(R){return this.sanitizer.bypassSecurityTrustResourceUrl(R)}static#e=this.\u0275fac=function(A){return new(A||H)(p.rXU(E.up,16))};static#t=this.\u0275pipe=p.EJ8({name:"safeResourceUrl",type:H,pure:!0,standalone:!0})}return H})()},28741:(Fe,z,_)=>{"use strict";_.d(z,{M:()=>E});var p=_(93953);let E=(()=>{class k{transform(x,R){if(0===x)return"0 Bytes";const F=Math.floor(Math.log(x)/Math.log(1024));return parseFloat((x/Math.pow(1024,F)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB","PB"][F]}static#e=this.\u0275fac=function(R){return new(R||k)};static#t=this.\u0275pipe=p.EJ8({name:"size",type:k,pure:!0,standalone:!0})}return k})()},43794:(Fe,z,_)=>{"use strict";_.d(z,{n:()=>E});var p=_(93953);let E=(()=>{class k{constructor(){this.prefix="ariton-"}save(x,R){localStorage.setItem(this.prefix+x,JSON.stringify(R))}read(x){const R=localStorage.getItem(this.prefix+x);return R?JSON.parse(R):null}remove(x){localStorage.removeItem(this.prefix+x)}clear(){Object.keys(localStorage).forEach(x=>{x.startsWith(this.prefix)&&localStorage.removeItem(x)})}static#e=this.\u0275fac=function(R){return new(R||k)};static#t=this.\u0275prov=p.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}return k})()},5312:(Fe,z,_)=>{"use strict";var p=_(345),E=_(93953),k=_(18498),H=_(10467),x=_(31439),R=_(36815),A=_(34635),O=_(97372),F=_(60177),L=_(89417),I=_(88834),Z=_(75351),j=_(99213),G=_(99631),re=_(59115),te=_(14823),J=_(53719);let Y=(()=>{class ln{constructor($t,mn){this.dialogRef=$t,this.data=mn,this.fb=(0,E.WQX)(L.ok),this.form=this.fb.group({name:[null,L.k0.required]})}ngAfterViewInit(){}static#e=this.\u0275fac=function(mn){return new(mn||ln)(E.rXU(Z.CP),E.rXU(Z.Vh))};static#t=this.\u0275cmp=E.VBU({type:ln,selectors:[["app-folder-dialog"]],standalone:!0,features:[E.aNF],decls:10,vars:2,consts:[["mat-dialog-title",""],[1,"mat-typography"],["appearance","outline",1,"full-width"],["matInput","","required","true","placeholder","Name","maxlength","200",3,"ngModelChange","ngModel"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-flat-button","","type","submit","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(mn,vn){1&mn&&(E.j41(0,"h2",0),E.EFF(1,"New folder"),E.k0s(),E.j41(2,"mat-dialog-content",1)(3,"mat-form-field",2)(4,"input",3),E.mxI("ngModelChange",function(ir){return E.DH7(vn.data.name,ir)||(vn.data.name=ir),ir}),E.k0s()()(),E.j41(5,"mat-dialog-actions",4)(6,"button",5),E.EFF(7,"Cancel"),E.k0s(),E.j41(8,"button",6),E.EFF(9,"Create"),E.k0s()()),2&mn&&(E.R7$(4),E.R50("ngModel",vn.data.name),E.R7$(4),E.Y8G("mat-dialog-close",!0))},dependencies:[F.MD,te.uc,re.Cn,j.m_,I.Hl,I.$z,G.fS,G.fg,J.rl,Z.hM,Z.tx,Z.BI,Z.E7,Z.Yi,L.YN,L.me,L.BC,L.YS,L.tU,L.vS],styles:["form[_ngcontent-%COMP%]{display:inline}"]})}return ln})();var oe=_(3902),ae=_(98703),se=_(61748);let de=(()=>{class ln{constructor(){}registerActions($t){}static#e=this.\u0275fac=function(mn){return new(mn||ln)};static#t=this.\u0275prov=E.jDH({token:ln,factory:ln.\u0275fac,providedIn:"root"})}return ln})();var le=_(28741),we=_(62590);function xe(ln,pr){1&ln&&(E.j41(0,"mat-icon",2),E.EFF(1,"folder"),E.k0s())}function Ce(ln,pr){1&ln&&(E.j41(0,"mat-icon",2),E.EFF(1,"note"),E.k0s())}function C(ln,pr){if(1&ln&&(E.j41(0,"div",4),E.EFF(1),E.nI1(2,"ago"),E.k0s()),2&ln){const $t=E.XpG().$implicit;E.R7$(),E.SpI("",E.bMT(2,1,$t.record.dateModified)," | 'Folder'")}}function a(ln,pr){if(1&ln&&(E.j41(0,"div",4),E.EFF(1),E.nI1(2,"ago"),E.nI1(3,"size"),E.k0s()),2&ln){const $t=E.XpG().$implicit;E.R7$(),E.E5c(" ",E.bMT(2,3,$t.data.lastModified)," | ",E.bMT(3,5,$t.data.size)," | ",$t.data.type," ")}}function u(ln,pr){if(1&ln){const $t=E.RV6();E.j41(0,"mat-list-item",1),E.bIt("click",function(){const vn=E.eBV($t).$implicit,Kn=E.XpG();return E.Njj(Kn.openEntry(vn))}),E.DNE(1,xe,2,0,"mat-icon",2)(2,Ce,2,0,"mat-icon",2),E.j41(3,"div",3),E.EFF(4),E.k0s(),E.DNE(5,C,3,3,"div",4)(6,a,4,7,"div",4),E.k0s()}if(2&ln){const $t=pr.$implicit;E.R7$(),E.vxM("folder"===$t.data.entryType?1:-1),E.R7$(),E.vxM("file"===$t.data.entryType?2:-1),E.R7$(2),E.JRh($t.data.name),E.R7$(),E.vxM("folder"===$t.data.entryType?5:-1),E.R7$(),E.vxM("file"===$t.data.entryType?6:-1)}}let y=(()=>{class ln{constructor(){var $t=this;this.entries=(0,E.vPA)([]),this.app=(0,E.WQX)(x.d),this.breadcrumb=(0,E.WQX)(se.b),this.layout=(0,E.WQX)(R.Y),this.identity=(0,E.WQX)(A.K),this.dialog=(0,E.WQX)(Z.bZ),this.router=(0,E.WQX)(k.Ix),this.route=(0,E.WQX)(k.nX),this.fileService=(0,E.WQX)(de),this.uploadProgress=null,this.isUploading=!1,this.file=null,this.uploadSuccess=!1,this.fileError=null,(0,E.QZP)((0,H.A)(function*(){$t.app.initialized()&&(yield $t.loadEntries())})),this.route.paramMap.subscribe(mn=>{console.log("ROUTING!!!",mn.get("id")),this.breadcrumb.parentId=mn.get("id")}),this.layout.disableNavigation(),this.layout.addAction({name:"Upload files",icon:"upload_file",action:()=>{this.editFile({data:{title:"",body:"",background:"",collaborators:[],labels:[]}})}}),this.layout.addAction({name:"New folder",icon:"create_new_folder",action:()=>{this.editFolder({data:{name:"Untitled folder"}})}})}editFile($t){return(0,H.A)(function*(){document.getElementById("input")?.click()})()}onFileSelected($t){var mn=this;return(0,H.A)(function*(){const vn=$t.currentTarget.files;if(0!=vn.length){console.log("Uploading number of files:",vn.length);for(let Kn=0;Kn<vn.length;Kn++){const ir=vn[Kn];console.log(ir);const ci=new Blob([ir],{type:ir.type});console.log(ci),console.log("Parent ID:",mn.breadcrumb.parentId);const{status:fi,record:No}=yield mn.identity.web5.dwn.records.create({data:ci,message:{protocol:O.Q.protocol,protocolPath:"attachment",schema:O.Q.types.attachment.schema,dataFormat:ci.type}});console.log("Record created:",No),console.log("Record status:",fi);const si={name:ir.name,size:ir.size,type:ir.type,lastModified:ir.lastModified,entryType:"file",attachment:No.id},{status:xa,record:Ai}=yield mn.identity.web5.dwn.records.create({data:si,message:{tags:{type:ir.type,entryType:"file",attachment:No.id},protocol:O.Q.protocol,protocolPath:"entry",parentContextId:mn.breadcrumb.parentId??=void 0,schema:O.Q.types.entry.schema,dataFormat:O.Q.types.entry.dataFormats[0]}});console.log("Record created:",Ai),console.log("Record status:",xa),Ai&&mn.entries.update(ea=>[...ea,{record:Ai,data:si}])}}})()}cancelUpload(){return(0,H.A)(function*(){})()}upload(){var $t=this;return(0,H.A)(function*(){console.log("Uploading file");const{status:mn,record:vn}=yield $t.identity.web5.dwn.records.create({data:$t.file,message:{schema:O.Q.types.attachment.schema}});return console.log("Record created:",vn),console.log("Record status:",mn),vn})()}editFolder($t){var mn=this;return(0,H.A)(function*(){let vn={name:$t.data.name,entryType:"folder"};const Kn=JSON.parse(JSON.stringify(vn)),ir=mn.dialog.open(Y,{maxWidth:"80vw",maxHeight:"80vh",data:vn});return ir.afterClosed().subscribe(function(){var ci=(0,H.A)(function*(fi){fi?(console.log("data result for saving:",vn),$t.data=vn,yield mn.saveFolder($t,vn)):vn=Kn});return function(fi){return ci.apply(this,arguments)}}()),ir.afterClosed()})()}saveFolder($t,mn){var vn=this;return(0,H.A)(function*(){if($t.record){const{status:Kn,record:ir}=yield $t.record.update({data:mn});console.log("Record created:",ir),console.log("Record status:",Kn)}else{const{record:Kn,status:ir}=yield vn.identity.web5.dwn.records.create({data:mn,message:{tags:{entryType:mn.entryType},protocol:O.Q.protocol,protocolPath:"entry",schema:O.Q.types.entry.schema,dataFormat:O.Q.types.entry.dataFormats[0]}});console.log("Record created:",Kn),console.log("Record status:",ir),Kn&&($t.record=Kn,vn.entries.update(ci=>[...ci,$t]))}})()}openEntry($t){var mn=this;return(0,H.A)(function*(){mn.router.navigate("folder"===$t.entryType?["/app/files/folder",$t.record.id]:["/app/files/file",$t.record.id])})()}loadEntries($t){var mn=this;return(0,H.A)(function*(){console.log("VALUE OF TAGS:",$t);var{records:vn}=yield mn.identity.web5.dwn.records.query({message:{filter:{protocol:O.Q.protocol,protocolPath:"entry",schema:O.Q.types.entry.schema,dataFormat:O.Q.types.entry.dataFormats[0]},dateSort:we.U0.CreatedDescending}});if(mn.entries.set([]),vn)for(const Kn of vn){let ir=yield Kn.data.json(),ci={record:Kn,data:ir};mn.entries.update(fi=>[...fi,ci])}console.log("All requests:",mn.entries())})()}static#e=this.\u0275fac=function(mn){return new(mn||ln)};static#t=this.\u0275cmp=E.VBU({type:ln,selectors:[["app-folder"]],standalone:!0,features:[E.aNF],decls:4,vars:0,consts:[["type","file","id","input","multiple","",2,"display","none",3,"change"],[3,"click"],["matListItemIcon",""],["matListItemTitle",""],["matListItemLine",""]],template:function(mn,vn){1&mn&&(E.j41(0,"mat-list"),E.Z7z(1,u,7,5,"mat-list-item",null,E.fX1),E.k0s(),E.j41(3,"input",0),E.bIt("change",function(ir){return vn.onFileSelected(ir)}),E.k0s()),2&mn&&(E.R7$(),E.Dyx(vn.entries()))},dependencies:[le.M,F.MD,oe.Fg,oe.jt,oe.YE,oe.ZV,oe.C_,oe.yE,j.m_,j.An,ae.g]})}return ln})();var g=function(ln){return ln.PDF="application/pdf",ln.JPEG="image/jpeg",ln.PNG="image/png",ln.MP4="video/mp4",ln}(g||{});const S=["*"];function T(ln,pr){if(1&ln&&(E.j41(0,"div",1),E.nrm(1,"iframe",2),E.k0s()),2&ln){const $t=E.XpG();E.R7$(),E.Y8G("src",$t.src,E.f$h)}}function N(ln,pr){if(1&ln&&E.nrm(0,"iframe",2),2&ln){const $t=E.XpG();E.Y8G("src",$t.src,E.f$h)}}function M(ln,pr){if(1&ln&&E.nrm(0,"iframe",2),2&ln){const $t=E.XpG();E.Y8G("src",$t.src,E.f$h)}}function s(ln,pr){if(1&ln&&(E.j41(0,"video",3),E.nrm(1,"source",4),E.EFF(2," Your browser does not support HTML5 video. "),E.k0s()),2&ln){const $t=E.XpG();E.R7$(),E.Y8G("src",$t.src,E.B4B)}}function v(ln,pr){1&ln&&(E.j41(0,"span",null,0),E.SdG(2),E.k0s())}let W=(()=>{class ln{ngAfterViewInit(){const $t=document.getElementById("frame"),mn=document.createElement("style");mn.textContent="\n    body {\n        background-color: #f0f0f0;\n   margin: 0;\n  padding: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n    }\n\n    img {\n      width: 100%;\n  height: 100%;\n  object-fit: contain; /* Adjust as needed: contain, cover, fill */\n    }\n",console.log("iframe:"),console.log($t),$t.contentDocument.head.appendChild(mn),console.log("iframe:"),console.log($t)}ngOnInit(){}zoomIn(){this.zoomLevel+=10}zoomOut(){this.zoomLevel>10&&(this.zoomLevel-=10)}goToPage(){this.currentPage<1?this.currentPage=1:this.currentPage>this.totalPages&&(this.currentPage=this.totalPages)}constructor(){this.fileMimeType=g,this.pdfZoom=1,this.currentPage=1,this.totalPages=1,this.zoomLevel=100,this.totalPages=this.getPdfTotalPages()}getPdfTotalPages(){return 10}goToPreviousPage(){this.currentPage>1&&this.currentPage--}goToNextPage(){this.currentPage<this.totalPages&&this.currentPage++}static#e=this.\u0275fac=function(mn){return new(mn||ln)};static#t=this.\u0275cmp=E.VBU({type:ln,selectors:[["app-file-viewer"]],inputs:{type:"type",src:"src",pdfZoom:"pdfZoom"},standalone:!0,features:[E.aNF],ngContentSelectors:S,decls:6,vars:1,consts:[["content",""],[1,"pdf-viewer"],["id","frame","width","100%","height","100%",1,"file-frame",3,"src"],["controls","","width","100%"],["type","video/mp4",3,"src"]],template:function(mn,vn){if(1&mn&&(E.NAR(),E.j41(0,"span"),E.DNE(1,T,2,1,"div",1)(2,N,1,1,"iframe",2)(3,M,1,1,"iframe",2)(4,s,3,1,"video",3)(5,v,3,0,"span"),E.k0s()),2&mn){let Kn;E.R7$(),E.vxM((Kn=vn.type)===vn.fileMimeType.PDF?1:Kn===vn.fileMimeType.JPEG?2:Kn===vn.fileMimeType.PNG?3:Kn===vn.fileMimeType.MP4?4:5)}},dependencies:[F.MD,L.YN],styles:[".pdf-viewer[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden}object[_ngcontent-%COMP%]{width:100%;height:100%}.controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px}.page-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}@media screen and (max-width: 768px){.controls[_ngcontent-%COMP%]{flex-direction:column}}"]})}return ln})();var K=_(55911);function ee(ln,pr){if(1&ln){const $t=E.RV6();E.j41(0,"button",2),E.bIt("click",function(){E.eBV($t);const vn=E.XpG();return E.Njj(vn.toggleFullscreen())}),E.j41(1,"mat-icon"),E.EFF(2,"fullscreen_exit"),E.k0s()()}2&ln&&E.Y8G("title","Exit fullscreen")}function ce(ln,pr){if(1&ln){const $t=E.RV6();E.j41(0,"button",2),E.bIt("click",function(){E.eBV($t);const vn=E.XpG();return E.Njj(vn.toggleFullscreen())}),E.j41(1,"mat-icon"),E.EFF(2,"fullscreen"),E.k0s()()}2&ln&&E.Y8G("title","Fullscreen")}function _e(ln,pr){if(1&ln&&(E.j41(0,"app-file-viewer",5)(1,"h2"),E.EFF(2,"This file type is unsupported (yet :)"),E.k0s()()),2&ln){const $t=E.XpG();E.Y8G("src",$t.src)("type",$t.type)("pdfZoom",$t.pdfZoom)}}const $e=[{path:"",pathMatch:"full",redirectTo:"dashboard"},{path:"introduction",loadComponent:()=>_.e(4630).then(_.bind(_,64630)).then(ln=>ln.IntroductionComponent),title:"Introduction",data:{hide:!0,icon:"lightbulb"}},{path:"dashboard",loadComponent:()=>Promise.all([_.e(6195),_.e(2320)]).then(_.bind(_,62320)).then(ln=>ln.DashboardComponent),title:"Dashboard",data:{icon:"dashboard"}},{path:"communities",loadComponent:()=>Promise.all([_.e(5571),_.e(4516),_.e(450),_.e(6702)]).then(_.bind(_,6702)).then(ln=>ln.CommunitiesComponent),title:"Communities",data:{icon:"diversity_2"}},{path:"communities/create",loadComponent:()=>Promise.all([_.e(3475),_.e(3672)]).then(_.bind(_,23672)).then(ln=>ln.CreateComponent),title:"Communities",data:{hide:!0,icon:"diversity_2"}},{path:"community/:id",loadComponent:()=>Promise.all([_.e(6850),_.e(3028)]).then(_.bind(_,73028)).then(ln=>ln.CommunityComponent),title:"Communities",data:{hide:!0,icon:"diversity_2"}},{path:"friends",loadComponent:()=>Promise.all([_.e(6850),_.e(8834)]).then(_.bind(_,38834)).then(ln=>ln.FriendsComponent),title:"Friends",data:{hide:!1,icon:"people"}},{path:"marketplace",loadComponent:()=>_.e(4392).then(_.bind(_,94392)).then(ln=>ln.MarketplaceComponent),title:"Marketplace",data:{icon:"storefront"}},{path:"apps",loadComponent:()=>Promise.all([_.e(5571),_.e(4516),_.e(6195),_.e(450),_.e(8487)]).then(_.bind(_,8487)).then(ln=>ln.AppsComponent),title:"Apps",data:{icon:"apps"}},{path:"app/files",loadComponent:()=>_.e(5706).then(_.bind(_,55706)).then(ln=>ln.FilesComponent),title:"Files",data:{icon:"folder",breadcrumb:"Files"},children:[{path:"",component:y,data:{breadcrumb:"Folder"}},{path:"folder/:id",component:y,data:{breadcrumb:"Folder"}},{path:"file/:id",component:(()=>{class ln{constructor(){var $t=this;this.entries=(0,E.vPA)([]),this.app=(0,E.WQX)(x.d),this.breadcrumb=(0,E.WQX)(se.b),this.layout=(0,E.WQX)(R.Y),this.identity=(0,E.WQX)(A.K),this.dialog=(0,E.WQX)(Z.bZ),this.router=(0,E.WQX)(k.Ix),this.route=(0,E.WQX)(k.nX),this.fileService=(0,E.WQX)(de),this.uploadProgress=null,this.isUploading=!1,this.file=null,this.uploadSuccess=!1,this.fileError=null,this.fileId=null,this.sanitizer=(0,E.WQX)(p.up),this.fullscreen=(0,E.vPA)(!1),this.fileMimeType=g,this.pdfZoom=1,(0,E.QZP)((0,H.A)(function*(){$t.app.initialized()&&(yield $t.loadEntries())})),this.route.paramMap.subscribe(mn=>{console.log("ROUTING!!!",mn.get("id")),this.fileId=mn.get("id")})}toggleFullscreen(){var $t=document.getElementById("file-viewer");this.fullscreen()?(document.exitFullscreen(),this.fullscreen.set(!1)):($t.requestFullscreen(),this.fullscreen.set(!0))}download(){const $t=URL.createObjectURL(this.fileUrl),mn=document.createElement("a");console.log("File URL"),console.log($t),mn.href=$t,mn.download=this.data.name,mn.click(),URL.revokeObjectURL($t)}pdfZoomIn(){this.pdfZoom++}pdfZoomOut(){this.pdfZoom>1&&this.pdfZoom--}editFile($t){return(0,H.A)(function*(){document.getElementById("input")?.click()})()}onFileSelected($t){var mn=this;return(0,H.A)(function*(){const vn=$t.currentTarget.files;if(0!=vn.length){console.log("Uploading number of files:",vn.length);for(let Kn=0;Kn<vn.length;Kn++){const ir=vn[Kn];console.log(ir);const ci=new Blob([ir],{type:ir.type});console.log(ci),console.log("Parent ID:",mn.breadcrumb.parentId);const{status:fi,record:No}=yield mn.identity.web5.dwn.records.create({data:ci,message:{protocol:O.Q.protocol,protocolPath:"attachment",schema:O.Q.types.attachment.schema,dataFormat:ci.type}});console.log("Record created:",No),console.log("Record status:",fi);const si={name:ir.name,size:ir.size,type:ir.type,lastModified:ir.lastModified,entryType:"file"},{status:xa,record:Ai}=yield mn.identity.web5.dwn.records.create({data:si,message:{tags:{type:ir.type,entryType:"file",attachment:No.id},protocol:O.Q.protocol,protocolPath:"entry",parentContextId:mn.breadcrumb.parentId??=void 0,schema:O.Q.types.entry.schema,dataFormat:O.Q.types.entry.dataFormats[0]}});console.log("Record created:",Ai),console.log("Record status:",xa),Ai&&mn.entries.update(ea=>[...ea,{record:Ai,data:si}])}}})()}cancelUpload(){return(0,H.A)(function*(){})()}upload(){var $t=this;return(0,H.A)(function*(){console.log("Uploading file");const{status:mn,record:vn}=yield $t.identity.web5.dwn.records.create({data:$t.file,message:{schema:O.Q.types.attachment.schema}});return console.log("Record created:",vn),console.log("Record status:",mn),vn})()}editFolder($t){var mn=this;return(0,H.A)(function*(){let vn={name:$t.data.name,entryType:"folder"};const Kn=JSON.parse(JSON.stringify(vn)),ir=mn.dialog.open(Y,{maxWidth:"80vw",maxHeight:"80vh",data:vn});return ir.afterClosed().subscribe(function(){var ci=(0,H.A)(function*(fi){fi?(console.log("data result for saving:",vn),$t.data=vn,yield mn.saveFolder($t,vn)):vn=Kn});return function(fi){return ci.apply(this,arguments)}}()),ir.afterClosed()})()}saveFolder($t,mn){var vn=this;return(0,H.A)(function*(){if($t.record){const{status:Kn,record:ir}=yield $t.record.update({data:mn});console.log("Record created:",ir),console.log("Record status:",Kn)}else{const{record:Kn,status:ir}=yield vn.identity.web5.dwn.records.create({data:mn,message:{tags:{entryType:mn.entryType},protocol:O.Q.protocol,protocolPath:"entry",schema:O.Q.types.entry.schema,dataFormat:O.Q.types.entry.dataFormats[0]}});console.log("Record created:",Kn),console.log("Record status:",ir),Kn&&($t.record=Kn,vn.entries.update(ci=>[...ci,$t]))}})()}openEntry($t){var mn=this;return(0,H.A)(function*(){mn.router.navigate("folder"===$t.entryType?["/app/files/folder",$t.record.id]:["/app/files/file",$t.record.id])})()}loadEntries($t){var mn=this;return(0,H.A)(function*(){if(console.log("VALUE OF TAGS:",$t),!mn.fileId)return;const{record:vn}=yield mn.identity.web5.dwn.records.read({message:{filter:{recordId:mn.fileId}}}),Kn=yield vn.data.json();mn.data=Kn;const{record:ir}=yield mn.identity.web5.dwn.records.read({message:{filter:{recordId:Kn.attachment}}});if(mn.fileUrl=yield ir.data.blob(),console.log(vn),console.log(ir),mn.type=ir.dataFormat,"application/pdf"===ir.dataFormat){const ci=URL.createObjectURL(mn.fileUrl)+"#toolbar=0&navpanes=0&scrollbar=0&view=FitH";mn.src=mn.sanitizer.bypassSecurityTrustResourceUrl(ci)}else{const ci=URL.createObjectURL(mn.fileUrl);mn.src=mn.sanitizer.bypassSecurityTrustResourceUrl(ci)}})()}static#e=this.\u0275fac=function(mn){return new(mn||ln)};static#t=this.\u0275cmp=E.VBU({type:ln,selectors:[["app-file"]],standalone:!0,features:[E.aNF],decls:18,vars:6,consts:[["id","file-viewer"],["mat-icon-button","",3,"disabled"],["mat-icon-button","",3,"click","title"],[1,"toolbar-spacer"],["mat-icon-button","",3,"title"],[3,"src","type","pdfZoom"]],template:function(mn,vn){1&mn&&(E.j41(0,"div",0)(1,"mat-toolbar")(2,"button",1)(3,"mat-icon"),E.EFF(4,"delete"),E.k0s()(),E.j41(5,"button",2),E.bIt("click",function(){return vn.download()}),E.j41(6,"mat-icon"),E.EFF(7,"file_download"),E.k0s()(),E.nrm(8,"span",3),E.j41(9,"button",1)(10,"mat-icon"),E.EFF(11,"zoom_in"),E.k0s()(),E.j41(12,"button",1)(13,"mat-icon"),E.EFF(14,"zoom_out"),E.k0s()(),E.DNE(15,ee,3,1,"button",4)(16,ce,3,1,"button",4),E.k0s(),E.DNE(17,_e,3,3,"app-file-viewer",5),E.k0s()),2&mn&&(E.R7$(2),E.Y8G("disabled",!0),E.R7$(3),E.Y8G("title","Download"),E.R7$(4),E.Y8G("disabled",!0),E.R7$(3),E.Y8G("disabled",!0),E.R7$(3),E.vxM(vn.fullscreen()?15:16),E.R7$(2),E.vxM(vn.src?17:-1))},dependencies:[W,F.MD,oe.Fg,j.m_,j.An,K.s5,K.KQ,I.Hl,I.iY]})}return ln})(),data:{breadcrumb:"Folder"}}]},{path:"app/notes",loadComponent:()=>Promise.all([_.e(5571),_.e(6471),_.e(9770)]).then(_.bind(_,99770)).then(ln=>ln.NotesComponent),title:"Notes",data:{icon:"note"}},{path:"app/chat",loadComponent:()=>Promise.all([_.e(5571),_.e(8515)]).then(_.bind(_,38515)).then(ln=>ln.ChatComponent),title:"Chat",data:{icon:"chat"}},{path:"app/todo",loadComponent:()=>Promise.all([_.e(1391),_.e(1811)]).then(_.bind(_,11811)).then(ln=>ln.TodoComponent),title:"Todo",data:{icon:"task"}},{path:"registries",loadComponent:()=>Promise.all([_.e(4516),_.e(9466)]).then(_.bind(_,69466)).then(ln=>ln.RegistriesComponent),title:"Registries",data:{icon:"folder_shared"}},{path:"registries/:id",loadComponent:()=>Promise.all([_.e(6850),_.e(4516),_.e(6471),_.e(2076),_.e(5026)]).then(_.bind(_,65026)).then(ln=>ln.RegistryComponent),title:"Registry",data:{hide:!0,icon:"folder_shared"}},{path:"data/view/:id",loadComponent:()=>Promise.all([_.e(6850),_.e(3474)]).then(_.bind(_,53474)).then(ln=>ln.DataViewComponent),title:"Data View",data:{hide:!0,icon:"folder_shared"}},{path:"data",loadComponent:()=>Promise.all([_.e(6850),_.e(7358),_.e(9454),_.e(5416),_.e(3287)]).then(_.bind(_,63287)).then(ln=>ln.DataComponent),title:"Data",data:{icon:"source"}},{path:"data/:source/:id",loadComponent:()=>Promise.all([_.e(2076),_.e(9533)]).then(_.bind(_,29533)).then(ln=>ln.DataEntryComponent),title:"Data Entry",data:{hide:!0,icon:"source"}},{path:"profile/:id",loadComponent:()=>Promise.all([_.e(6850),_.e(5416),_.e(1289)]).then(_.bind(_,1289)).then(ln=>ln.ProfileComponent),title:"Profile",data:{hide:!0,icon:"account_circle"}},{path:"profile/:id/edit",loadComponent:()=>Promise.all([_.e(3475),_.e(7380)]).then(_.bind(_,37380)).then(ln=>ln.ProfileEditComponent),title:"Edit Profile",data:{hide:!0,icon:"account_circle"}},{path:"notifications",loadComponent:()=>_.e(2228).then(_.bind(_,92228)).then(ln=>ln.NotificationsComponent),title:"Notifications",data:{hide:!1,icon:"notifications"}},{path:"accounts",loadComponent:()=>Promise.all([_.e(6850),_.e(9454),_.e(6486)]).then(_.bind(_,96486)).then(ln=>ln.AccountsComponent),title:"Accounts",data:{hide:!0,icon:"account_circle"}},{path:"account/password",loadComponent:()=>_.e(8012).then(_.bind(_,88012)).then(ln=>ln.PasswordComponent),title:"Password",data:{hide:!0,icon:"account_circle"}},{path:"account/backup",loadComponent:()=>_.e(5962).then(_.bind(_,75962)).then(ln=>ln.BackupComponent),title:"Backup",data:{hide:!0,icon:"account_circle"}},{path:"account/create",loadComponent:()=>_.e(5806).then(_.bind(_,75806)).then(ln=>ln.CreateComponent),title:"Create Account",data:{hide:!0,icon:"account_circle"}},{path:"account/create/new",loadComponent:()=>_.e(9613).then(_.bind(_,29613)).then(ln=>ln.NewComponent),title:"Create new account",data:{hide:!0,icon:"account_circle"}},{path:"account/create/restore",loadComponent:()=>Promise.resolve().then(_.bind(_,33065)).then(ln=>ln.RestoreComponent),title:"Restore existing account",data:{hide:!0,icon:"account_circle"}},{path:"account/:id",loadComponent:()=>_.e(7880).then(_.bind(_,17880)).then(ln=>ln.AccountComponent),title:"Account",data:{hide:!0,icon:"account_circle"}},{path:"identity",loadComponent:()=>_.e(5854).then(_.bind(_,85854)).then(ln=>ln.IdentityComponent),title:"Identity",data:{hide:!0,icon:"account_circle"}},{path:"settings",loadComponent:()=>_.e(959).then(_.bind(_,60959)).then(ln=>ln.SettingsComponent),title:"Settings",data:{hide:!0,icon:"settings"}},{path:"settings/about",loadComponent:()=>_.e(5216).then(_.bind(_,85216)).then(ln=>ln.AboutComponent),title:"About",data:{hide:!0,icon:"settings"}},{path:"settings/licenses",loadComponent:()=>_.e(9727).then(_.bind(_,19727)).then(ln=>ln.LicensesComponent),title:"Licenses",data:{hide:!0,icon:"settings"}},{path:"settings/privacy",loadComponent:()=>_.e(9128).then(_.bind(_,99128)).then(ln=>ln.PrivacyComponent),title:"Privacy",data:{hide:!0,icon:"settings"}},{path:"settings/handler",loadComponent:()=>_.e(8552).then(_.bind(_,18552)).then(ln=>ln.HandlerComponent),title:"Protocol Handler",data:{hide:!0,icon:"search"}},{path:"tree",loadComponent:()=>Promise.all([_.e(7358),_.e(9238)]).then(_.bind(_,9238)).then(ln=>ln.TreeComponent),title:"Tree",data:{hide:!0,icon:"folder"}},{path:"drag-drop",loadComponent:()=>Promise.all([_.e(1391),_.e(7988)]).then(_.bind(_,77988)).then(ln=>ln.DragDropComponent),title:"Drag-Drop",data:{hide:!0,icon:"folder"}},{path:"help",loadComponent:()=>_.e(2492).then(_.bind(_,12492)).then(ln=>ln.HelpComponent),title:"Help",data:{hide:!0,icon:"help"}},{path:"storage",loadComponent:()=>Promise.all([_.e(5571),_.e(6471),_.e(7848)]).then(_.bind(_,17848)).then(ln=>ln.StorageComponent),title:"Storage",data:{icon:"cloud"}},{path:"management",loadComponent:()=>Promise.all([_.e(6850),_.e(8864)]).then(_.bind(_,48864)).then(ln=>ln.ManagementComponent),title:"Management",data:{icon:"manage_accounts"}}];let be=(()=>{class ln{constructor($t,mn,vn,Kn,ir){this.doc=$t,this.delegate=mn,this.zone=vn,this.animationType=Kn,this.moduleImpl=ir,this._rendererFactoryPromise=null,this.scheduler=(0,E.WQX)(E.An2,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??_.e(8008).then(_.bind(_,68008)).then(mn=>mn)).catch(mn=>{throw new E.wOt(5300,!1)}).then(({\u0275createEngine:mn,\u0275AnimationRendererFactory:vn})=>{this._engine=mn(this.animationType,this.doc);const Kn=new vn(this.delegate,this._engine,this.zone);return this.delegate=Kn,Kn})}createRenderer($t,mn){const vn=this.delegate.createRenderer($t,mn);if(0===vn.\u0275type)return vn;"boolean"==typeof vn.throwOnSyntheticProps&&(vn.throwOnSyntheticProps=!1);const Kn=new Ne(vn);return mn?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(ir=>{const ci=ir.createRenderer($t,mn);Kn.use(ci),this.scheduler?.notify(9)}).catch(ir=>{Kn.use(vn)}),Kn}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static#e=this.\u0275fac=function(mn){E.QTQ()};static#t=this.\u0275prov=E.jDH({token:ln,factory:ln.\u0275fac})}return ln})();class Ne{constructor(pr){this.delegate=pr,this.replay=[],this.\u0275type=1}use(pr){if(this.delegate=pr,null!==this.replay){for(const $t of this.replay)$t(pr);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(pr,$t){return this.delegate.createElement(pr,$t)}createComment(pr){return this.delegate.createComment(pr)}createText(pr){return this.delegate.createText(pr)}get destroyNode(){return this.delegate.destroyNode}appendChild(pr,$t){this.delegate.appendChild(pr,$t)}insertBefore(pr,$t,mn,vn){this.delegate.insertBefore(pr,$t,mn,vn)}removeChild(pr,$t,mn){this.delegate.removeChild(pr,$t,mn)}selectRootElement(pr,$t){return this.delegate.selectRootElement(pr,$t)}parentNode(pr){return this.delegate.parentNode(pr)}nextSibling(pr){return this.delegate.nextSibling(pr)}setAttribute(pr,$t,mn,vn){this.delegate.setAttribute(pr,$t,mn,vn)}removeAttribute(pr,$t,mn){this.delegate.removeAttribute(pr,$t,mn)}addClass(pr,$t){this.delegate.addClass(pr,$t)}removeClass(pr,$t){this.delegate.removeClass(pr,$t)}setStyle(pr,$t,mn,vn){this.delegate.setStyle(pr,$t,mn,vn)}removeStyle(pr,$t,mn){this.delegate.removeStyle(pr,$t,mn)}setProperty(pr,$t,mn){this.shouldReplay($t)&&this.replay.push(vn=>vn.setProperty(pr,$t,mn)),this.delegate.setProperty(pr,$t,mn)}setValue(pr,$t){this.delegate.setValue(pr,$t)}listen(pr,$t,mn){return this.shouldReplay($t)&&this.replay.push(vn=>vn.listen(pr,$t,mn)),this.delegate.listen(pr,$t,mn)}shouldReplay(pr){return null!==this.replay&&pr.startsWith("@")}}var Te=_(59030),pe=_(18810),fe=_(33726),Q=_(7673),ie=_(28793),ue=_(21413),Ee=_(71985),ke=_(85343);const Ue=new Ee.c(ke.l);var _t=_(57786),Ve=_(96354),Be=_(5964),lt=_(25558),B=_(30017),w=_(98071),m=_(58750),U=_(39974);const ge={connector:()=>new ue.B};function Ae(ln,pr=ge){const{connector:$t}=pr;return(0,U.N)((mn,vn)=>{const Kn=$t();(0,m.Tg)(ln(function ne(ln){return new Ee.c(pr=>ln.subscribe(pr))}(Kn))).subscribe(vn),vn.add(mn.subscribe(Kn))})}var gt=_(96697),It=_(88141),Gt=_(91986);const un="Service workers are disabled or not supported by this browser";class sr{constructor(pr){if(this.serviceWorker=pr,pr){const mn=(0,fe.R)(pr,"controllerchange").pipe((0,Ve.T)(()=>pr.controller)),vn=(0,Te.v)(()=>(0,Q.of)(pr.controller)),Kn=(0,ie.x)(vn,mn);this.worker=Kn.pipe((0,Be.p)(si=>!!si)),this.registration=this.worker.pipe((0,lt.n)(()=>pr.getRegistration()));const No=(0,fe.R)(pr,"message").pipe((0,Ve.T)(si=>si.data)).pipe((0,Be.p)(si=>si&&si.type)).pipe(function Bt(ln){return ln?pr=>Ae(ln)(pr):pr=>function Qe(ln,pr){const $t=(0,w.T)(ln)?ln:()=>ln;return(0,w.T)(pr)?Ae(pr,{connector:$t}):mn=>new B.G(mn,$t)}(new ue.B)(pr)}());No.connect(),this.events=No}else this.worker=this.events=this.registration=function an(ln){return(0,Te.v)(()=>(0,pe.$)(new Error(ln)))}(un)}postMessage(pr,$t){return this.worker.pipe((0,gt.s)(1),(0,It.M)(mn=>{mn.postMessage({action:pr,...$t})})).toPromise().then(()=>{})}postMessageWithOperation(pr,$t,mn){const vn=this.waitForOperationCompleted(mn),Kn=this.postMessage(pr,$t);return Promise.all([Kn,vn]).then(([,ir])=>ir)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(pr){let $t;return $t="string"==typeof pr?mn=>mn.type===pr:mn=>pr.includes(mn.type),this.events.pipe((0,Be.p)($t))}nextEventOfType(pr){return this.eventsOfType(pr).pipe((0,gt.s)(1))}waitForOperationCompleted(pr){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Be.p)($t=>$t.nonce===pr),(0,gt.s)(1),(0,Ve.T)($t=>{if(void 0!==$t.result)return $t.result;throw new Error($t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Mn=(()=>{class ln{get isEnabled(){return this.sw.isEnabled}constructor($t){if(this.sw=$t,this.pushManager=null,this.subscriptionChanges=new ue.B,!$t.isEnabled)return this.messages=Ue,this.notificationClicks=Ue,void(this.subscription=Ue);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Ve.T)(vn=>vn.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Ve.T)(vn=>vn.data)),this.pushManager=this.sw.registration.pipe((0,Ve.T)(vn=>vn.pushManager));const mn=this.pushManager.pipe((0,lt.n)(vn=>vn.getSubscription()));this.subscription=(0,_t.h)(mn,this.subscriptionChanges)}requestSubscription($t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(un));const mn={userVisibleOnly:!0};let vn=this.decodeBase64($t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),Kn=new Uint8Array(new ArrayBuffer(vn.length));for(let ir=0;ir<vn.length;ir++)Kn[ir]=vn.charCodeAt(ir);return mn.applicationServerKey=Kn,this.pushManager.pipe((0,lt.n)(ir=>ir.subscribe(mn)),(0,gt.s)(1)).toPromise().then(ir=>(this.subscriptionChanges.next(ir),ir))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,gt.s)(1),(0,lt.n)(mn=>{if(null===mn)throw new Error("Not subscribed to push notifications.");return mn.unsubscribe().then(vn=>{if(!vn)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(un))}decodeBase64($t){return atob($t)}static#e=this.\u0275fac=function(mn){return new(mn||ln)(E.KVO(sr))};static#t=this.\u0275prov=E.jDH({token:ln,factory:ln.\u0275fac})}return ln})(),Qt=(()=>{class ln{get isEnabled(){return this.sw.isEnabled}constructor($t){if(this.sw=$t,!$t.isEnabled)return this.versionUpdates=Ue,void(this.unrecoverable=Ue);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(un));const $t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:$t},$t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(un));const $t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:$t},$t)}static#e=this.\u0275fac=function(mn){return new(mn||ln)(E.KVO(sr))};static#t=this.\u0275prov=E.jDH({token:ln,factory:ln.\u0275fac})}return ln})();const qt=new E.nKC("");function Et(ln,pr,$t,mn){return()=>{if(!(0,F.UE)(mn)||!("serviceWorker"in navigator)||!1===$t.enabled)return;const vn=ln.get(E.SKi),Kn=ln.get(E.o8S);let ir;if(vn.runOutsideAngular(()=>{const ci=navigator.serviceWorker,fi=()=>ci.controller?.postMessage({action:"INITIALIZE"});ci.addEventListener("controllerchange",fi),Kn.onDestroy(()=>{ci.removeEventListener("controllerchange",fi)})}),"function"==typeof $t.registrationStrategy)ir=$t.registrationStrategy();else{const[ci,...fi]=($t.registrationStrategy||"registerWhenStable:30000").split(":");switch(ci){case"registerImmediately":ir=(0,Q.of)(null);break;case"registerWithDelay":ir=ht(+fi[0]||0);break;case"registerWhenStable":ir=fi[0]?(0,_t.h)(zt(ln),ht(+fi[0])):zt(ln);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${$t.registrationStrategy}`)}}vn.runOutsideAngular(()=>ir.pipe((0,gt.s)(1)).subscribe(()=>navigator.serviceWorker.register(pr,{scope:$t.scope}).catch(ci=>console.error("Service worker registration failed with:",ci))))}}function ht(ln){return(0,Q.of)(null).pipe((0,Gt.c)(ln))}function zt(ln){return ln.get(E.o8S).isStable.pipe((0,Be.p)($t=>$t))}function Jt(ln,pr){return new sr((0,F.UE)(pr)&&!1!==ln.enabled?navigator.serviceWorker:void 0)}class dn{}const xt={providers:[(0,E.Jn2)({eventCoalescing:!0}),(0,k.lh)($e,(0,k.Sn)(k.Kp)),function ye(ln="animations"){return(0,E.ngT)("NgAsyncAnimations"),(0,E.EmA)([{provide:E._9s,useFactory:(pr,$t,mn)=>new be(pr,$t,mn,ln),deps:[F.qQ,p.B7,E.SKi]},{provide:E.bc$,useValue:"noop"===ln?"NoopAnimations":"BrowserAnimations"}])}(),function hr(ln,pr={}){return(0,E.EmA)([Mn,Qt,{provide:qt,useValue:ln},{provide:dn,useValue:pr},{provide:sr,useFactory:Jt,deps:[dn,E.Agw]},{provide:E.hnV,useFactory:Et,deps:[E.zZn,qt,dn,E.Agw],multi:!0}])}("ngsw-worker.js",{enabled:!(0,E.naY)(),registrationStrategy:"registerWhenStable:30000"})]};var St=_(99327),Xe=_(67333),nt=_(86600),Vt=_(18617),Ot=_(28203),sn=_(14085),Hn=_(67336),bn=_(36860),In=_(73703),Ar=_(56977),Jn=_(23294),Ln=_(99172),$n=_(70152),st=_(49969);const Ge=["*"],ct=["content"],Yt=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],_n=["mat-drawer","mat-drawer-content","*"];function Wn(ln,pr){if(1&ln){const $t=E.RV6();E.j41(0,"div",1),E.bIt("click",function(){E.eBV($t);const vn=E.XpG();return E.Njj(vn._onBackdropClicked())}),E.k0s()}if(2&ln){const $t=E.XpG();E.AVh("mat-drawer-shown",$t._isShowingBackdrop())}}function Yn(ln,pr){1&ln&&(E.j41(0,"mat-drawer-content"),E.SdG(1,2),E.k0s())}const yr=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Nr=["mat-sidenav","mat-sidenav-content","*"];function Ur(ln,pr){if(1&ln){const $t=E.RV6();E.j41(0,"div",1),E.bIt("click",function(){E.eBV($t);const vn=E.XpG();return E.Njj(vn._onBackdropClicked())}),E.k0s()}if(2&ln){const $t=E.XpG();E.AVh("mat-drawer-shown",$t._isShowingBackdrop())}}function Kr(ln,pr){1&ln&&(E.j41(0,"mat-sidenav-content"),E.SdG(1,2),E.k0s())}const ri={transformDrawer:(0,st.hZ)("transform",[(0,st.wk)("open, open-instant",(0,st.iF)({transform:"none",visibility:"visible"})),(0,st.wk)("void",(0,st.iF)({"box-shadow":"none",visibility:"hidden"})),(0,st.kY)("void => open-instant",(0,st.i0)("0ms")),(0,st.kY)("void <=> open, open-instant => void",(0,st.i0)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},wn=new E.nKC("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Fn(){return!1}}),Dn=new E.nKC("MAT_DRAWER_CONTAINER");let fr=(()=>{class ln extends Xe.uv{constructor($t,mn,vn,Kn,ir){super(vn,Kn,ir),this._changeDetectorRef=$t,this._container=mn}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(mn){return new(mn||ln)(E.rXU(E.gRc),E.rXU((0,E.Rfq)(()=>xr)),E.rXU(E.aKT),E.rXU(Xe.R),E.rXU(E.SKi))};static#t=this.\u0275cmp=E.VBU({type:ln,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(mn,vn){2&mn&&E.xc7("margin-left",vn._container._contentMargins.left,"px")("margin-right",vn._container._contentMargins.right,"px")},standalone:!0,features:[E.Jv_([{provide:Xe.uv,useExisting:ln}]),E.Vt3,E.aNF],ngContentSelectors:Ge,decls:1,vars:0,template:function(mn,vn){1&mn&&(E.NAR(),E.SdG(0))},encapsulation:2,changeDetection:0})}return ln})(),Sr=(()=>{class ln{get position(){return this._position}set position($t){($t="end"===$t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent($t),this._position=$t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode($t){this._mode=$t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose($t){this._disableClose=(0,sn.he)($t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus($t){("true"===$t||"false"===$t||null==$t)&&($t=(0,sn.he)($t)),this._autoFocus=$t}get opened(){return this._opened}set opened($t){this.toggle((0,sn.he)($t))}constructor($t,mn,vn,Kn,ir,ci,fi,No){this._elementRef=$t,this._focusTrapFactory=mn,this._focusMonitor=vn,this._platform=Kn,this._ngZone=ir,this._interactivityChecker=ci,this._doc=fi,this._container=No,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new ue.B,this._animationEnd=new ue.B,this._animationState="void",this.openedChange=new E.bkB(!0),this._openedStream=this.openedChange.pipe((0,Be.p)(si=>si),(0,Ve.T)(()=>{})),this.openedStart=this._animationStarted.pipe((0,Be.p)(si=>si.fromState!==si.toState&&0===si.toState.indexOf("open")),(0,In.u)(void 0)),this._closedStream=this.openedChange.pipe((0,Be.p)(si=>!si),(0,Ve.T)(()=>{})),this.closedStart=this._animationStarted.pipe((0,Be.p)(si=>si.fromState!==si.toState&&"void"===si.toState),(0,In.u)(void 0)),this._destroyed=new ue.B,this.onPositionChanged=new E.bkB,this._modeChanged=new ue.B,this._injector=(0,E.WQX)(E.zZn),this._changeDetectorRef=(0,E.WQX)(E.gRc),this.openedChange.pipe((0,Ar.Q)(this._destroyed)).subscribe(si=>{si?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,fe.R)(this._elementRef.nativeElement,"keydown").pipe((0,Be.p)(si=>si.keyCode===Hn._f&&!this.disableClose&&!(0,Hn.rp)(si)),(0,Ar.Q)(this._destroyed)).subscribe(si=>this._ngZone.run(()=>{this.close(),si.stopPropagation(),si.preventDefault()}))}),this._animationEnd.pipe((0,Jn.F)((si,xa)=>si.fromState===xa.fromState&&si.toState===xa.toState)).subscribe(si=>{const{fromState:xa,toState:Ai}=si;(0===Ai.indexOf("open")&&"void"===xa||"void"===Ai&&0===xa.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus($t,mn){this._interactivityChecker.isFocusable($t)||($t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const vn=()=>{$t.removeEventListener("blur",vn),$t.removeEventListener("mousedown",vn),$t.removeAttribute("tabindex")};$t.addEventListener("blur",vn),$t.addEventListener("mousedown",vn)})),$t.focus(mn)}_focusByCssSelector($t,mn){let vn=this._elementRef.nativeElement.querySelector($t);vn&&this._forceFocus(vn,mn)}_takeFocus(){if(!this._focusTrap)return;const $t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":(0,E.mal)(()=>{!this._focusTrap.focusInitialElement()&&"function"==typeof $t.focus&&$t.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus($t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,$t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const $t=this._doc.activeElement;return!!$t&&this._elementRef.nativeElement.contains($t)}ngAfterViewInit(){this._isAttached=!0,"end"===this._position&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open($t){return this.toggle(!0,$t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle($t=!this.opened,mn){$t&&mn&&(this._openedVia=mn);const vn=this._setOpen($t,!$t&&this._isFocusWithinDrawer(),this._openedVia||"program");return $t||(this._openedVia=null),vn}_setOpen($t,mn,vn){return this._opened=$t,$t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",mn&&this._restoreFocus(vn)),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(Kn=>{this.openedChange.pipe((0,gt.s)(1)).subscribe(ir=>Kn(ir?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent($t){if(!this._platform.isBrowser)return;const mn=this._elementRef.nativeElement,vn=mn.parentNode;"end"===$t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),vn.insertBefore(this._anchor,mn)),vn.appendChild(mn)):this._anchor&&this._anchor.parentNode.insertBefore(mn,this._anchor)}static#e=this.\u0275fac=function(mn){return new(mn||ln)(E.rXU(E.aKT),E.rXU(Vt.GX),E.rXU(Vt.FN),E.rXU(bn.OD),E.rXU(E.SKi),E.rXU(Vt.Z7),E.rXU(F.qQ,8),E.rXU(Dn,8))};static#t=this.\u0275cmp=E.VBU({type:ln,selectors:[["mat-drawer"]],viewQuery:function(mn,vn){if(1&mn&&E.GBs(ct,5),2&mn){let Kn;E.mGM(Kn=E.lsd())&&(vn._content=Kn.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(mn,vn){1&mn&&E.Kam("@transform.start",function(ir){return vn._animationStarted.next(ir)})("@transform.done",function(ir){return vn._animationEnd.next(ir)}),2&mn&&(E.zvX("@transform",vn._animationState),E.BMQ("align",null),E.AVh("mat-drawer-end","end"===vn.position)("mat-drawer-over","over"===vn.mode)("mat-drawer-push","push"===vn.mode)("mat-drawer-side","side"===vn.mode)("mat-drawer-opened",vn.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[E.aNF],ngContentSelectors:Ge,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(mn,vn){1&mn&&(E.NAR(),E.j41(0,"div",1,0),E.SdG(2),E.k0s())},dependencies:[Xe.uv],encapsulation:2,data:{animation:[ri.transformDrawer]},changeDetection:0})}return ln})(),xr=(()=>{class ln{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize($t){this._autosize=(0,sn.he)($t)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop($t){this._backdropOverride=null==$t?null:(0,sn.he)($t)}get scrollable(){return this._userContent||this._content}constructor($t,mn,vn,Kn,ir,ci=!1,fi){this._dir=$t,this._element=mn,this._ngZone=vn,this._changeDetectorRef=Kn,this._animationMode=fi,this._drawers=new E.rOR,this.backdropClick=new E.bkB,this._destroyed=new ue.B,this._doCheckSubject=new ue.B,this._contentMargins={left:null,right:null},this._contentMarginChanges=new ue.B,this._injector=(0,E.WQX)(E.zZn),$t&&$t.change.pipe((0,Ar.Q)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),ir.change().pipe((0,Ar.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=ci}ngAfterContentInit(){this._allDrawers.changes.pipe((0,Ln.Z)(this._allDrawers),(0,Ar.Q)(this._destroyed)).subscribe($t=>{this._drawers.reset($t.filter(mn=>!mn._container||mn._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,Ln.Z)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach($t=>{this._watchDrawerToggle($t),this._watchDrawerPosition($t),this._watchDrawerMode($t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,$n.B)(10),(0,Ar.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach($t=>$t.open())}close(){this._drawers.forEach($t=>$t.close())}updateContentMargins(){let $t=0,mn=0;if(this._left&&this._left.opened)if("side"==this._left.mode)$t+=this._left._getWidth();else if("push"==this._left.mode){const vn=this._left._getWidth();$t+=vn,mn-=vn}if(this._right&&this._right.opened)if("side"==this._right.mode)mn+=this._right._getWidth();else if("push"==this._right.mode){const vn=this._right._getWidth();mn+=vn,$t-=vn}$t=$t||null,mn=mn||null,($t!==this._contentMargins.left||mn!==this._contentMargins.right)&&(this._contentMargins={left:$t,right:mn},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle($t){$t._animationStarted.pipe((0,Be.p)(mn=>mn.fromState!==mn.toState),(0,Ar.Q)(this._drawers.changes)).subscribe(mn=>{"open-instant"!==mn.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==$t.mode&&$t.openedChange.pipe((0,Ar.Q)(this._drawers.changes)).subscribe(()=>this._setContainerClass($t.opened))}_watchDrawerPosition($t){$t&&$t.onPositionChanged.pipe((0,Ar.Q)(this._drawers.changes)).subscribe(()=>{(0,E.mal)(()=>{this._validateDrawers()},{injector:this._injector,phase:E.wjH.Read})})}_watchDrawerMode($t){$t&&$t._modeChanged.pipe((0,Ar.Q)((0,_t.h)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass($t){const mn=this._element.nativeElement.classList,vn="mat-drawer-container-has-open";$t?mn.add(vn):mn.remove(vn)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach($t=>{"end"==$t.position?this._end=$t:this._start=$t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter($t=>$t&&!$t.disableClose&&this._drawerHasBackdrop($t)).forEach($t=>$t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen($t){return null!=$t&&$t.opened}_drawerHasBackdrop($t){return null==this._backdropOverride?!!$t&&"side"!==$t.mode:this._backdropOverride}static#e=this.\u0275fac=function(mn){return new(mn||ln)(E.rXU(Ot.dS,8),E.rXU(E.aKT),E.rXU(E.SKi),E.rXU(E.gRc),E.rXU(Xe.Xj),E.rXU(wn),E.rXU(E.bc$,8))};static#t=this.\u0275cmp=E.VBU({type:ln,selectors:[["mat-drawer-container"]],contentQueries:function(mn,vn,Kn){if(1&mn&&(E.wni(Kn,fr,5),E.wni(Kn,Sr,5)),2&mn){let ir;E.mGM(ir=E.lsd())&&(vn._content=ir.first),E.mGM(ir=E.lsd())&&(vn._allDrawers=ir)}},viewQuery:function(mn,vn){if(1&mn&&E.GBs(fr,5),2&mn){let Kn;E.mGM(Kn=E.lsd())&&(vn._userContent=Kn.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(mn,vn){2&mn&&E.AVh("mat-drawer-container-explicit-backdrop",vn._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[E.Jv_([{provide:Dn,useExisting:ln}]),E.aNF],ngContentSelectors:_n,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(mn,vn){1&mn&&(E.NAR(Yt),E.DNE(0,Wn,1,2,"div",0),E.SdG(1),E.SdG(2,1),E.DNE(3,Yn,2,0,"mat-drawer-content")),2&mn&&(E.vxM(vn.hasBackdrop?0:-1),E.R7$(3),E.vxM(vn._content?-1:3))},dependencies:[fr],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return ln})(),Fr=(()=>{class ln extends fr{constructor($t,mn,vn,Kn,ir){super($t,mn,vn,Kn,ir)}static#e=this.\u0275fac=function(mn){return new(mn||ln)(E.rXU(E.gRc),E.rXU((0,E.Rfq)(()=>ti)),E.rXU(E.aKT),E.rXU(Xe.R),E.rXU(E.SKi))};static#t=this.\u0275cmp=E.VBU({type:ln,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(mn,vn){2&mn&&E.xc7("margin-left",vn._container._contentMargins.left,"px")("margin-right",vn._container._contentMargins.right,"px")},standalone:!0,features:[E.Jv_([{provide:Xe.uv,useExisting:ln}]),E.Vt3,E.aNF],ngContentSelectors:Ge,decls:1,vars:0,template:function(mn,vn){1&mn&&(E.NAR(),E.SdG(0))},encapsulation:2,changeDetection:0})}return ln})(),jr=(()=>{class ln extends Sr{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport($t){this._fixedInViewport=(0,sn.he)($t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap($t){this._fixedTopGap=(0,sn.OE)($t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap($t){this._fixedBottomGap=(0,sn.OE)($t)}static#e=this.\u0275fac=(()=>{let $t;return function(vn){return($t||($t=E.xGo(ln)))(vn||ln)}})();static#t=this.\u0275cmp=E.VBU({type:ln,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(mn,vn){2&mn&&(E.BMQ("align",null),E.xc7("top",vn.fixedInViewport?vn.fixedTopGap:null,"px")("bottom",vn.fixedInViewport?vn.fixedBottomGap:null,"px"),E.AVh("mat-drawer-end","end"===vn.position)("mat-drawer-over","over"===vn.mode)("mat-drawer-push","push"===vn.mode)("mat-drawer-side","side"===vn.mode)("mat-drawer-opened",vn.opened)("mat-sidenav-fixed",vn.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],standalone:!0,features:[E.Vt3,E.aNF],ngContentSelectors:Ge,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(mn,vn){1&mn&&(E.NAR(),E.j41(0,"div",1,0),E.SdG(2),E.k0s())},dependencies:[Xe.uv],encapsulation:2,data:{animation:[ri.transformDrawer]},changeDetection:0})}return ln})(),ti=(()=>{class ln extends xr{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#e=this.\u0275fac=(()=>{let $t;return function(vn){return($t||($t=E.xGo(ln)))(vn||ln)}})();static#t=this.\u0275cmp=E.VBU({type:ln,selectors:[["mat-sidenav-container"]],contentQueries:function(mn,vn,Kn){if(1&mn&&(E.wni(Kn,Fr,5),E.wni(Kn,jr,5)),2&mn){let ir;E.mGM(ir=E.lsd())&&(vn._content=ir.first),E.mGM(ir=E.lsd())&&(vn._allDrawers=ir)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(mn,vn){2&mn&&E.AVh("mat-drawer-container-explicit-backdrop",vn._backdropOverride)},exportAs:["matSidenavContainer"],standalone:!0,features:[E.Jv_([{provide:Dn,useExisting:ln}]),E.Vt3,E.aNF],ngContentSelectors:Nr,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(mn,vn){1&mn&&(E.NAR(yr),E.DNE(0,Ur,1,2,"div",0),E.SdG(1),E.SdG(2,1),E.DNE(3,Kr,2,0,"mat-sidenav-content")),2&mn&&(E.vxM(vn.hasBackdrop?0:-1),E.R7$(3),E.vxM(vn._content?-1:3))},dependencies:[Fr],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return ln})(),xo=(()=>{class ln{static#e=this.\u0275fac=function(mn){return new(mn||ln)};static#t=this.\u0275mod=E.$C({type:ln});static#n=this.\u0275inj=E.G2t({imports:[nt.yE,Xe.Gj,Xe.Gj,nt.yE]})}return ln})();var bi=_(44668),Ao=_(43794),ko=_(40605);let Jo=(()=>{class ln{constructor($t,mn){this.swUpdate=$t,this.zone=mn,this.isNewVersionAvailable=!1,this.intervalSource=(0,ko.Y)(9e5),this.checkForUpdateOnInterval(),this.checkForUpdateOnLoad()}applyUpdate(){this.swUpdate.activateUpdate().then(()=>document.location.reload()).catch($t=>console.error("Failed to apply updates:",$t))}checkForUpdateOnInterval(){var $t=this;this.intervalSubscription?.unsubscribe(),this.swUpdate.isEnabled&&this.zone.runOutsideAngular(()=>{this.intervalSubscription=this.intervalSource.subscribe((0,H.A)(function*(){if($t.isNewVersionAvailable)yield $t.swUpdate.checkForUpdate();else try{$t.isNewVersionAvailable=yield $t.swUpdate.checkForUpdate(),console.log($t.isNewVersionAvailable?"A new version is available.":"Already on the latest version.")}catch(mn){console.error("Failed to check for updates:",mn)}}))})}checkForUpdateOnLoad(){this.newVersionSubscription?.unsubscribe(),this.swUpdate.isEnabled?(this.newVersionSubscription=this.swUpdate.versionUpdates.subscribe($t=>{switch(console.log("New version update event:"),console.log($t),$t.type){case"VERSION_DETECTED":console.log(`Downloading new app version: ${$t.version.hash}`);break;case"VERSION_READY":console.log(`Current app version: ${$t.currentVersion.hash}`),console.log(`New app version ready for use: ${$t.latestVersion.hash}`),this.isNewVersionAvailable=!0;break;case"VERSION_INSTALLATION_FAILED":console.log(`Failed to install app version '${$t.version.hash}': ${$t.error}`)}}),console.log("Subscribed to new version updates.")):console.log("Service worker updates are disabled for this app.")}static#e=this.\u0275fac=function(mn){return new(mn||ln)(E.KVO(Qt),E.KVO(E.SKi))};static#t=this.\u0275prov=E.jDH({token:ln,factory:ln.\u0275fac,providedIn:"root"})}return ln})();var ji=_(55619),wi=_(33347),Ui=_(39434),La=_(78013),Mi=_(71997);const ls=["*"],Js=ln=>({"sidenav-collapsed":ln}),So=()=>["/settings"],Ki=ln=>["/profile",ln],ps=()=>["/help"],ua=()=>["/accounts"],wa=()=>["/account","did:dht:umj7apgmkodtrb7mdpjo4h7xinqdnatzgy38j7wi67k9c7sdns1o"],cl=()=>["/account/create"];function Ya(ln,pr){1&ln&&E.nrm(0,"img",12)}function Su(ln,pr){if(1&ln&&E.EFF(0),2&ln){const $t=E.XpG().$implicit;E.SpI(" ",$t.title," ")}}function Mu(ln,pr){if(1&ln&&(E.j41(0,"a",13,6)(2,"mat-icon",15),E.EFF(3),E.k0s(),E.DNE(4,Su,1,1),E.k0s()),2&ln){const $t=pr.$implicit,mn=E.sdS(1),vn=E.XpG();E.Y8G("routerLink",$t.path)("activated",mn.isActive),E.R7$(3),E.JRh($t.data.icon),E.R7$(),E.vxM(vn.collapsed()?-1:4)}}function fa(ln,pr){1&ln&&(E.j41(0,"mat-icon",15),E.EFF(1,"chevron_right"),E.k0s())}function eu(ln,pr){1&ln&&(E.j41(0,"mat-icon",15),E.EFF(1,"chevron_left"),E.k0s())}function oh(ln,pr){if(1&ln){const $t=E.RV6();E.j41(0,"button",32),E.bIt("click",function(){E.eBV($t),E.XpG();const vn=E.sdS(2);return E.Njj(vn.toggle())}),E.j41(1,"mat-icon",33),E.EFF(2,"menu"),E.k0s()()}}function ll(ln,pr){if(1&ln){const $t=E.RV6();E.j41(0,"button",34),E.bIt("click",function(){E.eBV($t);const vn=E.XpG();return E.Njj(vn.navigateBack())}),E.j41(1,"mat-icon"),E.EFF(2,"arrow_back"),E.k0s()()}}function tu(ln,pr){if(1&ln){const $t=E.RV6();E.j41(0,"button",35),E.bIt("click",function(){const vn=E.eBV($t).$implicit;return E.Njj(vn.action())}),E.j41(1,"mat-icon"),E.EFF(2),E.k0s()()}if(2&ln){const $t=pr.$implicit;E.Y8G("title",$t.name),E.R7$(2),E.JRh($t.icon)}}function _a(ln,pr){if(1&ln){const $t=E.RV6();E.j41(0,"button",36),E.bIt("click",function(){E.eBV($t);const vn=E.XpG();return E.Njj(vn.applyUpdate())}),E.j41(1,"mat-icon"),E.EFF(2,"get_app"),E.k0s()()}}let ac=(()=>{class ln{constructor(){this.breakpointObserver=(0,E.WQX)(St.QP),this.storage=(0,E.WQX)(Ao.n),this.identity=(0,E.WQX)(A.K),this.updateService=(0,E.WQX)(Jo),this.profileService=(0,E.WQX)(Ui.p),this.layout=(0,E.WQX)(R.Y),this.navigation=(0,E.WQX)(ji.o),this.rootRoutes=$e.filter($t=>$t.path).filter($t=>$t.data&&1!=$t.data.hide),this.isHandset$=this.breakpointObserver.observe("(max-width: 700px)").pipe((0,Ve.T)($t=>$t.matches),(0,bi.t)()),this.collapsed=(0,E.vPA)(!1)}wipe(){var $t=this;return(0,H.A)(function*(){$t.storage.clear(),console.log("Local storage data has been wiped!"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DID_RESOLVERCACHE"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_DATASTORE"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_EVENTLOG"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_MESSAGEINDEX"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_MESSAGESTORE"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/VAULT_STORE"),console.log("Data has been wiped!"),window.location.reload()})()}applyUpdate(){this.updateService.applyUpdate()}lock(){this.identity.lock()}navigateBack(){this.navigation.back()}collapseToggle(){this.collapsed.set(!this.collapsed())}static#e=this.\u0275fac=function(mn){return new(mn||ln)};static#t=this.\u0275cmp=E.VBU({type:ln,selectors:[["app-layout"]],standalone:!0,features:[E.aNF],ngContentSelectors:ls,decls:158,vars:51,consts:[["drawer",""],["menuDebug","matMenu"],["menuNotifications","matMenu"],["menu","matMenu"],["menuAccounts","matMenu"],["menuLanguages","matMenu"],["link","routerLinkActive"],["autosize","",1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"ngClass","mode","opened"],["src","ariton-icon-dark.svg",1,"toolbar-logo"],[1,"toolbar-text"],["srcset","ariton-text-light.svg","media","(prefers-color-scheme: dark)"],["src","ariton-text-dark.svg"],["mat-list-item","","routerLinkActive","",3,"routerLink","activated"],[3,"click"],["matListItemIcon",""],["type","button","aria-label","Toggle sidenav","mat-icon-button",""],["mat-icon-button",""],["mat-icon-button","",3,"title"],[1,"toolbar-spacer"],[1,"toolbar-items"],["matTooltip","Update available. Click to update now.","mat-icon-button",""],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"routerLink"],["mat-menu-item",""],[1,"account-menu-profile"],["onerror","this.src='/avatar-placeholder.png';this.onerror='';",1,"account-menu-profile-icon",3,"src"],["mat-menu-item","",1,"account-menu-item",3,"routerLink"],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"sidenav-scroll-wrapper"],[1,"sidenav-content"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"],["mat-icon-button","",3,"click"],["mat-icon-button","",3,"click","title"],["matTooltip","Update available. Click to update now.","mat-icon-button","",3,"click"]],template:function(mn,vn){if(1&mn){const Kn=E.RV6();E.NAR(),E.j41(0,"mat-sidenav-container",7)(1,"mat-sidenav",8,0),E.nI1(3,"async"),E.nI1(4,"async"),E.nI1(5,"async"),E.j41(6,"mat-toolbar"),E.nrm(7,"img",9),E.j41(8,"picture",10),E.nrm(9,"source",11),E.DNE(10,Ya,1,0,"img",12),E.k0s()(),E.j41(11,"mat-nav-list"),E.Z7z(12,Mu,5,4,"a",13,E.Vm6),E.j41(14,"mat-list-item",14),E.bIt("click",function(){return E.eBV(Kn),E.Njj(vn.collapseToggle())}),E.DNE(15,fa,2,0,"mat-icon",15)(16,eu,2,0,"mat-icon",15),E.k0s()()(),E.j41(17,"mat-sidenav-content")(18,"mat-toolbar"),E.DNE(19,oh,3,0,"button",16),E.nI1(20,"async"),E.DNE(21,ll,3,0,"button",17),E.Z7z(22,tu,3,2,"button",18,E.fX1),E.nrm(24,"span",19),E.j41(25,"span",20),E.DNE(26,_a,3,0,"button",21),E.j41(27,"button",22)(28,"mat-icon"),E.EFF(29,"warning"),E.k0s()(),E.j41(30,"mat-menu",null,1)(32,"button",23),E.bIt("click",function(){return E.eBV(Kn),E.Njj(vn.wipe())}),E.j41(33,"mat-icon"),E.EFF(34,"settings"),E.k0s(),E.j41(35,"span"),E.EFF(36,"Reset All Data (Wipe)"),E.k0s()()(),E.j41(37,"button",22)(38,"mat-icon"),E.EFF(39,"notifications"),E.k0s()(),E.j41(40,"mat-menu",null,2)(42,"button",24)(43,"mat-icon"),E.EFF(44,"settings"),E.k0s(),E.j41(45,"span"),E.EFF(46,"Notification Settings"),E.k0s()(),E.nrm(47,"mat-divider"),E.j41(48,"button",25)(49,"mat-icon"),E.EFF(50,"forum"),E.k0s(),E.j41(51,"span"),E.EFF(52,"Knitting Community posted new pattern"),E.k0s()(),E.j41(53,"button",25)(54,"mat-icon"),E.EFF(55,"face"),E.k0s(),E.j41(56,"span"),E.EFF(57,"Joe sent you a message"),E.k0s()(),E.j41(58,"button",25)(59,"mat-icon"),E.EFF(60,"key"),E.k0s(),E.j41(61,"span"),E.EFF(62,"New security request"),E.k0s()(),E.j41(63,"button",25)(64,"mat-icon"),E.EFF(65,"verified_user"),E.k0s(),E.j41(66,"span"),E.EFF(67,"Social account recovery request"),E.k0s()()(),E.j41(68,"button",22)(69,"mat-icon"),E.EFF(70,"account_circle"),E.k0s()(),E.j41(71,"mat-menu",null,3)(73,"div",26),E.nrm(74,"img",27),E.nI1(75,"safeResourceUrl"),E.j41(76,"div")(77,"h2"),E.EFF(78),E.k0s(),E.EFF(79),E.nrm(80,"br"),E.EFF(81),E.nI1(82,"did"),E.nrm(83,"br"),E.k0s()(),E.j41(84,"button",28)(85,"mat-icon"),E.EFF(86,"account_circle"),E.k0s(),E.j41(87,"span"),E.EFF(88,"View Profile"),E.k0s()(),E.nrm(89,"mat-divider"),E.j41(90,"button",29)(91,"mat-icon"),E.EFF(92,"switch_account"),E.k0s(),E.j41(93,"span"),E.EFF(94,"Accounts"),E.k0s()(),E.j41(95,"button",23),E.bIt("click",function(){return E.eBV(Kn),E.Njj(vn.lock())}),E.j41(96,"mat-icon"),E.EFF(97,"lock"),E.k0s(),E.j41(98,"span"),E.EFF(99,"Lock account"),E.k0s()(),E.nrm(100,"mat-divider"),E.j41(101,"button",29)(102,"mat-icon"),E.EFF(103,"translate"),E.k0s(),E.j41(104,"span"),E.EFF(105,"Language: English"),E.k0s()(),E.nrm(106,"mat-divider"),E.j41(107,"button",24)(108,"mat-icon"),E.EFF(109,"settings"),E.k0s(),E.j41(110,"span"),E.EFF(111,"Settings"),E.k0s()(),E.nrm(112,"mat-divider"),E.j41(113,"button",24)(114,"mat-icon"),E.EFF(115,"help"),E.k0s(),E.j41(116,"span"),E.EFF(117,"Help"),E.k0s()()(),E.j41(118,"mat-menu",null,4)(120,"button",24)(121,"mat-icon"),E.EFF(122,"manage_accounts"),E.k0s(),E.j41(123,"span"),E.EFF(124,"Manage Accounts"),E.k0s()(),E.nrm(125,"mat-divider"),E.j41(126,"button",24)(127,"mat-icon"),E.EFF(128,"account_circle"),E.k0s(),E.j41(129,"span"),E.EFF(130,"Account 1"),E.k0s()(),E.j41(131,"button",24)(132,"mat-icon"),E.EFF(133,"account_circle"),E.k0s(),E.j41(134,"span"),E.EFF(135,"Account 2"),E.k0s()(),E.j41(136,"button",24)(137,"mat-icon"),E.EFF(138,"account_circle"),E.k0s(),E.j41(139,"span"),E.EFF(140,"Account 3"),E.k0s()(),E.nrm(141,"mat-divider"),E.j41(142,"button",24)(143,"mat-icon"),E.EFF(144,"person_add"),E.k0s(),E.j41(145,"span"),E.EFF(146,"Add account"),E.k0s()()(),E.j41(147,"mat-menu",null,5)(149,"button",25)(150,"span"),E.EFF(151,"English"),E.k0s()(),E.j41(152,"button",25)(153,"span"),E.EFF(154,"Norwegian"),E.k0s()()()()(),E.j41(155,"div",30)(156,"div",31),E.SdG(157),E.k0s()()()()}if(2&mn){const Kn=E.sdS(31),ir=E.sdS(41),ci=E.sdS(72),fi=E.sdS(119),No=E.sdS(148);E.R7$(),E.Y8G("ngClass",E.eq3(39,Js,vn.collapsed()))("mode",E.bMT(3,27,vn.isHandset$)?"over":"side")("opened",!1===E.bMT(4,29,vn.isHandset$)),E.BMQ("role",E.bMT(5,31,vn.isHandset$)?"dialog":"navigation"),E.R7$(9),E.vxM(vn.collapsed()?-1:10),E.R7$(2),E.Dyx(vn.rootRoutes),E.R7$(3),E.vxM(vn.collapsed()?15:16),E.R7$(4),E.vxM(E.bMT(20,33,vn.isHandset$)?19:-1),E.R7$(2),E.vxM(vn.layout.navigation()?21:-1),E.R7$(),E.Dyx(vn.layout.actions()),E.R7$(4),E.vxM(vn.updateService.isNewVersionAvailable?26:-1),E.R7$(),E.Y8G("matMenuTriggerFor",Kn),E.R7$(10),E.Y8G("matMenuTriggerFor",ir),E.R7$(5),E.Y8G("routerLink",E.lJ4(41,So)),E.R7$(26),E.Y8G("matMenuTriggerFor",ci),E.R7$(6),E.Y8G("src",E.bMT(75,35,vn.profileService.avatar()),E.B4B),E.R7$(4),E.JRh(vn.profileService.current().name),E.R7$(),E.SpI(" @",vn.profileService.current().title,""),E.R7$(2),E.SpI(" ",E.bMT(82,37,vn.identity.did),""),E.R7$(3),E.Y8G("routerLink",E.eq3(42,Ki,vn.identity.did)),E.R7$(6),E.Y8G("matMenuTriggerFor",fi),E.R7$(11),E.Y8G("matMenuTriggerFor",No),E.R7$(6),E.Y8G("routerLink",E.lJ4(44,So)),E.R7$(6),E.Y8G("routerLink",E.lJ4(45,ps)),E.R7$(7),E.Y8G("routerLink",E.lJ4(46,ua)),E.R7$(6),E.Y8G("routerLink",E.lJ4(47,wa)),E.R7$(5),E.Y8G("routerLink",E.lJ4(48,wa)),E.R7$(5),E.Y8G("routerLink",E.lJ4(49,wa)),E.R7$(6),E.Y8G("routerLink",E.lJ4(50,cl))}},dependencies:[F.MD,F.YU,F.Jj,La.d,K.s5,K.KQ,I.Hl,I.iY,xo,jr,ti,Fr,oe.Fg,oe._L,oe.YE,oe.ZV,Mi.q,j.m_,j.An,re.Cn,re.kk,re.fb,re.Cp,k.Wk,k.wQ,te.uc,te.oV,wi.k],styles:[".toolbar-logo[_ngcontent-%COMP%]{max-height:54px}.account-menu-profile[_ngcontent-%COMP%]{color:var(--mat-menu-item-label-text-color);display:flex;gap:8px;margin:8px;align-items:center}.account-menu-profile[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;padding:0}.account-menu-profile-icon[_ngcontent-%COMP%]{width:64px;border-radius:50%}.account-menu-profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-grow:2}.toolbar-text[_ngcontent-%COMP%]{margin-left:.3em;margin-top:.5em;width:100px;height:32px}.sidenav-container[_ngcontent-%COMP%]{height:100%}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}mat-sidenav-content[_ngcontent-%COMP%]{padding-right:16px}.sidenav-scroll-wrapper[_ngcontent-%COMP%]{height:calc(100dvh - 80px);overflow:auto;border-radius:16px;box-sizing:border-box}.sidenav-content[_ngcontent-%COMP%]{max-height:100%;overflow-y:auto;padding:16px;box-sizing:border-box}.column-content[_ngcontent-%COMP%]{overflow-y:scroll;box-sizing:border-box}.sidenav[_ngcontent-%COMP%]{width:240px;padding:0 8px;box-sizing:border-box}.sidenav-collapsed[_ngcontent-%COMP%]{width:72px}@media (max-width: 959.98px){mat-sidenav-content[_ngcontent-%COMP%]{padding-right:8px;padding-left:8px}.sidenav-scroll-wrapper[_ngcontent-%COMP%]{height:calc(100dvh - 64px)}}"]})}return ln})();var qs=_(9183);function kl(ln,pr){1&ln&&E.nrm(0,"mat-spinner",4)}function dl(ln,pr){1&ln&&(E.j41(0,"span"),E.EFF(1,"Unlock"),E.k0s())}function pc(ln,pr){1&ln&&(E.j41(0,"mat-error"),E.EFF(1,"Password is "),E.j41(2,"strong"),E.EFF(3,"invalid"),E.k0s()())}let Vs=(()=>{class ln{constructor($t){this.identityService=$t,this.passwordInput=new L.MJ("",L.k0.required),this.unlocking=(0,E.vPA)(!1),this.invalidPassword=(0,E.vPA)(!1)}onSubmit(){var $t=this;return(0,H.A)(function*(){$t.unlocking.set(!0),(yield $t.identityService.unlock($t.passwordInput.value))?(console.log("Vault unlocked"),$t.invalidPassword.set(!1)):(console.log("Failed to unlock vault"),$t.invalidPassword.set(!0)),$t.unlocking.set(!1)})()}static#e=this.\u0275fac=function(mn){return new(mn||ln)(E.rXU(A.K))};static#t=this.\u0275cmp=E.VBU({type:ln,selectors:[["app-unlock"]],standalone:!0,features:[E.aNF],decls:18,vars:4,consts:[["src","ariton-icon-dark.svg",1,"unlock-logo"],[3,"ngSubmit"],["matInput","","type","password",3,"formControl"],["mat-flat-button","","type","submit","color","primary",3,"disabled"],["diameter","20"]],template:function(mn,vn){1&mn&&(E.nrm(0,"img",0),E.j41(1,"h1"),E.EFF(2,"Unlock your account"),E.k0s(),E.j41(3,"p"),E.EFF(4,"You have configured your Ariton account with a secure personal password."),E.nrm(5,"br"),E.EFF(6,"Enter password to unlock your account."),E.k0s(),E.j41(7,"form",1),E.bIt("ngSubmit",function(){return vn.onSubmit()}),E.j41(8,"mat-form-field")(9,"mat-label"),E.EFF(10,"Enter your password"),E.k0s(),E.nrm(11,"input",2),E.k0s(),E.EFF(12," \xa0 "),E.j41(13,"button",3),E.DNE(14,kl,1,0,"mat-spinner",4)(15,dl,2,0,"span"),E.k0s(),E.j41(16,"p"),E.DNE(17,pc,4,0,"mat-error"),E.k0s()()),2&mn&&(E.R7$(11),E.Y8G("formControl",vn.passwordInput),E.R7$(2),E.Y8G("disabled",!(vn.passwordInput.valid&&!vn.unlocking())),E.R7$(),E.vxM(vn.unlocking()?14:15),E.R7$(3),E.vxM(vn.invalidPassword()?17:-1))},dependencies:[L.YN,L.qT,L.me,L.BC,L.cb,L.cV,qs.D6,qs.LG,L.X1,L.l_,J.RG,J.rl,J.nJ,J.TL,G.fS,G.fg,I.Hl,I.$z,j.m_],styles:["button[_ngcontent-%COMP%]{width:100px}.unlock-logo[_ngcontent-%COMP%]{max-width:200px}"]})}return ln})();var Dc=_(33065);function Qs(ln,pr){1&ln&&(E.j41(0,"p"),E.EFF(1,"Initializing Ariton..."),E.k0s())}function Ea(ln,pr){if(1&ln){const $t=E.RV6();E.j41(0,"button",7),E.bIt("click",function(){E.eBV($t);const vn=E.XpG(3);return E.Njj(vn.back())}),E.EFF(1,"Back"),E.k0s()}if(2&ln){const $t=E.XpG(3);E.Y8G("disabled",$t.appService.loading())}}function ul(ln,pr){if(1&ln){const $t=E.RV6();E.j41(0,"button",8),E.bIt("click",function(){E.eBV($t);const vn=E.XpG(3);return E.Njj(vn.createAccount())}),E.EFF(1,"Create a new account"),E.k0s(),E.j41(2,"button",7),E.bIt("click",function(){E.eBV($t);const vn=E.XpG(3);return E.Njj(vn.restoreAccount())}),E.EFF(3,"Restore existing account"),E.k0s()}if(2&ln){const $t=E.XpG(3);E.Y8G("disabled",$t.appService.loading()),E.R7$(2),E.Y8G("disabled",!0)}}function mc(ln,pr){1&ln&&E.nrm(0,"app-restore")}function oo(ln,pr){if(1&ln&&(E.j41(0,"div",2),E.DNE(1,Ea,2,1,"button",6)(2,ul,4,2)(3,mc,1,0,"app-restore"),E.k0s()),2&ln){const $t=E.XpG(2);E.R7$(),E.vxM($t.restore()?1:2),E.R7$(2),E.vxM($t.restore()?3:-1)}}function uo(ln,pr){if(1&ln){const $t=E.RV6();E.j41(0,"div",3),E.nrm(1,"app-unlock"),E.j41(2,"p"),E.EFF(3,"Issues? "),E.j41(4,"button",5),E.bIt("click",function(){E.eBV($t);const vn=E.XpG(2);return E.Njj(vn.forceClose())}),E.EFF(5,"Close loading sceen"),E.k0s()()()}}function vo(ln,pr){1&ln&&(E.j41(0,"div",0),E.nrm(1,"img",1),E.j41(2,"div"),E.EFF(3,"Initializing... please wait..."),E.k0s()())}function sd(ln,pr){if(1&ln){const $t=E.RV6();E.j41(0,"div",4)(1,"h1"),E.EFF(2,"Error during initialization. Offline?"),E.k0s(),E.j41(3,"p"),E.EFF(4,"You must be online to create your account."),E.nrm(5,"br"),E.EFF(6,"Please verify network connection and try again."),E.k0s(),E.j41(7,"p")(8,"button",5),E.bIt("click",function(){E.eBV($t);const vn=E.XpG(2);return E.Njj(vn.reload())}),E.EFF(9,"Reload"),E.k0s()()()}}function Od(ln,pr){1&ln&&E.nrm(0,"mat-spinner")}function ds(ln,pr){if(1&ln){const $t=E.RV6();E.j41(0,"div",0),E.nrm(1,"img",1),E.DNE(2,Qs,2,0,"p")(3,oo,4,2,"div",2)(4,uo,6,0,"div",3)(5,vo,4,0,"div",0)(6,sd,10,0,"div",4)(7,Od,1,0,"mat-spinner"),E.j41(8,"p"),E.EFF(9,"Issues? "),E.j41(10,"button",5),E.bIt("click",function(){E.eBV($t);const vn=E.XpG();return E.Njj(vn.forceClose())}),E.EFF(11,"Close loading sceen"),E.k0s()()()}if(2&ln){let $t;const mn=E.XpG();E.R7$(2),E.vxM(0===($t=mn.appService.onboardingState())?2:1===$t?3:2===$t?4:3===$t?5:4===$t?6:-1),E.R7$(5),E.vxM(mn.appService.loading()?7:-1)}}(0,p.B8)((()=>{class ln{countChar($t,mn){return mn.split($t).length-1}constructor($t,mn,vn){this.router=$t,this.layout=mn,this.identityService=vn,this.title="app",this.appService=(0,E.WQX)(x.d),this.restore=(0,E.vPA)(!1);const Kn=globalThis.location.search;if(Kn){const ir=Object.fromEntries(new URLSearchParams(Kn));this.appService.params=ir}console.log(Kn),console.log(this.appService.params),this.router.events.subscribe(ir=>{ir instanceof k.Z?(this.layout.enableScrolling(),this.layout.resetActions()):ir instanceof k.wF&&(this.countChar("/",ir.url)>1?this.layout.enableNavigation():this.layout.disableNavigation())}),(0,E.QZP)(()=>{this.appService.initialized()&&console.log("App has been initialized!!!!")})}forceClose(){this.appService.onboardingState.set(x.f.Unlocked),this.appService.initialized.set(!0)}restoreAccount(){var $t=this;return(0,H.A)(function*(){$t.restore.set(!0)})()}back(){this.restore.set(!1)}createAccount(){var $t=this;return(0,H.A)(function*(){console.log("Creating new account..."),yield $t.appService.createAccount(),$t.router.navigate([$t.appService.state().loginAction])})()}reload(){document.location=document.location}ngOnInit(){var $t=this;return(0,H.A)(function*(){yield $t.appService.initialize()})()}static#e=this.\u0275fac=function(mn){return new(mn||ln)(E.rXU(k.Ix),E.rXU(R.Y),E.rXU(A.K))};static#t=this.\u0275cmp=E.VBU({type:ln,selectors:[["app-root"]],standalone:!0,features:[E.Jv_([{provide:J.U$,useValue:{appearance:"outline"}}]),E.aNF],decls:3,vars:1,consts:[[1,"loading-container"],["src","ariton-icon-dark.svg",1,"loading-logo"],[1,"new-user-actions"],[1,"unlock-container"],[1,"loading-error"],["mat-button","",3,"click"],["mat-button","",3,"disabled"],["mat-button","",3,"click","disabled"],["mat-flat-button","",3,"click","disabled"]],template:function(mn,vn){1&mn&&(E.DNE(0,ds,12,2,"div",0),E.j41(1,"app-layout"),E.nrm(2,"router-outlet"),E.k0s()),2&mn&&E.vxM(vn.appService.initialized()?-1:0)},dependencies:[Dc.RestoreComponent,I.Hl,I.$z,qs.D6,qs.LG,k.n3,ac,Vs],styles:[".unlock-container[_ngcontent-%COMP%]{background-color:var(--mat-app-background-color);color:var(--mat-app-text-color);padding:2em;position:absolute;box-sizing:border-box;width:100%;inset:0;z-index:1000;display:flex;justify-content:center;align-items:center;align-content:center;text-align:center}.loading-container[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(18px);backdrop-filter:blur(18px);color:var(--mat-app-text-color);padding:2em;position:absolute;box-sizing:border-box;width:100%;inset:0;z-index:1001;display:flex;flex-direction:column;align-items:center;justify-content:center}.loading-logo[_ngcontent-%COMP%]{max-width:128px;position:absolute;right:1em;bottom:1em}mat-spinner[_ngcontent-%COMP%]{margin:2em}.new-user-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1em;margin-bottom:1em}"]})}return ln})(),xt).catch(ln=>console.error(ln))},49245:(Fe,z,_)=>{"use strict";_.d(z,{Q:()=>p});const p={protocol:"http://anyone-collaborate-protocol.xyz",published:!0,types:{doc:{}},structure:{doc:{$actions:[{who:"anyone",can:["read","co-update","co-delete"]}]}}}},62060:(Fe,z,_)=>{"use strict";_.d(z,{Q:()=>p});const p={protocol:"http://chat-protocol.xyz",published:!0,types:{thread:{schema:"thread",dataFormats:["application/json"]},message:{schema:"message",dataFormats:["application/json"]}},structure:{thread:{$actions:[{who:"anyone",can:["create","update"]},{who:"author",of:"thread",can:["read"]},{who:"recipient",of:"thread",can:["read"]}],message:{$actions:[{who:"anyone",can:["create","update"]},{who:"author",of:"thread/message",can:["read"]},{who:"recipient",of:"thread/message",can:["read"]}]}}}}},77949:(Fe,z,_)=>{"use strict";_.d(z,{Q:()=>p});const p={protocol:"https://schema.ariton.app/community/entry",published:!0,types:{community:{schema:"https://schema.ariton.app/community/schema/community",dataFormats:["application/json"]},album:{schema:"https://schema.ariton.app/community/schema/album",dataFormats:["text/plain"]},photo:{schema:"https://schema.ariton.app/community/schema/photo",dataFormats:["text/plain"]},friend:{schema:"https://schema.ariton.app/community/schema/friend",dataFormats:["text/plain"]},participant:{schema:"https://schema.ariton.app/community/schema/participant",dataFormats:["text/plain"]},updater:{schema:"https://schema.ariton.app/community/schema/updater",dataFormats:["text/plain"]},globalAdmin:{schema:"https://schema.ariton.app/community/schema/globalAdmin",dataFormats:["application/json"]},admin:{schema:"https://schema.ariton.app/community/schema/admin",dataFormats:["application/json"]}},structure:{globalAdmin:{$role:!0},friend:{$role:!0},community:{$actions:[{role:"globalAdmin",can:["create","update"]}],admin:{$role:!0,$actions:[{role:"globalAdmin",can:["create","update"]}]}}}}},97372:(Fe,z,_)=>{"use strict";_.d(z,{Q:()=>p});const p={protocol:"https://schema.ariton.app/file",published:!0,types:{entry:{schema:"https://schema.ariton.app/file/schema/entry",dataFormats:["application/json"]},attachment:{schema:"https://schema.ariton.app/file/schema/attachment"},collaborator:{schema:"https://schema.ariton.app/file/schema/collaborator",dataFormats:["application/json"]}},structure:{collaborator:{$role:!0},entry:{$actions:[{role:"collaborator",can:["create","update","read","delete"]}]},attachment:{$actions:[{role:"collaborator",can:["create","update","read","delete"]}]}}}},67136:(Fe,z,_)=>{"use strict";_.d(z,{Q:()=>p});const p={protocol:"http://free-for-all-protocol.xyz",published:!0,types:{post:{schema:"eph",dataFormats:["application/json"]},attachment:{}},structure:{post:{$actions:[{who:"anyone",can:["create","update","delete","prune","read","co-delete","co-prune"]}],attachment:{$actions:[{who:"anyone",can:["create","update","delete","read","co-delete"]}]}}}}},22312:(Fe,z,_)=>{"use strict";_.d(z,{Aq:()=>F,ME:()=>R,iU:()=>L,u5:()=>O});var p=_(4053),E=_(77949),H=(_(45189),_(2685)),x=_(69371);const R={uri:p.Q.protocol,definition:p.Q},O={uri:H.Q.protocol,definition:H.Q},F={uri:E.Q.protocol,definition:E.Q},L={uri:x.Q.protocol,definition:x.Q}},69371:(Fe,z,_)=>{"use strict";_.d(z,{Q:()=>p});const p={protocol:"https://schema.ariton.app/message",published:!0,types:{message:{schema:"https://schema.ariton.app/message/schema/message",dataFormats:["application/json"]},writer:{schema:"https://schema.ariton.app/message/schema/writer",dataFormats:["application/json"]},request:{schema:"https://schema.ariton.app/message/schema/request",dataFormats:["application/json"]}},structure:{writer:{$role:!0},message:{$actions:[{role:"writer",can:["create","update"]},{who:"author",of:"message",can:["read"]},{who:"recipient",of:"message",can:["read"]}]},request:{$actions:[{who:"anyone",can:["create","update","delete"]},{who:"author",of:"request",can:["read","create","delete"]},{who:"recipient",of:"request",can:["read","create","delete","co-delete"]}]}}}},1639:(Fe,z,_)=>{"use strict";_.d(z,{Q:()=>p});const p={protocol:"http://minimal.xyz",published:!1,types:{foo:{}},structure:{foo:{}}}},69314:(Fe,z,_)=>{"use strict";_.d(z,{Q:()=>p});const p={protocol:"https://schema.ariton.app/note",published:!0,types:{note:{schema:"https://schema.ariton.app/note/schema/note",dataFormats:["application/json"]},collaborator:{schema:"https://schema.ariton.app/note/schema/collaborator",dataFormats:["application/json"]}},structure:{collaborator:{$role:!0},note:{$actions:[{role:"collaborator",can:["create","update","read","delete"]}]}}}},4053:(Fe,z,_)=>{"use strict";_.d(z,{Q:()=>p});const p={published:!0,protocol:"https://schema.ariton.app/profile/entry",types:{profile:{schema:"https://schema.ariton.app/profile/schema/profile",dataFormats:["application/json"]},bio:{dataFormats:["application/json"]},status:{dataFormats:["application/json"]},location:{dataFormats:["application/json"]},birthDate:{dataFormats:["application/json"]},social:{dataFormats:["application/json"]},messaging:{dataFormats:["application/json"]},phone:{dataFormats:["application/json"]},address:{dataFormats:["application/json"]},career:{dataFormats:["application/json"]},payment:{dataFormats:["application/json"]},avatar:{dataFormats:["image/gif","image/png","image/jpeg"]},hero:{dataFormats:["image/gif","image/png","image/jpeg"]}},structure:{profile:{$actions:[{who:"anyone",can:["read"]}]},bio:{},status:{},location:{},birthDate:{},social:{},career:{},avatar:{$actions:[{who:"anyone",can:["read"]}]},hero:{$actions:[{who:"anyone",can:["read"]}]},messaging:{},address:{},phone:{},payment:{}}}},2685:(Fe,z,_)=>{"use strict";_.d(z,{Q:()=>p});const p={published:!0,protocol:"https://schema.ariton.app/registry/entry",types:{profile:{dataFormats:["application/json"]},avatar:{dataFormats:["image/gif","image/png","image/jpeg"]},hero:{dataFormats:["image/gif","image/png","image/jpeg"]}},structure:{profile:{},avatar:{},hero:{}}}},45189:(Fe,z,_)=>{"use strict";_.d(z,{Q:()=>p});const p={protocol:"https://social-media.xyz",published:!0,types:{post:{schema:"https://social-media.xyz/schemas/postSchema",dataFormats:["text/plain"]},reply:{schema:"https://social-media.xyz/schemas/replySchema",dataFormats:["text/plain"]},image:{dataFormats:["image/jpeg"]},caption:{schema:"https://social-media.xyz/schemas/captionSchema",dataFormats:["text/plain"]}},structure:{post:{$actions:[{who:"anyone",can:["create","read"]}],reply:{$actions:[{who:"recipient",of:"post",can:["create"]},{who:"author",of:"post",can:["create"]}]}},image:{$actions:[{who:"anyone",can:["create","read"]}],caption:{$actions:[{who:"anyone",can:["read"]},{who:"author",of:"image",can:["create"]}]},reply:{$actions:[{who:"author",of:"image",can:["read"]},{who:"recipient",of:"image",can:["create"]}]}}}}},4521:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.createCurve=z.getHash=void 0;const p=_(44882),E=_(96492),k=_(73040);function H(R){return{hash:R,hmac:(A,...O)=>(0,p.hmac)(R,A,(0,E.concatBytes)(...O)),randomBytes:E.randomBytes}}z.getHash=H,z.createCurve=function x(R,A){const O=F=>(0,k.weierstrass)({...R,...H(F)});return Object.freeze({...O(A),create:O})}},25299:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateBasic=z.wNAF=void 0;const p=_(63834),E=_(84097),k=BigInt(0),H=BigInt(1);z.wNAF=function x(A,O){const F=(I,Z)=>{const j=Z.negate();return I?j:Z},L=I=>({windows:Math.ceil(O/I)+1,windowSize:2**(I-1)});return{constTimeNegate:F,unsafeLadder(I,Z){let j=A.ZERO,G=I;for(;Z>k;)Z&H&&(j=j.add(G)),G=G.double(),Z>>=H;return j},precomputeWindow(I,Z){const{windows:j,windowSize:G}=L(Z),re=[];let te=I,J=te;for(let Y=0;Y<j;Y++){J=te,re.push(J);for(let oe=1;oe<G;oe++)J=J.add(te),re.push(J);te=J.double()}return re},wNAF(I,Z,j){const{windows:G,windowSize:re}=L(I);let te=A.ZERO,J=A.BASE;const Y=BigInt(2**I-1),oe=2**I,ae=BigInt(I);for(let se=0;se<G;se++){const de=se*re;let le=Number(j&Y);j>>=ae,le>re&&(le-=oe,j+=H);const we=de,xe=de+Math.abs(le)-1,C=le<0;0===le?J=J.add(F(se%2!=0,Z[we])):te=te.add(F(C,Z[xe]))}return{p:te,f:J}},wNAFCached(I,Z,j,G){const re=I._WINDOW_SIZE||1;let te=Z.get(I);return te||(te=this.precomputeWindow(I,re),1!==re&&Z.set(I,G(te))),this.wNAF(re,te,j)}}},z.validateBasic=function R(A){return(0,p.validateField)(A.Fp),(0,E.validateObject)(A,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,p.nLength)(A.n,A.nBitLength),...A,p:A.Fp.ORDER})}},45068:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.twistedEdwards=void 0;const p=_(63834),E=_(84097),k=_(84097),H=_(25299),x=BigInt(0),R=BigInt(1),A=BigInt(2),O=BigInt(8),F={zip215:!0};z.twistedEdwards=function I(Z){const j=function L(Z){const j=(0,H.validateBasic)(Z);return E.validateObject(Z,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...j})}(Z),{Fp:G,n:re,prehash:te,hash:J,randomBytes:Y,nByteLength:oe,h:ae}=j,se=A<<BigInt(8*oe)-R,de=G.create,le=j.uvRatio||((be,Ne)=>{try{return{isValid:!0,value:G.sqrt(be*G.inv(Ne))}}catch{return{isValid:!1,value:x}}}),we=j.adjustScalarBytes||(be=>be),xe=j.domain||((be,Ne,ye)=>{if(Ne.length||ye)throw new Error("Contexts/pre-hash are not supported");return be}),Ce=be=>"bigint"==typeof be&&x<be,C=(be,Ne)=>Ce(be)&&Ce(Ne)&&be<Ne,a=be=>be===x||C(be,se);function u(be,Ne){if(C(be,Ne))return be;throw new Error(`Expected valid scalar < ${Ne}, got ${typeof be} ${be}`)}function y(be){return be===x?be:u(be,re)}const g=new Map;function S(be){if(!(be instanceof T))throw new Error("ExtendedPoint expected")}class T{constructor(Ne,ye,Te,pe){if(this.ex=Ne,this.ey=ye,this.ez=Te,this.et=pe,!a(Ne))throw new Error("x required");if(!a(ye))throw new Error("y required");if(!a(Te))throw new Error("z required");if(!a(pe))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Ne){if(Ne instanceof T)throw new Error("extended point not allowed");const{x:ye,y:Te}=Ne||{};if(!a(ye)||!a(Te))throw new Error("invalid affine point");return new T(ye,Te,R,de(ye*Te))}static normalizeZ(Ne){const ye=G.invertBatch(Ne.map(Te=>Te.ez));return Ne.map((Te,pe)=>Te.toAffine(ye[pe])).map(T.fromAffine)}_setWindowSize(Ne){this._WINDOW_SIZE=Ne,g.delete(this)}assertValidity(){const{a:Ne,d:ye}=j;if(this.is0())throw new Error("bad point: ZERO");const{ex:Te,ey:pe,ez:fe,et:Q}=this,ie=de(Te*Te),ue=de(pe*pe),Ee=de(fe*fe),ke=de(Ee*Ee),Ue=de(ie*Ne);if(de(Ee*de(Ue+ue))!==de(ke+de(ye*de(ie*ue))))throw new Error("bad point: equation left != right (1)");if(de(Te*pe)!==de(fe*Q))throw new Error("bad point: equation left != right (2)")}equals(Ne){S(Ne);const{ex:ye,ey:Te,ez:pe}=this,{ex:fe,ey:Q,ez:ie}=Ne,ue=de(ye*ie),Ee=de(fe*pe),ke=de(Te*ie),Ue=de(Q*pe);return ue===Ee&&ke===Ue}is0(){return this.equals(T.ZERO)}negate(){return new T(de(-this.ex),this.ey,this.ez,de(-this.et))}double(){const{a:Ne}=j,{ex:ye,ey:Te,ez:pe}=this,fe=de(ye*ye),Q=de(Te*Te),ie=de(A*de(pe*pe)),ue=de(Ne*fe),Ee=ye+Te,ke=de(de(Ee*Ee)-fe-Q),Ue=ue+Q,Le=Ue-ie,_t=ue-Q,Ve=de(ke*Le),Be=de(Ue*_t),lt=de(ke*_t),B=de(Le*Ue);return new T(Ve,Be,B,lt)}add(Ne){S(Ne);const{a:ye,d:Te}=j,{ex:pe,ey:fe,ez:Q,et:ie}=this,{ex:ue,ey:Ee,ez:ke,et:Ue}=Ne;if(ye===BigInt(-1)){const Qe=de((fe-pe)*(Ee+ue)),Bt=de((fe+pe)*(Ee-ue)),gt=de(Bt-Qe);if(gt===x)return this.double();const It=de(Q*A*Ue),Gt=de(ie*A*ke),un=Gt+It,an=Bt+Qe,sr=Gt-It,Mn=de(un*gt),Qt=de(an*sr),qt=de(un*sr),Et=de(gt*an);return new T(Mn,Qt,Et,qt)}const Le=de(pe*ue),_t=de(fe*Ee),Ve=de(ie*Te*Ue),Be=de(Q*ke),lt=de((pe+fe)*(ue+Ee)-Le-_t),B=Be-Ve,w=Be+Ve,m=de(_t-ye*Le),U=de(lt*B),ne=de(w*m),ge=de(lt*m),Ae=de(B*w);return new T(U,ne,Ae,ge)}subtract(Ne){return this.add(Ne.negate())}wNAF(Ne){return s.wNAFCached(this,g,Ne,T.normalizeZ)}multiply(Ne){const{p:ye,f:Te}=this.wNAF(u(Ne,re));return T.normalizeZ([ye,Te])[0]}multiplyUnsafe(Ne){let ye=y(Ne);return ye===x?M:this.equals(M)||ye===R?this:this.equals(N)?this.wNAF(ye).p:s.unsafeLadder(this,ye)}isSmallOrder(){return this.multiplyUnsafe(ae).is0()}isTorsionFree(){return s.unsafeLadder(this,re).is0()}toAffine(Ne){const{ex:ye,ey:Te,ez:pe}=this,fe=this.is0();null==Ne&&(Ne=fe?O:G.inv(pe));const Q=de(ye*Ne),ie=de(Te*Ne),ue=de(pe*Ne);if(fe)return{x,y:R};if(ue!==R)throw new Error("invZ was invalid");return{x:Q,y:ie}}clearCofactor(){const{h:Ne}=j;return Ne===R?this:this.multiplyUnsafe(Ne)}static fromHex(Ne,ye=!1){const{d:Te,a:pe}=j,fe=G.BYTES,Q=(Ne=(0,k.ensureBytes)("pointHex",Ne,fe)).slice(),ie=Ne[fe-1];Q[fe-1]=-129&ie;const ue=E.bytesToNumberLE(Q);ue===x||u(ue,ye?se:G.ORDER);const Ee=de(ue*ue),ke=de(Ee-R),Ue=de(Te*Ee-pe);let{isValid:Le,value:_t}=le(ke,Ue);if(!Le)throw new Error("Point.fromHex: invalid y coordinate");const Ve=(_t&R)===R,Be=!!(128&ie);if(!ye&&_t===x&&Be)throw new Error("Point.fromHex: x=0 and x_0=1");return Be!==Ve&&(_t=de(-_t)),T.fromAffine({x:_t,y:ue})}static fromPrivateKey(Ne){return K(Ne).point}toRawBytes(){const{x:Ne,y:ye}=this.toAffine(),Te=E.numberToBytesLE(ye,G.BYTES);return Te[Te.length-1]|=Ne&R?128:0,Te}toHex(){return E.bytesToHex(this.toRawBytes())}}T.BASE=new T(j.Gx,j.Gy,R,de(j.Gx*j.Gy)),T.ZERO=new T(x,R,R,x);const{BASE:N,ZERO:M}=T,s=(0,H.wNAF)(T,8*oe);function v(be){return(0,p.mod)(be,re)}function W(be){return v(E.bytesToNumberLE(be))}function K(be){const Ne=oe;be=(0,k.ensureBytes)("private key",be,Ne);const ye=(0,k.ensureBytes)("hashed private key",J(be),2*Ne),Te=we(ye.slice(0,Ne)),pe=ye.slice(Ne,2*Ne),fe=W(Te),Q=N.multiply(fe),ie=Q.toRawBytes();return{head:Te,prefix:pe,scalar:fe,point:Q,pointBytes:ie}}function ce(be=new Uint8Array,...Ne){const ye=E.concatBytes(...Ne);return W(J(xe(ye,(0,k.ensureBytes)("context",be),!!te)))}const Pe=F;return N._setWindowSize(8),{CURVE:j,getPublicKey:function ee(be){return K(be).pointBytes},sign:function _e(be,Ne,ye={}){be=(0,k.ensureBytes)("message",be),te&&(be=te(be));const{prefix:Te,scalar:pe,pointBytes:fe}=K(Ne),Q=ce(ye.context,Te,be),ie=N.multiply(Q).toRawBytes(),Ee=v(Q+ce(ye.context,ie,fe,be)*pe);y(Ee);const ke=E.concatBytes(ie,E.numberToBytesLE(Ee,G.BYTES));return(0,k.ensureBytes)("result",ke,2*oe)},verify:function $e(be,Ne,ye,Te=Pe){const{context:pe,zip215:fe}=Te,Q=G.BYTES;be=(0,k.ensureBytes)("signature",be,2*Q),Ne=(0,k.ensureBytes)("message",Ne),te&&(Ne=te(Ne));const ie=E.bytesToNumberLE(be.slice(Q,2*Q));let ue,Ee,ke;try{ue=T.fromHex(ye,fe),Ee=T.fromHex(be.slice(0,Q),fe),ke=N.multiplyUnsafe(ie)}catch{return!1}if(!fe&&ue.isSmallOrder())return!1;const Ue=ce(pe,Ee.toRawBytes(),ue.toRawBytes(),Ne);return Ee.add(ue.multiplyUnsafe(Ue)).subtract(ke).clearCofactor().equals(T.ZERO)},ExtendedPoint:T,utils:{getExtendedPublicKey:K,randomPrivateKey:()=>Y(G.BYTES),precompute:(be=8,Ne=T.BASE)=>(Ne._setWindowSize(be),Ne.multiply(BigInt(3)),Ne)}}}},75752:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.createHasher=z.isogenyMap=z.hash_to_field=z.expand_message_xof=z.expand_message_xmd=void 0;const p=_(63834),E=_(84097),H=E.bytesToNumberBE;function x(G,re){if(G<0||G>=1<<8*re)throw new Error(`bad I2OSP call: value=${G} length=${re}`);const te=Array.from({length:re}).fill(0);for(let J=re-1;J>=0;J--)te[J]=255&G,G>>>=8;return new Uint8Array(te)}function R(G,re){const te=new Uint8Array(G.length);for(let J=0;J<G.length;J++)te[J]=G[J]^re[J];return te}function A(G){if(!(0,E.isBytes)(G))throw new Error("Uint8Array expected")}function O(G){if(!Number.isSafeInteger(G))throw new Error("number expected")}function F(G,re,te,J){A(G),A(re),O(te),re.length>255&&(re=J((0,E.concatBytes)((0,E.utf8ToBytes)("H2C-OVERSIZE-DST-"),re)));const{outputLen:Y,blockLen:oe}=J,ae=Math.ceil(te/Y);if(ae>255)throw new Error("Invalid xmd length");const se=(0,E.concatBytes)(re,x(re.length,1)),de=x(0,oe),le=x(te,2),we=new Array(ae),xe=J((0,E.concatBytes)(de,G,le,x(0,1),se));we[0]=J((0,E.concatBytes)(xe,x(1,1),se));for(let C=1;C<=ae;C++){const a=[R(xe,we[C-1]),x(C+1,1),se];we[C]=J((0,E.concatBytes)(...a))}return(0,E.concatBytes)(...we).slice(0,te)}function L(G,re,te,J,Y){if(A(G),A(re),O(te),re.length>255){const oe=Math.ceil(2*J/8);re=Y.create({dkLen:oe}).update((0,E.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(re).digest()}if(te>65535||re.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return Y.create({dkLen:te}).update(G).update(x(te,2)).update(re).update(x(re.length,1)).digest()}function I(G,re,te){(0,E.validateObject)(te,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:J,k:Y,m:oe,hash:ae,expand:se,DST:de}=te;A(G),O(re);const le=function k(G){if((0,E.isBytes)(G))return G;if("string"==typeof G)return(0,E.utf8ToBytes)(G);throw new Error("DST must be Uint8Array or string")}(de),we=J.toString(2).length,xe=Math.ceil((we+Y)/8),Ce=re*oe*xe;let C;if("xmd"===se)C=F(G,le,Ce,ae);else if("xof"===se)C=L(G,le,Ce,Y,ae);else{if("_internal_pass"!==se)throw new Error('expand must be "xmd" or "xof"');C=G}const a=new Array(re);for(let u=0;u<re;u++){const y=new Array(oe);for(let g=0;g<oe;g++){const S=xe*(g+u*oe),T=C.subarray(S,S+xe);y[g]=(0,p.mod)(H(T),J)}a[u]=y}return a}z.expand_message_xmd=F,z.expand_message_xof=L,z.hash_to_field=I,z.isogenyMap=function Z(G,re){const te=re.map(J=>Array.from(J).reverse());return(J,Y)=>{const[oe,ae,se,de]=te.map(le=>le.reduce((we,xe)=>G.add(G.mul(we,J),xe)));return J=G.div(oe,ae),Y=G.mul(Y,G.div(se,de)),{x:J,y:Y}}},z.createHasher=function j(G,re,te){if("function"!=typeof re)throw new Error("mapToCurve() must be defined");return{hashToCurve(J,Y){const oe=I(J,2,{...te,DST:te.DST,...Y}),ae=G.fromAffine(re(oe[0])),se=G.fromAffine(re(oe[1])),de=ae.add(se).clearCofactor();return de.assertValidity(),de},encodeToCurve(J,Y){const oe=I(J,1,{...te,DST:te.encodeDST,...Y}),ae=G.fromAffine(re(oe[0])).clearCofactor();return ae.assertValidity(),ae}}}},63834:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.mapHashToField=z.getMinHashLength=z.getFieldBytesLength=z.hashToPrivateScalar=z.FpSqrtEven=z.FpSqrtOdd=z.Field=z.nLength=z.FpIsSquare=z.FpDiv=z.FpInvertBatch=z.FpPow=z.validateField=z.isNegativeLE=z.FpSqrt=z.tonelliShanks=z.invert=z.pow2=z.pow=z.mod=void 0;const p=_(84097),E=BigInt(0),k=BigInt(1),H=BigInt(2),x=BigInt(3),R=BigInt(4),A=BigInt(5),O=BigInt(8);function I(S,T){const N=S%T;return N>=E?N:T+N}function Z(S,T,N){if(N<=E||T<E)throw new Error("Expected power/modulo > 0");if(N===k)return E;let M=k;for(;T>E;)T&k&&(M=M*S%N),S=S*S%N,T>>=k;return M}function G(S,T){if(S===E||T<=E)throw new Error(`invert: expected positive integers, got n=${S} mod=${T}`);let N=I(S,T),M=T,s=E,v=k,W=k,K=E;for(;N!==E;){const ce=M/N,_e=M%N,Pe=s-W*ce,$e=v-K*ce;M=N,N=_e,s=W,v=K,W=Pe,K=$e}if(M!==k)throw new Error("invert: does not exist");return I(s,T)}function re(S){const T=(S-k)/H;let N,M,s;for(N=S-k,M=0;N%H===E;N/=H,M++);for(s=H;s<S&&Z(s,T,S)!==S-k;s++);if(1===M){const W=(S+k)/R;return function(ee,ce){const _e=ee.pow(ce,W);if(!ee.eql(ee.sqr(_e),ce))throw new Error("Cannot find square root");return _e}}const v=(N+k)/H;return function(K,ee){if(K.pow(ee,T)===K.neg(K.ONE))throw new Error("Cannot find square root");let ce=M,_e=K.pow(K.mul(K.ONE,s),N),Pe=K.pow(ee,v),$e=K.pow(ee,N);for(;!K.eql($e,K.ONE);){if(K.eql($e,K.ZERO))return K.ZERO;let Se=1;for(let Ne=K.sqr($e);Se<ce&&!K.eql(Ne,K.ONE);Se++)Ne=K.sqr(Ne);const be=K.pow(_e,k<<BigInt(ce-Se-1));_e=K.sqr(be),Pe=K.mul(Pe,be),$e=K.mul($e,_e),ce=Se}return Pe}}function te(S){if(S%R===x){const T=(S+k)/R;return function(M,s){const v=M.pow(s,T);if(!M.eql(M.sqr(v),s))throw new Error("Cannot find square root");return v}}if(S%O===A){const T=(S-A)/O;return function(M,s){const v=M.mul(s,H),W=M.pow(v,T),K=M.mul(s,W),ee=M.mul(M.mul(K,H),W),ce=M.mul(K,M.sub(ee,M.ONE));if(!M.eql(M.sqr(ce),s))throw new Error("Cannot find square root");return ce}}return re(S)}BigInt(9),BigInt(16),z.mod=I,z.pow=Z,z.pow2=function j(S,T,N){let M=S;for(;T-- >E;)M*=M,M%=N;return M},z.invert=G,z.tonelliShanks=re,z.FpSqrt=te,z.isNegativeLE=(S,T)=>(I(S,T)&k)===k;const Y=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ae(S,T,N){if(N<E)throw new Error("Expected power > 0");if(N===E)return S.ONE;if(N===k)return T;let M=S.ONE,s=T;for(;N>E;)N&k&&(M=S.mul(M,s)),s=S.sqr(s),N>>=k;return M}function se(S,T){const N=new Array(T.length),M=T.reduce((v,W,K)=>S.is0(W)?v:(N[K]=v,S.mul(v,W)),S.ONE),s=S.inv(M);return T.reduceRight((v,W,K)=>S.is0(W)?v:(N[K]=S.mul(v,N[K]),S.mul(v,W)),s),N}function we(S,T){const N=void 0!==T?T:S.toString(2).length;return{nBitLength:N,nByteLength:Math.ceil(N/8)}}function u(S){if("bigint"!=typeof S)throw new Error("field order must be bigint");const T=S.toString(2).length;return Math.ceil(T/8)}function y(S){const T=u(S);return T+Math.ceil(T/2)}z.validateField=function oe(S){const N=Y.reduce((M,s)=>(M[s]="function",M),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,p.validateObject)(S,N)},z.FpPow=ae,z.FpInvertBatch=se,z.FpDiv=function de(S,T,N){return S.mul(T,"bigint"==typeof N?G(N,S.ORDER):S.inv(N))},z.FpIsSquare=function le(S){const T=(S.ORDER-k)/H;return N=>{const M=S.pow(N,T);return S.eql(M,S.ZERO)||S.eql(M,S.ONE)}},z.nLength=we,z.Field=function xe(S,T,N=!1,M={}){if(S<=E)throw new Error(`Expected Field ORDER > 0, got ${S}`);const{nBitLength:s,nByteLength:v}=we(S,T);if(v>2048)throw new Error("Field lengths over 2048 bytes are not supported");const W=te(S),K=Object.freeze({ORDER:S,BITS:s,BYTES:v,MASK:(0,p.bitMask)(s),ZERO:E,ONE:k,create:ee=>I(ee,S),isValid:ee=>{if("bigint"!=typeof ee)throw new Error("Invalid field element: expected bigint, got "+typeof ee);return E<=ee&&ee<S},is0:ee=>ee===E,isOdd:ee=>(ee&k)===k,neg:ee=>I(-ee,S),eql:(ee,ce)=>ee===ce,sqr:ee=>I(ee*ee,S),add:(ee,ce)=>I(ee+ce,S),sub:(ee,ce)=>I(ee-ce,S),mul:(ee,ce)=>I(ee*ce,S),pow:(ee,ce)=>ae(K,ee,ce),div:(ee,ce)=>I(ee*G(ce,S),S),sqrN:ee=>ee*ee,addN:(ee,ce)=>ee+ce,subN:(ee,ce)=>ee-ce,mulN:(ee,ce)=>ee*ce,inv:ee=>G(ee,S),sqrt:M.sqrt||(ee=>W(K,ee)),invertBatch:ee=>se(K,ee),cmov:(ee,ce,_e)=>_e?ce:ee,toBytes:ee=>N?(0,p.numberToBytesLE)(ee,v):(0,p.numberToBytesBE)(ee,v),fromBytes:ee=>{if(ee.length!==v)throw new Error(`Fp.fromBytes: expected ${v}, got ${ee.length}`);return N?(0,p.bytesToNumberLE)(ee):(0,p.bytesToNumberBE)(ee)}});return Object.freeze(K)},z.FpSqrtOdd=function Ce(S,T){if(!S.isOdd)throw new Error("Field doesn't have isOdd");const N=S.sqrt(T);return S.isOdd(N)?N:S.neg(N)},z.FpSqrtEven=function C(S,T){if(!S.isOdd)throw new Error("Field doesn't have isOdd");const N=S.sqrt(T);return S.isOdd(N)?S.neg(N):N},z.hashToPrivateScalar=function a(S,T,N=!1){const M=(S=(0,p.ensureBytes)("privateHash",S)).length,s=we(T).nByteLength+8;if(s<24||M<s||M>1024)throw new Error(`hashToPrivateScalar: expected ${s}-1024 bytes of input, got ${M}`);return I(N?(0,p.bytesToNumberLE)(S):(0,p.bytesToNumberBE)(S),T-k)+k},z.getFieldBytesLength=u,z.getMinHashLength=y,z.mapHashToField=function g(S,T,N=!1){const M=S.length,s=u(T),v=y(T);if(M<16||M<v||M>1024)throw new Error(`expected ${v}-1024 bytes of input, got ${M}`);const K=I(N?(0,p.bytesToNumberBE)(S):(0,p.bytesToNumberLE)(S),T-k)+k;return N?(0,p.numberToBytesLE)(K,s):(0,p.numberToBytesBE)(K,s)}},27661:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.montgomery=void 0;const p=_(63834),E=_(84097),k=BigInt(0),H=BigInt(1);z.montgomery=function R(A){const O=function x(A){return(0,E.validateObject)(A,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...A})}(A),{P:F}=O,L=Ce=>(0,p.mod)(Ce,F),I=O.montgomeryBits,Z=Math.ceil(I/8),j=O.nByteLength,G=O.adjustScalarBytes||(Ce=>Ce),re=O.powPminus2||(Ce=>(0,p.pow)(Ce,F-BigInt(2),F));function te(Ce,C,a){const u=L(Ce*(C-a));return[C=L(C-u),a=L(a+u)]}function J(Ce){if("bigint"==typeof Ce&&k<=Ce&&Ce<F)return Ce;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const Y=(O.a-BigInt(2))/BigInt(4);function ae(Ce){return(0,E.numberToBytesLE)(L(Ce),Z)}function le(Ce,C){const a=function se(Ce){const C=(0,E.ensureBytes)("u coordinate",Ce,Z);return 32===j&&(C[31]&=127),(0,E.bytesToNumberLE)(C)}(C),u=function de(Ce){const C=(0,E.ensureBytes)("scalar",Ce),a=C.length;if(a!==Z&&a!==j)throw new Error(`Expected ${Z} or ${j} bytes, got ${a}`);return(0,E.bytesToNumberLE)(G(C))}(Ce),y=function oe(Ce,C){const a=J(Ce),u=J(C),y=a;let s,g=H,S=k,T=a,N=H,M=k;for(let W=BigInt(I-1);W>=k;W--){const K=u>>W&H;M^=K,s=te(M,g,T),g=s[0],T=s[1],s=te(M,S,N),S=s[0],N=s[1],M=K;const ee=g+S,ce=L(ee*ee),_e=g-S,Pe=L(_e*_e),$e=ce-Pe,Se=T+N,Ne=L((T-N)*ee),ye=L(Se*_e),Te=Ne+ye,pe=Ne-ye;T=L(Te*Te),N=L(y*L(pe*pe)),g=L(ce*Pe),S=L($e*(ce+L(Y*$e)))}s=te(M,g,T),g=s[0],T=s[1],s=te(M,S,N),S=s[0],N=s[1];const v=re(S);return L(g*v)}(a,u);if(y===k)throw new Error("Invalid private or public key received");return ae(y)}const we=ae(O.Gu);function xe(Ce){return le(Ce,we)}return{scalarMult:le,scalarMultBase:xe,getSharedSecret:(Ce,C)=>le(Ce,C),getPublicKey:Ce=>xe(Ce),utils:{randomPrivateKey:()=>O.randomBytes(O.nByteLength)},GuBytes:we}}},84097:(Fe,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateObject=z.createHmacDrbg=z.bitMask=z.bitSet=z.bitGet=z.bitLen=z.utf8ToBytes=z.equalBytes=z.concatBytes=z.ensureBytes=z.numberToVarBytesBE=z.numberToBytesLE=z.numberToBytesBE=z.bytesToNumberLE=z.bytesToNumberBE=z.hexToBytes=z.hexToNumber=z.numberToHexUnpadded=z.bytesToHex=z.isBytes=void 0;const _=BigInt(0),p=BigInt(1),E=BigInt(2);function k(u){return u instanceof Uint8Array||null!=u&&"object"==typeof u&&"Uint8Array"===u.constructor.name}z.isBytes=k;const H=Array.from({length:256},(u,y)=>y.toString(16).padStart(2,"0"));function x(u){if(!k(u))throw new Error("Uint8Array expected");let y="";for(let g=0;g<u.length;g++)y+=H[u[g]];return y}function R(u){const y=u.toString(16);return 1&y.length?`0${y}`:y}function A(u){if("string"!=typeof u)throw new Error("hex string expected, got "+typeof u);return BigInt(""===u?"0":`0x${u}`)}z.bytesToHex=x,z.numberToHexUnpadded=R,z.hexToNumber=A;const O={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function F(u){return u>=O._0&&u<=O._9?u-O._0:u>=O._A&&u<=O._F?u-(O._A-10):u>=O._a&&u<=O._f?u-(O._a-10):void 0}function L(u){if("string"!=typeof u)throw new Error("hex string expected, got "+typeof u);const y=u.length,g=y/2;if(y%2)throw new Error("padded hex string expected, got unpadded hex of length "+y);const S=new Uint8Array(g);for(let T=0,N=0;T<g;T++,N+=2){const M=F(u.charCodeAt(N)),s=F(u.charCodeAt(N+1));if(void 0===M||void 0===s)throw new Error('hex string expected, got non-hex character "'+(u[N]+u[N+1])+'" at index '+N);S[T]=16*M+s}return S}function j(u,y){return L(u.toString(16).padStart(2*y,"0"))}function J(...u){let y=0;for(let T=0;T<u.length;T++){const N=u[T];if(!k(N))throw new Error("Uint8Array expected");y+=N.length}let g=new Uint8Array(y),S=0;for(let T=0;T<u.length;T++){const N=u[T];g.set(N,S),S+=N.length}return g}z.hexToBytes=L,z.bytesToNumberBE=function I(u){return A(x(u))},z.bytesToNumberLE=function Z(u){if(!k(u))throw new Error("Uint8Array expected");return A(x(Uint8Array.from(u).reverse()))},z.numberToBytesBE=j,z.numberToBytesLE=function G(u,y){return j(u,y).reverse()},z.numberToVarBytesBE=function re(u){return L(R(u))},z.ensureBytes=function te(u,y,g){let S;if("string"==typeof y)try{S=L(y)}catch(N){throw new Error(`${u} must be valid hex string, got "${y}". Cause: ${N}`)}else{if(!k(y))throw new Error(`${u} must be hex string or Uint8Array`);S=Uint8Array.from(y)}const T=S.length;if("number"==typeof g&&T!==g)throw new Error(`${u} expected ${g} bytes, got ${T}`);return S},z.concatBytes=J,z.equalBytes=function Y(u,y){if(u.length!==y.length)return!1;let g=0;for(let S=0;S<u.length;S++)g|=u[S]^y[S];return 0===g},z.utf8ToBytes=function oe(u){if("string"!=typeof u)throw new Error("utf8ToBytes expected string, got "+typeof u);return new Uint8Array((new TextEncoder).encode(u))},z.bitLen=function ae(u){let y;for(y=0;u>_;u>>=p,y+=1);return y},z.bitGet=function se(u,y){return u>>BigInt(y)&p},z.bitSet=(u,y,g)=>u|(g?p:_)<<BigInt(y),z.bitMask=u=>(E<<BigInt(u-1))-p;const we=u=>new Uint8Array(u),xe=u=>Uint8Array.from(u);z.createHmacDrbg=function Ce(u,y,g){if("number"!=typeof u||u<2)throw new Error("hashLen must be a number");if("number"!=typeof y||y<2)throw new Error("qByteLen must be a number");if("function"!=typeof g)throw new Error("hmacFn must be a function");let S=we(u),T=we(u),N=0;const M=()=>{S.fill(1),T.fill(0),N=0},s=(...ee)=>g(T,S,...ee),v=(ee=we())=>{T=s(xe([0]),ee),S=s(),0!==ee.length&&(T=s(xe([1]),ee),S=s())},W=()=>{if(N++>=1e3)throw new Error("drbg: tried 1000 values");let ee=0;const ce=[];for(;ee<y;){S=s();const _e=S.slice();ce.push(_e),ee+=S.length}return J(...ce)};return(ee,ce)=>{let _e;for(M(),v(ee);!(_e=ce(W()));)v();return M(),_e}};const C={bigint:u=>"bigint"==typeof u,function:u=>"function"==typeof u,boolean:u=>"boolean"==typeof u,string:u=>"string"==typeof u,stringOrUint8Array:u=>"string"==typeof u||k(u),isSafeInteger:u=>Number.isSafeInteger(u),array:u=>Array.isArray(u),field:(u,y)=>y.Fp.isValid(u),hash:u=>"function"==typeof u&&Number.isSafeInteger(u.outputLen)};z.validateObject=function a(u,y,g={}){const S=(T,N,M)=>{const s=C[N];if("function"!=typeof s)throw new Error(`Invalid validator "${N}", expected function`);const v=u[T];if(!(M&&void 0===v||s(v,u)))throw new Error(`Invalid param ${String(T)}=${v} (${typeof v}), expected ${N}`)};for(const[T,N]of Object.entries(y))S(T,N,!1);for(const[T,N]of Object.entries(g))S(T,N,!0);return u}},73040:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.mapToCurveSimpleSWU=z.SWUFpSqrtRatio=z.weierstrass=z.weierstrassPoints=z.DER=void 0;const p=_(63834),E=_(84097),k=_(84097),H=_(25299),{bytesToNumberBE:R,hexToBytes:A}=E;z.DER={Err:class extends Error{constructor(oe=""){super(oe)}},_parseInt(Y){const{Err:oe}=z.DER;if(Y.length<2||2!==Y[0])throw new oe("Invalid signature integer tag");const ae=Y[1],se=Y.subarray(2,ae+2);if(!ae||se.length!==ae)throw new oe("Invalid signature integer: wrong length");if(128&se[0])throw new oe("Invalid signature integer: negative");if(0===se[0]&&!(128&se[1]))throw new oe("Invalid signature integer: unnecessary leading zero");return{d:R(se),l:Y.subarray(ae+2)}},toSig(Y){const{Err:oe}=z.DER,ae="string"==typeof Y?A(Y):Y;if(!E.isBytes(ae))throw new Error("ui8a expected");let se=ae.length;if(se<2||48!=ae[0])throw new oe("Invalid signature tag");if(ae[1]!==se-2)throw new oe("Invalid signature: incorrect length");const{d:de,l:le}=z.DER._parseInt(ae.subarray(2)),{d:we,l:xe}=z.DER._parseInt(le);if(xe.length)throw new oe("Invalid signature: left bytes after parsing");return{r:de,s:we}},hexFromSig(Y){const oe=C=>8&Number.parseInt(C[0],16)?"00"+C:C,ae=C=>{const a=C.toString(16);return 1&a.length?`0${a}`:a},se=oe(ae(Y.s)),de=oe(ae(Y.r)),le=se.length/2,we=de.length/2,xe=ae(le),Ce=ae(we);return`30${ae(we+le+4)}02${Ce}${de}02${xe}${se}`}};const O=BigInt(0),F=BigInt(1),L=BigInt(2),I=BigInt(3),Z=BigInt(4);function j(Y){const oe=function x(Y){const oe=(0,H.validateBasic)(Y);E.validateObject(oe,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:ae,Fp:se,a:de}=oe;if(ae){if(!se.eql(de,se.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof ae||"bigint"!=typeof ae.beta||"function"!=typeof ae.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...oe})}(Y),{Fp:ae}=oe,se=oe.toBytes||((S,T,N)=>{const M=T.toAffine();return E.concatBytes(Uint8Array.from([4]),ae.toBytes(M.x),ae.toBytes(M.y))}),de=oe.fromBytes||(S=>{const T=S.subarray(1);return{x:ae.fromBytes(T.subarray(0,ae.BYTES)),y:ae.fromBytes(T.subarray(ae.BYTES,2*ae.BYTES))}});function le(S){const{a:T,b:N}=oe,M=ae.sqr(S),s=ae.mul(M,S);return ae.add(ae.add(s,ae.mul(S,T)),N)}if(!ae.eql(ae.sqr(oe.Gy),le(oe.Gx)))throw new Error("bad generator point: equation left != right");function we(S){return"bigint"==typeof S&&O<S&&S<oe.n}function xe(S){if(!we(S))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function Ce(S){const{allowedPrivateKeyLengths:T,nByteLength:N,wrapPrivateKey:M,n:s}=oe;if(T&&"bigint"!=typeof S){if(E.isBytes(S)&&(S=E.bytesToHex(S)),"string"!=typeof S||!T.includes(S.length))throw new Error("Invalid key");S=S.padStart(2*N,"0")}let v;try{v="bigint"==typeof S?S:E.bytesToNumberBE((0,k.ensureBytes)("private key",S,N))}catch{throw new Error(`private key must be ${N} bytes, hex or bigint, not ${typeof S}`)}return M&&(v=p.mod(v,s)),xe(v),v}const C=new Map;function a(S){if(!(S instanceof u))throw new Error("ProjectivePoint expected")}class u{constructor(T,N,M){if(this.px=T,this.py=N,this.pz=M,null==T||!ae.isValid(T))throw new Error("x required");if(null==N||!ae.isValid(N))throw new Error("y required");if(null==M||!ae.isValid(M))throw new Error("z required")}static fromAffine(T){const{x:N,y:M}=T||{};if(!T||!ae.isValid(N)||!ae.isValid(M))throw new Error("invalid affine point");if(T instanceof u)throw new Error("projective point not allowed");const s=v=>ae.eql(v,ae.ZERO);return s(N)&&s(M)?u.ZERO:new u(N,M,ae.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(T){const N=ae.invertBatch(T.map(M=>M.pz));return T.map((M,s)=>M.toAffine(N[s])).map(u.fromAffine)}static fromHex(T){const N=u.fromAffine(de((0,k.ensureBytes)("pointHex",T)));return N.assertValidity(),N}static fromPrivateKey(T){return u.BASE.multiply(Ce(T))}_setWindowSize(T){this._WINDOW_SIZE=T,C.delete(this)}assertValidity(){if(this.is0()){if(oe.allowInfinityPoint&&!ae.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:T,y:N}=this.toAffine();if(!ae.isValid(T)||!ae.isValid(N))throw new Error("bad point: x or y not FE");const M=ae.sqr(N),s=le(T);if(!ae.eql(M,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:T}=this.toAffine();if(ae.isOdd)return!ae.isOdd(T);throw new Error("Field doesn't support isOdd")}equals(T){a(T);const{px:N,py:M,pz:s}=this,{px:v,py:W,pz:K}=T,ee=ae.eql(ae.mul(N,K),ae.mul(v,s)),ce=ae.eql(ae.mul(M,K),ae.mul(W,s));return ee&&ce}negate(){return new u(this.px,ae.neg(this.py),this.pz)}double(){const{a:T,b:N}=oe,M=ae.mul(N,I),{px:s,py:v,pz:W}=this;let K=ae.ZERO,ee=ae.ZERO,ce=ae.ZERO,_e=ae.mul(s,s),Pe=ae.mul(v,v),$e=ae.mul(W,W),Se=ae.mul(s,v);return Se=ae.add(Se,Se),ce=ae.mul(s,W),ce=ae.add(ce,ce),K=ae.mul(T,ce),ee=ae.mul(M,$e),ee=ae.add(K,ee),K=ae.sub(Pe,ee),ee=ae.add(Pe,ee),ee=ae.mul(K,ee),K=ae.mul(Se,K),ce=ae.mul(M,ce),$e=ae.mul(T,$e),Se=ae.sub(_e,$e),Se=ae.mul(T,Se),Se=ae.add(Se,ce),ce=ae.add(_e,_e),_e=ae.add(ce,_e),_e=ae.add(_e,$e),_e=ae.mul(_e,Se),ee=ae.add(ee,_e),$e=ae.mul(v,W),$e=ae.add($e,$e),_e=ae.mul($e,Se),K=ae.sub(K,_e),ce=ae.mul($e,Pe),ce=ae.add(ce,ce),ce=ae.add(ce,ce),new u(K,ee,ce)}add(T){a(T);const{px:N,py:M,pz:s}=this,{px:v,py:W,pz:K}=T;let ee=ae.ZERO,ce=ae.ZERO,_e=ae.ZERO;const Pe=oe.a,$e=ae.mul(oe.b,I);let Se=ae.mul(N,v),be=ae.mul(M,W),Ne=ae.mul(s,K),ye=ae.add(N,M),Te=ae.add(v,W);ye=ae.mul(ye,Te),Te=ae.add(Se,be),ye=ae.sub(ye,Te),Te=ae.add(N,s);let pe=ae.add(v,K);return Te=ae.mul(Te,pe),pe=ae.add(Se,Ne),Te=ae.sub(Te,pe),pe=ae.add(M,s),ee=ae.add(W,K),pe=ae.mul(pe,ee),ee=ae.add(be,Ne),pe=ae.sub(pe,ee),_e=ae.mul(Pe,Te),ee=ae.mul($e,Ne),_e=ae.add(ee,_e),ee=ae.sub(be,_e),_e=ae.add(be,_e),ce=ae.mul(ee,_e),be=ae.add(Se,Se),be=ae.add(be,Se),Ne=ae.mul(Pe,Ne),Te=ae.mul($e,Te),be=ae.add(be,Ne),Ne=ae.sub(Se,Ne),Ne=ae.mul(Pe,Ne),Te=ae.add(Te,Ne),Se=ae.mul(be,Te),ce=ae.add(ce,Se),Se=ae.mul(pe,Te),ee=ae.mul(ye,ee),ee=ae.sub(ee,Se),Se=ae.mul(ye,be),_e=ae.mul(pe,_e),_e=ae.add(_e,Se),new u(ee,ce,_e)}subtract(T){return this.add(T.negate())}is0(){return this.equals(u.ZERO)}wNAF(T){return g.wNAFCached(this,C,T,N=>{const M=ae.invertBatch(N.map(s=>s.pz));return N.map((s,v)=>s.toAffine(M[v])).map(u.fromAffine)})}multiplyUnsafe(T){const N=u.ZERO;if(T===O)return N;if(xe(T),T===F)return this;const{endo:M}=oe;if(!M)return g.unsafeLadder(this,T);let{k1neg:s,k1:v,k2neg:W,k2:K}=M.splitScalar(T),ee=N,ce=N,_e=this;for(;v>O||K>O;)v&F&&(ee=ee.add(_e)),K&F&&(ce=ce.add(_e)),_e=_e.double(),v>>=F,K>>=F;return s&&(ee=ee.negate()),W&&(ce=ce.negate()),ce=new u(ae.mul(ce.px,M.beta),ce.py,ce.pz),ee.add(ce)}multiply(T){xe(T);let M,s,N=T;const{endo:v}=oe;if(v){const{k1neg:W,k1:K,k2neg:ee,k2:ce}=v.splitScalar(N);let{p:_e,f:Pe}=this.wNAF(K),{p:$e,f:Se}=this.wNAF(ce);_e=g.constTimeNegate(W,_e),$e=g.constTimeNegate(ee,$e),$e=new u(ae.mul($e.px,v.beta),$e.py,$e.pz),M=_e.add($e),s=Pe.add(Se)}else{const{p:W,f:K}=this.wNAF(N);M=W,s=K}return u.normalizeZ([M,s])[0]}multiplyAndAddUnsafe(T,N,M){const s=u.BASE,v=(K,ee)=>ee!==O&&ee!==F&&K.equals(s)?K.multiply(ee):K.multiplyUnsafe(ee),W=v(this,N).add(v(T,M));return W.is0()?void 0:W}toAffine(T){const{px:N,py:M,pz:s}=this,v=this.is0();null==T&&(T=v?ae.ONE:ae.inv(s));const W=ae.mul(N,T),K=ae.mul(M,T),ee=ae.mul(s,T);if(v)return{x:ae.ZERO,y:ae.ZERO};if(!ae.eql(ee,ae.ONE))throw new Error("invZ was invalid");return{x:W,y:K}}isTorsionFree(){const{h:T,isTorsionFree:N}=oe;if(T===F)return!0;if(N)return N(u,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:T,clearCofactor:N}=oe;return T===F?this:N?N(u,this):this.multiplyUnsafe(oe.h)}toRawBytes(T=!0){return this.assertValidity(),se(u,this,T)}toHex(T=!0){return E.bytesToHex(this.toRawBytes(T))}}u.BASE=new u(oe.Gx,oe.Gy,ae.ONE),u.ZERO=new u(ae.ZERO,ae.ONE,ae.ZERO);const y=oe.nBitLength,g=(0,H.wNAF)(u,oe.endo?Math.ceil(y/2):y);return{CURVE:oe,ProjectivePoint:u,normPrivateKeyToScalar:Ce,weierstrassEquation:le,isWithinCurveOrder:we}}function te(Y,oe){const ae=Y.ORDER;let se=O;for(let S=ae-F;S%L===O;S/=L)se+=F;const de=se,le=L<<de-F-F,we=le*L,xe=(ae-F)/we,Ce=(xe-F)/L,C=we-F,a=le,u=Y.pow(oe,xe),y=Y.pow(oe,(xe+F)/L);let g=(S,T)=>{let N=u,M=Y.pow(T,C),s=Y.sqr(M);s=Y.mul(s,T);let v=Y.mul(S,s);v=Y.pow(v,Ce),v=Y.mul(v,M),M=Y.mul(v,T),s=Y.mul(v,S);let W=Y.mul(s,M);v=Y.pow(W,a);let K=Y.eql(v,Y.ONE);M=Y.mul(s,y),v=Y.mul(W,N),s=Y.cmov(M,s,K),W=Y.cmov(v,W,K);for(let ee=de;ee>F;ee--){let ce=ee-L;ce=L<<ce-F;let _e=Y.pow(W,ce);const Pe=Y.eql(_e,Y.ONE);M=Y.mul(s,N),N=Y.mul(N,N),_e=Y.mul(W,N),s=Y.cmov(M,s,Pe),W=Y.cmov(_e,W,Pe)}return{isValid:K,value:s}};if(Y.ORDER%Z===I){const S=(Y.ORDER-I)/Z,T=Y.sqrt(Y.neg(oe));g=(N,M)=>{let s=Y.sqr(M);const v=Y.mul(N,M);s=Y.mul(s,v);let W=Y.pow(s,S);W=Y.mul(W,v);const K=Y.mul(W,T),ee=Y.mul(Y.sqr(W),M),ce=Y.eql(ee,N);return{isValid:ce,value:Y.cmov(K,W,ce)}}}return g}z.weierstrassPoints=j,z.weierstrass=function re(Y){const oe=function G(Y){const oe=(0,H.validateBasic)(Y);return E.validateObject(oe,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...oe})}(Y),{Fp:ae,n:se}=oe,de=ae.BYTES+1,le=2*ae.BYTES+1;function xe(Te){return p.mod(Te,se)}function Ce(Te){return p.invert(Te,se)}const{ProjectivePoint:C,normPrivateKeyToScalar:a,weierstrassEquation:u,isWithinCurveOrder:y}=j({...oe,toBytes(Te,pe,fe){const Q=pe.toAffine(),ie=ae.toBytes(Q.x),ue=E.concatBytes;return fe?ue(Uint8Array.from([pe.hasEvenY()?2:3]),ie):ue(Uint8Array.from([4]),ie,ae.toBytes(Q.y))},fromBytes(Te){const pe=Te.length,fe=Te[0],Q=Te.subarray(1);if(pe!==de||2!==fe&&3!==fe){if(pe===le&&4===fe)return{x:ae.fromBytes(Q.subarray(0,ae.BYTES)),y:ae.fromBytes(Q.subarray(ae.BYTES,2*ae.BYTES))};throw new Error(`Point of length ${pe} was invalid. Expected ${de} compressed bytes or ${le} uncompressed bytes`)}{const ie=E.bytesToNumberBE(Q);if(!function we(Te){return O<Te&&Te<ae.ORDER}(ie))throw new Error("Point is not on curve");const ue=u(ie);let Ee=ae.sqrt(ue);return!(1&~fe)!=((Ee&F)===F)&&(Ee=ae.neg(Ee)),{x:ie,y:Ee}}}}),g=Te=>E.bytesToHex(E.numberToBytesBE(Te,oe.nByteLength));function S(Te){return Te>se>>F}const N=(Te,pe,fe)=>E.bytesToNumberBE(Te.slice(pe,fe));class M{constructor(pe,fe,Q){this.r=pe,this.s=fe,this.recovery=Q,this.assertValidity()}static fromCompact(pe){const fe=oe.nByteLength;return pe=(0,k.ensureBytes)("compactSignature",pe,2*fe),new M(N(pe,0,fe),N(pe,fe,2*fe))}static fromDER(pe){const{r:fe,s:Q}=z.DER.toSig((0,k.ensureBytes)("DER",pe));return new M(fe,Q)}assertValidity(){if(!y(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!y(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(pe){return new M(this.r,this.s,pe)}recoverPublicKey(pe){const{r:fe,s:Q,recovery:ie}=this,ue=ce((0,k.ensureBytes)("msgHash",pe));if(null==ie||![0,1,2,3].includes(ie))throw new Error("recovery id invalid");const Ee=2===ie||3===ie?fe+oe.n:fe;if(Ee>=ae.ORDER)throw new Error("recovery id 2 or 3 invalid");const Ue=C.fromHex((1&ie?"03":"02")+g(Ee)),Le=Ce(Ee),_t=xe(-ue*Le),Ve=xe(Q*Le),Be=C.BASE.multiplyAndAddUnsafe(Ue,_t,Ve);if(!Be)throw new Error("point at infinify");return Be.assertValidity(),Be}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new M(this.r,xe(-this.s),this.recovery):this}toDERRawBytes(){return E.hexToBytes(this.toDERHex())}toDERHex(){return z.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return E.hexToBytes(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}const s={isValidPrivateKey(Te){try{return a(Te),!0}catch{return!1}},normPrivateKeyToScalar:a,randomPrivateKey:()=>{const Te=p.getMinHashLength(oe.n);return p.mapHashToField(oe.randomBytes(Te),oe.n)},precompute:(Te=8,pe=C.BASE)=>(pe._setWindowSize(Te),pe.multiply(BigInt(3)),pe)};function W(Te){const pe=E.isBytes(Te),fe="string"==typeof Te,Q=(pe||fe)&&Te.length;return pe?Q===de||Q===le:fe?Q===2*de||Q===2*le:Te instanceof C}const ee=oe.bits2int||function(Te){const pe=E.bytesToNumberBE(Te),fe=8*Te.length-oe.nBitLength;return fe>0?pe>>BigInt(fe):pe},ce=oe.bits2int_modN||function(Te){return xe(ee(Te))},_e=E.bitMask(oe.nBitLength);function Pe(Te){if("bigint"!=typeof Te)throw new Error("bigint expected");if(!(O<=Te&&Te<_e))throw new Error(`bigint expected < 2^${oe.nBitLength}`);return E.numberToBytesBE(Te,oe.nByteLength)}const Se={lowS:oe.lowS,prehash:!1},be={lowS:oe.lowS,prehash:!1};return C.BASE._setWindowSize(8),{CURVE:oe,getPublicKey:function v(Te,pe=!0){return C.fromPrivateKey(Te).toRawBytes(pe)},getSharedSecret:function K(Te,pe,fe=!0){if(W(Te))throw new Error("first arg must be private key");if(!W(pe))throw new Error("second arg must be public key");return C.fromHex(pe).multiply(a(Te)).toRawBytes(fe)},sign:function Ne(Te,pe,fe=Se){const{seed:Q,k2sig:ie}=function $e(Te,pe,fe=Se){if(["recovered","canonical"].some(B=>B in fe))throw new Error("sign() legacy options not supported");const{hash:Q,randomBytes:ie}=oe;let{lowS:ue,prehash:Ee,extraEntropy:ke}=fe;null==ue&&(ue=!0),Te=(0,k.ensureBytes)("msgHash",Te),Ee&&(Te=(0,k.ensureBytes)("prehashed msgHash",Q(Te)));const Ue=ce(Te),Le=a(pe),_t=[Pe(Le),Pe(Ue)];if(null!=ke){const B=!0===ke?ie(ae.BYTES):ke;_t.push((0,k.ensureBytes)("extraEntropy",B))}const Ve=E.concatBytes(..._t),Be=Ue;return{seed:Ve,k2sig:function lt(B){const w=ee(B);if(!y(w))return;const m=Ce(w),U=C.BASE.multiply(w).toAffine(),ne=xe(U.x);if(ne===O)return;const ge=xe(m*xe(Be+ne*Le));if(ge===O)return;let Ae=(U.x===ne?0:2)|Number(U.y&F),Qe=ge;return ue&&S(ge)&&(Qe=function T(Te){return S(Te)?xe(-Te):Te}(ge),Ae^=1),new M(ne,Qe,Ae)}}}(Te,pe,fe);return E.createHmacDrbg(oe.hash.outputLen,oe.nByteLength,oe.hmac)(Q,ie)},verify:function ye(Te,pe,fe,Q=be){const ie=Te;if(pe=(0,k.ensureBytes)("msgHash",pe),fe=(0,k.ensureBytes)("publicKey",fe),"strict"in Q)throw new Error("options.strict was renamed to lowS");const{lowS:ue,prehash:Ee}=Q;let ke,Ue;try{if("string"==typeof ie||E.isBytes(ie))try{ke=M.fromDER(ie)}catch(U){if(!(U instanceof z.DER.Err))throw U;ke=M.fromCompact(ie)}else{if("object"!=typeof ie||"bigint"!=typeof ie.r||"bigint"!=typeof ie.s)throw new Error("PARSE");{const{r:U,s:ne}=ie;ke=new M(U,ne)}}Ue=C.fromHex(fe)}catch(U){if("PARSE"===U.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ue&&ke.hasHighS())return!1;Ee&&(pe=oe.hash(pe));const{r:Le,s:_t}=ke,Ve=ce(pe),Be=Ce(_t),lt=xe(Ve*Be),B=xe(Le*Be),w=C.BASE.multiplyAndAddUnsafe(Ue,lt,B)?.toAffine();return!!w&&xe(w.x)===Le},ProjectivePoint:C,Signature:M,utils:s}},z.SWUFpSqrtRatio=te,z.mapToCurveSimpleSWU=function J(Y,oe){if(p.validateField(Y),!Y.isValid(oe.A)||!Y.isValid(oe.B)||!Y.isValid(oe.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const ae=te(Y,oe.Z);if(!Y.isOdd)throw new Error("Fp.isOdd is not implemented!");return se=>{let de,le,we,xe,Ce,C,a,u;de=Y.sqr(se),de=Y.mul(de,oe.Z),le=Y.sqr(de),le=Y.add(le,de),we=Y.add(le,Y.ONE),we=Y.mul(we,oe.B),xe=Y.cmov(oe.Z,Y.neg(le),!Y.eql(le,Y.ZERO)),xe=Y.mul(xe,oe.A),le=Y.sqr(we),C=Y.sqr(xe),Ce=Y.mul(C,oe.A),le=Y.add(le,Ce),le=Y.mul(le,we),C=Y.mul(C,xe),Ce=Y.mul(C,oe.B),le=Y.add(le,Ce),a=Y.mul(de,we);const{isValid:y,value:g}=ae(le,C);u=Y.mul(de,se),u=Y.mul(u,g),a=Y.cmov(a,we,y),u=Y.cmov(u,g,y);const S=Y.isOdd(se)===Y.isOdd(u);return u=Y.cmov(Y.neg(u),u,S),a=Y.div(a,xe),{x:a,y:u}}}},57340:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.hash_to_ristretto255=z.hashToRistretto255=z.RistrettoPoint=z.encodeToCurve=z.hashToCurve=z.edwardsToMontgomeryPriv=z.edwardsToMontgomery=z.edwardsToMontgomeryPub=z.x25519=z.ed25519ph=z.ed25519ctx=z.ed25519=z.ED25519_TORSION_SUBGROUP=void 0;const p=_(44207),E=_(96492),k=_(45068),H=_(27661),x=_(63834),R=_(84097),A=_(75752),O=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),F=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),L=BigInt(0),I=BigInt(1),Z=BigInt(2),j=BigInt(5),G=BigInt(10),re=BigInt(20),te=BigInt(40),J=BigInt(80);function Y(Ne){const ye=O,pe=Ne*Ne%ye*Ne%ye,fe=(0,x.pow2)(pe,Z,ye)*pe%ye,Q=(0,x.pow2)(fe,I,ye)*Ne%ye,ie=(0,x.pow2)(Q,j,ye)*Q%ye,ue=(0,x.pow2)(ie,G,ye)*ie%ye,Ee=(0,x.pow2)(ue,re,ye)*ue%ye,ke=(0,x.pow2)(Ee,te,ye)*Ee%ye,Ue=(0,x.pow2)(ke,J,ye)*ke%ye,Le=(0,x.pow2)(Ue,J,ye)*ke%ye,_t=(0,x.pow2)(Le,G,ye)*ie%ye;return{pow_p_5_8:(0,x.pow2)(_t,Z,ye)*Ne%ye,b2:pe}}function oe(Ne){return Ne[0]&=248,Ne[31]&=127,Ne[31]|=64,Ne}function ae(Ne,ye){const Te=O,pe=(0,x.mod)(ye*ye*ye,Te),Q=Y(Ne*(0,x.mod)(pe*pe*ye,Te)).pow_p_5_8;let ie=(0,x.mod)(Ne*pe*Q,Te);const ue=(0,x.mod)(ye*ie*ie,Te),Ee=ie,ke=(0,x.mod)(ie*F,Te),Ue=ue===Ne,Le=ue===(0,x.mod)(-Ne,Te),_t=ue===(0,x.mod)(-Ne*F,Te);return Ue&&(ie=Ee),(Le||_t)&&(ie=ke),(0,x.isNegativeLE)(ie,Te)&&(ie=(0,x.mod)(-ie,Te)),{isValid:Ue||Le,value:ie}}z.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const se=(0,x.Field)(O,void 0,!0),de={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:se,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:p.sha512,randomBytes:E.randomBytes,adjustScalarBytes:oe,uvRatio:ae};function le(Ne,ye,Te){if(ye.length>255)throw new Error("Context is too big");return(0,E.concatBytes)((0,E.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([Te?1:0,ye.length]),ye,Ne)}function we(Ne){const{y:ye}=z.ed25519.ExtendedPoint.fromHex(Ne),Te=BigInt(1);return se.toBytes(se.create((Te+ye)*se.inv(Te-ye)))}z.ed25519=(0,k.twistedEdwards)(de),z.ed25519ctx=(0,k.twistedEdwards)({...de,domain:le}),z.ed25519ph=(0,k.twistedEdwards)({...de,domain:le,prehash:p.sha512}),z.x25519=(0,H.montgomery)({P:O,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:Ne=>{const ye=O,{pow_p_5_8:Te,b2:pe}=Y(Ne);return(0,x.mod)((0,x.pow2)(Te,BigInt(3),ye)*pe,ye)},adjustScalarBytes:oe,randomBytes:E.randomBytes}),z.edwardsToMontgomeryPub=we,z.edwardsToMontgomery=we,z.edwardsToMontgomeryPriv=function xe(Ne){const ye=de.hash(Ne.subarray(0,32));return de.adjustScalarBytes(ye).subarray(0,32)};const Ce=(se.ORDER+BigInt(3))/BigInt(8),C=se.pow(Z,Ce),a=se.sqrt(se.neg(se.ONE)),u=(se.ORDER-BigInt(5))/BigInt(8),y=BigInt(486662),S=(0,x.FpSqrtEven)(se,se.neg(BigInt(486664)));const N=(0,A.createHasher)(z.ed25519.ExtendedPoint,Ne=>function T(Ne){const{xMn:ye,xMd:Te,yMn:pe,yMd:fe}=function g(Ne){let ye=se.sqr(Ne);ye=se.mul(ye,Z);let Te=se.add(ye,se.ONE),pe=se.neg(y),fe=se.sqr(Te),Q=se.mul(fe,Te),ie=se.mul(ye,y);ie=se.mul(ie,pe),ie=se.add(ie,fe),ie=se.mul(ie,pe);let ue=se.sqr(Q);fe=se.sqr(ue),ue=se.mul(ue,Q),ue=se.mul(ue,ie),fe=se.mul(fe,ue);let Ee=se.pow(fe,u);Ee=se.mul(Ee,ue);let ke=se.mul(Ee,a);fe=se.sqr(Ee),fe=se.mul(fe,Q);let Ue=se.eql(fe,ie),Le=se.cmov(ke,Ee,Ue),_t=se.mul(pe,ye),Ve=se.mul(Ee,Ne);Ve=se.mul(Ve,C);let Be=se.mul(Ve,a),lt=se.mul(ie,ye);fe=se.sqr(Ve),fe=se.mul(fe,Q);let B=se.eql(fe,lt),w=se.cmov(Be,Ve,B);fe=se.sqr(Le),fe=se.mul(fe,Q);let m=se.eql(fe,ie),U=se.cmov(_t,pe,m),ne=se.cmov(w,Le,m),ge=se.isOdd(ne);return ne=se.cmov(ne,se.neg(ne),m!==ge),{xMn:U,xMd:Te,yMn:ne,yMd:I}}(Ne);let Q=se.mul(ye,fe);Q=se.mul(Q,S);let ie=se.mul(Te,pe),ue=se.sub(ye,Te),Ee=se.add(ye,Te),ke=se.mul(ie,Ee),Ue=se.eql(ke,se.ZERO);Q=se.cmov(Q,se.ZERO,Ue),ie=se.cmov(ie,se.ONE,Ue),ue=se.cmov(ue,se.ONE,Ue),Ee=se.cmov(Ee,se.ONE,Ue);const Le=se.invertBatch([ie,Ee]);return{x:se.mul(Q,Le[0]),y:se.mul(ue,Le[1])}}(Ne[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:se.ORDER,m:1,k:128,expand:"xmd",hash:p.sha512});function M(Ne){if(!(Ne instanceof Se))throw new Error("RistrettoPoint expected")}z.hashToCurve=N.hashToCurve,z.encodeToCurve=N.encodeToCurve;const s=F,v=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),W=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),K=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),ee=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),ce=Ne=>ae(I,Ne),_e=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Pe=Ne=>z.ed25519.CURVE.Fp.create((0,R.bytesToNumberLE)(Ne)&_e);function $e(Ne){const{d:ye}=z.ed25519.CURVE,Te=z.ed25519.CURVE.Fp.ORDER,pe=z.ed25519.CURVE.Fp.create,fe=pe(s*Ne*Ne),Q=pe((fe+I)*K);let ie=BigInt(-1);const ue=pe((ie-ye*fe)*pe(fe+ye));let{isValid:Ee,value:ke}=ae(Q,ue),Ue=pe(ke*Ne);(0,x.isNegativeLE)(Ue,Te)||(Ue=pe(-Ue)),Ee||(ke=Ue),Ee||(ie=fe);const Le=pe(ie*(fe-I)*ee-ue),_t=ke*ke,Ve=pe((ke+ke)*ue),Be=pe(Le*v),lt=pe(I-_t),B=pe(I+_t);return new z.ed25519.ExtendedPoint(pe(Ve*B),pe(lt*Be),pe(Be*B),pe(Ve*lt))}class Se{constructor(ye){this.ep=ye}static fromAffine(ye){return new Se(z.ed25519.ExtendedPoint.fromAffine(ye))}static hashToCurve(ye){ye=(0,R.ensureBytes)("ristrettoHash",ye,64);const pe=$e(Pe(ye.slice(0,32))),Q=$e(Pe(ye.slice(32,64)));return new Se(pe.add(Q))}static fromHex(ye){ye=(0,R.ensureBytes)("ristrettoHex",ye,32);const{a:Te,d:pe}=z.ed25519.CURVE,fe=z.ed25519.CURVE.Fp.ORDER,Q=z.ed25519.CURVE.Fp.create,ie="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",ue=Pe(ye);if(!(0,R.equalBytes)((0,R.numberToBytesLE)(ue,32),ye)||(0,x.isNegativeLE)(ue,fe))throw new Error(ie);const Ee=Q(ue*ue),ke=Q(I+Te*Ee),Ue=Q(I-Te*Ee),Le=Q(ke*ke),_t=Q(Ue*Ue),Ve=Q(Te*pe*Le-_t),{isValid:Be,value:lt}=ce(Q(Ve*_t)),B=Q(lt*Ue),w=Q(lt*B*Ve);let m=Q((ue+ue)*B);(0,x.isNegativeLE)(m,fe)&&(m=Q(-m));const U=Q(ke*w),ne=Q(m*U);if(!Be||(0,x.isNegativeLE)(ne,fe)||U===L)throw new Error(ie);return new Se(new z.ed25519.ExtendedPoint(m,U,I,ne))}toRawBytes(){let{ex:ye,ey:Te,ez:pe,et:fe}=this.ep;const Q=z.ed25519.CURVE.Fp.ORDER,ie=z.ed25519.CURVE.Fp.create,ue=ie(ie(pe+Te)*ie(pe-Te)),Ee=ie(ye*Te),ke=ie(Ee*Ee),{value:Ue}=ce(ie(ue*ke)),Le=ie(Ue*ue),_t=ie(Ue*Ee),Ve=ie(Le*_t*fe);let Be;if((0,x.isNegativeLE)(fe*Ve,Q)){let B=ie(Te*s),w=ie(ye*s);ye=B,Te=w,Be=ie(Le*W)}else Be=_t;(0,x.isNegativeLE)(ye*Ve,Q)&&(Te=ie(-Te));let lt=ie((pe-Te)*Be);return(0,x.isNegativeLE)(lt,Q)&&(lt=ie(-lt)),(0,R.numberToBytesLE)(lt,32)}toHex(){return(0,R.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(ye){M(ye);const{ex:Te,ey:pe}=this.ep,{ex:fe,ey:Q}=ye.ep,ie=z.ed25519.CURVE.Fp.create,ue=ie(Te*Q)===ie(pe*fe),Ee=ie(pe*Q)===ie(Te*fe);return ue||Ee}add(ye){return M(ye),new Se(this.ep.add(ye.ep))}subtract(ye){return M(ye),new Se(this.ep.subtract(ye.ep))}multiply(ye){return new Se(this.ep.multiply(ye))}multiplyUnsafe(ye){return new Se(this.ep.multiplyUnsafe(ye))}double(){return new Se(this.ep.double())}negate(){return new Se(this.ep.negate())}}z.RistrettoPoint=(Se.BASE||(Se.BASE=new Se(z.ed25519.ExtendedPoint.BASE)),Se.ZERO||(Se.ZERO=new Se(z.ed25519.ExtendedPoint.ZERO)),Se),z.hashToRistretto255=(Ne,ye)=>{const Te=ye.DST,pe="string"==typeof Te?(0,E.utf8ToBytes)(Te):Te,fe=(0,A.expand_message_xmd)(Ne,pe,64,p.sha512);return Se.hashToCurve(fe)},z.hash_to_ristretto255=z.hashToRistretto255},91717:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.encodeToCurve=z.hashToCurve=z.schnorr=z.secp256k1=void 0;const p=_(1806),E=_(96492),k=_(63834),H=_(73040),x=_(84097),R=_(75752),A=_(4521),O=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),F=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),L=BigInt(1),I=BigInt(2),Z=(M,s)=>(M+s/I)/s;function j(M){const s=O,v=BigInt(3),W=BigInt(6),K=BigInt(11),ee=BigInt(22),ce=BigInt(23),_e=BigInt(44),Pe=BigInt(88),$e=M*M*M%s,Se=$e*$e*M%s,be=(0,k.pow2)(Se,v,s)*Se%s,Ne=(0,k.pow2)(be,v,s)*Se%s,ye=(0,k.pow2)(Ne,I,s)*$e%s,Te=(0,k.pow2)(ye,K,s)*ye%s,pe=(0,k.pow2)(Te,ee,s)*Te%s,fe=(0,k.pow2)(pe,_e,s)*pe%s,Q=(0,k.pow2)(fe,Pe,s)*fe%s,ie=(0,k.pow2)(Q,_e,s)*pe%s,ue=(0,k.pow2)(ie,v,s)*Se%s,Ee=(0,k.pow2)(ue,ce,s)*Te%s,ke=(0,k.pow2)(Ee,W,s)*$e%s,Ue=(0,k.pow2)(ke,I,s);if(!G.eql(G.sqr(Ue),M))throw new Error("Cannot find square root");return Ue}const G=(0,k.Field)(O,void 0,void 0,{sqrt:j});z.secp256k1=(0,A.createCurve)({a:BigInt(0),b:BigInt(7),Fp:G,n:F,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:M=>{const s=F,v=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),W=-L*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),K=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),ee=v,ce=BigInt("0x100000000000000000000000000000000"),_e=Z(ee*M,s),Pe=Z(-W*M,s);let $e=(0,k.mod)(M-_e*v-Pe*K,s),Se=(0,k.mod)(-_e*W-Pe*ee,s);const be=$e>ce,Ne=Se>ce;if(be&&($e=s-$e),Ne&&(Se=s-Se),$e>ce||Se>ce)throw new Error("splitScalar: Endomorphism failed, k="+M);return{k1neg:be,k1:$e,k2neg:Ne,k2:Se}}}},p.sha256);const re=BigInt(0),te=M=>"bigint"==typeof M&&re<M&&M<O,Y={};function oe(M,...s){let v=Y[M];if(void 0===v){const W=(0,p.sha256)(Uint8Array.from(M,K=>K.charCodeAt(0)));v=(0,x.concatBytes)(W,W),Y[M]=v}return(0,p.sha256)((0,x.concatBytes)(v,...s))}const ae=M=>M.toRawBytes(!0).slice(1),se=M=>(0,x.numberToBytesBE)(M,32),de=M=>(0,k.mod)(M,O),le=M=>(0,k.mod)(M,F),we=z.secp256k1.ProjectivePoint;function Ce(M){let s=z.secp256k1.utils.normPrivateKeyToScalar(M),v=we.fromPrivateKey(s);return{scalar:v.hasEvenY()?s:le(-s),bytes:ae(v)}}function C(M){if(!te(M))throw new Error("bad x: need 0 < x < p");const s=de(M*M);let W=j(de(s*M+BigInt(7)));W%I!==re&&(W=de(-W));const K=new we(M,W,L);return K.assertValidity(),K}function a(...M){return le((0,x.bytesToNumberBE)(oe("BIP0340/challenge",...M)))}function g(M,s,v){const W=(0,x.ensureBytes)("signature",M,64),K=(0,x.ensureBytes)("message",s),ee=(0,x.ensureBytes)("publicKey",v,32);try{const ce=C((0,x.bytesToNumberBE)(ee)),_e=(0,x.bytesToNumberBE)(W.subarray(0,32));if(!te(_e))return!1;const Pe=(0,x.bytesToNumberBE)(W.subarray(32,64));if(!(M=>"bigint"==typeof M&&re<M&&M<F)(Pe))return!1;const $e=a(se(_e),ae(ce),K),Se=((M,s,v)=>we.BASE.multiplyAndAddUnsafe(M,s,v))(ce,Pe,le(-$e));return!(!Se||!Se.hasEvenY()||Se.toAffine().x!==_e)}catch{return!1}}z.schnorr={getPublicKey:function u(M){return Ce(M).bytes},sign:function y(M,s,v=(0,E.randomBytes)(32)){const W=(0,x.ensureBytes)("message",M),{bytes:K,scalar:ee}=Ce(s),ce=(0,x.ensureBytes)("auxRand",v,32),_e=se(ee^(0,x.bytesToNumberBE)(oe("BIP0340/aux",ce))),Pe=oe("BIP0340/nonce",_e,K,W),$e=le((0,x.bytesToNumberBE)(Pe));if($e===re)throw new Error("sign failed: k is zero");const{bytes:Se,scalar:be}=Ce($e),Ne=a(Se,K,W),ye=new Uint8Array(64);if(ye.set(Se,0),ye.set(se(le(be+Ne*ee)),32),!g(ye,W,K))throw new Error("sign: Invalid signature produced");return ye},verify:g,utils:{randomPrivateKey:z.secp256k1.utils.randomPrivateKey,lift_x:C,pointToBytes:ae,numberToBytesBE:x.numberToBytesBE,bytesToNumberBE:x.bytesToNumberBE,taggedHash:oe,mod:k.mod}};const S=(0,R.isogenyMap)(G,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(M=>M.map(s=>BigInt(s)))),T=(0,H.mapToCurveSimpleSWU)(G,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:G.create(BigInt("-11"))}),N=(0,R.createHasher)(z.secp256k1.ProjectivePoint,M=>{const{x:s,y:v}=T(G.create(M[0]));return S(s,v)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:G.ORDER,m:1,k:128,expand:"xmd",hash:p.sha256});z.hashToCurve=N.hashToCurve,z.encodeToCurve=N.encodeToCurve},68578:(Fe,z)=>{"use strict";function _(O){if(!Number.isSafeInteger(O)||O<0)throw new Error(`Wrong positive integer: ${O}`)}function p(O){if("boolean"!=typeof O)throw new Error(`Expected boolean, not ${O}`)}function k(O,...F){if(!function E(O){return O instanceof Uint8Array||null!=O&&"object"==typeof O&&"Uint8Array"===O.constructor.name}(O))throw new Error("Expected Uint8Array");if(F.length>0&&!F.includes(O.length))throw new Error(`Expected Uint8Array of length ${F}, not of length=${O.length}`)}function H(O){if("function"!=typeof O||"function"!=typeof O.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");_(O.outputLen),_(O.blockLen)}function x(O,F=!0){if(O.destroyed)throw new Error("Hash instance has been destroyed");if(F&&O.finished)throw new Error("Hash#digest() has already been called")}function R(O,F){k(O);const L=F.outputLen;if(O.length<L)throw new Error(`digestInto() expects output buffer of length at least ${L}`)}Object.defineProperty(z,"__esModule",{value:!0}),z.output=z.exists=z.hash=z.bytes=z.bool=z.number=void 0,z.number=_,z.bool=p,z.bytes=k,z.hash=H,z.exists=x,z.output=R,z.default={number:_,bool:p,bytes:k,hash:H,exists:x,output:R}},25724:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.SHA2=void 0;const p=_(68578),E=_(96492);z.SHA2=class H extends E.Hash{constructor(R,A,O,F){super(),this.blockLen=R,this.outputLen=A,this.padOffset=O,this.isLE=F,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(R),this.view=(0,E.createView)(this.buffer)}update(R){(0,p.exists)(this);const{view:A,buffer:O,blockLen:F}=this,L=(R=(0,E.toBytes)(R)).length;for(let I=0;I<L;){const Z=Math.min(F-this.pos,L-I);if(Z!==F)O.set(R.subarray(I,I+Z),this.pos),this.pos+=Z,I+=Z,this.pos===F&&(this.process(A,0),this.pos=0);else{const j=(0,E.createView)(R);for(;F<=L-I;I+=F)this.process(j,I)}}return this.length+=R.length,this.roundClean(),this}digestInto(R){(0,p.exists)(this),(0,p.output)(R,this),this.finished=!0;const{buffer:A,view:O,blockLen:F,isLE:L}=this;let{pos:I}=this;A[I++]=128,this.buffer.subarray(I).fill(0),this.padOffset>F-I&&(this.process(O,0),I=0);for(let te=I;te<F;te++)A[te]=0;(function k(x,R,A,O){if("function"==typeof x.setBigUint64)return x.setBigUint64(R,A,O);const F=BigInt(32),L=BigInt(4294967295),I=Number(A>>F&L),Z=Number(A&L),G=O?0:4;x.setUint32(R+(O?4:0),I,O),x.setUint32(R+G,Z,O)})(O,F-8,BigInt(8*this.length),L),this.process(O,0);const Z=(0,E.createView)(R),j=this.outputLen;if(j%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const G=j/4,re=this.get();if(G>re.length)throw new Error("_sha2: outputLen bigger than state");for(let te=0;te<G;te++)Z.setUint32(4*te,re[te],L)}digest(){const{buffer:R,outputLen:A}=this;this.digestInto(R);const O=R.slice(0,A);return this.destroy(),O}_cloneInto(R){R||(R=new this.constructor),R.set(...this.get());const{blockLen:A,buffer:O,length:F,finished:L,destroyed:I,pos:Z}=this;return R.length=F,R.pos=Z,R.finished=L,R.destroyed=I,F%A&&R.buffer.set(O),R}}},35059:(Fe,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.add5L=z.add5H=z.add4H=z.add4L=z.add3H=z.add3L=z.add=z.rotlBL=z.rotlBH=z.rotlSL=z.rotlSH=z.rotr32L=z.rotr32H=z.rotrBL=z.rotrBH=z.rotrSL=z.rotrSH=z.shrSL=z.shrSH=z.toBig=z.split=z.fromBig=void 0;const _=BigInt(2**32-1),p=BigInt(32);function E(xe,Ce=!1){return Ce?{h:Number(xe&_),l:Number(xe>>p&_)}:{h:0|Number(xe>>p&_),l:0|Number(xe&_)}}function k(xe,Ce=!1){let C=new Uint32Array(xe.length),a=new Uint32Array(xe.length);for(let u=0;u<xe.length;u++){const{h:y,l:g}=E(xe[u],Ce);[C[u],a[u]]=[y,g]}return[C,a]}z.fromBig=E,z.split=k;const H=(xe,Ce)=>BigInt(xe>>>0)<<p|BigInt(Ce>>>0);z.toBig=H;const x=(xe,Ce,C)=>xe>>>C;z.shrSH=x;const R=(xe,Ce,C)=>xe<<32-C|Ce>>>C;z.shrSL=R;const A=(xe,Ce,C)=>xe>>>C|Ce<<32-C;z.rotrSH=A;const O=(xe,Ce,C)=>xe<<32-C|Ce>>>C;z.rotrSL=O;const F=(xe,Ce,C)=>xe<<64-C|Ce>>>C-32;z.rotrBH=F;const L=(xe,Ce,C)=>xe>>>C-32|Ce<<64-C;z.rotrBL=L;const I=(xe,Ce)=>Ce;z.rotr32H=I;const Z=(xe,Ce)=>xe;z.rotr32L=Z;const j=(xe,Ce,C)=>xe<<C|Ce>>>32-C;z.rotlSH=j;const G=(xe,Ce,C)=>Ce<<C|xe>>>32-C;z.rotlSL=G;const re=(xe,Ce,C)=>Ce<<C-32|xe>>>64-C;z.rotlBH=re;const te=(xe,Ce,C)=>xe<<C-32|Ce>>>64-C;function J(xe,Ce,C,a){const u=(Ce>>>0)+(a>>>0);return{h:xe+C+(u/2**32|0)|0,l:0|u}}z.rotlBL=te,z.add=J;const Y=(xe,Ce,C)=>(xe>>>0)+(Ce>>>0)+(C>>>0);z.add3L=Y;const oe=(xe,Ce,C,a)=>Ce+C+a+(xe/2**32|0)|0;z.add3H=oe;const ae=(xe,Ce,C,a)=>(xe>>>0)+(Ce>>>0)+(C>>>0)+(a>>>0);z.add4L=ae;const se=(xe,Ce,C,a,u)=>Ce+C+a+u+(xe/2**32|0)|0;z.add4H=se;const de=(xe,Ce,C,a,u)=>(xe>>>0)+(Ce>>>0)+(C>>>0)+(a>>>0)+(u>>>0);z.add5L=de;const le=(xe,Ce,C,a,u,y)=>Ce+C+a+u+y+(xe/2**32|0)|0;z.add5H=le,z.default={fromBig:E,split:k,toBig:H,shrSH:x,shrSL:R,rotrSH:A,rotrSL:O,rotrBH:F,rotrBL:L,rotr32H:I,rotr32L:Z,rotlSH:j,rotlSL:G,rotlBH:re,rotlBL:te,add:J,add3L:Y,add3H:oe,add4L:ae,add4H:se,add5H:le,add5L:de}},89948:(Fe,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.crypto=void 0,z.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},57334:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.hkdf=z.expand=z.extract=void 0;const p=_(68578),E=_(96492),k=_(44882);function H(F,L,I){return(0,p.hash)(F),void 0===I&&(I=new Uint8Array(F.outputLen)),(0,k.hmac)(F,(0,E.toBytes)(I),(0,E.toBytes)(L))}z.extract=H;const x=new Uint8Array([0]),R=new Uint8Array;function A(F,L,I,Z=32){if((0,p.hash)(F),(0,p.number)(Z),Z>255*F.outputLen)throw new Error("Length should be <= 255*HashLen");const j=Math.ceil(Z/F.outputLen);void 0===I&&(I=R);const G=new Uint8Array(j*F.outputLen),re=k.hmac.create(F,L),te=re._cloneInto(),J=new Uint8Array(re.outputLen);for(let Y=0;Y<j;Y++)x[0]=Y+1,te.update(0===Y?R:J).update(I).update(x).digestInto(J),G.set(J,F.outputLen*Y),re._cloneInto(te);return re.destroy(),te.destroy(),J.fill(0),x.fill(0),G.slice(0,Z)}z.expand=A,z.hkdf=(F,L,I,Z,j)=>A(F,H(F,L,I),Z,j)},44882:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.hmac=z.HMAC=void 0;const p=_(68578),E=_(96492);class k extends E.Hash{constructor(R,A){super(),this.finished=!1,this.destroyed=!1,(0,p.hash)(R);const O=(0,E.toBytes)(A);if(this.iHash=R.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const F=this.blockLen,L=new Uint8Array(F);L.set(O.length>F?R.create().update(O).digest():O);for(let I=0;I<L.length;I++)L[I]^=54;this.iHash.update(L),this.oHash=R.create();for(let I=0;I<L.length;I++)L[I]^=106;this.oHash.update(L),L.fill(0)}update(R){return(0,p.exists)(this),this.iHash.update(R),this}digestInto(R){(0,p.exists)(this),(0,p.bytes)(R,this.outputLen),this.finished=!0,this.iHash.digestInto(R),this.oHash.update(R),this.oHash.digestInto(R),this.destroy()}digest(){const R=new Uint8Array(this.oHash.outputLen);return this.digestInto(R),R}_cloneInto(R){R||(R=Object.create(Object.getPrototypeOf(this),{}));const{oHash:A,iHash:O,finished:F,destroyed:L,blockLen:I,outputLen:Z}=this;return R.finished=F,R.destroyed=L,R.blockLen=I,R.outputLen=Z,R.oHash=A._cloneInto(R.oHash),R.iHash=O._cloneInto(R.iHash),R}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}z.HMAC=k,z.hmac=(x,R,A)=>new k(x,R).update(A).digest(),z.hmac.create=(x,R)=>new k(x,R)},1806:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.sha224=z.sha256=void 0;const p=_(25724),E=_(96492),k=(L,I,Z)=>L&I^~L&Z,H=(L,I,Z)=>L&I^L&Z^I&Z,x=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),R=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),A=new Uint32Array(64);class O extends p.SHA2{constructor(){super(64,32,8,!1),this.A=0|R[0],this.B=0|R[1],this.C=0|R[2],this.D=0|R[3],this.E=0|R[4],this.F=0|R[5],this.G=0|R[6],this.H=0|R[7]}get(){const{A:I,B:Z,C:j,D:G,E:re,F:te,G:J,H:Y}=this;return[I,Z,j,G,re,te,J,Y]}set(I,Z,j,G,re,te,J,Y){this.A=0|I,this.B=0|Z,this.C=0|j,this.D=0|G,this.E=0|re,this.F=0|te,this.G=0|J,this.H=0|Y}process(I,Z){for(let se=0;se<16;se++,Z+=4)A[se]=I.getUint32(Z,!1);for(let se=16;se<64;se++){const de=A[se-15],le=A[se-2],we=(0,E.rotr)(de,7)^(0,E.rotr)(de,18)^de>>>3,xe=(0,E.rotr)(le,17)^(0,E.rotr)(le,19)^le>>>10;A[se]=xe+A[se-7]+we+A[se-16]|0}let{A:j,B:G,C:re,D:te,E:J,F:Y,G:oe,H:ae}=this;for(let se=0;se<64;se++){const le=ae+((0,E.rotr)(J,6)^(0,E.rotr)(J,11)^(0,E.rotr)(J,25))+k(J,Y,oe)+x[se]+A[se]|0,xe=((0,E.rotr)(j,2)^(0,E.rotr)(j,13)^(0,E.rotr)(j,22))+H(j,G,re)|0;ae=oe,oe=Y,Y=J,J=te+le|0,te=re,re=G,G=j,j=le+xe|0}j=j+this.A|0,G=G+this.B|0,re=re+this.C|0,te=te+this.D|0,J=J+this.E|0,Y=Y+this.F|0,oe=oe+this.G|0,ae=ae+this.H|0,this.set(j,G,re,te,J,Y,oe,ae)}roundClean(){A.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class F extends O{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}z.sha256=(0,E.wrapConstructor)(()=>new O),z.sha224=(0,E.wrapConstructor)(()=>new F)},44207:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.sha384=z.sha512_256=z.sha512_224=z.sha512=z.SHA512=void 0;const p=_(25724),E=_(35059),k=_(96492),[H,x]=E.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(Z=>BigInt(Z))),R=new Uint32Array(80),A=new Uint32Array(80);class O extends p.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:j,Al:G,Bh:re,Bl:te,Ch:J,Cl:Y,Dh:oe,Dl:ae,Eh:se,El:de,Fh:le,Fl:we,Gh:xe,Gl:Ce,Hh:C,Hl:a}=this;return[j,G,re,te,J,Y,oe,ae,se,de,le,we,xe,Ce,C,a]}set(j,G,re,te,J,Y,oe,ae,se,de,le,we,xe,Ce,C,a){this.Ah=0|j,this.Al=0|G,this.Bh=0|re,this.Bl=0|te,this.Ch=0|J,this.Cl=0|Y,this.Dh=0|oe,this.Dl=0|ae,this.Eh=0|se,this.El=0|de,this.Fh=0|le,this.Fl=0|we,this.Gh=0|xe,this.Gl=0|Ce,this.Hh=0|C,this.Hl=0|a}process(j,G){for(let g=0;g<16;g++,G+=4)R[g]=j.getUint32(G),A[g]=j.getUint32(G+=4);for(let g=16;g<80;g++){const S=0|R[g-15],T=0|A[g-15],N=E.default.rotrSH(S,T,1)^E.default.rotrSH(S,T,8)^E.default.shrSH(S,T,7),M=E.default.rotrSL(S,T,1)^E.default.rotrSL(S,T,8)^E.default.shrSL(S,T,7),s=0|R[g-2],v=0|A[g-2],W=E.default.rotrSH(s,v,19)^E.default.rotrBH(s,v,61)^E.default.shrSH(s,v,6),K=E.default.rotrSL(s,v,19)^E.default.rotrBL(s,v,61)^E.default.shrSL(s,v,6),ee=E.default.add4L(M,K,A[g-7],A[g-16]),ce=E.default.add4H(ee,N,W,R[g-7],R[g-16]);R[g]=0|ce,A[g]=0|ee}let{Ah:re,Al:te,Bh:J,Bl:Y,Ch:oe,Cl:ae,Dh:se,Dl:de,Eh:le,El:we,Fh:xe,Fl:Ce,Gh:C,Gl:a,Hh:u,Hl:y}=this;for(let g=0;g<80;g++){const S=E.default.rotrSH(le,we,14)^E.default.rotrSH(le,we,18)^E.default.rotrBH(le,we,41),T=E.default.rotrSL(le,we,14)^E.default.rotrSL(le,we,18)^E.default.rotrBL(le,we,41),N=le&xe^~le&C,s=E.default.add5L(y,T,we&Ce^~we&a,x[g],A[g]),v=E.default.add5H(s,u,S,N,H[g],R[g]),W=0|s,K=E.default.rotrSH(re,te,28)^E.default.rotrBH(re,te,34)^E.default.rotrBH(re,te,39),ee=E.default.rotrSL(re,te,28)^E.default.rotrBL(re,te,34)^E.default.rotrBL(re,te,39),ce=re&J^re&oe^J&oe,_e=te&Y^te&ae^Y&ae;u=0|C,y=0|a,C=0|xe,a=0|Ce,xe=0|le,Ce=0|we,({h:le,l:we}=E.default.add(0|se,0|de,0|v,0|W)),se=0|oe,de=0|ae,oe=0|J,ae=0|Y,J=0|re,Y=0|te;const Pe=E.default.add3L(W,ee,_e);re=E.default.add3H(Pe,v,K,ce),te=0|Pe}({h:re,l:te}=E.default.add(0|this.Ah,0|this.Al,0|re,0|te)),({h:J,l:Y}=E.default.add(0|this.Bh,0|this.Bl,0|J,0|Y)),({h:oe,l:ae}=E.default.add(0|this.Ch,0|this.Cl,0|oe,0|ae)),({h:se,l:de}=E.default.add(0|this.Dh,0|this.Dl,0|se,0|de)),({h:le,l:we}=E.default.add(0|this.Eh,0|this.El,0|le,0|we)),({h:xe,l:Ce}=E.default.add(0|this.Fh,0|this.Fl,0|xe,0|Ce)),({h:C,l:a}=E.default.add(0|this.Gh,0|this.Gl,0|C,0|a)),({h:u,l:y}=E.default.add(0|this.Hh,0|this.Hl,0|u,0|y)),this.set(re,te,J,Y,oe,ae,se,de,le,we,xe,Ce,C,a,u,y)}roundClean(){R.fill(0),A.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}z.SHA512=O;class F extends O{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class L extends O{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class I extends O{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}z.sha512=(0,k.wrapConstructor)(()=>new O),z.sha512_224=(0,k.wrapConstructor)(()=>new F),z.sha512_256=(0,k.wrapConstructor)(()=>new L),z.sha384=(0,k.wrapConstructor)(()=>new I)},96492:(Fe,z,_)=>{"use strict";var p=_(29293).default;Object.defineProperty(z,"__esModule",{value:!0}),z.randomBytes=z.wrapXOFConstructorWithOpts=z.wrapConstructorWithOpts=z.wrapConstructor=z.checkOpts=z.Hash=z.concatBytes=z.toBytes=z.utf8ToBytes=z.asyncLoop=z.nextTick=z.hexToBytes=z.bytesToHex=z.isLE=z.rotr=z.createView=z.u32=z.u8=void 0;const E=_(89948);function x(Ce){return Ce instanceof Uint8Array||null!=Ce&&"object"==typeof Ce&&"Uint8Array"===Ce.constructor.name}if(z.u8=Ce=>new Uint8Array(Ce.buffer,Ce.byteOffset,Ce.byteLength),z.u32=Ce=>new Uint32Array(Ce.buffer,Ce.byteOffset,Math.floor(Ce.byteLength/4)),z.createView=Ce=>new DataView(Ce.buffer,Ce.byteOffset,Ce.byteLength),z.rotr=(Ce,C)=>Ce<<32-C|Ce>>>C,z.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!z.isLE)throw new Error("Non little-endian hardware is not supported");const O=Array.from({length:256},(Ce,C)=>C.toString(16).padStart(2,"0"));z.bytesToHex=function F(Ce){if(!x(Ce))throw new Error("Uint8Array expected");let C="";for(let a=0;a<Ce.length;a++)C+=O[Ce[a]];return C};const L__0=48,L__9=57,L__A=65,L__F=70,L__a=97,L__f=102;function I(Ce){return Ce>=L__0&&Ce<=L__9?Ce-L__0:Ce>=L__A&&Ce<=L__F?Ce-(L__A-10):Ce>=L__a&&Ce<=L__f?Ce-(L__a-10):void 0}function re(){return(re=p(function*(Ce,C,a){let u=Date.now();for(let y=0;y<Ce;y++){a(y);const g=Date.now()-u;g>=0&&g<C||(yield(0,z.nextTick)(),u+=g)}})).apply(this,arguments)}function te(Ce){if("string"!=typeof Ce)throw new Error("utf8ToBytes expected string, got "+typeof Ce);return new Uint8Array((new TextEncoder).encode(Ce))}function J(Ce){if("string"==typeof Ce&&(Ce=te(Ce)),!x(Ce))throw new Error("expected Uint8Array, got "+typeof Ce);return Ce}z.hexToBytes=function Z(Ce){if("string"!=typeof Ce)throw new Error("hex string expected, got "+typeof Ce);const C=Ce.length,a=C/2;if(C%2)throw new Error("padded hex string expected, got unpadded hex of length "+C);const u=new Uint8Array(a);for(let y=0,g=0;y<a;y++,g+=2){const S=I(Ce.charCodeAt(g)),T=I(Ce.charCodeAt(g+1));if(void 0===S||void 0===T)throw new Error('hex string expected, got non-hex character "'+(Ce[g]+Ce[g+1])+'" at index '+g);u[y]=16*S+T}return u},z.nextTick=function(){var Ce=p(function*(){});return function(){return Ce.apply(this,arguments)}}(),z.asyncLoop=function G(Ce,C,a){return re.apply(this,arguments)},z.utf8ToBytes=te,z.toBytes=J,z.concatBytes=function Y(...Ce){let C=0;for(let u=0;u<Ce.length;u++){const y=Ce[u];if(!x(y))throw new Error("Uint8Array expected");C+=y.length}const a=new Uint8Array(C);for(let u=0,y=0;u<Ce.length;u++){const g=Ce[u];a.set(g,y),y+=g.length}return a},z.Hash=class oe{clone(){return this._cloneInto()}};const ae={}.toString;z.checkOpts=function se(Ce,C){if(void 0!==C&&"[object Object]"!==ae.call(C))throw new Error("Options should be object or undefined");return Object.assign(Ce,C)},z.wrapConstructor=function de(Ce){const C=u=>Ce().update(J(u)).digest(),a=Ce();return C.outputLen=a.outputLen,C.blockLen=a.blockLen,C.create=()=>Ce(),C},z.wrapConstructorWithOpts=function le(Ce){const C=(u,y)=>Ce(y).update(J(u)).digest(),a=Ce({});return C.outputLen=a.outputLen,C.blockLen=a.blockLen,C.create=u=>Ce(u),C},z.wrapXOFConstructorWithOpts=function we(Ce){const C=(u,y)=>Ce(y).update(J(u)).digest(),a=Ce({});return C.outputLen=a.outputLen,C.blockLen=a.blockLen,C.create=u=>Ce(u),C},z.randomBytes=function xe(Ce=32){if(E.crypto&&"function"==typeof E.crypto.getRandomValues)return E.crypto.getRandomValues(new Uint8Array(Ce));throw new Error("crypto.getRandomValues must be defined")}},42064:(Fe,z,_)=>{z.Level=_(23963).BrowserLevel},20844:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.MissingRefError=z.ValidationError=z.CodeGen=z.Name=z.nil=z.stringify=z.str=z._=z.KeywordCxt=void 0;const p=_(35419),E=_(98496),k=_(86980),H=_(87577),x="https://json-schema.org/draft/2020-12/schema";class R extends p.default{constructor(Z={}){super({...Z,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),E.default.forEach(Z=>this.addVocabulary(Z)),this.opts.discriminator&&this.addKeyword(k.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:Z,meta:j}=this.opts;j&&(H.default.call(this,Z),this.refs["http://json-schema.org/schema"]=x)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(x)?x:void 0)}}Fe.exports=z=R,Object.defineProperty(z,"__esModule",{value:!0}),z.default=R;var A=_(40339);Object.defineProperty(z,"KeywordCxt",{enumerable:!0,get:function(){return A.KeywordCxt}});var O=_(1038);Object.defineProperty(z,"_",{enumerable:!0,get:function(){return O._}}),Object.defineProperty(z,"str",{enumerable:!0,get:function(){return O.str}}),Object.defineProperty(z,"stringify",{enumerable:!0,get:function(){return O.stringify}}),Object.defineProperty(z,"nil",{enumerable:!0,get:function(){return O.nil}}),Object.defineProperty(z,"Name",{enumerable:!0,get:function(){return O.Name}}),Object.defineProperty(z,"CodeGen",{enumerable:!0,get:function(){return O.CodeGen}});var F=_(42467);Object.defineProperty(z,"ValidationError",{enumerable:!0,get:function(){return F.default}});var L=_(26288);Object.defineProperty(z,"MissingRefError",{enumerable:!0,get:function(){return L.default}})},33337:(Fe,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.regexpCode=z.getEsmExportName=z.getProperty=z.safeStringify=z.stringify=z.strConcat=z.addCodeArg=z.str=z._=z.nil=z._Code=z.Name=z.IDENTIFIER=z._CodeOrName=void 0;class _{}z._CodeOrName=_,z.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class p extends _{constructor(J){if(super(),!z.IDENTIFIER.test(J))throw new Error("CodeGen: name must be a valid identifier");this.str=J}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}z.Name=p;class E extends _{constructor(J){super(),this._items="string"==typeof J?[J]:J}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const J=this._items[0];return""===J||'""'===J}get str(){var J;return null!==(J=this._str)&&void 0!==J?J:this._str=this._items.reduce((Y,oe)=>`${Y}${oe}`,"")}get names(){var J;return null!==(J=this._names)&&void 0!==J?J:this._names=this._items.reduce((Y,oe)=>(oe instanceof p&&(Y[oe.str]=(Y[oe.str]||0)+1),Y),{})}}function k(te,...J){const Y=[te[0]];let oe=0;for(;oe<J.length;)R(Y,J[oe]),Y.push(te[++oe]);return new E(Y)}z._Code=E,z.nil=new E(""),z._=k;const H=new E("+");function x(te,...J){const Y=[Z(te[0])];let oe=0;for(;oe<J.length;)Y.push(H),R(Y,J[oe]),Y.push(H,Z(te[++oe]));return function A(te){let J=1;for(;J<te.length-1;){if(te[J]===H){const Y=O(te[J-1],te[J+1]);if(void 0!==Y){te.splice(J-1,3,Y);continue}te[J++]="+"}J++}}(Y),new E(Y)}function R(te,J){J instanceof E?te.push(...J._items):te.push(J instanceof p?J:function L(te){return"number"==typeof te||"boolean"==typeof te||null===te?te:Z(Array.isArray(te)?te.join(","):te)}(J))}function O(te,J){return'""'===J?te:'""'===te?J:"string"==typeof te?J instanceof p||'"'!==te[te.length-1]?void 0:"string"!=typeof J?`${te.slice(0,-1)}${J}"`:'"'===J[0]?te.slice(0,-1)+J.slice(1):void 0:"string"!=typeof J||'"'!==J[0]||te instanceof p?void 0:`"${te}${J.slice(1)}`}function Z(te){return JSON.stringify(te).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}z.str=x,z.addCodeArg=R,z.strConcat=function F(te,J){return J.emptyStr()?te:te.emptyStr()?J:x`${te}${J}`},z.stringify=function I(te){return new E(Z(te))},z.safeStringify=Z,z.getProperty=function j(te){return"string"==typeof te&&z.IDENTIFIER.test(te)?new E(`.${te}`):k`[${te}]`},z.getEsmExportName=function G(te){if("string"==typeof te&&z.IDENTIFIER.test(te))return new E(`${te}`);throw new Error(`CodeGen: invalid export name: ${te}, use explicit $id name mapping`)},z.regexpCode=function re(te){return new E(te.toString())}},1038:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.or=z.and=z.not=z.CodeGen=z.operators=z.varKinds=z.ValueScopeName=z.ValueScope=z.Scope=z.Name=z.regexpCode=z.stringify=z.getProperty=z.nil=z.strConcat=z.str=z._=void 0;const p=_(33337),E=_(85934);var k=_(33337);Object.defineProperty(z,"_",{enumerable:!0,get:function(){return k._}}),Object.defineProperty(z,"str",{enumerable:!0,get:function(){return k.str}}),Object.defineProperty(z,"strConcat",{enumerable:!0,get:function(){return k.strConcat}}),Object.defineProperty(z,"nil",{enumerable:!0,get:function(){return k.nil}}),Object.defineProperty(z,"getProperty",{enumerable:!0,get:function(){return k.getProperty}}),Object.defineProperty(z,"stringify",{enumerable:!0,get:function(){return k.stringify}}),Object.defineProperty(z,"regexpCode",{enumerable:!0,get:function(){return k.regexpCode}}),Object.defineProperty(z,"Name",{enumerable:!0,get:function(){return k.Name}});var H=_(85934);Object.defineProperty(z,"Scope",{enumerable:!0,get:function(){return H.Scope}}),Object.defineProperty(z,"ValueScope",{enumerable:!0,get:function(){return H.ValueScope}}),Object.defineProperty(z,"ValueScopeName",{enumerable:!0,get:function(){return H.ValueScopeName}}),Object.defineProperty(z,"varKinds",{enumerable:!0,get:function(){return H.varKinds}}),z.operators={GT:new p._Code(">"),GTE:new p._Code(">="),LT:new p._Code("<"),LTE:new p._Code("<="),EQ:new p._Code("==="),NEQ:new p._Code("!=="),NOT:new p._Code("!"),OR:new p._Code("||"),AND:new p._Code("&&"),ADD:new p._Code("+")};class x{optimizeNodes(){return this}optimizeNames(ee,ce){return this}}class R extends x{constructor(ee,ce,_e){super(),this.varKind=ee,this.name=ce,this.rhs=_e}render({es5:ee,_n:ce}){return`${ee?E.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+ce}optimizeNames(ee,ce){if(ee[this.name.str])return this.rhs&&(this.rhs=y(this.rhs,ee,ce)),this}get names(){return this.rhs instanceof p._CodeOrName?this.rhs.names:{}}}class A extends x{constructor(ee,ce,_e){super(),this.lhs=ee,this.rhs=ce,this.sideEffects=_e}render({_n:ee}){return`${this.lhs} = ${this.rhs};`+ee}optimizeNames(ee,ce){if(!(this.lhs instanceof p.Name)||ee[this.lhs.str]||this.sideEffects)return this.rhs=y(this.rhs,ee,ce),this}get names(){return u(this.lhs instanceof p.Name?{}:{...this.lhs.names},this.rhs)}}class O extends A{constructor(ee,ce,_e,Pe){super(ee,_e,Pe),this.op=ce}render({_n:ee}){return`${this.lhs} ${this.op}= ${this.rhs};`+ee}}class F extends x{constructor(ee){super(),this.label=ee,this.names={}}render({_n:ee}){return`${this.label}:`+ee}}class L extends x{constructor(ee){super(),this.label=ee,this.names={}}render({_n:ee}){return`break${this.label?` ${this.label}`:""};`+ee}}class I extends x{constructor(ee){super(),this.error=ee}render({_n:ee}){return`throw ${this.error};`+ee}get names(){return this.error.names}}class Z extends x{constructor(ee){super(),this.code=ee}render({_n:ee}){return`${this.code};`+ee}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(ee,ce){return this.code=y(this.code,ee,ce),this}get names(){return this.code instanceof p._CodeOrName?this.code.names:{}}}class j extends x{constructor(ee=[]){super(),this.nodes=ee}render(ee){return this.nodes.reduce((ce,_e)=>ce+_e.render(ee),"")}optimizeNodes(){const{nodes:ee}=this;let ce=ee.length;for(;ce--;){const _e=ee[ce].optimizeNodes();Array.isArray(_e)?ee.splice(ce,1,..._e):_e?ee[ce]=_e:ee.splice(ce,1)}return ee.length>0?this:void 0}optimizeNames(ee,ce){const{nodes:_e}=this;let Pe=_e.length;for(;Pe--;){const $e=_e[Pe];$e.optimizeNames(ee,ce)||(g(ee,$e.names),_e.splice(Pe,1))}return _e.length>0?this:void 0}get names(){return this.nodes.reduce((ee,ce)=>a(ee,ce.names),{})}}class G extends j{render(ee){return"{"+ee._n+super.render(ee)+"}"+ee._n}}class re extends j{}let te=(()=>{class K extends G{}return K.kind="else",K})(),J=(()=>{class K extends G{constructor(ce,_e){super(_e),this.condition=ce}render(ce){let _e=`if(${this.condition})`+super.render(ce);return this.else&&(_e+="else "+this.else.render(ce)),_e}optimizeNodes(){super.optimizeNodes();const ce=this.condition;if(!0===ce)return this.nodes;let _e=this.else;if(_e){const Pe=_e.optimizeNodes();_e=this.else=Array.isArray(Pe)?new te(Pe):Pe}return _e?!1===ce?_e instanceof K?_e:_e.nodes:this.nodes.length?this:new K(S(ce),_e instanceof K?[_e]:_e.nodes):!1!==ce&&this.nodes.length?this:void 0}optimizeNames(ce,_e){var Pe;if(this.else=null===(Pe=this.else)||void 0===Pe?void 0:Pe.optimizeNames(ce,_e),super.optimizeNames(ce,_e)||this.else)return this.condition=y(this.condition,ce,_e),this}get names(){const ce=super.names;return u(ce,this.condition),this.else&&a(ce,this.else.names),ce}}return K.kind="if",K})(),Y=(()=>{class K extends G{}return K.kind="for",K})();class oe extends Y{constructor(ee){super(),this.iteration=ee}render(ee){return`for(${this.iteration})`+super.render(ee)}optimizeNames(ee,ce){if(super.optimizeNames(ee,ce))return this.iteration=y(this.iteration,ee,ce),this}get names(){return a(super.names,this.iteration.names)}}class ae extends Y{constructor(ee,ce,_e,Pe){super(),this.varKind=ee,this.name=ce,this.from=_e,this.to=Pe}render(ee){const ce=ee.es5?E.varKinds.var:this.varKind,{name:_e,from:Pe,to:$e}=this;return`for(${ce} ${_e}=${Pe}; ${_e}<${$e}; ${_e}++)`+super.render(ee)}get names(){const ee=u(super.names,this.from);return u(ee,this.to)}}class se extends Y{constructor(ee,ce,_e,Pe){super(),this.loop=ee,this.varKind=ce,this.name=_e,this.iterable=Pe}render(ee){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(ee)}optimizeNames(ee,ce){if(super.optimizeNames(ee,ce))return this.iterable=y(this.iterable,ee,ce),this}get names(){return a(super.names,this.iterable.names)}}let de=(()=>{class K extends G{constructor(ce,_e,Pe){super(),this.name=ce,this.args=_e,this.async=Pe}render(ce){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(ce)}}return K.kind="func",K})(),le=(()=>{class K extends j{render(ce){return"return "+super.render(ce)}}return K.kind="return",K})();class we extends G{render(ee){let ce="try"+super.render(ee);return this.catch&&(ce+=this.catch.render(ee)),this.finally&&(ce+=this.finally.render(ee)),ce}optimizeNodes(){var ee,ce;return super.optimizeNodes(),null===(ee=this.catch)||void 0===ee||ee.optimizeNodes(),null===(ce=this.finally)||void 0===ce||ce.optimizeNodes(),this}optimizeNames(ee,ce){var _e,Pe;return super.optimizeNames(ee,ce),null===(_e=this.catch)||void 0===_e||_e.optimizeNames(ee,ce),null===(Pe=this.finally)||void 0===Pe||Pe.optimizeNames(ee,ce),this}get names(){const ee=super.names;return this.catch&&a(ee,this.catch.names),this.finally&&a(ee,this.finally.names),ee}}let xe=(()=>{class K extends G{constructor(ce){super(),this.error=ce}render(ce){return`catch(${this.error})`+super.render(ce)}}return K.kind="catch",K})(),Ce=(()=>{class K extends G{render(ce){return"finally"+super.render(ce)}}return K.kind="finally",K})();function a(K,ee){for(const ce in ee)K[ce]=(K[ce]||0)+(ee[ce]||0);return K}function u(K,ee){return ee instanceof p._CodeOrName?a(K,ee.names):K}function y(K,ee,ce){return K instanceof p.Name?_e(K):function Pe($e){return $e instanceof p._Code&&$e._items.some(Se=>Se instanceof p.Name&&1===ee[Se.str]&&void 0!==ce[Se.str])}(K)?new p._Code(K._items.reduce(($e,Se)=>(Se instanceof p.Name&&(Se=_e(Se)),Se instanceof p._Code?$e.push(...Se._items):$e.push(Se),$e),[])):K;function _e($e){const Se=ce[$e.str];return void 0===Se||1!==ee[$e.str]?$e:(delete ee[$e.str],Se)}}function g(K,ee){for(const ce in ee)K[ce]=(K[ce]||0)-(ee[ce]||0)}function S(K){return"boolean"==typeof K||"number"==typeof K||null===K?!K:p._`!${W(K)}`}z.CodeGen=class C{constructor(ee,ce={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...ce,_n:ce.lines?"\n":""},this._extScope=ee,this._scope=new E.Scope({parent:ee}),this._nodes=[new re]}toString(){return this._root.render(this.opts)}name(ee){return this._scope.name(ee)}scopeName(ee){return this._extScope.name(ee)}scopeValue(ee,ce){const _e=this._extScope.value(ee,ce);return(this._values[_e.prefix]||(this._values[_e.prefix]=new Set)).add(_e),_e}getScopeValue(ee,ce){return this._extScope.getValue(ee,ce)}scopeRefs(ee){return this._extScope.scopeRefs(ee,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(ee,ce,_e,Pe){const $e=this._scope.toName(ce);return void 0!==_e&&Pe&&(this._constants[$e.str]=_e),this._leafNode(new R(ee,$e,_e)),$e}const(ee,ce,_e){return this._def(E.varKinds.const,ee,ce,_e)}let(ee,ce,_e){return this._def(E.varKinds.let,ee,ce,_e)}var(ee,ce,_e){return this._def(E.varKinds.var,ee,ce,_e)}assign(ee,ce,_e){return this._leafNode(new A(ee,ce,_e))}add(ee,ce){return this._leafNode(new O(ee,z.operators.ADD,ce))}code(ee){return"function"==typeof ee?ee():ee!==p.nil&&this._leafNode(new Z(ee)),this}object(...ee){const ce=["{"];for(const[_e,Pe]of ee)ce.length>1&&ce.push(","),ce.push(_e),(_e!==Pe||this.opts.es5)&&(ce.push(":"),(0,p.addCodeArg)(ce,Pe));return ce.push("}"),new p._Code(ce)}if(ee,ce,_e){if(this._blockNode(new J(ee)),ce&&_e)this.code(ce).else().code(_e).endIf();else if(ce)this.code(ce).endIf();else if(_e)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(ee){return this._elseNode(new J(ee))}else(){return this._elseNode(new te)}endIf(){return this._endBlockNode(J,te)}_for(ee,ce){return this._blockNode(ee),ce&&this.code(ce).endFor(),this}for(ee,ce){return this._for(new oe(ee),ce)}forRange(ee,ce,_e,Pe,$e=(this.opts.es5?E.varKinds.var:E.varKinds.let)){const Se=this._scope.toName(ee);return this._for(new ae($e,Se,ce,_e),()=>Pe(Se))}forOf(ee,ce,_e,Pe=E.varKinds.const){const $e=this._scope.toName(ee);if(this.opts.es5){const Se=ce instanceof p.Name?ce:this.var("_arr",ce);return this.forRange("_i",0,p._`${Se}.length`,be=>{this.var($e,p._`${Se}[${be}]`),_e($e)})}return this._for(new se("of",Pe,$e,ce),()=>_e($e))}forIn(ee,ce,_e,Pe=(this.opts.es5?E.varKinds.var:E.varKinds.const)){if(this.opts.ownProperties)return this.forOf(ee,p._`Object.keys(${ce})`,_e);const $e=this._scope.toName(ee);return this._for(new se("in",Pe,$e,ce),()=>_e($e))}endFor(){return this._endBlockNode(Y)}label(ee){return this._leafNode(new F(ee))}break(ee){return this._leafNode(new L(ee))}return(ee){const ce=new le;if(this._blockNode(ce),this.code(ee),1!==ce.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(le)}try(ee,ce,_e){if(!ce&&!_e)throw new Error('CodeGen: "try" without "catch" and "finally"');const Pe=new we;if(this._blockNode(Pe),this.code(ee),ce){const $e=this.name("e");this._currNode=Pe.catch=new xe($e),ce($e)}return _e&&(this._currNode=Pe.finally=new Ce,this.code(_e)),this._endBlockNode(xe,Ce)}throw(ee){return this._leafNode(new I(ee))}block(ee,ce){return this._blockStarts.push(this._nodes.length),ee&&this.code(ee).endBlock(ce),this}endBlock(ee){const ce=this._blockStarts.pop();if(void 0===ce)throw new Error("CodeGen: not in self-balancing block");const _e=this._nodes.length-ce;if(_e<0||void 0!==ee&&_e!==ee)throw new Error(`CodeGen: wrong number of nodes: ${_e} vs ${ee} expected`);return this._nodes.length=ce,this}func(ee,ce=p.nil,_e,Pe){return this._blockNode(new de(ee,ce,_e)),Pe&&this.code(Pe).endFunc(),this}endFunc(){return this._endBlockNode(de)}optimize(ee=1){for(;ee-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(ee){return this._currNode.nodes.push(ee),this}_blockNode(ee){this._currNode.nodes.push(ee),this._nodes.push(ee)}_endBlockNode(ee,ce){const _e=this._currNode;if(_e instanceof ee||ce&&_e instanceof ce)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${ce?`${ee.kind}/${ce.kind}`:ee.kind}"`)}_elseNode(ee){const ce=this._currNode;if(!(ce instanceof J))throw new Error('CodeGen: "else" without "if"');return this._currNode=ce.else=ee,this}get _root(){return this._nodes[0]}get _currNode(){const ee=this._nodes;return ee[ee.length-1]}set _currNode(ee){const ce=this._nodes;ce[ce.length-1]=ee}},z.not=S;const T=v(z.operators.AND);z.and=function N(...K){return K.reduce(T)};const M=v(z.operators.OR);function v(K){return(ee,ce)=>ee===p.nil?ce:ce===p.nil?ee:p._`${W(ee)} ${K} ${W(ce)}`}function W(K){return K instanceof p.Name?K:p._`(${K})`}z.or=function s(...K){return K.reduce(M)}},85934:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.ValueScope=z.ValueScopeName=z.Scope=z.varKinds=z.UsedValueState=void 0;const p=_(33337);class E extends Error{constructor(F){super(`CodeGen: "code" for ${F} not defined`),this.value=F.value}}var k,O;(O=k=z.UsedValueState||(z.UsedValueState={}))[O.Started=0]="Started",O[O.Completed=1]="Completed",z.varKinds={const:new p.Name("const"),let:new p.Name("let"),var:new p.Name("var")};class H{constructor({prefixes:F,parent:L}={}){this._names={},this._prefixes=F,this._parent=L}toName(F){return F instanceof p.Name?F:this.name(F)}name(F){return new p.Name(this._newName(F))}_newName(F){return`${F}${(this._names[F]||this._nameGroup(F)).index++}`}_nameGroup(F){var L,I;if(null!==(I=null===(L=this._parent)||void 0===L?void 0:L._prefixes)&&void 0!==I&&I.has(F)||this._prefixes&&!this._prefixes.has(F))throw new Error(`CodeGen: prefix "${F}" is not allowed in this scope`);return this._names[F]={prefix:F,index:0}}}z.Scope=H;class x extends p.Name{constructor(F,L){super(L),this.prefix=F}setValue(F,{property:L,itemIndex:I}){this.value=F,this.scopePath=p._`.${new p.Name(L)}[${I}]`}}z.ValueScopeName=x;const R=p._`\n`;z.ValueScope=class A extends H{constructor(F){super(F),this._values={},this._scope=F.scope,this.opts={...F,_n:F.lines?R:p.nil}}get(){return this._scope}name(F){return new x(F,this._newName(F))}value(F,L){var I;if(void 0===L.ref)throw new Error("CodeGen: ref must be passed in value");const Z=this.toName(F),{prefix:j}=Z,G=null!==(I=L.key)&&void 0!==I?I:L.ref;let re=this._values[j];if(re){const Y=re.get(G);if(Y)return Y}else re=this._values[j]=new Map;re.set(G,Z);const te=this._scope[j]||(this._scope[j]=[]),J=te.length;return te[J]=L.ref,Z.setValue(L,{property:j,itemIndex:J}),Z}getValue(F,L){const I=this._values[F];if(I)return I.get(L)}scopeRefs(F,L=this._values){return this._reduceValues(L,I=>{if(void 0===I.scopePath)throw new Error(`CodeGen: name "${I}" has no value`);return p._`${F}${I.scopePath}`})}scopeCode(F=this._values,L,I){return this._reduceValues(F,Z=>{if(void 0===Z.value)throw new Error(`CodeGen: name "${Z}" has no value`);return Z.value.code},L,I)}_reduceValues(F,L,I={},Z){let j=p.nil;for(const G in F){const re=F[G];if(!re)continue;const te=I[G]=I[G]||new Map;re.forEach(J=>{if(te.has(J))return;te.set(J,k.Started);let Y=L(J);if(Y)j=p._`${j}${this.opts.es5?z.varKinds.var:z.varKinds.const} ${J} = ${Y};${this.opts._n}`;else{if(!(Y=Z?.(J)))throw new E(J);j=p._`${j}${Y}${this.opts._n}`}te.set(J,k.Completed)})}return j}}},53421:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.extendErrors=z.resetErrorsCount=z.reportExtraError=z.reportError=z.keyword$DataError=z.keywordError=void 0;const p=_(1038),E=_(27006),k=_(23432);function O(te,J){const Y=te.const("err",J);te.if(p._`${k.default.vErrors} === null`,()=>te.assign(k.default.vErrors,p._`[${Y}]`),p._`${k.default.vErrors}.push(${Y})`),te.code(p._`${k.default.errors}++`)}function F(te,J){const{gen:Y,validateName:oe,schemaEnv:ae}=te;ae.$async?Y.throw(p._`new ${te.ValidationError}(${J})`):(Y.assign(p._`${oe}.errors`,J),Y.return(!1))}z.keywordError={message:({keyword:te})=>p.str`must pass "${te}" keyword validation`},z.keyword$DataError={message:({keyword:te,schemaType:J})=>J?p.str`"${te}" keyword must be ${J} ($data)`:p.str`"${te}" keyword is invalid ($data)`},z.reportError=function H(te,J=z.keywordError,Y,oe){const{it:ae}=te,{gen:se,compositeRule:de,allErrors:le}=ae,we=I(te,J,Y);oe??(de||le)?O(se,we):F(ae,p._`[${we}]`)},z.reportExtraError=function x(te,J=z.keywordError,Y){const{it:oe}=te,{gen:ae,compositeRule:se,allErrors:de}=oe;O(ae,I(te,J,Y)),se||de||F(oe,k.default.vErrors)},z.resetErrorsCount=function R(te,J){te.assign(k.default.errors,J),te.if(p._`${k.default.vErrors} !== null`,()=>te.if(J,()=>te.assign(p._`${k.default.vErrors}.length`,J),()=>te.assign(k.default.vErrors,null)))},z.extendErrors=function A({gen:te,keyword:J,schemaValue:Y,data:oe,errsCount:ae,it:se}){if(void 0===ae)throw new Error("ajv implementation error");const de=te.name("err");te.forRange("i",ae,k.default.errors,le=>{te.const(de,p._`${k.default.vErrors}[${le}]`),te.if(p._`${de}.instancePath === undefined`,()=>te.assign(p._`${de}.instancePath`,(0,p.strConcat)(k.default.instancePath,se.errorPath))),te.assign(p._`${de}.schemaPath`,p.str`${se.errSchemaPath}/${J}`),se.opts.verbose&&(te.assign(p._`${de}.schema`,Y),te.assign(p._`${de}.data`,oe))})};const L={keyword:new p.Name("keyword"),schemaPath:new p.Name("schemaPath"),params:new p.Name("params"),propertyName:new p.Name("propertyName"),message:new p.Name("message"),schema:new p.Name("schema"),parentSchema:new p.Name("parentSchema")};function I(te,J,Y){const{createErrors:oe}=te.it;return!1===oe?p._`{}`:function Z(te,J,Y={}){const{gen:oe,it:ae}=te,se=[j(ae,Y),G(te,Y)];return function re(te,{params:J,message:Y},oe){const{keyword:ae,data:se,schemaValue:de,it:le}=te,{opts:we,propertyName:xe,topSchemaRef:Ce,schemaPath:C}=le;oe.push([L.keyword,ae],[L.params,"function"==typeof J?J(te):J||p._`{}`]),we.messages&&oe.push([L.message,"function"==typeof Y?Y(te):Y]),we.verbose&&oe.push([L.schema,de],[L.parentSchema,p._`${Ce}${C}`],[k.default.data,se]),xe&&oe.push([L.propertyName,xe])}(te,J,se),oe.object(...se)}(te,J,Y)}function j({errorPath:te},{instancePath:J}){const Y=J?p.str`${te}${(0,E.getErrorPath)(J,E.Type.Str)}`:te;return[k.default.instancePath,(0,p.strConcat)(k.default.instancePath,Y)]}function G({keyword:te,it:{errSchemaPath:J}},{schemaPath:Y,parentSchema:oe}){let ae=oe?J:p.str`${J}/${te}`;return Y&&(ae=p.str`${ae}${(0,E.getErrorPath)(Y,E.Type.Str)}`),[L.schemaPath,ae]}},97692:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.resolveSchema=z.getCompilingSchema=z.resolveRef=z.compileSchema=z.SchemaEnv=void 0;const p=_(1038),E=_(42467),k=_(23432),H=_(77172),x=_(27006),R=_(40339);class A{constructor(Y){var oe;let ae;this.refs={},this.dynamicAnchors={},"object"==typeof Y.schema&&(ae=Y.schema),this.schema=Y.schema,this.schemaId=Y.schemaId,this.root=Y.root||this,this.baseId=null!==(oe=Y.baseId)&&void 0!==oe?oe:(0,H.normalizeId)(ae?.[Y.schemaId||"$id"]),this.schemaPath=Y.schemaPath,this.localRefs=Y.localRefs,this.meta=Y.meta,this.$async=ae?.$async,this.refs={}}}function O(J){const Y=I.call(this,J);if(Y)return Y;const oe=(0,H.getFullPath)(this.opts.uriResolver,J.root.baseId),{es5:ae,lines:se}=this.opts.code,{ownProperties:de}=this.opts,le=new p.CodeGen(this.scope,{es5:ae,lines:se,ownProperties:de});let we;J.$async&&(we=le.scopeValue("Error",{ref:E.default,code:p._`require("ajv/dist/runtime/validation_error").default`}));const xe=le.scopeName("validate");J.validateName=xe;const Ce={gen:le,allErrors:this.opts.allErrors,data:k.default.data,parentData:k.default.parentData,parentDataProperty:k.default.parentDataProperty,dataNames:[k.default.data],dataPathArr:[p.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:le.scopeValue("schema",!0===this.opts.code.source?{ref:J.schema,code:(0,p.stringify)(J.schema)}:{ref:J.schema}),validateName:xe,ValidationError:we,schema:J.schema,schemaEnv:J,rootId:oe,baseId:J.baseId||oe,schemaPath:p.nil,errSchemaPath:J.schemaPath||(this.opts.jtd?"":"#"),errorPath:p._`""`,opts:this.opts,self:this};let C;try{this._compilations.add(J),(0,R.validateFunctionCode)(Ce),le.optimize(this.opts.code.optimize);const a=le.toString();C=`${le.scopeRefs(k.default.scope)}return ${a}`,this.opts.code.process&&(C=this.opts.code.process(C,J));const y=new Function(`${k.default.self}`,`${k.default.scope}`,C)(this,this.scope.get());if(this.scope.value(xe,{ref:y}),y.errors=null,y.schema=J.schema,y.schemaEnv=J,J.$async&&(y.$async=!0),!0===this.opts.code.source&&(y.source={validateName:xe,validateCode:a,scopeValues:le._values}),this.opts.unevaluated){const{props:g,items:S}=Ce;y.evaluated={props:g instanceof p.Name?void 0:g,items:S instanceof p.Name?void 0:S,dynamicProps:g instanceof p.Name,dynamicItems:S instanceof p.Name},y.source&&(y.source.evaluated=(0,p.stringify)(y.evaluated))}return J.validate=y,J}catch(a){throw delete J.validate,delete J.validateName,C&&this.logger.error("Error compiling schema, function code:",C),a}finally{this._compilations.delete(J)}}function L(J){return(0,H.inlineRef)(J.schema,this.opts.inlineRefs)?J.schema:J.validate?J:O.call(this,J)}function I(J){for(const Y of this._compilations)if(Z(Y,J))return Y}function Z(J,Y){return J.schema===Y.schema&&J.root===Y.root&&J.baseId===Y.baseId}function j(J,Y){let oe;for(;"string"==typeof(oe=this.refs[Y]);)Y=oe;return oe||this.schemas[Y]||G.call(this,J,Y)}function G(J,Y){const oe=this.opts.uriResolver.parse(Y),ae=(0,H._getFullPath)(this.opts.uriResolver,oe);let se=(0,H.getFullPath)(this.opts.uriResolver,J.baseId,void 0);if(Object.keys(J.schema).length>0&&ae===se)return te.call(this,oe,J);const de=(0,H.normalizeId)(ae),le=this.refs[de]||this.schemas[de];if("string"==typeof le){const we=G.call(this,J,le);return"object"!=typeof we?.schema?void 0:te.call(this,oe,we)}if("object"==typeof le?.schema){if(le.validate||O.call(this,le),de===(0,H.normalizeId)(Y)){const{schema:we}=le,{schemaId:xe}=this.opts,Ce=we[xe];return Ce&&(se=(0,H.resolveUrl)(this.opts.uriResolver,se,Ce)),new A({schema:we,schemaId:xe,root:J,baseId:se})}return te.call(this,oe,le)}}z.SchemaEnv=A,z.compileSchema=O,z.resolveRef=function F(J,Y,oe){var ae;oe=(0,H.resolveUrl)(this.opts.uriResolver,Y,oe);const se=J.refs[oe];if(se)return se;let de=j.call(this,J,oe);if(void 0===de){const le=null===(ae=J.localRefs)||void 0===ae?void 0:ae[oe],{schemaId:we}=this.opts;le&&(de=new A({schema:le,schemaId:we,root:J,baseId:Y}))}return void 0!==de?J.refs[oe]=L.call(this,de):void 0},z.getCompilingSchema=I,z.resolveSchema=G;const re=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function te(J,{baseId:Y,schema:oe,root:ae}){var se;if("/"!==(null===(se=J.fragment)||void 0===se?void 0:se[0]))return;for(const we of J.fragment.slice(1).split("/")){if("boolean"==typeof oe)return;const xe=oe[(0,x.unescapeFragment)(we)];if(void 0===xe)return;const Ce="object"==typeof(oe=xe)&&oe[this.opts.schemaId];!re.has(we)&&Ce&&(Y=(0,H.resolveUrl)(this.opts.uriResolver,Y,Ce))}let de;if("boolean"!=typeof oe&&oe.$ref&&!(0,x.schemaHasRulesButRef)(oe,this.RULES)){const we=(0,H.resolveUrl)(this.opts.uriResolver,Y,oe.$ref);de=G.call(this,ae,we)}const{schemaId:le}=this.opts;return de=de||new A({schema:oe,schemaId:le,root:ae,baseId:Y}),de.schema!==de.root.schema?de:void 0}},23432:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(1038),E={data:new p.Name("data"),valCxt:new p.Name("valCxt"),instancePath:new p.Name("instancePath"),parentData:new p.Name("parentData"),parentDataProperty:new p.Name("parentDataProperty"),rootData:new p.Name("rootData"),dynamicAnchors:new p.Name("dynamicAnchors"),vErrors:new p.Name("vErrors"),errors:new p.Name("errors"),this:new p.Name("this"),self:new p.Name("self"),scope:new p.Name("scope"),json:new p.Name("json"),jsonPos:new p.Name("jsonPos"),jsonLen:new p.Name("jsonLen"),jsonPart:new p.Name("jsonPart")};z.default=E},26288:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(77172);class E extends Error{constructor(H,x,R,A){super(A||`can't resolve reference ${R} from id ${x}`),this.missingRef=(0,p.resolveUrl)(H,x,R),this.missingSchema=(0,p.normalizeId)((0,p.getFullPath)(H,this.missingRef))}}z.default=E},77172:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.getSchemaRefs=z.resolveUrl=z.normalizeId=z._getFullPath=z.getFullPath=z.inlineRef=void 0;const p=_(27006),E=_(40362),k=_(44331),H=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);z.inlineRef=function x(te,J=!0){return"boolean"==typeof te||(!0===J?!A(te):!!J&&O(te)<=J)};const R=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function A(te){for(const J in te){if(R.has(J))return!0;const Y=te[J];if(Array.isArray(Y)&&Y.some(A)||"object"==typeof Y&&A(Y))return!0}return!1}function O(te){let J=0;for(const Y in te){if("$ref"===Y)return 1/0;if(J++,!H.has(Y)&&("object"==typeof te[Y]&&(0,p.eachItem)(te[Y],oe=>J+=O(oe)),J===1/0))return 1/0}return J}function F(te,J="",Y){!1!==Y&&(J=Z(J));const oe=te.parse(J);return L(te,oe)}function L(te,J){return te.serialize(J).split("#")[0]+"#"}z.getFullPath=F,z._getFullPath=L;const I=/#\/?$/;function Z(te){return te?te.replace(I,""):""}z.normalizeId=Z,z.resolveUrl=function j(te,J,Y){return Y=Z(Y),te.resolve(J,Y)};const G=/^[a-z_][-a-z0-9._]*$/i;z.getSchemaRefs=function re(te,J){if("boolean"==typeof te)return{};const{schemaId:Y,uriResolver:oe}=this.opts,ae=Z(te[Y]||J),se={"":ae},de=F(oe,ae,!1),le={},we=new Set;return k(te,{allKeys:!0},(C,a,u,y)=>{if(void 0===y)return;const g=de+a;let S=se[y];function T(M){if(M=Z(S?(0,this.opts.uriResolver.resolve)(S,M):M),we.has(M))throw Ce(M);we.add(M);let v=this.refs[M];return"string"==typeof v&&(v=this.refs[v]),"object"==typeof v?xe(C,v.schema,M):M!==Z(g)&&("#"===M[0]?(xe(C,le[M],M),le[M]=C):this.refs[M]=g),M}function N(M){if("string"==typeof M){if(!G.test(M))throw new Error(`invalid anchor "${M}"`);T.call(this,`#${M}`)}}"string"==typeof C[Y]&&(S=T.call(this,C[Y])),N.call(this,C.$anchor),N.call(this,C.$dynamicAnchor),se[a]=S}),le;function xe(C,a,u){if(void 0!==a&&!E(C,a))throw Ce(u)}function Ce(C){return new Error(`reference "${C}" resolves to more than one schema`)}}},32203:(Fe,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.getRules=z.isJSONType=void 0;const p=new Set(["string","number","integer","boolean","null","object","array"]);z.isJSONType=function E(H){return"string"==typeof H&&p.has(H)},z.getRules=function k(){const H={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...H,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},H.number,H.string,H.array,H.object],post:{rules:[]},all:{},keywords:{}}}},27006:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.checkStrictMode=z.getErrorPath=z.Type=z.useFunc=z.setEvaluated=z.evaluatedPropsToName=z.mergeEvaluated=z.eachItem=z.unescapeJsonPointer=z.escapeJsonPointer=z.escapeFragment=z.unescapeFragment=z.schemaRefOrVal=z.schemaHasRulesButRef=z.schemaHasRules=z.checkUnknownRules=z.alwaysValidSchema=z.toHash=void 0;const p=_(1038),E=_(33337);function x(de,le=de.schema){const{opts:we,self:xe}=de;if(!we.strictSchema||"boolean"==typeof le)return;const Ce=xe.RULES.keywords;for(const C in le)Ce[C]||se(de,`unknown keyword: "${C}"`)}function R(de,le){if("boolean"==typeof de)return!de;for(const we in de)if(le[we])return!0;return!1}function I(de){return"number"==typeof de?`${de}`:de.replace(/~/g,"~0").replace(/\//g,"~1")}function Z(de){return de.replace(/~1/g,"/").replace(/~0/g,"~")}function G({mergeNames:de,mergeToName:le,mergeValues:we,resultToName:xe}){return(Ce,C,a,u)=>{const y=void 0===a?C:a instanceof p.Name?(C instanceof p.Name?de(Ce,C,a):le(Ce,C,a),a):C instanceof p.Name?(le(Ce,a,C),C):we(C,a);return u!==p.Name||y instanceof p.Name?y:xe(Ce,y)}}function re(de,le){if(!0===le)return de.var("props",!0);const we=de.var("props",p._`{}`);return void 0!==le&&te(de,we,le),we}function te(de,le,we){Object.keys(we).forEach(xe=>de.assign(p._`${le}${(0,p.getProperty)(xe)}`,!0))}z.toHash=function k(de){const le={};for(const we of de)le[we]=!0;return le},z.alwaysValidSchema=function H(de,le){return"boolean"==typeof le?le:0===Object.keys(le).length||(x(de,le),!R(le,de.self.RULES.all))},z.checkUnknownRules=x,z.schemaHasRules=R,z.schemaHasRulesButRef=function A(de,le){if("boolean"==typeof de)return!de;for(const we in de)if("$ref"!==we&&le.all[we])return!0;return!1},z.schemaRefOrVal=function O({topSchemaRef:de,schemaPath:le},we,xe,Ce){if(!Ce){if("number"==typeof we||"boolean"==typeof we)return we;if("string"==typeof we)return p._`${we}`}return p._`${de}${le}${(0,p.getProperty)(xe)}`},z.unescapeFragment=function F(de){return Z(decodeURIComponent(de))},z.escapeFragment=function L(de){return encodeURIComponent(I(de))},z.escapeJsonPointer=I,z.unescapeJsonPointer=Z,z.eachItem=function j(de,le){if(Array.isArray(de))for(const we of de)le(we);else le(de)},z.mergeEvaluated={props:G({mergeNames:(de,le,we)=>de.if(p._`${we} !== true && ${le} !== undefined`,()=>{de.if(p._`${le} === true`,()=>de.assign(we,!0),()=>de.assign(we,p._`${we} || {}`).code(p._`Object.assign(${we}, ${le})`))}),mergeToName:(de,le,we)=>de.if(p._`${we} !== true`,()=>{!0===le?de.assign(we,!0):(de.assign(we,p._`${we} || {}`),te(de,we,le))}),mergeValues:(de,le)=>!0===de||{...de,...le},resultToName:re}),items:G({mergeNames:(de,le,we)=>de.if(p._`${we} !== true && ${le} !== undefined`,()=>de.assign(we,p._`${le} === true ? true : ${we} > ${le} ? ${we} : ${le}`)),mergeToName:(de,le,we)=>de.if(p._`${we} !== true`,()=>de.assign(we,!0===le||p._`${we} > ${le} ? ${we} : ${le}`)),mergeValues:(de,le)=>!0===de||Math.max(de,le),resultToName:(de,le)=>de.var("items",le)})},z.evaluatedPropsToName=re,z.setEvaluated=te;const J={};var oe,de;function se(de,le,we=de.opts.strictSchema){if(we){if(le=`strict mode: ${le}`,!0===we)throw new Error(le);de.self.logger.warn(le)}}z.useFunc=function Y(de,le){return de.scopeValue("func",{ref:le,code:J[le.code]||(J[le.code]=new E._Code(le.code))})},(de=oe=z.Type||(z.Type={}))[de.Num=0]="Num",de[de.Str=1]="Str",z.getErrorPath=function ae(de,le,we){if(de instanceof p.Name){const xe=le===oe.Num;return we?xe?p._`"[" + ${de} + "]"`:p._`"['" + ${de} + "']"`:xe?p._`"/" + ${de}`:p._`"/" + ${de}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return we?(0,p.getProperty)(de).toString():"/"+I(de)},z.checkStrictMode=se},22650:(Fe,z)=>{"use strict";function p(k,H){return H.rules.some(x=>E(k,x))}function E(k,H){var x;return void 0!==k[H.keyword]||(null===(x=H.definition.implements)||void 0===x?void 0:x.some(R=>void 0!==k[R]))}Object.defineProperty(z,"__esModule",{value:!0}),z.shouldUseRule=z.shouldUseGroup=z.schemaHasRulesForType=void 0,z.schemaHasRulesForType=function _({schema:k,self:H},x){const R=H.RULES.types[x];return R&&!0!==R&&p(k,R)},z.shouldUseGroup=p,z.shouldUseRule=E},37864:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.boolOrEmptySchema=z.topBoolOrEmptySchema=void 0;const p=_(53421),E=_(1038),k=_(23432),H={message:"boolean schema is false"};function A(O,F){const{gen:L,data:I}=O;(0,p.reportError)({gen:L,keyword:"false schema",data:I,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:O},H,void 0,F)}z.topBoolOrEmptySchema=function x(O){const{gen:F,schema:L,validateName:I}=O;!1===L?A(O,!1):"object"==typeof L&&!0===L.$async?F.return(k.default.data):(F.assign(E._`${I}.errors`,null),F.return(!0))},z.boolOrEmptySchema=function R(O,F){const{gen:L,schema:I}=O;!1===I?(L.var(F,!1),A(O)):L.var(F,!0)}},55999:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.reportTypeError=z.checkDataTypes=z.checkDataType=z.coerceAndCheckDataType=z.getJSONTypes=z.getSchemaTypes=z.DataType=void 0;const p=_(32203),E=_(22650),k=_(53421),H=_(1038),x=_(27006);var R,oe;function O(oe){const ae=Array.isArray(oe)?oe:oe?[oe]:[];if(ae.every(p.isJSONType))return ae;throw new Error("type must be JSONType or JSONType[]: "+ae.join(","))}(oe=R=z.DataType||(z.DataType={}))[oe.Correct=0]="Correct",oe[oe.Wrong=1]="Wrong",z.getSchemaTypes=function A(oe){const ae=O(oe.type);if(ae.includes("null")){if(!1===oe.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!ae.length&&void 0!==oe.nullable)throw new Error('"nullable" cannot be used without "type"');!0===oe.nullable&&ae.push("null")}return ae},z.getJSONTypes=O,z.coerceAndCheckDataType=function F(oe,ae){const{gen:se,data:de,opts:le}=oe,we=function I(oe,ae){return ae?oe.filter(se=>L.has(se)||"array"===ae&&"array"===se):[]}(ae,le.coerceTypes),xe=ae.length>0&&!(0===we.length&&1===ae.length&&(0,E.schemaHasRulesForType)(oe,ae[0]));if(xe){const Ce=re(ae,de,le.strictNumbers,R.Wrong);se.if(Ce,()=>{we.length?function Z(oe,ae,se){const{gen:de,data:le,opts:we}=oe,xe=de.let("dataType",H._`typeof ${le}`),Ce=de.let("coerced",H._`undefined`);"array"===we.coerceTypes&&de.if(H._`${xe} == 'object' && Array.isArray(${le}) && ${le}.length == 1`,()=>de.assign(le,H._`${le}[0]`).assign(xe,H._`typeof ${le}`).if(re(ae,le,we.strictNumbers),()=>de.assign(Ce,le))),de.if(H._`${Ce} !== undefined`);for(const a of se)(L.has(a)||"array"===a&&"array"===we.coerceTypes)&&C(a);function C(a){switch(a){case"string":return void de.elseIf(H._`${xe} == "number" || ${xe} == "boolean"`).assign(Ce,H._`"" + ${le}`).elseIf(H._`${le} === null`).assign(Ce,H._`""`);case"number":return void de.elseIf(H._`${xe} == "boolean" || ${le} === null
              || (${xe} == "string" && ${le} && ${le} == +${le})`).assign(Ce,H._`+${le}`);case"integer":return void de.elseIf(H._`${xe} === "boolean" || ${le} === null
              || (${xe} === "string" && ${le} && ${le} == +${le} && !(${le} % 1))`).assign(Ce,H._`+${le}`);case"boolean":return void de.elseIf(H._`${le} === "false" || ${le} === 0 || ${le} === null`).assign(Ce,!1).elseIf(H._`${le} === "true" || ${le} === 1`).assign(Ce,!0);case"null":return de.elseIf(H._`${le} === "" || ${le} === 0 || ${le} === false`),void de.assign(Ce,null);case"array":de.elseIf(H._`${xe} === "string" || ${xe} === "number"
              || ${xe} === "boolean" || ${le} === null`).assign(Ce,H._`[${le}]`)}}de.else(),J(oe),de.endIf(),de.if(H._`${Ce} !== undefined`,()=>{de.assign(le,Ce),function j({gen:oe,parentData:ae,parentDataProperty:se},de){oe.if(H._`${ae} !== undefined`,()=>oe.assign(H._`${ae}[${se}]`,de))}(oe,Ce)})}(oe,ae,we):J(oe)})}return xe};const L=new Set(["string","number","integer","boolean","null"]);function G(oe,ae,se,de=R.Correct){const le=de===R.Correct?H.operators.EQ:H.operators.NEQ;let we;switch(oe){case"null":return H._`${ae} ${le} null`;case"array":we=H._`Array.isArray(${ae})`;break;case"object":we=H._`${ae} && typeof ${ae} == "object" && !Array.isArray(${ae})`;break;case"integer":we=xe(H._`!(${ae} % 1) && !isNaN(${ae})`);break;case"number":we=xe();break;default:return H._`typeof ${ae} ${le} ${oe}`}return de===R.Correct?we:(0,H.not)(we);function xe(Ce=H.nil){return(0,H.and)(H._`typeof ${ae} == "number"`,Ce,se?H._`isFinite(${ae})`:H.nil)}}function re(oe,ae,se,de){if(1===oe.length)return G(oe[0],ae,se,de);let le;const we=(0,x.toHash)(oe);if(we.array&&we.object){const xe=H._`typeof ${ae} != "object"`;le=we.null?xe:H._`!${ae} || ${xe}`,delete we.null,delete we.array,delete we.object}else le=H.nil;we.number&&delete we.integer;for(const xe in we)le=(0,H.and)(le,G(xe,ae,se,de));return le}z.checkDataType=G,z.checkDataTypes=re;const te={message:({schema:oe})=>`must be ${oe}`,params:({schema:oe,schemaValue:ae})=>"string"==typeof oe?H._`{type: ${oe}}`:H._`{type: ${ae}}`};function J(oe){const ae=function Y(oe){const{gen:ae,data:se,schema:de}=oe,le=(0,x.schemaRefOrVal)(oe,de,"type");return{gen:ae,keyword:"type",data:se,schema:de.type,schemaCode:le,schemaValue:le,parentSchema:de,params:{},it:oe}}(oe);(0,k.reportError)(ae,te)}z.reportTypeError=J},48733:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.assignDefaults=void 0;const p=_(1038),E=_(27006);function H(x,R,A){const{gen:O,compositeRule:F,data:L,opts:I}=x;if(void 0===A)return;const Z=p._`${L}${(0,p.getProperty)(R)}`;if(F)return void(0,E.checkStrictMode)(x,`default is ignored for: ${Z}`);let j=p._`${Z} === undefined`;"empty"===I.useDefaults&&(j=p._`${j} || ${Z} === null || ${Z} === ""`),O.if(j,p._`${Z} = ${(0,p.stringify)(A)}`)}z.assignDefaults=function k(x,R){const{properties:A,items:O}=x.schema;if("object"===R&&A)for(const F in A)H(x,F,A[F].default);else"array"===R&&Array.isArray(O)&&O.forEach((F,L)=>H(x,L,F.default))}},40339:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.getData=z.KeywordCxt=z.validateFunctionCode=void 0;const p=_(37864),E=_(55999),k=_(22650),H=_(55999),x=_(48733),R=_(76800),A=_(16334),O=_(1038),F=_(23432),L=_(77172),I=_(27006),Z=_(53421);function G({gen:ye,validateName:Te,schema:pe,schemaEnv:fe,opts:Q},ie){Q.code.es5?ye.func(Te,O._`${F.default.data}, ${F.default.valCxt}`,fe.$async,()=>{ye.code(O._`"use strict"; ${oe(pe,Q)}`),function te(ye,Te){ye.if(F.default.valCxt,()=>{ye.var(F.default.instancePath,O._`${F.default.valCxt}.${F.default.instancePath}`),ye.var(F.default.parentData,O._`${F.default.valCxt}.${F.default.parentData}`),ye.var(F.default.parentDataProperty,O._`${F.default.valCxt}.${F.default.parentDataProperty}`),ye.var(F.default.rootData,O._`${F.default.valCxt}.${F.default.rootData}`),Te.dynamicRef&&ye.var(F.default.dynamicAnchors,O._`${F.default.valCxt}.${F.default.dynamicAnchors}`)},()=>{ye.var(F.default.instancePath,O._`""`),ye.var(F.default.parentData,O._`undefined`),ye.var(F.default.parentDataProperty,O._`undefined`),ye.var(F.default.rootData,F.default.data),Te.dynamicRef&&ye.var(F.default.dynamicAnchors,O._`{}`)})}(ye,Q),ye.code(ie)}):ye.func(Te,O._`${F.default.data}, ${function re(ye){return O._`{${F.default.instancePath}="", ${F.default.parentData}, ${F.default.parentDataProperty}, ${F.default.rootData}=${F.default.data}${ye.dynamicRef?O._`, ${F.default.dynamicAnchors}={}`:O.nil}}={}`}(Q)}`,fe.$async,()=>ye.code(oe(pe,Q)).code(ie))}function oe(ye,Te){const pe="object"==typeof ye&&ye[Te.schemaId];return pe&&(Te.code.source||Te.code.process)?O._`/*# sourceURL=${pe} */`:O.nil}function se({schema:ye,self:Te}){if("boolean"==typeof ye)return!ye;for(const pe in ye)if(Te.RULES.all[pe])return!0;return!1}function de(ye){return"boolean"!=typeof ye.schema}function we(ye){(0,I.checkUnknownRules)(ye),function Ce(ye){const{schema:Te,errSchemaPath:pe,opts:fe,self:Q}=ye;Te.$ref&&fe.ignoreKeywordsWithRef&&(0,I.schemaHasRulesButRef)(Te,Q.RULES)&&Q.logger.warn(`$ref: keywords ignored in schema at path "${pe}"`)}(ye)}function xe(ye,Te){if(ye.opts.jtd)return T(ye,[],!1,Te);const pe=(0,E.getSchemaTypes)(ye.schema);T(ye,pe,!(0,E.coerceAndCheckDataType)(ye,pe),Te)}function y({gen:ye,schemaEnv:Te,schema:pe,errSchemaPath:fe,opts:Q}){const ie=pe.$comment;if(!0===Q.$comment)ye.code(O._`${F.default.self}.logger.log(${ie})`);else if("function"==typeof Q.$comment){const ue=O.str`${fe}/$comment`,Ee=ye.scopeValue("root",{ref:Te.root});ye.code(O._`${F.default.self}.opts.$comment(${ie}, ${ue}, ${Ee}.schema)`)}}function T(ye,Te,pe,fe){const{gen:Q,schema:ie,data:ue,allErrors:Ee,opts:ke,self:Ue}=ye,{RULES:Le}=Ue;function _t(Ve){(0,k.shouldUseGroup)(ie,Ve)&&(Ve.type?(Q.if((0,H.checkDataType)(Ve.type,ue,ke.strictNumbers)),N(ye,Ve),1===Te.length&&Te[0]===Ve.type&&pe&&(Q.else(),(0,H.reportTypeError)(ye)),Q.endIf()):N(ye,Ve),Ee||Q.if(O._`${F.default.errors} === ${fe||0}`))}!ie.$ref||!ke.ignoreKeywordsWithRef&&(0,I.schemaHasRulesButRef)(ie,Le)?(ke.jtd||function M(ye,Te){ye.schemaEnv.meta||!ye.opts.strictTypes||(function s(ye,Te){if(Te.length){if(!ye.dataTypes.length)return void(ye.dataTypes=Te);Te.forEach(pe=>{ee(ye.dataTypes,pe)||_e(ye,`type "${pe}" not allowed by context "${ye.dataTypes.join(",")}"`)}),function ce(ye,Te){const pe=[];for(const fe of ye.dataTypes)ee(Te,fe)?pe.push(fe):Te.includes("integer")&&"number"===fe&&pe.push("integer");ye.dataTypes=pe}(ye,Te)}}(ye,Te),ye.opts.allowUnionTypes||function v(ye,Te){Te.length>1&&(2!==Te.length||!Te.includes("null"))&&_e(ye,"use allowUnionTypes to allow union type keyword")}(ye,Te),function W(ye,Te){const pe=ye.self.RULES.all;for(const fe in pe){const Q=pe[fe];if("object"==typeof Q&&(0,k.shouldUseRule)(ye.schema,Q)){const{type:ie}=Q.definition;ie.length&&!ie.some(ue=>K(Te,ue))&&_e(ye,`missing type "${ie.join(",")}" for keyword "${fe}"`)}}}(ye,ye.dataTypes))}(ye,Te),Q.block(()=>{for(const Ve of Le.rules)_t(Ve);_t(Le.post)})):Q.block(()=>$e(ye,"$ref",Le.all.$ref.definition))}function N(ye,Te){const{gen:pe,schema:fe,opts:{useDefaults:Q}}=ye;Q&&(0,x.assignDefaults)(ye,Te.type),pe.block(()=>{for(const ie of Te.rules)(0,k.shouldUseRule)(fe,ie)&&$e(ye,ie.keyword,ie.definition,Te.type)})}function K(ye,Te){return ye.includes(Te)||"number"===Te&&ye.includes("integer")}function ee(ye,Te){return ye.includes(Te)||"integer"===Te&&ye.includes("number")}function _e(ye,Te){(0,I.checkStrictMode)(ye,Te+=` at "${ye.schemaEnv.baseId+ye.errSchemaPath}" (strictTypes)`,ye.opts.strictTypes)}z.validateFunctionCode=function j(ye){de(ye)&&(we(ye),se(ye))?function J(ye){const{schema:Te,opts:pe,gen:fe}=ye;G(ye,()=>{pe.$comment&&Te.$comment&&y(ye),function C(ye){const{schema:Te,opts:pe}=ye;void 0!==Te.default&&pe.useDefaults&&pe.strictSchema&&(0,I.checkStrictMode)(ye,"default is ignored in the schema root")}(ye),fe.let(F.default.vErrors,null),fe.let(F.default.errors,0),pe.unevaluated&&function Y(ye){const{gen:Te,validateName:pe}=ye;ye.evaluated=Te.const("evaluated",O._`${pe}.evaluated`),Te.if(O._`${ye.evaluated}.dynamicProps`,()=>Te.assign(O._`${ye.evaluated}.props`,O._`undefined`)),Te.if(O._`${ye.evaluated}.dynamicItems`,()=>Te.assign(O._`${ye.evaluated}.items`,O._`undefined`))}(ye),xe(ye),function g(ye){const{gen:Te,schemaEnv:pe,validateName:fe,ValidationError:Q,opts:ie}=ye;pe.$async?Te.if(O._`${F.default.errors} === 0`,()=>Te.return(F.default.data),()=>Te.throw(O._`new ${Q}(${F.default.vErrors})`)):(Te.assign(O._`${fe}.errors`,F.default.vErrors),ie.unevaluated&&function S({gen:ye,evaluated:Te,props:pe,items:fe}){pe instanceof O.Name&&ye.assign(O._`${Te}.props`,pe),fe instanceof O.Name&&ye.assign(O._`${Te}.items`,fe)}(ye),Te.return(O._`${F.default.errors} === 0`))}(ye)})}(ye):G(ye,()=>(0,p.topBoolOrEmptySchema)(ye))};class Pe{constructor(Te,pe,fe){if((0,R.validateKeywordUsage)(Te,pe,fe),this.gen=Te.gen,this.allErrors=Te.allErrors,this.keyword=fe,this.data=Te.data,this.schema=Te.schema[fe],this.$data=pe.$data&&Te.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,I.schemaRefOrVal)(Te,this.schema,fe,this.$data),this.schemaType=pe.schemaType,this.parentSchema=Te.schema,this.params={},this.it=Te,this.def=pe,this.$data)this.schemaCode=Te.gen.const("vSchema",Ne(this.$data,Te));else if(this.schemaCode=this.schemaValue,!(0,R.validSchemaType)(this.schema,pe.schemaType,pe.allowUndefined))throw new Error(`${fe} value must be ${JSON.stringify(pe.schemaType)}`);("code"in pe?pe.trackErrors:!1!==pe.errors)&&(this.errsCount=Te.gen.const("_errs",F.default.errors))}result(Te,pe,fe){this.failResult((0,O.not)(Te),pe,fe)}failResult(Te,pe,fe){this.gen.if(Te),fe?fe():this.error(),pe?(this.gen.else(),pe(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(Te,pe){this.failResult((0,O.not)(Te),void 0,pe)}fail(Te){if(void 0===Te)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(Te),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(Te){if(!this.$data)return this.fail(Te);const{schemaCode:pe}=this;this.fail(O._`${pe} !== undefined && (${(0,O.or)(this.invalid$data(),Te)})`)}error(Te,pe,fe){if(pe)return this.setParams(pe),this._error(Te,fe),void this.setParams({});this._error(Te,fe)}_error(Te,pe){(Te?Z.reportExtraError:Z.reportError)(this,this.def.error,pe)}$dataError(){(0,Z.reportError)(this,this.def.$dataError||Z.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,Z.resetErrorsCount)(this.gen,this.errsCount)}ok(Te){this.allErrors||this.gen.if(Te)}setParams(Te,pe){pe?Object.assign(this.params,Te):this.params=Te}block$data(Te,pe,fe=O.nil){this.gen.block(()=>{this.check$data(Te,fe),pe()})}check$data(Te=O.nil,pe=O.nil){if(!this.$data)return;const{gen:fe,schemaCode:Q,schemaType:ie,def:ue}=this;fe.if((0,O.or)(O._`${Q} === undefined`,pe)),Te!==O.nil&&fe.assign(Te,!0),(ie.length||ue.validateSchema)&&(fe.elseIf(this.invalid$data()),this.$dataError(),Te!==O.nil&&fe.assign(Te,!1)),fe.else()}invalid$data(){const{gen:Te,schemaCode:pe,schemaType:fe,def:Q,it:ie}=this;return(0,O.or)(function ue(){if(fe.length){if(!(pe instanceof O.Name))throw new Error("ajv implementation error");const ke=Array.isArray(fe)?fe:[fe];return O._`${(0,H.checkDataTypes)(ke,pe,ie.opts.strictNumbers,H.DataType.Wrong)}`}return O.nil}(),function Ee(){if(Q.validateSchema){const ke=Te.scopeValue("validate$data",{ref:Q.validateSchema});return O._`!${ke}(${pe})`}return O.nil}())}subschema(Te,pe){const fe=(0,A.getSubschema)(this.it,Te);(0,A.extendSubschemaData)(fe,this.it,Te),(0,A.extendSubschemaMode)(fe,Te);const Q={...this.it,...fe,items:void 0,props:void 0};return function ae(ye,Te){de(ye)&&(we(ye),se(ye))?function le(ye,Te){const{schema:pe,gen:fe,opts:Q}=ye;Q.$comment&&pe.$comment&&y(ye),function a(ye){const Te=ye.schema[ye.opts.schemaId];Te&&(ye.baseId=(0,L.resolveUrl)(ye.opts.uriResolver,ye.baseId,Te))}(ye),function u(ye){if(ye.schema.$async&&!ye.schemaEnv.$async)throw new Error("async schema in sync schema")}(ye);const ie=fe.const("_errs",F.default.errors);xe(ye,ie),fe.var(Te,O._`${ie} === ${F.default.errors}`)}(ye,Te):(0,p.boolOrEmptySchema)(ye,Te)}(Q,pe),Q}mergeEvaluated(Te,pe){const{it:fe,gen:Q}=this;fe.opts.unevaluated&&(!0!==fe.props&&void 0!==Te.props&&(fe.props=I.mergeEvaluated.props(Q,Te.props,fe.props,pe)),!0!==fe.items&&void 0!==Te.items&&(fe.items=I.mergeEvaluated.items(Q,Te.items,fe.items,pe)))}mergeValidEvaluated(Te,pe){const{it:fe,gen:Q}=this;if(fe.opts.unevaluated&&(!0!==fe.props||!0!==fe.items))return Q.if(pe,()=>this.mergeEvaluated(Te,O.Name)),!0}}function $e(ye,Te,pe,fe){const Q=new Pe(ye,pe,Te);"code"in pe?pe.code(Q,fe):Q.$data&&pe.validate?(0,R.funcKeywordCode)(Q,pe):"macro"in pe?(0,R.macroKeywordCode)(Q,pe):(pe.compile||pe.validate)&&(0,R.funcKeywordCode)(Q,pe)}z.KeywordCxt=Pe;const Se=/^\/(?:[^~]|~0|~1)*$/,be=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ne(ye,{dataLevel:Te,dataNames:pe,dataPathArr:fe}){let Q,ie;if(""===ye)return F.default.rootData;if("/"===ye[0]){if(!Se.test(ye))throw new Error(`Invalid JSON-pointer: ${ye}`);Q=ye,ie=F.default.rootData}else{const Ue=be.exec(ye);if(!Ue)throw new Error(`Invalid JSON-pointer: ${ye}`);const Le=+Ue[1];if(Q=Ue[2],"#"===Q){if(Le>=Te)throw new Error(ke("property/index",Le));return fe[Te-Le]}if(Le>Te)throw new Error(ke("data",Le));if(ie=pe[Te-Le],!Q)return ie}let ue=ie;const Ee=Q.split("/");for(const Ue of Ee)Ue&&(ie=O._`${ie}${(0,O.getProperty)((0,I.unescapeJsonPointer)(Ue))}`,ue=O._`${ue} && ${ie}`);return ue;function ke(Ue,Le){return`Cannot access ${Ue} ${Le} levels up, current level is ${Te}`}}z.getData=Ne},76800:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateKeywordUsage=z.validSchemaType=z.funcKeywordCode=z.macroKeywordCode=void 0;const p=_(1038),E=_(23432),k=_(42406),H=_(53421);function A(j){const{gen:G,data:re,it:te}=j;G.if(te.parentData,()=>G.assign(re,p._`${te.parentData}[${te.parentDataProperty}]`))}function L(j,G,re){if(void 0===re)throw new Error(`keyword "${G}" failed to compile`);return j.scopeValue("keyword","function"==typeof re?{ref:re}:{ref:re,code:(0,p.stringify)(re)})}z.macroKeywordCode=function x(j,G){const{gen:re,keyword:te,schema:J,parentSchema:Y,it:oe}=j,ae=G.macro.call(oe.self,J,Y,oe),se=L(re,te,ae);!1!==oe.opts.validateSchema&&oe.self.validateSchema(ae,!0);const de=re.name("valid");j.subschema({schema:ae,schemaPath:p.nil,errSchemaPath:`${oe.errSchemaPath}/${te}`,topSchemaRef:se,compositeRule:!0},de),j.pass(de,()=>j.error(!0))},z.funcKeywordCode=function R(j,G){var re;const{gen:te,keyword:J,schema:Y,parentSchema:oe,$data:ae,it:se}=j;!function F({schemaEnv:j},G){if(G.async&&!j.$async)throw new Error("async keyword in sync schema")}(se,G);const de=!ae&&G.compile?G.compile.call(se.self,Y,oe,se):G.validate,le=L(te,J,de),we=te.let("valid");function a(y=(G.async?p._`await `:p.nil)){te.assign(we,p._`${y}${(0,k.callValidateCode)(j,le,se.opts.passContext?E.default.this:E.default.self,!("compile"in G&&!ae||!1===G.schema))}`,G.modifying)}function u(y){var g;te.if((0,p.not)(null!==(g=G.valid)&&void 0!==g?g:we),y)}j.block$data(we,function xe(){if(!1===G.errors)a(),G.modifying&&A(j),u(()=>j.error());else{const y=G.async?function Ce(){const y=te.let("ruleErrs",null);return te.try(()=>a(p._`await `),g=>te.assign(we,!1).if(p._`${g} instanceof ${se.ValidationError}`,()=>te.assign(y,p._`${g}.errors`),()=>te.throw(g))),y}():function C(){const y=p._`${le}.errors`;return te.assign(y,null),a(p.nil),y}();G.modifying&&A(j),u(()=>function O(j,G){const{gen:re}=j;re.if(p._`Array.isArray(${G})`,()=>{re.assign(E.default.vErrors,p._`${E.default.vErrors} === null ? ${G} : ${E.default.vErrors}.concat(${G})`).assign(E.default.errors,p._`${E.default.vErrors}.length`),(0,H.extendErrors)(j)},()=>j.error())}(j,y))}}),j.ok(null!==(re=G.valid)&&void 0!==re?re:we)},z.validSchemaType=function I(j,G,re=!1){return!G.length||G.some(te=>"array"===te?Array.isArray(j):"object"===te?j&&"object"==typeof j&&!Array.isArray(j):typeof j==te||re&&typeof j>"u")},z.validateKeywordUsage=function Z({schema:j,opts:G,self:re,errSchemaPath:te},J,Y){if(Array.isArray(J.keyword)?!J.keyword.includes(Y):J.keyword!==Y)throw new Error("ajv implementation error");const oe=J.dependencies;if(oe?.some(ae=>!Object.prototype.hasOwnProperty.call(j,ae)))throw new Error(`parent schema must have dependencies of ${Y}: ${oe.join(",")}`);if(J.validateSchema&&!J.validateSchema(j[Y])){const se=`keyword "${Y}" value is invalid at path "${te}": `+re.errorsText(J.validateSchema.errors);if("log"!==G.validateSchema)throw new Error(se);re.logger.error(se)}}},16334:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.extendSubschemaMode=z.extendSubschemaData=z.getSubschema=void 0;const p=_(1038),E=_(27006);z.getSubschema=function k(R,{keyword:A,schemaProp:O,schema:F,schemaPath:L,errSchemaPath:I,topSchemaRef:Z}){if(void 0!==A&&void 0!==F)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==A){const j=R.schema[A];return void 0===O?{schema:j,schemaPath:p._`${R.schemaPath}${(0,p.getProperty)(A)}`,errSchemaPath:`${R.errSchemaPath}/${A}`}:{schema:j[O],schemaPath:p._`${R.schemaPath}${(0,p.getProperty)(A)}${(0,p.getProperty)(O)}`,errSchemaPath:`${R.errSchemaPath}/${A}/${(0,E.escapeFragment)(O)}`}}if(void 0!==F){if(void 0===L||void 0===I||void 0===Z)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:F,schemaPath:L,topSchemaRef:Z,errSchemaPath:I}}throw new Error('either "keyword" or "schema" must be passed')},z.extendSubschemaData=function H(R,A,{dataProp:O,dataPropType:F,data:L,dataTypes:I,propertyName:Z}){if(void 0!==L&&void 0!==O)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:j}=A;if(void 0!==O){const{errorPath:re,dataPathArr:te,opts:J}=A;G(j.let("data",p._`${A.data}${(0,p.getProperty)(O)}`,!0)),R.errorPath=p.str`${re}${(0,E.getErrorPath)(O,F,J.jsPropertySyntax)}`,R.parentDataProperty=p._`${O}`,R.dataPathArr=[...te,R.parentDataProperty]}function G(re){R.data=re,R.dataLevel=A.dataLevel+1,R.dataTypes=[],A.definedProperties=new Set,R.parentData=A.data,R.dataNames=[...A.dataNames,re]}void 0!==L&&(G(L instanceof p.Name?L:j.let("data",L,!0)),void 0!==Z&&(R.propertyName=Z)),I&&(R.dataTypes=I)},z.extendSubschemaMode=function x(R,{jtdDiscriminator:A,jtdMetadata:O,compositeRule:F,createErrors:L,allErrors:I}){void 0!==F&&(R.compositeRule=F),void 0!==L&&(R.createErrors=L),void 0!==I&&(R.allErrors=I),R.jtdDiscriminator=A,R.jtdMetadata=O}},35419:(Fe,z,_)=>{"use strict";var p=_(29293).default;Object.defineProperty(z,"__esModule",{value:!0}),z.CodeGen=z.Name=z.nil=z.stringify=z.str=z._=z.KeywordCxt=void 0;var E=_(40339);Object.defineProperty(z,"KeywordCxt",{enumerable:!0,get:function(){return E.KeywordCxt}});var k=_(1038);Object.defineProperty(z,"_",{enumerable:!0,get:function(){return k._}}),Object.defineProperty(z,"str",{enumerable:!0,get:function(){return k.str}}),Object.defineProperty(z,"stringify",{enumerable:!0,get:function(){return k.stringify}}),Object.defineProperty(z,"nil",{enumerable:!0,get:function(){return k.nil}}),Object.defineProperty(z,"Name",{enumerable:!0,get:function(){return k.Name}}),Object.defineProperty(z,"CodeGen",{enumerable:!0,get:function(){return k.CodeGen}});const H=_(42467),x=_(26288),R=_(32203),A=_(97692),O=_(1038),F=_(77172),L=_(55999),I=_(27006),Z=_(83813),j=_(13203),G=(v,W)=>new RegExp(v,W);G.code="new RegExp";const re=["removeAdditional","useDefaults","coerceTypes"],te=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),J={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function ae(v){var W,K,ee,ce,_e,Pe,$e,Se,be,Ne,ye,Te,pe,fe,Q,ie,ue,Ee,ke,Ue,Le,_t,Ve,Be,lt;const B=v.strict,w=null===(W=v.code)||void 0===W?void 0:W.optimize,m=!0===w||void 0===w?1:w||0,U=null!==(ee=null===(K=v.code)||void 0===K?void 0:K.regExp)&&void 0!==ee?ee:G,ne=null!==(ce=v.uriResolver)&&void 0!==ce?ce:j.default;return{strictSchema:null===(Pe=null!==(_e=v.strictSchema)&&void 0!==_e?_e:B)||void 0===Pe||Pe,strictNumbers:null===(Se=null!==($e=v.strictNumbers)&&void 0!==$e?$e:B)||void 0===Se||Se,strictTypes:null!==(Ne=null!==(be=v.strictTypes)&&void 0!==be?be:B)&&void 0!==Ne?Ne:"log",strictTuples:null!==(Te=null!==(ye=v.strictTuples)&&void 0!==ye?ye:B)&&void 0!==Te?Te:"log",strictRequired:null!==(fe=null!==(pe=v.strictRequired)&&void 0!==pe?pe:B)&&void 0!==fe&&fe,code:v.code?{...v.code,optimize:m,regExp:U}:{optimize:m,regExp:U},loopRequired:null!==(Q=v.loopRequired)&&void 0!==Q?Q:200,loopEnum:null!==(ie=v.loopEnum)&&void 0!==ie?ie:200,meta:null===(ue=v.meta)||void 0===ue||ue,messages:null===(Ee=v.messages)||void 0===Ee||Ee,inlineRefs:null===(ke=v.inlineRefs)||void 0===ke||ke,schemaId:null!==(Ue=v.schemaId)&&void 0!==Ue?Ue:"$id",addUsedSchema:null===(Le=v.addUsedSchema)||void 0===Le||Le,validateSchema:null===(_t=v.validateSchema)||void 0===_t||_t,validateFormats:null===(Ve=v.validateFormats)||void 0===Ve||Ve,unicodeRegExp:null===(Be=v.unicodeRegExp)||void 0===Be||Be,int32range:null===(lt=v.int32range)||void 0===lt||lt,uriResolver:ne}}class se{constructor(W={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,W=this.opts={...W,...ae(W)};const{es5:K,lines:ee}=this.opts.code;this.scope=new O.ValueScope({scope:{},prefixes:te,es5:K,lines:ee}),this.logger=function u(v){if(!1===v)return a;if(void 0===v)return console;if(v.log&&v.warn&&v.error)return v;throw new Error("logger must implement log, warn and error methods")}(W.logger);const ce=W.validateFormats;W.validateFormats=!1,this.RULES=(0,R.getRules)(),de.call(this,J,W,"NOT SUPPORTED"),de.call(this,Y,W,"DEPRECATED","warn"),this._metaOpts=C.call(this),W.formats&&xe.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),W.keywords&&Ce.call(this,W.keywords),"object"==typeof W.meta&&this.addMetaSchema(W.meta),we.call(this),W.validateFormats=ce}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:W,meta:K,schemaId:ee}=this.opts;let ce=Z;"id"===ee&&(ce={...Z},ce.id=ce.$id,delete ce.$id),K&&W&&this.addMetaSchema(ce,ce[ee],!1)}defaultMeta(){const{meta:W,schemaId:K}=this.opts;return this.opts.defaultMeta="object"==typeof W?W[K]||W:void 0}validate(W,K){let ee;if("string"==typeof W){if(ee=this.getSchema(W),!ee)throw new Error(`no schema with key or ref "${W}"`)}else ee=this.compile(W);const ce=ee(K);return"$async"in ee||(this.errors=ee.errors),ce}compile(W,K){const ee=this._addSchema(W,K);return ee.validate||this._compileSchemaEnv(ee)}compileAsync(W,K){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:ee}=this.opts;return ce.call(this,W,K);function ce(Q,ie){return _e.apply(this,arguments)}function _e(){return(_e=p(function*(Q,ie){yield Pe.call(this,Q.$schema);const ue=this._addSchema(Q,ie);return ue.validate||Se.call(this,ue)})).apply(this,arguments)}function Pe(Q){return $e.apply(this,arguments)}function $e(){return($e=p(function*(Q){Q&&!this.getSchema(Q)&&(yield ce.call(this,{$ref:Q},!0))})).apply(this,arguments)}function Se(Q){return be.apply(this,arguments)}function be(){return(be=p(function*(Q){try{return this._compileSchemaEnv(Q)}catch(ie){if(!(ie instanceof x.default))throw ie;return Ne.call(this,ie),yield ye.call(this,ie.missingSchema),Se.call(this,Q)}})).apply(this,arguments)}function Ne({missingSchema:Q,missingRef:ie}){if(this.refs[Q])throw new Error(`AnySchema ${Q} is loaded but ${ie} cannot be resolved`)}function ye(Q){return Te.apply(this,arguments)}function Te(){return(Te=p(function*(Q){const ie=yield pe.call(this,Q);this.refs[Q]||(yield Pe.call(this,ie.$schema)),this.refs[Q]||this.addSchema(ie,Q,K)})).apply(this,arguments)}function pe(Q){return fe.apply(this,arguments)}function fe(){return(fe=p(function*(Q){const ie=this._loading[Q];if(ie)return ie;try{return yield this._loading[Q]=ee(Q)}finally{delete this._loading[Q]}})).apply(this,arguments)}}addSchema(W,K,ee,ce=this.opts.validateSchema){if(Array.isArray(W)){for(const Pe of W)this.addSchema(Pe,void 0,ee,ce);return this}let _e;if("object"==typeof W){const{schemaId:Pe}=this.opts;if(_e=W[Pe],void 0!==_e&&"string"!=typeof _e)throw new Error(`schema ${Pe} must be string`)}return K=(0,F.normalizeId)(K||_e),this._checkUnique(K),this.schemas[K]=this._addSchema(W,ee,K,ce,!0),this}addMetaSchema(W,K,ee=this.opts.validateSchema){return this.addSchema(W,K,!0,ee),this}validateSchema(W,K){if("boolean"==typeof W)return!0;let ee;if(ee=W.$schema,void 0!==ee&&"string"!=typeof ee)throw new Error("$schema must be a string");if(ee=ee||this.opts.defaultMeta||this.defaultMeta(),!ee)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const ce=this.validate(ee,W);if(!ce&&K){const _e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(_e);this.logger.error(_e)}return ce}getSchema(W){let K;for(;"string"==typeof(K=le.call(this,W));)W=K;if(void 0===K){const{schemaId:ee}=this.opts,ce=new A.SchemaEnv({schema:{},schemaId:ee});if(K=A.resolveSchema.call(this,ce,W),!K)return;this.refs[W]=K}return K.validate||this._compileSchemaEnv(K)}removeSchema(W){if(W instanceof RegExp)return this._removeAllSchemas(this.schemas,W),this._removeAllSchemas(this.refs,W),this;switch(typeof W){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const K=le.call(this,W);return"object"==typeof K&&this._cache.delete(K.schema),delete this.schemas[W],delete this.refs[W],this}case"object":{this._cache.delete(W);let ee=W[this.opts.schemaId];return ee&&(ee=(0,F.normalizeId)(ee),delete this.schemas[ee],delete this.refs[ee]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(W){for(const K of W)this.addKeyword(K);return this}addKeyword(W,K){let ee;if("string"==typeof W)ee=W,"object"==typeof K&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),K.keyword=ee);else{if("object"!=typeof W||void 0!==K)throw new Error("invalid addKeywords parameters");if(ee=(K=W).keyword,Array.isArray(ee)&&!ee.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(g.call(this,ee,K),!K)return(0,I.eachItem)(ee,_e=>S.call(this,_e)),this;N.call(this,K);const ce={...K,type:(0,L.getJSONTypes)(K.type),schemaType:(0,L.getJSONTypes)(K.schemaType)};return(0,I.eachItem)(ee,0===ce.type.length?_e=>S.call(this,_e,ce):_e=>ce.type.forEach(Pe=>S.call(this,_e,ce,Pe))),this}getKeyword(W){const K=this.RULES.all[W];return"object"==typeof K?K.definition:!!K}removeKeyword(W){const{RULES:K}=this;delete K.keywords[W],delete K.all[W];for(const ee of K.rules){const ce=ee.rules.findIndex(_e=>_e.keyword===W);ce>=0&&ee.rules.splice(ce,1)}return this}addFormat(W,K){return"string"==typeof K&&(K=new RegExp(K)),this.formats[W]=K,this}errorsText(W=this.errors,{separator:K=", ",dataVar:ee="data"}={}){return W&&0!==W.length?W.map(ce=>`${ee}${ce.instancePath} ${ce.message}`).reduce((ce,_e)=>ce+K+_e):"No errors"}$dataMetaSchema(W,K){const ee=this.RULES.all;W=JSON.parse(JSON.stringify(W));for(const ce of K){const _e=ce.split("/").slice(1);let Pe=W;for(const $e of _e)Pe=Pe[$e];for(const $e in ee){const Se=ee[$e];if("object"!=typeof Se)continue;const{$data:be}=Se.definition,Ne=Pe[$e];be&&Ne&&(Pe[$e]=s(Ne))}}return W}_removeAllSchemas(W,K){for(const ee in W){const ce=W[ee];(!K||K.test(ee))&&("string"==typeof ce?delete W[ee]:ce&&!ce.meta&&(this._cache.delete(ce.schema),delete W[ee]))}}_addSchema(W,K,ee,ce=this.opts.validateSchema,_e=this.opts.addUsedSchema){let Pe;const{schemaId:$e}=this.opts;if("object"==typeof W)Pe=W[$e];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof W)throw new Error("schema must be object or boolean")}let Se=this._cache.get(W);if(void 0!==Se)return Se;ee=(0,F.normalizeId)(Pe||ee);const be=F.getSchemaRefs.call(this,W,ee);return Se=new A.SchemaEnv({schema:W,schemaId:$e,meta:K,baseId:ee,localRefs:be}),this._cache.set(Se.schema,Se),_e&&!ee.startsWith("#")&&(ee&&this._checkUnique(ee),this.refs[ee]=Se),ce&&this.validateSchema(W,!0),Se}_checkUnique(W){if(this.schemas[W]||this.refs[W])throw new Error(`schema with key or id "${W}" already exists`)}_compileSchemaEnv(W){if(W.meta?this._compileMetaSchema(W):A.compileSchema.call(this,W),!W.validate)throw new Error("ajv implementation error");return W.validate}_compileMetaSchema(W){const K=this.opts;this.opts=this._metaOpts;try{A.compileSchema.call(this,W)}finally{this.opts=K}}}function de(v,W,K,ee="error"){for(const ce in v)ce in W&&this.logger[ee](`${K}: option ${ce}. ${v[ce]}`)}function le(v){return v=(0,F.normalizeId)(v),this.schemas[v]||this.refs[v]}function we(){const v=this.opts.schemas;if(v)if(Array.isArray(v))this.addSchema(v);else for(const W in v)this.addSchema(v[W],W)}function xe(){for(const v in this.opts.formats){const W=this.opts.formats[v];W&&this.addFormat(v,W)}}function Ce(v){if(Array.isArray(v))this.addVocabulary(v);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const W in v){const K=v[W];K.keyword||(K.keyword=W),this.addKeyword(K)}}}function C(){const v={...this.opts};for(const W of re)delete v[W];return v}z.default=se,se.ValidationError=H.default,se.MissingRefError=x.default;const a={log(){},warn(){},error(){}},y=/^[a-z_$][a-z0-9_$:-]*$/i;function g(v,W){const{RULES:K}=this;if((0,I.eachItem)(v,ee=>{if(K.keywords[ee])throw new Error(`Keyword ${ee} is already defined`);if(!y.test(ee))throw new Error(`Keyword ${ee} has invalid name`)}),W&&W.$data&&!("code"in W)&&!("validate"in W))throw new Error('$data keyword must have "code" or "validate" function')}function S(v,W,K){var ee;const ce=W?.post;if(K&&ce)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:_e}=this;let Pe=ce?_e.post:_e.rules.find(({type:Se})=>Se===K);if(Pe||(Pe={type:K,rules:[]},_e.rules.push(Pe)),_e.keywords[v]=!0,!W)return;const $e={keyword:v,definition:{...W,type:(0,L.getJSONTypes)(W.type),schemaType:(0,L.getJSONTypes)(W.schemaType)}};W.before?T.call(this,Pe,$e,W.before):Pe.rules.push($e),_e.all[v]=$e,null===(ee=W.implements)||void 0===ee||ee.forEach(Se=>this.addKeyword(Se))}function T(v,W,K){const ee=v.rules.findIndex(ce=>ce.keyword===K);ee>=0?v.rules.splice(ee,0,W):(v.rules.push(W),this.logger.warn(`rule ${K} is not defined`))}function N(v){let{metaSchema:W}=v;void 0!==W&&(v.$data&&this.opts.$data&&(W=s(W)),v.validateSchema=this.compile(W,!0))}const M={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function s(v){return{anyOf:[v,M]}}},87577:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(6438),E=_(59608),k=_(8307),H=_(11082),x=_(93406),R=_(14516),A=_(3059),O=_(18738),F=["/properties"];z.default=function L(I){return[p,E,k,H,x,Z(this,R),A,Z(this,O)].forEach(j=>this.addMetaSchema(j,void 0,!1)),this;function Z(j,G){return I?j.$dataMetaSchema(G,F):G}}},92281:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(40362);p.code='require("ajv/dist/runtime/equal").default',z.default=p},26488:(Fe,z)=>{"use strict";function _(p){const E=p.length;let x,k=0,H=0;for(;H<E;)k++,x=p.charCodeAt(H++),x>=55296&&x<=56319&&H<E&&(x=p.charCodeAt(H),56320==(64512&x)&&H++);return k}Object.defineProperty(z,"__esModule",{value:!0}),z.default=_,_.code='require("ajv/dist/runtime/ucs2length").default'},13203:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(95568);p.code='require("ajv/dist/runtime/uri").default',z.default=p},42467:(Fe,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});class _ extends Error{constructor(E){super("validation failed"),this.errors=E,this.ajv=this.validation=!0}}z.default=_},46934:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateAdditionalItems=void 0;const p=_(1038),E=_(27006),H={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:R}})=>p.str`must NOT have more than ${R} items`,params:({params:{len:R}})=>p._`{limit: ${R}}`},code(R){const{parentSchema:A,it:O}=R,{items:F}=A;Array.isArray(F)?x(R,F):(0,E.checkStrictMode)(O,'"additionalItems" is ignored when "items" is not an array of schemas')}};function x(R,A){const{gen:O,schema:F,data:L,keyword:I,it:Z}=R;Z.items=!0;const j=O.const("len",p._`${L}.length`);if(!1===F)R.setParams({len:A.length}),R.pass(p._`${j} <= ${A.length}`);else if("object"==typeof F&&!(0,E.alwaysValidSchema)(Z,F)){const re=O.var("valid",p._`${j} <= ${A.length}`);O.if((0,p.not)(re),()=>function G(re){O.forRange("i",A.length,j,te=>{R.subschema({keyword:I,dataProp:te,dataPropType:E.Type.Num},re),Z.allErrors||O.if((0,p.not)(re),()=>O.break())})}(re)),R.ok(re)}}z.validateAdditionalItems=x,z.default=H},18445:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(42406),E=_(1038),k=_(23432),H=_(27006);z.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:A})=>E._`{additionalProperty: ${A.additionalProperty}}`},code(A){const{gen:O,schema:F,parentSchema:L,data:I,errsCount:Z,it:j}=A;if(!Z)throw new Error("ajv implementation error");const{allErrors:G,opts:re}=j;if(j.props=!0,"all"!==re.removeAdditional&&(0,H.alwaysValidSchema)(j,F))return;const te=(0,p.allSchemaProperties)(L.properties),J=(0,p.allSchemaProperties)(L.patternProperties);function ae(le){O.code(E._`delete ${I}[${le}]`)}function se(le){if("all"===re.removeAdditional||re.removeAdditional&&!1===F)ae(le);else{if(!1===F)return A.setParams({additionalProperty:le}),A.error(),void(G||O.break());if("object"==typeof F&&!(0,H.alwaysValidSchema)(j,F)){const we=O.name("valid");"failing"===re.removeAdditional?(de(le,we,!1),O.if((0,E.not)(we),()=>{A.reset(),ae(le)})):(de(le,we),G||O.if((0,E.not)(we),()=>O.break()))}}}function de(le,we,xe){const Ce={keyword:"additionalProperties",dataProp:le,dataPropType:H.Type.Str};!1===xe&&Object.assign(Ce,{compositeRule:!0,createErrors:!1,allErrors:!1}),A.subschema(Ce,we)}(function Y(){O.forIn("key",I,le=>{te.length||J.length?O.if(function oe(le){let we;if(te.length>8){const xe=(0,H.schemaRefOrVal)(j,L.properties,"properties");we=(0,p.isOwnProperty)(O,xe,le)}else we=te.length?(0,E.or)(...te.map(xe=>E._`${le} === ${xe}`)):E.nil;return J.length&&(we=(0,E.or)(we,...J.map(xe=>E._`${(0,p.usePattern)(A,xe)}.test(${le})`))),(0,E.not)(we)}(le),()=>se(le)):se(le)})})(),A.ok(E._`${Z} === ${k.default.errors}`)}}},77783:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(27006);z.default={keyword:"allOf",schemaType:"array",code(k){const{gen:H,schema:x,it:R}=k;if(!Array.isArray(x))throw new Error("ajv implementation error");const A=H.name("valid");x.forEach((O,F)=>{if((0,p.alwaysValidSchema)(R,O))return;const L=k.subschema({keyword:"allOf",schemaProp:F},A);k.ok(A),k.mergeEvaluated(L)})}}},60922:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const E={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:_(42406).validateUnion,error:{message:"must match a schema in anyOf"}};z.default=E},57568:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(1038),E=_(27006);z.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:x,max:R}})=>void 0===R?p.str`must contain at least ${x} valid item(s)`:p.str`must contain at least ${x} and no more than ${R} valid item(s)`,params:({params:{min:x,max:R}})=>void 0===R?p._`{minContains: ${x}}`:p._`{minContains: ${x}, maxContains: ${R}}`},code(x){const{gen:R,schema:A,parentSchema:O,data:F,it:L}=x;let I,Z;const{minContains:j,maxContains:G}=O;L.opts.next?(I=void 0===j?1:j,Z=G):I=1;const re=R.const("len",p._`${F}.length`);if(x.setParams({min:I,max:Z}),void 0===Z&&0===I)return void(0,E.checkStrictMode)(L,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==Z&&I>Z)return(0,E.checkStrictMode)(L,'"minContains" > "maxContains" is always invalid'),void x.fail();if((0,E.alwaysValidSchema)(L,A)){let ae=p._`${re} >= ${I}`;return void 0!==Z&&(ae=p._`${ae} && ${re} <= ${Z}`),void x.pass(ae)}L.items=!0;const te=R.name("valid");function J(){const ae=R.name("_valid"),se=R.let("count",0);Y(ae,()=>R.if(ae,()=>function oe(ae){R.code(p._`${ae}++`),void 0===Z?R.if(p._`${ae} >= ${I}`,()=>R.assign(te,!0).break()):(R.if(p._`${ae} > ${Z}`,()=>R.assign(te,!1).break()),1===I?R.assign(te,!0):R.if(p._`${ae} >= ${I}`,()=>R.assign(te,!0)))}(se)))}function Y(ae,se){R.forRange("i",0,re,de=>{x.subschema({keyword:"contains",dataProp:de,dataPropType:E.Type.Num,compositeRule:!0},ae),se()})}void 0===Z&&1===I?Y(te,()=>R.if(te,()=>R.break())):0===I?(R.let(te,!0),void 0!==Z&&R.if(p._`${F}.length > 0`,J)):(R.let(te,!1),J()),x.result(te,()=>x.reset())}}},68032:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateSchemaDeps=z.validatePropertyDeps=z.error=void 0;const p=_(1038),E=_(27006),k=_(42406);z.error={message:({params:{property:O,depsCount:F,deps:L}})=>p.str`must have ${1===F?"property":"properties"} ${L} when property ${O} is present`,params:({params:{property:O,depsCount:F,deps:L,missingProperty:I}})=>p._`{property: ${O},
    missingProperty: ${I},
    depsCount: ${F},
    deps: ${L}}`};const H={keyword:"dependencies",type:"object",schemaType:"object",error:z.error,code(O){const[F,L]=function x({schema:O}){const F={},L={};for(const I in O)"__proto__"!==I&&((Array.isArray(O[I])?F:L)[I]=O[I]);return[F,L]}(O);R(O,F),A(O,L)}};function R(O,F=O.schema){const{gen:L,data:I,it:Z}=O;if(0===Object.keys(F).length)return;const j=L.let("missing");for(const G in F){const re=F[G];if(0===re.length)continue;const te=(0,k.propertyInData)(L,I,G,Z.opts.ownProperties);O.setParams({property:G,depsCount:re.length,deps:re.join(", ")}),Z.allErrors?L.if(te,()=>{for(const J of re)(0,k.checkReportMissingProp)(O,J)}):(L.if(p._`${te} && (${(0,k.checkMissingProp)(O,re,j)})`),(0,k.reportMissingProp)(O,j),L.else())}}function A(O,F=O.schema){const{gen:L,data:I,keyword:Z,it:j}=O,G=L.name("valid");for(const re in F)(0,E.alwaysValidSchema)(j,F[re])||(L.if((0,k.propertyInData)(L,I,re,j.opts.ownProperties),()=>{const te=O.subschema({keyword:Z,schemaProp:re},G);O.mergeValidEvaluated(te,G)},()=>L.var(G,!0)),O.ok(G))}z.validatePropertyDeps=R,z.validateSchemaDeps=A,z.default=H},85164:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(68032);z.default={keyword:"dependentSchemas",type:"object",schemaType:"object",code:k=>(0,p.validateSchemaDeps)(k)}},45226:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(1038),E=_(27006);function x(R,A){const O=R.schema[A];return void 0!==O&&!(0,E.alwaysValidSchema)(R,O)}z.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:R})=>p.str`must match "${R.ifClause}" schema`,params:({params:R})=>p._`{failingKeyword: ${R.ifClause}}`},code(R){const{gen:A,parentSchema:O,it:F}=R;void 0===O.then&&void 0===O.else&&(0,E.checkStrictMode)(F,'"if" without "then" and "else" is ignored');const L=x(F,"then"),I=x(F,"else");if(!L&&!I)return;const Z=A.let("valid",!0),j=A.name("_valid");if(function G(){const te=R.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},j);R.mergeEvaluated(te)}(),R.reset(),L&&I){const te=A.let("ifClause");R.setParams({ifClause:te}),A.if(j,re("then",te),re("else",te))}else L?A.if(j,re("then")):A.if((0,p.not)(j),re("else"));function re(te,J){return()=>{const Y=R.subschema({keyword:te},j);A.assign(Z,j),R.mergeValidEvaluated(Y,Z),J?A.assign(J,p._`${te}`):R.setParams({ifClause:te})}}R.pass(Z,()=>R.error(!0))}}},68261:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(46934),E=_(96537),k=_(2941),H=_(5261),x=_(57568),R=_(68032),A=_(36474),O=_(18445),F=_(34032),L=_(17330),I=_(3408),Z=_(60922),j=_(88388),G=_(77783),re=_(45226),te=_(98779);z.default=function J(Y=!1){const oe=[I.default,Z.default,j.default,G.default,re.default,te.default,A.default,O.default,R.default,F.default,L.default];return Y?oe.push(E.default,H.default):oe.push(p.default,k.default),oe.push(x.default),oe}},2941:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateTuple=void 0;const p=_(1038),E=_(27006),k=_(42406),H={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(R){const{schema:A,it:O}=R;if(Array.isArray(A))return x(R,"additionalItems",A);O.items=!0,!(0,E.alwaysValidSchema)(O,A)&&R.ok((0,k.validateArray)(R))}};function x(R,A,O=R.schema){const{gen:F,parentSchema:L,data:I,keyword:Z,it:j}=R;(function te(J){const{opts:Y,errSchemaPath:oe}=j,ae=O.length;Y.strictTuples&&!(ae===J.minItems&&(ae===J.maxItems||!1===J[A]))&&(0,E.checkStrictMode)(j,`"${Z}" is ${ae}-tuple, but minItems or maxItems/${A} are not specified or different at path "${oe}"`,Y.strictTuples)})(L),j.opts.unevaluated&&O.length&&!0!==j.items&&(j.items=E.mergeEvaluated.items(F,O.length,j.items));const G=F.name("valid"),re=F.const("len",p._`${I}.length`);O.forEach((J,Y)=>{(0,E.alwaysValidSchema)(j,J)||(F.if(p._`${re} > ${Y}`,()=>R.subschema({keyword:Z,schemaProp:Y,dataProp:Y},G)),R.ok(G))})}z.validateTuple=x,z.default=H},5261:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(1038),E=_(27006),k=_(42406),H=_(46934);z.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:A}})=>p.str`must NOT have more than ${A} items`,params:({params:{len:A}})=>p._`{limit: ${A}}`},code(A){const{schema:O,parentSchema:F,it:L}=A,{prefixItems:I}=F;L.items=!0,!(0,E.alwaysValidSchema)(L,O)&&(I?(0,H.validateAdditionalItems)(A,I):A.ok((0,k.validateArray)(A)))}}},3408:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(27006);z.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(k){const{gen:H,schema:x,it:R}=k;if((0,p.alwaysValidSchema)(R,x))return void k.fail();const A=H.name("valid");k.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},A),k.failResult(A,()=>k.reset(),()=>k.error())},error:{message:"must NOT be valid"}}},88388:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(1038),E=_(27006);z.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:x})=>p._`{passingSchemas: ${x.passing}}`},code(x){const{gen:R,schema:A,parentSchema:O,it:F}=x;if(!Array.isArray(A))throw new Error("ajv implementation error");if(F.opts.discriminator&&O.discriminator)return;const L=A,I=R.let("valid",!1),Z=R.let("passing",null),j=R.name("_valid");x.setParams({passing:Z}),R.block(function G(){L.forEach((re,te)=>{let J;(0,E.alwaysValidSchema)(F,re)?R.var(j,!0):J=x.subschema({keyword:"oneOf",schemaProp:te,compositeRule:!0},j),te>0&&R.if(p._`${j} && ${I}`).assign(I,!1).assign(Z,p._`[${Z}, ${te}]`).else(),R.if(j,()=>{R.assign(I,!0),R.assign(Z,te),J&&x.mergeEvaluated(J,p.Name)})})}),x.result(I,()=>x.reset(),()=>x.error(!0))}}},17330:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(42406),E=_(1038),k=_(27006),H=_(27006);z.default={keyword:"patternProperties",type:"object",schemaType:"object",code(R){const{gen:A,schema:O,data:F,parentSchema:L,it:I}=R,{opts:Z}=I,j=(0,p.allSchemaProperties)(O),G=j.filter(se=>(0,k.alwaysValidSchema)(I,O[se]));if(0===j.length||G.length===j.length&&(!I.opts.unevaluated||!0===I.props))return;const re=Z.strictSchema&&!Z.allowMatchingProperties&&L.properties,te=A.name("valid");!0!==I.props&&!(I.props instanceof E.Name)&&(I.props=(0,H.evaluatedPropsToName)(A,I.props));const{props:J}=I;function oe(se){for(const de in re)new RegExp(se).test(de)&&(0,k.checkStrictMode)(I,`property ${de} matches pattern ${se} (use allowMatchingProperties)`)}function ae(se){A.forIn("key",F,de=>{A.if(E._`${(0,p.usePattern)(R,se)}.test(${de})`,()=>{const le=G.includes(se);le||R.subschema({keyword:"patternProperties",schemaProp:se,dataProp:de,dataPropType:H.Type.Str},te),I.opts.unevaluated&&!0!==J?A.assign(E._`${J}[${de}]`,!0):!le&&!I.allErrors&&A.if((0,E.not)(te),()=>A.break())})})}!function Y(){for(const se of j)re&&oe(se),I.allErrors?ae(se):(A.var(te,!0),ae(se),A.if(te))}()}}},96537:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(2941);z.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:k=>(0,p.validateTuple)(k,"items")}},34032:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(40339),E=_(42406),k=_(27006),H=_(18445);z.default={keyword:"properties",type:"object",schemaType:"object",code(R){const{gen:A,schema:O,parentSchema:F,data:L,it:I}=R;"all"===I.opts.removeAdditional&&void 0===F.additionalProperties&&H.default.code(new p.KeywordCxt(I,H.default,"additionalProperties"));const Z=(0,E.allSchemaProperties)(O);for(const J of Z)I.definedProperties.add(J);I.opts.unevaluated&&Z.length&&!0!==I.props&&(I.props=k.mergeEvaluated.props(A,(0,k.toHash)(Z),I.props));const j=Z.filter(J=>!(0,k.alwaysValidSchema)(I,O[J]));if(0===j.length)return;const G=A.name("valid");for(const J of j)re(J)?te(J):(A.if((0,E.propertyInData)(A,L,J,I.opts.ownProperties)),te(J),I.allErrors||A.else().var(G,!0),A.endIf()),R.it.definedProperties.add(J),R.ok(G);function re(J){return I.opts.useDefaults&&!I.compositeRule&&void 0!==O[J].default}function te(J){R.subschema({keyword:"properties",schemaProp:J,dataProp:J},G)}}}},36474:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(1038),E=_(27006);z.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:x})=>p._`{propertyName: ${x.propertyName}}`},code(x){const{gen:R,schema:A,data:O,it:F}=x;if((0,E.alwaysValidSchema)(F,A))return;const L=R.name("valid");R.forIn("key",O,I=>{x.setParams({propertyName:I}),x.subschema({keyword:"propertyNames",data:I,dataTypes:["string"],propertyName:I,compositeRule:!0},L),R.if((0,p.not)(L),()=>{x.error(!0),F.allErrors||R.break()})}),x.ok(L)}}},98779:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(27006);z.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:k,parentSchema:H,it:x}){void 0===H.if&&(0,p.checkStrictMode)(x,`"${k}" without "if" is ignored`)}}},42406:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateUnion=z.validateArray=z.usePattern=z.callValidateCode=z.schemaProperties=z.allSchemaProperties=z.noPropertyInData=z.propertyInData=z.isOwnProperty=z.hasPropFunc=z.reportMissingProp=z.checkMissingProp=z.checkReportMissingProp=void 0;const p=_(1038),E=_(27006),k=_(23432),H=_(27006);function O(oe){return oe.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:p._`Object.prototype.hasOwnProperty`})}function F(oe,ae,se){return p._`${O(oe)}.call(${ae}, ${se})`}function I(oe,ae,se,de){const le=p._`${ae}${(0,p.getProperty)(se)} === undefined`;return de?(0,p.or)(le,(0,p.not)(F(oe,ae,se))):le}function Z(oe){return oe?Object.keys(oe).filter(ae=>"__proto__"!==ae):[]}z.checkReportMissingProp=function x(oe,ae){const{gen:se,data:de,it:le}=oe;se.if(I(se,de,ae,le.opts.ownProperties),()=>{oe.setParams({missingProperty:p._`${ae}`},!0),oe.error()})},z.checkMissingProp=function R({gen:oe,data:ae,it:{opts:se}},de,le){return(0,p.or)(...de.map(we=>(0,p.and)(I(oe,ae,we,se.ownProperties),p._`${le} = ${we}`)))},z.reportMissingProp=function A(oe,ae){oe.setParams({missingProperty:ae},!0),oe.error()},z.hasPropFunc=O,z.isOwnProperty=F,z.propertyInData=function L(oe,ae,se,de){const le=p._`${ae}${(0,p.getProperty)(se)} !== undefined`;return de?p._`${le} && ${F(oe,ae,se)}`:le},z.noPropertyInData=I,z.allSchemaProperties=Z,z.schemaProperties=function j(oe,ae){return Z(ae).filter(se=>!(0,E.alwaysValidSchema)(oe,ae[se]))},z.callValidateCode=function G({schemaCode:oe,data:ae,it:{gen:se,topSchemaRef:de,schemaPath:le,errorPath:we},it:xe},Ce,C,a){const u=a?p._`${oe}, ${ae}, ${de}${le}`:ae,y=[[k.default.instancePath,(0,p.strConcat)(k.default.instancePath,we)],[k.default.parentData,xe.parentData],[k.default.parentDataProperty,xe.parentDataProperty],[k.default.rootData,k.default.rootData]];xe.opts.dynamicRef&&y.push([k.default.dynamicAnchors,k.default.dynamicAnchors]);const g=p._`${u}, ${se.object(...y)}`;return C!==p.nil?p._`${Ce}.call(${C}, ${g})`:p._`${Ce}(${g})`};const re=p._`new RegExp`;z.usePattern=function te({gen:oe,it:{opts:ae}},se){const de=ae.unicodeRegExp?"u":"",{regExp:le}=ae.code,we=le(se,de);return oe.scopeValue("pattern",{key:we.toString(),ref:we,code:p._`${"new RegExp"===le.code?re:(0,H.useFunc)(oe,le)}(${se}, ${de})`})},z.validateArray=function J(oe){const{gen:ae,data:se,keyword:de,it:le}=oe,we=ae.name("valid");if(le.allErrors){const Ce=ae.let("valid",!0);return xe(()=>ae.assign(Ce,!1)),Ce}return ae.var(we,!0),xe(()=>ae.break()),we;function xe(Ce){const C=ae.const("len",p._`${se}.length`);ae.forRange("i",0,C,a=>{oe.subschema({keyword:de,dataProp:a,dataPropType:E.Type.Num},we),ae.if((0,p.not)(we),Ce)})}},z.validateUnion=function Y(oe){const{gen:ae,schema:se,keyword:de,it:le}=oe;if(!Array.isArray(se))throw new Error("ajv implementation error");if(se.some(C=>(0,E.alwaysValidSchema)(le,C))&&!le.opts.unevaluated)return;const xe=ae.let("valid",!1),Ce=ae.name("_valid");ae.block(()=>se.forEach((C,a)=>{const u=oe.subschema({keyword:de,schemaProp:a,compositeRule:!0},Ce);ae.assign(xe,p._`${xe} || ${Ce}`),oe.mergeValidEvaluated(u,Ce)||ae.if((0,p.not)(xe))})),oe.result(xe,()=>oe.reset(),()=>oe.error(!0))}},36846:(Fe,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},11867:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(36846),E=_(84862);z.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",p.default,E.default]},84862:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.callRef=z.getValidate=void 0;const p=_(26288),E=_(42406),k=_(1038),H=_(23432),x=_(97692),R=_(27006),A={keyword:"$ref",schemaType:"string",code(L){const{gen:I,schema:Z,it:j}=L,{baseId:G,schemaEnv:re,validateName:te,opts:J,self:Y}=j,{root:oe}=re;if(("#"===Z||"#/"===Z)&&G===oe.baseId)return function se(){if(re===oe)return F(L,te,re,re.$async);const we=I.scopeValue("root",{ref:oe});return F(L,k._`${we}.validate`,oe,oe.$async)}();const ae=x.resolveRef.call(Y,oe,G,Z);if(void 0===ae)throw new p.default(j.opts.uriResolver,G,Z);return ae instanceof x.SchemaEnv?function de(we){const xe=O(L,we);F(L,xe,we,we.$async)}(ae):function le(we){const xe=I.scopeValue("schema",!0===J.code.source?{ref:we,code:(0,k.stringify)(we)}:{ref:we}),Ce=I.name("valid"),C=L.subschema({schema:we,dataTypes:[],schemaPath:k.nil,topSchemaRef:xe,errSchemaPath:Z},Ce);L.mergeEvaluated(C),L.ok(Ce)}(ae)}};function O(L,I){const{gen:Z}=L;return I.validate?Z.scopeValue("validate",{ref:I.validate}):k._`${Z.scopeValue("wrapper",{ref:I})}.validate`}function F(L,I,Z,j){const{gen:G,it:re}=L,{allErrors:te,schemaEnv:J,opts:Y}=re,oe=Y.passContext?H.default.this:k.nil;function de(we){const xe=k._`${we}.errors`;G.assign(H.default.vErrors,k._`${H.default.vErrors} === null ? ${xe} : ${H.default.vErrors}.concat(${xe})`),G.assign(H.default.errors,k._`${H.default.vErrors}.length`)}function le(we){var xe;if(!re.opts.unevaluated)return;const Ce=null===(xe=Z?.validate)||void 0===xe?void 0:xe.evaluated;if(!0!==re.props)if(Ce&&!Ce.dynamicProps)void 0!==Ce.props&&(re.props=R.mergeEvaluated.props(G,Ce.props,re.props));else{const C=G.var("props",k._`${we}.evaluated.props`);re.props=R.mergeEvaluated.props(G,C,re.props,k.Name)}if(!0!==re.items)if(Ce&&!Ce.dynamicItems)void 0!==Ce.items&&(re.items=R.mergeEvaluated.items(G,Ce.items,re.items));else{const C=G.var("items",k._`${we}.evaluated.items`);re.items=R.mergeEvaluated.items(G,C,re.items,k.Name)}}j?function ae(){if(!J.$async)throw new Error("async schema referenced by sync schema");const we=G.let("valid");G.try(()=>{G.code(k._`await ${(0,E.callValidateCode)(L,I,oe)}`),le(I),te||G.assign(we,!0)},xe=>{G.if(k._`!(${xe} instanceof ${re.ValidationError})`,()=>G.throw(xe)),de(xe),te||G.assign(we,!1)}),L.ok(we)}():function se(){L.result((0,E.callValidateCode)(L,I,oe),()=>le(I),()=>de(I))}()}z.getValidate=O,z.callRef=F,z.default=A},86980:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(1038),E=_(22145),k=_(97692),H=_(27006);z.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:A,tagName:O}})=>A===E.DiscrError.Tag?`tag "${O}" must be string`:`value of tag "${O}" must be in oneOf`,params:({params:{discrError:A,tag:O,tagName:F}})=>p._`{error: ${A}, tag: ${F}, tagValue: ${O}}`},code(A){const{gen:O,data:F,schema:L,parentSchema:I,it:Z}=A,{oneOf:j}=I;if(!Z.opts.discriminator)throw new Error("discriminator: requires discriminator option");const G=L.propertyName;if("string"!=typeof G)throw new Error("discriminator: requires propertyName");if(L.mapping)throw new Error("discriminator: mapping is not supported");if(!j)throw new Error("discriminator: requires oneOf keyword");const re=O.let("valid",!1),te=O.const("tag",p._`${F}${(0,p.getProperty)(G)}`);function Y(ae){const se=O.name("valid"),de=A.subschema({keyword:"oneOf",schemaProp:ae},se);return A.mergeEvaluated(de,p.Name),se}O.if(p._`typeof ${te} == "string"`,()=>function J(){const ae=function oe(){var ae;const se={},de=we(I);let le=!0;for(let C=0;C<j.length;C++){let a=j[C];a?.$ref&&!(0,H.schemaHasRulesButRef)(a,Z.self.RULES)&&(a=k.resolveRef.call(Z.self,Z.schemaEnv.root,Z.baseId,a?.$ref),a instanceof k.SchemaEnv&&(a=a.schema));const u=null===(ae=a?.properties)||void 0===ae?void 0:ae[G];if("object"!=typeof u)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${G}"`);le=le&&(de||we(a)),xe(u,C)}if(!le)throw new Error(`discriminator: "${G}" must be required`);return se;function we({required:C}){return Array.isArray(C)&&C.includes(G)}function xe(C,a){if(C.const)Ce(C.const,a);else{if(!C.enum)throw new Error(`discriminator: "properties/${G}" must have "const" or "enum"`);for(const u of C.enum)Ce(u,a)}}function Ce(C,a){if("string"!=typeof C||C in se)throw new Error(`discriminator: "${G}" values must be unique strings`);se[C]=a}}();O.if(!1);for(const se in ae)O.elseIf(p._`${te} === ${se}`),O.assign(re,Y(ae[se]));O.else(),A.error(!1,{discrError:E.DiscrError.Mapping,tag:te,tagName:G}),O.endIf()}(),()=>A.error(!1,{discrError:E.DiscrError.Tag,tag:te,tagName:G})),A.ok(re)}}},22145:(Fe,z)=>{"use strict";var p;Object.defineProperty(z,"__esModule",{value:!0}),z.DiscrError=void 0,(p=z.DiscrError||(z.DiscrError={})).Tag="tag",p.Mapping="mapping"},98496:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(11867),E=_(64023),k=_(68261),H=_(79745),x=_(54458),R=_(77616),A=_(23463),O=_(3462),F=[H.default,p.default,E.default,(0,k.default)(!0),A.default,O.metadataVocabulary,O.contentVocabulary,x.default,R.default];z.default=F},61281:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.dynamicAnchor=void 0;const p=_(1038),E=_(23432),k=_(97692),H=_(84862),x={keyword:"$dynamicAnchor",schemaType:"string",code:O=>R(O,O.schema)};function R(O,F){const{gen:L,it:I}=O;I.schemaEnv.root.dynamicAnchors[F]=!0;const Z=p._`${E.default.dynamicAnchors}${(0,p.getProperty)(F)}`,j="#"===I.errSchemaPath?I.validateName:function A(O){const{schemaEnv:F,schema:L,self:I}=O.it,{root:Z,baseId:j,localRefs:G,meta:re}=F.root,{schemaId:te}=I.opts,J=new k.SchemaEnv({schema:L,schemaId:te,root:Z,baseId:j,localRefs:G,meta:re});return k.compileSchema.call(I,J),(0,H.getValidate)(O,J)}(O);L.if(p._`!${Z}`,()=>L.assign(Z,j))}z.dynamicAnchor=R,z.default=x},35207:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.dynamicRef=void 0;const p=_(1038),E=_(23432),k=_(84862),H={keyword:"$dynamicRef",schemaType:"string",code:R=>x(R,R.schema)};function x(R,A){const{gen:O,keyword:F,it:L}=R;if("#"!==A[0])throw new Error(`"${F}" only supports hash fragment reference`);const I=A.slice(1);if(L.allErrors)Z();else{const G=O.let("valid",!1);Z(G),R.ok(G)}function Z(G){if(L.schemaEnv.root.dynamicAnchors[I]){const re=O.let("_v",p._`${E.default.dynamicAnchors}${(0,p.getProperty)(I)}`);O.if(re,j(re,G),j(L.validateName,G))}else j(L.validateName,G)()}function j(G,re){return re?()=>O.block(()=>{(0,k.callRef)(R,G),O.let(re,!0)}):()=>(0,k.callRef)(R,G)}}z.dynamicRef=x,z.default=H},79745:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(61281),E=_(35207),k=_(34028),H=_(65684);z.default=[p.default,E.default,k.default,H.default]},34028:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(61281),E=_(27006);z.default={keyword:"$recursiveAnchor",schemaType:"boolean",code(H){H.schema?(0,p.dynamicAnchor)(H,""):(0,E.checkStrictMode)(H.it,"$recursiveAnchor: false is ignored")}}},65684:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(35207);z.default={keyword:"$recursiveRef",schemaType:"string",code:k=>(0,p.dynamicRef)(k,k.schema)}},98140:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(1038);z.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:H})=>p.str`must match format "${H}"`,params:({schemaCode:H})=>p._`{format: ${H}}`},code(H,x){const{gen:R,data:A,$data:O,schema:F,schemaCode:L,it:I}=H,{opts:Z,errSchemaPath:j,schemaEnv:G,self:re}=I;Z.validateFormats&&(O?function te(){const Y=R.scopeValue("formats",{ref:re.formats,code:Z.code.formats}),oe=R.const("fDef",p._`${Y}[${L}]`),ae=R.let("fType"),se=R.let("format");R.if(p._`typeof ${oe} == "object" && !(${oe} instanceof RegExp)`,()=>R.assign(ae,p._`${oe}.type || "string"`).assign(se,p._`${oe}.validate`),()=>R.assign(ae,p._`"string"`).assign(se,oe)),H.fail$data((0,p.or)(function de(){return!1===Z.strictSchema?p.nil:p._`${L} && !${se}`}(),function le(){const we=G.$async?p._`(${oe}.async ? await ${se}(${A}) : ${se}(${A}))`:p._`${se}(${A})`,xe=p._`(typeof ${se} == "function" ? ${we} : ${se}.test(${A}))`;return p._`${se} && ${se} !== true && ${ae} === ${x} && !${xe}`}()))}():function J(){const Y=re.formats[F];if(!Y)return void function de(){if(!1!==Z.strictSchema)throw new Error(xe());function xe(){return`unknown format "${F}" ignored in schema at path "${j}"`}re.logger.warn(xe())}();if(!0===Y)return;const[oe,ae,se]=function le(xe){const Ce=xe instanceof RegExp?(0,p.regexpCode)(xe):Z.code.formats?p._`${Z.code.formats}${(0,p.getProperty)(F)}`:void 0,C=R.scopeValue("formats",{key:F,ref:xe,code:Ce});return"object"!=typeof xe||xe instanceof RegExp?["string",xe,C]:[xe.type||"string",xe.validate,p._`${C}.validate`]}(Y);oe===x&&H.pass(function we(){if("object"==typeof Y&&!(Y instanceof RegExp)&&Y.async){if(!G.$async)throw new Error("async format in sync schema");return p._`await ${se}(${A})`}return"function"==typeof ae?p._`${se}(${A})`:p._`${se}.test(${A})`}())}())}}},23463:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const E=[_(98140).default];z.default=E},3462:(Fe,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.contentVocabulary=z.metadataVocabulary=void 0,z.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],z.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},54458:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(53037),E=_(85164),k=_(22705);z.default=[p.default,E.default,k.default]},77616:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(40425),E=_(89826);z.default=[p.default,E.default]},89826:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(1038),E=_(27006);z.default={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:{message:({params:{len:x}})=>p.str`must NOT have more than ${x} items`,params:({params:{len:x}})=>p._`{limit: ${x}}`},code(x){const{gen:R,schema:A,data:O,it:F}=x,L=F.items||0;if(!0===L)return;const I=R.const("len",p._`${O}.length`);if(!1===A)x.setParams({len:L}),x.fail(p._`${I} > ${L}`);else if("object"==typeof A&&!(0,E.alwaysValidSchema)(F,A)){const j=R.var("valid",p._`${I} <= ${L}`);R.if((0,p.not)(j),()=>function Z(j,G){R.forRange("i",G,I,re=>{x.subschema({keyword:"unevaluatedItems",dataProp:re,dataPropType:E.Type.Num},j),F.allErrors||R.if((0,p.not)(j),()=>R.break())})}(j,L)),x.ok(j)}F.items=!0}}},40425:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(1038),E=_(27006),k=_(23432);z.default={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:{message:"must NOT have unevaluated properties",params:({params:R})=>p._`{unevaluatedProperty: ${R.unevaluatedProperty}}`},code(R){const{gen:A,schema:O,data:F,errsCount:L,it:I}=R;if(!L)throw new Error("ajv implementation error");const{allErrors:Z,props:j}=I;function G(J){if(!1===O)return R.setParams({unevaluatedProperty:J}),R.error(),void(Z||A.break());if(!(0,E.alwaysValidSchema)(I,O)){const Y=A.name("valid");R.subschema({keyword:"unevaluatedProperties",dataProp:J,dataPropType:E.Type.Str},Y),Z||A.if((0,p.not)(Y),()=>A.break())}}j instanceof p.Name?A.if(p._`${j} !== true`,()=>A.forIn("key",F,J=>A.if(function re(J,Y){return p._`!${J} || !${J}[${Y}]`}(j,J),()=>G(J)))):!0!==j&&A.forIn("key",F,J=>void 0===j?G(J):A.if(function te(J,Y){const oe=[];for(const ae in J)!0===J[ae]&&oe.push(p._`${Y} !== ${ae}`);return(0,p.and)(...oe)}(j,J),()=>G(J))),I.props=!0,R.ok(p._`${L} === ${k.default.errors}`)}}},90796:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(1038),E=_(27006),k=_(92281);z.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:R})=>p._`{allowedValue: ${R}}`},code(R){const{gen:A,data:O,$data:F,schemaCode:L,schema:I}=R;F||I&&"object"==typeof I?R.fail$data(p._`!${(0,E.useFunc)(A,k.default)}(${O}, ${L})`):R.fail(p._`${I} !== ${O}`)}}},53037:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(68032);z.default={keyword:"dependentRequired",type:"object",schemaType:"object",error:p.error,code:k=>(0,p.validatePropertyDeps)(k)}},65266:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(1038),E=_(27006),k=_(92281);z.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:R})=>p._`{allowedValues: ${R}}`},code(R){const{gen:A,data:O,$data:F,schema:L,schemaCode:I,it:Z}=R;if(!F&&0===L.length)throw new Error("enum must have non-empty array");let G;const re=()=>G??(G=(0,E.useFunc)(A,k.default));let te;if(L.length>=Z.opts.loopEnum||F)te=A.let("valid"),R.block$data(te,function J(){A.assign(te,!1),A.forOf("v",I,oe=>A.if(p._`${re()}(${O}, ${oe})`,()=>A.assign(te,!0).break()))});else{if(!Array.isArray(L))throw new Error("ajv implementation error");const oe=A.const("vSchema",I);te=(0,p.or)(...L.map((ae,se)=>function Y(oe,ae){const se=L[ae];return"object"==typeof se&&null!==se?p._`${re()}(${O}, ${oe}[${ae}])`:p._`${O} === ${se}`}(oe,se)))}R.pass(te)}}},64023:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(78665),E=_(30554),k=_(13972),H=_(68753),x=_(99169),R=_(56454),A=_(85962),O=_(16598),F=_(90796),L=_(65266);z.default=[p.default,E.default,k.default,H.default,x.default,R.default,A.default,O.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},F.default,L.default]},22705:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(27006);z.default={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:k,parentSchema:H,it:x}){void 0===H.contains&&(0,p.checkStrictMode)(x,`"${k}" without "contains" is ignored`)}}},85962:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(1038);z.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:H,schemaCode:x})=>p.str`must NOT have ${"maxItems"===H?"more":"fewer"} than ${x} items`,params:({schemaCode:H})=>p._`{limit: ${H}}`},code(H){const{keyword:x,data:R,schemaCode:A}=H;H.fail$data(p._`${R}.length ${"maxItems"===x?p.operators.GT:p.operators.LT} ${A}`)}}},13972:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(1038),E=_(27006),k=_(26488);z.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:R,schemaCode:A})=>p.str`must NOT have ${"maxLength"===R?"more":"fewer"} than ${A} characters`,params:({schemaCode:R})=>p._`{limit: ${R}}`},code(R){const{keyword:A,data:O,schemaCode:F,it:L}=R,I="maxLength"===A?p.operators.GT:p.operators.LT,Z=!1===L.opts.unicode?p._`${O}.length`:p._`${(0,E.useFunc)(R.gen,k.default)}(${O})`;R.fail$data(p._`${Z} ${I} ${F}`)}}},78665:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(1038),E=p.operators,k={maximum:{okStr:"<=",ok:E.LTE,fail:E.GT},minimum:{okStr:">=",ok:E.GTE,fail:E.LT},exclusiveMaximum:{okStr:"<",ok:E.LT,fail:E.GTE},exclusiveMinimum:{okStr:">",ok:E.GT,fail:E.LTE}},H={message:({keyword:R,schemaCode:A})=>p.str`must be ${k[R].okStr} ${A}`,params:({keyword:R,schemaCode:A})=>p._`{comparison: ${k[R].okStr}, limit: ${A}}`},x={keyword:Object.keys(k),type:"number",schemaType:"number",$data:!0,error:H,code(R){const{keyword:A,data:O,schemaCode:F}=R;R.fail$data(p._`${O} ${k[A].fail} ${F} || isNaN(${O})`)}};z.default=x},99169:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(1038);z.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:H,schemaCode:x})=>p.str`must NOT have ${"maxProperties"===H?"more":"fewer"} than ${x} properties`,params:({schemaCode:H})=>p._`{limit: ${H}}`},code(H){const{keyword:x,data:R,schemaCode:A}=H;H.fail$data(p._`Object.keys(${R}).length ${"maxProperties"===x?p.operators.GT:p.operators.LT} ${A}`)}}},30554:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(1038);z.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:H})=>p.str`must be multiple of ${H}`,params:({schemaCode:H})=>p._`{multipleOf: ${H}}`},code(H){const{gen:x,data:R,schemaCode:A,it:O}=H,F=O.opts.multipleOfPrecision,L=x.let("res"),I=F?p._`Math.abs(Math.round(${L}) - ${L}) > 1e-${F}`:p._`${L} !== parseInt(${L})`;H.fail$data(p._`(${A} === 0 || (${L} = ${R}/${A}, ${I}))`)}}},68753:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(42406),E=_(1038);z.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:x})=>E.str`must match pattern "${x}"`,params:({schemaCode:x})=>E._`{pattern: ${x}}`},code(x){const{data:R,$data:A,schema:O,schemaCode:F,it:L}=x,Z=A?E._`(new RegExp(${F}, ${L.opts.unicodeRegExp?"u":""}))`:(0,p.usePattern)(x,O);x.fail$data(E._`!${Z}.test(${R})`)}}},56454:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(42406),E=_(1038),k=_(27006);z.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:R}})=>E.str`must have required property '${R}'`,params:({params:{missingProperty:R}})=>E._`{missingProperty: ${R}}`},code(R){const{gen:A,schema:O,schemaCode:F,data:L,$data:I,it:Z}=R,{opts:j}=Z;if(!I&&0===O.length)return;const G=O.length>=j.loopRequired;if(Z.allErrors?function re(){if(G||I)R.block$data(E.nil,J);else for(const oe of O)(0,p.checkReportMissingProp)(R,oe)}():function te(){const oe=A.let("missing");if(G||I){const ae=A.let("valid",!0);R.block$data(ae,()=>function Y(oe,ae){R.setParams({missingProperty:oe}),A.forOf(oe,F,()=>{A.assign(ae,(0,p.propertyInData)(A,L,oe,j.ownProperties)),A.if((0,E.not)(ae),()=>{R.error(),A.break()})},E.nil)}(oe,ae)),R.ok(ae)}else A.if((0,p.checkMissingProp)(R,O,oe)),(0,p.reportMissingProp)(R,oe),A.else()}(),j.strictRequired){const oe=R.parentSchema.properties,{definedProperties:ae}=R.it;for(const se of O)void 0!==oe?.[se]||ae.has(se)||(0,k.checkStrictMode)(Z,`required property "${se}" is not defined at "${Z.schemaEnv.baseId+Z.errSchemaPath}" (strictRequired)`,Z.opts.strictRequired)}function J(){A.forOf("prop",F,oe=>{R.setParams({missingProperty:oe}),A.if((0,p.noPropertyInData)(A,L,oe,j.ownProperties),()=>R.error())})}}}},16598:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=_(55999),E=_(1038),k=_(27006),H=_(92281);z.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:A,j:O}})=>E.str`must NOT have duplicate items (items ## ${O} and ${A} are identical)`,params:({params:{i:A,j:O}})=>E._`{i: ${A}, j: ${O}}`},code(A){const{gen:O,data:F,$data:L,schema:I,parentSchema:Z,schemaCode:j,it:G}=A;if(!L&&!I)return;const re=O.let("valid"),te=Z.items?(0,p.getSchemaTypes)(Z.items):[];function oe(se,de){const le=O.name("item"),we=(0,p.checkDataTypes)(te,le,G.opts.strictNumbers,p.DataType.Wrong),xe=O.const("indices",E._`{}`);O.for(E._`;${se}--;`,()=>{O.let(le,E._`${F}[${se}]`),O.if(we,E._`continue`),te.length>1&&O.if(E._`typeof ${le} == "string"`,E._`${le} += "_"`),O.if(E._`typeof ${xe}[${le}] == "number"`,()=>{O.assign(de,E._`${xe}[${le}]`),A.error(),O.assign(re,!1).break()}).code(E._`${xe}[${le}] = ${se}`)})}function ae(se,de){const le=(0,k.useFunc)(O,H.default),we=O.name("outer");O.label(we).for(E._`;${se}--;`,()=>O.for(E._`${de} = ${se}; ${de}--;`,()=>O.if(E._`${le}(${F}[${se}], ${F}[${de}])`,()=>{A.error(),O.assign(re,!1).break(we)})))}A.block$data(re,function J(){const se=O.let("i",E._`${F}.length`),de=O.let("j");A.setParams({i:se,j:de}),O.assign(re,!0),O.if(E._`${se} > 1`,()=>(function Y(){return te.length>0&&!te.some(se=>"object"===se||"array"===se)}()?oe:ae)(se,de))},E._`${j} === false`),A.ok(re)}}},68316:(Fe,z,_)=>{"use strict";const p=_(13981),E=_(22020),k="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=A,z.SlowBuffer=function Y(B){return+B!=B&&(B=0),A.alloc(+B)},z.INSPECT_MAX_BYTES=50;const H=2147483647;function R(B){if(B>H)throw new RangeError('The value "'+B+'" is invalid for option "size"');const w=new Uint8Array(B);return Object.setPrototypeOf(w,A.prototype),w}function A(B,w,m){if("number"==typeof B){if("string"==typeof w)throw new TypeError('The "string" argument must be of type string. Received type number');return I(B)}return O(B,w,m)}function O(B,w,m){if("string"==typeof B)return function Z(B,w){if(("string"!=typeof w||""===w)&&(w="utf8"),!A.isEncoding(w))throw new TypeError("Unknown encoding: "+w);const m=0|oe(B,w);let U=R(m);const ne=U.write(B,w);return ne!==m&&(U=U.slice(0,ne)),U}(B,w);if(ArrayBuffer.isView(B))return function G(B){if(Le(B,Uint8Array)){const w=new Uint8Array(B);return re(w.buffer,w.byteOffset,w.byteLength)}return j(B)}(B);if(null==B)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(Le(B,ArrayBuffer)||B&&Le(B.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Le(B,SharedArrayBuffer)||B&&Le(B.buffer,SharedArrayBuffer)))return re(B,w,m);if("number"==typeof B)throw new TypeError('The "value" argument must not be of type number. Received type number');const U=B.valueOf&&B.valueOf();if(null!=U&&U!==B)return A.from(U,w,m);const ne=function te(B){if(A.isBuffer(B)){const w=0|J(B.length),m=R(w);return 0===m.length||B.copy(m,0,0,w),m}return void 0!==B.length?"number"!=typeof B.length||_t(B.length)?R(0):j(B):"Buffer"===B.type&&Array.isArray(B.data)?j(B.data):void 0}(B);if(ne)return ne;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof B[Symbol.toPrimitive])return A.from(B[Symbol.toPrimitive]("string"),w,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}function F(B){if("number"!=typeof B)throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function I(B){return F(B),R(B<0?0:0|J(B))}function j(B){const w=B.length<0?0:0|J(B.length),m=R(w);for(let U=0;U<w;U+=1)m[U]=255&B[U];return m}function re(B,w,m){if(w<0||B.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<w+(m||0))throw new RangeError('"length" is outside of buffer bounds');let U;return U=void 0===w&&void 0===m?new Uint8Array(B):void 0===m?new Uint8Array(B,w):new Uint8Array(B,w,m),Object.setPrototypeOf(U,A.prototype),U}function J(B){if(B>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|B}function oe(B,w){if(A.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||Le(B,ArrayBuffer))return B.byteLength;if("string"!=typeof B)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);const m=B.length,U=arguments.length>2&&!0===arguments[2];if(!U&&0===m)return 0;let ne=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return ie(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*m;case"hex":return m>>>1;case"base64":return ke(B).length;default:if(ne)return U?-1:ie(B).length;w=(""+w).toLowerCase(),ne=!0}}function ae(B,w,m){let U=!1;if((void 0===w||w<0)&&(w=0),w>this.length||((void 0===m||m>this.length)&&(m=this.length),m<=0)||(m>>>=0)<=(w>>>=0))return"";for(B||(B="utf8");;)switch(B){case"hex":return M(this,w,m);case"utf8":case"utf-8":return y(this,w,m);case"ascii":return T(this,w,m);case"latin1":case"binary":return N(this,w,m);case"base64":return u(this,w,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,w,m);default:if(U)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),U=!0}}function se(B,w,m){const U=B[w];B[w]=B[m],B[m]=U}function de(B,w,m,U,ne){if(0===B.length)return-1;if("string"==typeof m?(U=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),_t(m=+m)&&(m=ne?0:B.length-1),m<0&&(m=B.length+m),m>=B.length){if(ne)return-1;m=B.length-1}else if(m<0){if(!ne)return-1;m=0}if("string"==typeof w&&(w=A.from(w,U)),A.isBuffer(w))return 0===w.length?-1:le(B,w,m,U,ne);if("number"==typeof w)return w&=255,"function"==typeof Uint8Array.prototype.indexOf?ne?Uint8Array.prototype.indexOf.call(B,w,m):Uint8Array.prototype.lastIndexOf.call(B,w,m):le(B,[w],m,U,ne);throw new TypeError("val must be string, number or Buffer")}function le(B,w,m,U,ne){let gt,ge=1,Ae=B.length,Qe=w.length;if(void 0!==U&&("ucs2"===(U=String(U).toLowerCase())||"ucs-2"===U||"utf16le"===U||"utf-16le"===U)){if(B.length<2||w.length<2)return-1;ge=2,Ae/=2,Qe/=2,m/=2}function Bt(It,Gt){return 1===ge?It[Gt]:It.readUInt16BE(Gt*ge)}if(ne){let It=-1;for(gt=m;gt<Ae;gt++)if(Bt(B,gt)===Bt(w,-1===It?0:gt-It)){if(-1===It&&(It=gt),gt-It+1===Qe)return It*ge}else-1!==It&&(gt-=gt-It),It=-1}else for(m+Qe>Ae&&(m=Ae-Qe),gt=m;gt>=0;gt--){let It=!0;for(let Gt=0;Gt<Qe;Gt++)if(Bt(B,gt+Gt)!==Bt(w,Gt)){It=!1;break}if(It)return gt}return-1}function we(B,w,m,U){m=Number(m)||0;const ne=B.length-m;U?(U=Number(U))>ne&&(U=ne):U=ne;const ge=w.length;let Ae;for(U>ge/2&&(U=ge/2),Ae=0;Ae<U;++Ae){const Qe=parseInt(w.substr(2*Ae,2),16);if(_t(Qe))return Ae;B[m+Ae]=Qe}return Ae}function xe(B,w,m,U){return Ue(ie(w,B.length-m),B,m,U)}function Ce(B,w,m,U){return Ue(function ue(B){const w=[];for(let m=0;m<B.length;++m)w.push(255&B.charCodeAt(m));return w}(w),B,m,U)}function C(B,w,m,U){return Ue(ke(w),B,m,U)}function a(B,w,m,U){return Ue(function Ee(B,w){let m,U,ne;const ge=[];for(let Ae=0;Ae<B.length&&!((w-=2)<0);++Ae)m=B.charCodeAt(Ae),U=m>>8,ne=m%256,ge.push(ne),ge.push(U);return ge}(w,B.length-m),B,m,U)}function u(B,w,m){return p.fromByteArray(0===w&&m===B.length?B:B.slice(w,m))}function y(B,w,m){m=Math.min(B.length,m);const U=[];let ne=w;for(;ne<m;){const ge=B[ne];let Ae=null,Qe=ge>239?4:ge>223?3:ge>191?2:1;if(ne+Qe<=m){let Bt,gt,It,Gt;switch(Qe){case 1:ge<128&&(Ae=ge);break;case 2:Bt=B[ne+1],128==(192&Bt)&&(Gt=(31&ge)<<6|63&Bt,Gt>127&&(Ae=Gt));break;case 3:Bt=B[ne+1],gt=B[ne+2],128==(192&Bt)&&128==(192&gt)&&(Gt=(15&ge)<<12|(63&Bt)<<6|63&gt,Gt>2047&&(Gt<55296||Gt>57343)&&(Ae=Gt));break;case 4:Bt=B[ne+1],gt=B[ne+2],It=B[ne+3],128==(192&Bt)&&128==(192&gt)&&128==(192&It)&&(Gt=(15&ge)<<18|(63&Bt)<<12|(63&gt)<<6|63&It,Gt>65535&&Gt<1114112&&(Ae=Gt))}}null===Ae?(Ae=65533,Qe=1):Ae>65535&&(Ae-=65536,U.push(Ae>>>10&1023|55296),Ae=56320|1023&Ae),U.push(Ae),ne+=Qe}return function S(B){const w=B.length;if(w<=g)return String.fromCharCode.apply(String,B);let m="",U=0;for(;U<w;)m+=String.fromCharCode.apply(String,B.slice(U,U+=g));return m}(U)}z.kMaxLength=H,!(A.TYPED_ARRAY_SUPPORT=function x(){try{const B=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(B,w),42===B.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(B,w,m){return O(B,w,m)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(B,w,m){return function L(B,w,m){return F(B),B<=0?R(B):void 0!==w?"string"==typeof m?R(B).fill(w,m):R(B).fill(w):R(B)}(B,w,m)},A.allocUnsafe=function(B){return I(B)},A.allocUnsafeSlow=function(B){return I(B)},A.isBuffer=function(w){return null!=w&&!0===w._isBuffer&&w!==A.prototype},A.compare=function(w,m){if(Le(w,Uint8Array)&&(w=A.from(w,w.offset,w.byteLength)),Le(m,Uint8Array)&&(m=A.from(m,m.offset,m.byteLength)),!A.isBuffer(w)||!A.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===m)return 0;let U=w.length,ne=m.length;for(let ge=0,Ae=Math.min(U,ne);ge<Ae;++ge)if(w[ge]!==m[ge]){U=w[ge],ne=m[ge];break}return U<ne?-1:ne<U?1:0},A.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(w,m){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(0===w.length)return A.alloc(0);let U;if(void 0===m)for(m=0,U=0;U<w.length;++U)m+=w[U].length;const ne=A.allocUnsafe(m);let ge=0;for(U=0;U<w.length;++U){let Ae=w[U];if(Le(Ae,Uint8Array))ge+Ae.length>ne.length?(A.isBuffer(Ae)||(Ae=A.from(Ae)),Ae.copy(ne,ge)):Uint8Array.prototype.set.call(ne,Ae,ge);else{if(!A.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(ne,ge)}ge+=Ae.length}return ne},A.byteLength=oe,A.prototype._isBuffer=!0,A.prototype.swap16=function(){const w=this.length;if(w%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<w;m+=2)se(this,m,m+1);return this},A.prototype.swap32=function(){const w=this.length;if(w%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<w;m+=4)se(this,m,m+3),se(this,m+1,m+2);return this},A.prototype.swap64=function(){const w=this.length;if(w%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<w;m+=8)se(this,m,m+7),se(this,m+1,m+6),se(this,m+2,m+5),se(this,m+3,m+4);return this},A.prototype.toLocaleString=A.prototype.toString=function(){const w=this.length;return 0===w?"":0===arguments.length?y(this,0,w):ae.apply(this,arguments)},A.prototype.equals=function(w){if(!A.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w||0===A.compare(this,w)},A.prototype.inspect=function(){let w="";const m=z.INSPECT_MAX_BYTES;return w=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(w+=" ... "),"<Buffer "+w+">"},k&&(A.prototype[k]=A.prototype.inspect),A.prototype.compare=function(w,m,U,ne,ge){if(Le(w,Uint8Array)&&(w=A.from(w,w.offset,w.byteLength)),!A.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(void 0===m&&(m=0),void 0===U&&(U=w?w.length:0),void 0===ne&&(ne=0),void 0===ge&&(ge=this.length),m<0||U>w.length||ne<0||ge>this.length)throw new RangeError("out of range index");if(ne>=ge&&m>=U)return 0;if(ne>=ge)return-1;if(m>=U)return 1;if(this===w)return 0;let Ae=(ge>>>=0)-(ne>>>=0),Qe=(U>>>=0)-(m>>>=0);const Bt=Math.min(Ae,Qe),gt=this.slice(ne,ge),It=w.slice(m,U);for(let Gt=0;Gt<Bt;++Gt)if(gt[Gt]!==It[Gt]){Ae=gt[Gt],Qe=It[Gt];break}return Ae<Qe?-1:Qe<Ae?1:0},A.prototype.includes=function(w,m,U){return-1!==this.indexOf(w,m,U)},A.prototype.indexOf=function(w,m,U){return de(this,w,m,U,!0)},A.prototype.lastIndexOf=function(w,m,U){return de(this,w,m,U,!1)},A.prototype.write=function(w,m,U,ne){if(void 0===m)ne="utf8",U=this.length,m=0;else if(void 0===U&&"string"==typeof m)ne=m,U=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m>>>=0,isFinite(U)?(U>>>=0,void 0===ne&&(ne="utf8")):(ne=U,U=void 0)}const ge=this.length-m;if((void 0===U||U>ge)&&(U=ge),w.length>0&&(U<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");let Ae=!1;for(;;)switch(ne){case"hex":return we(this,w,m,U);case"utf8":case"utf-8":return xe(this,w,m,U);case"ascii":case"latin1":case"binary":return Ce(this,w,m,U);case"base64":return C(this,w,m,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,w,m,U);default:if(Ae)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),Ae=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const g=4096;function T(B,w,m){let U="";m=Math.min(B.length,m);for(let ne=w;ne<m;++ne)U+=String.fromCharCode(127&B[ne]);return U}function N(B,w,m){let U="";m=Math.min(B.length,m);for(let ne=w;ne<m;++ne)U+=String.fromCharCode(B[ne]);return U}function M(B,w,m){const U=B.length;(!w||w<0)&&(w=0),(!m||m<0||m>U)&&(m=U);let ne="";for(let ge=w;ge<m;++ge)ne+=Ve[B[ge]];return ne}function s(B,w,m){const U=B.slice(w,m);let ne="";for(let ge=0;ge<U.length-1;ge+=2)ne+=String.fromCharCode(U[ge]+256*U[ge+1]);return ne}function v(B,w,m){if(B%1!=0||B<0)throw new RangeError("offset is not uint");if(B+w>m)throw new RangeError("Trying to access beyond buffer length")}function W(B,w,m,U,ne,ge){if(!A.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>ne||w<ge)throw new RangeError('"value" argument is out of bounds');if(m+U>B.length)throw new RangeError("Index out of range")}function K(B,w,m,U,ne){ye(w,U,ne,B,m,7);let ge=Number(w&BigInt(4294967295));B[m++]=ge,ge>>=8,B[m++]=ge,ge>>=8,B[m++]=ge,ge>>=8,B[m++]=ge;let Ae=Number(w>>BigInt(32)&BigInt(4294967295));return B[m++]=Ae,Ae>>=8,B[m++]=Ae,Ae>>=8,B[m++]=Ae,Ae>>=8,B[m++]=Ae,m}function ee(B,w,m,U,ne){ye(w,U,ne,B,m,7);let ge=Number(w&BigInt(4294967295));B[m+7]=ge,ge>>=8,B[m+6]=ge,ge>>=8,B[m+5]=ge,ge>>=8,B[m+4]=ge;let Ae=Number(w>>BigInt(32)&BigInt(4294967295));return B[m+3]=Ae,Ae>>=8,B[m+2]=Ae,Ae>>=8,B[m+1]=Ae,Ae>>=8,B[m]=Ae,m+8}function ce(B,w,m,U,ne,ge){if(m+U>B.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function _e(B,w,m,U,ne){return w=+w,m>>>=0,ne||ce(B,0,m,4),E.write(B,w,m,U,23,4),m+4}function Pe(B,w,m,U,ne){return w=+w,m>>>=0,ne||ce(B,0,m,8),E.write(B,w,m,U,52,8),m+8}A.prototype.slice=function(w,m){const U=this.length;(w=~~w)<0?(w+=U)<0&&(w=0):w>U&&(w=U),(m=void 0===m?U:~~m)<0?(m+=U)<0&&(m=0):m>U&&(m=U),m<w&&(m=w);const ne=this.subarray(w,m);return Object.setPrototypeOf(ne,A.prototype),ne},A.prototype.readUintLE=A.prototype.readUIntLE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[w+Ae]*ge;return ne},A.prototype.readUintBE=A.prototype.readUIntBE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w+--m],ge=1;for(;m>0&&(ge*=256);)ne+=this[w+--m]*ge;return ne},A.prototype.readUint8=A.prototype.readUInt8=function(w,m){return w>>>=0,m||v(w,1,this.length),this[w]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(w,m){return w>>>=0,m||v(w,2,this.length),this[w]|this[w+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(w,m){return w>>>=0,m||v(w,2,this.length),this[w]<<8|this[w+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(w,m){return w>>>=0,m||v(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+16777216*this[w+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(w,m){return w>>>=0,m||v(w,4,this.length),16777216*this[w]+(this[w+1]<<16|this[w+2]<<8|this[w+3])},A.prototype.readBigUInt64LE=Be(function(w){Te(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=m+256*this[++w]+65536*this[++w]+this[++w]*2**24,ge=this[++w]+256*this[++w]+65536*this[++w]+U*2**24;return BigInt(ne)+(BigInt(ge)<<BigInt(32))}),A.prototype.readBigUInt64BE=Be(function(w){Te(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=m*2**24+65536*this[++w]+256*this[++w]+this[++w],ge=this[++w]*2**24+65536*this[++w]+256*this[++w]+U;return(BigInt(ne)<<BigInt(32))+BigInt(ge)}),A.prototype.readIntLE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[w+Ae]*ge;return ge*=128,ne>=ge&&(ne-=Math.pow(2,8*m)),ne},A.prototype.readIntBE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=m,ge=1,Ae=this[w+--ne];for(;ne>0&&(ge*=256);)Ae+=this[w+--ne]*ge;return ge*=128,Ae>=ge&&(Ae-=Math.pow(2,8*m)),Ae},A.prototype.readInt8=function(w,m){return w>>>=0,m||v(w,1,this.length),128&this[w]?-1*(255-this[w]+1):this[w]},A.prototype.readInt16LE=function(w,m){w>>>=0,m||v(w,2,this.length);const U=this[w]|this[w+1]<<8;return 32768&U?4294901760|U:U},A.prototype.readInt16BE=function(w,m){w>>>=0,m||v(w,2,this.length);const U=this[w+1]|this[w]<<8;return 32768&U?4294901760|U:U},A.prototype.readInt32LE=function(w,m){return w>>>=0,m||v(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},A.prototype.readInt32BE=function(w,m){return w>>>=0,m||v(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},A.prototype.readBigInt64LE=Be(function(w){Te(w>>>=0,"offset");const m=this[w],U=this[w+7];return(void 0===m||void 0===U)&&pe(w,this.length-8),(BigInt(this[w+4]+256*this[w+5]+65536*this[w+6]+(U<<24))<<BigInt(32))+BigInt(m+256*this[++w]+65536*this[++w]+this[++w]*2**24)}),A.prototype.readBigInt64BE=Be(function(w){Te(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=(m<<24)+65536*this[++w]+256*this[++w]+this[++w];return(BigInt(ne)<<BigInt(32))+BigInt(this[++w]*2**24+65536*this[++w]+256*this[++w]+U)}),A.prototype.readFloatLE=function(w,m){return w>>>=0,m||v(w,4,this.length),E.read(this,w,!0,23,4)},A.prototype.readFloatBE=function(w,m){return w>>>=0,m||v(w,4,this.length),E.read(this,w,!1,23,4)},A.prototype.readDoubleLE=function(w,m){return w>>>=0,m||v(w,8,this.length),E.read(this,w,!0,52,8)},A.prototype.readDoubleBE=function(w,m){return w>>>=0,m||v(w,8,this.length),E.read(this,w,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(w,m,U,ne){w=+w,m>>>=0,U>>>=0,ne||W(this,w,m,U,Math.pow(2,8*U)-1,0);let ge=1,Ae=0;for(this[m]=255&w;++Ae<U&&(ge*=256);)this[m+Ae]=w/ge&255;return m+U},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(w,m,U,ne){w=+w,m>>>=0,U>>>=0,ne||W(this,w,m,U,Math.pow(2,8*U)-1,0);let ge=U-1,Ae=1;for(this[m+ge]=255&w;--ge>=0&&(Ae*=256);)this[m+ge]=w/Ae&255;return m+U},A.prototype.writeUint8=A.prototype.writeUInt8=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,1,255,0),this[m]=255&w,m+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,65535,0),this[m]=255&w,this[m+1]=w>>>8,m+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,65535,0),this[m]=w>>>8,this[m+1]=255&w,m+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,4294967295,0),this[m+3]=w>>>24,this[m+2]=w>>>16,this[m+1]=w>>>8,this[m]=255&w,m+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,4294967295,0),this[m]=w>>>24,this[m+1]=w>>>16,this[m+2]=w>>>8,this[m+3]=255&w,m+4},A.prototype.writeBigUInt64LE=Be(function(w,m=0){return K(this,w,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=Be(function(w,m=0){return ee(this,w,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(w,m,U,ne){if(w=+w,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,w,m,U,Bt-1,-Bt)}let ge=0,Ae=1,Qe=0;for(this[m]=255&w;++ge<U&&(Ae*=256);)w<0&&0===Qe&&0!==this[m+ge-1]&&(Qe=1),this[m+ge]=(w/Ae|0)-Qe&255;return m+U},A.prototype.writeIntBE=function(w,m,U,ne){if(w=+w,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,w,m,U,Bt-1,-Bt)}let ge=U-1,Ae=1,Qe=0;for(this[m+ge]=255&w;--ge>=0&&(Ae*=256);)w<0&&0===Qe&&0!==this[m+ge+1]&&(Qe=1),this[m+ge]=(w/Ae|0)-Qe&255;return m+U},A.prototype.writeInt8=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,1,127,-128),w<0&&(w=255+w+1),this[m]=255&w,m+1},A.prototype.writeInt16LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,32767,-32768),this[m]=255&w,this[m+1]=w>>>8,m+2},A.prototype.writeInt16BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,32767,-32768),this[m]=w>>>8,this[m+1]=255&w,m+2},A.prototype.writeInt32LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,2147483647,-2147483648),this[m]=255&w,this[m+1]=w>>>8,this[m+2]=w>>>16,this[m+3]=w>>>24,m+4},A.prototype.writeInt32BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[m]=w>>>24,this[m+1]=w>>>16,this[m+2]=w>>>8,this[m+3]=255&w,m+4},A.prototype.writeBigInt64LE=Be(function(w,m=0){return K(this,w,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=Be(function(w,m=0){return ee(this,w,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeFloatLE=function(w,m,U){return _e(this,w,m,!0,U)},A.prototype.writeFloatBE=function(w,m,U){return _e(this,w,m,!1,U)},A.prototype.writeDoubleLE=function(w,m,U){return Pe(this,w,m,!0,U)},A.prototype.writeDoubleBE=function(w,m,U){return Pe(this,w,m,!1,U)},A.prototype.copy=function(w,m,U,ne){if(!A.isBuffer(w))throw new TypeError("argument should be a Buffer");if(U||(U=0),!ne&&0!==ne&&(ne=this.length),m>=w.length&&(m=w.length),m||(m=0),ne>0&&ne<U&&(ne=U),ne===U||0===w.length||0===this.length)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),w.length-m<ne-U&&(ne=w.length-m+U);const ge=ne-U;return this===w&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(m,U,ne):Uint8Array.prototype.set.call(w,this.subarray(U,ne),m),ge},A.prototype.fill=function(w,m,U,ne){if("string"==typeof w){if("string"==typeof m?(ne=m,m=0,U=this.length):"string"==typeof U&&(ne=U,U=this.length),void 0!==ne&&"string"!=typeof ne)throw new TypeError("encoding must be a string");if("string"==typeof ne&&!A.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(1===w.length){const Ae=w.charCodeAt(0);("utf8"===ne&&Ae<128||"latin1"===ne)&&(w=Ae)}}else"number"==typeof w?w&=255:"boolean"==typeof w&&(w=Number(w));if(m<0||this.length<m||this.length<U)throw new RangeError("Out of range index");if(U<=m)return this;let ge;if(m>>>=0,U=void 0===U?this.length:U>>>0,w||(w=0),"number"==typeof w)for(ge=m;ge<U;++ge)this[ge]=w;else{const Ae=A.isBuffer(w)?w:A.from(w,ne),Qe=Ae.length;if(0===Qe)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(ge=0;ge<U-m;++ge)this[ge+m]=Ae[ge%Qe]}return this};const $e={};function Se(B,w,m){$e[B]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${B}]`,delete this.name}get code(){return B}set code(ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ne,writable:!0})}toString(){return`${this.name} [${B}]: ${this.message}`}}}function be(B){let w="",m=B.length;const U="-"===B[0]?1:0;for(;m>=U+4;m-=3)w=`_${B.slice(m-3,m)}${w}`;return`${B.slice(0,m)}${w}`}function ye(B,w,m,U,ne,ge){if(B>m||B<w){const Ae="bigint"==typeof w?"n":"";let Qe;throw Qe=ge>3?0===w||w===BigInt(0)?`>= 0${Ae} and < 2${Ae} ** ${8*(ge+1)}${Ae}`:`>= -(2${Ae} ** ${8*(ge+1)-1}${Ae}) and < 2 ** ${8*(ge+1)-1}${Ae}`:`>= ${w}${Ae} and <= ${m}${Ae}`,new $e.ERR_OUT_OF_RANGE("value",Qe,B)}!function Ne(B,w,m){Te(w,"offset"),(void 0===B[w]||void 0===B[w+m])&&pe(w,B.length-(m+1))}(U,ne,ge)}function Te(B,w){if("number"!=typeof B)throw new $e.ERR_INVALID_ARG_TYPE(w,"number",B)}function pe(B,w,m){throw Math.floor(B)!==B?(Te(B,m),new $e.ERR_OUT_OF_RANGE(m||"offset","an integer",B)):w<0?new $e.ERR_BUFFER_OUT_OF_BOUNDS:new $e.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${w}`,B)}Se("ERR_BUFFER_OUT_OF_BOUNDS",function(B){return B?`${B} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Se("ERR_INVALID_ARG_TYPE",function(B,w){return`The "${B}" argument must be of type number. Received type ${typeof w}`},TypeError),Se("ERR_OUT_OF_RANGE",function(B,w,m){let U=`The value of "${B}" is out of range.`,ne=m;return Number.isInteger(m)&&Math.abs(m)>2**32?ne=be(String(m)):"bigint"==typeof m&&(ne=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(ne=be(ne)),ne+="n"),U+=` It must be ${w}. Received ${ne}`,U},RangeError);const fe=/[^+/0-9A-Za-z-_]/g;function ie(B,w){let m;w=w||1/0;const U=B.length;let ne=null;const ge=[];for(let Ae=0;Ae<U;++Ae){if(m=B.charCodeAt(Ae),m>55295&&m<57344){if(!ne){if(m>56319){(w-=3)>-1&&ge.push(239,191,189);continue}if(Ae+1===U){(w-=3)>-1&&ge.push(239,191,189);continue}ne=m;continue}if(m<56320){(w-=3)>-1&&ge.push(239,191,189),ne=m;continue}m=65536+(ne-55296<<10|m-56320)}else ne&&(w-=3)>-1&&ge.push(239,191,189);if(ne=null,m<128){if((w-=1)<0)break;ge.push(m)}else if(m<2048){if((w-=2)<0)break;ge.push(m>>6|192,63&m|128)}else if(m<65536){if((w-=3)<0)break;ge.push(m>>12|224,m>>6&63|128,63&m|128)}else{if(!(m<1114112))throw new Error("Invalid code point");if((w-=4)<0)break;ge.push(m>>18|240,m>>12&63|128,m>>6&63|128,63&m|128)}}return ge}function ke(B){return p.toByteArray(function Q(B){if((B=(B=B.split("=")[0]).trim().replace(fe,"")).length<2)return"";for(;B.length%4!=0;)B+="=";return B}(B))}function Ue(B,w,m,U){let ne;for(ne=0;ne<U&&!(ne+m>=w.length||ne>=B.length);++ne)w[ne+m]=B[ne];return ne}function Le(B,w){return B instanceof w||null!=B&&null!=B.constructor&&null!=B.constructor.name&&B.constructor.name===w.name}function _t(B){return B!=B}const Ve=function(){const B="0123456789abcdef",w=new Array(256);for(let m=0;m<16;++m){const U=16*m;for(let ne=0;ne<16;++ne)w[U+ne]=B[m]+B[ne]}return w}();function Be(B){return typeof BigInt>"u"?lt:B}function lt(){throw new Error("BigInt not supported")}},14078:Fe=>{var z=1e3,_=60*z,p=60*_,E=24*p,k=7*E;function O(F,L,I,Z){var j=L>=1.5*I;return Math.round(F/I)+" "+Z+(j?"s":"")}Fe.exports=function(F,L){L=L||{};var I=typeof F;if("string"===I&&F.length>0)return function x(F){if(!((F=String(F)).length>100)){var L=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(F);if(L){var I=parseFloat(L[1]);switch((L[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*I;case"weeks":case"week":case"w":return I*k;case"days":case"day":case"d":return I*E;case"hours":case"hour":case"hrs":case"hr":case"h":return I*p;case"minutes":case"minute":case"mins":case"min":case"m":return I*_;case"seconds":case"second":case"secs":case"sec":case"s":return I*z;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return I;default:return}}}}(F);if("number"===I&&isFinite(F))return L.long?function A(F){var L=Math.abs(F);return L>=E?O(F,L,E,"day"):L>=p?O(F,L,p,"hour"):L>=_?O(F,L,_,"minute"):L>=z?O(F,L,z,"second"):F+" ms"}(F):function R(F){var L=Math.abs(F);return L>=E?Math.round(F/E)+"d":L>=p?Math.round(F/p)+"h":L>=_?Math.round(F/_)+"m":L>=z?Math.round(F/z)+"s":F+"ms"}(F);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(F))}},57062:(Fe,z,_)=>{"use strict";const{SymbolDispose:p}=_(56389),{AbortError:E,codes:k}=_(68154),{isNodeStream:H,isWebStream:x,kControllerErrorFunction:R}=_(32924),A=_(46017),{ERR_INVALID_ARG_TYPE:O}=k;let F;Fe.exports.addAbortSignal=function(Z,j){if(((I,Z)=>{if("object"!=typeof I||!("aborted"in I))throw new O("signal","AbortSignal",I)})(Z),!H(j)&&!x(j))throw new O("stream",["ReadableStream","WritableStream","Stream"],j);return Fe.exports.addAbortSignalNoValidate(Z,j)},Fe.exports.addAbortSignalNoValidate=function(I,Z){if("object"!=typeof I||!("aborted"in I))return Z;const j=H(Z)?()=>{Z.destroy(new E(void 0,{cause:I.reason}))}:()=>{Z[R](new E(void 0,{cause:I.reason}))};if(I.aborted)j();else{F=F||_(13509).addAbortListener;const G=F(I,j);A(Z,G[p])}return Z}},16630:(Fe,z,_)=>{"use strict";const{StringPrototypeSlice:p,SymbolIterator:E,TypedArrayPrototypeSet:k,Uint8Array:H}=_(56389),{Buffer:x}=_(68316),{inspect:R}=_(13509);Fe.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(O){const F={data:O,next:null};this.length>0?this.tail.next=F:this.head=F,this.tail=F,++this.length}unshift(O){const F={data:O,next:this.head};0===this.length&&(this.tail=F),this.head=F,++this.length}shift(){if(0===this.length)return;const O=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,O}clear(){this.head=this.tail=null,this.length=0}join(O){if(0===this.length)return"";let F=this.head,L=""+F.data;for(;null!==(F=F.next);)L+=O+F.data;return L}concat(O){if(0===this.length)return x.alloc(0);const F=x.allocUnsafe(O>>>0);let L=this.head,I=0;for(;L;)k(F,L.data,I),I+=L.data.length,L=L.next;return F}consume(O,F){const L=this.head.data;if(O<L.length){const I=L.slice(0,O);return this.head.data=L.slice(O),I}return O===L.length?this.shift():F?this._getString(O):this._getBuffer(O)}first(){return this.head.data}*[E](){for(let O=this.head;O;O=O.next)yield O.data}_getString(O){let F="",L=this.head,I=0;do{const Z=L.data;if(!(O>Z.length)){O===Z.length?(F+=Z,++I,this.head=L.next?L.next:this.tail=null):(F+=p(Z,0,O),this.head=L,L.data=p(Z,O));break}F+=Z,O-=Z.length,++I}while(null!==(L=L.next));return this.length-=I,F}_getBuffer(O){const F=x.allocUnsafe(O),L=O;let I=this.head,Z=0;do{const j=I.data;if(!(O>j.length)){O===j.length?(k(F,j,L-O),++Z,this.head=I.next?I.next:this.tail=null):(k(F,new H(j.buffer,j.byteOffset,O),L-O),this.head=I,I.data=j.slice(O));break}k(F,j,L-O),O-=j.length,++Z}while(null!==(I=I.next));return this.length-=Z,F}[Symbol.for("nodejs.util.inspect.custom")](O,F){return R(this,{...F,depth:0,customInspect:!1})}}},373:(Fe,z,_)=>{"use strict";var p=_(29293).default;const{pipeline:E}=_(67843),k=_(13323),{destroyer:H}=_(96507),{isNodeStream:x,isReadable:R,isWritable:A,isWebStream:O,isTransformStream:F,isWritableStream:L,isReadableStream:I}=_(32924),{AbortError:Z,codes:{ERR_INVALID_ARG_VALUE:j,ERR_MISSING_ARGS:G}}=_(68154),re=_(46017);Fe.exports=function(...J){if(0===J.length)throw new G("streams");if(1===J.length)return k.from(J[0]);const Y=[...J];if("function"==typeof J[0]&&(J[0]=k.from(J[0])),"function"==typeof J[J.length-1]){const u=J.length-1;J[u]=k.from(J[u])}for(let u=0;u<J.length;++u)if(x(J[u])||O(J[u])){if(u<J.length-1&&!(R(J[u])||I(J[u])||F(J[u])))throw new j(`streams[${u}]`,Y[u],"must be readable");if(u>0&&!(A(J[u])||L(J[u])||F(J[u])))throw new j(`streams[${u}]`,Y[u],"must be writable")}let oe,ae,se,de,le;const xe=J[0],Ce=E(J,function we(u){const y=de;de=null,y?y(u):u?le.destroy(u):!a&&!C&&le.destroy()}),C=!!(A(xe)||L(xe)||F(xe)),a=!!(R(Ce)||I(Ce)||F(Ce));if(le=new k({writableObjectMode:!(null==xe||!xe.writableObjectMode),readableObjectMode:!(null==Ce||!Ce.readableObjectMode),writable:C,readable:a}),C){if(x(xe))le._write=function(y,g,S){xe.write(y,g)?S():oe=S},le._final=function(y){xe.end(),ae=y},xe.on("drain",function(){if(oe){const y=oe;oe=null,y()}});else if(O(xe)){const g=(F(xe)?xe.writable:xe).getWriter();le._write=function(){var S=p(function*(T,N,M){try{yield g.ready,g.write(T).catch(()=>{}),M()}catch(s){M(s)}});return function(T,N,M){return S.apply(this,arguments)}}(),le._final=function(){var S=p(function*(T){try{yield g.ready,g.close().catch(()=>{}),ae=T}catch(N){T(N)}});return function(T){return S.apply(this,arguments)}}()}const u=F(Ce)?Ce.readable:Ce;re(u,()=>{if(ae){const y=ae;ae=null,y()}})}if(a)if(x(Ce))Ce.on("readable",function(){if(se){const u=se;se=null,u()}}),Ce.on("end",function(){le.push(null)}),le._read=function(){for(;;){const u=Ce.read();if(null===u)return void(se=le._read);if(!le.push(u))return}};else if(O(Ce)){const y=(F(Ce)?Ce.readable:Ce).getReader();le._read=p(function*(){for(;;)try{const{value:g,done:S}=yield y.read();if(!le.push(g))return;if(S)return void le.push(null)}catch{return}})}return le._destroy=function(u,y){!u&&null!==de&&(u=new Z),se=null,oe=null,ae=null,null===de?y(u):(de=y,x(Ce)&&H(Ce,u))},le}},96507:(Fe,z,_)=>{"use strict";const p=_(40573),{aggregateTwoErrors:E,codes:{ERR_MULTIPLE_CALLBACK:k},AbortError:H}=_(68154),{Symbol:x}=_(56389),{kIsDestroyed:R,isDestroyed:A,isFinished:O,isServerRequest:F}=_(32924),L=x("kDestroy"),I=x("kConstruct");function Z(C,a,u){C&&(a&&!a.errored&&(a.errored=C),u&&!u.errored&&(u.errored=C))}function G(C,a,u){let y=!1;function g(S){if(y)return;y=!0;const T=C._readableState,N=C._writableState;Z(S,N,T),N&&(N.closed=!0),T&&(T.closed=!0),"function"==typeof u&&u(S),S?p.nextTick(re,C,S):p.nextTick(te,C)}try{C._destroy(a||null,g)}catch(S){g(S)}}function re(C,a){J(C,a),te(C)}function te(C){const a=C._readableState,u=C._writableState;u&&(u.closeEmitted=!0),a&&(a.closeEmitted=!0),(null!=u&&u.emitClose||null!=a&&a.emitClose)&&C.emit("close")}function J(C,a){const u=C._readableState,y=C._writableState;null!=y&&y.errorEmitted||null!=u&&u.errorEmitted||(y&&(y.errorEmitted=!0),u&&(u.errorEmitted=!0),C.emit("error",a))}function oe(C,a,u){const y=C._readableState,g=C._writableState;if(null!=g&&g.destroyed||null!=y&&y.destroyed)return this;null!=y&&y.autoDestroy||null!=g&&g.autoDestroy?C.destroy(a):a&&(g&&!g.errored&&(g.errored=a),y&&!y.errored&&(y.errored=a),u?p.nextTick(J,C,a):J(C,a))}function se(C){let a=!1;function u(y){if(a)return void oe(C,y??new k);a=!0;const g=C._readableState,S=C._writableState,T=S||g;g&&(g.constructed=!0),S&&(S.constructed=!0),T.destroyed?C.emit(L,y):y?oe(C,y,!0):p.nextTick(de,C)}try{C._construct(y=>{p.nextTick(u,y)})}catch(y){p.nextTick(u,y)}}function de(C){C.emit(I)}function le(C){return C?.setHeader&&"function"==typeof C.abort}function we(C){C.emit("close")}function xe(C,a){C.emit("error",a),p.nextTick(we,C)}Fe.exports={construct:function ae(C,a){if("function"!=typeof C._construct)return;const u=C._readableState,y=C._writableState;u&&(u.constructed=!1),y&&(y.constructed=!1),C.once(I,a),!(C.listenerCount(I)>1)&&p.nextTick(se,C)},destroyer:function Ce(C,a){!C||A(C)||(!a&&!O(C)&&(a=new H),F(C)?(C.socket=null,C.destroy(a)):le(C)?C.abort():le(C.req)?C.req.abort():"function"==typeof C.destroy?C.destroy(a):"function"==typeof C.close?C.close():a?p.nextTick(xe,C,a):p.nextTick(we,C),C.destroyed||(C[R]=!0))},destroy:function j(C,a){const u=this._readableState,y=this._writableState,g=y||u;return null!=y&&y.destroyed||null!=u&&u.destroyed?("function"==typeof a&&a(),this):(Z(C,y,u),y&&(y.destroyed=!0),u&&(u.destroyed=!0),g.constructed?G(this,C,a):this.once(L,function(S){G(this,E(S,C),a)}),this)},undestroy:function Y(){const C=this._readableState,a=this._writableState;C&&(C.constructed=!0,C.closed=!1,C.closeEmitted=!1,C.destroyed=!1,C.errored=null,C.errorEmitted=!1,C.reading=!1,C.ended=!1===C.readable,C.endEmitted=!1===C.readable),a&&(a.constructed=!0,a.destroyed=!1,a.closed=!1,a.closeEmitted=!1,a.errored=null,a.errorEmitted=!1,a.finalCalled=!1,a.prefinished=!1,a.ended=!1===a.writable,a.ending=!1===a.writable,a.finished=!1===a.writable)},errorOrDestroy:oe}},13323:(Fe,z,_)=>{"use strict";const{ObjectDefineProperties:p,ObjectGetOwnPropertyDescriptor:E,ObjectKeys:k,ObjectSetPrototypeOf:H}=_(56389);Fe.exports=A;const x=_(84553),R=_(30009);H(A.prototype,x.prototype),H(A,x);{const I=k(R.prototype);for(let Z=0;Z<I.length;Z++){const j=I[Z];A.prototype[j]||(A.prototype[j]=R.prototype[j])}}function A(I){if(!(this instanceof A))return new A(I);x.call(this,I),R.call(this,I),I?(this.allowHalfOpen=!1!==I.allowHalfOpen,!1===I.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===I.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let O,L;function F(){return void 0===O&&(O={}),O}p(A.prototype,{writable:{__proto__:null,...E(R.prototype,"writable")},writableHighWaterMark:{__proto__:null,...E(R.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...E(R.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...E(R.prototype,"writableBuffer")},writableLength:{__proto__:null,...E(R.prototype,"writableLength")},writableFinished:{__proto__:null,...E(R.prototype,"writableFinished")},writableCorked:{__proto__:null,...E(R.prototype,"writableCorked")},writableEnded:{__proto__:null,...E(R.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...E(R.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(I){this._readableState&&this._writableState&&(this._readableState.destroyed=I,this._writableState.destroyed=I)}}}),A.fromWeb=function(I,Z){return F().newStreamDuplexFromReadableWritablePair(I,Z)},A.toWeb=function(I){return F().newReadableWritablePairFromDuplex(I)},A.from=function(I){return L||(L=_(44425)),L(I,"body")}},44425:(Fe,z,_)=>{var p=_(29293).default,E=_(53344).default,k=_(42958).default;const H=_(40573),x=_(68316),{isReadable:R,isWritable:A,isIterable:O,isNodeStream:F,isReadableNodeStream:L,isWritableNodeStream:I,isDuplexNodeStream:Z,isReadableStream:j,isWritableStream:G}=_(32924),re=_(46017),{AbortError:te,codes:{ERR_INVALID_ARG_TYPE:J,ERR_INVALID_RETURN_VALUE:Y}}=_(68154),{destroyer:oe}=_(96507),ae=_(13323),se=_(84553),de=_(30009),{createDeferredPromise:le}=_(13509),we=_(45737),xe=globalThis.Blob||x.Blob,Ce=typeof xe<"u"?function(T){return T instanceof xe}:function(T){return!1},C=globalThis.AbortController||_(9465).AbortController,{FunctionPrototypeCall:a}=_(56389);class u extends ae{constructor(T){super(T),!1===T?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===T?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function g(S){const T=S.readable&&"function"!=typeof S.readable.read?se.wrap(S.readable):S.readable,N=S.writable;let v,W,K,ee,ce,M=!!R(T),s=!!A(N);function _e(Pe){const $e=ee;ee=null,$e?$e(Pe):Pe&&ce.destroy(Pe)}return ce=new u({readableObjectMode:!(null==T||!T.readableObjectMode),writableObjectMode:!(null==N||!N.writableObjectMode),readable:M,writable:s}),s&&(re(N,Pe=>{s=!1,Pe&&oe(T,Pe),_e(Pe)}),ce._write=function(Pe,$e,Se){N.write(Pe,$e)?Se():v=Se},ce._final=function(Pe){N.end(),W=Pe},N.on("drain",function(){if(v){const Pe=v;v=null,Pe()}}),N.on("finish",function(){if(W){const Pe=W;W=null,Pe()}})),M&&(re(T,Pe=>{M=!1,Pe&&oe(T,Pe),_e(Pe)}),T.on("readable",function(){if(K){const Pe=K;K=null,Pe()}}),T.on("end",function(){ce.push(null)}),ce._read=function(){for(;;){const Pe=T.read();if(null===Pe)return void(K=ce._read);if(!ce.push(Pe))return}}),ce._destroy=function(Pe,$e){!Pe&&null!==ee&&(Pe=new te),K=null,v=null,W=null,null===ee?$e(Pe):(ee=$e,oe(N,Pe),oe(T,Pe))},ce}Fe.exports=function S(T,N){if(Z(T))return T;if(L(T))return g({readable:T});if(I(T))return g({writable:T});if(F(T))return g({writable:!1,readable:!1});if(j(T))return g({readable:se.fromWeb(T)});if(G(T))return g({writable:de.fromWeb(T)});if("function"==typeof T){const{value:s,write:v,final:W,destroy:K}=function y(S){let{promise:T,resolve:N}=le();const M=new C,s=M.signal;return{value:S(k(function*(){for(;;){const W=T;T=null;const{chunk:K,done:ee,cb:ce}=yield E(W);if(H.nextTick(ce),ee)return;if(s.aborted)throw new te(void 0,{cause:s.reason});({promise:T,resolve:N}=le()),yield K}})(),{signal:s}),write(W,K,ee){const ce=N;N=null,ce({chunk:W,done:!1,cb:ee})},final(W){const K=N;N=null,K({done:!0,cb:W})},destroy(W,K){M.abort(),K(W)}}}(T);if(O(s))return we(u,s,{objectMode:!0,write:v,final:W,destroy:K});const ee=s?.then;if("function"==typeof ee){let ce;const _e=a(ee,s,Pe=>{if(null!=Pe)throw new Y("nully","body",Pe)},Pe=>{oe(ce,Pe)});return ce=new u({objectMode:!0,readable:!1,write:v,final(Pe){W(p(function*(){try{yield _e,H.nextTick(Pe,null)}catch($e){H.nextTick(Pe,$e)}}))},destroy:K})}throw new Y("Iterable, AsyncIterable or AsyncFunction",N,s)}if(Ce(T))return S(T.arrayBuffer());if(O(T))return we(u,T,{objectMode:!0,writable:!1});if(j(T?.readable)&&G(T?.writable))return u.fromWeb(T);if("object"==typeof T?.writable||"object"==typeof T?.readable)return g({readable:null!=T&&T.readable?L(T?.readable)?T?.readable:S(T.readable):void 0,writable:null!=T&&T.writable?I(T?.writable)?T?.writable:S(T.writable):void 0});const M=T?.then;if("function"==typeof M){let s;return a(M,T,v=>{null!=v&&s.push(v),s.push(null)},v=>{oe(s,v)}),s=new u({objectMode:!0,writable:!1,read(){}})}throw new J(N,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],T)}},46017:(Fe,z,_)=>{const p=_(40573),{AbortError:E,codes:k}=_(68154),{ERR_INVALID_ARG_TYPE:H,ERR_STREAM_PREMATURE_CLOSE:x}=k,{kEmptyObject:R,once:A}=_(13509),{validateAbortSignal:O,validateFunction:F,validateObject:L,validateBoolean:I}=_(99852),{Promise:Z,PromisePrototypeThen:j,SymbolDispose:G}=_(56389),{isClosed:re,isReadable:te,isReadableNodeStream:J,isReadableStream:Y,isReadableFinished:oe,isReadableErrored:ae,isWritable:se,isWritableNodeStream:de,isWritableStream:le,isWritableFinished:we,isWritableErrored:xe,isNodeStream:Ce,willEmitClose:C,kIsClosedPromise:a}=_(32924);let u;const g=()=>{};function S(M,s,v){var W,K;if(2===arguments.length?(v=s,s=R):null==s?s=R:L(s,"options"),F(v,"callback"),O(s.signal,"options.signal"),v=A(v),Y(M)||le(M))return function T(M,s,v){let W=!1,K=g;if(s.signal)if(K=()=>{W=!0,v.call(M,new E(void 0,{cause:s.signal.reason}))},s.signal.aborted)p.nextTick(K);else{u=u||_(13509).addAbortListener;const ce=u(s.signal,K),_e=v;v=A((...Pe)=>{ce[G](),_e.apply(M,Pe)})}const ee=(...ce)=>{W||p.nextTick(()=>v.apply(M,ce))};return j(M[a].promise,ee,ee),g}(M,s,v);if(!Ce(M))throw new H("stream",["ReadableStream","WritableStream","Stream"],M);const ee=null!==(W=s.readable)&&void 0!==W?W:J(M),ce=null!==(K=s.writable)&&void 0!==K?K:de(M),_e=M._writableState,Pe=M._readableState,$e=()=>{M.writable||Ne()};let Se=C(M)&&J(M)===ee&&de(M)===ce,be=we(M,!1);const Ne=()=>{be=!0,M.destroyed&&(Se=!1),(!Se||M.readable&&!ee)&&(!ee||ye)&&v.call(M)};let ye=oe(M,!1);const Te=()=>{ye=!0,M.destroyed&&(Se=!1),(!Se||M.writable&&!ce)&&(!ce||be)&&v.call(M)},pe=ke=>{v.call(M,ke)};let fe=re(M);const Q=()=>{fe=!0;const ke=xe(M)||ae(M);return ke&&"boolean"!=typeof ke?v.call(M,ke):ee&&!ye&&J(M,!0)&&!oe(M,!1)?v.call(M,new x):!ce||be||we(M,!1)?void v.call(M):v.call(M,new x)},ie=()=>{fe=!0;const ke=xe(M)||ae(M);if(ke&&"boolean"!=typeof ke)return v.call(M,ke);v.call(M)},ue=()=>{M.req.on("finish",Ne)};!function y(M){return M.setHeader&&"function"==typeof M.abort}(M)?ce&&!_e&&(M.on("end",$e),M.on("close",$e)):(M.on("complete",Ne),Se||M.on("abort",Q),M.req?ue():M.on("request",ue)),!Se&&"boolean"==typeof M.aborted&&M.on("aborted",Q),M.on("end",Te),M.on("finish",Ne),!1!==s.error&&M.on("error",pe),M.on("close",Q),fe?p.nextTick(Q):null!=_e&&_e.errorEmitted||null!=Pe&&Pe.errorEmitted?Se||p.nextTick(ie):(!ee&&(!Se||te(M))&&(be||!1===se(M))||!ce&&(!Se||se(M))&&(ye||!1===te(M))||Pe&&M.req&&M.aborted)&&p.nextTick(ie);const Ee=()=>{v=g,M.removeListener("aborted",Q),M.removeListener("complete",Ne),M.removeListener("abort",Q),M.removeListener("request",ue),M.req&&M.req.removeListener("finish",Ne),M.removeListener("end",$e),M.removeListener("close",$e),M.removeListener("finish",Ne),M.removeListener("end",Te),M.removeListener("error",pe),M.removeListener("close",Q)};if(s.signal&&!fe){const ke=()=>{const Ue=v;Ee(),Ue.call(M,new E(void 0,{cause:s.signal.reason}))};if(s.signal.aborted)p.nextTick(ke);else{u=u||_(13509).addAbortListener;const Ue=u(s.signal,ke),Le=v;v=A((..._t)=>{Ue[G](),Le.apply(M,_t)})}}return Ee}Fe.exports=S,Fe.exports.finished=function N(M,s){var v;let W=!1;return null===s&&(s=R),null!==(v=s)&&void 0!==v&&v.cleanup&&(I(s.cleanup,"cleanup"),W=s.cleanup),new Z((K,ee)=>{const ce=S(M,s,_e=>{W&&ce(),_e?ee(_e):K()})})}},45737:(Fe,z,_)=>{"use strict";var p=_(29293).default;const E=_(40573),{PromisePrototypeThen:k,SymbolAsyncIterator:H,SymbolIterator:x}=_(56389),{Buffer:R}=_(68316),{ERR_INVALID_ARG_TYPE:A,ERR_STREAM_NULL_VALUES:O}=_(68154).codes;Fe.exports=function F(L,I,Z){let j,G;if("string"==typeof I||I instanceof R)return new L({objectMode:!0,...Z,read(){this.push(I),this.push(null)}});if(I&&I[H])G=!0,j=I[H]();else{if(!I||!I[x])throw new A("iterable",["Iterable"],I);G=!1,j=I[x]()}const re=new L({objectMode:!0,highWaterMark:1,...Z});let te=!1;function Y(){return(Y=p(function*(se){if(null!=se&&"function"==typeof j.throw){const{value:we,done:xe}=yield j.throw(se);if(yield we,xe)return}if("function"==typeof j.return){const{value:we}=yield j.return();yield we}})).apply(this,arguments)}function ae(){return(ae=p(function*(){for(;;){try{const{value:se,done:de}=G?yield j.next():j.next();if(de)re.push(null);else{const le=se&&"function"==typeof se.then?yield se:se;if(null===le)throw te=!1,new O;if(re.push(le))continue;te=!1}}catch(se){re.destroy(se)}break}})).apply(this,arguments)}return re._read=function(){te||(te=!0,function oe(){ae.apply(this,arguments)}())},re._destroy=function(se,de){k(function J(se){return Y.apply(this,arguments)}(se),()=>E.nextTick(de,se),le=>E.nextTick(de,le||se))},re}},91242:(Fe,z,_)=>{"use strict";const{ArrayIsArray:p,ObjectSetPrototypeOf:E}=_(56389),{EventEmitter:k}=_(44356);function H(R){k.call(this,R)}function x(R,A,O){if("function"==typeof R.prependListener)return R.prependListener(A,O);R._events&&R._events[A]?p(R._events[A])?R._events[A].unshift(O):R._events[A]=[O,R._events[A]]:R.on(A,O)}E(H.prototype,k.prototype),E(H,k),H.prototype.pipe=function(R,A){const O=this;function F(te){R.writable&&!1===R.write(te)&&O.pause&&O.pause()}function L(){O.readable&&O.resume&&O.resume()}O.on("data",F),R.on("drain",L),!R._isStdio&&(!A||!1!==A.end)&&(O.on("end",Z),O.on("close",j));let I=!1;function Z(){I||(I=!0,R.end())}function j(){I||(I=!0,"function"==typeof R.destroy&&R.destroy())}function G(te){re(),0===k.listenerCount(this,"error")&&this.emit("error",te)}function re(){O.removeListener("data",F),R.removeListener("drain",L),O.removeListener("end",Z),O.removeListener("close",j),O.removeListener("error",G),R.removeListener("error",G),O.removeListener("end",re),O.removeListener("close",re),R.removeListener("close",re)}return x(O,"error",G),x(R,"error",G),O.on("end",re),O.on("close",re),R.on("close",re),R.emit("pipe",O),R},Fe.exports={Stream:H,prependListener:x}},21840:(Fe,z,_)=>{"use strict";var p=_(29293).default,E=_(93513).default,k=_(82881).default,H=_(53344).default,x=_(42958).default;const R=globalThis.AbortController||_(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:A,ERR_INVALID_ARG_TYPE:O,ERR_MISSING_ARGS:F,ERR_OUT_OF_RANGE:L},AbortError:I}=_(68154),{validateAbortSignal:Z,validateInteger:j,validateObject:G}=_(99852),re=_(56389).Symbol("kWeak"),te=_(56389).Symbol("kResistStopPropagation"),{finished:J}=_(46017),Y=_(373),{addAbortSignalNoValidate:oe}=_(57062),{isWritable:ae,isNodeStream:se}=_(32924),{deprecate:de}=_(13509),{ArrayPrototypePush:le,Boolean:we,MathFloor:xe,Number:Ce,NumberIsNaN:C,Promise:a,PromiseReject:u,PromiseResolve:y,PromisePrototypeThen:g,Symbol:S}=_(56389),T=S("kEmpty"),N=S("kEof");function s(ke,Ue){if("function"!=typeof ke)throw new O("fn",["Function","AsyncFunction"],ke);null!=Ue&&G(Ue,"options"),null!=Ue?.signal&&Z(Ue.signal,"options.signal");let Le=1;null!=Ue?.concurrency&&(Le=xe(Ue.concurrency));let _t=Le-1;return null!=Ue?.highWaterMark&&(_t=xe(Ue.highWaterMark)),j(Le,"options.concurrency",1),j(_t,"options.highWaterMark",0),_t+=Le,function(){var Ve=x(function*(){const lt=_(13509).AbortSignalAny([Ue?.signal].filter(we)),B=this,w=[],m={signal:lt};let U,ne,ge=!1,Ae=0;function Qe(){ge=!0,Bt()}function Bt(){Ae-=1,gt()}function gt(){ne&&!ge&&Ae<Le&&w.length<_t&&(ne(),ne=null)}function Gt(){return(Gt=p(function*(){try{var sr,un=!1,an=!1;try{for(var Qt,Mn=k(B);un=!(Qt=yield Mn.next()).done;un=!1){let qt=Qt.value;if(ge)return;if(lt.aborted)throw new I;try{if(qt=ke(qt,m),qt===T)continue;qt=y(qt)}catch(Et){qt=u(Et)}Ae+=1,g(qt,Bt,Qe),w.push(qt),U&&(U(),U=null),!ge&&(w.length>=_t||Ae>=Le)&&(yield new a(Et=>{ne=Et}))}}catch(qt){an=!0,sr=qt}finally{try{un&&null!=Mn.return&&(yield Mn.return())}finally{if(an)throw sr}}w.push(N)}catch(qt){const Et=u(qt);g(Et,Bt,Qe),w.push(Et)}finally{ge=!0,U&&(U(),U=null)}})).apply(this,arguments)}!function It(){Gt.apply(this,arguments)}();try{for(;;){for(;w.length>0;){const un=yield H(w[0]);if(un===N)return;if(lt.aborted)throw new I;un!==T&&(yield un),w.shift(),gt()}yield H(new a(un=>{U=un}))}}finally{ge=!0,ne&&(ne(),ne=null)}});return function Be(){return Ve.apply(this,arguments)}}().call(this)}function W(ke){return K.apply(this,arguments)}function K(){return(K=p(function*(ke,Ue=void 0){var Ve,Le=!1,_t=!1;try{for(var Be=k(be.call(this,ke,Ue));Le=!(yield Be.next()).done;Le=!1)return!0}catch(B){_t=!0,Ve=B}finally{try{Le&&null!=Be.return&&(yield Be.return())}finally{if(_t)throw Ve}}return!1})).apply(this,arguments)}function ce(){return(ce=p(function*(ke,Ue=void 0){if("function"!=typeof ke)throw new O("fn",["Function","AsyncFunction"],ke);return!(yield W.call(this,p(function*(...Le){return!(yield ke(...Le))}),Ue))})).apply(this,arguments)}function Pe(){return(Pe=p(function*(ke,Ue){var Ve,Le=!1,_t=!1;try{for(var lt,Be=k(be.call(this,ke,Ue));Le=!(lt=yield Be.next()).done;Le=!1)return lt.value}catch(B){_t=!0,Ve=B}finally{try{Le&&null!=Be.return&&(yield Be.return())}finally{if(_t)throw Ve}}})).apply(this,arguments)}function Se(){return Se=p(function*(ke,Ue){if("function"!=typeof ke)throw new O("fn",["Function","AsyncFunction"],ke);function _t(){return(_t=p(function*(m,U){return yield ke(m,U),T})).apply(this,arguments)}var lt,Ve=!1,Be=!1;try{for(var B=k(s.call(this,function Le(m,U){return _t.apply(this,arguments)},Ue));Ve=!(yield B.next()).done;Ve=!1);}catch(m){Be=!0,lt=m}finally{try{Ve&&null!=B.return&&(yield B.return())}finally{if(Be)throw lt}}}),Se.apply(this,arguments)}function be(ke,Ue){if("function"!=typeof ke)throw new O("fn",["Function","AsyncFunction"],ke);function _t(){return(_t=p(function*(Ve,Be){return(yield ke(Ve,Be))?Ve:T})).apply(this,arguments)}return s.call(this,function Le(Ve,Be){return _t.apply(this,arguments)},Ue)}class Ne extends F{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function Te(){return Te=p(function*(ke,Ue,Le){var _t;if("function"!=typeof ke)throw new O("reducer",["Function","AsyncFunction"],ke);null!=Le&&G(Le,"options"),null!=Le?.signal&&Z(Le.signal,"options.signal");let Ve=arguments.length>1;if(null!=Le&&null!==(_t=Le.signal)&&void 0!==_t&&_t.aborted){const Qe=new I(void 0,{cause:Le.signal.reason});throw this.once("error",()=>{}),yield J(this.destroy(Qe)),Qe}const Be=new R,lt=Be.signal;null!=Le&&Le.signal&&Le.signal.addEventListener("abort",()=>Be.abort(),{once:!0,[re]:this,[te]:!0});let B=!1;try{var U,w=!1,m=!1;try{for(var ge,ne=k(this);w=!(ge=yield ne.next()).done;w=!1){const Qe=ge.value;var Ae;if(B=!0,null!=Le&&null!==(Ae=Le.signal)&&void 0!==Ae&&Ae.aborted)throw new I;Ve?Ue=yield ke(Ue,Qe,{signal:lt}):(Ue=Qe,Ve=!0)}}catch(Qe){m=!0,U=Qe}finally{try{w&&null!=ne.return&&(yield ne.return())}finally{if(m)throw U}}if(!B&&!Ve)throw new Ne}finally{Be.abort()}return Ue}),Te.apply(this,arguments)}function fe(){return(fe=p(function*(ke){null!=ke&&G(ke,"options"),null!=ke?.signal&&Z(ke.signal,"options.signal");const Ue=[];var Ve,Le=!1,_t=!1;try{for(var lt,Be=k(this);Le=!(lt=yield Be.next()).done;Le=!1){const w=lt.value;var B;if(null!=ke&&null!==(B=ke.signal)&&void 0!==B&&B.aborted)throw new I(void 0,{cause:ke.signal.reason});le(Ue,w)}}catch(w){_t=!0,Ve=w}finally{try{Le&&null!=Be.return&&(yield Be.return())}finally{if(_t)throw Ve}}return Ue})).apply(this,arguments)}function ie(ke){if(ke=Ce(ke),C(ke))return 0;if(ke<0)throw new L("number",">= 0",ke);return ke}Fe.exports.streamReturningOperators={asIndexedPairs:de(function v(ke=void 0){return null!=ke&&G(ke,"options"),null!=ke?.signal&&Z(ke.signal,"options.signal"),function(){var Ue=x(function*(){let _t=0;var lt,Ve=!1,Be=!1;try{for(var w,B=k(this);Ve=!(w=yield H(B.next())).done;Ve=!1){const U=w.value;var m;if(null!=ke&&null!==(m=ke.signal)&&void 0!==m&&m.aborted)throw new I({cause:ke.signal.reason});yield[_t++,U]}}catch(U){Be=!0,lt=U}finally{try{Ve&&null!=B.return&&(yield H(B.return()))}finally{if(Be)throw lt}}});return function Le(){return Ue.apply(this,arguments)}}().call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function ue(ke,Ue=void 0){return null!=Ue&&G(Ue,"options"),null!=Ue?.signal&&Z(Ue.signal,"options.signal"),ke=ie(ke),function(){var Le=x(function*(){var Ve;if(null!=Ue&&null!==(Ve=Ue.signal)&&void 0!==Ve&&Ve.aborted)throw new I;var B,Be=!1,lt=!1;try{for(var m,w=k(this);Be=!(m=yield H(w.next())).done;Be=!1){const ne=m.value;var U;if(null!=Ue&&null!==(U=Ue.signal)&&void 0!==U&&U.aborted)throw new I;ke--<=0&&(yield ne)}}catch(ne){lt=!0,B=ne}finally{try{Be&&null!=w.return&&(yield H(w.return()))}finally{if(lt)throw B}}});return function _t(){return Le.apply(this,arguments)}}().call(this)},filter:be,flatMap:function Q(ke,Ue){const Le=s.call(this,ke,Ue);return function(){var _t=x(function*(){var B,Be=!1,lt=!1;try{for(var m,w=k(Le);Be=!(m=yield H(w.next())).done;Be=!1){const U=m.value;yield*E(k(U),H)}}catch(U){lt=!0,B=U}finally{try{Be&&null!=w.return&&(yield H(w.return()))}finally{if(lt)throw B}}});return function Ve(){return _t.apply(this,arguments)}}().call(this)},map:s,take:function Ee(ke,Ue=void 0){return null!=Ue&&G(Ue,"options"),null!=Ue?.signal&&Z(Ue.signal,"options.signal"),ke=ie(ke),function(){var Le=x(function*(){var Ve;if(null!=Ue&&null!==(Ve=Ue.signal)&&void 0!==Ve&&Ve.aborted)throw new I;var B,Be=!1,lt=!1;try{for(var m,w=k(this);Be=!(m=yield H(w.next())).done;Be=!1){const ne=m.value;var U;if(null!=Ue&&null!==(U=Ue.signal)&&void 0!==U&&U.aborted)throw new I;if(ke-- >0&&(yield ne),ke<=0)return}}catch(ne){lt=!0,B=ne}finally{try{Be&&null!=w.return&&(yield H(w.return()))}finally{if(lt)throw B}}});return function _t(){return Le.apply(this,arguments)}}().call(this)},compose:function M(ke,Ue){if(null!=Ue&&G(Ue,"options"),null!=Ue?.signal&&Z(Ue.signal,"options.signal"),se(ke)&&!ae(ke))throw new A("stream",ke,"must be writable");const Le=Y(this,ke);return null!=Ue&&Ue.signal&&oe(Ue.signal,Le),Le}},Fe.exports.promiseReturningOperators={every:function ee(ke){return ce.apply(this,arguments)},forEach:function $e(ke,Ue){return Se.apply(this,arguments)},reduce:function ye(ke,Ue,Le){return Te.apply(this,arguments)},toArray:function pe(ke){return fe.apply(this,arguments)},some:W,find:function _e(ke,Ue){return Pe.apply(this,arguments)}}},59447:(Fe,z,_)=>{"use strict";const{ObjectSetPrototypeOf:p}=_(56389);Fe.exports=k;const E=_(71981);function k(H){if(!(this instanceof k))return new k(H);E.call(this,H)}p(k.prototype,E.prototype),p(k,E),k.prototype._transform=function(H,x,R){R(null,H)}},67843:(Fe,z,_)=>{var p=_(29293).default,E=_(42958).default,k=_(53344).default,H=_(93513).default,x=_(82881).default;const R=_(40573),{ArrayIsArray:A,Promise:O,SymbolAsyncIterator:F,SymbolDispose:L}=_(56389),I=_(46017),{once:Z}=_(13509),j=_(96507),G=_(13323),{aggregateTwoErrors:re,codes:{ERR_INVALID_ARG_TYPE:te,ERR_INVALID_RETURN_VALUE:J,ERR_MISSING_ARGS:Y,ERR_STREAM_DESTROYED:oe,ERR_STREAM_PREMATURE_CLOSE:ae},AbortError:se}=_(68154),{validateFunction:de,validateAbortSignal:le}=_(99852),{isIterable:we,isReadable:xe,isReadableNodeStream:Ce,isNodeStream:C,isTransformStream:a,isWebStream:u,isReadableStream:y,isReadableFinished:g}=_(32924),S=globalThis.AbortController||_(9465).AbortController;let T,N,M;function s(ye,Te,pe){let fe=!1;return ye.on("close",()=>{fe=!0}),{destroy:ie=>{fe||(fe=!0,j.destroyer(ye,ie||new oe("pipe")))},cleanup:I(ye,{readable:Te,writable:pe},ie=>{fe=!ie})}}function W(ye){if(we(ye))return ye;if(Ce(ye))return function K(ye){return ee.apply(this,arguments)}(ye);throw new te("val",["Readable","Iterable","AsyncIterable"],ye)}function ee(){return(ee=E(function*(ye){N||(N=_(84553)),yield*H(x(N.prototype[F].call(ye)),k)})).apply(this,arguments)}function ce(ye,Te,pe,fe){return _e.apply(this,arguments)}function _e(){return(_e=p(function*(ye,Te,pe,{end:fe}){let Q,ie=null;const ue=lt=>{if(lt&&(Q=lt),ie){const B=ie;ie=null,B()}},Ee=()=>new O((lt,B)=>{Q?B(Q):ie=()=>{Q?B(Q):lt()}});Te.on("drain",ue);const ke=I(Te,{readable:!1},ue);try{Te.writableNeedDrain&&(yield Ee());var _t,Ue=!1,Le=!1;try{for(var Be,Ve=x(ye);Ue=!(Be=yield Ve.next()).done;Ue=!1)Te.write(Be.value)||(yield Ee())}catch(lt){Le=!0,_t=lt}finally{try{Ue&&null!=Ve.return&&(yield Ve.return())}finally{if(Le)throw _t}}fe&&(Te.end(),yield Ee()),pe()}catch(lt){pe(Q!==lt?re(Q,lt):lt)}finally{ke(),Te.off("drain",ue)}})).apply(this,arguments)}function Pe(ye,Te,pe,fe){return $e.apply(this,arguments)}function $e(){return($e=p(function*(ye,Te,pe,{end:fe}){a(Te)&&(Te=Te.writable);const Q=Te.getWriter();try{var Ee,ie=!1,ue=!1;try{for(var Ue,ke=x(ye);ie=!(Ue=yield ke.next()).done;ie=!1){const Le=Ue.value;yield Q.ready,Q.write(Le).catch(()=>{})}}catch(Le){ue=!0,Ee=Le}finally{try{ie&&null!=ke.return&&(yield ke.return())}finally{if(ue)throw Ee}}yield Q.ready,fe&&(yield Q.close()),pe()}catch(Le){try{yield Q.abort(Le),pe(Le)}catch(_t){pe(_t)}}})).apply(this,arguments)}function be(ye,Te,pe){if(1===ye.length&&A(ye[0])&&(ye=ye[0]),ye.length<2)throw new Y("streams");const fe=new S,Q=fe.signal,ie=pe?.signal,ue=[];function Ee(){lt(new se)}let ke,Ue,Le;le(ie,"options.signal"),M=M||_(13509).addAbortListener,ie&&(ke=M(ie,Ee));const _t=[];let B,Ve=0;function Be(ne){lt(ne,0==--Ve)}function lt(ne,ge){var Ae;if(ne&&(!Ue||"ERR_STREAM_PREMATURE_CLOSE"===Ue.code)&&(Ue=ne),Ue||ge){for(;_t.length;)_t.shift()(Ue);null===(Ae=ke)||void 0===Ae||Ae[L](),fe.abort(),ge&&(Ue||ue.forEach(Qe=>Qe()),R.nextTick(Te,Ue,Le))}}for(let ne=0;ne<ye.length;ne++){const ge=ye[ne],Ae=ne<ye.length-1,Qe=ne>0,Bt=Ae||!1!==pe?.end,gt=ne===ye.length-1;if(C(ge)){let It=function(Gt){Gt&&"AbortError"!==Gt.name&&"ERR_STREAM_PREMATURE_CLOSE"!==Gt.code&&Be(Gt)};if(Bt){const{destroy:Gt,cleanup:un}=s(ge,Ae,Qe);_t.push(Gt),xe(ge)&&gt&&ue.push(un)}ge.on("error",It),xe(ge)&&gt&&ue.push(()=>{ge.removeListener("error",It)})}if(0===ne)if("function"==typeof ge){if(B=ge({signal:Q}),!we(B))throw new J("Iterable, AsyncIterable or Stream","source",B)}else B=we(ge)||Ce(ge)||a(ge)?ge:G.from(ge);else if("function"==typeof ge){var w;if(B=a(B)?W(null===(w=B)||void 0===w?void 0:w.readable):W(B),B=ge(B,{signal:Q}),Ae){if(!we(B,!0))throw new J("AsyncIterable",`transform[${ne-1}]`,B)}else{var m;T||(T=_(59447));const It=new T({objectMode:!0}),Gt=null===(m=B)||void 0===m?void 0:m.then;if("function"==typeof Gt)Ve++,Gt.call(B,sr=>{Le=sr,null!=sr&&It.write(sr),Bt&&It.end(),R.nextTick(Be)},sr=>{It.destroy(sr),R.nextTick(Be,sr)});else if(we(B,!0))Ve++,ce(B,It,Be,{end:Bt});else{if(!y(B)&&!a(B))throw new J("AsyncIterable or Promise","destination",B);Ve++,ce(B.readable||B,It,Be,{end:Bt})}B=It;const{destroy:un,cleanup:an}=s(B,!1,!0);_t.push(un),gt&&ue.push(an)}}else if(C(ge)){if(Ce(B)){Ve+=2;const It=Ne(B,ge,Be,{end:Bt});xe(ge)&&gt&&ue.push(It)}else if(a(B)||y(B))Ve++,ce(B.readable||B,ge,Be,{end:Bt});else{if(!we(B))throw new te("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],B);Ve++,ce(B,ge,Be,{end:Bt})}B=ge}else if(u(ge)){if(Ce(B))Ve++,Pe(W(B),ge,Be,{end:Bt});else if(y(B)||we(B))Ve++,Pe(B,ge,Be,{end:Bt});else{if(!a(B))throw new te("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],B);Ve++,Pe(B.readable,ge,Be,{end:Bt})}B=ge}else B=G.from(ge)}return(null!=Q&&Q.aborted||null!=ie&&ie.aborted)&&R.nextTick(Ee),B}function Ne(ye,Te,pe,{end:fe}){let Q=!1;if(Te.on("close",()=>{Q||pe(new ae)}),ye.pipe(Te,{end:!1}),fe){let ue=function(){Q=!0,Te.end()};g(ye)?R.nextTick(ue):ye.once("end",ue)}else pe();return I(ye,{readable:!0,writable:!1},ue=>{const Ee=ye._readableState;ue&&"ERR_STREAM_PREMATURE_CLOSE"===ue.code&&Ee&&Ee.ended&&!Ee.errored&&!Ee.errorEmitted?ye.once("end",pe).once("error",pe):pe(ue)}),I(Te,{readable:!1,writable:!0},pe)}Fe.exports={pipelineImpl:be,pipeline:function Se(...ye){return be(ye,Z(function v(ye){return de(ye[ye.length-1],"streams[stream.length - 1]"),ye.pop()}(ye)))}}},84553:(Fe,z,_)=>{var p=_(53344).default,E=_(42958).default;const k=_(40573),{ArrayPrototypeIndexOf:H,NumberIsInteger:x,NumberIsNaN:R,NumberParseInt:A,ObjectDefineProperties:O,ObjectKeys:F,ObjectSetPrototypeOf:L,Promise:I,SafeSet:Z,SymbolAsyncDispose:j,SymbolAsyncIterator:G,Symbol:re}=_(56389);Fe.exports=Be,Be.ReadableState=Ve;const{EventEmitter:te}=_(44356),{Stream:J,prependListener:Y}=_(91242),{Buffer:oe}=_(68316),{addAbortSignal:ae}=_(57062),se=_(46017);let de=_(13509).debuglog("stream",vt=>{de=vt});const le=_(16630),we=_(96507),{getHighWaterMark:xe,getDefaultHighWaterMark:Ce}=_(18212),{aggregateTwoErrors:C,codes:{ERR_INVALID_ARG_TYPE:a,ERR_METHOD_NOT_IMPLEMENTED:u,ERR_OUT_OF_RANGE:y,ERR_STREAM_PUSH_AFTER_EOF:g,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:S},AbortError:T}=_(68154),{validateObject:N}=_(99852),M=re("kPaused"),{StringDecoder:s}=_(78454),v=_(45737);L(Be.prototype,J.prototype),L(Be,J);const W=()=>{},{errorOrDestroy:K}=we,ee=1,$e=16,Se=32,be=64,fe=2048,Q=4096,ke=65536;function _t(vt){return{enumerable:!1,get(){return!!(this.state&vt)},set(xt){xt?this.state|=vt:this.state&=~vt}}}function Ve(vt,xt,St){"boolean"!=typeof St&&(St=xt instanceof _(13323)),this.state=fe|Q|$e|Se,vt&&vt.objectMode&&(this.state|=ee),St&&vt&&vt.readableObjectMode&&(this.state|=ee),this.highWaterMark=vt?xe(this,vt,"readableHighWaterMark",St):Ce(!1),this.buffer=new le,this.length=0,this.pipes=[],this.flowing=null,this[M]=null,vt&&!1===vt.emitClose&&(this.state&=~fe),vt&&!1===vt.autoDestroy&&(this.state&=~Q),this.errored=null,this.defaultEncoding=vt&&vt.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,vt&&vt.encoding&&(this.decoder=new s(vt.encoding),this.encoding=vt.encoding)}function Be(vt){if(!(this instanceof Be))return new Be(vt);const xt=this instanceof _(13323);this._readableState=new Ve(vt,this,xt),vt&&("function"==typeof vt.read&&(this._read=vt.read),"function"==typeof vt.destroy&&(this._destroy=vt.destroy),"function"==typeof vt.construct&&(this._construct=vt.construct),vt.signal&&!xt&&ae(vt.signal,this)),J.call(this,vt),we.construct(this,()=>{this._readableState.needReadable&&Qe(this,this._readableState)})}function lt(vt,xt,St,Xe){de("readableAddChunk",xt);const nt=vt._readableState;let Vt;if(nt.state&ee||("string"==typeof xt?nt.encoding!==(St=St||nt.defaultEncoding)&&(Xe&&nt.encoding?xt=oe.from(xt,St).toString(nt.encoding):(xt=oe.from(xt,St),St="")):xt instanceof oe?St="":J._isUint8Array(xt)?(xt=J._uint8ArrayToBuffer(xt),St=""):null!=xt&&(Vt=new a("chunk",["string","Buffer","Uint8Array"],xt))),Vt)K(vt,Vt);else if(null===xt)nt.state&=-9,function ne(vt,xt){if(de("onEofChunk"),!xt.ended){if(xt.decoder){const St=xt.decoder.end();St&&St.length&&(xt.buffer.push(St),xt.length+=xt.objectMode?1:St.length)}xt.ended=!0,xt.sync?ge(vt):(xt.needReadable=!1,xt.emittedReadable=!0,Ae(vt))}}(vt,nt);else if(nt.state&ee||xt&&xt.length>0)if(Xe)if(4&nt.state)K(vt,new S);else{if(nt.destroyed||nt.errored)return!1;B(vt,nt,xt,!0)}else if(nt.ended)K(vt,new g);else{if(nt.destroyed||nt.errored)return!1;nt.state&=-9,nt.decoder&&!St?(xt=nt.decoder.write(xt),nt.objectMode||0!==xt.length?B(vt,nt,xt,!1):Qe(vt,nt)):B(vt,nt,xt,!1)}else Xe||(nt.state&=-9,Qe(vt,nt));return!nt.ended&&(nt.length<nt.highWaterMark||0===nt.length)}function B(vt,xt,St,Xe){xt.flowing&&0===xt.length&&!xt.sync&&vt.listenerCount("data")>0?(xt.state&ke?xt.awaitDrainWriters.clear():xt.awaitDrainWriters=null,xt.dataEmitted=!0,vt.emit("data",St)):(xt.length+=xt.objectMode?1:St.length,Xe?xt.buffer.unshift(St):xt.buffer.push(St),xt.state&be&&ge(vt)),Qe(vt,xt)}function U(vt,xt){return vt<=0||0===xt.length&&xt.ended?0:xt.state&ee?1:R(vt)?xt.flowing&&xt.length?xt.buffer.first().length:xt.length:vt<=xt.length?vt:xt.ended?xt.length:0}function ge(vt){const xt=vt._readableState;de("emitReadable",xt.needReadable,xt.emittedReadable),xt.needReadable=!1,xt.emittedReadable||(de("emitReadable",xt.flowing),xt.emittedReadable=!0,k.nextTick(Ae,vt))}function Ae(vt){const xt=vt._readableState;de("emitReadable_",xt.destroyed,xt.length,xt.ended),!xt.destroyed&&!xt.errored&&(xt.length||xt.ended)&&(vt.emit("readable"),xt.emittedReadable=!1),xt.needReadable=!xt.flowing&&!xt.ended&&xt.length<=xt.highWaterMark,sr(vt)}function Qe(vt,xt){!xt.readingMore&&xt.constructed&&(xt.readingMore=!0,k.nextTick(Bt,vt,xt))}function Bt(vt,xt){for(;!xt.reading&&!xt.ended&&(xt.length<xt.highWaterMark||xt.flowing&&0===xt.length);){const St=xt.length;if(de("maybeReadMore read 0"),vt.read(0),St===xt.length)break}xt.readingMore=!1}function It(vt){const xt=vt._readableState;xt.readableListening=vt.listenerCount("readable")>0,xt.resumeScheduled&&!1===xt[M]?xt.flowing=!0:vt.listenerCount("data")>0?vt.resume():xt.readableListening||(xt.flowing=null)}function Gt(vt){de("readable nexttick read 0"),vt.read(0)}function an(vt,xt){de("resume",xt.reading),xt.reading||vt.read(0),xt.resumeScheduled=!1,vt.emit("resume"),sr(vt),xt.flowing&&!xt.reading&&vt.read(0)}function sr(vt){const xt=vt._readableState;for(de("flow",xt.flowing);xt.flowing&&null!==vt.read(););}function Mn(vt,xt){"function"!=typeof vt.read&&(vt=Be.wrap(vt,{objectMode:!0}));const St=function Qt(vt,xt){return qt.apply(this,arguments)}(vt,xt);return St.stream=vt,St}function qt(){return(qt=E(function*(vt,xt){let nt,St=W;function Xe(Ot){this===vt?(St(),St=W):St=Ot}vt.on("readable",Xe);const Vt=se(vt,{writable:!1},Ot=>{nt=Ot?C(nt,Ot):null,St(),St=W});try{for(;;){const Ot=vt.destroyed?null:vt.read();if(null!==Ot)yield Ot;else{if(nt)throw nt;if(null===nt)return;yield p(new I(Xe))}}}catch(Ot){throw nt=C(nt,Ot),nt}finally{!nt&&!1===xt?.destroyOnReturn||void 0!==nt&&!vt._readableState.autoDestroy?(vt.off("readable",Xe),Vt()):we.destroyer(vt,null)}})).apply(this,arguments)}function Et(vt,xt){if(0===xt.length)return null;let St;return xt.objectMode?St=xt.buffer.shift():!vt||vt>=xt.length?(St=xt.decoder?xt.buffer.join(""):1===xt.buffer.length?xt.buffer.first():xt.buffer.concat(xt.length),xt.buffer.clear()):St=xt.buffer.consume(vt,xt.decoder),St}function ht(vt){const xt=vt._readableState;de("endReadable",xt.endEmitted),xt.endEmitted||(xt.ended=!0,k.nextTick(zt,xt,vt))}function zt(vt,xt){if(de("endReadableNT",vt.endEmitted,vt.length),!vt.errored&&!vt.closeEmitted&&!vt.endEmitted&&0===vt.length)if(vt.endEmitted=!0,xt.emit("end"),xt.writable&&!1===xt.allowHalfOpen)k.nextTick(Jt,xt);else if(vt.autoDestroy){const St=xt._writableState;(!St||St.autoDestroy&&(St.finished||!1===St.writable))&&xt.destroy()}}function Jt(vt){vt.writable&&!vt.writableEnded&&!vt.destroyed&&vt.end()}let dn;function hr(){return void 0===dn&&(dn={}),dn}O(Ve.prototype,{objectMode:_t(ee),ended:_t(2),endEmitted:_t(4),reading:_t(8),constructed:_t($e),sync:_t(Se),needReadable:_t(be),emittedReadable:_t(128),readableListening:_t(256),resumeScheduled:_t(512),errorEmitted:_t(1024),emitClose:_t(fe),autoDestroy:_t(Q),destroyed:_t(8192),closed:_t(16384),closeEmitted:_t(32768),multiAwaitDrain:_t(ke),readingMore:_t(1<<17),dataEmitted:_t(1<<18)}),Be.prototype.destroy=we.destroy,Be.prototype._undestroy=we.undestroy,Be.prototype._destroy=function(vt,xt){xt(vt)},Be.prototype[te.captureRejectionSymbol]=function(vt){this.destroy(vt)},Be.prototype[j]=function(){let vt;return this.destroyed||(vt=this.readableEnded?null:new T,this.destroy(vt)),new I((xt,St)=>se(this,Xe=>Xe&&Xe!==vt?St(Xe):xt(null)))},Be.prototype.push=function(vt,xt){return lt(this,vt,xt,!1)},Be.prototype.unshift=function(vt,xt){return lt(this,vt,xt,!0)},Be.prototype.isPaused=function(){const vt=this._readableState;return!0===vt[M]||!1===vt.flowing},Be.prototype.setEncoding=function(vt){const xt=new s(vt);this._readableState.decoder=xt,this._readableState.encoding=this._readableState.decoder.encoding;const St=this._readableState.buffer;let Xe="";for(const nt of St)Xe+=xt.write(nt);return St.clear(),""!==Xe&&St.push(Xe),this._readableState.length=Xe.length,this},Be.prototype.read=function(vt){de("read",vt),void 0===vt?vt=NaN:x(vt)||(vt=A(vt,10));const xt=this._readableState,St=vt;if(vt>xt.highWaterMark&&(xt.highWaterMark=function m(vt){if(vt>1073741824)throw new y("size","<= 1GiB",vt);return vt--,vt|=vt>>>1,vt|=vt>>>2,vt|=vt>>>4,vt|=vt>>>8,vt|=vt>>>16,++vt}(vt)),0!==vt&&(xt.state&=-129),0===vt&&xt.needReadable&&((0!==xt.highWaterMark?xt.length>=xt.highWaterMark:xt.length>0)||xt.ended))return de("read: emitReadable",xt.length,xt.ended),0===xt.length&&xt.ended?ht(this):ge(this),null;if(0===(vt=U(vt,xt))&&xt.ended)return 0===xt.length&&ht(this),null;let nt,Xe=!!(xt.state&be);if(de("need readable",Xe),(0===xt.length||xt.length-vt<xt.highWaterMark)&&(Xe=!0,de("length less than watermark",Xe)),xt.ended||xt.reading||xt.destroyed||xt.errored||!xt.constructed)Xe=!1,de("reading, ended or constructing",Xe);else if(Xe){de("do read"),xt.state|=8|Se,0===xt.length&&(xt.state|=be);try{this._read(xt.highWaterMark)}catch(Vt){K(this,Vt)}xt.state&=~Se,xt.reading||(vt=U(St,xt))}return nt=vt>0?Et(vt,xt):null,null===nt?(xt.needReadable=xt.length<=xt.highWaterMark,vt=0):(xt.length-=vt,xt.multiAwaitDrain?xt.awaitDrainWriters.clear():xt.awaitDrainWriters=null),0===xt.length&&(xt.ended||(xt.needReadable=!0),St!==vt&&xt.ended&&ht(this)),null!==nt&&!xt.errorEmitted&&!xt.closeEmitted&&(xt.dataEmitted=!0,this.emit("data",nt)),nt},Be.prototype._read=function(vt){throw new u("_read()")},Be.prototype.pipe=function(vt,xt){const St=this,Xe=this._readableState;1===Xe.pipes.length&&(Xe.multiAwaitDrain||(Xe.multiAwaitDrain=!0,Xe.awaitDrainWriters=new Z(Xe.awaitDrainWriters?[Xe.awaitDrainWriters]:[]))),Xe.pipes.push(vt),de("pipe count=%d opts=%j",Xe.pipes.length,xt);const Vt=xt&&!1===xt.end||vt===k.stdout||vt===k.stderr?Ge:sn;function sn(){de("onend"),vt.end()}Xe.endEmitted?k.nextTick(Vt):St.once("end",Vt),vt.on("unpipe",function Ot(ct,Yt){de("onunpipe"),ct===St&&Yt&&!1===Yt.hasUnpiped&&(Yt.hasUnpiped=!0,function In(){de("cleanup"),vt.removeListener("close",$n),vt.removeListener("finish",st),Hn&&vt.removeListener("drain",Hn),vt.removeListener("error",Ln),vt.removeListener("unpipe",Ot),St.removeListener("end",sn),St.removeListener("end",Ge),St.removeListener("data",Jn),bn=!0,Hn&&Xe.awaitDrainWriters&&(!vt._writableState||vt._writableState.needDrain)&&Hn()}())});let Hn,bn=!1;function Ar(){bn||(1===Xe.pipes.length&&Xe.pipes[0]===vt?(de("false write response, pause",0),Xe.awaitDrainWriters=vt,Xe.multiAwaitDrain=!1):Xe.pipes.length>1&&Xe.pipes.includes(vt)&&(de("false write response, pause",Xe.awaitDrainWriters.size),Xe.awaitDrainWriters.add(vt)),St.pause()),Hn||(Hn=function gt(vt,xt){return function(){const Xe=vt._readableState;Xe.awaitDrainWriters===xt?(de("pipeOnDrain",1),Xe.awaitDrainWriters=null):Xe.multiAwaitDrain&&(de("pipeOnDrain",Xe.awaitDrainWriters.size),Xe.awaitDrainWriters.delete(xt)),(!Xe.awaitDrainWriters||0===Xe.awaitDrainWriters.size)&&vt.listenerCount("data")&&vt.resume()}}(St,vt),vt.on("drain",Hn))}function Jn(ct){de("ondata");const Yt=vt.write(ct);de("dest.write",Yt),!1===Yt&&Ar()}function Ln(ct){if(de("onerror",ct),Ge(),vt.removeListener("error",Ln),0===vt.listenerCount("error")){const Yt=vt._writableState||vt._readableState;Yt&&!Yt.errorEmitted?K(vt,ct):vt.emit("error",ct)}}function $n(){vt.removeListener("finish",st),Ge()}function st(){de("onfinish"),vt.removeListener("close",$n),Ge()}function Ge(){de("unpipe"),St.unpipe(vt)}return St.on("data",Jn),Y(vt,"error",Ln),vt.once("close",$n),vt.once("finish",st),vt.emit("pipe",St),!0===vt.writableNeedDrain?Ar():Xe.flowing||(de("pipe resume"),St.resume()),vt},Be.prototype.unpipe=function(vt){const xt=this._readableState;if(0===xt.pipes.length)return this;if(!vt){const nt=xt.pipes;xt.pipes=[],this.pause();for(let Vt=0;Vt<nt.length;Vt++)nt[Vt].emit("unpipe",this,{hasUnpiped:!1});return this}const Xe=H(xt.pipes,vt);return-1===Xe||(xt.pipes.splice(Xe,1),0===xt.pipes.length&&this.pause(),vt.emit("unpipe",this,{hasUnpiped:!1})),this},Be.prototype.addListener=Be.prototype.on=function(vt,xt){const St=J.prototype.on.call(this,vt,xt),Xe=this._readableState;return"data"===vt?(Xe.readableListening=this.listenerCount("readable")>0,!1!==Xe.flowing&&this.resume()):"readable"===vt&&!Xe.endEmitted&&!Xe.readableListening&&(Xe.readableListening=Xe.needReadable=!0,Xe.flowing=!1,Xe.emittedReadable=!1,de("on readable",Xe.length,Xe.reading),Xe.length?ge(this):Xe.reading||k.nextTick(Gt,this)),St},Be.prototype.off=Be.prototype.removeListener=function(vt,xt){const St=J.prototype.removeListener.call(this,vt,xt);return"readable"===vt&&k.nextTick(It,this),St},Be.prototype.removeAllListeners=function(vt){const xt=J.prototype.removeAllListeners.apply(this,arguments);return("readable"===vt||void 0===vt)&&k.nextTick(It,this),xt},Be.prototype.resume=function(){const vt=this._readableState;return vt.flowing||(de("resume"),vt.flowing=!vt.readableListening,function un(vt,xt){xt.resumeScheduled||(xt.resumeScheduled=!0,k.nextTick(an,vt,xt))}(this,vt)),vt[M]=!1,this},Be.prototype.pause=function(){return de("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(de("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[M]=!0,this},Be.prototype.wrap=function(vt){let xt=!1;vt.on("data",Xe=>{!this.push(Xe)&&vt.pause&&(xt=!0,vt.pause())}),vt.on("end",()=>{this.push(null)}),vt.on("error",Xe=>{K(this,Xe)}),vt.on("close",()=>{this.destroy()}),vt.on("destroy",()=>{this.destroy()}),this._read=()=>{xt&&vt.resume&&(xt=!1,vt.resume())};const St=F(vt);for(let Xe=1;Xe<St.length;Xe++){const nt=St[Xe];void 0===this[nt]&&"function"==typeof vt[nt]&&(this[nt]=vt[nt].bind(vt))}return this},Be.prototype[G]=function(){return Mn(this)},Be.prototype.iterator=function(vt){return void 0!==vt&&N(vt,"options"),Mn(this,vt)},O(Be.prototype,{readable:{__proto__:null,get(){const vt=this._readableState;return!(!vt||!1===vt.readable||vt.destroyed||vt.errorEmitted||vt.endEmitted)},set(vt){this._readableState&&(this._readableState.readable=!!vt)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(vt){this._readableState&&(this._readableState.flowing=vt)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(vt){this._readableState&&(this._readableState.destroyed=vt)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),O(Ve.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[M]},set(vt){this[M]=!!vt}}}),Be._fromList=Et,Be.from=function(vt,xt){return v(Be,vt,xt)},Be.fromWeb=function(vt,xt){return hr().newStreamReadableFromReadableStream(vt,xt)},Be.toWeb=function(vt,xt){return hr().newReadableStreamFromStreamReadable(vt,xt)},Be.wrap=function(vt,xt){var St,Xe;return new Be({objectMode:null===(St=null!==(Xe=vt.readableObjectMode)&&void 0!==Xe?Xe:vt.objectMode)||void 0===St||St,...xt,destroy(nt,Vt){we.destroyer(vt,nt),Vt(nt)}}).wrap(vt)}},18212:(Fe,z,_)=>{"use strict";const{MathFloor:p,NumberIsInteger:E}=_(56389),{validateInteger:k}=_(99852),{ERR_INVALID_ARG_VALUE:H}=_(68154).codes;let x=16384,R=16;function O(I){return I?R:x}Fe.exports={getHighWaterMark:function L(I,Z,j,G){const re=function A(I,Z,j){return null!=I.highWaterMark?I.highWaterMark:Z?I[j]:null}(Z,G,j);if(null!=re){if(!E(re)||re<0)throw new H(G?`options.${j}`:"options.highWaterMark",re);return p(re)}return O(I.objectMode)},getDefaultHighWaterMark:O,setDefaultHighWaterMark:function F(I,Z){k(Z,"value",0),I?R=Z:x=Z}}},71981:(Fe,z,_)=>{"use strict";const{ObjectSetPrototypeOf:p,Symbol:E}=_(56389);Fe.exports=A;const{ERR_METHOD_NOT_IMPLEMENTED:k}=_(68154).codes,H=_(13323),{getHighWaterMark:x}=_(18212);p(A.prototype,H.prototype),p(A,H);const R=E("kCallback");function A(L){if(!(this instanceof A))return new A(L);const I=L?x(this,L,"readableHighWaterMark",!0):null;0===I&&(L={...L,highWaterMark:null,readableHighWaterMark:I,writableHighWaterMark:L.writableHighWaterMark||0}),H.call(this,L),this._readableState.sync=!1,this[R]=null,L&&("function"==typeof L.transform&&(this._transform=L.transform),"function"==typeof L.flush&&(this._flush=L.flush)),this.on("prefinish",F)}function O(L){"function"!=typeof this._flush||this.destroyed?(this.push(null),L&&L()):this._flush((I,Z)=>{I?L?L(I):this.destroy(I):(null!=Z&&this.push(Z),this.push(null),L&&L())})}function F(){this._final!==O&&O.call(this)}A.prototype._final=O,A.prototype._transform=function(L,I,Z){throw new k("_transform()")},A.prototype._write=function(L,I,Z){const j=this._readableState,G=this._writableState,re=j.length;this._transform(L,I,(te,J)=>{te?Z(te):(null!=J&&this.push(J),G.ended||re===j.length||j.length<j.highWaterMark?Z():this[R]=Z)})},A.prototype._read=function(){if(this[R]){const L=this[R];this[R]=null,L()}}},32924:(Fe,z,_)=>{"use strict";const{SymbolAsyncIterator:p,SymbolIterator:E,SymbolFor:k}=_(56389),H=k("nodejs.stream.destroyed"),x=k("nodejs.stream.errored"),R=k("nodejs.stream.readable"),A=k("nodejs.stream.writable"),O=k("nodejs.stream.disturbed"),F=k("nodejs.webstream.isClosedPromise"),L=k("nodejs.webstream.controllerErrorFunction");function I(v,W=!1){var K;return!(!v||"function"!=typeof v.pipe||"function"!=typeof v.on||W&&("function"!=typeof v.pause||"function"!=typeof v.resume)||v._writableState&&!1===(null===(K=v._readableState)||void 0===K?void 0:K.readable)||v._writableState&&!v._readableState)}function Z(v){var W;return!(!v||"function"!=typeof v.write||"function"!=typeof v.on||v._readableState&&!1===(null===(W=v._writableState)||void 0===W?void 0:W.writable))}function G(v){return v&&(v._readableState||v._writableState||"function"==typeof v.write&&"function"==typeof v.on||"function"==typeof v.pipe&&"function"==typeof v.on)}function re(v){return!(!v||G(v)||"function"!=typeof v.pipeThrough||"function"!=typeof v.getReader||"function"!=typeof v.cancel)}function te(v){return!(!v||G(v)||"function"!=typeof v.getWriter||"function"!=typeof v.abort)}function J(v){return!(!v||G(v)||"object"!=typeof v.readable||"object"!=typeof v.writable)}function ae(v){if(!G(v))return null;const ee=v._writableState||v._readableState;return!!(v.destroyed||v[H]||null!=ee&&ee.destroyed)}function se(v){if(!Z(v))return null;if(!0===v.writableEnded)return!0;const W=v._writableState;return(null==W||!W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)}function we(v,W){if(!I(v))return null;const K=v._readableState;return(null==K||!K.errored)&&("boolean"!=typeof K?.endEmitted?null:!!(K.endEmitted||!1===W&&!0===K.ended&&0===K.length))}function xe(v){return v&&null!=v[R]?v[R]:"boolean"!=typeof v?.readable?null:!ae(v)&&I(v)&&v.readable&&!we(v)}function Ce(v){return v&&null!=v[A]?v[A]:"boolean"!=typeof v?.writable?null:!ae(v)&&Z(v)&&v.writable&&!se(v)}function g(v){return"boolean"==typeof v._closed&&"boolean"==typeof v._defaultKeepAlive&&"boolean"==typeof v._removedConnection&&"boolean"==typeof v._removedContLen}function S(v){return"boolean"==typeof v._sent100&&g(v)}Fe.exports={isDestroyed:ae,kIsDestroyed:H,isDisturbed:function M(v){var W;return!(!v||!(null!==(W=v[O])&&void 0!==W?W:v.readableDidRead||v.readableAborted))},kIsDisturbed:O,isErrored:function s(v){var W,K,ee,ce,_e,Pe,$e,Se,be,Ne;return!(!v||!(null!==(W=null!==(K=null!==(ee=null!==(ce=null!==(_e=null!==(Pe=v[x])&&void 0!==Pe?Pe:v.readableErrored)&&void 0!==_e?_e:v.writableErrored)&&void 0!==ce?ce:null===($e=v._readableState)||void 0===$e?void 0:$e.errorEmitted)&&void 0!==ee?ee:null===(Se=v._writableState)||void 0===Se?void 0:Se.errorEmitted)&&void 0!==K?K:null===(be=v._readableState)||void 0===be?void 0:be.errored)&&void 0!==W?W:null!==(Ne=v._writableState)&&void 0!==Ne&&Ne.errored))},kIsErrored:x,isReadable:xe,kIsReadable:R,kIsClosedPromise:F,kControllerErrorFunction:L,kIsWritable:A,isClosed:function y(v){if(!G(v))return null;if("boolean"==typeof v.closed)return v.closed;const W=v._writableState,K=v._readableState;return"boolean"==typeof W?.closed||"boolean"==typeof K?.closed?W?.closed||K?.closed:"boolean"==typeof v._closed&&g(v)?v._closed:null},isDuplexNodeStream:function j(v){return!(!v||"function"!=typeof v.pipe||!v._readableState||"function"!=typeof v.on||"function"!=typeof v.write)},isFinished:function C(v,W){return G(v)?!!ae(v)||!(!1!==W?.readable&&xe(v)||!1!==W?.writable&&Ce(v)):null},isIterable:function oe(v,W){return null!=v&&(!0===W?"function"==typeof v[p]:!1===W?"function"==typeof v[E]:"function"==typeof v[p]||"function"==typeof v[E])},isReadableNodeStream:I,isReadableStream:re,isReadableEnded:function le(v){if(!I(v))return null;if(!0===v.readableEnded)return!0;const W=v._readableState;return!(!W||W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)},isReadableFinished:we,isReadableErrored:function u(v){var W,K;return G(v)?v.readableErrored?v.readableErrored:null!==(W=null===(K=v._readableState)||void 0===K?void 0:K.errored)&&void 0!==W?W:null:null},isNodeStream:G,isWebStream:function Y(v){return re(v)||te(v)||J(v)},isWritable:Ce,isWritableNodeStream:Z,isWritableStream:te,isWritableEnded:se,isWritableFinished:function de(v,W){if(!Z(v))return null;if(!0===v.writableFinished)return!0;const K=v._writableState;return(null==K||!K.errored)&&("boolean"!=typeof K?.finished?null:!!(K.finished||!1===W&&!0===K.ended&&0===K.length))},isWritableErrored:function a(v){var W,K;return G(v)?v.writableErrored?v.writableErrored:null!==(W=null===(K=v._writableState)||void 0===K?void 0:K.errored)&&void 0!==W?W:null:null},isServerRequest:function T(v){var W;return"boolean"==typeof v._consuming&&"boolean"==typeof v._dumped&&void 0===(null===(W=v.req)||void 0===W?void 0:W.upgradeOrConnect)},isServerResponse:S,willEmitClose:function N(v){if(!G(v))return null;const ee=v._writableState||v._readableState;return!ee&&S(v)||!!(ee&&ee.autoDestroy&&ee.emitClose&&!1===ee.closed)},isTransformStream:J}},30009:(Fe,z,_)=>{const p=_(40573),{ArrayPrototypeSlice:E,Error:k,FunctionPrototypeSymbolHasInstance:H,ObjectDefineProperty:x,ObjectDefineProperties:R,ObjectSetPrototypeOf:A,StringPrototypeToLowerCase:O,Symbol:F,SymbolHasInstance:L}=_(56389);Fe.exports=S,S.WritableState=y;const{EventEmitter:I}=_(44356),Z=_(91242).Stream,{Buffer:j}=_(68316),G=_(96507),{addAbortSignal:re}=_(57062),{getHighWaterMark:te,getDefaultHighWaterMark:J}=_(18212),{ERR_INVALID_ARG_TYPE:Y,ERR_METHOD_NOT_IMPLEMENTED:oe,ERR_MULTIPLE_CALLBACK:ae,ERR_STREAM_CANNOT_PIPE:se,ERR_STREAM_DESTROYED:de,ERR_STREAM_ALREADY_FINISHED:le,ERR_STREAM_NULL_VALUES:we,ERR_STREAM_WRITE_AFTER_END:xe,ERR_UNKNOWN_ENCODING:Ce}=_(68154).codes,{errorOrDestroy:C}=G;function a(){}A(S.prototype,Z.prototype),A(S,Z);const u=F("kOnFinished");function y(pe,fe,Q){"boolean"!=typeof Q&&(Q=fe instanceof _(13323)),this.objectMode=!(!pe||!pe.objectMode),Q&&(this.objectMode=this.objectMode||!(!pe||!pe.writableObjectMode)),this.highWaterMark=pe?te(this,pe,"writableHighWaterMark",Q):J(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(pe&&!1===pe.decodeStrings),this.defaultEncoding=pe&&pe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=v.bind(void 0,fe),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,g(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!pe||!1!==pe.emitClose,this.autoDestroy=!pe||!1!==pe.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[u]=[]}function g(pe){pe.buffered=[],pe.bufferedIndex=0,pe.allBuffers=!0,pe.allNoop=!0}function S(pe){const fe=this instanceof _(13323);if(!fe&&!H(S,this))return new S(pe);this._writableState=new y(pe,this,fe),pe&&("function"==typeof pe.write&&(this._write=pe.write),"function"==typeof pe.writev&&(this._writev=pe.writev),"function"==typeof pe.destroy&&(this._destroy=pe.destroy),"function"==typeof pe.final&&(this._final=pe.final),"function"==typeof pe.construct&&(this._construct=pe.construct),pe.signal&&re(pe.signal,this)),Z.call(this,pe),G.construct(this,()=>{const Q=this._writableState;Q.writing||ce(this,Q),Se(this,Q)})}function T(pe,fe,Q,ie){const ue=pe._writableState;if("function"==typeof Q)ie=Q,Q=ue.defaultEncoding;else{if(Q){if("buffer"!==Q&&!j.isEncoding(Q))throw new Ce(Q)}else Q=ue.defaultEncoding;"function"!=typeof ie&&(ie=a)}if(null===fe)throw new we;if(!ue.objectMode)if("string"==typeof fe)!1!==ue.decodeStrings&&(fe=j.from(fe,Q),Q="buffer");else if(fe instanceof j)Q="buffer";else{if(!Z._isUint8Array(fe))throw new Y("chunk",["string","Buffer","Uint8Array"],fe);fe=Z._uint8ArrayToBuffer(fe),Q="buffer"}let Ee;return ue.ending?Ee=new xe:ue.destroyed&&(Ee=new de("write")),Ee?(p.nextTick(ie,Ee),C(pe,Ee,!0),Ee):(ue.pendingcb++,function N(pe,fe,Q,ie,ue){const Ee=fe.objectMode?1:Q.length;fe.length+=Ee;const ke=fe.length<fe.highWaterMark;return ke||(fe.needDrain=!0),fe.writing||fe.corked||fe.errored||!fe.constructed?(fe.buffered.push({chunk:Q,encoding:ie,callback:ue}),fe.allBuffers&&"buffer"!==ie&&(fe.allBuffers=!1),fe.allNoop&&ue!==a&&(fe.allNoop=!1)):(fe.writelen=Ee,fe.writecb=ue,fe.writing=!0,fe.sync=!0,pe._write(Q,ie,fe.onwrite),fe.sync=!1),ke&&!fe.errored&&!fe.destroyed}(pe,ue,fe,Q,ie))}function M(pe,fe,Q,ie,ue,Ee,ke){fe.writelen=ie,fe.writecb=ke,fe.writing=!0,fe.sync=!0,fe.destroyed?fe.onwrite(new de("write")):Q?pe._writev(ue,fe.onwrite):pe._write(ue,Ee,fe.onwrite),fe.sync=!1}function s(pe,fe,Q,ie){--fe.pendingcb,ie(Q),ee(fe),C(pe,Q)}function v(pe,fe){const Q=pe._writableState,ie=Q.sync,ue=Q.writecb;"function"==typeof ue?(Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0,fe?(Q.errored||(Q.errored=fe),pe._readableState&&!pe._readableState.errored&&(pe._readableState.errored=fe),ie?p.nextTick(s,pe,Q,fe,ue):s(pe,Q,fe,ue)):(Q.buffered.length>Q.bufferedIndex&&ce(pe,Q),ie?null!==Q.afterWriteTickInfo&&Q.afterWriteTickInfo.cb===ue?Q.afterWriteTickInfo.count++:(Q.afterWriteTickInfo={count:1,cb:ue,stream:pe,state:Q},p.nextTick(W,Q.afterWriteTickInfo)):K(pe,Q,1,ue))):C(pe,new ae)}function W({stream:pe,state:fe,count:Q,cb:ie}){return fe.afterWriteTickInfo=null,K(pe,fe,Q,ie)}function K(pe,fe,Q,ie){for(!fe.ending&&!pe.destroyed&&0===fe.length&&fe.needDrain&&(fe.needDrain=!1,pe.emit("drain"));Q-- >0;)fe.pendingcb--,ie();fe.destroyed&&ee(fe),Se(pe,fe)}function ee(pe){if(pe.writing)return;for(let ue=pe.bufferedIndex;ue<pe.buffered.length;++ue){var fe;const{chunk:Ee,callback:ke}=pe.buffered[ue];pe.length-=pe.objectMode?1:Ee.length,ke(null!==(fe=pe.errored)&&void 0!==fe?fe:new de("write"))}const Q=pe[u].splice(0);for(let ue=0;ue<Q.length;ue++){var ie;Q[ue](null!==(ie=pe.errored)&&void 0!==ie?ie:new de("end"))}g(pe)}function ce(pe,fe){if(fe.corked||fe.bufferProcessing||fe.destroyed||!fe.constructed)return;const{buffered:Q,bufferedIndex:ie,objectMode:ue}=fe,Ee=Q.length-ie;if(!Ee)return;let ke=ie;if(fe.bufferProcessing=!0,Ee>1&&pe._writev){fe.pendingcb-=Ee-1;const Ue=fe.allNoop?a:_t=>{for(let Ve=ke;Ve<Q.length;++Ve)Q[Ve].callback(_t)},Le=fe.allNoop&&0===ke?Q:E(Q,ke);Le.allBuffers=fe.allBuffers,M(pe,fe,!0,fe.length,Le,"",Ue),g(fe)}else{do{const{chunk:Ue,encoding:Le,callback:_t}=Q[ke];Q[ke++]=null,M(pe,fe,!1,ue?1:Ue.length,Ue,Le,_t)}while(ke<Q.length&&!fe.writing);ke===Q.length?g(fe):ke>256?(Q.splice(0,ke),fe.bufferedIndex=0):fe.bufferedIndex=ke}fe.bufferProcessing=!1}function _e(pe){return pe.ending&&!pe.destroyed&&pe.constructed&&0===pe.length&&!pe.errored&&0===pe.buffered.length&&!pe.finished&&!pe.writing&&!pe.errorEmitted&&!pe.closeEmitted}function Se(pe,fe,Q){_e(fe)&&(function $e(pe,fe){!fe.prefinished&&!fe.finalCalled&&("function"!=typeof pe._final||fe.destroyed?(fe.prefinished=!0,pe.emit("prefinish")):(fe.finalCalled=!0,function Pe(pe,fe){let Q=!1;function ie(ue){if(Q)C(pe,ue??ae());else if(Q=!0,fe.pendingcb--,ue){const Ee=fe[u].splice(0);for(let ke=0;ke<Ee.length;ke++)Ee[ke](ue);C(pe,ue,fe.sync)}else _e(fe)&&(fe.prefinished=!0,pe.emit("prefinish"),fe.pendingcb++,p.nextTick(be,pe,fe))}fe.sync=!0,fe.pendingcb++;try{pe._final(ie)}catch(ue){ie(ue)}fe.sync=!1}(pe,fe)))}(pe,fe),0===fe.pendingcb&&(Q?(fe.pendingcb++,p.nextTick((ie,ue)=>{_e(ue)?be(ie,ue):ue.pendingcb--},pe,fe)):_e(fe)&&(fe.pendingcb++,be(pe,fe))))}function be(pe,fe){fe.pendingcb--,fe.finished=!0;const Q=fe[u].splice(0);for(let ie=0;ie<Q.length;ie++)Q[ie]();if(pe.emit("finish"),fe.autoDestroy){const ie=pe._readableState;(!ie||ie.autoDestroy&&(ie.endEmitted||!1===ie.readable))&&pe.destroy()}}y.prototype.getBuffer=function(){return E(this.buffered,this.bufferedIndex)},x(y.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),x(S,L,{__proto__:null,value:function(pe){return!!H(this,pe)||this===S&&pe&&pe._writableState instanceof y}}),S.prototype.pipe=function(){C(this,new se)},S.prototype.write=function(pe,fe,Q){return!0===T(this,pe,fe,Q)},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){const pe=this._writableState;pe.corked&&(pe.corked--,pe.writing||ce(this,pe))},S.prototype.setDefaultEncoding=function(fe){if("string"==typeof fe&&(fe=O(fe)),!j.isEncoding(fe))throw new Ce(fe);return this._writableState.defaultEncoding=fe,this},S.prototype._write=function(pe,fe,Q){if(!this._writev)throw new oe("_write()");this._writev([{chunk:pe,encoding:fe}],Q)},S.prototype._writev=null,S.prototype.end=function(pe,fe,Q){const ie=this._writableState;let ue;if("function"==typeof pe?(Q=pe,pe=null,fe=null):"function"==typeof fe&&(Q=fe,fe=null),null!=pe){const Ee=T(this,pe,fe);Ee instanceof k&&(ue=Ee)}return ie.corked&&(ie.corked=1,this.uncork()),ue||(ie.errored||ie.ending?ie.finished?ue=new le("end"):ie.destroyed&&(ue=new de("end")):(ie.ending=!0,Se(this,ie,!0),ie.ended=!0)),"function"==typeof Q&&(ue||ie.finished?p.nextTick(Q,ue):ie[u].push(Q)),this},R(S.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(pe){this._writableState&&(this._writableState.destroyed=pe)}},writable:{__proto__:null,get(){const pe=this._writableState;return!(!pe||!1===pe.writable||pe.destroyed||pe.errored||pe.ending||pe.ended)},set(pe){this._writableState&&(this._writableState.writable=!!pe)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const pe=this._writableState;return!!pe&&!pe.destroyed&&!pe.ending&&pe.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Ne=G.destroy;let ye;function Te(){return void 0===ye&&(ye={}),ye}S.prototype.destroy=function(pe,fe){const Q=this._writableState;return!Q.destroyed&&(Q.bufferedIndex<Q.buffered.length||Q[u].length)&&p.nextTick(ee,Q),Ne.call(this,pe,fe),this},S.prototype._undestroy=G.undestroy,S.prototype._destroy=function(pe,fe){fe(pe)},S.prototype[I.captureRejectionSymbol]=function(pe){this.destroy(pe)},S.fromWeb=function(pe,fe){return Te().newStreamWritableFromWritableStream(pe,fe)},S.toWeb=function(pe){return Te().newWritableStreamFromStreamWritable(pe)}},99852:(Fe,z,_)=>{"use strict";const{ArrayIsArray:p,ArrayPrototypeIncludes:E,ArrayPrototypeJoin:k,ArrayPrototypeMap:H,NumberIsInteger:x,NumberIsNaN:R,NumberMAX_SAFE_INTEGER:A,NumberMIN_SAFE_INTEGER:O,NumberParseInt:F,ObjectPrototypeHasOwnProperty:L,RegExpPrototypeExec:I,String:Z,StringPrototypeToUpperCase:j,StringPrototypeTrim:G}=_(56389),{hideStackFrames:re,codes:{ERR_SOCKET_BAD_PORT:te,ERR_INVALID_ARG_TYPE:J,ERR_INVALID_ARG_VALUE:Y,ERR_OUT_OF_RANGE:oe,ERR_UNKNOWN_SIGNAL:ae}}=_(68154),{normalizeEncoding:se}=_(13509),{isAsyncFunction:de,isArrayBufferView:le}=_(13509).types,we={},C=/^[0-7]+$/,y=re((ke,Ue,Le=O,_t=A)=>{if("number"!=typeof ke)throw new J(Ue,"number",ke);if(!x(ke))throw new oe(Ue,"an integer",ke);if(ke<Le||ke>_t)throw new oe(Ue,`>= ${Le} && <= ${_t}`,ke)}),g=re((ke,Ue,Le=-2147483648,_t=2147483647)=>{if("number"!=typeof ke)throw new J(Ue,"number",ke);if(!x(ke))throw new oe(Ue,"an integer",ke);if(ke<Le||ke>_t)throw new oe(Ue,`>= ${Le} && <= ${_t}`,ke)}),S=re((ke,Ue,Le=!1)=>{if("number"!=typeof ke)throw new J(Ue,"number",ke);if(!x(ke))throw new oe(Ue,"an integer",ke);const _t=Le?1:0,Ve=4294967295;if(ke<_t||ke>Ve)throw new oe(Ue,`>= ${_t} && <= ${Ve}`,ke)});function T(ke,Ue){if("string"!=typeof ke)throw new J(Ue,"string",ke)}const M=re((ke,Ue,Le)=>{if(!E(Le,ke)){const Ve="must be one of: "+k(H(Le,Be=>"string"==typeof Be?`'${Be}'`:Z(Be)),", ");throw new Y(Ue,ke,Ve)}});function s(ke,Ue){if("boolean"!=typeof ke)throw new J(Ue,"boolean",ke)}function v(ke,Ue,Le){return null!=ke&&L(ke,Ue)?ke[Ue]:Le}const W=re((ke,Ue,Le=null)=>{const _t=v(Le,"allowArray",!1),Ve=v(Le,"allowFunction",!1);if(!v(Le,"nullable",!1)&&null===ke||!_t&&p(ke)||"object"!=typeof ke&&(!Ve||"function"!=typeof ke))throw new J(Ue,"Object",ke)}),K=re((ke,Ue)=>{if(null!=ke&&"object"!=typeof ke&&"function"!=typeof ke)throw new J(Ue,"a dictionary",ke)}),ee=re((ke,Ue,Le=0)=>{if(!p(ke))throw new J(Ue,"Array",ke);if(ke.length<Le)throw new Y(Ue,ke,`must be longer than ${Le}`)}),Se=re((ke,Ue="buffer")=>{if(!le(ke))throw new J(Ue,["Buffer","TypedArray","DataView"],ke)}),ye=re((ke,Ue)=>{if(void 0!==ke&&(null===ke||"object"!=typeof ke||!("aborted"in ke)))throw new J(Ue,"AbortSignal",ke)}),Te=re((ke,Ue)=>{if("function"!=typeof ke)throw new J(Ue,"Function",ke)}),pe=re((ke,Ue)=>{if("function"!=typeof ke||de(ke))throw new J(Ue,"Function",ke)}),fe=re((ke,Ue)=>{if(void 0!==ke)throw new J(Ue,"undefined",ke)}),ie=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ue(ke,Ue){if(typeof ke>"u"||!I(ie,ke))throw new Y(Ue,ke,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Fe.exports={isInt32:function xe(ke){return ke===(0|ke)},isUint32:function Ce(ke){return ke===ke>>>0},parseFileMode:function u(ke,Ue,Le){if(typeof ke>"u"&&(ke=Le),"string"==typeof ke){if(null===I(C,ke))throw new Y(Ue,ke,"must be a 32-bit unsigned integer or an octal string");ke=F(ke,8)}return S(ke,Ue),ke},validateArray:ee,validateStringArray:function ce(ke,Ue){ee(ke,Ue);for(let Le=0;Le<ke.length;Le++)T(ke[Le],`${Ue}[${Le}]`)},validateBooleanArray:function _e(ke,Ue){ee(ke,Ue);for(let Le=0;Le<ke.length;Le++)s(ke[Le],`${Ue}[${Le}]`)},validateAbortSignalArray:function Pe(ke,Ue){ee(ke,Ue);for(let Le=0;Le<ke.length;Le++){const _t=ke[Le],Ve=`${Ue}[${Le}]`;if(null==_t)throw new J(Ve,"AbortSignal",_t);ye(_t,Ve)}},validateBoolean:s,validateBuffer:Se,validateDictionary:K,validateEncoding:function be(ke,Ue){const Le=se(Ue),_t=ke.length;if("hex"===Le&&_t%2!=0)throw new Y("encoding",Ue,`is invalid for data of length ${_t}`)},validateFunction:Te,validateInt32:g,validateInteger:y,validateNumber:function N(ke,Ue,Le=void 0,_t){if("number"!=typeof ke)throw new J(Ue,"number",ke);if(null!=Le&&ke<Le||null!=_t&&ke>_t||(null!=Le||null!=_t)&&R(ke))throw new oe(Ue,`${null!=Le?`>= ${Le}`:""}${null!=Le&&null!=_t?" && ":""}${null!=_t?`<= ${_t}`:""}`,ke)},validateObject:W,validateOneOf:M,validatePlainFunction:pe,validatePort:function Ne(ke,Ue="Port",Le=!0){if("number"!=typeof ke&&"string"!=typeof ke||"string"==typeof ke&&0===G(ke).length||+ke!=+ke>>>0||ke>65535||0===ke&&!Le)throw new te(Ue,ke,Le);return 0|ke},validateSignalName:function $e(ke,Ue="signal"){if(T(ke,Ue),void 0===we[ke])throw void 0!==we[j(ke)]?new ae(ke+" (signals must use all capital letters)"):new ae(ke)},validateString:T,validateUint32:S,validateUndefined:fe,validateUnion:function Q(ke,Ue,Le){if(!E(Le,ke))throw new J(Ue,`('${k(Le,"|")}')`,ke)},validateAbortSignal:ye,validateLinkHeaderValue:function Ee(ke){if("string"==typeof ke)return ue(ke,"hints"),ke;if(p(ke)){const Ue=ke.length;let Le="";if(0===Ue)return Le;for(let _t=0;_t<Ue;_t++){const Ve=ke[_t];ue(Ve,"hints"),Le+=Ve,_t!==Ue-1&&(Le+=", ")}return Le}throw new Y("hints",ke,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},65797:(Fe,z,_)=>{"use strict";const p=_(33885),E=_(74870),k=p.Readable.destroy;Fe.exports=p.Readable,Fe.exports._uint8ArrayToBuffer=p._uint8ArrayToBuffer,Fe.exports._isUint8Array=p._isUint8Array,Fe.exports.isDisturbed=p.isDisturbed,Fe.exports.isErrored=p.isErrored,Fe.exports.isReadable=p.isReadable,Fe.exports.Readable=p.Readable,Fe.exports.Writable=p.Writable,Fe.exports.Duplex=p.Duplex,Fe.exports.Transform=p.Transform,Fe.exports.PassThrough=p.PassThrough,Fe.exports.addAbortSignal=p.addAbortSignal,Fe.exports.finished=p.finished,Fe.exports.destroy=p.destroy,Fe.exports.destroy=k,Fe.exports.pipeline=p.pipeline,Fe.exports.compose=p.compose,Object.defineProperty(p,"promises",{configurable:!0,enumerable:!0,get:()=>E}),Fe.exports.Stream=p.Stream,Fe.exports.default=Fe.exports},68154:(Fe,z,_)=>{"use strict";const{format:p,inspect:E,AggregateError:k}=_(13509),H=globalThis.AggregateError||k,x=Symbol("kIsNodeError"),R=["string","function","number","object","Function","Object","boolean","bigint","symbol"],A=/^([A-Z][a-z0-9]*)+$/,F={};function L(J,Y){if(!J)throw new F.ERR_INTERNAL_ASSERTION(Y)}function I(J){let Y="",oe=J.length;const ae="-"===J[0]?1:0;for(;oe>=ae+4;oe-=3)Y=`_${J.slice(oe-3,oe)}${Y}`;return`${J.slice(0,oe)}${Y}`}function j(J,Y,oe){oe||(oe=Error);class ae extends oe{constructor(...de){super(function Z(J,Y,oe){if("function"==typeof Y)return L(Y.length<=oe.length,`Code: ${J}; The provided arguments length (${oe.length}) does not match the required ones (${Y.length}).`),Y(...oe);const ae=(Y.match(/%[dfijoOs]/g)||[]).length;return L(ae===oe.length,`Code: ${J}; The provided arguments length (${oe.length}) does not match the required ones (${ae}).`),0===oe.length?Y:p(Y,...oe)}(J,Y,de))}toString(){return`${this.name} [${J}]: ${this.message}`}}Object.defineProperties(ae.prototype,{name:{value:oe.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${J}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),ae.prototype.code=J,ae.prototype[x]=!0,F[J]=ae}function G(J){return Object.defineProperty(J,"name",{value:"__node_internal_"+J.name}),J}class te extends Error{constructor(Y="The operation was aborted",oe=void 0){if(void 0!==oe&&"object"!=typeof oe)throw new F.ERR_INVALID_ARG_TYPE("options","Object",oe);super(Y,oe),this.code="ABORT_ERR",this.name="AbortError"}}j("ERR_ASSERTION","%s",Error),j("ERR_INVALID_ARG_TYPE",(J,Y,oe)=>{L("string"==typeof J,"'name' must be a string"),Array.isArray(Y)||(Y=[Y]);let ae="The ";J.endsWith(" argument")?ae+=`${J} `:ae+=`"${J}" ${J.includes(".")?"property":"argument"} `,ae+="must be ";const se=[],de=[],le=[];for(const xe of Y)L("string"==typeof xe,"All expected entries have to be of type string"),R.includes(xe)?se.push(xe.toLowerCase()):A.test(xe)?de.push(xe):(L("object"!==xe,'The value "object" should be written as "Object"'),le.push(xe));if(de.length>0){const xe=se.indexOf("object");-1!==xe&&(se.splice(se,xe,1),de.push("Object"))}if(se.length>0){switch(se.length){case 1:ae+=`of type ${se[0]}`;break;case 2:ae+=`one of type ${se[0]} or ${se[1]}`;break;default:{const xe=se.pop();ae+=`one of type ${se.join(", ")}, or ${xe}`}}(de.length>0||le.length>0)&&(ae+=" or ")}if(de.length>0){switch(de.length){case 1:ae+=`an instance of ${de[0]}`;break;case 2:ae+=`an instance of ${de[0]} or ${de[1]}`;break;default:{const xe=de.pop();ae+=`an instance of ${de.join(", ")}, or ${xe}`}}le.length>0&&(ae+=" or ")}switch(le.length){case 0:break;case 1:le[0].toLowerCase()!==le[0]&&(ae+="an "),ae+=`${le[0]}`;break;case 2:ae+=`one of ${le[0]} or ${le[1]}`;break;default:{const xe=le.pop();ae+=`one of ${le.join(", ")}, or ${xe}`}}if(null==oe)ae+=`. Received ${oe}`;else if("function"==typeof oe&&oe.name)ae+=`. Received function ${oe.name}`;else if("object"==typeof oe){var we;null!==(we=oe.constructor)&&void 0!==we&&we.name?ae+=`. Received an instance of ${oe.constructor.name}`:ae+=`. Received ${E(oe,{depth:-1})}`}else{let xe=E(oe,{colors:!1});xe.length>25&&(xe=`${xe.slice(0,25)}...`),ae+=`. Received type ${typeof oe} (${xe})`}return ae},TypeError),j("ERR_INVALID_ARG_VALUE",(J,Y,oe="is invalid")=>{let ae=E(Y);return ae.length>128&&(ae=ae.slice(0,128)+"..."),`The ${J.includes(".")?"property":"argument"} '${J}' ${oe}. Received ${ae}`},TypeError),j("ERR_INVALID_RETURN_VALUE",(J,Y,oe)=>{var ae;return`Expected ${J} to be returned from the "${Y}" function but got ${null!=oe&&null!==(ae=oe.constructor)&&void 0!==ae&&ae.name?`instance of ${oe.constructor.name}`:"type "+typeof oe}.`},TypeError),j("ERR_MISSING_ARGS",(...J)=>{let Y;L(J.length>0,"At least one arg needs to be specified");const oe=J.length;switch(J=(Array.isArray(J)?J:[J]).map(ae=>`"${ae}"`).join(" or "),oe){case 1:Y+=`The ${J[0]} argument`;break;case 2:Y+=`The ${J[0]} and ${J[1]} arguments`;break;default:{const ae=J.pop();Y+=`The ${J.join(", ")}, and ${ae} arguments`}}return`${Y} must be specified`},TypeError),j("ERR_OUT_OF_RANGE",(J,Y,oe)=>{let ae;return L(Y,'Missing "range" argument'),Number.isInteger(oe)&&Math.abs(oe)>2**32?ae=I(String(oe)):"bigint"==typeof oe?(ae=String(oe),(oe>2n**32n||oe<-(2n**32n))&&(ae=I(ae)),ae+="n"):ae=E(oe),`The value of "${J}" is out of range. It must be ${Y}. Received ${ae}`},RangeError),j("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),j("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),j("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),j("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),j("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),j("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),j("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),j("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),j("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),j("ERR_STREAM_WRITE_AFTER_END","write after end",Error),j("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Fe.exports={AbortError:te,aggregateTwoErrors:G(function re(J,Y){if(J&&Y&&J!==Y){if(Array.isArray(Y.errors))return Y.errors.push(J),Y;const oe=new H([Y,J],Y.message);return oe.code=Y.code,oe}return J||Y}),hideStackFrames:G,codes:F}},56389:Fe=>{"use strict";Fe.exports={ArrayIsArray:z=>Array.isArray(z),ArrayPrototypeIncludes:(z,_)=>z.includes(_),ArrayPrototypeIndexOf:(z,_)=>z.indexOf(_),ArrayPrototypeJoin:(z,_)=>z.join(_),ArrayPrototypeMap:(z,_)=>z.map(_),ArrayPrototypePop:(z,_)=>z.pop(_),ArrayPrototypePush:(z,_)=>z.push(_),ArrayPrototypeSlice:(z,_,p)=>z.slice(_,p),Error,FunctionPrototypeCall:(z,_,...p)=>z.call(_,...p),FunctionPrototypeSymbolHasInstance:(z,_)=>Function.prototype[Symbol.hasInstance].call(z,_),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(z,_)=>Object.defineProperties(z,_),ObjectDefineProperty:(z,_,p)=>Object.defineProperty(z,_,p),ObjectGetOwnPropertyDescriptor:(z,_)=>Object.getOwnPropertyDescriptor(z,_),ObjectKeys:z=>Object.keys(z),ObjectSetPrototypeOf:(z,_)=>Object.setPrototypeOf(z,_),Promise,PromisePrototypeCatch:(z,_)=>z.catch(_),PromisePrototypeThen:(z,_,p)=>z.then(_,p),PromiseReject:z=>Promise.reject(z),PromiseResolve:z=>Promise.resolve(z),ReflectApply:Reflect.apply,RegExpPrototypeTest:(z,_)=>z.test(_),SafeSet:Set,String,StringPrototypeSlice:(z,_,p)=>z.slice(_,p),StringPrototypeToLowerCase:z=>z.toLowerCase(),StringPrototypeToUpperCase:z=>z.toUpperCase(),StringPrototypeTrim:z=>z.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(z,_,p)=>z.set(_,p),Boolean,Uint8Array}},13509:(Fe,z,_)=>{"use strict";var p=_(29293).default;const E=_(68316),{kResistStopPropagation:k,SymbolDispose:H}=_(56389),x=globalThis.AbortSignal||_(9465).AbortSignal,R=globalThis.AbortController||_(9465).AbortController,A=Object.getPrototypeOf(p(function*(){})).constructor,O=globalThis.Blob||E.Blob,F=typeof O<"u"?function(G){return G instanceof O}:function(G){return!1},L=(j,G)=>{if(void 0!==j&&(null===j||"object"!=typeof j||!("aborted"in j)))throw new ERR_INVALID_ARG_TYPE(G,"AbortSignal",j)};class Z extends Error{constructor(G){if(!Array.isArray(G))throw new TypeError("Expected input to be an Array, got "+typeof G);let re="";for(let te=0;te<G.length;te++)re+=`    ${G[te].stack}\n`;super(re),this.name="AggregateError",this.errors=G}}Fe.exports={AggregateError:Z,kEmptyObject:Object.freeze({}),once(j){let G=!1;return function(...re){G||(G=!0,j.apply(this,re))}},createDeferredPromise:function(){let j,G;return{promise:new Promise((te,J)=>{j=te,G=J}),resolve:j,reject:G}},promisify:j=>new Promise((G,re)=>{j((te,...J)=>te?re(te):G(...J))}),debuglog:()=>function(){},format:(j,...G)=>j.replace(/%([sdifj])/g,function(...[re,te]){const J=G.shift();return"f"===te?J.toFixed(6):"j"===te?JSON.stringify(J):"s"===te&&"object"==typeof J?`${J.constructor!==Object?J.constructor.name:""} {}`.trim():J.toString()}),inspect(j){switch(typeof j){case"string":if(j.includes("'")){if(!j.includes('"'))return`"${j}"`;if(!j.includes("`")&&!j.includes("${"))return`\`${j}\``}return`'${j}'`;case"number":return isNaN(j)?"NaN":Object.is(j,-0)?String(j):j;case"bigint":return`${String(j)}n`;case"boolean":case"undefined":return String(j);case"object":return"{}"}},types:{isAsyncFunction:j=>j instanceof A,isArrayBufferView:j=>ArrayBuffer.isView(j)},isBlob:F,deprecate:(j,G)=>j,addAbortListener:_(44356).addAbortListener||function(G,re){if(void 0===G)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",G);let te;return L(G,"signal"),((j,G)=>{if("function"!=typeof j)throw new ERR_INVALID_ARG_TYPE("listener","Function",j)})(re),G.aborted?queueMicrotask(()=>re()):(G.addEventListener("abort",re,{__proto__:null,once:!0,[k]:!0}),te=()=>{G.removeEventListener("abort",re)}),{__proto__:null,[H](){var J;null===(J=te)||void 0===J||J()}}},AbortSignalAny:x.any||function(G){if(1===G.length)return G[0];const re=new R,te=()=>re.abort();return G.forEach(J=>{L(J,"signals"),J.addEventListener("abort",te,{once:!0})}),re.signal.addEventListener("abort",()=>{G.forEach(J=>J.removeEventListener("abort",te))},{once:!0}),re.signal}},Fe.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},33885:(Fe,z,_)=>{const{Buffer:p}=_(68316),{ObjectDefineProperty:E,ObjectKeys:k,ReflectApply:H}=_(56389),{promisify:{custom:x}}=_(13509),{streamReturningOperators:R,promiseReturningOperators:A}=_(21840),{codes:{ERR_ILLEGAL_CONSTRUCTOR:O}}=_(68154),F=_(373),{setDefaultHighWaterMark:L,getDefaultHighWaterMark:I}=_(18212),{pipeline:Z}=_(67843),{destroyer:j}=_(96507),G=_(46017),te=_(74870),J=_(32924),Y=Fe.exports=_(91242).Stream;Y.isDestroyed=J.isDestroyed,Y.isDisturbed=J.isDisturbed,Y.isErrored=J.isErrored,Y.isReadable=J.isReadable,Y.isWritable=J.isWritable,Y.Readable=_(84553);for(const se of k(R)){let le=function(...we){if(new.target)throw O();return Y.Readable.from(H(de,this,we))};const de=R[se];E(le,"name",{__proto__:null,value:de.name}),E(le,"length",{__proto__:null,value:de.length}),E(Y.Readable.prototype,se,{__proto__:null,value:le,enumerable:!1,configurable:!0,writable:!0})}for(const se of k(A)){let le=function(...xe){if(new.target)throw O();return H(de,this,xe)};const de=A[se];E(le,"name",{__proto__:null,value:de.name}),E(le,"length",{__proto__:null,value:de.length}),E(Y.Readable.prototype,se,{__proto__:null,value:le,enumerable:!1,configurable:!0,writable:!0})}Y.Writable=_(30009),Y.Duplex=_(13323),Y.Transform=_(71981),Y.PassThrough=_(59447),Y.pipeline=Z;const{addAbortSignal:oe}=_(57062);Y.addAbortSignal=oe,Y.finished=G,Y.destroy=j,Y.compose=F,Y.setDefaultHighWaterMark=L,Y.getDefaultHighWaterMark=I,E(Y,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>te}),E(Z,x,{__proto__:null,enumerable:!0,get:()=>te.pipeline}),E(G,x,{__proto__:null,enumerable:!0,get:()=>te.finished}),Y.Stream=Y,Y._isUint8Array=function(de){return de instanceof Uint8Array},Y._uint8ArrayToBuffer=function(de){return p.from(de.buffer,de.byteOffset,de.byteLength)}},74870:(Fe,z,_)=>{"use strict";const{ArrayPrototypePop:p,Promise:E}=_(56389),{isIterable:k,isNodeStream:H,isWebStream:x}=_(32924),{pipelineImpl:R}=_(67843),{finished:A}=_(46017);_(33885),Fe.exports={finished:A,pipeline:function O(...F){return new E((L,I)=>{let Z,j;const G=F[F.length-1];if(G&&"object"==typeof G&&!H(G)&&!k(G)&&!x(G)){const re=p(F);Z=re.signal,j=re.end}R(F,(re,te)=>{re?I(re):L(te)},{signal:Z,end:j})})}}},94787:(Fe,z,_)=>{z.Level=_(23963).BrowserLevel},81447:Fe=>{var z=1e3,_=60*z,p=60*_,E=24*p,k=7*E;function O(F,L,I,Z){var j=L>=1.5*I;return Math.round(F/I)+" "+Z+(j?"s":"")}Fe.exports=function(F,L){L=L||{};var I=typeof F;if("string"===I&&F.length>0)return function x(F){if(!((F=String(F)).length>100)){var L=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(F);if(L){var I=parseFloat(L[1]);switch((L[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*I;case"weeks":case"week":case"w":return I*k;case"days":case"day":case"d":return I*E;case"hours":case"hour":case"hrs":case"hr":case"h":return I*p;case"minutes":case"minute":case"mins":case"min":case"m":return I*_;case"seconds":case"second":case"secs":case"sec":case"s":return I*z;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return I;default:return}}}}(F);if("number"===I&&isFinite(F))return L.long?function A(F){var L=Math.abs(F);return L>=E?O(F,L,E,"day"):L>=p?O(F,L,p,"hour"):L>=_?O(F,L,_,"minute"):L>=z?O(F,L,z,"second"):F+" ms"}(F):function R(F){var L=Math.abs(F);return L>=E?Math.round(F/E)+"d":L>=p?Math.round(F/p)+"h":L>=_?Math.round(F/_)+"m":L>=z?Math.round(F/z)+"s":F+"ms"}(F);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(F))}},1424:(Fe,z,_)=>{_(23963)},44514:Fe=>{var z=1e3,_=60*z,p=60*_,E=24*p,k=7*E;function O(F,L,I,Z){var j=L>=1.5*I;return Math.round(F/I)+" "+Z+(j?"s":"")}Fe.exports=function(F,L){L=L||{};var I=typeof F;if("string"===I&&F.length>0)return function x(F){if(!((F=String(F)).length>100)){var L=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(F);if(L){var I=parseFloat(L[1]);switch((L[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*I;case"weeks":case"week":case"w":return I*k;case"days":case"day":case"d":return I*E;case"hours":case"hour":case"hrs":case"hr":case"h":return I*p;case"minutes":case"minute":case"mins":case"min":case"m":return I*_;case"seconds":case"second":case"secs":case"sec":case"s":return I*z;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return I;default:return}}}}(F);if("number"===I&&isFinite(F))return L.long?function A(F){var L=Math.abs(F);return L>=E?O(F,L,E,"day"):L>=p?O(F,L,p,"hour"):L>=_?O(F,L,_,"minute"):L>=z?O(F,L,z,"second"):F+" ms"}(F):function R(F){var L=Math.abs(F);return L>=E?Math.round(F/E)+"d":L>=p?Math.round(F/p)+"h":L>=_?Math.round(F/_)+"m":L>=z?Math.round(F/z)+"s":F+"ms"}(F);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(F))}},89565:(Fe,z,_)=>{"use strict";const p=_(13981),E=_(22020),k="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=A,z.SlowBuffer=function Y(B){return+B!=B&&(B=0),A.alloc(+B)},z.INSPECT_MAX_BYTES=50;const H=2147483647;function R(B){if(B>H)throw new RangeError('The value "'+B+'" is invalid for option "size"');const w=new Uint8Array(B);return Object.setPrototypeOf(w,A.prototype),w}function A(B,w,m){if("number"==typeof B){if("string"==typeof w)throw new TypeError('The "string" argument must be of type string. Received type number');return I(B)}return O(B,w,m)}function O(B,w,m){if("string"==typeof B)return function Z(B,w){if(("string"!=typeof w||""===w)&&(w="utf8"),!A.isEncoding(w))throw new TypeError("Unknown encoding: "+w);const m=0|oe(B,w);let U=R(m);const ne=U.write(B,w);return ne!==m&&(U=U.slice(0,ne)),U}(B,w);if(ArrayBuffer.isView(B))return function G(B){if(Le(B,Uint8Array)){const w=new Uint8Array(B);return re(w.buffer,w.byteOffset,w.byteLength)}return j(B)}(B);if(null==B)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(Le(B,ArrayBuffer)||B&&Le(B.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Le(B,SharedArrayBuffer)||B&&Le(B.buffer,SharedArrayBuffer)))return re(B,w,m);if("number"==typeof B)throw new TypeError('The "value" argument must not be of type number. Received type number');const U=B.valueOf&&B.valueOf();if(null!=U&&U!==B)return A.from(U,w,m);const ne=function te(B){if(A.isBuffer(B)){const w=0|J(B.length),m=R(w);return 0===m.length||B.copy(m,0,0,w),m}return void 0!==B.length?"number"!=typeof B.length||_t(B.length)?R(0):j(B):"Buffer"===B.type&&Array.isArray(B.data)?j(B.data):void 0}(B);if(ne)return ne;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof B[Symbol.toPrimitive])return A.from(B[Symbol.toPrimitive]("string"),w,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}function F(B){if("number"!=typeof B)throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function I(B){return F(B),R(B<0?0:0|J(B))}function j(B){const w=B.length<0?0:0|J(B.length),m=R(w);for(let U=0;U<w;U+=1)m[U]=255&B[U];return m}function re(B,w,m){if(w<0||B.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<w+(m||0))throw new RangeError('"length" is outside of buffer bounds');let U;return U=void 0===w&&void 0===m?new Uint8Array(B):void 0===m?new Uint8Array(B,w):new Uint8Array(B,w,m),Object.setPrototypeOf(U,A.prototype),U}function J(B){if(B>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|B}function oe(B,w){if(A.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||Le(B,ArrayBuffer))return B.byteLength;if("string"!=typeof B)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);const m=B.length,U=arguments.length>2&&!0===arguments[2];if(!U&&0===m)return 0;let ne=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return ie(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*m;case"hex":return m>>>1;case"base64":return ke(B).length;default:if(ne)return U?-1:ie(B).length;w=(""+w).toLowerCase(),ne=!0}}function ae(B,w,m){let U=!1;if((void 0===w||w<0)&&(w=0),w>this.length||((void 0===m||m>this.length)&&(m=this.length),m<=0)||(m>>>=0)<=(w>>>=0))return"";for(B||(B="utf8");;)switch(B){case"hex":return M(this,w,m);case"utf8":case"utf-8":return y(this,w,m);case"ascii":return T(this,w,m);case"latin1":case"binary":return N(this,w,m);case"base64":return u(this,w,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,w,m);default:if(U)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),U=!0}}function se(B,w,m){const U=B[w];B[w]=B[m],B[m]=U}function de(B,w,m,U,ne){if(0===B.length)return-1;if("string"==typeof m?(U=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),_t(m=+m)&&(m=ne?0:B.length-1),m<0&&(m=B.length+m),m>=B.length){if(ne)return-1;m=B.length-1}else if(m<0){if(!ne)return-1;m=0}if("string"==typeof w&&(w=A.from(w,U)),A.isBuffer(w))return 0===w.length?-1:le(B,w,m,U,ne);if("number"==typeof w)return w&=255,"function"==typeof Uint8Array.prototype.indexOf?ne?Uint8Array.prototype.indexOf.call(B,w,m):Uint8Array.prototype.lastIndexOf.call(B,w,m):le(B,[w],m,U,ne);throw new TypeError("val must be string, number or Buffer")}function le(B,w,m,U,ne){let gt,ge=1,Ae=B.length,Qe=w.length;if(void 0!==U&&("ucs2"===(U=String(U).toLowerCase())||"ucs-2"===U||"utf16le"===U||"utf-16le"===U)){if(B.length<2||w.length<2)return-1;ge=2,Ae/=2,Qe/=2,m/=2}function Bt(It,Gt){return 1===ge?It[Gt]:It.readUInt16BE(Gt*ge)}if(ne){let It=-1;for(gt=m;gt<Ae;gt++)if(Bt(B,gt)===Bt(w,-1===It?0:gt-It)){if(-1===It&&(It=gt),gt-It+1===Qe)return It*ge}else-1!==It&&(gt-=gt-It),It=-1}else for(m+Qe>Ae&&(m=Ae-Qe),gt=m;gt>=0;gt--){let It=!0;for(let Gt=0;Gt<Qe;Gt++)if(Bt(B,gt+Gt)!==Bt(w,Gt)){It=!1;break}if(It)return gt}return-1}function we(B,w,m,U){m=Number(m)||0;const ne=B.length-m;U?(U=Number(U))>ne&&(U=ne):U=ne;const ge=w.length;let Ae;for(U>ge/2&&(U=ge/2),Ae=0;Ae<U;++Ae){const Qe=parseInt(w.substr(2*Ae,2),16);if(_t(Qe))return Ae;B[m+Ae]=Qe}return Ae}function xe(B,w,m,U){return Ue(ie(w,B.length-m),B,m,U)}function Ce(B,w,m,U){return Ue(function ue(B){const w=[];for(let m=0;m<B.length;++m)w.push(255&B.charCodeAt(m));return w}(w),B,m,U)}function C(B,w,m,U){return Ue(ke(w),B,m,U)}function a(B,w,m,U){return Ue(function Ee(B,w){let m,U,ne;const ge=[];for(let Ae=0;Ae<B.length&&!((w-=2)<0);++Ae)m=B.charCodeAt(Ae),U=m>>8,ne=m%256,ge.push(ne),ge.push(U);return ge}(w,B.length-m),B,m,U)}function u(B,w,m){return p.fromByteArray(0===w&&m===B.length?B:B.slice(w,m))}function y(B,w,m){m=Math.min(B.length,m);const U=[];let ne=w;for(;ne<m;){const ge=B[ne];let Ae=null,Qe=ge>239?4:ge>223?3:ge>191?2:1;if(ne+Qe<=m){let Bt,gt,It,Gt;switch(Qe){case 1:ge<128&&(Ae=ge);break;case 2:Bt=B[ne+1],128==(192&Bt)&&(Gt=(31&ge)<<6|63&Bt,Gt>127&&(Ae=Gt));break;case 3:Bt=B[ne+1],gt=B[ne+2],128==(192&Bt)&&128==(192&gt)&&(Gt=(15&ge)<<12|(63&Bt)<<6|63&gt,Gt>2047&&(Gt<55296||Gt>57343)&&(Ae=Gt));break;case 4:Bt=B[ne+1],gt=B[ne+2],It=B[ne+3],128==(192&Bt)&&128==(192&gt)&&128==(192&It)&&(Gt=(15&ge)<<18|(63&Bt)<<12|(63&gt)<<6|63&It,Gt>65535&&Gt<1114112&&(Ae=Gt))}}null===Ae?(Ae=65533,Qe=1):Ae>65535&&(Ae-=65536,U.push(Ae>>>10&1023|55296),Ae=56320|1023&Ae),U.push(Ae),ne+=Qe}return function S(B){const w=B.length;if(w<=g)return String.fromCharCode.apply(String,B);let m="",U=0;for(;U<w;)m+=String.fromCharCode.apply(String,B.slice(U,U+=g));return m}(U)}z.kMaxLength=H,!(A.TYPED_ARRAY_SUPPORT=function x(){try{const B=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(B,w),42===B.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(B,w,m){return O(B,w,m)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(B,w,m){return function L(B,w,m){return F(B),B<=0?R(B):void 0!==w?"string"==typeof m?R(B).fill(w,m):R(B).fill(w):R(B)}(B,w,m)},A.allocUnsafe=function(B){return I(B)},A.allocUnsafeSlow=function(B){return I(B)},A.isBuffer=function(w){return null!=w&&!0===w._isBuffer&&w!==A.prototype},A.compare=function(w,m){if(Le(w,Uint8Array)&&(w=A.from(w,w.offset,w.byteLength)),Le(m,Uint8Array)&&(m=A.from(m,m.offset,m.byteLength)),!A.isBuffer(w)||!A.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===m)return 0;let U=w.length,ne=m.length;for(let ge=0,Ae=Math.min(U,ne);ge<Ae;++ge)if(w[ge]!==m[ge]){U=w[ge],ne=m[ge];break}return U<ne?-1:ne<U?1:0},A.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(w,m){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(0===w.length)return A.alloc(0);let U;if(void 0===m)for(m=0,U=0;U<w.length;++U)m+=w[U].length;const ne=A.allocUnsafe(m);let ge=0;for(U=0;U<w.length;++U){let Ae=w[U];if(Le(Ae,Uint8Array))ge+Ae.length>ne.length?(A.isBuffer(Ae)||(Ae=A.from(Ae)),Ae.copy(ne,ge)):Uint8Array.prototype.set.call(ne,Ae,ge);else{if(!A.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(ne,ge)}ge+=Ae.length}return ne},A.byteLength=oe,A.prototype._isBuffer=!0,A.prototype.swap16=function(){const w=this.length;if(w%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<w;m+=2)se(this,m,m+1);return this},A.prototype.swap32=function(){const w=this.length;if(w%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<w;m+=4)se(this,m,m+3),se(this,m+1,m+2);return this},A.prototype.swap64=function(){const w=this.length;if(w%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<w;m+=8)se(this,m,m+7),se(this,m+1,m+6),se(this,m+2,m+5),se(this,m+3,m+4);return this},A.prototype.toLocaleString=A.prototype.toString=function(){const w=this.length;return 0===w?"":0===arguments.length?y(this,0,w):ae.apply(this,arguments)},A.prototype.equals=function(w){if(!A.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w||0===A.compare(this,w)},A.prototype.inspect=function(){let w="";const m=z.INSPECT_MAX_BYTES;return w=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(w+=" ... "),"<Buffer "+w+">"},k&&(A.prototype[k]=A.prototype.inspect),A.prototype.compare=function(w,m,U,ne,ge){if(Le(w,Uint8Array)&&(w=A.from(w,w.offset,w.byteLength)),!A.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(void 0===m&&(m=0),void 0===U&&(U=w?w.length:0),void 0===ne&&(ne=0),void 0===ge&&(ge=this.length),m<0||U>w.length||ne<0||ge>this.length)throw new RangeError("out of range index");if(ne>=ge&&m>=U)return 0;if(ne>=ge)return-1;if(m>=U)return 1;if(this===w)return 0;let Ae=(ge>>>=0)-(ne>>>=0),Qe=(U>>>=0)-(m>>>=0);const Bt=Math.min(Ae,Qe),gt=this.slice(ne,ge),It=w.slice(m,U);for(let Gt=0;Gt<Bt;++Gt)if(gt[Gt]!==It[Gt]){Ae=gt[Gt],Qe=It[Gt];break}return Ae<Qe?-1:Qe<Ae?1:0},A.prototype.includes=function(w,m,U){return-1!==this.indexOf(w,m,U)},A.prototype.indexOf=function(w,m,U){return de(this,w,m,U,!0)},A.prototype.lastIndexOf=function(w,m,U){return de(this,w,m,U,!1)},A.prototype.write=function(w,m,U,ne){if(void 0===m)ne="utf8",U=this.length,m=0;else if(void 0===U&&"string"==typeof m)ne=m,U=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m>>>=0,isFinite(U)?(U>>>=0,void 0===ne&&(ne="utf8")):(ne=U,U=void 0)}const ge=this.length-m;if((void 0===U||U>ge)&&(U=ge),w.length>0&&(U<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");let Ae=!1;for(;;)switch(ne){case"hex":return we(this,w,m,U);case"utf8":case"utf-8":return xe(this,w,m,U);case"ascii":case"latin1":case"binary":return Ce(this,w,m,U);case"base64":return C(this,w,m,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,w,m,U);default:if(Ae)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),Ae=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const g=4096;function T(B,w,m){let U="";m=Math.min(B.length,m);for(let ne=w;ne<m;++ne)U+=String.fromCharCode(127&B[ne]);return U}function N(B,w,m){let U="";m=Math.min(B.length,m);for(let ne=w;ne<m;++ne)U+=String.fromCharCode(B[ne]);return U}function M(B,w,m){const U=B.length;(!w||w<0)&&(w=0),(!m||m<0||m>U)&&(m=U);let ne="";for(let ge=w;ge<m;++ge)ne+=Ve[B[ge]];return ne}function s(B,w,m){const U=B.slice(w,m);let ne="";for(let ge=0;ge<U.length-1;ge+=2)ne+=String.fromCharCode(U[ge]+256*U[ge+1]);return ne}function v(B,w,m){if(B%1!=0||B<0)throw new RangeError("offset is not uint");if(B+w>m)throw new RangeError("Trying to access beyond buffer length")}function W(B,w,m,U,ne,ge){if(!A.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>ne||w<ge)throw new RangeError('"value" argument is out of bounds');if(m+U>B.length)throw new RangeError("Index out of range")}function K(B,w,m,U,ne){ye(w,U,ne,B,m,7);let ge=Number(w&BigInt(4294967295));B[m++]=ge,ge>>=8,B[m++]=ge,ge>>=8,B[m++]=ge,ge>>=8,B[m++]=ge;let Ae=Number(w>>BigInt(32)&BigInt(4294967295));return B[m++]=Ae,Ae>>=8,B[m++]=Ae,Ae>>=8,B[m++]=Ae,Ae>>=8,B[m++]=Ae,m}function ee(B,w,m,U,ne){ye(w,U,ne,B,m,7);let ge=Number(w&BigInt(4294967295));B[m+7]=ge,ge>>=8,B[m+6]=ge,ge>>=8,B[m+5]=ge,ge>>=8,B[m+4]=ge;let Ae=Number(w>>BigInt(32)&BigInt(4294967295));return B[m+3]=Ae,Ae>>=8,B[m+2]=Ae,Ae>>=8,B[m+1]=Ae,Ae>>=8,B[m]=Ae,m+8}function ce(B,w,m,U,ne,ge){if(m+U>B.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function _e(B,w,m,U,ne){return w=+w,m>>>=0,ne||ce(B,0,m,4),E.write(B,w,m,U,23,4),m+4}function Pe(B,w,m,U,ne){return w=+w,m>>>=0,ne||ce(B,0,m,8),E.write(B,w,m,U,52,8),m+8}A.prototype.slice=function(w,m){const U=this.length;(w=~~w)<0?(w+=U)<0&&(w=0):w>U&&(w=U),(m=void 0===m?U:~~m)<0?(m+=U)<0&&(m=0):m>U&&(m=U),m<w&&(m=w);const ne=this.subarray(w,m);return Object.setPrototypeOf(ne,A.prototype),ne},A.prototype.readUintLE=A.prototype.readUIntLE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[w+Ae]*ge;return ne},A.prototype.readUintBE=A.prototype.readUIntBE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w+--m],ge=1;for(;m>0&&(ge*=256);)ne+=this[w+--m]*ge;return ne},A.prototype.readUint8=A.prototype.readUInt8=function(w,m){return w>>>=0,m||v(w,1,this.length),this[w]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(w,m){return w>>>=0,m||v(w,2,this.length),this[w]|this[w+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(w,m){return w>>>=0,m||v(w,2,this.length),this[w]<<8|this[w+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(w,m){return w>>>=0,m||v(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+16777216*this[w+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(w,m){return w>>>=0,m||v(w,4,this.length),16777216*this[w]+(this[w+1]<<16|this[w+2]<<8|this[w+3])},A.prototype.readBigUInt64LE=Be(function(w){Te(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=m+256*this[++w]+65536*this[++w]+this[++w]*2**24,ge=this[++w]+256*this[++w]+65536*this[++w]+U*2**24;return BigInt(ne)+(BigInt(ge)<<BigInt(32))}),A.prototype.readBigUInt64BE=Be(function(w){Te(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=m*2**24+65536*this[++w]+256*this[++w]+this[++w],ge=this[++w]*2**24+65536*this[++w]+256*this[++w]+U;return(BigInt(ne)<<BigInt(32))+BigInt(ge)}),A.prototype.readIntLE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[w+Ae]*ge;return ge*=128,ne>=ge&&(ne-=Math.pow(2,8*m)),ne},A.prototype.readIntBE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=m,ge=1,Ae=this[w+--ne];for(;ne>0&&(ge*=256);)Ae+=this[w+--ne]*ge;return ge*=128,Ae>=ge&&(Ae-=Math.pow(2,8*m)),Ae},A.prototype.readInt8=function(w,m){return w>>>=0,m||v(w,1,this.length),128&this[w]?-1*(255-this[w]+1):this[w]},A.prototype.readInt16LE=function(w,m){w>>>=0,m||v(w,2,this.length);const U=this[w]|this[w+1]<<8;return 32768&U?4294901760|U:U},A.prototype.readInt16BE=function(w,m){w>>>=0,m||v(w,2,this.length);const U=this[w+1]|this[w]<<8;return 32768&U?4294901760|U:U},A.prototype.readInt32LE=function(w,m){return w>>>=0,m||v(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},A.prototype.readInt32BE=function(w,m){return w>>>=0,m||v(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},A.prototype.readBigInt64LE=Be(function(w){Te(w>>>=0,"offset");const m=this[w],U=this[w+7];return(void 0===m||void 0===U)&&pe(w,this.length-8),(BigInt(this[w+4]+256*this[w+5]+65536*this[w+6]+(U<<24))<<BigInt(32))+BigInt(m+256*this[++w]+65536*this[++w]+this[++w]*2**24)}),A.prototype.readBigInt64BE=Be(function(w){Te(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=(m<<24)+65536*this[++w]+256*this[++w]+this[++w];return(BigInt(ne)<<BigInt(32))+BigInt(this[++w]*2**24+65536*this[++w]+256*this[++w]+U)}),A.prototype.readFloatLE=function(w,m){return w>>>=0,m||v(w,4,this.length),E.read(this,w,!0,23,4)},A.prototype.readFloatBE=function(w,m){return w>>>=0,m||v(w,4,this.length),E.read(this,w,!1,23,4)},A.prototype.readDoubleLE=function(w,m){return w>>>=0,m||v(w,8,this.length),E.read(this,w,!0,52,8)},A.prototype.readDoubleBE=function(w,m){return w>>>=0,m||v(w,8,this.length),E.read(this,w,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(w,m,U,ne){w=+w,m>>>=0,U>>>=0,ne||W(this,w,m,U,Math.pow(2,8*U)-1,0);let ge=1,Ae=0;for(this[m]=255&w;++Ae<U&&(ge*=256);)this[m+Ae]=w/ge&255;return m+U},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(w,m,U,ne){w=+w,m>>>=0,U>>>=0,ne||W(this,w,m,U,Math.pow(2,8*U)-1,0);let ge=U-1,Ae=1;for(this[m+ge]=255&w;--ge>=0&&(Ae*=256);)this[m+ge]=w/Ae&255;return m+U},A.prototype.writeUint8=A.prototype.writeUInt8=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,1,255,0),this[m]=255&w,m+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,65535,0),this[m]=255&w,this[m+1]=w>>>8,m+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,65535,0),this[m]=w>>>8,this[m+1]=255&w,m+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,4294967295,0),this[m+3]=w>>>24,this[m+2]=w>>>16,this[m+1]=w>>>8,this[m]=255&w,m+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,4294967295,0),this[m]=w>>>24,this[m+1]=w>>>16,this[m+2]=w>>>8,this[m+3]=255&w,m+4},A.prototype.writeBigUInt64LE=Be(function(w,m=0){return K(this,w,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=Be(function(w,m=0){return ee(this,w,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(w,m,U,ne){if(w=+w,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,w,m,U,Bt-1,-Bt)}let ge=0,Ae=1,Qe=0;for(this[m]=255&w;++ge<U&&(Ae*=256);)w<0&&0===Qe&&0!==this[m+ge-1]&&(Qe=1),this[m+ge]=(w/Ae|0)-Qe&255;return m+U},A.prototype.writeIntBE=function(w,m,U,ne){if(w=+w,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,w,m,U,Bt-1,-Bt)}let ge=U-1,Ae=1,Qe=0;for(this[m+ge]=255&w;--ge>=0&&(Ae*=256);)w<0&&0===Qe&&0!==this[m+ge+1]&&(Qe=1),this[m+ge]=(w/Ae|0)-Qe&255;return m+U},A.prototype.writeInt8=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,1,127,-128),w<0&&(w=255+w+1),this[m]=255&w,m+1},A.prototype.writeInt16LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,32767,-32768),this[m]=255&w,this[m+1]=w>>>8,m+2},A.prototype.writeInt16BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,32767,-32768),this[m]=w>>>8,this[m+1]=255&w,m+2},A.prototype.writeInt32LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,2147483647,-2147483648),this[m]=255&w,this[m+1]=w>>>8,this[m+2]=w>>>16,this[m+3]=w>>>24,m+4},A.prototype.writeInt32BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[m]=w>>>24,this[m+1]=w>>>16,this[m+2]=w>>>8,this[m+3]=255&w,m+4},A.prototype.writeBigInt64LE=Be(function(w,m=0){return K(this,w,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=Be(function(w,m=0){return ee(this,w,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeFloatLE=function(w,m,U){return _e(this,w,m,!0,U)},A.prototype.writeFloatBE=function(w,m,U){return _e(this,w,m,!1,U)},A.prototype.writeDoubleLE=function(w,m,U){return Pe(this,w,m,!0,U)},A.prototype.writeDoubleBE=function(w,m,U){return Pe(this,w,m,!1,U)},A.prototype.copy=function(w,m,U,ne){if(!A.isBuffer(w))throw new TypeError("argument should be a Buffer");if(U||(U=0),!ne&&0!==ne&&(ne=this.length),m>=w.length&&(m=w.length),m||(m=0),ne>0&&ne<U&&(ne=U),ne===U||0===w.length||0===this.length)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),w.length-m<ne-U&&(ne=w.length-m+U);const ge=ne-U;return this===w&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(m,U,ne):Uint8Array.prototype.set.call(w,this.subarray(U,ne),m),ge},A.prototype.fill=function(w,m,U,ne){if("string"==typeof w){if("string"==typeof m?(ne=m,m=0,U=this.length):"string"==typeof U&&(ne=U,U=this.length),void 0!==ne&&"string"!=typeof ne)throw new TypeError("encoding must be a string");if("string"==typeof ne&&!A.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(1===w.length){const Ae=w.charCodeAt(0);("utf8"===ne&&Ae<128||"latin1"===ne)&&(w=Ae)}}else"number"==typeof w?w&=255:"boolean"==typeof w&&(w=Number(w));if(m<0||this.length<m||this.length<U)throw new RangeError("Out of range index");if(U<=m)return this;let ge;if(m>>>=0,U=void 0===U?this.length:U>>>0,w||(w=0),"number"==typeof w)for(ge=m;ge<U;++ge)this[ge]=w;else{const Ae=A.isBuffer(w)?w:A.from(w,ne),Qe=Ae.length;if(0===Qe)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(ge=0;ge<U-m;++ge)this[ge+m]=Ae[ge%Qe]}return this};const $e={};function Se(B,w,m){$e[B]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${B}]`,delete this.name}get code(){return B}set code(ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ne,writable:!0})}toString(){return`${this.name} [${B}]: ${this.message}`}}}function be(B){let w="",m=B.length;const U="-"===B[0]?1:0;for(;m>=U+4;m-=3)w=`_${B.slice(m-3,m)}${w}`;return`${B.slice(0,m)}${w}`}function ye(B,w,m,U,ne,ge){if(B>m||B<w){const Ae="bigint"==typeof w?"n":"";let Qe;throw Qe=ge>3?0===w||w===BigInt(0)?`>= 0${Ae} and < 2${Ae} ** ${8*(ge+1)}${Ae}`:`>= -(2${Ae} ** ${8*(ge+1)-1}${Ae}) and < 2 ** ${8*(ge+1)-1}${Ae}`:`>= ${w}${Ae} and <= ${m}${Ae}`,new $e.ERR_OUT_OF_RANGE("value",Qe,B)}!function Ne(B,w,m){Te(w,"offset"),(void 0===B[w]||void 0===B[w+m])&&pe(w,B.length-(m+1))}(U,ne,ge)}function Te(B,w){if("number"!=typeof B)throw new $e.ERR_INVALID_ARG_TYPE(w,"number",B)}function pe(B,w,m){throw Math.floor(B)!==B?(Te(B,m),new $e.ERR_OUT_OF_RANGE(m||"offset","an integer",B)):w<0?new $e.ERR_BUFFER_OUT_OF_BOUNDS:new $e.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${w}`,B)}Se("ERR_BUFFER_OUT_OF_BOUNDS",function(B){return B?`${B} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Se("ERR_INVALID_ARG_TYPE",function(B,w){return`The "${B}" argument must be of type number. Received type ${typeof w}`},TypeError),Se("ERR_OUT_OF_RANGE",function(B,w,m){let U=`The value of "${B}" is out of range.`,ne=m;return Number.isInteger(m)&&Math.abs(m)>2**32?ne=be(String(m)):"bigint"==typeof m&&(ne=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(ne=be(ne)),ne+="n"),U+=` It must be ${w}. Received ${ne}`,U},RangeError);const fe=/[^+/0-9A-Za-z-_]/g;function ie(B,w){let m;w=w||1/0;const U=B.length;let ne=null;const ge=[];for(let Ae=0;Ae<U;++Ae){if(m=B.charCodeAt(Ae),m>55295&&m<57344){if(!ne){if(m>56319){(w-=3)>-1&&ge.push(239,191,189);continue}if(Ae+1===U){(w-=3)>-1&&ge.push(239,191,189);continue}ne=m;continue}if(m<56320){(w-=3)>-1&&ge.push(239,191,189),ne=m;continue}m=65536+(ne-55296<<10|m-56320)}else ne&&(w-=3)>-1&&ge.push(239,191,189);if(ne=null,m<128){if((w-=1)<0)break;ge.push(m)}else if(m<2048){if((w-=2)<0)break;ge.push(m>>6|192,63&m|128)}else if(m<65536){if((w-=3)<0)break;ge.push(m>>12|224,m>>6&63|128,63&m|128)}else{if(!(m<1114112))throw new Error("Invalid code point");if((w-=4)<0)break;ge.push(m>>18|240,m>>12&63|128,m>>6&63|128,63&m|128)}}return ge}function ke(B){return p.toByteArray(function Q(B){if((B=(B=B.split("=")[0]).trim().replace(fe,"")).length<2)return"";for(;B.length%4!=0;)B+="=";return B}(B))}function Ue(B,w,m,U){let ne;for(ne=0;ne<U&&!(ne+m>=w.length||ne>=B.length);++ne)w[ne+m]=B[ne];return ne}function Le(B,w){return B instanceof w||null!=B&&null!=B.constructor&&null!=B.constructor.name&&B.constructor.name===w.name}function _t(B){return B!=B}const Ve=function(){const B="0123456789abcdef",w=new Array(256);for(let m=0;m<16;++m){const U=16*m;for(let ne=0;ne<16;++ne)w[U+ne]=B[m]+B[ne]}return w}();function Be(B){return typeof BigInt>"u"?lt:B}function lt(){throw new Error("BigInt not supported")}},24785:(Fe,z,_)=>{"use strict";const{AbortError:p,codes:E}=_(65109),{isNodeStream:k,isWebStream:H,kControllerErrorFunction:x}=_(51233),R=_(44268),{ERR_INVALID_ARG_TYPE:A}=E;Fe.exports.addAbortSignal=function(L,I){if(((F,L)=>{if("object"!=typeof F||!("aborted"in F))throw new A("signal","AbortSignal",F)})(L),!k(I)&&!H(I))throw new A("stream",["ReadableStream","WritableStream","Stream"],I);return Fe.exports.addAbortSignalNoValidate(L,I)},Fe.exports.addAbortSignalNoValidate=function(F,L){if("object"!=typeof F||!("aborted"in F))return L;const I=k(L)?()=>{L.destroy(new p(void 0,{cause:F.reason}))}:()=>{L[x](new p(void 0,{cause:F.reason}))};return F.aborted?I():(F.addEventListener("abort",I),R(L,()=>F.removeEventListener("abort",I))),L}},58579:(Fe,z,_)=>{"use strict";const{StringPrototypeSlice:p,SymbolIterator:E,TypedArrayPrototypeSet:k,Uint8Array:H}=_(43856),{Buffer:x}=_(89565),{inspect:R}=_(55830);Fe.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(O){const F={data:O,next:null};this.length>0?this.tail.next=F:this.head=F,this.tail=F,++this.length}unshift(O){const F={data:O,next:this.head};0===this.length&&(this.tail=F),this.head=F,++this.length}shift(){if(0===this.length)return;const O=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,O}clear(){this.head=this.tail=null,this.length=0}join(O){if(0===this.length)return"";let F=this.head,L=""+F.data;for(;null!==(F=F.next);)L+=O+F.data;return L}concat(O){if(0===this.length)return x.alloc(0);const F=x.allocUnsafe(O>>>0);let L=this.head,I=0;for(;L;)k(F,L.data,I),I+=L.data.length,L=L.next;return F}consume(O,F){const L=this.head.data;if(O<L.length){const I=L.slice(0,O);return this.head.data=L.slice(O),I}return O===L.length?this.shift():F?this._getString(O):this._getBuffer(O)}first(){return this.head.data}*[E](){for(let O=this.head;O;O=O.next)yield O.data}_getString(O){let F="",L=this.head,I=0;do{const Z=L.data;if(!(O>Z.length)){O===Z.length?(F+=Z,++I,this.head=L.next?L.next:this.tail=null):(F+=p(Z,0,O),this.head=L,L.data=p(Z,O));break}F+=Z,O-=Z.length,++I}while(null!==(L=L.next));return this.length-=I,F}_getBuffer(O){const F=x.allocUnsafe(O),L=O;let I=this.head,Z=0;do{const j=I.data;if(!(O>j.length)){O===j.length?(k(F,j,L-O),++Z,this.head=I.next?I.next:this.tail=null):(k(F,new H(j.buffer,j.byteOffset,O),L-O),this.head=I,I.data=j.slice(O));break}k(F,j,L-O),O-=j.length,++Z}while(null!==(I=I.next));return this.length-=Z,F}[Symbol.for("nodejs.util.inspect.custom")](O,F){return R(this,{...F,depth:0,customInspect:!1})}}},5464:(Fe,z,_)=>{"use strict";var p=_(29293).default;const{pipeline:E}=_(96208),k=_(97464),{destroyer:H}=_(45078),{isNodeStream:x,isReadable:R,isWritable:A,isWebStream:O,isTransformStream:F,isWritableStream:L,isReadableStream:I}=_(51233),{AbortError:Z,codes:{ERR_INVALID_ARG_VALUE:j,ERR_MISSING_ARGS:G}}=_(65109),re=_(44268);Fe.exports=function(...J){if(0===J.length)throw new G("streams");if(1===J.length)return k.from(J[0]);const Y=[...J];if("function"==typeof J[0]&&(J[0]=k.from(J[0])),"function"==typeof J[J.length-1]){const u=J.length-1;J[u]=k.from(J[u])}for(let u=0;u<J.length;++u)if(x(J[u])||O(J[u])){if(u<J.length-1&&!(R(J[u])||I(J[u])||F(J[u])))throw new j(`streams[${u}]`,Y[u],"must be readable");if(u>0&&!(A(J[u])||L(J[u])||F(J[u])))throw new j(`streams[${u}]`,Y[u],"must be writable")}let oe,ae,se,de,le;const xe=J[0],Ce=E(J,function we(u){const y=de;de=null,y?y(u):u?le.destroy(u):!a&&!C&&le.destroy()}),C=!!(A(xe)||L(xe)||F(xe)),a=!!(R(Ce)||I(Ce)||F(Ce));if(le=new k({writableObjectMode:!(null==xe||!xe.writableObjectMode),readableObjectMode:!(null==Ce||!Ce.writableObjectMode),writable:C,readable:a}),C){if(x(xe))le._write=function(y,g,S){xe.write(y,g)?S():oe=S},le._final=function(y){xe.end(),ae=y},xe.on("drain",function(){if(oe){const y=oe;oe=null,y()}});else if(O(xe)){const g=(F(xe)?xe.writable:xe).getWriter();le._write=function(){var S=p(function*(T,N,M){try{yield g.ready,g.write(T).catch(()=>{}),M()}catch(s){M(s)}});return function(T,N,M){return S.apply(this,arguments)}}(),le._final=function(){var S=p(function*(T){try{yield g.ready,g.close().catch(()=>{}),ae=T}catch(N){T(N)}});return function(T){return S.apply(this,arguments)}}()}const u=F(Ce)?Ce.readable:Ce;re(u,()=>{if(ae){const y=ae;ae=null,y()}})}if(a)if(x(Ce))Ce.on("readable",function(){if(se){const u=se;se=null,u()}}),Ce.on("end",function(){le.push(null)}),le._read=function(){for(;;){const u=Ce.read();if(null===u)return void(se=le._read);if(!le.push(u))return}};else if(O(Ce)){const y=(F(Ce)?Ce.readable:Ce).getReader();le._read=p(function*(){for(;;)try{const{value:g,done:S}=yield y.read();if(!le.push(g))return;if(S)return void le.push(null)}catch{return}})}return le._destroy=function(u,y){!u&&null!==de&&(u=new Z),se=null,oe=null,ae=null,null===de?y(u):(de=y,x(Ce)&&H(Ce,u))},le}},45078:(Fe,z,_)=>{"use strict";const p=_(40573),{aggregateTwoErrors:E,codes:{ERR_MULTIPLE_CALLBACK:k},AbortError:H}=_(65109),{Symbol:x}=_(43856),{kDestroyed:R,isDestroyed:A,isFinished:O,isServerRequest:F}=_(51233),L=x("kDestroy"),I=x("kConstruct");function Z(C,a,u){C&&(a&&!a.errored&&(a.errored=C),u&&!u.errored&&(u.errored=C))}function G(C,a,u){let y=!1;function g(S){if(y)return;y=!0;const T=C._readableState,N=C._writableState;Z(S,N,T),N&&(N.closed=!0),T&&(T.closed=!0),"function"==typeof u&&u(S),S?p.nextTick(re,C,S):p.nextTick(te,C)}try{C._destroy(a||null,g)}catch(S){g(S)}}function re(C,a){J(C,a),te(C)}function te(C){const a=C._readableState,u=C._writableState;u&&(u.closeEmitted=!0),a&&(a.closeEmitted=!0),(null!=u&&u.emitClose||null!=a&&a.emitClose)&&C.emit("close")}function J(C,a){const u=C._readableState,y=C._writableState;null!=y&&y.errorEmitted||null!=u&&u.errorEmitted||(y&&(y.errorEmitted=!0),u&&(u.errorEmitted=!0),C.emit("error",a))}function oe(C,a,u){const y=C._readableState,g=C._writableState;if(null!=g&&g.destroyed||null!=y&&y.destroyed)return this;null!=y&&y.autoDestroy||null!=g&&g.autoDestroy?C.destroy(a):a&&(g&&!g.errored&&(g.errored=a),y&&!y.errored&&(y.errored=a),u?p.nextTick(J,C,a):J(C,a))}function se(C){let a=!1;function u(y){if(a)return void oe(C,y??new k);a=!0;const g=C._readableState,S=C._writableState,T=S||g;g&&(g.constructed=!0),S&&(S.constructed=!0),T.destroyed?C.emit(L,y):y?oe(C,y,!0):p.nextTick(de,C)}try{C._construct(y=>{p.nextTick(u,y)})}catch(y){p.nextTick(u,y)}}function de(C){C.emit(I)}function le(C){return C?.setHeader&&"function"==typeof C.abort}function we(C){C.emit("close")}function xe(C,a){C.emit("error",a),p.nextTick(we,C)}Fe.exports={construct:function ae(C,a){if("function"!=typeof C._construct)return;const u=C._readableState,y=C._writableState;u&&(u.constructed=!1),y&&(y.constructed=!1),C.once(I,a),!(C.listenerCount(I)>1)&&p.nextTick(se,C)},destroyer:function Ce(C,a){!C||A(C)||(!a&&!O(C)&&(a=new H),F(C)?(C.socket=null,C.destroy(a)):le(C)?C.abort():le(C.req)?C.req.abort():"function"==typeof C.destroy?C.destroy(a):"function"==typeof C.close?C.close():a?p.nextTick(xe,C,a):p.nextTick(we,C),C.destroyed||(C[R]=!0))},destroy:function j(C,a){const u=this._readableState,y=this._writableState,g=y||u;return null!=y&&y.destroyed||null!=u&&u.destroyed?("function"==typeof a&&a(),this):(Z(C,y,u),y&&(y.destroyed=!0),u&&(u.destroyed=!0),g.constructed?G(this,C,a):this.once(L,function(S){G(this,E(S,C),a)}),this)},undestroy:function Y(){const C=this._readableState,a=this._writableState;C&&(C.constructed=!0,C.closed=!1,C.closeEmitted=!1,C.destroyed=!1,C.errored=null,C.errorEmitted=!1,C.reading=!1,C.ended=!1===C.readable,C.endEmitted=!1===C.readable),a&&(a.constructed=!0,a.destroyed=!1,a.closed=!1,a.closeEmitted=!1,a.errored=null,a.errorEmitted=!1,a.finalCalled=!1,a.prefinished=!1,a.ended=!1===a.writable,a.ending=!1===a.writable,a.finished=!1===a.writable)},errorOrDestroy:oe}},97464:(Fe,z,_)=>{"use strict";const{ObjectDefineProperties:p,ObjectGetOwnPropertyDescriptor:E,ObjectKeys:k,ObjectSetPrototypeOf:H}=_(43856);Fe.exports=A;const x=_(29710),R=_(40258);H(A.prototype,x.prototype),H(A,x);{const I=k(R.prototype);for(let Z=0;Z<I.length;Z++){const j=I[Z];A.prototype[j]||(A.prototype[j]=R.prototype[j])}}function A(I){if(!(this instanceof A))return new A(I);x.call(this,I),R.call(this,I),I?(this.allowHalfOpen=!1!==I.allowHalfOpen,!1===I.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===I.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let O,L;function F(){return void 0===O&&(O={}),O}p(A.prototype,{writable:{__proto__:null,...E(R.prototype,"writable")},writableHighWaterMark:{__proto__:null,...E(R.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...E(R.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...E(R.prototype,"writableBuffer")},writableLength:{__proto__:null,...E(R.prototype,"writableLength")},writableFinished:{__proto__:null,...E(R.prototype,"writableFinished")},writableCorked:{__proto__:null,...E(R.prototype,"writableCorked")},writableEnded:{__proto__:null,...E(R.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...E(R.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(I){this._readableState&&this._writableState&&(this._readableState.destroyed=I,this._writableState.destroyed=I)}}}),A.fromWeb=function(I,Z){return F().newStreamDuplexFromReadableWritablePair(I,Z)},A.toWeb=function(I){return F().newReadableWritablePairFromDuplex(I)},A.from=function(I){return L||(L=_(56840)),L(I,"body")}},56840:(Fe,z,_)=>{var p=_(29293).default,E=_(53344).default,k=_(42958).default;const H=_(40573),x=_(89565),{isReadable:R,isWritable:A,isIterable:O,isNodeStream:F,isReadableNodeStream:L,isWritableNodeStream:I,isDuplexNodeStream:Z}=_(51233),j=_(44268),{AbortError:G,codes:{ERR_INVALID_ARG_TYPE:re,ERR_INVALID_RETURN_VALUE:te}}=_(65109),{destroyer:J}=_(45078),Y=_(97464),oe=_(29710),{createDeferredPromise:ae}=_(55830),se=_(24246),de=globalThis.Blob||x.Blob,le=typeof de<"u"?function(y){return y instanceof de}:function(y){return!1},we=globalThis.AbortController||_(9465).AbortController,{FunctionPrototypeCall:xe}=_(43856);class Ce extends Y{constructor(y){super(y),!1===y?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===y?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function a(u){const y=u.readable&&"function"!=typeof u.readable.read?oe.wrap(u.readable):u.readable,g=u.writable;let N,M,s,v,W,S=!!R(y),T=!!A(g);function K(ee){const ce=v;v=null,ce?ce(ee):ee&&W.destroy(ee)}return W=new Ce({readableObjectMode:!(null==y||!y.readableObjectMode),writableObjectMode:!(null==g||!g.writableObjectMode),readable:S,writable:T}),T&&(j(g,ee=>{T=!1,ee&&J(y,ee),K(ee)}),W._write=function(ee,ce,_e){g.write(ee,ce)?_e():N=_e},W._final=function(ee){g.end(),M=ee},g.on("drain",function(){if(N){const ee=N;N=null,ee()}}),g.on("finish",function(){if(M){const ee=M;M=null,ee()}})),S&&(j(y,ee=>{S=!1,ee&&J(y,ee),K(ee)}),y.on("readable",function(){if(s){const ee=s;s=null,ee()}}),y.on("end",function(){W.push(null)}),W._read=function(){for(;;){const ee=y.read();if(null===ee)return void(s=W._read);if(!W.push(ee))return}}),W._destroy=function(ee,ce){!ee&&null!==v&&(ee=new G),s=null,N=null,M=null,null===v?ce(ee):(v=ce,J(g,ee),J(y,ee))},W}Fe.exports=function u(y,g){if(Z(y))return y;if(L(y))return a({readable:y});if(I(y))return a({writable:y});if(F(y))return a({writable:!1,readable:!1});if("function"==typeof y){const{value:T,write:N,final:M,destroy:s}=function C(u){let{promise:y,resolve:g}=ae();const S=new we,T=S.signal;return{value:u(k(function*(){for(;;){const M=y;y=null;const{chunk:s,done:v,cb:W}=yield E(M);if(H.nextTick(W),v)return;if(T.aborted)throw new G(void 0,{cause:T.reason});({promise:y,resolve:g}=ae()),yield s}})(),{signal:T}),write(M,s,v){const W=g;g=null,W({chunk:M,done:!1,cb:v})},final(M){const s=g;g=null,s({done:!0,cb:M})},destroy(M,s){S.abort(),s(M)}}}(y);if(O(T))return se(Ce,T,{objectMode:!0,write:N,final:M,destroy:s});const v=T?.then;if("function"==typeof v){let W;const K=xe(v,T,ee=>{if(null!=ee)throw new te("nully","body",ee)},ee=>{J(W,ee)});return W=new Ce({objectMode:!0,readable:!1,write:N,final(ee){M(p(function*(){try{yield K,H.nextTick(ee,null)}catch(ce){H.nextTick(ee,ce)}}))},destroy:s})}throw new te("Iterable, AsyncIterable or AsyncFunction",g,T)}if(le(y))return u(y.arrayBuffer());if(O(y))return se(Ce,y,{objectMode:!0,writable:!1});if("object"==typeof y?.writable||"object"==typeof y?.readable)return a({readable:null!=y&&y.readable?L(y?.readable)?y?.readable:u(y.readable):void 0,writable:null!=y&&y.writable?I(y?.writable)?y?.writable:u(y.writable):void 0});const S=y?.then;if("function"==typeof S){let T;return xe(S,y,N=>{null!=N&&T.push(N),T.push(null)},N=>{J(T,N)}),T=new Ce({objectMode:!0,writable:!1,read(){}})}throw new re(g,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],y)}},44268:(Fe,z,_)=>{const p=_(40573),{AbortError:E,codes:k}=_(65109),{ERR_INVALID_ARG_TYPE:H,ERR_STREAM_PREMATURE_CLOSE:x}=k,{kEmptyObject:R,once:A}=_(55830),{validateAbortSignal:O,validateFunction:F,validateObject:L,validateBoolean:I}=_(44323),{Promise:Z,PromisePrototypeThen:j}=_(43856),{isClosed:G,isReadable:re,isReadableNodeStream:te,isReadableStream:J,isReadableFinished:Y,isReadableErrored:oe,isWritable:ae,isWritableNodeStream:se,isWritableStream:de,isWritableFinished:le,isWritableErrored:we,isNodeStream:xe,willEmitClose:Ce,kIsClosedPromise:C}=_(51233),u=()=>{};function y(T,N,M){var s,v;if(2===arguments.length?(M=N,N=R):null==N?N=R:L(N,"options"),F(M,"callback"),O(N.signal,"options.signal"),M=A(M),J(T)||de(T))return function g(T,N,M){let s=!1,v=u;if(N.signal)if(v=()=>{s=!0,M.call(T,new E(void 0,{cause:N.signal.reason}))},N.signal.aborted)p.nextTick(v);else{const K=M;M=A((...ee)=>{N.signal.removeEventListener("abort",v),K.apply(T,ee)}),N.signal.addEventListener("abort",v)}const W=(...K)=>{s||p.nextTick(()=>M.apply(T,K))};return j(T[C].promise,W,W),u}(T,N,M);if(!xe(T))throw new H("stream",["ReadableStream","WritableStream","Stream"],T);const W=null!==(s=N.readable)&&void 0!==s?s:te(T),K=null!==(v=N.writable)&&void 0!==v?v:se(T),ee=T._writableState,ce=T._readableState,_e=()=>{T.writable||Se()};let Pe=Ce(T)&&te(T)===W&&se(T)===K,$e=le(T,!1);const Se=()=>{$e=!0,T.destroyed&&(Pe=!1),(!Pe||T.readable&&!W)&&(!W||be)&&M.call(T)};let be=Y(T,!1);const Ne=()=>{be=!0,T.destroyed&&(Pe=!1),(!Pe||T.writable&&!K)&&(!K||$e)&&M.call(T)},ye=ue=>{M.call(T,ue)};let Te=G(T);const pe=()=>{Te=!0;const ue=we(T)||oe(T);return ue&&"boolean"!=typeof ue?M.call(T,ue):W&&!be&&te(T,!0)&&!Y(T,!1)?M.call(T,new x):!K||$e||le(T,!1)?void M.call(T):M.call(T,new x)},fe=()=>{Te=!0;const ue=we(T)||oe(T);if(ue&&"boolean"!=typeof ue)return M.call(T,ue);M.call(T)},Q=()=>{T.req.on("finish",Se)};!function a(T){return T.setHeader&&"function"==typeof T.abort}(T)?K&&!ee&&(T.on("end",_e),T.on("close",_e)):(T.on("complete",Se),Pe||T.on("abort",pe),T.req?Q():T.on("request",Q)),!Pe&&"boolean"==typeof T.aborted&&T.on("aborted",pe),T.on("end",Ne),T.on("finish",Se),!1!==N.error&&T.on("error",ye),T.on("close",pe),Te?p.nextTick(pe):null!=ee&&ee.errorEmitted||null!=ce&&ce.errorEmitted?Pe||p.nextTick(fe):(!W&&(!Pe||re(T))&&($e||!1===ae(T))||!K&&(!Pe||ae(T))&&(be||!1===re(T))||ce&&T.req&&T.aborted)&&p.nextTick(fe);const ie=()=>{M=u,T.removeListener("aborted",pe),T.removeListener("complete",Se),T.removeListener("abort",pe),T.removeListener("request",Q),T.req&&T.req.removeListener("finish",Se),T.removeListener("end",_e),T.removeListener("close",_e),T.removeListener("finish",Se),T.removeListener("end",Ne),T.removeListener("error",ye),T.removeListener("close",pe)};if(N.signal&&!Te){const ue=()=>{const Ee=M;ie(),Ee.call(T,new E(void 0,{cause:N.signal.reason}))};if(N.signal.aborted)p.nextTick(ue);else{const Ee=M;M=A((...ke)=>{N.signal.removeEventListener("abort",ue),Ee.apply(T,ke)}),N.signal.addEventListener("abort",ue)}}return ie}Fe.exports=y,Fe.exports.finished=function S(T,N){var M;let s=!1;return null===N&&(N=R),null!==(M=N)&&void 0!==M&&M.cleanup&&(I(N.cleanup,"cleanup"),s=N.cleanup),new Z((v,W)=>{const K=y(T,N,ee=>{s&&K(),ee?W(ee):v()})})}},24246:(Fe,z,_)=>{"use strict";var p=_(29293).default;const E=_(40573),{PromisePrototypeThen:k,SymbolAsyncIterator:H,SymbolIterator:x}=_(43856),{Buffer:R}=_(89565),{ERR_INVALID_ARG_TYPE:A,ERR_STREAM_NULL_VALUES:O}=_(65109).codes;Fe.exports=function F(L,I,Z){let j,G;if("string"==typeof I||I instanceof R)return new L({objectMode:!0,...Z,read(){this.push(I),this.push(null)}});if(I&&I[H])G=!0,j=I[H]();else{if(!I||!I[x])throw new A("iterable",["Iterable"],I);G=!1,j=I[x]()}const re=new L({objectMode:!0,highWaterMark:1,...Z});let te=!1;function Y(){return(Y=p(function*(se){if(null!=se&&"function"==typeof j.throw){const{value:we,done:xe}=yield j.throw(se);if(yield we,xe)return}if("function"==typeof j.return){const{value:we}=yield j.return();yield we}})).apply(this,arguments)}function ae(){return(ae=p(function*(){for(;;){try{const{value:se,done:de}=G?yield j.next():j.next();if(de)re.push(null);else{const le=se&&"function"==typeof se.then?yield se:se;if(null===le)throw te=!1,new O;if(re.push(le))continue;te=!1}}catch(se){re.destroy(se)}break}})).apply(this,arguments)}return re._read=function(){te||(te=!0,function oe(){ae.apply(this,arguments)}())},re._destroy=function(se,de){k(function J(se){return Y.apply(this,arguments)}(se),()=>E.nextTick(de,se),le=>E.nextTick(de,le||se))},re}},2649:(Fe,z,_)=>{"use strict";const{ArrayIsArray:p,ObjectSetPrototypeOf:E}=_(43856),{EventEmitter:k}=_(44356);function H(R){k.call(this,R)}function x(R,A,O){if("function"==typeof R.prependListener)return R.prependListener(A,O);R._events&&R._events[A]?p(R._events[A])?R._events[A].unshift(O):R._events[A]=[O,R._events[A]]:R.on(A,O)}E(H.prototype,k.prototype),E(H,k),H.prototype.pipe=function(R,A){const O=this;function F(te){R.writable&&!1===R.write(te)&&O.pause&&O.pause()}function L(){O.readable&&O.resume&&O.resume()}O.on("data",F),R.on("drain",L),!R._isStdio&&(!A||!1!==A.end)&&(O.on("end",Z),O.on("close",j));let I=!1;function Z(){I||(I=!0,R.end())}function j(){I||(I=!0,"function"==typeof R.destroy&&R.destroy())}function G(te){re(),0===k.listenerCount(this,"error")&&this.emit("error",te)}function re(){O.removeListener("data",F),R.removeListener("drain",L),O.removeListener("end",Z),O.removeListener("close",j),O.removeListener("error",G),R.removeListener("error",G),O.removeListener("end",re),O.removeListener("close",re),R.removeListener("close",re)}return x(O,"error",G),x(R,"error",G),O.on("end",re),O.on("close",re),R.on("close",re),R.emit("pipe",O),R},Fe.exports={Stream:H,prependListener:x}},37325:(Fe,z,_)=>{"use strict";var p=_(29293).default,E=_(93513).default,k=_(82881).default,H=_(53344).default,x=_(42958).default;const R=globalThis.AbortController||_(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:A,ERR_INVALID_ARG_TYPE:O,ERR_MISSING_ARGS:F,ERR_OUT_OF_RANGE:L},AbortError:I}=_(65109),{validateAbortSignal:Z,validateInteger:j,validateObject:G}=_(44323),re=_(43856).Symbol("kWeak"),{finished:te}=_(44268),J=_(5464),{addAbortSignalNoValidate:Y}=_(24785),{isWritable:oe,isNodeStream:ae}=_(51233),{ArrayPrototypePush:se,MathFloor:de,Number:le,NumberIsNaN:we,Promise:xe,PromiseReject:Ce,PromisePrototypeThen:C,Symbol:a}=_(43856),u=a("kEmpty"),y=a("kEof");function S(Q,ie){if("function"!=typeof Q)throw new O("fn",["Function","AsyncFunction"],Q);null!=ie&&G(ie,"options"),null!=ie?.signal&&Z(ie.signal,"options.signal");let ue=1;return null!=ie?.concurrency&&(ue=de(ie.concurrency)),j(ue,"concurrency",1),function(){var Ee=x(function*(){var Ue,Le;const _t=new R,Ve=this,Be=[],lt=_t.signal,B={signal:lt},w=()=>_t.abort();null!=ie&&null!==(Ue=ie.signal)&&void 0!==Ue&&Ue.aborted&&w(),null==ie||null===(Le=ie.signal)||void 0===Le||Le.addEventListener("abort",w);let m,U,ne=!1;function ge(){ne=!0}function Qe(){return(Qe=p(function*(){try{var It,Bt=!1,gt=!1;try{for(var un,Gt=k(Ve);Bt=!(un=yield Gt.next()).done;Bt=!1){let Mn=un.value;var an;if(ne)return;if(lt.aborted)throw new I;try{Mn=Q(Mn,B)}catch(Qt){Mn=Ce(Qt)}Mn!==u&&("function"==typeof(null===(an=Mn)||void 0===an?void 0:an.catch)&&Mn.catch(ge),Be.push(Mn),m&&(m(),m=null),!ne&&Be.length&&Be.length>=ue&&(yield new xe(Qt=>{U=Qt})))}}catch(Mn){gt=!0,It=Mn}finally{try{Bt&&null!=Gt.return&&(yield Gt.return())}finally{if(gt)throw It}}Be.push(y)}catch(Mn){const Qt=Ce(Mn);C(Qt,void 0,ge),Be.push(Qt)}finally{var sr;ne=!0,m&&(m(),m=null),null==ie||null===(sr=ie.signal)||void 0===sr||sr.removeEventListener("abort",w)}})).apply(this,arguments)}!function Ae(){Qe.apply(this,arguments)}();try{for(;;){for(;Be.length>0;){const Bt=yield H(Be[0]);if(Bt===y)return;if(lt.aborted)throw new I;Bt!==u&&(yield Bt),Be.shift(),U&&(U(),U=null)}yield H(new xe(Bt=>{m=Bt}))}}finally{_t.abort(),ne=!0,U&&(U(),U=null)}});return function ke(){return Ee.apply(this,arguments)}}().call(this)}function N(Q){return M.apply(this,arguments)}function M(){return(M=p(function*(Q,ie=void 0){var ke,ue=!1,Ee=!1;try{for(var Ue=k(_e.call(this,Q,ie));ue=!(yield Ue.next()).done;ue=!1)return!0}catch(_t){Ee=!0,ke=_t}finally{try{ue&&null!=Ue.return&&(yield Ue.return())}finally{if(Ee)throw ke}}return!1})).apply(this,arguments)}function v(){return(v=p(function*(Q,ie=void 0){if("function"!=typeof Q)throw new O("fn",["Function","AsyncFunction"],Q);return!(yield N.call(this,p(function*(...ue){return!(yield Q(...ue))}),ie))})).apply(this,arguments)}function K(){return(K=p(function*(Q,ie){var ke,ue=!1,Ee=!1;try{for(var Le,Ue=k(_e.call(this,Q,ie));ue=!(Le=yield Ue.next()).done;ue=!1)return Le.value}catch(_t){Ee=!0,ke=_t}finally{try{ue&&null!=Ue.return&&(yield Ue.return())}finally{if(Ee)throw ke}}})).apply(this,arguments)}function ce(){return ce=p(function*(Q,ie){if("function"!=typeof Q)throw new O("fn",["Function","AsyncFunction"],Q);function Ee(){return(Ee=p(function*(Be,lt){return yield Q(Be,lt),u})).apply(this,arguments)}var Le,ke=!1,Ue=!1;try{for(var _t=k(S.call(this,function ue(Be,lt){return Ee.apply(this,arguments)},ie));ke=!(yield _t.next()).done;ke=!1);}catch(Be){Ue=!0,Le=Be}finally{try{ke&&null!=_t.return&&(yield _t.return())}finally{if(Ue)throw Le}}}),ce.apply(this,arguments)}function _e(Q,ie){if("function"!=typeof Q)throw new O("fn",["Function","AsyncFunction"],Q);function Ee(){return(Ee=p(function*(ke,Ue){return(yield Q(ke,Ue))?ke:u})).apply(this,arguments)}return S.call(this,function ue(ke,Ue){return Ee.apply(this,arguments)},ie)}class Pe extends F{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function Se(){return Se=p(function*(Q,ie,ue){var Ee;if("function"!=typeof Q)throw new O("reducer",["Function","AsyncFunction"],Q);null!=ue&&G(ue,"options"),null!=ue?.signal&&Z(ue.signal,"options.signal");let ke=arguments.length>1;if(null!=ue&&null!==(Ee=ue.signal)&&void 0!==Ee&&Ee.aborted){const U=new I(void 0,{cause:ue.signal.reason});throw this.once("error",()=>{}),yield te(this.destroy(U)),U}const Ue=new R,Le=Ue.signal;null!=ue&&ue.signal&&ue.signal.addEventListener("abort",()=>Ue.abort(),{once:!0,[re]:this});let _t=!1;try{var lt,Ve=!1,Be=!1;try{for(var w,B=k(this);Ve=!(w=yield B.next()).done;Ve=!1){const U=w.value;var m;if(_t=!0,null!=ue&&null!==(m=ue.signal)&&void 0!==m&&m.aborted)throw new I;ke?ie=yield Q(ie,U,{signal:Le}):(ie=U,ke=!0)}}catch(U){Be=!0,lt=U}finally{try{Ve&&null!=B.return&&(yield B.return())}finally{if(Be)throw lt}}if(!_t&&!ke)throw new Pe}finally{Ue.abort()}return ie}),Se.apply(this,arguments)}function Ne(){return(Ne=p(function*(Q){null!=Q&&G(Q,"options"),null!=Q?.signal&&Z(Q.signal,"options.signal");const ie=[];var ke,ue=!1,Ee=!1;try{for(var Le,Ue=k(this);ue=!(Le=yield Ue.next()).done;ue=!1){const Ve=Le.value;var _t;if(null!=Q&&null!==(_t=Q.signal)&&void 0!==_t&&_t.aborted)throw new I(void 0,{cause:Q.signal.reason});se(ie,Ve)}}catch(Ve){Ee=!0,ke=Ve}finally{try{ue&&null!=Ue.return&&(yield Ue.return())}finally{if(Ee)throw ke}}return ie})).apply(this,arguments)}function Te(Q){if(Q=le(Q),we(Q))return 0;if(Q<0)throw new L("number",">= 0",Q);return Q}Fe.exports.streamReturningOperators={asIndexedPairs:function T(Q=void 0){return null!=Q&&G(Q,"options"),null!=Q?.signal&&Z(Q.signal,"options.signal"),function(){var ie=x(function*(){let Ee=0;var Le,ke=!1,Ue=!1;try{for(var Ve,_t=k(this);ke=!(Ve=yield H(_t.next())).done;ke=!1){const lt=Ve.value;var Be;if(null!=Q&&null!==(Be=Q.signal)&&void 0!==Be&&Be.aborted)throw new I({cause:Q.signal.reason});yield[Ee++,lt]}}catch(lt){Ue=!0,Le=lt}finally{try{ke&&null!=_t.return&&(yield H(_t.return()))}finally{if(Ue)throw Le}}});return function ue(){return ie.apply(this,arguments)}}().call(this)},drop:function pe(Q,ie=void 0){return null!=ie&&G(ie,"options"),null!=ie?.signal&&Z(ie.signal,"options.signal"),Q=Te(Q),function(){var ue=x(function*(){var ke;if(null!=ie&&null!==(ke=ie.signal)&&void 0!==ke&&ke.aborted)throw new I;var _t,Ue=!1,Le=!1;try{for(var Be,Ve=k(this);Ue=!(Be=yield H(Ve.next())).done;Ue=!1){const B=Be.value;var lt;if(null!=ie&&null!==(lt=ie.signal)&&void 0!==lt&&lt.aborted)throw new I;Q--<=0&&(yield B)}}catch(B){Le=!0,_t=B}finally{try{Ue&&null!=Ve.return&&(yield H(Ve.return()))}finally{if(Le)throw _t}}});return function Ee(){return ue.apply(this,arguments)}}().call(this)},filter:_e,flatMap:function ye(Q,ie){const ue=S.call(this,Q,ie);return function(){var Ee=x(function*(){var _t,Ue=!1,Le=!1;try{for(var Be,Ve=k(ue);Ue=!(Be=yield H(Ve.next())).done;Ue=!1){const lt=Be.value;yield*E(k(lt),H)}}catch(lt){Le=!0,_t=lt}finally{try{Ue&&null!=Ve.return&&(yield H(Ve.return()))}finally{if(Le)throw _t}}});return function ke(){return Ee.apply(this,arguments)}}().call(this)},map:S,take:function fe(Q,ie=void 0){return null!=ie&&G(ie,"options"),null!=ie?.signal&&Z(ie.signal,"options.signal"),Q=Te(Q),function(){var ue=x(function*(){var ke;if(null!=ie&&null!==(ke=ie.signal)&&void 0!==ke&&ke.aborted)throw new I;var _t,Ue=!1,Le=!1;try{for(var Be,Ve=k(this);Ue=!(Be=yield H(Ve.next())).done;Ue=!1){const B=Be.value;var lt;if(null!=ie&&null!==(lt=ie.signal)&&void 0!==lt&&lt.aborted)throw new I;if(!(Q-- >0))return;yield B}}catch(B){Le=!0,_t=B}finally{try{Ue&&null!=Ve.return&&(yield H(Ve.return()))}finally{if(Le)throw _t}}});return function Ee(){return ue.apply(this,arguments)}}().call(this)},compose:function g(Q,ie){if(null!=ie&&G(ie,"options"),null!=ie?.signal&&Z(ie.signal,"options.signal"),ae(Q)&&!oe(Q))throw new A("stream",Q,"must be writable");const ue=J(this,Q);return null!=ie&&ie.signal&&Y(ie.signal,ue),ue}},Fe.exports.promiseReturningOperators={every:function s(Q){return v.apply(this,arguments)},forEach:function ee(Q,ie){return ce.apply(this,arguments)},reduce:function $e(Q,ie,ue){return Se.apply(this,arguments)},toArray:function be(Q){return Ne.apply(this,arguments)},some:N,find:function W(Q,ie){return K.apply(this,arguments)}}},70874:(Fe,z,_)=>{"use strict";const{ObjectSetPrototypeOf:p}=_(43856);Fe.exports=k;const E=_(66344);function k(H){if(!(this instanceof k))return new k(H);E.call(this,H)}p(k.prototype,E.prototype),p(k,E),k.prototype._transform=function(H,x,R){R(null,H)}},96208:(Fe,z,_)=>{var p=_(29293).default,E=_(42958).default,k=_(53344).default,H=_(93513).default,x=_(82881).default;const R=_(40573),{ArrayIsArray:A,Promise:O,SymbolAsyncIterator:F}=_(43856),L=_(44268),{once:I}=_(55830),Z=_(45078),j=_(97464),{aggregateTwoErrors:G,codes:{ERR_INVALID_ARG_TYPE:re,ERR_INVALID_RETURN_VALUE:te,ERR_MISSING_ARGS:J,ERR_STREAM_DESTROYED:Y,ERR_STREAM_PREMATURE_CLOSE:oe},AbortError:ae}=_(65109),{validateFunction:se,validateAbortSignal:de}=_(44323),{isIterable:le,isReadable:we,isReadableNodeStream:xe,isNodeStream:Ce,isTransformStream:C,isWebStream:a,isReadableStream:u,isReadableEnded:y}=_(51233),g=globalThis.AbortController||_(9465).AbortController;let S,T;function N(be,Ne,ye){let Te=!1;return be.on("close",()=>{Te=!0}),{destroy:fe=>{Te||(Te=!0,Z.destroyer(be,fe||new Y("pipe")))},cleanup:L(be,{readable:Ne,writable:ye},fe=>{Te=!fe})}}function s(be){if(le(be))return be;if(xe(be))return function v(be){return W.apply(this,arguments)}(be);throw new re("val",["Readable","Iterable","AsyncIterable"],be)}function W(){return(W=E(function*(be){T||(T=_(29710)),yield*H(x(T.prototype[F].call(be)),k)})).apply(this,arguments)}function K(be,Ne,ye,Te){return ee.apply(this,arguments)}function ee(){return(ee=p(function*(be,Ne,ye,{end:Te}){let pe,fe=null;const Q=Ve=>{if(Ve&&(pe=Ve),fe){const Be=fe;fe=null,Be()}},ie=()=>new O((Ve,Be)=>{pe?Be(pe):fe=()=>{pe?Be(pe):Ve()}});Ne.on("drain",Q);const ue=L(Ne,{readable:!1},Q);try{Ne.writableNeedDrain&&(yield ie());var Ue,Ee=!1,ke=!1;try{for(var _t,Le=x(be);Ee=!(_t=yield Le.next()).done;Ee=!1)Ne.write(_t.value)||(yield ie())}catch(Ve){ke=!0,Ue=Ve}finally{try{Ee&&null!=Le.return&&(yield Le.return())}finally{if(ke)throw Ue}}Te&&Ne.end(),yield ie(),ye()}catch(Ve){ye(pe!==Ve?G(pe,Ve):Ve)}finally{ue(),Ne.off("drain",Q)}})).apply(this,arguments)}function ce(be,Ne,ye,Te){return _e.apply(this,arguments)}function _e(){return(_e=p(function*(be,Ne,ye,{end:Te}){C(Ne)&&(Ne=Ne.writable);const pe=Ne.getWriter();try{var ie,fe=!1,Q=!1;try{for(var Ee,ue=x(be);fe=!(Ee=yield ue.next()).done;fe=!1){const ke=Ee.value;yield pe.ready,pe.write(ke).catch(()=>{})}}catch(ke){Q=!0,ie=ke}finally{try{fe&&null!=ue.return&&(yield ue.return())}finally{if(Q)throw ie}}yield pe.ready,Te&&(yield pe.close()),ye()}catch(ke){try{yield pe.abort(ke),ye(ke)}catch(Ue){ye(Ue)}}})).apply(this,arguments)}function $e(be,Ne,ye){if(1===be.length&&A(be[0])&&(be=be[0]),be.length<2)throw new J("streams");const Te=new g,pe=Te.signal,fe=ye?.signal,Q=[];function ie(){_t(new ae)}let ue,Ee;de(fe,"options.signal"),fe?.addEventListener("abort",ie);const ke=[];let Ve,Ue=0;function Le(w){_t(w,0==--Ue)}function _t(w,m){if(w&&(!ue||"ERR_STREAM_PREMATURE_CLOSE"===ue.code)&&(ue=w),ue||m){for(;ke.length;)ke.shift()(ue);fe?.removeEventListener("abort",ie),Te.abort(),m&&(ue||Q.forEach(U=>U()),R.nextTick(Ne,ue,Ee))}}for(let w=0;w<be.length;w++){const m=be[w],U=w<be.length-1,ne=w>0,ge=U||!1!==ye?.end,Ae=w===be.length-1;if(Ce(m)){let Qe=function(Bt){Bt&&"AbortError"!==Bt.name&&"ERR_STREAM_PREMATURE_CLOSE"!==Bt.code&&Le(Bt)};if(ge){const{destroy:Bt,cleanup:gt}=N(m,U,ne);ke.push(Bt),we(m)&&Ae&&Q.push(gt)}m.on("error",Qe),we(m)&&Ae&&Q.push(()=>{m.removeListener("error",Qe)})}if(0===w)if("function"==typeof m){if(Ve=m({signal:pe}),!le(Ve))throw new te("Iterable, AsyncIterable or Stream","source",Ve)}else Ve=le(m)||xe(m)||C(m)?m:j.from(m);else if("function"==typeof m){var Be;if(Ve=C(Ve)?s(null===(Be=Ve)||void 0===Be?void 0:Be.readable):s(Ve),Ve=m(Ve,{signal:pe}),U){if(!le(Ve,!0))throw new te("AsyncIterable",`transform[${w-1}]`,Ve)}else{var lt;S||(S=_(70874));const Qe=new S({objectMode:!0}),Bt=null===(lt=Ve)||void 0===lt?void 0:lt.then;if("function"==typeof Bt)Ue++,Bt.call(Ve,Gt=>{Ee=Gt,null!=Gt&&Qe.write(Gt),ge&&Qe.end(),R.nextTick(Le)},Gt=>{Qe.destroy(Gt),R.nextTick(Le,Gt)});else if(le(Ve,!0))Ue++,K(Ve,Qe,Le,{end:ge});else{if(!u(Ve)&&!C(Ve))throw new te("AsyncIterable or Promise","destination",Ve);Ue++,K(Ve.readable||Ve,Qe,Le,{end:ge})}Ve=Qe;const{destroy:gt,cleanup:It}=N(Ve,!1,!0);ke.push(gt),Ae&&Q.push(It)}}else if(Ce(m)){if(xe(Ve)){Ue+=2;const Qe=Se(Ve,m,Le,{end:ge});we(m)&&Ae&&Q.push(Qe)}else if(C(Ve)||u(Ve))Ue++,K(Ve.readable||Ve,m,Le,{end:ge});else{if(!le(Ve))throw new re("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Ve);Ue++,K(Ve,m,Le,{end:ge})}Ve=m}else if(a(m)){if(xe(Ve))Ue++,ce(s(Ve),m,Le,{end:ge});else if(u(Ve)||le(Ve))Ue++,ce(Ve,m,Le,{end:ge});else{if(!C(Ve))throw new re("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Ve);Ue++,ce(Ve.readable,m,Le,{end:ge})}Ve=m}else Ve=j.from(m)}return(null!=pe&&pe.aborted||null!=fe&&fe.aborted)&&R.nextTick(ie),Ve}function Se(be,Ne,ye,{end:Te}){let pe=!1;if(Ne.on("close",()=>{pe||ye(new oe)}),be.pipe(Ne,{end:!1}),Te){let Q=function(){pe=!0,Ne.end()};y(be)?R.nextTick(Q):be.once("end",Q)}else ye();return L(be,{readable:!0,writable:!1},Q=>{const ie=be._readableState;Q&&"ERR_STREAM_PREMATURE_CLOSE"===Q.code&&ie&&ie.ended&&!ie.errored&&!ie.errorEmitted?be.once("end",ye).once("error",ye):ye(Q)}),L(Ne,{readable:!1,writable:!0},ye)}Fe.exports={pipelineImpl:$e,pipeline:function Pe(...be){return $e(be,I(function M(be){return se(be[be.length-1],"streams[stream.length - 1]"),be.pop()}(be)))}}},29710:(Fe,z,_)=>{var p=_(53344).default,E=_(42958).default;const k=_(40573),{ArrayPrototypeIndexOf:H,NumberIsInteger:x,NumberIsNaN:R,NumberParseInt:A,ObjectDefineProperties:O,ObjectKeys:F,ObjectSetPrototypeOf:L,Promise:I,SafeSet:Z,SymbolAsyncIterator:j,Symbol:G}=_(43856);Fe.exports=K,K.ReadableState=W;const{EventEmitter:re}=_(44356),{Stream:te,prependListener:J}=_(2649),{Buffer:Y}=_(89565),{addAbortSignal:oe}=_(24785),ae=_(44268);let se=_(55830).debuglog("stream",m=>{se=m});const de=_(58579),le=_(45078),{getHighWaterMark:we,getDefaultHighWaterMark:xe}=_(31081),{aggregateTwoErrors:Ce,codes:{ERR_INVALID_ARG_TYPE:C,ERR_METHOD_NOT_IMPLEMENTED:a,ERR_OUT_OF_RANGE:u,ERR_STREAM_PUSH_AFTER_EOF:y,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:g}}=_(65109),{validateObject:S}=_(44323),T=G("kPaused"),{StringDecoder:N}=_(78454),M=_(24246);L(K.prototype,te.prototype),L(K,te);const s=()=>{},{errorOrDestroy:v}=le;function W(m,U,ne){"boolean"!=typeof ne&&(ne=U instanceof _(97464)),this.objectMode=!(!m||!m.objectMode),ne&&(this.objectMode=this.objectMode||!(!m||!m.readableObjectMode)),this.highWaterMark=m?we(this,m,"readableHighWaterMark",ne):xe(!1),this.buffer=new de,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[T]=null,this.errorEmitted=!1,this.emitClose=!m||!1!==m.emitClose,this.autoDestroy=!m||!1!==m.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=m&&m.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,m&&m.encoding&&(this.decoder=new N(m.encoding),this.encoding=m.encoding)}function K(m){if(!(this instanceof K))return new K(m);const U=this instanceof _(97464);this._readableState=new W(m,this,U),m&&("function"==typeof m.read&&(this._read=m.read),"function"==typeof m.destroy&&(this._destroy=m.destroy),"function"==typeof m.construct&&(this._construct=m.construct),m.signal&&!U&&oe(m.signal,this)),te.call(this,m),le.construct(this,()=>{this._readableState.needReadable&&ye(this,this._readableState)})}function ee(m,U,ne,ge){se("readableAddChunk",U);const Ae=m._readableState;let Qe;if(Ae.objectMode||("string"==typeof U?Ae.encoding!==(ne=ne||Ae.defaultEncoding)&&(ge&&Ae.encoding?U=Y.from(U,ne).toString(Ae.encoding):(U=Y.from(U,ne),ne="")):U instanceof Y?ne="":te._isUint8Array(U)?(U=te._uint8ArrayToBuffer(U),ne=""):null!=U&&(Qe=new C("chunk",["string","Buffer","Uint8Array"],U))),Qe)v(m,Qe);else if(null===U)Ae.reading=!1,function Se(m,U){if(se("onEofChunk"),!U.ended){if(U.decoder){const ne=U.decoder.end();ne&&ne.length&&(U.buffer.push(ne),U.length+=U.objectMode?1:ne.length)}U.ended=!0,U.sync?be(m):(U.needReadable=!1,U.emittedReadable=!0,Ne(m))}}(m,Ae);else if(Ae.objectMode||U&&U.length>0)if(ge)if(Ae.endEmitted)v(m,new g);else{if(Ae.destroyed||Ae.errored)return!1;ce(m,Ae,U,!0)}else if(Ae.ended)v(m,new y);else{if(Ae.destroyed||Ae.errored)return!1;Ae.reading=!1,Ae.decoder&&!ne?(U=Ae.decoder.write(U),Ae.objectMode||0!==U.length?ce(m,Ae,U,!1):ye(m,Ae)):ce(m,Ae,U,!1)}else ge||(Ae.reading=!1,ye(m,Ae));return!Ae.ended&&(Ae.length<Ae.highWaterMark||0===Ae.length)}function ce(m,U,ne,ge){U.flowing&&0===U.length&&!U.sync&&m.listenerCount("data")>0?(U.multiAwaitDrain?U.awaitDrainWriters.clear():U.awaitDrainWriters=null,U.dataEmitted=!0,m.emit("data",ne)):(U.length+=U.objectMode?1:ne.length,ge?U.buffer.unshift(ne):U.buffer.push(ne),U.needReadable&&be(m)),ye(m,U)}function $e(m,U){return m<=0||0===U.length&&U.ended?0:U.objectMode?1:R(m)?U.flowing&&U.length?U.buffer.first().length:U.length:m<=U.length?m:U.ended?U.length:0}function be(m){const U=m._readableState;se("emitReadable",U.needReadable,U.emittedReadable),U.needReadable=!1,U.emittedReadable||(se("emitReadable",U.flowing),U.emittedReadable=!0,k.nextTick(Ne,m))}function Ne(m){const U=m._readableState;se("emitReadable_",U.destroyed,U.length,U.ended),!U.destroyed&&!U.errored&&(U.length||U.ended)&&(m.emit("readable"),U.emittedReadable=!1),U.needReadable=!U.flowing&&!U.ended&&U.length<=U.highWaterMark,Ee(m)}function ye(m,U){!U.readingMore&&U.constructed&&(U.readingMore=!0,k.nextTick(Te,m,U))}function Te(m,U){for(;!U.reading&&!U.ended&&(U.length<U.highWaterMark||U.flowing&&0===U.length);){const ne=U.length;if(se("maybeReadMore read 0"),m.read(0),ne===U.length)break}U.readingMore=!1}function fe(m){const U=m._readableState;U.readableListening=m.listenerCount("readable")>0,U.resumeScheduled&&!1===U[T]?U.flowing=!0:m.listenerCount("data")>0?m.resume():U.readableListening||(U.flowing=null)}function Q(m){se("readable nexttick read 0"),m.read(0)}function ue(m,U){se("resume",U.reading),U.reading||m.read(0),U.resumeScheduled=!1,m.emit("resume"),Ee(m),U.flowing&&!U.reading&&m.read(0)}function Ee(m){const U=m._readableState;for(se("flow",U.flowing);U.flowing&&null!==m.read(););}function ke(m,U){"function"!=typeof m.read&&(m=K.wrap(m,{objectMode:!0}));const ne=function Ue(m,U){return Le.apply(this,arguments)}(m,U);return ne.stream=m,ne}function Le(){return(Le=E(function*(m,U){let Ae,ne=s;function ge(Bt){this===m?(ne(),ne=s):ne=Bt}m.on("readable",ge);const Qe=ae(m,{writable:!1},Bt=>{Ae=Bt?Ce(Ae,Bt):null,ne(),ne=s});try{for(;;){const Bt=m.destroyed?null:m.read();if(null!==Bt)yield Bt;else{if(Ae)throw Ae;if(null===Ae)return;yield p(new I(ge))}}}catch(Bt){throw Ae=Ce(Ae,Bt),Ae}finally{!Ae&&!1===U?.destroyOnReturn||void 0!==Ae&&!m._readableState.autoDestroy?(m.off("readable",ge),Qe()):le.destroyer(m,null)}})).apply(this,arguments)}function _t(m,U){if(0===U.length)return null;let ne;return U.objectMode?ne=U.buffer.shift():!m||m>=U.length?(ne=U.decoder?U.buffer.join(""):1===U.buffer.length?U.buffer.first():U.buffer.concat(U.length),U.buffer.clear()):ne=U.buffer.consume(m,U.decoder),ne}function Ve(m){const U=m._readableState;se("endReadable",U.endEmitted),U.endEmitted||(U.ended=!0,k.nextTick(Be,U,m))}function Be(m,U){if(se("endReadableNT",m.endEmitted,m.length),!m.errored&&!m.closeEmitted&&!m.endEmitted&&0===m.length)if(m.endEmitted=!0,U.emit("end"),U.writable&&!1===U.allowHalfOpen)k.nextTick(lt,U);else if(m.autoDestroy){const ne=U._writableState;(!ne||ne.autoDestroy&&(ne.finished||!1===ne.writable))&&U.destroy()}}function lt(m){m.writable&&!m.writableEnded&&!m.destroyed&&m.end()}let B;function w(){return void 0===B&&(B={}),B}K.prototype.destroy=le.destroy,K.prototype._undestroy=le.undestroy,K.prototype._destroy=function(m,U){U(m)},K.prototype[re.captureRejectionSymbol]=function(m){this.destroy(m)},K.prototype.push=function(m,U){return ee(this,m,U,!1)},K.prototype.unshift=function(m,U){return ee(this,m,U,!0)},K.prototype.isPaused=function(){const m=this._readableState;return!0===m[T]||!1===m.flowing},K.prototype.setEncoding=function(m){const U=new N(m);this._readableState.decoder=U,this._readableState.encoding=this._readableState.decoder.encoding;const ne=this._readableState.buffer;let ge="";for(const Ae of ne)ge+=U.write(Ae);return ne.clear(),""!==ge&&ne.push(ge),this._readableState.length=ge.length,this},K.prototype.read=function(m){se("read",m),void 0===m?m=NaN:x(m)||(m=A(m,10));const U=this._readableState,ne=m;if(m>U.highWaterMark&&(U.highWaterMark=function Pe(m){if(m>1073741824)throw new u("size","<= 1GiB",m);return m--,m|=m>>>1,m|=m>>>2,m|=m>>>4,m|=m>>>8,m|=m>>>16,++m}(m)),0!==m&&(U.emittedReadable=!1),0===m&&U.needReadable&&((0!==U.highWaterMark?U.length>=U.highWaterMark:U.length>0)||U.ended))return se("read: emitReadable",U.length,U.ended),0===U.length&&U.ended?Ve(this):be(this),null;if(0===(m=$e(m,U))&&U.ended)return 0===U.length&&Ve(this),null;let Ae,ge=U.needReadable;if(se("need readable",ge),(0===U.length||U.length-m<U.highWaterMark)&&(ge=!0,se("length less than watermark",ge)),U.ended||U.reading||U.destroyed||U.errored||!U.constructed)ge=!1,se("reading, ended or constructing",ge);else if(ge){se("do read"),U.reading=!0,U.sync=!0,0===U.length&&(U.needReadable=!0);try{this._read(U.highWaterMark)}catch(Qe){v(this,Qe)}U.sync=!1,U.reading||(m=$e(ne,U))}return Ae=m>0?_t(m,U):null,null===Ae?(U.needReadable=U.length<=U.highWaterMark,m=0):(U.length-=m,U.multiAwaitDrain?U.awaitDrainWriters.clear():U.awaitDrainWriters=null),0===U.length&&(U.ended||(U.needReadable=!0),ne!==m&&U.ended&&Ve(this)),null!==Ae&&!U.errorEmitted&&!U.closeEmitted&&(U.dataEmitted=!0,this.emit("data",Ae)),Ae},K.prototype._read=function(m){throw new a("_read()")},K.prototype.pipe=function(m,U){const ne=this,ge=this._readableState;1===ge.pipes.length&&(ge.multiAwaitDrain||(ge.multiAwaitDrain=!0,ge.awaitDrainWriters=new Z(ge.awaitDrainWriters?[ge.awaitDrainWriters]:[]))),ge.pipes.push(m),se("pipe count=%d opts=%j",ge.pipes.length,U);const Qe=U&&!1===U.end||m===k.stdout||m===k.stderr?Et:gt;function gt(){se("onend"),m.end()}ge.endEmitted?k.nextTick(Qe):ne.once("end",Qe),m.on("unpipe",function Bt(ht,zt){se("onunpipe"),ht===ne&&zt&&!1===zt.hasUnpiped&&(zt.hasUnpiped=!0,function un(){se("cleanup"),m.removeListener("close",Qt),m.removeListener("finish",qt),It&&m.removeListener("drain",It),m.removeListener("error",Mn),m.removeListener("unpipe",Bt),ne.removeListener("end",gt),ne.removeListener("end",Et),ne.removeListener("data",sr),Gt=!0,It&&ge.awaitDrainWriters&&(!m._writableState||m._writableState.needDrain)&&It()}())});let It,Gt=!1;function an(){Gt||(1===ge.pipes.length&&ge.pipes[0]===m?(se("false write response, pause",0),ge.awaitDrainWriters=m,ge.multiAwaitDrain=!1):ge.pipes.length>1&&ge.pipes.includes(m)&&(se("false write response, pause",ge.awaitDrainWriters.size),ge.awaitDrainWriters.add(m)),ne.pause()),It||(It=function pe(m,U){return function(){const ge=m._readableState;ge.awaitDrainWriters===U?(se("pipeOnDrain",1),ge.awaitDrainWriters=null):ge.multiAwaitDrain&&(se("pipeOnDrain",ge.awaitDrainWriters.size),ge.awaitDrainWriters.delete(U)),(!ge.awaitDrainWriters||0===ge.awaitDrainWriters.size)&&m.listenerCount("data")&&m.resume()}}(ne,m),m.on("drain",It))}function sr(ht){se("ondata");const zt=m.write(ht);se("dest.write",zt),!1===zt&&an()}function Mn(ht){if(se("onerror",ht),Et(),m.removeListener("error",Mn),0===m.listenerCount("error")){const zt=m._writableState||m._readableState;zt&&!zt.errorEmitted?v(m,ht):m.emit("error",ht)}}function Qt(){m.removeListener("finish",qt),Et()}function qt(){se("onfinish"),m.removeListener("close",Qt),Et()}function Et(){se("unpipe"),ne.unpipe(m)}return ne.on("data",sr),J(m,"error",Mn),m.once("close",Qt),m.once("finish",qt),m.emit("pipe",ne),!0===m.writableNeedDrain?ge.flowing&&an():ge.flowing||(se("pipe resume"),ne.resume()),m},K.prototype.unpipe=function(m){const U=this._readableState;if(0===U.pipes.length)return this;if(!m){const Ae=U.pipes;U.pipes=[],this.pause();for(let Qe=0;Qe<Ae.length;Qe++)Ae[Qe].emit("unpipe",this,{hasUnpiped:!1});return this}const ge=H(U.pipes,m);return-1===ge||(U.pipes.splice(ge,1),0===U.pipes.length&&this.pause(),m.emit("unpipe",this,{hasUnpiped:!1})),this},K.prototype.addListener=K.prototype.on=function(m,U){const ne=te.prototype.on.call(this,m,U),ge=this._readableState;return"data"===m?(ge.readableListening=this.listenerCount("readable")>0,!1!==ge.flowing&&this.resume()):"readable"===m&&!ge.endEmitted&&!ge.readableListening&&(ge.readableListening=ge.needReadable=!0,ge.flowing=!1,ge.emittedReadable=!1,se("on readable",ge.length,ge.reading),ge.length?be(this):ge.reading||k.nextTick(Q,this)),ne},K.prototype.off=K.prototype.removeListener=function(m,U){const ne=te.prototype.removeListener.call(this,m,U);return"readable"===m&&k.nextTick(fe,this),ne},K.prototype.removeAllListeners=function(m){const U=te.prototype.removeAllListeners.apply(this,arguments);return("readable"===m||void 0===m)&&k.nextTick(fe,this),U},K.prototype.resume=function(){const m=this._readableState;return m.flowing||(se("resume"),m.flowing=!m.readableListening,function ie(m,U){U.resumeScheduled||(U.resumeScheduled=!0,k.nextTick(ue,m,U))}(this,m)),m[T]=!1,this},K.prototype.pause=function(){return se("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(se("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[T]=!0,this},K.prototype.wrap=function(m){let U=!1;m.on("data",ge=>{!this.push(ge)&&m.pause&&(U=!0,m.pause())}),m.on("end",()=>{this.push(null)}),m.on("error",ge=>{v(this,ge)}),m.on("close",()=>{this.destroy()}),m.on("destroy",()=>{this.destroy()}),this._read=()=>{U&&m.resume&&(U=!1,m.resume())};const ne=F(m);for(let ge=1;ge<ne.length;ge++){const Ae=ne[ge];void 0===this[Ae]&&"function"==typeof m[Ae]&&(this[Ae]=m[Ae].bind(m))}return this},K.prototype[j]=function(){return ke(this)},K.prototype.iterator=function(m){return void 0!==m&&S(m,"options"),ke(this,m)},O(K.prototype,{readable:{__proto__:null,get(){const m=this._readableState;return!(!m||!1===m.readable||m.destroyed||m.errorEmitted||m.endEmitted)},set(m){this._readableState&&(this._readableState.readable=!!m)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(m){this._readableState&&(this._readableState.flowing=m)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(m){this._readableState&&(this._readableState.destroyed=m)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),O(W.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[T]},set(m){this[T]=!!m}}}),K._fromList=_t,K.from=function(m,U){return M(K,m,U)},K.fromWeb=function(m,U){return w().newStreamReadableFromReadableStream(m,U)},K.toWeb=function(m,U){return w().newReadableStreamFromStreamReadable(m,U)},K.wrap=function(m,U){var ne,ge;return new K({objectMode:null===(ne=null!==(ge=m.readableObjectMode)&&void 0!==ge?ge:m.objectMode)||void 0===ne||ne,...U,destroy(Ae,Qe){le.destroyer(m,Ae),Qe(Ae)}}).wrap(m)}},31081:(Fe,z,_)=>{"use strict";const{MathFloor:p,NumberIsInteger:E}=_(43856),{ERR_INVALID_ARG_VALUE:k}=_(65109).codes;function x(A){return A?16:16384}Fe.exports={getHighWaterMark:function R(A,O,F,L){const I=function H(A,O,F){return null!=A.highWaterMark?A.highWaterMark:O?A[F]:null}(O,L,F);if(null!=I){if(!E(I)||I<0)throw new k(L?`options.${F}`:"options.highWaterMark",I);return p(I)}return x(A.objectMode)},getDefaultHighWaterMark:x}},66344:(Fe,z,_)=>{"use strict";const{ObjectSetPrototypeOf:p,Symbol:E}=_(43856);Fe.exports=A;const{ERR_METHOD_NOT_IMPLEMENTED:k}=_(65109).codes,H=_(97464),{getHighWaterMark:x}=_(31081);p(A.prototype,H.prototype),p(A,H);const R=E("kCallback");function A(L){if(!(this instanceof A))return new A(L);const I=L?x(this,L,"readableHighWaterMark",!0):null;0===I&&(L={...L,highWaterMark:null,readableHighWaterMark:I,writableHighWaterMark:L.writableHighWaterMark||0}),H.call(this,L),this._readableState.sync=!1,this[R]=null,L&&("function"==typeof L.transform&&(this._transform=L.transform),"function"==typeof L.flush&&(this._flush=L.flush)),this.on("prefinish",F)}function O(L){"function"!=typeof this._flush||this.destroyed?(this.push(null),L&&L()):this._flush((I,Z)=>{I?L?L(I):this.destroy(I):(null!=Z&&this.push(Z),this.push(null),L&&L())})}function F(){this._final!==O&&O.call(this)}A.prototype._final=O,A.prototype._transform=function(L,I,Z){throw new k("_transform()")},A.prototype._write=function(L,I,Z){const j=this._readableState,G=this._writableState,re=j.length;this._transform(L,I,(te,J)=>{te?Z(te):(null!=J&&this.push(J),G.ended||re===j.length||j.length<j.highWaterMark?Z():this[R]=Z)})},A.prototype._read=function(){if(this[R]){const L=this[R];this[R]=null,L()}}},51233:(Fe,z,_)=>{"use strict";const{Symbol:p,SymbolAsyncIterator:E,SymbolIterator:k,SymbolFor:H}=_(43856),x=p("kDestroyed"),R=p("kIsErrored"),A=p("kIsReadable"),O=p("kIsDisturbed"),F=H("nodejs.webstream.isClosedPromise"),L=H("nodejs.webstream.controllerErrorFunction");function I(v,W=!1){var K;return!(!v||"function"!=typeof v.pipe||"function"!=typeof v.on||W&&("function"!=typeof v.pause||"function"!=typeof v.resume)||v._writableState&&!1===(null===(K=v._readableState)||void 0===K?void 0:K.readable)||v._writableState&&!v._readableState)}function Z(v){var W;return!(!v||"function"!=typeof v.write||"function"!=typeof v.on||v._readableState&&!1===(null===(W=v._writableState)||void 0===W?void 0:W.writable))}function G(v){return v&&(v._readableState||v._writableState||"function"==typeof v.write&&"function"==typeof v.on||"function"==typeof v.pipe&&"function"==typeof v.on)}function re(v){return!(!v||G(v)||"function"!=typeof v.pipeThrough||"function"!=typeof v.getReader||"function"!=typeof v.cancel)}function te(v){return!(!v||G(v)||"function"!=typeof v.getWriter||"function"!=typeof v.abort)}function J(v){return!(!v||G(v)||"object"!=typeof v.readable||"object"!=typeof v.writable)}function ae(v){if(!G(v))return null;const ee=v._writableState||v._readableState;return!!(v.destroyed||v[x]||null!=ee&&ee.destroyed)}function se(v){if(!Z(v))return null;if(!0===v.writableEnded)return!0;const W=v._writableState;return(null==W||!W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)}function we(v,W){if(!I(v))return null;const K=v._readableState;return(null==K||!K.errored)&&("boolean"!=typeof K?.endEmitted?null:!!(K.endEmitted||!1===W&&!0===K.ended&&0===K.length))}function xe(v){return v&&null!=v[A]?v[A]:"boolean"!=typeof v?.readable?null:!ae(v)&&I(v)&&v.readable&&!we(v)}function Ce(v){return"boolean"!=typeof v?.writable?null:!ae(v)&&Z(v)&&v.writable&&!se(v)}function g(v){return"boolean"==typeof v._closed&&"boolean"==typeof v._defaultKeepAlive&&"boolean"==typeof v._removedConnection&&"boolean"==typeof v._removedContLen}function S(v){return"boolean"==typeof v._sent100&&g(v)}Fe.exports={kDestroyed:x,isDisturbed:function M(v){var W;return!(!v||!(null!==(W=v[O])&&void 0!==W?W:v.readableDidRead||v.readableAborted))},kIsDisturbed:O,isErrored:function s(v){var W,K,ee,ce,_e,Pe,$e,Se,be,Ne;return!(!v||!(null!==(W=null!==(K=null!==(ee=null!==(ce=null!==(_e=null!==(Pe=v[R])&&void 0!==Pe?Pe:v.readableErrored)&&void 0!==_e?_e:v.writableErrored)&&void 0!==ce?ce:null===($e=v._readableState)||void 0===$e?void 0:$e.errorEmitted)&&void 0!==ee?ee:null===(Se=v._writableState)||void 0===Se?void 0:Se.errorEmitted)&&void 0!==K?K:null===(be=v._readableState)||void 0===be?void 0:be.errored)&&void 0!==W?W:null!==(Ne=v._writableState)&&void 0!==Ne&&Ne.errored))},kIsErrored:R,isReadable:xe,kIsReadable:A,kIsClosedPromise:F,kControllerErrorFunction:L,isClosed:function y(v){if(!G(v))return null;if("boolean"==typeof v.closed)return v.closed;const W=v._writableState,K=v._readableState;return"boolean"==typeof W?.closed||"boolean"==typeof K?.closed?W?.closed||K?.closed:"boolean"==typeof v._closed&&g(v)?v._closed:null},isDestroyed:ae,isDuplexNodeStream:function j(v){return!(!v||"function"!=typeof v.pipe||!v._readableState||"function"!=typeof v.on||"function"!=typeof v.write)},isFinished:function C(v,W){return G(v)?!!ae(v)||!(!1!==W?.readable&&xe(v)||!1!==W?.writable&&Ce(v)):null},isIterable:function oe(v,W){return null!=v&&(!0===W?"function"==typeof v[E]:!1===W?"function"==typeof v[k]:"function"==typeof v[E]||"function"==typeof v[k])},isReadableNodeStream:I,isReadableStream:re,isReadableEnded:function le(v){if(!I(v))return null;if(!0===v.readableEnded)return!0;const W=v._readableState;return!(!W||W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)},isReadableFinished:we,isReadableErrored:function u(v){var W,K;return G(v)?v.readableErrored?v.readableErrored:null!==(W=null===(K=v._readableState)||void 0===K?void 0:K.errored)&&void 0!==W?W:null:null},isNodeStream:G,isWebStream:function Y(v){return re(v)||te(v)||J(v)},isWritable:Ce,isWritableNodeStream:Z,isWritableStream:te,isWritableEnded:se,isWritableFinished:function de(v,W){if(!Z(v))return null;if(!0===v.writableFinished)return!0;const K=v._writableState;return(null==K||!K.errored)&&("boolean"!=typeof K?.finished?null:!!(K.finished||!1===W&&!0===K.ended&&0===K.length))},isWritableErrored:function a(v){var W,K;return G(v)?v.writableErrored?v.writableErrored:null!==(W=null===(K=v._writableState)||void 0===K?void 0:K.errored)&&void 0!==W?W:null:null},isServerRequest:function T(v){var W;return"boolean"==typeof v._consuming&&"boolean"==typeof v._dumped&&void 0===(null===(W=v.req)||void 0===W?void 0:W.upgradeOrConnect)},isServerResponse:S,willEmitClose:function N(v){if(!G(v))return null;const ee=v._writableState||v._readableState;return!ee&&S(v)||!!(ee&&ee.autoDestroy&&ee.emitClose&&!1===ee.closed)},isTransformStream:J}},40258:(Fe,z,_)=>{const p=_(40573),{ArrayPrototypeSlice:E,Error:k,FunctionPrototypeSymbolHasInstance:H,ObjectDefineProperty:x,ObjectDefineProperties:R,ObjectSetPrototypeOf:A,StringPrototypeToLowerCase:O,Symbol:F,SymbolHasInstance:L}=_(43856);Fe.exports=S,S.WritableState=y;const{EventEmitter:I}=_(44356),Z=_(2649).Stream,{Buffer:j}=_(89565),G=_(45078),{addAbortSignal:re}=_(24785),{getHighWaterMark:te,getDefaultHighWaterMark:J}=_(31081),{ERR_INVALID_ARG_TYPE:Y,ERR_METHOD_NOT_IMPLEMENTED:oe,ERR_MULTIPLE_CALLBACK:ae,ERR_STREAM_CANNOT_PIPE:se,ERR_STREAM_DESTROYED:de,ERR_STREAM_ALREADY_FINISHED:le,ERR_STREAM_NULL_VALUES:we,ERR_STREAM_WRITE_AFTER_END:xe,ERR_UNKNOWN_ENCODING:Ce}=_(65109).codes,{errorOrDestroy:C}=G;function a(){}A(S.prototype,Z.prototype),A(S,Z);const u=F("kOnFinished");function y(pe,fe,Q){"boolean"!=typeof Q&&(Q=fe instanceof _(97464)),this.objectMode=!(!pe||!pe.objectMode),Q&&(this.objectMode=this.objectMode||!(!pe||!pe.writableObjectMode)),this.highWaterMark=pe?te(this,pe,"writableHighWaterMark",Q):J(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(pe&&!1===pe.decodeStrings),this.defaultEncoding=pe&&pe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=v.bind(void 0,fe),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,g(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!pe||!1!==pe.emitClose,this.autoDestroy=!pe||!1!==pe.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[u]=[]}function g(pe){pe.buffered=[],pe.bufferedIndex=0,pe.allBuffers=!0,pe.allNoop=!0}function S(pe){const fe=this instanceof _(97464);if(!fe&&!H(S,this))return new S(pe);this._writableState=new y(pe,this,fe),pe&&("function"==typeof pe.write&&(this._write=pe.write),"function"==typeof pe.writev&&(this._writev=pe.writev),"function"==typeof pe.destroy&&(this._destroy=pe.destroy),"function"==typeof pe.final&&(this._final=pe.final),"function"==typeof pe.construct&&(this._construct=pe.construct),pe.signal&&re(pe.signal,this)),Z.call(this,pe),G.construct(this,()=>{const Q=this._writableState;Q.writing||ce(this,Q),Se(this,Q)})}function T(pe,fe,Q,ie){const ue=pe._writableState;if("function"==typeof Q)ie=Q,Q=ue.defaultEncoding;else{if(Q){if("buffer"!==Q&&!j.isEncoding(Q))throw new Ce(Q)}else Q=ue.defaultEncoding;"function"!=typeof ie&&(ie=a)}if(null===fe)throw new we;if(!ue.objectMode)if("string"==typeof fe)!1!==ue.decodeStrings&&(fe=j.from(fe,Q),Q="buffer");else if(fe instanceof j)Q="buffer";else{if(!Z._isUint8Array(fe))throw new Y("chunk",["string","Buffer","Uint8Array"],fe);fe=Z._uint8ArrayToBuffer(fe),Q="buffer"}let Ee;return ue.ending?Ee=new xe:ue.destroyed&&(Ee=new de("write")),Ee?(p.nextTick(ie,Ee),C(pe,Ee,!0),Ee):(ue.pendingcb++,function N(pe,fe,Q,ie,ue){const Ee=fe.objectMode?1:Q.length;fe.length+=Ee;const ke=fe.length<fe.highWaterMark;return ke||(fe.needDrain=!0),fe.writing||fe.corked||fe.errored||!fe.constructed?(fe.buffered.push({chunk:Q,encoding:ie,callback:ue}),fe.allBuffers&&"buffer"!==ie&&(fe.allBuffers=!1),fe.allNoop&&ue!==a&&(fe.allNoop=!1)):(fe.writelen=Ee,fe.writecb=ue,fe.writing=!0,fe.sync=!0,pe._write(Q,ie,fe.onwrite),fe.sync=!1),ke&&!fe.errored&&!fe.destroyed}(pe,ue,fe,Q,ie))}function M(pe,fe,Q,ie,ue,Ee,ke){fe.writelen=ie,fe.writecb=ke,fe.writing=!0,fe.sync=!0,fe.destroyed?fe.onwrite(new de("write")):Q?pe._writev(ue,fe.onwrite):pe._write(ue,Ee,fe.onwrite),fe.sync=!1}function s(pe,fe,Q,ie){--fe.pendingcb,ie(Q),ee(fe),C(pe,Q)}function v(pe,fe){const Q=pe._writableState,ie=Q.sync,ue=Q.writecb;"function"==typeof ue?(Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0,fe?(Q.errored||(Q.errored=fe),pe._readableState&&!pe._readableState.errored&&(pe._readableState.errored=fe),ie?p.nextTick(s,pe,Q,fe,ue):s(pe,Q,fe,ue)):(Q.buffered.length>Q.bufferedIndex&&ce(pe,Q),ie?null!==Q.afterWriteTickInfo&&Q.afterWriteTickInfo.cb===ue?Q.afterWriteTickInfo.count++:(Q.afterWriteTickInfo={count:1,cb:ue,stream:pe,state:Q},p.nextTick(W,Q.afterWriteTickInfo)):K(pe,Q,1,ue))):C(pe,new ae)}function W({stream:pe,state:fe,count:Q,cb:ie}){return fe.afterWriteTickInfo=null,K(pe,fe,Q,ie)}function K(pe,fe,Q,ie){for(!fe.ending&&!pe.destroyed&&0===fe.length&&fe.needDrain&&(fe.needDrain=!1,pe.emit("drain"));Q-- >0;)fe.pendingcb--,ie();fe.destroyed&&ee(fe),Se(pe,fe)}function ee(pe){if(pe.writing)return;for(let ue=pe.bufferedIndex;ue<pe.buffered.length;++ue){var fe;const{chunk:Ee,callback:ke}=pe.buffered[ue];pe.length-=pe.objectMode?1:Ee.length,ke(null!==(fe=pe.errored)&&void 0!==fe?fe:new de("write"))}const Q=pe[u].splice(0);for(let ue=0;ue<Q.length;ue++){var ie;Q[ue](null!==(ie=pe.errored)&&void 0!==ie?ie:new de("end"))}g(pe)}function ce(pe,fe){if(fe.corked||fe.bufferProcessing||fe.destroyed||!fe.constructed)return;const{buffered:Q,bufferedIndex:ie,objectMode:ue}=fe,Ee=Q.length-ie;if(!Ee)return;let ke=ie;if(fe.bufferProcessing=!0,Ee>1&&pe._writev){fe.pendingcb-=Ee-1;const Ue=fe.allNoop?a:_t=>{for(let Ve=ke;Ve<Q.length;++Ve)Q[Ve].callback(_t)},Le=fe.allNoop&&0===ke?Q:E(Q,ke);Le.allBuffers=fe.allBuffers,M(pe,fe,!0,fe.length,Le,"",Ue),g(fe)}else{do{const{chunk:Ue,encoding:Le,callback:_t}=Q[ke];Q[ke++]=null,M(pe,fe,!1,ue?1:Ue.length,Ue,Le,_t)}while(ke<Q.length&&!fe.writing);ke===Q.length?g(fe):ke>256?(Q.splice(0,ke),fe.bufferedIndex=0):fe.bufferedIndex=ke}fe.bufferProcessing=!1}function _e(pe){return pe.ending&&!pe.destroyed&&pe.constructed&&0===pe.length&&!pe.errored&&0===pe.buffered.length&&!pe.finished&&!pe.writing&&!pe.errorEmitted&&!pe.closeEmitted}function Se(pe,fe,Q){_e(fe)&&(function $e(pe,fe){!fe.prefinished&&!fe.finalCalled&&("function"!=typeof pe._final||fe.destroyed?(fe.prefinished=!0,pe.emit("prefinish")):(fe.finalCalled=!0,function Pe(pe,fe){let Q=!1;function ie(ue){if(Q)C(pe,ue??ae());else if(Q=!0,fe.pendingcb--,ue){const Ee=fe[u].splice(0);for(let ke=0;ke<Ee.length;ke++)Ee[ke](ue);C(pe,ue,fe.sync)}else _e(fe)&&(fe.prefinished=!0,pe.emit("prefinish"),fe.pendingcb++,p.nextTick(be,pe,fe))}fe.sync=!0,fe.pendingcb++;try{pe._final(ie)}catch(ue){ie(ue)}fe.sync=!1}(pe,fe)))}(pe,fe),0===fe.pendingcb&&(Q?(fe.pendingcb++,p.nextTick((ie,ue)=>{_e(ue)?be(ie,ue):ue.pendingcb--},pe,fe)):_e(fe)&&(fe.pendingcb++,be(pe,fe))))}function be(pe,fe){fe.pendingcb--,fe.finished=!0;const Q=fe[u].splice(0);for(let ie=0;ie<Q.length;ie++)Q[ie]();if(pe.emit("finish"),fe.autoDestroy){const ie=pe._readableState;(!ie||ie.autoDestroy&&(ie.endEmitted||!1===ie.readable))&&pe.destroy()}}y.prototype.getBuffer=function(){return E(this.buffered,this.bufferedIndex)},x(y.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),x(S,L,{__proto__:null,value:function(pe){return!!H(this,pe)||this===S&&pe&&pe._writableState instanceof y}}),S.prototype.pipe=function(){C(this,new se)},S.prototype.write=function(pe,fe,Q){return!0===T(this,pe,fe,Q)},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){const pe=this._writableState;pe.corked&&(pe.corked--,pe.writing||ce(this,pe))},S.prototype.setDefaultEncoding=function(fe){if("string"==typeof fe&&(fe=O(fe)),!j.isEncoding(fe))throw new Ce(fe);return this._writableState.defaultEncoding=fe,this},S.prototype._write=function(pe,fe,Q){if(!this._writev)throw new oe("_write()");this._writev([{chunk:pe,encoding:fe}],Q)},S.prototype._writev=null,S.prototype.end=function(pe,fe,Q){const ie=this._writableState;let ue;if("function"==typeof pe?(Q=pe,pe=null,fe=null):"function"==typeof fe&&(Q=fe,fe=null),null!=pe){const Ee=T(this,pe,fe);Ee instanceof k&&(ue=Ee)}return ie.corked&&(ie.corked=1,this.uncork()),ue||(ie.errored||ie.ending?ie.finished?ue=new le("end"):ie.destroyed&&(ue=new de("end")):(ie.ending=!0,Se(this,ie,!0),ie.ended=!0)),"function"==typeof Q&&(ue||ie.finished?p.nextTick(Q,ue):ie[u].push(Q)),this},R(S.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(pe){this._writableState&&(this._writableState.destroyed=pe)}},writable:{__proto__:null,get(){const pe=this._writableState;return!(!pe||!1===pe.writable||pe.destroyed||pe.errored||pe.ending||pe.ended)},set(pe){this._writableState&&(this._writableState.writable=!!pe)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const pe=this._writableState;return!!pe&&!pe.destroyed&&!pe.ending&&pe.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Ne=G.destroy;let ye;function Te(){return void 0===ye&&(ye={}),ye}S.prototype.destroy=function(pe,fe){const Q=this._writableState;return!Q.destroyed&&(Q.bufferedIndex<Q.buffered.length||Q[u].length)&&p.nextTick(ee,Q),Ne.call(this,pe,fe),this},S.prototype._undestroy=G.undestroy,S.prototype._destroy=function(pe,fe){fe(pe)},S.prototype[I.captureRejectionSymbol]=function(pe){this.destroy(pe)},S.fromWeb=function(pe,fe){return Te().newStreamWritableFromWritableStream(pe,fe)},S.toWeb=function(pe){return Te().newWritableStreamFromStreamWritable(pe)}},44323:(Fe,z,_)=>{"use strict";const{ArrayIsArray:p,ArrayPrototypeIncludes:E,ArrayPrototypeJoin:k,ArrayPrototypeMap:H,NumberIsInteger:x,NumberIsNaN:R,NumberMAX_SAFE_INTEGER:A,NumberMIN_SAFE_INTEGER:O,NumberParseInt:F,ObjectPrototypeHasOwnProperty:L,RegExpPrototypeExec:I,String:Z,StringPrototypeToUpperCase:j,StringPrototypeTrim:G}=_(43856),{hideStackFrames:re,codes:{ERR_SOCKET_BAD_PORT:te,ERR_INVALID_ARG_TYPE:J,ERR_INVALID_ARG_VALUE:Y,ERR_OUT_OF_RANGE:oe,ERR_UNKNOWN_SIGNAL:ae}}=_(65109),{normalizeEncoding:se}=_(55830),{isAsyncFunction:de,isArrayBufferView:le}=_(55830).types,we={},C=/^[0-7]+$/,y=re((Ee,ke,Ue=O,Le=A)=>{if("number"!=typeof Ee)throw new J(ke,"number",Ee);if(!x(Ee))throw new oe(ke,"an integer",Ee);if(Ee<Ue||Ee>Le)throw new oe(ke,`>= ${Ue} && <= ${Le}`,Ee)}),g=re((Ee,ke,Ue=-2147483648,Le=2147483647)=>{if("number"!=typeof Ee)throw new J(ke,"number",Ee);if(!x(Ee))throw new oe(ke,"an integer",Ee);if(Ee<Ue||Ee>Le)throw new oe(ke,`>= ${Ue} && <= ${Le}`,Ee)}),S=re((Ee,ke,Ue=!1)=>{if("number"!=typeof Ee)throw new J(ke,"number",Ee);if(!x(Ee))throw new oe(ke,"an integer",Ee);const Le=Ue?1:0,_t=4294967295;if(Ee<Le||Ee>_t)throw new oe(ke,`>= ${Le} && <= ${_t}`,Ee)});function T(Ee,ke){if("string"!=typeof Ee)throw new J(ke,"string",Ee)}const M=re((Ee,ke,Ue)=>{if(!E(Ue,Ee)){const _t="must be one of: "+k(H(Ue,Ve=>"string"==typeof Ve?`'${Ve}'`:Z(Ve)),", ");throw new Y(ke,Ee,_t)}});function s(Ee,ke){if("boolean"!=typeof Ee)throw new J(ke,"boolean",Ee)}function v(Ee,ke,Ue){return null!=Ee&&L(Ee,ke)?Ee[ke]:Ue}const W=re((Ee,ke,Ue=null)=>{const Le=v(Ue,"allowArray",!1),_t=v(Ue,"allowFunction",!1);if(!v(Ue,"nullable",!1)&&null===Ee||!Le&&p(Ee)||"object"!=typeof Ee&&(!_t||"function"!=typeof Ee))throw new J(ke,"Object",Ee)}),K=re((Ee,ke)=>{if(null!=Ee&&"object"!=typeof Ee&&"function"!=typeof Ee)throw new J(ke,"a dictionary",Ee)}),ee=re((Ee,ke,Ue=0)=>{if(!p(Ee))throw new J(ke,"Array",Ee);if(Ee.length<Ue)throw new Y(ke,Ee,`must be longer than ${Ue}`)}),$e=re((Ee,ke="buffer")=>{if(!le(Ee))throw new J(ke,["Buffer","TypedArray","DataView"],Ee)}),Ne=re((Ee,ke)=>{if(void 0!==Ee&&(null===Ee||"object"!=typeof Ee||!("aborted"in Ee)))throw new J(ke,"AbortSignal",Ee)}),ye=re((Ee,ke)=>{if("function"!=typeof Ee)throw new J(ke,"Function",Ee)}),Te=re((Ee,ke)=>{if("function"!=typeof Ee||de(Ee))throw new J(ke,"Function",Ee)}),pe=re((Ee,ke)=>{if(void 0!==Ee)throw new J(ke,"undefined",Ee)}),Q=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ie(Ee,ke){if(typeof Ee>"u"||!I(Q,Ee))throw new Y(ke,Ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Fe.exports={isInt32:function xe(Ee){return Ee===(0|Ee)},isUint32:function Ce(Ee){return Ee===Ee>>>0},parseFileMode:function u(Ee,ke,Ue){if(typeof Ee>"u"&&(Ee=Ue),"string"==typeof Ee){if(null===I(C,Ee))throw new Y(ke,Ee,"must be a 32-bit unsigned integer or an octal string");Ee=F(Ee,8)}return S(Ee,ke),Ee},validateArray:ee,validateStringArray:function ce(Ee,ke){ee(Ee,ke);for(let Ue=0;Ue<Ee.length;Ue++)T(Ee[Ue],`${ke}[${Ue}]`)},validateBooleanArray:function _e(Ee,ke){ee(Ee,ke);for(let Ue=0;Ue<Ee.length;Ue++)s(Ee[Ue],`${ke}[${Ue}]`)},validateBoolean:s,validateBuffer:$e,validateDictionary:K,validateEncoding:function Se(Ee,ke){const Ue=se(ke),Le=Ee.length;if("hex"===Ue&&Le%2!=0)throw new Y("encoding",ke,`is invalid for data of length ${Le}`)},validateFunction:ye,validateInt32:g,validateInteger:y,validateNumber:function N(Ee,ke,Ue=void 0,Le){if("number"!=typeof Ee)throw new J(ke,"number",Ee);if(null!=Ue&&Ee<Ue||null!=Le&&Ee>Le||(null!=Ue||null!=Le)&&R(Ee))throw new oe(ke,`${null!=Ue?`>= ${Ue}`:""}${null!=Ue&&null!=Le?" && ":""}${null!=Le?`<= ${Le}`:""}`,Ee)},validateObject:W,validateOneOf:M,validatePlainFunction:Te,validatePort:function be(Ee,ke="Port",Ue=!0){if("number"!=typeof Ee&&"string"!=typeof Ee||"string"==typeof Ee&&0===G(Ee).length||+Ee!=+Ee>>>0||Ee>65535||0===Ee&&!Ue)throw new te(ke,Ee,Ue);return 0|Ee},validateSignalName:function Pe(Ee,ke="signal"){if(T(Ee,ke),void 0===we[Ee])throw void 0!==we[j(Ee)]?new ae(Ee+" (signals must use all capital letters)"):new ae(Ee)},validateString:T,validateUint32:S,validateUndefined:pe,validateUnion:function fe(Ee,ke,Ue){if(!E(Ue,Ee))throw new J(ke,`('${k(Ue,"|")}')`,Ee)},validateAbortSignal:Ne,validateLinkHeaderValue:function ue(Ee){if("string"==typeof Ee)return ie(Ee,"hints"),Ee;if(p(Ee)){const ke=Ee.length;let Ue="";if(0===ke)return Ue;for(let Le=0;Le<ke;Le++){const _t=Ee[Le];ie(_t,"hints"),Ue+=_t,Le!==ke-1&&(Ue+=", ")}return Ue}throw new Y("hints",Ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},95424:(Fe,z,_)=>{"use strict";const p=_(3052),E=_(19905),k=p.Readable.destroy;Fe.exports=p.Readable,Fe.exports._uint8ArrayToBuffer=p._uint8ArrayToBuffer,Fe.exports._isUint8Array=p._isUint8Array,Fe.exports.isDisturbed=p.isDisturbed,Fe.exports.isErrored=p.isErrored,Fe.exports.isReadable=p.isReadable,Fe.exports.Readable=p.Readable,Fe.exports.Writable=p.Writable,Fe.exports.Duplex=p.Duplex,Fe.exports.Transform=p.Transform,Fe.exports.PassThrough=p.PassThrough,Fe.exports.addAbortSignal=p.addAbortSignal,Fe.exports.finished=p.finished,Fe.exports.destroy=p.destroy,Fe.exports.destroy=k,Fe.exports.pipeline=p.pipeline,Fe.exports.compose=p.compose,Object.defineProperty(p,"promises",{configurable:!0,enumerable:!0,get:()=>E}),Fe.exports.Stream=p.Stream,Fe.exports.default=Fe.exports},65109:(Fe,z,_)=>{"use strict";const{format:p,inspect:E,AggregateError:k}=_(55830),H=globalThis.AggregateError||k,x=Symbol("kIsNodeError"),R=["string","function","number","object","Function","Object","boolean","bigint","symbol"],A=/^([A-Z][a-z0-9]*)+$/,F={};function L(J,Y){if(!J)throw new F.ERR_INTERNAL_ASSERTION(Y)}function I(J){let Y="",oe=J.length;const ae="-"===J[0]?1:0;for(;oe>=ae+4;oe-=3)Y=`_${J.slice(oe-3,oe)}${Y}`;return`${J.slice(0,oe)}${Y}`}function j(J,Y,oe){oe||(oe=Error);class ae extends oe{constructor(...de){super(function Z(J,Y,oe){if("function"==typeof Y)return L(Y.length<=oe.length,`Code: ${J}; The provided arguments length (${oe.length}) does not match the required ones (${Y.length}).`),Y(...oe);const ae=(Y.match(/%[dfijoOs]/g)||[]).length;return L(ae===oe.length,`Code: ${J}; The provided arguments length (${oe.length}) does not match the required ones (${ae}).`),0===oe.length?Y:p(Y,...oe)}(J,Y,de))}toString(){return`${this.name} [${J}]: ${this.message}`}}Object.defineProperties(ae.prototype,{name:{value:oe.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${J}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),ae.prototype.code=J,ae.prototype[x]=!0,F[J]=ae}function G(J){return Object.defineProperty(J,"name",{value:"__node_internal_"+J.name}),J}class te extends Error{constructor(Y="The operation was aborted",oe=void 0){if(void 0!==oe&&"object"!=typeof oe)throw new F.ERR_INVALID_ARG_TYPE("options","Object",oe);super(Y,oe),this.code="ABORT_ERR",this.name="AbortError"}}j("ERR_ASSERTION","%s",Error),j("ERR_INVALID_ARG_TYPE",(J,Y,oe)=>{L("string"==typeof J,"'name' must be a string"),Array.isArray(Y)||(Y=[Y]);let ae="The ";J.endsWith(" argument")?ae+=`${J} `:ae+=`"${J}" ${J.includes(".")?"property":"argument"} `,ae+="must be ";const se=[],de=[],le=[];for(const xe of Y)L("string"==typeof xe,"All expected entries have to be of type string"),R.includes(xe)?se.push(xe.toLowerCase()):A.test(xe)?de.push(xe):(L("object"!==xe,'The value "object" should be written as "Object"'),le.push(xe));if(de.length>0){const xe=se.indexOf("object");-1!==xe&&(se.splice(se,xe,1),de.push("Object"))}if(se.length>0){switch(se.length){case 1:ae+=`of type ${se[0]}`;break;case 2:ae+=`one of type ${se[0]} or ${se[1]}`;break;default:{const xe=se.pop();ae+=`one of type ${se.join(", ")}, or ${xe}`}}(de.length>0||le.length>0)&&(ae+=" or ")}if(de.length>0){switch(de.length){case 1:ae+=`an instance of ${de[0]}`;break;case 2:ae+=`an instance of ${de[0]} or ${de[1]}`;break;default:{const xe=de.pop();ae+=`an instance of ${de.join(", ")}, or ${xe}`}}le.length>0&&(ae+=" or ")}switch(le.length){case 0:break;case 1:le[0].toLowerCase()!==le[0]&&(ae+="an "),ae+=`${le[0]}`;break;case 2:ae+=`one of ${le[0]} or ${le[1]}`;break;default:{const xe=le.pop();ae+=`one of ${le.join(", ")}, or ${xe}`}}if(null==oe)ae+=`. Received ${oe}`;else if("function"==typeof oe&&oe.name)ae+=`. Received function ${oe.name}`;else if("object"==typeof oe){var we;null!==(we=oe.constructor)&&void 0!==we&&we.name?ae+=`. Received an instance of ${oe.constructor.name}`:ae+=`. Received ${E(oe,{depth:-1})}`}else{let xe=E(oe,{colors:!1});xe.length>25&&(xe=`${xe.slice(0,25)}...`),ae+=`. Received type ${typeof oe} (${xe})`}return ae},TypeError),j("ERR_INVALID_ARG_VALUE",(J,Y,oe="is invalid")=>{let ae=E(Y);return ae.length>128&&(ae=ae.slice(0,128)+"..."),`The ${J.includes(".")?"property":"argument"} '${J}' ${oe}. Received ${ae}`},TypeError),j("ERR_INVALID_RETURN_VALUE",(J,Y,oe)=>{var ae;return`Expected ${J} to be returned from the "${Y}" function but got ${null!=oe&&null!==(ae=oe.constructor)&&void 0!==ae&&ae.name?`instance of ${oe.constructor.name}`:"type "+typeof oe}.`},TypeError),j("ERR_MISSING_ARGS",(...J)=>{let Y;L(J.length>0,"At least one arg needs to be specified");const oe=J.length;switch(J=(Array.isArray(J)?J:[J]).map(ae=>`"${ae}"`).join(" or "),oe){case 1:Y+=`The ${J[0]} argument`;break;case 2:Y+=`The ${J[0]} and ${J[1]} arguments`;break;default:{const ae=J.pop();Y+=`The ${J.join(", ")}, and ${ae} arguments`}}return`${Y} must be specified`},TypeError),j("ERR_OUT_OF_RANGE",(J,Y,oe)=>{let ae;return L(Y,'Missing "range" argument'),Number.isInteger(oe)&&Math.abs(oe)>2**32?ae=I(String(oe)):"bigint"==typeof oe?(ae=String(oe),(oe>2n**32n||oe<-(2n**32n))&&(ae=I(ae)),ae+="n"):ae=E(oe),`The value of "${J}" is out of range. It must be ${Y}. Received ${ae}`},RangeError),j("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),j("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),j("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),j("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),j("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),j("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),j("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),j("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),j("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),j("ERR_STREAM_WRITE_AFTER_END","write after end",Error),j("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Fe.exports={AbortError:te,aggregateTwoErrors:G(function re(J,Y){if(J&&Y&&J!==Y){if(Array.isArray(Y.errors))return Y.errors.push(J),Y;const oe=new H([Y,J],Y.message);return oe.code=Y.code,oe}return J||Y}),hideStackFrames:G,codes:F}},43856:Fe=>{"use strict";Fe.exports={ArrayIsArray:z=>Array.isArray(z),ArrayPrototypeIncludes:(z,_)=>z.includes(_),ArrayPrototypeIndexOf:(z,_)=>z.indexOf(_),ArrayPrototypeJoin:(z,_)=>z.join(_),ArrayPrototypeMap:(z,_)=>z.map(_),ArrayPrototypePop:(z,_)=>z.pop(_),ArrayPrototypePush:(z,_)=>z.push(_),ArrayPrototypeSlice:(z,_,p)=>z.slice(_,p),Error,FunctionPrototypeCall:(z,_,...p)=>z.call(_,...p),FunctionPrototypeSymbolHasInstance:(z,_)=>Function.prototype[Symbol.hasInstance].call(z,_),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(z,_)=>Object.defineProperties(z,_),ObjectDefineProperty:(z,_,p)=>Object.defineProperty(z,_,p),ObjectGetOwnPropertyDescriptor:(z,_)=>Object.getOwnPropertyDescriptor(z,_),ObjectKeys:z=>Object.keys(z),ObjectSetPrototypeOf:(z,_)=>Object.setPrototypeOf(z,_),Promise,PromisePrototypeCatch:(z,_)=>z.catch(_),PromisePrototypeThen:(z,_,p)=>z.then(_,p),PromiseReject:z=>Promise.reject(z),ReflectApply:Reflect.apply,RegExpPrototypeTest:(z,_)=>z.test(_),SafeSet:Set,String,StringPrototypeSlice:(z,_,p)=>z.slice(_,p),StringPrototypeToLowerCase:z=>z.toLowerCase(),StringPrototypeToUpperCase:z=>z.toUpperCase(),StringPrototypeTrim:z=>z.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(z,_,p)=>z.set(_,p),Uint8Array}},55830:(Fe,z,_)=>{"use strict";var p=_(29293).default;const E=_(89565),k=Object.getPrototypeOf(p(function*(){})).constructor,H=globalThis.Blob||E.Blob,x=typeof H<"u"?function(O){return O instanceof H}:function(O){return!1};class R extends Error{constructor(O){if(!Array.isArray(O))throw new TypeError("Expected input to be an Array, got "+typeof O);let F="";for(let L=0;L<O.length;L++)F+=`    ${O[L].stack}\n`;super(F),this.name="AggregateError",this.errors=O}}Fe.exports={AggregateError:R,kEmptyObject:Object.freeze({}),once(A){let O=!1;return function(...F){O||(O=!0,A.apply(this,F))}},createDeferredPromise:function(){let A,O;return{promise:new Promise((L,I)=>{A=L,O=I}),resolve:A,reject:O}},promisify:A=>new Promise((O,F)=>{A((L,...I)=>L?F(L):O(...I))}),debuglog:()=>function(){},format:(A,...O)=>A.replace(/%([sdifj])/g,function(...[F,L]){const I=O.shift();return"f"===L?I.toFixed(6):"j"===L?JSON.stringify(I):"s"===L&&"object"==typeof I?`${I.constructor!==Object?I.constructor.name:""} {}`.trim():I.toString()}),inspect(A){switch(typeof A){case"string":if(A.includes("'")){if(!A.includes('"'))return`"${A}"`;if(!A.includes("`")&&!A.includes("${"))return`\`${A}\``}return`'${A}'`;case"number":return isNaN(A)?"NaN":Object.is(A,-0)?String(A):A;case"bigint":return`${String(A)}n`;case"boolean":case"undefined":return String(A);case"object":return"{}"}},types:{isAsyncFunction:A=>A instanceof k,isArrayBufferView:A=>ArrayBuffer.isView(A)},isBlob:x},Fe.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},3052:(Fe,z,_)=>{const{Buffer:p}=_(89565),{ObjectDefineProperty:E,ObjectKeys:k,ReflectApply:H}=_(43856),{promisify:{custom:x}}=_(55830),{streamReturningOperators:R,promiseReturningOperators:A}=_(37325),{codes:{ERR_ILLEGAL_CONSTRUCTOR:O}}=_(65109),F=_(5464),{pipeline:L}=_(96208),{destroyer:I}=_(45078),Z=_(44268),G=_(19905),re=_(51233),te=Fe.exports=_(2649).Stream;te.isDisturbed=re.isDisturbed,te.isErrored=re.isErrored,te.isReadable=re.isReadable,te.Readable=_(29710);for(const oe of k(R)){let se=function(...de){if(new.target)throw O();return te.Readable.from(H(ae,this,de))};const ae=R[oe];E(se,"name",{__proto__:null,value:ae.name}),E(se,"length",{__proto__:null,value:ae.length}),E(te.Readable.prototype,oe,{__proto__:null,value:se,enumerable:!1,configurable:!0,writable:!0})}for(const oe of k(A)){let se=function(...le){if(new.target)throw O();return H(ae,this,le)};const ae=A[oe];E(se,"name",{__proto__:null,value:ae.name}),E(se,"length",{__proto__:null,value:ae.length}),E(te.Readable.prototype,oe,{__proto__:null,value:se,enumerable:!1,configurable:!0,writable:!0})}te.Writable=_(40258),te.Duplex=_(97464),te.Transform=_(66344),te.PassThrough=_(70874),te.pipeline=L;const{addAbortSignal:J}=_(24785);te.addAbortSignal=J,te.finished=Z,te.destroy=I,te.compose=F,E(te,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>G}),E(L,x,{__proto__:null,enumerable:!0,get:()=>G.pipeline}),E(Z,x,{__proto__:null,enumerable:!0,get:()=>G.finished}),te.Stream=te,te._isUint8Array=function(ae){return ae instanceof Uint8Array},te._uint8ArrayToBuffer=function(ae){return p.from(ae.buffer,ae.byteOffset,ae.byteLength)}},19905:(Fe,z,_)=>{"use strict";const{ArrayPrototypePop:p,Promise:E}=_(43856),{isIterable:k,isNodeStream:H,isWebStream:x}=_(51233),{pipelineImpl:R}=_(96208),{finished:A}=_(44268);_(3052),Fe.exports={finished:A,pipeline:function O(...F){return new E((L,I)=>{let Z,j;const G=F[F.length-1];if(G&&"object"==typeof G&&!H(G)&&!k(G)&&!x(G)){const re=p(F);Z=re.signal,j=re.end}R(F,(re,te)=>{re?I(re):L(te)},{signal:Z,end:j})})}}},37945:(Fe,z,_)=>{"use strict";const p=_(13981),E=_(22020),k="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=A,z.SlowBuffer=function Y(B){return+B!=B&&(B=0),A.alloc(+B)},z.INSPECT_MAX_BYTES=50;const H=2147483647;function R(B){if(B>H)throw new RangeError('The value "'+B+'" is invalid for option "size"');const w=new Uint8Array(B);return Object.setPrototypeOf(w,A.prototype),w}function A(B,w,m){if("number"==typeof B){if("string"==typeof w)throw new TypeError('The "string" argument must be of type string. Received type number');return I(B)}return O(B,w,m)}function O(B,w,m){if("string"==typeof B)return function Z(B,w){if(("string"!=typeof w||""===w)&&(w="utf8"),!A.isEncoding(w))throw new TypeError("Unknown encoding: "+w);const m=0|oe(B,w);let U=R(m);const ne=U.write(B,w);return ne!==m&&(U=U.slice(0,ne)),U}(B,w);if(ArrayBuffer.isView(B))return function G(B){if(Le(B,Uint8Array)){const w=new Uint8Array(B);return re(w.buffer,w.byteOffset,w.byteLength)}return j(B)}(B);if(null==B)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(Le(B,ArrayBuffer)||B&&Le(B.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Le(B,SharedArrayBuffer)||B&&Le(B.buffer,SharedArrayBuffer)))return re(B,w,m);if("number"==typeof B)throw new TypeError('The "value" argument must not be of type number. Received type number');const U=B.valueOf&&B.valueOf();if(null!=U&&U!==B)return A.from(U,w,m);const ne=function te(B){if(A.isBuffer(B)){const w=0|J(B.length),m=R(w);return 0===m.length||B.copy(m,0,0,w),m}return void 0!==B.length?"number"!=typeof B.length||_t(B.length)?R(0):j(B):"Buffer"===B.type&&Array.isArray(B.data)?j(B.data):void 0}(B);if(ne)return ne;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof B[Symbol.toPrimitive])return A.from(B[Symbol.toPrimitive]("string"),w,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}function F(B){if("number"!=typeof B)throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function I(B){return F(B),R(B<0?0:0|J(B))}function j(B){const w=B.length<0?0:0|J(B.length),m=R(w);for(let U=0;U<w;U+=1)m[U]=255&B[U];return m}function re(B,w,m){if(w<0||B.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<w+(m||0))throw new RangeError('"length" is outside of buffer bounds');let U;return U=void 0===w&&void 0===m?new Uint8Array(B):void 0===m?new Uint8Array(B,w):new Uint8Array(B,w,m),Object.setPrototypeOf(U,A.prototype),U}function J(B){if(B>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|B}function oe(B,w){if(A.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||Le(B,ArrayBuffer))return B.byteLength;if("string"!=typeof B)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);const m=B.length,U=arguments.length>2&&!0===arguments[2];if(!U&&0===m)return 0;let ne=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return ie(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*m;case"hex":return m>>>1;case"base64":return ke(B).length;default:if(ne)return U?-1:ie(B).length;w=(""+w).toLowerCase(),ne=!0}}function ae(B,w,m){let U=!1;if((void 0===w||w<0)&&(w=0),w>this.length||((void 0===m||m>this.length)&&(m=this.length),m<=0)||(m>>>=0)<=(w>>>=0))return"";for(B||(B="utf8");;)switch(B){case"hex":return M(this,w,m);case"utf8":case"utf-8":return y(this,w,m);case"ascii":return T(this,w,m);case"latin1":case"binary":return N(this,w,m);case"base64":return u(this,w,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,w,m);default:if(U)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),U=!0}}function se(B,w,m){const U=B[w];B[w]=B[m],B[m]=U}function de(B,w,m,U,ne){if(0===B.length)return-1;if("string"==typeof m?(U=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),_t(m=+m)&&(m=ne?0:B.length-1),m<0&&(m=B.length+m),m>=B.length){if(ne)return-1;m=B.length-1}else if(m<0){if(!ne)return-1;m=0}if("string"==typeof w&&(w=A.from(w,U)),A.isBuffer(w))return 0===w.length?-1:le(B,w,m,U,ne);if("number"==typeof w)return w&=255,"function"==typeof Uint8Array.prototype.indexOf?ne?Uint8Array.prototype.indexOf.call(B,w,m):Uint8Array.prototype.lastIndexOf.call(B,w,m):le(B,[w],m,U,ne);throw new TypeError("val must be string, number or Buffer")}function le(B,w,m,U,ne){let gt,ge=1,Ae=B.length,Qe=w.length;if(void 0!==U&&("ucs2"===(U=String(U).toLowerCase())||"ucs-2"===U||"utf16le"===U||"utf-16le"===U)){if(B.length<2||w.length<2)return-1;ge=2,Ae/=2,Qe/=2,m/=2}function Bt(It,Gt){return 1===ge?It[Gt]:It.readUInt16BE(Gt*ge)}if(ne){let It=-1;for(gt=m;gt<Ae;gt++)if(Bt(B,gt)===Bt(w,-1===It?0:gt-It)){if(-1===It&&(It=gt),gt-It+1===Qe)return It*ge}else-1!==It&&(gt-=gt-It),It=-1}else for(m+Qe>Ae&&(m=Ae-Qe),gt=m;gt>=0;gt--){let It=!0;for(let Gt=0;Gt<Qe;Gt++)if(Bt(B,gt+Gt)!==Bt(w,Gt)){It=!1;break}if(It)return gt}return-1}function we(B,w,m,U){m=Number(m)||0;const ne=B.length-m;U?(U=Number(U))>ne&&(U=ne):U=ne;const ge=w.length;let Ae;for(U>ge/2&&(U=ge/2),Ae=0;Ae<U;++Ae){const Qe=parseInt(w.substr(2*Ae,2),16);if(_t(Qe))return Ae;B[m+Ae]=Qe}return Ae}function xe(B,w,m,U){return Ue(ie(w,B.length-m),B,m,U)}function Ce(B,w,m,U){return Ue(function ue(B){const w=[];for(let m=0;m<B.length;++m)w.push(255&B.charCodeAt(m));return w}(w),B,m,U)}function C(B,w,m,U){return Ue(ke(w),B,m,U)}function a(B,w,m,U){return Ue(function Ee(B,w){let m,U,ne;const ge=[];for(let Ae=0;Ae<B.length&&!((w-=2)<0);++Ae)m=B.charCodeAt(Ae),U=m>>8,ne=m%256,ge.push(ne),ge.push(U);return ge}(w,B.length-m),B,m,U)}function u(B,w,m){return p.fromByteArray(0===w&&m===B.length?B:B.slice(w,m))}function y(B,w,m){m=Math.min(B.length,m);const U=[];let ne=w;for(;ne<m;){const ge=B[ne];let Ae=null,Qe=ge>239?4:ge>223?3:ge>191?2:1;if(ne+Qe<=m){let Bt,gt,It,Gt;switch(Qe){case 1:ge<128&&(Ae=ge);break;case 2:Bt=B[ne+1],128==(192&Bt)&&(Gt=(31&ge)<<6|63&Bt,Gt>127&&(Ae=Gt));break;case 3:Bt=B[ne+1],gt=B[ne+2],128==(192&Bt)&&128==(192&gt)&&(Gt=(15&ge)<<12|(63&Bt)<<6|63&gt,Gt>2047&&(Gt<55296||Gt>57343)&&(Ae=Gt));break;case 4:Bt=B[ne+1],gt=B[ne+2],It=B[ne+3],128==(192&Bt)&&128==(192&gt)&&128==(192&It)&&(Gt=(15&ge)<<18|(63&Bt)<<12|(63&gt)<<6|63&It,Gt>65535&&Gt<1114112&&(Ae=Gt))}}null===Ae?(Ae=65533,Qe=1):Ae>65535&&(Ae-=65536,U.push(Ae>>>10&1023|55296),Ae=56320|1023&Ae),U.push(Ae),ne+=Qe}return function S(B){const w=B.length;if(w<=g)return String.fromCharCode.apply(String,B);let m="",U=0;for(;U<w;)m+=String.fromCharCode.apply(String,B.slice(U,U+=g));return m}(U)}z.kMaxLength=H,!(A.TYPED_ARRAY_SUPPORT=function x(){try{const B=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(B,w),42===B.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(B,w,m){return O(B,w,m)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(B,w,m){return function L(B,w,m){return F(B),B<=0?R(B):void 0!==w?"string"==typeof m?R(B).fill(w,m):R(B).fill(w):R(B)}(B,w,m)},A.allocUnsafe=function(B){return I(B)},A.allocUnsafeSlow=function(B){return I(B)},A.isBuffer=function(w){return null!=w&&!0===w._isBuffer&&w!==A.prototype},A.compare=function(w,m){if(Le(w,Uint8Array)&&(w=A.from(w,w.offset,w.byteLength)),Le(m,Uint8Array)&&(m=A.from(m,m.offset,m.byteLength)),!A.isBuffer(w)||!A.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===m)return 0;let U=w.length,ne=m.length;for(let ge=0,Ae=Math.min(U,ne);ge<Ae;++ge)if(w[ge]!==m[ge]){U=w[ge],ne=m[ge];break}return U<ne?-1:ne<U?1:0},A.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(w,m){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(0===w.length)return A.alloc(0);let U;if(void 0===m)for(m=0,U=0;U<w.length;++U)m+=w[U].length;const ne=A.allocUnsafe(m);let ge=0;for(U=0;U<w.length;++U){let Ae=w[U];if(Le(Ae,Uint8Array))ge+Ae.length>ne.length?(A.isBuffer(Ae)||(Ae=A.from(Ae)),Ae.copy(ne,ge)):Uint8Array.prototype.set.call(ne,Ae,ge);else{if(!A.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(ne,ge)}ge+=Ae.length}return ne},A.byteLength=oe,A.prototype._isBuffer=!0,A.prototype.swap16=function(){const w=this.length;if(w%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<w;m+=2)se(this,m,m+1);return this},A.prototype.swap32=function(){const w=this.length;if(w%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<w;m+=4)se(this,m,m+3),se(this,m+1,m+2);return this},A.prototype.swap64=function(){const w=this.length;if(w%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<w;m+=8)se(this,m,m+7),se(this,m+1,m+6),se(this,m+2,m+5),se(this,m+3,m+4);return this},A.prototype.toLocaleString=A.prototype.toString=function(){const w=this.length;return 0===w?"":0===arguments.length?y(this,0,w):ae.apply(this,arguments)},A.prototype.equals=function(w){if(!A.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w||0===A.compare(this,w)},A.prototype.inspect=function(){let w="";const m=z.INSPECT_MAX_BYTES;return w=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(w+=" ... "),"<Buffer "+w+">"},k&&(A.prototype[k]=A.prototype.inspect),A.prototype.compare=function(w,m,U,ne,ge){if(Le(w,Uint8Array)&&(w=A.from(w,w.offset,w.byteLength)),!A.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(void 0===m&&(m=0),void 0===U&&(U=w?w.length:0),void 0===ne&&(ne=0),void 0===ge&&(ge=this.length),m<0||U>w.length||ne<0||ge>this.length)throw new RangeError("out of range index");if(ne>=ge&&m>=U)return 0;if(ne>=ge)return-1;if(m>=U)return 1;if(this===w)return 0;let Ae=(ge>>>=0)-(ne>>>=0),Qe=(U>>>=0)-(m>>>=0);const Bt=Math.min(Ae,Qe),gt=this.slice(ne,ge),It=w.slice(m,U);for(let Gt=0;Gt<Bt;++Gt)if(gt[Gt]!==It[Gt]){Ae=gt[Gt],Qe=It[Gt];break}return Ae<Qe?-1:Qe<Ae?1:0},A.prototype.includes=function(w,m,U){return-1!==this.indexOf(w,m,U)},A.prototype.indexOf=function(w,m,U){return de(this,w,m,U,!0)},A.prototype.lastIndexOf=function(w,m,U){return de(this,w,m,U,!1)},A.prototype.write=function(w,m,U,ne){if(void 0===m)ne="utf8",U=this.length,m=0;else if(void 0===U&&"string"==typeof m)ne=m,U=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m>>>=0,isFinite(U)?(U>>>=0,void 0===ne&&(ne="utf8")):(ne=U,U=void 0)}const ge=this.length-m;if((void 0===U||U>ge)&&(U=ge),w.length>0&&(U<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");let Ae=!1;for(;;)switch(ne){case"hex":return we(this,w,m,U);case"utf8":case"utf-8":return xe(this,w,m,U);case"ascii":case"latin1":case"binary":return Ce(this,w,m,U);case"base64":return C(this,w,m,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,w,m,U);default:if(Ae)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),Ae=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const g=4096;function T(B,w,m){let U="";m=Math.min(B.length,m);for(let ne=w;ne<m;++ne)U+=String.fromCharCode(127&B[ne]);return U}function N(B,w,m){let U="";m=Math.min(B.length,m);for(let ne=w;ne<m;++ne)U+=String.fromCharCode(B[ne]);return U}function M(B,w,m){const U=B.length;(!w||w<0)&&(w=0),(!m||m<0||m>U)&&(m=U);let ne="";for(let ge=w;ge<m;++ge)ne+=Ve[B[ge]];return ne}function s(B,w,m){const U=B.slice(w,m);let ne="";for(let ge=0;ge<U.length-1;ge+=2)ne+=String.fromCharCode(U[ge]+256*U[ge+1]);return ne}function v(B,w,m){if(B%1!=0||B<0)throw new RangeError("offset is not uint");if(B+w>m)throw new RangeError("Trying to access beyond buffer length")}function W(B,w,m,U,ne,ge){if(!A.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>ne||w<ge)throw new RangeError('"value" argument is out of bounds');if(m+U>B.length)throw new RangeError("Index out of range")}function K(B,w,m,U,ne){ye(w,U,ne,B,m,7);let ge=Number(w&BigInt(4294967295));B[m++]=ge,ge>>=8,B[m++]=ge,ge>>=8,B[m++]=ge,ge>>=8,B[m++]=ge;let Ae=Number(w>>BigInt(32)&BigInt(4294967295));return B[m++]=Ae,Ae>>=8,B[m++]=Ae,Ae>>=8,B[m++]=Ae,Ae>>=8,B[m++]=Ae,m}function ee(B,w,m,U,ne){ye(w,U,ne,B,m,7);let ge=Number(w&BigInt(4294967295));B[m+7]=ge,ge>>=8,B[m+6]=ge,ge>>=8,B[m+5]=ge,ge>>=8,B[m+4]=ge;let Ae=Number(w>>BigInt(32)&BigInt(4294967295));return B[m+3]=Ae,Ae>>=8,B[m+2]=Ae,Ae>>=8,B[m+1]=Ae,Ae>>=8,B[m]=Ae,m+8}function ce(B,w,m,U,ne,ge){if(m+U>B.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function _e(B,w,m,U,ne){return w=+w,m>>>=0,ne||ce(B,0,m,4),E.write(B,w,m,U,23,4),m+4}function Pe(B,w,m,U,ne){return w=+w,m>>>=0,ne||ce(B,0,m,8),E.write(B,w,m,U,52,8),m+8}A.prototype.slice=function(w,m){const U=this.length;(w=~~w)<0?(w+=U)<0&&(w=0):w>U&&(w=U),(m=void 0===m?U:~~m)<0?(m+=U)<0&&(m=0):m>U&&(m=U),m<w&&(m=w);const ne=this.subarray(w,m);return Object.setPrototypeOf(ne,A.prototype),ne},A.prototype.readUintLE=A.prototype.readUIntLE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[w+Ae]*ge;return ne},A.prototype.readUintBE=A.prototype.readUIntBE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w+--m],ge=1;for(;m>0&&(ge*=256);)ne+=this[w+--m]*ge;return ne},A.prototype.readUint8=A.prototype.readUInt8=function(w,m){return w>>>=0,m||v(w,1,this.length),this[w]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(w,m){return w>>>=0,m||v(w,2,this.length),this[w]|this[w+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(w,m){return w>>>=0,m||v(w,2,this.length),this[w]<<8|this[w+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(w,m){return w>>>=0,m||v(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+16777216*this[w+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(w,m){return w>>>=0,m||v(w,4,this.length),16777216*this[w]+(this[w+1]<<16|this[w+2]<<8|this[w+3])},A.prototype.readBigUInt64LE=Be(function(w){Te(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=m+256*this[++w]+65536*this[++w]+this[++w]*2**24,ge=this[++w]+256*this[++w]+65536*this[++w]+U*2**24;return BigInt(ne)+(BigInt(ge)<<BigInt(32))}),A.prototype.readBigUInt64BE=Be(function(w){Te(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=m*2**24+65536*this[++w]+256*this[++w]+this[++w],ge=this[++w]*2**24+65536*this[++w]+256*this[++w]+U;return(BigInt(ne)<<BigInt(32))+BigInt(ge)}),A.prototype.readIntLE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[w+Ae]*ge;return ge*=128,ne>=ge&&(ne-=Math.pow(2,8*m)),ne},A.prototype.readIntBE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=m,ge=1,Ae=this[w+--ne];for(;ne>0&&(ge*=256);)Ae+=this[w+--ne]*ge;return ge*=128,Ae>=ge&&(Ae-=Math.pow(2,8*m)),Ae},A.prototype.readInt8=function(w,m){return w>>>=0,m||v(w,1,this.length),128&this[w]?-1*(255-this[w]+1):this[w]},A.prototype.readInt16LE=function(w,m){w>>>=0,m||v(w,2,this.length);const U=this[w]|this[w+1]<<8;return 32768&U?4294901760|U:U},A.prototype.readInt16BE=function(w,m){w>>>=0,m||v(w,2,this.length);const U=this[w+1]|this[w]<<8;return 32768&U?4294901760|U:U},A.prototype.readInt32LE=function(w,m){return w>>>=0,m||v(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},A.prototype.readInt32BE=function(w,m){return w>>>=0,m||v(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},A.prototype.readBigInt64LE=Be(function(w){Te(w>>>=0,"offset");const m=this[w],U=this[w+7];return(void 0===m||void 0===U)&&pe(w,this.length-8),(BigInt(this[w+4]+256*this[w+5]+65536*this[w+6]+(U<<24))<<BigInt(32))+BigInt(m+256*this[++w]+65536*this[++w]+this[++w]*2**24)}),A.prototype.readBigInt64BE=Be(function(w){Te(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=(m<<24)+65536*this[++w]+256*this[++w]+this[++w];return(BigInt(ne)<<BigInt(32))+BigInt(this[++w]*2**24+65536*this[++w]+256*this[++w]+U)}),A.prototype.readFloatLE=function(w,m){return w>>>=0,m||v(w,4,this.length),E.read(this,w,!0,23,4)},A.prototype.readFloatBE=function(w,m){return w>>>=0,m||v(w,4,this.length),E.read(this,w,!1,23,4)},A.prototype.readDoubleLE=function(w,m){return w>>>=0,m||v(w,8,this.length),E.read(this,w,!0,52,8)},A.prototype.readDoubleBE=function(w,m){return w>>>=0,m||v(w,8,this.length),E.read(this,w,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(w,m,U,ne){w=+w,m>>>=0,U>>>=0,ne||W(this,w,m,U,Math.pow(2,8*U)-1,0);let ge=1,Ae=0;for(this[m]=255&w;++Ae<U&&(ge*=256);)this[m+Ae]=w/ge&255;return m+U},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(w,m,U,ne){w=+w,m>>>=0,U>>>=0,ne||W(this,w,m,U,Math.pow(2,8*U)-1,0);let ge=U-1,Ae=1;for(this[m+ge]=255&w;--ge>=0&&(Ae*=256);)this[m+ge]=w/Ae&255;return m+U},A.prototype.writeUint8=A.prototype.writeUInt8=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,1,255,0),this[m]=255&w,m+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,65535,0),this[m]=255&w,this[m+1]=w>>>8,m+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,65535,0),this[m]=w>>>8,this[m+1]=255&w,m+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,4294967295,0),this[m+3]=w>>>24,this[m+2]=w>>>16,this[m+1]=w>>>8,this[m]=255&w,m+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,4294967295,0),this[m]=w>>>24,this[m+1]=w>>>16,this[m+2]=w>>>8,this[m+3]=255&w,m+4},A.prototype.writeBigUInt64LE=Be(function(w,m=0){return K(this,w,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=Be(function(w,m=0){return ee(this,w,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(w,m,U,ne){if(w=+w,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,w,m,U,Bt-1,-Bt)}let ge=0,Ae=1,Qe=0;for(this[m]=255&w;++ge<U&&(Ae*=256);)w<0&&0===Qe&&0!==this[m+ge-1]&&(Qe=1),this[m+ge]=(w/Ae|0)-Qe&255;return m+U},A.prototype.writeIntBE=function(w,m,U,ne){if(w=+w,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,w,m,U,Bt-1,-Bt)}let ge=U-1,Ae=1,Qe=0;for(this[m+ge]=255&w;--ge>=0&&(Ae*=256);)w<0&&0===Qe&&0!==this[m+ge+1]&&(Qe=1),this[m+ge]=(w/Ae|0)-Qe&255;return m+U},A.prototype.writeInt8=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,1,127,-128),w<0&&(w=255+w+1),this[m]=255&w,m+1},A.prototype.writeInt16LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,32767,-32768),this[m]=255&w,this[m+1]=w>>>8,m+2},A.prototype.writeInt16BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,32767,-32768),this[m]=w>>>8,this[m+1]=255&w,m+2},A.prototype.writeInt32LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,2147483647,-2147483648),this[m]=255&w,this[m+1]=w>>>8,this[m+2]=w>>>16,this[m+3]=w>>>24,m+4},A.prototype.writeInt32BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[m]=w>>>24,this[m+1]=w>>>16,this[m+2]=w>>>8,this[m+3]=255&w,m+4},A.prototype.writeBigInt64LE=Be(function(w,m=0){return K(this,w,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=Be(function(w,m=0){return ee(this,w,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeFloatLE=function(w,m,U){return _e(this,w,m,!0,U)},A.prototype.writeFloatBE=function(w,m,U){return _e(this,w,m,!1,U)},A.prototype.writeDoubleLE=function(w,m,U){return Pe(this,w,m,!0,U)},A.prototype.writeDoubleBE=function(w,m,U){return Pe(this,w,m,!1,U)},A.prototype.copy=function(w,m,U,ne){if(!A.isBuffer(w))throw new TypeError("argument should be a Buffer");if(U||(U=0),!ne&&0!==ne&&(ne=this.length),m>=w.length&&(m=w.length),m||(m=0),ne>0&&ne<U&&(ne=U),ne===U||0===w.length||0===this.length)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),w.length-m<ne-U&&(ne=w.length-m+U);const ge=ne-U;return this===w&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(m,U,ne):Uint8Array.prototype.set.call(w,this.subarray(U,ne),m),ge},A.prototype.fill=function(w,m,U,ne){if("string"==typeof w){if("string"==typeof m?(ne=m,m=0,U=this.length):"string"==typeof U&&(ne=U,U=this.length),void 0!==ne&&"string"!=typeof ne)throw new TypeError("encoding must be a string");if("string"==typeof ne&&!A.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(1===w.length){const Ae=w.charCodeAt(0);("utf8"===ne&&Ae<128||"latin1"===ne)&&(w=Ae)}}else"number"==typeof w?w&=255:"boolean"==typeof w&&(w=Number(w));if(m<0||this.length<m||this.length<U)throw new RangeError("Out of range index");if(U<=m)return this;let ge;if(m>>>=0,U=void 0===U?this.length:U>>>0,w||(w=0),"number"==typeof w)for(ge=m;ge<U;++ge)this[ge]=w;else{const Ae=A.isBuffer(w)?w:A.from(w,ne),Qe=Ae.length;if(0===Qe)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(ge=0;ge<U-m;++ge)this[ge+m]=Ae[ge%Qe]}return this};const $e={};function Se(B,w,m){$e[B]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${B}]`,delete this.name}get code(){return B}set code(ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ne,writable:!0})}toString(){return`${this.name} [${B}]: ${this.message}`}}}function be(B){let w="",m=B.length;const U="-"===B[0]?1:0;for(;m>=U+4;m-=3)w=`_${B.slice(m-3,m)}${w}`;return`${B.slice(0,m)}${w}`}function ye(B,w,m,U,ne,ge){if(B>m||B<w){const Ae="bigint"==typeof w?"n":"";let Qe;throw Qe=ge>3?0===w||w===BigInt(0)?`>= 0${Ae} and < 2${Ae} ** ${8*(ge+1)}${Ae}`:`>= -(2${Ae} ** ${8*(ge+1)-1}${Ae}) and < 2 ** ${8*(ge+1)-1}${Ae}`:`>= ${w}${Ae} and <= ${m}${Ae}`,new $e.ERR_OUT_OF_RANGE("value",Qe,B)}!function Ne(B,w,m){Te(w,"offset"),(void 0===B[w]||void 0===B[w+m])&&pe(w,B.length-(m+1))}(U,ne,ge)}function Te(B,w){if("number"!=typeof B)throw new $e.ERR_INVALID_ARG_TYPE(w,"number",B)}function pe(B,w,m){throw Math.floor(B)!==B?(Te(B,m),new $e.ERR_OUT_OF_RANGE(m||"offset","an integer",B)):w<0?new $e.ERR_BUFFER_OUT_OF_BOUNDS:new $e.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${w}`,B)}Se("ERR_BUFFER_OUT_OF_BOUNDS",function(B){return B?`${B} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Se("ERR_INVALID_ARG_TYPE",function(B,w){return`The "${B}" argument must be of type number. Received type ${typeof w}`},TypeError),Se("ERR_OUT_OF_RANGE",function(B,w,m){let U=`The value of "${B}" is out of range.`,ne=m;return Number.isInteger(m)&&Math.abs(m)>2**32?ne=be(String(m)):"bigint"==typeof m&&(ne=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(ne=be(ne)),ne+="n"),U+=` It must be ${w}. Received ${ne}`,U},RangeError);const fe=/[^+/0-9A-Za-z-_]/g;function ie(B,w){let m;w=w||1/0;const U=B.length;let ne=null;const ge=[];for(let Ae=0;Ae<U;++Ae){if(m=B.charCodeAt(Ae),m>55295&&m<57344){if(!ne){if(m>56319){(w-=3)>-1&&ge.push(239,191,189);continue}if(Ae+1===U){(w-=3)>-1&&ge.push(239,191,189);continue}ne=m;continue}if(m<56320){(w-=3)>-1&&ge.push(239,191,189),ne=m;continue}m=65536+(ne-55296<<10|m-56320)}else ne&&(w-=3)>-1&&ge.push(239,191,189);if(ne=null,m<128){if((w-=1)<0)break;ge.push(m)}else if(m<2048){if((w-=2)<0)break;ge.push(m>>6|192,63&m|128)}else if(m<65536){if((w-=3)<0)break;ge.push(m>>12|224,m>>6&63|128,63&m|128)}else{if(!(m<1114112))throw new Error("Invalid code point");if((w-=4)<0)break;ge.push(m>>18|240,m>>12&63|128,m>>6&63|128,63&m|128)}}return ge}function ke(B){return p.toByteArray(function Q(B){if((B=(B=B.split("=")[0]).trim().replace(fe,"")).length<2)return"";for(;B.length%4!=0;)B+="=";return B}(B))}function Ue(B,w,m,U){let ne;for(ne=0;ne<U&&!(ne+m>=w.length||ne>=B.length);++ne)w[ne+m]=B[ne];return ne}function Le(B,w){return B instanceof w||null!=B&&null!=B.constructor&&null!=B.constructor.name&&B.constructor.name===w.name}function _t(B){return B!=B}const Ve=function(){const B="0123456789abcdef",w=new Array(256);for(let m=0;m<16;++m){const U=16*m;for(let ne=0;ne<16;++ne)w[U+ne]=B[m]+B[ne]}return w}();function Be(B){return typeof BigInt>"u"?lt:B}function lt(){throw new Error("BigInt not supported")}},95099:(Fe,z,_)=>{_(23963)},55397:(Fe,z,_)=>{"use strict";const{AbortError:p,codes:E}=_(85833),{isNodeStream:k,isWebStream:H,kControllerErrorFunction:x}=_(76989),R=_(68208),{ERR_INVALID_ARG_TYPE:A}=E;Fe.exports.addAbortSignal=function(L,I){if(((F,L)=>{if("object"!=typeof F||!("aborted"in F))throw new A("signal","AbortSignal",F)})(L),!k(I)&&!H(I))throw new A("stream",["ReadableStream","WritableStream","Stream"],I);return Fe.exports.addAbortSignalNoValidate(L,I)},Fe.exports.addAbortSignalNoValidate=function(F,L){if("object"!=typeof F||!("aborted"in F))return L;const I=k(L)?()=>{L.destroy(new p(void 0,{cause:F.reason}))}:()=>{L[x](new p(void 0,{cause:F.reason}))};return F.aborted?I():(F.addEventListener("abort",I),R(L,()=>F.removeEventListener("abort",I))),L}},54863:(Fe,z,_)=>{"use strict";const{StringPrototypeSlice:p,SymbolIterator:E,TypedArrayPrototypeSet:k,Uint8Array:H}=_(2220),{Buffer:x}=_(37945),{inspect:R}=_(82578);Fe.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(O){const F={data:O,next:null};this.length>0?this.tail.next=F:this.head=F,this.tail=F,++this.length}unshift(O){const F={data:O,next:this.head};0===this.length&&(this.tail=F),this.head=F,++this.length}shift(){if(0===this.length)return;const O=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,O}clear(){this.head=this.tail=null,this.length=0}join(O){if(0===this.length)return"";let F=this.head,L=""+F.data;for(;null!==(F=F.next);)L+=O+F.data;return L}concat(O){if(0===this.length)return x.alloc(0);const F=x.allocUnsafe(O>>>0);let L=this.head,I=0;for(;L;)k(F,L.data,I),I+=L.data.length,L=L.next;return F}consume(O,F){const L=this.head.data;if(O<L.length){const I=L.slice(0,O);return this.head.data=L.slice(O),I}return O===L.length?this.shift():F?this._getString(O):this._getBuffer(O)}first(){return this.head.data}*[E](){for(let O=this.head;O;O=O.next)yield O.data}_getString(O){let F="",L=this.head,I=0;do{const Z=L.data;if(!(O>Z.length)){O===Z.length?(F+=Z,++I,this.head=L.next?L.next:this.tail=null):(F+=p(Z,0,O),this.head=L,L.data=p(Z,O));break}F+=Z,O-=Z.length,++I}while(null!==(L=L.next));return this.length-=I,F}_getBuffer(O){const F=x.allocUnsafe(O),L=O;let I=this.head,Z=0;do{const j=I.data;if(!(O>j.length)){O===j.length?(k(F,j,L-O),++Z,this.head=I.next?I.next:this.tail=null):(k(F,new H(j.buffer,j.byteOffset,O),L-O),this.head=I,I.data=j.slice(O));break}k(F,j,L-O),O-=j.length,++Z}while(null!==(I=I.next));return this.length-=Z,F}[Symbol.for("nodejs.util.inspect.custom")](O,F){return R(this,{...F,depth:0,customInspect:!1})}}},90972:(Fe,z,_)=>{"use strict";var p=_(29293).default;const{pipeline:E}=_(63596),k=_(85892),{destroyer:H}=_(23370),{isNodeStream:x,isReadable:R,isWritable:A,isWebStream:O,isTransformStream:F,isWritableStream:L,isReadableStream:I}=_(76989),{AbortError:Z,codes:{ERR_INVALID_ARG_VALUE:j,ERR_MISSING_ARGS:G}}=_(85833),re=_(68208);Fe.exports=function(...J){if(0===J.length)throw new G("streams");if(1===J.length)return k.from(J[0]);const Y=[...J];if("function"==typeof J[0]&&(J[0]=k.from(J[0])),"function"==typeof J[J.length-1]){const u=J.length-1;J[u]=k.from(J[u])}for(let u=0;u<J.length;++u)if(x(J[u])||O(J[u])){if(u<J.length-1&&!(R(J[u])||I(J[u])||F(J[u])))throw new j(`streams[${u}]`,Y[u],"must be readable");if(u>0&&!(A(J[u])||L(J[u])||F(J[u])))throw new j(`streams[${u}]`,Y[u],"must be writable")}let oe,ae,se,de,le;const xe=J[0],Ce=E(J,function we(u){const y=de;de=null,y?y(u):u?le.destroy(u):!a&&!C&&le.destroy()}),C=!!(A(xe)||L(xe)||F(xe)),a=!!(R(Ce)||I(Ce)||F(Ce));if(le=new k({writableObjectMode:!(null==xe||!xe.writableObjectMode),readableObjectMode:!(null==Ce||!Ce.writableObjectMode),writable:C,readable:a}),C){if(x(xe))le._write=function(y,g,S){xe.write(y,g)?S():oe=S},le._final=function(y){xe.end(),ae=y},xe.on("drain",function(){if(oe){const y=oe;oe=null,y()}});else if(O(xe)){const g=(F(xe)?xe.writable:xe).getWriter();le._write=function(){var S=p(function*(T,N,M){try{yield g.ready,g.write(T).catch(()=>{}),M()}catch(s){M(s)}});return function(T,N,M){return S.apply(this,arguments)}}(),le._final=function(){var S=p(function*(T){try{yield g.ready,g.close().catch(()=>{}),ae=T}catch(N){T(N)}});return function(T){return S.apply(this,arguments)}}()}const u=F(Ce)?Ce.readable:Ce;re(u,()=>{if(ae){const y=ae;ae=null,y()}})}if(a)if(x(Ce))Ce.on("readable",function(){if(se){const u=se;se=null,u()}}),Ce.on("end",function(){le.push(null)}),le._read=function(){for(;;){const u=Ce.read();if(null===u)return void(se=le._read);if(!le.push(u))return}};else if(O(Ce)){const y=(F(Ce)?Ce.readable:Ce).getReader();le._read=p(function*(){for(;;)try{const{value:g,done:S}=yield y.read();if(!le.push(g))return;if(S)return void le.push(null)}catch{return}})}return le._destroy=function(u,y){!u&&null!==de&&(u=new Z),se=null,oe=null,ae=null,null===de?y(u):(de=y,x(Ce)&&H(Ce,u))},le}},23370:(Fe,z,_)=>{"use strict";const p=_(40573),{aggregateTwoErrors:E,codes:{ERR_MULTIPLE_CALLBACK:k},AbortError:H}=_(85833),{Symbol:x}=_(2220),{kDestroyed:R,isDestroyed:A,isFinished:O,isServerRequest:F}=_(76989),L=x("kDestroy"),I=x("kConstruct");function Z(C,a,u){C&&(a&&!a.errored&&(a.errored=C),u&&!u.errored&&(u.errored=C))}function G(C,a,u){let y=!1;function g(S){if(y)return;y=!0;const T=C._readableState,N=C._writableState;Z(S,N,T),N&&(N.closed=!0),T&&(T.closed=!0),"function"==typeof u&&u(S),S?p.nextTick(re,C,S):p.nextTick(te,C)}try{C._destroy(a||null,g)}catch(S){g(S)}}function re(C,a){J(C,a),te(C)}function te(C){const a=C._readableState,u=C._writableState;u&&(u.closeEmitted=!0),a&&(a.closeEmitted=!0),(null!=u&&u.emitClose||null!=a&&a.emitClose)&&C.emit("close")}function J(C,a){const u=C._readableState,y=C._writableState;null!=y&&y.errorEmitted||null!=u&&u.errorEmitted||(y&&(y.errorEmitted=!0),u&&(u.errorEmitted=!0),C.emit("error",a))}function oe(C,a,u){const y=C._readableState,g=C._writableState;if(null!=g&&g.destroyed||null!=y&&y.destroyed)return this;null!=y&&y.autoDestroy||null!=g&&g.autoDestroy?C.destroy(a):a&&(g&&!g.errored&&(g.errored=a),y&&!y.errored&&(y.errored=a),u?p.nextTick(J,C,a):J(C,a))}function se(C){let a=!1;function u(y){if(a)return void oe(C,y??new k);a=!0;const g=C._readableState,S=C._writableState,T=S||g;g&&(g.constructed=!0),S&&(S.constructed=!0),T.destroyed?C.emit(L,y):y?oe(C,y,!0):p.nextTick(de,C)}try{C._construct(y=>{p.nextTick(u,y)})}catch(y){p.nextTick(u,y)}}function de(C){C.emit(I)}function le(C){return C?.setHeader&&"function"==typeof C.abort}function we(C){C.emit("close")}function xe(C,a){C.emit("error",a),p.nextTick(we,C)}Fe.exports={construct:function ae(C,a){if("function"!=typeof C._construct)return;const u=C._readableState,y=C._writableState;u&&(u.constructed=!1),y&&(y.constructed=!1),C.once(I,a),!(C.listenerCount(I)>1)&&p.nextTick(se,C)},destroyer:function Ce(C,a){!C||A(C)||(!a&&!O(C)&&(a=new H),F(C)?(C.socket=null,C.destroy(a)):le(C)?C.abort():le(C.req)?C.req.abort():"function"==typeof C.destroy?C.destroy(a):"function"==typeof C.close?C.close():a?p.nextTick(xe,C,a):p.nextTick(we,C),C.destroyed||(C[R]=!0))},destroy:function j(C,a){const u=this._readableState,y=this._writableState,g=y||u;return null!=y&&y.destroyed||null!=u&&u.destroyed?("function"==typeof a&&a(),this):(Z(C,y,u),y&&(y.destroyed=!0),u&&(u.destroyed=!0),g.constructed?G(this,C,a):this.once(L,function(S){G(this,E(S,C),a)}),this)},undestroy:function Y(){const C=this._readableState,a=this._writableState;C&&(C.constructed=!0,C.closed=!1,C.closeEmitted=!1,C.destroyed=!1,C.errored=null,C.errorEmitted=!1,C.reading=!1,C.ended=!1===C.readable,C.endEmitted=!1===C.readable),a&&(a.constructed=!0,a.destroyed=!1,a.closed=!1,a.closeEmitted=!1,a.errored=null,a.errorEmitted=!1,a.finalCalled=!1,a.prefinished=!1,a.ended=!1===a.writable,a.ending=!1===a.writable,a.finished=!1===a.writable)},errorOrDestroy:oe}},85892:(Fe,z,_)=>{"use strict";const{ObjectDefineProperties:p,ObjectGetOwnPropertyDescriptor:E,ObjectKeys:k,ObjectSetPrototypeOf:H}=_(2220);Fe.exports=A;const x=_(84730),R=_(39070);H(A.prototype,x.prototype),H(A,x);{const I=k(R.prototype);for(let Z=0;Z<I.length;Z++){const j=I[Z];A.prototype[j]||(A.prototype[j]=R.prototype[j])}}function A(I){if(!(this instanceof A))return new A(I);x.call(this,I),R.call(this,I),I?(this.allowHalfOpen=!1!==I.allowHalfOpen,!1===I.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===I.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let O,L;function F(){return void 0===O&&(O={}),O}p(A.prototype,{writable:{__proto__:null,...E(R.prototype,"writable")},writableHighWaterMark:{__proto__:null,...E(R.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...E(R.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...E(R.prototype,"writableBuffer")},writableLength:{__proto__:null,...E(R.prototype,"writableLength")},writableFinished:{__proto__:null,...E(R.prototype,"writableFinished")},writableCorked:{__proto__:null,...E(R.prototype,"writableCorked")},writableEnded:{__proto__:null,...E(R.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...E(R.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(I){this._readableState&&this._writableState&&(this._readableState.destroyed=I,this._writableState.destroyed=I)}}}),A.fromWeb=function(I,Z){return F().newStreamDuplexFromReadableWritablePair(I,Z)},A.toWeb=function(I){return F().newReadableWritablePairFromDuplex(I)},A.from=function(I){return L||(L=_(99460)),L(I,"body")}},99460:(Fe,z,_)=>{var p=_(29293).default,E=_(53344).default,k=_(42958).default;const H=_(40573),x=_(37945),{isReadable:R,isWritable:A,isIterable:O,isNodeStream:F,isReadableNodeStream:L,isWritableNodeStream:I,isDuplexNodeStream:Z}=_(76989),j=_(68208),{AbortError:G,codes:{ERR_INVALID_ARG_TYPE:re,ERR_INVALID_RETURN_VALUE:te}}=_(85833),{destroyer:J}=_(23370),Y=_(85892),oe=_(84730),{createDeferredPromise:ae}=_(82578),se=_(94506),de=globalThis.Blob||x.Blob,le=typeof de<"u"?function(y){return y instanceof de}:function(y){return!1},we=globalThis.AbortController||_(9465).AbortController,{FunctionPrototypeCall:xe}=_(2220);class Ce extends Y{constructor(y){super(y),!1===y?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===y?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function a(u){const y=u.readable&&"function"!=typeof u.readable.read?oe.wrap(u.readable):u.readable,g=u.writable;let N,M,s,v,W,S=!!R(y),T=!!A(g);function K(ee){const ce=v;v=null,ce?ce(ee):ee&&W.destroy(ee)}return W=new Ce({readableObjectMode:!(null==y||!y.readableObjectMode),writableObjectMode:!(null==g||!g.writableObjectMode),readable:S,writable:T}),T&&(j(g,ee=>{T=!1,ee&&J(y,ee),K(ee)}),W._write=function(ee,ce,_e){g.write(ee,ce)?_e():N=_e},W._final=function(ee){g.end(),M=ee},g.on("drain",function(){if(N){const ee=N;N=null,ee()}}),g.on("finish",function(){if(M){const ee=M;M=null,ee()}})),S&&(j(y,ee=>{S=!1,ee&&J(y,ee),K(ee)}),y.on("readable",function(){if(s){const ee=s;s=null,ee()}}),y.on("end",function(){W.push(null)}),W._read=function(){for(;;){const ee=y.read();if(null===ee)return void(s=W._read);if(!W.push(ee))return}}),W._destroy=function(ee,ce){!ee&&null!==v&&(ee=new G),s=null,N=null,M=null,null===v?ce(ee):(v=ce,J(g,ee),J(y,ee))},W}Fe.exports=function u(y,g){if(Z(y))return y;if(L(y))return a({readable:y});if(I(y))return a({writable:y});if(F(y))return a({writable:!1,readable:!1});if("function"==typeof y){const{value:T,write:N,final:M,destroy:s}=function C(u){let{promise:y,resolve:g}=ae();const S=new we,T=S.signal;return{value:u(k(function*(){for(;;){const M=y;y=null;const{chunk:s,done:v,cb:W}=yield E(M);if(H.nextTick(W),v)return;if(T.aborted)throw new G(void 0,{cause:T.reason});({promise:y,resolve:g}=ae()),yield s}})(),{signal:T}),write(M,s,v){const W=g;g=null,W({chunk:M,done:!1,cb:v})},final(M){const s=g;g=null,s({done:!0,cb:M})},destroy(M,s){S.abort(),s(M)}}}(y);if(O(T))return se(Ce,T,{objectMode:!0,write:N,final:M,destroy:s});const v=T?.then;if("function"==typeof v){let W;const K=xe(v,T,ee=>{if(null!=ee)throw new te("nully","body",ee)},ee=>{J(W,ee)});return W=new Ce({objectMode:!0,readable:!1,write:N,final(ee){M(p(function*(){try{yield K,H.nextTick(ee,null)}catch(ce){H.nextTick(ee,ce)}}))},destroy:s})}throw new te("Iterable, AsyncIterable or AsyncFunction",g,T)}if(le(y))return u(y.arrayBuffer());if(O(y))return se(Ce,y,{objectMode:!0,writable:!1});if("object"==typeof y?.writable||"object"==typeof y?.readable)return a({readable:null!=y&&y.readable?L(y?.readable)?y?.readable:u(y.readable):void 0,writable:null!=y&&y.writable?I(y?.writable)?y?.writable:u(y.writable):void 0});const S=y?.then;if("function"==typeof S){let T;return xe(S,y,N=>{null!=N&&T.push(N),T.push(null)},N=>{J(T,N)}),T=new Ce({objectMode:!0,writable:!1,read(){}})}throw new re(g,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],y)}},68208:(Fe,z,_)=>{const p=_(40573),{AbortError:E,codes:k}=_(85833),{ERR_INVALID_ARG_TYPE:H,ERR_STREAM_PREMATURE_CLOSE:x}=k,{kEmptyObject:R,once:A}=_(82578),{validateAbortSignal:O,validateFunction:F,validateObject:L,validateBoolean:I}=_(48119),{Promise:Z,PromisePrototypeThen:j}=_(2220),{isClosed:G,isReadable:re,isReadableNodeStream:te,isReadableStream:J,isReadableFinished:Y,isReadableErrored:oe,isWritable:ae,isWritableNodeStream:se,isWritableStream:de,isWritableFinished:le,isWritableErrored:we,isNodeStream:xe,willEmitClose:Ce,kIsClosedPromise:C}=_(76989),u=()=>{};function y(T,N,M){var s,v;if(2===arguments.length?(M=N,N=R):null==N?N=R:L(N,"options"),F(M,"callback"),O(N.signal,"options.signal"),M=A(M),J(T)||de(T))return function g(T,N,M){let s=!1,v=u;if(N.signal)if(v=()=>{s=!0,M.call(T,new E(void 0,{cause:N.signal.reason}))},N.signal.aborted)p.nextTick(v);else{const K=M;M=A((...ee)=>{N.signal.removeEventListener("abort",v),K.apply(T,ee)}),N.signal.addEventListener("abort",v)}const W=(...K)=>{s||p.nextTick(()=>M.apply(T,K))};return j(T[C].promise,W,W),u}(T,N,M);if(!xe(T))throw new H("stream",["ReadableStream","WritableStream","Stream"],T);const W=null!==(s=N.readable)&&void 0!==s?s:te(T),K=null!==(v=N.writable)&&void 0!==v?v:se(T),ee=T._writableState,ce=T._readableState,_e=()=>{T.writable||Se()};let Pe=Ce(T)&&te(T)===W&&se(T)===K,$e=le(T,!1);const Se=()=>{$e=!0,T.destroyed&&(Pe=!1),(!Pe||T.readable&&!W)&&(!W||be)&&M.call(T)};let be=Y(T,!1);const Ne=()=>{be=!0,T.destroyed&&(Pe=!1),(!Pe||T.writable&&!K)&&(!K||$e)&&M.call(T)},ye=ue=>{M.call(T,ue)};let Te=G(T);const pe=()=>{Te=!0;const ue=we(T)||oe(T);return ue&&"boolean"!=typeof ue?M.call(T,ue):W&&!be&&te(T,!0)&&!Y(T,!1)?M.call(T,new x):!K||$e||le(T,!1)?void M.call(T):M.call(T,new x)},fe=()=>{Te=!0;const ue=we(T)||oe(T);if(ue&&"boolean"!=typeof ue)return M.call(T,ue);M.call(T)},Q=()=>{T.req.on("finish",Se)};!function a(T){return T.setHeader&&"function"==typeof T.abort}(T)?K&&!ee&&(T.on("end",_e),T.on("close",_e)):(T.on("complete",Se),Pe||T.on("abort",pe),T.req?Q():T.on("request",Q)),!Pe&&"boolean"==typeof T.aborted&&T.on("aborted",pe),T.on("end",Ne),T.on("finish",Se),!1!==N.error&&T.on("error",ye),T.on("close",pe),Te?p.nextTick(pe):null!=ee&&ee.errorEmitted||null!=ce&&ce.errorEmitted?Pe||p.nextTick(fe):(!W&&(!Pe||re(T))&&($e||!1===ae(T))||!K&&(!Pe||ae(T))&&(be||!1===re(T))||ce&&T.req&&T.aborted)&&p.nextTick(fe);const ie=()=>{M=u,T.removeListener("aborted",pe),T.removeListener("complete",Se),T.removeListener("abort",pe),T.removeListener("request",Q),T.req&&T.req.removeListener("finish",Se),T.removeListener("end",_e),T.removeListener("close",_e),T.removeListener("finish",Se),T.removeListener("end",Ne),T.removeListener("error",ye),T.removeListener("close",pe)};if(N.signal&&!Te){const ue=()=>{const Ee=M;ie(),Ee.call(T,new E(void 0,{cause:N.signal.reason}))};if(N.signal.aborted)p.nextTick(ue);else{const Ee=M;M=A((...ke)=>{N.signal.removeEventListener("abort",ue),Ee.apply(T,ke)}),N.signal.addEventListener("abort",ue)}}return ie}Fe.exports=y,Fe.exports.finished=function S(T,N){var M;let s=!1;return null===N&&(N=R),null!==(M=N)&&void 0!==M&&M.cleanup&&(I(N.cleanup,"cleanup"),s=N.cleanup),new Z((v,W)=>{const K=y(T,N,ee=>{s&&K(),ee?W(ee):v()})})}},94506:(Fe,z,_)=>{"use strict";var p=_(29293).default;const E=_(40573),{PromisePrototypeThen:k,SymbolAsyncIterator:H,SymbolIterator:x}=_(2220),{Buffer:R}=_(37945),{ERR_INVALID_ARG_TYPE:A,ERR_STREAM_NULL_VALUES:O}=_(85833).codes;Fe.exports=function F(L,I,Z){let j,G;if("string"==typeof I||I instanceof R)return new L({objectMode:!0,...Z,read(){this.push(I),this.push(null)}});if(I&&I[H])G=!0,j=I[H]();else{if(!I||!I[x])throw new A("iterable",["Iterable"],I);G=!1,j=I[x]()}const re=new L({objectMode:!0,highWaterMark:1,...Z});let te=!1;function Y(){return(Y=p(function*(se){if(null!=se&&"function"==typeof j.throw){const{value:we,done:xe}=yield j.throw(se);if(yield we,xe)return}if("function"==typeof j.return){const{value:we}=yield j.return();yield we}})).apply(this,arguments)}function ae(){return(ae=p(function*(){for(;;){try{const{value:se,done:de}=G?yield j.next():j.next();if(de)re.push(null);else{const le=se&&"function"==typeof se.then?yield se:se;if(null===le)throw te=!1,new O;if(re.push(le))continue;te=!1}}catch(se){re.destroy(se)}break}})).apply(this,arguments)}return re._read=function(){te||(te=!0,function oe(){ae.apply(this,arguments)}())},re._destroy=function(se,de){k(function J(se){return Y.apply(this,arguments)}(se),()=>E.nextTick(de,se),le=>E.nextTick(de,le||se))},re}},90845:(Fe,z,_)=>{"use strict";const{ArrayIsArray:p,ObjectSetPrototypeOf:E}=_(2220),{EventEmitter:k}=_(44356);function H(R){k.call(this,R)}function x(R,A,O){if("function"==typeof R.prependListener)return R.prependListener(A,O);R._events&&R._events[A]?p(R._events[A])?R._events[A].unshift(O):R._events[A]=[O,R._events[A]]:R.on(A,O)}E(H.prototype,k.prototype),E(H,k),H.prototype.pipe=function(R,A){const O=this;function F(te){R.writable&&!1===R.write(te)&&O.pause&&O.pause()}function L(){O.readable&&O.resume&&O.resume()}O.on("data",F),R.on("drain",L),!R._isStdio&&(!A||!1!==A.end)&&(O.on("end",Z),O.on("close",j));let I=!1;function Z(){I||(I=!0,R.end())}function j(){I||(I=!0,"function"==typeof R.destroy&&R.destroy())}function G(te){re(),0===k.listenerCount(this,"error")&&this.emit("error",te)}function re(){O.removeListener("data",F),R.removeListener("drain",L),O.removeListener("end",Z),O.removeListener("close",j),O.removeListener("error",G),R.removeListener("error",G),O.removeListener("end",re),O.removeListener("close",re),R.removeListener("close",re)}return x(O,"error",G),x(R,"error",G),O.on("end",re),O.on("close",re),R.on("close",re),R.emit("pipe",O),R},Fe.exports={Stream:H,prependListener:x}},54705:(Fe,z,_)=>{"use strict";var p=_(29293).default,E=_(93513).default,k=_(82881).default,H=_(53344).default,x=_(42958).default;const R=globalThis.AbortController||_(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:A,ERR_INVALID_ARG_TYPE:O,ERR_MISSING_ARGS:F,ERR_OUT_OF_RANGE:L},AbortError:I}=_(85833),{validateAbortSignal:Z,validateInteger:j,validateObject:G}=_(48119),re=_(2220).Symbol("kWeak"),{finished:te}=_(68208),J=_(90972),{addAbortSignalNoValidate:Y}=_(55397),{isWritable:oe,isNodeStream:ae}=_(76989),{ArrayPrototypePush:se,MathFloor:de,Number:le,NumberIsNaN:we,Promise:xe,PromiseReject:Ce,PromisePrototypeThen:C,Symbol:a}=_(2220),u=a("kEmpty"),y=a("kEof");function S(Q,ie){if("function"!=typeof Q)throw new O("fn",["Function","AsyncFunction"],Q);null!=ie&&G(ie,"options"),null!=ie?.signal&&Z(ie.signal,"options.signal");let ue=1;return null!=ie?.concurrency&&(ue=de(ie.concurrency)),j(ue,"concurrency",1),function(){var Ee=x(function*(){var Ue,Le;const _t=new R,Ve=this,Be=[],lt=_t.signal,B={signal:lt},w=()=>_t.abort();null!=ie&&null!==(Ue=ie.signal)&&void 0!==Ue&&Ue.aborted&&w(),null==ie||null===(Le=ie.signal)||void 0===Le||Le.addEventListener("abort",w);let m,U,ne=!1;function ge(){ne=!0}function Qe(){return(Qe=p(function*(){try{var It,Bt=!1,gt=!1;try{for(var un,Gt=k(Ve);Bt=!(un=yield Gt.next()).done;Bt=!1){let Mn=un.value;var an;if(ne)return;if(lt.aborted)throw new I;try{Mn=Q(Mn,B)}catch(Qt){Mn=Ce(Qt)}Mn!==u&&("function"==typeof(null===(an=Mn)||void 0===an?void 0:an.catch)&&Mn.catch(ge),Be.push(Mn),m&&(m(),m=null),!ne&&Be.length&&Be.length>=ue&&(yield new xe(Qt=>{U=Qt})))}}catch(Mn){gt=!0,It=Mn}finally{try{Bt&&null!=Gt.return&&(yield Gt.return())}finally{if(gt)throw It}}Be.push(y)}catch(Mn){const Qt=Ce(Mn);C(Qt,void 0,ge),Be.push(Qt)}finally{var sr;ne=!0,m&&(m(),m=null),null==ie||null===(sr=ie.signal)||void 0===sr||sr.removeEventListener("abort",w)}})).apply(this,arguments)}!function Ae(){Qe.apply(this,arguments)}();try{for(;;){for(;Be.length>0;){const Bt=yield H(Be[0]);if(Bt===y)return;if(lt.aborted)throw new I;Bt!==u&&(yield Bt),Be.shift(),U&&(U(),U=null)}yield H(new xe(Bt=>{m=Bt}))}}finally{_t.abort(),ne=!0,U&&(U(),U=null)}});return function ke(){return Ee.apply(this,arguments)}}().call(this)}function N(Q){return M.apply(this,arguments)}function M(){return(M=p(function*(Q,ie=void 0){var ke,ue=!1,Ee=!1;try{for(var Ue=k(_e.call(this,Q,ie));ue=!(yield Ue.next()).done;ue=!1)return!0}catch(_t){Ee=!0,ke=_t}finally{try{ue&&null!=Ue.return&&(yield Ue.return())}finally{if(Ee)throw ke}}return!1})).apply(this,arguments)}function v(){return(v=p(function*(Q,ie=void 0){if("function"!=typeof Q)throw new O("fn",["Function","AsyncFunction"],Q);return!(yield N.call(this,p(function*(...ue){return!(yield Q(...ue))}),ie))})).apply(this,arguments)}function K(){return(K=p(function*(Q,ie){var ke,ue=!1,Ee=!1;try{for(var Le,Ue=k(_e.call(this,Q,ie));ue=!(Le=yield Ue.next()).done;ue=!1)return Le.value}catch(_t){Ee=!0,ke=_t}finally{try{ue&&null!=Ue.return&&(yield Ue.return())}finally{if(Ee)throw ke}}})).apply(this,arguments)}function ce(){return ce=p(function*(Q,ie){if("function"!=typeof Q)throw new O("fn",["Function","AsyncFunction"],Q);function Ee(){return(Ee=p(function*(Be,lt){return yield Q(Be,lt),u})).apply(this,arguments)}var Le,ke=!1,Ue=!1;try{for(var _t=k(S.call(this,function ue(Be,lt){return Ee.apply(this,arguments)},ie));ke=!(yield _t.next()).done;ke=!1);}catch(Be){Ue=!0,Le=Be}finally{try{ke&&null!=_t.return&&(yield _t.return())}finally{if(Ue)throw Le}}}),ce.apply(this,arguments)}function _e(Q,ie){if("function"!=typeof Q)throw new O("fn",["Function","AsyncFunction"],Q);function Ee(){return(Ee=p(function*(ke,Ue){return(yield Q(ke,Ue))?ke:u})).apply(this,arguments)}return S.call(this,function ue(ke,Ue){return Ee.apply(this,arguments)},ie)}class Pe extends F{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function Se(){return Se=p(function*(Q,ie,ue){var Ee;if("function"!=typeof Q)throw new O("reducer",["Function","AsyncFunction"],Q);null!=ue&&G(ue,"options"),null!=ue?.signal&&Z(ue.signal,"options.signal");let ke=arguments.length>1;if(null!=ue&&null!==(Ee=ue.signal)&&void 0!==Ee&&Ee.aborted){const U=new I(void 0,{cause:ue.signal.reason});throw this.once("error",()=>{}),yield te(this.destroy(U)),U}const Ue=new R,Le=Ue.signal;null!=ue&&ue.signal&&ue.signal.addEventListener("abort",()=>Ue.abort(),{once:!0,[re]:this});let _t=!1;try{var lt,Ve=!1,Be=!1;try{for(var w,B=k(this);Ve=!(w=yield B.next()).done;Ve=!1){const U=w.value;var m;if(_t=!0,null!=ue&&null!==(m=ue.signal)&&void 0!==m&&m.aborted)throw new I;ke?ie=yield Q(ie,U,{signal:Le}):(ie=U,ke=!0)}}catch(U){Be=!0,lt=U}finally{try{Ve&&null!=B.return&&(yield B.return())}finally{if(Be)throw lt}}if(!_t&&!ke)throw new Pe}finally{Ue.abort()}return ie}),Se.apply(this,arguments)}function Ne(){return(Ne=p(function*(Q){null!=Q&&G(Q,"options"),null!=Q?.signal&&Z(Q.signal,"options.signal");const ie=[];var ke,ue=!1,Ee=!1;try{for(var Le,Ue=k(this);ue=!(Le=yield Ue.next()).done;ue=!1){const Ve=Le.value;var _t;if(null!=Q&&null!==(_t=Q.signal)&&void 0!==_t&&_t.aborted)throw new I(void 0,{cause:Q.signal.reason});se(ie,Ve)}}catch(Ve){Ee=!0,ke=Ve}finally{try{ue&&null!=Ue.return&&(yield Ue.return())}finally{if(Ee)throw ke}}return ie})).apply(this,arguments)}function Te(Q){if(Q=le(Q),we(Q))return 0;if(Q<0)throw new L("number",">= 0",Q);return Q}Fe.exports.streamReturningOperators={asIndexedPairs:function T(Q=void 0){return null!=Q&&G(Q,"options"),null!=Q?.signal&&Z(Q.signal,"options.signal"),function(){var ie=x(function*(){let Ee=0;var Le,ke=!1,Ue=!1;try{for(var Ve,_t=k(this);ke=!(Ve=yield H(_t.next())).done;ke=!1){const lt=Ve.value;var Be;if(null!=Q&&null!==(Be=Q.signal)&&void 0!==Be&&Be.aborted)throw new I({cause:Q.signal.reason});yield[Ee++,lt]}}catch(lt){Ue=!0,Le=lt}finally{try{ke&&null!=_t.return&&(yield H(_t.return()))}finally{if(Ue)throw Le}}});return function ue(){return ie.apply(this,arguments)}}().call(this)},drop:function pe(Q,ie=void 0){return null!=ie&&G(ie,"options"),null!=ie?.signal&&Z(ie.signal,"options.signal"),Q=Te(Q),function(){var ue=x(function*(){var ke;if(null!=ie&&null!==(ke=ie.signal)&&void 0!==ke&&ke.aborted)throw new I;var _t,Ue=!1,Le=!1;try{for(var Be,Ve=k(this);Ue=!(Be=yield H(Ve.next())).done;Ue=!1){const B=Be.value;var lt;if(null!=ie&&null!==(lt=ie.signal)&&void 0!==lt&&lt.aborted)throw new I;Q--<=0&&(yield B)}}catch(B){Le=!0,_t=B}finally{try{Ue&&null!=Ve.return&&(yield H(Ve.return()))}finally{if(Le)throw _t}}});return function Ee(){return ue.apply(this,arguments)}}().call(this)},filter:_e,flatMap:function ye(Q,ie){const ue=S.call(this,Q,ie);return function(){var Ee=x(function*(){var _t,Ue=!1,Le=!1;try{for(var Be,Ve=k(ue);Ue=!(Be=yield H(Ve.next())).done;Ue=!1){const lt=Be.value;yield*E(k(lt),H)}}catch(lt){Le=!0,_t=lt}finally{try{Ue&&null!=Ve.return&&(yield H(Ve.return()))}finally{if(Le)throw _t}}});return function ke(){return Ee.apply(this,arguments)}}().call(this)},map:S,take:function fe(Q,ie=void 0){return null!=ie&&G(ie,"options"),null!=ie?.signal&&Z(ie.signal,"options.signal"),Q=Te(Q),function(){var ue=x(function*(){var ke;if(null!=ie&&null!==(ke=ie.signal)&&void 0!==ke&&ke.aborted)throw new I;var _t,Ue=!1,Le=!1;try{for(var Be,Ve=k(this);Ue=!(Be=yield H(Ve.next())).done;Ue=!1){const B=Be.value;var lt;if(null!=ie&&null!==(lt=ie.signal)&&void 0!==lt&&lt.aborted)throw new I;if(!(Q-- >0))return;yield B}}catch(B){Le=!0,_t=B}finally{try{Ue&&null!=Ve.return&&(yield H(Ve.return()))}finally{if(Le)throw _t}}});return function Ee(){return ue.apply(this,arguments)}}().call(this)},compose:function g(Q,ie){if(null!=ie&&G(ie,"options"),null!=ie?.signal&&Z(ie.signal,"options.signal"),ae(Q)&&!oe(Q))throw new A("stream",Q,"must be writable");const ue=J(this,Q);return null!=ie&&ie.signal&&Y(ie.signal,ue),ue}},Fe.exports.promiseReturningOperators={every:function s(Q){return v.apply(this,arguments)},forEach:function ee(Q,ie){return ce.apply(this,arguments)},reduce:function $e(Q,ie,ue){return Se.apply(this,arguments)},toArray:function be(Q){return Ne.apply(this,arguments)},some:N,find:function W(Q,ie){return K.apply(this,arguments)}}},5358:(Fe,z,_)=>{"use strict";const{ObjectSetPrototypeOf:p}=_(2220);Fe.exports=k;const E=_(33732);function k(H){if(!(this instanceof k))return new k(H);E.call(this,H)}p(k.prototype,E.prototype),p(k,E),k.prototype._transform=function(H,x,R){R(null,H)}},63596:(Fe,z,_)=>{var p=_(29293).default,E=_(42958).default,k=_(53344).default,H=_(93513).default,x=_(82881).default;const R=_(40573),{ArrayIsArray:A,Promise:O,SymbolAsyncIterator:F}=_(2220),L=_(68208),{once:I}=_(82578),Z=_(23370),j=_(85892),{aggregateTwoErrors:G,codes:{ERR_INVALID_ARG_TYPE:re,ERR_INVALID_RETURN_VALUE:te,ERR_MISSING_ARGS:J,ERR_STREAM_DESTROYED:Y,ERR_STREAM_PREMATURE_CLOSE:oe},AbortError:ae}=_(85833),{validateFunction:se,validateAbortSignal:de}=_(48119),{isIterable:le,isReadable:we,isReadableNodeStream:xe,isNodeStream:Ce,isTransformStream:C,isWebStream:a,isReadableStream:u,isReadableEnded:y}=_(76989),g=globalThis.AbortController||_(9465).AbortController;let S,T;function N(be,Ne,ye){let Te=!1;return be.on("close",()=>{Te=!0}),{destroy:fe=>{Te||(Te=!0,Z.destroyer(be,fe||new Y("pipe")))},cleanup:L(be,{readable:Ne,writable:ye},fe=>{Te=!fe})}}function s(be){if(le(be))return be;if(xe(be))return function v(be){return W.apply(this,arguments)}(be);throw new re("val",["Readable","Iterable","AsyncIterable"],be)}function W(){return(W=E(function*(be){T||(T=_(84730)),yield*H(x(T.prototype[F].call(be)),k)})).apply(this,arguments)}function K(be,Ne,ye,Te){return ee.apply(this,arguments)}function ee(){return(ee=p(function*(be,Ne,ye,{end:Te}){let pe,fe=null;const Q=Ve=>{if(Ve&&(pe=Ve),fe){const Be=fe;fe=null,Be()}},ie=()=>new O((Ve,Be)=>{pe?Be(pe):fe=()=>{pe?Be(pe):Ve()}});Ne.on("drain",Q);const ue=L(Ne,{readable:!1},Q);try{Ne.writableNeedDrain&&(yield ie());var Ue,Ee=!1,ke=!1;try{for(var _t,Le=x(be);Ee=!(_t=yield Le.next()).done;Ee=!1)Ne.write(_t.value)||(yield ie())}catch(Ve){ke=!0,Ue=Ve}finally{try{Ee&&null!=Le.return&&(yield Le.return())}finally{if(ke)throw Ue}}Te&&Ne.end(),yield ie(),ye()}catch(Ve){ye(pe!==Ve?G(pe,Ve):Ve)}finally{ue(),Ne.off("drain",Q)}})).apply(this,arguments)}function ce(be,Ne,ye,Te){return _e.apply(this,arguments)}function _e(){return(_e=p(function*(be,Ne,ye,{end:Te}){C(Ne)&&(Ne=Ne.writable);const pe=Ne.getWriter();try{var ie,fe=!1,Q=!1;try{for(var Ee,ue=x(be);fe=!(Ee=yield ue.next()).done;fe=!1){const ke=Ee.value;yield pe.ready,pe.write(ke).catch(()=>{})}}catch(ke){Q=!0,ie=ke}finally{try{fe&&null!=ue.return&&(yield ue.return())}finally{if(Q)throw ie}}yield pe.ready,Te&&(yield pe.close()),ye()}catch(ke){try{yield pe.abort(ke),ye(ke)}catch(Ue){ye(Ue)}}})).apply(this,arguments)}function $e(be,Ne,ye){if(1===be.length&&A(be[0])&&(be=be[0]),be.length<2)throw new J("streams");const Te=new g,pe=Te.signal,fe=ye?.signal,Q=[];function ie(){_t(new ae)}let ue,Ee;de(fe,"options.signal"),fe?.addEventListener("abort",ie);const ke=[];let Ve,Ue=0;function Le(w){_t(w,0==--Ue)}function _t(w,m){if(w&&(!ue||"ERR_STREAM_PREMATURE_CLOSE"===ue.code)&&(ue=w),ue||m){for(;ke.length;)ke.shift()(ue);fe?.removeEventListener("abort",ie),Te.abort(),m&&(ue||Q.forEach(U=>U()),R.nextTick(Ne,ue,Ee))}}for(let w=0;w<be.length;w++){const m=be[w],U=w<be.length-1,ne=w>0,ge=U||!1!==ye?.end,Ae=w===be.length-1;if(Ce(m)){let Qe=function(Bt){Bt&&"AbortError"!==Bt.name&&"ERR_STREAM_PREMATURE_CLOSE"!==Bt.code&&Le(Bt)};if(ge){const{destroy:Bt,cleanup:gt}=N(m,U,ne);ke.push(Bt),we(m)&&Ae&&Q.push(gt)}m.on("error",Qe),we(m)&&Ae&&Q.push(()=>{m.removeListener("error",Qe)})}if(0===w)if("function"==typeof m){if(Ve=m({signal:pe}),!le(Ve))throw new te("Iterable, AsyncIterable or Stream","source",Ve)}else Ve=le(m)||xe(m)||C(m)?m:j.from(m);else if("function"==typeof m){var Be;if(Ve=C(Ve)?s(null===(Be=Ve)||void 0===Be?void 0:Be.readable):s(Ve),Ve=m(Ve,{signal:pe}),U){if(!le(Ve,!0))throw new te("AsyncIterable",`transform[${w-1}]`,Ve)}else{var lt;S||(S=_(5358));const Qe=new S({objectMode:!0}),Bt=null===(lt=Ve)||void 0===lt?void 0:lt.then;if("function"==typeof Bt)Ue++,Bt.call(Ve,Gt=>{Ee=Gt,null!=Gt&&Qe.write(Gt),ge&&Qe.end(),R.nextTick(Le)},Gt=>{Qe.destroy(Gt),R.nextTick(Le,Gt)});else if(le(Ve,!0))Ue++,K(Ve,Qe,Le,{end:ge});else{if(!u(Ve)&&!C(Ve))throw new te("AsyncIterable or Promise","destination",Ve);Ue++,K(Ve.readable||Ve,Qe,Le,{end:ge})}Ve=Qe;const{destroy:gt,cleanup:It}=N(Ve,!1,!0);ke.push(gt),Ae&&Q.push(It)}}else if(Ce(m)){if(xe(Ve)){Ue+=2;const Qe=Se(Ve,m,Le,{end:ge});we(m)&&Ae&&Q.push(Qe)}else if(C(Ve)||u(Ve))Ue++,K(Ve.readable||Ve,m,Le,{end:ge});else{if(!le(Ve))throw new re("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Ve);Ue++,K(Ve,m,Le,{end:ge})}Ve=m}else if(a(m)){if(xe(Ve))Ue++,ce(s(Ve),m,Le,{end:ge});else if(u(Ve)||le(Ve))Ue++,ce(Ve,m,Le,{end:ge});else{if(!C(Ve))throw new re("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Ve);Ue++,ce(Ve.readable,m,Le,{end:ge})}Ve=m}else Ve=j.from(m)}return(null!=pe&&pe.aborted||null!=fe&&fe.aborted)&&R.nextTick(ie),Ve}function Se(be,Ne,ye,{end:Te}){let pe=!1;if(Ne.on("close",()=>{pe||ye(new oe)}),be.pipe(Ne,{end:!1}),Te){let Q=function(){pe=!0,Ne.end()};y(be)?R.nextTick(Q):be.once("end",Q)}else ye();return L(be,{readable:!0,writable:!1},Q=>{const ie=be._readableState;Q&&"ERR_STREAM_PREMATURE_CLOSE"===Q.code&&ie&&ie.ended&&!ie.errored&&!ie.errorEmitted?be.once("end",ye).once("error",ye):ye(Q)}),L(Ne,{readable:!1,writable:!0},ye)}Fe.exports={pipelineImpl:$e,pipeline:function Pe(...be){return $e(be,I(function M(be){return se(be[be.length-1],"streams[stream.length - 1]"),be.pop()}(be)))}}},84730:(Fe,z,_)=>{var p=_(53344).default,E=_(42958).default;const k=_(40573),{ArrayPrototypeIndexOf:H,NumberIsInteger:x,NumberIsNaN:R,NumberParseInt:A,ObjectDefineProperties:O,ObjectKeys:F,ObjectSetPrototypeOf:L,Promise:I,SafeSet:Z,SymbolAsyncIterator:j,Symbol:G}=_(2220);Fe.exports=K,K.ReadableState=W;const{EventEmitter:re}=_(44356),{Stream:te,prependListener:J}=_(90845),{Buffer:Y}=_(37945),{addAbortSignal:oe}=_(55397),ae=_(68208);let se=_(82578).debuglog("stream",m=>{se=m});const de=_(54863),le=_(23370),{getHighWaterMark:we,getDefaultHighWaterMark:xe}=_(43909),{aggregateTwoErrors:Ce,codes:{ERR_INVALID_ARG_TYPE:C,ERR_METHOD_NOT_IMPLEMENTED:a,ERR_OUT_OF_RANGE:u,ERR_STREAM_PUSH_AFTER_EOF:y,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:g}}=_(85833),{validateObject:S}=_(48119),T=G("kPaused"),{StringDecoder:N}=_(78454),M=_(94506);L(K.prototype,te.prototype),L(K,te);const s=()=>{},{errorOrDestroy:v}=le;function W(m,U,ne){"boolean"!=typeof ne&&(ne=U instanceof _(85892)),this.objectMode=!(!m||!m.objectMode),ne&&(this.objectMode=this.objectMode||!(!m||!m.readableObjectMode)),this.highWaterMark=m?we(this,m,"readableHighWaterMark",ne):xe(!1),this.buffer=new de,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[T]=null,this.errorEmitted=!1,this.emitClose=!m||!1!==m.emitClose,this.autoDestroy=!m||!1!==m.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=m&&m.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,m&&m.encoding&&(this.decoder=new N(m.encoding),this.encoding=m.encoding)}function K(m){if(!(this instanceof K))return new K(m);const U=this instanceof _(85892);this._readableState=new W(m,this,U),m&&("function"==typeof m.read&&(this._read=m.read),"function"==typeof m.destroy&&(this._destroy=m.destroy),"function"==typeof m.construct&&(this._construct=m.construct),m.signal&&!U&&oe(m.signal,this)),te.call(this,m),le.construct(this,()=>{this._readableState.needReadable&&ye(this,this._readableState)})}function ee(m,U,ne,ge){se("readableAddChunk",U);const Ae=m._readableState;let Qe;if(Ae.objectMode||("string"==typeof U?Ae.encoding!==(ne=ne||Ae.defaultEncoding)&&(ge&&Ae.encoding?U=Y.from(U,ne).toString(Ae.encoding):(U=Y.from(U,ne),ne="")):U instanceof Y?ne="":te._isUint8Array(U)?(U=te._uint8ArrayToBuffer(U),ne=""):null!=U&&(Qe=new C("chunk",["string","Buffer","Uint8Array"],U))),Qe)v(m,Qe);else if(null===U)Ae.reading=!1,function Se(m,U){if(se("onEofChunk"),!U.ended){if(U.decoder){const ne=U.decoder.end();ne&&ne.length&&(U.buffer.push(ne),U.length+=U.objectMode?1:ne.length)}U.ended=!0,U.sync?be(m):(U.needReadable=!1,U.emittedReadable=!0,Ne(m))}}(m,Ae);else if(Ae.objectMode||U&&U.length>0)if(ge)if(Ae.endEmitted)v(m,new g);else{if(Ae.destroyed||Ae.errored)return!1;ce(m,Ae,U,!0)}else if(Ae.ended)v(m,new y);else{if(Ae.destroyed||Ae.errored)return!1;Ae.reading=!1,Ae.decoder&&!ne?(U=Ae.decoder.write(U),Ae.objectMode||0!==U.length?ce(m,Ae,U,!1):ye(m,Ae)):ce(m,Ae,U,!1)}else ge||(Ae.reading=!1,ye(m,Ae));return!Ae.ended&&(Ae.length<Ae.highWaterMark||0===Ae.length)}function ce(m,U,ne,ge){U.flowing&&0===U.length&&!U.sync&&m.listenerCount("data")>0?(U.multiAwaitDrain?U.awaitDrainWriters.clear():U.awaitDrainWriters=null,U.dataEmitted=!0,m.emit("data",ne)):(U.length+=U.objectMode?1:ne.length,ge?U.buffer.unshift(ne):U.buffer.push(ne),U.needReadable&&be(m)),ye(m,U)}function $e(m,U){return m<=0||0===U.length&&U.ended?0:U.objectMode?1:R(m)?U.flowing&&U.length?U.buffer.first().length:U.length:m<=U.length?m:U.ended?U.length:0}function be(m){const U=m._readableState;se("emitReadable",U.needReadable,U.emittedReadable),U.needReadable=!1,U.emittedReadable||(se("emitReadable",U.flowing),U.emittedReadable=!0,k.nextTick(Ne,m))}function Ne(m){const U=m._readableState;se("emitReadable_",U.destroyed,U.length,U.ended),!U.destroyed&&!U.errored&&(U.length||U.ended)&&(m.emit("readable"),U.emittedReadable=!1),U.needReadable=!U.flowing&&!U.ended&&U.length<=U.highWaterMark,Ee(m)}function ye(m,U){!U.readingMore&&U.constructed&&(U.readingMore=!0,k.nextTick(Te,m,U))}function Te(m,U){for(;!U.reading&&!U.ended&&(U.length<U.highWaterMark||U.flowing&&0===U.length);){const ne=U.length;if(se("maybeReadMore read 0"),m.read(0),ne===U.length)break}U.readingMore=!1}function fe(m){const U=m._readableState;U.readableListening=m.listenerCount("readable")>0,U.resumeScheduled&&!1===U[T]?U.flowing=!0:m.listenerCount("data")>0?m.resume():U.readableListening||(U.flowing=null)}function Q(m){se("readable nexttick read 0"),m.read(0)}function ue(m,U){se("resume",U.reading),U.reading||m.read(0),U.resumeScheduled=!1,m.emit("resume"),Ee(m),U.flowing&&!U.reading&&m.read(0)}function Ee(m){const U=m._readableState;for(se("flow",U.flowing);U.flowing&&null!==m.read(););}function ke(m,U){"function"!=typeof m.read&&(m=K.wrap(m,{objectMode:!0}));const ne=function Ue(m,U){return Le.apply(this,arguments)}(m,U);return ne.stream=m,ne}function Le(){return(Le=E(function*(m,U){let Ae,ne=s;function ge(Bt){this===m?(ne(),ne=s):ne=Bt}m.on("readable",ge);const Qe=ae(m,{writable:!1},Bt=>{Ae=Bt?Ce(Ae,Bt):null,ne(),ne=s});try{for(;;){const Bt=m.destroyed?null:m.read();if(null!==Bt)yield Bt;else{if(Ae)throw Ae;if(null===Ae)return;yield p(new I(ge))}}}catch(Bt){throw Ae=Ce(Ae,Bt),Ae}finally{!Ae&&!1===U?.destroyOnReturn||void 0!==Ae&&!m._readableState.autoDestroy?(m.off("readable",ge),Qe()):le.destroyer(m,null)}})).apply(this,arguments)}function _t(m,U){if(0===U.length)return null;let ne;return U.objectMode?ne=U.buffer.shift():!m||m>=U.length?(ne=U.decoder?U.buffer.join(""):1===U.buffer.length?U.buffer.first():U.buffer.concat(U.length),U.buffer.clear()):ne=U.buffer.consume(m,U.decoder),ne}function Ve(m){const U=m._readableState;se("endReadable",U.endEmitted),U.endEmitted||(U.ended=!0,k.nextTick(Be,U,m))}function Be(m,U){if(se("endReadableNT",m.endEmitted,m.length),!m.errored&&!m.closeEmitted&&!m.endEmitted&&0===m.length)if(m.endEmitted=!0,U.emit("end"),U.writable&&!1===U.allowHalfOpen)k.nextTick(lt,U);else if(m.autoDestroy){const ne=U._writableState;(!ne||ne.autoDestroy&&(ne.finished||!1===ne.writable))&&U.destroy()}}function lt(m){m.writable&&!m.writableEnded&&!m.destroyed&&m.end()}let B;function w(){return void 0===B&&(B={}),B}K.prototype.destroy=le.destroy,K.prototype._undestroy=le.undestroy,K.prototype._destroy=function(m,U){U(m)},K.prototype[re.captureRejectionSymbol]=function(m){this.destroy(m)},K.prototype.push=function(m,U){return ee(this,m,U,!1)},K.prototype.unshift=function(m,U){return ee(this,m,U,!0)},K.prototype.isPaused=function(){const m=this._readableState;return!0===m[T]||!1===m.flowing},K.prototype.setEncoding=function(m){const U=new N(m);this._readableState.decoder=U,this._readableState.encoding=this._readableState.decoder.encoding;const ne=this._readableState.buffer;let ge="";for(const Ae of ne)ge+=U.write(Ae);return ne.clear(),""!==ge&&ne.push(ge),this._readableState.length=ge.length,this},K.prototype.read=function(m){se("read",m),void 0===m?m=NaN:x(m)||(m=A(m,10));const U=this._readableState,ne=m;if(m>U.highWaterMark&&(U.highWaterMark=function Pe(m){if(m>1073741824)throw new u("size","<= 1GiB",m);return m--,m|=m>>>1,m|=m>>>2,m|=m>>>4,m|=m>>>8,m|=m>>>16,++m}(m)),0!==m&&(U.emittedReadable=!1),0===m&&U.needReadable&&((0!==U.highWaterMark?U.length>=U.highWaterMark:U.length>0)||U.ended))return se("read: emitReadable",U.length,U.ended),0===U.length&&U.ended?Ve(this):be(this),null;if(0===(m=$e(m,U))&&U.ended)return 0===U.length&&Ve(this),null;let Ae,ge=U.needReadable;if(se("need readable",ge),(0===U.length||U.length-m<U.highWaterMark)&&(ge=!0,se("length less than watermark",ge)),U.ended||U.reading||U.destroyed||U.errored||!U.constructed)ge=!1,se("reading, ended or constructing",ge);else if(ge){se("do read"),U.reading=!0,U.sync=!0,0===U.length&&(U.needReadable=!0);try{this._read(U.highWaterMark)}catch(Qe){v(this,Qe)}U.sync=!1,U.reading||(m=$e(ne,U))}return Ae=m>0?_t(m,U):null,null===Ae?(U.needReadable=U.length<=U.highWaterMark,m=0):(U.length-=m,U.multiAwaitDrain?U.awaitDrainWriters.clear():U.awaitDrainWriters=null),0===U.length&&(U.ended||(U.needReadable=!0),ne!==m&&U.ended&&Ve(this)),null!==Ae&&!U.errorEmitted&&!U.closeEmitted&&(U.dataEmitted=!0,this.emit("data",Ae)),Ae},K.prototype._read=function(m){throw new a("_read()")},K.prototype.pipe=function(m,U){const ne=this,ge=this._readableState;1===ge.pipes.length&&(ge.multiAwaitDrain||(ge.multiAwaitDrain=!0,ge.awaitDrainWriters=new Z(ge.awaitDrainWriters?[ge.awaitDrainWriters]:[]))),ge.pipes.push(m),se("pipe count=%d opts=%j",ge.pipes.length,U);const Qe=U&&!1===U.end||m===k.stdout||m===k.stderr?Et:gt;function gt(){se("onend"),m.end()}ge.endEmitted?k.nextTick(Qe):ne.once("end",Qe),m.on("unpipe",function Bt(ht,zt){se("onunpipe"),ht===ne&&zt&&!1===zt.hasUnpiped&&(zt.hasUnpiped=!0,function un(){se("cleanup"),m.removeListener("close",Qt),m.removeListener("finish",qt),It&&m.removeListener("drain",It),m.removeListener("error",Mn),m.removeListener("unpipe",Bt),ne.removeListener("end",gt),ne.removeListener("end",Et),ne.removeListener("data",sr),Gt=!0,It&&ge.awaitDrainWriters&&(!m._writableState||m._writableState.needDrain)&&It()}())});let It,Gt=!1;function an(){Gt||(1===ge.pipes.length&&ge.pipes[0]===m?(se("false write response, pause",0),ge.awaitDrainWriters=m,ge.multiAwaitDrain=!1):ge.pipes.length>1&&ge.pipes.includes(m)&&(se("false write response, pause",ge.awaitDrainWriters.size),ge.awaitDrainWriters.add(m)),ne.pause()),It||(It=function pe(m,U){return function(){const ge=m._readableState;ge.awaitDrainWriters===U?(se("pipeOnDrain",1),ge.awaitDrainWriters=null):ge.multiAwaitDrain&&(se("pipeOnDrain",ge.awaitDrainWriters.size),ge.awaitDrainWriters.delete(U)),(!ge.awaitDrainWriters||0===ge.awaitDrainWriters.size)&&m.listenerCount("data")&&m.resume()}}(ne,m),m.on("drain",It))}function sr(ht){se("ondata");const zt=m.write(ht);se("dest.write",zt),!1===zt&&an()}function Mn(ht){if(se("onerror",ht),Et(),m.removeListener("error",Mn),0===m.listenerCount("error")){const zt=m._writableState||m._readableState;zt&&!zt.errorEmitted?v(m,ht):m.emit("error",ht)}}function Qt(){m.removeListener("finish",qt),Et()}function qt(){se("onfinish"),m.removeListener("close",Qt),Et()}function Et(){se("unpipe"),ne.unpipe(m)}return ne.on("data",sr),J(m,"error",Mn),m.once("close",Qt),m.once("finish",qt),m.emit("pipe",ne),!0===m.writableNeedDrain?ge.flowing&&an():ge.flowing||(se("pipe resume"),ne.resume()),m},K.prototype.unpipe=function(m){const U=this._readableState;if(0===U.pipes.length)return this;if(!m){const Ae=U.pipes;U.pipes=[],this.pause();for(let Qe=0;Qe<Ae.length;Qe++)Ae[Qe].emit("unpipe",this,{hasUnpiped:!1});return this}const ge=H(U.pipes,m);return-1===ge||(U.pipes.splice(ge,1),0===U.pipes.length&&this.pause(),m.emit("unpipe",this,{hasUnpiped:!1})),this},K.prototype.addListener=K.prototype.on=function(m,U){const ne=te.prototype.on.call(this,m,U),ge=this._readableState;return"data"===m?(ge.readableListening=this.listenerCount("readable")>0,!1!==ge.flowing&&this.resume()):"readable"===m&&!ge.endEmitted&&!ge.readableListening&&(ge.readableListening=ge.needReadable=!0,ge.flowing=!1,ge.emittedReadable=!1,se("on readable",ge.length,ge.reading),ge.length?be(this):ge.reading||k.nextTick(Q,this)),ne},K.prototype.off=K.prototype.removeListener=function(m,U){const ne=te.prototype.removeListener.call(this,m,U);return"readable"===m&&k.nextTick(fe,this),ne},K.prototype.removeAllListeners=function(m){const U=te.prototype.removeAllListeners.apply(this,arguments);return("readable"===m||void 0===m)&&k.nextTick(fe,this),U},K.prototype.resume=function(){const m=this._readableState;return m.flowing||(se("resume"),m.flowing=!m.readableListening,function ie(m,U){U.resumeScheduled||(U.resumeScheduled=!0,k.nextTick(ue,m,U))}(this,m)),m[T]=!1,this},K.prototype.pause=function(){return se("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(se("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[T]=!0,this},K.prototype.wrap=function(m){let U=!1;m.on("data",ge=>{!this.push(ge)&&m.pause&&(U=!0,m.pause())}),m.on("end",()=>{this.push(null)}),m.on("error",ge=>{v(this,ge)}),m.on("close",()=>{this.destroy()}),m.on("destroy",()=>{this.destroy()}),this._read=()=>{U&&m.resume&&(U=!1,m.resume())};const ne=F(m);for(let ge=1;ge<ne.length;ge++){const Ae=ne[ge];void 0===this[Ae]&&"function"==typeof m[Ae]&&(this[Ae]=m[Ae].bind(m))}return this},K.prototype[j]=function(){return ke(this)},K.prototype.iterator=function(m){return void 0!==m&&S(m,"options"),ke(this,m)},O(K.prototype,{readable:{__proto__:null,get(){const m=this._readableState;return!(!m||!1===m.readable||m.destroyed||m.errorEmitted||m.endEmitted)},set(m){this._readableState&&(this._readableState.readable=!!m)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(m){this._readableState&&(this._readableState.flowing=m)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(m){this._readableState&&(this._readableState.destroyed=m)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),O(W.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[T]},set(m){this[T]=!!m}}}),K._fromList=_t,K.from=function(m,U){return M(K,m,U)},K.fromWeb=function(m,U){return w().newStreamReadableFromReadableStream(m,U)},K.toWeb=function(m,U){return w().newReadableStreamFromStreamReadable(m,U)},K.wrap=function(m,U){var ne,ge;return new K({objectMode:null===(ne=null!==(ge=m.readableObjectMode)&&void 0!==ge?ge:m.objectMode)||void 0===ne||ne,...U,destroy(Ae,Qe){le.destroyer(m,Ae),Qe(Ae)}}).wrap(m)}},43909:(Fe,z,_)=>{"use strict";const{MathFloor:p,NumberIsInteger:E}=_(2220),{ERR_INVALID_ARG_VALUE:k}=_(85833).codes;function x(A){return A?16:16384}Fe.exports={getHighWaterMark:function R(A,O,F,L){const I=function H(A,O,F){return null!=A.highWaterMark?A.highWaterMark:O?A[F]:null}(O,L,F);if(null!=I){if(!E(I)||I<0)throw new k(L?`options.${F}`:"options.highWaterMark",I);return p(I)}return x(A.objectMode)},getDefaultHighWaterMark:x}},33732:(Fe,z,_)=>{"use strict";const{ObjectSetPrototypeOf:p,Symbol:E}=_(2220);Fe.exports=A;const{ERR_METHOD_NOT_IMPLEMENTED:k}=_(85833).codes,H=_(85892),{getHighWaterMark:x}=_(43909);p(A.prototype,H.prototype),p(A,H);const R=E("kCallback");function A(L){if(!(this instanceof A))return new A(L);const I=L?x(this,L,"readableHighWaterMark",!0):null;0===I&&(L={...L,highWaterMark:null,readableHighWaterMark:I,writableHighWaterMark:L.writableHighWaterMark||0}),H.call(this,L),this._readableState.sync=!1,this[R]=null,L&&("function"==typeof L.transform&&(this._transform=L.transform),"function"==typeof L.flush&&(this._flush=L.flush)),this.on("prefinish",F)}function O(L){"function"!=typeof this._flush||this.destroyed?(this.push(null),L&&L()):this._flush((I,Z)=>{I?L?L(I):this.destroy(I):(null!=Z&&this.push(Z),this.push(null),L&&L())})}function F(){this._final!==O&&O.call(this)}A.prototype._final=O,A.prototype._transform=function(L,I,Z){throw new k("_transform()")},A.prototype._write=function(L,I,Z){const j=this._readableState,G=this._writableState,re=j.length;this._transform(L,I,(te,J)=>{te?Z(te):(null!=J&&this.push(J),G.ended||re===j.length||j.length<j.highWaterMark?Z():this[R]=Z)})},A.prototype._read=function(){if(this[R]){const L=this[R];this[R]=null,L()}}},76989:(Fe,z,_)=>{"use strict";const{Symbol:p,SymbolAsyncIterator:E,SymbolIterator:k,SymbolFor:H}=_(2220),x=p("kDestroyed"),R=p("kIsErrored"),A=p("kIsReadable"),O=p("kIsDisturbed"),F=H("nodejs.webstream.isClosedPromise"),L=H("nodejs.webstream.controllerErrorFunction");function I(v,W=!1){var K;return!(!v||"function"!=typeof v.pipe||"function"!=typeof v.on||W&&("function"!=typeof v.pause||"function"!=typeof v.resume)||v._writableState&&!1===(null===(K=v._readableState)||void 0===K?void 0:K.readable)||v._writableState&&!v._readableState)}function Z(v){var W;return!(!v||"function"!=typeof v.write||"function"!=typeof v.on||v._readableState&&!1===(null===(W=v._writableState)||void 0===W?void 0:W.writable))}function G(v){return v&&(v._readableState||v._writableState||"function"==typeof v.write&&"function"==typeof v.on||"function"==typeof v.pipe&&"function"==typeof v.on)}function re(v){return!(!v||G(v)||"function"!=typeof v.pipeThrough||"function"!=typeof v.getReader||"function"!=typeof v.cancel)}function te(v){return!(!v||G(v)||"function"!=typeof v.getWriter||"function"!=typeof v.abort)}function J(v){return!(!v||G(v)||"object"!=typeof v.readable||"object"!=typeof v.writable)}function ae(v){if(!G(v))return null;const ee=v._writableState||v._readableState;return!!(v.destroyed||v[x]||null!=ee&&ee.destroyed)}function se(v){if(!Z(v))return null;if(!0===v.writableEnded)return!0;const W=v._writableState;return(null==W||!W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)}function we(v,W){if(!I(v))return null;const K=v._readableState;return(null==K||!K.errored)&&("boolean"!=typeof K?.endEmitted?null:!!(K.endEmitted||!1===W&&!0===K.ended&&0===K.length))}function xe(v){return v&&null!=v[A]?v[A]:"boolean"!=typeof v?.readable?null:!ae(v)&&I(v)&&v.readable&&!we(v)}function Ce(v){return"boolean"!=typeof v?.writable?null:!ae(v)&&Z(v)&&v.writable&&!se(v)}function g(v){return"boolean"==typeof v._closed&&"boolean"==typeof v._defaultKeepAlive&&"boolean"==typeof v._removedConnection&&"boolean"==typeof v._removedContLen}function S(v){return"boolean"==typeof v._sent100&&g(v)}Fe.exports={kDestroyed:x,isDisturbed:function M(v){var W;return!(!v||!(null!==(W=v[O])&&void 0!==W?W:v.readableDidRead||v.readableAborted))},kIsDisturbed:O,isErrored:function s(v){var W,K,ee,ce,_e,Pe,$e,Se,be,Ne;return!(!v||!(null!==(W=null!==(K=null!==(ee=null!==(ce=null!==(_e=null!==(Pe=v[R])&&void 0!==Pe?Pe:v.readableErrored)&&void 0!==_e?_e:v.writableErrored)&&void 0!==ce?ce:null===($e=v._readableState)||void 0===$e?void 0:$e.errorEmitted)&&void 0!==ee?ee:null===(Se=v._writableState)||void 0===Se?void 0:Se.errorEmitted)&&void 0!==K?K:null===(be=v._readableState)||void 0===be?void 0:be.errored)&&void 0!==W?W:null!==(Ne=v._writableState)&&void 0!==Ne&&Ne.errored))},kIsErrored:R,isReadable:xe,kIsReadable:A,kIsClosedPromise:F,kControllerErrorFunction:L,isClosed:function y(v){if(!G(v))return null;if("boolean"==typeof v.closed)return v.closed;const W=v._writableState,K=v._readableState;return"boolean"==typeof W?.closed||"boolean"==typeof K?.closed?W?.closed||K?.closed:"boolean"==typeof v._closed&&g(v)?v._closed:null},isDestroyed:ae,isDuplexNodeStream:function j(v){return!(!v||"function"!=typeof v.pipe||!v._readableState||"function"!=typeof v.on||"function"!=typeof v.write)},isFinished:function C(v,W){return G(v)?!!ae(v)||!(!1!==W?.readable&&xe(v)||!1!==W?.writable&&Ce(v)):null},isIterable:function oe(v,W){return null!=v&&(!0===W?"function"==typeof v[E]:!1===W?"function"==typeof v[k]:"function"==typeof v[E]||"function"==typeof v[k])},isReadableNodeStream:I,isReadableStream:re,isReadableEnded:function le(v){if(!I(v))return null;if(!0===v.readableEnded)return!0;const W=v._readableState;return!(!W||W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)},isReadableFinished:we,isReadableErrored:function u(v){var W,K;return G(v)?v.readableErrored?v.readableErrored:null!==(W=null===(K=v._readableState)||void 0===K?void 0:K.errored)&&void 0!==W?W:null:null},isNodeStream:G,isWebStream:function Y(v){return re(v)||te(v)||J(v)},isWritable:Ce,isWritableNodeStream:Z,isWritableStream:te,isWritableEnded:se,isWritableFinished:function de(v,W){if(!Z(v))return null;if(!0===v.writableFinished)return!0;const K=v._writableState;return(null==K||!K.errored)&&("boolean"!=typeof K?.finished?null:!!(K.finished||!1===W&&!0===K.ended&&0===K.length))},isWritableErrored:function a(v){var W,K;return G(v)?v.writableErrored?v.writableErrored:null!==(W=null===(K=v._writableState)||void 0===K?void 0:K.errored)&&void 0!==W?W:null:null},isServerRequest:function T(v){var W;return"boolean"==typeof v._consuming&&"boolean"==typeof v._dumped&&void 0===(null===(W=v.req)||void 0===W?void 0:W.upgradeOrConnect)},isServerResponse:S,willEmitClose:function N(v){if(!G(v))return null;const ee=v._writableState||v._readableState;return!ee&&S(v)||!!(ee&&ee.autoDestroy&&ee.emitClose&&!1===ee.closed)},isTransformStream:J}},39070:(Fe,z,_)=>{const p=_(40573),{ArrayPrototypeSlice:E,Error:k,FunctionPrototypeSymbolHasInstance:H,ObjectDefineProperty:x,ObjectDefineProperties:R,ObjectSetPrototypeOf:A,StringPrototypeToLowerCase:O,Symbol:F,SymbolHasInstance:L}=_(2220);Fe.exports=S,S.WritableState=y;const{EventEmitter:I}=_(44356),Z=_(90845).Stream,{Buffer:j}=_(37945),G=_(23370),{addAbortSignal:re}=_(55397),{getHighWaterMark:te,getDefaultHighWaterMark:J}=_(43909),{ERR_INVALID_ARG_TYPE:Y,ERR_METHOD_NOT_IMPLEMENTED:oe,ERR_MULTIPLE_CALLBACK:ae,ERR_STREAM_CANNOT_PIPE:se,ERR_STREAM_DESTROYED:de,ERR_STREAM_ALREADY_FINISHED:le,ERR_STREAM_NULL_VALUES:we,ERR_STREAM_WRITE_AFTER_END:xe,ERR_UNKNOWN_ENCODING:Ce}=_(85833).codes,{errorOrDestroy:C}=G;function a(){}A(S.prototype,Z.prototype),A(S,Z);const u=F("kOnFinished");function y(pe,fe,Q){"boolean"!=typeof Q&&(Q=fe instanceof _(85892)),this.objectMode=!(!pe||!pe.objectMode),Q&&(this.objectMode=this.objectMode||!(!pe||!pe.writableObjectMode)),this.highWaterMark=pe?te(this,pe,"writableHighWaterMark",Q):J(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(pe&&!1===pe.decodeStrings),this.defaultEncoding=pe&&pe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=v.bind(void 0,fe),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,g(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!pe||!1!==pe.emitClose,this.autoDestroy=!pe||!1!==pe.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[u]=[]}function g(pe){pe.buffered=[],pe.bufferedIndex=0,pe.allBuffers=!0,pe.allNoop=!0}function S(pe){const fe=this instanceof _(85892);if(!fe&&!H(S,this))return new S(pe);this._writableState=new y(pe,this,fe),pe&&("function"==typeof pe.write&&(this._write=pe.write),"function"==typeof pe.writev&&(this._writev=pe.writev),"function"==typeof pe.destroy&&(this._destroy=pe.destroy),"function"==typeof pe.final&&(this._final=pe.final),"function"==typeof pe.construct&&(this._construct=pe.construct),pe.signal&&re(pe.signal,this)),Z.call(this,pe),G.construct(this,()=>{const Q=this._writableState;Q.writing||ce(this,Q),Se(this,Q)})}function T(pe,fe,Q,ie){const ue=pe._writableState;if("function"==typeof Q)ie=Q,Q=ue.defaultEncoding;else{if(Q){if("buffer"!==Q&&!j.isEncoding(Q))throw new Ce(Q)}else Q=ue.defaultEncoding;"function"!=typeof ie&&(ie=a)}if(null===fe)throw new we;if(!ue.objectMode)if("string"==typeof fe)!1!==ue.decodeStrings&&(fe=j.from(fe,Q),Q="buffer");else if(fe instanceof j)Q="buffer";else{if(!Z._isUint8Array(fe))throw new Y("chunk",["string","Buffer","Uint8Array"],fe);fe=Z._uint8ArrayToBuffer(fe),Q="buffer"}let Ee;return ue.ending?Ee=new xe:ue.destroyed&&(Ee=new de("write")),Ee?(p.nextTick(ie,Ee),C(pe,Ee,!0),Ee):(ue.pendingcb++,function N(pe,fe,Q,ie,ue){const Ee=fe.objectMode?1:Q.length;fe.length+=Ee;const ke=fe.length<fe.highWaterMark;return ke||(fe.needDrain=!0),fe.writing||fe.corked||fe.errored||!fe.constructed?(fe.buffered.push({chunk:Q,encoding:ie,callback:ue}),fe.allBuffers&&"buffer"!==ie&&(fe.allBuffers=!1),fe.allNoop&&ue!==a&&(fe.allNoop=!1)):(fe.writelen=Ee,fe.writecb=ue,fe.writing=!0,fe.sync=!0,pe._write(Q,ie,fe.onwrite),fe.sync=!1),ke&&!fe.errored&&!fe.destroyed}(pe,ue,fe,Q,ie))}function M(pe,fe,Q,ie,ue,Ee,ke){fe.writelen=ie,fe.writecb=ke,fe.writing=!0,fe.sync=!0,fe.destroyed?fe.onwrite(new de("write")):Q?pe._writev(ue,fe.onwrite):pe._write(ue,Ee,fe.onwrite),fe.sync=!1}function s(pe,fe,Q,ie){--fe.pendingcb,ie(Q),ee(fe),C(pe,Q)}function v(pe,fe){const Q=pe._writableState,ie=Q.sync,ue=Q.writecb;"function"==typeof ue?(Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0,fe?(Q.errored||(Q.errored=fe),pe._readableState&&!pe._readableState.errored&&(pe._readableState.errored=fe),ie?p.nextTick(s,pe,Q,fe,ue):s(pe,Q,fe,ue)):(Q.buffered.length>Q.bufferedIndex&&ce(pe,Q),ie?null!==Q.afterWriteTickInfo&&Q.afterWriteTickInfo.cb===ue?Q.afterWriteTickInfo.count++:(Q.afterWriteTickInfo={count:1,cb:ue,stream:pe,state:Q},p.nextTick(W,Q.afterWriteTickInfo)):K(pe,Q,1,ue))):C(pe,new ae)}function W({stream:pe,state:fe,count:Q,cb:ie}){return fe.afterWriteTickInfo=null,K(pe,fe,Q,ie)}function K(pe,fe,Q,ie){for(!fe.ending&&!pe.destroyed&&0===fe.length&&fe.needDrain&&(fe.needDrain=!1,pe.emit("drain"));Q-- >0;)fe.pendingcb--,ie();fe.destroyed&&ee(fe),Se(pe,fe)}function ee(pe){if(pe.writing)return;for(let ue=pe.bufferedIndex;ue<pe.buffered.length;++ue){var fe;const{chunk:Ee,callback:ke}=pe.buffered[ue];pe.length-=pe.objectMode?1:Ee.length,ke(null!==(fe=pe.errored)&&void 0!==fe?fe:new de("write"))}const Q=pe[u].splice(0);for(let ue=0;ue<Q.length;ue++){var ie;Q[ue](null!==(ie=pe.errored)&&void 0!==ie?ie:new de("end"))}g(pe)}function ce(pe,fe){if(fe.corked||fe.bufferProcessing||fe.destroyed||!fe.constructed)return;const{buffered:Q,bufferedIndex:ie,objectMode:ue}=fe,Ee=Q.length-ie;if(!Ee)return;let ke=ie;if(fe.bufferProcessing=!0,Ee>1&&pe._writev){fe.pendingcb-=Ee-1;const Ue=fe.allNoop?a:_t=>{for(let Ve=ke;Ve<Q.length;++Ve)Q[Ve].callback(_t)},Le=fe.allNoop&&0===ke?Q:E(Q,ke);Le.allBuffers=fe.allBuffers,M(pe,fe,!0,fe.length,Le,"",Ue),g(fe)}else{do{const{chunk:Ue,encoding:Le,callback:_t}=Q[ke];Q[ke++]=null,M(pe,fe,!1,ue?1:Ue.length,Ue,Le,_t)}while(ke<Q.length&&!fe.writing);ke===Q.length?g(fe):ke>256?(Q.splice(0,ke),fe.bufferedIndex=0):fe.bufferedIndex=ke}fe.bufferProcessing=!1}function _e(pe){return pe.ending&&!pe.destroyed&&pe.constructed&&0===pe.length&&!pe.errored&&0===pe.buffered.length&&!pe.finished&&!pe.writing&&!pe.errorEmitted&&!pe.closeEmitted}function Se(pe,fe,Q){_e(fe)&&(function $e(pe,fe){!fe.prefinished&&!fe.finalCalled&&("function"!=typeof pe._final||fe.destroyed?(fe.prefinished=!0,pe.emit("prefinish")):(fe.finalCalled=!0,function Pe(pe,fe){let Q=!1;function ie(ue){if(Q)C(pe,ue??ae());else if(Q=!0,fe.pendingcb--,ue){const Ee=fe[u].splice(0);for(let ke=0;ke<Ee.length;ke++)Ee[ke](ue);C(pe,ue,fe.sync)}else _e(fe)&&(fe.prefinished=!0,pe.emit("prefinish"),fe.pendingcb++,p.nextTick(be,pe,fe))}fe.sync=!0,fe.pendingcb++;try{pe._final(ie)}catch(ue){ie(ue)}fe.sync=!1}(pe,fe)))}(pe,fe),0===fe.pendingcb&&(Q?(fe.pendingcb++,p.nextTick((ie,ue)=>{_e(ue)?be(ie,ue):ue.pendingcb--},pe,fe)):_e(fe)&&(fe.pendingcb++,be(pe,fe))))}function be(pe,fe){fe.pendingcb--,fe.finished=!0;const Q=fe[u].splice(0);for(let ie=0;ie<Q.length;ie++)Q[ie]();if(pe.emit("finish"),fe.autoDestroy){const ie=pe._readableState;(!ie||ie.autoDestroy&&(ie.endEmitted||!1===ie.readable))&&pe.destroy()}}y.prototype.getBuffer=function(){return E(this.buffered,this.bufferedIndex)},x(y.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),x(S,L,{__proto__:null,value:function(pe){return!!H(this,pe)||this===S&&pe&&pe._writableState instanceof y}}),S.prototype.pipe=function(){C(this,new se)},S.prototype.write=function(pe,fe,Q){return!0===T(this,pe,fe,Q)},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){const pe=this._writableState;pe.corked&&(pe.corked--,pe.writing||ce(this,pe))},S.prototype.setDefaultEncoding=function(fe){if("string"==typeof fe&&(fe=O(fe)),!j.isEncoding(fe))throw new Ce(fe);return this._writableState.defaultEncoding=fe,this},S.prototype._write=function(pe,fe,Q){if(!this._writev)throw new oe("_write()");this._writev([{chunk:pe,encoding:fe}],Q)},S.prototype._writev=null,S.prototype.end=function(pe,fe,Q){const ie=this._writableState;let ue;if("function"==typeof pe?(Q=pe,pe=null,fe=null):"function"==typeof fe&&(Q=fe,fe=null),null!=pe){const Ee=T(this,pe,fe);Ee instanceof k&&(ue=Ee)}return ie.corked&&(ie.corked=1,this.uncork()),ue||(ie.errored||ie.ending?ie.finished?ue=new le("end"):ie.destroyed&&(ue=new de("end")):(ie.ending=!0,Se(this,ie,!0),ie.ended=!0)),"function"==typeof Q&&(ue||ie.finished?p.nextTick(Q,ue):ie[u].push(Q)),this},R(S.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(pe){this._writableState&&(this._writableState.destroyed=pe)}},writable:{__proto__:null,get(){const pe=this._writableState;return!(!pe||!1===pe.writable||pe.destroyed||pe.errored||pe.ending||pe.ended)},set(pe){this._writableState&&(this._writableState.writable=!!pe)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const pe=this._writableState;return!!pe&&!pe.destroyed&&!pe.ending&&pe.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Ne=G.destroy;let ye;function Te(){return void 0===ye&&(ye={}),ye}S.prototype.destroy=function(pe,fe){const Q=this._writableState;return!Q.destroyed&&(Q.bufferedIndex<Q.buffered.length||Q[u].length)&&p.nextTick(ee,Q),Ne.call(this,pe,fe),this},S.prototype._undestroy=G.undestroy,S.prototype._destroy=function(pe,fe){fe(pe)},S.prototype[I.captureRejectionSymbol]=function(pe){this.destroy(pe)},S.fromWeb=function(pe,fe){return Te().newStreamWritableFromWritableStream(pe,fe)},S.toWeb=function(pe){return Te().newWritableStreamFromStreamWritable(pe)}},48119:(Fe,z,_)=>{"use strict";const{ArrayIsArray:p,ArrayPrototypeIncludes:E,ArrayPrototypeJoin:k,ArrayPrototypeMap:H,NumberIsInteger:x,NumberIsNaN:R,NumberMAX_SAFE_INTEGER:A,NumberMIN_SAFE_INTEGER:O,NumberParseInt:F,ObjectPrototypeHasOwnProperty:L,RegExpPrototypeExec:I,String:Z,StringPrototypeToUpperCase:j,StringPrototypeTrim:G}=_(2220),{hideStackFrames:re,codes:{ERR_SOCKET_BAD_PORT:te,ERR_INVALID_ARG_TYPE:J,ERR_INVALID_ARG_VALUE:Y,ERR_OUT_OF_RANGE:oe,ERR_UNKNOWN_SIGNAL:ae}}=_(85833),{normalizeEncoding:se}=_(82578),{isAsyncFunction:de,isArrayBufferView:le}=_(82578).types,we={},C=/^[0-7]+$/,y=re((Ee,ke,Ue=O,Le=A)=>{if("number"!=typeof Ee)throw new J(ke,"number",Ee);if(!x(Ee))throw new oe(ke,"an integer",Ee);if(Ee<Ue||Ee>Le)throw new oe(ke,`>= ${Ue} && <= ${Le}`,Ee)}),g=re((Ee,ke,Ue=-2147483648,Le=2147483647)=>{if("number"!=typeof Ee)throw new J(ke,"number",Ee);if(!x(Ee))throw new oe(ke,"an integer",Ee);if(Ee<Ue||Ee>Le)throw new oe(ke,`>= ${Ue} && <= ${Le}`,Ee)}),S=re((Ee,ke,Ue=!1)=>{if("number"!=typeof Ee)throw new J(ke,"number",Ee);if(!x(Ee))throw new oe(ke,"an integer",Ee);const Le=Ue?1:0,_t=4294967295;if(Ee<Le||Ee>_t)throw new oe(ke,`>= ${Le} && <= ${_t}`,Ee)});function T(Ee,ke){if("string"!=typeof Ee)throw new J(ke,"string",Ee)}const M=re((Ee,ke,Ue)=>{if(!E(Ue,Ee)){const _t="must be one of: "+k(H(Ue,Ve=>"string"==typeof Ve?`'${Ve}'`:Z(Ve)),", ");throw new Y(ke,Ee,_t)}});function s(Ee,ke){if("boolean"!=typeof Ee)throw new J(ke,"boolean",Ee)}function v(Ee,ke,Ue){return null!=Ee&&L(Ee,ke)?Ee[ke]:Ue}const W=re((Ee,ke,Ue=null)=>{const Le=v(Ue,"allowArray",!1),_t=v(Ue,"allowFunction",!1);if(!v(Ue,"nullable",!1)&&null===Ee||!Le&&p(Ee)||"object"!=typeof Ee&&(!_t||"function"!=typeof Ee))throw new J(ke,"Object",Ee)}),K=re((Ee,ke)=>{if(null!=Ee&&"object"!=typeof Ee&&"function"!=typeof Ee)throw new J(ke,"a dictionary",Ee)}),ee=re((Ee,ke,Ue=0)=>{if(!p(Ee))throw new J(ke,"Array",Ee);if(Ee.length<Ue)throw new Y(ke,Ee,`must be longer than ${Ue}`)}),$e=re((Ee,ke="buffer")=>{if(!le(Ee))throw new J(ke,["Buffer","TypedArray","DataView"],Ee)}),Ne=re((Ee,ke)=>{if(void 0!==Ee&&(null===Ee||"object"!=typeof Ee||!("aborted"in Ee)))throw new J(ke,"AbortSignal",Ee)}),ye=re((Ee,ke)=>{if("function"!=typeof Ee)throw new J(ke,"Function",Ee)}),Te=re((Ee,ke)=>{if("function"!=typeof Ee||de(Ee))throw new J(ke,"Function",Ee)}),pe=re((Ee,ke)=>{if(void 0!==Ee)throw new J(ke,"undefined",Ee)}),Q=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ie(Ee,ke){if(typeof Ee>"u"||!I(Q,Ee))throw new Y(ke,Ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Fe.exports={isInt32:function xe(Ee){return Ee===(0|Ee)},isUint32:function Ce(Ee){return Ee===Ee>>>0},parseFileMode:function u(Ee,ke,Ue){if(typeof Ee>"u"&&(Ee=Ue),"string"==typeof Ee){if(null===I(C,Ee))throw new Y(ke,Ee,"must be a 32-bit unsigned integer or an octal string");Ee=F(Ee,8)}return S(Ee,ke),Ee},validateArray:ee,validateStringArray:function ce(Ee,ke){ee(Ee,ke);for(let Ue=0;Ue<Ee.length;Ue++)T(Ee[Ue],`${ke}[${Ue}]`)},validateBooleanArray:function _e(Ee,ke){ee(Ee,ke);for(let Ue=0;Ue<Ee.length;Ue++)s(Ee[Ue],`${ke}[${Ue}]`)},validateBoolean:s,validateBuffer:$e,validateDictionary:K,validateEncoding:function Se(Ee,ke){const Ue=se(ke),Le=Ee.length;if("hex"===Ue&&Le%2!=0)throw new Y("encoding",ke,`is invalid for data of length ${Le}`)},validateFunction:ye,validateInt32:g,validateInteger:y,validateNumber:function N(Ee,ke,Ue=void 0,Le){if("number"!=typeof Ee)throw new J(ke,"number",Ee);if(null!=Ue&&Ee<Ue||null!=Le&&Ee>Le||(null!=Ue||null!=Le)&&R(Ee))throw new oe(ke,`${null!=Ue?`>= ${Ue}`:""}${null!=Ue&&null!=Le?" && ":""}${null!=Le?`<= ${Le}`:""}`,Ee)},validateObject:W,validateOneOf:M,validatePlainFunction:Te,validatePort:function be(Ee,ke="Port",Ue=!0){if("number"!=typeof Ee&&"string"!=typeof Ee||"string"==typeof Ee&&0===G(Ee).length||+Ee!=+Ee>>>0||Ee>65535||0===Ee&&!Ue)throw new te(ke,Ee,Ue);return 0|Ee},validateSignalName:function Pe(Ee,ke="signal"){if(T(Ee,ke),void 0===we[Ee])throw void 0!==we[j(Ee)]?new ae(Ee+" (signals must use all capital letters)"):new ae(Ee)},validateString:T,validateUint32:S,validateUndefined:pe,validateUnion:function fe(Ee,ke,Ue){if(!E(Ue,Ee))throw new J(ke,`('${k(Ue,"|")}')`,Ee)},validateAbortSignal:Ne,validateLinkHeaderValue:function ue(Ee){if("string"==typeof Ee)return ie(Ee,"hints"),Ee;if(p(Ee)){const ke=Ee.length;let Ue="";if(0===ke)return Ue;for(let Le=0;Le<ke;Le++){const _t=Ee[Le];ie(_t,"hints"),Ue+=_t,Le!==ke-1&&(Ue+=", ")}return Ue}throw new Y("hints",Ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},80868:(Fe,z,_)=>{"use strict";const p=_(59800),E=_(4581),k=p.Readable.destroy;Fe.exports=p.Readable,Fe.exports._uint8ArrayToBuffer=p._uint8ArrayToBuffer,Fe.exports._isUint8Array=p._isUint8Array,Fe.exports.isDisturbed=p.isDisturbed,Fe.exports.isErrored=p.isErrored,Fe.exports.isReadable=p.isReadable,Fe.exports.Readable=p.Readable,Fe.exports.Writable=p.Writable,Fe.exports.Duplex=p.Duplex,Fe.exports.Transform=p.Transform,Fe.exports.PassThrough=p.PassThrough,Fe.exports.addAbortSignal=p.addAbortSignal,Fe.exports.finished=p.finished,Fe.exports.destroy=p.destroy,Fe.exports.destroy=k,Fe.exports.pipeline=p.pipeline,Fe.exports.compose=p.compose,Object.defineProperty(p,"promises",{configurable:!0,enumerable:!0,get:()=>E}),Fe.exports.Stream=p.Stream,Fe.exports.default=Fe.exports},85833:(Fe,z,_)=>{"use strict";const{format:p,inspect:E,AggregateError:k}=_(82578),H=globalThis.AggregateError||k,x=Symbol("kIsNodeError"),R=["string","function","number","object","Function","Object","boolean","bigint","symbol"],A=/^([A-Z][a-z0-9]*)+$/,F={};function L(J,Y){if(!J)throw new F.ERR_INTERNAL_ASSERTION(Y)}function I(J){let Y="",oe=J.length;const ae="-"===J[0]?1:0;for(;oe>=ae+4;oe-=3)Y=`_${J.slice(oe-3,oe)}${Y}`;return`${J.slice(0,oe)}${Y}`}function j(J,Y,oe){oe||(oe=Error);class ae extends oe{constructor(...de){super(function Z(J,Y,oe){if("function"==typeof Y)return L(Y.length<=oe.length,`Code: ${J}; The provided arguments length (${oe.length}) does not match the required ones (${Y.length}).`),Y(...oe);const ae=(Y.match(/%[dfijoOs]/g)||[]).length;return L(ae===oe.length,`Code: ${J}; The provided arguments length (${oe.length}) does not match the required ones (${ae}).`),0===oe.length?Y:p(Y,...oe)}(J,Y,de))}toString(){return`${this.name} [${J}]: ${this.message}`}}Object.defineProperties(ae.prototype,{name:{value:oe.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${J}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),ae.prototype.code=J,ae.prototype[x]=!0,F[J]=ae}function G(J){return Object.defineProperty(J,"name",{value:"__node_internal_"+J.name}),J}class te extends Error{constructor(Y="The operation was aborted",oe=void 0){if(void 0!==oe&&"object"!=typeof oe)throw new F.ERR_INVALID_ARG_TYPE("options","Object",oe);super(Y,oe),this.code="ABORT_ERR",this.name="AbortError"}}j("ERR_ASSERTION","%s",Error),j("ERR_INVALID_ARG_TYPE",(J,Y,oe)=>{L("string"==typeof J,"'name' must be a string"),Array.isArray(Y)||(Y=[Y]);let ae="The ";J.endsWith(" argument")?ae+=`${J} `:ae+=`"${J}" ${J.includes(".")?"property":"argument"} `,ae+="must be ";const se=[],de=[],le=[];for(const xe of Y)L("string"==typeof xe,"All expected entries have to be of type string"),R.includes(xe)?se.push(xe.toLowerCase()):A.test(xe)?de.push(xe):(L("object"!==xe,'The value "object" should be written as "Object"'),le.push(xe));if(de.length>0){const xe=se.indexOf("object");-1!==xe&&(se.splice(se,xe,1),de.push("Object"))}if(se.length>0){switch(se.length){case 1:ae+=`of type ${se[0]}`;break;case 2:ae+=`one of type ${se[0]} or ${se[1]}`;break;default:{const xe=se.pop();ae+=`one of type ${se.join(", ")}, or ${xe}`}}(de.length>0||le.length>0)&&(ae+=" or ")}if(de.length>0){switch(de.length){case 1:ae+=`an instance of ${de[0]}`;break;case 2:ae+=`an instance of ${de[0]} or ${de[1]}`;break;default:{const xe=de.pop();ae+=`an instance of ${de.join(", ")}, or ${xe}`}}le.length>0&&(ae+=" or ")}switch(le.length){case 0:break;case 1:le[0].toLowerCase()!==le[0]&&(ae+="an "),ae+=`${le[0]}`;break;case 2:ae+=`one of ${le[0]} or ${le[1]}`;break;default:{const xe=le.pop();ae+=`one of ${le.join(", ")}, or ${xe}`}}if(null==oe)ae+=`. Received ${oe}`;else if("function"==typeof oe&&oe.name)ae+=`. Received function ${oe.name}`;else if("object"==typeof oe){var we;null!==(we=oe.constructor)&&void 0!==we&&we.name?ae+=`. Received an instance of ${oe.constructor.name}`:ae+=`. Received ${E(oe,{depth:-1})}`}else{let xe=E(oe,{colors:!1});xe.length>25&&(xe=`${xe.slice(0,25)}...`),ae+=`. Received type ${typeof oe} (${xe})`}return ae},TypeError),j("ERR_INVALID_ARG_VALUE",(J,Y,oe="is invalid")=>{let ae=E(Y);return ae.length>128&&(ae=ae.slice(0,128)+"..."),`The ${J.includes(".")?"property":"argument"} '${J}' ${oe}. Received ${ae}`},TypeError),j("ERR_INVALID_RETURN_VALUE",(J,Y,oe)=>{var ae;return`Expected ${J} to be returned from the "${Y}" function but got ${null!=oe&&null!==(ae=oe.constructor)&&void 0!==ae&&ae.name?`instance of ${oe.constructor.name}`:"type "+typeof oe}.`},TypeError),j("ERR_MISSING_ARGS",(...J)=>{let Y;L(J.length>0,"At least one arg needs to be specified");const oe=J.length;switch(J=(Array.isArray(J)?J:[J]).map(ae=>`"${ae}"`).join(" or "),oe){case 1:Y+=`The ${J[0]} argument`;break;case 2:Y+=`The ${J[0]} and ${J[1]} arguments`;break;default:{const ae=J.pop();Y+=`The ${J.join(", ")}, and ${ae} arguments`}}return`${Y} must be specified`},TypeError),j("ERR_OUT_OF_RANGE",(J,Y,oe)=>{let ae;return L(Y,'Missing "range" argument'),Number.isInteger(oe)&&Math.abs(oe)>2**32?ae=I(String(oe)):"bigint"==typeof oe?(ae=String(oe),(oe>2n**32n||oe<-(2n**32n))&&(ae=I(ae)),ae+="n"):ae=E(oe),`The value of "${J}" is out of range. It must be ${Y}. Received ${ae}`},RangeError),j("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),j("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),j("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),j("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),j("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),j("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),j("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),j("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),j("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),j("ERR_STREAM_WRITE_AFTER_END","write after end",Error),j("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Fe.exports={AbortError:te,aggregateTwoErrors:G(function re(J,Y){if(J&&Y&&J!==Y){if(Array.isArray(Y.errors))return Y.errors.push(J),Y;const oe=new H([Y,J],Y.message);return oe.code=Y.code,oe}return J||Y}),hideStackFrames:G,codes:F}},2220:Fe=>{"use strict";Fe.exports={ArrayIsArray:z=>Array.isArray(z),ArrayPrototypeIncludes:(z,_)=>z.includes(_),ArrayPrototypeIndexOf:(z,_)=>z.indexOf(_),ArrayPrototypeJoin:(z,_)=>z.join(_),ArrayPrototypeMap:(z,_)=>z.map(_),ArrayPrototypePop:(z,_)=>z.pop(_),ArrayPrototypePush:(z,_)=>z.push(_),ArrayPrototypeSlice:(z,_,p)=>z.slice(_,p),Error,FunctionPrototypeCall:(z,_,...p)=>z.call(_,...p),FunctionPrototypeSymbolHasInstance:(z,_)=>Function.prototype[Symbol.hasInstance].call(z,_),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(z,_)=>Object.defineProperties(z,_),ObjectDefineProperty:(z,_,p)=>Object.defineProperty(z,_,p),ObjectGetOwnPropertyDescriptor:(z,_)=>Object.getOwnPropertyDescriptor(z,_),ObjectKeys:z=>Object.keys(z),ObjectSetPrototypeOf:(z,_)=>Object.setPrototypeOf(z,_),Promise,PromisePrototypeCatch:(z,_)=>z.catch(_),PromisePrototypeThen:(z,_,p)=>z.then(_,p),PromiseReject:z=>Promise.reject(z),ReflectApply:Reflect.apply,RegExpPrototypeTest:(z,_)=>z.test(_),SafeSet:Set,String,StringPrototypeSlice:(z,_,p)=>z.slice(_,p),StringPrototypeToLowerCase:z=>z.toLowerCase(),StringPrototypeToUpperCase:z=>z.toUpperCase(),StringPrototypeTrim:z=>z.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(z,_,p)=>z.set(_,p),Uint8Array}},82578:(Fe,z,_)=>{"use strict";var p=_(29293).default;const E=_(37945),k=Object.getPrototypeOf(p(function*(){})).constructor,H=globalThis.Blob||E.Blob,x=typeof H<"u"?function(O){return O instanceof H}:function(O){return!1};class R extends Error{constructor(O){if(!Array.isArray(O))throw new TypeError("Expected input to be an Array, got "+typeof O);let F="";for(let L=0;L<O.length;L++)F+=`    ${O[L].stack}\n`;super(F),this.name="AggregateError",this.errors=O}}Fe.exports={AggregateError:R,kEmptyObject:Object.freeze({}),once(A){let O=!1;return function(...F){O||(O=!0,A.apply(this,F))}},createDeferredPromise:function(){let A,O;return{promise:new Promise((L,I)=>{A=L,O=I}),resolve:A,reject:O}},promisify:A=>new Promise((O,F)=>{A((L,...I)=>L?F(L):O(...I))}),debuglog:()=>function(){},format:(A,...O)=>A.replace(/%([sdifj])/g,function(...[F,L]){const I=O.shift();return"f"===L?I.toFixed(6):"j"===L?JSON.stringify(I):"s"===L&&"object"==typeof I?`${I.constructor!==Object?I.constructor.name:""} {}`.trim():I.toString()}),inspect(A){switch(typeof A){case"string":if(A.includes("'")){if(!A.includes('"'))return`"${A}"`;if(!A.includes("`")&&!A.includes("${"))return`\`${A}\``}return`'${A}'`;case"number":return isNaN(A)?"NaN":Object.is(A,-0)?String(A):A;case"bigint":return`${String(A)}n`;case"boolean":case"undefined":return String(A);case"object":return"{}"}},types:{isAsyncFunction:A=>A instanceof k,isArrayBufferView:A=>ArrayBuffer.isView(A)},isBlob:x},Fe.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},59800:(Fe,z,_)=>{const{Buffer:p}=_(37945),{ObjectDefineProperty:E,ObjectKeys:k,ReflectApply:H}=_(2220),{promisify:{custom:x}}=_(82578),{streamReturningOperators:R,promiseReturningOperators:A}=_(54705),{codes:{ERR_ILLEGAL_CONSTRUCTOR:O}}=_(85833),F=_(90972),{pipeline:L}=_(63596),{destroyer:I}=_(23370),Z=_(68208),G=_(4581),re=_(76989),te=Fe.exports=_(90845).Stream;te.isDisturbed=re.isDisturbed,te.isErrored=re.isErrored,te.isReadable=re.isReadable,te.Readable=_(84730);for(const oe of k(R)){let se=function(...de){if(new.target)throw O();return te.Readable.from(H(ae,this,de))};const ae=R[oe];E(se,"name",{__proto__:null,value:ae.name}),E(se,"length",{__proto__:null,value:ae.length}),E(te.Readable.prototype,oe,{__proto__:null,value:se,enumerable:!1,configurable:!0,writable:!0})}for(const oe of k(A)){let se=function(...le){if(new.target)throw O();return H(ae,this,le)};const ae=A[oe];E(se,"name",{__proto__:null,value:ae.name}),E(se,"length",{__proto__:null,value:ae.length}),E(te.Readable.prototype,oe,{__proto__:null,value:se,enumerable:!1,configurable:!0,writable:!0})}te.Writable=_(39070),te.Duplex=_(85892),te.Transform=_(33732),te.PassThrough=_(5358),te.pipeline=L;const{addAbortSignal:J}=_(55397);te.addAbortSignal=J,te.finished=Z,te.destroy=I,te.compose=F,E(te,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>G}),E(L,x,{__proto__:null,enumerable:!0,get:()=>G.pipeline}),E(Z,x,{__proto__:null,enumerable:!0,get:()=>G.finished}),te.Stream=te,te._isUint8Array=function(ae){return ae instanceof Uint8Array},te._uint8ArrayToBuffer=function(ae){return p.from(ae.buffer,ae.byteOffset,ae.byteLength)}},4581:(Fe,z,_)=>{"use strict";const{ArrayPrototypePop:p,Promise:E}=_(2220),{isIterable:k,isNodeStream:H,isWebStream:x}=_(76989),{pipelineImpl:R}=_(63596),{finished:A}=_(68208);_(59800),Fe.exports={finished:A,pipeline:function O(...F){return new E((L,I)=>{let Z,j;const G=F[F.length-1];if(G&&"object"==typeof G&&!H(G)&&!k(G)&&!x(G)){const re=p(F);Z=re.signal,j=re.end}R(F,(re,te)=>{re?I(re):L(te)},{signal:Z,end:j})})}}},67449:(Fe,z,_)=>{z.Level=_(23963).BrowserLevel},97829:Fe=>{var z=1e3,_=60*z,p=60*_,E=24*p,k=7*E;function O(F,L,I,Z){var j=L>=1.5*I;return Math.round(F/I)+" "+Z+(j?"s":"")}Fe.exports=function(F,L){L=L||{};var I=typeof F;if("string"===I&&F.length>0)return function x(F){if(!((F=String(F)).length>100)){var L=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(F);if(L){var I=parseFloat(L[1]);switch((L[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*I;case"weeks":case"week":case"w":return I*k;case"days":case"day":case"d":return I*E;case"hours":case"hour":case"hrs":case"hr":case"h":return I*p;case"minutes":case"minute":case"mins":case"min":case"m":return I*_;case"seconds":case"second":case"secs":case"sec":case"s":return I*z;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return I;default:return}}}}(F);if("number"===I&&isFinite(F))return L.long?function A(F){var L=Math.abs(F);return L>=E?O(F,L,E,"day"):L>=p?O(F,L,p,"hour"):L>=_?O(F,L,_,"minute"):L>=z?O(F,L,z,"second"):F+" ms"}(F):function R(F){var L=Math.abs(F);return L>=E?Math.round(F/E)+"d":L>=p?Math.round(F/p)+"h":L>=_?Math.round(F/_)+"m":L>=z?Math.round(F/z)+"s":F+"ms"}(F);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(F))}},9465:Fe=>{"use strict";const{AbortController:z,AbortSignal:_}=typeof self<"u"?self:typeof window<"u"?window:void 0;Fe.exports=z,Fe.exports.AbortSignal=_,Fe.exports.default=z},91463:(Fe,z,_)=>{"use strict";const{fromCallback:p}=_(42381),E=_(61747),{getCallback:k,getOptions:H}=_(32856),x=Symbol("promise"),R=Symbol("status"),A=Symbol("operations"),O=Symbol("finishClose"),F=Symbol("closeCallbacks");z.AbstractChainedBatch=class L{constructor(Z){if("object"!=typeof Z||null===Z)throw new TypeError("The first argument must be an abstract-level database, received "+(null===Z?"null":typeof Z));this[A]=[],this[F]=[],this[R]="open",this[O]=this[O].bind(this),this.db=Z,this.db.attachResource(this),this.nextTick=Z.nextTick}get length(){return this[A].length}put(Z,j,G){if("open"!==this[R])throw new E("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const re=this.db._checkKey(Z)||this.db._checkValue(j);if(re)throw re;const te=G&&null!=G.sublevel?G.sublevel:this.db,J=G,Y=te.keyEncoding(G&&G.keyEncoding),oe=te.valueEncoding(G&&G.valueEncoding),ae=Y.format;G={...G,keyEncoding:ae,valueEncoding:oe.format},te!==this.db&&(G.sublevel=null);const se=te.prefixKey(Y.encode(Z),ae),de=oe.encode(j);return this._put(se,de,G),this[A].push({...J,type:"put",key:Z,value:j}),this}_put(Z,j,G){}del(Z,j){if("open"!==this[R])throw new E("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const G=this.db._checkKey(Z);if(G)throw G;const re=j&&null!=j.sublevel?j.sublevel:this.db,te=j,J=re.keyEncoding(j&&j.keyEncoding),Y=J.format;return j={...j,keyEncoding:Y},re!==this.db&&(j.sublevel=null),this._del(re.prefixKey(J.encode(Z),Y),j),this[A].push({...te,type:"del",key:Z}),this}_del(Z,j){}clear(){if("open"!==this[R])throw new E("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[A]=[],this}_clear(){}write(Z,j){return j=k(Z,j),j=p(j,x),Z=H(Z),"open"!==this[R]?this.nextTick(j,new E("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):0===this.length?this.close(j):(this[R]="writing",this._write(Z,G=>{this[R]="closing",this[F].push(()=>j(G)),G||this.db.emit("batch",this[A]),this._close(this[O])})),j[x]}_write(Z,j){}close(Z){return Z=p(Z,x),"closing"===this[R]?this[F].push(Z):"closed"===this[R]?this.nextTick(Z):(this[F].push(Z),"writing"!==this[R]&&(this[R]="closing",this._close(this[O]))),Z[x]}_close(Z){this.nextTick(Z)}[O](){this[R]="closed",this.db.detachResource(this);const Z=this[F];this[F]=[];for(const j of Z)j()}}},63294:(Fe,z,_)=>{"use strict";var p=_(53344).default,E=_(42958).default;const{fromCallback:k}=_(42381),H=_(61747),{getOptions:x,getCallback:R}=_(32856),A=Symbol("promise"),O=Symbol("callback"),F=Symbol("working"),L=Symbol("handleOne"),I=Symbol("handleMany"),Z=Symbol("autoClose"),j=Symbol("finishWork"),G=Symbol("returnMany"),re=Symbol("closing"),te=Symbol("handleClose"),J=Symbol("closed"),Y=Symbol("closeCallbacks"),oe=Symbol("keyEncoding"),ae=Symbol("valueEncoding"),se=Symbol("abortOnClose"),de=Symbol("legacy"),le=Symbol("keys"),we=Symbol("values"),xe=Symbol("limit"),Ce=Symbol("count"),C=Object.freeze({}),a=()=>{};let u=!1;class y{constructor(s,v,W){if("object"!=typeof s||null===s)throw new TypeError("The first argument must be an abstract-level database, received "+(null===s?"null":typeof s));if("object"!=typeof v||null===v)throw new TypeError("The second argument must be an options object");this[J]=!1,this[Y]=[],this[F]=!1,this[re]=!1,this[Z]=!1,this[O]=null,this[L]=this[L].bind(this),this[I]=this[I].bind(this),this[te]=this[te].bind(this),this[oe]=v[oe],this[ae]=v[ae],this[de]=W,this[xe]=Number.isInteger(v.limit)&&v.limit>=0?v.limit:1/0,this[Ce]=0,this[se]=!!v.abortOnClose,this.db=s,this.db.attachResource(this),this.nextTick=s.nextTick}get count(){return this[Ce]}get limit(){return this[xe]}next(s){let v;if(void 0===s)v=new Promise((W,K)=>{s=(ee,ce,_e)=>{ee?K(ee):this[de]?void 0===ce&&void 0===_e?W():W([ce,_e]):W(ce)}});else if("function"!=typeof s)throw new TypeError("Callback must be a function");return this[re]?this.nextTick(s,new H("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[F]?this.nextTick(s,new H("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[F]=!0,this[O]=s,this[Ce]>=this[xe]?this.nextTick(this[L],null):this._next(this[L])),v}_next(s){this.nextTick(s)}nextv(s,v,W){return W=R(v,W),W=k(W,A),v=x(v,C),Number.isInteger(s)?(this[re]?this.nextTick(W,new H("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[F]?this.nextTick(W,new H("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(s<1&&(s=1),this[xe]<1/0&&(s=Math.min(s,this[xe]-this[Ce])),this[F]=!0,this[O]=W,s<=0?this.nextTick(this[I],null,[]):this._nextv(s,v,this[I])),W[A]):(this.nextTick(W,new TypeError("The first argument 'size' must be an integer")),W[A])}_nextv(s,v,W){const K=[],ee=(ce,_e,Pe)=>ce?W(ce):(this[de]?void 0===_e&&void 0===Pe:void 0===_e)?W(null,K):(K.push(this[de]?[_e,Pe]:_e),void(K.length===s?W(null,K):this._next(ee)));this._next(ee)}all(s,v){return v=R(s,v),v=k(v,A),s=x(s,C),this[re]?this.nextTick(v,new H("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[F]?this.nextTick(v,new H("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[F]=!0,this[O]=v,this[Z]=!0,this[Ce]>=this[xe]?this.nextTick(this[I],null,[]):this._all(s,this[I])),v[A]}_all(s,v){let W=this[Ce];const K=[],ee=()=>{const _e=this[xe]<1/0?Math.min(1e3,this[xe]-W):1e3;_e<=0?this.nextTick(v,null,K):this._nextv(_e,C,ce)},ce=(_e,Pe)=>{_e?v(_e):0===Pe.length?v(null,K):(K.push.apply(K,Pe),W+=Pe.length,ee())};ee()}[j](){const s=this[O];return this[se]&&null===s?a:(this[F]=!1,this[O]=null,this[re]&&this._close(this[te]),s)}[G](s,v,W){this[Z]?this.close(s.bind(null,v,W)):s(v,W)}seek(s,v){if(v=x(v,C),!this[re]){if(this[F])throw new H("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{const W=this.db.keyEncoding(v.keyEncoding||this[oe]),K=W.format;v.keyEncoding!==K&&(v={...v,keyEncoding:K});const ee=this.db.prefixKey(W.encode(s),K);this._seek(ee,v)}}}_seek(s,v){throw new H("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(s){return s=k(s,A),this[J]?this.nextTick(s):this[re]?this[Y].push(s):(this[re]=!0,this[Y].push(s),this[F]?this[se]&&this[j]()(new H("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[te])),s[A]}_close(s){this.nextTick(s)}[te](){this[J]=!0,this.db.detachResource(this);const s=this[Y];this[Y]=[];for(const v of s)v()}[Symbol.asyncIterator](){var s=this;return E(function*(){try{let v;for(;void 0!==(v=yield p(s.next()));)yield v}finally{s[J]||(yield p(s.close()))}})()}}class g extends y{constructor(s,v){super(s,v,!0),this[le]=!1!==v.keys,this[we]=!1!==v.values}[L](s,v,W){const K=this[j]();if(s)return K(s);try{v=this[le]&&void 0!==v?this[oe].decode(v):void 0,W=this[we]&&void 0!==W?this[ae].decode(W):void 0}catch(ee){return K(new N("entry",ee))}void 0===v&&void 0===W||this[Ce]++,K(null,v,W)}[I](s,v){const W=this[j]();if(s)return this[G](W,s);try{for(const K of v){const ee=K[0],ce=K[1];K[0]=this[le]&&void 0!==ee?this[oe].decode(ee):void 0,K[1]=this[we]&&void 0!==ce?this[ae].decode(ce):void 0}}catch(K){return this[G](W,new N("entries",K))}this[Ce]+=v.length,this[G](W,null,v)}end(s){return!u&&typeof console<"u"&&(u=!0,console.warn(new H("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(s)}}class N extends H{constructor(s,v){super(`Iterator could not decode ${s}`,{code:"LEVEL_DECODE_ERROR",cause:v})}}for(const M of["_ended property","_nexting property","_end method"])Object.defineProperty(g.prototype,M.split(" ")[0],{get(){throw new H(`The ${M} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new H(`The ${M} has been removed`,{code:"LEVEL_LEGACY"})}});g.keyEncoding=oe,g.valueEncoding=ae,z.AbstractIterator=g,z.AbstractKeyIterator=class S extends y{constructor(s,v){super(s,v,!1)}[L](s,v){const W=this[j]();if(s)return W(s);try{v=void 0!==v?this[oe].decode(v):void 0}catch(K){return W(new N("key",K))}void 0!==v&&this[Ce]++,W(null,v)}[I](s,v){const W=this[j]();if(s)return this[G](W,s);try{for(let K=0;K<v.length;K++){const ee=v[K];v[K]=void 0!==ee?this[oe].decode(ee):void 0}}catch(K){return this[G](W,new N("keys",K))}this[Ce]+=v.length,this[G](W,null,v)}},z.AbstractValueIterator=class T extends y{constructor(s,v){super(s,v,!1)}[L](s,v){const W=this[j]();if(s)return W(s);try{v=void 0!==v?this[ae].decode(v):void 0}catch(K){return W(new N("value",K))}void 0!==v&&this[Ce]++,W(null,v)}[I](s,v){const W=this[j]();if(s)return this[G](W,s);try{for(let K=0;K<v.length;K++){const ee=v[K];v[K]=void 0!==ee?this[ae].decode(ee):void 0}}catch(K){return this[G](W,new N("values",K))}this[Ce]+=v.length,this[G](W,null,v)}}},83764:(Fe,z,_)=>{"use strict";const{supports:p}=_(89061),{Transcoder:E}=_(25006),{EventEmitter:k}=_(44356),{fromCallback:H}=_(42381),x=_(61747),{AbstractIterator:R}=_(63294),{DefaultKeyIterator:A,DefaultValueIterator:O}=_(48335),{DeferredIterator:F,DeferredKeyIterator:L,DeferredValueIterator:I}=_(92745),{DefaultChainedBatch:Z}=_(45776),{getCallback:j,getOptions:G}=_(32856),re=_(4287),te=Symbol("promise"),J=Symbol("landed"),Y=Symbol("resources"),oe=Symbol("closeResources"),ae=Symbol("operations"),se=Symbol("undefer"),de=Symbol("deferOpen"),le=Symbol("options"),we=Symbol("status"),xe=Symbol("defaultOptions"),Ce=Symbol("transcoder"),C=Symbol("keyEncoding"),a=Symbol("valueEncoding"),u=()=>{};class y extends k{constructor(M,s){if(super(),"object"!=typeof M||null===M)throw new TypeError("The first argument 'manifest' must be an object");s=G(s);const{keyEncoding:v,valueEncoding:W,passive:K,...ee}=s;this[Y]=new Set,this[ae]=[],this[de]=!0,this[le]=ee,this[we]="opening",this.supports=p(M,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:!1!==M.snapshots,permanence:!1!==M.permanence,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:M.encodings||{},events:Object.assign({},M.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[Ce]=new E(T(this)),this[C]=this[Ce].encoding(v||"utf8"),this[a]=this[Ce].encoding(W||"utf8");for(const ce of this[Ce].encodings())this.supports.encodings[ce.commonName]||(this.supports.encodings[ce.commonName]=!0);this[xe]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[C].commonName,valueEncoding:this[a].commonName}),key:Object.freeze({keyEncoding:this[C].commonName})},this.nextTick(()=>{this[de]&&this.open({passive:!1},u)})}get status(){return this[we]}keyEncoding(M){return this[Ce].encoding(M??this[C])}valueEncoding(M){return this[Ce].encoding(M??this[a])}open(M,s){s=j(M,s),s=H(s,te),(M={...this[le],...G(M)}).createIfMissing=!1!==M.createIfMissing,M.errorIfExists=!!M.errorIfExists;const v=W=>{"closing"===this[we]||"opening"===this[we]?this.once(J,W?()=>v(W):v):"open"!==this[we]?s(new x("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:W})):s()};return M.passive?"opening"===this[we]?this.once(J,v):this.nextTick(v):"closed"===this[we]||this[de]?(this[de]=!1,this[we]="opening",this.emit("opening"),this._open(M,W=>{if(W)return this[we]="closed",this[oe](()=>{this.emit(J),v(W)}),void this[se]();this[we]="open",this[se](),this.emit(J),"open"===this[we]&&this.emit("open"),"open"===this[we]&&this.emit("ready"),v()})):"open"===this[we]?this.nextTick(v):this.once(J,()=>this.open(M,s)),s[te]}_open(M,s){this.nextTick(s)}close(M){M=H(M,te);const s=v=>{"opening"===this[we]||"closing"===this[we]?this.once(J,v?s(v):s):"closed"!==this[we]?M(new x("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:v})):M()};if("open"===this[we]){this[we]="closing",this.emit("closing");const v=W=>{this[we]="open",this[se](),this.emit(J),s(W)};this[oe](()=>{this._close(W=>{if(W)return v(W);this[we]="closed",this[se](),this.emit(J),"closed"===this[we]&&this.emit("closed"),s()})})}else"closed"===this[we]?this.nextTick(s):this.once(J,()=>this.close(M));return M[te]}[oe](M){if(0===this[Y].size)return this.nextTick(M);let s=this[Y].size,v=!0;const W=()=>{0==--s&&(v?this.nextTick(M):M())};for(const K of this[Y])K.close(W);v=!1,this[Y].clear()}_close(M){this.nextTick(M)}get(M,s,v){if(v=j(s,v),v=H(v,te),s=G(s,this[xe].entry),"opening"===this[we])return this.defer(()=>this.get(M,s,v)),v[te];if(S(this,v))return v[te];const W=this._checkKey(M);if(W)return this.nextTick(v,W),v[te];const K=this.keyEncoding(s.keyEncoding),ee=this.valueEncoding(s.valueEncoding),ce=K.format,_e=ee.format;return(s.keyEncoding!==ce||s.valueEncoding!==_e)&&(s=Object.assign({},s,{keyEncoding:ce,valueEncoding:_e})),this._get(this.prefixKey(K.encode(M),ce),s,(Pe,$e)=>{if(Pe)return("LEVEL_NOT_FOUND"===Pe.code||Pe.notFound||/NotFound/i.test(Pe))&&(Pe.code||(Pe.code="LEVEL_NOT_FOUND"),Pe.notFound||(Pe.notFound=!0),Pe.status||(Pe.status=404)),v(Pe);try{$e=ee.decode($e)}catch(Se){return v(new x("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:Se}))}v(null,$e)}),v[te]}_get(M,s,v){this.nextTick(v,new Error("NotFound"))}getMany(M,s,v){if(v=j(s,v),v=H(v,te),s=G(s,this[xe].entry),"opening"===this[we])return this.defer(()=>this.getMany(M,s,v)),v[te];if(S(this,v))return v[te];if(!Array.isArray(M))return this.nextTick(v,new TypeError("The first argument 'keys' must be an array")),v[te];if(0===M.length)return this.nextTick(v,null,[]),v[te];const W=this.keyEncoding(s.keyEncoding),K=this.valueEncoding(s.valueEncoding),ee=W.format,ce=K.format;(s.keyEncoding!==ee||s.valueEncoding!==ce)&&(s=Object.assign({},s,{keyEncoding:ee,valueEncoding:ce}));const _e=new Array(M.length);for(let Pe=0;Pe<M.length;Pe++){const $e=M[Pe],Se=this._checkKey($e);if(Se)return this.nextTick(v,Se),v[te];_e[Pe]=this.prefixKey(W.encode($e),ee)}return this._getMany(_e,s,(Pe,$e)=>{if(Pe)return v(Pe);try{for(let Se=0;Se<$e.length;Se++)void 0!==$e[Se]&&($e[Se]=K.decode($e[Se]))}catch(Se){return v(new x(`Could not decode one or more of ${$e.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:Se}))}v(null,$e)}),v[te]}_getMany(M,s,v){this.nextTick(v,null,new Array(M.length).fill(void 0))}put(M,s,v,W){if(W=j(v,W),W=H(W,te),v=G(v,this[xe].entry),"opening"===this[we])return this.defer(()=>this.put(M,s,v,W)),W[te];if(S(this,W))return W[te];const K=this._checkKey(M)||this._checkValue(s);if(K)return this.nextTick(W,K),W[te];const ee=this.keyEncoding(v.keyEncoding),ce=this.valueEncoding(v.valueEncoding),_e=ee.format,Pe=ce.format;(v.keyEncoding!==_e||v.valueEncoding!==Pe)&&(v=Object.assign({},v,{keyEncoding:_e,valueEncoding:Pe}));const $e=this.prefixKey(ee.encode(M),_e),Se=ce.encode(s);return this._put($e,Se,v,be=>{if(be)return W(be);this.emit("put",M,s),W()}),W[te]}_put(M,s,v,W){this.nextTick(W)}del(M,s,v){if(v=j(s,v),v=H(v,te),s=G(s,this[xe].key),"opening"===this[we])return this.defer(()=>this.del(M,s,v)),v[te];if(S(this,v))return v[te];const W=this._checkKey(M);if(W)return this.nextTick(v,W),v[te];const K=this.keyEncoding(s.keyEncoding),ee=K.format;return s.keyEncoding!==ee&&(s=Object.assign({},s,{keyEncoding:ee})),this._del(this.prefixKey(K.encode(M),ee),s,ce=>{if(ce)return v(ce);this.emit("del",M),v()}),v[te]}_del(M,s,v){this.nextTick(v)}batch(M,s,v){if(!arguments.length){if("opening"===this[we])return new Z(this);if("open"!==this[we])throw new x("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(v="function"==typeof M?M:j(s,v),v=H(v,te),s=G(s,this[xe].empty),"opening"===this[we])return this.defer(()=>this.batch(M,s,v)),v[te];if(S(this,v))return v[te];if(!Array.isArray(M))return this.nextTick(v,new TypeError("The first argument 'operations' must be an array")),v[te];if(0===M.length)return this.nextTick(v),v[te];const W=new Array(M.length),{keyEncoding:K,valueEncoding:ee,...ce}=s;for(let _e=0;_e<M.length;_e++){if("object"!=typeof M[_e]||null===M[_e])return this.nextTick(v,new TypeError("A batch operation must be an object")),v[te];const Pe=Object.assign({},M[_e]);if("put"!==Pe.type&&"del"!==Pe.type)return this.nextTick(v,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),v[te];const $e=this._checkKey(Pe.key);if($e)return this.nextTick(v,$e),v[te];const Se=null!=Pe.sublevel?Pe.sublevel:this,be=Se.keyEncoding(Pe.keyEncoding||K),Ne=be.format;if(Pe.key=Se.prefixKey(be.encode(Pe.key),Ne),Pe.keyEncoding=Ne,"put"===Pe.type){const ye=this._checkValue(Pe.value);if(ye)return this.nextTick(v,ye),v[te];const Te=Se.valueEncoding(Pe.valueEncoding||ee);Pe.value=Te.encode(Pe.value),Pe.valueEncoding=Te.format}Se!==this&&(Pe.sublevel=null),W[_e]=Pe}return this._batch(W,ce,_e=>{if(_e)return v(_e);this.emit("batch",M),v()}),v[te]}_batch(M,s,v){this.nextTick(v)}sublevel(M,s){return this._sublevel(M,g.defaults(s))}_sublevel(M,s){return new g(this,M,s)}prefixKey(M,s){return M}clear(M,s){if(s=j(M,s),s=H(s,te),M=G(M,this[xe].empty),"opening"===this[we])return this.defer(()=>this.clear(M,s)),s[te];if(S(this,s))return s[te];const v=M,W=this.keyEncoding(M.keyEncoding);return(M=re(M,W)).keyEncoding=W.format,0===M.limit?this.nextTick(s):this._clear(M,K=>{if(K)return s(K);this.emit("clear",v),s()}),s[te]}_clear(M,s){this.nextTick(s)}iterator(M){const s=this.keyEncoding(M&&M.keyEncoding),v=this.valueEncoding(M&&M.valueEncoding);if((M=re(M,s)).keys=!1!==M.keys,M.values=!1!==M.values,M[R.keyEncoding]=s,M[R.valueEncoding]=v,M.keyEncoding=s.format,M.valueEncoding=v.format,"opening"===this[we])return new F(this,M);if("open"!==this[we])throw new x("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(M)}_iterator(M){return new R(this,M)}keys(M){const s=this.keyEncoding(M&&M.keyEncoding),v=this.valueEncoding(M&&M.valueEncoding);if((M=re(M,s))[R.keyEncoding]=s,M[R.valueEncoding]=v,M.keyEncoding=s.format,M.valueEncoding=v.format,"opening"===this[we])return new L(this,M);if("open"!==this[we])throw new x("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(M)}_keys(M){return new A(this,M)}values(M){const s=this.keyEncoding(M&&M.keyEncoding),v=this.valueEncoding(M&&M.valueEncoding);if((M=re(M,s))[R.keyEncoding]=s,M[R.valueEncoding]=v,M.keyEncoding=s.format,M.valueEncoding=v.format,"opening"===this[we])return new I(this,M);if("open"!==this[we])throw new x("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(M)}_values(M){return new O(this,M)}defer(M){if("function"!=typeof M)throw new TypeError("The first argument must be a function");this[ae].push(M)}[se](){if(0===this[ae].length)return;const M=this[ae];this[ae]=[];for(const s of M)s()}attachResource(M){if("object"!=typeof M||null===M||"function"!=typeof M.close)throw new TypeError("The first argument must be a resource object");this[Y].add(M)}detachResource(M){this[Y].delete(M)}_chainedBatch(){return new Z(this)}_checkKey(M){if(null==M)return new x("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(M){if(null==M)return new x("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}}y.prototype.nextTick=_(24585);const{AbstractSublevel:g}=_(25416)({AbstractLevel:y});z.AbstractLevel=y,z.AbstractSublevel=g;const S=function(N,M){return"open"!==N[we]&&(N.nextTick(M,new x("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0)},T=function(N){return Object.keys(N.supports.encodings).filter(M=>!!N.supports.encodings[M])}},75929:(Fe,z,_)=>{"use strict";z.AbstractLevel=_(83764).AbstractLevel,z.AbstractSublevel=_(83764).AbstractSublevel,z.AbstractIterator=_(63294).AbstractIterator,z.AbstractKeyIterator=_(63294).AbstractKeyIterator,z.AbstractValueIterator=_(63294).AbstractValueIterator,z.AbstractChainedBatch=_(91463).AbstractChainedBatch},47519:(Fe,z,_)=>{"use strict";const{AbstractIterator:p,AbstractKeyIterator:E,AbstractValueIterator:k}=_(63294),H=Symbol("unfix"),x=Symbol("iterator"),R=Symbol("handleOne"),A=Symbol("handleMany"),O=Symbol("callback");class F extends p{constructor(j,G,re,te){super(j,G),this[x]=re,this[H]=te,this[R]=this[R].bind(this),this[A]=this[A].bind(this),this[O]=null}[R](j,G,re){const te=this[O];if(j)return te(j);void 0!==G&&(G=this[H](G)),te(j,G,re)}[A](j,G){const re=this[O];if(j)return re(j);for(const te of G){const J=te[0];void 0!==J&&(te[0]=this[H](J))}re(j,G)}}class L extends E{constructor(j,G,re,te){super(j,G),this[x]=re,this[H]=te,this[R]=this[R].bind(this),this[A]=this[A].bind(this),this[O]=null}[R](j,G){const re=this[O];if(j)return re(j);void 0!==G&&(G=this[H](G)),re(j,G)}[A](j,G){const re=this[O];if(j)return re(j);for(let te=0;te<G.length;te++){const J=G[te];void 0!==J&&(G[te]=this[H](J))}re(j,G)}}class I extends k{constructor(j,G,re){super(j,G),this[x]=re}}for(const Z of[F,L])Z.prototype._next=function(j){this[O]=j,this[x].next(this[R])},Z.prototype._nextv=function(j,G,re){this[O]=re,this[x].nextv(j,G,this[A])},Z.prototype._all=function(j,G){this[O]=G,this[x].all(j,this[A])};for(const Z of[I])Z.prototype._next=function(j){this[x].next(j)},Z.prototype._nextv=function(j,G,re){this[x].nextv(j,G,re)},Z.prototype._all=function(j,G){this[x].all(j,G)};for(const Z of[F,L,I])Z.prototype._seek=function(j,G){this[x].seek(j,G)},Z.prototype._close=function(j){this[x].close(j)};z.AbstractSublevelIterator=F,z.AbstractSublevelKeyIterator=L,z.AbstractSublevelValueIterator=I},25416:(Fe,z,_)=>{"use strict";const p=_(61747),{Buffer:E}=_(1067)||{},{AbstractSublevelIterator:k,AbstractSublevelKeyIterator:H,AbstractSublevelValueIterator:x}=_(47519),R=Symbol("prefix"),A=Symbol("upperBound"),O=Symbol("prefixRange"),F=Symbol("parent"),L=Symbol("unfix"),I=new TextEncoder,Z={separator:"!"};Fe.exports=function({AbstractLevel:Y}){class oe extends Y{static defaults(se){if("string"==typeof se)throw new p("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(se&&se.open)throw new p("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return null==se?Z:se.separator?se:{...se,separator:"!"}}constructor(se,de,le){const{separator:we,manifest:xe,...Ce}=oe.defaults(le);de=J(de,we);const C=we.charCodeAt(0)+1,a=se[F]||se;if(!I.encode(de).every(g=>g>C&&g<127))throw new p(`Prefix must use bytes > ${C} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(j(a,xe),Ce);const u=(se.prefix||"")+we+de+we,y=u.slice(0,-1)+String.fromCharCode(C);this[F]=a,this[R]=new re(u),this[A]=new re(y),this[L]=new te,this.nextTick=a.nextTick}prefixKey(se,de){if("utf8"===de)return this[R].utf8+se;if(0===se.byteLength)return this[R][de];if("view"===de){const le=this[R].view,we=new Uint8Array(le.byteLength+se.byteLength);return we.set(le,0),we.set(se,le.byteLength),we}{const le=this[R].buffer;return E.concat([le,se],le.byteLength+se.byteLength)}}[O](se,de){void 0!==se.gte?se.gte=this.prefixKey(se.gte,de):void 0!==se.gt?se.gt=this.prefixKey(se.gt,de):se.gte=this[R][de],void 0!==se.lte?se.lte=this.prefixKey(se.lte,de):void 0!==se.lt?se.lt=this.prefixKey(se.lt,de):se.lte=this[A][de]}get prefix(){return this[R].utf8}get db(){return this[F]}_open(se,de){this[F].open({passive:!0},de)}_put(se,de,le,we){this[F].put(se,de,le,we)}_get(se,de,le){this[F].get(se,de,le)}_getMany(se,de,le){this[F].getMany(se,de,le)}_del(se,de,le){this[F].del(se,de,le)}_batch(se,de,le){this[F].batch(se,de,le)}_clear(se,de){this[O](se,se.keyEncoding),this[F].clear(se,de)}_iterator(se){this[O](se,se.keyEncoding);const de=this[F].iterator(se),le=this[L].get(this[R].utf8.length,se.keyEncoding);return new k(this,se,de,le)}_keys(se){this[O](se,se.keyEncoding);const de=this[F].keys(se),le=this[L].get(this[R].utf8.length,se.keyEncoding);return new H(this,se,de,le)}_values(se){this[O](se,se.keyEncoding);const de=this[F].values(se);return new x(this,se,de)}}return{AbstractSublevel:oe}};const j=function(Y,oe){return{...Y.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...oe,encodings:{utf8:G(Y,"utf8"),buffer:G(Y,"buffer"),view:G(Y,"view")}}},G=function(Y,oe){return!!Y.supports.encodings[oe]&&Y.keyEncoding(oe).name===oe};class re{constructor(oe){this.utf8=oe,this.view=I.encode(oe),this.buffer=E?E.from(this.view.buffer,0,this.view.byteLength):{}}}class te{constructor(){this.cache=new Map}get(oe,ae){let se=this.cache.get(ae);return void 0===se&&(se="view"===ae?function(de,le){return le.subarray(de)}.bind(null,oe):function(de,le){return le.slice(de)}.bind(null,oe),this.cache.set(ae,se)),se}}const J=function(Y,oe){let ae=0,se=Y.length;for(;ae<se&&Y[ae]===oe;)ae++;for(;se>ae&&Y[se-1]===oe;)se--;return Y.slice(ae,se)}},32856:(Fe,z)=>{"use strict";z.getCallback=function(_,p){return"function"==typeof _?_:p},z.getOptions=function(_,p){return"object"==typeof _&&null!==_?_:void 0!==p?p:{}}},45776:(Fe,z,_)=>{"use strict";const{AbstractChainedBatch:p}=_(91463),E=_(61747),k=Symbol("encoded");z.DefaultChainedBatch=class H extends p{constructor(R){super(R),this[k]=[]}_put(R,A,O){this[k].push({...O,type:"put",key:R,value:A})}_del(R,A){this[k].push({...A,type:"del",key:R})}_clear(){this[k]=[]}_write(R,A){"opening"===this.db.status?this.db.defer(()=>this._write(R,A)):"open"===this.db.status?0===this[k].length?this.nextTick(A):this.db._batch(this[k],R,A):this.nextTick(A,new E("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}}},48335:(Fe,z,_)=>{"use strict";const{AbstractKeyIterator:p,AbstractValueIterator:E}=_(63294),k=Symbol("iterator"),H=Symbol("callback"),x=Symbol("handleOne"),R=Symbol("handleMany");class A extends p{constructor(L,I){super(L,I),this[k]=L.iterator({...I,keys:!0,values:!1}),this[x]=this[x].bind(this),this[R]=this[R].bind(this)}}class O extends E{constructor(L,I){super(L,I),this[k]=L.iterator({...I,keys:!1,values:!0}),this[x]=this[x].bind(this),this[R]=this[R].bind(this)}}for(const F of[A,O]){const L=F===A,I=L?Z=>Z[0]:Z=>Z[1];F.prototype._next=function(Z){this[H]=Z,this[k].next(this[x])},F.prototype[x]=function(Z,j,G){const re=this[H];Z?re(Z):re(null,L?j:G)},F.prototype._nextv=function(Z,j,G){this[H]=G,this[k].nextv(Z,j,this[R])},F.prototype._all=function(Z,j){this[H]=j,this[k].all(Z,this[R])},F.prototype[R]=function(Z,j){const G=this[H];Z?G(Z):G(null,j.map(I))},F.prototype._seek=function(Z,j){this[k].seek(Z,j)},F.prototype._close=function(Z){this[k].close(Z)}}z.DefaultKeyIterator=A,z.DefaultValueIterator=O},92745:(Fe,z,_)=>{"use strict";const{AbstractIterator:p,AbstractKeyIterator:E,AbstractValueIterator:k}=_(63294),H=_(61747),x=Symbol("nut"),R=Symbol("undefer"),A=Symbol("factory");class O extends p{constructor(Z,j){super(Z,j),this[x]=null,this[A]=()=>Z.iterator(j),this.db.defer(()=>this[R]())}}class F extends E{constructor(Z,j){super(Z,j),this[x]=null,this[A]=()=>Z.keys(j),this.db.defer(()=>this[R]())}}class L extends k{constructor(Z,j){super(Z,j),this[x]=null,this[A]=()=>Z.values(j),this.db.defer(()=>this[R]())}}for(const I of[O,F,L])I.prototype[R]=function(){"open"===this.db.status&&(this[x]=this[A]())},I.prototype._next=function(Z){null!==this[x]?this[x].next(Z):"opening"===this.db.status?this.db.defer(()=>this._next(Z)):this.nextTick(Z,new H("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},I.prototype._nextv=function(Z,j,G){null!==this[x]?this[x].nextv(Z,j,G):"opening"===this.db.status?this.db.defer(()=>this._nextv(Z,j,G)):this.nextTick(G,new H("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},I.prototype._all=function(Z,j){null!==this[x]?this[x].all(j):"opening"===this.db.status?this.db.defer(()=>this._all(Z,j)):this.nextTick(j,new H("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},I.prototype._seek=function(Z,j){null!==this[x]?this[x]._seek(Z,j):"opening"===this.db.status&&this.db.defer(()=>this._seek(Z,j))},I.prototype._close=function(Z){null!==this[x]?this[x].close(Z):"opening"===this.db.status?this.db.defer(()=>this._close(Z)):this.nextTick(Z)};z.DeferredIterator=O,z.DeferredKeyIterator=F,z.DeferredValueIterator=L},24585:(Fe,z,_)=>{"use strict";const p=_(24515);Fe.exports=function(E,...k){p(0===k.length?E:()=>E(...k))}},4287:(Fe,z,_)=>{"use strict";const p=_(61747),E=Object.prototype.hasOwnProperty,k=new Set(["lt","lte","gt","gte"]);Fe.exports=function(H,x){const R={};for(const A in H)if(E.call(H,A)&&"keyEncoding"!==A&&"valueEncoding"!==A){if("start"===A||"end"===A)throw new p(`The legacy range option '${A}' has been removed`,{code:"LEVEL_LEGACY"});if("encoding"===A)throw new p("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});R[A]=k.has(A)?x.encode(H[A]):H[A]}return R.reverse=!!R.reverse,R.limit=Number.isInteger(R.limit)&&R.limit>=0?R.limit:-1,R}},1067:(Fe,z,_)=>{"use strict";const p=_(13981),E=_(22020),k="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=A,z.SlowBuffer=function Y(B){return+B!=B&&(B=0),A.alloc(+B)},z.INSPECT_MAX_BYTES=50;const H=2147483647;function R(B){if(B>H)throw new RangeError('The value "'+B+'" is invalid for option "size"');const w=new Uint8Array(B);return Object.setPrototypeOf(w,A.prototype),w}function A(B,w,m){if("number"==typeof B){if("string"==typeof w)throw new TypeError('The "string" argument must be of type string. Received type number');return I(B)}return O(B,w,m)}function O(B,w,m){if("string"==typeof B)return function Z(B,w){if(("string"!=typeof w||""===w)&&(w="utf8"),!A.isEncoding(w))throw new TypeError("Unknown encoding: "+w);const m=0|oe(B,w);let U=R(m);const ne=U.write(B,w);return ne!==m&&(U=U.slice(0,ne)),U}(B,w);if(ArrayBuffer.isView(B))return function G(B){if(Le(B,Uint8Array)){const w=new Uint8Array(B);return re(w.buffer,w.byteOffset,w.byteLength)}return j(B)}(B);if(null==B)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(Le(B,ArrayBuffer)||B&&Le(B.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Le(B,SharedArrayBuffer)||B&&Le(B.buffer,SharedArrayBuffer)))return re(B,w,m);if("number"==typeof B)throw new TypeError('The "value" argument must not be of type number. Received type number');const U=B.valueOf&&B.valueOf();if(null!=U&&U!==B)return A.from(U,w,m);const ne=function te(B){if(A.isBuffer(B)){const w=0|J(B.length),m=R(w);return 0===m.length||B.copy(m,0,0,w),m}return void 0!==B.length?"number"!=typeof B.length||_t(B.length)?R(0):j(B):"Buffer"===B.type&&Array.isArray(B.data)?j(B.data):void 0}(B);if(ne)return ne;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof B[Symbol.toPrimitive])return A.from(B[Symbol.toPrimitive]("string"),w,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}function F(B){if("number"!=typeof B)throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function I(B){return F(B),R(B<0?0:0|J(B))}function j(B){const w=B.length<0?0:0|J(B.length),m=R(w);for(let U=0;U<w;U+=1)m[U]=255&B[U];return m}function re(B,w,m){if(w<0||B.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<w+(m||0))throw new RangeError('"length" is outside of buffer bounds');let U;return U=void 0===w&&void 0===m?new Uint8Array(B):void 0===m?new Uint8Array(B,w):new Uint8Array(B,w,m),Object.setPrototypeOf(U,A.prototype),U}function J(B){if(B>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|B}function oe(B,w){if(A.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||Le(B,ArrayBuffer))return B.byteLength;if("string"!=typeof B)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);const m=B.length,U=arguments.length>2&&!0===arguments[2];if(!U&&0===m)return 0;let ne=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return ie(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*m;case"hex":return m>>>1;case"base64":return ke(B).length;default:if(ne)return U?-1:ie(B).length;w=(""+w).toLowerCase(),ne=!0}}function ae(B,w,m){let U=!1;if((void 0===w||w<0)&&(w=0),w>this.length||((void 0===m||m>this.length)&&(m=this.length),m<=0)||(m>>>=0)<=(w>>>=0))return"";for(B||(B="utf8");;)switch(B){case"hex":return M(this,w,m);case"utf8":case"utf-8":return y(this,w,m);case"ascii":return T(this,w,m);case"latin1":case"binary":return N(this,w,m);case"base64":return u(this,w,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,w,m);default:if(U)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),U=!0}}function se(B,w,m){const U=B[w];B[w]=B[m],B[m]=U}function de(B,w,m,U,ne){if(0===B.length)return-1;if("string"==typeof m?(U=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),_t(m=+m)&&(m=ne?0:B.length-1),m<0&&(m=B.length+m),m>=B.length){if(ne)return-1;m=B.length-1}else if(m<0){if(!ne)return-1;m=0}if("string"==typeof w&&(w=A.from(w,U)),A.isBuffer(w))return 0===w.length?-1:le(B,w,m,U,ne);if("number"==typeof w)return w&=255,"function"==typeof Uint8Array.prototype.indexOf?ne?Uint8Array.prototype.indexOf.call(B,w,m):Uint8Array.prototype.lastIndexOf.call(B,w,m):le(B,[w],m,U,ne);throw new TypeError("val must be string, number or Buffer")}function le(B,w,m,U,ne){let gt,ge=1,Ae=B.length,Qe=w.length;if(void 0!==U&&("ucs2"===(U=String(U).toLowerCase())||"ucs-2"===U||"utf16le"===U||"utf-16le"===U)){if(B.length<2||w.length<2)return-1;ge=2,Ae/=2,Qe/=2,m/=2}function Bt(It,Gt){return 1===ge?It[Gt]:It.readUInt16BE(Gt*ge)}if(ne){let It=-1;for(gt=m;gt<Ae;gt++)if(Bt(B,gt)===Bt(w,-1===It?0:gt-It)){if(-1===It&&(It=gt),gt-It+1===Qe)return It*ge}else-1!==It&&(gt-=gt-It),It=-1}else for(m+Qe>Ae&&(m=Ae-Qe),gt=m;gt>=0;gt--){let It=!0;for(let Gt=0;Gt<Qe;Gt++)if(Bt(B,gt+Gt)!==Bt(w,Gt)){It=!1;break}if(It)return gt}return-1}function we(B,w,m,U){m=Number(m)||0;const ne=B.length-m;U?(U=Number(U))>ne&&(U=ne):U=ne;const ge=w.length;let Ae;for(U>ge/2&&(U=ge/2),Ae=0;Ae<U;++Ae){const Qe=parseInt(w.substr(2*Ae,2),16);if(_t(Qe))return Ae;B[m+Ae]=Qe}return Ae}function xe(B,w,m,U){return Ue(ie(w,B.length-m),B,m,U)}function Ce(B,w,m,U){return Ue(function ue(B){const w=[];for(let m=0;m<B.length;++m)w.push(255&B.charCodeAt(m));return w}(w),B,m,U)}function C(B,w,m,U){return Ue(ke(w),B,m,U)}function a(B,w,m,U){return Ue(function Ee(B,w){let m,U,ne;const ge=[];for(let Ae=0;Ae<B.length&&!((w-=2)<0);++Ae)m=B.charCodeAt(Ae),U=m>>8,ne=m%256,ge.push(ne),ge.push(U);return ge}(w,B.length-m),B,m,U)}function u(B,w,m){return p.fromByteArray(0===w&&m===B.length?B:B.slice(w,m))}function y(B,w,m){m=Math.min(B.length,m);const U=[];let ne=w;for(;ne<m;){const ge=B[ne];let Ae=null,Qe=ge>239?4:ge>223?3:ge>191?2:1;if(ne+Qe<=m){let Bt,gt,It,Gt;switch(Qe){case 1:ge<128&&(Ae=ge);break;case 2:Bt=B[ne+1],128==(192&Bt)&&(Gt=(31&ge)<<6|63&Bt,Gt>127&&(Ae=Gt));break;case 3:Bt=B[ne+1],gt=B[ne+2],128==(192&Bt)&&128==(192&gt)&&(Gt=(15&ge)<<12|(63&Bt)<<6|63&gt,Gt>2047&&(Gt<55296||Gt>57343)&&(Ae=Gt));break;case 4:Bt=B[ne+1],gt=B[ne+2],It=B[ne+3],128==(192&Bt)&&128==(192&gt)&&128==(192&It)&&(Gt=(15&ge)<<18|(63&Bt)<<12|(63&gt)<<6|63&It,Gt>65535&&Gt<1114112&&(Ae=Gt))}}null===Ae?(Ae=65533,Qe=1):Ae>65535&&(Ae-=65536,U.push(Ae>>>10&1023|55296),Ae=56320|1023&Ae),U.push(Ae),ne+=Qe}return function S(B){const w=B.length;if(w<=g)return String.fromCharCode.apply(String,B);let m="",U=0;for(;U<w;)m+=String.fromCharCode.apply(String,B.slice(U,U+=g));return m}(U)}z.kMaxLength=H,!(A.TYPED_ARRAY_SUPPORT=function x(){try{const B=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(B,w),42===B.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(B,w,m){return O(B,w,m)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(B,w,m){return function L(B,w,m){return F(B),B<=0?R(B):void 0!==w?"string"==typeof m?R(B).fill(w,m):R(B).fill(w):R(B)}(B,w,m)},A.allocUnsafe=function(B){return I(B)},A.allocUnsafeSlow=function(B){return I(B)},A.isBuffer=function(w){return null!=w&&!0===w._isBuffer&&w!==A.prototype},A.compare=function(w,m){if(Le(w,Uint8Array)&&(w=A.from(w,w.offset,w.byteLength)),Le(m,Uint8Array)&&(m=A.from(m,m.offset,m.byteLength)),!A.isBuffer(w)||!A.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===m)return 0;let U=w.length,ne=m.length;for(let ge=0,Ae=Math.min(U,ne);ge<Ae;++ge)if(w[ge]!==m[ge]){U=w[ge],ne=m[ge];break}return U<ne?-1:ne<U?1:0},A.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(w,m){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(0===w.length)return A.alloc(0);let U;if(void 0===m)for(m=0,U=0;U<w.length;++U)m+=w[U].length;const ne=A.allocUnsafe(m);let ge=0;for(U=0;U<w.length;++U){let Ae=w[U];if(Le(Ae,Uint8Array))ge+Ae.length>ne.length?(A.isBuffer(Ae)||(Ae=A.from(Ae)),Ae.copy(ne,ge)):Uint8Array.prototype.set.call(ne,Ae,ge);else{if(!A.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(ne,ge)}ge+=Ae.length}return ne},A.byteLength=oe,A.prototype._isBuffer=!0,A.prototype.swap16=function(){const w=this.length;if(w%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<w;m+=2)se(this,m,m+1);return this},A.prototype.swap32=function(){const w=this.length;if(w%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<w;m+=4)se(this,m,m+3),se(this,m+1,m+2);return this},A.prototype.swap64=function(){const w=this.length;if(w%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<w;m+=8)se(this,m,m+7),se(this,m+1,m+6),se(this,m+2,m+5),se(this,m+3,m+4);return this},A.prototype.toLocaleString=A.prototype.toString=function(){const w=this.length;return 0===w?"":0===arguments.length?y(this,0,w):ae.apply(this,arguments)},A.prototype.equals=function(w){if(!A.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w||0===A.compare(this,w)},A.prototype.inspect=function(){let w="";const m=z.INSPECT_MAX_BYTES;return w=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(w+=" ... "),"<Buffer "+w+">"},k&&(A.prototype[k]=A.prototype.inspect),A.prototype.compare=function(w,m,U,ne,ge){if(Le(w,Uint8Array)&&(w=A.from(w,w.offset,w.byteLength)),!A.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(void 0===m&&(m=0),void 0===U&&(U=w?w.length:0),void 0===ne&&(ne=0),void 0===ge&&(ge=this.length),m<0||U>w.length||ne<0||ge>this.length)throw new RangeError("out of range index");if(ne>=ge&&m>=U)return 0;if(ne>=ge)return-1;if(m>=U)return 1;if(this===w)return 0;let Ae=(ge>>>=0)-(ne>>>=0),Qe=(U>>>=0)-(m>>>=0);const Bt=Math.min(Ae,Qe),gt=this.slice(ne,ge),It=w.slice(m,U);for(let Gt=0;Gt<Bt;++Gt)if(gt[Gt]!==It[Gt]){Ae=gt[Gt],Qe=It[Gt];break}return Ae<Qe?-1:Qe<Ae?1:0},A.prototype.includes=function(w,m,U){return-1!==this.indexOf(w,m,U)},A.prototype.indexOf=function(w,m,U){return de(this,w,m,U,!0)},A.prototype.lastIndexOf=function(w,m,U){return de(this,w,m,U,!1)},A.prototype.write=function(w,m,U,ne){if(void 0===m)ne="utf8",U=this.length,m=0;else if(void 0===U&&"string"==typeof m)ne=m,U=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m>>>=0,isFinite(U)?(U>>>=0,void 0===ne&&(ne="utf8")):(ne=U,U=void 0)}const ge=this.length-m;if((void 0===U||U>ge)&&(U=ge),w.length>0&&(U<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");let Ae=!1;for(;;)switch(ne){case"hex":return we(this,w,m,U);case"utf8":case"utf-8":return xe(this,w,m,U);case"ascii":case"latin1":case"binary":return Ce(this,w,m,U);case"base64":return C(this,w,m,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,w,m,U);default:if(Ae)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),Ae=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const g=4096;function T(B,w,m){let U="";m=Math.min(B.length,m);for(let ne=w;ne<m;++ne)U+=String.fromCharCode(127&B[ne]);return U}function N(B,w,m){let U="";m=Math.min(B.length,m);for(let ne=w;ne<m;++ne)U+=String.fromCharCode(B[ne]);return U}function M(B,w,m){const U=B.length;(!w||w<0)&&(w=0),(!m||m<0||m>U)&&(m=U);let ne="";for(let ge=w;ge<m;++ge)ne+=Ve[B[ge]];return ne}function s(B,w,m){const U=B.slice(w,m);let ne="";for(let ge=0;ge<U.length-1;ge+=2)ne+=String.fromCharCode(U[ge]+256*U[ge+1]);return ne}function v(B,w,m){if(B%1!=0||B<0)throw new RangeError("offset is not uint");if(B+w>m)throw new RangeError("Trying to access beyond buffer length")}function W(B,w,m,U,ne,ge){if(!A.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>ne||w<ge)throw new RangeError('"value" argument is out of bounds');if(m+U>B.length)throw new RangeError("Index out of range")}function K(B,w,m,U,ne){ye(w,U,ne,B,m,7);let ge=Number(w&BigInt(4294967295));B[m++]=ge,ge>>=8,B[m++]=ge,ge>>=8,B[m++]=ge,ge>>=8,B[m++]=ge;let Ae=Number(w>>BigInt(32)&BigInt(4294967295));return B[m++]=Ae,Ae>>=8,B[m++]=Ae,Ae>>=8,B[m++]=Ae,Ae>>=8,B[m++]=Ae,m}function ee(B,w,m,U,ne){ye(w,U,ne,B,m,7);let ge=Number(w&BigInt(4294967295));B[m+7]=ge,ge>>=8,B[m+6]=ge,ge>>=8,B[m+5]=ge,ge>>=8,B[m+4]=ge;let Ae=Number(w>>BigInt(32)&BigInt(4294967295));return B[m+3]=Ae,Ae>>=8,B[m+2]=Ae,Ae>>=8,B[m+1]=Ae,Ae>>=8,B[m]=Ae,m+8}function ce(B,w,m,U,ne,ge){if(m+U>B.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function _e(B,w,m,U,ne){return w=+w,m>>>=0,ne||ce(B,0,m,4),E.write(B,w,m,U,23,4),m+4}function Pe(B,w,m,U,ne){return w=+w,m>>>=0,ne||ce(B,0,m,8),E.write(B,w,m,U,52,8),m+8}A.prototype.slice=function(w,m){const U=this.length;(w=~~w)<0?(w+=U)<0&&(w=0):w>U&&(w=U),(m=void 0===m?U:~~m)<0?(m+=U)<0&&(m=0):m>U&&(m=U),m<w&&(m=w);const ne=this.subarray(w,m);return Object.setPrototypeOf(ne,A.prototype),ne},A.prototype.readUintLE=A.prototype.readUIntLE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[w+Ae]*ge;return ne},A.prototype.readUintBE=A.prototype.readUIntBE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w+--m],ge=1;for(;m>0&&(ge*=256);)ne+=this[w+--m]*ge;return ne},A.prototype.readUint8=A.prototype.readUInt8=function(w,m){return w>>>=0,m||v(w,1,this.length),this[w]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(w,m){return w>>>=0,m||v(w,2,this.length),this[w]|this[w+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(w,m){return w>>>=0,m||v(w,2,this.length),this[w]<<8|this[w+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(w,m){return w>>>=0,m||v(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+16777216*this[w+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(w,m){return w>>>=0,m||v(w,4,this.length),16777216*this[w]+(this[w+1]<<16|this[w+2]<<8|this[w+3])},A.prototype.readBigUInt64LE=Be(function(w){Te(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=m+256*this[++w]+65536*this[++w]+this[++w]*2**24,ge=this[++w]+256*this[++w]+65536*this[++w]+U*2**24;return BigInt(ne)+(BigInt(ge)<<BigInt(32))}),A.prototype.readBigUInt64BE=Be(function(w){Te(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=m*2**24+65536*this[++w]+256*this[++w]+this[++w],ge=this[++w]*2**24+65536*this[++w]+256*this[++w]+U;return(BigInt(ne)<<BigInt(32))+BigInt(ge)}),A.prototype.readIntLE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[w+Ae]*ge;return ge*=128,ne>=ge&&(ne-=Math.pow(2,8*m)),ne},A.prototype.readIntBE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=m,ge=1,Ae=this[w+--ne];for(;ne>0&&(ge*=256);)Ae+=this[w+--ne]*ge;return ge*=128,Ae>=ge&&(Ae-=Math.pow(2,8*m)),Ae},A.prototype.readInt8=function(w,m){return w>>>=0,m||v(w,1,this.length),128&this[w]?-1*(255-this[w]+1):this[w]},A.prototype.readInt16LE=function(w,m){w>>>=0,m||v(w,2,this.length);const U=this[w]|this[w+1]<<8;return 32768&U?4294901760|U:U},A.prototype.readInt16BE=function(w,m){w>>>=0,m||v(w,2,this.length);const U=this[w+1]|this[w]<<8;return 32768&U?4294901760|U:U},A.prototype.readInt32LE=function(w,m){return w>>>=0,m||v(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},A.prototype.readInt32BE=function(w,m){return w>>>=0,m||v(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},A.prototype.readBigInt64LE=Be(function(w){Te(w>>>=0,"offset");const m=this[w],U=this[w+7];return(void 0===m||void 0===U)&&pe(w,this.length-8),(BigInt(this[w+4]+256*this[w+5]+65536*this[w+6]+(U<<24))<<BigInt(32))+BigInt(m+256*this[++w]+65536*this[++w]+this[++w]*2**24)}),A.prototype.readBigInt64BE=Be(function(w){Te(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=(m<<24)+65536*this[++w]+256*this[++w]+this[++w];return(BigInt(ne)<<BigInt(32))+BigInt(this[++w]*2**24+65536*this[++w]+256*this[++w]+U)}),A.prototype.readFloatLE=function(w,m){return w>>>=0,m||v(w,4,this.length),E.read(this,w,!0,23,4)},A.prototype.readFloatBE=function(w,m){return w>>>=0,m||v(w,4,this.length),E.read(this,w,!1,23,4)},A.prototype.readDoubleLE=function(w,m){return w>>>=0,m||v(w,8,this.length),E.read(this,w,!0,52,8)},A.prototype.readDoubleBE=function(w,m){return w>>>=0,m||v(w,8,this.length),E.read(this,w,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(w,m,U,ne){w=+w,m>>>=0,U>>>=0,ne||W(this,w,m,U,Math.pow(2,8*U)-1,0);let ge=1,Ae=0;for(this[m]=255&w;++Ae<U&&(ge*=256);)this[m+Ae]=w/ge&255;return m+U},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(w,m,U,ne){w=+w,m>>>=0,U>>>=0,ne||W(this,w,m,U,Math.pow(2,8*U)-1,0);let ge=U-1,Ae=1;for(this[m+ge]=255&w;--ge>=0&&(Ae*=256);)this[m+ge]=w/Ae&255;return m+U},A.prototype.writeUint8=A.prototype.writeUInt8=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,1,255,0),this[m]=255&w,m+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,65535,0),this[m]=255&w,this[m+1]=w>>>8,m+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,65535,0),this[m]=w>>>8,this[m+1]=255&w,m+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,4294967295,0),this[m+3]=w>>>24,this[m+2]=w>>>16,this[m+1]=w>>>8,this[m]=255&w,m+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,4294967295,0),this[m]=w>>>24,this[m+1]=w>>>16,this[m+2]=w>>>8,this[m+3]=255&w,m+4},A.prototype.writeBigUInt64LE=Be(function(w,m=0){return K(this,w,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=Be(function(w,m=0){return ee(this,w,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(w,m,U,ne){if(w=+w,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,w,m,U,Bt-1,-Bt)}let ge=0,Ae=1,Qe=0;for(this[m]=255&w;++ge<U&&(Ae*=256);)w<0&&0===Qe&&0!==this[m+ge-1]&&(Qe=1),this[m+ge]=(w/Ae|0)-Qe&255;return m+U},A.prototype.writeIntBE=function(w,m,U,ne){if(w=+w,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,w,m,U,Bt-1,-Bt)}let ge=U-1,Ae=1,Qe=0;for(this[m+ge]=255&w;--ge>=0&&(Ae*=256);)w<0&&0===Qe&&0!==this[m+ge+1]&&(Qe=1),this[m+ge]=(w/Ae|0)-Qe&255;return m+U},A.prototype.writeInt8=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,1,127,-128),w<0&&(w=255+w+1),this[m]=255&w,m+1},A.prototype.writeInt16LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,32767,-32768),this[m]=255&w,this[m+1]=w>>>8,m+2},A.prototype.writeInt16BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,32767,-32768),this[m]=w>>>8,this[m+1]=255&w,m+2},A.prototype.writeInt32LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,2147483647,-2147483648),this[m]=255&w,this[m+1]=w>>>8,this[m+2]=w>>>16,this[m+3]=w>>>24,m+4},A.prototype.writeInt32BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[m]=w>>>24,this[m+1]=w>>>16,this[m+2]=w>>>8,this[m+3]=255&w,m+4},A.prototype.writeBigInt64LE=Be(function(w,m=0){return K(this,w,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=Be(function(w,m=0){return ee(this,w,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeFloatLE=function(w,m,U){return _e(this,w,m,!0,U)},A.prototype.writeFloatBE=function(w,m,U){return _e(this,w,m,!1,U)},A.prototype.writeDoubleLE=function(w,m,U){return Pe(this,w,m,!0,U)},A.prototype.writeDoubleBE=function(w,m,U){return Pe(this,w,m,!1,U)},A.prototype.copy=function(w,m,U,ne){if(!A.isBuffer(w))throw new TypeError("argument should be a Buffer");if(U||(U=0),!ne&&0!==ne&&(ne=this.length),m>=w.length&&(m=w.length),m||(m=0),ne>0&&ne<U&&(ne=U),ne===U||0===w.length||0===this.length)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),w.length-m<ne-U&&(ne=w.length-m+U);const ge=ne-U;return this===w&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(m,U,ne):Uint8Array.prototype.set.call(w,this.subarray(U,ne),m),ge},A.prototype.fill=function(w,m,U,ne){if("string"==typeof w){if("string"==typeof m?(ne=m,m=0,U=this.length):"string"==typeof U&&(ne=U,U=this.length),void 0!==ne&&"string"!=typeof ne)throw new TypeError("encoding must be a string");if("string"==typeof ne&&!A.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(1===w.length){const Ae=w.charCodeAt(0);("utf8"===ne&&Ae<128||"latin1"===ne)&&(w=Ae)}}else"number"==typeof w?w&=255:"boolean"==typeof w&&(w=Number(w));if(m<0||this.length<m||this.length<U)throw new RangeError("Out of range index");if(U<=m)return this;let ge;if(m>>>=0,U=void 0===U?this.length:U>>>0,w||(w=0),"number"==typeof w)for(ge=m;ge<U;++ge)this[ge]=w;else{const Ae=A.isBuffer(w)?w:A.from(w,ne),Qe=Ae.length;if(0===Qe)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(ge=0;ge<U-m;++ge)this[ge+m]=Ae[ge%Qe]}return this};const $e={};function Se(B,w,m){$e[B]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${B}]`,delete this.name}get code(){return B}set code(ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ne,writable:!0})}toString(){return`${this.name} [${B}]: ${this.message}`}}}function be(B){let w="",m=B.length;const U="-"===B[0]?1:0;for(;m>=U+4;m-=3)w=`_${B.slice(m-3,m)}${w}`;return`${B.slice(0,m)}${w}`}function ye(B,w,m,U,ne,ge){if(B>m||B<w){const Ae="bigint"==typeof w?"n":"";let Qe;throw Qe=ge>3?0===w||w===BigInt(0)?`>= 0${Ae} and < 2${Ae} ** ${8*(ge+1)}${Ae}`:`>= -(2${Ae} ** ${8*(ge+1)-1}${Ae}) and < 2 ** ${8*(ge+1)-1}${Ae}`:`>= ${w}${Ae} and <= ${m}${Ae}`,new $e.ERR_OUT_OF_RANGE("value",Qe,B)}!function Ne(B,w,m){Te(w,"offset"),(void 0===B[w]||void 0===B[w+m])&&pe(w,B.length-(m+1))}(U,ne,ge)}function Te(B,w){if("number"!=typeof B)throw new $e.ERR_INVALID_ARG_TYPE(w,"number",B)}function pe(B,w,m){throw Math.floor(B)!==B?(Te(B,m),new $e.ERR_OUT_OF_RANGE(m||"offset","an integer",B)):w<0?new $e.ERR_BUFFER_OUT_OF_BOUNDS:new $e.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${w}`,B)}Se("ERR_BUFFER_OUT_OF_BOUNDS",function(B){return B?`${B} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Se("ERR_INVALID_ARG_TYPE",function(B,w){return`The "${B}" argument must be of type number. Received type ${typeof w}`},TypeError),Se("ERR_OUT_OF_RANGE",function(B,w,m){let U=`The value of "${B}" is out of range.`,ne=m;return Number.isInteger(m)&&Math.abs(m)>2**32?ne=be(String(m)):"bigint"==typeof m&&(ne=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(ne=be(ne)),ne+="n"),U+=` It must be ${w}. Received ${ne}`,U},RangeError);const fe=/[^+/0-9A-Za-z-_]/g;function ie(B,w){let m;w=w||1/0;const U=B.length;let ne=null;const ge=[];for(let Ae=0;Ae<U;++Ae){if(m=B.charCodeAt(Ae),m>55295&&m<57344){if(!ne){if(m>56319){(w-=3)>-1&&ge.push(239,191,189);continue}if(Ae+1===U){(w-=3)>-1&&ge.push(239,191,189);continue}ne=m;continue}if(m<56320){(w-=3)>-1&&ge.push(239,191,189),ne=m;continue}m=65536+(ne-55296<<10|m-56320)}else ne&&(w-=3)>-1&&ge.push(239,191,189);if(ne=null,m<128){if((w-=1)<0)break;ge.push(m)}else if(m<2048){if((w-=2)<0)break;ge.push(m>>6|192,63&m|128)}else if(m<65536){if((w-=3)<0)break;ge.push(m>>12|224,m>>6&63|128,63&m|128)}else{if(!(m<1114112))throw new Error("Invalid code point");if((w-=4)<0)break;ge.push(m>>18|240,m>>12&63|128,m>>6&63|128,63&m|128)}}return ge}function ke(B){return p.toByteArray(function Q(B){if((B=(B=B.split("=")[0]).trim().replace(fe,"")).length<2)return"";for(;B.length%4!=0;)B+="=";return B}(B))}function Ue(B,w,m,U){let ne;for(ne=0;ne<U&&!(ne+m>=w.length||ne>=B.length);++ne)w[ne+m]=B[ne];return ne}function Le(B,w){return B instanceof w||null!=B&&null!=B.constructor&&null!=B.constructor.name&&B.constructor.name===w.name}function _t(B){return B!=B}const Ve=function(){const B="0123456789abcdef",w=new Array(256);for(let m=0;m<16;++m){const U=16*m;for(let ne=0;ne<16;++ne)w[U+ne]=B[m]+B[ne]}return w}();function Be(B){return typeof BigInt>"u"?lt:B}function lt(){throw new Error("BigInt not supported")}},49609:(Fe,z,_)=>{var p=z;p.bignum=_(96867),p.define=_(16626).define,p.base=_(15066),p.constants=_(47740),p.decoders=_(91558),p.encoders=_(22714)},16626:(Fe,z,_)=>{var p=_(49609),E=_(71993);function H(x,R){this.name=x,this.body=R,this.decoders={},this.encoders={}}z.define=function(R,A){return new H(R,A)},H.prototype._createNamed=function(R){var A;try{A=Object(function(){var F=new Error("Cannot find module 'vm'");throw F.code="MODULE_NOT_FOUND",F}())("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch{A=function(F){this._initNamed(F)}}return E(A,R),A.prototype._initNamed=function(F){R.call(this,F)},new A(this)},H.prototype._getDecoder=function(R){return this.decoders.hasOwnProperty(R=R||"der")||(this.decoders[R]=this._createNamed(p.decoders[R])),this.decoders[R]},H.prototype.decode=function(R,A,O){return this._getDecoder(A).decode(R,O)},H.prototype._getEncoder=function(R){return this.encoders.hasOwnProperty(R=R||"der")||(this.encoders[R]=this._createNamed(p.encoders[R])),this.encoders[R]},H.prototype.encode=function(R,A,O){return this._getEncoder(A).encode(R,O)}},97290:(Fe,z,_)=>{var p=_(71993),E=_(15066).Reporter,k=_(83838).Buffer;function H(R,A){E.call(this,A),k.isBuffer(R)?(this.base=R,this.offset=0,this.length=R.length):this.error("Input not Buffer")}function x(R,A){if(Array.isArray(R))this.length=0,this.value=R.map(function(O){return O instanceof x||(O=new x(O,A)),this.length+=O.length,O},this);else if("number"==typeof R){if(!(0<=R&&R<=255))return A.error("non-byte EncoderBuffer value");this.value=R,this.length=1}else if("string"==typeof R)this.value=R,this.length=k.byteLength(R);else{if(!k.isBuffer(R))return A.error("Unsupported type: "+typeof R);this.value=R,this.length=R.length}}p(H,E),z.t=H,H.prototype.save=function(){return{offset:this.offset,reporter:E.prototype.save.call(this)}},H.prototype.restore=function(A){var O=new H(this.base);return O.offset=A.offset,O.length=this.offset,this.offset=A.offset,E.prototype.restore.call(this,A.reporter),O},H.prototype.isEmpty=function(){return this.offset===this.length},H.prototype.readUInt8=function(A){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(A||"DecoderBuffer overrun")},H.prototype.skip=function(A,O){if(!(this.offset+A<=this.length))return this.error(O||"DecoderBuffer overrun");var F=new H(this.base);return F._reporterState=this._reporterState,F.offset=this.offset,F.length=this.offset+A,this.offset+=A,F},H.prototype.raw=function(A){return this.base.slice(A?A.offset:this.offset,this.length)},z.d=x,x.prototype.join=function(A,O){return A||(A=new k(this.length)),O||(O=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(F){F.join(A,O),O+=F.length}):("number"==typeof this.value?A[O]=this.value:"string"==typeof this.value?A.write(this.value,O):k.isBuffer(this.value)&&this.value.copy(A,O),O+=this.length)),A}},15066:(Fe,z,_)=>{var p=z;p.Reporter=_(85697).a,p.DecoderBuffer=_(97290).t,p.EncoderBuffer=_(97290).d,p.Node=_(34320)},34320:(Fe,z,_)=>{var p=_(15066).Reporter,E=_(15066).EncoderBuffer,k=_(15066).DecoderBuffer,H=_(39210),x=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],R=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(x);function O(L,I){var Z={};this._baseState=Z,Z.enc=L,Z.parent=I||null,Z.children=null,Z.tag=null,Z.args=null,Z.reverseArgs=null,Z.choice=null,Z.optional=!1,Z.any=!1,Z.obj=!1,Z.use=null,Z.useDecoder=null,Z.key=null,Z.default=null,Z.explicit=null,Z.implicit=null,Z.contains=null,Z.parent||(Z.children=[],this._wrap())}Fe.exports=O;var F=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];O.prototype.clone=function(){var I=this._baseState,Z={};F.forEach(function(G){Z[G]=I[G]});var j=new this.constructor(Z.parent);return j._baseState=Z,j},O.prototype._wrap=function(){var I=this._baseState;R.forEach(function(Z){this[Z]=function(){var G=new this.constructor(this);return I.children.push(G),G[Z].apply(G,arguments)}},this)},O.prototype._init=function(I){var Z=this._baseState;H(null===Z.parent),I.call(this),Z.children=Z.children.filter(function(j){return j._baseState.parent===this},this),H.equal(Z.children.length,1,"Root node can have only one child")},O.prototype._useArgs=function(I){var Z=this._baseState,j=I.filter(function(G){return G instanceof this.constructor},this);I=I.filter(function(G){return!(G instanceof this.constructor)},this),0!==j.length&&(H(null===Z.children),Z.children=j,j.forEach(function(G){G._baseState.parent=this},this)),0!==I.length&&(H(null===Z.args),Z.args=I,Z.reverseArgs=I.map(function(G){if("object"!=typeof G||G.constructor!==Object)return G;var re={};return Object.keys(G).forEach(function(te){te==(0|te)&&(te|=0),re[G[te]]=te}),re}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(L){O.prototype[L]=function(){throw new Error(L+" not implemented for encoding: "+this._baseState.enc)}}),x.forEach(function(L){O.prototype[L]=function(){var Z=this._baseState,j=Array.prototype.slice.call(arguments);return H(null===Z.tag),Z.tag=L,this._useArgs(j),this}}),O.prototype.use=function(I){H(I);var Z=this._baseState;return H(null===Z.use),Z.use=I,this},O.prototype.optional=function(){return this._baseState.optional=!0,this},O.prototype.def=function(I){var Z=this._baseState;return H(null===Z.default),Z.default=I,Z.optional=!0,this},O.prototype.explicit=function(I){var Z=this._baseState;return H(null===Z.explicit&&null===Z.implicit),Z.explicit=I,this},O.prototype.implicit=function(I){var Z=this._baseState;return H(null===Z.explicit&&null===Z.implicit),Z.implicit=I,this},O.prototype.obj=function(){var I=this._baseState,Z=Array.prototype.slice.call(arguments);return I.obj=!0,0!==Z.length&&this._useArgs(Z),this},O.prototype.key=function(I){var Z=this._baseState;return H(null===Z.key),Z.key=I,this},O.prototype.any=function(){return this._baseState.any=!0,this},O.prototype.choice=function(I){var Z=this._baseState;return H(null===Z.choice),Z.choice=I,this._useArgs(Object.keys(I).map(function(j){return I[j]})),this},O.prototype.contains=function(I){var Z=this._baseState;return H(null===Z.use),Z.contains=I,this},O.prototype._decode=function(I,Z){var j=this._baseState;if(null===j.parent)return I.wrapResult(j.children[0]._decode(I,Z));var oe,G=j.default,re=!0,te=null;if(null!==j.key&&(te=I.enterKey(j.key)),j.optional){var J=null;if(null!==j.explicit?J=j.explicit:null!==j.implicit?J=j.implicit:null!==j.tag&&(J=j.tag),null!==J||j.any){if(re=this._peekTag(I,J,j.any),I.isError(re))return re}else{var Y=I.save();try{null===j.choice?this._decodeGeneric(j.tag,I,Z):this._decodeChoice(I,Z),re=!0}catch{re=!1}I.restore(Y)}}if(j.obj&&re&&(oe=I.enterObject()),re){if(null!==j.explicit){var ae=this._decodeTag(I,j.explicit);if(I.isError(ae))return ae;I=ae}var se=I.offset;if(null===j.use&&null===j.choice){j.any&&(Y=I.save());var de=this._decodeTag(I,null!==j.implicit?j.implicit:j.tag,j.any);if(I.isError(de))return de;j.any?G=I.raw(Y):I=de}if(Z&&Z.track&&null!==j.tag&&Z.track(I.path(),se,I.length,"tagged"),Z&&Z.track&&null!==j.tag&&Z.track(I.path(),I.offset,I.length,"content"),j.any||(G=null===j.choice?this._decodeGeneric(j.tag,I,Z):this._decodeChoice(I,Z)),I.isError(G))return G;if(!j.any&&null===j.choice&&null!==j.children&&j.children.forEach(function(xe){xe._decode(I,Z)}),j.contains&&("octstr"===j.tag||"bitstr"===j.tag)){var le=new k(G);G=this._getUse(j.contains,I._reporterState.obj)._decode(le,Z)}}return j.obj&&re&&(G=I.leaveObject(oe)),null===j.key||null===G&&!0!==re?null!==te&&I.exitKey(te):I.leaveKey(te,j.key,G),G},O.prototype._decodeGeneric=function(I,Z,j){var G=this._baseState;return"seq"===I||"set"===I?null:"seqof"===I||"setof"===I?this._decodeList(Z,I,G.args[0],j):/str$/.test(I)?this._decodeStr(Z,I,j):"objid"===I&&G.args?this._decodeObjid(Z,G.args[0],G.args[1],j):"objid"===I?this._decodeObjid(Z,null,null,j):"gentime"===I||"utctime"===I?this._decodeTime(Z,I,j):"null_"===I?this._decodeNull(Z,j):"bool"===I?this._decodeBool(Z,j):"objDesc"===I?this._decodeStr(Z,I,j):"int"===I||"enum"===I?this._decodeInt(Z,G.args&&G.args[0],j):null!==G.use?this._getUse(G.use,Z._reporterState.obj)._decode(Z,j):Z.error("unknown tag: "+I)},O.prototype._getUse=function(I,Z){var j=this._baseState;return j.useDecoder=this._use(I,Z),H(null===j.useDecoder._baseState.parent),j.useDecoder=j.useDecoder._baseState.children[0],j.implicit!==j.useDecoder._baseState.implicit&&(j.useDecoder=j.useDecoder.clone(),j.useDecoder._baseState.implicit=j.implicit),j.useDecoder},O.prototype._decodeChoice=function(I,Z){var j=this._baseState,G=null,re=!1;return Object.keys(j.choice).some(function(te){var J=I.save(),Y=j.choice[te];try{var oe=Y._decode(I,Z);if(I.isError(oe))return!1;G={type:te,value:oe},re=!0}catch{return I.restore(J),!1}return!0},this),re?G:I.error("Choice not matched")},O.prototype._createEncoderBuffer=function(I){return new E(I,this.reporter)},O.prototype._encode=function(I,Z,j){var G=this._baseState;if(null===G.default||G.default!==I){var re=this._encodeValue(I,Z,j);if(void 0!==re&&!this._skipDefault(re,Z,j))return re}},O.prototype._encodeValue=function(I,Z,j){var G=this._baseState;if(null===G.parent)return G.children[0]._encode(I,Z||new p);var Y=null;if(this.reporter=Z,G.optional&&void 0===I){if(null===G.default)return;I=G.default}var re=null,te=!1;if(G.any)Y=this._createEncoderBuffer(I);else if(G.choice)Y=this._encodeChoice(I,Z);else if(G.contains)re=this._getUse(G.contains,j)._encode(I,Z),te=!0;else if(G.children)re=G.children.map(function(se){if("null_"===se._baseState.tag)return se._encode(null,Z,I);if(null===se._baseState.key)return Z.error("Child should have a key");var de=Z.enterKey(se._baseState.key);if("object"!=typeof I)return Z.error("Child expected, but input is not object");var le=se._encode(I[se._baseState.key],Z,I);return Z.leaveKey(de),le},this).filter(function(se){return se}),re=this._createEncoderBuffer(re);else if("seqof"===G.tag||"setof"===G.tag){if(!G.args||1!==G.args.length)return Z.error("Too many args for : "+G.tag);if(!Array.isArray(I))return Z.error("seqof/setof, but data is not Array");var J=this.clone();J._baseState.implicit=null,re=this._createEncoderBuffer(I.map(function(se){return this._getUse(this._baseState.args[0],I)._encode(se,Z)},J))}else null!==G.use?Y=this._getUse(G.use,j)._encode(I,Z):(re=this._encodePrimitive(G.tag,I),te=!0);if(!G.any&&null===G.choice){var oe=null!==G.implicit?G.implicit:G.tag,ae=null===G.implicit?"universal":"context";null===oe?null===G.use&&Z.error("Tag could be omitted only for .use()"):null===G.use&&(Y=this._encodeComposite(oe,te,ae,re))}return null!==G.explicit&&(Y=this._encodeComposite(G.explicit,!1,"context",Y)),Y},O.prototype._encodeChoice=function(I,Z){var j=this._baseState,G=j.choice[I.type];return G||H(!1,I.type+" not found in "+JSON.stringify(Object.keys(j.choice))),G._encode(I.value,Z)},O.prototype._encodePrimitive=function(I,Z){var j=this._baseState;if(/str$/.test(I))return this._encodeStr(Z,I);if("objid"===I&&j.args)return this._encodeObjid(Z,j.reverseArgs[0],j.args[1]);if("objid"===I)return this._encodeObjid(Z,null,null);if("gentime"===I||"utctime"===I)return this._encodeTime(Z,I);if("null_"===I)return this._encodeNull();if("int"===I||"enum"===I)return this._encodeInt(Z,j.args&&j.reverseArgs[0]);if("bool"===I)return this._encodeBool(Z);if("objDesc"===I)return this._encodeStr(Z,I);throw new Error("Unsupported tag: "+I)},O.prototype._isNumstr=function(I){return/^[0-9 ]*$/.test(I)},O.prototype._isPrintstr=function(I){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(I)}},85697:(Fe,z,_)=>{var p=_(71993);function E(H){this._reporterState={obj:null,path:[],options:H||{},errors:[]}}function k(H,x){this.path=H,this.rethrow(x)}z.a=E,E.prototype.isError=function(x){return x instanceof k},E.prototype.save=function(){var x=this._reporterState;return{obj:x.obj,pathLen:x.path.length}},E.prototype.restore=function(x){var R=this._reporterState;R.obj=x.obj,R.path=R.path.slice(0,x.pathLen)},E.prototype.enterKey=function(x){return this._reporterState.path.push(x)},E.prototype.exitKey=function(x){var R=this._reporterState;R.path=R.path.slice(0,x-1)},E.prototype.leaveKey=function(x,R,A){var O=this._reporterState;this.exitKey(x),null!==O.obj&&(O.obj[R]=A)},E.prototype.path=function(){return this._reporterState.path.join("/")},E.prototype.enterObject=function(){var x=this._reporterState,R=x.obj;return x.obj={},R},E.prototype.leaveObject=function(x){var R=this._reporterState,A=R.obj;return R.obj=x,A},E.prototype.error=function(x){var R,A=this._reporterState,O=x instanceof k;if(R=O?x:new k(A.path.map(function(F){return"["+JSON.stringify(F)+"]"}).join(""),x.message||x,x.stack),!A.options.partial)throw R;return O||A.errors.push(R),R},E.prototype.wrapResult=function(x){var R=this._reporterState;return R.options.partial?{result:this.isError(x)?null:x,errors:R.errors}:x},p(k,Error),k.prototype.rethrow=function(x){if(this.message=x+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,k),!this.stack)try{throw new Error(this.message)}catch(R){this.stack=R.stack}return this}},36283:(Fe,z,_)=>{var p=_(47740);z.tagClass={0:"universal",1:"application",2:"context",3:"private"},z.tagClassByName=p._reverse(z.tagClass),z.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},z.tagByName=p._reverse(z.tag)},47740:(Fe,z,_)=>{var p=z;p._reverse=function(k){var H={};return Object.keys(k).forEach(function(x){(0|x)==x&&(x|=0),H[k[x]]=x}),H},p.der=_(36283)},55941:(Fe,z,_)=>{var p=_(71993),E=_(49609),k=E.base,H=E.bignum,x=E.constants.der;function R(L){this.enc="der",this.name=L.name,this.entity=L,this.tree=new A,this.tree._init(L.body)}function A(L){k.Node.call(this,"der",L)}function O(L,I){var Z=L.readUInt8(I);if(L.isError(Z))return Z;var j=x.tagClass[Z>>6],G=!(32&Z);if(31&~Z)Z&=31;else{var re=Z;for(Z=0;!(128&~re);){if(re=L.readUInt8(I),L.isError(re))return re;Z<<=7,Z|=127&re}}return{cls:j,primitive:G,tag:Z,tagStr:x.tag[Z]}}function F(L,I,Z){var j=L.readUInt8(Z);if(L.isError(j))return j;if(!I&&128===j)return null;if(!(128&j))return j;var G=127&j;if(G>4)return L.error("length octect is too long");j=0;for(var re=0;re<G;re++){j<<=8;var te=L.readUInt8(Z);if(L.isError(te))return te;j|=te}return j}Fe.exports=R,R.prototype.decode=function(I,Z){return I instanceof k.DecoderBuffer||(I=new k.DecoderBuffer(I,Z)),this.tree._decode(I,Z)},p(A,k.Node),A.prototype._peekTag=function(I,Z,j){if(I.isEmpty())return!1;var G=I.save(),re=O(I,'Failed to peek tag: "'+Z+'"');return I.isError(re)?re:(I.restore(G),re.tag===Z||re.tagStr===Z||re.tagStr+"of"===Z||j)},A.prototype._decodeTag=function(I,Z,j){var G=O(I,'Failed to decode tag of "'+Z+'"');if(I.isError(G))return G;var re=F(I,G.primitive,'Failed to get length of "'+Z+'"');if(I.isError(re))return re;if(!j&&G.tag!==Z&&G.tagStr!==Z&&G.tagStr+"of"!==Z)return I.error('Failed to match tag: "'+Z+'"');if(G.primitive||null!==re)return I.skip(re,'Failed to match body of: "'+Z+'"');var te=I.save(),J=this._skipUntilEnd(I,'Failed to skip indefinite length body: "'+this.tag+'"');return I.isError(J)?J:(re=I.offset-te.offset,I.restore(te),I.skip(re,'Failed to match body of: "'+Z+'"'))},A.prototype._skipUntilEnd=function(I,Z){for(;;){var j=O(I,Z);if(I.isError(j))return j;var re,G=F(I,j.primitive,Z);if(I.isError(G))return G;if(re=j.primitive||null!==G?I.skip(G):this._skipUntilEnd(I,Z),I.isError(re))return re;if("end"===j.tagStr)break}},A.prototype._decodeList=function(I,Z,j,G){for(var re=[];!I.isEmpty();){var te=this._peekTag(I,"end");if(I.isError(te))return te;var J=j.decode(I,"der",G);if(I.isError(J)&&te)break;re.push(J)}return re},A.prototype._decodeStr=function(I,Z){if("bitstr"===Z){var j=I.readUInt8();return I.isError(j)?j:{unused:j,data:I.raw()}}if("bmpstr"===Z){var G=I.raw();if(G.length%2==1)return I.error("Decoding of string type: bmpstr length mismatch");for(var re="",te=0;te<G.length/2;te++)re+=String.fromCharCode(G.readUInt16BE(2*te));return re}if("numstr"===Z){var J=I.raw().toString("ascii");return this._isNumstr(J)?J:I.error("Decoding of string type: numstr unsupported characters")}if("octstr"===Z)return I.raw();if("objDesc"===Z)return I.raw();if("printstr"===Z){var Y=I.raw().toString("ascii");return this._isPrintstr(Y)?Y:I.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(Z)?I.raw().toString():I.error("Decoding of string type: "+Z+" unsupported")},A.prototype._decodeObjid=function(I,Z,j){for(var G,re=[],te=0;!I.isEmpty();){var J=I.readUInt8();te<<=7,te|=127&J,128&J||(re.push(te),te=0)}if(128&J&&re.push(te),G=j?re:[re[0]/40|0,re[0]%40].concat(re.slice(1)),Z){var ae=Z[G.join(" ")];void 0===ae&&(ae=Z[G.join(".")]),void 0!==ae&&(G=ae)}return G},A.prototype._decodeTime=function(I,Z){var j=I.raw().toString();if("gentime"===Z)var G=0|j.slice(0,4),re=0|j.slice(4,6),te=0|j.slice(6,8),J=0|j.slice(8,10),Y=0|j.slice(10,12),oe=0|j.slice(12,14);else{if("utctime"!==Z)return I.error("Decoding "+Z+" time is not supported yet");G=0|j.slice(0,2),re=0|j.slice(2,4),te=0|j.slice(4,6),J=0|j.slice(6,8),Y=0|j.slice(8,10),oe=0|j.slice(10,12),G=G<70?2e3+G:1900+G}return Date.UTC(G,re-1,te,J,Y,oe,0)},A.prototype._decodeNull=function(I){return null},A.prototype._decodeBool=function(I){var Z=I.readUInt8();return I.isError(Z)?Z:0!==Z},A.prototype._decodeInt=function(I,Z){var j=I.raw(),G=new H(j);return Z&&(G=Z[G.toString(10)]||G),G},A.prototype._use=function(I,Z){return"function"==typeof I&&(I=I(Z)),I._getDecoder("der").tree}},91558:(Fe,z,_)=>{var p=z;p.der=_(55941),p.pem=_(59316)},59316:(Fe,z,_)=>{var p=_(71993),E=_(83838).Buffer,k=_(55941);function H(x){k.call(this,x),this.enc="pem"}p(H,k),Fe.exports=H,H.prototype.decode=function(R,A){for(var O=R.toString().split(/[\r\n]+/g),F=A.label.toUpperCase(),L=/^-----(BEGIN|END) ([^-]+)-----$/,I=-1,Z=-1,j=0;j<O.length;j++){var G=O[j].match(L);if(null!==G&&G[2]===F){if(-1!==I){if("END"!==G[1])break;Z=j;break}if("BEGIN"!==G[1])break;I=j}}if(-1===I||-1===Z)throw new Error("PEM section not found for: "+F);var re=O.slice(I+1,Z).join("");re.replace(/[^a-z0-9\+\/=]+/gi,"");var te=new E(re,"base64");return k.prototype.decode.call(this,te,A)}},72193:(Fe,z,_)=>{var p=_(71993),E=_(83838).Buffer,k=_(49609),H=k.base,x=k.constants.der;function R(L){this.enc="der",this.name=L.name,this.entity=L,this.tree=new A,this.tree._init(L.body)}function A(L){H.Node.call(this,"der",L)}function O(L){return L<10?"0"+L:L}Fe.exports=R,R.prototype.encode=function(I,Z){return this.tree._encode(I,Z).join()},p(A,H.Node),A.prototype._encodeComposite=function(I,Z,j,G){var Y,re=function F(L,I,Z,j){var G;if("seqof"===L?L="seq":"setof"===L&&(L="set"),x.tagByName.hasOwnProperty(L))G=x.tagByName[L];else{if("number"!=typeof L||(0|L)!==L)return j.error("Unknown tag: "+L);G=L}return G>=31?j.error("Multi-octet tag encoding unsupported"):(I||(G|=32),G|=x.tagClassByName[Z||"universal"]<<6)}(I,Z,j,this.reporter);if(G.length<128)return(Y=new E(2))[0]=re,Y[1]=G.length,this._createEncoderBuffer([Y,G]);for(var te=1,J=G.length;J>=256;J>>=8)te++;(Y=new E(2+te))[0]=re,Y[1]=128|te,J=1+te;for(var oe=G.length;oe>0;J--,oe>>=8)Y[J]=255&oe;return this._createEncoderBuffer([Y,G])},A.prototype._encodeStr=function(I,Z){if("bitstr"===Z)return this._createEncoderBuffer([0|I.unused,I.data]);if("bmpstr"===Z){for(var j=new E(2*I.length),G=0;G<I.length;G++)j.writeUInt16BE(I.charCodeAt(G),2*G);return this._createEncoderBuffer(j)}return"numstr"===Z?this._isNumstr(I)?this._createEncoderBuffer(I):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===Z?this._isPrintstr(I)?this._createEncoderBuffer(I):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(Z)||"objDesc"===Z?this._createEncoderBuffer(I):this.reporter.error("Encoding of string type: "+Z+" unsupported")},A.prototype._encodeObjid=function(I,Z,j){if("string"==typeof I){if(!Z)return this.reporter.error("string objid given, but no values map found");if(!Z.hasOwnProperty(I))return this.reporter.error("objid not found in values map");I=Z[I].split(/[\s\.]+/g);for(var G=0;G<I.length;G++)I[G]|=0}else if(Array.isArray(I))for(I=I.slice(),G=0;G<I.length;G++)I[G]|=0;if(!Array.isArray(I))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(I));if(!j){if(I[1]>=40)return this.reporter.error("Second objid identifier OOB");I.splice(0,2,40*I[0]+I[1])}var re=0;for(G=0;G<I.length;G++){var te=I[G];for(re++;te>=128;te>>=7)re++}var J=new E(re),Y=J.length-1;for(G=I.length-1;G>=0;G--)for(J[Y--]=127&(te=I[G]);(te>>=7)>0;)J[Y--]=128|127&te;return this._createEncoderBuffer(J)},A.prototype._encodeTime=function(I,Z){var j,G=new Date(I);return"gentime"===Z?j=[O(G.getFullYear()),O(G.getUTCMonth()+1),O(G.getUTCDate()),O(G.getUTCHours()),O(G.getUTCMinutes()),O(G.getUTCSeconds()),"Z"].join(""):"utctime"===Z?j=[O(G.getFullYear()%100),O(G.getUTCMonth()+1),O(G.getUTCDate()),O(G.getUTCHours()),O(G.getUTCMinutes()),O(G.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+Z+" time is not supported yet"),this._encodeStr(j,"octstr")},A.prototype._encodeNull=function(){return this._createEncoderBuffer("")},A.prototype._encodeInt=function(I,Z){if("string"==typeof I){if(!Z)return this.reporter.error("String int or enum given, but no values map");if(!Z.hasOwnProperty(I))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(I));I=Z[I]}if("number"!=typeof I&&!E.isBuffer(I)){var j=I.toArray();!I.sign&&128&j[0]&&j.unshift(0),I=new E(j)}if(E.isBuffer(I)){var G=I.length;0===I.length&&G++;var te=new E(G);return I.copy(te),0===I.length&&(te[0]=0),this._createEncoderBuffer(te)}if(I<128)return this._createEncoderBuffer(I);if(I<256)return this._createEncoderBuffer([0,I]);G=1;for(var re=I;re>=256;re>>=8)G++;for(re=(te=new Array(G)).length-1;re>=0;re--)te[re]=255&I,I>>=8;return 128&te[0]&&te.unshift(0),this._createEncoderBuffer(new E(te))},A.prototype._encodeBool=function(I){return this._createEncoderBuffer(I?255:0)},A.prototype._use=function(I,Z){return"function"==typeof I&&(I=I(Z)),I._getEncoder("der").tree},A.prototype._skipDefault=function(I,Z,j){var re,G=this._baseState;if(null===G.default)return!1;var te=I.join();if(void 0===G.defaultBuffer&&(G.defaultBuffer=this._encodeValue(G.default,Z,j).join()),te.length!==G.defaultBuffer.length)return!1;for(re=0;re<te.length;re++)if(te[re]!==G.defaultBuffer[re])return!1;return!0}},22714:(Fe,z,_)=>{var p=z;p.der=_(72193),p.pem=_(24816)},24816:(Fe,z,_)=>{var p=_(71993),E=_(72193);function k(H){E.call(this,H),this.enc="pem"}p(k,E),Fe.exports=k,k.prototype.encode=function(x,R){for(var O=E.prototype.encode.call(this,x).toString("base64"),F=["-----BEGIN "+R.label+"-----"],L=0;L<O.length;L+=64)F.push(O.slice(L,L+64));return F.push("-----END "+R.label+"-----"),F.join("\n")}},96867:function(Fe,z,_){!function(p,E){"use strict";function k(C,a){if(!C)throw new Error(a||"Assertion failed")}function H(C,a){C.super_=a;var u=function(){};u.prototype=a.prototype,C.prototype=new u,C.prototype.constructor=C}function x(C,a,u){if(x.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(u=a,a=10),this._init(C||0,a||10,u||"be"))}var R;"object"==typeof p?p.exports=x:E.BN=x,x.BN=x,x.wordSize=26;try{R=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:_(78982).Buffer}catch{}function A(C,a){var u=C.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function O(C,a,u){var y=A(C,u);return u-1>=a&&(y|=A(C,u-1)<<4),y}function F(C,a,u,y){for(var g=0,S=Math.min(C.length,u),T=a;T<S;T++){var N=C.charCodeAt(T)-48;g*=y,g+=N>=49?N-49+10:N>=17?N-17+10:N}return g}x.isBN=function(a){return a instanceof x||null!==a&&"object"==typeof a&&a.constructor.wordSize===x.wordSize&&Array.isArray(a.words)},x.max=function(a,u){return a.cmp(u)>0?a:u},x.min=function(a,u){return a.cmp(u)<0?a:u},x.prototype._init=function(a,u,y){if("number"==typeof a)return this._initNumber(a,u,y);if("object"==typeof a)return this._initArray(a,u,y);"hex"===u&&(u=16),k(u===(0|u)&&u>=2&&u<=36);var g=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(g++,this.negative=1),g<a.length&&(16===u?this._parseHex(a,g,y):(this._parseBase(a,u,g),"le"===y&&this._initArray(this.toArray(),u,y)))},x.prototype._initNumber=function(a,u,y){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(k(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),u,y)},x.prototype._initArray=function(a,u,y){if(k("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var S,T,N=0;if("be"===y)for(g=a.length-1,S=0;g>=0;g-=3)this.words[S]|=(T=a[g]|a[g-1]<<8|a[g-2]<<16)<<N&67108863,this.words[S+1]=T>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);else if("le"===y)for(g=0,S=0;g<a.length;g+=3)this.words[S]|=(T=a[g]|a[g+1]<<8|a[g+2]<<16)<<N&67108863,this.words[S+1]=T>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);return this.strip()},x.prototype._parseHex=function(a,u,y){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var N,S=0,T=0;if("be"===y)for(g=a.length-1;g>=u;g-=2)N=O(a,u,g)<<S,this.words[T]|=67108863&N,S>=18?(S-=18,this.words[T+=1]|=N>>>26):S+=8;else for(g=(a.length-u)%2==0?u+1:u;g<a.length;g+=2)N=O(a,u,g)<<S,this.words[T]|=67108863&N,S>=18?(S-=18,this.words[T+=1]|=N>>>26):S+=8;this.strip()},x.prototype._parseBase=function(a,u,y){this.words=[0],this.length=1;for(var g=0,S=1;S<=67108863;S*=u)g++;g--,S=S/u|0;for(var T=a.length-y,N=T%g,M=Math.min(T,T-N)+y,s=0,v=y;v<M;v+=g)s=F(a,v,v+g,u),this.imuln(S),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==N){var W=1;for(s=F(a,v,a.length,u),v=0;v<N;v++)W*=u;this.imuln(W),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},x.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},x.prototype.clone=function(){var a=new x(null);return this.copy(a),a},x.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},x.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},x.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var L=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Z=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function G(C,a,u){u.negative=a.negative^C.negative;var y=C.length+a.length|0;u.length=y,y=y-1|0;var g=0|C.words[0],S=0|a.words[0],T=g*S,M=T/67108864|0;u.words[0]=67108863&T;for(var s=1;s<y;s++){for(var v=M>>>26,W=67108863&M,K=Math.min(s,a.length-1),ee=Math.max(0,s-C.length+1);ee<=K;ee++)v+=(T=(g=0|C.words[s-ee|0])*(S=0|a.words[ee])+W)/67108864|0,W=67108863&T;u.words[s]=0|W,M=0|v}return 0!==M?u.words[s]=0|M:u.length--,u.strip()}x.prototype.toString=function(a,u){var y;if(u=0|u||1,16===(a=a||10)||"hex"===a){y="";for(var g=0,S=0,T=0;T<this.length;T++){var N=this.words[T],M=(16777215&(N<<g|S)).toString(16);y=0!=(S=N>>>24-g&16777215)||T!==this.length-1?L[6-M.length]+M+y:M+y,(g+=2)>=26&&(g-=26,T--)}for(0!==S&&(y=S.toString(16)+y);y.length%u!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(a===(0|a)&&a>=2&&a<=36){var s=I[a],v=Z[a];y="";var W=this.clone();for(W.negative=0;!W.isZero();){var K=W.modn(v).toString(a);y=(W=W.idivn(v)).isZero()?K+y:L[s-K.length]+K+y}for(this.isZero()&&(y="0"+y);y.length%u!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}k(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&k(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},x.prototype.toJSON=function(){return this.toString(16)},x.prototype.toBuffer=function(a,u){return k(typeof R<"u"),this.toArrayLike(R,a,u)},x.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},x.prototype.toArrayLike=function(a,u,y){var g=this.byteLength(),S=y||Math.max(1,g);k(g<=S,"byte array longer than desired length"),k(S>0,"Requested array length <= 0"),this.strip();var M,s,T="le"===u,N=new a(S),v=this.clone();if(T){for(s=0;!v.isZero();s++)M=v.andln(255),v.iushrn(8),N[s]=M;for(;s<S;s++)N[s]=0}else{for(s=0;s<S-g;s++)N[s]=0;for(s=0;!v.isZero();s++)M=v.andln(255),v.iushrn(8),N[S-s-1]=M}return N},x.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var u=a,y=0;return u>=4096&&(y+=13,u>>>=13),u>=64&&(y+=7,u>>>=7),u>=8&&(y+=4,u>>>=4),u>=2&&(y+=2,u>>>=2),y+u},x.prototype._zeroBits=function(a){if(0===a)return 26;var u=a,y=0;return 8191&u||(y+=13,u>>>=13),127&u||(y+=7,u>>>=7),15&u||(y+=4,u>>>=4),3&u||(y+=2,u>>>=2),1&u||y++,y},x.prototype.bitLength=function(){var u=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+u},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var y=this._zeroBits(this.words[u]);if(a+=y,26!==y)break}return a},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},x.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},x.prototype.ior=function(a){return k(!(this.negative|a.negative)),this.iuor(a)},x.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},x.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},x.prototype.iuand=function(a){var u;u=this.length>a.length?a:this;for(var y=0;y<u.length;y++)this.words[y]=this.words[y]&a.words[y];return this.length=u.length,this.strip()},x.prototype.iand=function(a){return k(!(this.negative|a.negative)),this.iuand(a)},x.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},x.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},x.prototype.iuxor=function(a){var u,y;this.length>a.length?(u=this,y=a):(u=a,y=this);for(var g=0;g<y.length;g++)this.words[g]=u.words[g]^y.words[g];if(this!==u)for(;g<u.length;g++)this.words[g]=u.words[g];return this.length=u.length,this.strip()},x.prototype.ixor=function(a){return k(!(this.negative|a.negative)),this.iuxor(a)},x.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},x.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},x.prototype.inotn=function(a){k("number"==typeof a&&a>=0);var u=0|Math.ceil(a/26),y=a%26;this._expand(u),y>0&&u--;for(var g=0;g<u;g++)this.words[g]=67108863&~this.words[g];return y>0&&(this.words[g]=~this.words[g]&67108863>>26-y),this.strip()},x.prototype.notn=function(a){return this.clone().inotn(a)},x.prototype.setn=function(a,u){k("number"==typeof a&&a>=0);var y=a/26|0,g=a%26;return this._expand(y+1),this.words[y]=u?this.words[y]|1<<g:this.words[y]&~(1<<g),this.strip()},x.prototype.iadd=function(a){var u,y,g;if(0!==this.negative&&0===a.negative)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();this.length>a.length?(y=this,g=a):(y=a,g=this);for(var S=0,T=0;T<g.length;T++)this.words[T]=67108863&(u=(0|y.words[T])+(0|g.words[T])+S),S=u>>>26;for(;0!==S&&T<y.length;T++)this.words[T]=67108863&(u=(0|y.words[T])+S),S=u>>>26;if(this.length=y.length,0!==S)this.words[this.length]=S,this.length++;else if(y!==this)for(;T<y.length;T++)this.words[T]=y.words[T];return this},x.prototype.add=function(a){var u;return 0!==a.negative&&0===this.negative?(a.negative=0,u=this.sub(a),a.negative^=1,u):0===a.negative&&0!==this.negative?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},x.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var g,S,y=this.cmp(a);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(g=this,S=a):(g=a,S=this);for(var T=0,N=0;N<S.length;N++)T=(u=(0|g.words[N])-(0|S.words[N])+T)>>26,this.words[N]=67108863&u;for(;0!==T&&N<g.length;N++)T=(u=(0|g.words[N])+T)>>26,this.words[N]=67108863&u;if(0===T&&N<g.length&&g!==this)for(;N<g.length;N++)this.words[N]=g.words[N];return this.length=Math.max(this.length,N),g!==this&&(this.negative=1),this.strip()},x.prototype.sub=function(a){return this.clone().isub(a)};var re=function(a,u,y){var M,s,v,g=a.words,S=u.words,T=y.words,N=0,W=0|g[0],K=8191&W,ee=W>>>13,ce=0|g[1],_e=8191&ce,Pe=ce>>>13,$e=0|g[2],Se=8191&$e,be=$e>>>13,Ne=0|g[3],ye=8191&Ne,Te=Ne>>>13,pe=0|g[4],fe=8191&pe,Q=pe>>>13,ie=0|g[5],ue=8191&ie,Ee=ie>>>13,ke=0|g[6],Ue=8191&ke,Le=ke>>>13,_t=0|g[7],Ve=8191&_t,Be=_t>>>13,lt=0|g[8],B=8191&lt,w=lt>>>13,m=0|g[9],U=8191&m,ne=m>>>13,ge=0|S[0],Ae=8191&ge,Qe=ge>>>13,Bt=0|S[1],gt=8191&Bt,It=Bt>>>13,Gt=0|S[2],un=8191&Gt,an=Gt>>>13,sr=0|S[3],Mn=8191&sr,Qt=sr>>>13,qt=0|S[4],Et=8191&qt,ht=qt>>>13,zt=0|S[5],Jt=8191&zt,dn=zt>>>13,hr=0|S[6],vt=8191&hr,xt=hr>>>13,St=0|S[7],Xe=8191&St,nt=St>>>13,Vt=0|S[8],Ot=8191&Vt,sn=Vt>>>13,Hn=0|S[9],bn=8191&Hn,In=Hn>>>13;y.negative=a.negative^u.negative,y.length=19;var Ar=(N+(M=Math.imul(K,Ae))|0)+((8191&(s=(s=Math.imul(K,Qe))+Math.imul(ee,Ae)|0))<<13)|0;N=((v=Math.imul(ee,Qe))+(s>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,M=Math.imul(_e,Ae),s=(s=Math.imul(_e,Qe))+Math.imul(Pe,Ae)|0,v=Math.imul(Pe,Qe);var Jn=(N+(M=M+Math.imul(K,gt)|0)|0)+((8191&(s=(s=s+Math.imul(K,It)|0)+Math.imul(ee,gt)|0))<<13)|0;N=((v=v+Math.imul(ee,It)|0)+(s>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,M=Math.imul(Se,Ae),s=(s=Math.imul(Se,Qe))+Math.imul(be,Ae)|0,v=Math.imul(be,Qe),M=M+Math.imul(_e,gt)|0,s=(s=s+Math.imul(_e,It)|0)+Math.imul(Pe,gt)|0,v=v+Math.imul(Pe,It)|0;var Ln=(N+(M=M+Math.imul(K,un)|0)|0)+((8191&(s=(s=s+Math.imul(K,an)|0)+Math.imul(ee,un)|0))<<13)|0;N=((v=v+Math.imul(ee,an)|0)+(s>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,M=Math.imul(ye,Ae),s=(s=Math.imul(ye,Qe))+Math.imul(Te,Ae)|0,v=Math.imul(Te,Qe),M=M+Math.imul(Se,gt)|0,s=(s=s+Math.imul(Se,It)|0)+Math.imul(be,gt)|0,v=v+Math.imul(be,It)|0,M=M+Math.imul(_e,un)|0,s=(s=s+Math.imul(_e,an)|0)+Math.imul(Pe,un)|0,v=v+Math.imul(Pe,an)|0;var $n=(N+(M=M+Math.imul(K,Mn)|0)|0)+((8191&(s=(s=s+Math.imul(K,Qt)|0)+Math.imul(ee,Mn)|0))<<13)|0;N=((v=v+Math.imul(ee,Qt)|0)+(s>>>13)|0)+($n>>>26)|0,$n&=67108863,M=Math.imul(fe,Ae),s=(s=Math.imul(fe,Qe))+Math.imul(Q,Ae)|0,v=Math.imul(Q,Qe),M=M+Math.imul(ye,gt)|0,s=(s=s+Math.imul(ye,It)|0)+Math.imul(Te,gt)|0,v=v+Math.imul(Te,It)|0,M=M+Math.imul(Se,un)|0,s=(s=s+Math.imul(Se,an)|0)+Math.imul(be,un)|0,v=v+Math.imul(be,an)|0,M=M+Math.imul(_e,Mn)|0,s=(s=s+Math.imul(_e,Qt)|0)+Math.imul(Pe,Mn)|0,v=v+Math.imul(Pe,Qt)|0;var st=(N+(M=M+Math.imul(K,Et)|0)|0)+((8191&(s=(s=s+Math.imul(K,ht)|0)+Math.imul(ee,Et)|0))<<13)|0;N=((v=v+Math.imul(ee,ht)|0)+(s>>>13)|0)+(st>>>26)|0,st&=67108863,M=Math.imul(ue,Ae),s=(s=Math.imul(ue,Qe))+Math.imul(Ee,Ae)|0,v=Math.imul(Ee,Qe),M=M+Math.imul(fe,gt)|0,s=(s=s+Math.imul(fe,It)|0)+Math.imul(Q,gt)|0,v=v+Math.imul(Q,It)|0,M=M+Math.imul(ye,un)|0,s=(s=s+Math.imul(ye,an)|0)+Math.imul(Te,un)|0,v=v+Math.imul(Te,an)|0,M=M+Math.imul(Se,Mn)|0,s=(s=s+Math.imul(Se,Qt)|0)+Math.imul(be,Mn)|0,v=v+Math.imul(be,Qt)|0,M=M+Math.imul(_e,Et)|0,s=(s=s+Math.imul(_e,ht)|0)+Math.imul(Pe,Et)|0,v=v+Math.imul(Pe,ht)|0;var Ge=(N+(M=M+Math.imul(K,Jt)|0)|0)+((8191&(s=(s=s+Math.imul(K,dn)|0)+Math.imul(ee,Jt)|0))<<13)|0;N=((v=v+Math.imul(ee,dn)|0)+(s>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,M=Math.imul(Ue,Ae),s=(s=Math.imul(Ue,Qe))+Math.imul(Le,Ae)|0,v=Math.imul(Le,Qe),M=M+Math.imul(ue,gt)|0,s=(s=s+Math.imul(ue,It)|0)+Math.imul(Ee,gt)|0,v=v+Math.imul(Ee,It)|0,M=M+Math.imul(fe,un)|0,s=(s=s+Math.imul(fe,an)|0)+Math.imul(Q,un)|0,v=v+Math.imul(Q,an)|0,M=M+Math.imul(ye,Mn)|0,s=(s=s+Math.imul(ye,Qt)|0)+Math.imul(Te,Mn)|0,v=v+Math.imul(Te,Qt)|0,M=M+Math.imul(Se,Et)|0,s=(s=s+Math.imul(Se,ht)|0)+Math.imul(be,Et)|0,v=v+Math.imul(be,ht)|0,M=M+Math.imul(_e,Jt)|0,s=(s=s+Math.imul(_e,dn)|0)+Math.imul(Pe,Jt)|0,v=v+Math.imul(Pe,dn)|0;var ct=(N+(M=M+Math.imul(K,vt)|0)|0)+((8191&(s=(s=s+Math.imul(K,xt)|0)+Math.imul(ee,vt)|0))<<13)|0;N=((v=v+Math.imul(ee,xt)|0)+(s>>>13)|0)+(ct>>>26)|0,ct&=67108863,M=Math.imul(Ve,Ae),s=(s=Math.imul(Ve,Qe))+Math.imul(Be,Ae)|0,v=Math.imul(Be,Qe),M=M+Math.imul(Ue,gt)|0,s=(s=s+Math.imul(Ue,It)|0)+Math.imul(Le,gt)|0,v=v+Math.imul(Le,It)|0,M=M+Math.imul(ue,un)|0,s=(s=s+Math.imul(ue,an)|0)+Math.imul(Ee,un)|0,v=v+Math.imul(Ee,an)|0,M=M+Math.imul(fe,Mn)|0,s=(s=s+Math.imul(fe,Qt)|0)+Math.imul(Q,Mn)|0,v=v+Math.imul(Q,Qt)|0,M=M+Math.imul(ye,Et)|0,s=(s=s+Math.imul(ye,ht)|0)+Math.imul(Te,Et)|0,v=v+Math.imul(Te,ht)|0,M=M+Math.imul(Se,Jt)|0,s=(s=s+Math.imul(Se,dn)|0)+Math.imul(be,Jt)|0,v=v+Math.imul(be,dn)|0,M=M+Math.imul(_e,vt)|0,s=(s=s+Math.imul(_e,xt)|0)+Math.imul(Pe,vt)|0,v=v+Math.imul(Pe,xt)|0;var Yt=(N+(M=M+Math.imul(K,Xe)|0)|0)+((8191&(s=(s=s+Math.imul(K,nt)|0)+Math.imul(ee,Xe)|0))<<13)|0;N=((v=v+Math.imul(ee,nt)|0)+(s>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,M=Math.imul(B,Ae),s=(s=Math.imul(B,Qe))+Math.imul(w,Ae)|0,v=Math.imul(w,Qe),M=M+Math.imul(Ve,gt)|0,s=(s=s+Math.imul(Ve,It)|0)+Math.imul(Be,gt)|0,v=v+Math.imul(Be,It)|0,M=M+Math.imul(Ue,un)|0,s=(s=s+Math.imul(Ue,an)|0)+Math.imul(Le,un)|0,v=v+Math.imul(Le,an)|0,M=M+Math.imul(ue,Mn)|0,s=(s=s+Math.imul(ue,Qt)|0)+Math.imul(Ee,Mn)|0,v=v+Math.imul(Ee,Qt)|0,M=M+Math.imul(fe,Et)|0,s=(s=s+Math.imul(fe,ht)|0)+Math.imul(Q,Et)|0,v=v+Math.imul(Q,ht)|0,M=M+Math.imul(ye,Jt)|0,s=(s=s+Math.imul(ye,dn)|0)+Math.imul(Te,Jt)|0,v=v+Math.imul(Te,dn)|0,M=M+Math.imul(Se,vt)|0,s=(s=s+Math.imul(Se,xt)|0)+Math.imul(be,vt)|0,v=v+Math.imul(be,xt)|0,M=M+Math.imul(_e,Xe)|0,s=(s=s+Math.imul(_e,nt)|0)+Math.imul(Pe,Xe)|0,v=v+Math.imul(Pe,nt)|0;var _n=(N+(M=M+Math.imul(K,Ot)|0)|0)+((8191&(s=(s=s+Math.imul(K,sn)|0)+Math.imul(ee,Ot)|0))<<13)|0;N=((v=v+Math.imul(ee,sn)|0)+(s>>>13)|0)+(_n>>>26)|0,_n&=67108863,M=Math.imul(U,Ae),s=(s=Math.imul(U,Qe))+Math.imul(ne,Ae)|0,v=Math.imul(ne,Qe),M=M+Math.imul(B,gt)|0,s=(s=s+Math.imul(B,It)|0)+Math.imul(w,gt)|0,v=v+Math.imul(w,It)|0,M=M+Math.imul(Ve,un)|0,s=(s=s+Math.imul(Ve,an)|0)+Math.imul(Be,un)|0,v=v+Math.imul(Be,an)|0,M=M+Math.imul(Ue,Mn)|0,s=(s=s+Math.imul(Ue,Qt)|0)+Math.imul(Le,Mn)|0,v=v+Math.imul(Le,Qt)|0,M=M+Math.imul(ue,Et)|0,s=(s=s+Math.imul(ue,ht)|0)+Math.imul(Ee,Et)|0,v=v+Math.imul(Ee,ht)|0,M=M+Math.imul(fe,Jt)|0,s=(s=s+Math.imul(fe,dn)|0)+Math.imul(Q,Jt)|0,v=v+Math.imul(Q,dn)|0,M=M+Math.imul(ye,vt)|0,s=(s=s+Math.imul(ye,xt)|0)+Math.imul(Te,vt)|0,v=v+Math.imul(Te,xt)|0,M=M+Math.imul(Se,Xe)|0,s=(s=s+Math.imul(Se,nt)|0)+Math.imul(be,Xe)|0,v=v+Math.imul(be,nt)|0,M=M+Math.imul(_e,Ot)|0,s=(s=s+Math.imul(_e,sn)|0)+Math.imul(Pe,Ot)|0,v=v+Math.imul(Pe,sn)|0;var Wn=(N+(M=M+Math.imul(K,bn)|0)|0)+((8191&(s=(s=s+Math.imul(K,In)|0)+Math.imul(ee,bn)|0))<<13)|0;N=((v=v+Math.imul(ee,In)|0)+(s>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,M=Math.imul(U,gt),s=(s=Math.imul(U,It))+Math.imul(ne,gt)|0,v=Math.imul(ne,It),M=M+Math.imul(B,un)|0,s=(s=s+Math.imul(B,an)|0)+Math.imul(w,un)|0,v=v+Math.imul(w,an)|0,M=M+Math.imul(Ve,Mn)|0,s=(s=s+Math.imul(Ve,Qt)|0)+Math.imul(Be,Mn)|0,v=v+Math.imul(Be,Qt)|0,M=M+Math.imul(Ue,Et)|0,s=(s=s+Math.imul(Ue,ht)|0)+Math.imul(Le,Et)|0,v=v+Math.imul(Le,ht)|0,M=M+Math.imul(ue,Jt)|0,s=(s=s+Math.imul(ue,dn)|0)+Math.imul(Ee,Jt)|0,v=v+Math.imul(Ee,dn)|0,M=M+Math.imul(fe,vt)|0,s=(s=s+Math.imul(fe,xt)|0)+Math.imul(Q,vt)|0,v=v+Math.imul(Q,xt)|0,M=M+Math.imul(ye,Xe)|0,s=(s=s+Math.imul(ye,nt)|0)+Math.imul(Te,Xe)|0,v=v+Math.imul(Te,nt)|0,M=M+Math.imul(Se,Ot)|0,s=(s=s+Math.imul(Se,sn)|0)+Math.imul(be,Ot)|0,v=v+Math.imul(be,sn)|0;var Yn=(N+(M=M+Math.imul(_e,bn)|0)|0)+((8191&(s=(s=s+Math.imul(_e,In)|0)+Math.imul(Pe,bn)|0))<<13)|0;N=((v=v+Math.imul(Pe,In)|0)+(s>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,M=Math.imul(U,un),s=(s=Math.imul(U,an))+Math.imul(ne,un)|0,v=Math.imul(ne,an),M=M+Math.imul(B,Mn)|0,s=(s=s+Math.imul(B,Qt)|0)+Math.imul(w,Mn)|0,v=v+Math.imul(w,Qt)|0,M=M+Math.imul(Ve,Et)|0,s=(s=s+Math.imul(Ve,ht)|0)+Math.imul(Be,Et)|0,v=v+Math.imul(Be,ht)|0,M=M+Math.imul(Ue,Jt)|0,s=(s=s+Math.imul(Ue,dn)|0)+Math.imul(Le,Jt)|0,v=v+Math.imul(Le,dn)|0,M=M+Math.imul(ue,vt)|0,s=(s=s+Math.imul(ue,xt)|0)+Math.imul(Ee,vt)|0,v=v+Math.imul(Ee,xt)|0,M=M+Math.imul(fe,Xe)|0,s=(s=s+Math.imul(fe,nt)|0)+Math.imul(Q,Xe)|0,v=v+Math.imul(Q,nt)|0,M=M+Math.imul(ye,Ot)|0,s=(s=s+Math.imul(ye,sn)|0)+Math.imul(Te,Ot)|0,v=v+Math.imul(Te,sn)|0;var yr=(N+(M=M+Math.imul(Se,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Se,In)|0)+Math.imul(be,bn)|0))<<13)|0;N=((v=v+Math.imul(be,In)|0)+(s>>>13)|0)+(yr>>>26)|0,yr&=67108863,M=Math.imul(U,Mn),s=(s=Math.imul(U,Qt))+Math.imul(ne,Mn)|0,v=Math.imul(ne,Qt),M=M+Math.imul(B,Et)|0,s=(s=s+Math.imul(B,ht)|0)+Math.imul(w,Et)|0,v=v+Math.imul(w,ht)|0,M=M+Math.imul(Ve,Jt)|0,s=(s=s+Math.imul(Ve,dn)|0)+Math.imul(Be,Jt)|0,v=v+Math.imul(Be,dn)|0,M=M+Math.imul(Ue,vt)|0,s=(s=s+Math.imul(Ue,xt)|0)+Math.imul(Le,vt)|0,v=v+Math.imul(Le,xt)|0,M=M+Math.imul(ue,Xe)|0,s=(s=s+Math.imul(ue,nt)|0)+Math.imul(Ee,Xe)|0,v=v+Math.imul(Ee,nt)|0,M=M+Math.imul(fe,Ot)|0,s=(s=s+Math.imul(fe,sn)|0)+Math.imul(Q,Ot)|0,v=v+Math.imul(Q,sn)|0;var Nr=(N+(M=M+Math.imul(ye,bn)|0)|0)+((8191&(s=(s=s+Math.imul(ye,In)|0)+Math.imul(Te,bn)|0))<<13)|0;N=((v=v+Math.imul(Te,In)|0)+(s>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,M=Math.imul(U,Et),s=(s=Math.imul(U,ht))+Math.imul(ne,Et)|0,v=Math.imul(ne,ht),M=M+Math.imul(B,Jt)|0,s=(s=s+Math.imul(B,dn)|0)+Math.imul(w,Jt)|0,v=v+Math.imul(w,dn)|0,M=M+Math.imul(Ve,vt)|0,s=(s=s+Math.imul(Ve,xt)|0)+Math.imul(Be,vt)|0,v=v+Math.imul(Be,xt)|0,M=M+Math.imul(Ue,Xe)|0,s=(s=s+Math.imul(Ue,nt)|0)+Math.imul(Le,Xe)|0,v=v+Math.imul(Le,nt)|0,M=M+Math.imul(ue,Ot)|0,s=(s=s+Math.imul(ue,sn)|0)+Math.imul(Ee,Ot)|0,v=v+Math.imul(Ee,sn)|0;var Ur=(N+(M=M+Math.imul(fe,bn)|0)|0)+((8191&(s=(s=s+Math.imul(fe,In)|0)+Math.imul(Q,bn)|0))<<13)|0;N=((v=v+Math.imul(Q,In)|0)+(s>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,M=Math.imul(U,Jt),s=(s=Math.imul(U,dn))+Math.imul(ne,Jt)|0,v=Math.imul(ne,dn),M=M+Math.imul(B,vt)|0,s=(s=s+Math.imul(B,xt)|0)+Math.imul(w,vt)|0,v=v+Math.imul(w,xt)|0,M=M+Math.imul(Ve,Xe)|0,s=(s=s+Math.imul(Ve,nt)|0)+Math.imul(Be,Xe)|0,v=v+Math.imul(Be,nt)|0,M=M+Math.imul(Ue,Ot)|0,s=(s=s+Math.imul(Ue,sn)|0)+Math.imul(Le,Ot)|0,v=v+Math.imul(Le,sn)|0;var Kr=(N+(M=M+Math.imul(ue,bn)|0)|0)+((8191&(s=(s=s+Math.imul(ue,In)|0)+Math.imul(Ee,bn)|0))<<13)|0;N=((v=v+Math.imul(Ee,In)|0)+(s>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,M=Math.imul(U,vt),s=(s=Math.imul(U,xt))+Math.imul(ne,vt)|0,v=Math.imul(ne,xt),M=M+Math.imul(B,Xe)|0,s=(s=s+Math.imul(B,nt)|0)+Math.imul(w,Xe)|0,v=v+Math.imul(w,nt)|0,M=M+Math.imul(Ve,Ot)|0,s=(s=s+Math.imul(Ve,sn)|0)+Math.imul(Be,Ot)|0,v=v+Math.imul(Be,sn)|0;var Xr=(N+(M=M+Math.imul(Ue,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Ue,In)|0)+Math.imul(Le,bn)|0))<<13)|0;N=((v=v+Math.imul(Le,In)|0)+(s>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,M=Math.imul(U,Xe),s=(s=Math.imul(U,nt))+Math.imul(ne,Xe)|0,v=Math.imul(ne,nt),M=M+Math.imul(B,Ot)|0,s=(s=s+Math.imul(B,sn)|0)+Math.imul(w,Ot)|0,v=v+Math.imul(w,sn)|0;var ri=(N+(M=M+Math.imul(Ve,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Ve,In)|0)+Math.imul(Be,bn)|0))<<13)|0;N=((v=v+Math.imul(Be,In)|0)+(s>>>13)|0)+(ri>>>26)|0,ri&=67108863,M=Math.imul(U,Ot),s=(s=Math.imul(U,sn))+Math.imul(ne,Ot)|0,v=Math.imul(ne,sn);var en=(N+(M=M+Math.imul(B,bn)|0)|0)+((8191&(s=(s=s+Math.imul(B,In)|0)+Math.imul(w,bn)|0))<<13)|0;N=((v=v+Math.imul(w,In)|0)+(s>>>13)|0)+(en>>>26)|0,en&=67108863;var wn=(N+(M=Math.imul(U,bn))|0)+((8191&(s=(s=Math.imul(U,In))+Math.imul(ne,bn)|0))<<13)|0;return N=((v=Math.imul(ne,In))+(s>>>13)|0)+(wn>>>26)|0,wn&=67108863,T[0]=Ar,T[1]=Jn,T[2]=Ln,T[3]=$n,T[4]=st,T[5]=Ge,T[6]=ct,T[7]=Yt,T[8]=_n,T[9]=Wn,T[10]=Yn,T[11]=yr,T[12]=Nr,T[13]=Ur,T[14]=Kr,T[15]=Xr,T[16]=ri,T[17]=en,T[18]=wn,0!==N&&(T[19]=N,y.length++),y};function J(C,a,u){return(new Y).mulp(C,a,u)}function Y(C,a){this.x=C,this.y=a}Math.imul||(re=G),x.prototype.mulTo=function(a,u){var y,g=this.length+a.length;return y=10===this.length&&10===a.length?re(this,a,u):g<63?G(this,a,u):g<1024?function te(C,a,u){u.negative=a.negative^C.negative,u.length=C.length+a.length;for(var y=0,g=0,S=0;S<u.length-1;S++){var T=g;g=0;for(var N=67108863&y,M=Math.min(S,a.length-1),s=Math.max(0,S-C.length+1);s<=M;s++){var ee=(0|C.words[S-s])*(0|a.words[s]),ce=67108863&ee;N=67108863&(ce=ce+N|0),g+=(T=(T=T+(ee/67108864|0)|0)+(ce>>>26)|0)>>>26,T&=67108863}u.words[S]=N,y=T,T=g}return 0!==y?u.words[S]=y:u.length--,u.strip()}(this,a,u):J(this,a,u),y},Y.prototype.makeRBT=function(a){for(var u=new Array(a),y=x.prototype._countBits(a)-1,g=0;g<a;g++)u[g]=this.revBin(g,y,a);return u},Y.prototype.revBin=function(a,u,y){if(0===a||a===y-1)return a;for(var g=0,S=0;S<u;S++)g|=(1&a)<<u-S-1,a>>=1;return g},Y.prototype.permute=function(a,u,y,g,S,T){for(var N=0;N<T;N++)g[N]=u[a[N]],S[N]=y[a[N]]},Y.prototype.transform=function(a,u,y,g,S,T){this.permute(T,a,u,y,g,S);for(var N=1;N<S;N<<=1)for(var M=N<<1,s=Math.cos(2*Math.PI/M),v=Math.sin(2*Math.PI/M),W=0;W<S;W+=M)for(var K=s,ee=v,ce=0;ce<N;ce++){var _e=y[W+ce],Pe=g[W+ce],$e=y[W+ce+N],Se=g[W+ce+N],be=K*$e-ee*Se;Se=K*Se+ee*$e,y[W+ce]=_e+($e=be),g[W+ce]=Pe+Se,y[W+ce+N]=_e-$e,g[W+ce+N]=Pe-Se,ce!==M&&(be=s*K-v*ee,ee=s*ee+v*K,K=be)}},Y.prototype.guessLen13b=function(a,u){var y=1|Math.max(u,a),g=1&y,S=0;for(y=y/2|0;y;y>>>=1)S++;return 1<<S+1+g},Y.prototype.conjugate=function(a,u,y){if(!(y<=1))for(var g=0;g<y/2;g++){var S=a[g];a[g]=a[y-g-1],a[y-g-1]=S,S=u[g],u[g]=-u[y-g-1],u[y-g-1]=-S}},Y.prototype.normalize13b=function(a,u){for(var y=0,g=0;g<u/2;g++){var S=8192*Math.round(a[2*g+1]/u)+Math.round(a[2*g]/u)+y;a[g]=67108863&S,y=S<67108864?0:S/67108864|0}return a},Y.prototype.convert13b=function(a,u,y,g){for(var S=0,T=0;T<u;T++)y[2*T]=8191&(S+=0|a[T]),y[2*T+1]=8191&(S>>>=13),S>>>=13;for(T=2*u;T<g;++T)y[T]=0;k(0===S),k(!(-8192&S))},Y.prototype.stub=function(a){for(var u=new Array(a),y=0;y<a;y++)u[y]=0;return u},Y.prototype.mulp=function(a,u,y){var g=2*this.guessLen13b(a.length,u.length),S=this.makeRBT(g),T=this.stub(g),N=new Array(g),M=new Array(g),s=new Array(g),v=new Array(g),W=new Array(g),K=new Array(g),ee=y.words;ee.length=g,this.convert13b(a.words,a.length,N,g),this.convert13b(u.words,u.length,v,g),this.transform(N,T,M,s,g,S),this.transform(v,T,W,K,g,S);for(var ce=0;ce<g;ce++){var _e=M[ce]*W[ce]-s[ce]*K[ce];s[ce]=M[ce]*K[ce]+s[ce]*W[ce],M[ce]=_e}return this.conjugate(M,s,g),this.transform(M,s,ee,T,g,S),this.conjugate(ee,T,g),this.normalize13b(ee,g),y.negative=a.negative^u.negative,y.length=a.length+u.length,y.strip()},x.prototype.mul=function(a){var u=new x(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},x.prototype.mulf=function(a){var u=new x(null);return u.words=new Array(this.length+a.length),J(this,a,u)},x.prototype.imul=function(a){return this.clone().mulTo(a,this)},x.prototype.imuln=function(a){k("number"==typeof a),k(a<67108864);for(var u=0,y=0;y<this.length;y++){var g=(0|this.words[y])*a,S=(67108863&g)+(67108863&u);u>>=26,u+=g/67108864|0,u+=S>>>26,this.words[y]=67108863&S}return 0!==u&&(this.words[y]=u,this.length++),this},x.prototype.muln=function(a){return this.clone().imuln(a)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(a){var u=function j(C){for(var a=new Array(C.bitLength()),u=0;u<a.length;u++){var g=u%26;a[u]=(C.words[u/26|0]&1<<g)>>>g}return a}(a);if(0===u.length)return new x(1);for(var y=this,g=0;g<u.length&&0===u[g];g++,y=y.sqr());if(++g<u.length)for(var S=y.sqr();g<u.length;g++,S=S.sqr())0!==u[g]&&(y=y.mul(S));return y},x.prototype.iushln=function(a){k("number"==typeof a&&a>=0);var S,u=a%26,y=(a-u)/26,g=67108863>>>26-u<<26-u;if(0!==u){var T=0;for(S=0;S<this.length;S++){var N=this.words[S]&g;this.words[S]=(0|this.words[S])-N<<u|T,T=N>>>26-u}T&&(this.words[S]=T,this.length++)}if(0!==y){for(S=this.length-1;S>=0;S--)this.words[S+y]=this.words[S];for(S=0;S<y;S++)this.words[S]=0;this.length+=y}return this.strip()},x.prototype.ishln=function(a){return k(0===this.negative),this.iushln(a)},x.prototype.iushrn=function(a,u,y){var g;k("number"==typeof a&&a>=0),g=u?(u-u%26)/26:0;var S=a%26,T=Math.min((a-S)/26,this.length),N=67108863^67108863>>>S<<S,M=y;if(g-=T,g=Math.max(0,g),M){for(var s=0;s<T;s++)M.words[s]=this.words[s];M.length=T}if(0!==T)if(this.length>T)for(this.length-=T,s=0;s<this.length;s++)this.words[s]=this.words[s+T];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=g);s--){var W=0|this.words[s];this.words[s]=v<<26-S|W>>>S,v=W&N}return M&&0!==v&&(M.words[M.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},x.prototype.ishrn=function(a,u,y){return k(0===this.negative),this.iushrn(a,u,y)},x.prototype.shln=function(a){return this.clone().ishln(a)},x.prototype.ushln=function(a){return this.clone().iushln(a)},x.prototype.shrn=function(a){return this.clone().ishrn(a)},x.prototype.ushrn=function(a){return this.clone().iushrn(a)},x.prototype.testn=function(a){k("number"==typeof a&&a>=0);var u=a%26,y=(a-u)/26;return!(this.length<=y||!(this.words[y]&1<<u))},x.prototype.imaskn=function(a){k("number"==typeof a&&a>=0);var u=a%26,y=(a-u)/26;return k(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==u&&y++,this.length=Math.min(y,this.length),0!==u&&(this.words[this.length-1]&=67108863^67108863>>>u<<u),this.strip())},x.prototype.maskn=function(a){return this.clone().imaskn(a)},x.prototype.iaddn=function(a){return k("number"==typeof a),k(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},x.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},x.prototype.isubn=function(a){if(k("number"==typeof a),k(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},x.prototype.addn=function(a){return this.clone().iaddn(a)},x.prototype.subn=function(a){return this.clone().isubn(a)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(a,u,y){var S;this._expand(a.length+y);var T,N=0;for(S=0;S<a.length;S++){T=(0|this.words[S+y])+N;var M=(0|a.words[S])*u;N=((T-=67108863&M)>>26)-(M/67108864|0),this.words[S+y]=67108863&T}for(;S<this.length-y;S++)N=(T=(0|this.words[S+y])+N)>>26,this.words[S+y]=67108863&T;if(0===N)return this.strip();for(k(-1===N),N=0,S=0;S<this.length;S++)N=(T=-(0|this.words[S])+N)>>26,this.words[S]=67108863&T;return this.negative=1,this.strip()},x.prototype._wordDiv=function(a,u){var y,g=this.clone(),S=a,T=0|S.words[S.length-1];0!=(y=26-this._countBits(T))&&(S=S.ushln(y),g.iushln(y),T=0|S.words[S.length-1]);var s,M=g.length-S.length;if("mod"!==u){(s=new x(null)).length=M+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var W=g.clone()._ishlnsubmul(S,1,M);0===W.negative&&(g=W,s&&(s.words[M]=1));for(var K=M-1;K>=0;K--){var ee=67108864*(0|g.words[S.length+K])+(0|g.words[S.length+K-1]);for(ee=Math.min(ee/T|0,67108863),g._ishlnsubmul(S,ee,K);0!==g.negative;)ee--,g.negative=0,g._ishlnsubmul(S,1,K),g.isZero()||(g.negative^=1);s&&(s.words[K]=ee)}return s&&s.strip(),g.strip(),"div"!==u&&0!==y&&g.iushrn(y),{div:s||null,mod:g}},x.prototype.divmod=function(a,u,y){return k(!a.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===a.negative?(T=this.neg().divmod(a,u),"mod"!==u&&(g=T.div.neg()),"div"!==u&&(S=T.mod.neg(),y&&0!==S.negative&&S.iadd(a)),{div:g,mod:S}):0===this.negative&&0!==a.negative?(T=this.divmod(a.neg(),u),"mod"!==u&&(g=T.div.neg()),{div:g,mod:T.mod}):this.negative&a.negative?(T=this.neg().divmod(a.neg(),u),"div"!==u&&(S=T.mod.neg(),y&&0!==S.negative&&S.isub(a)),{div:T.div,mod:S}):a.length>this.length||this.cmp(a)<0?{div:new x(0),mod:this}:1===a.length?"div"===u?{div:this.divn(a.words[0]),mod:null}:"mod"===u?{div:null,mod:new x(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new x(this.modn(a.words[0]))}:this._wordDiv(a,u);var g,S,T},x.prototype.div=function(a){return this.divmod(a,"div",!1).div},x.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},x.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},x.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var y=0!==u.div.negative?u.mod.isub(a):u.mod,g=a.ushrn(1),S=a.andln(1),T=y.cmp(g);return T<0||1===S&&0===T?u.div:0!==u.div.negative?u.div.isubn(1):u.div.iaddn(1)},x.prototype.modn=function(a){k(a<=67108863);for(var u=(1<<26)%a,y=0,g=this.length-1;g>=0;g--)y=(u*y+(0|this.words[g]))%a;return y},x.prototype.idivn=function(a){k(a<=67108863);for(var u=0,y=this.length-1;y>=0;y--){var g=(0|this.words[y])+67108864*u;this.words[y]=g/a|0,u=g%a}return this.strip()},x.prototype.divn=function(a){return this.clone().idivn(a)},x.prototype.egcd=function(a){k(0===a.negative),k(!a.isZero());var u=this,y=a.clone();u=0!==u.negative?u.umod(a):u.clone();for(var g=new x(1),S=new x(0),T=new x(0),N=new x(1),M=0;u.isEven()&&y.isEven();)u.iushrn(1),y.iushrn(1),++M;for(var s=y.clone(),v=u.clone();!u.isZero();){for(var W=0,K=1;!(u.words[0]&K)&&W<26;++W,K<<=1);if(W>0)for(u.iushrn(W);W-- >0;)(g.isOdd()||S.isOdd())&&(g.iadd(s),S.isub(v)),g.iushrn(1),S.iushrn(1);for(var ee=0,ce=1;!(y.words[0]&ce)&&ee<26;++ee,ce<<=1);if(ee>0)for(y.iushrn(ee);ee-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(s),N.isub(v)),T.iushrn(1),N.iushrn(1);u.cmp(y)>=0?(u.isub(y),g.isub(T),S.isub(N)):(y.isub(u),T.isub(g),N.isub(S))}return{a:T,b:N,gcd:y.iushln(M)}},x.prototype._invmp=function(a){k(0===a.negative),k(!a.isZero());var W,u=this,y=a.clone();u=0!==u.negative?u.umod(a):u.clone();for(var g=new x(1),S=new x(0),T=y.clone();u.cmpn(1)>0&&y.cmpn(1)>0;){for(var N=0,M=1;!(u.words[0]&M)&&N<26;++N,M<<=1);if(N>0)for(u.iushrn(N);N-- >0;)g.isOdd()&&g.iadd(T),g.iushrn(1);for(var s=0,v=1;!(y.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(y.iushrn(s);s-- >0;)S.isOdd()&&S.iadd(T),S.iushrn(1);u.cmp(y)>=0?(u.isub(y),g.isub(S)):(y.isub(u),S.isub(g))}return(W=0===u.cmpn(1)?g:S).cmpn(0)<0&&W.iadd(a),W},x.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),y=a.clone();u.negative=0,y.negative=0;for(var g=0;u.isEven()&&y.isEven();g++)u.iushrn(1),y.iushrn(1);for(;;){for(;u.isEven();)u.iushrn(1);for(;y.isEven();)y.iushrn(1);var S=u.cmp(y);if(S<0){var T=u;u=y,y=T}else if(0===S||0===y.cmpn(1))break;u.isub(y)}return y.iushln(g)},x.prototype.invm=function(a){return this.egcd(a).a.umod(a)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(a){return this.words[0]&a},x.prototype.bincn=function(a){k("number"==typeof a);var u=a%26,y=(a-u)/26,g=1<<u;if(this.length<=y)return this._expand(y+1),this.words[y]|=g,this;for(var S=g,T=y;0!==S&&T<this.length;T++){var N=0|this.words[T];S=(N+=S)>>>26,this.words[T]=N&=67108863}return 0!==S&&(this.words[T]=S,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(a){var y,u=a<0;if(0!==this.negative&&!u)return-1;if(0===this.negative&&u)return 1;if(this.strip(),this.length>1)y=1;else{u&&(a=-a),k(a<=67108863,"Number is too big");var g=0|this.words[0];y=g===a?0:g<a?-1:1}return 0!==this.negative?0|-y:y},x.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var u=this.ucmp(a);return 0!==this.negative?0|-u:u},x.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,y=this.length-1;y>=0;y--){var g=0|this.words[y],S=0|a.words[y];if(g!==S){g<S?u=-1:g>S&&(u=1);break}}return u},x.prototype.gtn=function(a){return 1===this.cmpn(a)},x.prototype.gt=function(a){return 1===this.cmp(a)},x.prototype.gten=function(a){return this.cmpn(a)>=0},x.prototype.gte=function(a){return this.cmp(a)>=0},x.prototype.ltn=function(a){return-1===this.cmpn(a)},x.prototype.lt=function(a){return-1===this.cmp(a)},x.prototype.lten=function(a){return this.cmpn(a)<=0},x.prototype.lte=function(a){return this.cmp(a)<=0},x.prototype.eqn=function(a){return 0===this.cmpn(a)},x.prototype.eq=function(a){return 0===this.cmp(a)},x.red=function(a){return new xe(a)},x.prototype.toRed=function(a){return k(!this.red,"Already a number in reduction context"),k(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},x.prototype.fromRed=function(){return k(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(a){return this.red=a,this},x.prototype.forceRed=function(a){return k(!this.red,"Already a number in reduction context"),this._forceRed(a)},x.prototype.redAdd=function(a){return k(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},x.prototype.redIAdd=function(a){return k(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},x.prototype.redSub=function(a){return k(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},x.prototype.redISub=function(a){return k(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},x.prototype.redShl=function(a){return k(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},x.prototype.redMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},x.prototype.redIMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},x.prototype.redSqr=function(){return k(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return k(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return k(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return k(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return k(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(a){return k(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var oe={k256:null,p224:null,p192:null,p25519:null};function ae(C,a){this.name=C,this.p=new x(a,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function se(){ae.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function de(){ae.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function le(){ae.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function we(){ae.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function xe(C){if("string"==typeof C){var a=x._prime(C);this.m=a.p,this.prime=a}else k(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Ce(C){xe.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ae.prototype._tmp=function(){var a=new x(null);return a.words=new Array(Math.ceil(this.n/13)),a},ae.prototype.ireduce=function(a){var y,u=a;do{this.split(u,this.tmp),y=(u=(u=this.imulK(u)).iadd(this.tmp)).bitLength()}while(y>this.n);var g=y<this.n?-1:u.ucmp(this.p);return 0===g?(u.words[0]=0,u.length=1):g>0?u.isub(this.p):void 0!==u.strip?u.strip():u._strip(),u},ae.prototype.split=function(a,u){a.iushrn(this.n,0,u)},ae.prototype.imulK=function(a){return a.imul(this.k)},H(se,ae),se.prototype.split=function(a,u){for(var y=4194303,g=Math.min(a.length,9),S=0;S<g;S++)u.words[S]=a.words[S];if(u.length=g,a.length<=9)return a.words[0]=0,void(a.length=1);var T=a.words[9];for(u.words[u.length++]=T&y,S=10;S<a.length;S++){var N=0|a.words[S];a.words[S-10]=(N&y)<<4|T>>>22,T=N}a.words[S-10]=T>>>=22,a.length-=0===T&&a.length>10?10:9},se.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,y=0;y<a.length;y++){var g=0|a.words[y];a.words[y]=67108863&(u+=977*g),u=64*g+(u/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},H(de,ae),H(le,ae),H(we,ae),we.prototype.imulK=function(a){for(var u=0,y=0;y<a.length;y++){var g=19*(0|a.words[y])+u,S=67108863&g;g>>>=26,a.words[y]=S,u=g}return 0!==u&&(a.words[a.length++]=u),a},x._prime=function(a){if(oe[a])return oe[a];var u;if("k256"===a)u=new se;else if("p224"===a)u=new de;else if("p192"===a)u=new le;else{if("p25519"!==a)throw new Error("Unknown prime "+a);u=new we}return oe[a]=u,u},xe.prototype._verify1=function(a){k(0===a.negative,"red works only with positives"),k(a.red,"red works only with red numbers")},xe.prototype._verify2=function(a,u){k(!(a.negative|u.negative),"red works only with positives"),k(a.red&&a.red===u.red,"red works only with red numbers")},xe.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},xe.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},xe.prototype.add=function(a,u){this._verify2(a,u);var y=a.add(u);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},xe.prototype.iadd=function(a,u){this._verify2(a,u);var y=a.iadd(u);return y.cmp(this.m)>=0&&y.isub(this.m),y},xe.prototype.sub=function(a,u){this._verify2(a,u);var y=a.sub(u);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},xe.prototype.isub=function(a,u){this._verify2(a,u);var y=a.isub(u);return y.cmpn(0)<0&&y.iadd(this.m),y},xe.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},xe.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},xe.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},xe.prototype.isqr=function(a){return this.imul(a,a.clone())},xe.prototype.sqr=function(a){return this.mul(a,a)},xe.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(k(u%2==1),3===u){var y=this.m.add(new x(1)).iushrn(2);return this.pow(a,y)}for(var g=this.m.subn(1),S=0;!g.isZero()&&0===g.andln(1);)S++,g.iushrn(1);k(!g.isZero());var T=new x(1).toRed(this),N=T.redNeg(),M=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new x(2*s*s).toRed(this);0!==this.pow(s,M).cmp(N);)s.redIAdd(N);for(var v=this.pow(s,g),W=this.pow(a,g.addn(1).iushrn(1)),K=this.pow(a,g),ee=S;0!==K.cmp(T);){for(var ce=K,_e=0;0!==ce.cmp(T);_e++)ce=ce.redSqr();k(_e<ee);var Pe=this.pow(v,new x(1).iushln(ee-_e-1));W=W.redMul(Pe),v=Pe.redSqr(),K=K.redMul(v),ee=_e}return W},xe.prototype.invm=function(a){var u=a._invmp(this.m);return 0!==u.negative?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},xe.prototype.pow=function(a,u){if(u.isZero())return new x(1).toRed(this);if(0===u.cmpn(1))return a.clone();var g=new Array(16);g[0]=new x(1).toRed(this),g[1]=a;for(var S=2;S<g.length;S++)g[S]=this.mul(g[S-1],a);var T=g[0],N=0,M=0,s=u.bitLength()%26;for(0===s&&(s=26),S=u.length-1;S>=0;S--){for(var v=u.words[S],W=s-1;W>=0;W--){var K=v>>W&1;T!==g[0]&&(T=this.sqr(T)),0!==K||0!==N?(N<<=1,N|=K,(4==++M||0===S&&0===W)&&(T=this.mul(T,g[N]),M=0,N=0)):M=0}s=26}return T},xe.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},xe.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},x.mont=function(a){return new Ce(a)},H(Ce,xe),Ce.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},Ce.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},Ce.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var y=a.imul(u),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(g).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},Ce.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new x(0)._forceRed(this);var y=a.mul(u),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(g).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},Ce.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(Fe=_.nmd(Fe),this)},13981:(Fe,z)=>{"use strict";z.byteLength=function A(j){var G=R(j),te=G[1];return 3*(G[0]+te)/4-te},z.toByteArray=function F(j){var G,se,re=R(j),te=re[0],J=re[1],Y=new E(function O(j,G,re){return 3*(G+re)/4-re}(0,te,J)),oe=0,ae=J>0?te-4:te;for(se=0;se<ae;se+=4)G=p[j.charCodeAt(se)]<<18|p[j.charCodeAt(se+1)]<<12|p[j.charCodeAt(se+2)]<<6|p[j.charCodeAt(se+3)],Y[oe++]=G>>16&255,Y[oe++]=G>>8&255,Y[oe++]=255&G;return 2===J&&(G=p[j.charCodeAt(se)]<<2|p[j.charCodeAt(se+1)]>>4,Y[oe++]=255&G),1===J&&(G=p[j.charCodeAt(se)]<<10|p[j.charCodeAt(se+1)]<<4|p[j.charCodeAt(se+2)]>>2,Y[oe++]=G>>8&255,Y[oe++]=255&G),Y},z.fromByteArray=function Z(j){for(var G,re=j.length,te=re%3,J=[],Y=16383,oe=0,ae=re-te;oe<ae;oe+=Y)J.push(I(j,oe,oe+Y>ae?ae:oe+Y));return 1===te?J.push(_[(G=j[re-1])>>2]+_[G<<4&63]+"=="):2===te&&J.push(_[(G=(j[re-2]<<8)+j[re-1])>>10]+_[G>>4&63]+_[G<<2&63]+"="),J.join("")};for(var _=[],p=[],E=typeof Uint8Array<"u"?Uint8Array:Array,k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",H=0;H<64;++H)_[H]=k[H],p[k.charCodeAt(H)]=H;function R(j){var G=j.length;if(G%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var re=j.indexOf("=");return-1===re&&(re=G),[re,re===G?0:4-re%4]}function L(j){return _[j>>18&63]+_[j>>12&63]+_[j>>6&63]+_[63&j]}function I(j,G,re){for(var J=[],Y=G;Y<re;Y+=3)J.push(L((j[Y]<<16&16711680)+(j[Y+1]<<8&65280)+(255&j[Y+2])));return J.join("")}p[45]=62,p[95]=63},917:function(Fe,z,_){!function(p,E){"use strict";function k(y,g){if(!y)throw new Error(g||"Assertion failed")}function H(y,g){y.super_=g;var S=function(){};S.prototype=g.prototype,y.prototype=new S,y.prototype.constructor=y}function x(y,g,S){if(x.isBN(y))return y;this.negative=0,this.words=null,this.length=0,this.red=null,null!==y&&(("le"===g||"be"===g)&&(S=g,g=10),this._init(y||0,g||10,S||"be"))}var R;"object"==typeof p?p.exports=x:E.BN=x,x.BN=x,x.wordSize=26;try{R=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:_(47790).Buffer}catch{}function A(y,g){var S=y.charCodeAt(g);return S>=48&&S<=57?S-48:S>=65&&S<=70?S-55:S>=97&&S<=102?S-87:void k(!1,"Invalid character in "+y)}function O(y,g,S){var T=A(y,S);return S-1>=g&&(T|=A(y,S-1)<<4),T}function F(y,g,S,T){for(var N=0,M=0,s=Math.min(y.length,S),v=g;v<s;v++){var W=y.charCodeAt(v)-48;N*=T,M=W>=49?W-49+10:W>=17?W-17+10:W,k(W>=0&&M<T,"Invalid character"),N+=M}return N}function L(y,g){y.words=g.words,y.length=g.length,y.negative=g.negative,y.red=g.red}if(x.isBN=function(g){return g instanceof x||null!==g&&"object"==typeof g&&g.constructor.wordSize===x.wordSize&&Array.isArray(g.words)},x.max=function(g,S){return g.cmp(S)>0?g:S},x.min=function(g,S){return g.cmp(S)<0?g:S},x.prototype._init=function(g,S,T){if("number"==typeof g)return this._initNumber(g,S,T);if("object"==typeof g)return this._initArray(g,S,T);"hex"===S&&(S=16),k(S===(0|S)&&S>=2&&S<=36);var N=0;"-"===(g=g.toString().replace(/\s+/g,""))[0]&&(N++,this.negative=1),N<g.length&&(16===S?this._parseHex(g,N,T):(this._parseBase(g,S,N),"le"===T&&this._initArray(this.toArray(),S,T)))},x.prototype._initNumber=function(g,S,T){g<0&&(this.negative=1,g=-g),g<67108864?(this.words=[67108863&g],this.length=1):g<4503599627370496?(this.words=[67108863&g,g/67108864&67108863],this.length=2):(k(g<9007199254740992),this.words=[67108863&g,g/67108864&67108863,1],this.length=3),"le"===T&&this._initArray(this.toArray(),S,T)},x.prototype._initArray=function(g,S,T){if(k("number"==typeof g.length),g.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(g.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var M,s,v=0;if("be"===T)for(N=g.length-1,M=0;N>=0;N-=3)this.words[M]|=(s=g[N]|g[N-1]<<8|g[N-2]<<16)<<v&67108863,this.words[M+1]=s>>>26-v&67108863,(v+=24)>=26&&(v-=26,M++);else if("le"===T)for(N=0,M=0;N<g.length;N+=3)this.words[M]|=(s=g[N]|g[N+1]<<8|g[N+2]<<16)<<v&67108863,this.words[M+1]=s>>>26-v&67108863,(v+=24)>=26&&(v-=26,M++);return this._strip()},x.prototype._parseHex=function(g,S,T){this.length=Math.ceil((g.length-S)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var v,M=0,s=0;if("be"===T)for(N=g.length-1;N>=S;N-=2)v=O(g,S,N)<<M,this.words[s]|=67108863&v,M>=18?(M-=18,this.words[s+=1]|=v>>>26):M+=8;else for(N=(g.length-S)%2==0?S+1:S;N<g.length;N+=2)v=O(g,S,N)<<M,this.words[s]|=67108863&v,M>=18?(M-=18,this.words[s+=1]|=v>>>26):M+=8;this._strip()},x.prototype._parseBase=function(g,S,T){this.words=[0],this.length=1;for(var N=0,M=1;M<=67108863;M*=S)N++;N--,M=M/S|0;for(var s=g.length-T,v=s%N,W=Math.min(s,s-v)+T,K=0,ee=T;ee<W;ee+=N)K=F(g,ee,ee+N,S),this.imuln(M),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K);if(0!==v){var ce=1;for(K=F(g,ee,g.length,S),ee=0;ee<v;ee++)ce*=S;this.imuln(ce),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K)}this._strip()},x.prototype.copy=function(g){g.words=new Array(this.length);for(var S=0;S<this.length;S++)g.words[S]=this.words[S];g.length=this.length,g.negative=this.negative,g.red=this.red},x.prototype._move=function(g){L(g,this)},x.prototype.clone=function(){var g=new x(null);return this.copy(g),g},x.prototype._expand=function(g){for(;this.length<g;)this.words[this.length++]=0;return this},x.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{x.prototype[Symbol.for("nodejs.util.inspect.custom")]=I}catch{x.prototype.inspect=I}else x.prototype.inspect=I;function I(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],j=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],G=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function J(y,g,S){S.negative=g.negative^y.negative;var T=y.length+g.length|0;S.length=T,T=T-1|0;var N=0|y.words[0],M=0|g.words[0],s=N*M,W=s/67108864|0;S.words[0]=67108863&s;for(var K=1;K<T;K++){for(var ee=W>>>26,ce=67108863&W,_e=Math.min(K,g.length-1),Pe=Math.max(0,K-y.length+1);Pe<=_e;Pe++)ee+=(s=(N=0|y.words[K-Pe|0])*(M=0|g.words[Pe])+ce)/67108864|0,ce=67108863&s;S.words[K]=0|ce,W=0|ee}return 0!==W?S.words[K]=0|W:S.length--,S._strip()}x.prototype.toString=function(g,S){var T;if(S=0|S||1,16===(g=g||10)||"hex"===g){T="";for(var N=0,M=0,s=0;s<this.length;s++){var v=this.words[s],W=(16777215&(v<<N|M)).toString(16);M=v>>>24-N&16777215,(N+=2)>=26&&(N-=26,s--),T=0!==M||s!==this.length-1?Z[6-W.length]+W+T:W+T}for(0!==M&&(T=M.toString(16)+T);T.length%S!=0;)T="0"+T;return 0!==this.negative&&(T="-"+T),T}if(g===(0|g)&&g>=2&&g<=36){var K=j[g],ee=G[g];T="";var ce=this.clone();for(ce.negative=0;!ce.isZero();){var _e=ce.modrn(ee).toString(g);T=(ce=ce.idivn(ee)).isZero()?_e+T:Z[K-_e.length]+_e+T}for(this.isZero()&&(T="0"+T);T.length%S!=0;)T="0"+T;return 0!==this.negative&&(T="-"+T),T}k(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var g=this.words[0];return 2===this.length?g+=67108864*this.words[1]:3===this.length&&1===this.words[2]?g+=4503599627370496+67108864*this.words[1]:this.length>2&&k(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-g:g},x.prototype.toJSON=function(){return this.toString(16,2)},R&&(x.prototype.toBuffer=function(g,S){return this.toArrayLike(R,g,S)}),x.prototype.toArray=function(g,S){return this.toArrayLike(Array,g,S)},x.prototype.toArrayLike=function(g,S,T){this._strip();var N=this.byteLength(),M=T||Math.max(1,N);k(N<=M,"byte array longer than desired length"),k(M>0,"Requested array length <= 0");var s=function(g,S){return g.allocUnsafe?g.allocUnsafe(S):new g(S)}(g,M);return this["_toArrayLike"+("le"===S?"LE":"BE")](s,N),s},x.prototype._toArrayLikeLE=function(g,S){for(var T=0,N=0,M=0,s=0;M<this.length;M++){var v=this.words[M]<<s|N;g[T++]=255&v,T<g.length&&(g[T++]=v>>8&255),T<g.length&&(g[T++]=v>>16&255),6===s?(T<g.length&&(g[T++]=v>>24&255),N=0,s=0):(N=v>>>24,s+=2)}if(T<g.length)for(g[T++]=N;T<g.length;)g[T++]=0},x.prototype._toArrayLikeBE=function(g,S){for(var T=g.length-1,N=0,M=0,s=0;M<this.length;M++){var v=this.words[M]<<s|N;g[T--]=255&v,T>=0&&(g[T--]=v>>8&255),T>=0&&(g[T--]=v>>16&255),6===s?(T>=0&&(g[T--]=v>>24&255),N=0,s=0):(N=v>>>24,s+=2)}if(T>=0)for(g[T--]=N;T>=0;)g[T--]=0},x.prototype._countBits=Math.clz32?function(g){return 32-Math.clz32(g)}:function(g){var S=g,T=0;return S>=4096&&(T+=13,S>>>=13),S>=64&&(T+=7,S>>>=7),S>=8&&(T+=4,S>>>=4),S>=2&&(T+=2,S>>>=2),T+S},x.prototype._zeroBits=function(g){if(0===g)return 26;var S=g,T=0;return 8191&S||(T+=13,S>>>=13),127&S||(T+=7,S>>>=7),15&S||(T+=4,S>>>=4),3&S||(T+=2,S>>>=2),1&S||T++,T},x.prototype.bitLength=function(){var S=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+S},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var g=0,S=0;S<this.length;S++){var T=this._zeroBits(this.words[S]);if(g+=T,26!==T)break}return g},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(g){return 0!==this.negative?this.abs().inotn(g).iaddn(1):this.clone()},x.prototype.fromTwos=function(g){return this.testn(g-1)?this.notn(g).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(g){for(;this.length<g.length;)this.words[this.length++]=0;for(var S=0;S<g.length;S++)this.words[S]=this.words[S]|g.words[S];return this._strip()},x.prototype.ior=function(g){return k(!(this.negative|g.negative)),this.iuor(g)},x.prototype.or=function(g){return this.length>g.length?this.clone().ior(g):g.clone().ior(this)},x.prototype.uor=function(g){return this.length>g.length?this.clone().iuor(g):g.clone().iuor(this)},x.prototype.iuand=function(g){var S;S=this.length>g.length?g:this;for(var T=0;T<S.length;T++)this.words[T]=this.words[T]&g.words[T];return this.length=S.length,this._strip()},x.prototype.iand=function(g){return k(!(this.negative|g.negative)),this.iuand(g)},x.prototype.and=function(g){return this.length>g.length?this.clone().iand(g):g.clone().iand(this)},x.prototype.uand=function(g){return this.length>g.length?this.clone().iuand(g):g.clone().iuand(this)},x.prototype.iuxor=function(g){var S,T;this.length>g.length?(S=this,T=g):(S=g,T=this);for(var N=0;N<T.length;N++)this.words[N]=S.words[N]^T.words[N];if(this!==S)for(;N<S.length;N++)this.words[N]=S.words[N];return this.length=S.length,this._strip()},x.prototype.ixor=function(g){return k(!(this.negative|g.negative)),this.iuxor(g)},x.prototype.xor=function(g){return this.length>g.length?this.clone().ixor(g):g.clone().ixor(this)},x.prototype.uxor=function(g){return this.length>g.length?this.clone().iuxor(g):g.clone().iuxor(this)},x.prototype.inotn=function(g){k("number"==typeof g&&g>=0);var S=0|Math.ceil(g/26),T=g%26;this._expand(S),T>0&&S--;for(var N=0;N<S;N++)this.words[N]=67108863&~this.words[N];return T>0&&(this.words[N]=~this.words[N]&67108863>>26-T),this._strip()},x.prototype.notn=function(g){return this.clone().inotn(g)},x.prototype.setn=function(g,S){k("number"==typeof g&&g>=0);var T=g/26|0,N=g%26;return this._expand(T+1),this.words[T]=S?this.words[T]|1<<N:this.words[T]&~(1<<N),this._strip()},x.prototype.iadd=function(g){var S,T,N;if(0!==this.negative&&0===g.negative)return this.negative=0,S=this.isub(g),this.negative^=1,this._normSign();if(0===this.negative&&0!==g.negative)return g.negative=0,S=this.isub(g),g.negative=1,S._normSign();this.length>g.length?(T=this,N=g):(T=g,N=this);for(var M=0,s=0;s<N.length;s++)this.words[s]=67108863&(S=(0|T.words[s])+(0|N.words[s])+M),M=S>>>26;for(;0!==M&&s<T.length;s++)this.words[s]=67108863&(S=(0|T.words[s])+M),M=S>>>26;if(this.length=T.length,0!==M)this.words[this.length]=M,this.length++;else if(T!==this)for(;s<T.length;s++)this.words[s]=T.words[s];return this},x.prototype.add=function(g){var S;return 0!==g.negative&&0===this.negative?(g.negative=0,S=this.sub(g),g.negative^=1,S):0===g.negative&&0!==this.negative?(this.negative=0,S=g.sub(this),this.negative=1,S):this.length>g.length?this.clone().iadd(g):g.clone().iadd(this)},x.prototype.isub=function(g){if(0!==g.negative){g.negative=0;var S=this.iadd(g);return g.negative=1,S._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(g),this.negative=1,this._normSign();var N,M,T=this.cmp(g);if(0===T)return this.negative=0,this.length=1,this.words[0]=0,this;T>0?(N=this,M=g):(N=g,M=this);for(var s=0,v=0;v<M.length;v++)s=(S=(0|N.words[v])-(0|M.words[v])+s)>>26,this.words[v]=67108863&S;for(;0!==s&&v<N.length;v++)s=(S=(0|N.words[v])+s)>>26,this.words[v]=67108863&S;if(0===s&&v<N.length&&N!==this)for(;v<N.length;v++)this.words[v]=N.words[v];return this.length=Math.max(this.length,v),N!==this&&(this.negative=1),this._strip()},x.prototype.sub=function(g){return this.clone().isub(g)};var Y=function(g,S,T){var W,K,ee,N=g.words,M=S.words,s=T.words,v=0,ce=0|N[0],_e=8191&ce,Pe=ce>>>13,$e=0|N[1],Se=8191&$e,be=$e>>>13,Ne=0|N[2],ye=8191&Ne,Te=Ne>>>13,pe=0|N[3],fe=8191&pe,Q=pe>>>13,ie=0|N[4],ue=8191&ie,Ee=ie>>>13,ke=0|N[5],Ue=8191&ke,Le=ke>>>13,_t=0|N[6],Ve=8191&_t,Be=_t>>>13,lt=0|N[7],B=8191&lt,w=lt>>>13,m=0|N[8],U=8191&m,ne=m>>>13,ge=0|N[9],Ae=8191&ge,Qe=ge>>>13,Bt=0|M[0],gt=8191&Bt,It=Bt>>>13,Gt=0|M[1],un=8191&Gt,an=Gt>>>13,sr=0|M[2],Mn=8191&sr,Qt=sr>>>13,qt=0|M[3],Et=8191&qt,ht=qt>>>13,zt=0|M[4],Jt=8191&zt,dn=zt>>>13,hr=0|M[5],vt=8191&hr,xt=hr>>>13,St=0|M[6],Xe=8191&St,nt=St>>>13,Vt=0|M[7],Ot=8191&Vt,sn=Vt>>>13,Hn=0|M[8],bn=8191&Hn,In=Hn>>>13,Ar=0|M[9],Jn=8191&Ar,Ln=Ar>>>13;T.negative=g.negative^S.negative,T.length=19;var $n=(v+(W=Math.imul(_e,gt))|0)+((8191&(K=(K=Math.imul(_e,It))+Math.imul(Pe,gt)|0))<<13)|0;v=((ee=Math.imul(Pe,It))+(K>>>13)|0)+($n>>>26)|0,$n&=67108863,W=Math.imul(Se,gt),K=(K=Math.imul(Se,It))+Math.imul(be,gt)|0,ee=Math.imul(be,It);var st=(v+(W=W+Math.imul(_e,un)|0)|0)+((8191&(K=(K=K+Math.imul(_e,an)|0)+Math.imul(Pe,un)|0))<<13)|0;v=((ee=ee+Math.imul(Pe,an)|0)+(K>>>13)|0)+(st>>>26)|0,st&=67108863,W=Math.imul(ye,gt),K=(K=Math.imul(ye,It))+Math.imul(Te,gt)|0,ee=Math.imul(Te,It),W=W+Math.imul(Se,un)|0,K=(K=K+Math.imul(Se,an)|0)+Math.imul(be,un)|0,ee=ee+Math.imul(be,an)|0;var Ge=(v+(W=W+Math.imul(_e,Mn)|0)|0)+((8191&(K=(K=K+Math.imul(_e,Qt)|0)+Math.imul(Pe,Mn)|0))<<13)|0;v=((ee=ee+Math.imul(Pe,Qt)|0)+(K>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,W=Math.imul(fe,gt),K=(K=Math.imul(fe,It))+Math.imul(Q,gt)|0,ee=Math.imul(Q,It),W=W+Math.imul(ye,un)|0,K=(K=K+Math.imul(ye,an)|0)+Math.imul(Te,un)|0,ee=ee+Math.imul(Te,an)|0,W=W+Math.imul(Se,Mn)|0,K=(K=K+Math.imul(Se,Qt)|0)+Math.imul(be,Mn)|0,ee=ee+Math.imul(be,Qt)|0;var ct=(v+(W=W+Math.imul(_e,Et)|0)|0)+((8191&(K=(K=K+Math.imul(_e,ht)|0)+Math.imul(Pe,Et)|0))<<13)|0;v=((ee=ee+Math.imul(Pe,ht)|0)+(K>>>13)|0)+(ct>>>26)|0,ct&=67108863,W=Math.imul(ue,gt),K=(K=Math.imul(ue,It))+Math.imul(Ee,gt)|0,ee=Math.imul(Ee,It),W=W+Math.imul(fe,un)|0,K=(K=K+Math.imul(fe,an)|0)+Math.imul(Q,un)|0,ee=ee+Math.imul(Q,an)|0,W=W+Math.imul(ye,Mn)|0,K=(K=K+Math.imul(ye,Qt)|0)+Math.imul(Te,Mn)|0,ee=ee+Math.imul(Te,Qt)|0,W=W+Math.imul(Se,Et)|0,K=(K=K+Math.imul(Se,ht)|0)+Math.imul(be,Et)|0,ee=ee+Math.imul(be,ht)|0;var Yt=(v+(W=W+Math.imul(_e,Jt)|0)|0)+((8191&(K=(K=K+Math.imul(_e,dn)|0)+Math.imul(Pe,Jt)|0))<<13)|0;v=((ee=ee+Math.imul(Pe,dn)|0)+(K>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,W=Math.imul(Ue,gt),K=(K=Math.imul(Ue,It))+Math.imul(Le,gt)|0,ee=Math.imul(Le,It),W=W+Math.imul(ue,un)|0,K=(K=K+Math.imul(ue,an)|0)+Math.imul(Ee,un)|0,ee=ee+Math.imul(Ee,an)|0,W=W+Math.imul(fe,Mn)|0,K=(K=K+Math.imul(fe,Qt)|0)+Math.imul(Q,Mn)|0,ee=ee+Math.imul(Q,Qt)|0,W=W+Math.imul(ye,Et)|0,K=(K=K+Math.imul(ye,ht)|0)+Math.imul(Te,Et)|0,ee=ee+Math.imul(Te,ht)|0,W=W+Math.imul(Se,Jt)|0,K=(K=K+Math.imul(Se,dn)|0)+Math.imul(be,Jt)|0,ee=ee+Math.imul(be,dn)|0;var _n=(v+(W=W+Math.imul(_e,vt)|0)|0)+((8191&(K=(K=K+Math.imul(_e,xt)|0)+Math.imul(Pe,vt)|0))<<13)|0;v=((ee=ee+Math.imul(Pe,xt)|0)+(K>>>13)|0)+(_n>>>26)|0,_n&=67108863,W=Math.imul(Ve,gt),K=(K=Math.imul(Ve,It))+Math.imul(Be,gt)|0,ee=Math.imul(Be,It),W=W+Math.imul(Ue,un)|0,K=(K=K+Math.imul(Ue,an)|0)+Math.imul(Le,un)|0,ee=ee+Math.imul(Le,an)|0,W=W+Math.imul(ue,Mn)|0,K=(K=K+Math.imul(ue,Qt)|0)+Math.imul(Ee,Mn)|0,ee=ee+Math.imul(Ee,Qt)|0,W=W+Math.imul(fe,Et)|0,K=(K=K+Math.imul(fe,ht)|0)+Math.imul(Q,Et)|0,ee=ee+Math.imul(Q,ht)|0,W=W+Math.imul(ye,Jt)|0,K=(K=K+Math.imul(ye,dn)|0)+Math.imul(Te,Jt)|0,ee=ee+Math.imul(Te,dn)|0,W=W+Math.imul(Se,vt)|0,K=(K=K+Math.imul(Se,xt)|0)+Math.imul(be,vt)|0,ee=ee+Math.imul(be,xt)|0;var Wn=(v+(W=W+Math.imul(_e,Xe)|0)|0)+((8191&(K=(K=K+Math.imul(_e,nt)|0)+Math.imul(Pe,Xe)|0))<<13)|0;v=((ee=ee+Math.imul(Pe,nt)|0)+(K>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,W=Math.imul(B,gt),K=(K=Math.imul(B,It))+Math.imul(w,gt)|0,ee=Math.imul(w,It),W=W+Math.imul(Ve,un)|0,K=(K=K+Math.imul(Ve,an)|0)+Math.imul(Be,un)|0,ee=ee+Math.imul(Be,an)|0,W=W+Math.imul(Ue,Mn)|0,K=(K=K+Math.imul(Ue,Qt)|0)+Math.imul(Le,Mn)|0,ee=ee+Math.imul(Le,Qt)|0,W=W+Math.imul(ue,Et)|0,K=(K=K+Math.imul(ue,ht)|0)+Math.imul(Ee,Et)|0,ee=ee+Math.imul(Ee,ht)|0,W=W+Math.imul(fe,Jt)|0,K=(K=K+Math.imul(fe,dn)|0)+Math.imul(Q,Jt)|0,ee=ee+Math.imul(Q,dn)|0,W=W+Math.imul(ye,vt)|0,K=(K=K+Math.imul(ye,xt)|0)+Math.imul(Te,vt)|0,ee=ee+Math.imul(Te,xt)|0,W=W+Math.imul(Se,Xe)|0,K=(K=K+Math.imul(Se,nt)|0)+Math.imul(be,Xe)|0,ee=ee+Math.imul(be,nt)|0;var Yn=(v+(W=W+Math.imul(_e,Ot)|0)|0)+((8191&(K=(K=K+Math.imul(_e,sn)|0)+Math.imul(Pe,Ot)|0))<<13)|0;v=((ee=ee+Math.imul(Pe,sn)|0)+(K>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,W=Math.imul(U,gt),K=(K=Math.imul(U,It))+Math.imul(ne,gt)|0,ee=Math.imul(ne,It),W=W+Math.imul(B,un)|0,K=(K=K+Math.imul(B,an)|0)+Math.imul(w,un)|0,ee=ee+Math.imul(w,an)|0,W=W+Math.imul(Ve,Mn)|0,K=(K=K+Math.imul(Ve,Qt)|0)+Math.imul(Be,Mn)|0,ee=ee+Math.imul(Be,Qt)|0,W=W+Math.imul(Ue,Et)|0,K=(K=K+Math.imul(Ue,ht)|0)+Math.imul(Le,Et)|0,ee=ee+Math.imul(Le,ht)|0,W=W+Math.imul(ue,Jt)|0,K=(K=K+Math.imul(ue,dn)|0)+Math.imul(Ee,Jt)|0,ee=ee+Math.imul(Ee,dn)|0,W=W+Math.imul(fe,vt)|0,K=(K=K+Math.imul(fe,xt)|0)+Math.imul(Q,vt)|0,ee=ee+Math.imul(Q,xt)|0,W=W+Math.imul(ye,Xe)|0,K=(K=K+Math.imul(ye,nt)|0)+Math.imul(Te,Xe)|0,ee=ee+Math.imul(Te,nt)|0,W=W+Math.imul(Se,Ot)|0,K=(K=K+Math.imul(Se,sn)|0)+Math.imul(be,Ot)|0,ee=ee+Math.imul(be,sn)|0;var yr=(v+(W=W+Math.imul(_e,bn)|0)|0)+((8191&(K=(K=K+Math.imul(_e,In)|0)+Math.imul(Pe,bn)|0))<<13)|0;v=((ee=ee+Math.imul(Pe,In)|0)+(K>>>13)|0)+(yr>>>26)|0,yr&=67108863,W=Math.imul(Ae,gt),K=(K=Math.imul(Ae,It))+Math.imul(Qe,gt)|0,ee=Math.imul(Qe,It),W=W+Math.imul(U,un)|0,K=(K=K+Math.imul(U,an)|0)+Math.imul(ne,un)|0,ee=ee+Math.imul(ne,an)|0,W=W+Math.imul(B,Mn)|0,K=(K=K+Math.imul(B,Qt)|0)+Math.imul(w,Mn)|0,ee=ee+Math.imul(w,Qt)|0,W=W+Math.imul(Ve,Et)|0,K=(K=K+Math.imul(Ve,ht)|0)+Math.imul(Be,Et)|0,ee=ee+Math.imul(Be,ht)|0,W=W+Math.imul(Ue,Jt)|0,K=(K=K+Math.imul(Ue,dn)|0)+Math.imul(Le,Jt)|0,ee=ee+Math.imul(Le,dn)|0,W=W+Math.imul(ue,vt)|0,K=(K=K+Math.imul(ue,xt)|0)+Math.imul(Ee,vt)|0,ee=ee+Math.imul(Ee,xt)|0,W=W+Math.imul(fe,Xe)|0,K=(K=K+Math.imul(fe,nt)|0)+Math.imul(Q,Xe)|0,ee=ee+Math.imul(Q,nt)|0,W=W+Math.imul(ye,Ot)|0,K=(K=K+Math.imul(ye,sn)|0)+Math.imul(Te,Ot)|0,ee=ee+Math.imul(Te,sn)|0,W=W+Math.imul(Se,bn)|0,K=(K=K+Math.imul(Se,In)|0)+Math.imul(be,bn)|0,ee=ee+Math.imul(be,In)|0;var Nr=(v+(W=W+Math.imul(_e,Jn)|0)|0)+((8191&(K=(K=K+Math.imul(_e,Ln)|0)+Math.imul(Pe,Jn)|0))<<13)|0;v=((ee=ee+Math.imul(Pe,Ln)|0)+(K>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,W=Math.imul(Ae,un),K=(K=Math.imul(Ae,an))+Math.imul(Qe,un)|0,ee=Math.imul(Qe,an),W=W+Math.imul(U,Mn)|0,K=(K=K+Math.imul(U,Qt)|0)+Math.imul(ne,Mn)|0,ee=ee+Math.imul(ne,Qt)|0,W=W+Math.imul(B,Et)|0,K=(K=K+Math.imul(B,ht)|0)+Math.imul(w,Et)|0,ee=ee+Math.imul(w,ht)|0,W=W+Math.imul(Ve,Jt)|0,K=(K=K+Math.imul(Ve,dn)|0)+Math.imul(Be,Jt)|0,ee=ee+Math.imul(Be,dn)|0,W=W+Math.imul(Ue,vt)|0,K=(K=K+Math.imul(Ue,xt)|0)+Math.imul(Le,vt)|0,ee=ee+Math.imul(Le,xt)|0,W=W+Math.imul(ue,Xe)|0,K=(K=K+Math.imul(ue,nt)|0)+Math.imul(Ee,Xe)|0,ee=ee+Math.imul(Ee,nt)|0,W=W+Math.imul(fe,Ot)|0,K=(K=K+Math.imul(fe,sn)|0)+Math.imul(Q,Ot)|0,ee=ee+Math.imul(Q,sn)|0,W=W+Math.imul(ye,bn)|0,K=(K=K+Math.imul(ye,In)|0)+Math.imul(Te,bn)|0,ee=ee+Math.imul(Te,In)|0;var Ur=(v+(W=W+Math.imul(Se,Jn)|0)|0)+((8191&(K=(K=K+Math.imul(Se,Ln)|0)+Math.imul(be,Jn)|0))<<13)|0;v=((ee=ee+Math.imul(be,Ln)|0)+(K>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,W=Math.imul(Ae,Mn),K=(K=Math.imul(Ae,Qt))+Math.imul(Qe,Mn)|0,ee=Math.imul(Qe,Qt),W=W+Math.imul(U,Et)|0,K=(K=K+Math.imul(U,ht)|0)+Math.imul(ne,Et)|0,ee=ee+Math.imul(ne,ht)|0,W=W+Math.imul(B,Jt)|0,K=(K=K+Math.imul(B,dn)|0)+Math.imul(w,Jt)|0,ee=ee+Math.imul(w,dn)|0,W=W+Math.imul(Ve,vt)|0,K=(K=K+Math.imul(Ve,xt)|0)+Math.imul(Be,vt)|0,ee=ee+Math.imul(Be,xt)|0,W=W+Math.imul(Ue,Xe)|0,K=(K=K+Math.imul(Ue,nt)|0)+Math.imul(Le,Xe)|0,ee=ee+Math.imul(Le,nt)|0,W=W+Math.imul(ue,Ot)|0,K=(K=K+Math.imul(ue,sn)|0)+Math.imul(Ee,Ot)|0,ee=ee+Math.imul(Ee,sn)|0,W=W+Math.imul(fe,bn)|0,K=(K=K+Math.imul(fe,In)|0)+Math.imul(Q,bn)|0,ee=ee+Math.imul(Q,In)|0;var Kr=(v+(W=W+Math.imul(ye,Jn)|0)|0)+((8191&(K=(K=K+Math.imul(ye,Ln)|0)+Math.imul(Te,Jn)|0))<<13)|0;v=((ee=ee+Math.imul(Te,Ln)|0)+(K>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,W=Math.imul(Ae,Et),K=(K=Math.imul(Ae,ht))+Math.imul(Qe,Et)|0,ee=Math.imul(Qe,ht),W=W+Math.imul(U,Jt)|0,K=(K=K+Math.imul(U,dn)|0)+Math.imul(ne,Jt)|0,ee=ee+Math.imul(ne,dn)|0,W=W+Math.imul(B,vt)|0,K=(K=K+Math.imul(B,xt)|0)+Math.imul(w,vt)|0,ee=ee+Math.imul(w,xt)|0,W=W+Math.imul(Ve,Xe)|0,K=(K=K+Math.imul(Ve,nt)|0)+Math.imul(Be,Xe)|0,ee=ee+Math.imul(Be,nt)|0,W=W+Math.imul(Ue,Ot)|0,K=(K=K+Math.imul(Ue,sn)|0)+Math.imul(Le,Ot)|0,ee=ee+Math.imul(Le,sn)|0,W=W+Math.imul(ue,bn)|0,K=(K=K+Math.imul(ue,In)|0)+Math.imul(Ee,bn)|0,ee=ee+Math.imul(Ee,In)|0;var Xr=(v+(W=W+Math.imul(fe,Jn)|0)|0)+((8191&(K=(K=K+Math.imul(fe,Ln)|0)+Math.imul(Q,Jn)|0))<<13)|0;v=((ee=ee+Math.imul(Q,Ln)|0)+(K>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,W=Math.imul(Ae,Jt),K=(K=Math.imul(Ae,dn))+Math.imul(Qe,Jt)|0,ee=Math.imul(Qe,dn),W=W+Math.imul(U,vt)|0,K=(K=K+Math.imul(U,xt)|0)+Math.imul(ne,vt)|0,ee=ee+Math.imul(ne,xt)|0,W=W+Math.imul(B,Xe)|0,K=(K=K+Math.imul(B,nt)|0)+Math.imul(w,Xe)|0,ee=ee+Math.imul(w,nt)|0,W=W+Math.imul(Ve,Ot)|0,K=(K=K+Math.imul(Ve,sn)|0)+Math.imul(Be,Ot)|0,ee=ee+Math.imul(Be,sn)|0,W=W+Math.imul(Ue,bn)|0,K=(K=K+Math.imul(Ue,In)|0)+Math.imul(Le,bn)|0,ee=ee+Math.imul(Le,In)|0;var ri=(v+(W=W+Math.imul(ue,Jn)|0)|0)+((8191&(K=(K=K+Math.imul(ue,Ln)|0)+Math.imul(Ee,Jn)|0))<<13)|0;v=((ee=ee+Math.imul(Ee,Ln)|0)+(K>>>13)|0)+(ri>>>26)|0,ri&=67108863,W=Math.imul(Ae,vt),K=(K=Math.imul(Ae,xt))+Math.imul(Qe,vt)|0,ee=Math.imul(Qe,xt),W=W+Math.imul(U,Xe)|0,K=(K=K+Math.imul(U,nt)|0)+Math.imul(ne,Xe)|0,ee=ee+Math.imul(ne,nt)|0,W=W+Math.imul(B,Ot)|0,K=(K=K+Math.imul(B,sn)|0)+Math.imul(w,Ot)|0,ee=ee+Math.imul(w,sn)|0,W=W+Math.imul(Ve,bn)|0,K=(K=K+Math.imul(Ve,In)|0)+Math.imul(Be,bn)|0,ee=ee+Math.imul(Be,In)|0;var en=(v+(W=W+Math.imul(Ue,Jn)|0)|0)+((8191&(K=(K=K+Math.imul(Ue,Ln)|0)+Math.imul(Le,Jn)|0))<<13)|0;v=((ee=ee+Math.imul(Le,Ln)|0)+(K>>>13)|0)+(en>>>26)|0,en&=67108863,W=Math.imul(Ae,Xe),K=(K=Math.imul(Ae,nt))+Math.imul(Qe,Xe)|0,ee=Math.imul(Qe,nt),W=W+Math.imul(U,Ot)|0,K=(K=K+Math.imul(U,sn)|0)+Math.imul(ne,Ot)|0,ee=ee+Math.imul(ne,sn)|0,W=W+Math.imul(B,bn)|0,K=(K=K+Math.imul(B,In)|0)+Math.imul(w,bn)|0,ee=ee+Math.imul(w,In)|0;var wn=(v+(W=W+Math.imul(Ve,Jn)|0)|0)+((8191&(K=(K=K+Math.imul(Ve,Ln)|0)+Math.imul(Be,Jn)|0))<<13)|0;v=((ee=ee+Math.imul(Be,Ln)|0)+(K>>>13)|0)+(wn>>>26)|0,wn&=67108863,W=Math.imul(Ae,Ot),K=(K=Math.imul(Ae,sn))+Math.imul(Qe,Ot)|0,ee=Math.imul(Qe,sn),W=W+Math.imul(U,bn)|0,K=(K=K+Math.imul(U,In)|0)+Math.imul(ne,bn)|0,ee=ee+Math.imul(ne,In)|0;var Dn=(v+(W=W+Math.imul(B,Jn)|0)|0)+((8191&(K=(K=K+Math.imul(B,Ln)|0)+Math.imul(w,Jn)|0))<<13)|0;v=((ee=ee+Math.imul(w,Ln)|0)+(K>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,W=Math.imul(Ae,bn),K=(K=Math.imul(Ae,In))+Math.imul(Qe,bn)|0,ee=Math.imul(Qe,In);var Fn=(v+(W=W+Math.imul(U,Jn)|0)|0)+((8191&(K=(K=K+Math.imul(U,Ln)|0)+Math.imul(ne,Jn)|0))<<13)|0;v=((ee=ee+Math.imul(ne,Ln)|0)+(K>>>13)|0)+(Fn>>>26)|0,Fn&=67108863;var fr=(v+(W=Math.imul(Ae,Jn))|0)+((8191&(K=(K=Math.imul(Ae,Ln))+Math.imul(Qe,Jn)|0))<<13)|0;return v=((ee=Math.imul(Qe,Ln))+(K>>>13)|0)+(fr>>>26)|0,fr&=67108863,s[0]=$n,s[1]=st,s[2]=Ge,s[3]=ct,s[4]=Yt,s[5]=_n,s[6]=Wn,s[7]=Yn,s[8]=yr,s[9]=Nr,s[10]=Ur,s[11]=Kr,s[12]=Xr,s[13]=ri,s[14]=en,s[15]=wn,s[16]=Dn,s[17]=Fn,s[18]=fr,0!==v&&(s[19]=v,T.length++),T};function oe(y,g,S){S.negative=g.negative^y.negative,S.length=y.length+g.length;for(var T=0,N=0,M=0;M<S.length-1;M++){var s=N;N=0;for(var v=67108863&T,W=Math.min(M,g.length-1),K=Math.max(0,M-y.length+1);K<=W;K++){var Pe=(0|y.words[M-K])*(0|g.words[K]),$e=67108863&Pe;v=67108863&($e=$e+v|0),N+=(s=(s=s+(Pe/67108864|0)|0)+($e>>>26)|0)>>>26,s&=67108863}S.words[M]=v,T=s,s=N}return 0!==T?S.words[M]=T:S.length--,S._strip()}function ae(y,g,S){return oe(y,g,S)}function se(y,g){this.x=y,this.y=g}Math.imul||(Y=J),x.prototype.mulTo=function(g,S){var N=this.length+g.length;return 10===this.length&&10===g.length?Y(this,g,S):N<63?J(this,g,S):N<1024?oe(this,g,S):ae(this,g,S)},se.prototype.makeRBT=function(g){for(var S=new Array(g),T=x.prototype._countBits(g)-1,N=0;N<g;N++)S[N]=this.revBin(N,T,g);return S},se.prototype.revBin=function(g,S,T){if(0===g||g===T-1)return g;for(var N=0,M=0;M<S;M++)N|=(1&g)<<S-M-1,g>>=1;return N},se.prototype.permute=function(g,S,T,N,M,s){for(var v=0;v<s;v++)N[v]=S[g[v]],M[v]=T[g[v]]},se.prototype.transform=function(g,S,T,N,M,s){this.permute(s,g,S,T,N,M);for(var v=1;v<M;v<<=1)for(var W=v<<1,K=Math.cos(2*Math.PI/W),ee=Math.sin(2*Math.PI/W),ce=0;ce<M;ce+=W)for(var _e=K,Pe=ee,$e=0;$e<v;$e++){var Se=T[ce+$e],be=N[ce+$e],Ne=T[ce+$e+v],ye=N[ce+$e+v],Te=_e*Ne-Pe*ye;ye=_e*ye+Pe*Ne,T[ce+$e]=Se+(Ne=Te),N[ce+$e]=be+ye,T[ce+$e+v]=Se-Ne,N[ce+$e+v]=be-ye,$e!==W&&(Te=K*_e-ee*Pe,Pe=K*Pe+ee*_e,_e=Te)}},se.prototype.guessLen13b=function(g,S){var T=1|Math.max(S,g),N=1&T,M=0;for(T=T/2|0;T;T>>>=1)M++;return 1<<M+1+N},se.prototype.conjugate=function(g,S,T){if(!(T<=1))for(var N=0;N<T/2;N++){var M=g[N];g[N]=g[T-N-1],g[T-N-1]=M,M=S[N],S[N]=-S[T-N-1],S[T-N-1]=-M}},se.prototype.normalize13b=function(g,S){for(var T=0,N=0;N<S/2;N++){var M=8192*Math.round(g[2*N+1]/S)+Math.round(g[2*N]/S)+T;g[N]=67108863&M,T=M<67108864?0:M/67108864|0}return g},se.prototype.convert13b=function(g,S,T,N){for(var M=0,s=0;s<S;s++)T[2*s]=8191&(M+=0|g[s]),T[2*s+1]=8191&(M>>>=13),M>>>=13;for(s=2*S;s<N;++s)T[s]=0;k(0===M),k(!(-8192&M))},se.prototype.stub=function(g){for(var S=new Array(g),T=0;T<g;T++)S[T]=0;return S},se.prototype.mulp=function(g,S,T){var N=2*this.guessLen13b(g.length,S.length),M=this.makeRBT(N),s=this.stub(N),v=new Array(N),W=new Array(N),K=new Array(N),ee=new Array(N),ce=new Array(N),_e=new Array(N),Pe=T.words;Pe.length=N,this.convert13b(g.words,g.length,v,N),this.convert13b(S.words,S.length,ee,N),this.transform(v,s,W,K,N,M),this.transform(ee,s,ce,_e,N,M);for(var $e=0;$e<N;$e++){var Se=W[$e]*ce[$e]-K[$e]*_e[$e];K[$e]=W[$e]*_e[$e]+K[$e]*ce[$e],W[$e]=Se}return this.conjugate(W,K,N),this.transform(W,K,Pe,s,N,M),this.conjugate(Pe,s,N),this.normalize13b(Pe,N),T.negative=g.negative^S.negative,T.length=g.length+S.length,T._strip()},x.prototype.mul=function(g){var S=new x(null);return S.words=new Array(this.length+g.length),this.mulTo(g,S)},x.prototype.mulf=function(g){var S=new x(null);return S.words=new Array(this.length+g.length),ae(this,g,S)},x.prototype.imul=function(g){return this.clone().mulTo(g,this)},x.prototype.imuln=function(g){var S=g<0;S&&(g=-g),k("number"==typeof g),k(g<67108864);for(var T=0,N=0;N<this.length;N++){var M=(0|this.words[N])*g,s=(67108863&M)+(67108863&T);T>>=26,T+=M/67108864|0,T+=s>>>26,this.words[N]=67108863&s}return 0!==T&&(this.words[N]=T,this.length++),S?this.ineg():this},x.prototype.muln=function(g){return this.clone().imuln(g)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(g){var S=function te(y){for(var g=new Array(y.bitLength()),S=0;S<g.length;S++)g[S]=y.words[S/26|0]>>>S%26&1;return g}(g);if(0===S.length)return new x(1);for(var T=this,N=0;N<S.length&&0===S[N];N++,T=T.sqr());if(++N<S.length)for(var M=T.sqr();N<S.length;N++,M=M.sqr())0!==S[N]&&(T=T.mul(M));return T},x.prototype.iushln=function(g){k("number"==typeof g&&g>=0);var M,S=g%26,T=(g-S)/26,N=67108863>>>26-S<<26-S;if(0!==S){var s=0;for(M=0;M<this.length;M++){var v=this.words[M]&N;this.words[M]=(0|this.words[M])-v<<S|s,s=v>>>26-S}s&&(this.words[M]=s,this.length++)}if(0!==T){for(M=this.length-1;M>=0;M--)this.words[M+T]=this.words[M];for(M=0;M<T;M++)this.words[M]=0;this.length+=T}return this._strip()},x.prototype.ishln=function(g){return k(0===this.negative),this.iushln(g)},x.prototype.iushrn=function(g,S,T){var N;k("number"==typeof g&&g>=0),N=S?(S-S%26)/26:0;var M=g%26,s=Math.min((g-M)/26,this.length),v=67108863^67108863>>>M<<M,W=T;if(N-=s,N=Math.max(0,N),W){for(var K=0;K<s;K++)W.words[K]=this.words[K];W.length=s}if(0!==s)if(this.length>s)for(this.length-=s,K=0;K<this.length;K++)this.words[K]=this.words[K+s];else this.words[0]=0,this.length=1;var ee=0;for(K=this.length-1;K>=0&&(0!==ee||K>=N);K--){var ce=0|this.words[K];this.words[K]=ee<<26-M|ce>>>M,ee=ce&v}return W&&0!==ee&&(W.words[W.length++]=ee),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},x.prototype.ishrn=function(g,S,T){return k(0===this.negative),this.iushrn(g,S,T)},x.prototype.shln=function(g){return this.clone().ishln(g)},x.prototype.ushln=function(g){return this.clone().iushln(g)},x.prototype.shrn=function(g){return this.clone().ishrn(g)},x.prototype.ushrn=function(g){return this.clone().iushrn(g)},x.prototype.testn=function(g){k("number"==typeof g&&g>=0);var S=g%26,T=(g-S)/26;return!(this.length<=T||!(this.words[T]&1<<S))},x.prototype.imaskn=function(g){k("number"==typeof g&&g>=0);var S=g%26,T=(g-S)/26;return k(0===this.negative,"imaskn works only with positive numbers"),this.length<=T?this:(0!==S&&T++,this.length=Math.min(T,this.length),0!==S&&(this.words[this.length-1]&=67108863^67108863>>>S<<S),this._strip())},x.prototype.maskn=function(g){return this.clone().imaskn(g)},x.prototype.iaddn=function(g){return k("number"==typeof g),k(g<67108864),g<0?this.isubn(-g):0!==this.negative?1===this.length&&(0|this.words[0])<=g?(this.words[0]=g-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(g),this.negative=1,this):this._iaddn(g)},x.prototype._iaddn=function(g){this.words[0]+=g;for(var S=0;S<this.length&&this.words[S]>=67108864;S++)this.words[S]-=67108864,S===this.length-1?this.words[S+1]=1:this.words[S+1]++;return this.length=Math.max(this.length,S+1),this},x.prototype.isubn=function(g){if(k("number"==typeof g),k(g<67108864),g<0)return this.iaddn(-g);if(0!==this.negative)return this.negative=0,this.iaddn(g),this.negative=1,this;if(this.words[0]-=g,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var S=0;S<this.length&&this.words[S]<0;S++)this.words[S]+=67108864,this.words[S+1]-=1;return this._strip()},x.prototype.addn=function(g){return this.clone().iaddn(g)},x.prototype.subn=function(g){return this.clone().isubn(g)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(g,S,T){var M;this._expand(g.length+T);var s,v=0;for(M=0;M<g.length;M++){s=(0|this.words[M+T])+v;var W=(0|g.words[M])*S;v=((s-=67108863&W)>>26)-(W/67108864|0),this.words[M+T]=67108863&s}for(;M<this.length-T;M++)v=(s=(0|this.words[M+T])+v)>>26,this.words[M+T]=67108863&s;if(0===v)return this._strip();for(k(-1===v),v=0,M=0;M<this.length;M++)v=(s=-(0|this.words[M])+v)>>26,this.words[M]=67108863&s;return this.negative=1,this._strip()},x.prototype._wordDiv=function(g,S){var T,N=this.clone(),M=g,s=0|M.words[M.length-1];0!=(T=26-this._countBits(s))&&(M=M.ushln(T),N.iushln(T),s=0|M.words[M.length-1]);var K,W=N.length-M.length;if("mod"!==S){(K=new x(null)).length=W+1,K.words=new Array(K.length);for(var ee=0;ee<K.length;ee++)K.words[ee]=0}var ce=N.clone()._ishlnsubmul(M,1,W);0===ce.negative&&(N=ce,K&&(K.words[W]=1));for(var _e=W-1;_e>=0;_e--){var Pe=67108864*(0|N.words[M.length+_e])+(0|N.words[M.length+_e-1]);for(Pe=Math.min(Pe/s|0,67108863),N._ishlnsubmul(M,Pe,_e);0!==N.negative;)Pe--,N.negative=0,N._ishlnsubmul(M,1,_e),N.isZero()||(N.negative^=1);K&&(K.words[_e]=Pe)}return K&&K._strip(),N._strip(),"div"!==S&&0!==T&&N.iushrn(T),{div:K||null,mod:N}},x.prototype.divmod=function(g,S,T){return k(!g.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===g.negative?(s=this.neg().divmod(g,S),"mod"!==S&&(N=s.div.neg()),"div"!==S&&(M=s.mod.neg(),T&&0!==M.negative&&M.iadd(g)),{div:N,mod:M}):0===this.negative&&0!==g.negative?(s=this.divmod(g.neg(),S),"mod"!==S&&(N=s.div.neg()),{div:N,mod:s.mod}):this.negative&g.negative?(s=this.neg().divmod(g.neg(),S),"div"!==S&&(M=s.mod.neg(),T&&0!==M.negative&&M.isub(g)),{div:s.div,mod:M}):g.length>this.length||this.cmp(g)<0?{div:new x(0),mod:this}:1===g.length?"div"===S?{div:this.divn(g.words[0]),mod:null}:"mod"===S?{div:null,mod:new x(this.modrn(g.words[0]))}:{div:this.divn(g.words[0]),mod:new x(this.modrn(g.words[0]))}:this._wordDiv(g,S);var N,M,s},x.prototype.div=function(g){return this.divmod(g,"div",!1).div},x.prototype.mod=function(g){return this.divmod(g,"mod",!1).mod},x.prototype.umod=function(g){return this.divmod(g,"mod",!0).mod},x.prototype.divRound=function(g){var S=this.divmod(g);if(S.mod.isZero())return S.div;var T=0!==S.div.negative?S.mod.isub(g):S.mod,N=g.ushrn(1),M=g.andln(1),s=T.cmp(N);return s<0||1===M&&0===s?S.div:0!==S.div.negative?S.div.isubn(1):S.div.iaddn(1)},x.prototype.modrn=function(g){var S=g<0;S&&(g=-g),k(g<=67108863);for(var T=(1<<26)%g,N=0,M=this.length-1;M>=0;M--)N=(T*N+(0|this.words[M]))%g;return S?-N:N},x.prototype.modn=function(g){return this.modrn(g)},x.prototype.idivn=function(g){var S=g<0;S&&(g=-g),k(g<=67108863);for(var T=0,N=this.length-1;N>=0;N--){var M=(0|this.words[N])+67108864*T;this.words[N]=M/g|0,T=M%g}return this._strip(),S?this.ineg():this},x.prototype.divn=function(g){return this.clone().idivn(g)},x.prototype.egcd=function(g){k(0===g.negative),k(!g.isZero());var S=this,T=g.clone();S=0!==S.negative?S.umod(g):S.clone();for(var N=new x(1),M=new x(0),s=new x(0),v=new x(1),W=0;S.isEven()&&T.isEven();)S.iushrn(1),T.iushrn(1),++W;for(var K=T.clone(),ee=S.clone();!S.isZero();){for(var ce=0,_e=1;!(S.words[0]&_e)&&ce<26;++ce,_e<<=1);if(ce>0)for(S.iushrn(ce);ce-- >0;)(N.isOdd()||M.isOdd())&&(N.iadd(K),M.isub(ee)),N.iushrn(1),M.iushrn(1);for(var Pe=0,$e=1;!(T.words[0]&$e)&&Pe<26;++Pe,$e<<=1);if(Pe>0)for(T.iushrn(Pe);Pe-- >0;)(s.isOdd()||v.isOdd())&&(s.iadd(K),v.isub(ee)),s.iushrn(1),v.iushrn(1);S.cmp(T)>=0?(S.isub(T),N.isub(s),M.isub(v)):(T.isub(S),s.isub(N),v.isub(M))}return{a:s,b:v,gcd:T.iushln(W)}},x.prototype._invmp=function(g){k(0===g.negative),k(!g.isZero());var ce,S=this,T=g.clone();S=0!==S.negative?S.umod(g):S.clone();for(var N=new x(1),M=new x(0),s=T.clone();S.cmpn(1)>0&&T.cmpn(1)>0;){for(var v=0,W=1;!(S.words[0]&W)&&v<26;++v,W<<=1);if(v>0)for(S.iushrn(v);v-- >0;)N.isOdd()&&N.iadd(s),N.iushrn(1);for(var K=0,ee=1;!(T.words[0]&ee)&&K<26;++K,ee<<=1);if(K>0)for(T.iushrn(K);K-- >0;)M.isOdd()&&M.iadd(s),M.iushrn(1);S.cmp(T)>=0?(S.isub(T),N.isub(M)):(T.isub(S),M.isub(N))}return(ce=0===S.cmpn(1)?N:M).cmpn(0)<0&&ce.iadd(g),ce},x.prototype.gcd=function(g){if(this.isZero())return g.abs();if(g.isZero())return this.abs();var S=this.clone(),T=g.clone();S.negative=0,T.negative=0;for(var N=0;S.isEven()&&T.isEven();N++)S.iushrn(1),T.iushrn(1);for(;;){for(;S.isEven();)S.iushrn(1);for(;T.isEven();)T.iushrn(1);var M=S.cmp(T);if(M<0){var s=S;S=T,T=s}else if(0===M||0===T.cmpn(1))break;S.isub(T)}return T.iushln(N)},x.prototype.invm=function(g){return this.egcd(g).a.umod(g)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(g){return this.words[0]&g},x.prototype.bincn=function(g){k("number"==typeof g);var S=g%26,T=(g-S)/26,N=1<<S;if(this.length<=T)return this._expand(T+1),this.words[T]|=N,this;for(var M=N,s=T;0!==M&&s<this.length;s++){var v=0|this.words[s];M=(v+=M)>>>26,this.words[s]=v&=67108863}return 0!==M&&(this.words[s]=M,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(g){var T,S=g<0;if(0!==this.negative&&!S)return-1;if(0===this.negative&&S)return 1;if(this._strip(),this.length>1)T=1;else{S&&(g=-g),k(g<=67108863,"Number is too big");var N=0|this.words[0];T=N===g?0:N<g?-1:1}return 0!==this.negative?0|-T:T},x.prototype.cmp=function(g){if(0!==this.negative&&0===g.negative)return-1;if(0===this.negative&&0!==g.negative)return 1;var S=this.ucmp(g);return 0!==this.negative?0|-S:S},x.prototype.ucmp=function(g){if(this.length>g.length)return 1;if(this.length<g.length)return-1;for(var S=0,T=this.length-1;T>=0;T--){var N=0|this.words[T],M=0|g.words[T];if(N!==M){N<M?S=-1:N>M&&(S=1);break}}return S},x.prototype.gtn=function(g){return 1===this.cmpn(g)},x.prototype.gt=function(g){return 1===this.cmp(g)},x.prototype.gten=function(g){return this.cmpn(g)>=0},x.prototype.gte=function(g){return this.cmp(g)>=0},x.prototype.ltn=function(g){return-1===this.cmpn(g)},x.prototype.lt=function(g){return-1===this.cmp(g)},x.prototype.lten=function(g){return this.cmpn(g)<=0},x.prototype.lte=function(g){return this.cmp(g)<=0},x.prototype.eqn=function(g){return 0===this.cmpn(g)},x.prototype.eq=function(g){return 0===this.cmp(g)},x.red=function(g){return new a(g)},x.prototype.toRed=function(g){return k(!this.red,"Already a number in reduction context"),k(0===this.negative,"red works only with positives"),g.convertTo(this)._forceRed(g)},x.prototype.fromRed=function(){return k(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(g){return this.red=g,this},x.prototype.forceRed=function(g){return k(!this.red,"Already a number in reduction context"),this._forceRed(g)},x.prototype.redAdd=function(g){return k(this.red,"redAdd works only with red numbers"),this.red.add(this,g)},x.prototype.redIAdd=function(g){return k(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,g)},x.prototype.redSub=function(g){return k(this.red,"redSub works only with red numbers"),this.red.sub(this,g)},x.prototype.redISub=function(g){return k(this.red,"redISub works only with red numbers"),this.red.isub(this,g)},x.prototype.redShl=function(g){return k(this.red,"redShl works only with red numbers"),this.red.shl(this,g)},x.prototype.redMul=function(g){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.mul(this,g)},x.prototype.redIMul=function(g){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.imul(this,g)},x.prototype.redSqr=function(){return k(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return k(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return k(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return k(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return k(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(g){return k(this.red&&!g.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,g)};var de={k256:null,p224:null,p192:null,p25519:null};function le(y,g){this.name=y,this.p=new x(g,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function we(){le.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function xe(){le.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function Ce(){le.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function C(){le.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function a(y){if("string"==typeof y){var g=x._prime(y);this.m=g.p,this.prime=g}else k(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}function u(y){a.call(this,y),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}le.prototype._tmp=function(){var g=new x(null);return g.words=new Array(Math.ceil(this.n/13)),g},le.prototype.ireduce=function(g){var T,S=g;do{this.split(S,this.tmp),T=(S=(S=this.imulK(S)).iadd(this.tmp)).bitLength()}while(T>this.n);var N=T<this.n?-1:S.ucmp(this.p);return 0===N?(S.words[0]=0,S.length=1):N>0?S.isub(this.p):void 0!==S.strip?S.strip():S._strip(),S},le.prototype.split=function(g,S){g.iushrn(this.n,0,S)},le.prototype.imulK=function(g){return g.imul(this.k)},H(we,le),we.prototype.split=function(g,S){for(var T=4194303,N=Math.min(g.length,9),M=0;M<N;M++)S.words[M]=g.words[M];if(S.length=N,g.length<=9)return g.words[0]=0,void(g.length=1);var s=g.words[9];for(S.words[S.length++]=s&T,M=10;M<g.length;M++){var v=0|g.words[M];g.words[M-10]=(v&T)<<4|s>>>22,s=v}g.words[M-10]=s>>>=22,g.length-=0===s&&g.length>10?10:9},we.prototype.imulK=function(g){g.words[g.length]=0,g.words[g.length+1]=0,g.length+=2;for(var S=0,T=0;T<g.length;T++){var N=0|g.words[T];g.words[T]=67108863&(S+=977*N),S=64*N+(S/67108864|0)}return 0===g.words[g.length-1]&&(g.length--,0===g.words[g.length-1]&&g.length--),g},H(xe,le),H(Ce,le),H(C,le),C.prototype.imulK=function(g){for(var S=0,T=0;T<g.length;T++){var N=19*(0|g.words[T])+S,M=67108863&N;N>>>=26,g.words[T]=M,S=N}return 0!==S&&(g.words[g.length++]=S),g},x._prime=function(g){if(de[g])return de[g];var S;if("k256"===g)S=new we;else if("p224"===g)S=new xe;else if("p192"===g)S=new Ce;else{if("p25519"!==g)throw new Error("Unknown prime "+g);S=new C}return de[g]=S,S},a.prototype._verify1=function(g){k(0===g.negative,"red works only with positives"),k(g.red,"red works only with red numbers")},a.prototype._verify2=function(g,S){k(!(g.negative|S.negative),"red works only with positives"),k(g.red&&g.red===S.red,"red works only with red numbers")},a.prototype.imod=function(g){return this.prime?this.prime.ireduce(g)._forceRed(this):(L(g,g.umod(this.m)._forceRed(this)),g)},a.prototype.neg=function(g){return g.isZero()?g.clone():this.m.sub(g)._forceRed(this)},a.prototype.add=function(g,S){this._verify2(g,S);var T=g.add(S);return T.cmp(this.m)>=0&&T.isub(this.m),T._forceRed(this)},a.prototype.iadd=function(g,S){this._verify2(g,S);var T=g.iadd(S);return T.cmp(this.m)>=0&&T.isub(this.m),T},a.prototype.sub=function(g,S){this._verify2(g,S);var T=g.sub(S);return T.cmpn(0)<0&&T.iadd(this.m),T._forceRed(this)},a.prototype.isub=function(g,S){this._verify2(g,S);var T=g.isub(S);return T.cmpn(0)<0&&T.iadd(this.m),T},a.prototype.shl=function(g,S){return this._verify1(g),this.imod(g.ushln(S))},a.prototype.imul=function(g,S){return this._verify2(g,S),this.imod(g.imul(S))},a.prototype.mul=function(g,S){return this._verify2(g,S),this.imod(g.mul(S))},a.prototype.isqr=function(g){return this.imul(g,g.clone())},a.prototype.sqr=function(g){return this.mul(g,g)},a.prototype.sqrt=function(g){if(g.isZero())return g.clone();var S=this.m.andln(3);if(k(S%2==1),3===S){var T=this.m.add(new x(1)).iushrn(2);return this.pow(g,T)}for(var N=this.m.subn(1),M=0;!N.isZero()&&0===N.andln(1);)M++,N.iushrn(1);k(!N.isZero());var s=new x(1).toRed(this),v=s.redNeg(),W=this.m.subn(1).iushrn(1),K=this.m.bitLength();for(K=new x(2*K*K).toRed(this);0!==this.pow(K,W).cmp(v);)K.redIAdd(v);for(var ee=this.pow(K,N),ce=this.pow(g,N.addn(1).iushrn(1)),_e=this.pow(g,N),Pe=M;0!==_e.cmp(s);){for(var $e=_e,Se=0;0!==$e.cmp(s);Se++)$e=$e.redSqr();k(Se<Pe);var be=this.pow(ee,new x(1).iushln(Pe-Se-1));ce=ce.redMul(be),ee=be.redSqr(),_e=_e.redMul(ee),Pe=Se}return ce},a.prototype.invm=function(g){var S=g._invmp(this.m);return 0!==S.negative?(S.negative=0,this.imod(S).redNeg()):this.imod(S)},a.prototype.pow=function(g,S){if(S.isZero())return new x(1).toRed(this);if(0===S.cmpn(1))return g.clone();var N=new Array(16);N[0]=new x(1).toRed(this),N[1]=g;for(var M=2;M<N.length;M++)N[M]=this.mul(N[M-1],g);var s=N[0],v=0,W=0,K=S.bitLength()%26;for(0===K&&(K=26),M=S.length-1;M>=0;M--){for(var ee=S.words[M],ce=K-1;ce>=0;ce--){var _e=ee>>ce&1;s!==N[0]&&(s=this.sqr(s)),0!==_e||0!==v?(v<<=1,v|=_e,(4==++W||0===M&&0===ce)&&(s=this.mul(s,N[v]),W=0,v=0)):W=0}K=26}return s},a.prototype.convertTo=function(g){var S=g.umod(this.m);return S===g?S.clone():S},a.prototype.convertFrom=function(g){var S=g.clone();return S.red=null,S},x.mont=function(g){return new u(g)},H(u,a),u.prototype.convertTo=function(g){return this.imod(g.ushln(this.shift))},u.prototype.convertFrom=function(g){var S=this.imod(g.mul(this.rinv));return S.red=null,S},u.prototype.imul=function(g,S){if(g.isZero()||S.isZero())return g.words[0]=0,g.length=1,g;var T=g.imul(S),N=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=T.isub(N).iushrn(this.shift),s=M;return M.cmp(this.m)>=0?s=M.isub(this.m):M.cmpn(0)<0&&(s=M.iadd(this.m)),s._forceRed(this)},u.prototype.mul=function(g,S){if(g.isZero()||S.isZero())return new x(0)._forceRed(this);var T=g.mul(S),N=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=T.isub(N).iushrn(this.shift),s=M;return M.cmp(this.m)>=0?s=M.isub(this.m):M.cmpn(0)<0&&(s=M.iadd(this.m)),s._forceRed(this)},u.prototype.invm=function(g){return this.imod(g._invmp(this.m).mul(this.r2))._forceRed(this)}}(Fe=_.nmd(Fe),this)},35294:(Fe,z,_)=>{var p;function E(H){this.rand=H}if(Fe.exports=function(x){return p||(p=new E(null)),p.generate(x)},Fe.exports.Rand=E,E.prototype.generate=function(x){return this._rand(x)},E.prototype._rand=function(x){if(this.rand.getBytes)return this.rand.getBytes(x);for(var R=new Uint8Array(x),A=0;A<R.length;A++)R[A]=this.rand.getByte();return R},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?E.prototype._rand=function(x){var R=new Uint8Array(x);return self.crypto.getRandomValues(R),R}:self.msCrypto&&self.msCrypto.getRandomValues?E.prototype._rand=function(x){var R=new Uint8Array(x);return self.msCrypto.getRandomValues(R),R}:"object"==typeof window&&(E.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var k=_(91426);if("function"!=typeof k.randomBytes)throw new Error("Not supported");E.prototype._rand=function(x){return k.randomBytes(x)}}catch{}},23963:(Fe,z,_)=>{"use strict";const{AbstractLevel:p}=_(75929),E=_(61747),k=_(81725),{fromCallback:H}=_(42381),{Iterator:x}=_(18229),R=_(97899),A=_(19857),O=_(57059),F="level-js-",L=Symbol("idb"),I=Symbol("namePrefix"),Z=Symbol("location"),j=Symbol("version"),G=Symbol("store"),re=Symbol("onComplete"),te=Symbol("promise");z.BrowserLevel=(()=>{class Y extends p{constructor(ae,se,de){if("function"==typeof se||"function"==typeof de)throw new E("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});const{prefix:le,version:we,...xe}=se||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},xe),"string"!=typeof ae)throw new Error("constructor requires a location string argument");this[Z]=ae,this[I]=le??F,this[j]=parseInt(we||1,10),this[L]=null}get location(){return this[Z]}get namePrefix(){return this[I]}get version(){return this[j]}get db(){return this[L]}get type(){return"browser-level"}_open(ae,se){const de=indexedDB.open(this[I]+this[Z],this[j]);de.onerror=function(){se(de.error||new Error("unknown error"))},de.onsuccess=()=>{this[L]=de.result,se()},de.onupgradeneeded=le=>{const we=le.target.result;we.objectStoreNames.contains(this[Z])||we.createObjectStore(this[Z])}}[G](ae){return this[L].transaction([this[Z]],ae).objectStore(this[Z])}[re](ae,se){const de=ae.transaction;de.onabort=function(){se(de.error||new Error("aborted by user"))},de.oncomplete=function(){se(null,ae.result)}}_get(ae,se,de){const le=this[G]("readonly");let we;try{we=le.get(ae)}catch(xe){return this.nextTick(de,xe)}this[re](we,function(xe,Ce){return xe?de(xe):void 0===Ce?de(new E("Entry not found",{code:"LEVEL_NOT_FOUND"})):void de(null,R(Ce))})}_getMany(ae,se,de){const le=this[G]("readonly"),we=ae.map(xe=>Ce=>{let C;try{C=le.get(xe)}catch(a){return Ce(a)}C.onsuccess=()=>{const a=C.result;Ce(null,void 0===a?a:R(a))},C.onerror=a=>{a.stopPropagation(),Ce(C.error)}});k(we,16,de)}_del(ae,se,de){const le=this[G]("readwrite");let we;try{we=le.delete(ae)}catch(xe){return this.nextTick(de,xe)}this[re](we,de)}_put(ae,se,de,le){const we=this[G]("readwrite");let xe;try{xe=we.put(se,ae)}catch(Ce){return this.nextTick(le,Ce)}this[re](xe,le)}_iterator(ae){return new x(this,this[Z],ae)}_batch(ae,se,de){const le=this[G]("readwrite"),we=le.transaction;let Ce,xe=0;we.onabort=function(){de(Ce||we.error||new Error("aborted by user"))},we.oncomplete=function(){de()},function C(){const a=ae[xe++],u=a.key;let y;try{y="del"===a.type?le.delete(u):le.put(a.value,u)}catch(g){return Ce=g,void we.abort()}xe<ae.length?y.onsuccess=C:"function"==typeof we.commit&&we.commit()}()}_clear(ae,se){let de,le;try{de=O(ae)}catch{return this.nextTick(se)}if(ae.limit>=0)return A(this,this[Z],de,ae,se);try{const we=this[G]("readwrite");le=de?we.delete(de):we.clear()}catch(we){return this.nextTick(se,we)}this[re](le,se)}_close(ae){this[L].close(),this.nextTick(ae)}}return Y.destroy=function(oe,ae,se){"function"==typeof ae&&(se=ae,ae=F),se=H(se,te);const de=indexedDB.deleteDatabase(ae+oe);return de.onsuccess=function(){se()},de.onerror=function(le){se(le)},se[te]},Y})()},18229:(Fe,z,_)=>{"use strict";const{AbstractIterator:p}=_(75929),E=_(57059),k=_(97899),H=Symbol("cache"),x=Symbol("finished"),R=Symbol("options"),A=Symbol("currentOptions"),O=Symbol("position"),F=Symbol("location"),L=Symbol("first"),I={};function j(G){"function"==typeof G.commit&&G.commit()}z.Iterator=class Z extends p{constructor(re,te,J){super(re,J),this[H]=[],this[x]=0===this.limit,this[R]=J,this[A]={...J},this[O]=void 0,this[F]=te,this[L]=!0}_nextv(re,te,J){if(this[L]=!1,this[x])return this.nextTick(J,null,[]);if(this[H].length>0)return re=Math.min(re,this[H].length),this.nextTick(J,null,this[H].splice(0,re));let Y;void 0!==this[O]&&(this[R].reverse?(this[A].lt=this[O],this[A].lte=void 0):(this[A].gt=this[O],this[A].gte=void 0));try{Y=E(this[A])}catch{return this[x]=!0,this.nextTick(J,null,[])}const oe=this.db.db.transaction([this[F]],"readonly"),ae=oe.objectStore(this[F]),se=[];if(this[R].reverse)ae[!this[R].values&&ae.openKeyCursor?"openKeyCursor":"openCursor"](Y,"prev").onsuccess=le=>{const we=le.target.result;if(we){const{key:xe,value:Ce}=we;this[O]=xe,se.push([this[R].keys&&void 0!==xe?k(xe):void 0,this[R].values&&void 0!==Ce?k(Ce):void 0]),se.length<re?we.continue():j(oe)}else this[x]=!0};else{let de,le;const we=()=>{if(void 0===de||void 0===le)return;const xe=Math.max(de.length,le.length);0===xe||re===1/0?this[x]=!0:this[O]=de[xe-1],se.length=xe;for(let Ce=0;Ce<xe;Ce++){const C=de[Ce],a=le[Ce];se[Ce]=[this[R].keys&&void 0!==C?k(C):void 0,this[R].values&&void 0!==a?k(a):void 0]}j(oe)};this[R].keys||re<1/0?ae.getAllKeys(Y,re<1/0?re:void 0).onsuccess=xe=>{de=xe.target.result,we()}:(de=[],this.nextTick(we)),this[R].values?ae.getAll(Y,re<1/0?re:void 0).onsuccess=xe=>{le=xe.target.result,we()}:(le=[],this.nextTick(we))}oe.onabort=()=>{J(oe.error||new Error("aborted by user")),J=null},oe.oncomplete=()=>{J(null,se),J=null}}_next(re){if(this[H].length>0){const[te,J]=this[H].shift();this.nextTick(re,null,te,J)}else if(this[x])this.nextTick(re);else{let te=Math.min(100,this.limit-this.count);this[L]&&(this[L]=!1,te=1),this._nextv(te,I,(J,Y)=>{if(J)return re(J);this[H]=Y,this._next(re)})}}_all(re,te){this[L]=!1;const J=this[H].splice(0,this[H].length),Y=this.limit-this.count-J.length;if(Y<=0)return this.nextTick(te,null,J);this._nextv(Y,I,(oe,ae)=>{if(oe)return te(oe);J.length>0&&(ae=J.concat(ae)),te(null,ae)})}_seek(re,te){let J;this[L]=!0,this[H]=[],this[x]=!1,this[O]=void 0,this[A]={...this[R]};try{J=E(this[R])}catch{return void(this[x]=!0)}null===J||J.includes(re)?this[R].reverse?this[A].lte=re:this[A].gte=re:this[x]=!0}}},19857:Fe=>{"use strict";Fe.exports=function(_,p,E,k,H){if(0===k.limit)return _.nextTick(H);const x=_.db.transaction([p],"readwrite"),R=x.objectStore(p);let A=0;x.oncomplete=function(){H()},x.onabort=function(){H(x.error||new Error("aborted by user"))},R[R.openKeyCursor?"openKeyCursor":"openCursor"](E,k.reverse?"prev":"next").onsuccess=function(L){const I=L.target.result;I&&(R.delete(I.key).onsuccess=function(){(k.limit<=0||++A<k.limit)&&I.continue()})}}},97899:Fe=>{"use strict";const z=new TextEncoder;Fe.exports=function(_){return _ instanceof Uint8Array?_:_ instanceof ArrayBuffer?new Uint8Array(_):z.encode(_)}},57059:Fe=>{"use strict";Fe.exports=function(_){const p=void 0!==_.gte?_.gte:void 0!==_.gt?_.gt:void 0,E=void 0!==_.lte?_.lte:void 0!==_.lt?_.lt:void 0,k=void 0===_.gte,H=void 0===_.lte;return void 0!==p&&void 0!==E?IDBKeyRange.bound(p,E,k,H):void 0!==p?IDBKeyRange.lowerBound(p,k):void 0!==E?IDBKeyRange.upperBound(E,H):null}},12375:(Fe,z,_)=>{var p=_(27054).Buffer;function E(O){p.isBuffer(O)||(O=p.from(O));for(var F=O.length/4|0,L=new Array(F),I=0;I<F;I++)L[I]=O.readUInt32BE(4*I);return L}function k(O){for(;0<O.length;O++)O[0]=0}function H(O,F,L,I,Z){for(var se,de,le,we,j=L[0],G=L[1],re=L[2],te=L[3],J=O[0]^F[0],Y=O[1]^F[1],oe=O[2]^F[2],ae=O[3]^F[3],xe=4,Ce=1;Ce<Z;Ce++)se=j[J>>>24]^G[Y>>>16&255]^re[oe>>>8&255]^te[255&ae]^F[xe++],de=j[Y>>>24]^G[oe>>>16&255]^re[ae>>>8&255]^te[255&J]^F[xe++],le=j[oe>>>24]^G[ae>>>16&255]^re[J>>>8&255]^te[255&Y]^F[xe++],we=j[ae>>>24]^G[J>>>16&255]^re[Y>>>8&255]^te[255&oe]^F[xe++],J=se,Y=de,oe=le,ae=we;return se=(I[J>>>24]<<24|I[Y>>>16&255]<<16|I[oe>>>8&255]<<8|I[255&ae])^F[xe++],de=(I[Y>>>24]<<24|I[oe>>>16&255]<<16|I[ae>>>8&255]<<8|I[255&J])^F[xe++],le=(I[oe>>>24]<<24|I[ae>>>16&255]<<16|I[J>>>8&255]<<8|I[255&Y])^F[xe++],we=(I[ae>>>24]<<24|I[J>>>16&255]<<16|I[Y>>>8&255]<<8|I[255&oe])^F[xe++],[se>>>=0,de>>>=0,le>>>=0,we>>>=0]}var x=[0,1,2,4,8,16,32,64,128,27,54],R=function(){for(var O=new Array(256),F=0;F<256;F++)O[F]=F<128?F<<1:F<<1^283;for(var L=[],I=[],Z=[[],[],[],[]],j=[[],[],[],[]],G=0,re=0,te=0;te<256;++te){var J=re^re<<1^re<<2^re<<3^re<<4;L[G]=J=J>>>8^255&J^99,I[J]=G;var Y=O[G],oe=O[Y],ae=O[oe],se=257*O[J]^16843008*J;Z[0][G]=se<<24|se>>>8,Z[1][G]=se<<16|se>>>16,Z[2][G]=se<<8|se>>>24,Z[3][G]=se,j[0][J]=(se=16843009*ae^65537*oe^257*Y^16843008*G)<<24|se>>>8,j[1][J]=se<<16|se>>>16,j[2][J]=se<<8|se>>>24,j[3][J]=se,0===G?G=re=1:(G=Y^O[O[O[ae^Y]]],re^=O[O[re]])}return{SBOX:L,INV_SBOX:I,SUB_MIX:Z,INV_SUB_MIX:j}}();function A(O){this._key=E(O),this._reset()}A.blockSize=16,A.keySize=32,A.prototype.blockSize=A.blockSize,A.prototype.keySize=A.keySize,A.prototype._reset=function(){for(var O=this._key,F=O.length,L=F+6,I=4*(L+1),Z=[],j=0;j<F;j++)Z[j]=O[j];for(j=F;j<I;j++){var G=Z[j-1];j%F==0?(G=R.SBOX[(G=G<<8|G>>>24)>>>24]<<24|R.SBOX[G>>>16&255]<<16|R.SBOX[G>>>8&255]<<8|R.SBOX[255&G],G^=x[j/F|0]<<24):F>6&&j%F==4&&(G=R.SBOX[G>>>24]<<24|R.SBOX[G>>>16&255]<<16|R.SBOX[G>>>8&255]<<8|R.SBOX[255&G]),Z[j]=Z[j-F]^G}for(var re=[],te=0;te<I;te++){var J=I-te,Y=Z[J-(te%4?0:4)];re[te]=te<4||J<=4?Y:R.INV_SUB_MIX[0][R.SBOX[Y>>>24]]^R.INV_SUB_MIX[1][R.SBOX[Y>>>16&255]]^R.INV_SUB_MIX[2][R.SBOX[Y>>>8&255]]^R.INV_SUB_MIX[3][R.SBOX[255&Y]]}this._nRounds=L,this._keySchedule=Z,this._invKeySchedule=re},A.prototype.encryptBlockRaw=function(O){return H(O=E(O),this._keySchedule,R.SUB_MIX,R.SBOX,this._nRounds)},A.prototype.encryptBlock=function(O){var F=this.encryptBlockRaw(O),L=p.allocUnsafe(16);return L.writeUInt32BE(F[0],0),L.writeUInt32BE(F[1],4),L.writeUInt32BE(F[2],8),L.writeUInt32BE(F[3],12),L},A.prototype.decryptBlock=function(O){var F=(O=E(O))[1];O[1]=O[3],O[3]=F;var L=H(O,this._invKeySchedule,R.INV_SUB_MIX,R.INV_SBOX,this._nRounds),I=p.allocUnsafe(16);return I.writeUInt32BE(L[0],0),I.writeUInt32BE(L[3],4),I.writeUInt32BE(L[2],8),I.writeUInt32BE(L[1],12),I},A.prototype.scrub=function(){k(this._keySchedule),k(this._invKeySchedule),k(this._key)},Fe.exports.AES=A},19307:(Fe,z,_)=>{var p=_(12375),E=_(27054).Buffer,k=_(3247),H=_(71993),x=_(85917),R=_(13546),A=_(95725);function L(I,Z,j,G){k.call(this);var re=E.alloc(4,0);this._cipher=new p.AES(Z);var te=this._cipher.encryptBlock(re);this._ghash=new x(te),j=function F(I,Z,j){if(12===Z.length)return I._finID=E.concat([Z,E.from([0,0,0,1])]),E.concat([Z,E.from([0,0,0,2])]);var G=new x(j),re=Z.length,te=re%16;G.update(Z),te&&G.update(E.alloc(te=16-te,0)),G.update(E.alloc(8,0));var J=8*re,Y=E.alloc(8);Y.writeUIntBE(J,0,8),G.update(Y),I._finID=G.state;var oe=E.from(I._finID);return A(oe),oe}(this,j,te),this._prev=E.from(j),this._cache=E.allocUnsafe(0),this._secCache=E.allocUnsafe(0),this._decrypt=G,this._alen=0,this._len=0,this._mode=I,this._authTag=null,this._called=!1}H(L,k),L.prototype._update=function(I){if(!this._called&&this._alen){var Z=16-this._alen%16;Z<16&&(Z=E.alloc(Z,0),this._ghash.update(Z))}this._called=!0;var j=this._mode.encrypt(this,I);return this._ghash.update(this._decrypt?I:j),this._len+=I.length,j},L.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var I=R(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function O(I,Z){var j=0;I.length!==Z.length&&j++;for(var G=Math.min(I.length,Z.length),re=0;re<G;++re)j+=I[re]^Z[re];return j}(I,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=I,this._cipher.scrub()},L.prototype.getAuthTag=function(){if(this._decrypt||!E.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},L.prototype.setAuthTag=function(Z){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=Z},L.prototype.setAAD=function(Z){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(Z),this._alen+=Z.length},Fe.exports=L},43388:(Fe,z,_)=>{var p=_(350),E=_(60102),k=_(3219);z.createCipher=z.Cipher=p.createCipher,z.createCipheriv=z.Cipheriv=p.createCipheriv,z.createDecipher=z.Decipher=E.createDecipher,z.createDecipheriv=z.Decipheriv=E.createDecipheriv,z.listCiphers=z.getCiphers=function H(){return Object.keys(k)}},60102:(Fe,z,_)=>{var p=_(19307),E=_(27054).Buffer,k=_(60503),H=_(91821),x=_(3247),R=_(12375),A=_(18211);function F(G,re,te){x.call(this),this._cache=new L,this._last=void 0,this._cipher=new R.AES(re),this._prev=E.from(te),this._mode=G,this._autopadding=!0}function L(){this.cache=E.allocUnsafe(0)}function Z(G,re,te){var J=k[G.toLowerCase()];if(!J)throw new TypeError("invalid suite type");if("string"==typeof te&&(te=E.from(te)),"GCM"!==J.mode&&te.length!==J.iv)throw new TypeError("invalid iv length "+te.length);if("string"==typeof re&&(re=E.from(re)),re.length!==J.key/8)throw new TypeError("invalid key length "+re.length);return"stream"===J.type?new H(J.module,re,te,!0):"auth"===J.type?new p(J.module,re,te,!0):new F(J.module,re,te)}_(71993)(F,x),F.prototype._update=function(G){this._cache.add(G);for(var re,te,J=[];re=this._cache.get(this._autopadding);)te=this._mode.decrypt(this,re),J.push(te);return E.concat(J)},F.prototype._final=function(){var G=this._cache.flush();if(this._autopadding)return function I(G){var re=G[15];if(re<1||re>16)throw new Error("unable to decrypt data");for(var te=-1;++te<re;)if(G[te+(16-re)]!==re)throw new Error("unable to decrypt data");if(16!==re)return G.slice(0,16-re)}(this._mode.decrypt(this,G));if(G)throw new Error("data not multiple of block length")},F.prototype.setAutoPadding=function(G){return this._autopadding=!!G,this},L.prototype.add=function(G){this.cache=E.concat([this.cache,G])},L.prototype.get=function(G){var re;if(G){if(this.cache.length>16)return re=this.cache.slice(0,16),this.cache=this.cache.slice(16),re}else if(this.cache.length>=16)return re=this.cache.slice(0,16),this.cache=this.cache.slice(16),re;return null},L.prototype.flush=function(){if(this.cache.length)return this.cache},z.createDecipher=function j(G,re){var te=k[G.toLowerCase()];if(!te)throw new TypeError("invalid suite type");var J=A(re,!1,te.key,te.iv);return Z(G,J.key,J.iv)},z.createDecipheriv=Z},350:(Fe,z,_)=>{var p=_(60503),E=_(19307),k=_(27054).Buffer,H=_(91821),x=_(3247),R=_(12375),A=_(18211);function F(G,re,te){x.call(this),this._cache=new I,this._cipher=new R.AES(re),this._prev=k.from(te),this._mode=G,this._autopadding=!0}_(71993)(F,x),F.prototype._update=function(G){this._cache.add(G);for(var re,te,J=[];re=this._cache.get();)te=this._mode.encrypt(this,re),J.push(te);return k.concat(J)};var L=k.alloc(16,16);function I(){this.cache=k.allocUnsafe(0)}function Z(G,re,te){var J=p[G.toLowerCase()];if(!J)throw new TypeError("invalid suite type");if("string"==typeof re&&(re=k.from(re)),re.length!==J.key/8)throw new TypeError("invalid key length "+re.length);if("string"==typeof te&&(te=k.from(te)),"GCM"!==J.mode&&te.length!==J.iv)throw new TypeError("invalid iv length "+te.length);return"stream"===J.type?new H(J.module,re,te):"auth"===J.type?new E(J.module,re,te):new F(J.module,re,te)}F.prototype._final=function(){var G=this._cache.flush();if(this._autopadding)return G=this._mode.encrypt(this,G),this._cipher.scrub(),G;if(!G.equals(L))throw this._cipher.scrub(),new Error("data not multiple of block length")},F.prototype.setAutoPadding=function(G){return this._autopadding=!!G,this},I.prototype.add=function(G){this.cache=k.concat([this.cache,G])},I.prototype.get=function(){if(this.cache.length>15){var G=this.cache.slice(0,16);return this.cache=this.cache.slice(16),G}return null},I.prototype.flush=function(){for(var G=16-this.cache.length,re=k.allocUnsafe(G),te=-1;++te<G;)re.writeUInt8(G,te);return k.concat([this.cache,re])},z.createCipheriv=Z,z.createCipher=function j(G,re){var te=p[G.toLowerCase()];if(!te)throw new TypeError("invalid suite type");var J=A(re,!1,te.key,te.iv);return Z(G,J.key,J.iv)}},85917:(Fe,z,_)=>{var p=_(27054).Buffer,E=p.alloc(16,0);function H(R){var A=p.allocUnsafe(16);return A.writeUInt32BE(R[0]>>>0,0),A.writeUInt32BE(R[1]>>>0,4),A.writeUInt32BE(R[2]>>>0,8),A.writeUInt32BE(R[3]>>>0,12),A}function x(R){this.h=R,this.state=p.alloc(16,0),this.cache=p.allocUnsafe(0)}x.prototype.ghash=function(R){for(var A=-1;++A<R.length;)this.state[A]^=R[A];this._multiply()},x.prototype._multiply=function(){for(var O,L,R=function k(R){return[R.readUInt32BE(0),R.readUInt32BE(4),R.readUInt32BE(8),R.readUInt32BE(12)]}(this.h),A=[0,0,0,0],I=-1;++I<128;){for(!!(this.state[~~(I/8)]&1<<7-I%8)&&(A[0]^=R[0],A[1]^=R[1],A[2]^=R[2],A[3]^=R[3]),L=!!(1&R[3]),O=3;O>0;O--)R[O]=R[O]>>>1|(1&R[O-1])<<31;R[0]=R[0]>>>1,L&&(R[0]=R[0]^225<<24)}this.state=H(A)},x.prototype.update=function(R){this.cache=p.concat([this.cache,R]);for(var A;this.cache.length>=16;)A=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(A)},x.prototype.final=function(R,A){return this.cache.length&&this.ghash(p.concat([this.cache,E],16)),this.ghash(H([0,R,0,A])),this.state},Fe.exports=x},95725:Fe=>{Fe.exports=function z(_){for(var E,p=_.length;p--;){if(255!==(E=_.readUInt8(p))){E++,_.writeUInt8(E,p);break}_.writeUInt8(0,p)}}},34133:(Fe,z,_)=>{var p=_(13546);z.encrypt=function(E,k){var H=p(k,E._prev);return E._prev=E._cipher.encryptBlock(H),E._prev},z.decrypt=function(E,k){var H=E._prev;E._prev=k;var x=E._cipher.decryptBlock(k);return p(x,H)}},17090:(Fe,z,_)=>{var p=_(27054).Buffer,E=_(13546);function k(H,x,R){var A=x.length,O=E(x,H._cache);return H._cache=H._cache.slice(A),H._prev=p.concat([H._prev,R?x:O]),O}z.encrypt=function(H,x,R){for(var O,A=p.allocUnsafe(0);x.length;){if(0===H._cache.length&&(H._cache=H._cipher.encryptBlock(H._prev),H._prev=p.allocUnsafe(0)),!(H._cache.length<=x.length)){A=p.concat([A,k(H,x,R)]);break}A=p.concat([A,k(H,x.slice(0,O=H._cache.length),R)]),x=x.slice(O)}return A}},71039:(Fe,z,_)=>{var p=_(27054).Buffer;function E(H,x,R){for(var I,Z,O=-1,L=0;++O<8;)L+=(128&(Z=H._cipher.encryptBlock(H._prev)[0]^(I=x&1<<7-O?128:0)))>>O%8,H._prev=k(H._prev,R?I:Z);return L}function k(H,x){var R=H.length,A=-1,O=p.allocUnsafe(H.length);for(H=p.concat([H,p.from([x])]);++A<R;)O[A]=H[A]<<1|H[A+1]>>7;return O}z.encrypt=function(H,x,R){for(var A=x.length,O=p.allocUnsafe(A),F=-1;++F<A;)O[F]=E(H,x[F],R);return O}},72576:(Fe,z,_)=>{var p=_(27054).Buffer;function E(k,H,x){var A=k._cipher.encryptBlock(k._prev)[0]^H;return k._prev=p.concat([k._prev.slice(1),p.from([x?H:A])]),A}z.encrypt=function(k,H,x){for(var R=H.length,A=p.allocUnsafe(R),O=-1;++O<R;)A[O]=E(k,H[O],x);return A}},70336:(Fe,z,_)=>{var p=_(13546),E=_(27054).Buffer,k=_(95725);function H(R){var A=R._cipher.encryptBlockRaw(R._prev);return k(R._prev),A}z.encrypt=function(R,A){var O=Math.ceil(A.length/16),F=R._cache.length;R._cache=E.concat([R._cache,E.allocUnsafe(16*O)]);for(var L=0;L<O;L++){var I=H(R),Z=F+16*L;R._cache.writeUInt32BE(I[0],Z+0),R._cache.writeUInt32BE(I[1],Z+4),R._cache.writeUInt32BE(I[2],Z+8),R._cache.writeUInt32BE(I[3],Z+12)}var j=R._cache.slice(0,A.length);return R._cache=R._cache.slice(A.length),p(A,j)}},37513:(Fe,z)=>{z.encrypt=function(_,p){return _._cipher.encryptBlock(p)},z.decrypt=function(_,p){return _._cipher.decryptBlock(p)}},60503:(Fe,z,_)=>{var p={ECB:_(37513),CBC:_(34133),CFB:_(17090),CFB8:_(72576),CFB1:_(71039),OFB:_(46854),CTR:_(70336),GCM:_(70336)},E=_(3219);for(var k in E)E[k].module=p[E[k].mode];Fe.exports=E},46854:(Fe,z,_)=>{var p=_(13546);function E(k){return k._prev=k._cipher.encryptBlock(k._prev),k._prev}z.encrypt=function(k,H){for(;k._cache.length<H.length;)k._cache=Buffer.concat([k._cache,E(k)]);var x=k._cache.slice(0,H.length);return k._cache=k._cache.slice(H.length),p(H,x)}},91821:(Fe,z,_)=>{var p=_(12375),E=_(27054).Buffer,k=_(3247);function x(R,A,O,F){k.call(this),this._cipher=new p.AES(A),this._prev=E.from(O),this._cache=E.allocUnsafe(0),this._secCache=E.allocUnsafe(0),this._decrypt=F,this._mode=R}_(71993)(x,k),x.prototype._update=function(R){return this._mode.encrypt(this,R,this._decrypt)},x.prototype._final=function(){this._cipher.scrub()},Fe.exports=x},88862:(Fe,z,_)=>{var p=_(39799),E=_(43388),k=_(60503),H=_(59571),x=_(18211);function O(I,Z,j){if(I=I.toLowerCase(),k[I])return E.createCipheriv(I,Z,j);if(H[I])return new p({key:Z,iv:j,mode:I});throw new TypeError("invalid suite type")}function F(I,Z,j){if(I=I.toLowerCase(),k[I])return E.createDecipheriv(I,Z,j);if(H[I])return new p({key:Z,iv:j,mode:I,decrypt:!0});throw new TypeError("invalid suite type")}z.createCipher=z.Cipher=function R(I,Z){var j,G;if(I=I.toLowerCase(),k[I])j=k[I].key,G=k[I].iv;else{if(!H[I])throw new TypeError("invalid suite type");j=8*H[I].key,G=H[I].iv}var re=x(Z,!1,j,G);return O(I,re.key,re.iv)},z.createCipheriv=z.Cipheriv=O,z.createDecipher=z.Decipher=function A(I,Z){var j,G;if(I=I.toLowerCase(),k[I])j=k[I].key,G=k[I].iv;else{if(!H[I])throw new TypeError("invalid suite type");j=8*H[I].key,G=H[I].iv}var re=x(Z,!1,j,G);return F(I,re.key,re.iv)},z.createDecipheriv=z.Decipheriv=F,z.listCiphers=z.getCiphers=function L(){return Object.keys(H).concat(E.getCiphers())}},39799:(Fe,z,_)=>{var p=_(3247),E=_(71549),k=_(71993),H=_(27054).Buffer,x={"des-ede3-cbc":E.CBC.instantiate(E.EDE),"des-ede3":E.EDE,"des-ede-cbc":E.CBC.instantiate(E.EDE),"des-ede":E.EDE,"des-cbc":E.CBC.instantiate(E.DES),"des-ecb":E.DES};function R(A){p.call(this);var L,O=A.mode.toLowerCase(),F=x[O];L=A.decrypt?"decrypt":"encrypt";var I=A.key;H.isBuffer(I)||(I=H.from(I)),("des-ede"===O||"des-ede-cbc"===O)&&(I=H.concat([I,I.slice(0,8)]));var Z=A.iv;H.isBuffer(Z)||(Z=H.from(Z)),this._des=F.create({key:I,iv:Z,type:L})}x.des=x["des-cbc"],x.des3=x["des-ede3-cbc"],Fe.exports=R,k(R,p),R.prototype._update=function(A){return H.from(this._des.update(A))},R.prototype._final=function(){return H.from(this._des.final())}},59571:(Fe,z)=>{z["des-ecb"]={key:8,iv:0},z["des-cbc"]=z.des={key:8,iv:8},z["des-ede3-cbc"]=z.des3={key:24,iv:8},z["des-ede3"]={key:24,iv:0},z["des-ede-cbc"]={key:16,iv:8},z["des-ede"]={key:16,iv:0}},14105:(Fe,z,_)=>{var p=_(917),E=_(3342);function H(R){var O,A=R.modulus.byteLength();do{O=new p(E(A))}while(O.cmp(R.modulus)>=0||!O.umod(R.prime1)||!O.umod(R.prime2));return O}function x(R,A){var O=function k(R){var A=H(R);return{blinder:A.toRed(p.mont(R.modulus)).redPow(new p(R.publicExponent)).fromRed(),unblinder:A.invm(R.modulus)}}(A),F=A.modulus.byteLength(),L=new p(R).mul(O.blinder).umod(A.modulus),I=L.toRed(p.mont(A.prime1)),Z=L.toRed(p.mont(A.prime2)),j=A.coefficient,G=A.prime1,re=A.prime2,te=I.redPow(A.exponent1).fromRed(),J=Z.redPow(A.exponent2).fromRed(),Y=te.isub(J).imul(j).umod(G).imul(re);return J.iadd(Y).imul(O.unblinder).umod(A.modulus).toArrayLike(Buffer,"be",F)}x.getr=H,Fe.exports=x},99560:(Fe,z,_)=>{"use strict";Fe.exports=_(62951)},79143:(Fe,z,_)=>{"use strict";var p=_(27054).Buffer,E=_(67211),k=_(64670),H=_(71993),x=_(43150),R=_(74754),A=_(62951);function O(Z){k.Writable.call(this);var j=A[Z];if(!j)throw new Error("Unknown message digest");this._hashType=j.hash,this._hash=E(j.hash),this._tag=j.id,this._signType=j.sign}function F(Z){k.Writable.call(this);var j=A[Z];if(!j)throw new Error("Unknown message digest");this._hash=E(j.hash),this._tag=j.id,this._signType=j.sign}function L(Z){return new O(Z)}function I(Z){return new F(Z)}Object.keys(A).forEach(function(Z){A[Z].id=p.from(A[Z].id,"hex"),A[Z.toLowerCase()]=A[Z]}),H(O,k.Writable),O.prototype._write=function(j,G,re){this._hash.update(j),re()},O.prototype.update=function(j,G){return this._hash.update("string"==typeof j?p.from(j,G):j),this},O.prototype.sign=function(j,G){this.end();var re=this._hash.digest(),te=x(re,j,this._hashType,this._signType,this._tag);return G?te.toString(G):te},H(F,k.Writable),F.prototype._write=function(j,G,re){this._hash.update(j),re()},F.prototype.update=function(j,G){return this._hash.update("string"==typeof j?p.from(j,G):j),this},F.prototype.verify=function(j,G,re){var te="string"==typeof G?p.from(G,re):G;this.end();var J=this._hash.digest();return R(te,J,j,this._signType,this._tag)},Fe.exports={Sign:L,Verify:I,createSign:L,createVerify:I}},43150:(Fe,z,_)=>{"use strict";var p=_(27054).Buffer,E=_(56432),k=_(14105),H=_(90518).ec,x=_(917),R=_(65667),A=_(64589);function j(Y,oe,ae,se){if((Y=p.from(Y.toArray())).length<oe.byteLength()){var de=p.alloc(oe.byteLength()-Y.length);Y=p.concat([de,Y])}var le=ae.length,we=function re(Y,oe){Y=(Y=G(Y,oe)).mod(oe);var ae=p.from(Y.toArray());if(ae.length<oe.byteLength()){var se=p.alloc(oe.byteLength()-ae.length);ae=p.concat([se,ae])}return ae}(ae,oe),xe=p.alloc(le);xe.fill(1);var Ce=p.alloc(le);return Ce=E(se,Ce).update(xe).update(p.from([0])).update(Y).update(we).digest(),xe=E(se,Ce).update(xe).digest(),{k:Ce=E(se,Ce).update(xe).update(p.from([1])).update(Y).update(we).digest(),v:xe=E(se,Ce).update(xe).digest()}}function G(Y,oe){var ae=new x(Y),se=(Y.length<<3)-oe.bitLength();return se>0&&ae.ishrn(se),ae}function te(Y,oe,ae){var se,de;do{for(se=p.alloc(0);8*se.length<Y.bitLength();)oe.v=E(ae,oe.k).update(oe.v).digest(),se=p.concat([se,oe.v]);de=G(se,Y),oe.k=E(ae,oe.k).update(oe.v).update(p.from([0])).digest(),oe.v=E(ae,oe.k).update(oe.v).digest()}while(-1!==de.cmp(Y));return de}function J(Y,oe,ae,se){return Y.toRed(x.mont(ae)).redPow(oe).fromRed().mod(se)}Fe.exports=function F(Y,oe,ae,se,de){var le=R(oe);if(le.curve){if("ecdsa"!==se&&"ecdsa/rsa"!==se)throw new Error("wrong private key type");return function L(Y,oe){var ae=A[oe.curve.join(".")];if(!ae)throw new Error("unknown curve "+oe.curve.join("."));var le=new H(ae).keyFromPrivate(oe.privateKey).sign(Y);return p.from(le.toDER())}(Y,le)}if("dsa"===le.type){if("dsa"!==se)throw new Error("wrong private key type");return function I(Y,oe,ae){for(var Ce,se=oe.params.priv_key,de=oe.params.p,le=oe.params.q,we=oe.params.g,xe=new x(0),C=G(Y,le).mod(le),a=!1,u=j(se,le,Y,ae);!1===a;)xe=J(we,Ce=te(le,u,ae),de,le),0===(a=Ce.invm(le).imul(C.add(se.mul(xe))).mod(le)).cmpn(0)&&(a=!1,xe=new x(0));return function Z(Y,oe){Y=Y.toArray(),oe=oe.toArray(),128&Y[0]&&(Y=[0].concat(Y)),128&oe[0]&&(oe=[0].concat(oe));var se=[48,Y.length+oe.length+4,2,Y.length];return se=se.concat(Y,[2,oe.length],oe),p.from(se)}(xe,a)}(Y,le,ae)}if("rsa"!==se&&"ecdsa/rsa"!==se)throw new Error("wrong private key type");if(void 0!==oe.padding&&1!==oe.padding)throw new Error("illegal or unsupported padding mode");Y=p.concat([de,Y]);for(var we=le.modulus.byteLength(),xe=[0,1];Y.length+xe.length+1<we;)xe.push(255);xe.push(0);for(var Ce=-1;++Ce<Y.length;)xe.push(Y[Ce]);return k(xe,le)},Fe.exports.getKey=j,Fe.exports.makeKey=te},74754:(Fe,z,_)=>{"use strict";var p=_(27054).Buffer,E=_(917),k=_(90518).ec,H=_(65667),x=_(64589);function F(L,I){if(L.cmpn(0)<=0)throw new Error("invalid sig");if(L.cmp(I)>=0)throw new Error("invalid sig")}Fe.exports=function R(L,I,Z,j,G){var re=H(Z);if("ec"===re.type){if("ecdsa"!==j&&"ecdsa/rsa"!==j)throw new Error("wrong public key type");return function A(L,I,Z){var j=x[Z.data.algorithm.curve.join(".")];if(!j)throw new Error("unknown curve "+Z.data.algorithm.curve.join("."));return new k(j).verify(I,L,Z.data.subjectPrivateKey.data)}(L,I,re)}if("dsa"===re.type){if("dsa"!==j)throw new Error("wrong public key type");return function O(L,I,Z){var j=Z.data.p,G=Z.data.q,re=Z.data.g,te=Z.data.pub_key,J=H.signature.decode(L,"der"),Y=J.s,oe=J.r;F(Y,G),F(oe,G);var ae=E.mont(j),se=Y.invm(G);return 0===re.toRed(ae).redPow(new E(I).mul(se).mod(G)).fromRed().mul(te.toRed(ae).redPow(oe.mul(se).mod(G)).fromRed()).mod(j).mod(G).cmp(oe)}(L,I,re)}if("rsa"!==j&&"ecdsa/rsa"!==j)throw new Error("wrong public key type");I=p.concat([G,I]);for(var te=re.modulus.byteLength(),J=[1],Y=0;I.length+J.length+2<te;)J.push(255),Y+=1;J.push(0);for(var oe=-1;++oe<I.length;)J.push(I[oe]);J=p.from(J);var ae=E.mont(re.modulus);L=(L=new E(L).toRed(ae)).redPow(new E(re.publicExponent)),L=p.from(L.fromRed().toArray());var se=Y<8?1:0;for(te=Math.min(L.length,J.length),L.length!==J.length&&(se=1),oe=-1;++oe<te;)se|=L[oe]^J[oe];return 0===se}},23827:(Fe,z,_)=>{"use strict";var p=_(9656),E=Object.keys||function(Z){var j=[];for(var G in Z)j.push(G);return j};Fe.exports=F;var k=Object.create(_(27637));k.inherits=_(71993);var H=_(81217),x=_(14817);k.inherits(F,H);for(var R=E(x.prototype),A=0;A<R.length;A++){var O=R[A];F.prototype[O]||(F.prototype[O]=x.prototype[O])}function F(Z){if(!(this instanceof F))return new F(Z);H.call(this,Z),x.call(this,Z),Z&&!1===Z.readable&&(this.readable=!1),Z&&!1===Z.writable&&(this.writable=!1),this.allowHalfOpen=!0,Z&&!1===Z.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",L)}function L(){this.allowHalfOpen||this._writableState.ended||p.nextTick(I,this)}function I(Z){Z.end()}Object.defineProperty(F.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(F.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(Z){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=Z,this._writableState.destroyed=Z)}}),F.prototype._destroy=function(Z,j){this.push(null),this.end(),p.nextTick(j,Z)}},75519:(Fe,z,_)=>{"use strict";Fe.exports=k;var p=_(93045),E=Object.create(_(27637));function k(H){if(!(this instanceof k))return new k(H);p.call(this,H)}E.inherits=_(71993),E.inherits(k,p),k.prototype._transform=function(H,x,R){R(null,H)}},81217:(Fe,z,_)=>{"use strict";var p=_(40573),E=_(9656);Fe.exports=se;var H,k=_(20053);se.ReadableState=ae,_(44356);var R=function(be,Ne){return be.listeners(Ne).length},A=_(62078),O=_(29783).Buffer,F=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},Z=Object.create(_(27637));Z.inherits=_(71993);var j=_(92668),G=void 0;G=j&&j.debuglog?j.debuglog("stream"):function(){};var J,re=_(10793),te=_(43357);Z.inherits(se,A);var Y=["error","close","destroy","pause","resume"];function ae(be,Ne){var ye=Ne instanceof(H=H||_(23827));this.objectMode=!!(be=be||{}).objectMode,ye&&(this.objectMode=this.objectMode||!!be.readableObjectMode);var Te=be.highWaterMark,pe=be.readableHighWaterMark;this.highWaterMark=Te||0===Te?Te:ye&&(pe||0===pe)?pe:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new re,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=be.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,be.encoding&&(J||(J=_(72318).I),this.decoder=new J(be.encoding),this.encoding=be.encoding)}function se(be){if(H=H||_(23827),!(this instanceof se))return new se(be);this._readableState=new ae(be,this),this.readable=!0,be&&("function"==typeof be.read&&(this._read=be.read),"function"==typeof be.destroy&&(this._destroy=be.destroy)),A.call(this)}function de(be,Ne,ye,Te,pe){var Q,fe=be._readableState;return null===Ne?(fe.reading=!1,function u(be,Ne){if(!Ne.ended){if(Ne.decoder){var ye=Ne.decoder.end();ye&&ye.length&&(Ne.buffer.push(ye),Ne.length+=Ne.objectMode?1:ye.length)}Ne.ended=!0,y(be)}}(be,fe)):(pe||(Q=function we(be,Ne){var ye;return!function I(be){return O.isBuffer(be)||be instanceof F}(Ne)&&"string"!=typeof Ne&&void 0!==Ne&&!be.objectMode&&(ye=new TypeError("Invalid non-string/buffer chunk")),ye}(fe,Ne)),Q?be.emit("error",Q):fe.objectMode||Ne&&Ne.length>0?("string"!=typeof Ne&&!fe.objectMode&&Object.getPrototypeOf(Ne)!==O.prototype&&(Ne=function L(be){return O.from(be)}(Ne)),Te?fe.endEmitted?be.emit("error",new Error("stream.unshift() after end event")):le(be,fe,Ne,!0):fe.ended?be.emit("error",new Error("stream.push() after EOF")):(fe.reading=!1,fe.decoder&&!ye?(Ne=fe.decoder.write(Ne),fe.objectMode||0!==Ne.length?le(be,fe,Ne,!1):S(be,fe)):le(be,fe,Ne,!1))):Te||(fe.reading=!1)),function xe(be){return!be.ended&&(be.needReadable||be.length<be.highWaterMark||0===be.length)}(fe)}function le(be,Ne,ye,Te){Ne.flowing&&0===Ne.length&&!Ne.sync?(be.emit("data",ye),be.read(0)):(Ne.length+=Ne.objectMode?1:ye.length,Te?Ne.buffer.unshift(ye):Ne.buffer.push(ye),Ne.needReadable&&y(be)),S(be,Ne)}Object.defineProperty(se.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(be){this._readableState&&(this._readableState.destroyed=be)}}),se.prototype.destroy=te.destroy,se.prototype._undestroy=te.undestroy,se.prototype._destroy=function(be,Ne){this.push(null),Ne(be)},se.prototype.push=function(be,Ne){var Te,ye=this._readableState;return ye.objectMode?Te=!0:"string"==typeof be&&((Ne=Ne||ye.defaultEncoding)!==ye.encoding&&(be=O.from(be,Ne),Ne=""),Te=!0),de(this,be,Ne,!1,Te)},se.prototype.unshift=function(be){return de(this,be,null,!0,!1)},se.prototype.isPaused=function(){return!1===this._readableState.flowing},se.prototype.setEncoding=function(be){return J||(J=_(72318).I),this._readableState.decoder=new J(be),this._readableState.encoding=be,this};function a(be,Ne){return be<=0||0===Ne.length&&Ne.ended?0:Ne.objectMode?1:be!=be?Ne.flowing&&Ne.length?Ne.buffer.head.data.length:Ne.length:(be>Ne.highWaterMark&&(Ne.highWaterMark=function C(be){return be>=8388608?be=8388608:(be--,be|=be>>>1,be|=be>>>2,be|=be>>>4,be|=be>>>8,be|=be>>>16,be++),be}(be)),be<=Ne.length?be:Ne.ended?Ne.length:(Ne.needReadable=!0,0))}function y(be){var Ne=be._readableState;Ne.needReadable=!1,Ne.emittedReadable||(G("emitReadable",Ne.flowing),Ne.emittedReadable=!0,Ne.sync?E.nextTick(g,be):g(be))}function g(be){G("emit readable"),be.emit("readable"),W(be)}function S(be,Ne){Ne.readingMore||(Ne.readingMore=!0,E.nextTick(T,be,Ne))}function T(be,Ne){for(var ye=Ne.length;!Ne.reading&&!Ne.flowing&&!Ne.ended&&Ne.length<Ne.highWaterMark&&(G("maybeReadMore read 0"),be.read(0),ye!==Ne.length);)ye=Ne.length;Ne.readingMore=!1}function M(be){G("readable nexttick read 0"),be.read(0)}function v(be,Ne){Ne.reading||(G("resume read 0"),be.read(0)),Ne.resumeScheduled=!1,Ne.awaitDrain=0,be.emit("resume"),W(be),Ne.flowing&&!Ne.reading&&be.read(0)}function W(be){var Ne=be._readableState;for(G("flow",Ne.flowing);Ne.flowing&&null!==be.read(););}function K(be,Ne){return 0===Ne.length?null:(Ne.objectMode?ye=Ne.buffer.shift():!be||be>=Ne.length?(ye=Ne.decoder?Ne.buffer.join(""):1===Ne.buffer.length?Ne.buffer.head.data:Ne.buffer.concat(Ne.length),Ne.buffer.clear()):ye=function ee(be,Ne,ye){var Te;return be<Ne.head.data.length?(Te=Ne.head.data.slice(0,be),Ne.head.data=Ne.head.data.slice(be)):Te=be===Ne.head.data.length?Ne.shift():ye?function ce(be,Ne){var ye=Ne.head,Te=1,pe=ye.data;for(be-=pe.length;ye=ye.next;){var fe=ye.data,Q=be>fe.length?fe.length:be;if(pe+=Q===fe.length?fe:fe.slice(0,be),0==(be-=Q)){Q===fe.length?(++Te,Ne.head=ye.next?ye.next:Ne.tail=null):(Ne.head=ye,ye.data=fe.slice(Q));break}++Te}return Ne.length-=Te,pe}(be,Ne):function _e(be,Ne){var ye=O.allocUnsafe(be),Te=Ne.head,pe=1;for(Te.data.copy(ye),be-=Te.data.length;Te=Te.next;){var fe=Te.data,Q=be>fe.length?fe.length:be;if(fe.copy(ye,ye.length-be,0,Q),0==(be-=Q)){Q===fe.length?(++pe,Ne.head=Te.next?Te.next:Ne.tail=null):(Ne.head=Te,Te.data=fe.slice(Q));break}++pe}return Ne.length-=pe,ye}(be,Ne),Te}(be,Ne.buffer,Ne.decoder),ye);var ye}function Pe(be){var Ne=be._readableState;if(Ne.length>0)throw new Error('"endReadable()" called on non-empty stream');Ne.endEmitted||(Ne.ended=!0,E.nextTick($e,Ne,be))}function $e(be,Ne){!be.endEmitted&&0===be.length&&(be.endEmitted=!0,Ne.readable=!1,Ne.emit("end"))}function Se(be,Ne){for(var ye=0,Te=be.length;ye<Te;ye++)if(be[ye]===Ne)return ye;return-1}se.prototype.read=function(be){G("read",be),be=parseInt(be,10);var Ne=this._readableState,ye=be;if(0!==be&&(Ne.emittedReadable=!1),0===be&&Ne.needReadable&&(Ne.length>=Ne.highWaterMark||Ne.ended))return G("read: emitReadable",Ne.length,Ne.ended),0===Ne.length&&Ne.ended?Pe(this):y(this),null;if(0===(be=a(be,Ne))&&Ne.ended)return 0===Ne.length&&Pe(this),null;var pe,Te=Ne.needReadable;return G("need readable",Te),(0===Ne.length||Ne.length-be<Ne.highWaterMark)&&G("length less than watermark",Te=!0),Ne.ended||Ne.reading?G("reading or ended",Te=!1):Te&&(G("do read"),Ne.reading=!0,Ne.sync=!0,0===Ne.length&&(Ne.needReadable=!0),this._read(Ne.highWaterMark),Ne.sync=!1,Ne.reading||(be=a(ye,Ne))),null===(pe=be>0?K(be,Ne):null)?(Ne.needReadable=!0,be=0):Ne.length-=be,0===Ne.length&&(Ne.ended||(Ne.needReadable=!0),ye!==be&&Ne.ended&&Pe(this)),null!==pe&&this.emit("data",pe),pe},se.prototype._read=function(be){this.emit("error",new Error("_read() is not implemented"))},se.prototype.pipe=function(be,Ne){var ye=this,Te=this._readableState;switch(Te.pipesCount){case 0:Te.pipes=be;break;case 1:Te.pipes=[Te.pipes,be];break;default:Te.pipes.push(be)}Te.pipesCount+=1,G("pipe count=%d opts=%j",Te.pipesCount,Ne);var fe=Ne&&!1===Ne.end||be===p.stdout||be===p.stderr?lt:ie;function ie(){G("onend"),be.end()}Te.endEmitted?E.nextTick(fe):ye.once("end",fe),be.on("unpipe",function Q(B,w){G("onunpipe"),B===ye&&w&&!1===w.hasUnpiped&&(w.hasUnpiped=!0,function ke(){G("cleanup"),be.removeListener("close",Ve),be.removeListener("finish",Be),be.removeListener("drain",ue),be.removeListener("error",_t),be.removeListener("unpipe",Q),ye.removeListener("end",ie),ye.removeListener("end",lt),ye.removeListener("data",Le),Ee=!0,Te.awaitDrain&&(!be._writableState||be._writableState.needDrain)&&ue()}())});var ue=function N(be){return function(){var Ne=be._readableState;G("pipeOnDrain",Ne.awaitDrain),Ne.awaitDrain&&Ne.awaitDrain--,0===Ne.awaitDrain&&R(be,"data")&&(Ne.flowing=!0,W(be))}}(ye);be.on("drain",ue);var Ee=!1,Ue=!1;function Le(B){G("ondata"),Ue=!1,!1===be.write(B)&&!Ue&&((1===Te.pipesCount&&Te.pipes===be||Te.pipesCount>1&&-1!==Se(Te.pipes,be))&&!Ee&&(G("false write response, pause",Te.awaitDrain),Te.awaitDrain++,Ue=!0),ye.pause())}function _t(B){G("onerror",B),lt(),be.removeListener("error",_t),0===R(be,"error")&&be.emit("error",B)}function Ve(){be.removeListener("finish",Be),lt()}function Be(){G("onfinish"),be.removeListener("close",Ve),lt()}function lt(){G("unpipe"),ye.unpipe(be)}return ye.on("data",Le),function oe(be,Ne,ye){if("function"==typeof be.prependListener)return be.prependListener(Ne,ye);be._events&&be._events[Ne]?k(be._events[Ne])?be._events[Ne].unshift(ye):be._events[Ne]=[ye,be._events[Ne]]:be.on(Ne,ye)}(be,"error",_t),be.once("close",Ve),be.once("finish",Be),be.emit("pipe",ye),Te.flowing||(G("pipe resume"),ye.resume()),be},se.prototype.unpipe=function(be){var Ne=this._readableState,ye={hasUnpiped:!1};if(0===Ne.pipesCount)return this;if(1===Ne.pipesCount)return be&&be!==Ne.pipes||(be||(be=Ne.pipes),Ne.pipes=null,Ne.pipesCount=0,Ne.flowing=!1,be&&be.emit("unpipe",this,ye)),this;if(!be){var Te=Ne.pipes,pe=Ne.pipesCount;Ne.pipes=null,Ne.pipesCount=0,Ne.flowing=!1;for(var fe=0;fe<pe;fe++)Te[fe].emit("unpipe",this,{hasUnpiped:!1});return this}var Q=Se(Ne.pipes,be);return-1===Q||(Ne.pipes.splice(Q,1),Ne.pipesCount-=1,1===Ne.pipesCount&&(Ne.pipes=Ne.pipes[0]),be.emit("unpipe",this,ye)),this},se.prototype.addListener=se.prototype.on=function(be,Ne){var ye=A.prototype.on.call(this,be,Ne);if("data"===be)!1!==this._readableState.flowing&&this.resume();else if("readable"===be){var Te=this._readableState;!Te.endEmitted&&!Te.readableListening&&(Te.readableListening=Te.needReadable=!0,Te.emittedReadable=!1,Te.reading?Te.length&&y(this):E.nextTick(M,this))}return ye},se.prototype.resume=function(){var be=this._readableState;return be.flowing||(G("resume"),be.flowing=!0,function s(be,Ne){Ne.resumeScheduled||(Ne.resumeScheduled=!0,E.nextTick(v,be,Ne))}(this,be)),this},se.prototype.pause=function(){return G("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(G("pause"),this._readableState.flowing=!1,this.emit("pause")),this},se.prototype.wrap=function(be){var Ne=this,ye=this._readableState,Te=!1;for(var pe in be.on("end",function(){if(G("wrapped end"),ye.decoder&&!ye.ended){var Q=ye.decoder.end();Q&&Q.length&&Ne.push(Q)}Ne.push(null)}),be.on("data",function(Q){G("wrapped data"),ye.decoder&&(Q=ye.decoder.write(Q)),ye.objectMode&&null==Q||!(ye.objectMode||Q&&Q.length)||Ne.push(Q)||(Te=!0,be.pause())}),be)void 0===this[pe]&&"function"==typeof be[pe]&&(this[pe]=function(Q){return function(){return be[Q].apply(be,arguments)}}(pe));for(var fe=0;fe<Y.length;fe++)be.on(Y[fe],this.emit.bind(this,Y[fe]));return this._read=function(Q){G("wrapped _read",Q),Te&&(Te=!1,be.resume())},this},Object.defineProperty(se.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),se._fromList=K},93045:(Fe,z,_)=>{"use strict";Fe.exports=H;var p=_(23827),E=Object.create(_(27637));function k(A,O){var F=this._transformState;F.transforming=!1;var L=F.writecb;if(!L)return this.emit("error",new Error("write callback called multiple times"));F.writechunk=null,F.writecb=null,null!=O&&this.push(O),L(A);var I=this._readableState;I.reading=!1,(I.needReadable||I.length<I.highWaterMark)&&this._read(I.highWaterMark)}function H(A){if(!(this instanceof H))return new H(A);p.call(this,A),this._transformState={afterTransform:k.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,A&&("function"==typeof A.transform&&(this._transform=A.transform),"function"==typeof A.flush&&(this._flush=A.flush)),this.on("prefinish",x)}function x(){var A=this;"function"==typeof this._flush?this._flush(function(O,F){R(A,O,F)}):R(this,null,null)}function R(A,O,F){if(O)return A.emit("error",O);if(null!=F&&A.push(F),A._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(A._transformState.transforming)throw new Error("Calling transform done when still transforming");return A.push(null)}E.inherits=_(71993),E.inherits(H,p),H.prototype.push=function(A,O){return this._transformState.needTransform=!1,p.prototype.push.call(this,A,O)},H.prototype._transform=function(A,O,F){throw new Error("_transform() is not implemented")},H.prototype._write=function(A,O,F){var L=this._transformState;if(L.writecb=F,L.writechunk=A,L.writeencoding=O,!L.transforming){var I=this._readableState;(L.needTransform||I.needReadable||I.length<I.highWaterMark)&&this._read(I.highWaterMark)}},H.prototype._read=function(A){var O=this._transformState;null!==O.writechunk&&O.writecb&&!O.transforming?(O.transforming=!0,this._transform(O.writechunk,O.writeencoding,O.afterTransform)):O.needTransform=!0},H.prototype._destroy=function(A,O){var F=this;p.prototype._destroy.call(this,A,function(L){O(L),F.emit("close")})}},14817:(Fe,z,_)=>{"use strict";var p=_(40573),E=_(9656);function H(s){var v=this;this.next=null,this.entry=null,this.finish=function(){!function M(s,v,W){var K=s.entry;for(s.entry=null;K;){var ee=K.callback;v.pendingcb--,ee(W),K=K.next}v.corkedRequestsFree.next=s}(v,s)}}Fe.exports=Y;var R,x=!p.browser&&["v0.10","v0.9."].indexOf(p.version.slice(0,5))>-1?setImmediate:E.nextTick;Y.WritableState=te;var A=Object.create(_(27637));A.inherits=_(71993);var J,O={deprecate:_(3398)},F=_(62078),L=_(29783).Buffer,I=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},G=_(43357);function re(){}function te(s,v){R=R||_(23827);var W=v instanceof R;this.objectMode=!!(s=s||{}).objectMode,W&&(this.objectMode=this.objectMode||!!s.writableObjectMode);var K=s.highWaterMark,ee=s.writableHighWaterMark;this.highWaterMark=K||0===K?K:W&&(ee||0===ee)?ee:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===s.decodeStrings),this.defaultEncoding=s.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Pe){!function Ce(s,v){var W=s._writableState,K=W.sync,ee=W.writecb;if(function xe(s){s.writing=!1,s.writecb=null,s.length-=s.writelen,s.writelen=0}(W),v)!function we(s,v,W,K,ee){--v.pendingcb,W?(E.nextTick(ee,K),E.nextTick(T,s,v),s._writableState.errorEmitted=!0,s.emit("error",K)):(ee(K),s._writableState.errorEmitted=!0,s.emit("error",K),T(s,v))}(s,W,K,v,ee);else{var ce=y(W);!ce&&!W.corked&&!W.bufferProcessing&&W.bufferedRequest&&u(s,W),K?x(C,s,W,ce,ee):C(s,W,ce,ee)}}(v,Pe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new H(this)}function Y(s){if(R=R||_(23827),!(J.call(Y,this)||this instanceof R))return new Y(s);this._writableState=new te(s,this),this.writable=!0,s&&("function"==typeof s.write&&(this._write=s.write),"function"==typeof s.writev&&(this._writev=s.writev),"function"==typeof s.destroy&&(this._destroy=s.destroy),"function"==typeof s.final&&(this._final=s.final)),F.call(this)}function le(s,v,W,K,ee,ce,_e){v.writelen=K,v.writecb=_e,v.writing=!0,v.sync=!0,W?s._writev(ee,v.onwrite):s._write(ee,ce,v.onwrite),v.sync=!1}function C(s,v,W,K){W||function a(s,v){0===v.length&&v.needDrain&&(v.needDrain=!1,s.emit("drain"))}(s,v),v.pendingcb--,K(),T(s,v)}function u(s,v){v.bufferProcessing=!0;var W=v.bufferedRequest;if(s._writev&&W&&W.next){var ee=new Array(v.bufferedRequestCount),ce=v.corkedRequestsFree;ce.entry=W;for(var _e=0,Pe=!0;W;)ee[_e]=W,W.isBuf||(Pe=!1),W=W.next,_e+=1;ee.allBuffers=Pe,le(s,v,!0,v.length,ee,"",ce.finish),v.pendingcb++,v.lastBufferedRequest=null,ce.next?(v.corkedRequestsFree=ce.next,ce.next=null):v.corkedRequestsFree=new H(v),v.bufferedRequestCount=0}else{for(;W;){var $e=W.chunk;if(le(s,v,!1,v.objectMode?1:$e.length,$e,W.encoding,W.callback),W=W.next,v.bufferedRequestCount--,v.writing)break}null===W&&(v.lastBufferedRequest=null)}v.bufferedRequest=W,v.bufferProcessing=!1}function y(s){return s.ending&&0===s.length&&null===s.bufferedRequest&&!s.finished&&!s.writing}function g(s,v){s._final(function(W){v.pendingcb--,W&&s.emit("error",W),v.prefinished=!0,s.emit("prefinish"),T(s,v)})}function T(s,v){var W=y(v);return W&&(function S(s,v){!v.prefinished&&!v.finalCalled&&("function"==typeof s._final?(v.pendingcb++,v.finalCalled=!0,E.nextTick(g,s,v)):(v.prefinished=!0,s.emit("prefinish")))}(s,v),0===v.pendingcb&&(v.finished=!0,s.emit("finish"))),W}A.inherits(Y,F),te.prototype.getBuffer=function(){for(var v=this.bufferedRequest,W=[];v;)W.push(v),v=v.next;return W},function(){try{Object.defineProperty(te.prototype,"buffer",{get:O.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(J=Function.prototype[Symbol.hasInstance],Object.defineProperty(Y,Symbol.hasInstance,{value:function(s){return!!J.call(this,s)||this===Y&&s&&s._writableState instanceof te}})):J=function(s){return s instanceof this},Y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Y.prototype.write=function(s,v,W){var K=this._writableState,ee=!1,ce=!K.objectMode&&function j(s){return L.isBuffer(s)||s instanceof I}(s);return ce&&!L.isBuffer(s)&&(s=function Z(s){return L.from(s)}(s)),"function"==typeof v&&(W=v,v=null),ce?v="buffer":v||(v=K.defaultEncoding),"function"!=typeof W&&(W=re),K.ended?function oe(s,v){var W=new Error("write after end");s.emit("error",W),E.nextTick(v,W)}(this,W):(ce||function ae(s,v,W,K){var ee=!0,ce=!1;return null===W?ce=new TypeError("May not write null values to stream"):"string"!=typeof W&&void 0!==W&&!v.objectMode&&(ce=new TypeError("Invalid non-string/buffer chunk")),ce&&(s.emit("error",ce),E.nextTick(K,ce),ee=!1),ee}(this,K,s,W))&&(K.pendingcb++,ee=function de(s,v,W,K,ee,ce){if(!W){var _e=function se(s,v,W){return!s.objectMode&&!1!==s.decodeStrings&&"string"==typeof v&&(v=L.from(v,W)),v}(v,K,ee);K!==_e&&(W=!0,ee="buffer",K=_e)}var Pe=v.objectMode?1:K.length;v.length+=Pe;var $e=v.length<v.highWaterMark;if($e||(v.needDrain=!0),v.writing||v.corked){var Se=v.lastBufferedRequest;v.lastBufferedRequest={chunk:K,encoding:ee,isBuf:W,callback:ce,next:null},Se?Se.next=v.lastBufferedRequest:v.bufferedRequest=v.lastBufferedRequest,v.bufferedRequestCount+=1}else le(s,v,!1,Pe,K,ee,ce);return $e}(this,K,ce,s,v,W)),ee},Y.prototype.cork=function(){this._writableState.corked++},Y.prototype.uncork=function(){var s=this._writableState;s.corked&&(s.corked--,!s.writing&&!s.corked&&!s.bufferProcessing&&s.bufferedRequest&&u(this,s))},Y.prototype.setDefaultEncoding=function(v){if("string"==typeof v&&(v=v.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((v+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+v);return this._writableState.defaultEncoding=v,this},Object.defineProperty(Y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Y.prototype._write=function(s,v,W){W(new Error("_write() is not implemented"))},Y.prototype._writev=null,Y.prototype.end=function(s,v,W){var K=this._writableState;"function"==typeof s?(W=s,s=null,v=null):"function"==typeof v&&(W=v,v=null),null!=s&&this.write(s,v),K.corked&&(K.corked=1,this.uncork()),K.ending||function N(s,v,W){v.ending=!0,T(s,v),W&&(v.finished?E.nextTick(W):s.once("finish",W)),v.ended=!0,s.writable=!1}(this,K,W)},Object.defineProperty(Y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(s){this._writableState&&(this._writableState.destroyed=s)}}),Y.prototype.destroy=G.destroy,Y.prototype._undestroy=G.undestroy,Y.prototype._destroy=function(s,v){this.end(),v(s)}},10793:(Fe,z,_)=>{"use strict";var E=_(29783).Buffer,k=_(21638);function H(x,R,A){x.copy(R,A)}Fe.exports=function(){function x(){(function p(x,R){if(!(x instanceof R))throw new TypeError("Cannot call a class as a function")})(this,x),this.head=null,this.tail=null,this.length=0}return x.prototype.push=function(A){var O={data:A,next:null};this.length>0?this.tail.next=O:this.head=O,this.tail=O,++this.length},x.prototype.unshift=function(A){var O={data:A,next:this.head};0===this.length&&(this.tail=O),this.head=O,++this.length},x.prototype.shift=function(){if(0!==this.length){var A=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,A}},x.prototype.clear=function(){this.head=this.tail=null,this.length=0},x.prototype.join=function(A){if(0===this.length)return"";for(var O=this.head,F=""+O.data;O=O.next;)F+=A+O.data;return F},x.prototype.concat=function(A){if(0===this.length)return E.alloc(0);for(var O=E.allocUnsafe(A>>>0),F=this.head,L=0;F;)H(F.data,O,L),L+=F.data.length,F=F.next;return O},x}(),k&&k.inspect&&k.inspect.custom&&(Fe.exports.prototype[k.inspect.custom]=function(){var x=k.inspect({length:this.length});return this.constructor.name+" "+x})},43357:(Fe,z,_)=>{"use strict";var p=_(9656);function H(x,R){x.emit("error",R)}Fe.exports={destroy:function E(x,R){var A=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(R?R(x):x&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,p.nextTick(H,this,x)):p.nextTick(H,this,x)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(x||null,function(L){!R&&L?A._writableState?A._writableState.errorEmitted||(A._writableState.errorEmitted=!0,p.nextTick(H,A,L)):p.nextTick(H,A,L):R&&R(L)}),this)},undestroy:function k(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},62078:(Fe,z,_)=>{Fe.exports=_(44356).EventEmitter},29783:(Fe,z,_)=>{var p=_(83838),E=p.Buffer;function k(x,R){for(var A in x)R[A]=x[A]}function H(x,R,A){return E(x,R,A)}E.from&&E.alloc&&E.allocUnsafe&&E.allocUnsafeSlow?Fe.exports=p:(k(p,z),z.Buffer=H),k(E,H),H.from=function(x,R,A){if("number"==typeof x)throw new TypeError("Argument must not be a number");return E(x,R,A)},H.alloc=function(x,R,A){if("number"!=typeof x)throw new TypeError("Argument must be a number");var O=E(x);return void 0!==R?"string"==typeof A?O.fill(R,A):O.fill(R):O.fill(0),O},H.allocUnsafe=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return E(x)},H.allocUnsafeSlow=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return p.SlowBuffer(x)}},64670:(Fe,z,_)=>{(z=Fe.exports=_(81217)).Stream=z,z.Readable=z,z.Writable=_(14817),z.Duplex=_(23827),z.Transform=_(93045),z.PassThrough=_(75519)},72318:(Fe,z,_)=>{"use strict";var p=_(37656).Buffer,E=p.isEncoding||function(Y){switch((Y=""+Y)&&Y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function x(Y){var oe;switch(this.encoding=function H(Y){var oe=function k(Y){if(!Y)return"utf8";for(var oe;;)switch(Y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Y;default:if(oe)return;Y=(""+Y).toLowerCase(),oe=!0}}(Y);if("string"!=typeof oe&&(p.isEncoding===E||!E(Y)))throw new Error("Unknown encoding: "+Y);return oe||Y}(Y),this.encoding){case"utf16le":this.text=Z,this.end=j,oe=4;break;case"utf8":this.fillLast=F,oe=4;break;case"base64":this.text=G,this.end=re,oe=3;break;default:return this.write=te,void(this.end=J)}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(oe)}function R(Y){return Y<=127?0:Y>>5==6?2:Y>>4==14?3:Y>>3==30?4:Y>>6==2?-1:-2}function F(Y){var oe=this.lastTotal-this.lastNeed,ae=function O(Y,oe,ae){if(128!=(192&oe[0]))return Y.lastNeed=0,"\ufffd";if(Y.lastNeed>1&&oe.length>1){if(128!=(192&oe[1]))return Y.lastNeed=1,"\ufffd";if(Y.lastNeed>2&&oe.length>2&&128!=(192&oe[2]))return Y.lastNeed=2,"\ufffd"}}(this,Y);return void 0!==ae?ae:this.lastNeed<=Y.length?(Y.copy(this.lastChar,oe,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(Y.copy(this.lastChar,oe,0,Y.length),void(this.lastNeed-=Y.length))}function Z(Y,oe){if((Y.length-oe)%2==0){var ae=Y.toString("utf16le",oe);if(ae){var se=ae.charCodeAt(ae.length-1);if(se>=55296&&se<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Y[Y.length-2],this.lastChar[1]=Y[Y.length-1],ae.slice(0,-1)}return ae}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Y[Y.length-1],Y.toString("utf16le",oe,Y.length-1)}function j(Y){var oe=Y&&Y.length?this.write(Y):"";return this.lastNeed?oe+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):oe}function G(Y,oe){var ae=(Y.length-oe)%3;return 0===ae?Y.toString("base64",oe):(this.lastNeed=3-ae,this.lastTotal=3,1===ae?this.lastChar[0]=Y[Y.length-1]:(this.lastChar[0]=Y[Y.length-2],this.lastChar[1]=Y[Y.length-1]),Y.toString("base64",oe,Y.length-ae))}function re(Y){var oe=Y&&Y.length?this.write(Y):"";return this.lastNeed?oe+this.lastChar.toString("base64",0,3-this.lastNeed):oe}function te(Y){return Y.toString(this.encoding)}function J(Y){return Y&&Y.length?this.write(Y):""}z.I=x,x.prototype.write=function(Y){if(0===Y.length)return"";var oe,ae;if(this.lastNeed){if(void 0===(oe=this.fillLast(Y)))return"";ae=this.lastNeed,this.lastNeed=0}else ae=0;return ae<Y.length?oe?oe+this.text(Y,ae):this.text(Y,ae):oe||""},x.prototype.end=function I(Y){var oe=Y&&Y.length?this.write(Y):"";return this.lastNeed?oe+"\ufffd":oe},x.prototype.text=function L(Y,oe){var ae=function A(Y,oe,ae){var se=oe.length-1;if(se<ae)return 0;var de=R(oe[se]);return de>=0?(de>0&&(Y.lastNeed=de-1),de):--se<ae||-2===de?0:(de=R(oe[se]))>=0?(de>0&&(Y.lastNeed=de-2),de):--se<ae||-2===de?0:(de=R(oe[se]))>=0?(de>0&&(2===de?de=0:Y.lastNeed=de-3),de):0}(this,Y,oe);if(!this.lastNeed)return Y.toString("utf8",oe);this.lastTotal=ae;var se=Y.length-(ae-this.lastNeed);return Y.copy(this.lastChar,0,se),Y.toString("utf8",oe,se)},x.prototype.fillLast=function(Y){if(this.lastNeed<=Y.length)return Y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Y.length),this.lastNeed-=Y.length}},37656:(Fe,z,_)=>{var p=_(83838),E=p.Buffer;function k(x,R){for(var A in x)R[A]=x[A]}function H(x,R,A){return E(x,R,A)}E.from&&E.alloc&&E.allocUnsafe&&E.allocUnsafeSlow?Fe.exports=p:(k(p,z),z.Buffer=H),k(E,H),H.from=function(x,R,A){if("number"==typeof x)throw new TypeError("Argument must not be a number");return E(x,R,A)},H.alloc=function(x,R,A){if("number"!=typeof x)throw new TypeError("Argument must be a number");var O=E(x);return void 0!==R?"string"==typeof A?O.fill(R,A):O.fill(R):O.fill(0),O},H.allocUnsafe=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return E(x)},H.allocUnsafeSlow=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return p.SlowBuffer(x)}},13546:Fe=>{Fe.exports=function(_,p){for(var E=Math.min(_.length,p.length),k=new Buffer(E),H=0;H<E;++H)k[H]=_[H]^p[H];return k}},83838:(Fe,z,_)=>{"use strict";var p=_(13981),E=_(22020),k="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=A,z.SlowBuffer=function Y(Q){return+Q!=Q&&(Q=0),A.alloc(+Q)},z.INSPECT_MAX_BYTES=50;var H=2147483647;function R(Q){if(Q>H)throw new RangeError('The value "'+Q+'" is invalid for option "size"');var ie=new Uint8Array(Q);return Object.setPrototypeOf(ie,A.prototype),ie}function A(Q,ie,ue){if("number"==typeof Q){if("string"==typeof ie)throw new TypeError('The "string" argument must be of type string. Received type number');return I(Q)}return O(Q,ie,ue)}function O(Q,ie,ue){if("string"==typeof Q)return function Z(Q,ie){if(("string"!=typeof ie||""===ie)&&(ie="utf8"),!A.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie);var ue=0|oe(Q,ie),Ee=R(ue),ke=Ee.write(Q,ie);return ke!==ue&&(Ee=Ee.slice(0,ke)),Ee}(Q,ie);if(ArrayBuffer.isView(Q))return function G(Q){if(Te(Q,Uint8Array)){var ie=new Uint8Array(Q);return re(ie.buffer,ie.byteOffset,ie.byteLength)}return j(Q)}(Q);if(null==Q)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q);if(Te(Q,ArrayBuffer)||Q&&Te(Q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Te(Q,SharedArrayBuffer)||Q&&Te(Q.buffer,SharedArrayBuffer)))return re(Q,ie,ue);if("number"==typeof Q)throw new TypeError('The "value" argument must not be of type number. Received type number');var Ee=Q.valueOf&&Q.valueOf();if(null!=Ee&&Ee!==Q)return A.from(Ee,ie,ue);var ke=function te(Q){if(A.isBuffer(Q)){var ie=0|J(Q.length),ue=R(ie);return 0===ue.length||Q.copy(ue,0,0,ie),ue}return void 0!==Q.length?"number"!=typeof Q.length||pe(Q.length)?R(0):j(Q):"Buffer"===Q.type&&Array.isArray(Q.data)?j(Q.data):void 0}(Q);if(ke)return ke;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof Q[Symbol.toPrimitive])return A.from(Q[Symbol.toPrimitive]("string"),ie,ue);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q)}function F(Q){if("number"!=typeof Q)throw new TypeError('"size" argument must be of type number');if(Q<0)throw new RangeError('The value "'+Q+'" is invalid for option "size"')}function I(Q){return F(Q),R(Q<0?0:0|J(Q))}function j(Q){for(var ie=Q.length<0?0:0|J(Q.length),ue=R(ie),Ee=0;Ee<ie;Ee+=1)ue[Ee]=255&Q[Ee];return ue}function re(Q,ie,ue){if(ie<0||Q.byteLength<ie)throw new RangeError('"offset" is outside of buffer bounds');if(Q.byteLength<ie+(ue||0))throw new RangeError('"length" is outside of buffer bounds');var Ee;return Ee=void 0===ie&&void 0===ue?new Uint8Array(Q):void 0===ue?new Uint8Array(Q,ie):new Uint8Array(Q,ie,ue),Object.setPrototypeOf(Ee,A.prototype),Ee}function J(Q){if(Q>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|Q}function oe(Q,ie){if(A.isBuffer(Q))return Q.length;if(ArrayBuffer.isView(Q)||Te(Q,ArrayBuffer))return Q.byteLength;if("string"!=typeof Q)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Q);var ue=Q.length,Ee=arguments.length>2&&!0===arguments[2];if(!Ee&&0===ue)return 0;for(var ke=!1;;)switch(ie){case"ascii":case"latin1":case"binary":return ue;case"utf8":case"utf-8":return $e(Q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ue;case"hex":return ue>>>1;case"base64":return Ne(Q).length;default:if(ke)return Ee?-1:$e(Q).length;ie=(""+ie).toLowerCase(),ke=!0}}function ae(Q,ie,ue){var Ee=!1;if((void 0===ie||ie<0)&&(ie=0),ie>this.length||((void 0===ue||ue>this.length)&&(ue=this.length),ue<=0)||(ue>>>=0)<=(ie>>>=0))return"";for(Q||(Q="utf8");;)switch(Q){case"hex":return M(this,ie,ue);case"utf8":case"utf-8":return y(this,ie,ue);case"ascii":return T(this,ie,ue);case"latin1":case"binary":return N(this,ie,ue);case"base64":return u(this,ie,ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,ie,ue);default:if(Ee)throw new TypeError("Unknown encoding: "+Q);Q=(Q+"").toLowerCase(),Ee=!0}}function se(Q,ie,ue){var Ee=Q[ie];Q[ie]=Q[ue],Q[ue]=Ee}function de(Q,ie,ue,Ee,ke){if(0===Q.length)return-1;if("string"==typeof ue?(Ee=ue,ue=0):ue>2147483647?ue=2147483647:ue<-2147483648&&(ue=-2147483648),pe(ue=+ue)&&(ue=ke?0:Q.length-1),ue<0&&(ue=Q.length+ue),ue>=Q.length){if(ke)return-1;ue=Q.length-1}else if(ue<0){if(!ke)return-1;ue=0}if("string"==typeof ie&&(ie=A.from(ie,Ee)),A.isBuffer(ie))return 0===ie.length?-1:le(Q,ie,ue,Ee,ke);if("number"==typeof ie)return ie&=255,"function"==typeof Uint8Array.prototype.indexOf?ke?Uint8Array.prototype.indexOf.call(Q,ie,ue):Uint8Array.prototype.lastIndexOf.call(Q,ie,ue):le(Q,[ie],ue,Ee,ke);throw new TypeError("val must be string, number or Buffer")}function le(Q,ie,ue,Ee,ke){var Be,Ue=1,Le=Q.length,_t=ie.length;if(void 0!==Ee&&("ucs2"===(Ee=String(Ee).toLowerCase())||"ucs-2"===Ee||"utf16le"===Ee||"utf-16le"===Ee)){if(Q.length<2||ie.length<2)return-1;Ue=2,Le/=2,_t/=2,ue/=2}function Ve(m,U){return 1===Ue?m[U]:m.readUInt16BE(U*Ue)}if(ke){var lt=-1;for(Be=ue;Be<Le;Be++)if(Ve(Q,Be)===Ve(ie,-1===lt?0:Be-lt)){if(-1===lt&&(lt=Be),Be-lt+1===_t)return lt*Ue}else-1!==lt&&(Be-=Be-lt),lt=-1}else for(ue+_t>Le&&(ue=Le-_t),Be=ue;Be>=0;Be--){for(var B=!0,w=0;w<_t;w++)if(Ve(Q,Be+w)!==Ve(ie,w)){B=!1;break}if(B)return Be}return-1}function we(Q,ie,ue,Ee){ue=Number(ue)||0;var ke=Q.length-ue;Ee?(Ee=Number(Ee))>ke&&(Ee=ke):Ee=ke;var Ue=ie.length;Ee>Ue/2&&(Ee=Ue/2);for(var Le=0;Le<Ee;++Le){var _t=parseInt(ie.substr(2*Le,2),16);if(pe(_t))return Le;Q[ue+Le]=_t}return Le}function xe(Q,ie,ue,Ee){return ye($e(ie,Q.length-ue),Q,ue,Ee)}function Ce(Q,ie,ue,Ee){return ye(function Se(Q){for(var ie=[],ue=0;ue<Q.length;++ue)ie.push(255&Q.charCodeAt(ue));return ie}(ie),Q,ue,Ee)}function C(Q,ie,ue,Ee){return ye(Ne(ie),Q,ue,Ee)}function a(Q,ie,ue,Ee){return ye(function be(Q,ie){for(var ue,Ee,Ue=[],Le=0;Le<Q.length&&!((ie-=2)<0);++Le)Ee=(ue=Q.charCodeAt(Le))>>8,Ue.push(ue%256),Ue.push(Ee);return Ue}(ie,Q.length-ue),Q,ue,Ee)}function u(Q,ie,ue){return p.fromByteArray(0===ie&&ue===Q.length?Q:Q.slice(ie,ue))}function y(Q,ie,ue){ue=Math.min(Q.length,ue);for(var Ee=[],ke=ie;ke<ue;){var Ve,Be,lt,B,Ue=Q[ke],Le=null,_t=Ue>239?4:Ue>223?3:Ue>191?2:1;if(ke+_t<=ue)switch(_t){case 1:Ue<128&&(Le=Ue);break;case 2:128==(192&(Ve=Q[ke+1]))&&(B=(31&Ue)<<6|63&Ve)>127&&(Le=B);break;case 3:Be=Q[ke+2],128==(192&(Ve=Q[ke+1]))&&128==(192&Be)&&(B=(15&Ue)<<12|(63&Ve)<<6|63&Be)>2047&&(B<55296||B>57343)&&(Le=B);break;case 4:Be=Q[ke+2],lt=Q[ke+3],128==(192&(Ve=Q[ke+1]))&&128==(192&Be)&&128==(192&lt)&&(B=(15&Ue)<<18|(63&Ve)<<12|(63&Be)<<6|63&lt)>65535&&B<1114112&&(Le=B)}null===Le?(Le=65533,_t=1):Le>65535&&(Ee.push((Le-=65536)>>>10&1023|55296),Le=56320|1023&Le),Ee.push(Le),ke+=_t}return function S(Q){var ie=Q.length;if(ie<=g)return String.fromCharCode.apply(String,Q);for(var ue="",Ee=0;Ee<ie;)ue+=String.fromCharCode.apply(String,Q.slice(Ee,Ee+=g));return ue}(Ee)}z.kMaxLength=H,!(A.TYPED_ARRAY_SUPPORT=function x(){try{var Q=new Uint8Array(1),ie={foo:function(){return 42}};return Object.setPrototypeOf(ie,Uint8Array.prototype),Object.setPrototypeOf(Q,ie),42===Q.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(Q,ie,ue){return O(Q,ie,ue)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(Q,ie,ue){return function L(Q,ie,ue){return F(Q),Q<=0?R(Q):void 0!==ie?"string"==typeof ue?R(Q).fill(ie,ue):R(Q).fill(ie):R(Q)}(Q,ie,ue)},A.allocUnsafe=function(Q){return I(Q)},A.allocUnsafeSlow=function(Q){return I(Q)},A.isBuffer=function(ie){return null!=ie&&!0===ie._isBuffer&&ie!==A.prototype},A.compare=function(ie,ue){if(Te(ie,Uint8Array)&&(ie=A.from(ie,ie.offset,ie.byteLength)),Te(ue,Uint8Array)&&(ue=A.from(ue,ue.offset,ue.byteLength)),!A.isBuffer(ie)||!A.isBuffer(ue))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ie===ue)return 0;for(var Ee=ie.length,ke=ue.length,Ue=0,Le=Math.min(Ee,ke);Ue<Le;++Ue)if(ie[Ue]!==ue[Ue]){Ee=ie[Ue],ke=ue[Ue];break}return Ee<ke?-1:ke<Ee?1:0},A.isEncoding=function(ie){switch(String(ie).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(ie,ue){if(!Array.isArray(ie))throw new TypeError('"list" argument must be an Array of Buffers');if(0===ie.length)return A.alloc(0);var Ee;if(void 0===ue)for(ue=0,Ee=0;Ee<ie.length;++Ee)ue+=ie[Ee].length;var ke=A.allocUnsafe(ue),Ue=0;for(Ee=0;Ee<ie.length;++Ee){var Le=ie[Ee];if(Te(Le,Uint8Array))Ue+Le.length>ke.length?A.from(Le).copy(ke,Ue):Uint8Array.prototype.set.call(ke,Le,Ue);else{if(!A.isBuffer(Le))throw new TypeError('"list" argument must be an Array of Buffers');Le.copy(ke,Ue)}Ue+=Le.length}return ke},A.byteLength=oe,A.prototype._isBuffer=!0,A.prototype.swap16=function(){var ie=this.length;if(ie%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ue=0;ue<ie;ue+=2)se(this,ue,ue+1);return this},A.prototype.swap32=function(){var ie=this.length;if(ie%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ue=0;ue<ie;ue+=4)se(this,ue,ue+3),se(this,ue+1,ue+2);return this},A.prototype.swap64=function(){var ie=this.length;if(ie%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ue=0;ue<ie;ue+=8)se(this,ue,ue+7),se(this,ue+1,ue+6),se(this,ue+2,ue+5),se(this,ue+3,ue+4);return this},A.prototype.toLocaleString=A.prototype.toString=function(){var ie=this.length;return 0===ie?"":0===arguments.length?y(this,0,ie):ae.apply(this,arguments)},A.prototype.equals=function(ie){if(!A.isBuffer(ie))throw new TypeError("Argument must be a Buffer");return this===ie||0===A.compare(this,ie)},A.prototype.inspect=function(){var ie="",ue=z.INSPECT_MAX_BYTES;return ie=this.toString("hex",0,ue).replace(/(.{2})/g,"$1 ").trim(),this.length>ue&&(ie+=" ... "),"<Buffer "+ie+">"},k&&(A.prototype[k]=A.prototype.inspect),A.prototype.compare=function(ie,ue,Ee,ke,Ue){if(Te(ie,Uint8Array)&&(ie=A.from(ie,ie.offset,ie.byteLength)),!A.isBuffer(ie))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ie);if(void 0===ue&&(ue=0),void 0===Ee&&(Ee=ie?ie.length:0),void 0===ke&&(ke=0),void 0===Ue&&(Ue=this.length),ue<0||Ee>ie.length||ke<0||Ue>this.length)throw new RangeError("out of range index");if(ke>=Ue&&ue>=Ee)return 0;if(ke>=Ue)return-1;if(ue>=Ee)return 1;if(this===ie)return 0;for(var Le=(Ue>>>=0)-(ke>>>=0),_t=(Ee>>>=0)-(ue>>>=0),Ve=Math.min(Le,_t),Be=this.slice(ke,Ue),lt=ie.slice(ue,Ee),B=0;B<Ve;++B)if(Be[B]!==lt[B]){Le=Be[B],_t=lt[B];break}return Le<_t?-1:_t<Le?1:0},A.prototype.includes=function(ie,ue,Ee){return-1!==this.indexOf(ie,ue,Ee)},A.prototype.indexOf=function(ie,ue,Ee){return de(this,ie,ue,Ee,!0)},A.prototype.lastIndexOf=function(ie,ue,Ee){return de(this,ie,ue,Ee,!1)},A.prototype.write=function(ie,ue,Ee,ke){if(void 0===ue)ke="utf8",Ee=this.length,ue=0;else if(void 0===Ee&&"string"==typeof ue)ke=ue,Ee=this.length,ue=0;else{if(!isFinite(ue))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ue>>>=0,isFinite(Ee)?(Ee>>>=0,void 0===ke&&(ke="utf8")):(ke=Ee,Ee=void 0)}var Ue=this.length-ue;if((void 0===Ee||Ee>Ue)&&(Ee=Ue),ie.length>0&&(Ee<0||ue<0)||ue>this.length)throw new RangeError("Attempt to write outside buffer bounds");ke||(ke="utf8");for(var Le=!1;;)switch(ke){case"hex":return we(this,ie,ue,Ee);case"utf8":case"utf-8":return xe(this,ie,ue,Ee);case"ascii":case"latin1":case"binary":return Ce(this,ie,ue,Ee);case"base64":return C(this,ie,ue,Ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,ie,ue,Ee);default:if(Le)throw new TypeError("Unknown encoding: "+ke);ke=(""+ke).toLowerCase(),Le=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var g=4096;function T(Q,ie,ue){var Ee="";ue=Math.min(Q.length,ue);for(var ke=ie;ke<ue;++ke)Ee+=String.fromCharCode(127&Q[ke]);return Ee}function N(Q,ie,ue){var Ee="";ue=Math.min(Q.length,ue);for(var ke=ie;ke<ue;++ke)Ee+=String.fromCharCode(Q[ke]);return Ee}function M(Q,ie,ue){var Ee=Q.length;(!ie||ie<0)&&(ie=0),(!ue||ue<0||ue>Ee)&&(ue=Ee);for(var ke="",Ue=ie;Ue<ue;++Ue)ke+=fe[Q[Ue]];return ke}function s(Q,ie,ue){for(var Ee=Q.slice(ie,ue),ke="",Ue=0;Ue<Ee.length-1;Ue+=2)ke+=String.fromCharCode(Ee[Ue]+256*Ee[Ue+1]);return ke}function v(Q,ie,ue){if(Q%1!=0||Q<0)throw new RangeError("offset is not uint");if(Q+ie>ue)throw new RangeError("Trying to access beyond buffer length")}function W(Q,ie,ue,Ee,ke,Ue){if(!A.isBuffer(Q))throw new TypeError('"buffer" argument must be a Buffer instance');if(ie>ke||ie<Ue)throw new RangeError('"value" argument is out of bounds');if(ue+Ee>Q.length)throw new RangeError("Index out of range")}function K(Q,ie,ue,Ee,ke,Ue){if(ue+Ee>Q.length)throw new RangeError("Index out of range");if(ue<0)throw new RangeError("Index out of range")}function ee(Q,ie,ue,Ee,ke){return ie=+ie,ue>>>=0,ke||K(Q,0,ue,4),E.write(Q,ie,ue,Ee,23,4),ue+4}function ce(Q,ie,ue,Ee,ke){return ie=+ie,ue>>>=0,ke||K(Q,0,ue,8),E.write(Q,ie,ue,Ee,52,8),ue+8}A.prototype.slice=function(ie,ue){var Ee=this.length;(ie=~~ie)<0?(ie+=Ee)<0&&(ie=0):ie>Ee&&(ie=Ee),(ue=void 0===ue?Ee:~~ue)<0?(ue+=Ee)<0&&(ue=0):ue>Ee&&(ue=Ee),ue<ie&&(ue=ie);var ke=this.subarray(ie,ue);return Object.setPrototypeOf(ke,A.prototype),ke},A.prototype.readUintLE=A.prototype.readUIntLE=function(ie,ue,Ee){ie>>>=0,ue>>>=0,Ee||v(ie,ue,this.length);for(var ke=this[ie],Ue=1,Le=0;++Le<ue&&(Ue*=256);)ke+=this[ie+Le]*Ue;return ke},A.prototype.readUintBE=A.prototype.readUIntBE=function(ie,ue,Ee){ie>>>=0,ue>>>=0,Ee||v(ie,ue,this.length);for(var ke=this[ie+--ue],Ue=1;ue>0&&(Ue*=256);)ke+=this[ie+--ue]*Ue;return ke},A.prototype.readUint8=A.prototype.readUInt8=function(ie,ue){return ie>>>=0,ue||v(ie,1,this.length),this[ie]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(ie,ue){return ie>>>=0,ue||v(ie,2,this.length),this[ie]|this[ie+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(ie,ue){return ie>>>=0,ue||v(ie,2,this.length),this[ie]<<8|this[ie+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(ie,ue){return ie>>>=0,ue||v(ie,4,this.length),(this[ie]|this[ie+1]<<8|this[ie+2]<<16)+16777216*this[ie+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(ie,ue){return ie>>>=0,ue||v(ie,4,this.length),16777216*this[ie]+(this[ie+1]<<16|this[ie+2]<<8|this[ie+3])},A.prototype.readIntLE=function(ie,ue,Ee){ie>>>=0,ue>>>=0,Ee||v(ie,ue,this.length);for(var ke=this[ie],Ue=1,Le=0;++Le<ue&&(Ue*=256);)ke+=this[ie+Le]*Ue;return ke>=(Ue*=128)&&(ke-=Math.pow(2,8*ue)),ke},A.prototype.readIntBE=function(ie,ue,Ee){ie>>>=0,ue>>>=0,Ee||v(ie,ue,this.length);for(var ke=ue,Ue=1,Le=this[ie+--ke];ke>0&&(Ue*=256);)Le+=this[ie+--ke]*Ue;return Le>=(Ue*=128)&&(Le-=Math.pow(2,8*ue)),Le},A.prototype.readInt8=function(ie,ue){return ie>>>=0,ue||v(ie,1,this.length),128&this[ie]?-1*(255-this[ie]+1):this[ie]},A.prototype.readInt16LE=function(ie,ue){ie>>>=0,ue||v(ie,2,this.length);var Ee=this[ie]|this[ie+1]<<8;return 32768&Ee?4294901760|Ee:Ee},A.prototype.readInt16BE=function(ie,ue){ie>>>=0,ue||v(ie,2,this.length);var Ee=this[ie+1]|this[ie]<<8;return 32768&Ee?4294901760|Ee:Ee},A.prototype.readInt32LE=function(ie,ue){return ie>>>=0,ue||v(ie,4,this.length),this[ie]|this[ie+1]<<8|this[ie+2]<<16|this[ie+3]<<24},A.prototype.readInt32BE=function(ie,ue){return ie>>>=0,ue||v(ie,4,this.length),this[ie]<<24|this[ie+1]<<16|this[ie+2]<<8|this[ie+3]},A.prototype.readFloatLE=function(ie,ue){return ie>>>=0,ue||v(ie,4,this.length),E.read(this,ie,!0,23,4)},A.prototype.readFloatBE=function(ie,ue){return ie>>>=0,ue||v(ie,4,this.length),E.read(this,ie,!1,23,4)},A.prototype.readDoubleLE=function(ie,ue){return ie>>>=0,ue||v(ie,8,this.length),E.read(this,ie,!0,52,8)},A.prototype.readDoubleBE=function(ie,ue){return ie>>>=0,ue||v(ie,8,this.length),E.read(this,ie,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(ie,ue,Ee,ke){ie=+ie,ue>>>=0,Ee>>>=0,ke||W(this,ie,ue,Ee,Math.pow(2,8*Ee)-1,0);var Le=1,_t=0;for(this[ue]=255&ie;++_t<Ee&&(Le*=256);)this[ue+_t]=ie/Le&255;return ue+Ee},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(ie,ue,Ee,ke){ie=+ie,ue>>>=0,Ee>>>=0,ke||W(this,ie,ue,Ee,Math.pow(2,8*Ee)-1,0);var Le=Ee-1,_t=1;for(this[ue+Le]=255&ie;--Le>=0&&(_t*=256);)this[ue+Le]=ie/_t&255;return ue+Ee},A.prototype.writeUint8=A.prototype.writeUInt8=function(ie,ue,Ee){return ie=+ie,ue>>>=0,Ee||W(this,ie,ue,1,255,0),this[ue]=255&ie,ue+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(ie,ue,Ee){return ie=+ie,ue>>>=0,Ee||W(this,ie,ue,2,65535,0),this[ue]=255&ie,this[ue+1]=ie>>>8,ue+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(ie,ue,Ee){return ie=+ie,ue>>>=0,Ee||W(this,ie,ue,2,65535,0),this[ue]=ie>>>8,this[ue+1]=255&ie,ue+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(ie,ue,Ee){return ie=+ie,ue>>>=0,Ee||W(this,ie,ue,4,4294967295,0),this[ue+3]=ie>>>24,this[ue+2]=ie>>>16,this[ue+1]=ie>>>8,this[ue]=255&ie,ue+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(ie,ue,Ee){return ie=+ie,ue>>>=0,Ee||W(this,ie,ue,4,4294967295,0),this[ue]=ie>>>24,this[ue+1]=ie>>>16,this[ue+2]=ie>>>8,this[ue+3]=255&ie,ue+4},A.prototype.writeIntLE=function(ie,ue,Ee,ke){if(ie=+ie,ue>>>=0,!ke){var Ue=Math.pow(2,8*Ee-1);W(this,ie,ue,Ee,Ue-1,-Ue)}var Le=0,_t=1,Ve=0;for(this[ue]=255&ie;++Le<Ee&&(_t*=256);)ie<0&&0===Ve&&0!==this[ue+Le-1]&&(Ve=1),this[ue+Le]=(ie/_t|0)-Ve&255;return ue+Ee},A.prototype.writeIntBE=function(ie,ue,Ee,ke){if(ie=+ie,ue>>>=0,!ke){var Ue=Math.pow(2,8*Ee-1);W(this,ie,ue,Ee,Ue-1,-Ue)}var Le=Ee-1,_t=1,Ve=0;for(this[ue+Le]=255&ie;--Le>=0&&(_t*=256);)ie<0&&0===Ve&&0!==this[ue+Le+1]&&(Ve=1),this[ue+Le]=(ie/_t|0)-Ve&255;return ue+Ee},A.prototype.writeInt8=function(ie,ue,Ee){return ie=+ie,ue>>>=0,Ee||W(this,ie,ue,1,127,-128),ie<0&&(ie=255+ie+1),this[ue]=255&ie,ue+1},A.prototype.writeInt16LE=function(ie,ue,Ee){return ie=+ie,ue>>>=0,Ee||W(this,ie,ue,2,32767,-32768),this[ue]=255&ie,this[ue+1]=ie>>>8,ue+2},A.prototype.writeInt16BE=function(ie,ue,Ee){return ie=+ie,ue>>>=0,Ee||W(this,ie,ue,2,32767,-32768),this[ue]=ie>>>8,this[ue+1]=255&ie,ue+2},A.prototype.writeInt32LE=function(ie,ue,Ee){return ie=+ie,ue>>>=0,Ee||W(this,ie,ue,4,2147483647,-2147483648),this[ue]=255&ie,this[ue+1]=ie>>>8,this[ue+2]=ie>>>16,this[ue+3]=ie>>>24,ue+4},A.prototype.writeInt32BE=function(ie,ue,Ee){return ie=+ie,ue>>>=0,Ee||W(this,ie,ue,4,2147483647,-2147483648),ie<0&&(ie=4294967295+ie+1),this[ue]=ie>>>24,this[ue+1]=ie>>>16,this[ue+2]=ie>>>8,this[ue+3]=255&ie,ue+4},A.prototype.writeFloatLE=function(ie,ue,Ee){return ee(this,ie,ue,!0,Ee)},A.prototype.writeFloatBE=function(ie,ue,Ee){return ee(this,ie,ue,!1,Ee)},A.prototype.writeDoubleLE=function(ie,ue,Ee){return ce(this,ie,ue,!0,Ee)},A.prototype.writeDoubleBE=function(ie,ue,Ee){return ce(this,ie,ue,!1,Ee)},A.prototype.copy=function(ie,ue,Ee,ke){if(!A.isBuffer(ie))throw new TypeError("argument should be a Buffer");if(Ee||(Ee=0),!ke&&0!==ke&&(ke=this.length),ue>=ie.length&&(ue=ie.length),ue||(ue=0),ke>0&&ke<Ee&&(ke=Ee),ke===Ee||0===ie.length||0===this.length)return 0;if(ue<0)throw new RangeError("targetStart out of bounds");if(Ee<0||Ee>=this.length)throw new RangeError("Index out of range");if(ke<0)throw new RangeError("sourceEnd out of bounds");ke>this.length&&(ke=this.length),ie.length-ue<ke-Ee&&(ke=ie.length-ue+Ee);var Ue=ke-Ee;return this===ie&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(ue,Ee,ke):Uint8Array.prototype.set.call(ie,this.subarray(Ee,ke),ue),Ue},A.prototype.fill=function(ie,ue,Ee,ke){if("string"==typeof ie){if("string"==typeof ue?(ke=ue,ue=0,Ee=this.length):"string"==typeof Ee&&(ke=Ee,Ee=this.length),void 0!==ke&&"string"!=typeof ke)throw new TypeError("encoding must be a string");if("string"==typeof ke&&!A.isEncoding(ke))throw new TypeError("Unknown encoding: "+ke);if(1===ie.length){var Ue=ie.charCodeAt(0);("utf8"===ke&&Ue<128||"latin1"===ke)&&(ie=Ue)}}else"number"==typeof ie?ie&=255:"boolean"==typeof ie&&(ie=Number(ie));if(ue<0||this.length<ue||this.length<Ee)throw new RangeError("Out of range index");if(Ee<=ue)return this;var Le;if(ue>>>=0,Ee=void 0===Ee?this.length:Ee>>>0,ie||(ie=0),"number"==typeof ie)for(Le=ue;Le<Ee;++Le)this[Le]=ie;else{var _t=A.isBuffer(ie)?ie:A.from(ie,ke),Ve=_t.length;if(0===Ve)throw new TypeError('The value "'+ie+'" is invalid for argument "value"');for(Le=0;Le<Ee-ue;++Le)this[Le+ue]=_t[Le%Ve]}return this};var _e=/[^+/0-9A-Za-z-_]/g;function $e(Q,ie){ie=ie||1/0;for(var ue,Ee=Q.length,ke=null,Ue=[],Le=0;Le<Ee;++Le){if((ue=Q.charCodeAt(Le))>55295&&ue<57344){if(!ke){if(ue>56319){(ie-=3)>-1&&Ue.push(239,191,189);continue}if(Le+1===Ee){(ie-=3)>-1&&Ue.push(239,191,189);continue}ke=ue;continue}if(ue<56320){(ie-=3)>-1&&Ue.push(239,191,189),ke=ue;continue}ue=65536+(ke-55296<<10|ue-56320)}else ke&&(ie-=3)>-1&&Ue.push(239,191,189);if(ke=null,ue<128){if((ie-=1)<0)break;Ue.push(ue)}else if(ue<2048){if((ie-=2)<0)break;Ue.push(ue>>6|192,63&ue|128)}else if(ue<65536){if((ie-=3)<0)break;Ue.push(ue>>12|224,ue>>6&63|128,63&ue|128)}else{if(!(ue<1114112))throw new Error("Invalid code point");if((ie-=4)<0)break;Ue.push(ue>>18|240,ue>>12&63|128,ue>>6&63|128,63&ue|128)}}return Ue}function Ne(Q){return p.toByteArray(function Pe(Q){if((Q=(Q=Q.split("=")[0]).trim().replace(_e,"")).length<2)return"";for(;Q.length%4!=0;)Q+="=";return Q}(Q))}function ye(Q,ie,ue,Ee){for(var ke=0;ke<Ee&&!(ke+ue>=ie.length||ke>=Q.length);++ke)ie[ke+ue]=Q[ke];return ke}function Te(Q,ie){return Q instanceof ie||null!=Q&&null!=Q.constructor&&null!=Q.constructor.name&&Q.constructor.name===ie.name}function pe(Q){return Q!=Q}var fe=function(){for(var Q="0123456789abcdef",ie=new Array(256),ue=0;ue<16;++ue)for(var Ee=16*ue,ke=0;ke<16;++ke)ie[Ee+ke]=Q[ue]+Q[ke];return ie}()},28846:Fe=>{"use strict";Fe.exports=function z(_){if("number"==typeof _&&isNaN(_))throw new Error("NaN is not allowed");if("number"==typeof _&&!isFinite(_))throw new Error("Infinity is not allowed");return null===_||"object"!=typeof _?JSON.stringify(_):_.toJSON instanceof Function?z(_.toJSON()):Array.isArray(_)?`[${_.reduce((k,H,x)=>`${k}${0===x?"":","}${z(void 0===H||"symbol"==typeof H?null:H)}`,"")}]`:`{${Object.keys(_).sort().reduce((E,k)=>void 0===_[k]||"symbol"==typeof _[k]?E:`${E}${0===E.length?"":","}${z(k)}:${z(_[k])}`,"")}}`}},42381:(Fe,z,_)=>{"use strict";var p=_(78341);z.fromCallback=function(E,k){if(void 0===E){var H=new Promise(function(x,R){E=function(A,O){A?R(A):x(O)}});E[void 0!==k?k:"promise"]=H}else if("function"!=typeof E)throw new TypeError("Callback must be a function");return E},z.fromPromise=function(E,k){if(void 0===k)return E;E.then(function(H){p(()=>k(null,H))}).catch(function(H){p(()=>k(H))})}},78341:Fe=>{Fe.exports="function"==typeof queueMicrotask?queueMicrotask:z=>Promise.resolve().then(z)},3247:(Fe,z,_)=>{var p=_(27054).Buffer,E=_(7045).Transform,k=_(78454).StringDecoder;function x(R){E.call(this),this.hashMode="string"==typeof R,this.hashMode?this[R]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}_(71993)(x,E),x.prototype.update=function(R,A,O){"string"==typeof R&&(R=p.from(R,A));var F=this._update(R);return this.hashMode?this:(O&&(F=this._toString(F,O)),F)},x.prototype.setAutoPadding=function(){},x.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},x.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},x.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},x.prototype._transform=function(R,A,O){var F;try{this.hashMode?this._update(R):this.push(this._update(R))}catch(L){F=L}finally{O(F)}},x.prototype._flush=function(R){var A;try{this.push(this.__final())}catch(O){A=O}R(A)},x.prototype._finalOrDigest=function(R){var A=this.__final()||p.alloc(0);return R&&(A=this._toString(A,R,!0)),A},x.prototype._toString=function(R,A,O){if(this._decoder||(this._decoder=new k(A),this._encoding=A),this._encoding!==A)throw new Error("can't switch encodings");var F=this._decoder.write(R);return O&&(F+=this._decoder.end()),F},Fe.exports=x},27637:(Fe,z,_)=>{function re(te){return Object.prototype.toString.call(te)}z.isArray=function p(te){return Array.isArray?Array.isArray(te):"[object Array]"===re(te)},z.isBoolean=function E(te){return"boolean"==typeof te},z.isNull=function k(te){return null===te},z.isNullOrUndefined=function H(te){return null==te},z.isNumber=function x(te){return"number"==typeof te},z.isString=function R(te){return"string"==typeof te},z.isSymbol=function A(te){return"symbol"==typeof te},z.isUndefined=function O(te){return void 0===te},z.isRegExp=function F(te){return"[object RegExp]"===re(te)},z.isObject=function L(te){return"object"==typeof te&&null!==te},z.isDate=function I(te){return"[object Date]"===re(te)},z.isError=function Z(te){return"[object Error]"===re(te)||te instanceof Error},z.isFunction=function j(te){return"function"==typeof te},z.isPrimitive=function G(te){return null===te||"boolean"==typeof te||"number"==typeof te||"string"==typeof te||"symbol"==typeof te||typeof te>"u"},z.isBuffer=_(83838).Buffer.isBuffer},87303:(Fe,z,_)=>{var p=_(90518),E=_(89606);Fe.exports=function(A){return new H(A)};var k={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function H(R){this.curveType=k[R],this.curveType||(this.curveType={name:R}),this.curve=new p.ec(this.curveType.name),this.keys=void 0}function x(R,A,O){Array.isArray(R)||(R=R.toArray());var F=new Buffer(R);if(O&&F.length<O){var L=new Buffer(O-F.length);L.fill(0),F=Buffer.concat([L,F])}return A?F.toString(A):F}k.p224=k.secp224r1,k.p256=k.secp256r1=k.prime256v1,k.p192=k.secp192r1=k.prime192v1,k.p384=k.secp384r1,k.p521=k.secp521r1,H.prototype.generateKeys=function(R,A){return this.keys=this.curve.genKeyPair(),this.getPublicKey(R,A)},H.prototype.computeSecret=function(R,A,O){return A=A||"utf8",Buffer.isBuffer(R)||(R=new Buffer(R,A)),x(this.curve.keyFromPublic(R).getPublic().mul(this.keys.getPrivate()).getX(),O,this.curveType.byteLength)},H.prototype.getPublicKey=function(R,A){var O=this.keys.getPublic("compressed"===A,!0);return"hybrid"===A&&(O[0]=O[O.length-1]%2?7:6),x(O,R)},H.prototype.getPrivateKey=function(R){return x(this.keys.getPrivate(),R)},H.prototype.setPublicKey=function(R,A){return A=A||"utf8",Buffer.isBuffer(R)||(R=new Buffer(R,A)),this.keys._importPublic(R),this},H.prototype.setPrivateKey=function(R,A){A=A||"utf8",Buffer.isBuffer(R)||(R=new Buffer(R,A));var O=new E(R);return O=O.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(O),this}},89606:function(Fe,z,_){!function(p,E){"use strict";function k(C,a){if(!C)throw new Error(a||"Assertion failed")}function H(C,a){C.super_=a;var u=function(){};u.prototype=a.prototype,C.prototype=new u,C.prototype.constructor=C}function x(C,a,u){if(x.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(u=a,a=10),this._init(C||0,a||10,u||"be"))}var R;"object"==typeof p?p.exports=x:E.BN=x,x.BN=x,x.wordSize=26;try{R=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:_(77965).Buffer}catch{}function A(C,a){var u=C.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function O(C,a,u){var y=A(C,u);return u-1>=a&&(y|=A(C,u-1)<<4),y}function F(C,a,u,y){for(var g=0,S=Math.min(C.length,u),T=a;T<S;T++){var N=C.charCodeAt(T)-48;g*=y,g+=N>=49?N-49+10:N>=17?N-17+10:N}return g}x.isBN=function(a){return a instanceof x||null!==a&&"object"==typeof a&&a.constructor.wordSize===x.wordSize&&Array.isArray(a.words)},x.max=function(a,u){return a.cmp(u)>0?a:u},x.min=function(a,u){return a.cmp(u)<0?a:u},x.prototype._init=function(a,u,y){if("number"==typeof a)return this._initNumber(a,u,y);if("object"==typeof a)return this._initArray(a,u,y);"hex"===u&&(u=16),k(u===(0|u)&&u>=2&&u<=36);var g=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(g++,this.negative=1),g<a.length&&(16===u?this._parseHex(a,g,y):(this._parseBase(a,u,g),"le"===y&&this._initArray(this.toArray(),u,y)))},x.prototype._initNumber=function(a,u,y){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(k(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),u,y)},x.prototype._initArray=function(a,u,y){if(k("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var S,T,N=0;if("be"===y)for(g=a.length-1,S=0;g>=0;g-=3)this.words[S]|=(T=a[g]|a[g-1]<<8|a[g-2]<<16)<<N&67108863,this.words[S+1]=T>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);else if("le"===y)for(g=0,S=0;g<a.length;g+=3)this.words[S]|=(T=a[g]|a[g+1]<<8|a[g+2]<<16)<<N&67108863,this.words[S+1]=T>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);return this.strip()},x.prototype._parseHex=function(a,u,y){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var N,S=0,T=0;if("be"===y)for(g=a.length-1;g>=u;g-=2)N=O(a,u,g)<<S,this.words[T]|=67108863&N,S>=18?(S-=18,this.words[T+=1]|=N>>>26):S+=8;else for(g=(a.length-u)%2==0?u+1:u;g<a.length;g+=2)N=O(a,u,g)<<S,this.words[T]|=67108863&N,S>=18?(S-=18,this.words[T+=1]|=N>>>26):S+=8;this.strip()},x.prototype._parseBase=function(a,u,y){this.words=[0],this.length=1;for(var g=0,S=1;S<=67108863;S*=u)g++;g--,S=S/u|0;for(var T=a.length-y,N=T%g,M=Math.min(T,T-N)+y,s=0,v=y;v<M;v+=g)s=F(a,v,v+g,u),this.imuln(S),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==N){var W=1;for(s=F(a,v,a.length,u),v=0;v<N;v++)W*=u;this.imuln(W),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},x.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},x.prototype.clone=function(){var a=new x(null);return this.copy(a),a},x.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},x.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},x.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var L=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Z=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function G(C,a,u){u.negative=a.negative^C.negative;var y=C.length+a.length|0;u.length=y,y=y-1|0;var g=0|C.words[0],S=0|a.words[0],T=g*S,M=T/67108864|0;u.words[0]=67108863&T;for(var s=1;s<y;s++){for(var v=M>>>26,W=67108863&M,K=Math.min(s,a.length-1),ee=Math.max(0,s-C.length+1);ee<=K;ee++)v+=(T=(g=0|C.words[s-ee|0])*(S=0|a.words[ee])+W)/67108864|0,W=67108863&T;u.words[s]=0|W,M=0|v}return 0!==M?u.words[s]=0|M:u.length--,u.strip()}x.prototype.toString=function(a,u){var y;if(u=0|u||1,16===(a=a||10)||"hex"===a){y="";for(var g=0,S=0,T=0;T<this.length;T++){var N=this.words[T],M=(16777215&(N<<g|S)).toString(16);y=0!=(S=N>>>24-g&16777215)||T!==this.length-1?L[6-M.length]+M+y:M+y,(g+=2)>=26&&(g-=26,T--)}for(0!==S&&(y=S.toString(16)+y);y.length%u!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(a===(0|a)&&a>=2&&a<=36){var s=I[a],v=Z[a];y="";var W=this.clone();for(W.negative=0;!W.isZero();){var K=W.modn(v).toString(a);y=(W=W.idivn(v)).isZero()?K+y:L[s-K.length]+K+y}for(this.isZero()&&(y="0"+y);y.length%u!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}k(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&k(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},x.prototype.toJSON=function(){return this.toString(16)},x.prototype.toBuffer=function(a,u){return k(typeof R<"u"),this.toArrayLike(R,a,u)},x.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},x.prototype.toArrayLike=function(a,u,y){var g=this.byteLength(),S=y||Math.max(1,g);k(g<=S,"byte array longer than desired length"),k(S>0,"Requested array length <= 0"),this.strip();var M,s,T="le"===u,N=new a(S),v=this.clone();if(T){for(s=0;!v.isZero();s++)M=v.andln(255),v.iushrn(8),N[s]=M;for(;s<S;s++)N[s]=0}else{for(s=0;s<S-g;s++)N[s]=0;for(s=0;!v.isZero();s++)M=v.andln(255),v.iushrn(8),N[S-s-1]=M}return N},x.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var u=a,y=0;return u>=4096&&(y+=13,u>>>=13),u>=64&&(y+=7,u>>>=7),u>=8&&(y+=4,u>>>=4),u>=2&&(y+=2,u>>>=2),y+u},x.prototype._zeroBits=function(a){if(0===a)return 26;var u=a,y=0;return 8191&u||(y+=13,u>>>=13),127&u||(y+=7,u>>>=7),15&u||(y+=4,u>>>=4),3&u||(y+=2,u>>>=2),1&u||y++,y},x.prototype.bitLength=function(){var u=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+u},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var y=this._zeroBits(this.words[u]);if(a+=y,26!==y)break}return a},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},x.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},x.prototype.ior=function(a){return k(!(this.negative|a.negative)),this.iuor(a)},x.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},x.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},x.prototype.iuand=function(a){var u;u=this.length>a.length?a:this;for(var y=0;y<u.length;y++)this.words[y]=this.words[y]&a.words[y];return this.length=u.length,this.strip()},x.prototype.iand=function(a){return k(!(this.negative|a.negative)),this.iuand(a)},x.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},x.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},x.prototype.iuxor=function(a){var u,y;this.length>a.length?(u=this,y=a):(u=a,y=this);for(var g=0;g<y.length;g++)this.words[g]=u.words[g]^y.words[g];if(this!==u)for(;g<u.length;g++)this.words[g]=u.words[g];return this.length=u.length,this.strip()},x.prototype.ixor=function(a){return k(!(this.negative|a.negative)),this.iuxor(a)},x.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},x.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},x.prototype.inotn=function(a){k("number"==typeof a&&a>=0);var u=0|Math.ceil(a/26),y=a%26;this._expand(u),y>0&&u--;for(var g=0;g<u;g++)this.words[g]=67108863&~this.words[g];return y>0&&(this.words[g]=~this.words[g]&67108863>>26-y),this.strip()},x.prototype.notn=function(a){return this.clone().inotn(a)},x.prototype.setn=function(a,u){k("number"==typeof a&&a>=0);var y=a/26|0,g=a%26;return this._expand(y+1),this.words[y]=u?this.words[y]|1<<g:this.words[y]&~(1<<g),this.strip()},x.prototype.iadd=function(a){var u,y,g;if(0!==this.negative&&0===a.negative)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();this.length>a.length?(y=this,g=a):(y=a,g=this);for(var S=0,T=0;T<g.length;T++)this.words[T]=67108863&(u=(0|y.words[T])+(0|g.words[T])+S),S=u>>>26;for(;0!==S&&T<y.length;T++)this.words[T]=67108863&(u=(0|y.words[T])+S),S=u>>>26;if(this.length=y.length,0!==S)this.words[this.length]=S,this.length++;else if(y!==this)for(;T<y.length;T++)this.words[T]=y.words[T];return this},x.prototype.add=function(a){var u;return 0!==a.negative&&0===this.negative?(a.negative=0,u=this.sub(a),a.negative^=1,u):0===a.negative&&0!==this.negative?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},x.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var g,S,y=this.cmp(a);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(g=this,S=a):(g=a,S=this);for(var T=0,N=0;N<S.length;N++)T=(u=(0|g.words[N])-(0|S.words[N])+T)>>26,this.words[N]=67108863&u;for(;0!==T&&N<g.length;N++)T=(u=(0|g.words[N])+T)>>26,this.words[N]=67108863&u;if(0===T&&N<g.length&&g!==this)for(;N<g.length;N++)this.words[N]=g.words[N];return this.length=Math.max(this.length,N),g!==this&&(this.negative=1),this.strip()},x.prototype.sub=function(a){return this.clone().isub(a)};var re=function(a,u,y){var M,s,v,g=a.words,S=u.words,T=y.words,N=0,W=0|g[0],K=8191&W,ee=W>>>13,ce=0|g[1],_e=8191&ce,Pe=ce>>>13,$e=0|g[2],Se=8191&$e,be=$e>>>13,Ne=0|g[3],ye=8191&Ne,Te=Ne>>>13,pe=0|g[4],fe=8191&pe,Q=pe>>>13,ie=0|g[5],ue=8191&ie,Ee=ie>>>13,ke=0|g[6],Ue=8191&ke,Le=ke>>>13,_t=0|g[7],Ve=8191&_t,Be=_t>>>13,lt=0|g[8],B=8191&lt,w=lt>>>13,m=0|g[9],U=8191&m,ne=m>>>13,ge=0|S[0],Ae=8191&ge,Qe=ge>>>13,Bt=0|S[1],gt=8191&Bt,It=Bt>>>13,Gt=0|S[2],un=8191&Gt,an=Gt>>>13,sr=0|S[3],Mn=8191&sr,Qt=sr>>>13,qt=0|S[4],Et=8191&qt,ht=qt>>>13,zt=0|S[5],Jt=8191&zt,dn=zt>>>13,hr=0|S[6],vt=8191&hr,xt=hr>>>13,St=0|S[7],Xe=8191&St,nt=St>>>13,Vt=0|S[8],Ot=8191&Vt,sn=Vt>>>13,Hn=0|S[9],bn=8191&Hn,In=Hn>>>13;y.negative=a.negative^u.negative,y.length=19;var Ar=(N+(M=Math.imul(K,Ae))|0)+((8191&(s=(s=Math.imul(K,Qe))+Math.imul(ee,Ae)|0))<<13)|0;N=((v=Math.imul(ee,Qe))+(s>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,M=Math.imul(_e,Ae),s=(s=Math.imul(_e,Qe))+Math.imul(Pe,Ae)|0,v=Math.imul(Pe,Qe);var Jn=(N+(M=M+Math.imul(K,gt)|0)|0)+((8191&(s=(s=s+Math.imul(K,It)|0)+Math.imul(ee,gt)|0))<<13)|0;N=((v=v+Math.imul(ee,It)|0)+(s>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,M=Math.imul(Se,Ae),s=(s=Math.imul(Se,Qe))+Math.imul(be,Ae)|0,v=Math.imul(be,Qe),M=M+Math.imul(_e,gt)|0,s=(s=s+Math.imul(_e,It)|0)+Math.imul(Pe,gt)|0,v=v+Math.imul(Pe,It)|0;var Ln=(N+(M=M+Math.imul(K,un)|0)|0)+((8191&(s=(s=s+Math.imul(K,an)|0)+Math.imul(ee,un)|0))<<13)|0;N=((v=v+Math.imul(ee,an)|0)+(s>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,M=Math.imul(ye,Ae),s=(s=Math.imul(ye,Qe))+Math.imul(Te,Ae)|0,v=Math.imul(Te,Qe),M=M+Math.imul(Se,gt)|0,s=(s=s+Math.imul(Se,It)|0)+Math.imul(be,gt)|0,v=v+Math.imul(be,It)|0,M=M+Math.imul(_e,un)|0,s=(s=s+Math.imul(_e,an)|0)+Math.imul(Pe,un)|0,v=v+Math.imul(Pe,an)|0;var $n=(N+(M=M+Math.imul(K,Mn)|0)|0)+((8191&(s=(s=s+Math.imul(K,Qt)|0)+Math.imul(ee,Mn)|0))<<13)|0;N=((v=v+Math.imul(ee,Qt)|0)+(s>>>13)|0)+($n>>>26)|0,$n&=67108863,M=Math.imul(fe,Ae),s=(s=Math.imul(fe,Qe))+Math.imul(Q,Ae)|0,v=Math.imul(Q,Qe),M=M+Math.imul(ye,gt)|0,s=(s=s+Math.imul(ye,It)|0)+Math.imul(Te,gt)|0,v=v+Math.imul(Te,It)|0,M=M+Math.imul(Se,un)|0,s=(s=s+Math.imul(Se,an)|0)+Math.imul(be,un)|0,v=v+Math.imul(be,an)|0,M=M+Math.imul(_e,Mn)|0,s=(s=s+Math.imul(_e,Qt)|0)+Math.imul(Pe,Mn)|0,v=v+Math.imul(Pe,Qt)|0;var st=(N+(M=M+Math.imul(K,Et)|0)|0)+((8191&(s=(s=s+Math.imul(K,ht)|0)+Math.imul(ee,Et)|0))<<13)|0;N=((v=v+Math.imul(ee,ht)|0)+(s>>>13)|0)+(st>>>26)|0,st&=67108863,M=Math.imul(ue,Ae),s=(s=Math.imul(ue,Qe))+Math.imul(Ee,Ae)|0,v=Math.imul(Ee,Qe),M=M+Math.imul(fe,gt)|0,s=(s=s+Math.imul(fe,It)|0)+Math.imul(Q,gt)|0,v=v+Math.imul(Q,It)|0,M=M+Math.imul(ye,un)|0,s=(s=s+Math.imul(ye,an)|0)+Math.imul(Te,un)|0,v=v+Math.imul(Te,an)|0,M=M+Math.imul(Se,Mn)|0,s=(s=s+Math.imul(Se,Qt)|0)+Math.imul(be,Mn)|0,v=v+Math.imul(be,Qt)|0,M=M+Math.imul(_e,Et)|0,s=(s=s+Math.imul(_e,ht)|0)+Math.imul(Pe,Et)|0,v=v+Math.imul(Pe,ht)|0;var Ge=(N+(M=M+Math.imul(K,Jt)|0)|0)+((8191&(s=(s=s+Math.imul(K,dn)|0)+Math.imul(ee,Jt)|0))<<13)|0;N=((v=v+Math.imul(ee,dn)|0)+(s>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,M=Math.imul(Ue,Ae),s=(s=Math.imul(Ue,Qe))+Math.imul(Le,Ae)|0,v=Math.imul(Le,Qe),M=M+Math.imul(ue,gt)|0,s=(s=s+Math.imul(ue,It)|0)+Math.imul(Ee,gt)|0,v=v+Math.imul(Ee,It)|0,M=M+Math.imul(fe,un)|0,s=(s=s+Math.imul(fe,an)|0)+Math.imul(Q,un)|0,v=v+Math.imul(Q,an)|0,M=M+Math.imul(ye,Mn)|0,s=(s=s+Math.imul(ye,Qt)|0)+Math.imul(Te,Mn)|0,v=v+Math.imul(Te,Qt)|0,M=M+Math.imul(Se,Et)|0,s=(s=s+Math.imul(Se,ht)|0)+Math.imul(be,Et)|0,v=v+Math.imul(be,ht)|0,M=M+Math.imul(_e,Jt)|0,s=(s=s+Math.imul(_e,dn)|0)+Math.imul(Pe,Jt)|0,v=v+Math.imul(Pe,dn)|0;var ct=(N+(M=M+Math.imul(K,vt)|0)|0)+((8191&(s=(s=s+Math.imul(K,xt)|0)+Math.imul(ee,vt)|0))<<13)|0;N=((v=v+Math.imul(ee,xt)|0)+(s>>>13)|0)+(ct>>>26)|0,ct&=67108863,M=Math.imul(Ve,Ae),s=(s=Math.imul(Ve,Qe))+Math.imul(Be,Ae)|0,v=Math.imul(Be,Qe),M=M+Math.imul(Ue,gt)|0,s=(s=s+Math.imul(Ue,It)|0)+Math.imul(Le,gt)|0,v=v+Math.imul(Le,It)|0,M=M+Math.imul(ue,un)|0,s=(s=s+Math.imul(ue,an)|0)+Math.imul(Ee,un)|0,v=v+Math.imul(Ee,an)|0,M=M+Math.imul(fe,Mn)|0,s=(s=s+Math.imul(fe,Qt)|0)+Math.imul(Q,Mn)|0,v=v+Math.imul(Q,Qt)|0,M=M+Math.imul(ye,Et)|0,s=(s=s+Math.imul(ye,ht)|0)+Math.imul(Te,Et)|0,v=v+Math.imul(Te,ht)|0,M=M+Math.imul(Se,Jt)|0,s=(s=s+Math.imul(Se,dn)|0)+Math.imul(be,Jt)|0,v=v+Math.imul(be,dn)|0,M=M+Math.imul(_e,vt)|0,s=(s=s+Math.imul(_e,xt)|0)+Math.imul(Pe,vt)|0,v=v+Math.imul(Pe,xt)|0;var Yt=(N+(M=M+Math.imul(K,Xe)|0)|0)+((8191&(s=(s=s+Math.imul(K,nt)|0)+Math.imul(ee,Xe)|0))<<13)|0;N=((v=v+Math.imul(ee,nt)|0)+(s>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,M=Math.imul(B,Ae),s=(s=Math.imul(B,Qe))+Math.imul(w,Ae)|0,v=Math.imul(w,Qe),M=M+Math.imul(Ve,gt)|0,s=(s=s+Math.imul(Ve,It)|0)+Math.imul(Be,gt)|0,v=v+Math.imul(Be,It)|0,M=M+Math.imul(Ue,un)|0,s=(s=s+Math.imul(Ue,an)|0)+Math.imul(Le,un)|0,v=v+Math.imul(Le,an)|0,M=M+Math.imul(ue,Mn)|0,s=(s=s+Math.imul(ue,Qt)|0)+Math.imul(Ee,Mn)|0,v=v+Math.imul(Ee,Qt)|0,M=M+Math.imul(fe,Et)|0,s=(s=s+Math.imul(fe,ht)|0)+Math.imul(Q,Et)|0,v=v+Math.imul(Q,ht)|0,M=M+Math.imul(ye,Jt)|0,s=(s=s+Math.imul(ye,dn)|0)+Math.imul(Te,Jt)|0,v=v+Math.imul(Te,dn)|0,M=M+Math.imul(Se,vt)|0,s=(s=s+Math.imul(Se,xt)|0)+Math.imul(be,vt)|0,v=v+Math.imul(be,xt)|0,M=M+Math.imul(_e,Xe)|0,s=(s=s+Math.imul(_e,nt)|0)+Math.imul(Pe,Xe)|0,v=v+Math.imul(Pe,nt)|0;var _n=(N+(M=M+Math.imul(K,Ot)|0)|0)+((8191&(s=(s=s+Math.imul(K,sn)|0)+Math.imul(ee,Ot)|0))<<13)|0;N=((v=v+Math.imul(ee,sn)|0)+(s>>>13)|0)+(_n>>>26)|0,_n&=67108863,M=Math.imul(U,Ae),s=(s=Math.imul(U,Qe))+Math.imul(ne,Ae)|0,v=Math.imul(ne,Qe),M=M+Math.imul(B,gt)|0,s=(s=s+Math.imul(B,It)|0)+Math.imul(w,gt)|0,v=v+Math.imul(w,It)|0,M=M+Math.imul(Ve,un)|0,s=(s=s+Math.imul(Ve,an)|0)+Math.imul(Be,un)|0,v=v+Math.imul(Be,an)|0,M=M+Math.imul(Ue,Mn)|0,s=(s=s+Math.imul(Ue,Qt)|0)+Math.imul(Le,Mn)|0,v=v+Math.imul(Le,Qt)|0,M=M+Math.imul(ue,Et)|0,s=(s=s+Math.imul(ue,ht)|0)+Math.imul(Ee,Et)|0,v=v+Math.imul(Ee,ht)|0,M=M+Math.imul(fe,Jt)|0,s=(s=s+Math.imul(fe,dn)|0)+Math.imul(Q,Jt)|0,v=v+Math.imul(Q,dn)|0,M=M+Math.imul(ye,vt)|0,s=(s=s+Math.imul(ye,xt)|0)+Math.imul(Te,vt)|0,v=v+Math.imul(Te,xt)|0,M=M+Math.imul(Se,Xe)|0,s=(s=s+Math.imul(Se,nt)|0)+Math.imul(be,Xe)|0,v=v+Math.imul(be,nt)|0,M=M+Math.imul(_e,Ot)|0,s=(s=s+Math.imul(_e,sn)|0)+Math.imul(Pe,Ot)|0,v=v+Math.imul(Pe,sn)|0;var Wn=(N+(M=M+Math.imul(K,bn)|0)|0)+((8191&(s=(s=s+Math.imul(K,In)|0)+Math.imul(ee,bn)|0))<<13)|0;N=((v=v+Math.imul(ee,In)|0)+(s>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,M=Math.imul(U,gt),s=(s=Math.imul(U,It))+Math.imul(ne,gt)|0,v=Math.imul(ne,It),M=M+Math.imul(B,un)|0,s=(s=s+Math.imul(B,an)|0)+Math.imul(w,un)|0,v=v+Math.imul(w,an)|0,M=M+Math.imul(Ve,Mn)|0,s=(s=s+Math.imul(Ve,Qt)|0)+Math.imul(Be,Mn)|0,v=v+Math.imul(Be,Qt)|0,M=M+Math.imul(Ue,Et)|0,s=(s=s+Math.imul(Ue,ht)|0)+Math.imul(Le,Et)|0,v=v+Math.imul(Le,ht)|0,M=M+Math.imul(ue,Jt)|0,s=(s=s+Math.imul(ue,dn)|0)+Math.imul(Ee,Jt)|0,v=v+Math.imul(Ee,dn)|0,M=M+Math.imul(fe,vt)|0,s=(s=s+Math.imul(fe,xt)|0)+Math.imul(Q,vt)|0,v=v+Math.imul(Q,xt)|0,M=M+Math.imul(ye,Xe)|0,s=(s=s+Math.imul(ye,nt)|0)+Math.imul(Te,Xe)|0,v=v+Math.imul(Te,nt)|0,M=M+Math.imul(Se,Ot)|0,s=(s=s+Math.imul(Se,sn)|0)+Math.imul(be,Ot)|0,v=v+Math.imul(be,sn)|0;var Yn=(N+(M=M+Math.imul(_e,bn)|0)|0)+((8191&(s=(s=s+Math.imul(_e,In)|0)+Math.imul(Pe,bn)|0))<<13)|0;N=((v=v+Math.imul(Pe,In)|0)+(s>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,M=Math.imul(U,un),s=(s=Math.imul(U,an))+Math.imul(ne,un)|0,v=Math.imul(ne,an),M=M+Math.imul(B,Mn)|0,s=(s=s+Math.imul(B,Qt)|0)+Math.imul(w,Mn)|0,v=v+Math.imul(w,Qt)|0,M=M+Math.imul(Ve,Et)|0,s=(s=s+Math.imul(Ve,ht)|0)+Math.imul(Be,Et)|0,v=v+Math.imul(Be,ht)|0,M=M+Math.imul(Ue,Jt)|0,s=(s=s+Math.imul(Ue,dn)|0)+Math.imul(Le,Jt)|0,v=v+Math.imul(Le,dn)|0,M=M+Math.imul(ue,vt)|0,s=(s=s+Math.imul(ue,xt)|0)+Math.imul(Ee,vt)|0,v=v+Math.imul(Ee,xt)|0,M=M+Math.imul(fe,Xe)|0,s=(s=s+Math.imul(fe,nt)|0)+Math.imul(Q,Xe)|0,v=v+Math.imul(Q,nt)|0,M=M+Math.imul(ye,Ot)|0,s=(s=s+Math.imul(ye,sn)|0)+Math.imul(Te,Ot)|0,v=v+Math.imul(Te,sn)|0;var yr=(N+(M=M+Math.imul(Se,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Se,In)|0)+Math.imul(be,bn)|0))<<13)|0;N=((v=v+Math.imul(be,In)|0)+(s>>>13)|0)+(yr>>>26)|0,yr&=67108863,M=Math.imul(U,Mn),s=(s=Math.imul(U,Qt))+Math.imul(ne,Mn)|0,v=Math.imul(ne,Qt),M=M+Math.imul(B,Et)|0,s=(s=s+Math.imul(B,ht)|0)+Math.imul(w,Et)|0,v=v+Math.imul(w,ht)|0,M=M+Math.imul(Ve,Jt)|0,s=(s=s+Math.imul(Ve,dn)|0)+Math.imul(Be,Jt)|0,v=v+Math.imul(Be,dn)|0,M=M+Math.imul(Ue,vt)|0,s=(s=s+Math.imul(Ue,xt)|0)+Math.imul(Le,vt)|0,v=v+Math.imul(Le,xt)|0,M=M+Math.imul(ue,Xe)|0,s=(s=s+Math.imul(ue,nt)|0)+Math.imul(Ee,Xe)|0,v=v+Math.imul(Ee,nt)|0,M=M+Math.imul(fe,Ot)|0,s=(s=s+Math.imul(fe,sn)|0)+Math.imul(Q,Ot)|0,v=v+Math.imul(Q,sn)|0;var Nr=(N+(M=M+Math.imul(ye,bn)|0)|0)+((8191&(s=(s=s+Math.imul(ye,In)|0)+Math.imul(Te,bn)|0))<<13)|0;N=((v=v+Math.imul(Te,In)|0)+(s>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,M=Math.imul(U,Et),s=(s=Math.imul(U,ht))+Math.imul(ne,Et)|0,v=Math.imul(ne,ht),M=M+Math.imul(B,Jt)|0,s=(s=s+Math.imul(B,dn)|0)+Math.imul(w,Jt)|0,v=v+Math.imul(w,dn)|0,M=M+Math.imul(Ve,vt)|0,s=(s=s+Math.imul(Ve,xt)|0)+Math.imul(Be,vt)|0,v=v+Math.imul(Be,xt)|0,M=M+Math.imul(Ue,Xe)|0,s=(s=s+Math.imul(Ue,nt)|0)+Math.imul(Le,Xe)|0,v=v+Math.imul(Le,nt)|0,M=M+Math.imul(ue,Ot)|0,s=(s=s+Math.imul(ue,sn)|0)+Math.imul(Ee,Ot)|0,v=v+Math.imul(Ee,sn)|0;var Ur=(N+(M=M+Math.imul(fe,bn)|0)|0)+((8191&(s=(s=s+Math.imul(fe,In)|0)+Math.imul(Q,bn)|0))<<13)|0;N=((v=v+Math.imul(Q,In)|0)+(s>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,M=Math.imul(U,Jt),s=(s=Math.imul(U,dn))+Math.imul(ne,Jt)|0,v=Math.imul(ne,dn),M=M+Math.imul(B,vt)|0,s=(s=s+Math.imul(B,xt)|0)+Math.imul(w,vt)|0,v=v+Math.imul(w,xt)|0,M=M+Math.imul(Ve,Xe)|0,s=(s=s+Math.imul(Ve,nt)|0)+Math.imul(Be,Xe)|0,v=v+Math.imul(Be,nt)|0,M=M+Math.imul(Ue,Ot)|0,s=(s=s+Math.imul(Ue,sn)|0)+Math.imul(Le,Ot)|0,v=v+Math.imul(Le,sn)|0;var Kr=(N+(M=M+Math.imul(ue,bn)|0)|0)+((8191&(s=(s=s+Math.imul(ue,In)|0)+Math.imul(Ee,bn)|0))<<13)|0;N=((v=v+Math.imul(Ee,In)|0)+(s>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,M=Math.imul(U,vt),s=(s=Math.imul(U,xt))+Math.imul(ne,vt)|0,v=Math.imul(ne,xt),M=M+Math.imul(B,Xe)|0,s=(s=s+Math.imul(B,nt)|0)+Math.imul(w,Xe)|0,v=v+Math.imul(w,nt)|0,M=M+Math.imul(Ve,Ot)|0,s=(s=s+Math.imul(Ve,sn)|0)+Math.imul(Be,Ot)|0,v=v+Math.imul(Be,sn)|0;var Xr=(N+(M=M+Math.imul(Ue,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Ue,In)|0)+Math.imul(Le,bn)|0))<<13)|0;N=((v=v+Math.imul(Le,In)|0)+(s>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,M=Math.imul(U,Xe),s=(s=Math.imul(U,nt))+Math.imul(ne,Xe)|0,v=Math.imul(ne,nt),M=M+Math.imul(B,Ot)|0,s=(s=s+Math.imul(B,sn)|0)+Math.imul(w,Ot)|0,v=v+Math.imul(w,sn)|0;var ri=(N+(M=M+Math.imul(Ve,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Ve,In)|0)+Math.imul(Be,bn)|0))<<13)|0;N=((v=v+Math.imul(Be,In)|0)+(s>>>13)|0)+(ri>>>26)|0,ri&=67108863,M=Math.imul(U,Ot),s=(s=Math.imul(U,sn))+Math.imul(ne,Ot)|0,v=Math.imul(ne,sn);var en=(N+(M=M+Math.imul(B,bn)|0)|0)+((8191&(s=(s=s+Math.imul(B,In)|0)+Math.imul(w,bn)|0))<<13)|0;N=((v=v+Math.imul(w,In)|0)+(s>>>13)|0)+(en>>>26)|0,en&=67108863;var wn=(N+(M=Math.imul(U,bn))|0)+((8191&(s=(s=Math.imul(U,In))+Math.imul(ne,bn)|0))<<13)|0;return N=((v=Math.imul(ne,In))+(s>>>13)|0)+(wn>>>26)|0,wn&=67108863,T[0]=Ar,T[1]=Jn,T[2]=Ln,T[3]=$n,T[4]=st,T[5]=Ge,T[6]=ct,T[7]=Yt,T[8]=_n,T[9]=Wn,T[10]=Yn,T[11]=yr,T[12]=Nr,T[13]=Ur,T[14]=Kr,T[15]=Xr,T[16]=ri,T[17]=en,T[18]=wn,0!==N&&(T[19]=N,y.length++),y};function J(C,a,u){return(new Y).mulp(C,a,u)}function Y(C,a){this.x=C,this.y=a}Math.imul||(re=G),x.prototype.mulTo=function(a,u){var y,g=this.length+a.length;return y=10===this.length&&10===a.length?re(this,a,u):g<63?G(this,a,u):g<1024?function te(C,a,u){u.negative=a.negative^C.negative,u.length=C.length+a.length;for(var y=0,g=0,S=0;S<u.length-1;S++){var T=g;g=0;for(var N=67108863&y,M=Math.min(S,a.length-1),s=Math.max(0,S-C.length+1);s<=M;s++){var ee=(0|C.words[S-s])*(0|a.words[s]),ce=67108863&ee;N=67108863&(ce=ce+N|0),g+=(T=(T=T+(ee/67108864|0)|0)+(ce>>>26)|0)>>>26,T&=67108863}u.words[S]=N,y=T,T=g}return 0!==y?u.words[S]=y:u.length--,u.strip()}(this,a,u):J(this,a,u),y},Y.prototype.makeRBT=function(a){for(var u=new Array(a),y=x.prototype._countBits(a)-1,g=0;g<a;g++)u[g]=this.revBin(g,y,a);return u},Y.prototype.revBin=function(a,u,y){if(0===a||a===y-1)return a;for(var g=0,S=0;S<u;S++)g|=(1&a)<<u-S-1,a>>=1;return g},Y.prototype.permute=function(a,u,y,g,S,T){for(var N=0;N<T;N++)g[N]=u[a[N]],S[N]=y[a[N]]},Y.prototype.transform=function(a,u,y,g,S,T){this.permute(T,a,u,y,g,S);for(var N=1;N<S;N<<=1)for(var M=N<<1,s=Math.cos(2*Math.PI/M),v=Math.sin(2*Math.PI/M),W=0;W<S;W+=M)for(var K=s,ee=v,ce=0;ce<N;ce++){var _e=y[W+ce],Pe=g[W+ce],$e=y[W+ce+N],Se=g[W+ce+N],be=K*$e-ee*Se;Se=K*Se+ee*$e,y[W+ce]=_e+($e=be),g[W+ce]=Pe+Se,y[W+ce+N]=_e-$e,g[W+ce+N]=Pe-Se,ce!==M&&(be=s*K-v*ee,ee=s*ee+v*K,K=be)}},Y.prototype.guessLen13b=function(a,u){var y=1|Math.max(u,a),g=1&y,S=0;for(y=y/2|0;y;y>>>=1)S++;return 1<<S+1+g},Y.prototype.conjugate=function(a,u,y){if(!(y<=1))for(var g=0;g<y/2;g++){var S=a[g];a[g]=a[y-g-1],a[y-g-1]=S,S=u[g],u[g]=-u[y-g-1],u[y-g-1]=-S}},Y.prototype.normalize13b=function(a,u){for(var y=0,g=0;g<u/2;g++){var S=8192*Math.round(a[2*g+1]/u)+Math.round(a[2*g]/u)+y;a[g]=67108863&S,y=S<67108864?0:S/67108864|0}return a},Y.prototype.convert13b=function(a,u,y,g){for(var S=0,T=0;T<u;T++)y[2*T]=8191&(S+=0|a[T]),y[2*T+1]=8191&(S>>>=13),S>>>=13;for(T=2*u;T<g;++T)y[T]=0;k(0===S),k(!(-8192&S))},Y.prototype.stub=function(a){for(var u=new Array(a),y=0;y<a;y++)u[y]=0;return u},Y.prototype.mulp=function(a,u,y){var g=2*this.guessLen13b(a.length,u.length),S=this.makeRBT(g),T=this.stub(g),N=new Array(g),M=new Array(g),s=new Array(g),v=new Array(g),W=new Array(g),K=new Array(g),ee=y.words;ee.length=g,this.convert13b(a.words,a.length,N,g),this.convert13b(u.words,u.length,v,g),this.transform(N,T,M,s,g,S),this.transform(v,T,W,K,g,S);for(var ce=0;ce<g;ce++){var _e=M[ce]*W[ce]-s[ce]*K[ce];s[ce]=M[ce]*K[ce]+s[ce]*W[ce],M[ce]=_e}return this.conjugate(M,s,g),this.transform(M,s,ee,T,g,S),this.conjugate(ee,T,g),this.normalize13b(ee,g),y.negative=a.negative^u.negative,y.length=a.length+u.length,y.strip()},x.prototype.mul=function(a){var u=new x(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},x.prototype.mulf=function(a){var u=new x(null);return u.words=new Array(this.length+a.length),J(this,a,u)},x.prototype.imul=function(a){return this.clone().mulTo(a,this)},x.prototype.imuln=function(a){k("number"==typeof a),k(a<67108864);for(var u=0,y=0;y<this.length;y++){var g=(0|this.words[y])*a,S=(67108863&g)+(67108863&u);u>>=26,u+=g/67108864|0,u+=S>>>26,this.words[y]=67108863&S}return 0!==u&&(this.words[y]=u,this.length++),this},x.prototype.muln=function(a){return this.clone().imuln(a)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(a){var u=function j(C){for(var a=new Array(C.bitLength()),u=0;u<a.length;u++){var g=u%26;a[u]=(C.words[u/26|0]&1<<g)>>>g}return a}(a);if(0===u.length)return new x(1);for(var y=this,g=0;g<u.length&&0===u[g];g++,y=y.sqr());if(++g<u.length)for(var S=y.sqr();g<u.length;g++,S=S.sqr())0!==u[g]&&(y=y.mul(S));return y},x.prototype.iushln=function(a){k("number"==typeof a&&a>=0);var S,u=a%26,y=(a-u)/26,g=67108863>>>26-u<<26-u;if(0!==u){var T=0;for(S=0;S<this.length;S++){var N=this.words[S]&g;this.words[S]=(0|this.words[S])-N<<u|T,T=N>>>26-u}T&&(this.words[S]=T,this.length++)}if(0!==y){for(S=this.length-1;S>=0;S--)this.words[S+y]=this.words[S];for(S=0;S<y;S++)this.words[S]=0;this.length+=y}return this.strip()},x.prototype.ishln=function(a){return k(0===this.negative),this.iushln(a)},x.prototype.iushrn=function(a,u,y){var g;k("number"==typeof a&&a>=0),g=u?(u-u%26)/26:0;var S=a%26,T=Math.min((a-S)/26,this.length),N=67108863^67108863>>>S<<S,M=y;if(g-=T,g=Math.max(0,g),M){for(var s=0;s<T;s++)M.words[s]=this.words[s];M.length=T}if(0!==T)if(this.length>T)for(this.length-=T,s=0;s<this.length;s++)this.words[s]=this.words[s+T];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=g);s--){var W=0|this.words[s];this.words[s]=v<<26-S|W>>>S,v=W&N}return M&&0!==v&&(M.words[M.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},x.prototype.ishrn=function(a,u,y){return k(0===this.negative),this.iushrn(a,u,y)},x.prototype.shln=function(a){return this.clone().ishln(a)},x.prototype.ushln=function(a){return this.clone().iushln(a)},x.prototype.shrn=function(a){return this.clone().ishrn(a)},x.prototype.ushrn=function(a){return this.clone().iushrn(a)},x.prototype.testn=function(a){k("number"==typeof a&&a>=0);var u=a%26,y=(a-u)/26;return!(this.length<=y||!(this.words[y]&1<<u))},x.prototype.imaskn=function(a){k("number"==typeof a&&a>=0);var u=a%26,y=(a-u)/26;return k(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==u&&y++,this.length=Math.min(y,this.length),0!==u&&(this.words[this.length-1]&=67108863^67108863>>>u<<u),this.strip())},x.prototype.maskn=function(a){return this.clone().imaskn(a)},x.prototype.iaddn=function(a){return k("number"==typeof a),k(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},x.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},x.prototype.isubn=function(a){if(k("number"==typeof a),k(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},x.prototype.addn=function(a){return this.clone().iaddn(a)},x.prototype.subn=function(a){return this.clone().isubn(a)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(a,u,y){var S;this._expand(a.length+y);var T,N=0;for(S=0;S<a.length;S++){T=(0|this.words[S+y])+N;var M=(0|a.words[S])*u;N=((T-=67108863&M)>>26)-(M/67108864|0),this.words[S+y]=67108863&T}for(;S<this.length-y;S++)N=(T=(0|this.words[S+y])+N)>>26,this.words[S+y]=67108863&T;if(0===N)return this.strip();for(k(-1===N),N=0,S=0;S<this.length;S++)N=(T=-(0|this.words[S])+N)>>26,this.words[S]=67108863&T;return this.negative=1,this.strip()},x.prototype._wordDiv=function(a,u){var y,g=this.clone(),S=a,T=0|S.words[S.length-1];0!=(y=26-this._countBits(T))&&(S=S.ushln(y),g.iushln(y),T=0|S.words[S.length-1]);var s,M=g.length-S.length;if("mod"!==u){(s=new x(null)).length=M+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var W=g.clone()._ishlnsubmul(S,1,M);0===W.negative&&(g=W,s&&(s.words[M]=1));for(var K=M-1;K>=0;K--){var ee=67108864*(0|g.words[S.length+K])+(0|g.words[S.length+K-1]);for(ee=Math.min(ee/T|0,67108863),g._ishlnsubmul(S,ee,K);0!==g.negative;)ee--,g.negative=0,g._ishlnsubmul(S,1,K),g.isZero()||(g.negative^=1);s&&(s.words[K]=ee)}return s&&s.strip(),g.strip(),"div"!==u&&0!==y&&g.iushrn(y),{div:s||null,mod:g}},x.prototype.divmod=function(a,u,y){return k(!a.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===a.negative?(T=this.neg().divmod(a,u),"mod"!==u&&(g=T.div.neg()),"div"!==u&&(S=T.mod.neg(),y&&0!==S.negative&&S.iadd(a)),{div:g,mod:S}):0===this.negative&&0!==a.negative?(T=this.divmod(a.neg(),u),"mod"!==u&&(g=T.div.neg()),{div:g,mod:T.mod}):this.negative&a.negative?(T=this.neg().divmod(a.neg(),u),"div"!==u&&(S=T.mod.neg(),y&&0!==S.negative&&S.isub(a)),{div:T.div,mod:S}):a.length>this.length||this.cmp(a)<0?{div:new x(0),mod:this}:1===a.length?"div"===u?{div:this.divn(a.words[0]),mod:null}:"mod"===u?{div:null,mod:new x(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new x(this.modn(a.words[0]))}:this._wordDiv(a,u);var g,S,T},x.prototype.div=function(a){return this.divmod(a,"div",!1).div},x.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},x.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},x.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var y=0!==u.div.negative?u.mod.isub(a):u.mod,g=a.ushrn(1),S=a.andln(1),T=y.cmp(g);return T<0||1===S&&0===T?u.div:0!==u.div.negative?u.div.isubn(1):u.div.iaddn(1)},x.prototype.modn=function(a){k(a<=67108863);for(var u=(1<<26)%a,y=0,g=this.length-1;g>=0;g--)y=(u*y+(0|this.words[g]))%a;return y},x.prototype.idivn=function(a){k(a<=67108863);for(var u=0,y=this.length-1;y>=0;y--){var g=(0|this.words[y])+67108864*u;this.words[y]=g/a|0,u=g%a}return this.strip()},x.prototype.divn=function(a){return this.clone().idivn(a)},x.prototype.egcd=function(a){k(0===a.negative),k(!a.isZero());var u=this,y=a.clone();u=0!==u.negative?u.umod(a):u.clone();for(var g=new x(1),S=new x(0),T=new x(0),N=new x(1),M=0;u.isEven()&&y.isEven();)u.iushrn(1),y.iushrn(1),++M;for(var s=y.clone(),v=u.clone();!u.isZero();){for(var W=0,K=1;!(u.words[0]&K)&&W<26;++W,K<<=1);if(W>0)for(u.iushrn(W);W-- >0;)(g.isOdd()||S.isOdd())&&(g.iadd(s),S.isub(v)),g.iushrn(1),S.iushrn(1);for(var ee=0,ce=1;!(y.words[0]&ce)&&ee<26;++ee,ce<<=1);if(ee>0)for(y.iushrn(ee);ee-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(s),N.isub(v)),T.iushrn(1),N.iushrn(1);u.cmp(y)>=0?(u.isub(y),g.isub(T),S.isub(N)):(y.isub(u),T.isub(g),N.isub(S))}return{a:T,b:N,gcd:y.iushln(M)}},x.prototype._invmp=function(a){k(0===a.negative),k(!a.isZero());var W,u=this,y=a.clone();u=0!==u.negative?u.umod(a):u.clone();for(var g=new x(1),S=new x(0),T=y.clone();u.cmpn(1)>0&&y.cmpn(1)>0;){for(var N=0,M=1;!(u.words[0]&M)&&N<26;++N,M<<=1);if(N>0)for(u.iushrn(N);N-- >0;)g.isOdd()&&g.iadd(T),g.iushrn(1);for(var s=0,v=1;!(y.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(y.iushrn(s);s-- >0;)S.isOdd()&&S.iadd(T),S.iushrn(1);u.cmp(y)>=0?(u.isub(y),g.isub(S)):(y.isub(u),S.isub(g))}return(W=0===u.cmpn(1)?g:S).cmpn(0)<0&&W.iadd(a),W},x.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),y=a.clone();u.negative=0,y.negative=0;for(var g=0;u.isEven()&&y.isEven();g++)u.iushrn(1),y.iushrn(1);for(;;){for(;u.isEven();)u.iushrn(1);for(;y.isEven();)y.iushrn(1);var S=u.cmp(y);if(S<0){var T=u;u=y,y=T}else if(0===S||0===y.cmpn(1))break;u.isub(y)}return y.iushln(g)},x.prototype.invm=function(a){return this.egcd(a).a.umod(a)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(a){return this.words[0]&a},x.prototype.bincn=function(a){k("number"==typeof a);var u=a%26,y=(a-u)/26,g=1<<u;if(this.length<=y)return this._expand(y+1),this.words[y]|=g,this;for(var S=g,T=y;0!==S&&T<this.length;T++){var N=0|this.words[T];S=(N+=S)>>>26,this.words[T]=N&=67108863}return 0!==S&&(this.words[T]=S,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(a){var y,u=a<0;if(0!==this.negative&&!u)return-1;if(0===this.negative&&u)return 1;if(this.strip(),this.length>1)y=1;else{u&&(a=-a),k(a<=67108863,"Number is too big");var g=0|this.words[0];y=g===a?0:g<a?-1:1}return 0!==this.negative?0|-y:y},x.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var u=this.ucmp(a);return 0!==this.negative?0|-u:u},x.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,y=this.length-1;y>=0;y--){var g=0|this.words[y],S=0|a.words[y];if(g!==S){g<S?u=-1:g>S&&(u=1);break}}return u},x.prototype.gtn=function(a){return 1===this.cmpn(a)},x.prototype.gt=function(a){return 1===this.cmp(a)},x.prototype.gten=function(a){return this.cmpn(a)>=0},x.prototype.gte=function(a){return this.cmp(a)>=0},x.prototype.ltn=function(a){return-1===this.cmpn(a)},x.prototype.lt=function(a){return-1===this.cmp(a)},x.prototype.lten=function(a){return this.cmpn(a)<=0},x.prototype.lte=function(a){return this.cmp(a)<=0},x.prototype.eqn=function(a){return 0===this.cmpn(a)},x.prototype.eq=function(a){return 0===this.cmp(a)},x.red=function(a){return new xe(a)},x.prototype.toRed=function(a){return k(!this.red,"Already a number in reduction context"),k(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},x.prototype.fromRed=function(){return k(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(a){return this.red=a,this},x.prototype.forceRed=function(a){return k(!this.red,"Already a number in reduction context"),this._forceRed(a)},x.prototype.redAdd=function(a){return k(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},x.prototype.redIAdd=function(a){return k(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},x.prototype.redSub=function(a){return k(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},x.prototype.redISub=function(a){return k(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},x.prototype.redShl=function(a){return k(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},x.prototype.redMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},x.prototype.redIMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},x.prototype.redSqr=function(){return k(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return k(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return k(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return k(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return k(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(a){return k(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var oe={k256:null,p224:null,p192:null,p25519:null};function ae(C,a){this.name=C,this.p=new x(a,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function se(){ae.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function de(){ae.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function le(){ae.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function we(){ae.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function xe(C){if("string"==typeof C){var a=x._prime(C);this.m=a.p,this.prime=a}else k(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Ce(C){xe.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ae.prototype._tmp=function(){var a=new x(null);return a.words=new Array(Math.ceil(this.n/13)),a},ae.prototype.ireduce=function(a){var y,u=a;do{this.split(u,this.tmp),y=(u=(u=this.imulK(u)).iadd(this.tmp)).bitLength()}while(y>this.n);var g=y<this.n?-1:u.ucmp(this.p);return 0===g?(u.words[0]=0,u.length=1):g>0?u.isub(this.p):void 0!==u.strip?u.strip():u._strip(),u},ae.prototype.split=function(a,u){a.iushrn(this.n,0,u)},ae.prototype.imulK=function(a){return a.imul(this.k)},H(se,ae),se.prototype.split=function(a,u){for(var y=4194303,g=Math.min(a.length,9),S=0;S<g;S++)u.words[S]=a.words[S];if(u.length=g,a.length<=9)return a.words[0]=0,void(a.length=1);var T=a.words[9];for(u.words[u.length++]=T&y,S=10;S<a.length;S++){var N=0|a.words[S];a.words[S-10]=(N&y)<<4|T>>>22,T=N}a.words[S-10]=T>>>=22,a.length-=0===T&&a.length>10?10:9},se.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,y=0;y<a.length;y++){var g=0|a.words[y];a.words[y]=67108863&(u+=977*g),u=64*g+(u/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},H(de,ae),H(le,ae),H(we,ae),we.prototype.imulK=function(a){for(var u=0,y=0;y<a.length;y++){var g=19*(0|a.words[y])+u,S=67108863&g;g>>>=26,a.words[y]=S,u=g}return 0!==u&&(a.words[a.length++]=u),a},x._prime=function(a){if(oe[a])return oe[a];var u;if("k256"===a)u=new se;else if("p224"===a)u=new de;else if("p192"===a)u=new le;else{if("p25519"!==a)throw new Error("Unknown prime "+a);u=new we}return oe[a]=u,u},xe.prototype._verify1=function(a){k(0===a.negative,"red works only with positives"),k(a.red,"red works only with red numbers")},xe.prototype._verify2=function(a,u){k(!(a.negative|u.negative),"red works only with positives"),k(a.red&&a.red===u.red,"red works only with red numbers")},xe.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},xe.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},xe.prototype.add=function(a,u){this._verify2(a,u);var y=a.add(u);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},xe.prototype.iadd=function(a,u){this._verify2(a,u);var y=a.iadd(u);return y.cmp(this.m)>=0&&y.isub(this.m),y},xe.prototype.sub=function(a,u){this._verify2(a,u);var y=a.sub(u);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},xe.prototype.isub=function(a,u){this._verify2(a,u);var y=a.isub(u);return y.cmpn(0)<0&&y.iadd(this.m),y},xe.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},xe.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},xe.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},xe.prototype.isqr=function(a){return this.imul(a,a.clone())},xe.prototype.sqr=function(a){return this.mul(a,a)},xe.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(k(u%2==1),3===u){var y=this.m.add(new x(1)).iushrn(2);return this.pow(a,y)}for(var g=this.m.subn(1),S=0;!g.isZero()&&0===g.andln(1);)S++,g.iushrn(1);k(!g.isZero());var T=new x(1).toRed(this),N=T.redNeg(),M=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new x(2*s*s).toRed(this);0!==this.pow(s,M).cmp(N);)s.redIAdd(N);for(var v=this.pow(s,g),W=this.pow(a,g.addn(1).iushrn(1)),K=this.pow(a,g),ee=S;0!==K.cmp(T);){for(var ce=K,_e=0;0!==ce.cmp(T);_e++)ce=ce.redSqr();k(_e<ee);var Pe=this.pow(v,new x(1).iushln(ee-_e-1));W=W.redMul(Pe),v=Pe.redSqr(),K=K.redMul(v),ee=_e}return W},xe.prototype.invm=function(a){var u=a._invmp(this.m);return 0!==u.negative?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},xe.prototype.pow=function(a,u){if(u.isZero())return new x(1).toRed(this);if(0===u.cmpn(1))return a.clone();var g=new Array(16);g[0]=new x(1).toRed(this),g[1]=a;for(var S=2;S<g.length;S++)g[S]=this.mul(g[S-1],a);var T=g[0],N=0,M=0,s=u.bitLength()%26;for(0===s&&(s=26),S=u.length-1;S>=0;S--){for(var v=u.words[S],W=s-1;W>=0;W--){var K=v>>W&1;T!==g[0]&&(T=this.sqr(T)),0!==K||0!==N?(N<<=1,N|=K,(4==++M||0===S&&0===W)&&(T=this.mul(T,g[N]),M=0,N=0)):M=0}s=26}return T},xe.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},xe.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},x.mont=function(a){return new Ce(a)},H(Ce,xe),Ce.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},Ce.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},Ce.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var y=a.imul(u),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(g).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},Ce.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new x(0)._forceRed(this);var y=a.mul(u),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(g).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},Ce.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(Fe=_.nmd(Fe),this)},67211:(Fe,z,_)=>{"use strict";var p=_(71993),E=_(34725),k=_(36636),H=_(25443),x=_(3247);function R(A){x.call(this,"digest"),this._hash=A}p(R,x),R.prototype._update=function(A){this._hash.update(A)},R.prototype._final=function(){return this._hash.digest()},Fe.exports=function(O){return"md5"===(O=O.toLowerCase())?new E:"rmd160"===O||"ripemd160"===O?new k:new R(H(O))}},83407:(Fe,z,_)=>{var p=_(34725);Fe.exports=function(E){return(new p).update(E).digest()}},56432:(Fe,z,_)=>{"use strict";var p=_(71993),E=_(90509),k=_(3247),H=_(27054).Buffer,x=_(83407),R=_(36636),A=_(25443),O=H.alloc(128);function F(L,I){k.call(this,"digest"),"string"==typeof I&&(I=H.from(I));var Z="sha512"===L||"sha384"===L?128:64;this._alg=L,this._key=I,I.length>Z?I=("rmd160"===L?new R:A(L)).update(I).digest():I.length<Z&&(I=H.concat([I,O],Z));for(var G=this._ipad=H.allocUnsafe(Z),re=this._opad=H.allocUnsafe(Z),te=0;te<Z;te++)G[te]=54^I[te],re[te]=92^I[te];this._hash="rmd160"===L?new R:A(L),this._hash.update(G)}p(F,k),F.prototype._update=function(L){this._hash.update(L)},F.prototype._final=function(){var L=this._hash.digest();return("rmd160"===this._alg?new R:A(this._alg)).update(this._opad).update(L).digest()},Fe.exports=function(I,Z){return"rmd160"===(I=I.toLowerCase())||"ripemd160"===I?new F("rmd160",Z):"md5"===I?new E(x,Z):new F(I,Z)}},90509:(Fe,z,_)=>{"use strict";var p=_(71993),E=_(27054).Buffer,k=_(3247),H=E.alloc(128),x=64;function R(A,O){k.call(this,"digest"),"string"==typeof O&&(O=E.from(O)),this._alg=A,this._key=O,O.length>x?O=A(O):O.length<x&&(O=E.concat([O,H],x));for(var F=this._ipad=E.allocUnsafe(x),L=this._opad=E.allocUnsafe(x),I=0;I<x;I++)F[I]=54^O[I],L[I]=92^O[I];this._hash=[F]}p(R,k),R.prototype._update=function(A){this._hash.push(A)},R.prototype._final=function(){var A=this._alg(E.concat(this._hash));return this._alg(E.concat([this._opad,A]))},Fe.exports=R},91426:(Fe,z,_)=>{"use strict";z.randomBytes=z.rng=z.pseudoRandomBytes=z.prng=_(3342),z.createHash=z.Hash=_(67211),z.createHmac=z.Hmac=_(56432);var p=_(99560),E=Object.keys(p),k=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(E);z.getHashes=function(){return k};var H=_(93397);z.pbkdf2=H.pbkdf2,z.pbkdf2Sync=H.pbkdf2Sync;var x=_(88862);z.Cipher=x.Cipher,z.createCipher=x.createCipher,z.Cipheriv=x.Cipheriv,z.createCipheriv=x.createCipheriv,z.Decipher=x.Decipher,z.createDecipher=x.createDecipher,z.Decipheriv=x.Decipheriv,z.createDecipheriv=x.createDecipheriv,z.getCiphers=x.getCiphers,z.listCiphers=x.listCiphers;var R=_(4377);z.DiffieHellmanGroup=R.DiffieHellmanGroup,z.createDiffieHellmanGroup=R.createDiffieHellmanGroup,z.getDiffieHellman=R.getDiffieHellman,z.createDiffieHellman=R.createDiffieHellman,z.DiffieHellman=R.DiffieHellman;var A=_(79143);z.createSign=A.createSign,z.Sign=A.Sign,z.createVerify=A.createVerify,z.Verify=A.Verify,z.createECDH=_(87303);var O=_(52965);z.publicEncrypt=O.publicEncrypt,z.privateEncrypt=O.privateEncrypt,z.publicDecrypt=O.publicDecrypt,z.privateDecrypt=O.privateDecrypt;var F=_(9682);z.randomFill=F.randomFill,z.randomFillSync=F.randomFillSync,z.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},z.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},71549:(Fe,z,_)=>{"use strict";z.utils=_(85671),z.Cipher=_(10219),z.DES=_(64166),z.CBC=_(88800),z.EDE=_(62122)},88800:(Fe,z,_)=>{"use strict";var p=_(39210),E=_(71993),k={};function H(R){p.equal(R.length,8,"Invalid IV length"),this.iv=new Array(8);for(var A=0;A<this.iv.length;A++)this.iv[A]=R[A]}z.instantiate=function x(R){function A(I){R.call(this,I),this._cbcInit()}E(A,R);for(var O=Object.keys(k),F=0;F<O.length;F++){var L=O[F];A.prototype[L]=k[L]}return A.create=function(Z){return new A(Z)},A},k._cbcInit=function(){var A=new H(this.options.iv);this._cbcState=A},k._update=function(A,O,F,L){var Z=this.constructor.super_.prototype,j=this._cbcState.iv;if("encrypt"===this.type){for(var G=0;G<this.blockSize;G++)j[G]^=A[O+G];for(Z._update.call(this,j,0,F,L),G=0;G<this.blockSize;G++)j[G]=F[L+G]}else{for(Z._update.call(this,A,O,F,L),G=0;G<this.blockSize;G++)F[L+G]^=j[G];for(G=0;G<this.blockSize;G++)j[G]=A[O+G]}}},10219:(Fe,z,_)=>{"use strict";var p=_(39210);function E(k){this.options=k,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==k.padding}Fe.exports=E,E.prototype._init=function(){},E.prototype.update=function(H){return 0===H.length?[]:"decrypt"===this.type?this._updateDecrypt(H):this._updateEncrypt(H)},E.prototype._buffer=function(H,x){for(var R=Math.min(this.buffer.length-this.bufferOff,H.length-x),A=0;A<R;A++)this.buffer[this.bufferOff+A]=H[x+A];return this.bufferOff+=R,R},E.prototype._flushBuffer=function(H,x){return this._update(this.buffer,0,H,x),this.bufferOff=0,this.blockSize},E.prototype._updateEncrypt=function(H){var x=0,R=0,O=new Array(((this.bufferOff+H.length)/this.blockSize|0)*this.blockSize);0!==this.bufferOff&&(x+=this._buffer(H,x),this.bufferOff===this.buffer.length&&(R+=this._flushBuffer(O,R)));for(var F=H.length-(H.length-x)%this.blockSize;x<F;x+=this.blockSize)this._update(H,x,O,R),R+=this.blockSize;for(;x<H.length;x++,this.bufferOff++)this.buffer[this.bufferOff]=H[x];return O},E.prototype._updateDecrypt=function(H){for(var x=0,R=0,A=Math.ceil((this.bufferOff+H.length)/this.blockSize)-1,O=new Array(A*this.blockSize);A>0;A--)x+=this._buffer(H,x),R+=this._flushBuffer(O,R);return x+=this._buffer(H,x),O},E.prototype.final=function(H){var x,R;return H&&(x=this.update(H)),R="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),x?x.concat(R):R},E.prototype._pad=function(H,x){if(0===x)return!1;for(;x<H.length;)H[x++]=0;return!0},E.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var H=new Array(this.blockSize);return this._update(this.buffer,0,H,0),H},E.prototype._unpad=function(H){return H},E.prototype._finalDecrypt=function(){p.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var H=new Array(this.blockSize);return this._flushBuffer(H,0),this._unpad(H)}},64166:(Fe,z,_)=>{"use strict";var p=_(39210),E=_(71993),k=_(85671),H=_(10219);function x(){this.tmp=new Array(2),this.keys=null}function R(O){H.call(this,O);var F=new x;this._desState=F,this.deriveKeys(F,O.key)}E(R,H),Fe.exports=R,R.create=function(F){return new R(F)};var A=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];R.prototype.deriveKeys=function(F,L){F.keys=new Array(32),p.equal(L.length,this.blockSize,"Invalid key length");var I=k.readUInt32BE(L,0),Z=k.readUInt32BE(L,4);k.pc1(I,Z,F.tmp,0),I=F.tmp[0],Z=F.tmp[1];for(var j=0;j<F.keys.length;j+=2){var G=A[j>>>1];I=k.r28shl(I,G),Z=k.r28shl(Z,G),k.pc2(I,Z,F.keys,j)}},R.prototype._update=function(F,L,I,Z){var j=this._desState,G=k.readUInt32BE(F,L),re=k.readUInt32BE(F,L+4);k.ip(G,re,j.tmp,0),G=j.tmp[0],re=j.tmp[1],"encrypt"===this.type?this._encrypt(j,G,re,j.tmp,0):this._decrypt(j,G,re,j.tmp,0),re=j.tmp[1],k.writeUInt32BE(I,G=j.tmp[0],Z),k.writeUInt32BE(I,re,Z+4)},R.prototype._pad=function(F,L){if(!1===this.padding)return!1;for(var I=F.length-L,Z=L;Z<F.length;Z++)F[Z]=I;return!0},R.prototype._unpad=function(F){if(!1===this.padding)return F;for(var L=F[F.length-1],I=F.length-L;I<F.length;I++)p.equal(F[I],L);return F.slice(0,F.length-L)},R.prototype._encrypt=function(F,L,I,Z,j){for(var G=L,re=I,te=0;te<F.keys.length;te+=2){var J=F.keys[te],Y=F.keys[te+1];k.expand(re,F.tmp,0);var oe=k.substitute(J^=F.tmp[0],Y^=F.tmp[1]),se=re;re=(G^k.permute(oe))>>>0,G=se}k.rip(re,G,Z,j)},R.prototype._decrypt=function(F,L,I,Z,j){for(var G=I,re=L,te=F.keys.length-2;te>=0;te-=2){var J=F.keys[te],Y=F.keys[te+1];k.expand(G,F.tmp,0);var oe=k.substitute(J^=F.tmp[0],Y^=F.tmp[1]),se=G;G=(re^k.permute(oe))>>>0,re=se}k.rip(G,re,Z,j)}},62122:(Fe,z,_)=>{"use strict";var p=_(39210),E=_(71993),k=_(10219),H=_(64166);function x(A,O){p.equal(O.length,24,"Invalid key length");var F=O.slice(0,8),L=O.slice(8,16),I=O.slice(16,24);this.ciphers="encrypt"===A?[H.create({type:"encrypt",key:F}),H.create({type:"decrypt",key:L}),H.create({type:"encrypt",key:I})]:[H.create({type:"decrypt",key:I}),H.create({type:"encrypt",key:L}),H.create({type:"decrypt",key:F})]}function R(A){k.call(this,A);var O=new x(this.type,this.options.key);this._edeState=O}E(R,k),Fe.exports=R,R.create=function(O){return new R(O)},R.prototype._update=function(O,F,L,I){var Z=this._edeState;Z.ciphers[0]._update(O,F,L,I),Z.ciphers[1]._update(L,I,L,I),Z.ciphers[2]._update(L,I,L,I)},R.prototype._pad=H.prototype._pad,R.prototype._unpad=H.prototype._unpad},85671:(Fe,z)=>{"use strict";z.readUInt32BE=function(H,x){return(H[0+x]<<24|H[1+x]<<16|H[2+x]<<8|H[3+x])>>>0},z.writeUInt32BE=function(H,x,R){H[0+R]=x>>>24,H[1+R]=x>>>16&255,H[2+R]=x>>>8&255,H[3+R]=255&x},z.ip=function(H,x,R,A){for(var O=0,F=0,L=6;L>=0;L-=2){for(var I=0;I<=24;I+=8)O<<=1,O|=x>>>I+L&1;for(I=0;I<=24;I+=8)O<<=1,O|=H>>>I+L&1}for(L=6;L>=0;L-=2){for(I=1;I<=25;I+=8)F<<=1,F|=x>>>I+L&1;for(I=1;I<=25;I+=8)F<<=1,F|=H>>>I+L&1}R[A+0]=O>>>0,R[A+1]=F>>>0},z.rip=function(H,x,R,A){for(var O=0,F=0,L=0;L<4;L++)for(var I=24;I>=0;I-=8)O<<=1,O|=x>>>I+L&1,O<<=1,O|=H>>>I+L&1;for(L=4;L<8;L++)for(I=24;I>=0;I-=8)F<<=1,F|=x>>>I+L&1,F<<=1,F|=H>>>I+L&1;R[A+0]=O>>>0,R[A+1]=F>>>0},z.pc1=function(H,x,R,A){for(var O=0,F=0,L=7;L>=5;L--){for(var I=0;I<=24;I+=8)O<<=1,O|=x>>I+L&1;for(I=0;I<=24;I+=8)O<<=1,O|=H>>I+L&1}for(I=0;I<=24;I+=8)O<<=1,O|=x>>I+L&1;for(L=1;L<=3;L++){for(I=0;I<=24;I+=8)F<<=1,F|=x>>I+L&1;for(I=0;I<=24;I+=8)F<<=1,F|=H>>I+L&1}for(I=0;I<=24;I+=8)F<<=1,F|=H>>I+L&1;R[A+0]=O>>>0,R[A+1]=F>>>0},z.r28shl=function(H,x){return H<<x&268435455|H>>>28-x};var _=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];z.pc2=function(H,x,R,A){for(var O=0,F=0,L=_.length>>>1,I=0;I<L;I++)O<<=1,O|=H>>>_[I]&1;for(I=L;I<_.length;I++)F<<=1,F|=x>>>_[I]&1;R[A+0]=O>>>0,R[A+1]=F>>>0},z.expand=function(H,x,R){var A=0,O=0;A=(1&H)<<5|H>>>27;for(var F=23;F>=15;F-=4)A<<=6,A|=H>>>F&63;for(F=11;F>=3;F-=4)O|=H>>>F&63,O<<=6;O|=(31&H)<<1|H>>>31,x[R+0]=A>>>0,x[R+1]=O>>>0};var p=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];z.substitute=function(H,x){for(var R=0,A=0;A<4;A++)R<<=4,R|=p[64*A+(H>>>18-6*A&63)];for(A=0;A<4;A++)R<<=4,R|=p[256+64*A+(x>>>18-6*A&63)];return R>>>0};var E=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];z.permute=function(H){for(var x=0,R=0;R<E.length;R++)x<<=1,x|=H>>>E[R]&1;return x>>>0},z.padSplit=function(H,x,R){for(var A=H.toString(2);A.length<x;)A="0"+A;for(var O=[],F=0;F<x;F+=R)O.push(A.slice(F,F+R));return O.join(" ")}},4377:(Fe,z,_)=>{var p=_(12727),E=_(23241),k=_(94593),x={binary:!0,hex:!0,base64:!0};z.DiffieHellmanGroup=z.createDiffieHellmanGroup=z.getDiffieHellman=function H(A){var O=new Buffer(E[A].prime,"hex"),F=new Buffer(E[A].gen,"hex");return new k(O,F)},z.createDiffieHellman=z.DiffieHellman=function R(A,O,F,L){return Buffer.isBuffer(O)||void 0===x[O]?R(A,"binary",O,F):(O=O||"binary",L=L||"binary",F=F||new Buffer([2]),Buffer.isBuffer(F)||(F=new Buffer(F,L)),"number"==typeof A?new k(p(A,F),F,!0):(Buffer.isBuffer(A)||(A=new Buffer(A,O)),new k(A,F,!0)))}},94593:(Fe,z,_)=>{var p=_(38280),k=new(_(53459)),H=new p(24),x=new p(11),R=new p(10),A=new p(3),O=new p(7),F=_(12727),L=_(3342);function I(J,Y){return Y=Y||"utf8",Buffer.isBuffer(J)||(J=new Buffer(J,Y)),this._pub=new p(J),this}function Z(J,Y){return Y=Y||"utf8",Buffer.isBuffer(J)||(J=new Buffer(J,Y)),this._priv=new p(J),this}Fe.exports=re;var j={};function re(J,Y,oe){this.setGenerator(Y),this.__prime=new p(J),this._prime=p.mont(this.__prime),this._primeLen=J.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,oe?(this.setPublicKey=I,this.setPrivateKey=Z):this._primeCode=8}function te(J,Y){var oe=new Buffer(J.toArray());return Y?oe.toString(Y):oe}Object.defineProperty(re.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function G(J,Y){var oe=Y.toString("hex"),ae=[oe,J.toString(16)].join("_");if(ae in j)return j[ae];var de,se=0;if(J.isEven()||!F.simpleSieve||!F.fermatTest(J)||!k.test(J))return se+=1,j[ae]=se+="02"===oe||"05"===oe?8:4,se;switch(k.test(J.shrn(1))||(se+=2),oe){case"02":J.mod(H).cmp(x)&&(se+=8);break;case"05":(de=J.mod(R)).cmp(A)&&de.cmp(O)&&(se+=8);break;default:se+=4}return j[ae]=se,se}(this.__prime,this.__gen)),this._primeCode}}),re.prototype.generateKeys=function(){return this._priv||(this._priv=new p(L(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},re.prototype.computeSecret=function(J){var Y=(J=(J=new p(J)).toRed(this._prime)).redPow(this._priv).fromRed(),oe=new Buffer(Y.toArray()),ae=this.getPrime();if(oe.length<ae.length){var se=new Buffer(ae.length-oe.length);se.fill(0),oe=Buffer.concat([se,oe])}return oe},re.prototype.getPublicKey=function(Y){return te(this._pub,Y)},re.prototype.getPrivateKey=function(Y){return te(this._priv,Y)},re.prototype.getPrime=function(J){return te(this.__prime,J)},re.prototype.getGenerator=function(J){return te(this._gen,J)},re.prototype.setGenerator=function(J,Y){return Y=Y||"utf8",Buffer.isBuffer(J)||(J=new Buffer(J,Y)),this.__gen=J,this._gen=new p(J),this}},12727:(Fe,z,_)=>{var p=_(3342);Fe.exports=se,se.simpleSieve=oe,se.fermatTest=ae;var E=_(38280),k=new E(24),x=new(_(53459)),R=new E(1),A=new E(2),O=new E(5),I=(new E(16),new E(8),new E(10)),Z=new E(3),G=(new E(7),new E(11)),re=new E(4),J=(new E(12),null);function oe(de){for(var le=function Y(){if(null!==J)return J;var le=[];le[0]=2;for(var we=1,xe=3;xe<1048576;xe+=2){for(var Ce=Math.ceil(Math.sqrt(xe)),C=0;C<we&&le[C]<=Ce&&xe%le[C]!=0;C++);we!==C&&le[C]<=Ce||(le[we++]=xe)}return J=le,le}(),we=0;we<le.length;we++)if(0===de.modn(le[we]))return 0===de.cmpn(le[we]);return!0}function ae(de){var le=E.mont(de);return 0===A.toRed(le).redPow(de.subn(1)).fromRed().cmpn(1)}function se(de,le){if(de<16)return new E(2===le||5===le?[140,123]:[140,39]);le=new E(le);for(var we,xe;;){for(we=new E(p(Math.ceil(de/8)));we.bitLength()>de;)we.ishrn(1);if(we.isEven()&&we.iadd(R),we.testn(1)||we.iadd(A),le.cmp(A)){if(!le.cmp(O))for(;we.mod(I).cmp(Z);)we.iadd(re)}else for(;we.mod(k).cmp(G);)we.iadd(re);if(oe(xe=we.shrn(1))&&oe(we)&&ae(xe)&&ae(we)&&x.test(xe)&&x.test(we))return we}}},38280:function(Fe,z,_){!function(p,E){"use strict";function k(C,a){if(!C)throw new Error(a||"Assertion failed")}function H(C,a){C.super_=a;var u=function(){};u.prototype=a.prototype,C.prototype=new u,C.prototype.constructor=C}function x(C,a,u){if(x.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(u=a,a=10),this._init(C||0,a||10,u||"be"))}var R;"object"==typeof p?p.exports=x:E.BN=x,x.BN=x,x.wordSize=26;try{R=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:_(66089).Buffer}catch{}function A(C,a){var u=C.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function O(C,a,u){var y=A(C,u);return u-1>=a&&(y|=A(C,u-1)<<4),y}function F(C,a,u,y){for(var g=0,S=Math.min(C.length,u),T=a;T<S;T++){var N=C.charCodeAt(T)-48;g*=y,g+=N>=49?N-49+10:N>=17?N-17+10:N}return g}x.isBN=function(a){return a instanceof x||null!==a&&"object"==typeof a&&a.constructor.wordSize===x.wordSize&&Array.isArray(a.words)},x.max=function(a,u){return a.cmp(u)>0?a:u},x.min=function(a,u){return a.cmp(u)<0?a:u},x.prototype._init=function(a,u,y){if("number"==typeof a)return this._initNumber(a,u,y);if("object"==typeof a)return this._initArray(a,u,y);"hex"===u&&(u=16),k(u===(0|u)&&u>=2&&u<=36);var g=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(g++,this.negative=1),g<a.length&&(16===u?this._parseHex(a,g,y):(this._parseBase(a,u,g),"le"===y&&this._initArray(this.toArray(),u,y)))},x.prototype._initNumber=function(a,u,y){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(k(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),u,y)},x.prototype._initArray=function(a,u,y){if(k("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var S,T,N=0;if("be"===y)for(g=a.length-1,S=0;g>=0;g-=3)this.words[S]|=(T=a[g]|a[g-1]<<8|a[g-2]<<16)<<N&67108863,this.words[S+1]=T>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);else if("le"===y)for(g=0,S=0;g<a.length;g+=3)this.words[S]|=(T=a[g]|a[g+1]<<8|a[g+2]<<16)<<N&67108863,this.words[S+1]=T>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);return this.strip()},x.prototype._parseHex=function(a,u,y){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var N,S=0,T=0;if("be"===y)for(g=a.length-1;g>=u;g-=2)N=O(a,u,g)<<S,this.words[T]|=67108863&N,S>=18?(S-=18,this.words[T+=1]|=N>>>26):S+=8;else for(g=(a.length-u)%2==0?u+1:u;g<a.length;g+=2)N=O(a,u,g)<<S,this.words[T]|=67108863&N,S>=18?(S-=18,this.words[T+=1]|=N>>>26):S+=8;this.strip()},x.prototype._parseBase=function(a,u,y){this.words=[0],this.length=1;for(var g=0,S=1;S<=67108863;S*=u)g++;g--,S=S/u|0;for(var T=a.length-y,N=T%g,M=Math.min(T,T-N)+y,s=0,v=y;v<M;v+=g)s=F(a,v,v+g,u),this.imuln(S),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==N){var W=1;for(s=F(a,v,a.length,u),v=0;v<N;v++)W*=u;this.imuln(W),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},x.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},x.prototype.clone=function(){var a=new x(null);return this.copy(a),a},x.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},x.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},x.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var L=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Z=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function G(C,a,u){u.negative=a.negative^C.negative;var y=C.length+a.length|0;u.length=y,y=y-1|0;var g=0|C.words[0],S=0|a.words[0],T=g*S,M=T/67108864|0;u.words[0]=67108863&T;for(var s=1;s<y;s++){for(var v=M>>>26,W=67108863&M,K=Math.min(s,a.length-1),ee=Math.max(0,s-C.length+1);ee<=K;ee++)v+=(T=(g=0|C.words[s-ee|0])*(S=0|a.words[ee])+W)/67108864|0,W=67108863&T;u.words[s]=0|W,M=0|v}return 0!==M?u.words[s]=0|M:u.length--,u.strip()}x.prototype.toString=function(a,u){var y;if(u=0|u||1,16===(a=a||10)||"hex"===a){y="";for(var g=0,S=0,T=0;T<this.length;T++){var N=this.words[T],M=(16777215&(N<<g|S)).toString(16);y=0!=(S=N>>>24-g&16777215)||T!==this.length-1?L[6-M.length]+M+y:M+y,(g+=2)>=26&&(g-=26,T--)}for(0!==S&&(y=S.toString(16)+y);y.length%u!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(a===(0|a)&&a>=2&&a<=36){var s=I[a],v=Z[a];y="";var W=this.clone();for(W.negative=0;!W.isZero();){var K=W.modn(v).toString(a);y=(W=W.idivn(v)).isZero()?K+y:L[s-K.length]+K+y}for(this.isZero()&&(y="0"+y);y.length%u!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}k(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&k(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},x.prototype.toJSON=function(){return this.toString(16)},x.prototype.toBuffer=function(a,u){return k(typeof R<"u"),this.toArrayLike(R,a,u)},x.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},x.prototype.toArrayLike=function(a,u,y){var g=this.byteLength(),S=y||Math.max(1,g);k(g<=S,"byte array longer than desired length"),k(S>0,"Requested array length <= 0"),this.strip();var M,s,T="le"===u,N=new a(S),v=this.clone();if(T){for(s=0;!v.isZero();s++)M=v.andln(255),v.iushrn(8),N[s]=M;for(;s<S;s++)N[s]=0}else{for(s=0;s<S-g;s++)N[s]=0;for(s=0;!v.isZero();s++)M=v.andln(255),v.iushrn(8),N[S-s-1]=M}return N},x.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var u=a,y=0;return u>=4096&&(y+=13,u>>>=13),u>=64&&(y+=7,u>>>=7),u>=8&&(y+=4,u>>>=4),u>=2&&(y+=2,u>>>=2),y+u},x.prototype._zeroBits=function(a){if(0===a)return 26;var u=a,y=0;return 8191&u||(y+=13,u>>>=13),127&u||(y+=7,u>>>=7),15&u||(y+=4,u>>>=4),3&u||(y+=2,u>>>=2),1&u||y++,y},x.prototype.bitLength=function(){var u=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+u},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var y=this._zeroBits(this.words[u]);if(a+=y,26!==y)break}return a},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},x.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},x.prototype.ior=function(a){return k(!(this.negative|a.negative)),this.iuor(a)},x.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},x.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},x.prototype.iuand=function(a){var u;u=this.length>a.length?a:this;for(var y=0;y<u.length;y++)this.words[y]=this.words[y]&a.words[y];return this.length=u.length,this.strip()},x.prototype.iand=function(a){return k(!(this.negative|a.negative)),this.iuand(a)},x.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},x.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},x.prototype.iuxor=function(a){var u,y;this.length>a.length?(u=this,y=a):(u=a,y=this);for(var g=0;g<y.length;g++)this.words[g]=u.words[g]^y.words[g];if(this!==u)for(;g<u.length;g++)this.words[g]=u.words[g];return this.length=u.length,this.strip()},x.prototype.ixor=function(a){return k(!(this.negative|a.negative)),this.iuxor(a)},x.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},x.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},x.prototype.inotn=function(a){k("number"==typeof a&&a>=0);var u=0|Math.ceil(a/26),y=a%26;this._expand(u),y>0&&u--;for(var g=0;g<u;g++)this.words[g]=67108863&~this.words[g];return y>0&&(this.words[g]=~this.words[g]&67108863>>26-y),this.strip()},x.prototype.notn=function(a){return this.clone().inotn(a)},x.prototype.setn=function(a,u){k("number"==typeof a&&a>=0);var y=a/26|0,g=a%26;return this._expand(y+1),this.words[y]=u?this.words[y]|1<<g:this.words[y]&~(1<<g),this.strip()},x.prototype.iadd=function(a){var u,y,g;if(0!==this.negative&&0===a.negative)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();this.length>a.length?(y=this,g=a):(y=a,g=this);for(var S=0,T=0;T<g.length;T++)this.words[T]=67108863&(u=(0|y.words[T])+(0|g.words[T])+S),S=u>>>26;for(;0!==S&&T<y.length;T++)this.words[T]=67108863&(u=(0|y.words[T])+S),S=u>>>26;if(this.length=y.length,0!==S)this.words[this.length]=S,this.length++;else if(y!==this)for(;T<y.length;T++)this.words[T]=y.words[T];return this},x.prototype.add=function(a){var u;return 0!==a.negative&&0===this.negative?(a.negative=0,u=this.sub(a),a.negative^=1,u):0===a.negative&&0!==this.negative?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},x.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var g,S,y=this.cmp(a);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(g=this,S=a):(g=a,S=this);for(var T=0,N=0;N<S.length;N++)T=(u=(0|g.words[N])-(0|S.words[N])+T)>>26,this.words[N]=67108863&u;for(;0!==T&&N<g.length;N++)T=(u=(0|g.words[N])+T)>>26,this.words[N]=67108863&u;if(0===T&&N<g.length&&g!==this)for(;N<g.length;N++)this.words[N]=g.words[N];return this.length=Math.max(this.length,N),g!==this&&(this.negative=1),this.strip()},x.prototype.sub=function(a){return this.clone().isub(a)};var re=function(a,u,y){var M,s,v,g=a.words,S=u.words,T=y.words,N=0,W=0|g[0],K=8191&W,ee=W>>>13,ce=0|g[1],_e=8191&ce,Pe=ce>>>13,$e=0|g[2],Se=8191&$e,be=$e>>>13,Ne=0|g[3],ye=8191&Ne,Te=Ne>>>13,pe=0|g[4],fe=8191&pe,Q=pe>>>13,ie=0|g[5],ue=8191&ie,Ee=ie>>>13,ke=0|g[6],Ue=8191&ke,Le=ke>>>13,_t=0|g[7],Ve=8191&_t,Be=_t>>>13,lt=0|g[8],B=8191&lt,w=lt>>>13,m=0|g[9],U=8191&m,ne=m>>>13,ge=0|S[0],Ae=8191&ge,Qe=ge>>>13,Bt=0|S[1],gt=8191&Bt,It=Bt>>>13,Gt=0|S[2],un=8191&Gt,an=Gt>>>13,sr=0|S[3],Mn=8191&sr,Qt=sr>>>13,qt=0|S[4],Et=8191&qt,ht=qt>>>13,zt=0|S[5],Jt=8191&zt,dn=zt>>>13,hr=0|S[6],vt=8191&hr,xt=hr>>>13,St=0|S[7],Xe=8191&St,nt=St>>>13,Vt=0|S[8],Ot=8191&Vt,sn=Vt>>>13,Hn=0|S[9],bn=8191&Hn,In=Hn>>>13;y.negative=a.negative^u.negative,y.length=19;var Ar=(N+(M=Math.imul(K,Ae))|0)+((8191&(s=(s=Math.imul(K,Qe))+Math.imul(ee,Ae)|0))<<13)|0;N=((v=Math.imul(ee,Qe))+(s>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,M=Math.imul(_e,Ae),s=(s=Math.imul(_e,Qe))+Math.imul(Pe,Ae)|0,v=Math.imul(Pe,Qe);var Jn=(N+(M=M+Math.imul(K,gt)|0)|0)+((8191&(s=(s=s+Math.imul(K,It)|0)+Math.imul(ee,gt)|0))<<13)|0;N=((v=v+Math.imul(ee,It)|0)+(s>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,M=Math.imul(Se,Ae),s=(s=Math.imul(Se,Qe))+Math.imul(be,Ae)|0,v=Math.imul(be,Qe),M=M+Math.imul(_e,gt)|0,s=(s=s+Math.imul(_e,It)|0)+Math.imul(Pe,gt)|0,v=v+Math.imul(Pe,It)|0;var Ln=(N+(M=M+Math.imul(K,un)|0)|0)+((8191&(s=(s=s+Math.imul(K,an)|0)+Math.imul(ee,un)|0))<<13)|0;N=((v=v+Math.imul(ee,an)|0)+(s>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,M=Math.imul(ye,Ae),s=(s=Math.imul(ye,Qe))+Math.imul(Te,Ae)|0,v=Math.imul(Te,Qe),M=M+Math.imul(Se,gt)|0,s=(s=s+Math.imul(Se,It)|0)+Math.imul(be,gt)|0,v=v+Math.imul(be,It)|0,M=M+Math.imul(_e,un)|0,s=(s=s+Math.imul(_e,an)|0)+Math.imul(Pe,un)|0,v=v+Math.imul(Pe,an)|0;var $n=(N+(M=M+Math.imul(K,Mn)|0)|0)+((8191&(s=(s=s+Math.imul(K,Qt)|0)+Math.imul(ee,Mn)|0))<<13)|0;N=((v=v+Math.imul(ee,Qt)|0)+(s>>>13)|0)+($n>>>26)|0,$n&=67108863,M=Math.imul(fe,Ae),s=(s=Math.imul(fe,Qe))+Math.imul(Q,Ae)|0,v=Math.imul(Q,Qe),M=M+Math.imul(ye,gt)|0,s=(s=s+Math.imul(ye,It)|0)+Math.imul(Te,gt)|0,v=v+Math.imul(Te,It)|0,M=M+Math.imul(Se,un)|0,s=(s=s+Math.imul(Se,an)|0)+Math.imul(be,un)|0,v=v+Math.imul(be,an)|0,M=M+Math.imul(_e,Mn)|0,s=(s=s+Math.imul(_e,Qt)|0)+Math.imul(Pe,Mn)|0,v=v+Math.imul(Pe,Qt)|0;var st=(N+(M=M+Math.imul(K,Et)|0)|0)+((8191&(s=(s=s+Math.imul(K,ht)|0)+Math.imul(ee,Et)|0))<<13)|0;N=((v=v+Math.imul(ee,ht)|0)+(s>>>13)|0)+(st>>>26)|0,st&=67108863,M=Math.imul(ue,Ae),s=(s=Math.imul(ue,Qe))+Math.imul(Ee,Ae)|0,v=Math.imul(Ee,Qe),M=M+Math.imul(fe,gt)|0,s=(s=s+Math.imul(fe,It)|0)+Math.imul(Q,gt)|0,v=v+Math.imul(Q,It)|0,M=M+Math.imul(ye,un)|0,s=(s=s+Math.imul(ye,an)|0)+Math.imul(Te,un)|0,v=v+Math.imul(Te,an)|0,M=M+Math.imul(Se,Mn)|0,s=(s=s+Math.imul(Se,Qt)|0)+Math.imul(be,Mn)|0,v=v+Math.imul(be,Qt)|0,M=M+Math.imul(_e,Et)|0,s=(s=s+Math.imul(_e,ht)|0)+Math.imul(Pe,Et)|0,v=v+Math.imul(Pe,ht)|0;var Ge=(N+(M=M+Math.imul(K,Jt)|0)|0)+((8191&(s=(s=s+Math.imul(K,dn)|0)+Math.imul(ee,Jt)|0))<<13)|0;N=((v=v+Math.imul(ee,dn)|0)+(s>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,M=Math.imul(Ue,Ae),s=(s=Math.imul(Ue,Qe))+Math.imul(Le,Ae)|0,v=Math.imul(Le,Qe),M=M+Math.imul(ue,gt)|0,s=(s=s+Math.imul(ue,It)|0)+Math.imul(Ee,gt)|0,v=v+Math.imul(Ee,It)|0,M=M+Math.imul(fe,un)|0,s=(s=s+Math.imul(fe,an)|0)+Math.imul(Q,un)|0,v=v+Math.imul(Q,an)|0,M=M+Math.imul(ye,Mn)|0,s=(s=s+Math.imul(ye,Qt)|0)+Math.imul(Te,Mn)|0,v=v+Math.imul(Te,Qt)|0,M=M+Math.imul(Se,Et)|0,s=(s=s+Math.imul(Se,ht)|0)+Math.imul(be,Et)|0,v=v+Math.imul(be,ht)|0,M=M+Math.imul(_e,Jt)|0,s=(s=s+Math.imul(_e,dn)|0)+Math.imul(Pe,Jt)|0,v=v+Math.imul(Pe,dn)|0;var ct=(N+(M=M+Math.imul(K,vt)|0)|0)+((8191&(s=(s=s+Math.imul(K,xt)|0)+Math.imul(ee,vt)|0))<<13)|0;N=((v=v+Math.imul(ee,xt)|0)+(s>>>13)|0)+(ct>>>26)|0,ct&=67108863,M=Math.imul(Ve,Ae),s=(s=Math.imul(Ve,Qe))+Math.imul(Be,Ae)|0,v=Math.imul(Be,Qe),M=M+Math.imul(Ue,gt)|0,s=(s=s+Math.imul(Ue,It)|0)+Math.imul(Le,gt)|0,v=v+Math.imul(Le,It)|0,M=M+Math.imul(ue,un)|0,s=(s=s+Math.imul(ue,an)|0)+Math.imul(Ee,un)|0,v=v+Math.imul(Ee,an)|0,M=M+Math.imul(fe,Mn)|0,s=(s=s+Math.imul(fe,Qt)|0)+Math.imul(Q,Mn)|0,v=v+Math.imul(Q,Qt)|0,M=M+Math.imul(ye,Et)|0,s=(s=s+Math.imul(ye,ht)|0)+Math.imul(Te,Et)|0,v=v+Math.imul(Te,ht)|0,M=M+Math.imul(Se,Jt)|0,s=(s=s+Math.imul(Se,dn)|0)+Math.imul(be,Jt)|0,v=v+Math.imul(be,dn)|0,M=M+Math.imul(_e,vt)|0,s=(s=s+Math.imul(_e,xt)|0)+Math.imul(Pe,vt)|0,v=v+Math.imul(Pe,xt)|0;var Yt=(N+(M=M+Math.imul(K,Xe)|0)|0)+((8191&(s=(s=s+Math.imul(K,nt)|0)+Math.imul(ee,Xe)|0))<<13)|0;N=((v=v+Math.imul(ee,nt)|0)+(s>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,M=Math.imul(B,Ae),s=(s=Math.imul(B,Qe))+Math.imul(w,Ae)|0,v=Math.imul(w,Qe),M=M+Math.imul(Ve,gt)|0,s=(s=s+Math.imul(Ve,It)|0)+Math.imul(Be,gt)|0,v=v+Math.imul(Be,It)|0,M=M+Math.imul(Ue,un)|0,s=(s=s+Math.imul(Ue,an)|0)+Math.imul(Le,un)|0,v=v+Math.imul(Le,an)|0,M=M+Math.imul(ue,Mn)|0,s=(s=s+Math.imul(ue,Qt)|0)+Math.imul(Ee,Mn)|0,v=v+Math.imul(Ee,Qt)|0,M=M+Math.imul(fe,Et)|0,s=(s=s+Math.imul(fe,ht)|0)+Math.imul(Q,Et)|0,v=v+Math.imul(Q,ht)|0,M=M+Math.imul(ye,Jt)|0,s=(s=s+Math.imul(ye,dn)|0)+Math.imul(Te,Jt)|0,v=v+Math.imul(Te,dn)|0,M=M+Math.imul(Se,vt)|0,s=(s=s+Math.imul(Se,xt)|0)+Math.imul(be,vt)|0,v=v+Math.imul(be,xt)|0,M=M+Math.imul(_e,Xe)|0,s=(s=s+Math.imul(_e,nt)|0)+Math.imul(Pe,Xe)|0,v=v+Math.imul(Pe,nt)|0;var _n=(N+(M=M+Math.imul(K,Ot)|0)|0)+((8191&(s=(s=s+Math.imul(K,sn)|0)+Math.imul(ee,Ot)|0))<<13)|0;N=((v=v+Math.imul(ee,sn)|0)+(s>>>13)|0)+(_n>>>26)|0,_n&=67108863,M=Math.imul(U,Ae),s=(s=Math.imul(U,Qe))+Math.imul(ne,Ae)|0,v=Math.imul(ne,Qe),M=M+Math.imul(B,gt)|0,s=(s=s+Math.imul(B,It)|0)+Math.imul(w,gt)|0,v=v+Math.imul(w,It)|0,M=M+Math.imul(Ve,un)|0,s=(s=s+Math.imul(Ve,an)|0)+Math.imul(Be,un)|0,v=v+Math.imul(Be,an)|0,M=M+Math.imul(Ue,Mn)|0,s=(s=s+Math.imul(Ue,Qt)|0)+Math.imul(Le,Mn)|0,v=v+Math.imul(Le,Qt)|0,M=M+Math.imul(ue,Et)|0,s=(s=s+Math.imul(ue,ht)|0)+Math.imul(Ee,Et)|0,v=v+Math.imul(Ee,ht)|0,M=M+Math.imul(fe,Jt)|0,s=(s=s+Math.imul(fe,dn)|0)+Math.imul(Q,Jt)|0,v=v+Math.imul(Q,dn)|0,M=M+Math.imul(ye,vt)|0,s=(s=s+Math.imul(ye,xt)|0)+Math.imul(Te,vt)|0,v=v+Math.imul(Te,xt)|0,M=M+Math.imul(Se,Xe)|0,s=(s=s+Math.imul(Se,nt)|0)+Math.imul(be,Xe)|0,v=v+Math.imul(be,nt)|0,M=M+Math.imul(_e,Ot)|0,s=(s=s+Math.imul(_e,sn)|0)+Math.imul(Pe,Ot)|0,v=v+Math.imul(Pe,sn)|0;var Wn=(N+(M=M+Math.imul(K,bn)|0)|0)+((8191&(s=(s=s+Math.imul(K,In)|0)+Math.imul(ee,bn)|0))<<13)|0;N=((v=v+Math.imul(ee,In)|0)+(s>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,M=Math.imul(U,gt),s=(s=Math.imul(U,It))+Math.imul(ne,gt)|0,v=Math.imul(ne,It),M=M+Math.imul(B,un)|0,s=(s=s+Math.imul(B,an)|0)+Math.imul(w,un)|0,v=v+Math.imul(w,an)|0,M=M+Math.imul(Ve,Mn)|0,s=(s=s+Math.imul(Ve,Qt)|0)+Math.imul(Be,Mn)|0,v=v+Math.imul(Be,Qt)|0,M=M+Math.imul(Ue,Et)|0,s=(s=s+Math.imul(Ue,ht)|0)+Math.imul(Le,Et)|0,v=v+Math.imul(Le,ht)|0,M=M+Math.imul(ue,Jt)|0,s=(s=s+Math.imul(ue,dn)|0)+Math.imul(Ee,Jt)|0,v=v+Math.imul(Ee,dn)|0,M=M+Math.imul(fe,vt)|0,s=(s=s+Math.imul(fe,xt)|0)+Math.imul(Q,vt)|0,v=v+Math.imul(Q,xt)|0,M=M+Math.imul(ye,Xe)|0,s=(s=s+Math.imul(ye,nt)|0)+Math.imul(Te,Xe)|0,v=v+Math.imul(Te,nt)|0,M=M+Math.imul(Se,Ot)|0,s=(s=s+Math.imul(Se,sn)|0)+Math.imul(be,Ot)|0,v=v+Math.imul(be,sn)|0;var Yn=(N+(M=M+Math.imul(_e,bn)|0)|0)+((8191&(s=(s=s+Math.imul(_e,In)|0)+Math.imul(Pe,bn)|0))<<13)|0;N=((v=v+Math.imul(Pe,In)|0)+(s>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,M=Math.imul(U,un),s=(s=Math.imul(U,an))+Math.imul(ne,un)|0,v=Math.imul(ne,an),M=M+Math.imul(B,Mn)|0,s=(s=s+Math.imul(B,Qt)|0)+Math.imul(w,Mn)|0,v=v+Math.imul(w,Qt)|0,M=M+Math.imul(Ve,Et)|0,s=(s=s+Math.imul(Ve,ht)|0)+Math.imul(Be,Et)|0,v=v+Math.imul(Be,ht)|0,M=M+Math.imul(Ue,Jt)|0,s=(s=s+Math.imul(Ue,dn)|0)+Math.imul(Le,Jt)|0,v=v+Math.imul(Le,dn)|0,M=M+Math.imul(ue,vt)|0,s=(s=s+Math.imul(ue,xt)|0)+Math.imul(Ee,vt)|0,v=v+Math.imul(Ee,xt)|0,M=M+Math.imul(fe,Xe)|0,s=(s=s+Math.imul(fe,nt)|0)+Math.imul(Q,Xe)|0,v=v+Math.imul(Q,nt)|0,M=M+Math.imul(ye,Ot)|0,s=(s=s+Math.imul(ye,sn)|0)+Math.imul(Te,Ot)|0,v=v+Math.imul(Te,sn)|0;var yr=(N+(M=M+Math.imul(Se,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Se,In)|0)+Math.imul(be,bn)|0))<<13)|0;N=((v=v+Math.imul(be,In)|0)+(s>>>13)|0)+(yr>>>26)|0,yr&=67108863,M=Math.imul(U,Mn),s=(s=Math.imul(U,Qt))+Math.imul(ne,Mn)|0,v=Math.imul(ne,Qt),M=M+Math.imul(B,Et)|0,s=(s=s+Math.imul(B,ht)|0)+Math.imul(w,Et)|0,v=v+Math.imul(w,ht)|0,M=M+Math.imul(Ve,Jt)|0,s=(s=s+Math.imul(Ve,dn)|0)+Math.imul(Be,Jt)|0,v=v+Math.imul(Be,dn)|0,M=M+Math.imul(Ue,vt)|0,s=(s=s+Math.imul(Ue,xt)|0)+Math.imul(Le,vt)|0,v=v+Math.imul(Le,xt)|0,M=M+Math.imul(ue,Xe)|0,s=(s=s+Math.imul(ue,nt)|0)+Math.imul(Ee,Xe)|0,v=v+Math.imul(Ee,nt)|0,M=M+Math.imul(fe,Ot)|0,s=(s=s+Math.imul(fe,sn)|0)+Math.imul(Q,Ot)|0,v=v+Math.imul(Q,sn)|0;var Nr=(N+(M=M+Math.imul(ye,bn)|0)|0)+((8191&(s=(s=s+Math.imul(ye,In)|0)+Math.imul(Te,bn)|0))<<13)|0;N=((v=v+Math.imul(Te,In)|0)+(s>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,M=Math.imul(U,Et),s=(s=Math.imul(U,ht))+Math.imul(ne,Et)|0,v=Math.imul(ne,ht),M=M+Math.imul(B,Jt)|0,s=(s=s+Math.imul(B,dn)|0)+Math.imul(w,Jt)|0,v=v+Math.imul(w,dn)|0,M=M+Math.imul(Ve,vt)|0,s=(s=s+Math.imul(Ve,xt)|0)+Math.imul(Be,vt)|0,v=v+Math.imul(Be,xt)|0,M=M+Math.imul(Ue,Xe)|0,s=(s=s+Math.imul(Ue,nt)|0)+Math.imul(Le,Xe)|0,v=v+Math.imul(Le,nt)|0,M=M+Math.imul(ue,Ot)|0,s=(s=s+Math.imul(ue,sn)|0)+Math.imul(Ee,Ot)|0,v=v+Math.imul(Ee,sn)|0;var Ur=(N+(M=M+Math.imul(fe,bn)|0)|0)+((8191&(s=(s=s+Math.imul(fe,In)|0)+Math.imul(Q,bn)|0))<<13)|0;N=((v=v+Math.imul(Q,In)|0)+(s>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,M=Math.imul(U,Jt),s=(s=Math.imul(U,dn))+Math.imul(ne,Jt)|0,v=Math.imul(ne,dn),M=M+Math.imul(B,vt)|0,s=(s=s+Math.imul(B,xt)|0)+Math.imul(w,vt)|0,v=v+Math.imul(w,xt)|0,M=M+Math.imul(Ve,Xe)|0,s=(s=s+Math.imul(Ve,nt)|0)+Math.imul(Be,Xe)|0,v=v+Math.imul(Be,nt)|0,M=M+Math.imul(Ue,Ot)|0,s=(s=s+Math.imul(Ue,sn)|0)+Math.imul(Le,Ot)|0,v=v+Math.imul(Le,sn)|0;var Kr=(N+(M=M+Math.imul(ue,bn)|0)|0)+((8191&(s=(s=s+Math.imul(ue,In)|0)+Math.imul(Ee,bn)|0))<<13)|0;N=((v=v+Math.imul(Ee,In)|0)+(s>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,M=Math.imul(U,vt),s=(s=Math.imul(U,xt))+Math.imul(ne,vt)|0,v=Math.imul(ne,xt),M=M+Math.imul(B,Xe)|0,s=(s=s+Math.imul(B,nt)|0)+Math.imul(w,Xe)|0,v=v+Math.imul(w,nt)|0,M=M+Math.imul(Ve,Ot)|0,s=(s=s+Math.imul(Ve,sn)|0)+Math.imul(Be,Ot)|0,v=v+Math.imul(Be,sn)|0;var Xr=(N+(M=M+Math.imul(Ue,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Ue,In)|0)+Math.imul(Le,bn)|0))<<13)|0;N=((v=v+Math.imul(Le,In)|0)+(s>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,M=Math.imul(U,Xe),s=(s=Math.imul(U,nt))+Math.imul(ne,Xe)|0,v=Math.imul(ne,nt),M=M+Math.imul(B,Ot)|0,s=(s=s+Math.imul(B,sn)|0)+Math.imul(w,Ot)|0,v=v+Math.imul(w,sn)|0;var ri=(N+(M=M+Math.imul(Ve,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Ve,In)|0)+Math.imul(Be,bn)|0))<<13)|0;N=((v=v+Math.imul(Be,In)|0)+(s>>>13)|0)+(ri>>>26)|0,ri&=67108863,M=Math.imul(U,Ot),s=(s=Math.imul(U,sn))+Math.imul(ne,Ot)|0,v=Math.imul(ne,sn);var en=(N+(M=M+Math.imul(B,bn)|0)|0)+((8191&(s=(s=s+Math.imul(B,In)|0)+Math.imul(w,bn)|0))<<13)|0;N=((v=v+Math.imul(w,In)|0)+(s>>>13)|0)+(en>>>26)|0,en&=67108863;var wn=(N+(M=Math.imul(U,bn))|0)+((8191&(s=(s=Math.imul(U,In))+Math.imul(ne,bn)|0))<<13)|0;return N=((v=Math.imul(ne,In))+(s>>>13)|0)+(wn>>>26)|0,wn&=67108863,T[0]=Ar,T[1]=Jn,T[2]=Ln,T[3]=$n,T[4]=st,T[5]=Ge,T[6]=ct,T[7]=Yt,T[8]=_n,T[9]=Wn,T[10]=Yn,T[11]=yr,T[12]=Nr,T[13]=Ur,T[14]=Kr,T[15]=Xr,T[16]=ri,T[17]=en,T[18]=wn,0!==N&&(T[19]=N,y.length++),y};function J(C,a,u){return(new Y).mulp(C,a,u)}function Y(C,a){this.x=C,this.y=a}Math.imul||(re=G),x.prototype.mulTo=function(a,u){var y,g=this.length+a.length;return y=10===this.length&&10===a.length?re(this,a,u):g<63?G(this,a,u):g<1024?function te(C,a,u){u.negative=a.negative^C.negative,u.length=C.length+a.length;for(var y=0,g=0,S=0;S<u.length-1;S++){var T=g;g=0;for(var N=67108863&y,M=Math.min(S,a.length-1),s=Math.max(0,S-C.length+1);s<=M;s++){var ee=(0|C.words[S-s])*(0|a.words[s]),ce=67108863&ee;N=67108863&(ce=ce+N|0),g+=(T=(T=T+(ee/67108864|0)|0)+(ce>>>26)|0)>>>26,T&=67108863}u.words[S]=N,y=T,T=g}return 0!==y?u.words[S]=y:u.length--,u.strip()}(this,a,u):J(this,a,u),y},Y.prototype.makeRBT=function(a){for(var u=new Array(a),y=x.prototype._countBits(a)-1,g=0;g<a;g++)u[g]=this.revBin(g,y,a);return u},Y.prototype.revBin=function(a,u,y){if(0===a||a===y-1)return a;for(var g=0,S=0;S<u;S++)g|=(1&a)<<u-S-1,a>>=1;return g},Y.prototype.permute=function(a,u,y,g,S,T){for(var N=0;N<T;N++)g[N]=u[a[N]],S[N]=y[a[N]]},Y.prototype.transform=function(a,u,y,g,S,T){this.permute(T,a,u,y,g,S);for(var N=1;N<S;N<<=1)for(var M=N<<1,s=Math.cos(2*Math.PI/M),v=Math.sin(2*Math.PI/M),W=0;W<S;W+=M)for(var K=s,ee=v,ce=0;ce<N;ce++){var _e=y[W+ce],Pe=g[W+ce],$e=y[W+ce+N],Se=g[W+ce+N],be=K*$e-ee*Se;Se=K*Se+ee*$e,y[W+ce]=_e+($e=be),g[W+ce]=Pe+Se,y[W+ce+N]=_e-$e,g[W+ce+N]=Pe-Se,ce!==M&&(be=s*K-v*ee,ee=s*ee+v*K,K=be)}},Y.prototype.guessLen13b=function(a,u){var y=1|Math.max(u,a),g=1&y,S=0;for(y=y/2|0;y;y>>>=1)S++;return 1<<S+1+g},Y.prototype.conjugate=function(a,u,y){if(!(y<=1))for(var g=0;g<y/2;g++){var S=a[g];a[g]=a[y-g-1],a[y-g-1]=S,S=u[g],u[g]=-u[y-g-1],u[y-g-1]=-S}},Y.prototype.normalize13b=function(a,u){for(var y=0,g=0;g<u/2;g++){var S=8192*Math.round(a[2*g+1]/u)+Math.round(a[2*g]/u)+y;a[g]=67108863&S,y=S<67108864?0:S/67108864|0}return a},Y.prototype.convert13b=function(a,u,y,g){for(var S=0,T=0;T<u;T++)y[2*T]=8191&(S+=0|a[T]),y[2*T+1]=8191&(S>>>=13),S>>>=13;for(T=2*u;T<g;++T)y[T]=0;k(0===S),k(!(-8192&S))},Y.prototype.stub=function(a){for(var u=new Array(a),y=0;y<a;y++)u[y]=0;return u},Y.prototype.mulp=function(a,u,y){var g=2*this.guessLen13b(a.length,u.length),S=this.makeRBT(g),T=this.stub(g),N=new Array(g),M=new Array(g),s=new Array(g),v=new Array(g),W=new Array(g),K=new Array(g),ee=y.words;ee.length=g,this.convert13b(a.words,a.length,N,g),this.convert13b(u.words,u.length,v,g),this.transform(N,T,M,s,g,S),this.transform(v,T,W,K,g,S);for(var ce=0;ce<g;ce++){var _e=M[ce]*W[ce]-s[ce]*K[ce];s[ce]=M[ce]*K[ce]+s[ce]*W[ce],M[ce]=_e}return this.conjugate(M,s,g),this.transform(M,s,ee,T,g,S),this.conjugate(ee,T,g),this.normalize13b(ee,g),y.negative=a.negative^u.negative,y.length=a.length+u.length,y.strip()},x.prototype.mul=function(a){var u=new x(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},x.prototype.mulf=function(a){var u=new x(null);return u.words=new Array(this.length+a.length),J(this,a,u)},x.prototype.imul=function(a){return this.clone().mulTo(a,this)},x.prototype.imuln=function(a){k("number"==typeof a),k(a<67108864);for(var u=0,y=0;y<this.length;y++){var g=(0|this.words[y])*a,S=(67108863&g)+(67108863&u);u>>=26,u+=g/67108864|0,u+=S>>>26,this.words[y]=67108863&S}return 0!==u&&(this.words[y]=u,this.length++),this},x.prototype.muln=function(a){return this.clone().imuln(a)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(a){var u=function j(C){for(var a=new Array(C.bitLength()),u=0;u<a.length;u++){var g=u%26;a[u]=(C.words[u/26|0]&1<<g)>>>g}return a}(a);if(0===u.length)return new x(1);for(var y=this,g=0;g<u.length&&0===u[g];g++,y=y.sqr());if(++g<u.length)for(var S=y.sqr();g<u.length;g++,S=S.sqr())0!==u[g]&&(y=y.mul(S));return y},x.prototype.iushln=function(a){k("number"==typeof a&&a>=0);var S,u=a%26,y=(a-u)/26,g=67108863>>>26-u<<26-u;if(0!==u){var T=0;for(S=0;S<this.length;S++){var N=this.words[S]&g;this.words[S]=(0|this.words[S])-N<<u|T,T=N>>>26-u}T&&(this.words[S]=T,this.length++)}if(0!==y){for(S=this.length-1;S>=0;S--)this.words[S+y]=this.words[S];for(S=0;S<y;S++)this.words[S]=0;this.length+=y}return this.strip()},x.prototype.ishln=function(a){return k(0===this.negative),this.iushln(a)},x.prototype.iushrn=function(a,u,y){var g;k("number"==typeof a&&a>=0),g=u?(u-u%26)/26:0;var S=a%26,T=Math.min((a-S)/26,this.length),N=67108863^67108863>>>S<<S,M=y;if(g-=T,g=Math.max(0,g),M){for(var s=0;s<T;s++)M.words[s]=this.words[s];M.length=T}if(0!==T)if(this.length>T)for(this.length-=T,s=0;s<this.length;s++)this.words[s]=this.words[s+T];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=g);s--){var W=0|this.words[s];this.words[s]=v<<26-S|W>>>S,v=W&N}return M&&0!==v&&(M.words[M.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},x.prototype.ishrn=function(a,u,y){return k(0===this.negative),this.iushrn(a,u,y)},x.prototype.shln=function(a){return this.clone().ishln(a)},x.prototype.ushln=function(a){return this.clone().iushln(a)},x.prototype.shrn=function(a){return this.clone().ishrn(a)},x.prototype.ushrn=function(a){return this.clone().iushrn(a)},x.prototype.testn=function(a){k("number"==typeof a&&a>=0);var u=a%26,y=(a-u)/26;return!(this.length<=y||!(this.words[y]&1<<u))},x.prototype.imaskn=function(a){k("number"==typeof a&&a>=0);var u=a%26,y=(a-u)/26;return k(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==u&&y++,this.length=Math.min(y,this.length),0!==u&&(this.words[this.length-1]&=67108863^67108863>>>u<<u),this.strip())},x.prototype.maskn=function(a){return this.clone().imaskn(a)},x.prototype.iaddn=function(a){return k("number"==typeof a),k(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},x.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},x.prototype.isubn=function(a){if(k("number"==typeof a),k(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},x.prototype.addn=function(a){return this.clone().iaddn(a)},x.prototype.subn=function(a){return this.clone().isubn(a)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(a,u,y){var S;this._expand(a.length+y);var T,N=0;for(S=0;S<a.length;S++){T=(0|this.words[S+y])+N;var M=(0|a.words[S])*u;N=((T-=67108863&M)>>26)-(M/67108864|0),this.words[S+y]=67108863&T}for(;S<this.length-y;S++)N=(T=(0|this.words[S+y])+N)>>26,this.words[S+y]=67108863&T;if(0===N)return this.strip();for(k(-1===N),N=0,S=0;S<this.length;S++)N=(T=-(0|this.words[S])+N)>>26,this.words[S]=67108863&T;return this.negative=1,this.strip()},x.prototype._wordDiv=function(a,u){var y,g=this.clone(),S=a,T=0|S.words[S.length-1];0!=(y=26-this._countBits(T))&&(S=S.ushln(y),g.iushln(y),T=0|S.words[S.length-1]);var s,M=g.length-S.length;if("mod"!==u){(s=new x(null)).length=M+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var W=g.clone()._ishlnsubmul(S,1,M);0===W.negative&&(g=W,s&&(s.words[M]=1));for(var K=M-1;K>=0;K--){var ee=67108864*(0|g.words[S.length+K])+(0|g.words[S.length+K-1]);for(ee=Math.min(ee/T|0,67108863),g._ishlnsubmul(S,ee,K);0!==g.negative;)ee--,g.negative=0,g._ishlnsubmul(S,1,K),g.isZero()||(g.negative^=1);s&&(s.words[K]=ee)}return s&&s.strip(),g.strip(),"div"!==u&&0!==y&&g.iushrn(y),{div:s||null,mod:g}},x.prototype.divmod=function(a,u,y){return k(!a.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===a.negative?(T=this.neg().divmod(a,u),"mod"!==u&&(g=T.div.neg()),"div"!==u&&(S=T.mod.neg(),y&&0!==S.negative&&S.iadd(a)),{div:g,mod:S}):0===this.negative&&0!==a.negative?(T=this.divmod(a.neg(),u),"mod"!==u&&(g=T.div.neg()),{div:g,mod:T.mod}):this.negative&a.negative?(T=this.neg().divmod(a.neg(),u),"div"!==u&&(S=T.mod.neg(),y&&0!==S.negative&&S.isub(a)),{div:T.div,mod:S}):a.length>this.length||this.cmp(a)<0?{div:new x(0),mod:this}:1===a.length?"div"===u?{div:this.divn(a.words[0]),mod:null}:"mod"===u?{div:null,mod:new x(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new x(this.modn(a.words[0]))}:this._wordDiv(a,u);var g,S,T},x.prototype.div=function(a){return this.divmod(a,"div",!1).div},x.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},x.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},x.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var y=0!==u.div.negative?u.mod.isub(a):u.mod,g=a.ushrn(1),S=a.andln(1),T=y.cmp(g);return T<0||1===S&&0===T?u.div:0!==u.div.negative?u.div.isubn(1):u.div.iaddn(1)},x.prototype.modn=function(a){k(a<=67108863);for(var u=(1<<26)%a,y=0,g=this.length-1;g>=0;g--)y=(u*y+(0|this.words[g]))%a;return y},x.prototype.idivn=function(a){k(a<=67108863);for(var u=0,y=this.length-1;y>=0;y--){var g=(0|this.words[y])+67108864*u;this.words[y]=g/a|0,u=g%a}return this.strip()},x.prototype.divn=function(a){return this.clone().idivn(a)},x.prototype.egcd=function(a){k(0===a.negative),k(!a.isZero());var u=this,y=a.clone();u=0!==u.negative?u.umod(a):u.clone();for(var g=new x(1),S=new x(0),T=new x(0),N=new x(1),M=0;u.isEven()&&y.isEven();)u.iushrn(1),y.iushrn(1),++M;for(var s=y.clone(),v=u.clone();!u.isZero();){for(var W=0,K=1;!(u.words[0]&K)&&W<26;++W,K<<=1);if(W>0)for(u.iushrn(W);W-- >0;)(g.isOdd()||S.isOdd())&&(g.iadd(s),S.isub(v)),g.iushrn(1),S.iushrn(1);for(var ee=0,ce=1;!(y.words[0]&ce)&&ee<26;++ee,ce<<=1);if(ee>0)for(y.iushrn(ee);ee-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(s),N.isub(v)),T.iushrn(1),N.iushrn(1);u.cmp(y)>=0?(u.isub(y),g.isub(T),S.isub(N)):(y.isub(u),T.isub(g),N.isub(S))}return{a:T,b:N,gcd:y.iushln(M)}},x.prototype._invmp=function(a){k(0===a.negative),k(!a.isZero());var W,u=this,y=a.clone();u=0!==u.negative?u.umod(a):u.clone();for(var g=new x(1),S=new x(0),T=y.clone();u.cmpn(1)>0&&y.cmpn(1)>0;){for(var N=0,M=1;!(u.words[0]&M)&&N<26;++N,M<<=1);if(N>0)for(u.iushrn(N);N-- >0;)g.isOdd()&&g.iadd(T),g.iushrn(1);for(var s=0,v=1;!(y.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(y.iushrn(s);s-- >0;)S.isOdd()&&S.iadd(T),S.iushrn(1);u.cmp(y)>=0?(u.isub(y),g.isub(S)):(y.isub(u),S.isub(g))}return(W=0===u.cmpn(1)?g:S).cmpn(0)<0&&W.iadd(a),W},x.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),y=a.clone();u.negative=0,y.negative=0;for(var g=0;u.isEven()&&y.isEven();g++)u.iushrn(1),y.iushrn(1);for(;;){for(;u.isEven();)u.iushrn(1);for(;y.isEven();)y.iushrn(1);var S=u.cmp(y);if(S<0){var T=u;u=y,y=T}else if(0===S||0===y.cmpn(1))break;u.isub(y)}return y.iushln(g)},x.prototype.invm=function(a){return this.egcd(a).a.umod(a)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(a){return this.words[0]&a},x.prototype.bincn=function(a){k("number"==typeof a);var u=a%26,y=(a-u)/26,g=1<<u;if(this.length<=y)return this._expand(y+1),this.words[y]|=g,this;for(var S=g,T=y;0!==S&&T<this.length;T++){var N=0|this.words[T];S=(N+=S)>>>26,this.words[T]=N&=67108863}return 0!==S&&(this.words[T]=S,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(a){var y,u=a<0;if(0!==this.negative&&!u)return-1;if(0===this.negative&&u)return 1;if(this.strip(),this.length>1)y=1;else{u&&(a=-a),k(a<=67108863,"Number is too big");var g=0|this.words[0];y=g===a?0:g<a?-1:1}return 0!==this.negative?0|-y:y},x.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var u=this.ucmp(a);return 0!==this.negative?0|-u:u},x.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,y=this.length-1;y>=0;y--){var g=0|this.words[y],S=0|a.words[y];if(g!==S){g<S?u=-1:g>S&&(u=1);break}}return u},x.prototype.gtn=function(a){return 1===this.cmpn(a)},x.prototype.gt=function(a){return 1===this.cmp(a)},x.prototype.gten=function(a){return this.cmpn(a)>=0},x.prototype.gte=function(a){return this.cmp(a)>=0},x.prototype.ltn=function(a){return-1===this.cmpn(a)},x.prototype.lt=function(a){return-1===this.cmp(a)},x.prototype.lten=function(a){return this.cmpn(a)<=0},x.prototype.lte=function(a){return this.cmp(a)<=0},x.prototype.eqn=function(a){return 0===this.cmpn(a)},x.prototype.eq=function(a){return 0===this.cmp(a)},x.red=function(a){return new xe(a)},x.prototype.toRed=function(a){return k(!this.red,"Already a number in reduction context"),k(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},x.prototype.fromRed=function(){return k(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(a){return this.red=a,this},x.prototype.forceRed=function(a){return k(!this.red,"Already a number in reduction context"),this._forceRed(a)},x.prototype.redAdd=function(a){return k(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},x.prototype.redIAdd=function(a){return k(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},x.prototype.redSub=function(a){return k(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},x.prototype.redISub=function(a){return k(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},x.prototype.redShl=function(a){return k(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},x.prototype.redMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},x.prototype.redIMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},x.prototype.redSqr=function(){return k(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return k(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return k(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return k(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return k(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(a){return k(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var oe={k256:null,p224:null,p192:null,p25519:null};function ae(C,a){this.name=C,this.p=new x(a,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function se(){ae.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function de(){ae.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function le(){ae.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function we(){ae.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function xe(C){if("string"==typeof C){var a=x._prime(C);this.m=a.p,this.prime=a}else k(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Ce(C){xe.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ae.prototype._tmp=function(){var a=new x(null);return a.words=new Array(Math.ceil(this.n/13)),a},ae.prototype.ireduce=function(a){var y,u=a;do{this.split(u,this.tmp),y=(u=(u=this.imulK(u)).iadd(this.tmp)).bitLength()}while(y>this.n);var g=y<this.n?-1:u.ucmp(this.p);return 0===g?(u.words[0]=0,u.length=1):g>0?u.isub(this.p):void 0!==u.strip?u.strip():u._strip(),u},ae.prototype.split=function(a,u){a.iushrn(this.n,0,u)},ae.prototype.imulK=function(a){return a.imul(this.k)},H(se,ae),se.prototype.split=function(a,u){for(var y=4194303,g=Math.min(a.length,9),S=0;S<g;S++)u.words[S]=a.words[S];if(u.length=g,a.length<=9)return a.words[0]=0,void(a.length=1);var T=a.words[9];for(u.words[u.length++]=T&y,S=10;S<a.length;S++){var N=0|a.words[S];a.words[S-10]=(N&y)<<4|T>>>22,T=N}a.words[S-10]=T>>>=22,a.length-=0===T&&a.length>10?10:9},se.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,y=0;y<a.length;y++){var g=0|a.words[y];a.words[y]=67108863&(u+=977*g),u=64*g+(u/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},H(de,ae),H(le,ae),H(we,ae),we.prototype.imulK=function(a){for(var u=0,y=0;y<a.length;y++){var g=19*(0|a.words[y])+u,S=67108863&g;g>>>=26,a.words[y]=S,u=g}return 0!==u&&(a.words[a.length++]=u),a},x._prime=function(a){if(oe[a])return oe[a];var u;if("k256"===a)u=new se;else if("p224"===a)u=new de;else if("p192"===a)u=new le;else{if("p25519"!==a)throw new Error("Unknown prime "+a);u=new we}return oe[a]=u,u},xe.prototype._verify1=function(a){k(0===a.negative,"red works only with positives"),k(a.red,"red works only with red numbers")},xe.prototype._verify2=function(a,u){k(!(a.negative|u.negative),"red works only with positives"),k(a.red&&a.red===u.red,"red works only with red numbers")},xe.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},xe.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},xe.prototype.add=function(a,u){this._verify2(a,u);var y=a.add(u);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},xe.prototype.iadd=function(a,u){this._verify2(a,u);var y=a.iadd(u);return y.cmp(this.m)>=0&&y.isub(this.m),y},xe.prototype.sub=function(a,u){this._verify2(a,u);var y=a.sub(u);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},xe.prototype.isub=function(a,u){this._verify2(a,u);var y=a.isub(u);return y.cmpn(0)<0&&y.iadd(this.m),y},xe.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},xe.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},xe.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},xe.prototype.isqr=function(a){return this.imul(a,a.clone())},xe.prototype.sqr=function(a){return this.mul(a,a)},xe.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(k(u%2==1),3===u){var y=this.m.add(new x(1)).iushrn(2);return this.pow(a,y)}for(var g=this.m.subn(1),S=0;!g.isZero()&&0===g.andln(1);)S++,g.iushrn(1);k(!g.isZero());var T=new x(1).toRed(this),N=T.redNeg(),M=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new x(2*s*s).toRed(this);0!==this.pow(s,M).cmp(N);)s.redIAdd(N);for(var v=this.pow(s,g),W=this.pow(a,g.addn(1).iushrn(1)),K=this.pow(a,g),ee=S;0!==K.cmp(T);){for(var ce=K,_e=0;0!==ce.cmp(T);_e++)ce=ce.redSqr();k(_e<ee);var Pe=this.pow(v,new x(1).iushln(ee-_e-1));W=W.redMul(Pe),v=Pe.redSqr(),K=K.redMul(v),ee=_e}return W},xe.prototype.invm=function(a){var u=a._invmp(this.m);return 0!==u.negative?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},xe.prototype.pow=function(a,u){if(u.isZero())return new x(1).toRed(this);if(0===u.cmpn(1))return a.clone();var g=new Array(16);g[0]=new x(1).toRed(this),g[1]=a;for(var S=2;S<g.length;S++)g[S]=this.mul(g[S-1],a);var T=g[0],N=0,M=0,s=u.bitLength()%26;for(0===s&&(s=26),S=u.length-1;S>=0;S--){for(var v=u.words[S],W=s-1;W>=0;W--){var K=v>>W&1;T!==g[0]&&(T=this.sqr(T)),0!==K||0!==N?(N<<=1,N|=K,(4==++M||0===S&&0===W)&&(T=this.mul(T,g[N]),M=0,N=0)):M=0}s=26}return T},xe.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},xe.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},x.mont=function(a){return new Ce(a)},H(Ce,xe),Ce.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},Ce.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},Ce.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var y=a.imul(u),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(g).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},Ce.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new x(0)._forceRed(this);var y=a.mul(u),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(g).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},Ce.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(Fe=_.nmd(Fe),this)},48967:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.ephemeralKeySize=z.symmetricNonceLength=z.symmetricAlgorithm=z.isHkdfKeyCompressed=z.isEphemeralKeyCompressed=z.ellipticCurve=z.ECIES_CONFIG=void 0;var p=_(29277);z.ECIES_CONFIG=new(function(){return function F(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16}}()),z.ellipticCurve=function(){return z.ECIES_CONFIG.ellipticCurve},z.isEphemeralKeyCompressed=function(){return z.ECIES_CONFIG.isEphemeralKeyCompressed},z.isHkdfKeyCompressed=function(){return z.ECIES_CONFIG.isHkdfKeyCompressed},z.symmetricAlgorithm=function(){return z.ECIES_CONFIG.symmetricAlgorithm},z.symmetricNonceLength=function(){return z.ECIES_CONFIG.symmetricNonceLength},z.ephemeralKeySize=function(){var F={secp256k1:z.ECIES_CONFIG.isEphemeralKeyCompressed?p.COMPRESSED_PUBLIC_KEY_SIZE:p.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:p.CURVE25519_PUBLIC_KEY_SIZE,ed25519:p.CURVE25519_PUBLIC_KEY_SIZE};if(z.ECIES_CONFIG.ellipticCurve in F)return F[z.ECIES_CONFIG.ellipticCurve];throw new Error("Not implemented")}},29277:(Fe,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.AEAD_TAG_LENGTH=z.XCHACHA20_NONCE_LENGTH=z.CURVE25519_PUBLIC_KEY_SIZE=z.ETH_PUBLIC_KEY_SIZE=z.UNCOMPRESSED_PUBLIC_KEY_SIZE=z.COMPRESSED_PUBLIC_KEY_SIZE=z.SECRET_KEY_LENGTH=void 0,z.SECRET_KEY_LENGTH=32,z.COMPRESSED_PUBLIC_KEY_SIZE=33,z.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,z.ETH_PUBLIC_KEY_SIZE=64,z.CURVE25519_PUBLIC_KEY_SIZE=32,z.XCHACHA20_NONCE_LENGTH=24,z.AEAD_TAG_LENGTH=16},63397:(Fe,z,_)=>{"use strict";z.VV=z.Yc=z.w=void 0;var E=_(23790),k=_(48967),H=_(40774),x=_(77399);z.w=function R(L,I){var te,Z=new H.PrivateKey,j=L instanceof Uint8Array?new H.PublicKey(L):H.PublicKey.fromHex(L),G=Z.encapsulate(j),re=(0,x.aesEncrypt)(G,I);return te=(0,k.isEphemeralKeyCompressed)()?Z.publicKey.compressed:Z.publicKey.uncompressed,Buffer.from((0,E.concatBytes)(te,re))},z.Yc=function A(L,I){var Z=L instanceof Uint8Array?new H.PrivateKey(L):H.PrivateKey.fromHex(L),j=(0,k.ephemeralKeySize)(),G=new H.PublicKey(I.subarray(0,j)),re=I.subarray(j),te=G.decapsulate(Z);return Buffer.from((0,x.aesDecrypt)(te,re))};var O=_(48967);Object.defineProperty(z,"VV",{enumerable:!0,get:function(){return O.ECIES_CONFIG}});_(40774)},1210:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.PrivateKey=void 0;var p=_(23790),E=_(48967),k=_(77399),H=_(40762),x=function(){function R(A){var O=void 0===A?(0,k.getValidSecret)():A;if(!(0,k.isValidPrivateKey)(O))throw new Error("Invalid private key");this.data=O,this.publicKey=new H.PublicKey((0,k.getPublicKey)(O))}return R.fromHex=function(A){return new R((0,k.decodeHex)(A))},Object.defineProperty(R.prototype,"secret",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),R.prototype.toHex=function(){return(0,p.bytesToHex)(this.data)},R.prototype.encapsulate=function(A){var O,F;return(0,E.isHkdfKeyCompressed)()?(O=this.publicKey.compressed,F=this.multiply(A,!0)):(O=this.publicKey.uncompressed,F=this.multiply(A,!1)),(0,k.getSharedKey)(O,F)},R.prototype.multiply=function(A,O){return void 0===O&&(O=!1),(0,k.getSharedPoint)(this.data,A.compressed,O)},R.prototype.equals=function(A){return(0,p.equalBytes)(this.data,A.data)},R}();z.PrivateKey=x},40762:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.PublicKey=void 0;var p=_(23790),E=_(48967),k=_(77399),H=function(){function x(R){this.data=(0,k.convertPublicKeyFormat)(R,!0)}return x.fromHex=function(R){return new x((0,k.hexToPublicKey)(R))},Object.defineProperty(x.prototype,"uncompressed",{get:function(){return Buffer.from((0,k.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"compressed",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),x.prototype.toHex=function(R){return void 0===R&&(R=!0),(0,p.bytesToHex)(R?this.data:this.uncompressed)},x.prototype.decapsulate=function(R){var A,O;return(0,E.isHkdfKeyCompressed)()?(A=this.data,O=R.multiply(this,!0)):(A=this.uncompressed,O=R.multiply(this,!1)),(0,k.getSharedKey)(A,O)},x.prototype.equals=function(R){return(0,p.equalBytes)(this.data,R.data)},x}();z.PublicKey=H},40774:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.PublicKey=z.PrivateKey=void 0;var p=_(1210);Object.defineProperty(z,"PrivateKey",{enumerable:!0,get:function(){return p.PrivateKey}});var E=_(40762);Object.defineProperty(z,"PublicKey",{enumerable:!0,get:function(){return E.PublicKey}})},1849:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.aes256gcm=void 0;var p=_(23790),E=_(91426),k=_(29277);z.aes256gcm=function H(x,R,A){return{tagLength:k.AEAD_TAG_LENGTH,encrypt:function(L){var I=(0,E.createCipheriv)("aes-256-gcm",x,R);A&&I.setAAD(A);var Z=I.update(L),j=I.final();return(0,p.concatBytes)(Z,j,I.getAuthTag())},decrypt:function(L){var I=L.subarray(0,L.length-k.AEAD_TAG_LENGTH),Z=L.subarray(-k.AEAD_TAG_LENGTH),j=(0,E.createDecipheriv)("aes-256-gcm",x,R);A&&j.setAAD(A),j.setAuthTag(Z);var G=j.update(I),re=j.final();return(0,p.concatBytes)(G,re)}}}},77553:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.hexToPublicKey=z.convertPublicKeyFormat=z.getSharedPoint=z.getSharedKey=z.getPublicKey=z.isValidPrivateKey=z.getValidSecret=void 0;var p=_(23790),E=_(42098),k=_(57340),H=_(91717),x=_(48967),R=_(29277),A=_(99666),O=_(63364);function L(J){return te(function(Y){return Y.utils.isValidPrivateKey(J)},function(){return!0},function(){return!0})}function te(J,Y,oe){if("secp256k1"===(0,x.ellipticCurve)())return J(H.secp256k1);if("x25519"===(0,x.ellipticCurve)())return Y(k.x25519);if("ed25519"===(0,x.ellipticCurve)())return oe(k.ed25519);throw new Error("Not implemented")}z.getValidSecret=function F(){var J;do{J=(0,E.randomBytes)(R.SECRET_KEY_LENGTH)}while(!L(J));return J},z.isValidPrivateKey=L,z.getPublicKey=function I(J){return te(function(Y){return Y.getPublicKey(J)},function(Y){return Y.getPublicKey(J)},function(Y){return Y.getPublicKey(J)})},z.getSharedKey=function Z(J,Y){return(0,O.deriveKey)((0,p.concatBytes)(J,Y))},z.getSharedPoint=function j(J,Y,oe){return te(function(ae){return ae.getSharedSecret(J,Y,oe)},function(ae){return ae.getSharedSecret(J,Y)},function(ae){var se=ae.utils.getExtendedPublicKey(J).scalar;return ae.ExtendedPoint.fromHex(Y).multiply(se).toRawBytes()})},z.convertPublicKeyFormat=function G(J,Y){return te(function(oe){return oe.getSharedSecret(BigInt(1),J,Y)},function(){return J},function(){return J})},z.hexToPublicKey=function re(J){var Y=(0,A.decodeHex)(J);return te(function(){if(Y.length===R.ETH_PUBLIC_KEY_SIZE){var oe=new Uint8Array(1+Y.length);return oe.set([4]),oe.set(Y,1),oe}return Y},function(){return Y},function(){return Y})}},99666:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.decodeHex=z.remove0x=void 0;var p=_(23790);function E(H){return H.startsWith("0x")||H.startsWith("0X")?H.slice(2):H}z.remove0x=E,z.decodeHex=function k(H){return(0,p.hexToBytes)(E(H))}},77399:function(Fe,z,_){"use strict";var p=this&&this.__createBinding||(Object.create?function(k,H,x,R){void 0===R&&(R=x);var A=Object.getOwnPropertyDescriptor(H,x);(!A||("get"in A?!H.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return H[x]}}),Object.defineProperty(k,R,A)}:function(k,H,x,R){void 0===R&&(R=x),k[R]=H[x]}),E=this&&this.__exportStar||function(k,H){for(var x in k)"default"!==x&&!Object.prototype.hasOwnProperty.call(H,x)&&p(H,k,x)};Object.defineProperty(z,"__esModule",{value:!0}),E(_(77553),z),E(_(99666),z),E(_(63364),z)},63364:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.deriveKey=z.aesDecrypt=z.aesEncrypt=void 0;var p=_(59219),E=_(23790),k=_(42098),H=_(57334),x=_(1806),R=_(48967),A=_(29277),O=_(1849);function Z(re,te,J){var Y=(0,R.symmetricAlgorithm)(),oe=re?j:G;if("aes-256-gcm"===Y)return oe(O.aes256gcm,te,J,(0,R.symmetricNonceLength)());if("xchacha20"===Y)return oe(p.xchacha20poly1305,te,J,A.XCHACHA20_NONCE_LENGTH);throw new Error("Not implemented")}function j(re,te,J,Y){var oe=(0,k.randomBytes)(Y),se=re(te,oe).encrypt(J),de=se.subarray(0,se.length-A.AEAD_TAG_LENGTH),le=se.subarray(-A.AEAD_TAG_LENGTH);return(0,E.concatBytes)(oe,le,de)}function G(re,te,J,Y){var oe=Y+A.AEAD_TAG_LENGTH,ae=J.subarray(0,Y),se=J.subarray(Y,oe),de=J.subarray(oe),le=re(te,Uint8Array.from(ae)),we=(0,E.concatBytes)(de,se);return le.decrypt(we)}z.aesEncrypt=function F(re,te){return Z(!0,re,te)},z.aesDecrypt=function L(re,te){return Z(!1,re,te)},z.deriveKey=function I(re){return(0,H.hkdf)(x.sha256,re,void 0,void 0,32)}},10475:(Fe,z)=>{"use strict";function _(A){if(!Number.isSafeInteger(A)||A<0)throw new Error(`Wrong positive integer: ${A}`)}function p(A){if("boolean"!=typeof A)throw new Error(`Expected boolean, not ${A}`)}function E(A,...O){if(!(A instanceof Uint8Array))throw new Error("Expected Uint8Array");if(O.length>0&&!O.includes(A.length))throw new Error(`Expected Uint8Array of length ${O}, not of length=${A.length}`)}function k(A){if("function"!=typeof A||"function"!=typeof A.create)throw new Error("hash must be wrapped by utils.wrapConstructor");_(A.outputLen),_(A.blockLen)}function H(A,O=!0){if(A.destroyed)throw new Error("Hash instance has been destroyed");if(O&&A.finished)throw new Error("Hash#digest() has already been called")}function x(A,O){E(A);const F=O.outputLen;if(A.length<F)throw new Error(`digestInto() expects output buffer of length at least ${F}`)}Object.defineProperty(z,"__esModule",{value:!0}),z.output=z.exists=z.hash=z.bytes=z.bool=z.number=void 0,z.number=_,z.bool=p,z.bytes=E,z.hash=k,z.exists=H,z.output=x,z.default={number:_,bool:p,bytes:E,hash:k,exists:H,output:x}},17035:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.poly1305=z.wrapConstructorWithKey=void 0;const p=_(23790),E=_(10475),k=(R,A)=>255&R[A++]|(255&R[A++])<<8;class H{constructor(A){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,A=(0,p.toBytes)(A),(0,p.ensureBytes)(A,32);const O=k(A,0),F=k(A,2),L=k(A,4),I=k(A,6),Z=k(A,8),j=k(A,10),G=k(A,12),re=k(A,14);this.r[0]=8191&O,this.r[1]=8191&(O>>>13|F<<3),this.r[2]=7939&(F>>>10|L<<6),this.r[3]=8191&(L>>>7|I<<9),this.r[4]=255&(I>>>4|Z<<12),this.r[5]=Z>>>1&8190,this.r[6]=8191&(Z>>>14|j<<2),this.r[7]=8065&(j>>>11|G<<5),this.r[8]=8191&(G>>>8|re<<8),this.r[9]=re>>>5&127;for(let te=0;te<8;te++)this.pad[te]=k(A,16+2*te)}process(A,O,F=!1){const L=F?0:2048,{h:I,r:Z}=this,j=Z[0],G=Z[1],re=Z[2],te=Z[3],J=Z[4],Y=Z[5],oe=Z[6],ae=Z[7],se=Z[8],de=Z[9],le=k(A,O+0),we=k(A,O+2),xe=k(A,O+4),Ce=k(A,O+6),C=k(A,O+8),a=k(A,O+10),u=k(A,O+12),y=k(A,O+14);let g=I[0]+(8191&le),S=I[1]+(8191&(le>>>13|we<<3)),T=I[2]+(8191&(we>>>10|xe<<6)),N=I[3]+(8191&(xe>>>7|Ce<<9)),M=I[4]+(8191&(Ce>>>4|C<<12)),s=I[5]+(C>>>1&8191),v=I[6]+(8191&(C>>>14|a<<2)),W=I[7]+(8191&(a>>>11|u<<5)),K=I[8]+(8191&(u>>>8|y<<8)),ee=I[9]+(y>>>5|L),ce=0,_e=ce+g*j+S*(5*de)+T*(5*se)+N*(5*ae)+M*(5*oe);ce=_e>>>13,_e&=8191,_e+=s*(5*Y)+v*(5*J)+W*(5*te)+K*(5*re)+ee*(5*G),ce+=_e>>>13,_e&=8191;let Pe=ce+g*G+S*j+T*(5*de)+N*(5*se)+M*(5*ae);ce=Pe>>>13,Pe&=8191,Pe+=s*(5*oe)+v*(5*Y)+W*(5*J)+K*(5*te)+ee*(5*re),ce+=Pe>>>13,Pe&=8191;let $e=ce+g*re+S*G+T*j+N*(5*de)+M*(5*se);ce=$e>>>13,$e&=8191,$e+=s*(5*ae)+v*(5*oe)+W*(5*Y)+K*(5*J)+ee*(5*te),ce+=$e>>>13,$e&=8191;let Se=ce+g*te+S*re+T*G+N*j+M*(5*de);ce=Se>>>13,Se&=8191,Se+=s*(5*se)+v*(5*ae)+W*(5*oe)+K*(5*Y)+ee*(5*J),ce+=Se>>>13,Se&=8191;let be=ce+g*J+S*te+T*re+N*G+M*j;ce=be>>>13,be&=8191,be+=s*(5*de)+v*(5*se)+W*(5*ae)+K*(5*oe)+ee*(5*Y),ce+=be>>>13,be&=8191;let Ne=ce+g*Y+S*J+T*te+N*re+M*G;ce=Ne>>>13,Ne&=8191,Ne+=s*j+v*(5*de)+W*(5*se)+K*(5*ae)+ee*(5*oe),ce+=Ne>>>13,Ne&=8191;let ye=ce+g*oe+S*Y+T*J+N*te+M*re;ce=ye>>>13,ye&=8191,ye+=s*G+v*j+W*(5*de)+K*(5*se)+ee*(5*ae),ce+=ye>>>13,ye&=8191;let Te=ce+g*ae+S*oe+T*Y+N*J+M*te;ce=Te>>>13,Te&=8191,Te+=s*re+v*G+W*j+K*(5*de)+ee*(5*se),ce+=Te>>>13,Te&=8191;let pe=ce+g*se+S*ae+T*oe+N*Y+M*J;ce=pe>>>13,pe&=8191,pe+=s*te+v*re+W*G+K*j+ee*(5*de),ce+=pe>>>13,pe&=8191;let fe=ce+g*de+S*se+T*ae+N*oe+M*Y;ce=fe>>>13,fe&=8191,fe+=s*J+v*te+W*re+K*G+ee*j,ce+=fe>>>13,fe&=8191,ce=(ce<<2)+ce|0,ce=ce+_e|0,_e=8191&ce,ce>>>=13,Pe+=ce,I[0]=_e,I[1]=Pe,I[2]=$e,I[3]=Se,I[4]=be,I[5]=Ne,I[6]=ye,I[7]=Te,I[8]=pe,I[9]=fe}finalize(){const{h:A,pad:O}=this,F=new Uint16Array(10);let L=A[1]>>>13;A[1]&=8191;for(let j=2;j<10;j++)A[j]+=L,L=A[j]>>>13,A[j]&=8191;A[0]+=5*L,L=A[0]>>>13,A[0]&=8191,A[1]+=L,L=A[1]>>>13,A[1]&=8191,A[2]+=L,F[0]=A[0]+5,L=F[0]>>>13,F[0]&=8191;for(let j=1;j<10;j++)F[j]=A[j]+L,L=F[j]>>>13,F[j]&=8191;F[9]-=8192;let I=(1^L)-1;for(let j=0;j<10;j++)F[j]&=I;I=~I;for(let j=0;j<10;j++)A[j]=A[j]&I|F[j];A[0]=65535&(A[0]|A[1]<<13),A[1]=65535&(A[1]>>>3|A[2]<<10),A[2]=65535&(A[2]>>>6|A[3]<<7),A[3]=65535&(A[3]>>>9|A[4]<<4),A[4]=65535&(A[4]>>>12|A[5]<<1|A[6]<<14),A[5]=65535&(A[6]>>>2|A[7]<<11),A[6]=65535&(A[7]>>>5|A[8]<<8),A[7]=65535&(A[8]>>>8|A[9]<<5);let Z=A[0]+O[0];A[0]=65535&Z;for(let j=1;j<8;j++)Z=(A[j]+O[j]|0)+(Z>>>16)|0,A[j]=65535&Z}update(A){E.default.exists(this);const{buffer:O,blockLen:F}=this,L=(A=(0,p.toBytes)(A)).length;for(let I=0;I<L;){const Z=Math.min(F-this.pos,L-I);if(Z!==F)O.set(A.subarray(I,I+Z),this.pos),this.pos+=Z,I+=Z,this.pos===F&&(this.process(O,0,!1),this.pos=0);else for(;F<=L-I;I+=F)this.process(A,I)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(A){E.default.exists(this),E.default.output(A,this),this.finished=!0;const{buffer:O,h:F}=this;let{pos:L}=this;if(L){for(O[L++]=1;L<16;L++)O[L]=0;this.process(O,0,!0)}this.finalize();let I=0;for(let Z=0;Z<8;Z++)A[I++]=F[Z]>>>0,A[I++]=F[Z]>>>8;return A}digest(){const{buffer:A,outputLen:O}=this;this.digestInto(A);const F=A.slice(0,O);return this.destroy(),F}}function x(R){const A=(F,L)=>R(L).update((0,p.toBytes)(F)).digest(),O=R(new Uint8Array(32));return A.outputLen=O.outputLen,A.blockLen=O.blockLen,A.create=F=>R(F),A}z.wrapConstructorWithKey=x,z.poly1305=x(R=>new H(R))},70580:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.salsaBasic=void 0;const p=_(10475),E=_(23790),k=(0,E.utf8ToBytes)("expand 16-byte k"),H=(0,E.utf8ToBytes)("expand 32-byte k"),x=(0,E.u32)(k),R=(0,E.u32)(H),A=F=>!(F.byteOffset%4);z.salsaBasic=F=>{const{core:L,rounds:I,counterRight:Z,counterLen:j,allow128bitKeys:G,extendNonceFn:re,blockLen:te}=(0,E.checkOpts)({rounds:20,counterRight:!1,counterLen:8,allow128bitKeys:!0,blockLen:64},F);p.default.number(j),p.default.number(I),p.default.number(te),p.default.bool(Z),p.default.bool(G);const J=te/4;if(te%4!=0)throw new Error("Salsa/ChaCha: blockLen must be aligned to 4 bytes");return(Y,oe,ae,se,de=0)=>{if(p.default.bytes(Y),p.default.bytes(oe),p.default.bytes(ae),se||(se=new Uint8Array(ae.length)),p.default.bytes(se),p.default.number(de),de<0||de>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");if(se.length<ae.length)throw new Error(`Salsa/ChaCha: output (${se.length}) is shorter than data (${ae.length})`);const le=[];let we,xe;if(32===Y.length)A(Y)?we=Y:(we=Y.slice(),le.push(we)),xe=R;else{if(16!==Y.length||!G)throw new Error(`Salsa/ChaCha: invalid 32-byte key, got length=${Y.length}`);we=new Uint8Array(32),we.set(Y),we.set(Y,16),xe=x,le.push(we)}if(A(oe)||(oe=oe.slice(),le.push(oe)),re){if(oe.length<=16)throw new Error("Salsa/ChaCha: extended nonce must be bigger than 16 bytes");we=re(xe,we,oe.subarray(0,16),new Uint8Array(32)),le.push(we),oe=oe.subarray(16)}const Ce=16-j;if(oe.length!==Ce)throw new Error(`Salsa/ChaCha: nonce must be ${Ce} or 16 bytes`);if(12!==Ce){const N=new Uint8Array(12);N.set(oe,Z?0:12-oe.length),le.push(oe=N)}const C=new Uint8Array(te),a=(0,E.u32)(C),u=(0,E.u32)(we),y=(0,E.u32)(oe),g=A(ae)&&(0,E.u32)(ae),S=A(se)&&(0,E.u32)(se);le.push(a);const T=ae.length;for(let N=0,M=de;N<T;M++){if(L(xe,u,y,a,M,I),M>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");const s=Math.min(te,T-N);if(s===te&&S&&g){const v=N/4;if(N%4!=0)throw new Error("Salsa/ChaCha: invalid block position");for(let W=0;W<J;W++)S[v+W]=g[v+W]^a[W];N+=te}else{for(let v=0;v<s;v++)se[N+v]=ae[N+v]^C[v];N+=s}}for(let N=0;N<le.length;N++)le[N].fill(0);return se}}},59219:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.xchacha20poly1305=z.chacha20poly1305=z._poly1305_aead=z.chacha12=z.chacha8=z.xchacha20=z.chacha20=z.chacha20orig=z.hchacha=void 0;const p=_(23790),E=_(17035),k=_(70580),H=(I,Z)=>I<<Z|I>>>32-Z;function x(I,Z,j,G,re,te=20){let J=I[0],Y=I[1],oe=I[2],ae=I[3],se=Z[0],de=Z[1],le=Z[2],we=Z[3],xe=Z[4],Ce=Z[5],C=Z[6],a=Z[7],u=re,y=j[0],g=j[1],S=j[2],T=J,N=Y,M=oe,s=ae,v=se,W=de,K=le,ee=we,ce=xe,_e=Ce,Pe=C,$e=a,Se=u,be=y,Ne=g,ye=S;for(let pe=0;pe<te;pe+=2)T=T+v|0,Se=H(Se^T,16),ce=ce+Se|0,v=H(v^ce,12),T=T+v|0,Se=H(Se^T,8),ce=ce+Se|0,v=H(v^ce,7),N=N+W|0,be=H(be^N,16),_e=_e+be|0,W=H(W^_e,12),N=N+W|0,be=H(be^N,8),_e=_e+be|0,W=H(W^_e,7),M=M+K|0,Ne=H(Ne^M,16),Pe=Pe+Ne|0,K=H(K^Pe,12),M=M+K|0,Ne=H(Ne^M,8),Pe=Pe+Ne|0,K=H(K^Pe,7),s=s+ee|0,ye=H(ye^s,16),$e=$e+ye|0,ee=H(ee^$e,12),s=s+ee|0,ye=H(ye^s,8),$e=$e+ye|0,ee=H(ee^$e,7),T=T+W|0,ye=H(ye^T,16),Pe=Pe+ye|0,W=H(W^Pe,12),T=T+W|0,ye=H(ye^T,8),Pe=Pe+ye|0,W=H(W^Pe,7),N=N+K|0,Se=H(Se^N,16),$e=$e+Se|0,K=H(K^$e,12),N=N+K|0,Se=H(Se^N,8),$e=$e+Se|0,K=H(K^$e,7),M=M+ee|0,be=H(be^M,16),ce=ce+be|0,ee=H(ee^ce,12),M=M+ee|0,be=H(be^M,8),ce=ce+be|0,ee=H(ee^ce,7),s=s+v|0,Ne=H(Ne^s,16),_e=_e+Ne|0,v=H(v^_e,12),s=s+v|0,Ne=H(Ne^s,8),_e=_e+Ne|0,v=H(v^_e,7);let Te=0;G[Te++]=J+T|0,G[Te++]=Y+N|0,G[Te++]=oe+M|0,G[Te++]=ae+s|0,G[Te++]=se+v|0,G[Te++]=de+W|0,G[Te++]=le+K|0,G[Te++]=we+ee|0,G[Te++]=xe+ce|0,G[Te++]=Ce+_e|0,G[Te++]=C+Pe|0,G[Te++]=a+$e|0,G[Te++]=u+Se|0,G[Te++]=y+be|0,G[Te++]=g+Ne|0,G[Te++]=S+ye|0}function R(I,Z,j,G){const re=(0,p.u32)(Z),te=(0,p.u32)(j),J=(0,p.u32)(G);let Y=I[0],oe=I[1],ae=I[2],se=I[3],de=re[0],le=re[1],we=re[2],xe=re[3],Ce=re[4],C=re[5],a=re[6],u=re[7],y=te[0],g=te[1],S=te[2],T=te[3];for(let N=0;N<20;N+=2)Y=Y+de|0,y=H(y^Y,16),Ce=Ce+y|0,de=H(de^Ce,12),Y=Y+de|0,y=H(y^Y,8),Ce=Ce+y|0,de=H(de^Ce,7),oe=oe+le|0,g=H(g^oe,16),C=C+g|0,le=H(le^C,12),oe=oe+le|0,g=H(g^oe,8),C=C+g|0,le=H(le^C,7),ae=ae+we|0,S=H(S^ae,16),a=a+S|0,we=H(we^a,12),ae=ae+we|0,S=H(S^ae,8),a=a+S|0,we=H(we^a,7),se=se+xe|0,T=H(T^se,16),u=u+T|0,xe=H(xe^u,12),se=se+xe|0,T=H(T^se,8),u=u+T|0,xe=H(xe^u,7),Y=Y+le|0,T=H(T^Y,16),a=a+T|0,le=H(le^a,12),Y=Y+le|0,T=H(T^Y,8),a=a+T|0,le=H(le^a,7),oe=oe+we|0,y=H(y^oe,16),u=u+y|0,we=H(we^u,12),oe=oe+we|0,y=H(y^oe,8),u=u+y|0,we=H(we^u,7),ae=ae+xe|0,g=H(g^ae,16),Ce=Ce+g|0,xe=H(xe^Ce,12),ae=ae+xe|0,g=H(g^ae,8),Ce=Ce+g|0,xe=H(xe^Ce,7),se=se+de|0,S=H(S^se,16),C=C+S|0,de=H(de^C,12),se=se+de|0,S=H(S^se,8),C=C+S|0,de=H(de^C,7);return J[0]=Y,J[1]=oe,J[2]=ae,J[3]=se,J[4]=y,J[5]=g,J[6]=S,J[7]=T,G}z.hchacha=R,z.chacha20orig=(0,k.salsaBasic)({core:x,counterRight:!1,counterLen:8}),z.chacha20=(0,k.salsaBasic)({core:x,counterRight:!1,counterLen:4,allow128bitKeys:!1}),z.xchacha20=(0,k.salsaBasic)({core:x,counterRight:!1,counterLen:8,extendNonceFn:R,allow128bitKeys:!1}),z.chacha8=(0,k.salsaBasic)({core:x,counterRight:!1,counterLen:4,rounds:8}),z.chacha12=(0,k.salsaBasic)({core:x,counterRight:!1,counterLen:4,rounds:12});const A=new Uint8Array(16),O=(I,Z)=>{I.update(Z);const j=Z.length%16;j&&I.update(A.subarray(j))},F=(I,Z,j,G,re)=>{const te=I(Z,j,new Uint8Array(32)),J=E.poly1305.create(te);re&&O(J,re),O(J,G);const Y=new Uint8Array(16),oe=(0,p.createView)(Y);(0,p.setBigUint64)(oe,0,BigInt(re?re.length:0),!0),(0,p.setBigUint64)(oe,8,BigInt(G.length),!0),J.update(Y);const ae=J.digest();return te.fill(0),ae};z._poly1305_aead=I=>(Z,j,G)=>((0,p.ensureBytes)(Z,32),(0,p.ensureBytes)(j),{tagLength:16,encrypt:(te,J)=>{const Y=te.length,oe=Y+16;J?(0,p.ensureBytes)(J,oe):J=new Uint8Array(oe),I(Z,j,te,J,1);const ae=F(I,Z,j,J.subarray(0,-16),G);return J.set(ae,Y),J},decrypt:(te,J)=>{const Y=te.length,oe=Y-16;if(Y<16)throw new Error("encrypted data must be at least 16 bytes");J?(0,p.ensureBytes)(J,oe):J=new Uint8Array(oe);const ae=te.subarray(0,-16),se=te.subarray(-16),de=F(I,Z,j,ae,G);if(!(0,p.equalBytes)(se,de))throw new Error("invalid tag");return I(Z,j,ae,J,1),J}}),z.chacha20poly1305=(0,z._poly1305_aead)(z.chacha20),z.xchacha20poly1305=(0,z._poly1305_aead)(z.xchacha20)},23790:(Fe,z,_)=>{"use strict";var p=_(29293).default;Object.defineProperty(z,"__esModule",{value:!0}),z.setBigUint64=z.Hash=z.equalBytes=z.ensureBytes=z.checkOpts=z.concatBytes=z.toBytes=z.bytesToUtf8=z.utf8ToBytes=z.asyncLoop=z.nextTick=z.hexToBytes=z.bytesToHex=z.isLE=z.createView=z.u32=z.u16=z.u8=void 0;const E=le=>le instanceof Uint8Array;if(z.u8=le=>new Uint8Array(le.buffer,le.byteOffset,le.byteLength),z.u16=le=>new Uint16Array(le.buffer,le.byteOffset,Math.floor(le.byteLength/2)),z.u32=le=>new Uint32Array(le.buffer,le.byteOffset,Math.floor(le.byteLength/4)),z.createView=le=>new DataView(le.buffer,le.byteOffset,le.byteLength),z.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!z.isLE)throw new Error("Non little-endian hardware is not supported");const A=Array.from({length:256},(le,we)=>we.toString(16).padStart(2,"0"));function Z(){return(Z=p(function*(le,we,xe){let Ce=Date.now();for(let C=0;C<le;C++){xe(C);const a=Date.now()-Ce;a>=0&&a<we||(yield(0,z.nextTick)(),Ce+=a)}})).apply(this,arguments)}function j(le){if("string"!=typeof le)throw new Error("utf8ToBytes expected string, got "+typeof le);return new Uint8Array((new TextEncoder).encode(le))}z.bytesToHex=function O(le){if(!E(le))throw new Error("Uint8Array expected");let we="";for(let xe=0;xe<le.length;xe++)we+=A[le[xe]];return we},z.hexToBytes=function F(le){if("string"!=typeof le)throw new Error("hex string expected, got "+typeof le);const we=le.length;if(we%2)throw new Error("padded hex string expected, got unpadded hex of length "+we);const xe=new Uint8Array(we/2);for(let Ce=0;Ce<xe.length;Ce++){const C=2*Ce,a=le.slice(C,C+2),u=Number.parseInt(a,16);if(Number.isNaN(u)||u<0)throw new Error("Invalid byte sequence");xe[Ce]=u}return xe},z.nextTick=function(){var le=p(function*(){});return function(){return le.apply(this,arguments)}}(),z.asyncLoop=function I(le,we,xe){return Z.apply(this,arguments)},z.utf8ToBytes=j,z.bytesToUtf8=function G(le){return(new TextDecoder).decode(le)},z.toBytes=function re(le){if("string"==typeof le&&(le=j(le)),!E(le))throw new Error("expected Uint8Array, got "+typeof le);return le},z.concatBytes=function te(...le){const we=new Uint8Array(le.reduce((Ce,C)=>Ce+C.length,0));let xe=0;return le.forEach(Ce=>{if(!E(Ce))throw new Error("Uint8Array expected");we.set(Ce,xe),xe+=Ce.length}),we},z.checkOpts=function Y(le,we){if(void 0!==we&&("object"!=typeof we||!(le=>"[object Object]"===Object.prototype.toString.call(le)&&le.constructor===Object)(we)))throw new Error("options must be object or undefined");return Object.assign(le,we)},z.ensureBytes=function oe(le,we){if(!(le instanceof Uint8Array))throw new Error("Uint8Array expected");if("number"==typeof we&&le.length!==we)throw new Error(`Uint8Array length ${we} expected`)},z.equalBytes=function ae(le,we){if(le.length!==we.length)throw new Error("equalBytes: Different size of Uint8Arrays");let xe=!0;for(let Ce=0;Ce<le.length;Ce++)xe&&(xe=le[Ce]===we[Ce]);return xe},z.Hash=class se{},z.setBigUint64=function de(le,we,xe,Ce){if("function"==typeof le.setBigUint64)return le.setBigUint64(we,xe,Ce);const C=BigInt(32),a=BigInt(4294967295),u=Number(xe>>C&a),y=Number(xe&a),S=Ce?0:4;le.setUint32(we+(Ce?4:0),u,Ce),le.setUint32(we+S,y,Ce)}},89742:(Fe,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.crypto=void 0,z.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},42098:(Fe,z,_)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.getWebcryptoSubtle=z.randomBytes=void 0;const p=_(89742);z.randomBytes=function E(H=32){if(p.crypto&&"function"==typeof p.crypto.getRandomValues)return p.crypto.getRandomValues(new Uint8Array(H));throw new Error("crypto.getRandomValues must be defined")},z.getWebcryptoSubtle=function k(){if(p.crypto&&"object"==typeof p.crypto.subtle&&null!=p.crypto.subtle)return p.crypto.subtle;throw new Error("crypto.subtle must be defined")}},90518:(Fe,z,_)=>{"use strict";var p=z;p.version=_(1636).rE,p.utils=_(3136),p.rand=_(35294),p.curve=_(8729),p.curves=_(23401),p.ec=_(29042),p.eddsa=_(83045)},98828:(Fe,z,_)=>{"use strict";var p=_(88723),E=_(3136),k=E.getNAF,H=E.getJSF,x=E.assert;function R(O,F){this.type=O,this.p=new p(F.p,16),this.red=F.prime?p.red(F.prime):p.mont(this.p),this.zero=new p(0).toRed(this.red),this.one=new p(1).toRed(this.red),this.two=new p(2).toRed(this.red),this.n=F.n&&new p(F.n,16),this.g=F.g&&this.pointFromJSON(F.g,F.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var L=this.n&&this.p.div(this.n);!L||L.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function A(O,F){this.curve=O,this.type=F,this.precomputed=null}Fe.exports=R,R.prototype.point=function(){throw new Error("Not implemented")},R.prototype.validate=function(){throw new Error("Not implemented")},R.prototype._fixedNafMul=function(F,L){x(F.precomputed);var I=F._getDoubles(),Z=k(L,1,this._bitLength),j=(1<<I.step+1)-(I.step%2==0?2:1);j/=3;var re,te,G=[];for(re=0;re<Z.length;re+=I.step){te=0;for(var J=re+I.step-1;J>=re;J--)te=(te<<1)+Z[J];G.push(te)}for(var Y=this.jpoint(null,null,null),oe=this.jpoint(null,null,null),ae=j;ae>0;ae--){for(re=0;re<G.length;re++)(te=G[re])===ae?oe=oe.mixedAdd(I.points[re]):te===-ae&&(oe=oe.mixedAdd(I.points[re].neg()));Y=Y.add(oe)}return Y.toP()},R.prototype._wnafMul=function(F,L){for(var I=4,Z=F._getNAFPoints(I),j=Z.points,G=k(L,I=Z.wnd,this._bitLength),re=this.jpoint(null,null,null),te=G.length-1;te>=0;te--){for(var J=0;te>=0&&0===G[te];te--)J++;if(te>=0&&J++,re=re.dblp(J),te<0)break;var Y=G[te];x(0!==Y),re="affine"===F.type?re.mixedAdd(Y>0?j[Y-1>>1]:j[-Y-1>>1].neg()):re.add(Y>0?j[Y-1>>1]:j[-Y-1>>1].neg())}return"affine"===F.type?re.toP():re},R.prototype._wnafMulAdd=function(F,L,I,Z,j){var Y,oe,ae,G=this._wnafT1,re=this._wnafT2,te=this._wnafT3,J=0;for(Y=0;Y<Z;Y++){var se=(ae=L[Y])._getNAFPoints(F);G[Y]=se.wnd,re[Y]=se.points}for(Y=Z-1;Y>=1;Y-=2){var de=Y-1,le=Y;if(1===G[de]&&1===G[le]){var we=[L[de],null,null,L[le]];0===L[de].y.cmp(L[le].y)?(we[1]=L[de].add(L[le]),we[2]=L[de].toJ().mixedAdd(L[le].neg())):0===L[de].y.cmp(L[le].y.redNeg())?(we[1]=L[de].toJ().mixedAdd(L[le]),we[2]=L[de].add(L[le].neg())):(we[1]=L[de].toJ().mixedAdd(L[le]),we[2]=L[de].toJ().mixedAdd(L[le].neg()));var xe=[-3,-1,-5,-7,0,7,5,1,3],Ce=H(I[de],I[le]);for(J=Math.max(Ce[0].length,J),te[de]=new Array(J),te[le]=new Array(J),oe=0;oe<J;oe++)te[de][oe]=xe[3*(1+(0|Ce[0][oe]))+(1+(0|Ce[1][oe]))],te[le][oe]=0,re[de]=we}else te[de]=k(I[de],G[de],this._bitLength),te[le]=k(I[le],G[le],this._bitLength),J=Math.max(te[de].length,J),J=Math.max(te[le].length,J)}var u=this.jpoint(null,null,null),y=this._wnafT4;for(Y=J;Y>=0;Y--){for(var g=0;Y>=0;){var S=!0;for(oe=0;oe<Z;oe++)y[oe]=0|te[oe][Y],0!==y[oe]&&(S=!1);if(!S)break;g++,Y--}if(Y>=0&&g++,u=u.dblp(g),Y<0)break;for(oe=0;oe<Z;oe++){var T=y[oe];0!==T&&(T>0?ae=re[oe][T-1>>1]:T<0&&(ae=re[oe][-T-1>>1].neg()),u="affine"===ae.type?u.mixedAdd(ae):u.add(ae))}}for(Y=0;Y<Z;Y++)re[Y]=null;return j?u:u.toP()},R.BasePoint=A,A.prototype.eq=function(){throw new Error("Not implemented")},A.prototype.validate=function(){return this.curve.validate(this)},R.prototype.decodePoint=function(F,L){F=E.toArray(F,L);var I=this.p.byteLength();if((4===F[0]||6===F[0]||7===F[0])&&F.length-1==2*I)return 6===F[0]?x(F[F.length-1]%2==0):7===F[0]&&x(F[F.length-1]%2==1),this.point(F.slice(1,1+I),F.slice(1+I,1+2*I));if((2===F[0]||3===F[0])&&F.length-1===I)return this.pointFromX(F.slice(1,1+I),3===F[0]);throw new Error("Unknown point format")},A.prototype.encodeCompressed=function(F){return this.encode(F,!0)},A.prototype._encode=function(F){var L=this.curve.p.byteLength(),I=this.getX().toArray("be",L);return F?[this.getY().isEven()?2:3].concat(I):[4].concat(I,this.getY().toArray("be",L))},A.prototype.encode=function(F,L){return E.encode(this._encode(L),F)},A.prototype.precompute=function(F){if(this.precomputed)return this;var L={doubles:null,naf:null,beta:null};return L.naf=this._getNAFPoints(8),L.doubles=this._getDoubles(4,F),L.beta=this._getBeta(),this.precomputed=L,this},A.prototype._hasDoubles=function(F){if(!this.precomputed)return!1;var L=this.precomputed.doubles;return!!L&&L.points.length>=Math.ceil((F.bitLength()+1)/L.step)},A.prototype._getDoubles=function(F,L){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var I=[this],Z=this,j=0;j<L;j+=F){for(var G=0;G<F;G++)Z=Z.dbl();I.push(Z)}return{step:F,points:I}},A.prototype._getNAFPoints=function(F){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var L=[this],I=(1<<F)-1,Z=1===I?null:this.dbl(),j=1;j<I;j++)L[j]=L[j-1].add(Z);return{wnd:F,points:L}},A.prototype._getBeta=function(){return null},A.prototype.dblp=function(F){for(var L=this,I=0;I<F;I++)L=L.dbl();return L}},55537:(Fe,z,_)=>{"use strict";var p=_(3136),E=_(88723),k=_(71993),H=_(98828),x=p.assert;function R(O){this.twisted=1!=(0|O.a),this.mOneA=this.twisted&&-1==(0|O.a),this.extended=this.mOneA,H.call(this,"edwards",O),this.a=new E(O.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new E(O.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new E(O.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),x(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|O.c)}function A(O,F,L,I,Z){H.BasePoint.call(this,O,"projective"),null===F&&null===L&&null===I?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new E(F,16),this.y=new E(L,16),this.z=I?new E(I,16):this.curve.one,this.t=Z&&new E(Z,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}k(R,H),Fe.exports=R,R.prototype._mulA=function(F){return this.mOneA?F.redNeg():this.a.redMul(F)},R.prototype._mulC=function(F){return this.oneC?F:this.c.redMul(F)},R.prototype.jpoint=function(F,L,I,Z){return this.point(F,L,I,Z)},R.prototype.pointFromX=function(F,L){(F=new E(F,16)).red||(F=F.toRed(this.red));var I=F.redSqr(),Z=this.c2.redSub(this.a.redMul(I)),j=this.one.redSub(this.c2.redMul(this.d).redMul(I)),G=Z.redMul(j.redInvm()),re=G.redSqrt();if(0!==re.redSqr().redSub(G).cmp(this.zero))throw new Error("invalid point");var te=re.fromRed().isOdd();return(L&&!te||!L&&te)&&(re=re.redNeg()),this.point(F,re)},R.prototype.pointFromY=function(F,L){(F=new E(F,16)).red||(F=F.toRed(this.red));var I=F.redSqr(),Z=I.redSub(this.c2),j=I.redMul(this.d).redMul(this.c2).redSub(this.a),G=Z.redMul(j.redInvm());if(0===G.cmp(this.zero)){if(L)throw new Error("invalid point");return this.point(this.zero,F)}var re=G.redSqrt();if(0!==re.redSqr().redSub(G).cmp(this.zero))throw new Error("invalid point");return re.fromRed().isOdd()!==L&&(re=re.redNeg()),this.point(re,F)},R.prototype.validate=function(F){if(F.isInfinity())return!0;F.normalize();var L=F.x.redSqr(),I=F.y.redSqr(),Z=L.redMul(this.a).redAdd(I),j=this.c2.redMul(this.one.redAdd(this.d.redMul(L).redMul(I)));return 0===Z.cmp(j)},k(A,H.BasePoint),R.prototype.pointFromJSON=function(F){return A.fromJSON(this,F)},R.prototype.point=function(F,L,I,Z){return new A(this,F,L,I,Z)},A.fromJSON=function(F,L){return new A(F,L[0],L[1],L[2])},A.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},A.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},A.prototype._extDbl=function(){var F=this.x.redSqr(),L=this.y.redSqr(),I=this.z.redSqr();I=I.redIAdd(I);var Z=this.curve._mulA(F),j=this.x.redAdd(this.y).redSqr().redISub(F).redISub(L),G=Z.redAdd(L),re=G.redSub(I),te=Z.redSub(L),J=j.redMul(re),Y=G.redMul(te),oe=j.redMul(te),ae=re.redMul(G);return this.curve.point(J,Y,ae,oe)},A.prototype._projDbl=function(){var Z,j,G,re,te,J,F=this.x.redAdd(this.y).redSqr(),L=this.x.redSqr(),I=this.y.redSqr();if(this.curve.twisted){var Y=(re=this.curve._mulA(L)).redAdd(I);this.zOne?(Z=F.redSub(L).redSub(I).redMul(Y.redSub(this.curve.two)),j=Y.redMul(re.redSub(I)),G=Y.redSqr().redSub(Y).redSub(Y)):(te=this.z.redSqr(),J=Y.redSub(te).redISub(te),Z=F.redSub(L).redISub(I).redMul(J),j=Y.redMul(re.redSub(I)),G=Y.redMul(J))}else re=L.redAdd(I),te=this.curve._mulC(this.z).redSqr(),J=re.redSub(te).redSub(te),Z=this.curve._mulC(F.redISub(re)).redMul(J),j=this.curve._mulC(re).redMul(L.redISub(I)),G=re.redMul(J);return this.curve.point(Z,j,G)},A.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},A.prototype._extAdd=function(F){var L=this.y.redSub(this.x).redMul(F.y.redSub(F.x)),I=this.y.redAdd(this.x).redMul(F.y.redAdd(F.x)),Z=this.t.redMul(this.curve.dd).redMul(F.t),j=this.z.redMul(F.z.redAdd(F.z)),G=I.redSub(L),re=j.redSub(Z),te=j.redAdd(Z),J=I.redAdd(L),Y=G.redMul(re),oe=te.redMul(J),ae=G.redMul(J),se=re.redMul(te);return this.curve.point(Y,oe,se,ae)},A.prototype._projAdd=function(F){var oe,ae,L=this.z.redMul(F.z),I=L.redSqr(),Z=this.x.redMul(F.x),j=this.y.redMul(F.y),G=this.curve.d.redMul(Z).redMul(j),re=I.redSub(G),te=I.redAdd(G),J=this.x.redAdd(this.y).redMul(F.x.redAdd(F.y)).redISub(Z).redISub(j),Y=L.redMul(re).redMul(J);return this.curve.twisted?(oe=L.redMul(te).redMul(j.redSub(this.curve._mulA(Z))),ae=re.redMul(te)):(oe=L.redMul(te).redMul(j.redSub(Z)),ae=this.curve._mulC(re).redMul(te)),this.curve.point(Y,oe,ae)},A.prototype.add=function(F){return this.isInfinity()?F:F.isInfinity()?this:this.curve.extended?this._extAdd(F):this._projAdd(F)},A.prototype.mul=function(F){return this._hasDoubles(F)?this.curve._fixedNafMul(this,F):this.curve._wnafMul(this,F)},A.prototype.mulAdd=function(F,L,I){return this.curve._wnafMulAdd(1,[this,L],[F,I],2,!1)},A.prototype.jmulAdd=function(F,L,I){return this.curve._wnafMulAdd(1,[this,L],[F,I],2,!0)},A.prototype.normalize=function(){if(this.zOne)return this;var F=this.z.redInvm();return this.x=this.x.redMul(F),this.y=this.y.redMul(F),this.t&&(this.t=this.t.redMul(F)),this.z=this.curve.one,this.zOne=!0,this},A.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},A.prototype.getX=function(){return this.normalize(),this.x.fromRed()},A.prototype.getY=function(){return this.normalize(),this.y.fromRed()},A.prototype.eq=function(F){return this===F||0===this.getX().cmp(F.getX())&&0===this.getY().cmp(F.getY())},A.prototype.eqXToP=function(F){var L=F.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(L))return!0;for(var I=F.clone(),Z=this.curve.redN.redMul(this.z);;){if(I.iadd(this.curve.n),I.cmp(this.curve.p)>=0)return!1;if(L.redIAdd(Z),0===this.x.cmp(L))return!0}},A.prototype.toP=A.prototype.normalize,A.prototype.mixedAdd=A.prototype.add},8729:(Fe,z,_)=>{"use strict";var p=z;p.base=_(98828),p.short=_(68075),p.mont=_(64947),p.edwards=_(55537)},64947:(Fe,z,_)=>{"use strict";var p=_(88723),E=_(71993),k=_(98828),H=_(3136);function x(A){k.call(this,"mont",A),this.a=new p(A.a,16).toRed(this.red),this.b=new p(A.b,16).toRed(this.red),this.i4=new p(4).toRed(this.red).redInvm(),this.two=new p(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function R(A,O,F){k.BasePoint.call(this,A,"projective"),null===O&&null===F?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new p(O,16),this.z=new p(F,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}E(x,k),Fe.exports=x,x.prototype.validate=function(O){var F=O.normalize().x,L=F.redSqr(),I=L.redMul(F).redAdd(L.redMul(this.a)).redAdd(F);return 0===I.redSqrt().redSqr().cmp(I)},E(R,k.BasePoint),x.prototype.decodePoint=function(O,F){return this.point(H.toArray(O,F),1)},x.prototype.point=function(O,F){return new R(this,O,F)},x.prototype.pointFromJSON=function(O){return R.fromJSON(this,O)},R.prototype.precompute=function(){},R.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},R.fromJSON=function(O,F){return new R(O,F[0],F[1]||O.one)},R.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},R.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},R.prototype.dbl=function(){var F=this.x.redAdd(this.z).redSqr(),I=this.x.redSub(this.z).redSqr(),Z=F.redSub(I),j=F.redMul(I),G=Z.redMul(I.redAdd(this.curve.a24.redMul(Z)));return this.curve.point(j,G)},R.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},R.prototype.diffAdd=function(O,F){var L=this.x.redAdd(this.z),I=this.x.redSub(this.z),Z=O.x.redAdd(O.z),G=O.x.redSub(O.z).redMul(L),re=Z.redMul(I),te=F.z.redMul(G.redAdd(re).redSqr()),J=F.x.redMul(G.redISub(re).redSqr());return this.curve.point(te,J)},R.prototype.mul=function(O){for(var F=O.clone(),L=this,I=this.curve.point(null,null),j=[];0!==F.cmpn(0);F.iushrn(1))j.push(F.andln(1));for(var G=j.length-1;G>=0;G--)0===j[G]?(L=L.diffAdd(I,this),I=I.dbl()):(I=L.diffAdd(I,this),L=L.dbl());return I},R.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},R.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},R.prototype.eq=function(O){return 0===this.getX().cmp(O.getX())},R.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},R.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},68075:(Fe,z,_)=>{"use strict";var p=_(3136),E=_(88723),k=_(71993),H=_(98828),x=p.assert;function R(F){H.call(this,"short",F),this.a=new E(F.a,16).toRed(this.red),this.b=new E(F.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(F),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function A(F,L,I,Z){H.BasePoint.call(this,F,"affine"),null===L&&null===I?(this.x=null,this.y=null,this.inf=!0):(this.x=new E(L,16),this.y=new E(I,16),Z&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function O(F,L,I,Z){H.BasePoint.call(this,F,"jacobian"),null===L&&null===I&&null===Z?(this.x=this.curve.one,this.y=this.curve.one,this.z=new E(0)):(this.x=new E(L,16),this.y=new E(I,16),this.z=new E(Z,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}k(R,H),Fe.exports=R,R.prototype._getEndomorphism=function(L){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var I,Z;if(L.beta)I=new E(L.beta,16).toRed(this.red);else{var j=this._getEndoRoots(this.p);I=(I=j[0].cmp(j[1])<0?j[0]:j[1]).toRed(this.red)}if(L.lambda)Z=new E(L.lambda,16);else{var G=this._getEndoRoots(this.n);0===this.g.mul(G[0]).x.cmp(this.g.x.redMul(I))?Z=G[0]:x(0===this.g.mul(Z=G[1]).x.cmp(this.g.x.redMul(I)))}return{beta:I,lambda:Z,basis:L.basis?L.basis.map(function(te){return{a:new E(te.a,16),b:new E(te.b,16)}}):this._getEndoBasis(Z)}}},R.prototype._getEndoRoots=function(L){var I=L===this.p?this.red:E.mont(L),Z=new E(2).toRed(I).redInvm(),j=Z.redNeg(),G=new E(3).toRed(I).redNeg().redSqrt().redMul(Z);return[j.redAdd(G).fromRed(),j.redSub(G).fromRed()]},R.prototype._getEndoBasis=function(L){for(var Y,oe,ae,se,de,le,we,Ce,C,I=this.n.ushrn(Math.floor(this.n.bitLength()/2)),Z=L,j=this.n.clone(),G=new E(1),re=new E(0),te=new E(0),J=new E(1),xe=0;0!==Z.cmpn(0);){var a=j.div(Z);Ce=j.sub(a.mul(Z)),C=te.sub(a.mul(G));var u=J.sub(a.mul(re));if(!ae&&Ce.cmp(I)<0)Y=we.neg(),oe=G,ae=Ce.neg(),se=C;else if(ae&&2==++xe)break;we=Ce,j=Z,Z=Ce,te=G,G=C,J=re,re=u}de=Ce.neg(),le=C;var y=ae.sqr().add(se.sqr());return de.sqr().add(le.sqr()).cmp(y)>=0&&(de=Y,le=oe),ae.negative&&(ae=ae.neg(),se=se.neg()),de.negative&&(de=de.neg(),le=le.neg()),[{a:ae,b:se},{a:de,b:le}]},R.prototype._endoSplit=function(L){var I=this.endo.basis,Z=I[0],j=I[1],G=j.b.mul(L).divRound(this.n),re=Z.b.neg().mul(L).divRound(this.n),te=G.mul(Z.a),J=re.mul(j.a),Y=G.mul(Z.b),oe=re.mul(j.b);return{k1:L.sub(te).sub(J),k2:Y.add(oe).neg()}},R.prototype.pointFromX=function(L,I){(L=new E(L,16)).red||(L=L.toRed(this.red));var Z=L.redSqr().redMul(L).redIAdd(L.redMul(this.a)).redIAdd(this.b),j=Z.redSqrt();if(0!==j.redSqr().redSub(Z).cmp(this.zero))throw new Error("invalid point");var G=j.fromRed().isOdd();return(I&&!G||!I&&G)&&(j=j.redNeg()),this.point(L,j)},R.prototype.validate=function(L){if(L.inf)return!0;var I=L.x,Z=L.y,j=this.a.redMul(I),G=I.redSqr().redMul(I).redIAdd(j).redIAdd(this.b);return 0===Z.redSqr().redISub(G).cmpn(0)},R.prototype._endoWnafMulAdd=function(L,I,Z){for(var j=this._endoWnafT1,G=this._endoWnafT2,re=0;re<L.length;re++){var te=this._endoSplit(I[re]),J=L[re],Y=J._getBeta();te.k1.negative&&(te.k1.ineg(),J=J.neg(!0)),te.k2.negative&&(te.k2.ineg(),Y=Y.neg(!0)),j[2*re]=J,j[2*re+1]=Y,G[2*re]=te.k1,G[2*re+1]=te.k2}for(var oe=this._wnafMulAdd(1,j,G,2*re,Z),ae=0;ae<2*re;ae++)j[ae]=null,G[ae]=null;return oe},k(A,H.BasePoint),R.prototype.point=function(L,I,Z){return new A(this,L,I,Z)},R.prototype.pointFromJSON=function(L,I){return A.fromJSON(this,L,I)},A.prototype._getBeta=function(){if(this.curve.endo){var L=this.precomputed;if(L&&L.beta)return L.beta;var I=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(L){var Z=this.curve,j=function(G){return Z.point(G.x.redMul(Z.endo.beta),G.y)};L.beta=I,I.precomputed={beta:null,naf:L.naf&&{wnd:L.naf.wnd,points:L.naf.points.map(j)},doubles:L.doubles&&{step:L.doubles.step,points:L.doubles.points.map(j)}}}return I}},A.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},A.fromJSON=function(L,I,Z){"string"==typeof I&&(I=JSON.parse(I));var j=L.point(I[0],I[1],Z);if(!I[2])return j;function G(te){return L.point(te[0],te[1],Z)}var re=I[2];return j.precomputed={beta:null,doubles:re.doubles&&{step:re.doubles.step,points:[j].concat(re.doubles.points.map(G))},naf:re.naf&&{wnd:re.naf.wnd,points:[j].concat(re.naf.points.map(G))}},j},A.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},A.prototype.isInfinity=function(){return this.inf},A.prototype.add=function(L){if(this.inf)return L;if(L.inf)return this;if(this.eq(L))return this.dbl();if(this.neg().eq(L))return this.curve.point(null,null);if(0===this.x.cmp(L.x))return this.curve.point(null,null);var I=this.y.redSub(L.y);0!==I.cmpn(0)&&(I=I.redMul(this.x.redSub(L.x).redInvm()));var Z=I.redSqr().redISub(this.x).redISub(L.x),j=I.redMul(this.x.redSub(Z)).redISub(this.y);return this.curve.point(Z,j)},A.prototype.dbl=function(){if(this.inf)return this;var L=this.y.redAdd(this.y);if(0===L.cmpn(0))return this.curve.point(null,null);var I=this.curve.a,Z=this.x.redSqr(),j=L.redInvm(),G=Z.redAdd(Z).redIAdd(Z).redIAdd(I).redMul(j),re=G.redSqr().redISub(this.x.redAdd(this.x)),te=G.redMul(this.x.redSub(re)).redISub(this.y);return this.curve.point(re,te)},A.prototype.getX=function(){return this.x.fromRed()},A.prototype.getY=function(){return this.y.fromRed()},A.prototype.mul=function(L){return L=new E(L,16),this.isInfinity()?this:this._hasDoubles(L)?this.curve._fixedNafMul(this,L):this.curve.endo?this.curve._endoWnafMulAdd([this],[L]):this.curve._wnafMul(this,L)},A.prototype.mulAdd=function(L,I,Z){var j=[this,I],G=[L,Z];return this.curve.endo?this.curve._endoWnafMulAdd(j,G):this.curve._wnafMulAdd(1,j,G,2)},A.prototype.jmulAdd=function(L,I,Z){var j=[this,I],G=[L,Z];return this.curve.endo?this.curve._endoWnafMulAdd(j,G,!0):this.curve._wnafMulAdd(1,j,G,2,!0)},A.prototype.eq=function(L){return this===L||this.inf===L.inf&&(this.inf||0===this.x.cmp(L.x)&&0===this.y.cmp(L.y))},A.prototype.neg=function(L){if(this.inf)return this;var I=this.curve.point(this.x,this.y.redNeg());if(L&&this.precomputed){var Z=this.precomputed,j=function(G){return G.neg()};I.precomputed={naf:Z.naf&&{wnd:Z.naf.wnd,points:Z.naf.points.map(j)},doubles:Z.doubles&&{step:Z.doubles.step,points:Z.doubles.points.map(j)}}}return I},A.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},k(O,H.BasePoint),R.prototype.jpoint=function(L,I,Z){return new O(this,L,I,Z)},O.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var L=this.z.redInvm(),I=L.redSqr(),Z=this.x.redMul(I),j=this.y.redMul(I).redMul(L);return this.curve.point(Z,j)},O.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},O.prototype.add=function(L){if(this.isInfinity())return L;if(L.isInfinity())return this;var I=L.z.redSqr(),Z=this.z.redSqr(),j=this.x.redMul(I),G=L.x.redMul(Z),re=this.y.redMul(I.redMul(L.z)),te=L.y.redMul(Z.redMul(this.z)),J=j.redSub(G),Y=re.redSub(te);if(0===J.cmpn(0))return 0!==Y.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var oe=J.redSqr(),ae=oe.redMul(J),se=j.redMul(oe),de=Y.redSqr().redIAdd(ae).redISub(se).redISub(se),le=Y.redMul(se.redISub(de)).redISub(re.redMul(ae)),we=this.z.redMul(L.z).redMul(J);return this.curve.jpoint(de,le,we)},O.prototype.mixedAdd=function(L){if(this.isInfinity())return L.toJ();if(L.isInfinity())return this;var I=this.z.redSqr(),Z=this.x,j=L.x.redMul(I),G=this.y,re=L.y.redMul(I).redMul(this.z),te=Z.redSub(j),J=G.redSub(re);if(0===te.cmpn(0))return 0!==J.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var Y=te.redSqr(),oe=Y.redMul(te),ae=Z.redMul(Y),se=J.redSqr().redIAdd(oe).redISub(ae).redISub(ae),de=J.redMul(ae.redISub(se)).redISub(G.redMul(oe)),le=this.z.redMul(te);return this.curve.jpoint(se,de,le)},O.prototype.dblp=function(L){if(0===L)return this;if(this.isInfinity())return this;if(!L)return this.dbl();var I;if(this.curve.zeroA||this.curve.threeA){var Z=this;for(I=0;I<L;I++)Z=Z.dbl();return Z}var j=this.curve.a,G=this.curve.tinv,re=this.x,te=this.y,J=this.z,Y=J.redSqr().redSqr(),oe=te.redAdd(te);for(I=0;I<L;I++){var ae=re.redSqr(),se=oe.redSqr(),de=se.redSqr(),le=ae.redAdd(ae).redIAdd(ae).redIAdd(j.redMul(Y)),we=re.redMul(se),xe=le.redSqr().redISub(we.redAdd(we)),Ce=we.redISub(xe),C=le.redMul(Ce);C=C.redIAdd(C).redISub(de);var a=oe.redMul(J);I+1<L&&(Y=Y.redMul(de)),re=xe,J=a,oe=C}return this.curve.jpoint(re,oe.redMul(G),J)},O.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},O.prototype._zeroDbl=function(){var L,I,Z;if(this.zOne){var j=this.x.redSqr(),G=this.y.redSqr(),re=G.redSqr(),te=this.x.redAdd(G).redSqr().redISub(j).redISub(re);te=te.redIAdd(te);var J=j.redAdd(j).redIAdd(j),Y=J.redSqr().redISub(te).redISub(te),oe=re.redIAdd(re);oe=(oe=oe.redIAdd(oe)).redIAdd(oe),L=Y,I=J.redMul(te.redISub(Y)).redISub(oe),Z=this.y.redAdd(this.y)}else{var ae=this.x.redSqr(),se=this.y.redSqr(),de=se.redSqr(),le=this.x.redAdd(se).redSqr().redISub(ae).redISub(de);le=le.redIAdd(le);var we=ae.redAdd(ae).redIAdd(ae),xe=we.redSqr(),Ce=de.redIAdd(de);Ce=(Ce=Ce.redIAdd(Ce)).redIAdd(Ce),L=xe.redISub(le).redISub(le),I=we.redMul(le.redISub(L)).redISub(Ce),Z=(Z=this.y.redMul(this.z)).redIAdd(Z)}return this.curve.jpoint(L,I,Z)},O.prototype._threeDbl=function(){var L,I,Z;if(this.zOne){var j=this.x.redSqr(),G=this.y.redSqr(),re=G.redSqr(),te=this.x.redAdd(G).redSqr().redISub(j).redISub(re);te=te.redIAdd(te);var J=j.redAdd(j).redIAdd(j).redIAdd(this.curve.a),Y=J.redSqr().redISub(te).redISub(te);L=Y;var oe=re.redIAdd(re);oe=(oe=oe.redIAdd(oe)).redIAdd(oe),I=J.redMul(te.redISub(Y)).redISub(oe),Z=this.y.redAdd(this.y)}else{var ae=this.z.redSqr(),se=this.y.redSqr(),de=this.x.redMul(se),le=this.x.redSub(ae).redMul(this.x.redAdd(ae));le=le.redAdd(le).redIAdd(le);var we=de.redIAdd(de),xe=(we=we.redIAdd(we)).redAdd(we);L=le.redSqr().redISub(xe),Z=this.y.redAdd(this.z).redSqr().redISub(se).redISub(ae);var Ce=se.redSqr();Ce=(Ce=(Ce=Ce.redIAdd(Ce)).redIAdd(Ce)).redIAdd(Ce),I=le.redMul(we.redISub(L)).redISub(Ce)}return this.curve.jpoint(L,I,Z)},O.prototype._dbl=function(){var L=this.curve.a,I=this.x,Z=this.y,j=this.z,G=j.redSqr().redSqr(),re=I.redSqr(),te=Z.redSqr(),J=re.redAdd(re).redIAdd(re).redIAdd(L.redMul(G)),Y=I.redAdd(I),oe=(Y=Y.redIAdd(Y)).redMul(te),ae=J.redSqr().redISub(oe.redAdd(oe)),se=oe.redISub(ae),de=te.redSqr();de=(de=(de=de.redIAdd(de)).redIAdd(de)).redIAdd(de);var le=J.redMul(se).redISub(de),we=Z.redAdd(Z).redMul(j);return this.curve.jpoint(ae,le,we)},O.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var L=this.x.redSqr(),I=this.y.redSqr(),Z=this.z.redSqr(),j=I.redSqr(),G=L.redAdd(L).redIAdd(L),re=G.redSqr(),te=this.x.redAdd(I).redSqr().redISub(L).redISub(j),J=(te=(te=(te=te.redIAdd(te)).redAdd(te).redIAdd(te)).redISub(re)).redSqr(),Y=j.redIAdd(j);Y=(Y=(Y=Y.redIAdd(Y)).redIAdd(Y)).redIAdd(Y);var oe=G.redIAdd(te).redSqr().redISub(re).redISub(J).redISub(Y),ae=I.redMul(oe);ae=(ae=ae.redIAdd(ae)).redIAdd(ae);var se=this.x.redMul(J).redISub(ae);se=(se=se.redIAdd(se)).redIAdd(se);var de=this.y.redMul(oe.redMul(Y.redISub(oe)).redISub(te.redMul(J)));de=(de=(de=de.redIAdd(de)).redIAdd(de)).redIAdd(de);var le=this.z.redAdd(te).redSqr().redISub(Z).redISub(J);return this.curve.jpoint(se,de,le)},O.prototype.mul=function(L,I){return L=new E(L,I),this.curve._wnafMul(this,L)},O.prototype.eq=function(L){if("affine"===L.type)return this.eq(L.toJ());if(this===L)return!0;var I=this.z.redSqr(),Z=L.z.redSqr();if(0!==this.x.redMul(Z).redISub(L.x.redMul(I)).cmpn(0))return!1;var j=I.redMul(this.z),G=Z.redMul(L.z);return 0===this.y.redMul(G).redISub(L.y.redMul(j)).cmpn(0)},O.prototype.eqXToP=function(L){var I=this.z.redSqr(),Z=L.toRed(this.curve.red).redMul(I);if(0===this.x.cmp(Z))return!0;for(var j=L.clone(),G=this.curve.redN.redMul(I);;){if(j.iadd(this.curve.n),j.cmp(this.curve.p)>=0)return!1;if(Z.redIAdd(G),0===this.x.cmp(Z))return!0}},O.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},O.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},23401:(Fe,z,_)=>{"use strict";var O,p=z,E=_(52529),k=_(8729),x=_(3136).assert;function R(F){this.curve="short"===F.type?new k.short(F):"edwards"===F.type?new k.edwards(F):new k.mont(F),this.g=this.curve.g,this.n=this.curve.n,this.hash=F.hash,x(this.g.validate(),"Invalid curve"),x(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function A(F,L){Object.defineProperty(p,F,{configurable:!0,enumerable:!0,get:function(){var I=new R(L);return Object.defineProperty(p,F,{configurable:!0,enumerable:!0,value:I}),I}})}p.PresetCurve=R,A("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:E.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),A("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:E.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),A("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:E.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),A("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:E.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),A("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:E.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),A("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:E.sha256,gRed:!1,g:["9"]}),A("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:E.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{O=_(51416)}catch{O=void 0}A("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:E.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",O]})},29042:(Fe,z,_)=>{"use strict";var p=_(88723),E=_(33556),k=_(3136),H=_(23401),x=_(35294),R=k.assert,A=_(60541),O=_(40484);function F(L){if(!(this instanceof F))return new F(L);"string"==typeof L&&(R(Object.prototype.hasOwnProperty.call(H,L),"Unknown curve "+L),L=H[L]),L instanceof H.PresetCurve&&(L={curve:L}),this.curve=L.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=L.curve.g,this.g.precompute(L.curve.n.bitLength()+1),this.hash=L.hash||L.curve.hash}Fe.exports=F,F.prototype.keyPair=function(I){return new A(this,I)},F.prototype.keyFromPrivate=function(I,Z){return A.fromPrivate(this,I,Z)},F.prototype.keyFromPublic=function(I,Z){return A.fromPublic(this,I,Z)},F.prototype.genKeyPair=function(I){I||(I={});for(var Z=new E({hash:this.hash,pers:I.pers,persEnc:I.persEnc||"utf8",entropy:I.entropy||x(this.hash.hmacStrength),entropyEnc:I.entropy&&I.entropyEnc||"utf8",nonce:this.n.toArray()}),j=this.n.byteLength(),G=this.n.sub(new p(2));;){var re=new p(Z.generate(j));if(!(re.cmp(G)>0))return re.iaddn(1),this.keyFromPrivate(re)}},F.prototype._truncateToN=function(I,Z){var j=8*I.byteLength()-this.n.bitLength();return j>0&&(I=I.ushrn(j)),!Z&&I.cmp(this.n)>=0?I.sub(this.n):I},F.prototype.sign=function(I,Z,j,G){"object"==typeof j&&(G=j,j=null),G||(G={}),Z=this.keyFromPrivate(Z,j),I=this._truncateToN(new p(I,16));for(var re=this.n.byteLength(),te=Z.getPrivate().toArray("be",re),J=I.toArray("be",re),Y=new E({hash:this.hash,entropy:te,nonce:J,pers:G.pers,persEnc:G.persEnc||"utf8"}),oe=this.n.sub(new p(1)),ae=0;;ae++){var se=G.k?G.k(ae):new p(Y.generate(this.n.byteLength()));if(!((se=this._truncateToN(se,!0)).cmpn(1)<=0||se.cmp(oe)>=0)){var de=this.g.mul(se);if(!de.isInfinity()){var le=de.getX(),we=le.umod(this.n);if(0!==we.cmpn(0)){var xe=se.invm(this.n).mul(we.mul(Z.getPrivate()).iadd(I));if(0!==(xe=xe.umod(this.n)).cmpn(0)){var Ce=(de.getY().isOdd()?1:0)|(0!==le.cmp(we)?2:0);return G.canonical&&xe.cmp(this.nh)>0&&(xe=this.n.sub(xe),Ce^=1),new O({r:we,s:xe,recoveryParam:Ce})}}}}}},F.prototype.verify=function(I,Z,j,G){I=this._truncateToN(new p(I,16)),j=this.keyFromPublic(j,G);var re=(Z=new O(Z,"hex")).r,te=Z.s;if(re.cmpn(1)<0||re.cmp(this.n)>=0||te.cmpn(1)<0||te.cmp(this.n)>=0)return!1;var ae,J=te.invm(this.n),Y=J.mul(I).umod(this.n),oe=J.mul(re).umod(this.n);return this.curve._maxwellTrick?!(ae=this.g.jmulAdd(Y,j.getPublic(),oe)).isInfinity()&&ae.eqXToP(re):!(ae=this.g.mulAdd(Y,j.getPublic(),oe)).isInfinity()&&0===ae.getX().umod(this.n).cmp(re)},F.prototype.recoverPubKey=function(L,I,Z,j){R((3&Z)===Z,"The recovery param is more than two bits"),I=new O(I,j);var G=this.n,re=new p(L),te=I.r,J=I.s,Y=1&Z,oe=Z>>1;if(te.cmp(this.curve.p.umod(this.curve.n))>=0&&oe)throw new Error("Unable to find sencond key candinate");te=this.curve.pointFromX(oe?te.add(this.curve.n):te,Y);var ae=I.r.invm(G),se=G.sub(re).mul(ae).umod(G),de=J.mul(ae).umod(G);return this.g.mulAdd(se,te,de)},F.prototype.getKeyRecoveryParam=function(L,I,Z,j){if(null!==(I=new O(I,j)).recoveryParam)return I.recoveryParam;for(var G=0;G<4;G++){var re;try{re=this.recoverPubKey(L,I,G)}catch{continue}if(re.eq(Z))return G}throw new Error("Unable to find valid recovery factor")}},60541:(Fe,z,_)=>{"use strict";var p=_(88723),k=_(3136).assert;function H(x,R){this.ec=x,this.priv=null,this.pub=null,R.priv&&this._importPrivate(R.priv,R.privEnc),R.pub&&this._importPublic(R.pub,R.pubEnc)}Fe.exports=H,H.fromPublic=function(R,A,O){return A instanceof H?A:new H(R,{pub:A,pubEnc:O})},H.fromPrivate=function(R,A,O){return A instanceof H?A:new H(R,{priv:A,privEnc:O})},H.prototype.validate=function(){var R=this.getPublic();return R.isInfinity()?{result:!1,reason:"Invalid public key"}:R.validate()?R.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},H.prototype.getPublic=function(R,A){return"string"==typeof R&&(A=R,R=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),A?this.pub.encode(A,R):this.pub},H.prototype.getPrivate=function(R){return"hex"===R?this.priv.toString(16,2):this.priv},H.prototype._importPrivate=function(R,A){this.priv=new p(R,A||16),this.priv=this.priv.umod(this.ec.curve.n)},H.prototype._importPublic=function(R,A){if(R.x||R.y)return"mont"===this.ec.curve.type?k(R.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&k(R.x&&R.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(R.x,R.y));this.pub=this.ec.curve.decodePoint(R,A)},H.prototype.derive=function(R){return R.validate()||k(R.validate(),"public point not validated"),R.mul(this.priv).getX()},H.prototype.sign=function(R,A,O){return this.ec.sign(R,this,A,O)},H.prototype.verify=function(R,A){return this.ec.verify(R,A,this)},H.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},40484:(Fe,z,_)=>{"use strict";var p=_(88723),E=_(3136),k=E.assert;function H(F,L){if(F instanceof H)return F;this._importDER(F,L)||(k(F.r&&F.s,"Signature without r or s"),this.r=new p(F.r,16),this.s=new p(F.s,16),this.recoveryParam=void 0===F.recoveryParam?null:F.recoveryParam)}function x(){this.place=0}function R(F,L){var I=F[L.place++];if(!(128&I))return I;var Z=15&I;if(0===Z||Z>4)return!1;for(var j=0,G=0,re=L.place;G<Z;G++,re++)j<<=8,j|=F[re],j>>>=0;return!(j<=127)&&(L.place=re,j)}function A(F){for(var L=0,I=F.length-1;!F[L]&&!(128&F[L+1])&&L<I;)L++;return 0===L?F:F.slice(L)}function O(F,L){if(L<128)F.push(L);else{var I=1+(Math.log(L)/Math.LN2>>>3);for(F.push(128|I);--I;)F.push(L>>>(I<<3)&255);F.push(L)}}Fe.exports=H,H.prototype._importDER=function(L,I){L=E.toArray(L,I);var Z=new x;if(48!==L[Z.place++])return!1;var j=R(L,Z);if(!1===j||j+Z.place!==L.length||2!==L[Z.place++])return!1;var G=R(L,Z);if(!1===G)return!1;var re=L.slice(Z.place,G+Z.place);if(Z.place+=G,2!==L[Z.place++])return!1;var te=R(L,Z);if(!1===te||L.length!==te+Z.place)return!1;var J=L.slice(Z.place,te+Z.place);if(0===re[0]){if(!(128&re[1]))return!1;re=re.slice(1)}if(0===J[0]){if(!(128&J[1]))return!1;J=J.slice(1)}return this.r=new p(re),this.s=new p(J),this.recoveryParam=null,!0},H.prototype.toDER=function(L){var I=this.r.toArray(),Z=this.s.toArray();for(128&I[0]&&(I=[0].concat(I)),128&Z[0]&&(Z=[0].concat(Z)),I=A(I),Z=A(Z);!(Z[0]||128&Z[1]);)Z=Z.slice(1);var j=[2];O(j,I.length),(j=j.concat(I)).push(2),O(j,Z.length);var G=j.concat(Z),re=[48];return O(re,G.length),re=re.concat(G),E.encode(re,L)}},83045:(Fe,z,_)=>{"use strict";var p=_(52529),E=_(23401),k=_(3136),H=k.assert,x=k.parseBytes,R=_(87222),A=_(5451);function O(F){if(H("ed25519"===F,"only tested with ed25519 so far"),!(this instanceof O))return new O(F);this.curve=F=E[F].curve,this.g=F.g,this.g.precompute(F.n.bitLength()+1),this.pointClass=F.point().constructor,this.encodingLength=Math.ceil(F.n.bitLength()/8),this.hash=p.sha512}Fe.exports=O,O.prototype.sign=function(L,I){L=x(L);var Z=this.keyFromSecret(I),j=this.hashInt(Z.messagePrefix(),L),G=this.g.mul(j),re=this.encodePoint(G),te=this.hashInt(re,Z.pubBytes(),L).mul(Z.priv()),J=j.add(te).umod(this.curve.n);return this.makeSignature({R:G,S:J,Rencoded:re})},O.prototype.verify=function(L,I,Z){L=x(L),I=this.makeSignature(I);var j=this.keyFromPublic(Z),G=this.hashInt(I.Rencoded(),j.pubBytes(),L),re=this.g.mul(I.S());return I.R().add(j.pub().mul(G)).eq(re)},O.prototype.hashInt=function(){for(var L=this.hash(),I=0;I<arguments.length;I++)L.update(arguments[I]);return k.intFromLE(L.digest()).umod(this.curve.n)},O.prototype.keyFromPublic=function(L){return R.fromPublic(this,L)},O.prototype.keyFromSecret=function(L){return R.fromSecret(this,L)},O.prototype.makeSignature=function(L){return L instanceof A?L:new A(this,L)},O.prototype.encodePoint=function(L){var I=L.getY().toArray("le",this.encodingLength);return I[this.encodingLength-1]|=L.getX().isOdd()?128:0,I},O.prototype.decodePoint=function(L){var I=(L=k.parseBytes(L)).length-1,Z=L.slice(0,I).concat(-129&L[I]),j=!!(128&L[I]),G=k.intFromLE(Z);return this.curve.pointFromY(G,j)},O.prototype.encodeInt=function(L){return L.toArray("le",this.encodingLength)},O.prototype.decodeInt=function(L){return k.intFromLE(L)},O.prototype.isPoint=function(L){return L instanceof this.pointClass}},87222:(Fe,z,_)=>{"use strict";var p=_(3136),E=p.assert,k=p.parseBytes,H=p.cachedProperty;function x(R,A){this.eddsa=R,this._secret=k(A.secret),R.isPoint(A.pub)?this._pub=A.pub:this._pubBytes=k(A.pub)}x.fromPublic=function(A,O){return O instanceof x?O:new x(A,{pub:O})},x.fromSecret=function(A,O){return O instanceof x?O:new x(A,{secret:O})},x.prototype.secret=function(){return this._secret},H(x,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),H(x,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),H(x,"privBytes",function(){var A=this.eddsa,O=this.hash(),F=A.encodingLength-1,L=O.slice(0,A.encodingLength);return L[0]&=248,L[F]&=127,L[F]|=64,L}),H(x,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),H(x,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),H(x,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),x.prototype.sign=function(A){return E(this._secret,"KeyPair can only verify"),this.eddsa.sign(A,this)},x.prototype.verify=function(A,O){return this.eddsa.verify(A,O,this)},x.prototype.getSecret=function(A){return E(this._secret,"KeyPair is public only"),p.encode(this.secret(),A)},x.prototype.getPublic=function(A){return p.encode(this.pubBytes(),A)},Fe.exports=x},5451:(Fe,z,_)=>{"use strict";var p=_(88723),E=_(3136),k=E.assert,H=E.cachedProperty,x=E.parseBytes;function R(A,O){this.eddsa=A,"object"!=typeof O&&(O=x(O)),Array.isArray(O)&&(O={R:O.slice(0,A.encodingLength),S:O.slice(A.encodingLength)}),k(O.R&&O.S,"Signature without R or S"),A.isPoint(O.R)&&(this._R=O.R),O.S instanceof p&&(this._S=O.S),this._Rencoded=Array.isArray(O.R)?O.R:O.Rencoded,this._Sencoded=Array.isArray(O.S)?O.S:O.Sencoded}H(R,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),H(R,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),H(R,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),H(R,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),R.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},R.prototype.toHex=function(){return E.encode(this.toBytes(),"hex").toUpperCase()},Fe.exports=R},51416:Fe=>{Fe.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},3136:(Fe,z,_)=>{"use strict";var p=z,E=_(88723),k=_(39210),H=_(21832);p.assert=k,p.toArray=H.toArray,p.zero2=H.zero2,p.toHex=H.toHex,p.encode=H.encode,p.getNAF=function x(L,I,Z){var G,j=new Array(Math.max(L.bitLength(),Z)+1);for(G=0;G<j.length;G+=1)j[G]=0;var re=1<<I+1,te=L.clone();for(G=0;G<j.length;G++){var J,Y=te.andln(re-1);te.isOdd()?te.isubn(J=Y>(re>>1)-1?(re>>1)-Y:Y):J=0,j[G]=J,te.iushrn(1)}return j},p.getJSF=function R(L,I){var Z=[[],[]];L=L.clone(),I=I.clone();for(var re,j=0,G=0;L.cmpn(-j)>0||I.cmpn(-G)>0;){var Y,oe,te=L.andln(3)+j&3,J=I.andln(3)+G&3;3===te&&(te=-1),3===J&&(J=-1),Y=1&te?3!=(re=L.andln(7)+j&7)&&5!==re||2!==J?te:-te:0,Z[0].push(Y),oe=1&J?3!=(re=I.andln(7)+G&7)&&5!==re||2!==te?J:-J:0,Z[1].push(oe),2*j===Y+1&&(j=1-j),2*G===oe+1&&(G=1-G),L.iushrn(1),I.iushrn(1)}return Z},p.cachedProperty=function A(L,I,Z){var j="_"+I;L.prototype[I]=function(){return void 0!==this[j]?this[j]:this[j]=Z.call(this)}},p.parseBytes=function O(L){return"string"==typeof L?p.toArray(L,"hex"):L},p.intFromLE=function F(L){return new E(L,"hex","le")}},88723:function(Fe,z,_){!function(p,E){"use strict";function k(C,a){if(!C)throw new Error(a||"Assertion failed")}function H(C,a){C.super_=a;var u=function(){};u.prototype=a.prototype,C.prototype=new u,C.prototype.constructor=C}function x(C,a,u){if(x.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(u=a,a=10),this._init(C||0,a||10,u||"be"))}var R;"object"==typeof p?p.exports=x:E.BN=x,x.BN=x,x.wordSize=26;try{R=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:_(79368).Buffer}catch{}function A(C,a){var u=C.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function O(C,a,u){var y=A(C,u);return u-1>=a&&(y|=A(C,u-1)<<4),y}function F(C,a,u,y){for(var g=0,S=Math.min(C.length,u),T=a;T<S;T++){var N=C.charCodeAt(T)-48;g*=y,g+=N>=49?N-49+10:N>=17?N-17+10:N}return g}x.isBN=function(a){return a instanceof x||null!==a&&"object"==typeof a&&a.constructor.wordSize===x.wordSize&&Array.isArray(a.words)},x.max=function(a,u){return a.cmp(u)>0?a:u},x.min=function(a,u){return a.cmp(u)<0?a:u},x.prototype._init=function(a,u,y){if("number"==typeof a)return this._initNumber(a,u,y);if("object"==typeof a)return this._initArray(a,u,y);"hex"===u&&(u=16),k(u===(0|u)&&u>=2&&u<=36);var g=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(g++,this.negative=1),g<a.length&&(16===u?this._parseHex(a,g,y):(this._parseBase(a,u,g),"le"===y&&this._initArray(this.toArray(),u,y)))},x.prototype._initNumber=function(a,u,y){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(k(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),u,y)},x.prototype._initArray=function(a,u,y){if(k("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var S,T,N=0;if("be"===y)for(g=a.length-1,S=0;g>=0;g-=3)this.words[S]|=(T=a[g]|a[g-1]<<8|a[g-2]<<16)<<N&67108863,this.words[S+1]=T>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);else if("le"===y)for(g=0,S=0;g<a.length;g+=3)this.words[S]|=(T=a[g]|a[g+1]<<8|a[g+2]<<16)<<N&67108863,this.words[S+1]=T>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);return this.strip()},x.prototype._parseHex=function(a,u,y){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var N,S=0,T=0;if("be"===y)for(g=a.length-1;g>=u;g-=2)N=O(a,u,g)<<S,this.words[T]|=67108863&N,S>=18?(S-=18,this.words[T+=1]|=N>>>26):S+=8;else for(g=(a.length-u)%2==0?u+1:u;g<a.length;g+=2)N=O(a,u,g)<<S,this.words[T]|=67108863&N,S>=18?(S-=18,this.words[T+=1]|=N>>>26):S+=8;this.strip()},x.prototype._parseBase=function(a,u,y){this.words=[0],this.length=1;for(var g=0,S=1;S<=67108863;S*=u)g++;g--,S=S/u|0;for(var T=a.length-y,N=T%g,M=Math.min(T,T-N)+y,s=0,v=y;v<M;v+=g)s=F(a,v,v+g,u),this.imuln(S),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==N){var W=1;for(s=F(a,v,a.length,u),v=0;v<N;v++)W*=u;this.imuln(W),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},x.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},x.prototype.clone=function(){var a=new x(null);return this.copy(a),a},x.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},x.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},x.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var L=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Z=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function G(C,a,u){u.negative=a.negative^C.negative;var y=C.length+a.length|0;u.length=y,y=y-1|0;var g=0|C.words[0],S=0|a.words[0],T=g*S,M=T/67108864|0;u.words[0]=67108863&T;for(var s=1;s<y;s++){for(var v=M>>>26,W=67108863&M,K=Math.min(s,a.length-1),ee=Math.max(0,s-C.length+1);ee<=K;ee++)v+=(T=(g=0|C.words[s-ee|0])*(S=0|a.words[ee])+W)/67108864|0,W=67108863&T;u.words[s]=0|W,M=0|v}return 0!==M?u.words[s]=0|M:u.length--,u.strip()}x.prototype.toString=function(a,u){var y;if(u=0|u||1,16===(a=a||10)||"hex"===a){y="";for(var g=0,S=0,T=0;T<this.length;T++){var N=this.words[T],M=(16777215&(N<<g|S)).toString(16);y=0!=(S=N>>>24-g&16777215)||T!==this.length-1?L[6-M.length]+M+y:M+y,(g+=2)>=26&&(g-=26,T--)}for(0!==S&&(y=S.toString(16)+y);y.length%u!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(a===(0|a)&&a>=2&&a<=36){var s=I[a],v=Z[a];y="";var W=this.clone();for(W.negative=0;!W.isZero();){var K=W.modn(v).toString(a);y=(W=W.idivn(v)).isZero()?K+y:L[s-K.length]+K+y}for(this.isZero()&&(y="0"+y);y.length%u!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}k(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&k(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},x.prototype.toJSON=function(){return this.toString(16)},x.prototype.toBuffer=function(a,u){return k(typeof R<"u"),this.toArrayLike(R,a,u)},x.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},x.prototype.toArrayLike=function(a,u,y){var g=this.byteLength(),S=y||Math.max(1,g);k(g<=S,"byte array longer than desired length"),k(S>0,"Requested array length <= 0"),this.strip();var M,s,T="le"===u,N=new a(S),v=this.clone();if(T){for(s=0;!v.isZero();s++)M=v.andln(255),v.iushrn(8),N[s]=M;for(;s<S;s++)N[s]=0}else{for(s=0;s<S-g;s++)N[s]=0;for(s=0;!v.isZero();s++)M=v.andln(255),v.iushrn(8),N[S-s-1]=M}return N},x.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var u=a,y=0;return u>=4096&&(y+=13,u>>>=13),u>=64&&(y+=7,u>>>=7),u>=8&&(y+=4,u>>>=4),u>=2&&(y+=2,u>>>=2),y+u},x.prototype._zeroBits=function(a){if(0===a)return 26;var u=a,y=0;return 8191&u||(y+=13,u>>>=13),127&u||(y+=7,u>>>=7),15&u||(y+=4,u>>>=4),3&u||(y+=2,u>>>=2),1&u||y++,y},x.prototype.bitLength=function(){var u=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+u},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var y=this._zeroBits(this.words[u]);if(a+=y,26!==y)break}return a},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},x.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},x.prototype.ior=function(a){return k(!(this.negative|a.negative)),this.iuor(a)},x.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},x.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},x.prototype.iuand=function(a){var u;u=this.length>a.length?a:this;for(var y=0;y<u.length;y++)this.words[y]=this.words[y]&a.words[y];return this.length=u.length,this.strip()},x.prototype.iand=function(a){return k(!(this.negative|a.negative)),this.iuand(a)},x.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},x.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},x.prototype.iuxor=function(a){var u,y;this.length>a.length?(u=this,y=a):(u=a,y=this);for(var g=0;g<y.length;g++)this.words[g]=u.words[g]^y.words[g];if(this!==u)for(;g<u.length;g++)this.words[g]=u.words[g];return this.length=u.length,this.strip()},x.prototype.ixor=function(a){return k(!(this.negative|a.negative)),this.iuxor(a)},x.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},x.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},x.prototype.inotn=function(a){k("number"==typeof a&&a>=0);var u=0|Math.ceil(a/26),y=a%26;this._expand(u),y>0&&u--;for(var g=0;g<u;g++)this.words[g]=67108863&~this.words[g];return y>0&&(this.words[g]=~this.words[g]&67108863>>26-y),this.strip()},x.prototype.notn=function(a){return this.clone().inotn(a)},x.prototype.setn=function(a,u){k("number"==typeof a&&a>=0);var y=a/26|0,g=a%26;return this._expand(y+1),this.words[y]=u?this.words[y]|1<<g:this.words[y]&~(1<<g),this.strip()},x.prototype.iadd=function(a){var u,y,g;if(0!==this.negative&&0===a.negative)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();this.length>a.length?(y=this,g=a):(y=a,g=this);for(var S=0,T=0;T<g.length;T++)this.words[T]=67108863&(u=(0|y.words[T])+(0|g.words[T])+S),S=u>>>26;for(;0!==S&&T<y.length;T++)this.words[T]=67108863&(u=(0|y.words[T])+S),S=u>>>26;if(this.length=y.length,0!==S)this.words[this.length]=S,this.length++;else if(y!==this)for(;T<y.length;T++)this.words[T]=y.words[T];return this},x.prototype.add=function(a){var u;return 0!==a.negative&&0===this.negative?(a.negative=0,u=this.sub(a),a.negative^=1,u):0===a.negative&&0!==this.negative?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},x.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var g,S,y=this.cmp(a);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(g=this,S=a):(g=a,S=this);for(var T=0,N=0;N<S.length;N++)T=(u=(0|g.words[N])-(0|S.words[N])+T)>>26,this.words[N]=67108863&u;for(;0!==T&&N<g.length;N++)T=(u=(0|g.words[N])+T)>>26,this.words[N]=67108863&u;if(0===T&&N<g.length&&g!==this)for(;N<g.length;N++)this.words[N]=g.words[N];return this.length=Math.max(this.length,N),g!==this&&(this.negative=1),this.strip()},x.prototype.sub=function(a){return this.clone().isub(a)};var re=function(a,u,y){var M,s,v,g=a.words,S=u.words,T=y.words,N=0,W=0|g[0],K=8191&W,ee=W>>>13,ce=0|g[1],_e=8191&ce,Pe=ce>>>13,$e=0|g[2],Se=8191&$e,be=$e>>>13,Ne=0|g[3],ye=8191&Ne,Te=Ne>>>13,pe=0|g[4],fe=8191&pe,Q=pe>>>13,ie=0|g[5],ue=8191&ie,Ee=ie>>>13,ke=0|g[6],Ue=8191&ke,Le=ke>>>13,_t=0|g[7],Ve=8191&_t,Be=_t>>>13,lt=0|g[8],B=8191&lt,w=lt>>>13,m=0|g[9],U=8191&m,ne=m>>>13,ge=0|S[0],Ae=8191&ge,Qe=ge>>>13,Bt=0|S[1],gt=8191&Bt,It=Bt>>>13,Gt=0|S[2],un=8191&Gt,an=Gt>>>13,sr=0|S[3],Mn=8191&sr,Qt=sr>>>13,qt=0|S[4],Et=8191&qt,ht=qt>>>13,zt=0|S[5],Jt=8191&zt,dn=zt>>>13,hr=0|S[6],vt=8191&hr,xt=hr>>>13,St=0|S[7],Xe=8191&St,nt=St>>>13,Vt=0|S[8],Ot=8191&Vt,sn=Vt>>>13,Hn=0|S[9],bn=8191&Hn,In=Hn>>>13;y.negative=a.negative^u.negative,y.length=19;var Ar=(N+(M=Math.imul(K,Ae))|0)+((8191&(s=(s=Math.imul(K,Qe))+Math.imul(ee,Ae)|0))<<13)|0;N=((v=Math.imul(ee,Qe))+(s>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,M=Math.imul(_e,Ae),s=(s=Math.imul(_e,Qe))+Math.imul(Pe,Ae)|0,v=Math.imul(Pe,Qe);var Jn=(N+(M=M+Math.imul(K,gt)|0)|0)+((8191&(s=(s=s+Math.imul(K,It)|0)+Math.imul(ee,gt)|0))<<13)|0;N=((v=v+Math.imul(ee,It)|0)+(s>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,M=Math.imul(Se,Ae),s=(s=Math.imul(Se,Qe))+Math.imul(be,Ae)|0,v=Math.imul(be,Qe),M=M+Math.imul(_e,gt)|0,s=(s=s+Math.imul(_e,It)|0)+Math.imul(Pe,gt)|0,v=v+Math.imul(Pe,It)|0;var Ln=(N+(M=M+Math.imul(K,un)|0)|0)+((8191&(s=(s=s+Math.imul(K,an)|0)+Math.imul(ee,un)|0))<<13)|0;N=((v=v+Math.imul(ee,an)|0)+(s>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,M=Math.imul(ye,Ae),s=(s=Math.imul(ye,Qe))+Math.imul(Te,Ae)|0,v=Math.imul(Te,Qe),M=M+Math.imul(Se,gt)|0,s=(s=s+Math.imul(Se,It)|0)+Math.imul(be,gt)|0,v=v+Math.imul(be,It)|0,M=M+Math.imul(_e,un)|0,s=(s=s+Math.imul(_e,an)|0)+Math.imul(Pe,un)|0,v=v+Math.imul(Pe,an)|0;var $n=(N+(M=M+Math.imul(K,Mn)|0)|0)+((8191&(s=(s=s+Math.imul(K,Qt)|0)+Math.imul(ee,Mn)|0))<<13)|0;N=((v=v+Math.imul(ee,Qt)|0)+(s>>>13)|0)+($n>>>26)|0,$n&=67108863,M=Math.imul(fe,Ae),s=(s=Math.imul(fe,Qe))+Math.imul(Q,Ae)|0,v=Math.imul(Q,Qe),M=M+Math.imul(ye,gt)|0,s=(s=s+Math.imul(ye,It)|0)+Math.imul(Te,gt)|0,v=v+Math.imul(Te,It)|0,M=M+Math.imul(Se,un)|0,s=(s=s+Math.imul(Se,an)|0)+Math.imul(be,un)|0,v=v+Math.imul(be,an)|0,M=M+Math.imul(_e,Mn)|0,s=(s=s+Math.imul(_e,Qt)|0)+Math.imul(Pe,Mn)|0,v=v+Math.imul(Pe,Qt)|0;var st=(N+(M=M+Math.imul(K,Et)|0)|0)+((8191&(s=(s=s+Math.imul(K,ht)|0)+Math.imul(ee,Et)|0))<<13)|0;N=((v=v+Math.imul(ee,ht)|0)+(s>>>13)|0)+(st>>>26)|0,st&=67108863,M=Math.imul(ue,Ae),s=(s=Math.imul(ue,Qe))+Math.imul(Ee,Ae)|0,v=Math.imul(Ee,Qe),M=M+Math.imul(fe,gt)|0,s=(s=s+Math.imul(fe,It)|0)+Math.imul(Q,gt)|0,v=v+Math.imul(Q,It)|0,M=M+Math.imul(ye,un)|0,s=(s=s+Math.imul(ye,an)|0)+Math.imul(Te,un)|0,v=v+Math.imul(Te,an)|0,M=M+Math.imul(Se,Mn)|0,s=(s=s+Math.imul(Se,Qt)|0)+Math.imul(be,Mn)|0,v=v+Math.imul(be,Qt)|0,M=M+Math.imul(_e,Et)|0,s=(s=s+Math.imul(_e,ht)|0)+Math.imul(Pe,Et)|0,v=v+Math.imul(Pe,ht)|0;var Ge=(N+(M=M+Math.imul(K,Jt)|0)|0)+((8191&(s=(s=s+Math.imul(K,dn)|0)+Math.imul(ee,Jt)|0))<<13)|0;N=((v=v+Math.imul(ee,dn)|0)+(s>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,M=Math.imul(Ue,Ae),s=(s=Math.imul(Ue,Qe))+Math.imul(Le,Ae)|0,v=Math.imul(Le,Qe),M=M+Math.imul(ue,gt)|0,s=(s=s+Math.imul(ue,It)|0)+Math.imul(Ee,gt)|0,v=v+Math.imul(Ee,It)|0,M=M+Math.imul(fe,un)|0,s=(s=s+Math.imul(fe,an)|0)+Math.imul(Q,un)|0,v=v+Math.imul(Q,an)|0,M=M+Math.imul(ye,Mn)|0,s=(s=s+Math.imul(ye,Qt)|0)+Math.imul(Te,Mn)|0,v=v+Math.imul(Te,Qt)|0,M=M+Math.imul(Se,Et)|0,s=(s=s+Math.imul(Se,ht)|0)+Math.imul(be,Et)|0,v=v+Math.imul(be,ht)|0,M=M+Math.imul(_e,Jt)|0,s=(s=s+Math.imul(_e,dn)|0)+Math.imul(Pe,Jt)|0,v=v+Math.imul(Pe,dn)|0;var ct=(N+(M=M+Math.imul(K,vt)|0)|0)+((8191&(s=(s=s+Math.imul(K,xt)|0)+Math.imul(ee,vt)|0))<<13)|0;N=((v=v+Math.imul(ee,xt)|0)+(s>>>13)|0)+(ct>>>26)|0,ct&=67108863,M=Math.imul(Ve,Ae),s=(s=Math.imul(Ve,Qe))+Math.imul(Be,Ae)|0,v=Math.imul(Be,Qe),M=M+Math.imul(Ue,gt)|0,s=(s=s+Math.imul(Ue,It)|0)+Math.imul(Le,gt)|0,v=v+Math.imul(Le,It)|0,M=M+Math.imul(ue,un)|0,s=(s=s+Math.imul(ue,an)|0)+Math.imul(Ee,un)|0,v=v+Math.imul(Ee,an)|0,M=M+Math.imul(fe,Mn)|0,s=(s=s+Math.imul(fe,Qt)|0)+Math.imul(Q,Mn)|0,v=v+Math.imul(Q,Qt)|0,M=M+Math.imul(ye,Et)|0,s=(s=s+Math.imul(ye,ht)|0)+Math.imul(Te,Et)|0,v=v+Math.imul(Te,ht)|0,M=M+Math.imul(Se,Jt)|0,s=(s=s+Math.imul(Se,dn)|0)+Math.imul(be,Jt)|0,v=v+Math.imul(be,dn)|0,M=M+Math.imul(_e,vt)|0,s=(s=s+Math.imul(_e,xt)|0)+Math.imul(Pe,vt)|0,v=v+Math.imul(Pe,xt)|0;var Yt=(N+(M=M+Math.imul(K,Xe)|0)|0)+((8191&(s=(s=s+Math.imul(K,nt)|0)+Math.imul(ee,Xe)|0))<<13)|0;N=((v=v+Math.imul(ee,nt)|0)+(s>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,M=Math.imul(B,Ae),s=(s=Math.imul(B,Qe))+Math.imul(w,Ae)|0,v=Math.imul(w,Qe),M=M+Math.imul(Ve,gt)|0,s=(s=s+Math.imul(Ve,It)|0)+Math.imul(Be,gt)|0,v=v+Math.imul(Be,It)|0,M=M+Math.imul(Ue,un)|0,s=(s=s+Math.imul(Ue,an)|0)+Math.imul(Le,un)|0,v=v+Math.imul(Le,an)|0,M=M+Math.imul(ue,Mn)|0,s=(s=s+Math.imul(ue,Qt)|0)+Math.imul(Ee,Mn)|0,v=v+Math.imul(Ee,Qt)|0,M=M+Math.imul(fe,Et)|0,s=(s=s+Math.imul(fe,ht)|0)+Math.imul(Q,Et)|0,v=v+Math.imul(Q,ht)|0,M=M+Math.imul(ye,Jt)|0,s=(s=s+Math.imul(ye,dn)|0)+Math.imul(Te,Jt)|0,v=v+Math.imul(Te,dn)|0,M=M+Math.imul(Se,vt)|0,s=(s=s+Math.imul(Se,xt)|0)+Math.imul(be,vt)|0,v=v+Math.imul(be,xt)|0,M=M+Math.imul(_e,Xe)|0,s=(s=s+Math.imul(_e,nt)|0)+Math.imul(Pe,Xe)|0,v=v+Math.imul(Pe,nt)|0;var _n=(N+(M=M+Math.imul(K,Ot)|0)|0)+((8191&(s=(s=s+Math.imul(K,sn)|0)+Math.imul(ee,Ot)|0))<<13)|0;N=((v=v+Math.imul(ee,sn)|0)+(s>>>13)|0)+(_n>>>26)|0,_n&=67108863,M=Math.imul(U,Ae),s=(s=Math.imul(U,Qe))+Math.imul(ne,Ae)|0,v=Math.imul(ne,Qe),M=M+Math.imul(B,gt)|0,s=(s=s+Math.imul(B,It)|0)+Math.imul(w,gt)|0,v=v+Math.imul(w,It)|0,M=M+Math.imul(Ve,un)|0,s=(s=s+Math.imul(Ve,an)|0)+Math.imul(Be,un)|0,v=v+Math.imul(Be,an)|0,M=M+Math.imul(Ue,Mn)|0,s=(s=s+Math.imul(Ue,Qt)|0)+Math.imul(Le,Mn)|0,v=v+Math.imul(Le,Qt)|0,M=M+Math.imul(ue,Et)|0,s=(s=s+Math.imul(ue,ht)|0)+Math.imul(Ee,Et)|0,v=v+Math.imul(Ee,ht)|0,M=M+Math.imul(fe,Jt)|0,s=(s=s+Math.imul(fe,dn)|0)+Math.imul(Q,Jt)|0,v=v+Math.imul(Q,dn)|0,M=M+Math.imul(ye,vt)|0,s=(s=s+Math.imul(ye,xt)|0)+Math.imul(Te,vt)|0,v=v+Math.imul(Te,xt)|0,M=M+Math.imul(Se,Xe)|0,s=(s=s+Math.imul(Se,nt)|0)+Math.imul(be,Xe)|0,v=v+Math.imul(be,nt)|0,M=M+Math.imul(_e,Ot)|0,s=(s=s+Math.imul(_e,sn)|0)+Math.imul(Pe,Ot)|0,v=v+Math.imul(Pe,sn)|0;var Wn=(N+(M=M+Math.imul(K,bn)|0)|0)+((8191&(s=(s=s+Math.imul(K,In)|0)+Math.imul(ee,bn)|0))<<13)|0;N=((v=v+Math.imul(ee,In)|0)+(s>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,M=Math.imul(U,gt),s=(s=Math.imul(U,It))+Math.imul(ne,gt)|0,v=Math.imul(ne,It),M=M+Math.imul(B,un)|0,s=(s=s+Math.imul(B,an)|0)+Math.imul(w,un)|0,v=v+Math.imul(w,an)|0,M=M+Math.imul(Ve,Mn)|0,s=(s=s+Math.imul(Ve,Qt)|0)+Math.imul(Be,Mn)|0,v=v+Math.imul(Be,Qt)|0,M=M+Math.imul(Ue,Et)|0,s=(s=s+Math.imul(Ue,ht)|0)+Math.imul(Le,Et)|0,v=v+Math.imul(Le,ht)|0,M=M+Math.imul(ue,Jt)|0,s=(s=s+Math.imul(ue,dn)|0)+Math.imul(Ee,Jt)|0,v=v+Math.imul(Ee,dn)|0,M=M+Math.imul(fe,vt)|0,s=(s=s+Math.imul(fe,xt)|0)+Math.imul(Q,vt)|0,v=v+Math.imul(Q,xt)|0,M=M+Math.imul(ye,Xe)|0,s=(s=s+Math.imul(ye,nt)|0)+Math.imul(Te,Xe)|0,v=v+Math.imul(Te,nt)|0,M=M+Math.imul(Se,Ot)|0,s=(s=s+Math.imul(Se,sn)|0)+Math.imul(be,Ot)|0,v=v+Math.imul(be,sn)|0;var Yn=(N+(M=M+Math.imul(_e,bn)|0)|0)+((8191&(s=(s=s+Math.imul(_e,In)|0)+Math.imul(Pe,bn)|0))<<13)|0;N=((v=v+Math.imul(Pe,In)|0)+(s>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,M=Math.imul(U,un),s=(s=Math.imul(U,an))+Math.imul(ne,un)|0,v=Math.imul(ne,an),M=M+Math.imul(B,Mn)|0,s=(s=s+Math.imul(B,Qt)|0)+Math.imul(w,Mn)|0,v=v+Math.imul(w,Qt)|0,M=M+Math.imul(Ve,Et)|0,s=(s=s+Math.imul(Ve,ht)|0)+Math.imul(Be,Et)|0,v=v+Math.imul(Be,ht)|0,M=M+Math.imul(Ue,Jt)|0,s=(s=s+Math.imul(Ue,dn)|0)+Math.imul(Le,Jt)|0,v=v+Math.imul(Le,dn)|0,M=M+Math.imul(ue,vt)|0,s=(s=s+Math.imul(ue,xt)|0)+Math.imul(Ee,vt)|0,v=v+Math.imul(Ee,xt)|0,M=M+Math.imul(fe,Xe)|0,s=(s=s+Math.imul(fe,nt)|0)+Math.imul(Q,Xe)|0,v=v+Math.imul(Q,nt)|0,M=M+Math.imul(ye,Ot)|0,s=(s=s+Math.imul(ye,sn)|0)+Math.imul(Te,Ot)|0,v=v+Math.imul(Te,sn)|0;var yr=(N+(M=M+Math.imul(Se,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Se,In)|0)+Math.imul(be,bn)|0))<<13)|0;N=((v=v+Math.imul(be,In)|0)+(s>>>13)|0)+(yr>>>26)|0,yr&=67108863,M=Math.imul(U,Mn),s=(s=Math.imul(U,Qt))+Math.imul(ne,Mn)|0,v=Math.imul(ne,Qt),M=M+Math.imul(B,Et)|0,s=(s=s+Math.imul(B,ht)|0)+Math.imul(w,Et)|0,v=v+Math.imul(w,ht)|0,M=M+Math.imul(Ve,Jt)|0,s=(s=s+Math.imul(Ve,dn)|0)+Math.imul(Be,Jt)|0,v=v+Math.imul(Be,dn)|0,M=M+Math.imul(Ue,vt)|0,s=(s=s+Math.imul(Ue,xt)|0)+Math.imul(Le,vt)|0,v=v+Math.imul(Le,xt)|0,M=M+Math.imul(ue,Xe)|0,s=(s=s+Math.imul(ue,nt)|0)+Math.imul(Ee,Xe)|0,v=v+Math.imul(Ee,nt)|0,M=M+Math.imul(fe,Ot)|0,s=(s=s+Math.imul(fe,sn)|0)+Math.imul(Q,Ot)|0,v=v+Math.imul(Q,sn)|0;var Nr=(N+(M=M+Math.imul(ye,bn)|0)|0)+((8191&(s=(s=s+Math.imul(ye,In)|0)+Math.imul(Te,bn)|0))<<13)|0;N=((v=v+Math.imul(Te,In)|0)+(s>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,M=Math.imul(U,Et),s=(s=Math.imul(U,ht))+Math.imul(ne,Et)|0,v=Math.imul(ne,ht),M=M+Math.imul(B,Jt)|0,s=(s=s+Math.imul(B,dn)|0)+Math.imul(w,Jt)|0,v=v+Math.imul(w,dn)|0,M=M+Math.imul(Ve,vt)|0,s=(s=s+Math.imul(Ve,xt)|0)+Math.imul(Be,vt)|0,v=v+Math.imul(Be,xt)|0,M=M+Math.imul(Ue,Xe)|0,s=(s=s+Math.imul(Ue,nt)|0)+Math.imul(Le,Xe)|0,v=v+Math.imul(Le,nt)|0,M=M+Math.imul(ue,Ot)|0,s=(s=s+Math.imul(ue,sn)|0)+Math.imul(Ee,Ot)|0,v=v+Math.imul(Ee,sn)|0;var Ur=(N+(M=M+Math.imul(fe,bn)|0)|0)+((8191&(s=(s=s+Math.imul(fe,In)|0)+Math.imul(Q,bn)|0))<<13)|0;N=((v=v+Math.imul(Q,In)|0)+(s>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,M=Math.imul(U,Jt),s=(s=Math.imul(U,dn))+Math.imul(ne,Jt)|0,v=Math.imul(ne,dn),M=M+Math.imul(B,vt)|0,s=(s=s+Math.imul(B,xt)|0)+Math.imul(w,vt)|0,v=v+Math.imul(w,xt)|0,M=M+Math.imul(Ve,Xe)|0,s=(s=s+Math.imul(Ve,nt)|0)+Math.imul(Be,Xe)|0,v=v+Math.imul(Be,nt)|0,M=M+Math.imul(Ue,Ot)|0,s=(s=s+Math.imul(Ue,sn)|0)+Math.imul(Le,Ot)|0,v=v+Math.imul(Le,sn)|0;var Kr=(N+(M=M+Math.imul(ue,bn)|0)|0)+((8191&(s=(s=s+Math.imul(ue,In)|0)+Math.imul(Ee,bn)|0))<<13)|0;N=((v=v+Math.imul(Ee,In)|0)+(s>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,M=Math.imul(U,vt),s=(s=Math.imul(U,xt))+Math.imul(ne,vt)|0,v=Math.imul(ne,xt),M=M+Math.imul(B,Xe)|0,s=(s=s+Math.imul(B,nt)|0)+Math.imul(w,Xe)|0,v=v+Math.imul(w,nt)|0,M=M+Math.imul(Ve,Ot)|0,s=(s=s+Math.imul(Ve,sn)|0)+Math.imul(Be,Ot)|0,v=v+Math.imul(Be,sn)|0;var Xr=(N+(M=M+Math.imul(Ue,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Ue,In)|0)+Math.imul(Le,bn)|0))<<13)|0;N=((v=v+Math.imul(Le,In)|0)+(s>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,M=Math.imul(U,Xe),s=(s=Math.imul(U,nt))+Math.imul(ne,Xe)|0,v=Math.imul(ne,nt),M=M+Math.imul(B,Ot)|0,s=(s=s+Math.imul(B,sn)|0)+Math.imul(w,Ot)|0,v=v+Math.imul(w,sn)|0;var ri=(N+(M=M+Math.imul(Ve,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Ve,In)|0)+Math.imul(Be,bn)|0))<<13)|0;N=((v=v+Math.imul(Be,In)|0)+(s>>>13)|0)+(ri>>>26)|0,ri&=67108863,M=Math.imul(U,Ot),s=(s=Math.imul(U,sn))+Math.imul(ne,Ot)|0,v=Math.imul(ne,sn);var en=(N+(M=M+Math.imul(B,bn)|0)|0)+((8191&(s=(s=s+Math.imul(B,In)|0)+Math.imul(w,bn)|0))<<13)|0;N=((v=v+Math.imul(w,In)|0)+(s>>>13)|0)+(en>>>26)|0,en&=67108863;var wn=(N+(M=Math.imul(U,bn))|0)+((8191&(s=(s=Math.imul(U,In))+Math.imul(ne,bn)|0))<<13)|0;return N=((v=Math.imul(ne,In))+(s>>>13)|0)+(wn>>>26)|0,wn&=67108863,T[0]=Ar,T[1]=Jn,T[2]=Ln,T[3]=$n,T[4]=st,T[5]=Ge,T[6]=ct,T[7]=Yt,T[8]=_n,T[9]=Wn,T[10]=Yn,T[11]=yr,T[12]=Nr,T[13]=Ur,T[14]=Kr,T[15]=Xr,T[16]=ri,T[17]=en,T[18]=wn,0!==N&&(T[19]=N,y.length++),y};function J(C,a,u){return(new Y).mulp(C,a,u)}function Y(C,a){this.x=C,this.y=a}Math.imul||(re=G),x.prototype.mulTo=function(a,u){var y,g=this.length+a.length;return y=10===this.length&&10===a.length?re(this,a,u):g<63?G(this,a,u):g<1024?function te(C,a,u){u.negative=a.negative^C.negative,u.length=C.length+a.length;for(var y=0,g=0,S=0;S<u.length-1;S++){var T=g;g=0;for(var N=67108863&y,M=Math.min(S,a.length-1),s=Math.max(0,S-C.length+1);s<=M;s++){var ee=(0|C.words[S-s])*(0|a.words[s]),ce=67108863&ee;N=67108863&(ce=ce+N|0),g+=(T=(T=T+(ee/67108864|0)|0)+(ce>>>26)|0)>>>26,T&=67108863}u.words[S]=N,y=T,T=g}return 0!==y?u.words[S]=y:u.length--,u.strip()}(this,a,u):J(this,a,u),y},Y.prototype.makeRBT=function(a){for(var u=new Array(a),y=x.prototype._countBits(a)-1,g=0;g<a;g++)u[g]=this.revBin(g,y,a);return u},Y.prototype.revBin=function(a,u,y){if(0===a||a===y-1)return a;for(var g=0,S=0;S<u;S++)g|=(1&a)<<u-S-1,a>>=1;return g},Y.prototype.permute=function(a,u,y,g,S,T){for(var N=0;N<T;N++)g[N]=u[a[N]],S[N]=y[a[N]]},Y.prototype.transform=function(a,u,y,g,S,T){this.permute(T,a,u,y,g,S);for(var N=1;N<S;N<<=1)for(var M=N<<1,s=Math.cos(2*Math.PI/M),v=Math.sin(2*Math.PI/M),W=0;W<S;W+=M)for(var K=s,ee=v,ce=0;ce<N;ce++){var _e=y[W+ce],Pe=g[W+ce],$e=y[W+ce+N],Se=g[W+ce+N],be=K*$e-ee*Se;Se=K*Se+ee*$e,y[W+ce]=_e+($e=be),g[W+ce]=Pe+Se,y[W+ce+N]=_e-$e,g[W+ce+N]=Pe-Se,ce!==M&&(be=s*K-v*ee,ee=s*ee+v*K,K=be)}},Y.prototype.guessLen13b=function(a,u){var y=1|Math.max(u,a),g=1&y,S=0;for(y=y/2|0;y;y>>>=1)S++;return 1<<S+1+g},Y.prototype.conjugate=function(a,u,y){if(!(y<=1))for(var g=0;g<y/2;g++){var S=a[g];a[g]=a[y-g-1],a[y-g-1]=S,S=u[g],u[g]=-u[y-g-1],u[y-g-1]=-S}},Y.prototype.normalize13b=function(a,u){for(var y=0,g=0;g<u/2;g++){var S=8192*Math.round(a[2*g+1]/u)+Math.round(a[2*g]/u)+y;a[g]=67108863&S,y=S<67108864?0:S/67108864|0}return a},Y.prototype.convert13b=function(a,u,y,g){for(var S=0,T=0;T<u;T++)y[2*T]=8191&(S+=0|a[T]),y[2*T+1]=8191&(S>>>=13),S>>>=13;for(T=2*u;T<g;++T)y[T]=0;k(0===S),k(!(-8192&S))},Y.prototype.stub=function(a){for(var u=new Array(a),y=0;y<a;y++)u[y]=0;return u},Y.prototype.mulp=function(a,u,y){var g=2*this.guessLen13b(a.length,u.length),S=this.makeRBT(g),T=this.stub(g),N=new Array(g),M=new Array(g),s=new Array(g),v=new Array(g),W=new Array(g),K=new Array(g),ee=y.words;ee.length=g,this.convert13b(a.words,a.length,N,g),this.convert13b(u.words,u.length,v,g),this.transform(N,T,M,s,g,S),this.transform(v,T,W,K,g,S);for(var ce=0;ce<g;ce++){var _e=M[ce]*W[ce]-s[ce]*K[ce];s[ce]=M[ce]*K[ce]+s[ce]*W[ce],M[ce]=_e}return this.conjugate(M,s,g),this.transform(M,s,ee,T,g,S),this.conjugate(ee,T,g),this.normalize13b(ee,g),y.negative=a.negative^u.negative,y.length=a.length+u.length,y.strip()},x.prototype.mul=function(a){var u=new x(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},x.prototype.mulf=function(a){var u=new x(null);return u.words=new Array(this.length+a.length),J(this,a,u)},x.prototype.imul=function(a){return this.clone().mulTo(a,this)},x.prototype.imuln=function(a){k("number"==typeof a),k(a<67108864);for(var u=0,y=0;y<this.length;y++){var g=(0|this.words[y])*a,S=(67108863&g)+(67108863&u);u>>=26,u+=g/67108864|0,u+=S>>>26,this.words[y]=67108863&S}return 0!==u&&(this.words[y]=u,this.length++),this},x.prototype.muln=function(a){return this.clone().imuln(a)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(a){var u=function j(C){for(var a=new Array(C.bitLength()),u=0;u<a.length;u++){var g=u%26;a[u]=(C.words[u/26|0]&1<<g)>>>g}return a}(a);if(0===u.length)return new x(1);for(var y=this,g=0;g<u.length&&0===u[g];g++,y=y.sqr());if(++g<u.length)for(var S=y.sqr();g<u.length;g++,S=S.sqr())0!==u[g]&&(y=y.mul(S));return y},x.prototype.iushln=function(a){k("number"==typeof a&&a>=0);var S,u=a%26,y=(a-u)/26,g=67108863>>>26-u<<26-u;if(0!==u){var T=0;for(S=0;S<this.length;S++){var N=this.words[S]&g;this.words[S]=(0|this.words[S])-N<<u|T,T=N>>>26-u}T&&(this.words[S]=T,this.length++)}if(0!==y){for(S=this.length-1;S>=0;S--)this.words[S+y]=this.words[S];for(S=0;S<y;S++)this.words[S]=0;this.length+=y}return this.strip()},x.prototype.ishln=function(a){return k(0===this.negative),this.iushln(a)},x.prototype.iushrn=function(a,u,y){var g;k("number"==typeof a&&a>=0),g=u?(u-u%26)/26:0;var S=a%26,T=Math.min((a-S)/26,this.length),N=67108863^67108863>>>S<<S,M=y;if(g-=T,g=Math.max(0,g),M){for(var s=0;s<T;s++)M.words[s]=this.words[s];M.length=T}if(0!==T)if(this.length>T)for(this.length-=T,s=0;s<this.length;s++)this.words[s]=this.words[s+T];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=g);s--){var W=0|this.words[s];this.words[s]=v<<26-S|W>>>S,v=W&N}return M&&0!==v&&(M.words[M.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},x.prototype.ishrn=function(a,u,y){return k(0===this.negative),this.iushrn(a,u,y)},x.prototype.shln=function(a){return this.clone().ishln(a)},x.prototype.ushln=function(a){return this.clone().iushln(a)},x.prototype.shrn=function(a){return this.clone().ishrn(a)},x.prototype.ushrn=function(a){return this.clone().iushrn(a)},x.prototype.testn=function(a){k("number"==typeof a&&a>=0);var u=a%26,y=(a-u)/26;return!(this.length<=y||!(this.words[y]&1<<u))},x.prototype.imaskn=function(a){k("number"==typeof a&&a>=0);var u=a%26,y=(a-u)/26;return k(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==u&&y++,this.length=Math.min(y,this.length),0!==u&&(this.words[this.length-1]&=67108863^67108863>>>u<<u),this.strip())},x.prototype.maskn=function(a){return this.clone().imaskn(a)},x.prototype.iaddn=function(a){return k("number"==typeof a),k(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},x.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},x.prototype.isubn=function(a){if(k("number"==typeof a),k(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},x.prototype.addn=function(a){return this.clone().iaddn(a)},x.prototype.subn=function(a){return this.clone().isubn(a)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(a,u,y){var S;this._expand(a.length+y);var T,N=0;for(S=0;S<a.length;S++){T=(0|this.words[S+y])+N;var M=(0|a.words[S])*u;N=((T-=67108863&M)>>26)-(M/67108864|0),this.words[S+y]=67108863&T}for(;S<this.length-y;S++)N=(T=(0|this.words[S+y])+N)>>26,this.words[S+y]=67108863&T;if(0===N)return this.strip();for(k(-1===N),N=0,S=0;S<this.length;S++)N=(T=-(0|this.words[S])+N)>>26,this.words[S]=67108863&T;return this.negative=1,this.strip()},x.prototype._wordDiv=function(a,u){var y,g=this.clone(),S=a,T=0|S.words[S.length-1];0!=(y=26-this._countBits(T))&&(S=S.ushln(y),g.iushln(y),T=0|S.words[S.length-1]);var s,M=g.length-S.length;if("mod"!==u){(s=new x(null)).length=M+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var W=g.clone()._ishlnsubmul(S,1,M);0===W.negative&&(g=W,s&&(s.words[M]=1));for(var K=M-1;K>=0;K--){var ee=67108864*(0|g.words[S.length+K])+(0|g.words[S.length+K-1]);for(ee=Math.min(ee/T|0,67108863),g._ishlnsubmul(S,ee,K);0!==g.negative;)ee--,g.negative=0,g._ishlnsubmul(S,1,K),g.isZero()||(g.negative^=1);s&&(s.words[K]=ee)}return s&&s.strip(),g.strip(),"div"!==u&&0!==y&&g.iushrn(y),{div:s||null,mod:g}},x.prototype.divmod=function(a,u,y){return k(!a.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===a.negative?(T=this.neg().divmod(a,u),"mod"!==u&&(g=T.div.neg()),"div"!==u&&(S=T.mod.neg(),y&&0!==S.negative&&S.iadd(a)),{div:g,mod:S}):0===this.negative&&0!==a.negative?(T=this.divmod(a.neg(),u),"mod"!==u&&(g=T.div.neg()),{div:g,mod:T.mod}):this.negative&a.negative?(T=this.neg().divmod(a.neg(),u),"div"!==u&&(S=T.mod.neg(),y&&0!==S.negative&&S.isub(a)),{div:T.div,mod:S}):a.length>this.length||this.cmp(a)<0?{div:new x(0),mod:this}:1===a.length?"div"===u?{div:this.divn(a.words[0]),mod:null}:"mod"===u?{div:null,mod:new x(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new x(this.modn(a.words[0]))}:this._wordDiv(a,u);var g,S,T},x.prototype.div=function(a){return this.divmod(a,"div",!1).div},x.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},x.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},x.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var y=0!==u.div.negative?u.mod.isub(a):u.mod,g=a.ushrn(1),S=a.andln(1),T=y.cmp(g);return T<0||1===S&&0===T?u.div:0!==u.div.negative?u.div.isubn(1):u.div.iaddn(1)},x.prototype.modn=function(a){k(a<=67108863);for(var u=(1<<26)%a,y=0,g=this.length-1;g>=0;g--)y=(u*y+(0|this.words[g]))%a;return y},x.prototype.idivn=function(a){k(a<=67108863);for(var u=0,y=this.length-1;y>=0;y--){var g=(0|this.words[y])+67108864*u;this.words[y]=g/a|0,u=g%a}return this.strip()},x.prototype.divn=function(a){return this.clone().idivn(a)},x.prototype.egcd=function(a){k(0===a.negative),k(!a.isZero());var u=this,y=a.clone();u=0!==u.negative?u.umod(a):u.clone();for(var g=new x(1),S=new x(0),T=new x(0),N=new x(1),M=0;u.isEven()&&y.isEven();)u.iushrn(1),y.iushrn(1),++M;for(var s=y.clone(),v=u.clone();!u.isZero();){for(var W=0,K=1;!(u.words[0]&K)&&W<26;++W,K<<=1);if(W>0)for(u.iushrn(W);W-- >0;)(g.isOdd()||S.isOdd())&&(g.iadd(s),S.isub(v)),g.iushrn(1),S.iushrn(1);for(var ee=0,ce=1;!(y.words[0]&ce)&&ee<26;++ee,ce<<=1);if(ee>0)for(y.iushrn(ee);ee-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(s),N.isub(v)),T.iushrn(1),N.iushrn(1);u.cmp(y)>=0?(u.isub(y),g.isub(T),S.isub(N)):(y.isub(u),T.isub(g),N.isub(S))}return{a:T,b:N,gcd:y.iushln(M)}},x.prototype._invmp=function(a){k(0===a.negative),k(!a.isZero());var W,u=this,y=a.clone();u=0!==u.negative?u.umod(a):u.clone();for(var g=new x(1),S=new x(0),T=y.clone();u.cmpn(1)>0&&y.cmpn(1)>0;){for(var N=0,M=1;!(u.words[0]&M)&&N<26;++N,M<<=1);if(N>0)for(u.iushrn(N);N-- >0;)g.isOdd()&&g.iadd(T),g.iushrn(1);for(var s=0,v=1;!(y.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(y.iushrn(s);s-- >0;)S.isOdd()&&S.iadd(T),S.iushrn(1);u.cmp(y)>=0?(u.isub(y),g.isub(S)):(y.isub(u),S.isub(g))}return(W=0===u.cmpn(1)?g:S).cmpn(0)<0&&W.iadd(a),W},x.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),y=a.clone();u.negative=0,y.negative=0;for(var g=0;u.isEven()&&y.isEven();g++)u.iushrn(1),y.iushrn(1);for(;;){for(;u.isEven();)u.iushrn(1);for(;y.isEven();)y.iushrn(1);var S=u.cmp(y);if(S<0){var T=u;u=y,y=T}else if(0===S||0===y.cmpn(1))break;u.isub(y)}return y.iushln(g)},x.prototype.invm=function(a){return this.egcd(a).a.umod(a)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(a){return this.words[0]&a},x.prototype.bincn=function(a){k("number"==typeof a);var u=a%26,y=(a-u)/26,g=1<<u;if(this.length<=y)return this._expand(y+1),this.words[y]|=g,this;for(var S=g,T=y;0!==S&&T<this.length;T++){var N=0|this.words[T];S=(N+=S)>>>26,this.words[T]=N&=67108863}return 0!==S&&(this.words[T]=S,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(a){var y,u=a<0;if(0!==this.negative&&!u)return-1;if(0===this.negative&&u)return 1;if(this.strip(),this.length>1)y=1;else{u&&(a=-a),k(a<=67108863,"Number is too big");var g=0|this.words[0];y=g===a?0:g<a?-1:1}return 0!==this.negative?0|-y:y},x.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var u=this.ucmp(a);return 0!==this.negative?0|-u:u},x.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,y=this.length-1;y>=0;y--){var g=0|this.words[y],S=0|a.words[y];if(g!==S){g<S?u=-1:g>S&&(u=1);break}}return u},x.prototype.gtn=function(a){return 1===this.cmpn(a)},x.prototype.gt=function(a){return 1===this.cmp(a)},x.prototype.gten=function(a){return this.cmpn(a)>=0},x.prototype.gte=function(a){return this.cmp(a)>=0},x.prototype.ltn=function(a){return-1===this.cmpn(a)},x.prototype.lt=function(a){return-1===this.cmp(a)},x.prototype.lten=function(a){return this.cmpn(a)<=0},x.prototype.lte=function(a){return this.cmp(a)<=0},x.prototype.eqn=function(a){return 0===this.cmpn(a)},x.prototype.eq=function(a){return 0===this.cmp(a)},x.red=function(a){return new xe(a)},x.prototype.toRed=function(a){return k(!this.red,"Already a number in reduction context"),k(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},x.prototype.fromRed=function(){return k(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(a){return this.red=a,this},x.prototype.forceRed=function(a){return k(!this.red,"Already a number in reduction context"),this._forceRed(a)},x.prototype.redAdd=function(a){return k(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},x.prototype.redIAdd=function(a){return k(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},x.prototype.redSub=function(a){return k(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},x.prototype.redISub=function(a){return k(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},x.prototype.redShl=function(a){return k(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},x.prototype.redMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},x.prototype.redIMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},x.prototype.redSqr=function(){return k(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return k(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return k(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return k(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return k(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(a){return k(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var oe={k256:null,p224:null,p192:null,p25519:null};function ae(C,a){this.name=C,this.p=new x(a,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function se(){ae.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function de(){ae.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function le(){ae.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function we(){ae.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function xe(C){if("string"==typeof C){var a=x._prime(C);this.m=a.p,this.prime=a}else k(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Ce(C){xe.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ae.prototype._tmp=function(){var a=new x(null);return a.words=new Array(Math.ceil(this.n/13)),a},ae.prototype.ireduce=function(a){var y,u=a;do{this.split(u,this.tmp),y=(u=(u=this.imulK(u)).iadd(this.tmp)).bitLength()}while(y>this.n);var g=y<this.n?-1:u.ucmp(this.p);return 0===g?(u.words[0]=0,u.length=1):g>0?u.isub(this.p):void 0!==u.strip?u.strip():u._strip(),u},ae.prototype.split=function(a,u){a.iushrn(this.n,0,u)},ae.prototype.imulK=function(a){return a.imul(this.k)},H(se,ae),se.prototype.split=function(a,u){for(var y=4194303,g=Math.min(a.length,9),S=0;S<g;S++)u.words[S]=a.words[S];if(u.length=g,a.length<=9)return a.words[0]=0,void(a.length=1);var T=a.words[9];for(u.words[u.length++]=T&y,S=10;S<a.length;S++){var N=0|a.words[S];a.words[S-10]=(N&y)<<4|T>>>22,T=N}a.words[S-10]=T>>>=22,a.length-=0===T&&a.length>10?10:9},se.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,y=0;y<a.length;y++){var g=0|a.words[y];a.words[y]=67108863&(u+=977*g),u=64*g+(u/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},H(de,ae),H(le,ae),H(we,ae),we.prototype.imulK=function(a){for(var u=0,y=0;y<a.length;y++){var g=19*(0|a.words[y])+u,S=67108863&g;g>>>=26,a.words[y]=S,u=g}return 0!==u&&(a.words[a.length++]=u),a},x._prime=function(a){if(oe[a])return oe[a];var u;if("k256"===a)u=new se;else if("p224"===a)u=new de;else if("p192"===a)u=new le;else{if("p25519"!==a)throw new Error("Unknown prime "+a);u=new we}return oe[a]=u,u},xe.prototype._verify1=function(a){k(0===a.negative,"red works only with positives"),k(a.red,"red works only with red numbers")},xe.prototype._verify2=function(a,u){k(!(a.negative|u.negative),"red works only with positives"),k(a.red&&a.red===u.red,"red works only with red numbers")},xe.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},xe.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},xe.prototype.add=function(a,u){this._verify2(a,u);var y=a.add(u);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},xe.prototype.iadd=function(a,u){this._verify2(a,u);var y=a.iadd(u);return y.cmp(this.m)>=0&&y.isub(this.m),y},xe.prototype.sub=function(a,u){this._verify2(a,u);var y=a.sub(u);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},xe.prototype.isub=function(a,u){this._verify2(a,u);var y=a.isub(u);return y.cmpn(0)<0&&y.iadd(this.m),y},xe.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},xe.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},xe.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},xe.prototype.isqr=function(a){return this.imul(a,a.clone())},xe.prototype.sqr=function(a){return this.mul(a,a)},xe.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(k(u%2==1),3===u){var y=this.m.add(new x(1)).iushrn(2);return this.pow(a,y)}for(var g=this.m.subn(1),S=0;!g.isZero()&&0===g.andln(1);)S++,g.iushrn(1);k(!g.isZero());var T=new x(1).toRed(this),N=T.redNeg(),M=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new x(2*s*s).toRed(this);0!==this.pow(s,M).cmp(N);)s.redIAdd(N);for(var v=this.pow(s,g),W=this.pow(a,g.addn(1).iushrn(1)),K=this.pow(a,g),ee=S;0!==K.cmp(T);){for(var ce=K,_e=0;0!==ce.cmp(T);_e++)ce=ce.redSqr();k(_e<ee);var Pe=this.pow(v,new x(1).iushln(ee-_e-1));W=W.redMul(Pe),v=Pe.redSqr(),K=K.redMul(v),ee=_e}return W},xe.prototype.invm=function(a){var u=a._invmp(this.m);return 0!==u.negative?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},xe.prototype.pow=function(a,u){if(u.isZero())return new x(1).toRed(this);if(0===u.cmpn(1))return a.clone();var g=new Array(16);g[0]=new x(1).toRed(this),g[1]=a;for(var S=2;S<g.length;S++)g[S]=this.mul(g[S-1],a);var T=g[0],N=0,M=0,s=u.bitLength()%26;for(0===s&&(s=26),S=u.length-1;S>=0;S--){for(var v=u.words[S],W=s-1;W>=0;W--){var K=v>>W&1;T!==g[0]&&(T=this.sqr(T)),0!==K||0!==N?(N<<=1,N|=K,(4==++M||0===S&&0===W)&&(T=this.mul(T,g[N]),M=0,N=0)):M=0}s=26}return T},xe.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},xe.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},x.mont=function(a){return new Ce(a)},H(Ce,xe),Ce.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},Ce.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},Ce.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var y=a.imul(u),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(g).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},Ce.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new x(0)._forceRed(this);var y=a.mul(u),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(g).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},Ce.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(Fe=_.nmd(Fe),this)},44356:Fe=>{"use strict";var p,z="object"==typeof Reflect?Reflect:null,_=z&&"function"==typeof z.apply?z.apply:function(ae,se,de){return Function.prototype.apply.call(ae,se,de)};p=z&&"function"==typeof z.ownKeys?z.ownKeys:Object.getOwnPropertySymbols?function(ae){return Object.getOwnPropertyNames(ae).concat(Object.getOwnPropertySymbols(ae))}:function(ae){return Object.getOwnPropertyNames(ae)};var k=Number.isNaN||function(ae){return ae!=ae};function H(){H.init.call(this)}Fe.exports=H,Fe.exports.once=function te(oe,ae){return new Promise(function(se,de){function le(xe){oe.removeListener(ae,we),de(xe)}function we(){"function"==typeof oe.removeListener&&oe.removeListener("error",le),se([].slice.call(arguments))}Y(oe,ae,we,{once:!0}),"error"!==ae&&function J(oe,ae,se){"function"==typeof oe.on&&Y(oe,"error",ae,se)}(oe,le,{once:!0})})},H.EventEmitter=H,H.prototype._events=void 0,H.prototype._eventsCount=0,H.prototype._maxListeners=void 0;var x=10;function R(oe){if("function"!=typeof oe)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof oe)}function A(oe){return void 0===oe._maxListeners?H.defaultMaxListeners:oe._maxListeners}function O(oe,ae,se,de){var le,we,xe;if(R(se),void 0===(we=oe._events)?(we=oe._events=Object.create(null),oe._eventsCount=0):(void 0!==we.newListener&&(oe.emit("newListener",ae,se.listener?se.listener:se),we=oe._events),xe=we[ae]),void 0===xe)xe=we[ae]=se,++oe._eventsCount;else if("function"==typeof xe?xe=we[ae]=de?[se,xe]:[xe,se]:de?xe.unshift(se):xe.push(se),(le=A(oe))>0&&xe.length>le&&!xe.warned){xe.warned=!0;var Ce=new Error("Possible EventEmitter memory leak detected. "+xe.length+" "+String(ae)+" listeners added. Use emitter.setMaxListeners() to increase limit");Ce.name="MaxListenersExceededWarning",Ce.emitter=oe,Ce.type=ae,Ce.count=xe.length,function E(oe){console&&console.warn&&console.warn(oe)}(Ce)}return oe}function F(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function L(oe,ae,se){var de={fired:!1,wrapFn:void 0,target:oe,type:ae,listener:se},le=F.bind(de);return le.listener=se,de.wrapFn=le,le}function I(oe,ae,se){var de=oe._events;if(void 0===de)return[];var le=de[ae];return void 0===le?[]:"function"==typeof le?se?[le.listener||le]:[le]:se?function re(oe){for(var ae=new Array(oe.length),se=0;se<ae.length;++se)ae[se]=oe[se].listener||oe[se];return ae}(le):j(le,le.length)}function Z(oe){var ae=this._events;if(void 0!==ae){var se=ae[oe];if("function"==typeof se)return 1;if(void 0!==se)return se.length}return 0}function j(oe,ae){for(var se=new Array(ae),de=0;de<ae;++de)se[de]=oe[de];return se}function Y(oe,ae,se,de){if("function"==typeof oe.on)de.once?oe.once(ae,se):oe.on(ae,se);else{if("function"!=typeof oe.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof oe);oe.addEventListener(ae,function le(we){de.once&&oe.removeEventListener(ae,le),se(we)})}}Object.defineProperty(H,"defaultMaxListeners",{enumerable:!0,get:function(){return x},set:function(oe){if("number"!=typeof oe||oe<0||k(oe))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+oe+".");x=oe}}),H.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},H.prototype.setMaxListeners=function(ae){if("number"!=typeof ae||ae<0||k(ae))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ae+".");return this._maxListeners=ae,this},H.prototype.getMaxListeners=function(){return A(this)},H.prototype.emit=function(ae){for(var se=[],de=1;de<arguments.length;de++)se.push(arguments[de]);var le="error"===ae,we=this._events;if(void 0!==we)le=le&&void 0===we.error;else if(!le)return!1;if(le){var xe;if(se.length>0&&(xe=se[0]),xe instanceof Error)throw xe;var Ce=new Error("Unhandled error."+(xe?" ("+xe.message+")":""));throw Ce.context=xe,Ce}var C=we[ae];if(void 0===C)return!1;if("function"==typeof C)_(C,this,se);else{var a=C.length,u=j(C,a);for(de=0;de<a;++de)_(u[de],this,se)}return!0},H.prototype.on=H.prototype.addListener=function(ae,se){return O(this,ae,se,!1)},H.prototype.prependListener=function(ae,se){return O(this,ae,se,!0)},H.prototype.once=function(ae,se){return R(se),this.on(ae,L(this,ae,se)),this},H.prototype.prependOnceListener=function(ae,se){return R(se),this.prependListener(ae,L(this,ae,se)),this},H.prototype.off=H.prototype.removeListener=function(ae,se){var de,le,we,xe,Ce;if(R(se),void 0===(le=this._events))return this;if(void 0===(de=le[ae]))return this;if(de===se||de.listener===se)0==--this._eventsCount?this._events=Object.create(null):(delete le[ae],le.removeListener&&this.emit("removeListener",ae,de.listener||se));else if("function"!=typeof de){for(we=-1,xe=de.length-1;xe>=0;xe--)if(de[xe]===se||de[xe].listener===se){Ce=de[xe].listener,we=xe;break}if(we<0)return this;0===we?de.shift():function G(oe,ae){for(;ae+1<oe.length;ae++)oe[ae]=oe[ae+1];oe.pop()}(de,we),1===de.length&&(le[ae]=de[0]),void 0!==le.removeListener&&this.emit("removeListener",ae,Ce||se)}return this},H.prototype.removeAllListeners=function(ae){var se,de,le;if(void 0===(de=this._events))return this;if(void 0===de.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==de[ae]&&(0==--this._eventsCount?this._events=Object.create(null):delete de[ae]),this;if(0===arguments.length){var xe,we=Object.keys(de);for(le=0;le<we.length;++le)"removeListener"!==(xe=we[le])&&this.removeAllListeners(xe);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(se=de[ae]))this.removeListener(ae,se);else if(void 0!==se)for(le=se.length-1;le>=0;le--)this.removeListener(ae,se[le]);return this},H.prototype.listeners=function(ae){return I(this,ae,!0)},H.prototype.rawListeners=function(ae){return I(this,ae,!1)},H.listenerCount=function(oe,ae){return"function"==typeof oe.listenerCount?oe.listenerCount(ae):Z.call(oe,ae)},H.prototype.listenerCount=Z,H.prototype.eventNames=function(){return this._eventsCount>0?p(this._events):[]}},18211:(Fe,z,_)=>{var p=_(27054).Buffer,E=_(34725);Fe.exports=function k(H,x,R,A){if(p.isBuffer(H)||(H=p.from(H,"binary")),x&&(p.isBuffer(x)||(x=p.from(x,"binary")),8!==x.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var O=R/8,F=p.alloc(O),L=p.alloc(A||0),I=p.alloc(0);O>0||A>0;){var Z=new E;Z.update(I),Z.update(H),x&&Z.update(x),I=Z.digest();var j=0;if(O>0){var G=F.length-O;j=Math.min(O,I.length),I.copy(F,G,0,j),O-=j}if(j<I.length&&A>0){var re=L.length-A,te=Math.min(A,I.length-j);I.copy(L,re,j,j+te),A-=te}}return I.fill(0),{key:F,iv:L}}},40362:Fe=>{"use strict";Fe.exports=function z(_,p){if(_===p)return!0;if(_&&p&&"object"==typeof _&&"object"==typeof p){if(_.constructor!==p.constructor)return!1;var E,k,H;if(Array.isArray(_)){if((E=_.length)!=p.length)return!1;for(k=E;0!=k--;)if(!z(_[k],p[k]))return!1;return!0}if(_.constructor===RegExp)return _.source===p.source&&_.flags===p.flags;if(_.valueOf!==Object.prototype.valueOf)return _.valueOf()===p.valueOf();if(_.toString!==Object.prototype.toString)return _.toString()===p.toString();if((E=(H=Object.keys(_)).length)!==Object.keys(p).length)return!1;for(k=E;0!=k--;)if(!Object.prototype.hasOwnProperty.call(p,H[k]))return!1;for(k=E;0!=k--;){var x=H[k];if(!z(_[x],p[x]))return!1}return!0}return _!=_&&p!=p}},13686:(Fe,z,_)=>{"use strict";var p=_(27054).Buffer,E=_(7045).Transform;function x(R){E.call(this),this._block=p.allocUnsafe(R),this._blockSize=R,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}_(71993)(x,E),x.prototype._transform=function(R,A,O){var F=null;try{this.update(R,A)}catch(L){F=L}O(F)},x.prototype._flush=function(R){var A=null;try{this.push(this.digest())}catch(O){A=O}R(A)},x.prototype.update=function(R,A){if(function H(R,A){if(!p.isBuffer(R)&&"string"!=typeof R)throw new TypeError(A+" must be a string or a buffer")}(R,"Data"),this._finalized)throw new Error("Digest already called");p.isBuffer(R)||(R=p.from(R,A));for(var O=this._block,F=0;this._blockOffset+R.length-F>=this._blockSize;){for(var L=this._blockOffset;L<this._blockSize;)O[L++]=R[F++];this._update(),this._blockOffset=0}for(;F<R.length;)O[this._blockOffset++]=R[F++];for(var I=0,Z=8*R.length;Z>0;++I)this._length[I]+=Z,(Z=this._length[I]/4294967296|0)>0&&(this._length[I]-=4294967296*Z);return this},x.prototype._update=function(){throw new Error("_update is not implemented")},x.prototype.digest=function(R){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var A=this._digest();void 0!==R&&(A=A.toString(R)),this._block.fill(0),this._blockOffset=0;for(var O=0;O<4;++O)this._length[O]=0;return A},x.prototype._digest=function(){throw new Error("_digest is not implemented")},Fe.exports=x},52529:(Fe,z,_)=>{var p=z;p.utils=_(68283),p.common=_(12901),p.sha=_(78528),p.ripemd=_(15283),p.hmac=_(37163),p.sha1=p.sha.sha1,p.sha256=p.sha.sha256,p.sha224=p.sha.sha224,p.sha384=p.sha.sha384,p.sha512=p.sha.sha512,p.ripemd160=p.ripemd.ripemd160},12901:(Fe,z,_)=>{"use strict";var p=_(68283),E=_(39210);function k(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}z.BlockHash=k,k.prototype.update=function(x,R){if(x=p.toArray(x,R),this.pending=this.pending?this.pending.concat(x):x,this.pendingTotal+=x.length,this.pending.length>=this._delta8){var A=(x=this.pending).length%this._delta8;this.pending=x.slice(x.length-A,x.length),0===this.pending.length&&(this.pending=null),x=p.join32(x,0,x.length-A,this.endian);for(var O=0;O<x.length;O+=this._delta32)this._update(x,O,O+this._delta32)}return this},k.prototype.digest=function(x){return this.update(this._pad()),E(null===this.pending),this._digest(x)},k.prototype._pad=function(){var x=this.pendingTotal,R=this._delta8,A=R-(x+this.padLength)%R,O=new Array(A+this.padLength);O[0]=128;for(var F=1;F<A;F++)O[F]=0;if(x<<=3,"big"===this.endian){for(var L=8;L<this.padLength;L++)O[F++]=0;O[F++]=0,O[F++]=0,O[F++]=0,O[F++]=0,O[F++]=x>>>24&255,O[F++]=x>>>16&255,O[F++]=x>>>8&255,O[F++]=255&x}else for(O[F++]=255&x,O[F++]=x>>>8&255,O[F++]=x>>>16&255,O[F++]=x>>>24&255,O[F++]=0,O[F++]=0,O[F++]=0,O[F++]=0,L=8;L<this.padLength;L++)O[F++]=0;return O}},37163:(Fe,z,_)=>{"use strict";var p=_(68283),E=_(39210);function k(H,x,R){if(!(this instanceof k))return new k(H,x,R);this.Hash=H,this.blockSize=H.blockSize/8,this.outSize=H.outSize/8,this.inner=null,this.outer=null,this._init(p.toArray(x,R))}Fe.exports=k,k.prototype._init=function(x){x.length>this.blockSize&&(x=(new this.Hash).update(x).digest()),E(x.length<=this.blockSize);for(var R=x.length;R<this.blockSize;R++)x.push(0);for(R=0;R<x.length;R++)x[R]^=54;for(this.inner=(new this.Hash).update(x),R=0;R<x.length;R++)x[R]^=106;this.outer=(new this.Hash).update(x)},k.prototype.update=function(x,R){return this.inner.update(x,R),this},k.prototype.digest=function(x){return this.outer.update(this.inner.digest()),this.outer.digest(x)}},15283:(Fe,z,_)=>{"use strict";var p=_(68283),E=_(12901),k=p.rotl32,H=p.sum32,x=p.sum32_3,R=p.sum32_4,A=E.BlockHash;function O(){if(!(this instanceof O))return new O;A.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function F(te,J,Y,oe){return te<=15?J^Y^oe:te<=31?J&Y|~J&oe:te<=47?(J|~Y)^oe:te<=63?J&oe|Y&~oe:J^(Y|~oe)}function I(te){return te<=15?1352829926:te<=31?1548603684:te<=47?1836072691:te<=63?2053994217:0}p.inherits(O,A),z.ripemd160=O,O.blockSize=512,O.outSize=160,O.hmacStrength=192,O.padLength=64,O.prototype._update=function(J,Y){for(var oe=this.h[0],ae=this.h[1],se=this.h[2],de=this.h[3],le=this.h[4],we=oe,xe=ae,Ce=se,C=de,a=le,u=0;u<80;u++){var y=H(k(R(oe,F(u,ae,se,de),J[Z[u]+Y],(te=u)<=15?0:te<=31?1518500249:te<=47?1859775393:te<=63?2400959708:2840853838),G[u]),le);oe=le,le=de,de=k(se,10),se=ae,ae=y,y=H(k(R(we,F(79-u,xe,Ce,C),J[j[u]+Y],I(u)),re[u]),a),we=a,a=C,C=k(Ce,10),Ce=xe,xe=y}var te;y=x(this.h[1],se,C),this.h[1]=x(this.h[2],de,a),this.h[2]=x(this.h[3],le,we),this.h[3]=x(this.h[4],oe,xe),this.h[4]=x(this.h[0],ae,Ce),this.h[0]=y},O.prototype._digest=function(J){return"hex"===J?p.toHex32(this.h,"little"):p.split32(this.h,"little")};var Z=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],j=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],G=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],re=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},78528:(Fe,z,_)=>{"use strict";z.sha1=_(33468),z.sha224=_(5563),z.sha256=_(27138),z.sha384=_(93898),z.sha512=_(10827)},33468:(Fe,z,_)=>{"use strict";var p=_(68283),E=_(12901),k=_(95542),H=p.rotl32,x=p.sum32,R=p.sum32_5,A=k.ft_1,O=E.BlockHash,F=[1518500249,1859775393,2400959708,3395469782];function L(){if(!(this instanceof L))return new L;O.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}p.inherits(L,O),Fe.exports=L,L.blockSize=512,L.outSize=160,L.hmacStrength=80,L.padLength=64,L.prototype._update=function(Z,j){for(var G=this.W,re=0;re<16;re++)G[re]=Z[j+re];for(;re<G.length;re++)G[re]=H(G[re-3]^G[re-8]^G[re-14]^G[re-16],1);var te=this.h[0],J=this.h[1],Y=this.h[2],oe=this.h[3],ae=this.h[4];for(re=0;re<G.length;re++){var se=~~(re/20),de=R(H(te,5),A(se,J,Y,oe),ae,G[re],F[se]);ae=oe,oe=Y,Y=H(J,30),J=te,te=de}this.h[0]=x(this.h[0],te),this.h[1]=x(this.h[1],J),this.h[2]=x(this.h[2],Y),this.h[3]=x(this.h[3],oe),this.h[4]=x(this.h[4],ae)},L.prototype._digest=function(Z){return"hex"===Z?p.toHex32(this.h,"big"):p.split32(this.h,"big")}},5563:(Fe,z,_)=>{"use strict";var p=_(68283),E=_(27138);function k(){if(!(this instanceof k))return new k;E.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}p.inherits(k,E),Fe.exports=k,k.blockSize=512,k.outSize=224,k.hmacStrength=192,k.padLength=64,k.prototype._digest=function(x){return"hex"===x?p.toHex32(this.h.slice(0,7),"big"):p.split32(this.h.slice(0,7),"big")}},27138:(Fe,z,_)=>{"use strict";var p=_(68283),E=_(12901),k=_(95542),H=_(39210),x=p.sum32,R=p.sum32_4,A=p.sum32_5,O=k.ch32,F=k.maj32,L=k.s0_256,I=k.s1_256,Z=k.g0_256,j=k.g1_256,G=E.BlockHash,re=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function te(){if(!(this instanceof te))return new te;G.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=re,this.W=new Array(64)}p.inherits(te,G),Fe.exports=te,te.blockSize=512,te.outSize=256,te.hmacStrength=192,te.padLength=64,te.prototype._update=function(Y,oe){for(var ae=this.W,se=0;se<16;se++)ae[se]=Y[oe+se];for(;se<ae.length;se++)ae[se]=R(j(ae[se-2]),ae[se-7],Z(ae[se-15]),ae[se-16]);var de=this.h[0],le=this.h[1],we=this.h[2],xe=this.h[3],Ce=this.h[4],C=this.h[5],a=this.h[6],u=this.h[7];for(H(this.k.length===ae.length),se=0;se<ae.length;se++){var y=A(u,I(Ce),O(Ce,C,a),this.k[se],ae[se]),g=x(L(de),F(de,le,we));u=a,a=C,C=Ce,Ce=x(xe,y),xe=we,we=le,le=de,de=x(y,g)}this.h[0]=x(this.h[0],de),this.h[1]=x(this.h[1],le),this.h[2]=x(this.h[2],we),this.h[3]=x(this.h[3],xe),this.h[4]=x(this.h[4],Ce),this.h[5]=x(this.h[5],C),this.h[6]=x(this.h[6],a),this.h[7]=x(this.h[7],u)},te.prototype._digest=function(Y){return"hex"===Y?p.toHex32(this.h,"big"):p.split32(this.h,"big")}},93898:(Fe,z,_)=>{"use strict";var p=_(68283),E=_(10827);function k(){if(!(this instanceof k))return new k;E.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}p.inherits(k,E),Fe.exports=k,k.blockSize=1024,k.outSize=384,k.hmacStrength=192,k.padLength=128,k.prototype._digest=function(x){return"hex"===x?p.toHex32(this.h.slice(0,12),"big"):p.split32(this.h.slice(0,12),"big")}},10827:(Fe,z,_)=>{"use strict";var p=_(68283),E=_(12901),k=_(39210),H=p.rotr64_hi,x=p.rotr64_lo,R=p.shr64_hi,A=p.shr64_lo,O=p.sum64,F=p.sum64_hi,L=p.sum64_lo,I=p.sum64_4_hi,Z=p.sum64_4_lo,j=p.sum64_5_hi,G=p.sum64_5_lo,re=E.BlockHash,te=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function J(){if(!(this instanceof J))return new J;re.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=te,this.W=new Array(160)}function Y(y,g,S,T,N){var M=y&S^~y&N;return M<0&&(M+=4294967296),M}function oe(y,g,S,T,N,M){var s=g&T^~g&M;return s<0&&(s+=4294967296),s}function ae(y,g,S,T,N){var M=y&S^y&N^S&N;return M<0&&(M+=4294967296),M}function se(y,g,S,T,N,M){var s=g&T^g&M^T&M;return s<0&&(s+=4294967296),s}function de(y,g){var M=H(y,g,28)^H(g,y,2)^H(g,y,7);return M<0&&(M+=4294967296),M}function le(y,g){var M=x(y,g,28)^x(g,y,2)^x(g,y,7);return M<0&&(M+=4294967296),M}function we(y,g){var M=H(y,g,14)^H(y,g,18)^H(g,y,9);return M<0&&(M+=4294967296),M}function xe(y,g){var M=x(y,g,14)^x(y,g,18)^x(g,y,9);return M<0&&(M+=4294967296),M}function Ce(y,g){var M=H(y,g,1)^H(y,g,8)^R(y,g,7);return M<0&&(M+=4294967296),M}function C(y,g){var M=x(y,g,1)^x(y,g,8)^A(y,g,7);return M<0&&(M+=4294967296),M}function a(y,g){var M=H(y,g,19)^H(g,y,29)^R(y,g,6);return M<0&&(M+=4294967296),M}function u(y,g){var M=x(y,g,19)^x(g,y,29)^A(y,g,6);return M<0&&(M+=4294967296),M}p.inherits(J,re),Fe.exports=J,J.blockSize=1024,J.outSize=512,J.hmacStrength=192,J.padLength=128,J.prototype._prepareBlock=function(g,S){for(var T=this.W,N=0;N<32;N++)T[N]=g[S+N];for(;N<T.length;N+=2){var M=a(T[N-4],T[N-3]),s=u(T[N-4],T[N-3]),v=T[N-14],W=T[N-13],K=Ce(T[N-30],T[N-29]),ee=C(T[N-30],T[N-29]),ce=T[N-32],_e=T[N-31];T[N]=I(M,s,v,W,K,ee,ce,_e),T[N+1]=Z(M,s,v,W,K,ee,ce,_e)}},J.prototype._update=function(g,S){this._prepareBlock(g,S);var T=this.W,N=this.h[0],M=this.h[1],s=this.h[2],v=this.h[3],W=this.h[4],K=this.h[5],ee=this.h[6],ce=this.h[7],_e=this.h[8],Pe=this.h[9],$e=this.h[10],Se=this.h[11],be=this.h[12],Ne=this.h[13],ye=this.h[14],Te=this.h[15];k(this.k.length===T.length);for(var pe=0;pe<T.length;pe+=2){var fe=ye,Q=Te,ie=we(_e,Pe),ue=xe(_e,Pe),Ee=Y(_e,0,$e,0,be),ke=oe(0,Pe,0,Se,0,Ne),Ue=this.k[pe],Le=this.k[pe+1],_t=T[pe],Ve=T[pe+1],Be=j(fe,Q,ie,ue,Ee,ke,Ue,Le,_t,Ve),lt=G(fe,Q,ie,ue,Ee,ke,Ue,Le,_t,Ve);fe=de(N,M),Q=le(N,M),ie=ae(N,0,s,0,W),ue=se(0,M,0,v,0,K);var B=F(fe,Q,ie,ue),w=L(fe,Q,ie,ue);ye=be,Te=Ne,be=$e,Ne=Se,$e=_e,Se=Pe,_e=F(ee,ce,Be,lt),Pe=L(ce,ce,Be,lt),ee=W,ce=K,W=s,K=v,s=N,v=M,N=F(Be,lt,B,w),M=L(Be,lt,B,w)}O(this.h,0,N,M),O(this.h,2,s,v),O(this.h,4,W,K),O(this.h,6,ee,ce),O(this.h,8,_e,Pe),O(this.h,10,$e,Se),O(this.h,12,be,Ne),O(this.h,14,ye,Te)},J.prototype._digest=function(g){return"hex"===g?p.toHex32(this.h,"big"):p.split32(this.h,"big")}},95542:(Fe,z,_)=>{"use strict";var E=_(68283).rotr32;function H(I,Z,j){return I&Z^~I&j}function x(I,Z,j){return I&Z^I&j^Z&j}function R(I,Z,j){return I^Z^j}z.ft_1=function k(I,Z,j,G){return 0===I?H(Z,j,G):1===I||3===I?R(Z,j,G):2===I?x(Z,j,G):void 0},z.ch32=H,z.maj32=x,z.p32=R,z.s0_256=function A(I){return E(I,2)^E(I,13)^E(I,22)},z.s1_256=function O(I){return E(I,6)^E(I,11)^E(I,25)},z.g0_256=function F(I){return E(I,7)^E(I,18)^I>>>3},z.g1_256=function L(I){return E(I,17)^E(I,19)^I>>>10}},68283:(Fe,z,_)=>{"use strict";var p=_(39210),E=_(71993);function k(u,y){return!(55296!=(64512&u.charCodeAt(y))||y<0||y+1>=u.length)&&56320==(64512&u.charCodeAt(y+1))}function R(u){return(u>>>24|u>>>8&65280|u<<8&16711680|(255&u)<<24)>>>0}function O(u){return 1===u.length?"0"+u:u}function F(u){return 7===u.length?"0"+u:6===u.length?"00"+u:5===u.length?"000"+u:4===u.length?"0000"+u:3===u.length?"00000"+u:2===u.length?"000000"+u:1===u.length?"0000000"+u:u}z.inherits=E,z.toArray=function H(u,y){if(Array.isArray(u))return u.slice();if(!u)return[];var g=[];if("string"==typeof u)if(y){if("hex"===y)for((u=u.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(u="0"+u),T=0;T<u.length;T+=2)g.push(parseInt(u[T]+u[T+1],16))}else for(var S=0,T=0;T<u.length;T++){var N=u.charCodeAt(T);N<128?g[S++]=N:N<2048?(g[S++]=N>>6|192,g[S++]=63&N|128):k(u,T)?(N=65536+((1023&N)<<10)+(1023&u.charCodeAt(++T)),g[S++]=N>>18|240,g[S++]=N>>12&63|128,g[S++]=N>>6&63|128,g[S++]=63&N|128):(g[S++]=N>>12|224,g[S++]=N>>6&63|128,g[S++]=63&N|128)}else for(T=0;T<u.length;T++)g[T]=0|u[T];return g},z.toHex=function x(u){for(var y="",g=0;g<u.length;g++)y+=O(u[g].toString(16));return y},z.htonl=R,z.toHex32=function A(u,y){for(var g="",S=0;S<u.length;S++){var T=u[S];"little"===y&&(T=R(T)),g+=F(T.toString(16))}return g},z.zero2=O,z.zero8=F,z.join32=function L(u,y,g,S){var T=g-y;p(T%4==0);for(var N=new Array(T/4),M=0,s=y;M<N.length;M++,s+=4)N[M]=("big"===S?u[s]<<24|u[s+1]<<16|u[s+2]<<8|u[s+3]:u[s+3]<<24|u[s+2]<<16|u[s+1]<<8|u[s])>>>0;return N},z.split32=function I(u,y){for(var g=new Array(4*u.length),S=0,T=0;S<u.length;S++,T+=4){var N=u[S];"big"===y?(g[T]=N>>>24,g[T+1]=N>>>16&255,g[T+2]=N>>>8&255,g[T+3]=255&N):(g[T+3]=N>>>24,g[T+2]=N>>>16&255,g[T+1]=N>>>8&255,g[T]=255&N)}return g},z.rotr32=function Z(u,y){return u>>>y|u<<32-y},z.rotl32=function j(u,y){return u<<y|u>>>32-y},z.sum32=function G(u,y){return u+y>>>0},z.sum32_3=function re(u,y,g){return u+y+g>>>0},z.sum32_4=function te(u,y,g,S){return u+y+g+S>>>0},z.sum32_5=function J(u,y,g,S,T){return u+y+g+S+T>>>0},z.sum64=function Y(u,y,g,S){var M=S+u[y+1]>>>0;u[y]=(M<S?1:0)+g+u[y]>>>0,u[y+1]=M},z.sum64_hi=function oe(u,y,g,S){return(y+S>>>0<y?1:0)+u+g>>>0},z.sum64_lo=function ae(u,y,g,S){return y+S>>>0},z.sum64_4_hi=function se(u,y,g,S,T,N,M,s){var v=0,W=y;return v+=(W=W+S>>>0)<y?1:0,v+=(W=W+N>>>0)<N?1:0,u+g+T+M+(v+=(W=W+s>>>0)<s?1:0)>>>0},z.sum64_4_lo=function de(u,y,g,S,T,N,M,s){return y+S+N+s>>>0},z.sum64_5_hi=function le(u,y,g,S,T,N,M,s,v,W){var K=0,ee=y;return K+=(ee=ee+S>>>0)<y?1:0,K+=(ee=ee+N>>>0)<N?1:0,K+=(ee=ee+s>>>0)<s?1:0,u+g+T+M+v+(K+=(ee=ee+W>>>0)<W?1:0)>>>0},z.sum64_5_lo=function we(u,y,g,S,T,N,M,s,v,W){return y+S+N+s+W>>>0},z.rotr64_hi=function xe(u,y,g){return(y<<32-g|u>>>g)>>>0},z.rotr64_lo=function Ce(u,y,g){return(u<<32-g|y>>>g)>>>0},z.shr64_hi=function C(u,y,g){return u>>>g},z.shr64_lo=function a(u,y,g){return(u<<32-g|y>>>g)>>>0}},33556:(Fe,z,_)=>{"use strict";var p=_(52529),E=_(21832),k=_(39210);function H(x){if(!(this instanceof H))return new H(x);this.hash=x.hash,this.predResist=!!x.predResist,this.outLen=this.hash.outSize,this.minEntropy=x.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var R=E.toArray(x.entropy,x.entropyEnc||"hex"),A=E.toArray(x.nonce,x.nonceEnc||"hex"),O=E.toArray(x.pers,x.persEnc||"hex");k(R.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(R,A,O)}Fe.exports=H,H.prototype._init=function(R,A,O){var F=R.concat(A).concat(O);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var L=0;L<this.V.length;L++)this.K[L]=0,this.V[L]=1;this._update(F),this._reseed=1,this.reseedInterval=281474976710656},H.prototype._hmac=function(){return new p.hmac(this.hash,this.K)},H.prototype._update=function(R){var A=this._hmac().update(this.V).update([0]);R&&(A=A.update(R)),this.K=A.digest(),this.V=this._hmac().update(this.V).digest(),R&&(this.K=this._hmac().update(this.V).update([1]).update(R).digest(),this.V=this._hmac().update(this.V).digest())},H.prototype.reseed=function(R,A,O,F){"string"!=typeof A&&(F=O,O=A,A=null),R=E.toArray(R,A),O=E.toArray(O,F),k(R.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(R.concat(O||[])),this._reseed=1},H.prototype.generate=function(R,A,O,F){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof A&&(F=O,O=A,A=null),O&&(O=E.toArray(O,F||"hex"),this._update(O));for(var L=[];L.length<R;)this.V=this._hmac().update(this.V).digest(),L=L.concat(this.V);var I=L.slice(0,R);return this._update(O),this._reseed++,E.encode(I,A)}},22020:(Fe,z)=>{z.read=function(_,p,E,k,H){var x,R,A=8*H-k-1,O=(1<<A)-1,F=O>>1,L=-7,I=E?H-1:0,Z=E?-1:1,j=_[p+I];for(I+=Z,x=j&(1<<-L)-1,j>>=-L,L+=A;L>0;x=256*x+_[p+I],I+=Z,L-=8);for(R=x&(1<<-L)-1,x>>=-L,L+=k;L>0;R=256*R+_[p+I],I+=Z,L-=8);if(0===x)x=1-F;else{if(x===O)return R?NaN:1/0*(j?-1:1);R+=Math.pow(2,k),x-=F}return(j?-1:1)*R*Math.pow(2,x-k)},z.write=function(_,p,E,k,H,x){var R,A,O,F=8*x-H-1,L=(1<<F)-1,I=L>>1,Z=23===H?Math.pow(2,-24)-Math.pow(2,-77):0,j=k?0:x-1,G=k?1:-1,re=p<0||0===p&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(A=isNaN(p)?1:0,R=L):(R=Math.floor(Math.log(p)/Math.LN2),p*(O=Math.pow(2,-R))<1&&(R--,O*=2),(p+=R+I>=1?Z/O:Z*Math.pow(2,1-I))*O>=2&&(R++,O/=2),R+I>=L?(A=0,R=L):R+I>=1?(A=(p*O-1)*Math.pow(2,H),R+=I):(A=p*Math.pow(2,I-1)*Math.pow(2,H),R=0));H>=8;_[E+j]=255&A,j+=G,A/=256,H-=8);for(R=R<<H|A,F+=H;F>0;_[E+j]=255&R,j+=G,R/=256,F-=8);_[E+j-G]|=128*re}},71993:Fe=>{Fe.exports="function"==typeof Object.create?function(_,p){p&&(_.super_=p,_.prototype=Object.create(p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}))}:function(_,p){if(p){_.super_=p;var E=function(){};E.prototype=p.prototype,_.prototype=new E,_.prototype.constructor=_}}},42853:Fe=>{"use strict";function z(p,E){for(const k in E)Object.defineProperty(p,k,{value:E[k],enumerable:!0,configurable:!0});return p}Fe.exports=function _(p,E,k){if(!p||"string"==typeof p)throw new TypeError("Please pass an Error to err-code");k||(k={}),"object"==typeof E&&(k=E,E=""),E&&(k.code=E);try{return z(p,k)}catch{k.message=p.message,k.stack=p.stack;const x=function(){};return x.prototype=Object.create(Object.getPrototypeOf(p)),z(new x,k)}}},5014:Fe=>{"use strict";function z(p,E){for(const k in E)Object.defineProperty(p,k,{value:E[k],enumerable:!0,configurable:!0});return p}Fe.exports=function _(p,E,k){if(!p||"string"==typeof p)throw new TypeError("Please pass an Error to err-code");k||(k={}),"object"==typeof E&&(k=E,E=""),E&&(k.code=E);try{return z(p,k)}catch{k.message=p.message,k.stack=p.stack;const x=function(){};return x.prototype=Object.create(Object.getPrototypeOf(p)),z(new x,k)}}},3087:Fe=>{"use strict";function z(p,E){for(const k in E)Object.defineProperty(p,k,{value:E[k],enumerable:!0,configurable:!0});return p}Fe.exports=function _(p,E,k){if(!p||"string"==typeof p)throw new TypeError("Please pass an Error to err-code");k||(k={}),"object"==typeof E&&(k=E,E=""),E&&(k.code=E);try{return z(p,k)}catch{k.message=p.message,k.stack=p.stack;const x=function(){};return x.prototype=Object.create(Object.getPrototypeOf(p)),z(new x,k)}}},20053:Fe=>{var z={}.toString;Fe.exports=Array.isArray||function(_){return"[object Array]"==z.call(_)}},89994:function(Fe){Fe.exports=function(){"use strict";var z=Math.imul,_=Math.clz32;function p(le){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(we){return typeof we}:function(we){return we&&"function"==typeof Symbol&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we})(le)}function k(le,we){for(var xe,Ce=0;Ce<we.length;Ce++)(xe=we[Ce]).enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(le,xe.key,xe)}function R(le){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(we){return we.__proto__||Object.getPrototypeOf(we)})(le)}function A(le,we){return(A=Object.setPrototypeOf||function(xe,Ce){return xe.__proto__=Ce,xe})(le,we)}function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function F(){return(F=O()?Reflect.construct:function(le,we,xe){var Ce=[null];Ce.push.apply(Ce,we);var a=new(Function.bind.apply(le,Ce));return xe&&A(a,xe.prototype),a}).apply(null,arguments)}function I(le){var we="function"==typeof Map?new Map:void 0;return I=function(xe){function Ce(){return F(xe,arguments,R(this).constructor)}if(null===xe||!function L(le){return-1!==Function.toString.call(le).indexOf("[native code]")}(xe))return xe;if("function"!=typeof xe)throw new TypeError("Super expression must either be null or a function");if(typeof we<"u"){if(we.has(xe))return we.get(xe);we.set(xe,Ce)}return Ce.prototype=Object.create(xe.prototype,{constructor:{value:Ce,enumerable:!1,writable:!0,configurable:!0}}),A(Ce,xe)},I(le)}function Z(le){if(void 0===le)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le}function G(le){var we=O();return function(){var xe,Ce=R(le);if(we){var C=R(this).constructor;xe=Reflect.construct(Ce,arguments,C)}else xe=Ce.apply(this,arguments);return function j(le,we){if(we&&("object"==typeof we||"function"==typeof we))return we;if(void 0!==we)throw new TypeError("Derived constructors may only return object or undefined");return Z(le)}(this,xe)}}function re(le,we){return function te(le){if(Array.isArray(le))return le}(le)||function J(le,we){var xe=null==le?null:typeof Symbol<"u"&&le[Symbol.iterator]||le["@@iterator"];if(null!=xe){var Ce,C,a=[],u=!0,y=!1;try{for(xe=xe.call(le);!(u=(Ce=xe.next()).done)&&(a.push(Ce.value),!we||a.length!==we);u=!0);}catch(g){y=!0,C=g}finally{try{u||null==xe.return||xe.return()}finally{if(y)throw C}}return a}}(le,we)||Y(le,we)||function ae(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(le,we){if(le){if("string"==typeof le)return oe(le,we);var xe=Object.prototype.toString.call(le).slice(8,-1);return"Object"===xe&&le.constructor&&(xe=le.constructor.name),"Map"===xe||"Set"===xe?Array.from(le):"Arguments"===xe||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe)?oe(le,we):void 0}}function oe(le,we){(null==we||we>le.length)&&(we=le.length);for(var xe=0,Ce=Array(we);xe<we;xe++)Ce[xe]=le[xe];return Ce}var de=function(le){var we=Math.abs,xe=Math.max,Ce=Math.floor;function C(u,y){var g;if(function E(le,we){if(!(le instanceof we))throw new TypeError("Cannot call a class as a function")}(this,C),(g=a.call(this,u)).sign=y,Object.setPrototypeOf(Z(g),C.prototype),u>C.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return g}!function x(le,we){if("function"!=typeof we&&null!==we)throw new TypeError("Super expression must either be null or a function");le.prototype=Object.create(we&&we.prototype,{constructor:{value:le,writable:!0,configurable:!0}}),Object.defineProperty(le,"prototype",{writable:!1}),we&&A(le,we)}(C,le);var a=G(C);return function H(le,we,xe){return we&&k(le.prototype,we),xe&&k(le,xe),Object.defineProperty(le,"prototype",{writable:!1}),le}(C,[{key:"toDebugString",value:function(){var u,y=["BigInt["],g=function se(le,we){var xe=typeof Symbol<"u"&&le[Symbol.iterator]||le["@@iterator"];if(!xe){if(Array.isArray(le)||(xe=Y(le))||we&&le&&"number"==typeof le.length){xe&&(le=xe);var Ce=0,C=function(){};return{s:C,n:function(){return Ce>=le.length?{done:!0}:{done:!1,value:le[Ce++]}},e:function(g){throw g},f:C}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,y=!1;return{s:function(){xe=xe.call(le)},n:function(){var g=xe.next();return u=g.done,g},e:function(g){y=!0,a=g},f:function(){try{u||null==xe.return||xe.return()}finally{if(y)throw a}}}}(this);try{for(g.s();!(u=g.n()).done;){var S=u.value;y.push((S&&(S>>>0).toString(16))+", ")}}catch(T){g.e(T)}finally{g.f()}return y.push("]"),y.join("")}},{key:"toString",value:function(){var u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>u||36<u)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":u&u-1?C.__toStringGeneric(this,u,!1):C.__toStringBasePowerOfTwo(this,u)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var u=new C(this.length,this.sign),y=0;y<this.length;y++)u[y]=this[y];return u}},{key:"__trim",value:function(){for(var u=this.length,y=this[u-1];0===y;)y=this[--u-1],this.pop();return 0===u&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var u=0;u<this.length;u++)this[u]=0}},{key:"__clzmsd",value:function(){return C.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(u,y,g){g>this.length&&(g=this.length);for(var S=32767&u,T=u>>>15,N=0,M=y,s=0;s<g;s++){var v=this.__digit(s),W=32767&v,K=v>>>15,ee=C.__imul(W,S),ce=C.__imul(W,T),_e=C.__imul(K,S),$e=M+ee+N;N=$e>>>30,$e&=1073741823,N+=($e+=((32767&ce)<<15)+((32767&_e)<<15))>>>30,M=C.__imul(K,T)+(ce>>>15)+(_e>>>15),this.__setDigit(s,1073741823&$e)}if(0!==N||0!==M)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(u,y,g){for(var S,T=0,N=0;N<g;N++)T=(S=this.__halfDigit(y+N)+u.__halfDigit(N)+T)>>>15,this.__setHalfDigit(y+N,32767&S);return T}},{key:"__inplaceSub",value:function(u,y,g){var S=0;if(1&y){for(var T=this.__digit(y>>=1),N=32767&T,M=0;M<g-1>>>1;M++){var s=u.__digit(M),v=(T>>>15)-(32767&s)-S;S=1&v>>>15,this.__setDigit(y+M,(32767&v)<<15|32767&N),S=1&(N=(32767&(T=this.__digit(y+M+1)))-(s>>>15)-S)>>>15}var W=u.__digit(M),K=(T>>>15)-(32767&W)-S;if(S=1&K>>>15,this.__setDigit(y+M,(32767&K)<<15|32767&N),y+M+1>=this.length)throw new RangeError("out of bounds");!(1&g)&&(S=1&(N=(32767&(T=this.__digit(y+M+1)))-(W>>>15)-S)>>>15,this.__setDigit(y+u.length,1073709056&T|32767&N))}else{y>>=1;for(var ee=0;ee<u.length-1;ee++){var ce=this.__digit(y+ee),_e=u.__digit(ee),Pe=(32767&ce)-(32767&_e)-S,$e=(ce>>>15)-(_e>>>15)-(S=1&Pe>>>15);S=1&$e>>>15,this.__setDigit(y+ee,(32767&$e)<<15|32767&Pe)}var Se=this.__digit(y+ee),be=u.__digit(ee),Ne=(32767&Se)-(32767&be)-S;S=1&Ne>>>15;var ye=0;!(1&g)&&(S=1&(ye=(Se>>>15)-(be>>>15)-S)>>>15),this.__setDigit(y+ee,(32767&ye)<<15|32767&Ne)}return S}},{key:"__inplaceRightShift",value:function(u){if(0!==u){for(var y,g=this.__digit(0)>>>u,S=this.length-1,T=0;T<S;T++)y=this.__digit(T+1),this.__setDigit(T,1073741823&y<<30-u|g),g=y>>>u;this.__setDigit(S,g)}}},{key:"__digit",value:function(u){return this[u]}},{key:"__unsignedDigit",value:function(u){return this[u]>>>0}},{key:"__setDigit",value:function(u,y){this[u]=0|y}},{key:"__setDigitGrow",value:function(u,y){this[u]=0|y}},{key:"__halfDigitLength",value:function(){var u=this.length;return 32767>=this.__unsignedDigit(u-1)?2*u-1:2*u}},{key:"__halfDigit",value:function(u){return 32767&this[u>>>1]>>>15*(1&u)}},{key:"__setHalfDigit",value:function(u,y){var g=u>>>1,S=this.__digit(g);this.__setDigit(g,1&u?32767&S|y<<15:1073709056&S|32767&y)}}],[{key:"BigInt",value:function(u){var y=Number.isFinite;if("number"==typeof u){if(0===u)return C.__zero();if(C.__isOneDigitInt(u))return 0>u?C.__oneDigit(-u,!0):C.__oneDigit(u,!1);if(!y(u)||Ce(u)!==u)throw new RangeError("The number "+u+" cannot be converted to BigInt because it is not an integer");return C.__fromDouble(u)}if("string"==typeof u){var g=C.__fromString(u);if(null===g)throw new SyntaxError("Cannot convert "+u+" to a BigInt");return g}if("boolean"==typeof u)return!0===u?C.__oneDigit(1,!1):C.__zero();if("object"===p(u)){if(u.constructor===C)return u;var S=C.__toPrimitive(u);return C.BigInt(S)}throw new TypeError("Cannot convert "+u+" to a BigInt")}},{key:"toNumber",value:function(u){var y=u.length;if(0===y)return 0;if(1===y){var g=u.__unsignedDigit(0);return u.sign?-g:g}var S=u.__digit(y-1),T=C.__clz30(S),N=30*y-T;if(1024<N)return u.sign?-1/0:1/0;var M=N-1,s=S,v=y-1,W=T+3,K=32===W?0:s<<W;K>>>=12;var ee=W-12,ce=12<=W?0:s<<20+W,_e=20+W;for(0<ee&&0<v&&(v--,K|=(s=u.__digit(v))>>>30-ee,ce=s<<ee+2,_e=ee+2);0<_e&&0<v;)v--,s=u.__digit(v),ce|=30<=_e?s<<_e-30:s>>>30-_e,_e-=30;var Pe=C.__decideRounding(u,_e,v,s);return 1!==Pe&&(0!==Pe||1&~ce)||0!=(ce=ce+1>>>0)||!(++K>>>20!=0&&(K=0,1023<++M))?(C.__kBitConversionInts[1]=(u.sign?-2147483648:0)|(M=M+1023<<20)|K,C.__kBitConversionInts[0]=ce,C.__kBitConversionDouble[0]):u.sign?-1/0:1/0}},{key:"unaryMinus",value:function(u){if(0===u.length)return u;var y=u.__copy();return y.sign=!u.sign,y}},{key:"bitwiseNot",value:function(u){return u.sign?C.__absoluteSubOne(u).__trim():C.__absoluteAddOne(u,!0)}},{key:"exponentiate",value:function(u,y){if(y.sign)throw new RangeError("Exponent must be positive");if(0===y.length)return C.__oneDigit(1,!1);if(0===u.length)return u;if(1===u.length&&1===u.__digit(0))return!u.sign||1&y.__digit(0)?u:C.unaryMinus(u);if(1<y.length)throw new RangeError("BigInt too big");var g=y.__unsignedDigit(0);if(1===g)return u;if(g>=C.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===u.length&&2===u.__digit(0)){var S=1+(0|g/30),N=new C(S,u.sign&&!!(1&g));return N.__initializeDigits(),N.__setDigit(S-1,1<<g%30),N}var s=null,v=u;for(1&g&&(s=u),g>>=1;0!==g;g>>=1)v=C.multiply(v,v),1&g&&(s=null===s?v:C.multiply(s,v));return s}},{key:"multiply",value:function(u,y){if(0===u.length)return u;if(0===y.length)return y;var g=u.length+y.length;30<=u.__clzmsd()+y.__clzmsd()&&g--;var S=new C(g,u.sign!==y.sign);S.__initializeDigits();for(var T=0;T<u.length;T++)C.__multiplyAccumulate(y,u.__digit(T),S,T);return S.__trim()}},{key:"divide",value:function(u,y){if(0===y.length)throw new RangeError("Division by zero");if(0>C.__absoluteCompare(u,y))return C.__zero();var g,S=u.sign!==y.sign,T=y.__unsignedDigit(0);if(1===y.length&&32767>=T){if(1===T)return S===u.sign?u:C.unaryMinus(u);g=C.__absoluteDivSmall(u,T,null)}else g=C.__absoluteDivLarge(u,y,!0,!1);return g.sign=S,g.__trim()}},{key:"remainder",value:function(y,g){if(0===g.length)throw new RangeError("Division by zero");if(0>C.__absoluteCompare(y,g))return y;var S=g.__unsignedDigit(0);if(1===g.length&&32767>=S){if(1===S)return C.__zero();var T=C.__absoluteModSmall(y,S);return 0===T?C.__zero():C.__oneDigit(T,y.sign)}var N=C.__absoluteDivLarge(y,g,!1,!0);return N.sign=y.sign,N.__trim()}},{key:"add",value:function(u,y){var g=u.sign;return g===y.sign?C.__absoluteAdd(u,y,g):0<=C.__absoluteCompare(u,y)?C.__absoluteSub(u,y,g):C.__absoluteSub(y,u,!g)}},{key:"subtract",value:function(u,y){var g=u.sign;return g===y.sign?0<=C.__absoluteCompare(u,y)?C.__absoluteSub(u,y,g):C.__absoluteSub(y,u,!g):C.__absoluteAdd(u,y,g)}},{key:"leftShift",value:function(u,y){return 0===y.length||0===u.length?u:y.sign?C.__rightShiftByAbsolute(u,y):C.__leftShiftByAbsolute(u,y)}},{key:"signedRightShift",value:function(u,y){return 0===y.length||0===u.length?u:y.sign?C.__leftShiftByAbsolute(u,y):C.__rightShiftByAbsolute(u,y)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(u,y){return 0>C.__compareToBigInt(u,y)}},{key:"lessThanOrEqual",value:function(u,y){return 0>=C.__compareToBigInt(u,y)}},{key:"greaterThan",value:function(u,y){return 0<C.__compareToBigInt(u,y)}},{key:"greaterThanOrEqual",value:function(u,y){return 0<=C.__compareToBigInt(u,y)}},{key:"equal",value:function(u,y){if(u.sign!==y.sign||u.length!==y.length)return!1;for(var g=0;g<u.length;g++)if(u.__digit(g)!==y.__digit(g))return!1;return!0}},{key:"notEqual",value:function(u,y){return!C.equal(u,y)}},{key:"bitwiseAnd",value:function(u,y){if(!u.sign&&!y.sign)return C.__absoluteAnd(u,y).__trim();if(u.sign&&y.sign){var g=xe(u.length,y.length)+1,S=C.__absoluteSubOne(u,g),T=C.__absoluteSubOne(y);return S=C.__absoluteOr(S,T,S),C.__absoluteAddOne(S,!0,S).__trim()}if(u.sign){var N=[y,u];u=N[0],y=N[1]}return C.__absoluteAndNot(u,C.__absoluteSubOne(y)).__trim()}},{key:"bitwiseXor",value:function(u,y){if(!u.sign&&!y.sign)return C.__absoluteXor(u,y).__trim();if(u.sign&&y.sign){var g=xe(u.length,y.length),S=C.__absoluteSubOne(u,g),T=C.__absoluteSubOne(y);return C.__absoluteXor(S,T,S).__trim()}var N=xe(u.length,y.length)+1;if(u.sign){var M=[y,u];u=M[0],y=M[1]}var s=C.__absoluteSubOne(y,N);return s=C.__absoluteXor(s,u,s),C.__absoluteAddOne(s,!0,s).__trim()}},{key:"bitwiseOr",value:function(u,y){var g=xe(u.length,y.length);if(!u.sign&&!y.sign)return C.__absoluteOr(u,y).__trim();if(u.sign&&y.sign){var S=C.__absoluteSubOne(u,g),T=C.__absoluteSubOne(y);return S=C.__absoluteAnd(S,T,S),C.__absoluteAddOne(S,!0,S).__trim()}if(u.sign){var N=[y,u];u=N[0],y=N[1]}var M=C.__absoluteSubOne(y,g);return M=C.__absoluteAndNot(M,u,M),C.__absoluteAddOne(M,!0,M).__trim()}},{key:"asIntN",value:function(u,y){if(0===y.length)return y;if(0>(u=Ce(u)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===u)return C.__zero();if(u>=C.__kMaxLengthBits)return y;var g=0|(u+29)/30;if(y.length<g)return y;var S=y.__unsignedDigit(g-1),T=1<<(u-1)%30;if(y.length===g&&S<T)return y;if((S&T)!==T)return C.__truncateToNBits(u,y);if(!y.sign)return C.__truncateAndSubFromPowerOfTwo(u,y,!0);if(!(S&T-1)){for(var N=g-2;0<=N;N--)if(0!==y.__digit(N))return C.__truncateAndSubFromPowerOfTwo(u,y,!1);return y.length===g&&S===T?y:C.__truncateToNBits(u,y)}return C.__truncateAndSubFromPowerOfTwo(u,y,!1)}},{key:"asUintN",value:function(u,y){if(0===y.length)return y;if(0>(u=Ce(u)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===u)return C.__zero();if(y.sign){if(u>C.__kMaxLengthBits)throw new RangeError("BigInt too big");return C.__truncateAndSubFromPowerOfTwo(u,y,!1)}if(u>=C.__kMaxLengthBits)return y;var g=0|(u+29)/30;if(y.length<g)return y;var S=u%30;if(y.length==g){if(0===S)return y;if(!(y.__digit(g-1)>>>S))return y}return C.__truncateToNBits(u,y)}},{key:"ADD",value:function(u,y){if(u=C.__toPrimitive(u),y=C.__toPrimitive(y),"string"==typeof u)return"string"!=typeof y&&(y=y.toString()),u+y;if("string"==typeof y)return u.toString()+y;if(u=C.__toNumeric(u),y=C.__toNumeric(y),C.__isBigInt(u)&&C.__isBigInt(y))return C.add(u,y);if("number"==typeof u&&"number"==typeof y)return u+y;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(u,y){return C.__compare(u,y,0)}},{key:"LE",value:function(u,y){return C.__compare(u,y,1)}},{key:"GT",value:function(u,y){return C.__compare(u,y,2)}},{key:"GE",value:function(u,y){return C.__compare(u,y,3)}},{key:"EQ",value:function(u,y){for(;;){if(C.__isBigInt(u))return C.__isBigInt(y)?C.equal(u,y):C.EQ(y,u);if("number"==typeof u){if(C.__isBigInt(y))return C.__equalToNumber(y,u);if("object"!==p(y))return u==y;y=C.__toPrimitive(y)}else if("string"==typeof u){if(C.__isBigInt(y))return null!==(u=C.__fromString(u))&&C.equal(u,y);if("object"!==p(y))return u==y;y=C.__toPrimitive(y)}else if("boolean"==typeof u){if(C.__isBigInt(y))return C.__equalToNumber(y,+u);if("object"!==p(y))return u==y;y=C.__toPrimitive(y)}else if("symbol"===p(u)){if(C.__isBigInt(y))return!1;if("object"!==p(y))return u==y;y=C.__toPrimitive(y)}else{if("object"!==p(u))return u==y;if("object"===p(y)&&y.constructor!==C)return u==y;u=C.__toPrimitive(u)}}}},{key:"NE",value:function(u,y){return!C.EQ(u,y)}},{key:"DataViewGetBigInt64",value:function(u,y){return C.asIntN(64,C.DataViewGetBigUint64(u,y,2<arguments.length&&void 0!==arguments[2]&&arguments[2]))}},{key:"DataViewGetBigUint64",value:function(u,y){var g=2<arguments.length&&void 0!==arguments[2]&&arguments[2],T=re(g?[4,0]:[0,4],2),M=T[1],s=u.getUint32(y+T[0],g),v=u.getUint32(y+M,g),W=new C(3,!1);return W.__setDigit(0,1073741823&v),W.__setDigit(1,(268435455&s)<<2|v>>>30),W.__setDigit(2,s>>>28),W.__trim()}},{key:"DataViewSetBigInt64",value:function(u,y,g){C.DataViewSetBigUint64(u,y,g,3<arguments.length&&void 0!==arguments[3]&&arguments[3])}},{key:"DataViewSetBigUint64",value:function(u,y,g){var S=3<arguments.length&&void 0!==arguments[3]&&arguments[3],T=0,N=0;if(0<(g=C.asUintN(64,g)).length&&(N=g.__digit(0),1<g.length)){var M=g.__digit(1);N|=M<<30,T=M>>>2,2<g.length&&(T|=g.__digit(2)<<28)}var v=re(S?[4,0]:[0,4],2),K=v[1];u.setUint32(y+v[0],T,S),u.setUint32(y+K,N,S)}},{key:"__zero",value:function(){return new C(0,!1)}},{key:"__oneDigit",value:function(u,y){var g=new C(1,y);return g.__setDigit(0,u),g}},{key:"__decideRounding",value:function(u,y,g,S){if(0<y)return-1;var T;if(0>y)T=-y-1;else{if(0===g)return-1;g--,S=u.__digit(g),T=29}var N=1<<T;if(!(S&N))return-1;if(S&(N-=1))return 1;for(;0<g;)if(g--,0!==u.__digit(g))return 1;return 0}},{key:"__fromDouble",value:function(u){C.__kBitConversionDouble[0]=u;var y,S=(2047&C.__kBitConversionInts[1]>>>20)-1023,T=1+(0|S/30),N=new C(T,0>u),M=1048575&C.__kBitConversionInts[1]|1048576,s=C.__kBitConversionInts[0],W=S%30,K=0;if(W<20){var ee=20-W;K=ee+32,y=M>>>ee,M=M<<32-ee|s>>>ee,s<<=32-ee}else if(20===W)K=32,y=M,M=s,s=0;else{var ce=W-20;K=32-ce,y=M<<ce|s>>>32-ce,M=s<<ce,s=0}N.__setDigit(T-1,y);for(var _e=T-2;0<=_e;_e--)0<K?(K-=30,y=M>>>2,M=M<<30|s>>>2,s<<=30):y=0,N.__setDigit(_e,y);return N.__trim()}},{key:"__isWhitespace",value:function(u){return 13>=u&&9<=u||(159>=u?32==u:131071>=u?160==u||5760==u:196607>=u?10>=(u&=131071)||40==u||41==u||47==u||95==u||4096==u:65279==u)}},{key:"__fromString",value:function(u){var y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,g=0,S=u.length,T=0;if(T===S)return C.__zero();for(var N=u.charCodeAt(T);C.__isWhitespace(N);){if(++T===S)return C.__zero();N=u.charCodeAt(T)}if(43===N){if(++T===S)return null;N=u.charCodeAt(T),g=1}else if(45===N){if(++T===S)return null;N=u.charCodeAt(T),g=-1}if(0===y){if(y=10,48===N){if(++T===S)return C.__zero();if(88===(N=u.charCodeAt(T))||120===N){if(y=16,++T===S)return null;N=u.charCodeAt(T)}else if(79===N||111===N){if(y=8,++T===S)return null;N=u.charCodeAt(T)}else if(66===N||98===N){if(y=2,++T===S)return null;N=u.charCodeAt(T)}}}else if(16===y&&48===N){if(++T===S)return C.__zero();if(88===(N=u.charCodeAt(T))||120===N){if(++T===S)return null;N=u.charCodeAt(T)}}if(0!==g&&10!==y)return null;for(;48===N;){if(++T===S)return C.__zero();N=u.charCodeAt(T)}var M=S-T,s=C.__kMaxBitsPerChar[y],v=C.__kBitsPerCharTableMultiplier-1;if(M>1073741824/s)return null;var K=new C(0|(29+(s*M+v>>>C.__kBitsPerCharTableShift))/30,!1),ee=10>y?y:10,ce=10<y?y-10:0;if(y&y-1){K.__initializeDigits();var ye=!1,Te=0;do{for(var pe,fe=0,Q=1;;){if(pe=void 0,N-48>>>0<ee)pe=N-48;else{if(!((32|N)-97>>>0<ce)){ye=!0;break}pe=(32|N)-87}var ie=Q*y;if(1073741823<ie)break;if(Q=ie,fe=fe*y+pe,Te++,++T===S){ye=!0;break}N=u.charCodeAt(T)}K.__inplaceMultiplyAdd(Q,fe,0|(s*Te+(v=30*C.__kBitsPerCharTableMultiplier-1)>>>C.__kBitsPerCharTableShift)/30)}while(!ye)}else{s>>=C.__kBitsPerCharTableShift;var _e=[],Pe=[],$e=!1;do{for(var Se,be=0,Ne=0;;){if(Se=void 0,N-48>>>0<ee)Se=N-48;else{if(!((32|N)-97>>>0<ce)){$e=!0;break}Se=(32|N)-87}if(Ne+=s,be=be<<s|Se,++T===S){$e=!0;break}if(N=u.charCodeAt(T),30<Ne+s)break}_e.push(be),Pe.push(Ne)}while(!$e);C.__fillFromParts(K,_e,Pe)}if(T!==S){if(!C.__isWhitespace(N))return null;for(T++;T<S;T++)if(N=u.charCodeAt(T),!C.__isWhitespace(N))return null}return K.sign=-1===g,K.__trim()}},{key:"__fillFromParts",value:function(u,y,g){for(var S=0,T=0,N=0,M=y.length-1;0<=M;M--){var s=y[M],v=g[M];T|=s<<N,30===(N+=v)?(u.__setDigit(S++,T),N=0,T=0):30<N&&(u.__setDigit(S++,1073741823&T),T=s>>>v-(N-=30))}if(0!==T){if(S>=u.length)throw new Error("implementation bug");u.__setDigit(S++,T)}for(;S<u.length;S++)u.__setDigit(S,0)}},{key:"__toStringBasePowerOfTwo",value:function(u,y){var g=u.length,S=y-1,T=S=(15&(S=(51&(S=(85&S>>>1)+(85&S))>>>2)+(51&S))>>>4)+(15&S),N=y-1,M=u.__digit(g-1),v=0|(30*g-C.__clz30(M)+T-1)/T;if(u.sign&&v++,268435456<v)throw new Error("string too long");for(var W=Array(v),K=v-1,ee=0,ce=0,_e=0;_e<g-1;_e++){var Pe=u.__digit(_e);W[K--]=C.__kConversionChars[(ee|Pe<<ce)&N];var Se=T-ce;for(ee=Pe>>>Se,ce=30-Se;ce>=T;)W[K--]=C.__kConversionChars[ee&N],ee>>>=T,ce-=T}for(W[K--]=C.__kConversionChars[(ee|M<<ce)&N],ee=M>>>T-ce;0!==ee;)W[K--]=C.__kConversionChars[ee&N],ee>>>=T;if(u.sign&&(W[K--]="-"),-1!==K)throw new Error("implementation bug");return W.join("")}},{key:"__toStringGeneric",value:function(u,y,g){var S=u.length;if(0===S)return"";if(1===S){var T=u.__unsignedDigit(0).toString(y);return!1===g&&u.sign&&(T="-"+T),T}var W,K,N=30*S-C.__clz30(u.__digit(S-1)),s=C.__kMaxBitsPerChar[y]-1,v=N*C.__kBitsPerCharTableMultiplier,ee=1+(v=0|(v+=s-1)/s)>>1,ce=C.exponentiate(C.__oneDigit(y,!1),C.__oneDigit(ee,!1)),_e=ce.__unsignedDigit(0);if(1===ce.length&&32767>=_e){(W=new C(u.length,!1)).__initializeDigits();for(var Pe,$e=0,Se=2*u.length-1;0<=Se;Se--)Pe=$e<<15|u.__halfDigit(Se),W.__setHalfDigit(Se,0|Pe/_e),$e=0|Pe%_e;K=$e.toString(y)}else{var be=C.__absoluteDivLarge(u,ce,!0,!0);W=be.quotient;var Ne=be.remainder.__trim();K=C.__toStringGeneric(Ne,y,!0)}W.__trim();for(var ye=C.__toStringGeneric(W,y,!0);K.length<ee;)K="0"+K;return!1===g&&u.sign&&(ye="-"+ye),ye+K}},{key:"__unequalSign",value:function(u){return u?-1:1}},{key:"__absoluteGreater",value:function(u){return u?-1:1}},{key:"__absoluteLess",value:function(u){return u?1:-1}},{key:"__compareToBigInt",value:function(u,y){var g=u.sign;if(g!==y.sign)return C.__unequalSign(g);var S=C.__absoluteCompare(u,y);return 0<S?C.__absoluteGreater(g):0>S?C.__absoluteLess(g):0}},{key:"__compareToNumber",value:function(u,y){if(C.__isOneDigitInt(y)){var g=u.sign,S=0>y;if(g!==S)return C.__unequalSign(g);if(0===u.length){if(S)throw new Error("implementation bug");return 0===y?0:-1}if(1<u.length)return C.__absoluteGreater(g);var T=we(y),N=u.__unsignedDigit(0);return N>T?C.__absoluteGreater(g):N<T?C.__absoluteLess(g):0}return C.__compareToDouble(u,y)}},{key:"__compareToDouble",value:function(u,y){if(y!=y)return y;if(y===1/0)return-1;if(y===-1/0)return 1;var g=u.sign;if(g!==0>y)return C.__unequalSign(g);if(0===y)throw new Error("implementation bug: should be handled elsewhere");if(0===u.length)return-1;C.__kBitConversionDouble[0]=y;var S=2047&C.__kBitConversionInts[1]>>>20;if(2047==S)throw new Error("implementation bug: handled elsewhere");var T=S-1023;if(0>T)return C.__absoluteGreater(g);var N=u.length,M=u.__digit(N-1),s=C.__clz30(M),v=30*N-s,W=T+1;if(v<W)return C.__absoluteLess(g);if(v>W)return C.__absoluteGreater(g);var K=1048576|1048575&C.__kBitConversionInts[1],ee=C.__kBitConversionInts[0],_e=29-s;if(_e!==(0|(v-1)%30))throw new Error("implementation bug");var Pe,$e=0;if(_e<20){var Se=20-_e;$e=Se+32,Pe=K>>>Se,K=K<<32-Se|ee>>>Se,ee<<=32-Se}else if(20===_e)$e=32,Pe=K,K=ee,ee=0;else{var be=_e-20;$e=32-be,Pe=K<<be|ee>>>32-be,K=ee<<be,ee=0}if((M>>>=0)>(Pe>>>=0))return C.__absoluteGreater(g);if(M<Pe)return C.__absoluteLess(g);for(var Ne=N-2;0<=Ne;Ne--){0<$e?($e-=30,Pe=K>>>2,K=K<<30|ee>>>2,ee<<=30):Pe=0;var ye=u.__unsignedDigit(Ne);if(ye>Pe)return C.__absoluteGreater(g);if(ye<Pe)return C.__absoluteLess(g)}if(0!==K||0!==ee){if(0===$e)throw new Error("implementation bug");return C.__absoluteLess(g)}return 0}},{key:"__equalToNumber",value:function(u,y){return C.__isOneDigitInt(y)?0===y?0===u.length:1===u.length&&u.sign===0>y&&u.__unsignedDigit(0)===we(y):0===C.__compareToDouble(u,y)}},{key:"__comparisonResultToBool",value:function(u,y){return 0===y?0>u:1===y?0>=u:2===y?0<u:3===y?0<=u:void 0}},{key:"__compare",value:function(u,y,g){if(u=C.__toPrimitive(u),y=C.__toPrimitive(y),"string"==typeof u&&"string"==typeof y)switch(g){case 0:return u<y;case 1:return u<=y;case 2:return u>y;case 3:return u>=y}if(C.__isBigInt(u)&&"string"==typeof y)return null!==(y=C.__fromString(y))&&C.__comparisonResultToBool(C.__compareToBigInt(u,y),g);if("string"==typeof u&&C.__isBigInt(y))return null!==(u=C.__fromString(u))&&C.__comparisonResultToBool(C.__compareToBigInt(u,y),g);if(u=C.__toNumeric(u),y=C.__toNumeric(y),C.__isBigInt(u)){if(C.__isBigInt(y))return C.__comparisonResultToBool(C.__compareToBigInt(u,y),g);if("number"!=typeof y)throw new Error("implementation bug");return C.__comparisonResultToBool(C.__compareToNumber(u,y),g)}if("number"!=typeof u)throw new Error("implementation bug");if(C.__isBigInt(y))return C.__comparisonResultToBool(C.__compareToNumber(y,u),2^g);if("number"!=typeof y)throw new Error("implementation bug");return 0===g?u<y:1===g?u<=y:2===g?u>y:3===g?u>=y:void 0}},{key:"__absoluteAdd",value:function(u,y,g){if(u.length<y.length)return C.__absoluteAdd(y,u,g);if(0===u.length)return u;if(0===y.length)return u.sign===g?u:C.unaryMinus(u);var S=u.length;(0===u.__clzmsd()||y.length===u.length&&0===y.__clzmsd())&&S++;for(var T,N=new C(S,g),M=0,s=0;s<y.length;s++)M=(T=u.__digit(s)+y.__digit(s)+M)>>>30,N.__setDigit(s,1073741823&T);for(;s<u.length;s++){var v=u.__digit(s)+M;M=v>>>30,N.__setDigit(s,1073741823&v)}return s<N.length&&N.__setDigit(s,M),N.__trim()}},{key:"__absoluteSub",value:function(u,y,g){if(0===u.length)return u;if(0===y.length)return u.sign===g?u:C.unaryMinus(u);for(var S,T=new C(u.length,g),N=0,M=0;M<y.length;M++)N=1&(S=u.__digit(M)-y.__digit(M)-N)>>>30,T.__setDigit(M,1073741823&S);for(;M<u.length;M++){var s=u.__digit(M)-N;N=1&s>>>30,T.__setDigit(M,1073741823&s)}return T.__trim()}},{key:"__absoluteAddOne",value:function(u,y){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,S=u.length;null===g?g=new C(S,y):g.sign=y;for(var T,N=1,M=0;M<S;M++)N=(T=u.__digit(M)+N)>>>30,g.__setDigit(M,1073741823&T);return 0!==N&&g.__setDigitGrow(S,1),g}},{key:"__absoluteSubOne",value:function(u,y){for(var S,g=u.length,T=new C(y=y||g,!1),N=1,M=0;M<g;M++)N=1&(S=u.__digit(M)-N)>>>30,T.__setDigit(M,1073741823&S);if(0!==N)throw new Error("implementation bug");for(var s=g;s<y;s++)T.__setDigit(s,0);return T}},{key:"__absoluteAnd",value:function(u,y){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,S=u.length,T=y.length,N=T;if(S<T){N=S;var M=u,s=S;u=y,S=T,y=M,T=s}var v=N;null===g?g=new C(v,!1):v=g.length;for(var W=0;W<N;W++)g.__setDigit(W,u.__digit(W)&y.__digit(W));for(;W<v;W++)g.__setDigit(W,0);return g}},{key:"__absoluteAndNot",value:function(u,y){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,S=u.length,T=y.length,N=T;S<T&&(N=S);var M=S;null===g?g=new C(M,!1):M=g.length;for(var s=0;s<N;s++)g.__setDigit(s,u.__digit(s)&~y.__digit(s));for(;s<S;s++)g.__setDigit(s,u.__digit(s));for(;s<M;s++)g.__setDigit(s,0);return g}},{key:"__absoluteOr",value:function(u,y){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,S=u.length,T=y.length,N=T;if(S<T){N=S;var M=u,s=S;u=y,S=T,y=M,T=s}var v=S;null===g?g=new C(v,!1):v=g.length;for(var W=0;W<N;W++)g.__setDigit(W,u.__digit(W)|y.__digit(W));for(;W<S;W++)g.__setDigit(W,u.__digit(W));for(;W<v;W++)g.__setDigit(W,0);return g}},{key:"__absoluteXor",value:function(u,y){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,S=u.length,T=y.length,N=T;if(S<T){N=S;var M=u,s=S;u=y,S=T,y=M,T=s}var v=S;null===g?g=new C(v,!1):v=g.length;for(var W=0;W<N;W++)g.__setDigit(W,u.__digit(W)^y.__digit(W));for(;W<S;W++)g.__setDigit(W,u.__digit(W));for(;W<v;W++)g.__setDigit(W,0);return g}},{key:"__absoluteCompare",value:function(u,y){var g=u.length-y.length;if(0!=g)return g;for(var S=u.length-1;0<=S&&u.__digit(S)===y.__digit(S);)S--;return 0>S?0:u.__unsignedDigit(S)>y.__unsignedDigit(S)?1:-1}},{key:"__multiplyAccumulate",value:function(u,y,g,S){if(0!==y){for(var T=32767&y,N=y>>>15,M=0,s=0,v=0;v<u.length;v++,S++){var W=g.__digit(S),K=u.__digit(v),ee=32767&K,ce=K>>>15,_e=C.__imul(ee,T),Pe=C.__imul(ee,N),$e=C.__imul(ce,T);M=(W+=s+_e+M)>>>30,W&=1073741823,M+=(W+=((32767&Pe)<<15)+((32767&$e)<<15))>>>30,s=C.__imul(ce,N)+(Pe>>>15)+($e>>>15),g.__setDigit(S,1073741823&W)}for(;0!==M||0!==s;S++){var be=g.__digit(S);be+=M+s,s=0,M=be>>>30,g.__setDigit(S,1073741823&be)}}}},{key:"__internalMultiplyAdd",value:function(u,y,g,S,T){for(var N=g,M=0,s=0;s<S;s++){var v=u.__digit(s),W=C.__imul(32767&v,y),K=C.__imul(v>>>15,y),ee=W+((32767&K)<<15)+M+N;N=ee>>>30,M=K>>>15,T.__setDigit(s,1073741823&ee)}if(T.length>S)for(T.__setDigit(S++,N+M);S<T.length;)T.__setDigit(S++,0);else if(N+M!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(u,y){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===g&&(g=new C(u.length,!1));for(var S=0,T=2*u.length-1;0<=T;T-=2){var N=(S<<15|u.__halfDigit(T))>>>0,M=0|N/y;S=0|(N=((S=0|N%y)<<15|u.__halfDigit(T-1))>>>0)%y,g.__setDigit(T>>>1,M<<15|N/y)}return g}},{key:"__absoluteModSmall",value:function(u,y){for(var S=0,T=2*u.length-1;0<=T;T--)S=0|((S<<15|u.__halfDigit(T))>>>0)%y;return S}},{key:"__absoluteDivLarge",value:function(u,y,g,S){var T=y.__halfDigitLength(),N=y.length,M=u.__halfDigitLength()-T,s=null;g&&(s=new C(M+2>>>1,!1)).__initializeDigits();var v=new C(T+2>>>1,!1);v.__initializeDigits();var W=C.__clz15(y.__halfDigit(T-1));0<W&&(y=C.__specialLeftShift(y,W,0));for(var K=C.__specialLeftShift(u,W,1),ee=y.__halfDigit(T-1),ce=0,_e=M;0<=_e;_e--){var Pe=32767,$e=K.__halfDigit(_e+T);if($e!==ee){var Se=($e<<15|K.__halfDigit(_e+T-1))>>>0;Pe=0|Se/ee;for(var be=0|Se%ee,Ne=y.__halfDigit(T-2),ye=K.__halfDigit(_e+T-2);C.__imul(Pe,Ne)>>>0>(be<<16|ye)>>>0&&(Pe--,!(32767<(be+=ee))););}C.__internalMultiplyAdd(y,Pe,0,N,v);var Te=K.__inplaceSub(v,_e,T+1);0!==Te&&(Te=K.__inplaceAdd(y,_e,T),K.__setHalfDigit(_e+T,32767&K.__halfDigit(_e+T)+Te),Pe--),g&&(1&_e?ce=Pe<<15:s.__setDigit(_e>>>1,ce|Pe))}if(S)return K.__inplaceRightShift(W),g?{quotient:s,remainder:K}:K;if(g)return s;throw new Error("unreachable")}},{key:"__clz15",value:function(u){return C.__clz30(u)-15}},{key:"__specialLeftShift",value:function(u,y,g){var S=u.length,T=new C(S+g,!1);if(0===y){for(var N=0;N<S;N++)T.__setDigit(N,u.__digit(N));return 0<g&&T.__setDigit(S,0),T}for(var M,s=0,v=0;v<S;v++)M=u.__digit(v),T.__setDigit(v,1073741823&M<<y|s),s=M>>>30-y;return 0<g&&T.__setDigit(S,s),T}},{key:"__leftShiftByAbsolute",value:function(u,y){var g=C.__toShiftAmount(y);if(0>g)throw new RangeError("BigInt too big");var S=0|g/30,T=g%30,N=u.length,M=0!==T&&u.__digit(N-1)>>>30-T!=0,s=N+S+(M?1:0),v=new C(s,u.sign);if(0===T){for(var W=0;W<S;W++)v.__setDigit(W,0);for(;W<s;W++)v.__setDigit(W,u.__digit(W-S))}else{for(var K=0,ee=0;ee<S;ee++)v.__setDigit(ee,0);for(var ce,_e=0;_e<N;_e++)ce=u.__digit(_e),v.__setDigit(_e+S,1073741823&ce<<T|K),K=ce>>>30-T;if(M)v.__setDigit(N+S,K);else if(0!==K)throw new Error("implementation bug")}return v.__trim()}},{key:"__rightShiftByAbsolute",value:function(u,y){var g=u.length,S=u.sign,T=C.__toShiftAmount(y);if(0>T)return C.__rightShiftByMaximum(S);var N=0|T/30,M=T%30,s=g-N;if(0>=s)return C.__rightShiftByMaximum(S);var v=!1;if(S)if(u.__digit(N)&(1<<M)-1)v=!0;else for(var W=0;W<N;W++)if(0!==u.__digit(W)){v=!0;break}v&&0===M&&!~u.__digit(g-1)&&s++;var ee=new C(s,S);if(0===M){ee.__setDigit(s-1,0);for(var ce=N;ce<g;ce++)ee.__setDigit(ce-N,u.__digit(ce))}else{for(var _e,Pe=u.__digit(N)>>>M,$e=g-N-1,Se=0;Se<$e;Se++)_e=u.__digit(Se+N+1),ee.__setDigit(Se,1073741823&_e<<30-M|Pe),Pe=_e>>>M;ee.__setDigit($e,Pe)}return v&&(ee=C.__absoluteAddOne(ee,!0,ee)),ee.__trim()}},{key:"__rightShiftByMaximum",value:function(u){return u?C.__oneDigit(1,!0):C.__zero()}},{key:"__toShiftAmount",value:function(u){if(1<u.length)return-1;var y=u.__unsignedDigit(0);return y>C.__kMaxLengthBits?-1:y}},{key:"__toPrimitive",value:function(u){var y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==p(u)||u.constructor===C)return u;if(typeof Symbol<"u"&&"symbol"===p(Symbol.toPrimitive)){var g=u[Symbol.toPrimitive];if(g){var S=g(y);if("object"!==p(S))return S;throw new TypeError("Cannot convert object to primitive value")}}var T=u.valueOf;if(T){var N=T.call(u);if("object"!==p(N))return N}var M=u.toString;if(M){var s=M.call(u);if("object"!==p(s))return s}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(u){return C.__isBigInt(u)?u:+u}},{key:"__isBigInt",value:function(u){return"object"===p(u)&&null!==u&&u.constructor===C}},{key:"__truncateToNBits",value:function(u,y){for(var g=0|(u+29)/30,S=new C(g,y.sign),T=g-1,N=0;N<T;N++)S.__setDigit(N,y.__digit(N));var M=y.__digit(T);if(u%30!=0){var s=32-u%30;M=M<<s>>>s}return S.__setDigit(T,M),S.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(u,y,g){for(var T,S=Math.min,N=0|(u+29)/30,M=new C(N,g),s=0,v=N-1,W=0,K=S(v,y.length);s<K;s++)W=1&(T=0-y.__digit(s)-W)>>>30,M.__setDigit(s,1073741823&T);for(;s<v;s++)M.__setDigit(s,1073741823&-W);var ee,ce=v<y.length?y.__digit(v):0,_e=u%30;if(0===_e)ee=0-ce-W,ee&=1073741823;else{var Pe=32-_e,$e=1<<32-Pe;ee=$e-(ce=ce<<Pe>>>Pe)-W,ee&=$e-1}return M.__setDigit(v,ee),M.__trim()}},{key:"__digitPow",value:function(u,y){for(var g=1;0<y;)1&y&&(g*=u),y>>>=1,u*=u;return g}},{key:"__isOneDigitInt",value:function(u){return(1073741823&u)===u}}]),C}(I(Array));return de.__kMaxLength=33554432,de.__kMaxLengthBits=de.__kMaxLength<<5,de.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],de.__kBitsPerCharTableShift=5,de.__kBitsPerCharTableMultiplier=1<<de.__kBitsPerCharTableShift,de.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],de.__kBitConversionBuffer=new ArrayBuffer(8),de.__kBitConversionDouble=new Float64Array(de.__kBitConversionBuffer),de.__kBitConversionInts=new Int32Array(de.__kBitConversionBuffer),de.__clz30=_?function(le){return _(le)-2}:function(le){var we=Math.LN2,xe=Math.log;return 0===le?30:0|29-(0|xe(le>>>0)/we)},de.__imul=z||function(le,we){return 0|le*we},de}()},44331:Fe=>{"use strict";var z=Fe.exports=function(E,k,H){"function"==typeof k&&(H=k,k={}),_(k,"function"==typeof(H=k.cb||H)?H:H.pre||function(){},H.post||function(){},E,"",E)};function _(E,k,H,x,R,A,O,F,L,I){if(x&&"object"==typeof x&&!Array.isArray(x)){for(var Z in k(x,R,A,O,F,L,I),x){var j=x[Z];if(Array.isArray(j)){if(Z in z.arrayKeywords)for(var G=0;G<j.length;G++)_(E,k,H,j[G],R+"/"+Z+"/"+G,A,R,Z,x,G)}else if(Z in z.propsKeywords){if(j&&"object"==typeof j)for(var re in j)_(E,k,H,j[re],R+"/"+Z+"/"+p(re),A,R,Z,x,re)}else(Z in z.keywords||E.allKeys&&!(Z in z.skipKeywords))&&_(E,k,H,j,R+"/"+Z,A,R,Z,x)}H(x,R,A,O,F,L,I)}}function p(E){return E.replace(/~/g,"~0").replace(/\//g,"~1")}z.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},z.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},z.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},z.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},89061:(Fe,z)=>{"use strict";z.supports=function(...p){const E=p.reduce((k,H)=>Object.assign(k,H),{});return Object.assign(E,{snapshots:E.snapshots||!1,permanence:E.permanence||!1,seek:E.seek||!1,clear:E.clear||!1,getMany:E.getMany||!1,keyIterator:E.keyIterator||!1,valueIterator:E.valueIterator||!1,iteratorNextv:E.iteratorNextv||!1,iteratorAll:E.iteratorAll||!1,status:E.status||!1,createIfMissing:E.createIfMissing||!1,errorIfExists:E.errorIfExists||!1,deferredOpen:E.deferredOpen||!1,promises:E.promises||!1,streams:E.streams||!1,encodings:Object.assign({},E.encodings),events:Object.assign({},E.events),additionalMethods:Object.assign({},E.additionalMethods)})}},25006:(Fe,z,_)=>{"use strict";const p=_(61747),E=_(40080),{Encoding:k}=_(15045),{BufferFormat:H,ViewFormat:x,UTF8Format:R}=_(48262),A=Symbol("formats"),O=Symbol("encodings"),F=new Set(["buffer","view","utf8"]);z.Transcoder=class L{constructor(J){if(!Array.isArray(J))throw new TypeError("The first argument 'formats' must be an array");if(!J.every(Y=>F.has(Y)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'");this[O]=new Map,this[A]=new Set(J);for(const Y in E)try{this.encoding(Y)}catch(oe){if("LEVEL_ENCODING_NOT_SUPPORTED"!==oe.code)throw oe}}encodings(){return Array.from(new Set(this[O].values()))}encoding(J){let Y=this[O].get(J);if(void 0===Y){if("string"==typeof J&&""!==J){if(Y=G[J],!Y)throw new p(`Encoding '${J}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if("object"!=typeof J||null===J)throw new TypeError("First argument 'encoding' must be a string or object");Y=function I(te){if(te instanceof k)return te;const Y=te.name||("type"in te&&"string"==typeof te.type?te.type:void 0)||"anonymous-"+re++;switch(function Z(te){return"format"in te&&void 0!==te.format?te.format:"buffer"in te&&"boolean"==typeof te.buffer?te.buffer?"buffer":"utf8":"code"in te&&Number.isInteger(te.code)?"view":"buffer"}(te)){case"view":return new x({...te,name:Y});case"utf8":return new R({...te,name:Y});case"buffer":return new H({...te,name:Y});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}(J)}const{name:oe,format:ae}=Y;if(!this[A].has(ae))if(this[A].has("view"))Y=Y.createViewTranscoder();else if(this[A].has("buffer"))Y=Y.createBufferTranscoder();else{if(!this[A].has("utf8"))throw new p(`Encoding '${oe}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});Y=Y.createUTF8Transcoder()}for(const se of[J,oe,Y.name,Y.commonName])this[O].set(se,Y)}return Y}};const j={binary:E.buffer,"utf-8":E.utf8},G={...E,...j};let re=0},15045:(Fe,z,_)=>{"use strict";const p=_(61747),E=new Set(["buffer","view","utf8"]);z.Encoding=class k{constructor(x){if(this.encode=x.encode||this.encode,this.decode=x.decode||this.decode,this.name=x.name||this.name,this.format=x.format||this.format,"function"!=typeof this.encode)throw new TypeError("The 'encode' property must be a function");if("function"!=typeof this.decode)throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),"string"!=typeof this.name||""===this.name)throw new TypeError("The 'name' property must be a string");if("string"!=typeof this.format||!E.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");x.createViewTranscoder&&(this.createViewTranscoder=x.createViewTranscoder),x.createBufferTranscoder&&(this.createBufferTranscoder=x.createBufferTranscoder),x.createUTF8Transcoder&&(this.createUTF8Transcoder=x.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new p(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new p(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new p(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}}},40080:(Fe,z,_)=>{"use strict";const{Buffer:p}=_(484)||{Buffer:{isBuffer:()=>!1}},{textEncoder:E,textDecoder:k}=_(33619)(),{BufferFormat:H,ViewFormat:x,UTF8Format:R}=_(48262),A=O=>O;z.utf8=new R({encode:function(O){return p.isBuffer(O)?O.toString("utf8"):ArrayBuffer.isView(O)?k.decode(O):String(O)},decode:A,name:"utf8",createViewTranscoder(){return new x({encode:function(O){return ArrayBuffer.isView(O)?O:E.encode(O)},decode:function(O){return k.decode(O)},name:`${this.name}+view`})},createBufferTranscoder(){return new H({encode:function(O){return p.isBuffer(O)?O:ArrayBuffer.isView(O)?p.from(O.buffer,O.byteOffset,O.byteLength):p.from(String(O),"utf8")},decode:function(O){return O.toString("utf8")},name:`${this.name}+buffer`})}}),z.json=new R({encode:JSON.stringify,decode:JSON.parse,name:"json"}),z.buffer=new H({encode:function(O){return p.isBuffer(O)?O:ArrayBuffer.isView(O)?p.from(O.buffer,O.byteOffset,O.byteLength):p.from(String(O),"utf8")},decode:A,name:"buffer",createViewTranscoder(){return new x({encode:function(O){return ArrayBuffer.isView(O)?O:p.from(String(O),"utf8")},decode:function(O){return p.from(O.buffer,O.byteOffset,O.byteLength)},name:`${this.name}+view`})}}),z.view=new x({encode:function(O){return ArrayBuffer.isView(O)?O:E.encode(O)},decode:A,name:"view",createBufferTranscoder(){return new H({encode:function(O){return p.isBuffer(O)?O:ArrayBuffer.isView(O)?p.from(O.buffer,O.byteOffset,O.byteLength):p.from(String(O),"utf8")},decode:A,name:`${this.name}+buffer`})}}),z.hex=new H({encode:function(O){return p.isBuffer(O)?O:p.from(String(O),"hex")},decode:function(O){return O.toString("hex")},name:"hex"}),z.base64=new H({encode:function(O){return p.isBuffer(O)?O:p.from(String(O),"base64")},decode:function(O){return O.toString("base64")},name:"base64"})},48262:(Fe,z,_)=>{"use strict";const{Buffer:p}=_(484)||{},{Encoding:E}=_(15045),k=_(33619);class H extends E{constructor(O){super({...O,format:"buffer"})}createViewTranscoder(){return new x({encode:this.encode,decode:O=>this.decode(p.from(O.buffer,O.byteOffset,O.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}}class x extends E{constructor(O){super({...O,format:"view"})}createBufferTranscoder(){return new H({encode:O=>{const F=this.encode(O);return p.from(F.buffer,F.byteOffset,F.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}}z.BufferFormat=H,z.ViewFormat=x,z.UTF8Format=class R extends E{constructor(O){super({...O,format:"utf8"})}createBufferTranscoder(){return new H({encode:O=>p.from(this.encode(O),"utf8"),decode:O=>this.decode(O.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){const{textEncoder:O,textDecoder:F}=k();return new x({encode:L=>O.encode(this.encode(L)),decode:L=>this.decode(F.decode(L)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}}},33619:Fe=>{"use strict";let z=null;Fe.exports=function(){return null===z&&(z={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),z}},484:(Fe,z,_)=>{"use strict";const p=_(13981),E=_(22020),k="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=A,z.SlowBuffer=function Y(B){return+B!=B&&(B=0),A.alloc(+B)},z.INSPECT_MAX_BYTES=50;const H=2147483647;function R(B){if(B>H)throw new RangeError('The value "'+B+'" is invalid for option "size"');const w=new Uint8Array(B);return Object.setPrototypeOf(w,A.prototype),w}function A(B,w,m){if("number"==typeof B){if("string"==typeof w)throw new TypeError('The "string" argument must be of type string. Received type number');return I(B)}return O(B,w,m)}function O(B,w,m){if("string"==typeof B)return function Z(B,w){if(("string"!=typeof w||""===w)&&(w="utf8"),!A.isEncoding(w))throw new TypeError("Unknown encoding: "+w);const m=0|oe(B,w);let U=R(m);const ne=U.write(B,w);return ne!==m&&(U=U.slice(0,ne)),U}(B,w);if(ArrayBuffer.isView(B))return function G(B){if(Le(B,Uint8Array)){const w=new Uint8Array(B);return re(w.buffer,w.byteOffset,w.byteLength)}return j(B)}(B);if(null==B)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(Le(B,ArrayBuffer)||B&&Le(B.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Le(B,SharedArrayBuffer)||B&&Le(B.buffer,SharedArrayBuffer)))return re(B,w,m);if("number"==typeof B)throw new TypeError('The "value" argument must not be of type number. Received type number');const U=B.valueOf&&B.valueOf();if(null!=U&&U!==B)return A.from(U,w,m);const ne=function te(B){if(A.isBuffer(B)){const w=0|J(B.length),m=R(w);return 0===m.length||B.copy(m,0,0,w),m}return void 0!==B.length?"number"!=typeof B.length||_t(B.length)?R(0):j(B):"Buffer"===B.type&&Array.isArray(B.data)?j(B.data):void 0}(B);if(ne)return ne;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof B[Symbol.toPrimitive])return A.from(B[Symbol.toPrimitive]("string"),w,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}function F(B){if("number"!=typeof B)throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function I(B){return F(B),R(B<0?0:0|J(B))}function j(B){const w=B.length<0?0:0|J(B.length),m=R(w);for(let U=0;U<w;U+=1)m[U]=255&B[U];return m}function re(B,w,m){if(w<0||B.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<w+(m||0))throw new RangeError('"length" is outside of buffer bounds');let U;return U=void 0===w&&void 0===m?new Uint8Array(B):void 0===m?new Uint8Array(B,w):new Uint8Array(B,w,m),Object.setPrototypeOf(U,A.prototype),U}function J(B){if(B>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|B}function oe(B,w){if(A.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||Le(B,ArrayBuffer))return B.byteLength;if("string"!=typeof B)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);const m=B.length,U=arguments.length>2&&!0===arguments[2];if(!U&&0===m)return 0;let ne=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return ie(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*m;case"hex":return m>>>1;case"base64":return ke(B).length;default:if(ne)return U?-1:ie(B).length;w=(""+w).toLowerCase(),ne=!0}}function ae(B,w,m){let U=!1;if((void 0===w||w<0)&&(w=0),w>this.length||((void 0===m||m>this.length)&&(m=this.length),m<=0)||(m>>>=0)<=(w>>>=0))return"";for(B||(B="utf8");;)switch(B){case"hex":return M(this,w,m);case"utf8":case"utf-8":return y(this,w,m);case"ascii":return T(this,w,m);case"latin1":case"binary":return N(this,w,m);case"base64":return u(this,w,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,w,m);default:if(U)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),U=!0}}function se(B,w,m){const U=B[w];B[w]=B[m],B[m]=U}function de(B,w,m,U,ne){if(0===B.length)return-1;if("string"==typeof m?(U=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),_t(m=+m)&&(m=ne?0:B.length-1),m<0&&(m=B.length+m),m>=B.length){if(ne)return-1;m=B.length-1}else if(m<0){if(!ne)return-1;m=0}if("string"==typeof w&&(w=A.from(w,U)),A.isBuffer(w))return 0===w.length?-1:le(B,w,m,U,ne);if("number"==typeof w)return w&=255,"function"==typeof Uint8Array.prototype.indexOf?ne?Uint8Array.prototype.indexOf.call(B,w,m):Uint8Array.prototype.lastIndexOf.call(B,w,m):le(B,[w],m,U,ne);throw new TypeError("val must be string, number or Buffer")}function le(B,w,m,U,ne){let gt,ge=1,Ae=B.length,Qe=w.length;if(void 0!==U&&("ucs2"===(U=String(U).toLowerCase())||"ucs-2"===U||"utf16le"===U||"utf-16le"===U)){if(B.length<2||w.length<2)return-1;ge=2,Ae/=2,Qe/=2,m/=2}function Bt(It,Gt){return 1===ge?It[Gt]:It.readUInt16BE(Gt*ge)}if(ne){let It=-1;for(gt=m;gt<Ae;gt++)if(Bt(B,gt)===Bt(w,-1===It?0:gt-It)){if(-1===It&&(It=gt),gt-It+1===Qe)return It*ge}else-1!==It&&(gt-=gt-It),It=-1}else for(m+Qe>Ae&&(m=Ae-Qe),gt=m;gt>=0;gt--){let It=!0;for(let Gt=0;Gt<Qe;Gt++)if(Bt(B,gt+Gt)!==Bt(w,Gt)){It=!1;break}if(It)return gt}return-1}function we(B,w,m,U){m=Number(m)||0;const ne=B.length-m;U?(U=Number(U))>ne&&(U=ne):U=ne;const ge=w.length;let Ae;for(U>ge/2&&(U=ge/2),Ae=0;Ae<U;++Ae){const Qe=parseInt(w.substr(2*Ae,2),16);if(_t(Qe))return Ae;B[m+Ae]=Qe}return Ae}function xe(B,w,m,U){return Ue(ie(w,B.length-m),B,m,U)}function Ce(B,w,m,U){return Ue(function ue(B){const w=[];for(let m=0;m<B.length;++m)w.push(255&B.charCodeAt(m));return w}(w),B,m,U)}function C(B,w,m,U){return Ue(ke(w),B,m,U)}function a(B,w,m,U){return Ue(function Ee(B,w){let m,U,ne;const ge=[];for(let Ae=0;Ae<B.length&&!((w-=2)<0);++Ae)m=B.charCodeAt(Ae),U=m>>8,ne=m%256,ge.push(ne),ge.push(U);return ge}(w,B.length-m),B,m,U)}function u(B,w,m){return p.fromByteArray(0===w&&m===B.length?B:B.slice(w,m))}function y(B,w,m){m=Math.min(B.length,m);const U=[];let ne=w;for(;ne<m;){const ge=B[ne];let Ae=null,Qe=ge>239?4:ge>223?3:ge>191?2:1;if(ne+Qe<=m){let Bt,gt,It,Gt;switch(Qe){case 1:ge<128&&(Ae=ge);break;case 2:Bt=B[ne+1],128==(192&Bt)&&(Gt=(31&ge)<<6|63&Bt,Gt>127&&(Ae=Gt));break;case 3:Bt=B[ne+1],gt=B[ne+2],128==(192&Bt)&&128==(192&gt)&&(Gt=(15&ge)<<12|(63&Bt)<<6|63&gt,Gt>2047&&(Gt<55296||Gt>57343)&&(Ae=Gt));break;case 4:Bt=B[ne+1],gt=B[ne+2],It=B[ne+3],128==(192&Bt)&&128==(192&gt)&&128==(192&It)&&(Gt=(15&ge)<<18|(63&Bt)<<12|(63&gt)<<6|63&It,Gt>65535&&Gt<1114112&&(Ae=Gt))}}null===Ae?(Ae=65533,Qe=1):Ae>65535&&(Ae-=65536,U.push(Ae>>>10&1023|55296),Ae=56320|1023&Ae),U.push(Ae),ne+=Qe}return function S(B){const w=B.length;if(w<=g)return String.fromCharCode.apply(String,B);let m="",U=0;for(;U<w;)m+=String.fromCharCode.apply(String,B.slice(U,U+=g));return m}(U)}z.kMaxLength=H,!(A.TYPED_ARRAY_SUPPORT=function x(){try{const B=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(B,w),42===B.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(B,w,m){return O(B,w,m)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(B,w,m){return function L(B,w,m){return F(B),B<=0?R(B):void 0!==w?"string"==typeof m?R(B).fill(w,m):R(B).fill(w):R(B)}(B,w,m)},A.allocUnsafe=function(B){return I(B)},A.allocUnsafeSlow=function(B){return I(B)},A.isBuffer=function(w){return null!=w&&!0===w._isBuffer&&w!==A.prototype},A.compare=function(w,m){if(Le(w,Uint8Array)&&(w=A.from(w,w.offset,w.byteLength)),Le(m,Uint8Array)&&(m=A.from(m,m.offset,m.byteLength)),!A.isBuffer(w)||!A.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===m)return 0;let U=w.length,ne=m.length;for(let ge=0,Ae=Math.min(U,ne);ge<Ae;++ge)if(w[ge]!==m[ge]){U=w[ge],ne=m[ge];break}return U<ne?-1:ne<U?1:0},A.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(w,m){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(0===w.length)return A.alloc(0);let U;if(void 0===m)for(m=0,U=0;U<w.length;++U)m+=w[U].length;const ne=A.allocUnsafe(m);let ge=0;for(U=0;U<w.length;++U){let Ae=w[U];if(Le(Ae,Uint8Array))ge+Ae.length>ne.length?(A.isBuffer(Ae)||(Ae=A.from(Ae)),Ae.copy(ne,ge)):Uint8Array.prototype.set.call(ne,Ae,ge);else{if(!A.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(ne,ge)}ge+=Ae.length}return ne},A.byteLength=oe,A.prototype._isBuffer=!0,A.prototype.swap16=function(){const w=this.length;if(w%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<w;m+=2)se(this,m,m+1);return this},A.prototype.swap32=function(){const w=this.length;if(w%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<w;m+=4)se(this,m,m+3),se(this,m+1,m+2);return this},A.prototype.swap64=function(){const w=this.length;if(w%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<w;m+=8)se(this,m,m+7),se(this,m+1,m+6),se(this,m+2,m+5),se(this,m+3,m+4);return this},A.prototype.toLocaleString=A.prototype.toString=function(){const w=this.length;return 0===w?"":0===arguments.length?y(this,0,w):ae.apply(this,arguments)},A.prototype.equals=function(w){if(!A.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w||0===A.compare(this,w)},A.prototype.inspect=function(){let w="";const m=z.INSPECT_MAX_BYTES;return w=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(w+=" ... "),"<Buffer "+w+">"},k&&(A.prototype[k]=A.prototype.inspect),A.prototype.compare=function(w,m,U,ne,ge){if(Le(w,Uint8Array)&&(w=A.from(w,w.offset,w.byteLength)),!A.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(void 0===m&&(m=0),void 0===U&&(U=w?w.length:0),void 0===ne&&(ne=0),void 0===ge&&(ge=this.length),m<0||U>w.length||ne<0||ge>this.length)throw new RangeError("out of range index");if(ne>=ge&&m>=U)return 0;if(ne>=ge)return-1;if(m>=U)return 1;if(this===w)return 0;let Ae=(ge>>>=0)-(ne>>>=0),Qe=(U>>>=0)-(m>>>=0);const Bt=Math.min(Ae,Qe),gt=this.slice(ne,ge),It=w.slice(m,U);for(let Gt=0;Gt<Bt;++Gt)if(gt[Gt]!==It[Gt]){Ae=gt[Gt],Qe=It[Gt];break}return Ae<Qe?-1:Qe<Ae?1:0},A.prototype.includes=function(w,m,U){return-1!==this.indexOf(w,m,U)},A.prototype.indexOf=function(w,m,U){return de(this,w,m,U,!0)},A.prototype.lastIndexOf=function(w,m,U){return de(this,w,m,U,!1)},A.prototype.write=function(w,m,U,ne){if(void 0===m)ne="utf8",U=this.length,m=0;else if(void 0===U&&"string"==typeof m)ne=m,U=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m>>>=0,isFinite(U)?(U>>>=0,void 0===ne&&(ne="utf8")):(ne=U,U=void 0)}const ge=this.length-m;if((void 0===U||U>ge)&&(U=ge),w.length>0&&(U<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");let Ae=!1;for(;;)switch(ne){case"hex":return we(this,w,m,U);case"utf8":case"utf-8":return xe(this,w,m,U);case"ascii":case"latin1":case"binary":return Ce(this,w,m,U);case"base64":return C(this,w,m,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,w,m,U);default:if(Ae)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),Ae=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const g=4096;function T(B,w,m){let U="";m=Math.min(B.length,m);for(let ne=w;ne<m;++ne)U+=String.fromCharCode(127&B[ne]);return U}function N(B,w,m){let U="";m=Math.min(B.length,m);for(let ne=w;ne<m;++ne)U+=String.fromCharCode(B[ne]);return U}function M(B,w,m){const U=B.length;(!w||w<0)&&(w=0),(!m||m<0||m>U)&&(m=U);let ne="";for(let ge=w;ge<m;++ge)ne+=Ve[B[ge]];return ne}function s(B,w,m){const U=B.slice(w,m);let ne="";for(let ge=0;ge<U.length-1;ge+=2)ne+=String.fromCharCode(U[ge]+256*U[ge+1]);return ne}function v(B,w,m){if(B%1!=0||B<0)throw new RangeError("offset is not uint");if(B+w>m)throw new RangeError("Trying to access beyond buffer length")}function W(B,w,m,U,ne,ge){if(!A.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>ne||w<ge)throw new RangeError('"value" argument is out of bounds');if(m+U>B.length)throw new RangeError("Index out of range")}function K(B,w,m,U,ne){ye(w,U,ne,B,m,7);let ge=Number(w&BigInt(4294967295));B[m++]=ge,ge>>=8,B[m++]=ge,ge>>=8,B[m++]=ge,ge>>=8,B[m++]=ge;let Ae=Number(w>>BigInt(32)&BigInt(4294967295));return B[m++]=Ae,Ae>>=8,B[m++]=Ae,Ae>>=8,B[m++]=Ae,Ae>>=8,B[m++]=Ae,m}function ee(B,w,m,U,ne){ye(w,U,ne,B,m,7);let ge=Number(w&BigInt(4294967295));B[m+7]=ge,ge>>=8,B[m+6]=ge,ge>>=8,B[m+5]=ge,ge>>=8,B[m+4]=ge;let Ae=Number(w>>BigInt(32)&BigInt(4294967295));return B[m+3]=Ae,Ae>>=8,B[m+2]=Ae,Ae>>=8,B[m+1]=Ae,Ae>>=8,B[m]=Ae,m+8}function ce(B,w,m,U,ne,ge){if(m+U>B.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function _e(B,w,m,U,ne){return w=+w,m>>>=0,ne||ce(B,0,m,4),E.write(B,w,m,U,23,4),m+4}function Pe(B,w,m,U,ne){return w=+w,m>>>=0,ne||ce(B,0,m,8),E.write(B,w,m,U,52,8),m+8}A.prototype.slice=function(w,m){const U=this.length;(w=~~w)<0?(w+=U)<0&&(w=0):w>U&&(w=U),(m=void 0===m?U:~~m)<0?(m+=U)<0&&(m=0):m>U&&(m=U),m<w&&(m=w);const ne=this.subarray(w,m);return Object.setPrototypeOf(ne,A.prototype),ne},A.prototype.readUintLE=A.prototype.readUIntLE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[w+Ae]*ge;return ne},A.prototype.readUintBE=A.prototype.readUIntBE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w+--m],ge=1;for(;m>0&&(ge*=256);)ne+=this[w+--m]*ge;return ne},A.prototype.readUint8=A.prototype.readUInt8=function(w,m){return w>>>=0,m||v(w,1,this.length),this[w]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(w,m){return w>>>=0,m||v(w,2,this.length),this[w]|this[w+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(w,m){return w>>>=0,m||v(w,2,this.length),this[w]<<8|this[w+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(w,m){return w>>>=0,m||v(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+16777216*this[w+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(w,m){return w>>>=0,m||v(w,4,this.length),16777216*this[w]+(this[w+1]<<16|this[w+2]<<8|this[w+3])},A.prototype.readBigUInt64LE=Be(function(w){Te(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=m+256*this[++w]+65536*this[++w]+this[++w]*2**24,ge=this[++w]+256*this[++w]+65536*this[++w]+U*2**24;return BigInt(ne)+(BigInt(ge)<<BigInt(32))}),A.prototype.readBigUInt64BE=Be(function(w){Te(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=m*2**24+65536*this[++w]+256*this[++w]+this[++w],ge=this[++w]*2**24+65536*this[++w]+256*this[++w]+U;return(BigInt(ne)<<BigInt(32))+BigInt(ge)}),A.prototype.readIntLE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=this[w],ge=1,Ae=0;for(;++Ae<m&&(ge*=256);)ne+=this[w+Ae]*ge;return ge*=128,ne>=ge&&(ne-=Math.pow(2,8*m)),ne},A.prototype.readIntBE=function(w,m,U){w>>>=0,m>>>=0,U||v(w,m,this.length);let ne=m,ge=1,Ae=this[w+--ne];for(;ne>0&&(ge*=256);)Ae+=this[w+--ne]*ge;return ge*=128,Ae>=ge&&(Ae-=Math.pow(2,8*m)),Ae},A.prototype.readInt8=function(w,m){return w>>>=0,m||v(w,1,this.length),128&this[w]?-1*(255-this[w]+1):this[w]},A.prototype.readInt16LE=function(w,m){w>>>=0,m||v(w,2,this.length);const U=this[w]|this[w+1]<<8;return 32768&U?4294901760|U:U},A.prototype.readInt16BE=function(w,m){w>>>=0,m||v(w,2,this.length);const U=this[w+1]|this[w]<<8;return 32768&U?4294901760|U:U},A.prototype.readInt32LE=function(w,m){return w>>>=0,m||v(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},A.prototype.readInt32BE=function(w,m){return w>>>=0,m||v(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},A.prototype.readBigInt64LE=Be(function(w){Te(w>>>=0,"offset");const m=this[w],U=this[w+7];return(void 0===m||void 0===U)&&pe(w,this.length-8),(BigInt(this[w+4]+256*this[w+5]+65536*this[w+6]+(U<<24))<<BigInt(32))+BigInt(m+256*this[++w]+65536*this[++w]+this[++w]*2**24)}),A.prototype.readBigInt64BE=Be(function(w){Te(w>>>=0,"offset");const m=this[w],U=this[w+7];(void 0===m||void 0===U)&&pe(w,this.length-8);const ne=(m<<24)+65536*this[++w]+256*this[++w]+this[++w];return(BigInt(ne)<<BigInt(32))+BigInt(this[++w]*2**24+65536*this[++w]+256*this[++w]+U)}),A.prototype.readFloatLE=function(w,m){return w>>>=0,m||v(w,4,this.length),E.read(this,w,!0,23,4)},A.prototype.readFloatBE=function(w,m){return w>>>=0,m||v(w,4,this.length),E.read(this,w,!1,23,4)},A.prototype.readDoubleLE=function(w,m){return w>>>=0,m||v(w,8,this.length),E.read(this,w,!0,52,8)},A.prototype.readDoubleBE=function(w,m){return w>>>=0,m||v(w,8,this.length),E.read(this,w,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(w,m,U,ne){w=+w,m>>>=0,U>>>=0,ne||W(this,w,m,U,Math.pow(2,8*U)-1,0);let ge=1,Ae=0;for(this[m]=255&w;++Ae<U&&(ge*=256);)this[m+Ae]=w/ge&255;return m+U},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(w,m,U,ne){w=+w,m>>>=0,U>>>=0,ne||W(this,w,m,U,Math.pow(2,8*U)-1,0);let ge=U-1,Ae=1;for(this[m+ge]=255&w;--ge>=0&&(Ae*=256);)this[m+ge]=w/Ae&255;return m+U},A.prototype.writeUint8=A.prototype.writeUInt8=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,1,255,0),this[m]=255&w,m+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,65535,0),this[m]=255&w,this[m+1]=w>>>8,m+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,65535,0),this[m]=w>>>8,this[m+1]=255&w,m+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,4294967295,0),this[m+3]=w>>>24,this[m+2]=w>>>16,this[m+1]=w>>>8,this[m]=255&w,m+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,4294967295,0),this[m]=w>>>24,this[m+1]=w>>>16,this[m+2]=w>>>8,this[m+3]=255&w,m+4},A.prototype.writeBigUInt64LE=Be(function(w,m=0){return K(this,w,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=Be(function(w,m=0){return ee(this,w,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(w,m,U,ne){if(w=+w,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,w,m,U,Bt-1,-Bt)}let ge=0,Ae=1,Qe=0;for(this[m]=255&w;++ge<U&&(Ae*=256);)w<0&&0===Qe&&0!==this[m+ge-1]&&(Qe=1),this[m+ge]=(w/Ae|0)-Qe&255;return m+U},A.prototype.writeIntBE=function(w,m,U,ne){if(w=+w,m>>>=0,!ne){const Bt=Math.pow(2,8*U-1);W(this,w,m,U,Bt-1,-Bt)}let ge=U-1,Ae=1,Qe=0;for(this[m+ge]=255&w;--ge>=0&&(Ae*=256);)w<0&&0===Qe&&0!==this[m+ge+1]&&(Qe=1),this[m+ge]=(w/Ae|0)-Qe&255;return m+U},A.prototype.writeInt8=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,1,127,-128),w<0&&(w=255+w+1),this[m]=255&w,m+1},A.prototype.writeInt16LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,32767,-32768),this[m]=255&w,this[m+1]=w>>>8,m+2},A.prototype.writeInt16BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,2,32767,-32768),this[m]=w>>>8,this[m+1]=255&w,m+2},A.prototype.writeInt32LE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,2147483647,-2147483648),this[m]=255&w,this[m+1]=w>>>8,this[m+2]=w>>>16,this[m+3]=w>>>24,m+4},A.prototype.writeInt32BE=function(w,m,U){return w=+w,m>>>=0,U||W(this,w,m,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[m]=w>>>24,this[m+1]=w>>>16,this[m+2]=w>>>8,this[m+3]=255&w,m+4},A.prototype.writeBigInt64LE=Be(function(w,m=0){return K(this,w,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=Be(function(w,m=0){return ee(this,w,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeFloatLE=function(w,m,U){return _e(this,w,m,!0,U)},A.prototype.writeFloatBE=function(w,m,U){return _e(this,w,m,!1,U)},A.prototype.writeDoubleLE=function(w,m,U){return Pe(this,w,m,!0,U)},A.prototype.writeDoubleBE=function(w,m,U){return Pe(this,w,m,!1,U)},A.prototype.copy=function(w,m,U,ne){if(!A.isBuffer(w))throw new TypeError("argument should be a Buffer");if(U||(U=0),!ne&&0!==ne&&(ne=this.length),m>=w.length&&(m=w.length),m||(m=0),ne>0&&ne<U&&(ne=U),ne===U||0===w.length||0===this.length)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),w.length-m<ne-U&&(ne=w.length-m+U);const ge=ne-U;return this===w&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(m,U,ne):Uint8Array.prototype.set.call(w,this.subarray(U,ne),m),ge},A.prototype.fill=function(w,m,U,ne){if("string"==typeof w){if("string"==typeof m?(ne=m,m=0,U=this.length):"string"==typeof U&&(ne=U,U=this.length),void 0!==ne&&"string"!=typeof ne)throw new TypeError("encoding must be a string");if("string"==typeof ne&&!A.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(1===w.length){const Ae=w.charCodeAt(0);("utf8"===ne&&Ae<128||"latin1"===ne)&&(w=Ae)}}else"number"==typeof w?w&=255:"boolean"==typeof w&&(w=Number(w));if(m<0||this.length<m||this.length<U)throw new RangeError("Out of range index");if(U<=m)return this;let ge;if(m>>>=0,U=void 0===U?this.length:U>>>0,w||(w=0),"number"==typeof w)for(ge=m;ge<U;++ge)this[ge]=w;else{const Ae=A.isBuffer(w)?w:A.from(w,ne),Qe=Ae.length;if(0===Qe)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(ge=0;ge<U-m;++ge)this[ge+m]=Ae[ge%Qe]}return this};const $e={};function Se(B,w,m){$e[B]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${B}]`,delete this.name}get code(){return B}set code(ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ne,writable:!0})}toString(){return`${this.name} [${B}]: ${this.message}`}}}function be(B){let w="",m=B.length;const U="-"===B[0]?1:0;for(;m>=U+4;m-=3)w=`_${B.slice(m-3,m)}${w}`;return`${B.slice(0,m)}${w}`}function ye(B,w,m,U,ne,ge){if(B>m||B<w){const Ae="bigint"==typeof w?"n":"";let Qe;throw Qe=ge>3?0===w||w===BigInt(0)?`>= 0${Ae} and < 2${Ae} ** ${8*(ge+1)}${Ae}`:`>= -(2${Ae} ** ${8*(ge+1)-1}${Ae}) and < 2 ** ${8*(ge+1)-1}${Ae}`:`>= ${w}${Ae} and <= ${m}${Ae}`,new $e.ERR_OUT_OF_RANGE("value",Qe,B)}!function Ne(B,w,m){Te(w,"offset"),(void 0===B[w]||void 0===B[w+m])&&pe(w,B.length-(m+1))}(U,ne,ge)}function Te(B,w){if("number"!=typeof B)throw new $e.ERR_INVALID_ARG_TYPE(w,"number",B)}function pe(B,w,m){throw Math.floor(B)!==B?(Te(B,m),new $e.ERR_OUT_OF_RANGE(m||"offset","an integer",B)):w<0?new $e.ERR_BUFFER_OUT_OF_BOUNDS:new $e.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${w}`,B)}Se("ERR_BUFFER_OUT_OF_BOUNDS",function(B){return B?`${B} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Se("ERR_INVALID_ARG_TYPE",function(B,w){return`The "${B}" argument must be of type number. Received type ${typeof w}`},TypeError),Se("ERR_OUT_OF_RANGE",function(B,w,m){let U=`The value of "${B}" is out of range.`,ne=m;return Number.isInteger(m)&&Math.abs(m)>2**32?ne=be(String(m)):"bigint"==typeof m&&(ne=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(ne=be(ne)),ne+="n"),U+=` It must be ${w}. Received ${ne}`,U},RangeError);const fe=/[^+/0-9A-Za-z-_]/g;function ie(B,w){let m;w=w||1/0;const U=B.length;let ne=null;const ge=[];for(let Ae=0;Ae<U;++Ae){if(m=B.charCodeAt(Ae),m>55295&&m<57344){if(!ne){if(m>56319){(w-=3)>-1&&ge.push(239,191,189);continue}if(Ae+1===U){(w-=3)>-1&&ge.push(239,191,189);continue}ne=m;continue}if(m<56320){(w-=3)>-1&&ge.push(239,191,189),ne=m;continue}m=65536+(ne-55296<<10|m-56320)}else ne&&(w-=3)>-1&&ge.push(239,191,189);if(ne=null,m<128){if((w-=1)<0)break;ge.push(m)}else if(m<2048){if((w-=2)<0)break;ge.push(m>>6|192,63&m|128)}else if(m<65536){if((w-=3)<0)break;ge.push(m>>12|224,m>>6&63|128,63&m|128)}else{if(!(m<1114112))throw new Error("Invalid code point");if((w-=4)<0)break;ge.push(m>>18|240,m>>12&63|128,m>>6&63|128,63&m|128)}}return ge}function ke(B){return p.toByteArray(function Q(B){if((B=(B=B.split("=")[0]).trim().replace(fe,"")).length<2)return"";for(;B.length%4!=0;)B+="=";return B}(B))}function Ue(B,w,m,U){let ne;for(ne=0;ne<U&&!(ne+m>=w.length||ne>=B.length);++ne)w[ne+m]=B[ne];return ne}function Le(B,w){return B instanceof w||null!=B&&null!=B.constructor&&null!=B.constructor.name&&B.constructor.name===w.name}function _t(B){return B!=B}const Ve=function(){const B="0123456789abcdef",w=new Array(256);for(let m=0;m<16;++m){const U=16*m;for(let ne=0;ne<16;++ne)w[U+ne]=B[m]+B[ne]}return w}();function Be(B){return typeof BigInt>"u"?lt:B}function lt(){throw new Error("BigInt not supported")}},54626:(Fe,z,_)=>{z.Level=_(23963).BrowserLevel},8516:(Fe,z,_)=>{var p=_(81464);Fe.exports=p.Symbol},61057:(Fe,z,_)=>{var p=_(8516),E=_(8488),k=_(53327),R=p?p.toStringTag:void 0;Fe.exports=function A(O){return null==O?void 0===O?"[object Undefined]":"[object Null]":R&&R in Object(O)?E(O):k(O)}},78657:Fe=>{var z="object"==typeof globalThis&&globalThis&&globalThis.Object===Object&&globalThis;Fe.exports=z},46902:(Fe,z,_)=>{var E=_(72852)(Object.getPrototypeOf,Object);Fe.exports=E},8488:(Fe,z,_)=>{var p=_(8516),E=Object.prototype,k=E.hasOwnProperty,H=E.toString,x=p?p.toStringTag:void 0;Fe.exports=function R(A){var O=k.call(A,x),F=A[x];try{A[x]=void 0;var L=!0}catch{}var I=H.call(A);return L&&(O?A[x]=F:delete A[x]),I}},53327:Fe=>{var _=Object.prototype.toString;Fe.exports=function p(E){return _.call(E)}},72852:Fe=>{Fe.exports=function z(_,p){return function(E){return _(p(E))}}},81464:(Fe,z,_)=>{var p=_(78657),E="object"==typeof self&&self&&self.Object===Object&&self,k=p||E||Function("return this")();Fe.exports=k},57433:Fe=>{Fe.exports=function z(_){return null!=_&&"object"==typeof _}},49970:(Fe,z,_)=>{var p=_(61057),E=_(46902),k=_(57433),A=Function.prototype.toString,O=Object.prototype.hasOwnProperty,F=A.call(Object);Fe.exports=function L(I){if(!k(I)||"[object Object]"!=p(I))return!1;var Z=E(I);if(null===Z)return!0;var j=O.call(Z,"constructor")&&Z.constructor;return"function"==typeof j&&j instanceof j&&A.call(j)==F}},34725:(Fe,z,_)=>{"use strict";var p=_(71993),E=_(13686),k=_(27054).Buffer,H=new Array(16);function x(){E.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function R(I,Z){return I<<Z|I>>>32-Z}function A(I,Z,j,G,re,te,J){return R(I+(Z&j|~Z&G)+re+te|0,J)+Z|0}function O(I,Z,j,G,re,te,J){return R(I+(Z&G|j&~G)+re+te|0,J)+Z|0}function F(I,Z,j,G,re,te,J){return R(I+(Z^j^G)+re+te|0,J)+Z|0}function L(I,Z,j,G,re,te,J){return R(I+(j^(Z|~G))+re+te|0,J)+Z|0}p(x,E),x.prototype._update=function(){for(var I=H,Z=0;Z<16;++Z)I[Z]=this._block.readInt32LE(4*Z);var j=this._a,G=this._b,re=this._c,te=this._d;j=A(j,G,re,te,I[0],3614090360,7),te=A(te,j,G,re,I[1],3905402710,12),re=A(re,te,j,G,I[2],606105819,17),G=A(G,re,te,j,I[3],3250441966,22),j=A(j,G,re,te,I[4],4118548399,7),te=A(te,j,G,re,I[5],1200080426,12),re=A(re,te,j,G,I[6],2821735955,17),G=A(G,re,te,j,I[7],4249261313,22),j=A(j,G,re,te,I[8],1770035416,7),te=A(te,j,G,re,I[9],2336552879,12),re=A(re,te,j,G,I[10],4294925233,17),G=A(G,re,te,j,I[11],2304563134,22),j=A(j,G,re,te,I[12],1804603682,7),te=A(te,j,G,re,I[13],4254626195,12),re=A(re,te,j,G,I[14],2792965006,17),j=O(j,G=A(G,re,te,j,I[15],1236535329,22),re,te,I[1],4129170786,5),te=O(te,j,G,re,I[6],3225465664,9),re=O(re,te,j,G,I[11],643717713,14),G=O(G,re,te,j,I[0],3921069994,20),j=O(j,G,re,te,I[5],3593408605,5),te=O(te,j,G,re,I[10],38016083,9),re=O(re,te,j,G,I[15],3634488961,14),G=O(G,re,te,j,I[4],3889429448,20),j=O(j,G,re,te,I[9],568446438,5),te=O(te,j,G,re,I[14],3275163606,9),re=O(re,te,j,G,I[3],4107603335,14),G=O(G,re,te,j,I[8],1163531501,20),j=O(j,G,re,te,I[13],2850285829,5),te=O(te,j,G,re,I[2],4243563512,9),re=O(re,te,j,G,I[7],1735328473,14),j=F(j,G=O(G,re,te,j,I[12],2368359562,20),re,te,I[5],4294588738,4),te=F(te,j,G,re,I[8],2272392833,11),re=F(re,te,j,G,I[11],1839030562,16),G=F(G,re,te,j,I[14],4259657740,23),j=F(j,G,re,te,I[1],2763975236,4),te=F(te,j,G,re,I[4],1272893353,11),re=F(re,te,j,G,I[7],4139469664,16),G=F(G,re,te,j,I[10],3200236656,23),j=F(j,G,re,te,I[13],681279174,4),te=F(te,j,G,re,I[0],3936430074,11),re=F(re,te,j,G,I[3],3572445317,16),G=F(G,re,te,j,I[6],76029189,23),j=F(j,G,re,te,I[9],3654602809,4),te=F(te,j,G,re,I[12],3873151461,11),re=F(re,te,j,G,I[15],530742520,16),j=L(j,G=F(G,re,te,j,I[2],3299628645,23),re,te,I[0],4096336452,6),te=L(te,j,G,re,I[7],1126891415,10),re=L(re,te,j,G,I[14],2878612391,15),G=L(G,re,te,j,I[5],4237533241,21),j=L(j,G,re,te,I[12],1700485571,6),te=L(te,j,G,re,I[3],2399980690,10),re=L(re,te,j,G,I[10],4293915773,15),G=L(G,re,te,j,I[1],2240044497,21),j=L(j,G,re,te,I[8],1873313359,6),te=L(te,j,G,re,I[15],4264355552,10),re=L(re,te,j,G,I[6],2734768916,15),G=L(G,re,te,j,I[13],1309151649,21),j=L(j,G,re,te,I[4],4149444226,6),te=L(te,j,G,re,I[11],3174756917,10),re=L(re,te,j,G,I[2],718787259,15),G=L(G,re,te,j,I[9],3951481745,21),this._a=this._a+j|0,this._b=this._b+G|0,this._c=this._c+re|0,this._d=this._d+te|0},x.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var I=k.allocUnsafe(16);return I.writeInt32LE(this._a,0),I.writeInt32LE(this._b,4),I.writeInt32LE(this._c,8),I.writeInt32LE(this._d,12),I},Fe.exports=x},53459:(Fe,z,_)=>{var p=_(57223),E=_(35294);function k(H){this.rand=H||new E.Rand}Fe.exports=k,k.create=function(x){return new k(x)},k.prototype._randbelow=function(x){var R=x.bitLength(),A=Math.ceil(R/8);do{var O=new p(this.rand.generate(A))}while(O.cmp(x)>=0);return O},k.prototype._randrange=function(x,R){var A=R.sub(x);return x.add(this._randbelow(A))},k.prototype.test=function(x,R,A){var O=x.bitLength(),F=p.mont(x),L=new p(1).toRed(F);R||(R=Math.max(1,O/48|0));for(var I=x.subn(1),Z=0;!I.testn(Z);Z++);for(var j=x.shrn(Z),G=I.toRed(F);R>0;R--){var te=this._randrange(new p(2),I);A&&A(te);var J=te.toRed(F).redPow(j);if(0!==J.cmp(L)&&0!==J.cmp(G)){for(var Y=1;Y<Z;Y++){if(0===(J=J.redSqr()).cmp(L))return!1;if(0===J.cmp(G))break}if(Y===Z)return!1}}return!0},k.prototype.getDivisor=function(x,R){var A=x.bitLength(),O=p.mont(x),F=new p(1).toRed(O);R||(R=Math.max(1,A/48|0));for(var L=x.subn(1),I=0;!L.testn(I);I++);for(var Z=x.shrn(I),j=L.toRed(O);R>0;R--){var G=this._randrange(new p(2),L),re=x.gcd(G);if(0!==re.cmpn(1))return re;var te=G.toRed(O).redPow(Z);if(0!==te.cmp(F)&&0!==te.cmp(j)){for(var J=1;J<I;J++){if(0===(te=te.redSqr()).cmp(F))return te.fromRed().subn(1).gcd(x);if(0===te.cmp(j))break}if(J===I)return(te=te.redSqr()).fromRed().subn(1).gcd(x)}}return!1}},57223:function(Fe,z,_){!function(p,E){"use strict";function k(C,a){if(!C)throw new Error(a||"Assertion failed")}function H(C,a){C.super_=a;var u=function(){};u.prototype=a.prototype,C.prototype=new u,C.prototype.constructor=C}function x(C,a,u){if(x.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(u=a,a=10),this._init(C||0,a||10,u||"be"))}var R;"object"==typeof p?p.exports=x:E.BN=x,x.BN=x,x.wordSize=26;try{R=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:_(64688).Buffer}catch{}function A(C,a){var u=C.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function O(C,a,u){var y=A(C,u);return u-1>=a&&(y|=A(C,u-1)<<4),y}function F(C,a,u,y){for(var g=0,S=Math.min(C.length,u),T=a;T<S;T++){var N=C.charCodeAt(T)-48;g*=y,g+=N>=49?N-49+10:N>=17?N-17+10:N}return g}x.isBN=function(a){return a instanceof x||null!==a&&"object"==typeof a&&a.constructor.wordSize===x.wordSize&&Array.isArray(a.words)},x.max=function(a,u){return a.cmp(u)>0?a:u},x.min=function(a,u){return a.cmp(u)<0?a:u},x.prototype._init=function(a,u,y){if("number"==typeof a)return this._initNumber(a,u,y);if("object"==typeof a)return this._initArray(a,u,y);"hex"===u&&(u=16),k(u===(0|u)&&u>=2&&u<=36);var g=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(g++,this.negative=1),g<a.length&&(16===u?this._parseHex(a,g,y):(this._parseBase(a,u,g),"le"===y&&this._initArray(this.toArray(),u,y)))},x.prototype._initNumber=function(a,u,y){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(k(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),u,y)},x.prototype._initArray=function(a,u,y){if(k("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var S,T,N=0;if("be"===y)for(g=a.length-1,S=0;g>=0;g-=3)this.words[S]|=(T=a[g]|a[g-1]<<8|a[g-2]<<16)<<N&67108863,this.words[S+1]=T>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);else if("le"===y)for(g=0,S=0;g<a.length;g+=3)this.words[S]|=(T=a[g]|a[g+1]<<8|a[g+2]<<16)<<N&67108863,this.words[S+1]=T>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);return this.strip()},x.prototype._parseHex=function(a,u,y){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var N,S=0,T=0;if("be"===y)for(g=a.length-1;g>=u;g-=2)N=O(a,u,g)<<S,this.words[T]|=67108863&N,S>=18?(S-=18,this.words[T+=1]|=N>>>26):S+=8;else for(g=(a.length-u)%2==0?u+1:u;g<a.length;g+=2)N=O(a,u,g)<<S,this.words[T]|=67108863&N,S>=18?(S-=18,this.words[T+=1]|=N>>>26):S+=8;this.strip()},x.prototype._parseBase=function(a,u,y){this.words=[0],this.length=1;for(var g=0,S=1;S<=67108863;S*=u)g++;g--,S=S/u|0;for(var T=a.length-y,N=T%g,M=Math.min(T,T-N)+y,s=0,v=y;v<M;v+=g)s=F(a,v,v+g,u),this.imuln(S),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==N){var W=1;for(s=F(a,v,a.length,u),v=0;v<N;v++)W*=u;this.imuln(W),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},x.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},x.prototype.clone=function(){var a=new x(null);return this.copy(a),a},x.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},x.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},x.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var L=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Z=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function G(C,a,u){u.negative=a.negative^C.negative;var y=C.length+a.length|0;u.length=y,y=y-1|0;var g=0|C.words[0],S=0|a.words[0],T=g*S,M=T/67108864|0;u.words[0]=67108863&T;for(var s=1;s<y;s++){for(var v=M>>>26,W=67108863&M,K=Math.min(s,a.length-1),ee=Math.max(0,s-C.length+1);ee<=K;ee++)v+=(T=(g=0|C.words[s-ee|0])*(S=0|a.words[ee])+W)/67108864|0,W=67108863&T;u.words[s]=0|W,M=0|v}return 0!==M?u.words[s]=0|M:u.length--,u.strip()}x.prototype.toString=function(a,u){var y;if(u=0|u||1,16===(a=a||10)||"hex"===a){y="";for(var g=0,S=0,T=0;T<this.length;T++){var N=this.words[T],M=(16777215&(N<<g|S)).toString(16);y=0!=(S=N>>>24-g&16777215)||T!==this.length-1?L[6-M.length]+M+y:M+y,(g+=2)>=26&&(g-=26,T--)}for(0!==S&&(y=S.toString(16)+y);y.length%u!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(a===(0|a)&&a>=2&&a<=36){var s=I[a],v=Z[a];y="";var W=this.clone();for(W.negative=0;!W.isZero();){var K=W.modn(v).toString(a);y=(W=W.idivn(v)).isZero()?K+y:L[s-K.length]+K+y}for(this.isZero()&&(y="0"+y);y.length%u!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}k(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&k(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},x.prototype.toJSON=function(){return this.toString(16)},x.prototype.toBuffer=function(a,u){return k(typeof R<"u"),this.toArrayLike(R,a,u)},x.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},x.prototype.toArrayLike=function(a,u,y){var g=this.byteLength(),S=y||Math.max(1,g);k(g<=S,"byte array longer than desired length"),k(S>0,"Requested array length <= 0"),this.strip();var M,s,T="le"===u,N=new a(S),v=this.clone();if(T){for(s=0;!v.isZero();s++)M=v.andln(255),v.iushrn(8),N[s]=M;for(;s<S;s++)N[s]=0}else{for(s=0;s<S-g;s++)N[s]=0;for(s=0;!v.isZero();s++)M=v.andln(255),v.iushrn(8),N[S-s-1]=M}return N},x.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var u=a,y=0;return u>=4096&&(y+=13,u>>>=13),u>=64&&(y+=7,u>>>=7),u>=8&&(y+=4,u>>>=4),u>=2&&(y+=2,u>>>=2),y+u},x.prototype._zeroBits=function(a){if(0===a)return 26;var u=a,y=0;return 8191&u||(y+=13,u>>>=13),127&u||(y+=7,u>>>=7),15&u||(y+=4,u>>>=4),3&u||(y+=2,u>>>=2),1&u||y++,y},x.prototype.bitLength=function(){var u=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+u},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var y=this._zeroBits(this.words[u]);if(a+=y,26!==y)break}return a},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},x.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},x.prototype.ior=function(a){return k(!(this.negative|a.negative)),this.iuor(a)},x.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},x.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},x.prototype.iuand=function(a){var u;u=this.length>a.length?a:this;for(var y=0;y<u.length;y++)this.words[y]=this.words[y]&a.words[y];return this.length=u.length,this.strip()},x.prototype.iand=function(a){return k(!(this.negative|a.negative)),this.iuand(a)},x.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},x.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},x.prototype.iuxor=function(a){var u,y;this.length>a.length?(u=this,y=a):(u=a,y=this);for(var g=0;g<y.length;g++)this.words[g]=u.words[g]^y.words[g];if(this!==u)for(;g<u.length;g++)this.words[g]=u.words[g];return this.length=u.length,this.strip()},x.prototype.ixor=function(a){return k(!(this.negative|a.negative)),this.iuxor(a)},x.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},x.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},x.prototype.inotn=function(a){k("number"==typeof a&&a>=0);var u=0|Math.ceil(a/26),y=a%26;this._expand(u),y>0&&u--;for(var g=0;g<u;g++)this.words[g]=67108863&~this.words[g];return y>0&&(this.words[g]=~this.words[g]&67108863>>26-y),this.strip()},x.prototype.notn=function(a){return this.clone().inotn(a)},x.prototype.setn=function(a,u){k("number"==typeof a&&a>=0);var y=a/26|0,g=a%26;return this._expand(y+1),this.words[y]=u?this.words[y]|1<<g:this.words[y]&~(1<<g),this.strip()},x.prototype.iadd=function(a){var u,y,g;if(0!==this.negative&&0===a.negative)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();this.length>a.length?(y=this,g=a):(y=a,g=this);for(var S=0,T=0;T<g.length;T++)this.words[T]=67108863&(u=(0|y.words[T])+(0|g.words[T])+S),S=u>>>26;for(;0!==S&&T<y.length;T++)this.words[T]=67108863&(u=(0|y.words[T])+S),S=u>>>26;if(this.length=y.length,0!==S)this.words[this.length]=S,this.length++;else if(y!==this)for(;T<y.length;T++)this.words[T]=y.words[T];return this},x.prototype.add=function(a){var u;return 0!==a.negative&&0===this.negative?(a.negative=0,u=this.sub(a),a.negative^=1,u):0===a.negative&&0!==this.negative?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},x.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var g,S,y=this.cmp(a);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(g=this,S=a):(g=a,S=this);for(var T=0,N=0;N<S.length;N++)T=(u=(0|g.words[N])-(0|S.words[N])+T)>>26,this.words[N]=67108863&u;for(;0!==T&&N<g.length;N++)T=(u=(0|g.words[N])+T)>>26,this.words[N]=67108863&u;if(0===T&&N<g.length&&g!==this)for(;N<g.length;N++)this.words[N]=g.words[N];return this.length=Math.max(this.length,N),g!==this&&(this.negative=1),this.strip()},x.prototype.sub=function(a){return this.clone().isub(a)};var re=function(a,u,y){var M,s,v,g=a.words,S=u.words,T=y.words,N=0,W=0|g[0],K=8191&W,ee=W>>>13,ce=0|g[1],_e=8191&ce,Pe=ce>>>13,$e=0|g[2],Se=8191&$e,be=$e>>>13,Ne=0|g[3],ye=8191&Ne,Te=Ne>>>13,pe=0|g[4],fe=8191&pe,Q=pe>>>13,ie=0|g[5],ue=8191&ie,Ee=ie>>>13,ke=0|g[6],Ue=8191&ke,Le=ke>>>13,_t=0|g[7],Ve=8191&_t,Be=_t>>>13,lt=0|g[8],B=8191&lt,w=lt>>>13,m=0|g[9],U=8191&m,ne=m>>>13,ge=0|S[0],Ae=8191&ge,Qe=ge>>>13,Bt=0|S[1],gt=8191&Bt,It=Bt>>>13,Gt=0|S[2],un=8191&Gt,an=Gt>>>13,sr=0|S[3],Mn=8191&sr,Qt=sr>>>13,qt=0|S[4],Et=8191&qt,ht=qt>>>13,zt=0|S[5],Jt=8191&zt,dn=zt>>>13,hr=0|S[6],vt=8191&hr,xt=hr>>>13,St=0|S[7],Xe=8191&St,nt=St>>>13,Vt=0|S[8],Ot=8191&Vt,sn=Vt>>>13,Hn=0|S[9],bn=8191&Hn,In=Hn>>>13;y.negative=a.negative^u.negative,y.length=19;var Ar=(N+(M=Math.imul(K,Ae))|0)+((8191&(s=(s=Math.imul(K,Qe))+Math.imul(ee,Ae)|0))<<13)|0;N=((v=Math.imul(ee,Qe))+(s>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,M=Math.imul(_e,Ae),s=(s=Math.imul(_e,Qe))+Math.imul(Pe,Ae)|0,v=Math.imul(Pe,Qe);var Jn=(N+(M=M+Math.imul(K,gt)|0)|0)+((8191&(s=(s=s+Math.imul(K,It)|0)+Math.imul(ee,gt)|0))<<13)|0;N=((v=v+Math.imul(ee,It)|0)+(s>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,M=Math.imul(Se,Ae),s=(s=Math.imul(Se,Qe))+Math.imul(be,Ae)|0,v=Math.imul(be,Qe),M=M+Math.imul(_e,gt)|0,s=(s=s+Math.imul(_e,It)|0)+Math.imul(Pe,gt)|0,v=v+Math.imul(Pe,It)|0;var Ln=(N+(M=M+Math.imul(K,un)|0)|0)+((8191&(s=(s=s+Math.imul(K,an)|0)+Math.imul(ee,un)|0))<<13)|0;N=((v=v+Math.imul(ee,an)|0)+(s>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,M=Math.imul(ye,Ae),s=(s=Math.imul(ye,Qe))+Math.imul(Te,Ae)|0,v=Math.imul(Te,Qe),M=M+Math.imul(Se,gt)|0,s=(s=s+Math.imul(Se,It)|0)+Math.imul(be,gt)|0,v=v+Math.imul(be,It)|0,M=M+Math.imul(_e,un)|0,s=(s=s+Math.imul(_e,an)|0)+Math.imul(Pe,un)|0,v=v+Math.imul(Pe,an)|0;var $n=(N+(M=M+Math.imul(K,Mn)|0)|0)+((8191&(s=(s=s+Math.imul(K,Qt)|0)+Math.imul(ee,Mn)|0))<<13)|0;N=((v=v+Math.imul(ee,Qt)|0)+(s>>>13)|0)+($n>>>26)|0,$n&=67108863,M=Math.imul(fe,Ae),s=(s=Math.imul(fe,Qe))+Math.imul(Q,Ae)|0,v=Math.imul(Q,Qe),M=M+Math.imul(ye,gt)|0,s=(s=s+Math.imul(ye,It)|0)+Math.imul(Te,gt)|0,v=v+Math.imul(Te,It)|0,M=M+Math.imul(Se,un)|0,s=(s=s+Math.imul(Se,an)|0)+Math.imul(be,un)|0,v=v+Math.imul(be,an)|0,M=M+Math.imul(_e,Mn)|0,s=(s=s+Math.imul(_e,Qt)|0)+Math.imul(Pe,Mn)|0,v=v+Math.imul(Pe,Qt)|0;var st=(N+(M=M+Math.imul(K,Et)|0)|0)+((8191&(s=(s=s+Math.imul(K,ht)|0)+Math.imul(ee,Et)|0))<<13)|0;N=((v=v+Math.imul(ee,ht)|0)+(s>>>13)|0)+(st>>>26)|0,st&=67108863,M=Math.imul(ue,Ae),s=(s=Math.imul(ue,Qe))+Math.imul(Ee,Ae)|0,v=Math.imul(Ee,Qe),M=M+Math.imul(fe,gt)|0,s=(s=s+Math.imul(fe,It)|0)+Math.imul(Q,gt)|0,v=v+Math.imul(Q,It)|0,M=M+Math.imul(ye,un)|0,s=(s=s+Math.imul(ye,an)|0)+Math.imul(Te,un)|0,v=v+Math.imul(Te,an)|0,M=M+Math.imul(Se,Mn)|0,s=(s=s+Math.imul(Se,Qt)|0)+Math.imul(be,Mn)|0,v=v+Math.imul(be,Qt)|0,M=M+Math.imul(_e,Et)|0,s=(s=s+Math.imul(_e,ht)|0)+Math.imul(Pe,Et)|0,v=v+Math.imul(Pe,ht)|0;var Ge=(N+(M=M+Math.imul(K,Jt)|0)|0)+((8191&(s=(s=s+Math.imul(K,dn)|0)+Math.imul(ee,Jt)|0))<<13)|0;N=((v=v+Math.imul(ee,dn)|0)+(s>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,M=Math.imul(Ue,Ae),s=(s=Math.imul(Ue,Qe))+Math.imul(Le,Ae)|0,v=Math.imul(Le,Qe),M=M+Math.imul(ue,gt)|0,s=(s=s+Math.imul(ue,It)|0)+Math.imul(Ee,gt)|0,v=v+Math.imul(Ee,It)|0,M=M+Math.imul(fe,un)|0,s=(s=s+Math.imul(fe,an)|0)+Math.imul(Q,un)|0,v=v+Math.imul(Q,an)|0,M=M+Math.imul(ye,Mn)|0,s=(s=s+Math.imul(ye,Qt)|0)+Math.imul(Te,Mn)|0,v=v+Math.imul(Te,Qt)|0,M=M+Math.imul(Se,Et)|0,s=(s=s+Math.imul(Se,ht)|0)+Math.imul(be,Et)|0,v=v+Math.imul(be,ht)|0,M=M+Math.imul(_e,Jt)|0,s=(s=s+Math.imul(_e,dn)|0)+Math.imul(Pe,Jt)|0,v=v+Math.imul(Pe,dn)|0;var ct=(N+(M=M+Math.imul(K,vt)|0)|0)+((8191&(s=(s=s+Math.imul(K,xt)|0)+Math.imul(ee,vt)|0))<<13)|0;N=((v=v+Math.imul(ee,xt)|0)+(s>>>13)|0)+(ct>>>26)|0,ct&=67108863,M=Math.imul(Ve,Ae),s=(s=Math.imul(Ve,Qe))+Math.imul(Be,Ae)|0,v=Math.imul(Be,Qe),M=M+Math.imul(Ue,gt)|0,s=(s=s+Math.imul(Ue,It)|0)+Math.imul(Le,gt)|0,v=v+Math.imul(Le,It)|0,M=M+Math.imul(ue,un)|0,s=(s=s+Math.imul(ue,an)|0)+Math.imul(Ee,un)|0,v=v+Math.imul(Ee,an)|0,M=M+Math.imul(fe,Mn)|0,s=(s=s+Math.imul(fe,Qt)|0)+Math.imul(Q,Mn)|0,v=v+Math.imul(Q,Qt)|0,M=M+Math.imul(ye,Et)|0,s=(s=s+Math.imul(ye,ht)|0)+Math.imul(Te,Et)|0,v=v+Math.imul(Te,ht)|0,M=M+Math.imul(Se,Jt)|0,s=(s=s+Math.imul(Se,dn)|0)+Math.imul(be,Jt)|0,v=v+Math.imul(be,dn)|0,M=M+Math.imul(_e,vt)|0,s=(s=s+Math.imul(_e,xt)|0)+Math.imul(Pe,vt)|0,v=v+Math.imul(Pe,xt)|0;var Yt=(N+(M=M+Math.imul(K,Xe)|0)|0)+((8191&(s=(s=s+Math.imul(K,nt)|0)+Math.imul(ee,Xe)|0))<<13)|0;N=((v=v+Math.imul(ee,nt)|0)+(s>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,M=Math.imul(B,Ae),s=(s=Math.imul(B,Qe))+Math.imul(w,Ae)|0,v=Math.imul(w,Qe),M=M+Math.imul(Ve,gt)|0,s=(s=s+Math.imul(Ve,It)|0)+Math.imul(Be,gt)|0,v=v+Math.imul(Be,It)|0,M=M+Math.imul(Ue,un)|0,s=(s=s+Math.imul(Ue,an)|0)+Math.imul(Le,un)|0,v=v+Math.imul(Le,an)|0,M=M+Math.imul(ue,Mn)|0,s=(s=s+Math.imul(ue,Qt)|0)+Math.imul(Ee,Mn)|0,v=v+Math.imul(Ee,Qt)|0,M=M+Math.imul(fe,Et)|0,s=(s=s+Math.imul(fe,ht)|0)+Math.imul(Q,Et)|0,v=v+Math.imul(Q,ht)|0,M=M+Math.imul(ye,Jt)|0,s=(s=s+Math.imul(ye,dn)|0)+Math.imul(Te,Jt)|0,v=v+Math.imul(Te,dn)|0,M=M+Math.imul(Se,vt)|0,s=(s=s+Math.imul(Se,xt)|0)+Math.imul(be,vt)|0,v=v+Math.imul(be,xt)|0,M=M+Math.imul(_e,Xe)|0,s=(s=s+Math.imul(_e,nt)|0)+Math.imul(Pe,Xe)|0,v=v+Math.imul(Pe,nt)|0;var _n=(N+(M=M+Math.imul(K,Ot)|0)|0)+((8191&(s=(s=s+Math.imul(K,sn)|0)+Math.imul(ee,Ot)|0))<<13)|0;N=((v=v+Math.imul(ee,sn)|0)+(s>>>13)|0)+(_n>>>26)|0,_n&=67108863,M=Math.imul(U,Ae),s=(s=Math.imul(U,Qe))+Math.imul(ne,Ae)|0,v=Math.imul(ne,Qe),M=M+Math.imul(B,gt)|0,s=(s=s+Math.imul(B,It)|0)+Math.imul(w,gt)|0,v=v+Math.imul(w,It)|0,M=M+Math.imul(Ve,un)|0,s=(s=s+Math.imul(Ve,an)|0)+Math.imul(Be,un)|0,v=v+Math.imul(Be,an)|0,M=M+Math.imul(Ue,Mn)|0,s=(s=s+Math.imul(Ue,Qt)|0)+Math.imul(Le,Mn)|0,v=v+Math.imul(Le,Qt)|0,M=M+Math.imul(ue,Et)|0,s=(s=s+Math.imul(ue,ht)|0)+Math.imul(Ee,Et)|0,v=v+Math.imul(Ee,ht)|0,M=M+Math.imul(fe,Jt)|0,s=(s=s+Math.imul(fe,dn)|0)+Math.imul(Q,Jt)|0,v=v+Math.imul(Q,dn)|0,M=M+Math.imul(ye,vt)|0,s=(s=s+Math.imul(ye,xt)|0)+Math.imul(Te,vt)|0,v=v+Math.imul(Te,xt)|0,M=M+Math.imul(Se,Xe)|0,s=(s=s+Math.imul(Se,nt)|0)+Math.imul(be,Xe)|0,v=v+Math.imul(be,nt)|0,M=M+Math.imul(_e,Ot)|0,s=(s=s+Math.imul(_e,sn)|0)+Math.imul(Pe,Ot)|0,v=v+Math.imul(Pe,sn)|0;var Wn=(N+(M=M+Math.imul(K,bn)|0)|0)+((8191&(s=(s=s+Math.imul(K,In)|0)+Math.imul(ee,bn)|0))<<13)|0;N=((v=v+Math.imul(ee,In)|0)+(s>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,M=Math.imul(U,gt),s=(s=Math.imul(U,It))+Math.imul(ne,gt)|0,v=Math.imul(ne,It),M=M+Math.imul(B,un)|0,s=(s=s+Math.imul(B,an)|0)+Math.imul(w,un)|0,v=v+Math.imul(w,an)|0,M=M+Math.imul(Ve,Mn)|0,s=(s=s+Math.imul(Ve,Qt)|0)+Math.imul(Be,Mn)|0,v=v+Math.imul(Be,Qt)|0,M=M+Math.imul(Ue,Et)|0,s=(s=s+Math.imul(Ue,ht)|0)+Math.imul(Le,Et)|0,v=v+Math.imul(Le,ht)|0,M=M+Math.imul(ue,Jt)|0,s=(s=s+Math.imul(ue,dn)|0)+Math.imul(Ee,Jt)|0,v=v+Math.imul(Ee,dn)|0,M=M+Math.imul(fe,vt)|0,s=(s=s+Math.imul(fe,xt)|0)+Math.imul(Q,vt)|0,v=v+Math.imul(Q,xt)|0,M=M+Math.imul(ye,Xe)|0,s=(s=s+Math.imul(ye,nt)|0)+Math.imul(Te,Xe)|0,v=v+Math.imul(Te,nt)|0,M=M+Math.imul(Se,Ot)|0,s=(s=s+Math.imul(Se,sn)|0)+Math.imul(be,Ot)|0,v=v+Math.imul(be,sn)|0;var Yn=(N+(M=M+Math.imul(_e,bn)|0)|0)+((8191&(s=(s=s+Math.imul(_e,In)|0)+Math.imul(Pe,bn)|0))<<13)|0;N=((v=v+Math.imul(Pe,In)|0)+(s>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,M=Math.imul(U,un),s=(s=Math.imul(U,an))+Math.imul(ne,un)|0,v=Math.imul(ne,an),M=M+Math.imul(B,Mn)|0,s=(s=s+Math.imul(B,Qt)|0)+Math.imul(w,Mn)|0,v=v+Math.imul(w,Qt)|0,M=M+Math.imul(Ve,Et)|0,s=(s=s+Math.imul(Ve,ht)|0)+Math.imul(Be,Et)|0,v=v+Math.imul(Be,ht)|0,M=M+Math.imul(Ue,Jt)|0,s=(s=s+Math.imul(Ue,dn)|0)+Math.imul(Le,Jt)|0,v=v+Math.imul(Le,dn)|0,M=M+Math.imul(ue,vt)|0,s=(s=s+Math.imul(ue,xt)|0)+Math.imul(Ee,vt)|0,v=v+Math.imul(Ee,xt)|0,M=M+Math.imul(fe,Xe)|0,s=(s=s+Math.imul(fe,nt)|0)+Math.imul(Q,Xe)|0,v=v+Math.imul(Q,nt)|0,M=M+Math.imul(ye,Ot)|0,s=(s=s+Math.imul(ye,sn)|0)+Math.imul(Te,Ot)|0,v=v+Math.imul(Te,sn)|0;var yr=(N+(M=M+Math.imul(Se,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Se,In)|0)+Math.imul(be,bn)|0))<<13)|0;N=((v=v+Math.imul(be,In)|0)+(s>>>13)|0)+(yr>>>26)|0,yr&=67108863,M=Math.imul(U,Mn),s=(s=Math.imul(U,Qt))+Math.imul(ne,Mn)|0,v=Math.imul(ne,Qt),M=M+Math.imul(B,Et)|0,s=(s=s+Math.imul(B,ht)|0)+Math.imul(w,Et)|0,v=v+Math.imul(w,ht)|0,M=M+Math.imul(Ve,Jt)|0,s=(s=s+Math.imul(Ve,dn)|0)+Math.imul(Be,Jt)|0,v=v+Math.imul(Be,dn)|0,M=M+Math.imul(Ue,vt)|0,s=(s=s+Math.imul(Ue,xt)|0)+Math.imul(Le,vt)|0,v=v+Math.imul(Le,xt)|0,M=M+Math.imul(ue,Xe)|0,s=(s=s+Math.imul(ue,nt)|0)+Math.imul(Ee,Xe)|0,v=v+Math.imul(Ee,nt)|0,M=M+Math.imul(fe,Ot)|0,s=(s=s+Math.imul(fe,sn)|0)+Math.imul(Q,Ot)|0,v=v+Math.imul(Q,sn)|0;var Nr=(N+(M=M+Math.imul(ye,bn)|0)|0)+((8191&(s=(s=s+Math.imul(ye,In)|0)+Math.imul(Te,bn)|0))<<13)|0;N=((v=v+Math.imul(Te,In)|0)+(s>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,M=Math.imul(U,Et),s=(s=Math.imul(U,ht))+Math.imul(ne,Et)|0,v=Math.imul(ne,ht),M=M+Math.imul(B,Jt)|0,s=(s=s+Math.imul(B,dn)|0)+Math.imul(w,Jt)|0,v=v+Math.imul(w,dn)|0,M=M+Math.imul(Ve,vt)|0,s=(s=s+Math.imul(Ve,xt)|0)+Math.imul(Be,vt)|0,v=v+Math.imul(Be,xt)|0,M=M+Math.imul(Ue,Xe)|0,s=(s=s+Math.imul(Ue,nt)|0)+Math.imul(Le,Xe)|0,v=v+Math.imul(Le,nt)|0,M=M+Math.imul(ue,Ot)|0,s=(s=s+Math.imul(ue,sn)|0)+Math.imul(Ee,Ot)|0,v=v+Math.imul(Ee,sn)|0;var Ur=(N+(M=M+Math.imul(fe,bn)|0)|0)+((8191&(s=(s=s+Math.imul(fe,In)|0)+Math.imul(Q,bn)|0))<<13)|0;N=((v=v+Math.imul(Q,In)|0)+(s>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,M=Math.imul(U,Jt),s=(s=Math.imul(U,dn))+Math.imul(ne,Jt)|0,v=Math.imul(ne,dn),M=M+Math.imul(B,vt)|0,s=(s=s+Math.imul(B,xt)|0)+Math.imul(w,vt)|0,v=v+Math.imul(w,xt)|0,M=M+Math.imul(Ve,Xe)|0,s=(s=s+Math.imul(Ve,nt)|0)+Math.imul(Be,Xe)|0,v=v+Math.imul(Be,nt)|0,M=M+Math.imul(Ue,Ot)|0,s=(s=s+Math.imul(Ue,sn)|0)+Math.imul(Le,Ot)|0,v=v+Math.imul(Le,sn)|0;var Kr=(N+(M=M+Math.imul(ue,bn)|0)|0)+((8191&(s=(s=s+Math.imul(ue,In)|0)+Math.imul(Ee,bn)|0))<<13)|0;N=((v=v+Math.imul(Ee,In)|0)+(s>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,M=Math.imul(U,vt),s=(s=Math.imul(U,xt))+Math.imul(ne,vt)|0,v=Math.imul(ne,xt),M=M+Math.imul(B,Xe)|0,s=(s=s+Math.imul(B,nt)|0)+Math.imul(w,Xe)|0,v=v+Math.imul(w,nt)|0,M=M+Math.imul(Ve,Ot)|0,s=(s=s+Math.imul(Ve,sn)|0)+Math.imul(Be,Ot)|0,v=v+Math.imul(Be,sn)|0;var Xr=(N+(M=M+Math.imul(Ue,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Ue,In)|0)+Math.imul(Le,bn)|0))<<13)|0;N=((v=v+Math.imul(Le,In)|0)+(s>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,M=Math.imul(U,Xe),s=(s=Math.imul(U,nt))+Math.imul(ne,Xe)|0,v=Math.imul(ne,nt),M=M+Math.imul(B,Ot)|0,s=(s=s+Math.imul(B,sn)|0)+Math.imul(w,Ot)|0,v=v+Math.imul(w,sn)|0;var ri=(N+(M=M+Math.imul(Ve,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Ve,In)|0)+Math.imul(Be,bn)|0))<<13)|0;N=((v=v+Math.imul(Be,In)|0)+(s>>>13)|0)+(ri>>>26)|0,ri&=67108863,M=Math.imul(U,Ot),s=(s=Math.imul(U,sn))+Math.imul(ne,Ot)|0,v=Math.imul(ne,sn);var en=(N+(M=M+Math.imul(B,bn)|0)|0)+((8191&(s=(s=s+Math.imul(B,In)|0)+Math.imul(w,bn)|0))<<13)|0;N=((v=v+Math.imul(w,In)|0)+(s>>>13)|0)+(en>>>26)|0,en&=67108863;var wn=(N+(M=Math.imul(U,bn))|0)+((8191&(s=(s=Math.imul(U,In))+Math.imul(ne,bn)|0))<<13)|0;return N=((v=Math.imul(ne,In))+(s>>>13)|0)+(wn>>>26)|0,wn&=67108863,T[0]=Ar,T[1]=Jn,T[2]=Ln,T[3]=$n,T[4]=st,T[5]=Ge,T[6]=ct,T[7]=Yt,T[8]=_n,T[9]=Wn,T[10]=Yn,T[11]=yr,T[12]=Nr,T[13]=Ur,T[14]=Kr,T[15]=Xr,T[16]=ri,T[17]=en,T[18]=wn,0!==N&&(T[19]=N,y.length++),y};function J(C,a,u){return(new Y).mulp(C,a,u)}function Y(C,a){this.x=C,this.y=a}Math.imul||(re=G),x.prototype.mulTo=function(a,u){var y,g=this.length+a.length;return y=10===this.length&&10===a.length?re(this,a,u):g<63?G(this,a,u):g<1024?function te(C,a,u){u.negative=a.negative^C.negative,u.length=C.length+a.length;for(var y=0,g=0,S=0;S<u.length-1;S++){var T=g;g=0;for(var N=67108863&y,M=Math.min(S,a.length-1),s=Math.max(0,S-C.length+1);s<=M;s++){var ee=(0|C.words[S-s])*(0|a.words[s]),ce=67108863&ee;N=67108863&(ce=ce+N|0),g+=(T=(T=T+(ee/67108864|0)|0)+(ce>>>26)|0)>>>26,T&=67108863}u.words[S]=N,y=T,T=g}return 0!==y?u.words[S]=y:u.length--,u.strip()}(this,a,u):J(this,a,u),y},Y.prototype.makeRBT=function(a){for(var u=new Array(a),y=x.prototype._countBits(a)-1,g=0;g<a;g++)u[g]=this.revBin(g,y,a);return u},Y.prototype.revBin=function(a,u,y){if(0===a||a===y-1)return a;for(var g=0,S=0;S<u;S++)g|=(1&a)<<u-S-1,a>>=1;return g},Y.prototype.permute=function(a,u,y,g,S,T){for(var N=0;N<T;N++)g[N]=u[a[N]],S[N]=y[a[N]]},Y.prototype.transform=function(a,u,y,g,S,T){this.permute(T,a,u,y,g,S);for(var N=1;N<S;N<<=1)for(var M=N<<1,s=Math.cos(2*Math.PI/M),v=Math.sin(2*Math.PI/M),W=0;W<S;W+=M)for(var K=s,ee=v,ce=0;ce<N;ce++){var _e=y[W+ce],Pe=g[W+ce],$e=y[W+ce+N],Se=g[W+ce+N],be=K*$e-ee*Se;Se=K*Se+ee*$e,y[W+ce]=_e+($e=be),g[W+ce]=Pe+Se,y[W+ce+N]=_e-$e,g[W+ce+N]=Pe-Se,ce!==M&&(be=s*K-v*ee,ee=s*ee+v*K,K=be)}},Y.prototype.guessLen13b=function(a,u){var y=1|Math.max(u,a),g=1&y,S=0;for(y=y/2|0;y;y>>>=1)S++;return 1<<S+1+g},Y.prototype.conjugate=function(a,u,y){if(!(y<=1))for(var g=0;g<y/2;g++){var S=a[g];a[g]=a[y-g-1],a[y-g-1]=S,S=u[g],u[g]=-u[y-g-1],u[y-g-1]=-S}},Y.prototype.normalize13b=function(a,u){for(var y=0,g=0;g<u/2;g++){var S=8192*Math.round(a[2*g+1]/u)+Math.round(a[2*g]/u)+y;a[g]=67108863&S,y=S<67108864?0:S/67108864|0}return a},Y.prototype.convert13b=function(a,u,y,g){for(var S=0,T=0;T<u;T++)y[2*T]=8191&(S+=0|a[T]),y[2*T+1]=8191&(S>>>=13),S>>>=13;for(T=2*u;T<g;++T)y[T]=0;k(0===S),k(!(-8192&S))},Y.prototype.stub=function(a){for(var u=new Array(a),y=0;y<a;y++)u[y]=0;return u},Y.prototype.mulp=function(a,u,y){var g=2*this.guessLen13b(a.length,u.length),S=this.makeRBT(g),T=this.stub(g),N=new Array(g),M=new Array(g),s=new Array(g),v=new Array(g),W=new Array(g),K=new Array(g),ee=y.words;ee.length=g,this.convert13b(a.words,a.length,N,g),this.convert13b(u.words,u.length,v,g),this.transform(N,T,M,s,g,S),this.transform(v,T,W,K,g,S);for(var ce=0;ce<g;ce++){var _e=M[ce]*W[ce]-s[ce]*K[ce];s[ce]=M[ce]*K[ce]+s[ce]*W[ce],M[ce]=_e}return this.conjugate(M,s,g),this.transform(M,s,ee,T,g,S),this.conjugate(ee,T,g),this.normalize13b(ee,g),y.negative=a.negative^u.negative,y.length=a.length+u.length,y.strip()},x.prototype.mul=function(a){var u=new x(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},x.prototype.mulf=function(a){var u=new x(null);return u.words=new Array(this.length+a.length),J(this,a,u)},x.prototype.imul=function(a){return this.clone().mulTo(a,this)},x.prototype.imuln=function(a){k("number"==typeof a),k(a<67108864);for(var u=0,y=0;y<this.length;y++){var g=(0|this.words[y])*a,S=(67108863&g)+(67108863&u);u>>=26,u+=g/67108864|0,u+=S>>>26,this.words[y]=67108863&S}return 0!==u&&(this.words[y]=u,this.length++),this},x.prototype.muln=function(a){return this.clone().imuln(a)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(a){var u=function j(C){for(var a=new Array(C.bitLength()),u=0;u<a.length;u++){var g=u%26;a[u]=(C.words[u/26|0]&1<<g)>>>g}return a}(a);if(0===u.length)return new x(1);for(var y=this,g=0;g<u.length&&0===u[g];g++,y=y.sqr());if(++g<u.length)for(var S=y.sqr();g<u.length;g++,S=S.sqr())0!==u[g]&&(y=y.mul(S));return y},x.prototype.iushln=function(a){k("number"==typeof a&&a>=0);var S,u=a%26,y=(a-u)/26,g=67108863>>>26-u<<26-u;if(0!==u){var T=0;for(S=0;S<this.length;S++){var N=this.words[S]&g;this.words[S]=(0|this.words[S])-N<<u|T,T=N>>>26-u}T&&(this.words[S]=T,this.length++)}if(0!==y){for(S=this.length-1;S>=0;S--)this.words[S+y]=this.words[S];for(S=0;S<y;S++)this.words[S]=0;this.length+=y}return this.strip()},x.prototype.ishln=function(a){return k(0===this.negative),this.iushln(a)},x.prototype.iushrn=function(a,u,y){var g;k("number"==typeof a&&a>=0),g=u?(u-u%26)/26:0;var S=a%26,T=Math.min((a-S)/26,this.length),N=67108863^67108863>>>S<<S,M=y;if(g-=T,g=Math.max(0,g),M){for(var s=0;s<T;s++)M.words[s]=this.words[s];M.length=T}if(0!==T)if(this.length>T)for(this.length-=T,s=0;s<this.length;s++)this.words[s]=this.words[s+T];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=g);s--){var W=0|this.words[s];this.words[s]=v<<26-S|W>>>S,v=W&N}return M&&0!==v&&(M.words[M.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},x.prototype.ishrn=function(a,u,y){return k(0===this.negative),this.iushrn(a,u,y)},x.prototype.shln=function(a){return this.clone().ishln(a)},x.prototype.ushln=function(a){return this.clone().iushln(a)},x.prototype.shrn=function(a){return this.clone().ishrn(a)},x.prototype.ushrn=function(a){return this.clone().iushrn(a)},x.prototype.testn=function(a){k("number"==typeof a&&a>=0);var u=a%26,y=(a-u)/26;return!(this.length<=y||!(this.words[y]&1<<u))},x.prototype.imaskn=function(a){k("number"==typeof a&&a>=0);var u=a%26,y=(a-u)/26;return k(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==u&&y++,this.length=Math.min(y,this.length),0!==u&&(this.words[this.length-1]&=67108863^67108863>>>u<<u),this.strip())},x.prototype.maskn=function(a){return this.clone().imaskn(a)},x.prototype.iaddn=function(a){return k("number"==typeof a),k(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},x.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},x.prototype.isubn=function(a){if(k("number"==typeof a),k(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},x.prototype.addn=function(a){return this.clone().iaddn(a)},x.prototype.subn=function(a){return this.clone().isubn(a)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(a,u,y){var S;this._expand(a.length+y);var T,N=0;for(S=0;S<a.length;S++){T=(0|this.words[S+y])+N;var M=(0|a.words[S])*u;N=((T-=67108863&M)>>26)-(M/67108864|0),this.words[S+y]=67108863&T}for(;S<this.length-y;S++)N=(T=(0|this.words[S+y])+N)>>26,this.words[S+y]=67108863&T;if(0===N)return this.strip();for(k(-1===N),N=0,S=0;S<this.length;S++)N=(T=-(0|this.words[S])+N)>>26,this.words[S]=67108863&T;return this.negative=1,this.strip()},x.prototype._wordDiv=function(a,u){var y,g=this.clone(),S=a,T=0|S.words[S.length-1];0!=(y=26-this._countBits(T))&&(S=S.ushln(y),g.iushln(y),T=0|S.words[S.length-1]);var s,M=g.length-S.length;if("mod"!==u){(s=new x(null)).length=M+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var W=g.clone()._ishlnsubmul(S,1,M);0===W.negative&&(g=W,s&&(s.words[M]=1));for(var K=M-1;K>=0;K--){var ee=67108864*(0|g.words[S.length+K])+(0|g.words[S.length+K-1]);for(ee=Math.min(ee/T|0,67108863),g._ishlnsubmul(S,ee,K);0!==g.negative;)ee--,g.negative=0,g._ishlnsubmul(S,1,K),g.isZero()||(g.negative^=1);s&&(s.words[K]=ee)}return s&&s.strip(),g.strip(),"div"!==u&&0!==y&&g.iushrn(y),{div:s||null,mod:g}},x.prototype.divmod=function(a,u,y){return k(!a.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===a.negative?(T=this.neg().divmod(a,u),"mod"!==u&&(g=T.div.neg()),"div"!==u&&(S=T.mod.neg(),y&&0!==S.negative&&S.iadd(a)),{div:g,mod:S}):0===this.negative&&0!==a.negative?(T=this.divmod(a.neg(),u),"mod"!==u&&(g=T.div.neg()),{div:g,mod:T.mod}):this.negative&a.negative?(T=this.neg().divmod(a.neg(),u),"div"!==u&&(S=T.mod.neg(),y&&0!==S.negative&&S.isub(a)),{div:T.div,mod:S}):a.length>this.length||this.cmp(a)<0?{div:new x(0),mod:this}:1===a.length?"div"===u?{div:this.divn(a.words[0]),mod:null}:"mod"===u?{div:null,mod:new x(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new x(this.modn(a.words[0]))}:this._wordDiv(a,u);var g,S,T},x.prototype.div=function(a){return this.divmod(a,"div",!1).div},x.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},x.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},x.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var y=0!==u.div.negative?u.mod.isub(a):u.mod,g=a.ushrn(1),S=a.andln(1),T=y.cmp(g);return T<0||1===S&&0===T?u.div:0!==u.div.negative?u.div.isubn(1):u.div.iaddn(1)},x.prototype.modn=function(a){k(a<=67108863);for(var u=(1<<26)%a,y=0,g=this.length-1;g>=0;g--)y=(u*y+(0|this.words[g]))%a;return y},x.prototype.idivn=function(a){k(a<=67108863);for(var u=0,y=this.length-1;y>=0;y--){var g=(0|this.words[y])+67108864*u;this.words[y]=g/a|0,u=g%a}return this.strip()},x.prototype.divn=function(a){return this.clone().idivn(a)},x.prototype.egcd=function(a){k(0===a.negative),k(!a.isZero());var u=this,y=a.clone();u=0!==u.negative?u.umod(a):u.clone();for(var g=new x(1),S=new x(0),T=new x(0),N=new x(1),M=0;u.isEven()&&y.isEven();)u.iushrn(1),y.iushrn(1),++M;for(var s=y.clone(),v=u.clone();!u.isZero();){for(var W=0,K=1;!(u.words[0]&K)&&W<26;++W,K<<=1);if(W>0)for(u.iushrn(W);W-- >0;)(g.isOdd()||S.isOdd())&&(g.iadd(s),S.isub(v)),g.iushrn(1),S.iushrn(1);for(var ee=0,ce=1;!(y.words[0]&ce)&&ee<26;++ee,ce<<=1);if(ee>0)for(y.iushrn(ee);ee-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(s),N.isub(v)),T.iushrn(1),N.iushrn(1);u.cmp(y)>=0?(u.isub(y),g.isub(T),S.isub(N)):(y.isub(u),T.isub(g),N.isub(S))}return{a:T,b:N,gcd:y.iushln(M)}},x.prototype._invmp=function(a){k(0===a.negative),k(!a.isZero());var W,u=this,y=a.clone();u=0!==u.negative?u.umod(a):u.clone();for(var g=new x(1),S=new x(0),T=y.clone();u.cmpn(1)>0&&y.cmpn(1)>0;){for(var N=0,M=1;!(u.words[0]&M)&&N<26;++N,M<<=1);if(N>0)for(u.iushrn(N);N-- >0;)g.isOdd()&&g.iadd(T),g.iushrn(1);for(var s=0,v=1;!(y.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(y.iushrn(s);s-- >0;)S.isOdd()&&S.iadd(T),S.iushrn(1);u.cmp(y)>=0?(u.isub(y),g.isub(S)):(y.isub(u),S.isub(g))}return(W=0===u.cmpn(1)?g:S).cmpn(0)<0&&W.iadd(a),W},x.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),y=a.clone();u.negative=0,y.negative=0;for(var g=0;u.isEven()&&y.isEven();g++)u.iushrn(1),y.iushrn(1);for(;;){for(;u.isEven();)u.iushrn(1);for(;y.isEven();)y.iushrn(1);var S=u.cmp(y);if(S<0){var T=u;u=y,y=T}else if(0===S||0===y.cmpn(1))break;u.isub(y)}return y.iushln(g)},x.prototype.invm=function(a){return this.egcd(a).a.umod(a)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(a){return this.words[0]&a},x.prototype.bincn=function(a){k("number"==typeof a);var u=a%26,y=(a-u)/26,g=1<<u;if(this.length<=y)return this._expand(y+1),this.words[y]|=g,this;for(var S=g,T=y;0!==S&&T<this.length;T++){var N=0|this.words[T];S=(N+=S)>>>26,this.words[T]=N&=67108863}return 0!==S&&(this.words[T]=S,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(a){var y,u=a<0;if(0!==this.negative&&!u)return-1;if(0===this.negative&&u)return 1;if(this.strip(),this.length>1)y=1;else{u&&(a=-a),k(a<=67108863,"Number is too big");var g=0|this.words[0];y=g===a?0:g<a?-1:1}return 0!==this.negative?0|-y:y},x.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var u=this.ucmp(a);return 0!==this.negative?0|-u:u},x.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,y=this.length-1;y>=0;y--){var g=0|this.words[y],S=0|a.words[y];if(g!==S){g<S?u=-1:g>S&&(u=1);break}}return u},x.prototype.gtn=function(a){return 1===this.cmpn(a)},x.prototype.gt=function(a){return 1===this.cmp(a)},x.prototype.gten=function(a){return this.cmpn(a)>=0},x.prototype.gte=function(a){return this.cmp(a)>=0},x.prototype.ltn=function(a){return-1===this.cmpn(a)},x.prototype.lt=function(a){return-1===this.cmp(a)},x.prototype.lten=function(a){return this.cmpn(a)<=0},x.prototype.lte=function(a){return this.cmp(a)<=0},x.prototype.eqn=function(a){return 0===this.cmpn(a)},x.prototype.eq=function(a){return 0===this.cmp(a)},x.red=function(a){return new xe(a)},x.prototype.toRed=function(a){return k(!this.red,"Already a number in reduction context"),k(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},x.prototype.fromRed=function(){return k(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(a){return this.red=a,this},x.prototype.forceRed=function(a){return k(!this.red,"Already a number in reduction context"),this._forceRed(a)},x.prototype.redAdd=function(a){return k(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},x.prototype.redIAdd=function(a){return k(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},x.prototype.redSub=function(a){return k(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},x.prototype.redISub=function(a){return k(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},x.prototype.redShl=function(a){return k(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},x.prototype.redMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},x.prototype.redIMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},x.prototype.redSqr=function(){return k(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return k(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return k(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return k(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return k(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(a){return k(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var oe={k256:null,p224:null,p192:null,p25519:null};function ae(C,a){this.name=C,this.p=new x(a,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function se(){ae.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function de(){ae.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function le(){ae.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function we(){ae.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function xe(C){if("string"==typeof C){var a=x._prime(C);this.m=a.p,this.prime=a}else k(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Ce(C){xe.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ae.prototype._tmp=function(){var a=new x(null);return a.words=new Array(Math.ceil(this.n/13)),a},ae.prototype.ireduce=function(a){var y,u=a;do{this.split(u,this.tmp),y=(u=(u=this.imulK(u)).iadd(this.tmp)).bitLength()}while(y>this.n);var g=y<this.n?-1:u.ucmp(this.p);return 0===g?(u.words[0]=0,u.length=1):g>0?u.isub(this.p):void 0!==u.strip?u.strip():u._strip(),u},ae.prototype.split=function(a,u){a.iushrn(this.n,0,u)},ae.prototype.imulK=function(a){return a.imul(this.k)},H(se,ae),se.prototype.split=function(a,u){for(var y=4194303,g=Math.min(a.length,9),S=0;S<g;S++)u.words[S]=a.words[S];if(u.length=g,a.length<=9)return a.words[0]=0,void(a.length=1);var T=a.words[9];for(u.words[u.length++]=T&y,S=10;S<a.length;S++){var N=0|a.words[S];a.words[S-10]=(N&y)<<4|T>>>22,T=N}a.words[S-10]=T>>>=22,a.length-=0===T&&a.length>10?10:9},se.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,y=0;y<a.length;y++){var g=0|a.words[y];a.words[y]=67108863&(u+=977*g),u=64*g+(u/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},H(de,ae),H(le,ae),H(we,ae),we.prototype.imulK=function(a){for(var u=0,y=0;y<a.length;y++){var g=19*(0|a.words[y])+u,S=67108863&g;g>>>=26,a.words[y]=S,u=g}return 0!==u&&(a.words[a.length++]=u),a},x._prime=function(a){if(oe[a])return oe[a];var u;if("k256"===a)u=new se;else if("p224"===a)u=new de;else if("p192"===a)u=new le;else{if("p25519"!==a)throw new Error("Unknown prime "+a);u=new we}return oe[a]=u,u},xe.prototype._verify1=function(a){k(0===a.negative,"red works only with positives"),k(a.red,"red works only with red numbers")},xe.prototype._verify2=function(a,u){k(!(a.negative|u.negative),"red works only with positives"),k(a.red&&a.red===u.red,"red works only with red numbers")},xe.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},xe.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},xe.prototype.add=function(a,u){this._verify2(a,u);var y=a.add(u);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},xe.prototype.iadd=function(a,u){this._verify2(a,u);var y=a.iadd(u);return y.cmp(this.m)>=0&&y.isub(this.m),y},xe.prototype.sub=function(a,u){this._verify2(a,u);var y=a.sub(u);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},xe.prototype.isub=function(a,u){this._verify2(a,u);var y=a.isub(u);return y.cmpn(0)<0&&y.iadd(this.m),y},xe.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},xe.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},xe.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},xe.prototype.isqr=function(a){return this.imul(a,a.clone())},xe.prototype.sqr=function(a){return this.mul(a,a)},xe.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(k(u%2==1),3===u){var y=this.m.add(new x(1)).iushrn(2);return this.pow(a,y)}for(var g=this.m.subn(1),S=0;!g.isZero()&&0===g.andln(1);)S++,g.iushrn(1);k(!g.isZero());var T=new x(1).toRed(this),N=T.redNeg(),M=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new x(2*s*s).toRed(this);0!==this.pow(s,M).cmp(N);)s.redIAdd(N);for(var v=this.pow(s,g),W=this.pow(a,g.addn(1).iushrn(1)),K=this.pow(a,g),ee=S;0!==K.cmp(T);){for(var ce=K,_e=0;0!==ce.cmp(T);_e++)ce=ce.redSqr();k(_e<ee);var Pe=this.pow(v,new x(1).iushln(ee-_e-1));W=W.redMul(Pe),v=Pe.redSqr(),K=K.redMul(v),ee=_e}return W},xe.prototype.invm=function(a){var u=a._invmp(this.m);return 0!==u.negative?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},xe.prototype.pow=function(a,u){if(u.isZero())return new x(1).toRed(this);if(0===u.cmpn(1))return a.clone();var g=new Array(16);g[0]=new x(1).toRed(this),g[1]=a;for(var S=2;S<g.length;S++)g[S]=this.mul(g[S-1],a);var T=g[0],N=0,M=0,s=u.bitLength()%26;for(0===s&&(s=26),S=u.length-1;S>=0;S--){for(var v=u.words[S],W=s-1;W>=0;W--){var K=v>>W&1;T!==g[0]&&(T=this.sqr(T)),0!==K||0!==N?(N<<=1,N|=K,(4==++M||0===S&&0===W)&&(T=this.mul(T,g[N]),M=0,N=0)):M=0}s=26}return T},xe.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},xe.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},x.mont=function(a){return new Ce(a)},H(Ce,xe),Ce.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},Ce.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},Ce.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var y=a.imul(u),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(g).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},Ce.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new x(0)._forceRed(this);var y=a.mul(u),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(g).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},Ce.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(Fe=_.nmd(Fe),this)},39210:Fe=>{function z(_,p){if(!_)throw new Error(p||"Assertion failed")}Fe.exports=z,z.equal=function(p,E,k){if(p!=E)throw new Error(k||"Assertion failed: "+p+" != "+E)}},21832:(Fe,z)=>{"use strict";var _=z;function E(H){return 1===H.length?"0"+H:H}function k(H){for(var x="",R=0;R<H.length;R++)x+=E(H[R].toString(16));return x}_.toArray=function p(H,x){if(Array.isArray(H))return H.slice();if(!H)return[];var R=[];if("string"!=typeof H){for(var A=0;A<H.length;A++)R[A]=0|H[A];return R}if("hex"===x)for((H=H.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(H="0"+H),A=0;A<H.length;A+=2)R.push(parseInt(H[A]+H[A+1],16));else for(A=0;A<H.length;A++){var O=H.charCodeAt(A),F=O>>8,L=255&O;F?R.push(F,L):R.push(L)}return R},_.zero2=E,_.toHex=k,_.encode=function(x,R){return"hex"===R?k(x):x}},61747:Fe=>{"use strict";Fe.exports=class extends Error{constructor(_,p){super(_||""),"object"==typeof p&&null!==p&&(p.code&&(this.code=String(p.code)),p.expected&&(this.expected=!0),p.transient&&(this.transient=!0),p.cause&&(this.cause=p.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}},13026:(Fe,z,_)=>{Fe.exports=_(3116)},3116:function(Fe,z){!function(_,p){"use strict";var E={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function k(j){if(!Array.isArray(j)&&!ArrayBuffer.isView(j))return!1;for(var G=0;G<j.length;G++)if(!Number.isInteger(j[G])||j[G]<0||j[G]>255)return!1;return!0}function H(j,G){return(65535&j)*G+(((j>>>16)*G&65535)<<16)}function x(j,G){return j<<G|j>>>32-G}function R(j){return j=H(j^=j>>>16,2246822507),(j=H(j^=j>>>13,3266489909))^j>>>16}function A(j,G){var re=[0,0,0,0];return re[3]+=(j=[j[0]>>>16,65535&j[0],j[1]>>>16,65535&j[1]])[3]+(G=[G[0]>>>16,65535&G[0],G[1]>>>16,65535&G[1]])[3],re[2]+=re[3]>>>16,re[3]&=65535,re[2]+=j[2]+G[2],re[1]+=re[2]>>>16,re[2]&=65535,re[1]+=j[1]+G[1],re[0]+=re[1]>>>16,re[1]&=65535,re[0]+=j[0]+G[0],re[0]&=65535,[re[0]<<16|re[1],re[2]<<16|re[3]]}function O(j,G){var re=[0,0,0,0];return re[3]+=(j=[j[0]>>>16,65535&j[0],j[1]>>>16,65535&j[1]])[3]*(G=[G[0]>>>16,65535&G[0],G[1]>>>16,65535&G[1]])[3],re[2]+=re[3]>>>16,re[3]&=65535,re[2]+=j[2]*G[3],re[1]+=re[2]>>>16,re[2]&=65535,re[2]+=j[3]*G[2],re[1]+=re[2]>>>16,re[2]&=65535,re[1]+=j[1]*G[3],re[0]+=re[1]>>>16,re[1]&=65535,re[1]+=j[2]*G[2],re[0]+=re[1]>>>16,re[1]&=65535,re[1]+=j[3]*G[1],re[0]+=re[1]>>>16,re[1]&=65535,re[0]+=j[0]*G[3]+j[1]*G[2]+j[2]*G[1]+j[3]*G[0],re[0]&=65535,[re[0]<<16|re[1],re[2]<<16|re[3]]}function F(j,G){return 32==(G%=64)?[j[1],j[0]]:G<32?[j[0]<<G|j[1]>>>32-G,j[1]<<G|j[0]>>>32-G]:[j[1]<<(G-=32)|j[0]>>>32-G,j[0]<<G|j[1]>>>32-G]}function L(j,G){return 0==(G%=64)?j:G<32?[j[0]<<G|j[1]>>>32-G,j[1]<<G]:[j[1]<<G-32,0]}function I(j,G){return[j[0]^G[0],j[1]^G[1]]}function Z(j){return j=I(j,[0,j[0]>>>1]),j=I(j=O(j,[4283543511,3981806797]),[0,j[0]>>>1]),I(j=O(j,[3301882366,444984403]),[0,j[0]>>>1])}E.x86.hash32=function(j,G){if(E.inputValidation&&!k(j))return p;for(var re=j.length%4,te=j.length-re,J=G=G||0,Y=0,oe=3432918353,ae=461845907,se=0;se<te;se+=4)Y=H(Y=j[se]|j[se+1]<<8|j[se+2]<<16|j[se+3]<<24,oe),Y=H(Y=x(Y,15),ae),J=H(J=x(J^=Y,13),5)+3864292196;switch(Y=0,re){case 3:Y^=j[se+2]<<16;case 2:Y^=j[se+1]<<8;case 1:Y=H(Y^=j[se],oe),J^=Y=H(Y=x(Y,15),ae)}return(J=R(J^=j.length))>>>0},E.x86.hash128=function(j,G){if(E.inputValidation&&!k(j))return p;for(var re=j.length%16,te=j.length-re,J=G=G||0,Y=G,oe=G,ae=G,se=0,de=0,le=0,we=0,xe=597399067,Ce=2869860233,C=951274213,a=2716044179,u=0;u<te;u+=16)de=j[u+4]|j[u+5]<<8|j[u+6]<<16|j[u+7]<<24,le=j[u+8]|j[u+9]<<8|j[u+10]<<16|j[u+11]<<24,we=j[u+12]|j[u+13]<<8|j[u+14]<<16|j[u+15]<<24,se=x(se=H(se=j[u]|j[u+1]<<8|j[u+2]<<16|j[u+3]<<24,xe),15),J=x(J^=se=H(se,Ce),19),J=H(J+=Y,5)+1444728091,de=x(de=H(de,Ce),16),Y=x(Y^=de=H(de,C),17),Y=H(Y+=oe,5)+197830471,le=x(le=H(le,C),17),oe=x(oe^=le=H(le,a),15),oe=H(oe+=ae,5)+2530024501,we=x(we=H(we,a),18),ae=x(ae^=we=H(we,xe),13),ae=H(ae+=J,5)+850148119;switch(se=0,de=0,le=0,we=0,re){case 15:we^=j[u+14]<<16;case 14:we^=j[u+13]<<8;case 13:we=H(we^=j[u+12],a),ae^=we=H(we=x(we,18),xe);case 12:le^=j[u+11]<<24;case 11:le^=j[u+10]<<16;case 10:le^=j[u+9]<<8;case 9:le=H(le^=j[u+8],C),oe^=le=H(le=x(le,17),a);case 8:de^=j[u+7]<<24;case 7:de^=j[u+6]<<16;case 6:de^=j[u+5]<<8;case 5:de=H(de^=j[u+4],Ce),Y^=de=H(de=x(de,16),C);case 4:se^=j[u+3]<<24;case 3:se^=j[u+2]<<16;case 2:se^=j[u+1]<<8;case 1:se=H(se^=j[u],xe),J^=se=H(se=x(se,15),Ce)}return J^=j.length,J+=Y^=j.length,J+=oe^=j.length,Y+=J+=ae^=j.length,oe+=J,ae+=J,J=R(J),J+=Y=R(Y),J+=oe=R(oe),Y+=J+=ae=R(ae),oe+=J,ae+=J,("00000000"+(J>>>0).toString(16)).slice(-8)+("00000000"+(Y>>>0).toString(16)).slice(-8)+("00000000"+(oe>>>0).toString(16)).slice(-8)+("00000000"+(ae>>>0).toString(16)).slice(-8)},E.x64.hash128=function(j,G){if(E.inputValidation&&!k(j))return p;for(var re=j.length%16,te=j.length-re,J=[0,G=G||0],Y=[0,G],oe=[0,0],ae=[0,0],se=[2277735313,289559509],de=[1291169091,658871167],le=0;le<te;le+=16)ae=[j[le+12]|j[le+13]<<8|j[le+14]<<16|j[le+15]<<24,j[le+8]|j[le+9]<<8|j[le+10]<<16|j[le+11]<<24],oe=F(oe=O(oe=[j[le+4]|j[le+5]<<8|j[le+6]<<16|j[le+7]<<24,j[le]|j[le+1]<<8|j[le+2]<<16|j[le+3]<<24],se),31),J=A(J=F(J=I(J,oe=O(oe,de)),27),Y),J=A(O(J,[0,5]),[0,1390208809]),ae=F(ae=O(ae,de),33),Y=A(Y=F(Y=I(Y,ae=O(ae,se)),31),J),Y=A(O(Y,[0,5]),[0,944331445]);switch(oe=[0,0],ae=[0,0],re){case 15:ae=I(ae,L([0,j[le+14]],48));case 14:ae=I(ae,L([0,j[le+13]],40));case 13:ae=I(ae,L([0,j[le+12]],32));case 12:ae=I(ae,L([0,j[le+11]],24));case 11:ae=I(ae,L([0,j[le+10]],16));case 10:ae=I(ae,L([0,j[le+9]],8));case 9:ae=O(ae=I(ae,[0,j[le+8]]),de),Y=I(Y,ae=O(ae=F(ae,33),se));case 8:oe=I(oe,L([0,j[le+7]],56));case 7:oe=I(oe,L([0,j[le+6]],48));case 6:oe=I(oe,L([0,j[le+5]],40));case 5:oe=I(oe,L([0,j[le+4]],32));case 4:oe=I(oe,L([0,j[le+3]],24));case 3:oe=I(oe,L([0,j[le+2]],16));case 2:oe=I(oe,L([0,j[le+1]],8));case 1:oe=O(oe=I(oe,[0,j[le]]),se),J=I(J,oe=O(oe=F(oe,31),de))}return J=A(J=I(J,[0,j.length]),Y=I(Y,[0,j.length])),Y=A(Y,J),J=A(J=Z(J),Y=Z(Y)),Y=A(Y,J),("00000000"+(J[0]>>>0).toString(16)).slice(-8)+("00000000"+(J[1]>>>0).toString(16)).slice(-8)+("00000000"+(Y[0]>>>0).toString(16)).slice(-8)+("00000000"+(Y[1]>>>0).toString(16)).slice(-8)},Fe.exports&&(z=Fe.exports=E),z.murmurHash3=E}()},50233:Fe=>{"use strict";var z=Object.prototype.hasOwnProperty,_="~";function p(){}function E(R,A,O){this.fn=R,this.context=A,this.once=O||!1}function k(R,A,O,F,L){if("function"!=typeof O)throw new TypeError("The listener must be a function");var I=new E(O,F||R,L),Z=_?_+A:A;return R._events[Z]?R._events[Z].fn?R._events[Z]=[R._events[Z],I]:R._events[Z].push(I):(R._events[Z]=I,R._eventsCount++),R}function H(R,A){0==--R._eventsCount?R._events=new p:delete R._events[A]}function x(){this._events=new p,this._eventsCount=0}Object.create&&(p.prototype=Object.create(null),(new p).__proto__||(_=!1)),x.prototype.eventNames=function(){var O,F,A=[];if(0===this._eventsCount)return A;for(F in O=this._events)z.call(O,F)&&A.push(_?F.slice(1):F);return Object.getOwnPropertySymbols?A.concat(Object.getOwnPropertySymbols(O)):A},x.prototype.listeners=function(A){var F=this._events[_?_+A:A];if(!F)return[];if(F.fn)return[F.fn];for(var L=0,I=F.length,Z=new Array(I);L<I;L++)Z[L]=F[L].fn;return Z},x.prototype.listenerCount=function(A){var F=this._events[_?_+A:A];return F?F.fn?1:F.length:0},x.prototype.emit=function(A,O,F,L,I,Z){var j=_?_+A:A;if(!this._events[j])return!1;var te,J,G=this._events[j],re=arguments.length;if(G.fn){switch(G.once&&this.removeListener(A,G.fn,void 0,!0),re){case 1:return G.fn.call(G.context),!0;case 2:return G.fn.call(G.context,O),!0;case 3:return G.fn.call(G.context,O,F),!0;case 4:return G.fn.call(G.context,O,F,L),!0;case 5:return G.fn.call(G.context,O,F,L,I),!0;case 6:return G.fn.call(G.context,O,F,L,I,Z),!0}for(J=1,te=new Array(re-1);J<re;J++)te[J-1]=arguments[J];G.fn.apply(G.context,te)}else{var oe,Y=G.length;for(J=0;J<Y;J++)switch(G[J].once&&this.removeListener(A,G[J].fn,void 0,!0),re){case 1:G[J].fn.call(G[J].context);break;case 2:G[J].fn.call(G[J].context,O);break;case 3:G[J].fn.call(G[J].context,O,F);break;case 4:G[J].fn.call(G[J].context,O,F,L);break;default:if(!te)for(oe=1,te=new Array(re-1);oe<re;oe++)te[oe-1]=arguments[oe];G[J].fn.apply(G[J].context,te)}}return!0},x.prototype.on=function(A,O,F){return k(this,A,O,F,!1)},x.prototype.once=function(A,O,F){return k(this,A,O,F,!0)},x.prototype.removeListener=function(A,O,F,L){var I=_?_+A:A;if(!this._events[I])return this;if(!O)return H(this,I),this;var Z=this._events[I];if(Z.fn)Z.fn===O&&(!L||Z.once)&&(!F||Z.context===F)&&H(this,I);else{for(var j=0,G=[],re=Z.length;j<re;j++)(Z[j].fn!==O||L&&!Z[j].once||F&&Z[j].context!==F)&&G.push(Z[j]);G.length?this._events[I]=1===G.length?G[0]:G:H(this,I)}return this},x.prototype.removeAllListeners=function(A){var O;return A?this._events[O=_?_+A:A]&&H(this,O):(this._events=new p,this._eventsCount=0),this},x.prototype.off=x.prototype.removeListener,x.prototype.addListener=x.prototype.on,x.prefixed=_,x.EventEmitter=x,Fe.exports=x},83138:(Fe,z,_)=>{"use strict";var p=_(49609);z.certificate=_(94772);var E=p.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});z.RSAPrivateKey=E;var k=p.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});z.RSAPublicKey=k;var H=p.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),x=p.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(H),this.key("subjectPublicKey").bitstr())});z.PublicKey=x;var R=p.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(H),this.key("subjectPrivateKey").octstr())});z.PrivateKey=R;var A=p.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});z.EncryptedPrivateKey=A;var O=p.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});z.DSAPrivateKey=O,z.DSAparam=p.define("DSAparam",function(){this.int()});var F=p.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),L=p.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(F),this.key("publicKey").optional().explicit(1).bitstr())});z.ECPrivateKey=L,z.signature=p.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},94772:(Fe,z,_)=>{"use strict";var p=_(49609),E=p.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),k=p.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),H=p.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),x=p.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(H),this.key("subjectPublicKey").bitstr())}),R=p.define("RelativeDistinguishedName",function(){this.setof(k)}),A=p.define("RDNSequence",function(){this.seqof(R)}),O=p.define("Name",function(){this.choice({rdnSequence:this.use(A)})}),F=p.define("Validity",function(){this.seq().obj(this.key("notBefore").use(E),this.key("notAfter").use(E))}),L=p.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),I=p.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(H),this.key("issuer").use(O),this.key("validity").use(F),this.key("subject").use(O),this.key("subjectPublicKeyInfo").use(x),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(L).optional())}),Z=p.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(I),this.key("signatureAlgorithm").use(H),this.key("signatureValue").bitstr())});Fe.exports=Z},89472:(Fe,z,_)=>{"use strict";var p=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,E=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,k=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,H=_(18211),x=_(43388),R=_(27054).Buffer;Fe.exports=function(A,O){var I,F=A.toString(),L=F.match(p);if(L){var j="aes"+L[1],G=R.from(L[2],"hex"),re=R.from(L[3].replace(/[\r\n]/g,""),"base64"),te=H(O,G.slice(0,8),parseInt(L[1],10)).key,J=[],Y=x.createDecipheriv(j,te,G);J.push(Y.update(re)),J.push(Y.final()),I=R.concat(J)}else{var Z=F.match(k);I=R.from(Z[2].replace(/[\r\n]/g,""),"base64")}return{tag:F.match(E)[1],data:I}}},65667:(Fe,z,_)=>{"use strict";var p=_(83138),E=_(15579),k=_(89472),H=_(43388),x=_(93397),R=_(27054).Buffer;function O(F){var L;"object"==typeof F&&!R.isBuffer(F)&&(L=F.passphrase,F=F.key),"string"==typeof F&&(F=R.from(F));var G,re,I=k(F,L),Z=I.tag,j=I.data;switch(Z){case"CERTIFICATE":re=p.certificate.decode(j,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(re||(re=p.PublicKey.decode(j,"der")),G=re.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return p.RSAPublicKey.decode(re.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return re.subjectPrivateKey=re.subjectPublicKey,{type:"ec",data:re};case"1.2.840.10040.4.1":return re.algorithm.params.pub_key=p.DSAparam.decode(re.subjectPublicKey.data,"der"),{type:"dsa",data:re.algorithm.params};default:throw new Error("unknown key id "+G)}case"ENCRYPTED PRIVATE KEY":j=function A(F,L){var I=F.algorithm.decrypt.kde.kdeparams.salt,Z=parseInt(F.algorithm.decrypt.kde.kdeparams.iters.toString(),10),j=E[F.algorithm.decrypt.cipher.algo.join(".")],G=F.algorithm.decrypt.cipher.iv,re=F.subjectPrivateKey,te=parseInt(j.split("-")[1],10)/8,J=x.pbkdf2Sync(L,I,Z,te,"sha1"),Y=H.createDecipheriv(j,J,G),oe=[];return oe.push(Y.update(re)),oe.push(Y.final()),R.concat(oe)}(j=p.EncryptedPrivateKey.decode(j,"der"),L);case"PRIVATE KEY":switch(G=(re=p.PrivateKey.decode(j,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return p.RSAPrivateKey.decode(re.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:re.algorithm.curve,privateKey:p.ECPrivateKey.decode(re.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return re.algorithm.params.priv_key=p.DSAparam.decode(re.subjectPrivateKey,"der"),{type:"dsa",params:re.algorithm.params};default:throw new Error("unknown key id "+G)}case"RSA PUBLIC KEY":return p.RSAPublicKey.decode(j,"der");case"RSA PRIVATE KEY":return p.RSAPrivateKey.decode(j,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:p.DSAPrivateKey.decode(j,"der")};case"EC PRIVATE KEY":return{curve:(j=p.ECPrivateKey.decode(j,"der")).parameters.value,privateKey:j.privateKey};default:throw new Error("unknown key type "+Z)}}O.signature=p.signature,Fe.exports=O},93397:(Fe,z,_)=>{z.pbkdf2=_(82685),z.pbkdf2Sync=_(59111)},82685:(Fe,z,_)=>{var R,I,p=_(27054).Buffer,E=_(86111),k=_(45392),H=_(59111),x=_(76643),A=globalThis.crypto&&globalThis.crypto.subtle,O={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},F=[];function Z(){return I||(I=globalThis.process&&globalThis.process.nextTick?globalThis.process.nextTick:globalThis.queueMicrotask?globalThis.queueMicrotask:globalThis.setImmediate?globalThis.setImmediate:globalThis.setTimeout)}function j(re,te,J,Y,oe){return A.importKey("raw",re,{name:"PBKDF2"},!1,["deriveBits"]).then(function(ae){return A.deriveBits({name:"PBKDF2",salt:te,iterations:J,hash:{name:oe}},ae,Y<<3)}).then(function(ae){return p.from(ae)})}Fe.exports=function(re,te,J,Y,oe,ae){"function"==typeof oe&&(ae=oe,oe=void 0);var se=O[(oe=oe||"sha1").toLowerCase()];if(se&&"function"==typeof globalThis.Promise){if(E(J,Y),re=x(re,k,"Password"),te=x(te,k,"Salt"),"function"!=typeof ae)throw new Error("No callback provided to pbkdf2");!function G(re,te){re.then(function(J){Z()(function(){te(null,J)})},function(J){Z()(function(){te(J)})})}(function L(re){if(globalThis.process&&!globalThis.process.browser||!A||!A.importKey||!A.deriveBits)return Promise.resolve(!1);if(void 0!==F[re])return F[re];var te=j(R=R||p.alloc(8),R,10,128,re).then(function(){return!0}).catch(function(){return!1});return F[re]=te,te}(se).then(function(de){return de?j(re,te,J,Y,se):H(re,te,J,Y,oe)}),ae)}else Z()(function(){var de;try{de=H(re,te,J,Y,oe)}catch(le){return ae(le)}ae(null,de)})}},45392:(Fe,z,_)=>{var E,p=_(40573);E=globalThis.process&&globalThis.process.browser?"utf-8":globalThis.process&&globalThis.process.version?parseInt(p.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",Fe.exports=E},86111:Fe=>{var z=Math.pow(2,30)-1;Fe.exports=function(_,p){if("number"!=typeof _)throw new TypeError("Iterations not a number");if(_<0)throw new TypeError("Bad iterations");if("number"!=typeof p)throw new TypeError("Key length not a number");if(p<0||p>z||p!=p)throw new TypeError("Bad key length")}},59111:(Fe,z,_)=>{var p=_(83407),E=_(36636),k=_(25443),H=_(27054).Buffer,x=_(86111),R=_(45392),A=_(76643),O=H.alloc(128),F={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function L(j,G,re){var te=function I(j){return"rmd160"===j||"ripemd160"===j?function re(te){return(new E).update(te).digest()}:"md5"===j?p:function G(te){return k(j).update(te).digest()}}(j),J="sha512"===j||"sha384"===j?128:64;G.length>J?G=te(G):G.length<J&&(G=H.concat([G,O],J));for(var Y=H.allocUnsafe(J+F[j]),oe=H.allocUnsafe(J+F[j]),ae=0;ae<J;ae++)Y[ae]=54^G[ae],oe[ae]=92^G[ae];var se=H.allocUnsafe(J+re+4);Y.copy(se,0,0,J),this.ipad1=se,this.ipad2=Y,this.opad=oe,this.alg=j,this.blocksize=J,this.hash=te,this.size=F[j]}L.prototype.run=function(j,G){return j.copy(G,this.blocksize),this.hash(G).copy(this.opad,this.blocksize),this.hash(this.opad)},Fe.exports=function Z(j,G,re,te,J){x(re,te);var Y=new L(J=J||"sha1",j=A(j,R,"Password"),(G=A(G,R,"Salt")).length),oe=H.allocUnsafe(te),ae=H.allocUnsafe(G.length+4);G.copy(ae,0,0,G.length);for(var se=0,de=F[J],le=Math.ceil(te/de),we=1;we<=le;we++){ae.writeUInt32BE(we,G.length);for(var xe=Y.run(ae,Y.ipad1),Ce=xe,C=1;C<re;C++){Ce=Y.run(Ce,Y.ipad2);for(var a=0;a<de;a++)xe[a]^=Ce[a]}xe.copy(oe,se),se+=de}return oe}},76643:(Fe,z,_)=>{var p=_(27054).Buffer;Fe.exports=function(E,k,H){if(p.isBuffer(E))return E;if("string"==typeof E)return p.from(E,k);if(ArrayBuffer.isView(E))return p.from(E.buffer);throw new TypeError(H+" must be a string, a Buffer, a typed array or a DataView")}},9656:(Fe,z,_)=>{"use strict";var p=_(40573);Fe.exports=typeof p>"u"||!p.version||0===p.version.indexOf("v0.")||0===p.version.indexOf("v1.")&&0!==p.version.indexOf("v1.8.")?{nextTick:function E(k,H,x,R){if("function"!=typeof k)throw new TypeError('"callback" argument must be a function');var O,F,A=arguments.length;switch(A){case 0:case 1:return p.nextTick(k);case 2:return p.nextTick(function(){k.call(null,H)});case 3:return p.nextTick(function(){k.call(null,H,x)});case 4:return p.nextTick(function(){k.call(null,H,x,R)});default:for(O=new Array(A-1),F=0;F<O.length;)O[F++]=arguments[F];return p.nextTick(function(){k.apply(null,O)})}}}:p},40573:Fe=>{var _,p,z=Fe.exports={};function E(){throw new Error("setTimeout has not been defined")}function k(){throw new Error("clearTimeout has not been defined")}function H(G){if(_===setTimeout)return setTimeout(G,0);if((_===E||!_)&&setTimeout)return _=setTimeout,setTimeout(G,0);try{return _(G,0)}catch{try{return _.call(null,G,0)}catch{return _.call(this,G,0)}}}!function(){try{_="function"==typeof setTimeout?setTimeout:E}catch{_=E}try{p="function"==typeof clearTimeout?clearTimeout:k}catch{p=k}}();var O,R=[],A=!1,F=-1;function L(){!A||!O||(A=!1,O.length?R=O.concat(R):F=-1,R.length&&I())}function I(){if(!A){var G=H(L);A=!0;for(var re=R.length;re;){for(O=R,R=[];++F<re;)O&&O[F].run();F=-1,re=R.length}O=null,A=!1,function x(G){if(p===clearTimeout)return clearTimeout(G);if((p===k||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(G);try{return p(G)}catch{try{return p.call(null,G)}catch{return p.call(this,G)}}}(G)}}function Z(G,re){this.fun=G,this.array=re}function j(){}z.nextTick=function(G){var re=new Array(arguments.length-1);if(arguments.length>1)for(var te=1;te<arguments.length;te++)re[te-1]=arguments[te];R.push(new Z(G,re)),1===R.length&&!A&&H(I)},Z.prototype.run=function(){this.fun.apply(null,this.array)},z.title="browser",z.browser=!0,z.env={},z.argv=[],z.version="",z.versions={},z.on=j,z.addListener=j,z.once=j,z.off=j,z.removeListener=j,z.removeAllListeners=j,z.emit=j,z.prependListener=j,z.prependOnceListener=j,z.listeners=function(G){return[]},z.binding=function(G){throw new Error("process.binding is not supported")},z.cwd=function(){return"/"},z.chdir=function(G){throw new Error("process.chdir is not supported")},z.umask=function(){return 0}},52965:(Fe,z,_)=>{z.publicEncrypt=_(87267),z.privateDecrypt=_(98613),z.privateEncrypt=function(E,k){return z.publicEncrypt(E,k,!0)},z.publicDecrypt=function(E,k){return z.privateDecrypt(E,k,!0)}},30715:(Fe,z,_)=>{var p=_(67211),E=_(27054).Buffer;function k(H){var x=E.allocUnsafe(4);return x.writeUInt32BE(H,0),x}Fe.exports=function(H,x){for(var O,R=E.alloc(0),A=0;R.length<x;)O=k(A++),R=E.concat([R,p("sha1").update(H).update(O).digest()]);return R.slice(0,x)}},16508:function(Fe,z,_){!function(p,E){"use strict";function k(C,a){if(!C)throw new Error(a||"Assertion failed")}function H(C,a){C.super_=a;var u=function(){};u.prototype=a.prototype,C.prototype=new u,C.prototype.constructor=C}function x(C,a,u){if(x.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(u=a,a=10),this._init(C||0,a||10,u||"be"))}var R;"object"==typeof p?p.exports=x:E.BN=x,x.BN=x,x.wordSize=26;try{R=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:_(51069).Buffer}catch{}function A(C,a){var u=C.charCodeAt(a);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function O(C,a,u){var y=A(C,u);return u-1>=a&&(y|=A(C,u-1)<<4),y}function F(C,a,u,y){for(var g=0,S=Math.min(C.length,u),T=a;T<S;T++){var N=C.charCodeAt(T)-48;g*=y,g+=N>=49?N-49+10:N>=17?N-17+10:N}return g}x.isBN=function(a){return a instanceof x||null!==a&&"object"==typeof a&&a.constructor.wordSize===x.wordSize&&Array.isArray(a.words)},x.max=function(a,u){return a.cmp(u)>0?a:u},x.min=function(a,u){return a.cmp(u)<0?a:u},x.prototype._init=function(a,u,y){if("number"==typeof a)return this._initNumber(a,u,y);if("object"==typeof a)return this._initArray(a,u,y);"hex"===u&&(u=16),k(u===(0|u)&&u>=2&&u<=36);var g=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(g++,this.negative=1),g<a.length&&(16===u?this._parseHex(a,g,y):(this._parseBase(a,u,g),"le"===y&&this._initArray(this.toArray(),u,y)))},x.prototype._initNumber=function(a,u,y){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(k(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),u,y)},x.prototype._initArray=function(a,u,y){if(k("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var S,T,N=0;if("be"===y)for(g=a.length-1,S=0;g>=0;g-=3)this.words[S]|=(T=a[g]|a[g-1]<<8|a[g-2]<<16)<<N&67108863,this.words[S+1]=T>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);else if("le"===y)for(g=0,S=0;g<a.length;g+=3)this.words[S]|=(T=a[g]|a[g+1]<<8|a[g+2]<<16)<<N&67108863,this.words[S+1]=T>>>26-N&67108863,(N+=24)>=26&&(N-=26,S++);return this.strip()},x.prototype._parseHex=function(a,u,y){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var N,S=0,T=0;if("be"===y)for(g=a.length-1;g>=u;g-=2)N=O(a,u,g)<<S,this.words[T]|=67108863&N,S>=18?(S-=18,this.words[T+=1]|=N>>>26):S+=8;else for(g=(a.length-u)%2==0?u+1:u;g<a.length;g+=2)N=O(a,u,g)<<S,this.words[T]|=67108863&N,S>=18?(S-=18,this.words[T+=1]|=N>>>26):S+=8;this.strip()},x.prototype._parseBase=function(a,u,y){this.words=[0],this.length=1;for(var g=0,S=1;S<=67108863;S*=u)g++;g--,S=S/u|0;for(var T=a.length-y,N=T%g,M=Math.min(T,T-N)+y,s=0,v=y;v<M;v+=g)s=F(a,v,v+g,u),this.imuln(S),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==N){var W=1;for(s=F(a,v,a.length,u),v=0;v<N;v++)W*=u;this.imuln(W),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},x.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red},x.prototype.clone=function(){var a=new x(null);return this.copy(a),a},x.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},x.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},x.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var L=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Z=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function G(C,a,u){u.negative=a.negative^C.negative;var y=C.length+a.length|0;u.length=y,y=y-1|0;var g=0|C.words[0],S=0|a.words[0],T=g*S,M=T/67108864|0;u.words[0]=67108863&T;for(var s=1;s<y;s++){for(var v=M>>>26,W=67108863&M,K=Math.min(s,a.length-1),ee=Math.max(0,s-C.length+1);ee<=K;ee++)v+=(T=(g=0|C.words[s-ee|0])*(S=0|a.words[ee])+W)/67108864|0,W=67108863&T;u.words[s]=0|W,M=0|v}return 0!==M?u.words[s]=0|M:u.length--,u.strip()}x.prototype.toString=function(a,u){var y;if(u=0|u||1,16===(a=a||10)||"hex"===a){y="";for(var g=0,S=0,T=0;T<this.length;T++){var N=this.words[T],M=(16777215&(N<<g|S)).toString(16);y=0!=(S=N>>>24-g&16777215)||T!==this.length-1?L[6-M.length]+M+y:M+y,(g+=2)>=26&&(g-=26,T--)}for(0!==S&&(y=S.toString(16)+y);y.length%u!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(a===(0|a)&&a>=2&&a<=36){var s=I[a],v=Z[a];y="";var W=this.clone();for(W.negative=0;!W.isZero();){var K=W.modn(v).toString(a);y=(W=W.idivn(v)).isZero()?K+y:L[s-K.length]+K+y}for(this.isZero()&&(y="0"+y);y.length%u!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}k(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&k(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},x.prototype.toJSON=function(){return this.toString(16)},x.prototype.toBuffer=function(a,u){return k(typeof R<"u"),this.toArrayLike(R,a,u)},x.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)},x.prototype.toArrayLike=function(a,u,y){var g=this.byteLength(),S=y||Math.max(1,g);k(g<=S,"byte array longer than desired length"),k(S>0,"Requested array length <= 0"),this.strip();var M,s,T="le"===u,N=new a(S),v=this.clone();if(T){for(s=0;!v.isZero();s++)M=v.andln(255),v.iushrn(8),N[s]=M;for(;s<S;s++)N[s]=0}else{for(s=0;s<S-g;s++)N[s]=0;for(s=0;!v.isZero();s++)M=v.andln(255),v.iushrn(8),N[S-s-1]=M}return N},x.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var u=a,y=0;return u>=4096&&(y+=13,u>>>=13),u>=64&&(y+=7,u>>>=7),u>=8&&(y+=4,u>>>=4),u>=2&&(y+=2,u>>>=2),y+u},x.prototype._zeroBits=function(a){if(0===a)return 26;var u=a,y=0;return 8191&u||(y+=13,u>>>=13),127&u||(y+=7,u>>>=7),15&u||(y+=4,u>>>=4),3&u||(y+=2,u>>>=2),1&u||y++,y},x.prototype.bitLength=function(){var u=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+u},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var y=this._zeroBits(this.words[u]);if(a+=y,26!==y)break}return a},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},x.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this.strip()},x.prototype.ior=function(a){return k(!(this.negative|a.negative)),this.iuor(a)},x.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},x.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},x.prototype.iuand=function(a){var u;u=this.length>a.length?a:this;for(var y=0;y<u.length;y++)this.words[y]=this.words[y]&a.words[y];return this.length=u.length,this.strip()},x.prototype.iand=function(a){return k(!(this.negative|a.negative)),this.iuand(a)},x.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},x.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},x.prototype.iuxor=function(a){var u,y;this.length>a.length?(u=this,y=a):(u=a,y=this);for(var g=0;g<y.length;g++)this.words[g]=u.words[g]^y.words[g];if(this!==u)for(;g<u.length;g++)this.words[g]=u.words[g];return this.length=u.length,this.strip()},x.prototype.ixor=function(a){return k(!(this.negative|a.negative)),this.iuxor(a)},x.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},x.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},x.prototype.inotn=function(a){k("number"==typeof a&&a>=0);var u=0|Math.ceil(a/26),y=a%26;this._expand(u),y>0&&u--;for(var g=0;g<u;g++)this.words[g]=67108863&~this.words[g];return y>0&&(this.words[g]=~this.words[g]&67108863>>26-y),this.strip()},x.prototype.notn=function(a){return this.clone().inotn(a)},x.prototype.setn=function(a,u){k("number"==typeof a&&a>=0);var y=a/26|0,g=a%26;return this._expand(y+1),this.words[y]=u?this.words[y]|1<<g:this.words[y]&~(1<<g),this.strip()},x.prototype.iadd=function(a){var u,y,g;if(0!==this.negative&&0===a.negative)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();this.length>a.length?(y=this,g=a):(y=a,g=this);for(var S=0,T=0;T<g.length;T++)this.words[T]=67108863&(u=(0|y.words[T])+(0|g.words[T])+S),S=u>>>26;for(;0!==S&&T<y.length;T++)this.words[T]=67108863&(u=(0|y.words[T])+S),S=u>>>26;if(this.length=y.length,0!==S)this.words[this.length]=S,this.length++;else if(y!==this)for(;T<y.length;T++)this.words[T]=y.words[T];return this},x.prototype.add=function(a){var u;return 0!==a.negative&&0===this.negative?(a.negative=0,u=this.sub(a),a.negative^=1,u):0===a.negative&&0!==this.negative?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},x.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var g,S,y=this.cmp(a);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(g=this,S=a):(g=a,S=this);for(var T=0,N=0;N<S.length;N++)T=(u=(0|g.words[N])-(0|S.words[N])+T)>>26,this.words[N]=67108863&u;for(;0!==T&&N<g.length;N++)T=(u=(0|g.words[N])+T)>>26,this.words[N]=67108863&u;if(0===T&&N<g.length&&g!==this)for(;N<g.length;N++)this.words[N]=g.words[N];return this.length=Math.max(this.length,N),g!==this&&(this.negative=1),this.strip()},x.prototype.sub=function(a){return this.clone().isub(a)};var re=function(a,u,y){var M,s,v,g=a.words,S=u.words,T=y.words,N=0,W=0|g[0],K=8191&W,ee=W>>>13,ce=0|g[1],_e=8191&ce,Pe=ce>>>13,$e=0|g[2],Se=8191&$e,be=$e>>>13,Ne=0|g[3],ye=8191&Ne,Te=Ne>>>13,pe=0|g[4],fe=8191&pe,Q=pe>>>13,ie=0|g[5],ue=8191&ie,Ee=ie>>>13,ke=0|g[6],Ue=8191&ke,Le=ke>>>13,_t=0|g[7],Ve=8191&_t,Be=_t>>>13,lt=0|g[8],B=8191&lt,w=lt>>>13,m=0|g[9],U=8191&m,ne=m>>>13,ge=0|S[0],Ae=8191&ge,Qe=ge>>>13,Bt=0|S[1],gt=8191&Bt,It=Bt>>>13,Gt=0|S[2],un=8191&Gt,an=Gt>>>13,sr=0|S[3],Mn=8191&sr,Qt=sr>>>13,qt=0|S[4],Et=8191&qt,ht=qt>>>13,zt=0|S[5],Jt=8191&zt,dn=zt>>>13,hr=0|S[6],vt=8191&hr,xt=hr>>>13,St=0|S[7],Xe=8191&St,nt=St>>>13,Vt=0|S[8],Ot=8191&Vt,sn=Vt>>>13,Hn=0|S[9],bn=8191&Hn,In=Hn>>>13;y.negative=a.negative^u.negative,y.length=19;var Ar=(N+(M=Math.imul(K,Ae))|0)+((8191&(s=(s=Math.imul(K,Qe))+Math.imul(ee,Ae)|0))<<13)|0;N=((v=Math.imul(ee,Qe))+(s>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,M=Math.imul(_e,Ae),s=(s=Math.imul(_e,Qe))+Math.imul(Pe,Ae)|0,v=Math.imul(Pe,Qe);var Jn=(N+(M=M+Math.imul(K,gt)|0)|0)+((8191&(s=(s=s+Math.imul(K,It)|0)+Math.imul(ee,gt)|0))<<13)|0;N=((v=v+Math.imul(ee,It)|0)+(s>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,M=Math.imul(Se,Ae),s=(s=Math.imul(Se,Qe))+Math.imul(be,Ae)|0,v=Math.imul(be,Qe),M=M+Math.imul(_e,gt)|0,s=(s=s+Math.imul(_e,It)|0)+Math.imul(Pe,gt)|0,v=v+Math.imul(Pe,It)|0;var Ln=(N+(M=M+Math.imul(K,un)|0)|0)+((8191&(s=(s=s+Math.imul(K,an)|0)+Math.imul(ee,un)|0))<<13)|0;N=((v=v+Math.imul(ee,an)|0)+(s>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,M=Math.imul(ye,Ae),s=(s=Math.imul(ye,Qe))+Math.imul(Te,Ae)|0,v=Math.imul(Te,Qe),M=M+Math.imul(Se,gt)|0,s=(s=s+Math.imul(Se,It)|0)+Math.imul(be,gt)|0,v=v+Math.imul(be,It)|0,M=M+Math.imul(_e,un)|0,s=(s=s+Math.imul(_e,an)|0)+Math.imul(Pe,un)|0,v=v+Math.imul(Pe,an)|0;var $n=(N+(M=M+Math.imul(K,Mn)|0)|0)+((8191&(s=(s=s+Math.imul(K,Qt)|0)+Math.imul(ee,Mn)|0))<<13)|0;N=((v=v+Math.imul(ee,Qt)|0)+(s>>>13)|0)+($n>>>26)|0,$n&=67108863,M=Math.imul(fe,Ae),s=(s=Math.imul(fe,Qe))+Math.imul(Q,Ae)|0,v=Math.imul(Q,Qe),M=M+Math.imul(ye,gt)|0,s=(s=s+Math.imul(ye,It)|0)+Math.imul(Te,gt)|0,v=v+Math.imul(Te,It)|0,M=M+Math.imul(Se,un)|0,s=(s=s+Math.imul(Se,an)|0)+Math.imul(be,un)|0,v=v+Math.imul(be,an)|0,M=M+Math.imul(_e,Mn)|0,s=(s=s+Math.imul(_e,Qt)|0)+Math.imul(Pe,Mn)|0,v=v+Math.imul(Pe,Qt)|0;var st=(N+(M=M+Math.imul(K,Et)|0)|0)+((8191&(s=(s=s+Math.imul(K,ht)|0)+Math.imul(ee,Et)|0))<<13)|0;N=((v=v+Math.imul(ee,ht)|0)+(s>>>13)|0)+(st>>>26)|0,st&=67108863,M=Math.imul(ue,Ae),s=(s=Math.imul(ue,Qe))+Math.imul(Ee,Ae)|0,v=Math.imul(Ee,Qe),M=M+Math.imul(fe,gt)|0,s=(s=s+Math.imul(fe,It)|0)+Math.imul(Q,gt)|0,v=v+Math.imul(Q,It)|0,M=M+Math.imul(ye,un)|0,s=(s=s+Math.imul(ye,an)|0)+Math.imul(Te,un)|0,v=v+Math.imul(Te,an)|0,M=M+Math.imul(Se,Mn)|0,s=(s=s+Math.imul(Se,Qt)|0)+Math.imul(be,Mn)|0,v=v+Math.imul(be,Qt)|0,M=M+Math.imul(_e,Et)|0,s=(s=s+Math.imul(_e,ht)|0)+Math.imul(Pe,Et)|0,v=v+Math.imul(Pe,ht)|0;var Ge=(N+(M=M+Math.imul(K,Jt)|0)|0)+((8191&(s=(s=s+Math.imul(K,dn)|0)+Math.imul(ee,Jt)|0))<<13)|0;N=((v=v+Math.imul(ee,dn)|0)+(s>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,M=Math.imul(Ue,Ae),s=(s=Math.imul(Ue,Qe))+Math.imul(Le,Ae)|0,v=Math.imul(Le,Qe),M=M+Math.imul(ue,gt)|0,s=(s=s+Math.imul(ue,It)|0)+Math.imul(Ee,gt)|0,v=v+Math.imul(Ee,It)|0,M=M+Math.imul(fe,un)|0,s=(s=s+Math.imul(fe,an)|0)+Math.imul(Q,un)|0,v=v+Math.imul(Q,an)|0,M=M+Math.imul(ye,Mn)|0,s=(s=s+Math.imul(ye,Qt)|0)+Math.imul(Te,Mn)|0,v=v+Math.imul(Te,Qt)|0,M=M+Math.imul(Se,Et)|0,s=(s=s+Math.imul(Se,ht)|0)+Math.imul(be,Et)|0,v=v+Math.imul(be,ht)|0,M=M+Math.imul(_e,Jt)|0,s=(s=s+Math.imul(_e,dn)|0)+Math.imul(Pe,Jt)|0,v=v+Math.imul(Pe,dn)|0;var ct=(N+(M=M+Math.imul(K,vt)|0)|0)+((8191&(s=(s=s+Math.imul(K,xt)|0)+Math.imul(ee,vt)|0))<<13)|0;N=((v=v+Math.imul(ee,xt)|0)+(s>>>13)|0)+(ct>>>26)|0,ct&=67108863,M=Math.imul(Ve,Ae),s=(s=Math.imul(Ve,Qe))+Math.imul(Be,Ae)|0,v=Math.imul(Be,Qe),M=M+Math.imul(Ue,gt)|0,s=(s=s+Math.imul(Ue,It)|0)+Math.imul(Le,gt)|0,v=v+Math.imul(Le,It)|0,M=M+Math.imul(ue,un)|0,s=(s=s+Math.imul(ue,an)|0)+Math.imul(Ee,un)|0,v=v+Math.imul(Ee,an)|0,M=M+Math.imul(fe,Mn)|0,s=(s=s+Math.imul(fe,Qt)|0)+Math.imul(Q,Mn)|0,v=v+Math.imul(Q,Qt)|0,M=M+Math.imul(ye,Et)|0,s=(s=s+Math.imul(ye,ht)|0)+Math.imul(Te,Et)|0,v=v+Math.imul(Te,ht)|0,M=M+Math.imul(Se,Jt)|0,s=(s=s+Math.imul(Se,dn)|0)+Math.imul(be,Jt)|0,v=v+Math.imul(be,dn)|0,M=M+Math.imul(_e,vt)|0,s=(s=s+Math.imul(_e,xt)|0)+Math.imul(Pe,vt)|0,v=v+Math.imul(Pe,xt)|0;var Yt=(N+(M=M+Math.imul(K,Xe)|0)|0)+((8191&(s=(s=s+Math.imul(K,nt)|0)+Math.imul(ee,Xe)|0))<<13)|0;N=((v=v+Math.imul(ee,nt)|0)+(s>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,M=Math.imul(B,Ae),s=(s=Math.imul(B,Qe))+Math.imul(w,Ae)|0,v=Math.imul(w,Qe),M=M+Math.imul(Ve,gt)|0,s=(s=s+Math.imul(Ve,It)|0)+Math.imul(Be,gt)|0,v=v+Math.imul(Be,It)|0,M=M+Math.imul(Ue,un)|0,s=(s=s+Math.imul(Ue,an)|0)+Math.imul(Le,un)|0,v=v+Math.imul(Le,an)|0,M=M+Math.imul(ue,Mn)|0,s=(s=s+Math.imul(ue,Qt)|0)+Math.imul(Ee,Mn)|0,v=v+Math.imul(Ee,Qt)|0,M=M+Math.imul(fe,Et)|0,s=(s=s+Math.imul(fe,ht)|0)+Math.imul(Q,Et)|0,v=v+Math.imul(Q,ht)|0,M=M+Math.imul(ye,Jt)|0,s=(s=s+Math.imul(ye,dn)|0)+Math.imul(Te,Jt)|0,v=v+Math.imul(Te,dn)|0,M=M+Math.imul(Se,vt)|0,s=(s=s+Math.imul(Se,xt)|0)+Math.imul(be,vt)|0,v=v+Math.imul(be,xt)|0,M=M+Math.imul(_e,Xe)|0,s=(s=s+Math.imul(_e,nt)|0)+Math.imul(Pe,Xe)|0,v=v+Math.imul(Pe,nt)|0;var _n=(N+(M=M+Math.imul(K,Ot)|0)|0)+((8191&(s=(s=s+Math.imul(K,sn)|0)+Math.imul(ee,Ot)|0))<<13)|0;N=((v=v+Math.imul(ee,sn)|0)+(s>>>13)|0)+(_n>>>26)|0,_n&=67108863,M=Math.imul(U,Ae),s=(s=Math.imul(U,Qe))+Math.imul(ne,Ae)|0,v=Math.imul(ne,Qe),M=M+Math.imul(B,gt)|0,s=(s=s+Math.imul(B,It)|0)+Math.imul(w,gt)|0,v=v+Math.imul(w,It)|0,M=M+Math.imul(Ve,un)|0,s=(s=s+Math.imul(Ve,an)|0)+Math.imul(Be,un)|0,v=v+Math.imul(Be,an)|0,M=M+Math.imul(Ue,Mn)|0,s=(s=s+Math.imul(Ue,Qt)|0)+Math.imul(Le,Mn)|0,v=v+Math.imul(Le,Qt)|0,M=M+Math.imul(ue,Et)|0,s=(s=s+Math.imul(ue,ht)|0)+Math.imul(Ee,Et)|0,v=v+Math.imul(Ee,ht)|0,M=M+Math.imul(fe,Jt)|0,s=(s=s+Math.imul(fe,dn)|0)+Math.imul(Q,Jt)|0,v=v+Math.imul(Q,dn)|0,M=M+Math.imul(ye,vt)|0,s=(s=s+Math.imul(ye,xt)|0)+Math.imul(Te,vt)|0,v=v+Math.imul(Te,xt)|0,M=M+Math.imul(Se,Xe)|0,s=(s=s+Math.imul(Se,nt)|0)+Math.imul(be,Xe)|0,v=v+Math.imul(be,nt)|0,M=M+Math.imul(_e,Ot)|0,s=(s=s+Math.imul(_e,sn)|0)+Math.imul(Pe,Ot)|0,v=v+Math.imul(Pe,sn)|0;var Wn=(N+(M=M+Math.imul(K,bn)|0)|0)+((8191&(s=(s=s+Math.imul(K,In)|0)+Math.imul(ee,bn)|0))<<13)|0;N=((v=v+Math.imul(ee,In)|0)+(s>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,M=Math.imul(U,gt),s=(s=Math.imul(U,It))+Math.imul(ne,gt)|0,v=Math.imul(ne,It),M=M+Math.imul(B,un)|0,s=(s=s+Math.imul(B,an)|0)+Math.imul(w,un)|0,v=v+Math.imul(w,an)|0,M=M+Math.imul(Ve,Mn)|0,s=(s=s+Math.imul(Ve,Qt)|0)+Math.imul(Be,Mn)|0,v=v+Math.imul(Be,Qt)|0,M=M+Math.imul(Ue,Et)|0,s=(s=s+Math.imul(Ue,ht)|0)+Math.imul(Le,Et)|0,v=v+Math.imul(Le,ht)|0,M=M+Math.imul(ue,Jt)|0,s=(s=s+Math.imul(ue,dn)|0)+Math.imul(Ee,Jt)|0,v=v+Math.imul(Ee,dn)|0,M=M+Math.imul(fe,vt)|0,s=(s=s+Math.imul(fe,xt)|0)+Math.imul(Q,vt)|0,v=v+Math.imul(Q,xt)|0,M=M+Math.imul(ye,Xe)|0,s=(s=s+Math.imul(ye,nt)|0)+Math.imul(Te,Xe)|0,v=v+Math.imul(Te,nt)|0,M=M+Math.imul(Se,Ot)|0,s=(s=s+Math.imul(Se,sn)|0)+Math.imul(be,Ot)|0,v=v+Math.imul(be,sn)|0;var Yn=(N+(M=M+Math.imul(_e,bn)|0)|0)+((8191&(s=(s=s+Math.imul(_e,In)|0)+Math.imul(Pe,bn)|0))<<13)|0;N=((v=v+Math.imul(Pe,In)|0)+(s>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,M=Math.imul(U,un),s=(s=Math.imul(U,an))+Math.imul(ne,un)|0,v=Math.imul(ne,an),M=M+Math.imul(B,Mn)|0,s=(s=s+Math.imul(B,Qt)|0)+Math.imul(w,Mn)|0,v=v+Math.imul(w,Qt)|0,M=M+Math.imul(Ve,Et)|0,s=(s=s+Math.imul(Ve,ht)|0)+Math.imul(Be,Et)|0,v=v+Math.imul(Be,ht)|0,M=M+Math.imul(Ue,Jt)|0,s=(s=s+Math.imul(Ue,dn)|0)+Math.imul(Le,Jt)|0,v=v+Math.imul(Le,dn)|0,M=M+Math.imul(ue,vt)|0,s=(s=s+Math.imul(ue,xt)|0)+Math.imul(Ee,vt)|0,v=v+Math.imul(Ee,xt)|0,M=M+Math.imul(fe,Xe)|0,s=(s=s+Math.imul(fe,nt)|0)+Math.imul(Q,Xe)|0,v=v+Math.imul(Q,nt)|0,M=M+Math.imul(ye,Ot)|0,s=(s=s+Math.imul(ye,sn)|0)+Math.imul(Te,Ot)|0,v=v+Math.imul(Te,sn)|0;var yr=(N+(M=M+Math.imul(Se,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Se,In)|0)+Math.imul(be,bn)|0))<<13)|0;N=((v=v+Math.imul(be,In)|0)+(s>>>13)|0)+(yr>>>26)|0,yr&=67108863,M=Math.imul(U,Mn),s=(s=Math.imul(U,Qt))+Math.imul(ne,Mn)|0,v=Math.imul(ne,Qt),M=M+Math.imul(B,Et)|0,s=(s=s+Math.imul(B,ht)|0)+Math.imul(w,Et)|0,v=v+Math.imul(w,ht)|0,M=M+Math.imul(Ve,Jt)|0,s=(s=s+Math.imul(Ve,dn)|0)+Math.imul(Be,Jt)|0,v=v+Math.imul(Be,dn)|0,M=M+Math.imul(Ue,vt)|0,s=(s=s+Math.imul(Ue,xt)|0)+Math.imul(Le,vt)|0,v=v+Math.imul(Le,xt)|0,M=M+Math.imul(ue,Xe)|0,s=(s=s+Math.imul(ue,nt)|0)+Math.imul(Ee,Xe)|0,v=v+Math.imul(Ee,nt)|0,M=M+Math.imul(fe,Ot)|0,s=(s=s+Math.imul(fe,sn)|0)+Math.imul(Q,Ot)|0,v=v+Math.imul(Q,sn)|0;var Nr=(N+(M=M+Math.imul(ye,bn)|0)|0)+((8191&(s=(s=s+Math.imul(ye,In)|0)+Math.imul(Te,bn)|0))<<13)|0;N=((v=v+Math.imul(Te,In)|0)+(s>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,M=Math.imul(U,Et),s=(s=Math.imul(U,ht))+Math.imul(ne,Et)|0,v=Math.imul(ne,ht),M=M+Math.imul(B,Jt)|0,s=(s=s+Math.imul(B,dn)|0)+Math.imul(w,Jt)|0,v=v+Math.imul(w,dn)|0,M=M+Math.imul(Ve,vt)|0,s=(s=s+Math.imul(Ve,xt)|0)+Math.imul(Be,vt)|0,v=v+Math.imul(Be,xt)|0,M=M+Math.imul(Ue,Xe)|0,s=(s=s+Math.imul(Ue,nt)|0)+Math.imul(Le,Xe)|0,v=v+Math.imul(Le,nt)|0,M=M+Math.imul(ue,Ot)|0,s=(s=s+Math.imul(ue,sn)|0)+Math.imul(Ee,Ot)|0,v=v+Math.imul(Ee,sn)|0;var Ur=(N+(M=M+Math.imul(fe,bn)|0)|0)+((8191&(s=(s=s+Math.imul(fe,In)|0)+Math.imul(Q,bn)|0))<<13)|0;N=((v=v+Math.imul(Q,In)|0)+(s>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,M=Math.imul(U,Jt),s=(s=Math.imul(U,dn))+Math.imul(ne,Jt)|0,v=Math.imul(ne,dn),M=M+Math.imul(B,vt)|0,s=(s=s+Math.imul(B,xt)|0)+Math.imul(w,vt)|0,v=v+Math.imul(w,xt)|0,M=M+Math.imul(Ve,Xe)|0,s=(s=s+Math.imul(Ve,nt)|0)+Math.imul(Be,Xe)|0,v=v+Math.imul(Be,nt)|0,M=M+Math.imul(Ue,Ot)|0,s=(s=s+Math.imul(Ue,sn)|0)+Math.imul(Le,Ot)|0,v=v+Math.imul(Le,sn)|0;var Kr=(N+(M=M+Math.imul(ue,bn)|0)|0)+((8191&(s=(s=s+Math.imul(ue,In)|0)+Math.imul(Ee,bn)|0))<<13)|0;N=((v=v+Math.imul(Ee,In)|0)+(s>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,M=Math.imul(U,vt),s=(s=Math.imul(U,xt))+Math.imul(ne,vt)|0,v=Math.imul(ne,xt),M=M+Math.imul(B,Xe)|0,s=(s=s+Math.imul(B,nt)|0)+Math.imul(w,Xe)|0,v=v+Math.imul(w,nt)|0,M=M+Math.imul(Ve,Ot)|0,s=(s=s+Math.imul(Ve,sn)|0)+Math.imul(Be,Ot)|0,v=v+Math.imul(Be,sn)|0;var Xr=(N+(M=M+Math.imul(Ue,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Ue,In)|0)+Math.imul(Le,bn)|0))<<13)|0;N=((v=v+Math.imul(Le,In)|0)+(s>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,M=Math.imul(U,Xe),s=(s=Math.imul(U,nt))+Math.imul(ne,Xe)|0,v=Math.imul(ne,nt),M=M+Math.imul(B,Ot)|0,s=(s=s+Math.imul(B,sn)|0)+Math.imul(w,Ot)|0,v=v+Math.imul(w,sn)|0;var ri=(N+(M=M+Math.imul(Ve,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Ve,In)|0)+Math.imul(Be,bn)|0))<<13)|0;N=((v=v+Math.imul(Be,In)|0)+(s>>>13)|0)+(ri>>>26)|0,ri&=67108863,M=Math.imul(U,Ot),s=(s=Math.imul(U,sn))+Math.imul(ne,Ot)|0,v=Math.imul(ne,sn);var en=(N+(M=M+Math.imul(B,bn)|0)|0)+((8191&(s=(s=s+Math.imul(B,In)|0)+Math.imul(w,bn)|0))<<13)|0;N=((v=v+Math.imul(w,In)|0)+(s>>>13)|0)+(en>>>26)|0,en&=67108863;var wn=(N+(M=Math.imul(U,bn))|0)+((8191&(s=(s=Math.imul(U,In))+Math.imul(ne,bn)|0))<<13)|0;return N=((v=Math.imul(ne,In))+(s>>>13)|0)+(wn>>>26)|0,wn&=67108863,T[0]=Ar,T[1]=Jn,T[2]=Ln,T[3]=$n,T[4]=st,T[5]=Ge,T[6]=ct,T[7]=Yt,T[8]=_n,T[9]=Wn,T[10]=Yn,T[11]=yr,T[12]=Nr,T[13]=Ur,T[14]=Kr,T[15]=Xr,T[16]=ri,T[17]=en,T[18]=wn,0!==N&&(T[19]=N,y.length++),y};function J(C,a,u){return(new Y).mulp(C,a,u)}function Y(C,a){this.x=C,this.y=a}Math.imul||(re=G),x.prototype.mulTo=function(a,u){var y,g=this.length+a.length;return y=10===this.length&&10===a.length?re(this,a,u):g<63?G(this,a,u):g<1024?function te(C,a,u){u.negative=a.negative^C.negative,u.length=C.length+a.length;for(var y=0,g=0,S=0;S<u.length-1;S++){var T=g;g=0;for(var N=67108863&y,M=Math.min(S,a.length-1),s=Math.max(0,S-C.length+1);s<=M;s++){var ee=(0|C.words[S-s])*(0|a.words[s]),ce=67108863&ee;N=67108863&(ce=ce+N|0),g+=(T=(T=T+(ee/67108864|0)|0)+(ce>>>26)|0)>>>26,T&=67108863}u.words[S]=N,y=T,T=g}return 0!==y?u.words[S]=y:u.length--,u.strip()}(this,a,u):J(this,a,u),y},Y.prototype.makeRBT=function(a){for(var u=new Array(a),y=x.prototype._countBits(a)-1,g=0;g<a;g++)u[g]=this.revBin(g,y,a);return u},Y.prototype.revBin=function(a,u,y){if(0===a||a===y-1)return a;for(var g=0,S=0;S<u;S++)g|=(1&a)<<u-S-1,a>>=1;return g},Y.prototype.permute=function(a,u,y,g,S,T){for(var N=0;N<T;N++)g[N]=u[a[N]],S[N]=y[a[N]]},Y.prototype.transform=function(a,u,y,g,S,T){this.permute(T,a,u,y,g,S);for(var N=1;N<S;N<<=1)for(var M=N<<1,s=Math.cos(2*Math.PI/M),v=Math.sin(2*Math.PI/M),W=0;W<S;W+=M)for(var K=s,ee=v,ce=0;ce<N;ce++){var _e=y[W+ce],Pe=g[W+ce],$e=y[W+ce+N],Se=g[W+ce+N],be=K*$e-ee*Se;Se=K*Se+ee*$e,y[W+ce]=_e+($e=be),g[W+ce]=Pe+Se,y[W+ce+N]=_e-$e,g[W+ce+N]=Pe-Se,ce!==M&&(be=s*K-v*ee,ee=s*ee+v*K,K=be)}},Y.prototype.guessLen13b=function(a,u){var y=1|Math.max(u,a),g=1&y,S=0;for(y=y/2|0;y;y>>>=1)S++;return 1<<S+1+g},Y.prototype.conjugate=function(a,u,y){if(!(y<=1))for(var g=0;g<y/2;g++){var S=a[g];a[g]=a[y-g-1],a[y-g-1]=S,S=u[g],u[g]=-u[y-g-1],u[y-g-1]=-S}},Y.prototype.normalize13b=function(a,u){for(var y=0,g=0;g<u/2;g++){var S=8192*Math.round(a[2*g+1]/u)+Math.round(a[2*g]/u)+y;a[g]=67108863&S,y=S<67108864?0:S/67108864|0}return a},Y.prototype.convert13b=function(a,u,y,g){for(var S=0,T=0;T<u;T++)y[2*T]=8191&(S+=0|a[T]),y[2*T+1]=8191&(S>>>=13),S>>>=13;for(T=2*u;T<g;++T)y[T]=0;k(0===S),k(!(-8192&S))},Y.prototype.stub=function(a){for(var u=new Array(a),y=0;y<a;y++)u[y]=0;return u},Y.prototype.mulp=function(a,u,y){var g=2*this.guessLen13b(a.length,u.length),S=this.makeRBT(g),T=this.stub(g),N=new Array(g),M=new Array(g),s=new Array(g),v=new Array(g),W=new Array(g),K=new Array(g),ee=y.words;ee.length=g,this.convert13b(a.words,a.length,N,g),this.convert13b(u.words,u.length,v,g),this.transform(N,T,M,s,g,S),this.transform(v,T,W,K,g,S);for(var ce=0;ce<g;ce++){var _e=M[ce]*W[ce]-s[ce]*K[ce];s[ce]=M[ce]*K[ce]+s[ce]*W[ce],M[ce]=_e}return this.conjugate(M,s,g),this.transform(M,s,ee,T,g,S),this.conjugate(ee,T,g),this.normalize13b(ee,g),y.negative=a.negative^u.negative,y.length=a.length+u.length,y.strip()},x.prototype.mul=function(a){var u=new x(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},x.prototype.mulf=function(a){var u=new x(null);return u.words=new Array(this.length+a.length),J(this,a,u)},x.prototype.imul=function(a){return this.clone().mulTo(a,this)},x.prototype.imuln=function(a){k("number"==typeof a),k(a<67108864);for(var u=0,y=0;y<this.length;y++){var g=(0|this.words[y])*a,S=(67108863&g)+(67108863&u);u>>=26,u+=g/67108864|0,u+=S>>>26,this.words[y]=67108863&S}return 0!==u&&(this.words[y]=u,this.length++),this},x.prototype.muln=function(a){return this.clone().imuln(a)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(a){var u=function j(C){for(var a=new Array(C.bitLength()),u=0;u<a.length;u++){var g=u%26;a[u]=(C.words[u/26|0]&1<<g)>>>g}return a}(a);if(0===u.length)return new x(1);for(var y=this,g=0;g<u.length&&0===u[g];g++,y=y.sqr());if(++g<u.length)for(var S=y.sqr();g<u.length;g++,S=S.sqr())0!==u[g]&&(y=y.mul(S));return y},x.prototype.iushln=function(a){k("number"==typeof a&&a>=0);var S,u=a%26,y=(a-u)/26,g=67108863>>>26-u<<26-u;if(0!==u){var T=0;for(S=0;S<this.length;S++){var N=this.words[S]&g;this.words[S]=(0|this.words[S])-N<<u|T,T=N>>>26-u}T&&(this.words[S]=T,this.length++)}if(0!==y){for(S=this.length-1;S>=0;S--)this.words[S+y]=this.words[S];for(S=0;S<y;S++)this.words[S]=0;this.length+=y}return this.strip()},x.prototype.ishln=function(a){return k(0===this.negative),this.iushln(a)},x.prototype.iushrn=function(a,u,y){var g;k("number"==typeof a&&a>=0),g=u?(u-u%26)/26:0;var S=a%26,T=Math.min((a-S)/26,this.length),N=67108863^67108863>>>S<<S,M=y;if(g-=T,g=Math.max(0,g),M){for(var s=0;s<T;s++)M.words[s]=this.words[s];M.length=T}if(0!==T)if(this.length>T)for(this.length-=T,s=0;s<this.length;s++)this.words[s]=this.words[s+T];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=g);s--){var W=0|this.words[s];this.words[s]=v<<26-S|W>>>S,v=W&N}return M&&0!==v&&(M.words[M.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},x.prototype.ishrn=function(a,u,y){return k(0===this.negative),this.iushrn(a,u,y)},x.prototype.shln=function(a){return this.clone().ishln(a)},x.prototype.ushln=function(a){return this.clone().iushln(a)},x.prototype.shrn=function(a){return this.clone().ishrn(a)},x.prototype.ushrn=function(a){return this.clone().iushrn(a)},x.prototype.testn=function(a){k("number"==typeof a&&a>=0);var u=a%26,y=(a-u)/26;return!(this.length<=y||!(this.words[y]&1<<u))},x.prototype.imaskn=function(a){k("number"==typeof a&&a>=0);var u=a%26,y=(a-u)/26;return k(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==u&&y++,this.length=Math.min(y,this.length),0!==u&&(this.words[this.length-1]&=67108863^67108863>>>u<<u),this.strip())},x.prototype.maskn=function(a){return this.clone().imaskn(a)},x.prototype.iaddn=function(a){return k("number"==typeof a),k(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},x.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},x.prototype.isubn=function(a){if(k("number"==typeof a),k(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},x.prototype.addn=function(a){return this.clone().iaddn(a)},x.prototype.subn=function(a){return this.clone().isubn(a)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(a,u,y){var S;this._expand(a.length+y);var T,N=0;for(S=0;S<a.length;S++){T=(0|this.words[S+y])+N;var M=(0|a.words[S])*u;N=((T-=67108863&M)>>26)-(M/67108864|0),this.words[S+y]=67108863&T}for(;S<this.length-y;S++)N=(T=(0|this.words[S+y])+N)>>26,this.words[S+y]=67108863&T;if(0===N)return this.strip();for(k(-1===N),N=0,S=0;S<this.length;S++)N=(T=-(0|this.words[S])+N)>>26,this.words[S]=67108863&T;return this.negative=1,this.strip()},x.prototype._wordDiv=function(a,u){var y,g=this.clone(),S=a,T=0|S.words[S.length-1];0!=(y=26-this._countBits(T))&&(S=S.ushln(y),g.iushln(y),T=0|S.words[S.length-1]);var s,M=g.length-S.length;if("mod"!==u){(s=new x(null)).length=M+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var W=g.clone()._ishlnsubmul(S,1,M);0===W.negative&&(g=W,s&&(s.words[M]=1));for(var K=M-1;K>=0;K--){var ee=67108864*(0|g.words[S.length+K])+(0|g.words[S.length+K-1]);for(ee=Math.min(ee/T|0,67108863),g._ishlnsubmul(S,ee,K);0!==g.negative;)ee--,g.negative=0,g._ishlnsubmul(S,1,K),g.isZero()||(g.negative^=1);s&&(s.words[K]=ee)}return s&&s.strip(),g.strip(),"div"!==u&&0!==y&&g.iushrn(y),{div:s||null,mod:g}},x.prototype.divmod=function(a,u,y){return k(!a.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===a.negative?(T=this.neg().divmod(a,u),"mod"!==u&&(g=T.div.neg()),"div"!==u&&(S=T.mod.neg(),y&&0!==S.negative&&S.iadd(a)),{div:g,mod:S}):0===this.negative&&0!==a.negative?(T=this.divmod(a.neg(),u),"mod"!==u&&(g=T.div.neg()),{div:g,mod:T.mod}):this.negative&a.negative?(T=this.neg().divmod(a.neg(),u),"div"!==u&&(S=T.mod.neg(),y&&0!==S.negative&&S.isub(a)),{div:T.div,mod:S}):a.length>this.length||this.cmp(a)<0?{div:new x(0),mod:this}:1===a.length?"div"===u?{div:this.divn(a.words[0]),mod:null}:"mod"===u?{div:null,mod:new x(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new x(this.modn(a.words[0]))}:this._wordDiv(a,u);var g,S,T},x.prototype.div=function(a){return this.divmod(a,"div",!1).div},x.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},x.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},x.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var y=0!==u.div.negative?u.mod.isub(a):u.mod,g=a.ushrn(1),S=a.andln(1),T=y.cmp(g);return T<0||1===S&&0===T?u.div:0!==u.div.negative?u.div.isubn(1):u.div.iaddn(1)},x.prototype.modn=function(a){k(a<=67108863);for(var u=(1<<26)%a,y=0,g=this.length-1;g>=0;g--)y=(u*y+(0|this.words[g]))%a;return y},x.prototype.idivn=function(a){k(a<=67108863);for(var u=0,y=this.length-1;y>=0;y--){var g=(0|this.words[y])+67108864*u;this.words[y]=g/a|0,u=g%a}return this.strip()},x.prototype.divn=function(a){return this.clone().idivn(a)},x.prototype.egcd=function(a){k(0===a.negative),k(!a.isZero());var u=this,y=a.clone();u=0!==u.negative?u.umod(a):u.clone();for(var g=new x(1),S=new x(0),T=new x(0),N=new x(1),M=0;u.isEven()&&y.isEven();)u.iushrn(1),y.iushrn(1),++M;for(var s=y.clone(),v=u.clone();!u.isZero();){for(var W=0,K=1;!(u.words[0]&K)&&W<26;++W,K<<=1);if(W>0)for(u.iushrn(W);W-- >0;)(g.isOdd()||S.isOdd())&&(g.iadd(s),S.isub(v)),g.iushrn(1),S.iushrn(1);for(var ee=0,ce=1;!(y.words[0]&ce)&&ee<26;++ee,ce<<=1);if(ee>0)for(y.iushrn(ee);ee-- >0;)(T.isOdd()||N.isOdd())&&(T.iadd(s),N.isub(v)),T.iushrn(1),N.iushrn(1);u.cmp(y)>=0?(u.isub(y),g.isub(T),S.isub(N)):(y.isub(u),T.isub(g),N.isub(S))}return{a:T,b:N,gcd:y.iushln(M)}},x.prototype._invmp=function(a){k(0===a.negative),k(!a.isZero());var W,u=this,y=a.clone();u=0!==u.negative?u.umod(a):u.clone();for(var g=new x(1),S=new x(0),T=y.clone();u.cmpn(1)>0&&y.cmpn(1)>0;){for(var N=0,M=1;!(u.words[0]&M)&&N<26;++N,M<<=1);if(N>0)for(u.iushrn(N);N-- >0;)g.isOdd()&&g.iadd(T),g.iushrn(1);for(var s=0,v=1;!(y.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(y.iushrn(s);s-- >0;)S.isOdd()&&S.iadd(T),S.iushrn(1);u.cmp(y)>=0?(u.isub(y),g.isub(S)):(y.isub(u),S.isub(g))}return(W=0===u.cmpn(1)?g:S).cmpn(0)<0&&W.iadd(a),W},x.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),y=a.clone();u.negative=0,y.negative=0;for(var g=0;u.isEven()&&y.isEven();g++)u.iushrn(1),y.iushrn(1);for(;;){for(;u.isEven();)u.iushrn(1);for(;y.isEven();)y.iushrn(1);var S=u.cmp(y);if(S<0){var T=u;u=y,y=T}else if(0===S||0===y.cmpn(1))break;u.isub(y)}return y.iushln(g)},x.prototype.invm=function(a){return this.egcd(a).a.umod(a)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(a){return this.words[0]&a},x.prototype.bincn=function(a){k("number"==typeof a);var u=a%26,y=(a-u)/26,g=1<<u;if(this.length<=y)return this._expand(y+1),this.words[y]|=g,this;for(var S=g,T=y;0!==S&&T<this.length;T++){var N=0|this.words[T];S=(N+=S)>>>26,this.words[T]=N&=67108863}return 0!==S&&(this.words[T]=S,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(a){var y,u=a<0;if(0!==this.negative&&!u)return-1;if(0===this.negative&&u)return 1;if(this.strip(),this.length>1)y=1;else{u&&(a=-a),k(a<=67108863,"Number is too big");var g=0|this.words[0];y=g===a?0:g<a?-1:1}return 0!==this.negative?0|-y:y},x.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var u=this.ucmp(a);return 0!==this.negative?0|-u:u},x.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,y=this.length-1;y>=0;y--){var g=0|this.words[y],S=0|a.words[y];if(g!==S){g<S?u=-1:g>S&&(u=1);break}}return u},x.prototype.gtn=function(a){return 1===this.cmpn(a)},x.prototype.gt=function(a){return 1===this.cmp(a)},x.prototype.gten=function(a){return this.cmpn(a)>=0},x.prototype.gte=function(a){return this.cmp(a)>=0},x.prototype.ltn=function(a){return-1===this.cmpn(a)},x.prototype.lt=function(a){return-1===this.cmp(a)},x.prototype.lten=function(a){return this.cmpn(a)<=0},x.prototype.lte=function(a){return this.cmp(a)<=0},x.prototype.eqn=function(a){return 0===this.cmpn(a)},x.prototype.eq=function(a){return 0===this.cmp(a)},x.red=function(a){return new xe(a)},x.prototype.toRed=function(a){return k(!this.red,"Already a number in reduction context"),k(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},x.prototype.fromRed=function(){return k(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(a){return this.red=a,this},x.prototype.forceRed=function(a){return k(!this.red,"Already a number in reduction context"),this._forceRed(a)},x.prototype.redAdd=function(a){return k(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},x.prototype.redIAdd=function(a){return k(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},x.prototype.redSub=function(a){return k(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},x.prototype.redISub=function(a){return k(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},x.prototype.redShl=function(a){return k(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},x.prototype.redMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},x.prototype.redIMul=function(a){return k(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},x.prototype.redSqr=function(){return k(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return k(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return k(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return k(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return k(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(a){return k(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var oe={k256:null,p224:null,p192:null,p25519:null};function ae(C,a){this.name=C,this.p=new x(a,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function se(){ae.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function de(){ae.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function le(){ae.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function we(){ae.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function xe(C){if("string"==typeof C){var a=x._prime(C);this.m=a.p,this.prime=a}else k(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Ce(C){xe.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ae.prototype._tmp=function(){var a=new x(null);return a.words=new Array(Math.ceil(this.n/13)),a},ae.prototype.ireduce=function(a){var y,u=a;do{this.split(u,this.tmp),y=(u=(u=this.imulK(u)).iadd(this.tmp)).bitLength()}while(y>this.n);var g=y<this.n?-1:u.ucmp(this.p);return 0===g?(u.words[0]=0,u.length=1):g>0?u.isub(this.p):void 0!==u.strip?u.strip():u._strip(),u},ae.prototype.split=function(a,u){a.iushrn(this.n,0,u)},ae.prototype.imulK=function(a){return a.imul(this.k)},H(se,ae),se.prototype.split=function(a,u){for(var y=4194303,g=Math.min(a.length,9),S=0;S<g;S++)u.words[S]=a.words[S];if(u.length=g,a.length<=9)return a.words[0]=0,void(a.length=1);var T=a.words[9];for(u.words[u.length++]=T&y,S=10;S<a.length;S++){var N=0|a.words[S];a.words[S-10]=(N&y)<<4|T>>>22,T=N}a.words[S-10]=T>>>=22,a.length-=0===T&&a.length>10?10:9},se.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,y=0;y<a.length;y++){var g=0|a.words[y];a.words[y]=67108863&(u+=977*g),u=64*g+(u/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},H(de,ae),H(le,ae),H(we,ae),we.prototype.imulK=function(a){for(var u=0,y=0;y<a.length;y++){var g=19*(0|a.words[y])+u,S=67108863&g;g>>>=26,a.words[y]=S,u=g}return 0!==u&&(a.words[a.length++]=u),a},x._prime=function(a){if(oe[a])return oe[a];var u;if("k256"===a)u=new se;else if("p224"===a)u=new de;else if("p192"===a)u=new le;else{if("p25519"!==a)throw new Error("Unknown prime "+a);u=new we}return oe[a]=u,u},xe.prototype._verify1=function(a){k(0===a.negative,"red works only with positives"),k(a.red,"red works only with red numbers")},xe.prototype._verify2=function(a,u){k(!(a.negative|u.negative),"red works only with positives"),k(a.red&&a.red===u.red,"red works only with red numbers")},xe.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},xe.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},xe.prototype.add=function(a,u){this._verify2(a,u);var y=a.add(u);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},xe.prototype.iadd=function(a,u){this._verify2(a,u);var y=a.iadd(u);return y.cmp(this.m)>=0&&y.isub(this.m),y},xe.prototype.sub=function(a,u){this._verify2(a,u);var y=a.sub(u);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},xe.prototype.isub=function(a,u){this._verify2(a,u);var y=a.isub(u);return y.cmpn(0)<0&&y.iadd(this.m),y},xe.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},xe.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},xe.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},xe.prototype.isqr=function(a){return this.imul(a,a.clone())},xe.prototype.sqr=function(a){return this.mul(a,a)},xe.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(k(u%2==1),3===u){var y=this.m.add(new x(1)).iushrn(2);return this.pow(a,y)}for(var g=this.m.subn(1),S=0;!g.isZero()&&0===g.andln(1);)S++,g.iushrn(1);k(!g.isZero());var T=new x(1).toRed(this),N=T.redNeg(),M=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new x(2*s*s).toRed(this);0!==this.pow(s,M).cmp(N);)s.redIAdd(N);for(var v=this.pow(s,g),W=this.pow(a,g.addn(1).iushrn(1)),K=this.pow(a,g),ee=S;0!==K.cmp(T);){for(var ce=K,_e=0;0!==ce.cmp(T);_e++)ce=ce.redSqr();k(_e<ee);var Pe=this.pow(v,new x(1).iushln(ee-_e-1));W=W.redMul(Pe),v=Pe.redSqr(),K=K.redMul(v),ee=_e}return W},xe.prototype.invm=function(a){var u=a._invmp(this.m);return 0!==u.negative?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},xe.prototype.pow=function(a,u){if(u.isZero())return new x(1).toRed(this);if(0===u.cmpn(1))return a.clone();var g=new Array(16);g[0]=new x(1).toRed(this),g[1]=a;for(var S=2;S<g.length;S++)g[S]=this.mul(g[S-1],a);var T=g[0],N=0,M=0,s=u.bitLength()%26;for(0===s&&(s=26),S=u.length-1;S>=0;S--){for(var v=u.words[S],W=s-1;W>=0;W--){var K=v>>W&1;T!==g[0]&&(T=this.sqr(T)),0!==K||0!==N?(N<<=1,N|=K,(4==++M||0===S&&0===W)&&(T=this.mul(T,g[N]),M=0,N=0)):M=0}s=26}return T},xe.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},xe.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},x.mont=function(a){return new Ce(a)},H(Ce,xe),Ce.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},Ce.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},Ce.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var y=a.imul(u),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(g).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},Ce.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new x(0)._forceRed(this);var y=a.mul(u),g=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(g).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},Ce.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(Fe=_.nmd(Fe),this)},98613:(Fe,z,_)=>{var p=_(65667),E=_(30715),k=_(37196),H=_(16508),x=_(14105),R=_(67211),A=_(10568),O=_(27054).Buffer;Fe.exports=function(j,G,re){var te;te=j.padding?j.padding:re?1:4;var oe,J=p(j),Y=J.modulus.byteLength();if(G.length>Y||new H(G).cmp(J.modulus)>=0)throw new Error("decryption error");oe=re?A(new H(G),J):x(G,J);var ae=O.alloc(Y-oe.length);if(oe=O.concat([ae,oe],Y),4===te)return function F(Z,j){var G=Z.modulus.byteLength(),re=R("sha1").update(O.alloc(0)).digest(),te=re.length;if(0!==j[0])throw new Error("decryption error");var J=j.slice(1,te+1),Y=j.slice(te+1),oe=k(J,E(Y,te)),ae=k(Y,E(oe,G-te-1));if(function I(Z,j){Z=O.from(Z),j=O.from(j);var G=0,re=Z.length;Z.length!==j.length&&(G++,re=Math.min(Z.length,j.length));for(var te=-1;++te<re;)G+=Z[te]^j[te];return G}(re,ae.slice(0,te)))throw new Error("decryption error");for(var se=te;0===ae[se];)se++;if(1!==ae[se++])throw new Error("decryption error");return ae.slice(se)}(J,oe);if(1===te)return function L(Z,j,G){for(var re=j.slice(0,2),te=2,J=0;0!==j[te++];)if(te>=j.length){J++;break}var Y=j.slice(2,te-1);if(("0002"!==re.toString("hex")&&!G||"0001"!==re.toString("hex")&&G)&&J++,Y.length<8&&J++,J)throw new Error("decryption error");return j.slice(te)}(0,oe,re);if(3===te)return oe;throw new Error("unknown padding")}},87267:(Fe,z,_)=>{var p=_(65667),E=_(3342),k=_(67211),H=_(30715),x=_(37196),R=_(16508),A=_(10568),O=_(14105),F=_(27054).Buffer;Fe.exports=function(G,re,te){var J;J=G.padding?G.padding:te?1:4;var oe,Y=p(G);if(4===J)oe=function L(j,G){var re=j.modulus.byteLength(),te=G.length,J=k("sha1").update(F.alloc(0)).digest(),Y=J.length,oe=2*Y;if(te>re-oe-2)throw new Error("message too long");var ae=F.alloc(re-te-oe-2),se=re-Y-1,de=E(Y),le=x(F.concat([J,ae,F.alloc(1,1),G],se),H(de,se)),we=x(de,H(le,Y));return new R(F.concat([F.alloc(1),we,le],re))}(Y,re);else if(1===J)oe=function I(j,G,re){var Y,te=G.length,J=j.modulus.byteLength();if(te>J-11)throw new Error("message too long");return Y=re?F.alloc(J-te-3,255):function Z(j){for(var Y,G=F.allocUnsafe(j),re=0,te=E(2*j),J=0;re<j;)J===te.length&&(te=E(2*j),J=0),(Y=te[J++])&&(G[re++]=Y);return G}(J-te-3),new R(F.concat([F.from([0,re?1:2]),Y,F.alloc(1),G],J))}(Y,re,te);else{if(3!==J)throw new Error("unknown padding");if((oe=new R(re)).cmp(Y.modulus)>=0)throw new Error("data too long for modulus")}return te?O(oe,Y):A(oe,Y)}},10568:(Fe,z,_)=>{var p=_(16508),E=_(27054).Buffer;Fe.exports=function k(H,x){return E.from(H.toRed(p.mont(x.modulus)).redPow(new p(x.publicExponent)).fromRed().toArray())}},37196:Fe=>{Fe.exports=function(_,p){for(var E=_.length,k=-1;++k<E;)_[k]^=p[k];return _}},24515:Fe=>{let z;Fe.exports="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window<"u"?window:globalThis):_=>(z||(z=Promise.resolve())).then(_).catch(p=>setTimeout(()=>{throw p},0))},3342:(Fe,z,_)=>{"use strict";var p=_(40573),E=65536,x=_(27054).Buffer,R=globalThis.crypto||globalThis.msCrypto;Fe.exports=R&&R.getRandomValues?function A(O,F){if(O>4294967295)throw new RangeError("requested too many random bytes");var L=x.allocUnsafe(O);if(O>0)if(O>E)for(var I=0;I<O;I+=E)R.getRandomValues(L.slice(I,I+E));else R.getRandomValues(L);return"function"==typeof F?p.nextTick(function(){F(null,L)}):L}:function H(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},9682:(Fe,z,_)=>{"use strict";var p=_(40573);function E(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var k=_(27054),H=_(3342),x=k.Buffer,R=k.kMaxLength,A=globalThis.crypto||globalThis.msCrypto,O=Math.pow(2,32)-1;function F(G,re){if("number"!=typeof G||G!=G)throw new TypeError("offset must be a number");if(G>O||G<0)throw new TypeError("offset must be a uint32");if(G>R||G>re)throw new RangeError("offset out of range")}function L(G,re,te){if("number"!=typeof G||G!=G)throw new TypeError("size must be a number");if(G>O||G<0)throw new TypeError("size must be a uint32");if(G+re>te||G>R)throw new RangeError("buffer too small")}function Z(G,re,te,J){if(p.browser){var oe=new Uint8Array(G.buffer,re,te);return A.getRandomValues(oe),J?void p.nextTick(function(){J(null,G)}):G}if(!J)return H(te).copy(G,re),G;H(te,function(se,de){if(se)return J(se);de.copy(G,re),J(null,G)})}A&&A.getRandomValues||!p.browser?(z.randomFill=function I(G,re,te,J){if(!(x.isBuffer(G)||G instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof re)J=re,re=0,te=G.length;else if("function"==typeof te)J=te,te=G.length-re;else if("function"!=typeof J)throw new TypeError('"cb" argument must be a function');return F(re,G.length),L(te,re,G.length),Z(G,re,te,J)},z.randomFillSync=function j(G,re,te){if(typeof re>"u"&&(re=0),!(x.isBuffer(G)||G instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return F(re,G.length),void 0===te&&(te=G.length-re),L(te,re,G.length),Z(G,re,te)}):(z.randomFill=E,z.randomFillSync=E)},26113:Fe=>{"use strict";var _={};function p(R,A,O){O||(O=Error);var L=function(I){function Z(j,G,re){return I.call(this,function F(I,Z,j){return"string"==typeof A?A:A(I,Z,j)}(j,G,re))||this}return function z(R,A){R.prototype=Object.create(A.prototype),R.prototype.constructor=R,R.__proto__=A}(Z,I),Z}(O);L.prototype.name=O.name,L.prototype.code=R,_[R]=L}function E(R,A){if(Array.isArray(R)){var O=R.length;return R=R.map(function(F){return String(F)}),O>2?"one of ".concat(A," ").concat(R.slice(0,O-1).join(", "),", or ")+R[O-1]:2===O?"one of ".concat(A," ").concat(R[0]," or ").concat(R[1]):"of ".concat(A," ").concat(R[0])}return"of ".concat(A," ").concat(String(R))}p("ERR_INVALID_OPT_VALUE",function(R,A){return'The value "'+A+'" is invalid for option "'+R+'"'},TypeError),p("ERR_INVALID_ARG_TYPE",function(R,A,O){var F,L;if("string"==typeof A&&function k(R,A,O){return R.substr(!O||O<0?0:+O,A.length)===A}(A,"not ")?(F="must not be",A=A.replace(/^not /,"")):F="must be",function H(R,A,O){return(void 0===O||O>R.length)&&(O=R.length),R.substring(O-A.length,O)===A}(R," argument"))L="The ".concat(R," ").concat(F," ").concat(E(A,"type"));else{var I=function x(R,A,O){return"number"!=typeof O&&(O=0),!(O+A.length>R.length)&&-1!==R.indexOf(A,O)}(R,".")?"property":"argument";L='The "'.concat(R,'" ').concat(I," ").concat(F," ").concat(E(A,"type"))}return L+". Received type ".concat(typeof O)},TypeError),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),p("ERR_METHOD_NOT_IMPLEMENTED",function(R){return"The "+R+" method is not implemented"}),p("ERR_STREAM_PREMATURE_CLOSE","Premature close"),p("ERR_STREAM_DESTROYED",function(R){return"Cannot call "+R+" after a stream was destroyed"}),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),p("ERR_STREAM_WRITE_AFTER_END","write after end"),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_UNKNOWN_ENCODING",function(R){return"Unknown encoding: "+R},TypeError),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Fe.exports.F=_},74075:(Fe,z,_)=>{"use strict";var p=_(40573),E=Object.keys||function(I){var Z=[];for(var j in I)Z.push(j);return Z};Fe.exports=O;var k=_(19609),H=_(47849);_(71993)(O,k);for(var x=E(H.prototype),R=0;R<x.length;R++){var A=x[R];O.prototype[A]||(O.prototype[A]=H.prototype[A])}function O(I){if(!(this instanceof O))return new O(I);k.call(this,I),H.call(this,I),this.allowHalfOpen=!0,I&&(!1===I.readable&&(this.readable=!1),!1===I.writable&&(this.writable=!1),!1===I.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",F)))}function F(){this._writableState.ended||p.nextTick(L,this)}function L(I){I.end()}Object.defineProperty(O.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(O.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(O.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(Z){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=Z,this._writableState.destroyed=Z)}})},18823:(Fe,z,_)=>{"use strict";Fe.exports=E;var p=_(2909);function E(k){if(!(this instanceof E))return new E(k);p.call(this,k)}_(71993)(E,p),E.prototype._transform=function(k,H,x){x(null,k)}},19609:(Fe,z,_)=>{"use strict";var E,p=_(40573);Fe.exports=a,a.ReadableState=C,_(44356);var I,H=function(fe,Q){return fe.listeners(Q).length},x=_(18342),R=_(83838).Buffer,A=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},L=_(79838);I=L&&L.debuglog?L.debuglog("stream"):function(){};var se,de,le,Z=_(19588),j=_(21509),re=_(42934).getHighWaterMark,te=_(26113).F,J=te.ERR_INVALID_ARG_TYPE,Y=te.ERR_STREAM_PUSH_AFTER_EOF,oe=te.ERR_METHOD_NOT_IMPLEMENTED,ae=te.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;_(71993)(a,x);var we=j.errorOrDestroy,xe=["error","close","destroy","pause","resume"];function C(pe,fe,Q){E=E||_(74075),"boolean"!=typeof Q&&(Q=fe instanceof E),this.objectMode=!!(pe=pe||{}).objectMode,Q&&(this.objectMode=this.objectMode||!!pe.readableObjectMode),this.highWaterMark=re(this,pe,"readableHighWaterMark",Q),this.buffer=new Z,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==pe.emitClose,this.autoDestroy=!!pe.autoDestroy,this.destroyed=!1,this.defaultEncoding=pe.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,pe.encoding&&(se||(se=_(78454).StringDecoder),this.decoder=new se(pe.encoding),this.encoding=pe.encoding)}function a(pe){if(E=E||_(74075),!(this instanceof a))return new a(pe);this._readableState=new C(pe,this,this instanceof E),this.readable=!0,pe&&("function"==typeof pe.read&&(this._read=pe.read),"function"==typeof pe.destroy&&(this._destroy=pe.destroy)),x.call(this)}function u(pe,fe,Q,ie,ue){I("readableAddChunk",fe);var ke,Ee=pe._readableState;if(null===fe)Ee.reading=!1,function M(pe,fe){if(I("onEofChunk"),!fe.ended){if(fe.decoder){var Q=fe.decoder.end();Q&&Q.length&&(fe.buffer.push(Q),fe.length+=fe.objectMode?1:Q.length)}fe.ended=!0,fe.sync?s(pe):(fe.needReadable=!1,fe.emittedReadable||(fe.emittedReadable=!0,v(pe)))}}(pe,Ee);else if(ue||(ke=function g(pe,fe){var Q;return!function F(pe){return R.isBuffer(pe)||pe instanceof A}(fe)&&"string"!=typeof fe&&void 0!==fe&&!pe.objectMode&&(Q=new J("chunk",["string","Buffer","Uint8Array"],fe)),Q}(Ee,fe)),ke)we(pe,ke);else if(Ee.objectMode||fe&&fe.length>0)if("string"!=typeof fe&&!Ee.objectMode&&Object.getPrototypeOf(fe)!==R.prototype&&(fe=function O(pe){return R.from(pe)}(fe)),ie)Ee.endEmitted?we(pe,new ae):y(pe,Ee,fe,!0);else if(Ee.ended)we(pe,new Y);else{if(Ee.destroyed)return!1;Ee.reading=!1,Ee.decoder&&!Q?(fe=Ee.decoder.write(fe),Ee.objectMode||0!==fe.length?y(pe,Ee,fe,!1):W(pe,Ee)):y(pe,Ee,fe,!1)}else ie||(Ee.reading=!1,W(pe,Ee));return!Ee.ended&&(Ee.length<Ee.highWaterMark||0===Ee.length)}function y(pe,fe,Q,ie){fe.flowing&&0===fe.length&&!fe.sync?(fe.awaitDrain=0,pe.emit("data",Q)):(fe.length+=fe.objectMode?1:Q.length,ie?fe.buffer.unshift(Q):fe.buffer.push(Q),fe.needReadable&&s(pe)),W(pe,fe)}Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(fe){this._readableState&&(this._readableState.destroyed=fe)}}),a.prototype.destroy=j.destroy,a.prototype._undestroy=j.undestroy,a.prototype._destroy=function(pe,fe){fe(pe)},a.prototype.push=function(pe,fe){var ie,Q=this._readableState;return Q.objectMode?ie=!0:"string"==typeof pe&&((fe=fe||Q.defaultEncoding)!==Q.encoding&&(pe=R.from(pe,fe),fe=""),ie=!0),u(this,pe,fe,!1,ie)},a.prototype.unshift=function(pe){return u(this,pe,null,!0,!1)},a.prototype.isPaused=function(){return!1===this._readableState.flowing},a.prototype.setEncoding=function(pe){se||(se=_(78454).StringDecoder);var fe=new se(pe);this._readableState.decoder=fe,this._readableState.encoding=this._readableState.decoder.encoding;for(var Q=this._readableState.buffer.head,ie="";null!==Q;)ie+=fe.write(Q.data),Q=Q.next;return this._readableState.buffer.clear(),""!==ie&&this._readableState.buffer.push(ie),this._readableState.length=ie.length,this};var S=1073741824;function N(pe,fe){return pe<=0||0===fe.length&&fe.ended?0:fe.objectMode?1:pe!=pe?fe.flowing&&fe.length?fe.buffer.head.data.length:fe.length:(pe>fe.highWaterMark&&(fe.highWaterMark=function T(pe){return pe>=S?pe=S:(pe--,pe|=pe>>>1,pe|=pe>>>2,pe|=pe>>>4,pe|=pe>>>8,pe|=pe>>>16,pe++),pe}(pe)),pe<=fe.length?pe:fe.ended?fe.length:(fe.needReadable=!0,0))}function s(pe){var fe=pe._readableState;I("emitReadable",fe.needReadable,fe.emittedReadable),fe.needReadable=!1,fe.emittedReadable||(I("emitReadable",fe.flowing),fe.emittedReadable=!0,p.nextTick(v,pe))}function v(pe){var fe=pe._readableState;I("emitReadable_",fe.destroyed,fe.length,fe.ended),!fe.destroyed&&(fe.length||fe.ended)&&(pe.emit("readable"),fe.emittedReadable=!1),fe.needReadable=!fe.flowing&&!fe.ended&&fe.length<=fe.highWaterMark,Se(pe)}function W(pe,fe){fe.readingMore||(fe.readingMore=!0,p.nextTick(K,pe,fe))}function K(pe,fe){for(;!fe.reading&&!fe.ended&&(fe.length<fe.highWaterMark||fe.flowing&&0===fe.length);){var Q=fe.length;if(I("maybeReadMore read 0"),pe.read(0),Q===fe.length)break}fe.readingMore=!1}function ce(pe){var fe=pe._readableState;fe.readableListening=pe.listenerCount("readable")>0,fe.resumeScheduled&&!fe.paused?fe.flowing=!0:pe.listenerCount("data")>0&&pe.resume()}function _e(pe){I("readable nexttick read 0"),pe.read(0)}function $e(pe,fe){I("resume",fe.reading),fe.reading||pe.read(0),fe.resumeScheduled=!1,pe.emit("resume"),Se(pe),fe.flowing&&!fe.reading&&pe.read(0)}function Se(pe){var fe=pe._readableState;for(I("flow",fe.flowing);fe.flowing&&null!==pe.read(););}function be(pe,fe){return 0===fe.length?null:(fe.objectMode?Q=fe.buffer.shift():!pe||pe>=fe.length?(Q=fe.decoder?fe.buffer.join(""):1===fe.buffer.length?fe.buffer.first():fe.buffer.concat(fe.length),fe.buffer.clear()):Q=fe.buffer.consume(pe,fe.decoder),Q);var Q}function Ne(pe){var fe=pe._readableState;I("endReadable",fe.endEmitted),fe.endEmitted||(fe.ended=!0,p.nextTick(ye,fe,pe))}function ye(pe,fe){if(I("endReadableNT",pe.endEmitted,pe.length),!pe.endEmitted&&0===pe.length&&(pe.endEmitted=!0,fe.readable=!1,fe.emit("end"),pe.autoDestroy)){var Q=fe._writableState;(!Q||Q.autoDestroy&&Q.finished)&&fe.destroy()}}function Te(pe,fe){for(var Q=0,ie=pe.length;Q<ie;Q++)if(pe[Q]===fe)return Q;return-1}a.prototype.read=function(pe){I("read",pe),pe=parseInt(pe,10);var fe=this._readableState,Q=pe;if(0!==pe&&(fe.emittedReadable=!1),0===pe&&fe.needReadable&&((0!==fe.highWaterMark?fe.length>=fe.highWaterMark:fe.length>0)||fe.ended))return I("read: emitReadable",fe.length,fe.ended),0===fe.length&&fe.ended?Ne(this):s(this),null;if(0===(pe=N(pe,fe))&&fe.ended)return 0===fe.length&&Ne(this),null;var ue,ie=fe.needReadable;return I("need readable",ie),(0===fe.length||fe.length-pe<fe.highWaterMark)&&I("length less than watermark",ie=!0),fe.ended||fe.reading?I("reading or ended",ie=!1):ie&&(I("do read"),fe.reading=!0,fe.sync=!0,0===fe.length&&(fe.needReadable=!0),this._read(fe.highWaterMark),fe.sync=!1,fe.reading||(pe=N(Q,fe))),null===(ue=pe>0?be(pe,fe):null)?(fe.needReadable=fe.length<=fe.highWaterMark,pe=0):(fe.length-=pe,fe.awaitDrain=0),0===fe.length&&(fe.ended||(fe.needReadable=!0),Q!==pe&&fe.ended&&Ne(this)),null!==ue&&this.emit("data",ue),ue},a.prototype._read=function(pe){we(this,new oe("_read()"))},a.prototype.pipe=function(pe,fe){var Q=this,ie=this._readableState;switch(ie.pipesCount){case 0:ie.pipes=pe;break;case 1:ie.pipes=[ie.pipes,pe];break;default:ie.pipes.push(pe)}ie.pipesCount+=1,I("pipe count=%d opts=%j",ie.pipesCount,fe);var Ee=fe&&!1===fe.end||pe===p.stdout||pe===p.stderr?m:Ue;function Ue(){I("onend"),pe.end()}ie.endEmitted?p.nextTick(Ee):Q.once("end",Ee),pe.on("unpipe",function ke(U,ne){I("onunpipe"),U===Q&&ne&&!1===ne.hasUnpiped&&(ne.hasUnpiped=!0,function Ve(){I("cleanup"),pe.removeListener("close",B),pe.removeListener("finish",w),pe.removeListener("drain",Le),pe.removeListener("error",lt),pe.removeListener("unpipe",ke),Q.removeListener("end",Ue),Q.removeListener("end",m),Q.removeListener("data",Be),_t=!0,ie.awaitDrain&&(!pe._writableState||pe._writableState.needDrain)&&Le()}())});var Le=function ee(pe){return function(){var Q=pe._readableState;I("pipeOnDrain",Q.awaitDrain),Q.awaitDrain&&Q.awaitDrain--,0===Q.awaitDrain&&H(pe,"data")&&(Q.flowing=!0,Se(pe))}}(Q);pe.on("drain",Le);var _t=!1;function Be(U){I("ondata");var ne=pe.write(U);I("dest.write",ne),!1===ne&&((1===ie.pipesCount&&ie.pipes===pe||ie.pipesCount>1&&-1!==Te(ie.pipes,pe))&&!_t&&(I("false write response, pause",ie.awaitDrain),ie.awaitDrain++),Q.pause())}function lt(U){I("onerror",U),m(),pe.removeListener("error",lt),0===H(pe,"error")&&we(pe,U)}function B(){pe.removeListener("finish",w),m()}function w(){I("onfinish"),pe.removeListener("close",B),m()}function m(){I("unpipe"),Q.unpipe(pe)}return Q.on("data",Be),function Ce(pe,fe,Q){if("function"==typeof pe.prependListener)return pe.prependListener(fe,Q);pe._events&&pe._events[fe]?Array.isArray(pe._events[fe])?pe._events[fe].unshift(Q):pe._events[fe]=[Q,pe._events[fe]]:pe.on(fe,Q)}(pe,"error",lt),pe.once("close",B),pe.once("finish",w),pe.emit("pipe",Q),ie.flowing||(I("pipe resume"),Q.resume()),pe},a.prototype.unpipe=function(pe){var fe=this._readableState,Q={hasUnpiped:!1};if(0===fe.pipesCount)return this;if(1===fe.pipesCount)return pe&&pe!==fe.pipes||(pe||(pe=fe.pipes),fe.pipes=null,fe.pipesCount=0,fe.flowing=!1,pe&&pe.emit("unpipe",this,Q)),this;if(!pe){var ie=fe.pipes,ue=fe.pipesCount;fe.pipes=null,fe.pipesCount=0,fe.flowing=!1;for(var Ee=0;Ee<ue;Ee++)ie[Ee].emit("unpipe",this,{hasUnpiped:!1});return this}var ke=Te(fe.pipes,pe);return-1===ke||(fe.pipes.splice(ke,1),fe.pipesCount-=1,1===fe.pipesCount&&(fe.pipes=fe.pipes[0]),pe.emit("unpipe",this,Q)),this},a.prototype.addListener=a.prototype.on=function(pe,fe){var Q=x.prototype.on.call(this,pe,fe),ie=this._readableState;return"data"===pe?(ie.readableListening=this.listenerCount("readable")>0,!1!==ie.flowing&&this.resume()):"readable"===pe&&!ie.endEmitted&&!ie.readableListening&&(ie.readableListening=ie.needReadable=!0,ie.flowing=!1,ie.emittedReadable=!1,I("on readable",ie.length,ie.reading),ie.length?s(this):ie.reading||p.nextTick(_e,this)),Q},a.prototype.removeListener=function(pe,fe){var Q=x.prototype.removeListener.call(this,pe,fe);return"readable"===pe&&p.nextTick(ce,this),Q},a.prototype.removeAllListeners=function(pe){var fe=x.prototype.removeAllListeners.apply(this,arguments);return("readable"===pe||void 0===pe)&&p.nextTick(ce,this),fe},a.prototype.resume=function(){var pe=this._readableState;return pe.flowing||(I("resume"),pe.flowing=!pe.readableListening,function Pe(pe,fe){fe.resumeScheduled||(fe.resumeScheduled=!0,p.nextTick($e,pe,fe))}(this,pe)),pe.paused=!1,this},a.prototype.pause=function(){return I("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(I("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},a.prototype.wrap=function(pe){var fe=this,Q=this._readableState,ie=!1;for(var ue in pe.on("end",function(){if(I("wrapped end"),Q.decoder&&!Q.ended){var ke=Q.decoder.end();ke&&ke.length&&fe.push(ke)}fe.push(null)}),pe.on("data",function(ke){I("wrapped data"),Q.decoder&&(ke=Q.decoder.write(ke)),Q.objectMode&&null==ke||!(Q.objectMode||ke&&ke.length)||fe.push(ke)||(ie=!0,pe.pause())}),pe)void 0===this[ue]&&"function"==typeof pe[ue]&&(this[ue]=function(Ue){return function(){return pe[Ue].apply(pe,arguments)}}(ue));for(var Ee=0;Ee<xe.length;Ee++)pe.on(xe[Ee],this.emit.bind(this,xe[Ee]));return this._read=function(ke){I("wrapped _read",ke),ie&&(ie=!1,pe.resume())},this},"function"==typeof Symbol&&(a.prototype[Symbol.asyncIterator]=function(){return void 0===de&&(de=_(6320)),de(this)}),Object.defineProperty(a.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(a.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(a.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(fe){this._readableState&&(this._readableState.flowing=fe)}}),a._fromList=be,Object.defineProperty(a.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(a.from=function(pe,fe){return void 0===le&&(le=_(87654)),le(a,pe,fe)})},2909:(Fe,z,_)=>{"use strict";Fe.exports=O;var p=_(26113).F,E=p.ERR_METHOD_NOT_IMPLEMENTED,k=p.ERR_MULTIPLE_CALLBACK,H=p.ERR_TRANSFORM_ALREADY_TRANSFORMING,x=p.ERR_TRANSFORM_WITH_LENGTH_0,R=_(74075);function A(I,Z){var j=this._transformState;j.transforming=!1;var G=j.writecb;if(null===G)return this.emit("error",new k);j.writechunk=null,j.writecb=null,null!=Z&&this.push(Z),G(I);var re=this._readableState;re.reading=!1,(re.needReadable||re.length<re.highWaterMark)&&this._read(re.highWaterMark)}function O(I){if(!(this instanceof O))return new O(I);R.call(this,I),this._transformState={afterTransform:A.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,I&&("function"==typeof I.transform&&(this._transform=I.transform),"function"==typeof I.flush&&(this._flush=I.flush)),this.on("prefinish",F)}function F(){var I=this;"function"!=typeof this._flush||this._readableState.destroyed?L(this,null,null):this._flush(function(Z,j){L(I,Z,j)})}function L(I,Z,j){if(Z)return I.emit("error",Z);if(null!=j&&I.push(j),I._writableState.length)throw new x;if(I._transformState.transforming)throw new H;return I.push(null)}_(71993)(O,R),O.prototype.push=function(I,Z){return this._transformState.needTransform=!1,R.prototype.push.call(this,I,Z)},O.prototype._transform=function(I,Z,j){j(new E("_transform()"))},O.prototype._write=function(I,Z,j){var G=this._transformState;if(G.writecb=j,G.writechunk=I,G.writeencoding=Z,!G.transforming){var re=this._readableState;(G.needTransform||re.needReadable||re.length<re.highWaterMark)&&this._read(re.highWaterMark)}},O.prototype._read=function(I){var Z=this._transformState;null===Z.writechunk||Z.transforming?Z.needTransform=!0:(Z.transforming=!0,this._transform(Z.writechunk,Z.writeencoding,Z.afterTransform))},O.prototype._destroy=function(I,Z){R.prototype._destroy.call(this,I,function(j){Z(j)})}},47849:(Fe,z,_)=>{"use strict";var H,p=_(40573);function k(Se){var be=this;this.next=null,this.entry=null,this.finish=function(){!function $e(Se,be,Ne){var ye=Se.entry;for(Se.entry=null;ye;){var Te=ye.callback;be.pendingcb--,Te(Ne),ye=ye.next}be.corkedRequestsFree.next=Se}(be,Se)}}Fe.exports=C,C.WritableState=xe;var Ce,x={deprecate:_(3398)},R=_(18342),A=_(83838).Buffer,O=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},I=_(21509),j=_(42934).getHighWaterMark,G=_(26113).F,re=G.ERR_INVALID_ARG_TYPE,te=G.ERR_METHOD_NOT_IMPLEMENTED,J=G.ERR_MULTIPLE_CALLBACK,Y=G.ERR_STREAM_CANNOT_PIPE,oe=G.ERR_STREAM_DESTROYED,ae=G.ERR_STREAM_NULL_VALUES,se=G.ERR_STREAM_WRITE_AFTER_END,de=G.ERR_UNKNOWN_ENCODING,le=I.errorOrDestroy;function we(){}function xe(Se,be,Ne){H=H||_(74075),"boolean"!=typeof Ne&&(Ne=be instanceof H),this.objectMode=!!(Se=Se||{}).objectMode,Ne&&(this.objectMode=this.objectMode||!!Se.writableObjectMode),this.highWaterMark=j(this,Se,"writableHighWaterMark",Ne),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===Se.decodeStrings),this.defaultEncoding=Se.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Te){!function M(Se,be){var Ne=Se._writableState,ye=Ne.sync,Te=Ne.writecb;if("function"!=typeof Te)throw new J;if(function N(Se){Se.writing=!1,Se.writecb=null,Se.length-=Se.writelen,Se.writelen=0}(Ne),be)!function T(Se,be,Ne,ye,Te){--be.pendingcb,Ne?(p.nextTick(Te,ye),p.nextTick(_e,Se,be),Se._writableState.errorEmitted=!0,le(Se,ye)):(Te(ye),Se._writableState.errorEmitted=!0,le(Se,ye),_e(Se,be))}(Se,Ne,ye,be,Te);else{var pe=K(Ne)||Se.destroyed;!pe&&!Ne.corked&&!Ne.bufferProcessing&&Ne.bufferedRequest&&W(Se,Ne),ye?p.nextTick(s,Se,Ne,pe,Te):s(Se,Ne,pe,Te)}}(be,Te)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==Se.emitClose,this.autoDestroy=!!Se.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new k(this)}function C(Se){var be=this instanceof(H=H||_(74075));if(!be&&!Ce.call(C,this))return new C(Se);this._writableState=new xe(Se,this,be),this.writable=!0,Se&&("function"==typeof Se.write&&(this._write=Se.write),"function"==typeof Se.writev&&(this._writev=Se.writev),"function"==typeof Se.destroy&&(this._destroy=Se.destroy),"function"==typeof Se.final&&(this._final=Se.final)),R.call(this)}function S(Se,be,Ne,ye,Te,pe,fe){be.writelen=ye,be.writecb=fe,be.writing=!0,be.sync=!0,be.destroyed?be.onwrite(new oe("write")):Ne?Se._writev(Te,be.onwrite):Se._write(Te,pe,be.onwrite),be.sync=!1}function s(Se,be,Ne,ye){Ne||function v(Se,be){0===be.length&&be.needDrain&&(be.needDrain=!1,Se.emit("drain"))}(Se,be),be.pendingcb--,ye(),_e(Se,be)}function W(Se,be){be.bufferProcessing=!0;var Ne=be.bufferedRequest;if(Se._writev&&Ne&&Ne.next){var Te=new Array(be.bufferedRequestCount),pe=be.corkedRequestsFree;pe.entry=Ne;for(var fe=0,Q=!0;Ne;)Te[fe]=Ne,Ne.isBuf||(Q=!1),Ne=Ne.next,fe+=1;Te.allBuffers=Q,S(Se,be,!0,be.length,Te,"",pe.finish),be.pendingcb++,be.lastBufferedRequest=null,pe.next?(be.corkedRequestsFree=pe.next,pe.next=null):be.corkedRequestsFree=new k(be),be.bufferedRequestCount=0}else{for(;Ne;){var ie=Ne.chunk;if(S(Se,be,!1,be.objectMode?1:ie.length,ie,Ne.encoding,Ne.callback),Ne=Ne.next,be.bufferedRequestCount--,be.writing)break}null===Ne&&(be.lastBufferedRequest=null)}be.bufferedRequest=Ne,be.bufferProcessing=!1}function K(Se){return Se.ending&&0===Se.length&&null===Se.bufferedRequest&&!Se.finished&&!Se.writing}function ee(Se,be){Se._final(function(Ne){be.pendingcb--,Ne&&le(Se,Ne),be.prefinished=!0,Se.emit("prefinish"),_e(Se,be)})}function _e(Se,be){var Ne=K(be);if(Ne&&(function ce(Se,be){!be.prefinished&&!be.finalCalled&&("function"!=typeof Se._final||be.destroyed?(be.prefinished=!0,Se.emit("prefinish")):(be.pendingcb++,be.finalCalled=!0,p.nextTick(ee,Se,be)))}(Se,be),0===be.pendingcb&&(be.finished=!0,Se.emit("finish"),be.autoDestroy))){var ye=Se._readableState;(!ye||ye.autoDestroy&&ye.endEmitted)&&Se.destroy()}return Ne}_(71993)(C,R),xe.prototype.getBuffer=function(){for(var be=this.bufferedRequest,Ne=[];be;)Ne.push(be),be=be.next;return Ne},function(){try{Object.defineProperty(xe.prototype,"buffer",{get:x.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(Ce=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(be){return!!Ce.call(this,be)||this===C&&be&&be._writableState instanceof xe}})):Ce=function(be){return be instanceof this},C.prototype.pipe=function(){le(this,new Y)},C.prototype.write=function(Se,be,Ne){var ye=this._writableState,Te=!1,pe=!ye.objectMode&&function L(Se){return A.isBuffer(Se)||Se instanceof O}(Se);return pe&&!A.isBuffer(Se)&&(Se=function F(Se){return A.from(Se)}(Se)),"function"==typeof be&&(Ne=be,be=null),pe?be="buffer":be||(be=ye.defaultEncoding),"function"!=typeof Ne&&(Ne=we),ye.ending?function a(Se,be){var Ne=new se;le(Se,Ne),p.nextTick(be,Ne)}(this,Ne):(pe||function u(Se,be,Ne,ye){var Te;return null===Ne?Te=new ae:"string"!=typeof Ne&&!be.objectMode&&(Te=new re("chunk",["string","Buffer"],Ne)),!Te||(le(Se,Te),p.nextTick(ye,Te),!1)}(this,ye,Se,Ne))&&(ye.pendingcb++,Te=function g(Se,be,Ne,ye,Te,pe){if(!Ne){var fe=function y(Se,be,Ne){return!Se.objectMode&&!1!==Se.decodeStrings&&"string"==typeof be&&(be=A.from(be,Ne)),be}(be,ye,Te);ye!==fe&&(Ne=!0,Te="buffer",ye=fe)}var Q=be.objectMode?1:ye.length;be.length+=Q;var ie=be.length<be.highWaterMark;if(ie||(be.needDrain=!0),be.writing||be.corked){var ue=be.lastBufferedRequest;be.lastBufferedRequest={chunk:ye,encoding:Te,isBuf:Ne,callback:pe,next:null},ue?ue.next=be.lastBufferedRequest:be.bufferedRequest=be.lastBufferedRequest,be.bufferedRequestCount+=1}else S(Se,be,!1,Q,ye,Te,pe);return ie}(this,ye,pe,Se,be,Ne)),Te},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var Se=this._writableState;Se.corked&&(Se.corked--,!Se.writing&&!Se.corked&&!Se.bufferProcessing&&Se.bufferedRequest&&W(this,Se))},C.prototype.setDefaultEncoding=function(be){if("string"==typeof be&&(be=be.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((be+"").toLowerCase())>-1))throw new de(be);return this._writableState.defaultEncoding=be,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(Se,be,Ne){Ne(new te("_write()"))},C.prototype._writev=null,C.prototype.end=function(Se,be,Ne){var ye=this._writableState;return"function"==typeof Se?(Ne=Se,Se=null,be=null):"function"==typeof be&&(Ne=be,be=null),null!=Se&&this.write(Se,be),ye.corked&&(ye.corked=1,this.uncork()),ye.ending||function Pe(Se,be,Ne){be.ending=!0,_e(Se,be),Ne&&(be.finished?p.nextTick(Ne):Se.once("finish",Ne)),be.ended=!0,Se.writable=!1}(this,ye,Ne),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(be){this._writableState&&(this._writableState.destroyed=be)}}),C.prototype.destroy=I.destroy,C.prototype._undestroy=I.undestroy,C.prototype._destroy=function(Se,be){be(Se)}},6320:(Fe,z,_)=>{"use strict";var E,p=_(40573);function k(se,de,le){return de=function H(se){var de=function x(se,de){if("object"!=typeof se||null===se)return se;var le=se[Symbol.toPrimitive];if(void 0!==le){var we=le.call(se,de||"default");if("object"!=typeof we)return we;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===de?String:Number)(se)}(se,"string");return"symbol"==typeof de?de:String(de)}(de),de in se?Object.defineProperty(se,de,{value:le,enumerable:!0,configurable:!0,writable:!0}):se[de]=le,se}var R=_(33139),A=Symbol("lastResolve"),O=Symbol("lastReject"),F=Symbol("error"),L=Symbol("ended"),I=Symbol("lastPromise"),Z=Symbol("handlePromise"),j=Symbol("stream");function G(se,de){return{value:se,done:de}}function re(se){var de=se[A];if(null!==de){var le=se[j].read();null!==le&&(se[I]=null,se[A]=null,se[O]=null,de(G(le,!1)))}}function te(se){p.nextTick(re,se)}var Y=Object.getPrototypeOf(function(){}),oe=Object.setPrototypeOf((k(E={get stream(){return this[j]},next:function(){var de=this,le=this[F];if(null!==le)return Promise.reject(le);if(this[L])return Promise.resolve(G(void 0,!0));if(this[j].destroyed)return new Promise(function(C,a){p.nextTick(function(){de[F]?a(de[F]):C(G(void 0,!0))})});var xe,we=this[I];if(we)xe=new Promise(function J(se,de){return function(le,we){se.then(function(){de[L]?le(G(void 0,!0)):de[Z](le,we)},we)}}(we,this));else{var Ce=this[j].read();if(null!==Ce)return Promise.resolve(G(Ce,!1));xe=new Promise(this[Z])}return this[I]=xe,xe}},Symbol.asyncIterator,function(){return this}),k(E,"return",function(){var de=this;return new Promise(function(le,we){de[j].destroy(null,function(xe){xe?we(xe):le(G(void 0,!0))})})}),E),Y);Fe.exports=function(de){var le,we=Object.create(oe,(k(le={},j,{value:de,writable:!0}),k(le,A,{value:null,writable:!0}),k(le,O,{value:null,writable:!0}),k(le,F,{value:null,writable:!0}),k(le,L,{value:de._readableState.endEmitted,writable:!0}),k(le,Z,{value:function(Ce,C){var a=we[j].read();a?(we[I]=null,we[A]=null,we[O]=null,Ce(G(a,!1))):(we[A]=Ce,we[O]=C)},writable:!0}),le));return we[I]=null,R(de,function(xe){if(xe&&"ERR_STREAM_PREMATURE_CLOSE"!==xe.code){var Ce=we[O];return null!==Ce&&(we[I]=null,we[A]=null,we[O]=null,Ce(xe)),void(we[F]=xe)}var C=we[A];null!==C&&(we[I]=null,we[A]=null,we[O]=null,C(G(void 0,!0))),we[L]=!0}),de.on("readable",te.bind(null,we)),we}},19588:(Fe,z,_)=>{"use strict";function p(re,te){var J=Object.keys(re);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(re);te&&(Y=Y.filter(function(oe){return Object.getOwnPropertyDescriptor(re,oe).enumerable})),J.push.apply(J,Y)}return J}function E(re){for(var te=1;te<arguments.length;te++){var J=null!=arguments[te]?arguments[te]:{};te%2?p(Object(J),!0).forEach(function(Y){k(re,Y,J[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(re,Object.getOwnPropertyDescriptors(J)):p(Object(J)).forEach(function(Y){Object.defineProperty(re,Y,Object.getOwnPropertyDescriptor(J,Y))})}return re}function k(re,te,J){return(te=A(te))in re?Object.defineProperty(re,te,{value:J,enumerable:!0,configurable:!0,writable:!0}):re[te]=J,re}function x(re,te){for(var J=0;J<te.length;J++){var Y=te[J];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(re,A(Y.key),Y)}}function A(re){var te=function O(re,te){if("object"!=typeof re||null===re)return re;var J=re[Symbol.toPrimitive];if(void 0!==J){var Y=J.call(re,te||"default");if("object"!=typeof Y)return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===te?String:Number)(re)}(re,"string");return"symbol"==typeof te?te:String(te)}var L=_(83838).Buffer,Z=_(15340).inspect,j=Z&&Z.custom||"inspect";function G(re,te,J){L.prototype.copy.call(re,te,J)}Fe.exports=function(){function re(){(function H(re,te){if(!(re instanceof te))throw new TypeError("Cannot call a class as a function")})(this,re),this.head=null,this.tail=null,this.length=0}return function R(re,te,J){te&&x(re.prototype,te),J&&x(re,J),Object.defineProperty(re,"prototype",{writable:!1})}(re,[{key:"push",value:function(J){var Y={data:J,next:null};this.length>0?this.tail.next=Y:this.head=Y,this.tail=Y,++this.length}},{key:"unshift",value:function(J){var Y={data:J,next:this.head};0===this.length&&(this.tail=Y),this.head=Y,++this.length}},{key:"shift",value:function(){if(0!==this.length){var J=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,J}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(J){if(0===this.length)return"";for(var Y=this.head,oe=""+Y.data;Y=Y.next;)oe+=J+Y.data;return oe}},{key:"concat",value:function(J){if(0===this.length)return L.alloc(0);for(var Y=L.allocUnsafe(J>>>0),oe=this.head,ae=0;oe;)G(oe.data,Y,ae),ae+=oe.data.length,oe=oe.next;return Y}},{key:"consume",value:function(J,Y){var oe;return J<this.head.data.length?(oe=this.head.data.slice(0,J),this.head.data=this.head.data.slice(J)):oe=J===this.head.data.length?this.shift():Y?this._getString(J):this._getBuffer(J),oe}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(J){var Y=this.head,oe=1,ae=Y.data;for(J-=ae.length;Y=Y.next;){var se=Y.data,de=J>se.length?se.length:J;if(ae+=de===se.length?se:se.slice(0,J),0==(J-=de)){de===se.length?(++oe,this.head=Y.next?Y.next:this.tail=null):(this.head=Y,Y.data=se.slice(de));break}++oe}return this.length-=oe,ae}},{key:"_getBuffer",value:function(J){var Y=L.allocUnsafe(J),oe=this.head,ae=1;for(oe.data.copy(Y),J-=oe.data.length;oe=oe.next;){var se=oe.data,de=J>se.length?se.length:J;if(se.copy(Y,Y.length-J,0,de),0==(J-=de)){de===se.length?(++ae,this.head=oe.next?oe.next:this.tail=null):(this.head=oe,oe.data=se.slice(de));break}++ae}return this.length-=ae,Y}},{key:j,value:function(J,Y){return Z(this,E(E({},Y),{},{depth:0,customInspect:!1}))}}]),re}()},21509:(Fe,z,_)=>{"use strict";var p=_(40573);function k(O,F){R(O,F),H(O)}function H(O){O._writableState&&!O._writableState.emitClose||O._readableState&&!O._readableState.emitClose||O.emit("close")}function R(O,F){O.emit("error",F)}Fe.exports={destroy:function E(O,F){var L=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(F?F(O):O&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,p.nextTick(R,this,O)):p.nextTick(R,this,O)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(O||null,function(j){!F&&j?L._writableState?L._writableState.errorEmitted?p.nextTick(H,L):(L._writableState.errorEmitted=!0,p.nextTick(k,L,j)):p.nextTick(k,L,j):F?(p.nextTick(H,L),F(j)):p.nextTick(H,L)}),this)},undestroy:function x(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function A(O,F){var L=O._readableState,I=O._writableState;L&&L.autoDestroy||I&&I.autoDestroy?O.destroy(F):O.emit("error",F)}}},33139:(Fe,z,_)=>{"use strict";var p=_(26113).F.ERR_STREAM_PREMATURE_CLOSE;function k(){}Fe.exports=function x(R,A,O){if("function"==typeof A)return x(R,null,A);A||(A={}),O=function E(R){var A=!1;return function(){if(!A){A=!0;for(var O=arguments.length,F=new Array(O),L=0;L<O;L++)F[L]=arguments[L];R.apply(this,F)}}}(O||k);var F=A.readable||!1!==A.readable&&R.readable,L=A.writable||!1!==A.writable&&R.writable,I=function(){R.writable||j()},Z=R._writableState&&R._writableState.finished,j=function(){L=!1,Z=!0,F||O.call(R)},G=R._readableState&&R._readableState.endEmitted,re=function(){F=!1,G=!0,L||O.call(R)},te=function(ae){O.call(R,ae)},J=function(){var ae;return F&&!G?((!R._readableState||!R._readableState.ended)&&(ae=new p),O.call(R,ae)):L&&!Z?((!R._writableState||!R._writableState.ended)&&(ae=new p),O.call(R,ae)):void 0},Y=function(){R.req.on("finish",j)};return function H(R){return R.setHeader&&"function"==typeof R.abort}(R)?(R.on("complete",j),R.on("abort",J),R.req?Y():R.on("request",Y)):L&&!R._writableState&&(R.on("end",I),R.on("close",I)),R.on("end",re),R.on("finish",j),!1!==A.error&&R.on("error",te),R.on("close",J),function(){R.removeListener("complete",j),R.removeListener("abort",J),R.removeListener("request",Y),R.req&&R.req.removeListener("finish",j),R.removeListener("end",I),R.removeListener("close",I),R.removeListener("finish",j),R.removeListener("end",re),R.removeListener("error",te),R.removeListener("close",J)}}},87654:Fe=>{Fe.exports=function(){throw new Error("Readable.from is not available in the browser")}},96249:(Fe,z,_)=>{"use strict";var p,k=_(26113).F,H=k.ERR_MISSING_ARGS,x=k.ERR_STREAM_DESTROYED;function R(j){if(j)throw j}function F(j){j()}function L(j,G){return j.pipe(G)}Fe.exports=function Z(){for(var j=arguments.length,G=new Array(j),re=0;re<j;re++)G[re]=arguments[re];var te=function I(j){return j.length&&"function"==typeof j[j.length-1]?j.pop():R}(G);if(Array.isArray(G[0])&&(G=G[0]),G.length<2)throw new H("streams");var J,Y=G.map(function(oe,ae){var se=ae<G.length-1;return function O(j,G,re,te){te=function E(j){var G=!1;return function(){G||(G=!0,j.apply(void 0,arguments))}}(te);var J=!1;j.on("close",function(){J=!0}),void 0===p&&(p=_(33139)),p(j,{readable:G,writable:re},function(oe){if(oe)return te(oe);J=!0,te()});var Y=!1;return function(oe){if(!J&&!Y){if(Y=!0,function A(j){return j.setHeader&&"function"==typeof j.abort}(j))return j.abort();if("function"==typeof j.destroy)return j.destroy();te(oe||new x("pipe"))}}}(oe,se,ae>0,function(le){J||(J=le),le&&Y.forEach(F),!se&&(Y.forEach(F),te(J))})});return G.reduce(L)}},42934:(Fe,z,_)=>{"use strict";var p=_(26113).F.ERR_INVALID_OPT_VALUE;Fe.exports={getHighWaterMark:function k(H,x,R,A){var O=function E(H,x,R){return null!=H.highWaterMark?H.highWaterMark:x?H[R]:null}(x,A,R);if(null!=O){if(!isFinite(O)||Math.floor(O)!==O||O<0)throw new p(A?R:"highWaterMark",O);return Math.floor(O)}return H.objectMode?16:16384}}},18342:(Fe,z,_)=>{Fe.exports=_(44356).EventEmitter},5942:(Fe,z,_)=>{(z=Fe.exports=_(19609)).Stream=z,z.Readable=z,z.Writable=_(47849),z.Duplex=_(74075),z.Transform=_(2909),z.PassThrough=_(18823),z.finished=_(33139),z.pipeline=_(96249)},85493:(Fe,z,_)=>{"use strict";var E=_(29293).default;z.s=void 0;const k=_(5942);z.s=class H extends k.Readable{constructor(R){super(),this.bytesRead=0,this.released=!1,this.reader=R.getReader()}_read(){var R=this;return E(function*(){if(R.released)return void R.push(null);R.pendingRead=R.reader.read();const A=yield R.pendingRead;delete R.pendingRead,A.done||R.released?R.push(null):(R.bytesRead+=A.value.length,R.push(A.value))})()}waitForReadToComplete(){var R=this;return E(function*(){R.pendingRead&&(yield R.pendingRead)})()}close(){var R=this;return E(function*(){yield R.syncAndRelease()})()}syncAndRelease(){var R=this;return E(function*(){R.released=!0,yield R.waitForReadToComplete(),yield R.reader.releaseLock()})()}}},36636:(Fe,z,_)=>{"use strict";var p=_(83838).Buffer,E=_(71993),k=_(13686),H=new Array(16),x=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],R=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],A=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],O=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],F=[0,1518500249,1859775393,2400959708,2840853838],L=[1352829926,1548603684,1836072691,2053994217,0];function I(){k.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function Z(Y,oe){return Y<<oe|Y>>>32-oe}function j(Y,oe,ae,se,de,le,we,xe){return Z(Y+(oe^ae^se)+le+we|0,xe)+de|0}function G(Y,oe,ae,se,de,le,we,xe){return Z(Y+(oe&ae|~oe&se)+le+we|0,xe)+de|0}function re(Y,oe,ae,se,de,le,we,xe){return Z(Y+((oe|~ae)^se)+le+we|0,xe)+de|0}function te(Y,oe,ae,se,de,le,we,xe){return Z(Y+(oe&se|ae&~se)+le+we|0,xe)+de|0}function J(Y,oe,ae,se,de,le,we,xe){return Z(Y+(oe^(ae|~se))+le+we|0,xe)+de|0}E(I,k),I.prototype._update=function(){for(var Y=H,oe=0;oe<16;++oe)Y[oe]=this._block.readInt32LE(4*oe);for(var ae=0|this._a,se=0|this._b,de=0|this._c,le=0|this._d,we=0|this._e,xe=0|this._a,Ce=0|this._b,C=0|this._c,a=0|this._d,u=0|this._e,y=0;y<80;y+=1){var g,S;y<16?(g=j(ae,se,de,le,we,Y[x[y]],F[0],A[y]),S=J(xe,Ce,C,a,u,Y[R[y]],L[0],O[y])):y<32?(g=G(ae,se,de,le,we,Y[x[y]],F[1],A[y]),S=te(xe,Ce,C,a,u,Y[R[y]],L[1],O[y])):y<48?(g=re(ae,se,de,le,we,Y[x[y]],F[2],A[y]),S=re(xe,Ce,C,a,u,Y[R[y]],L[2],O[y])):y<64?(g=te(ae,se,de,le,we,Y[x[y]],F[3],A[y]),S=G(xe,Ce,C,a,u,Y[R[y]],L[3],O[y])):(g=J(ae,se,de,le,we,Y[x[y]],F[4],A[y]),S=j(xe,Ce,C,a,u,Y[R[y]],L[4],O[y])),ae=we,we=le,le=Z(de,10),de=se,se=g,xe=u,u=a,a=Z(C,10),C=Ce,Ce=S}var T=this._b+de+a|0;this._b=this._c+le+u|0,this._c=this._d+we+xe|0,this._d=this._e+ae+Ce|0,this._e=this._a+se+C|0,this._a=T},I.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var Y=p.alloc?p.alloc(20):new p(20);return Y.writeInt32LE(this._a,0),Y.writeInt32LE(this._b,4),Y.writeInt32LE(this._c,8),Y.writeInt32LE(this._d,12),Y.writeInt32LE(this._e,16),Y},Fe.exports=I},81725:(Fe,z,_)=>{Fe.exports=function E(k,H,x){if("number"!=typeof H)throw new Error("second argument must be a Number");let R,A,O,F,L,Z,I=!0;function j(re){function te(){x&&x(re,R),x=null}I?p(te):te()}function G(re,te,J){if(R[re]=J,te&&(L=!0),0==--O||te)j(te);else if(!L&&Z<A){let Y;F?(Y=F[Z],Z+=1,k[Y](function(oe,ae){G(Y,oe,ae)})):(Y=Z,Z+=1,k[Y](function(oe,ae){G(Y,oe,ae)}))}}Array.isArray(k)?(R=[],O=A=k.length):(F=Object.keys(k),R={},O=A=F.length),Z=H,O?F?F.some(function(re,te){return k[re](function(J,Y){G(re,J,Y)}),te===H-1}):k.some(function(re,te){return re(function(J,Y){G(te,J,Y)}),te===H-1}):j(null),I=!1};const p=_(24515)},84412:(Fe,z,_)=>{"use strict";_.d(z,{t:()=>E});var p=_(21413);class E extends p.B{constructor(H){super(),this._value=H}get value(){return this.getValue()}_subscribe(H){const x=super._subscribe(H);return!x.closed&&H.next(this._value),x}getValue(){const{hasError:H,thrownError:x,_value:R}=this;if(H)throw x;return this._throwIfClosed(),R}next(H){super.next(this._value=H)}}},71985:(Fe,z,_)=>{"use strict";_.d(z,{c:()=>O});var p=_(47707),E=_(18359),k=_(3494),H=_(71203),x=_(41026),R=_(98071),A=_(49786);let O=(()=>{class Z{constructor(G){G&&(this._subscribe=G)}lift(G){const re=new Z;return re.source=this,re.operator=G,re}subscribe(G,re,te){const J=function I(Z){return Z&&Z instanceof p.vU||function L(Z){return Z&&(0,R.T)(Z.next)&&(0,R.T)(Z.error)&&(0,R.T)(Z.complete)}(Z)&&(0,E.Uv)(Z)}(G)?G:new p.Ms(G,re,te);return(0,A.Y)(()=>{const{operator:Y,source:oe}=this;J.add(Y?Y.call(J,oe):oe?this._subscribe(J):this._trySubscribe(J))}),J}_trySubscribe(G){try{return this._subscribe(G)}catch(re){G.error(re)}}forEach(G,re){return new(re=F(re))((te,J)=>{const Y=new p.Ms({next:oe=>{try{G(oe)}catch(ae){J(ae),Y.unsubscribe()}},error:J,complete:te});this.subscribe(Y)})}_subscribe(G){var re;return null===(re=this.source)||void 0===re?void 0:re.subscribe(G)}[k.s](){return this}pipe(...G){return(0,H.m)(G)(this)}toPromise(G){return new(G=F(G))((re,te)=>{let J;this.subscribe(Y=>J=Y,Y=>te(Y),()=>re(J))})}}return Z.create=j=>new Z(j),Z})();function F(Z){var j;return null!==(j=Z??x.$.Promise)&&void 0!==j?j:Promise}},92771:(Fe,z,_)=>{"use strict";_.d(z,{m:()=>k});var p=_(21413),E=_(86129);class k extends p.B{constructor(x=1/0,R=1/0,A=E.U){super(),this._bufferSize=x,this._windowTime=R,this._timestampProvider=A,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=R===1/0,this._bufferSize=Math.max(1,x),this._windowTime=Math.max(1,R)}next(x){const{isStopped:R,_buffer:A,_infiniteTimeWindow:O,_timestampProvider:F,_windowTime:L}=this;R||(A.push(x),!O&&A.push(F.now()+L)),this._trimBuffer(),super.next(x)}_subscribe(x){this._throwIfClosed(),this._trimBuffer();const R=this._innerSubscribe(x),{_infiniteTimeWindow:A,_buffer:O}=this,F=O.slice();for(let L=0;L<F.length&&!x.closed;L+=A?1:2)x.next(F[L]);return this._checkFinalizedStatuses(x),R}_trimBuffer(){const{_bufferSize:x,_timestampProvider:R,_buffer:A,_infiniteTimeWindow:O}=this,F=(O?1:2)*x;if(x<1/0&&F<A.length&&A.splice(0,A.length-F),!O){const L=R.now();let I=0;for(let Z=1;Z<A.length&&A[Z]<=L;Z+=2)I=Z;I&&A.splice(0,I+1)}}}},21413:(Fe,z,_)=>{"use strict";_.d(z,{B:()=>A});var p=_(71985),E=_(18359);const H=(0,_(81853).L)(F=>function(){F(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var x=_(57908),R=_(49786);let A=(()=>{class F extends p.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(I){const Z=new O(this,this);return Z.operator=I,Z}_throwIfClosed(){if(this.closed)throw new H}next(I){(0,R.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Z of this.currentObservers)Z.next(I)}})}error(I){(0,R.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=I;const{observers:Z}=this;for(;Z.length;)Z.shift().error(I)}})}complete(){(0,R.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:I}=this;for(;I.length;)I.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var I;return(null===(I=this.observers)||void 0===I?void 0:I.length)>0}_trySubscribe(I){return this._throwIfClosed(),super._trySubscribe(I)}_subscribe(I){return this._throwIfClosed(),this._checkFinalizedStatuses(I),this._innerSubscribe(I)}_innerSubscribe(I){const{hasError:Z,isStopped:j,observers:G}=this;return Z||j?E.Kn:(this.currentObservers=null,G.push(I),new E.yU(()=>{this.currentObservers=null,(0,x.o)(G,I)}))}_checkFinalizedStatuses(I){const{hasError:Z,thrownError:j,isStopped:G}=this;Z?I.error(j):G&&I.complete()}asObservable(){const I=new p.c;return I.source=this,I}}return F.create=(L,I)=>new O(L,I),F})();class O extends A{constructor(L,I){super(),this.destination=L,this.source=I}next(L){var I,Z;null===(Z=null===(I=this.destination)||void 0===I?void 0:I.next)||void 0===Z||Z.call(I,L)}error(L){var I,Z;null===(Z=null===(I=this.destination)||void 0===I?void 0:I.error)||void 0===Z||Z.call(I,L)}complete(){var L,I;null===(I=null===(L=this.destination)||void 0===L?void 0:L.complete)||void 0===I||I.call(L)}_subscribe(L){var I,Z;return null!==(Z=null===(I=this.source)||void 0===I?void 0:I.subscribe(L))&&void 0!==Z?Z:E.Kn}}},47707:(Fe,z,_)=>{"use strict";_.d(z,{Ms:()=>te,vU:()=>Z});var p=_(98071),E=_(18359),k=_(41026),H=_(45334),x=_(85343);const R=F("C",void 0,void 0);function F(se,de,le){return{kind:se,value:de,error:le}}var L=_(19270),I=_(49786);class Z extends E.yU{constructor(de){super(),this.isStopped=!1,de?(this.destination=de,(0,E.Uv)(de)&&de.add(this)):this.destination=ae}static create(de,le,we){return new te(de,le,we)}next(de){this.isStopped?oe(function O(se){return F("N",se,void 0)}(de),this):this._next(de)}error(de){this.isStopped?oe(function A(se){return F("E",void 0,se)}(de),this):(this.isStopped=!0,this._error(de))}complete(){this.isStopped?oe(R,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(de){this.destination.next(de)}_error(de){try{this.destination.error(de)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const j=Function.prototype.bind;function G(se,de){return j.call(se,de)}class re{constructor(de){this.partialObserver=de}next(de){const{partialObserver:le}=this;if(le.next)try{le.next(de)}catch(we){J(we)}}error(de){const{partialObserver:le}=this;if(le.error)try{le.error(de)}catch(we){J(we)}else J(de)}complete(){const{partialObserver:de}=this;if(de.complete)try{de.complete()}catch(le){J(le)}}}class te extends Z{constructor(de,le,we){let xe;if(super(),(0,p.T)(de)||!de)xe={next:de??void 0,error:le??void 0,complete:we??void 0};else{let Ce;this&&k.$.useDeprecatedNextContext?(Ce=Object.create(de),Ce.unsubscribe=()=>this.unsubscribe(),xe={next:de.next&&G(de.next,Ce),error:de.error&&G(de.error,Ce),complete:de.complete&&G(de.complete,Ce)}):xe=de}this.destination=new re(xe)}}function J(se){k.$.useDeprecatedSynchronousErrorHandling?(0,I.l)(se):(0,H.m)(se)}function oe(se,de){const{onStoppedNotification:le}=k.$;le&&L.f.setTimeout(()=>le(se,de))}const ae={closed:!0,next:x.l,error:function Y(se){throw se},complete:x.l}},18359:(Fe,z,_)=>{"use strict";_.d(z,{Kn:()=>R,yU:()=>x,Uv:()=>A});var p=_(98071);const k=(0,_(81853).L)(F=>function(I){F(this),this.message=I?`${I.length} errors occurred during unsubscription:\n${I.map((Z,j)=>`${j+1}) ${Z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=I});var H=_(57908);class x{constructor(L){this.initialTeardown=L,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let L;if(!this.closed){this.closed=!0;const{_parentage:I}=this;if(I)if(this._parentage=null,Array.isArray(I))for(const G of I)G.remove(this);else I.remove(this);const{initialTeardown:Z}=this;if((0,p.T)(Z))try{Z()}catch(G){L=G instanceof k?G.errors:[G]}const{_finalizers:j}=this;if(j){this._finalizers=null;for(const G of j)try{O(G)}catch(re){L=L??[],re instanceof k?L=[...L,...re.errors]:L.push(re)}}if(L)throw new k(L)}}add(L){var I;if(L&&L!==this)if(this.closed)O(L);else{if(L instanceof x){if(L.closed||L._hasParent(this))return;L._addParent(this)}(this._finalizers=null!==(I=this._finalizers)&&void 0!==I?I:[]).push(L)}}_hasParent(L){const{_parentage:I}=this;return I===L||Array.isArray(I)&&I.includes(L)}_addParent(L){const{_parentage:I}=this;this._parentage=Array.isArray(I)?(I.push(L),I):I?[I,L]:L}_removeParent(L){const{_parentage:I}=this;I===L?this._parentage=null:Array.isArray(I)&&(0,H.o)(I,L)}remove(L){const{_finalizers:I}=this;I&&(0,H.o)(I,L),L instanceof x&&L._removeParent(this)}}x.EMPTY=(()=>{const F=new x;return F.closed=!0,F})();const R=x.EMPTY;function A(F){return F instanceof x||F&&"closed"in F&&(0,p.T)(F.remove)&&(0,p.T)(F.add)&&(0,p.T)(F.unsubscribe)}function O(F){(0,p.T)(F)?F():F.unsubscribe()}},41026:(Fe,z,_)=>{"use strict";_.d(z,{$:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},30017:(Fe,z,_)=>{"use strict";_.d(z,{G:()=>R});var p=_(71985),E=_(18359),k=_(99898),H=_(54360),x=_(39974);class R extends p.c{constructor(O,F){super(),this.source=O,this.subjectFactory=F,this._subject=null,this._refCount=0,this._connection=null,(0,x.S)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new E.yU;const F=this.getSubject();O.add(this.source.subscribe((0,H._)(F,void 0,()=>{this._teardown(),F.complete()},L=>{this._teardown(),F.error(L)},()=>this._teardown()))),O.closed&&(this._connection=null,O=E.yU.EMPTY)}return O}refCount(){return(0,k.B)()(this)}}},84572:(Fe,z,_)=>{"use strict";_.d(z,{z:()=>L});var p=_(71985),E=_(93073),k=_(86648),H=_(33669),x=_(6450),R=_(9326),A=_(58496),O=_(54360),F=_(45225);function L(...j){const G=(0,R.lI)(j),re=(0,R.ms)(j),{args:te,keys:J}=(0,E.D)(j);if(0===te.length)return(0,k.H)([],G);const Y=new p.c(function I(j,G,re=H.D){return te=>{Z(G,()=>{const{length:J}=j,Y=new Array(J);let oe=J,ae=J;for(let se=0;se<J;se++)Z(G,()=>{const de=(0,k.H)(j[se],G);let le=!1;de.subscribe((0,O._)(te,we=>{Y[se]=we,le||(le=!0,ae--),ae||te.next(re(Y.slice()))},()=>{--oe||te.complete()}))},te)},te)}}(te,G,J?oe=>(0,A.e)(J,oe):H.D));return re?Y.pipe((0,x.I)(re)):Y}function Z(j,G,re){j?(0,F.N)(re,j,G):G()}},28793:(Fe,z,_)=>{"use strict";_.d(z,{x:()=>x});var p=_(26365),k=_(9326),H=_(86648);function x(...R){return function E(){return(0,p.U)(1)}()((0,H.H)(R,(0,k.lI)(R)))}},59030:(Fe,z,_)=>{"use strict";_.d(z,{v:()=>k});var p=_(71985),E=_(58750);function k(H){return new p.c(x=>{(0,E.Tg)(H()).subscribe(x)})}},983:(Fe,z,_)=>{"use strict";_.d(z,{w:()=>E});const E=new(_(71985).c)(x=>x.complete())},27468:(Fe,z,_)=>{"use strict";_.d(z,{p:()=>O});var p=_(71985),E=_(93073),k=_(58750),H=_(9326),x=_(54360),R=_(6450),A=_(58496);function O(...F){const L=(0,H.ms)(F),{args:I,keys:Z}=(0,E.D)(F),j=new p.c(G=>{const{length:re}=I;if(!re)return void G.complete();const te=new Array(re);let J=re,Y=re;for(let oe=0;oe<re;oe++){let ae=!1;(0,k.Tg)(I[oe]).subscribe((0,x._)(G,se=>{ae||(ae=!0,Y--),te[oe]=se},()=>J--,void 0,()=>{(!J||!ae)&&(Y||G.next(Z?(0,A.e)(Z,te):te),G.complete())}))}});return L?j.pipe((0,R.I)(L)):j}},86648:(Fe,z,_)=>{"use strict";_.d(z,{H:()=>we});var p=_(58750),E=_(45225),k=_(39974),H=_(54360);function x(xe,Ce=0){return(0,k.N)((C,a)=>{C.subscribe((0,H._)(a,u=>(0,E.N)(a,xe,()=>a.next(u),Ce),()=>(0,E.N)(a,xe,()=>a.complete(),Ce),u=>(0,E.N)(a,xe,()=>a.error(u),Ce)))})}function R(xe,Ce=0){return(0,k.N)((C,a)=>{a.add(xe.schedule(()=>C.subscribe(a),Ce))})}var F=_(71985),I=_(4761),Z=_(98071);function G(xe,Ce){if(!xe)throw new Error("Iterable cannot be null");return new F.c(C=>{(0,E.N)(C,Ce,()=>{const a=xe[Symbol.asyncIterator]();(0,E.N)(C,Ce,()=>{a.next().then(u=>{u.done?C.complete():C.next(u.value)})},0,!0)})})}var re=_(55055),te=_(59858),J=_(47441),Y=_(85397),oe=_(37953),ae=_(50591),se=_(15196);function we(xe,Ce){return Ce?function le(xe,Ce){if(null!=xe){if((0,re.l)(xe))return function A(xe,Ce){return(0,p.Tg)(xe).pipe(R(Ce),x(Ce))}(xe,Ce);if((0,J.X)(xe))return function L(xe,Ce){return new F.c(C=>{let a=0;return Ce.schedule(function(){a===xe.length?C.complete():(C.next(xe[a++]),C.closed||this.schedule())})})}(xe,Ce);if((0,te.y)(xe))return function O(xe,Ce){return(0,p.Tg)(xe).pipe(R(Ce),x(Ce))}(xe,Ce);if((0,oe.T)(xe))return G(xe,Ce);if((0,Y.x)(xe))return function j(xe,Ce){return new F.c(C=>{let a;return(0,E.N)(C,Ce,()=>{a=xe[I.l](),(0,E.N)(C,Ce,()=>{let u,y;try{({value:u,done:y}=a.next())}catch(g){return void C.error(g)}y?C.complete():C.next(u)},0,!0)}),()=>(0,Z.T)(a?.return)&&a.return()})}(xe,Ce);if((0,se.U)(xe))return function de(xe,Ce){return G((0,se.C)(xe),Ce)}(xe,Ce)}throw(0,ae.L)(xe)}(xe,Ce):(0,p.Tg)(xe)}},33726:(Fe,z,_)=>{"use strict";_.d(z,{R:()=>L});var p=_(58750),E=_(71985),k=_(31397),H=_(47441),x=_(98071),R=_(6450);const A=["addListener","removeListener"],O=["addEventListener","removeEventListener"],F=["on","off"];function L(re,te,J,Y){if((0,x.T)(J)&&(Y=J,J=void 0),Y)return L(re,te,J).pipe((0,R.I)(Y));const[oe,ae]=function G(re){return(0,x.T)(re.addEventListener)&&(0,x.T)(re.removeEventListener)}(re)?O.map(se=>de=>re[se](te,de,J)):function Z(re){return(0,x.T)(re.addListener)&&(0,x.T)(re.removeListener)}(re)?A.map(I(re,te)):function j(re){return(0,x.T)(re.on)&&(0,x.T)(re.off)}(re)?F.map(I(re,te)):[];if(!oe&&(0,H.X)(re))return(0,k.Z)(se=>L(se,te,J))((0,p.Tg)(re));if(!oe)throw new TypeError("Invalid event target");return new E.c(se=>{const de=(...le)=>se.next(1<le.length?le:le[0]);return oe(de),()=>ae(de)})}function I(re,te){return J=>Y=>re[J](te,Y)}},58750:(Fe,z,_)=>{"use strict";_.d(z,{Tg:()=>j});var p=_(31635),E=_(47441),k=_(59858),H=_(71985),x=_(55055),R=_(37953),A=_(50591),O=_(85397),F=_(15196),L=_(98071),I=_(45334),Z=_(3494);function j(se){if(se instanceof H.c)return se;if(null!=se){if((0,x.l)(se))return function G(se){return new H.c(de=>{const le=se[Z.s]();if((0,L.T)(le.subscribe))return le.subscribe(de);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(se);if((0,E.X)(se))return function re(se){return new H.c(de=>{for(let le=0;le<se.length&&!de.closed;le++)de.next(se[le]);de.complete()})}(se);if((0,k.y)(se))return function te(se){return new H.c(de=>{se.then(le=>{de.closed||(de.next(le),de.complete())},le=>de.error(le)).then(null,I.m)})}(se);if((0,R.T)(se))return Y(se);if((0,O.x)(se))return function J(se){return new H.c(de=>{for(const le of se)if(de.next(le),de.closed)return;de.complete()})}(se);if((0,F.U)(se))return function oe(se){return Y((0,F.C)(se))}(se)}throw(0,A.L)(se)}function Y(se){return new H.c(de=>{(function ae(se,de){var le,we,xe,Ce;return(0,p.sH)(this,void 0,void 0,function*(){try{for(le=(0,p.xN)(se);!(we=yield le.next()).done;)if(de.next(we.value),de.closed)return}catch(C){xe={error:C}}finally{try{we&&!we.done&&(Ce=le.return)&&(yield Ce.call(le))}finally{if(xe)throw xe.error}}de.complete()})})(se,de).catch(le=>de.error(le))})}},40605:(Fe,z,_)=>{"use strict";_.d(z,{Y:()=>k});var p=_(43236),E=_(41584);function k(H=0,x=p.E){return H<0&&(H=0),(0,E.O)(H,H,x)}},57786:(Fe,z,_)=>{"use strict";_.d(z,{h:()=>R});var p=_(26365),E=_(58750),k=_(983),H=_(9326),x=_(86648);function R(...A){const O=(0,H.lI)(A),F=(0,H.R0)(A,1/0),L=A;return L.length?1===L.length?(0,E.Tg)(L[0]):(0,p.U)(F)((0,x.H)(L,O)):k.w}},7673:(Fe,z,_)=>{"use strict";_.d(z,{of:()=>k});var p=_(9326),E=_(86648);function k(...H){const x=(0,p.lI)(H);return(0,E.H)(H,x)}},18810:(Fe,z,_)=>{"use strict";_.d(z,{$:()=>k});var p=_(71985),E=_(98071);function k(H,x){const R=(0,E.T)(H)?H:()=>H,A=O=>O.error(R());return new p.c(x?O=>x.schedule(A,0,O):A)}},41584:(Fe,z,_)=>{"use strict";_.d(z,{O:()=>x});var p=_(71985),E=_(43236),k=_(79470);function x(R=0,A,O=E.b){let F=-1;return null!=A&&((0,k.m)(A)?O=A:F=A),new p.c(L=>{let I=function H(R){return R instanceof Date&&!isNaN(R)}(R)?+R-O.now():R;I<0&&(I=0);let Z=0;return O.schedule(function(){L.closed||(L.next(Z++),0<=F?this.schedule(void 0,F):L.complete())},I)})}},54360:(Fe,z,_)=>{"use strict";_.d(z,{_:()=>E});var p=_(47707);function E(H,x,R,A,O){return new k(H,x,R,A,O)}class k extends p.vU{constructor(x,R,A,O,F,L){super(x),this.onFinalize=F,this.shouldUnsubscribe=L,this._next=R?function(I){try{R(I)}catch(Z){x.error(Z)}}:super._next,this._error=O?function(I){try{O(I)}catch(Z){x.error(Z)}finally{this.unsubscribe()}}:super._error,this._complete=A?function(){try{A()}catch(I){x.error(I)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var x;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:R}=this;super.unsubscribe(),!R&&(null===(x=this.onFinalize)||void 0===x||x.call(this))}}}},99437:(Fe,z,_)=>{"use strict";_.d(z,{W:()=>H});var p=_(58750),E=_(54360),k=_(39974);function H(x){return(0,k.N)((R,A)=>{let L,O=null,F=!1;O=R.subscribe((0,E._)(A,void 0,void 0,I=>{L=(0,p.Tg)(x(I,H(x)(R))),O?(O.unsubscribe(),O=null,L.subscribe(A)):F=!0})),F&&(O.unsubscribe(),O=null,L.subscribe(A))})}},70274:(Fe,z,_)=>{"use strict";_.d(z,{H:()=>k});var p=_(31397),E=_(98071);function k(H,x){return(0,E.T)(x)?(0,p.Z)(H,x,1):(0,p.Z)(H,1)}},70152:(Fe,z,_)=>{"use strict";_.d(z,{B:()=>H});var p=_(43236),E=_(39974),k=_(54360);function H(x,R=p.E){return(0,E.N)((A,O)=>{let F=null,L=null,I=null;const Z=()=>{if(F){F.unsubscribe(),F=null;const G=L;L=null,O.next(G)}};function j(){const G=I+x,re=R.now();if(re<G)return F=this.schedule(void 0,G-re),void O.add(F);Z()}A.subscribe((0,k._)(O,G=>{L=G,I=R.now(),F||(F=R.schedule(j,x),O.add(F))},()=>{Z(),O.complete()},void 0,()=>{L=F=null}))})}},91986:(Fe,z,_)=>{"use strict";_.d(z,{c:()=>j});var p=_(43236),E=_(28793),k=_(96697),H=_(39974),x=_(54360),R=_(85343),O=_(73703),F=_(31397),L=_(58750);function I(G,re){return re?te=>(0,E.x)(re.pipe((0,k.s)(1),function A(){return(0,H.N)((G,re)=>{G.subscribe((0,x._)(re,R.l))})}()),te.pipe(I(G))):(0,F.Z)((te,J)=>(0,L.Tg)(G(te,J)).pipe((0,k.s)(1),(0,O.u)(te)))}var Z=_(41584);function j(G,re=p.E){const te=(0,Z.O)(G,re);return I(()=>te)}},23294:(Fe,z,_)=>{"use strict";_.d(z,{F:()=>H});var p=_(33669),E=_(39974),k=_(54360);function H(R,A=p.D){return R=R??x,(0,E.N)((O,F)=>{let L,I=!0;O.subscribe((0,k._)(F,Z=>{const j=A(Z);(I||!R(L,j))&&(I=!1,L=j,F.next(Z))}))})}function x(R,A){return R===A}},5964:(Fe,z,_)=>{"use strict";_.d(z,{p:()=>k});var p=_(39974),E=_(54360);function k(H,x){return(0,p.N)((R,A)=>{let O=0;R.subscribe((0,E._)(A,F=>H.call(x,F,O++)&&A.next(F)))})}},70980:(Fe,z,_)=>{"use strict";_.d(z,{j:()=>E});var p=_(39974);function E(k){return(0,p.N)((H,x)=>{try{H.subscribe(x)}finally{x.add(k)}})}},96354:(Fe,z,_)=>{"use strict";_.d(z,{T:()=>k});var p=_(39974),E=_(54360);function k(H,x){return(0,p.N)((R,A)=>{let O=0;R.subscribe((0,E._)(A,F=>{A.next(H.call(x,F,O++))}))})}},73703:(Fe,z,_)=>{"use strict";_.d(z,{u:()=>E});var p=_(96354);function E(k){return(0,p.T)(()=>k)}},26365:(Fe,z,_)=>{"use strict";_.d(z,{U:()=>k});var p=_(31397),E=_(33669);function k(H=1/0){return(0,p.Z)(E.D,H)}},31397:(Fe,z,_)=>{"use strict";_.d(z,{Z:()=>O});var p=_(96354),E=_(58750),k=_(39974),H=_(45225),x=_(54360),A=_(98071);function O(F,L,I=1/0){return(0,A.T)(L)?O((Z,j)=>(0,p.T)((G,re)=>L(Z,G,j,re))((0,E.Tg)(F(Z,j))),I):("number"==typeof L&&(I=L),(0,k.N)((Z,j)=>function R(F,L,I,Z,j,G,re,te){const J=[];let Y=0,oe=0,ae=!1;const se=()=>{ae&&!J.length&&!Y&&L.complete()},de=we=>Y<Z?le(we):J.push(we),le=we=>{G&&L.next(we),Y++;let xe=!1;(0,E.Tg)(I(we,oe++)).subscribe((0,x._)(L,Ce=>{j?.(Ce),G?de(Ce):L.next(Ce)},()=>{xe=!0},void 0,()=>{if(xe)try{for(Y--;J.length&&Y<Z;){const Ce=J.shift();re?(0,H.N)(L,re,()=>le(Ce)):le(Ce)}se()}catch(Ce){L.error(Ce)}}))};return F.subscribe((0,x._)(L,de,()=>{ae=!0,se()})),()=>{te?.()}}(Z,j,F,I)))}},99898:(Fe,z,_)=>{"use strict";_.d(z,{B:()=>k});var p=_(39974),E=_(54360);function k(){return(0,p.N)((H,x)=>{let R=null;H._refCount++;const A=(0,E._)(x,void 0,void 0,void 0,()=>{if(!H||H._refCount<=0||0<--H._refCount)return void(R=null);const O=H._connection,F=R;R=null,O&&(!F||O===F)&&O.unsubscribe(),x.unsubscribe()});H.subscribe(A),A.closed||(R=H.connect())})}},97647:(Fe,z,_)=>{"use strict";_.d(z,{u:()=>x});var p=_(58750),E=_(21413),k=_(47707),H=_(39974);function x(A={}){const{connector:O=(()=>new E.B),resetOnError:F=!0,resetOnComplete:L=!0,resetOnRefCountZero:I=!0}=A;return Z=>{let j,G,re,te=0,J=!1,Y=!1;const oe=()=>{G?.unsubscribe(),G=void 0},ae=()=>{oe(),j=re=void 0,J=Y=!1},se=()=>{const de=j;ae(),de?.unsubscribe()};return(0,H.N)((de,le)=>{te++,!Y&&!J&&oe();const we=re=re??O();le.add(()=>{te--,0===te&&!Y&&!J&&(G=R(se,I))}),we.subscribe(le),!j&&te>0&&(j=new k.Ms({next:xe=>we.next(xe),error:xe=>{Y=!0,oe(),G=R(ae,F,xe),we.error(xe)},complete:()=>{J=!0,oe(),G=R(ae,L),we.complete()}}),(0,p.Tg)(de).subscribe(j))})(Z)}}function R(A,O,...F){if(!0===O)return void A();if(!1===O)return;const L=new k.Ms({next:()=>{L.unsubscribe(),A()}});return(0,p.Tg)(O(...F)).subscribe(L)}},44668:(Fe,z,_)=>{"use strict";_.d(z,{t:()=>k});var p=_(92771),E=_(97647);function k(H,x,R){let A,O=!1;return H&&"object"==typeof H?({bufferSize:A=1/0,windowTime:x=1/0,refCount:O=!1,scheduler:R}=H):A=H??1/0,(0,E.u)({connector:()=>new p.m(A,x,R),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:O})}},65245:(Fe,z,_)=>{"use strict";_.d(z,{i:()=>E});var p=_(5964);function E(k){return(0,p.p)((H,x)=>k<=x)}},99172:(Fe,z,_)=>{"use strict";_.d(z,{Z:()=>H});var p=_(28793),E=_(9326),k=_(39974);function H(...x){const R=(0,E.lI)(x);return(0,k.N)((A,O)=>{(R?(0,p.x)(x,A,R):(0,p.x)(x,A)).subscribe(O)})}},25558:(Fe,z,_)=>{"use strict";_.d(z,{n:()=>H});var p=_(58750),E=_(39974),k=_(54360);function H(x,R){return(0,E.N)((A,O)=>{let F=null,L=0,I=!1;const Z=()=>I&&!F&&O.complete();A.subscribe((0,k._)(O,j=>{F?.unsubscribe();let G=0;const re=L++;(0,p.Tg)(x(j,re)).subscribe(F=(0,k._)(O,te=>O.next(R?R(j,te,re,G++):te),()=>{F=null,Z()}))},()=>{I=!0,Z()}))})}},96697:(Fe,z,_)=>{"use strict";_.d(z,{s:()=>H});var p=_(983),E=_(39974),k=_(54360);function H(x){return x<=0?()=>p.w:(0,E.N)((R,A)=>{let O=0;R.subscribe((0,k._)(A,F=>{++O<=x&&(A.next(F),x<=O&&A.complete())}))})}},56977:(Fe,z,_)=>{"use strict";_.d(z,{Q:()=>x});var p=_(39974),E=_(54360),k=_(58750),H=_(85343);function x(R){return(0,p.N)((A,O)=>{(0,k.Tg)(R).subscribe((0,E._)(O,()=>O.complete(),H.l)),!O.closed&&A.subscribe(O)})}},88141:(Fe,z,_)=>{"use strict";_.d(z,{M:()=>x});var p=_(98071),E=_(39974),k=_(54360),H=_(33669);function x(R,A,O){const F=(0,p.T)(R)||A||O?{next:R,error:A,complete:O}:R;return F?(0,E.N)((L,I)=>{var Z;null===(Z=F.subscribe)||void 0===Z||Z.call(F);let j=!0;L.subscribe((0,k._)(I,G=>{var re;null===(re=F.next)||void 0===re||re.call(F,G),I.next(G)},()=>{var G;j=!1,null===(G=F.complete)||void 0===G||G.call(F),I.complete()},G=>{var re;j=!1,null===(re=F.error)||void 0===re||re.call(F,G),I.error(G)},()=>{var G,re;j&&(null===(G=F.unsubscribe)||void 0===G||G.call(F)),null===(re=F.finalize)||void 0===re||re.call(F)}))}):H.D}},96780:(Fe,z,_)=>{"use strict";_.d(z,{R:()=>x});var p=_(18359);class E extends p.yU{constructor(A,O){super()}schedule(A,O=0){return this}}const k={setInterval(R,A,...O){const{delegate:F}=k;return F?.setInterval?F.setInterval(R,A,...O):setInterval(R,A,...O)},clearInterval(R){const{delegate:A}=k;return(A?.clearInterval||clearInterval)(R)},delegate:void 0};var H=_(57908);class x extends E{constructor(A,O){super(A,O),this.scheduler=A,this.work=O,this.pending=!1}schedule(A,O=0){var F;if(this.closed)return this;this.state=A;const L=this.id,I=this.scheduler;return null!=L&&(this.id=this.recycleAsyncId(I,L,O)),this.pending=!0,this.delay=O,this.id=null!==(F=this.id)&&void 0!==F?F:this.requestAsyncId(I,this.id,O),this}requestAsyncId(A,O,F=0){return k.setInterval(A.flush.bind(A,this),F)}recycleAsyncId(A,O,F=0){if(null!=F&&this.delay===F&&!1===this.pending)return O;null!=O&&k.clearInterval(O)}execute(A,O){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const F=this._execute(A,O);if(F)return F;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(A,O){let L,F=!1;try{this.work(A)}catch(I){F=!0,L=I||new Error("Scheduled action threw falsy error")}if(F)return this.unsubscribe(),L}unsubscribe(){if(!this.closed){const{id:A,scheduler:O}=this,{actions:F}=O;this.work=this.state=this.scheduler=null,this.pending=!1,(0,H.o)(F,this),null!=A&&(this.id=this.recycleAsyncId(O,A,null)),this.delay=null,super.unsubscribe()}}}},39687:(Fe,z,_)=>{"use strict";_.d(z,{q:()=>k});var p=_(86129);class E{constructor(x,R=E.now){this.schedulerActionCtor=x,this.now=R}schedule(x,R=0,A){return new this.schedulerActionCtor(this,x).schedule(A,R)}}E.now=p.U.now;class k extends E{constructor(x,R=E.now){super(x,R),this.actions=[],this._active=!1}flush(x){const{actions:R}=this;if(this._active)return void R.push(x);let A;this._active=!0;do{if(A=x.execute(x.state,x.delay))break}while(x=R.shift());if(this._active=!1,A){for(;x=R.shift();)x.unsubscribe();throw A}}}},30536:(Fe,z,_)=>{"use strict";_.d(z,{X:()=>A});var p=_(96780),E=_(18359);const k={schedule(F){let L=requestAnimationFrame,I=cancelAnimationFrame;const{delegate:Z}=k;Z&&(L=Z.requestAnimationFrame,I=Z.cancelAnimationFrame);const j=L(G=>{I=void 0,F(G)});return new E.yU(()=>I?.(j))},requestAnimationFrame(...F){const{delegate:L}=k;return(L?.requestAnimationFrame||requestAnimationFrame)(...F)},cancelAnimationFrame(...F){const{delegate:L}=k;return(L?.cancelAnimationFrame||cancelAnimationFrame)(...F)},delegate:void 0};var x=_(39687);const A=new class R extends x.q{flush(L){this._active=!0;const I=this._scheduled;this._scheduled=void 0;const{actions:Z}=this;let j;L=L||Z.shift();do{if(j=L.execute(L.state,L.delay))break}while((L=Z[0])&&L.id===I&&Z.shift());if(this._active=!1,j){for(;(L=Z[0])&&L.id===I&&Z.shift();)L.unsubscribe();throw j}}}(class H extends p.R{constructor(L,I){super(L,I),this.scheduler=L,this.work=I}requestAsyncId(L,I,Z=0){return null!==Z&&Z>0?super.requestAsyncId(L,I,Z):(L.actions.push(this),L._scheduled||(L._scheduled=k.requestAnimationFrame(()=>L.flush(void 0))))}recycleAsyncId(L,I,Z=0){var j;if(null!=Z?Z>0:this.delay>0)return super.recycleAsyncId(L,I,Z);const{actions:G}=L;null!=I&&(null===(j=G[G.length-1])||void 0===j?void 0:j.id)!==I&&(k.cancelAnimationFrame(I),L._scheduled=void 0)}})},25007:(Fe,z,_)=>{"use strict";_.d(z,{$:()=>G});var p=_(96780);let k,E=1;const H={};function x(te){return te in H&&(delete H[te],!0)}const R={setImmediate(te){const J=E++;return H[J]=!0,k||(k=Promise.resolve()),k.then(()=>x(J)&&te()),J},clearImmediate(te){x(te)}},{setImmediate:O,clearImmediate:F}=R,L={setImmediate(...te){const{delegate:J}=L;return(J?.setImmediate||O)(...te)},clearImmediate(te){const{delegate:J}=L;return(J?.clearImmediate||F)(te)},delegate:void 0};var Z=_(39687);const G=new class j extends Z.q{flush(J){this._active=!0;const Y=this._scheduled;this._scheduled=void 0;const{actions:oe}=this;let ae;J=J||oe.shift();do{if(ae=J.execute(J.state,J.delay))break}while((J=oe[0])&&J.id===Y&&oe.shift());if(this._active=!1,ae){for(;(J=oe[0])&&J.id===Y&&oe.shift();)J.unsubscribe();throw ae}}}(class I extends p.R{constructor(J,Y){super(J,Y),this.scheduler=J,this.work=Y}requestAsyncId(J,Y,oe=0){return null!==oe&&oe>0?super.requestAsyncId(J,Y,oe):(J.actions.push(this),J._scheduled||(J._scheduled=L.setImmediate(J.flush.bind(J,void 0))))}recycleAsyncId(J,Y,oe=0){var ae;if(null!=oe?oe>0:this.delay>0)return super.recycleAsyncId(J,Y,oe);const{actions:se}=J;null!=Y&&(null===(ae=se[se.length-1])||void 0===ae?void 0:ae.id)!==Y&&(L.clearImmediate(Y),J._scheduled===Y&&(J._scheduled=void 0))}})},43236:(Fe,z,_)=>{"use strict";_.d(z,{E:()=>k,b:()=>H});var p=_(96780);const k=new(_(39687).q)(p.R),H=k},86129:(Fe,z,_)=>{"use strict";_.d(z,{U:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},19270:(Fe,z,_)=>{"use strict";_.d(z,{f:()=>p});const p={setTimeout(E,k,...H){const{delegate:x}=p;return x?.setTimeout?x.setTimeout(E,k,...H):setTimeout(E,k,...H)},clearTimeout(E){const{delegate:k}=p;return(k?.clearTimeout||clearTimeout)(E)},delegate:void 0}},4761:(Fe,z,_)=>{"use strict";_.d(z,{l:()=>E});const E=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Fe,z,_)=>{"use strict";_.d(z,{s:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(Fe,z,_)=>{"use strict";_.d(z,{R0:()=>R,lI:()=>x,ms:()=>H});var p=_(98071),E=_(79470);function k(A){return A[A.length-1]}function H(A){return(0,p.T)(k(A))?A.pop():void 0}function x(A){return(0,E.m)(k(A))?A.pop():void 0}function R(A,O){return"number"==typeof k(A)?A.pop():O}},93073:(Fe,z,_)=>{"use strict";_.d(z,{D:()=>x});const{isArray:p}=Array,{getPrototypeOf:E,prototype:k,keys:H}=Object;function x(A){if(1===A.length){const O=A[0];if(p(O))return{args:O,keys:null};if(function R(A){return A&&"object"==typeof A&&E(A)===k}(O)){const F=H(O);return{args:F.map(L=>O[L]),keys:F}}}return{args:A,keys:null}}},57908:(Fe,z,_)=>{"use strict";function p(E,k){if(E){const H=E.indexOf(k);0<=H&&E.splice(H,1)}}_.d(z,{o:()=>p})},81853:(Fe,z,_)=>{"use strict";function p(E){const H=E(x=>{Error.call(x),x.stack=(new Error).stack});return H.prototype=Object.create(Error.prototype),H.prototype.constructor=H,H}_.d(z,{L:()=>p})},58496:(Fe,z,_)=>{"use strict";function p(E,k){return E.reduce((H,x,R)=>(H[x]=k[R],H),{})}_.d(z,{e:()=>p})},49786:(Fe,z,_)=>{"use strict";_.d(z,{Y:()=>k,l:()=>H});var p=_(41026);let E=null;function k(x){if(p.$.useDeprecatedSynchronousErrorHandling){const R=!E;if(R&&(E={errorThrown:!1,error:null}),x(),R){const{errorThrown:A,error:O}=E;if(E=null,A)throw O}}else x()}function H(x){p.$.useDeprecatedSynchronousErrorHandling&&E&&(E.errorThrown=!0,E.error=x)}},45225:(Fe,z,_)=>{"use strict";function p(E,k,H,x=0,R=!1){const A=k.schedule(function(){H(),R?E.add(this.schedule(null,x)):this.unsubscribe()},x);if(E.add(A),!R)return A}_.d(z,{N:()=>p})},33669:(Fe,z,_)=>{"use strict";function p(E){return E}_.d(z,{D:()=>p})},47441:(Fe,z,_)=>{"use strict";_.d(z,{X:()=>p});const p=E=>E&&"number"==typeof E.length&&"function"!=typeof E},37953:(Fe,z,_)=>{"use strict";_.d(z,{T:()=>E});var p=_(98071);function E(k){return Symbol.asyncIterator&&(0,p.T)(k?.[Symbol.asyncIterator])}},98071:(Fe,z,_)=>{"use strict";function p(E){return"function"==typeof E}_.d(z,{T:()=>p})},55055:(Fe,z,_)=>{"use strict";_.d(z,{l:()=>k});var p=_(3494),E=_(98071);function k(H){return(0,E.T)(H[p.s])}},85397:(Fe,z,_)=>{"use strict";_.d(z,{x:()=>k});var p=_(4761),E=_(98071);function k(H){return(0,E.T)(H?.[p.l])}},74402:(Fe,z,_)=>{"use strict";_.d(z,{A:()=>k});var p=_(71985),E=_(98071);function k(H){return!!H&&(H instanceof p.c||(0,E.T)(H.lift)&&(0,E.T)(H.subscribe))}},59858:(Fe,z,_)=>{"use strict";_.d(z,{y:()=>E});var p=_(98071);function E(k){return(0,p.T)(k?.then)}},15196:(Fe,z,_)=>{"use strict";_.d(z,{C:()=>k,U:()=>H});var p=_(31635),E=_(98071);function k(x){return(0,p.AQ)(this,arguments,function*(){const A=x.getReader();try{for(;;){const{value:O,done:F}=yield(0,p.N3)(A.read());if(F)return yield(0,p.N3)(void 0);yield yield(0,p.N3)(O)}}finally{A.releaseLock()}})}function H(x){return(0,E.T)(x?.getReader)}},79470:(Fe,z,_)=>{"use strict";_.d(z,{m:()=>E});var p=_(98071);function E(k){return k&&(0,p.T)(k.schedule)}},39974:(Fe,z,_)=>{"use strict";_.d(z,{N:()=>k,S:()=>E});var p=_(98071);function E(H){return(0,p.T)(H?.lift)}function k(H){return x=>{if(E(x))return x.lift(function(R){try{return H(R,this)}catch(A){this.error(A)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Fe,z,_)=>{"use strict";_.d(z,{I:()=>H});var p=_(96354);const{isArray:E}=Array;function H(x){return(0,p.T)(R=>function k(x,R){return E(R)?x(...R):x(R)}(x,R))}},85343:(Fe,z,_)=>{"use strict";function p(){}_.d(z,{l:()=>p})},71203:(Fe,z,_)=>{"use strict";_.d(z,{F:()=>E,m:()=>k});var p=_(33669);function E(...H){return k(H)}function k(H){return 0===H.length?p.D:1===H.length?H[0]:function(R){return H.reduce((A,O)=>O(A),R)}}},45334:(Fe,z,_)=>{"use strict";_.d(z,{m:()=>k});var p=_(41026),E=_(19270);function k(H){E.f.setTimeout(()=>{const{onUnhandledError:x}=p.$;if(!x)throw H;x(H)})}},50591:(Fe,z,_)=>{"use strict";function p(E){return new TypeError(`You provided ${null!==E&&"object"==typeof E?"an invalid object":`'${E}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}_.d(z,{L:()=>p})},27054:(Fe,z,_)=>{var p=_(83838),E=p.Buffer;function k(x,R){for(var A in x)R[A]=x[A]}function H(x,R,A){return E(x,R,A)}E.from&&E.alloc&&E.allocUnsafe&&E.allocUnsafeSlow?Fe.exports=p:(k(p,z),z.Buffer=H),H.prototype=Object.create(E.prototype),k(E,H),H.from=function(x,R,A){if("number"==typeof x)throw new TypeError("Argument must not be a number");return E(x,R,A)},H.alloc=function(x,R,A){if("number"!=typeof x)throw new TypeError("Argument must be a number");var O=E(x);return void 0!==R?"string"==typeof A?O.fill(R,A):O.fill(R):O.fill(0),O},H.allocUnsafe=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return E(x)},H.allocUnsafeSlow=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return p.SlowBuffer(x)}},70463:(Fe,z,_)=>{var p=_(27054).Buffer;function E(k,H){this._block=p.alloc(k),this._finalSize=H,this._blockSize=k,this._len=0}E.prototype.update=function(k,H){"string"==typeof k&&(k=p.from(k,H=H||"utf8"));for(var x=this._block,R=this._blockSize,A=k.length,O=this._len,F=0;F<A;){for(var L=O%R,I=Math.min(A-F,R-L),Z=0;Z<I;Z++)x[L+Z]=k[F+Z];F+=I,(O+=I)%R==0&&this._update(x)}return this._len+=A,this},E.prototype.digest=function(k){var H=this._len%this._blockSize;this._block[H]=128,this._block.fill(0,H+1),H>=this._finalSize&&(this._update(this._block),this._block.fill(0));var x=8*this._len;if(x<=4294967295)this._block.writeUInt32BE(x,this._blockSize-4);else{var R=(4294967295&x)>>>0;this._block.writeUInt32BE((x-R)/4294967296,this._blockSize-8),this._block.writeUInt32BE(R,this._blockSize-4)}this._update(this._block);var O=this._hash();return k?O.toString(k):O},E.prototype._update=function(){throw new Error("_update must be implemented by subclass")},Fe.exports=E},25443:(Fe,z,_)=>{var p=Fe.exports=function(k){k=k.toLowerCase();var H=p[k];if(!H)throw new Error(k+" is not supported (we accept pull requests)");return new H};p.sha=_(48585),p.sha1=_(21270),p.sha224=_(42709),p.sha256=_(32148),p.sha384=_(51856),p.sha512=_(3121)},48585:(Fe,z,_)=>{var p=_(71993),E=_(70463),k=_(27054).Buffer,H=[1518500249,1859775393,-1894007588,-899497514],x=new Array(80);function R(){this.init(),this._w=x,E.call(this,64,56)}function A(L){return L<<5|L>>>27}function O(L){return L<<30|L>>>2}function F(L,I,Z,j){return 0===L?I&Z|~I&j:2===L?I&Z|I&j|Z&j:I^Z^j}p(R,E),R.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},R.prototype._update=function(L){for(var I=this._w,Z=0|this._a,j=0|this._b,G=0|this._c,re=0|this._d,te=0|this._e,J=0;J<16;++J)I[J]=L.readInt32BE(4*J);for(;J<80;++J)I[J]=I[J-3]^I[J-8]^I[J-14]^I[J-16];for(var Y=0;Y<80;++Y){var oe=~~(Y/20),ae=A(Z)+F(oe,j,G,re)+te+I[Y]+H[oe]|0;te=re,re=G,G=O(j),j=Z,Z=ae}this._a=Z+this._a|0,this._b=j+this._b|0,this._c=G+this._c|0,this._d=re+this._d|0,this._e=te+this._e|0},R.prototype._hash=function(){var L=k.allocUnsafe(20);return L.writeInt32BE(0|this._a,0),L.writeInt32BE(0|this._b,4),L.writeInt32BE(0|this._c,8),L.writeInt32BE(0|this._d,12),L.writeInt32BE(0|this._e,16),L},Fe.exports=R},21270:(Fe,z,_)=>{var p=_(71993),E=_(70463),k=_(27054).Buffer,H=[1518500249,1859775393,-1894007588,-899497514],x=new Array(80);function R(){this.init(),this._w=x,E.call(this,64,56)}function A(I){return I<<1|I>>>31}function O(I){return I<<5|I>>>27}function F(I){return I<<30|I>>>2}function L(I,Z,j,G){return 0===I?Z&j|~Z&G:2===I?Z&j|Z&G|j&G:Z^j^G}p(R,E),R.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},R.prototype._update=function(I){for(var Z=this._w,j=0|this._a,G=0|this._b,re=0|this._c,te=0|this._d,J=0|this._e,Y=0;Y<16;++Y)Z[Y]=I.readInt32BE(4*Y);for(;Y<80;++Y)Z[Y]=A(Z[Y-3]^Z[Y-8]^Z[Y-14]^Z[Y-16]);for(var oe=0;oe<80;++oe){var ae=~~(oe/20),se=O(j)+L(ae,G,re,te)+J+Z[oe]+H[ae]|0;J=te,te=re,re=F(G),G=j,j=se}this._a=j+this._a|0,this._b=G+this._b|0,this._c=re+this._c|0,this._d=te+this._d|0,this._e=J+this._e|0},R.prototype._hash=function(){var I=k.allocUnsafe(20);return I.writeInt32BE(0|this._a,0),I.writeInt32BE(0|this._b,4),I.writeInt32BE(0|this._c,8),I.writeInt32BE(0|this._d,12),I.writeInt32BE(0|this._e,16),I},Fe.exports=R},42709:(Fe,z,_)=>{var p=_(71993),E=_(32148),k=_(70463),H=_(27054).Buffer,x=new Array(64);function R(){this.init(),this._w=x,k.call(this,64,56)}p(R,E),R.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},R.prototype._hash=function(){var A=H.allocUnsafe(28);return A.writeInt32BE(this._a,0),A.writeInt32BE(this._b,4),A.writeInt32BE(this._c,8),A.writeInt32BE(this._d,12),A.writeInt32BE(this._e,16),A.writeInt32BE(this._f,20),A.writeInt32BE(this._g,24),A},Fe.exports=R},32148:(Fe,z,_)=>{var p=_(71993),E=_(70463),k=_(27054).Buffer,H=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],x=new Array(64);function R(){this.init(),this._w=x,E.call(this,64,56)}function A(j,G,re){return re^j&(G^re)}function O(j,G,re){return j&G|re&(j|G)}function F(j){return(j>>>2|j<<30)^(j>>>13|j<<19)^(j>>>22|j<<10)}function L(j){return(j>>>6|j<<26)^(j>>>11|j<<21)^(j>>>25|j<<7)}function I(j){return(j>>>7|j<<25)^(j>>>18|j<<14)^j>>>3}function Z(j){return(j>>>17|j<<15)^(j>>>19|j<<13)^j>>>10}p(R,E),R.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},R.prototype._update=function(j){for(var G=this._w,re=0|this._a,te=0|this._b,J=0|this._c,Y=0|this._d,oe=0|this._e,ae=0|this._f,se=0|this._g,de=0|this._h,le=0;le<16;++le)G[le]=j.readInt32BE(4*le);for(;le<64;++le)G[le]=Z(G[le-2])+G[le-7]+I(G[le-15])+G[le-16]|0;for(var we=0;we<64;++we){var xe=de+L(oe)+A(oe,ae,se)+H[we]+G[we]|0,Ce=F(re)+O(re,te,J)|0;de=se,se=ae,ae=oe,oe=Y+xe|0,Y=J,J=te,te=re,re=xe+Ce|0}this._a=re+this._a|0,this._b=te+this._b|0,this._c=J+this._c|0,this._d=Y+this._d|0,this._e=oe+this._e|0,this._f=ae+this._f|0,this._g=se+this._g|0,this._h=de+this._h|0},R.prototype._hash=function(){var j=k.allocUnsafe(32);return j.writeInt32BE(this._a,0),j.writeInt32BE(this._b,4),j.writeInt32BE(this._c,8),j.writeInt32BE(this._d,12),j.writeInt32BE(this._e,16),j.writeInt32BE(this._f,20),j.writeInt32BE(this._g,24),j.writeInt32BE(this._h,28),j},Fe.exports=R},51856:(Fe,z,_)=>{var p=_(71993),E=_(3121),k=_(70463),H=_(27054).Buffer,x=new Array(160);function R(){this.init(),this._w=x,k.call(this,128,112)}p(R,E),R.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},R.prototype._hash=function(){var A=H.allocUnsafe(48);function O(F,L,I){A.writeInt32BE(F,I),A.writeInt32BE(L,I+4)}return O(this._ah,this._al,0),O(this._bh,this._bl,8),O(this._ch,this._cl,16),O(this._dh,this._dl,24),O(this._eh,this._el,32),O(this._fh,this._fl,40),A},Fe.exports=R},3121:(Fe,z,_)=>{var p=_(71993),E=_(70463),k=_(27054).Buffer,H=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],x=new Array(160);function R(){this.init(),this._w=x,E.call(this,128,112)}function A(te,J,Y){return Y^te&(J^Y)}function O(te,J,Y){return te&J|Y&(te|J)}function F(te,J){return(te>>>28|J<<4)^(J>>>2|te<<30)^(J>>>7|te<<25)}function L(te,J){return(te>>>14|J<<18)^(te>>>18|J<<14)^(J>>>9|te<<23)}function I(te,J){return(te>>>1|J<<31)^(te>>>8|J<<24)^te>>>7}function Z(te,J){return(te>>>1|J<<31)^(te>>>8|J<<24)^(te>>>7|J<<25)}function j(te,J){return(te>>>19|J<<13)^(J>>>29|te<<3)^te>>>6}function G(te,J){return(te>>>19|J<<13)^(J>>>29|te<<3)^(te>>>6|J<<26)}function re(te,J){return te>>>0<J>>>0?1:0}p(R,E),R.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},R.prototype._update=function(te){for(var J=this._w,Y=0|this._ah,oe=0|this._bh,ae=0|this._ch,se=0|this._dh,de=0|this._eh,le=0|this._fh,we=0|this._gh,xe=0|this._hh,Ce=0|this._al,C=0|this._bl,a=0|this._cl,u=0|this._dl,y=0|this._el,g=0|this._fl,S=0|this._gl,T=0|this._hl,N=0;N<32;N+=2)J[N]=te.readInt32BE(4*N),J[N+1]=te.readInt32BE(4*N+4);for(;N<160;N+=2){var M=J[N-30],s=J[N-30+1],v=I(M,s),W=Z(s,M),K=j(M=J[N-4],s=J[N-4+1]),ee=G(s,M),Pe=J[N-32],$e=J[N-32+1],Se=W+J[N-14+1]|0,be=v+J[N-14]+re(Se,W)|0;be=(be=be+K+re(Se=Se+ee|0,ee)|0)+Pe+re(Se=Se+$e|0,$e)|0,J[N]=be,J[N+1]=Se}for(var Ne=0;Ne<160;Ne+=2){be=J[Ne],Se=J[Ne+1];var ye=O(Y,oe,ae),Te=O(Ce,C,a),pe=F(Y,Ce),fe=F(Ce,Y),Q=L(de,y),ie=L(y,de),ue=H[Ne],Ee=H[Ne+1],ke=A(de,le,we),Ue=A(y,g,S),Le=T+ie|0,_t=xe+Q+re(Le,T)|0;_t=(_t=(_t=_t+ke+re(Le=Le+Ue|0,Ue)|0)+ue+re(Le=Le+Ee|0,Ee)|0)+be+re(Le=Le+Se|0,Se)|0;var Ve=fe+Te|0,Be=pe+ye+re(Ve,fe)|0;xe=we,T=S,we=le,S=g,le=de,g=y,de=se+_t+re(y=u+Le|0,u)|0,se=ae,u=a,ae=oe,a=C,oe=Y,C=Ce,Y=_t+Be+re(Ce=Le+Ve|0,Le)|0}this._al=this._al+Ce|0,this._bl=this._bl+C|0,this._cl=this._cl+a|0,this._dl=this._dl+u|0,this._el=this._el+y|0,this._fl=this._fl+g|0,this._gl=this._gl+S|0,this._hl=this._hl+T|0,this._ah=this._ah+Y+re(this._al,Ce)|0,this._bh=this._bh+oe+re(this._bl,C)|0,this._ch=this._ch+ae+re(this._cl,a)|0,this._dh=this._dh+se+re(this._dl,u)|0,this._eh=this._eh+de+re(this._el,y)|0,this._fh=this._fh+le+re(this._fl,g)|0,this._gh=this._gh+we+re(this._gl,S)|0,this._hh=this._hh+xe+re(this._hl,T)|0},R.prototype._hash=function(){var te=k.allocUnsafe(64);function J(Y,oe,ae){te.writeInt32BE(Y,ae),te.writeInt32BE(oe,ae+4)}return J(this._ah,this._al,0),J(this._bh,this._bl,8),J(this._ch,this._cl,16),J(this._dh,this._dl,24),J(this._eh,this._el,32),J(this._fh,this._fl,40),J(this._gh,this._gl,48),J(this._hh,this._hl,56),te},Fe.exports=R},18876:Fe=>{"use strict";function _(H,x){return H+p(x)}function p(H){let x=H;return x-=x>>1&1431655765,x=(858993459&x)+(x>>2&858993459),16843009*(x+(x>>4)&252645135)>>24}function E(H,x){return H[0]-x[0]}function k(H){return H[1]}Fe.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(x,R){let A=this._internalPositionFor(x,!1);if(void 0===R)-1!==A&&(this._unsetInternalPos(A),this._unsetBit(x),this._changedLength=!0,this._changedData=!0);else{let O=!1;-1===A?(A=this._data.length,this._setBit(x),this._changedData=!0):O=!0,this._setInternalPos(A,x,R,O),this._changedLength=!0}}unset(x){this.set(x,void 0)}get(x){this._sortData();const R=this._internalPositionFor(x,!0);if(-1!==R)return this._data[R][1]}push(x){return this.set(this.length,x),this.length}get length(){if(this._sortData(),this._changedLength){const x=this._data[this._data.length-1];this._length=x?x[0]+1:0,this._changedLength=!1}return this._length}forEach(x){let R=0;for(;R<this.length;)x(this.get(R),R,this),R++}map(x){let R=0,A=new Array(this.length);for(;R<this.length;)A[R]=x(this.get(R),R,this),R++;return A}reduce(x,R){let A=0,O=R;for(;A<this.length;)O=x(O,this.get(A),A),A++;return O}find(x){let A,O,R=0;for(;R<this.length&&!A;)O=this.get(R),A=x(O),R++;return A?O:void 0}_internalPositionFor(x,R){const A=this._bytePosFor(x,R);if(A>=this._bitArrays.length)return-1;const O=this._bitArrays[A],F=x-7*A;return(O&1<<F)>0?this._bitArrays.slice(0,A).reduce(_,0)+p(O&~(4294967295<<F+1))-1:-1}_bytePosFor(x,R){const A=Math.floor(x/7),O=A+1;for(;!R&&this._bitArrays.length<O;)this._bitArrays.push(0);return A}_setBit(x){const R=this._bytePosFor(x,!1);this._bitArrays[R]|=1<<x-7*R}_unsetBit(x){const R=this._bytePosFor(x,!1);this._bitArrays[R]&=~(1<<x-7*R)}_setInternalPos(x,R,A,O){const F=this._data,L=[R,A];if(O)this._sortData(),F[x]=L;else{if(F.length)if(F[F.length-1][0]>=R)F.push(L);else if(F[0][0]<=R)F.unshift(L);else{const I=Math.round(F.length/2);this._data=F.slice(0,I).concat(L).concat(F.slice(I))}else this._data.push(L);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(x){this._data.splice(x,1)}_sortData(){this._changedData&&this._data.sort(E),this._changedData=!1}bitField(){const x=[];let F,R=8,A=0,O=0;const L=this._bitArrays.slice();for(;L.length||A;){0===A&&(F=L.shift(),A=7);const Z=Math.min(A,R);O|=(F&~(255<<Z))<<8-R,F>>>=Z,A-=Z,R-=Z,(!R||!A&&!L.length)&&(x.push(O),O=0,R=8)}for(var I=x.length-1;I>0&&0===x[I];I--)x.pop();return x}compactArray(){return this._sortData(),this._data.map(k)}}},7045:(Fe,z,_)=>{Fe.exports=k;var p=_(44356).EventEmitter;function k(){p.call(this)}_(71993)(k,p),k.Readable=_(19609),k.Writable=_(47849),k.Duplex=_(74075),k.Transform=_(2909),k.PassThrough=_(18823),k.finished=_(33139),k.pipeline=_(96249),k.Stream=k,k.prototype.pipe=function(H,x){var R=this;function A(G){H.writable&&!1===H.write(G)&&R.pause&&R.pause()}function O(){R.readable&&R.resume&&R.resume()}R.on("data",A),H.on("drain",O),!H._isStdio&&(!x||!1!==x.end)&&(R.on("end",L),R.on("close",I));var F=!1;function L(){F||(F=!0,H.end())}function I(){F||(F=!0,"function"==typeof H.destroy&&H.destroy())}function Z(G){if(j(),0===p.listenerCount(this,"error"))throw G}function j(){R.removeListener("data",A),H.removeListener("drain",O),R.removeListener("end",L),R.removeListener("close",I),R.removeListener("error",Z),H.removeListener("error",Z),R.removeListener("end",j),R.removeListener("close",j),H.removeListener("close",j)}return R.on("error",Z),H.on("error",Z),R.on("end",j),R.on("close",j),H.on("close",j),H.emit("pipe",R),H}},78454:(Fe,z,_)=>{"use strict";var p=_(27054).Buffer,E=p.isEncoding||function(Y){switch((Y=""+Y)&&Y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function x(Y){var oe;switch(this.encoding=function H(Y){var oe=function k(Y){if(!Y)return"utf8";for(var oe;;)switch(Y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Y;default:if(oe)return;Y=(""+Y).toLowerCase(),oe=!0}}(Y);if("string"!=typeof oe&&(p.isEncoding===E||!E(Y)))throw new Error("Unknown encoding: "+Y);return oe||Y}(Y),this.encoding){case"utf16le":this.text=Z,this.end=j,oe=4;break;case"utf8":this.fillLast=F,oe=4;break;case"base64":this.text=G,this.end=re,oe=3;break;default:return this.write=te,void(this.end=J)}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(oe)}function R(Y){return Y<=127?0:Y>>5==6?2:Y>>4==14?3:Y>>3==30?4:Y>>6==2?-1:-2}function F(Y){var oe=this.lastTotal-this.lastNeed,ae=function O(Y,oe,ae){if(128!=(192&oe[0]))return Y.lastNeed=0,"\ufffd";if(Y.lastNeed>1&&oe.length>1){if(128!=(192&oe[1]))return Y.lastNeed=1,"\ufffd";if(Y.lastNeed>2&&oe.length>2&&128!=(192&oe[2]))return Y.lastNeed=2,"\ufffd"}}(this,Y);return void 0!==ae?ae:this.lastNeed<=Y.length?(Y.copy(this.lastChar,oe,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(Y.copy(this.lastChar,oe,0,Y.length),void(this.lastNeed-=Y.length))}function Z(Y,oe){if((Y.length-oe)%2==0){var ae=Y.toString("utf16le",oe);if(ae){var se=ae.charCodeAt(ae.length-1);if(se>=55296&&se<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Y[Y.length-2],this.lastChar[1]=Y[Y.length-1],ae.slice(0,-1)}return ae}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Y[Y.length-1],Y.toString("utf16le",oe,Y.length-1)}function j(Y){var oe=Y&&Y.length?this.write(Y):"";return this.lastNeed?oe+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):oe}function G(Y,oe){var ae=(Y.length-oe)%3;return 0===ae?Y.toString("base64",oe):(this.lastNeed=3-ae,this.lastTotal=3,1===ae?this.lastChar[0]=Y[Y.length-1]:(this.lastChar[0]=Y[Y.length-2],this.lastChar[1]=Y[Y.length-1]),Y.toString("base64",oe,Y.length-ae))}function re(Y){var oe=Y&&Y.length?this.write(Y):"";return this.lastNeed?oe+this.lastChar.toString("base64",0,3-this.lastNeed):oe}function te(Y){return Y.toString(this.encoding)}function J(Y){return Y&&Y.length?this.write(Y):""}z.StringDecoder=x,x.prototype.write=function(Y){if(0===Y.length)return"";var oe,ae;if(this.lastNeed){if(void 0===(oe=this.fillLast(Y)))return"";ae=this.lastNeed,this.lastNeed=0}else ae=0;return ae<Y.length?oe?oe+this.text(Y,ae):this.text(Y,ae):oe||""},x.prototype.end=function I(Y){var oe=Y&&Y.length?this.write(Y):"";return this.lastNeed?oe+"\ufffd":oe},x.prototype.text=function L(Y,oe){var ae=function A(Y,oe,ae){var se=oe.length-1;if(se<ae)return 0;var de=R(oe[se]);return de>=0?(de>0&&(Y.lastNeed=de-1),de):--se<ae||-2===de?0:(de=R(oe[se]))>=0?(de>0&&(Y.lastNeed=de-2),de):--se<ae||-2===de?0:(de=R(oe[se]))>=0?(de>0&&(2===de?de=0:Y.lastNeed=de-3),de):0}(this,Y,oe);if(!this.lastNeed)return Y.toString("utf8",oe);this.lastTotal=ae;var se=Y.length-(ae-this.lastNeed);return Y.copy(this.lastChar,0,se),Y.toString("utf8",oe,se)},x.prototype.fillLast=function(Y){if(this.lastNeed<=Y.length)return Y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Y.length),this.lastNeed-=Y.length}},95568:function(Fe,z){!function(_){"use strict";function p(){for(var St=arguments.length,Xe=Array(St),nt=0;nt<St;nt++)Xe[nt]=arguments[nt];if(Xe.length>1){Xe[0]=Xe[0].slice(0,-1);for(var Vt=Xe.length-1,Ot=1;Ot<Vt;++Ot)Xe[Ot]=Xe[Ot].slice(1,-1);return Xe[Vt]=Xe[Vt].slice(1),Xe.join("")}return Xe[0]}function E(St){return"(?:"+St+")"}function k(St){return void 0===St?"undefined":null===St?"null":Object.prototype.toString.call(St).split(" ").pop().split("]").shift().toLowerCase()}function H(St){return St.toUpperCase()}function A(St){var Xe="[A-Za-z]",Vt="[0-9]",sn=p(Vt,"[A-Fa-f]"),In=E(E("%[EFef]"+sn+"%"+sn+sn+"%"+sn+sn)+"|"+E("%[89A-Fa-f]"+sn+"%"+sn+sn)+"|"+E("%"+sn+sn)),Jn="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ln=p("[\\:\\/\\?\\#\\[\\]\\@]",Jn),st=St?"[\\uE000-\\uF8FF]":"[]",Ge=p(Xe,Vt,"[\\-\\.\\_\\~]",St?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),ct=E(Xe+p(Xe,Vt,"[\\+\\-\\.]")+"*"),Yt=E(E(In+"|"+p(Ge,Jn,"[\\:]"))+"*"),Wn=(E(E("25[0-5]")+"|"+E("2[0-4]"+Vt)+"|"+E("1"+Vt+Vt)+"|"+E("[1-9]"+Vt)+"|"+Vt),E(E("25[0-5]")+"|"+E("2[0-4]"+Vt)+"|"+E("1"+Vt+Vt)+"|"+E("0?[1-9]"+Vt)+"|0?0?"+Vt)),Yn=E(Wn+"\\."+Wn+"\\."+Wn+"\\."+Wn),yr=E(sn+"{1,4}"),Nr=E(E(yr+"\\:"+yr)+"|"+Yn),Ur=E(E(yr+"\\:")+"{6}"+Nr),Kr=E("\\:\\:"+E(yr+"\\:")+"{5}"+Nr),Xr=E(E(yr)+"?\\:\\:"+E(yr+"\\:")+"{4}"+Nr),ri=E(E(E(yr+"\\:")+"{0,1}"+yr)+"?\\:\\:"+E(yr+"\\:")+"{3}"+Nr),en=E(E(E(yr+"\\:")+"{0,2}"+yr)+"?\\:\\:"+E(yr+"\\:")+"{2}"+Nr),wn=E(E(E(yr+"\\:")+"{0,3}"+yr)+"?\\:\\:"+yr+"\\:"+Nr),Dn=E(E(E(yr+"\\:")+"{0,4}"+yr)+"?\\:\\:"+Nr),Fn=E(E(E(yr+"\\:")+"{0,5}"+yr)+"?\\:\\:"+yr),fr=E(E(E(yr+"\\:")+"{0,6}"+yr)+"?\\:\\:"),Sr=E([Ur,Kr,Xr,ri,en,wn,Dn,Fn,fr].join("|")),xr=E(E(Ge+"|"+In)+"+"),jr=(E(Sr+"\\%25"+xr),E(Sr+E("\\%25|\\%(?!"+sn+"{2})")+xr)),ti=E("[vV]"+sn+"+\\."+p(Ge,Jn,"[\\:]")+"+"),xo=E("\\["+E(jr+"|"+Sr+"|"+ti)+"\\]"),bi=E(E(In+"|"+p(Ge,Jn))+"*"),Ao=E(xo+"|"+Yn+"(?!"+bi+")|"+bi),ko=E(Vt+"*"),Jo=E(E(Yt+"@")+"?"+Ao+E("\\:"+ko)+"?"),ji=E(In+"|"+p(Ge,Jn,"[\\:\\@]")),wi=E(ji+"*"),Ui=E(ji+"+"),La=E(E(In+"|"+p(Ge,Jn,"[\\@]"))+"+"),Mi=E(E("\\/"+wi)+"*"),ls=E("\\/"+E(Ui+Mi)+"?"),Js=E(La+Mi),So=E(Ui+Mi),Ki="(?!"+ji+")",ua=(E(Mi+"|"+ls+"|"+Js+"|"+So+"|"+Ki),E(E(ji+"|"+p("[\\/\\?]",st))+"*")),wa=E(E(ji+"|[\\/\\?]")+"*"),cl=E(E("\\/\\/"+Jo+Mi)+"|"+ls+"|"+So+"|"+Ki),Ya=E(ct+"\\:"+cl+E("\\?"+ua)+"?"+E("\\#"+wa)+"?"),Su=E(E("\\/\\/"+Jo+Mi)+"|"+ls+"|"+Js+"|"+Ki),Mu=E(Su+E("\\?"+ua)+"?"+E("\\#"+wa)+"?");return E(Ya+"|"+Mu),E(ct+"\\:"+cl+E("\\?"+ua)+"?"),E(E("\\/\\/("+E("("+Yt+")@")+"?("+Ao+")"+E("\\:("+ko+")")+"?)")+"?("+Mi+"|"+ls+"|"+So+"|"+Ki+")"),E("\\?("+ua+")"),E("\\#("+wa+")"),E(E("\\/\\/("+E("("+Yt+")@")+"?("+Ao+")"+E("\\:("+ko+")")+"?)")+"?("+Mi+"|"+ls+"|"+Js+"|"+Ki+")"),E("\\?("+ua+")"),E("\\#("+wa+")"),E(E("\\/\\/("+E("("+Yt+")@")+"?("+Ao+")"+E("\\:("+ko+")")+"?)")+"?("+Mi+"|"+ls+"|"+So+"|"+Ki+")"),E("\\?("+ua+")"),E("\\#("+wa+")"),E("("+Yt+")@"),E("\\:("+ko+")"),{NOT_SCHEME:new RegExp(p("[^]",Xe,Vt,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(p("[^\\%\\:]",Ge,Jn),"g"),NOT_HOST:new RegExp(p("[^\\%\\[\\]\\:]",Ge,Jn),"g"),NOT_PATH:new RegExp(p("[^\\%\\/\\:\\@]",Ge,Jn),"g"),NOT_PATH_NOSCHEME:new RegExp(p("[^\\%\\/\\@]",Ge,Jn),"g"),NOT_QUERY:new RegExp(p("[^\\%]",Ge,Jn,"[\\:\\@\\/\\?]",st),"g"),NOT_FRAGMENT:new RegExp(p("[^\\%]",Ge,Jn,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(p("[^]",Ge,Jn),"g"),UNRESERVED:new RegExp(Ge,"g"),OTHER_CHARS:new RegExp(p("[^\\%]",Ge,Ln),"g"),PCT_ENCODED:new RegExp(In,"g"),IPV4ADDRESS:new RegExp("^("+Yn+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Sr+")"+E(E("\\%25|\\%(?!"+sn+"{2})")+"("+xr+")")+"?\\]?$")}}var O=A(!1),F=A(!0),L=function(){return function(Xe,nt){if(Array.isArray(Xe))return Xe;if(Symbol.iterator in Object(Xe))return function St(Xe,nt){var Vt=[],Ot=!0,sn=!1,Hn=void 0;try{for(var In,bn=Xe[Symbol.iterator]();!(Ot=(In=bn.next()).done)&&(Vt.push(In.value),!nt||Vt.length!==nt);Ot=!0);}catch(Ar){sn=!0,Hn=Ar}finally{try{!Ot&&bn.return&&bn.return()}finally{if(sn)throw Hn}}return Vt}(Xe,nt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Z=2147483647,j=36,se=/^xn--/,de=/[^\0-\x7E]/,le=/[\x2E\u3002\uFF0E\uFF61]/g,we={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Ce=Math.floor,C=String.fromCharCode;function a(St){throw new RangeError(we[St])}function y(St,Xe){var nt=St.split("@"),Vt="";return nt.length>1&&(Vt=nt[0]+"@",St=nt[1]),Vt+function u(St,Xe){for(var nt=[],Vt=St.length;Vt--;)nt[Vt]=Xe(St[Vt]);return nt}((St=St.replace(le,".")).split("."),Xe).join(".")}function g(St){for(var Xe=[],nt=0,Vt=St.length;nt<Vt;){var Ot=St.charCodeAt(nt++);if(Ot>=55296&&Ot<=56319&&nt<Vt){var sn=St.charCodeAt(nt++);56320==(64512&sn)?Xe.push(((1023&Ot)<<10)+(1023&sn)+65536):(Xe.push(Ot),nt--)}else Xe.push(Ot)}return Xe}var T=function(Xe){return Xe-48<10?Xe-22:Xe-65<26?Xe-65:Xe-97<26?Xe-97:j},N=function(Xe,nt){return Xe+22+75*(Xe<26)-((0!=nt)<<5)},M=function(Xe,nt,Vt){var Ot=0;for(Xe=Vt?Ce(Xe/700):Xe>>1,Xe+=Ce(Xe/nt);Xe>455;Ot+=j)Xe=Ce(Xe/35);return Ce(Ot+36*Xe/(Xe+38))},s=function(Xe){var nt=[],Vt=Xe.length,Ot=0,sn=128,Hn=72,bn=Xe.lastIndexOf("-");bn<0&&(bn=0);for(var In=0;In<bn;++In)Xe.charCodeAt(In)>=128&&a("not-basic"),nt.push(Xe.charCodeAt(In));for(var Ar=bn>0?bn+1:0;Ar<Vt;){for(var Jn=Ot,Ln=1,$n=j;;$n+=j){Ar>=Vt&&a("invalid-input");var st=T(Xe.charCodeAt(Ar++));(st>=j||st>Ce((Z-Ot)/Ln))&&a("overflow"),Ot+=st*Ln;var Ge=$n<=Hn?1:$n>=Hn+26?26:$n-Hn;if(st<Ge)break;var ct=j-Ge;Ln>Ce(Z/ct)&&a("overflow"),Ln*=ct}var Yt=nt.length+1;Hn=M(Ot-Jn,Yt,0==Jn),Ce(Ot/Yt)>Z-sn&&a("overflow"),sn+=Ce(Ot/Yt),Ot%=Yt,nt.splice(Ot++,0,sn)}return String.fromCodePoint.apply(String,nt)},v=function(Xe){var nt=[],Vt=(Xe=g(Xe)).length,Ot=128,sn=0,Hn=72,bn=!0,In=!1,Ar=void 0;try{for(var Ln,Jn=Xe[Symbol.iterator]();!(bn=(Ln=Jn.next()).done);bn=!0){var $n=Ln.value;$n<128&&nt.push(C($n))}}catch(jr){In=!0,Ar=jr}finally{try{!bn&&Jn.return&&Jn.return()}finally{if(In)throw Ar}}var st=nt.length,Ge=st;for(st&&nt.push("-");Ge<Vt;){var ct=Z,Yt=!0,_n=!1,Wn=void 0;try{for(var yr,Yn=Xe[Symbol.iterator]();!(Yt=(yr=Yn.next()).done);Yt=!0){var Nr=yr.value;Nr>=Ot&&Nr<ct&&(ct=Nr)}}catch(jr){_n=!0,Wn=jr}finally{try{!Yt&&Yn.return&&Yn.return()}finally{if(_n)throw Wn}}var Ur=Ge+1;ct-Ot>Ce((Z-sn)/Ur)&&a("overflow"),sn+=(ct-Ot)*Ur,Ot=ct;var Kr=!0,Xr=!1,ri=void 0;try{for(var wn,en=Xe[Symbol.iterator]();!(Kr=(wn=en.next()).done);Kr=!0){var Dn=wn.value;if(Dn<Ot&&++sn>Z&&a("overflow"),Dn==Ot){for(var Fn=sn,fr=j;;fr+=j){var Sr=fr<=Hn?1:fr>=Hn+26?26:fr-Hn;if(Fn<Sr)break;var xr=Fn-Sr,Fr=j-Sr;nt.push(C(N(Sr+xr%Fr,0))),Fn=Ce(xr/Fr)}nt.push(C(N(Fn,0))),Hn=M(sn,Ur,Ge==st),sn=0,++Ge}}}catch(jr){Xr=!0,ri=jr}finally{try{!Kr&&en.return&&en.return()}finally{if(Xr)throw ri}}++sn,++Ot}return nt.join("")},ee={version:"2.1.0",ucs2:{decode:g,encode:function(Xe){return String.fromCodePoint.apply(String,function(St){if(Array.isArray(St)){for(var Xe=0,nt=Array(St.length);Xe<St.length;Xe++)nt[Xe]=St[Xe];return nt}return Array.from(St)}(Xe))}},decode:s,encode:v,toASCII:function(Xe){return y(Xe,function(nt){return de.test(nt)?"xn--"+v(nt):nt})},toUnicode:function(Xe){return y(Xe,function(nt){return se.test(nt)?s(nt.slice(4).toLowerCase()):nt})}},ce={};function _e(St){var Xe=St.charCodeAt(0);return Xe<16?"%0"+Xe.toString(16).toUpperCase():Xe<128?"%"+Xe.toString(16).toUpperCase():Xe<2048?"%"+(Xe>>6|192).toString(16).toUpperCase()+"%"+(63&Xe|128).toString(16).toUpperCase():"%"+(Xe>>12|224).toString(16).toUpperCase()+"%"+(Xe>>6&63|128).toString(16).toUpperCase()+"%"+(63&Xe|128).toString(16).toUpperCase()}function Pe(St){for(var Xe="",nt=0,Vt=St.length;nt<Vt;){var Ot=parseInt(St.substr(nt+1,2),16);if(Ot<128)Xe+=String.fromCharCode(Ot),nt+=3;else if(Ot>=194&&Ot<224){if(Vt-nt>=6){var sn=parseInt(St.substr(nt+4,2),16);Xe+=String.fromCharCode((31&Ot)<<6|63&sn)}else Xe+=St.substr(nt,6);nt+=6}else if(Ot>=224){if(Vt-nt>=9){var Hn=parseInt(St.substr(nt+4,2),16),bn=parseInt(St.substr(nt+7,2),16);Xe+=String.fromCharCode((15&Ot)<<12|(63&Hn)<<6|63&bn)}else Xe+=St.substr(nt,9);nt+=9}else Xe+=St.substr(nt,3),nt+=3}return Xe}function $e(St,Xe){function nt(Vt){var Ot=Pe(Vt);return Ot.match(Xe.UNRESERVED)?Ot:Vt}return St.scheme&&(St.scheme=String(St.scheme).replace(Xe.PCT_ENCODED,nt).toLowerCase().replace(Xe.NOT_SCHEME,"")),void 0!==St.userinfo&&(St.userinfo=String(St.userinfo).replace(Xe.PCT_ENCODED,nt).replace(Xe.NOT_USERINFO,_e).replace(Xe.PCT_ENCODED,H)),void 0!==St.host&&(St.host=String(St.host).replace(Xe.PCT_ENCODED,nt).toLowerCase().replace(Xe.NOT_HOST,_e).replace(Xe.PCT_ENCODED,H)),void 0!==St.path&&(St.path=String(St.path).replace(Xe.PCT_ENCODED,nt).replace(St.scheme?Xe.NOT_PATH:Xe.NOT_PATH_NOSCHEME,_e).replace(Xe.PCT_ENCODED,H)),void 0!==St.query&&(St.query=String(St.query).replace(Xe.PCT_ENCODED,nt).replace(Xe.NOT_QUERY,_e).replace(Xe.PCT_ENCODED,H)),void 0!==St.fragment&&(St.fragment=String(St.fragment).replace(Xe.PCT_ENCODED,nt).replace(Xe.NOT_FRAGMENT,_e).replace(Xe.PCT_ENCODED,H)),St}function Se(St){return St.replace(/^0*(.*)/,"$1")||"0"}function be(St,Xe){var nt=St.match(Xe.IPV4ADDRESS)||[],Ot=L(nt,2)[1];return Ot?Ot.split(".").map(Se).join("."):St}function Ne(St,Xe){var nt=St.match(Xe.IPV6ADDRESS)||[],Vt=L(nt,3),Ot=Vt[1],sn=Vt[2];if(Ot){for(var Hn=Ot.toLowerCase().split("::").reverse(),bn=L(Hn,2),In=bn[0],Ar=bn[1],Jn=Ar?Ar.split(":").map(Se):[],Ln=In.split(":").map(Se),$n=Xe.IPV4ADDRESS.test(Ln[Ln.length-1]),st=$n?7:8,Ge=Ln.length-st,ct=Array(st),Yt=0;Yt<st;++Yt)ct[Yt]=Jn[Yt]||Ln[Ge+Yt]||"";$n&&(ct[st-1]=be(ct[st-1],Xe));var Wn=ct.reduce(function(Ur,Kr,Xr){if(!Kr||"0"===Kr){var ri=Ur[Ur.length-1];ri&&ri.index+ri.length===Xr?ri.length++:Ur.push({index:Xr,length:1})}return Ur},[]).sort(function(Ur,Kr){return Kr.length-Ur.length})[0],Yn=void 0;if(Wn&&Wn.length>1){var yr=ct.slice(0,Wn.index),Nr=ct.slice(Wn.index+Wn.length);Yn=yr.join(":")+"::"+Nr.join(":")}else Yn=ct.join(":");return sn&&(Yn+="%"+sn),Yn}return St}var ye=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Te=void 0==="".match(/(){0}/)[1];function pe(St){var Xe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},nt={},Vt=!1!==Xe.iri?F:O;"suffix"===Xe.reference&&(St=(Xe.scheme?Xe.scheme+":":"")+"//"+St);var Ot=St.match(ye);if(Ot){Te?(nt.scheme=Ot[1],nt.userinfo=Ot[3],nt.host=Ot[4],nt.port=parseInt(Ot[5],10),nt.path=Ot[6]||"",nt.query=Ot[7],nt.fragment=Ot[8],isNaN(nt.port)&&(nt.port=Ot[5])):(nt.scheme=Ot[1]||void 0,nt.userinfo=-1!==St.indexOf("@")?Ot[3]:void 0,nt.host=-1!==St.indexOf("//")?Ot[4]:void 0,nt.port=parseInt(Ot[5],10),nt.path=Ot[6]||"",nt.query=-1!==St.indexOf("?")?Ot[7]:void 0,nt.fragment=-1!==St.indexOf("#")?Ot[8]:void 0,isNaN(nt.port)&&(nt.port=St.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Ot[4]:void 0)),nt.host&&(nt.host=Ne(be(nt.host,Vt),Vt)),nt.reference=void 0!==nt.scheme||void 0!==nt.userinfo||void 0!==nt.host||void 0!==nt.port||nt.path||void 0!==nt.query?void 0===nt.scheme?"relative":void 0===nt.fragment?"absolute":"uri":"same-document",Xe.reference&&"suffix"!==Xe.reference&&Xe.reference!==nt.reference&&(nt.error=nt.error||"URI is not a "+Xe.reference+" reference.");var sn=ce[(Xe.scheme||nt.scheme||"").toLowerCase()];if(Xe.unicodeSupport||sn&&sn.unicodeSupport)$e(nt,Vt);else{if(nt.host&&(Xe.domainHost||sn&&sn.domainHost))try{nt.host=ee.toASCII(nt.host.replace(Vt.PCT_ENCODED,Pe).toLowerCase())}catch(Hn){nt.error=nt.error||"Host's domain name can not be converted to ASCII via punycode: "+Hn}$e(nt,O)}sn&&sn.parse&&sn.parse(nt,Xe)}else nt.error=nt.error||"URI can not be parsed.";return nt}var Q=/^\.\.?\//,ie=/^\/\.(\/|$)/,ue=/^\/\.\.(\/|$)/,Ee=/^\/?(?:.|\n)*?(?=\/|$)/;function ke(St){for(var Xe=[];St.length;)if(St.match(Q))St=St.replace(Q,"");else if(St.match(ie))St=St.replace(ie,"/");else if(St.match(ue))St=St.replace(ue,"/"),Xe.pop();else if("."===St||".."===St)St="";else{var nt=St.match(Ee);if(!nt)throw new Error("Unexpected dot segment condition");var Vt=nt[0];St=St.slice(Vt.length),Xe.push(Vt)}return Xe.join("")}function Ue(St){var Xe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},nt=Xe.iri?F:O,Vt=[],Ot=ce[(Xe.scheme||St.scheme||"").toLowerCase()];if(Ot&&Ot.serialize&&Ot.serialize(St,Xe),St.host&&!nt.IPV6ADDRESS.test(St.host)&&(Xe.domainHost||Ot&&Ot.domainHost))try{St.host=Xe.iri?ee.toUnicode(St.host):ee.toASCII(St.host.replace(nt.PCT_ENCODED,Pe).toLowerCase())}catch(bn){St.error=St.error||"Host's domain name can not be converted to "+(Xe.iri?"Unicode":"ASCII")+" via punycode: "+bn}$e(St,nt),"suffix"!==Xe.reference&&St.scheme&&(Vt.push(St.scheme),Vt.push(":"));var sn=function fe(St,Xe){var nt=!1!==Xe.iri?F:O,Vt=[];return void 0!==St.userinfo&&(Vt.push(St.userinfo),Vt.push("@")),void 0!==St.host&&Vt.push(Ne(be(String(St.host),nt),nt).replace(nt.IPV6ADDRESS,function(Ot,sn,Hn){return"["+sn+(Hn?"%25"+Hn:"")+"]"})),("number"==typeof St.port||"string"==typeof St.port)&&(Vt.push(":"),Vt.push(String(St.port))),Vt.length?Vt.join(""):void 0}(St,Xe);if(void 0!==sn&&("suffix"!==Xe.reference&&Vt.push("//"),Vt.push(sn),St.path&&"/"!==St.path.charAt(0)&&Vt.push("/")),void 0!==St.path){var Hn=St.path;!Xe.absolutePath&&(!Ot||!Ot.absolutePath)&&(Hn=ke(Hn)),void 0===sn&&(Hn=Hn.replace(/^\/\//,"/%2F")),Vt.push(Hn)}return void 0!==St.query&&(Vt.push("?"),Vt.push(St.query)),void 0!==St.fragment&&(Vt.push("#"),Vt.push(St.fragment)),Vt.join("")}function Le(St,Xe){var nt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Ot={};return arguments[3]||(St=pe(Ue(St,nt),nt),Xe=pe(Ue(Xe,nt),nt)),!(nt=nt||{}).tolerant&&Xe.scheme?(Ot.scheme=Xe.scheme,Ot.userinfo=Xe.userinfo,Ot.host=Xe.host,Ot.port=Xe.port,Ot.path=ke(Xe.path||""),Ot.query=Xe.query):(void 0!==Xe.userinfo||void 0!==Xe.host||void 0!==Xe.port?(Ot.userinfo=Xe.userinfo,Ot.host=Xe.host,Ot.port=Xe.port,Ot.path=ke(Xe.path||""),Ot.query=Xe.query):(Xe.path?("/"===Xe.path.charAt(0)?Ot.path=ke(Xe.path):(Ot.path=void 0===St.userinfo&&void 0===St.host&&void 0===St.port||St.path?St.path?St.path.slice(0,St.path.lastIndexOf("/")+1)+Xe.path:Xe.path:"/"+Xe.path,Ot.path=ke(Ot.path)),Ot.query=Xe.query):(Ot.path=St.path,Ot.query=void 0!==Xe.query?Xe.query:St.query),Ot.userinfo=St.userinfo,Ot.host=St.host,Ot.port=St.port),Ot.scheme=St.scheme),Ot.fragment=Xe.fragment,Ot}function B(St,Xe){return St&&St.toString().replace(Xe&&Xe.iri?F.PCT_ENCODED:O.PCT_ENCODED,Pe)}var w={scheme:"http",domainHost:!0,parse:function(Xe,nt){return Xe.host||(Xe.error=Xe.error||"HTTP URIs must have a host."),Xe},serialize:function(Xe,nt){var Vt="https"===String(Xe.scheme).toLowerCase();return(Xe.port===(Vt?443:80)||""===Xe.port)&&(Xe.port=void 0),Xe.path||(Xe.path="/"),Xe}},m={scheme:"https",domainHost:w.domainHost,parse:w.parse,serialize:w.serialize};function U(St){return"boolean"==typeof St.secure?St.secure:"wss"===String(St.scheme).toLowerCase()}var ne={scheme:"ws",domainHost:!0,parse:function(Xe,nt){var Vt=Xe;return Vt.secure=U(Vt),Vt.resourceName=(Vt.path||"/")+(Vt.query?"?"+Vt.query:""),Vt.path=void 0,Vt.query=void 0,Vt},serialize:function(Xe,nt){if((Xe.port===(U(Xe)?443:80)||""===Xe.port)&&(Xe.port=void 0),"boolean"==typeof Xe.secure&&(Xe.scheme=Xe.secure?"wss":"ws",Xe.secure=void 0),Xe.resourceName){var Vt=Xe.resourceName.split("?"),Ot=L(Vt,2),sn=Ot[0],Hn=Ot[1];Xe.path=sn&&"/"!==sn?sn:void 0,Xe.query=Hn,Xe.resourceName=void 0}return Xe.fragment=void 0,Xe}},ge={scheme:"wss",domainHost:ne.domainHost,parse:ne.parse,serialize:ne.serialize},Ae={},Bt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",gt="[0-9A-Fa-f]",It=E(E("%[EFef]"+gt+"%"+gt+gt+"%"+gt+gt)+"|"+E("%[89A-Fa-f]"+gt+"%"+gt+gt)+"|"+E("%"+gt+gt)),an=p("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Mn=new RegExp(Bt,"g"),Qt=new RegExp(It,"g"),qt=new RegExp(p("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',an),"g"),Et=new RegExp(p("[^]",Bt,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),ht=Et;function zt(St){var Xe=Pe(St);return Xe.match(Mn)?Xe:St}var Jt={scheme:"mailto",parse:function(Xe,nt){var Vt=Xe,Ot=Vt.to=Vt.path?Vt.path.split(","):[];if(Vt.path=void 0,Vt.query){for(var sn=!1,Hn={},bn=Vt.query.split("&"),In=0,Ar=bn.length;In<Ar;++In){var Jn=bn[In].split("=");switch(Jn[0]){case"to":for(var Ln=Jn[1].split(","),$n=0,st=Ln.length;$n<st;++$n)Ot.push(Ln[$n]);break;case"subject":Vt.subject=B(Jn[1],nt);break;case"body":Vt.body=B(Jn[1],nt);break;default:sn=!0,Hn[B(Jn[0],nt)]=B(Jn[1],nt)}}sn&&(Vt.headers=Hn)}Vt.query=void 0;for(var Ge=0,ct=Ot.length;Ge<ct;++Ge){var Yt=Ot[Ge].split("@");if(Yt[0]=B(Yt[0]),nt.unicodeSupport)Yt[1]=B(Yt[1],nt).toLowerCase();else try{Yt[1]=ee.toASCII(B(Yt[1],nt).toLowerCase())}catch(_n){Vt.error=Vt.error||"Email address's domain name can not be converted to ASCII via punycode: "+_n}Ot[Ge]=Yt.join("@")}return Vt},serialize:function(Xe,nt){var Vt=Xe,Ot=function x(St){return null!=St?St instanceof Array?St:"number"!=typeof St.length||St.split||St.setInterval||St.call?[St]:Array.prototype.slice.call(St):[]}(Xe.to);if(Ot){for(var sn=0,Hn=Ot.length;sn<Hn;++sn){var bn=String(Ot[sn]),In=bn.lastIndexOf("@"),Ar=bn.slice(0,In).replace(Qt,zt).replace(Qt,H).replace(qt,_e),Jn=bn.slice(In+1);try{Jn=nt.iri?ee.toUnicode(Jn):ee.toASCII(B(Jn,nt).toLowerCase())}catch(Ge){Vt.error=Vt.error||"Email address's domain name can not be converted to "+(nt.iri?"Unicode":"ASCII")+" via punycode: "+Ge}Ot[sn]=Ar+"@"+Jn}Vt.path=Ot.join(",")}var Ln=Xe.headers=Xe.headers||{};Xe.subject&&(Ln.subject=Xe.subject),Xe.body&&(Ln.body=Xe.body);var $n=[];for(var st in Ln)Ln[st]!==Ae[st]&&$n.push(st.replace(Qt,zt).replace(Qt,H).replace(Et,_e)+"="+Ln[st].replace(Qt,zt).replace(Qt,H).replace(ht,_e));return $n.length&&(Vt.query=$n.join("&")),Vt}},dn=/^([^\:]+)\:(.*)/,hr={scheme:"urn",parse:function(Xe,nt){var Vt=Xe.path&&Xe.path.match(dn),Ot=Xe;if(Vt){var sn=nt.scheme||Ot.scheme||"urn",Hn=Vt[1].toLowerCase(),bn=Vt[2],Ar=ce[sn+":"+(nt.nid||Hn)];Ot.nid=Hn,Ot.nss=bn,Ot.path=void 0,Ar&&(Ot=Ar.parse(Ot,nt))}else Ot.error=Ot.error||"URN can not be parsed.";return Ot},serialize:function(Xe,nt){var Ot=Xe.nid,Hn=ce[(nt.scheme||Xe.scheme||"urn")+":"+(nt.nid||Ot)];Hn&&(Xe=Hn.serialize(Xe,nt));var bn=Xe;return bn.path=(Ot||nt.nid)+":"+Xe.nss,bn}},vt=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,xt={scheme:"urn:uuid",parse:function(Xe,nt){var Vt=Xe;return Vt.uuid=Vt.nss,Vt.nss=void 0,!nt.tolerant&&(!Vt.uuid||!Vt.uuid.match(vt))&&(Vt.error=Vt.error||"UUID is not valid."),Vt},serialize:function(Xe,nt){var Vt=Xe;return Vt.nss=(Xe.uuid||"").toLowerCase(),Vt}};ce[w.scheme]=w,ce[m.scheme]=m,ce[ne.scheme]=ne,ce[ge.scheme]=ge,ce[Jt.scheme]=Jt,ce[hr.scheme]=hr,ce[xt.scheme]=xt,_.SCHEMES=ce,_.pctEncChar=_e,_.pctDecChars=Pe,_.parse=pe,_.removeDotSegments=ke,_.serialize=Ue,_.resolveComponents=Le,_.resolve=function _t(St,Xe,nt){var Vt=function R(St,Xe){var nt=St;if(Xe)for(var Vt in Xe)nt[Vt]=Xe[Vt];return nt}({scheme:"null"},nt);return Ue(Le(pe(St,Vt),pe(Xe,Vt),Vt,!0),Vt)},_.normalize=function Ve(St,Xe){return"string"==typeof St?St=Ue(pe(St,Xe),Xe):"object"===k(St)&&(St=pe(Ue(St,Xe),Xe)),St},_.equal=function Be(St,Xe,nt){return"string"==typeof St?St=Ue(pe(St,nt),nt):"object"===k(St)&&(St=Ue(St,nt)),"string"==typeof Xe?Xe=Ue(pe(Xe,nt),nt):"object"===k(Xe)&&(Xe=Ue(Xe,nt)),St===Xe},_.escapeComponent=function lt(St,Xe){return St&&St.toString().replace(Xe&&Xe.iri?F.ESCAPE:O.ESCAPE,_e)},_.unescapeComponent=B,Object.defineProperty(_,"__esModule",{value:!0})}(z)},3398:Fe=>{function _(p){try{if(!globalThis.localStorage)return!1}catch{return!1}var E=globalThis.localStorage[p];return null!=E&&"true"===String(E).toLowerCase()}Fe.exports=function z(p,E){if(_("noDeprecation"))return p;var k=!1;return function H(){if(!k){if(_("throwDeprecation"))throw new Error(E);_("traceDeprecation")?console.trace(E):console.warn(E),k=!0}return p.apply(this,arguments)}}},78982:()=>{},47790:()=>{},21638:()=>{},92668:()=>{},77965:()=>{},66089:()=>{},79368:()=>{},64688:()=>{},51069:()=>{},15340:()=>{},79838:()=>{},25172:Fe=>{Fe.exports=function z(_,p){this.v=_,this.k=p},Fe.exports.__esModule=!0,Fe.exports.default=Fe.exports},93513:(Fe,z,_)=>{var p=_(25172);Fe.exports=function E(k){var H={},x=!1;function R(A,O){return x=!0,O=new Promise(function(F){F(k[A](O))}),{done:!1,value:new p(O,1)}}return H[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},H.next=function(A){return x?(x=!1,A):R("next",A)},"function"==typeof k.throw&&(H.throw=function(A){if(x)throw x=!1,A;return R("throw",A)}),"function"==typeof k.return&&(H.return=function(A){return x?(x=!1,A):R("return",A)}),H},Fe.exports.__esModule=!0,Fe.exports.default=Fe.exports},82881:Fe=>{function _(p){function E(k){if(Object(k)!==k)return Promise.reject(new TypeError(k+" is not an object."));var H=k.done;return Promise.resolve(k.value).then(function(x){return{value:x,done:H}})}return(_=function(H){this.s=H,this.n=H.next}).prototype={s:null,n:null,next:function(){return E(this.n.apply(this.s,arguments))},return:function(H){var x=this.s.return;return void 0===x?Promise.resolve({value:H,done:!0}):E(x.apply(this.s,arguments))},throw:function(H){var x=this.s.return;return void 0===x?Promise.reject(H):E(x.apply(this.s,arguments))}},new _(p)}Fe.exports=function z(p){var E,k,H,x=2;for(typeof Symbol<"u"&&(k=Symbol.asyncIterator,H=Symbol.iterator);x--;){if(k&&null!=(E=p[k]))return E.call(p);if(H&&null!=(E=p[H]))return new _(E.call(p));k="@@asyncIterator",H="@@iterator"}throw new TypeError("Object is not async iterable")},Fe.exports.__esModule=!0,Fe.exports.default=Fe.exports},29293:Fe=>{function z(p,E,k,H,x,R,A){try{var O=p[R](A),F=O.value}catch(L){return void k(L)}O.done?E(F):Promise.resolve(F).then(H,x)}Fe.exports=function _(p){return function(){var E=this,k=arguments;return new Promise(function(H,x){var R=p.apply(E,k);function A(F){z(R,H,x,A,O,"next",F)}function O(F){z(R,H,x,A,O,"throw",F)}A(void 0)})}},Fe.exports.__esModule=!0,Fe.exports.default=Fe.exports},53344:(Fe,z,_)=>{var p=_(25172);Fe.exports=function E(k){return new p(k,0)},Fe.exports.__esModule=!0,Fe.exports.default=Fe.exports},42958:(Fe,z,_)=>{var p=_(25172);function k(H){var x,R;function A(F,L){try{var I=H[F](L),Z=I.value,j=Z instanceof p;Promise.resolve(j?Z.v:Z).then(function(G){if(j){var re="return"===F?"return":"next";if(!Z.k||G.done)return A(re,G);G=H[re](G).value}O(I.done?"return":"normal",G)},function(G){A("throw",G)})}catch(G){O("throw",G)}}function O(F,L){switch(F){case"return":x.resolve({value:L,done:!0});break;case"throw":x.reject(L);break;default:x.resolve({value:L,done:!1})}(x=x.next)?A(x.key,x.arg):R=null}this._invoke=function(F,L){return new Promise(function(I,Z){var j={key:F,arg:L,resolve:I,reject:Z,next:null};R?R=R.next=j:(x=R=j,A(F,L))})},"function"!=typeof H.return&&(this.return=void 0)}k.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},k.prototype.next=function(H){return this._invoke("next",H)},k.prototype.throw=function(H){return this._invoke("throw",H)},k.prototype.return=function(H){return this._invoke("return",H)},Fe.exports=function E(H){return function(){return new k(H.apply(this,arguments))}},Fe.exports.__esModule=!0,Fe.exports.default=Fe.exports},49969:(Fe,z,_)=>{"use strict";_.d(z,{FX:()=>Ce,If:()=>p,K2:()=>R,MA:()=>Z,Os:()=>x,P:()=>G,hZ:()=>k,i0:()=>H,i7:()=>F,iF:()=>A,kY:()=>L,kp:()=>E,sf:()=>we,ui:()=>xe,wk:()=>O});var p=function(C){return C[C.State=0]="State",C[C.Transition=1]="Transition",C[C.Sequence=2]="Sequence",C[C.Group=3]="Group",C[C.Animate=4]="Animate",C[C.Keyframes=5]="Keyframes",C[C.Style=6]="Style",C[C.Trigger=7]="Trigger",C[C.Reference=8]="Reference",C[C.AnimateChild=9]="AnimateChild",C[C.AnimateRef=10]="AnimateRef",C[C.Query=11]="Query",C[C.Stagger=12]="Stagger",C}(p||{});const E="*";function k(C,a){return{type:p.Trigger,name:C,definitions:a,options:{}}}function H(C,a=null){return{type:p.Animate,styles:a,timings:C}}function x(C,a=null){return{type:p.Group,steps:C,options:a}}function R(C,a=null){return{type:p.Sequence,steps:C,options:a}}function A(C){return{type:p.Style,styles:C,offset:null}}function O(C,a,u){return{type:p.State,name:C,styles:a,options:u}}function F(C){return{type:p.Keyframes,steps:C}}function L(C,a,u=null){return{type:p.Transition,expr:C,animation:a,options:u}}function Z(C=null){return{type:p.AnimateChild,options:C}}function G(C,a,u=null){return{type:p.Query,selector:C,animation:a,options:u}}class we{constructor(a=0,u=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=a+u}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}onStart(a){this._originalOnStartFns.push(a),this._onStartFns.push(a)}onDone(a){this._originalOnDoneFns.push(a),this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(a=>a()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(a){this._position=this.totalTime?a*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(a){const u="start"==a?this._onStartFns:this._onDoneFns;u.forEach(y=>y()),u.length=0}}class xe{constructor(a){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=a;let u=0,y=0,g=0;const S=this.players.length;0==S?queueMicrotask(()=>this._onFinish()):this.players.forEach(T=>{T.onDone(()=>{++u==S&&this._onFinish()}),T.onDestroy(()=>{++y==S&&this._onDestroy()}),T.onStart(()=>{++g==S&&this._onStart()})}),this.totalTime=this.players.reduce((T,N)=>Math.max(T,N.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this.players.forEach(a=>a.init())}onStart(a){this._onStartFns.push(a)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(a=>a()),this._onStartFns=[])}onDone(a){this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(a=>a.play())}pause(){this.players.forEach(a=>a.pause())}restart(){this.players.forEach(a=>a.restart())}finish(){this._onFinish(),this.players.forEach(a=>a.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(a=>a.destroy()),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this.players.forEach(a=>a.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(a){const u=a*this.totalTime;this.players.forEach(y=>{const g=y.totalTime?Math.min(1,u/y.totalTime):1;y.setPosition(g)})}getPosition(){const a=this.players.reduce((u,y)=>null===u||y.totalTime>u.totalTime?y:u,null);return null!=a?a.getPosition():0}beforeDestroy(){this.players.forEach(a=>{a.beforeDestroy&&a.beforeDestroy()})}triggerCallback(a){const u="start"==a?this._onStartFns:this._onDoneFns;u.forEach(y=>y()),u.length=0}}const Ce="!"},18617:(Fe,z,_)=>{"use strict";_.d(z,{Ae:()=>se,Ai:()=>U,Au:()=>g,Bu:()=>S,FN:()=>Bt,GX:()=>ye,Pd:()=>Mn,Q_:()=>sr,Uc:()=>Be,Z7:()=>N,_G:()=>Ee,px:()=>ae,vR:()=>gt,vr:()=>C,w6:()=>ke});var p=_(60177),E=_(93953),k=_(36860),H=_(21413),x=_(18359),R=_(84412),A=_(7673),O=_(67336),F=_(88141),L=_(70152),I=_(5964),Z=_(96354),j=_(65245),G=_(23294),re=_(56977),te=_(49937),J=_(14085),Y=_(99327);const oe=" ";function ae(Qt,qt,Et){const ht=de(Qt,qt);Et=Et.trim(),!ht.some(zt=>zt.trim()===Et)&&(ht.push(Et),Qt.setAttribute(qt,ht.join(oe)))}function se(Qt,qt,Et){const ht=de(Qt,qt);Et=Et.trim();const zt=ht.filter(Jt=>Jt!==Et);zt.length?Qt.setAttribute(qt,zt.join(oe)):Qt.removeAttribute(qt)}function de(Qt,qt){return Qt.getAttribute(qt)?.match(/\S+/g)??[]}const we="cdk-describedby-message",xe="cdk-describedby-host";let Ce=0,C=(()=>{class Qt{constructor(Et,ht){this._platform=ht,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Ce++,this._document=Et,this._id=(0,E.WQX)(E.sZ2)+"-"+Ce++}describe(Et,ht,zt){if(!this._canBeDescribed(Et,ht))return;const Jt=a(ht,zt);"string"!=typeof ht?(u(ht,this._id),this._messageRegistry.set(Jt,{messageElement:ht,referenceCount:0})):this._messageRegistry.has(Jt)||this._createMessageElement(ht,zt),this._isElementDescribedByMessage(Et,Jt)||this._addMessageReference(Et,Jt)}removeDescription(Et,ht,zt){if(!ht||!this._isElementNode(Et))return;const Jt=a(ht,zt);if(this._isElementDescribedByMessage(Et,Jt)&&this._removeMessageReference(Et,Jt),"string"==typeof ht){const dn=this._messageRegistry.get(Jt);dn&&0===dn.referenceCount&&this._deleteMessageElement(Jt)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const Et=this._document.querySelectorAll(`[${xe}="${this._id}"]`);for(let ht=0;ht<Et.length;ht++)this._removeCdkDescribedByReferenceIds(Et[ht]),Et[ht].removeAttribute(xe);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(Et,ht){const zt=this._document.createElement("div");u(zt,this._id),zt.textContent=Et,ht&&zt.setAttribute("role",ht),this._createMessagesContainer(),this._messagesContainer.appendChild(zt),this._messageRegistry.set(a(Et,ht),{messageElement:zt,referenceCount:0})}_deleteMessageElement(Et){this._messageRegistry.get(Et)?.messageElement?.remove(),this._messageRegistry.delete(Et)}_createMessagesContainer(){if(this._messagesContainer)return;const Et="cdk-describedby-message-container",ht=this._document.querySelectorAll(`.${Et}[platform="server"]`);for(let Jt=0;Jt<ht.length;Jt++)ht[Jt].remove();const zt=this._document.createElement("div");zt.style.visibility="hidden",zt.classList.add(Et),zt.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&zt.setAttribute("platform","server"),this._document.body.appendChild(zt),this._messagesContainer=zt}_removeCdkDescribedByReferenceIds(Et){const ht=de(Et,"aria-describedby").filter(zt=>0!=zt.indexOf(we));Et.setAttribute("aria-describedby",ht.join(" "))}_addMessageReference(Et,ht){const zt=this._messageRegistry.get(ht);ae(Et,"aria-describedby",zt.messageElement.id),Et.setAttribute(xe,this._id),zt.referenceCount++}_removeMessageReference(Et,ht){const zt=this._messageRegistry.get(ht);zt.referenceCount--,se(Et,"aria-describedby",zt.messageElement.id),Et.removeAttribute(xe)}_isElementDescribedByMessage(Et,ht){const zt=de(Et,"aria-describedby"),Jt=this._messageRegistry.get(ht),dn=Jt&&Jt.messageElement.id;return!!dn&&-1!=zt.indexOf(dn)}_canBeDescribed(Et,ht){if(!this._isElementNode(Et))return!1;if(ht&&"object"==typeof ht)return!0;const zt=null==ht?"":`${ht}`.trim(),Jt=Et.getAttribute("aria-label");return!(!zt||Jt&&Jt.trim()===zt)}_isElementNode(Et){return Et.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(ht){return new(ht||Qt)(E.KVO(p.qQ),E.KVO(k.OD))};static#t=this.\u0275prov=E.jDH({token:Qt,factory:Qt.\u0275fac,providedIn:"root"})}return Qt})();function a(Qt,qt){return"string"==typeof Qt?`${qt||""}/${Qt}`:Qt}function u(Qt,qt){Qt.id||(Qt.id=`${we}-${qt}-${Ce++}`)}class y{constructor(qt,Et){this._items=qt,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new H.B,this._typeaheadSubscription=x.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=ht=>ht.disabled,this._pressedLetters=[],this.tabOut=new H.B,this.change=new H.B,qt instanceof E.rOR?this._itemChangesSubscription=qt.changes.subscribe(ht=>this._itemsChanged(ht.toArray())):(0,E.Hps)(qt)&&(this._effectRef=(0,E.QZP)(()=>this._itemsChanged(qt()),{injector:Et}))}skipPredicate(qt){return this._skipPredicateFn=qt,this}withWrap(qt=!0){return this._wrap=qt,this}withVerticalOrientation(qt=!0){return this._vertical=qt,this}withHorizontalOrientation(qt){return this._horizontal=qt,this}withAllowedModifierKeys(qt){return this._allowedModifierKeys=qt,this}withTypeAhead(qt=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,F.M)(Et=>this._pressedLetters.push(Et)),(0,L.B)(qt),(0,I.p)(()=>this._pressedLetters.length>0),(0,Z.T)(()=>this._pressedLetters.join(""))).subscribe(Et=>{const ht=this._getItemsArray();for(let zt=1;zt<ht.length+1;zt++){const Jt=(this._activeItemIndex+zt)%ht.length,dn=ht[Jt];if(!this._skipPredicateFn(dn)&&0===dn.getLabel().toUpperCase().trim().indexOf(Et)){this.setActiveItem(Jt);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(qt=!0){return this._homeAndEnd=qt,this}withPageUpDown(qt=!0,Et=10){return this._pageUpAndDown={enabled:qt,delta:Et},this}setActiveItem(qt){const Et=this._activeItem;this.updateActiveItem(qt),this._activeItem!==Et&&this.change.next(this._activeItemIndex)}onKeydown(qt){const Et=qt.keyCode,zt=["altKey","ctrlKey","metaKey","shiftKey"].every(Jt=>!qt[Jt]||this._allowedModifierKeys.indexOf(Jt)>-1);switch(Et){case O.wn:return void this.tabOut.next();case O.n6:if(this._vertical&&zt){this.setNextItemActive();break}return;case O.i7:if(this._vertical&&zt){this.setPreviousItemActive();break}return;case O.LE:if(this._horizontal&&zt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case O.UQ:if(this._horizontal&&zt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case O.yZ:if(this._homeAndEnd&&zt){this.setFirstItemActive();break}return;case O.Kp:if(this._homeAndEnd&&zt){this.setLastItemActive();break}return;case O.w_:if(this._pageUpAndDown.enabled&&zt){const Jt=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Jt>0?Jt:0,1);break}return;case O.dB:if(this._pageUpAndDown.enabled&&zt){const Jt=this._activeItemIndex+this._pageUpAndDown.delta,dn=this._getItemsArray().length;this._setActiveItemByIndex(Jt<dn?Jt:dn-1,-1);break}return;default:return void((zt||(0,O.rp)(qt,"shiftKey"))&&(qt.key&&1===qt.key.length?this._letterKeyStream.next(qt.key.toLocaleUpperCase()):(Et>=O.A&&Et<=O.Z||Et>=O.f2&&Et<=O.bn)&&this._letterKeyStream.next(String.fromCharCode(Et))))}this._pressedLetters=[],qt.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(qt){const Et=this._getItemsArray(),ht="number"==typeof qt?qt:Et.indexOf(qt);this._activeItem=Et[ht]??null,this._activeItemIndex=ht}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(qt){this._wrap?this._setActiveInWrapMode(qt):this._setActiveInDefaultMode(qt)}_setActiveInWrapMode(qt){const Et=this._getItemsArray();for(let ht=1;ht<=Et.length;ht++){const zt=(this._activeItemIndex+qt*ht+Et.length)%Et.length;if(!this._skipPredicateFn(Et[zt]))return void this.setActiveItem(zt)}}_setActiveInDefaultMode(qt){this._setActiveItemByIndex(this._activeItemIndex+qt,qt)}_setActiveItemByIndex(qt,Et){const ht=this._getItemsArray();if(ht[qt]){for(;this._skipPredicateFn(ht[qt]);)if(!ht[qt+=Et])return;this.setActiveItem(qt)}}_getItemsArray(){return(0,E.Hps)(this._items)?this._items():this._items instanceof E.rOR?this._items.toArray():this._items}_itemsChanged(qt){if(this._activeItem){const Et=qt.indexOf(this._activeItem);Et>-1&&Et!==this._activeItemIndex&&(this._activeItemIndex=Et)}}}class g extends y{setActiveItem(qt){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(qt),this.activeItem&&this.activeItem.setActiveStyles()}}class S extends y{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(qt){return this._origin=qt,this}setActiveItem(qt){super.setActiveItem(qt),this.activeItem&&this.activeItem.focus(this._origin)}}let N=(()=>{class Qt{constructor(Et){this._platform=Et}isDisabled(Et){return Et.hasAttribute("disabled")}isVisible(Et){return function s(Qt){return!!(Qt.offsetWidth||Qt.offsetHeight||"function"==typeof Qt.getClientRects&&Qt.getClientRects().length)}(Et)&&"visible"===getComputedStyle(Et).visibility}isTabbable(Et){if(!this._platform.isBrowser)return!1;const ht=function M(Qt){try{return Qt.frameElement}catch{return null}}(function be(Qt){return Qt.ownerDocument&&Qt.ownerDocument.defaultView||window}(Et));if(ht&&(-1===Pe(ht)||!this.isVisible(ht)))return!1;let zt=Et.nodeName.toLowerCase(),Jt=Pe(Et);return Et.hasAttribute("contenteditable")?-1!==Jt:!("iframe"===zt||"object"===zt||this._platform.WEBKIT&&this._platform.IOS&&!function $e(Qt){let qt=Qt.nodeName.toLowerCase(),Et="input"===qt&&Qt.type;return"text"===Et||"password"===Et||"select"===qt||"textarea"===qt}(Et))&&("audio"===zt?!!Et.hasAttribute("controls")&&-1!==Jt:"video"===zt?-1!==Jt&&(null!==Jt||this._platform.FIREFOX||Et.hasAttribute("controls")):Et.tabIndex>=0)}isFocusable(Et,ht){return function Se(Qt){return!function W(Qt){return function ee(Qt){return"input"==Qt.nodeName.toLowerCase()}(Qt)&&"hidden"==Qt.type}(Qt)&&(function v(Qt){let qt=Qt.nodeName.toLowerCase();return"input"===qt||"select"===qt||"button"===qt||"textarea"===qt}(Qt)||function K(Qt){return function ce(Qt){return"a"==Qt.nodeName.toLowerCase()}(Qt)&&Qt.hasAttribute("href")}(Qt)||Qt.hasAttribute("contenteditable")||_e(Qt))}(Et)&&!this.isDisabled(Et)&&(ht?.ignoreVisibility||this.isVisible(Et))}static#e=this.\u0275fac=function(ht){return new(ht||Qt)(E.KVO(k.OD))};static#t=this.\u0275prov=E.jDH({token:Qt,factory:Qt.\u0275fac,providedIn:"root"})}return Qt})();function _e(Qt){if(!Qt.hasAttribute("tabindex")||void 0===Qt.tabIndex)return!1;let qt=Qt.getAttribute("tabindex");return!(!qt||isNaN(parseInt(qt,10)))}function Pe(Qt){if(!_e(Qt))return null;const qt=parseInt(Qt.getAttribute("tabindex")||"",10);return isNaN(qt)?-1:qt}class Ne{get enabled(){return this._enabled}set enabled(qt){this._enabled=qt,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(qt,this._startAnchor),this._toggleAnchorTabIndex(qt,this._endAnchor))}constructor(qt,Et,ht,zt,Jt=!1,dn){this._element=qt,this._checker=Et,this._ngZone=ht,this._document=zt,this._injector=dn,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Jt||this.attachAnchors()}destroy(){const qt=this._startAnchor,Et=this._endAnchor;qt&&(qt.removeEventListener("focus",this.startAnchorListener),qt.remove()),Et&&(Et.removeEventListener("focus",this.endAnchorListener),Et.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(qt){return new Promise(Et=>{this._executeOnStable(()=>Et(this.focusInitialElement(qt)))})}focusFirstTabbableElementWhenReady(qt){return new Promise(Et=>{this._executeOnStable(()=>Et(this.focusFirstTabbableElement(qt)))})}focusLastTabbableElementWhenReady(qt){return new Promise(Et=>{this._executeOnStable(()=>Et(this.focusLastTabbableElement(qt)))})}_getRegionBoundary(qt){const Et=this._element.querySelectorAll(`[cdk-focus-region-${qt}], [cdkFocusRegion${qt}], [cdk-focus-${qt}]`);return"start"==qt?Et.length?Et[0]:this._getFirstTabbableElement(this._element):Et.length?Et[Et.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(qt){const Et=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Et){if(!this._checker.isFocusable(Et)){const ht=this._getFirstTabbableElement(Et);return ht?.focus(qt),!!ht}return Et.focus(qt),!0}return this.focusFirstTabbableElement(qt)}focusFirstTabbableElement(qt){const Et=this._getRegionBoundary("start");return Et&&Et.focus(qt),!!Et}focusLastTabbableElement(qt){const Et=this._getRegionBoundary("end");return Et&&Et.focus(qt),!!Et}hasAttached(){return this._hasAttached}_getFirstTabbableElement(qt){if(this._checker.isFocusable(qt)&&this._checker.isTabbable(qt))return qt;const Et=qt.children;for(let ht=0;ht<Et.length;ht++){const zt=Et[ht].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Et[ht]):null;if(zt)return zt}return null}_getLastTabbableElement(qt){if(this._checker.isFocusable(qt)&&this._checker.isTabbable(qt))return qt;const Et=qt.children;for(let ht=Et.length-1;ht>=0;ht--){const zt=Et[ht].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Et[ht]):null;if(zt)return zt}return null}_createAnchor(){const qt=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,qt),qt.classList.add("cdk-visually-hidden"),qt.classList.add("cdk-focus-trap-anchor"),qt.setAttribute("aria-hidden","true"),qt}_toggleAnchorTabIndex(qt,Et){qt?Et.setAttribute("tabindex","0"):Et.removeAttribute("tabindex")}toggleAnchors(qt){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(qt,this._startAnchor),this._toggleAnchorTabIndex(qt,this._endAnchor))}_executeOnStable(qt){this._injector?(0,E.mal)(qt,{injector:this._injector}):setTimeout(qt)}}let ye=(()=>{class Qt{constructor(Et,ht,zt){this._checker=Et,this._ngZone=ht,this._injector=(0,E.WQX)(E.zZn),this._document=zt}create(Et,ht=!1){return new Ne(Et,this._checker,this._ngZone,this._document,ht,this._injector)}static#e=this.\u0275fac=function(ht){return new(ht||Qt)(E.KVO(N),E.KVO(E.SKi),E.KVO(p.qQ))};static#t=this.\u0275prov=E.jDH({token:Qt,factory:Qt.\u0275fac,providedIn:"root"})}return Qt})();function Ee(Qt){return 0===Qt.buttons||0===Qt.detail}function ke(Qt){const qt=Qt.touches&&Qt.touches[0]||Qt.changedTouches&&Qt.changedTouches[0];return!(!qt||-1!==qt.identifier||null!=qt.radiusX&&1!==qt.radiusX||null!=qt.radiusY&&1!==qt.radiusY)}const Ue=new E.nKC("cdk-input-modality-detector-options"),Le={ignoreKeys:[O.A$,O.W3,O.eg,O.Ge,O.FX]},Ve=(0,k.BQ)({passive:!0,capture:!0});let Be=(()=>{class Qt{get mostRecentModality(){return this._modality.value}constructor(Et,ht,zt,Jt){this._platform=Et,this._mostRecentTarget=null,this._modality=new R.t(null),this._lastTouchMs=0,this._onKeydown=dn=>{this._options?.ignoreKeys?.some(hr=>hr===dn.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,k.Fb)(dn))},this._onMousedown=dn=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ee(dn)?"keyboard":"mouse"),this._mostRecentTarget=(0,k.Fb)(dn))},this._onTouchstart=dn=>{ke(dn)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,k.Fb)(dn))},this._options={...Le,...Jt},this.modalityDetected=this._modality.pipe((0,j.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,G.F)()),Et.isBrowser&&ht.runOutsideAngular(()=>{zt.addEventListener("keydown",this._onKeydown,Ve),zt.addEventListener("mousedown",this._onMousedown,Ve),zt.addEventListener("touchstart",this._onTouchstart,Ve)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ve),document.removeEventListener("mousedown",this._onMousedown,Ve),document.removeEventListener("touchstart",this._onTouchstart,Ve))}static#e=this.\u0275fac=function(ht){return new(ht||Qt)(E.KVO(k.OD),E.KVO(E.SKi),E.KVO(p.qQ),E.KVO(Ue,8))};static#t=this.\u0275prov=E.jDH({token:Qt,factory:Qt.\u0275fac,providedIn:"root"})}return Qt})();const lt=new E.nKC("liveAnnouncerElement",{providedIn:"root",factory:function B(){return null}}),w=new E.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let m=0,U=(()=>{class Qt{constructor(Et,ht,zt,Jt){this._ngZone=ht,this._defaultOptions=Jt,this._document=zt,this._liveElement=Et||this._createLiveElement()}announce(Et,...ht){const zt=this._defaultOptions;let Jt,dn;return 1===ht.length&&"number"==typeof ht[0]?dn=ht[0]:[Jt,dn]=ht,this.clear(),clearTimeout(this._previousTimeout),Jt||(Jt=zt&&zt.politeness?zt.politeness:"polite"),null==dn&&zt&&(dn=zt.duration),this._liveElement.setAttribute("aria-live",Jt),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(hr=>this._currentResolve=hr)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Et,"number"==typeof dn&&(this._previousTimeout=setTimeout(()=>this.clear(),dn)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const Et="cdk-live-announcer-element",ht=this._document.getElementsByClassName(Et),zt=this._document.createElement("div");for(let Jt=0;Jt<ht.length;Jt++)ht[Jt].remove();return zt.classList.add(Et),zt.classList.add("cdk-visually-hidden"),zt.setAttribute("aria-atomic","true"),zt.setAttribute("aria-live","polite"),zt.id="cdk-live-announcer-"+m++,this._document.body.appendChild(zt),zt}_exposeAnnouncerToModals(Et){const ht=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let zt=0;zt<ht.length;zt++){const Jt=ht[zt],dn=Jt.getAttribute("aria-owns");dn?-1===dn.indexOf(Et)&&Jt.setAttribute("aria-owns",dn+" "+Et):Jt.setAttribute("aria-owns",Et)}}static#e=this.\u0275fac=function(ht){return new(ht||Qt)(E.KVO(lt,8),E.KVO(E.SKi),E.KVO(p.qQ),E.KVO(w,8))};static#t=this.\u0275prov=E.jDH({token:Qt,factory:Qt.\u0275fac,providedIn:"root"})}return Qt})();var ge=function(Qt){return Qt[Qt.IMMEDIATE=0]="IMMEDIATE",Qt[Qt.EVENTUAL=1]="EVENTUAL",Qt}(ge||{});const Ae=new E.nKC("cdk-focus-monitor-default-options"),Qe=(0,k.BQ)({passive:!0,capture:!0});let Bt=(()=>{class Qt{constructor(Et,ht,zt,Jt,dn){this._ngZone=Et,this._platform=ht,this._inputModalityDetector=zt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new H.B,this._rootNodeFocusAndBlurListener=hr=>{for(let xt=(0,k.Fb)(hr);xt;xt=xt.parentElement)"focus"===hr.type?this._onFocus(hr,xt):this._onBlur(hr,xt)},this._document=Jt,this._detectionMode=dn?.detectionMode||ge.IMMEDIATE}monitor(Et,ht=!1){const zt=(0,J.i8)(Et);if(!this._platform.isBrowser||1!==zt.nodeType)return(0,A.of)();const Jt=(0,k.KT)(zt)||this._getDocument(),dn=this._elementInfo.get(zt);if(dn)return ht&&(dn.checkChildren=!0),dn.subject;const hr={checkChildren:ht,subject:new H.B,rootNode:Jt};return this._elementInfo.set(zt,hr),this._registerGlobalListeners(hr),hr.subject}stopMonitoring(Et){const ht=(0,J.i8)(Et),zt=this._elementInfo.get(ht);zt&&(zt.subject.complete(),this._setClasses(ht),this._elementInfo.delete(ht),this._removeGlobalListeners(zt))}focusVia(Et,ht,zt){const Jt=(0,J.i8)(Et);Jt===this._getDocument().activeElement?this._getClosestElementsInfo(Jt).forEach(([hr,vt])=>this._originChanged(hr,ht,vt)):(this._setOrigin(ht),"function"==typeof Jt.focus&&Jt.focus(zt))}ngOnDestroy(){this._elementInfo.forEach((Et,ht)=>this.stopMonitoring(ht))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Et){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Et)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Et&&this._isLastInteractionFromInputLabel(Et)?"mouse":"program"}_shouldBeAttributedToTouch(Et){return this._detectionMode===ge.EVENTUAL||!!Et?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Et,ht){Et.classList.toggle("cdk-focused",!!ht),Et.classList.toggle("cdk-touch-focused","touch"===ht),Et.classList.toggle("cdk-keyboard-focused","keyboard"===ht),Et.classList.toggle("cdk-mouse-focused","mouse"===ht),Et.classList.toggle("cdk-program-focused","program"===ht)}_setOrigin(Et,ht=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Et,this._originFromTouchInteraction="touch"===Et&&ht,this._detectionMode===ge.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Et,ht){const zt=this._elementInfo.get(ht),Jt=(0,k.Fb)(Et);!zt||!zt.checkChildren&&ht!==Jt||this._originChanged(ht,this._getFocusOrigin(Jt),zt)}_onBlur(Et,ht){const zt=this._elementInfo.get(ht);!zt||zt.checkChildren&&Et.relatedTarget instanceof Node&&ht.contains(Et.relatedTarget)||(this._setClasses(ht),this._emitOrigin(zt,null))}_emitOrigin(Et,ht){Et.subject.observers.length&&this._ngZone.run(()=>Et.subject.next(ht))}_registerGlobalListeners(Et){if(!this._platform.isBrowser)return;const ht=Et.rootNode,zt=this._rootNodeFocusListenerCount.get(ht)||0;zt||this._ngZone.runOutsideAngular(()=>{ht.addEventListener("focus",this._rootNodeFocusAndBlurListener,Qe),ht.addEventListener("blur",this._rootNodeFocusAndBlurListener,Qe)}),this._rootNodeFocusListenerCount.set(ht,zt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,re.Q)(this._stopInputModalityDetector)).subscribe(Jt=>{this._setOrigin(Jt,!0)}))}_removeGlobalListeners(Et){const ht=Et.rootNode;if(this._rootNodeFocusListenerCount.has(ht)){const zt=this._rootNodeFocusListenerCount.get(ht);zt>1?this._rootNodeFocusListenerCount.set(ht,zt-1):(ht.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Qe),ht.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Qe),this._rootNodeFocusListenerCount.delete(ht))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Et,ht,zt){this._setClasses(Et,ht),this._emitOrigin(zt,ht),this._lastFocusOrigin=ht}_getClosestElementsInfo(Et){const ht=[];return this._elementInfo.forEach((zt,Jt)=>{(Jt===Et||zt.checkChildren&&Jt.contains(Et))&&ht.push([Jt,zt])}),ht}_isLastInteractionFromInputLabel(Et){const{_mostRecentTarget:ht,mostRecentModality:zt}=this._inputModalityDetector;if("mouse"!==zt||!ht||ht===Et||"INPUT"!==Et.nodeName&&"TEXTAREA"!==Et.nodeName||Et.disabled)return!1;const Jt=Et.labels;if(Jt)for(let dn=0;dn<Jt.length;dn++)if(Jt[dn].contains(ht))return!0;return!1}static#e=this.\u0275fac=function(ht){return new(ht||Qt)(E.KVO(E.SKi),E.KVO(k.OD),E.KVO(Be),E.KVO(p.qQ,8),E.KVO(Ae,8))};static#t=this.\u0275prov=E.jDH({token:Qt,factory:Qt.\u0275fac,providedIn:"root"})}return Qt})(),gt=(()=>{class Qt{constructor(Et,ht){this._elementRef=Et,this._focusMonitor=ht,this._focusOrigin=null,this.cdkFocusChange=new E.bkB}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const Et=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(Et,1===Et.nodeType&&Et.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(ht=>{this._focusOrigin=ht,this.cdkFocusChange.emit(ht)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(ht){return new(ht||Qt)(E.rXU(E.aKT),E.rXU(Bt))};static#t=this.\u0275dir=E.FsC({type:Qt,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return Qt})();var It=function(Qt){return Qt[Qt.NONE=0]="NONE",Qt[Qt.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",Qt[Qt.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",Qt}(It||{});const Gt="cdk-high-contrast-black-on-white",un="cdk-high-contrast-white-on-black",an="cdk-high-contrast-active";let sr=(()=>{class Qt{constructor(Et,ht){this._platform=Et,this._document=ht,this._breakpointSubscription=(0,E.WQX)(Y.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return It.NONE;const Et=this._document.createElement("div");Et.style.backgroundColor="rgb(1,2,3)",Et.style.position="absolute",this._document.body.appendChild(Et);const ht=this._document.defaultView||window,zt=ht&&ht.getComputedStyle?ht.getComputedStyle(Et):null,Jt=(zt&&zt.backgroundColor||"").replace(/ /g,"");switch(Et.remove(),Jt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return It.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return It.BLACK_ON_WHITE}return It.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Et=this._document.body.classList;Et.remove(an,Gt,un),this._hasCheckedHighContrastMode=!0;const ht=this.getHighContrastMode();ht===It.BLACK_ON_WHITE?Et.add(an,Gt):ht===It.WHITE_ON_BLACK&&Et.add(an,un)}}static#e=this.\u0275fac=function(ht){return new(ht||Qt)(E.KVO(k.OD),E.KVO(p.qQ))};static#t=this.\u0275prov=E.jDH({token:Qt,factory:Qt.\u0275fac,providedIn:"root"})}return Qt})(),Mn=(()=>{class Qt{constructor(Et){Et._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(ht){return new(ht||Qt)(E.KVO(sr))};static#t=this.\u0275mod=E.$C({type:Qt});static#n=this.\u0275inj=E.G2t({imports:[te.w5]})}return Qt})()},28203:(Fe,z,_)=>{"use strict";_.d(z,{dS:()=>A,jI:()=>F});var p=_(93953),E=_(60177);const k=new p.nKC("cdk-dir-doc",{providedIn:"root",factory:function H(){return(0,p.WQX)(E.qQ)}}),x=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let A=(()=>{class L{constructor(Z){this.value="ltr",this.change=new p.bkB,Z&&(this.value=function R(L){const I=L?.toLowerCase()||"";return"auto"===I&&typeof navigator<"u"&&navigator?.language?x.test(navigator.language)?"rtl":"ltr":"rtl"===I?"rtl":"ltr"}((Z.body?Z.body.dir:null)||(Z.documentElement?Z.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(j){return new(j||L)(p.KVO(k,8))};static#t=this.\u0275prov=p.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})(),F=(()=>{class L{static#e=this.\u0275fac=function(j){return new(j||L)};static#t=this.\u0275mod=p.$C({type:L});static#n=this.\u0275inj=p.G2t({})}return L})()},14085:(Fe,z,_)=>{"use strict";_.d(z,{FG:()=>x,OE:()=>k,a1:()=>R,he:()=>E,i8:()=>A,o1:()=>H});var p=_(93953);function E(F){return null!=F&&"false"!=`${F}`}function k(F,L=0){return H(F)?Number(F):2===arguments.length?L:0}function H(F){return!isNaN(parseFloat(F))&&!isNaN(Number(F))}function x(F){return Array.isArray(F)?F:[F]}function R(F){return null==F?"":"string"==typeof F?F:`${F}px`}function A(F){return F instanceof p.aKT?F.nativeElement:F}},45024:(Fe,z,_)=>{"use strict";_.d(z,{CB:()=>j,DQ:()=>Z,Q3:()=>F,qS:()=>R,sL:()=>L,xn:()=>I,y4:()=>A,zP:()=>re});var p=_(30017),H=(_(74402),_(7673),_(21413)),x=_(93953);class R{}function A(te){return te&&"function"==typeof te.connect&&!(te instanceof p.G)}var F=function(te){return te[te.REPLACED=0]="REPLACED",te[te.INSERTED=1]="INSERTED",te[te.MOVED=2]="MOVED",te[te.REMOVED=3]="REMOVED",te}(F||{});const L=new x.nKC("_ViewRepeater");class I{applyChanges(J,Y,oe,ae,se){J.forEachOperation((de,le,we)=>{let xe,Ce;if(null==de.previousIndex){const C=oe(de,le,we);xe=Y.createEmbeddedView(C.templateRef,C.context,C.index),Ce=F.INSERTED}else null==we?(Y.remove(le),Ce=F.REMOVED):(xe=Y.get(le),Y.move(xe,we),Ce=F.MOVED);se&&se({context:xe?.context,operation:Ce,record:de})})}detach(){}}class Z{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(J,Y,oe,ae,se){J.forEachOperation((de,le,we)=>{let xe,Ce;null==de.previousIndex?(xe=this._insertView(()=>oe(de,le,we),we,Y,ae(de)),Ce=xe?F.INSERTED:F.REPLACED):null==we?(this._detachAndCacheView(le,Y),Ce=F.REMOVED):(xe=this._moveView(le,we,Y,ae(de)),Ce=F.MOVED),se&&se({context:xe?.context,operation:Ce,record:de})})}detach(){for(const J of this._viewCache)J.destroy();this._viewCache=[]}_insertView(J,Y,oe,ae){const se=this._insertViewFromCache(Y,oe);if(se)return void(se.context.$implicit=ae);const de=J();return oe.createEmbeddedView(de.templateRef,de.context,de.index)}_detachAndCacheView(J,Y){const oe=Y.detach(J);this._maybeCacheView(oe,Y)}_moveView(J,Y,oe,ae){const se=oe.get(J);return oe.move(se,Y),se.context.$implicit=ae,se}_maybeCacheView(J,Y){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(J);else{const oe=Y.indexOf(J);-1===oe?J.destroy():Y.remove(oe)}}_insertViewFromCache(J,Y){const oe=this._viewCache.pop();return oe&&Y.insert(oe,J),oe||null}}class j{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(J=!1,Y,oe=!0,ae){this._multiple=J,this._emitChanges=oe,this.compareWith=ae,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new H.B,Y&&Y.length&&(J?Y.forEach(se=>this._markSelected(se)):this._markSelected(Y[0]),this._selectedToEmit.length=0)}select(...J){this._verifyValueAssignment(J),J.forEach(oe=>this._markSelected(oe));const Y=this._hasQueuedChanges();return this._emitChangeEvent(),Y}deselect(...J){this._verifyValueAssignment(J),J.forEach(oe=>this._unmarkSelected(oe));const Y=this._hasQueuedChanges();return this._emitChangeEvent(),Y}setSelection(...J){this._verifyValueAssignment(J);const Y=this.selected,oe=new Set(J);J.forEach(se=>this._markSelected(se)),Y.filter(se=>!oe.has(this._getConcreteValue(se,oe))).forEach(se=>this._unmarkSelected(se));const ae=this._hasQueuedChanges();return this._emitChangeEvent(),ae}toggle(J){return this.isSelected(J)?this.deselect(J):this.select(J)}clear(J=!0){this._unmarkAll();const Y=this._hasQueuedChanges();return J&&this._emitChangeEvent(),Y}isSelected(J){return this._selection.has(this._getConcreteValue(J))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(J){this._multiple&&this.selected&&this._selected.sort(J)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(J){J=this._getConcreteValue(J),this.isSelected(J)||(this._multiple||this._unmarkAll(),this.isSelected(J)||this._selection.add(J),this._emitChanges&&this._selectedToEmit.push(J))}_unmarkSelected(J){J=this._getConcreteValue(J),this.isSelected(J)&&(this._selection.delete(J),this._emitChanges&&this._deselectedToEmit.push(J))}_unmarkAll(){this.isEmpty()||this._selection.forEach(J=>this._unmarkSelected(J))}_verifyValueAssignment(J){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(J,Y){if(this.compareWith){Y=Y??this._selection;for(let oe of Y)if(this.compareWith(J,oe))return oe;return J}return J}}let re=(()=>{class te{constructor(){this._listeners=[]}notify(Y,oe){for(let ae of this._listeners)ae(Y,oe)}listen(Y){return this._listeners.push(Y),()=>{this._listeners=this._listeners.filter(oe=>Y!==oe)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(oe){return new(oe||te)};static#t=this.\u0275prov=x.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})()},67336:(Fe,z,_)=>{"use strict";_.d(z,{A:()=>K,A$:()=>O,FX:()=>R,Fm:()=>x,G_:()=>E,Ge:()=>m,Kp:()=>re,LE:()=>oe,SJ:()=>we,UQ:()=>J,W3:()=>A,Z:()=>w,_f:()=>I,bn:()=>N,dB:()=>G,eg:()=>fr,f2:()=>xe,i7:()=>Y,n6:()=>ae,rp:()=>Sr,t6:()=>Z,w_:()=>j,wn:()=>k,yZ:()=>te});const E=8,k=9,x=13,R=16,A=17,O=18,I=27,Z=32,j=33,G=34,re=35,te=36,J=37,Y=38,oe=39,ae=40,we=46,xe=48,N=57,K=65,w=90,m=91,fr=224;function Sr(xr,...Fr){return Fr.length?Fr.some(jr=>xr[jr]):xr.altKey||xr.shiftKey||xr.ctrlKey||xr.metaKey}},99327:(Fe,z,_)=>{"use strict";_.d(z,{QP:()=>ae,Rp:()=>de});var p=_(93953),E=_(14085),k=_(21413),H=_(84572),x=_(28793),R=_(71985),A=_(96697),O=_(65245),F=_(70152),L=_(96354),I=_(99172),Z=_(56977),j=_(36860);const re=new Set;let te,J=(()=>{class le{constructor(xe,Ce){this._platform=xe,this._nonce=Ce,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):oe}matchMedia(xe){return(this._platform.WEBKIT||this._platform.BLINK)&&function Y(le,we){if(!re.has(le))try{te||(te=document.createElement("style"),we&&te.setAttribute("nonce",we),te.setAttribute("type","text/css"),document.head.appendChild(te)),te.sheet&&(te.sheet.insertRule(`@media ${le} {body{ }}`,0),re.add(le))}catch(xe){console.error(xe)}}(xe,this._nonce),this._matchMedia(xe)}static#e=this.\u0275fac=function(Ce){return new(Ce||le)(p.KVO(j.OD),p.KVO(p.BIS,8))};static#t=this.\u0275prov=p.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();function oe(le){return{matches:"all"===le||""===le,media:le,addListener:()=>{},removeListener:()=>{}}}let ae=(()=>{class le{constructor(xe,Ce){this._mediaMatcher=xe,this._zone=Ce,this._queries=new Map,this._destroySubject=new k.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(xe){return se((0,E.FG)(xe)).some(C=>this._registerQuery(C).mql.matches)}observe(xe){const C=se((0,E.FG)(xe)).map(u=>this._registerQuery(u).observable);let a=(0,H.z)(C);return a=(0,x.x)(a.pipe((0,A.s)(1)),a.pipe((0,O.i)(1),(0,F.B)(0))),a.pipe((0,L.T)(u=>{const y={matches:!1,breakpoints:{}};return u.forEach(({matches:g,query:S})=>{y.matches=y.matches||g,y.breakpoints[S]=g}),y}))}_registerQuery(xe){if(this._queries.has(xe))return this._queries.get(xe);const Ce=this._mediaMatcher.matchMedia(xe),a={observable:new R.c(u=>{const y=g=>this._zone.run(()=>u.next(g));return Ce.addListener(y),()=>{Ce.removeListener(y)}}).pipe((0,I.Z)(Ce),(0,L.T)(({matches:u})=>({query:xe,matches:u})),(0,Z.Q)(this._destroySubject)),mql:Ce};return this._queries.set(xe,a),a}static#e=this.\u0275fac=function(Ce){return new(Ce||le)(p.KVO(J),p.KVO(p.SKi))};static#t=this.\u0275prov=p.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();function se(le){return le.map(we=>we.split(",")).reduce((we,xe)=>we.concat(xe)).map(we=>we.trim())}const de={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},49937:(Fe,z,_)=>{"use strict";_.d(z,{Wv:()=>I,w5:()=>Z});var p=_(14085),E=_(93953),k=_(71985),H=_(21413),x=_(96354),R=_(5964),A=_(70152);let F=(()=>{class j{create(re){return typeof MutationObserver>"u"?null:new MutationObserver(re)}static#e=this.\u0275fac=function(te){return new(te||j)};static#t=this.\u0275prov=E.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})(),L=(()=>{class j{constructor(re){this._mutationObserverFactory=re,this._observedElements=new Map,this._ngZone=(0,E.WQX)(E.SKi)}ngOnDestroy(){this._observedElements.forEach((re,te)=>this._cleanupObserver(te))}observe(re){const te=(0,p.i8)(re);return new k.c(J=>{const oe=this._observeElement(te).pipe((0,x.T)(ae=>ae.filter(se=>!function O(j){if("characterData"===j.type&&j.target instanceof Comment)return!0;if("childList"===j.type){for(let G=0;G<j.addedNodes.length;G++)if(!(j.addedNodes[G]instanceof Comment))return!1;for(let G=0;G<j.removedNodes.length;G++)if(!(j.removedNodes[G]instanceof Comment))return!1;return!0}return!1}(se))),(0,R.p)(ae=>!!ae.length)).subscribe(ae=>{this._ngZone.run(()=>{J.next(ae)})});return()=>{oe.unsubscribe(),this._unobserveElement(te)}})}_observeElement(re){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(re))this._observedElements.get(re).count++;else{const te=new H.B,J=this._mutationObserverFactory.create(Y=>te.next(Y));J&&J.observe(re,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(re,{observer:J,stream:te,count:1})}return this._observedElements.get(re).stream})}_unobserveElement(re){this._observedElements.has(re)&&(this._observedElements.get(re).count--,this._observedElements.get(re).count||this._cleanupObserver(re))}_cleanupObserver(re){if(this._observedElements.has(re)){const{observer:te,stream:J}=this._observedElements.get(re);te&&te.disconnect(),J.complete(),this._observedElements.delete(re)}}static#e=this.\u0275fac=function(te){return new(te||j)(E.KVO(F))};static#t=this.\u0275prov=E.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})(),I=(()=>{class j{get disabled(){return this._disabled}set disabled(re){this._disabled=re,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(re){this._debounce=(0,p.OE)(re),this._subscribe()}constructor(re,te){this._contentObserver=re,this._elementRef=te,this.event=new E.bkB,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const re=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?re.pipe((0,A.B)(this.debounce)):re).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(te){return new(te||j)(E.rXU(L),E.rXU(E.aKT))};static#t=this.\u0275dir=E.FsC({type:j,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",E.L39],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[E.GFd]})}return j})(),Z=(()=>{class j{static#e=this.\u0275fac=function(te){return new(te||j)};static#t=this.\u0275mod=E.$C({type:j});static#n=this.\u0275inj=E.G2t({providers:[F]})}return j})()},98170:(Fe,z,_)=>{"use strict";_.d(z,{a:()=>F});var p=_(93953),E=_(21413),k=_(71985),H=_(5964),x=_(44668),R=_(56977);class O{constructor(I){this._box=I,this._destroyed=new E.B,this._resizeSubject=new E.B,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(Z=>this._resizeSubject.next(Z)))}observe(I){return this._elementObservables.has(I)||this._elementObservables.set(I,new k.c(Z=>{const j=this._resizeSubject.subscribe(Z);return this._resizeObserver?.observe(I,{box:this._box}),()=>{this._resizeObserver?.unobserve(I),j.unsubscribe(),this._elementObservables.delete(I)}}).pipe((0,H.p)(Z=>Z.some(j=>j.target===I)),(0,x.t)({bufferSize:1,refCount:!0}),(0,R.Q)(this._destroyed))),this._elementObservables.get(I)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let F=(()=>{class L{constructor(){this._observers=new Map,this._ngZone=(0,p.WQX)(p.SKi)}ngOnDestroy(){for(const[,Z]of this._observers)Z.destroy();this._observers.clear()}observe(Z,j){const G=j?.box||"content-box";return this._observers.has(G)||this._observers.set(G,new O(G)),this._observers.get(G).observe(Z)}static#e=this.\u0275fac=function(j){return new(j||L)};static#t=this.\u0275prov=p.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})()},66969:(Fe,z,_)=>{"use strict";_.d(z,{WB:()=>Ee,$Q:()=>ue,hJ:()=>fe,rR:()=>Ce,Sf:()=>s,z_:()=>Le,yY:()=>v,EB:()=>be,pq:()=>Se});var p=_(67333),E=_(60177),k=_(93953),H=_(14085),x=_(36860),R=_(5964),A=_(56977),O=_(39974),F=_(54360),I=_(28203),Z=_(76939),j=_(21413),G=_(18359),re=_(57786),te=_(67336);const J=(0,x.CZ)();class Y{constructor(Be,lt){this._viewportRuler=Be,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=lt}attach(){}enable(){if(this._canBeEnabled()){const Be=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=Be.style.left||"",this._previousHTMLStyles.top=Be.style.top||"",Be.style.left=(0,H.a1)(-this._previousScrollPosition.left),Be.style.top=(0,H.a1)(-this._previousScrollPosition.top),Be.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const Be=this._document.documentElement,B=Be.style,w=this._document.body.style,m=B.scrollBehavior||"",U=w.scrollBehavior||"";this._isEnabled=!1,B.left=this._previousHTMLStyles.left,B.top=this._previousHTMLStyles.top,Be.classList.remove("cdk-global-scrollblock"),J&&(B.scrollBehavior=w.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),J&&(B.scrollBehavior=m,w.scrollBehavior=U)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const lt=this._document.body,B=this._viewportRuler.getViewportSize();return lt.scrollHeight>B.height||lt.scrollWidth>B.width}}class ae{constructor(Be,lt,B,w){this._scrollDispatcher=Be,this._ngZone=lt,this._viewportRuler=B,this._config=w,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(Be){this._overlayRef=Be}enable(){if(this._scrollSubscription)return;const Be=this._scrollDispatcher.scrolled(0).pipe((0,R.p)(lt=>!lt||!this._overlayRef.overlayElement.contains(lt.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=Be.subscribe(()=>{const lt=this._viewportRuler.getViewportScrollPosition().top;Math.abs(lt-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=Be.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class se{enable(){}disable(){}attach(){}}function de(Ve,Be){return Be.some(lt=>Ve.bottom<lt.top||Ve.top>lt.bottom||Ve.right<lt.left||Ve.left>lt.right)}function le(Ve,Be){return Be.some(lt=>Ve.top<lt.top||Ve.bottom>lt.bottom||Ve.left<lt.left||Ve.right>lt.right)}class we{constructor(Be,lt,B,w){this._scrollDispatcher=Be,this._viewportRuler=lt,this._ngZone=B,this._config=w,this._scrollSubscription=null}attach(Be){this._overlayRef=Be}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const lt=this._overlayRef.overlayElement.getBoundingClientRect(),{width:B,height:w}=this._viewportRuler.getViewportSize();de(lt,[{width:B,height:w,bottom:w,right:B,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let xe=(()=>{class Ve{constructor(lt,B,w,m){this._scrollDispatcher=lt,this._viewportRuler=B,this._ngZone=w,this.noop=()=>new se,this.close=U=>new ae(this._scrollDispatcher,this._ngZone,this._viewportRuler,U),this.block=()=>new Y(this._viewportRuler,this._document),this.reposition=U=>new we(this._scrollDispatcher,this._viewportRuler,this._ngZone,U),this._document=m}static#e=this.\u0275fac=function(B){return new(B||Ve)(k.KVO(p.R),k.KVO(p.Xj),k.KVO(k.SKi),k.KVO(E.qQ))};static#t=this.\u0275prov=k.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})();class Ce{constructor(Be){if(this.scrollStrategy=new se,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,Be){const lt=Object.keys(Be);for(const B of lt)void 0!==Be[B]&&(this[B]=Be[B])}}}class u{constructor(Be,lt){this.connectionPair=Be,this.scrollableViewProperties=lt}}let S=(()=>{class Ve{constructor(lt){this._attachedOverlays=[],this._document=lt}ngOnDestroy(){this.detach()}add(lt){this.remove(lt),this._attachedOverlays.push(lt)}remove(lt){const B=this._attachedOverlays.indexOf(lt);B>-1&&this._attachedOverlays.splice(B,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(B){return new(B||Ve)(k.KVO(E.qQ))};static#t=this.\u0275prov=k.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})(),T=(()=>{class Ve extends S{constructor(lt,B){super(lt),this._ngZone=B,this._keydownListener=w=>{const m=this._attachedOverlays;for(let U=m.length-1;U>-1;U--)if(m[U]._keydownEvents.observers.length>0){const ne=m[U]._keydownEvents;this._ngZone?this._ngZone.run(()=>ne.next(w)):ne.next(w);break}}}add(lt){super.add(lt),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(B){return new(B||Ve)(k.KVO(E.qQ),k.KVO(k.SKi,8))};static#t=this.\u0275prov=k.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})(),N=(()=>{class Ve extends S{constructor(lt,B,w){super(lt),this._platform=B,this._ngZone=w,this._cursorStyleIsSet=!1,this._pointerDownListener=m=>{this._pointerDownEventTarget=(0,x.Fb)(m)},this._clickListener=m=>{const U=(0,x.Fb)(m),ne="click"===m.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:U;this._pointerDownEventTarget=null;const ge=this._attachedOverlays.slice();for(let Ae=ge.length-1;Ae>-1;Ae--){const Qe=ge[Ae];if(Qe._outsidePointerEvents.observers.length<1||!Qe.hasAttached())continue;if(M(Qe.overlayElement,U)||M(Qe.overlayElement,ne))break;const Bt=Qe._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Bt.next(m)):Bt.next(m)}}}add(lt){if(super.add(lt),!this._isAttached){const B=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(B)):this._addEventListeners(B),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=B.style.cursor,B.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const lt=this._document.body;lt.removeEventListener("pointerdown",this._pointerDownListener,!0),lt.removeEventListener("click",this._clickListener,!0),lt.removeEventListener("auxclick",this._clickListener,!0),lt.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(lt.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(lt){lt.addEventListener("pointerdown",this._pointerDownListener,!0),lt.addEventListener("click",this._clickListener,!0),lt.addEventListener("auxclick",this._clickListener,!0),lt.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(B){return new(B||Ve)(k.KVO(E.qQ),k.KVO(x.OD),k.KVO(k.SKi,8))};static#t=this.\u0275prov=k.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})();function M(Ve,Be){const lt=typeof ShadowRoot<"u"&&ShadowRoot;let B=Be;for(;B;){if(B===Ve)return!0;B=lt&&B instanceof ShadowRoot?B.host:B.parentNode}return!1}let s=(()=>{class Ve{constructor(lt,B){this._platform=B,this._document=lt}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const lt="cdk-overlay-container";if(this._platform.isBrowser||(0,x.v8)()){const w=this._document.querySelectorAll(`.${lt}[platform="server"], .${lt}[platform="test"]`);for(let m=0;m<w.length;m++)w[m].remove()}const B=this._document.createElement("div");B.classList.add(lt),(0,x.v8)()?B.setAttribute("platform","test"):this._platform.isBrowser||B.setAttribute("platform","server"),this._document.body.appendChild(B),this._containerElement=B}static#e=this.\u0275fac=function(B){return new(B||Ve)(k.KVO(E.qQ),k.KVO(x.OD))};static#t=this.\u0275prov=k.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})();class v{constructor(Be,lt,B,w,m,U,ne,ge,Ae,Qe=!1,Bt){this._portalOutlet=Be,this._host=lt,this._pane=B,this._config=w,this._ngZone=m,this._keyboardDispatcher=U,this._document=ne,this._location=ge,this._outsideClickDispatcher=Ae,this._animationsDisabled=Qe,this._injector=Bt,this._backdropElement=null,this._backdropClick=new j.B,this._attachments=new j.B,this._detachments=new j.B,this._locationChanges=G.yU.EMPTY,this._backdropClickHandler=gt=>this._backdropClick.next(gt),this._backdropTransitionendHandler=gt=>{this._disposeBackdrop(gt.target)},this._keydownEvents=new j.B,this._outsidePointerEvents=new j.B,this._renders=new j.B,w.scrollStrategy&&(this._scrollStrategy=w.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=w.positionStrategy,this._afterRenderRef=(0,k.O8t)(()=>(0,k.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(Be){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const lt=this._portalOutlet.attach(Be);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),(0,k.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof lt?.onDestroy&&lt.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),lt}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const Be=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),Be}dispose(){const Be=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,Be&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(Be){Be!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=Be,this.hasAttached()&&(Be.attach(this),this.updatePosition()))}updateSize(Be){this._config={...this._config,...Be},this._updateElementSize()}setDirection(Be){this._config={...this._config,direction:Be},this._updateElementDirection()}addPanelClass(Be){this._pane&&this._toggleClasses(this._pane,Be,!0)}removePanelClass(Be){this._pane&&this._toggleClasses(this._pane,Be,!1)}getDirection(){const Be=this._config.direction;return Be?"string"==typeof Be?Be:Be.value:"ltr"}updateScrollStrategy(Be){Be!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=Be,this.hasAttached()&&(Be.attach(this),Be.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const Be=this._pane.style;Be.width=(0,H.a1)(this._config.width),Be.height=(0,H.a1)(this._config.height),Be.minWidth=(0,H.a1)(this._config.minWidth),Be.minHeight=(0,H.a1)(this._config.minHeight),Be.maxWidth=(0,H.a1)(this._config.maxWidth),Be.maxHeight=(0,H.a1)(this._config.maxHeight)}_togglePointerEvents(Be){this._pane.style.pointerEvents=Be?"":"none"}_attachBackdrop(){const Be="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(Be)})}):this._backdropElement.classList.add(Be)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const Be=this._backdropElement;if(Be){if(this._animationsDisabled)return void this._disposeBackdrop(Be);Be.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{Be.addEventListener("transitionend",this._backdropTransitionendHandler)}),Be.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(Be)},500))}}_toggleClasses(Be,lt,B){const w=(0,H.FG)(lt||[]).filter(m=>!!m);w.length&&(B?Be.classList.add(...w):Be.classList.remove(...w))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const Be=this._renders.pipe((0,A.Q)((0,re.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),Be.unsubscribe())})})}_disposeScrollStrategy(){const Be=this._scrollStrategy;Be&&(Be.disable(),Be.detach&&Be.detach())}_disposeBackdrop(Be){Be&&(Be.removeEventListener("click",this._backdropClickHandler),Be.removeEventListener("transitionend",this._backdropTransitionendHandler),Be.remove(),this._backdropElement===Be&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const W="cdk-overlay-connected-position-bounding-box",K=/([A-Za-z%]+)$/;class ee{get positions(){return this._preferredPositions}constructor(Be,lt,B,w,m){this._viewportRuler=lt,this._document=B,this._platform=w,this._overlayContainer=m,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new j.B,this._resizeSubscription=G.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(Be)}attach(Be){this._validatePositions(),Be.hostElement.classList.add(W),this._overlayRef=Be,this._boundingBox=Be.hostElement,this._pane=Be.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Be=this._originRect,lt=this._overlayRect,B=this._viewportRect,w=this._containerRect,m=[];let U;for(let ne of this._preferredPositions){let ge=this._getOriginPoint(Be,w,ne),Ae=this._getOverlayPoint(ge,lt,ne),Qe=this._getOverlayFit(Ae,lt,B,ne);if(Qe.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(ne,ge);this._canFitWithFlexibleDimensions(Qe,Ae,B)?m.push({position:ne,origin:ge,overlayRect:lt,boundingBoxRect:this._calculateBoundingBoxRect(ge,ne)}):(!U||U.overlayFit.visibleArea<Qe.visibleArea)&&(U={overlayFit:Qe,overlayPoint:Ae,originPoint:ge,position:ne,overlayRect:lt})}if(m.length){let ne=null,ge=-1;for(const Ae of m){const Qe=Ae.boundingBoxRect.width*Ae.boundingBoxRect.height*(Ae.position.weight||1);Qe>ge&&(ge=Qe,ne=Ae)}return this._isPushed=!1,void this._applyPosition(ne.position,ne.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(U.position,U.originPoint);this._applyPosition(U.position,U.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ce(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(W),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const Be=this._lastPosition;if(Be){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const lt=this._getOriginPoint(this._originRect,this._containerRect,Be);this._applyPosition(Be,lt)}else this.apply()}withScrollableContainers(Be){return this._scrollables=Be,this}withPositions(Be){return this._preferredPositions=Be,-1===Be.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(Be){return this._viewportMargin=Be,this}withFlexibleDimensions(Be=!0){return this._hasFlexibleDimensions=Be,this}withGrowAfterOpen(Be=!0){return this._growAfterOpen=Be,this}withPush(Be=!0){return this._canPush=Be,this}withLockedPosition(Be=!0){return this._positionLocked=Be,this}setOrigin(Be){return this._origin=Be,this}withDefaultOffsetX(Be){return this._offsetX=Be,this}withDefaultOffsetY(Be){return this._offsetY=Be,this}withTransformOriginOn(Be){return this._transformOriginSelector=Be,this}_getOriginPoint(Be,lt,B){let w,m;if("center"==B.originX)w=Be.left+Be.width/2;else{const U=this._isRtl()?Be.right:Be.left,ne=this._isRtl()?Be.left:Be.right;w="start"==B.originX?U:ne}return lt.left<0&&(w-=lt.left),m="center"==B.originY?Be.top+Be.height/2:"top"==B.originY?Be.top:Be.bottom,lt.top<0&&(m-=lt.top),{x:w,y:m}}_getOverlayPoint(Be,lt,B){let w,m;return w="center"==B.overlayX?-lt.width/2:"start"===B.overlayX?this._isRtl()?-lt.width:0:this._isRtl()?0:-lt.width,m="center"==B.overlayY?-lt.height/2:"top"==B.overlayY?0:-lt.height,{x:Be.x+w,y:Be.y+m}}_getOverlayFit(Be,lt,B,w){const m=Pe(lt);let{x:U,y:ne}=Be,ge=this._getOffset(w,"x"),Ae=this._getOffset(w,"y");ge&&(U+=ge),Ae&&(ne+=Ae);let gt=0-ne,It=ne+m.height-B.height,Gt=this._subtractOverflows(m.width,0-U,U+m.width-B.width),un=this._subtractOverflows(m.height,gt,It),an=Gt*un;return{visibleArea:an,isCompletelyWithinViewport:m.width*m.height===an,fitsInViewportVertically:un===m.height,fitsInViewportHorizontally:Gt==m.width}}_canFitWithFlexibleDimensions(Be,lt,B){if(this._hasFlexibleDimensions){const w=B.bottom-lt.y,m=B.right-lt.x,U=_e(this._overlayRef.getConfig().minHeight),ne=_e(this._overlayRef.getConfig().minWidth);return(Be.fitsInViewportVertically||null!=U&&U<=w)&&(Be.fitsInViewportHorizontally||null!=ne&&ne<=m)}return!1}_pushOverlayOnScreen(Be,lt,B){if(this._previousPushAmount&&this._positionLocked)return{x:Be.x+this._previousPushAmount.x,y:Be.y+this._previousPushAmount.y};const w=Pe(lt),m=this._viewportRect,U=Math.max(Be.x+w.width-m.width,0),ne=Math.max(Be.y+w.height-m.height,0),ge=Math.max(m.top-B.top-Be.y,0),Ae=Math.max(m.left-B.left-Be.x,0);let Qe=0,Bt=0;return Qe=w.width<=m.width?Ae||-U:Be.x<this._viewportMargin?m.left-B.left-Be.x:0,Bt=w.height<=m.height?ge||-ne:Be.y<this._viewportMargin?m.top-B.top-Be.y:0,this._previousPushAmount={x:Qe,y:Bt},{x:Be.x+Qe,y:Be.y+Bt}}_applyPosition(Be,lt){if(this._setTransformOrigin(Be),this._setOverlayElementStyles(lt,Be),this._setBoundingBoxStyles(lt,Be),Be.panelClass&&this._addPanelClasses(Be.panelClass),this._positionChanges.observers.length){const B=this._getScrollVisibility();if(Be!==this._lastPosition||!this._lastScrollVisibility||!function $e(Ve,Be){return Ve===Be||Ve.isOriginClipped===Be.isOriginClipped&&Ve.isOriginOutsideView===Be.isOriginOutsideView&&Ve.isOverlayClipped===Be.isOverlayClipped&&Ve.isOverlayOutsideView===Be.isOverlayOutsideView}(this._lastScrollVisibility,B)){const w=new u(Be,B);this._positionChanges.next(w)}this._lastScrollVisibility=B}this._lastPosition=Be,this._isInitialRender=!1}_setTransformOrigin(Be){if(!this._transformOriginSelector)return;const lt=this._boundingBox.querySelectorAll(this._transformOriginSelector);let B,w=Be.overlayY;B="center"===Be.overlayX?"center":this._isRtl()?"start"===Be.overlayX?"right":"left":"start"===Be.overlayX?"left":"right";for(let m=0;m<lt.length;m++)lt[m].style.transformOrigin=`${B} ${w}`}_calculateBoundingBoxRect(Be,lt){const B=this._viewportRect,w=this._isRtl();let m,U,ne,Qe,Bt,gt;if("top"===lt.overlayY)U=Be.y,m=B.height-U+this._viewportMargin;else if("bottom"===lt.overlayY)ne=B.height-Be.y+2*this._viewportMargin,m=B.height-ne+this._viewportMargin;else{const It=Math.min(B.bottom-Be.y+B.top,Be.y),Gt=this._lastBoundingBoxSize.height;m=2*It,U=Be.y-It,m>Gt&&!this._isInitialRender&&!this._growAfterOpen&&(U=Be.y-Gt/2)}if("end"===lt.overlayX&&!w||"start"===lt.overlayX&&w)gt=B.width-Be.x+2*this._viewportMargin,Qe=Be.x-this._viewportMargin;else if("start"===lt.overlayX&&!w||"end"===lt.overlayX&&w)Bt=Be.x,Qe=B.right-Be.x;else{const It=Math.min(B.right-Be.x+B.left,Be.x),Gt=this._lastBoundingBoxSize.width;Qe=2*It,Bt=Be.x-It,Qe>Gt&&!this._isInitialRender&&!this._growAfterOpen&&(Bt=Be.x-Gt/2)}return{top:U,left:Bt,bottom:ne,right:gt,width:Qe,height:m}}_setBoundingBoxStyles(Be,lt){const B=this._calculateBoundingBoxRect(Be,lt);!this._isInitialRender&&!this._growAfterOpen&&(B.height=Math.min(B.height,this._lastBoundingBoxSize.height),B.width=Math.min(B.width,this._lastBoundingBoxSize.width));const w={};if(this._hasExactPosition())w.top=w.left="0",w.bottom=w.right=w.maxHeight=w.maxWidth="",w.width=w.height="100%";else{const m=this._overlayRef.getConfig().maxHeight,U=this._overlayRef.getConfig().maxWidth;w.height=(0,H.a1)(B.height),w.top=(0,H.a1)(B.top),w.bottom=(0,H.a1)(B.bottom),w.width=(0,H.a1)(B.width),w.left=(0,H.a1)(B.left),w.right=(0,H.a1)(B.right),w.alignItems="center"===lt.overlayX?"center":"end"===lt.overlayX?"flex-end":"flex-start",w.justifyContent="center"===lt.overlayY?"center":"bottom"===lt.overlayY?"flex-end":"flex-start",m&&(w.maxHeight=(0,H.a1)(m)),U&&(w.maxWidth=(0,H.a1)(U))}this._lastBoundingBoxSize=B,ce(this._boundingBox.style,w)}_resetBoundingBoxStyles(){ce(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ce(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(Be,lt){const B={},w=this._hasExactPosition(),m=this._hasFlexibleDimensions,U=this._overlayRef.getConfig();if(w){const Qe=this._viewportRuler.getViewportScrollPosition();ce(B,this._getExactOverlayY(lt,Be,Qe)),ce(B,this._getExactOverlayX(lt,Be,Qe))}else B.position="static";let ne="",ge=this._getOffset(lt,"x"),Ae=this._getOffset(lt,"y");ge&&(ne+=`translateX(${ge}px) `),Ae&&(ne+=`translateY(${Ae}px)`),B.transform=ne.trim(),U.maxHeight&&(w?B.maxHeight=(0,H.a1)(U.maxHeight):m&&(B.maxHeight="")),U.maxWidth&&(w?B.maxWidth=(0,H.a1)(U.maxWidth):m&&(B.maxWidth="")),ce(this._pane.style,B)}_getExactOverlayY(Be,lt,B){let w={top:"",bottom:""},m=this._getOverlayPoint(lt,this._overlayRect,Be);return this._isPushed&&(m=this._pushOverlayOnScreen(m,this._overlayRect,B)),"bottom"===Be.overlayY?w.bottom=this._document.documentElement.clientHeight-(m.y+this._overlayRect.height)+"px":w.top=(0,H.a1)(m.y),w}_getExactOverlayX(Be,lt,B){let U,w={left:"",right:""},m=this._getOverlayPoint(lt,this._overlayRect,Be);return this._isPushed&&(m=this._pushOverlayOnScreen(m,this._overlayRect,B)),U=this._isRtl()?"end"===Be.overlayX?"left":"right":"end"===Be.overlayX?"right":"left","right"===U?w.right=this._document.documentElement.clientWidth-(m.x+this._overlayRect.width)+"px":w.left=(0,H.a1)(m.x),w}_getScrollVisibility(){const Be=this._getOriginRect(),lt=this._pane.getBoundingClientRect(),B=this._scrollables.map(w=>w.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:le(Be,B),isOriginOutsideView:de(Be,B),isOverlayClipped:le(lt,B),isOverlayOutsideView:de(lt,B)}}_subtractOverflows(Be,...lt){return lt.reduce((B,w)=>B-Math.max(w,0),Be)}_getNarrowedViewportRect(){const Be=this._document.documentElement.clientWidth,lt=this._document.documentElement.clientHeight,B=this._viewportRuler.getViewportScrollPosition();return{top:B.top+this._viewportMargin,left:B.left+this._viewportMargin,right:B.left+Be-this._viewportMargin,bottom:B.top+lt-this._viewportMargin,width:Be-2*this._viewportMargin,height:lt-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(Be,lt){return"x"===lt?null==Be.offsetX?this._offsetX:Be.offsetX:null==Be.offsetY?this._offsetY:Be.offsetY}_validatePositions(){}_addPanelClasses(Be){this._pane&&(0,H.FG)(Be).forEach(lt=>{""!==lt&&-1===this._appliedPanelClasses.indexOf(lt)&&(this._appliedPanelClasses.push(lt),this._pane.classList.add(lt))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(Be=>{this._pane.classList.remove(Be)}),this._appliedPanelClasses=[])}_getOriginRect(){const Be=this._origin;if(Be instanceof k.aKT)return Be.nativeElement.getBoundingClientRect();if(Be instanceof Element)return Be.getBoundingClientRect();const lt=Be.width||0,B=Be.height||0;return{top:Be.y,bottom:Be.y+B,left:Be.x,right:Be.x+lt,height:B,width:lt}}}function ce(Ve,Be){for(let lt in Be)Be.hasOwnProperty(lt)&&(Ve[lt]=Be[lt]);return Ve}function _e(Ve){if("number"!=typeof Ve&&null!=Ve){const[Be,lt]=Ve.split(K);return lt&&"px"!==lt?null:parseFloat(Be)}return Ve||null}function Pe(Ve){return{top:Math.floor(Ve.top),right:Math.floor(Ve.right),bottom:Math.floor(Ve.bottom),left:Math.floor(Ve.left),width:Math.floor(Ve.width),height:Math.floor(Ve.height)}}const Se=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}],be=[{originX:"end",originY:"top",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"start",overlayY:"bottom"},{originX:"start",originY:"top",overlayX:"end",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"end",overlayY:"bottom"}],Ne="cdk-global-overlay-wrapper";class ye{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(Be){const lt=Be.getConfig();this._overlayRef=Be,this._width&&!lt.width&&Be.updateSize({width:this._width}),this._height&&!lt.height&&Be.updateSize({height:this._height}),Be.hostElement.classList.add(Ne),this._isDisposed=!1}top(Be=""){return this._bottomOffset="",this._topOffset=Be,this._alignItems="flex-start",this}left(Be=""){return this._xOffset=Be,this._xPosition="left",this}bottom(Be=""){return this._topOffset="",this._bottomOffset=Be,this._alignItems="flex-end",this}right(Be=""){return this._xOffset=Be,this._xPosition="right",this}start(Be=""){return this._xOffset=Be,this._xPosition="start",this}end(Be=""){return this._xOffset=Be,this._xPosition="end",this}width(Be=""){return this._overlayRef?this._overlayRef.updateSize({width:Be}):this._width=Be,this}height(Be=""){return this._overlayRef?this._overlayRef.updateSize({height:Be}):this._height=Be,this}centerHorizontally(Be=""){return this.left(Be),this._xPosition="center",this}centerVertically(Be=""){return this.top(Be),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const Be=this._overlayRef.overlayElement.style,lt=this._overlayRef.hostElement.style,B=this._overlayRef.getConfig(),{width:w,height:m,maxWidth:U,maxHeight:ne}=B,ge=!("100%"!==w&&"100vw"!==w||U&&"100%"!==U&&"100vw"!==U),Ae=!("100%"!==m&&"100vh"!==m||ne&&"100%"!==ne&&"100vh"!==ne),Qe=this._xPosition,Bt=this._xOffset,gt="rtl"===this._overlayRef.getConfig().direction;let It="",Gt="",un="";ge?un="flex-start":"center"===Qe?(un="center",gt?Gt=Bt:It=Bt):gt?"left"===Qe||"end"===Qe?(un="flex-end",It=Bt):("right"===Qe||"start"===Qe)&&(un="flex-start",Gt=Bt):"left"===Qe||"start"===Qe?(un="flex-start",It=Bt):("right"===Qe||"end"===Qe)&&(un="flex-end",Gt=Bt),Be.position=this._cssPosition,Be.marginLeft=ge?"0":It,Be.marginTop=Ae?"0":this._topOffset,Be.marginBottom=this._bottomOffset,Be.marginRight=ge?"0":Gt,lt.justifyContent=un,lt.alignItems=Ae?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const Be=this._overlayRef.overlayElement.style,lt=this._overlayRef.hostElement,B=lt.style;lt.classList.remove(Ne),B.justifyContent=B.alignItems=Be.marginTop=Be.marginBottom=Be.marginLeft=Be.marginRight=Be.position="",this._overlayRef=null,this._isDisposed=!0}}let Te=(()=>{class Ve{constructor(lt,B,w,m){this._viewportRuler=lt,this._document=B,this._platform=w,this._overlayContainer=m}global(){return new ye}flexibleConnectedTo(lt){return new ee(lt,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(B){return new(B||Ve)(k.KVO(p.Xj),k.KVO(E.qQ),k.KVO(x.OD),k.KVO(s))};static#t=this.\u0275prov=k.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})(),pe=0,fe=(()=>{class Ve{constructor(lt,B,w,m,U,ne,ge,Ae,Qe,Bt,gt,It){this.scrollStrategies=lt,this._overlayContainer=B,this._componentFactoryResolver=w,this._positionBuilder=m,this._keyboardDispatcher=U,this._injector=ne,this._ngZone=ge,this._document=Ae,this._directionality=Qe,this._location=Bt,this._outsideClickDispatcher=gt,this._animationsModuleType=It}create(lt){const B=this._createHostElement(),w=this._createPaneElement(B),m=this._createPortalOutlet(w),U=new Ce(lt);return U.direction=U.direction||this._directionality.value,new v(m,B,w,U,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(k.uvJ))}position(){return this._positionBuilder}_createPaneElement(lt){const B=this._document.createElement("div");return B.id="cdk-overlay-"+pe++,B.classList.add("cdk-overlay-pane"),lt.appendChild(B),B}_createHostElement(){const lt=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(lt),lt}_createPortalOutlet(lt){return this._appRef||(this._appRef=this._injector.get(k.o8S)),new Z.aI(lt,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(B){return new(B||Ve)(k.KVO(xe),k.KVO(s),k.KVO(k.OM3),k.KVO(Te),k.KVO(T),k.KVO(k.zZn),k.KVO(k.SKi),k.KVO(E.qQ),k.KVO(I.dS),k.KVO(E.aZ),k.KVO(N),k.KVO(k.bc$,8))};static#t=this.\u0275prov=k.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})();const Q=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],ie=new k.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const Ve=(0,k.WQX)(fe);return()=>Ve.scrollStrategies.reposition()}});let ue=(()=>{class Ve{constructor(lt){this.elementRef=lt}static#e=this.\u0275fac=function(B){return new(B||Ve)(k.rXU(k.aKT))};static#t=this.\u0275dir=k.FsC({type:Ve,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return Ve})(),Ee=(()=>{class Ve{get offsetX(){return this._offsetX}set offsetX(lt){this._offsetX=lt,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(lt){this._offsetY=lt,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(lt){this._disposeOnNavigation=lt}constructor(lt,B,w,m,U){this._overlay=lt,this._dir=U,this._backdropSubscription=G.yU.EMPTY,this._attachSubscription=G.yU.EMPTY,this._detachSubscription=G.yU.EMPTY,this._positionSubscription=G.yU.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,k.WQX)(k.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new k.bkB,this.positionChange=new k.bkB,this.attach=new k.bkB,this.detach=new k.bkB,this.overlayKeydown=new k.bkB,this.overlayOutsideClick=new k.bkB,this._templatePortal=new Z.VA(B,w),this._scrollStrategyFactory=m,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(lt){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),lt.origin&&this.open&&this._position.apply()),lt.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Q);const lt=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=lt.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=lt.detachments().subscribe(()=>this.detach.emit()),lt.keydownEvents().subscribe(B=>{this.overlayKeydown.next(B),B.keyCode===te._f&&!this.disableClose&&!(0,te.rp)(B)&&(B.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(B=>{const w=this._getOriginElement(),m=(0,x.Fb)(B);(!w||w!==m&&!w.contains(m))&&this.overlayOutsideClick.next(B)})}_buildConfig(){const lt=this._position=this.positionStrategy||this._createPositionStrategy(),B=new Ce({direction:this._dir,positionStrategy:lt,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(B.width=this.width),(this.height||0===this.height)&&(B.height=this.height),(this.minWidth||0===this.minWidth)&&(B.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(B.minHeight=this.minHeight),this.backdropClass&&(B.backdropClass=this.backdropClass),this.panelClass&&(B.panelClass=this.panelClass),B}_updatePositionStrategy(lt){const B=this.positions.map(w=>({originX:w.originX,originY:w.originY,overlayX:w.overlayX,overlayY:w.overlayY,offsetX:w.offsetX||this.offsetX,offsetY:w.offsetY||this.offsetY,panelClass:w.panelClass||void 0}));return lt.setOrigin(this._getOrigin()).withPositions(B).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const lt=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(lt),lt}_getOrigin(){return this.origin instanceof ue?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof ue?this.origin.elementRef.nativeElement:this.origin instanceof k.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(lt=>{this.backdropClick.emit(lt)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function L(Ve,Be=!1){return(0,O.N)((lt,B)=>{let w=0;lt.subscribe((0,F._)(B,m=>{const U=Ve(m,w++);(U||Be)&&B.next(m),!U&&B.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(lt=>{this._ngZone.run(()=>this.positionChange.emit(lt)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(B){return new(B||Ve)(k.rXU(fe),k.rXU(k.C4Q),k.rXU(k.c1b),k.rXU(ie),k.rXU(I.dS,8))};static#t=this.\u0275dir=k.FsC({type:Ve,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",k.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",k.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",k.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",k.L39],push:[2,"cdkConnectedOverlayPush","push",k.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",k.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[k.GFd,k.OA$]})}return Ve})();const Ue={provide:ie,deps:[fe],useFactory:function ke(Ve){return()=>Ve.scrollStrategies.reposition()}};let Le=(()=>{class Ve{static#e=this.\u0275fac=function(B){return new(B||Ve)};static#t=this.\u0275mod=k.$C({type:Ve});static#n=this.\u0275inj=k.G2t({providers:[fe,Ue],imports:[I.jI,Z.jc,p.E9,p.E9]})}return Ve})()},36860:(Fe,z,_)=>{"use strict";_.d(z,{BD:()=>te,BQ:()=>I,CZ:()=>re,Fb:()=>se,KT:()=>oe,MU:()=>O,OD:()=>H,r5:()=>Z,v8:()=>de,vc:()=>ae});var p=_(93953),E=_(60177);let k;try{k=typeof Intl<"u"&&Intl.v8BreakIterator}catch{k=!1}let R,H=(()=>{class le{constructor(xe){this._platformId=xe,this.isBrowser=this._platformId?(0,E.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!k)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(Ce){return new(Ce||le)(p.KVO(p.Agw))};static#t=this.\u0275prov=p.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();const A=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function O(){if(R)return R;if("object"!=typeof document||!document)return R=new Set(A),R;let le=document.createElement("input");return R=new Set(A.filter(we=>(le.setAttribute("type",we),le.type===we))),R}let F;function I(le){return function L(){if(null==F&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>F=!0}))}finally{F=F||!1}return F}()?le:!!le.capture}var Z=function(le){return le[le.NORMAL=0]="NORMAL",le[le.NEGATED=1]="NEGATED",le[le.INVERTED=2]="INVERTED",le}(Z||{});let j,G,J;function re(){if(null==G){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return G=!1,G;if("scrollBehavior"in document.documentElement.style)G=!0;else{const le=Element.prototype.scrollTo;G=!!le&&!/\{\s*\[native code\]\s*\}/.test(le.toString())}}return G}function te(){if("object"!=typeof document||!document)return Z.NORMAL;if(null==j){const le=document.createElement("div"),we=le.style;le.dir="rtl",we.width="1px",we.overflow="auto",we.visibility="hidden",we.pointerEvents="none",we.position="absolute";const xe=document.createElement("div"),Ce=xe.style;Ce.width="2px",Ce.height="1px",le.appendChild(xe),document.body.appendChild(le),j=Z.NORMAL,0===le.scrollLeft&&(le.scrollLeft=1,j=0===le.scrollLeft?Z.NEGATED:Z.INVERTED),le.remove()}return j}function oe(le){if(function Y(){if(null==J){const le=typeof document<"u"?document.head:null;J=!(!le||!le.createShadowRoot&&!le.attachShadow)}return J}()){const we=le.getRootNode?le.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&we instanceof ShadowRoot)return we}return null}function ae(){let le=typeof document<"u"&&document?document.activeElement:null;for(;le&&le.shadowRoot;){const we=le.shadowRoot.activeElement;if(we===le)break;le=we}return le}function se(le){return le.composedPath?le.composedPath()[0]:le.target}function de(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},76939:(Fe,z,_)=>{"use strict";_.d(z,{A8:()=>L,I3:()=>oe,VA:()=>I,aI:()=>re,bV:()=>J,jc:()=>se,lb:()=>j});var p=_(93953),E=_(60177);class F{attach(we){return this._attachedHost=we,we.attach(this)}detach(){let we=this._attachedHost;null!=we&&(this._attachedHost=null,we.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(we){this._attachedHost=we}}class L extends F{constructor(we,xe,Ce,C,a){super(),this.component=we,this.viewContainerRef=xe,this.injector=Ce,this.componentFactoryResolver=C,this.projectableNodes=a}}class I extends F{constructor(we,xe,Ce,C){super(),this.templateRef=we,this.viewContainerRef=xe,this.context=Ce,this.injector=C}get origin(){return this.templateRef.elementRef}attach(we,xe=this.context){return this.context=xe,super.attach(we)}detach(){return this.context=void 0,super.detach()}}class Z extends F{constructor(we){super(),this.element=we instanceof p.aKT?we.nativeElement:we}}class j{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(we){return we instanceof L?(this._attachedPortal=we,this.attachComponentPortal(we)):we instanceof I?(this._attachedPortal=we,this.attachTemplatePortal(we)):this.attachDomPortal&&we instanceof Z?(this._attachedPortal=we,this.attachDomPortal(we)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(we){this._disposeFn=we}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class re extends j{constructor(we,xe,Ce,C,a){super(),this.outletElement=we,this._componentFactoryResolver=xe,this._appRef=Ce,this._defaultInjector=C,this.attachDomPortal=u=>{const y=u.element,g=this._document.createComment("dom-portal");y.parentNode.insertBefore(g,y),this.outletElement.appendChild(y),this._attachedPortal=u,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(y,g)})},this._document=a}attachComponentPortal(we){const Ce=(we.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(we.component);let C;return we.viewContainerRef?(C=we.viewContainerRef.createComponent(Ce,we.viewContainerRef.length,we.injector||we.viewContainerRef.injector,we.projectableNodes||void 0),this.setDisposeFn(()=>C.destroy())):(C=Ce.create(we.injector||this._defaultInjector||p.zZn.NULL),this._appRef.attachView(C.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(C.hostView),C.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(C)),this._attachedPortal=we,C}attachTemplatePortal(we){let xe=we.viewContainerRef,Ce=xe.createEmbeddedView(we.templateRef,we.context,{injector:we.injector});return Ce.rootNodes.forEach(C=>this.outletElement.appendChild(C)),Ce.detectChanges(),this.setDisposeFn(()=>{let C=xe.indexOf(Ce);-1!==C&&xe.remove(C)}),this._attachedPortal=we,Ce}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(we){return we.hostView.rootNodes[0]}}let J=(()=>{class le extends I{constructor(xe,Ce){super(xe,Ce)}static#e=this.\u0275fac=function(Ce){return new(Ce||le)(p.rXU(p.C4Q),p.rXU(p.c1b))};static#t=this.\u0275dir=p.FsC({type:le,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[p.Vt3]})}return le})(),oe=(()=>{class le extends j{constructor(xe,Ce,C){super(),this._componentFactoryResolver=xe,this._viewContainerRef=Ce,this._isInitialized=!1,this.attached=new p.bkB,this.attachDomPortal=a=>{const u=a.element,y=this._document.createComment("dom-portal");a.setAttachedHost(this),u.parentNode.insertBefore(y,u),this._getRootNode().appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{y.parentNode&&y.parentNode.replaceChild(u,y)})},this._document=C}get portal(){return this._attachedPortal}set portal(xe){this.hasAttached()&&!xe&&!this._isInitialized||(this.hasAttached()&&super.detach(),xe&&super.attach(xe),this._attachedPortal=xe||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(xe){xe.setAttachedHost(this);const Ce=null!=xe.viewContainerRef?xe.viewContainerRef:this._viewContainerRef,a=(xe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(xe.component),u=Ce.createComponent(a,Ce.length,xe.injector||Ce.injector,xe.projectableNodes||void 0);return Ce!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=xe,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(xe){xe.setAttachedHost(this);const Ce=this._viewContainerRef.createEmbeddedView(xe.templateRef,xe.context,{injector:xe.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=xe,this._attachedRef=Ce,this.attached.emit(Ce),Ce}_getRootNode(){const xe=this._viewContainerRef.element.nativeElement;return xe.nodeType===xe.ELEMENT_NODE?xe:xe.parentNode}static#e=this.\u0275fac=function(Ce){return new(Ce||le)(p.rXU(p.OM3),p.rXU(p.c1b),p.rXU(E.qQ))};static#t=this.\u0275dir=p.FsC({type:le,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[p.Vt3]})}return le})(),se=(()=>{class le{static#e=this.\u0275fac=function(Ce){return new(Ce||le)};static#t=this.\u0275mod=p.$C({type:le});static#n=this.\u0275inj=p.G2t({})}return le})()},67333:(Fe,z,_)=>{"use strict";_.d(z,{uv:()=>u,Gj:()=>ce,R:()=>a,E9:()=>_e,Xj:()=>g});var p=_(14085),E=_(93953),k=_(21413),H=_(7673),x=_(71985),R=_(33726),F=(_(30536),_(25007),_(43236)),L=_(39974),I=_(58750),Z=_(54360),G=_(41584);function re(Pe,$e=F.E){return function j(Pe){return(0,L.N)(($e,Se)=>{let be=!1,Ne=null,ye=null,Te=!1;const pe=()=>{if(ye?.unsubscribe(),ye=null,be){be=!1;const Q=Ne;Ne=null,Se.next(Q)}Te&&Se.complete()},fe=()=>{ye=null,Te&&Se.complete()};$e.subscribe((0,Z._)(Se,Q=>{be=!0,Ne=Q,ye||(0,I.Tg)(Pe(Q)).subscribe(ye=(0,Z._)(Se,pe,fe))},()=>{Te=!0,(!be||!ye||ye.closed)&&Se.complete()}))})}(()=>(0,G.O)(Pe,$e))}var te=_(5964),J=_(56977),Y=_(36860),oe=_(60177),ae=_(28203);let a=(()=>{class Pe{constructor(Se,be,Ne){this._ngZone=Se,this._platform=be,this._scrolled=new k.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Ne}register(Se){this.scrollContainers.has(Se)||this.scrollContainers.set(Se,Se.elementScrolled().subscribe(()=>this._scrolled.next(Se)))}deregister(Se){const be=this.scrollContainers.get(Se);be&&(be.unsubscribe(),this.scrollContainers.delete(Se))}scrolled(Se=20){return this._platform.isBrowser?new x.c(be=>{this._globalSubscription||this._addGlobalListener();const Ne=Se>0?this._scrolled.pipe(re(Se)).subscribe(be):this._scrolled.subscribe(be);return this._scrolledCount++,()=>{Ne.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,H.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Se,be)=>this.deregister(be)),this._scrolled.complete()}ancestorScrolled(Se,be){const Ne=this.getAncestorScrollContainers(Se);return this.scrolled(be).pipe((0,te.p)(ye=>!ye||Ne.indexOf(ye)>-1))}getAncestorScrollContainers(Se){const be=[];return this.scrollContainers.forEach((Ne,ye)=>{this._scrollableContainsElement(ye,Se)&&be.push(ye)}),be}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Se,be){let Ne=(0,p.i8)(be),ye=Se.getElementRef().nativeElement;do{if(Ne==ye)return!0}while(Ne=Ne.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Se=this._getWindow();return(0,R.R)(Se.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(be){return new(be||Pe)(E.KVO(E.SKi),E.KVO(Y.OD),E.KVO(oe.qQ,8))};static#t=this.\u0275prov=E.jDH({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}return Pe})(),u=(()=>{class Pe{constructor(Se,be,Ne,ye){this.elementRef=Se,this.scrollDispatcher=be,this.ngZone=Ne,this.dir=ye,this._destroyed=new k.B,this._elementScrolled=new x.c(Te=>this.ngZone.runOutsideAngular(()=>(0,R.R)(this.elementRef.nativeElement,"scroll").pipe((0,J.Q)(this._destroyed)).subscribe(Te)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(Se){const be=this.elementRef.nativeElement,Ne=this.dir&&"rtl"==this.dir.value;null==Se.left&&(Se.left=Ne?Se.end:Se.start),null==Se.right&&(Se.right=Ne?Se.start:Se.end),null!=Se.bottom&&(Se.top=be.scrollHeight-be.clientHeight-Se.bottom),Ne&&(0,Y.BD)()!=Y.r5.NORMAL?(null!=Se.left&&(Se.right=be.scrollWidth-be.clientWidth-Se.left),(0,Y.BD)()==Y.r5.INVERTED?Se.left=Se.right:(0,Y.BD)()==Y.r5.NEGATED&&(Se.left=Se.right?-Se.right:Se.right)):null!=Se.right&&(Se.left=be.scrollWidth-be.clientWidth-Se.right),this._applyScrollToOptions(Se)}_applyScrollToOptions(Se){const be=this.elementRef.nativeElement;(0,Y.CZ)()?be.scrollTo(Se):(null!=Se.top&&(be.scrollTop=Se.top),null!=Se.left&&(be.scrollLeft=Se.left))}measureScrollOffset(Se){const be="left",ye=this.elementRef.nativeElement;if("top"==Se)return ye.scrollTop;if("bottom"==Se)return ye.scrollHeight-ye.clientHeight-ye.scrollTop;const Te=this.dir&&"rtl"==this.dir.value;return"start"==Se?Se=Te?"right":be:"end"==Se&&(Se=Te?be:"right"),Te&&(0,Y.BD)()==Y.r5.INVERTED?Se==be?ye.scrollWidth-ye.clientWidth-ye.scrollLeft:ye.scrollLeft:Te&&(0,Y.BD)()==Y.r5.NEGATED?Se==be?ye.scrollLeft+ye.scrollWidth-ye.clientWidth:-ye.scrollLeft:Se==be?ye.scrollLeft:ye.scrollWidth-ye.clientWidth-ye.scrollLeft}static#e=this.\u0275fac=function(be){return new(be||Pe)(E.rXU(E.aKT),E.rXU(a),E.rXU(E.SKi),E.rXU(ae.dS,8))};static#t=this.\u0275dir=E.FsC({type:Pe,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return Pe})(),g=(()=>{class Pe{constructor(Se,be,Ne){this._platform=Se,this._change=new k.B,this._changeListener=ye=>{this._change.next(ye)},this._document=Ne,be.runOutsideAngular(()=>{if(Se.isBrowser){const ye=this._getWindow();ye.addEventListener("resize",this._changeListener),ye.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Se=this._getWindow();Se.removeEventListener("resize",this._changeListener),Se.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Se={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Se}getViewportRect(){const Se=this.getViewportScrollPosition(),{width:be,height:Ne}=this.getViewportSize();return{top:Se.top,left:Se.left,bottom:Se.top+Ne,right:Se.left+be,height:Ne,width:be}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Se=this._document,be=this._getWindow(),Ne=Se.documentElement,ye=Ne.getBoundingClientRect();return{top:-ye.top||Se.body.scrollTop||be.scrollY||Ne.scrollTop||0,left:-ye.left||Se.body.scrollLeft||be.scrollX||Ne.scrollLeft||0}}change(Se=20){return Se>0?this._change.pipe(re(Se)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Se=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Se.innerWidth,height:Se.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(be){return new(be||Pe)(E.KVO(Y.OD),E.KVO(E.SKi),E.KVO(oe.qQ,8))};static#t=this.\u0275prov=E.jDH({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}return Pe})(),ce=(()=>{class Pe{static#e=this.\u0275fac=function(be){return new(be||Pe)};static#t=this.\u0275mod=E.$C({type:Pe});static#n=this.\u0275inj=E.G2t({})}return Pe})(),_e=(()=>{class Pe{static#e=this.\u0275fac=function(be){return new(be||Pe)};static#t=this.\u0275mod=E.$C({type:Pe});static#n=this.\u0275inj=E.G2t({imports:[ae.jI,ce,ae.jI,ce]})}return Pe})()},60177:(Fe,z,_)=>{"use strict";_.d(z,{AJ:()=>oo,B3:()=>wi,Jj:()=>ps,MD:()=>mc,N0:()=>$t,QT:()=>k,Sm:()=>te,Sq:()=>Dn,T3:()=>Ui,UE:()=>vo,VF:()=>x,Vy:()=>sd,Xr:()=>ds,YU:()=>Xr,ZD:()=>H,_b:()=>Nr,aZ:()=>Y,bT:()=>Sr,fw:()=>J,hb:()=>G,hj:()=>F,qQ:()=>A,vh:()=>eu});var p=_(93953);let E=null;function k(){return E}function H(it){E??=it}class x{}const A=new p.nKC("");let O=(()=>{class it{historyGo(At){throw new Error("")}static#e=this.\u0275fac=function(Ft){return new(Ft||it)};static#t=this.\u0275prov=p.jDH({token:it,factory:()=>(0,p.WQX)(L),providedIn:"platform"})}return it})();const F=new p.nKC("");let L=(()=>{class it extends O{constructor(){super(),this._doc=(0,p.WQX)(A),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(At){const Ft=k().getGlobalEventTarget(this._doc,"window");return Ft.addEventListener("popstate",At,!1),()=>Ft.removeEventListener("popstate",At)}onHashChange(At){const Ft=k().getGlobalEventTarget(this._doc,"window");return Ft.addEventListener("hashchange",At,!1),()=>Ft.removeEventListener("hashchange",At)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(At){this._location.pathname=At}pushState(At,Ft,Sn){this._history.pushState(At,Ft,Sn)}replaceState(At,Ft,Sn){this._history.replaceState(At,Ft,Sn)}forward(){this._history.forward()}back(){this._history.back()}historyGo(At=0){this._history.go(At)}getState(){return this._history.state}static#e=this.\u0275fac=function(Ft){return new(Ft||it)};static#t=this.\u0275prov=p.jDH({token:it,factory:()=>new it,providedIn:"platform"})}return it})();function I(it,Xt){if(0==it.length)return Xt;if(0==Xt.length)return it;let At=0;return it.endsWith("/")&&At++,Xt.startsWith("/")&&At++,2==At?it+Xt.substring(1):1==At?it+Xt:it+"/"+Xt}function Z(it){const Xt=it.match(/#|\?|$/),At=Xt&&Xt.index||it.length;return it.slice(0,At-("/"===it[At-1]?1:0))+it.slice(At)}function j(it){return it&&"?"!==it[0]?"?"+it:it}let G=(()=>{class it{historyGo(At){throw new Error("")}static#e=this.\u0275fac=function(Ft){return new(Ft||it)};static#t=this.\u0275prov=p.jDH({token:it,factory:()=>(0,p.WQX)(te),providedIn:"root"})}return it})();const re=new p.nKC("");let te=(()=>{class it extends G{constructor(At,Ft){super(),this._platformLocation=At,this._removeListenerFns=[],this._baseHref=Ft??this._platformLocation.getBaseHrefFromDOM()??(0,p.WQX)(A).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(At){this._removeListenerFns.push(this._platformLocation.onPopState(At),this._platformLocation.onHashChange(At))}getBaseHref(){return this._baseHref}prepareExternalUrl(At){return I(this._baseHref,At)}path(At=!1){const Ft=this._platformLocation.pathname+j(this._platformLocation.search),Sn=this._platformLocation.hash;return Sn&&At?`${Ft}${Sn}`:Ft}pushState(At,Ft,Sn,tr){const wr=this.prepareExternalUrl(Sn+j(tr));this._platformLocation.pushState(At,Ft,wr)}replaceState(At,Ft,Sn,tr){const wr=this.prepareExternalUrl(Sn+j(tr));this._platformLocation.replaceState(At,Ft,wr)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(At=0){this._platformLocation.historyGo?.(At)}static#e=this.\u0275fac=function(Ft){return new(Ft||it)(p.KVO(O),p.KVO(re,8))};static#t=this.\u0275prov=p.jDH({token:it,factory:it.\u0275fac,providedIn:"root"})}return it})(),J=(()=>{class it extends G{constructor(At,Ft){super(),this._platformLocation=At,this._baseHref="",this._removeListenerFns=[],null!=Ft&&(this._baseHref=Ft)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(At){this._removeListenerFns.push(this._platformLocation.onPopState(At),this._platformLocation.onHashChange(At))}getBaseHref(){return this._baseHref}path(At=!1){const Ft=this._platformLocation.hash??"#";return Ft.length>0?Ft.substring(1):Ft}prepareExternalUrl(At){const Ft=I(this._baseHref,At);return Ft.length>0?"#"+Ft:Ft}pushState(At,Ft,Sn,tr){let wr=this.prepareExternalUrl(Sn+j(tr));0==wr.length&&(wr=this._platformLocation.pathname),this._platformLocation.pushState(At,Ft,wr)}replaceState(At,Ft,Sn,tr){let wr=this.prepareExternalUrl(Sn+j(tr));0==wr.length&&(wr=this._platformLocation.pathname),this._platformLocation.replaceState(At,Ft,wr)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(At=0){this._platformLocation.historyGo?.(At)}static#e=this.\u0275fac=function(Ft){return new(Ft||it)(p.KVO(O),p.KVO(re,8))};static#t=this.\u0275prov=p.jDH({token:it,factory:it.\u0275fac})}return it})(),Y=(()=>{class it{constructor(At){this._subject=new p.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=At;const Ft=this._locationStrategy.getBaseHref();this._basePath=function de(it){if(new RegExp("^(https?:)?//").test(it)){const[,At]=it.split(/\/\/[^\/]+/);return At}return it}(Z(se(Ft))),this._locationStrategy.onPopState(Sn=>{this._subject.emit({url:this.path(!0),pop:!0,state:Sn.state,type:Sn.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(At=!1){return this.normalize(this._locationStrategy.path(At))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(At,Ft=""){return this.path()==this.normalize(At+j(Ft))}normalize(At){return it.stripTrailingSlash(function ae(it,Xt){if(!it||!Xt.startsWith(it))return Xt;const At=Xt.substring(it.length);return""===At||["/",";","?","#"].includes(At[0])?At:Xt}(this._basePath,se(At)))}prepareExternalUrl(At){return At&&"/"!==At[0]&&(At="/"+At),this._locationStrategy.prepareExternalUrl(At)}go(At,Ft="",Sn=null){this._locationStrategy.pushState(Sn,"",At,Ft),this._notifyUrlChangeListeners(this.prepareExternalUrl(At+j(Ft)),Sn)}replaceState(At,Ft="",Sn=null){this._locationStrategy.replaceState(Sn,"",At,Ft),this._notifyUrlChangeListeners(this.prepareExternalUrl(At+j(Ft)),Sn)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(At=0){this._locationStrategy.historyGo?.(At)}onUrlChange(At){return this._urlChangeListeners.push(At),this._urlChangeSubscription??=this.subscribe(Ft=>{this._notifyUrlChangeListeners(Ft.url,Ft.state)}),()=>{const Ft=this._urlChangeListeners.indexOf(At);this._urlChangeListeners.splice(Ft,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(At="",Ft){this._urlChangeListeners.forEach(Sn=>Sn(At,Ft))}subscribe(At,Ft,Sn){return this._subject.subscribe({next:At,error:Ft,complete:Sn})}static#e=this.normalizeQueryParams=j;static#t=this.joinWithSlash=I;static#n=this.stripTrailingSlash=Z;static#f=this.\u0275fac=function(Ft){return new(Ft||it)(p.KVO(G))};static#A=this.\u0275prov=p.jDH({token:it,factory:()=>function oe(){return new Y((0,p.KVO)(G))}(),providedIn:"root"})}return it})();function se(it){return it.replace(/\/index.html$/,"")}var Ce=function(it){return it[it.Format=0]="Format",it[it.Standalone=1]="Standalone",it}(Ce||{}),C=function(it){return it[it.Narrow=0]="Narrow",it[it.Abbreviated=1]="Abbreviated",it[it.Wide=2]="Wide",it[it.Short=3]="Short",it}(C||{}),a=function(it){return it[it.Short=0]="Short",it[it.Medium=1]="Medium",it[it.Long=2]="Long",it[it.Full=3]="Full",it}(a||{});const u={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function W(it,Xt){return Q((0,p.H5H)(it)[p.KH2.DateFormat],Xt)}function K(it,Xt){return Q((0,p.H5H)(it)[p.KH2.TimeFormat],Xt)}function ee(it,Xt){return Q((0,p.H5H)(it)[p.KH2.DateTimeFormat],Xt)}function ce(it,Xt){const At=(0,p.H5H)(it),Ft=At[p.KH2.NumberSymbols][Xt];if(typeof Ft>"u"){if(Xt===u.CurrencyDecimal)return At[p.KH2.NumberSymbols][u.Decimal];if(Xt===u.CurrencyGroup)return At[p.KH2.NumberSymbols][u.Group]}return Ft}function ye(it){if(!it[p.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${it[p.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Q(it,Xt){for(let At=Xt;At>-1;At--)if(typeof it[At]<"u")return it[At];throw new Error("Locale data API: locale data undefined")}function ie(it){const[Xt,At]=it.split(":");return{hours:+Xt,minutes:+At}}const Ue=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Le={},_t=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ve=function(it){return it[it.Short=0]="Short",it[it.ShortGMT=1]="ShortGMT",it[it.Long=2]="Long",it[it.Extended=3]="Extended",it}(Ve||{}),Be=function(it){return it[it.FullYear=0]="FullYear",it[it.Month=1]="Month",it[it.Date=2]="Date",it[it.Hours=3]="Hours",it[it.Minutes=4]="Minutes",it[it.Seconds=5]="Seconds",it[it.FractionalSeconds=6]="FractionalSeconds",it[it.Day=7]="Day",it}(Be||{}),lt=function(it){return it[it.DayPeriods=0]="DayPeriods",it[it.Days=1]="Days",it[it.Months=2]="Months",it[it.Eras=3]="Eras",it}(lt||{});function B(it,Xt,At,Ft){let Sn=function dn(it){if(vt(it))return it;if("number"==typeof it&&!isNaN(it))return new Date(it);if("string"==typeof it){if(it=it.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(it)){const[Sn,tr=1,wr=1]=it.split("-").map(Zr=>+Zr);return w(Sn,tr-1,wr)}const At=parseFloat(it);if(!isNaN(it-At))return new Date(At);let Ft;if(Ft=it.match(Ue))return function hr(it){const Xt=new Date(0);let At=0,Ft=0;const Sn=it[8]?Xt.setUTCFullYear:Xt.setFullYear,tr=it[8]?Xt.setUTCHours:Xt.setHours;it[9]&&(At=Number(it[9]+it[10]),Ft=Number(it[9]+it[11])),Sn.call(Xt,Number(it[1]),Number(it[2])-1,Number(it[3]));const wr=Number(it[4]||0)-At,Zr=Number(it[5]||0)-Ft,xs=Number(it[6]||0),$i=Math.floor(1e3*parseFloat("0."+(it[7]||0)));return tr.call(Xt,wr,Zr,xs,$i),Xt}(Ft)}const Xt=new Date(it);if(!vt(Xt))throw new Error(`Unable to convert "${it}" into a date`);return Xt}(it);Xt=m(At,Xt)||Xt;let Zr,wr=[];for(;Xt;){if(Zr=_t.exec(Xt),!Zr){wr.push(Xt);break}{wr=wr.concat(Zr.slice(1));const Wo=wr.pop();if(!Wo)break;Xt=Wo}}let xs=Sn.getTimezoneOffset();Ft&&(xs=ht(Ft,xs),Sn=function Jt(it,Xt,At){const Ft=At?-1:1,Sn=it.getTimezoneOffset();return function zt(it,Xt){return(it=new Date(it.getTime())).setMinutes(it.getMinutes()+Xt),it}(it,Ft*(ht(Xt,Sn)-Sn))}(Sn,Ft,!0));let $i="";return wr.forEach(Wo=>{const Ir=function Et(it){if(qt[it])return qt[it];let Xt;switch(it){case"G":case"GG":case"GGG":Xt=Bt(lt.Eras,C.Abbreviated);break;case"GGGG":Xt=Bt(lt.Eras,C.Wide);break;case"GGGGG":Xt=Bt(lt.Eras,C.Narrow);break;case"y":Xt=Ae(Be.FullYear,1,0,!1,!0);break;case"yy":Xt=Ae(Be.FullYear,2,0,!0,!0);break;case"yyy":Xt=Ae(Be.FullYear,3,0,!1,!0);break;case"yyyy":Xt=Ae(Be.FullYear,4,0,!1,!0);break;case"Y":Xt=Qt(1);break;case"YY":Xt=Qt(2,!0);break;case"YYY":Xt=Qt(3);break;case"YYYY":Xt=Qt(4);break;case"M":case"L":Xt=Ae(Be.Month,1,1);break;case"MM":case"LL":Xt=Ae(Be.Month,2,1);break;case"MMM":Xt=Bt(lt.Months,C.Abbreviated);break;case"MMMM":Xt=Bt(lt.Months,C.Wide);break;case"MMMMM":Xt=Bt(lt.Months,C.Narrow);break;case"LLL":Xt=Bt(lt.Months,C.Abbreviated,Ce.Standalone);break;case"LLLL":Xt=Bt(lt.Months,C.Wide,Ce.Standalone);break;case"LLLLL":Xt=Bt(lt.Months,C.Narrow,Ce.Standalone);break;case"w":Xt=Mn(1);break;case"ww":Xt=Mn(2);break;case"W":Xt=Mn(1,!0);break;case"d":Xt=Ae(Be.Date,1);break;case"dd":Xt=Ae(Be.Date,2);break;case"c":case"cc":Xt=Ae(Be.Day,1);break;case"ccc":Xt=Bt(lt.Days,C.Abbreviated,Ce.Standalone);break;case"cccc":Xt=Bt(lt.Days,C.Wide,Ce.Standalone);break;case"ccccc":Xt=Bt(lt.Days,C.Narrow,Ce.Standalone);break;case"cccccc":Xt=Bt(lt.Days,C.Short,Ce.Standalone);break;case"E":case"EE":case"EEE":Xt=Bt(lt.Days,C.Abbreviated);break;case"EEEE":Xt=Bt(lt.Days,C.Wide);break;case"EEEEE":Xt=Bt(lt.Days,C.Narrow);break;case"EEEEEE":Xt=Bt(lt.Days,C.Short);break;case"a":case"aa":case"aaa":Xt=Bt(lt.DayPeriods,C.Abbreviated);break;case"aaaa":Xt=Bt(lt.DayPeriods,C.Wide);break;case"aaaaa":Xt=Bt(lt.DayPeriods,C.Narrow);break;case"b":case"bb":case"bbb":Xt=Bt(lt.DayPeriods,C.Abbreviated,Ce.Standalone,!0);break;case"bbbb":Xt=Bt(lt.DayPeriods,C.Wide,Ce.Standalone,!0);break;case"bbbbb":Xt=Bt(lt.DayPeriods,C.Narrow,Ce.Standalone,!0);break;case"B":case"BB":case"BBB":Xt=Bt(lt.DayPeriods,C.Abbreviated,Ce.Format,!0);break;case"BBBB":Xt=Bt(lt.DayPeriods,C.Wide,Ce.Format,!0);break;case"BBBBB":Xt=Bt(lt.DayPeriods,C.Narrow,Ce.Format,!0);break;case"h":Xt=Ae(Be.Hours,1,-12);break;case"hh":Xt=Ae(Be.Hours,2,-12);break;case"H":Xt=Ae(Be.Hours,1);break;case"HH":Xt=Ae(Be.Hours,2);break;case"m":Xt=Ae(Be.Minutes,1);break;case"mm":Xt=Ae(Be.Minutes,2);break;case"s":Xt=Ae(Be.Seconds,1);break;case"ss":Xt=Ae(Be.Seconds,2);break;case"S":Xt=Ae(Be.FractionalSeconds,1);break;case"SS":Xt=Ae(Be.FractionalSeconds,2);break;case"SSS":Xt=Ae(Be.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Xt=It(Ve.Short);break;case"ZZZZZ":Xt=It(Ve.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Xt=It(Ve.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Xt=It(Ve.Long);break;default:return null}return qt[it]=Xt,Xt}(Wo);$i+=Ir?Ir(Sn,At,xs):"''"===Wo?"'":Wo.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),$i}function w(it,Xt,At){const Ft=new Date(0);return Ft.setFullYear(it,Xt,At),Ft.setHours(0,0,0),Ft}function m(it,Xt){const At=function g(it){return(0,p.H5H)(it)[p.KH2.LocaleId]}(it);if(Le[At]??={},Le[At][Xt])return Le[At][Xt];let Ft="";switch(Xt){case"shortDate":Ft=W(it,a.Short);break;case"mediumDate":Ft=W(it,a.Medium);break;case"longDate":Ft=W(it,a.Long);break;case"fullDate":Ft=W(it,a.Full);break;case"shortTime":Ft=K(it,a.Short);break;case"mediumTime":Ft=K(it,a.Medium);break;case"longTime":Ft=K(it,a.Long);break;case"fullTime":Ft=K(it,a.Full);break;case"short":const Sn=m(it,"shortTime"),tr=m(it,"shortDate");Ft=U(ee(it,a.Short),[Sn,tr]);break;case"medium":const wr=m(it,"mediumTime"),Zr=m(it,"mediumDate");Ft=U(ee(it,a.Medium),[wr,Zr]);break;case"long":const xs=m(it,"longTime"),$i=m(it,"longDate");Ft=U(ee(it,a.Long),[xs,$i]);break;case"full":const Wo=m(it,"fullTime"),Ir=m(it,"fullDate");Ft=U(ee(it,a.Full),[Wo,Ir])}return Ft&&(Le[At][Xt]=Ft),Ft}function U(it,Xt){return Xt&&(it=it.replace(/\{([^}]+)}/g,function(At,Ft){return null!=Xt&&Ft in Xt?Xt[Ft]:At})),it}function ne(it,Xt,At="-",Ft,Sn){let tr="";(it<0||Sn&&it<=0)&&(Sn?it=1-it:(it=-it,tr=At));let wr=String(it);for(;wr.length<Xt;)wr="0"+wr;return Ft&&(wr=wr.slice(wr.length-Xt)),tr+wr}function Ae(it,Xt,At=0,Ft=!1,Sn=!1){return function(tr,wr){let Zr=function Qe(it,Xt){switch(it){case Be.FullYear:return Xt.getFullYear();case Be.Month:return Xt.getMonth();case Be.Date:return Xt.getDate();case Be.Hours:return Xt.getHours();case Be.Minutes:return Xt.getMinutes();case Be.Seconds:return Xt.getSeconds();case Be.FractionalSeconds:return Xt.getMilliseconds();case Be.Day:return Xt.getDay();default:throw new Error(`Unknown DateType value "${it}".`)}}(it,tr);if((At>0||Zr>-At)&&(Zr+=At),it===Be.Hours)0===Zr&&-12===At&&(Zr=12);else if(it===Be.FractionalSeconds)return function ge(it,Xt){return ne(it,3).substring(0,Xt)}(Zr,Xt);const xs=ce(wr,u.MinusSign);return ne(Zr,Xt,xs,Ft,Sn)}}function Bt(it,Xt,At=Ce.Format,Ft=!1){return function(Sn,tr){return function gt(it,Xt,At,Ft,Sn,tr){switch(At){case lt.Months:return function N(it,Xt,At){const Ft=(0,p.H5H)(it),tr=Q([Ft[p.KH2.MonthsFormat],Ft[p.KH2.MonthsStandalone]],Xt);return Q(tr,At)}(Xt,Sn,Ft)[it.getMonth()];case lt.Days:return function T(it,Xt,At){const Ft=(0,p.H5H)(it),tr=Q([Ft[p.KH2.DaysFormat],Ft[p.KH2.DaysStandalone]],Xt);return Q(tr,At)}(Xt,Sn,Ft)[it.getDay()];case lt.DayPeriods:const wr=it.getHours(),Zr=it.getMinutes();if(tr){const $i=function Te(it){const Xt=(0,p.H5H)(it);return ye(Xt),(Xt[p.KH2.ExtraData][2]||[]).map(Ft=>"string"==typeof Ft?ie(Ft):[ie(Ft[0]),ie(Ft[1])])}(Xt),Wo=function pe(it,Xt,At){const Ft=(0,p.H5H)(it);ye(Ft);const tr=Q([Ft[p.KH2.ExtraData][0],Ft[p.KH2.ExtraData][1]],Xt)||[];return Q(tr,At)||[]}(Xt,Sn,Ft),Ir=$i.findIndex(qo=>{if(Array.isArray(qo)){const[Io,Ss]=qo,pl=wr>=Io.hours&&Zr>=Io.minutes,Ms=wr<Ss.hours||wr===Ss.hours&&Zr<Ss.minutes;if(Io.hours<Ss.hours){if(pl&&Ms)return!0}else if(pl||Ms)return!0}else if(qo.hours===wr&&qo.minutes===Zr)return!0;return!1});if(-1!==Ir)return Wo[Ir]}return function S(it,Xt,At){const Ft=(0,p.H5H)(it),tr=Q([Ft[p.KH2.DayPeriodsFormat],Ft[p.KH2.DayPeriodsStandalone]],Xt);return Q(tr,At)}(Xt,Sn,Ft)[wr<12?0:1];case lt.Eras:return function M(it,Xt){return Q((0,p.H5H)(it)[p.KH2.Eras],Xt)}(Xt,Ft)[it.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${At}`)}}(Sn,tr,it,Xt,At,Ft)}}function It(it){return function(Xt,At,Ft){const Sn=-1*Ft,tr=ce(At,u.MinusSign),wr=Sn>0?Math.floor(Sn/60):Math.ceil(Sn/60);switch(it){case Ve.Short:return(Sn>=0?"+":"")+ne(wr,2,tr)+ne(Math.abs(Sn%60),2,tr);case Ve.ShortGMT:return"GMT"+(Sn>=0?"+":"")+ne(wr,1,tr);case Ve.Long:return"GMT"+(Sn>=0?"+":"")+ne(wr,2,tr)+":"+ne(Math.abs(Sn%60),2,tr);case Ve.Extended:return 0===Ft?"Z":(Sn>=0?"+":"")+ne(wr,2,tr)+":"+ne(Math.abs(Sn%60),2,tr);default:throw new Error(`Unknown zone width "${it}"`)}}}const Gt=0,un=4;function sr(it){const Xt=it.getDay(),At=0===Xt?-3:un-Xt;return w(it.getFullYear(),it.getMonth(),it.getDate()+At)}function Mn(it,Xt=!1){return function(At,Ft){let Sn;if(Xt){const tr=new Date(At.getFullYear(),At.getMonth(),1).getDay()-1,wr=At.getDate();Sn=1+Math.floor((wr+tr)/7)}else{const tr=sr(At),wr=function an(it){const Xt=w(it,Gt,1).getDay();return w(it,0,1+(Xt<=un?un:un+7)-Xt)}(tr.getFullYear()),Zr=tr.getTime()-wr.getTime();Sn=1+Math.round(Zr/6048e5)}return ne(Sn,it,ce(Ft,u.MinusSign))}}function Qt(it,Xt=!1){return function(At,Ft){return ne(sr(At).getFullYear(),it,ce(Ft,u.MinusSign),Xt)}}const qt={};function ht(it,Xt){it=it.replace(/:/g,"");const At=Date.parse("Jan 01, 1970 00:00:00 "+it)/6e4;return isNaN(At)?Xt:At}function vt(it){return it instanceof Date&&!isNaN(it.valueOf())}function Nr(it,Xt){Xt=encodeURIComponent(Xt);for(const At of it.split(";")){const Ft=At.indexOf("="),[Sn,tr]=-1==Ft?[At,""]:[At.slice(0,Ft),At.slice(Ft+1)];if(Sn.trim()===Xt)return decodeURIComponent(tr)}return null}const Ur=/\s+/,Kr=[];let Xr=(()=>{class it{constructor(At,Ft){this._ngEl=At,this._renderer=Ft,this.initialClasses=Kr,this.stateMap=new Map}set klass(At){this.initialClasses=null!=At?At.trim().split(Ur):Kr}set ngClass(At){this.rawClass="string"==typeof At?At.trim().split(Ur):At}ngDoCheck(){for(const Ft of this.initialClasses)this._updateState(Ft,!0);const At=this.rawClass;if(Array.isArray(At)||At instanceof Set)for(const Ft of At)this._updateState(Ft,!0);else if(null!=At)for(const Ft of Object.keys(At))this._updateState(Ft,!!At[Ft]);this._applyStateDiff()}_updateState(At,Ft){const Sn=this.stateMap.get(At);void 0!==Sn?(Sn.enabled!==Ft&&(Sn.changed=!0,Sn.enabled=Ft),Sn.touched=!0):this.stateMap.set(At,{enabled:Ft,changed:!0,touched:!0})}_applyStateDiff(){for(const At of this.stateMap){const Ft=At[0],Sn=At[1];Sn.changed?(this._toggleClass(Ft,Sn.enabled),Sn.changed=!1):Sn.touched||(Sn.enabled&&this._toggleClass(Ft,!1),this.stateMap.delete(Ft)),Sn.touched=!1}}_toggleClass(At,Ft){(At=At.trim()).length>0&&At.split(Ur).forEach(Sn=>{Ft?this._renderer.addClass(this._ngEl.nativeElement,Sn):this._renderer.removeClass(this._ngEl.nativeElement,Sn)})}static#e=this.\u0275fac=function(Ft){return new(Ft||it)(p.rXU(p.aKT),p.rXU(p.sFG))};static#t=this.\u0275dir=p.FsC({type:it,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return it})();class wn{constructor(Xt,At,Ft,Sn){this.$implicit=Xt,this.ngForOf=At,this.index=Ft,this.count=Sn}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dn=(()=>{class it{set ngForOf(At){this._ngForOf=At,this._ngForOfDirty=!0}set ngForTrackBy(At){this._trackByFn=At}get ngForTrackBy(){return this._trackByFn}constructor(At,Ft,Sn){this._viewContainer=At,this._template=Ft,this._differs=Sn,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(At){At&&(this._template=At)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const At=this._ngForOf;!this._differ&&At&&(this._differ=this._differs.find(At).create(this.ngForTrackBy))}if(this._differ){const At=this._differ.diff(this._ngForOf);At&&this._applyChanges(At)}}_applyChanges(At){const Ft=this._viewContainer;At.forEachOperation((Sn,tr,wr)=>{if(null==Sn.previousIndex)Ft.createEmbeddedView(this._template,new wn(Sn.item,this._ngForOf,-1,-1),null===wr?void 0:wr);else if(null==wr)Ft.remove(null===tr?void 0:tr);else if(null!==tr){const Zr=Ft.get(tr);Ft.move(Zr,wr),Fn(Zr,Sn)}});for(let Sn=0,tr=Ft.length;Sn<tr;Sn++){const Zr=Ft.get(Sn).context;Zr.index=Sn,Zr.count=tr,Zr.ngForOf=this._ngForOf}At.forEachIdentityChange(Sn=>{Fn(Ft.get(Sn.currentIndex),Sn)})}static ngTemplateContextGuard(At,Ft){return!0}static#e=this.\u0275fac=function(Ft){return new(Ft||it)(p.rXU(p.c1b),p.rXU(p.C4Q),p.rXU(p._q3))};static#t=this.\u0275dir=p.FsC({type:it,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return it})();function Fn(it,Xt){it.context.$implicit=Xt.item}let Sr=(()=>{class it{constructor(At,Ft){this._viewContainer=At,this._context=new xr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Ft}set ngIf(At){this._context.$implicit=this._context.ngIf=At,this._updateView()}set ngIfThen(At){Fr("ngIfThen",At),this._thenTemplateRef=At,this._thenViewRef=null,this._updateView()}set ngIfElse(At){Fr("ngIfElse",At),this._elseTemplateRef=At,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(At,Ft){return!0}static#e=this.\u0275fac=function(Ft){return new(Ft||it)(p.rXU(p.c1b),p.rXU(p.C4Q))};static#t=this.\u0275dir=p.FsC({type:it,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return it})();class xr{constructor(){this.$implicit=null,this.ngIf=null}}function Fr(it,Xt){if(Xt&&!Xt.createEmbeddedView)throw new Error(`${it} must be a TemplateRef, but received '${(0,p.Tbb)(Xt)}'.`)}let wi=(()=>{class it{constructor(At,Ft,Sn){this._ngEl=At,this._differs=Ft,this._renderer=Sn,this._ngStyle=null,this._differ=null}set ngStyle(At){this._ngStyle=At,!this._differ&&At&&(this._differ=this._differs.find(At).create())}ngDoCheck(){if(this._differ){const At=this._differ.diff(this._ngStyle);At&&this._applyChanges(At)}}_setStyle(At,Ft){const[Sn,tr]=At.split("."),wr=-1===Sn.indexOf("-")?void 0:p.czy.DashCase;null!=Ft?this._renderer.setStyle(this._ngEl.nativeElement,Sn,tr?`${Ft}${tr}`:Ft,wr):this._renderer.removeStyle(this._ngEl.nativeElement,Sn,wr)}_applyChanges(At){At.forEachRemovedItem(Ft=>this._setStyle(Ft.key,null)),At.forEachAddedItem(Ft=>this._setStyle(Ft.key,Ft.currentValue)),At.forEachChangedItem(Ft=>this._setStyle(Ft.key,Ft.currentValue))}static#e=this.\u0275fac=function(Ft){return new(Ft||it)(p.rXU(p.aKT),p.rXU(p.MKu),p.rXU(p.sFG))};static#t=this.\u0275dir=p.FsC({type:it,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return it})(),Ui=(()=>{class it{constructor(At){this._viewContainerRef=At,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(At){if(this._shouldRecreateView(At)){const Ft=this._viewContainerRef;if(this._viewRef&&Ft.remove(Ft.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Sn=this._createContextForwardProxy();this._viewRef=Ft.createEmbeddedView(this.ngTemplateOutlet,Sn,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(At){return!!At.ngTemplateOutlet||!!At.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(At,Ft,Sn)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Ft,Sn),get:(At,Ft,Sn)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Ft,Sn)}})}static#e=this.\u0275fac=function(Ft){return new(Ft||it)(p.rXU(p.c1b))};static#t=this.\u0275dir=p.FsC({type:it,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[p.OA$]})}return it})();function Mi(it,Xt){return new p.wOt(2100,!1)}class ls{createSubscription(Xt,At){return(0,p.O8t)(()=>Xt.subscribe({next:At,error:Ft=>{throw Ft}}))}dispose(Xt){(0,p.O8t)(()=>Xt.unsubscribe())}}class Js{createSubscription(Xt,At){return Xt.then(At,Ft=>{throw Ft})}dispose(Xt){}}const So=new Js,Ki=new ls;let ps=(()=>{class it{constructor(At){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=At}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(At){if(!this._obj){if(At)try{this.markForCheckOnValueUpdate=!1,this._subscribe(At)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return At!==this._obj?(this._dispose(),this.transform(At)):this._latestValue}_subscribe(At){this._obj=At,this._strategy=this._selectStrategy(At),this._subscription=this._strategy.createSubscription(At,Ft=>this._updateLatestValue(At,Ft))}_selectStrategy(At){if((0,p.jNT)(At))return So;if((0,p.zjR)(At))return Ki;throw Mi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(At,Ft){At===this._obj&&(this._latestValue=Ft,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(Ft){return new(Ft||it)(p.rXU(p.gRc,16))};static#t=this.\u0275pipe=p.EJ8({name:"async",type:it,pure:!1,standalone:!0})}return it})();const Mu=new p.nKC(""),fa=new p.nKC("");let eu=(()=>{class it{constructor(At,Ft,Sn){this.locale=At,this.defaultTimezone=Ft,this.defaultOptions=Sn}transform(At,Ft,Sn,tr){if(null==At||""===At||At!=At)return null;try{return B(At,Ft??this.defaultOptions?.dateFormat??"mediumDate",tr||this.locale,Sn??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(wr){throw Mi()}}static#e=this.\u0275fac=function(Ft){return new(Ft||it)(p.rXU(p.xe9,16),p.rXU(Mu,24),p.rXU(fa,24))};static#t=this.\u0275pipe=p.EJ8({name:"date",type:it,pure:!0,standalone:!0})}return it})(),mc=(()=>{class it{static#e=this.\u0275fac=function(Ft){return new(Ft||it)};static#t=this.\u0275mod=p.$C({type:it});static#n=this.\u0275inj=p.G2t({})}return it})();const oo="browser",uo="server";function vo(it){return it===oo}function sd(it){return it===uo}let ds=(()=>{class it{static#e=this.\u0275prov=(0,p.jDH)({token:it,providedIn:"root",factory:()=>vo((0,p.WQX)(p.Agw))?new Cc((0,p.WQX)(A),window):new pr})}return it})();class Cc{constructor(Xt,At){this.document=Xt,this.window=At,this.offset=()=>[0,0]}setOffset(Xt){this.offset=Array.isArray(Xt)?()=>Xt:Xt}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Xt){this.window.scrollTo(Xt[0],Xt[1])}scrollToAnchor(Xt){const At=function ln(it,Xt){const At=it.getElementById(Xt)||it.getElementsByName(Xt)[0];if(At)return At;if("function"==typeof it.createTreeWalker&&it.body&&"function"==typeof it.body.attachShadow){const Ft=it.createTreeWalker(it.body,NodeFilter.SHOW_ELEMENT);let Sn=Ft.currentNode;for(;Sn;){const tr=Sn.shadowRoot;if(tr){const wr=tr.getElementById(Xt)||tr.querySelector(`[name="${Xt}"]`);if(wr)return wr}Sn=Ft.nextNode()}}return null}(this.document,Xt);At&&(this.scrollToElement(At),At.focus())}setHistoryScrollRestoration(Xt){this.window.history.scrollRestoration=Xt}scrollToElement(Xt){const At=Xt.getBoundingClientRect(),Ft=At.left+this.window.pageXOffset,Sn=At.top+this.window.pageYOffset,tr=this.offset();this.window.scrollTo(Ft-tr[0],Sn-tr[1])}}class pr{setOffset(Xt){}getScrollPosition(){return[0,0]}scrollToPosition(Xt){}scrollToAnchor(Xt){}setHistoryScrollRestoration(Xt){}}class $t{}},21626:(Fe,z,_)=>{"use strict";_.d(z,{Qq:()=>ee,q1:()=>sn});var p=_(10467),E=_(93953),k=_(7673),H=_(71985),x=_(86648),R=_(70274),A=_(5964),O=_(96354),F=_(70980),L=_(25558),I=_(60177);class Z{}class j{}class G{constructor(wn){this.normalizedNames=new Map,this.lazyUpdate=null,wn?"string"==typeof wn?this.lazyInit=()=>{this.headers=new Map,wn.split("\n").forEach(Dn=>{const Fn=Dn.indexOf(":");if(Fn>0){const fr=Dn.slice(0,Fn),Sr=fr.toLowerCase(),xr=Dn.slice(Fn+1).trim();this.maybeSetNormalizedName(fr,Sr),this.headers.has(Sr)?this.headers.get(Sr).push(xr):this.headers.set(Sr,[xr])}})}:typeof Headers<"u"&&wn instanceof Headers?(this.headers=new Map,wn.forEach((Dn,Fn)=>{this.setHeaderEntries(Fn,Dn)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(wn).forEach(([Dn,Fn])=>{this.setHeaderEntries(Dn,Fn)})}:this.headers=new Map}has(wn){return this.init(),this.headers.has(wn.toLowerCase())}get(wn){this.init();const Dn=this.headers.get(wn.toLowerCase());return Dn&&Dn.length>0?Dn[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(wn){return this.init(),this.headers.get(wn.toLowerCase())||null}append(wn,Dn){return this.clone({name:wn,value:Dn,op:"a"})}set(wn,Dn){return this.clone({name:wn,value:Dn,op:"s"})}delete(wn,Dn){return this.clone({name:wn,value:Dn,op:"d"})}maybeSetNormalizedName(wn,Dn){this.normalizedNames.has(Dn)||this.normalizedNames.set(Dn,wn)}init(){this.lazyInit&&(this.lazyInit instanceof G?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(wn=>this.applyUpdate(wn)),this.lazyUpdate=null))}copyFrom(wn){wn.init(),Array.from(wn.headers.keys()).forEach(Dn=>{this.headers.set(Dn,wn.headers.get(Dn)),this.normalizedNames.set(Dn,wn.normalizedNames.get(Dn))})}clone(wn){const Dn=new G;return Dn.lazyInit=this.lazyInit&&this.lazyInit instanceof G?this.lazyInit:this,Dn.lazyUpdate=(this.lazyUpdate||[]).concat([wn]),Dn}applyUpdate(wn){const Dn=wn.name.toLowerCase();switch(wn.op){case"a":case"s":let Fn=wn.value;if("string"==typeof Fn&&(Fn=[Fn]),0===Fn.length)return;this.maybeSetNormalizedName(wn.name,Dn);const fr=("a"===wn.op?this.headers.get(Dn):void 0)||[];fr.push(...Fn),this.headers.set(Dn,fr);break;case"d":const Sr=wn.value;if(Sr){let xr=this.headers.get(Dn);if(!xr)return;xr=xr.filter(Fr=>-1===Sr.indexOf(Fr)),0===xr.length?(this.headers.delete(Dn),this.normalizedNames.delete(Dn)):this.headers.set(Dn,xr)}else this.headers.delete(Dn),this.normalizedNames.delete(Dn)}}setHeaderEntries(wn,Dn){const Fn=(Array.isArray(Dn)?Dn:[Dn]).map(Sr=>Sr.toString()),fr=wn.toLowerCase();this.headers.set(fr,Fn),this.maybeSetNormalizedName(wn,fr)}forEach(wn){this.init(),Array.from(this.normalizedNames.keys()).forEach(Dn=>wn(this.normalizedNames.get(Dn),this.headers.get(Dn)))}}class te{encodeKey(wn){return ae(wn)}encodeValue(wn){return ae(wn)}decodeKey(wn){return decodeURIComponent(wn)}decodeValue(wn){return decodeURIComponent(wn)}}const Y=/%(\d[a-f0-9])/gi,oe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ae(en){return encodeURIComponent(en).replace(Y,(wn,Dn)=>oe[Dn]??wn)}function se(en){return`${en}`}class de{constructor(wn={}){if(this.updates=null,this.cloneFrom=null,this.encoder=wn.encoder||new te,wn.fromString){if(wn.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function J(en,wn){const Dn=new Map;return en.length>0&&en.replace(/^\?/,"").split("&").forEach(fr=>{const Sr=fr.indexOf("="),[xr,Fr]=-1==Sr?[wn.decodeKey(fr),""]:[wn.decodeKey(fr.slice(0,Sr)),wn.decodeValue(fr.slice(Sr+1))],jr=Dn.get(xr)||[];jr.push(Fr),Dn.set(xr,jr)}),Dn}(wn.fromString,this.encoder)}else wn.fromObject?(this.map=new Map,Object.keys(wn.fromObject).forEach(Dn=>{const Fn=wn.fromObject[Dn],fr=Array.isArray(Fn)?Fn.map(se):[se(Fn)];this.map.set(Dn,fr)})):this.map=null}has(wn){return this.init(),this.map.has(wn)}get(wn){this.init();const Dn=this.map.get(wn);return Dn?Dn[0]:null}getAll(wn){return this.init(),this.map.get(wn)||null}keys(){return this.init(),Array.from(this.map.keys())}append(wn,Dn){return this.clone({param:wn,value:Dn,op:"a"})}appendAll(wn){const Dn=[];return Object.keys(wn).forEach(Fn=>{const fr=wn[Fn];Array.isArray(fr)?fr.forEach(Sr=>{Dn.push({param:Fn,value:Sr,op:"a"})}):Dn.push({param:Fn,value:fr,op:"a"})}),this.clone(Dn)}set(wn,Dn){return this.clone({param:wn,value:Dn,op:"s"})}delete(wn,Dn){return this.clone({param:wn,value:Dn,op:"d"})}toString(){return this.init(),this.keys().map(wn=>{const Dn=this.encoder.encodeKey(wn);return this.map.get(wn).map(Fn=>Dn+"="+this.encoder.encodeValue(Fn)).join("&")}).filter(wn=>""!==wn).join("&")}clone(wn){const Dn=new de({encoder:this.encoder});return Dn.cloneFrom=this.cloneFrom||this,Dn.updates=(this.updates||[]).concat(wn),Dn}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(wn=>this.map.set(wn,this.cloneFrom.map.get(wn))),this.updates.forEach(wn=>{switch(wn.op){case"a":case"s":const Dn=("a"===wn.op?this.map.get(wn.param):void 0)||[];Dn.push(se(wn.value)),this.map.set(wn.param,Dn);break;case"d":if(void 0===wn.value){this.map.delete(wn.param);break}{let Fn=this.map.get(wn.param)||[];const fr=Fn.indexOf(se(wn.value));-1!==fr&&Fn.splice(fr,1),Fn.length>0?this.map.set(wn.param,Fn):this.map.delete(wn.param)}}}),this.cloneFrom=this.updates=null)}}class we{constructor(){this.map=new Map}set(wn,Dn){return this.map.set(wn,Dn),this}get(wn){return this.map.has(wn)||this.map.set(wn,wn.defaultValue()),this.map.get(wn)}delete(wn){return this.map.delete(wn),this}has(wn){return this.map.has(wn)}keys(){return this.map.keys()}}function Ce(en){return typeof ArrayBuffer<"u"&&en instanceof ArrayBuffer}function C(en){return typeof Blob<"u"&&en instanceof Blob}function a(en){return typeof FormData<"u"&&en instanceof FormData}class y{constructor(wn,Dn,Fn,fr){let Sr;if(this.url=Dn,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=wn.toUpperCase(),function xe(en){switch(en){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||fr?(this.body=void 0!==Fn?Fn:null,Sr=fr):Sr=Fn,Sr&&(this.reportProgress=!!Sr.reportProgress,this.withCredentials=!!Sr.withCredentials,Sr.responseType&&(this.responseType=Sr.responseType),Sr.headers&&(this.headers=Sr.headers),Sr.context&&(this.context=Sr.context),Sr.params&&(this.params=Sr.params),this.transferCache=Sr.transferCache),this.headers??=new G,this.context??=new we,this.params){const xr=this.params.toString();if(0===xr.length)this.urlWithParams=Dn;else{const Fr=Dn.indexOf("?");this.urlWithParams=Dn+(-1===Fr?"?":Fr<Dn.length-1?"&":"")+xr}}else this.params=new de,this.urlWithParams=Dn}serializeBody(){return null===this.body?null:"string"==typeof this.body||Ce(this.body)||C(this.body)||a(this.body)||function u(en){return typeof URLSearchParams<"u"&&en instanceof URLSearchParams}(this.body)?this.body:this.body instanceof de?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||a(this.body)?null:C(this.body)?this.body.type||null:Ce(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof de?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(wn={}){const Dn=wn.method||this.method,Fn=wn.url||this.url,fr=wn.responseType||this.responseType,Sr=wn.transferCache??this.transferCache,xr=void 0!==wn.body?wn.body:this.body,Fr=wn.withCredentials??this.withCredentials,jr=wn.reportProgress??this.reportProgress;let ti=wn.headers||this.headers,xo=wn.params||this.params;const bi=wn.context??this.context;return void 0!==wn.setHeaders&&(ti=Object.keys(wn.setHeaders).reduce((Ao,ko)=>Ao.set(ko,wn.setHeaders[ko]),ti)),wn.setParams&&(xo=Object.keys(wn.setParams).reduce((Ao,ko)=>Ao.set(ko,wn.setParams[ko]),xo)),new y(Dn,Fn,xr,{params:xo,headers:ti,context:bi,reportProgress:jr,responseType:fr,withCredentials:Fr,transferCache:Sr})}}var g=function(en){return en[en.Sent=0]="Sent",en[en.UploadProgress=1]="UploadProgress",en[en.ResponseHeader=2]="ResponseHeader",en[en.DownloadProgress=3]="DownloadProgress",en[en.Response=4]="Response",en[en.User=5]="User",en}(g||{});class S{constructor(wn,Dn=200,Fn="OK"){this.headers=wn.headers||new G,this.status=void 0!==wn.status?wn.status:Dn,this.statusText=wn.statusText||Fn,this.url=wn.url||null,this.ok=this.status>=200&&this.status<300}}class T extends S{constructor(wn={}){super(wn),this.type=g.ResponseHeader}clone(wn={}){return new T({headers:wn.headers||this.headers,status:void 0!==wn.status?wn.status:this.status,statusText:wn.statusText||this.statusText,url:wn.url||this.url||void 0})}}class N extends S{constructor(wn={}){super(wn),this.type=g.Response,this.body=void 0!==wn.body?wn.body:null}clone(wn={}){return new N({body:void 0!==wn.body?wn.body:this.body,headers:wn.headers||this.headers,status:void 0!==wn.status?wn.status:this.status,statusText:wn.statusText||this.statusText,url:wn.url||this.url||void 0})}}class M extends S{constructor(wn){super(wn,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${wn.url||"(unknown url)"}`:`Http failure response for ${wn.url||"(unknown url)"}: ${wn.status} ${wn.statusText}`,this.error=wn.error||null}}function K(en,wn){return{body:wn,headers:en.headers,context:en.context,observe:en.observe,params:en.params,reportProgress:en.reportProgress,responseType:en.responseType,withCredentials:en.withCredentials,transferCache:en.transferCache}}let ee=(()=>{class en{constructor(Dn){this.handler=Dn}request(Dn,Fn,fr={}){let Sr;if(Dn instanceof y)Sr=Dn;else{let jr,ti;jr=fr.headers instanceof G?fr.headers:new G(fr.headers),fr.params&&(ti=fr.params instanceof de?fr.params:new de({fromObject:fr.params})),Sr=new y(Dn,Fn,void 0!==fr.body?fr.body:null,{headers:jr,context:fr.context,params:ti,reportProgress:fr.reportProgress,responseType:fr.responseType||"json",withCredentials:fr.withCredentials,transferCache:fr.transferCache})}const xr=(0,k.of)(Sr).pipe((0,R.H)(jr=>this.handler.handle(jr)));if(Dn instanceof y||"events"===fr.observe)return xr;const Fr=xr.pipe((0,A.p)(jr=>jr instanceof N));switch(fr.observe||"body"){case"body":switch(Sr.responseType){case"arraybuffer":return Fr.pipe((0,O.T)(jr=>{if(null!==jr.body&&!(jr.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return jr.body}));case"blob":return Fr.pipe((0,O.T)(jr=>{if(null!==jr.body&&!(jr.body instanceof Blob))throw new Error("Response is not a Blob.");return jr.body}));case"text":return Fr.pipe((0,O.T)(jr=>{if(null!==jr.body&&"string"!=typeof jr.body)throw new Error("Response is not a string.");return jr.body}));default:return Fr.pipe((0,O.T)(jr=>jr.body))}case"response":return Fr;default:throw new Error(`Unreachable: unhandled observe type ${fr.observe}}`)}}delete(Dn,Fn={}){return this.request("DELETE",Dn,Fn)}get(Dn,Fn={}){return this.request("GET",Dn,Fn)}head(Dn,Fn={}){return this.request("HEAD",Dn,Fn)}jsonp(Dn,Fn){return this.request("JSONP",Dn,{params:(new de).append(Fn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Dn,Fn={}){return this.request("OPTIONS",Dn,Fn)}patch(Dn,Fn,fr={}){return this.request("PATCH",Dn,K(fr,Fn))}post(Dn,Fn,fr={}){return this.request("POST",Dn,K(fr,Fn))}put(Dn,Fn,fr={}){return this.request("PUT",Dn,K(fr,Fn))}static#e=this.\u0275fac=function(Fn){return new(Fn||en)(E.KVO(Z))};static#t=this.\u0275prov=E.jDH({token:en,factory:en.\u0275fac})}return en})();const ce=/^\)\]\}',?\n/;function Pe(en){if(en.url)return en.url;const wn="X-Request-URL".toLocaleLowerCase();return en.headers.get(wn)}let $e=(()=>{class en{constructor(){this.fetchImpl=(0,E.WQX)(Se,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=(0,E.WQX)(E.SKi)}handle(Dn){return new H.c(Fn=>{const fr=new AbortController;return this.doRequest(Dn,fr.signal,Fn).then(be,Sr=>Fn.error(new M({error:Sr}))),()=>fr.abort()})}doRequest(Dn,Fn,fr){var Sr=this;return(0,p.A)(function*(){const xr=Sr.createRequestInit(Dn);let Fr;try{const Jo=Sr.ngZone.runOutsideAngular(()=>Sr.fetchImpl(Dn.urlWithParams,{signal:Fn,...xr}));(function Ne(en){en.then(be,be)})(Jo),fr.next({type:g.Sent}),Fr=yield Jo}catch(Jo){return void fr.error(new M({error:Jo,status:Jo.status??0,statusText:Jo.statusText,url:Dn.urlWithParams,headers:Jo.headers}))}const jr=new G(Fr.headers),ti=Fr.statusText,xo=Pe(Fr)??Dn.urlWithParams;let bi=Fr.status,Ao=null;if(Dn.reportProgress&&fr.next(new T({headers:jr,status:bi,statusText:ti,url:xo})),Fr.body){const Jo=Fr.headers.get("content-length"),ji=[],wi=Fr.body.getReader();let La,Mi,Ui=0;const ls=typeof Zone<"u"&&Zone.current;yield Sr.ngZone.runOutsideAngular((0,p.A)(function*(){for(;;){const{done:So,value:Ki}=yield wi.read();if(So)break;if(ji.push(Ki),Ui+=Ki.length,Dn.reportProgress){Mi="text"===Dn.responseType?(Mi??"")+(La??=new TextDecoder).decode(Ki,{stream:!0}):void 0;const ps=()=>fr.next({type:g.DownloadProgress,total:Jo?+Jo:void 0,loaded:Ui,partialText:Mi});ls?ls.run(ps):ps()}}}));const Js=Sr.concatChunks(ji,Ui);try{const So=Fr.headers.get("Content-Type")??"";Ao=Sr.parseBody(Dn,Js,So)}catch(So){return void fr.error(new M({error:So,headers:new G(Fr.headers),status:Fr.status,statusText:Fr.statusText,url:Pe(Fr)??Dn.urlWithParams}))}}0===bi&&(bi=Ao?200:0),bi>=200&&bi<300?(fr.next(new N({body:Ao,headers:jr,status:bi,statusText:ti,url:xo})),fr.complete()):fr.error(new M({error:Ao,headers:jr,status:bi,statusText:ti,url:xo}))})()}parseBody(Dn,Fn,fr){switch(Dn.responseType){case"json":const Sr=(new TextDecoder).decode(Fn).replace(ce,"");return""===Sr?null:JSON.parse(Sr);case"text":return(new TextDecoder).decode(Fn);case"blob":return new Blob([Fn],{type:fr});case"arraybuffer":return Fn.buffer}}createRequestInit(Dn){const Fn={},fr=Dn.withCredentials?"include":void 0;if(Dn.headers.forEach((Sr,xr)=>Fn[Sr]=xr.join(",")),Dn.headers.has("Accept")||(Fn.Accept="application/json, text/plain, */*"),!Dn.headers.has("Content-Type")){const Sr=Dn.detectContentTypeHeader();null!==Sr&&(Fn["Content-Type"]=Sr)}return{body:Dn.serializeBody(),method:Dn.method,headers:Fn,credentials:fr}}concatChunks(Dn,Fn){const fr=new Uint8Array(Fn);let Sr=0;for(const xr of Dn)fr.set(xr,Sr),Sr+=xr.length;return fr}static#e=this.\u0275fac=function(Fn){return new(Fn||en)};static#t=this.\u0275prov=E.jDH({token:en,factory:en.\u0275fac})}return en})();class Se{}function be(){}function ye(en,wn){return wn(en)}function Te(en,wn){return(Dn,Fn)=>wn.intercept(Dn,{handle:fr=>en(fr,Fn)})}const fe=new E.nKC(""),Q=new E.nKC(""),ie=new E.nKC(""),ue=new E.nKC("",{providedIn:"root",factory:()=>!0});function Ee(){let en=null;return(wn,Dn)=>{null===en&&(en=((0,E.WQX)(fe,{optional:!0})??[]).reduceRight(Te,ye));const Fn=(0,E.WQX)(E.TgB);if((0,E.WQX)(ue)){const Sr=Fn.add();return en(wn,Dn).pipe((0,F.j)(()=>Fn.remove(Sr)))}return en(wn,Dn)}}let Le=(()=>{class en extends Z{constructor(Dn,Fn){super(),this.backend=Dn,this.injector=Fn,this.chain=null,this.pendingTasks=(0,E.WQX)(E.TgB),this.contributeToStability=(0,E.WQX)(ue)}handle(Dn){if(null===this.chain){const Fn=Array.from(new Set([...this.injector.get(Q),...this.injector.get(ie,[])]));this.chain=Fn.reduceRight((fr,Sr)=>function pe(en,wn,Dn){return(Fn,fr)=>(0,E.N4e)(Dn,()=>wn(Fn,Sr=>en(Sr,fr)))}(fr,Sr,this.injector),ye)}if(this.contributeToStability){const Fn=this.pendingTasks.add();return this.chain(Dn,fr=>this.backend.handle(fr)).pipe((0,F.j)(()=>this.pendingTasks.remove(Fn)))}return this.chain(Dn,Fn=>this.backend.handle(Fn))}static#e=this.\u0275fac=function(Fn){return new(Fn||en)(E.KVO(j),E.KVO(E.uvJ))};static#t=this.\u0275prov=E.jDH({token:en,factory:en.\u0275fac})}return en})();const Qe=/^\)\]\}',?\n/;let gt=(()=>{class en{constructor(Dn){this.xhrFactory=Dn}handle(Dn){if("JSONP"===Dn.method)throw new E.wOt(-2800,!1);const Fn=this.xhrFactory;return(Fn.\u0275loadImpl?(0,x.H)(Fn.\u0275loadImpl()):(0,k.of)(null)).pipe((0,L.n)(()=>new H.c(Sr=>{const xr=Fn.build();if(xr.open(Dn.method,Dn.urlWithParams),Dn.withCredentials&&(xr.withCredentials=!0),Dn.headers.forEach((ji,wi)=>xr.setRequestHeader(ji,wi.join(","))),Dn.headers.has("Accept")||xr.setRequestHeader("Accept","application/json, text/plain, */*"),!Dn.headers.has("Content-Type")){const ji=Dn.detectContentTypeHeader();null!==ji&&xr.setRequestHeader("Content-Type",ji)}if(Dn.responseType){const ji=Dn.responseType.toLowerCase();xr.responseType="json"!==ji?ji:"text"}const Fr=Dn.serializeBody();let jr=null;const ti=()=>{if(null!==jr)return jr;const ji=xr.statusText||"OK",wi=new G(xr.getAllResponseHeaders()),Ui=function Bt(en){return"responseURL"in en&&en.responseURL?en.responseURL:/^X-Request-URL:/m.test(en.getAllResponseHeaders())?en.getResponseHeader("X-Request-URL"):null}(xr)||Dn.url;return jr=new T({headers:wi,status:xr.status,statusText:ji,url:Ui}),jr},xo=()=>{let{headers:ji,status:wi,statusText:Ui,url:La}=ti(),Mi=null;204!==wi&&(Mi=typeof xr.response>"u"?xr.responseText:xr.response),0===wi&&(wi=Mi?200:0);let ls=wi>=200&&wi<300;if("json"===Dn.responseType&&"string"==typeof Mi){const Js=Mi;Mi=Mi.replace(Qe,"");try{Mi=""!==Mi?JSON.parse(Mi):null}catch(So){Mi=Js,ls&&(ls=!1,Mi={error:So,text:Mi})}}ls?(Sr.next(new N({body:Mi,headers:ji,status:wi,statusText:Ui,url:La||void 0})),Sr.complete()):Sr.error(new M({error:Mi,headers:ji,status:wi,statusText:Ui,url:La||void 0}))},bi=ji=>{const{url:wi}=ti(),Ui=new M({error:ji,status:xr.status||0,statusText:xr.statusText||"Unknown Error",url:wi||void 0});Sr.error(Ui)};let Ao=!1;const ko=ji=>{Ao||(Sr.next(ti()),Ao=!0);let wi={type:g.DownloadProgress,loaded:ji.loaded};ji.lengthComputable&&(wi.total=ji.total),"text"===Dn.responseType&&xr.responseText&&(wi.partialText=xr.responseText),Sr.next(wi)},Jo=ji=>{let wi={type:g.UploadProgress,loaded:ji.loaded};ji.lengthComputable&&(wi.total=ji.total),Sr.next(wi)};return xr.addEventListener("load",xo),xr.addEventListener("error",bi),xr.addEventListener("timeout",bi),xr.addEventListener("abort",bi),Dn.reportProgress&&(xr.addEventListener("progress",ko),null!==Fr&&xr.upload&&xr.upload.addEventListener("progress",Jo)),xr.send(Fr),Sr.next({type:g.Sent}),()=>{xr.removeEventListener("error",bi),xr.removeEventListener("abort",bi),xr.removeEventListener("load",xo),xr.removeEventListener("timeout",bi),Dn.reportProgress&&(xr.removeEventListener("progress",ko),null!==Fr&&xr.upload&&xr.upload.removeEventListener("progress",Jo)),xr.readyState!==xr.DONE&&xr.abort()}})))}static#e=this.\u0275fac=function(Fn){return new(Fn||en)(E.KVO(I.N0))};static#t=this.\u0275prov=E.jDH({token:en,factory:en.\u0275fac})}return en})();const It=new E.nKC(""),un=new E.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),sr=new E.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Mn{}let Qt=(()=>{class en{constructor(Dn,Fn,fr){this.doc=Dn,this.platform=Fn,this.cookieName=fr,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Dn=this.doc.cookie||"";return Dn!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,I._b)(Dn,this.cookieName),this.lastCookieString=Dn),this.lastToken}static#e=this.\u0275fac=function(Fn){return new(Fn||en)(E.KVO(I.qQ),E.KVO(E.Agw),E.KVO(un))};static#t=this.\u0275prov=E.jDH({token:en,factory:en.\u0275fac})}return en})();function qt(en,wn){const Dn=en.url.toLowerCase();if(!(0,E.WQX)(It)||"GET"===en.method||"HEAD"===en.method||Dn.startsWith("http://")||Dn.startsWith("https://"))return wn(en);const Fn=(0,E.WQX)(Mn).getToken(),fr=(0,E.WQX)(sr);return null!=Fn&&!en.headers.has(fr)&&(en=en.clone({headers:en.headers.set(fr,Fn)})),wn(en)}var ht=function(en){return en[en.Interceptors=0]="Interceptors",en[en.LegacyInterceptors=1]="LegacyInterceptors",en[en.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",en[en.NoXsrfProtection=3]="NoXsrfProtection",en[en.JsonpSupport=4]="JsonpSupport",en[en.RequestsMadeViaParent=5]="RequestsMadeViaParent",en[en.Fetch=6]="Fetch",en}(ht||{});function Jt(...en){const wn=[ee,gt,Le,{provide:Z,useExisting:Le},{provide:j,useFactory:()=>(0,E.WQX)($e,{optional:!0})??(0,E.WQX)(gt)},{provide:Q,useValue:qt,multi:!0},{provide:It,useValue:!0},{provide:Mn,useClass:Qt}];for(const Dn of en)wn.push(...Dn.\u0275providers);return(0,E.EmA)(wn)}const hr=new E.nKC("");function vt(){return function zt(en,wn){return{\u0275kind:en,\u0275providers:wn}}(ht.LegacyInterceptors,[{provide:hr,useFactory:Ee},{provide:Q,useExisting:hr,multi:!0}])}let sn=(()=>{class en{static#e=this.\u0275fac=function(Fn){return new(Fn||en)};static#t=this.\u0275mod=E.$C({type:en});static#n=this.\u0275inj=E.G2t({providers:[Jt(vt())]})}return en})()},93953:(Fe,z,_)=>{"use strict";function p(o,d){return Object.is(o,d)}_.d(z,{bc$:()=>P5,iLQ:()=>uE,sZ2:()=>m_,hnV:()=>gM,wjH:()=>Ml,o8S:()=>ff,BIS:()=>IT,gRc:()=>ZP,Ql9:()=>KP,OM3:()=>hb,Ocv:()=>MM,Z63:()=>Me,aKT:()=>Iy,uvJ:()=>su,zcH:()=>zu,bkB:()=>Rf,y_5:()=>Sa,$GK:()=>eo,nKC:()=>zi,zZn:()=>tl,_q3:()=>IM,MKu:()=>hC,xe9:()=>Sm,Co$:()=>CD,Vns:()=>Ga,SKi:()=>Ma,Xx1:()=>$a,Agw:()=>T2,PLl:()=>TT,rOR:()=>s_,sFG:()=>uD,_9s:()=>pb,czy:()=>C_,WPN:()=>Qm,kdw:()=>ml,C4Q:()=>rb,NYb:()=>H3,giA:()=>W3,RxE:()=>IP,c1b:()=>$x,gXe:()=>pt,mal:()=>Z_,Tzd:()=>fD,L39:()=>jB,EWP:()=>HB,sbv:()=>ED,a0P:()=>Kg,Ol2:()=>Ws,w6W:()=>Tb,QZP:()=>RC,Rfq:()=>ad,WQX:()=>Ir,hFB:()=>v2,naY:()=>AM,Hps:()=>ef,QuC:()=>Ka,EmA:()=>Uw,geq:()=>Vl,Udg:()=>DO,Jn2:()=>wM,HJs:()=>CO,N4e:()=>HE,vPA:()=>Hx,O8t:()=>OC,ebz:()=>ro,An2:()=>qp,H3F:()=>DP,zAP:()=>MC,H8p:()=>ni,KH2:()=>Gd,TgB:()=>Wm,wOt:()=>Kn,WHO:()=>jP,e01:()=>mM,lNU:()=>vn,h9k:()=>El,$MX:()=>E_,ZF7:()=>vh,Kcf:()=>H5,e5t:()=>j2,UyX:()=>G5,cWb:()=>W5,osQ:()=>Z5,H5H:()=>wp,Zy3:()=>ir,mq5:()=>C0,JZv:()=>mo,TL3:()=>DB,LfX:()=>ru,plB:()=>Xu,jNT:()=>yM,zjR:()=>dE,ngT:()=>Kl,TL$:()=>D5,Tbb:()=>Ho,rcV:()=>Jh,nM4:()=>ID,Vt3:()=>Yx,GFd:()=>Ab,OA$:()=>XE,Jv_:()=>L0,aNF:()=>Y1,R7$:()=>xI,BMQ:()=>uc,HbH:()=>pp,ZvI:()=>Hb,AVh:()=>Vf,vxM:()=>T0,wni:()=>K1,C6U:()=>w3,SS7:()=>Id,VBU:()=>rn,FsC:()=>Fi,jDH:()=>Uo,G2t:()=>cc,$C:()=>Gn,EJ8:()=>ao,rXU:()=>jy,nrm:()=>P1,eu8:()=>Sc,bVm:()=>I0,qex:()=>pg,k0s:()=>Gb,j41:()=>Wb,RV6:()=>vp,xGo:()=>sT,Mr5:()=>bp,pXf:()=>u3,KVO:()=>$i,kS0:()=>Ty,QTQ:()=>SI,bIt:()=>L1,lsd:()=>dP,joV:()=>zA,qSk:()=>VA,XpG:()=>m3,nI1:()=>er,bMT:()=>eE,SdG:()=>$S,NAR:()=>U1,Y8G:()=>am,FS9:()=>F1,lJ4:()=>nM,eq3:()=>J1,l_i:()=>q1,NyB:()=>va,mGM:()=>N0,sdS:()=>_3,Dyx:()=>xS,Z7z:()=>ES,fX1:()=>_S,Vm6:()=>wS,Njj:()=>OA,eBV:()=>PA,npT:()=>q5,f$h:()=>G2,B4B:()=>fs,n$t:()=>QT,xc7:()=>Vb,Kam:()=>US,zvX:()=>lm,DNE:()=>c1,C5r:()=>cw,EFF:()=>Tg,JRh:()=>tw,SpI:()=>nw,Lme:()=>hm,E5c:()=>W1,DH7:()=>Mc,mxI:()=>X1,R50:()=>pm,GBs:()=>Ts,wEZ:()=>zS});let E=null,k=!1,H=1;const x=Symbol("SIGNAL");function R(o){const d=E;return E=o,d}const L={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function I(o){if(k)throw new Error("");if(null===E)return;E.consumerOnSignalRead(o);const d=E.nextProducerIndex++;we(E),d<E.producerNode.length&&E.producerNode[d]!==o&&le(E)&&de(E.producerNode[d],E.producerIndexOfThis[d]),E.producerNode[d]!==o&&(E.producerNode[d]=o,E.producerIndexOfThis[d]=le(E)?se(o,E,d):0),E.producerLastReadVersion[d]=o.version}function j(o){if((!le(o)||o.dirty)&&(o.dirty||o.lastCleanEpoch!==H)){if(!o.producerMustRecompute(o)&&!oe(o))return o.dirty=!1,void(o.lastCleanEpoch=H);o.producerRecomputeValue(o),o.dirty=!1,o.lastCleanEpoch=H}}function G(o){if(void 0===o.liveConsumerNode)return;const d=k;k=!0;try{for(const b of o.liveConsumerNode)b.dirty||te(b)}finally{k=d}}function re(){return!1!==E?.consumerAllowSignalWrites}function te(o){o.dirty=!0,G(o),o.consumerMarkedDirty?.(o)}function J(o){return o&&(o.nextProducerIndex=0),R(o)}function Y(o,d){if(R(d),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(le(o))for(let b=o.nextProducerIndex;b<o.producerNode.length;b++)de(o.producerNode[b],o.producerIndexOfThis[b]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function oe(o){we(o);for(let d=0;d<o.producerNode.length;d++){const b=o.producerNode[d],P=o.producerLastReadVersion[d];if(P!==b.version||(j(b),P!==b.version))return!0}return!1}function ae(o){if(we(o),le(o))for(let d=0;d<o.producerNode.length;d++)de(o.producerNode[d],o.producerIndexOfThis[d]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function se(o,d,b){if(xe(o),0===o.liveConsumerNode.length&&Ce(o))for(let P=0;P<o.producerNode.length;P++)o.producerIndexOfThis[P]=se(o.producerNode[P],o,P);return o.liveConsumerIndexOfThis.push(b),o.liveConsumerNode.push(d)-1}function de(o,d){if(xe(o),1===o.liveConsumerNode.length&&Ce(o))for(let P=0;P<o.producerNode.length;P++)de(o.producerNode[P],o.producerIndexOfThis[P]);const b=o.liveConsumerNode.length-1;if(o.liveConsumerNode[d]=o.liveConsumerNode[b],o.liveConsumerIndexOfThis[d]=o.liveConsumerIndexOfThis[b],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,d<o.liveConsumerNode.length){const P=o.liveConsumerIndexOfThis[d],X=o.liveConsumerNode[d];we(X),X.producerIndexOfThis[P]=d}}function le(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function we(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}function xe(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}function Ce(o){return void 0!==o.producerNode}function C(o){const d=Object.create(g);d.computation=o;const b=()=>{if(j(d),I(d),d.value===y)throw d.error;return d.value};return b[x]=d,b}const a=Symbol("UNSET"),u=Symbol("COMPUTING"),y=Symbol("ERRORED"),g={...L,value:a,dirty:!0,error:null,equal:p,producerMustRecompute:o=>o.value===a||o.value===u,producerRecomputeValue(o){if(o.value===u)throw new Error("Detected cycle in computations.");const d=o.value;o.value=u;const b=J(o);let P;try{P=o.computation()}catch(X){P=y,o.error=X}finally{Y(o,b)}d!==a&&d!==y&&P!==y&&o.equal(d,P)?o.value=d:(o.value=P,o.version++)}};let T=function S(){throw new Error};function N(){T()}let s=null;function ee(o,d){re()||N(),o.equal(o.value,d)||(o.value=d,function $e(o){o.version++,function Z(){H++}(),G(o),s?.()}(o))}const Pe={...L,equal:p,value:void 0};const be=()=>{},Ne={...L,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{null!==o.schedule&&o.schedule(o.ref)},hasRun:!1,cleanupFn:be};var Te=_(84412),pe=_(21413),fe=_(18359),Q=_(96354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const vn="https://g.co/ng/security#xss";class Kn extends Error{constructor(d,b){super(ir(d,b)),this.code=d}}function ir(o,d){return`NG0${Math.abs(o)}${d?": "+d:""}`}const ci=Symbol("InputSignalNode#UNSET"),fi={...Pe,transformFn:void 0,applyValueToInputSignal(o,d){ee(o,d)}};function xa(o,d){const b=Object.create(fi);function P(){if(I(b),b.value===ci)throw new Kn(-950,!1);return b.value}return b.value=o,b.transformFn=d?.transform,P[x]=b,P}function Ai(o){return{toString:o}.toString()}const Lo="__parameters__";function ws(o,d,b){return Ai(()=>{const P=function ys(o){return function(...b){if(o){const P=o(...b);for(const X in P)this[X]=P[X]}}}(d);function X(...he){if(this instanceof X)return P.apply(this,he),this;const Ie=new X(...he);return Ke.annotation=Ie,Ke;function Ke(rt,Tt,Nt){const cn=rt.hasOwnProperty(Lo)?rt[Lo]:Object.defineProperty(rt,Lo,{value:[]})[Lo];for(;cn.length<=Nt;)cn.push(null);return(cn[Nt]=cn[Nt]||[]).push(Ie),rt}}return b&&(X.prototype=Object.create(b.prototype)),X.prototype.ngMetadataName=o,X.annotationCls=X,X})}const mo=globalThis;function To(o){for(let d in o)if(o[d]===To)return d;throw Error("Could not find renamed property on target object.")}function nu(o,d){for(const b in d)d.hasOwnProperty(b)&&!o.hasOwnProperty(b)&&(o[b]=d[b])}function Ho(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Ho).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const d=o.toString();if(null==d)return""+d;const b=d.indexOf("\n");return-1===b?d:d.substring(0,b)}function Au(o,d){return null==o||""===o?null===d?"":d:null==d||""===d?o:o+" "+d}const Rd=To({__forward_ref__:To});function ad(o){return o.__forward_ref__=ad,o.toString=function(){return Ho(this())},o}function Si(o){return Ol(o)?o():o}function Ol(o){return"function"==typeof o&&o.hasOwnProperty(Rd)&&o.__forward_ref__===ad}function Qa(o,d,b){o!=d&&function li(o,d,b,P){throw new Error(`ASSERTION ERROR: ${o}`+(null==P?"":` [Expected=> ${b} ${P} ${d} <=Actual]`))}(b,o,d,"==")}function Uo(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function cc(o){return{providers:o.providers||[],imports:o.imports||[]}}function dd(o){return fl(o,Bl)||fl(o,ud)}function ru(o){return null!==dd(o)}function fl(o,d){return o.hasOwnProperty(d)?o[d]:null}function iu(o){return o&&(o.hasOwnProperty(Tu)||o.hasOwnProperty(Iu))?o[Tu]:null}const Bl=To({\u0275prov:To}),Tu=To({\u0275inj:To}),ud=To({ngInjectableDef:To}),Iu=To({ngInjectorDef:To});class zi{constructor(d,b){this._desc=d,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof b?this.__NG_ELEMENT_ID__=b:void 0!==b&&(this.\u0275prov=Uo({token:this,providedIn:b.providedIn||"root",factory:b.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ef(o){return o&&!!o.\u0275providers}const ta=To({\u0275cmp:To}),Du=To({\u0275dir:To}),Cu=To({\u0275pipe:To}),xf=To({\u0275mod:To}),vs=To({\u0275fac:To}),ku=To({__NG_ELEMENT_ID__:To}),Pu=To({__NG_ENV_ID__:To});function Ji(o){return"string"==typeof o?o:null==o?"":String(o)}function Ou(o,d){throw new Kn(-201,!1)}var eo=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(eo||{});let hl;function Pc(){return hl}function Ro(o){const d=hl;return hl=o,d}function Nd(o,d,b){const P=dd(o);return P&&"root"==P.providedIn?void 0===P.value?P.value=P.factory():P.value:b&eo.Optional?null:void 0!==d?d:void Ou()}const ah={},ch="__NG_DI_FLAG__",it="ngTempTokenPath",At=/\n/gm,Sn="__source";let tr;function Zr(o){const d=tr;return tr=o,d}function xs(o,d=eo.Default){if(void 0===tr)throw new Kn(-203,!1);return null===tr?Nd(o,void 0,d):tr.get(o,d&eo.Optional?null:void 0,d)}function $i(o,d=eo.Default){return(Pc()||xs)(Si(o),d)}function Ir(o,d=eo.Default){return $i(o,qo(d))}function qo(o){return typeof o>"u"||"number"==typeof o?o:(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Io(o){const d=[];for(let b=0;b<o.length;b++){const P=Si(o[b]);if(Array.isArray(P)){if(0===P.length)throw new Kn(900,!1);let X,he=eo.Default;for(let Ie=0;Ie<P.length;Ie++){const Ke=P[Ie],rt=pl(Ke);"number"==typeof rt?-1===rt?X=Ke.token:he|=rt:X=Ke}d.push($i(X,he))}else d.push($i(P))}return d}function Ss(o,d){return o[ch]=d,o.prototype[ch]=d,o}function pl(o){return o[ch]}const Sa=Ss(ws("Inject",o=>({token:o})),-1),$a=Ss(ws("Optional"),8),ml=Ss(ws("SkipSelf"),4);function Ru(o,d){return o.hasOwnProperty(vs)?o[vs]:null}function Ld(o,d){o.forEach(b=>Array.isArray(b)?Ld(b,d):d(b))}function Af(o,d,b){d>=o.length?o.push(b):o.splice(d,0,b)}function mt(o,d){return d>=o.length-1?o.pop():o.splice(d,1)[0]}function hn(o,d,b){let P=or(o,d);return P>=0?o[1|P]=b:(P=~P,function Ut(o,d,b,P){let X=o.length;if(X==d)o.push(b,P);else if(1===X)o.push(P,o[0]),o[0]=b;else{for(X--,o.push(o[X-1],o[X]);X>d;)o[X]=o[X-2],X--;o[d]=b,o[d+1]=P}}(o,P,d,b)),P}function Vn(o,d){const b=or(o,d);if(b>=0)return o[1|b]}function or(o,d){return function Un(o,d,b){let P=0,X=o.length>>b;for(;X!==P;){const he=P+(X-P>>1),Ie=o[he<<b];if(d===Ie)return he<<b;Ie>d?X=he:P=he+1}return~(X<<b)}(o,d,1)}const nr={},We=[],Me=new zi(""),me=new zi("",-1),ve=new zi("");class Ze{get(d,b=ah){if(b===ah){const P=new Error(`NullInjectorError: No provider for ${Ho(d)}!`);throw P.name="NullInjectorError",P}return b}}var Je=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(Je||{}),pt=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(pt||{}),jt=function(o){return o[o.None=0]="None",o[o.SignalBased=1]="SignalBased",o[o.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",o}(jt||{});function yn(o,d,b){let P=o.length;for(;;){const X=o.indexOf(d,b);if(-1===X)return X;if(0===X||o.charCodeAt(X-1)<=32){const he=d.length;if(X+he===P||o.charCodeAt(X+he)<=32)return X}b=X+1}}function Ht(o,d,b){let P=0;for(;P<b.length;){const X=b[P];if("number"==typeof X){if(0!==X)break;P++;const he=b[P++],Ie=b[P++],Ke=b[P++];o.setAttribute(d,Ie,Ke,he)}else{const he=X,Ie=b[++P];nn(he)?o.setProperty(d,he,Ie):o.setAttribute(d,he,Ie),P++}}return P}function bt(o){return 3===o||4===o||6===o}function nn(o){return 64===o.charCodeAt(0)}function Or(o,d){if(null!==d&&0!==d.length)if(null===o||0===o.length)o=d.slice();else{let b=-1;for(let P=0;P<d.length;P++){const X=d[P];"number"==typeof X?b=X:0===b||pi(o,b,X,null,-1===b||2===b?d[++P]:null)}}return o}function pi(o,d,b,P,X){let he=0,Ie=o.length;if(-1===d)Ie=-1;else for(;he<o.length;){const Ke=o[he++];if("number"==typeof Ke){if(Ke===d){Ie=-1;break}if(Ke>d){Ie=he-1;break}}}for(;he<o.length;){const Ke=o[he];if("number"==typeof Ke)break;if(Ke===b){if(null===P)return void(null!==X&&(o[he+1]=X));if(P===o[he+1])return void(o[he+2]=X)}he++,null!==P&&he++,null!==X&&he++}-1!==Ie&&(o.splice(Ie,0,d),he=Ie+1),o.splice(he++,0,b),null!==P&&o.splice(he++,0,P),null!==X&&o.splice(he++,0,X)}const ii="ng-template";function hi(o,d,b,P){let X=0;if(P){for(;X<d.length&&"string"==typeof d[X];X+=2)if("class"===d[X]&&-1!==yn(d[X+1].toLowerCase(),b,0))return!0}else if(Oi(o))return!1;if(X=d.indexOf(1,X),X>-1){let he;for(;++X<d.length&&"string"==typeof(he=d[X]);)if(he.toLowerCase()===b)return!0}return!1}function Oi(o){return 4===o.type&&o.value!==ii}function Vo(o,d,b){return d===(4!==o.type||b?o.value:ii)}function mi(o,d,b){let P=4;const X=o.attrs,he=null!==X?function Eo(o){for(let d=0;d<o.length;d++)if(bt(o[d]))return d;return o.length}(X):0;let Ie=!1;for(let Ke=0;Ke<d.length;Ke++){const rt=d[Ke];if("number"!=typeof rt){if(!Ie)if(4&P){if(P=2|1&P,""!==rt&&!Vo(o,rt,b)||""===rt&&1===d.length){if(Dr(P))return!1;Ie=!0}}else if(8&P){if(null===X||!hi(o,X,rt,b)){if(Dr(P))return!1;Ie=!0}}else{const Tt=d[++Ke],Nt=ki(rt,X,Oi(o),b);if(-1===Nt){if(Dr(P))return!1;Ie=!0;continue}if(""!==Tt){let cn;if(cn=Nt>he?"":X[Nt+1].toLowerCase(),2&P&&Tt!==cn){if(Dr(P))return!1;Ie=!0}}}}else{if(!Ie&&!Dr(P)&&!Dr(rt))return!1;if(Ie&&Dr(rt))continue;Ie=!1,P=rt|1&P}}return Dr(P)||Ie}function Dr(o){return!(1&o)}function ki(o,d,b,P){if(null===d)return-1;let X=0;if(P||!b){let he=!1;for(;X<d.length;){const Ie=d[X];if(Ie===o)return X;if(3===Ie||6===Ie)he=!0;else{if(1===Ie||2===Ie){let Ke=d[++X];for(;"string"==typeof Ke;)Ke=d[++X];continue}if(4===Ie)break;if(0===Ie){X+=4;continue}}X+=he?1:2}return-1}return function lc(o,d){let b=o.indexOf(4);if(b>-1)for(b++;b<o.length;){const P=o[b];if("number"==typeof P)return-1;if(P===d)return b;b++}return-1}(d,o)}function so(o,d,b=!1){for(let P=0;P<d.length;P++)if(mi(o,d[P],b))return!0;return!1}function He(o,d){e:for(let b=0;b<d.length;b++){const P=d[b];if(o.length===P.length){for(let X=0;X<o.length;X++)if(o[X]!==P[X])continue e;return!0}}return!1}function ut(o,d){return o?":not("+d.trim()+")":d}function qe(o){let d=o[0],b=1,P=2,X="",he=!1;for(;b<o.length;){let Ie=o[b];if("string"==typeof Ie)if(2&P){const Ke=o[++b];X+="["+Ie+(Ke.length>0?'="'+Ke+'"':"")+"]"}else 8&P?X+="."+Ie:4&P&&(X+=" "+Ie);else""!==X&&!Dr(Ie)&&(d+=ut(he,X),X=""),P=Ie,he=he||!Dr(P);b++}return""!==X&&(d+=ut(he,X)),d}function rn(o){return Ai(()=>{const d=zs(o),b={...d,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===Je.OnPush,directiveDefs:null,pipeDefs:null,dependencies:d.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||pt.Emulated,styles:o.styles||We,_:null,schemas:o.schemas||null,tView:null,id:""};Lw(b);const P=o.dependencies;return b.directiveDefs=Lp(P,!1),b.pipeDefs=Lp(P,!0),b.id=function Up(o){let d=0;const b=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const X of b)d=Math.imul(31,d)+X.charCodeAt(0)|0;return d+=2147483648,"c"+d}(b),b})}function An(o){return yi(o)||Us(o)}function ar(o){return null!==o}function Gn(o){return Ai(()=>({type:o.type,bootstrap:o.bootstrap||We,declarations:o.declarations||We,imports:o.imports||We,exports:o.exports||We,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function zr(o,d){if(null==o)return nr;const b={};for(const P in o)if(o.hasOwnProperty(P)){const X=o[P];let he,Ie,Ke=jt.None;Array.isArray(X)?(Ke=X[0],he=X[1],Ie=X[2]??he):(he=X,Ie=X),d?(b[he]=Ke!==jt.None?[P,Ke]:P,d[he]=Ie):b[he]=P}return b}function Fi(o){return Ai(()=>{const d=zs(o);return Lw(d),d})}function ao(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function yi(o){return o[ta]||null}function Us(o){return o[Du]||null}function _s(o){return o[Cu]||null}function Ka(o){const d=yi(o)||Us(o)||_s(o);return null!==d&&d.standalone}function Ri(o,d){const b=o[xf]||null;if(!b&&!0===d)throw new Error(`Type ${Ho(o)} does not have '\u0275mod' property.`);return b}function zs(o){const d={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:d,inputTransforms:null,inputConfig:o.inputs||nr,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||We,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zr(o.inputs,d),outputs:zr(o.outputs),debugInfo:null}}function Lw(o){o.features?.forEach(d=>d(o))}function Lp(o,d){if(!o)return null;const b=d?_s:An;return()=>("function"==typeof o?o():o).map(P=>b(P)).filter(ar)}function Uw(o){return{\u0275providers:o}}function WR(...o){return{\u0275providers:LE(0,o),\u0275fromNgModule:!0}}function LE(o,...d){const b=[],P=new Set;let X;const he=Ie=>{b.push(Ie)};return Ld(d,Ie=>{const Ke=Ie;Fw(Ke,he,[],P)&&(X||=[],X.push(Ke))}),void 0!==X&&Bm(X,he),b}function Bm(o,d){for(let b=0;b<o.length;b++){const{ngModule:P,providers:X}=o[b];yA(X,he=>{d(he,P)})}}function Fw(o,d,b,P){if(!(o=Si(o)))return!1;let X=null,he=iu(o);const Ie=!he&&yi(o);if(he||Ie){if(Ie&&!Ie.standalone)return!1;X=o}else{const rt=o.ngModule;if(he=iu(rt),!he)return!1;X=rt}const Ke=P.has(X);if(Ie){if(Ke)return!1;if(P.add(X),Ie.dependencies){const rt="function"==typeof Ie.dependencies?Ie.dependencies():Ie.dependencies;for(const Tt of rt)Fw(Tt,d,b,P)}}else{if(!he)return!1;{if(null!=he.imports&&!Ke){let Tt;P.add(X);try{Ld(he.imports,Nt=>{Fw(Nt,d,b,P)&&(Tt||=[],Tt.push(Nt))})}finally{}void 0!==Tt&&Bm(Tt,d)}if(!Ke){const Tt=Ru(X)||(()=>new X);d({provide:X,useFactory:Tt,deps:We},X),d({provide:ve,useValue:X,multi:!0},X),d({provide:Me,useValue:()=>$i(X),multi:!0},X)}const rt=he.providers;if(null!=rt&&!Ke){const Tt=o;yA(rt,Nt=>{d(Nt,Tt)})}}}return X!==o&&void 0!==o.providers}function yA(o,d){for(let b of o)Ef(b)&&(b=b.\u0275providers),Array.isArray(b)?yA(b,d):d(b)}const fy=To({provide:String,useValue:To});function Bu(o){return null!==o&&"object"==typeof o&&fy in o}function Qo(o){return"function"==typeof o}const ni=new zi(""),hd={},Qc={};let FE;function jw(){return void 0===FE&&(FE=new Ze),FE}class su{}class Va extends su{get destroyed(){return this._destroyed}constructor(d,b,P,X){super(),this.parent=b,this.source=P,this.scopes=X,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,zE(d,Ie=>this.processProvider(Ie)),this.records.set(me,av(void 0,this)),X.has("environment")&&this.records.set(su,av(void 0,this));const he=this.records.get(ni);null!=he&&"string"==typeof he.value&&this.scopes.add(he.value),this.injectorDefTypes=new Set(this.get(ve,We,eo.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const d=R(null);try{for(const P of this._ngOnDestroyHooks)P.ngOnDestroy();const b=this._onDestroyHooks;this._onDestroyHooks=[];for(const P of b)P()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),R(d)}}onDestroy(d){return this.assertNotDestroyed(),this._onDestroyHooks.push(d),()=>this.removeOnDestroy(d)}runInContext(d){this.assertNotDestroyed();const b=Zr(this),P=Ro(void 0);try{return d()}finally{Zr(b),Ro(P)}}get(d,b=ah,P=eo.Default){if(this.assertNotDestroyed(),d.hasOwnProperty(Pu))return d[Pu](this);P=qo(P);const he=Zr(this),Ie=Ro(void 0);try{if(!(P&eo.SkipSelf)){let rt=this.records.get(d);if(void 0===rt){const Tt=function Hs(o){return"function"==typeof o||"object"==typeof o&&o instanceof zi}(d)&&dd(d);rt=Tt&&this.injectableDefInScope(Tt)?av(jE(d),hd):null,this.records.set(d,rt)}if(null!=rt)return this.hydrate(d,rt)}return(P&eo.Self?jw():this.parent).get(d,b=P&eo.Optional&&b===ah?null:b)}catch(Ke){if("NullInjectorError"===Ke.name){if((Ke[it]=Ke[it]||[]).unshift(Ho(d)),he)throw Ke;return function Ms(o,d,b,P){const X=o[it];throw d[Sn]&&X.unshift(d[Sn]),o.message=function fd(o,d,b,P=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let X=Ho(d);if(Array.isArray(d))X=d.map(Ho).join(" -> ");else if("object"==typeof d){let he=[];for(let Ie in d)if(d.hasOwnProperty(Ie)){let Ke=d[Ie];he.push(Ie+":"+("string"==typeof Ke?JSON.stringify(Ke):Ho(Ke)))}X=`{${he.join(", ")}}`}return`${b}${P?"("+P+")":""}[${X}]: ${o.replace(At,"\n  ")}`}("\n"+o.message,X,b,P),o.ngTokenPath=X,o[it]=null,o}(Ke,d,"R3InjectorError",this.source)}throw Ke}finally{Ro(Ie),Zr(he)}}resolveInjectorInitializers(){const d=R(null),b=Zr(this),P=Ro(void 0);try{const he=this.get(Me,We,eo.Self);for(const Ie of he)Ie()}finally{Zr(b),Ro(P),R(d)}}toString(){const d=[],b=this.records;for(const P of b.keys())d.push(Ho(P));return`R3Injector[${d.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Kn(205,!1)}processProvider(d){let b=Qo(d=Si(d))?d:Si(d&&d.provide);const P=function KE(o){return Bu(o)?av(void 0,o.useValue):av(VE(o),hd)}(d);if(!Qo(d)&&!0===d.multi){let X=this.records.get(b);X||(X=av(void 0,hd,!0),X.factory=()=>Io(X.multi),this.records.set(b,X)),b=d,X.multi.push(d)}this.records.set(b,P)}hydrate(d,b){const P=R(null);try{return b.value===hd&&(b.value=Qc,b.value=b.factory()),"object"==typeof b.value&&b.value&&function ai(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(b.value)&&this._ngOnDestroyHooks.add(b.value),b.value}finally{R(P)}}injectableDefInScope(d){if(!d.providedIn)return!1;const b=Si(d.providedIn);return"string"==typeof b?"any"===b||this.scopes.has(b):this.injectorDefTypes.has(b)}removeOnDestroy(d){const b=this._onDestroyHooks.indexOf(d);-1!==b&&this._onDestroyHooks.splice(b,1)}}function jE(o){const d=dd(o),b=null!==d?d.factory:Ru(o);if(null!==b)return b;if(o instanceof zi)throw new Kn(204,!1);if(o instanceof Function)return function $E(o){if(o.length>0)throw new Kn(204,!1);const b=function yc(o){return o&&(o[Bl]||o[ud])||null}(o);return null!==b?()=>b.factory(o):()=>new o}(o);throw new Kn(204,!1)}function VE(o,d,b){let P;if(Qo(o)){const X=Si(o);return Ru(X)||jE(X)}if(Bu(o))P=()=>Si(o.useValue);else if(function UE(o){return!(!o||!o.useFactory)}(o))P=()=>o.useFactory(...Io(o.deps||[]));else if(function D6(o){return!(!o||!o.useExisting)}(o))P=()=>$i(Si(o.useExisting));else{const X=Si(o&&(o.useClass||o.provide));if(!function GR(o){return!!o.deps}(o))return Ru(X)||jE(X);P=()=>new X(...Io(o.deps))}return P}function av(o,d,b=!1){return{factory:o,value:d,multi:b?[]:void 0}}function zE(o,d){for(const b of o)Array.isArray(b)?zE(b,d):b&&Ef(b)?zE(b.\u0275providers,d):d(b)}function HE(o,d){o instanceof Va&&o.assertNotDestroyed();const P=Zr(o),X=Ro(void 0);try{return d()}finally{Zr(P),Ro(X)}}function gl(){return void 0!==Pc()||null!=function wr(){return tr}()}function $w(o){if(!gl())throw new Kn(-203,!1)}const fo=0,$r=1,Ni=2,Do=3,If=4,el=5,As=6,hy=7,na=8,os=9,lh=10,_i=11,dv=12,Df=13,py=14,za=15,Fp=16,uv=17,jp=18,fv=19,B6=20,Lm=21,GE=22,Cf=23,Ci=25,bA=1,Ul=7,my=9,bc=10;var dh=function(o){return o[o.None=0]="None",o[o.HasTransplantedViews=2]="HasTransplantedViews",o}(dh||{});function Is(o){return Array.isArray(o)&&"object"==typeof o[bA]}function Fl(o){return Array.isArray(o)&&!0===o[bA]}function wA(o){return!!(4&o.flags)}function au(o){return o.componentOffset>-1}function Vw(o){return!(1&~o.flags)}function uh(o){return!!o.template}function Gh(o){return!!(512&o[Ni])}class $6{constructor(d,b,P){this.previousValue=d,this.currentValue=b,this.firstChange=P}isFirstChange(){return this.firstChange}}function SA(o,d,b,P){null!==d?d.applyValueToInputSignal(d,P):o[b]=P}function XE(){return K6}function K6(o){return o.type.prototype.ngOnChanges&&(o.setInput=V6),kf}function kf(){const o=jl(this),d=o?.current;if(d){const b=o.previous;if(b===nr)o.previous=d;else for(let P in d)b[P]=d[P];o.current=null,this.ngOnChanges(d)}}function V6(o,d,b,P,X){const he=this.declaredInputs[P],Ie=jl(o)||function H6(o,d){return o[z6]=d}(o,{previous:nr,current:null}),Ke=Ie.current||(Ie.current={}),rt=Ie.previous,Tt=rt[he];Ke[he]=new $6(Tt&&Tt.currentValue,b,rt===nr),SA(o,d,X,b)}XE.ngInherit=!0;const z6="__ngSimpleChanges__";function jl(o){return o[z6]||null}const Nu=function(o,d,b){},Lu="svg";function bs(o){for(;Array.isArray(o);)o=o[fo];return o}function pv(o,d){return bs(d[o])}function yd(o,d){return bs(d[o.index])}function Ti(o,d){return o.data[d]}function Uu(o,d){return o[d]}function cu(o,d){const b=d[o];return Is(b)?b:b[fo]}function gy(o){return!(128&~o[Ni])}function Fu(o,d){return null==d?null:o[d]}function TA(o){o[uv]=0}function fh(o){1024&o[Ni]||(o[Ni]|=1024,gy(o)&&qE(o))}function mv(o){return!!(9216&o[Ni]||o[Cf]?.dirty)}function JE(o){o[lh].changeDetectionScheduler?.notify(7),64&o[Ni]&&(o[Ni]|=1024),mv(o)&&qE(o)}function qE(o){o[lh].changeDetectionScheduler?.notify(0);let d=Zh(o);for(;null!==d&&!(8192&d[Ni])&&(d[Ni]|=8192,gy(d));)d=Zh(d)}function QE(o,d){if(!(256&~o[Ni]))throw new Kn(911,!1);null===o[Lm]&&(o[Lm]=[]),o[Lm].push(d)}function Zh(o){const d=o[Do];return Fl(d)?d[Do]:d}const co={lFrame:jA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let DA=!1;function vy(){return co.bindingsEnabled}function ju(){return null!==co.skipHydrationRootTNode}function br(){return co.lFrame.lView}function Bo(){return co.lFrame.tView}function PA(o){return co.lFrame.contextLView=o,o[na]}function OA(o){return co.lFrame.contextLView=null,o}function ss(){let o=lu();for(;null!==o&&64===o.type;)o=o.parent;return o}function lu(){return co.lFrame.currentTNode}function gv(){const o=co.lFrame,d=o.currentTNode;return o.isParent?d:d.parent}function Pf(o,d){const b=co.lFrame;b.currentTNode=o,b.isParent=d}function e2(){return co.lFrame.isParent}function vv(){co.lFrame.isParent=!1}function BA(){return DA}function NA(o){DA=o}function gd(){const o=co.lFrame;let d=o.bindingRootIndex;return-1===d&&(d=o.bindingRootIndex=o.tView.bindingStartIndex),d}function Xh(){return co.lFrame.bindingIndex}function Ud(){return co.lFrame.bindingIndex++}function $u(o){const d=co.lFrame,b=d.bindingIndex;return d.bindingIndex=d.bindingIndex+o,b}function wy(o){co.lFrame.inI18n=o}function Z6(o,d){const b=co.lFrame;b.bindingIndex=b.bindingRootIndex=o,n2(d)}function n2(o){co.lFrame.currentDirectiveIndex=o}function r2(o){const d=co.lFrame.currentDirectiveIndex;return-1===d?null:o[d]}function o2(){return co.lFrame.currentQueryIndex}function Gw(o){co.lFrame.currentQueryIndex=o}function _y(o){const d=o[$r];return 2===d.type?d.declTNode:1===d.type?o[el]:null}function UA(o,d,b){if(b&eo.SkipSelf){let X=d,he=o;for(;!(X=X.parent,null!==X||b&eo.Host||(X=_y(he),null===X||(he=he[py],10&X.type))););if(null===X)return!1;d=X,o=he}const P=co.lFrame=FA();return P.currentTNode=d,P.lView=o,!0}function s2(o){const d=FA(),b=o[$r];co.lFrame=d,d.currentTNode=b.firstChild,d.lView=o,d.tView=b,d.contextLView=o,d.bindingIndex=b.bindingStartIndex,d.inI18n=!1}function FA(){const o=co.lFrame,d=null===o?null:o.child;return null===d?jA(o):d}function jA(o){const d={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=d),d}function $A(){const o=co.lFrame;return co.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const KA=$A;function bv(){const o=$A();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function _l(){return co.lFrame.selectedIndex}function Vm(o){co.lFrame.selectedIndex=o}function pa(){const o=co.lFrame;return Ti(o.tView,o.selectedIndex)}function VA(){co.lFrame.currentNamespace=Lu}function zA(){!function a2(){co.lFrame.currentNamespace=null}()}let WA=!0;function wv(){return WA}function hh(o){WA=o}function xy(o,d){for(let b=d.directiveStart,P=d.directiveEnd;b<P;b++){const he=o.data[b].type.prototype,{ngAfterContentInit:Ie,ngAfterContentChecked:Ke,ngAfterViewInit:rt,ngAfterViewChecked:Tt,ngOnDestroy:Nt}=he;Ie&&(o.contentHooks??=[]).push(-b,Ie),Ke&&((o.contentHooks??=[]).push(b,Ke),(o.contentCheckHooks??=[]).push(b,Ke)),rt&&(o.viewHooks??=[]).push(-b,rt),Tt&&((o.viewHooks??=[]).push(b,Tt),(o.viewCheckHooks??=[]).push(b,Tt)),null!=Nt&&(o.destroyHooks??=[]).push(b,Nt)}}function Zw(o,d,b){GA(o,d,3,b)}function Xw(o,d,b,P){(3&o[Ni])===b&&GA(o,d,b,P)}function c2(o,d){let b=o[Ni];(3&b)===d&&(b&=16383,b+=1,o[Ni]=b)}function GA(o,d,b,P){const he=P??-1,Ie=d.length-1;let Ke=0;for(let rt=void 0!==P?65535&o[uv]:0;rt<Ie;rt++)if("number"==typeof d[rt+1]){if(Ke=d[rt],null!=P&&Ke>=P)break}else d[rt]<0&&(o[uv]+=65536),(Ke<he||-1==he)&&(q6(o,b,d,rt),o[uv]=(4294901760&o[uv])+rt+2),rt++}function ZA(o,d){Nu(4,o,d);const b=R(null);try{d.call(o)}finally{R(b),Nu(5,o,d)}}function q6(o,d,b,P){const X=b[P]<0,he=b[P+1],Ke=o[X?-b[P]:b[P]];X?o[Ni]>>14<o[uv]>>16&&(3&o[Ni])===d&&(o[Ni]+=16384,ZA(Ke,he)):ZA(Ke,he)}const $p=-1;class _v{constructor(d,b,P){this.factory=d,this.resolving=!1,this.canSeeViewProviders=b,this.injectImpl=P}}const Ev={};class Kp{constructor(d,b){this.injector=d,this.parentInjector=b}get(d,b,P){P=qo(P);const X=this.injector.get(d,Ev,P);return X!==Ev||b===Ev?X:this.parentInjector.get(d,b,P)}}function xv(o){return o!==$p}function Sv(o){return 32767&o}function ns(o,d){let b=function YA(o){return o>>16}(o),P=d;for(;b>0;)P=P[py],b--;return P}let qr=!0;function du(o){const d=qr;return qr=o,d}const JA=255,qA=5;let QA=0;const Vu={};function Of(o,d){const b=Mv(o,d);if(-1!==b)return b;const P=d[$r];P.firstCreatePass&&(o.injectorIndex=d.length,mh(P.data,o),mh(d,null),mh(P.blueprint,null));const X=Qw(o,d),he=o.injectorIndex;if(xv(X)){const Ie=Sv(X),Ke=ns(X,d),rt=Ke[$r].data;for(let Tt=0;Tt<8;Tt++)d[he+Tt]=Ke[Ie+Tt]|rt[Ie+Tt]}return d[he+8]=X,he}function mh(o,d){o.push(0,0,0,0,0,0,0,0,d)}function Mv(o,d){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===d[o.injectorIndex+8]?-1:o.injectorIndex}function Qw(o,d){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let b=0,P=null,X=d;for(;null!==X;){if(P=cT(X),null===P)return $p;if(b++,X=X[py],-1!==P.injectorIndex)return P.injectorIndex|b<<16}return $p}function d2(o,d,b){!function qw(o,d,b){let P;"string"==typeof b?P=b.charCodeAt(0)||0:b.hasOwnProperty(ku)&&(P=b[ku]),null==P&&(P=b[ku]=QA++);const X=P&JA;d.data[o+(X>>qA)]|=1<<X}(o,d,b)}function tT(o,d,b){if(b&eo.Optional||void 0!==o)return o;Ou()}function nT(o,d,b,P){if(b&eo.Optional&&void 0===P&&(P=null),!(b&(eo.Self|eo.Host))){const X=o[os],he=Ro(void 0);try{return X?X.get(d,P,b&eo.Optional):Nd(d,P,b&eo.Optional)}finally{Ro(he)}}return tT(P,0,b)}function rT(o,d,b,P=eo.Default,X){if(null!==o){if(2048&d[Ni]&&!(P&eo.Self)){const Ie=function o4(o,d,b,P,X){let he=o,Ie=d;for(;null!==he&&null!==Ie&&2048&Ie[Ni]&&!(512&Ie[Ni]);){const Ke=iT(he,Ie,b,P|eo.Self,Vu);if(Ke!==Vu)return Ke;let rt=he.parent;if(!rt){const Tt=Ie[B6];if(Tt){const Nt=Tt.get(b,Vu,P);if(Nt!==Vu)return Nt}rt=cT(Ie),Ie=Ie[py]}he=rt}return X}(o,d,b,P,Vu);if(Ie!==Vu)return Ie}const he=iT(o,d,b,P,Vu);if(he!==Vu)return he}return nT(d,b,P,X)}function iT(o,d,b,P,X){const he=function t5(o){if("string"==typeof o)return o.charCodeAt(0)||0;const d=o.hasOwnProperty(ku)?o[ku]:void 0;return"number"==typeof d?d>=0?d&JA:n5:d}(b);if("function"==typeof he){if(!UA(d,o,P))return P&eo.Host?tT(X,0,P):nT(d,b,P,X);try{let Ie;if(Ie=he(P),null!=Ie||P&eo.Optional)return Ie;Ou()}finally{KA()}}else if("number"==typeof he){let Ie=null,Ke=Mv(o,d),rt=$p,Tt=P&eo.Host?d[za][el]:null;for((-1===Ke||P&eo.SkipSelf)&&(rt=-1===Ke?Qw(o,d):d[Ke+8],rt!==$p&&oT(P,!1)?(Ie=d[$r],Ke=Sv(rt),d=ns(rt,d)):Ke=-1);-1!==Ke;){const Nt=d[$r];if(Sy(he,Ke,Nt.data)){const cn=Av(Ke,d,b,Ie,P,Tt);if(cn!==Vu)return cn}rt=d[Ke+8],rt!==$p&&oT(P,d[$r].data[Ke+8]===Tt)&&Sy(he,Ke,d)?(Ie=Nt,Ke=Sv(rt),d=ns(rt,d)):Ke=-1}}return X}function Av(o,d,b,P,X,he){const Ie=d[$r],Ke=Ie.data[o+8],Nt=zm(Ke,Ie,b,null==P?au(Ke)&&qr:P!=Ie&&!!(3&Ke.type),X&eo.Host&&he===Ke);return null!==Nt?Hm(d,Ie,Nt,Ke):Vu}function zm(o,d,b,P,X){const he=o.providerIndexes,Ie=d.data,Ke=1048575&he,rt=o.directiveStart,Nt=he>>20,Cn=X?Ke+Nt:o.directiveEnd;for(let Bn=P?Ke:Ke+Nt;Bn<Cn;Bn++){const Zn=Ie[Bn];if(Bn<rt&&b===Zn||Bn>=rt&&Zn.type===b)return Bn}if(X){const Bn=Ie[rt];if(Bn&&uh(Bn)&&Bn.type===b)return rt}return null}function Hm(o,d,b,P){let X=o[b];const he=d.data;if(function Q6(o){return o instanceof _v}(X)){const Ie=X;Ie.resolving&&function sh(o,d){throw d&&d.join(" > "),new Kn(-200,o)}(function Hi(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ji(o)}(he[b]));const Ke=du(Ie.canSeeViewProviders);Ie.resolving=!0;const Tt=Ie.injectImpl?Ro(Ie.injectImpl):null;UA(o,P,eo.Default);try{X=o[b]=Ie.factory(void 0,he,o,P),d.firstCreatePass&&b>=P.directiveStart&&function J6(o,d,b){const{ngOnChanges:P,ngOnInit:X,ngDoCheck:he}=d.type.prototype;if(P){const Ie=K6(d);(b.preOrderHooks??=[]).push(o,Ie),(b.preOrderCheckHooks??=[]).push(o,Ie)}X&&(b.preOrderHooks??=[]).push(0-o,X),he&&((b.preOrderHooks??=[]).push(o,he),(b.preOrderCheckHooks??=[]).push(o,he))}(b,he[b],d)}finally{null!==Tt&&Ro(Tt),du(Ke),Ie.resolving=!1,KA()}}return X}function Sy(o,d,b){return!!(b[d+(o>>qA)]&1<<o)}function oT(o,d){return!(o&eo.Self||o&eo.Host&&d)}class Uc{constructor(d,b){this._tNode=d,this._lView=b}get(d,b,P){return rT(this._tNode,this._lView,d,qo(P),b)}}function n5(){return new Uc(ss(),br())}function sT(o){return Ai(()=>{const d=o.prototype.constructor,b=d[vs]||aT(d),P=Object.prototype;let X=Object.getPrototypeOf(o.prototype).constructor;for(;X&&X!==P;){const he=X[vs]||aT(X);if(he&&he!==b)return he;X=Object.getPrototypeOf(X)}return he=>new he})}function aT(o){return Ol(o)?()=>{const d=aT(Si(o));return d&&d()}:Ru(o)}function cT(o){const d=o[$r],b=d.type;return 2===b?d.declTNode:1===b?o[el]:null}function Ty(o){return function eT(o,d){if("class"===d)return o.classes;if("style"===d)return o.styles;const b=o.attrs;if(b){const P=b.length;let X=0;for(;X<P;){const he=b[X];if(bt(he))break;if(0===he)X+=2;else if("number"==typeof he)for(X++;X<P&&"string"==typeof b[X];)X++;else{if(he===d)return b[X+1];X+=2}}}return null}(ss(),o)}function a5(o,d=null,b=null,P){const X=c5(o,d,b,P);return X.resolveInjectorInitializers(),X}function c5(o,d=null,b=null,P,X=new Set){const he=[b||We,WR(o)];return P=P||("object"==typeof o?void 0:Ho(o)),new Va(he,d||jw(),P||null,X)}class tl{static#e=this.THROW_IF_NOT_FOUND=ah;static#t=this.NULL=new Ze;static create(d,b){if(Array.isArray(d))return a5({name:""},b,d,"");{const P=d.name??"";return a5({name:P},d.parent,d.providers,P)}}static#n=this.\u0275prov=Uo({token:tl,providedIn:"any",factory:()=>$i(me)});static#f=this.__NG_ELEMENT_ID__=-1}new zi("").__NG_ELEMENT_ID__=o=>{const d=ss();if(null===d)throw new Kn(204,!1);if(2&d.type)return d.value;if(o&eo.Optional)return null;throw new Kn(204,!1)};function yh(o){return o.ngOriginalError}let t_=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=pT;static#t=this.__NG_ENV_ID__=b=>b}return o})();class d5 extends t_{constructor(d){super(),this._lView=d}onDestroy(d){return QE(this._lView,d),()=>function IA(o,d){if(null===o[Lm])return;const b=o[Lm].indexOf(d);-1!==b&&o[Lm].splice(b,1)}(this._lView,d)}}function pT(){return new d5(br())}let Wm=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Te.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const b=this.taskId++;return this.pendingTasks.add(b),b}remove(b){this.pendingTasks.delete(b),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=Uo({token:o,providedIn:"root",factory:()=>new o})}return o})();const Rf=class u5 extends pe.B{constructor(d=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=d,gl()&&(this.destroyRef=Ir(t_,{optional:!0})??void 0,this.pendingTasks=Ir(Wm,{optional:!0})??void 0)}emit(d){const b=R(null);try{super.next(d)}finally{R(b)}}subscribe(d,b,P){let X=d,he=b||(()=>null),Ie=P;if(d&&"object"==typeof d){const rt=d;X=rt.next?.bind(rt),he=rt.error?.bind(rt),Ie=rt.complete?.bind(rt)}this.__isAsync&&(he=this.wrapInTimeout(he),X&&(X=this.wrapInTimeout(X)),Ie&&(Ie=this.wrapInTimeout(Ie)));const Ke=super.subscribe({next:X,error:he,complete:Ie});return d instanceof fe.yU&&d.add(Ke),Ke}wrapInTimeout(d){return b=>{const P=this.pendingTasks?.add();setTimeout(()=>{d(b),void 0!==P&&this.pendingTasks?.remove(P)})}}};function n_(...o){}function mT(o){let d,b;function P(){o=n_;try{void 0!==b&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(b),void 0!==d&&clearTimeout(d)}catch{}}return d=setTimeout(()=>{o(),P()}),"function"==typeof requestAnimationFrame&&(b=requestAnimationFrame(()=>{o(),P()})),()=>P()}function h2(o){return queueMicrotask(()=>o()),()=>{o=n_}}class Ma{constructor({enableLongStackTrace:d=!1,shouldCoalesceEventChangeDetection:b=!1,shouldCoalesceRunChangeDetection:P=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rf(!1),this.onMicrotaskEmpty=new Rf(!1),this.onStable=new Rf(!1),this.onError=new Rf(!1),typeof Zone>"u")throw new Kn(908,!1);Zone.assertZonePatched();const X=this;X._nesting=0,X._outer=X._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(X._inner=X._inner.fork(new Zone.TaskTrackingZoneSpec)),d&&Zone.longStackTraceZoneSpec&&(X._inner=X._inner.fork(Zone.longStackTraceZoneSpec)),X.shouldCoalesceEventChangeDetection=!P&&b,X.shouldCoalesceRunChangeDetection=P,X.callbackScheduled=!1,function p5(o){const d=()=>{!function h5(o){o.isCheckStableRunning||o.callbackScheduled||(o.callbackScheduled=!0,Zone.root.run(()=>{mT(()=>{o.callbackScheduled=!1,m2(o),o.isCheckStableRunning=!0,p2(o),o.isCheckStableRunning=!1})}),m2(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(b,P,X,he,Ie,Ke)=>{if(function m5(o){return bT(o,"__ignore_ng_zone__")}(Ke))return b.invokeTask(X,he,Ie,Ke);try{return gT(o),b.invokeTask(X,he,Ie,Ke)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===he.type||o.shouldCoalesceRunChangeDetection)&&d(),vT(o)}},onInvoke:(b,P,X,he,Ie,Ke,rt)=>{try{return gT(o),b.invoke(X,he,Ie,Ke,rt)}finally{o.shouldCoalesceRunChangeDetection&&!o.callbackScheduled&&!function y5(o){return bT(o,"__scheduler_tick__")}(Ke)&&d(),vT(o)}},onHasTask:(b,P,X,he)=>{b.hasTask(X,he),P===X&&("microTask"==he.change?(o._hasPendingMicrotasks=he.microTask,m2(o),p2(o)):"macroTask"==he.change&&(o.hasPendingMacrotasks=he.macroTask))},onHandleError:(b,P,X,he)=>(b.handleError(X,he),o.runOutsideAngular(()=>o.onError.emit(he)),!1)})}(X)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ma.isInAngularZone())throw new Kn(909,!1)}static assertNotInAngularZone(){if(Ma.isInAngularZone())throw new Kn(909,!1)}run(d,b,P){return this._inner.run(d,b,P)}runTask(d,b,P,X){const he=this._inner,Ie=he.scheduleEventTask("NgZoneEvent: "+X,d,f5,n_,n_);try{return he.runTask(Ie,b,P)}finally{he.cancelTask(Ie)}}runGuarded(d,b,P){return this._inner.runGuarded(d,b,P)}runOutsideAngular(d){return this._outer.run(d)}}const f5={};function p2(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function m2(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&!0===o.callbackScheduled)}function gT(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function vT(o){o._nesting--,p2(o)}class y2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rf,this.onMicrotaskEmpty=new Rf,this.onStable=new Rf,this.onError=new Rf}run(d,b,P){return d.apply(b,P)}runGuarded(d,b,P){return d.apply(b,P)}runOutsideAngular(d){return d()}runTask(d,b,P,X){return d.apply(b,P)}}function bT(o,d){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0]?.data?.[d]}class zu{constructor(){this._console=console}handleError(d){const b=this._findOriginalError(d);this._console.error("ERROR",d),b&&this._console.error("ORIGINAL ERROR",b)}_findOriginalError(d){let b=d&&yh(d);for(;b&&yh(b);)b=yh(b);return b||null}}const i_=new zi("",{providedIn:"root",factory:()=>{const o=Ir(Ma),d=Ir(zu);return b=>o.runOutsideAngular(()=>d.handleError(b))}});class Tv{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=Ir(zu,{optional:!0}),this.destroyRef=Ir(t_),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(d){if(this.destroyed)throw new Kn(953,!1);return(this.listeners??=[]).push(d),{unsubscribe:()=>{const b=this.listeners?.indexOf(d);void 0!==b&&-1!==b&&this.listeners?.splice(b,1)}}}emit(d){if(this.destroyed)throw new Kn(953,!1);if(null===this.listeners)return;const b=R(null);try{for(const P of this.listeners)try{P(d)}catch(X){this.errorHandler?.handleError(X)}}finally{R(b)}}}function wT(o,d){return xa(o,d)}const v2=(wT.required=function g2(o){return xa(ci,o)},wT);function u4(){return Iv(ss(),br())}function Iv(o,d){return new Iy(yd(o,d))}let Iy=(()=>{class o{constructor(b){this.nativeElement=b}static#e=this.__NG_ELEMENT_ID__=u4}return o})();function o_(o){return o instanceof Iy?o.nativeElement:o}function Fc(){return this._results[Symbol.iterator]()}class s_{static#e=Symbol.iterator;get changes(){return this._changes??=new Rf}constructor(d=!1){this._emitDistinctChangesOnly=d,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const b=s_.prototype;b[Symbol.iterator]||(b[Symbol.iterator]=Fc)}get(d){return this._results[d]}map(d){return this._results.map(d)}filter(d){return this._results.filter(d)}find(d){return this._results.find(d)}reduce(d,b){return this._results.reduce(d,b)}forEach(d){this._results.forEach(d)}some(d){return this._results.some(d)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(d,b){this.dirty=!1;const P=function vc(o){return o.flat(Number.POSITIVE_INFINITY)}(d);(this._changesDetected=!function Rm(o,d,b){if(o.length!==d.length)return!1;for(let P=0;P<o.length;P++){let X=o[P],he=d[P];if(b&&(X=b(X),he=b(he)),he!==X)return!1}return!0}(this._results,P,b))&&(this._results=P,this.length=P.length,this.last=P[this.length-1],this.first=P[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(d){this._onDirty=d}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Cv(o){return!(128&~o.flags)}const c_=new Map;let v5=0;const kv="__ngContext__";function jc(o,d){Is(d)?(o[kv]=d[fv],function w5(o){c_.set(o[fv],o)}(d)):o[kv]=d}function w2(o){return f_(o[dv])}function _2(o){return f_(o[If])}function f_(o){for(;null!==o&&!Fl(o);)o=o[If];return o}let A2;function D5(o){A2=o}function Vp(){if(void 0!==A2)return A2;if(typeof document<"u")return document;throw new Kn(210,!1)}const m_=new zi("",{providedIn:"root",factory:()=>C5}),C5="ng",TT=new zi(""),T2=new zi("",{providedIn:"platform",factory:()=>"unknown"}),P5=new zi(""),IT=new zi("",{providedIn:"root",factory:()=>Vp().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let RT=()=>null;function O2(o,d,b=!1){return RT(o,d,b)}const L2=new zi("",{providedIn:"root",factory:()=>!1});let __,Ry;function Oy(o){return function qm(){if(void 0===__&&(__=null,mo.trustedTypes))try{__=mo.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return __}()?.createHTML(o)||o}function By(){if(void 0===Ry&&(Ry=null,mo.trustedTypes))try{Ry=mo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Ry}function F2(o){return By()?.createHTML(o)||o}function VT(o){return By()?.createScriptURL(o)||o}class Hp{constructor(d){this.changingThisBreaksApplicationSecurity=d}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vn})`}}class zT extends Hp{getTypeName(){return"HTML"}}class $5 extends Hp{getTypeName(){return"Style"}}class K5 extends Hp{getTypeName(){return"Script"}}class V5 extends Hp{getTypeName(){return"URL"}}class z5 extends Hp{getTypeName(){return"ResourceURL"}}function Jh(o){return o instanceof Hp?o.changingThisBreaksApplicationSecurity:o}function vh(o,d){const b=function Ny(o){return o instanceof Hp&&o.getTypeName()||null}(o);if(null!=b&&b!==d){if("ResourceURL"===b&&"URL"===d)return!0;throw new Error(`Required a safe ${d}, got a ${b} (see ${vn})`)}return b===d}function H5(o){return new zT(o)}function W5(o){return new $5(o)}function G5(o){return new K5(o)}function Z5(o){return new V5(o)}function j2(o){return new z5(o)}function $2(o){const d=new WT(o);return function Wp(){try{return!!(new window.DOMParser).parseFromString(Oy(""),"text/html")}catch{return!1}}()?new HT(d):d}class HT{constructor(d){this.inertDocumentHelper=d}getInertBodyElement(d){d="<body><remove></remove>"+d;try{const b=(new window.DOMParser).parseFromString(Oy(d),"text/html").body;return null===b?this.inertDocumentHelper.getInertBodyElement(d):(b.removeChild(b.firstChild),b)}catch{return null}}}class WT{constructor(d){this.defaultDoc=d,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(d){const b=this.inertDocument.createElement("template");return b.innerHTML=Oy(d),b}}const GT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function E_(o){return(o=String(o)).match(GT)?o:"unsafe:"+o}function qh(o){const d={};for(const b of o.split(","))d[b]=!0;return d}function Fv(...o){const d={};for(const b of o)for(const P in b)b.hasOwnProperty(P)&&(d[P]=!0);return d}const ZT=qh("area,br,col,hr,img,wbr"),x_=qh("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qh=qh("rp,rt"),K2=Fv(ZT,Fv(x_,qh("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fv(Qh,qh("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fv(Qh,x_)),V2=qh("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),M_=Fv(V2,qh("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qh("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),z2=qh("script,style,template");class Ds{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(d){let b=d.firstChild,P=!0,X=[];for(;b;)if(b.nodeType===Node.ELEMENT_NODE?P=this.startElement(b):b.nodeType===Node.TEXT_NODE?this.chars(b.nodeValue):this.sanitizedSomething=!0,P&&b.firstChild)X.push(b),b=JT(b);else for(;b;){b.nodeType===Node.ELEMENT_NODE&&this.endElement(b);let he=jv(b);if(he){b=he;break}b=X.pop()}return this.buf.join("")}startElement(d){const b=qT(d).toLowerCase();if(!K2.hasOwnProperty(b))return this.sanitizedSomething=!0,!z2.hasOwnProperty(b);this.buf.push("<"),this.buf.push(b);const P=d.attributes;for(let X=0;X<P.length;X++){const he=P.item(X),Ie=he.name,Ke=Ie.toLowerCase();if(!M_.hasOwnProperty(Ke)){this.sanitizedSomething=!0;continue}let rt=he.value;V2[Ke]&&(rt=E_(rt)),this.buf.push(" ",Ie,'="',J5(rt),'"')}return this.buf.push(">"),!0}endElement(d){const b=qT(d).toLowerCase();K2.hasOwnProperty(b)&&!ZT.hasOwnProperty(b)&&(this.buf.push("</"),this.buf.push(b),this.buf.push(">"))}chars(d){this.buf.push(J5(d))}}function jv(o){const d=o.nextSibling;if(d&&o!==d.previousSibling)throw H2(d);return d}function JT(o){const d=o.firstChild;if(d&&function $l(o,d){return(o.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(o,d))throw H2(d);return d}function qT(o){const d=o.nodeName;return"string"==typeof d?d:"FORM"}function H2(o){return new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`)}const Y5=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w4=/([^\#-~ |!])/g;function J5(o){return o.replace(/&/g,"&amp;").replace(Y5,function(d){return"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";"}).replace(w4,function(d){return"&#"+d.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gp;function El(o,d){let b=null;try{Gp=Gp||$2(o);let P=d?String(d):"";b=Gp.getInertBodyElement(P);let X=5,he=P;do{if(0===X)throw new Error("Failed to sanitize html because the input is unstable");X--,P=he,he=b.innerHTML,b=Gp.getInertBodyElement(P)}while(P!==he);return Oy((new Ds).sanitizeChildren(W2(b)||b))}finally{if(b){const P=W2(b)||b;for(;P.firstChild;)P.removeChild(P.firstChild)}}}function W2(o){return"content"in o&&function _4(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Qm=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(Qm||{});function q5(o){const d=Uy();return d?F2(d.sanitize(Qm.HTML,o)||""):vh(o,"HTML")?F2(Jh(o)):El(Vp(),Ji(o))}function fs(o){const d=Uy();return d?d.sanitize(Qm.URL,o)||"":vh(o,"URL")?Jh(o):E_(Ji(o))}function G2(o){const d=Uy();if(d)return VT(d.sanitize(Qm.RESOURCE_URL,o)||"");if(vh(o,"ResourceURL"))return VT(Jh(o));throw new Kn(904,!1)}function QT(o,d,b){return function e8(o,d){return"src"===d&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===d&&("base"===o||"link"===o)?G2:fs}(d,b)(o)}function Uy(){const o=br();return o&&o[lh].sanitizer}const t8=/^>|^->|<!--|-->|--!>|<!-$/g,n8=/(<|>)/g,eI="\u200b$1\u200b";function Wu(o){return o instanceof Function?o():o}function Wa(o){return"browser"===(o??Ir(tl)).get(T2)}var C_=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(C_||{});let e0;function Q2(o,d){return e0(o,d)}function xl(o,d,b,P,X){if(null!=P){let he,Ie=!1;Fl(P)?he=P:Is(P)&&(Ie=!0,P=P[fo]);const Ke=bs(P);0===o&&null!==b?null==X?hI(d,b,Ke):t0(d,b,Ke,X||null,!0):1===o&&null!==b?t0(d,b,Ke,X||null,!0):2===o?function Xv(o,d,b){const P=ep(o,d);P&&function D4(o,d,b,P){o.removeChild(d,b,P)}(o,P,d,b)}(d,Ke,Ie):3===o&&d.destroyNode(Ke),null!=he&&function m8(o,d,b,P,X){const he=b[Ul];he!==bs(b)&&xl(d,o,P,he,X);for(let Ke=bc;Ke<b.length;Ke++){const rt=b[Ke];O_(rt[$r],rt,o,d,P,he)}}(d,o,he,b,X)}}function Xp(o,d){return o.createText(d)}function Zu(o,d){return o.createComment(function Hu(o){return o.replace(t8,d=>d.replace(n8,eI))}(d))}function k_(o,d,b){return o.createElement(d,b)}function tx(o,d){d[lh].changeDetectionScheduler?.notify(8),O_(o,d,d[_i],2,null,null)}function dI(o,d){const b=o[my],P=d[Do];(Is(P)||d[za]!==P[Do][za])&&(o[Ni]|=dh.HasTransplantedViews),null===b?o[my]=[d]:b.push(d)}function nx(o,d){const b=o[my],P=b.indexOf(d);b.splice(P,1)}function Wv(o,d){if(o.length<=bc)return;const b=bc+d,P=o[b];if(P){const X=P[Fp];null!==X&&X!==o&&nx(X,P),d>0&&(o[b-1][If]=P[If]);const he=mt(o,bc+d);!function l8(o,d){tx(o,d),d[fo]=null,d[el]=null}(P[$r],P);const Ie=he[jp];null!==Ie&&Ie.detachView(he[$r]),P[Do]=null,P[If]=null,P[Ni]&=-129}return P}function P_(o,d){if(!(256&d[Ni])){const b=d[_i];b.destroyNode&&O_(o,d,b,3,null,null),function d8(o){let d=o[dv];if(!d)return rx(o[$r],o);for(;d;){let b=null;if(Is(d))b=d[dv];else{const P=d[bc];P&&(b=P)}if(!b){for(;d&&!d[If]&&d!==o;)Is(d)&&rx(d[$r],d),d=d[Do];null===d&&(d=o),Is(d)&&rx(d[$r],d),b=d&&d[If]}d=b}}(d)}}function rx(o,d){if(256&d[Ni])return;const b=R(null);try{d[Ni]&=-129,d[Ni]|=256,d[Cf]&&ae(d[Cf]),function f8(o,d){let b;if(null!=o&&null!=(b=o.destroyHooks))for(let P=0;P<b.length;P+=2){const X=d[b[P]];if(!(X instanceof _v)){const he=b[P+1];if(Array.isArray(he))for(let Ie=0;Ie<he.length;Ie+=2){const Ke=X[he[Ie]],rt=he[Ie+1];Nu(4,Ke,rt);try{rt.call(Ke)}finally{Nu(5,Ke,rt)}}else{Nu(4,X,he);try{he.call(X)}finally{Nu(5,X,he)}}}}}(o,d),function uI(o,d){const b=o.cleanup,P=d[hy];if(null!==b)for(let he=0;he<b.length-1;he+=2)if("string"==typeof b[he]){const Ie=b[he+3];Ie>=0?P[Ie]():P[-Ie].unsubscribe(),he+=2}else b[he].call(P[b[he+1]]);null!==P&&(d[hy]=null);const X=d[Lm];if(null!==X){d[Lm]=null;for(let he=0;he<X.length;he++)(0,X[he])()}}(o,d),1===d[$r].type&&d[_i].destroy();const P=d[Fp];if(null!==P&&Fl(d[Do])){P!==d[Do]&&nx(P,d);const X=d[jp];null!==X&&X.detachView(o)}!function _5(o){c_.delete(o[fv])}(d)}finally{R(b)}}function ix(o,d,b){return fI(o,d.parent,b)}function fI(o,d,b){let P=d;for(;null!==P&&168&P.type;)P=(d=P).parent;if(null===P)return b[fo];{const{componentOffset:X}=P;if(X>-1){const{encapsulation:he}=o.data[P.directiveStart+X];if(he===pt.None||he===pt.Emulated)return null}return yd(P,b)}}function t0(o,d,b,P,X){o.insertBefore(d,b,P,X)}function hI(o,d,b){o.appendChild(d,b)}function h8(o,d,b,P,X){null!==P?t0(o,d,b,P,X):hI(o,d,b)}function ep(o,d){return o.parentNode(d)}function pI(o,d,b){return yI(o,d,b)}function mI(o,d,b){return 40&o.type?yd(o,b):null}let ox,yI=mI;function gI(o,d){yI=o,ox=d}function Gv(o,d,b,P){const X=ix(o,P,d),he=d[_i],Ke=pI(P.parent||d[el],P,d);if(null!=X)if(Array.isArray(b))for(let rt=0;rt<b.length;rt++)h8(he,X,b[rt],Ke,!1);else h8(he,X,b,Ke,!1);void 0!==ox&&ox(he,P,d,b,X)}function n0(o,d){if(null!==d){const b=d.type;if(3&b)return yd(d,o);if(4&b)return r0(-1,o[d.index]);if(8&b){const P=d.child;if(null!==P)return n0(o,P);{const X=o[d.index];return Fl(X)?r0(-1,X):bs(X)}}if(128&b)return n0(o,d.next);if(32&b)return Q2(d,o)()||bs(o[d.index]);{const P=Zv(o,d);return null!==P?Array.isArray(P)?P[0]:n0(Zh(o[za]),P):n0(o,d.next)}}return null}function Zv(o,d){return null!==d?o[za][el].projection[d.projection]:null}function r0(o,d){const b=bc+o+1;if(b<d.length){const P=d[b],X=P[$r].firstChild;if(null!==X)return n0(P,X)}return d[Ul]}function $c(o,d,b,P,X,he,Ie){for(;null!=b;){if(128===b.type){b=b.next;continue}const Ke=P[b.index],rt=b.type;if(Ie&&0===d&&(Ke&&jc(bs(Ke),P),b.flags|=2),32&~b.flags)if(8&rt)$c(o,d,b.child,P,X,he,!1),xl(d,o,X,Ke,he);else if(32&rt){const Tt=Q2(b,P);let Nt;for(;Nt=Tt();)xl(d,o,X,Nt,he);xl(d,o,X,Ke,he)}else 16&rt?bI(o,d,P,b,X,he):xl(d,o,X,Ke,he);b=Ie?b.projectionNext:b.next}}function O_(o,d,b,P,X,he){$c(b,P,o.firstChild,d,X,he,!1)}function bI(o,d,b,P,X,he){const Ie=b[za],rt=Ie[el].projection[P.projection];if(Array.isArray(rt))for(let Tt=0;Tt<rt.length;Tt++)xl(d,o,X,rt[Tt],he);else{let Tt=rt;const Nt=Ie[Do];Cv(P)&&(Tt.flags|=128),$c(o,d,Tt,Nt,X,he,!0)}}function _I(o,d,b){""===b?o.removeAttribute(d,"class"):o.setAttribute(d,"class",b)}function EI(o,d,b){const{mergedAttrs:P,classes:X,styles:he}=b;null!==P&&Ht(o,d,P),null!==X&&_I(o,d,X),null!==he&&function y8(o,d,b){o.setAttribute(d,"style",b)}(o,d,he)}const wo={};function xI(o=1){Fy(Bo(),br(),_l()+o,!1)}function Fy(o,d,b,P){if(!P)if(3&~d[Ni]){const he=o.preOrderHooks;null!==he&&Xw(d,he,0,b)}else{const he=o.preOrderCheckHooks;null!==he&&Zw(d,he,b)}Vm(b)}function jy(o,d=eo.Default){const b=br();return null===b?$i(o,d):rT(ss(),b,Si(o),d)}function SI(){throw new Error("invalid")}function MI(o,d,b,P,X,he){const Ie=R(null);try{let Ke=null;X&jt.SignalBased&&(Ke=d[P][x]),null!==Ke&&void 0!==Ke.transformFn&&(he=Ke.transformFn(he)),X&jt.HasDecoratorInputTransform&&(he=o.inputTransforms[P].call(d,he)),null!==o.setInput?o.setInput(d,Ke,he,b,P):SA(d,Ke,P,he)}finally{R(Ie)}}function R_(o,d,b,P,X,he,Ie,Ke,rt,Tt,Nt){const cn=d.blueprint.slice();return cn[fo]=X,cn[Ni]=204|P,(null!==Tt||o&&2048&o[Ni])&&(cn[Ni]|=2048),TA(cn),cn[Do]=cn[py]=o,cn[na]=b,cn[lh]=Ie||o&&o[lh],cn[_i]=Ke||o&&o[_i],cn[os]=rt||o&&o[os]||null,cn[el]=he,cn[fv]=function b5(){return v5++}(),cn[As]=Nt,cn[B6]=Tt,cn[za]=2==d.type?o[za]:cn,cn}function o0(o,d,b,P,X){let he=o.data[d];if(null===he)he=sx(o,d,b,P,X),function G6(){return co.lFrame.inI18n}()&&(he.flags|=32);else if(64&he.type){he.type=b,he.value=P,he.attrs=X;const Ie=gv();he.injectorIndex=null===Ie?-1:Ie.injectorIndex}return Pf(he,!0),he}function sx(o,d,b,P,X){const he=lu(),Ie=e2(),rt=o.data[d]=function S8(o,d,b,P,X,he){let Ie=d?d.injectorIndex:-1,Ke=0;return ju()&&(Ke|=128),{type:b,index:P,insertBeforeIndex:null,injectorIndex:Ie,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Ke,providerIndexes:0,value:X,attrs:he,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:d,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,Ie?he:he&&he.parent,b,d,P,X);return null===o.firstChild&&(o.firstChild=rt),null!==he&&(Ie?null==he.child&&null!==rt.parent&&(he.child=rt):null===he.next&&(he.next=rt,rt.prev=he)),rt}function Yv(o,d,b,P){if(0===b)return-1;const X=d.length;for(let he=0;he<b;he++)d.push(P),o.blueprint.push(P),o.data.push(null);return X}function AI(o,d,b,P,X){const he=_l(),Ie=2&P;try{Vm(-1),Ie&&d.length>Ci&&Fy(o,d,Ci,!1),Nu(Ie?2:0,X),b(P,X)}finally{Vm(he),Nu(Ie?3:1,X)}}function ax(o,d,b){if(wA(d)){const P=R(null);try{const he=d.directiveEnd;for(let Ie=d.directiveStart;Ie<he;Ie++){const Ke=o.data[Ie];Ke.contentQueries&&Ke.contentQueries(1,b[Ie],Ie)}}finally{R(P)}}}function Nf(o,d,b){vy()&&(function k8(o,d,b,P){const X=b.directiveStart,he=b.directiveEnd;au(b)&&function N8(o,d,b){const P=yd(d,o),X=TI(b);let Ie=16;b.signals?Ie=4096:b.onPush&&(Ie=64);const Ke=s0(o,R_(o,X,null,Ie,P,d,null,o[lh].rendererFactory.createRenderer(P,b),null,null,null));o[d.index]=Ke}(d,b,o.data[X+b.componentOffset]),o.firstCreatePass||Of(b,d),jc(P,d);const Ie=b.initialInputs;for(let Ke=X;Ke<he;Ke++){const rt=o.data[Ke],Tt=Hm(d,o,Ke,b);jc(Tt,d),null!==Ie&&L8(0,Ke-X,Tt,rt,0,Ie),uh(rt)&&(cu(b.index,d)[na]=Hm(d,o,Ke,b))}}(o,d,b,yd(b,d)),!(64&~b.flags)&&OI(o,d,b))}function cx(o,d,b=yd){const P=d.localNames;if(null!==P){let X=d.index+1;for(let he=0;he<P.length;he+=2){const Ie=P[he+1],Ke=-1===Ie?b(d,o):o[Ie];o[X++]=Ke}}}function TI(o){const d=o.tView;return null===d||d.incompleteFirstPass?o.tView=lx(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):d}function lx(o,d,b,P,X,he,Ie,Ke,rt,Tt,Nt){const cn=Ci+P,Cn=cn+X,Bn=function v8(o,d){const b=[];for(let P=0;P<d;P++)b.push(P<o?null:wo);return b}(cn,Cn),Zn="function"==typeof Tt?Tt():Tt;return Bn[$r]={type:o,blueprint:Bn,template:b,queries:null,viewQuery:Ke,declTNode:d,data:Bn.slice().fill(null,cn),bindingStartIndex:cn,expandoStartIndex:Cn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof he?he():he,pipeRegistry:"function"==typeof Ie?Ie():Ie,firstChild:null,schemas:rt,consts:Zn,incompleteFirstPass:!1,ssrId:Nt}}let II=()=>null;function DI(o,d,b,P,X){for(let he in d){if(!d.hasOwnProperty(he))continue;const Ie=d[he];if(void 0===Ie)continue;P??={};let Ke,rt=jt.None;Array.isArray(Ie)?(Ke=Ie[0],rt=Ie[1]):Ke=Ie;let Tt=he;if(null!==X){if(!X.hasOwnProperty(he))continue;Tt=X[he]}0===o?CI(P,b,Tt,Ke,rt):CI(P,b,Tt,Ke)}return P}function CI(o,d,b,P,X){let he;o.hasOwnProperty(b)?(he=o[b]).push(d,P):he=o[b]=[d,P],void 0!==X&&he.push(X)}function jd(o,d,b,P,X,he,Ie,Ke){const rt=yd(d,b);let Nt,Tt=d.inputs;!Ke&&null!=Tt&&(Nt=Tt[P])?(eb(o,b,Nt,P,X),au(d)&&function T8(o,d){const b=cu(d,o);16&b[Ni]||(b[Ni]|=64)}(b,d.index)):3&d.type&&(P=function A8(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(P),X=null!=Ie?Ie(X,d.value||"",P):X,he.setProperty(rt,P,X))}function dx(o,d,b,P){if(vy()){const X=null===P?null:{"":-1},he=function ux(o,d){const b=o.directiveRegistry;let P=null,X=null;if(b)for(let he=0;he<b.length;he++){const Ie=b[he];if(so(d,Ie.selectors,!1))if(P||(P=[]),uh(Ie))if(null!==Ie.findHostDirectiveDefs){const Ke=[];X=X||new Map,Ie.findHostDirectiveDefs(Ie,Ke,X),P.unshift(...Ke,Ie),fx(o,d,Ke.length)}else P.unshift(Ie),fx(o,d,0);else X=X||new Map,Ie.findHostDirectiveDefs?.(Ie,P,X),P.push(Ie)}return null===P?null:[P,X]}(o,b);let Ie,Ke;null===he?Ie=Ke=null:[Ie,Ke]=he,null!==Ie&&kI(o,d,b,Ie,X,Ke),X&&function P8(o,d,b){if(d){const P=o.localNames=[];for(let X=0;X<d.length;X+=2){const he=b[d[X+1]];if(null==he)throw new Kn(-301,!1);P.push(d[X],he)}}}(b,P,X)}b.mergedAttrs=Or(b.mergedAttrs,b.attrs)}function kI(o,d,b,P,X,he){for(let Tt=0;Tt<P.length;Tt++)d2(Of(b,d),o,P[Tt].type);!function R8(o,d,b){o.flags|=1,o.directiveStart=d,o.directiveEnd=d+b,o.providerIndexes=d}(b,o.data.length,P.length);for(let Tt=0;Tt<P.length;Tt++){const Nt=P[Tt];Nt.providersResolver&&Nt.providersResolver(Nt)}let Ie=!1,Ke=!1,rt=Yv(o,d,P.length,null);for(let Tt=0;Tt<P.length;Tt++){const Nt=P[Tt];b.mergedAttrs=Or(b.mergedAttrs,Nt.hostAttrs),B8(o,b,d,rt,Nt),O8(rt,Nt,X),null!==Nt.contentQueries&&(b.flags|=4),(null!==Nt.hostBindings||null!==Nt.hostAttrs||0!==Nt.hostVars)&&(b.flags|=64);const cn=Nt.type.prototype;!Ie&&(cn.ngOnChanges||cn.ngOnInit||cn.ngDoCheck)&&((o.preOrderHooks??=[]).push(b.index),Ie=!0),!Ke&&(cn.ngOnChanges||cn.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(b.index),Ke=!0),rt++}!function M8(o,d,b){const X=d.directiveEnd,he=o.data,Ie=d.attrs,Ke=[];let rt=null,Tt=null;for(let Nt=d.directiveStart;Nt<X;Nt++){const cn=he[Nt],Cn=b?b.get(cn):null,Zn=Cn?Cn.outputs:null;rt=DI(0,cn.inputs,Nt,rt,Cn?Cn.inputs:null),Tt=DI(1,cn.outputs,Nt,Tt,Zn);const vr=null===rt||null===Ie||Oi(d)?null:U8(rt,Nt,Ie);Ke.push(vr)}null!==rt&&(rt.hasOwnProperty("class")&&(d.flags|=8),rt.hasOwnProperty("style")&&(d.flags|=16)),d.initialInputs=Ke,d.inputs=rt,d.outputs=Tt}(o,b,he)}function OI(o,d,b){const P=b.directiveStart,X=b.directiveEnd,he=b.index,Ie=function X6(){return co.lFrame.currentDirectiveIndex}();try{Vm(he);for(let Ke=P;Ke<X;Ke++){const rt=o.data[Ke],Tt=d[Ke];n2(Ke),(null!==rt.hostBindings||0!==rt.hostVars||null!==rt.hostAttrs)&&RI(rt,Tt)}}finally{Vm(-1),n2(Ie)}}function RI(o,d){null!==o.hostBindings&&o.hostBindings(1,d)}function fx(o,d,b){d.componentOffset=b,(o.components??=[]).push(d.index)}function O8(o,d,b){if(b){if(d.exportAs)for(let P=0;P<d.exportAs.length;P++)b[d.exportAs[P]]=o;uh(d)&&(b[""]=o)}}function B8(o,d,b,P,X){o.data[P]=X;const he=X.factory||(X.factory=Ru(X.type)),Ie=new _v(he,uh(X),jy);o.blueprint[P]=Ie,b[P]=Ie,function C8(o,d,b,P,X){const he=X.hostBindings;if(he){let Ie=o.hostBindingOpCodes;null===Ie&&(Ie=o.hostBindingOpCodes=[]);const Ke=~d.index;(function PI(o){let d=o.length;for(;d>0;){const b=o[--d];if("number"==typeof b&&b<0)return b}return 0})(Ie)!=Ke&&Ie.push(Ke),Ie.push(b,P,he)}}(o,d,P,Yv(o,b,X.hostVars,wo),X)}function bh(o,d,b,P,X,he){const Ie=yd(o,d);!function hx(o,d,b,P,X,he,Ie){if(null==he)o.removeAttribute(d,X,b);else{const Ke=null==Ie?Ji(he):Ie(he,P||"",X);o.setAttribute(d,X,Ke,b)}}(d[_i],Ie,he,o.value,b,P,X)}function L8(o,d,b,P,X,he){const Ie=he[d];if(null!==Ie)for(let Ke=0;Ke<Ie.length;)MI(P,b,Ie[Ke++],Ie[Ke++],Ie[Ke++],Ie[Ke++])}function U8(o,d,b){let P=null,X=0;for(;X<b.length;){const he=b[X];if(0!==he)if(5!==he){if("number"==typeof he)break;if(o.hasOwnProperty(he)){null===P&&(P=[]);const Ie=o[he];for(let Ke=0;Ke<Ie.length;Ke+=3)if(Ie[Ke]===d){P.push(he,Ie[Ke+1],Ie[Ke+2],b[X+1]);break}}X+=2}else X+=2;else X+=4}return P}function BI(o,d,b,P){return[o,!0,0,d,null,P,null,b,null,null]}function NI(o,d){const b=o.contentQueries;if(null!==b){const P=R(null);try{for(let X=0;X<b.length;X+=2){const Ie=b[X+1];if(-1!==Ie){const Ke=o.data[Ie];Gw(b[X]),Ke.contentQueries(2,d[Ie],Ie)}}}finally{R(P)}}}function s0(o,d){return o[dv]?o[Df][If]=d:o[dv]=d,o[Df]=d,d}function Jv(o,d,b){Gw(0);const P=R(null);try{d(o,b)}finally{R(P)}}function qv(o){return o[hy]??=[]}function Qv(o){return o.cleanup??=[]}function LI(o,d,b){return(null===o||uh(o))&&(b=function YE(o){for(;Array.isArray(o);){if("object"==typeof o[bA])return o;o=o[fo]}return null}(b[d.index])),b[_i]}function B_(o,d){const b=o[os],P=b?b.get(zu,null):null;P&&P.handleError(d)}function eb(o,d,b,P,X){for(let he=0;he<b.length;){const Ie=b[he++],Ke=b[he++],rt=b[he++];MI(o.data[Ie],d[Ie],P,Ke,rt,X)}}function wh(o,d,b){const P=pv(d,o);!function lI(o,d,b){o.setValue(d,b)}(o[_i],P,b)}function F8(o,d){const b=cu(d,o),P=b[$r];!function UI(o,d){for(let b=d.length;b<o.blueprint.length;b++)d.push(o.blueprint[b])}(P,b);const X=b[fo];null!==X&&null===b[As]&&(b[As]=O2(X,b[os])),FI(P,b,b[na])}function FI(o,d,b){s2(d);try{const P=o.viewQuery;null!==P&&Jv(1,P,b);const X=o.template;null!==X&&AI(o,d,X,1,b),o.firstCreatePass&&(o.firstCreatePass=!1),d[jp]?.finishViewCreation(o),o.staticContentQueries&&NI(o,d),o.staticViewQueries&&Jv(2,o.viewQuery,b);const he=o.components;null!==he&&function j8(o,d){for(let b=0;b<d.length;b++)F8(o,d[b])}(d,he)}catch(P){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),P}finally{d[Ni]&=-5,bv()}}function a0(o,d,b,P){const X=R(null);try{const he=d.tView,rt=R_(o,he,b,4096&o[Ni]?4096:16,null,d,null,null,P?.injector??null,P?.embeddedViewInjector??null,P?.dehydratedView??null);rt[Fp]=o[d.index];const Nt=o[jp];return null!==Nt&&(rt[jp]=Nt.createEmbeddedView(he)),FI(he,rt,b),rt}finally{R(X)}}function jI(o,d){const b=bc+d;if(b<o.length)return o[b]}function Yp(o,d){return!d||null===d.firstChild||Cv(o)}function $y(o,d,b,P=!0){const X=d[$r];if(function u8(o,d,b,P){const X=bc+P,he=b.length;P>0&&(b[X-1][If]=d),P<he-bc?(d[If]=b[X],Af(b,bc+P,d)):(b.push(d),d[If]=null),d[Do]=b;const Ie=d[Fp];null!==Ie&&b!==Ie&&dI(Ie,d);const Ke=d[jp];null!==Ke&&Ke.insertView(o),JE(d),d[Ni]|=128}(X,d,o,b),P){const Ie=r0(b,o),Ke=d[_i],rt=ep(Ke,o[Ul]);null!==rt&&function ex(o,d,b,P,X,he){P[fo]=X,P[el]=d,O_(o,P,b,1,X,he)}(X,o[el],Ke,d,rt,Ie)}const he=d[As];null!==he&&null!==he.firstChild&&(he.firstChild=null)}function mx(o,d){const b=Wv(o,d);return void 0!==b&&P_(b[$r],b),b}function c0(o,d,b,P,X=!1){for(;null!==b;){if(128===b.type){b=X?b.projectionNext:b.next;continue}const he=d[b.index];null!==he&&P.push(bs(he)),Fl(he)&&$8(he,P);const Ie=b.type;if(8&Ie)c0(o,d,b.child,P);else if(32&Ie){const Ke=Q2(b,d);let rt;for(;rt=Ke();)P.push(rt)}else if(16&Ie){const Ke=Zv(d,b);if(Array.isArray(Ke))P.push(...Ke);else{const rt=Zh(d[za]);c0(rt[$r],rt,Ke,P,!0)}}b=X?b.projectionNext:b.next}return P}function $8(o,d){for(let b=bc;b<o.length;b++){const P=o[b],X=P[$r].firstChild;null!==X&&c0(P[$r],P,X,d)}o[Ul]!==o[fo]&&d.push(o[Ul])}let K8=[];const V8={...L,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{qE(o.lView)},consumerOnSignalRead(){this.lView[Cf]=this}},H8={...L,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{let d=Zh(o.lView);for(;d&&!Ky(d[$r]);)d=Zh(d);d&&fh(d)},consumerOnSignalRead(){this.lView[Cf]=this}};function Ky(o){return 2!==o.type}const W8=100;function tb(o,d=!0,b=0){const P=o[lh],X=P.rendererFactory;X.begin?.();try{!function G8(o,d){const b=BA();try{NA(!0),N_(o,d);let P=0;for(;mv(o);){if(P===W8)throw new Kn(103,!1);P++,N_(o,1)}}finally{NA(b)}}(o,b)}catch(Ie){throw d&&B_(o,Ie),Ie}finally{X.end?.(),P.inlineEffectRunner?.flush()}}function P4(o,d,b,P){const X=d[Ni];if(!(256&~X))return;d[lh].inlineEffectRunner?.flush(),s2(d);let Ke=!0,rt=null,Tt=null;Ky(o)?(Tt=function $I(o){return o[Cf]??function yx(o){const d=K8.pop()??Object.create(V8);return d.lView=o,d}(o)}(d),rt=J(Tt)):null===function A(){return E}()?(Ke=!1,Tt=function z8(o){const d=o[Cf]??Object.create(H8);return d.lView=o,d}(d),rt=J(Tt)):d[Cf]&&(ae(d[Cf]),d[Cf]=null);try{TA(d),function LA(o){return co.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==b&&AI(o,d,b,2,P);const Nt=!(3&~X);if(Nt){const Bn=o.preOrderCheckHooks;null!==Bn&&Zw(d,Bn,null)}else{const Bn=o.preOrderHooks;null!==Bn&&Xw(d,Bn,0,null),c2(d,0)}if(function O4(o){for(let d=w2(o);null!==d;d=_2(d)){if(!(d[Ni]&dh.HasTransplantedViews))continue;const b=d[my];for(let P=0;P<b.length;P++)fh(b[P])}}(d),Z8(d,0),null!==o.contentQueries&&NI(o,d),Nt){const Bn=o.contentCheckHooks;null!==Bn&&Zw(d,Bn)}else{const Bn=o.contentHooks;null!==Bn&&Xw(d,Bn,1),c2(d,1)}!function g8(o,d){const b=o.hostBindingOpCodes;if(null!==b)try{for(let P=0;P<b.length;P++){const X=b[P];if(X<0)Vm(~X);else{const he=X,Ie=b[++P],Ke=b[++P];Z6(Ie,he),Ke(2,d[he])}}}finally{Vm(-1)}}(o,d);const cn=o.components;null!==cn&&L_(d,cn,0);const Cn=o.viewQuery;if(null!==Cn&&Jv(2,Cn,P),Nt){const Bn=o.viewCheckHooks;null!==Bn&&Zw(d,Bn)}else{const Bn=o.viewHooks;null!==Bn&&Xw(d,Bn,2),c2(d,2)}if(!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),d[GE]){for(const Bn of d[GE])Bn();d[GE]=null}d[Ni]&=-73}catch(Nt){throw qE(d),Nt}finally{null!==Tt&&(Y(Tt,rt),Ke&&function Sl(o){o.lView[Cf]!==o&&(o.lView=null,K8.push(o))}(Tt)),bv()}}function Z8(o,d){for(let b=w2(o);null!==b;b=_2(b))for(let P=bc;P<b.length;P++)vx(b[P],d)}function X8(o,d,b){vx(cu(d,o),b)}function vx(o,d){gy(o)&&N_(o,d)}function N_(o,d){const P=o[$r],X=o[Ni],he=o[Cf];let Ie=!!(0===d&&16&X);if(Ie||=!!(64&X&&0===d),Ie||=!!(1024&X),Ie||=!(!he?.dirty||!oe(he)),Ie||=!1,he&&(he.dirty=!1),o[Ni]&=-9217,Ie)P4(P,o,P.template,o[na]);else if(8192&X){Z8(o,1);const Ke=P.components;null!==Ke&&L_(o,Ke,1)}}function L_(o,d,b){for(let P=0;P<d.length;P++)X8(o,d[P],b)}function U_(o,d){const b=BA()?64:1088;for(o[lh].changeDetectionScheduler?.notify(d);o;){o[Ni]|=b;const P=Zh(o);if(Gh(o)&&!P)return o;o=P}return null}class nb{get rootNodes(){const d=this._lView,b=d[$r];return c0(b,d,b.firstChild,[])}constructor(d,b,P=!0){this._lView=d,this._cdRefInjectingView=b,this.notifyErrorHandler=P,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[na]}set context(d){this._lView[na]=d}get destroyed(){return!(256&~this._lView[Ni])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const d=this._lView[Do];if(Fl(d)){const b=d[8],P=b?b.indexOf(this):-1;P>-1&&(Wv(d,P),mt(b,P))}this._attachedToViewContainer=!1}P_(this._lView[$r],this._lView)}onDestroy(d){QE(this._lView,d)}markForCheck(){U_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ni]&=-129}reattach(){JE(this._lView),this._lView[Ni]|=128}detectChanges(){this._lView[Ni]|=1024,tb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Kn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const d=Gh(this._lView),b=this._lView[Fp];null!==b&&!d&&nx(b,this._lView),tx(this._lView[$r],this._lView)}attachToAppRef(d){if(this._attachedToViewContainer)throw new Kn(902,!1);this._appRef=d;const b=Gh(this._lView),P=this._lView[Fp];null!==P&&!b&&dI(P,this._lView),JE(this._lView)}}let rb=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=q8}return o})();const Y8=rb,J8=class extends Y8{constructor(d,b,P){super(),this._declarationLView=d,this._declarationTContainer=b,this.elementRef=P}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(d,b){return this.createEmbeddedViewImpl(d,b)}createEmbeddedViewImpl(d,b,P){const X=a0(this._declarationLView,this._declarationTContainer,d,{embeddedViewInjector:b,dehydratedView:P});return new nb(X)}};function q8(){return F_(ss(),br())}function F_(o,d){return 4&o.type?new J8(d,o,Iv(o,d)):null}function GI(o,d,b){const P=d.insertBeforeIndex,X=Array.isArray(P)?P[0]:P;return null===X?mI(o,0,b):bs(b[X])}function ZI(o,d,b,P,X){const he=d.insertBeforeIndex;if(Array.isArray(he)){let Ie=P,Ke=null;if(3&d.type||(Ke=Ie,Ie=X),null!==Ie&&-1===d.componentOffset)for(let rt=1;rt<he.length;rt++)t0(o,Ie,b[he[rt]],Ke,!1)}}function xx(o,d){if(o.push(d),o.length>1)for(let b=o.length-2;b>=0;b--){const P=o[b];XI(P)||YI(P,d)&&null===JI(P)&&nk(P,d.index)}}function XI(o){return!(64&o.type)}function YI(o,d){return XI(d)||o.index>d.index}function JI(o){const d=o.insertBeforeIndex;return Array.isArray(d)?d[0]:d}function nk(o,d){const b=o.insertBeforeIndex;Array.isArray(b)?b[0]=d:(gI(GI,ZI),o.insertBeforeIndex=d)}function U4(o,d,b){const P=sx(o,b,64,null,null);return xx(d,P),P}function qI(o,d,b){o.index=0;const P=function Sx(o,d){const b=d[o.currentCaseLViewIndex];return null===b?b:b<0?~b:b}(d,b);o.removes=null!==P?d.remove[P]:We}function Lf(o){if(o.index<o.removes.length){const d=o.removes[o.index++];return d>0?o.lView[d]:(o.stack.push(o.index,o.removes),qI(o,o.lView[$r].data[~d],o.lView),Lf(o))}return 0===o.stack.length?null:(o.removes=o.stack.pop(),o.index=o.stack.pop(),Lf(o))}function j4(){const o={stack:[],index:-1};return function d(b,P){for(o.lView=P;o.stack.length;)o.stack.pop();return qI(o,b.value,P),Lf.bind(null,o)}}let iD=()=>{},$d=()=>null;function d0(o,d){return $d(o,d)}class qp{}const u0=new zi("",{providedIn:"root",factory:()=>!1}),aD=new zi("");class Mk{}class cD{}class dD{resolveComponentFactory(d){throw function Ak(o){const d=Error(`No component factory found for ${Ho(o)}.`);return d.ngComponent=o,d}(d)}}class hb{static#e=this.NULL=new dD}class pb{}let uD=(()=>{class o{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Ik(){const o=br(),b=cu(ss().index,o);return(Is(b)?b:o)[_i]}()}return o})(),Dk=(()=>{class o{static#e=this.\u0275prov=Uo({token:o,providedIn:"root",factory:()=>null})}return o})();const G_=new Set;function Kl(o){G_.has(o)||(G_.add(o),performance?.mark?.("mark_feature_usage",{detail:{feature:o}}))}var Ml=function(o){return o[o.EarlyRead=0]="EarlyRead",o[o.Write=1]="Write",o[o.MixedReadWrite=2]="MixedReadWrite",o[o.Read=3]="Read",o}(Ml||{});const Ox={destroy(){}};function fD(o,d){!d&&$w();const b=d?.injector??Ir(tl);return Wa(b)?(Kl("NgAfterRender"),hD(o,b,!1,d?.phase??Ml.MixedReadWrite)):Ox}function Z_(o,d){!d&&$w();const b=d?.injector??Ir(tl);return Wa(b)?(Kl("NgAfterNextRender"),hD(o,b,!0,d?.phase??Ml.MixedReadWrite)):Ox}function hD(o,d,b,P){const X=function kk(o,d){if(o instanceof Function)switch(d){case Ml.EarlyRead:return{earlyRead:o};case Ml.Write:return{write:o};case Ml.MixedReadWrite:return{mixedReadWrite:o};case Ml.Read:return{read:o}}return o}(o,P),he=d.get(Wy),Ie=he.handler??=new pD,Ke=[],rt=[],Tt=()=>{for(const Bn of rt)Ie.unregister(Bn);Nt()},Nt=d.get(t_).onDestroy(Tt);let cn=0;const Cn=(Bn,Zn)=>{if(!Zn)return;const vr=b?(...Hr)=>(cn--,cn<1&&Tt(),Zn(...Hr)):Zn,Br=HE(d,()=>new Rx(Bn,Ke,vr));Ie.register(Br),rt.push(Br),cn++};return Cn(Ml.EarlyRead,X.earlyRead),Cn(Ml.Write,X.write),Cn(Ml.MixedReadWrite,X.mixedReadWrite),Cn(Ml.Read,X.read),{destroy:Tt}}class Rx{constructor(d,b,P){this.phase=d,this.pipelinedArgs=b,this.callbackFn=P,this.zone=Ir(Ma),this.errorHandler=Ir(zu,{optional:!0}),Ir(qp,{optional:!0})?.notify(6)}invoke(){try{const d=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,d)}catch(d){this.errorHandler?.handleError(d)}}}class pD{constructor(){this.executingCallbacks=!1,this.buckets={[Ml.EarlyRead]:new Set,[Ml.Write]:new Set,[Ml.MixedReadWrite]:new Set,[Ml.Read]:new Set},this.deferredCallbacks=new Set}register(d){(this.executingCallbacks?this.deferredCallbacks:this.buckets[d.phase]).add(d)}unregister(d){this.buckets[d.phase].delete(d),this.deferredCallbacks.delete(d)}execute(){this.executingCallbacks=!0;for(const d of Object.values(this.buckets))for(const b of d)b.invoke();this.executingCallbacks=!1;for(const d of this.deferredCallbacks)this.buckets[d.phase].add(d);this.deferredCallbacks.clear()}destroy(){for(const d of Object.values(this.buckets))d.clear();this.deferredCallbacks.clear()}}let Wy=(()=>{class o{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const b=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const P of b)P()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Uo({token:o,providedIn:"root",factory:()=>new o})}return o})();function Xu(o){return!!Ri(o)}function yb(o,d,b){let P=b?o.styles:null,X=b?o.classes:null,he=0;if(null!==d)for(let Ie=0;Ie<d.length;Ie++){const Ke=d[Ie];"number"==typeof Ke?he=Ke:1==he?X=Au(X,Ke):2==he&&(P=Au(P,Ke+": "+d[++Ie]+";"))}b?o.styles=P:o.stylesWithoutHost=P,b?o.classes=X:o.classesWithoutHost=X}class Ux extends hb{constructor(d){super(),this.ngModule=d}resolveComponentFactory(d){const b=yi(d);return new Zy(b,this.ngModule)}}function Fx(o,d){const b=[];for(const P in o){if(!o.hasOwnProperty(P))continue;const X=o[P];if(void 0===X)continue;const he=Array.isArray(X),Ie=he?X[0]:X;b.push(d?{propName:Ie,templateName:P,isSignal:!!((he?X[1]:jt.None)&jt.SignalBased)}:{propName:Ie,templateName:P})}return b}class Zy extends cD{get inputs(){const d=this.componentDef,b=d.inputTransforms,P=Fx(d.inputs,!0);if(null!==b)for(const X of P)b.hasOwnProperty(X.propName)&&(X.transform=b[X.propName]);return P}get outputs(){return Fx(this.componentDef.outputs,!1)}constructor(d,b){super(),this.componentDef=d,this.ngModule=b,this.componentType=d.type,this.selector=function yt(o){return o.map(qe).join(",")}(d.selectors),this.ngContentSelectors=d.ngContentSelectors?d.ngContentSelectors:[],this.isBoundToModule=!!b}create(d,b,P,X){const he=R(null);try{let Ie=(X=X||this.ngModule)instanceof su?X:X?.injector;Ie&&null!==this.componentDef.getStandaloneInjector&&(Ie=this.componentDef.getStandaloneInjector(Ie)||Ie);const Ke=Ie?new Kp(d,Ie):d,rt=Ke.get(pb,null);if(null===rt)throw new Kn(407,!1);const Tt=Ke.get(Dk,null),Cn={rendererFactory:rt,sanitizer:Tt,inlineEffectRunner:null,afterRenderEventManager:Ke.get(Wy,null),changeDetectionScheduler:Ke.get(qp,null)},Bn=rt.createRenderer(null,this.componentDef),Zn=this.componentDef.selectors[0][0]||"div",vr=P?function b8(o,d,b,P){const he=P.get(L2,!1)||b===pt.ShadowDom,Ie=o.selectRootElement(d,he);return function w8(o){II(o)}(Ie),Ie}(Bn,P,this.componentDef.encapsulation,Ke):k_(Bn,Zn,function nl(o){const d=o.toLowerCase();return"svg"===d?Lu:"math"===d?"math":null}(Zn));let Br=512;this.componentDef.signals?Br|=4096:this.componentDef.onPush||(Br|=16);let Hr=null;null!==vr&&(Hr=O2(vr,Ke,!0));const _r=lx(0,null,null,1,0,null,null,null,null,null,null),io=R_(null,_r,null,Br,null,null,Cn,Bn,Ke,null,Hr);let is,sa;s2(io);try{const Zc=this.componentDef;let Tc,Vg=null;Zc.findHostDirectiveDefs?(Tc=[],Vg=new Map,Zc.findHostDirectiveDefs(Zc,Tc,Vg),Tc.push(Zc)):Tc=[Zc];const kO=function vb(o,d){const b=o[$r],P=Ci;return o[P]=d,o0(b,P,2,"#host",null)}(io,vr),Tm=function Y_(o,d,b,P,X,he,Ie){const Ke=X[$r];!function bb(o,d,b,P){for(const X of o)d.mergedAttrs=Or(d.mergedAttrs,X.hostAttrs);null!==d.mergedAttrs&&(yb(d,d.mergedAttrs,!0),null!==b&&EI(P,b,d))}(P,o,d,Ie);let rt=null;null!==d&&(rt=O2(d,X[os]));const Tt=he.rendererFactory.createRenderer(d,b);let Nt=16;b.signals?Nt=4096:b.onPush&&(Nt=64);const cn=R_(X,TI(b),null,Nt,X[o.index],o,he,Tt,null,null,rt);return Ke.firstCreatePass&&fx(Ke,o,P.length-1),s0(X,cn),X[o.index]=cn}(kO,vr,Zc,Tc,io,Cn,Bn);sa=Ti(_r,Ci),vr&&function gD(o,d,b,P){if(P)Ht(o,b,["ng-version","18.1.3"]);else{const{attrs:X,classes:he}=function Rt(o){const d=[],b=[];let P=1,X=2;for(;P<o.length;){let he=o[P];if("string"==typeof he)2===X?""!==he&&d.push(he,o[++P]):8===X&&b.push(he);else{if(!Dr(X))break;X=he}P++}return{attrs:d,classes:b}}(d.selectors[0]);X&&Ht(o,b,X),he&&he.length>0&&_I(o,b,he.join(" "))}}(Bn,Zc,vr,P),void 0!==b&&function wb(o,d,b){const P=o.projection=[];for(let X=0;X<d.length;X++){const he=b[X];P.push(null!=he?Array.from(he):null)}}(sa,this.ngContentSelectors,b),is=function jx(o,d,b,P,X,he){const Ie=ss(),Ke=X[$r],rt=yd(Ie,X);kI(Ke,X,Ie,b,null,P);for(let Nt=0;Nt<b.length;Nt++)jc(Hm(X,Ke,Ie.directiveStart+Nt,Ie),X);OI(Ke,X,Ie),rt&&jc(rt,X);const Tt=Hm(X,Ke,Ie.directiveStart+Ie.componentOffset,Ie);if(o[na]=X[na]=Tt,null!==he)for(const Nt of he)Nt(Tt,d);return ax(Ke,Ie,X),Tt}(Tm,Zc,Tc,Vg,io,[m0]),FI(_r,io,null)}finally{bv()}return new gb(this.componentType,is,Iv(sa,io),io,sa)}finally{R(he)}}}class gb extends Mk{constructor(d,b,P,X,he){super(),this.location=P,this._rootLView=X,this._tNode=he,this.previousInputValues=null,this.instance=b,this.hostView=this.changeDetectorRef=new nb(X,void 0,!1),this.componentType=d}setInput(d,b){const P=this._tNode.inputs;let X;if(null!==P&&(X=P[d])){if(this.previousInputValues??=new Map,this.previousInputValues.has(d)&&Object.is(this.previousInputValues.get(d),b))return;const he=this._rootLView;eb(he[$r],he,X,d,b),this.previousInputValues.set(d,b),U_(cu(this._tNode.index,he),1)}}get injector(){return new Uc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(d){this.hostView.onDestroy(d)}}function m0(){const o=ss();xy(br()[$r],o)}let $x=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=Pk}return o})();function Pk(){return Eb(ss(),br())}const J_=$x,fu=class extends J_{constructor(d,b,P){super(),this._lContainer=d,this._hostTNode=b,this._hostLView=P}get element(){return Iv(this._hostTNode,this._hostLView)}get injector(){return new Uc(this._hostTNode,this._hostLView)}get parentInjector(){const d=Qw(this._hostTNode,this._hostLView);if(xv(d)){const b=ns(d,this._hostLView),P=Sv(d);return new Uc(b[$r].data[P+8],b)}return new Uc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(d){const b=y0(this._lContainer);return null!==b&&b[d]||null}get length(){return this._lContainer.length-bc}createEmbeddedView(d,b,P){let X,he;"number"==typeof P?X=P:null!=P&&(X=P.index,he=P.injector);const Ie=d0(this._lContainer,d.ssrId),Ke=d.createEmbeddedViewImpl(b||{},he,Ie);return this.insertImpl(Ke,X,Yp(this._hostTNode,Ie)),Ke}createComponent(d,b,P,X,he){const Ie=d&&!function Wh(o){return"function"==typeof o}(d);let Ke;if(Ie)Ke=b;else{const Zn=b||{};Ke=Zn.index,P=Zn.injector,X=Zn.projectableNodes,he=Zn.environmentInjector||Zn.ngModuleRef}const rt=Ie?d:new Zy(yi(d)),Tt=P||this.parentInjector;if(!he&&null==rt.ngModule){const vr=(Ie?Tt:this.parentInjector).get(su,null);vr&&(he=vr)}const Nt=yi(rt.componentType??{}),cn=d0(this._lContainer,Nt?.id??null),Bn=rt.create(Tt,X,cn?.firstChild??null,he);return this.insertImpl(Bn.hostView,Ke,Yp(this._hostTNode,cn)),Bn}insert(d,b){return this.insertImpl(d,b,!0)}insertImpl(d,b,P){const X=d._lView;if(function AA(o){return Fl(o[Do])}(X)){const Ke=this.indexOf(d);if(-1!==Ke)this.detach(Ke);else{const rt=X[Do],Tt=new fu(rt,rt[el],rt[Do]);Tt.detach(Tt.indexOf(d))}}const he=this._adjustIndex(b),Ie=this._lContainer;return $y(Ie,X,he,P),d.attachToViewContainerRef(),Af(_b(Ie),he,d),d}move(d,b){return this.insert(d,b)}indexOf(d){const b=y0(this._lContainer);return null!==b?b.indexOf(d):-1}remove(d){const b=this._adjustIndex(d,-1),P=Wv(this._lContainer,b);P&&(mt(_b(this._lContainer),b),P_(P[$r],P))}detach(d){const b=this._adjustIndex(d,-1),P=Wv(this._lContainer,b);return P&&null!=mt(_b(this._lContainer),b)?new nb(P):null}_adjustIndex(d,b=0){return d??this.length+b}};function y0(o){return o[8]}function _b(o){return o[8]||(o[8]=[])}function Eb(o,d){let b;const P=d[o.index];return Fl(P)?b=P:(b=BI(P,d,null,o),d[o.index]=b,s0(d,b)),bd(b,d,o,P),new fu(b,o,d)}let bd=function vD(o,d,b,P){if(o[Ul])return;let X;X=8&b.type?bs(P):function Ok(o,d){const b=o[_i],P=b.createComment(""),X=yd(d,o);return t0(b,ep(b,X),P,function k4(o,d){return o.nextSibling(d)}(b,X),!1),P}(d,b),o[Ul]=X},Yu=()=>!1;class rl{constructor(d){this.queryList=d,this.matches=null}clone(){return new rl(this.queryList)}setDirty(){this.queryList.setDirty()}}class Kx{constructor(d=[]){this.queries=d}createEmbeddedView(d){const b=d.queries;if(null!==b){const P=null!==d.contentQueries?d.contentQueries[0]:b.length,X=[];for(let he=0;he<P;he++){const Ie=b.getByIndex(he);X.push(this.queries[Ie.indexInDeclarationView].clone())}return new Kx(X)}return null}insertView(d){this.dirtyQueriesWithMatches(d)}detachView(d){this.dirtyQueriesWithMatches(d)}finishViewCreation(d){this.dirtyQueriesWithMatches(d)}dirtyQueriesWithMatches(d){for(let b=0;b<this.queries.length;b++)null!==Ct(d,b).matches&&this.queries[b].setDirty()}}class Wi{constructor(d,b,P=null){this.flags=b,this.read=P,this.predicate="string"==typeof d?function zx(o){return o.split(",").map(d=>d.trim())}(d):d}}class di{constructor(d=[]){this.queries=d}elementStart(d,b){for(let P=0;P<this.queries.length;P++)this.queries[P].elementStart(d,b)}elementEnd(d){for(let b=0;b<this.queries.length;b++)this.queries[b].elementEnd(d)}embeddedTView(d){let b=null;for(let P=0;P<this.length;P++){const X=null!==b?b.length:0,he=this.getByIndex(P).embeddedTView(d,X);he&&(he.indexInDeclarationView=P,null!==b?b.push(he):b=[he])}return null!==b?new di(b):null}template(d,b){for(let P=0;P<this.queries.length;P++)this.queries[P].template(d,b)}getByIndex(d){return this.queries[d]}get length(){return this.queries.length}track(d){this.queries.push(d)}}class _h{constructor(d,b=-1){this.metadata=d,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=b}elementStart(d,b){this.isApplyingToNode(b)&&this.matchTNode(d,b)}elementEnd(d){this._declarationNodeIndex===d.index&&(this._appliesToNextNode=!1)}template(d,b){this.elementStart(d,b)}embeddedTView(d,b){return this.isApplyingToNode(d)?(this.crossesNgTemplate=!0,this.addMatch(-d.index,b),new _h(this.metadata)):null}isApplyingToNode(d){if(this._appliesToNextNode&&1&~this.metadata.flags){const b=this._declarationNodeIndex;let P=d.parent;for(;null!==P&&8&P.type&&P.index!==b;)P=P.parent;return b===(null!==P?P.index:-1)}return this._appliesToNextNode}matchTNode(d,b){const P=this.metadata.predicate;if(Array.isArray(P))for(let X=0;X<P.length;X++){const he=P[X];this.matchTNodeWithReadOption(d,b,Qp(b,he)),this.matchTNodeWithReadOption(d,b,zm(b,d,he,!1,!1))}else P===rb?4&b.type&&this.matchTNodeWithReadOption(d,b,-1):this.matchTNodeWithReadOption(d,b,zm(b,d,P,!1,!1))}matchTNodeWithReadOption(d,b,P){if(null!==P){const X=this.metadata.read;if(null!==X)if(X===Iy||X===$x||X===rb&&4&b.type)this.addMatch(b.index,-2);else{const he=zm(b,d,X,!1,!1);null!==he&&this.addMatch(b.index,he)}else this.addMatch(b.index,P)}}addMatch(d,b){null===this.matches?this.matches=[d,b]:this.matches.push(d,b)}}function Qp(o,d){const b=o.localNames;if(null!==b)for(let P=0;P<b.length;P+=2)if(b[P]===d)return b[P+1];return null}function Q_(o,d,b,P){return-1===b?function q_(o,d){return 11&o.type?Iv(o,d):4&o.type?F_(o,d):null}(d,o):-2===b?function bD(o,d,b){return b===Iy?Iv(d,o):b===rb?F_(d,o):b===$x?Eb(d,o):void 0}(o,d,P):Hm(o,o[$r],b,d)}function wD(o,d,b,P){const X=d[jp].queries[P];if(null===X.matches){const he=o.data,Ie=b.matches,Ke=[];for(let rt=0;null!==Ie&&rt<Ie.length;rt+=2){const Tt=Ie[rt];Ke.push(Tt<0?null:Q_(d,he[Tt],Ie[rt+1],b.metadata.read))}X.matches=Ke}return X.matches}function xb(o,d,b,P){const X=o.queries.getByIndex(b),he=X.matches;if(null!==he){const Ie=wD(o,d,X,b);for(let Ke=0;Ke<he.length;Ke+=2){const rt=he[Ke];if(rt>0)P.push(Ie[Ke/2]);else{const Tt=he[Ke+1],Nt=d[-rt];for(let cn=bc;cn<Nt.length;cn++){const Cn=Nt[cn];Cn[Fp]===Cn[Do]&&xb(Cn[$r],Cn,Tt,P)}if(null!==Nt[my]){const cn=Nt[my];for(let Cn=0;Cn<cn.length;Cn++){const Bn=cn[Cn];xb(Bn[$r],Bn,Tt,P)}}}}}return P}function Vx(o,d){return o[jp].queries[d].queryList}function ho(o,d,b){const P=new s_(!(4&~b));return function x8(o,d,b,P){const X=qv(d);X.push(b),o.firstCreatePass&&Qv(o).push(P,X.length-1)}(o,d,P,P.destroy),(d[jp]??=new Kx).queries.push(new rl(P))-1}function e1(o,d,b){const P=Bo();return P.firstCreatePass&&(Sb(P,new Wi(o,d,b),-1),!(2&~d)&&(P.staticViewQueries=!0)),ho(P,br(),d)}function qu(o,d,b,P){const X=Bo();if(X.firstCreatePass){const he=ss();Sb(X,new Wi(d,b,P),he.index),function Qu(o,d){const b=o.contentQueries||(o.contentQueries=[]);d!==(b.length?b[b.length-1]:-1)&&b.push(o.queries.length-1,d)}(X,o),!(2&~b)&&(X.staticContentQueries=!0)}return ho(X,br(),b)}function Sb(o,d,b){null===o.queries&&(o.queries=new di),o.queries.track(new _h(d,b))}function Ct(o,d){return o.queries.getByIndex(d)}function t1(o,d){const b=o[$r],P=Ct(b,d);return P.crossesNgTemplate?xb(b,o,d,[]):wD(b,o,P,d)}function ef(o){return"function"==typeof o&&void 0!==o[x]}function Hx(o,d){Kl("NgSignals");const b=function v(o){const d=Object.create(Pe);d.value=o;const b=()=>(I(d),d.value);return b[x]=d,b}(o),P=b[x];return d?.equal&&(P.equal=d.equal),b.set=X=>ee(P,X),b.update=X=>function ce(o,d){re()||N(),ee(o,d(o.value))}(P,X),b.asReadonly=Wx.bind(b),b}function Wx(){const o=this[x];if(void 0===o.readonlyFn){const d=()=>this();d[x]=o,o.readonlyFn=d}return o.readonlyFn}function Ei(o){return ef(o)&&"function"==typeof o.set}function tf(o,d){let b;const P=C(()=>{b._dirtyCounter();const X=function to(o,d){const b=o._lView,P=o._queryIndex;if(void 0===b||void 0===P||4&b[Ni])return d?void 0:We;const X=Vx(b,P),he=t1(b,P);return X.reset(he,o_),d?X.first:X._changesDetected||void 0===o._flatValue?o._flatValue=X.toArray():o._flatValue}(b,o);if(d&&void 0===X)throw new Kn(-951,!1);return X});return b=P[x],b._dirtyCounter=Hx(0),b._flatValue=void 0,P}function Gr(){return tf(!0,!1)}function Yr(){return tf(!0,!0)}function qi(o,d){const b=o[x];b._lView=br(),b._queryIndex=d,b._queryList=Vx(b._lView,d),b._queryList.onDirty(()=>b._dirtyCounter.update(P=>P+1))}function Qi(o,d){return Gr()}const ro=(Qi.required=function no(o,d){return Yr()},Qi);function Qn(o,d){return Gr()}const ED=(Qn.required=function _D(o,d){return Yr()},Qn);function Vc(o){const d=Object.create(fi),b=new Tv;function P(){return I(d),rs(d.value),d.value}return d.value=o,P[x]=d,P.asReadonly=Wx.bind(P),P.set=X=>{d.equal(d.value,X)||(ee(d,X),b.emit(X))},P.update=X=>{rs(d.value),P.set(X(d.value))},P.subscribe=b.subscribe.bind(b),P.destroyRef=b.destroyRef,P}function rs(o){if(o===ci)throw new Kn(952,!1)}function il(o){return Vc(o)}const Vl=(il.required=function wc(){return Vc(ci)},il);function Yx(o){let d=function np(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),b=!0;const P=[o];for(;d;){let X;if(uh(o))X=d.\u0275cmp||d.\u0275dir;else{if(d.\u0275cmp)throw new Kn(903,!1);X=d.\u0275dir}if(X){if(b){P.push(X);const Ie=o;Ie.inputs=s1(o.inputs),Ie.inputTransforms=s1(o.inputTransforms),Ie.declaredInputs=s1(o.declaredInputs),Ie.outputs=s1(o.outputs);const Ke=X.hostBindings;Ke&&jk(o,Ke);const rt=X.viewQuery,Tt=X.contentQueries;if(rt&&Jx(o,rt),Tt&&Fk(o,Tt),Lk(o,X),nu(o.outputs,X.outputs),uh(X)&&X.data.animation){const Nt=o.data;Nt.animation=(Nt.animation||[]).concat(X.data.animation)}}const he=X.features;if(he)for(let Ie=0;Ie<he.length;Ie++){const Ke=he[Ie];Ke&&Ke.ngInherit&&Ke(o),Ke===Yx&&(b=!1)}}d=Object.getPrototypeOf(d)}!function Uk(o){let d=0,b=null;for(let P=o.length-1;P>=0;P--){const X=o[P];X.hostVars=d+=X.hostVars,X.hostAttrs=Or(X.hostAttrs,b=Or(b,X.hostAttrs))}}(P)}function Lk(o,d){for(const b in d.inputs){if(!d.inputs.hasOwnProperty(b)||o.inputs.hasOwnProperty(b))continue;const P=d.inputs[b];if(void 0!==P&&(o.inputs[b]=P,o.declaredInputs[b]=d.declaredInputs[b],null!==d.inputTransforms)){const X=Array.isArray(P)?P[0]:P;if(!d.inputTransforms.hasOwnProperty(X))continue;o.inputTransforms??={},o.inputTransforms[X]=d.inputTransforms[X]}}}function s1(o){return o===nr?{}:o===We?[]:o}function Jx(o,d){const b=o.viewQuery;o.viewQuery=b?(P,X)=>{d(P,X),b(P,X)}:d}function Fk(o,d){const b=o.contentQueries;o.contentQueries=b?(P,X,he)=>{d(P,X,he),b(P,X,he)}:d}function jk(o,d){const b=o.hostBindings;o.hostBindings=b?(P,X)=>{d(P,X),b(P,X)}:d}function ID(o){const d=b=>{const P=(Array.isArray(o)?o:o()).map(X=>"function"==typeof X?{directive:Si(X),inputs:nr,outputs:nr}:{directive:Si(X.directive),inputs:Cs(X.inputs),outputs:Cs(X.outputs)});null===b.hostDirectives?(b.findHostDirectiveDefs=DD,b.hostDirectives=P):b.hostDirectives.unshift(...P)};return d.ngInherit=!0,d}function DD(o,d,b){if(null!==o.hostDirectives)for(const P of o.hostDirectives){const X=Us(P.directive);wd(X.declaredInputs,P.inputs),DD(X,d,b),b.set(X,P),d.push(X)}}function Cs(o){if(void 0===o||0===o.length)return nr;const d={};for(let b=0;b<o.length;b+=2)d[o[b]]=o[b+1];return d}function wd(o,d){for(const b in d)d.hasOwnProperty(b)&&(o[d[b]]=o[b])}function Ab(o){const d=o.inputConfig,b={};for(const P in d)if(d.hasOwnProperty(P)){const X=d[P];Array.isArray(X)&&X[3]&&(b[P]=X[3])}o.inputTransforms=b}class Ga{}class CD{}function Tb(o,d){return new Ec(o,d??null,[])}class Ec extends Ga{constructor(d,b,P){super(),this._parent=b,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ux(this);const X=Ri(d);this._bootstrapComponents=Wu(X.bootstrap),this._r3Injector=c5(d,b,[{provide:Ga,useValue:this},{provide:hb,useValue:this.componentFactoryResolver},...P],Ho(d),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(d)}get injector(){return this._r3Injector}destroy(){const d=this._r3Injector;!d.destroyed&&d.destroy(),this.destroyCbs.forEach(b=>b()),this.destroyCbs=null}onDestroy(d){this.destroyCbs.push(d)}}class qx extends CD{constructor(d){super(),this.moduleType=d}create(d){return new Ec(this.moduleType,d,[])}}class kD extends Ga{constructor(d){super(),this.componentFactoryResolver=new Ux(this),this.instance=null;const b=new Va([...d.providers,{provide:Ga,useValue:this},{provide:hb,useValue:this.componentFactoryResolver}],d.parent||jw(),d.debugName,new Set(["environment"]));this.injector=b,d.runEnvironmentInitializers&&b.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(d){this.injector.onDestroy(d)}}function Ws(o,d,b=null){return new kD({providers:o,parent:d,debugName:b,runEnvironmentInitializers:!0}).injector}function Ib(o){return!!nf(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function nf(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Uf(o,d,b){return o[d]=b}function ks(o,d,b){return!Object.is(o[d],b)&&(o[d]=b,!0)}function Ff(o,d,b,P){const X=ks(o,d,b);return ks(o,d+1,P)||X}function Db(o,d,b,P,X,he,Ie,Ke,rt,Tt){const Nt=b+Ci,cn=d.firstCreatePass?function qy(o,d,b,P,X,he,Ie,Ke,rt){const Tt=d.consts,Nt=o0(d,o,4,Ie||null,Ke||null);dx(d,b,Nt,Fu(Tt,rt)),xy(d,Nt);const cn=Nt.tView=lx(2,Nt,P,X,he,d.directiveRegistry,d.pipeRegistry,null,d.schemas,Tt,null);return null!==d.queries&&(d.queries.template(d,Nt),cn.queries=d.queries.embeddedTView(Nt)),Nt}(Nt,d,o,P,X,he,Ie,Ke,rt):d.data[Nt];Pf(cn,!1);const Cn=Qx(d,o,cn,b);wv()&&Gv(d,o,Cn,cn),jc(Cn,o);const Bn=BI(Cn,o,Cn,cn);return o[Nt]=Bn,s0(o,Bn),function Vr(o,d,b){return Yu(o,d,b)}(Bn,cn,o),Vw(cn)&&Nf(d,o,cn),null!=rt&&cx(o,cn,Tt),cn}function c1(o,d,b,P,X,he,Ie,Ke){const rt=br(),Tt=Bo();return Db(rt,Tt,o,d,b,P,X,Fu(Tt.consts,he),Ie,Ke),c1}let Qx=function PD(o,d,b,P){return hh(!0),d[_i].createComment("")};function uc(o,d,b,P){const X=br();return ks(X,Ud(),d)&&(Bo(),bh(pa(),X,o,d,b,P)),uc}function lp(o,d,b,P){return ks(o,Ud(),b)?d+Ji(b)+P:wo}function Sh(o,d,b,P,X,he,Ie,Ke){const Tt=function ip(o,d,b,P,X){const he=Ff(o,d,b,P);return ks(o,d+2,X)||he}(o,Xh(),b,X,Ie);return $u(3),Tt?d+Ji(b)+P+Ji(X)+he+Ji(Ie)+Ke:wo}function rc(o,d){return o<<17|d<<2}function mu(o){return o>>17&32767}function x1(o){return 2|o}function Sd(o){return(131068&o)>>2}function hp(o,d){return-131069&o|d<<2}function xc(o){return 1|o}function M1(o,d,b,P){const X=o[b+1],he=null===d;let Ie=P?mu(X):Sd(X),Ke=!1;for(;0!==Ie&&(!1===Ke||he);){const Tt=o[Ie+1];Kf(o[Ie],d)&&(Ke=!0,o[Ie+1]=P?xc(Tt):x1(Tt)),Ie=P?mu(Tt):Sd(Tt)}Ke&&(o[b+1]=P?x1(X):xc(X))}function Kf(o,d){return null===o||null==d||(Array.isArray(o)?o[1]:o)===d||!(!Array.isArray(o)||"string"!=typeof d)&&or(o,d)>=0}const fc={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Md(o){return o.substring(fc.key,fc.keyEnd)}function $b(o,d){const b=fc.textEnd;return b===d?-1:(d=fc.keyEnd=function aS(o,d,b){for(;d<b&&o.charCodeAt(d)>32;)d++;return d}(o,fc.key=d,b),M0(o,d,b))}function M0(o,d,b){for(;d<b&&o.charCodeAt(d)<=32;)d++;return d}function am(o,d,b){const P=br();return ks(P,Ud(),d)&&jd(Bo(),pa(),P,o,d,P[_i],b,!1),am}function Ah(o,d,b,P,X){const Ie=X?"class":"style";eb(o,b,d.inputs[Ie],Ie,P)}function Vb(o,d,b){return cf(o,d,b,!1),Vb}function Vf(o,d){return cf(o,d,null,!0),Vf}function pp(o){lf(A1,zf,o,!0)}function zf(o,d){for(let b=function jD(o){return function Kb(o){fc.key=0,fc.keyEnd=0,fc.value=0,fc.valueEnd=0,fc.textEnd=o.length}(o),$b(o,M0(o,0,fc.textEnd))}(d);b>=0;b=$b(d,b))hn(o,Md(d),!0)}function cf(o,d,b,P){const X=br(),he=Bo(),Ie=$u(2);he.firstUpdatePass&&uS(he,o,Ie,P),d!==wo&&ks(X,Ie,d)&&Ih(he,he.data[_l()],X,X[_i],o,X[Ie+1]=function df(o,d){return null==o||""===o||("string"==typeof d?o+=d:"object"==typeof o&&(o=Ho(Jh(o)))),o}(d,b),P,Ie)}function lf(o,d,b,P){const X=Bo(),he=$u(2);X.firstUpdatePass&&uS(X,null,he,P);const Ie=br();if(b!==wo&&ks(Ie,he,b)){const Ke=X.data[_l()];if(mS(Ke,P)&&!dS(X,he)){let rt=P?Ke.classesWithoutHost:Ke.stylesWithoutHost;null!==rt&&(b=Au(rt,b||"")),Ah(X,Ke,Ie,b,P)}else!function pS(o,d,b,P,X,he,Ie,Ke){X===wo&&(X=We);let rt=0,Tt=0,Nt=0<X.length?X[0]:null,cn=0<he.length?he[0]:null;for(;null!==Nt||null!==cn;){const Cn=rt<X.length?X[rt+1]:void 0,Bn=Tt<he.length?he[Tt+1]:void 0;let vr,Zn=null;Nt===cn?(rt+=2,Tt+=2,Cn!==Bn&&(Zn=cn,vr=Bn)):null===cn||null!==Nt&&Nt<cn?(rt+=2,Zn=Nt):(Tt+=2,Zn=cn,vr=Bn),null!==Zn&&Ih(o,d,b,P,Zn,vr,Ie,Ke),Nt=rt<X.length?X[rt]:null,cn=Tt<he.length?he[Tt]:null}}(X,Ke,Ie,Ie[_i],Ie[he+1],Ie[he+1]=function Th(o,d,b){if(null==b||""===b)return We;const P=[],X=Jh(b);if(Array.isArray(X))for(let he=0;he<X.length;he++)o(P,X[he],!0);else if("object"==typeof X)for(const he in X)X.hasOwnProperty(he)&&o(P,he,X[he]);else"string"==typeof X&&d(P,X);return P}(o,d,b),P,he)}}function dS(o,d){return d>=o.expandoStartIndex}function uS(o,d,b,P){const X=o.data;if(null===X[b+1]){const he=X[_l()],Ie=dS(o,b);mS(he,P)&&null===d&&!Ie&&(d=!1),d=function fS(o,d,b,P){const X=r2(o);let he=P?d.residualClasses:d.residualStyles;if(null===X)0===(P?d.classBindings:d.styleBindings)&&(b=dg(b=lg(null,o,d,b,P),d.attrs,P),he=null);else{const Ie=d.directiveStylingLast;if(-1===Ie||o[Ie]!==X)if(b=lg(X,o,d,b,P),null===he){let rt=function cm(o,d,b){const P=b?d.classBindings:d.styleBindings;if(0!==Sd(P))return o[mu(P)]}(o,d,P);void 0!==rt&&Array.isArray(rt)&&(rt=lg(null,o,d,rt[1],P),rt=dg(rt,d.attrs,P),function mp(o,d,b,P){o[mu(b?d.classBindings:d.styleBindings)]=P}(o,d,P,rt))}else he=function hS(o,d,b){let P;const X=d.directiveEnd;for(let he=1+d.directiveStylingLast;he<X;he++)P=dg(P,o[he].hostAttrs,b);return dg(P,d.attrs,b)}(o,d,P)}return void 0!==he&&(P?d.residualClasses=he:d.residualStyles=he),b}(X,he,d,P),function FD(o,d,b,P,X,he){let Ie=he?d.classBindings:d.styleBindings,Ke=mu(Ie),rt=Sd(Ie);o[P]=b;let Nt,Tt=!1;if(Array.isArray(b)?(Nt=b[1],(null===Nt||or(b,Nt)>0)&&(Tt=!0)):Nt=b,X)if(0!==rt){const Cn=mu(o[Ke+1]);o[P+1]=rc(Cn,Ke),0!==Cn&&(o[Cn+1]=hp(o[Cn+1],P)),o[Ke+1]=function E1(o,d){return 131071&o|d<<17}(o[Ke+1],P)}else o[P+1]=rc(Ke,0),0!==Ke&&(o[Ke+1]=hp(o[Ke+1],P)),Ke=P;else o[P+1]=rc(rt,0),0===Ke?Ke=P:o[rt+1]=hp(o[rt+1],P),rt=P;Tt&&(o[P+1]=x1(o[P+1])),M1(o,Nt,P,!0),M1(o,Nt,P,!1),function cg(o,d,b,P,X){const he=X?o.residualClasses:o.residualStyles;null!=he&&"string"==typeof d&&or(he,d)>=0&&(b[P+1]=xc(b[P+1]))}(d,Nt,o,P,he),Ie=rc(Ke,rt),he?d.classBindings=Ie:d.styleBindings=Ie}(X,he,d,b,Ie,P)}}function lg(o,d,b,P,X){let he=null;const Ie=b.directiveEnd;let Ke=b.directiveStylingLast;for(-1===Ke?Ke=b.directiveStart:Ke++;Ke<Ie&&(he=d[Ke],P=dg(P,he.hostAttrs,X),he!==o);)Ke++;return null!==o&&(b.directiveStylingLast=Ke),P}function dg(o,d,b){const P=b?1:2;let X=-1;if(null!==d)for(let he=0;he<d.length;he++){const Ie=d[he];"number"==typeof Ie?X=Ie:X===P&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),hn(o,Ie,!!b||d[++he]))}return void 0===o?null:o}function A1(o,d,b){const P=String(d);""!==P&&!P.includes(" ")&&hn(o,P,b)}function Ih(o,d,b,P,X,he,Ie,Ke){if(!(3&d.type))return;const rt=o.data,Tt=rt[Ke+1],Nt=function ag(o){return!(1&~o)}(Tt)?A0(rt,d,b,X,Sd(Tt),Ie):void 0;ug(Nt)||(ug(he)||function jb(o){return!(2&~o)}(Tt)&&(he=A0(rt,null,b,X,Ke,Ie)),function wI(o,d,b,P,X){if(d)X?o.addClass(b,P):o.removeClass(b,P);else{let he=-1===P.indexOf("-")?void 0:C_.DashCase;null==X?o.removeStyle(b,P,he):("string"==typeof X&&X.endsWith("!important")&&(X=X.slice(0,-10),he|=C_.Important),o.setStyle(b,P,X,he))}}(P,Ie,pv(_l(),b),X,he))}function A0(o,d,b,P,X,he){const Ie=null===d;let Ke;for(;X>0;){const rt=o[X],Tt=Array.isArray(rt),Nt=Tt?rt[1]:rt,cn=null===Nt;let Cn=b[X+1];Cn===wo&&(Cn=cn?We:void 0);let Bn=cn?Vn(Cn,P):Nt===P?Cn:void 0;if(Tt&&!ug(Bn)&&(Bn=Vn(rt,P)),ug(Bn)&&(Ke=Bn,Ie))return Ke;const Zn=o[X+1];X=Ie?mu(Zn):Sd(Zn)}if(null!==d){let rt=he?d.residualClasses:d.residualStyles;null!=rt&&(Ke=Vn(rt,P))}return Ke}function ug(o){return void 0!==o}function mS(o,d){return!!(o.flags&(d?8:16))}function Hb(o,d,b){lf(hn,zf,lp(br(),o,d,b),!0)}class ZD{destroy(d){}updateValue(d,b){}swap(d,b){const P=Math.min(d,b),X=Math.max(d,b),he=this.detach(X);if(X-P>1){const Ie=this.detach(P);this.attach(P,he),this.attach(X,Ie)}else this.attach(P,he)}move(d,b){this.attach(b,this.detach(d))}}function yp(o,d,b,P,X){return o===b&&Object.is(d,P)?1:Object.is(X(o,d),X(b,P))?-1:0}function I1(o,d,b,P){return!(void 0===d||!d.has(P)||(o.attach(b,d.get(P)),d.delete(P),0))}function D1(o,d,b,P,X){if(I1(o,d,P,b(P,X)))o.updateValue(P,X);else{const he=o.create(P,X);o.attach(P,he)}}function C1(o,d,b,P){const X=new Set;for(let he=d;he<=b;he++)X.add(P(he,o.at(he)));return X}class bS{constructor(){this.kvMap=new Map,this._vMap=void 0}has(d){return this.kvMap.has(d)}delete(d){if(!this.has(d))return!1;const b=this.kvMap.get(d);return void 0!==this._vMap&&this._vMap.has(b)?(this.kvMap.set(d,this._vMap.get(b)),this._vMap.delete(b)):this.kvMap.delete(d),!0}get(d){return this.kvMap.get(d)}set(d,b){if(this.kvMap.has(d)){let P=this.kvMap.get(d);void 0===this._vMap&&(this._vMap=new Map);const X=this._vMap;for(;X.has(P);)P=X.get(P);X.set(P,b)}else this.kvMap.set(d,b)}forEach(d){for(let[b,P]of this.kvMap)if(d(P,b),void 0!==this._vMap){const X=this._vMap;for(;X.has(P);)P=X.get(P),d(P,b)}}}function T0(o,d){Kl("NgControlFlow");const b=br(),P=Ud(),X=b[P]!==wo?b[P]:-1,he=-1!==X?hg(b,Ci+X):void 0;if(ks(b,P,o)){const Ke=R(null);try{if(void 0!==he&&mx(he,0),-1!==o){const rt=Ci+o,Tt=hg(b,rt),Nt=k1(b[$r],rt),cn=d0(Tt,Nt.tView.ssrId);$y(Tt,a0(b,Nt,d,{dehydratedView:cn}),0,Yp(Nt,cn))}}finally{R(Ke)}}else if(void 0!==he){const Ke=jI(he,0);void 0!==Ke&&(Ke[na]=d)}}class XD{constructor(d,b,P){this.lContainer=d,this.$implicit=b,this.$index=P}get $count(){return this.lContainer.length-bc}}function wS(o){return o}function _S(o,d){return d}class YD{constructor(d,b,P){this.hasEmptyBlock=d,this.trackByFn=b,this.liveCollection=P}}function ES(o,d,b,P,X,he,Ie,Ke,rt,Tt,Nt,cn,Cn){Kl("NgControlFlow");const Bn=br(),Zn=Bo(),vr=void 0!==rt,Br=br(),Hr=Ke?Ie.bind(Br[za][na]):Ie,_r=new YD(vr,Hr);Br[Ci+o]=_r,Db(Bn,Zn,o+1,d,b,P,X,Fu(Zn.consts,he)),vr&&Db(Bn,Zn,o+2,rt,Tt,Nt,cn,Fu(Zn.consts,Cn))}class JD extends ZD{constructor(d,b,P){super(),this.lContainer=d,this.hostLView=b,this.templateTNode=P,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-bc}at(d){return this.getLView(d)[na].$implicit}attach(d,b){const P=b[As];this.needsIndexUpdate||=d!==this.length,$y(this.lContainer,b,d,Yp(this.templateTNode,P))}detach(d){return this.needsIndexUpdate||=d!==this.length-1,function SS(o,d){return Wv(o,d)}(this.lContainer,d)}create(d,b){const P=d0(this.lContainer,this.templateTNode.tView.ssrId),X=a0(this.hostLView,this.templateTNode,new XD(this.lContainer,b,d),{dehydratedView:P});return this.operationsCounter?.recordCreate(),X}destroy(d){P_(d[$r],d),this.operationsCounter?.recordDestroy()}updateValue(d,b){this.getLView(d)[na].$implicit=b}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let d=0;d<this.length;d++)this.getLView(d)[na].$index=d}getLView(d){return function gu(o,d){return jI(o,d)}(this.lContainer,d)}}function xS(o){const d=R(null),b=_l();try{const P=br(),X=P[$r],he=P[b],Ie=b+1,Ke=hg(P,Ie);if(void 0===he.liveCollection){const Tt=k1(X,Ie);he.liveCollection=new JD(Ke,P,Tt)}else he.liveCollection.reset();const rt=he.liveCollection;if(function vS(o,d,b){let P,X,he=0,Ie=o.length-1;if(Array.isArray(d)){let rt=d.length-1;for(;he<=Ie&&he<=rt;){const Tt=o.at(he),Nt=d[he],cn=yp(he,Tt,he,Nt,b);if(0!==cn){cn<0&&o.updateValue(he,Nt),he++;continue}const Cn=o.at(Ie),Bn=d[rt],Zn=yp(Ie,Cn,rt,Bn,b);if(0!==Zn){Zn<0&&o.updateValue(Ie,Bn),Ie--,rt--;continue}const vr=b(he,Tt),Br=b(Ie,Cn),Hr=b(he,Nt);if(Object.is(Hr,Br)){const _r=b(rt,Bn);Object.is(_r,vr)?(o.swap(he,Ie),o.updateValue(Ie,Bn),rt--,Ie--):o.move(Ie,he),o.updateValue(he,Nt),he++}else if(P??=new bS,X??=C1(o,he,Ie,b),I1(o,P,he,Hr))o.updateValue(he,Nt),he++,Ie++;else if(X.has(Hr))P.set(vr,o.detach(he)),Ie--;else{const _r=o.create(he,d[he]);o.attach(he,_r),he++,Ie++}}for(;he<=rt;)D1(o,P,b,he,d[he]),he++}else if(null!=d){const rt=d[Symbol.iterator]();let Tt=rt.next();for(;!Tt.done&&he<=Ie;){const Nt=o.at(he),cn=Tt.value,Cn=yp(he,Nt,he,cn,b);if(0!==Cn)Cn<0&&o.updateValue(he,cn),he++,Tt=rt.next();else{P??=new bS,X??=C1(o,he,Ie,b);const Bn=b(he,cn);if(I1(o,P,he,Bn))o.updateValue(he,cn),he++,Ie++,Tt=rt.next();else if(X.has(Bn)){const Zn=b(he,Nt);P.set(Zn,o.detach(he)),Ie--}else o.attach(he,o.create(he,cn)),he++,Ie++,Tt=rt.next()}}for(;!Tt.done;)D1(o,P,b,o.length,Tt.value),Tt=rt.next()}for(;he<=Ie;)o.destroy(o.detach(Ie--));P?.forEach(rt=>{o.destroy(rt)})}(rt,o,he.trackByFn),rt.updateIndexes(),he.hasEmptyBlock){const Tt=Ud(),Nt=0===rt.length;if(ks(P,Tt,Nt)){const cn=b+2,Cn=hg(P,cn);if(Nt){const Bn=k1(X,cn),Zn=d0(Cn,Bn.tView.ssrId);$y(Cn,a0(P,Bn,void 0,{dehydratedView:Zn}),0,Yp(Bn,Zn))}else mx(Cn,0)}}}finally{R(d)}}function hg(o,d){return o[d]}function k1(o,d){return Ti(o,d)}function Wb(o,d,b,P){const X=br(),he=Bo(),Ie=Ci+o,Ke=X[_i],rt=he.firstCreatePass?function qD(o,d,b,P,X,he){const Ie=d.consts,rt=o0(d,o,2,P,Fu(Ie,X));return dx(d,b,rt,Fu(Ie,he)),null!==rt.attrs&&yb(rt,rt.attrs,!1),null!==rt.mergedAttrs&&yb(rt,rt.mergedAttrs,!0),null!==d.queries&&d.queries.elementStart(d,rt),rt}(Ie,he,X,d,b,P):he.data[Ie],Tt=MS(he,X,rt,Ke,d,o);X[Ie]=Tt;const Nt=Vw(rt);return Pf(rt,!0),EI(Ke,Tt,rt),!function op(o){return!(32&~o.flags)}(rt)&&wv()&&Gv(he,X,Tt,rt),0===function CA(){return co.lFrame.elementDepthCount}()&&jc(Tt,X),function ts(){co.lFrame.elementDepthCount++}(),Nt&&(Nf(he,X,rt),ax(he,rt,X)),null!==P&&cx(X,rt),Wb}function Gb(){let o=ss();e2()?vv():(o=o.parent,Pf(o,!1));const d=o;(function wl(o){return co.skipHydrationRootTNode===o})(d)&&function Km(){co.skipHydrationRootTNode=null}(),function kA(){co.lFrame.elementDepthCount--}();const b=Bo();return b.firstCreatePass&&(xy(b,o),wA(o)&&b.queries.elementEnd(o)),null!=d.classesWithoutHost&&function XA(o){return!!(8&o.flags)}(d)&&Ah(b,d,br(),d.classesWithoutHost,!0),null!=d.stylesWithoutHost&&function Ku(o){return!!(16&o.flags)}(d)&&Ah(b,d,br(),d.stylesWithoutHost,!1),Gb}function P1(o,d,b,P){return Wb(o,d,b,P),Gb(),P1}let MS=(o,d,b,P,X,he)=>(hh(!0),k_(P,X,function HA(){return co.lFrame.currentNamespace}()));function pg(o,d,b){const P=br(),X=Bo(),he=o+Ci,Ie=X.firstCreatePass?function AS(o,d,b,P,X){const he=d.consts,Ie=Fu(he,P),Ke=o0(d,o,8,"ng-container",Ie);return null!==Ie&&yb(Ke,Ie,!0),dx(d,b,Ke,Fu(he,X)),null!==d.queries&&d.queries.elementStart(d,Ke),Ke}(he,X,P,d,b):X.data[he];Pf(Ie,!0);const Ke=TS(X,P,Ie,o);return P[he]=Ke,wv()&&Gv(X,P,Ke,Ie),jc(Ke,P),Vw(Ie)&&(Nf(X,P,Ie),ax(X,Ie,P)),null!=b&&cx(P,Ie),pg}function I0(){let o=ss();const d=Bo();return e2()?vv():(o=o.parent,Pf(o,!1)),d.firstCreatePass&&(xy(d,o),wA(o)&&d.queries.elementEnd(o)),I0}function Sc(o,d,b){return pg(o,d,b),I0(),Sc}let TS=(o,d,b,P)=>(hh(!0),Zu(d[_i],""));function vp(){return br()}function bp(o,d,b){const P=br();return ks(P,Ud(),d)&&jd(Bo(),pa(),P,o,d,P[_i],b,!0),bp}function lm(o,d,b){const P=br();if(ks(P,Ud(),d)){const he=Bo(),Ie=pa();jd(he,Ie,P,o,d,LI(r2(he.data),Ie,P),b,!0)}return lm}const ql=void 0;var Zb=["en",[["a","p"],["AM","PM"],ql],[["AM","PM"],ql,ql],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ql,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ql,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ql,"{1} 'at' {0}",ql],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function R1(o){const b=Math.floor(Math.abs(o)),P=o.toString().replace(/^[^.]*\.?/,"").length;return 1===b&&0===P?1:5}];let dm={};function wp(o){const d=function Ch(o){return o.toLowerCase().replace(/_/g,"-")}(o);let b=_p(d);if(b)return b;const P=d.split("-")[0];if(b=_p(P),b)return b;if("en"===P)return Zb;throw new Kn(701,!1)}function C0(o){return wp(o)[Gd.PluralCase]}function _p(o){return o in dm||(dm[o]=mo.ng&&mo.ng.common&&mo.ng.common.locales&&mo.ng.common.locales[o]),dm[o]}var Gd=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(Gd||{});const P0="en-US",Xb={marker:"element"},Yb={marker:"ICU"};var Td=function(o){return o[o.SHIFT=2]="SHIFT",o[o.APPEND_EAGERLY=1]="APPEND_EAGERLY",o[o.COMMENT=2]="COMMENT",o}(Td||{});let IS=P0;let Ph=(o,d,b,P)=>(hh(!0),function yg(o,d,b){const P=o[_i];switch(b){case Node.COMMENT_NODE:return Zu(P,d);case Node.TEXT_NODE:return Xp(P,d);case Node.ELEMENT_NODE:return k_(P,d,null)}}(o,b,P));const vg=/\ufffd(\d+):?\d*\ufffd/gi,bg=/\ufffd(\d+)\ufffd/,PS=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Oh="\ufffd",Q4=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,uf=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,o3=/\uE500/g;function s3(o,d,b,P,X,he,Ie){const Ke=Yv(o,P,1,null);let rt=Ke<<Td.SHIFT,Tt=gv();d===Tt&&(Tt=null),null===Tt&&(rt|=Td.APPEND_EAGERLY),Ie&&(rt|=Td.COMMENT,function c8(o){void 0===e0&&(e0=o())}(j4)),X.push(rt,null===he?"":he);const Nt=sx(o,Ke,Ie?32:1,null===he?"":he,null);xx(b,Nt);const cn=Nt.index;return Pf(Nt,!1),null!==Tt&&d!==Tt&&function $_(o,d){let b=o.insertBeforeIndex;null===b?(gI(GI,ZI),b=o.insertBeforeIndex=[null,d]):(Qa(Array.isArray(b),!0,"Expecting array here"),b.push(d))}(Tt,cn),Nt}function qk(o,d,b,P,X,he,Ie,Ke){const rt=Ke.match(vg),Nt=s3(d,b,P,Ie,X,rt?null:Ke,!1).index;rt&&R0(he,Ke,Nt,null,0,null),o.push({kind:0,index:Nt})}function R0(o,d,b,P,X,he){const Ie=o.length,Ke=Ie+1;o.push(null,null);const rt=Ie+2,Tt=d.split(vg);let Nt=0;for(let cn=0;cn<Tt.length;cn++){const Cn=Tt[cn];if(1&cn){const Bn=X+parseInt(Cn,10);o.push(-1-Bn),Nt|=RS(Bn)}else""!==Cn&&o.push(Cn)}return o.push(b<<2|(P?1:0)),P&&o.push(P,he),o[Ie]=Nt,o[Ke]=o.length-rt,Nt}function RS(o){return 1<<Math.min(o,31)}function Hc(o){let d,he,b="",P=0,X=!1;for(;null!==(d=Q4.exec(o));)X?d[0]===`${Oh}/*${he}${Oh}`&&(P=d.index,X=!1):(b+=o.substring(P,d.index+d[0].length),he=d[1],X=!0);return b+=o.slice(P),b}function $s(o,d,b,P,X,he,Ie){let Ke=0;const rt={type:he.type,currentCaseLViewIndex:Yv(d,b,1,null),anchorIdx:Ie,cases:[],create:[],remove:[],update:[]};(function BS(o,d,b){o.push(RS(d.mainBinding),2,-1-d.mainBinding,b<<2|2)})(P,he,Ie),function tp(o,d,b){const P=o.data[d];null===P?o.data[d]=b:P.value=b}(d,Ie,rt);const Tt=he.values,Nt=[];for(let cn=0;cn<Tt.length;cn++){const Cn=Tt[cn],Bn=[];for(let vr=0;vr<Cn.length;vr++){const Br=Cn[vr];if("string"!=typeof Br){const Hr=Bn.push(Br)-1;Cn[vr]=`\x3c!--\ufffd${Hr}\ufffd--\x3e`}}const Zn=[];Nt.push(Zn),Ke=Sp(Zn,d,rt,b,P,X,he.cases[cn],Cn.join(""),Bn)|Ke}Ke&&function wg(o,d,b){o.push(d,1,b<<2|3)}(P,Ke,Ie),o.push({kind:3,index:Ie,cases:Nt,currentCaseLViewIndex:rt.currentCaseLViewIndex})}function ga(o){const d=[],b=[];let P=1,X=0;const he=Jb(o=o.replace(PS,function(Ie,Ke,rt){return P="select"===rt?0:1,X=parseInt(Ke.slice(1),10),""}));for(let Ie=0;Ie<he.length;){let Ke=he[Ie++].trim();1===P&&(Ke=Ke.replace(/\s*(?:=)?(\w+)\s*/,"$1")),Ke.length&&d.push(Ke);const rt=Jb(he[Ie++]);d.length>b.length&&b.push(rt)}return{type:P,mainBinding:X,cases:d,values:b}}function Jb(o){if(!o)return[];let d=0;const b=[],P=[],X=/[{}]/g;let he;for(X.lastIndex=0;he=X.exec(o);){const Ke=he.index;if("}"==he[0]){if(b.pop(),0==b.length){const rt=o.substring(d,Ke);PS.test(rt)?P.push(ga(rt)):P.push(rt),d=Ke+1}}else{if(0==b.length){const rt=o.substring(d,Ke);P.push(rt),d=Ke+1}b.push("{")}}const Ie=o.substring(d);return P.push(Ie),P}function Sp(o,d,b,P,X,he,Ie,Ke,rt){const Tt=[],Nt=[],cn=[];b.cases.push(Ie),b.create.push(Tt),b.remove.push(Nt),b.update.push(cn);const Bn=$2(Vp()).getInertBodyElement(Ke),Zn=W2(Bn)||Bn;return Zn?qb(o,d,b,P,X,Tt,Nt,cn,Zn,he,rt,0):0}function qb(o,d,b,P,X,he,Ie,Ke,rt,Tt,Nt,cn){let Cn=0,Bn=rt.firstChild;for(;Bn;){const Zn=Yv(d,P,1,null);switch(Bn.nodeType){case Node.ELEMENT_NODE:const vr=Bn,Br=vr.tagName.toLowerCase();if(K2.hasOwnProperty(Br)){NS(he,Xb,Br,Tt,Zn),d.data[Zn]=Br;const is=vr.attributes;for(let Zc=0;Zc<is.length;Zc++){const Tc=is.item(Zc),Vg=Tc.name.toLowerCase();Tc.value.match(vg)?M_.hasOwnProperty(Vg)&&R0(Ke,Tc.value,Zn,Tc.name,0,V2[Vg]?E_:null):_g(he,Zn,Tc)}const sa={kind:1,index:Zn,children:[]};o.push(sa),Cn=qb(sa.children,d,b,P,X,he,Ie,Ke,Bn,Zn,Nt,cn+1)|Cn,Zs(Ie,Zn,cn)}break;case Node.TEXT_NODE:const Hr=Bn.textContent||"",_r=Hr.match(vg);NS(he,null,_r?"":Hr,Tt,Zn),Zs(Ie,Zn,cn),_r&&(Cn=R0(Ke,Hr,Zn,null,0,null)|Cn),o.push({kind:0,index:Zn});break;case Node.COMMENT_NODE:const io=bg.exec(Bn.textContent||"");if(io){const sa=Nt[parseInt(io[1],10)];NS(he,Yb,"",Tt,Zn),$s(o,d,P,X,Tt,sa,Zn),l3(Ie,Zn,cn)}}Bn=Bn.nextSibling}return Cn}function Zs(o,d,b){0===b&&o.push(d)}function l3(o,d,b){0===b&&(o.push(~d),o.push(d))}function NS(o,d,b,P,X){null!==d&&o.push(d),o.push(b,X,function F4(o,d,b){return o|d<<17|b<<1}(0,P,X))}function _g(o,d,b){o.push(d<<1|1,b.name,b.value)}function Eg(o,d,b=-1){const P=Bo(),X=br(),he=Ci+o,Ie=Fu(P.consts,d),Ke=gv();P.firstCreatePass&&function Jk(o,d,b,P,X,he){const Ie=gv(),Ke=[],rt=[],Tt=[[]],Nt=[[]];X=function c3(o,d){if(function sk(o){return-1===o}(d))return Hc(o);{const b=o.indexOf(`:${d}${Oh}`)+2+d.toString().length,P=o.search(new RegExp(`${Oh}\\/\\*\\d+:${d}${Oh}`));return Hc(o.substring(b,P))}}(X,he);const cn=function Yk(o){return o.replace(o3," ")}(X).split(uf);for(let Cn=0;Cn<cn.length;Cn++){let Bn=cn[Cn];if(1&Cn){const Zn=47===Bn.charCodeAt(0),vr=Bn.charCodeAt(Zn?1:0),Br=Ci+Number.parseInt(Bn.substring(Zn?2:1));if(Zn)Tt.shift(),Nt.shift(),Pf(gv(),!1);else{const Hr=U4(o,Tt[0],Br);Tt.unshift([]),Pf(Hr,!0);const _r={kind:2,index:Br,children:[],type:35===vr?0:1};Nt[0].push(_r),Nt.unshift(_r.children)}}else{const Zn=Jb(Bn);for(let vr=0;vr<Zn.length;vr++){let Br=Zn[vr];if(1&vr){const Hr=Br;if("object"!=typeof Hr)throw new Error(`Unable to parse ICU expression in "${X}" message.`);const io=s3(o,Ie,Tt[0],b,Ke,"",!0).index;$s(Nt[0],o,b,rt,d,Hr,io)}else""!==Br&&qk(Nt[0],o,Ie,Tt[0],Ke,rt,b,Br)}}}o.data[P]={create:Ke,update:rt,ast:Nt[0]}}(P,null===Ke?0:Ke.index,X,he,Ie,b),2===P.type?X[za][Ni]|=32:X[Ni]|=32;const rt=P.data[he],Nt=fI(P,Ke===X[el]?null:Ke,X),cn=Ke&&8&Ke.type?X[Ke.index]:null;(function Ix(o,d,b,P){iD(o,d,b,P)})(X,he,Ke,b),function Zk(o,d,b,P){const X=o[_i];for(let he=0;he<d.length;he++){const Ie=d[he++],Tt=(Ie&Td.APPEND_EAGERLY)===Td.APPEND_EAGERLY,Nt=Ie>>>Td.SHIFT;let cn=o[Nt],Cn=!1;null===cn&&(cn=o[Nt]=Ph(o,Nt,d[he],(Ie&Td.COMMENT)===Td.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),Cn=wv()),Tt&&null!==b&&Cn&&t0(X,b,cn,P,!1)}}(X,rt.create,Nt,cn),wy(!0)}function u3(o,d,b){Eg(o,d,b),function N1(){wy(!1)}()}let h3=(o,d,b)=>{};function L1(o,d,b,P){const X=br(),he=Bo(),Ie=ss();return FS(he,X,X[_i],Ie,o,d,P),L1}function US(o,d){const b=ss(),P=br(),X=Bo();return FS(X,P,LI(r2(X.data),b,P),b,o,d),US}function FS(o,d,b,P,X,he,Ie){const Ke=Vw(P),Tt=o.firstCreatePass&&Qv(o),Nt=d[na],cn=qv(d);let Cn=!0;if(3&P.type||Ie){const vr=yd(P,d),Br=Ie?Ie(vr):vr,Hr=cn.length,_r=Ie?is=>Ie(bs(is[P.index])):P.index;let io=null;if(!Ie&&Ke&&(io=function lP(o,d,b,P){const X=o.cleanup;if(null!=X)for(let he=0;he<X.length-1;he+=2){const Ie=X[he];if(Ie===b&&X[he+1]===P){const Ke=d[hy],rt=X[he+2];return Ke.length>rt?Ke[rt]:null}"string"==typeof Ie&&(he+=2)}return null}(o,d,X,P.index)),null!==io)(io.__ngLastListenerFn__||io).__ngNextListenerFn__=he,io.__ngLastListenerFn__=he,Cn=!1;else{he=Sg(P,d,Nt,he),h3(vr,X,he);const is=b.listen(Br,X,he);cn.push(he,is),Tt&&Tt.push(X,_r,Hr,Hr+1)}}else he=Sg(P,d,Nt,he);const Bn=P.outputs;let Zn;if(Cn&&null!==Bn&&(Zn=Bn[X])){const vr=Zn.length;if(vr)for(let Br=0;Br<vr;Br+=2){const sa=d[Zn[Br]][Zn[Br+1]].subscribe(he),Zc=cn.length;cn.push(he,sa),Tt&&Tt.push(X,P.index,Zc,-(Zc+1))}}}function xg(o,d,b,P){const X=R(null);try{return Nu(6,d,b),!1!==b(P)}catch(he){return B_(o,he),!1}finally{Nu(7,d,b),R(X)}}function Sg(o,d,b,P){return function X(he){if(he===Function)return P;U_(o.componentOffset>-1?cu(o.index,d):d,5);let Ke=xg(d,b,P,he),rt=X.__ngNextListenerFn__;for(;rt;)Ke=xg(d,b,rt,he)&&Ke,rt=rt.__ngNextListenerFn__;return Ke}}function m3(o=1){return function Ey(o){return(co.lFrame.contextLView=function Hw(o,d){for(;o>0;)d=d[py],o--;return d}(o,co.lFrame.contextLView))[na]}(o)}function jS(o,d){let b=null;const P=function Lr(o){const d=o.attrs;if(null!=d){const b=d.indexOf(5);if(!(1&b))return d[b+1]}return null}(o);for(let X=0;X<d.length;X++){const he=d[X];if("*"!==he){if(null===P?so(o,he,!0):He(P,he))return X}else b=X}return b}function U1(o){const d=br()[za][el];if(!d.projection){const P=d.projection=function tt(o,d){const b=[];for(let P=0;P<o;P++)b.push(d);return b}(o?o.length:1,null),X=P.slice();let he=d.child;for(;null!==he;){if(128!==he.type){const Ie=o?jS(he,o):0;null!==Ie&&(X[Ie]?X[Ie].projectionNext=he:P[Ie]=he,X[Ie]=he)}he=he.next}}}function $S(o,d=0,b,P,X,he){const Ie=br(),Ke=Bo(),rt=P?o+1:null;null!==rt&&Db(Ie,Ke,rt,P,X,he,null,b);const Tt=o0(Ke,Ci+o,16,null,b||null);null===Tt.projection&&(Tt.projection=d),vv();const cn=!Ie[As]||ju();null===Ie[za][el].projection[Tt.projection]&&null!==rt?function KS(o,d,b){const P=Ci+b,X=d.data[P],he=o[P],Ie=d0(he,X.tView.ssrId);$y(he,a0(o,X,void 0,{dehydratedView:Ie}),0,Yp(X,Ie))}(Ie,Ke,rt):cn&&32&~Tt.flags&&function p8(o,d,b){bI(d[_i],0,d,b,ix(o,b,d),pI(b.parent||d[el],b,d))}(Ke,Ie,Tt)}function F1(o,d,b){return j1(o,"",d,"",b),F1}function j1(o,d,b,P,X){const he=br(),Ie=lp(he,d,b,P);return Ie!==wo&&jd(Bo(),pa(),he,o,Ie,he[_i],X,!1),j1}function K1(o,d,b,P){qu(o,d,b,P)}function Ts(o,d,b){e1(o,d,b)}function N0(o){const d=br(),b=Bo(),P=o2();Gw(P+1);const X=Ct(b,P);if(o.dirty&&function W6(o){return!(4&~o[Ni])}(d)===!(2&~X.metadata.flags)){if(null===X.matches)o.reset([]);else{const he=t1(d,P);o.reset(he,o_),o.notifyOnChanges()}return!0}return!1}function dP(){return Vx(br(),o2())}function w3(o,d,b,P,X){qi(d,qu(o,b,P,X))}function zS(o,d,b,P){qi(o,e1(d,b,P))}function va(o=1){Gw(o2()+o)}function Ra(o,d,b,P){b>=o.data.length&&(o.data[b]=null,o.blueprint[b]=null),d[b]=P}function _3(o){return Uu(function t2(){return co.lFrame.contextLView}(),Ci+o)}function Tg(o,d=""){const b=br(),P=Bo(),X=o+Ci,he=P.firstCreatePass?o0(P,X,1,d,null):P.data[X],Ie=GS(P,b,he,d,o);b[X]=Ie,wv()&&Gv(P,b,Ie,he),Pf(he,!1)}let GS=(o,d,b,P,X)=>(hh(!0),Xp(d[_i],P));function tw(o){return nw("",o,""),tw}function nw(o,d,b){const P=br(),X=lp(P,o,d,b);return X!==wo&&wh(P,_l(),X),nw}function hm(o,d,b,P,X){const he=br(),Ie=function dp(o,d,b,P,X,he){const Ke=Ff(o,Xh(),b,X);return $u(2),Ke?d+Ji(b)+P+Ji(X)+he:wo}(he,o,d,b,P,X);return Ie!==wo&&wh(he,_l(),Ie),hm}function W1(o,d,b,P,X,he,Ie){const Ke=br(),rt=Sh(Ke,o,d,b,P,X,he,Ie);return rt!==wo&&wh(Ke,_l(),rt),W1}function pm(o,d,b){Ei(d)&&(d=d());const P=br();return ks(P,Ud(),d)&&jd(Bo(),pa(),P,o,d,P[_i],b,!1),pm}function Mc(o,d){const b=Ei(o);return b&&o.set(d),b}function X1(o,d){const b=br(),P=Bo(),X=ss();return FS(P,b,b[_i],X,o,d),X1}const M3={};function Id(o){const d=Bo(),b=br(),P=o+Ci;return Pf(o0(d,P,128,null,null),!1),Ra(d,b,P,M3),Id}function rw(o,d,b,P,X){if(o=Si(o),Array.isArray(o))for(let he=0;he<o.length;he++)rw(o[he],d,b,P,X);else{const he=Bo(),Ie=br(),Ke=ss();let rt=Qo(o)?o:Si(o.provide);const Tt=VE(o),Nt=1048575&Ke.providerIndexes,cn=Ke.directiveStart,Cn=Ke.providerIndexes>>20;if(Qo(o)||!o.multi){const Bn=new _v(Tt,X,jy),Zn=QS(rt,d,X?Nt:Nt+Cn,cn);-1===Zn?(d2(Of(Ke,Ie),he,rt),mm(he,o,d.length),d.push(rt),Ke.directiveStart++,Ke.directiveEnd++,X&&(Ke.providerIndexes+=1048576),b.push(Bn),Ie.push(Bn)):(b[Zn]=Bn,Ie[Zn]=Bn)}else{const Bn=QS(rt,d,Nt+Cn,cn),Zn=QS(rt,d,Nt,Nt+Cn),Br=Zn>=0&&b[Zn];if(X&&!Br||!X&&!(Bn>=0&&b[Bn])){d2(Of(Ke,Ie),he,rt);const Hr=function eM(o,d,b,P,X){const he=new _v(o,b,jy);return he.multi=[],he.index=d,he.componentProviders=0,qS(he,X,P&&!b),he}(X?yP:Zd,b.length,X,P,Tt);!X&&Br&&(b[Zn].providerFactory=Hr),mm(he,o,d.length,0),d.push(rt),Ke.directiveStart++,Ke.directiveEnd++,X&&(Ke.providerIndexes+=1048576),b.push(Hr),Ie.push(Hr)}else mm(he,o,Bn>-1?Bn:Zn,qS(b[X?Zn:Bn],Tt,!X&&P));!X&&P&&Br&&b[Zn].componentProviders++}}}function mm(o,d,b,P){const X=Qo(d),he=function gA(o){return!!o.useClass}(d);if(X||he){const rt=(he?Si(d.useClass):d).prototype.ngOnDestroy;if(rt){const Tt=o.destroyHooks||(o.destroyHooks=[]);if(!X&&d.multi){const Nt=Tt.indexOf(b);-1===Nt?Tt.push(b,[P,rt]):Tt[Nt+1].push(P,rt)}else Tt.push(b,rt)}}}function qS(o,d,b){return b&&o.componentProviders++,o.multi.push(d)-1}function QS(o,d,b,P){for(let X=b;X<P;X++)if(d[X]===o)return X;return-1}function Zd(o,d,b,P){return _o(this.multi,[])}function yP(o,d,b,P){const X=this.multi;let he;if(this.providerFactory){const Ie=this.providerFactory.componentProviders,Ke=Hm(b,b[$r],this.providerFactory.index,P);he=Ke.slice(0,Ie),_o(X,he);for(let rt=Ie;rt<Ke.length;rt++)he.push(Ke[rt])}else he=[],_o(X,he);return he}function _o(o,d){for(let b=0;b<o.length;b++)d.push((0,o[b])());return d}function L0(o,d=[]){return b=>{b.providersResolver=(P,X)=>function JS(o,d,b){const P=Bo();if(P.firstCreatePass){const X=uh(o);rw(b,P.data,P.blueprint,X,!0),rw(d,P.data,P.blueprint,X,!1)}}(P,X?X(o):o,d)}}let Dg=(()=>{class o{constructor(b){this._injector=b,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(b){if(!b.standalone)return null;if(!this.cachedInjectors.has(b)){const P=LE(0,b.type),X=P.length>0?Ws([P],this._injector,`Standalone[${b.type.name}]`):null;this.cachedInjectors.set(b,X)}return this.cachedInjectors.get(b)}ngOnDestroy(){try{for(const b of this.cachedInjectors.values())null!==b&&b.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Uo({token:o,providedIn:"environment",factory:()=>new o($i(su))})}return o})();function Y1(o){Kl("NgStandalone"),o.getStandaloneInjector=d=>d.get(Dg).getOrCreateStandaloneInjector(o)}function nM(o,d,b){const P=gd()+o,X=br();return X[P]===wo?Uf(X,P,b?d.call(b):d()):function Jy(o,d){return o[d]}(X,P)}function J1(o,d,b,P){return sw(br(),gd(),o,d,b,P)}function q1(o,d,b,P,X){return function Wf(o,d,b,P,X,he,Ie){const Ke=d+b;return Ff(o,Ke,X,he)?Uf(o,Ke+2,Ie?P.call(Ie,X,he):P(X,he)):Hf(o,Ke+2)}(br(),gd(),o,d,b,P,X)}function Hf(o,d){const b=o[d];return b===wo?void 0:b}function sw(o,d,b,P,X,he){const Ie=d+b;return ks(o,Ie,X)?Uf(o,Ie+1,he?P.call(he,X):P(X)):Hf(o,Ie+1)}function er(o,d){const b=Bo();let P;const X=o+Ci;b.firstCreatePass?(P=function iM(o,d){if(d)for(let b=d.length-1;b>=0;b--){const P=d[b];if(o===P.name)return P}}(d,b.pipeRegistry),b.data[X]=P,P.onDestroy&&(b.destroyHooks??=[]).push(X,P.onDestroy)):P=b.data[X];const he=P.factory||(P.factory=Ru(P.type)),Ke=Ro(jy);try{const rt=du(!1),Tt=he();return du(rt),Ra(b,br(),X,Tt),Tt}finally{Ro(Ke)}}function eE(o,d,b){const P=o+Ci,X=br(),he=Uu(X,P);return function tE(o,d){return o[$r].data[d].pure}(X,P)?sw(X,gd(),d,he.transform,b,he):he.transform(b)}function cw(o,d){return F_(o,d)}class IP{constructor(d){this.full=d;const b=d.split(".");this.major=b[0],this.minor=b[1],this.patch=b.slice(2).join(".")}}let DP=(()=>{class o{log(b){console.log(b)}warn(b){console.warn(b)}static#e=this.\u0275fac=function(P){return new(P||o)};static#t=this.\u0275prov=Uo({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();const jP=new zi(""),mM=new zi("");let lE,H3=(()=>{class o{constructor(b,P,X){this._ngZone=b,this.registry=P,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,lE||(function G3(o){lE=o}(X),X.addToWindow(P)),this._watchAngularEvents(),b.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ma.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let b=this._callbacks.pop();clearTimeout(b.timeoutId),b.doneCb()}});else{let b=this.getPendingTasks();this._callbacks=this._callbacks.filter(P=>!P.updateCb||!P.updateCb(b)||(clearTimeout(P.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(b=>({source:b.source,creationLocation:b.creationLocation,data:b.data})):[]}addCallback(b,P,X){let he=-1;P&&P>0&&(he=setTimeout(()=>{this._callbacks=this._callbacks.filter(Ie=>Ie.timeoutId!==he),b()},P)),this._callbacks.push({doneCb:b,timeoutId:he,updateCb:X})}whenStable(b,P,X){if(X&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(b,P,X),this._runCallbacksIfReady()}registerApplication(b){this.registry.registerApplication(b,this)}unregisterApplication(b){this.registry.unregisterApplication(b)}findProviders(b,P,X){return[]}static#e=this.\u0275fac=function(P){return new(P||o)($i(Ma),$i(W3),$i(mM))};static#t=this.\u0275prov=Uo({token:o,factory:o.\u0275fac})}return o})(),W3=(()=>{class o{constructor(){this._applications=new Map}registerApplication(b,P){this._applications.set(b,P)}unregisterApplication(b){this._applications.delete(b)}unregisterAllApplications(){this._applications.clear()}getTestability(b){return this._applications.get(b)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(b,P=!0){return lE?.findTestabilityInTree(this,b,P)??null}static#e=this.\u0275fac=function(P){return new(P||o)};static#t=this.\u0275prov=Uo({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();function yM(o){return!!o&&"function"==typeof o.then}function dE(o){return!!o&&"function"==typeof o.subscribe}const gM=new zi("");let fw=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((b,P)=>{this.resolve=b,this.reject=P}),this.appInits=Ir(gM,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const b=[];for(const X of this.appInits){const he=X();if(yM(he))b.push(he);else if(dE(he)){const Ie=new Promise((Ke,rt)=>{he.subscribe({complete:Ke,error:rt})});b.push(Ie)}}const P=()=>{this.done=!0,this.resolve()};Promise.all(b).then(()=>{P()}).catch(X=>{this.reject(X)}),0===b.length&&P(),this.initialized=!0}static#e=this.\u0275fac=function(P){return new(P||o)};static#t=this.\u0275prov=Uo({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const uE=new zi("");let ff=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ir(i_),this.afterRenderEffectManager=Ir(Wy),this.zonelessEnabled=Ir(u0),this.externalTestViews=new Set,this.beforeRender=new pe.B,this.afterTick=new pe.B,this.componentTypes=[],this.components=[],this.isStable=Ir(Wm).hasPendingTasks.pipe((0,Q.T)(b=>!b)),this._injector=Ir(su)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(b,P){const X=b instanceof cD;if(!this._injector.get(fw).done)throw!X&&Ka(b),new Kn(405,!1);let Ie;Ie=X?b:this._injector.get(hb).resolveComponentFactory(b),this.componentTypes.push(Ie.componentType);const Ke=function H0(o){return o.isBoundToModule}(Ie)?void 0:this._injector.get(Ga),Tt=Ie.create(tl.NULL,[],P||Ie.selector,Ke),Nt=Tt.location.nativeElement,cn=Tt.injector.get(jP,null);return cn?.registerApplication(Nt),Tt.onDestroy(()=>{this.detachView(Tt.hostView),fE(this.components,Tt),cn?.unregisterApplication(Nt)}),this._loadComponent(Tt),Tt}tick(){this._tick(!0)}_tick(b){if(this._runningTick)throw new Kn(101,!1);const P=R(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(b)}catch(X){this.internalErrorHandler(X)}finally{this._runningTick=!1,R(P),this.afterTick.next()}}detectChangesInAttachedViews(b){let P=null;this._injector.destroyed||(P=this._injector.get(pb,null,{optional:!0}));let X=0;const he=this.afterRenderEffectManager;for(;X<10;){const Ie=0===X;if(b||!Ie){this.beforeRender.next(Ie);for(let{_lView:Ke,notifyErrorHandler:rt}of this._views)$P(Ke,rt,Ie,this.zonelessEnabled)}else P?.begin?.(),P?.end?.();if(X++,he.executeInternalCallbacks(),!this.allViews.some(({_lView:Ke})=>mv(Ke))&&(he.execute(),!this.allViews.some(({_lView:Ke})=>mv(Ke))))break}}attachView(b){const P=b;this._views.push(P),P.attachToAppRef(this)}detachView(b){const P=b;fE(this._views,P),P.detachFromAppRef()}_loadComponent(b){this.attachView(b.hostView),this.tick(),this.components.push(b);const P=this._injector.get(uE,[]);[...this._bootstrapListeners,...P].forEach(X=>X(b))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(b=>b()),this._views.slice().forEach(b=>b.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(b){return this._destroyListeners.push(b),()=>fE(this._destroyListeners,b)}destroy(){if(this._destroyed)throw new Kn(406,!1);const b=this._injector;b.destroy&&!b.destroyed&&b.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(P){return new(P||o)};static#t=this.\u0275prov=Uo({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function fE(o,d){const b=o.indexOf(d);b>-1&&o.splice(b,1)}function $P(o,d,b,P){(b||mv(o))&&tb(o,d,b&&!P?0:1)}class fB{constructor(d,b){this.ngModuleFactory=d,this.componentFactories=b}}let KP=(()=>{class o{compileModuleSync(b){return new qx(b)}compileModuleAsync(b){return Promise.resolve(this.compileModuleSync(b))}compileModuleAndAllComponentsSync(b){const P=this.compileModuleSync(b),he=Wu(Ri(b).declarations).reduce((Ie,Ke)=>{const rt=yi(Ke);return rt&&Ie.push(new Zy(rt)),Ie},[]);return new fB(P,he)}compileModuleAndAllComponentsAsync(b){return Promise.resolve(this.compileModuleAndAllComponentsSync(b))}clearCache(){}clearCacheFor(b){}getModuleId(b){}static#e=this.\u0275fac=function(P){return new(P||o)};static#t=this.\u0275prov=Uo({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),mE=(()=>{class o{constructor(){this.zone=Ir(Ma),this.changeDetectionScheduler=Ir(qp),this.applicationRef=Ir(ff)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(P){return new(P||o)};static#t=this.\u0275prov=Uo({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const J3=new zi("",{factory:()=>!1});function yE({ngZoneFactory:o,ignoreChangesOutsideZone:d}){return o??=()=>new Ma(ed()),[{provide:Ma,useFactory:o},{provide:Me,multi:!0,useFactory:()=>{const b=Ir(mE,{optional:!0});return()=>b.initialize()}},{provide:Me,multi:!0,useFactory:()=>{const b=Ir(gE);return()=>{b.initialize()}}},!0===d?{provide:aD,useValue:!0}:[]]}function wM(o){const d=o?.ignoreChangesOutsideZone,b=yE({ngZoneFactory:()=>{const P=ed(o);return P.shouldCoalesceEventChangeDetection&&Kl("NgZone_CoalesceEvent"),new Ma(P)},ignoreChangesOutsideZone:d});return Uw([{provide:J3,useValue:!0},{provide:u0,useValue:!1},b])}function ed(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}let gE=(()=>{class o{constructor(){this.subscription=new fe.yU,this.initialized=!1,this.zone=Ir(Ma),this.pendingTasks=Ir(Wm)}initialize(){if(this.initialized)return;this.initialized=!0;let b=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(b=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ma.assertNotInAngularZone(),queueMicrotask(()=>{null!==b&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(b),b=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ma.assertInAngularZone(),b??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(P){return new(P||o)};static#t=this.\u0275prov=Uo({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Bg=(()=>{class o{constructor(){this.appRef=Ir(ff),this.taskService=Ir(Wm),this.ngZone=Ir(Ma),this.zonelessEnabled=Ir(u0),this.disableScheduling=Ir(aD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new fe.yU,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof y2||!this.zoneIsDefined)}notify(b){if(!this.zonelessEnabled&&5===b)return;switch(b){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const P=this.useMicrotaskScheduler?h2:mT;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=P(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=P(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Ma.isInAngularZone())}tick(b){if(this.runningTick||this.appRef.destroyed)return;const P=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(b)},void 0,this.schedulerTickApplyArgs)}catch(X){throw this.taskService.remove(P),X}finally{this.cleanup()}this.useMicrotaskScheduler=!0,h2(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(P)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const b=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(b)}}static#e=this.\u0275fac=function(P){return new(P||o)};static#t=this.\u0275prov=Uo({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const Sm=new zi("",{providedIn:"root",factory:()=>Ir(Sm,eo.Optional|eo.SkipSelf)||function SM(){return typeof $localize<"u"&&$localize.locale||P0}()}),MM=new zi("",{providedIn:"root",factory:()=>"USD"}),vE=new zi("");let W0=null;function AM(){return!1}let ZP=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=Dl}return o})();function Dl(o){return function XP(o,d,b){if(au(o)&&!b){const P=cu(o.index,d);return new nb(P,P)}return 175&o.type?new nb(d[za],d):null}(ss(),br(),!(16&~o))}class cC{constructor(){}supports(d){return Ib(d)}create(d){return new QP(d)}}const qP=(o,d)=>d;class QP{constructor(d){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=d||qP}forEachItem(d){let b;for(b=this._itHead;null!==b;b=b._next)d(b)}forEachOperation(d){let b=this._itHead,P=this._removalsHead,X=0,he=null;for(;b||P;){const Ie=!P||b&&b.currentIndex<dC(P,X,he)?b:P,Ke=dC(Ie,X,he),rt=Ie.currentIndex;if(Ie===P)X--,P=P._nextRemoved;else if(b=b._next,null==Ie.previousIndex)X++;else{he||(he=[]);const Tt=Ke-X,Nt=rt-X;if(Tt!=Nt){for(let Cn=0;Cn<Tt;Cn++){const Bn=Cn<he.length?he[Cn]:he[Cn]=0,Zn=Bn+Cn;Nt<=Zn&&Zn<Tt&&(he[Cn]=Bn+1)}he[Ie.previousIndex]=Nt-Tt}}Ke!==rt&&d(Ie,Ke,rt)}}forEachPreviousItem(d){let b;for(b=this._previousItHead;null!==b;b=b._nextPrevious)d(b)}forEachAddedItem(d){let b;for(b=this._additionsHead;null!==b;b=b._nextAdded)d(b)}forEachMovedItem(d){let b;for(b=this._movesHead;null!==b;b=b._nextMoved)d(b)}forEachRemovedItem(d){let b;for(b=this._removalsHead;null!==b;b=b._nextRemoved)d(b)}forEachIdentityChange(d){let b;for(b=this._identityChangesHead;null!==b;b=b._nextIdentityChange)d(b)}diff(d){if(null==d&&(d=[]),!Ib(d))throw new Kn(900,!1);return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let X,he,Ie,b=this._itHead,P=!1;if(Array.isArray(d)){this.length=d.length;for(let Ke=0;Ke<this.length;Ke++)he=d[Ke],Ie=this._trackByFn(Ke,he),null!==b&&Object.is(b.trackById,Ie)?(P&&(b=this._verifyReinsertion(b,he,Ie,Ke)),Object.is(b.item,he)||this._addIdentityChange(b,he)):(b=this._mismatch(b,he,Ie,Ke),P=!0),b=b._next}else X=0,function Vd(o,d){if(Array.isArray(o))for(let b=0;b<o.length;b++)d(o[b]);else{const b=o[Symbol.iterator]();let P;for(;!(P=b.next()).done;)d(P.value)}}(d,Ke=>{Ie=this._trackByFn(X,Ke),null!==b&&Object.is(b.trackById,Ie)?(P&&(b=this._verifyReinsertion(b,Ke,Ie,X)),Object.is(b.item,Ke)||this._addIdentityChange(b,Ke)):(b=this._mismatch(b,Ke,Ie,X),P=!0),b=b._next,X++}),this.length=X;return this._truncate(b),this.collection=d,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let d;for(d=this._previousItHead=this._itHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._additionsHead;null!==d;d=d._nextAdded)d.previousIndex=d.currentIndex;for(this._additionsHead=this._additionsTail=null,d=this._movesHead;null!==d;d=d._nextMoved)d.previousIndex=d.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(d,b,P,X){let he;return null===d?he=this._itTail:(he=d._prev,this._remove(d)),null!==(d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(P,null))?(Object.is(d.item,b)||this._addIdentityChange(d,b),this._reinsertAfter(d,he,X)):null!==(d=null===this._linkedRecords?null:this._linkedRecords.get(P,X))?(Object.is(d.item,b)||this._addIdentityChange(d,b),this._moveAfter(d,he,X)):d=this._addAfter(new eO(b,P),he,X),d}_verifyReinsertion(d,b,P,X){let he=null===this._unlinkedRecords?null:this._unlinkedRecords.get(P,null);return null!==he?d=this._reinsertAfter(he,d._prev,X):d.currentIndex!=X&&(d.currentIndex=X,this._addToMoves(d,X)),d}_truncate(d){for(;null!==d;){const b=d._next;this._addToRemovals(this._unlink(d)),d=b}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(d,b,P){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(d);const X=d._prevRemoved,he=d._nextRemoved;return null===X?this._removalsHead=he:X._nextRemoved=he,null===he?this._removalsTail=X:he._prevRemoved=X,this._insertAfter(d,b,P),this._addToMoves(d,P),d}_moveAfter(d,b,P){return this._unlink(d),this._insertAfter(d,b,P),this._addToMoves(d,P),d}_addAfter(d,b,P){return this._insertAfter(d,b,P),this._additionsTail=null===this._additionsTail?this._additionsHead=d:this._additionsTail._nextAdded=d,d}_insertAfter(d,b,P){const X=null===b?this._itHead:b._next;return d._next=X,d._prev=b,null===X?this._itTail=d:X._prev=d,null===b?this._itHead=d:b._next=d,null===this._linkedRecords&&(this._linkedRecords=new lC),this._linkedRecords.put(d),d.currentIndex=P,d}_remove(d){return this._addToRemovals(this._unlink(d))}_unlink(d){null!==this._linkedRecords&&this._linkedRecords.remove(d);const b=d._prev,P=d._next;return null===b?this._itHead=P:b._next=P,null===P?this._itTail=b:P._prev=b,d}_addToMoves(d,b){return d.previousIndex===b||(this._movesTail=null===this._movesTail?this._movesHead=d:this._movesTail._nextMoved=d),d}_addToRemovals(d){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lC),this._unlinkedRecords.put(d),d.currentIndex=null,d._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=d,d._prevRemoved=null):(d._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=d),d}_addIdentityChange(d,b){return d.item=b,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=d:this._identityChangesTail._nextIdentityChange=d,d}}class eO{constructor(d,b){this.item=d,this.trackById=b,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tO{constructor(){this._head=null,this._tail=null}add(d){null===this._head?(this._head=this._tail=d,d._nextDup=null,d._prevDup=null):(this._tail._nextDup=d,d._prevDup=this._tail,d._nextDup=null,this._tail=d)}get(d,b){let P;for(P=this._head;null!==P;P=P._nextDup)if((null===b||b<=P.currentIndex)&&Object.is(P.trackById,d))return P;return null}remove(d){const b=d._prevDup,P=d._nextDup;return null===b?this._head=P:b._nextDup=P,null===P?this._tail=b:P._prevDup=b,null===this._head}}class lC{constructor(){this.map=new Map}put(d){const b=d.trackById;let P=this.map.get(b);P||(P=new tO,this.map.set(b,P)),P.add(d)}get(d,b){const X=this.map.get(d);return X?X.get(d,b):null}remove(d){const b=d.trackById;return this.map.get(b).remove(d)&&this.map.delete(b),d}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dC(o,d,b){const P=o.previousIndex;if(null===P)return P;let X=0;return b&&P<b.length&&(X=b[P]),P+d+X}class uC{constructor(){}supports(d){return d instanceof Map||nf(d)}create(){return new nO}}class nO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(d){let b;for(b=this._mapHead;null!==b;b=b._next)d(b)}forEachPreviousItem(d){let b;for(b=this._previousMapHead;null!==b;b=b._nextPrevious)d(b)}forEachChangedItem(d){let b;for(b=this._changesHead;null!==b;b=b._nextChanged)d(b)}forEachAddedItem(d){let b;for(b=this._additionsHead;null!==b;b=b._nextAdded)d(b)}forEachRemovedItem(d){let b;for(b=this._removalsHead;null!==b;b=b._nextRemoved)d(b)}diff(d){if(d){if(!(d instanceof Map||nf(d)))throw new Kn(900,!1)}else d=new Map;return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let b=this._mapHead;if(this._appendAfter=null,this._forEach(d,(P,X)=>{if(b&&b.key===X)this._maybeAddToChanges(b,P),this._appendAfter=b,b=b._next;else{const he=this._getOrCreateRecordForKey(X,P);b=this._insertBeforeOrAppend(b,he)}}),b){b._prev&&(b._prev._next=null),this._removalsHead=b;for(let P=b;null!==P;P=P._nextRemoved)P===this._mapHead&&(this._mapHead=null),this._records.delete(P.key),P._nextRemoved=P._next,P.previousValue=P.currentValue,P.currentValue=null,P._prev=null,P._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(d,b){if(d){const P=d._prev;return b._next=d,b._prev=P,d._prev=b,P&&(P._next=b),d===this._mapHead&&(this._mapHead=b),this._appendAfter=d,d}return this._appendAfter?(this._appendAfter._next=b,b._prev=this._appendAfter):this._mapHead=b,this._appendAfter=b,null}_getOrCreateRecordForKey(d,b){if(this._records.has(d)){const X=this._records.get(d);this._maybeAddToChanges(X,b);const he=X._prev,Ie=X._next;return he&&(he._next=Ie),Ie&&(Ie._prev=he),X._next=null,X._prev=null,X}const P=new rO(d);return this._records.set(d,P),P.currentValue=b,this._addToAdditions(P),P}_reset(){if(this.isDirty){let d;for(this._previousMapHead=this._mapHead,d=this._previousMapHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._changesHead;null!==d;d=d._nextChanged)d.previousValue=d.currentValue;for(d=this._additionsHead;null!=d;d=d._nextAdded)d.previousValue=d.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(d,b){Object.is(b,d.currentValue)||(d.previousValue=d.currentValue,d.currentValue=b,this._addToChanges(d))}_addToAdditions(d){null===this._additionsHead?this._additionsHead=this._additionsTail=d:(this._additionsTail._nextAdded=d,this._additionsTail=d)}_addToChanges(d){null===this._changesHead?this._changesHead=this._changesTail=d:(this._changesTail._nextChanged=d,this._changesTail=d)}_forEach(d,b){d instanceof Map?d.forEach(b):Object.keys(d).forEach(P=>b(d[P],P))}}class rO{constructor(d){this.key=d,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fC(){return new IM([new cC])}let IM=(()=>{class o{static#e=this.\u0275prov=Uo({token:o,providedIn:"root",factory:fC});constructor(b){this.factories=b}static create(b,P){if(null!=P){const X=P.factories.slice();b=b.concat(X)}return new o(b)}static extend(b){return{provide:o,useFactory:P=>o.create(b,P||fC()),deps:[[o,new ml,new $a]]}}find(b){const P=this.factories.find(X=>X.supports(b));if(null!=P)return P;throw new Kn(901,!1)}}return o})();function iO(){return new hC([new uC])}let hC=(()=>{class o{static#e=this.\u0275prov=Uo({token:o,providedIn:"root",factory:iO});constructor(b){this.factories=b}static create(b,P){if(P){const X=P.factories.slice();b=b.concat(X)}return new o(b)}static extend(b){return{provide:o,useFactory:P=>o.create(b,P||iO()),deps:[[o,new ml,new $a]]}}find(b){const P=this.factories.find(X=>X.supports(b));if(P)return P;throw new Kn(901,!1)}}return o})();function DB(o){try{const{rootComponent:d,appProviders:b,platformProviders:P}=o,X=function WP(o=[]){if(W0)return W0;const d=function HP(o=[],d){return tl.create({name:d,providers:[{provide:ni,useValue:"platform"},{provide:vE,useValue:new Set([()=>W0=null])},...o]})}(o);return W0=d,function Z3(){!function M(o){T=o}(()=>{throw new Kn(600,!1)})}(),function rC(o){o.get(TT,null)?.forEach(b=>b())}(d),d}(P),he=[yE({}),{provide:qp,useExisting:Bg},...b||[]],Ke=new kD({providers:he,parent:X,debugName:"",runEnvironmentInitializers:!1}).injector,rt=Ke.get(Ma);return rt.run(()=>{Ke.resolveInjectorInitializers();const Tt=Ke.get(zu,null);let Nt;rt.runOutsideAngular(()=>{Nt=rt.onError.subscribe({next:Bn=>{Tt.handleError(Bn)}})});const cn=()=>Ke.destroy(),Cn=X.get(vE);return Cn.add(cn),Ke.onDestroy(()=>{Nt.unsubscribe(),Cn.delete(cn)}),function Ip(o,d,b){try{const P=b();return yM(P)?P.catch(X=>{throw d.runOutsideAngular(()=>o.handleError(X)),X}):P}catch(P){throw d.runOutsideAngular(()=>o.handleError(P)),P}}(Tt,rt,()=>{const Bn=Ke.get(fw);return Bn.runInitializers(),Bn.donePromise.then(()=>{!function DS(o){"string"==typeof o&&(IS=o.toLowerCase().replace(/_/g,"-"))}(Ke.get(Sm,P0)||P0);const vr=Ke.get(ff);return void 0!==d&&vr.bootstrap(d),vr})})})}catch(d){return Promise.reject(d)}}const MC=new zi("");function jB(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function DO(o,d=NaN){return isNaN(parseFloat(o))||isNaN(Number(o))?d:Number(o)}function HB(o,d){Kl("NgSignals");const b=C(o);return d?.equal&&(b[x].equal=d.equal),b}function OC(o){const d=R(null);try{return o()}finally{R(d)}}const ME=new zi("",{providedIn:"root",factory:()=>Ir(WB)});let WB=(()=>{class o{static#e=this.\u0275prov=Uo({token:o,providedIn:"root",factory:()=>new $g})}return o})();class $g{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Ir(Wm),this.taskId=null}scheduleEffect(d){if(this.enqueue(d),null===this.taskId){const b=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(b),this.taskId=null})}}enqueue(d){const b=d.creationZone;this.queues.has(b)||this.queues.set(b,new Set);const P=this.queues.get(b);P.has(d)||(this.queuedEffectCount++,P.add(d))}flush(){for(;this.queuedEffectCount>0;)for(const[d,b]of this.queues)null===d?this.flushQueue(b):d.run(()=>this.flushQueue(b))}flushQueue(d){for(const b of d)d.delete(b),this.queuedEffectCount--,b.run()}}class $M{constructor(d,b,P,X,he,Ie){this.scheduler=d,this.effectFn=b,this.creationZone=P,this.injector=he,this.watcher=function Se(o,d,b){const P=Object.create(Ne);b&&(P.consumerAllowSignalWrites=!0),P.fn=o,P.schedule=d;const X=rt=>{P.cleanupFn=rt};return P.ref={notify:()=>te(P),run:()=>{if(null===P.fn)return;if(function O(){return k}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(P.dirty=!1,P.hasRun&&!oe(P))return;P.hasRun=!0;const rt=J(P);try{P.cleanupFn(),P.cleanupFn=be,P.fn(X)}finally{Y(P,rt)}},cleanup:()=>P.cleanupFn(),destroy:()=>function Ie(rt){(function he(rt){return null===rt.fn&&null===rt.schedule})(rt)||(ae(rt),rt.cleanupFn(),rt.fn=null,rt.schedule=null,rt.cleanupFn=be)}(P),[x]:P},P.ref}(Ke=>this.runEffect(Ke),()=>this.schedule(),Ie),this.unregisterOnDestroy=X?.onDestroy(()=>this.destroy())}runEffect(d){try{this.effectFn(d)}catch(b){this.injector.get(zu,null,{optional:!0})?.handleError(b)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function RC(o,d){Kl("NgSignals"),!d?.injector&&$w();const b=d?.injector??Ir(tl),P=!0!==d?.manualCleanup?b.get(t_):null,X=new $M(b.get(ME),o,typeof Zone>"u"?null:Zone.current,P,b,d?.allowSignalWrites??!1),he=b.get(ZP,null,{optional:!0});return he&&8&he._lView[Ni]?(he._lView[GE]??=[]).push(X.watcher.notify):X.watcher.notify(),X}function Kg(o,d){const b=yi(o),P=d.elementInjector||jw();return new Zy(b).create(P,d.projectableNodes,d.hostElement,d.environmentInjector)}function CO(o){const d=yi(o);if(!d)return null;const b=new Zy(d);return{get selector(){return b.selector},get type(){return b.componentType},get inputs(){return b.inputs},get outputs(){return b.outputs},get ngContentSelectors(){return b.ngContentSelectors},get isStandalone(){return d.standalone},get isSignal(){return d.signals}}}},89417:(Fe,z,_)=>{"use strict";_.d(z,{BC:()=>ue,JD:()=>oo,MJ:()=>ji,X1:()=>Rl,YN:()=>Qa,YS:()=>Lo,cV:()=>Ao,cb:()=>Ee,cz:()=>Y,j4:()=>pc,k0:()=>se,kq:()=>F,l_:()=>kl,me:()=>re,ok:()=>qa,qT:()=>Ya,tU:()=>Ja,v8:()=>Ea,vO:()=>pe,vS:()=>cl,xq:()=>Po});var p=_(93953),E=_(60177),k=_(86648),H=_(27468),x=_(21413),R=_(96354);let A=(()=>{class kt{constructor(wt,tn){this._renderer=wt,this._elementRef=tn,this.onChange=On=>{},this.onTouched=()=>{}}setProperty(wt,tn){this._renderer.setProperty(this._elementRef.nativeElement,wt,tn)}registerOnTouched(wt){this.onTouched=wt}registerOnChange(wt){this.onChange=wt}setDisabledState(wt){this.setProperty("disabled",wt)}static#e=this.\u0275fac=function(tn){return new(tn||kt)(p.rXU(p.sFG),p.rXU(p.aKT))};static#t=this.\u0275dir=p.FsC({type:kt})}return kt})(),O=(()=>{class kt extends A{static#e=this.\u0275fac=(()=>{let wt;return function(On){return(wt||(wt=p.xGo(kt)))(On||kt)}})();static#t=this.\u0275dir=p.FsC({type:kt,features:[p.Vt3]})}return kt})();const F=new p.nKC(""),Z={provide:F,useExisting:(0,p.Rfq)(()=>re),multi:!0},G=new p.nKC("");let re=(()=>{class kt extends A{constructor(wt,tn,On){super(wt,tn),this._compositionMode=On,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function j(){const kt=(0,E.QT)()?(0,E.QT)().getUserAgent():"";return/android (\d+)/.test(kt.toLowerCase())}())}writeValue(wt){this.setProperty("value",wt??"")}_handleInput(wt){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(wt)}_compositionStart(){this._composing=!0}_compositionEnd(wt){this._composing=!1,this._compositionMode&&this.onChange(wt)}static#e=this.\u0275fac=function(tn){return new(tn||kt)(p.rXU(p.sFG),p.rXU(p.aKT),p.rXU(G,8))};static#t=this.\u0275dir=p.FsC({type:kt,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(tn,On){1&tn&&p.bIt("input",function(Vi){return On._handleInput(Vi.target.value)})("blur",function(){return On.onTouched()})("compositionstart",function(){return On._compositionStart()})("compositionend",function(Vi){return On._compositionEnd(Vi.target.value)})},features:[p.Jv_([Z]),p.Vt3]})}return kt})();function te(kt){return null==kt||("string"==typeof kt||Array.isArray(kt))&&0===kt.length}function J(kt){return null!=kt&&"number"==typeof kt.length}const Y=new p.nKC(""),oe=new p.nKC(""),ae=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class se{static min(Lt){return function de(kt){return Lt=>{if(te(Lt.value)||te(kt))return null;const wt=parseFloat(Lt.value);return!isNaN(wt)&&wt<kt?{min:{min:kt,actual:Lt.value}}:null}}(Lt)}static max(Lt){return function le(kt){return Lt=>{if(te(Lt.value)||te(kt))return null;const wt=parseFloat(Lt.value);return!isNaN(wt)&&wt>kt?{max:{max:kt,actual:Lt.value}}:null}}(Lt)}static required(Lt){return we(Lt)}static requiredTrue(Lt){return xe(Lt)}static email(Lt){return function Ce(kt){return te(kt.value)||ae.test(kt.value)?null:{email:!0}}(Lt)}static minLength(Lt){return function C(kt){return Lt=>te(Lt.value)||!J(Lt.value)?null:Lt.value.length<kt?{minlength:{requiredLength:kt,actualLength:Lt.value.length}}:null}(Lt)}static maxLength(Lt){return a(Lt)}static pattern(Lt){return function u(kt){if(!kt)return y;let Lt,wt;return"string"==typeof kt?(wt="","^"!==kt.charAt(0)&&(wt+="^"),wt+=kt,"$"!==kt.charAt(kt.length-1)&&(wt+="$"),Lt=new RegExp(wt)):(wt=kt.toString(),Lt=kt),tn=>{if(te(tn.value))return null;const On=tn.value;return Lt.test(On)?null:{pattern:{requiredPattern:wt,actualValue:On}}}}(Lt)}static nullValidator(Lt){return null}static compose(Lt){return v(Lt)}static composeAsync(Lt){return K(Lt)}}function we(kt){return te(kt.value)?{required:!0}:null}function xe(kt){return!0===kt.value?null:{required:!0}}function a(kt){return Lt=>J(Lt.value)&&Lt.value.length>kt?{maxlength:{requiredLength:kt,actualLength:Lt.value.length}}:null}function y(kt){return null}function g(kt){return null!=kt}function S(kt){return(0,p.jNT)(kt)?(0,k.H)(kt):kt}function T(kt){let Lt={};return kt.forEach(wt=>{Lt=null!=wt?{...Lt,...wt}:Lt}),0===Object.keys(Lt).length?null:Lt}function N(kt,Lt){return Lt.map(wt=>wt(kt))}function s(kt){return kt.map(Lt=>function M(kt){return!kt.validate}(Lt)?Lt:wt=>Lt.validate(wt))}function v(kt){if(!kt)return null;const Lt=kt.filter(g);return 0==Lt.length?null:function(wt){return T(N(wt,Lt))}}function W(kt){return null!=kt?v(s(kt)):null}function K(kt){if(!kt)return null;const Lt=kt.filter(g);return 0==Lt.length?null:function(wt){const tn=N(wt,Lt).map(S);return(0,H.p)(tn).pipe((0,R.T)(T))}}function ee(kt){return null!=kt?K(s(kt)):null}function ce(kt,Lt){return null===kt?[Lt]:Array.isArray(kt)?[...kt,Lt]:[kt,Lt]}function _e(kt){return kt._rawValidators}function Pe(kt){return kt._rawAsyncValidators}function $e(kt){return kt?Array.isArray(kt)?kt:[kt]:[]}function Se(kt,Lt){return Array.isArray(kt)?kt.includes(Lt):kt===Lt}function be(kt,Lt){const wt=$e(Lt);return $e(kt).forEach(On=>{Se(wt,On)||wt.push(On)}),wt}function Ne(kt,Lt){return $e(Lt).filter(wt=>!Se(kt,wt))}class ye{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Lt){this._rawValidators=Lt||[],this._composedValidatorFn=W(this._rawValidators)}_setAsyncValidators(Lt){this._rawAsyncValidators=Lt||[],this._composedAsyncValidatorFn=ee(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Lt){this._onDestroyCallbacks.push(Lt)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Lt=>Lt()),this._onDestroyCallbacks=[]}reset(Lt=void 0){this.control&&this.control.reset(Lt)}hasError(Lt,wt){return!!this.control&&this.control.hasError(Lt,wt)}getError(Lt,wt){return this.control?this.control.getError(Lt,wt):null}}class Te extends ye{get formDirective(){return null}get path(){return null}}class pe extends ye{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fe{constructor(Lt){this._cd=Lt}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let ue=(()=>{class kt extends fe{constructor(wt){super(wt)}static#e=this.\u0275fac=function(tn){return new(tn||kt)(p.rXU(pe,2))};static#t=this.\u0275dir=p.FsC({type:kt,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(tn,On){2&tn&&p.AVh("ng-untouched",On.isUntouched)("ng-touched",On.isTouched)("ng-pristine",On.isPristine)("ng-dirty",On.isDirty)("ng-valid",On.isValid)("ng-invalid",On.isInvalid)("ng-pending",On.isPending)},features:[p.Vt3]})}return kt})(),Ee=(()=>{class kt extends fe{constructor(wt){super(wt)}static#e=this.\u0275fac=function(tn){return new(tn||kt)(p.rXU(Te,10))};static#t=this.\u0275dir=p.FsC({type:kt,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(tn,On){2&tn&&p.AVh("ng-untouched",On.isUntouched)("ng-touched",On.isTouched)("ng-pristine",On.isPristine)("ng-dirty",On.isDirty)("ng-valid",On.isValid)("ng-invalid",On.isInvalid)("ng-pending",On.isPending)("ng-submitted",On.isSubmitted)},features:[p.Vt3]})}return kt})();const Gt="VALID",un="INVALID",an="PENDING",sr="DISABLED";class Mn{}class Qt extends Mn{constructor(Lt,wt){super(),this.value=Lt,this.source=wt}}class qt extends Mn{constructor(Lt,wt){super(),this.pristine=Lt,this.source=wt}}class Et extends Mn{constructor(Lt,wt){super(),this.touched=Lt,this.source=wt}}class ht extends Mn{constructor(Lt,wt){super(),this.status=Lt,this.source=wt}}class zt extends Mn{constructor(Lt){super(),this.source=Lt}}class Jt extends Mn{constructor(Lt){super(),this.source=Lt}}function dn(kt){return(St(kt)?kt.validators:kt)||null}function vt(kt,Lt){return(St(Lt)?Lt.asyncValidators:kt)||null}function St(kt){return null!=kt&&!Array.isArray(kt)&&"object"==typeof kt}function Xe(kt,Lt,wt){const tn=kt.controls;if(!(Lt?Object.keys(tn):tn).length)throw new p.wOt(1e3,"");if(!tn[wt])throw new p.wOt(1001,"")}function nt(kt,Lt,wt){kt._forEachChild((tn,On)=>{if(void 0===wt[On])throw new p.wOt(1002,"")})}class Vt{constructor(Lt,wt){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,p.EWP)(()=>this.statusReactive()),this.statusReactive=(0,p.vPA)(void 0),this._pristine=(0,p.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,p.vPA)(!0),this._touched=(0,p.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,p.vPA)(!1),this._events=new x.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(Lt),this._assignAsyncValidators(wt)}get validator(){return this._composedValidatorFn}set validator(Lt){this._rawValidators=this._composedValidatorFn=Lt}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Lt){this._rawAsyncValidators=this._composedAsyncValidatorFn=Lt}get parent(){return this._parent}get status(){return(0,p.O8t)(this.statusReactive)}set status(Lt){(0,p.O8t)(()=>this.statusReactive.set(Lt))}get valid(){return this.status===Gt}get invalid(){return this.status===un}get pending(){return this.status==an}get disabled(){return this.status===sr}get enabled(){return this.status!==sr}get pristine(){return(0,p.O8t)(this.pristineReactive)}set pristine(Lt){(0,p.O8t)(()=>this.pristineReactive.set(Lt))}get dirty(){return!this.pristine}get touched(){return(0,p.O8t)(this.touchedReactive)}set touched(Lt){(0,p.O8t)(()=>this.touchedReactive.set(Lt))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Lt){this._assignValidators(Lt)}setAsyncValidators(Lt){this._assignAsyncValidators(Lt)}addValidators(Lt){this.setValidators(be(Lt,this._rawValidators))}addAsyncValidators(Lt){this.setAsyncValidators(be(Lt,this._rawAsyncValidators))}removeValidators(Lt){this.setValidators(Ne(Lt,this._rawValidators))}removeAsyncValidators(Lt){this.setAsyncValidators(Ne(Lt,this._rawAsyncValidators))}hasValidator(Lt){return Se(this._rawValidators,Lt)}hasAsyncValidator(Lt){return Se(this._rawAsyncValidators,Lt)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Lt={}){const wt=!1===this.touched;this.touched=!0;const tn=Lt.sourceControl??this;this._parent&&!Lt.onlySelf&&this._parent.markAsTouched({...Lt,sourceControl:tn}),wt&&!1!==Lt.emitEvent&&this._events.next(new Et(!0,tn))}markAllAsTouched(Lt={}){this.markAsTouched({onlySelf:!0,emitEvent:Lt.emitEvent,sourceControl:this}),this._forEachChild(wt=>wt.markAllAsTouched(Lt))}markAsUntouched(Lt={}){const wt=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const tn=Lt.sourceControl??this;this._forEachChild(On=>{On.markAsUntouched({onlySelf:!0,emitEvent:Lt.emitEvent,sourceControl:tn})}),this._parent&&!Lt.onlySelf&&this._parent._updateTouched(Lt,tn),wt&&!1!==Lt.emitEvent&&this._events.next(new Et(!1,tn))}markAsDirty(Lt={}){const wt=!0===this.pristine;this.pristine=!1;const tn=Lt.sourceControl??this;this._parent&&!Lt.onlySelf&&this._parent.markAsDirty({...Lt,sourceControl:tn}),wt&&!1!==Lt.emitEvent&&this._events.next(new qt(!1,tn))}markAsPristine(Lt={}){const wt=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const tn=Lt.sourceControl??this;this._forEachChild(On=>{On.markAsPristine({onlySelf:!0,emitEvent:Lt.emitEvent})}),this._parent&&!Lt.onlySelf&&this._parent._updatePristine(Lt,tn),wt&&!1!==Lt.emitEvent&&this._events.next(new qt(!0,tn))}markAsPending(Lt={}){this.status=an;const wt=Lt.sourceControl??this;!1!==Lt.emitEvent&&(this._events.next(new ht(this.status,wt)),this.statusChanges.emit(this.status)),this._parent&&!Lt.onlySelf&&this._parent.markAsPending({...Lt,sourceControl:wt})}disable(Lt={}){const wt=this._parentMarkedDirty(Lt.onlySelf);this.status=sr,this.errors=null,this._forEachChild(On=>{On.disable({...Lt,onlySelf:!0})}),this._updateValue();const tn=Lt.sourceControl??this;!1!==Lt.emitEvent&&(this._events.next(new Qt(this.value,tn)),this._events.next(new ht(this.status,tn)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Lt,skipPristineCheck:wt},this),this._onDisabledChange.forEach(On=>On(!0))}enable(Lt={}){const wt=this._parentMarkedDirty(Lt.onlySelf);this.status=Gt,this._forEachChild(tn=>{tn.enable({...Lt,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Lt.emitEvent}),this._updateAncestors({...Lt,skipPristineCheck:wt},this),this._onDisabledChange.forEach(tn=>tn(!1))}_updateAncestors(Lt,wt){this._parent&&!Lt.onlySelf&&(this._parent.updateValueAndValidity(Lt),Lt.skipPristineCheck||this._parent._updatePristine({},wt),this._parent._updateTouched({},wt))}setParent(Lt){this._parent=Lt}getRawValue(){return this.value}updateValueAndValidity(Lt={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const tn=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gt||this.status===an)&&this._runAsyncValidator(tn,Lt.emitEvent)}const wt=Lt.sourceControl??this;!1!==Lt.emitEvent&&(this._events.next(new Qt(this.value,wt)),this._events.next(new ht(this.status,wt)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Lt.onlySelf&&this._parent.updateValueAndValidity({...Lt,sourceControl:wt})}_updateTreeValidity(Lt={emitEvent:!0}){this._forEachChild(wt=>wt._updateTreeValidity(Lt)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Lt.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sr:Gt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Lt,wt){if(this.asyncValidator){this.status=an,this._hasOwnPendingAsyncValidator={emitEvent:!1!==wt};const tn=S(this.asyncValidator(this));this._asyncValidationSubscription=tn.subscribe(On=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(On,{emitEvent:wt,shouldHaveEmitted:Lt})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const Lt=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,Lt}return!1}setErrors(Lt,wt={}){this.errors=Lt,this._updateControlsErrors(!1!==wt.emitEvent,this,wt.shouldHaveEmitted)}get(Lt){let wt=Lt;return null==wt||(Array.isArray(wt)||(wt=wt.split(".")),0===wt.length)?null:wt.reduce((tn,On)=>tn&&tn._find(On),this)}getError(Lt,wt){const tn=wt?this.get(wt):this;return tn&&tn.errors?tn.errors[Lt]:null}hasError(Lt,wt){return!!this.getError(Lt,wt)}get root(){let Lt=this;for(;Lt._parent;)Lt=Lt._parent;return Lt}_updateControlsErrors(Lt,wt,tn){this.status=this._calculateStatus(),Lt&&this.statusChanges.emit(this.status),(Lt||tn)&&this._events.next(new ht(this.status,wt)),this._parent&&this._parent._updateControlsErrors(Lt,wt,tn)}_initObservables(){this.valueChanges=new p.bkB,this.statusChanges=new p.bkB}_calculateStatus(){return this._allControlsDisabled()?sr:this.errors?un:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(an)?an:this._anyControlsHaveStatus(un)?un:Gt}_anyControlsHaveStatus(Lt){return this._anyControls(wt=>wt.status===Lt)}_anyControlsDirty(){return this._anyControls(Lt=>Lt.dirty)}_anyControlsTouched(){return this._anyControls(Lt=>Lt.touched)}_updatePristine(Lt,wt){const tn=!this._anyControlsDirty(),On=this.pristine!==tn;this.pristine=tn,this._parent&&!Lt.onlySelf&&this._parent._updatePristine(Lt,wt),On&&this._events.next(new qt(this.pristine,wt))}_updateTouched(Lt={},wt){this.touched=this._anyControlsTouched(),this._events.next(new Et(this.touched,wt)),this._parent&&!Lt.onlySelf&&this._parent._updateTouched(Lt,wt)}_registerOnCollectionChange(Lt){this._onCollectionChange=Lt}_setUpdateStrategy(Lt){St(Lt)&&null!=Lt.updateOn&&(this._updateOn=Lt.updateOn)}_parentMarkedDirty(Lt){return!Lt&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Lt){return null}_assignValidators(Lt){this._rawValidators=Array.isArray(Lt)?Lt.slice():Lt,this._composedValidatorFn=function hr(kt){return Array.isArray(kt)?W(kt):kt||null}(this._rawValidators)}_assignAsyncValidators(Lt){this._rawAsyncValidators=Array.isArray(Lt)?Lt.slice():Lt,this._composedAsyncValidatorFn=function xt(kt){return Array.isArray(kt)?ee(kt):kt||null}(this._rawAsyncValidators)}}class Ot extends Vt{constructor(Lt,wt,tn){super(dn(wt),vt(tn,wt)),this.controls=Lt,this._initObservables(),this._setUpdateStrategy(wt),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Lt,wt){return this.controls[Lt]?this.controls[Lt]:(this.controls[Lt]=wt,wt.setParent(this),wt._registerOnCollectionChange(this._onCollectionChange),wt)}addControl(Lt,wt,tn={}){this.registerControl(Lt,wt),this.updateValueAndValidity({emitEvent:tn.emitEvent}),this._onCollectionChange()}removeControl(Lt,wt={}){this.controls[Lt]&&this.controls[Lt]._registerOnCollectionChange(()=>{}),delete this.controls[Lt],this.updateValueAndValidity({emitEvent:wt.emitEvent}),this._onCollectionChange()}setControl(Lt,wt,tn={}){this.controls[Lt]&&this.controls[Lt]._registerOnCollectionChange(()=>{}),delete this.controls[Lt],wt&&this.registerControl(Lt,wt),this.updateValueAndValidity({emitEvent:tn.emitEvent}),this._onCollectionChange()}contains(Lt){return this.controls.hasOwnProperty(Lt)&&this.controls[Lt].enabled}setValue(Lt,wt={}){nt(this,0,Lt),Object.keys(Lt).forEach(tn=>{Xe(this,!0,tn),this.controls[tn].setValue(Lt[tn],{onlySelf:!0,emitEvent:wt.emitEvent})}),this.updateValueAndValidity(wt)}patchValue(Lt,wt={}){null!=Lt&&(Object.keys(Lt).forEach(tn=>{const On=this.controls[tn];On&&On.patchValue(Lt[tn],{onlySelf:!0,emitEvent:wt.emitEvent})}),this.updateValueAndValidity(wt))}reset(Lt={},wt={}){this._forEachChild((tn,On)=>{tn.reset(Lt?Lt[On]:null,{onlySelf:!0,emitEvent:wt.emitEvent})}),this._updatePristine(wt,this),this._updateTouched(wt,this),this.updateValueAndValidity(wt)}getRawValue(){return this._reduceChildren({},(Lt,wt,tn)=>(Lt[tn]=wt.getRawValue(),Lt))}_syncPendingControls(){let Lt=this._reduceChildren(!1,(wt,tn)=>!!tn._syncPendingControls()||wt);return Lt&&this.updateValueAndValidity({onlySelf:!0}),Lt}_forEachChild(Lt){Object.keys(this.controls).forEach(wt=>{const tn=this.controls[wt];tn&&Lt(tn,wt)})}_setUpControls(){this._forEachChild(Lt=>{Lt.setParent(this),Lt._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Lt){for(const[wt,tn]of Object.entries(this.controls))if(this.contains(wt)&&Lt(tn))return!0;return!1}_reduceValue(){return this._reduceChildren({},(wt,tn,On)=>((tn.enabled||this.disabled)&&(wt[On]=tn.value),wt))}_reduceChildren(Lt,wt){let tn=Lt;return this._forEachChild((On,Jr)=>{tn=wt(tn,On,Jr)}),tn}_allControlsDisabled(){for(const Lt of Object.keys(this.controls))if(this.controls[Lt].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Lt){return this.controls.hasOwnProperty(Lt)?this.controls[Lt]:null}}class In extends Ot{}const Jn=new p.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Ln}),Ln="always";function $n(kt,Lt){return[...Lt.path,kt]}function st(kt,Lt,wt=Ln){_n(kt,Lt),Lt.valueAccessor.writeValue(kt.value),(kt.disabled||"always"===wt)&&Lt.valueAccessor.setDisabledState?.(kt.disabled),function Yn(kt,Lt){Lt.valueAccessor.registerOnChange(wt=>{kt._pendingValue=wt,kt._pendingChange=!0,kt._pendingDirty=!0,"change"===kt.updateOn&&Nr(kt,Lt)})}(kt,Lt),function Ur(kt,Lt){const wt=(tn,On)=>{Lt.valueAccessor.writeValue(tn),On&&Lt.viewToModelUpdate(tn)};kt.registerOnChange(wt),Lt._registerOnDestroy(()=>{kt._unregisterOnChange(wt)})}(kt,Lt),function yr(kt,Lt){Lt.valueAccessor.registerOnTouched(()=>{kt._pendingTouched=!0,"blur"===kt.updateOn&&kt._pendingChange&&Nr(kt,Lt),"submit"!==kt.updateOn&&kt.markAsTouched()})}(kt,Lt),function Yt(kt,Lt){if(Lt.valueAccessor.setDisabledState){const wt=tn=>{Lt.valueAccessor.setDisabledState(tn)};kt.registerOnDisabledChange(wt),Lt._registerOnDestroy(()=>{kt._unregisterOnDisabledChange(wt)})}}(kt,Lt)}function Ge(kt,Lt,wt=!0){const tn=()=>{};Lt.valueAccessor&&(Lt.valueAccessor.registerOnChange(tn),Lt.valueAccessor.registerOnTouched(tn)),Wn(kt,Lt),kt&&(Lt._invokeOnDestroyCallbacks(),kt._registerOnCollectionChange(()=>{}))}function ct(kt,Lt){kt.forEach(wt=>{wt.registerOnValidatorChange&&wt.registerOnValidatorChange(Lt)})}function _n(kt,Lt){const wt=_e(kt);null!==Lt.validator?kt.setValidators(ce(wt,Lt.validator)):"function"==typeof wt&&kt.setValidators([wt]);const tn=Pe(kt);null!==Lt.asyncValidator?kt.setAsyncValidators(ce(tn,Lt.asyncValidator)):"function"==typeof tn&&kt.setAsyncValidators([tn]);const On=()=>kt.updateValueAndValidity();ct(Lt._rawValidators,On),ct(Lt._rawAsyncValidators,On)}function Wn(kt,Lt){let wt=!1;if(null!==kt){if(null!==Lt.validator){const On=_e(kt);if(Array.isArray(On)&&On.length>0){const Jr=On.filter(Vi=>Vi!==Lt.validator);Jr.length!==On.length&&(wt=!0,kt.setValidators(Jr))}}if(null!==Lt.asyncValidator){const On=Pe(kt);if(Array.isArray(On)&&On.length>0){const Jr=On.filter(Vi=>Vi!==Lt.asyncValidator);Jr.length!==On.length&&(wt=!0,kt.setAsyncValidators(Jr))}}}const tn=()=>{};return ct(Lt._rawValidators,tn),ct(Lt._rawAsyncValidators,tn),wt}function Nr(kt,Lt){kt._pendingDirty&&kt.markAsDirty(),kt.setValue(kt._pendingValue,{emitModelToViewChange:!1}),Lt.viewToModelUpdate(kt._pendingValue),kt._pendingChange=!1}function Kr(kt,Lt){_n(kt,Lt)}function fr(kt,Lt){if(!kt.hasOwnProperty("model"))return!1;const wt=kt.model;return!!wt.isFirstChange()||!Object.is(Lt,wt.currentValue)}function xr(kt,Lt){kt._syncPendingControls(),Lt.forEach(wt=>{const tn=wt.control;"submit"===tn.updateOn&&tn._pendingChange&&(wt.viewToModelUpdate(tn._pendingValue),tn._pendingChange=!1)})}function Fr(kt,Lt){if(!Lt)return null;let wt,tn,On;return Array.isArray(Lt),Lt.forEach(Jr=>{Jr.constructor===re?wt=Jr:function Sr(kt){return Object.getPrototypeOf(kt.constructor)===O}(Jr)?tn=Jr:On=Jr}),On||tn||wt||null}const xo={provide:Te,useExisting:(0,p.Rfq)(()=>Ao)},bi=Promise.resolve();let Ao=(()=>{class kt extends Te{get submitted(){return(0,p.O8t)(this.submittedReactive)}constructor(wt,tn,On){super(),this.callSetDisabledState=On,this._submitted=(0,p.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,p.vPA)(!1),this._directives=new Set,this.ngSubmit=new p.bkB,this.form=new Ot({},W(wt),ee(tn))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(wt){bi.then(()=>{const tn=this._findContainer(wt.path);wt.control=tn.registerControl(wt.name,wt.control),st(wt.control,wt,this.callSetDisabledState),wt.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(wt)})}getControl(wt){return this.form.get(wt.path)}removeControl(wt){bi.then(()=>{const tn=this._findContainer(wt.path);tn&&tn.removeControl(wt.name),this._directives.delete(wt)})}addFormGroup(wt){bi.then(()=>{const tn=this._findContainer(wt.path),On=new Ot({});Kr(On,wt),tn.registerControl(wt.name,On),On.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(wt){bi.then(()=>{const tn=this._findContainer(wt.path);tn&&tn.removeControl(wt.name)})}getFormGroup(wt){return this.form.get(wt.path)}updateModel(wt,tn){bi.then(()=>{this.form.get(wt.path).setValue(tn)})}setValue(wt){this.control.setValue(wt)}onSubmit(wt){return this.submittedReactive.set(!0),xr(this.form,this._directives),this.ngSubmit.emit(wt),"dialog"===wt?.target?.method}onReset(){this.resetForm()}resetForm(wt=void 0){this.form.reset(wt),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(wt){return wt.pop(),wt.length?this.form.get(wt):this.form}static#e=this.\u0275fac=function(tn){return new(tn||kt)(p.rXU(Y,10),p.rXU(oe,10),p.rXU(Jn,8))};static#t=this.\u0275dir=p.FsC({type:kt,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(tn,On){1&tn&&p.bIt("submit",function(Vi){return On.onSubmit(Vi)})("reset",function(){return On.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p.Jv_([xo]),p.Vt3]})}return kt})();function ko(kt,Lt){const wt=kt.indexOf(Lt);wt>-1&&kt.splice(wt,1)}function Jo(kt){return"object"==typeof kt&&null!==kt&&2===Object.keys(kt).length&&"value"in kt&&"disabled"in kt}const ji=class extends Vt{constructor(Lt=null,wt,tn){super(dn(wt),vt(tn,wt)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Lt),this._setUpdateStrategy(wt),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),St(wt)&&(wt.nonNullable||wt.initialValueIsDefault)&&(this.defaultValue=Jo(Lt)?Lt.value:Lt)}setValue(Lt,wt={}){this.value=this._pendingValue=Lt,this._onChange.length&&!1!==wt.emitModelToViewChange&&this._onChange.forEach(tn=>tn(this.value,!1!==wt.emitViewToModelChange)),this.updateValueAndValidity(wt)}patchValue(Lt,wt={}){this.setValue(Lt,wt)}reset(Lt=this.defaultValue,wt={}){this._applyFormState(Lt),this.markAsPristine(wt),this.markAsUntouched(wt),this.setValue(this.value,wt),this._pendingChange=!1}_updateValue(){}_anyControls(Lt){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Lt){this._onChange.push(Lt)}_unregisterOnChange(Lt){ko(this._onChange,Lt)}registerOnDisabledChange(Lt){this._onDisabledChange.push(Lt)}_unregisterOnDisabledChange(Lt){ko(this._onDisabledChange,Lt)}_forEachChild(Lt){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Lt){Jo(Lt)?(this.value=this._pendingValue=Lt.value,Lt.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Lt}};let La=(()=>{class kt extends Te{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return $n(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=(()=>{let wt;return function(On){return(wt||(wt=p.xGo(kt)))(On||kt)}})();static#t=this.\u0275dir=p.FsC({type:kt,features:[p.Vt3]})}return kt})();const ua={provide:pe,useExisting:(0,p.Rfq)(()=>cl)},wa=Promise.resolve();let cl=(()=>{class kt extends pe{constructor(wt,tn,On,Jr,Vi,gs){super(),this._changeDetectorRef=Vi,this.callSetDisabledState=gs,this.control=new ji,this._registered=!1,this.name="",this.update=new p.bkB,this._parent=wt,this._setValidators(tn),this._setAsyncValidators(On),this.valueAccessor=Fr(0,Jr)}ngOnChanges(wt){if(this._checkForErrors(),!this._registered||"name"in wt){if(this._registered&&(this._checkName(),this.formDirective)){const tn=wt.name.previousValue;this.formDirective.removeControl({name:tn,path:this._getPath(tn)})}this._setUpControl()}"isDisabled"in wt&&this._updateDisabled(wt),fr(wt,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(wt){this.viewModel=wt,this.update.emit(wt)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){st(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(wt){wa.then(()=>{this.control.setValue(wt,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(wt){const tn=wt.isDisabled.currentValue,On=0!==tn&&(0,p.L39)(tn);wa.then(()=>{On&&!this.control.disabled?this.control.disable():!On&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(wt){return this._parent?$n(wt,this._parent):[wt]}static#e=this.\u0275fac=function(tn){return new(tn||kt)(p.rXU(Te,9),p.rXU(Y,10),p.rXU(oe,10),p.rXU(F,10),p.rXU(p.gRc,8),p.rXU(Jn,8))};static#t=this.\u0275dir=p.FsC({type:kt,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p.Jv_([ua]),p.Vt3,p.OA$]})}return kt})(),Ya=(()=>{class kt{static#e=this.\u0275fac=function(tn){return new(tn||kt)};static#t=this.\u0275dir=p.FsC({type:kt,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return kt})();const ac=new p.nKC(""),qs={provide:pe,useExisting:(0,p.Rfq)(()=>kl)};let kl=(()=>{class kt extends pe{set isDisabled(wt){}static#e=this._ngModelWarningSentOnce=!1;constructor(wt,tn,On,Jr,Vi){super(),this._ngModelWarningConfig=Jr,this.callSetDisabledState=Vi,this.update=new p.bkB,this._ngModelWarningSent=!1,this._setValidators(wt),this._setAsyncValidators(tn),this.valueAccessor=Fr(0,On)}ngOnChanges(wt){if(this._isControlChanged(wt)){const tn=wt.form.previousValue;tn&&Ge(tn,this,!1),st(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}fr(wt,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Ge(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(wt){this.viewModel=wt,this.update.emit(wt)}_isControlChanged(wt){return wt.hasOwnProperty("form")}static#t=this.\u0275fac=function(tn){return new(tn||kt)(p.rXU(Y,10),p.rXU(oe,10),p.rXU(F,10),p.rXU(ac,8),p.rXU(Jn,8))};static#n=this.\u0275dir=p.FsC({type:kt,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[p.Jv_([qs]),p.Vt3,p.OA$]})}return kt})();const dl={provide:Te,useExisting:(0,p.Rfq)(()=>pc)};let pc=(()=>{class kt extends Te{get submitted(){return(0,p.O8t)(this._submittedReactive)}set submitted(wt){this._submittedReactive.set(wt)}constructor(wt,tn,On){super(),this.callSetDisabledState=On,this._submitted=(0,p.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,p.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.bkB,this._setValidators(wt),this._setAsyncValidators(tn)}ngOnChanges(wt){this._checkFormPresent(),wt.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(wt){const tn=this.form.get(wt.path);return st(tn,wt,this.callSetDisabledState),tn.updateValueAndValidity({emitEvent:!1}),this.directives.push(wt),tn}getControl(wt){return this.form.get(wt.path)}removeControl(wt){Ge(wt.control||null,wt,!1),function jr(kt,Lt){const wt=kt.indexOf(Lt);wt>-1&&kt.splice(wt,1)}(this.directives,wt)}addFormGroup(wt){this._setUpFormContainer(wt)}removeFormGroup(wt){this._cleanUpFormContainer(wt)}getFormGroup(wt){return this.form.get(wt.path)}addFormArray(wt){this._setUpFormContainer(wt)}removeFormArray(wt){this._cleanUpFormContainer(wt)}getFormArray(wt){return this.form.get(wt.path)}updateModel(wt,tn){this.form.get(wt.path).setValue(tn)}onSubmit(wt){return this._submittedReactive.set(!0),xr(this.form,this.directives),this.ngSubmit.emit(wt),this.form._events.next(new zt(this.control)),"dialog"===wt?.target?.method}onReset(){this.resetForm()}resetForm(wt=void 0){this.form.reset(wt),this._submittedReactive.set(!1),this.form._events.next(new Jt(this.form))}_updateDomValue(){this.directives.forEach(wt=>{const tn=wt.control,On=this.form.get(wt.path);tn!==On&&(Ge(tn||null,wt),(kt=>kt instanceof ji)(On)&&(st(On,wt,this.callSetDisabledState),wt.control=On))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(wt){const tn=this.form.get(wt.path);Kr(tn,wt),tn.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(wt){if(this.form){const tn=this.form.get(wt.path);tn&&function Xr(kt,Lt){return Wn(kt,Lt)}(tn,wt)&&tn.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_n(this.form,this),this._oldForm&&Wn(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(tn){return new(tn||kt)(p.rXU(Y,10),p.rXU(oe,10),p.rXU(Jn,8))};static#t=this.\u0275dir=p.FsC({type:kt,selectors:[["","formGroup",""]],hostBindings:function(tn,On){1&tn&&p.bIt("submit",function(Vi){return On.onSubmit(Vi)})("reset",function(){return On.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p.Jv_([dl]),p.Vt3,p.OA$]})}return kt})();const Vs={provide:Te,useExisting:(0,p.Rfq)(()=>Dc)};let Dc=(()=>{class kt extends La{constructor(wt,tn,On){super(),this.name=null,this._parent=wt,this._setValidators(tn),this._setAsyncValidators(On)}_checkParentType(){ul(this._parent)}static#e=this.\u0275fac=function(tn){return new(tn||kt)(p.rXU(Te,13),p.rXU(Y,10),p.rXU(oe,10))};static#t=this.\u0275dir=p.FsC({type:kt,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[p.Jv_([Vs]),p.Vt3]})}return kt})();const Qs={provide:Te,useExisting:(0,p.Rfq)(()=>Ea)};let Ea=(()=>{class kt extends Te{constructor(wt,tn,On){super(),this.name=null,this._parent=wt,this._setValidators(tn),this._setAsyncValidators(On)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return $n(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){ul(this._parent)}static#e=this.\u0275fac=function(tn){return new(tn||kt)(p.rXU(Te,13),p.rXU(Y,10),p.rXU(oe,10))};static#t=this.\u0275dir=p.FsC({type:kt,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[p.Jv_([Qs]),p.Vt3]})}return kt})();function ul(kt){return!(kt instanceof Dc||kt instanceof pc||kt instanceof Ea)}const mc={provide:pe,useExisting:(0,p.Rfq)(()=>oo)};let oo=(()=>{class kt extends pe{set isDisabled(wt){}static#e=this._ngModelWarningSentOnce=!1;constructor(wt,tn,On,Jr,Vi){super(),this._ngModelWarningConfig=Vi,this._added=!1,this.name=null,this.update=new p.bkB,this._ngModelWarningSent=!1,this._parent=wt,this._setValidators(tn),this._setAsyncValidators(On),this.valueAccessor=Fr(0,Jr)}ngOnChanges(wt){this._added||this._setUpControl(),fr(wt,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(wt){this.viewModel=wt,this.update.emit(wt)}get path(){return $n(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(tn){return new(tn||kt)(p.rXU(Te,13),p.rXU(Y,10),p.rXU(oe,10),p.rXU(F,10),p.rXU(ac,8))};static#n=this.\u0275dir=p.FsC({type:kt,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[p.Jv_([mc]),p.Vt3,p.OA$]})}return kt})();let ci=(()=>{class kt{constructor(){this._validator=y}ngOnChanges(wt){if(this.inputName in wt){const tn=this.normalizeInput(wt[this.inputName].currentValue);this._enabled=this.enabled(tn),this._validator=this._enabled?this.createValidator(tn):y,this._onChange&&this._onChange()}}validate(wt){return this._validator(wt)}registerOnValidatorChange(wt){this._onChange=wt}enabled(wt){return null!=wt}static#e=this.\u0275fac=function(tn){return new(tn||kt)};static#t=this.\u0275dir=p.FsC({type:kt,features:[p.OA$]})}return kt})();const Ai={provide:Y,useExisting:(0,p.Rfq)(()=>Lo),multi:!0},ea={provide:Y,useExisting:(0,p.Rfq)(()=>Po),multi:!0};let Lo=(()=>{class kt extends ci{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=p.L39,this.createValidator=wt=>we}enabled(wt){return wt}static#e=this.\u0275fac=(()=>{let wt;return function(On){return(wt||(wt=p.xGo(kt)))(On||kt)}})();static#t=this.\u0275dir=p.FsC({type:kt,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(tn,On){2&tn&&p.BMQ("required",On._enabled?"":null)},inputs:{required:"required"},features:[p.Jv_([Ai]),p.Vt3]})}return kt})(),Po=(()=>{class kt extends Lo{constructor(){super(...arguments),this.createValidator=wt=>xe}static#e=this.\u0275fac=(()=>{let wt;return function(On){return(wt||(wt=p.xGo(kt)))(On||kt)}})();static#t=this.\u0275dir=p.FsC({type:kt,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(tn,On){2&tn&&p.BMQ("required",On._enabled?"":null)},features:[p.Jv_([ea]),p.Vt3]})}return kt})();const mo={provide:Y,useExisting:(0,p.Rfq)(()=>Ja),multi:!0};let Ja=(()=>{class kt extends ci{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=wt=>function Kn(kt){return"number"==typeof kt?kt:parseInt(kt,10)}(wt),this.createValidator=wt=>a(wt)}static#e=this.\u0275fac=(()=>{let wt;return function(On){return(wt||(wt=p.xGo(kt)))(On||kt)}})();static#t=this.\u0275dir=p.FsC({type:kt,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(tn,On){2&tn&&p.BMQ("maxlength",On._enabled?On.maxlength:null)},inputs:{maxlength:"maxlength"},features:[p.Jv_([mo]),p.Vt3]})}return kt})(),vf=(()=>{class kt{static#e=this.\u0275fac=function(tn){return new(tn||kt)};static#t=this.\u0275mod=p.$C({type:kt});static#n=this.\u0275inj=p.G2t({})}return kt})();class Rd extends Vt{constructor(Lt,wt,tn){super(dn(wt),vt(tn,wt)),this.controls=Lt,this._initObservables(),this._setUpdateStrategy(wt),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Lt){return this.controls[this._adjustIndex(Lt)]}push(Lt,wt={}){this.controls.push(Lt),this._registerControl(Lt),this.updateValueAndValidity({emitEvent:wt.emitEvent}),this._onCollectionChange()}insert(Lt,wt,tn={}){this.controls.splice(Lt,0,wt),this._registerControl(wt),this.updateValueAndValidity({emitEvent:tn.emitEvent})}removeAt(Lt,wt={}){let tn=this._adjustIndex(Lt);tn<0&&(tn=0),this.controls[tn]&&this.controls[tn]._registerOnCollectionChange(()=>{}),this.controls.splice(tn,1),this.updateValueAndValidity({emitEvent:wt.emitEvent})}setControl(Lt,wt,tn={}){let On=this._adjustIndex(Lt);On<0&&(On=0),this.controls[On]&&this.controls[On]._registerOnCollectionChange(()=>{}),this.controls.splice(On,1),wt&&(this.controls.splice(On,0,wt),this._registerControl(wt)),this.updateValueAndValidity({emitEvent:tn.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Lt,wt={}){nt(this,0,Lt),Lt.forEach((tn,On)=>{Xe(this,!1,On),this.at(On).setValue(tn,{onlySelf:!0,emitEvent:wt.emitEvent})}),this.updateValueAndValidity(wt)}patchValue(Lt,wt={}){null!=Lt&&(Lt.forEach((tn,On)=>{this.at(On)&&this.at(On).patchValue(tn,{onlySelf:!0,emitEvent:wt.emitEvent})}),this.updateValueAndValidity(wt))}reset(Lt=[],wt={}){this._forEachChild((tn,On)=>{tn.reset(Lt[On],{onlySelf:!0,emitEvent:wt.emitEvent})}),this._updatePristine(wt,this),this._updateTouched(wt,this),this.updateValueAndValidity(wt)}getRawValue(){return this.controls.map(Lt=>Lt.getRawValue())}clear(Lt={}){this.controls.length<1||(this._forEachChild(wt=>wt._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Lt.emitEvent}))}_adjustIndex(Lt){return Lt<0?Lt+this.length:Lt}_syncPendingControls(){let Lt=this.controls.reduce((wt,tn)=>!!tn._syncPendingControls()||wt,!1);return Lt&&this.updateValueAndValidity({onlySelf:!0}),Lt}_forEachChild(Lt){this.controls.forEach((wt,tn)=>{Lt(wt,tn)})}_updateValue(){this.value=this.controls.filter(Lt=>Lt.enabled||this.disabled).map(Lt=>Lt.value)}_anyControls(Lt){return this.controls.some(wt=>wt.enabled&&Lt(wt))}_setUpControls(){this._forEachChild(Lt=>this._registerControl(Lt))}_allControlsDisabled(){for(const Lt of this.controls)if(Lt.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Lt){Lt.setParent(this),Lt._registerOnCollectionChange(this._onCollectionChange)}_find(Lt){return this.at(Lt)??null}}function Ol(kt){return!!kt&&(void 0!==kt.asyncValidators||void 0!==kt.validators||void 0!==kt.updateOn)}let qa=(()=>{class kt{constructor(){this.useNonNullable=!1}get nonNullable(){const wt=new kt;return wt.useNonNullable=!0,wt}group(wt,tn=null){const On=this._reduceControls(wt);let Jr={};return Ol(tn)?Jr=tn:null!==tn&&(Jr.validators=tn.validator,Jr.asyncValidators=tn.asyncValidator),new Ot(On,Jr)}record(wt,tn=null){const On=this._reduceControls(wt);return new In(On,tn)}control(wt,tn,On){let Jr={};return this.useNonNullable?(Ol(tn)?Jr=tn:(Jr.validators=tn,Jr.asyncValidators=On),new ji(wt,{...Jr,nonNullable:!0})):new ji(wt,tn,On)}array(wt,tn,On){const Jr=wt.map(Vi=>this._createControl(Vi));return new Rd(Jr,tn,On)}_reduceControls(wt){const tn={};return Object.keys(wt).forEach(On=>{tn[On]=this._createControl(wt[On])}),tn}_createControl(wt){return wt instanceof ji||wt instanceof Vt?wt:Array.isArray(wt)?this.control(wt[0],wt.length>1?wt[1]:null,wt.length>2?wt[2]:null):this.control(wt)}static#e=this.\u0275fac=function(tn){return new(tn||kt)};static#t=this.\u0275prov=p.jDH({token:kt,factory:kt.\u0275fac,providedIn:"root"})}return kt})(),Qa=(()=>{class kt{static withConfig(wt){return{ngModule:kt,providers:[{provide:Jn,useValue:wt.callSetDisabledState??Ln}]}}static#e=this.\u0275fac=function(tn){return new(tn||kt)};static#t=this.\u0275mod=p.$C({type:kt});static#n=this.\u0275inj=p.G2t({imports:[vf]})}return kt})(),Rl=(()=>{class kt{static withConfig(wt){return{ngModule:kt,providers:[{provide:ac,useValue:wt.warnOnNgModelWithFormControl??"always"},{provide:Jn,useValue:wt.callSetDisabledState??Ln}]}}static#e=this.\u0275fac=function(tn){return new(tn||kt)};static#t=this.\u0275mod=p.$C({type:kt});static#n=this.\u0275inj=p.G2t({imports:[vf]})}return kt})()},94073:()=>{"use strict";const Fe=":";Error;const ce=function($e,...Se){if(ce.translate){const Ne=ce.translate($e,Se);$e=Ne[0],Se=Ne[1]}let be=Pe($e[0],$e.raw[0]);for(let Ne=1;Ne<$e.length;Ne++)be+=Se[Ne-1]+Pe($e[Ne],$e.raw[Ne]);return be},_e=":";function Pe($e,Se){return Se.charAt(0)===_e?$e.substring(function y($e,Se){for(let be=1,Ne=1;be<$e.length;be++,Ne++)if("\\"===Se[Ne])Ne++;else if($e[be]===Fe)return be;throw new Error(`Unterminated $localize metadata block in "${Se}".`)}($e,Se)+1):$e}globalThis.$localize=ce},88834:(Fe,z,_)=>{"use strict";_.d(z,{$z:()=>de,Hl:()=>T,It:()=>le,iY:()=>g});var p=_(36860),E=_(93953),k=_(18617),H=_(86600);const x=["mat-button",""],R=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],A=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],F=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",j=["mat-icon-button",""],G=["*"],te=new E.nKC("MAT_BUTTON_CONFIG"),Y=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let oe=(()=>{class N{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(s){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,s)}get disableRipple(){return this._disableRipple}set disableRipple(s){this._disableRipple=s,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(s){this._disabled=s,this._updateRippleDisabled()}constructor(s,v,W,K){this._elementRef=s,this._platform=v,this._ngZone=W,this._animationMode=K,this._focusMonitor=(0,E.WQX)(k.FN),this._rippleLoader=(0,E.WQX)(H.Ej),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const ee=(0,E.WQX)(te,{optional:!0}),ce=s.nativeElement,_e=ce.classList;this.disabledInteractive=ee?.disabledInteractive??!1,this.color=ee?.color??null,this._rippleLoader?.configureRipple(ce,{className:"mat-mdc-button-ripple"});for(const{attribute:Pe,mdcClasses:$e}of Y)ce.hasAttribute(Pe)&&_e.add(...$e)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(s="program",v){s?this._focusMonitor.focusVia(this._elementRef.nativeElement,s,v):this._elementRef.nativeElement.focus(v)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(v){E.QTQ()};static#t=this.\u0275dir=E.FsC({type:N,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",E.L39],disabled:[2,"disabled","disabled",E.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",E.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",E.L39]},features:[E.GFd]})}return N})(),se=(()=>{class N extends oe{constructor(s,v,W,K){super(s,v,W,K),this._haltDisabledEvents=ee=>{this.disabled&&(ee.preventDefault(),ee.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return null==this.ariaDisabled?this.disabled:this.ariaDisabled}static#e=this.\u0275fac=function(v){E.QTQ()};static#t=this.\u0275dir=E.FsC({type:N,inputs:{tabIndex:[2,"tabIndex","tabIndex",s=>null==s?void 0:(0,E.Udg)(s)]},features:[E.GFd,E.Vt3]})}return N})(),de=(()=>{class N extends oe{constructor(s,v,W,K){super(s,v,W,K)}static#e=this.\u0275fac=function(v){return new(v||N)(E.rXU(E.aKT),E.rXU(p.OD),E.rXU(E.SKi),E.rXU(E.bc$,8))};static#t=this.\u0275cmp=E.VBU({type:N,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(v,W){2&v&&(E.BMQ("disabled",W._getDisabledAttribute())("aria-disabled",W._getAriaDisabled()),E.HbH(W.color?"mat-"+W.color:""),E.AVh("mat-mdc-button-disabled",W.disabled)("mat-mdc-button-disabled-interactive",W.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===W._animationMode)("mat-unthemed",!W.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[E.Vt3,E.aNF],attrs:x,ngContentSelectors:A,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,W){1&v&&(E.NAR(R),E.nrm(0,"span",0),E.SdG(1),E.j41(2,"span",1),E.SdG(3,1),E.k0s(),E.SdG(4,2),E.nrm(5,"span",2)(6,"span",3)),2&v&&E.AVh("mdc-button__ripple",!W._isFab)("mdc-fab__ripple",W._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return N})(),le=(()=>{class N extends se{constructor(s,v,W,K){super(s,v,W,K)}static#e=this.\u0275fac=function(v){return new(v||N)(E.rXU(E.aKT),E.rXU(p.OD),E.rXU(E.SKi),E.rXU(E.bc$,8))};static#t=this.\u0275cmp=E.VBU({type:N,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(v,W){2&v&&(E.BMQ("disabled",W._getDisabledAttribute())("tabindex",W.disabled&&!W.disabledInteractive?-1:W.tabIndex)("aria-disabled",W._getDisabledAttribute()),E.HbH(W.color?"mat-"+W.color:""),E.AVh("mat-mdc-button-disabled",W.disabled)("mat-mdc-button-disabled-interactive",W.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===W._animationMode)("mat-unthemed",!W.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[E.Vt3,E.aNF],attrs:x,ngContentSelectors:A,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,W){1&v&&(E.NAR(R),E.nrm(0,"span",0),E.SdG(1),E.j41(2,"span",1),E.SdG(3,1),E.k0s(),E.SdG(4,2),E.nrm(5,"span",2)(6,"span",3)),2&v&&E.AVh("mdc-button__ripple",!W._isFab)("mdc-fab__ripple",W._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',F],encapsulation:2,changeDetection:0})}return N})(),g=(()=>{class N extends oe{constructor(s,v,W,K){super(s,v,W,K),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(v){return new(v||N)(E.rXU(E.aKT),E.rXU(p.OD),E.rXU(E.SKi),E.rXU(E.bc$,8))};static#t=this.\u0275cmp=E.VBU({type:N,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(v,W){2&v&&(E.BMQ("disabled",W._getDisabledAttribute())("aria-disabled",W._getAriaDisabled()),E.HbH(W.color?"mat-"+W.color:""),E.AVh("mat-mdc-button-disabled",W.disabled)("mat-mdc-button-disabled-interactive",W.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===W._animationMode)("mat-unthemed",!W.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[E.Vt3,E.aNF],attrs:j,ngContentSelectors:G,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,W){1&v&&(E.NAR(),E.nrm(0,"span",0),E.SdG(1),E.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',F],encapsulation:2,changeDetection:0})}return N})(),T=(()=>{class N{static#e=this.\u0275fac=function(v){return new(v||N)};static#t=this.\u0275mod=E.$C({type:N});static#n=this.\u0275inj=E.G2t({imports:[H.yE,H.pZ,H.yE]})}return N})()},25596:(Fe,z,_)=>{"use strict";_.d(z,{Hu:()=>xe,Lc:()=>G,MM:()=>te,QG:()=>le,RN:()=>L,WQ:()=>J,YY:()=>re,aJ:()=>Z,dh:()=>I,kF:()=>Y,m2:()=>j});var p=_(93953),E=_(60177),k=_(86600);const H=["*"],x=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["","mat-card-image",""],["","matCardImage",""],["","mat-card-sm-image",""],["","matCardImageSmall",""],["","mat-card-md-image",""],["","matCardImageMedium",""],["","mat-card-lg-image",""],["","matCardImageLarge",""],["","mat-card-xl-image",""],["","matCardImageXLarge",""]],"*"],R=["mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","[mat-card-image], [matCardImage],\n                    [mat-card-sm-image], [matCardImageSmall],\n                    [mat-card-md-image], [matCardImageMedium],\n                    [mat-card-lg-image], [matCardImageLarge],\n                    [mat-card-xl-image], [matCardImageXLarge]","*"],A=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],O=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],F=new p.nKC("MAT_CARD_CONFIG");let L=(()=>{class Ce{constructor(a){this.appearance=a?.appearance||"raised"}static#e=this.\u0275fac=function(u){return new(u||Ce)(p.rXU(F,8))};static#t=this.\u0275cmp=p.VBU({type:Ce,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(u,y){2&u&&p.AVh("mat-mdc-card-outlined","outlined"===y.appearance)("mdc-card--outlined","outlined"===y.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[p.aNF],ngContentSelectors:H,decls:1,vars:0,template:function(u,y){1&u&&(p.NAR(),p.SdG(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color);border-color:var(--mdc-elevated-card-container-color);border-radius:var(--mdc-elevated-card-container-shape);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color);border-radius:var(--mdc-outlined-card-container-shape);border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return Ce})(),I=(()=>{class Ce{static#e=this.\u0275fac=function(u){return new(u||Ce)};static#t=this.\u0275dir=p.FsC({type:Ce,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}return Ce})(),Z=(()=>{class Ce{static#e=this.\u0275fac=function(u){return new(u||Ce)};static#t=this.\u0275cmp=p.VBU({type:Ce,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-mdc-card-title-group"],standalone:!0,features:[p.aNF],ngContentSelectors:R,decls:4,vars:0,template:function(u,y){1&u&&(p.NAR(x),p.j41(0,"div"),p.SdG(1),p.k0s(),p.SdG(2,1),p.SdG(3,2))},encapsulation:2,changeDetection:0})}return Ce})(),j=(()=>{class Ce{static#e=this.\u0275fac=function(u){return new(u||Ce)};static#t=this.\u0275dir=p.FsC({type:Ce,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}return Ce})(),G=(()=>{class Ce{static#e=this.\u0275fac=function(u){return new(u||Ce)};static#t=this.\u0275dir=p.FsC({type:Ce,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0})}return Ce})(),re=(()=>{class Ce{constructor(){this.align="start"}static#e=this.\u0275fac=function(u){return new(u||Ce)};static#t=this.\u0275dir=p.FsC({type:Ce,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(u,y){2&u&&p.AVh("mat-mdc-card-actions-align-end","end"===y.align)},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0})}return Ce})(),te=(()=>{class Ce{static#e=this.\u0275fac=function(u){return new(u||Ce)};static#t=this.\u0275cmp=p.VBU({type:Ce,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[p.aNF],ngContentSelectors:O,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(u,y){1&u&&(p.NAR(A),p.SdG(0),p.j41(1,"div",0),p.SdG(2,1),p.k0s(),p.SdG(3,2))},encapsulation:2,changeDetection:0})}return Ce})(),J=(()=>{class Ce{static#e=this.\u0275fac=function(u){return new(u||Ce)};static#t=this.\u0275dir=p.FsC({type:Ce,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"],standalone:!0})}return Ce})(),Y=(()=>{class Ce{static#e=this.\u0275fac=function(u){return new(u||Ce)};static#t=this.\u0275dir=p.FsC({type:Ce,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0})}return Ce})(),le=(()=>{class Ce{static#e=this.\u0275fac=function(u){return new(u||Ce)};static#t=this.\u0275dir=p.FsC({type:Ce,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-mdc-card-avatar"],standalone:!0})}return Ce})(),xe=(()=>{class Ce{static#e=this.\u0275fac=function(u){return new(u||Ce)};static#t=this.\u0275mod=p.$C({type:Ce});static#n=this.\u0275inj=p.G2t({imports:[k.yE,E.MD,k.yE]})}return Ce})()},86600:(Fe,z,_)=>{"use strict";_.d(z,{r5:()=>se,ed:()=>de,es:()=>ye,QC:()=>Bt,is:()=>Ae,$E:()=>w,yE:()=>xe,Np:()=>Q,wT:()=>un,Sy:()=>Mn,wg:()=>ne,O5:()=>ge,r6:()=>m,Ej:()=>dn,pZ:()=>U,ug:()=>lt,X0:()=>T,tO:()=>hr,jb:()=>an,TL:()=>sr});var p=_(93953),E=_(18617),k=_(28203),x=_(60177),R=_(36860),A=_(14085),O=_(21413),F=_(67336);const Z=["text"],j=[[["mat-icon"]],"*"],G=["mat-icon","*"];function re(vt,xt){if(1&vt&&p.nrm(0,"mat-pseudo-checkbox",1),2&vt){const St=p.XpG();p.Y8G("disabled",St.disabled)("state",St.selected?"checked":"unchecked")}}function te(vt,xt){if(1&vt&&p.nrm(0,"mat-pseudo-checkbox",3),2&vt){const St=p.XpG();p.Y8G("disabled",St.disabled)}}function J(vt,xt){if(1&vt&&(p.j41(0,"span",4),p.EFF(1),p.k0s()),2&vt){const St=p.XpG();p.R7$(),p.SpI("(",St.group.label,")")}}const Y=["mat-internal-form-field",""],oe=["*"];let se=(()=>{class vt{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#f=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return vt})(),de=(()=>{class vt{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return vt})();const we=new p.nKC("mat-sanity-checks",{providedIn:"root",factory:function le(){return!0}});let xe=(()=>{class vt{constructor(St,Xe,nt){this._sanityChecks=Xe,this._document=nt,this._hasDoneGlobalChecks=!1,St._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(St){return!(0,R.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[St])}static#e=this.\u0275fac=function(Xe){return new(Xe||vt)(p.KVO(E.Q_),p.KVO(we,8),p.KVO(x.qQ))};static#t=this.\u0275mod=p.$C({type:vt});static#n=this.\u0275inj=p.G2t({imports:[k.jI,k.jI]})}return vt})();class T{constructor(xt,St,Xe,nt,Vt){this._defaultMatcher=xt,this.ngControl=St,this._parentFormGroup=Xe,this._parentForm=nt,this._stateChanges=Vt,this.errorState=!1}updateErrorState(){const xt=this.errorState,St=this._parentFormGroup||this._parentForm,Xe=this.matcher||this._defaultMatcher,nt=this.ngControl?this.ngControl.control:null,Vt=Xe?.isErrorState(nt,St)??!1;Vt!==xt&&(this.errorState=Vt,this._stateChanges.next())}}let ye=(()=>{class vt{isErrorState(St,Xe){return!!(St&&St.invalid&&(St.touched||Xe&&Xe.submitted))}static#e=this.\u0275fac=function(Xe){return new(Xe||vt)};static#t=this.\u0275prov=p.jDH({token:vt,factory:vt.\u0275fac,providedIn:"root"})}return vt})(),Q=(()=>{class vt{static#e=this.\u0275fac=function(Xe){return new(Xe||vt)};static#t=this.\u0275mod=p.$C({type:vt});static#n=this.\u0275inj=p.G2t({imports:[xe,xe]})}return vt})();var ie=function(vt){return vt[vt.FADING_IN=0]="FADING_IN",vt[vt.VISIBLE=1]="VISIBLE",vt[vt.FADING_OUT=2]="FADING_OUT",vt[vt.HIDDEN=3]="HIDDEN",vt}(ie||{});class ue{constructor(xt,St,Xe,nt=!1){this._renderer=xt,this.element=St,this.config=Xe,this._animationForciblyDisabledThroughCss=nt,this.state=ie.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Ee=(0,R.BQ)({passive:!0,capture:!0});class ke{constructor(){this._events=new Map,this._delegateEventHandler=xt=>{const St=(0,R.Fb)(xt);St&&this._events.get(xt.type)?.forEach((Xe,nt)=>{(nt===St||nt.contains(St))&&Xe.forEach(Vt=>Vt.handleEvent(xt))})}}addHandler(xt,St,Xe,nt){const Vt=this._events.get(St);if(Vt){const Ot=Vt.get(Xe);Ot?Ot.add(nt):Vt.set(Xe,new Set([nt]))}else this._events.set(St,new Map([[Xe,new Set([nt])]])),xt.runOutsideAngular(()=>{document.addEventListener(St,this._delegateEventHandler,Ee)})}removeHandler(xt,St,Xe){const nt=this._events.get(xt);if(!nt)return;const Vt=nt.get(St);Vt&&(Vt.delete(Xe),0===Vt.size&&nt.delete(St),0===nt.size&&(this._events.delete(xt),document.removeEventListener(xt,this._delegateEventHandler,Ee)))}}const Ue={enterDuration:225,exitDuration:150},_t=(0,R.BQ)({passive:!0,capture:!0}),Ve=["mousedown","touchstart"],Be=["mouseup","mouseleave","touchend","touchcancel"];class lt{static#e=this._eventManager=new ke;constructor(xt,St,Xe,nt){this._target=xt,this._ngZone=St,this._platform=nt,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,nt.isBrowser&&(this._containerElement=(0,A.i8)(Xe))}fadeInRipple(xt,St,Xe={}){const nt=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Vt={...Ue,...Xe.animation};Xe.centered&&(xt=nt.left+nt.width/2,St=nt.top+nt.height/2);const Ot=Xe.radius||function B(vt,xt,St){const Xe=Math.max(Math.abs(vt-St.left),Math.abs(vt-St.right)),nt=Math.max(Math.abs(xt-St.top),Math.abs(xt-St.bottom));return Math.sqrt(Xe*Xe+nt*nt)}(xt,St,nt),sn=xt-nt.left,Hn=St-nt.top,bn=Vt.enterDuration,In=document.createElement("div");In.classList.add("mat-ripple-element"),In.style.left=sn-Ot+"px",In.style.top=Hn-Ot+"px",In.style.height=2*Ot+"px",In.style.width=2*Ot+"px",null!=Xe.color&&(In.style.backgroundColor=Xe.color),In.style.transitionDuration=`${bn}ms`,this._containerElement.appendChild(In);const Ar=window.getComputedStyle(In),Ln=Ar.transitionDuration,$n="none"===Ar.transitionProperty||"0s"===Ln||"0s, 0s"===Ln||0===nt.width&&0===nt.height,st=new ue(this,In,Xe,$n);In.style.transform="scale3d(1, 1, 1)",st.state=ie.FADING_IN,Xe.persistent||(this._mostRecentTransientRipple=st);let Ge=null;return!$n&&(bn||Vt.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ct=()=>{Ge&&(Ge.fallbackTimer=null),clearTimeout(_n),this._finishRippleTransition(st)},Yt=()=>this._destroyRipple(st),_n=setTimeout(Yt,bn+100);In.addEventListener("transitionend",ct),In.addEventListener("transitioncancel",Yt),Ge={onTransitionEnd:ct,onTransitionCancel:Yt,fallbackTimer:_n}}),this._activeRipples.set(st,Ge),($n||!bn)&&this._finishRippleTransition(st),st}fadeOutRipple(xt){if(xt.state===ie.FADING_OUT||xt.state===ie.HIDDEN)return;const St=xt.element,Xe={...Ue,...xt.config.animation};St.style.transitionDuration=`${Xe.exitDuration}ms`,St.style.opacity="0",xt.state=ie.FADING_OUT,(xt._animationForciblyDisabledThroughCss||!Xe.exitDuration)&&this._finishRippleTransition(xt)}fadeOutAll(){this._getActiveRipples().forEach(xt=>xt.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(xt=>{xt.config.persistent||xt.fadeOut()})}setupTriggerEvents(xt){const St=(0,A.i8)(xt);!this._platform.isBrowser||!St||St===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=St,Ve.forEach(Xe=>{lt._eventManager.addHandler(this._ngZone,Xe,St,this)}))}handleEvent(xt){"mousedown"===xt.type?this._onMousedown(xt):"touchstart"===xt.type?this._onTouchStart(xt):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Be.forEach(St=>{this._triggerElement.addEventListener(St,this,_t)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(xt){xt.state===ie.FADING_IN?this._startFadeOutTransition(xt):xt.state===ie.FADING_OUT&&this._destroyRipple(xt)}_startFadeOutTransition(xt){const St=xt===this._mostRecentTransientRipple,{persistent:Xe}=xt.config;xt.state=ie.VISIBLE,!Xe&&(!St||!this._isPointerDown)&&xt.fadeOut()}_destroyRipple(xt){const St=this._activeRipples.get(xt)??null;this._activeRipples.delete(xt),this._activeRipples.size||(this._containerRect=null),xt===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),xt.state=ie.HIDDEN,null!==St&&(xt.element.removeEventListener("transitionend",St.onTransitionEnd),xt.element.removeEventListener("transitioncancel",St.onTransitionCancel),null!==St.fallbackTimer&&clearTimeout(St.fallbackTimer)),xt.element.remove()}_onMousedown(xt){const St=(0,E._G)(xt),Xe=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!St&&!Xe&&(this._isPointerDown=!0,this.fadeInRipple(xt.clientX,xt.clientY,this._target.rippleConfig))}_onTouchStart(xt){if(!this._target.rippleDisabled&&!(0,E.w6)(xt)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const St=xt.changedTouches;if(St)for(let Xe=0;Xe<St.length;Xe++)this.fadeInRipple(St[Xe].clientX,St[Xe].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(xt=>{!xt.config.persistent&&(xt.state===ie.VISIBLE||xt.config.terminateOnPointerUp&&xt.state===ie.FADING_IN)&&xt.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const xt=this._triggerElement;xt&&(Ve.forEach(St=>lt._eventManager.removeHandler(St,xt,this)),this._pointerUpEventsRegistered&&(Be.forEach(St=>xt.removeEventListener(St,this,_t)),this._pointerUpEventsRegistered=!1))}}const w=new p.nKC("mat-ripple-global-options");let m=(()=>{class vt{get disabled(){return this._disabled}set disabled(St){St&&this.fadeOutAllNonPersistent(),this._disabled=St,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(St){this._trigger=St,this._setupTriggerEventsIfEnabled()}constructor(St,Xe,nt,Vt,Ot){this._elementRef=St,this._animationMode=Ot,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Vt||{},this._rippleRenderer=new lt(this,Xe,St,nt)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(St,Xe=0,nt){return"number"==typeof St?this._rippleRenderer.fadeInRipple(St,Xe,{...this.rippleConfig,...nt}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...St})}static#e=this.\u0275fac=function(Xe){return new(Xe||vt)(p.rXU(p.aKT),p.rXU(p.SKi),p.rXU(R.OD),p.rXU(w,8),p.rXU(p.bc$,8))};static#t=this.\u0275dir=p.FsC({type:vt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Xe,nt){2&Xe&&p.AVh("mat-ripple-unbounded",nt.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return vt})(),U=(()=>{class vt{static#e=this.\u0275fac=function(Xe){return new(Xe||vt)};static#t=this.\u0275mod=p.$C({type:vt});static#n=this.\u0275inj=p.G2t({imports:[xe,xe]})}return vt})(),ne=(()=>{class vt{constructor(St){this._animationMode=St,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(Xe){return new(Xe||vt)(p.rXU(p.bc$,8))};static#t=this.\u0275cmp=p.VBU({type:vt,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(Xe,nt){2&Xe&&p.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===nt.state)("mat-pseudo-checkbox-checked","checked"===nt.state)("mat-pseudo-checkbox-disabled",nt.disabled)("mat-pseudo-checkbox-minimal","minimal"===nt.appearance)("mat-pseudo-checkbox-full","full"===nt.appearance)("_mat-animation-noopable","NoopAnimations"===nt._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[p.aNF],decls:0,vars:0,template:function(Xe,nt){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return vt})(),ge=(()=>{class vt{static#e=this.\u0275fac=function(Xe){return new(Xe||vt)};static#t=this.\u0275mod=p.$C({type:vt});static#n=this.\u0275inj=p.G2t({imports:[xe]})}return vt})();const Ae=new p.nKC("MAT_OPTION_PARENT_COMPONENT"),Bt=new p.nKC("MatOptgroup");let It=0;class Gt{constructor(xt,St=!1){this.source=xt,this.isUserInput=St}}let un=(()=>{class vt{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(St){this._disabled=St}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(St,Xe,nt,Vt){this._element=St,this._changeDetectorRef=Xe,this._parent=nt,this.group=Vt,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+It++,this.onSelectionChange=new p.bkB,this._stateChanges=new O.B}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(St=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),St&&this._emitSelectionChangeEvent())}deselect(St=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),St&&this._emitSelectionChangeEvent())}focus(St,Xe){const nt=this._getHostElement();"function"==typeof nt.focus&&nt.focus(Xe)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(St){(St.keyCode===F.Fm||St.keyCode===F.t6)&&!(0,F.rp)(St)&&(this._selectViaInteraction(),St.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const St=this.viewValue;St!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=St)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(St=!1){this.onSelectionChange.emit(new Gt(this,St))}static#e=this.\u0275fac=function(Xe){return new(Xe||vt)(p.rXU(p.aKT),p.rXU(p.gRc),p.rXU(Ae,8),p.rXU(Bt,8))};static#t=this.\u0275cmp=p.VBU({type:vt,selectors:[["mat-option"]],viewQuery:function(Xe,nt){if(1&Xe&&p.GBs(Z,7),2&Xe){let Vt;p.mGM(Vt=p.lsd())&&(nt._text=Vt.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(Xe,nt){1&Xe&&p.bIt("click",function(){return nt._selectViaInteraction()})("keydown",function(Ot){return nt._handleKeydown(Ot)}),2&Xe&&(p.Mr5("id",nt.id),p.BMQ("aria-selected",nt.selected)("aria-disabled",nt.disabled.toString()),p.AVh("mdc-list-item--selected",nt.selected)("mat-mdc-option-multiple",nt.multiple)("mat-mdc-option-active",nt.active)("mdc-list-item--disabled",nt.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",p.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[p.GFd,p.aNF],ngContentSelectors:G,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(Xe,nt){1&Xe&&(p.NAR(j),p.DNE(0,re,1,2,"mat-pseudo-checkbox",1),p.SdG(1),p.j41(2,"span",2,0),p.SdG(4,1),p.k0s(),p.DNE(5,te,1,1,"mat-pseudo-checkbox",3)(6,J,2,1,"span",4),p.nrm(7,"div",5)),2&Xe&&(p.vxM(nt.multiple?0:-1),p.R7$(5),p.vxM(nt.multiple||!nt.selected||nt.hideSingleSelectionIndicator?-1:5),p.R7$(),p.vxM(nt.group&&nt.group._inert?6:-1),p.R7$(),p.Y8G("matRippleTrigger",nt._getHostElement())("matRippleDisabled",nt.disabled||nt.disableRipple))},dependencies:[ne,m],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight)}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return vt})();function an(vt,xt,St){if(St.length){let Xe=xt.toArray(),nt=St.toArray(),Vt=0;for(let Ot=0;Ot<vt+1;Ot++)Xe[Ot].group&&Xe[Ot].group===nt[Vt]&&Vt++;return Vt}return 0}function sr(vt,xt,St,Xe){return vt<St?vt:vt+xt>St+Xe?Math.max(0,vt-Xe+xt):St}let Mn=(()=>{class vt{static#e=this.\u0275fac=function(Xe){return new(Xe||vt)};static#t=this.\u0275mod=p.$C({type:vt});static#n=this.\u0275inj=p.G2t({imports:[U,xe,ge]})}return vt})();const Qt={capture:!0},qt=["focus","mousedown","mouseenter","touchstart"],Et="mat-ripple-loader-uninitialized",ht="mat-ripple-loader-class-name",zt="mat-ripple-loader-centered",Jt="mat-ripple-loader-disabled";let dn=(()=>{class vt{constructor(){this._document=(0,p.WQX)(x.qQ,{optional:!0}),this._animationMode=(0,p.WQX)(p.bc$,{optional:!0}),this._globalRippleOptions=(0,p.WQX)(w,{optional:!0}),this._platform=(0,p.WQX)(R.OD),this._ngZone=(0,p.WQX)(p.SKi),this._hosts=new Map,this._onInteraction=St=>{const Xe=(0,R.Fb)(St);if(Xe instanceof HTMLElement){const nt=Xe.closest(`[${Et}="${this._globalRippleOptions?.namespace??""}"]`);nt&&this._createRipple(nt)}},this._ngZone.runOutsideAngular(()=>{for(const St of qt)this._document?.addEventListener(St,this._onInteraction,Qt)})}ngOnDestroy(){const St=this._hosts.keys();for(const Xe of St)this.destroyRipple(Xe);for(const Xe of qt)this._document?.removeEventListener(Xe,this._onInteraction,Qt)}configureRipple(St,Xe){St.setAttribute(Et,this._globalRippleOptions?.namespace??""),(Xe.className||!St.hasAttribute(ht))&&St.setAttribute(ht,Xe.className||""),Xe.centered&&St.setAttribute(zt,""),Xe.disabled&&St.setAttribute(Jt,"")}getRipple(St){return this._hosts.get(St)||this._createRipple(St)}setDisabled(St,Xe){const nt=this._hosts.get(St);nt?nt.disabled=Xe:Xe?St.setAttribute(Jt,""):St.removeAttribute(Jt)}_createRipple(St){if(!this._document)return;const Xe=this._hosts.get(St);if(Xe)return Xe;St.querySelector(".mat-ripple")?.remove();const nt=this._document.createElement("span");nt.classList.add("mat-ripple",St.getAttribute(ht)),St.append(nt);const Vt=new m(new p.aKT(nt),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Vt._isInitialized=!0,Vt.trigger=St,Vt.centered=St.hasAttribute(zt),Vt.disabled=St.hasAttribute(Jt),this.attachRipple(St,Vt),Vt}attachRipple(St,Xe){St.removeAttribute(Et),this._hosts.set(St,Xe)}destroyRipple(St){const Xe=this._hosts.get(St);Xe&&(Xe.ngOnDestroy(),this._hosts.delete(St))}static#e=this.\u0275fac=function(Xe){return new(Xe||vt)};static#t=this.\u0275prov=p.jDH({token:vt,factory:vt.\u0275fac,providedIn:"root"})}return vt})(),hr=(()=>{class vt{static#e=this.\u0275fac=function(Xe){return new(Xe||vt)};static#t=this.\u0275cmp=p.VBU({type:vt,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(Xe,nt){2&Xe&&p.AVh("mdc-form-field--align-end","before"===nt.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[p.aNF],attrs:Y,ngContentSelectors:oe,decls:1,vars:0,template:function(Xe,nt){1&Xe&&(p.NAR(),p.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return vt})()},75351:(Fe,z,_)=>{"use strict";_.d(z,{Vh:()=>Ne,bZ:()=>ie,E7:()=>_t,tx:()=>Ee,Yi:()=>Le,hM:()=>lt,CP:()=>Se,BI:()=>Ue});var p=_(66969),E=_(60177),k=_(93953),H=_(18617),x=_(36860),R=_(76939),A=_(67336),O=_(21413),F=_(59030),L=_(7673),I=_(28203),Z=_(99172);function j(m,U){}class G{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let te=(()=>{class m extends R.lb{constructor(ne,ge,Ae,Qe,Bt,gt,It,Gt){super(),this._elementRef=ne,this._focusTrapFactory=ge,this._config=Qe,this._interactivityChecker=Bt,this._ngZone=gt,this._overlayRef=It,this._focusMonitor=Gt,this._platform=(0,k.WQX)(x.OD),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,k.WQX)(k.gRc),this._injector=(0,k.WQX)(k.zZn),this._isDestroyed=!1,this.attachDomPortal=un=>{this._portalOutlet.hasAttached();const an=this._portalOutlet.attachDomPortal(un);return this._contentAttached(),an},this._document=Ae,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(ne){this._ariaLabelledByQueue.push(ne),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(ne){const ge=this._ariaLabelledByQueue.indexOf(ne);ge>-1&&(this._ariaLabelledByQueue.splice(ge,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(ne){this._portalOutlet.hasAttached();const ge=this._portalOutlet.attachComponentPortal(ne);return this._contentAttached(),ge}attachTemplatePortal(ne){this._portalOutlet.hasAttached();const ge=this._portalOutlet.attachTemplatePortal(ne);return this._contentAttached(),ge}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(ne,ge){this._interactivityChecker.isFocusable(ne)||(ne.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Ae=()=>{ne.removeEventListener("blur",Ae),ne.removeEventListener("mousedown",Ae),ne.removeAttribute("tabindex")};ne.addEventListener("blur",Ae),ne.addEventListener("mousedown",Ae)})),ne.focus(ge)}_focusByCssSelector(ne,ge){let Ae=this._elementRef.nativeElement.querySelector(ne);Ae&&this._forceFocus(Ae,ge)}_trapFocus(){this._isDestroyed||(0,k.mal)(()=>{const ne=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||ne.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const ne=this._config.restoreFocus;let ge=null;if("string"==typeof ne?ge=this._document.querySelector(ne):"boolean"==typeof ne?ge=ne?this._elementFocusedBeforeDialogWasOpened:null:ne&&(ge=ne),this._config.restoreFocus&&ge&&"function"==typeof ge.focus){const Ae=(0,x.vc)(),Qe=this._elementRef.nativeElement;(!Ae||Ae===this._document.body||Ae===Qe||Qe.contains(Ae))&&(this._focusMonitor?(this._focusMonitor.focusVia(ge,this._closeInteractionType),this._closeInteractionType=null):ge.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const ne=this._elementRef.nativeElement,ge=(0,x.vc)();return ne===ge||ne.contains(ge)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,x.vc)()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(ge){return new(ge||m)(k.rXU(k.aKT),k.rXU(H.GX),k.rXU(E.qQ,8),k.rXU(G),k.rXU(H.Z7),k.rXU(k.SKi),k.rXU(p.yY),k.rXU(H.FN))};static#t=this.\u0275cmp=k.VBU({type:m,selectors:[["cdk-dialog-container"]],viewQuery:function(ge,Ae){if(1&ge&&k.GBs(R.I3,7),2&ge){let Qe;k.mGM(Qe=k.lsd())&&(Ae._portalOutlet=Qe.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(ge,Ae){2&ge&&k.BMQ("id",Ae._config.id||null)("role",Ae._config.role)("aria-modal",Ae._config.ariaModal)("aria-labelledby",Ae._config.ariaLabel?null:Ae._ariaLabelledByQueue[0])("aria-label",Ae._config.ariaLabel)("aria-describedby",Ae._config.ariaDescribedBy||null)},standalone:!0,features:[k.Vt3,k.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(ge,Ae){1&ge&&k.DNE(0,j,0,0,"ng-template",0)},dependencies:[R.I3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return m})();class J{constructor(U,ne){this.overlayRef=U,this.config=ne,this.closed=new O.B,this.disableClose=ne.disableClose,this.backdropClick=U.backdropClick(),this.keydownEvents=U.keydownEvents(),this.outsidePointerEvents=U.outsidePointerEvents(),this.id=ne.id,this.keydownEvents.subscribe(ge=>{ge.keyCode===A._f&&!this.disableClose&&!(0,A.rp)(ge)&&(ge.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=U.detachments().subscribe(()=>{!1!==ne.closeOnOverlayDetachments&&this.close()})}close(U,ne){if(this.containerInstance){const ge=this.closed;this.containerInstance._closeInteractionType=ne?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),ge.next(U),ge.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(U="",ne=""){return this.overlayRef.updateSize({width:U,height:ne}),this}addPanelClass(U){return this.overlayRef.addPanelClass(U),this}removePanelClass(U){return this.overlayRef.removePanelClass(U),this}}const Y=new k.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const m=(0,k.WQX)(p.hJ);return()=>m.scrollStrategies.block()}}),oe=new k.nKC("DialogData"),ae=new k.nKC("DefaultDialogConfig");let le=0,we=(()=>{class m{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(ne,ge,Ae,Qe,Bt,gt){this._overlay=ne,this._injector=ge,this._defaultOptions=Ae,this._parentDialog=Qe,this._overlayContainer=Bt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new O.B,this._afterOpenedAtThisLevel=new O.B,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,F.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Z.Z)(void 0))),this._scrollStrategy=gt}open(ne,ge){(ge={...this._defaultOptions||new G,...ge}).id=ge.id||"cdk-dialog-"+le++,ge.id&&this.getDialogById(ge.id);const Qe=this._getOverlayConfig(ge),Bt=this._overlay.create(Qe),gt=new J(Bt,ge),It=this._attachContainer(Bt,gt,ge);return gt.containerInstance=It,this._attachDialogContent(ne,gt,It,ge),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(gt),gt.closed.subscribe(()=>this._removeOpenDialog(gt,!0)),this.afterOpened.next(gt),gt}closeAll(){xe(this.openDialogs,ne=>ne.close())}getDialogById(ne){return this.openDialogs.find(ge=>ge.id===ne)}ngOnDestroy(){xe(this._openDialogsAtThisLevel,ne=>{!1===ne.config.closeOnDestroy&&this._removeOpenDialog(ne,!1)}),xe(this._openDialogsAtThisLevel,ne=>ne.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(ne){const ge=new p.rR({positionStrategy:ne.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:ne.scrollStrategy||this._scrollStrategy(),panelClass:ne.panelClass,hasBackdrop:ne.hasBackdrop,direction:ne.direction,minWidth:ne.minWidth,minHeight:ne.minHeight,maxWidth:ne.maxWidth,maxHeight:ne.maxHeight,width:ne.width,height:ne.height,disposeOnNavigation:ne.closeOnNavigation});return ne.backdropClass&&(ge.backdropClass=ne.backdropClass),ge}_attachContainer(ne,ge,Ae){const Qe=Ae.injector||Ae.viewContainerRef?.injector,Bt=[{provide:G,useValue:Ae},{provide:J,useValue:ge},{provide:p.yY,useValue:ne}];let gt;Ae.container?"function"==typeof Ae.container?gt=Ae.container:(gt=Ae.container.type,Bt.push(...Ae.container.providers(Ae))):gt=te;const It=new R.A8(gt,Ae.viewContainerRef,k.zZn.create({parent:Qe||this._injector,providers:Bt}),Ae.componentFactoryResolver);return ne.attach(It).instance}_attachDialogContent(ne,ge,Ae,Qe){if(ne instanceof k.C4Q){const Bt=this._createInjector(Qe,ge,Ae,void 0);let gt={$implicit:Qe.data,dialogRef:ge};Qe.templateContext&&(gt={...gt,..."function"==typeof Qe.templateContext?Qe.templateContext():Qe.templateContext}),Ae.attachTemplatePortal(new R.VA(ne,null,gt,Bt))}else{const Bt=this._createInjector(Qe,ge,Ae,this._injector),gt=Ae.attachComponentPortal(new R.A8(ne,Qe.viewContainerRef,Bt,Qe.componentFactoryResolver));ge.componentRef=gt,ge.componentInstance=gt.instance}}_createInjector(ne,ge,Ae,Qe){const Bt=ne.injector||ne.viewContainerRef?.injector,gt=[{provide:oe,useValue:ne.data},{provide:J,useValue:ge}];return ne.providers&&("function"==typeof ne.providers?gt.push(...ne.providers(ge,ne,Ae)):gt.push(...ne.providers)),ne.direction&&(!Bt||!Bt.get(I.dS,null,{optional:!0}))&&gt.push({provide:I.dS,useValue:{value:ne.direction,change:(0,L.of)()}}),k.zZn.create({parent:Bt||Qe,providers:gt})}_removeOpenDialog(ne,ge){const Ae=this.openDialogs.indexOf(ne);Ae>-1&&(this.openDialogs.splice(Ae,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Qe,Bt)=>{Qe?Bt.setAttribute("aria-hidden",Qe):Bt.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),ge&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const ne=this._overlayContainer.getContainerElement();if(ne.parentElement){const ge=ne.parentElement.children;for(let Ae=ge.length-1;Ae>-1;Ae--){const Qe=ge[Ae];Qe!==ne&&"SCRIPT"!==Qe.nodeName&&"STYLE"!==Qe.nodeName&&!Qe.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Qe,Qe.getAttribute("aria-hidden")),Qe.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const ne=this._parentDialog;return ne?ne._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(ge){return new(ge||m)(k.KVO(p.hJ),k.KVO(k.zZn),k.KVO(ae,8),k.KVO(m,12),k.KVO(p.Sf),k.KVO(Y))};static#t=this.\u0275prov=k.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})();function xe(m,U){let ne=m.length;for(;ne--;)U(m[ne])}let Ce=(()=>{class m{static#e=this.\u0275fac=function(ge){return new(ge||m)};static#t=this.\u0275mod=k.$C({type:m});static#n=this.\u0275inj=k.G2t({providers:[we],imports:[p.z_,R.jc,H.Pd,R.jc]})}return m})();var C=_(14085),a=_(57786),u=_(5964),y=_(96697),g=_(67333),S=_(86600);function N(m,U){}_(49969);class M{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const s="mdc-dialog--open",v="mdc-dialog--opening",W="mdc-dialog--closing";let ce=(()=>{class m extends te{constructor(ne,ge,Ae,Qe,Bt,gt,It,Gt,un){super(ne,ge,Ae,Qe,Bt,gt,It,un),this._animationMode=Gt,this._animationStateChanged=new k.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Pe(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Pe(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(_e,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(v,s)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(s),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(s),this._animationsEnabled?(this._hostElement.style.setProperty(_e,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(W)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(ne){this._actionSectionCount+=ne,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(v,W)}_waitForAnimationToComplete(ne,ge){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(ge,ne)}_requestAnimationFrame(ne){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(ne):ne()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(ne){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:ne})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(ne){const ge=super.attachComponentPortal(ne);return ge.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),ge}static#e=this.\u0275fac=function(ge){return new(ge||m)(k.rXU(k.aKT),k.rXU(H.GX),k.rXU(E.qQ,8),k.rXU(M),k.rXU(H.Z7),k.rXU(k.SKi),k.rXU(p.yY),k.rXU(k.bc$,8),k.rXU(H.FN))};static#t=this.\u0275cmp=k.VBU({type:m,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(ge,Ae){2&ge&&(k.Mr5("id",Ae._config.id),k.BMQ("aria-modal",Ae._config.ariaModal)("role",Ae._config.role)("aria-labelledby",Ae._config.ariaLabel?null:Ae._ariaLabelledByQueue[0])("aria-label",Ae._config.ariaLabel)("aria-describedby",Ae._config.ariaDescribedBy||null),k.AVh("_mat-animation-noopable",!Ae._animationsEnabled)("mat-mdc-dialog-container-with-actions",Ae._actionSectionCount>0))},standalone:!0,features:[k.Vt3,k.aNF],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(ge,Ae){1&ge&&(k.j41(0,"div",0)(1,"div",1),k.DNE(2,N,0,0,"ng-template",2),k.k0s()())},dependencies:[R.I3],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, 4px);background-color:var(--mdc-dialog-container-color, white)}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87));font-family:var(--mdc-dialog-subhead-font, inherit);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6));font-family:var(--mdc-dialog-supporting-text-font, inherit);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return m})();const _e="--mat-dialog-transition-duration";function Pe(m){return null==m?null:"number"==typeof m?m:m.endsWith("ms")?(0,C.OE)(m.substring(0,m.length-2)):m.endsWith("s")?1e3*(0,C.OE)(m.substring(0,m.length-1)):"0"===m?0:null}var $e=function(m){return m[m.OPEN=0]="OPEN",m[m.CLOSING=1]="CLOSING",m[m.CLOSED=2]="CLOSED",m}($e||{});class Se{constructor(U,ne,ge){this._ref=U,this._containerInstance=ge,this._afterOpened=new O.B,this._beforeClosed=new O.B,this._state=$e.OPEN,this.disableClose=ne.disableClose,this.id=U.id,U.addPanelClass("mat-mdc-dialog-panel"),ge._animationStateChanged.pipe((0,u.p)(Ae=>"opened"===Ae.state),(0,y.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),ge._animationStateChanged.pipe((0,u.p)(Ae=>"closed"===Ae.state),(0,y.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),U.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,a.h)(this.backdropClick(),this.keydownEvents().pipe((0,u.p)(Ae=>Ae.keyCode===A._f&&!this.disableClose&&!(0,A.rp)(Ae)))).subscribe(Ae=>{this.disableClose||(Ae.preventDefault(),be(this,"keydown"===Ae.type?"keyboard":"mouse"))})}close(U){this._result=U,this._containerInstance._animationStateChanged.pipe((0,u.p)(ne=>"closing"===ne.state),(0,y.s)(1)).subscribe(ne=>{this._beforeClosed.next(U),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),ne.totalTime+100)}),this._state=$e.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(U){let ne=this._ref.config.positionStrategy;return U&&(U.left||U.right)?U.left?ne.left(U.left):ne.right(U.right):ne.centerHorizontally(),U&&(U.top||U.bottom)?U.top?ne.top(U.top):ne.bottom(U.bottom):ne.centerVertically(),this._ref.updatePosition(),this}updateSize(U="",ne=""){return this._ref.updateSize(U,ne),this}addPanelClass(U){return this._ref.addPanelClass(U),this}removePanelClass(U){return this._ref.removePanelClass(U),this}getState(){return this._state}_finishDialogClose(){this._state=$e.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function be(m,U,ne){return m._closeInteractionType=U,m.close(ne)}const Ne=new k.nKC("MatMdcDialogData"),ye=new k.nKC("mat-mdc-dialog-default-options"),Te=new k.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const m=(0,k.WQX)(p.hJ);return()=>m.scrollStrategies.block()}});let Q=0,ie=(()=>{class m{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const ne=this._parentDialog;return ne?ne._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(ne,ge,Ae,Qe,Bt,gt,It,Gt){this._overlay=ne,this._defaultOptions=Qe,this._scrollStrategy=Bt,this._parentDialog=gt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new O.B,this._afterOpenedAtThisLevel=new O.B,this.dialogConfigClass=M,this.afterAllClosed=(0,F.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Z.Z)(void 0))),this._dialog=ge.get(we),this._dialogRefConstructor=Se,this._dialogContainerType=ce,this._dialogDataToken=Ne}open(ne,ge){let Ae;(ge={...this._defaultOptions||new M,...ge}).id=ge.id||"mat-mdc-dialog-"+Q++,ge.scrollStrategy=ge.scrollStrategy||this._scrollStrategy();const Qe=this._dialog.open(ne,{...ge,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:ge},{provide:G,useValue:ge}]},templateContext:()=>({dialogRef:Ae}),providers:(Bt,gt,It)=>(Ae=new this._dialogRefConstructor(Bt,ge,It),Ae.updatePosition(ge?.position),[{provide:this._dialogContainerType,useValue:It},{provide:this._dialogDataToken,useValue:gt.data},{provide:this._dialogRefConstructor,useValue:Ae}])});return Ae.componentRef=Qe.componentRef,Ae.componentInstance=Qe.componentInstance,this.openDialogs.push(Ae),this.afterOpened.next(Ae),Ae.afterClosed().subscribe(()=>{const Bt=this.openDialogs.indexOf(Ae);Bt>-1&&(this.openDialogs.splice(Bt,1),this.openDialogs.length||this._getAfterAllClosed().next())}),Ae}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(ne){return this.openDialogs.find(ge=>ge.id===ne)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(ne){let ge=ne.length;for(;ge--;)ne[ge].close()}static#e=this.\u0275fac=function(ge){return new(ge||m)(k.KVO(p.hJ),k.KVO(k.zZn),k.KVO(E.aZ,8),k.KVO(ye,8),k.KVO(Te),k.KVO(m,12),k.KVO(p.Sf),k.KVO(k.bc$,8))};static#t=this.\u0275prov=k.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})(),ue=0,Ee=(()=>{class m{constructor(ne,ge,Ae){this.dialogRef=ne,this._elementRef=ge,this._dialog=Ae,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=Ve(this._elementRef,this._dialog.openDialogs))}ngOnChanges(ne){const ge=ne._matDialogClose||ne._matDialogCloseResult;ge&&(this.dialogResult=ge.currentValue)}_onButtonClick(ne){be(this.dialogRef,0===ne.screenX&&0===ne.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(ge){return new(ge||m)(k.rXU(Se,8),k.rXU(k.aKT),k.rXU(ie))};static#t=this.\u0275dir=k.FsC({type:m,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(ge,Ae){1&ge&&k.bIt("click",function(Bt){return Ae._onButtonClick(Bt)}),2&ge&&k.BMQ("aria-label",Ae.ariaLabel||null)("type",Ae.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[k.OA$]})}return m})(),ke=(()=>{class m{constructor(ne,ge,Ae){this._dialogRef=ne,this._elementRef=ge,this._dialog=Ae}ngOnInit(){this._dialogRef||(this._dialogRef=Ve(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#e=this.\u0275fac=function(ge){return new(ge||m)(k.rXU(Se,8),k.rXU(k.aKT),k.rXU(ie))};static#t=this.\u0275dir=k.FsC({type:m,standalone:!0})}return m})(),Ue=(()=>{class m extends ke{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+ue++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#e=this.\u0275fac=(()=>{let ne;return function(Ae){return(ne||(ne=k.xGo(m)))(Ae||m)}})();static#t=this.\u0275dir=k.FsC({type:m,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(ge,Ae){2&ge&&k.Mr5("id",Ae.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[k.Vt3]})}return m})(),Le=(()=>{class m{static#e=this.\u0275fac=function(ge){return new(ge||m)};static#t=this.\u0275dir=k.FsC({type:m,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[k.nM4([g.uv])]})}return m})(),_t=(()=>{class m extends ke{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static#e=this.\u0275fac=(()=>{let ne;return function(Ae){return(ne||(ne=k.xGo(m)))(Ae||m)}})();static#t=this.\u0275dir=k.FsC({type:m,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(ge,Ae){2&ge&&k.AVh("mat-mdc-dialog-actions-align-start","start"===Ae.align)("mat-mdc-dialog-actions-align-center","center"===Ae.align)("mat-mdc-dialog-actions-align-end","end"===Ae.align)},inputs:{align:"align"},standalone:!0,features:[k.Vt3]})}return m})();function Ve(m,U){let ne=m.nativeElement.parentElement;for(;ne&&!ne.classList.contains("mat-mdc-dialog-container");)ne=ne.parentElement;return ne?U.find(ge=>ge.id===ne.id):null}let lt=(()=>{class m{static#e=this.\u0275fac=function(ge){return new(ge||m)};static#t=this.\u0275mod=k.$C({type:m});static#n=this.\u0275inj=k.G2t({providers:[ie],imports:[Ce,p.z_,R.jc,S.yE,S.yE]})}return m})()},71997:(Fe,z,_)=>{"use strict";_.d(z,{q:()=>H,w:()=>x});var p=_(93953),E=_(14085),k=_(86600);let H=(()=>{class R{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(O){this._vertical=(0,E.he)(O)}get inset(){return this._inset}set inset(O){this._inset=(0,E.he)(O)}static#e=this.\u0275fac=function(F){return new(F||R)};static#t=this.\u0275cmp=p.VBU({type:R,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(F,L){2&F&&(p.BMQ("aria-orientation",L.vertical?"vertical":"horizontal"),p.AVh("mat-divider-vertical",L.vertical)("mat-divider-horizontal",!L.vertical)("mat-divider-inset",L.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[p.aNF],decls:0,vars:0,template:function(F,L){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return R})(),x=(()=>{class R{static#e=this.\u0275fac=function(F){return new(F||R)};static#t=this.\u0275mod=p.$C({type:R});static#n=this.\u0275inj=p.G2t({imports:[k.yE,k.yE]})}return R})()},53719:(Fe,z,_)=>{"use strict";_.d(z,{MV:()=>$e,RG:()=>Ae,TL:()=>_e,U$:()=>lt,nJ:()=>K,qT:()=>Ue,rl:()=>ge,xb:()=>Be,yw:()=>ye});var p=_(93953),E=_(28203),k=_(14085),H=_(36860),x=_(60177),R=_(18359),A=_(21413),O=_(57786),F=_(56977),L=_(98170),I=_(49969),Z=_(49937),j=_(86600);const G=["notch"],re=["matFormFieldNotchedOutline",""],te=["*"],J=["textField"],Y=["iconPrefixContainer"],oe=["textPrefixContainer"],ae=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],se=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function de(Qe,Bt){1&Qe&&p.nrm(0,"span",19)}function le(Qe,Bt){if(1&Qe&&(p.j41(0,"label",18),p.SdG(1,1),p.DNE(2,de,1,0,"span",19),p.k0s()),2&Qe){const gt=p.XpG(2);p.Y8G("floating",gt._shouldLabelFloat())("monitorResize",gt._hasOutline())("id",gt._labelId),p.BMQ("for",gt._control.disableAutomaticLabeling?null:gt._control.id),p.R7$(2),p.vxM(!gt.hideRequiredMarker&&gt._control.required?2:-1)}}function we(Qe,Bt){if(1&Qe&&p.DNE(0,le,3,5,"label",18),2&Qe){const gt=p.XpG();p.vxM(gt._hasFloatingLabel()?0:-1)}}function xe(Qe,Bt){1&Qe&&p.nrm(0,"div",5)}function Ce(Qe,Bt){}function C(Qe,Bt){if(1&Qe&&p.DNE(0,Ce,0,0,"ng-template",11),2&Qe){p.XpG(2);const gt=p.sdS(1);p.Y8G("ngTemplateOutlet",gt)}}function a(Qe,Bt){if(1&Qe&&(p.j41(0,"div",7),p.DNE(1,C,1,1,null,11),p.k0s()),2&Qe){const gt=p.XpG();p.Y8G("matFormFieldNotchedOutlineOpen",gt._shouldLabelFloat()),p.R7$(),p.vxM(gt._forceDisplayInfixLabel()?-1:1)}}function u(Qe,Bt){1&Qe&&(p.j41(0,"div",8,2),p.SdG(2,2),p.k0s())}function y(Qe,Bt){1&Qe&&(p.j41(0,"div",9,3),p.SdG(2,3),p.k0s())}function g(Qe,Bt){}function S(Qe,Bt){if(1&Qe&&p.DNE(0,g,0,0,"ng-template",11),2&Qe){p.XpG();const gt=p.sdS(1);p.Y8G("ngTemplateOutlet",gt)}}function T(Qe,Bt){1&Qe&&(p.j41(0,"div",12),p.SdG(1,4),p.k0s())}function N(Qe,Bt){1&Qe&&(p.j41(0,"div",13),p.SdG(1,5),p.k0s())}function M(Qe,Bt){1&Qe&&p.nrm(0,"div",14)}function s(Qe,Bt){if(1&Qe&&(p.j41(0,"div",16),p.SdG(1,6),p.k0s()),2&Qe){const gt=p.XpG();p.Y8G("@transitionMessages",gt._subscriptAnimationState)}}function v(Qe,Bt){if(1&Qe&&(p.j41(0,"mat-hint",20),p.EFF(1),p.k0s()),2&Qe){const gt=p.XpG(2);p.Y8G("id",gt._hintLabelId),p.R7$(),p.JRh(gt.hintLabel)}}function W(Qe,Bt){if(1&Qe&&(p.j41(0,"div",17),p.DNE(1,v,2,2,"mat-hint",20),p.SdG(2,7),p.nrm(3,"div",21),p.SdG(4,8),p.k0s()),2&Qe){const gt=p.XpG();p.Y8G("@transitionMessages",gt._subscriptAnimationState),p.R7$(),p.vxM(gt.hintLabel?1:-1)}}let K=(()=>{class Qe{static#e=this.\u0275fac=function(It){return new(It||Qe)};static#t=this.\u0275dir=p.FsC({type:Qe,selectors:[["mat-label"]],standalone:!0})}return Qe})(),ee=0;const ce=new p.nKC("MatError");let _e=(()=>{class Qe{constructor(gt,It){this.id="mat-mdc-error-"+ee++,gt||It.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(It){return new(It||Qe)(p.kS0("aria-live"),p.rXU(p.aKT))};static#t=this.\u0275dir=p.FsC({type:Qe,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(It,Gt){2&It&&p.Mr5("id",Gt.id)},inputs:{id:"id"},standalone:!0,features:[p.Jv_([{provide:ce,useExisting:Qe}])]})}return Qe})(),Pe=0,$e=(()=>{class Qe{constructor(){this.align="start",this.id="mat-mdc-hint-"+Pe++}static#e=this.\u0275fac=function(It){return new(It||Qe)};static#t=this.\u0275dir=p.FsC({type:Qe,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(It,Gt){2&It&&(p.Mr5("id",Gt.id),p.BMQ("align",null),p.AVh("mat-mdc-form-field-hint-end","end"===Gt.align))},inputs:{align:"align",id:"id"},standalone:!0})}return Qe})();const Se=new p.nKC("MatPrefix"),Ne=new p.nKC("MatSuffix");let ye=(()=>{class Qe{constructor(){this._isText=!1}set _isTextSelector(gt){this._isText=!0}static#e=this.\u0275fac=function(It){return new(It||Qe)};static#t=this.\u0275dir=p.FsC({type:Qe,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[p.Jv_([{provide:Ne,useExisting:Qe}])]})}return Qe})();const Te=new p.nKC("FloatingLabelParent");let pe=(()=>{class Qe{get floating(){return this._floating}set floating(gt){this._floating=gt,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(gt){this._monitorResize=gt,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(gt){this._elementRef=gt,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,p.WQX)(L.a),this._ngZone=(0,p.WQX)(p.SKi),this._parent=(0,p.WQX)(Te),this._resizeSubscription=new R.yU}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function fe(Qe){if(null!==Qe.offsetParent)return Qe.scrollWidth;const gt=Qe.cloneNode(!0);gt.style.setProperty("position","absolute"),gt.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(gt);const It=gt.scrollWidth;return gt.remove(),It}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(It){return new(It||Qe)(p.rXU(p.aKT))};static#t=this.\u0275dir=p.FsC({type:Qe,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(It,Gt){2&It&&p.AVh("mdc-floating-label--float-above",Gt.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return Qe})();const Q="mdc-line-ripple--active",ie="mdc-line-ripple--deactivating";let ue=(()=>{class Qe{constructor(gt,It){this._elementRef=gt,this._handleTransitionEnd=Gt=>{const un=this._elementRef.nativeElement.classList,an=un.contains(ie);"opacity"===Gt.propertyName&&an&&un.remove(Q,ie)},It.runOutsideAngular(()=>{gt.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const gt=this._elementRef.nativeElement.classList;gt.remove(ie),gt.add(Q)}deactivate(){this._elementRef.nativeElement.classList.add(ie)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(It){return new(It||Qe)(p.rXU(p.aKT),p.rXU(p.SKi))};static#t=this.\u0275dir=p.FsC({type:Qe,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return Qe})(),Ee=(()=>{class Qe{constructor(gt,It){this._elementRef=gt,this._ngZone=It,this.open=!1}ngAfterViewInit(){const gt=this._elementRef.nativeElement.querySelector(".mdc-floating-label");gt?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(gt.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>gt.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(gt){this._notch.nativeElement.style.width=this.open&&gt?`calc(${gt}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(It){return new(It||Qe)(p.rXU(p.aKT),p.rXU(p.SKi))};static#t=this.\u0275cmp=p.VBU({type:Qe,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(It,Gt){if(1&It&&p.GBs(G,5),2&It){let un;p.mGM(un=p.lsd())&&(Gt._notch=un.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(It,Gt){2&It&&p.AVh("mdc-notched-outline--notched",Gt.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[p.aNF],attrs:re,ngContentSelectors:te,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(It,Gt){1&It&&(p.NAR(),p.nrm(0,"div",1),p.j41(1,"div",2,0),p.SdG(3),p.k0s(),p.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return Qe})();const ke={transitionMessages:(0,I.hZ)("transitionMessages",[(0,I.wk)("enter",(0,I.iF)({opacity:1,transform:"translateY(0%)"})),(0,I.kY)("void => enter",[(0,I.iF)({opacity:0,transform:"translateY(-5px)"}),(0,I.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ue=(()=>{class Qe{static#e=this.\u0275fac=function(It){return new(It||Qe)};static#t=this.\u0275dir=p.FsC({type:Qe})}return Qe})();const Be=new p.nKC("MatFormField"),lt=new p.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let B=0;const w="fill",U="fixed";let ge=(()=>{class Qe{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(gt){this._hideRequiredMarker=(0,k.he)(gt)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(gt){gt!==this._floatLabel&&(this._floatLabel=gt,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(gt){const It=this._appearance;this._appearance=gt||this._defaults?.appearance||w,"outline"===this._appearance&&this._appearance!==It&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||U}set subscriptSizing(gt){this._subscriptSizing=gt||this._defaults?.subscriptSizing||U}get hintLabel(){return this._hintLabel}set hintLabel(gt){this._hintLabel=gt,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(gt){this._explicitFormFieldControl=gt}constructor(gt,It,Gt,un,an,sr,Mn,Qt){this._elementRef=gt,this._changeDetectorRef=It,this._dir=un,this._platform=an,this._defaults=sr,this._animationMode=Mn,this._labelChild=(0,p.sbv)(K),this._hideRequiredMarker=!1,this.color="primary",this._appearance=w,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+B++,this._hintLabelId="mat-mdc-hint-"+B++,this._subscriptAnimationState="",this._destroyed=new A.B,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._injector=(0,p.WQX)(p.zZn),this.getLabelId=(0,p.EWP)(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=(0,p.EWP)(()=>!!this._labelChild()),sr&&(sr.appearance&&(this.appearance=sr.appearance),this._hideRequiredMarker=!!sr?.hideRequiredMarker,sr.color&&(this.color=sr.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const gt=this._control;gt.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${gt.controlType}`),gt.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),gt.ngControl&&gt.ngControl.valueChanges&&gt.ngControl.valueChanges.pipe((0,F.Q)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(gt=>!gt._isText),this._hasTextPrefix=!!this._prefixChildren.find(gt=>gt._isText),this._hasIconSuffix=!!this._suffixChildren.find(gt=>!gt._isText),this._hasTextSuffix=!!this._suffixChildren.find(gt=>gt._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,O.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,p.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe((0,F.Q)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return!!this._hasFloatingLabel()&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_shouldForward(gt){const It=this._control?this._control.ngControl:null;return It&&It[gt]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let gt=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&gt.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const It=this._hintChildren?this._hintChildren.find(un=>"start"===un.align):null,Gt=this._hintChildren?this._hintChildren.find(un=>"end"===un.align):null;It?gt.push(It.id):this._hintLabel&&gt.push(this._hintLabelId),Gt&&gt.push(Gt.id)}else this._errorChildren&&gt.push(...this._errorChildren.map(It=>It.id));this._control.setDescribedByIds(gt)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const gt=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(gt.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const It=this._iconPrefixContainer?.nativeElement,Gt=this._textPrefixContainer?.nativeElement,un=It?.getBoundingClientRect().width??0,an=Gt?.getBoundingClientRect().width??0;gt.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${un+an}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const gt=this._elementRef.nativeElement;if(gt.getRootNode){const It=gt.getRootNode();return It&&It!==gt}return document.documentElement.contains(gt)}static#e=this.\u0275fac=function(It){return new(It||Qe)(p.rXU(p.aKT),p.rXU(p.gRc),p.rXU(p.SKi),p.rXU(E.dS),p.rXU(H.OD),p.rXU(lt,8),p.rXU(p.bc$,8),p.rXU(x.qQ))};static#t=this.\u0275cmp=p.VBU({type:Qe,selectors:[["mat-form-field"]],contentQueries:function(It,Gt,un){if(1&It&&(p.C6U(un,Gt._labelChild,K,5),p.wni(un,Ue,5),p.wni(un,Se,5),p.wni(un,Ne,5),p.wni(un,ce,5),p.wni(un,$e,5)),2&It){let an;p.NyB(),p.mGM(an=p.lsd())&&(Gt._formFieldControl=an.first),p.mGM(an=p.lsd())&&(Gt._prefixChildren=an),p.mGM(an=p.lsd())&&(Gt._suffixChildren=an),p.mGM(an=p.lsd())&&(Gt._errorChildren=an),p.mGM(an=p.lsd())&&(Gt._hintChildren=an)}},viewQuery:function(It,Gt){if(1&It&&(p.GBs(J,5),p.GBs(Y,5),p.GBs(oe,5),p.GBs(pe,5),p.GBs(Ee,5),p.GBs(ue,5)),2&It){let un;p.mGM(un=p.lsd())&&(Gt._textField=un.first),p.mGM(un=p.lsd())&&(Gt._iconPrefixContainer=un.first),p.mGM(un=p.lsd())&&(Gt._textPrefixContainer=un.first),p.mGM(un=p.lsd())&&(Gt._floatingLabel=un.first),p.mGM(un=p.lsd())&&(Gt._notchedOutline=un.first),p.mGM(un=p.lsd())&&(Gt._lineRipple=un.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(It,Gt){2&It&&p.AVh("mat-mdc-form-field-label-always-float",Gt._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",Gt._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",Gt._hasIconSuffix)("mat-form-field-invalid",Gt._control.errorState)("mat-form-field-disabled",Gt._control.disabled)("mat-form-field-autofilled",Gt._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===Gt._animationMode)("mat-form-field-appearance-fill","fill"==Gt.appearance)("mat-form-field-appearance-outline","outline"==Gt.appearance)("mat-form-field-hide-placeholder",Gt._hasFloatingLabel()&&!Gt._shouldLabelFloat())("mat-focused",Gt._control.focused)("mat-primary","accent"!==Gt.color&&"warn"!==Gt.color)("mat-accent","accent"===Gt.color)("mat-warn","warn"===Gt.color)("ng-untouched",Gt._shouldForward("untouched"))("ng-touched",Gt._shouldForward("touched"))("ng-pristine",Gt._shouldForward("pristine"))("ng-dirty",Gt._shouldForward("dirty"))("ng-valid",Gt._shouldForward("valid"))("ng-invalid",Gt._shouldForward("invalid"))("ng-pending",Gt._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[p.Jv_([{provide:Be,useExisting:Qe},{provide:Te,useExisting:Qe}]),p.aNF],ngContentSelectors:se,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(It,Gt){if(1&It){const un=p.RV6();p.NAR(ae),p.DNE(0,we,1,1,"ng-template",null,0,p.C5r),p.j41(2,"div",4,1),p.bIt("click",function(sr){return p.eBV(un),p.Njj(Gt._control.onContainerClick(sr))}),p.DNE(4,xe,1,0,"div",5),p.j41(5,"div",6),p.DNE(6,a,2,2,"div",7)(7,u,3,0,"div",8)(8,y,3,0,"div",9),p.j41(9,"div",10),p.DNE(10,S,1,1,null,11),p.SdG(11),p.k0s(),p.DNE(12,T,2,0,"div",12)(13,N,2,0,"div",13),p.k0s(),p.DNE(14,M,1,0,"div",14),p.k0s(),p.j41(15,"div",15),p.DNE(16,s,2,1,"div",16)(17,W,5,2,"div",17),p.k0s()}if(2&It){let un;p.R7$(2),p.AVh("mdc-text-field--filled",!Gt._hasOutline())("mdc-text-field--outlined",Gt._hasOutline())("mdc-text-field--no-label",!Gt._hasFloatingLabel())("mdc-text-field--disabled",Gt._control.disabled)("mdc-text-field--invalid",Gt._control.errorState),p.R7$(2),p.vxM(Gt._hasOutline()||Gt._control.disabled?-1:4),p.R7$(2),p.vxM(Gt._hasOutline()?6:-1),p.R7$(),p.vxM(Gt._hasIconPrefix?7:-1),p.R7$(),p.vxM(Gt._hasTextPrefix?8:-1),p.R7$(2),p.vxM(!Gt._hasOutline()||Gt._forceDisplayInfixLabel()?10:-1),p.R7$(2),p.vxM(Gt._hasTextSuffix?12:-1),p.R7$(),p.vxM(Gt._hasIconSuffix?13:-1),p.R7$(),p.vxM(Gt._hasOutline()?-1:14),p.R7$(),p.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===Gt.subscriptSizing),p.R7$(),p.vxM("error"===(un=Gt._getDisplayedMessages())?16:"hint"===un?17:-1)}},dependencies:[pe,Ee,x.T3,ue,$e],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color);caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color);caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape)}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color);border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[ke.transitionMessages]},changeDetection:0})}return Qe})(),Ae=(()=>{class Qe{static#e=this.\u0275fac=function(It){return new(It||Qe)};static#t=this.\u0275mod=p.$C({type:Qe});static#n=this.\u0275inj=p.G2t({imports:[j.yE,x.MD,Z.w5,j.yE]})}return Qe})()},99213:(Fe,z,_)=>{"use strict";_.d(z,{An:()=>v,m_:()=>W});var p=_(93953),E=_(86600),k=_(60177),H=_(7673),x=_(18810),R=_(27468),A=_(18359),O=_(88141),F=_(96354),L=_(99437),I=_(70980),Z=_(97647),j=_(96697),G=_(21626),re=_(345);const te=["*"];let J;function oe(K){return function Y(){if(void 0===J&&(J=null,typeof window<"u")){const K=window;void 0!==K.trustedTypes&&(J=K.trustedTypes.createPolicy("angular#components",{createHTML:ee=>ee}))}return J}()?.createHTML(K)||K}function ae(K){return Error(`Unable to find icon with the name "${K}"`)}function de(K){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${K}".`)}function le(K){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${K}".`)}class we{constructor(ee,ce,_e){this.url=ee,this.svgText=ce,this.options=_e}}let xe=(()=>{class K{constructor(ce,_e,Pe,$e){this._httpClient=ce,this._sanitizer=_e,this._errorHandler=$e,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Pe}addSvgIcon(ce,_e,Pe){return this.addSvgIconInNamespace("",ce,_e,Pe)}addSvgIconLiteral(ce,_e,Pe){return this.addSvgIconLiteralInNamespace("",ce,_e,Pe)}addSvgIconInNamespace(ce,_e,Pe,$e){return this._addSvgIconConfig(ce,_e,new we(Pe,null,$e))}addSvgIconResolver(ce){return this._resolvers.push(ce),this}addSvgIconLiteralInNamespace(ce,_e,Pe,$e){const Se=this._sanitizer.sanitize(p.WPN.HTML,Pe);if(!Se)throw le(Pe);const be=oe(Se);return this._addSvgIconConfig(ce,_e,new we("",be,$e))}addSvgIconSet(ce,_e){return this.addSvgIconSetInNamespace("",ce,_e)}addSvgIconSetLiteral(ce,_e){return this.addSvgIconSetLiteralInNamespace("",ce,_e)}addSvgIconSetInNamespace(ce,_e,Pe){return this._addSvgIconSetConfig(ce,new we(_e,null,Pe))}addSvgIconSetLiteralInNamespace(ce,_e,Pe){const $e=this._sanitizer.sanitize(p.WPN.HTML,_e);if(!$e)throw le(_e);const Se=oe($e);return this._addSvgIconSetConfig(ce,new we("",Se,Pe))}registerFontClassAlias(ce,_e=ce){return this._fontCssClassesByAlias.set(ce,_e),this}classNameForFontAlias(ce){return this._fontCssClassesByAlias.get(ce)||ce}setDefaultFontSetClass(...ce){return this._defaultFontSetClass=ce,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(ce){const _e=this._sanitizer.sanitize(p.WPN.RESOURCE_URL,ce);if(!_e)throw de(ce);const Pe=this._cachedIconsByUrl.get(_e);return Pe?(0,H.of)(a(Pe)):this._loadSvgIconFromConfig(new we(ce,null)).pipe((0,O.M)($e=>this._cachedIconsByUrl.set(_e,$e)),(0,F.T)($e=>a($e)))}getNamedSvgIcon(ce,_e=""){const Pe=u(_e,ce);let $e=this._svgIconConfigs.get(Pe);if($e)return this._getSvgFromConfig($e);if($e=this._getIconConfigFromResolvers(_e,ce),$e)return this._svgIconConfigs.set(Pe,$e),this._getSvgFromConfig($e);const Se=this._iconSetConfigs.get(_e);return Se?this._getSvgFromIconSetConfigs(ce,Se):(0,x.$)(ae(Pe))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(ce){return ce.svgText?(0,H.of)(a(this._svgElementFromConfig(ce))):this._loadSvgIconFromConfig(ce).pipe((0,F.T)(_e=>a(_e)))}_getSvgFromIconSetConfigs(ce,_e){const Pe=this._extractIconWithNameFromAnySet(ce,_e);if(Pe)return(0,H.of)(Pe);const $e=_e.filter(Se=>!Se.svgText).map(Se=>this._loadSvgIconSetFromConfig(Se).pipe((0,L.W)(be=>{const ye=`Loading icon set URL: ${this._sanitizer.sanitize(p.WPN.RESOURCE_URL,Se.url)} failed: ${be.message}`;return this._errorHandler.handleError(new Error(ye)),(0,H.of)(null)})));return(0,R.p)($e).pipe((0,F.T)(()=>{const Se=this._extractIconWithNameFromAnySet(ce,_e);if(!Se)throw ae(ce);return Se}))}_extractIconWithNameFromAnySet(ce,_e){for(let Pe=_e.length-1;Pe>=0;Pe--){const $e=_e[Pe];if($e.svgText&&$e.svgText.toString().indexOf(ce)>-1){const Se=this._svgElementFromConfig($e),be=this._extractSvgIconFromSet(Se,ce,$e.options);if(be)return be}}return null}_loadSvgIconFromConfig(ce){return this._fetchIcon(ce).pipe((0,O.M)(_e=>ce.svgText=_e),(0,F.T)(()=>this._svgElementFromConfig(ce)))}_loadSvgIconSetFromConfig(ce){return ce.svgText?(0,H.of)(null):this._fetchIcon(ce).pipe((0,O.M)(_e=>ce.svgText=_e))}_extractSvgIconFromSet(ce,_e,Pe){const $e=ce.querySelector(`[id="${_e}"]`);if(!$e)return null;const Se=$e.cloneNode(!0);if(Se.removeAttribute("id"),"svg"===Se.nodeName.toLowerCase())return this._setSvgAttributes(Se,Pe);if("symbol"===Se.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Se),Pe);const be=this._svgElementFromString(oe("<svg></svg>"));return be.appendChild(Se),this._setSvgAttributes(be,Pe)}_svgElementFromString(ce){const _e=this._document.createElement("DIV");_e.innerHTML=ce;const Pe=_e.querySelector("svg");if(!Pe)throw Error("<svg> tag not found");return Pe}_toSvgElement(ce){const _e=this._svgElementFromString(oe("<svg></svg>")),Pe=ce.attributes;for(let $e=0;$e<Pe.length;$e++){const{name:Se,value:be}=Pe[$e];"id"!==Se&&_e.setAttribute(Se,be)}for(let $e=0;$e<ce.childNodes.length;$e++)ce.childNodes[$e].nodeType===this._document.ELEMENT_NODE&&_e.appendChild(ce.childNodes[$e].cloneNode(!0));return _e}_setSvgAttributes(ce,_e){return ce.setAttribute("fit",""),ce.setAttribute("height","100%"),ce.setAttribute("width","100%"),ce.setAttribute("preserveAspectRatio","xMidYMid meet"),ce.setAttribute("focusable","false"),_e&&_e.viewBox&&ce.setAttribute("viewBox",_e.viewBox),ce}_fetchIcon(ce){const{url:_e,options:Pe}=ce,$e=Pe?.withCredentials??!1;if(!this._httpClient)throw function se(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==_e)throw Error(`Cannot fetch icon from URL "${_e}".`);const Se=this._sanitizer.sanitize(p.WPN.RESOURCE_URL,_e);if(!Se)throw de(_e);const be=this._inProgressUrlFetches.get(Se);if(be)return be;const Ne=this._httpClient.get(Se,{responseType:"text",withCredentials:$e}).pipe((0,F.T)(ye=>oe(ye)),(0,I.j)(()=>this._inProgressUrlFetches.delete(Se)),(0,Z.u)());return this._inProgressUrlFetches.set(Se,Ne),Ne}_addSvgIconConfig(ce,_e,Pe){return this._svgIconConfigs.set(u(ce,_e),Pe),this}_addSvgIconSetConfig(ce,_e){const Pe=this._iconSetConfigs.get(ce);return Pe?Pe.push(_e):this._iconSetConfigs.set(ce,[_e]),this}_svgElementFromConfig(ce){if(!ce.svgElement){const _e=this._svgElementFromString(ce.svgText);this._setSvgAttributes(_e,ce.options),ce.svgElement=_e}return ce.svgElement}_getIconConfigFromResolvers(ce,_e){for(let Pe=0;Pe<this._resolvers.length;Pe++){const $e=this._resolvers[Pe](_e,ce);if($e)return y($e)?new we($e.url,null,$e.options):new we($e,null)}}static#e=this.\u0275fac=function(_e){return new(_e||K)(p.KVO(G.Qq,8),p.KVO(re.up),p.KVO(k.qQ,8),p.KVO(p.zcH))};static#t=this.\u0275prov=p.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})();function a(K){return K.cloneNode(!0)}function u(K,ee){return K+":"+ee}function y(K){return!(!K.url||!K.options)}const g=new p.nKC("MAT_ICON_DEFAULT_OPTIONS"),S=new p.nKC("mat-icon-location",{providedIn:"root",factory:function T(){const K=(0,p.WQX)(k.qQ),ee=K?K.location:null;return{getPathname:()=>ee?ee.pathname+ee.search:""}}}),N=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],M=N.map(K=>`[${K}]`).join(", "),s=/^url\(['"]?#(.*?)['"]?\)$/;let v=(()=>{class K{get color(){return this._color||this._defaultColor}set color(ce){this._color=ce}get svgIcon(){return this._svgIcon}set svgIcon(ce){ce!==this._svgIcon&&(ce?this._updateSvgIcon(ce):this._svgIcon&&this._clearSvgElement(),this._svgIcon=ce)}get fontSet(){return this._fontSet}set fontSet(ce){const _e=this._cleanupFontValue(ce);_e!==this._fontSet&&(this._fontSet=_e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(ce){const _e=this._cleanupFontValue(ce);_e!==this._fontIcon&&(this._fontIcon=_e,this._updateFontIconClasses())}constructor(ce,_e,Pe,$e,Se,be){this._elementRef=ce,this._iconRegistry=_e,this._location=$e,this._errorHandler=Se,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=A.yU.EMPTY,be&&(be.color&&(this.color=this._defaultColor=be.color),be.fontSet&&(this.fontSet=be.fontSet)),Pe||ce.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(ce){if(!ce)return["",""];const _e=ce.split(":");switch(_e.length){case 1:return["",_e[0]];case 2:return _e;default:throw Error(`Invalid icon name: "${ce}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const ce=this._elementsWithExternalReferences;if(ce&&ce.size){const _e=this._location.getPathname();_e!==this._previousPath&&(this._previousPath=_e,this._prependPathToReferences(_e))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(ce){this._clearSvgElement();const _e=this._location.getPathname();this._previousPath=_e,this._cacheChildrenWithExternalReferences(ce),this._prependPathToReferences(_e),this._elementRef.nativeElement.appendChild(ce)}_clearSvgElement(){const ce=this._elementRef.nativeElement;let _e=ce.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();_e--;){const Pe=ce.childNodes[_e];(1!==Pe.nodeType||"svg"===Pe.nodeName.toLowerCase())&&Pe.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const ce=this._elementRef.nativeElement,_e=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Pe=>Pe.length>0);this._previousFontSetClass.forEach(Pe=>ce.classList.remove(Pe)),_e.forEach(Pe=>ce.classList.add(Pe)),this._previousFontSetClass=_e,this.fontIcon!==this._previousFontIconClass&&!_e.includes("mat-ligature-font")&&(this._previousFontIconClass&&ce.classList.remove(this._previousFontIconClass),this.fontIcon&&ce.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(ce){return"string"==typeof ce?ce.trim().split(" ")[0]:ce}_prependPathToReferences(ce){const _e=this._elementsWithExternalReferences;_e&&_e.forEach((Pe,$e)=>{Pe.forEach(Se=>{$e.setAttribute(Se.name,`url('${ce}#${Se.value}')`)})})}_cacheChildrenWithExternalReferences(ce){const _e=ce.querySelectorAll(M),Pe=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let $e=0;$e<_e.length;$e++)N.forEach(Se=>{const be=_e[$e],Ne=be.getAttribute(Se),ye=Ne?Ne.match(s):null;if(ye){let Te=Pe.get(be);Te||(Te=[],Pe.set(be,Te)),Te.push({name:Se,value:ye[1]})}})}_updateSvgIcon(ce){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),ce){const[_e,Pe]=this._splitIconName(ce);_e&&(this._svgNamespace=_e),Pe&&(this._svgName=Pe),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Pe,_e).pipe((0,j.s)(1)).subscribe($e=>this._setSvgElement($e),$e=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${_e}:${Pe}! ${$e.message}`))})}}static#e=this.\u0275fac=function(_e){return new(_e||K)(p.rXU(p.aKT),p.rXU(xe),p.kS0("aria-hidden"),p.rXU(S),p.rXU(p.zcH),p.rXU(g,8))};static#t=this.\u0275cmp=p.VBU({type:K,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(_e,Pe){2&_e&&(p.BMQ("data-mat-icon-type",Pe._usingFontIcon()?"font":"svg")("data-mat-icon-name",Pe._svgName||Pe.fontIcon)("data-mat-icon-namespace",Pe._svgNamespace||Pe.fontSet)("fontIcon",Pe._usingFontIcon()?Pe.fontIcon:null),p.HbH(Pe.color?"mat-"+Pe.color:""),p.AVh("mat-icon-inline",Pe.inline)("mat-icon-no-color","primary"!==Pe.color&&"accent"!==Pe.color&&"warn"!==Pe.color))},inputs:{color:"color",inline:[2,"inline","inline",p.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[p.GFd,p.aNF],ngContentSelectors:te,decls:1,vars:0,template:function(_e,Pe){1&_e&&(p.NAR(),p.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return K})(),W=(()=>{class K{static#e=this.\u0275fac=function(_e){return new(_e||K)};static#t=this.\u0275mod=p.$C({type:K});static#n=this.\u0275inj=p.G2t({imports:[E.yE,E.yE]})}return K})()},99631:(Fe,z,_)=>{"use strict";_.d(z,{fg:()=>Y,fS:()=>oe});var p=_(14085),E=_(36860),k=_(93953),H=_(983),x=_(21413);const R=(0,E.BQ)({passive:!0});let A=(()=>{class ae{constructor(de,le){this._platform=de,this._ngZone=le,this._monitoredElements=new Map}monitor(de){if(!this._platform.isBrowser)return H.w;const le=(0,p.i8)(de),we=this._monitoredElements.get(le);if(we)return we.subject;const xe=new x.B,Ce="cdk-text-field-autofilled",C=a=>{"cdk-text-field-autofill-start"!==a.animationName||le.classList.contains(Ce)?"cdk-text-field-autofill-end"===a.animationName&&le.classList.contains(Ce)&&(le.classList.remove(Ce),this._ngZone.run(()=>xe.next({target:a.target,isAutofilled:!1}))):(le.classList.add(Ce),this._ngZone.run(()=>xe.next({target:a.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{le.addEventListener("animationstart",C,R),le.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(le,{subject:xe,unlisten:()=>{le.removeEventListener("animationstart",C,R)}}),xe}stopMonitoring(de){const le=(0,p.i8)(de),we=this._monitoredElements.get(le);we&&(we.unlisten(),we.subject.complete(),le.classList.remove("cdk-text-field-autofill-monitored"),le.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(le))}ngOnDestroy(){this._monitoredElements.forEach((de,le)=>this.stopMonitoring(le))}static#e=this.\u0275fac=function(le){return new(le||ae)(k.KVO(E.OD),k.KVO(k.SKi))};static#t=this.\u0275prov=k.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})(),L=(()=>{class ae{static#e=this.\u0275fac=function(le){return new(le||ae)};static#t=this.\u0275mod=k.$C({type:ae});static#n=this.\u0275inj=k.G2t({})}return ae})();var I=_(89417),Z=_(86600),j=_(53719);const re=new k.nKC("MAT_INPUT_VALUE_ACCESSOR"),te=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let J=0,Y=(()=>{class ae{get disabled(){return this._disabled}set disabled(de){this._disabled=(0,p.he)(de),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(de){this._id=de||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(I.k0.required)??!1}set required(de){this._required=(0,p.he)(de)}get type(){return this._type}set type(de){this._type=de||"text",this._validateType(),!this._isTextarea&&(0,E.MU)().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(de){this._errorStateTracker.matcher=de}get value(){return this._inputValueAccessor.value}set value(de){de!==this.value&&(this._inputValueAccessor.value=de,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(de){this._readonly=(0,p.he)(de)}get errorState(){return this._errorStateTracker.errorState}set errorState(de){this._errorStateTracker.errorState=de}constructor(de,le,we,xe,Ce,C,a,u,y,g){this._elementRef=de,this._platform=le,this.ngControl=we,this._autofillMonitor=u,this._ngZone=y,this._formField=g,this._uid="mat-input-"+J++,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new x.B,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(N=>(0,E.MU)().has(N)),this._iOSKeyupListener=N=>{const M=N.target;!M.value&&0===M.selectionStart&&0===M.selectionEnd&&(M.setSelectionRange(1,1),M.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};const S=this._elementRef.nativeElement,T=S.nodeName.toLowerCase();this._inputValueAccessor=a||S,this._previousNativeValue=this.value,this.id=this.id,le.IOS&&y.runOutsideAngular(()=>{de.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Z.X0(C,we,Ce,xe,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===T,this._isTextarea="textarea"===T,this._isInFormField=!!g,this._isNativeSelect&&(this.controlType=S.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(de=>{this.autofilled=de.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(de){this._elementRef.nativeElement.focus(de)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(de){de!==this.focused&&(this.focused=de,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const de=this._elementRef.nativeElement.value;this._previousNativeValue!==de&&(this._previousNativeValue=de,this.stateChanges.next())}_dirtyCheckPlaceholder(){const de=this._getPlaceholder();if(de!==this._previousPlaceholder){const le=this._elementRef.nativeElement;this._previousPlaceholder=de,de?le.setAttribute("placeholder",de):le.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){te.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let de=this._elementRef.nativeElement.validity;return de&&de.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const de=this._elementRef.nativeElement,le=de.options[0];return this.focused||de.multiple||!this.empty||!!(de.selectedIndex>-1&&le&&le.label)}return this.focused||!this.empty}setDescribedByIds(de){de.length?this._elementRef.nativeElement.setAttribute("aria-describedby",de.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const de=this._elementRef.nativeElement;return this._isNativeSelect&&(de.multiple||de.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&"number"===this._type&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&"number"!==this._type&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static#e=this.\u0275fac=function(le){return new(le||ae)(k.rXU(k.aKT),k.rXU(E.OD),k.rXU(I.vO,10),k.rXU(I.cV,8),k.rXU(I.j4,8),k.rXU(Z.es),k.rXU(re,10),k.rXU(A),k.rXU(k.SKi),k.rXU(j.xb,8))};static#t=this.\u0275dir=k.FsC({type:ae,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(le,we){1&le&&k.bIt("focus",function(){return we._focusChanged(!0)})("blur",function(){return we._focusChanged(!1)})("input",function(){return we._onInput()}),2&le&&(k.Mr5("id",we.id)("disabled",we.disabled)("required",we.required),k.BMQ("name",we.name||null)("readonly",we.readonly&&!we._isNativeSelect||null)("aria-invalid",we.empty&&we.required?null:we.errorState)("aria-required",we.required)("id",we.id),k.AVh("mat-input-server",we._isServer)("mat-mdc-form-field-textarea-control",we._isInFormField&&we._isTextarea)("mat-mdc-form-field-input-control",we._isInFormField)("mdc-text-field__input",we._isInFormField)("mat-mdc-native-select-inline",we._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[k.Jv_([{provide:j.qT,useExisting:ae}]),k.OA$]})}return ae})(),oe=(()=>{class ae{static#e=this.\u0275fac=function(le){return new(le||ae)};static#t=this.\u0275mod=k.$C({type:ae});static#n=this.\u0275inj=k.G2t({imports:[Z.yE,j.RG,j.RG,L,Z.yE]})}return ae})()},3902:(Fe,z,_)=>{"use strict";_.d(z,{C_:()=>ce,EI:()=>ke,Fg:()=>lt,YE:()=>ie,ZV:()=>Se,_L:()=>Le,jt:()=>Q,yE:()=>ee,zi:()=>$e});var p=_(93953),E=_(14085),k=_(36860),H=_(86600),x=_(18359),R=_(57786),O=(_(21413),_(49937)),F=_(60177),L=_(71997);_(18617),_(45024),_(67336),_(89417),_(56977);const te=["*"],J='.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color);border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected::before,.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected:focus::before,.cdk-high-contrast-active .mdc-list-item:not(.mdc-list-item--selected):focus::before{border-color:CanvasText}.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item.mdc-list-item--selected::before{border-width:3px;border-style:double}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color);font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color);font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color);opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color);opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape);--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape)}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color)}',Y=["unscopedContent"],oe=["text"],ae=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],se=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],K=new p.nKC("ListOption");let ee=(()=>{class B{constructor(m){this._elementRef=m}static#e=this.\u0275fac=function(U){return new(U||B)(p.rXU(p.aKT))};static#t=this.\u0275dir=p.FsC({type:B,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"],standalone:!0})}return B})(),ce=(()=>{class B{constructor(m){this._elementRef=m}static#e=this.\u0275fac=function(U){return new(U||B)(p.rXU(p.aKT))};static#t=this.\u0275dir=p.FsC({type:B,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"],standalone:!0})}return B})(),_e=(()=>{class B{static#e=this.\u0275fac=function(U){return new(U||B)};static#t=this.\u0275dir=p.FsC({type:B,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"],standalone:!0})}return B})(),Pe=(()=>{class B{constructor(m){this._listOption=m}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#e=this.\u0275fac=function(U){return new(U||B)(p.rXU(K,8))};static#t=this.\u0275dir=p.FsC({type:B,hostVars:4,hostBindings:function(U,ne){2&U&&p.AVh("mdc-list-item__start",ne._isAlignedAtStart())("mdc-list-item__end",!ne._isAlignedAtStart())},standalone:!0})}return B})(),$e=(()=>{class B extends Pe{static#e=this.\u0275fac=(()=>{let m;return function(ne){return(m||(m=p.xGo(B)))(ne||B)}})();static#t=this.\u0275dir=p.FsC({type:B,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],standalone:!0,features:[p.Vt3]})}return B})(),Se=(()=>{class B extends Pe{static#e=this.\u0275fac=(()=>{let m;return function(ne){return(m||(m=p.xGo(B)))(ne||B)}})();static#t=this.\u0275dir=p.FsC({type:B,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],standalone:!0,features:[p.Vt3]})}return B})();const be=new p.nKC("MAT_LIST_CONFIG");let Ne=(()=>{class B{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,p.WQX)(be,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(m){this._disableRipple=(0,E.he)(m)}get disabled(){return this._disabled}set disabled(m){this._disabled=(0,E.he)(m)}static#e=this.\u0275fac=function(U){return new(U||B)};static#t=this.\u0275dir=p.FsC({type:B,hostVars:1,hostBindings:function(U,ne){2&U&&p.BMQ("aria-disabled",ne.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return B})(),ye=(()=>{class B{set lines(m){this._explicitLines=(0,E.OE)(m,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(m){this._disableRipple=(0,E.he)(m)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(m){this._disabled=(0,E.he)(m)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(m,U,ne,ge,Ae,Qe){this._elementRef=m,this._ngZone=U,this._listBase=ne,this._platform=ge,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new x.yU,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=Ae||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===Qe,ne&&!ne._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new H.ug(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,R.h)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(m){if(!this._lines||!this._titles||!this._unscopedContent)return;m&&this._checkDomForUnscopedTextContent();const U=this._explicitLines??this._inferLinesFromContent(),ne=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",U<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",U<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===U),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===U),this._hasUnscopedTextContent){const ge=0===this._titles.length&&1===U;ne.classList.toggle("mdc-list-item__primary-text",ge),ne.classList.toggle("mdc-list-item__secondary-text",!ge)}else ne.classList.remove("mdc-list-item__primary-text"),ne.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let m=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(m+=1),m}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(m=>m.nodeType!==m.COMMENT_NODE).some(m=>!(!m.textContent||!m.textContent.trim()))}static#e=this.\u0275fac=function(U){return new(U||B)(p.rXU(p.aKT),p.rXU(p.SKi),p.rXU(Ne,8),p.rXU(k.OD),p.rXU(H.$E,8),p.rXU(p.bc$,8))};static#t=this.\u0275dir=p.FsC({type:B,contentQueries:function(U,ne,ge){if(1&U&&(p.wni(ge,$e,4),p.wni(ge,Se,4)),2&U){let Ae;p.mGM(Ae=p.lsd())&&(ne._avatars=Ae),p.mGM(Ae=p.lsd())&&(ne._icons=Ae)}},hostVars:4,hostBindings:function(U,ne){2&U&&(p.BMQ("aria-disabled",ne.disabled)("disabled",ne._isButtonElement&&ne.disabled||null),p.AVh("mdc-list-item--disabled",ne.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return B})(),Q=(()=>{class B extends Ne{static#e=this.\u0275fac=(()=>{let m;return function(ne){return(m||(m=p.xGo(B)))(ne||B)}})();static#t=this.\u0275cmp=p.VBU({type:B,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],standalone:!0,features:[p.Jv_([{provide:Ne,useExisting:B}]),p.Vt3,p.aNF],ngContentSelectors:te,decls:1,vars:0,template:function(U,ne){1&U&&(p.NAR(),p.SdG(0))},styles:[J],encapsulation:2,changeDetection:0})}return B})(),ie=(()=>{class B extends ye{get activated(){return this._activated}set activated(m){this._activated=(0,E.he)(m)}constructor(m,U,ne,ge,Ae,Qe){super(m,U,ne,ge,Ae,Qe),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return 0!==this._meta.length&&(0!==this._avatars.length||0!==this._icons.length)}static#e=this.\u0275fac=function(U){return new(U||B)(p.rXU(p.aKT),p.rXU(p.SKi),p.rXU(Ne,8),p.rXU(k.OD),p.rXU(H.$E,8),p.rXU(p.bc$,8))};static#t=this.\u0275cmp=p.VBU({type:B,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(U,ne,ge){if(1&U&&(p.wni(ge,ce,5),p.wni(ge,ee,5),p.wni(ge,_e,5)),2&U){let Ae;p.mGM(Ae=p.lsd())&&(ne._lines=Ae),p.mGM(Ae=p.lsd())&&(ne._titles=Ae),p.mGM(Ae=p.lsd())&&(ne._meta=Ae)}},viewQuery:function(U,ne){if(1&U&&(p.GBs(Y,5),p.GBs(oe,5)),2&U){let ge;p.mGM(ge=p.lsd())&&(ne._unscopedContent=ge.first),p.mGM(ge=p.lsd())&&(ne._itemText=ge.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(U,ne){2&U&&(p.BMQ("aria-current",ne._getAriaCurrent()),p.AVh("mdc-list-item--activated",ne.activated)("mdc-list-item--with-leading-avatar",0!==ne._avatars.length)("mdc-list-item--with-leading-icon",0!==ne._icons.length)("mdc-list-item--with-trailing-meta",0!==ne._meta.length)("mat-mdc-list-item-both-leading-and-trailing",ne._hasBothLeadingAndTrailing())("_mat-animation-noopable",ne._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],standalone:!0,features:[p.Vt3,p.aNF],ngContentSelectors:se,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-mdc-focus-indicator"]],template:function(U,ne){if(1&U){const ge=p.RV6();p.NAR(ae),p.SdG(0),p.j41(1,"span",1),p.SdG(2,1),p.SdG(3,2),p.j41(4,"span",2,0),p.bIt("cdkObserveContent",function(){return p.eBV(ge),p.Njj(ne._updateItemLines(!0))}),p.SdG(6,3),p.k0s()(),p.SdG(7,4),p.SdG(8,5),p.nrm(9,"div",3)}},dependencies:[O.Wv],encapsulation:2,changeDetection:0})}return B})(),ke=(()=>{class B{static#e=this.\u0275fac=function(U){return new(U||B)};static#t=this.\u0275dir=p.FsC({type:B,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-mdc-subheader","mdc-list-group__subheader"],standalone:!0})}return B})(),Le=(()=>{class B extends Ne{constructor(){super(...arguments),this._isNonInteractive=!1}static#e=this.\u0275fac=(()=>{let m;return function(ne){return(m||(m=p.xGo(B)))(ne||B)}})();static#t=this.\u0275cmp=p.VBU({type:B,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],standalone:!0,features:[p.Jv_([{provide:Ne,useExisting:B}]),p.Vt3,p.aNF],ngContentSelectors:te,decls:1,vars:0,template:function(U,ne){1&U&&(p.NAR(),p.SdG(0))},styles:[J],encapsulation:2,changeDetection:0})}return B})(),lt=(()=>{class B{static#e=this.\u0275fac=function(U){return new(U||B)};static#t=this.\u0275mod=p.$C({type:B});static#n=this.\u0275inj=p.G2t({imports:[O.w5,F.MD,H.yE,H.pZ,H.O5,L.w]})}return B})()},59115:(Fe,z,_)=>{"use strict";_.d(z,{Cn:()=>Te,Cp:()=>ye,fb:()=>y,kk:()=>_e});var p=_(93953),E=_(18617),k=_(67336),H=_(21413),x=_(57786),R=_(18359),A=_(7673),O=_(25007),F=_(99172),L=_(25558),I=_(56977),Z=_(5964),j=_(96697),G=_(91986),re=_(60177),te=_(86600),J=_(76939),Y=_(49969),oe=_(28203),ae=_(66969),se=_(36860),de=_(67333);const le=["mat-menu-item",""],we=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],xe=["mat-icon, [matMenuItemIcon]","*"];function Ce(pe,fe){1&pe&&(p.qSk(),p.j41(0,"svg",2),p.nrm(1,"polygon",3),p.k0s())}const C=["*"];function a(pe,fe){if(1&pe){const Q=p.RV6();p.j41(0,"div",0),p.bIt("keydown",function(ue){p.eBV(Q);const Ee=p.XpG();return p.Njj(Ee._handleKeydown(ue))})("click",function(){p.eBV(Q);const ue=p.XpG();return p.Njj(ue.closed.emit("click"))})("@transformMenu.start",function(ue){p.eBV(Q);const Ee=p.XpG();return p.Njj(Ee._onAnimationStart(ue))})("@transformMenu.done",function(ue){p.eBV(Q);const Ee=p.XpG();return p.Njj(Ee._onAnimationDone(ue))}),p.j41(1,"div",1),p.SdG(2),p.k0s()()}if(2&pe){const Q=p.XpG();p.HbH(Q._classList),p.Y8G("id",Q.panelId)("@transformMenu",Q._panelAnimationState),p.BMQ("aria-label",Q.ariaLabel||null)("aria-labelledby",Q.ariaLabelledby||null)("aria-describedby",Q.ariaDescribedby||null)}}const u=new p.nKC("MAT_MENU_PANEL");let y=(()=>{class pe{constructor(Q,ie,ue,Ee,ke){this._elementRef=Q,this._document=ie,this._focusMonitor=ue,this._parentMenu=Ee,this._changeDetectorRef=ke,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new H.B,this._focused=new H.B,this._highlighted=!1,this._triggersSubmenu=!1,Ee?.addItem?.(this)}focus(Q,ie){this._focusMonitor&&Q?this._focusMonitor.focusVia(this._getHostElement(),Q,ie):this._getHostElement().focus(ie),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(Q){this.disabled&&(Q.preventDefault(),Q.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const Q=this._elementRef.nativeElement.cloneNode(!0),ie=Q.querySelectorAll("mat-icon, .material-icons");for(let ue=0;ue<ie.length;ue++)ie[ue].remove();return Q.textContent?.trim()||""}_setHighlighted(Q){this._highlighted=Q,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(Q){this._triggersSubmenu=Q,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(ie){return new(ie||pe)(p.rXU(p.aKT),p.rXU(re.qQ),p.rXU(E.FN),p.rXU(u,8),p.rXU(p.gRc))};static#t=this.\u0275cmp=p.VBU({type:pe,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(ie,ue){1&ie&&p.bIt("click",function(ke){return ue._checkDisabled(ke)})("mouseenter",function(){return ue._handleMouseEnter()}),2&ie&&(p.BMQ("role",ue.role)("tabindex",ue._getTabIndex())("aria-disabled",ue.disabled)("disabled",ue.disabled||null),p.AVh("mat-mdc-menu-item-highlighted",ue._highlighted)("mat-mdc-menu-item-submenu-trigger",ue._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",p.L39],disableRipple:[2,"disableRipple","disableRipple",p.L39]},exportAs:["matMenuItem"],standalone:!0,features:[p.GFd,p.aNF],attrs:le,ngContentSelectors:xe,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(ie,ue){1&ie&&(p.NAR(we),p.SdG(0),p.j41(1,"span",0),p.SdG(2,1),p.k0s(),p.nrm(3,"div",1),p.DNE(4,Ce,2,0,":svg:svg",2)),2&ie&&(p.R7$(3),p.Y8G("matRippleDisabled",ue.disableRipple||ue.disabled)("matRippleTrigger",ue._getHostElement()),p.R7$(),p.vxM(ue._triggersSubmenu?4:-1))},dependencies:[te.r6],encapsulation:2,changeDetection:0})}return pe})();const N=new p.nKC("MatMenuContent"),s={transformMenu:(0,Y.hZ)("transformMenu",[(0,Y.wk)("void",(0,Y.iF)({opacity:0,transform:"scale(0.8)"})),(0,Y.kY)("void => enter",(0,Y.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Y.iF)({opacity:1,transform:"scale(1)"}))),(0,Y.kY)("* => void",(0,Y.i0)("100ms 25ms linear",(0,Y.iF)({opacity:0})))]),fadeInItems:(0,Y.hZ)("fadeInItems",[(0,Y.wk)("showing",(0,Y.iF)({opacity:1})),(0,Y.kY)("void => *",[(0,Y.iF)({opacity:0}),(0,Y.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let K=0;const ee=new p.nKC("mat-menu-default-options",{providedIn:"root",factory:function ce(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let _e=(()=>{class pe{get xPosition(){return this._xPosition}set xPosition(Q){this._xPosition=Q,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(Q){this._yPosition=Q,this.setPositionClasses()}set panelClass(Q){const ie=this._previousPanelClass,ue={...this._classList};ie&&ie.length&&ie.split(" ").forEach(Ee=>{ue[Ee]=!1}),this._previousPanelClass=Q,Q&&Q.length&&(Q.split(" ").forEach(Ee=>{ue[Ee]=!0}),this._elementRef.nativeElement.className=""),this._classList=ue}get classList(){return this.panelClass}set classList(Q){this.panelClass=Q}constructor(Q,ie,ue,Ee){this._elementRef=Q,this._changeDetectorRef=Ee,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new p.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new H.B,this.closed=new p.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+K++,this._injector=(0,p.WQX)(p.zZn),this.overlayPanelClass=ue.overlayPanelClass||"",this._xPosition=ue.xPosition,this._yPosition=ue.yPosition,this.backdropClass=ue.backdropClass,this.overlapTrigger=ue.overlapTrigger,this.hasBackdrop=ue.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new E.Bu(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,F.Z)(this._directDescendantItems),(0,L.n)(Q=>(0,x.h)(...Q.map(ie=>ie._focused)))).subscribe(Q=>this._keyManager.updateActiveItem(Q)),this._directDescendantItems.changes.subscribe(Q=>{const ie=this._keyManager;if("enter"===this._panelAnimationState&&ie.activeItem?._hasFocus()){const ue=Q.toArray(),Ee=Math.max(0,Math.min(ue.length-1,ie.activeItemIndex||0));ue[Ee]&&!ue[Ee].disabled?ie.setActiveItem(Ee):ie.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,F.Z)(this._directDescendantItems),(0,L.n)(ie=>(0,x.h)(...ie.map(ue=>ue._hovered))))}addItem(Q){}removeItem(Q){}_handleKeydown(Q){const ie=Q.keyCode,ue=this._keyManager;switch(ie){case k._f:(0,k.rp)(Q)||(Q.preventDefault(),this.closed.emit("keydown"));break;case k.UQ:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case k.LE:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(ie===k.i7||ie===k.n6)&&ue.setFocusOrigin("keyboard"),void ue.onKeydown(Q)}Q.stopPropagation()}focusFirstItem(Q="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,p.mal)(()=>{let ie=null;if(this._directDescendantItems.length&&(ie=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!ie||!ie.contains(document.activeElement)){const ue=this._keyManager;ue.setFocusOrigin(Q).setFirstItemActive(),!ue.activeItem&&ie&&ie.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(Q){if(null===this._baseElevation){const Ue=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(Ue)}const ie=Math.min(this._baseElevation+Q,24),ue=`${this._elevationPrefix}${ie}`,Ee=Object.keys(this._classList).find(ke=>ke.startsWith(this._elevationPrefix));if(!Ee||Ee===this._previousElevation){const ke={...this._classList};this._previousElevation&&(ke[this._previousElevation]=!1),ke[ue]=!0,this._previousElevation=ue,this._classList=ke}}setPositionClasses(Q=this.xPosition,ie=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===Q,"mat-menu-after":"after"===Q,"mat-menu-above":"above"===ie,"mat-menu-below":"below"===ie},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(Q){this._animationDone.next(Q),this._isAnimating=!1}_onAnimationStart(Q){this._isAnimating=!0,"enter"===Q.toState&&0===this._keyManager.activeItemIndex&&(Q.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,F.Z)(this._allItems)).subscribe(Q=>{this._directDescendantItems.reset(Q.filter(ie=>ie._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(ie){return new(ie||pe)(p.rXU(p.aKT),p.rXU(p.SKi),p.rXU(ee),p.rXU(p.gRc))};static#t=this.\u0275cmp=p.VBU({type:pe,selectors:[["mat-menu"]],contentQueries:function(ie,ue,Ee){if(1&ie&&(p.wni(Ee,N,5),p.wni(Ee,y,5),p.wni(Ee,y,4)),2&ie){let ke;p.mGM(ke=p.lsd())&&(ue.lazyContent=ke.first),p.mGM(ke=p.lsd())&&(ue._allItems=ke),p.mGM(ke=p.lsd())&&(ue.items=ke)}},viewQuery:function(ie,ue){if(1&ie&&p.GBs(p.C4Q,5),2&ie){let Ee;p.mGM(Ee=p.lsd())&&(ue.templateRef=Ee.first)}},hostVars:3,hostBindings:function(ie,ue){2&ie&&p.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",p.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",Q=>null==Q?null:(0,p.L39)(Q)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[p.Jv_([{provide:u,useExisting:pe}]),p.GFd,p.aNF],ngContentSelectors:C,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(ie,ue){1&ie&&(p.NAR(),p.DNE(0,a,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[s.transformMenu,s.fadeInItems]},changeDetection:0})}return pe})();const Pe=new p.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const pe=(0,p.WQX)(ae.hJ);return()=>pe.scrollStrategies.reposition()}}),Se={provide:Pe,deps:[ae.hJ],useFactory:function $e(pe){return()=>pe.scrollStrategies.reposition()}},be=(0,se.BQ)({passive:!0});let ye=(()=>{class pe{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(Q){this.menu=Q}get menu(){return this._menu}set menu(Q){Q!==this._menu&&(this._menu=Q,this._menuCloseSubscription.unsubscribe(),Q&&(this._menuCloseSubscription=Q.close.subscribe(ie=>{this._destroyMenu(ie),("click"===ie||"tab"===ie)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(ie)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(Q,ie,ue,Ee,ke,Ue,Le,_t,Ve){this._overlay=Q,this._element=ie,this._viewContainerRef=ue,this._menuItemInstance=Ue,this._dir=Le,this._focusMonitor=_t,this._ngZone=Ve,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=R.yU.EMPTY,this._hoverSubscription=R.yU.EMPTY,this._menuCloseSubscription=R.yU.EMPTY,this._changeDetectorRef=(0,p.WQX)(p.gRc),this._handleTouchStart=Be=>{(0,E.w6)(Be)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new p.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new p.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=Ee,this._parentMaterialMenu=ke instanceof _e?ke:void 0,ie.nativeElement.addEventListener("touchstart",this._handleTouchStart,be)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,be),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const Q=this.menu;if(this._menuOpen||!Q)return;const ie=this._createOverlay(Q),ue=ie.getConfig(),Ee=ue.positionStrategy;this._setPosition(Q,Ee),ue.hasBackdrop=null==Q.hasBackdrop?!this.triggersSubmenu():Q.hasBackdrop,ie.attach(this._getPortal(Q)),Q.lazyContent&&Q.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(Q),Q instanceof _e&&(Q._startAnimation(),Q._directDescendantItems.changes.pipe((0,I.Q)(Q.close)).subscribe(()=>{Ee.withLockedPosition(!1).reapplyLastPosition(),Ee.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(Q,ie){this._focusMonitor&&Q?this._focusMonitor.focusVia(this._element,Q,ie):this._element.nativeElement.focus(ie)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(Q){if(!this._overlayRef||!this.menuOpen)return;const ie=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===Q||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,ie instanceof _e?(ie._resetAnimation(),ie.lazyContent?ie._animationDone.pipe((0,Z.p)(ue=>"void"===ue.toState),(0,j.s)(1),(0,I.Q)(ie.lazyContent._attached)).subscribe({next:()=>ie.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),ie?.lazyContent?.detach())}_initMenu(Q){Q.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,Q.direction=this.dir,this._setMenuElevation(Q),Q.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(Q){if(Q.setElevation){let ie=0,ue=Q.parentMenu;for(;ue;)ie++,ue=ue.parentMenu;Q.setElevation(ie)}}_setIsMenuOpen(Q){Q!==this._menuOpen&&(this._menuOpen=Q,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(Q),this._changeDetectorRef.markForCheck())}_createOverlay(Q){if(!this._overlayRef){const ie=this._getOverlayConfig(Q);this._subscribeToPositions(Q,ie.positionStrategy),this._overlayRef=this._overlay.create(ie),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(Q){return new ae.rR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:Q.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:Q.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(Q,ie){Q.setPositionClasses&&ie.positionChanges.subscribe(ue=>{const Ee="start"===ue.connectionPair.overlayX?"after":"before",ke="top"===ue.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>Q.setPositionClasses(Ee,ke)):Q.setPositionClasses(Ee,ke)})}_setPosition(Q,ie){let[ue,Ee]="before"===Q.xPosition?["end","start"]:["start","end"],[ke,Ue]="above"===Q.yPosition?["bottom","top"]:["top","bottom"],[Le,_t]=[ke,Ue],[Ve,Be]=[ue,Ee],lt=0;if(this.triggersSubmenu()){if(Be=ue="before"===Q.xPosition?"start":"end",Ee=Ve="end"===ue?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const B=this._parentMaterialMenu.items.first;this._parentInnerPadding=B?B._getHostElement().offsetTop:0}lt="bottom"===ke?this._parentInnerPadding:-this._parentInnerPadding}}else Q.overlapTrigger||(Le="top"===ke?"bottom":"top",_t="top"===Ue?"bottom":"top");ie.withPositions([{originX:ue,originY:Le,overlayX:Ve,overlayY:ke,offsetY:lt},{originX:Ee,originY:Le,overlayX:Be,overlayY:ke,offsetY:lt},{originX:ue,originY:_t,overlayX:Ve,overlayY:Ue,offsetY:-lt},{originX:Ee,originY:_t,overlayX:Be,overlayY:Ue,offsetY:-lt}])}_menuClosingActions(){const Q=this._overlayRef.backdropClick(),ie=this._overlayRef.detachments(),ue=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,A.of)(),Ee=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,Z.p)(ke=>ke!==this._menuItemInstance),(0,Z.p)(()=>this._menuOpen)):(0,A.of)();return(0,x.h)(Q,ue,Ee,ie)}_handleMousedown(Q){(0,E._G)(Q)||(this._openedBy=0===Q.button?"mouse":void 0,this.triggersSubmenu()&&Q.preventDefault())}_handleKeydown(Q){const ie=Q.keyCode;(ie===k.Fm||ie===k.t6)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(ie===k.LE&&"ltr"===this.dir||ie===k.UQ&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(Q){this.triggersSubmenu()?(Q.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,Z.p)(Q=>Q===this._menuItemInstance&&!Q.disabled),(0,G.c)(0,O.$)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof _e&&this.menu._isAnimating?this.menu._animationDone.pipe((0,j.s)(1),(0,G.c)(0,O.$),(0,I.Q)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(Q){return(!this._portal||this._portal.templateRef!==Q.templateRef)&&(this._portal=new J.VA(Q.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(ie){return new(ie||pe)(p.rXU(ae.hJ),p.rXU(p.aKT),p.rXU(p.c1b),p.rXU(Pe),p.rXU(u,8),p.rXU(y,10),p.rXU(oe.dS,8),p.rXU(E.FN),p.rXU(p.SKi))};static#t=this.\u0275dir=p.FsC({type:pe,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(ie,ue){1&ie&&p.bIt("click",function(ke){return ue._handleClick(ke)})("mousedown",function(ke){return ue._handleMousedown(ke)})("keydown",function(ke){return ue._handleKeydown(ke)}),2&ie&&p.BMQ("aria-haspopup",ue.menu?"menu":null)("aria-expanded",ue.menuOpen)("aria-controls",ue.menuOpen?ue.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return pe})(),Te=(()=>{class pe{static#e=this.\u0275fac=function(ie){return new(ie||pe)};static#t=this.\u0275mod=p.$C({type:pe});static#n=this.\u0275inj=p.G2t({providers:[Se],imports:[re.MD,te.pZ,te.yE,ae.z_,de.Gj,te.yE]})}return pe})()},9183:(Fe,z,_)=>{"use strict";_.d(z,{D6:()=>Z,LG:()=>L});var p=_(93953),E=_(60177),k=_(86600);const H=["determinateSpinner"];function x(j,G){if(1&j&&(p.qSk(),p.j41(0,"svg",11),p.nrm(1,"circle",12),p.k0s()),2&j){const re=p.XpG();p.BMQ("viewBox",re._viewBox()),p.R7$(),p.xc7("stroke-dasharray",re._strokeCircumference(),"px")("stroke-dashoffset",re._strokeCircumference()/2,"px")("stroke-width",re._circleStrokeWidth(),"%"),p.BMQ("r",re._circleRadius())}}const R=new p.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function A(){return{diameter:O}}}),O=100;let L=(()=>{class j{get color(){return this._color||this._defaultColor}set color(re){this._color=re}constructor(re,te,J){this._elementRef=re,this._defaultColor="primary",this._value=0,this._diameter=O,this._noopAnimations="NoopAnimations"===te&&!!J&&!J._forceAnimations,this.mode="mat-spinner"===re.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",J&&(J.color&&(this.color=this._defaultColor=J.color),J.diameter&&(this.diameter=J.diameter),J.strokeWidth&&(this.strokeWidth=J.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(re){this._value=Math.max(0,Math.min(100,re||0))}get diameter(){return this._diameter}set diameter(re){this._diameter=re||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(re){this._strokeWidth=re||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const re=2*this._circleRadius()+this.strokeWidth;return`0 0 ${re} ${re}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(te){return new(te||j)(p.rXU(p.aKT),p.rXU(p.bc$,8),p.rXU(R))};static#t=this.\u0275cmp=p.VBU({type:j,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(te,J){if(1&te&&p.GBs(H,5),2&te){let Y;p.mGM(Y=p.lsd())&&(J._determinateCircle=Y.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(te,J){2&te&&(p.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===J.mode?J.value:null)("mode",J.mode),p.HbH("mat-"+J.color),p.xc7("width",J.diameter,"px")("height",J.diameter,"px")("--mdc-circular-progress-size",J.diameter+"px")("--mdc-circular-progress-active-indicator-width",J.diameter+"px"),p.AVh("_mat-animation-noopable",J._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===J.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",p.Udg],diameter:[2,"diameter","diameter",p.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",p.Udg]},exportAs:["matProgressSpinner"],standalone:!0,features:[p.GFd,p.aNF],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(te,J){if(1&te&&(p.DNE(0,x,2,8,"ng-template",null,0,p.C5r),p.j41(2,"div",2,1),p.qSk(),p.j41(4,"svg",3),p.nrm(5,"circle",4),p.k0s()(),p.joV(),p.j41(6,"div",5)(7,"div",6)(8,"div",7),p.eu8(9,8),p.k0s(),p.j41(10,"div",9),p.eu8(11,8),p.k0s(),p.j41(12,"div",10),p.eu8(13,8),p.k0s()()()),2&te){const Y=p.sdS(1);p.R7$(4),p.BMQ("viewBox",J._viewBox()),p.R7$(),p.xc7("stroke-dasharray",J._strokeCircumference(),"px")("stroke-dashoffset",J._strokeDashOffset(),"px")("stroke-width",J._circleStrokeWidth(),"%"),p.BMQ("r",J._circleRadius()),p.R7$(4),p.Y8G("ngTemplateOutlet",Y),p.R7$(2),p.Y8G("ngTemplateOutlet",Y),p.R7$(2),p.Y8G("ngTemplateOutlet",Y)}},dependencies:[E.T3],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return j})(),Z=(()=>{class j{static#e=this.\u0275fac=function(te){return new(te||j)};static#t=this.\u0275mod=p.$C({type:j});static#n=this.\u0275inj=p.G2t({imports:[E.MD,k.yE]})}return j})()},5951:(Fe,z,_)=>{"use strict";_.d(z,{Wk:()=>Y});var p=_(18617),E=_(45024),k=_(93953),x=(_(89417),_(86600)),R=_(60177);const A=["input"],O=["formField"],F=["*"];let L=0;class I{constructor(ae,se){this.source=ae,this.value=se}}const j=new k.nKC("MatRadioGroup"),G=new k.nKC("mat-radio-default-options",{providedIn:"root",factory:function re(){return{color:"accent"}}});let J=(()=>{class oe{get checked(){return this._checked}set checked(se){this._checked!==se&&(this._checked=se,se&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!se&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),se&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(se){this._value!==se&&(this._value=se,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===se),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(se){this._labelPosition=se}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(se){this._setDisabled(se)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(se){this._required=se}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(se){this._color=se}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(se,de,le,we,xe,Ce,C,a){this._elementRef=de,this._changeDetector=le,this._focusMonitor=we,this._radioDispatcher=xe,this._providerOverride=C,this._uniqueId="mat-radio-"+ ++L,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new k.bkB,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=(0,k.WQX)(k.zZn),this.radioGroup=se,this._noopAnimations="NoopAnimations"===Ce,a&&(this.tabIndex=(0,k.Udg)(a,0))}focus(se,de){de?this._focusMonitor.focusVia(this._inputElement,de,se):this._inputElement.nativeElement.focus(se)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((se,de)=>{se!==this.id&&de===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(se=>{!se&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new I(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(se){se.stopPropagation()}_onInputInteraction(se){if(se.stopPropagation(),!this.checked&&!this.disabled){const de=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),de&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(se){this._onInputInteraction(se),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(se){this._disabled!==se&&(this._disabled=se,this._changeDetector.markForCheck())}_updateTabIndex(){const se=this.radioGroup;let de;if(de=se&&se.selected&&!this.disabled?se.selected===this?this.tabIndex:-1:this.tabIndex,de!==this._previousTabIndex){const le=this._inputElement?.nativeElement;le&&(le.setAttribute("tabindex",de+""),this._previousTabIndex=de,(0,k.mal)(()=>{queueMicrotask(()=>{se&&se.selected&&se.selected!==this&&document.activeElement===le&&(se.selected?._inputElement.nativeElement.focus(),document.activeElement===le&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static#e=this.\u0275fac=function(de){return new(de||oe)(k.rXU(j,8),k.rXU(k.aKT),k.rXU(k.gRc),k.rXU(p.FN),k.rXU(E.zP),k.rXU(k.bc$,8),k.rXU(G,8),k.kS0("tabindex"))};static#t=this.\u0275cmp=k.VBU({type:oe,selectors:[["mat-radio-button"]],viewQuery:function(de,le){if(1&de&&(k.GBs(A,5),k.GBs(O,7,k.aKT)),2&de){let we;k.mGM(we=k.lsd())&&(le._inputElement=we.first),k.mGM(we=k.lsd())&&(le._rippleTrigger=we.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(de,le){1&de&&k.bIt("focus",function(){return le._inputElement.nativeElement.focus()}),2&de&&(k.BMQ("id",le.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),k.AVh("mat-primary","primary"===le.color)("mat-accent","accent"===le.color)("mat-warn","warn"===le.color)("mat-mdc-radio-checked",le.checked)("_mat-animation-noopable",le._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",k.L39],tabIndex:[2,"tabIndex","tabIndex",se=>null==se?0:(0,k.Udg)(se)],checked:[2,"checked","checked",k.L39],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",k.L39],required:[2,"required","required",k.L39],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[k.GFd,k.aNF],ngContentSelectors:F,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(de,le){if(1&de){const we=k.RV6();k.NAR(),k.j41(0,"div",2,0)(2,"div",3)(3,"div",4),k.bIt("click",function(Ce){return k.eBV(we),k.Njj(le._onTouchTargetClick(Ce))}),k.k0s(),k.j41(4,"input",5,1),k.bIt("change",function(Ce){return k.eBV(we),k.Njj(le._onInputInteraction(Ce))}),k.k0s(),k.j41(6,"div",6),k.nrm(7,"div",7)(8,"div",8),k.k0s(),k.j41(9,"div",9),k.nrm(10,"div",10),k.k0s()(),k.j41(11,"label",11),k.SdG(12),k.k0s()()}2&de&&(k.Y8G("labelPosition",le.labelPosition),k.R7$(2),k.AVh("mdc-radio--disabled",le.disabled),k.R7$(2),k.Y8G("id",le.inputId)("checked",le.checked)("disabled",le.disabled)("required",le.required),k.BMQ("name",le.name)("value",le.value)("aria-label",le.ariaLabel)("aria-labelledby",le.ariaLabelledby)("aria-describedby",le.ariaDescribedby),k.R7$(5),k.Y8G("matRippleTrigger",le._rippleTrigger.nativeElement)("matRippleDisabled",le._isRippleDisabled())("matRippleCentered",!0),k.R7$(2),k.Y8G("for",le.inputId))},dependencies:[x.r6,x.tO],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color);opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color);opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio--disabled{cursor:default;pointer-events:none}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color);font-family:var(--mat-radio-label-text-font);line-height:var(--mat-radio-label-text-line-height);font-size:var(--mat-radio-label-text-size);letter-spacing:var(--mat-radio-label-text-tracking);font-weight:var(--mat-radio-label-text-weight)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return oe})(),Y=(()=>{class oe{static#e=this.\u0275fac=function(de){return new(de||oe)};static#t=this.\u0275mod=k.$C({type:oe});static#n=this.\u0275inj=k.G2t({imports:[x.yE,R.MD,x.pZ,J,x.yE]})}return oe})()},82798:(Fe,z,_)=>{"use strict";_.d(z,{$2:()=>$e,VO:()=>Pe,Ve:()=>Se});var p=_(66969),E=_(60177),k=_(93953),H=_(86600),x=_(53719),R=_(67333),A=_(18617),O=_(28203),F=_(45024),L=_(67336),I=_(89417),Z=_(21413),j=_(59030),G=_(57786),re=_(99172),te=_(25558),J=_(5964),Y=_(96354),oe=_(23294),ae=_(56977),se=_(96697),de=_(49969);const le=["trigger"],we=["panel"],xe=[[["mat-select-trigger"]],"*"],Ce=["mat-select-trigger","*"];function C(be,Ne){if(1&be&&(k.j41(0,"span",4),k.EFF(1),k.k0s()),2&be){const ye=k.XpG();k.R7$(),k.JRh(ye.placeholder)}}function a(be,Ne){1&be&&k.SdG(0)}function u(be,Ne){if(1&be&&(k.j41(0,"span",11),k.EFF(1),k.k0s()),2&be){const ye=k.XpG(2);k.R7$(),k.JRh(ye.triggerValue)}}function y(be,Ne){if(1&be&&(k.j41(0,"span",5),k.DNE(1,a,1,0)(2,u,2,1,"span",11),k.k0s()),2&be){const ye=k.XpG();k.R7$(),k.vxM(ye.customTrigger?1:2)}}function g(be,Ne){if(1&be){const ye=k.RV6();k.j41(0,"div",12,1),k.bIt("@transformPanel.done",function(pe){k.eBV(ye);const fe=k.XpG();return k.Njj(fe._panelDoneAnimatingStream.next(pe.toState))})("keydown",function(pe){k.eBV(ye);const fe=k.XpG();return k.Njj(fe._handleKeydown(pe))}),k.SdG(2,1),k.k0s()}if(2&be){const ye=k.XpG();k.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",ye._getPanelTheme(),""),k.Y8G("ngClass",ye.panelClass)("@transformPanel","showing"),k.BMQ("id",ye.id+"-panel")("aria-multiselectable",ye.multiple)("aria-label",ye.ariaLabel||null)("aria-labelledby",ye._getPanelAriaLabelledby())}}const S={transformPanelWrap:(0,de.hZ)("transformPanelWrap",[(0,de.kY)("* => void",(0,de.P)("@transformPanel",[(0,de.MA)()],{optional:!0}))]),transformPanel:(0,de.hZ)("transformPanel",[(0,de.wk)("void",(0,de.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,de.kY)("void => showing",(0,de.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,de.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,de.kY)("* => void",(0,de.i0)("100ms linear",(0,de.iF)({opacity:0})))])};let s=0;const v=new k.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const be=(0,k.WQX)(p.hJ);return()=>be.scrollStrategies.reposition()}}),K=new k.nKC("MAT_SELECT_CONFIG"),ee={provide:v,deps:[p.hJ],useFactory:function W(be){return()=>be.scrollStrategies.reposition()}},ce=new k.nKC("MatSelectTrigger");class _e{constructor(Ne,ye){this.source=Ne,this.value=ye}}let Pe=(()=>{class be{_scrollOptionIntoView(ye){const Te=this.options.toArray()[ye];if(Te){const pe=this.panel.nativeElement,fe=(0,H.jb)(ye,this.options,this.optionGroups),Q=Te._getHostElement();pe.scrollTop=0===ye&&1===fe?0:(0,H.TL)(Q.offsetTop,Q.offsetHeight,pe.scrollTop,pe.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(ye){return new _e(this,ye)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(ye){this._hideSingleSelectionIndicator=ye,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(ye){this._placeholder=ye,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(I.k0.required)??!1}set required(ye){this._required=ye,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(ye){this._multiple=ye}get compareWith(){return this._compareWith}set compareWith(ye){this._compareWith=ye,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(ye){this._assignValue(ye)&&this._onChange(ye)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(ye){this._errorStateTracker.matcher=ye}get id(){return this._id}set id(ye){this._id=ye||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(ye){this._errorStateTracker.errorState=ye}constructor(ye,Te,pe,fe,Q,ie,ue,Ee,ke,Ue,Le,_t,Ve,Be){this._viewportRuler=ye,this._changeDetectorRef=Te,this._elementRef=Q,this._dir=ie,this._parentFormField=ke,this.ngControl=Ue,this._liveAnnouncer=Ve,this._defaultOptions=Be,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(lt,B)=>lt===B,this._uid="mat-select-"+s++,this._triggerAriaLabelledBy=null,this._destroy=new Z.B,this.stateChanges=new Z.B,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+s++,this._panelDoneAnimatingStream=new Z.B,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new Z.B,this.optionSelectionChanges=(0,j.v)(()=>{const lt=this.options;return lt?lt.changes.pipe((0,re.Z)(lt),(0,te.n)(()=>(0,G.h)(...lt.map(B=>B.onSelectionChange)))):this._initialized.pipe((0,te.n)(()=>this.optionSelectionChanges))}),this.openedChange=new k.bkB,this._openedStream=this.openedChange.pipe((0,J.p)(lt=>lt),(0,Y.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,J.p)(lt=>!lt),(0,Y.T)(()=>{})),this.selectionChange=new k.bkB,this.valueChange=new k.bkB,this._trackedModal=null,this._skipPredicate=lt=>!this.panelOpen&&lt.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Be?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=Be.typeaheadDebounceInterval),this._errorStateTracker=new H.X0(fe,Ue,Ee,ue,this.stateChanges),this._scrollStrategyFactory=_t,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Le)||0,this.id=this.id}ngOnInit(){this._selectionModel=new F.CB(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,oe.F)(),(0,ae.Q)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe((0,ae.Q)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe((0,ae.Q)(this._destroy)).subscribe(ye=>{ye.added.forEach(Te=>Te.select()),ye.removed.forEach(Te=>Te.deselect())}),this.options.changes.pipe((0,re.Z)(null),(0,ae.Q)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const ye=this._getTriggerAriaLabelledby(),Te=this.ngControl;if(ye!==this._triggerAriaLabelledBy){const pe=this._elementRef.nativeElement;this._triggerAriaLabelledBy=ye,ye?pe.setAttribute("aria-labelledby",ye):pe.removeAttribute("aria-labelledby")}Te&&(this._previousControl!==Te.control&&(void 0!==this._previousControl&&null!==Te.disabled&&Te.disabled!==this.disabled&&(this.disabled=Te.disabled),this._previousControl=Te.control),this.updateErrorState())}ngOnChanges(ye){(ye.disabled||ye.userAriaDescribedBy)&&this.stateChanges.next(),ye.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const ye=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!ye)return;const Te=`${this.id}-panel`;this._trackedModal&&(0,A.Ae)(this._trackedModal,"aria-owns",Te),(0,A.px)(ye,"aria-owns",Te),this._trackedModal=ye}_clearFromModal(){this._trackedModal&&((0,A.Ae)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(ye){this._assignValue(ye)}registerOnChange(ye){this._onChange=ye}registerOnTouched(ye){this._onTouched=ye}setDisabledState(ye){this.disabled=ye,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const ye=this._selectionModel.selected.map(Te=>Te.viewValue);return this._isRtl()&&ye.reverse(),ye.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(ye){this.disabled||(this.panelOpen?this._handleOpenKeydown(ye):this._handleClosedKeydown(ye))}_handleClosedKeydown(ye){const Te=ye.keyCode,pe=Te===L.n6||Te===L.i7||Te===L.UQ||Te===L.LE,fe=Te===L.Fm||Te===L.t6,Q=this._keyManager;if(!Q.isTyping()&&fe&&!(0,L.rp)(ye)||(this.multiple||ye.altKey)&&pe)ye.preventDefault(),this.open();else if(!this.multiple){const ie=this.selected;Q.onKeydown(ye);const ue=this.selected;ue&&ie!==ue&&this._liveAnnouncer.announce(ue.viewValue,1e4)}}_handleOpenKeydown(ye){const Te=this._keyManager,pe=ye.keyCode,fe=pe===L.n6||pe===L.i7,Q=Te.isTyping();if(fe&&ye.altKey)ye.preventDefault(),this.close();else if(Q||pe!==L.Fm&&pe!==L.t6||!Te.activeItem||(0,L.rp)(ye))if(!Q&&this._multiple&&pe===L.A&&ye.ctrlKey){ye.preventDefault();const ie=this.options.some(ue=>!ue.disabled&&!ue.selected);this.options.forEach(ue=>{ue.disabled||(ie?ue.select():ue.deselect())})}else{const ie=Te.activeItemIndex;Te.onKeydown(ye),this._multiple&&fe&&ye.shiftKey&&Te.activeItem&&Te.activeItemIndex!==ie&&Te.activeItem._selectViaInteraction()}else ye.preventDefault(),Te.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,se.s)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(ye){if(this.options.forEach(Te=>Te.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&ye)Array.isArray(ye),ye.forEach(Te=>this._selectOptionByValue(Te)),this._sortValues();else{const Te=this._selectOptionByValue(ye);Te?this._keyManager.updateActiveItem(Te):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(ye){const Te=this.options.find(pe=>{if(this._selectionModel.isSelected(pe))return!1;try{return null!=pe.value&&this._compareWith(pe.value,ye)}catch{return!1}});return Te&&this._selectionModel.select(Te),Te}_assignValue(ye){return!!(ye!==this._value||this._multiple&&Array.isArray(ye))&&(this.options&&this._setSelectionByValue(ye),this._value=ye,!0)}_getOverlayWidth(ye){return"auto"===this.panelWidth?(ye instanceof p.$Q?ye.elementRef:ye||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const ye of this.options)ye._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new A.Au(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const ye=(0,G.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,ae.Q)(ye)).subscribe(Te=>{this._onSelect(Te.source,Te.isUserInput),Te.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,G.h)(...this.options.map(Te=>Te._stateChanges)).pipe((0,ae.Q)(ye)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(ye,Te){const pe=this._selectionModel.isSelected(ye);null!=ye.value||this._multiple?(pe!==ye.selected&&(ye.selected?this._selectionModel.select(ye):this._selectionModel.deselect(ye)),Te&&this._keyManager.setActiveItem(ye),this.multiple&&(this._sortValues(),Te&&this.focus())):(ye.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(ye.value)),pe!==this._selectionModel.isSelected(ye)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const ye=this.options.toArray();this._selectionModel.sort((Te,pe)=>this.sortComparator?this.sortComparator(Te,pe,ye):ye.indexOf(Te)-ye.indexOf(pe)),this.stateChanges.next()}}_propagateChanges(ye){let Te;Te=this.multiple?this.selected.map(pe=>pe.value):this.selected?this.selected.value:ye,this._value=Te,this.valueChange.emit(Te),this._onChange(Te),this.selectionChange.emit(this._getChangeEvent(Te)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let ye=-1;for(let Te=0;Te<this.options.length;Te++)if(!this.options.get(Te).disabled){ye=Te;break}this._keyManager.setActiveItem(ye)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(ye){this._elementRef.nativeElement.focus(ye)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const ye=this._parentFormField?.getLabelId();return this.ariaLabelledby?(ye?ye+" ":"")+this.ariaLabelledby:ye}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const ye=this._parentFormField?.getLabelId();let Te=(ye?ye+" ":"")+this._valueId;return this.ariaLabelledby&&(Te+=" "+this.ariaLabelledby),Te}_panelDoneAnimating(ye){this.openedChange.emit(ye)}setDescribedByIds(ye){ye.length?this._elementRef.nativeElement.setAttribute("aria-describedby",ye.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(Te){return new(Te||be)(k.rXU(R.Xj),k.rXU(k.gRc),k.rXU(k.SKi),k.rXU(H.es),k.rXU(k.aKT),k.rXU(O.dS,8),k.rXU(I.cV,8),k.rXU(I.j4,8),k.rXU(x.xb,8),k.rXU(I.vO,10),k.kS0("tabindex"),k.rXU(v),k.rXU(A.Ai),k.rXU(K,8))};static#t=this.\u0275cmp=k.VBU({type:be,selectors:[["mat-select"]],contentQueries:function(Te,pe,fe){if(1&Te&&(k.wni(fe,ce,5),k.wni(fe,H.wT,5),k.wni(fe,H.QC,5)),2&Te){let Q;k.mGM(Q=k.lsd())&&(pe.customTrigger=Q.first),k.mGM(Q=k.lsd())&&(pe.options=Q),k.mGM(Q=k.lsd())&&(pe.optionGroups=Q)}},viewQuery:function(Te,pe){if(1&Te&&(k.GBs(le,5),k.GBs(we,5),k.GBs(p.WB,5)),2&Te){let fe;k.mGM(fe=k.lsd())&&(pe.trigger=fe.first),k.mGM(fe=k.lsd())&&(pe.panel=fe.first),k.mGM(fe=k.lsd())&&(pe._overlayDir=fe.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(Te,pe){1&Te&&k.bIt("keydown",function(Q){return pe._handleKeydown(Q)})("focus",function(){return pe._onFocus()})("blur",function(){return pe._onBlur()}),2&Te&&(k.BMQ("id",pe.id)("tabindex",pe.disabled?-1:pe.tabIndex)("aria-controls",pe.panelOpen?pe.id+"-panel":null)("aria-expanded",pe.panelOpen)("aria-label",pe.ariaLabel||null)("aria-required",pe.required.toString())("aria-disabled",pe.disabled.toString())("aria-invalid",pe.errorState)("aria-activedescendant",pe._getAriaActiveDescendant()),k.AVh("mat-mdc-select-disabled",pe.disabled)("mat-mdc-select-invalid",pe.errorState)("mat-mdc-select-required",pe.required)("mat-mdc-select-empty",pe.empty)("mat-mdc-select-multiple",pe.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",k.L39],disableRipple:[2,"disableRipple","disableRipple",k.L39],tabIndex:[2,"tabIndex","tabIndex",ye=>null==ye?0:(0,k.Udg)(ye)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",k.L39],placeholder:"placeholder",required:[2,"required","required",k.L39],multiple:[2,"multiple","multiple",k.L39],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",k.L39],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",k.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[k.Jv_([{provide:x.qT,useExisting:be},{provide:H.is,useExisting:be}]),k.GFd,k.OA$,k.aNF],ngContentSelectors:Ce,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(Te,pe){if(1&Te){const fe=k.RV6();k.NAR(xe),k.j41(0,"div",2,0),k.bIt("click",function(){return k.eBV(fe),k.Njj(pe.open())}),k.j41(3,"div",3),k.DNE(4,C,2,1,"span",4)(5,y,3,1,"span",5),k.k0s(),k.j41(6,"div",6)(7,"div",7),k.qSk(),k.j41(8,"svg",8),k.nrm(9,"path",9),k.k0s()()()(),k.DNE(10,g,3,9,"ng-template",10),k.bIt("backdropClick",function(){return k.eBV(fe),k.Njj(pe.close())})("attach",function(){return k.eBV(fe),k.Njj(pe._onAttached())})("detach",function(){return k.eBV(fe),k.Njj(pe.close())})}if(2&Te){const fe=k.sdS(1);k.R7$(3),k.BMQ("id",pe._valueId),k.R7$(),k.vxM(pe.empty?4:5),k.R7$(6),k.Y8G("cdkConnectedOverlayPanelClass",pe._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",pe._scrollStrategy)("cdkConnectedOverlayOrigin",pe._preferredOverlayOrigin||fe)("cdkConnectedOverlayOpen",pe.panelOpen)("cdkConnectedOverlayPositions",pe._positions)("cdkConnectedOverlayWidth",pe._overlayWidth)}},dependencies:[p.$Q,p.WB,E.YU],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[S.transformPanel]},changeDetection:0})}return be})(),$e=(()=>{class be{static#e=this.\u0275fac=function(Te){return new(Te||be)};static#t=this.\u0275dir=k.FsC({type:be,selectors:[["mat-select-trigger"]],standalone:!0,features:[k.Jv_([{provide:ce,useExisting:be}])]})}return be})(),Se=(()=>{class be{static#e=this.\u0275fac=function(Te){return new(Te||be)};static#t=this.\u0275mod=k.$C({type:be});static#n=this.\u0275inj=k.G2t({providers:[ee],imports:[E.MD,p.z_,H.Sy,H.yE,R.Gj,x.RG,H.Sy,H.yE]})}return be})()},55911:(Fe,z,_)=>{"use strict";_.d(z,{KQ:()=>O,s5:()=>L});var p=_(93953),E=_(86600),k=_(36860),H=_(60177);const x=["*",[["mat-toolbar-row"]]],R=["*","mat-toolbar-row"];let A=(()=>{class I{static#e=this.\u0275fac=function(G){return new(G||I)};static#t=this.\u0275dir=p.FsC({type:I,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}return I})(),O=(()=>{class I{constructor(j,G,re){this._elementRef=j,this._platform=G,this._document=re}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(G){return new(G||I)(p.rXU(p.aKT),p.rXU(k.OD),p.rXU(H.qQ))};static#t=this.\u0275cmp=p.VBU({type:I,selectors:[["mat-toolbar"]],contentQueries:function(G,re,te){if(1&G&&p.wni(te,A,5),2&G){let J;p.mGM(J=p.lsd())&&(re._toolbarRows=J)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(G,re){2&G&&(p.HbH(re.color?"mat-"+re.color:""),p.AVh("mat-toolbar-multiple-rows",re._toolbarRows.length>0)("mat-toolbar-single-row",0===re._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[p.aNF],ngContentSelectors:R,decls:2,vars:0,template:function(G,re){1&G&&(p.NAR(x),p.SdG(0),p.SdG(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return I})(),L=(()=>{class I{static#e=this.\u0275fac=function(G){return new(G||I)};static#t=this.\u0275mod=p.$C({type:I});static#n=this.\u0275inj=p.G2t({imports:[E.yE,E.yE]})}return I})()},14823:(Fe,z,_)=>{"use strict";_.d(z,{oV:()=>y,uc:()=>T});var p=_(56977),E=_(14085),k=_(67336),H=_(93953),x=_(60177),R=_(36860),A=_(18617),O=_(28203),F=_(66969),L=_(67333),I=_(76939),Z=_(21413),G=(_(49969),_(86600));const re=["tooltip"],Y=new H.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const N=(0,H.WQX)(F.hJ);return()=>N.scrollStrategies.reposition({scrollThrottle:20})}}),ae={provide:Y,deps:[F.hJ],useFactory:function oe(N){return()=>N.scrollStrategies.reposition({scrollThrottle:20})}},de=new H.nKC("mat-tooltip-default-options",{providedIn:"root",factory:function se(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),we="tooltip-panel",xe=(0,R.BQ)({passive:!0});let y=(()=>{class N{get position(){return this._position}set position(s){s!==this._position&&(this._position=s,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(s){this._positionAtOrigin=(0,E.he)(s),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(s){this._disabled=(0,E.he)(s),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(s){this._showDelay=(0,E.OE)(s)}get hideDelay(){return this._hideDelay}set hideDelay(s){this._hideDelay=(0,E.OE)(s),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(s){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=s?String(s).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(s){this._tooltipClass=s,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(s,v,W,K,ee,ce,_e,Pe,$e,Se,be,Ne){this._overlay=s,this._elementRef=v,this._scrollDispatcher=W,this._viewContainerRef=K,this._ngZone=ee,this._platform=ce,this._ariaDescriber=_e,this._focusMonitor=Pe,this._dir=Se,this._defaultOptions=be,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=g,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Z.B,this._injector=(0,H.WQX)(H.zZn),this._scrollStrategy=$e,this._document=Ne,be&&(this._showDelay=be.showDelay,this._hideDelay=be.hideDelay,be.position&&(this.position=be.position),be.positionAtOrigin&&(this.positionAtOrigin=be.positionAtOrigin),be.touchGestures&&(this.touchGestures=be.touchGestures)),Se.change.pipe((0,p.Q)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,p.Q)(this._destroyed)).subscribe(s=>{s?"keyboard"===s&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const s=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([v,W])=>{s.removeEventListener(v,W,xe)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(s,this.message,"tooltip"),this._focusMonitor.stopMonitoring(s)}show(s=this.showDelay,v){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const W=this._createOverlay(v);this._detach(),this._portal=this._portal||new I.A8(this._tooltipComponent,this._viewContainerRef);const K=this._tooltipInstance=W.attach(this._portal).instance;K._triggerElement=this._elementRef.nativeElement,K._mouseLeaveHideDelay=this._hideDelay,K.afterHidden().pipe((0,p.Q)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),K.show(s)}hide(s=this.hideDelay){const v=this._tooltipInstance;v&&(v.isVisible()?v.hide(s):(v._cancelPendingAnimations(),this._detach()))}toggle(s){this._isTooltipVisible()?this.hide():this.show(void 0,s)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(s){if(this._overlayRef){const K=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!s)&&K._origin instanceof H.aKT)return this._overlayRef;this._detach()}const v=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),W=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&s||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(v);return W.positionChanges.pipe((0,p.Q)(this._destroyed)).subscribe(K=>{this._updateCurrentPositionClass(K.connectionPair),this._tooltipInstance&&K.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:W,panelClass:`${this._cssClassPrefix}-${we}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,p.Q)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,p.Q)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,p.Q)(this._destroyed)).subscribe(K=>{this._isTooltipVisible()&&K.keyCode===k._f&&!(0,k.rp)(K)&&(K.preventDefault(),K.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(s){const v=s.getConfig().positionStrategy,W=this._getOrigin(),K=this._getOverlayPosition();v.withPositions([this._addOffset({...W.main,...K.main}),this._addOffset({...W.fallback,...K.fallback})])}_addOffset(s){const W=!this._dir||"ltr"==this._dir.value;return"top"===s.originY?s.offsetY=-8:"bottom"===s.originY?s.offsetY=8:"start"===s.originX?s.offsetX=W?-8:8:"end"===s.originX&&(s.offsetX=W?8:-8),s}_getOrigin(){const s=!this._dir||"ltr"==this._dir.value,v=this.position;let W;"above"==v||"below"==v?W={originX:"center",originY:"above"==v?"top":"bottom"}:"before"==v||"left"==v&&s||"right"==v&&!s?W={originX:"start",originY:"center"}:("after"==v||"right"==v&&s||"left"==v&&!s)&&(W={originX:"end",originY:"center"});const{x:K,y:ee}=this._invertPosition(W.originX,W.originY);return{main:W,fallback:{originX:K,originY:ee}}}_getOverlayPosition(){const s=!this._dir||"ltr"==this._dir.value,v=this.position;let W;"above"==v?W={overlayX:"center",overlayY:"bottom"}:"below"==v?W={overlayX:"center",overlayY:"top"}:"before"==v||"left"==v&&s||"right"==v&&!s?W={overlayX:"end",overlayY:"center"}:("after"==v||"right"==v&&s||"left"==v&&!s)&&(W={overlayX:"start",overlayY:"center"});const{x:K,y:ee}=this._invertPosition(W.overlayX,W.overlayY);return{main:W,fallback:{overlayX:K,overlayY:ee}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),(0,H.mal)(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(s){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=s,this._tooltipInstance._markForCheck())}_invertPosition(s,v){return"above"===this.position||"below"===this.position?"top"===v?v="bottom":"bottom"===v&&(v="top"):"end"===s?s="start":"start"===s&&(s="end"),{x:s,y:v}}_updateCurrentPositionClass(s){const{overlayY:v,originX:W,originY:K}=s;let ee;if(ee="center"===v?this._dir&&"rtl"===this._dir.value?"end"===W?"left":"right":"start"===W?"left":"right":"bottom"===v&&"top"===K?"above":"below",ee!==this._currentPosition){const ce=this._overlayRef;if(ce){const _e=`${this._cssClassPrefix}-${we}-`;ce.removePanelClass(_e+this._currentPosition),ce.addPanelClass(_e+ee)}this._currentPosition=ee}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",s=>{let v;this._setupPointerExitEventsIfNeeded(),void 0!==s.x&&void 0!==s.y&&(v=s),this.show(void 0,v)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",s=>{const v=s.targetTouches?.[0],W=v?{x:v.clientX,y:v.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,W),this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const s=[];if(this._platformSupportsMouseEvents())s.push(["mouseleave",v=>{const W=v.relatedTarget;(!W||!this._overlayRef?.overlayElement.contains(W))&&this.hide()}],["wheel",v=>this._wheelListener(v)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const v=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};s.push(["touchend",v],["touchcancel",v])}this._addListeners(s),this._passiveListeners.push(...s)}_addListeners(s){s.forEach(([v,W])=>{this._elementRef.nativeElement.addEventListener(v,W,xe)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(s){if(this._isTooltipVisible()){const v=this._document.elementFromPoint(s.clientX,s.clientY),W=this._elementRef.nativeElement;v!==W&&!W.contains(v)&&this.hide()}}_disableNativeGesturesIfNecessary(){const s=this.touchGestures;if("off"!==s){const v=this._elementRef.nativeElement,W=v.style;("on"===s||"INPUT"!==v.nodeName&&"TEXTAREA"!==v.nodeName)&&(W.userSelect=W.msUserSelect=W.webkitUserSelect=W.MozUserSelect="none"),("on"===s||!v.draggable)&&(W.webkitUserDrag="none"),W.touchAction="none",W.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(v){return new(v||N)(H.rXU(F.hJ),H.rXU(H.aKT),H.rXU(L.R),H.rXU(H.c1b),H.rXU(H.SKi),H.rXU(R.OD),H.rXU(A.vr),H.rXU(A.FN),H.rXU(Y),H.rXU(O.dS),H.rXU(de,8),H.rXU(x.qQ))};static#t=this.\u0275dir=H.FsC({type:N,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(v,W){2&v&&H.AVh("mat-mdc-tooltip-disabled",W.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return N})(),g=(()=>{class N{constructor(s,v,W){this._changeDetectorRef=s,this._elementRef=v,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Z.B,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===W}show(s){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},s)}hide(s){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},s)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:s}){(!s||!this._triggerElement.contains(s))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const s=this._elementRef.nativeElement.getBoundingClientRect();return s.height>24&&s.width>=200}_handleAnimationEnd({animationName:s}){(s===this._showAnimation||s===this._hideAnimation)&&this._finalizeAnimation(s===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(s){s?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(s){const v=this._tooltip.nativeElement,W=this._showAnimation,K=this._hideAnimation;if(v.classList.remove(s?K:W),v.classList.add(s?W:K),this._isVisible!==s&&(this._isVisible=s,this._changeDetectorRef.markForCheck()),s&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const ee=getComputedStyle(v);("0s"===ee.getPropertyValue("animation-duration")||"none"===ee.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}s&&this._onShow(),this._animationsDisabled&&(v.classList.add("_mat-animation-noopable"),this._finalizeAnimation(s))}static#e=this.\u0275fac=function(v){return new(v||N)(H.rXU(H.gRc),H.rXU(H.aKT),H.rXU(H.bc$,8))};static#t=this.\u0275cmp=H.VBU({type:N,selectors:[["mat-tooltip-component"]],viewQuery:function(v,W){if(1&v&&H.GBs(re,7),2&v){let K;H.mGM(K=H.lsd())&&(W._tooltip=K.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(v,W){1&v&&H.bIt("mouseleave",function(ee){return W._handleMouseLeave(ee)}),2&v&&H.xc7("zoom",W.isVisible()?1:null)},standalone:!0,features:[H.aNF],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(v,W){if(1&v){const K=H.RV6();H.j41(0,"div",1,0),H.bIt("animationend",function(ce){return H.eBV(K),H.Njj(W._handleAnimationEnd(ce))}),H.j41(2,"div",2),H.EFF(3),H.k0s()()}2&v&&(H.AVh("mdc-tooltip--multiline",W._isMultiline),H.Y8G("ngClass",W.tooltipClass),H.R7$(3),H.JRh(W.message))},dependencies:[x.YU],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color);color:var(--mdc-plain-tooltip-supporting-text-color);border-radius:var(--mdc-plain-tooltip-container-shape);font-family:var(--mdc-plain-tooltip-supporting-text-font);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return N})(),T=(()=>{class N{static#e=this.\u0275fac=function(v){return new(v||N)};static#t=this.\u0275mod=H.$C({type:N});static#n=this.\u0275inj=H.G2t({providers:[ae],imports:[A.Pd,x.MD,F.z_,G.yE,G.yE,L.Gj]})}return N})()},345:(Fe,z,_)=>{"use strict";_.d(z,{B7:()=>xe,B8:()=>K,hE:()=>ue,up:()=>Ae});var p=_(60177),E=_(93953);class k extends p.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class H extends k{static makeCurrent(){(0,p.ZD)(new H)}onAndCancel(Et,ht,zt){return Et.addEventListener(ht,zt),()=>{Et.removeEventListener(ht,zt)}}dispatchEvent(Et,ht){Et.dispatchEvent(ht)}remove(Et){Et.parentNode&&Et.parentNode.removeChild(Et)}createElement(Et,ht){return(ht=ht||this.getDefaultDocument()).createElement(Et)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Et){return Et.nodeType===Node.ELEMENT_NODE}isShadowRoot(Et){return Et instanceof DocumentFragment}getGlobalEventTarget(Et,ht){return"window"===ht?window:"document"===ht?Et:"body"===ht?Et.body:null}getBaseHref(Et){const ht=function R(){return x=x||document.querySelector("base"),x?x.getAttribute("href"):null}();return null==ht?null:function A(qt){return new URL(qt,document.baseURI).pathname}(ht)}resetBaseElement(){x=null}getUserAgent(){return window.navigator.userAgent}getCookie(Et){return(0,p._b)(document.cookie,Et)}}let x=null,F=(()=>{class qt{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(zt){return new(zt||qt)};static#t=this.\u0275prov=E.jDH({token:qt,factory:qt.\u0275fac})}return qt})();const L=new E.nKC("");let I=(()=>{class qt{constructor(ht,zt){this._zone=zt,this._eventNameToPlugin=new Map,ht.forEach(Jt=>{Jt.manager=this}),this._plugins=ht.slice().reverse()}addEventListener(ht,zt,Jt){return this._findPluginFor(zt).addEventListener(ht,zt,Jt)}getZone(){return this._zone}_findPluginFor(ht){let zt=this._eventNameToPlugin.get(ht);if(zt)return zt;if(zt=this._plugins.find(dn=>dn.supports(ht)),!zt)throw new E.wOt(5101,!1);return this._eventNameToPlugin.set(ht,zt),zt}static#e=this.\u0275fac=function(zt){return new(zt||qt)(E.KVO(L),E.KVO(E.SKi))};static#t=this.\u0275prov=E.jDH({token:qt,factory:qt.\u0275fac})}return qt})();class Z{constructor(Et){this._doc=Et}}const j="ng-app-id";let G=(()=>{class qt{constructor(ht,zt,Jt,dn={}){this.doc=ht,this.appId=zt,this.nonce=Jt,this.platformId=dn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,p.Vy)(dn),this.resetHostNodes()}addStyles(ht){for(const zt of ht)1===this.changeUsageCount(zt,1)&&this.onStyleAdded(zt)}removeStyles(ht){for(const zt of ht)this.changeUsageCount(zt,-1)<=0&&this.onStyleRemoved(zt)}ngOnDestroy(){const ht=this.styleNodesInDOM;ht&&(ht.forEach(zt=>zt.remove()),ht.clear());for(const zt of this.getAllStyles())this.onStyleRemoved(zt);this.resetHostNodes()}addHost(ht){this.hostNodes.add(ht);for(const zt of this.getAllStyles())this.addStyleToHost(ht,zt)}removeHost(ht){this.hostNodes.delete(ht)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ht){for(const zt of this.hostNodes)this.addStyleToHost(zt,ht)}onStyleRemoved(ht){const zt=this.styleRef;zt.get(ht)?.elements?.forEach(Jt=>Jt.remove()),zt.delete(ht)}collectServerRenderedStyles(){const ht=this.doc.head?.querySelectorAll(`style[${j}="${this.appId}"]`);if(ht?.length){const zt=new Map;return ht.forEach(Jt=>{null!=Jt.textContent&&zt.set(Jt.textContent,Jt)}),zt}return null}changeUsageCount(ht,zt){const Jt=this.styleRef;if(Jt.has(ht)){const dn=Jt.get(ht);return dn.usage+=zt,dn.usage}return Jt.set(ht,{usage:zt,elements:[]}),zt}getStyleElement(ht,zt){const Jt=this.styleNodesInDOM,dn=Jt?.get(zt);if(dn?.parentNode===ht)return Jt.delete(zt),dn.removeAttribute(j),dn;{const hr=this.doc.createElement("style");return this.nonce&&hr.setAttribute("nonce",this.nonce),hr.textContent=zt,this.platformIsServer&&hr.setAttribute(j,this.appId),ht.appendChild(hr),hr}}addStyleToHost(ht,zt){const Jt=this.getStyleElement(ht,zt),dn=this.styleRef,hr=dn.get(zt)?.elements;hr?hr.push(Jt):dn.set(zt,{elements:[Jt],usage:1})}resetHostNodes(){const ht=this.hostNodes;ht.clear(),ht.add(this.doc.head)}static#e=this.\u0275fac=function(zt){return new(zt||qt)(E.KVO(p.qQ),E.KVO(E.sZ2),E.KVO(E.BIS,8),E.KVO(E.Agw))};static#t=this.\u0275prov=E.jDH({token:qt,factory:qt.\u0275fac})}return qt})();const re={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},te=/%COMP%/g,J="%COMP%",Y=`_nghost-${J}`,oe=`_ngcontent-${J}`,se=new E.nKC("",{providedIn:"root",factory:()=>!0});function we(qt,Et){return Et.map(ht=>ht.replace(te,qt))}let xe=(()=>{class qt{constructor(ht,zt,Jt,dn,hr,vt,xt,St=null){this.eventManager=ht,this.sharedStylesHost=zt,this.appId=Jt,this.removeStylesOnCompDestroy=dn,this.doc=hr,this.platformId=vt,this.ngZone=xt,this.nonce=St,this.rendererByCompId=new Map,this.platformIsServer=(0,p.Vy)(vt),this.defaultRenderer=new Ce(ht,hr,xt,this.platformIsServer)}createRenderer(ht,zt){if(!ht||!zt)return this.defaultRenderer;this.platformIsServer&&zt.encapsulation===E.gXe.ShadowDom&&(zt={...zt,encapsulation:E.gXe.Emulated});const Jt=this.getOrCreateRenderer(ht,zt);return Jt instanceof S?Jt.applyToHost(ht):Jt instanceof g&&Jt.applyStyles(),Jt}getOrCreateRenderer(ht,zt){const Jt=this.rendererByCompId;let dn=Jt.get(zt.id);if(!dn){const hr=this.doc,vt=this.ngZone,xt=this.eventManager,St=this.sharedStylesHost,Xe=this.removeStylesOnCompDestroy,nt=this.platformIsServer;switch(zt.encapsulation){case E.gXe.Emulated:dn=new S(xt,St,zt,this.appId,Xe,hr,vt,nt);break;case E.gXe.ShadowDom:return new y(xt,St,ht,zt,hr,vt,this.nonce,nt);default:dn=new g(xt,St,zt,Xe,hr,vt,nt)}Jt.set(zt.id,dn)}return dn}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(zt){return new(zt||qt)(E.KVO(I),E.KVO(G),E.KVO(E.sZ2),E.KVO(se),E.KVO(p.qQ),E.KVO(E.Agw),E.KVO(E.SKi),E.KVO(E.BIS))};static#t=this.\u0275prov=E.jDH({token:qt,factory:qt.\u0275fac})}return qt})();class Ce{constructor(Et,ht,zt,Jt){this.eventManager=Et,this.doc=ht,this.ngZone=zt,this.platformIsServer=Jt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Et,ht){return ht?this.doc.createElementNS(re[ht]||ht,Et):this.doc.createElement(Et)}createComment(Et){return this.doc.createComment(Et)}createText(Et){return this.doc.createTextNode(Et)}appendChild(Et,ht){(u(Et)?Et.content:Et).appendChild(ht)}insertBefore(Et,ht,zt){Et&&(u(Et)?Et.content:Et).insertBefore(ht,zt)}removeChild(Et,ht){Et&&Et.removeChild(ht)}selectRootElement(Et,ht){let zt="string"==typeof Et?this.doc.querySelector(Et):Et;if(!zt)throw new E.wOt(-5104,!1);return ht||(zt.textContent=""),zt}parentNode(Et){return Et.parentNode}nextSibling(Et){return Et.nextSibling}setAttribute(Et,ht,zt,Jt){if(Jt){ht=Jt+":"+ht;const dn=re[Jt];dn?Et.setAttributeNS(dn,ht,zt):Et.setAttribute(ht,zt)}else Et.setAttribute(ht,zt)}removeAttribute(Et,ht,zt){if(zt){const Jt=re[zt];Jt?Et.removeAttributeNS(Jt,ht):Et.removeAttribute(`${zt}:${ht}`)}else Et.removeAttribute(ht)}addClass(Et,ht){Et.classList.add(ht)}removeClass(Et,ht){Et.classList.remove(ht)}setStyle(Et,ht,zt,Jt){Jt&(E.czy.DashCase|E.czy.Important)?Et.style.setProperty(ht,zt,Jt&E.czy.Important?"important":""):Et.style[ht]=zt}removeStyle(Et,ht,zt){zt&E.czy.DashCase?Et.style.removeProperty(ht):Et.style[ht]=""}setProperty(Et,ht,zt){null!=Et&&(Et[ht]=zt)}setValue(Et,ht){Et.nodeValue=ht}listen(Et,ht,zt){if("string"==typeof Et&&!(Et=(0,p.QT)().getGlobalEventTarget(this.doc,Et)))throw new Error(`Unsupported event target ${Et} for event ${ht}`);return this.eventManager.addEventListener(Et,ht,this.decoratePreventDefault(zt))}decoratePreventDefault(Et){return ht=>{if("__ngUnwrap__"===ht)return Et;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Et(ht)):Et(ht))&&ht.preventDefault()}}}function u(qt){return"TEMPLATE"===qt.tagName&&void 0!==qt.content}class y extends Ce{constructor(Et,ht,zt,Jt,dn,hr,vt,xt){super(Et,dn,hr,xt),this.sharedStylesHost=ht,this.hostEl=zt,this.shadowRoot=zt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const St=we(Jt.id,Jt.styles);for(const Xe of St){const nt=document.createElement("style");vt&&nt.setAttribute("nonce",vt),nt.textContent=Xe,this.shadowRoot.appendChild(nt)}}nodeOrShadowRoot(Et){return Et===this.hostEl?this.shadowRoot:Et}appendChild(Et,ht){return super.appendChild(this.nodeOrShadowRoot(Et),ht)}insertBefore(Et,ht,zt){return super.insertBefore(this.nodeOrShadowRoot(Et),ht,zt)}removeChild(Et,ht){return super.removeChild(this.nodeOrShadowRoot(Et),ht)}parentNode(Et){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Et)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class g extends Ce{constructor(Et,ht,zt,Jt,dn,hr,vt,xt){super(Et,dn,hr,vt),this.sharedStylesHost=ht,this.removeStylesOnCompDestroy=Jt,this.styles=xt?we(xt,zt.styles):zt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class S extends g{constructor(Et,ht,zt,Jt,dn,hr,vt,xt){const St=Jt+"-"+zt.id;super(Et,ht,zt,dn,hr,vt,xt,St),this.contentAttr=function de(qt){return oe.replace(te,qt)}(St),this.hostAttr=function le(qt){return Y.replace(te,qt)}(St)}applyToHost(Et){this.applyStyles(),this.setAttribute(Et,this.hostAttr,"")}createElement(Et,ht){const zt=super.createElement(Et,ht);return super.setAttribute(zt,this.contentAttr,""),zt}}let T=(()=>{class qt extends Z{constructor(ht){super(ht)}supports(ht){return!0}addEventListener(ht,zt,Jt){return ht.addEventListener(zt,Jt,!1),()=>this.removeEventListener(ht,zt,Jt)}removeEventListener(ht,zt,Jt){return ht.removeEventListener(zt,Jt)}static#e=this.\u0275fac=function(zt){return new(zt||qt)(E.KVO(p.qQ))};static#t=this.\u0275prov=E.jDH({token:qt,factory:qt.\u0275fac})}return qt})(),N=(()=>{class qt extends Z{constructor(ht){super(ht),this.delegate=(0,E.WQX)(E.zAP,{optional:!0})}supports(ht){return!!this.delegate&&this.delegate.supports(ht)}addEventListener(ht,zt,Jt){return this.delegate.addEventListener(ht,zt,Jt)}removeEventListener(ht,zt,Jt){return this.delegate.removeEventListener(ht,zt,Jt)}static#e=this.\u0275fac=function(zt){return new(zt||qt)(E.KVO(p.qQ))};static#t=this.\u0275prov=E.jDH({token:qt,factory:qt.\u0275fac})}return qt})();const M=["alt","control","meta","shift"],s={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},v={alt:qt=>qt.altKey,control:qt=>qt.ctrlKey,meta:qt=>qt.metaKey,shift:qt=>qt.shiftKey};let W=(()=>{class qt extends Z{constructor(ht){super(ht)}supports(ht){return null!=qt.parseEventName(ht)}addEventListener(ht,zt,Jt){const dn=qt.parseEventName(zt),hr=qt.eventCallback(dn.fullKey,Jt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.QT)().onAndCancel(ht,dn.domEventName,hr))}static parseEventName(ht){const zt=ht.toLowerCase().split("."),Jt=zt.shift();if(0===zt.length||"keydown"!==Jt&&"keyup"!==Jt)return null;const dn=qt._normalizeKey(zt.pop());let hr="",vt=zt.indexOf("code");if(vt>-1&&(zt.splice(vt,1),hr="code."),M.forEach(St=>{const Xe=zt.indexOf(St);Xe>-1&&(zt.splice(Xe,1),hr+=St+".")}),hr+=dn,0!=zt.length||0===dn.length)return null;const xt={};return xt.domEventName=Jt,xt.fullKey=hr,xt}static matchEventFullKeyCode(ht,zt){let Jt=s[ht.key]||ht.key,dn="";return zt.indexOf("code.")>-1&&(Jt=ht.code,dn="code."),!(null==Jt||!Jt)&&(Jt=Jt.toLowerCase()," "===Jt?Jt="space":"."===Jt&&(Jt="dot"),M.forEach(hr=>{hr!==Jt&&(0,v[hr])(ht)&&(dn+=hr+".")}),dn+=Jt,dn===zt)}static eventCallback(ht,zt,Jt){return dn=>{qt.matchEventFullKeyCode(dn,ht)&&Jt.runGuarded(()=>zt(dn))}}static _normalizeKey(ht){return"esc"===ht?"escape":ht}static#e=this.\u0275fac=function(zt){return new(zt||qt)(E.KVO(p.qQ))};static#t=this.\u0275prov=E.jDH({token:qt,factory:qt.\u0275fac})}return qt})();function K(qt,Et){return(0,E.TL3)({rootComponent:qt,...ce(Et)})}function ce(qt){return{appProviders:[...pe,...qt?.providers??[]],platformProviders:be}}const be=[{provide:E.Agw,useValue:p.AJ},{provide:E.PLl,useValue:function Pe(){H.makeCurrent()},multi:!0},{provide:p.qQ,useFactory:function Se(){return(0,E.TL$)(document),document},deps:[]}],pe=[{provide:E.H8p,useValue:"root"},{provide:E.zcH,useFactory:function $e(){return new E.zcH},deps:[]},{provide:L,useClass:T,multi:!0,deps:[p.qQ,E.SKi,E.Agw]},{provide:L,useClass:W,multi:!0,deps:[p.qQ]},{provide:L,useClass:N,multi:!0},xe,G,I,{provide:E._9s,useExisting:xe},{provide:p.N0,useClass:F,deps:[]},[]];let ue=(()=>{class qt{constructor(ht){this._doc=ht}getTitle(){return this._doc.title}setTitle(ht){this._doc.title=ht||""}static#e=this.\u0275fac=function(zt){return new(zt||qt)(E.KVO(p.qQ))};static#t=this.\u0275prov=E.jDH({token:qt,factory:qt.\u0275fac,providedIn:"root"})}return qt})(),Ae=(()=>{class qt{static#e=this.\u0275fac=function(zt){return new(zt||qt)};static#t=this.\u0275prov=E.jDH({token:qt,factory:function(zt){let Jt=null;return Jt=zt?new(zt||qt):E.KVO(Qe),Jt},providedIn:"root"})}return qt})(),Qe=(()=>{class qt extends Ae{constructor(ht){super(),this._doc=ht}sanitize(ht,zt){if(null==zt)return null;switch(ht){case E.WPN.NONE:return zt;case E.WPN.HTML:return(0,E.ZF7)(zt,"HTML")?(0,E.rcV)(zt):(0,E.h9k)(this._doc,String(zt)).toString();case E.WPN.STYLE:return(0,E.ZF7)(zt,"Style")?(0,E.rcV)(zt):zt;case E.WPN.SCRIPT:if((0,E.ZF7)(zt,"Script"))return(0,E.rcV)(zt);throw new E.wOt(5200,!1);case E.WPN.URL:return(0,E.ZF7)(zt,"URL")?(0,E.rcV)(zt):(0,E.$MX)(String(zt));case E.WPN.RESOURCE_URL:if((0,E.ZF7)(zt,"ResourceURL"))return(0,E.rcV)(zt);throw new E.wOt(5201,!1);default:throw new E.wOt(5202,!1)}}bypassSecurityTrustHtml(ht){return(0,E.Kcf)(ht)}bypassSecurityTrustStyle(ht){return(0,E.cWb)(ht)}bypassSecurityTrustScript(ht){return(0,E.UyX)(ht)}bypassSecurityTrustUrl(ht){return(0,E.osQ)(ht)}bypassSecurityTrustResourceUrl(ht){return(0,E.e5t)(ht)}static#e=this.\u0275fac=function(zt){return new(zt||qt)(E.KVO(p.qQ))};static#t=this.\u0275prov=E.jDH({token:qt,factory:qt.\u0275fac,providedIn:"root"})}return qt})()},18498:(Fe,z,_)=>{"use strict";_.d(z,{nX:()=>uo,wF:()=>xr,Z:()=>Sr,Kp:()=>Ru,Ix:()=>Ms,Wk:()=>$a,wQ:()=>Oc,iI:()=>nn,n3:()=>mn,lh:()=>mt,Sn:()=>me});var p=_(93953),E=_(74402),k=_(86648),H=_(7673),x=_(84412),R=_(84572);const O=(0,_(81853).L)(He=>function(){He(this),this.name="EmptyError",this.message="no elements in sequence"});var F=_(28793),L=_(59030),I=_(71203),Z=_(18810),j=_(983),G=_(30017),re=_(21413),te=_(18359),J=_(60177),Y=_(96354),oe=_(25558),ae=_(96697),se=_(99172),de=_(5964),le=_(31397),we=_(39974),xe=_(54360);function Ce(He){return(0,we.N)((ut,qe)=>{let yt=!1;ut.subscribe((0,xe._)(qe,Rt=>{yt=!0,qe.next(Rt)},()=>{yt||qe.next(He),qe.complete()}))})}function C(He=a){return(0,we.N)((ut,qe)=>{let yt=!1;ut.subscribe((0,xe._)(qe,Rt=>{yt=!0,qe.next(Rt)},()=>yt?qe.complete():qe.error(He())))})}function a(){return new O}var u=_(33669);function y(He,ut){const qe=arguments.length>=2;return yt=>yt.pipe(He?(0,de.p)((Rt,rn)=>He(Rt,rn,yt)):u.D,(0,ae.s)(1),qe?Ce(ut):C(()=>new O))}var g=_(70274),S=_(88141),T=_(99437);function s(He){return He<=0?()=>j.w:(0,we.N)((ut,qe)=>{let yt=[];ut.subscribe((0,xe._)(qe,Rt=>{yt.push(Rt),He<yt.length&&yt.shift()},()=>{for(const Rt of yt)qe.next(Rt);qe.complete()},void 0,()=>{yt=null}))})}var W=_(73703),K=_(70980),ee=_(99898),ce=_(56977),_e=_(26365),Pe=_(345);const $e="primary",Se=Symbol("RouteTitle");class be{constructor(ut){this.params=ut||{}}has(ut){return Object.prototype.hasOwnProperty.call(this.params,ut)}get(ut){if(this.has(ut)){const qe=this.params[ut];return Array.isArray(qe)?qe[0]:qe}return null}getAll(ut){if(this.has(ut)){const qe=this.params[ut];return Array.isArray(qe)?qe:[qe]}return[]}get keys(){return Object.keys(this.params)}}function Ne(He){return new be(He)}function ye(He,ut,qe){const yt=qe.path.split("/");if(yt.length>He.length||"full"===qe.pathMatch&&(ut.hasChildren()||yt.length<He.length))return null;const Rt={};for(let rn=0;rn<yt.length;rn++){const An=yt[rn],ar=He[rn];if(":"===An[0])Rt[An.substring(1)]=ar;else if(An!==ar.path)return null}return{consumed:He.slice(0,yt.length),posParams:Rt}}function pe(He,ut){const qe=He?fe(He):void 0,yt=ut?fe(ut):void 0;if(!qe||!yt||qe.length!=yt.length)return!1;let Rt;for(let rn=0;rn<qe.length;rn++)if(Rt=qe[rn],!Q(He[Rt],ut[Rt]))return!1;return!0}function fe(He){return[...Object.keys(He),...Object.getOwnPropertySymbols(He)]}function Q(He,ut){if(Array.isArray(He)&&Array.isArray(ut)){if(He.length!==ut.length)return!1;const qe=[...He].sort(),yt=[...ut].sort();return qe.every((Rt,rn)=>yt[rn]===Rt)}return He===ut}function ie(He){return He.length>0?He[He.length-1]:null}function ue(He){return(0,E.A)(He)?He:(0,p.jNT)(He)?(0,k.H)(Promise.resolve(He)):(0,H.of)(He)}const Ee={exact:function _t(He,ut,qe){if(!ge(He.segments,ut.segments)||!B(He.segments,ut.segments,qe)||He.numberOfChildren!==ut.numberOfChildren)return!1;for(const yt in ut.children)if(!He.children[yt]||!_t(He.children[yt],ut.children[yt],qe))return!1;return!0},subset:Be},ke={exact:function Le(He,ut){return pe(He,ut)},subset:function Ve(He,ut){return Object.keys(ut).length<=Object.keys(He).length&&Object.keys(ut).every(qe=>Q(He[qe],ut[qe]))},ignored:()=>!0};function Ue(He,ut,qe){return Ee[qe.paths](He.root,ut.root,qe.matrixParams)&&ke[qe.queryParams](He.queryParams,ut.queryParams)&&!("exact"===qe.fragment&&He.fragment!==ut.fragment)}function Be(He,ut,qe){return lt(He,ut,ut.segments,qe)}function lt(He,ut,qe,yt){if(He.segments.length>qe.length){const Rt=He.segments.slice(0,qe.length);return!(!ge(Rt,qe)||ut.hasChildren()||!B(Rt,qe,yt))}if(He.segments.length===qe.length){if(!ge(He.segments,qe)||!B(He.segments,qe,yt))return!1;for(const Rt in ut.children)if(!He.children[Rt]||!Be(He.children[Rt],ut.children[Rt],yt))return!1;return!0}{const Rt=qe.slice(0,He.segments.length),rn=qe.slice(He.segments.length);return!!(ge(He.segments,Rt)&&B(He.segments,Rt,yt)&&He.children[$e])&&lt(He.children[$e],ut,rn,yt)}}function B(He,ut,qe){return ut.every((yt,Rt)=>ke[qe](He[Rt].parameters,yt.parameters))}class w{constructor(ut=new m([],{}),qe={},yt=null){this.root=ut,this.queryParams=qe,this.fragment=yt}get queryParamMap(){return this._queryParamMap??=Ne(this.queryParams),this._queryParamMap}toString(){return gt.serialize(this)}}class m{constructor(ut,qe){this.segments=ut,this.children=qe,this.parent=null,Object.values(qe).forEach(yt=>yt.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return It(this)}}class U{constructor(ut,qe){this.path=ut,this.parameters=qe}get parameterMap(){return this._parameterMap??=Ne(this.parameters),this._parameterMap}toString(){return Et(this)}}function ge(He,ut){return He.length===ut.length&&He.every((qe,yt)=>qe.path===ut[yt].path)}let Qe=(()=>{class He{static#e=this.\u0275fac=function(yt){return new(yt||He)};static#t=this.\u0275prov=p.jDH({token:He,factory:()=>new Bt,providedIn:"root"})}return He})();class Bt{parse(ut){const qe=new Vt(ut);return new w(qe.parseRootSegment(),qe.parseQueryParams(),qe.parseFragment())}serialize(ut){const qe=`/${Gt(ut.root,!0)}`,yt=function zt(He){const ut=Object.entries(He).map(([qe,yt])=>Array.isArray(yt)?yt.map(Rt=>`${an(qe)}=${an(Rt)}`).join("&"):`${an(qe)}=${an(yt)}`).filter(qe=>qe);return ut.length?`?${ut.join("&")}`:""}(ut.queryParams);return`${qe}${yt}${"string"==typeof ut.fragment?`#${function sr(He){return encodeURI(He)}(ut.fragment)}`:""}`}}const gt=new Bt;function It(He){return He.segments.map(ut=>Et(ut)).join("/")}function Gt(He,ut){if(!He.hasChildren())return It(He);if(ut){const qe=He.children[$e]?Gt(He.children[$e],!1):"",yt=[];return Object.entries(He.children).forEach(([Rt,rn])=>{Rt!==$e&&yt.push(`${Rt}:${Gt(rn,!1)}`)}),yt.length>0?`${qe}(${yt.join("//")})`:qe}{const qe=function Ae(He,ut){let qe=[];return Object.entries(He.children).forEach(([yt,Rt])=>{yt===$e&&(qe=qe.concat(ut(Rt,yt)))}),Object.entries(He.children).forEach(([yt,Rt])=>{yt!==$e&&(qe=qe.concat(ut(Rt,yt)))}),qe}(He,(yt,Rt)=>Rt===$e?[Gt(He.children[$e],!1)]:[`${Rt}:${Gt(yt,!1)}`]);return 1===Object.keys(He.children).length&&null!=He.children[$e]?`${It(He)}/${qe[0]}`:`${It(He)}/(${qe.join("//")})`}}function un(He){return encodeURIComponent(He).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function an(He){return un(He).replace(/%3B/gi,";")}function Mn(He){return un(He).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qt(He){return decodeURIComponent(He)}function qt(He){return Qt(He.replace(/\+/g,"%20"))}function Et(He){return`${Mn(He.path)}${function ht(He){return Object.entries(He).map(([ut,qe])=>`;${Mn(ut)}=${Mn(qe)}`).join("")}(He.parameters)}`}const Jt=/^[^\/()?;#]+/;function dn(He){const ut=He.match(Jt);return ut?ut[0]:""}const hr=/^[^\/()?;=#]+/,xt=/^[^=?&#]+/,Xe=/^[^&#]+/;class Vt{constructor(ut){this.url=ut,this.remaining=ut}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new m([],{}):new m([],this.parseChildren())}parseQueryParams(){const ut={};if(this.consumeOptional("?"))do{this.parseQueryParam(ut)}while(this.consumeOptional("&"));return ut}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const ut=[];for(this.peekStartsWith("(")||ut.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),ut.push(this.parseSegment());let qe={};this.peekStartsWith("/(")&&(this.capture("/"),qe=this.parseParens(!0));let yt={};return this.peekStartsWith("(")&&(yt=this.parseParens(!1)),(ut.length>0||Object.keys(qe).length>0)&&(yt[$e]=new m(ut,qe)),yt}parseSegment(){const ut=dn(this.remaining);if(""===ut&&this.peekStartsWith(";"))throw new p.wOt(4009,!1);return this.capture(ut),new U(Qt(ut),this.parseMatrixParams())}parseMatrixParams(){const ut={};for(;this.consumeOptional(";");)this.parseParam(ut);return ut}parseParam(ut){const qe=function vt(He){const ut=He.match(hr);return ut?ut[0]:""}(this.remaining);if(!qe)return;this.capture(qe);let yt="";if(this.consumeOptional("=")){const Rt=dn(this.remaining);Rt&&(yt=Rt,this.capture(yt))}ut[Qt(qe)]=Qt(yt)}parseQueryParam(ut){const qe=function St(He){const ut=He.match(xt);return ut?ut[0]:""}(this.remaining);if(!qe)return;this.capture(qe);let yt="";if(this.consumeOptional("=")){const An=function nt(He){const ut=He.match(Xe);return ut?ut[0]:""}(this.remaining);An&&(yt=An,this.capture(yt))}const Rt=qt(qe),rn=qt(yt);if(ut.hasOwnProperty(Rt)){let An=ut[Rt];Array.isArray(An)||(An=[An],ut[Rt]=An),An.push(rn)}else ut[Rt]=rn}parseParens(ut){const qe={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const yt=dn(this.remaining),Rt=this.remaining[yt.length];if("/"!==Rt&&")"!==Rt&&";"!==Rt)throw new p.wOt(4010,!1);let rn;yt.indexOf(":")>-1?(rn=yt.slice(0,yt.indexOf(":")),this.capture(rn),this.capture(":")):ut&&(rn=$e);const An=this.parseChildren();qe[rn]=1===Object.keys(An).length?An[$e]:new m([],An),this.consumeOptional("//")}return qe}peekStartsWith(ut){return this.remaining.startsWith(ut)}consumeOptional(ut){return!!this.peekStartsWith(ut)&&(this.remaining=this.remaining.substring(ut.length),!0)}capture(ut){if(!this.consumeOptional(ut))throw new p.wOt(4011,!1)}}function Ot(He){return He.segments.length>0?new m([],{[$e]:He}):He}function sn(He){const ut={};for(const[yt,Rt]of Object.entries(He.children)){const rn=sn(Rt);if(yt===$e&&0===rn.segments.length&&rn.hasChildren())for(const[An,ar]of Object.entries(rn.children))ut[An]=ar;else(rn.segments.length>0||rn.hasChildren())&&(ut[yt]=rn)}return function Hn(He){if(1===He.numberOfChildren&&He.children[$e]){const ut=He.children[$e];return new m(He.segments.concat(ut.segments),ut.children)}return He}(new m(He.segments,ut))}function bn(He){return He instanceof w}function Ar(He){let ut;const Rt=Ot(function qe(rn){const An={};for(const Gn of rn.children){const zr=qe(Gn);An[Gn.outlet]=zr}const ar=new m(rn.url,An);return rn===He&&(ut=ar),ar}(He.root));return ut??Rt}function Jn(He,ut,qe,yt){let Rt=He;for(;Rt.parent;)Rt=Rt.parent;if(0===ut.length)return st(Rt,Rt,Rt,qe,yt);const rn=function Yt(He){if("string"==typeof He[0]&&1===He.length&&"/"===He[0])return new ct(!0,0,He);let ut=0,qe=!1;const yt=He.reduce((Rt,rn,An)=>{if("object"==typeof rn&&null!=rn){if(rn.outlets){const ar={};return Object.entries(rn.outlets).forEach(([Gn,zr])=>{ar[Gn]="string"==typeof zr?zr.split("/"):zr}),[...Rt,{outlets:ar}]}if(rn.segmentPath)return[...Rt,rn.segmentPath]}return"string"!=typeof rn?[...Rt,rn]:0===An?(rn.split("/").forEach((ar,Gn)=>{0==Gn&&"."===ar||(0==Gn&&""===ar?qe=!0:".."===ar?ut++:""!=ar&&Rt.push(ar))}),Rt):[...Rt,rn]},[]);return new ct(qe,ut,yt)}(ut);if(rn.toRoot())return st(Rt,Rt,new m([],{}),qe,yt);const An=function Wn(He,ut,qe){if(He.isAbsolute)return new _n(ut,!0,0);if(!qe)return new _n(ut,!1,NaN);if(null===qe.parent)return new _n(qe,!0,0);const yt=Ln(He.commands[0])?0:1;return function Yn(He,ut,qe){let yt=He,Rt=ut,rn=qe;for(;rn>Rt;){if(rn-=Rt,yt=yt.parent,!yt)throw new p.wOt(4005,!1);Rt=yt.segments.length}return new _n(yt,!1,Rt-rn)}(qe,qe.segments.length-1+yt,He.numberOfDoubleDots)}(rn,Rt,He),ar=An.processChildren?Ur(An.segmentGroup,An.index,rn.commands):Nr(An.segmentGroup,An.index,rn.commands);return st(Rt,An.segmentGroup,ar,qe,yt)}function Ln(He){return"object"==typeof He&&null!=He&&!He.outlets&&!He.segmentPath}function $n(He){return"object"==typeof He&&null!=He&&He.outlets}function st(He,ut,qe,yt,Rt){let An,rn={};yt&&Object.entries(yt).forEach(([Gn,zr])=>{rn[Gn]=Array.isArray(zr)?zr.map(Fi=>`${Fi}`):`${zr}`}),An=He===ut?qe:Ge(He,ut,qe);const ar=Ot(sn(An));return new w(ar,rn,Rt)}function Ge(He,ut,qe){const yt={};return Object.entries(He.children).forEach(([Rt,rn])=>{yt[Rt]=rn===ut?qe:Ge(rn,ut,qe)}),new m(He.segments,yt)}class ct{constructor(ut,qe,yt){if(this.isAbsolute=ut,this.numberOfDoubleDots=qe,this.commands=yt,ut&&yt.length>0&&Ln(yt[0]))throw new p.wOt(4003,!1);const Rt=yt.find($n);if(Rt&&Rt!==ie(yt))throw new p.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _n{constructor(ut,qe,yt){this.segmentGroup=ut,this.processChildren=qe,this.index=yt}}function Nr(He,ut,qe){if(He??=new m([],{}),0===He.segments.length&&He.hasChildren())return Ur(He,ut,qe);const yt=function Kr(He,ut,qe){let yt=0,Rt=ut;const rn={match:!1,pathIndex:0,commandIndex:0};for(;Rt<He.segments.length;){if(yt>=qe.length)return rn;const An=He.segments[Rt],ar=qe[yt];if($n(ar))break;const Gn=`${ar}`,zr=yt<qe.length-1?qe[yt+1]:null;if(Rt>0&&void 0===Gn)break;if(Gn&&zr&&"object"==typeof zr&&void 0===zr.outlets){if(!wn(Gn,zr,An))return rn;yt+=2}else{if(!wn(Gn,{},An))return rn;yt++}Rt++}return{match:!0,pathIndex:Rt,commandIndex:yt}}(He,ut,qe),Rt=qe.slice(yt.commandIndex);if(yt.match&&yt.pathIndex<He.segments.length){const rn=new m(He.segments.slice(0,yt.pathIndex),{});return rn.children[$e]=new m(He.segments.slice(yt.pathIndex),He.children),Ur(rn,0,Rt)}return yt.match&&0===Rt.length?new m(He.segments,{}):yt.match&&!He.hasChildren()?Xr(He,ut,qe):yt.match?Ur(He,0,Rt):Xr(He,ut,qe)}function Ur(He,ut,qe){if(0===qe.length)return new m(He.segments,{});{const yt=function yr(He){return $n(He[0])?He[0].outlets:{[$e]:He}}(qe),Rt={};if(Object.keys(yt).some(rn=>rn!==$e)&&He.children[$e]&&1===He.numberOfChildren&&0===He.children[$e].segments.length){const rn=Ur(He.children[$e],ut,qe);return new m(He.segments,rn.children)}return Object.entries(yt).forEach(([rn,An])=>{"string"==typeof An&&(An=[An]),null!==An&&(Rt[rn]=Nr(He.children[rn],ut,An))}),Object.entries(He.children).forEach(([rn,An])=>{void 0===yt[rn]&&(Rt[rn]=An)}),new m(He.segments,Rt)}}function Xr(He,ut,qe){const yt=He.segments.slice(0,ut);let Rt=0;for(;Rt<qe.length;){const rn=qe[Rt];if($n(rn)){const Gn=ri(rn.outlets);return new m(yt,Gn)}if(0===Rt&&Ln(qe[0])){yt.push(new U(He.segments[ut].path,en(qe[0]))),Rt++;continue}const An=$n(rn)?rn.outlets[$e]:`${rn}`,ar=Rt<qe.length-1?qe[Rt+1]:null;An&&ar&&Ln(ar)?(yt.push(new U(An,en(ar))),Rt+=2):(yt.push(new U(An,{})),Rt++)}return new m(yt,{})}function ri(He){const ut={};return Object.entries(He).forEach(([qe,yt])=>{"string"==typeof yt&&(yt=[yt]),null!==yt&&(ut[qe]=Xr(new m([],{}),0,yt))}),ut}function en(He){const ut={};return Object.entries(He).forEach(([qe,yt])=>ut[qe]=`${yt}`),ut}function wn(He,ut,qe){return He==qe.path&&pe(ut,qe.parameters)}const Dn="imperative";var Fn=function(He){return He[He.NavigationStart=0]="NavigationStart",He[He.NavigationEnd=1]="NavigationEnd",He[He.NavigationCancel=2]="NavigationCancel",He[He.NavigationError=3]="NavigationError",He[He.RoutesRecognized=4]="RoutesRecognized",He[He.ResolveStart=5]="ResolveStart",He[He.ResolveEnd=6]="ResolveEnd",He[He.GuardsCheckStart=7]="GuardsCheckStart",He[He.GuardsCheckEnd=8]="GuardsCheckEnd",He[He.RouteConfigLoadStart=9]="RouteConfigLoadStart",He[He.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",He[He.ChildActivationStart=11]="ChildActivationStart",He[He.ChildActivationEnd=12]="ChildActivationEnd",He[He.ActivationStart=13]="ActivationStart",He[He.ActivationEnd=14]="ActivationEnd",He[He.Scroll=15]="Scroll",He[He.NavigationSkipped=16]="NavigationSkipped",He}(Fn||{});class fr{constructor(ut,qe){this.id=ut,this.url=qe}}class Sr extends fr{constructor(ut,qe,yt="imperative",Rt=null){super(ut,qe),this.type=Fn.NavigationStart,this.navigationTrigger=yt,this.restoredState=Rt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xr extends fr{constructor(ut,qe,yt){super(ut,qe),this.urlAfterRedirects=yt,this.type=Fn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Fr=function(He){return He[He.Redirect=0]="Redirect",He[He.SupersededByNewNavigation=1]="SupersededByNewNavigation",He[He.NoDataFromResolver=2]="NoDataFromResolver",He[He.GuardRejected=3]="GuardRejected",He}(Fr||{}),jr=function(He){return He[He.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",He[He.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",He}(jr||{});class ti extends fr{constructor(ut,qe,yt,Rt){super(ut,qe),this.reason=yt,this.code=Rt,this.type=Fn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xo extends fr{constructor(ut,qe,yt,Rt){super(ut,qe),this.reason=yt,this.code=Rt,this.type=Fn.NavigationSkipped}}class bi extends fr{constructor(ut,qe,yt,Rt){super(ut,qe),this.error=yt,this.target=Rt,this.type=Fn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ao extends fr{constructor(ut,qe,yt,Rt){super(ut,qe),this.urlAfterRedirects=yt,this.state=Rt,this.type=Fn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ko extends fr{constructor(ut,qe,yt,Rt){super(ut,qe),this.urlAfterRedirects=yt,this.state=Rt,this.type=Fn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jo extends fr{constructor(ut,qe,yt,Rt,rn){super(ut,qe),this.urlAfterRedirects=yt,this.state=Rt,this.shouldActivate=rn,this.type=Fn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ji extends fr{constructor(ut,qe,yt,Rt){super(ut,qe),this.urlAfterRedirects=yt,this.state=Rt,this.type=Fn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wi extends fr{constructor(ut,qe,yt,Rt){super(ut,qe),this.urlAfterRedirects=yt,this.state=Rt,this.type=Fn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ui{constructor(ut){this.route=ut,this.type=Fn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class La{constructor(ut){this.route=ut,this.type=Fn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Mi{constructor(ut){this.snapshot=ut,this.type=Fn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ls{constructor(ut){this.snapshot=ut,this.type=Fn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Js{constructor(ut){this.snapshot=ut,this.type=Fn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class So{constructor(ut){this.snapshot=ut,this.type=Fn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ki{constructor(ut,qe,yt){this.routerEvent=ut,this.position=qe,this.anchor=yt,this.type=Fn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ps{}class ua{constructor(ut,qe){this.url=ut,this.navigationBehaviorOptions=qe}}function _a(He){return He.outlet||$e}function qs(He){if(!He)return null;if(He.routeConfig?._injector)return He.routeConfig._injector;for(let ut=He.parent;ut;ut=ut.parent){const qe=ut.routeConfig;if(qe?._loadedInjector)return qe._loadedInjector;if(qe?._injector)return qe._injector}return null}class kl{get injector(){return qs(this.route?.snapshot)??this.rootInjector}set injector(ut){}constructor(ut){this.rootInjector=ut,this.outlet=null,this.route=null,this.children=new dl(this.rootInjector),this.attachRef=null}}let dl=(()=>{class He{constructor(qe){this.rootInjector=qe,this.contexts=new Map}onChildOutletCreated(qe,yt){const Rt=this.getOrCreateContext(qe);Rt.outlet=yt,this.contexts.set(qe,Rt)}onChildOutletDestroyed(qe){const yt=this.getContext(qe);yt&&(yt.outlet=null,yt.attachRef=null)}onOutletDeactivated(){const qe=this.contexts;return this.contexts=new Map,qe}onOutletReAttached(qe){this.contexts=qe}getOrCreateContext(qe){let yt=this.getContext(qe);return yt||(yt=new kl(this.rootInjector),this.contexts.set(qe,yt)),yt}getContext(qe){return this.contexts.get(qe)||null}static#e=this.\u0275fac=function(yt){return new(yt||He)(p.KVO(p.uvJ))};static#t=this.\u0275prov=p.jDH({token:He,factory:He.\u0275fac,providedIn:"root"})}return He})();class pc{constructor(ut){this._root=ut}get root(){return this._root.value}parent(ut){const qe=this.pathFromRoot(ut);return qe.length>1?qe[qe.length-2]:null}children(ut){const qe=Vs(ut,this._root);return qe?qe.children.map(yt=>yt.value):[]}firstChild(ut){const qe=Vs(ut,this._root);return qe&&qe.children.length>0?qe.children[0].value:null}siblings(ut){const qe=Dc(ut,this._root);return qe.length<2?[]:qe[qe.length-2].children.map(Rt=>Rt.value).filter(Rt=>Rt!==ut)}pathFromRoot(ut){return Dc(ut,this._root).map(qe=>qe.value)}}function Vs(He,ut){if(He===ut.value)return ut;for(const qe of ut.children){const yt=Vs(He,qe);if(yt)return yt}return null}function Dc(He,ut){if(He===ut.value)return[ut];for(const qe of ut.children){const yt=Dc(He,qe);if(yt.length)return yt.unshift(ut),yt}return[]}class Qs{constructor(ut,qe){this.value=ut,this.children=qe}toString(){return`TreeNode(${this.value})`}}function Ea(He){const ut={};return He&&He.children.forEach(qe=>ut[qe.value.outlet]=qe),ut}class ul extends pc{constructor(ut,qe){super(ut),this.snapshot=qe,ds(this,ut)}toString(){return this.snapshot.toString()}}function mc(He){const ut=function oo(He){const rn=new sd([],{},{},"",{},$e,He,null,{});return new Od("",new Qs(rn,[]))}(He),qe=new x.t([new U("",{})]),yt=new x.t({}),Rt=new x.t({}),rn=new x.t({}),An=new x.t(""),ar=new uo(qe,yt,rn,An,Rt,$e,He,ut.root);return ar.snapshot=ut.root,new ul(new Qs(ar,[]),ut)}class uo{constructor(ut,qe,yt,Rt,rn,An,ar,Gn){this.urlSubject=ut,this.paramsSubject=qe,this.queryParamsSubject=yt,this.fragmentSubject=Rt,this.dataSubject=rn,this.outlet=An,this.component=ar,this._futureSnapshot=Gn,this.title=this.dataSubject?.pipe((0,Y.T)(zr=>zr[Se]))??(0,H.of)(void 0),this.url=ut,this.params=qe,this.queryParams=yt,this.fragment=Rt,this.data=rn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Y.T)(ut=>Ne(ut))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Y.T)(ut=>Ne(ut))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vo(He,ut,qe="emptyOnly"){let yt;const{routeConfig:Rt}=He;return yt=null===ut||"always"!==qe&&""!==Rt?.path&&(ut.component||ut.routeConfig?.loadComponent)?{params:{...He.params},data:{...He.data},resolve:{...He.data,...He._resolvedData??{}}}:{params:{...ut.params,...He.params},data:{...ut.data,...He.data},resolve:{...He.data,...ut.data,...Rt?.data,...He._resolvedData}},Rt&&$t(Rt)&&(yt.resolve[Se]=Rt.title),yt}class sd{get title(){return this.data?.[Se]}constructor(ut,qe,yt,Rt,rn,An,ar,Gn,zr){this.url=ut,this.params=qe,this.queryParams=yt,this.fragment=Rt,this.data=rn,this.outlet=An,this.component=ar,this.routeConfig=Gn,this._resolve=zr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ne(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ne(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(yt=>yt.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Od extends pc{constructor(ut,qe){super(qe),this.url=ut,ds(this,qe)}toString(){return Cc(this._root)}}function ds(He,ut){ut.value._routerState=He,ut.children.forEach(qe=>ds(He,qe))}function Cc(He){const ut=He.children.length>0?` { ${He.children.map(Cc).join(", ")} } `:"";return`${He.value}${ut}`}function ln(He){if(He.snapshot){const ut=He.snapshot,qe=He._futureSnapshot;He.snapshot=qe,pe(ut.queryParams,qe.queryParams)||He.queryParamsSubject.next(qe.queryParams),ut.fragment!==qe.fragment&&He.fragmentSubject.next(qe.fragment),pe(ut.params,qe.params)||He.paramsSubject.next(qe.params),function Te(He,ut){if(He.length!==ut.length)return!1;for(let qe=0;qe<He.length;++qe)if(!pe(He[qe],ut[qe]))return!1;return!0}(ut.url,qe.url)||He.urlSubject.next(qe.url),pe(ut.data,qe.data)||He.dataSubject.next(qe.data)}else He.snapshot=He._futureSnapshot,He.dataSubject.next(He._futureSnapshot.data)}function pr(He,ut){const qe=pe(He.params,ut.params)&&function ne(He,ut){return ge(He,ut)&&He.every((qe,yt)=>pe(qe.parameters,ut[yt].parameters))}(He.url,ut.url);return qe&&!(!He.parent!=!ut.parent)&&(!He.parent||pr(He.parent,ut.parent))}function $t(He){return"string"==typeof He.title||null===He.title}let mn=(()=>{class He{constructor(){this.activated=null,this._activatedRoute=null,this.name=$e,this.activateEvents=new p.bkB,this.deactivateEvents=new p.bkB,this.attachEvents=new p.bkB,this.detachEvents=new p.bkB,this.parentContexts=(0,p.WQX)(dl),this.location=(0,p.WQX)(p.c1b),this.changeDetector=(0,p.WQX)(p.gRc),this.inputBinder=(0,p.WQX)(Kn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(qe){if(qe.name){const{firstChange:yt,previousValue:Rt}=qe.name;if(yt)return;this.isTrackedInParentContexts(Rt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Rt)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(qe){return this.parentContexts.getContext(qe)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const qe=this.parentContexts.getContext(this.name);qe?.route&&(qe.attachRef?this.attach(qe.attachRef,qe.route):this.activateWith(qe.route,qe.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.wOt(4012,!1);this.location.detach();const qe=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(qe.instance),qe}attach(qe,yt){this.activated=qe,this._activatedRoute=yt,this.location.insert(qe.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(qe.instance)}deactivate(){if(this.activated){const qe=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(qe)}}activateWith(qe,yt){if(this.isActivated)throw new p.wOt(4013,!1);this._activatedRoute=qe;const Rt=this.location,An=qe.snapshot.component,ar=this.parentContexts.getOrCreateContext(this.name).children,Gn=new vn(qe,ar,Rt.injector);this.activated=Rt.createComponent(An,{index:Rt.length,injector:Gn,environmentInjector:yt}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(yt){return new(yt||He)};static#t=this.\u0275dir=p.FsC({type:He,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.OA$]})}return He})();class vn{__ngOutletInjector(ut){return new vn(this.route,this.childContexts,ut)}constructor(ut,qe,yt){this.route=ut,this.childContexts=qe,this.parent=yt}get(ut,qe){return ut===uo?this.route:ut===dl?this.childContexts:this.parent.get(ut,qe)}}const Kn=new p.nKC("");let ir=(()=>{class He{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(qe){this.unsubscribeFromRouteData(qe),this.subscribeToRouteData(qe)}unsubscribeFromRouteData(qe){this.outletDataSubscriptions.get(qe)?.unsubscribe(),this.outletDataSubscriptions.delete(qe)}subscribeToRouteData(qe){const{activatedRoute:yt}=qe,Rt=(0,R.z)([yt.queryParams,yt.params,yt.data]).pipe((0,oe.n)(([rn,An,ar],Gn)=>(ar={...rn,...An,...ar},0===Gn?(0,H.of)(ar):Promise.resolve(ar)))).subscribe(rn=>{if(!qe.isActivated||!qe.activatedComponentRef||qe.activatedRoute!==yt||null===yt.component)return void this.unsubscribeFromRouteData(qe);const An=(0,p.HJs)(yt.component);if(An)for(const{templateName:ar}of An.inputs)qe.activatedComponentRef.setInput(ar,rn[ar]);else this.unsubscribeFromRouteData(qe)});this.outletDataSubscriptions.set(qe,Rt)}static#e=this.\u0275fac=function(yt){return new(yt||He)};static#t=this.\u0275prov=p.jDH({token:He,factory:He.\u0275fac})}return He})();function fi(He,ut,qe){if(qe&&He.shouldReuseRoute(ut.value,qe.value.snapshot)){const yt=qe.value;yt._futureSnapshot=ut.value;const Rt=function No(He,ut,qe){return ut.children.map(yt=>{for(const Rt of qe.children)if(He.shouldReuseRoute(yt.value,Rt.value.snapshot))return fi(He,yt,Rt);return fi(He,yt)})}(He,ut,qe);return new Qs(yt,Rt)}{if(He.shouldAttach(ut.value)){const rn=He.retrieve(ut.value);if(null!==rn){const An=rn.route;return An.value._futureSnapshot=ut.value,An.children=ut.children.map(ar=>fi(He,ar)),An}}const yt=function si(He){return new uo(new x.t(He.url),new x.t(He.params),new x.t(He.queryParams),new x.t(He.fragment),new x.t(He.data),He.outlet,He.component,He)}(ut.value),Rt=ut.children.map(rn=>fi(He,rn));return new Qs(yt,Rt)}}class xa{constructor(ut,qe){this.redirectTo=ut,this.navigationBehaviorOptions=qe}}const Ai="ngNavigationCancelingError";function ea(He,ut){const{redirectTo:qe,navigationBehaviorOptions:yt}=bn(ut)?{redirectTo:ut,navigationBehaviorOptions:void 0}:ut,Rt=Lo(!1,Fr.Redirect);return Rt.url=qe,Rt.navigationBehaviorOptions=yt,Rt}function Lo(He,ut){const qe=new Error(`NavigationCancelingError: ${He||""}`);return qe[Ai]=!0,qe.cancellationCode=ut,qe}function Ua(He){return!!He&&He[Ai]}class Pl{constructor(ut,qe,yt,Rt,rn){this.routeReuseStrategy=ut,this.futureState=qe,this.currState=yt,this.forwardEvent=Rt,this.inputBindingEnabled=rn}activate(ut){const qe=this.futureState._root,yt=this.currState?this.currState._root:null;this.deactivateChildRoutes(qe,yt,ut),ln(this.futureState.root),this.activateChildRoutes(qe,yt,ut)}deactivateChildRoutes(ut,qe,yt){const Rt=Ea(qe);ut.children.forEach(rn=>{const An=rn.value.outlet;this.deactivateRoutes(rn,Rt[An],yt),delete Rt[An]}),Object.values(Rt).forEach(rn=>{this.deactivateRouteAndItsChildren(rn,yt)})}deactivateRoutes(ut,qe,yt){const Rt=ut.value,rn=qe?qe.value:null;if(Rt===rn)if(Rt.component){const An=yt.getContext(Rt.outlet);An&&this.deactivateChildRoutes(ut,qe,An.children)}else this.deactivateChildRoutes(ut,qe,yt);else rn&&this.deactivateRouteAndItsChildren(qe,yt)}deactivateRouteAndItsChildren(ut,qe){ut.value.component&&this.routeReuseStrategy.shouldDetach(ut.value.snapshot)?this.detachAndStoreRouteSubtree(ut,qe):this.deactivateRouteAndOutlet(ut,qe)}detachAndStoreRouteSubtree(ut,qe){const yt=qe.getContext(ut.value.outlet),Rt=yt&&ut.value.component?yt.children:qe,rn=Ea(ut);for(const An of Object.values(rn))this.deactivateRouteAndItsChildren(An,Rt);if(yt&&yt.outlet){const An=yt.outlet.detach(),ar=yt.children.onOutletDeactivated();this.routeReuseStrategy.store(ut.value.snapshot,{componentRef:An,route:ut,contexts:ar})}}deactivateRouteAndOutlet(ut,qe){const yt=qe.getContext(ut.value.outlet),Rt=yt&&ut.value.component?yt.children:qe,rn=Ea(ut);for(const An of Object.values(rn))this.deactivateRouteAndItsChildren(An,Rt);yt&&(yt.outlet&&(yt.outlet.deactivate(),yt.children.onOutletDeactivated()),yt.attachRef=null,yt.route=null)}activateChildRoutes(ut,qe,yt){const Rt=Ea(qe);ut.children.forEach(rn=>{this.activateRoutes(rn,Rt[rn.value.outlet],yt),this.forwardEvent(new So(rn.value.snapshot))}),ut.children.length&&this.forwardEvent(new ls(ut.value.snapshot))}activateRoutes(ut,qe,yt){const Rt=ut.value,rn=qe?qe.value:null;if(ln(Rt),Rt===rn)if(Rt.component){const An=yt.getOrCreateContext(Rt.outlet);this.activateChildRoutes(ut,qe,An.children)}else this.activateChildRoutes(ut,qe,yt);else if(Rt.component){const An=yt.getOrCreateContext(Rt.outlet);if(this.routeReuseStrategy.shouldAttach(Rt.snapshot)){const ar=this.routeReuseStrategy.retrieve(Rt.snapshot);this.routeReuseStrategy.store(Rt.snapshot,null),An.children.onOutletReAttached(ar.contexts),An.attachRef=ar.componentRef,An.route=ar.route.value,An.outlet&&An.outlet.attach(ar.componentRef,ar.route.value),ln(ar.route.value),this.activateChildRoutes(ut,null,An.children)}else An.attachRef=null,An.route=Rt,An.outlet&&An.outlet.activateWith(Rt,An.injector),this.activateChildRoutes(ut,null,An.children)}else this.activateChildRoutes(ut,null,yt)}}class mo{constructor(ut){this.path=ut,this.route=this.path[this.path.length-1]}}class Ja{constructor(ut,qe){this.component=ut,this.route=qe}}function Ls(He,ut,qe){const yt=He._root;return Ho(yt,ut?ut._root:null,qe,[yt.value])}function nu(He,ut){const qe=Symbol(),yt=ut.get(He,qe);return yt===qe?"function"!=typeof He||(0,p.LfX)(He)?ut.get(He):He:yt}function Ho(He,ut,qe,yt,Rt={canDeactivateChecks:[],canActivateChecks:[]}){const rn=Ea(ut);return He.children.forEach(An=>{(function Au(He,ut,qe,yt,Rt={canDeactivateChecks:[],canActivateChecks:[]}){const rn=He.value,An=ut?ut.value:null,ar=qe?qe.getContext(He.value.outlet):null;if(An&&rn.routeConfig===An.routeConfig){const Gn=function vf(He,ut,qe){if("function"==typeof qe)return qe(He,ut);switch(qe){case"pathParamsChange":return!ge(He.url,ut.url);case"pathParamsOrQueryParamsChange":return!ge(He.url,ut.url)||!pe(He.queryParams,ut.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pr(He,ut)||!pe(He.queryParams,ut.queryParams);default:return!pr(He,ut)}}(An,rn,rn.routeConfig.runGuardsAndResolvers);Gn?Rt.canActivateChecks.push(new mo(yt)):(rn.data=An.data,rn._resolvedData=An._resolvedData),Ho(He,ut,rn.component?ar?ar.children:null:qe,yt,Rt),Gn&&ar&&ar.outlet&&ar.outlet.isActivated&&Rt.canDeactivateChecks.push(new Ja(ar.outlet.component,An))}else An&&Rd(ut,ar,Rt),Rt.canActivateChecks.push(new mo(yt)),Ho(He,null,rn.component?ar?ar.children:null:qe,yt,Rt)})(An,rn[An.value.outlet],qe,yt.concat([An.value]),Rt),delete rn[An.value.outlet]}),Object.entries(rn).forEach(([An,ar])=>Rd(ar,qe.getContext(An),Rt)),Rt}function Rd(He,ut,qe){const yt=Ea(He),Rt=He.value;Object.entries(yt).forEach(([rn,An])=>{Rd(An,Rt.component?ut?ut.children.getContext(rn):null:ut,qe)}),qe.canDeactivateChecks.push(new Ja(Rt.component&&ut&&ut.outlet&&ut.outlet.isActivated?ut.outlet.component:null,Rt))}function ad(He){return"function"==typeof He}function Qa(He){return He instanceof O||"EmptyError"===He?.name}const Rl=Symbol("INITIAL_VALUE");function kt(){return(0,oe.n)(He=>(0,R.z)(He.map(ut=>ut.pipe((0,ae.s)(1),(0,se.Z)(Rl)))).pipe((0,Y.T)(ut=>{for(const qe of ut)if(!0!==qe){if(qe===Rl)return Rl;if(!1===qe||Lt(qe))return qe}return!0}),(0,de.p)(ut=>ut!==Rl),(0,ae.s)(1)))}function Lt(He){return bn(He)||He instanceof xa}function Om(He){return(0,I.F)((0,S.M)(ut=>{if("boolean"!=typeof ut)throw ea(0,ut)}),(0,Y.T)(ut=>!0===ut))}class Fa{constructor(ut){this.segmentGroup=ut||null}}class Uo extends Error{constructor(ut){super(),this.urlTree=ut}}function qc(He){return(0,Z.$)(new Fa(He))}class fl{constructor(ut,qe){this.urlSerializer=ut,this.urlTree=qe}lineralizeSegments(ut,qe){let yt=[],Rt=qe.root;for(;;){if(yt=yt.concat(Rt.segments),0===Rt.numberOfChildren)return(0,H.of)(yt);if(Rt.numberOfChildren>1||!Rt.children[$e])return(0,Z.$)(new p.wOt(4e3,!1));Rt=Rt.children[$e]}}applyRedirectCommands(ut,qe,yt,Rt,rn){if("string"!=typeof qe){const ar=qe,{queryParams:Gn,fragment:zr,routeConfig:Fi,url:ao,outlet:yi,params:Us,data:_s,title:Ka}=Rt,Ri=(0,p.N4e)(rn,()=>ar({params:Us,data:_s,queryParams:Gn,fragment:zr,routeConfig:Fi,url:ao,outlet:yi,title:Ka}));if(Ri instanceof w)throw new Uo(Ri);qe=Ri}const An=this.applyRedirectCreateUrlTree(qe,this.urlSerializer.parse(qe),ut,yt);if("/"===qe[0])throw new Uo(An);return An}applyRedirectCreateUrlTree(ut,qe,yt,Rt){const rn=this.createSegmentGroup(ut,qe.root,yt,Rt);return new w(rn,this.createQueryParams(qe.queryParams,this.urlTree.queryParams),qe.fragment)}createQueryParams(ut,qe){const yt={};return Object.entries(ut).forEach(([Rt,rn])=>{if("string"==typeof rn&&":"===rn[0]){const ar=rn.substring(1);yt[Rt]=qe[ar]}else yt[Rt]=rn}),yt}createSegmentGroup(ut,qe,yt,Rt){const rn=this.createSegments(ut,qe.segments,yt,Rt);let An={};return Object.entries(qe.children).forEach(([ar,Gn])=>{An[ar]=this.createSegmentGroup(ut,Gn,yt,Rt)}),new m(rn,An)}createSegments(ut,qe,yt,Rt){return qe.map(rn=>":"===rn.path[0]?this.findPosParam(ut,rn,Rt):this.findOrReturn(rn,yt))}findPosParam(ut,qe,yt){const Rt=yt[qe.path.substring(1)];if(!Rt)throw new p.wOt(4001,!1);return Rt}findOrReturn(ut,qe){let yt=0;for(const Rt of qe){if(Rt.path===ut.path)return qe.splice(yt),Rt;yt++}return ut}}const yc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iu(He,ut,qe,yt,Rt){const rn=Bl(He,ut,qe);return rn.matched?(yt=function cl(He,ut){return He.providers&&!He._injector&&(He._injector=(0,p.Ol2)(He.providers,ut,`Route: ${He.path}`)),He._injector??ut}(ut,yt),function zh(He,ut,qe,yt){const Rt=ut.canMatch;if(!Rt||0===Rt.length)return(0,H.of)(!0);const rn=Rt.map(An=>{const ar=nu(An,He);return ue(function wf(He){return He&&ad(He.canMatch)}(ar)?ar.canMatch(ut,qe):(0,p.N4e)(He,()=>ar(ut,qe)))});return(0,H.of)(rn).pipe(kt(),Om())}(yt,ut,qe).pipe((0,Y.T)(An=>!0===An?rn:{...yc}))):(0,H.of)(rn)}function Bl(He,ut,qe){if("**"===ut.path)return function Tu(He){return{matched:!0,parameters:He.length>0?ie(He).parameters:{},consumedSegments:He,remainingSegments:[],positionalParamSegments:{}}}(qe);if(""===ut.path)return"full"===ut.pathMatch&&(He.hasChildren()||qe.length>0)?{...yc}:{matched:!0,consumedSegments:[],remainingSegments:qe,parameters:{},positionalParamSegments:{}};const Rt=(ut.matcher||ye)(qe,He,ut);if(!Rt)return{...yc};const rn={};Object.entries(Rt.posParams??{}).forEach(([ar,Gn])=>{rn[ar]=Gn.path});const An=Rt.consumed.length>0?{...rn,...Rt.consumed[Rt.consumed.length-1].parameters}:rn;return{matched:!0,consumedSegments:Rt.consumed,remainingSegments:qe.slice(Rt.consumed.length),parameters:An,positionalParamSegments:Rt.posParams??{}}}function ud(He,ut,qe,yt){return qe.length>0&&function Da(He,ut,qe){return qe.some(yt=>kc(He,ut,yt)&&_a(yt)!==$e)}(He,qe,yt)?{segmentGroup:new m(ut,zi(yt,new m(qe,He.children))),slicedSegments:[]}:0===qe.length&&function _f(He,ut,qe){return qe.some(yt=>kc(He,ut,yt))}(He,qe,yt)?{segmentGroup:new m(He.segments,Iu(He,qe,yt,He.children)),slicedSegments:qe}:{segmentGroup:new m(He.segments,He.children),slicedSegments:qe}}function Iu(He,ut,qe,yt){const Rt={};for(const rn of qe)if(kc(He,ut,rn)&&!yt[_a(rn)]){const An=new m([],{});Rt[_a(rn)]=An}return{...yt,...Rt}}function zi(He,ut){const qe={};qe[$e]=ut;for(const yt of He)if(""===yt.path&&_a(yt)!==$e){const Rt=new m([],{});qe[_a(yt)]=Rt}return qe}function kc(He,ut,qe){return(!(He.hasChildren()||ut.length>0)||"full"!==qe.pathMatch)&&""===qe.path}class Bp{}class Np{constructor(ut,qe,yt,Rt,rn,An,ar){this.injector=ut,this.configLoader=qe,this.rootComponentType=yt,this.config=Rt,this.urlTree=rn,this.paramsInheritanceStrategy=An,this.urlSerializer=ar,this.applyRedirects=new fl(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(ut){return new p.wOt(4002,`'${ut.segmentGroup}'`)}recognize(){const ut=ud(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(ut).pipe((0,Y.T)(({children:qe,rootSnapshot:yt})=>{const Rt=new Qs(yt,qe),rn=new Od("",Rt),An=function In(He,ut,qe=null,yt=null){return Jn(Ar(He),ut,qe,yt)}(yt,[],this.urlTree.queryParams,this.urlTree.fragment);return An.queryParams=this.urlTree.queryParams,rn.url=this.urlSerializer.serialize(An),{state:rn,tree:An}}))}match(ut){const qe=new sd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),$e,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,ut,$e,qe).pipe((0,Y.T)(yt=>({children:yt,rootSnapshot:qe})),(0,T.W)(yt=>{if(yt instanceof Uo)return this.urlTree=yt.urlTree,this.match(yt.urlTree.root);throw yt instanceof Fa?this.noMatchError(yt):yt}))}processSegmentGroup(ut,qe,yt,Rt,rn){return 0===yt.segments.length&&yt.hasChildren()?this.processChildren(ut,qe,yt,rn):this.processSegment(ut,qe,yt,yt.segments,Rt,!0,rn).pipe((0,Y.T)(An=>An instanceof Qs?[An]:[]))}processChildren(ut,qe,yt,Rt){const rn=[];for(const An of Object.keys(yt.children))"primary"===An?rn.unshift(An):rn.push(An);return(0,k.H)(rn).pipe((0,g.H)(An=>{const ar=yt.children[An],Gn=function ac(He,ut){const qe=He.filter(yt=>_a(yt)===ut);return qe.push(...He.filter(yt=>_a(yt)!==ut)),qe}(qe,An);return this.processSegmentGroup(ut,Gn,ar,An,Rt)}),function M(He,ut){return(0,we.N)(function N(He,ut,qe,yt,Rt){return(rn,An)=>{let ar=qe,Gn=ut,zr=0;rn.subscribe((0,xe._)(An,Fi=>{const ao=zr++;Gn=ar?He(Gn,Fi,ao):(ar=!0,Fi),yt&&An.next(Gn)},Rt&&(()=>{ar&&An.next(Gn),An.complete()})))}}(He,ut,arguments.length>=2,!0))}((An,ar)=>(An.push(...ar),An)),Ce(null),function v(He,ut){const qe=arguments.length>=2;return yt=>yt.pipe(He?(0,de.p)((Rt,rn)=>He(Rt,rn,yt)):u.D,s(1),qe?Ce(ut):C(()=>new O))}(),(0,le.Z)(An=>{if(null===An)return qc(yt);const ar=ta(An);return function sv(He){He.sort((ut,qe)=>ut.value.outlet===$e?-1:qe.value.outlet===$e?1:ut.value.outlet.localeCompare(qe.value.outlet))}(ar),(0,H.of)(ar)}))}processSegment(ut,qe,yt,Rt,rn,An,ar){return(0,k.H)(qe).pipe((0,g.H)(Gn=>this.processSegmentAgainstRoute(Gn._injector??ut,qe,Gn,yt,Rt,rn,An,ar).pipe((0,T.W)(zr=>{if(zr instanceof Fa)return(0,H.of)(null);throw zr}))),y(Gn=>!!Gn),(0,T.W)(Gn=>{if(Qa(Gn))return function Bd(He,ut,qe){return 0===ut.length&&!He.children[qe]}(yt,Rt,rn)?(0,H.of)(new Bp):qc(yt);throw Gn}))}processSegmentAgainstRoute(ut,qe,yt,Rt,rn,An,ar,Gn){return function ou(He,ut,qe,yt){return!!(_a(He)===yt||yt!==$e&&kc(ut,qe,He))&&Bl(ut,He,qe).matched}(yt,Rt,rn,An)?void 0===yt.redirectTo?this.matchSegmentAgainstRoute(ut,Rt,yt,rn,An,Gn):this.allowRedirects&&ar?this.expandSegmentAgainstRouteUsingRedirect(ut,Rt,qe,yt,rn,An,Gn):qc(Rt):qc(Rt)}expandSegmentAgainstRouteUsingRedirect(ut,qe,yt,Rt,rn,An,ar){const{matched:Gn,parameters:zr,consumedSegments:Fi,positionalParamSegments:ao,remainingSegments:yi}=Bl(qe,Rt,rn);if(!Gn)return qc(qe);"string"==typeof Rt.redirectTo&&"/"===Rt.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Us=new sd(rn,zr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Cu(Rt),_a(Rt),Rt.component??Rt._loadedComponent??null,Rt,xf(Rt)),_s=vo(Us,ar,this.paramsInheritanceStrategy);Us.params=Object.freeze(_s.params),Us.data=Object.freeze(_s.data);const Ka=this.applyRedirects.applyRedirectCommands(Fi,Rt.redirectTo,ao,Us,ut);return this.applyRedirects.lineralizeSegments(Rt,Ka).pipe((0,le.Z)(Ri=>this.processSegment(ut,yt,qe,Ri.concat(yi),An,!1,ar)))}matchSegmentAgainstRoute(ut,qe,yt,Rt,rn,An){const ar=iu(qe,yt,Rt,ut);return"**"===yt.path&&(qe.children={}),ar.pipe((0,oe.n)(Gn=>Gn.matched?this.getChildConfig(ut=yt._injector??ut,yt,Rt).pipe((0,oe.n)(({routes:zr})=>{const Fi=yt._loadedInjector??ut,{parameters:ao,consumedSegments:yi,remainingSegments:Us}=Gn,_s=new sd(yi,ao,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Cu(yt),_a(yt),yt.component??yt._loadedComponent??null,yt,xf(yt)),Ka=vo(_s,An,this.paramsInheritanceStrategy);_s.params=Object.freeze(Ka.params),_s.data=Object.freeze(Ka.data);const{segmentGroup:Ri,slicedSegments:zs}=ud(qe,yi,Us,zr);if(0===zs.length&&Ri.hasChildren())return this.processChildren(Fi,zr,Ri,_s).pipe((0,Y.T)(Lp=>new Qs(_s,Lp)));if(0===zr.length&&0===zs.length)return(0,H.of)(new Qs(_s,[]));const Lw=_a(yt)===rn;return this.processSegment(Fi,zr,Ri,zs,Lw?$e:rn,!0,_s).pipe((0,Y.T)(Lp=>new Qs(_s,Lp instanceof Qs?[Lp]:[])))})):qc(qe)))}getChildConfig(ut,qe,yt){return qe.children?(0,H.of)({routes:qe.children,injector:ut}):qe.loadChildren?void 0!==qe._loadedRoutes?(0,H.of)({routes:qe._loadedRoutes,injector:qe._loadedInjector}):function ld(He,ut,qe,yt){const Rt=ut.canLoad;if(void 0===Rt||0===Rt.length)return(0,H.of)(!0);const rn=Rt.map(An=>{const ar=nu(An,He);return ue(function Ol(He){return He&&ad(He.canLoad)}(ar)?ar.canLoad(ut,qe):(0,p.N4e)(He,()=>ar(ut,qe)))});return(0,H.of)(rn).pipe(kt(),Om())}(ut,qe,yt).pipe((0,le.Z)(Rt=>Rt?this.configLoader.loadChildren(ut,qe).pipe((0,S.M)(rn=>{qe._loadedRoutes=rn.routes,qe._loadedInjector=rn.injector})):function ru(He){return(0,Z.$)(Lo(!1,Fr.GuardRejected))}())):(0,H.of)({routes:[],injector:ut})}}function Ef(He){const ut=He.value.routeConfig;return ut&&""===ut.path}function ta(He){const ut=[],qe=new Set;for(const yt of He){if(!Ef(yt)){ut.push(yt);continue}const Rt=ut.find(rn=>yt.value.routeConfig===rn.value.routeConfig);void 0!==Rt?(Rt.children.push(...yt.children),qe.add(Rt)):ut.push(yt)}for(const yt of qe){const Rt=ta(yt.children);ut.push(new Qs(yt.value,Rt))}return ut.filter(yt=>!qe.has(yt))}function Cu(He){return He.data||{}}function xf(He){return He.resolve||{}}function Pu(He){const ut=He.children.map(qe=>Pu(qe)).flat();return[He,...ut]}function ja(He){return(0,oe.n)(ut=>{const qe=He(ut);return qe?(0,k.H)(qe).pipe((0,Y.T)(()=>ut)):(0,H.of)(ut)})}let sh=(()=>{class He{buildTitle(qe){let yt,Rt=qe.root;for(;void 0!==Rt;)yt=this.getResolvedTitleForRoute(Rt)??yt,Rt=Rt.children.find(rn=>rn.outlet===$e);return yt}getResolvedTitleForRoute(qe){return qe.data[Se]}static#e=this.\u0275fac=function(yt){return new(yt||He)};static#t=this.\u0275prov=p.jDH({token:He,factory:()=>(0,p.WQX)(gc),providedIn:"root"})}return He})(),gc=(()=>{class He extends sh{constructor(qe){super(),this.title=qe}updateTitle(qe){const yt=this.buildTitle(qe);void 0!==yt&&this.title.setTitle(yt)}static#e=this.\u0275fac=function(yt){return new(yt||He)(p.KVO(Pe.hE))};static#t=this.\u0275prov=p.jDH({token:He,factory:He.\u0275fac,providedIn:"root"})}return He})();const Nl=new p.nKC("",{providedIn:"root",factory:()=>({})});let Ou=(()=>{class He{static#e=this.\u0275fac=function(yt){return new(yt||He)};static#t=this.\u0275cmp=p.VBU({type:He,selectors:[["ng-component"]],standalone:!0,features:[p.aNF],decls:1,vars:0,template:function(yt,Rt){1&yt&&p.nrm(0,"router-outlet")},dependencies:[mn],encapsulation:2})}return He})();function eo(He){const ut=He.children&&He.children.map(eo),qe=ut?{...He,children:ut}:{...He};return!qe.component&&!qe.loadComponent&&(ut||qe.loadChildren)&&qe.outlet&&qe.outlet!==$e&&(qe.component=Ou),qe}const hl=new p.nKC("");let Pc=(()=>{class He{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.WQX)(p.Ql9)}loadComponent(qe){if(this.componentLoaders.get(qe))return this.componentLoaders.get(qe);if(qe._loadedComponent)return(0,H.of)(qe._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(qe);const yt=ue(qe.loadComponent()).pipe((0,Y.T)(Ll),(0,S.M)(rn=>{this.onLoadEndListener&&this.onLoadEndListener(qe),qe._loadedComponent=rn}),(0,K.j)(()=>{this.componentLoaders.delete(qe)})),Rt=new G.G(yt,()=>new re.B).pipe((0,ee.B)());return this.componentLoaders.set(qe,Rt),Rt}loadChildren(qe,yt){if(this.childrenLoaders.get(yt))return this.childrenLoaders.get(yt);if(yt._loadedRoutes)return(0,H.of)({routes:yt._loadedRoutes,injector:yt._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(yt);const rn=function Ro(He,ut,qe,yt){return ue(He.loadChildren()).pipe((0,Y.T)(Ll),(0,le.Z)(Rt=>Rt instanceof p.Co$||Array.isArray(Rt)?(0,H.of)(Rt):(0,k.H)(ut.compileModuleAsync(Rt))),(0,Y.T)(Rt=>{yt&&yt(He);let rn,An,ar=!1;return Array.isArray(Rt)?(An=Rt,!0):(rn=Rt.create(qe).injector,An=rn.get(hl,[],{optional:!0,self:!0}).flat()),{routes:An.map(eo),injector:rn}}))}(yt,this.compiler,qe,this.onLoadEndListener).pipe((0,K.j)(()=>{this.childrenLoaders.delete(yt)})),An=new G.G(rn,()=>new re.B).pipe((0,ee.B)());return this.childrenLoaders.set(yt,An),An}static#e=this.\u0275fac=function(yt){return new(yt||He)};static#t=this.\u0275prov=p.jDH({token:He,factory:He.\u0275fac,providedIn:"root"})}return He})();function Ll(He){return function Nd(He){return He&&"object"==typeof He&&"default"in He}(He)?He.default:He}let Mf=(()=>{class He{static#e=this.\u0275fac=function(yt){return new(yt||He)};static#t=this.\u0275prov=p.jDH({token:He,factory:()=>(0,p.WQX)(ah),providedIn:"root"})}return He})(),ah=(()=>{class He{shouldProcessUrl(qe){return!0}extract(qe){return qe}merge(qe,yt){return qe}static#e=this.\u0275fac=function(yt){return new(yt||He)};static#t=this.\u0275prov=p.jDH({token:He,factory:He.\u0275fac,providedIn:"root"})}return He})();const ch=new p.nKC(""),it=new p.nKC("");function Xt(He,ut,qe){const yt=He.get(it),Rt=He.get(J.qQ);return He.get(p.SKi).runOutsideAngular(()=>{if(!Rt.startViewTransition||yt.skipNextTransition)return yt.skipNextTransition=!1,new Promise(zr=>setTimeout(zr));let rn;const An=new Promise(zr=>{rn=zr}),ar=Rt.startViewTransition(()=>(rn(),function At(He){return new Promise(ut=>{(0,p.mal)({read:()=>setTimeout(ut)},{injector:He})})}(He))),{onViewTransitionCreated:Gn}=yt;return Gn&&(0,p.N4e)(He,()=>Gn({transition:ar,from:ut,to:qe})),An})}const Ft=new p.nKC("");let Sn=(()=>{class He{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new re.B,this.transitionAbortSubject=new re.B,this.configLoader=(0,p.WQX)(Pc),this.environmentInjector=(0,p.WQX)(p.uvJ),this.urlSerializer=(0,p.WQX)(Qe),this.rootContexts=(0,p.WQX)(dl),this.location=(0,p.WQX)(J.aZ),this.inputBindingEnabled=null!==(0,p.WQX)(Kn,{optional:!0}),this.titleStrategy=(0,p.WQX)(sh),this.options=(0,p.WQX)(Nl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,p.WQX)(Mf),this.createViewTransition=(0,p.WQX)(ch,{optional:!0}),this.navigationErrorHandler=(0,p.WQX)(Ft,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,H.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Rt=>this.events.next(new La(Rt)),this.configLoader.onLoadStartListener=Rt=>this.events.next(new Ui(Rt))}complete(){this.transitions?.complete()}handleNavigationRequest(qe){const yt=++this.navigationId;this.transitions?.next({...this.transitions.value,...qe,id:yt})}setupNavigations(qe,yt,Rt){return this.transitions=new x.t({id:0,currentUrlTree:yt,currentRawUrl:yt,extractedUrl:this.urlHandlingStrategy.extract(yt),urlAfterRedirects:this.urlHandlingStrategy.extract(yt),rawUrl:yt,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Dn,restoredState:null,currentSnapshot:Rt.snapshot,targetSnapshot:null,currentRouterState:Rt,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,de.p)(rn=>0!==rn.id),(0,Y.T)(rn=>({...rn,extractedUrl:this.urlHandlingStrategy.extract(rn.rawUrl)})),(0,oe.n)(rn=>{let An=!1,ar=!1;return(0,H.of)(rn).pipe((0,oe.n)(Gn=>{if(this.navigationId>rn.id)return this.cancelNavigationTransition(rn,"",Fr.SupersededByNewNavigation),j.w;this.currentTransition=rn,this.currentNavigation={id:Gn.id,initialUrl:Gn.rawUrl,extractedUrl:Gn.extractedUrl,targetBrowserUrl:"string"==typeof Gn.extras.browserUrl?this.urlSerializer.parse(Gn.extras.browserUrl):Gn.extras.browserUrl,trigger:Gn.source,extras:Gn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const zr=!qe.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!zr&&"reload"!==(Gn.extras.onSameUrlNavigation??qe.onSameUrlNavigation)){const ao="";return this.events.next(new xo(Gn.id,this.urlSerializer.serialize(Gn.rawUrl),ao,jr.IgnoredSameUrlNavigation)),Gn.resolve(!1),j.w}if(this.urlHandlingStrategy.shouldProcessUrl(Gn.rawUrl))return(0,H.of)(Gn).pipe((0,oe.n)(ao=>{const yi=this.transitions?.getValue();return this.events.next(new Sr(ao.id,this.urlSerializer.serialize(ao.extractedUrl),ao.source,ao.restoredState)),yi!==this.transitions?.getValue()?j.w:Promise.resolve(ao)}),function vs(He,ut,qe,yt,Rt,rn){return(0,le.Z)(An=>function Hh(He,ut,qe,yt,Rt,rn,An="emptyOnly"){return new Np(He,ut,qe,yt,Rt,An,rn).recognize()}(He,ut,qe,yt,An.extractedUrl,Rt,rn).pipe((0,Y.T)(({state:ar,tree:Gn})=>({...An,targetSnapshot:ar,urlAfterRedirects:Gn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,qe.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,S.M)(ao=>{rn.targetSnapshot=ao.targetSnapshot,rn.urlAfterRedirects=ao.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ao.urlAfterRedirects};const yi=new Ao(ao.id,this.urlSerializer.serialize(ao.extractedUrl),this.urlSerializer.serialize(ao.urlAfterRedirects),ao.targetSnapshot);this.events.next(yi)}));if(zr&&this.urlHandlingStrategy.shouldProcessUrl(Gn.currentRawUrl)){const{id:ao,extractedUrl:yi,source:Us,restoredState:_s,extras:Ka}=Gn,Ri=new Sr(ao,this.urlSerializer.serialize(yi),Us,_s);this.events.next(Ri);const zs=mc(this.rootComponentType).snapshot;return this.currentTransition=rn={...Gn,targetSnapshot:zs,urlAfterRedirects:yi,extras:{...Ka,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=yi,(0,H.of)(rn)}{const ao="";return this.events.next(new xo(Gn.id,this.urlSerializer.serialize(Gn.extractedUrl),ao,jr.IgnoredByUrlHandlingStrategy)),Gn.resolve(!1),j.w}}),(0,S.M)(Gn=>{const zr=new ko(Gn.id,this.urlSerializer.serialize(Gn.extractedUrl),this.urlSerializer.serialize(Gn.urlAfterRedirects),Gn.targetSnapshot);this.events.next(zr)}),(0,Y.T)(Gn=>(this.currentTransition=rn={...Gn,guards:Ls(Gn.targetSnapshot,Gn.currentSnapshot,this.rootContexts)},rn)),function wt(He,ut){return(0,le.Z)(qe=>{const{targetSnapshot:yt,currentSnapshot:Rt,guards:{canActivateChecks:rn,canDeactivateChecks:An}}=qe;return 0===An.length&&0===rn.length?(0,H.of)({...qe,guardsResult:!0}):function tn(He,ut,qe,yt){return(0,k.H)(He).pipe((0,le.Z)(Rt=>function ha(He,ut,qe,yt,Rt){const rn=ut&&ut.routeConfig?ut.routeConfig.canDeactivate:null;if(!rn||0===rn.length)return(0,H.of)(!0);const An=rn.map(ar=>{const Gn=qs(ut)??Rt,zr=nu(ar,Gn);return ue(function cd(He){return He&&ad(He.canDeactivate)}(zr)?zr.canDeactivate(He,ut,qe,yt):(0,p.N4e)(Gn,()=>zr(He,ut,qe,yt))).pipe(y())});return(0,H.of)(An).pipe(kt())}(Rt.component,Rt.route,qe,ut,yt)),y(Rt=>!0!==Rt,!0))}(An,yt,Rt,He).pipe((0,le.Z)(ar=>ar&&function Si(He){return"boolean"==typeof He}(ar)?function On(He,ut,qe,yt){return(0,k.H)(ut).pipe((0,g.H)(Rt=>(0,F.x)(function Vi(He,ut){return null!==He&&ut&&ut(new Mi(He)),(0,H.of)(!0)}(Rt.route.parent,yt),function Jr(He,ut){return null!==He&&ut&&ut(new Js(He)),(0,H.of)(!0)}(Rt.route,yt),function li(He,ut,qe){const yt=ut[ut.length-1],rn=ut.slice(0,ut.length-1).reverse().map(An=>function To(He){const ut=He.routeConfig?He.routeConfig.canActivateChild:null;return ut&&0!==ut.length?{node:He,guards:ut}:null}(An)).filter(An=>null!==An).map(An=>(0,L.v)(()=>{const ar=An.guards.map(Gn=>{const zr=qs(An.node)??qe,Fi=nu(Gn,zr);return ue(function bf(He){return He&&ad(He.canActivateChild)}(Fi)?Fi.canActivateChild(yt,He):(0,p.N4e)(zr,()=>Fi(yt,He))).pipe(y())});return(0,H.of)(ar).pipe(kt())}));return(0,H.of)(rn).pipe(kt())}(He,Rt.path,qe),function gs(He,ut,qe){const yt=ut.routeConfig?ut.routeConfig.canActivate:null;if(!yt||0===yt.length)return(0,H.of)(!0);const Rt=yt.map(rn=>(0,L.v)(()=>{const An=qs(ut)??qe,ar=nu(rn,An);return ue(function qa(He){return He&&ad(He.canActivate)}(ar)?ar.canActivate(ut,He):(0,p.N4e)(An,()=>ar(ut,He))).pipe(y())}));return(0,H.of)(Rt).pipe(kt())}(He,Rt.route,qe))),y(Rt=>!0!==Rt,!0))}(yt,rn,He,ut):(0,H.of)(ar)),(0,Y.T)(ar=>({...qe,guardsResult:ar})))})}(this.environmentInjector,Gn=>this.events.next(Gn)),(0,S.M)(Gn=>{if(rn.guardsResult=Gn.guardsResult,Gn.guardsResult&&"boolean"!=typeof Gn.guardsResult)throw ea(0,Gn.guardsResult);const zr=new Jo(Gn.id,this.urlSerializer.serialize(Gn.extractedUrl),this.urlSerializer.serialize(Gn.urlAfterRedirects),Gn.targetSnapshot,!!Gn.guardsResult);this.events.next(zr)}),(0,de.p)(Gn=>!!Gn.guardsResult||(this.cancelNavigationTransition(Gn,"",Fr.GuardRejected),!1)),ja(Gn=>{if(Gn.guards.canActivateChecks.length)return(0,H.of)(Gn).pipe((0,S.M)(zr=>{const Fi=new ji(zr.id,this.urlSerializer.serialize(zr.extractedUrl),this.urlSerializer.serialize(zr.urlAfterRedirects),zr.targetSnapshot);this.events.next(Fi)}),(0,oe.n)(zr=>{let Fi=!1;return(0,H.of)(zr).pipe(function ku(He,ut){return(0,le.Z)(qe=>{const{targetSnapshot:yt,guards:{canActivateChecks:Rt}}=qe;if(!Rt.length)return(0,H.of)(qe);const rn=new Set(Rt.map(Gn=>Gn.route)),An=new Set;for(const Gn of rn)if(!An.has(Gn))for(const zr of Pu(Gn))An.add(zr);let ar=0;return(0,k.H)(An).pipe((0,g.H)(Gn=>rn.has(Gn)?function Ji(He,ut,qe,yt){const Rt=He.routeConfig,rn=He._resolve;return void 0!==Rt?.title&&!$t(Rt)&&(rn[Se]=Rt.title),function Hi(He,ut,qe,yt){const Rt=fe(He);if(0===Rt.length)return(0,H.of)({});const rn={};return(0,k.H)(Rt).pipe((0,le.Z)(An=>function Sf(He,ut,qe,yt){const Rt=qs(ut)??yt,rn=nu(He,Rt);return ue(rn.resolve?rn.resolve(ut,qe):(0,p.N4e)(Rt,()=>rn(ut,qe)))}(He[An],ut,qe,yt).pipe(y(),(0,S.M)(ar=>{if(ar instanceof xa)throw ea(new Bt,ar);rn[An]=ar}))),s(1),(0,W.u)(rn),(0,T.W)(An=>Qa(An)?j.w:(0,Z.$)(An)))}(rn,He,ut,yt).pipe((0,Y.T)(An=>(He._resolvedData=An,He.data=vo(He,He.parent,qe).resolve,null)))}(Gn,yt,He,ut):(Gn.data=vo(Gn,Gn.parent,He).resolve,(0,H.of)(void 0))),(0,S.M)(()=>ar++),s(1),(0,le.Z)(Gn=>ar===An.size?(0,H.of)(qe):j.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,S.M)({next:()=>Fi=!0,complete:()=>{Fi||this.cancelNavigationTransition(zr,"",Fr.NoDataFromResolver)}}))}),(0,S.M)(zr=>{const Fi=new wi(zr.id,this.urlSerializer.serialize(zr.extractedUrl),this.urlSerializer.serialize(zr.urlAfterRedirects),zr.targetSnapshot);this.events.next(Fi)}))}),ja(Gn=>{const zr=Fi=>{const ao=[];Fi.routeConfig?.loadComponent&&!Fi.routeConfig._loadedComponent&&ao.push(this.configLoader.loadComponent(Fi.routeConfig).pipe((0,S.M)(yi=>{Fi.component=yi}),(0,Y.T)(()=>{})));for(const yi of Fi.children)ao.push(...zr(yi));return ao};return(0,R.z)(zr(Gn.targetSnapshot.root)).pipe(Ce(null),(0,ae.s)(1))}),ja(()=>this.afterPreactivation()),(0,oe.n)(()=>{const{currentSnapshot:Gn,targetSnapshot:zr}=rn,Fi=this.createViewTransition?.(this.environmentInjector,Gn.root,zr.root);return Fi?(0,k.H)(Fi).pipe((0,Y.T)(()=>rn)):(0,H.of)(rn)}),(0,Y.T)(Gn=>{const zr=function ci(He,ut,qe){const yt=fi(He,ut._root,qe?qe._root:void 0);return new ul(yt,ut)}(qe.routeReuseStrategy,Gn.targetSnapshot,Gn.currentRouterState);return this.currentTransition=rn={...Gn,targetRouterState:zr},this.currentNavigation.targetRouterState=zr,rn}),(0,S.M)(()=>{this.events.next(new ps)}),((He,ut,qe,yt)=>(0,Y.T)(Rt=>(new Pl(ut,Rt.targetRouterState,Rt.currentRouterState,qe,yt).activate(He),Rt)))(this.rootContexts,qe.routeReuseStrategy,Gn=>this.events.next(Gn),this.inputBindingEnabled),(0,ae.s)(1),(0,S.M)({next:Gn=>{An=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xr(Gn.id,this.urlSerializer.serialize(Gn.extractedUrl),this.urlSerializer.serialize(Gn.urlAfterRedirects))),this.titleStrategy?.updateTitle(Gn.targetRouterState.snapshot),Gn.resolve(!0)},complete:()=>{An=!0}}),(0,ce.Q)(this.transitionAbortSubject.pipe((0,S.M)(Gn=>{throw Gn}))),(0,K.j)(()=>{!An&&!ar&&this.cancelNavigationTransition(rn,"",Fr.SupersededByNewNavigation),this.currentTransition?.id===rn.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,T.W)(Gn=>{if(ar=!0,Ua(Gn))this.events.next(new ti(rn.id,this.urlSerializer.serialize(rn.extractedUrl),Gn.message,Gn.cancellationCode)),function Po(He){return Ua(He)&&bn(He.url)}(Gn)?this.events.next(new ua(Gn.url,Gn.navigationBehaviorOptions)):rn.resolve(!1);else{const zr=new bi(rn.id,this.urlSerializer.serialize(rn.extractedUrl),Gn,rn.targetSnapshot??void 0);try{const Fi=(0,p.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(zr));if(Fi instanceof xa){const{message:ao,cancellationCode:yi}=ea(0,Fi);this.events.next(new ti(rn.id,this.urlSerializer.serialize(rn.extractedUrl),ao,yi)),this.events.next(new ua(Fi.redirectTo,Fi.navigationBehaviorOptions))}else{this.events.next(zr);const ao=qe.errorHandler(Gn);rn.resolve(!!ao)}}catch(Fi){this.options.resolveNavigationPromiseOnError?rn.resolve(!1):rn.reject(Fi)}}return j.w}))}))}cancelNavigationTransition(qe,yt,Rt){const rn=new ti(qe.id,this.urlSerializer.serialize(qe.extractedUrl),yt,Rt);this.events.next(rn),qe.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const qe=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),yt=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return qe.toString()!==yt?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(yt){return new(yt||He)};static#t=this.\u0275prov=p.jDH({token:He,factory:He.\u0275fac,providedIn:"root"})}return He})();function tr(He){return He!==Dn}let wr=(()=>{class He{static#e=this.\u0275fac=function(yt){return new(yt||He)};static#t=this.\u0275prov=p.jDH({token:He,factory:()=>(0,p.WQX)(xs),providedIn:"root"})}return He})();class Zr{shouldDetach(ut){return!1}store(ut,qe){}shouldAttach(ut){return!1}retrieve(ut){return null}shouldReuseRoute(ut,qe){return ut.routeConfig===qe.routeConfig}}let xs=(()=>{class He extends Zr{static#e=this.\u0275fac=(()=>{let qe;return function(Rt){return(qe||(qe=p.xGo(He)))(Rt||He)}})();static#t=this.\u0275prov=p.jDH({token:He,factory:He.\u0275fac,providedIn:"root"})}return He})(),$i=(()=>{class He{static#e=this.\u0275fac=function(yt){return new(yt||He)};static#t=this.\u0275prov=p.jDH({token:He,factory:()=>(0,p.WQX)(Wo),providedIn:"root"})}return He})(),Wo=(()=>{class He extends $i{constructor(){super(...arguments),this.location=(0,p.WQX)(J.aZ),this.urlSerializer=(0,p.WQX)(Qe),this.options=(0,p.WQX)(Nl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,p.WQX)(Mf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new w,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=mc(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(qe){return this.location.subscribe(yt=>{"popstate"===yt.type&&qe(yt.url,yt.state)})}handleRouterEvent(qe,yt){if(qe instanceof Sr)this.stateMemento=this.createStateMemento();else if(qe instanceof xo)this.rawUrlTree=yt.initialUrl;else if(qe instanceof Ao){if("eager"===this.urlUpdateStrategy&&!yt.extras.skipLocationChange){const Rt=this.urlHandlingStrategy.merge(yt.finalUrl,yt.initialUrl);this.setBrowserUrl(yt.targetBrowserUrl??Rt,yt)}}else qe instanceof ps?(this.currentUrlTree=yt.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(yt.finalUrl,yt.initialUrl),this.routerState=yt.targetRouterState,"deferred"===this.urlUpdateStrategy&&!yt.extras.skipLocationChange&&this.setBrowserUrl(yt.targetBrowserUrl??this.rawUrlTree,yt)):qe instanceof ti&&(qe.code===Fr.GuardRejected||qe.code===Fr.NoDataFromResolver)?this.restoreHistory(yt):qe instanceof bi?this.restoreHistory(yt,!0):qe instanceof xr&&(this.lastSuccessfulId=qe.id,this.currentPageId=this.browserPageId)}setBrowserUrl(qe,yt){const Rt=qe instanceof w?this.urlSerializer.serialize(qe):qe;if(this.location.isCurrentPathEqualTo(Rt)||yt.extras.replaceUrl){const An={...yt.extras.state,...this.generateNgRouterState(yt.id,this.browserPageId)};this.location.replaceState(Rt,"",An)}else{const rn={...yt.extras.state,...this.generateNgRouterState(yt.id,this.browserPageId+1)};this.location.go(Rt,"",rn)}}restoreHistory(qe,yt=!1){if("computed"===this.canceledNavigationResolution){const rn=this.currentPageId-this.browserPageId;0!==rn?this.location.historyGo(rn):this.currentUrlTree===qe.finalUrl&&0===rn&&(this.resetState(qe),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(yt&&this.resetState(qe),this.resetUrlToCurrentUrlTree())}resetState(qe){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,qe.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(qe,yt){return"computed"===this.canceledNavigationResolution?{navigationId:qe,\u0275routerPageId:yt}:{navigationId:qe}}static#e=this.\u0275fac=(()=>{let qe;return function(Rt){return(qe||(qe=p.xGo(He)))(Rt||He)}})();static#t=this.\u0275prov=p.jDH({token:He,factory:He.\u0275fac,providedIn:"root"})}return He})();var Ir=function(He){return He[He.COMPLETE=0]="COMPLETE",He[He.FAILED=1]="FAILED",He[He.REDIRECTING=2]="REDIRECTING",He}(Ir||{});function qo(He,ut){He.events.pipe((0,de.p)(qe=>qe instanceof xr||qe instanceof ti||qe instanceof bi||qe instanceof xo),(0,Y.T)(qe=>qe instanceof xr||qe instanceof xo?Ir.COMPLETE:qe instanceof ti&&(qe.code===Fr.Redirect||qe.code===Fr.SupersededByNewNavigation)?Ir.REDIRECTING:Ir.FAILED),(0,de.p)(qe=>qe!==Ir.REDIRECTING),(0,ae.s)(1)).subscribe(()=>{ut()})}function Io(He){throw He}const Ss={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ms=(()=>{class He{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,p.WQX)(p.H3F),this.stateManager=(0,p.WQX)($i),this.options=(0,p.WQX)(Nl,{optional:!0})||{},this.pendingTasks=(0,p.WQX)(p.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,p.WQX)(Sn),this.urlSerializer=(0,p.WQX)(Qe),this.location=(0,p.WQX)(J.aZ),this.urlHandlingStrategy=(0,p.WQX)(Mf),this._events=new re.B,this.errorHandler=this.options.errorHandler||Io,this.navigated=!1,this.routeReuseStrategy=(0,p.WQX)(wr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,p.WQX)(hl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,p.WQX)(Kn,{optional:!0}),this.eventsSubscription=new te.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:qe=>{this.console.warn(qe)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const qe=this.navigationTransitions.events.subscribe(yt=>{try{const Rt=this.navigationTransitions.currentTransition,rn=this.navigationTransitions.currentNavigation;if(null!==Rt&&null!==rn)if(this.stateManager.handleRouterEvent(yt,rn),yt instanceof ti&&yt.code!==Fr.Redirect&&yt.code!==Fr.SupersededByNewNavigation)this.navigated=!0;else if(yt instanceof xr)this.navigated=!0;else if(yt instanceof ua){const An=yt.navigationBehaviorOptions,ar=this.urlHandlingStrategy.merge(yt.url,Rt.currentRawUrl),Gn={browserUrl:Rt.extras.browserUrl,info:Rt.extras.info,skipLocationChange:Rt.extras.skipLocationChange,replaceUrl:Rt.extras.replaceUrl||"eager"===this.urlUpdateStrategy||tr(Rt.source),...An};this.scheduleNavigation(ar,Dn,null,Gn,{resolve:Rt.resolve,reject:Rt.reject,promise:Rt.promise})}(function Sa(He){return!(He instanceof ps||He instanceof ua)})(yt)&&this._events.next(yt)}catch(Rt){this.navigationTransitions.transitionAbortSubject.next(Rt)}});this.eventsSubscription.add(qe)}resetRootComponentType(qe){this.routerState.root.component=qe,this.navigationTransitions.rootComponentType=qe}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Dn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((qe,yt)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(qe,"popstate",yt)},0)})}navigateToSyncWithBrowser(qe,yt,Rt){const rn={replaceUrl:!0},An=Rt?.navigationId?Rt:null;if(Rt){const Gn={...Rt};delete Gn.navigationId,delete Gn.\u0275routerPageId,0!==Object.keys(Gn).length&&(rn.state=Gn)}const ar=this.parseUrl(qe);this.scheduleNavigation(ar,yt,An,rn)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(qe){this.config=qe.map(eo),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(qe,yt={}){const{relativeTo:Rt,queryParams:rn,fragment:An,queryParamsHandling:ar,preserveFragment:Gn}=yt,zr=Gn?this.currentUrlTree.fragment:An;let ao,Fi=null;switch(ar){case"merge":Fi={...this.currentUrlTree.queryParams,...rn};break;case"preserve":Fi=this.currentUrlTree.queryParams;break;default:Fi=rn||null}null!==Fi&&(Fi=this.removeEmptyProps(Fi));try{ao=Ar(Rt?Rt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof qe[0]||"/"!==qe[0][0])&&(qe=[]),ao=this.currentUrlTree.root}return Jn(ao,qe,Fi,zr??null)}navigateByUrl(qe,yt={skipLocationChange:!1}){const Rt=bn(qe)?qe:this.parseUrl(qe),rn=this.urlHandlingStrategy.merge(Rt,this.rawUrlTree);return this.scheduleNavigation(rn,Dn,null,yt)}navigate(qe,yt={skipLocationChange:!1}){return function fd(He){for(let ut=0;ut<He.length;ut++)if(null==He[ut])throw new p.wOt(4008,!1)}(qe),this.navigateByUrl(this.createUrlTree(qe,yt),yt)}serializeUrl(qe){return this.urlSerializer.serialize(qe)}parseUrl(qe){try{return this.urlSerializer.parse(qe)}catch{return this.urlSerializer.parse("/")}}isActive(qe,yt){let Rt;if(Rt=!0===yt?{...Ss}:!1===yt?{...pl}:yt,bn(qe))return Ue(this.currentUrlTree,qe,Rt);const rn=this.parseUrl(qe);return Ue(this.currentUrlTree,rn,Rt)}removeEmptyProps(qe){return Object.entries(qe).reduce((yt,[Rt,rn])=>(null!=rn&&(yt[Rt]=rn),yt),{})}scheduleNavigation(qe,yt,Rt,rn,An){if(this.disposed)return Promise.resolve(!1);let ar,Gn,zr;An?(ar=An.resolve,Gn=An.reject,zr=An.promise):zr=new Promise((ao,yi)=>{ar=ao,Gn=yi});const Fi=this.pendingTasks.add();return qo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Fi))}),this.navigationTransitions.handleNavigationRequest({source:yt,restoredState:Rt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:qe,extras:rn,resolve:ar,reject:Gn,promise:zr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),zr.catch(ao=>Promise.reject(ao))}static#e=this.\u0275fac=function(yt){return new(yt||He)};static#t=this.\u0275prov=p.jDH({token:He,factory:He.\u0275fac,providedIn:"root"})}return He})(),$a=(()=>{class He{constructor(qe,yt,Rt,rn,An,ar){this.router=qe,this.route=yt,this.tabIndexAttribute=Rt,this.renderer=rn,this.el=An,this.locationStrategy=ar,this.href=null,this.onChanges=new re.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Gn=An.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Gn||"area"===Gn,this.isAnchorElement?this.subscription=qe.events.subscribe(zr=>{zr instanceof xr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(qe){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",qe)}ngOnChanges(qe){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(qe){null==qe?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=bn(qe)||Array.isArray(qe)?qe:[qe],this.setTabIndexIfNotOnNativeEl("0"))}onClick(qe,yt,Rt,rn,An){const ar=this.urlTree;return!!(null===ar||this.isAnchorElement&&(0!==qe||yt||Rt||rn||An||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(ar,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const qe=this.urlTree;this.href=null!==qe&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(qe)):null;const yt=null===this.href?null:(0,p.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",yt)}applyAttributeValue(qe,yt){const Rt=this.renderer,rn=this.el.nativeElement;null!==yt?Rt.setAttribute(rn,qe,yt):Rt.removeAttribute(rn,qe)}get urlTree(){return null===this.routerLinkInput?null:bn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(yt){return new(yt||He)(p.rXU(Ms),p.rXU(uo),p.kS0("tabindex"),p.rXU(p.sFG),p.rXU(p.aKT),p.rXU(J.hb))};static#t=this.\u0275dir=p.FsC({type:He,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(yt,Rt){1&yt&&p.bIt("click",function(An){return Rt.onClick(An.button,An.ctrlKey,An.shiftKey,An.altKey,An.metaKey)}),2&yt&&p.BMQ("target",Rt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",p.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",p.L39],replaceUrl:[2,"replaceUrl","replaceUrl",p.L39],routerLink:"routerLink"},standalone:!0,features:[p.GFd,p.OA$]})}return He})(),Oc=(()=>{class He{get isActive(){return this._isActive}constructor(qe,yt,Rt,rn,An){this.router=qe,this.element=yt,this.renderer=Rt,this.cdr=rn,this.link=An,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new p.bkB,this.routerEventsSubscription=qe.events.subscribe(ar=>{ar instanceof xr&&this.update()})}ngAfterContentInit(){(0,H.of)(this.links.changes,(0,H.of)(null)).pipe((0,_e.U)()).subscribe(qe=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const qe=[...this.links.toArray(),this.link].filter(yt=>!!yt).map(yt=>yt.onChanges);this.linkInputChangesSubscription=(0,k.H)(qe).pipe((0,_e.U)()).subscribe(yt=>{this._isActive!==this.isLinkActive(this.router)(yt)&&this.update()})}set routerLinkActive(qe){const yt=Array.isArray(qe)?qe:qe.split(" ");this.classes=yt.filter(Rt=>!!Rt)}ngOnChanges(qe){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const qe=this.hasActiveLinks();this.classes.forEach(yt=>{qe?this.renderer.addClass(this.element.nativeElement,yt):this.renderer.removeClass(this.element.nativeElement,yt)}),qe&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==qe&&(this._isActive=qe,this.cdr.markForCheck(),this.isActiveChange.emit(qe))})}isLinkActive(qe){const yt=function ml(He){return!!He.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Rt=>{const rn=Rt.urlTree;return!!rn&&qe.isActive(rn,yt)}}hasActiveLinks(){const qe=this.isLinkActive(this.router);return this.link&&qe(this.link)||this.links.some(qe)}static#e=this.\u0275fac=function(yt){return new(yt||He)(p.rXU(Ms),p.rXU(p.aKT),p.rXU(p.sFG),p.rXU(p.gRc),p.rXU($a,8))};static#t=this.\u0275dir=p.FsC({type:He,selectors:[["","routerLinkActive",""]],contentQueries:function(yt,Rt,rn){if(1&yt&&p.wni(rn,$a,5),2&yt){let An;p.mGM(An=p.lsd())&&(Rt.links=An)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[p.OA$]})}return He})();class yl{}let Ru=(()=>{class He{preload(qe,yt){return yt().pipe((0,T.W)(()=>(0,H.of)(null)))}static#e=this.\u0275fac=function(yt){return new(yt||He)};static#t=this.\u0275prov=p.jDH({token:He,factory:He.\u0275fac,providedIn:"root"})}return He})(),vc=(()=>{class He{constructor(qe,yt,Rt,rn,An){this.router=qe,this.injector=Rt,this.preloadingStrategy=rn,this.loader=An}setUpPreloading(){this.subscription=this.router.events.pipe((0,de.p)(qe=>qe instanceof xr),(0,g.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(qe,yt){const Rt=[];for(const rn of yt){rn.providers&&!rn._injector&&(rn._injector=(0,p.Ol2)(rn.providers,qe,`Route: ${rn.path}`));const An=rn._injector??qe,ar=rn._loadedInjector??An;(rn.loadChildren&&!rn._loadedRoutes&&void 0===rn.canLoad||rn.loadComponent&&!rn._loadedComponent)&&Rt.push(this.preloadConfig(An,rn)),(rn.children||rn._loadedRoutes)&&Rt.push(this.processRoutes(ar,rn.children??rn._loadedRoutes))}return(0,k.H)(Rt).pipe((0,_e.U)())}preloadConfig(qe,yt){return this.preloadingStrategy.preload(yt,()=>{let Rt;Rt=yt.loadChildren&&void 0===yt.canLoad?this.loader.loadChildren(qe,yt):(0,H.of)(null);const rn=Rt.pipe((0,le.Z)(An=>null===An?(0,H.of)(void 0):(yt._loadedRoutes=An.routes,yt._loadedInjector=An.injector,this.processRoutes(An.injector??qe,An.routes))));if(yt.loadComponent&&!yt._loadedComponent){const An=this.loader.loadComponent(yt);return(0,k.H)([rn,An]).pipe((0,_e.U)())}return rn})}static#e=this.\u0275fac=function(yt){return new(yt||He)(p.KVO(Ms),p.KVO(p.Ql9),p.KVO(p.uvJ),p.KVO(yl),p.KVO(Pc))};static#t=this.\u0275prov=p.jDH({token:He,factory:He.\u0275fac,providedIn:"root"})}return He})();const Ld=new p.nKC("");let Af=(()=>{class He{constructor(qe,yt,Rt,rn,An={}){this.urlSerializer=qe,this.transitions=yt,this.viewportScroller=Rt,this.zone=rn,this.options=An,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},An.scrollPositionRestoration||="disabled",An.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(qe=>{qe instanceof Sr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=qe.navigationTrigger,this.restoredId=qe.restoredState?qe.restoredState.navigationId:0):qe instanceof xr?(this.lastId=qe.id,this.scheduleScrollEvent(qe,this.urlSerializer.parse(qe.urlAfterRedirects).fragment)):qe instanceof xo&&qe.code===jr.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(qe,this.urlSerializer.parse(qe.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(qe=>{qe instanceof Ki&&(qe.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(qe.position):qe.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(qe.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(qe,yt){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ki(qe,"popstate"===this.lastSource?this.store[this.restoredId]:null,yt))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(yt){p.QTQ()};static#t=this.\u0275prov=p.jDH({token:He,factory:He.\u0275fac})}return He})();function mt(He,...ut){return(0,p.EmA)([{provide:hl,multi:!0,useValue:He},[],{provide:uo,useFactory:tt,deps:[Ms]},{provide:p.iLQ,multi:!0,useFactory:Vn},ut.map(qe=>qe.\u0275providers)])}function tt(He){return He.routerState.root}function Ye(He,ut){return{\u0275kind:He,\u0275providers:ut}}function Vn(){const He=(0,p.WQX)(p.zZn);return ut=>{const qe=He.get(p.o8S);if(ut!==qe.components[0])return;const yt=He.get(Ms),Rt=He.get(or);1===He.get(ur)&&yt.initialNavigation(),He.get(Me,null,p.$GK.Optional)?.setUpPreloading(),He.get(Ld,null,p.$GK.Optional)?.init(),yt.resetRootComponentType(qe.componentTypes[0]),Rt.closed||(Rt.next(),Rt.complete(),Rt.unsubscribe())}}const or=new p.nKC("",{factory:()=>new re.B}),ur=new p.nKC("",{providedIn:"root",factory:()=>1}),Me=new p.nKC("");function me(He){return Ye(0,[{provide:Me,useExisting:vc},{provide:yl,useExisting:He}])}function jt(He){return Ye(9,[{provide:ch,useValue:Xt},{provide:it,useValue:{skipNextTransition:!!He?.skipInitialTransition,...He}}])}const Ht=new p.nKC("ROUTER_FORROOT_GUARD"),bt=[J.aZ,{provide:Qe,useClass:Bt},Ms,dl,{provide:uo,useFactory:tt,deps:[Ms]},Pc,[]];let nn=(()=>{class He{constructor(qe){}static forRoot(qe,yt){return{ngModule:He,providers:[bt,[],{provide:hl,multi:!0,useValue:qe},{provide:Ht,useFactory:hi,deps:[[Ms,new p.Xx1,new p.kdw]]},{provide:Nl,useValue:yt||{}},yt?.useHash?{provide:J.hb,useClass:J.fw}:{provide:J.hb,useClass:J.Sm},{provide:Ld,useFactory:()=>{const He=(0,p.WQX)(J.Xr),ut=(0,p.WQX)(p.SKi),qe=(0,p.WQX)(Nl),yt=(0,p.WQX)(Sn),Rt=(0,p.WQX)(Qe);return qe.scrollOffset&&He.setOffset(qe.scrollOffset),new Af(Rt,yt,He,ut,qe)}},yt?.preloadingStrategy?me(yt.preloadingStrategy).\u0275providers:[],yt?.initialNavigation?Oi(yt):[],yt?.bindToComponentInputs?Ye(8,[ir,{provide:Kn,useExisting:ir}]).\u0275providers:[],yt?.enableViewTransitions?jt().\u0275providers:[],[{provide:Vo,useFactory:Vn},{provide:p.iLQ,multi:!0,useExisting:Vo}]]}}static forChild(qe){return{ngModule:He,providers:[{provide:hl,multi:!0,useValue:qe}]}}static#e=this.\u0275fac=function(yt){return new(yt||He)(p.KVO(Ht,8))};static#t=this.\u0275mod=p.$C({type:He});static#n=this.\u0275inj=p.G2t({})}return He})();function hi(He){return"guarded"}function Oi(He){return["disabled"===He.initialNavigation?Ye(3,[{provide:p.hnV,multi:!0,useFactory:()=>{const ut=(0,p.WQX)(Ms);return()=>{ut.setUpLocationChangeListener()}}},{provide:ur,useValue:2}]).\u0275providers:[],"enabledBlocking"===He.initialNavigation?Ye(2,[{provide:ur,useValue:0},{provide:p.hnV,multi:!0,deps:[p.zZn],useFactory:ut=>{const qe=ut.get(J.hj,Promise.resolve());return()=>qe.then(()=>new Promise(yt=>{const Rt=ut.get(Ms),rn=ut.get(or);qo(Rt,()=>{yt(!0)}),ut.get(Sn).afterPreactivation=()=>(yt(!0),rn.closed?(0,H.of)(void 0):rn),Rt.initialNavigation()}))}}]).\u0275providers:[]]}const Vo=new p.nKC("")},52039:(Fe,z,_)=>{"use strict";_.d(z,{oU:()=>Qt,Q2:()=>sr});class E extends Error{constructor(nt,Vt){super(`${nt}: ${Vt}`),this.code=nt,Object.setPrototypeOf(this,new.target.prototype)}}new Uint8Array(0);class I{constructor(nt,Vt,Ot){this.name=nt,this.prefix=Vt,this.baseEncode=Ot}encode(nt){if(nt instanceof Uint8Array)return`${this.prefix}${this.baseEncode(nt)}`;throw Error("Unknown type, must be binary type")}}class Z{constructor(nt,Vt,Ot){if(this.name=nt,this.prefix=Vt,void 0===Vt.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=Vt.codePointAt(0),this.baseDecode=Ot}decode(nt){if("string"==typeof nt){if(nt.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(nt)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(nt.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(nt){return G(this,nt)}}class j{constructor(nt){this.decoders=nt}or(nt){return G(this,nt)}decode(nt){const Ot=this.decoders[nt[0]];if(Ot)return Ot.decode(nt);throw RangeError(`Unable to decode multibase string ${JSON.stringify(nt)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const G=(Xe,nt)=>new j({...Xe.decoders||{[Xe.prefix]:Xe},...nt.decoders||{[nt.prefix]:nt}});class re{constructor(nt,Vt,Ot,sn){this.name=nt,this.prefix=Vt,this.baseEncode=Ot,this.baseDecode=sn,this.encoder=new I(nt,Vt,Ot),this.decoder=new Z(nt,Vt,sn)}encode(nt){return this.encoder.encode(nt)}decode(nt){return this.decoder.decode(nt)}}const ae=({name:Xe,prefix:nt,bitsPerChar:Vt,alphabet:Ot})=>(({name:Xe,prefix:nt,encode:Vt,decode:Ot})=>new re(Xe,nt,Vt,Ot))({prefix:nt,name:Xe,encode:sn=>((Xe,nt,Vt)=>{const Ot="="===nt[nt.length-1],sn=(1<<Vt)-1;let Hn="",bn=0,In=0;for(let Ar=0;Ar<Xe.length;++Ar)for(In=In<<8|Xe[Ar],bn+=8;bn>Vt;)bn-=Vt,Hn+=nt[sn&In>>bn];if(bn&&(Hn+=nt[sn&In<<Vt-bn]),Ot)for(;Hn.length*Vt&7;)Hn+="=";return Hn})(sn,Ot,Vt),decode:sn=>((Xe,nt,Vt,Ot)=>{const sn={};for(let Ln=0;Ln<nt.length;++Ln)sn[nt[Ln]]=Ln;let Hn=Xe.length;for(;"="===Xe[Hn-1];)--Hn;const bn=new Uint8Array(Hn*Vt/8|0);let In=0,Ar=0,Jn=0;for(let Ln=0;Ln<Hn;++Ln){const $n=sn[Xe[Ln]];if(void 0===$n)throw new SyntaxError(`Non-${Ot} character`);Ar=Ar<<Vt|$n,In+=Vt,In>=8&&(In-=8,bn[Jn++]=255&Ar>>In)}if(In>=Vt||255&Ar<<8-In)throw new SyntaxError("Unexpected end of data");return bn})(sn,Ot,Vt,Xe)}),le=(ae({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ae({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ae({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}));ae({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});class xe{static encode(nt){return le.baseEncode(nt)}static decodeAsBytes(nt,Vt){if(!xe.isBase64UrlString(nt))throw new E("EncodedStringIncorrectEncoding",`Given ${Vt} must be base64url string.`);return le.baseDecode(nt)}static decodeAsString(nt,Vt){const Ot=xe.decodeAsBytes(nt,Vt);return xe.bytesToString(Ot)}static isBase64UrlString(nt){return/^[A-Za-z0-9_-]+$/.test(nt)}static stringToBytes(nt){return(new TextEncoder).encode(nt)}static bytesToString(nt){return(new TextDecoder).decode(nt)}}var Ce=_(95568),C=function(Xe){return Xe.Public="public",Xe.Private="private",Xe}(C||{});const a=C;class u{static validateEs256kOperationKey(nt,Vt){const Ot=new Set(["kty","crv","x","y"]);Vt===a.Private&&Ot.add("d");for(const sn in nt)if(!Ot.has(sn))throw new E("PublicKeyJwkEs256kHasUnexpectedProperty",`SECP256K1 JWK key has unexpected property '${sn}'.`);if("secp256k1"!==nt.crv)throw new E("JwkEs256kMissingOrInvalidCrv",`SECP256K1 JWK 'crv' property must be 'secp256k1' but got '${nt.crv}.'`);if("EC"!==nt.kty)throw new E("JwkEs256kMissingOrInvalidKty",`SECP256K1 JWK 'kty' property must be 'EC' but got '${nt.kty}.'`);if(43!==nt.x.length)throw new E("JwkEs256kHasIncorrectLengthOfX","SECP256K1 JWK 'x' property must be 43 bytes.");if(43!==nt.y.length)throw new E("JwkEs256kHasIncorrectLengthOfY","SECP256K1 JWK 'y' property must be 43 bytes.");if(Vt===a.Private&&(void 0===nt.d||43!==nt.d.length))throw new E("JwkEs256kHasIncorrectLengthOfD","SECP256K1 JWK 'd' property must be 43 bytes.")}static validateId(nt){if(nt.length>50)throw new E("IdTooLong",`Key ID length ${nt.length} exceed max allowed length of 50.`);if(!xe.isBase64UrlString(nt))throw new E("IdNotUsingBase64UrlCharacterSet",`Key ID '${nt}' is not a Base64URL string.`)}static validatePublicKeyPurposes(nt){if(void 0===nt)return;const Vt=new Set;for(const Ot of nt){if(Vt.has(Ot))throw new E("PublicKeyPurposeDuplicated",`Public key purpose '${Ot}' already specified.`);Vt.add(Ot)}}}const g=(()=>{class Xe{}return Xe.hashAlgorithmInMultihashCode=18,Xe.maxCanonicalizedDeltaSizeInBytes=1e3,Xe})();var S=_(28846);class T{static canonicalizeAsBytes(nt){const Vt=T.removeAllUndefinedProperties(nt),Ot=S(Vt);return xe.stringToBytes(Ot)}static removeAllUndefinedProperties(nt){for(const Vt in nt)"object"==typeof nt[Vt]?T.removeAllUndefinedProperties(nt[Vt]):void 0===nt[Vt]&&delete nt[Vt];return nt}}var M=128,v=-128,W=Math.pow(2,31),ce=128,_e=127,$e=Math.pow(2,7),Se=Math.pow(2,14),be=Math.pow(2,21),Ne=Math.pow(2,28),ye=Math.pow(2,35),Te=Math.pow(2,42),pe=Math.pow(2,49),fe=Math.pow(2,56),Q=Math.pow(2,63);const ke={encode:function K(Xe,nt,Vt){nt=nt||[];for(var Ot=Vt=Vt||0;Xe>=W;)nt[Vt++]=255&Xe|M,Xe/=128;for(;Xe&v;)nt[Vt++]=255&Xe|M,Xe>>>=7;return nt[Vt]=0|Xe,K.bytes=Vt-Ot+1,nt},decode:function Pe(Xe,Ot){var bn,Vt=0,sn=0,Hn=Ot=Ot||0,In=Xe.length;do{if(Hn>=In)throw Pe.bytes=0,new RangeError("Could not decode varint");bn=Xe[Hn++],Vt+=sn<28?(bn&_e)<<sn:(bn&_e)*Math.pow(2,sn),sn+=7}while(bn>=ce);return Pe.bytes=Hn-Ot,Vt},encodingLength:function(Xe){return Xe<$e?1:Xe<Se?2:Xe<be?3:Xe<Ne?4:Xe<ye?5:Xe<Te?6:Xe<pe?7:Xe<fe?8:Xe<Q?9:10}},Ue=(Xe,nt=0)=>[ke.decode(Xe,nt),ke.decode.bytes],Le=(Xe,nt,Vt=0)=>(ke.encode(Xe,nt,Vt),nt),_t=Xe=>ke.encodingLength(Xe),Ve=(Xe,nt)=>{const Vt=nt.byteLength,Ot=_t(Xe),sn=Ot+_t(Vt),Hn=new Uint8Array(sn+Vt);return Le(Xe,Hn,0),Le(Vt,Hn,Ot),Hn.set(nt,sn),new B(Xe,Vt,nt,Hn)};class B{constructor(nt,Vt,Ot,sn){this.code=nt,this.size=Vt,this.digest=Ot,this.bytes=sn}}var w=_(10467);const m=({name:Xe,code:nt,encode:Vt})=>new U(Xe,nt,Vt);class U{constructor(nt,Vt,Ot){this.name=nt,this.code=Vt,this.encode=Ot}digest(nt){if(nt instanceof Uint8Array){const Vt=this.encode(nt);return Vt instanceof Uint8Array?Ve(this.code,Vt):Vt.then(Ot=>Ve(this.code,Ot))}throw Error("Unknown type, must be binary type")}}const ne=Xe=>function(){var nt=(0,w.A)(function*(Vt){return new Uint8Array(yield crypto.subtle.digest(Xe,Vt))});return function(Vt){return nt.apply(this,arguments)}}(),ge=m({name:"sha2-256",code:18,encode:ne("SHA-256")});m({name:"sha2-512",code:19,encode:ne("SHA-512")});var Qe=function(Xe,nt,Vt,Ot){return new(Vt||(Vt=Promise))(function(Hn,bn){function In(Ln){try{Jn(Ot.next(Ln))}catch($n){bn($n)}}function Ar(Ln){try{Jn(Ot.throw(Ln))}catch($n){bn($n)}}function Jn(Ln){Ln.done?Hn(Ln.value):function sn(Hn){return Hn instanceof Vt?Hn:new Vt(function(bn){bn(Hn)})}(Ln.value).then(In,Ar)}Jn((Ot=Ot.apply(Xe,nt||[])).next())})};class Bt{static hash(nt,Vt){return Qe(this,void 0,void 0,function*(){let Ot;if(18!==Vt)throw new E("MultihashUnsupportedHashAlgorithm",`Hash algorithm defined in multihash code ${Vt} is not supported.`);return Ot=(yield ge.digest(nt)).bytes,Ot})}static hashAsNonMultihashBytes(nt,Vt){return Qe(this,void 0,void 0,function*(){let Ot;if(18!==Vt)throw new E("MultihashUnsupportedHashAlgorithm",`Hash algorithm defined in multihash code ${Vt} is not supported.`);return Ot=yield ge.encode(nt),Ot})}static canonicalizeThenHashThenEncode(nt,Vt){return Qe(this,void 0,void 0,function*(){const Ot=T.canonicalizeAsBytes(nt);return yield Bt.hashThenEncode(Ot,Vt)})}static canonicalizeThenDoubleHashThenEncode(nt,Vt){return Qe(this,void 0,void 0,function*(){const Ot=T.canonicalizeAsBytes(nt),sn=yield Bt.hashAsNonMultihashBytes(Ot,Vt);return yield Bt.hashThenEncode(sn,Vt)})}static hashThenEncode(nt,Vt){return Qe(this,void 0,void 0,function*(){const Ot=yield Bt.hash(nt,Vt);return xe.encode(Ot)})}static validateEncodedHashComputedUsingSupportedHashAlgorithm(nt,Vt){let Ot;const sn=xe.decodeAsBytes(nt,Vt);try{Ot=(Xe=>{const nt=(Xe=>{if(Xe instanceof Uint8Array&&"Uint8Array"===Xe.constructor.name)return Xe;if(Xe instanceof ArrayBuffer)return new Uint8Array(Xe);if(ArrayBuffer.isView(Xe))return new Uint8Array(Xe.buffer,Xe.byteOffset,Xe.byteLength);throw new Error("Unknown type, must be binary type")})(Xe),[Vt,Ot]=Ue(nt),[sn,Hn]=Ue(nt.subarray(Ot)),bn=nt.subarray(Ot+Hn);if(bn.byteLength!==sn)throw new Error("Incorrect length");return new B(Vt,sn,bn,nt)})(sn)}catch{throw new E("MultihashStringNotAMultihash",`Given ${Vt} string '${nt}' is not a multihash after decoding.`)}const Hn=g.hashAlgorithmInMultihashCode;if(Hn!==Ot.code)throw new E("MultihashUnsupportedHashAlgorithm",`Given ${Vt} uses unsupported multihash algorithm with code ${Ot.code}, should use ${Hn} or change IonSdkConfig to desired hashing algorithm.`)}}var gt=function(Xe){return Xe.Create="create",Xe.Update="update",Xe.Deactivate="deactivate",Xe.Recover="recover",Xe}(gt||{});const It=gt;var Gt=function(Xe){return Xe.Replace="replace",Xe.AddPublicKeys="add-public-keys",Xe.RemovePublicKeys="remove-public-keys",Xe.AddServices="add-services",Xe.RemoveServices="remove-services",Xe}(Gt||{});const un=Gt;var an=function(Xe,nt,Vt,Ot){return new(Vt||(Vt=Promise))(function(Hn,bn){function In(Ln){try{Jn(Ot.next(Ln))}catch($n){bn($n)}}function Ar(Ln){try{Jn(Ot.throw(Ln))}catch($n){bn($n)}}function Jn(Ln){Ln.done?Hn(Ln.value):function sn(Hn){return Hn instanceof Vt?Hn:new Vt(function(bn){bn(Hn)})}(Ln.value).then(In,Ar)}Jn((Ot=Ot.apply(Xe,nt||[])).next())})};class sr{static createCreateRequest(nt){return an(this,void 0,void 0,function*(){const Vt=nt.recoveryKey,Ot=nt.updateKey,sn=nt.document.publicKeys,Hn=nt.document.services;u.validateEs256kOperationKey(Vt,a.Public),u.validateEs256kOperationKey(Ot,a.Public),sr.validateDidDocumentKeys(sn),sr.validateServices(Hn);const bn=g.hashAlgorithmInMultihashCode,In=[{action:un.Replace,document:nt.document}],Ar={updateCommitment:yield Bt.canonicalizeThenDoubleHashThenEncode(Ot,bn),patches:In};sr.validateDeltaSize(Ar);const Ln={deltaHash:yield Bt.canonicalizeThenHashThenEncode(Ar,bn),recoveryCommitment:yield Bt.canonicalizeThenDoubleHashThenEncode(Vt,bn)};return{type:It.Create,suffixData:Ln,delta:Ar}})}static createDeactivateRequest(nt){return an(this,void 0,void 0,function*(){sr.validateDidSuffix(nt.didSuffix),u.validateEs256kOperationKey(nt.recoveryPublicKey,a.Public);const Vt=g.hashAlgorithmInMultihashCode,Ot=yield Bt.canonicalizeThenHashThenEncode(nt.recoveryPublicKey,Vt),sn={didSuffix:nt.didSuffix,recoveryKey:nt.recoveryPublicKey},Hn=yield nt.signer.sign({alg:"ES256K"},sn);return{type:It.Deactivate,didSuffix:nt.didSuffix,revealValue:Ot,signedData:Hn}})}static createRecoverRequest(nt){return an(this,void 0,void 0,function*(){sr.validateDidSuffix(nt.didSuffix),u.validateEs256kOperationKey(nt.recoveryPublicKey,a.Public),u.validateEs256kOperationKey(nt.nextRecoveryPublicKey,a.Public),u.validateEs256kOperationKey(nt.nextUpdatePublicKey,a.Public),sr.validateDidDocumentKeys(nt.document.publicKeys),sr.validateServices(nt.document.services);const Vt=g.hashAlgorithmInMultihashCode,Ot=yield Bt.canonicalizeThenHashThenEncode(nt.recoveryPublicKey,Vt),bn={patches:[{action:un.Replace,document:nt.document}],updateCommitment:yield Bt.canonicalizeThenDoubleHashThenEncode(nt.nextUpdatePublicKey,Vt)},In=yield Bt.canonicalizeThenHashThenEncode(bn,Vt),Jn={recoveryCommitment:yield Bt.canonicalizeThenDoubleHashThenEncode(nt.nextRecoveryPublicKey,Vt),recoveryKey:nt.recoveryPublicKey,deltaHash:In},Ln=yield nt.signer.sign({alg:"ES256K"},Jn);return{type:It.Recover,didSuffix:nt.didSuffix,revealValue:Ot,delta:bn,signedData:Ln}})}static createUpdateRequest(nt){return an(this,void 0,void 0,function*(){if(sr.validateDidSuffix(nt.didSuffix),u.validateEs256kOperationKey(nt.updatePublicKey,a.Public),u.validateEs256kOperationKey(nt.nextUpdatePublicKey,a.Public),sr.validateServices(nt.servicesToAdd),sr.validateDidDocumentKeys(nt.publicKeysToAdd),void 0!==nt.idsOfServicesToRemove)for(const ct of nt.idsOfServicesToRemove)u.validateId(ct);if(void 0!==nt.idsOfPublicKeysToRemove)for(const ct of nt.idsOfPublicKeysToRemove)u.validateId(ct);const Vt=[],Ot=nt.servicesToAdd;void 0!==Ot&&Ot.length>0&&Vt.push({action:un.AddServices,services:Ot});const sn=nt.idsOfServicesToRemove;void 0!==sn&&sn.length>0&&Vt.push({action:un.RemoveServices,ids:sn});const Hn=nt.publicKeysToAdd;void 0!==Hn&&Hn.length>0&&Vt.push({action:un.AddPublicKeys,publicKeys:Hn});const bn=nt.idsOfPublicKeysToRemove;void 0!==bn&&bn.length>0&&Vt.push({action:un.RemovePublicKeys,ids:bn});const In=g.hashAlgorithmInMultihashCode,Ar=yield Bt.canonicalizeThenHashThenEncode(nt.updatePublicKey,In),Ln={patches:Vt,updateCommitment:yield Bt.canonicalizeThenDoubleHashThenEncode(nt.nextUpdatePublicKey,In)},$n=yield Bt.canonicalizeThenHashThenEncode(Ln,In),st={updateKey:nt.updatePublicKey,deltaHash:$n},Ge=yield nt.signer.sign({alg:"ES256K"},st);return{type:It.Update,didSuffix:nt.didSuffix,revealValue:Ar,delta:Ln,signedData:Ge}})}static validateDidSuffix(nt){Bt.validateEncodedHashComputedUsingSupportedHashAlgorithm(nt,"didSuffix")}static validateDidDocumentKeys(nt){if(void 0===nt)return;const Vt=new Set;for(const Ot of nt){if(Array.isArray(Ot.publicKeyJwk))throw new E("DidDocumentPublicKeyMissingOrIncorrectType","DID Document key 'publicKeyJwk' property is not a non-array object.");if(u.validateId(Ot.id),Vt.has(Ot.id))throw new E("DidDocumentPublicKeyIdDuplicated",`DID Document key with ID '${Ot.id}' already exists.`);Vt.add(Ot.id),u.validatePublicKeyPurposes(Ot.purposes)}}static validateServices(nt){if(void 0!==nt&&0!==nt.length){const Vt=new Set;for(const Ot of nt){if(sr.validateService(Ot),Vt.has(Ot.id))throw new E("DidDocumentServiceIdDuplicated","Service id has to be unique");Vt.add(Ot.id)}}}static validateService(nt){if(u.validateId(nt.id),nt.type.length>30)throw new E("ServiceTypeTooLong",`Service endpoint type length ${nt.type.length} exceeds max allowed length of 30.`);if(Array.isArray(nt.serviceEndpoint))throw new E("ServiceEndpointCannotBeAnArray","Service endpoint value cannot be an array.");if("string"==typeof nt.serviceEndpoint&&void 0!==Ce.parse(nt.serviceEndpoint).error)throw new E("ServiceEndpointStringNotValidUri",`Service endpoint string '${nt.serviceEndpoint}' is not a URI.`)}static validateDeltaSize(nt){const Vt=T.canonicalizeAsBytes(nt);if(Vt.length>g.maxCanonicalizedDeltaSizeInBytes)throw new E("DeltaExceedsMaximumSize",`Delta of ${Vt.length} bytes exceeded limit of ${g.maxCanonicalizedDeltaSizeInBytes} bytes.`)}}var Mn=function(Xe,nt,Vt,Ot){return new(Vt||(Vt=Promise))(function(Hn,bn){function In(Ln){try{Jn(Ot.next(Ln))}catch($n){bn($n)}}function Ar(Ln){try{Jn(Ot.throw(Ln))}catch($n){bn($n)}}function Jn(Ln){Ln.done?Hn(Ln.value):function sn(Hn){return Hn instanceof Vt?Hn:new Vt(function(bn){bn(Hn)})}(Ln.value).then(In,Ar)}Jn((Ot=Ot.apply(Xe,nt||[])).next())})};class Qt{static createLongFormDid(nt){return Mn(this,void 0,void 0,function*(){const Vt=yield sr.createCreateRequest(nt),Ot=yield Qt.computeDidUniqueSuffix(Vt.suffixData);let sn;sn=void 0===g.network||"mainnet"===g.network?`did:ion:${Ot}`:`did:ion:${g.network}:${Ot}`;const bn=T.canonicalizeAsBytes({suffixData:Vt.suffixData,delta:Vt.delta});return`${sn}:${xe.encode(bn)}`})}static computeDidUniqueSuffix(nt){return Mn(this,void 0,void 0,function*(){const Vt=T.canonicalizeAsBytes(nt),Ot=yield Bt.hash(Vt,g.hashAlgorithmInMultihashCode);return xe.encode(Ot)})}}_(63741),_(68464)},49402:(Fe,z,_)=>{"use strict";_.d(z,{hB:()=>zt,D4:()=>Hn,lF:()=>sn});const p=/^(\d{1,3}\.){3,3}\d{1,3}$/,k=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i,x={name:"v4",size:4,isFormat:st=>p.test(st),encode(st,Ge,ct){ct=~~ct,Ge=Ge||new Uint8Array(ct+4);const Yt=st.length;let _n=0;for(let Wn=0;Wn<Yt;){const Yn=st.charCodeAt(Wn++);46===Yn?(Ge[ct++]=_n,_n=0):_n=10*_n+(Yn-48)}return Ge[ct]=_n,Ge},decode:(st,Ge)=>(Ge=~~Ge,`${st[Ge++]}.${st[Ge++]}.${st[Ge++]}.${st[Ge]}`)},R={name:"v6",size:16,isFormat:st=>st.length>0&&k.test(st),encode(st,Ge,ct){let Yt=16+(ct=~~ct),_n=-1,Wn=0,Yn=0,yr=!0,Nr=!1;Ge=Ge||new Uint8Array(ct+16);for(let Ur=0;Ur<st.length;Ur++){let Kr=st.charCodeAt(Ur);58===Kr?(yr?-1!==_n?(ct<Yt&&(Ge[ct]=0),ct<Yt-1&&(Ge[ct+1]=0),ct+=2):ct<Yt&&(_n=ct):(!0===Nr?(ct<Yt&&(Ge[ct]=Yn),ct++):(ct<Yt&&(Ge[ct]=Wn>>8),ct<Yt-1&&(Ge[ct+1]=255&Wn),ct+=2),Wn=0,Yn=0),yr=!0,Nr=!1):46===Kr?(ct<Yt&&(Ge[ct]=Yn),ct++,Yn=0,Wn=0,yr=!1,Nr=!0):(yr=!1,Kr>=97?Kr-=87:Kr>=65?Kr-=55:(Kr-=48,Yn=10*Yn+Kr),Wn=(Wn<<4)+Kr)}if(!1===yr)!0===Nr?(ct<Yt&&(Ge[ct]=Yn),ct++):(ct<Yt&&(Ge[ct]=Wn>>8),ct<Yt-1&&(Ge[ct+1]=255&Wn),ct+=2);else if(0===_n)ct<Yt&&(Ge[ct]=0),ct<Yt-1&&(Ge[ct+1]=0),ct+=2;else if(-1!==_n){ct+=2;for(let Ur=Math.min(ct-1,Yt-1);Ur>=_n+2;Ur--)Ge[Ur]=Ge[Ur-2];Ge[_n]=0,Ge[_n+1]=0,_n=ct}if(_n!==ct&&-1!==_n)for(ct>Yt-2&&(ct=Yt-2);Yt>_n;)Ge[--Yt]=ct<Yt&&ct>_n?Ge[--ct]:0;else for(;ct<Yt;)Ge[ct++]=0;return Ge},decode(st,Ge){Ge=~~Ge;let ct="";for(let Yt=0;Yt<16;Yt+=2)0!==Yt&&(ct+=":"),ct+=(st[Ge+Yt]<<8|st[Ge+Yt+1]).toString(16);return ct.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}};function O(st){if(x.isFormat(st))return x.size;if(R.isFormat(st))return R.size;throw Error(`Invalid ip address: ${st}`)}function Z(st){switch(st){case 1:return"A";case 10:return"NULL";case 28:return"AAAA";case 18:return"AFSDB";case 42:return"APL";case 257:return"CAA";case 60:return"CDNSKEY";case 59:return"CDS";case 37:return"CERT";case 5:return"CNAME";case 49:return"DHCID";case 32769:return"DLV";case 39:return"DNAME";case 48:return"DNSKEY";case 43:return"DS";case 55:return"HIP";case 13:return"HINFO";case 45:return"IPSECKEY";case 25:return"KEY";case 36:return"KX";case 29:return"LOC";case 15:return"MX";case 35:return"NAPTR";case 2:return"NS";case 47:return"NSEC";case 50:return"NSEC3";case 51:return"NSEC3PARAM";case 12:return"PTR";case 46:return"RRSIG";case 17:return"RP";case 24:return"SIG";case 6:return"SOA";case 99:return"SPF";case 33:return"SRV";case 44:return"SSHFP";case 32768:return"TA";case 249:return"TKEY";case 52:return"TLSA";case 250:return"TSIG";case 16:return"TXT";case 252:return"AXFR";case 251:return"IXFR";case 41:return"OPT";case 255:return"ANY"}return"UNKNOWN_"+st}function j(st){switch(st.toUpperCase()){case"A":return 1;case"NULL":return 10;case"AAAA":return 28;case"AFSDB":return 18;case"APL":return 42;case"CAA":return 257;case"CDNSKEY":return 60;case"CDS":return 59;case"CERT":return 37;case"CNAME":return 5;case"DHCID":return 49;case"DLV":return 32769;case"DNAME":return 39;case"DNSKEY":return 48;case"DS":return 43;case"HIP":return 55;case"HINFO":return 13;case"IPSECKEY":return 45;case"KEY":return 25;case"KX":return 36;case"LOC":return 29;case"MX":return 15;case"NAPTR":return 35;case"NS":return 2;case"NSEC":return 47;case"NSEC3":return 50;case"NSEC3PARAM":return 51;case"PTR":return 12;case"RRSIG":return 46;case"RP":return 17;case"SIG":return 24;case"SOA":return 6;case"SPF":return 99;case"SRV":return 33;case"SSHFP":return 44;case"TA":return 32768;case"TKEY":return 249;case"TLSA":return 52;case"TSIG":return 250;case"TXT":return 16;case"AXFR":return 252;case"IXFR":return 251;case"OPT":return 41;case"ANY":case"*":return 255}return st.toUpperCase().startsWith("UNKNOWN_")?parseInt(st.slice(8)):0}function G(st){switch(st){case 0:return"NOERROR";case 1:return"FORMERR";case 2:return"SERVFAIL";case 3:return"NXDOMAIN";case 4:return"NOTIMP";case 5:return"REFUSED";case 6:return"YXDOMAIN";case 7:return"YXRRSET";case 8:return"NXRRSET";case 9:return"NOTAUTH";case 10:return"NOTZONE";case 11:return"RCODE_11";case 12:return"RCODE_12";case 13:return"RCODE_13";case 14:return"RCODE_14";case 15:return"RCODE_15"}return"RCODE_"+st}function te(st){switch(st){case 0:return"QUERY";case 1:return"IQUERY";case 2:return"STATUS";case 3:return"OPCODE_3";case 4:return"NOTIFY";case 5:return"UPDATE";case 6:return"OPCODE_6";case 7:return"OPCODE_7";case 8:return"OPCODE_8";case 9:return"OPCODE_9";case 10:return"OPCODE_10";case 11:return"OPCODE_11";case 12:return"OPCODE_12";case 13:return"OPCODE_13";case 14:return"OPCODE_14";case 15:return"OPCODE_15"}return"OPCODE_"+st}function Y(st){switch(st){case 1:return"IN";case 2:return"CS";case 3:return"CH";case 4:return"HS";case 255:return"ANY"}return"UNKNOWN_"+st}function oe(st){switch(st.toUpperCase()){case"IN":return 1;case"CS":return 2;case"CH":return 3;case"HS":return 4;case"ANY":return 255}return 0}function se(st){if("number"==typeof st)return st;if(!st)return-1;switch(st.toUpperCase()){case"OPTION_0":return 0;case"LLQ":return 1;case"UL":return 2;case"NSID":return 3;case"OPTION_4":return 4;case"DAU":return 5;case"DHU":return 6;case"N3U":return 7;case"CLIENT_SUBNET":return 8;case"EXPIRE":return 9;case"COOKIE":return 10;case"TCP_KEEPALIVE":return 11;case"PADDING":return 12;case"CHAIN":return 13;case"KEY_TAG":return 14;case"DEVICEID":return 26946;case"OPTION_65535":return 65535}const Ge=st.match(/_(\d+)$/);return Ge?parseInt(Ge[1],10):-1}const de=55296,le=56320;function xe(st){let Ge=0;const ct=st.length;for(let Yt=0;Yt<ct;Yt+=1){const _n=st.charCodeAt(Yt);if(_n<=127)Ge+=1;else if(_n<=2047)Ge+=2;else if((63488&_n)!==de)Ge+=3;else{const Wn=Yt+1;Wn===ct||_n>=le||(64512&st.charCodeAt(Wn))!==le?Ge+=3:(Yt=Wn,Ge+=4)}}return Ge}function Ce(st,Ge,ct){const Yt=st.length;null==ct&&(ct=0),void 0===Ge&&(Ge=new Uint8Array(xe(st)+ct));let _n=ct;for(let Wn=0;Wn<Yt;Wn+=1){let Yn=st.charCodeAt(Wn);if(Yn<=127)Ge[_n++]=Yn;else if(Yn<=2047)Ge[_n++]=192|(1984&Yn)>>6,Ge[_n++]=128|63&Yn;else if((63488&Yn)!==de)Ge[_n++]=224|(61440&Yn)>>12,Ge[_n++]=128|(4032&Yn)>>6,Ge[_n++]=128|63&Yn;else{const yr=Wn+1;if(yr===Yt||Yn>=le)Ge[_n++]=239,Ge[_n++]=191,Ge[_n++]=189;else{const Nr=st.charCodeAt(yr);(64512&Nr)!==le?(Ge[_n++]=239,Ge[_n++]=191,Ge[_n++]=189):(Wn=yr,Yn=65536|(1023&Yn)<<10|1023&Nr,Ge[_n++]=240|(1835008&Yn)>>18,Ge[_n++]=128|(258048&Yn)>>12,Ge[_n++]=128|(4032&Yn)>>6,Ge[_n++]=128|63&Yn)}}}return Ce.bytes=_n-ct,Ge}function C(st,Ge,ct){let Yt="";null==Ge&&(Ge=0),null==ct&&(ct=st.length);for(let _n=Ge;_n<ct;){const Wn=st[_n++];let Yn;Wn<=128?Yn=Wn:Wn>191&&Wn<224?Yn=(31&Wn)<<6|63&st[_n++]:Wn>239&&Wn<365?(Yn=((7&Wn)<<18|(63&st[_n++])<<12|(63&st[_n++])<<6|63&st[_n++])-65536,Yt+=String.fromCharCode(de|Yn>>10&1023),Yn=le|1023&Yn):Yn=(15&Wn)<<12|(63&st[_n++])<<6|63&st[_n++],Yt+=String.fromCharCode(Yn)}return C.bytes=ct-Ge,Yt}Ce.bytes=0,C.bytes=0;const a=st=>st instanceof Uint8Array;function u(st){return"string"==typeof st?xe(st):st.byteLength}function y(st){return st instanceof Uint8Array?st:Array.isArray(st)?new Uint8Array(st):Ce(st)}function g(st,Ge,ct){if("string"!=typeof Ge)throw new Error("unknown input type");return Ce(Ge,st,ct),Ce.bytes}const S={},T=new Array(255);for(let st=0;st<=15;st+=1){const Ge=st.toString(16),ct=Ge.toUpperCase();for(let Yt=0;Yt<=15;Yt+=1){const _n=Yt.toString(16),Wn=_n.toUpperCase(),Yn=st<<4|Yt,yr=`${Ge}${_n}`;T[Yn]=yr,S[yr]=Yn,S[`${ct}${_n}`]=Yn,S[`${Ge}${Wn}`]=Yn,S[`${ct}${Wn}`]=Yn}}function M(st){return st.length>>>1}const v=Math.pow(2,24),W=Math.pow(2,16),K=Math.pow(2,8),ee=(st,Ge)=>st[Ge]*v+st[Ge+1]*W+st[Ge+2]*K+st[Ge+3],ce=(st,Ge)=>st[Ge]<<8|st[Ge+1],_e=(st,Ge,ct)=>(st[ct+3]=Ge=+Ge,st[ct+2]=Ge>>>=8,st[ct+1]=Ge>>>=8,st[ct]=Ge>>>=8,ct+4),Pe=(st,Ge,ct)=>(st[ct]=Ge>>8,st[ct+1]=255&Ge,ct+2);function $e(st,Ge,ct,Yt,_n){return ct<0&&(Yt-=ct,ct=0),Yt<0&&(Yt=0),_n<0?new Uint8Array(0):ct>=Ge.length||Yt>=_n?0:function Se(st,Ge,ct,Yt,_n){_n-Yt>Ge.length-ct&&(_n=Yt+Ge.length-ct);let Wn=_n-Yt;const Yn=st.length-Yt;return Wn>Yn&&(Wn=Yn),(0!==Yt||_n<st.length)&&(st=new Uint8Array(st.buffer,st.byteOffset+Yt,Wn)),Ge.set(st,ct),Wn}(st,Ge,ct,Yt,_n)}function Q({bytes:st=0,encode:Ge,decode:ct,encodingLength:Yt}){return Ge.bytes=st,ct.bytes=st,{encode:Ge,decode:ct,encodingLength:Yt||(()=>st)}}const ie=Q({encode(st,Ge,ct){Ge||(Ge=new Uint8Array(ie.encodingLength(st))),ct||(ct=0);const Yt=ct,_n=st.replace(/^\.|\.$/gm,"");if(_n.length){const Wn=_n.split(".");for(let Yn=0;Yn<Wn.length;Yn++){const yr=g(Ge,Wn[Yn],ct+1);Ge[ct]=yr,ct+=yr+1}}return Ge[ct++]=0,ie.encode.bytes=ct-Yt,Ge},decode(st,Ge){Ge||(Ge=0);const ct=[];let Yt=Ge,_n=0,Wn=0,Yn=!1;for(;;){if(Ge>=st.length)throw new Error("Cannot decode name (buffer overflow)");const yr=st[Ge++];if(Wn+=Yn?0:1,0===yr)break;if(192&yr){if(192&~yr)throw new Error("Cannot decode name (bad label)");{if(Ge+1>st.length)throw new Error("Cannot decode name (buffer overflow)");const Nr=ce(st,Ge-1)-49152;if(Nr>=Yt)throw new Error("Cannot decode name (bad pointer)");Ge=Nr,Yt=Nr,Wn+=Yn?0:1,Yn=!0}}else{if(Ge+yr>st.length)throw new Error("Cannot decode name (buffer overflow)");if(_n+=yr+1,_n>254)throw new Error("Cannot decode name (name too long)");ct.push(C(st,Ge,Ge+yr)),Ge+=yr,Wn+=Yn?0:yr}}return ie.decode.bytes=Wn,0===ct.length?".":ct.join(".")},encodingLength:st=>"."===st||".."===st?1:u(st.replace(/^\.|\.$/gm,""))+2}),ue=Q({encode(st,Ge,ct){Ge||(Ge=new Uint8Array(ue.encodingLength(st))),ct||(ct=0);const Yt=g(Ge,st,ct+1);return Ge[ct]=Yt,ue.encode.bytes=Yt+1,Ge},decode(st,Ge){Ge||(Ge=0);const ct=st[Ge],Yt=C(st,Ge+1,Ge+1+ct);return ue.decode.bytes=ct+1,Yt},encodingLength:st=>u(st)+1}),Ee=Q({bytes:12,encode(st,Ge,ct){Ge||(Ge=new Uint8Array(Ee.encodingLength(st))),ct||(ct=0);const Yt=32767&(st.flags||0),_n="response"===st.type?32768:0;return Pe(Ge,st.id||0,ct),Pe(Ge,Yt|_n,ct+2),Pe(Ge,st.questions.length,ct+4),Pe(Ge,st.answers.length,ct+6),Pe(Ge,st.authorities.length,ct+8),Pe(Ge,st.additionals.length,ct+10),Ge},decode(st,Ge){if(Ge||(Ge=0),st.length<12)throw new Error("Header must be 12 bytes");const ct=ce(st,Ge+2);return{id:ce(st,Ge),type:32768&ct?"response":"query",flags:32767&ct,flag_qr:1==(ct>>15&1),opcode:te(ct>>11&15),flag_aa:1==(ct>>10&1),flag_tc:1==(ct>>9&1),flag_rd:1==(ct>>8&1),flag_ra:1==(ct>>7&1),flag_z:1==(ct>>6&1),flag_ad:1==(ct>>5&1),flag_cd:1==(ct>>4&1),rcode:G(15&ct),questions:new Array(ce(st,Ge+4)),answers:new Array(ce(st,Ge+6)),authorities:new Array(ce(st,Ge+8)),additionals:new Array(ce(st,Ge+10))}},encodingLength:()=>12}),ke=Q({encode(st,Ge,ct){Ge||(Ge=new Uint8Array(ke.encodingLength(st))),ct||(ct=0);const Yt=st.length;return Pe(Ge,Yt,ct),$e(st,Ge,ct+2,0,Yt),ke.encode.bytes=Yt+2,Ge},decode(st,Ge){Ge||(Ge=0);const ct=ce(st,Ge),Yt=st.slice(Ge+2,Ge+2+ct);return ke.decode.bytes=ct+2,Yt},encodingLength:st=>st.length+2}),Ue=Q({encode:(st,Ge,ct)=>(Ge||(Ge=new Uint8Array(Ue.encodingLength(st))),ct||(ct=0),ie.encode(st,Ge,ct+2),Pe(Ge,ie.encode.bytes,ct),Ue.encode.bytes=ie.encode.bytes+2,Ge),decode(st,Ge){Ge||(Ge=0);const ct=ce(st,Ge),Yt=ie.decode(st,Ge+2);return Ue.decode.bytes=ct+2,Yt},encodingLength:st=>ie.encodingLength(st)+2}),Le=Q({encode(st,Ge,ct){Ge||(Ge=new Uint8Array(Le.encodingLength(st))),ct||(ct=0);const Yt=ct;return ie.encode(st.mname,Ge,ct+=2),ie.encode(st.rname,Ge,ct+=ie.encode.bytes),_e(Ge,st.serial||0,ct+=ie.encode.bytes),_e(Ge,st.refresh||0,ct+=4),_e(Ge,st.retry||0,ct+=4),_e(Ge,st.expire||0,ct+=4),_e(Ge,st.minimum||0,ct+=4),Pe(Ge,(ct+=4)-Yt-2,Yt),Le.encode.bytes=ct-Yt,Ge},decode(st,Ge){Ge||(Ge=0);const ct=Ge,Yt={};return Yt.mname=ie.decode(st,Ge+=2),Yt.rname=ie.decode(st,Ge+=ie.decode.bytes),Yt.serial=ee(st,Ge+=ie.decode.bytes),Yt.refresh=ee(st,Ge+=4),Yt.retry=ee(st,Ge+=4),Yt.expire=ee(st,Ge+=4),Yt.minimum=ee(st,Ge+=4),Le.decode.bytes=(Ge+=4)-ct,Yt},encodingLength:st=>22+ie.encodingLength(st.mname)+ie.encodingLength(st.rname)}),_t=Q({encode(st,Ge,ct){Array.isArray(st)||(st=[st]);for(let _n=0;_n<st.length;_n++)if("string"==typeof st[_n]&&(st[_n]=y(st[_n])),!a(st[_n]))throw new Error("Must be a Buffer");Ge||(Ge=new Uint8Array(_t.encodingLength(st))),ct||(ct=0);const Yt=ct;return ct+=2,st.forEach(function(_n){Ge[ct++]=_n.length,$e(_n,Ge,ct,0,_n.length),ct+=_n.length}),Pe(Ge,ct-Yt-2,Yt),_t.encode.bytes=ct-Yt,Ge},decode(st,Ge){Ge||(Ge=0);const ct=Ge;let Yt=ce(st,Ge);Ge+=2;const _n=[];for(;Yt>0;){const Wn=st[Ge++];if(--Yt,Yt<Wn)throw new Error("Buffer overflow");_n.push(st.slice(Ge,Ge+Wn)),Ge+=Wn,Yt-=Wn}return _t.decode.bytes=Ge-ct,_n},encodingLength(st){Array.isArray(st)||(st=[st]);let Ge=2;return st.forEach(function(ct){Ge+="string"==typeof ct?u(ct)+1:ct.length+1}),Ge}}),Ve=Q({encode(st,Ge,ct){Ge||(Ge=new Uint8Array(Ve.encodingLength(st))),ct||(ct=0),"string"==typeof st&&(st=y(st)),st||(st=new Uint8Array(0));const Yt=ct,_n=st.length;return $e(st,Ge,ct+=2,0,_n),Pe(Ge,(ct+=_n)-Yt-2,Yt),Ve.encode.bytes=ct-Yt,Ge},decode(st,Ge){Ge||(Ge=0);const ct=Ge,Yt=ce(st,Ge),_n=st.slice(Ge+=2,Ge+Yt);return Ve.decode.bytes=(Ge+=Yt)-ct,_n},encodingLength:st=>st?(a(st)?st.length:u(st))+2:2}),Be=Q({encode(st,Ge,ct){Ge||(Ge=new Uint8Array(Be.encodingLength(st))),ct||(ct=0);const Yt=ct;return ue.encode(st.cpu,Ge,ct+=2),ue.encode(st.os,Ge,ct+=ue.encode.bytes),Pe(Ge,(ct+=ue.encode.bytes)-Yt-2,Yt),Be.encode.bytes=ct-Yt,Ge},decode(st,Ge){Ge||(Ge=0);const ct=Ge,Yt={};return Yt.cpu=ue.decode(st,Ge+=2),Yt.os=ue.decode(st,Ge+=ue.decode.bytes),Be.decode.bytes=(Ge+=ue.decode.bytes)-ct,Yt},encodingLength:st=>ue.encodingLength(st.cpu)+ue.encodingLength(st.os)+2}),lt=Q({encode:(st,Ge,ct)=>(Ge||(Ge=new Uint8Array(lt.encodingLength(st))),ct||(ct=0),ie.encode(st,Ge,ct+2),Pe(Ge,ie.encode.bytes,ct),lt.encode.bytes=ie.encode.bytes+2,Ge),decode(st,Ge){Ge||(Ge=0);const ct=ie.decode(st,Ge+2);return lt.decode.bytes=ie.decode.bytes+2,ct},encodingLength:st=>ie.encodingLength(st)+2}),B=Q({encode(st,Ge,ct){Ge||(Ge=new Uint8Array(B.encodingLength(st))),ct||(ct=0),Pe(Ge,st.priority||0,ct+2),Pe(Ge,st.weight||0,ct+4),Pe(Ge,st.port||0,ct+6),ie.encode(st.target,Ge,ct+8);const Yt=ie.encode.bytes+6;return Pe(Ge,Yt,ct),B.encode.bytes=Yt+2,Ge},decode(st,Ge){Ge||(Ge=0);const ct=ce(st,Ge),Yt={};return Yt.priority=ce(st,Ge+2),Yt.weight=ce(st,Ge+4),Yt.port=ce(st,Ge+6),Yt.target=ie.decode(st,Ge+8),B.decode.bytes=ct+2,Yt},encodingLength:st=>8+ie.encodingLength(st.target)}),w=Q({encode(st,Ge,ct){const Yt=w.encodingLength(st);return Ge||(Ge=new Uint8Array(w.encodingLength(st))),ct||(ct=0),st.issuerCritical&&(st.flags=w.ISSUER_CRITICAL),Pe(Ge,Yt-2,ct),Ge[ct+=2]=st.flags||0,ue.encode(st.tag,Ge,ct+=1),g(Ge,st.value,ct+=ue.encode.bytes),ct+=u(st.value),w.encode.bytes=Yt,Ge},decode(st,Ge){Ge||(Ge=0);const ct=ce(st,Ge),Yt=Ge+=2,_n={};return _n.flags=st[Ge],_n.tag=ue.decode(st,Ge+=1),_n.value=C(st,Ge+=ue.decode.bytes,Yt+ct),_n.issuerCritical=!!(_n.flags&w.ISSUER_CRITICAL),w.decode.bytes=ct+2,_n},encodingLength:st=>ue.encodingLength(st.tag)+ue.encodingLength(st.value)+2});w.ISSUER_CRITICAL=128;const m=Q({encode(st,Ge,ct){Ge||(Ge=new Uint8Array(m.encodingLength(st))),ct||(ct=0);const Yt=ct;return Pe(Ge,st.preference||0,ct+=2),ie.encode(st.exchange,Ge,ct+=2),Pe(Ge,(ct+=ie.encode.bytes)-Yt-2,Yt),m.encode.bytes=ct-Yt,Ge},decode(st,Ge){Ge||(Ge=0);const ct=Ge,Yt={};return Yt.preference=ce(st,Ge+=2),Yt.exchange=ie.decode(st,Ge+=2),m.decode.bytes=(Ge+=ie.decode.bytes)-ct,Yt},encodingLength:st=>4+ie.encodingLength(st.exchange)}),U=Q({encode:(st,Ge,ct)=>(Ge||(Ge=new Uint8Array(U.encodingLength(st))),ct||(ct=0),Pe(Ge,4,ct),x.encode(st,Ge,ct+=2),Ge),decode:(st,Ge)=>(Ge||(Ge=0),x.decode(st,Ge+=2)),bytes:6}),ne=Q({encode:(st,Ge,ct)=>(Ge||(Ge=new Uint8Array(ne.encodingLength(st))),ct||(ct=0),Pe(Ge,16,ct),R.encode(st,Ge,ct+=2),ne.encode.bytes=18,Ge),decode(st,Ge){Ge||(Ge=0);const ct=R.decode(st,Ge+=2);return ne.decode.bytes=18,ct},bytes:18}),ge=st=>new Uint8Array(st),Ae=Q({encode(st,Ge,ct){Ge||(Ge=new Uint8Array(Ae.encodingLength(st))),ct||(ct=0);const Yt=ct,_n=se(st.code);if(Pe(Ge,_n,ct),ct+=2,st.data)Pe(Ge,st.data.length,ct),$e(st.data,Ge,ct+=2),ct+=st.data.length;else switch(_n){case 8:{const Wn=st.sourcePrefixLength||0,Yn=st.family||function F(st){return O(st)===x.size?1:2}(st.ip),yr=function L(st,Ge,ct){ct=~~ct;const Yt=O(st);return"function"==typeof Ge&&(Ge=Ge(ct+Yt)),Yt===x.size?x.encode(st,Ge,ct):R.encode(st,Ge,ct)}(st.ip,ge),Nr=Math.ceil(Wn/8);Pe(Ge,Nr+4,ct),Pe(Ge,Yn,ct+=2),ct+=2,Ge[ct++]=Wn,Ge[ct++]=st.scopePrefixLength||0,$e(yr,Ge,ct,0,Nr),ct+=Nr}break;case 11:st.timeout?(Pe(Ge,2,ct),Pe(Ge,st.timeout,ct+=2),ct+=2):(Pe(Ge,0,ct),ct+=2);break;case 12:{const Wn=st.length||0;Pe(Ge,Wn,ct),Ge.fill(0,ct+=2,ct+Wn),ct+=Wn}break;case 14:Pe(Ge,2*st.tags.length,ct),ct+=2;for(const Yn of st.tags)Pe(Ge,Yn,ct),ct+=2;break;default:throw new Error(`Unknown roption code: ${st.code}`)}return Ae.encode.bytes=ct-Yt,Ge},decode(st,Ge){Ge||(Ge=0);const ct={};ct.code=ce(st,Ge),ct.type=function ae(st){switch(st){case 1:return"LLQ";case 2:return"UL";case 3:return"NSID";case 5:return"DAU";case 6:return"DHU";case 7:return"N3U";case 8:return"CLIENT_SUBNET";case 9:return"EXPIRE";case 10:return"COOKIE";case 11:return"TCP_KEEPALIVE";case 12:return"PADDING";case 13:return"CHAIN";case 14:return"KEY_TAG";case 26946:return"DEVICEID"}return st<0?null:`OPTION_${st}`}(ct.code);const Yt=ce(st,Ge+=2);switch(ct.data=st.slice(Ge+=2,Ge+Yt),ct.code){case 8:ct.family=ce(st,Ge),Ge+=2,ct.sourcePrefixLength=st[Ge++],ct.scopePrefixLength=st[Ge++];{const _n=new Uint8Array(1===ct.family?4:16);$e(st,_n,0,Ge,Ge+Yt-4),ct.ip=function I(st,Ge,ct){if(Ge=~~Ge,(ct=ct||st.length-Ge)===x.size)return x.decode(st,Ge,ct);if(ct===R.size)return R.decode(st,Ge,ct);throw Error(`Invalid buffer size needs to be ${x.size} for v4 or ${R.size} for v6.`)}(_n)}break;case 11:Yt>0&&(ct.timeout=ce(st,Ge),Ge+=2);break;case 14:ct.tags=[];for(let _n=0;_n<Yt;_n+=2)ct.tags.push(ce(st,Ge)),Ge+=2}return Ae.decode.bytes=Yt+4,ct},encodingLength(st){if(st.data)return st.data.length+4;switch(se(st.code)){case 8:return Math.ceil((st.sourcePrefixLength||0)/8)+8;case 11:return"number"==typeof st.timeout?6:4;case 12:return st.length+4;case 14:return 4+2*st.tags.length}throw new Error(`Unknown roption code: ${st.code}`)}}),Qe=Q({encode(st,Ge,ct){Ge||(Ge=new Uint8Array(Qe.encodingLength(st))),ct||(ct=0);const Yt=ct,_n=Jn(st,Ae);return Pe(Ge,_n,ct),ct=Ln(st,Ae,Ge,ct+2),Qe.encode.bytes=ct-Yt,Ge},decode(st,Ge){Ge||(Ge=0);const ct=Ge,Yt=[];let _n=ce(st,Ge);Ge+=2;let Wn=0;for(;_n>0;)Yt[Wn++]=Ae.decode(st,Ge),Ge+=Ae.decode.bytes,_n-=Ae.decode.bytes;return Qe.decode.bytes=Ge-ct,Yt},encodingLength:st=>2+Jn(st||[],Ae)}),Bt=Q({encode(st,Ge,ct){Ge||(Ge=new Uint8Array(Bt.encodingLength(st))),ct||(ct=0);const Yt=ct,_n=st.key;if(!a(_n))throw new Error("Key must be a Buffer");return Pe(Ge,st.flags,ct+=2),Ge[ct+=2]=Bt.PROTOCOL_DNSSEC,Ge[ct+=1]=st.algorithm,$e(_n,Ge,ct+=1,0,_n.length),Bt.encode.bytes=(ct+=_n.length)-Yt,Pe(Ge,Bt.encode.bytes-2,Yt),Ge},decode(st,Ge){Ge||(Ge=0);const ct=Ge,Yt={},_n=ce(st,Ge);if(Yt.flags=ce(st,Ge+=2),st[Ge+=2]!==Bt.PROTOCOL_DNSSEC)throw new Error("Protocol must be 3");return Yt.algorithm=st[Ge+=1],Yt.key=st.slice(Ge+=1,ct+_n+2),Bt.decode.bytes=(Ge+=Yt.key.length)-ct,Yt},encodingLength:st=>6+u(st.key)});Bt.PROTOCOL_DNSSEC=3,Bt.ZONE_KEY=128,Bt.SECURE_ENTRYPOINT=32768;const gt=Q({encode(st,Ge,ct){Ge||(Ge=new Uint8Array(gt.encodingLength(st))),ct||(ct=0);const Yt=ct,_n=st.signature;if(!a(_n))throw new Error("Signature must be a Buffer");return ct+=2,Pe(Ge,j(st.typeCovered),ct),Ge[ct+=2]=st.algorithm,Ge[ct+=1]=st.labels,_e(Ge,st.originalTTL,ct+=1),_e(Ge,st.expiration,ct+=4),_e(Ge,st.inception,ct+=4),Pe(Ge,st.keyTag,ct+=4),ie.encode(st.signersName,Ge,ct+=2),$e(_n,Ge,ct+=ie.encode.bytes,0,_n.length),gt.encode.bytes=(ct+=_n.length)-Yt,Pe(Ge,gt.encode.bytes-2,Yt),Ge},decode(st,Ge){Ge||(Ge=0);const ct=Ge,Yt={},_n=ce(st,Ge);return Yt.typeCovered=Z(ce(st,Ge+=2)),Yt.algorithm=st[Ge+=2],Yt.labels=st[Ge+=1],Yt.originalTTL=ee(st,Ge+=1),Yt.expiration=ee(st,Ge+=4),Yt.inception=ee(st,Ge+=4),Yt.keyTag=ce(st,Ge+=4),Yt.signersName=ie.decode(st,Ge+=2),Yt.signature=st.slice(Ge+=ie.decode.bytes,ct+_n+2),gt.decode.bytes=(Ge+=Yt.signature.length)-ct,Yt},encodingLength:st=>20+ie.encodingLength(st.signersName)+u(st.signature)}),It=Q({encode(st,Ge,ct){Ge||(Ge=new Uint8Array(It.encodingLength(st))),ct||(ct=0);const Yt=ct;return ie.encode(st.mbox||".",Ge,ct+=2),ie.encode(st.txt||".",Ge,ct+=ie.encode.bytes),It.encode.bytes=(ct+=ie.encode.bytes)-Yt,Pe(Ge,It.encode.bytes-2,Yt),Ge},decode(st,Ge){Ge||(Ge=0);const ct=Ge,Yt={};return Yt.mbox=ie.decode(st,Ge+=2)||".",Yt.txt=ie.decode(st,Ge+=ie.decode.bytes)||".",It.decode.bytes=(Ge+=ie.decode.bytes)-ct,Yt},encodingLength:st=>2+ie.encodingLength(st.mbox||".")+ie.encodingLength(st.txt||".")}),Gt=Q({encode(st,Ge,ct){Ge||(Ge=new Uint8Array(Gt.encodingLength(st))),ct||(ct=0);const Yt=ct,_n=[];for(let Wn=0;Wn<st.length;Wn++){const Yn=j(st[Wn]);void 0===_n[Yn>>8]&&(_n[Yn>>8]=[]),_n[Yn>>8][Yn>>3&31]|=1<<7-(7&Yn)}for(let Wn=0;Wn<_n.length;Wn++)if(void 0!==_n[Wn]){const Yn=y(_n[Wn]);Ge[ct]=Wn,Ge[ct+=1]=Yn.length,$e(Yn,Ge,ct+=1,0,Yn.length),ct+=Yn.length}return Gt.encode.bytes=ct-Yt,Ge},decode(st,Ge,ct){Ge||(Ge=0);const Yt=Ge,_n=[];for(;Ge-Yt<ct;){const Wn=st[Ge],Yn=st[Ge+=1];Ge+=1;for(let yr=0;yr<Yn;yr++){const Nr=st[Ge+yr];for(let Ur=0;Ur<8;Ur++)if(Nr&1<<7-Ur){const Kr=Z(Wn<<8|yr<<3|Ur);_n.push(Kr)}}Ge+=Yn}return Gt.decode.bytes=Ge-Yt,_n},encodingLength(st){const Ge=[];for(let Yt=0;Yt<st.length;Yt++){const _n=j(st[Yt]);Ge[_n>>8]=Math.max(Ge[_n>>8]||0,255&_n)}let ct=0;for(let Yt=0;Yt<Ge.length;Yt++)void 0!==Ge[Yt]&&(ct+=2+Math.ceil((Ge[Yt]+1)/8));return ct}}),un=Q({encode(st,Ge,ct){Ge||(Ge=new Uint8Array(un.encodingLength(st))),ct||(ct=0);const Yt=ct;return ie.encode(st.nextDomain,Ge,ct+=2),Gt.encode(st.rrtypes,Ge,ct+=ie.encode.bytes),un.encode.bytes=(ct+=Gt.encode.bytes)-Yt,Pe(Ge,un.encode.bytes-2,Yt),Ge},decode(st,Ge){Ge||(Ge=0);const ct=Ge,Yt={},_n=ce(st,Ge);return Yt.nextDomain=ie.decode(st,Ge+=2),Yt.rrtypes=Gt.decode(st,Ge+=ie.decode.bytes,_n-(Ge-ct)),un.decode.bytes=(Ge+=Gt.decode.bytes)-ct,Yt},encodingLength:st=>2+ie.encodingLength(st.nextDomain)+Gt.encodingLength(st.rrtypes)}),an=Q({encode(st,Ge,ct){Ge||(Ge=new Uint8Array(an.encodingLength(st))),ct||(ct=0);const Yt=ct,_n=st.salt;if(!a(_n))throw new Error("salt must be a Buffer");const Wn=st.nextDomain;if(!a(Wn))throw new Error("nextDomain must be a Buffer");return Ge[ct+=2]=st.algorithm,Ge[ct+=1]=st.flags,Pe(Ge,st.iterations,ct+=1),Ge[ct+=2]=_n.length,$e(_n,Ge,ct+=1,0,_n.length),Ge[ct+=_n.length]=Wn.length,$e(Wn,Ge,ct+=1,0,Wn.length),Gt.encode(st.rrtypes,Ge,ct+=Wn.length),an.encode.bytes=(ct+=Gt.encode.bytes)-Yt,Pe(Ge,an.encode.bytes-2,Yt),Ge},decode(st,Ge){Ge||(Ge=0);const ct=Ge,Yt={},_n=ce(st,Ge);Yt.algorithm=st[Ge+=2],Yt.flags=st[Ge+=1],Yt.iterations=ce(st,Ge+=1);const Wn=st[Ge+=2];Yt.salt=st.slice(Ge+=1,Ge+Wn);const Yn=st[Ge+=Wn];return Yt.nextDomain=st.slice(Ge+=1,Ge+Yn),Yt.rrtypes=Gt.decode(st,Ge+=Yn,_n-(Ge-ct)),an.decode.bytes=(Ge+=Gt.decode.bytes)-ct,Yt},encodingLength:st=>8+st.salt.length+st.nextDomain.length+Gt.encodingLength(st.rrtypes)}),sr=Q({encode(st,Ge,ct){Ge||(Ge=new Uint8Array(sr.encodingLength(st))),ct||(ct=0);const Yt=ct,_n=st.digest;if(!a(_n))throw new Error("Digest must be a Buffer");return Pe(Ge,st.keyTag,ct+=2),Ge[ct+=2]=st.algorithm,Ge[ct+=1]=st.digestType,$e(_n,Ge,ct+=1,0,_n.length),sr.encode.bytes=(ct+=_n.length)-Yt,Pe(Ge,sr.encode.bytes-2,Yt),Ge},decode(st,Ge){Ge||(Ge=0);const ct=Ge,Yt={},_n=ce(st,Ge);return Yt.keyTag=ce(st,Ge+=2),Yt.algorithm=st[Ge+=2],Yt.digestType=st[Ge+=1],Yt.digest=st.slice(Ge+=1,ct+_n+2),sr.decode.bytes=(Ge+=Yt.digest.length)-ct,Yt},encodingLength:st=>6+u(st.digest)}),Mn=Q({encode(st,Ge,ct){Ge||(Ge=new Uint8Array(Mn.encodingLength(st))),ct||(ct=0);const Yt=ct;Ge[ct+=2]=st.algorithm,Ge[ct+=1]=st.hash,ct+=1;const _n=M(st.fingerprint),Wn=Qt(st.hash);if(_n!==Wn)throw new Error(`Invalid length of fingerprint "${st.fingerprint}" for hashType=${st.hash}: ${_n} != ${Wn}`);return function s(st,Ge,ct,Yt){let _n=0;for(;ct<Yt;){const Wn=Ge.substr(_n,2),Yn=S[Wn];if(void 0===Yn)return;st[ct++]=Yn,_n+=2}}(Ge,st.fingerprint,ct,ct+=_n),Mn.encode.bytes=ct-Yt,Pe(Ge,Mn.encode.bytes-2,Yt),Ge},decode(st,Ge){Ge||(Ge=0);const ct=Ge,Yt={};Yt.algorithm=st[Ge+=2],Yt.hash=st[Ge+=1],Ge+=1;const _n=Qt(Yt.hash);return Yt.fingerprint=function N(st,Ge,ct){let Yt="";for(let _n=Ge;_n<ct;){const Wn=st[_n++];Yt+=T[Wn]}return Yt}(st,Ge,Ge+_n),Mn.decode.bytes=(Ge+=_n)-ct,Yt},encodingLength:st=>4+M(st.fingerprint)});function Qt(st){if(1===st)return 20;if(2===st)return 32;throw new Error(`Invalid hashType=${st}, supported=1,2`)}function qt(st){switch(st.toUpperCase()){case"A":return U;case"PTR":case"CNAME":case"DNAME":return lt;case"TXT":return _t;case"NULL":return Ve;case"AAAA":return ne;case"SRV":return B;case"HINFO":return Be;case"CAA":return w;case"NS":return Ue;case"SOA":return Le;case"MX":return m;case"OPT":return Qe;case"DNSKEY":return Bt;case"RRSIG":return gt;case"RP":return It;case"NSEC":return un;case"NSEC3":return an;case"SSHFP":return Mn;case"DS":return sr}return ke}Mn.getFingerprintLengthForHashType=Qt;const Et=Q({encode(st,Ge,ct){Ge||(Ge=new Uint8Array(Et.encodingLength(st))),ct||(ct=0);const Yt=ct;if(ie.encode(st.name,Ge,ct),ct+=ie.encode.bytes,Pe(Ge,j(st.type),ct),"OPT"===st.type.toUpperCase()){if("."!==st.name)throw new Error("OPT name must be root.");Pe(Ge,st.udpPayloadSize||4096,ct+2),Ge[ct+4]=st.extendedRcode||0,Ge[ct+5]=st.ednsVersion||0,Pe(Ge,st.flags||0,ct+6),Qe.encode(st.options||[],Ge,ct+=8),ct+=Qe.encode.bytes}else{let _n=oe(void 0===st.class?"IN":st.class);st.flush&&(_n|=32768),Pe(Ge,_n,ct+2),_e(Ge,st.ttl||0,ct+4),ct+=8;const Wn=qt(st.type);Wn.encode(st.data,Ge,ct),ct+=Wn.encode.bytes}return Et.encode.bytes=ct-Yt,Ge},decode(st,Ge){Ge||(Ge=0);const ct={},Yt=Ge;if(ct.name=ie.decode(st,Ge),ct.type=Z(ce(st,Ge+=ie.decode.bytes)),"OPT"===ct.type)ct.udpPayloadSize=ce(st,Ge+2),ct.extendedRcode=st[Ge+4],ct.ednsVersion=st[Ge+5],ct.flags=ce(st,Ge+6),ct.flag_do=1==(ct.flags>>15&1),ct.options=Qe.decode(st,Ge+8),Ge+=8+Qe.decode.bytes;else{const _n=ce(st,Ge+2);ct.ttl=ee(st,Ge+4),ct.class=Y(-32769&_n),ct.flush=!!(32768&_n);const Wn=qt(ct.type);ct.data=Wn.decode(st,Ge+8),Ge+=8+Wn.decode.bytes}return Et.decode.bytes=Ge-Yt,ct},encodingLength(st){const Ge=null!=st.data?st.data:st.options;return ie.encodingLength(st.name)+8+qt(st.type).encodingLength(Ge)}}),ht=Q({encode(st,Ge,ct){Ge||(Ge=new Uint8Array(ht.encodingLength(st))),ct||(ct=0);const Yt=ct;return ie.encode(st.name,Ge,ct),ct+=ie.encode.bytes,Pe(Ge,j(st.type),ct),ct+=2,Pe(Ge,oe(void 0===st.class?"IN":st.class),ct),ht.encode.bytes=(ct+=2)-Yt,st},decode(st,Ge){Ge||(Ge=0);const ct=Ge,Yt={};return Yt.name=ie.decode(st,Ge),Yt.type=Z(ce(st,Ge+=ie.decode.bytes)),Yt.class=Y(ce(st,Ge+=2)),Ge+=2,!!(32768&Yt.class)&&(Yt.class&=-32769),ht.decode.bytes=Ge-ct,Yt},encodingLength:st=>ie.encodingLength(st.name)+4}),zt=1024,Xe={encode:function(st,Ge,ct){const Yt=!Ge;Yt&&(Ge=new Uint8Array(bn(st))),ct||(ct=0);const _n=ct;return st.questions||(st.questions=[]),st.answers||(st.answers=[]),st.authorities||(st.authorities=[]),st.additionals||(st.additionals=[]),Ee.encode(st,Ge,ct),ct=Ln(st.questions,ht,Ge,ct+=Ee.encode.bytes),ct=Ln(st.answers,Et,Ge,ct),ct=Ln(st.authorities,Et,Ge,ct),ct=Ln(st.additionals,Et,Ge,ct),Xe.encode.bytes=ct-_n,Yt&&sn.bytes!==Ge.length?Ge.slice(0,sn.bytes):Ge},decode:function(st,Ge){Ge||(Ge=0);const ct=Ge,Yt=Ee.decode(st,Ge);return Ge=$n(Yt.questions,ht,st,Ge+=Ee.decode.bytes),Ge=$n(Yt.answers,Et,st,Ge),Ge=$n(Yt.authorities,Et,st,Ge),Ge=$n(Yt.additionals,Et,st,Ge),Xe.decode.bytes=Ge-ct,Yt},encodingLength:function(st){return Ee.encodingLength(st)+Jn(st.questions||[],ht)+Jn(st.answers||[],Et)+Jn(st.authorities||[],Et)+Jn(st.additionals||[],Et)}};function nt(st,Ge){if(st.questions)throw new Error("Only one .question object expected instead of a .questions array!");const ct=Object.assign({type:Ge},st);return ct.question&&(ct.questions=[ct.question],delete ct.question),ct}Xe.encode.bytes=0,Xe.decode.bytes=0;const Vt={encode:function(st,Ge,ct){return Ge=Xe.encode(nt(st,"query"),Ge,ct),Vt.encode.bytes=Xe.encode.bytes,Ge},decode:function(st,Ge){const ct=Xe.decode(st,Ge);return Vt.decode.bytes=Xe.decode.bytes,ct.questions&&(ct.question=ct.questions[0],delete ct.questions),ct},encodingLength:function(st){return Xe.encodingLength(nt(st,"query"))}};Vt.encode.bytes=0,Vt.decode.bytes=0;const Ot={encode:function(st,Ge,ct){return Ge=Xe.encode(nt(st,"response"),Ge,ct),Ot.encode.bytes=Xe.encode.bytes,Ge},decode:function(st,Ge){const ct=Xe.decode(st,Ge);return Ot.decode.bytes=Xe.decode.bytes,ct.questions&&(ct.question=ct.questions[0],delete ct.questions),ct},encodingLength:function(st){return Xe.encodingLength(nt(st,"response"))}};Ot.encode.bytes=0,Ot.decode.bytes=0;const sn=Xe.encode,Hn=Xe.decode,bn=Xe.encodingLength;function Jn(st,Ge){let ct=0;for(let Yt=0;Yt<st.length;Yt++)ct+=Ge.encodingLength(st[Yt]);return ct}function Ln(st,Ge,ct,Yt){for(let _n=0;_n<st.length;_n++)Ge.encode(st[_n],ct,Yt),Yt+=Ge.encode.bytes;return Yt}function $n(st,Ge,ct,Yt){for(let _n=0;_n<st.length;_n++)st[_n]=Ge.decode(ct,Yt),Yt+=Ge.decode.bytes;return Yt}},34931:(Fe,z,_)=>{"use strict";function p(L){if(!Number.isSafeInteger(L)||L<0)throw new Error(`wrong positive integer: ${L}`)}function E(L){if("boolean"!=typeof L)throw new Error(`boolean expected, not ${L}`)}function H(L,...I){if(!function k(L){return null!=L&&"object"==typeof L&&(L instanceof Uint8Array||"Uint8Array"===L.constructor.name)}(L))throw new Error("Uint8Array expected");if(I.length>0&&!I.includes(L.length))throw new Error(`Uint8Array expected of length ${I}, not of length=${L.length}`)}function R(L,I=!0){if(L.destroyed)throw new Error("Hash instance has been destroyed");if(I&&L.finished)throw new Error("Hash#digest() has already been called")}function A(L,I){H(L);const Z=I.outputLen;if(L.length<Z)throw new Error(`digestInto() expects output buffer of length at least ${Z}`)}_.d(z,{CG:()=>A,ai:()=>p,ee:()=>H,lc:()=>E,t2:()=>R})},94730:(Fe,z,_)=>{"use strict";var p=_(25953),E=_(34931);const k=(T,N)=>255&T[N++]|(255&T[N++])<<8;class H{constructor(N){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,N=(0,p.ZJ)(N),(0,p.qj)(N,32);const M=k(N,0),s=k(N,2),v=k(N,4),W=k(N,6),K=k(N,8),ee=k(N,10),ce=k(N,12),_e=k(N,14);this.r[0]=8191&M,this.r[1]=8191&(M>>>13|s<<3),this.r[2]=7939&(s>>>10|v<<6),this.r[3]=8191&(v>>>7|W<<9),this.r[4]=255&(W>>>4|K<<12),this.r[5]=K>>>1&8190,this.r[6]=8191&(K>>>14|ee<<2),this.r[7]=8065&(ee>>>11|ce<<5),this.r[8]=8191&(ce>>>8|_e<<8),this.r[9]=_e>>>5&127;for(let Pe=0;Pe<8;Pe++)this.pad[Pe]=k(N,16+2*Pe)}process(N,M,s=!1){const v=s?0:2048,{h:W,r:K}=this,ee=K[0],ce=K[1],_e=K[2],Pe=K[3],$e=K[4],Se=K[5],be=K[6],Ne=K[7],ye=K[8],Te=K[9],pe=k(N,M+0),fe=k(N,M+2),Q=k(N,M+4),ie=k(N,M+6),ue=k(N,M+8),Ee=k(N,M+10),ke=k(N,M+12),Ue=k(N,M+14);let Le=W[0]+(8191&pe),_t=W[1]+(8191&(pe>>>13|fe<<3)),Ve=W[2]+(8191&(fe>>>10|Q<<6)),Be=W[3]+(8191&(Q>>>7|ie<<9)),lt=W[4]+(8191&(ie>>>4|ue<<12)),B=W[5]+(ue>>>1&8191),w=W[6]+(8191&(ue>>>14|Ee<<2)),m=W[7]+(8191&(Ee>>>11|ke<<5)),U=W[8]+(8191&(ke>>>8|Ue<<8)),ne=W[9]+(Ue>>>5|v),ge=0,Ae=ge+Le*ee+_t*(5*Te)+Ve*(5*ye)+Be*(5*Ne)+lt*(5*be);ge=Ae>>>13,Ae&=8191,Ae+=B*(5*Se)+w*(5*$e)+m*(5*Pe)+U*(5*_e)+ne*(5*ce),ge+=Ae>>>13,Ae&=8191;let Qe=ge+Le*ce+_t*ee+Ve*(5*Te)+Be*(5*ye)+lt*(5*Ne);ge=Qe>>>13,Qe&=8191,Qe+=B*(5*be)+w*(5*Se)+m*(5*$e)+U*(5*Pe)+ne*(5*_e),ge+=Qe>>>13,Qe&=8191;let Bt=ge+Le*_e+_t*ce+Ve*ee+Be*(5*Te)+lt*(5*ye);ge=Bt>>>13,Bt&=8191,Bt+=B*(5*Ne)+w*(5*be)+m*(5*Se)+U*(5*$e)+ne*(5*Pe),ge+=Bt>>>13,Bt&=8191;let gt=ge+Le*Pe+_t*_e+Ve*ce+Be*ee+lt*(5*Te);ge=gt>>>13,gt&=8191,gt+=B*(5*ye)+w*(5*Ne)+m*(5*be)+U*(5*Se)+ne*(5*$e),ge+=gt>>>13,gt&=8191;let It=ge+Le*$e+_t*Pe+Ve*_e+Be*ce+lt*ee;ge=It>>>13,It&=8191,It+=B*(5*Te)+w*(5*ye)+m*(5*Ne)+U*(5*be)+ne*(5*Se),ge+=It>>>13,It&=8191;let Gt=ge+Le*Se+_t*$e+Ve*Pe+Be*_e+lt*ce;ge=Gt>>>13,Gt&=8191,Gt+=B*ee+w*(5*Te)+m*(5*ye)+U*(5*Ne)+ne*(5*be),ge+=Gt>>>13,Gt&=8191;let un=ge+Le*be+_t*Se+Ve*$e+Be*Pe+lt*_e;ge=un>>>13,un&=8191,un+=B*ce+w*ee+m*(5*Te)+U*(5*ye)+ne*(5*Ne),ge+=un>>>13,un&=8191;let an=ge+Le*Ne+_t*be+Ve*Se+Be*$e+lt*Pe;ge=an>>>13,an&=8191,an+=B*_e+w*ce+m*ee+U*(5*Te)+ne*(5*ye),ge+=an>>>13,an&=8191;let sr=ge+Le*ye+_t*Ne+Ve*be+Be*Se+lt*$e;ge=sr>>>13,sr&=8191,sr+=B*Pe+w*_e+m*ce+U*ee+ne*(5*Te),ge+=sr>>>13,sr&=8191;let Mn=ge+Le*Te+_t*ye+Ve*Ne+Be*be+lt*Se;ge=Mn>>>13,Mn&=8191,Mn+=B*$e+w*Pe+m*_e+U*ce+ne*ee,ge+=Mn>>>13,Mn&=8191,ge=(ge<<2)+ge|0,ge=ge+Ae|0,Ae=8191&ge,ge>>>=13,Qe+=ge,W[0]=Ae,W[1]=Qe,W[2]=Bt,W[3]=gt,W[4]=It,W[5]=Gt,W[6]=un,W[7]=an,W[8]=sr,W[9]=Mn}finalize(){const{h:N,pad:M}=this,s=new Uint16Array(10);let v=N[1]>>>13;N[1]&=8191;for(let ee=2;ee<10;ee++)N[ee]+=v,v=N[ee]>>>13,N[ee]&=8191;N[0]+=5*v,v=N[0]>>>13,N[0]&=8191,N[1]+=v,v=N[1]>>>13,N[1]&=8191,N[2]+=v,s[0]=N[0]+5,v=s[0]>>>13,s[0]&=8191;for(let ee=1;ee<10;ee++)s[ee]=N[ee]+v,v=s[ee]>>>13,s[ee]&=8191;s[9]-=8192;let W=(1^v)-1;for(let ee=0;ee<10;ee++)s[ee]&=W;W=~W;for(let ee=0;ee<10;ee++)N[ee]=N[ee]&W|s[ee];N[0]=65535&(N[0]|N[1]<<13),N[1]=65535&(N[1]>>>3|N[2]<<10),N[2]=65535&(N[2]>>>6|N[3]<<7),N[3]=65535&(N[3]>>>9|N[4]<<4),N[4]=65535&(N[4]>>>12|N[5]<<1|N[6]<<14),N[5]=65535&(N[6]>>>2|N[7]<<11),N[6]=65535&(N[7]>>>5|N[8]<<8),N[7]=65535&(N[8]>>>8|N[9]<<5);let K=N[0]+M[0];N[0]=65535&K;for(let ee=1;ee<8;ee++)K=(N[ee]+M[ee]|0)+(K>>>16)|0,N[ee]=65535&K}update(N){(0,E.t2)(this);const{buffer:M,blockLen:s}=this,v=(N=(0,p.ZJ)(N)).length;for(let W=0;W<v;){const K=Math.min(s-this.pos,v-W);if(K!==s)M.set(N.subarray(W,W+K),this.pos),this.pos+=K,W+=K,this.pos===s&&(this.process(M,0,!1),this.pos=0);else for(;s<=v-W;W+=s)this.process(N,W)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(N){(0,E.t2)(this),(0,E.CG)(N,this),this.finished=!0;const{buffer:M,h:s}=this;let{pos:v}=this;if(v){for(M[v++]=1;v<16;v++)M[v]=0;this.process(M,0,!0)}this.finalize();let W=0;for(let K=0;K<8;K++)N[W++]=s[K]>>>0,N[W++]=s[K]>>>8;return N}digest(){const{buffer:N,outputLen:M}=this;this.digestInto(N);const s=N.slice(0,M);return this.destroy(),s}}const R=function x(T){const N=(s,v)=>T(v).update((0,p.ZJ)(s)).digest(),M=T(new Uint8Array(32));return N.outputLen=M.outputLen,N.blockLen=M.blockLen,N.create=s=>T(s),N}(T=>new H(T)),A=(0,p.AI)("expand 16-byte k"),O=(0,p.AI)("expand 32-byte k"),F=(0,p.DH)(A),L=(0,p.DH)(O);function I(T,N){return T<<N|T>>>32-N}function Z(T){return T.byteOffset%4==0}const re=2**32-1,te=new Uint32Array;function Y(T,N){const{allowShortKeys:M,extendNonceFn:s,counterLength:v,counterRight:W,rounds:K}=(0,p.tY)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},N);if("function"!=typeof T)throw new Error("core must be a function");return(0,E.ai)(v),(0,E.ai)(K),(0,E.lc)(W),(0,E.lc)(M),(ee,ce,_e,Pe,$e=0)=>{(0,E.ee)(ee),(0,E.ee)(ce),(0,E.ee)(_e);const Se=_e.length;if(Pe||(Pe=new Uint8Array(Se)),(0,E.ee)(Pe),(0,E.ai)($e),$e<0||$e>=re)throw new Error("arx: counter overflow");if(Pe.length<Se)throw new Error(`arx: output (${Pe.length}) is shorter than data (${Se})`);const be=[];let ye,Te,Ne=ee.length;if(32===Ne)ye=ee.slice(),be.push(ye),Te=L;else{if(16!==Ne||!M)throw new Error(`arx: invalid 32-byte key, got length=${Ne}`);ye=new Uint8Array(32),ye.set(ee),ye.set(ee,16),Te=F,be.push(ye)}Z(ce)||(ce=ce.slice(),be.push(ce));const pe=(0,p.DH)(ye);if(s){if(24!==ce.length)throw new Error("arx: extended nonce must be 24 bytes");s(Te,pe,(0,p.DH)(ce.subarray(0,16)),pe),ce=ce.subarray(16)}const fe=16-v;if(fe!==ce.length)throw new Error(`arx: nonce must be ${fe} or 16 bytes`);if(12!==fe){const ie=new Uint8Array(12);ie.set(ce,W?0:12-ce.length),be.push(ce=ie)}const Q=(0,p.DH)(ce);for(function J(T,N,M,s,v,W,K,ee){const ce=v.length,_e=new Uint8Array(64),Pe=(0,p.DH)(_e),$e=Z(v)&&Z(W),Se=$e?(0,p.DH)(v):te,be=$e?(0,p.DH)(W):te;for(let Ne=0;Ne<ce;K++){if(T(N,M,s,Pe,K,ee),K>=re)throw new Error("arx: counter overflow");const ye=Math.min(64,ce-Ne);if($e&&64===ye){const Te=Ne/4;if(Ne%4!=0)throw new Error("arx: invalid block position");for(let fe,pe=0;pe<16;pe++)fe=Te+pe,be[fe]=Se[fe]^Pe[pe];Ne+=64}else{for(let pe,Te=0;Te<ye;Te++)pe=Ne+Te,W[pe]=v[pe]^_e[Te];Ne+=ye}}}(T,Te,pe,Q,_e,Pe,$e,K);be.length>0;)be.pop().fill(0);return Pe}}function oe(T,N,M,s,v,W=20){let K=T[0],ee=T[1],ce=T[2],_e=T[3],Pe=N[0],$e=N[1],Se=N[2],be=N[3],Ne=N[4],ye=N[5],Te=N[6],pe=N[7],fe=v,Q=M[0],ie=M[1],ue=M[2],Ee=K,ke=ee,Ue=ce,Le=_e,_t=Pe,Ve=$e,Be=Se,lt=be,B=Ne,w=ye,m=Te,U=pe,ne=fe,ge=Q,Ae=ie,Qe=ue;for(let gt=0;gt<W;gt+=2)Ee=Ee+_t|0,ne=I(ne^Ee,16),B=B+ne|0,_t=I(_t^B,12),Ee=Ee+_t|0,ne=I(ne^Ee,8),B=B+ne|0,_t=I(_t^B,7),ke=ke+Ve|0,ge=I(ge^ke,16),w=w+ge|0,Ve=I(Ve^w,12),ke=ke+Ve|0,ge=I(ge^ke,8),w=w+ge|0,Ve=I(Ve^w,7),Ue=Ue+Be|0,Ae=I(Ae^Ue,16),m=m+Ae|0,Be=I(Be^m,12),Ue=Ue+Be|0,Ae=I(Ae^Ue,8),m=m+Ae|0,Be=I(Be^m,7),Le=Le+lt|0,Qe=I(Qe^Le,16),U=U+Qe|0,lt=I(lt^U,12),Le=Le+lt|0,Qe=I(Qe^Le,8),U=U+Qe|0,lt=I(lt^U,7),Ee=Ee+Ve|0,Qe=I(Qe^Ee,16),m=m+Qe|0,Ve=I(Ve^m,12),Ee=Ee+Ve|0,Qe=I(Qe^Ee,8),m=m+Qe|0,Ve=I(Ve^m,7),ke=ke+Be|0,ne=I(ne^ke,16),U=U+ne|0,Be=I(Be^U,12),ke=ke+Be|0,ne=I(ne^ke,8),U=U+ne|0,Be=I(Be^U,7),Ue=Ue+lt|0,ge=I(ge^Ue,16),B=B+ge|0,lt=I(lt^B,12),Ue=Ue+lt|0,ge=I(ge^Ue,8),B=B+ge|0,lt=I(lt^B,7),Le=Le+_t|0,Ae=I(Ae^Le,16),w=w+Ae|0,_t=I(_t^w,12),Le=Le+_t|0,Ae=I(Ae^Le,8),w=w+Ae|0,_t=I(_t^w,7);let Bt=0;s[Bt++]=K+Ee|0,s[Bt++]=ee+ke|0,s[Bt++]=ce+Ue|0,s[Bt++]=_e+Le|0,s[Bt++]=Pe+_t|0,s[Bt++]=$e+Ve|0,s[Bt++]=Se+Be|0,s[Bt++]=be+lt|0,s[Bt++]=Ne+B|0,s[Bt++]=ye+w|0,s[Bt++]=Te+m|0,s[Bt++]=pe+U|0,s[Bt++]=fe+ne|0,s[Bt++]=Q+ge|0,s[Bt++]=ie+Ae|0,s[Bt++]=ue+Qe|0}const de=Y(oe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),le=Y(oe,{counterRight:!1,counterLength:8,extendNonceFn:function ae(T,N,M,s){let v=T[0],W=T[1],K=T[2],ee=T[3],ce=N[0],_e=N[1],Pe=N[2],$e=N[3],Se=N[4],be=N[5],Ne=N[6],ye=N[7],Te=M[0],pe=M[1],fe=M[2],Q=M[3];for(let ue=0;ue<20;ue+=2)v=v+ce|0,Te=I(Te^v,16),Se=Se+Te|0,ce=I(ce^Se,12),v=v+ce|0,Te=I(Te^v,8),Se=Se+Te|0,ce=I(ce^Se,7),W=W+_e|0,pe=I(pe^W,16),be=be+pe|0,_e=I(_e^be,12),W=W+_e|0,pe=I(pe^W,8),be=be+pe|0,_e=I(_e^be,7),K=K+Pe|0,fe=I(fe^K,16),Ne=Ne+fe|0,Pe=I(Pe^Ne,12),K=K+Pe|0,fe=I(fe^K,8),Ne=Ne+fe|0,Pe=I(Pe^Ne,7),ee=ee+$e|0,Q=I(Q^ee,16),ye=ye+Q|0,$e=I($e^ye,12),ee=ee+$e|0,Q=I(Q^ee,8),ye=ye+Q|0,$e=I($e^ye,7),v=v+_e|0,Q=I(Q^v,16),Ne=Ne+Q|0,_e=I(_e^Ne,12),v=v+_e|0,Q=I(Q^v,8),Ne=Ne+Q|0,_e=I(_e^Ne,7),W=W+Pe|0,Te=I(Te^W,16),ye=ye+Te|0,Pe=I(Pe^ye,12),W=W+Pe|0,Te=I(Te^W,8),ye=ye+Te|0,Pe=I(Pe^ye,7),K=K+$e|0,pe=I(pe^K,16),Se=Se+pe|0,$e=I($e^Se,12),K=K+$e|0,pe=I(pe^K,8),Se=Se+pe|0,$e=I($e^Se,7),ee=ee+ce|0,fe=I(fe^ee,16),be=be+fe|0,ce=I(ce^be,12),ee=ee+ce|0,fe=I(fe^ee,8),be=be+fe|0,ce=I(ce^be,7);let ie=0;s[ie++]=v,s[ie++]=W,s[ie++]=K,s[ie++]=ee,s[ie++]=Te,s[ie++]=pe,s[ie++]=fe,s[ie++]=Q},allowShortKeys:!1}),Ce=new Uint8Array(16),C=(T,N)=>{T.update(N);const M=N.length%16;M&&T.update(Ce.subarray(M))},a=new Uint8Array(32);function u(T,N,M,s,v){const W=T(N,M,a),K=R.create(W);v&&C(K,v),C(K,s);const ee=new Uint8Array(16),ce=(0,p.O8)(ee);(0,p.zp)(ce,0,BigInt(v?v.length:0),!0),(0,p.zp)(ce,8,BigInt(s.length),!0),K.update(ee);const _e=K.digest();return W.fill(0),_e}const y=T=>(N,M,s)=>((0,p.qj)(N,32),(0,p.qj)(M),{encrypt:(W,K)=>{const ee=W.length,ce=ee+16;K?(0,p.qj)(K,ce):K=new Uint8Array(ce),T(N,M,W,K,1);const _e=u(T,N,M,K.subarray(0,-16),s);return K.set(_e,ee),K},decrypt:(W,K)=>{const ee=W.length,ce=ee-16;if(ee<16)throw new Error("encrypted data must be at least 16 bytes");K?(0,p.qj)(K,ce):K=new Uint8Array(ce);const _e=W.subarray(0,-16),Pe=W.subarray(-16),$e=u(T,N,M,_e,s);if(!(0,p.ex)(Pe,$e))throw new Error("invalid tag");return T(N,M,_e,K,1),K}});y(de),y(le)},25953:(Fe,z,_)=>{"use strict";_.d(z,{AI:()=>Y,DH:()=>k,O8:()=>x,ZJ:()=>ae,ex:()=>xe,qj:()=>we,qn:()=>C,tY:()=>le,zp:()=>a});const k=y=>new Uint32Array(y.buffer,y.byteOffset,Math.floor(y.byteLength/4));function H(y){return y instanceof Uint8Array||null!=y&&"object"==typeof y&&"Uint8Array"===y.constructor.name}const x=y=>new DataView(y.buffer,y.byteOffset,y.byteLength);if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function Y(y){if("string"!=typeof y)throw new Error("utf8ToBytes expected string, got "+typeof y);return new Uint8Array((new TextEncoder).encode(y))}function ae(y){if("string"==typeof y)y=Y(y);else{if(!H(y))throw new Error("expected Uint8Array, got "+typeof y);y=y.slice()}return y}const de=y=>"[object Object]"===Object.prototype.toString.call(y)&&y.constructor===Object;function le(y,g){if(void 0!==g&&("object"!=typeof g||!de(g)))throw new Error("options must be object or undefined");return Object.assign(y,g)}function we(y,g){if(!H(y))throw new Error("Uint8Array expected");if("number"==typeof g&&y.length!==g)throw new Error(`Uint8Array length ${g} expected`)}function xe(y,g){if(y.length!==g.length)return!1;let S=0;for(let T=0;T<y.length;T++)S|=y[T]^g[T];return 0===S}const C=(y,g)=>(Object.assign(g,y),g);function a(y,g,S,T){if("function"==typeof y.setBigUint64)return y.setBigUint64(g,S,T);const N=BigInt(32),M=BigInt(4294967295),s=Number(S>>N&M),v=Number(S&M),K=T?0:4;y.setUint32(g+(T?4:0),s,T),y.setUint32(g+K,v,T)}},91879:(Fe,z,_)=>{"use strict";_.d(z,{NZ:()=>x});const p="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function x(){if(p&&"object"==typeof p.subtle&&null!=p.subtle)return p.subtle;throw new Error("crypto.subtle must be defined")}_(25953),_(34931)},2716:(Fe,z,_)=>{"use strict";_.d(z,{s:()=>se});var p=_(75781),E=_(62953),k=_(35765),H=_(91006),x=_(7184);const{Ph:A,aT:O}=H,F={Err:class extends Error{constructor(le=""){super(le)}},_parseInt(de){const{Err:le}=F;if(de.length<2||2!==de[0])throw new le("Invalid signature integer tag");const we=de[1],xe=de.subarray(2,we+2);if(!we||xe.length!==we)throw new le("Invalid signature integer: wrong length");if(128&xe[0])throw new le("Invalid signature integer: negative");if(0===xe[0]&&!(128&xe[1]))throw new le("Invalid signature integer: unnecessary leading zero");return{d:A(xe),l:de.subarray(we+2)}},toSig(de){const{Err:le}=F,we="string"==typeof de?O(de):de;if(!H.aY(we))throw new Error("ui8a expected");let xe=we.length;if(xe<2||48!=we[0])throw new le("Invalid signature tag");if(we[1]!==xe-2)throw new le("Invalid signature: incorrect length");const{d:Ce,l:C}=F._parseInt(we.subarray(2)),{d:a,l:u}=F._parseInt(C);if(u.length)throw new le("Invalid signature: left bytes after parsing");return{r:Ce,s:a}},hexFromSig(de){const le=g=>8&Number.parseInt(g[0],16)?"00"+g:g,we=g=>{const S=g.toString(16);return 1&S.length?`0${S}`:S},xe=le(we(de.s)),Ce=le(we(de.r)),C=xe.length/2,a=Ce.length/2,u=we(C),y=we(a);return`30${we(a+C+4)}02${y}${Ce}02${u}${xe}`}},L=BigInt(0),I=BigInt(1),j=(BigInt(2),BigInt(3));function J(de){const le=function te(de){const le=(0,x.h)(de);return H.Q5(le,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...le})}(de),{Fp:we,n:xe}=le,Ce=we.BYTES+1,C=2*we.BYTES+1;function u(ie){return k.zi(ie,xe)}function y(ie){return k.B8(ie,xe)}const{ProjectivePoint:g,normPrivateKeyToScalar:S,weierstrassEquation:T,isWithinCurveOrder:N}=function re(de){const le=function R(de){const le=(0,x.h)(de);H.Q5(le,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:we,Fp:xe,a:Ce}=le;if(we){if(!xe.eql(Ce,xe.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof we||"bigint"!=typeof we.beta||"function"!=typeof we.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...le})}(de),{Fp:we}=le,xe=le.toBytes||((s,v,W)=>{const K=v.toAffine();return H.Id(Uint8Array.from([4]),we.toBytes(K.x),we.toBytes(K.y))}),Ce=le.fromBytes||(s=>{const v=s.subarray(1);return{x:we.fromBytes(v.subarray(0,we.BYTES)),y:we.fromBytes(v.subarray(we.BYTES,2*we.BYTES))}});function C(s){const{a:v,b:W}=le,K=we.sqr(s),ee=we.mul(K,s);return we.add(we.add(ee,we.mul(s,v)),W)}if(!we.eql(we.sqr(le.Gy),C(le.Gx)))throw new Error("bad generator point: equation left != right");function a(s){return"bigint"==typeof s&&L<s&&s<le.n}function u(s){if(!a(s))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function y(s){const{allowedPrivateKeyLengths:v,nByteLength:W,wrapPrivateKey:K,n:ee}=le;if(v&&"bigint"!=typeof s){if(H.aY(s)&&(s=H.My(s)),"string"!=typeof s||!v.includes(s.length))throw new Error("Invalid key");s=s.padStart(2*W,"0")}let ce;try{ce="bigint"==typeof s?s:H.Ph((0,H.qj)("private key",s,W))}catch{throw new Error(`private key must be ${W} bytes, hex or bigint, not ${typeof s}`)}return K&&(ce=k.zi(ce,ee)),u(ce),ce}const g=new Map;function S(s){if(!(s instanceof T))throw new Error("ProjectivePoint expected")}class T{constructor(v,W,K){if(this.px=v,this.py=W,this.pz=K,null==v||!we.isValid(v))throw new Error("x required");if(null==W||!we.isValid(W))throw new Error("y required");if(null==K||!we.isValid(K))throw new Error("z required")}static fromAffine(v){const{x:W,y:K}=v||{};if(!v||!we.isValid(W)||!we.isValid(K))throw new Error("invalid affine point");if(v instanceof T)throw new Error("projective point not allowed");const ee=ce=>we.eql(ce,we.ZERO);return ee(W)&&ee(K)?T.ZERO:new T(W,K,we.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const W=we.invertBatch(v.map(K=>K.pz));return v.map((K,ee)=>K.toAffine(W[ee])).map(T.fromAffine)}static fromHex(v){const W=T.fromAffine(Ce((0,H.qj)("pointHex",v)));return W.assertValidity(),W}static fromPrivateKey(v){return T.BASE.multiply(y(v))}_setWindowSize(v){this._WINDOW_SIZE=v,g.delete(this)}assertValidity(){if(this.is0()){if(le.allowInfinityPoint&&!we.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:W}=this.toAffine();if(!we.isValid(v)||!we.isValid(W))throw new Error("bad point: x or y not FE");const K=we.sqr(W),ee=C(v);if(!we.eql(K,ee))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(we.isOdd)return!we.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){S(v);const{px:W,py:K,pz:ee}=this,{px:ce,py:_e,pz:Pe}=v,$e=we.eql(we.mul(W,Pe),we.mul(ce,ee)),Se=we.eql(we.mul(K,Pe),we.mul(_e,ee));return $e&&Se}negate(){return new T(this.px,we.neg(this.py),this.pz)}double(){const{a:v,b:W}=le,K=we.mul(W,j),{px:ee,py:ce,pz:_e}=this;let Pe=we.ZERO,$e=we.ZERO,Se=we.ZERO,be=we.mul(ee,ee),Ne=we.mul(ce,ce),ye=we.mul(_e,_e),Te=we.mul(ee,ce);return Te=we.add(Te,Te),Se=we.mul(ee,_e),Se=we.add(Se,Se),Pe=we.mul(v,Se),$e=we.mul(K,ye),$e=we.add(Pe,$e),Pe=we.sub(Ne,$e),$e=we.add(Ne,$e),$e=we.mul(Pe,$e),Pe=we.mul(Te,Pe),Se=we.mul(K,Se),ye=we.mul(v,ye),Te=we.sub(be,ye),Te=we.mul(v,Te),Te=we.add(Te,Se),Se=we.add(be,be),be=we.add(Se,be),be=we.add(be,ye),be=we.mul(be,Te),$e=we.add($e,be),ye=we.mul(ce,_e),ye=we.add(ye,ye),be=we.mul(ye,Te),Pe=we.sub(Pe,be),Se=we.mul(ye,Ne),Se=we.add(Se,Se),Se=we.add(Se,Se),new T(Pe,$e,Se)}add(v){S(v);const{px:W,py:K,pz:ee}=this,{px:ce,py:_e,pz:Pe}=v;let $e=we.ZERO,Se=we.ZERO,be=we.ZERO;const Ne=le.a,ye=we.mul(le.b,j);let Te=we.mul(W,ce),pe=we.mul(K,_e),fe=we.mul(ee,Pe),Q=we.add(W,K),ie=we.add(ce,_e);Q=we.mul(Q,ie),ie=we.add(Te,pe),Q=we.sub(Q,ie),ie=we.add(W,ee);let ue=we.add(ce,Pe);return ie=we.mul(ie,ue),ue=we.add(Te,fe),ie=we.sub(ie,ue),ue=we.add(K,ee),$e=we.add(_e,Pe),ue=we.mul(ue,$e),$e=we.add(pe,fe),ue=we.sub(ue,$e),be=we.mul(Ne,ie),$e=we.mul(ye,fe),be=we.add($e,be),$e=we.sub(pe,be),be=we.add(pe,be),Se=we.mul($e,be),pe=we.add(Te,Te),pe=we.add(pe,Te),fe=we.mul(Ne,fe),ie=we.mul(ye,ie),pe=we.add(pe,fe),fe=we.sub(Te,fe),fe=we.mul(Ne,fe),ie=we.add(ie,fe),Te=we.mul(pe,ie),Se=we.add(Se,Te),Te=we.mul(ue,ie),$e=we.mul(Q,$e),$e=we.sub($e,Te),Te=we.mul(Q,pe),be=we.mul(ue,be),be=we.add(be,Te),new T($e,Se,be)}subtract(v){return this.add(v.negate())}is0(){return this.equals(T.ZERO)}wNAF(v){return M.wNAFCached(this,g,v,W=>{const K=we.invertBatch(W.map(ee=>ee.pz));return W.map((ee,ce)=>ee.toAffine(K[ce])).map(T.fromAffine)})}multiplyUnsafe(v){const W=T.ZERO;if(v===L)return W;if(u(v),v===I)return this;const{endo:K}=le;if(!K)return M.unsafeLadder(this,v);let{k1neg:ee,k1:ce,k2neg:_e,k2:Pe}=K.splitScalar(v),$e=W,Se=W,be=this;for(;ce>L||Pe>L;)ce&I&&($e=$e.add(be)),Pe&I&&(Se=Se.add(be)),be=be.double(),ce>>=I,Pe>>=I;return ee&&($e=$e.negate()),_e&&(Se=Se.negate()),Se=new T(we.mul(Se.px,K.beta),Se.py,Se.pz),$e.add(Se)}multiply(v){u(v);let K,ee,W=v;const{endo:ce}=le;if(ce){const{k1neg:_e,k1:Pe,k2neg:$e,k2:Se}=ce.splitScalar(W);let{p:be,f:Ne}=this.wNAF(Pe),{p:ye,f:Te}=this.wNAF(Se);be=M.constTimeNegate(_e,be),ye=M.constTimeNegate($e,ye),ye=new T(we.mul(ye.px,ce.beta),ye.py,ye.pz),K=be.add(ye),ee=Ne.add(Te)}else{const{p:_e,f:Pe}=this.wNAF(W);K=_e,ee=Pe}return T.normalizeZ([K,ee])[0]}multiplyAndAddUnsafe(v,W,K){const ee=T.BASE,ce=(Pe,$e)=>$e!==L&&$e!==I&&Pe.equals(ee)?Pe.multiply($e):Pe.multiplyUnsafe($e),_e=ce(this,W).add(ce(v,K));return _e.is0()?void 0:_e}toAffine(v){const{px:W,py:K,pz:ee}=this,ce=this.is0();null==v&&(v=ce?we.ONE:we.inv(ee));const _e=we.mul(W,v),Pe=we.mul(K,v),$e=we.mul(ee,v);if(ce)return{x:we.ZERO,y:we.ZERO};if(!we.eql($e,we.ONE))throw new Error("invZ was invalid");return{x:_e,y:Pe}}isTorsionFree(){const{h:v,isTorsionFree:W}=le;if(v===I)return!0;if(W)return W(T,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:W}=le;return v===I?this:W?W(T,this):this.multiplyUnsafe(le.h)}toRawBytes(v=!0){return this.assertValidity(),xe(T,this,v)}toHex(v=!0){return H.My(this.toRawBytes(v))}}T.BASE=new T(le.Gx,le.Gy,we.ONE),T.ZERO=new T(we.ZERO,we.ONE,we.ZERO);const N=le.nBitLength,M=(0,x.A)(T,le.endo?Math.ceil(N/2):N);return{CURVE:le,ProjectivePoint:T,normPrivateKeyToScalar:y,weierstrassEquation:C,isWithinCurveOrder:a}}({...le,toBytes(ie,ue,Ee){const ke=ue.toAffine(),Ue=we.toBytes(ke.x),Le=H.Id;return Ee?Le(Uint8Array.from([ue.hasEvenY()?2:3]),Ue):Le(Uint8Array.from([4]),Ue,we.toBytes(ke.y))},fromBytes(ie){const ue=ie.length,Ee=ie[0],ke=ie.subarray(1);if(ue!==Ce||2!==Ee&&3!==Ee){if(ue===C&&4===Ee)return{x:we.fromBytes(ke.subarray(0,we.BYTES)),y:we.fromBytes(ke.subarray(we.BYTES,2*we.BYTES))};throw new Error(`Point of length ${ue} was invalid. Expected ${Ce} compressed bytes or ${C} uncompressed bytes`)}{const Ue=H.Ph(ke);if(!function a(ie){return L<ie&&ie<we.ORDER}(Ue))throw new Error("Point is not on curve");const Le=T(Ue);let _t=we.sqrt(Le);return!(1&~Ee)!=((_t&I)===I)&&(_t=we.neg(_t)),{x:Ue,y:_t}}}}),M=ie=>H.My(H.lq(ie,le.nByteLength));function s(ie){return ie>xe>>I}const W=(ie,ue,Ee)=>H.Ph(ie.slice(ue,Ee));class K{constructor(ue,Ee,ke){this.r=ue,this.s=Ee,this.recovery=ke,this.assertValidity()}static fromCompact(ue){const Ee=le.nByteLength;return ue=(0,H.qj)("compactSignature",ue,2*Ee),new K(W(ue,0,Ee),W(ue,Ee,2*Ee))}static fromDER(ue){const{r:Ee,s:ke}=F.toSig((0,H.qj)("DER",ue));return new K(Ee,ke)}assertValidity(){if(!N(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!N(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(ue){return new K(this.r,this.s,ue)}recoverPublicKey(ue){const{r:Ee,s:ke,recovery:Ue}=this,Le=Se((0,H.qj)("msgHash",ue));if(null==Ue||![0,1,2,3].includes(Ue))throw new Error("recovery id invalid");const _t=2===Ue||3===Ue?Ee+le.n:Ee;if(_t>=we.ORDER)throw new Error("recovery id 2 or 3 invalid");const Be=g.fromHex((1&Ue?"03":"02")+M(_t)),lt=y(_t),B=u(-Le*lt),w=u(ke*lt),m=g.BASE.multiplyAndAddUnsafe(Be,B,w);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return s(this.s)}normalizeS(){return this.hasHighS()?new K(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return H.aT(this.toDERHex())}toDERHex(){return F.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return H.aT(this.toCompactHex())}toCompactHex(){return M(this.r)+M(this.s)}}const ee={isValidPrivateKey(ie){try{return S(ie),!0}catch{return!1}},normPrivateKeyToScalar:S,randomPrivateKey:()=>{const ie=k.Tp(le.n);return k.qy(le.randomBytes(ie),le.n)},precompute:(ie=8,ue=g.BASE)=>(ue._setWindowSize(ie),ue.multiply(BigInt(3)),ue)};function _e(ie){const ue=H.aY(ie),Ee="string"==typeof ie,ke=(ue||Ee)&&ie.length;return ue?ke===Ce||ke===C:Ee?ke===2*Ce||ke===2*C:ie instanceof g}const $e=le.bits2int||function(ie){const ue=H.Ph(ie),Ee=8*ie.length-le.nBitLength;return Ee>0?ue>>BigInt(Ee):ue},Se=le.bits2int_modN||function(ie){return u($e(ie))},be=H.OG(le.nBitLength);function Ne(ie){if("bigint"!=typeof ie)throw new Error("bigint expected");if(!(L<=ie&&ie<be))throw new Error(`bigint expected < 2^${le.nBitLength}`);return H.lq(ie,le.nByteLength)}const Te={lowS:le.lowS,prehash:!1},pe={lowS:le.lowS,prehash:!1};return g.BASE._setWindowSize(8),{CURVE:le,getPublicKey:function ce(ie,ue=!0){return g.fromPrivateKey(ie).toRawBytes(ue)},getSharedSecret:function Pe(ie,ue,Ee=!0){if(_e(ie))throw new Error("first arg must be private key");if(!_e(ue))throw new Error("second arg must be public key");return g.fromHex(ue).multiply(S(ie)).toRawBytes(Ee)},sign:function fe(ie,ue,Ee=Te){const{seed:ke,k2sig:Ue}=function ye(ie,ue,Ee=Te){if(["recovered","canonical"].some(ne=>ne in Ee))throw new Error("sign() legacy options not supported");const{hash:ke,randomBytes:Ue}=le;let{lowS:Le,prehash:_t,extraEntropy:Ve}=Ee;null==Le&&(Le=!0),ie=(0,H.qj)("msgHash",ie),_t&&(ie=(0,H.qj)("prehashed msgHash",ke(ie)));const Be=Se(ie),lt=S(ue),B=[Ne(lt),Ne(Be)];if(null!=Ve){const ne=!0===Ve?Ue(we.BYTES):Ve;B.push((0,H.qj)("extraEntropy",ne))}const w=H.Id(...B),m=Be;return{seed:w,k2sig:function U(ne){const ge=$e(ne);if(!N(ge))return;const Ae=y(ge),Qe=g.BASE.multiply(ge).toAffine(),Bt=u(Qe.x);if(Bt===L)return;const gt=u(Ae*u(m+Bt*lt));if(gt===L)return;let It=(Qe.x===Bt?0:2)|Number(Qe.y&I),Gt=gt;return Le&&s(gt)&&(Gt=function v(ie){return s(ie)?u(-ie):ie}(gt),It^=1),new K(Bt,Gt,It)}}}(ie,ue,Ee);return H.fg(le.hash.outputLen,le.nByteLength,le.hmac)(ke,Ue)},verify:function Q(ie,ue,Ee,ke=pe){const Ue=ie;if(ue=(0,H.qj)("msgHash",ue),Ee=(0,H.qj)("publicKey",Ee),"strict"in ke)throw new Error("options.strict was renamed to lowS");const{lowS:Le,prehash:_t}=ke;let Ve,Be;try{if("string"==typeof Ue||H.aY(Ue))try{Ve=K.fromDER(Ue)}catch(Qe){if(!(Qe instanceof F.Err))throw Qe;Ve=K.fromCompact(Ue)}else{if("object"!=typeof Ue||"bigint"!=typeof Ue.r||"bigint"!=typeof Ue.s)throw new Error("PARSE");{const{r:Qe,s:Bt}=Ue;Ve=new K(Qe,Bt)}}Be=g.fromHex(Ee)}catch(Qe){if("PARSE"===Qe.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Le&&Ve.hasHighS())return!1;_t&&(ue=le.hash(ue));const{r:lt,s:B}=Ve,w=Se(ue),m=y(B),U=u(w*m),ne=u(lt*m),ge=g.BASE.multiplyAndAddUnsafe(Be,U,ne)?.toAffine();return!!ge&&u(ge.x)===lt},ProjectivePoint:g,Signature:K,utils:ee}}function ae(de){return{hash:de,hmac:(le,...we)=>(0,p.w)(de,le,(0,E.Id)(...we)),randomBytes:E.po}}function se(de,le){const we=xe=>J({...de,...ae(xe)});return Object.freeze({...we(le),create:we})}BigInt(4)},7184:(Fe,z,_)=>{"use strict";_.d(z,{A:()=>x,h:()=>R});var p=_(35765),E=_(91006);const k=BigInt(0),H=BigInt(1);function x(A,O){const F=(I,Z)=>{const j=Z.negate();return I?j:Z},L=I=>({windows:Math.ceil(O/I)+1,windowSize:2**(I-1)});return{constTimeNegate:F,unsafeLadder(I,Z){let j=A.ZERO,G=I;for(;Z>k;)Z&H&&(j=j.add(G)),G=G.double(),Z>>=H;return j},precomputeWindow(I,Z){const{windows:j,windowSize:G}=L(Z),re=[];let te=I,J=te;for(let Y=0;Y<j;Y++){J=te,re.push(J);for(let oe=1;oe<G;oe++)J=J.add(te),re.push(J);te=J.double()}return re},wNAF(I,Z,j){const{windows:G,windowSize:re}=L(I);let te=A.ZERO,J=A.BASE;const Y=BigInt(2**I-1),oe=2**I,ae=BigInt(I);for(let se=0;se<G;se++){const de=se*re;let le=Number(j&Y);j>>=ae,le>re&&(le-=oe,j+=H);const we=de,xe=de+Math.abs(le)-1,C=le<0;0===le?J=J.add(F(se%2!=0,Z[we])):te=te.add(F(C,Z[xe]))}return{p:te,f:J}},wNAFCached(I,Z,j,G){const re=I._WINDOW_SIZE||1;let te=Z.get(I);return te||(te=this.precomputeWindow(I,re),1!==re&&Z.set(I,G(te))),this.wNAF(re,te,j)}}}function R(A){return(0,p.jr)(A.Fp),(0,E.Q5)(A,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,p.LH)(A.n,A.nBitLength),...A,p:A.Fp.ORDER})}},35765:(Fe,z,_)=>{"use strict";_.d(z,{B8:()=>G,D0:()=>xe,LH:()=>we,Tp:()=>y,Tv:()=>C,dQ:()=>J,jr:()=>oe,n7:()=>Z,qy:()=>g,zH:()=>j,zi:()=>I});var p=_(91006);const E=BigInt(0),k=BigInt(1),H=BigInt(2),x=BigInt(3),R=BigInt(4),A=BigInt(5),O=BigInt(8);function I(S,T){const N=S%T;return N>=E?N:T+N}function Z(S,T,N){if(N<=E||T<E)throw new Error("Expected power/modulo > 0");if(N===k)return E;let M=k;for(;T>E;)T&k&&(M=M*S%N),S=S*S%N,T>>=k;return M}function j(S,T,N){let M=S;for(;T-- >E;)M*=M,M%=N;return M}function G(S,T){if(S===E||T<=E)throw new Error(`invert: expected positive integers, got n=${S} mod=${T}`);let N=I(S,T),M=T,s=E,v=k,W=k,K=E;for(;N!==E;){const ce=M/N,_e=M%N,Pe=s-W*ce,$e=v-K*ce;M=N,N=_e,s=W,v=K,W=Pe,K=$e}if(M!==k)throw new Error("invert: does not exist");return I(s,T)}BigInt(9),BigInt(16);const J=(S,T)=>(I(S,T)&k)===k,Y=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function oe(S){const N=Y.reduce((M,s)=>(M[s]="function",M),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,p.Q5)(S,N)}function we(S,T){const N=void 0!==T?T:S.toString(2).length;return{nBitLength:N,nByteLength:Math.ceil(N/8)}}function xe(S,T,N=!1,M={}){if(S<=E)throw new Error(`Expected Field ORDER > 0, got ${S}`);const{nBitLength:s,nByteLength:v}=we(S,T);if(v>2048)throw new Error("Field lengths over 2048 bytes are not supported");const W=function te(S){if(S%R===x){const T=(S+k)/R;return function(M,s){const v=M.pow(s,T);if(!M.eql(M.sqr(v),s))throw new Error("Cannot find square root");return v}}if(S%O===A){const T=(S-A)/O;return function(M,s){const v=M.mul(s,H),W=M.pow(v,T),K=M.mul(s,W),ee=M.mul(M.mul(K,H),W),ce=M.mul(K,M.sub(ee,M.ONE));if(!M.eql(M.sqr(ce),s))throw new Error("Cannot find square root");return ce}}return function re(S){const T=(S-k)/H;let N,M,s;for(N=S-k,M=0;N%H===E;N/=H,M++);for(s=H;s<S&&Z(s,T,S)!==S-k;s++);if(1===M){const W=(S+k)/R;return function(ee,ce){const _e=ee.pow(ce,W);if(!ee.eql(ee.sqr(_e),ce))throw new Error("Cannot find square root");return _e}}const v=(N+k)/H;return function(K,ee){if(K.pow(ee,T)===K.neg(K.ONE))throw new Error("Cannot find square root");let ce=M,_e=K.pow(K.mul(K.ONE,s),N),Pe=K.pow(ee,v),$e=K.pow(ee,N);for(;!K.eql($e,K.ONE);){if(K.eql($e,K.ZERO))return K.ZERO;let Se=1;for(let Ne=K.sqr($e);Se<ce&&!K.eql(Ne,K.ONE);Se++)Ne=K.sqr(Ne);const be=K.pow(_e,k<<BigInt(ce-Se-1));_e=K.sqr(be),Pe=K.mul(Pe,be),$e=K.mul($e,_e),ce=Se}return Pe}}(S)}(S),K=Object.freeze({ORDER:S,BITS:s,BYTES:v,MASK:(0,p.OG)(s),ZERO:E,ONE:k,create:ee=>I(ee,S),isValid:ee=>{if("bigint"!=typeof ee)throw new Error("Invalid field element: expected bigint, got "+typeof ee);return E<=ee&&ee<S},is0:ee=>ee===E,isOdd:ee=>(ee&k)===k,neg:ee=>I(-ee,S),eql:(ee,ce)=>ee===ce,sqr:ee=>I(ee*ee,S),add:(ee,ce)=>I(ee+ce,S),sub:(ee,ce)=>I(ee-ce,S),mul:(ee,ce)=>I(ee*ce,S),pow:(ee,ce)=>function ae(S,T,N){if(N<E)throw new Error("Expected power > 0");if(N===E)return S.ONE;if(N===k)return T;let M=S.ONE,s=T;for(;N>E;)N&k&&(M=S.mul(M,s)),s=S.sqr(s),N>>=k;return M}(K,ee,ce),div:(ee,ce)=>I(ee*G(ce,S),S),sqrN:ee=>ee*ee,addN:(ee,ce)=>ee+ce,subN:(ee,ce)=>ee-ce,mulN:(ee,ce)=>ee*ce,inv:ee=>G(ee,S),sqrt:M.sqrt||(ee=>W(K,ee)),invertBatch:ee=>function se(S,T){const N=new Array(T.length),M=T.reduce((v,W,K)=>S.is0(W)?v:(N[K]=v,S.mul(v,W)),S.ONE),s=S.inv(M);return T.reduceRight((v,W,K)=>S.is0(W)?v:(N[K]=S.mul(v,N[K]),S.mul(v,W)),s),N}(K,ee),cmov:(ee,ce,_e)=>_e?ce:ee,toBytes:ee=>N?(0,p.z)(ee,v):(0,p.lq)(ee,v),fromBytes:ee=>{if(ee.length!==v)throw new Error(`Fp.fromBytes: expected ${v}, got ${ee.length}`);return N?(0,p.lX)(ee):(0,p.Ph)(ee)}});return Object.freeze(K)}function C(S,T){if(!S.isOdd)throw new Error("Field doesn't have isOdd");const N=S.sqrt(T);return S.isOdd(N)?S.neg(N):N}function u(S){if("bigint"!=typeof S)throw new Error("field order must be bigint");const T=S.toString(2).length;return Math.ceil(T/8)}function y(S){const T=u(S);return T+Math.ceil(T/2)}function g(S,T,N=!1){const M=S.length,s=u(T),v=y(T);if(M<16||M<v||M>1024)throw new Error(`expected ${v}-1024 bytes of input, got ${M}`);const K=I(N?(0,p.Ph)(S):(0,p.lX)(S),T-k)+k;return N?(0,p.z)(K,s):(0,p.lq)(K,s)}},91006:(Fe,z,_)=>{"use strict";_.d(z,{Id:()=>Y,My:()=>R,OG:()=>we,Ph:()=>Z,Q5:()=>u,aT:()=>I,aY:()=>H,fg:()=>C,lX:()=>j,lq:()=>G,qj:()=>J,z:()=>re}),BigInt(0);const E=BigInt(1),k=BigInt(2);function H(y){return y instanceof Uint8Array||null!=y&&"object"==typeof y&&"Uint8Array"===y.constructor.name}const x=Array.from({length:256},(y,g)=>g.toString(16).padStart(2,"0"));function R(y){if(!H(y))throw new Error("Uint8Array expected");let g="";for(let S=0;S<y.length;S++)g+=x[y[S]];return g}function O(y){if("string"!=typeof y)throw new Error("hex string expected, got "+typeof y);return BigInt(""===y?"0":`0x${y}`)}const F={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function L(y){return y>=F._0&&y<=F._9?y-F._0:y>=F._A&&y<=F._F?y-(F._A-10):y>=F._a&&y<=F._f?y-(F._a-10):void 0}function I(y){if("string"!=typeof y)throw new Error("hex string expected, got "+typeof y);const g=y.length,S=g/2;if(g%2)throw new Error("padded hex string expected, got unpadded hex of length "+g);const T=new Uint8Array(S);for(let N=0,M=0;N<S;N++,M+=2){const s=L(y.charCodeAt(M)),v=L(y.charCodeAt(M+1));if(void 0===s||void 0===v)throw new Error('hex string expected, got non-hex character "'+(y[M]+y[M+1])+'" at index '+M);T[N]=16*s+v}return T}function Z(y){return O(R(y))}function j(y){if(!H(y))throw new Error("Uint8Array expected");return O(R(Uint8Array.from(y).reverse()))}function G(y,g){return I(y.toString(16).padStart(2*g,"0"))}function re(y,g){return G(y,g).reverse()}function J(y,g,S){let T;if("string"==typeof g)try{T=I(g)}catch(M){throw new Error(`${y} must be valid hex string, got "${g}". Cause: ${M}`)}else{if(!H(g))throw new Error(`${y} must be hex string or Uint8Array`);T=Uint8Array.from(g)}const N=T.length;if("number"==typeof S&&N!==S)throw new Error(`${y} expected ${S} bytes, got ${N}`);return T}function Y(...y){let g=0;for(let N=0;N<y.length;N++){const M=y[N];if(!H(M))throw new Error("Uint8Array expected");g+=M.length}let S=new Uint8Array(g),T=0;for(let N=0;N<y.length;N++){const M=y[N];S.set(M,T),T+=M.length}return S}const we=y=>(k<<BigInt(y-1))-E,xe=y=>new Uint8Array(y),Ce=y=>Uint8Array.from(y);function C(y,g,S){if("number"!=typeof y||y<2)throw new Error("hashLen must be a number");if("number"!=typeof g||g<2)throw new Error("qByteLen must be a number");if("function"!=typeof S)throw new Error("hmacFn must be a function");let T=xe(y),N=xe(y),M=0;const s=()=>{T.fill(1),N.fill(0),M=0},v=(...ce)=>S(N,T,...ce),W=(ce=xe())=>{N=v(Ce([0]),ce),T=v(),0!==ce.length&&(N=v(Ce([1]),ce),T=v())},K=()=>{if(M++>=1e3)throw new Error("drbg: tried 1000 values");let ce=0;const _e=[];for(;ce<g;){T=v();const Pe=T.slice();_e.push(Pe),ce+=T.length}return Y(..._e)};return(ce,_e)=>{let Pe;for(s(),W(ce);!(Pe=_e(K()));)W();return s(),Pe}}const a={bigint:y=>"bigint"==typeof y,function:y=>"function"==typeof y,boolean:y=>"boolean"==typeof y,string:y=>"string"==typeof y,stringOrUint8Array:y=>"string"==typeof y||H(y),isSafeInteger:y=>Number.isSafeInteger(y),array:y=>Array.isArray(y),field:(y,g)=>g.Fp.isValid(y),hash:y=>"function"==typeof y&&Number.isSafeInteger(y.outputLen)};function u(y,g,S={}){const T=(N,M,s)=>{const v=a[M];if("function"!=typeof v)throw new Error(`Invalid validator "${M}", expected function`);const W=y[N];if(!(s&&void 0===W||v(W,y)))throw new Error(`Invalid param ${String(N)}=${W} (${typeof W}), expected ${M}`)};for(const[N,M]of Object.entries(g))T(N,M,!1);for(const[N,M]of Object.entries(S))T(N,M,!0);return y}},86295:(Fe,z,_)=>{"use strict";_.d(z,{ev:()=>T,OA:()=>ee,GU:()=>W,TU:()=>v});var p=_(25431),E=_(62953),k=_(35765),H=_(91006),x=_(7184);const R=BigInt(0),A=BigInt(1),O=BigInt(2),F=BigInt(8),L={zip215:!0};function Z(U){const ne=function I(U){const ne=(0,x.h)(U);return H.Q5(U,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...ne})}(U),{Fp:ge,n:Ae,prehash:Qe,hash:Bt,randomBytes:gt,nByteLength:It,h:Gt}=ne,un=O<<BigInt(8*It)-A,an=ge.create,sr=ne.uvRatio||((Ln,$n)=>{try{return{isValid:!0,value:ge.sqrt(Ln*ge.inv($n))}}catch{return{isValid:!1,value:R}}}),Mn=ne.adjustScalarBytes||(Ln=>Ln),Qt=ne.domain||((Ln,$n,st)=>{if($n.length||st)throw new Error("Contexts/pre-hash are not supported");return Ln}),qt=Ln=>"bigint"==typeof Ln&&R<Ln,Et=(Ln,$n)=>qt(Ln)&&qt($n)&&Ln<$n,ht=Ln=>Ln===R||Et(Ln,un);function zt(Ln,$n){if(Et(Ln,$n))return Ln;throw new Error(`Expected valid scalar < ${$n}, got ${typeof Ln} ${Ln}`)}function Jt(Ln){return Ln===R?Ln:zt(Ln,Ae)}const dn=new Map;function hr(Ln){if(!(Ln instanceof vt))throw new Error("ExtendedPoint expected")}class vt{constructor($n,st,Ge,ct){if(this.ex=$n,this.ey=st,this.ez=Ge,this.et=ct,!ht($n))throw new Error("x required");if(!ht(st))throw new Error("y required");if(!ht(Ge))throw new Error("z required");if(!ht(ct))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine($n){if($n instanceof vt)throw new Error("extended point not allowed");const{x:st,y:Ge}=$n||{};if(!ht(st)||!ht(Ge))throw new Error("invalid affine point");return new vt(st,Ge,A,an(st*Ge))}static normalizeZ($n){const st=ge.invertBatch($n.map(Ge=>Ge.ez));return $n.map((Ge,ct)=>Ge.toAffine(st[ct])).map(vt.fromAffine)}_setWindowSize($n){this._WINDOW_SIZE=$n,dn.delete(this)}assertValidity(){const{a:$n,d:st}=ne;if(this.is0())throw new Error("bad point: ZERO");const{ex:Ge,ey:ct,ez:Yt,et:_n}=this,Wn=an(Ge*Ge),Yn=an(ct*ct),yr=an(Yt*Yt),Nr=an(yr*yr),Ur=an(Wn*$n);if(an(yr*an(Ur+Yn))!==an(Nr+an(st*an(Wn*Yn))))throw new Error("bad point: equation left != right (1)");if(an(Ge*ct)!==an(Yt*_n))throw new Error("bad point: equation left != right (2)")}equals($n){hr($n);const{ex:st,ey:Ge,ez:ct}=this,{ex:Yt,ey:_n,ez:Wn}=$n,Yn=an(st*Wn),yr=an(Yt*ct),Nr=an(Ge*Wn),Ur=an(_n*ct);return Yn===yr&&Nr===Ur}is0(){return this.equals(vt.ZERO)}negate(){return new vt(an(-this.ex),this.ey,this.ez,an(-this.et))}double(){const{a:$n}=ne,{ex:st,ey:Ge,ez:ct}=this,Yt=an(st*st),_n=an(Ge*Ge),Wn=an(O*an(ct*ct)),Yn=an($n*Yt),yr=st+Ge,Nr=an(an(yr*yr)-Yt-_n),Ur=Yn+_n,Kr=Ur-Wn,Xr=Yn-_n,ri=an(Nr*Kr),en=an(Ur*Xr),wn=an(Nr*Xr),Dn=an(Kr*Ur);return new vt(ri,en,Dn,wn)}add($n){hr($n);const{a:st,d:Ge}=ne,{ex:ct,ey:Yt,ez:_n,et:Wn}=this,{ex:Yn,ey:yr,ez:Nr,et:Ur}=$n;if(st===BigInt(-1)){const ti=an((Yt-ct)*(yr+Yn)),xo=an((Yt+ct)*(yr-Yn)),bi=an(xo-ti);if(bi===R)return this.double();const Ao=an(_n*O*Ur),ko=an(Wn*O*Nr),Jo=ko+Ao,ji=xo+ti,wi=ko-Ao,Ui=an(Jo*bi),La=an(ji*wi),Mi=an(Jo*wi),ls=an(bi*ji);return new vt(Ui,La,ls,Mi)}const Kr=an(ct*Yn),Xr=an(Yt*yr),ri=an(Wn*Ge*Ur),en=an(_n*Nr),wn=an((ct+Yt)*(Yn+yr)-Kr-Xr),Dn=en-ri,Fn=en+ri,fr=an(Xr-st*Kr),Sr=an(wn*Dn),xr=an(Fn*fr),Fr=an(wn*fr),jr=an(Dn*Fn);return new vt(Sr,xr,jr,Fr)}subtract($n){return this.add($n.negate())}wNAF($n){return Xe.wNAFCached(this,dn,$n,vt.normalizeZ)}multiply($n){const{p:st,f:Ge}=this.wNAF(zt($n,Ae));return vt.normalizeZ([st,Ge])[0]}multiplyUnsafe($n){let st=Jt($n);return st===R?St:this.equals(St)||st===A?this:this.equals(xt)?this.wNAF(st).p:Xe.unsafeLadder(this,st)}isSmallOrder(){return this.multiplyUnsafe(Gt).is0()}isTorsionFree(){return Xe.unsafeLadder(this,Ae).is0()}toAffine($n){const{ex:st,ey:Ge,ez:ct}=this,Yt=this.is0();null==$n&&($n=Yt?F:ge.inv(ct));const _n=an(st*$n),Wn=an(Ge*$n),Yn=an(ct*$n);if(Yt)return{x:R,y:A};if(Yn!==A)throw new Error("invZ was invalid");return{x:_n,y:Wn}}clearCofactor(){const{h:$n}=ne;return $n===A?this:this.multiplyUnsafe($n)}static fromHex($n,st=!1){const{d:Ge,a:ct}=ne,Yt=ge.BYTES,_n=($n=(0,H.qj)("pointHex",$n,Yt)).slice(),Wn=$n[Yt-1];_n[Yt-1]=-129&Wn;const Yn=H.lX(_n);Yn===R||zt(Yn,st?un:ge.ORDER);const yr=an(Yn*Yn),Nr=an(yr-A),Ur=an(Ge*yr-ct);let{isValid:Kr,value:Xr}=sr(Nr,Ur);if(!Kr)throw new Error("Point.fromHex: invalid y coordinate");const ri=(Xr&A)===A,en=!!(128&Wn);if(!st&&Xr===R&&en)throw new Error("Point.fromHex: x=0 and x_0=1");return en!==ri&&(Xr=an(-Xr)),vt.fromAffine({x:Xr,y:Yn})}static fromPrivateKey($n){return Ot($n).point}toRawBytes(){const{x:$n,y:st}=this.toAffine(),Ge=H.z(st,ge.BYTES);return Ge[Ge.length-1]|=$n&A?128:0,Ge}toHex(){return H.My(this.toRawBytes())}}vt.BASE=new vt(ne.Gx,ne.Gy,A,an(ne.Gx*ne.Gy)),vt.ZERO=new vt(R,A,A,R);const{BASE:xt,ZERO:St}=vt,Xe=(0,x.A)(vt,8*It);function nt(Ln){return(0,k.zi)(Ln,Ae)}function Vt(Ln){return nt(H.lX(Ln))}function Ot(Ln){const $n=It;Ln=(0,H.qj)("private key",Ln,$n);const st=(0,H.qj)("hashed private key",Bt(Ln),2*$n),Ge=Mn(st.slice(0,$n)),ct=st.slice($n,2*$n),Yt=Vt(Ge),_n=xt.multiply(Yt),Wn=_n.toRawBytes();return{head:Ge,prefix:ct,scalar:Yt,point:_n,pointBytes:Wn}}function Hn(Ln=new Uint8Array,...$n){const st=H.Id(...$n);return Vt(Bt(Qt(st,(0,H.qj)("context",Ln),!!Qe)))}const In=L;return xt._setWindowSize(8),{CURVE:ne,getPublicKey:function sn(Ln){return Ot(Ln).pointBytes},sign:function bn(Ln,$n,st={}){Ln=(0,H.qj)("message",Ln),Qe&&(Ln=Qe(Ln));const{prefix:Ge,scalar:ct,pointBytes:Yt}=Ot($n),_n=Hn(st.context,Ge,Ln),Wn=xt.multiply(_n).toRawBytes(),yr=nt(_n+Hn(st.context,Wn,Yt,Ln)*ct);Jt(yr);const Nr=H.Id(Wn,H.z(yr,ge.BYTES));return(0,H.qj)("result",Nr,2*It)},verify:function Ar(Ln,$n,st,Ge=In){const{context:ct,zip215:Yt}=Ge,_n=ge.BYTES;Ln=(0,H.qj)("signature",Ln,2*_n),$n=(0,H.qj)("message",$n),Qe&&($n=Qe($n));const Wn=H.lX(Ln.slice(_n,2*_n));let Yn,yr,Nr;try{Yn=vt.fromHex(st,Yt),yr=vt.fromHex(Ln.slice(0,_n),Yt),Nr=xt.multiplyUnsafe(Wn)}catch{return!1}if(!Yt&&Yn.isSmallOrder())return!1;const Ur=Hn(ct,yr.toRawBytes(),Yn.toRawBytes(),$n);return yr.add(Yn.multiplyUnsafe(Ur)).subtract(Nr).clearCofactor().equals(vt.ZERO)},ExtendedPoint:vt,utils:{getExtendedPublicKey:Ot,randomPrivateKey:()=>gt(ge.BYTES),precompute:(Ln=8,$n=vt.BASE)=>($n._setWindowSize(Ln),$n.multiply(BigInt(3)),$n)}}}const j=BigInt(0),G=BigInt(1),J=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Y=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),ae=(BigInt(0),BigInt(1)),se=BigInt(2),de=BigInt(5),le=BigInt(10),we=BigInt(20),xe=BigInt(40),Ce=BigInt(80);function C(U){const ne=J,Ae=U*U%ne*U%ne,Qe=(0,k.zH)(Ae,se,ne)*Ae%ne,Bt=(0,k.zH)(Qe,ae,ne)*U%ne,gt=(0,k.zH)(Bt,de,ne)*Bt%ne,It=(0,k.zH)(gt,le,ne)*gt%ne,Gt=(0,k.zH)(It,we,ne)*It%ne,un=(0,k.zH)(Gt,xe,ne)*Gt%ne,an=(0,k.zH)(un,Ce,ne)*un%ne,sr=(0,k.zH)(an,Ce,ne)*un%ne,Mn=(0,k.zH)(sr,le,ne)*gt%ne;return{pow_p_5_8:(0,k.zH)(Mn,se,ne)*U%ne,b2:Ae}}function a(U){return U[0]&=248,U[31]&=127,U[31]|=64,U}const g=(0,k.D0)(J,void 0,!0),S={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:g,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:p.Zf,randomBytes:E.po,adjustScalarBytes:a,uvRatio:function u(U,ne){const ge=J,Ae=(0,k.zi)(ne*ne*ne,ge),Bt=C(U*(0,k.zi)(Ae*Ae*ne,ge)).pow_p_5_8;let gt=(0,k.zi)(U*Ae*Bt,ge);const It=(0,k.zi)(ne*gt*gt,ge),Gt=gt,un=(0,k.zi)(gt*Y,ge),an=It===U,sr=It===(0,k.zi)(-U,ge),Mn=It===(0,k.zi)(-U*Y,ge);return an&&(gt=Gt),(sr||Mn)&&(gt=un),(0,k.dQ)(gt,ge)&&(gt=(0,k.zi)(-gt,ge)),{isValid:an||sr,value:gt}}},T=Z(S);const v=function te(U){const ne=function re(U){return(0,H.Q5)(U,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...U})}(U),{P:ge}=ne,Ae=dn=>(0,k.zi)(dn,ge),Qe=ne.montgomeryBits,Bt=Math.ceil(Qe/8),gt=ne.nByteLength,It=ne.adjustScalarBytes||(dn=>dn),Gt=ne.powPminus2||(dn=>(0,k.n7)(dn,ge-BigInt(2),ge));function un(dn,hr,vt){const xt=Ae(dn*(hr-vt));return[hr=Ae(hr-xt),vt=Ae(vt+xt)]}function an(dn){if("bigint"==typeof dn&&j<=dn&&dn<ge)return dn;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const sr=(ne.a-BigInt(2))/BigInt(4);function Qt(dn){return(0,H.z)(Ae(dn),Bt)}function ht(dn,hr){const vt=function qt(dn){const hr=(0,H.qj)("u coordinate",dn,Bt);return 32===gt&&(hr[31]&=127),(0,H.lX)(hr)}(hr),xt=function Et(dn){const hr=(0,H.qj)("scalar",dn),vt=hr.length;if(vt!==Bt&&vt!==gt)throw new Error(`Expected ${Bt} or ${gt} bytes, got ${vt}`);return(0,H.lX)(It(hr))}(dn),St=function Mn(dn,hr){const vt=an(dn),xt=an(hr),St=vt;let Hn,Xe=G,nt=j,Vt=vt,Ot=G,sn=j;for(let In=BigInt(Qe-1);In>=j;In--){const Ar=xt>>In&G;sn^=Ar,Hn=un(sn,Xe,Vt),Xe=Hn[0],Vt=Hn[1],Hn=un(sn,nt,Ot),nt=Hn[0],Ot=Hn[1],sn=Ar;const Jn=Xe+nt,Ln=Ae(Jn*Jn),$n=Xe-nt,st=Ae($n*$n),Ge=Ln-st,ct=Vt+Ot,_n=Ae((Vt-Ot)*Jn),Wn=Ae(ct*$n),Yn=_n+Wn,yr=_n-Wn;Vt=Ae(Yn*Yn),Ot=Ae(St*Ae(yr*yr)),Xe=Ae(Ln*st),nt=Ae(Ge*(Ln+Ae(sr*Ge)))}Hn=un(sn,Xe,Vt),Xe=Hn[0],Vt=Hn[1],Hn=un(sn,nt,Ot),nt=Hn[0],Ot=Hn[1];const bn=Gt(nt);return Ae(Xe*bn)}(vt,xt);if(St===j)throw new Error("Invalid private or public key received");return Qt(St)}const zt=Qt(ne.Gu);function Jt(dn){return ht(dn,zt)}return{scalarMult:ht,scalarMultBase:Jt,getSharedSecret:(dn,hr)=>ht(dn,hr),getPublicKey:dn=>Jt(dn),utils:{randomPrivateKey:()=>ne.randomBytes(ne.nByteLength)},GuBytes:zt}}({P:J,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:U=>{const ne=J,{pow_p_5_8:ge,b2:Ae}=C(U);return(0,k.zi)((0,k.zH)(ge,BigInt(3),ne)*Ae,ne)},adjustScalarBytes:a,randomBytes:E.po});function W(U){const{y:ne}=T.ExtendedPoint.fromHex(U),ge=BigInt(1);return g.toBytes(g.create((ge+ne)*g.inv(ge-ne)))}function ee(U){const ne=S.hash(U.subarray(0,32));return S.adjustScalarBytes(ne).subarray(0,32)}const ce=(g.ORDER+BigInt(3))/BigInt(8);g.pow(se,ce),g.sqrt(g.neg(g.ONE)),BigInt(5),BigInt(8),BigInt(486662),(0,k.Tv)(g,g.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")},40499:(Fe,z,_)=>{"use strict";_.d(z,{Ag:()=>O});var p=_(2716),E=_(47565);const H=(0,_(35765).D0)(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),x=H.create(BigInt("-3")),R=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),O=(0,p.s)({a:x,b:R,Fp:H,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},E.s)},94256:(Fe,z,_)=>{"use strict";_.d(z,{bI:()=>I});var p=_(47565),E=_(35765),k=_(2716);const H=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),x=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),R=BigInt(1),A=BigInt(2),O=(M,s)=>(M+s/A)/s;const L=(0,E.D0)(H,void 0,void 0,{sqrt:function F(M){const s=H,v=BigInt(3),W=BigInt(6),K=BigInt(11),ee=BigInt(22),ce=BigInt(23),_e=BigInt(44),Pe=BigInt(88),$e=M*M*M%s,Se=$e*$e*M%s,be=(0,E.zH)(Se,v,s)*Se%s,Ne=(0,E.zH)(be,v,s)*Se%s,ye=(0,E.zH)(Ne,A,s)*$e%s,Te=(0,E.zH)(ye,K,s)*ye%s,pe=(0,E.zH)(Te,ee,s)*Te%s,fe=(0,E.zH)(pe,_e,s)*pe%s,Q=(0,E.zH)(fe,Pe,s)*fe%s,ie=(0,E.zH)(Q,_e,s)*pe%s,ue=(0,E.zH)(ie,v,s)*Se%s,Ee=(0,E.zH)(ue,ce,s)*Te%s,ke=(0,E.zH)(Ee,W,s)*$e%s,Ue=(0,E.zH)(ke,A,s);if(!L.eql(L.sqr(Ue),M))throw new Error("Cannot find square root");return Ue}}),I=(0,k.s)({a:BigInt(0),b:BigInt(7),Fp:L,n:x,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:M=>{const s=x,v=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),W=-R*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),K=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),ee=v,ce=BigInt("0x100000000000000000000000000000000"),_e=O(ee*M,s),Pe=O(-W*M,s);let $e=(0,E.zi)(M-_e*v-Pe*K,s),Se=(0,E.zi)(-_e*W-Pe*ee,s);const be=$e>ce,Ne=Se>ce;if(be&&($e=s-$e),Ne&&(Se=s-Se),$e>ce||Se>ce)throw new Error("splitScalar: Endomorphism failed, k="+M);return{k1neg:be,k1:$e,k2neg:Ne,k2:Se}}}},p.s);BigInt(0)},63741:(Fe,z,_)=>{"use strict";_.d(z,{Rn:()=>s,Wp:()=>Ne,kv:()=>Pe,wJ:()=>ee});var p=_(10467);const E=2n**255n-19n,k=2n**252n+27742317777372353535851937790883648493n,H=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,x=0x6666666666666666666666666666666666666666666666666666666666666658n,R={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:E,n:k,h:8,Gx:H,Gy:x},A=(fe="")=>{throw new Error(fe)},O=fe=>"string"==typeof fe,F=(fe,Q)=>!(fe instanceof Uint8Array)||"number"==typeof Q&&Q>0&&fe.length!==Q?A("Uint8Array expected"):fe,L=fe=>new Uint8Array(fe),I=(fe,Q)=>F(O(fe)?ae(fe):L(fe),Q),Z=(fe,Q=E)=>{let ie=fe%Q;return ie>=0n?ie:Q+ie},j=fe=>fe instanceof re?fe:A("Point expected");let G;class re{constructor(Q,ie,ue,Ee){this.ex=Q,this.ey=ie,this.ez=ue,this.et=Ee}static fromAffine(Q){return new re(Q.x,Q.y,1n,Z(Q.x*Q.y))}static fromHex(Q,ie=!0){const{d:ue}=R,Ee=(Q=I(Q,32)).slice();Ee[31]=-129&Q[31];const ke=de(Ee);0n===ke||(ie&&!(0n<ke&&ke<E)&&A("bad y coord 1"),!ie&&!(0n<ke&&ke<2n**256n)&&A("bad y coord 2"));const Ue=Z(ke*ke),Le=Z(Ue-1n),_t=Z(ue*Ue+1n);let{isValid:Ve,value:Be}=a(Le,_t);return Ve||A("bad y coordinate 3"),!!(128&Q[31])!=(1n===(1n&Be))&&(Be=Z(-Be)),new re(Be,ke,1n,Z(Be*ke))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(Q){const{ex:ie,ey:ue,ez:Ee}=this,{ex:ke,ey:Ue,ez:Le}=j(Q),_t=Z(ie*Le),Ve=Z(ke*Ee),Be=Z(ue*Le),lt=Z(Ue*Ee);return _t===Ve&&Be===lt}is0(){return this.equals(J)}negate(){return new re(Z(-this.ex),this.ey,this.ez,Z(-this.et))}double(){const{ex:Q,ey:ie,ez:ue}=this,{a:Ee}=R,ke=Z(Q*Q),Ue=Z(ie*ie),Le=Z(2n*Z(ue*ue)),_t=Z(Ee*ke),Ve=Q+ie,Be=Z(Z(Ve*Ve)-ke-Ue),lt=_t+Ue,B=lt-Le,w=_t-Ue,m=Z(Be*B),U=Z(lt*w),ne=Z(Be*w),ge=Z(B*lt);return new re(m,U,ge,ne)}add(Q){const{ex:ie,ey:ue,ez:Ee,et:ke}=this,{ex:Ue,ey:Le,ez:_t,et:Ve}=j(Q),{a:Be,d:lt}=R,B=Z(ie*Ue),w=Z(ue*Le),m=Z(ke*lt*Ve),U=Z(Ee*_t),ne=Z((ie+ue)*(Ue+Le)-B-w),ge=Z(U-m),Ae=Z(U+m),Qe=Z(w-Be*B),Bt=Z(ne*ge),gt=Z(Ae*Qe),It=Z(ne*Qe),Gt=Z(ge*Ae);return new re(Bt,gt,Gt,It)}mul(Q,ie=!0){if(0n===Q)return!0===ie?A("cannot multiply by 0"):J;if("bigint"==typeof Q&&0n<Q&&Q<k||A("invalid scalar, must be < L"),!ie&&this.is0()||1n===Q)return this;if(this.equals(te))return pe(Q).p;let ue=J,Ee=te;for(let ke=this;Q>0n;ke=ke.double(),Q>>=1n)1n&Q?ue=ue.add(ke):ie&&(Ee=Ee.add(ke));return ue}multiply(Q){return this.mul(Q)}clearCofactor(){return this.mul(BigInt(R.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let Q=this.mul(k/2n,!1).double();return Q=Q.add(this),Q.is0()}toAffine(){const{ex:Q,ey:ie,ez:ue}=this;if(this.is0())return{x:0n,y:0n};const Ee=we(ue);return 1n!==Z(ue*Ee)&&A("invalid inverse"),{x:Z(Q*Ee),y:Z(ie*Ee)}}toRawBytes(){const{x:Q,y:ie}=this.toAffine(),ue=se(ie);return ue[31]|=1n&Q?128:0,ue}toHex(){return oe(this.toRawBytes())}}re.BASE=new re(H,x,1n,Z(H*x)),re.ZERO=new re(0n,1n,1n,0n);const{BASE:te,ZERO:J}=re,Y=(fe,Q)=>fe.toString(16).padStart(Q,"0"),oe=fe=>Array.from(fe).map(Q=>Y(Q,2)).join(""),ae=fe=>{const Q=fe.length;(!O(fe)||Q%2)&&A("hex invalid 1");const ie=L(Q/2);for(let ue=0;ue<ie.length;ue++){const Ee=2*ue,ke=fe.slice(Ee,Ee+2),Ue=Number.parseInt(ke,16);(Number.isNaN(Ue)||Ue<0)&&A("hex invalid 2"),ie[ue]=Ue}return ie},se=fe=>ae(Y(fe,64)).reverse(),de=fe=>BigInt("0x"+oe(L(F(fe)).reverse())),le=(...fe)=>{const Q=L(fe.reduce((ue,Ee)=>ue+F(Ee).length,0));let ie=0;return fe.forEach(ue=>{Q.set(ue,ie),ie+=ue.length}),Q},we=(fe,Q=E)=>{(0n===fe||Q<=0n)&&A("no inverse n="+fe+" mod="+Q);let ie=Z(fe,Q),ue=Q,Ee=0n,ke=1n,Ue=1n,Le=0n;for(;0n!==ie;){const _t=ue/ie,Ve=ue%ie,Be=Ee-Ue*_t,lt=ke-Le*_t;ue=ie,ie=Ve,Ee=Ue,ke=Le,Ue=Be,Le=lt}return 1n===ue?Z(Ee,Q):A("no inverse")},xe=(fe,Q)=>{let ie=fe;for(;Q-- >0n;)ie*=ie,ie%=E;return ie},C=19681161376707505956807079304988542015446066515923890162744021073123829784752n,a=(fe,Q)=>{const ie=Z(Q*Q*Q),Ee=(fe=>{const ie=fe*fe%E*fe%E,ue=xe(ie,2n)*ie%E,Ee=xe(ue,1n)*fe%E,ke=xe(Ee,5n)*Ee%E,Ue=xe(ke,10n)*ke%E,Le=xe(Ue,20n)*Ue%E,_t=xe(Le,40n)*Le%E,Ve=xe(_t,80n)*_t%E,Be=xe(Ve,80n)*_t%E,lt=xe(Be,10n)*ke%E;return{pow_p_5_8:xe(lt,2n)*fe%E,b2:ie}})(fe*Z(ie*ie*Q)).pow_p_5_8;let ke=Z(fe*ie*Ee);const Ue=Z(Q*ke*ke),Le=ke,_t=Z(ke*C),Ve=Ue===fe,Be=Ue===Z(-fe),lt=Ue===Z(-fe*C);return Ve&&(ke=Le),(Be||lt)&&(ke=_t),1n===(1n&Z(ke))&&(ke=Z(-ke)),{isValid:Ve||Be,value:ke}},u=fe=>Z(de(fe),k);let y;const g=(...fe)=>be.sha512Async(...fe),S=(...fe)=>"function"==typeof y?y(...fe):A("etc.sha512Sync not set"),T=fe=>{const Q=fe.slice(0,32);Q[0]&=248,Q[31]&=127,Q[31]|=64;const ie=fe.slice(32,64),ue=u(Q),Ee=te.mul(ue),ke=Ee.toRawBytes();return{head:Q,prefix:ie,scalar:ue,point:Ee,pointBytes:ke}},N=fe=>g(I(fe,32)).then(T),s=fe=>N(fe).then(Q=>Q.pointBytes);function W(fe,Q){return fe?g(Q.hashable).then(Q.finish):Q.finish(S(Q.hashable))}const ee=function(){var fe=(0,p.A)(function*(Q,ie){const ue=I(Q),Ee=yield N(ie);return W(!0,((fe,Q,ie)=>{const{pointBytes:ue,scalar:Ee}=fe,ke=u(Q),Ue=te.mul(ke).toRawBytes();return{hashable:le(Ue,ue,ie),finish:Ve=>{const Be=Z(ke+u(Ve)*Ee,k);return F(le(Ue,se(Be)),64)}}})(Ee,yield g(Ee.prefix,ue),ue))});return function(ie,ue){return fe.apply(this,arguments)}}(),Pe=function(){var fe=(0,p.A)(function*(Q,ie,ue){return W(!0,((fe,Q,ie)=>{Q=I(Q),fe=I(fe,64);const ue=re.fromHex(ie,!1),Ee=re.fromHex(fe.slice(0,32),!1),ke=de(fe.slice(32,64)),Ue=te.mul(ke,!1);return{hashable:le(Ee.toRawBytes(),ue.toRawBytes(),Q),finish:Ve=>{const Be=u(Ve);return Ee.add(ue.mul(Be,!1)).add(Ue.negate()).clearCofactor().is0()}}})(Q,ie,ue))});return function(ie,ue,Ee){return fe.apply(this,arguments)}}(),Se=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,be={bytesToHex:oe,hexToBytes:ae,concatBytes:le,mod:Z,invert:we,randomBytes:fe=>{const Q=Se();return Q||A("crypto.getRandomValues must be defined"),Q.getRandomValues(L(fe))},sha512Async:(fe=(0,p.A)(function*(...Q){const ie=Se();ie||A("crypto.subtle or etc.sha512Async must be defined");const ue=le(...Q);return L(yield ie.subtle.digest("SHA-512",ue.buffer))}),function(){return fe.apply(this,arguments)}),sha512Sync:void 0};var fe;Object.defineProperties(be,{sha512Sync:{configurable:!1,get:()=>y,set(fe){y||(y=fe)}}});const Ne={getExtendedPublicKeyAsync:N,getExtendedPublicKey:fe=>T(S(I(fe,32))),randomPrivateKey:()=>be.randomBytes(32),precompute:(fe=8,Q=te)=>(Q.multiply(3n),Q)},pe=fe=>{const Q=G||(G=(()=>{const fe=[];let ie=te,ue=ie;for(let Ee=0;Ee<33;Ee++){ue=ie,fe.push(ue);for(let ke=1;ke<128;ke++)ue=ue.add(ie),fe.push(ue);ie=ue.double()}return fe})()),ie=(Be,lt)=>{let B=lt.negate();return Be?B:lt};let ue=J,Ee=te;const Le=BigInt(255),Ve=BigInt(8);for(let Be=0;Be<33;Be++){const lt=128*Be;let B=Number(fe&Le);fe>>=Ve,B>128&&(B-=256,fe+=1n);const w=lt,m=lt+Math.abs(B)-1,ne=B<0;0===B?Ee=Ee.add(ie(Be%2!=0,Q[w])):ue=ue.add(ie(ne,Q[m]))}return{p:ue,f:Ee}}},37099:(Fe,z,_)=>{"use strict";function p(L){if(!Number.isSafeInteger(L)||L<0)throw new Error(`Wrong positive integer: ${L}`)}function H(L,...I){if(!function k(L){return L instanceof Uint8Array||null!=L&&"object"==typeof L&&"Uint8Array"===L.constructor.name}(L))throw new Error("Expected Uint8Array");if(I.length>0&&!I.includes(L.length))throw new Error(`Expected Uint8Array of length ${I}, not of length=${L.length}`)}function x(L){if("function"!=typeof L||"function"!=typeof L.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");p(L.outputLen),p(L.blockLen)}function R(L,I=!0){if(L.destroyed)throw new Error("Hash instance has been destroyed");if(I&&L.finished)throw new Error("Hash#digest() has already been called")}function A(L,I){H(L);const Z=I.outputLen;if(L.length<Z)throw new Error(`digestInto() expects output buffer of length at least ${Z}`)}_.d(z,{CG:()=>A,ai:()=>p,ee:()=>H,t2:()=>R,tW:()=>x})},36405:(Fe,z,_)=>{"use strict";_.d(z,{D:()=>H});var p=_(37099),E=_(62953);class H extends E.Vw{constructor(R,A,O,F){super(),this.blockLen=R,this.outputLen=A,this.padOffset=O,this.isLE=F,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(R),this.view=(0,E.O8)(this.buffer)}update(R){(0,p.t2)(this);const{view:A,buffer:O,blockLen:F}=this,L=(R=(0,E.ZJ)(R)).length;for(let I=0;I<L;){const Z=Math.min(F-this.pos,L-I);if(Z!==F)O.set(R.subarray(I,I+Z),this.pos),this.pos+=Z,I+=Z,this.pos===F&&(this.process(A,0),this.pos=0);else{const j=(0,E.O8)(R);for(;F<=L-I;I+=F)this.process(j,I)}}return this.length+=R.length,this.roundClean(),this}digestInto(R){(0,p.t2)(this),(0,p.CG)(R,this),this.finished=!0;const{buffer:A,view:O,blockLen:F,isLE:L}=this;let{pos:I}=this;A[I++]=128,this.buffer.subarray(I).fill(0),this.padOffset>F-I&&(this.process(O,0),I=0);for(let te=I;te<F;te++)A[te]=0;(function k(x,R,A,O){if("function"==typeof x.setBigUint64)return x.setBigUint64(R,A,O);const F=BigInt(32),L=BigInt(4294967295),I=Number(A>>F&L),Z=Number(A&L),G=O?0:4;x.setUint32(R+(O?4:0),I,O),x.setUint32(R+G,Z,O)})(O,F-8,BigInt(8*this.length),L),this.process(O,0);const Z=(0,E.O8)(R),j=this.outputLen;if(j%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const G=j/4,re=this.get();if(G>re.length)throw new Error("_sha2: outputLen bigger than state");for(let te=0;te<G;te++)Z.setUint32(4*te,re[te],L)}digest(){const{buffer:R,outputLen:A}=this;this.digestInto(R);const O=R.slice(0,A);return this.destroy(),O}_cloneInto(R){R||(R=new this.constructor),R.set(...this.get());const{blockLen:A,buffer:O,length:F,finished:L,destroyed:I,pos:Z}=this;return R.length=F,R.pos=Z,R.finished=L,R.destroyed=I,F%A&&R.buffer.set(O),R}}},86703:(Fe,z,_)=>{"use strict";_.d(z,{E:()=>p});const p="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},75781:(Fe,z,_)=>{"use strict";_.d(z,{w:()=>H});var p=_(37099),E=_(62953);class k extends E.Vw{constructor(R,A){super(),this.finished=!1,this.destroyed=!1,(0,p.tW)(R);const O=(0,E.ZJ)(A);if(this.iHash=R.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const F=this.blockLen,L=new Uint8Array(F);L.set(O.length>F?R.create().update(O).digest():O);for(let I=0;I<L.length;I++)L[I]^=54;this.iHash.update(L),this.oHash=R.create();for(let I=0;I<L.length;I++)L[I]^=106;this.oHash.update(L),L.fill(0)}update(R){return(0,p.t2)(this),this.iHash.update(R),this}digestInto(R){(0,p.t2)(this),(0,p.ee)(R,this.outputLen),this.finished=!0,this.iHash.digestInto(R),this.oHash.update(R),this.oHash.digestInto(R),this.destroy()}digest(){const R=new Uint8Array(this.oHash.outputLen);return this.digestInto(R),R}_cloneInto(R){R||(R=Object.create(Object.getPrototypeOf(this),{}));const{oHash:A,iHash:O,finished:F,destroyed:L,blockLen:I,outputLen:Z}=this;return R.finished=F,R.destroyed=L,R.blockLen=I,R.outputLen=Z,R.oHash=A._cloneInto(R.oHash),R.iHash=O._cloneInto(R.iHash),R}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const H=(x,R,A)=>new k(x,R).update(A).digest();H.create=(x,R)=>new k(x,R)},47565:(Fe,z,_)=>{"use strict";_.d(z,{s:()=>L});var p=_(36405),E=_(62953);const k=(Z,j,G)=>Z&j^~Z&G,H=(Z,j,G)=>Z&j^Z&G^j&G,x=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),R=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),A=new Uint32Array(64);class O extends p.D{constructor(){super(64,32,8,!1),this.A=0|R[0],this.B=0|R[1],this.C=0|R[2],this.D=0|R[3],this.E=0|R[4],this.F=0|R[5],this.G=0|R[6],this.H=0|R[7]}get(){const{A:j,B:G,C:re,D:te,E:J,F:Y,G:oe,H:ae}=this;return[j,G,re,te,J,Y,oe,ae]}set(j,G,re,te,J,Y,oe,ae){this.A=0|j,this.B=0|G,this.C=0|re,this.D=0|te,this.E=0|J,this.F=0|Y,this.G=0|oe,this.H=0|ae}process(j,G){for(let le=0;le<16;le++,G+=4)A[le]=j.getUint32(G,!1);for(let le=16;le<64;le++){const we=A[le-15],xe=A[le-2],Ce=(0,E.Ow)(we,7)^(0,E.Ow)(we,18)^we>>>3,C=(0,E.Ow)(xe,17)^(0,E.Ow)(xe,19)^xe>>>10;A[le]=C+A[le-7]+Ce+A[le-16]|0}let{A:re,B:te,C:J,D:Y,E:oe,F:ae,G:se,H:de}=this;for(let le=0;le<64;le++){const xe=de+((0,E.Ow)(oe,6)^(0,E.Ow)(oe,11)^(0,E.Ow)(oe,25))+k(oe,ae,se)+x[le]+A[le]|0,C=((0,E.Ow)(re,2)^(0,E.Ow)(re,13)^(0,E.Ow)(re,22))+H(re,te,J)|0;de=se,se=ae,ae=oe,oe=Y+xe|0,Y=J,J=te,te=re,re=xe+C|0}re=re+this.A|0,te=te+this.B|0,J=J+this.C|0,Y=Y+this.D|0,oe=oe+this.E|0,ae=ae+this.F|0,se=se+this.G|0,de=de+this.H|0,this.set(re,te,J,Y,oe,ae,se,de)}roundClean(){A.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const L=(0,E.ld)(()=>new O)},25431:(Fe,z,_)=>{"use strict";_.d(z,{Zf:()=>v});var p=_(36405);const E=BigInt(2**32-1),k=BigInt(32);function H(ce,_e=!1){return _e?{h:Number(ce&E),l:Number(ce>>k&E)}:{h:0|Number(ce>>k&E),l:0|Number(ce&E)}}const C_split=function x(ce,_e=!1){let Pe=new Uint32Array(ce.length),$e=new Uint32Array(ce.length);for(let Se=0;Se<ce.length;Se++){const{h:be,l:Ne}=H(ce[Se],_e);[Pe[Se],$e[Se]]=[be,Ne]}return[Pe,$e]},C_shrSH=(ce,_e,Pe)=>ce>>>Pe,C_shrSL=(ce,_e,Pe)=>ce<<32-Pe|_e>>>Pe,C_rotrSH=(ce,_e,Pe)=>ce>>>Pe|_e<<32-Pe,C_rotrSL=(ce,_e,Pe)=>ce<<32-Pe|_e>>>Pe,C_rotrBH=(ce,_e,Pe)=>ce<<64-Pe|_e>>>Pe-32,C_rotrBL=(ce,_e,Pe)=>ce>>>Pe-32|_e<<64-Pe,C_add=function oe(ce,_e,Pe,$e){const Se=(_e>>>0)+($e>>>0);return{h:ce+Pe+(Se/2**32|0)|0,l:0|Se}},C_add3L=(ce,_e,Pe)=>(ce>>>0)+(_e>>>0)+(Pe>>>0),C_add3H=(ce,_e,Pe,$e)=>_e+Pe+$e+(ce/2**32|0)|0,C_add4L=(ce,_e,Pe,$e)=>(ce>>>0)+(_e>>>0)+(Pe>>>0)+($e>>>0),C_add4H=(ce,_e,Pe,$e,Se)=>_e+Pe+$e+Se+(ce/2**32|0)|0,C_add5H=(ce,_e,Pe,$e,Se,be)=>_e+Pe+$e+Se+be+(ce/2**32|0)|0,C_add5L=(ce,_e,Pe,$e,Se)=>(ce>>>0)+(_e>>>0)+(Pe>>>0)+($e>>>0)+(Se>>>0);var a=_(62953);const[u,y]=C_split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(ce=>BigInt(ce))),g=new Uint32Array(80),S=new Uint32Array(80);class T extends p.D{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:_e,Al:Pe,Bh:$e,Bl:Se,Ch:be,Cl:Ne,Dh:ye,Dl:Te,Eh:pe,El:fe,Fh:Q,Fl:ie,Gh:ue,Gl:Ee,Hh:ke,Hl:Ue}=this;return[_e,Pe,$e,Se,be,Ne,ye,Te,pe,fe,Q,ie,ue,Ee,ke,Ue]}set(_e,Pe,$e,Se,be,Ne,ye,Te,pe,fe,Q,ie,ue,Ee,ke,Ue){this.Ah=0|_e,this.Al=0|Pe,this.Bh=0|$e,this.Bl=0|Se,this.Ch=0|be,this.Cl=0|Ne,this.Dh=0|ye,this.Dl=0|Te,this.Eh=0|pe,this.El=0|fe,this.Fh=0|Q,this.Fl=0|ie,this.Gh=0|ue,this.Gl=0|Ee,this.Hh=0|ke,this.Hl=0|Ue}process(_e,Pe){for(let Ve=0;Ve<16;Ve++,Pe+=4)g[Ve]=_e.getUint32(Pe),S[Ve]=_e.getUint32(Pe+=4);for(let Ve=16;Ve<80;Ve++){const Be=0|g[Ve-15],lt=0|S[Ve-15],B=C_rotrSH(Be,lt,1)^C_rotrSH(Be,lt,8)^C_shrSH(Be,lt,7),w=C_rotrSL(Be,lt,1)^C_rotrSL(Be,lt,8)^C_shrSL(Be,lt,7),m=0|g[Ve-2],U=0|S[Ve-2],ne=C_rotrSH(m,U,19)^C_rotrBH(m,U,61)^C_shrSH(m,U,6),ge=C_rotrSL(m,U,19)^C_rotrBL(m,U,61)^C_shrSL(m,U,6),Ae=C_add4L(w,ge,S[Ve-7],S[Ve-16]),Qe=C_add4H(Ae,B,ne,g[Ve-7],g[Ve-16]);g[Ve]=0|Qe,S[Ve]=0|Ae}let{Ah:$e,Al:Se,Bh:be,Bl:Ne,Ch:ye,Cl:Te,Dh:pe,Dl:fe,Eh:Q,El:ie,Fh:ue,Fl:Ee,Gh:ke,Gl:Ue,Hh:Le,Hl:_t}=this;for(let Ve=0;Ve<80;Ve++){const Be=C_rotrSH(Q,ie,14)^C_rotrSH(Q,ie,18)^C_rotrBH(Q,ie,41),lt=C_rotrSL(Q,ie,14)^C_rotrSL(Q,ie,18)^C_rotrBL(Q,ie,41),B=Q&ue^~Q&ke,m=C_add5L(_t,lt,ie&Ee^~ie&Ue,y[Ve],S[Ve]),U=C_add5H(m,Le,Be,B,u[Ve],g[Ve]),ne=0|m,ge=C_rotrSH($e,Se,28)^C_rotrBH($e,Se,34)^C_rotrBH($e,Se,39),Ae=C_rotrSL($e,Se,28)^C_rotrBL($e,Se,34)^C_rotrBL($e,Se,39),Qe=$e&be^$e&ye^be&ye,Bt=Se&Ne^Se&Te^Ne&Te;Le=0|ke,_t=0|Ue,ke=0|ue,Ue=0|Ee,ue=0|Q,Ee=0|ie,({h:Q,l:ie}=C_add(0|pe,0|fe,0|U,0|ne)),pe=0|ye,fe=0|Te,ye=0|be,Te=0|Ne,be=0|$e,Ne=0|Se;const gt=C_add3L(ne,Ae,Bt);$e=C_add3H(gt,U,ge,Qe),Se=0|gt}({h:$e,l:Se}=C_add(0|this.Ah,0|this.Al,0|$e,0|Se)),({h:be,l:Ne}=C_add(0|this.Bh,0|this.Bl,0|be,0|Ne)),({h:ye,l:Te}=C_add(0|this.Ch,0|this.Cl,0|ye,0|Te)),({h:pe,l:fe}=C_add(0|this.Dh,0|this.Dl,0|pe,0|fe)),({h:Q,l:ie}=C_add(0|this.Eh,0|this.El,0|Q,0|ie)),({h:ue,l:Ee}=C_add(0|this.Fh,0|this.Fl,0|ue,0|Ee)),({h:ke,l:Ue}=C_add(0|this.Gh,0|this.Gl,0|ke,0|Ue)),({h:Le,l:_t}=C_add(0|this.Hh,0|this.Hl,0|Le,0|_t)),this.set($e,Se,be,Ne,ye,Te,pe,fe,Q,ie,ue,Ee,ke,Ue,Le,_t)}roundClean(){g.fill(0),S.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const v=(0,a.ld)(()=>new T)},62953:(Fe,z,_)=>{"use strict";_.d(z,{$h:()=>re,AI:()=>J,Id:()=>oe,My:()=>L,O8:()=>R,Ow:()=>A,Vw:()=>ae,ZJ:()=>Y,aT:()=>j,ld:()=>le,po:()=>Ce,tY:()=>de});var p=_(10467),E=_(86703);function x(C){return C instanceof Uint8Array||null!=C&&"object"==typeof C&&"Uint8Array"===C.constructor.name}const R=C=>new DataView(C.buffer,C.byteOffset,C.byteLength),A=(C,a)=>C<<32-a|C>>>a;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const F=Array.from({length:256},(C,a)=>a.toString(16).padStart(2,"0"));function L(C){if(!x(C))throw new Error("Uint8Array expected");let a="";for(let u=0;u<C.length;u++)a+=F[C[u]];return a}const I={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Z(C){return C>=I._0&&C<=I._9?C-I._0:C>=I._A&&C<=I._F?C-(I._A-10):C>=I._a&&C<=I._f?C-(I._a-10):void 0}function j(C){if("string"!=typeof C)throw new Error("hex string expected, got "+typeof C);const a=C.length,u=a/2;if(a%2)throw new Error("padded hex string expected, got unpadded hex of length "+a);const y=new Uint8Array(u);for(let g=0,S=0;g<u;g++,S+=2){const T=Z(C.charCodeAt(S)),N=Z(C.charCodeAt(S+1));if(void 0===T||void 0===N)throw new Error('hex string expected, got non-hex character "'+(C[S]+C[S+1])+'" at index '+S);y[g]=16*T+N}return y}const G=function(){var C=(0,p.A)(function*(){});return function(){return C.apply(this,arguments)}}();function re(C,a,u){return te.apply(this,arguments)}function te(){return(te=(0,p.A)(function*(C,a,u){let y=Date.now();for(let g=0;g<C;g++){u(g);const S=Date.now()-y;S>=0&&S<a||(yield G(),y+=S)}})).apply(this,arguments)}function J(C){if("string"!=typeof C)throw new Error("utf8ToBytes expected string, got "+typeof C);return new Uint8Array((new TextEncoder).encode(C))}function Y(C){if("string"==typeof C&&(C=J(C)),!x(C))throw new Error("expected Uint8Array, got "+typeof C);return C}function oe(...C){let a=0;for(let y=0;y<C.length;y++){const g=C[y];if(!x(g))throw new Error("Uint8Array expected");a+=g.length}const u=new Uint8Array(a);for(let y=0,g=0;y<C.length;y++){const S=C[y];u.set(S,g),g+=S.length}return u}class ae{clone(){return this._cloneInto()}}const se={}.toString;function de(C,a){if(void 0!==a&&"[object Object]"!==se.call(a))throw new Error("Options should be object or undefined");return Object.assign(C,a)}function le(C){const a=y=>C().update(Y(y)).digest(),u=C();return a.outputLen=u.outputLen,a.blockLen=u.blockLen,a.create=()=>C(),a}function Ce(C=32){if(E.E&&"function"==typeof E.E.getRandomValues)return E.E.getRandomValues(new Uint8Array(C));throw new Error("crypto.getRandomValues must be defined")}},68464:(Fe,z,_)=>{"use strict";_.d(z,{CB:()=>se,MX:()=>pe,Wp:()=>ue,jn:()=>ie,lG:()=>s,wJ:()=>Ne});var p=_(10467);const E=2n**256n,k=E-0x1000003d1n,H=E-0x14551231950b75fc4402da1732fc9bebfn,x=0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798n,R=0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8n,A={p:k,n:H,a:0n,b:7n,Gx:x,Gy:R},O=32,F=Le=>Y(Y(Le*Le)*Le+A.b),L=(Le="")=>{throw new Error(Le)},I=Le=>"bigint"==typeof Le,Z=Le=>"string"==typeof Le,j=Le=>I(Le)&&0n<Le&&Le<k,G=Le=>I(Le)&&0n<Le&&Le<H,re=(Le,_t)=>!(Le instanceof Uint8Array)||"number"==typeof _t&&_t>0&&Le.length!==_t?L("Uint8Array expected"):Le,te=Le=>new Uint8Array(Le),J=(Le,_t)=>re(Z(Le)?Ce(Le):te(Le),_t),Y=(Le,_t=k)=>{let Ve=Le%_t;return Ve>=0n?Ve:_t+Ve},oe=Le=>Le instanceof se?Le:L("Point expected");let ae;class se{constructor(_t,Ve,Be){this.px=_t,this.py=Ve,this.pz=Be}static fromAffine(_t){return new se(_t.x,_t.y,1n)}static fromHex(_t){let Ve;const Be=(_t=J(_t))[0],lt=_t.subarray(1),B=a(lt,0,O),w=_t.length;if(33===w&&[2,3].includes(Be)){j(B)||L("Point hex invalid: x not FE");let m=T(F(B));!(1&~Be)!=(1n===(1n&m))&&(m=Y(-m)),Ve=new se(B,m,1n)}return 65===w&&4===Be&&(Ve=new se(B,a(lt,O,2*O),1n)),Ve?Ve.ok():L("Point is not on curve")}static fromPrivateKey(_t){return de.mul(N(_t))}get x(){return this.aff().x}get y(){return this.aff().y}equals(_t){const{px:Ve,py:Be,pz:lt}=this,{px:B,py:w,pz:m}=oe(_t),U=Y(Ve*m),ne=Y(B*lt),ge=Y(Be*m),Ae=Y(w*lt);return U===ne&&ge===Ae}negate(){return new se(this.px,Y(-this.py),this.pz)}double(){return this.add(this)}add(_t){const{px:Ve,py:Be,pz:lt}=this,{px:B,py:w,pz:m}=oe(_t),{a:U,b:ne}=A;let ge=0n,Ae=0n,Qe=0n;const Bt=Y(3n*ne);let gt=Y(Ve*B),It=Y(Be*w),Gt=Y(lt*m),un=Y(Ve+Be),an=Y(B+w);un=Y(un*an),an=Y(gt+It),un=Y(un-an),an=Y(Ve+lt);let sr=Y(B+m);return an=Y(an*sr),sr=Y(gt+Gt),an=Y(an-sr),sr=Y(Be+lt),ge=Y(w+m),sr=Y(sr*ge),ge=Y(It+Gt),sr=Y(sr-ge),Qe=Y(U*an),ge=Y(Bt*Gt),Qe=Y(ge+Qe),ge=Y(It-Qe),Qe=Y(It+Qe),Ae=Y(ge*Qe),It=Y(gt+gt),It=Y(It+gt),Gt=Y(U*Gt),an=Y(Bt*an),It=Y(It+Gt),Gt=Y(gt-Gt),Gt=Y(U*Gt),an=Y(an+Gt),gt=Y(It*an),Ae=Y(Ae+gt),gt=Y(sr*an),ge=Y(un*ge),ge=Y(ge-gt),gt=Y(un*It),Qe=Y(sr*Qe),Qe=Y(Qe+gt),new se(ge,Ae,Qe)}mul(_t,Ve=!0){if(!Ve&&0n===_t)return le;if(G(_t)||L("invalid scalar"),this.equals(de))return Ue(_t).p;let Be=le,lt=de;for(let B=this;_t>0n;B=B.double(),_t>>=1n)1n&_t?Be=Be.add(B):Ve&&(lt=lt.add(B));return Be}mulAddQUns(_t,Ve,Be){return this.mul(Ve,!1).add(_t.mul(Be,!1)).ok()}toAffine(){const{px:_t,py:Ve,pz:Be}=this;if(this.equals(le))return{x:0n,y:0n};if(1n===Be)return{x:_t,y:Ve};const lt=S(Be);return 1n!==Y(Be*lt)&&L("invalid inverse"),{x:Y(_t*lt),y:Y(Ve*lt)}}assertValidity(){const{x:_t,y:Ve}=this.aff();return(!j(_t)||!j(Ve))&&L("Point invalid: x or y"),Y(Ve*Ve)===F(_t)?this:L("Point invalid: not on curve")}multiply(_t){return this.mul(_t)}aff(){return this.toAffine()}ok(){return this.assertValidity()}toHex(_t=!0){const{x:Ve,y:Be}=this.aff();return(_t?0n===(1n&Be)?"02":"03":"04")+y(Ve)+(_t?"":y(Be))}toRawBytes(_t=!0){return Ce(this.toHex(_t))}}se.BASE=new se(x,R,1n),se.ZERO=new se(0n,1n,0n);const{BASE:de,ZERO:le}=se,we=(Le,_t)=>Le.toString(16).padStart(_t,"0"),xe=Le=>Array.from(Le).map(_t=>we(_t,2)).join(""),Ce=Le=>{const _t=Le.length;(!Z(Le)||_t%2)&&L("hex invalid 1");const Ve=te(_t/2);for(let Be=0;Be<Ve.length;Be++){const lt=2*Be,B=Le.slice(lt,lt+2),w=Number.parseInt(B,16);(Number.isNaN(w)||w<0)&&L("hex invalid 2"),Ve[Be]=w}return Ve},C=Le=>BigInt("0x"+(xe(Le)||"0")),a=(Le,_t,Ve)=>C(Le.slice(_t,Ve)),u=Le=>I(Le)&&Le>=0n&&Le<E?Ce(we(Le,2*O)):L("bigint expected"),y=Le=>xe(u(Le)),g=(...Le)=>{const _t=te(Le.reduce((Be,lt)=>Be+re(lt).length,0));let Ve=0;return Le.forEach(Be=>{_t.set(Be,Ve),Ve+=Be.length}),_t},S=(Le,_t=k)=>{(0n===Le||_t<=0n)&&L("no inverse n="+Le+" mod="+_t);let Ve=Y(Le,_t),Be=_t,lt=0n,B=1n,w=1n,m=0n;for(;0n!==Ve;){const U=Be/Ve,ne=Be%Ve,ge=lt-w*U,Ae=B-m*U;Be=Ve,Ve=ne,lt=w,B=m,w=ge,m=Ae}return 1n===Be?Y(lt,_t):L("no inverse")},T=Le=>{let _t=1n;for(let Ve=Le,Be=(k+1n)/4n;Be>0n;Be>>=1n)1n&Be&&(_t=_t*Ve%k),Ve=Ve*Ve%k;return Y(_t*_t)===Le?_t:L("sqrt invalid")},N=Le=>(I(Le)||(Le=C(J(Le,O))),G(Le)?Le:L("private key out of range")),M=Le=>Le>H>>1n;function s(Le,_t=!0){return se.fromPrivateKey(Le).toRawBytes(_t)}class v{constructor(_t,Ve,Be){this.r=_t,this.s=Ve,this.recovery=Be,this.assertValidity()}static fromCompact(_t){return _t=J(_t,64),new v(a(_t,0,O),a(_t,O,2*O))}assertValidity(){return G(this.r)&&G(this.s)?this:L()}addRecoveryBit(_t){return new v(this.r,this.s,_t)}hasHighS(){return M(this.s)}recoverPublicKey(_t){const{r:Ve,s:Be,recovery:lt}=this;[0,1,2,3].includes(lt)||L("recovery id invalid");const B=K(J(_t,32)),w=2===lt||3===lt?Ve+H:Ve;w>=k&&L("q.x invalid");const U=se.fromHex((1&lt?"03":"02")+y(w)),ne=S(w,H),ge=Y(-B*ne,H),Ae=Y(Be*ne,H);return de.mulAddQUns(U,ge,Ae)}toCompactRawBytes(){return Ce(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const W=Le=>{const _t=8*Le.length-256,Ve=C(Le);return _t>0?Ve>>BigInt(_t):Ve},K=Le=>Y(W(Le),H),ee=Le=>u(Le),ce=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;let _e;const Pe={lowS:!0},$e={lowS:!0};function Ne(Le,_t){return ye.apply(this,arguments)}function ye(){return(ye=(0,p.A)(function*(Le,_t,Ve=Pe){const{seed:Be,k2sig:lt}=function Se(Le,_t,Ve=Pe){["der","recovered","canonical"].some(Ae=>Ae in Ve)&&L("sign() legacy options not supported");let{lowS:Be}=Ve;null==Be&&(Be=!0);const lt=K(J(Le)),B=ee(lt),w=N(_t),m=[ee(w),B];let U=Ve.extraEntropy;if(U){!0===U&&(U=ie.randomBytes(O));const Ae=J(U);Ae.length!==O&&L(),m.push(Ae)}const ne=lt;return{seed:g(...m),k2sig:Ae=>{const Qe=W(Ae);if(!G(Qe))return;const Bt=S(Qe,H),gt=de.mul(Qe).aff(),It=Y(gt.x,H);if(0n===It)return;const Gt=Y(Bt*Y(ne+Y(w*It,H),H),H);if(0n===Gt)return;let un=Gt,an=(gt.x===It?0:2)|Number(1n&gt.y);return Be&&M(Gt)&&(un=Y(-Gt,H),an^=1),new v(It,un,an)}}}(Le,_t,Ve);return function be(Le){let _t=te(O),Ve=te(O),Be=0;const lt=()=>{_t.fill(1),Ve.fill(0),Be=0},B="drbg: tried 1000 values";if(Le){const w=(...ne)=>ie.hmacSha256Async(Ve,_t,...ne),m=function(){var ne=(0,p.A)(function*(ge=te()){Ve=yield w(te([0]),ge),_t=yield w(),0!==ge.length&&(Ve=yield w(te([1]),ge),_t=yield w())});return function(){return ne.apply(this,arguments)}}(),U=function(){var ne=(0,p.A)(function*(){return Be++>=1e3&&L(B),_t=yield w(),_t});return function(){return ne.apply(this,arguments)}}();return function(){var ne=(0,p.A)(function*(ge,Ae){let Qe;for(lt(),yield m(ge);!(Qe=Ae(yield U()));)yield m();return lt(),Qe});return function(ge,Ae){return ne.apply(this,arguments)}}()}{const w=(...ne)=>{const ge=_e;return ge||L("etc.hmacSha256Sync not set"),ge(Ve,_t,...ne)},m=(ne=te())=>{Ve=w(te([0]),ne),_t=w(),0!==ne.length&&(Ve=w(te([1]),ne),_t=w())},U=()=>(Be++>=1e3&&L(B),_t=w(),_t);return(ne,ge)=>{let Ae;for(lt(),m(ne);!(Ae=ge(U()));)m();return lt(),Ae}}}(!0)(Be,lt)})).apply(this,arguments)}function pe(Le,_t,Ve,Be=$e){let B,w,m,{lowS:lt}=Be;null==lt&&(lt=!0),"strict"in Be&&L("verify() legacy options not supported");const U=Le&&"object"==typeof Le&&"r"in Le;!U&&J(Le).length!==2*O&&L("signature must be 64 bytes");try{B=U?new v(Le.r,Le.s).assertValidity():v.fromCompact(Le),w=K(J(_t,O)),m=Ve instanceof se?Ve.ok():se.fromHex(Ve)}catch{return!1}if(!B)return!1;const{r:ne,s:ge}=B;if(lt&&M(ge))return!1;let Ae;try{const Bt=S(ge,H),gt=Y(w*Bt,H),It=Y(ne*Bt,H);Ae=de.mulAddQUns(m,gt,It).aff()}catch{return!1}return!!Ae&&Y(Ae.x,H)===ne}function Q(Le){((Le=J(Le)).length<O+8||Le.length>1024)&&L("expected proper params");const Ve=Y(C(Le),H-1n)+1n;return u(Ve)}const ie={hexToBytes:Ce,bytesToHex:xe,concatBytes:g,bytesToNumberBE:C,numberToBytesBE:u,mod:Y,invert:S,hmacSha256Async:(Le=(0,p.A)(function*(_t,...Ve){const Be=ce();if(!Be)return L("etc.hmacSha256Async not set");const lt=Be.subtle,B=yield lt.importKey("raw",_t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return te(yield lt.sign("HMAC",B,g(...Ve)))}),function(Ve){return Le.apply(this,arguments)}),hmacSha256Sync:_e,hashToPrivateKey:Q,randomBytes:Le=>{const _t=ce();return _t||L("crypto.getRandomValues must be defined"),_t.getRandomValues(te(Le))}},ue={normPrivateKeyToScalar:N,isValidPrivateKey:Le=>{try{return!!N(Le)}catch{return!1}},randomPrivateKey:()=>Q(ie.randomBytes(O+8)),precompute:(Le=8,_t=de)=>(_t.multiply(3n),_t)};var Le;Object.defineProperties(ie,{hmacSha256Sync:{configurable:!1,get:()=>_e,set(Le){_e||(_e=Le)}}});const Ue=Le=>{const _t=ae||(ae=(()=>{const Le=[];let Ve=de,Be=Ve;for(let lt=0;lt<33;lt++){Be=Ve,Le.push(Be);for(let B=1;B<128;B++)Be=Be.add(Ve),Le.push(Be);Ve=Be.double()}return Le})()),Ve=(ge,Ae)=>{let Qe=Ae.negate();return ge?Qe:Ae};let Be=le,lt=de;const m=BigInt(255),ne=BigInt(8);for(let ge=0;ge<33;ge++){const Ae=128*ge;let Qe=Number(Le&m);Le>>=ne,Qe>128&&(Qe-=256,Le+=1n);const Bt=Ae,gt=Ae+Math.abs(Qe)-1,Gt=Qe<0;0===Qe?lt=lt.add(Ve(ge%2!=0,_t[Bt])):Be=Be.add(Ve(Gt,_t[gt]))}return{p:Be,f:lt}}},53813:(Fe,z,_)=>{"use strict";function E(ye){return ye instanceof Uint8Array||null!=ye&&"object"==typeof ye&&"Uint8Array"===ye.constructor.name}function O(ye,Te,pe){if(Te<2)throw new Error(`convertRadix: wrong from=${Te}, base cannot be less than 2`);if(pe<2)throw new Error(`convertRadix: wrong to=${pe}, base cannot be less than 2`);if(!Array.isArray(ye))throw new Error("convertRadix: data should be array");if(!ye.length)return[];let fe=0;const Q=[],ie=Array.from(ye);for(ie.forEach(ue=>{if(ue<0||ue>=Te)throw new Error(`Wrong integer: ${ue}`)});;){let ue=0,Ee=!0;for(let ke=fe;ke<ie.length;ke++){const Ue=ie[ke],Le=Te*ue+Ue;if(!Number.isSafeInteger(Le)||Te*ue/Te!==ue||Le-Ue!=Te*ue)throw new Error("convertRadix: carry overflow");ue=Le%pe;const _t=Math.floor(Le/pe);if(ie[ke]=_t,!Number.isSafeInteger(_t)||_t*pe+ue!==Le)throw new Error("convertRadix: carry overflow");Ee&&(_t?Ee=!1:fe=ke)}if(Q.push(ue),Ee)break}for(let ue=0;ue<ye.length-1&&0===ye[ue];ue++)Q.push(0);return Q.reverse()}_.d(z,{Wp:()=>te});const F=(ye,Te)=>Te?F(Te,ye%Te):ye,L=(ye,Te)=>ye+(Te-F(ye,Te));function I(ye,Te,pe,fe){if(!Array.isArray(ye))throw new Error("convertRadix2: data should be array");if(Te<=0||Te>32)throw new Error(`convertRadix2: wrong from=${Te}`);if(pe<=0||pe>32)throw new Error(`convertRadix2: wrong to=${pe}`);if(L(Te,pe)>32)throw new Error(`convertRadix2: carry overflow from=${Te} to=${pe} carryBits=${L(Te,pe)}`);let Q=0,ie=0;const ue=2**pe-1,Ee=[];for(const ke of ye){if(ke>=2**Te)throw new Error(`convertRadix2: invalid data word=${ke} from=${Te}`);if(Q=Q<<Te|ke,ie+Te>32)throw new Error(`convertRadix2: carry overflow pos=${ie} from=${Te}`);for(ie+=Te;ie>=pe;ie-=pe)Ee.push((Q>>ie-pe&ue)>>>0);Q&=2**ie-1}if(Q=Q<<pe-ie&ue,!fe&&ie>=Te)throw new Error("Excess padding");if(!fe&&Q)throw new Error(`Non-zero padding: ${Q}`);return fe&&ie>0&&Ee.push(Q>>>0),Ee}const te={alphabet:function H(ye){return{encode:Te=>{if(!Array.isArray(Te)||Te.length&&"number"!=typeof Te[0])throw new Error("alphabet.encode input should be an array of numbers");return Te.map(pe=>{if(pe<0||pe>=ye.length)throw new Error(`Digit index outside alphabet: ${pe} (alphabet: ${ye.length})`);return ye[pe]})},decode:Te=>{if(!Array.isArray(Te)||Te.length&&"string"!=typeof Te[0])throw new Error("alphabet.decode input should be array of strings");return Te.map(pe=>{if("string"!=typeof pe)throw new Error(`alphabet.decode: not string element=${pe}`);const fe=ye.indexOf(pe);if(-1===fe)throw new Error(`Unknown letter: "${pe}". Allowed: ${ye}`);return fe})}}},chain:function k(...ye){const Te=ie=>ie,pe=(ie,ue)=>Ee=>ie(ue(Ee));return{encode:ye.map(ie=>ie.encode).reduceRight(pe,Te),decode:ye.map(ie=>ie.decode).reduce(pe,Te)}},checksum:function re(ye,Te){if("function"!=typeof Te)throw new Error("checksum fn should be function");return{encode(pe){if(!E(pe))throw new Error("checksum.encode: input should be Uint8Array");const fe=Te(pe).slice(0,ye),Q=new Uint8Array(pe.length+ye);return Q.set(pe),Q.set(fe,pe.length),Q},decode(pe){if(!E(pe))throw new Error("checksum.decode: input should be Uint8Array");const fe=pe.slice(0,-ye),Q=Te(fe).slice(0,ye),ie=pe.slice(-ye);for(let ue=0;ue<ye;ue++)if(Q[ue]!==ie[ue])throw new Error("Invalid checksum");return fe}}},convertRadix:O,convertRadix2:I,radix:function Z(ye){return{encode:Te=>{if(!E(Te))throw new Error("radix.encode input should be Uint8Array");return O(Array.from(Te),256,ye)},decode:Te=>{if(!Array.isArray(Te)||Te.length&&"number"!=typeof Te[0])throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(O(Te,ye,256))}}},radix2:function j(ye,Te=!1){if(ye<=0||ye>32)throw new Error("radix2: bits should be in (0..32]");if(L(8,ye)>32||L(ye,8)>32)throw new Error("radix2: carry overflow");return{encode:pe=>{if(!E(pe))throw new Error("radix2.encode input should be Uint8Array");return I(Array.from(pe),8,ye,!Te)},decode:pe=>{if(!Array.isArray(pe)||pe.length&&"number"!=typeof pe[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(I(pe,ye,8,Te))}}},join:function x(ye=""){if("string"!=typeof ye)throw new Error("join separator should be string");return{encode:Te=>{if(!Array.isArray(Te)||Te.length&&"string"!=typeof Te[0])throw new Error("join.encode input should be array of strings");for(let pe of Te)if("string"!=typeof pe)throw new Error(`join.encode: non-string input=${pe}`);return Te.join(ye)},decode:Te=>{if("string"!=typeof Te)throw new Error("join.decode input should be string");return Te.split(ye)}}},padding:function R(ye,Te="="){if("string"!=typeof Te)throw new Error("padding chr should be string");return{encode(pe){if(!Array.isArray(pe)||pe.length&&"string"!=typeof pe[0])throw new Error("padding.encode input should be array of strings");for(let fe of pe)if("string"!=typeof fe)throw new Error(`padding.encode: non-string input=${fe}`);for(;pe.length*ye%8;)pe.push(Te);return pe},decode(pe){if(!Array.isArray(pe)||pe.length&&"string"!=typeof pe[0])throw new Error("padding.encode input should be array of strings");for(let Q of pe)if("string"!=typeof Q)throw new Error(`padding.decode: non-string input=${Q}`);let fe=pe.length;if(fe*ye%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;fe>0&&pe[fe-1]===Te;fe--)if(!((fe-1)*ye%8))throw new Error("Invalid padding: string has too much padding");return pe.slice(0,fe)}}}}},62590:(Fe,z,_)=>{"use strict";_.d(z,{DP:()=>PE,Bq:()=>HU,rr:()=>qU,yc:()=>TF,rM:()=>FF,B2:()=>m6,U0:()=>Kd,QZ:()=>KU,dk:()=>MF,nx:()=>Na,cW:()=>bF,Vu:()=>uA,TX:()=>xF,eP:()=>Rw,qB:()=>A6,oN:()=>BF,X7:()=>XU,dK:()=>GU,pO:()=>JU});var p={};_.r(p),_.d(p,{DO:()=>Ur,OG:()=>wi,My:()=>Xr,Ph:()=>fr,lX:()=>Sr,Id:()=>xo,fg:()=>Mi,qj:()=>ti,aT:()=>Fn,aY:()=>Nr,lq:()=>xr,z:()=>Fr,Q5:()=>Js});var E={};_.r(E),_.d(E,{base10:()=>ld});var k={};_.r(k),_.d(k,{base16:()=>Om,base16upper:()=>zh});var H={};_.r(H),_.d(H,{base2:()=>Fa});var x={};_.r(x),_.d(x,{base256emoji:()=>fl});var R={};_.r(R),_.d(R,{base32:()=>yc,base32hex:()=>ud,base32hexpad:()=>zi,base32hexpadupper:()=>Da,base32hexupper:()=>Iu,base32pad:()=>Bl,base32padupper:()=>Tu,base32upper:()=>iu,base32z:()=>_f});var A={};_.r(A),_.d(A,{base36:()=>kc,base36upper:()=>ou});var O={};_.r(O),_.d(O,{base58btc:()=>Bd,base58flickr:()=>Bp});var F={};_.r(F),_.d(F,{base64:()=>Hh,base64pad:()=>ov,base64url:()=>Np,base64urlpad:()=>sv});var L={};_.r(L),_.d(L,{base8:()=>Ef});var I={};_.r(I),_.d(I,{identity:()=>ta});var Z={};_.r(Z),_.d(Z,{code:()=>vs,decode:()=>Pu,encode:()=>ku,name:()=>xf});var j={};_.r(j),_.d(j,{code:()=>Hi,decode:()=>ja,encode:()=>Sf,name:()=>Ji});var G={};_.r(G),_.d(G,{identity:()=>ml});var re={};_.r(re),_.d(re,{sha256:()=>vc,sha512:()=>Ld});var te={};_.r(te),_.d(te,{Authorization:()=>ao,AuthorizationDelegatedGrant:()=>Lw,AuthorizationOwner:()=>FE,Definitions:()=>vA,GeneralJwk:()=>k6,GeneralJws:()=>P6,GenericSignaturePayload:()=>XE,JwkVerificationMethod:()=>O6,MessagesFilter:()=>WE,MessagesQuery:()=>$r,MessagesRead:()=>If,MessagesSubscribe:()=>hy,NumberRangeFilter:()=>lh,PaginationCursor:()=>dv,PermissionGrantData:()=>py,PermissionRequestData:()=>my,PermissionRevocationData:()=>Fl,PermissionsDefinitions:()=>Vw,PermissionsScopes:()=>N6,ProtocolDefinition:()=>_A,ProtocolRuleSet:()=>QR,ProtocolsConfigure:()=>e4,ProtocolsQuery:()=>xA,PublicJwk:()=>SA,RecordsDelete:()=>jw,RecordsFilter:()=>$6,RecordsQuery:()=>jE,RecordsRead:()=>t4,RecordsSubscribe:()=>zE,RecordsWrite:()=>$w,RecordsWriteDataEncoded:()=>C6,RecordsWriteSignaturePayload:()=>V6,RecordsWriteUnidentified:()=>Bc,StringRangeFilter:()=>H6});var J={};_.r(J),_.d(J,{code:()=>Cy,decode:()=>kv,encode:()=>ST,name:()=>Fd});var Y={};_.r(Y),_.d(Y,{code:()=>x_,createLink:()=>qh,createNode:()=>E_,decode:()=>S_,encode:()=>Qh,name:()=>ZT,prepare:()=>Wp,validate:()=>GT});var oe={};_.r(oe),_.d(oe,{code:()=>e0,decode:()=>c8,encode:()=>Q2,name:()=>C_});var ae={};_.r(ae),_.d(ae,{base10:()=>O_});var se={};_.r(se),_.d(se,{base16:()=>p8,base16upper:()=>bI});var de={};_.r(de),_.d(de,{base2:()=>m8});var le={};_.r(le),_.d(le,{base256emoji:()=>xI});var we={};_.r(we),_.d(we,{base32:()=>Fy,base32hex:()=>g8,base32hexpad:()=>o0,base32hexpadupper:()=>sx,base32hexupper:()=>R_,base32pad:()=>SI,base32padupper:()=>MI,base32upper:()=>jy,base32z:()=>Yv});var xe={};_.r(xe),_.d(xe,{base36:()=>AI,base36upper:()=>ax});var Ce={};_.r(Ce),_.d(Ce,{base58btc:()=>Nf,base58flickr:()=>cx});var C={};_.r(C),_.d(C,{base64:()=>TI,base64pad:()=>lx,base64url:()=>v8,base64urlpad:()=>b8});var a={};_.r(a),_.d(a,{base8:()=>w8});var u={};_.r(u),_.d(u,{identity:()=>II});var y={};_.r(y),_.d(y,{code:()=>S8,decode:()=>CI,encode:()=>DI,name:()=>x8});var g={};_.r(g),_.d(g,{code:()=>A8,decode:()=>T8,encode:()=>jd,name:()=>M8});var S={};_.r(S),_.d(S,{identity:()=>j8});var T={};_.r(T),_.d(T,{sha256:()=>$y,sha512:()=>mx});var N={};_.r(N),_.d(N,{OG:()=>V0,My:()=>_m,Ph:()=>Pg,lX:()=>K0,Id:()=>Og,fg:()=>F3,qj:()=>Ac,aT:()=>dw,aY:()=>Gf,lq:()=>Tp,z:()=>uw,Q5:()=>z0});var M=_(49970),s=_(14725);const v=new TextEncoder,W=new TextDecoder;class K{static base64UrlToBytes(t){return s.r0.baseDecode(t)}static base64UrlToObject(t){const n=s.r0.baseDecode(t);return K.bytesToObject(n)}static bytesToBase64Url(t){return s.r0.baseEncode(t)}static bytesToString(t){return W.decode(t)}static bytesToObject(t){const n=K.bytesToString(t);return JSON.parse(n)}static objectToBytes(t){const n=JSON.stringify(t);return v.encode(n)}static stringToBase64Url(t){const n=v.encode(t);return s.r0.baseEncode(n)}static stringToBytes(t){return v.encode(t)}}var ee=_(63741);class ce extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DwnError"}}var _e=function(r){return r.AuthenticateJwsMissing="AuthenticateJwsMissing",r.AuthenticateDescriptorCidMismatch="AuthenticateDescriptorCidMismatch",r.AuthenticationMoreThanOneSignatureNotSupported="AuthenticationMoreThanOneSignatureNotSupported",r.AuthorizationAuthorNotOwner="AuthorizationAuthorNotOwner",r.AuthorizationNotGrantedToAuthor="AuthorizationNotGrantedToAuthor",r.ComputeCidCodecNotSupported="ComputeCidCodecNotSupported",r.ComputeCidMultihashNotSupported="ComputeCidMultihashNotSupported",r.Ed25519InvalidJwk="Ed25519InvalidJwk",r.EventEmitterStreamNotOpenError="EventEmitterStreamNotOpenError",r.MessagesGrantAuthorizationMismatchedProtocol="EventsGrantAuthorizationMismatchedProtocol",r.MessagesSubscribeAuthorizationFailed="MessagesSubscribeAuthorizationFailed",r.MessagesSubscribeEventStreamUnimplemented="MessagesSubscribeEventStreamUnimplemented",r.GeneralJwsVerifierGetPublicKeyNotFound="GeneralJwsVerifierGetPublicKeyNotFound",r.GeneralJwsVerifierInvalidSignature="GeneralJwsVerifierInvalidSignature",r.GrantAuthorizationGrantExpired="GrantAuthorizationGrantExpired",r.GrantAuthorizationGrantMissing="GrantAuthorizationGrantMissing",r.GrantAuthorizationGrantRevoked="GrantAuthorizationGrantRevoked",r.GrantAuthorizationInterfaceMismatch="GrantAuthorizationInterfaceMismatch",r.GrantAuthorizationMethodMismatch="GrantAuthorizationMethodMismatch",r.GrantAuthorizationNotGrantedForTenant="GrantAuthorizationNotGrantedForTenant",r.GrantAuthorizationNotGrantedToAuthor="GrantAuthorizationNotGrantedToAuthor",r.GrantAuthorizationGrantNotYetActive="GrantAuthorizationGrantNotYetActive",r.HdKeyDerivationPathInvalid="HdKeyDerivationPathInvalid",r.JwsVerifySignatureUnsupportedCrv="JwsVerifySignatureUnsupportedCrv",r.IndexInvalidCursorValueType="IndexInvalidCursorValueType",r.IndexInvalidCursorSortProperty="IndexInvalidCursorSortProperty",r.IndexInvalidSortPropertyInMemory="IndexInvalidSortPropertyInMemory",r.IndexMissingIndexableProperty="IndexMissingIndexableProperty",r.JwsDecodePlainObjectPayloadInvalid="JwsDecodePlainObjectPayloadInvalid",r.MessagesReadInvalidCid="MessagesReadInvalidCid",r.MessagesReadAuthorizationFailed="MessagesReadAuthorizationFailed",r.MessageGetInvalidCid="MessageGetInvalidCid",r.MessagesQueryAuthorizationFailed="MessagesQueryAuthorizationFailed",r.MessagesReadVerifyScopeFailed="MessagesReadVerifyScopeFailed",r.ParseCidCodecNotSupported="ParseCidCodecNotSupported",r.ParseCidMultihashNotSupported="ParseCidMultihashNotSupported",r.PermissionsProtocolCreateGrantRecordsScopeMissingProtocol="PermissionsProtocolCreateGrantRecordsScopeMissingProtocol",r.PermissionsProtocolCreateRequestRecordsScopeMissingProtocol="PermissionsProtocolCreateRequestRecordsScopeMissingProtocol",r.PermissionsProtocolGetScopeInvalidProtocol="PermissionsProtocolGetScopeInvalidProtocol",r.PermissionsProtocolValidateSchemaUnexpectedRecord="PermissionsProtocolValidateSchemaUnexpectedRecord",r.PermissionsProtocolValidateScopeContextIdProhibitedProperties="PermissionsProtocolValidateScopeContextIdProhibitedProperties",r.PermissionsProtocolValidateScopeProtocolMismatch="PermissionsProtocolValidateScopeProtocolMismatch",r.PermissionsProtocolValidateScopeMissingProtocolTag="PermissionsProtocolValidateScopeMissingProtocolTag",r.PermissionsProtocolValidateRevocationProtocolTagMismatch="PermissionsProtocolValidateRevocationProtocolTagMismatch",r.PrivateKeySignerUnableToDeduceAlgorithm="PrivateKeySignerUnableToDeduceAlgorithm",r.PrivateKeySignerUnableToDeduceKeyId="PrivateKeySignerUnableToDeduceKeyId",r.PrivateKeySignerUnsupportedCurve="PrivateKeySignerUnsupportedCurve",r.ProtocolAuthorizationActionNotAllowed="ProtocolAuthorizationActionNotAllowed",r.ProtocolAuthorizationActionRulesNotFound="ProtocolAuthorizationActionRulesNotFound",r.ProtocolAuthorizationIncorrectDataFormat="ProtocolAuthorizationIncorrectDataFormat",r.ProtocolAuthorizationIncorrectContextId="ProtocolAuthorizationIncorrectContextId",r.ProtocolAuthorizationIncorrectProtocolPath="ProtocolAuthorizationIncorrectProtocolPath",r.ProtocolAuthorizationDuplicateRoleRecipient="ProtocolAuthorizationDuplicateRoleRecipient",r.ProtocolAuthorizationInvalidSchema="ProtocolAuthorizationInvalidSchema",r.ProtocolAuthorizationInvalidType="ProtocolAuthorizationInvalidType",r.ProtocolAuthorizationMatchingRoleRecordNotFound="ProtocolAuthorizationMatchingRoleRecordNotFound",r.ProtocolAuthorizationMaxSizeInvalid="ProtocolAuthorizationMaxSizeInvalid",r.ProtocolAuthorizationMinSizeInvalid="ProtocolAuthorizationMinSizeInvalid",r.ProtocolAuthorizationMissingContextId="ProtocolAuthorizationMissingContextId",r.ProtocolAuthorizationMissingRuleSet="ProtocolAuthorizationMissingRuleSet",r.ProtocolAuthorizationParentlessIncorrectProtocolPath="ProtocolAuthorizationParentlessIncorrectProtocolPath",r.ProtocolAuthorizationNotARole="ProtocolAuthorizationNotARole",r.ProtocolAuthorizationParentNotFoundConstructingRecordChain="ProtocolAuthorizationParentNotFoundConstructingRecordChain",r.ProtocolAuthorizationProtocolNotFound="ProtocolAuthorizationProtocolNotFound",r.ProtocolAuthorizationRoleMissingRecipient="ProtocolAuthorizationRoleMissingRecipient",r.ProtocolAuthorizationTagsInvalidSchema="ProtocolAuthorizationTagsInvalidSchema",r.ProtocolsConfigureDuplicateActorInRuleSet="ProtocolsConfigureDuplicateActorInRuleSet",r.ProtocolsConfigureDuplicateRoleInRuleSet="ProtocolsConfigureDuplicateRoleInRuleSet",r.ProtocolsConfigureInvalidSize="ProtocolsConfigureInvalidSize",r.ProtocolsConfigureInvalidActionMissingOf="ProtocolsConfigureInvalidActionMissingOf",r.ProtocolsConfigureInvalidActionOfNotAllowed="ProtocolsConfigureInvalidActionOfNotAllowed",r.ProtocolsConfigureInvalidActionDeleteWithoutCreate="ProtocolsConfigureInvalidActionDeleteWithoutCreate",r.ProtocolsConfigureInvalidActionUpdateWithoutCreate="ProtocolsConfigureInvalidActionUpdateWithoutCreate",r.ProtocolsConfigureInvalidRecipientOfAction="ProtocolsConfigureInvalidRecipientOfAction",r.ProtocolsConfigureInvalidRuleSetRecordType="ProtocolsConfigureInvalidRuleSetRecordType",r.ProtocolsConfigureInvalidTagSchema="ProtocolsConfigureInvalidTagSchema",r.ProtocolsConfigureRecordNestingDepthExceeded="ProtocolsConfigureRecordNestingDepthExceeded",r.ProtocolsConfigureRoleDoesNotExistAtGivenPath="ProtocolsConfigureRoleDoesNotExistAtGivenPath",r.ProtocolsQueryUnauthorized="ProtocolsQueryUnauthorized",r.RecordsAuthorDelegatedGrantAndIdExistenceMismatch="RecordsAuthorDelegatedGrantAndIdExistenceMismatch",r.RecordsAuthorDelegatedGrantCidMismatch="RecordsAuthorDelegatedGrantCidMismatch",r.RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch="RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch",r.RecordsAuthorDelegatedGrantNotADelegatedGrant="RecordsAuthorDelegatedGrantNotADelegatedGrant",r.RecordsDecryptNoMatchingKeyEncryptedFound="RecordsDecryptNoMatchingKeyEncryptedFound",r.RecordsDeleteAuthorizationFailed="RecordsDeleteAuthorizationFailed",r.RecordsQueryCreateFilterPublishedSortInvalid="RecordsQueryCreateFilterPublishedSortInvalid",r.RecordsQueryParseFilterPublishedSortInvalid="RecordsQueryParseFilterPublishedSortInvalid",r.RecordsGrantAuthorizationConditionPublicationProhibited="RecordsGrantAuthorizationConditionPublicationProhibited",r.RecordsGrantAuthorizationConditionPublicationRequired="RecordsGrantAuthorizationConditionPublicationRequired",r.RecordsGrantAuthorizationDeleteProtocolScopeMismatch="RecordsGrantAuthorizationDeleteProtocolScopeMismatch",r.RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch="RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch",r.RecordsGrantAuthorizationScopeContextIdMismatch="RecordsGrantAuthorizationScopeContextIdMismatch",r.RecordsGrantAuthorizationScopeProtocolMismatch="RecordsGrantAuthorizationScopeProtocolMismatch",r.RecordsGrantAuthorizationScopeProtocolPathMismatch="RecordsGrantAuthorizationScopeProtocolPathMismatch",r.RecordsDerivePrivateKeyUnSupportedCurve="RecordsDerivePrivateKeyUnSupportedCurve",r.RecordsInvalidAncestorKeyDerivationSegment="RecordsInvalidAncestorKeyDerivationSegment",r.RecordsOwnerDelegatedGrantAndIdExistenceMismatch="RecordsOwnerDelegatedGrantAndIdExistenceMismatch",r.RecordsOwnerDelegatedGrantCidMismatch="RecordsOwnerDelegatedGrantCidMismatch",r.RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch="RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch",r.RecordsOwnerDelegatedGrantNotADelegatedGrant="RecordsOwnerDelegatedGrantNotADelegatedGrant",r.RecordsProtocolContextDerivationSchemeMissingContextId="RecordsProtocolContextDerivationSchemeMissingContextId",r.RecordsProtocolPathDerivationSchemeMissingProtocol="RecordsProtocolPathDerivationSchemeMissingProtocol",r.RecordsQueryFilterMissingRequiredProperties="RecordsQueryFilterMissingRequiredProperties",r.RecordsReadReturnedMultiple="RecordsReadReturnedMultiple",r.RecordsReadAuthorizationFailed="RecordsReadAuthorizationFailed",r.RecordsSubscribeEventStreamUnimplemented="RecordsSubscribeEventStreamUnimplemented",r.RecordsSubscribeFilterMissingRequiredProperties="RecordsSubscribeFilterMissingRequiredProperties",r.RecordsSchemasDerivationSchemeMissingSchema="RecordsSchemasDerivationSchemeMissingSchema",r.RecordsWriteAttestationIntegrityMoreThanOneSignature="RecordsWriteAttestationIntegrityMoreThanOneSignature",r.RecordsWriteAttestationIntegrityDescriptorCidMismatch="RecordsWriteAttestationIntegrityDescriptorCidMismatch",r.RecordsWriteAttestationIntegrityInvalidPayloadProperty="RecordsWriteAttestationIntegrityInvalidPayloadProperty",r.RecordsWriteAuthorizationFailed="RecordsWriteAuthorizationFailed",r.RecordsWriteCreateMissingSigner="RecordsWriteCreateMissingSigner",r.RecordsWriteCreateDataAndDataCidMutuallyExclusive="RecordsWriteCreateDataAndDataCidMutuallyExclusive",r.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive="RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive",r.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive="RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive",r.RecordsWriteDataCidMismatch="RecordsWriteDataCidMismatch",r.RecordsWriteDataSizeMismatch="RecordsWriteDataSizeMismatch",r.RecordsWriteGetEntryIdUndefinedAuthor="RecordsWriteGetEntryIdUndefinedAuthor",r.RecordsWriteGetNewestWriteRecordNotFound="RecordsWriteGetNewestWriteRecordNotFound",r.RecordsWriteGetInitialWriteNotFound="RecordsWriteGetInitialWriteNotFound",r.RecordsWriteImmutablePropertyChanged="RecordsWriteImmutablePropertyChanged",r.RecordsWriteMissingSigner="RecordsWriteMissingSigner",r.RecordsWriteMissingDataInPrevious="RecordsWriteMissingDataInPrevious",r.RecordsWriteMissingEncodedDataInPrevious="RecordsWriteMissingEncodedDataInPrevious",r.RecordsWriteMissingDataStream="RecordsWriteMissingDataStream",r.RecordsWriteMissingProtocol="RecordsWriteMissingProtocol",r.RecordsWriteMissingSchema="RecordsWriteMissingSchema",r.RecordsWriteOwnerAndTenantMismatch="RecordsWriteOwnerAndTenantMismatch",r.RecordsWriteSignAsOwnerDelegateUnknownAuthor="RecordsWriteSignAsOwnerDelegateUnknownAuthor",r.RecordsWriteSignAsOwnerUnknownAuthor="RecordsWriteSignAsOwnerUnknownAuthor",r.RecordsWriteValidateIntegrityAttestationMismatch="RecordsWriteValidateIntegrityAttestationMismatch",r.RecordsWriteValidateIntegrityContextIdMismatch="RecordsWriteValidateIntegrityContextIdMismatch",r.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload="RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload",r.RecordsWriteValidateIntegrityDateCreatedMismatch="RecordsWriteValidateIntegrityDateCreatedMismatch",r.RecordsWriteValidateIntegrityEncryptionCidMismatch="RecordsWriteValidateIntegrityEncryptionCidMismatch",r.RecordsWriteValidateIntegrityRecordIdUnauthorized="RecordsWriteValidateIntegrityRecordIdUnauthorized",r.SchemaValidatorAdditionalPropertyNotAllowed="SchemaValidatorAdditionalPropertyNotAllowed",r.SchemaValidatorFailure="SchemaValidatorFailure",r.SchemaValidatorSchemaNotFound="SchemaValidatorSchemaNotFound",r.SchemaValidatorUnevaluatedPropertyNotAllowed="SchemaValidatorUnevaluatedPropertyNotAllowed",r.Secp256k1KeyNotValid="Secp256k1KeyNotValid",r.Secp256r1KeyNotValid="Secp256r1KeyNotValid",r.TimestampInvalid="TimestampInvalid",r.UrlProtocolNotNormalized="UrlProtocolNotNormalized",r.UrlProtocolNotNormalizable="UrlProtocolNotNormalizable",r.UrlSchemaNotNormalized="UrlSchemaNotNormalized",r}(_e||{}),Pe=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};function $e(r){if("OKP"!==r.kty||"Ed25519"!==r.crv)throw new ce(_e.Ed25519InvalidJwk,"invalid jwk. kty MUST be OKP. crv MUST be Ed25519")}function Se(r){return{alg:"EdDSA",kty:"OKP",crv:"Ed25519",x:K.bytesToBase64Url(r)}}const be={sign:(r,t)=>Pe(void 0,void 0,void 0,function*(){$e(t);const n=K.base64UrlToBytes(t.d);return ee.wJ(r,n)}),verify:(r,t,n)=>Pe(void 0,void 0,void 0,function*(){$e(n);const i=K.base64UrlToBytes(n.x);return ee.kv(t,r,i)}),generateKeyPair:()=>Pe(void 0,void 0,void 0,function*(){const r=ee.Wp.randomPrivateKey(),t=yield ee.Rn(r),n=K.bytesToBase64Url(r),i=Se(t);return{publicJwk:i,privateJwk:Object.assign(Object.assign({},i),{d:n})}}),publicKeyToJwk:r=>Pe(void 0,void 0,void 0,function*(){return Se(r)})};var Ne=_(68464),ye=_(10467),Te=_(92059);const pe=r=>function(){var t=(0,ye.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}(),fe=(0,Te.H)({name:"sha2-256",code:18,encode:pe("SHA-256")});(0,Te.H)({name:"sha2-512",code:19,encode:pe("SHA-512")});var ie=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class Ee{static validateKey(t){if("EC"!==t.kty||"secp256k1"!==t.crv)throw new ce(_e.Secp256k1KeyNotValid,"Invalid SECP256K1 JWK: `kty` MUST be `EC`. `crv` MUST be `secp256k1`")}static publicKeyToJwk(t){return ie(this,void 0,void 0,function*(){let n;return n=33===t.byteLength?Ne.CB.fromHex(t).toRawBytes(!1):t,{alg:"ES256K",kty:"EC",crv:"secp256k1",x:K.bytesToBase64Url(n.subarray(1,33)),y:K.bytesToBase64Url(n.subarray(33,65))}})}static privateKeyToJwk(t){return ie(this,void 0,void 0,function*(){const n=yield Ee.getPublicKey(t),i=yield Ee.publicKeyToJwk(n);return i.d=K.bytesToBase64Url(t),i})}static publicJwkToBytes(t){const n=K.base64UrlToBytes(t.x),i=K.base64UrlToBytes(t.y);return Ne.CB.fromAffine({x:Ne.jn.bytesToNumberBE(n),y:Ne.jn.bytesToNumberBE(i)}).toRawBytes(!0)}static privateJwkToBytes(t){return K.base64UrlToBytes(t.d)}static sign(t,n){return ie(this,void 0,void 0,function*(){Ee.validateKey(n);const i=yield fe.encode(t),l=Ee.privateJwkToBytes(n);return(yield Ne.wJ(i,l)).toCompactRawBytes()})}static verify(t,n,i){return ie(this,void 0,void 0,function*(){Ee.validateKey(i);const l=Ee.publicJwkToBytes(i),h=yield fe.encode(t);return Ne.MX(n,h,l)})}static generateKeyPair(){return ie(this,void 0,void 0,function*(){const t=Ne.Wp.randomPrivateKey(),n=Ne.lG(t,!1),i=K.bytesToBase64Url(t),l=yield Ee.publicKeyToJwk(n);return{publicJwk:l,privateJwk:Object.assign(Object.assign({},l),{d:i})}})}static generateKeyPairRaw(){return ie(this,void 0,void 0,function*(){const t=Ne.Wp.randomPrivateKey();return{publicKey:Ne.lG(t,!0),privateKey:t}})}static getPublicKey(t){return ie(this,void 0,void 0,function*(){return Ne.lG(t,!0)})}static getPublicJwk(t){return ie(this,void 0,void 0,function*(){return function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["d"])})}}function ke(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`positive integer expected, not ${r}`)}function _t(r,...t){if(!function Le(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}(r))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(r.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${r.length}`)}function Be(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}const m="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Ae=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Qe=(r,t)=>r<<32-t|r>>>t;function dn(r){return"string"==typeof r&&(r=function Jt(r){if("string"!=typeof r)throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array((new TextEncoder).encode(r))}(r)),_t(r),r}new Uint8Array(new Uint32Array([287454020]).buffer);class vt{clone(){return this._cloneInto()}}function Xe(r){const t=i=>r().update(dn(i)).digest(),n=r();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>r(),t}function Ot(r=32){if(m&&"function"==typeof m.getRandomValues)return m.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}const Hn=(r,t,n)=>r&t^~r&n,bn=(r,t,n)=>r&t^r&n^t&n;class In extends vt{constructor(t,n,i,l){super(),this.blockLen=t,this.outputLen=n,this.padOffset=i,this.isLE=l,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Ae(this.buffer)}update(t){Be(this);const{view:n,buffer:i,blockLen:l}=this,h=(t=dn(t)).length;for(let c=0;c<h;){const f=Math.min(l-this.pos,h-c);if(f!==l)i.set(t.subarray(c,c+f),this.pos),this.pos+=f,c+=f,this.pos===l&&(this.process(n,0),this.pos=0);else{const V=Ae(t);for(;l<=h-c;c+=l)this.process(V,c)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){Be(this),function lt(r,t){_t(r);const n=t.outputLen;if(r.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(t,this),this.finished=!0;const{buffer:n,view:i,blockLen:l,isLE:h}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>l-c&&(this.process(i,0),c=0);for(let q=c;q<l;q++)n[q]=0;(function sn(r,t,n,i){if("function"==typeof r.setBigUint64)return r.setBigUint64(t,n,i);const l=BigInt(32),h=BigInt(4294967295),c=Number(n>>l&h),f=Number(n&h),$=i?0:4;r.setUint32(t+(i?4:0),c,i),r.setUint32(t+$,f,i)})(i,l-8,BigInt(8*this.length),h),this.process(i,0);const f=Ae(t),V=this.outputLen;if(V%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const $=V/4,D=this.get();if($>D.length)throw new Error("_sha2: outputLen bigger than state");for(let q=0;q<$;q++)f.setUint32(4*q,D[q],h)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const i=t.slice(0,n);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:i,length:l,finished:h,destroyed:c,pos:f}=this;return t.length=l,t.pos=f,t.finished=h,t.destroyed=c,l%n&&t.buffer.set(i),t}}const Ar=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Jn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ln=new Uint32Array(64);class $n extends In{constructor(){super(64,32,8,!1),this.A=0|Jn[0],this.B=0|Jn[1],this.C=0|Jn[2],this.D=0|Jn[3],this.E=0|Jn[4],this.F=0|Jn[5],this.G=0|Jn[6],this.H=0|Jn[7]}get(){const{A:t,B:n,C:i,D:l,E:h,F:c,G:f,H:V}=this;return[t,n,i,l,h,c,f,V]}set(t,n,i,l,h,c,f,V){this.A=0|t,this.B=0|n,this.C=0|i,this.D=0|l,this.E=0|h,this.F=0|c,this.G=0|f,this.H=0|V}process(t,n){for(let q=0;q<16;q++,n+=4)Ln[q]=t.getUint32(n,!1);for(let q=16;q<64;q++){const De=Ln[q-15],Re=Ln[q-2],Oe=Qe(De,7)^Qe(De,18)^De>>>3,je=Qe(Re,17)^Qe(Re,19)^Re>>>10;Ln[q]=je+Ln[q-7]+Oe+Ln[q-16]|0}let{A:i,B:l,C:h,D:c,E:f,F:V,G:$,H:D}=this;for(let q=0;q<64;q++){const Re=D+(Qe(f,6)^Qe(f,11)^Qe(f,25))+Hn(f,V,$)+Ar[q]+Ln[q]|0,je=(Qe(i,2)^Qe(i,13)^Qe(i,22))+bn(i,l,h)|0;D=$,$=V,V=f,f=c+Re|0,c=h,h=l,l=i,i=Re+je|0}i=i+this.A|0,l=l+this.B|0,h=h+this.C|0,c=c+this.D|0,f=f+this.E|0,V=V+this.F|0,$=$+this.G|0,D=D+this.H|0,this.set(i,l,h,c,f,V,$,D)}roundClean(){Ln.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ge=Xe(()=>new $n);class Yt extends vt{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,function Ve(r){if("function"!=typeof r||"function"!=typeof r.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");ke(r.outputLen),ke(r.blockLen)}(t);const i=dn(n);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const l=this.blockLen,h=new Uint8Array(l);h.set(i.length>l?t.create().update(i).digest():i);for(let c=0;c<h.length;c++)h[c]^=54;this.iHash.update(h),this.oHash=t.create();for(let c=0;c<h.length;c++)h[c]^=106;this.oHash.update(h),h.fill(0)}update(t){return Be(this),this.iHash.update(t),this}digestInto(t){Be(this),_t(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:l,destroyed:h,blockLen:c,outputLen:f}=this;return t.finished=l,t.destroyed=h,t.blockLen=c,t.outputLen=f,t.oHash=n._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const _n=(r,t,n)=>new Yt(r,t).update(n).digest();_n.create=(r,t)=>new Yt(r,t);const Yn=BigInt(1),yr=BigInt(2);function Nr(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}function Ur(r){if(!Nr(r))throw new Error("Uint8Array expected")}const Kr=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function Xr(r){Ur(r);let t="";for(let n=0;n<r.length;n++)t+=Kr[r[n]];return t}function en(r){if("string"!=typeof r)throw new Error("hex string expected, got "+typeof r);return BigInt(""===r?"0":`0x${r}`)}const wn={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Dn(r){return r>=wn._0&&r<=wn._9?r-wn._0:r>=wn._A&&r<=wn._F?r-(wn._A-10):r>=wn._a&&r<=wn._f?r-(wn._a-10):void 0}function Fn(r){if("string"!=typeof r)throw new Error("hex string expected, got "+typeof r);const t=r.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(n);for(let l=0,h=0;l<n;l++,h+=2){const c=Dn(r.charCodeAt(h)),f=Dn(r.charCodeAt(h+1));if(void 0===c||void 0===f)throw new Error('hex string expected, got non-hex character "'+(r[h]+r[h+1])+'" at index '+h);i[l]=16*c+f}return i}function fr(r){return en(Xr(r))}function Sr(r){return Ur(r),en(Xr(Uint8Array.from(r).reverse()))}function xr(r,t){return Fn(r.toString(16).padStart(2*t,"0"))}function Fr(r,t){return xr(r,t).reverse()}function ti(r,t,n){let i;if("string"==typeof t)try{i=Fn(t)}catch(h){throw new Error(`${r} must be valid hex string, got "${t}". Cause: ${h}`)}else{if(!Nr(t))throw new Error(`${r} must be hex string or Uint8Array`);i=Uint8Array.from(t)}const l=i.length;if("number"==typeof n&&l!==n)throw new Error(`${r} expected ${n} bytes, got ${l}`);return i}function xo(...r){let t=0;for(let i=0;i<r.length;i++){const l=r[i];Ur(l),t+=l.length}const n=new Uint8Array(t);for(let i=0,l=0;i<r.length;i++){const h=r[i];n.set(h,l),l+=h.length}return n}const wi=r=>(yr<<BigInt(r-1))-Yn,Ui=r=>new Uint8Array(r),La=r=>Uint8Array.from(r);function Mi(r,t,n){if("number"!=typeof r||r<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let i=Ui(r),l=Ui(r),h=0;const c=()=>{i.fill(1),l.fill(0),h=0},f=(...q)=>n(l,i,...q),V=(q=Ui())=>{l=f(La([0]),q),i=f(),0!==q.length&&(l=f(La([1]),q),i=f())},$=()=>{if(h++>=1e3)throw new Error("drbg: tried 1000 values");let q=0;const De=[];for(;q<t;){i=f();const Re=i.slice();De.push(Re),q+=i.length}return xo(...De)};return(q,De)=>{let Re;for(c(),V(q);!(Re=De($()));)V();return c(),Re}}const ls={bigint:r=>"bigint"==typeof r,function:r=>"function"==typeof r,boolean:r=>"boolean"==typeof r,string:r=>"string"==typeof r,stringOrUint8Array:r=>"string"==typeof r||Nr(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>"function"==typeof r&&Number.isSafeInteger(r.outputLen)};function Js(r,t,n={}){const i=(l,h,c)=>{const f=ls[h];if("function"!=typeof f)throw new Error(`Invalid validator "${h}", expected function`);const V=r[l];if(!(c&&void 0===V||f(V,r)))throw new Error(`Invalid param ${String(l)}=${V} (${typeof V}), expected ${h}`)};for(const[l,h]of Object.entries(t))i(l,h,!1);for(const[l,h]of Object.entries(n))i(l,h,!0);return r}const So=BigInt(0),Ki=BigInt(1),ps=BigInt(2),ua=BigInt(3),wa=BigInt(4),cl=BigInt(5),Ya=BigInt(8);function fa(r,t){const n=r%t;return n>=So?n:t+n}function eu(r,t,n){if(n<=So||t<So)throw new Error("Expected power/modulo > 0");if(n===Ki)return So;let i=Ki;for(;t>So;)t&Ki&&(i=i*r%n),r=r*r%n,t>>=Ki;return i}function ll(r,t){if(r===So||t<=So)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let n=fa(r,t),i=t,l=So,h=Ki,c=Ki,f=So;for(;n!==So;){const $=i/n,D=i%n,q=l-c*$,De=h-f*$;i=n,n=D,l=c,h=f,c=q,f=De}if(i!==Ki)throw new Error("invert: does not exist");return fa(l,t)}BigInt(9),BigInt(16);const qs=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Qs(r,t){const n=void 0!==t?t:r.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function uo(r){if("bigint"!=typeof r)throw new Error("field order must be bigint");const t=r.toString(2).length;return Math.ceil(t/8)}function vo(r){const t=uo(r);return t+Math.ceil(t/2)}const Od=BigInt(0),ds=BigInt(1);function ln(r){return function kl(r){Js(r,qs.reduce((i,l)=>(i[l]="function",i),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(r.Fp),Js(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Qs(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}const{Ph:$t,aT:mn}=p,vn={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(r){const{Err:t}=vn;if(r.length<2||2!==r[0])throw new t("Invalid signature integer tag");const n=r[1],i=r.subarray(2,n+2);if(!n||i.length!==n)throw new t("Invalid signature integer: wrong length");if(128&i[0])throw new t("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:$t(i),l:r.subarray(n+2)}},toSig(r){const{Err:t}=vn,n="string"==typeof r?mn(r):r;Ur(n);let i=n.length;if(i<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==i-2)throw new t("Invalid signature: incorrect length");const{d:l,l:h}=vn._parseInt(n.subarray(2)),{d:c,l:f}=vn._parseInt(h);if(f.length)throw new t("Invalid signature: left bytes after parsing");return{r:l,s:c}},hexFromSig(r){const t=$=>8&Number.parseInt($[0],16)?"00"+$:$,n=$=>{const D=$.toString(16);return 1&D.length?`0${D}`:D},i=t(n(r.s)),l=t(n(r.r)),h=i.length/2,c=l.length/2,f=n(h),V=n(c);return`30${n(c+h+4)}02${V}${l}02${f}${i}`}},Kn=BigInt(0),ir=BigInt(1),fi=(BigInt(2),BigInt(3));function Ai(r){const t=function xa(r){const t=ln(r);return Js(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(r),{Fp:n,n:i}=t,l=n.BYTES+1,h=2*n.BYTES+1;function f(on){return fa(on,i)}function V(on){return ll(on,i)}const{ProjectivePoint:$,normPrivateKeyToScalar:D,weierstrassEquation:q,isWithinCurveOrder:De}=function si(r){const t=function pr(r){const t=ln(r);Js(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:i,a:l}=t;if(n){if(!i.eql(l,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(r),{Fp:n}=t,i=t.toBytes||((Oe,je,et)=>{const ft=je.toAffine();return xo(Uint8Array.from([4]),n.toBytes(ft.x),n.toBytes(ft.y))}),l=t.fromBytes||(Oe=>{const je=Oe.subarray(1);return{x:n.fromBytes(je.subarray(0,n.BYTES)),y:n.fromBytes(je.subarray(n.BYTES,2*n.BYTES))}});function h(Oe){const{a:je,b:et}=t,ft=n.sqr(Oe),at=n.mul(ft,Oe);return n.add(n.add(at,n.mul(Oe,je)),et)}if(!n.eql(n.sqr(t.Gy),h(t.Gx)))throw new Error("bad generator point: equation left != right");function c(Oe){return"bigint"==typeof Oe&&Kn<Oe&&Oe<t.n}function f(Oe){if(!c(Oe))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function V(Oe){const{allowedPrivateKeyLengths:je,nByteLength:et,wrapPrivateKey:ft,n:at}=t;if(je&&"bigint"!=typeof Oe){if(Nr(Oe)&&(Oe=Xr(Oe)),"string"!=typeof Oe||!je.includes(Oe.length))throw new Error("Invalid key");Oe=Oe.padStart(2*et,"0")}let dt;try{dt="bigint"==typeof Oe?Oe:fr(ti("private key",Oe,et))}catch{throw new Error(`private key must be ${et} bytes, hex or bigint, not ${typeof Oe}`)}return ft&&(dt=fa(dt,at)),f(dt),dt}const $=new Map;function D(Oe){if(!(Oe instanceof q))throw new Error("ProjectivePoint expected")}class q{constructor(je,et,ft){if(this.px=je,this.py=et,this.pz=ft,null==je||!n.isValid(je))throw new Error("x required");if(null==et||!n.isValid(et))throw new Error("y required");if(null==ft||!n.isValid(ft))throw new Error("z required")}static fromAffine(je){const{x:et,y:ft}=je||{};if(!je||!n.isValid(et)||!n.isValid(ft))throw new Error("invalid affine point");if(je instanceof q)throw new Error("projective point not allowed");const at=dt=>n.eql(dt,n.ZERO);return at(et)&&at(ft)?q.ZERO:new q(et,ft,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(je){const et=n.invertBatch(je.map(ft=>ft.pz));return je.map((ft,at)=>ft.toAffine(et[at])).map(q.fromAffine)}static fromHex(je){const et=q.fromAffine(l(ti("pointHex",je)));return et.assertValidity(),et}static fromPrivateKey(je){return q.BASE.multiply(V(je))}_setWindowSize(je){this._WINDOW_SIZE=je,$.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:je,y:et}=this.toAffine();if(!n.isValid(je)||!n.isValid(et))throw new Error("bad point: x or y not FE");const ft=n.sqr(et),at=h(je);if(!n.eql(ft,at))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:je}=this.toAffine();if(n.isOdd)return!n.isOdd(je);throw new Error("Field doesn't support isOdd")}equals(je){D(je);const{px:et,py:ft,pz:at}=this,{px:dt,py:Mt,pz:Pt}=je,Dt=n.eql(n.mul(et,Pt),n.mul(dt,at)),Kt=n.eql(n.mul(ft,Pt),n.mul(Mt,at));return Dt&&Kt}negate(){return new q(this.px,n.neg(this.py),this.pz)}double(){const{a:je,b:et}=t,ft=n.mul(et,fi),{px:at,py:dt,pz:Mt}=this;let Pt=n.ZERO,Dt=n.ZERO,Kt=n.ZERO,Wt=n.mul(at,at),En=n.mul(dt,dt),Tn=n.mul(Mt,Mt),Rn=n.mul(at,dt);return Rn=n.add(Rn,Rn),Kt=n.mul(at,Mt),Kt=n.add(Kt,Kt),Pt=n.mul(je,Kt),Dt=n.mul(ft,Tn),Dt=n.add(Pt,Dt),Pt=n.sub(En,Dt),Dt=n.add(En,Dt),Dt=n.mul(Pt,Dt),Pt=n.mul(Rn,Pt),Kt=n.mul(ft,Kt),Tn=n.mul(je,Tn),Rn=n.sub(Wt,Tn),Rn=n.mul(je,Rn),Rn=n.add(Rn,Kt),Kt=n.add(Wt,Wt),Wt=n.add(Kt,Wt),Wt=n.add(Wt,Tn),Wt=n.mul(Wt,Rn),Dt=n.add(Dt,Wt),Tn=n.mul(dt,Mt),Tn=n.add(Tn,Tn),Wt=n.mul(Tn,Rn),Pt=n.sub(Pt,Wt),Kt=n.mul(Tn,En),Kt=n.add(Kt,Kt),Kt=n.add(Kt,Kt),new q(Pt,Dt,Kt)}add(je){D(je);const{px:et,py:ft,pz:at}=this,{px:dt,py:Mt,pz:Pt}=je;let Dt=n.ZERO,Kt=n.ZERO,Wt=n.ZERO;const En=t.a,Tn=n.mul(t.b,fi);let Rn=n.mul(et,dt),rr=n.mul(ft,Mt),Pn=n.mul(at,Pt),zn=n.add(et,ft),on=n.add(dt,Mt);zn=n.mul(zn,on),on=n.add(Rn,rr),zn=n.sub(zn,on),on=n.add(et,at);let pn=n.add(dt,Pt);return on=n.mul(on,pn),pn=n.add(Rn,Pn),on=n.sub(on,pn),pn=n.add(ft,at),Dt=n.add(Mt,Pt),pn=n.mul(pn,Dt),Dt=n.add(rr,Pn),pn=n.sub(pn,Dt),Wt=n.mul(En,on),Dt=n.mul(Tn,Pn),Wt=n.add(Dt,Wt),Dt=n.sub(rr,Wt),Wt=n.add(rr,Wt),Kt=n.mul(Dt,Wt),rr=n.add(Rn,Rn),rr=n.add(rr,Rn),Pn=n.mul(En,Pn),on=n.mul(Tn,on),rr=n.add(rr,Pn),Pn=n.sub(Rn,Pn),Pn=n.mul(En,Pn),on=n.add(on,Pn),Rn=n.mul(rr,on),Kt=n.add(Kt,Rn),Rn=n.mul(pn,on),Dt=n.mul(zn,Dt),Dt=n.sub(Dt,Rn),Rn=n.mul(zn,rr),Wt=n.mul(pn,Wt),Wt=n.add(Wt,Rn),new q(Dt,Kt,Wt)}subtract(je){return this.add(je.negate())}is0(){return this.equals(q.ZERO)}wNAF(je){return Re.wNAFCached(this,$,je,et=>{const ft=n.invertBatch(et.map(at=>at.pz));return et.map((at,dt)=>at.toAffine(ft[dt])).map(q.fromAffine)})}multiplyUnsafe(je){const et=q.ZERO;if(je===Kn)return et;if(f(je),je===ir)return this;const{endo:ft}=t;if(!ft)return Re.unsafeLadder(this,je);let{k1neg:at,k1:dt,k2neg:Mt,k2:Pt}=ft.splitScalar(je),Dt=et,Kt=et,Wt=this;for(;dt>Kn||Pt>Kn;)dt&ir&&(Dt=Dt.add(Wt)),Pt&ir&&(Kt=Kt.add(Wt)),Wt=Wt.double(),dt>>=ir,Pt>>=ir;return at&&(Dt=Dt.negate()),Mt&&(Kt=Kt.negate()),Kt=new q(n.mul(Kt.px,ft.beta),Kt.py,Kt.pz),Dt.add(Kt)}multiply(je){f(je);let ft,at,et=je;const{endo:dt}=t;if(dt){const{k1neg:Mt,k1:Pt,k2neg:Dt,k2:Kt}=dt.splitScalar(et);let{p:Wt,f:En}=this.wNAF(Pt),{p:Tn,f:Rn}=this.wNAF(Kt);Wt=Re.constTimeNegate(Mt,Wt),Tn=Re.constTimeNegate(Dt,Tn),Tn=new q(n.mul(Tn.px,dt.beta),Tn.py,Tn.pz),ft=Wt.add(Tn),at=En.add(Rn)}else{const{p:Mt,f:Pt}=this.wNAF(et);ft=Mt,at=Pt}return q.normalizeZ([ft,at])[0]}multiplyAndAddUnsafe(je,et,ft){const at=q.BASE,dt=(Pt,Dt)=>Dt!==Kn&&Dt!==ir&&Pt.equals(at)?Pt.multiply(Dt):Pt.multiplyUnsafe(Dt),Mt=dt(this,et).add(dt(je,ft));return Mt.is0()?void 0:Mt}toAffine(je){const{px:et,py:ft,pz:at}=this,dt=this.is0();null==je&&(je=dt?n.ONE:n.inv(at));const Mt=n.mul(et,je),Pt=n.mul(ft,je),Dt=n.mul(at,je);if(dt)return{x:n.ZERO,y:n.ZERO};if(!n.eql(Dt,n.ONE))throw new Error("invZ was invalid");return{x:Mt,y:Pt}}isTorsionFree(){const{h:je,isTorsionFree:et}=t;if(je===ir)return!0;if(et)return et(q,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:je,clearCofactor:et}=t;return je===ir?this:et?et(q,this):this.multiplyUnsafe(t.h)}toRawBytes(je=!0){return this.assertValidity(),i(q,this,je)}toHex(je=!0){return Xr(this.toRawBytes(je))}}q.BASE=new q(t.Gx,t.Gy,n.ONE),q.ZERO=new q(n.ZERO,n.ONE,n.ZERO);const De=t.nBitLength,Re=function Cc(r,t){const n=(l,h)=>{const c=h.negate();return l?c:h},i=l=>({windows:Math.ceil(t/l)+1,windowSize:2**(l-1)});return{constTimeNegate:n,unsafeLadder(l,h){let c=r.ZERO,f=l;for(;h>Od;)h&ds&&(c=c.add(f)),f=f.double(),h>>=ds;return c},precomputeWindow(l,h){const{windows:c,windowSize:f}=i(h),V=[];let $=l,D=$;for(let q=0;q<c;q++){D=$,V.push(D);for(let De=1;De<f;De++)D=D.add($),V.push(D);$=D.double()}return V},wNAF(l,h,c){const{windows:f,windowSize:V}=i(l);let $=r.ZERO,D=r.BASE;const q=BigInt(2**l-1),De=2**l,Re=BigInt(l);for(let Oe=0;Oe<f;Oe++){const je=Oe*V;let et=Number(c&q);c>>=Re,et>V&&(et-=De,c+=ds);const ft=je,at=je+Math.abs(et)-1,Mt=et<0;0===et?D=D.add(n(Oe%2!=0,h[ft])):$=$.add(n(Mt,h[at]))}return{p:$,f:D}},wNAFCached(l,h,c,f){const V=l._WINDOW_SIZE||1;let $=h.get(l);return $||($=this.precomputeWindow(l,V),1!==V&&h.set(l,f($))),this.wNAF(V,$,c)}}}(q,t.endo?Math.ceil(De/2):De);return{CURVE:t,ProjectivePoint:q,normPrivateKeyToScalar:V,weierstrassEquation:h,isWithinCurveOrder:c}}({...t,toBytes(on,pn,gn){const Nn=pn.toAffine(),xn=n.toBytes(Nn.x),jn=xo;return gn?jn(Uint8Array.from([pn.hasEvenY()?2:3]),xn):jn(Uint8Array.from([4]),xn,n.toBytes(Nn.y))},fromBytes(on){const pn=on.length,gn=on[0],Nn=on.subarray(1);if(pn!==l||2!==gn&&3!==gn){if(pn===h&&4===gn)return{x:n.fromBytes(Nn.subarray(0,n.BYTES)),y:n.fromBytes(Nn.subarray(n.BYTES,2*n.BYTES))};throw new Error(`Point of length ${pn} was invalid. Expected ${l} compressed bytes or ${h} uncompressed bytes`)}{const xn=fr(Nn);if(!function c(on){return Kn<on&&on<n.ORDER}(xn))throw new Error("Point is not on curve");const jn=q(xn);let lr;try{lr=n.sqrt(jn)}catch(dr){const Er=dr instanceof Error?": "+dr.message:"";throw new Error("Point is not on curve"+Er)}return!(1&~gn)!=((lr&ir)===ir)&&(lr=n.neg(lr)),{x:xn,y:lr}}}}),Re=on=>Xr(xr(on,t.nByteLength));function Oe(on){return on>i>>ir}const et=(on,pn,gn)=>fr(on.slice(pn,gn));class ft{constructor(pn,gn,Nn){this.r=pn,this.s=gn,this.recovery=Nn,this.assertValidity()}static fromCompact(pn){const gn=t.nByteLength;return pn=ti("compactSignature",pn,2*gn),new ft(et(pn,0,gn),et(pn,gn,2*gn))}static fromDER(pn){const{r:gn,s:Nn}=vn.toSig(ti("DER",pn));return new ft(gn,Nn)}assertValidity(){if(!De(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!De(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(pn){return new ft(this.r,this.s,pn)}recoverPublicKey(pn){const{r:gn,s:Nn,recovery:xn}=this,jn=Kt(ti("msgHash",pn));if(null==xn||![0,1,2,3].includes(xn))throw new Error("recovery id invalid");const lr=2===xn||3===xn?gn+t.n:gn;if(lr>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const fn=$.fromHex((1&xn?"03":"02")+Re(lr)),dr=V(lr),Er=f(-jn*dr),Xn=f(Nn*dr),kn=$.BASE.multiplyAndAddUnsafe(fn,Er,Xn);if(!kn)throw new Error("point at infinify");return kn.assertValidity(),kn}hasHighS(){return Oe(this.s)}normalizeS(){return this.hasHighS()?new ft(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return Fn(this.toDERHex())}toDERHex(){return vn.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Fn(this.toCompactHex())}toCompactHex(){return Re(this.r)+Re(this.s)}}const at={isValidPrivateKey(on){try{return D(on),!0}catch{return!1}},normPrivateKeyToScalar:D,randomPrivateKey:()=>{const on=vo(t.n);return function sd(r,t,n=!1){const i=r.length,l=uo(t),h=vo(t);if(i<16||i<h||i>1024)throw new Error(`expected ${h}-1024 bytes of input, got ${i}`);const f=fa(n?fr(r):Sr(r),t-Ki)+Ki;return n?Fr(f,l):xr(f,l)}(t.randomBytes(on),t.n)},precompute:(on=8,pn=$.BASE)=>(pn._setWindowSize(on),pn.multiply(BigInt(3)),pn)};function Mt(on){const pn=Nr(on),gn="string"==typeof on,Nn=(pn||gn)&&on.length;return pn?Nn===l||Nn===h:gn?Nn===2*l||Nn===2*h:on instanceof $}const Dt=t.bits2int||function(on){const pn=fr(on),gn=8*on.length-t.nBitLength;return gn>0?pn>>BigInt(gn):pn},Kt=t.bits2int_modN||function(on){return f(Dt(on))},Wt=wi(t.nBitLength);function En(on){if("bigint"!=typeof on)throw new Error("bigint expected");if(!(Kn<=on&&on<Wt))throw new Error(`bigint expected < 2^${t.nBitLength}`);return xr(on,t.nByteLength)}const Rn={lowS:t.lowS,prehash:!1},rr={lowS:t.lowS,prehash:!1};return $.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function dt(on,pn=!0){return $.fromPrivateKey(on).toRawBytes(pn)},getSharedSecret:function Pt(on,pn,gn=!0){if(Mt(on))throw new Error("first arg must be private key");if(!Mt(pn))throw new Error("second arg must be public key");return $.fromHex(pn).multiply(D(on)).toRawBytes(gn)},sign:function Pn(on,pn,gn=Rn){const{seed:Nn,k2sig:xn}=function Tn(on,pn,gn=Rn){if(["recovered","canonical"].some(mr=>mr in gn))throw new Error("sign() legacy options not supported");const{hash:Nn,randomBytes:xn}=t;let{lowS:jn,prehash:lr,extraEntropy:cr}=gn;null==jn&&(jn=!0),on=ti("msgHash",on),lr&&(on=ti("prehashed msgHash",Nn(on)));const fn=Kt(on),dr=D(pn),Er=[En(dr),En(fn)];if(null!=cr&&!1!==cr){const mr=!0===cr?xn(n.BYTES):cr;Er.push(ti("extraEntropy",mr))}const Xn=xo(...Er),kn=fn;return{seed:Xn,k2sig:function qn(mr){const Cr=Dt(mr);if(!De(Cr))return;const Pr=V(Cr),Mr=$.BASE.multiply(Cr).toAffine(),Tr=f(Mr.x);if(Tr===Kn)return;const ui=f(Pr*f(kn+Tr*dr));if(ui===Kn)return;let Xs=(Mr.x===Tr?0:2)|Number(Mr.y&ir),gr=ui;return jn&&Oe(ui)&&(gr=function je(on){return Oe(on)?f(-on):on}(ui),Xs^=1),new ft(Tr,gr,Xs)}}}(on,pn,gn);return Mi(t.hash.outputLen,t.nByteLength,t.hmac)(Nn,xn)},verify:function zn(on,pn,gn,Nn=rr){const xn=on;if(pn=ti("msgHash",pn),gn=ti("publicKey",gn),"strict"in Nn)throw new Error("options.strict was renamed to lowS");const{lowS:jn,prehash:lr}=Nn;let cr,fn;try{if("string"==typeof xn||Nr(xn))try{cr=ft.fromDER(xn)}catch(Mr){if(!(Mr instanceof vn.Err))throw Mr;cr=ft.fromCompact(xn)}else{if("object"!=typeof xn||"bigint"!=typeof xn.r||"bigint"!=typeof xn.s)throw new Error("PARSE");{const{r:Mr,s:Tr}=xn;cr=new ft(Mr,Tr)}}fn=$.fromHex(gn)}catch(Mr){if("PARSE"===Mr.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(jn&&cr.hasHighS())return!1;lr&&(pn=t.hash(pn));const{r:dr,s:Er}=cr,Xn=Kt(pn),kn=V(Er),qn=f(Xn*kn),mr=f(dr*kn),Cr=$.BASE.multiplyAndAddUnsafe(fn,qn,mr)?.toAffine();return!!Cr&&f(Cr.x)===dr},ProjectivePoint:$,Signature:ft,utils:at}}function Po(r){return{hash:r,hmac:(t,...n)=>_n(r,t,function hr(...r){let t=0;for(let i=0;i<r.length;i++){const l=r[i];_t(l),t+=l.length}const n=new Uint8Array(t);for(let i=0,l=0;i<r.length;i++){const h=r[i];n.set(h,l),l+=h.length}return n}(...n)),randomBytes:Ot}}BigInt(4);const ys=function Ea(r,t,n=!1,i={}){if(r<=So)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:l,nByteLength:h}=Qs(r,t);if(h>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=function _a(r){if(r%wa===ua){const t=(r+Ki)/wa;return function(i,l){const h=i.pow(l,t);if(!i.eql(i.sqr(h),l))throw new Error("Cannot find square root");return h}}if(r%Ya===cl){const t=(r-cl)/Ya;return function(i,l){const h=i.mul(l,ps),c=i.pow(h,t),f=i.mul(l,c),V=i.mul(i.mul(f,ps),c),$=i.mul(f,i.sub(V,i.ONE));if(!i.eql(i.sqr($),l))throw new Error("Cannot find square root");return $}}return function tu(r){const t=(r-Ki)/ps;let n,i,l;for(n=r-Ki,i=0;n%ps===So;n/=ps,i++);for(l=ps;l<r&&eu(l,t,r)!==r-Ki;l++);if(1===i){const c=(r+Ki)/wa;return function(V,$){const D=V.pow($,c);if(!V.eql(V.sqr(D),$))throw new Error("Cannot find square root");return D}}const h=(n+Ki)/ps;return function(f,V){if(f.pow(V,t)===f.neg(f.ONE))throw new Error("Cannot find square root");let $=i,D=f.pow(f.mul(f.ONE,l),n),q=f.pow(V,h),De=f.pow(V,n);for(;!f.eql(De,f.ONE);){if(f.eql(De,f.ZERO))return f.ZERO;let Re=1;for(let je=f.sqr(De);Re<$&&!f.eql(je,f.ONE);Re++)je=f.sqr(je);const Oe=f.pow(D,Ki<<BigInt($-Re-1));D=f.sqr(Oe),q=f.mul(q,Oe),De=f.mul(De,D),$=Re}return q}}(r)}(r),f=Object.freeze({ORDER:r,BITS:l,BYTES:h,MASK:wi(l),ZERO:So,ONE:Ki,create:V=>fa(V,r),isValid:V=>{if("bigint"!=typeof V)throw new Error("Invalid field element: expected bigint, got "+typeof V);return So<=V&&V<r},is0:V=>V===So,isOdd:V=>(V&Ki)===Ki,neg:V=>fa(-V,r),eql:(V,$)=>V===$,sqr:V=>fa(V*V,r),add:(V,$)=>fa(V+$,r),sub:(V,$)=>fa(V-$,r),mul:(V,$)=>fa(V*$,r),pow:(V,$)=>function dl(r,t,n){if(n<So)throw new Error("Expected power > 0");if(n===So)return r.ONE;if(n===Ki)return t;let i=r.ONE,l=t;for(;n>So;)n&Ki&&(i=r.mul(i,l)),l=r.sqr(l),n>>=Ki;return i}(f,V,$),div:(V,$)=>fa(V*ll($,r),r),sqrN:V=>V*V,addN:(V,$)=>V+$,subN:(V,$)=>V-$,mulN:(V,$)=>V*$,inv:V=>ll(V,r),sqrt:i.sqrt||(V=>c(f,V)),invertBatch:V=>function pc(r,t){const n=new Array(t.length),i=t.reduce((h,c,f)=>r.is0(c)?h:(n[f]=h,r.mul(h,c)),r.ONE),l=r.inv(i);return t.reduceRight((h,c,f)=>r.is0(c)?h:(n[f]=r.mul(h,n[f]),r.mul(h,c)),l),n}(f,V),cmov:(V,$,D)=>D?$:V,toBytes:V=>n?Fr(V,h):xr(V,h),fromBytes:V=>{if(V.length!==h)throw new Error(`Fp.fromBytes: expected ${h}, got ${V.length}`);return n?Sr(V):fr(V)}});return Object.freeze(f)}(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),mo=function Ua(r,t){const n=i=>Ai({...r,...Po(i)});return Object.freeze({...n(t),create:n})}({a:ys.create(BigInt("-3")),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Fp:ys,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Ge),Ja=mo;function Si(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);class kt{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Lt{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return tn(this,t)}}class wt{decoders;constructor(t){this.decoders=t}or(t){return tn(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function tn(r,t){return new wt({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class On{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,l){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=l,this.encoder=new kt(t,n,i),this.decoder=new Lt(t,n,l)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function Jr({name:r,prefix:t,encode:n,decode:i}){return new On(r,t,n,i)}function Vi({name:r,prefix:t,alphabet:n}){const{encode:i,decode:l}=function cd(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var l=0;l<r.length;l++){var h=r.charAt(l),c=h.charCodeAt(0);if(255!==n[c])throw new TypeError(h+" is ambiguous");n[c]=l}var f=r.length,V=r.charAt(0),$=Math.log(f)/Math.log(256),D=Math.log(256)/Math.log(f);function De(Oe){if("string"!=typeof Oe)throw new TypeError("Expected String");if(0===Oe.length)return new Uint8Array;var je=0;if(" "!==Oe[je]){for(var et=0,ft=0;Oe[je]===V;)et++,je++;for(var at=(Oe.length-je)*$+1>>>0,dt=new Uint8Array(at);Oe[je];){var Mt=n[Oe.charCodeAt(je)];if(255===Mt)return;for(var Pt=0,Dt=at-1;(0!==Mt||Pt<ft)&&-1!==Dt;Dt--,Pt++)dt[Dt]=(Mt+=f*dt[Dt]>>>0)%256>>>0,Mt=Mt/256>>>0;if(0!==Mt)throw new Error("Non-zero carry");ft=Pt,je++}if(" "!==Oe[je]){for(var Kt=at-ft;Kt!==at&&0===dt[Kt];)Kt++;for(var Wt=new Uint8Array(et+(at-Kt)),En=et;Kt!==at;)Wt[En++]=dt[Kt++];return Wt}}}return{encode:function q(Oe){if(Oe instanceof Uint8Array||(ArrayBuffer.isView(Oe)?Oe=new Uint8Array(Oe.buffer,Oe.byteOffset,Oe.byteLength):Array.isArray(Oe)&&(Oe=Uint8Array.from(Oe))),!(Oe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Oe.length)return"";for(var je=0,et=0,ft=0,at=Oe.length;ft!==at&&0===Oe[ft];)ft++,je++;for(var dt=(at-ft)*D+1>>>0,Mt=new Uint8Array(dt);ft!==at;){for(var Pt=Oe[ft],Dt=0,Kt=dt-1;(0!==Pt||Dt<et)&&-1!==Kt;Kt--,Dt++)Mt[Kt]=(Pt+=256*Mt[Kt]>>>0)%f>>>0,Pt=Pt/f>>>0;if(0!==Pt)throw new Error("Non-zero carry");et=Dt,ft++}for(var Wt=dt-et;Wt!==dt&&0===Mt[Wt];)Wt++;for(var En=V.repeat(je);Wt<dt;++Wt)En+=r.charAt(Mt[Wt]);return En},decodeUnsafe:De,decode:function Re(Oe){var je=De(Oe);if(je)return je;throw new Error(`Non-${t} character`)}}}(n,r);return Jr({prefix:t,name:r,encode:i,decode:h=>Si(l(h))})}function ha({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return Jr({prefix:t,name:r,encode:l=>function li(r,t,n){const i="="===t[t.length-1],l=(1<<n)-1;let h="",c=0,f=0;for(let V=0;V<r.length;++V)for(f=f<<8|r[V],c+=8;c>n;)c-=n,h+=t[l&f>>c];if(0!==c&&(h+=t[l&f<<n-c]),i)for(;h.length*n&7;)h+="=";return h}(l,i,n),decode:l=>function gs(r,t,n,i){const l={};for(let D=0;D<t.length;++D)l[t[D]]=D;let h=r.length;for(;"="===r[h-1];)--h;const c=new Uint8Array(h*n/8|0);let f=0,V=0,$=0;for(let D=0;D<h;++D){const q=l[r[D]];if(void 0===q)throw new SyntaxError(`Non-${i} character`);V=V<<n|q,f+=n,f>=8&&(f-=8,c[$++]=255&V>>f)}if(f>=n||255&V<<8-f)throw new SyntaxError("Unexpected end of data");return c}(l,i,n,r)})}const ld=Vi({prefix:"9",name:"base10",alphabet:"0123456789"}),Om=ha({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),zh=ha({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Fa=ha({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Uo=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),qc=Uo.reduce((r,t,n)=>(r[n]=t,r),[]),cc=Uo.reduce((r,t,n)=>(r[t.codePointAt(0)]=n,r),[]),fl=Jr({prefix:"\u{1f680}",name:"base256emoji",encode:function dd(r){return r.reduce((t,n)=>t+qc[n],"")},decode:function ru(r){const t=[];for(const n of r){const i=cc[n.codePointAt(0)];if(void 0===i)throw new Error(`Non-base256emoji character: ${n}`);t.push(i)}return new Uint8Array(t)}}),yc=ha({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),iu=ha({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Bl=ha({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Tu=ha({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ud=ha({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Iu=ha({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),zi=ha({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Da=ha({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),_f=ha({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),kc=Vi({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ou=Vi({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Bd=Vi({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Bp=Vi({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Hh=ha({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ov=ha({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Np=ha({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),sv=ha({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Ef=ha({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),ta=Jr({prefix:"\0",name:"identity",encode:r=>function bf(r){return(new TextDecoder).decode(r)}(r),decode:r=>function qa(r){return(new TextEncoder).encode(r)}(r)}),Du=new TextEncoder,Cu=new TextDecoder,xf="json",vs=512;function ku(r){return Du.encode(JSON.stringify(r))}function Pu(r){return JSON.parse(Cu.decode(r))}const Ji="raw",Hi=85;function Sf(r){return Si(r)}function ja(r){return Si(r)}var gc=128,Ou=-128,eo=Math.pow(2,31),Ro=128,Nd=127,Mf=Math.pow(2,7),ah=Math.pow(2,14),ch=Math.pow(2,21),it=Math.pow(2,28),Xt=Math.pow(2,35),At=Math.pow(2,42),Ft=Math.pow(2,49),Sn=Math.pow(2,56),tr=Math.pow(2,63);const $i={encode:function hl(r,t,n){t=t||[];for(var i=n=n||0;r>=eo;)t[n++]=255&r|gc,r/=128;for(;r&Ou;)t[n++]=255&r|gc,r>>>=7;return t[n]=0|r,hl.bytes=n-i+1,t},decode:function Ll(r,i){var c,n=0,l=0,h=i=i||0,f=r.length;do{if(h>=f)throw Ll.bytes=0,new RangeError("Could not decode varint");c=r[h++],n+=l<28?(c&Nd)<<l:(c&Nd)*Math.pow(2,l),l+=7}while(c>=Ro);return Ll.bytes=h-i,n},encodingLength:function(r){return r<Mf?1:r<ah?2:r<ch?3:r<it?4:r<Xt?5:r<At?6:r<Ft?7:r<Sn?8:r<tr?9:10}};function Ir(r,t,n=0){return $i.encode(r,t,n),t}function qo(r){return $i.encodingLength(r)}function Io(r,t){const n=t.byteLength,i=qo(r),l=i+qo(n),h=new Uint8Array(l+n);return Ir(r,h,0),Ir(n,h,i),h.set(t,l),new Ms(r,n,t,h)}class Ms{code;size;digest;bytes;constructor(t,n,i,l){this.code=t,this.size=n,this.digest=i,this.bytes=l}}const $a=Si,ml={code:0,name:"identity",encode:$a,digest:function Oc(r){return Io(0,$a(r))}};function yl({name:r,code:t,encode:n}){return new Ru(r,t,n)}class Ru{name;code;encode;constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?Io(this.code,n):n.then(i=>Io(this.code,i))}throw Error("Unknown type, must be binary type")}}function Rm(r){return function(){var t=(0,ye.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}()}const vc=yl({name:"sha2-256",code:18,encode:Rm("SHA-256")}),Ld=yl({name:"sha2-512",code:19,encode:Rm("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const We={...I,...H,...L,...E,...k,...R,...A,...O,...F,...x};function ve(r=0){return new Uint8Array(r)}function Ze(r=0){return new Uint8Array(r)}function Je(r,t,n,i){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:n},decoder:{decode:i}}}const pt=Je("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),jt=Je("ascii","a",r=>{let t="a";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},r=>{const t=Ze((r=r.substring(1)).length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}),Ht={utf8:pt,"utf-8":pt,hex:We.base16,latin1:jt,ascii:jt,binary:jt,...We};function bt(r,t="utf8"){const n=Ht[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${r}`)}var Or=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};const pi_toString=function nn(r,t="utf8"){const n=Ht[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.encoder.encode(r).substring(1)};class ii{static validateKey(t){if("EC"!==t.kty||"P-256"!==t.crv)throw new ce(_e.Secp256r1KeyNotValid,"Invalid SECP256R1 JWK: `kty` MUST be `EC`. `crv` MUST be `P-256`")}static publicKeyToJwk(t){return Or(this,void 0,void 0,function*(){let n;return n=33===t.byteLength?mo.ProjectivePoint.fromHex(t).toRawBytes(!1):t,{alg:"ES256",kty:"EC",crv:"P-256",x:K.bytesToBase64Url(n.subarray(1,33)),y:K.bytesToBase64Url(n.subarray(33,65))}})}static privateJwkToBytes(t){return K.base64UrlToBytes(t.d)}static sign(t,n){return Or(this,void 0,void 0,function*(){ii.validateKey(n);const i=yield fe.encode(t),l=ii.privateJwkToBytes(n);return Promise.resolve(mo.sign(i,l).toCompactRawBytes())})}static verify(t,n,i){return Or(this,void 0,void 0,function*(){let l;ii.validateKey(i),l=64===n.length?mo.Signature.fromCompact(n):mo.Signature.fromDER(n);const h=yield fe.encode(t),c=mo.ProjectivePoint.fromAffine({x:ii.bytesToBigInt(K.base64UrlToBytes(i.x)),y:ii.bytesToBigInt(K.base64UrlToBytes(i.y))}).toRawBytes(!1);return mo.verify(l,h,c)})}static generateKeyPair(){return Or(this,void 0,void 0,function*(){const t=mo.utils.randomPrivateKey(),n=Ja.getPublicKey(t,!1),i=K.bytesToBase64Url(t),l=yield ii.publicKeyToJwk(n);return{publicJwk:l,privateJwk:Object.assign(Object.assign({},l),{d:i})}})}static bytesToBigInt(t){return BigInt("0x"+pi_toString(t,"base16"))}}const hi={Ed25519:be,secp256k1:{sign:Ee.sign,verify:Ee.verify,generateKeyPair:Ee.generateKeyPair,publicKeyToJwk:Ee.publicKeyToJwk},"P-256":{sign:ii.sign,verify:ii.verify,generateKeyPair:ii.generateKeyPair,publicKeyToJwk:ii.publicKeyToJwk}};class Vo{constructor(t){var n,i;if(void 0===t.keyId&&void 0===t.privateJwk.kid)throw new ce(_e.PrivateKeySignerUnableToDeduceKeyId,"Unable to deduce the key ID");if(void 0===t.algorithm&&void 0===t.privateJwk.alg)throw new ce(_e.PrivateKeySignerUnableToDeduceAlgorithm,"Unable to deduce the signature algorithm");if(this.keyId=null!==(n=t.keyId)&&void 0!==n?n:t.privateJwk.kid,this.algorithm=null!==(i=t.algorithm)&&void 0!==i?i:t.privateJwk.alg,this.privateJwk=t.privateJwk,this.signatureAlgorithm=hi[t.privateJwk.crv],!this.signatureAlgorithm)throw new ce(_e.PrivateKeySignerUnsupportedCurve,`Unsupported crv ${t.privateJwk.crv}, crv must be one of ${Object.keys(hi)}`)}sign(t){return function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return yield this.signatureAlgorithm.sign(t,this.privateJwk)})}}class Dr{static getKid(t){const{kid:n}=K.base64UrlToObject(t.protected);return n}static getSignerDid(t){const n=Dr.getKid(t);return Dr.extractDid(n)}static verifySignature(t,n,i){return function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const l=hi[i.crv];if(!l)throw new ce(_e.JwsVerifySignatureUnsupportedCrv,`unsupported crv. crv must be one of ${Object.keys(hi)}`);const h=K.stringToBytes(`${n.protected}.${t}`),c=K.base64UrlToBytes(n.signature);return yield l.verify(h,c,i)})}static decodePlainObjectPayload(t){let n;try{n=K.base64UrlToObject(t.payload)}catch{throw new ce(_e.JwsDecodePlainObjectPayloadInvalid,"payload is not a JSON object")}if(!M(n))throw new ce(_e.JwsDecodePlainObjectPayloadInvalid,"signed payload must be a plain object");return n}static extractDid(t){const[n]=t.split("#");return n}static createSigners(t){return t.map(i=>Dr.createSigner(i))}static createSigner(t){return new Vo({privateJwk:t.keyPair.privateJwk,keyId:t.keyId})}}var ki=_(40573);const so="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,Lr=new Set,Eo="object"==typeof ki&&ki?ki:{},lc=(r,t,n,i)=>{"function"==typeof Eo.emitWarning?Eo.emitWarning(r,t,n,i):console.error(`[${n}] ${t}: ${r}`)};let He=globalThis.AbortController,ut=globalThis.AbortSignal;if(typeof He>"u"){ut=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(i,l){this._onabort.push(l)}},He=class{constructor(){t()}signal=new ut;abort(i){if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(const l of this.signal._onabort)l(i);this.signal.onabort?.(i)}}};let r="1"!==Eo.env?.LRU_CACHE_IGNORE_AC_WARNING;const t=()=>{r&&(r=!1,lc("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");const Rt=r=>r&&r===Math.floor(r)&&r>0&&isFinite(r),rn=r=>Rt(r)?r<=Math.pow(2,8)?Uint8Array:r<=Math.pow(2,16)?Uint16Array:r<=Math.pow(2,32)?Uint32Array:r<=Number.MAX_SAFE_INTEGER?An:null:null;class An extends Array{constructor(t){super(t),this.fill(0)}}class ar{heap;length;static#e=!1;static create(t){const n=rn(t);if(!n)return[];ar.#e=!0;const i=new ar(t,n);return ar.#e=!1,i}constructor(t,n){if(!ar.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class Gn{#e;#t;#n;#f;#A;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#s;#y;#a;#o;#r;#u;#p;#d;#c;#g;#l;#E;#x;#v;#b;#M;#h;static unsafeExposeInternals(t){return{starts:t.#x,ttls:t.#v,sizes:t.#E,keyMap:t.#a,keyList:t.#o,valList:t.#r,next:t.#u,prev:t.#p,get head(){return t.#d},get tail(){return t.#c},free:t.#g,isBackgroundFetch:n=>t.#i(n),backgroundFetch:(n,i,l,h)=>t.#P(n,i,l,h),moveToTail:n=>t.#D(n),indexes:n=>t.#w(n),rindexes:n=>t.#_(n),isStale:n=>t.#m(n)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#y}get size(){return this.#s}get fetchMethod(){return this.#A}get dispose(){return this.#n}get disposeAfter(){return this.#f}constructor(t){const{max:n=0,ttl:i,ttlResolution:l=1,ttlAutopurge:h,updateAgeOnGet:c,updateAgeOnHas:f,allowStale:V,dispose:$,disposeAfter:D,noDisposeOnSet:q,noUpdateTTL:De,maxSize:Re=0,maxEntrySize:Oe=0,sizeCalculation:je,fetchMethod:et,noDeleteOnFetchRejection:ft,noDeleteOnStaleGet:at,allowStaleOnFetchRejection:dt,allowStaleOnFetchAbort:Mt,ignoreFetchAbort:Pt}=t;if(0!==n&&!Rt(n))throw new TypeError("max option must be a nonnegative integer");const Dt=n?rn(n):Array;if(!Dt)throw new Error("invalid max value: "+n);if(this.#e=n,this.#t=Re,this.maxEntrySize=Oe||this.#t,this.sizeCalculation=je,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==et&&"function"!=typeof et)throw new TypeError("fetchMethod must be a function if specified");if(this.#A=et,this.#M=!!et,this.#a=new Map,this.#o=new Array(n).fill(void 0),this.#r=new Array(n).fill(void 0),this.#u=new Dt(n),this.#p=new Dt(n),this.#d=0,this.#c=0,this.#g=ar.create(n),this.#s=0,this.#y=0,"function"==typeof $&&(this.#n=$),"function"==typeof D?(this.#f=D,this.#l=[]):(this.#f=void 0,this.#l=void 0),this.#b=!!this.#n,this.#h=!!this.#f,this.noDisposeOnSet=!!q,this.noUpdateTTL=!!De,this.noDeleteOnFetchRejection=!!ft,this.allowStaleOnFetchRejection=!!dt,this.allowStaleOnFetchAbort=!!Mt,this.ignoreFetchAbort=!!Pt,0!==this.maxEntrySize){if(0!==this.#t&&!Rt(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!Rt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#U()}if(this.allowStale=!!V,this.noDeleteOnStaleGet=!!at,this.updateAgeOnGet=!!c,this.updateAgeOnHas=!!f,this.ttlResolution=Rt(l)||0===l?l:1,this.ttlAutopurge=!!h,this.ttl=i||0,this.ttl){if(!Rt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#O()}if(0===this.#e&&0===this.ttl&&0===this.#t)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){const Kt="LRU_CACHE_UNBOUNDED";!Lr.has(Kt)&&(Lr.add(Kt),lc("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Kt,Gn))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#O(){const t=new An(this.#e),n=new An(this.#e);this.#v=t,this.#x=n,this.#R=(h,c,f=so.now())=>{if(n[h]=0!==c?f:0,t[h]=c,0!==c&&this.ttlAutopurge){const V=setTimeout(()=>{this.#m(h)&&this.delete(this.#o[h])},c+1);V.unref&&V.unref()}},this.#T=h=>{n[h]=0!==t[h]?so.now():0},this.#S=(h,c)=>{if(t[c]){const f=t[c],V=n[c];h.ttl=f,h.start=V,h.now=i||l(),h.remainingTTL=f-(h.now-V)}};let i=0;const l=()=>{const h=so.now();if(this.ttlResolution>0){i=h;const c=setTimeout(()=>i=0,this.ttlResolution);c.unref&&c.unref()}return h};this.getRemainingTTL=h=>{const c=this.#a.get(h);if(void 0===c)return 0;const f=t[c],V=n[c];return 0===f||0===V?1/0:f-((i||l())-V)},this.#m=h=>0!==t[h]&&0!==n[h]&&(i||l())-n[h]>t[h]}#T=()=>{};#S=()=>{};#R=()=>{};#m=()=>!1;#U(){const t=new An(this.#e);this.#y=0,this.#E=t,this.#I=n=>{this.#y-=t[n],t[n]=0},this.#B=(n,i,l,h)=>{if(this.#i(i))return 0;if(!Rt(l)){if(!h)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof h)throw new TypeError("sizeCalculation must be a function");if(l=h(i,n),!Rt(l))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return l},this.#C=(n,i,l)=>{if(t[n]=i,this.#t){const h=this.#t-t[n];for(;this.#y>h;)this.#k(!0)}this.#y+=t[n],l&&(l.entrySize=i,l.totalCalculatedSize=this.#y)}}#I=t=>{};#C=(t,n,i)=>{};#B=(t,n,i,l)=>{if(i||l)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#w({allowStale:t=this.allowStale}={}){if(this.#s)for(let n=this.#c;this.#N(n)&&((t||!this.#m(n))&&(yield n),n!==this.#d);)n=this.#p[n]}*#_({allowStale:t=this.allowStale}={}){if(this.#s)for(let n=this.#d;this.#N(n)&&((t||!this.#m(n))&&(yield n),n!==this.#c);)n=this.#u[n]}#N(t){return void 0!==t&&this.#a.get(this.#o[t])===t}*entries(){for(const t of this.#w())void 0!==this.#r[t]&&void 0!==this.#o[t]&&!this.#i(this.#r[t])&&(yield[this.#o[t],this.#r[t]])}*rentries(){for(const t of this.#_())void 0!==this.#r[t]&&void 0!==this.#o[t]&&!this.#i(this.#r[t])&&(yield[this.#o[t],this.#r[t]])}*keys(){for(const t of this.#w()){const n=this.#o[t];void 0!==n&&!this.#i(this.#r[t])&&(yield n)}}*rkeys(){for(const t of this.#_()){const n=this.#o[t];void 0!==n&&!this.#i(this.#r[t])&&(yield n)}}*values(){for(const t of this.#w())void 0!==this.#r[t]&&!this.#i(this.#r[t])&&(yield this.#r[t])}*rvalues(){for(const t of this.#_())void 0!==this.#r[t]&&!this.#i(this.#r[t])&&(yield this.#r[t])}[Symbol.iterator](){return this.entries()}find(t,n={}){for(const i of this.#w()){const l=this.#r[i],h=this.#i(l)?l.__staleWhileFetching:l;if(void 0!==h&&t(h,this.#o[i],this))return this.get(this.#o[i],n)}}forEach(t,n=this){for(const i of this.#w()){const l=this.#r[i],h=this.#i(l)?l.__staleWhileFetching:l;void 0!==h&&t.call(n,h,this.#o[i],this)}}rforEach(t,n=this){for(const i of this.#_()){const l=this.#r[i],h=this.#i(l)?l.__staleWhileFetching:l;void 0!==h&&t.call(n,h,this.#o[i],this)}}purgeStale(){let t=!1;for(const n of this.#_({allowStale:!0}))this.#m(n)&&(this.delete(this.#o[n]),t=!0);return t}dump(){const t=[];for(const n of this.#w({allowStale:!0})){const i=this.#o[n],l=this.#r[n],h=this.#i(l)?l.__staleWhileFetching:l;if(void 0===h||void 0===i)continue;const c={value:h};if(this.#v&&this.#x){c.ttl=this.#v[n];const f=so.now()-this.#x[n];c.start=Math.floor(Date.now()-f)}this.#E&&(c.size=this.#E[n]),t.unshift([i,c])}return t}load(t){this.clear();for(const[n,i]of t){if(i.start){const l=Date.now()-i.start;i.start=so.now()-l}this.set(n,i.value,i)}}set(t,n,i={}){if(void 0===n)return this.delete(t),this;const{ttl:l=this.ttl,start:h,noDisposeOnSet:c=this.noDisposeOnSet,sizeCalculation:f=this.sizeCalculation,status:V}=i;let{noUpdateTTL:$=this.noUpdateTTL}=i;const D=this.#B(t,n,i.size||0,f);if(this.maxEntrySize&&D>this.maxEntrySize)return V&&(V.set="miss",V.maxEntrySizeExceeded=!0),this.delete(t),this;let q=0===this.#s?void 0:this.#a.get(t);if(void 0===q)q=0===this.#s?this.#c:0!==this.#g.length?this.#g.pop():this.#s===this.#e?this.#k(!1):this.#s,this.#o[q]=t,this.#r[q]=n,this.#a.set(t,q),this.#u[this.#c]=q,this.#p[q]=this.#c,this.#c=q,this.#s++,this.#C(q,D,V),V&&(V.set="add"),$=!1;else{this.#D(q);const De=this.#r[q];if(n!==De){if(this.#M&&this.#i(De)?De.__abortController.abort(new Error("replaced")):c||(this.#b&&this.#n?.(De,t,"set"),this.#h&&this.#l?.push([De,t,"set"])),this.#I(q),this.#C(q,D,V),this.#r[q]=n,V){V.set="replace";const Re=De&&this.#i(De)?De.__staleWhileFetching:De;void 0!==Re&&(V.oldValue=Re)}}else V&&(V.set="update")}if(0!==l&&!this.#v&&this.#O(),this.#v&&($||this.#R(q,l,h),V&&this.#S(V,q)),!c&&this.#h&&this.#l){const De=this.#l;let Re;for(;Re=De?.shift();)this.#f?.(...Re)}return this}pop(){try{for(;this.#s;){const t=this.#r[this.#d];if(this.#k(!0),this.#i(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#h&&this.#l){const t=this.#l;let n;for(;n=t?.shift();)this.#f?.(...n)}}}#k(t){const n=this.#d,i=this.#o[n],l=this.#r[n];return this.#M&&this.#i(l)?l.__abortController.abort(new Error("evicted")):(this.#b||this.#h)&&(this.#b&&this.#n?.(l,i,"evict"),this.#h&&this.#l?.push([l,i,"evict"])),this.#I(n),t&&(this.#o[n]=void 0,this.#r[n]=void 0,this.#g.push(n)),1===this.#s?(this.#d=this.#c=0,this.#g.length=0):this.#d=this.#u[n],this.#a.delete(i),this.#s--,n}has(t,n={}){const{updateAgeOnHas:i=this.updateAgeOnHas,status:l}=n,h=this.#a.get(t);if(void 0!==h){const c=this.#r[h];if(this.#i(c)&&void 0===c.__staleWhileFetching)return!1;if(!this.#m(h))return i&&this.#T(h),l&&(l.has="hit",this.#S(l,h)),!0;l&&(l.has="stale",this.#S(l,h))}else l&&(l.has="miss");return!1}peek(t,n={}){const{allowStale:i=this.allowStale}=n,l=this.#a.get(t);if(void 0!==l&&(i||!this.#m(l))){const h=this.#r[l];return this.#i(h)?h.__staleWhileFetching:h}}#P(t,n,i,l){const h=void 0===n?void 0:this.#r[n];if(this.#i(h))return h;const c=new He,{signal:f}=i;f?.addEventListener("abort",()=>c.abort(f.reason),{signal:c.signal});const V={signal:c.signal,options:i,context:l},$=(je,et=!1)=>{const{aborted:ft}=c.signal,at=i.ignoreFetchAbort&&void 0!==je;return i.status&&(ft&&!et?(i.status.fetchAborted=!0,i.status.fetchError=c.signal.reason,at&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),!ft||at||et?(this.#r[n]===Re&&(void 0===je?Re.__staleWhileFetching?this.#r[n]=Re.__staleWhileFetching:this.delete(t):(i.status&&(i.status.fetchUpdated=!0),this.set(t,je,V.options))),je):q(c.signal.reason)},q=je=>{const{aborted:et}=c.signal,ft=et&&i.allowStaleOnFetchAbort,at=ft||i.allowStaleOnFetchRejection,Mt=Re;if(this.#r[n]===Re&&((at||i.noDeleteOnFetchRejection)&&void 0!==Mt.__staleWhileFetching?ft||(this.#r[n]=Mt.__staleWhileFetching):this.delete(t)),at)return i.status&&void 0!==Mt.__staleWhileFetching&&(i.status.returnedStale=!0),Mt.__staleWhileFetching;if(Mt.__returned===Mt)throw je};i.status&&(i.status.fetchDispatched=!0);const Re=new Promise((je,et)=>{const ft=this.#A?.(t,h,V);ft&&ft instanceof Promise&&ft.then(at=>je(at),et),c.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(je(),i.allowStaleOnFetchAbort&&(je=at=>$(at,!0)))})}).then($,je=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=je),q(je))),Oe=Object.assign(Re,{__abortController:c,__staleWhileFetching:h,__returned:void 0});return void 0===n?(this.set(t,Oe,{...V.options,status:void 0}),n=this.#a.get(t)):this.#r[n]=Oe,Oe}#i(t){if(!this.#M)return!1;const n=t;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof He}fetch(t,n={}){var i=this;return(0,ye.A)(function*(){const{allowStale:l=i.allowStale,updateAgeOnGet:h=i.updateAgeOnGet,noDeleteOnStaleGet:c=i.noDeleteOnStaleGet,ttl:f=i.ttl,noDisposeOnSet:V=i.noDisposeOnSet,size:$=0,sizeCalculation:D=i.sizeCalculation,noUpdateTTL:q=i.noUpdateTTL,noDeleteOnFetchRejection:De=i.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Re=i.allowStaleOnFetchRejection,ignoreFetchAbort:Oe=i.ignoreFetchAbort,allowStaleOnFetchAbort:je=i.allowStaleOnFetchAbort,context:et,forceRefresh:ft=!1,status:at,signal:dt}=n;if(!i.#M)return at&&(at.fetch="get"),i.get(t,{allowStale:l,updateAgeOnGet:h,noDeleteOnStaleGet:c,status:at});const Mt={allowStale:l,updateAgeOnGet:h,noDeleteOnStaleGet:c,ttl:f,noDisposeOnSet:V,size:$,sizeCalculation:D,noUpdateTTL:q,noDeleteOnFetchRejection:De,allowStaleOnFetchRejection:Re,allowStaleOnFetchAbort:je,ignoreFetchAbort:Oe,status:at,signal:dt};let Pt=i.#a.get(t);if(void 0===Pt){at&&(at.fetch="miss");const Dt=i.#P(t,Pt,Mt,et);return Dt.__returned=Dt}{const Dt=i.#r[Pt];if(i.#i(Dt)){const Rn=l&&void 0!==Dt.__staleWhileFetching;return at&&(at.fetch="inflight",Rn&&(at.returnedStale=!0)),Rn?Dt.__staleWhileFetching:Dt.__returned=Dt}const Kt=i.#m(Pt);if(!ft&&!Kt)return at&&(at.fetch="hit"),i.#D(Pt),h&&i.#T(Pt),at&&i.#S(at,Pt),Dt;const Wt=i.#P(t,Pt,Mt,et),Tn=void 0!==Wt.__staleWhileFetching&&l;return at&&(at.fetch=Kt?"stale":"refresh",Tn&&Kt&&(at.returnedStale=!0)),Tn?Wt.__staleWhileFetching:Wt.__returned=Wt}})()}get(t,n={}){const{allowStale:i=this.allowStale,updateAgeOnGet:l=this.updateAgeOnGet,noDeleteOnStaleGet:h=this.noDeleteOnStaleGet,status:c}=n,f=this.#a.get(t);if(void 0!==f){const V=this.#r[f],$=this.#i(V);return c&&this.#S(c,f),this.#m(f)?(c&&(c.get="stale"),$?(c&&i&&void 0!==V.__staleWhileFetching&&(c.returnedStale=!0),i?V.__staleWhileFetching:void 0):(h||this.delete(t),c&&i&&(c.returnedStale=!0),i?V:void 0)):(c&&(c.get="hit"),$?V.__staleWhileFetching:(this.#D(f),l&&this.#T(f),V))}c&&(c.get="miss")}#L(t,n){this.#p[n]=t,this.#u[t]=n}#D(t){t!==this.#c&&(t===this.#d?this.#d=this.#u[t]:this.#L(this.#p[t],this.#u[t]),this.#L(this.#c,t),this.#c=t)}delete(t){let n=!1;if(0!==this.#s){const i=this.#a.get(t);if(void 0!==i)if(n=!0,1===this.#s)this.clear();else{this.#I(i);const l=this.#r[i];this.#i(l)?l.__abortController.abort(new Error("deleted")):(this.#b||this.#h)&&(this.#b&&this.#n?.(l,t,"delete"),this.#h&&this.#l?.push([l,t,"delete"])),this.#a.delete(t),this.#o[i]=void 0,this.#r[i]=void 0,i===this.#c?this.#c=this.#p[i]:i===this.#d?this.#d=this.#u[i]:(this.#u[this.#p[i]]=this.#u[i],this.#p[this.#u[i]]=this.#p[i]),this.#s--,this.#g.push(i)}}if(this.#h&&this.#l?.length){const i=this.#l;let l;for(;l=i?.shift();)this.#f?.(...l)}return n}clear(){for(const t of this.#_({allowStale:!0})){const n=this.#r[t];if(this.#i(n))n.__abortController.abort(new Error("deleted"));else{const i=this.#o[t];this.#b&&this.#n?.(n,i,"delete"),this.#h&&this.#l?.push([n,i,"delete"])}}if(this.#a.clear(),this.#r.fill(void 0),this.#o.fill(void 0),this.#v&&this.#x&&(this.#v.fill(0),this.#x.fill(0)),this.#E&&this.#E.fill(0),this.#d=0,this.#c=0,this.#g.length=0,this.#y=0,this.#s=0,this.#h&&this.#l){const t=this.#l;let n;for(;n=t?.shift();)this.#f?.(...n)}}}var zr=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class Fi{constructor(t){this.timeToLiveInSeconds=t,this.cache=new Gn({max:1e5,ttl:1e3*t})}set(t,n){return zr(this,void 0,void 0,function*(){try{this.cache.set(t,n)}catch{}})}get(t){return zr(this,void 0,void 0,function*(){return this.cache.get(t)})}}const ao=zs,Ka=new RegExp("^[A-Za-z0-9_-]+$","u");function Ri(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){const V=Ri.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return Ri.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const De=0;for(const Re in r)if("payload"!==Re&&"signatures"!==Re)return Ri.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Re},message:"must NOT have additional properties"}],!1;if(0===De){if(void 0!==r.payload){let Re=r.payload;const Oe=0;if("string"!=typeof Re)return Ri.errors=[{instancePath:t+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ka.test(Re))return Ri.errors=[{instancePath:t+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;var $=0===Oe}else $=!0;if($)if(void 0!==r.signatures){let Re=r.signatures;const Oe=0;if(0===Oe){if(!Array.isArray(Re))return Ri.errors=[{instancePath:t+"/signatures",schemaPath:"#/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Re.length<1)return Ri.errors=[{instancePath:t+"/signatures",schemaPath:"#/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const et=Re.length;for(let ft=0;ft<et;ft++){let at=Re[ft];const dt=0;if(0===dt){if(!at||"object"!=typeof at||Array.isArray(at))return Ri.errors=[{instancePath:t+"/signatures/"+ft,schemaPath:"#/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==at.protected){let Pt=at.protected;const Dt=0;if("string"!=typeof Pt)return Ri.errors=[{instancePath:t+"/signatures/"+ft+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ka.test(Pt))return Ri.errors=[{instancePath:t+"/signatures/"+ft+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;var q=0===Dt}else q=!0;if(q)if(void 0!==at.signature){let Pt=at.signature;const Dt=0;if("string"!=typeof Pt)return Ri.errors=[{instancePath:t+"/signatures/"+ft+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ka.test(Pt))return Ri.errors=[{instancePath:t+"/signatures/"+ft+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;q=0===Dt}else q=!0}if(0!==dt)break}}}$=0===Oe}else $=!0}}return Ri.errors=null,!0}function zs(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){let c=null,f=0;const V=zs.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return zs.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const $=f;for(const D in r)if("signature"!==D)return zs.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:D},message:"must NOT have additional properties"}],!1;$===f&&void 0!==r.signature&&(Ri(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:l,dynamicAnchors:h})||(c=null===c?Ri.errors:c.concat(Ri.errors),f=c.length))}}return zs.errors=c,0===f}Ri.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},zs.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Lw=Qc,Up={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-write-unidentified.json",type:"object",required:["descriptor"],properties:{recordId:{type:"string"},contextId:{type:"string",pattern:"^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"},attestation:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-owner.json"},encryption:{type:"object",properties:{algorithm:{type:"string",enum:["A256CTR"]},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},keyEncryption:{type:"array",minItems:1,items:{type:"object",properties:{rootKeyId:{type:"string"},derivationScheme:{type:"string",enum:["dataFormats","protocolContext","protocolPath","schemas"]},derivedPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},algorithm:{type:"string",enum:["ECIES-ES256K"]},encryptedKey:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},ephemeralPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},messageAuthenticationCode:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"}},additionalProperties:!1,required:["rootKeyId","derivationScheme","algorithm","encryptedKey","initializationVector","ephemeralPublicKey","messageAuthenticationCode"]}}},additionalProperties:!1,required:["algorithm","initializationVector","keyEncryption"]},descriptor:{type:"object",properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Write"],type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},protocol:{type:"string"},protocolPath:{type:"string",pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},schema:{type:"string"},tags:{type:"object",minProperties:1,maxProperties:10,additionalProperties:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"},{type:"array",minItems:1,maxItems:10,items:{type:"string"}},{type:"array",minItems:1,maxItems:10,items:{type:"number"}}]}},parentId:{type:"string"},dataCid:{type:"string"},dataSize:{type:"number"},dateCreated:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},published:{type:"boolean"},datePublished:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},dataFormat:{type:"string"}},additionalProperties:!1,required:["interface","method","dataCid","dataSize","dateCreated","messageTimestamp","dataFormat"],dependencies:{parentId:["protocol"]},allOf:[{$comment:"rule defining `published` and `datePublished` relationship",anyOf:[{properties:{published:{type:"boolean",enum:[!0]}},required:["published","datePublished"]},{properties:{published:{type:"boolean",enum:[!1]}},not:{required:["datePublished"]}},{allOf:[{not:{required:["published"]}},{not:{required:["datePublished"]}}]}]}]}},$comment:"rule defining `protocol` and `contextId` relationship",anyOf:[{properties:{descriptor:{type:"object",required:["protocol","protocolPath"]}},required:["contextId"]},{allOf:[{not:{required:["contextId"]}},{properties:{descriptor:{type:"object",not:{required:["protocol"]}}}},{properties:{descriptor:{type:"object",not:{required:["protocolPath"]}}}}]}]},LE=new RegExp("^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$","u"),Bm=new RegExp("^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$","u"),Fw=new RegExp("^[a-zA-Z]+(/[a-zA-Z]+)*$","u"),Rc=new RegExp("^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$","u"),fy={validate:hd};function Bu(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){let c=null,f=0;const V=Bu.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Bu.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const D=f;for(const q in r)if("signature"!==q&&"authorDelegatedGrant"!==q&&"ownerSignature"!==q&&"ownerDelegatedGrant"!==q)return Bu.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:q},message:"must NOT have additional properties"}],!1;if(D===f){let q;if(void 0!==r.ownerSignature&&void 0===r.signature&&(q="signature"))return Bu.errors=[{instancePath:t,schemaPath:"#/dependencies",keyword:"dependencies",params:{property:"ownerSignature",missingProperty:q,depsCount:1,deps:"signature"},message:"must have property signature when property ownerSignature is present"}],!1;if(void 0!==r.signature){const De=f;Ri(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:l,dynamicAnchors:h})||(c=null===c?Ri.errors:c.concat(Ri.errors),f=c.length);var $=De===f}else $=!0;if($){if(void 0!==r.authorDelegatedGrant){const De=f;fy.validate(r.authorDelegatedGrant,{instancePath:t+"/authorDelegatedGrant",parentData:r,parentDataProperty:"authorDelegatedGrant",rootData:l,dynamicAnchors:h})||(c=null===c?fy.validate.errors:c.concat(fy.validate.errors),f=c.length),$=De===f}else $=!0;if($){if(void 0!==r.ownerSignature){const De=f;Ri(r.ownerSignature,{instancePath:t+"/ownerSignature",parentData:r,parentDataProperty:"ownerSignature",rootData:l,dynamicAnchors:h})||(c=null===c?Ri.errors:c.concat(Ri.errors),f=c.length),$=De===f}else $=!0;if($)if(void 0!==r.ownerDelegatedGrant){const De=f;fy.validate(r.ownerDelegatedGrant,{instancePath:t+"/ownerDelegatedGrant",parentData:r,parentDataProperty:"ownerDelegatedGrant",rootData:l,dynamicAnchors:h})||(c=null===c?fy.validate.errors:c.concat(fy.validate.errors),f=c.length),$=De===f}else $=!0}}}}}return Bu.errors=c,0===f}Bu.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const UE={$id:"https://identity.foundation/dwn/json-schemas/general-jwk.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",required:["kty"],properties:{alg:{type:"string"},kid:{type:"string"},kty:{enum:["EC","RSA","oct","OKP"]},crv:{type:"string"},use:{type:"string"},key_ops:{type:"string"},x5u:{type:"string"},x5c:{type:"string"},x5t:{type:"string"},"x5t#S256":{type:"string"}},oneOf:[{properties:{kty:{const:"EC"},crv:{type:"string"},x:{type:"string"},y:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"OKP"},crv:{type:"string"},x:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"RSA"},n:{type:"string"},e:{type:"string"},d:{type:"string"},p:{type:"string"},q:{type:"string"},dp:{type:"string"},dq:{type:"string"},qi:{type:"string"},oth:{type:"object"}},required:["n","e"]},{properties:{kty:{const:"oct"},k:{type:"string"}},required:["k"]}]};function Qo(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){let c=null,f=0;const V=Qo.evaluated;V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0);const $=f,D=f;let q=!1,De=null;const Re=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let zn;if(void 0===r.crv&&(zn="crv")||void 0===r.x&&(zn="x")){const on={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/required",keyword:"required",params:{missingProperty:zn},message:"must have required property '"+zn+"'"};null===c?c=[on]:c.push(on),f++}else{if(void 0!==r.kty){const on=f;if("EC"!==r.kty){const pn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===c?c=[pn]:c.push(pn),f++}var Oe=on===f}else Oe=!0;if(Oe){if(void 0!==r.crv){const on=f;if("string"!=typeof r.crv){const gn={instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[gn]:c.push(gn),f++}Oe=on===f}else Oe=!0;if(Oe){if(void 0!==r.x){const on=f;if("string"!=typeof r.x){const gn={instancePath:t+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[gn]:c.push(gn),f++}Oe=on===f}else Oe=!0;if(Oe){if(void 0!==r.y){const on=f;if("string"!=typeof r.y){const gn={instancePath:t+"/y",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[gn]:c.push(gn),f++}Oe=on===f}else Oe=!0;if(Oe)if(void 0!==r.d){const on=f;if("string"!=typeof r.d){const gn={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[gn]:c.push(gn),f++}Oe=on===f}else Oe=!0}}}}}if(at=Re===f){q=!0,De=0;var je={kty:!0,crv:!0,x:!0,y:!0,d:!0}}const et=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let zn;if(void 0===r.crv&&(zn="crv")||void 0===r.x&&(zn="x")){const on={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/required",keyword:"required",params:{missingProperty:zn},message:"must have required property '"+zn+"'"};null===c?c=[on]:c.push(on),f++}else{if(void 0!==r.kty){const on=f;if("OKP"!==r.kty){const pn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===c?c=[pn]:c.push(pn),f++}var ft=on===f}else ft=!0;if(ft){if(void 0!==r.crv){const on=f;if("string"!=typeof r.crv){const gn={instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[gn]:c.push(gn),f++}ft=on===f}else ft=!0;if(ft){if(void 0!==r.x){const on=f;if("string"!=typeof r.x){const gn={instancePath:t+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[gn]:c.push(gn),f++}ft=on===f}else ft=!0;if(ft)if(void 0!==r.d){const on=f;if("string"!=typeof r.d){const gn={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[gn]:c.push(gn),f++}ft=on===f}else ft=!0}}}}if((at=et===f)&&q)q=!1,De=[De,1];else{at&&(q=!0,De=1,!0!==je&&((je=je||{}).kty=!0,je.crv=!0,je.x=!0,je.d=!0));const zn=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let pn;if(void 0===r.n&&(pn="n")||void 0===r.e&&(pn="e")){const gn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/required",keyword:"required",params:{missingProperty:pn},message:"must have required property '"+pn+"'"};null===c?c=[gn]:c.push(gn),f++}else{if(void 0!==r.kty){const gn=f;if("RSA"!==r.kty){const Nn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===c?c=[Nn]:c.push(Nn),f++}var dt=gn===f}else dt=!0;if(dt){if(void 0!==r.n){const gn=f;if("string"!=typeof r.n){const xn={instancePath:t+"/n",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[xn]:c.push(xn),f++}dt=gn===f}else dt=!0;if(dt){if(void 0!==r.e){const gn=f;if("string"!=typeof r.e){const xn={instancePath:t+"/e",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[xn]:c.push(xn),f++}dt=gn===f}else dt=!0;if(dt){if(void 0!==r.d){const gn=f;if("string"!=typeof r.d){const xn={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[xn]:c.push(xn),f++}dt=gn===f}else dt=!0;if(dt){if(void 0!==r.p){const gn=f;if("string"!=typeof r.p){const xn={instancePath:t+"/p",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[xn]:c.push(xn),f++}dt=gn===f}else dt=!0;if(dt){if(void 0!==r.q){const gn=f;if("string"!=typeof r.q){const xn={instancePath:t+"/q",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[xn]:c.push(xn),f++}dt=gn===f}else dt=!0;if(dt){if(void 0!==r.dp){const gn=f;if("string"!=typeof r.dp){const xn={instancePath:t+"/dp",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[xn]:c.push(xn),f++}dt=gn===f}else dt=!0;if(dt){if(void 0!==r.dq){const gn=f;if("string"!=typeof r.dq){const xn={instancePath:t+"/dq",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[xn]:c.push(xn),f++}dt=gn===f}else dt=!0;if(dt){if(void 0!==r.qi){const gn=f;if("string"!=typeof r.qi){const xn={instancePath:t+"/qi",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[xn]:c.push(xn),f++}dt=gn===f}else dt=!0;if(dt)if(void 0!==r.oth){let gn=r.oth;const Nn=f;if(!gn||"object"!=typeof gn||Array.isArray(gn)){const jn={instancePath:t+"/oth",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[jn]:c.push(jn),f++}dt=Nn===f}else dt=!0}}}}}}}}}}if((at=zn===f)&&q)q=!1,De=[De,2];else{at&&(q=!0,De=2,!0!==je&&((je=je||{}).kty=!0,je.n=!0,je.e=!0,je.d=!0,je.p=!0,je.q=!0,je.dp=!0,je.dq=!0,je.qi=!0,je.oth=!0));const pn=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Nn;if(void 0===r.k&&(Nn="k")){const xn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/required",keyword:"required",params:{missingProperty:Nn},message:"must have required property '"+Nn+"'"};null===c?c=[xn]:c.push(xn),f++}else{if(void 0!==r.kty){const xn=f;if("oct"!==r.kty){const jn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===c?c=[jn]:c.push(jn),f++}var Mt=xn===f}else Mt=!0;if(Mt)if(void 0!==r.k){const xn=f;if("string"!=typeof r.k){const lr={instancePath:t+"/k",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[lr]:c.push(lr),f++}Mt=xn===f}else Mt=!0}}var at;(at=pn===f)&&q?(q=!1,De=[De,3]):at&&(q=!0,De=3,!0!==je&&((je=je||{}).kty=!0,je.k=!0))}}if(!q){const zn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf",keyword:"oneOf",params:{passingSchemas:De},message:"must match exactly one schema in oneOf"};return null===c?c=[zn]:c.push(zn),f++,Qo.errors=c,!1}if(f=D,null!==c&&(D?c.length=D:c=null),f===$){if(!r||"object"!=typeof r||Array.isArray(r))return Qo.errors=[{instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let zn;if(void 0===r.kty&&(zn="kty"))return Qo.errors=[{instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/required",keyword:"required",params:{missingProperty:zn},message:"must have required property '"+zn+"'"}],!1;if(!0!==je&&((je=je||{}).alg=!0,je.kid=!0,je.kty=!0,je.crv=!0,je.use=!0,je.key_ops=!0,je.x5u=!0,je.x5c=!0,je.x5t=!0,je["x5t#S256"]=!0),void 0!==r.alg){const on=f;if("string"!=typeof r.alg)return Qo.errors=[{instancePath:t+"/alg",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Pt=on===f}else Pt=!0;if(Pt){if(void 0!==r.kid){const on=f;if("string"!=typeof r.kid)return Qo.errors=[{instancePath:t+"/kid",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pt=on===f}else Pt=!0;if(Pt){if(void 0!==r.kty){let on=r.kty;const pn=f;if("EC"!==on&&"RSA"!==on&&"oct"!==on&&"OKP"!==on)return Qo.errors=[{instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kty/enum",keyword:"enum",params:{allowedValues:UE.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;Pt=pn===f}else Pt=!0;if(Pt){if(void 0!==r.crv){const on=f;if("string"!=typeof r.crv)return Qo.errors=[{instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pt=on===f}else Pt=!0;if(Pt){if(void 0!==r.use){const on=f;if("string"!=typeof r.use)return Qo.errors=[{instancePath:t+"/use",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pt=on===f}else Pt=!0;if(Pt){if(void 0!==r.key_ops){const on=f;if("string"!=typeof r.key_ops)return Qo.errors=[{instancePath:t+"/key_ops",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pt=on===f}else Pt=!0;if(Pt){if(void 0!==r.x5u){const on=f;if("string"!=typeof r.x5u)return Qo.errors=[{instancePath:t+"/x5u",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pt=on===f}else Pt=!0;if(Pt){if(void 0!==r.x5c){const on=f;if("string"!=typeof r.x5c)return Qo.errors=[{instancePath:t+"/x5c",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pt=on===f}else Pt=!0;if(Pt){if(void 0!==r.x5t){const on=f;if("string"!=typeof r.x5t)return Qo.errors=[{instancePath:t+"/x5t",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pt=on===f}else Pt=!0;if(Pt)if(void 0!==r["x5t#S256"]){const on=f;if("string"!=typeof r["x5t#S256"])return Qo.errors=[{instancePath:t+"/x5t#S256",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pt=on===f}else Pt=!0}}}}}}}}}}if($===f){const zn=f,on=f,pn=f;let gn=!1;const Nn=f,xn=f;let jn=!1;const lr=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let gr;if(void 0===r.d&&(gr="d")){const Pi={};null===c?c=[Pi]:c.push(Pi),f++}}if(jn=jn||lr===f,jn)f=xn,null!==c&&(xn?c.length=xn:c=null);else{const gr={};null===c?c=[gr]:c.push(gr),f++}if(f===Nn)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty&&"EC"!==r.kty){const gr={};null===c?c=[gr]:c.push(gr),f++}}else{const gr={};null===c?c=[gr]:c.push(gr),f++}var rr=Nn===f;if(gn=gn||rr,rr)var Wt={kty:!0};const cr=f,fn=f;let dr=!1;const Er=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let gr;if(void 0===r.d&&(gr="d")){const Pi={};null===c?c=[Pi]:c.push(Pi),f++}}if(dr=dr||Er===f,dr)f=fn,null!==c&&(fn?c.length=fn:c=null);else{const gr={};null===c?c=[gr]:c.push(gr),f++}if(f===cr)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty&&"OKP"!==r.kty){const gr={};null===c?c=[gr]:c.push(gr),f++}}else{const gr={};null===c?c=[gr]:c.push(gr),f++}rr=cr===f,gn=gn||rr,rr&&!0!==Wt&&((Wt=Wt||{}).kty=!0);const Xn=f,kn=f;let qn=!1;const mr=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let gr;if(void 0===r.d&&(gr="d")){const Pi={};null===c?c=[Pi]:c.push(Pi),f++}}var Tn=mr===f;qn=qn||Tn;const Cr=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let gr;if(void 0===r.p&&(gr="p")){const Pi={};null===c?c=[Pi]:c.push(Pi),f++}}Tn=Cr===f,qn=qn||Tn;const Pr=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let gr;if(void 0===r.q&&(gr="q")){const Pi={};null===c?c=[Pi]:c.push(Pi),f++}}Tn=Pr===f,qn=qn||Tn;const Mr=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let gr;if(void 0===r.dp&&(gr="dp")){const Pi={};null===c?c=[Pi]:c.push(Pi),f++}}Tn=Mr===f,qn=qn||Tn;const Tr=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let gr;if(void 0===r.dq&&(gr="dq")){const Pi={};null===c?c=[Pi]:c.push(Pi),f++}}Tn=Tr===f,qn=qn||Tn;const ui=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let gr;if(void 0===r.qi&&(gr="qi")){const Pi={};null===c?c=[Pi]:c.push(Pi),f++}}Tn=ui===f,qn=qn||Tn;const Xs=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let gr;if(void 0===r.oth&&(gr="oth")){const Pi={};null===c?c=[Pi]:c.push(Pi),f++}}if(Tn=Xs===f,qn=qn||Tn,qn)f=kn,null!==c&&(kn?c.length=kn:c=null);else{const gr={};null===c?c=[gr]:c.push(gr),f++}if(f===Xn)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty){const gr=f;if("RSA"!==r.kty){const Pi={};null===c?c=[Pi]:c.push(Pi),f++}var Rn=gr===f}else Rn=!0;if(Rn)if(void 0!==r.oth){let gr=r.oth;const Pi=f;if(!gr||"object"!=typeof gr||Array.isArray(gr)){const vi={};null===c?c=[vi]:c.push(vi),f++}Rn=Pi===f}else Rn=!0}else{const gr={};null===c?c=[gr]:c.push(gr),f++}if(rr=Xn===f,gn=gn||rr,rr&&!0!==Wt&&((Wt=Wt||{}).kty=!0,Wt.d=!0,Wt.p=!0,Wt.q=!0,Wt.dp=!0,Wt.dq=!0,Wt.qi=!0,Wt.oth=!0),gn)f=pn,null!==c&&(pn?c.length=pn:c=null);else{const gr={};null===c?c=[gr]:c.push(gr),f++}if(on===f)return Qo.errors=[{instancePath:t,schemaPath:"#/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=zn,null!==c&&(zn?c.length=zn:c=null)}return Qo.errors=c,V.props=je,0===f}Qo.evaluated={dynamicProps:!0,dynamicItems:!1};const gA=Object.prototype.hasOwnProperty;function ni(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){let c=null,f=0;const V=ni.evaluated;V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0);const $=f;let D=!1;const q=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let cr;if(void 0===r.contextId&&(cr="contextId")){const fn={instancePath:t,schemaPath:"#/anyOf/0/required",keyword:"required",params:{missingProperty:cr},message:"must have required property '"+cr+"'"};null===c?c=[fn]:c.push(fn),f++}else if(void 0!==r.descriptor){let fn=r.descriptor;if(f==f)if(fn&&"object"==typeof fn&&!Array.isArray(fn)){let Er;if(void 0===fn.protocol&&(Er="protocol")||void 0===fn.protocolPath&&(Er="protocolPath")){const Xn={instancePath:t+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/required",keyword:"required",params:{missingProperty:Er},message:"must have required property '"+Er+"'"};null===c?c=[Xn]:c.push(Xn),f++}}else{const Er={instancePath:t+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Er]:c.push(Er),f++}}}var Pt=q===f;if(D=D||Pt,Pt)var De={descriptor:!0};const Re=f,Oe=f,je=f,et=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let cr;if(void 0===r.contextId&&(cr="contextId")){const fn={};null===c?c=[fn]:c.push(fn),f++}}if(et===f){const cr={instancePath:t,schemaPath:"#/anyOf/1/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[cr]:c.push(cr),f++}else f=je,null!==c&&(je?c.length=je:c=null);if(Oe===f){const cr=f;if(r&&"object"==typeof r&&!Array.isArray(r)&&void 0!==r.descriptor){let dr=r.descriptor;if(!dr||"object"!=typeof dr||Array.isArray(dr)){const kn={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[kn]:c.push(kn),f++}const Er=f,Xn=f;if(dr&&"object"==typeof dr&&!Array.isArray(dr)){let kn;if(void 0===dr.protocol&&(kn="protocol")){const qn={};null===c?c=[qn]:c.push(qn),f++}}if(Xn===f){const kn={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[kn]:c.push(kn),f++}else f=Er,null!==c&&(Er?c.length=Er:c=null)}if(cr===f&&r&&"object"==typeof r&&!Array.isArray(r)&&void 0!==r.descriptor){let Xn=r.descriptor;if(!Xn||"object"!=typeof Xn||Array.isArray(Xn)){const mr={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[mr]:c.push(mr),f++}const kn=f,qn=f;if(Xn&&"object"==typeof Xn&&!Array.isArray(Xn)){let mr;if(void 0===Xn.protocolPath&&(mr="protocolPath")){const Cr={};null===c?c=[Cr]:c.push(Cr),f++}}if(qn===f){const mr={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[mr]:c.push(mr),f++}else f=kn,null!==c&&(kn?c.length=kn:c=null)}}if(Pt=Re===f,D=D||Pt,Pt&&!0!==De&&((De=De||{}).descriptor=!0),!D){const cr={instancePath:t,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===c?c=[cr]:c.push(cr),f++,ni.errors=c,!1}if(f=$,null!==c&&($?c.length=$:c=null),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return ni.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let cr;if(void 0===r.descriptor&&(cr="descriptor"))return ni.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:cr},message:"must have required property '"+cr+"'"}],!1;if(!0!==De&&((De=De||{}).recordId=!0,De.contextId=!0,De.attestation=!0,De.authorization=!0,De.encryption=!0,De.descriptor=!0),void 0!==r.recordId){const fn=f;if("string"!=typeof r.recordId)return ni.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Dt=fn===f}else Dt=!0;if(Dt){if(void 0!==r.contextId){let fn=r.contextId;const dr=f;if(f===dr){if("string"!=typeof fn)return ni.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!LE.test(fn))return ni.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"},message:'must match pattern "^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"'}],!1}Dt=dr===f}else Dt=!0;if(Dt){if(void 0!==r.attestation){const fn=f;Ri(r.attestation,{instancePath:t+"/attestation",parentData:r,parentDataProperty:"attestation",rootData:l,dynamicAnchors:h})||(c=null===c?Ri.errors:c.concat(Ri.errors),f=c.length),Dt=fn===f}else Dt=!0;if(Dt){if(void 0!==r.authorization){const fn=f;Bu(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:h})||(c=null===c?Bu.errors:c.concat(Bu.errors),f=c.length),Dt=fn===f}else Dt=!0;if(Dt){if(void 0!==r.encryption){let fn=r.encryption;const dr=f;if(f===dr){if(!fn||"object"!=typeof fn||Array.isArray(fn))return ni.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Xn;if(void 0===fn.algorithm&&(Xn="algorithm")||void 0===fn.initializationVector&&(Xn="initializationVector")||void 0===fn.keyEncryption&&(Xn="keyEncryption"))return ni.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/required",keyword:"required",params:{missingProperty:Xn},message:"must have required property '"+Xn+"'"}],!1;{const kn=f;for(const qn in fn)if("algorithm"!==qn&&"initializationVector"!==qn&&"keyEncryption"!==qn)return ni.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:qn},message:"must NOT have additional properties"}],!1;if(kn===f){if(void 0!==fn.algorithm){let qn=fn.algorithm;const mr=f;if("string"!=typeof qn)return ni.errors=[{instancePath:t+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("A256CTR"!==qn)return ni.errors=[{instancePath:t+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/enum",keyword:"enum",params:{allowedValues:Up.properties.encryption.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var Kt=mr===f}else Kt=!0;if(Kt){if(void 0!==fn.initializationVector){let qn=fn.initializationVector;const mr=f;if(f==f){if("string"!=typeof qn)return ni.errors=[{instancePath:t+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ka.test(qn))return ni.errors=[{instancePath:t+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}Kt=mr===f}else Kt=!0;if(Kt)if(void 0!==fn.keyEncryption){let qn=fn.keyEncryption;const mr=f;if(f===mr){if(!Array.isArray(qn))return ni.errors=[{instancePath:t+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(qn.length<1)return ni.errors=[{instancePath:t+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Pr=qn.length;for(let Mr=0;Mr<Pr;Mr++){let Tr=qn[Mr];const ui=f;if(f===ui){if(!Tr||"object"!=typeof Tr||Array.isArray(Tr))return ni.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr,schemaPath:"#/properties/encryption/properties/keyEncryption/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let gr;if(void 0===Tr.rootKeyId&&(gr="rootKeyId")||void 0===Tr.derivationScheme&&(gr="derivationScheme")||void 0===Tr.algorithm&&(gr="algorithm")||void 0===Tr.encryptedKey&&(gr="encryptedKey")||void 0===Tr.initializationVector&&(gr="initializationVector")||void 0===Tr.ephemeralPublicKey&&(gr="ephemeralPublicKey")||void 0===Tr.messageAuthenticationCode&&(gr="messageAuthenticationCode"))return ni.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr,schemaPath:"#/properties/encryption/properties/keyEncryption/items/required",keyword:"required",params:{missingProperty:gr},message:"must have required property '"+gr+"'"}],!1;{const Pi=f;for(const Bi in Tr)if("rootKeyId"!==Bi&&"derivationScheme"!==Bi&&"derivedPublicKey"!==Bi&&"algorithm"!==Bi&&"encryptedKey"!==Bi&&"initializationVector"!==Bi&&"ephemeralPublicKey"!==Bi&&"messageAuthenticationCode"!==Bi)return ni.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr,schemaPath:"#/properties/encryption/properties/keyEncryption/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Bi},message:"must NOT have additional properties"}],!1;if(Pi===f){if(void 0!==Tr.rootKeyId){const Bi=f;if("string"!=typeof Tr.rootKeyId)return ni.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr+"/rootKeyId",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var En=Bi===f}else En=!0;if(En){if(void 0!==Tr.derivationScheme){let Bi=Tr.derivationScheme;const vi=f;if("string"!=typeof Bi)return ni.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("dataFormats"!==Bi&&"protocolContext"!==Bi&&"protocolPath"!==Bi&&"schemas"!==Bi)return ni.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/enum",keyword:"enum",params:{allowedValues:Up.properties.encryption.properties.keyEncryption.items.properties.derivationScheme.enum},message:"must be equal to one of the allowed values"}],!1;En=vi===f}else En=!0;if(En){if(void 0!==Tr.derivedPublicKey){const Bi=f;Qo(Tr.derivedPublicKey,{instancePath:t+"/encryption/keyEncryption/"+Mr+"/derivedPublicKey",parentData:Tr,parentDataProperty:"derivedPublicKey",rootData:l,dynamicAnchors:h})||(c=null===c?Qo.errors:c.concat(Qo.errors),f=c.length),En=Bi===f}else En=!0;if(En){if(void 0!==Tr.algorithm){let Bi=Tr.algorithm;const vi=f;if("string"!=typeof Bi)return ni.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("ECIES-ES256K"!==Bi)return ni.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/enum",keyword:"enum",params:{allowedValues:Up.properties.encryption.properties.keyEncryption.items.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;En=vi===f}else En=!0;if(En){if(void 0!==Tr.encryptedKey){let Bi=Tr.encryptedKey;const vi=f;if(f==f){if("string"!=typeof Bi)return ni.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ka.test(Bi))return ni.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}En=vi===f}else En=!0;if(En){if(void 0!==Tr.initializationVector){let Bi=Tr.initializationVector;const vi=f;if(f==f){if("string"!=typeof Bi)return ni.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ka.test(Bi))return ni.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}En=vi===f}else En=!0;if(En){if(void 0!==Tr.ephemeralPublicKey){const Bi=f;Qo(Tr.ephemeralPublicKey,{instancePath:t+"/encryption/keyEncryption/"+Mr+"/ephemeralPublicKey",parentData:Tr,parentDataProperty:"ephemeralPublicKey",rootData:l,dynamicAnchors:h})||(c=null===c?Qo.errors:c.concat(Qo.errors),f=c.length),En=Bi===f}else En=!0;if(En)if(void 0!==Tr.messageAuthenticationCode){let Bi=Tr.messageAuthenticationCode;const vi=f;if(f==f){if("string"!=typeof Bi)return ni.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ka.test(Bi))return ni.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mr+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}En=vi===f}else En=!0}}}}}}}}}}if(ui!==f)break}}}Kt=mr===f}else Kt=!0}}}}}Dt=dr===f}else Dt=!0;if(Dt)if(void 0!==r.descriptor){let fn=r.descriptor;const dr=f,Er=f;let Xn=!1;const kn=f;if(fn&&"object"==typeof fn&&!Array.isArray(fn)){let gr;if(void 0===fn.published&&(gr="published")||void 0===fn.datePublished&&(gr="datePublished")){const Pi={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/required",keyword:"required",params:{missingProperty:gr},message:"must have required property '"+gr+"'"};null===c?c=[Pi]:c.push(Pi),f++}else if(void 0!==fn.published){let Pi=fn.published;if("boolean"!=typeof Pi){const Bi={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===c?c=[Bi]:c.push(Bi),f++}if(!0!==Pi){const Bi={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:Up.properties.descriptor.allOf[0].anyOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===c?c=[Bi]:c.push(Bi),f++}}}var on=kn===f;if(Xn=Xn||on,on)var Tn={published:!0};const qn=f,mr=f,Cr=f;if(fn&&"object"==typeof fn&&!Array.isArray(fn)){let gr;if(void 0===fn.datePublished&&(gr="datePublished")){const Pi={};null===c?c=[Pi]:c.push(Pi),f++}}if(Cr===f){const gr={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[gr]:c.push(gr),f++}else f=mr,null!==c&&(mr?c.length=mr:c=null);if(f===qn&&fn&&"object"==typeof fn&&!Array.isArray(fn)&&void 0!==fn.published){let gr=fn.published;if("boolean"!=typeof gr){const Pi={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===c?c=[Pi]:c.push(Pi),f++}if(!1!==gr){const Pi={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/enum",keyword:"enum",params:{allowedValues:Up.properties.descriptor.allOf[0].anyOf[1].properties.published.enum},message:"must be equal to one of the allowed values"};null===c?c=[Pi]:c.push(Pi),f++}}on=qn===f,Xn=Xn||on,on&&!0!==Tn&&((Tn=Tn||{}).published=!0);const Pr=f,Mr=f,Tr=f,ui=f;if(fn&&"object"==typeof fn&&!Array.isArray(fn)){let gr;if(void 0===fn.published&&(gr="published")){const Pi={};null===c?c=[Pi]:c.push(Pi),f++}}if(ui===f){const gr={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[gr]:c.push(gr),f++}else f=Tr,null!==c&&(Tr?c.length=Tr:c=null);if(Mr===f){const Pi=f,Bi=f;if(fn&&"object"==typeof fn&&!Array.isArray(fn)){let Ns;if(void 0===fn.datePublished&&(Ns="datePublished")){const id={};null===c?c=[id]:c.push(id),f++}}if(Bi===f){const Ns={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[Ns]:c.push(Ns),f++}else f=Pi,null!==c&&(Pi?c.length=Pi:c=null)}if(on=Pr===f,Xn=Xn||on,!Xn){const gr={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===c?c=[gr]:c.push(gr),f++,ni.errors=c,!1}if(f=Er,null!==c&&(Er?c.length=Er:c=null),f===dr){if(!fn||"object"!=typeof fn||Array.isArray(fn))return ni.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let gr;if(void 0===fn.interface&&(gr="interface")||void 0===fn.method&&(gr="method")||void 0===fn.dataCid&&(gr="dataCid")||void 0===fn.dataSize&&(gr="dataSize")||void 0===fn.dateCreated&&(gr="dateCreated")||void 0===fn.messageTimestamp&&(gr="messageTimestamp")||void 0===fn.dataFormat&&(gr="dataFormat"))return ni.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:gr},message:"must have required property '"+gr+"'"}],!1;{const Pi=f;for(const Bi in fn)if(!gA.call(Up.properties.descriptor.properties,Bi))return ni.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Bi},message:"must NOT have additional properties"}],!1;if(Pi===f){let Bi;if(void 0!==fn.parentId&&void 0===fn.protocol&&(Bi="protocol"))return ni.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/dependencies",keyword:"dependencies",params:{property:"parentId",missingProperty:Bi,depsCount:1,deps:"protocol"},message:"must have property protocol when property parentId is present"}],!1;if(void 0!==fn.interface){let vi=fn.interface;const Ns=f;if("string"!=typeof vi)return ni.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==vi)return ni.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Up.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var pn=Ns===f}else pn=!0;if(pn){if(void 0!==fn.method){let vi=fn.method;const Ns=f;if("string"!=typeof vi)return ni.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Write"!==vi)return ni.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Up.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;pn=Ns===f}else pn=!0;if(pn){if(void 0!==fn.recipient){let vi=fn.recipient;const Ns=f;if(f==f){if("string"!=typeof vi)return ni.errors=[{instancePath:t+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Bm.test(vi))return ni.errors=[{instancePath:t+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}pn=Ns===f}else pn=!0;if(pn){if(void 0!==fn.protocol){const vi=f;if("string"!=typeof fn.protocol)return ni.errors=[{instancePath:t+"/descriptor/protocol",schemaPath:"#/properties/descriptor/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;pn=vi===f}else pn=!0;if(pn){if(void 0!==fn.protocolPath){let vi=fn.protocolPath;const Ns=f;if(f===Ns){if("string"!=typeof vi)return ni.errors=[{instancePath:t+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Fw.test(vi))return ni.errors=[{instancePath:t+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},message:'must match pattern "^[a-zA-Z]+(/[a-zA-Z]+)*$"'}],!1}pn=Ns===f}else pn=!0;if(pn){if(void 0!==fn.schema){const vi=f;if("string"!=typeof fn.schema)return ni.errors=[{instancePath:t+"/descriptor/schema",schemaPath:"#/properties/descriptor/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;pn=vi===f}else pn=!0;if(pn){if(void 0!==fn.tags){let vi=fn.tags;const Ns=f;if(f===Ns){if(!vi||"object"!=typeof vi||Array.isArray(vi))return ni.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(vi).length>10)return ni.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/maxProperties",keyword:"maxProperties",params:{limit:10},message:"must NOT have more than 10 properties"}],!1;if(Object.keys(vi).length<1)return ni.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;for(const Xo in vi){let Yo=vi[Xo];const Ys=f,as=f;let Di=!1,cs=null;const od=f;if("string"!=typeof Yo){const Jc={instancePath:t+"/descriptor/tags/"+Xo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Jc]:c.push(Jc),f++}(gn=od===f)&&(Di=!0,cs=0);const Ic=f;if("number"!=typeof Yo||!isFinite(Yo)){const Jc={instancePath:t+"/descriptor/tags/"+Xo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===c?c=[Jc]:c.push(Jc),f++}if((gn=Ic===f)&&Di)Di=!1,cs=[cs,1];else{gn&&(Di=!0,cs=1);const Jc=f;if("boolean"!=typeof Yo){const Nw={instancePath:t+"/descriptor/tags/"+Xo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===c?c=[Nw]:c.push(Nw),f++}if((gn=Jc===f)&&Di)Di=!1,cs=[cs,2];else{gn&&(Di=!0,cs=2);const Nw=f;if(f===Nw)if(Array.isArray(Yo))if(Yo.length>10){const ih={instancePath:t+"/descriptor/tags/"+Xo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/maxItems",keyword:"maxItems",params:{limit:10},message:"must NOT have more than 10 items"};null===c?c=[ih]:c.push(ih),f++}else if(Yo.length<1){const ih={instancePath:t+"/descriptor/tags/"+Xo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===c?c=[ih]:c.push(ih),f++}else{const ih=Yo.length;for(let T6=0;T6<ih;T6++){const Vh=f;if("string"!=typeof Yo[T6]){const mA={instancePath:t+"/descriptor/tags/"+Xo.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+T6,schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[mA]:c.push(mA),f++}if(Vh!==f)break}}else{const ih={instancePath:t+"/descriptor/tags/"+Xo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/type",keyword:"type",params:{type:"array"},message:"must be array"};null===c?c=[ih]:c.push(ih),f++}if((gn=Nw===f)&&Di)Di=!1,cs=[cs,3];else{if(gn){Di=!0,cs=3;var xn=!0}const ih=f;if(f===ih)if(Array.isArray(Yo))if(Yo.length>10){const Vh={instancePath:t+"/descriptor/tags/"+Xo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/maxItems",keyword:"maxItems",params:{limit:10},message:"must NOT have more than 10 items"};null===c?c=[Vh]:c.push(Vh),f++}else if(Yo.length<1){const Vh={instancePath:t+"/descriptor/tags/"+Xo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===c?c=[Vh]:c.push(Vh),f++}else{const Vh=Yo.length;for(let I6=0;I6<Vh;I6++){let mA=Yo[I6];const KF=f;if("number"!=typeof mA||!isFinite(mA)){const L9={instancePath:t+"/descriptor/tags/"+Xo.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+I6,schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/items/type",keyword:"type",params:{type:"number"},message:"must be number"};null===c?c=[L9]:c.push(L9),f++}if(KF!==f)break}}else{const Vh={instancePath:t+"/descriptor/tags/"+Xo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/type",keyword:"type",params:{type:"array"},message:"must be array"};null===c?c=[Vh]:c.push(Vh),f++}var gn;(gn=ih===f)&&Di?(Di=!1,cs=[cs,4]):gn&&(Di=!0,cs=4,!0!==xn&&(xn=!0))}}}if(!Di){const Jc={instancePath:t+"/descriptor/tags/"+Xo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf",keyword:"oneOf",params:{passingSchemas:cs},message:"must match exactly one schema in oneOf"};return null===c?c=[Jc]:c.push(Jc),f++,ni.errors=c,!1}if(f=as,null!==c&&(as?c.length=as:c=null),Ys!==f)break}}pn=Ns===f}else pn=!0;if(pn){if(void 0!==fn.parentId){const vi=f;if("string"!=typeof fn.parentId)return ni.errors=[{instancePath:t+"/descriptor/parentId",schemaPath:"#/properties/descriptor/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;pn=vi===f}else pn=!0;if(pn){if(void 0!==fn.dataCid){const vi=f;if("string"!=typeof fn.dataCid)return ni.errors=[{instancePath:t+"/descriptor/dataCid",schemaPath:"#/properties/descriptor/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;pn=vi===f}else pn=!0;if(pn){if(void 0!==fn.dataSize){let vi=fn.dataSize;const Ns=f;if("number"!=typeof vi||!isFinite(vi))return ni.errors=[{instancePath:t+"/descriptor/dataSize",schemaPath:"#/properties/descriptor/properties/dataSize/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;pn=Ns===f}else pn=!0;if(pn){if(void 0!==fn.dateCreated){let vi=fn.dateCreated;const Ns=f;if(f==f){if("string"!=typeof vi)return ni.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(vi))return ni.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}pn=Ns===f}else pn=!0;if(pn){if(void 0!==fn.messageTimestamp){let vi=fn.messageTimestamp;const Ns=f;if(f==f){if("string"!=typeof vi)return ni.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(vi))return ni.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}pn=Ns===f}else pn=!0;if(pn){if(void 0!==fn.published){const vi=f;if("boolean"!=typeof fn.published)return ni.errors=[{instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;pn=vi===f}else pn=!0;if(pn){if(void 0!==fn.datePublished){let vi=fn.datePublished;const Ns=f;if(f==f){if("string"!=typeof vi)return ni.errors=[{instancePath:t+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(vi))return ni.errors=[{instancePath:t+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}pn=Ns===f}else pn=!0;if(pn)if(void 0!==fn.dataFormat){const vi=f;if("string"!=typeof fn.dataFormat)return ni.errors=[{instancePath:t+"/descriptor/dataFormat",schemaPath:"#/properties/descriptor/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;pn=vi===f}else pn=!0}}}}}}}}}}}}}}}}}Dt=dr===f}else Dt=!0}}}}}}return ni.errors=c,V.props=De,0===f}function hd(r,{instancePath:t="",parentData:n,parentDataProperty:i,rootData:l=r,dynamicAnchors:h={}}={}){let c=null,f=0;const V=hd.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),ni(r,{instancePath:t,parentData:n,parentDataProperty:i,rootData:l,dynamicAnchors:h}))var $=ni.evaluated.props;else c=null===c?ni.errors:c.concat(ni.errors),f=c.length;if(0===f){if(!r||"object"!=typeof r||Array.isArray(r))return hd.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let q;if(void 0===r.recordId&&(q="recordId")||void 0===r.authorization&&(q="authorization")||void 0===r.encodedData&&(q="encodedData"))return hd.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:q},message:"must have required property '"+q+"'"}],!1;if(!0!==$&&(($=$||{}).encodedData=!0),void 0!==r.encodedData){const De=f;if("string"!=typeof r.encodedData)return hd.errors=[{instancePath:t+"/encodedData",schemaPath:"#/properties/encodedData/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var D=De===f}else D=!0;if(D&&!0!==$)for(const De in r)if(!$||!$[De])return hd.errors=[{instancePath:t,schemaPath:"#/unevaluatedProperties",keyword:"unevaluatedProperties",params:{unevaluatedProperty:De},message:"must NOT have unevaluated properties"}],!1}}return hd.errors=c,0===f}function Qc(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){let c=null,f=0;const V=Qc.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Qc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const D=f;for(const q in r)if("signature"!==q&&"authorDelegatedGrant"!==q)return Qc.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:q},message:"must NOT have additional properties"}],!1;if(D===f){if(void 0!==r.signature){const q=f;Ri(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:l,dynamicAnchors:h})||(c=null===c?Ri.errors:c.concat(Ri.errors),f=c.length);var $=q===f}else $=!0;if($)if(void 0!==r.authorDelegatedGrant){const q=f;hd(r.authorDelegatedGrant,{instancePath:t+"/authorDelegatedGrant",parentData:r,parentDataProperty:"authorDelegatedGrant",rootData:l,dynamicAnchors:h})||(c=null===c?hd.errors:c.concat(hd.errors),f=c.length),$=q===f}else $=!0}}}return Qc.errors=c,0===f}ni.evaluated={dynamicProps:!0,dynamicItems:!1},hd.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},Qc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const FE=Bu,jw=Va,su={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-delete.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","recordId","prune"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Delete"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},recordId:{type:"string"},prune:{type:"boolean"}}}}};function Va(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){let c=null,f=0;const V=Va.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Va.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let q;if(void 0===r.authorization&&(q="authorization")||void 0===r.descriptor&&(q="descriptor"))return Va.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:q},message:"must have required property '"+q+"'"}],!1;{const De=f;for(const Re in r)if("authorization"!==Re&&"descriptor"!==Re)return Va.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Re},message:"must NOT have additional properties"}],!1;if(De===f){if(void 0!==r.authorization){const Re=f;Qc(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:h})||(c=null===c?Qc.errors:c.concat(Qc.errors),f=c.length);var $=Re===f}else $=!0;if($)if(void 0!==r.descriptor){let Re=r.descriptor;const Oe=f;if(f===Oe){if(!Re||"object"!=typeof Re||Array.isArray(Re))return Va.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let et;if(void 0===Re.interface&&(et="interface")||void 0===Re.method&&(et="method")||void 0===Re.messageTimestamp&&(et="messageTimestamp")||void 0===Re.recordId&&(et="recordId")||void 0===Re.prune&&(et="prune"))return Va.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:et},message:"must have required property '"+et+"'"}],!1;{const ft=f;for(const at in Re)if("interface"!==at&&"method"!==at&&"messageTimestamp"!==at&&"recordId"!==at&&"prune"!==at)return Va.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:at},message:"must NOT have additional properties"}],!1;if(ft===f){if(void 0!==Re.interface){let at=Re.interface;const dt=f;if("string"!=typeof at)return Va.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==at)return Va.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:su.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var D=dt===f}else D=!0;if(D){if(void 0!==Re.method){let at=Re.method;const dt=f;if("string"!=typeof at)return Va.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Delete"!==at)return Va.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:su.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;D=dt===f}else D=!0;if(D){if(void 0!==Re.messageTimestamp){let at=Re.messageTimestamp;const dt=f;if(f==f){if("string"!=typeof at)return Va.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(at))return Va.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}D=dt===f}else D=!0;if(D){if(void 0!==Re.recordId){const at=f;if("string"!=typeof Re.recordId)return Va.errors=[{instancePath:t+"/descriptor/recordId",schemaPath:"#/properties/descriptor/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;D=at===f}else D=!0;if(D)if(void 0!==Re.prune){const at=f;if("boolean"!=typeof Re.prune)return Va.errors=[{instancePath:t+"/descriptor/prune",schemaPath:"#/properties/descriptor/properties/prune/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;D=at===f}else D=!0}}}}}}}$=Oe===f}else $=!0}}}}return Va.errors=c,0===f}Va.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const jE=Hs,$E={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"},pagination:{type:"object",additionalProperties:!1,properties:{limit:{type:"number",minimum:1},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}},dateSort:{enum:["createdAscending","createdDescending","publishedAscending","publishedDescending"],type:"string"}}}}},KE={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json",type:"object",minProperties:1,additionalProperties:!1,required:["messageCid","value"],properties:{messageCid:{type:"string"},value:{type:["string","number"]}}},VE={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-filter.json",type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},protocolPath:{type:"string"},author:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},attester:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},contextId:{type:"string"},schema:{type:"string"},tags:{type:"object",minProperties:1,additionalProperties:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"},{type:"object",minProperties:1,additionalProperties:!1,properties:{startsWith:{type:"string"}}},{$ref:"https://identity.foundation/dwn/json-schemas/string-range-filter.json"},{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"}]}},recordId:{type:"string"},parentId:{type:"string"},published:{type:"boolean"},dataFormat:{type:"string"},dataSize:{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"},dataCid:{type:"string"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},datePublished:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},dateUpdated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}}},dependencies:{datePublished:{oneOf:[{properties:{published:{enum:[!0]}},required:["published"]},{not:{required:["published"]}}]}}};function ai(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){let c=null,f=0;const V=ai.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return ai.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return ai.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const cr=f;for(const fn in r)if(!gA.call(VE.properties,fn))return ai.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:fn},message:"must NOT have additional properties"}],!1;if(cr===f){if(void 0!==r.datePublished){const fn=f,dr=f;let Er=!1,Xn=null;const kn=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Pr;if(void 0===r.published&&(Pr="published")){const Mr={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/0/required",keyword:"required",params:{missingProperty:Pr},message:"must have required property '"+Pr+"'"};null===c?c=[Mr]:c.push(Mr),f++}else if(void 0!==r.published&&!0!==r.published){const Mr={instancePath:t+"/published",schemaPath:"#/dependencies/datePublished/oneOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:VE.dependencies.datePublished.oneOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===c?c=[Mr]:c.push(Mr),f++}}kn===f&&(Er=!0,Xn=0);const qn=f,mr=f,Cr=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Pr;if(void 0===r.published&&(Pr="published")){const Mr={};null===c?c=[Mr]:c.push(Mr),f++}}var q;if(Cr===f){const Pr={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[Pr]:c.push(Pr),f++}else f=mr,null!==c&&(mr?c.length=mr:c=null);if((q=qn===f)&&Er?(Er=!1,Xn=[Xn,1]):q&&(Er=!0,Xn=1),!Er){const Pr={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf",keyword:"oneOf",params:{passingSchemas:Xn},message:"must match exactly one schema in oneOf"};return null===c?c=[Pr]:c.push(Pr),f++,ai.errors=c,!1}f=dr,null!==c&&(dr?c.length=dr:c=null);var De=fn===f}else De=!0;if(De){if(void 0!==r.protocol){const fn=f;if("string"!=typeof r.protocol)return ai.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Re=fn===f}else Re=!0;if(Re){if(void 0!==r.protocolPath){const fn=f;if("string"!=typeof r.protocolPath)return ai.errors=[{instancePath:t+"/protocolPath",schemaPath:"#/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Re=fn===f}else Re=!0;if(Re){if(void 0!==r.author){let fn=r.author;const dr=f;if(f==f){if("string"!=typeof fn)return ai.errors=[{instancePath:t+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Bm.test(fn))return ai.errors=[{instancePath:t+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Re=dr===f}else Re=!0;if(Re){if(void 0!==r.attester){let fn=r.attester;const dr=f;if(f==f){if("string"!=typeof fn)return ai.errors=[{instancePath:t+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Bm.test(fn))return ai.errors=[{instancePath:t+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Re=dr===f}else Re=!0;if(Re){if(void 0!==r.recipient){let fn=r.recipient;const dr=f;if(f==f){if("string"!=typeof fn)return ai.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Bm.test(fn))return ai.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Re=dr===f}else Re=!0;if(Re){if(void 0!==r.contextId){const fn=f;if("string"!=typeof r.contextId)return ai.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Re=fn===f}else Re=!0;if(Re){if(void 0!==r.schema){const fn=f;if("string"!=typeof r.schema)return ai.errors=[{instancePath:t+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Re=fn===f}else Re=!0;if(Re){if(void 0!==r.tags){let fn=r.tags;const dr=f;if(f===dr){if(!fn||"object"!=typeof fn||Array.isArray(fn))return ai.errors=[{instancePath:t+"/tags",schemaPath:"#/properties/tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(fn).length<1)return ai.errors=[{instancePath:t+"/tags",schemaPath:"#/properties/tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;for(const Xn in fn){let kn=fn[Xn];const qn=f,mr=f;let Cr=!1,Pr=null;const Mr=f;if("string"!=typeof kn){const ui={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[ui]:c.push(ui),f++}(Oe=Mr===f)&&(Cr=!0,Pr=0);const Tr=f;if("number"!=typeof kn||!isFinite(kn)){const ui={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===c?c=[ui]:c.push(ui),f++}if((Oe=Tr===f)&&Cr)Cr=!1,Pr=[Pr,1];else{Oe&&(Cr=!0,Pr=1);const ui=f;if("boolean"!=typeof kn){const gr={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===c?c=[gr]:c.push(gr),f++}if((Oe=ui===f)&&Cr)Cr=!1,Pr=[Pr,2];else{Oe&&(Cr=!0,Pr=2);const gr=f;if(f===gr)if(kn&&"object"==typeof kn&&!Array.isArray(kn))if(Object.keys(kn).length<1){const Bi={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===c?c=[Bi]:c.push(Bi),f++}else{const Bi=f;for(const vi in kn)if("startsWith"!==vi){const Ns={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:vi},message:"must NOT have additional properties"};null===c?c=[Ns]:c.push(Ns),f++;break}if(Bi===f&&void 0!==kn.startsWith&&"string"!=typeof kn.startsWith){const vi={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1")+"/startsWith",schemaPath:"#/properties/tags/additionalProperties/oneOf/3/properties/startsWith/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[vi]:c.push(vi),f++}}else{const Bi={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Bi]:c.push(Bi),f++}if((Oe=gr===f)&&Cr)Cr=!1,Pr=[Pr,3];else{if(Oe){Cr=!0,Pr=3;var je=!0}const Bi=f;if(f==f)if(kn&&"object"==typeof kn&&!Array.isArray(kn))if(Object.keys(kn).length<1){const id={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===c?c=[id]:c.push(id),f++}else{const id=f;for(const Xo in kn)if("gt"!==Xo&&"gte"!==Xo&&"lt"!==Xo&&"lte"!==Xo){const Yo={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Xo},message:"must NOT have additional properties"};null===c?c=[Yo]:c.push(Yo),f++;break}if(id===f){if(void 0!==kn.gt){const Xo=f,Yo=f,Ys=f;if(kn&&"object"==typeof kn&&!Array.isArray(kn)){let as;if(void 0===kn.gte&&(as="gte")){const Di={};null===c?c=[Di]:c.push(Di),f++}}if(Ys===f){const as={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[as]:c.push(as),f++}else f=Yo,null!==c&&(Yo?c.length=Yo:c=null);var ft=Xo===f}else ft=!0;if(ft){if(void 0!==kn.gte){const Xo=f,Yo=f,Ys=f;if(kn&&"object"==typeof kn&&!Array.isArray(kn)){let Di;if(void 0===kn.gt&&(Di="gt")){const cs={};null===c?c=[cs]:c.push(cs),f++}}if(Ys===f){const Di={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[Di]:c.push(Di),f++}else f=Yo,null!==c&&(Yo?c.length=Yo:c=null);ft=Xo===f}else ft=!0;if(ft){if(void 0!==kn.lt){const Xo=f,Yo=f,Ys=f;if(kn&&"object"==typeof kn&&!Array.isArray(kn)){let Di;if(void 0===kn.lte&&(Di="lte")){const cs={};null===c?c=[cs]:c.push(cs),f++}}if(Ys===f){const Di={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[Di]:c.push(Di),f++}else f=Yo,null!==c&&(Yo?c.length=Yo:c=null);ft=Xo===f}else ft=!0;if(ft){if(void 0!==kn.lte){const Xo=f,Yo=f,Ys=f;if(kn&&"object"==typeof kn&&!Array.isArray(kn)){let Di;if(void 0===kn.lt&&(Di="lt")){const cs={};null===c?c=[cs]:c.push(cs),f++}}if(Ys===f){const Di={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[Di]:c.push(Di),f++}else f=Yo,null!==c&&(Yo?c.length=Yo:c=null);ft=Xo===f}else ft=!0;if(ft){if(void 0!==kn.gt){const Xo=f;if("string"!=typeof kn.gt){const Yo={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1")+"/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/gt/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Yo]:c.push(Yo),f++}var Pt=Xo===f}else Pt=!0;if(Pt){if(void 0!==kn.gte){const Xo=f;if("string"!=typeof kn.gte){const Ys={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1")+"/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/gte/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Ys]:c.push(Ys),f++}Pt=Xo===f}else Pt=!0;if(Pt){if(void 0!==kn.lt){const Xo=f;if("string"!=typeof kn.lt){const Ys={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1")+"/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/lt/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Ys]:c.push(Ys),f++}Pt=Xo===f}else Pt=!0;if(Pt)if(void 0!==kn.lte){const Xo=f;if("string"!=typeof kn.lte){const Ys={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1")+"/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/lte/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Ys]:c.push(Ys),f++}Pt=Xo===f}else Pt=!0}}}}}}}}else{const id={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[id]:c.push(id),f++}if((Oe=Bi===f)&&Cr)Cr=!1,Pr=[Pr,4];else{Oe&&(Cr=!0,Pr=4,!0!==je&&(je=!0));const id=f;if(f==f)if(kn&&"object"==typeof kn&&!Array.isArray(kn))if(Object.keys(kn).length<1){const Ys={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===c?c=[Ys]:c.push(Ys),f++}else{const Ys=f;for(const as in kn)if("gt"!==as&&"gte"!==as&&"lt"!==as&&"lte"!==as){const Di={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:as},message:"must NOT have additional properties"};null===c?c=[Di]:c.push(Di),f++;break}if(Ys===f){if(void 0!==kn.gt){const as=f,Di=f,cs=f;if(kn&&"object"==typeof kn&&!Array.isArray(kn)){let od;if(void 0===kn.gte&&(od="gte")){const Ic={};null===c?c=[Ic]:c.push(Ic),f++}}if(cs===f){const od={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[od]:c.push(od),f++}else f=Di,null!==c&&(Di?c.length=Di:c=null);var Kt=as===f}else Kt=!0;if(Kt){if(void 0!==kn.gte){const as=f,Di=f,cs=f;if(kn&&"object"==typeof kn&&!Array.isArray(kn)){let Ic;if(void 0===kn.gt&&(Ic="gt")){const Jc={};null===c?c=[Jc]:c.push(Jc),f++}}if(cs===f){const Ic={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[Ic]:c.push(Ic),f++}else f=Di,null!==c&&(Di?c.length=Di:c=null);Kt=as===f}else Kt=!0;if(Kt){if(void 0!==kn.lt){const as=f,Di=f,cs=f;if(kn&&"object"==typeof kn&&!Array.isArray(kn)){let Ic;if(void 0===kn.lte&&(Ic="lte")){const Jc={};null===c?c=[Jc]:c.push(Jc),f++}}if(cs===f){const Ic={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[Ic]:c.push(Ic),f++}else f=Di,null!==c&&(Di?c.length=Di:c=null);Kt=as===f}else Kt=!0;if(Kt){if(void 0!==kn.lte){const as=f,Di=f,cs=f;if(kn&&"object"==typeof kn&&!Array.isArray(kn)){let Ic;if(void 0===kn.lt&&(Ic="lt")){const Jc={};null===c?c=[Jc]:c.push(Jc),f++}}if(cs===f){const Ic={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"};null===c?c=[Ic]:c.push(Ic),f++}else f=Di,null!==c&&(Di?c.length=Di:c=null);Kt=as===f}else Kt=!0;if(Kt){if(void 0!==kn.gt){let as=kn.gt;const Di=f;if("number"!=typeof as||!isFinite(as)){const cs={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1")+"/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"};null===c?c=[cs]:c.push(cs),f++}var Rn=Di===f}else Rn=!0;if(Rn){if(void 0!==kn.gte){let as=kn.gte;const Di=f;if("number"!=typeof as||!isFinite(as)){const od={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1")+"/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"};null===c?c=[od]:c.push(od),f++}Rn=Di===f}else Rn=!0;if(Rn){if(void 0!==kn.lt){let as=kn.lt;const Di=f;if("number"!=typeof as||!isFinite(as)){const od={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1")+"/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"};null===c?c=[od]:c.push(od),f++}Rn=Di===f}else Rn=!0;if(Rn)if(void 0!==kn.lte){let as=kn.lte;const Di=f;if("number"!=typeof as||!isFinite(as)){const od={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1")+"/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"};null===c?c=[od]:c.push(od),f++}Rn=Di===f}else Rn=!0}}}}}}}}else{const Ys={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Ys]:c.push(Ys),f++}var Oe;(Oe=id===f)&&Cr?(Cr=!1,Pr=[Pr,5]):Oe&&(Cr=!0,Pr=5,!0!==je&&(je=!0))}}}}if(!Cr){const ui={instancePath:t+"/tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf",keyword:"oneOf",params:{passingSchemas:Pr},message:"must match exactly one schema in oneOf"};return null===c?c=[ui]:c.push(ui),f++,ai.errors=c,!1}if(f=mr,null!==c&&(mr?c.length=mr:c=null),qn!==f)break}}Re=dr===f}else Re=!0;if(Re){if(void 0!==r.recordId){const fn=f;if("string"!=typeof r.recordId)return ai.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Re=fn===f}else Re=!0;if(Re){if(void 0!==r.parentId){const fn=f;if("string"!=typeof r.parentId)return ai.errors=[{instancePath:t+"/parentId",schemaPath:"#/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Re=fn===f}else Re=!0;if(Re){if(void 0!==r.published){const fn=f;if("boolean"!=typeof r.published)return ai.errors=[{instancePath:t+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Re=fn===f}else Re=!0;if(Re){if(void 0!==r.dataFormat){const fn=f;if("string"!=typeof r.dataFormat)return ai.errors=[{instancePath:t+"/dataFormat",schemaPath:"#/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Re=fn===f}else Re=!0;if(Re){if(void 0!==r.dataSize){let fn=r.dataSize;const dr=f;if(f==f){if(!fn||"object"!=typeof fn||Array.isArray(fn))return ai.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(fn).length<1)return ai.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const kn=f;for(const qn in fn)if("gt"!==qn&&"gte"!==qn&&"lt"!==qn&&"lte"!==qn)return ai.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:qn},message:"must NOT have additional properties"}],!1;if(kn===f){if(void 0!==fn.gt){const qn=f,mr=f,Cr=f;if(fn&&"object"==typeof fn&&!Array.isArray(fn)){let Pr;if(void 0===fn.gte&&(Pr="gte")){const Mr={};null===c?c=[Mr]:c.push(Mr),f++}}if(Cr===f)return ai.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=mr,null!==c&&(mr?c.length=mr:c=null);var zn=qn===f}else zn=!0;if(zn){if(void 0!==fn.gte){const qn=f,mr=f,Cr=f;if(fn&&"object"==typeof fn&&!Array.isArray(fn)){let Mr;if(void 0===fn.gt&&(Mr="gt")){const Tr={};null===c?c=[Tr]:c.push(Tr),f++}}if(Cr===f)return ai.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=mr,null!==c&&(mr?c.length=mr:c=null),zn=qn===f}else zn=!0;if(zn){if(void 0!==fn.lt){const qn=f,mr=f,Cr=f;if(fn&&"object"==typeof fn&&!Array.isArray(fn)){let Mr;if(void 0===fn.lte&&(Mr="lte")){const Tr={};null===c?c=[Tr]:c.push(Tr),f++}}if(Cr===f)return ai.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=mr,null!==c&&(mr?c.length=mr:c=null),zn=qn===f}else zn=!0;if(zn){if(void 0!==fn.lte){const qn=f,mr=f,Cr=f;if(fn&&"object"==typeof fn&&!Array.isArray(fn)){let Mr;if(void 0===fn.lt&&(Mr="lt")){const Tr={};null===c?c=[Tr]:c.push(Tr),f++}}if(Cr===f)return ai.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=mr,null!==c&&(mr?c.length=mr:c=null),zn=qn===f}else zn=!0;if(zn){if(void 0!==fn.gt){let qn=fn.gt;const mr=f;if("number"!=typeof qn||!isFinite(qn))return ai.errors=[{instancePath:t+"/dataSize/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Nn=mr===f}else Nn=!0;if(Nn){if(void 0!==fn.gte){let qn=fn.gte;const mr=f;if("number"!=typeof qn||!isFinite(qn))return ai.errors=[{instancePath:t+"/dataSize/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Nn=mr===f}else Nn=!0;if(Nn){if(void 0!==fn.lt){let qn=fn.lt;const mr=f;if("number"!=typeof qn||!isFinite(qn))return ai.errors=[{instancePath:t+"/dataSize/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Nn=mr===f}else Nn=!0;if(Nn)if(void 0!==fn.lte){let qn=fn.lte;const mr=f;if("number"!=typeof qn||!isFinite(qn))return ai.errors=[{instancePath:t+"/dataSize/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Nn=mr===f}else Nn=!0}}}}}}}}}Re=dr===f}else Re=!0;if(Re){if(void 0!==r.dataCid){const fn=f;if("string"!=typeof r.dataCid)return ai.errors=[{instancePath:t+"/dataCid",schemaPath:"#/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Re=fn===f}else Re=!0;if(Re){if(void 0!==r.dateCreated){let fn=r.dateCreated;const dr=f;if(f===dr){if(!fn||"object"!=typeof fn||Array.isArray(fn))return ai.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(fn).length<1)return ai.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Xn=f;for(const kn in fn)if("from"!==kn&&"to"!==kn)return ai.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:kn},message:"must NOT have additional properties"}],!1;if(Xn===f){if(void 0!==fn.from){let kn=fn.from;const qn=f;if(f==f){if("string"!=typeof kn)return ai.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(kn))return ai.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var xn=qn===f}else xn=!0;if(xn)if(void 0!==fn.to){let kn=fn.to;const qn=f;if(f==f){if("string"!=typeof kn)return ai.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(kn))return ai.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}xn=qn===f}else xn=!0}}}Re=dr===f}else Re=!0;if(Re){if(void 0!==r.datePublished){let fn=r.datePublished;const dr=f;if(f===dr){if(!fn||"object"!=typeof fn||Array.isArray(fn))return ai.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(fn).length<1)return ai.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Xn=f;for(const kn in fn)if("from"!==kn&&"to"!==kn)return ai.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:kn},message:"must NOT have additional properties"}],!1;if(Xn===f){if(void 0!==fn.from){let kn=fn.from;const qn=f;if(f==f){if("string"!=typeof kn)return ai.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(kn))return ai.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var jn=qn===f}else jn=!0;if(jn)if(void 0!==fn.to){let kn=fn.to;const qn=f;if(f==f){if("string"!=typeof kn)return ai.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(kn))return ai.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}jn=qn===f}else jn=!0}}}Re=dr===f}else Re=!0;if(Re)if(void 0!==r.dateUpdated){let fn=r.dateUpdated;const dr=f;if(f===dr){if(!fn||"object"!=typeof fn||Array.isArray(fn))return ai.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(fn).length<1)return ai.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Xn=f;for(const kn in fn)if("from"!==kn&&"to"!==kn)return ai.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:kn},message:"must NOT have additional properties"}],!1;if(Xn===f){if(void 0!==fn.from){let kn=fn.from;const qn=f;if(f==f){if("string"!=typeof kn)return ai.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(kn))return ai.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var lr=qn===f}else lr=!0;if(lr)if(void 0!==fn.to){let kn=fn.to;const qn=f;if(f==f){if("string"!=typeof kn)return ai.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(kn))return ai.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}lr=qn===f}else lr=!0}}}Re=dr===f}else Re=!0}}}}}}}}}}}}}}}}}}}return ai.errors=c,0===f}function Hs(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){let c=null,f=0;const V=Hs.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Hs.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Re;if(void 0===r.descriptor&&(Re="descriptor"))return Hs.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Re},message:"must have required property '"+Re+"'"}],!1;{const Oe=f;for(const je in r)if("authorization"!==je&&"descriptor"!==je)return Hs.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:je},message:"must NOT have additional properties"}],!1;if(Oe===f){if(void 0!==r.authorization){const je=f;Qc(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:h})||(c=null===c?Qc.errors:c.concat(Qc.errors),f=c.length);var $=je===f}else $=!0;if($)if(void 0!==r.descriptor){let je=r.descriptor;const et=f;if(f===et){if(!je||"object"!=typeof je||Array.isArray(je))return Hs.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let at;if(void 0===je.interface&&(at="interface")||void 0===je.method&&(at="method")||void 0===je.messageTimestamp&&(at="messageTimestamp")||void 0===je.filter&&(at="filter"))return Hs.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:at},message:"must have required property '"+at+"'"}],!1;{const dt=f;for(const Mt in je)if("interface"!==Mt&&"method"!==Mt&&"messageTimestamp"!==Mt&&"filter"!==Mt&&"pagination"!==Mt&&"dateSort"!==Mt)return Hs.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Mt},message:"must NOT have additional properties"}],!1;if(dt===f){if(void 0!==je.interface){let Mt=je.interface;const Pt=f;if("string"!=typeof Mt)return Hs.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==Mt)return Hs.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:$E.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var D=Pt===f}else D=!0;if(D){if(void 0!==je.method){let Mt=je.method;const Pt=f;if("string"!=typeof Mt)return Hs.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==Mt)return Hs.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:$E.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;D=Pt===f}else D=!0;if(D){if(void 0!==je.messageTimestamp){let Mt=je.messageTimestamp;const Pt=f;if(f==f){if("string"!=typeof Mt)return Hs.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(Mt))return Hs.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}D=Pt===f}else D=!0;if(D){if(void 0!==je.filter){const Mt=f;ai(je.filter,{instancePath:t+"/descriptor/filter",parentData:je,parentDataProperty:"filter",rootData:l,dynamicAnchors:h})||(c=null===c?ai.errors:c.concat(ai.errors),f=c.length),D=Mt===f}else D=!0;if(D){if(void 0!==je.pagination){let Mt=je.pagination;const Pt=f;if(f===Pt){if(!Mt||"object"!=typeof Mt||Array.isArray(Mt))return Hs.errors=[{instancePath:t+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Kt=f;for(const Wt in Mt)if("limit"!==Wt&&"cursor"!==Wt)return Hs.errors=[{instancePath:t+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Wt},message:"must NOT have additional properties"}],!1;if(Kt===f){if(void 0!==Mt.limit){let Wt=Mt.limit;const En=f;if(f===En){if("number"!=typeof Wt||!isFinite(Wt))return Hs.errors=[{instancePath:t+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(Wt<1||isNaN(Wt))return Hs.errors=[{instancePath:t+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"}],!1}var q=En===f}else q=!0;if(q)if(void 0!==Mt.cursor){let Wt=Mt.cursor;const En=f;if(f==f){if(!Wt||"object"!=typeof Wt||Array.isArray(Wt))return Hs.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Wt).length<1)return Hs.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let rr;if(void 0===Wt.messageCid&&(rr="messageCid")||void 0===Wt.value&&(rr="value"))return Hs.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:rr},message:"must have required property '"+rr+"'"}],!1;{const Pn=f;for(const zn in Wt)if("messageCid"!==zn&&"value"!==zn)return Hs.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:zn},message:"must NOT have additional properties"}],!1;if(Pn===f){if(void 0!==Wt.messageCid){const zn=f;if("string"!=typeof Wt.messageCid)return Hs.errors=[{instancePath:t+"/descriptor/pagination/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var De=zn===f}else De=!0;if(De)if(void 0!==Wt.value){let zn=Wt.value;const on=f;if("string"!=typeof zn&&("number"!=typeof zn||!isFinite(zn)))return Hs.errors=[{instancePath:t+"/descriptor/pagination/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:KE.properties.value.type},message:"must be string,number"}],!1;De=on===f}else De=!0}}}}q=En===f}else q=!0}}}D=Pt===f}else D=!0;if(D)if(void 0!==je.dateSort){let Mt=je.dateSort;const Pt=f;if("string"!=typeof Mt)return Hs.errors=[{instancePath:t+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("createdAscending"!==Mt&&"createdDescending"!==Mt&&"publishedAscending"!==Mt&&"publishedDescending"!==Mt)return Hs.errors=[{instancePath:t+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/enum",keyword:"enum",params:{allowedValues:$E.properties.descriptor.properties.dateSort.enum},message:"must be equal to one of the allowed values"}],!1;D=Pt===f}else D=!0}}}}}}}}$=et===f}else $=!0}}}}return Hs.errors=c,0===f}ai.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},Hs.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const zE=gl,HE={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-subscribe.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Subscribe"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function gl(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){let c=null,f=0;const V=gl.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return gl.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let q;if(void 0===r.descriptor&&(q="descriptor"))return gl.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:q},message:"must have required property '"+q+"'"}],!1;{const De=f;for(const Re in r)if("authorization"!==Re&&"descriptor"!==Re)return gl.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Re},message:"must NOT have additional properties"}],!1;if(De===f){if(void 0!==r.authorization){const Re=f;Qc(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:h})||(c=null===c?Qc.errors:c.concat(Qc.errors),f=c.length);var $=Re===f}else $=!0;if($)if(void 0!==r.descriptor){let Re=r.descriptor;const Oe=f;if(f===Oe){if(!Re||"object"!=typeof Re||Array.isArray(Re))return gl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let et;if(void 0===Re.interface&&(et="interface")||void 0===Re.method&&(et="method")||void 0===Re.messageTimestamp&&(et="messageTimestamp")||void 0===Re.filter&&(et="filter"))return gl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:et},message:"must have required property '"+et+"'"}],!1;{const ft=f;for(const at in Re)if("interface"!==at&&"method"!==at&&"messageTimestamp"!==at&&"filter"!==at)return gl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:at},message:"must NOT have additional properties"}],!1;if(ft===f){if(void 0!==Re.interface){let at=Re.interface;const dt=f;if("string"!=typeof at)return gl.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==at)return gl.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:HE.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var D=dt===f}else D=!0;if(D){if(void 0!==Re.method){let at=Re.method;const dt=f;if("string"!=typeof at)return gl.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Subscribe"!==at)return gl.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:HE.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;D=dt===f}else D=!0;if(D){if(void 0!==Re.messageTimestamp){let at=Re.messageTimestamp;const dt=f;if(f==f){if("string"!=typeof at)return gl.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(at))return gl.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}D=dt===f}else D=!0;if(D)if(void 0!==Re.filter){const at=f;ai(Re.filter,{instancePath:t+"/descriptor/filter",parentData:Re,parentDataProperty:"filter",rootData:l,dynamicAnchors:h})||(c=null===c?ai.errors:c.concat(ai.errors),f=c.length),D=at===f}else D=!0}}}}}}$=Oe===f}else $=!0}}}}return gl.errors=c,0===f}gl.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const $w=Nm;function Nm(r,{instancePath:t="",parentData:n,parentDataProperty:i,rootData:l=r,dynamicAnchors:h={}}={}){let c=null,f=0;const V=Nm.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),ni(r,{instancePath:t,parentData:n,parentDataProperty:i,rootData:l,dynamicAnchors:h}))var $=ni.evaluated.props;else c=null===c?ni.errors:c.concat(ni.errors),f=c.length;if(0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Nm.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let D;if(void 0===r.recordId&&(D="recordId")||void 0===r.authorization&&(D="authorization"))return Nm.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:D},message:"must have required property '"+D+"'"}],!1;if(!0!==$)for(const q in r)if(!$||!$[q])return Nm.errors=[{instancePath:t,schemaPath:"#/unevaluatedProperties",keyword:"unevaluatedProperties",params:{unevaluatedProperty:q},message:"must NOT have unevaluated properties"}],!1}}return Nm.errors=c,0===f}Nm.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const C6=hd,Bc=ni,vA=Wh;function Wh(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){const V=Wh.evaluated;return V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(Wh.errors=null,!0):(Wh.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}Wh.evaluated={dynamicProps:!1,dynamicItems:!1};const k6=vl;function vl(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){let c=null,f=0;const V=vl.evaluated;V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0);const $=f;let D=!1,q=null;const De=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Pt;if(void 0===r.crv&&(Pt="crv")||void 0===r.x&&(Pt="x")){const Dt={instancePath:t,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:Pt},message:"must have required property '"+Pt+"'"};null===c?c=[Dt]:c.push(Dt),f++}else{if(void 0!==r.kty){const Dt=f;if("EC"!==r.kty){const Kt={instancePath:t+"/kty",schemaPath:"#/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===c?c=[Kt]:c.push(Kt),f++}var Re=Dt===f}else Re=!0;if(Re){if(void 0!==r.crv){const Dt=f;if("string"!=typeof r.crv){const Wt={instancePath:t+"/crv",schemaPath:"#/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Wt]:c.push(Wt),f++}Re=Dt===f}else Re=!0;if(Re){if(void 0!==r.x){const Dt=f;if("string"!=typeof r.x){const Wt={instancePath:t+"/x",schemaPath:"#/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Wt]:c.push(Wt),f++}Re=Dt===f}else Re=!0;if(Re){if(void 0!==r.y){const Dt=f;if("string"!=typeof r.y){const Wt={instancePath:t+"/y",schemaPath:"#/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Wt]:c.push(Wt),f++}Re=Dt===f}else Re=!0;if(Re)if(void 0!==r.d){const Dt=f;if("string"!=typeof r.d){const Wt={instancePath:t+"/d",schemaPath:"#/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Wt]:c.push(Wt),f++}Re=Dt===f}else Re=!0}}}}}if(ft=De===f){D=!0,q=0;var Oe={kty:!0,crv:!0,x:!0,y:!0,d:!0}}const je=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Pt;if(void 0===r.crv&&(Pt="crv")||void 0===r.x&&(Pt="x")){const Dt={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:Pt},message:"must have required property '"+Pt+"'"};null===c?c=[Dt]:c.push(Dt),f++}else{if(void 0!==r.kty){const Dt=f;if("OKP"!==r.kty){const Kt={instancePath:t+"/kty",schemaPath:"#/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===c?c=[Kt]:c.push(Kt),f++}var et=Dt===f}else et=!0;if(et){if(void 0!==r.crv){const Dt=f;if("string"!=typeof r.crv){const Wt={instancePath:t+"/crv",schemaPath:"#/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Wt]:c.push(Wt),f++}et=Dt===f}else et=!0;if(et){if(void 0!==r.x){const Dt=f;if("string"!=typeof r.x){const Wt={instancePath:t+"/x",schemaPath:"#/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Wt]:c.push(Wt),f++}et=Dt===f}else et=!0;if(et)if(void 0!==r.d){const Dt=f;if("string"!=typeof r.d){const Wt={instancePath:t+"/d",schemaPath:"#/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Wt]:c.push(Wt),f++}et=Dt===f}else et=!0}}}}if((ft=je===f)&&D)D=!1,q=[q,1];else{ft&&(D=!0,q=1,!0!==Oe&&((Oe=Oe||{}).kty=!0,Oe.crv=!0,Oe.x=!0,Oe.d=!0));const Pt=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Kt;if(void 0===r.n&&(Kt="n")||void 0===r.e&&(Kt="e")){const Wt={instancePath:t,schemaPath:"#/oneOf/2/required",keyword:"required",params:{missingProperty:Kt},message:"must have required property '"+Kt+"'"};null===c?c=[Wt]:c.push(Wt),f++}else{if(void 0!==r.kty){const Wt=f;if("RSA"!==r.kty){const En={instancePath:t+"/kty",schemaPath:"#/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===c?c=[En]:c.push(En),f++}var at=Wt===f}else at=!0;if(at){if(void 0!==r.n){const Wt=f;if("string"!=typeof r.n){const Tn={instancePath:t+"/n",schemaPath:"#/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Tn]:c.push(Tn),f++}at=Wt===f}else at=!0;if(at){if(void 0!==r.e){const Wt=f;if("string"!=typeof r.e){const Tn={instancePath:t+"/e",schemaPath:"#/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Tn]:c.push(Tn),f++}at=Wt===f}else at=!0;if(at){if(void 0!==r.d){const Wt=f;if("string"!=typeof r.d){const Tn={instancePath:t+"/d",schemaPath:"#/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Tn]:c.push(Tn),f++}at=Wt===f}else at=!0;if(at){if(void 0!==r.p){const Wt=f;if("string"!=typeof r.p){const Tn={instancePath:t+"/p",schemaPath:"#/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Tn]:c.push(Tn),f++}at=Wt===f}else at=!0;if(at){if(void 0!==r.q){const Wt=f;if("string"!=typeof r.q){const Tn={instancePath:t+"/q",schemaPath:"#/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Tn]:c.push(Tn),f++}at=Wt===f}else at=!0;if(at){if(void 0!==r.dp){const Wt=f;if("string"!=typeof r.dp){const Tn={instancePath:t+"/dp",schemaPath:"#/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Tn]:c.push(Tn),f++}at=Wt===f}else at=!0;if(at){if(void 0!==r.dq){const Wt=f;if("string"!=typeof r.dq){const Tn={instancePath:t+"/dq",schemaPath:"#/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Tn]:c.push(Tn),f++}at=Wt===f}else at=!0;if(at){if(void 0!==r.qi){const Wt=f;if("string"!=typeof r.qi){const Tn={instancePath:t+"/qi",schemaPath:"#/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Tn]:c.push(Tn),f++}at=Wt===f}else at=!0;if(at)if(void 0!==r.oth){let Wt=r.oth;const En=f;if(!Wt||"object"!=typeof Wt||Array.isArray(Wt)){const Rn={instancePath:t+"/oth",schemaPath:"#/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Rn]:c.push(Rn),f++}at=En===f}else at=!0}}}}}}}}}}if((ft=Pt===f)&&D)D=!1,q=[q,2];else{ft&&(D=!0,q=2,!0!==Oe&&((Oe=Oe||{}).kty=!0,Oe.n=!0,Oe.e=!0,Oe.d=!0,Oe.p=!0,Oe.q=!0,Oe.dp=!0,Oe.dq=!0,Oe.qi=!0,Oe.oth=!0));const Kt=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let En;if(void 0===r.k&&(En="k")){const Tn={instancePath:t,schemaPath:"#/oneOf/3/required",keyword:"required",params:{missingProperty:En},message:"must have required property '"+En+"'"};null===c?c=[Tn]:c.push(Tn),f++}else{if(void 0!==r.kty){const Tn=f;if("oct"!==r.kty){const Rn={instancePath:t+"/kty",schemaPath:"#/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===c?c=[Rn]:c.push(Rn),f++}var dt=Tn===f}else dt=!0;if(dt)if(void 0!==r.k){const Tn=f;if("string"!=typeof r.k){const rr={instancePath:t+"/k",schemaPath:"#/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[rr]:c.push(rr),f++}dt=Tn===f}else dt=!0}}var ft;(ft=Kt===f)&&D?(D=!1,q=[q,3]):ft&&(D=!0,q=3,!0!==Oe&&((Oe=Oe||{}).kty=!0,Oe.k=!0))}}if(!D){const Pt={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:q},message:"must match exactly one schema in oneOf"};return null===c?c=[Pt]:c.push(Pt),f++,vl.errors=c,!1}if(f=$,null!==c&&($?c.length=$:c=null),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return vl.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Pt;if(void 0===r.kty&&(Pt="kty"))return vl.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Pt},message:"must have required property '"+Pt+"'"}],!1;if(!0!==Oe&&((Oe=Oe||{}).alg=!0,Oe.kid=!0,Oe.kty=!0,Oe.crv=!0,Oe.use=!0,Oe.key_ops=!0,Oe.x5u=!0,Oe.x5c=!0,Oe.x5t=!0,Oe["x5t#S256"]=!0),void 0!==r.alg){const Dt=f;if("string"!=typeof r.alg)return vl.errors=[{instancePath:t+"/alg",schemaPath:"#/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Mt=Dt===f}else Mt=!0;if(Mt){if(void 0!==r.kid){const Dt=f;if("string"!=typeof r.kid)return vl.errors=[{instancePath:t+"/kid",schemaPath:"#/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Mt=Dt===f}else Mt=!0;if(Mt){if(void 0!==r.kty){let Dt=r.kty;const Kt=f;if("EC"!==Dt&&"RSA"!==Dt&&"oct"!==Dt&&"OKP"!==Dt)return vl.errors=[{instancePath:t+"/kty",schemaPath:"#/properties/kty/enum",keyword:"enum",params:{allowedValues:UE.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;Mt=Kt===f}else Mt=!0;if(Mt){if(void 0!==r.crv){const Dt=f;if("string"!=typeof r.crv)return vl.errors=[{instancePath:t+"/crv",schemaPath:"#/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Mt=Dt===f}else Mt=!0;if(Mt){if(void 0!==r.use){const Dt=f;if("string"!=typeof r.use)return vl.errors=[{instancePath:t+"/use",schemaPath:"#/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Mt=Dt===f}else Mt=!0;if(Mt){if(void 0!==r.key_ops){const Dt=f;if("string"!=typeof r.key_ops)return vl.errors=[{instancePath:t+"/key_ops",schemaPath:"#/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Mt=Dt===f}else Mt=!0;if(Mt){if(void 0!==r.x5u){const Dt=f;if("string"!=typeof r.x5u)return vl.errors=[{instancePath:t+"/x5u",schemaPath:"#/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Mt=Dt===f}else Mt=!0;if(Mt){if(void 0!==r.x5c){const Dt=f;if("string"!=typeof r.x5c)return vl.errors=[{instancePath:t+"/x5c",schemaPath:"#/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Mt=Dt===f}else Mt=!0;if(Mt){if(void 0!==r.x5t){const Dt=f;if("string"!=typeof r.x5t)return vl.errors=[{instancePath:t+"/x5t",schemaPath:"#/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Mt=Dt===f}else Mt=!0;if(Mt)if(void 0!==r["x5t#S256"]){const Dt=f;if("string"!=typeof r["x5t#S256"])return vl.errors=[{instancePath:t+"/x5t#S256",schemaPath:"#/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Mt=Dt===f}else Mt=!0}}}}}}}}}}return vl.errors=c,V.props=Oe,0===f}vl.evaluated={dynamicProps:!0,dynamicItems:!1};const P6=Ri,O6=Tf,R6={$id:"https://identity.foundation/dwn/json-schemas/jwk-verification-method.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",additionalProperties:!1,required:["id","type","controller","publicKeyJwk"],properties:{id:{type:"string"},type:{enum:["JsonWebKey","JsonWebKey2020"]},controller:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}}};function Tf(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){let c=null,f=0;const V=Tf.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Tf.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let D;if(void 0===r.id&&(D="id")||void 0===r.type&&(D="type")||void 0===r.controller&&(D="controller")||void 0===r.publicKeyJwk&&(D="publicKeyJwk"))return Tf.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:D},message:"must have required property '"+D+"'"}],!1;{const q=f;for(const De in r)if("id"!==De&&"type"!==De&&"controller"!==De&&"publicKeyJwk"!==De)return Tf.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:De},message:"must NOT have additional properties"}],!1;if(q===f){if(void 0!==r.id){const De=f;if("string"!=typeof r.id)return Tf.errors=[{instancePath:t+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $=De===f}else $=!0;if($){if(void 0!==r.type){let De=r.type;const Re=f;if("JsonWebKey"!==De&&"JsonWebKey2020"!==De)return Tf.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/enum",keyword:"enum",params:{allowedValues:R6.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;$=Re===f}else $=!0;if($){if(void 0!==r.controller){let De=r.controller;const Re=f;if(f==f){if("string"!=typeof De)return Tf.errors=[{instancePath:t+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Bm.test(De))return Tf.errors=[{instancePath:t+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}$=Re===f}else $=!0;if($)if(void 0!==r.publicKeyJwk){const De=f;Qo(r.publicKeyJwk,{instancePath:t+"/publicKeyJwk",parentData:r,parentDataProperty:"publicKeyJwk",rootData:l,dynamicAnchors:h})||(c=null===c?Qo.errors:c.concat(Qo.errors),f=c.length),$=De===f}else $=!0}}}}}}return Tf.errors=c,0===f}Tf.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const WE=fo,lv={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-filter.json",type:"object",additionalProperties:!1,minProperties:1,properties:{interface:{enum:["Protocols","Records"],type:"string"},method:{enum:["Configure","Delete","Write"],type:"string"},protocol:{type:"string"},messageTimestamp:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}}}};function fo(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){const V=fo.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return fo.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return fo.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const q=0;for(const De in r)if("interface"!==De&&"method"!==De&&"protocol"!==De&&"messageTimestamp"!==De)return fo.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:De},message:"must NOT have additional properties"}],!1;if(0===q){if(void 0!==r.interface){let De=r.interface;const Re=0;if("string"!=typeof De)return fo.errors=[{instancePath:t+"/interface",schemaPath:"#/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==De&&"Records"!==De)return fo.errors=[{instancePath:t+"/interface",schemaPath:"#/properties/interface/enum",keyword:"enum",params:{allowedValues:lv.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var $=0===Re}else $=!0;if($){if(void 0!==r.method){let De=r.method;const Re=0;if("string"!=typeof De)return fo.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Configure"!==De&&"Delete"!==De&&"Write"!==De)return fo.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/enum",keyword:"enum",params:{allowedValues:lv.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;$=0===Re}else $=!0;if($){if(void 0!==r.protocol){const De=0;if("string"!=typeof r.protocol)return fo.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===De}else $=!0;if($)if(void 0!==r.messageTimestamp){let De=r.messageTimestamp;const Re=0;if(0===Re){if(!De||"object"!=typeof De||Array.isArray(De))return fo.errors=[{instancePath:t+"/messageTimestamp",schemaPath:"#/properties/messageTimestamp/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(De).length<1)return fo.errors=[{instancePath:t+"/messageTimestamp",schemaPath:"#/properties/messageTimestamp/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const je=0;for(const et in De)if("from"!==et&&"to"!==et)return fo.errors=[{instancePath:t+"/messageTimestamp",schemaPath:"#/properties/messageTimestamp/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:et},message:"must NOT have additional properties"}],!1;if(0===je){if(void 0!==De.from){let et=De.from;const ft=0;if("string"!=typeof et)return fo.errors=[{instancePath:t+"/messageTimestamp/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(et))return fo.errors=[{instancePath:t+"/messageTimestamp/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1;var D=0===ft}else D=!0;if(D)if(void 0!==De.to){let et=De.to;const ft=0;if("string"!=typeof et)return fo.errors=[{instancePath:t+"/messageTimestamp/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(et))return fo.errors=[{instancePath:t+"/messageTimestamp/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1;D=0===ft}else D=!0}}}$=0===Re}else $=!0}}}}return fo.errors=null,!0}fo.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const $r=Do,Ni={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-query.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filters"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filters:{type:"array",items:{$ref:"https://identity.foundation/dwn/json-schemas/messages-filter.json"}},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}}}};function Do(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){let c=null,f=0;const V=Do.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Do.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Re;if(void 0===r.authorization&&(Re="authorization")||void 0===r.descriptor&&(Re="descriptor"))return Do.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Re},message:"must have required property '"+Re+"'"}],!1;{const Oe=f;for(const je in r)if("authorization"!==je&&"descriptor"!==je)return Do.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:je},message:"must NOT have additional properties"}],!1;if(Oe===f){if(void 0!==r.authorization){const je=f;zs(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:h})||(c=null===c?zs.errors:c.concat(zs.errors),f=c.length);var $=je===f}else $=!0;if($)if(void 0!==r.descriptor){let je=r.descriptor;const et=f;if(f===et){if(!je||"object"!=typeof je||Array.isArray(je))return Do.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let at;if(void 0===je.interface&&(at="interface")||void 0===je.method&&(at="method")||void 0===je.messageTimestamp&&(at="messageTimestamp")||void 0===je.filters&&(at="filters"))return Do.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:at},message:"must have required property '"+at+"'"}],!1;{const dt=f;for(const Mt in je)if("interface"!==Mt&&"method"!==Mt&&"messageTimestamp"!==Mt&&"filters"!==Mt&&"cursor"!==Mt)return Do.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Mt},message:"must NOT have additional properties"}],!1;if(dt===f){if(void 0!==je.interface){let Mt=je.interface;const Pt=f;if("string"!=typeof Mt)return Do.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Messages"!==Mt)return Do.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Ni.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var D=Pt===f}else D=!0;if(D){if(void 0!==je.method){let Mt=je.method;const Pt=f;if("string"!=typeof Mt)return Do.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==Mt)return Do.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Ni.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;D=Pt===f}else D=!0;if(D){if(void 0!==je.messageTimestamp){let Mt=je.messageTimestamp;const Pt=f;if(f==f){if("string"!=typeof Mt)return Do.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(Mt))return Do.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}D=Pt===f}else D=!0;if(D){if(void 0!==je.filters){let Mt=je.filters;const Pt=f;if(f===Pt){if(!Array.isArray(Mt))return Do.errors=[{instancePath:t+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const Kt=Mt.length;for(let Wt=0;Wt<Kt;Wt++){const En=f;if(fo(Mt[Wt],{instancePath:t+"/descriptor/filters/"+Wt,parentData:Mt,parentDataProperty:Wt,rootData:l,dynamicAnchors:h})||(c=null===c?fo.errors:c.concat(fo.errors),f=c.length),En!==f)break}}}D=Pt===f}else D=!0;if(D)if(void 0!==je.cursor){let Mt=je.cursor;const Pt=f;if(f==f){if(!Mt||"object"!=typeof Mt||Array.isArray(Mt))return Do.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Mt).length<1)return Do.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let Wt;if(void 0===Mt.messageCid&&(Wt="messageCid")||void 0===Mt.value&&(Wt="value"))return Do.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:Wt},message:"must have required property '"+Wt+"'"}],!1;{const En=f;for(const Tn in Mt)if("messageCid"!==Tn&&"value"!==Tn)return Do.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Tn},message:"must NOT have additional properties"}],!1;if(En===f){if(void 0!==Mt.messageCid){const Tn=f;if("string"!=typeof Mt.messageCid)return Do.errors=[{instancePath:t+"/descriptor/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var De=Tn===f}else De=!0;if(De)if(void 0!==Mt.value){let Tn=Mt.value;const Rn=f;if("string"!=typeof Tn&&("number"!=typeof Tn||!isFinite(Tn)))return Do.errors=[{instancePath:t+"/descriptor/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:KE.properties.value.type},message:"must be string,number"}],!1;De=Rn===f}else De=!0}}}}D=Pt===f}else D=!0}}}}}}}$=et===f}else $=!0}}}}return Do.errors=c,0===f}Do.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const If=As,el={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-read.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Read"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},messageCid:{type:"string"}}}}};function As(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){let c=null,f=0;const V=As.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return As.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let q;if(void 0===r.authorization&&(q="authorization")||void 0===r.descriptor&&(q="descriptor"))return As.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:q},message:"must have required property '"+q+"'"}],!1;{const De=f;for(const Re in r)if("authorization"!==Re&&"descriptor"!==Re)return As.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Re},message:"must NOT have additional properties"}],!1;if(De===f){if(void 0!==r.authorization){const Re=f;zs(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:h})||(c=null===c?zs.errors:c.concat(zs.errors),f=c.length);var $=Re===f}else $=!0;if($)if(void 0!==r.descriptor){let Re=r.descriptor;const Oe=f;if(f===Oe){if(!Re||"object"!=typeof Re||Array.isArray(Re))return As.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let et;if(void 0===Re.interface&&(et="interface")||void 0===Re.method&&(et="method")||void 0===Re.messageTimestamp&&(et="messageTimestamp"))return As.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:et},message:"must have required property '"+et+"'"}],!1;{const ft=f;for(const at in Re)if("interface"!==at&&"method"!==at&&"messageTimestamp"!==at&&"messageCid"!==at)return As.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:at},message:"must NOT have additional properties"}],!1;if(ft===f){if(void 0!==Re.interface){let at=Re.interface;const dt=f;if("string"!=typeof at)return As.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Messages"!==at)return As.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:el.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var D=dt===f}else D=!0;if(D){if(void 0!==Re.method){let at=Re.method;const dt=f;if("string"!=typeof at)return As.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Read"!==at)return As.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:el.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;D=dt===f}else D=!0;if(D){if(void 0!==Re.messageTimestamp){let at=Re.messageTimestamp;const dt=f;if(f==f){if("string"!=typeof at)return As.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(at))return As.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}D=dt===f}else D=!0;if(D)if(void 0!==Re.messageCid){const at=f;if("string"!=typeof Re.messageCid)return As.errors=[{instancePath:t+"/descriptor/messageCid",schemaPath:"#/properties/descriptor/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;D=at===f}else D=!0}}}}}}$=Oe===f}else $=!0}}}}return As.errors=c,0===f}As.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const hy=os,na={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-subscribe.json",type:"object",additionalProperties:!1,required:["descriptor","authorization"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filters"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Subscribe"],type:"string"},messageTimestamp:{type:"string"},filters:{type:"array",items:{$ref:"https://identity.foundation/dwn/json-schemas/messages-filter.json"}}}}}};function os(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){let c=null,f=0;const V=os.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return os.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let De;if(void 0===r.descriptor&&(De="descriptor")||void 0===r.authorization&&(De="authorization"))return os.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:De},message:"must have required property '"+De+"'"}],!1;{const Re=f;for(const Oe in r)if("authorization"!==Oe&&"descriptor"!==Oe)return os.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Oe},message:"must NOT have additional properties"}],!1;if(Re===f){if(void 0!==r.authorization){const Oe=f;zs(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:h})||(c=null===c?zs.errors:c.concat(zs.errors),f=c.length);var $=Oe===f}else $=!0;if($)if(void 0!==r.descriptor){let Oe=r.descriptor;const je=f;if(f===je){if(!Oe||"object"!=typeof Oe||Array.isArray(Oe))return os.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ft;if(void 0===Oe.interface&&(ft="interface")||void 0===Oe.method&&(ft="method")||void 0===Oe.messageTimestamp&&(ft="messageTimestamp")||void 0===Oe.filters&&(ft="filters"))return os.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:ft},message:"must have required property '"+ft+"'"}],!1;{const at=f;for(const dt in Oe)if("interface"!==dt&&"method"!==dt&&"messageTimestamp"!==dt&&"filters"!==dt)return os.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:dt},message:"must NOT have additional properties"}],!1;if(at===f){if(void 0!==Oe.interface){let dt=Oe.interface;const Mt=f;if("string"!=typeof dt)return os.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Messages"!==dt)return os.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:na.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var D=Mt===f}else D=!0;if(D){if(void 0!==Oe.method){let dt=Oe.method;const Mt=f;if("string"!=typeof dt)return os.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Subscribe"!==dt)return os.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:na.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;D=Mt===f}else D=!0;if(D){if(void 0!==Oe.messageTimestamp){const dt=f;if("string"!=typeof Oe.messageTimestamp)return os.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;D=dt===f}else D=!0;if(D)if(void 0!==Oe.filters){let dt=Oe.filters;const Mt=f;if(f===Mt){if(!Array.isArray(dt))return os.errors=[{instancePath:t+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const Dt=dt.length;for(let Kt=0;Kt<Dt;Kt++){const Wt=f;if(fo(dt[Kt],{instancePath:t+"/descriptor/filters/"+Kt,parentData:dt,parentDataProperty:Kt,rootData:l,dynamicAnchors:h})||(c=null===c?fo.errors:c.concat(fo.errors),f=c.length),Wt!==f)break}}}D=Mt===f}else D=!0}}}}}}$=je===f}else $=!0}}}}return os.errors=c,0===f}os.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const lh=_i;function _i(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){let c=null,f=0;const V=_i.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return _i.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return _i.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const je=f;for(const et in r)if("gt"!==et&&"gte"!==et&&"lt"!==et&&"lte"!==et)return _i.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:et},message:"must NOT have additional properties"}],!1;if(je===f){if(void 0!==r.gt){const et=f,ft=f,at=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let dt;if(void 0===r.gte&&(dt="gte")){const Mt={};null===c?c=[Mt]:c.push(Mt),f++}}if(at===f)return _i.errors=[{instancePath:t,schemaPath:"#/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=ft,null!==c&&(ft?c.length=ft:c=null);var D=et===f}else D=!0;if(D){if(void 0!==r.gte){const et=f,ft=f,at=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Mt;if(void 0===r.gt&&(Mt="gt")){const Pt={};null===c?c=[Pt]:c.push(Pt),f++}}if(at===f)return _i.errors=[{instancePath:t,schemaPath:"#/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=ft,null!==c&&(ft?c.length=ft:c=null),D=et===f}else D=!0;if(D){if(void 0!==r.lt){const et=f,ft=f,at=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Mt;if(void 0===r.lte&&(Mt="lte")){const Pt={};null===c?c=[Pt]:c.push(Pt),f++}}if(at===f)return _i.errors=[{instancePath:t,schemaPath:"#/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=ft,null!==c&&(ft?c.length=ft:c=null),D=et===f}else D=!0;if(D){if(void 0!==r.lte){const et=f,ft=f,at=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Mt;if(void 0===r.lt&&(Mt="lt")){const Pt={};null===c?c=[Pt]:c.push(Pt),f++}}if(at===f)return _i.errors=[{instancePath:t,schemaPath:"#/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=ft,null!==c&&(ft?c.length=ft:c=null),D=et===f}else D=!0;if(D){if(void 0!==r.gt){let et=r.gt;const ft=f;if("number"!=typeof et||!isFinite(et))return _i.errors=[{instancePath:t+"/gt",schemaPath:"#/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Oe=ft===f}else Oe=!0;if(Oe){if(void 0!==r.gte){let et=r.gte;const ft=f;if("number"!=typeof et||!isFinite(et))return _i.errors=[{instancePath:t+"/gte",schemaPath:"#/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Oe=ft===f}else Oe=!0;if(Oe){if(void 0!==r.lt){let et=r.lt;const ft=f;if("number"!=typeof et||!isFinite(et))return _i.errors=[{instancePath:t+"/lt",schemaPath:"#/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Oe=ft===f}else Oe=!0;if(Oe)if(void 0!==r.lte){let et=r.lte;const ft=f;if("number"!=typeof et||!isFinite(et))return _i.errors=[{instancePath:t+"/lte",schemaPath:"#/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Oe=ft===f}else Oe=!0}}}}}}}}}return _i.errors=c,0===f}_i.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const dv=Df;function Df(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){const V=Df.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return Df.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return Df.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let D;if(void 0===r.messageCid&&(D="messageCid")||void 0===r.value&&(D="value"))return Df.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:D},message:"must have required property '"+D+"'"}],!1;{const q=0;for(const De in r)if("messageCid"!==De&&"value"!==De)return Df.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:De},message:"must NOT have additional properties"}],!1;if(0===q){if(void 0!==r.messageCid){const De=0;if("string"!=typeof r.messageCid)return Df.errors=[{instancePath:t+"/messageCid",schemaPath:"#/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $=0===De}else $=!0;if($)if(void 0!==r.value){let De=r.value;const Re=0;if("string"!=typeof De&&("number"!=typeof De||!isFinite(De)))return Df.errors=[{instancePath:t+"/value",schemaPath:"#/properties/value/type",keyword:"type",params:{type:KE.properties.value.type},message:"must be string,number"}],!1;$=0===Re}else $=!0}}}return Df.errors=null,!0}Df.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const py=Nc,Fp={type:"object",additionalProperties:!1,properties:{publication:{enum:["Required","Prohibited"],type:"string"}}};function Ul(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){let c=null,f=0;const V=Ul.evaluated;V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0);const $=f;let D=!1,q=null;const De=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let Rn;if(void 0===r.interface&&(Rn="interface")||void 0===r.method&&(Rn="method")){const rr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/required",keyword:"required",params:{missingProperty:Rn},message:"must have required property '"+Rn+"'"};null===c?c=[rr]:c.push(rr),f++}else{const rr=f;for(const Pn in r)if("interface"!==Pn&&"method"!==Pn&&"protocol"!==Pn){const zn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pn},message:"must NOT have additional properties"};null===c?c=[zn]:c.push(zn),f++;break}if(rr===f){if(void 0!==r.interface){const Pn=f;if("Messages"!==r.interface){const zn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===c?c=[zn]:c.push(zn),f++}var Oe=Pn===f}else Oe=!0;if(Oe){if(void 0!==r.method){const Pn=f;if("Query"!==r.method){const on={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===c?c=[on]:c.push(on),f++}Oe=Pn===f}else Oe=!0;if(Oe)if(void 0!==r.protocol){const Pn=f;if("string"!=typeof r.protocol){const on={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[on]:c.push(on),f++}Oe=Pn===f}else Oe=!0}}}}else{const Rn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Rn]:c.push(Rn),f++}if(dt=De===f){D=!0,q=0;var je=!0}const et=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let Rn;if(void 0===r.interface&&(Rn="interface")||void 0===r.method&&(Rn="method")){const rr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/required",keyword:"required",params:{missingProperty:Rn},message:"must have required property '"+Rn+"'"};null===c?c=[rr]:c.push(rr),f++}else{const rr=f;for(const Pn in r)if("interface"!==Pn&&"method"!==Pn&&"protocol"!==Pn){const zn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pn},message:"must NOT have additional properties"};null===c?c=[zn]:c.push(zn),f++;break}if(rr===f){if(void 0!==r.interface){const Pn=f;if("Messages"!==r.interface){const zn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===c?c=[zn]:c.push(zn),f++}var at=Pn===f}else at=!0;if(at){if(void 0!==r.method){const Pn=f;if("Read"!==r.method){const on={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===c?c=[on]:c.push(on),f++}at=Pn===f}else at=!0;if(at)if(void 0!==r.protocol){const Pn=f;if("string"!=typeof r.protocol){const on={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[on]:c.push(on),f++}at=Pn===f}else at=!0}}}}else{const Rn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Rn]:c.push(Rn),f++}if((dt=et===f)&&D)D=!1,q=[q,1];else{dt&&(D=!0,q=1,!0!==je&&(je=!0));const Rn=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let zn;if(void 0===r.interface&&(zn="interface")||void 0===r.method&&(zn="method")){const on={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/required",keyword:"required",params:{missingProperty:zn},message:"must have required property '"+zn+"'"};null===c?c=[on]:c.push(on),f++}else{const on=f;for(const pn in r)if("interface"!==pn&&"method"!==pn&&"protocol"!==pn){const gn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:pn},message:"must NOT have additional properties"};null===c?c=[gn]:c.push(gn),f++;break}if(on===f){if(void 0!==r.interface){const pn=f;if("Messages"!==r.interface){const gn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===c?c=[gn]:c.push(gn),f++}var Mt=pn===f}else Mt=!0;if(Mt){if(void 0!==r.method){const pn=f;if("Subscribe"!==r.method){const Nn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===c?c=[Nn]:c.push(Nn),f++}Mt=pn===f}else Mt=!0;if(Mt)if(void 0!==r.protocol){const pn=f;if("string"!=typeof r.protocol){const Nn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Nn]:c.push(Nn),f++}Mt=pn===f}else Mt=!0}}}}else{const zn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[zn]:c.push(zn),f++}if((dt=Rn===f)&&D)D=!1,q=[q,2];else{dt&&(D=!0,q=2,!0!==je&&(je=!0));const zn=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let gn;if(void 0===r.interface&&(gn="interface")||void 0===r.method&&(gn="method")){const Nn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/required",keyword:"required",params:{missingProperty:gn},message:"must have required property '"+gn+"'"};null===c?c=[Nn]:c.push(Nn),f++}else{const Nn=f;for(const xn in r)if("interface"!==xn&&"method"!==xn){const jn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:xn},message:"must NOT have additional properties"};null===c?c=[jn]:c.push(jn),f++;break}if(Nn===f){if(void 0!==r.interface){const xn=f;if("Protocols"!==r.interface){const jn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===c?c=[jn]:c.push(jn),f++}var Pt=xn===f}else Pt=!0;if(Pt)if(void 0!==r.method){const xn=f;if("Query"!==r.method){const lr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===c?c=[lr]:c.push(lr),f++}Pt=xn===f}else Pt=!0}}}else{const gn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[gn]:c.push(gn),f++}if((dt=zn===f)&&D)D=!1,q=[q,3];else{dt&&(D=!0,q=3,!0!==je&&(je=!0));const gn=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let jn;if(void 0===r.interface&&(jn="interface")||void 0===r.method&&(jn="method")){const lr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/required",keyword:"required",params:{missingProperty:jn},message:"must have required property '"+jn+"'"};null===c?c=[lr]:c.push(lr),f++}else{const lr=f;for(const cr in r)if("interface"!==cr&&"method"!==cr&&"protocol"!==cr&&"contextId"!==cr&&"protocolPath"!==cr){const fn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:cr},message:"must NOT have additional properties"};null===c?c=[fn]:c.push(fn),f++;break}if(lr===f){if(void 0!==r.interface){const cr=f;if("Records"!==r.interface){const fn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[fn]:c.push(fn),f++}var Dt=cr===f}else Dt=!0;if(Dt){if(void 0!==r.method){const cr=f;if("Read"!==r.method){const dr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===c?c=[dr]:c.push(dr),f++}Dt=cr===f}else Dt=!0;if(Dt){if(void 0!==r.protocol){const cr=f;if("string"!=typeof r.protocol){const dr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[dr]:c.push(dr),f++}Dt=cr===f}else Dt=!0;if(Dt){if(void 0!==r.contextId){const cr=f;if("string"!=typeof r.contextId){const dr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[dr]:c.push(dr),f++}Dt=cr===f}else Dt=!0;if(Dt)if(void 0!==r.protocolPath){const cr=f;if("string"!=typeof r.protocolPath){const dr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[dr]:c.push(dr),f++}Dt=cr===f}else Dt=!0}}}}}}else{const jn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[jn]:c.push(jn),f++}if((dt=gn===f)&&D)D=!1,q=[q,4];else{dt&&(D=!0,q=4,!0!==je&&(je=!0));const jn=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let fn;if(void 0===r.interface&&(fn="interface")||void 0===r.method&&(fn="method")){const dr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/required",keyword:"required",params:{missingProperty:fn},message:"must have required property '"+fn+"'"};null===c?c=[dr]:c.push(dr),f++}else{const dr=f;for(const Er in r)if("interface"!==Er&&"method"!==Er&&"protocol"!==Er&&"contextId"!==Er&&"protocolPath"!==Er){const Xn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Er},message:"must NOT have additional properties"};null===c?c=[Xn]:c.push(Xn),f++;break}if(dr===f){if(void 0!==r.interface){const Er=f;if("Records"!==r.interface){const Xn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[Xn]:c.push(Xn),f++}var Kt=Er===f}else Kt=!0;if(Kt){if(void 0!==r.method){const Er=f;if("Delete"!==r.method){const kn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};null===c?c=[kn]:c.push(kn),f++}Kt=Er===f}else Kt=!0;if(Kt){if(void 0!==r.protocol){const Er=f;if("string"!=typeof r.protocol){const kn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[kn]:c.push(kn),f++}Kt=Er===f}else Kt=!0;if(Kt){if(void 0!==r.contextId){const Er=f;if("string"!=typeof r.contextId){const kn={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[kn]:c.push(kn),f++}Kt=Er===f}else Kt=!0;if(Kt)if(void 0!==r.protocolPath){const Er=f;if("string"!=typeof r.protocolPath){const kn={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[kn]:c.push(kn),f++}Kt=Er===f}else Kt=!0}}}}}}else{const fn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[fn]:c.push(fn),f++}if((dt=jn===f)&&D)D=!1,q=[q,5];else{dt&&(D=!0,q=5,!0!==je&&(je=!0));const fn=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let Xn;if(void 0===r.interface&&(Xn="interface")||void 0===r.method&&(Xn="method")){const kn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/required",keyword:"required",params:{missingProperty:Xn},message:"must have required property '"+Xn+"'"};null===c?c=[kn]:c.push(kn),f++}else{const kn=f;for(const qn in r)if("interface"!==qn&&"method"!==qn&&"protocol"!==qn&&"contextId"!==qn&&"protocolPath"!==qn){const mr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:qn},message:"must NOT have additional properties"};null===c?c=[mr]:c.push(mr),f++;break}if(kn===f){if(void 0!==r.interface){const qn=f;if("Records"!==r.interface){const mr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[mr]:c.push(mr),f++}var Wt=qn===f}else Wt=!0;if(Wt){if(void 0!==r.method){const qn=f;if("Write"!==r.method){const Cr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};null===c?c=[Cr]:c.push(Cr),f++}Wt=qn===f}else Wt=!0;if(Wt){if(void 0!==r.protocol){const qn=f;if("string"!=typeof r.protocol){const Cr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Cr]:c.push(Cr),f++}Wt=qn===f}else Wt=!0;if(Wt){if(void 0!==r.contextId){const qn=f;if("string"!=typeof r.contextId){const Cr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Cr]:c.push(Cr),f++}Wt=qn===f}else Wt=!0;if(Wt)if(void 0!==r.protocolPath){const qn=f;if("string"!=typeof r.protocolPath){const Cr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Cr]:c.push(Cr),f++}Wt=qn===f}else Wt=!0}}}}}}else{const Xn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Xn]:c.push(Xn),f++}if((dt=fn===f)&&D)D=!1,q=[q,6];else{dt&&(D=!0,q=6,!0!==je&&(je=!0));const Xn=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let mr;if(void 0===r.interface&&(mr="interface")||void 0===r.method&&(mr="method")){const Cr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/required",keyword:"required",params:{missingProperty:mr},message:"must have required property '"+mr+"'"};null===c?c=[Cr]:c.push(Cr),f++}else{const Cr=f;for(const Pr in r)if("interface"!==Pr&&"method"!==Pr&&"protocol"!==Pr&&"contextId"!==Pr&&"protocolPath"!==Pr){const Mr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pr},message:"must NOT have additional properties"};null===c?c=[Mr]:c.push(Mr),f++;break}if(Cr===f){if(void 0!==r.interface){const Pr=f;if("Records"!==r.interface){const Mr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[Mr]:c.push(Mr),f++}var En=Pr===f}else En=!0;if(En){if(void 0!==r.method){const Pr=f;if("Query"!==r.method){const Tr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===c?c=[Tr]:c.push(Tr),f++}En=Pr===f}else En=!0;if(En){if(void 0!==r.protocol){const Pr=f;if("string"!=typeof r.protocol){const Tr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Tr]:c.push(Tr),f++}En=Pr===f}else En=!0;if(En){if(void 0!==r.contextId){const Pr=f;if("string"!=typeof r.contextId){const Tr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Tr]:c.push(Tr),f++}En=Pr===f}else En=!0;if(En)if(void 0!==r.protocolPath){const Pr=f;if("string"!=typeof r.protocolPath){const Tr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Tr]:c.push(Tr),f++}En=Pr===f}else En=!0}}}}}}else{const mr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[mr]:c.push(mr),f++}if((dt=Xn===f)&&D)D=!1,q=[q,7];else{dt&&(D=!0,q=7,!0!==je&&(je=!0));const mr=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let Mr;if(void 0===r.interface&&(Mr="interface")||void 0===r.method&&(Mr="method")){const Tr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/required",keyword:"required",params:{missingProperty:Mr},message:"must have required property '"+Mr+"'"};null===c?c=[Tr]:c.push(Tr),f++}else{const Tr=f;for(const ui in r)if("interface"!==ui&&"method"!==ui&&"protocol"!==ui&&"contextId"!==ui&&"protocolPath"!==ui){const Xs={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ui},message:"must NOT have additional properties"};null===c?c=[Xs]:c.push(Xs),f++;break}if(Tr===f){if(void 0!==r.interface){const ui=f;if("Records"!==r.interface){const Xs={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[Xs]:c.push(Xs),f++}var Tn=ui===f}else Tn=!0;if(Tn){if(void 0!==r.method){const ui=f;if("Subscribe"!==r.method){const gr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===c?c=[gr]:c.push(gr),f++}Tn=ui===f}else Tn=!0;if(Tn){if(void 0!==r.protocol){const ui=f;if("string"!=typeof r.protocol){const gr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[gr]:c.push(gr),f++}Tn=ui===f}else Tn=!0;if(Tn){if(void 0!==r.contextId){const ui=f;if("string"!=typeof r.contextId){const gr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[gr]:c.push(gr),f++}Tn=ui===f}else Tn=!0;if(Tn)if(void 0!==r.protocolPath){const ui=f;if("string"!=typeof r.protocolPath){const gr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[gr]:c.push(gr),f++}Tn=ui===f}else Tn=!0}}}}}}else{const Mr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Mr]:c.push(Mr),f++}var dt;(dt=mr===f)&&D?(D=!1,q=[q,8]):dt&&(D=!0,q=8,!0!==je&&(je=!0))}}}}}}}if(!D){const Rn={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:q},message:"must match exactly one schema in oneOf"};return null===c?c=[Rn]:c.push(Rn),f++,Ul.errors=c,!1}return f=$,null!==c&&($?c.length=$:c=null),Ul.errors=c,V.props=je,0===f}function Nc(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){let c=null,f=0;const V=Nc.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Nc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let D;if(void 0===r.dateExpires&&(D="dateExpires")||void 0===r.scope&&(D="scope"))return Nc.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:D},message:"must have required property '"+D+"'"}],!1;{const q=f;for(const De in r)if("description"!==De&&"dateExpires"!==De&&"requestId"!==De&&"delegated"!==De&&"scope"!==De&&"conditions"!==De)return Nc.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:De},message:"must NOT have additional properties"}],!1;if(q===f){if(void 0!==r.description){const De=f;if("string"!=typeof r.description)return Nc.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $=De===f}else $=!0;if($){if(void 0!==r.dateExpires){let De=r.dateExpires;const Re=f;if(f==f){if("string"!=typeof De)return Nc.errors=[{instancePath:t+"/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(De))return Nc.errors=[{instancePath:t+"/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}$=Re===f}else $=!0;if($){if(void 0!==r.requestId){const De=f;if("string"!=typeof r.requestId)return Nc.errors=[{instancePath:t+"/requestId",schemaPath:"#/properties/requestId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=De===f}else $=!0;if($){if(void 0!==r.delegated){const De=f;if("boolean"!=typeof r.delegated)return Nc.errors=[{instancePath:t+"/delegated",schemaPath:"#/properties/delegated/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;$=De===f}else $=!0;if($){if(void 0!==r.scope){const De=f;Ul(r.scope,{instancePath:t+"/scope",parentData:r,parentDataProperty:"scope",rootData:l,dynamicAnchors:h})||(c=null===c?Ul.errors:c.concat(Ul.errors),f=c.length),$=De===f}else $=!0;if($)if(void 0!==r.conditions){let De=r.conditions;const Re=f;if(f==f){if(!De||"object"!=typeof De||Array.isArray(De))return Nc.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const et=f;for(const ft in De)if("publication"!==ft)return Nc.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ft},message:"must NOT have additional properties"}],!1;if(et===f&&void 0!==De.publication){let ft=De.publication;if("string"!=typeof ft)return Nc.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Required"!==ft&&"Prohibited"!==ft)return Nc.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:Fp.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}}$=Re===f}else $=!0}}}}}}}}return Nc.errors=c,0===f}Ul.evaluated={dynamicProps:!0,dynamicItems:!1},Nc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const my=Is;function dh(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){let c=null,f=0;const V=dh.evaluated;V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0);const $=f;let D=!1,q=null;const De=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let Rn;if(void 0===r.interface&&(Rn="interface")||void 0===r.method&&(Rn="method")){const rr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/required",keyword:"required",params:{missingProperty:Rn},message:"must have required property '"+Rn+"'"};null===c?c=[rr]:c.push(rr),f++}else{const rr=f;for(const Pn in r)if("interface"!==Pn&&"method"!==Pn&&"protocol"!==Pn){const zn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pn},message:"must NOT have additional properties"};null===c?c=[zn]:c.push(zn),f++;break}if(rr===f){if(void 0!==r.interface){const Pn=f;if("Messages"!==r.interface){const zn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===c?c=[zn]:c.push(zn),f++}var Oe=Pn===f}else Oe=!0;if(Oe){if(void 0!==r.method){const Pn=f;if("Query"!==r.method){const on={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===c?c=[on]:c.push(on),f++}Oe=Pn===f}else Oe=!0;if(Oe)if(void 0!==r.protocol){const Pn=f;if("string"!=typeof r.protocol){const on={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[on]:c.push(on),f++}Oe=Pn===f}else Oe=!0}}}}else{const Rn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Rn]:c.push(Rn),f++}if(dt=De===f){D=!0,q=0;var je=!0}const et=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let Rn;if(void 0===r.interface&&(Rn="interface")||void 0===r.method&&(Rn="method")){const rr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/required",keyword:"required",params:{missingProperty:Rn},message:"must have required property '"+Rn+"'"};null===c?c=[rr]:c.push(rr),f++}else{const rr=f;for(const Pn in r)if("interface"!==Pn&&"method"!==Pn&&"protocol"!==Pn){const zn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pn},message:"must NOT have additional properties"};null===c?c=[zn]:c.push(zn),f++;break}if(rr===f){if(void 0!==r.interface){const Pn=f;if("Messages"!==r.interface){const zn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===c?c=[zn]:c.push(zn),f++}var at=Pn===f}else at=!0;if(at){if(void 0!==r.method){const Pn=f;if("Read"!==r.method){const on={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===c?c=[on]:c.push(on),f++}at=Pn===f}else at=!0;if(at)if(void 0!==r.protocol){const Pn=f;if("string"!=typeof r.protocol){const on={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[on]:c.push(on),f++}at=Pn===f}else at=!0}}}}else{const Rn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Rn]:c.push(Rn),f++}if((dt=et===f)&&D)D=!1,q=[q,1];else{dt&&(D=!0,q=1,!0!==je&&(je=!0));const Rn=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let zn;if(void 0===r.interface&&(zn="interface")||void 0===r.method&&(zn="method")){const on={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/required",keyword:"required",params:{missingProperty:zn},message:"must have required property '"+zn+"'"};null===c?c=[on]:c.push(on),f++}else{const on=f;for(const pn in r)if("interface"!==pn&&"method"!==pn&&"protocol"!==pn){const gn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:pn},message:"must NOT have additional properties"};null===c?c=[gn]:c.push(gn),f++;break}if(on===f){if(void 0!==r.interface){const pn=f;if("Messages"!==r.interface){const gn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===c?c=[gn]:c.push(gn),f++}var Mt=pn===f}else Mt=!0;if(Mt){if(void 0!==r.method){const pn=f;if("Subscribe"!==r.method){const Nn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===c?c=[Nn]:c.push(Nn),f++}Mt=pn===f}else Mt=!0;if(Mt)if(void 0!==r.protocol){const pn=f;if("string"!=typeof r.protocol){const Nn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Nn]:c.push(Nn),f++}Mt=pn===f}else Mt=!0}}}}else{const zn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[zn]:c.push(zn),f++}if((dt=Rn===f)&&D)D=!1,q=[q,2];else{dt&&(D=!0,q=2,!0!==je&&(je=!0));const zn=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let gn;if(void 0===r.interface&&(gn="interface")||void 0===r.method&&(gn="method")){const Nn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/required",keyword:"required",params:{missingProperty:gn},message:"must have required property '"+gn+"'"};null===c?c=[Nn]:c.push(Nn),f++}else{const Nn=f;for(const xn in r)if("interface"!==xn&&"method"!==xn){const jn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:xn},message:"must NOT have additional properties"};null===c?c=[jn]:c.push(jn),f++;break}if(Nn===f){if(void 0!==r.interface){const xn=f;if("Protocols"!==r.interface){const jn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===c?c=[jn]:c.push(jn),f++}var Pt=xn===f}else Pt=!0;if(Pt)if(void 0!==r.method){const xn=f;if("Query"!==r.method){const lr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===c?c=[lr]:c.push(lr),f++}Pt=xn===f}else Pt=!0}}}else{const gn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[gn]:c.push(gn),f++}if((dt=zn===f)&&D)D=!1,q=[q,3];else{dt&&(D=!0,q=3,!0!==je&&(je=!0));const gn=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let jn;if(void 0===r.interface&&(jn="interface")||void 0===r.method&&(jn="method")){const lr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/required",keyword:"required",params:{missingProperty:jn},message:"must have required property '"+jn+"'"};null===c?c=[lr]:c.push(lr),f++}else{const lr=f;for(const cr in r)if("interface"!==cr&&"method"!==cr&&"protocol"!==cr&&"contextId"!==cr&&"protocolPath"!==cr){const fn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:cr},message:"must NOT have additional properties"};null===c?c=[fn]:c.push(fn),f++;break}if(lr===f){if(void 0!==r.interface){const cr=f;if("Records"!==r.interface){const fn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[fn]:c.push(fn),f++}var Dt=cr===f}else Dt=!0;if(Dt){if(void 0!==r.method){const cr=f;if("Read"!==r.method){const dr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===c?c=[dr]:c.push(dr),f++}Dt=cr===f}else Dt=!0;if(Dt){if(void 0!==r.protocol){const cr=f;if("string"!=typeof r.protocol){const dr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[dr]:c.push(dr),f++}Dt=cr===f}else Dt=!0;if(Dt){if(void 0!==r.contextId){const cr=f;if("string"!=typeof r.contextId){const dr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[dr]:c.push(dr),f++}Dt=cr===f}else Dt=!0;if(Dt)if(void 0!==r.protocolPath){const cr=f;if("string"!=typeof r.protocolPath){const dr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[dr]:c.push(dr),f++}Dt=cr===f}else Dt=!0}}}}}}else{const jn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[jn]:c.push(jn),f++}if((dt=gn===f)&&D)D=!1,q=[q,4];else{dt&&(D=!0,q=4,!0!==je&&(je=!0));const jn=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let fn;if(void 0===r.interface&&(fn="interface")||void 0===r.method&&(fn="method")){const dr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/required",keyword:"required",params:{missingProperty:fn},message:"must have required property '"+fn+"'"};null===c?c=[dr]:c.push(dr),f++}else{const dr=f;for(const Er in r)if("interface"!==Er&&"method"!==Er&&"protocol"!==Er&&"contextId"!==Er&&"protocolPath"!==Er){const Xn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Er},message:"must NOT have additional properties"};null===c?c=[Xn]:c.push(Xn),f++;break}if(dr===f){if(void 0!==r.interface){const Er=f;if("Records"!==r.interface){const Xn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[Xn]:c.push(Xn),f++}var Kt=Er===f}else Kt=!0;if(Kt){if(void 0!==r.method){const Er=f;if("Delete"!==r.method){const kn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};null===c?c=[kn]:c.push(kn),f++}Kt=Er===f}else Kt=!0;if(Kt){if(void 0!==r.protocol){const Er=f;if("string"!=typeof r.protocol){const kn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[kn]:c.push(kn),f++}Kt=Er===f}else Kt=!0;if(Kt){if(void 0!==r.contextId){const Er=f;if("string"!=typeof r.contextId){const kn={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[kn]:c.push(kn),f++}Kt=Er===f}else Kt=!0;if(Kt)if(void 0!==r.protocolPath){const Er=f;if("string"!=typeof r.protocolPath){const kn={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[kn]:c.push(kn),f++}Kt=Er===f}else Kt=!0}}}}}}else{const fn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[fn]:c.push(fn),f++}if((dt=jn===f)&&D)D=!1,q=[q,5];else{dt&&(D=!0,q=5,!0!==je&&(je=!0));const fn=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let Xn;if(void 0===r.interface&&(Xn="interface")||void 0===r.method&&(Xn="method")){const kn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/required",keyword:"required",params:{missingProperty:Xn},message:"must have required property '"+Xn+"'"};null===c?c=[kn]:c.push(kn),f++}else{const kn=f;for(const qn in r)if("interface"!==qn&&"method"!==qn&&"protocol"!==qn&&"contextId"!==qn&&"protocolPath"!==qn){const mr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:qn},message:"must NOT have additional properties"};null===c?c=[mr]:c.push(mr),f++;break}if(kn===f){if(void 0!==r.interface){const qn=f;if("Records"!==r.interface){const mr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[mr]:c.push(mr),f++}var Wt=qn===f}else Wt=!0;if(Wt){if(void 0!==r.method){const qn=f;if("Write"!==r.method){const Cr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};null===c?c=[Cr]:c.push(Cr),f++}Wt=qn===f}else Wt=!0;if(Wt){if(void 0!==r.protocol){const qn=f;if("string"!=typeof r.protocol){const Cr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Cr]:c.push(Cr),f++}Wt=qn===f}else Wt=!0;if(Wt){if(void 0!==r.contextId){const qn=f;if("string"!=typeof r.contextId){const Cr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Cr]:c.push(Cr),f++}Wt=qn===f}else Wt=!0;if(Wt)if(void 0!==r.protocolPath){const qn=f;if("string"!=typeof r.protocolPath){const Cr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Cr]:c.push(Cr),f++}Wt=qn===f}else Wt=!0}}}}}}else{const Xn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Xn]:c.push(Xn),f++}if((dt=fn===f)&&D)D=!1,q=[q,6];else{dt&&(D=!0,q=6,!0!==je&&(je=!0));const Xn=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let mr;if(void 0===r.interface&&(mr="interface")||void 0===r.method&&(mr="method")){const Cr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/required",keyword:"required",params:{missingProperty:mr},message:"must have required property '"+mr+"'"};null===c?c=[Cr]:c.push(Cr),f++}else{const Cr=f;for(const Pr in r)if("interface"!==Pr&&"method"!==Pr&&"protocol"!==Pr&&"contextId"!==Pr&&"protocolPath"!==Pr){const Mr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pr},message:"must NOT have additional properties"};null===c?c=[Mr]:c.push(Mr),f++;break}if(Cr===f){if(void 0!==r.interface){const Pr=f;if("Records"!==r.interface){const Mr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[Mr]:c.push(Mr),f++}var En=Pr===f}else En=!0;if(En){if(void 0!==r.method){const Pr=f;if("Query"!==r.method){const Tr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===c?c=[Tr]:c.push(Tr),f++}En=Pr===f}else En=!0;if(En){if(void 0!==r.protocol){const Pr=f;if("string"!=typeof r.protocol){const Tr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Tr]:c.push(Tr),f++}En=Pr===f}else En=!0;if(En){if(void 0!==r.contextId){const Pr=f;if("string"!=typeof r.contextId){const Tr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Tr]:c.push(Tr),f++}En=Pr===f}else En=!0;if(En)if(void 0!==r.protocolPath){const Pr=f;if("string"!=typeof r.protocolPath){const Tr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Tr]:c.push(Tr),f++}En=Pr===f}else En=!0}}}}}}else{const mr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[mr]:c.push(mr),f++}if((dt=Xn===f)&&D)D=!1,q=[q,7];else{dt&&(D=!0,q=7,!0!==je&&(je=!0));const mr=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let Mr;if(void 0===r.interface&&(Mr="interface")||void 0===r.method&&(Mr="method")){const Tr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/required",keyword:"required",params:{missingProperty:Mr},message:"must have required property '"+Mr+"'"};null===c?c=[Tr]:c.push(Tr),f++}else{const Tr=f;for(const ui in r)if("interface"!==ui&&"method"!==ui&&"protocol"!==ui&&"contextId"!==ui&&"protocolPath"!==ui){const Xs={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ui},message:"must NOT have additional properties"};null===c?c=[Xs]:c.push(Xs),f++;break}if(Tr===f){if(void 0!==r.interface){const ui=f;if("Records"!==r.interface){const Xs={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===c?c=[Xs]:c.push(Xs),f++}var Tn=ui===f}else Tn=!0;if(Tn){if(void 0!==r.method){const ui=f;if("Subscribe"!==r.method){const gr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===c?c=[gr]:c.push(gr),f++}Tn=ui===f}else Tn=!0;if(Tn){if(void 0!==r.protocol){const ui=f;if("string"!=typeof r.protocol){const gr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[gr]:c.push(gr),f++}Tn=ui===f}else Tn=!0;if(Tn){if(void 0!==r.contextId){const ui=f;if("string"!=typeof r.contextId){const gr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[gr]:c.push(gr),f++}Tn=ui===f}else Tn=!0;if(Tn)if(void 0!==r.protocolPath){const ui=f;if("string"!=typeof r.protocolPath){const gr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[gr]:c.push(gr),f++}Tn=ui===f}else Tn=!0}}}}}}else{const Mr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[Mr]:c.push(Mr),f++}var dt;(dt=mr===f)&&D?(D=!1,q=[q,8]):dt&&(D=!0,q=8,!0!==je&&(je=!0))}}}}}}}if(!D){const Rn={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:q},message:"must match exactly one schema in oneOf"};return null===c?c=[Rn]:c.push(Rn),f++,dh.errors=c,!1}return f=$,null!==c&&($?c.length=$:c=null),dh.errors=c,V.props=je,0===f}function Is(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){let c=null,f=0;const V=Is.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Is.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let D;if(void 0===r.delegated&&(D="delegated")||void 0===r.scope&&(D="scope"))return Is.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:D},message:"must have required property '"+D+"'"}],!1;{const q=f;for(const De in r)if("description"!==De&&"delegated"!==De&&"scope"!==De&&"conditions"!==De)return Is.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:De},message:"must NOT have additional properties"}],!1;if(q===f){if(void 0!==r.description){const De=f;if("string"!=typeof r.description)return Is.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $=De===f}else $=!0;if($){if(void 0!==r.delegated){const De=f;if("boolean"!=typeof r.delegated)return Is.errors=[{instancePath:t+"/delegated",schemaPath:"#/properties/delegated/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;$=De===f}else $=!0;if($){if(void 0!==r.scope){const De=f;dh(r.scope,{instancePath:t+"/scope",parentData:r,parentDataProperty:"scope",rootData:l,dynamicAnchors:h})||(c=null===c?dh.errors:c.concat(dh.errors),f=c.length),$=De===f}else $=!0;if($)if(void 0!==r.conditions){let De=r.conditions;const Re=f;if(f==f){if(!De||"object"!=typeof De||Array.isArray(De))return Is.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const et=f;for(const ft in De)if("publication"!==ft)return Is.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ft},message:"must NOT have additional properties"}],!1;if(et===f&&void 0!==De.publication){let ft=De.publication;if("string"!=typeof ft)return Is.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Required"!==ft&&"Prohibited"!==ft)return Is.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:Fp.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}}$=Re===f}else $=!0}}}}}}return Is.errors=c,0===f}dh.evaluated={dynamicProps:!0,dynamicItems:!1},Is.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Fl=au;function au(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){const V=au.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return au.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const $=0;for(const D in r)if("description"!==D)return au.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:D},message:"must NOT have additional properties"}],!1;if(0===$&&void 0!==r.description&&"string"!=typeof r.description)return au.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1}return au.errors=null,!0}au.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Vw=Gh;function Gh(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){const V=Gh.evaluated;return V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(Gh.errors=null,!0):(Gh.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}Gh.evaluated={dynamicProps:!1,dynamicItems:!1};const N6=Um;function Um(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){const V=Um.evaluated;return V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(Um.errors=null,!0):(Um.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}Um.evaluated={dynamicProps:!1,dynamicItems:!1};const _A=Lc,zw=new RegExp(".*","u"),hv={$id:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",additionalProperties:!1,properties:{$encryption:{type:"object",additionalProperties:!1,properties:{rootKeyId:{type:"string"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}},required:["rootKeyId","publicKeyJwk"]},$actions:{type:"array",minItems:1,items:{type:"object",oneOf:[{required:["who","can"],additionalProperties:!1,properties:{who:{type:"string",enum:["anyone","author","recipient"]},of:{type:"string"},can:{type:"array",minItems:1,items:{type:"string",enum:["co-delete","co-prune","co-update","create","delete","prune","read","update"]}}}},{required:["role","can"],properties:{role:{$comment:"Must be the protocol path of a role record type",type:"string"},can:{type:"array",minItems:1,items:{type:"string",enum:["co-delete","co-update","create","delete","query","subscribe","read","update"]}}}}]}},$role:{$comment:"When `true`, this turns a record into `role` that may be used within a context/sub-context",type:"boolean"},$size:{type:"object",additionalProperties:!1,properties:{min:{type:"number",minimum:0},max:{type:"number",minimum:0}}},$tags:{type:"object",minProperties:1,properties:{$requiredTags:{type:"array",items:{type:"string"}},$allowUndefinedTags:{type:"boolean"}},patternProperties:{"^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$":{type:"object",additionalProperties:!1,properties:{type:{enum:["string","number","integer","boolean","array"]},items:{type:"object",properties:{type:{enum:["string","number","integer"]}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$":{}}},contains:{type:"object",properties:{type:{enum:["string","number","integer"]}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$":{}}}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength|minItems|maxItems|uniqueItems|minContains|maxContains)$":{}}}}}},patternProperties:{"^[^$].*$":{$ref:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json"}}},L6=new RegExp("^[^$].*$","u"),JR=new RegExp("^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$","u"),qR=new RegExp("^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength|minItems|maxItems|uniqueItems|minContains|maxContains)$","u"),U6=new RegExp("^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$","u"),EA={validate:es};function es(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){let c=null,f=0;const V=es.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return es.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const rr=f;for(const Pn in r)if("$encryption"!==Pn&&"$actions"!==Pn&&"$role"!==Pn&&"$size"!==Pn&&"$tags"!==Pn&&!L6.test(Pn))return es.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pn},message:"must NOT have additional properties"}],!1;if(rr===f){if(void 0!==r.$encryption){let Pn=r.$encryption;const zn=f;if(f===zn){if(!Pn||"object"!=typeof Pn||Array.isArray(Pn))return es.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let on;if(void 0===Pn.rootKeyId&&(on="rootKeyId")||void 0===Pn.publicKeyJwk&&(on="publicKeyJwk"))return es.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/required",keyword:"required",params:{missingProperty:on},message:"must have required property '"+on+"'"}],!1;{const pn=f;for(const gn in Pn)if("rootKeyId"!==gn&&"publicKeyJwk"!==gn)return es.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:gn},message:"must NOT have additional properties"}],!1;if(pn===f){if(void 0!==Pn.rootKeyId){const gn=f;if("string"!=typeof Pn.rootKeyId)return es.errors=[{instancePath:t+"/$encryption/rootKeyId",schemaPath:"#/properties/%24encryption/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $=gn===f}else $=!0;if($)if(void 0!==Pn.publicKeyJwk){const gn=f;Qo(Pn.publicKeyJwk,{instancePath:t+"/$encryption/publicKeyJwk",parentData:Pn,parentDataProperty:"publicKeyJwk",rootData:l,dynamicAnchors:h})||(c=null===c?Qo.errors:c.concat(Qo.errors),f=c.length),$=gn===f}else $=!0}}}}var D=zn===f}else D=!0;if(D){if(void 0!==r.$actions){let Pn=r.$actions;const zn=f;if(f===zn){if(!Array.isArray(Pn))return es.errors=[{instancePath:t+"/$actions",schemaPath:"#/properties/%24actions/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Pn.length<1)return es.errors=[{instancePath:t+"/$actions",schemaPath:"#/properties/%24actions/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const pn=Pn.length;for(let gn=0;gn<pn;gn++){let Nn=Pn[gn];const xn=f;if(!Nn||"object"!=typeof Nn||Array.isArray(Nn))return es.errors=[{instancePath:t+"/$actions/"+gn,schemaPath:"#/properties/%24actions/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;const jn=f;let lr=!1,cr=null;const fn=f;if(Nn&&"object"==typeof Nn&&!Array.isArray(Nn)){let Xn;if(void 0===Nn.who&&(Xn="who")||void 0===Nn.can&&(Xn="can")){const kn={instancePath:t+"/$actions/"+gn,schemaPath:"#/properties/%24actions/items/oneOf/0/required",keyword:"required",params:{missingProperty:Xn},message:"must have required property '"+Xn+"'"};null===c?c=[kn]:c.push(kn),f++}else{const kn=f;for(const qn in Nn)if("who"!==qn&&"of"!==qn&&"can"!==qn){const mr={instancePath:t+"/$actions/"+gn,schemaPath:"#/properties/%24actions/items/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:qn},message:"must NOT have additional properties"};null===c?c=[mr]:c.push(mr),f++;break}if(kn===f){if(void 0!==Nn.who){let qn=Nn.who;const mr=f;if("string"!=typeof qn){const Cr={instancePath:t+"/$actions/"+gn+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Cr]:c.push(Cr),f++}if("anyone"!==qn&&"author"!==qn&&"recipient"!==qn){const Cr={instancePath:t+"/$actions/"+gn+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/enum",keyword:"enum",params:{allowedValues:hv.properties.$actions.items.oneOf[0].properties.who.enum},message:"must be equal to one of the allowed values"};null===c?c=[Cr]:c.push(Cr),f++}var De=mr===f}else De=!0;if(De){if(void 0!==Nn.of){const qn=f;if("string"!=typeof Nn.of){const Cr={instancePath:t+"/$actions/"+gn+"/of",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/of/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Cr]:c.push(Cr),f++}De=qn===f}else De=!0;if(De)if(void 0!==Nn.can){let qn=Nn.can;const mr=f;if(f===mr)if(Array.isArray(qn))if(qn.length<1){const Pr={instancePath:t+"/$actions/"+gn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===c?c=[Pr]:c.push(Pr),f++}else{const Pr=qn.length;for(let Mr=0;Mr<Pr;Mr++){let Tr=qn[Mr];const ui=f;if("string"!=typeof Tr){const gr={instancePath:t+"/$actions/"+gn+"/can/"+Mr,schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[gr]:c.push(gr),f++}if("co-delete"!==Tr&&"co-prune"!==Tr&&"co-update"!==Tr&&"create"!==Tr&&"delete"!==Tr&&"prune"!==Tr&&"read"!==Tr&&"update"!==Tr){const gr={instancePath:t+"/$actions/"+gn+"/can/"+Mr,schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/items/enum",keyword:"enum",params:{allowedValues:hv.properties.$actions.items.oneOf[0].properties.can.items.enum},message:"must be equal to one of the allowed values"};null===c?c=[gr]:c.push(gr),f++}if(ui!==f)break}}else{const Pr={instancePath:t+"/$actions/"+gn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/type",keyword:"type",params:{type:"array"},message:"must be array"};null===c?c=[Pr]:c.push(Pr),f++}De=mr===f}else De=!0}}}}if(fn===f){lr=!0,cr=0;var Oe=!0}const dr=f;if(Nn&&"object"==typeof Nn&&!Array.isArray(Nn)){let Xn;if(void 0===Nn.role&&(Xn="role")||void 0===Nn.can&&(Xn="can")){const kn={instancePath:t+"/$actions/"+gn,schemaPath:"#/properties/%24actions/items/oneOf/1/required",keyword:"required",params:{missingProperty:Xn},message:"must have required property '"+Xn+"'"};null===c?c=[kn]:c.push(kn),f++}else{if(void 0!==Nn.role){const kn=f;if("string"!=typeof Nn.role){const qn={instancePath:t+"/$actions/"+gn+"/role",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/role/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[qn]:c.push(qn),f++}var je=kn===f}else je=!0;if(je)if(void 0!==Nn.can){let kn=Nn.can;const qn=f;if(f===qn)if(Array.isArray(kn))if(kn.length<1){const Cr={instancePath:t+"/$actions/"+gn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===c?c=[Cr]:c.push(Cr),f++}else{const Cr=kn.length;for(let Pr=0;Pr<Cr;Pr++){let Mr=kn[Pr];const Tr=f;if("string"!=typeof Mr){const Xs={instancePath:t+"/$actions/"+gn+"/can/"+Pr,schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===c?c=[Xs]:c.push(Xs),f++}if("co-delete"!==Mr&&"co-update"!==Mr&&"create"!==Mr&&"delete"!==Mr&&"query"!==Mr&&"subscribe"!==Mr&&"read"!==Mr&&"update"!==Mr){const Xs={instancePath:t+"/$actions/"+gn+"/can/"+Pr,schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/items/enum",keyword:"enum",params:{allowedValues:hv.properties.$actions.items.oneOf[1].properties.can.items.enum},message:"must be equal to one of the allowed values"};null===c?c=[Xs]:c.push(Xs),f++}if(Tr!==f)break}}else{const Cr={instancePath:t+"/$actions/"+gn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/type",keyword:"type",params:{type:"array"},message:"must be array"};null===c?c=[Cr]:c.push(Cr),f++}je=qn===f}else je=!0}}var ft;if((ft=dr===f)&&lr?(lr=!1,cr=[cr,1]):ft&&(lr=!0,cr=1,!0!==Oe&&((Oe=Oe||{}).role=!0,Oe.can=!0)),!lr){const Xn={instancePath:t+"/$actions/"+gn,schemaPath:"#/properties/%24actions/items/oneOf",keyword:"oneOf",params:{passingSchemas:cr},message:"must match exactly one schema in oneOf"};return null===c?c=[Xn]:c.push(Xn),f++,es.errors=c,!1}if(f=jn,null!==c&&(jn?c.length=jn:c=null),xn!==f)break}}}D=zn===f}else D=!0;if(D){if(void 0!==r.$role){const Pn=f;if("boolean"!=typeof r.$role)return es.errors=[{instancePath:t+"/$role",schemaPath:"#/properties/%24role/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;D=Pn===f}else D=!0;if(D){if(void 0!==r.$size){let Pn=r.$size;const zn=f;if(f===zn){if(!Pn||"object"!=typeof Pn||Array.isArray(Pn))return es.errors=[{instancePath:t+"/$size",schemaPath:"#/properties/%24size/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const pn=f;for(const gn in Pn)if("min"!==gn&&"max"!==gn)return es.errors=[{instancePath:t+"/$size",schemaPath:"#/properties/%24size/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:gn},message:"must NOT have additional properties"}],!1;if(pn===f){if(void 0!==Pn.min){let gn=Pn.min;const Nn=f;if(f===Nn){if("number"!=typeof gn||!isFinite(gn))return es.errors=[{instancePath:t+"/$size/min",schemaPath:"#/properties/%24size/properties/min/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(gn<0||isNaN(gn))return es.errors=[{instancePath:t+"/$size/min",schemaPath:"#/properties/%24size/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}var at=Nn===f}else at=!0;if(at)if(void 0!==Pn.max){let gn=Pn.max;const Nn=f;if(f===Nn){if("number"!=typeof gn||!isFinite(gn))return es.errors=[{instancePath:t+"/$size/max",schemaPath:"#/properties/%24size/properties/max/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(gn<0||isNaN(gn))return es.errors=[{instancePath:t+"/$size/max",schemaPath:"#/properties/%24size/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}at=Nn===f}else at=!0}}}D=zn===f}else D=!0;if(D){if(void 0!==r.$tags){let Pn=r.$tags;const zn=f;if(f===zn){if(!Pn||"object"!=typeof Pn||Array.isArray(Pn))return es.errors=[{instancePath:t+"/$tags",schemaPath:"#/properties/%24tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Pn).length<1)return es.errors=[{instancePath:t+"/$tags",schemaPath:"#/properties/%24tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;if(void 0!==Pn.$requiredTags){let pn=Pn.$requiredTags;const gn=f;if(f===gn){if(!Array.isArray(pn))return es.errors=[{instancePath:t+"/$tags/$requiredTags",schemaPath:"#/properties/%24tags/properties/%24requiredTags/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const Nn=pn.length;for(let xn=0;xn<Nn;xn++){const jn=f;if("string"!=typeof pn[xn])return es.errors=[{instancePath:t+"/$tags/$requiredTags/"+xn,schemaPath:"#/properties/%24tags/properties/%24requiredTags/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(jn!==f)break}}}var Mt=gn===f}else Mt=!0;if(Mt){if(void 0!==Pn.$allowUndefinedTags){const pn=f;if("boolean"!=typeof Pn.$allowUndefinedTags)return es.errors=[{instancePath:t+"/$tags/$allowUndefinedTags",schemaPath:"#/properties/%24tags/properties/%24allowUndefinedTags/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Mt=pn===f}else Mt=!0;if(Mt){var Pt={$requiredTags:!0,$allowUndefinedTags:!0};for(const pn in Pn)if(JR.test(pn)){let gn=Pn[pn];if(f==f){if(!gn||"object"!=typeof gn||Array.isArray(gn))return es.errors=[{instancePath:t+"/$tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const xn=f;for(const jn in gn)if("type"!==jn&&"items"!==jn&&"contains"!==jn&&!qR.test(jn))return es.errors=[{instancePath:t+"/$tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:jn},message:"must NOT have additional properties"}],!1;if(xn===f){if(void 0!==gn.type){let jn=gn.type;const lr=f;if("string"!==jn&&"number"!==jn&&"integer"!==jn&&"boolean"!==jn&&"array"!==jn)return es.errors=[{instancePath:t+"/$tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1")+"/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/type/enum",keyword:"enum",params:{allowedValues:hv.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var Dt=lr===f}else Dt=!0;if(Dt){if(void 0!==gn.items){let jn=gn.items;const lr=f;if(f===lr){if(!jn||"object"!=typeof jn||Array.isArray(jn))return es.errors=[{instancePath:t+"/$tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1")+"/items",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==jn.type){let fn=jn.type;const dr=f;if("string"!==fn&&"number"!==fn&&"integer"!==fn)return es.errors=[{instancePath:t+"/$tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1")+"/items/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/items/properties/type/enum",keyword:"enum",params:{allowedValues:hv.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.items.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var Kt=dr===f}else Kt=!0;if(Kt){var Wt={type:!0};for(const fn in jn)U6.test(fn)&&(Wt[fn]=!0)}}Dt=lr===f}else Dt=!0;if(Dt)if(void 0!==gn.contains){let jn=gn.contains;const lr=f;if(f===lr){if(!jn||"object"!=typeof jn||Array.isArray(jn))return es.errors=[{instancePath:t+"/$tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1")+"/contains",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/contains/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==jn.type){let fn=jn.type;const dr=f;if("string"!==fn&&"number"!==fn&&"integer"!==fn)return es.errors=[{instancePath:t+"/$tags/"+pn.replace(/~/g,"~0").replace(/\//g,"~1")+"/contains/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/contains/properties/type/enum",keyword:"enum",params:{allowedValues:hv.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.contains.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var En=dr===f}else En=!0;if(En){var Tn={type:!0};for(const fn in jn)U6.test(fn)&&(Tn[fn]=!0)}}Dt=lr===f}else Dt=!0}}}}Pt[pn]=!0}}}}D=zn===f}else D=!0;if(D)for(const Pn in r)if(L6.test(Pn)){const zn=f;if(EA.validate(r[Pn],{instancePath:t+"/"+Pn.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:r,parentDataProperty:Pn,rootData:l,dynamicAnchors:h})||(c=null===c?EA.validate.errors:c.concat(EA.validate.errors),f=c.length),zn!==f)break}}}}}}}}return es.errors=c,0===f}function Lc(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){let c=null,f=0;const V=Lc.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Lc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Oe;if(void 0===r.protocol&&(Oe="protocol")||void 0===r.published&&(Oe="published")||void 0===r.types&&(Oe="types")||void 0===r.structure&&(Oe="structure"))return Lc.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Oe},message:"must have required property '"+Oe+"'"}],!1;{const je=f;for(const et in r)if("protocol"!==et&&"published"!==et&&"types"!==et&&"structure"!==et)return Lc.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:et},message:"must NOT have additional properties"}],!1;if(je===f){if(void 0!==r.protocol){const et=f;if("string"!=typeof r.protocol)return Lc.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $=et===f}else $=!0;if($){if(void 0!==r.published){const et=f;if("boolean"!=typeof r.published)return Lc.errors=[{instancePath:t+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;$=et===f}else $=!0;if($){if(void 0!==r.types){let et=r.types;const ft=f;if(f===ft){if(!et||"object"!=typeof et||Array.isArray(et))return Lc.errors=[{instancePath:t+"/types",schemaPath:"#/properties/types/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var D={};for(const dt in et)if(zw.test(dt)){let Mt=et[dt];if(f==f){if(!Mt||"object"!=typeof Mt||Array.isArray(Mt))return Lc.errors=[{instancePath:t+"/types/"+dt.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Dt=f;for(const Kt in Mt)if("schema"!==Kt&&"dataFormats"!==Kt)return Lc.errors=[{instancePath:t+"/types/"+dt.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Kt},message:"must NOT have additional properties"}],!1;if(Dt===f){if(void 0!==Mt.schema){const Kt=f;if("string"!=typeof Mt.schema)return Lc.errors=[{instancePath:t+"/types/"+dt.replace(/~/g,"~0").replace(/\//g,"~1")+"/schema",schemaPath:"#/properties/types/patternProperties/.*/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var q=Kt===f}else q=!0;if(q)if(void 0!==Mt.dataFormats){let Kt=Mt.dataFormats;const Wt=f;if(f===Wt){if(!Array.isArray(Kt))return Lc.errors=[{instancePath:t+"/types/"+dt.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Kt.length<1)return Lc.errors=[{instancePath:t+"/types/"+dt.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Tn=Kt.length;for(let Rn=0;Rn<Tn;Rn++){const rr=f;if("string"!=typeof Kt[Rn])return Lc.errors=[{instancePath:t+"/types/"+dt.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats/"+Rn,schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(rr!==f)break}}}q=Wt===f}else q=!0}}}D[dt]=!0}}$=ft===f}else $=!0;if($)if(void 0!==r.structure){let et=r.structure;const ft=f;if(f===ft){if(!et||"object"!=typeof et||Array.isArray(et))return Lc.errors=[{instancePath:t+"/structure",schemaPath:"#/properties/structure/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var Re={};for(const dt in et)zw.test(dt)&&(es(et[dt],{instancePath:t+"/structure/"+dt.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:et,parentDataProperty:dt,rootData:l,dynamicAnchors:h})||(c=null===c?es.errors:c.concat(es.errors),f=c.length),Re[dt]=!0)}$=ft===f}else $=!0}}}}}}return Lc.errors=c,0===f}es.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},Lc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const QR=es,e4=pd,F6={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/protocols-configure.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","definition"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Configure"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},definition:{$ref:"https://identity.foundation/dwn/json-schemas/protocol-definition.json"}}}}};function pd(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){let c=null,f=0;const V=pd.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return pd.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let q;if(void 0===r.authorization&&(q="authorization")||void 0===r.descriptor&&(q="descriptor"))return pd.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:q},message:"must have required property '"+q+"'"}],!1;{const De=f;for(const Re in r)if("authorization"!==Re&&"descriptor"!==Re)return pd.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Re},message:"must NOT have additional properties"}],!1;if(De===f){if(void 0!==r.authorization){const Re=f;zs(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:h})||(c=null===c?zs.errors:c.concat(zs.errors),f=c.length);var $=Re===f}else $=!0;if($)if(void 0!==r.descriptor){let Re=r.descriptor;const Oe=f;if(f===Oe){if(!Re||"object"!=typeof Re||Array.isArray(Re))return pd.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let et;if(void 0===Re.interface&&(et="interface")||void 0===Re.method&&(et="method")||void 0===Re.messageTimestamp&&(et="messageTimestamp")||void 0===Re.definition&&(et="definition"))return pd.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:et},message:"must have required property '"+et+"'"}],!1;{const ft=f;for(const at in Re)if("interface"!==at&&"method"!==at&&"messageTimestamp"!==at&&"definition"!==at)return pd.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:at},message:"must NOT have additional properties"}],!1;if(ft===f){if(void 0!==Re.interface){let at=Re.interface;const dt=f;if("string"!=typeof at)return pd.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==at)return pd.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:F6.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var D=dt===f}else D=!0;if(D){if(void 0!==Re.method){let at=Re.method;const dt=f;if("string"!=typeof at)return pd.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Configure"!==at)return pd.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:F6.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;D=dt===f}else D=!0;if(D){if(void 0!==Re.messageTimestamp){let at=Re.messageTimestamp;const dt=f;if(f==f){if("string"!=typeof at)return pd.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(at))return pd.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}D=dt===f}else D=!0;if(D)if(void 0!==Re.definition){const at=f;Lc(Re.definition,{instancePath:t+"/descriptor/definition",parentData:Re,parentDataProperty:"definition",rootData:l,dynamicAnchors:h})||(c=null===c?Lc.errors:c.concat(Lc.errors),f=c.length),D=at===f}else D=!0}}}}}}$=Oe===f}else $=!0}}}}return pd.errors=c,0===f}pd.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const xA=dc,ZE={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/protocols-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"}}}}}}};function dc(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){let c=null,f=0;const V=dc.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return dc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let De;if(void 0===r.descriptor&&(De="descriptor"))return dc.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:De},message:"must have required property '"+De+"'"}],!1;{const Re=f;for(const Oe in r)if("authorization"!==Oe&&"descriptor"!==Oe)return dc.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Oe},message:"must NOT have additional properties"}],!1;if(Re===f){if(void 0!==r.authorization){const Oe=f;zs(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:h})||(c=null===c?zs.errors:c.concat(zs.errors),f=c.length);var $=Oe===f}else $=!0;if($)if(void 0!==r.descriptor){let Oe=r.descriptor;const je=f;if(f===je){if(!Oe||"object"!=typeof Oe||Array.isArray(Oe))return dc.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ft;if(void 0===Oe.interface&&(ft="interface")||void 0===Oe.method&&(ft="method")||void 0===Oe.messageTimestamp&&(ft="messageTimestamp"))return dc.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:ft},message:"must have required property '"+ft+"'"}],!1;{const at=f;for(const dt in Oe)if("interface"!==dt&&"method"!==dt&&"messageTimestamp"!==dt&&"filter"!==dt)return dc.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:dt},message:"must NOT have additional properties"}],!1;if(at===f){if(void 0!==Oe.interface){let dt=Oe.interface;const Mt=f;if("string"!=typeof dt)return dc.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==dt)return dc.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:ZE.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var D=Mt===f}else D=!0;if(D){if(void 0!==Oe.method){let dt=Oe.method;const Mt=f;if("string"!=typeof dt)return dc.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==dt)return dc.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:ZE.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;D=Mt===f}else D=!0;if(D){if(void 0!==Oe.messageTimestamp){let dt=Oe.messageTimestamp;const Mt=f;if(f==f){if("string"!=typeof dt)return dc.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(dt))return dc.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}D=Mt===f}else D=!0;if(D)if(void 0!==Oe.filter){let dt=Oe.filter;const Mt=f;if(f===Mt){if(!dt||"object"!=typeof dt||Array.isArray(dt))return dc.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(dt).length<1)return dc.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Dt=f;for(const Kt in dt)if("protocol"!==Kt&&"recipient"!==Kt)return dc.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Kt},message:"must NOT have additional properties"}],!1;if(Dt===f){if(void 0!==dt.protocol){const Kt=f;if("string"!=typeof dt.protocol)return dc.errors=[{instancePath:t+"/descriptor/filter/protocol",schemaPath:"#/properties/descriptor/properties/filter/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var q=Kt===f}else q=!0;if(q)if(void 0!==dt.recipient){let Kt=dt.recipient;const Wt=f;if(f==f){if("string"!=typeof Kt)return dc.errors=[{instancePath:t+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Bm.test(Kt))return dc.errors=[{instancePath:t+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}q=Wt===f}else q=!0}}}D=Mt===f}else D=!0}}}}}}$=je===f}else $=!0}}}}return dc.errors=c,0===f}dc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const t4=md,j6={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-read.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Read"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function md(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){let c=null,f=0;const V=md.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return md.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let q;if(void 0===r.descriptor&&(q="descriptor"))return md.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:q},message:"must have required property '"+q+"'"}],!1;{const De=f;for(const Re in r)if("authorization"!==Re&&"descriptor"!==Re)return md.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Re},message:"must NOT have additional properties"}],!1;if(De===f){if(void 0!==r.authorization){const Re=f;Qc(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:l,dynamicAnchors:h})||(c=null===c?Qc.errors:c.concat(Qc.errors),f=c.length);var $=Re===f}else $=!0;if($)if(void 0!==r.descriptor){let Re=r.descriptor;const Oe=f;if(f===Oe){if(!Re||"object"!=typeof Re||Array.isArray(Re))return md.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let et;if(void 0===Re.interface&&(et="interface")||void 0===Re.method&&(et="method")||void 0===Re.messageTimestamp&&(et="messageTimestamp")||void 0===Re.filter&&(et="filter"))return md.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:et},message:"must have required property '"+et+"'"}],!1;{const ft=f;for(const at in Re)if("interface"!==at&&"method"!==at&&"messageTimestamp"!==at&&"filter"!==at)return md.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:at},message:"must NOT have additional properties"}],!1;if(ft===f){if(void 0!==Re.interface){let at=Re.interface;const dt=f;if("string"!=typeof at)return md.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==at)return md.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:j6.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var D=dt===f}else D=!0;if(D){if(void 0!==Re.method){let at=Re.method;const dt=f;if("string"!=typeof at)return md.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Read"!==at)return md.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:j6.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;D=dt===f}else D=!0;if(D){if(void 0!==Re.messageTimestamp){let at=Re.messageTimestamp;const dt=f;if(f==f){if("string"!=typeof at)return md.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(at))return md.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}D=dt===f}else D=!0;if(D)if(void 0!==Re.filter){const at=f;ai(Re.filter,{instancePath:t+"/descriptor/filter",parentData:Re,parentDataProperty:"filter",rootData:l,dynamicAnchors:h})||(c=null===c?ai.errors:c.concat(ai.errors),f=c.length),D=at===f}else D=!0}}}}}}$=Oe===f}else $=!0}}}}return md.errors=c,0===f}md.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const $6=ai,SA=Qo,XE=kf;function kf(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){const V=kf.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return kf.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let D;if(void 0===r.descriptorCid&&(D="descriptorCid"))return kf.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:D},message:"must have required property '"+D+"'"}],!1;{const q=0;for(const De in r)if("descriptorCid"!==De&&"delegatedGrantId"!==De&&"permissionGrantId"!==De&&"protocolRole"!==De)return kf.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:De},message:"must NOT have additional properties"}],!1;if(0===q){if(void 0!==r.descriptorCid){const De=0;if("string"!=typeof r.descriptorCid)return kf.errors=[{instancePath:t+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $=0===De}else $=!0;if($){if(void 0!==r.delegatedGrantId){const De=0;if("string"!=typeof r.delegatedGrantId)return kf.errors=[{instancePath:t+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===De}else $=!0;if($){if(void 0!==r.permissionGrantId){const De=0;if("string"!=typeof r.permissionGrantId)return kf.errors=[{instancePath:t+"/permissionGrantId",schemaPath:"#/properties/permissionGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===De}else $=!0;if($)if(void 0!==r.protocolRole){const De=0;if("string"!=typeof r.protocolRole)return kf.errors=[{instancePath:t+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===De}else $=!0}}}}}return kf.errors=null,!0}kf.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const V6=jl;function jl(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){const V=jl.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return jl.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let D;if(void 0===r.descriptorCid&&(D="descriptorCid")||void 0===r.recordId&&(D="recordId"))return jl.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:D},message:"must have required property '"+D+"'"}],!1;{const q=0;for(const De in r)if("descriptorCid"!==De&&"recordId"!==De&&"contextId"!==De&&"attestationCid"!==De&&"encryptionCid"!==De&&"delegatedGrantId"!==De&&"permissionGrantId"!==De&&"protocolRole"!==De)return jl.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:De},message:"must NOT have additional properties"}],!1;if(0===q){if(void 0!==r.descriptorCid){const De=0;if("string"!=typeof r.descriptorCid)return jl.errors=[{instancePath:t+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var $=0===De}else $=!0;if($){if(void 0!==r.recordId){const De=0;if("string"!=typeof r.recordId)return jl.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===De}else $=!0;if($){if(void 0!==r.contextId){const De=0;if("string"!=typeof r.contextId)return jl.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===De}else $=!0;if($){if(void 0!==r.attestationCid){const De=0;if("string"!=typeof r.attestationCid)return jl.errors=[{instancePath:t+"/attestationCid",schemaPath:"#/properties/attestationCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===De}else $=!0;if($){if(void 0!==r.encryptionCid){const De=0;if("string"!=typeof r.encryptionCid)return jl.errors=[{instancePath:t+"/encryptionCid",schemaPath:"#/properties/encryptionCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===De}else $=!0;if($){if(void 0!==r.delegatedGrantId){const De=0;if("string"!=typeof r.delegatedGrantId)return jl.errors=[{instancePath:t+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===De}else $=!0;if($){if(void 0!==r.permissionGrantId){const De=0;if("string"!=typeof r.permissionGrantId)return jl.errors=[{instancePath:t+"/permissionGrantId",schemaPath:"#/properties/permissionGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===De}else $=!0;if($)if(void 0!==r.protocolRole){const De=0;if("string"!=typeof r.protocolRole)return jl.errors=[{instancePath:t+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;$=0===De}else $=!0}}}}}}}}}return jl.errors=null,!0}jl.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const H6=bl;function bl(r,{instancePath:t="",rootData:l=r,dynamicAnchors:h={}}={}){let c=null,f=0;const V=bl.evaluated;if(V.dynamicProps&&(V.props=void 0),V.dynamicItems&&(V.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return bl.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return bl.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const je=f;for(const et in r)if("gt"!==et&&"gte"!==et&&"lt"!==et&&"lte"!==et)return bl.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:et},message:"must NOT have additional properties"}],!1;if(je===f){if(void 0!==r.gt){const et=f,ft=f,at=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let dt;if(void 0===r.gte&&(dt="gte")){const Mt={};null===c?c=[Mt]:c.push(Mt),f++}}if(at===f)return bl.errors=[{instancePath:t,schemaPath:"#/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=ft,null!==c&&(ft?c.length=ft:c=null);var D=et===f}else D=!0;if(D){if(void 0!==r.gte){const et=f,ft=f,at=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Mt;if(void 0===r.gt&&(Mt="gt")){const Pt={};null===c?c=[Pt]:c.push(Pt),f++}}if(at===f)return bl.errors=[{instancePath:t,schemaPath:"#/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=ft,null!==c&&(ft?c.length=ft:c=null),D=et===f}else D=!0;if(D){if(void 0!==r.lt){const et=f,ft=f,at=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Mt;if(void 0===r.lte&&(Mt="lte")){const Pt={};null===c?c=[Pt]:c.push(Pt),f++}}if(at===f)return bl.errors=[{instancePath:t,schemaPath:"#/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=ft,null!==c&&(ft?c.length=ft:c=null),D=et===f}else D=!0;if(D){if(void 0!==r.lte){const et=f,ft=f,at=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Mt;if(void 0===r.lt&&(Mt="lt")){const Pt={};null===c?c=[Pt]:c.push(Pt),f++}}if(at===f)return bl.errors=[{instancePath:t,schemaPath:"#/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=ft,null!==c&&(ft?c.length=ft:c=null),D=et===f}else D=!0;if(D){if(void 0!==r.gt){const et=f;if("string"!=typeof r.gt)return bl.errors=[{instancePath:t+"/gt",schemaPath:"#/properties/gt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Oe=et===f}else Oe=!0;if(Oe){if(void 0!==r.gte){const et=f;if("string"!=typeof r.gte)return bl.errors=[{instancePath:t+"/gte",schemaPath:"#/properties/gte/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Oe=et===f}else Oe=!0;if(Oe){if(void 0!==r.lt){const et=f;if("string"!=typeof r.lt)return bl.errors=[{instancePath:t+"/lt",schemaPath:"#/properties/lt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Oe=et===f}else Oe=!0;if(Oe)if(void 0!==r.lte){const et=f;if("string"!=typeof r.lte)return bl.errors=[{instancePath:t+"/lte",schemaPath:"#/properties/lte/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Oe=et===f}else Oe=!0}}}}}}}}}return bl.errors=c,0===f}function yy(r,t){const n=te[r];if(!n)throw new ce(_e.SchemaValidatorSchemaNotFound,`schema for ${r} not found.`);if(n(t),!n.errors)return;const[i]=n.errors;let{instancePath:l,message:h,keyword:c}=i;if(l||(l=r),"additionalProperties"===c)throw new ce(_e.SchemaValidatorAdditionalPropertyNotAllowed,`${h}: ${l}: ${i.params.additionalProperty}`);if("unevaluatedProperties"===c)throw new ce(_e.SchemaValidatorUnevaluatedPropertyNotAllowed,`${h}: ${l}: ${i.params.unevaluatedProperty}`);throw new ce(_e.SchemaValidatorFailure,`${l}: ${h}`)}bl.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};var Nu=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class Lu{constructor(t){this.cache=t||new Fi(600)}static get singleton(){return void 0===Lu._singleton&&(Lu._singleton=new Lu),Lu._singleton}static verifySignatures(t,n){return Nu(this,void 0,void 0,function*(){return yield Lu.singleton.verifySignatures(t,n)})}verifySignatures(t,n){return Nu(this,void 0,void 0,function*(){const i=[];for(const l of t.signatures){let h;const c=Dr.getKid(l),f=`${l.protected}.${t.payload}.${l.signature}`,V=yield this.cache.get(f);if(void 0===V){const D=yield Lu.getPublicKey(c,n);h=yield Dr.verifySignature(t.payload,l,D),yield this.cache.set(f,h)}else h=V;const $=Dr.extractDid(c);if(!h)throw new ce(_e.GeneralJwsVerifierInvalidSignature,`Signature verification failed for ${$}`);i.push($)}return{signers:i}})}static getPublicKey(t,n){return Nu(this,void 0,void 0,function*(){const i=Dr.extractDid(t),{didDocument:l}=yield n.resolve(i),{verificationMethod:h=[]}=l||{};let c;for(const V of h)if(t.endsWith(V.id)){c=V;break}if(!c)throw new ce(_e.GeneralJwsVerifierGetPublicKeyNotFound,"public key needed to verify signature not found in DID Document");yy("JwkVerificationMethod",c);const{publicKeyJwk:f}=c;return f})}}const MA=["string","number","bigint","symbol"],bs=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];class kr{constructor(t,n,i){this.major=t,this.majorEncoded=t<<5,this.name=n,this.terminal=i}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}}kr.uint=new kr(0,"uint",!0),kr.negint=new kr(1,"negint",!0),kr.bytes=new kr(2,"bytes",!0),kr.string=new kr(3,"string",!0),kr.array=new kr(4,"array",!1),kr.map=new kr(5,"map",!1),kr.tag=new kr(6,"tag",!1),kr.float=new kr(7,"float",!0),kr.false=new kr(7,"false",!0),kr.true=new kr(7,"true",!0),kr.null=new kr(7,"null",!0),kr.undefined=new kr(7,"undefined",!0),kr.break=new kr(7,"break",!0);class Ti{constructor(t,n,i){this.type=t,this.value=n,this.encodedLength=i,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const Uu=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,cu=new TextDecoder,W6=new TextEncoder;function gy(r){return Uu&&globalThis.Buffer.isBuffer(r)}function AA(r){return r instanceof Uint8Array?gy(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r:Uint8Array.from(r)}const Fu=Uu?(r,t,n)=>n-t>64?globalThis.Buffer.from(r.subarray(t,n)).toString("utf8"):yv(r,t,n):(r,t,n)=>n-t>64?cu.decode(r.subarray(t,n)):yv(r,t,n),TA=Uu?r=>r.length>64?globalThis.Buffer.from(r):co(r):r=>r.length>64?W6.encode(r):co(r),fh=r=>Uint8Array.from(r),Hw=Uu?(r,t,n)=>gy(r)?new Uint8Array(r.subarray(t,n)):r.slice(t,n):(r,t,n)=>r.slice(t,n),mv=Uu?(r,t)=>(r=r.map(n=>n instanceof Uint8Array?n:globalThis.Buffer.from(n)),AA(globalThis.Buffer.concat(r,t))):(r,t)=>{const n=new Uint8Array(t);let i=0;for(let l of r)i+l.length>n.length&&(l=l.subarray(0,n.length-i)),n.set(l,i),i+=l.length;return n},JE=Uu?r=>globalThis.Buffer.allocUnsafe(r):r=>new Uint8Array(r);function co(r,t=1/0){let n;const i=r.length;let l=null;const h=[];for(let c=0;c<i;++c){if(n=r.charCodeAt(c),n>55295&&n<57344){if(!l){if(n>56319){(t-=3)>-1&&h.push(239,191,189);continue}if(c+1===i){(t-=3)>-1&&h.push(239,191,189);continue}l=n;continue}if(n<56320){(t-=3)>-1&&h.push(239,191,189),l=n;continue}n=65536+(l-55296<<10|n-56320)}else l&&(t-=3)>-1&&h.push(239,191,189);if(l=null,n<128){if((t-=1)<0)break;h.push(n)}else if(n<2048){if((t-=2)<0)break;h.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;h.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;h.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return h}function yv(r,t,n){const i=[];for(;t<n;){const l=r[t];let h=null,c=l>239?4:l>223?3:l>191?2:1;if(t+c<=n){let f,V,$,D;switch(c){case 1:l<128&&(h=l);break;case 2:f=r[t+1],128==(192&f)&&(D=(31&l)<<6|63&f,D>127&&(h=D));break;case 3:f=r[t+1],V=r[t+2],128==(192&f)&&128==(192&V)&&(D=(15&l)<<12|(63&f)<<6|63&V,D>2047&&(D<55296||D>57343)&&(h=D));break;case 4:f=r[t+1],V=r[t+2],$=r[t+3],128==(192&f)&&128==(192&V)&&128==(192&$)&&(D=(15&l)<<18|(63&f)<<12|(63&V)<<6|63&$,D>65535&&D<1114112&&(h=D))}}null===h?(h=65533,c=1):h>65535&&(h-=65536,i.push(h>>>10&1023|55296),h=56320|1023&h),i.push(h),t+=c}return function DA(r){const t=r.length;if(t<=Ww)return String.fromCharCode.apply(String,r);let n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,r.slice(i,i+=Ww));return n}(i)}const Ww=4096;class CA{constructor(t=256){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let n=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1)n.set(t,n.length-(this.maxCursor-this.cursor)-1);else{if(n){const l=n.length-(this.maxCursor-this.cursor)-1;l<n.length&&(this.chunks[this.chunks.length-1]=n.subarray(0,l),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(n=JE(this.chunkSize),this.chunks.push(n),this.maxCursor+=n.length,null===this._initReuseChunk&&(this._initReuseChunk=n),n.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let n;if(1===this.chunks.length){const i=this.chunks[0];t&&this.cursor>i.length/2?(n=this.cursor===i.length?i:i.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):n=Hw(i,0,this.cursor)}else n=mv(this.chunks,this.cursor);return t&&this.reset(),n}}const ts="CBOR decode error:",kA="CBOR encode error:",vy=[];function ju(r,t,n){if(r.length-t<n)throw new Error(`${ts} not enough data for type`)}vy[23]=1,vy[24]=2,vy[25]=3,vy[26]=5,vy[27]=9;const wl=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Fm(r,t,n){ju(r,t,1);const i=r[t];if(!0===n.strict&&i<wl[0])throw new Error(`${ts} integer encoded in more bytes than necessary (strict decode)`);return i}function jm(r,t,n){ju(r,t,2);const i=r[t]<<8|r[t+1];if(!0===n.strict&&i<wl[1])throw new Error(`${ts} integer encoded in more bytes than necessary (strict decode)`);return i}function $m(r,t,n){ju(r,t,4);const i=16777216*r[t]+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3];if(!0===n.strict&&i<wl[2])throw new Error(`${ts} integer encoded in more bytes than necessary (strict decode)`);return i}function Km(r,t,n){ju(r,t,8);const l=16777216*r[t+4]+(r[t+5]<<16)+(r[t+6]<<8)+r[t+7],h=(BigInt(16777216*r[t]+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3])<<BigInt(32))+BigInt(l);if(!0===n.strict&&h<wl[3])throw new Error(`${ts} integer encoded in more bytes than necessary (strict decode)`);if(h<=Number.MAX_SAFE_INTEGER)return Number(h);if(!0===n.allowBigInt)return h;throw new Error(`${ts} integers outside of the safe integer range are not supported`)}function ss(r,t){return lu(r,0,t.value)}function lu(r,t,n){if(n<wl[0]){const i=Number(n);r.push([t|i])}else if(n<wl[1]){const i=Number(n);r.push([24|t,i])}else if(n<wl[2]){const i=Number(n);r.push([25|t,i>>>8,255&i])}else if(n<wl[3]){const i=Number(n);r.push([26|t,i>>>24&255,i>>>16&255,i>>>8&255,255&i])}else{const i=BigInt(n);if(!(i<wl[4]))throw new Error(`${ts} encountered BigInt larger than allowable range`);{const l=[27|t,0,0,0,0,0,0,0];let h=Number(i&BigInt(4294967295)),c=Number(i>>BigInt(32)&BigInt(4294967295));l[8]=255&h,h>>=8,l[7]=255&h,h>>=8,l[6]=255&h,h>>=8,l[5]=255&h,l[4]=255&c,c>>=8,l[3]=255&c,c>>=8,l[2]=255&c,c>>=8,l[1]=255&c,r.push(l)}}}ss.encodedSize=function(t){return lu.encodedSize(t.value)},lu.encodedSize=function(t){return t<wl[0]?1:t<wl[1]?2:t<wl[2]?3:t<wl[3]?5:9},ss.compareTokens=function(t,n){return t.value<n.value?-1:t.value>n.value?1:0};const vv=BigInt(-1),t2=BigInt(1);function RA(r,t){const n=t.value;lu(r,t.type.majorEncoded,"bigint"==typeof n?n*vv-t2:-1*n-1)}function by(r,t,n,i){ju(r,t,n+i);const l=Hw(r,t+n,t+n+i);return new Ti(kr.bytes,l,n+i)}function BA(r,t,n,i){return by(r,t,1,n)}function Ud(r){return void 0===r.encodedBytes&&(r.encodedBytes=r.type===kr.string?TA(r.value):r.value),r.encodedBytes}function $u(r,t){const n=Ud(t);lu(r,t.type.majorEncoded,n.length),r.push(n)}function wy(r,t,n,i,l){const h=n+i;ju(r,t,h);const c=new Ti(kr.string,Fu(r,t+n,t+h),h);return!0===l.retainStringBytes&&(c.byteValue=Hw(r,t+n,t+h)),c}function Z6(r,t,n,i){return wy(r,t,1,n,i)}RA.encodedSize=function(t){const n=t.value,i="bigint"==typeof n?n*vv-t2:-1*n-1;return i<wl[0]?1:i<wl[1]?2:i<wl[2]?3:i<wl[3]?5:9},RA.compareTokens=function(t,n){return t.value<n.value?1:t.value>n.value?-1:0},$u.encodedSize=function(t){const n=Ud(t);return lu.encodedSize(n.length)+n.length},$u.compareTokens=function(t,n){return function G6(r,t){return r.length<t.length?-1:r.length>t.length?1:function Zh(r,t){if(gy(r)&&gy(t))return r.compare(t);for(let n=0;n<r.length;n++)if(r[n]!==t[n])return r[n]<t[n]?-1:1;return 0}(r,t)}(Ud(t),Ud(n))};const Gw=$u;function _y(r,t,n,i){return new Ti(kr.array,i,n)}function UA(r,t,n,i){return _y(0,0,1,n)}function bv(r,t){lu(r,kr.array.majorEncoded,t.value)}function Ey(r,t,n,i){return new Ti(kr.map,i,n)}function _l(r,t,n,i){return Ey(0,0,1,n)}function a2(r,t){lu(r,kr.map.majorEncoded,t.value)}function HA(r,t,n,i){return new Ti(kr.tag,n,1)}function xy(r,t){lu(r,kr.tag.majorEncoded,t.value)}bv.compareTokens=ss.compareTokens,bv.encodedSize=function(t){return lu.encodedSize(t.value)},a2.compareTokens=ss.compareTokens,a2.encodedSize=function(t){return lu.encodedSize(t.value)},xy.compareTokens=ss.compareTokens,xy.encodedSize=function(t){return lu.encodedSize(t.value)};function $p(r,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(r))throw new Error(`${ts} NaN values are not supported`);if(!1===n.allowInfinity&&(r===1/0||r===-1/0))throw new Error(`${ts} Infinity values are not supported`)}return new Ti(kr.float,r,t)}function Yw(r,t,n){const i=t.value;if(!1===i)r.push([20|kr.float.majorEncoded]);else if(!0===i)r.push([21|kr.float.majorEncoded]);else if(null===i)r.push([22|kr.float.majorEncoded]);else if(void 0===i)r.push([23|kr.float.majorEncoded]);else{let l,h=!1;(!n||!0!==n.float64)&&(e5(i),l=Ev(ph,1),i===l||Number.isNaN(i)?(ph[0]=249,r.push(ph.slice(0,3)),h=!0):(Kp(i),l=xv(ph,1),i===l&&(ph[0]=250,r.push(ph.slice(0,5)),h=!0))),h||(function Sv(r){Ku.setFloat64(0,r,!1)}(i),l=YA(ph,1),ph[0]=251,r.push(ph.slice(0,9)))}}Yw.encodedSize=function(t,n){const i=t.value;if(!1===i||!0===i||null==i)return 1;if(!n||!0!==n.float64){e5(i);let l=Ev(ph,1);if(i===l||Number.isNaN(i))return 3;if(Kp(i),l=xv(ph,1),i===l)return 5}return 9};const XA=new ArrayBuffer(9),Ku=new DataView(XA,1),ph=new Uint8Array(XA,0);function e5(r){if(r===1/0)Ku.setUint16(0,31744,!1);else if(r===-1/0)Ku.setUint16(0,64512,!1);else if(Number.isNaN(r))Ku.setUint16(0,32256,!1);else{Ku.setFloat32(0,r);const t=Ku.getUint32(0),n=(2139095040&t)>>23,i=8388607&t;if(255===n)Ku.setUint16(0,31744,!1);else if(0===n)Ku.setUint16(0,(2147483648&r)>>16|i>>13,!1);else{const l=n-127;l<-24?Ku.setUint16(0,0):Ku.setUint16(0,l<-14?(2147483648&t)>>16|1<<24+l:(2147483648&t)>>16|l+15<<10|i>>13,!1)}}}function Ev(r,t){if(r.length-t<2)throw new Error(`${ts} not enough data for float16`);const n=(r[t]<<8)+r[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const i=n>>10&31,l=1023&n;let h;return h=0===i?l*2**-24:31!==i?(l+1024)*2**(i-25):0===l?1/0:NaN,32768&n?-h:h}function Kp(r){Ku.setFloat32(0,r,!1)}function xv(r,t){if(r.length-t<4)throw new Error(`${ts} not enough data for float32`);return new DataView(r.buffer,(r.byteOffset||0)+t,4).getFloat32(0,!1)}function YA(r,t){if(r.length-t<8)throw new Error(`${ts} not enough data for float64`);return new DataView(r.buffer,(r.byteOffset||0)+t,8).getFloat64(0,!1)}function ns(r,t,n){throw new Error(`${ts} encountered invalid minor (${n}) for major ${r[t]>>>5}`)}function Jw(r){return()=>{throw new Error(`${ts} ${r}`)}}Yw.compareTokens=ss.compareTokens;const qr=[];for(let r=0;r<=23;r++)qr[r]=ns;qr[24]=function br(r,t,n,i){return new Ti(kr.uint,Fm(r,t+1,i),2)},qr[25]=function Bo(r,t,n,i){return new Ti(kr.uint,jm(r,t+1,i),3)},qr[26]=function PA(r,t,n,i){return new Ti(kr.uint,$m(r,t+1,i),5)},qr[27]=function OA(r,t,n,i){return new Ti(kr.uint,Km(r,t+1,i),9)},qr[28]=ns,qr[29]=ns,qr[30]=ns,qr[31]=ns;for(let r=32;r<=55;r++)qr[r]=ns;qr[56]=function gv(r,t,n,i){return new Ti(kr.negint,-1-Fm(r,t+1,i),2)},qr[57]=function Pf(r,t,n,i){return new Ti(kr.negint,-1-jm(r,t+1,i),3)},qr[58]=function e2(r,t,n,i){return new Ti(kr.negint,-1-$m(r,t+1,i),5)},qr[59]=function r4(r,t,n,i){const l=Km(r,t+1,i);if("bigint"!=typeof l){const h=-1-l;if(h>=Number.MIN_SAFE_INTEGER)return new Ti(kr.negint,h,9)}if(!0!==i.allowBigInt)throw new Error(`${ts} integers outside of the safe integer range are not supported`);return new Ti(kr.negint,vv-BigInt(l),9)},qr[60]=ns,qr[61]=ns,qr[62]=ns,qr[63]=ns;for(let r=64;r<=87;r++)qr[r]=BA;qr[88]=function NA(r,t,n,i){return by(r,t,2,Fm(r,t+1,i))},qr[89]=function gd(r,t,n,i){return by(r,t,3,jm(r,t+1,i))},qr[90]=function Xh(r,t,n,i){return by(r,t,5,$m(r,t+1,i))},qr[91]=function LA(r,t,n,i){const l=Km(r,t+1,i);if("bigint"==typeof l)throw new Error(`${ts} 64-bit integer bytes lengths not supported`);return by(r,t,9,l)},qr[92]=ns,qr[93]=ns,qr[94]=ns,qr[95]=Jw("indefinite length bytes/strings are not supported");for(let r=96;r<=119;r++)qr[r]=Z6;qr[120]=function X6(r,t,n,i){return wy(r,t,2,Fm(r,t+1,i),i)},qr[121]=function n2(r,t,n,i){return wy(r,t,3,jm(r,t+1,i),i)},qr[122]=function r2(r,t,n,i){return wy(r,t,5,$m(r,t+1,i),i)},qr[123]=function o2(r,t,n,i){const l=Km(r,t+1,i);if("bigint"==typeof l)throw new Error(`${ts} 64-bit integer string lengths not supported`);return wy(r,t,9,l,i)},qr[124]=ns,qr[125]=ns,qr[126]=ns,qr[127]=Jw("indefinite length bytes/strings are not supported");for(let r=128;r<=151;r++)qr[r]=UA;qr[152]=function s2(r,t,n,i){return _y(0,0,2,Fm(r,t+1,i))},qr[153]=function FA(r,t,n,i){return _y(0,0,3,jm(r,t+1,i))},qr[154]=function jA(r,t,n,i){return _y(0,0,5,$m(r,t+1,i))},qr[155]=function $A(r,t,n,i){const l=Km(r,t+1,i);if("bigint"==typeof l)throw new Error(`${ts} 64-bit integer array lengths not supported`);return _y(0,0,9,l)},qr[156]=ns,qr[157]=ns,qr[158]=ns,qr[159]=function KA(r,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${ts} indefinite length items not allowed`);return _y(0,0,1,1/0)};for(let r=160;r<=183;r++)qr[r]=_l;qr[184]=function Vm(r,t,n,i){return Ey(0,0,2,Fm(r,t+1,i))},qr[185]=function pa(r,t,n,i){return Ey(0,0,3,jm(r,t+1,i))},qr[186]=function VA(r,t,n,i){return Ey(0,0,5,$m(r,t+1,i))},qr[187]=function Y6(r,t,n,i){const l=Km(r,t+1,i);if("bigint"==typeof l)throw new Error(`${ts} 64-bit integer map lengths not supported`);return Ey(0,0,9,l)},qr[188]=ns,qr[189]=ns,qr[190]=ns,qr[191]=function zA(r,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${ts} indefinite length items not allowed`);return Ey(0,0,1,1/0)};for(let r=192;r<=215;r++)qr[r]=HA;qr[216]=function WA(r,t,n,i){return new Ti(kr.tag,Fm(r,t+1,i),2)},qr[217]=function wv(r,t,n,i){return new Ti(kr.tag,jm(r,t+1,i),3)},qr[218]=function hh(r,t,n,i){return new Ti(kr.tag,$m(r,t+1,i),5)},qr[219]=function J6(r,t,n,i){return new Ti(kr.tag,Km(r,t+1,i),9)},qr[220]=ns,qr[221]=ns,qr[222]=ns,qr[223]=ns;for(let r=224;r<=243;r++)qr[r]=Jw("simple values are not supported");qr[244]=ns,qr[245]=ns,qr[246]=ns,qr[247]=function ZA(r,t,n,i){if(!1===i.allowUndefined)throw new Error(`${ts} undefined values are not supported`);return!0===i.coerceUndefinedToNull?new Ti(kr.null,null,1):new Ti(kr.undefined,void 0,1)},qr[248]=Jw("simple values are not supported"),qr[249]=function _v(r,t,n,i){return $p(Ev(r,t+1),3,i)},qr[250]=function Q6(r,t,n,i){return $p(xv(r,t+1),5,i)},qr[251]=function l2(r,t,n,i){return $p(YA(r,t+1),9,i)},qr[252]=ns,qr[253]=ns,qr[254]=ns,qr[255]=function q6(r,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${ts} indefinite length items not allowed`);return new Ti(kr.break,void 0,1)};const du=[];for(let r=0;r<24;r++)du[r]=new Ti(kr.uint,r,1);for(let r=-1;r>=-24;r--)du[31-r]=new Ti(kr.negint,r,1);du[64]=new Ti(kr.bytes,new Uint8Array(0),1),du[96]=new Ti(kr.string,"",1),du[128]=new Ti(kr.array,0,1),du[160]=new Ti(kr.map,0,1),du[244]=new Ti(kr.false,!1,1),du[245]=new Ti(kr.true,!0,1),du[246]=new Ti(kr.null,null,1);const JA={float64:!1,mapSorter:function d2(r,t){const n=Array.isArray(r[0])?r[0][0]:r[0],i=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==i.type)return n.type.compare(i.type);const h=QA[n.type.major].compareTokens(n,i);return 0===h&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),h},quickEncodeToken:function i4(r){switch(r.type){case kr.false:return fh([244]);case kr.true:return fh([245]);case kr.null:return fh([246]);case kr.bytes:return r.value.length?void 0:fh([64]);case kr.string:return""===r.value?fh([96]):void 0;case kr.array:return 0===r.value?fh([128]):void 0;case kr.map:return 0===r.value?fh([160]):void 0;case kr.uint:return r.value<24?fh([Number(r.value)]):void 0;case kr.negint:if(r.value>=-24)return fh([31-Number(r.value)])}}},QA=function qA(){const r=[];return r[kr.uint.major]=ss,r[kr.negint.major]=RA,r[kr.bytes.major]=$u,r[kr.string.major]=Gw,r[kr.array.major]=bv,r[kr.map.major]=a2,r[kr.tag.major]=xy,r[kr.float.major]=Yw,r}(),Vu=new CA;class qw{constructor(t,n){this.obj=t,this.parent=n}includes(t){let n=this;do{if(n.obj===t)return!0}while(n=n.parent);return!1}static createCheck(t,n){if(t&&t.includes(n))throw new Error(`${kA} object contains circular references`);return new qw(n,t)}}const Of={null:new Ti(kr.null,null),undefined:new Ti(kr.undefined,void 0),true:new Ti(kr.true,!0),false:new Ti(kr.false,!1),emptyArray:new Ti(kr.array,0),emptyMap:new Ti(kr.map,0)},mh={number:(r,t,n,i)=>Number.isInteger(r)&&Number.isSafeInteger(r)?new Ti(r>=0?kr.uint:kr.negint,r):new Ti(kr.float,r),bigint:(r,t,n,i)=>r>=BigInt(0)?new Ti(kr.uint,r):new Ti(kr.negint,r),Uint8Array:(r,t,n,i)=>new Ti(kr.bytes,r),string:(r,t,n,i)=>new Ti(kr.string,r),boolean:(r,t,n,i)=>r?Of.true:Of.false,null:(r,t,n,i)=>Of.null,undefined:(r,t,n,i)=>Of.undefined,ArrayBuffer:(r,t,n,i)=>new Ti(kr.bytes,new Uint8Array(r)),DataView:(r,t,n,i)=>new Ti(kr.bytes,new Uint8Array(r.buffer,r.byteOffset,r.byteLength)),Array(r,t,n,i){if(!r.length)return!0===n.addBreakTokens?[Of.emptyArray,new Ti(kr.break)]:Of.emptyArray;i=qw.createCheck(i,r);const l=[];let h=0;for(const c of r)l[h++]=Mv(c,n,i);return n.addBreakTokens?[new Ti(kr.array,r.length),l,new Ti(kr.break)]:[new Ti(kr.array,r.length),l]},Object(r,t,n,i){const l="Object"!==t,h=l?r.keys():Object.keys(r),c=l?r.size:h.length;if(!c)return!0===n.addBreakTokens?[Of.emptyMap,new Ti(kr.break)]:Of.emptyMap;i=qw.createCheck(i,r);const f=[];let V=0;for(const $ of h)f[V++]=[Mv($,n,i),Mv(l?r.get($):r[$],n,i)];return function Qw(r,t){t.mapSorter&&r.sort(t.mapSorter)}(f,n),n.addBreakTokens?[new Ti(kr.map,c),f,new Ti(kr.break)]:[new Ti(kr.map,c),f]}};mh.Map=mh.Object,mh.Buffer=mh.Uint8Array;for(const r of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))mh[`${r}Array`]=mh.DataView;function Mv(r,t={},n){const i=function YE(r){if(null===r)return"null";if(void 0===r)return"undefined";if(!0===r||!1===r)return"boolean";const t=typeof r;if(MA.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(r))return"Array";if(function pv(r){return r&&r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer.call(null,r)}(r))return"Buffer";const n=function yd(r){const t=Object.prototype.toString.call(r).slice(8,-1);if(bs.includes(t))return t}(r);return n||"Object"}(r),l=t&&t.typeEncoders&&t.typeEncoders[i]||mh[i];if("function"==typeof l){const c=l(r,i,t,n);if(null!=c)return c}const h=mh[i];if(!h)throw new Error(`${kA} unsupported type: ${i}`);return h(r,i,t,n)}function eT(r,t,n,i){if(Array.isArray(t))for(const l of t)eT(r,l,n,i);else n[t.type.major](r,t,i)}function tT(r,t,n){const i=Mv(r,n);if(!Array.isArray(i)&&n.quickEncodeToken){const l=n.quickEncodeToken(i);if(l)return l;const h=t[i.type.major];if(h.encodedSize){const c=h.encodedSize(i,n),f=new CA(c);if(h(f,i,n),1!==f.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${i} was wrong`);return AA(f.chunks[0])}}return Vu.reset(),eT(Vu,i,t,n),Vu.toBytes(!0)}const rT={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class iT{constructor(t,n={}){this.pos=0,this.data=t,this.options=n}done(){return this.pos>=this.data.length}next(){const t=this.data[this.pos];let n=du[t];if(void 0===n){const i=qr[t];if(!i)throw new Error(`${ts} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);n=i(this.data,this.pos,31&t,this.options)}return this.pos+=n.encodedLength,n}}const Av=Symbol.for("DONE"),zm=Symbol.for("BREAK");function Sy(r,t){if(r.done())return Av;const n=r.next();if(n.type===kr.break)return zm;if(n.type.terminal)return n.value;if(n.type===kr.array)return function Hm(r,t,n){const i=[];for(let l=0;l<r.value;l++){const h=Sy(t,n);if(h===zm){if(r.value===1/0)break;throw new Error(`${ts} got unexpected break to lengthed array`)}if(h===Av)throw new Error(`${ts} found array but not enough entries (got ${l}, expected ${r.value})`);i[l]=h}return i}(n,r,t);if(n.type===kr.map)return function t5(r,t,n){const i=!0===n.useMaps,l=i?void 0:{},h=i?new Map:void 0;for(let c=0;c<r.value;c++){const f=Sy(t,n);if(f===zm){if(r.value===1/0)break;throw new Error(`${ts} got unexpected break to lengthed map`)}if(f===Av)throw new Error(`${ts} found map but not enough entries (got ${c} [no key], expected ${r.value})`);if(!0!==i&&"string"!=typeof f)throw new Error(`${ts} non-string keys not supported (got ${typeof f})`);if(!0===n.rejectDuplicateMapKeys&&(i&&h.has(f)||!i&&f in l))throw new Error(`${ts} found repeat map key "${f}"`);const V=Sy(t,n);if(V===Av)throw new Error(`${ts} found map but not enough entries (got ${c} [no value], expected ${r.value})`);i?h.set(f,V):l[f]=V}return i?h:l}(n,r,t);if(n.type===kr.tag){if(t.tags&&"function"==typeof t.tags[n.value]){const i=Sy(r,t);return t.tags[n.value](i)}throw new Error(`${ts} tag not supported (${n.value})`)}throw new Error("unsupported")}const Ty=(new Uint8Array(0),r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")});class e_{constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class dT{constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return uT(this,t)}}class i5{constructor(t){this.decoders=t}or(t){return uT(this,t)}decode(t){const i=this.decoders[t[0]];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const uT=(r,t)=>new i5({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class o5{constructor(t,n,i,l){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=l,this.encoder=new e_(t,n,i),this.decoder=new dT(t,n,l)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const u2=({name:r,prefix:t,encode:n,decode:i})=>new o5(r,t,n,i),fT=({prefix:r,name:t,alphabet:n})=>{const{encode:i,decode:l}=function My(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var l=0;l<r.length;l++){var h=r.charAt(l),c=h.charCodeAt(0);if(255!==n[c])throw new TypeError(h+" is ambiguous");n[c]=l}var f=r.length,V=r.charAt(0),$=Math.log(f)/Math.log(256),D=Math.log(256)/Math.log(f);function De(Oe){if("string"!=typeof Oe)throw new TypeError("Expected String");if(0===Oe.length)return new Uint8Array;var je=0;if(" "!==Oe[je]){for(var et=0,ft=0;Oe[je]===V;)et++,je++;for(var at=(Oe.length-je)*$+1>>>0,dt=new Uint8Array(at);Oe[je];){var Mt=n[Oe.charCodeAt(je)];if(255===Mt)return;for(var Pt=0,Dt=at-1;(0!==Mt||Pt<ft)&&-1!==Dt;Dt--,Pt++)dt[Dt]=(Mt+=f*dt[Dt]>>>0)%256>>>0,Mt=Mt/256>>>0;if(0!==Mt)throw new Error("Non-zero carry");ft=Pt,je++}if(" "!==Oe[je]){for(var Kt=at-ft;Kt!==at&&0===dt[Kt];)Kt++;for(var Wt=new Uint8Array(et+(at-Kt)),En=et;Kt!==at;)Wt[En++]=dt[Kt++];return Wt}}}return{encode:function q(Oe){if(Oe instanceof Uint8Array||(ArrayBuffer.isView(Oe)?Oe=new Uint8Array(Oe.buffer,Oe.byteOffset,Oe.byteLength):Array.isArray(Oe)&&(Oe=Uint8Array.from(Oe))),!(Oe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Oe.length)return"";for(var je=0,et=0,ft=0,at=Oe.length;ft!==at&&0===Oe[ft];)ft++,je++;for(var dt=(at-ft)*D+1>>>0,Mt=new Uint8Array(dt);ft!==at;){for(var Pt=Oe[ft],Dt=0,Kt=dt-1;(0!==Pt||Dt<et)&&-1!==Kt;Kt--,Dt++)Mt[Kt]=(Pt+=256*Mt[Kt]>>>0)%f>>>0,Pt=Pt/f>>>0;if(0!==Pt)throw new Error("Non-zero carry");et=Dt,ft++}for(var Wt=dt-et;Wt!==dt&&0===Mt[Wt];)Wt++;for(var En=V.repeat(je);Wt<dt;++Wt)En+=r.charAt(Mt[Wt]);return En},decodeUnsafe:De,decode:function Re(Oe){var je=De(Oe);if(je)return je;throw new Error(`Non-${t} character`)}}}(n,t);return u2({prefix:r,name:t,encode:i,decode:h=>Ty(l(h))})},Yh=({name:r,prefix:t,bitsPerChar:n,alphabet:i})=>u2({prefix:t,name:r,encode:l=>((r,t,n)=>{const i="="===t[t.length-1],l=(1<<n)-1;let h="",c=0,f=0;for(let V=0;V<r.length;++V)for(f=f<<8|r[V],c+=8;c>n;)c-=n,h+=t[l&f>>c];if(c&&(h+=t[l&f<<n-c]),i)for(;h.length*n&7;)h+="=";return h})(l,i,n),decode:l=>((r,t,n,i)=>{const l={};for(let D=0;D<t.length;++D)l[t[D]]=D;let h=r.length;for(;"="===r[h-1];)--h;const c=new Uint8Array(h*n/8|0);let f=0,V=0,$=0;for(let D=0;D<h;++D){const q=l[r[D]];if(void 0===q)throw new SyntaxError(`Non-${i} character`);V=V<<n|q,f+=n,f>=8&&(f-=8,c[$++]=255&V>>f)}if(f>=n||255&V<<8-f)throw new SyntaxError("Unexpected end of data");return c})(l,i,n,r)}),f2=Yh({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),yh=(Yh({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Yh({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Yh({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Yh({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Yh({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Yh({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Yh({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Yh({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),fT({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));fT({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var pT=128,c4=-128,u5=Math.pow(2,31),mT=128,h2=127,Ma=Math.pow(2,7),f5=Math.pow(2,14),p2=Math.pow(2,21),h5=Math.pow(2,28),p5=Math.pow(2,35),m2=Math.pow(2,42),gT=Math.pow(2,49),vT=Math.pow(2,56),y2=Math.pow(2,63);const r_={encode:function Rf(r,t,n){t=t||[];for(var i=n=n||0;r>=u5;)t[n++]=255&r|pT,r/=128;for(;r&c4;)t[n++]=255&r|pT,r>>>=7;return t[n]=0|r,Rf.bytes=n-i+1,t},decode:function yT(r,i){var c,n=0,l=0,h=i=i||0,f=r.length;do{if(h>=f)throw yT.bytes=0,new RangeError("Could not decode varint");c=r[h++],n+=l<28?(c&h2)<<l:(c&h2)*Math.pow(2,l),l+=7}while(c>=mT);return yT.bytes=h-i,n},encodingLength:function(r){return r<Ma?1:r<f5?2:r<p2?3:r<h5?4:r<p5?5:r<m2?6:r<gT?7:r<vT?8:r<y2?9:10}},zu=(r,t=0)=>[r_.decode(r,t),r_.decode.bytes],i_=(r,t,n=0)=>(r_.encode(r,t,n),t),Tv=r=>r_.encodingLength(r);class g2{constructor(t,n,i,l){this.code=t,this.size=n,this.digest=i,this.bytes=l}}const v2=(r,t)=>{const{bytes:n,version:i}=r;return 0===i?Dv(n,o_(r),t||yh.encoder):g5(n,o_(r),t||f2.encoder)},Iy=new WeakMap,o_=r=>{const t=Iy.get(r);if(null==t){const n=new Map;return Iy.set(r,n),n}return t};class Fc{constructor(t,n,i,l){this.code=n,this.version=t,this.multihash=i,this.bytes=l,this["/"]=l}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==Dy)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==_T)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Fc.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,i=((r,t)=>{const n=t.byteLength,i=Tv(r),l=i+Tv(n),h=new Uint8Array(l+n);return i_(r,h,0),i_(n,h,i),h.set(t,l),new g2(r,n,t,h)})(t,n);return Fc.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return Fc.equals(this,t)}static equals(t,n){return n&&t.code===n.code&&t.version===n.version&&((r,t)=>r===t||r.code===t.code&&r.size===t.size&&t.bytes instanceof Uint8Array&&((r,t)=>{if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0})(r.bytes,t.bytes))(t.multihash,n.multihash)}toString(t){return v2(this,t)}toJSON(){return{"/":v2(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(null==t)return null;const n=t;if(n instanceof Fc)return n;if(null!=n["/"]&&n["/"]===n.bytes||n.asCID===n){const{version:i,code:l,multihash:h,bytes:c}=n;return new Fc(i,l,h,c||Cv(i,l,h.bytes))}if(!0===n[a_]){const{version:i,multihash:l,code:h}=n,c=(r=>{const t=Ty(r),[n,i]=zu(t),[l,h]=zu(t.subarray(i)),c=t.subarray(i+h);if(c.byteLength!==l)throw new Error("Incorrect length");return new g2(n,l,c,t)})(l);return Fc.create(i,h,c)}return null}static create(t,n,i){if("number"!=typeof n)throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:if(n!==Dy)throw new Error(`Version 0 CID must use dag-pb (code: ${Dy}) block encoding`);return new Fc(t,n,i,i.bytes);case 1:{const l=Cv(t,n,i.bytes);return new Fc(t,n,i,l)}default:throw new Error("Invalid version")}}static createV0(t){return Fc.create(0,Dy,t)}static createV1(t,n){return Fc.create(1,t,n)}static decode(t){const[n,i]=Fc.decodeFirst(t);if(i.length)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=Fc.inspectBytes(t),i=n.size-n.multihashSize,l=Ty(t.subarray(i,i+n.multihashSize));if(l.byteLength!==n.multihashSize)throw new Error("Incorrect length");const h=l.subarray(n.multihashSize-n.digestSize),c=new g2(n.multihashCode,n.digestSize,h,l);return[0===n.version?Fc.createV0(c):Fc.createV1(n.codec,c),t.subarray(n.size)]}static inspectBytes(t){let n=0;const i=()=>{const[q,De]=zu(t.subarray(n));return n+=De,q};let l=i(),h=Dy;if(18===l?(l=0,n=0):h=i(),0!==l&&1!==l)throw new RangeError(`Invalid CID version ${l}`);const c=n,f=i(),V=i(),$=n+V;return{version:l,codec:h,multihashCode:f,digestSize:V,multihashSize:$-c,size:$}}static parse(t,n){const[i,l]=s_(t,n),h=Fc.decode(l);if(0===h.version&&"Q"!==t[0])throw Error("Version 0 CID string must not include multibase prefix");return o_(h).set(i,t),h}}const s_=(r,t)=>{switch(r[0]){case"Q":return[yh.prefix,(t||yh).decode(`${yh.prefix}${r}`)];case yh.prefix:return[yh.prefix,(t||yh).decode(r)];case f2.prefix:return[f2.prefix,(t||f2).decode(r)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}},Dv=(r,t,n)=>{const{prefix:i}=n;if(i!==yh.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const l=t.get(i);if(null==l){const h=n.encode(r).slice(1);return t.set(i,h),h}return l},g5=(r,t,n)=>{const{prefix:i}=n,l=t.get(i);if(null==l){const h=n.encode(r);return t.set(i,h),h}return l},Dy=112,_T=18,Cv=(r,t,n)=>{const i=Tv(r),l=i+Tv(t),h=new Uint8Array(l+n.byteLength);return i_(r,h,0),i_(t,h,i),h.set(n,l),h},a_=Symbol.for("@ipld/js-cid/CID"),ET={float64:!0,typeEncoders:{Object:function v5(r){if(r.asCID!==r&&r["/"]!==r.bytes)return null;const t=Fc.asCID(r);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new Ti(kr.tag,42),new Ti(kr.bytes,n)]},undefined:function b5(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function w5(r){if(Number.isNaN(r))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(r===1/0||r===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}},xT={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};xT.tags[42]=function _5(r){if(0!==r[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return Fc.decode(r.subarray(1))};const Fd="dag-cbor",Cy=113,ST=r=>function nT(r,t){return t=Object.assign({},JA,t),tT(r,QA,t)}(r,ET),kv=r=>function oT(r,t){if(!(r instanceof Uint8Array))throw new Error(`${ts} data to decode must be a Uint8Array`);const n=(t=Object.assign({},rT,t)).tokenizer||new iT(r,t),i=Sy(n,t);if(i===Av)throw new Error(`${ts} did not find any content to decode`);if(i===zm)throw new Error(`${ts} got unexpected break`);if(!n.done())throw new Error(`${ts} too many terminals, data makes no sense`);return i}(r,xT);var gh=_(41405),Gm=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})},jc=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(h){n[h]=r[h]&&function(c){return new Promise(function(f,V){!function l(h,c,f,V){Promise.resolve(V).then(function($){h({value:$,done:f})},c)}(f,V,(c=r[h](c)).done,c.value)})}}},Ha=function(r){return this instanceof Ha?(this.v=r,this):new Ha(r)},Pv=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,i=n.apply(r,t||[]),h=[];return l={},c("next"),c("throw"),c("return"),l[Symbol.asyncIterator]=function(){return this},l;function c(De){i[De]&&(l[De]=function(Re){return new Promise(function(Oe,je){h.push([De,Re,Oe,je])>1||f(De,Re)})})}function f(De,Re){try{!function V(De){De.value instanceof Ha?Promise.resolve(De.value.v).then($,D):q(h[0][2],De)}(i[De](Re))}catch(Oe){q(h[0][3],Oe)}}function $(De){f("next",De)}function D(De){f("throw",De)}function q(De,Re){De(Re),h.shift(),h.length&&f(h[0][0],h[0][1])}};class b2{open(){return Gm(this,void 0,void 0,function*(){})}close(){return Gm(this,void 0,void 0,function*(){})}put(t,n,i){return Gm(this,void 0,void 0,function*(){return t})}get(t,n){return Gm(this,void 0,void 0,function*(){return new Uint8Array})}has(t,n){return Gm(this,void 0,void 0,function*(){return!1})}delete(t,n){return Gm(this,void 0,void 0,function*(){})}isEmpty(t){return Gm(this,void 0,void 0,function*(){return!0})}putMany(t,n){return Pv(this,arguments,function*(){var l,h,c;try{for(var D,V=!0,$=jc(t);!(l=(D=yield Ha($.next())).done);V=!0){V=!1;const q=D.value;yield Ha(this.put(q.cid,q.block,n)),yield yield Ha(q.cid)}}catch(q){h={error:q}}finally{try{!V&&!l&&(c=$.return)&&(yield Ha(c.call($)))}finally{if(h)throw h.error}}})}getMany(t,n){return Pv(this,arguments,function*(){var l,h,c;try{for(var D,V=!0,$=jc(t);!(l=(D=yield Ha($.next())).done);V=!0){V=!1;const q=D.value;yield yield Ha({cid:q,block:yield Ha(this.get(q,n))})}}catch(q){h={error:q}}finally{try{!V&&!l&&(c=$.return)&&(yield Ha(c.call($)))}finally{if(h)throw h.error}}})}getAll(t){return Pv(this,arguments,function*(){var i,l,h,c;const f=this.db.iterator({keys:!0,keyEncoding:"buffer"},t);try{for(var D,V=!0,$=jc(f);!(i=(D=yield Ha($.next())).done);V=!0){c=D.value,V=!1;const[q,De]=c;yield yield Ha({cid:gh.TO.decode(q),block:De})}}catch(q){l={error:q}}finally{try{!V&&!i&&(h=$.return)&&(yield Ha(h.call($)))}finally{if(l)throw l.error}}})}deleteMany(t,n){return Pv(this,arguments,function*(){var l,h,c;try{for(var D,V=!0,$=jc(t);!(l=(D=yield Ha($.next())).done);V=!0){V=!1;const q=D.value;yield Ha(this.delete(q,n)),yield yield Ha(q)}}catch(q){h={error:q}}finally{try{!V&&!l&&(c=$.return)&&(yield Ha(c.call($)))}finally{if(h)throw h.error}}})}clear(){return Gm(this,void 0,void 0,function*(){})}}var Bf=_(41861);function l_(r,t){this.v=r,this.k=t}function gi(r){return new l_(r,0)}function us(r){return function(){return new Ov(r.apply(this,arguments))}}function Ov(r){var t,n;function i(h,c){try{var f=r[h](c),V=f.value,$=V instanceof l_;Promise.resolve($?V.v:V).then(function(D){if($){var q="return"===h?"return":"next";if(!V.k||D.done)return i(q,D);D=r[q](D).value}l(f.done?"return":"normal",D)},function(D){i("throw",D)})}catch(D){l("throw",D)}}function l(h,c){switch(h){case"return":t.resolve({value:c,done:!0});break;case"throw":t.reject(c);break;default:t.resolve({value:c,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(h,c){return new Promise(function(f,V){var $={key:h,arg:c,resolve:f,reject:V,next:null};n?n=n.next=$:(t=n=$,i(h,c))})},"function"!=typeof r.return&&(this.return=void 0)}function Fo(r){var t,n,i,l=2;for(typeof Symbol<"u"&&(n=Symbol.asyncIterator,i=Symbol.iterator);l--;){if(n&&null!=(t=r[n]))return t.call(r);if(i&&null!=(t=r[i]))return new d_(t.call(r));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function d_(r){function t(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var i=n.done;return Promise.resolve(n.value).then(function(l){return{value:l,done:i}})}return(d_=function(i){this.s=i,this.n=i.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(i){var l=this.s.return;return void 0===l?Promise.resolve({value:i,done:!0}):t(l.apply(this.s,arguments))},throw:function(i){var l=this.s.return;return void 0===l?Promise.reject(i):t(l.apply(this.s,arguments))}},new d_(r)}Ov.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ov.prototype.next=function(r){return this._invoke("next",r)},Ov.prototype.throw=function(r){return this._invoke("throw",r)},Ov.prototype.return=function(r){return this._invoke("return",r)};var u_=_(5014);const w2=function x5(r,t=1){return t=Number(t),function E5(r){return null!=r[Symbol.asyncIterator]}(r)?us(function*(){let n=[];if(t<1&&(t=1),t!==Math.round(t))throw new Error("Batch size must be an integer");var h,i=!1,l=!1;try{for(var f,c=Fo(r);i=!(f=yield gi(c.next())).done;i=!1)for(n.push(f.value);n.length>=t;)yield n.slice(0,t),n=n.slice(t)}catch(V){l=!0,h=V}finally{try{i&&null!=c.return&&(yield gi(c.return()))}finally{if(l)throw h}}for(;n.length>0;)yield n.slice(0,t),n=n.slice(t)})():function*(){let n=[];if(t<1&&(t=1),t!==Math.round(t))throw new Error("Batch size must be an integer");for(const i of r)for(n.push(i);n.length>=t;)yield n.slice(0,t),n=n.slice(t);for(;n.length>0;)yield n.slice(0,t),n=n.slice(t)}()};function _2(r){return f_.apply(this,arguments)}function f_(){return f_=us(function*(r,t=1){var l,n=!1,i=!1;try{for(var c,h=Fo(w2(r,t));n=!(c=yield gi(h.next())).done;n=!1){const V=c.value.map(function(){var $=(0,ye.A)(function*(D){return D().then(q=>({ok:!0,value:q}),q=>({ok:!1,err:q}))});return function(D){return $.apply(this,arguments)}}());for(let $=0;$<V.length;$++){const D=yield gi(V[$]);if(!D.ok)throw D.err;yield D.value}}}catch(f){i=!0,l=f}finally{try{n&&null!=h.return&&(yield gi(h.return()))}finally{if(i)throw l}}}),f_.apply(this,arguments)}function h_(r,t){null==t&&(t=r.reduce((l,h)=>l+h.length,0));const n=Ze(t);let i=0;for(const l of r)n.set(l,i),i+=l.length;return n}function MT(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0}const x2=Symbol.for("@achingbrain/uint8arraylist");function S2(r,t){if(null==t||t<0)throw new RangeError("index is out of bounds");let n=0;for(const i of r){const l=n+i.byteLength;if(t<l)return{buf:i,index:t-n};n=l}throw new RangeError("index is out of bounds")}function p_(r){return!!r?.[x2]}class Zm{bufs;length;[x2]=!0;constructor(...t){this.bufs=[],this.length=0,t.length>0&&this.appendAll(t)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...t){this.appendAll(t)}appendAll(t){let n=0;for(const i of t)if(i instanceof Uint8Array)n+=i.byteLength,this.bufs.push(i);else{if(!p_(i))throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");n+=i.byteLength,this.bufs.push(...i.bufs)}this.length+=n}prepend(...t){this.prependAll(t)}prependAll(t){let n=0;for(const i of t.reverse())if(i instanceof Uint8Array)n+=i.byteLength,this.bufs.unshift(i);else{if(!p_(i))throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");n+=i.byteLength,this.bufs.unshift(...i.bufs)}this.length+=n}get(t){const n=S2(this.bufs,t);return n.buf[n.index]}set(t,n){const i=S2(this.bufs,t);i.buf[i.index]=n}write(t,n=0){if(t instanceof Uint8Array)for(let i=0;i<t.length;i++)this.set(n+i,t[i]);else{if(!p_(t))throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList");for(let i=0;i<t.length;i++)this.set(n+i,t.get(i))}}consume(t){if(t=Math.trunc(t),!(Number.isNaN(t)||t<=0)){if(t===this.byteLength)return this.bufs=[],void(this.length=0);for(;this.bufs.length>0;){if(!(t>=this.bufs[0].byteLength)){this.bufs[0]=this.bufs[0].subarray(t),this.length-=t;break}t-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift()}}}slice(t,n){const{bufs:i,length:l}=this._subList(t,n);return h_(i,l)}subarray(t,n){const{bufs:i,length:l}=this._subList(t,n);return 1===i.length?i[0]:h_(i,l)}sublist(t,n){const{bufs:i,length:l}=this._subList(t,n),h=new Zm;return h.length=l,h.bufs=[...i],h}_subList(t,n){if((t=t??0)<0&&(t=this.length+t),(n=n??this.length)<0&&(n=this.length+n),t<0||n>this.length)throw new RangeError("index is out of bounds");if(t===n)return{bufs:[],length:0};if(0===t&&n===this.length)return{bufs:this.bufs,length:this.length};const i=[];let l=0;for(let h=0;h<this.bufs.length;h++){const c=this.bufs[h],f=l,V=f+c.byteLength;if(l=V,t>=V)continue;const $=t>=f&&t<V,D=n>f&&n<=V;if($&&D){if(t===f&&n===V){i.push(c);break}const q=t-f;i.push(c.subarray(q,q+(n-t)));break}if($){if(0===t){i.push(c);continue}i.push(c.subarray(t-f))}else{if(D){if(n===V){i.push(c);break}i.push(c.subarray(0,n-f));break}i.push(c)}}return{bufs:i,length:n-t}}indexOf(t,n=0){if(!(p_(t)||t instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');const i=t instanceof Uint8Array?t:t.subarray();if(n=Number(n??0),isNaN(n)&&(n=0),n<0&&(n=this.length+n),n<0&&(n=0),0===t.length)return n>this.length?this.length:n;const l=i.byteLength;if(0===l)throw new TypeError("search must be at least 1 byte long");const c=new Int32Array(256);for(let q=0;q<256;q++)c[q]=-1;for(let q=0;q<l;q++)c[i[q]]=q;const f=c,V=this.byteLength-i.byteLength,$=i.byteLength-1;let D;for(let q=n;q<=V;q+=D){D=0;for(let De=$;De>=0;De--){const Re=this.get(q+De);if(i[De]!==Re){D=Math.max(1,De-f[Re]);break}}if(0===D)return q}return-1}getInt8(t){const n=this.subarray(t,t+1);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt8(0)}setInt8(t,n){const i=Ze(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt8(0,n),this.write(i,t)}getInt16(t,n){const i=this.subarray(t,t+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt16(0,n)}setInt16(t,n,i){const l=ve(2);new DataView(l.buffer,l.byteOffset,l.byteLength).setInt16(0,n,i),this.write(l,t)}getInt32(t,n){const i=this.subarray(t,t+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt32(0,n)}setInt32(t,n,i){const l=ve(4);new DataView(l.buffer,l.byteOffset,l.byteLength).setInt32(0,n,i),this.write(l,t)}getBigInt64(t,n){const i=this.subarray(t,t+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigInt64(0,n)}setBigInt64(t,n,i){const l=ve(8);new DataView(l.buffer,l.byteOffset,l.byteLength).setBigInt64(0,n,i),this.write(l,t)}getUint8(t){const n=this.subarray(t,t+1);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint8(0)}setUint8(t,n){const i=Ze(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint8(0,n),this.write(i,t)}getUint16(t,n){const i=this.subarray(t,t+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint16(0,n)}setUint16(t,n,i){const l=ve(2);new DataView(l.buffer,l.byteOffset,l.byteLength).setUint16(0,n,i),this.write(l,t)}getUint32(t,n){const i=this.subarray(t,t+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint32(0,n)}setUint32(t,n,i){const l=ve(4);new DataView(l.buffer,l.byteOffset,l.byteLength).setUint32(0,n,i),this.write(l,t)}getBigUint64(t,n){const i=this.subarray(t,t+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigUint64(0,n)}setBigUint64(t,n,i){const l=ve(8);new DataView(l.buffer,l.byteOffset,l.byteLength).setBigUint64(0,n,i),this.write(l,t)}getFloat32(t,n){const i=this.subarray(t,t+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat32(0,n)}setFloat32(t,n,i){const l=ve(4);new DataView(l.buffer,l.byteOffset,l.byteLength).setFloat32(0,n,i),this.write(l,t)}getFloat64(t,n){const i=this.subarray(t,t+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat64(0,n)}setFloat64(t,n,i){const l=ve(8);new DataView(l.buffer,l.byteOffset,l.byteLength).setFloat64(0,n,i),this.write(l,t)}equals(t){if(null==t||!(t instanceof Zm)||t.bufs.length!==this.bufs.length)return!1;for(let n=0;n<this.bufs.length;n++)if(!MT(this.bufs[n],t.bufs[n]))return!1;return!0}static fromUint8Arrays(t,n){const i=new Zm;return i.bufs=t,null==n&&(n=t.reduce((l,h)=>l+h.byteLength,0)),i.length=n,i}}const M5=(r={})=>{const t=r.chunkSize??262144;return function(){var n=us(function*(l){let h=new Zm,c=0,f=!1;var D,V=!1,$=!1;try{for(var De,q=Fo(l);V=!(De=yield gi(q.next())).done;V=!1){const Re=De.value;for(h.append(Re),c+=Re.length;c>=t;)if(yield h.slice(0,t),f=!0,t===h.length)h=new Zm,c=0;else{const Oe=new Zm;Oe.append(h.sublist(t)),h=Oe,c-=t}}}catch(Re){$=!0,D=Re}finally{try{V&&null!=q.return&&(yield gi(q.return()))}finally{if($)throw D}}(!f||c>0)&&(yield h.subarray(0,c))});return function i(l){return n.apply(this,arguments)}}()};function M2(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);class C5{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class TT{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return k5(this,t)}}class T2{decoders;constructor(t){this.decoders=t}or(t){return k5(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function k5(r,t){return new T2({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class P5{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,l){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=l,this.encoder=new C5(t,n,i),this.decoder=new TT(t,n,l)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function IT({name:r,prefix:t,encode:n,decode:i}){return new P5(r,t,n,i)}function DT({name:r,prefix:t,alphabet:n}){const{encode:i,decode:l}=function A2(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var l=0;l<r.length;l++){var h=r.charAt(l),c=h.charCodeAt(0);if(255!==n[c])throw new TypeError(h+" is ambiguous");n[c]=l}var f=r.length,V=r.charAt(0),$=Math.log(f)/Math.log(256),D=Math.log(256)/Math.log(f);function De(Oe){if("string"!=typeof Oe)throw new TypeError("Expected String");if(0===Oe.length)return new Uint8Array;var je=0;if(" "!==Oe[je]){for(var et=0,ft=0;Oe[je]===V;)et++,je++;for(var at=(Oe.length-je)*$+1>>>0,dt=new Uint8Array(at);Oe[je];){var Mt=n[Oe.charCodeAt(je)];if(255===Mt)return;for(var Pt=0,Dt=at-1;(0!==Mt||Pt<ft)&&-1!==Dt;Dt--,Pt++)dt[Dt]=(Mt+=f*dt[Dt]>>>0)%256>>>0,Mt=Mt/256>>>0;if(0!==Mt)throw new Error("Non-zero carry");ft=Pt,je++}if(" "!==Oe[je]){for(var Kt=at-ft;Kt!==at&&0===dt[Kt];)Kt++;for(var Wt=new Uint8Array(et+(at-Kt)),En=et;Kt!==at;)Wt[En++]=dt[Kt++];return Wt}}}return{encode:function q(Oe){if(Oe instanceof Uint8Array||(ArrayBuffer.isView(Oe)?Oe=new Uint8Array(Oe.buffer,Oe.byteOffset,Oe.byteLength):Array.isArray(Oe)&&(Oe=Uint8Array.from(Oe))),!(Oe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Oe.length)return"";for(var je=0,et=0,ft=0,at=Oe.length;ft!==at&&0===Oe[ft];)ft++,je++;for(var dt=(at-ft)*D+1>>>0,Mt=new Uint8Array(dt);ft!==at;){for(var Pt=Oe[ft],Dt=0,Kt=dt-1;(0!==Pt||Dt<et)&&-1!==Kt;Kt--,Dt++)Mt[Kt]=(Pt+=256*Mt[Kt]>>>0)%f>>>0,Pt=Pt/f>>>0;if(0!==Pt)throw new Error("Non-zero carry");et=Dt,ft++}for(var Wt=dt-et;Wt!==dt&&0===Mt[Wt];)Wt++;for(var En=V.repeat(je);Wt<dt;++Wt)En+=r.charAt(Mt[Wt]);return En},decodeUnsafe:De,decode:function Re(Oe){var je=De(Oe);if(je)return je;throw new Error(`Non-${t} character`)}}}(n,r);return IT({prefix:t,name:r,encode:i,decode:h=>M2(l(h))})}function zp({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return IT({prefix:t,name:r,encode:l=>function h4(r,t,n){const i="="===t[t.length-1],l=(1<<n)-1;let h="",c=0,f=0;for(let V=0;V<r.length;++V)for(f=f<<8|r[V],c+=8;c>n;)c-=n,h+=t[l&f>>c];if(0!==c&&(h+=t[l&f<<n-c]),i)for(;h.length*n&7;)h+="=";return h}(l,i,n),decode:l=>function O5(r,t,n,i){const l={};for(let D=0;D<t.length;++D)l[t[D]]=D;let h=r.length;for(;"="===r[h-1];)--h;const c=new Uint8Array(h*n/8|0);let f=0,V=0,$=0;for(let D=0;D<h;++D){const q=l[r[D]];if(void 0===q)throw new SyntaxError(`Non-${i} character`);V=V<<n|q,f+=n,f>=8&&(f-=8,c[$++]=255&V>>f)}if(f>=n||255&V<<8-f)throw new SyntaxError("Unexpected end of data");return c}(l,i,n,r)})}const Xm=zp({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),uu=(zp({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),zp({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),zp({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),zp({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),zp({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),zp({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),zp({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),zp({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),DT({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));DT({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ky=128,m4=-128,k2=Math.pow(2,31),RT=128,BT=127,O2=Math.pow(2,7),NT=Math.pow(2,14),B5=Math.pow(2,21),N5=Math.pow(2,28),Bv=Math.pow(2,35),LT=Math.pow(2,42),R2=Math.pow(2,49),L5=Math.pow(2,56),y4=Math.pow(2,63);const Ym={encode:function Py(r,t,n){t=t||[];for(var i=n=n||0;r>=k2;)t[n++]=255&r|ky,r/=128;for(;r&m4;)t[n++]=255&r|ky,r>>>=7;return t[n]=0|r,Py.bytes=n-i+1,t},decode:function P2(r,i){var c,n=0,l=0,h=i=i||0,f=r.length;do{if(h>=f)throw P2.bytes=0,new RangeError("Could not decode varint");c=r[h++],n+=l<28?(c&BT)<<l:(c&BT)*Math.pow(2,l),l+=7}while(c>=RT);return P2.bytes=h-i,n},encodingLength:function(r){return r<O2?1:r<NT?2:r<B5?3:r<N5?4:r<Bv?5:r<LT?6:r<R2?7:r<L5?8:r<y4?9:10}};function Lv(r,t=0){return[Ym.decode(r,t),Ym.decode.bytes]}function Uv(r,t,n=0){return Ym.encode(r,t,n),t}function v_(r){return Ym.encodingLength(r)}class Jm{code;size;digest;bytes;constructor(t,n,i,l){this.code=t,this.size=n,this.digest=i,this.bytes=l}}function b_(r,t){const{bytes:n,version:i}=r;return 0===i?function jT(r,t,n){const{prefix:i}=n;if(i!==uu.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const l=t.get(i);if(null==l){const h=n.encode(r).slice(1);return t.set(i,h),h}return l}(n,w_(r),t??uu.encoder):function __(r,t,n){const{prefix:i}=n,l=t.get(i);if(null==l){const h=n.encode(r);return t.set(i,h),h}return l}(n,w_(r),t??Xm.encoder)}const L2=new WeakMap;function w_(r){const t=L2.get(r);if(null==t){const n=new Map;return L2.set(r,n),n}return t}class Aa{code;version;multihash;bytes;"/";constructor(t,n,i,l){this.code=n,this.version=t,this.multihash=i,this.bytes=l,this["/"]=l}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==qm)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==Oy)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Aa.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,i=function UT(r,t){const n=t.byteLength,i=v_(r),l=i+v_(n),h=new Uint8Array(l+n);return Uv(r,h,0),Uv(n,h,i),h.set(t,l),new Jm(r,n,t,h)}(t,n);return Aa.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return Aa.equals(this,t)}static equals(t,n){return null!=n&&t.code===n.code&&t.version===n.version&&function FT(r,t){return r===t||r.code===t.code&&r.size===t.size&&t.bytes instanceof Uint8Array&&function T5(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0}(r.bytes,t.bytes)}(t.multihash,n.multihash)}toString(t){return b_(this,t)}toJSON(){return{"/":b_(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(null==t)return null;const n=t;if(n instanceof Aa)return n;if(null!=n["/"]&&n["/"]===n.bytes||n.asCID===n){const{version:i,code:l,multihash:h,bytes:c}=n;return new Aa(i,l,h,c??$T(i,l,h.bytes))}if(!0===n[j5]){const{version:i,multihash:l,code:h}=n,c=function B2(r){const t=M2(r),[n,i]=Lv(t),[l,h]=Lv(t.subarray(i)),c=t.subarray(i+h);if(c.byteLength!==l)throw new Error("Incorrect length");return new Jm(n,l,c,t)}(l);return Aa.create(i,h,c)}return null}static create(t,n,i){if("number"!=typeof n)throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:if(n!==qm)throw new Error(`Version 0 CID must use dag-pb (code: ${qm}) block encoding`);return new Aa(t,n,i,i.bytes);case 1:{const l=$T(t,n,i.bytes);return new Aa(t,n,i,l)}default:throw new Error("Invalid version")}}static createV0(t){return Aa.create(0,qm,t)}static createV1(t,n){return Aa.create(1,t,n)}static decode(t){const[n,i]=Aa.decodeFirst(t);if(0!==i.length)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=Aa.inspectBytes(t),i=n.size-n.multihashSize,l=M2(t.subarray(i,i+n.multihashSize));if(l.byteLength!==n.multihashSize)throw new Error("Incorrect length");const h=l.subarray(n.multihashSize-n.digestSize),c=new Jm(n.multihashCode,n.digestSize,h,l);return[0===n.version?Aa.createV0(c):Aa.createV1(n.codec,c),t.subarray(n.size)]}static inspectBytes(t){let n=0;const i=()=>{const[q,De]=Lv(t.subarray(n));return n+=De,q};let l=i(),h=qm;if(18===l?(l=0,n=0):h=i(),0!==l&&1!==l)throw new RangeError(`Invalid CID version ${l}`);const c=n,f=i(),V=i(),$=n+V;return{version:l,codec:h,multihashCode:f,digestSize:V,multihashSize:$-c,size:$}}static parse(t,n){const[i,l]=function U2(r,t){switch(r[0]){case"Q":return[uu.prefix,(t??uu).decode(`${uu.prefix}${r}`)];case uu.prefix:return[uu.prefix,(t??uu).decode(r)];case Xm.prefix:return[Xm.prefix,(t??Xm).decode(r)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}}(t,n),h=Aa.decode(l);if(0===h.version&&"Q"!==t[0])throw Error("Version 0 CID string must not include multibase prefix");return w_(h).set(i,t),h}}const qm=112,Oy=18;function $T(r,t,n){const i=v_(r),l=i+v_(t),h=new Uint8Array(l+n.byteLength);return Uv(r,h,0),Uv(t,h,i),h.set(n,l),h}const j5=Symbol.for("@ipld/js-cid/CID"),v4=new TextDecoder;function Ry(r,t){let n=0;for(let i=0;;i+=7){if(i>=64)throw new Error("protobuf: varint overflow");if(t>=r.length)throw new Error("protobuf: unexpected end of data");const l=r[t++];if(n+=i<28?(127&l)<<i:(127&l)*2**i,l<128)break}return[n,t]}function By(r,t){let n;[n,t]=Ry(r,t);const i=t+n;if(n<0||i<0)throw new Error("protobuf: invalid length");if(i>r.length)throw new Error("protobuf: unexpected end of data");return[r.subarray(t,i),i]}function F2(r,t){let n;return[n,t]=Ry(r,t),[7&n,n>>3,t]}function KT(r){const t={},n=r.length;let i=0;for(;i<n;){let l,h;if([l,h,i]=F2(r,i),1===h){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==l)throw new Error(`protobuf: (PBLink) wrong wireType (${l}) for Hash`);if(void 0!==t.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,i]=By(r,i)}else if(2===h){if(void 0!==t.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==l)throw new Error(`protobuf: (PBLink) wrong wireType (${l}) for Name`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let c;[c,i]=By(r,i),t.Name=v4.decode(c)}else{if(3!==h)throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${h}`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==l)throw new Error(`protobuf: (PBLink) wrong wireType (${l}) for Tsize`);[t.Tsize,i]=Ry(r,i)}}if(i>n)throw new Error("protobuf: (PBLink) unexpected end of data");return t}const Hp=new TextEncoder,zT=2**32,$5=2**31;function K5(r,t){let n=t.length;if("number"==typeof r.Tsize){if(r.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(r.Tsize))throw new Error("Tsize too large for encoding");n=vh(t,n,r.Tsize)-1,t[n]=24}if("string"==typeof r.Name){const i=Hp.encode(r.Name);n-=i.length,t.set(i,n),n=vh(t,n,i.length)-1,t[n]=18}return r.Hash&&(n-=r.Hash.length,t.set(r.Hash,n),n=vh(t,n,r.Hash.length)-1,t[n]=10),t.length-n}function z5(r){let t=0;if(r.Hash){const n=r.Hash.length;t+=1+n+Ny(n)}if("string"==typeof r.Name){const n=Hp.encode(r.Name).length;t+=1+n+Ny(n)}return"number"==typeof r.Tsize&&(t+=1+Ny(r.Tsize)),t}function vh(r,t,n){const i=t-=Ny(n);for(;n>=$5;)r[t++]=127&n|128,n/=128;for(;n>=128;)r[t++]=127&n|128,n>>>=7;return r[t]=n,i}function Ny(r){return r%2==0&&r++,Math.floor((function H5(r){let t=0;return r>=zT&&(r=Math.floor(r/zT),t=32),r>=65536&&(r>>>=16,t+=16),r>=256&&(r>>>=8,t+=8),t+W5[r]}(r)+6)/7)}const W5=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],G5=["Data","Links"],Z5=["Hash","Name","Tsize"],j2=new TextEncoder;function $2(r,t){if(r===t)return 0;const n=r.Name?j2.encode(r.Name):[],i=t.Name?j2.encode(t.Name):[];let l=n.length,h=i.length;for(let c=0,f=Math.min(l,h);c<f;++c)if(n[c]!==i[c]){l=n[c],h=i[c];break}return l<h?-1:h<l?1:0}function HT(r,t){return!Object.keys(r).some(n=>!t.includes(n))}function WT(r){if("object"==typeof r.asCID){const n=Aa.asCID(r);if(!n)throw new TypeError("Invalid DAG-PB form");return{Hash:n}}if("object"!=typeof r||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");const t={};if(r.Hash){let n=Aa.asCID(r.Hash);try{n||("string"==typeof r.Hash?n=Aa.parse(r.Hash):r.Hash instanceof Uint8Array&&(n=Aa.decode(r.Hash)))}catch(i){throw new TypeError(`Invalid DAG-PB form: ${i.message}`)}n&&(t.Hash=n)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return"string"==typeof r.Name&&(t.Name=r.Name),"number"==typeof r.Tsize&&(t.Tsize=r.Tsize),t}function Wp(r){if((r instanceof Uint8Array||"string"==typeof r)&&(r={Data:r}),"object"!=typeof r||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");const t={};if(void 0!==r.Data)if("string"==typeof r.Data)t.Data=j2.encode(r.Data);else{if(!(r.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form");t.Data=r.Data}if(void 0!==r.Links){if(!Array.isArray(r.Links))throw new TypeError("Invalid DAG-PB form");t.Links=r.Links.map(WT),t.Links.sort($2)}else t.Links=[];return t}function GT(r){if(!r||"object"!=typeof r||Array.isArray(r)||r instanceof Uint8Array||r["/"]&&r["/"]===r.bytes)throw new TypeError("Invalid DAG-PB form");if(!HT(r,G5))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==r.Data&&!(r.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(r.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let t=0;t<r.Links.length;t++){const n=r.Links[t];if(!n||"object"!=typeof n||Array.isArray(n)||n instanceof Uint8Array||n["/"]&&n["/"]===n.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!HT(n,Z5))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(void 0===n.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(null==n.Hash||!n.Hash["/"]||n.Hash["/"]!==n.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==n.Name&&"string"!=typeof n.Name)throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==n.Tsize){if("number"!=typeof n.Tsize||n.Tsize%1!=0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(n.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(t>0&&-1===$2(n,r.Links[t-1]))throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function E_(r,t=[]){return Wp({Data:r,Links:t})}function qh(r,t,n){return WT({Hash:n,Name:r,Tsize:t})}const ZT="dag-pb",x_=112;function Qh(r){GT(r);const t={};return r.Links&&(t.Links=r.Links.map(n=>{const i={};return n.Hash&&(i.Hash=n.Hash.bytes),void 0!==n.Name&&(i.Name=n.Name),void 0!==n.Tsize&&(i.Tsize=n.Tsize),i})),r.Data&&(t.Data=r.Data),function V5(r){const t=function Jh(r){let t=0;if(r.Data){const n=r.Data.length;t+=1+n+Ny(n)}if(r.Links)for(const n of r.Links){const i=z5(n);t+=1+i+Ny(i)}return t}(r),n=new Uint8Array(t);let i=t;if(r.Data&&(i-=r.Data.length,n.set(r.Data,i),i=vh(n,i,r.Data.length)-1,n[i]=10),r.Links)for(let l=r.Links.length-1;l>=0;l--){const h=K5(r.Links[l],n.subarray(0,i));i-=h,i=vh(n,i,h)-1,n[i]=18}return n}(t)}function S_(r){const t=function Fv(r){return r instanceof ArrayBuffer?new Uint8Array(r,0,r.byteLength):r}(r),n=function VT(r){const t=r.length;let i,h,n=0,l=!1;for(;n<t;){let f,V;if([f,V,n]=F2(r,n),2!==f)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${f}`);if(1===V){if(h)throw new Error("protobuf: (PBNode) duplicate Data section");[h,n]=By(r,n),i&&(l=!0)}else{if(2!==V)throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${V}`);{if(l)throw new Error("protobuf: (PBNode) duplicate Links section");let $;i||(i=[]),[$,n]=By(r,n),i.push(KT($))}}}if(n>t)throw new Error("protobuf: (PBNode) unexpected end of data");const c={};return h&&(c.Data=h),c.Links=i||[],c}(t),i={};return n.Data&&(i.Data=n.Data),n.Links&&(i.Links=n.Links.map(l=>{const h={};try{h.Hash=Aa.decode(l.Hash)}catch{}if(!h.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==l.Name&&(h.Name=l.Name),void 0!==l.Tsize&&(h.Tsize=l.Tsize),h})),i}var X5=_(3087);const b4=Math.pow(2,7),K2=Math.pow(2,14),V2=Math.pow(2,21),XT=Math.pow(2,28),YT=Math.pow(2,35),M_=Math.pow(2,42),z2=Math.pow(2,49),Ds=128,$l=127;function jv(r){if(r<b4)return 1;if(r<K2)return 2;if(r<V2)return 3;if(r<XT)return 4;if(r<YT)return 5;if(r<M_)return 6;if(r<z2)return 7;if(null!=Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw new RangeError("Could not encode varint");return 8}function JT(r,t,n=0){switch(jv(r)){case 8:t[n++]=255&r|Ds,r/=128;case 7:t[n++]=255&r|Ds,r/=128;case 6:t[n++]=255&r|Ds,r/=128;case 5:t[n++]=255&r|Ds,r/=128;case 4:t[n++]=255&r|Ds,r>>>=7;case 3:t[n++]=255&r|Ds,r>>>=7;case 2:t[n++]=255&r|Ds,r>>>=7;case 1:t[n++]=255&r,r>>>=7;break;default:throw new Error("unreachable")}return t}const Gp=new Float32Array([-0]),El=new Uint8Array(Gp.buffer);function W2(r,t,n){Gp[0]=r,t[n]=El[0],t[n+1]=El[1],t[n+2]=El[2],t[n+3]=El[3]}const $v=new Float64Array([-0]),fs=new Uint8Array($v.buffer);function G2(r,t,n){$v[0]=r,t[n]=fs[0],t[n+1]=fs[1],t[n+2]=fs[2],t[n+3]=fs[3],t[n+4]=fs[4],t[n+5]=fs[5],t[n+6]=fs[6],t[n+7]=fs[7]}const e8=BigInt(Number.MAX_SAFE_INTEGER),QT=BigInt(Number.MIN_SAFE_INTEGER);class vd{lo;hi;constructor(t,n){this.lo=0|t,this.hi=0|n}toNumber(t=!1){if(!t&&this.hi>>>31>0){const n=1+~this.lo>>>0;let i=~this.hi>>>0;return 0===n&&(i=i+1>>>0),-(n+4294967296*i)}return this.lo+4294967296*this.hi}toBigInt(t=!1){if(t)return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n);if(this.hi>>>31){const n=1+~this.lo>>>0;let i=~this.hi>>>0;return 0===n&&(i=i+1>>>0),-(BigInt(n)+(BigInt(i)<<32n))}return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n)}toString(t=!1){return this.toBigInt(t).toString()}zzEncode(){const t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this}zzDecode(){const t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this}length(){const t=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return 0===i?0===n?t<16384?t<128?1:2:t<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:i<128?9:10}static fromBigInt(t){if(0n===t)return Ly;if(t<e8&&t>QT)return this.fromNumber(Number(t));const n=t<0n;n&&(t=-t);let i=t>>32n,l=t-(i<<32n);return n&&(i=0n|~i,l=0n|~l,++l>Uy&&(l=0n,++i>Uy&&(i=0n))),new vd(Number(l),Number(i))}static fromNumber(t){if(0===t)return Ly;const n=t<0;n&&(t=-t);let i=t>>>0,l=(t-i)/4294967296>>>0;return n&&(l=~l>>>0,i=~i>>>0,++i>4294967295&&(i=0,++l>4294967295&&(l=0))),new vd(i,l)}static from(t){return"number"==typeof t?vd.fromNumber(t):"bigint"==typeof t?vd.fromBigInt(t):"string"==typeof t?vd.fromBigInt(BigInt(t)):null!=t.low||null!=t.high?new vd(t.low>>>0,t.high>>>0):Ly}}const Ly=new vd(0,0);Ly.toBigInt=function(){return 0n},Ly.zzEncode=Ly.zzDecode=function(){return this},Ly.length=function(){return 1};const Uy=4294967296n;function eI(r,t,n){const i=n;let l,h;for(let c=0;c<r.length;++c)l=r.charCodeAt(c),l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=63&l|128):55296==(64512&l)&&56320==(64512&(h=r.charCodeAt(c+1)))?(l=65536+((1023&l)<<10)+(1023&h),++c,t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=63&l|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=63&l|128);return n-i}function Hu(r,t){return RangeError(`index out of range: ${r.pos} + ${t??1} > ${r.len}`)}function A_(r,t){return(r[t-4]|r[t-3]<<8|r[t-2]<<16|r[t-1]<<24)>>>0}class r8{buf;pos;len;_slice=Uint8Array.prototype.subarray;constructor(t){this.buf=t,this.pos=0,this.len=t.length}uint32(){let t=4294967295;if(t=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(t=(t|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,Hu(this,10);return t}int32(){return 0|this.uint32()}sint32(){const t=this.uint32();return t>>>1^-(1&t)}bool(){return 0!==this.uint32()}fixed32(){if(this.pos+4>this.len)throw Hu(this,4);return A_(this.buf,this.pos+=4)}sfixed32(){if(this.pos+4>this.len)throw Hu(this,4);return 0|A_(this.buf,this.pos+=4)}float(){if(this.pos+4>this.len)throw Hu(this,4);const t=function Qm(r,t){return El[0]=r[t],El[1]=r[t+1],El[2]=r[t+2],El[3]=r[t+3],Gp[0]}(this.buf,this.pos);return this.pos+=4,t}double(){if(this.pos+8>this.len)throw Hu(this,4);const t=function Q5(r,t){return fs[0]=r[t],fs[1]=r[t+1],fs[2]=r[t+2],fs[3]=r[t+3],fs[4]=r[t+4],fs[5]=r[t+5],fs[6]=r[t+6],fs[7]=r[t+7],$v[0]}(this.buf,this.pos);return this.pos+=8,t}bytes(){const t=this.uint32(),n=this.pos,i=this.pos+t;if(i>this.len)throw Hu(this,t);return this.pos+=t,n===i?new Uint8Array(0):this.buf.subarray(n,i)}string(){const t=this.bytes();return function n8(r,t,n){if(n-t<1)return"";let l;const h=[];let f,c=0;for(;t<n;)f=r[t++],f<128?h[c++]=f:f>191&&f<224?h[c++]=(31&f)<<6|63&r[t++]:f>239&&f<365?(f=((7&f)<<18|(63&r[t++])<<12|(63&r[t++])<<6|63&r[t++])-65536,h[c++]=55296+(f>>10),h[c++]=56320+(1023&f)):h[c++]=(15&f)<<12|(63&r[t++])<<6|63&r[t++],c>8191&&((l??(l=[])).push(String.fromCharCode.apply(String,h)),c=0);return null!=l?(c>0&&l.push(String.fromCharCode.apply(String,h.slice(0,c))),l.join("")):String.fromCharCode.apply(String,h.slice(0,c))}(t,0,t.length)}skip(t){if("number"==typeof t){if(this.pos+t>this.len)throw Hu(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw Hu(this)}while(128&this.buf[this.pos++]);return this}skipType(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error(`invalid wire type ${t} at offset ${this.pos}`)}return this}readLongVarint(){const t=new vd(0,0);let n=0;if(!(this.len-this.pos>4)){for(;n<3;++n){if(this.pos>=this.len)throw Hu(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*n)>>>0,t}for(;n<4;++n)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(n=0,this.len-this.pos>4){for(;n<5;++n)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}else for(;n<5;++n){if(this.pos>=this.len)throw Hu(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}readFixed64(){if(this.pos+8>this.len)throw Hu(this,8);const t=A_(this.buf,this.pos+=4),n=A_(this.buf,this.pos+=4);return new vd(t,n)}int64(){return this.readLongVarint().toBigInt()}int64Number(){return this.readLongVarint().toNumber()}int64String(){return this.readLongVarint().toString()}uint64(){return this.readLongVarint().toBigInt(!0)}uint64Number(){const t=function H2(r,t){let n=r[t],i=0;if(i+=n&$l,n<Ds||(n=r[t+1],i+=(n&$l)<<7,n<Ds)||(n=r[t+2],i+=(n&$l)<<14,n<Ds)||(n=r[t+3],i+=(n&$l)<<21,n<Ds)||(n=r[t+4],i+=(n&$l)*XT,n<Ds)||(n=r[t+5],i+=(n&$l)*YT,n<Ds)||(n=r[t+6],i+=(n&$l)*M_,n<Ds)||(n=r[t+7],i+=(n&$l)*z2,n<Ds))return i;throw new RangeError("Could not decode varint")}(this.buf,this.pos);return this.pos+=jv(t),t}uint64String(){return this.readLongVarint().toString(!0)}sint64(){return this.readLongVarint().zzDecode().toBigInt()}sint64Number(){return this.readLongVarint().zzDecode().toNumber()}sint64String(){return this.readLongVarint().zzDecode().toString()}fixed64(){return this.readFixed64().toBigInt()}fixed64Number(){return this.readFixed64().toNumber()}fixed64String(){return this.readFixed64().toString()}sfixed64(){return this.readFixed64().toBigInt()}sfixed64Number(){return this.readFixed64().toNumber()}sfixed64String(){return this.readFixed64().toString()}}function Z2(r,t,n){const i=function i8(r){return new r8(r instanceof Uint8Array?r:r.subarray())}(r);return t.decode(i,void 0,n)}class Kv{fn;len;next;val;constructor(t,n,i){this.fn=t,this.len=n,this.next=void 0,this.val=i}}function Vv(){}class S4{head;tail;len;next;constructor(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}}const M4=function o8(r){const t=r??8192,n=t>>>1;let i,l=t;return function(c){if(c<1||c>n)return Ze(c);l+c>t&&(i=Ze(t),l=0);const f=i.subarray(l,l+=c);return 7&l&&(l=1+(7|l)),f}}();class tI{len;head;tail;states;constructor(){this.len=0,this.head=new Kv(Vv,0,0),this.tail=this.head,this.states=null}_push(t,n,i){return this.tail=this.tail.next=new Kv(t,n,i),this.len+=n,this}uint32(t){return this.len+=(this.tail=this.tail.next=new T4((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this}int32(t){return t<0?this._push(Y2,10,vd.fromNumber(t)):this.uint32(t)}sint32(t){return this.uint32((t<<1^t>>31)>>>0)}uint64(t){const n=vd.fromBigInt(t);return this._push(Y2,n.length(),n)}uint64Number(t){return this._push(JT,jv(t),t)}uint64String(t){return this.uint64(BigInt(t))}int64(t){return this.uint64(t)}int64Number(t){return this.uint64Number(t)}int64String(t){return this.uint64String(t)}sint64(t){const n=vd.fromBigInt(t).zzEncode();return this._push(Y2,n.length(),n)}sint64Number(t){const n=vd.fromNumber(t).zzEncode();return this._push(Y2,n.length(),n)}sint64String(t){return this.sint64(BigInt(t))}bool(t){return this._push(nI,1,t?1:0)}fixed32(t){return this._push(zv,4,t>>>0)}sfixed32(t){return this.fixed32(t)}fixed64(t){const n=vd.fromBigInt(t);return this._push(zv,4,n.lo)._push(zv,4,n.hi)}fixed64Number(t){const n=vd.fromNumber(t);return this._push(zv,4,n.lo)._push(zv,4,n.hi)}fixed64String(t){return this.fixed64(BigInt(t))}sfixed64(t){return this.fixed64(t)}sfixed64Number(t){return this.fixed64Number(t)}sfixed64String(t){return this.fixed64String(t)}float(t){return this._push(W2,4,t)}double(t){return this._push(G2,8,t)}bytes(t){const n=t.length>>>0;return 0===n?this._push(nI,1,0):this.uint32(n)._push(T_,n,t)}string(t){const n=function t8(r){let t=0,n=0;for(let i=0;i<r.length;++i)n=r.charCodeAt(i),n<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&r.charCodeAt(i+1))?(++i,t+=4):t+=3;return t}(t);return 0!==n?this.uint32(n)._push(eI,n,t):this._push(nI,1,0)}fork(){return this.states=new S4(this),this.head=this.tail=new Kv(Vv,0,0),this.len=0,this}reset(){return null!=this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Kv(Vv,0,0),this.len=0),this}ldelim(){const t=this.head,n=this.tail,i=this.len;return this.reset().uint32(i),0!==i&&(this.tail.next=t.next,this.tail=n,this.len+=i),this}finish(){let t=this.head.next;const n=function X2(r){return null!=globalThis.Buffer?Ze(r):M4(r)}(this.len);let i=0;for(;null!=t;)t.fn(t.val,n,i),i+=t.len,t=t.next;return n}}function nI(r,t,n){t[n]=255&r}function A4(r,t,n){for(;r>127;)t[n++]=127&r|128,r>>>=7;t[n]=r}class T4 extends Kv{next;constructor(t,n){super(A4,t,n),this.next=void 0}}function Y2(r,t,n){for(;0!==r.hi;)t[n++]=127&r.lo|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)t[n++]=127&r.lo|128,r.lo=r.lo>>>7;t[n++]=r.lo}function zv(r,t,n){t[n]=255&r,t[n+1]=r>>>8&255,t[n+2]=r>>>16&255,t[n+3]=r>>>24}function T_(r,t,n){t.set(r,n)}function I_(r,t,n){t.set(r,n)}function rI(r,t,n){r.length<40?eI(r,t,n):null!=t.utf8Write?t.utf8Write(r,n):t.set(bt(r),n)}function D_(r,t){const n=function iI(){return new tI}();return t.encode(r,n,{lengthDelimited:!1}),n.finish()}null!=globalThis.Buffer&&(tI.prototype.bytes=function(r){const t=r.length>>>0;return this.uint32(t),t>0&&this._push(I_,t,r),this},tI.prototype.string=function(r){const t=globalThis.Buffer.byteLength(r);return this.uint32(t),t>0&&this._push(rI,t,r),this});var Wa,Hv,s8,J2=function(r){return r[r.VARINT=0]="VARINT",r[r.BIT64=1]="BIT64",r[r.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",r[r.START_GROUP=3]="START_GROUP",r[r.END_GROUP=4]="END_GROUP",r[r.BIT32=5]="BIT32",r}(J2||{});function oI(r,t,n,i){return{name:r,type:t,encode:n,decode:i}}function Zp(r,t){return oI("message",J2.LENGTH_DELIMITED,r,t)}Error,function(r){let t;var l;let n,i;(l=t=r.DataType||(r.DataType={})).Raw="Raw",l.Directory="Directory",l.File="File",l.Metadata="Metadata",l.Symlink="Symlink",l.HAMTShard="HAMTShard",function(l){l[l.Raw=0]="Raw",l[l.Directory=1]="Directory",l[l.File=2]="File",l[l.Metadata=3]="Metadata",l[l.Symlink=4]="Symlink",l[l.HAMTShard=5]="HAMTShard"}(n||(n={})),function(l){l.codec=()=>function sI(r){function t(l){if(null==r[l.toString()])throw new Error("Invalid enum value");return r[l]}return oI("enum",J2.VARINT,function(h,c){const f=t(h);c.int32(f)},function(h){return t(h.int32())})}(n)}(t=r.DataType||(r.DataType={})),r.codec=()=>(null==i&&(i=Zp((l,h,c={})=>{if(!1!==c.lengthDelimited&&h.fork(),null!=l.Type&&(h.uint32(8),r.DataType.codec().encode(l.Type,h)),null!=l.Data&&(h.uint32(18),h.bytes(l.Data)),null!=l.filesize&&(h.uint32(24),h.uint64(l.filesize)),null!=l.blocksizes)for(const f of l.blocksizes)h.uint32(32),h.uint64(f);null!=l.hashType&&(h.uint32(40),h.uint64(l.hashType)),null!=l.fanout&&(h.uint32(48),h.uint64(l.fanout)),null!=l.mode&&(h.uint32(56),h.uint32(l.mode)),null!=l.mtime&&(h.uint32(66),Hv.codec().encode(l.mtime,h)),!1!==c.lengthDelimited&&h.ldelim()},(l,h)=>{const c={blocksizes:[]},f=null==h?l.len:l.pos+h;for(;l.pos<f;){const V=l.uint32();switch(V>>>3){case 1:c.Type=r.DataType.codec().decode(l);break;case 2:c.Data=l.bytes();break;case 3:c.filesize=l.uint64();break;case 4:c.blocksizes.push(l.uint64());break;case 5:c.hashType=l.uint64();break;case 6:c.fanout=l.uint64();break;case 7:c.mode=l.uint32();break;case 8:c.mtime=Hv.codec().decode(l,l.uint32());break;default:l.skipType(7&V)}}return c})),i),r.encode=l=>D_(l,r.codec()),r.decode=l=>Z2(l,r.codec())}(Wa||(Wa={})),function(r){let t;r.codec=()=>(null==t&&(t=Zp((n,i,l={})=>{!1!==l.lengthDelimited&&i.fork(),null!=n.Seconds&&(i.uint32(8),i.int64(n.Seconds)),null!=n.FractionalNanoseconds&&(i.uint32(21),i.fixed32(n.FractionalNanoseconds)),!1!==l.lengthDelimited&&i.ldelim()},(n,i)=>{const l={},h=null==i?n.len:n.pos+i;for(;n.pos<h;){const c=n.uint32();switch(c>>>3){case 1:l.Seconds=n.int64();break;case 2:l.FractionalNanoseconds=n.fixed32();break;default:n.skipType(7&c)}}return l})),t),r.encode=n=>D_(n,r.codec()),r.decode=n=>Z2(n,r.codec())}(Hv||(Hv={})),function(r){let t;r.codec=()=>(null==t&&(t=Zp((n,i,l={})=>{!1!==l.lengthDelimited&&i.fork(),null!=n.MimeType&&(i.uint32(10),i.string(n.MimeType)),!1!==l.lengthDelimited&&i.ldelim()},(n,i)=>{const l={},h=null==i?n.len:n.pos+i;for(;n.pos<h;){const c=n.uint32();c>>>3==1?l.MimeType=n.string():n.skipType(7&c)}return l})),t),r.encode=n=>D_(n,r.codec()),r.decode=n=>Z2(n,r.codec())}(s8||(s8={}));const aI={Raw:"raw",Directory:"directory",File:"file",Metadata:"metadata",Symlink:"symlink",HAMTShard:"hamt-sharded-directory"},I4=["directory","hamt-sharded-directory"],a8=parseInt("0644",8),q2=parseInt("0755",8);class Gu{static unmarshal(t){const n=Wa.decode(t),i=new Gu({type:aI[null!=n.Type?n.Type.toString():"File"],data:n.Data,blockSizes:n.blocksizes,mode:n.mode,mtime:null!=n.mtime?{secs:n.mtime.Seconds??0n,nsecs:n.mtime.FractionalNanoseconds}:void 0,fanout:n.fanout});return i._originalMode=n.mode??0,i}type;data;blockSizes;hashType;fanout;mtime;_mode;_originalMode;constructor(t={type:"file"}){const{type:n,data:i,blockSizes:l,hashType:h,fanout:c,mtime:f,mode:V}=t;if(null!=n&&!Object.values(aI).includes(n))throw X5(new Error("Type: "+n+" is not valid"),"ERR_INVALID_TYPE");this.type=n??"file",this.data=i,this.hashType=h,this.fanout=c,this.blockSizes=l??[],this._originalMode=0,this.mode=V,this.mtime=f}set mode(t){this._mode=null==t?this.isDirectory()?q2:a8:4095&t}get mode(){return this._mode}isDirectory(){return I4.includes(this.type)}addBlockSize(t){this.blockSizes.push(t)}removeBlockSize(t){this.blockSizes.splice(t,1)}fileSize(){if(this.isDirectory())return 0n;let t=0n;return this.blockSizes.forEach(n=>{t+=n}),null!=this.data&&(t+=BigInt(this.data.length)),t}marshal(){let t;switch(this.type){case"raw":t=Wa.DataType.Raw;break;case"directory":t=Wa.DataType.Directory;break;case"file":t=Wa.DataType.File;break;case"metadata":t=Wa.DataType.Metadata;break;case"symlink":t=Wa.DataType.Symlink;break;case"hamt-sharded-directory":t=Wa.DataType.HAMTShard;break;default:throw X5(new Error(`Type: ${t} is not valid`),"ERR_INVALID_TYPE")}let i,l,n=this.data;return(null==this.data||0===this.data.length)&&(n=void 0),null!=this.mode&&(i=4294963200&this._originalMode|(this.mode??0),i===a8&&!this.isDirectory()&&(i=void 0),i===q2&&this.isDirectory()&&(i=void 0)),null!=this.mtime&&(l={Seconds:this.mtime.secs,FractionalNanoseconds:this.mtime.nsecs}),Wa.encode({Type:t,Data:n,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:i,mtime:l})}}var cI=_(52054);const C_="raw",e0=85,Q2=r=>(0,cI.au)(r),c8=r=>(0,cI.au)(r);class xl extends Event{type;detail;constructor(t,n){super(t),this.type=t,this.detail=n}}const Xp=function(){var r=(0,ye.A)(function*(t,n,i){null==i.codec&&(i.codec=Y);const l=yield fe.digest(t),h=Bf.TO.create(i.cidVersion,i.codec.code,l);return yield n.put(h,t,i),h});return function(n,i,l){return r.apply(this,arguments)}}();function lI(r){return function(){var t=us(function*(i,l){let h=0n;var V,c=!1,f=!1;try{for(var D,$=Fo(i.content);c=!(D=yield gi($.next())).done;c=!1){let q=D.value;yield(0,ye.A)(function*(){let De;const Re={codec:Y,cidVersion:r.cidVersion,onProgress:r.onProgress};r.rawLeaves?(Re.codec=oe,Re.cidVersion=1):(De=new Gu({type:r.leafType,data:q}),q=Qh({Data:De.marshal(),Links:[]}));const Oe=yield Xp(q,l,Re);return h+=BigInt(q.byteLength),r.onProgress?.(new xl("unixfs:importer:progress:file:write",{bytesWritten:h,cid:Oe,path:i.path})),{cid:Oe,unixfs:De,size:BigInt(q.length),block:q}})}}catch(q){f=!0,V=q}finally{try{c&&null!=$.return&&(yield gi($.return()))}finally{if(f)throw V}}});return function n(i,l){return t.apply(this,arguments)}}()}function Zu(r){var t={},n=!1;function i(l,h){return n=!0,{done:!1,value:new l_(h=new Promise(function(c){c(r[l](h))}),1)}}return t[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(l){return n?(n=!1,l):i("next",l)},"function"==typeof r.throw&&(t.throw=function(l){if(n)throw n=!1,l;return i("throw",l)}),"function"==typeof r.return&&(t.return=function(l){return n?(n=!1,l):i("return",l)}),t}const k_=function(){var r=(0,ye.A)(function*(t,n,i){const l=new Gu({type:"directory",mtime:t.mtime,mode:t.mode}),h=Qh(Wp({Data:l.marshal()}));return{cid:yield Xp(h,n,i),path:t.path,unixfs:l,size:BigInt(h.length),originalPath:t.originalPath,block:h}});return function(n,i,l){return r.apply(this,arguments)}}();function ex(){return(ex=us(function*(r,t,n){let l,i=-1;var f,h=!1,c=!1;try{for(var $,V=Fo(_2(n.bufferImporter(r,t),n.blockWriteConcurrency));h=!($=yield gi(V.next())).done;h=!1){const D=$.value;i++,0!==i?(1===i&&null!=l&&(yield{...l,block:void 0,single:void 0},l=void 0),yield{...D,block:void 0}):l={...D,single:!0}}}catch(D){c=!0,f=D}finally{try{h&&null!=V.return&&(yield gi(V.return()))}finally{if(c)throw f}}null!=l&&(yield l)})).apply(this,arguments)}function tx(r){return!0===r.single}const d8=(r,t,n)=>function(){var l=(0,ye.A)(function*(h){if(1===h.length&&tx(h[0])&&n.reduceSingleLeafToSelf){const q=h[0];let De=q.block;return tx(q)&&(void 0!==r.mtime||void 0!==r.mode)&&(q.unixfs=new Gu({type:"file",mtime:r.mtime,mode:r.mode,data:q.block}),De={Data:q.unixfs.marshal(),Links:[]},q.block=Qh(Wp(De)),q.cid=yield Xp(q.block,t,{...n,cidVersion:n.cidVersion}),q.size=BigInt(q.block.length)),n.onProgress?.(new xl("unixfs:importer:progress:file:layout",{cid:q.cid,path:q.originalPath})),{cid:q.cid,path:r.path,unixfs:q.unixfs,size:q.size,originalPath:q.originalPath}}const c=new Gu({type:"file",mtime:r.mtime,mode:r.mode}),f=h.filter(q=>q.cid.code===e0&&q.size>0||null!=q.unixfs&&null==q.unixfs.data&&q.unixfs.fileSize()>0n||!!q.unixfs?.data?.length).map(q=>q.cid.code===e0?(c.addBlockSize(q.size),{Name:"",Tsize:Number(q.size),Hash:q.cid}):(c.addBlockSize(null==q.unixfs||null==q.unixfs.data?q.unixfs?.fileSize()??0n:BigInt(q.unixfs.data.length)),{Name:"",Tsize:Number(q.size),Hash:q.cid})),V={Data:c.marshal(),Links:f},$=Qh(Wp(V)),D=yield Xp($,t,n);return n.onProgress?.(new xl("unixfs:importer:progress:file:layout",{cid:D,path:r.originalPath})),{cid:D,path:r.path,unixfs:c,size:BigInt($.length+V.Links.reduce((q,De)=>q+(De.Tsize??0),0)),originalPath:r.originalPath,block:$}});return function(c){return l.apply(this,arguments)}}(),u8=function(){var r=(0,ye.A)(function*(t,n,i){return i.layout(function l8(r,t,n){return ex.apply(this,arguments)}(t,n,i),d8(t,n,i))});return function(n,i,l){return r.apply(this,arguments)}}();function Wv(r){try{if(r instanceof Uint8Array)return us(function*(){yield r})();if(function dI(r){return Symbol.iterator in r}(r))return us(function*(){yield*Zu(Fo(r))})();if(function nx(r){return Symbol.asyncIterator in r}(r))return r}catch{throw u_(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw u_(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}function rx(r){return null!=r.content}function uI(r){return null!=globalThis.Buffer?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}const ep=(new Uint8Array(0),r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")});class yI{constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class ox{constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return Gv(this,t)}}class gI{constructor(t){this.decoders=t}or(t){return Gv(this,t)}decode(t){const i=this.decoders[t[0]];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Gv=(r,t)=>new gI({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class n0{constructor(t,n,i,l){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=l,this.encoder=new yI(t,n,i),this.decoder=new ox(t,n,l)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const Zv=({name:r,prefix:t,encode:n,decode:i})=>new n0(r,t,n,i),r0=({prefix:r,name:t,alphabet:n})=>{const{encode:i,decode:l}=function f8(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var l=0;l<r.length;l++){var h=r.charAt(l),c=h.charCodeAt(0);if(255!==n[c])throw new TypeError(h+" is ambiguous");n[c]=l}var f=r.length,V=r.charAt(0),$=Math.log(f)/Math.log(256),D=Math.log(256)/Math.log(f);function De(Oe){if("string"!=typeof Oe)throw new TypeError("Expected String");if(0===Oe.length)return new Uint8Array;var je=0;if(" "!==Oe[je]){for(var et=0,ft=0;Oe[je]===V;)et++,je++;for(var at=(Oe.length-je)*$+1>>>0,dt=new Uint8Array(at);Oe[je];){var Mt=n[Oe.charCodeAt(je)];if(255===Mt)return;for(var Pt=0,Dt=at-1;(0!==Mt||Pt<ft)&&-1!==Dt;Dt--,Pt++)dt[Dt]=(Mt+=f*dt[Dt]>>>0)%256>>>0,Mt=Mt/256>>>0;if(0!==Mt)throw new Error("Non-zero carry");ft=Pt,je++}if(" "!==Oe[je]){for(var Kt=at-ft;Kt!==at&&0===dt[Kt];)Kt++;for(var Wt=new Uint8Array(et+(at-Kt)),En=et;Kt!==at;)Wt[En++]=dt[Kt++];return Wt}}}return{encode:function q(Oe){if(Oe instanceof Uint8Array||(ArrayBuffer.isView(Oe)?Oe=new Uint8Array(Oe.buffer,Oe.byteOffset,Oe.byteLength):Array.isArray(Oe)&&(Oe=Uint8Array.from(Oe))),!(Oe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Oe.length)return"";for(var je=0,et=0,ft=0,at=Oe.length;ft!==at&&0===Oe[ft];)ft++,je++;for(var dt=(at-ft)*D+1>>>0,Mt=new Uint8Array(dt);ft!==at;){for(var Pt=Oe[ft],Dt=0,Kt=dt-1;(0!==Pt||Dt<et)&&-1!==Kt;Kt--,Dt++)Mt[Kt]=(Pt+=256*Mt[Kt]>>>0)%f>>>0,Pt=Pt/f>>>0;if(0!==Pt)throw new Error("Non-zero carry");et=Dt,ft++}for(var Wt=dt-et;Wt!==dt&&0===Mt[Wt];)Wt++;for(var En=V.repeat(je);Wt<dt;++Wt)En+=r.charAt(Mt[Wt]);return En},decodeUnsafe:De,decode:function Re(Oe){var je=De(Oe);if(je)return je;throw new Error(`Non-${t} character`)}}}(n,t);return Zv({prefix:r,name:t,encode:i,decode:h=>ep(l(h))})},$c=({name:r,prefix:t,bitsPerChar:n,alphabet:i})=>Zv({prefix:t,name:r,encode:l=>((r,t,n)=>{const i="="===t[t.length-1],l=(1<<n)-1;let h="",c=0,f=0;for(let V=0;V<r.length;++V)for(f=f<<8|r[V],c+=8;c>n;)c-=n,h+=t[l&f>>c];if(c&&(h+=t[l&f<<n-c]),i)for(;h.length*n&7;)h+="=";return h})(l,i,n),decode:l=>((r,t,n,i)=>{const l={};for(let D=0;D<t.length;++D)l[t[D]]=D;let h=r.length;for(;"="===r[h-1];)--h;const c=new Uint8Array(h*n/8|0);let f=0,V=0,$=0;for(let D=0;D<h;++D){const q=l[r[D]];if(void 0===q)throw new SyntaxError(`Non-${i} character`);V=V<<n|q,f+=n,f>=8&&(f-=8,c[$++]=255&V>>f)}if(f>=n||255&V<<8-f)throw new SyntaxError("Unexpected end of data");return c})(l,i,n,r)}),O_=r0({prefix:"9",name:"base10",alphabet:"0123456789"}),p8=$c({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),bI=$c({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),m8=$c({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),wI=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),y8=wI.reduce((r,t,n)=>(r[n]=t,r),[]),_I=wI.reduce((r,t,n)=>(r[t.codePointAt(0)]=n,r),[]),xI=Zv({prefix:"\u{1f680}",name:"base256emoji",encode:function EI(r){return r.reduce((t,n)=>t+y8[n],"")},decode:function wo(r){const t=[];for(const n of r){const i=_I[n.codePointAt(0)];if(void 0===i)throw new Error(`Non-base256emoji character: ${n}`);t.push(i)}return new Uint8Array(t)}}),Fy=$c({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),jy=$c({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),SI=$c({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),MI=$c({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),g8=$c({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),R_=$c({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),o0=$c({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),sx=$c({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Yv=$c({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),AI=r0({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ax=r0({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Nf=r0({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),cx=r0({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),TI=$c({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),lx=$c({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),v8=$c({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),b8=$c({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),w8=$c({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),II=Zv({prefix:"\0",name:"identity",encode:r=>(r=>(new TextDecoder).decode(r))(r),decode:r=>(r=>(new TextEncoder).encode(r))(r)}),_8=new TextEncoder,E8=new TextDecoder,x8="json",S8=512,DI=r=>_8.encode(JSON.stringify(r)),CI=r=>JSON.parse(E8.decode(r)),M8="raw",A8=85,jd=r=>ep(r),T8=r=>ep(r);var D8=128,kI=-128,C8=Math.pow(2,31),fx=Math.pow(2,7),P8=Math.pow(2,14),O8=Math.pow(2,21),R8=Math.pow(2,28),B8=Math.pow(2,35),N8=Math.pow(2,42),bh=Math.pow(2,49),hx=Math.pow(2,56),L8=Math.pow(2,63);const s0_encode=function PI(r,t,n){t=t||[];for(var i=n=n||0;r>=C8;)t[n++]=255&r|D8,r/=128;for(;r&kI;)t[n++]=255&r|D8,r>>>=7;return t[n]=0|r,PI.bytes=n-i+1,t},s0_encodingLength=function(r){return r<fx?1:r<P8?2:r<O8?3:r<R8?4:r<B8?5:r<N8?6:r<bh?7:r<hx?8:r<L8?9:10},px=(r,t,n=0)=>(s0_encode(r,t,n),t),qv=r=>s0_encodingLength(r),Qv=(r,t)=>{const n=t.byteLength,i=qv(r),l=i+qv(n),h=new Uint8Array(l+n);return px(r,h,0),px(n,h,i),h.set(t,l),new eb(r,n,t,h)};class eb{constructor(t,n,i,l){this.code=t,this.size=n,this.digest=i,this.bytes=l}}const UI=ep,j8={code:0,name:"identity",encode:UI,digest:r=>Qv(0,UI(r))},a0=({name:r,code:t,encode:n})=>new jI(r,t,n);class jI{constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?Qv(this.code,n):n.then(i=>Qv(this.code,i))}throw Error("Unknown type, must be binary type")}}const Yp=r=>function(){var t=(0,ye.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}(),$y=a0({name:"sha2-256",code:18,encode:Yp("SHA-256")}),mx=a0({name:"sha2-512",code:19,encode:Yp("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const gx={...u,...de,...a,...ae,...se,...we,...xe,...Ce,...C,...le};function vx(r,t,n,i){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:n},decoder:{decode:i}}}const N_=vx("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),L_=vx("ascii","a",r=>{let t="a";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},r=>{const t=function X8(r=0){return null!=globalThis.Buffer?.allocUnsafe?uI(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}((r=r.substring(1)).length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}),nb={utf8:N_,"utf-8":N_,hex:gx.base16,latin1:L_,ascii:L_,binary:L_,...gx};function rb(r,t="utf8"){const n=nb[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${r}`):uI(globalThis.Buffer.from(r,"utf-8"))}const Y8=()=>function(){var r=us(function*(n){var h,i=!1,l=!1;try{for(var f,c=Fo(n);i=!(f=yield gi(c.next())).done;i=!1){const V=f.value;if(void 0===V.length)throw u_(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if("string"==typeof V||V instanceof String)yield rb(V.toString());else if(Array.isArray(V))yield Uint8Array.from(V);else{if(!(V instanceof Uint8Array))throw u_(new Error("Content was invalid"),"ERR_INVALID_CONTENT");yield V}}}catch(V){l=!0,h=V}finally{try{i&&null!=c.return&&(yield gi(c.return()))}finally{if(l)throw h}}});return function t(n){return r.apply(this,arguments)}}(),J8=174;function q8(r){const t=r?.maxChildrenPerNode??J8;return function(){var n=(0,ye.A)(function*(l,h){const c=[];var $,f=!1,V=!1;try{for(var q,D=Fo(w2(l,t));f=!(q=yield D.next()).done;f=!1){const De=q.value;c.push(yield h(De))}}catch(De){V=!0,$=De}finally{try{f&&null!=D.return&&(yield D.return())}finally{if(V)throw $}}return c.length>1?i(c,h):c[0]});function i(l,h){return n.apply(this,arguments)}return i}()}class ib{options;root;dir;path;dirty;flat;parent;parentKey;unixfs;mode;mtime;cid;size;nodeSize;constructor(t,n){this.options=n??{},this.root=t.root,this.dir=t.dir,this.path=t.path,this.dirty=t.dirty,this.flat=t.flat,this.parent=t.parent,this.parentKey=t.parentKey,this.unixfs=t.unixfs,this.mode=t.mode,this.mtime=t.mtime}}const wx=Bf.TO.parse("QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn"),KI=Bf.TO.parse("zdj7WbTaiJT1fgatdet9Ei9iDB5hdCxkbVyhyh8YTUnXMiwYi");class _x extends ib{_children;constructor(t,n){super(t,n),this._children=new Map}put(t,n){var i=this;return(0,ye.A)(function*(){i.cid=void 0,i.size=void 0,i.nodeSize=void 0,i._children.set(t,n)})()}get(t){var n=this;return(0,ye.A)(function*(){return Promise.resolve(n._children.get(t))})()}childCount(){return this._children.size}directChildrenCount(){return this.childCount()}onlyChild(){return this._children.values().next().value}eachChildSeries(){var t=this;return us(function*(){for(const[n,i]of t._children.entries())yield{key:n,child:i}})()}estimateNodeSize(){if(void 0!==this.nodeSize)return this.nodeSize;this.nodeSize=0;for(const[t,n]of this._children.entries())null!=n.size&&null!=n.cid&&(this.nodeSize+=t.length+(1===this.options.cidVersion?KI.bytes.byteLength:wx.bytes.byteLength));return this.nodeSize}flush(t){var n=this;return us(function*(){const i=[];for(const[Oe,je]of n._children.entries()){let et=je;if(je instanceof ib){var c,l=!1,h=!1;try{for(var V,f=Fo(je.flush(t));l=!(V=yield gi(f.next())).done;l=!1){const ft=V.value;et=ft,yield ft}}catch(ft){h=!0,c=ft}finally{try{l&&null!=f.return&&(yield gi(f.return()))}finally{if(h)throw c}}}null!=et.size&&null!=et.cid&&i.push({Name:Oe,Tsize:Number(et.size),Hash:et.cid})}const $=new Gu({type:"directory",mtime:n.mtime,mode:n.mode}),D={Data:$.marshal(),Links:i},q=Qh(Wp(D)),De=yield gi(Xp(q,t,n.options)),Re=q.length+D.Links.reduce((Oe,je)=>Oe+(null==je.Tsize?0:je.Tsize),0);n.cid=De,n.size=Re,yield{cid:De,unixfs:$,path:n.path,size:BigInt(Re)}})()}}const N4=new Uint8Array(0);function VI(r){const t=r.match(/../g);return null!=t?new Uint8Array(t.map(n=>parseInt(n,16))):N4}class ab{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class GI{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return xx(this,t)}}class ZI{decoders;constructor(t){this.decoders=t}or(t){return xx(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function xx(r,t){return new ZI({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class XI{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,l){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=l,this.encoder=new ab(t,n,i),this.decoder=new GI(t,n,l)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function YI({name:r,prefix:t,encode:n,decode:i}){return new XI(r,t,n,i)}function JI({name:r,prefix:t,alphabet:n}){const{encode:i,decode:l}=function HI(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var l=0;l<r.length;l++){var h=r.charAt(l),c=h.charCodeAt(0);if(255!==n[c])throw new TypeError(h+" is ambiguous");n[c]=l}var f=r.length,V=r.charAt(0),$=Math.log(f)/Math.log(256),D=Math.log(256)/Math.log(f);function De(Oe){if("string"!=typeof Oe)throw new TypeError("Expected String");if(0===Oe.length)return new Uint8Array;var je=0;if(" "!==Oe[je]){for(var et=0,ft=0;Oe[je]===V;)et++,je++;for(var at=(Oe.length-je)*$+1>>>0,dt=new Uint8Array(at);Oe[je];){var Mt=n[Oe.charCodeAt(je)];if(255===Mt)return;for(var Pt=0,Dt=at-1;(0!==Mt||Pt<ft)&&-1!==Dt;Dt--,Pt++)dt[Dt]=(Mt+=f*dt[Dt]>>>0)%256>>>0,Mt=Mt/256>>>0;if(0!==Mt)throw new Error("Non-zero carry");ft=Pt,je++}if(" "!==Oe[je]){for(var Kt=at-ft;Kt!==at&&0===dt[Kt];)Kt++;for(var Wt=new Uint8Array(et+(at-Kt)),En=et;Kt!==at;)Wt[En++]=dt[Kt++];return Wt}}}return{encode:function q(Oe){if(Oe instanceof Uint8Array||(ArrayBuffer.isView(Oe)?Oe=new Uint8Array(Oe.buffer,Oe.byteOffset,Oe.byteLength):Array.isArray(Oe)&&(Oe=Uint8Array.from(Oe))),!(Oe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Oe.length)return"";for(var je=0,et=0,ft=0,at=Oe.length;ft!==at&&0===Oe[ft];)ft++,je++;for(var dt=(at-ft)*D+1>>>0,Mt=new Uint8Array(dt);ft!==at;){for(var Pt=Oe[ft],Dt=0,Kt=dt-1;(0!==Pt||Dt<et)&&-1!==Kt;Kt--,Dt++)Mt[Kt]=(Pt+=256*Mt[Kt]>>>0)%f>>>0,Pt=Pt/f>>>0;if(0!==Pt)throw new Error("Non-zero carry");et=Dt,ft++}for(var Wt=dt-et;Wt!==dt&&0===Mt[Wt];)Wt++;for(var En=V.repeat(je);Wt<dt;++Wt)En+=r.charAt(Mt[Wt]);return En},decodeUnsafe:De,decode:function Re(Oe){var je=De(Oe);if(je)return je;throw new Error(`Non-${t} character`)}}}(n,r);return YI({prefix:t,name:r,encode:i,decode:h=>function ob(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}(l(h))})}function tp({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return YI({prefix:t,name:r,encode:l=>function cb(r,t,n){const i="="===t[t.length-1],l=(1<<n)-1;let h="",c=0,f=0;for(let V=0;V<r.length;++V)for(f=f<<8|r[V],c+=8;c>n;)c-=n,h+=t[l&f>>c];if(0!==c&&(h+=t[l&f<<n-c]),i)for(;h.length*n&7;)h+="=";return h}(l,i,n),decode:l=>function nk(r,t,n,i){const l={};for(let D=0;D<t.length;++D)l[t[D]]=D;let h=r.length;for(;"="===r[h-1];)--h;const c=new Uint8Array(h*n/8|0);let f=0,V=0,$=0;for(let D=0;D<h;++D){const q=l[r[D]];if(void 0===q)throw new SyntaxError(`Non-${i} character`);V=V<<n|q,f+=n,f>=8&&(f-=8,c[$++]=255&V>>f)}if(f>=n||255&V<<8-f)throw new SyntaxError("Unexpected end of data");return c}(l,i,n,r)})}tp({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),tp({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),tp({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),tp({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),tp({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),tp({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),tp({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),tp({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),tp({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),JI({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),JI({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var QI=128,lk=-128,dk=Math.pow(2,31),eD=128,Mx=127,db=Math.pow(2,7),V_=Math.pow(2,14),$4=Math.pow(2,21),uk=Math.pow(2,28),tD=Math.pow(2,35),Tx=Math.pow(2,42),fk=Math.pow(2,49),nD=Math.pow(2,56),hk=Math.pow(2,63);const Vy={encode:function K_(r,t,n){t=t||[];for(var i=n=n||0;r>=dk;)t[n++]=255&r|QI,r/=128;for(;r&lk;)t[n++]=255&r|QI,r>>>=7;return t[n]=0|r,K_.bytes=n-i+1,t},decode:function Ax(r,i){var c,n=0,l=0,h=i=i||0,f=r.length;do{if(h>=f)throw Ax.bytes=0,new RangeError("Could not decode varint");c=r[h++],n+=l<28?(c&Mx)<<l:(c&Mx)*Math.pow(2,l),l+=7}while(c>=eD);return Ax.bytes=h-i,n},encodingLength:function(r){return r<db?1:r<V_?2:r<$4?3:r<uk?4:r<tD?5:r<Tx?6:r<fk?7:r<nD?8:r<hk?9:10}};function z_(r,t,n=0){return Vy.encode(r,t,n),t}function H_(r){return Vy.encodingLength(r)}function Dx(r,t){const n=t.byteLength,i=H_(r),l=i+H_(n),h=new Uint8Array(l+n);return z_(r,h,0),z_(n,h,i),h.set(t,l),new ub(r,n,t,h)}class ub{code;size;digest;bytes;constructor(t,n,i,l){this.code=t,this.size=n,this.digest=i,this.bytes=l}}function Px({name:r,code:t,encode:n}){return new bk(r,t,n)}Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");class bk{name;code;encode;constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?Dx(this.code,n):n.then(i=>Dx(this.code,i))}throw Error("Unknown type, must be binary type")}}var W_=_(13026);Px({name:"murmur3-32",code:35,encode:r=>function wk(r){const t=new Array(4);for(let n=0;n<4;n++)t[n]=255&r,r>>=8;return new Uint8Array(t)}(W_.x86.hash32(r))});const fb=Px({name:"murmur3-128",code:34,encode:r=>VI(W_.x64.hash128(r))});Px({name:"murmur3-x64-64",code:34,encode:r=>VI(W_.x64.hash128(r)).subarray(0,8)});var Ek=_(18876);class $d{_options;_popCount;_parent;_posAtParent;_children;key;constructor(t,n,i=0){this._options=t,this._popCount=0,this._parent=n,this._posAtParent=i,this._children=new Ek,this.key=null}put(t,n){var i=this;return(0,ye.A)(function*(){const l=yield i._findNewBucketAndPos(t);l.bucket._putAt(l,t,n)})()}get(t){var n=this;return(0,ye.A)(function*(){const i=yield n._findChild(t);if(null!=i)return i.value})()}del(t){var n=this;return(0,ye.A)(function*(){const i=yield n._findPlace(t),l=i.bucket._at(i.pos);null!=l&&l.key===t&&i.bucket._delAt(i.pos)})()}leafCount(){return this._children.compactArray().reduce((n,i)=>i instanceof $d?n+i.leafCount():n+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const t=this._children.compactArray();for(const n of t)n instanceof $d?yield*n.eachLeafSeries():yield n}serialize(t,n){return n(this._children.reduce((l,h,c)=>(null!=h&&l.push(h instanceof $d?h.serialize(t,n):t(h,c)),l),[]))}asyncTransform(t,n){var i=this;return(0,ye.A)(function*(){return qp(i,t,n)})()}toJSON(){return this.serialize(Sk,d0)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}_findChild(t){var n=this;return(0,ye.A)(function*(){const i=yield n._findPlace(t),l=i.bucket._at(i.pos);if(!(l instanceof $d)&&null!=l&&l.key===t)return l})()}_findPlace(t){var n=this;return(0,ye.A)(function*(){const i=n._options.hash("string"==typeof t?bt(t):t),l=yield i.take(n._options.bits),h=n._children.get(l);return h instanceof $d?h._findPlace(i):{bucket:n,pos:l,hash:i,existingChild:h}})()}_findNewBucketAndPos(t){var n=this;return(0,ye.A)(function*(){const i=yield n._findPlace(t);if(null!=i.existingChild&&i.existingChild.key!==t){const l=new $d(n._options,i.bucket,i.pos);i.bucket._putObjectAt(i.pos,l);const h=yield l._findPlace(i.existingChild.hash);return h.bucket._putAt(h,i.existingChild.key,i.existingChild.value),l._findNewBucketAndPos(i.hash)}return i})()}_putAt(t,n,i){this._putObjectAt(t.pos,{key:n,value:i,hash:t.hash})}_putObjectAt(t,n){null==this._children.get(t)&&this._popCount++,this._children.set(t,n)}_delAt(t){if(-1===t)throw new Error("Invalid position");null!=this._children.get(t)&&this._popCount--,this._children.unset(t),this._level()}_level(){if(null!=this._parent&&this._popCount<=1)if(1===this._popCount){const t=this._children.find(xk);if(null!=t&&!(t instanceof $d)){const n=t.hash;n.untake(this._options.bits),this._parent._putAt({pos:this._posAtParent,hash:n,bucket:this._parent},t.key,t.value)}}else this._parent._delAt(this._posAtParent)}_at(t){return this._children.get(t)}}function xk(r){return!!r}function Sk(r,t){return r.key}function d0(r){return r}function qp(r,t,n){return u0.apply(this,arguments)}function u0(){return(u0=(0,ye.A)(function*(r,t,n){const i=[];for(const l of r._children.compactArray())if(l instanceof $d)yield qp(l,t,n);else{const h=yield t(l);i.push({bitField:r._children.bitField(),children:h})}return n(i)})).apply(this,arguments)}const H4=[255,254,252,248,240,224,192,128],aD=[1,3,7,15,31,63,127,255];class Mk{_value;_currentBytePos;_currentBitPos;constructor(t){this._value=t,this._currentBytePos=t.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+8*this._currentBytePos}totalBits(){return 8*this._value.length}take(t){let n=t,i=0;for(;n>0&&this._haveBits();){const l=this._value[this._currentBytePos],h=this._currentBitPos+1,c=Math.min(h,n);i=(i<<c)+cD(l,h-c,c),n-=c,this._currentBitPos-=c,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return i}untake(t){for(this._currentBitPos+=t;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}}function cD(r,t,n){const i=function Ak(r,t){return H4[r]&aD[Math.min(t+r-1,7)]}(t,n);return(r&i)>>>t}function lD(r){return function t(n){return n instanceof Tk?n:new Tk(n,r)}}class Tk{_value;_hashFn;_depth;_availableBits;_currentBufferIndex;_buffers;constructor(t,n){if(!(t instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=t,this._hashFn=n,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}take(t){var n=this;return(0,ye.A)(function*(){let i=t;for(;n._availableBits<i;)yield n._produceMoreBits();let l=0;for(;i>0;){const h=n._buffers[n._currentBufferIndex],c=Math.min(h.availableBits(),i);l=(l<<c)+h.take(c),i-=c,n._availableBits-=c,0===h.availableBits()&&n._currentBufferIndex++}return l})()}untake(t){let n=t;for(;n>0;){const i=this._buffers[this._currentBufferIndex],l=Math.min(i.totalBits()-i.availableBits(),n);i.untake(l),n-=l,this._availableBits+=l,this._currentBufferIndex>0&&i.totalBits()===i.availableBits()&&(this._depth--,this._currentBufferIndex--)}}_produceMoreBits(){var t=this;return(0,ye.A)(function*(){t._depth++;const n=t._depth>0?h_([t._value,Uint8Array.from([t._depth])]):t._value,i=yield t._hashFn(n),l=new Mk(i);t._buffers.push(l),t._availableBits+=l.availableBits()})()}}function dD(r){if(null==r||null==r.hashFn)throw new Error("please define an options.hashFn");const t={bits:r.bits??8,hash:lD(r.hashFn)};return new $d(t)}function hb(r){return pb.apply(this,arguments)}function pb(){return(pb=(0,ye.A)(function*(r){return(yield fb.encode(r)).slice(0,8).reverse()})).apply(this,arguments)}const uD=BigInt(34),Dk=class Ik extends ib{_bucket;constructor(t,n){super(t,n),this._bucket=dD({hashFn:hb,bits:8})}put(t,n){var i=this;return(0,ye.A)(function*(){i.cid=void 0,i.size=void 0,i.nodeSize=void 0,yield i._bucket.put(t,n)})()}get(t){var n=this;return(0,ye.A)(function*(){return n._bucket.get(t)})()}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}eachChildSeries(){var t=this;return us(function*(){var l,n=!1,i=!1;try{for(var c,h=Fo(t._bucket.eachLeafSeries());n=!(c=yield gi(h.next())).done;n=!1){const{key:f,value:V}=c.value;yield{key:f,child:V}}}catch(f){i=!0,l=f}finally{try{n&&null!=h.return&&(yield gi(h.return()))}finally{if(i)throw l}}})()}estimateNodeSize(){return void 0!==this.nodeSize||(this.nodeSize=Ml(this._bucket,this,this.options)),this.nodeSize}flush(t){var n=this;return us(function*(){var h,i=!1,l=!1;try{for(var f,c=Fo(Ck(n._bucket,t,n,n.options));i=!(f=yield gi(c.next())).done;i=!1)yield{...f.value,path:n.path}}catch(V){l=!0,h=V}finally{try{i&&null!=c.return&&(yield gi(c.return()))}finally{if(l)throw h}}})()}};function Ck(r,t,n,i){return G_.apply(this,arguments)}function G_(){return(G_=us(function*(r,t,n,i){const l=r._children,h=[];let c=0n;for(let Kt=0;Kt<l.length;Kt++){const Wt=l.get(Kt);if(null==Wt)continue;const En=Kt.toString(16).toUpperCase().padStart(2,"0");if(Wt instanceof $d){let Tn;var $,f=!1,V=!1;try{for(var q,D=Fo(Ck(Wt,t,null,i));f=!(q=yield gi(D.next())).done;f=!1)Tn=q.value}catch(Rn){V=!0,$=Rn}finally{try{f&&null!=D.return&&(yield gi(D.return()))}finally{if(V)throw $}}if(null==Tn)throw new Error("Could not flush sharded directory, no subshard found");h.push({Name:En,Tsize:Number(Tn.size),Hash:Tn.cid}),c+=Tn.size}else if(Kl(Wt.value)){const Tn=Wt.value;let Rn;var Oe,De=!1,Re=!1;try{for(var et,je=Fo(Tn.flush(t));De=!(et=yield gi(je.next())).done;De=!1)Rn=et.value,yield Rn}catch(Pn){Re=!0,Oe=Pn}finally{try{De&&null!=je.return&&(yield gi(je.return()))}finally{if(Re)throw Oe}}if(null==Rn)throw new Error("Did not flush dir");h.push({Name:En+Wt.key,Tsize:Number(Rn.size),Hash:Rn.cid}),c+=Rn.size}else{const Tn=Wt.value;if(null==Tn.cid)continue;const rr=Tn.size;h.push({Name:En+Wt.key,Tsize:Number(rr),Hash:Tn.cid}),c+=BigInt(rr??0)}}const ft=Uint8Array.from(l.bitField().reverse()),at=new Gu({type:"hamt-sharded-directory",data:ft,fanout:BigInt(r.tableSize()),hashType:uD,mtime:n?.mtime,mode:n?.mode}),Mt=Qh(Wp({Data:at.marshal(),Links:h})),Pt=yield gi(Xp(Mt,t,i)),Dt=BigInt(Mt.byteLength)+c;yield{cid:Pt,unixfs:at,size:Dt}})).apply(this,arguments)}function Kl(r){return"function"==typeof r.flush}function Ml(r,t,n){const i=r._children,l=[];for(let V=0;V<i.length;V++){const $=i.get(V);if(null==$)continue;const D=V.toString(16).toUpperCase().padStart(2,"0");if($ instanceof $d){const q=Ml($,null,n);l.push({Name:D,Tsize:Number(q),Hash:0===n.cidVersion?wx:KI})}else if("function"==typeof $.value.flush){const De=$.value.nodeSize();l.push({Name:D+$.key,Tsize:Number(De),Hash:0===n.cidVersion?wx:KI})}else{const q=$.value;if(null==q.cid)continue;l.push({Name:D+$.key,Tsize:Number(q.size),Hash:q.cid})}}const h=Uint8Array.from(i.bitField().reverse());return Qh(Wp({Data:new Gu({type:"hamt-sharded-directory",data:h,fanout:BigInt(r.tableSize()),hashType:uD,mtime:t?.mtime,mode:t?.mode}).marshal(),Links:l})).length}function Ox(r,t,n,i){return mb.apply(this,arguments)}function mb(){return mb=(0,ye.A)(function*(r,t,n,i){let l=t;t instanceof _x&&t.estimateNodeSize()>n&&(l=yield function fD(r,t){return Z_.apply(this,arguments)}(t,i));const h=l.parent;if(null!=h){if(l!==t){if(null!=r&&(r.parent=l),null==l.parentKey)throw new Error("No parent key found");yield h.put(l.parentKey,l)}return Ox(l,h,n,i)}return l}),mb.apply(this,arguments)}function Z_(){return(Z_=(0,ye.A)(function*(r,t){const n=new Dk({root:r.root,dir:!0,parent:r.parent,parentKey:r.parentKey,path:r.path,dirty:r.dirty,flat:!1,mtime:r.mtime,mode:r.mode},t);var h,i=!1,l=!1;try{for(var f,c=Fo(r.eachChildSeries());i=!(f=yield c.next()).done;i=!1){const{key:V,child:$}=f.value;yield n.put(V,$)}}catch(V){l=!0,h=V}finally{try{i&&null!=c.return&&(yield c.return())}finally{if(l)throw h}}return n})).apply(this,arguments)}const kk=(r="")=>(r.trim().match(/([^\\/]|\\\/)+/g)??[]).filter(Boolean);function hD(r,t,n){return Rx.apply(this,arguments)}function Rx(){return(Rx=(0,ye.A)(function*(r,t,n){const i=kk(r.path??""),l=i.length-1;let h=t,c="";for(let f=0;f<i.length;f++){const V=i[f];c+=`${""!==c?"/":""}${V}`;const $=f===l;if(h.dirty=!0,h.cid=void 0,h.size=void 0,$)yield h.put(V,r),t=yield Ox(null,h,n.shardSplitThresholdBytes,n);else{let D=yield h.get(V);(null==D||!(D instanceof ib))&&(D=new _x({root:!1,dir:!0,parent:h,parentKey:V,path:c,dirty:!0,flat:!0,mtime:D?.unixfs?.mtime,mode:D?.unixfs?.mode},n)),yield h.put(V,D),h=D}}return t})).apply(this,arguments)}function pD(r,t){return Wy.apply(this,arguments)}function Wy(){return(Wy=us(function*(r,t){r instanceof ib?yield*Zu(Fo(r.flush(t))):!0===r.unixfs?.isDirectory()&&(yield r)})).apply(this,arguments)}function Xu(r,t){return Gy.apply(this,arguments)}function Gy(){return Gy=us(function*(r,t,n={}){let i;i=Symbol.asyncIterator in r||Symbol.iterator in r?r:[r];const l=n.wrapWithDirectory??!1,h=n.shardSplitThresholdBytes??262144,c=n.cidVersion??1,f=n.rawLeaves??!0,V=n.leafType??"file",$=n.fileImportConcurrency??50,D=n.blockWriteConcurrency??10,q=n.reduceSingleLeafToSelf??!0,De=n.chunker??M5(),Re=n.chunkValidator??Y8(),Oe=n.dagBuilder??function P_(r){return function(){var t=us(function*(i,l){var f,h=!1,c=!1;try{for(var $,V=Fo(i);h=!($=yield gi(V.next())).done;h=!1){const D=$.value;{let q;if(null!=D.path&&(q=D.path,D.path=D.path.split("/").filter(De=>null!=De&&"."!==De).join("/")),rx(D)){const De={path:D.path,mtime:D.mtime,mode:D.mode,content:us(function*(){let Re=0n;var et,Oe=!1,je=!1;try{for(var at,ft=Fo(r.chunker(r.chunkValidator(Wv(D.content))));Oe=!(at=yield gi(ft.next())).done;Oe=!1){const dt=at.value;{const Mt=BigInt(dt.byteLength);Re+=Mt,r.onProgress?.(new xl("unixfs:importer:progress:file:read",{bytesRead:Re,chunkSize:Mt,path:D.path})),yield dt}}}catch(dt){je=!0,et=dt}finally{try{Oe&&null!=ft.return&&(yield gi(ft.return()))}finally{if(je)throw et}}})(),originalPath:q};yield(0,ye.A)(function*(){return u8(De,l,r)})}else{if(null==D.path)throw new Error("Import candidate must have content or path or both");{const De={path:D.path,mtime:D.mtime,mode:D.mode,originalPath:q};yield(0,ye.A)(function*(){return k_(De,l,r)})}}}}}catch(D){c=!0,f=D}finally{try{h&&null!=V.return&&(yield gi(V.return()))}finally{if(c)throw f}}});return function n(i,l){return t.apply(this,arguments)}}()}({chunker:De,chunkValidator:Re,wrapWithDirectory:l,layout:n.layout??q8(),bufferImporter:n.bufferImporter??lI({cidVersion:c,rawLeaves:f,leafType:V,onProgress:n.onProgress}),blockWriteConcurrency:D,reduceSingleLeafToSelf:q,cidVersion:c,onProgress:n.onProgress}),je=n.treeBuilder??function Bx(r){return function(){var t=us(function*(i,l){let c,h=new _x({root:!0,dir:!0,path:"",dirty:!0,flat:!0},r),f=!1;var D,V=!1,$=!1;try{for(var De,q=Fo(i);V=!(De=yield gi(q.next())).done;V=!1){const at=De.value;{if(null==at)continue;const dt=`${at.originalPath??""}`.split("/")[0];null!=dt&&""!==dt&&(null==c?(c=dt,f=!0):c!==dt&&(f=!1)),h=yield gi(hD(at,h,r)),(null==at.unixfs||!at.unixfs.isDirectory())&&(yield at)}}}catch(at){$=!0,D=at}finally{try{V&&null!=q.return&&(yield gi(q.return()))}finally{if($)throw D}}if(r.wrapWithDirectory||f&&h.childCount()>1)yield*Zu(Fo(pD(h,l)));else{var je,Re=!1,Oe=!1;try{for(var ft,et=Fo(h.eachChildSeries());Re=!(ft=yield gi(et.next())).done;Re=!1){const at=ft.value;null!=at&&(yield*Zu(Fo(pD(at.child,l))))}}catch(at){Oe=!0,je=at}finally{try{Re&&null!=et.return&&(yield gi(et.return()))}finally{if(Oe)throw je}}}});return function n(i,l){return t.apply(this,arguments)}}()}({wrapWithDirectory:l,shardSplitThresholdBytes:h,cidVersion:c,onProgress:n.onProgress});var at,et=!1,ft=!1;try{for(var Mt,dt=Fo(je(_2(Oe(i,t),$),t));et=!(Mt=yield gi(dt.next())).done;et=!1){const Pt=Mt.value;yield{cid:Pt.cid,path:Pt.path,unixfs:Pt.unixfs,size:Pt.size}}}catch(Pt){ft=!0,at=Pt}finally{try{et&&null!=dt.return&&(yield gi(dt.return()))}finally{if(ft)throw at}}}),Gy.apply(this,arguments)}var yD=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})},yb=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(h){n[h]=r[h]&&function(c){return new Promise(function(f,V){!function l(h,c,f,V){Promise.resolve(V).then(function($){h({value:$,done:f})},c)}(f,V,(c=r[h](c)).done,c.value)})}}};const Ux={[fe.code]:fe},Fx={[Cy]:J};class nl{static computeCid(t,n=Cy,i=fe.code){return yD(this,void 0,void 0,function*(){const l=Fx[n];if(!l)throw new ce(_e.ComputeCidCodecNotSupported,`codec [${n}] not supported`);const h=Ux[i];if(!h)throw new ce(_e.ComputeCidMultihashNotSupported,`multihash code [${i}] not supported`);const c=l.encode(t),f=yield h.digest(c);return(yield Bf.TO.createV1(l.code,f)).toString()})}static parseCid(t){const n=Bf.TO.parse(t).toV1();if(!Fx[n.code])throw new ce(_e.ParseCidCodecNotSupported,`codec [${n.code}] not supported`);if(!Ux[n.multihash.code])throw new ce(_e.ParseCidMultihashNotSupported,`multihash code [${n.multihash.code}] not supported`);return n}static computeDagPbCidFromBytes(t){var n,i,l;return yD(this,void 0,void 0,function*(){const c=Xu([{content:t}],new b2,{cidVersion:1});let f;try{for(var D,V=!0,$=yb(c);D=yield $.next(),!(n=D.done);V=!0)V=!1,f=D.value}catch(q){i={error:q}}finally{try{!V&&!n&&(l=$.return)&&(yield l.call($))}finally{if(i)throw i.error}}return f?f.cid.toString():""})}static computeDagPbCidFromStream(t){var n,i,l;return yD(this,void 0,void 0,function*(){const c=Xu([{content:t}],new b2,{cidVersion:1});let f;try{for(var D,V=!0,$=yb(c);D=yield $.next(),!(n=D.done);V=!0)V=!1,f=D.value}catch(q){i={error:q}}finally{try{!V&&!n&&(l=$.return)&&(yield l.call($))}finally{if(i)throw i.error}}return f?f.cid.toString():""})}}var Zy=_(91426),gb=_(63397),vb=_(65797),Y_=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};gb.VV.isEphemeralKeyCompressed=!0;class bb{static aes256CtrEncrypt(t,n,i){return Y_(this,void 0,void 0,function*(){const l=Zy.createCipheriv("aes-256-ctr",t,n),h=new vb.Readable({read(){}});return i.on("data",c=>{const f=l.update(c);h.push(f)}),i.on("end",()=>{const c=l.final();h.push(c),h.push(null)}),i.on("error",c=>{h.emit("error",c)}),h})}static aes256CtrDecrypt(t,n,i){return Y_(this,void 0,void 0,function*(){const l=Zy.createDecipheriv("aes-256-ctr",t,n),h=new vb.Readable({read(){}});return i.on("data",c=>{const f=l.update(c);h.push(f)}),i.on("end",()=>{const c=l.final();h.push(c),h.push(null)}),i.on("error",c=>{h.emit("error",c)}),h})}static eciesSecp256k1Encrypt(t,n){return Y_(this,void 0,void 0,function*(){const i=Buffer.from(t),l=Buffer.from(n),h=gb.w(i,l);let c=0,f=bb.isEphemeralKeyCompressed?33:65;const V=h.subarray(c,f);c=f,f+=gb.VV.symmetricNonceLength;const $=h.subarray(c,f);c=f,f+=16;const D=h.subarray(c,f);return{ciphertext:h.subarray(f),ephemeralPublicKey:V,initializationVector:$,messageAuthenticationCode:D}})}static eciesSecp256k1Decrypt(t){return Y_(this,void 0,void 0,function*(){const n=Buffer.from(t.privateKey),i=Buffer.concat([t.ephemeralPublicKey,t.initializationVector,t.messageAuthenticationCode,t.ciphertext]);return gb.Yc(n,i)})}static get isEphemeralKeyCompressed(){return gb.VV.isEphemeralKeyCompressed}}var jx=function(r){return r.Aes256Ctr="A256CTR",r.EciesSecp256k1="ECIES-ES256K",r}(jx||{}),gD=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class wb{constructor(t){this.jws=t}static create(t,n=[]){return gD(this,void 0,void 0,function*(){const i={payload:K.bytesToBase64Url(t),signatures:[]},l=new wb(i);for(const h of n)yield l.addSignature(h);return l})}addSignature(t){return gD(this,void 0,void 0,function*(){const i=JSON.stringify({kid:t.keyId,alg:t.algorithm}),l=K.stringToBase64Url(i),c=K.stringToBytes(`${l}.${this.jws.payload}`),f=yield t.sign(c),V=K.bytesToBase64Url(f);this.jws.signatures.push({protected:l,signature:V})})}getJws(){return this.jws}}const m0="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;var J_=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})},fu=function(r){return r.DataFormats="dataFormats",r.ProtocolContext="protocolContext",r.ProtocolPath="protocolPath",r.Schemas="schemas",r}(fu||{});class y0{static derivePrivateKey(t,n){var i;return J_(this,void 0,void 0,function*(){const l=Ee.privateJwkToBytes(t.derivedPrivateKey),h=null!==(i=t.derivationPath)&&void 0!==i?i:[],c=yield y0.derivePrivateKeyBytes(l,n),f=yield Ee.privateKeyToJwk(c);return{rootKeyId:t.rootKeyId,derivationScheme:t.derivationScheme,derivationPath:[...h,...n],derivedPrivateKey:f}})}static derivePublicKey(t,n){return J_(this,void 0,void 0,function*(){const i=yield y0.derivePrivateKey(t,n);return yield Ee.getPublicJwk(i.derivedPrivateKey)})}static derivePrivateKeyBytes(t,n){return J_(this,void 0,void 0,function*(){y0.validateKeyDerivationPath(n);let i=t;for(const l of n){const h=K.stringToBytes(l);i=yield y0.deriveKeyUsingHkdf({hashAlgorithm:"SHA-256",initialKeyMaterial:i,info:h,keyLengthInBytes:32})}return i})}static deriveKeyUsingHkdf(t){return J_(this,void 0,void 0,function*(){const{hashAlgorithm:n,initialKeyMaterial:i,info:l,keyLengthInBytes:h}=t,f=yield function Pk(){if(m0&&"object"==typeof m0.subtle&&null!=m0.subtle)return m0.subtle;throw new Error("crypto.subtle must be defined")}().importKey("raw",i,{name:"HKDF"},!1,["deriveBits"]),V=yield crypto.subtle.deriveBits({name:"HKDF",hash:n,salt:new Uint8Array(0),info:l},f,8*h);return new Uint8Array(V)})}static validateKeyDerivationPath(t){if(t.includes(""))throw new ce(_e.HdKeyDerivationPathInvalid,`Invalid key derivation path: ${t}`)}}function _b(r,t){return r>t?1:r<t?-1:0}function Eb(r){if("object"!=typeof r)return!1;for(const t in r)return!1;return!0}function bd(r){Object.keys(r).forEach(t=>{void 0===r[t]?delete r[t]:"object"==typeof r[t]&&bd(r[t])})}var Yu=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class Vr{static validateJsonSchema(t){yy(t.descriptor.interface+t.descriptor.method,t)}static getSigner(t){return void 0===t.authorization?void 0:Dr.getSignerDid(t.authorization.signature.signatures[0])}static getCid(t){return Yu(this,void 0,void 0,function*(){const n=Object.assign({},t);return n.encodedData&&delete n.encodedData,yield nl.computeCid(n)})}static compareCid(t,n){return Yu(this,void 0,void 0,function*(){return _b(yield Vr.getCid(t),yield Vr.getCid(n))})}static createAuthorization(t){return Yu(this,void 0,void 0,function*(){const{descriptor:n,signer:i,delegatedGrant:l,permissionGrantId:h,protocolRole:c}=t;let f;void 0!==l&&(f=yield Vr.getCid(l));const $={signature:yield Vr.createSignature(n,i,{delegatedGrantId:f,permissionGrantId:h,protocolRole:c})};return void 0!==l&&($.authorDelegatedGrant=l),$})}static createSignature(t,n,i){return Yu(this,void 0,void 0,function*(){const l=yield nl.computeCid(t),h=Object.assign({descriptorCid:l},i);bd(h);const c=K.objectToBytes(h);return(yield wb.create(c,[n])).getJws()})}static getNewestMessage(t){return Yu(this,void 0,void 0,function*(){let n;for(const i of t)(void 0===n||(yield Vr.isNewer(i,n)))&&(n=i);return n})}static getOldestMessage(t){return Yu(this,void 0,void 0,function*(){let n;for(const i of t)(void 0===n||(yield Vr.isOlder(i,n)))&&(n=i);return n})}static isNewer(t,n){return Yu(this,void 0,void 0,function*(){return(yield Vr.compareMessageTimestamp(t,n))>0})}static isOlder(t,n){return Yu(this,void 0,void 0,function*(){return(yield Vr.compareMessageTimestamp(t,n))<0})}static isSignedByAuthorDelegate(t){var n;return void 0!==(null===(n=t.authorization)||void 0===n?void 0:n.authorDelegatedGrant)}static isSignedByOwnerDelegate(t){var n;return void 0!==(null===(n=t.authorization)||void 0===n?void 0:n.ownerDelegatedGrant)}static compareMessageTimestamp(t,n){return Yu(this,void 0,void 0,function*(){return t.descriptor.messageTimestamp>n.descriptor.messageTimestamp?1:t.descriptor.messageTimestamp<n.descriptor.messageTimestamp?-1:Vr.compareCid(t,n)})}static validateSignatureStructure(t,n,i="GenericSignaturePayload"){return Yu(this,void 0,void 0,function*(){if(1!==t.signatures.length)throw new ce(_e.AuthenticationMoreThanOneSignatureNotSupported,"expected no more than 1 signature for authorization purpose");const l=Dr.decodePlainObjectPayload(t);yy(i,l);const{descriptorCid:h}=l,c=yield nl.computeCid(n);if(h!==c)throw new ce(_e.AuthenticateDescriptorCidMismatch,`provided descriptorCid ${h} does not match expected CID ${c}`);return l})}}class Ju{static parse(t){return function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return new Ju(t)})}constructor(t){this.id=t.recordId,this.grantor=Vr.getSigner(t),this.grantee=t.descriptor.recipient,this.dateGranted=t.descriptor.dateCreated;const i=K.base64UrlToObject(t.encodedData);this.dateExpires=i.dateExpires,this.delegated=i.delegated,this.description=i.description,this.requestId=i.requestId,this.scope=i.scope,this.conditions=i.conditions}}var Kd=function(r){return r.CreatedAscending="createdAscending",r.CreatedDescending="createdDescending",r.PublishedAscending="publishedAscending",r.PublishedDescending="publishedDescending",r}(Kd||{});class rl{static matchAnyFilter(t,n){if(0===n.length)return!0;for(const i of n)if(this.matchFilter(t,i))return!0;return!1}static matchFilter(t,n){for(const i in n){const l=n[i],h=t[i];if(void 0===h||!(Array.isArray(h)?this.matchAnyIndexValue(l,h):this.matchIndexValue(l,h)))return!1}return!0}static matchAnyIndexValue(t,n){for(const i of n)if(this.matchIndexValue(t,i))return!0;return!1}static matchIndexValue(t,n){if("object"==typeof t){if(Array.isArray(t)){if(this.matchOneOf(t,n))return!0}else if(this.matchRange(t,n))return!0}else if(n===t)return!0;return!1}static matchOneOf(t,n){for(const i of t)if(n===i)return!0;return!1}static matchRange(t,n){return!(void 0!==t.lt&&n>=t.lt||void 0!==t.lte&&n>t.lte||void 0!==t.gt&&n<=t.gt||void 0!==t.gte&&n<t.gte)}static isEqualFilter(t){return"object"!=typeof t}static isRangeFilter(t){return"object"==typeof t&&!Array.isArray(t)&&("gt"in t||"lt"in t||"lte"in t||"gte"in t)}static isOneOfFilter(t){return!("object"!=typeof t||!Array.isArray(t))}static convertRangeCriterion(t){let n;return void 0!==t.to&&void 0!==t.from?n={gte:t.from,lt:t.to}:void 0!==t.to?n={lt:t.to}:void 0!==t.from&&(n={gte:t.from}),n}static constructPrefixFilterAsRangeFilter(t){return{gte:t,lt:t+"\uffff"}}}class Kx{static reduceFilter(t){if(Object.keys(t).length<=1)return t;const{recordId:i,attester:l,parentId:h,recipient:c,contextId:f,protocolPath:$,schema:D,protocol:q}=t,De=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["recordId","attester","parentId","recipient","contextId","author","protocolPath","schema","protocol"]);if(void 0!==i)return{recordId:i};if(void 0!==l)return{attester:l};if(void 0!==h)return{parentId:h};if(void 0!==c)return{recipient:c};if(void 0!==f)return{contextId:f};if(void 0!==$)return{protocolPath:$};if(void 0!==D)return{schema:D};if(void 0!==q)return{protocol:q};const Oe=Object.keys(De)[0],je={};return je[Oe]=t[Oe],je}}var Wi=function(r){return r.Messages="Messages",r.Protocols="Protocols",r.Records="Records",r}(Wi||{}),di=function(r){return r.Configure="Configure",r.Query="Query",r.Read="Read",r.Write="Write",r.Delete="Delete",r.Subscribe="Subscribe",r}(di||{});function _h(r){let t;try{t=Qp(r)}catch{t=void 0}if(r!==t)throw new ce(_e.UrlProtocolNotNormalized,`Protocol URI ${r} must be normalized.`)}function Qp(r){return bD(r)}function q_(r){let t;try{t=Q_(r)}catch{t=void 0}if(r!==t)throw new ce(_e.UrlSchemaNotNormalized,`Schema URI ${r} must be normalized.`)}function Q_(r){return bD(r)}function bD(r){let t;t=/^[^:]+:(\/{2})?[^\/].*/.test(r)?r:`http://${r}`;try{const n=new URL(t);return n.search="",n.hash="",function wD(r){return r.endsWith("/")?r.slice(0,-1):r}(n.href)}catch{throw new ce(_e.UrlProtocolNotNormalizable,"Could not normalize protocol URI")}}var xb=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class ho{static isRecordsWrite(t){return t.descriptor.interface===Wi.Records&&t.descriptor.method===di.Write}static getAuthor(t){let n;return n=Vr.getSigner(void 0!==t.authorization.authorDelegatedGrant?t.authorization.authorDelegatedGrant:t),n}static decrypt(t,n,i){return xb(this,void 0,void 0,function*(){const{encryption:l}=t,h=l.keyEncryption.find(je=>je.rootKeyId===n.rootKeyId&&je.derivationScheme===n.derivationScheme);if(void 0===h)throw new ce(_e.RecordsDecryptNoMatchingKeyEncryptedFound,`Unable to find a symmetric key encrypted using key         with ID '${n.rootKeyId}' and '${n.derivationScheme}' derivation scheme.`);const c=ho.constructKeyDerivationPath(h.derivationScheme,t),f=yield ho.derivePrivateKey(n,c),V=K.base64UrlToBytes(h.encryptedKey),$=Ee.publicJwkToBytes(h.ephemeralPublicKey),D=K.base64UrlToBytes(h.initializationVector),q=K.base64UrlToBytes(h.messageAuthenticationCode),De=yield bb.eciesSecp256k1Decrypt({ciphertext:V,ephemeralPublicKey:$,initializationVector:D,messageAuthenticationCode:q,privateKey:f}),Re=K.base64UrlToBytes(l.initializationVector);return yield bb.aes256CtrDecrypt(De,Re,i)})}static constructKeyDerivationPath(t,n){const i=n.descriptor,l=n.contextId;let h;return h=t===fu.DataFormats?ho.constructKeyDerivationPathUsingDataFormatsScheme(i.schema,i.dataFormat):t===fu.ProtocolPath?ho.constructKeyDerivationPathUsingProtocolPathScheme(i):t===fu.ProtocolContext?ho.constructKeyDerivationPathUsingProtocolContextScheme(l):ho.constructKeyDerivationPathUsingSchemasScheme(i.schema),h}static constructKeyDerivationPathUsingDataFormatsScheme(t,n){return void 0!==t?[fu.DataFormats,t,n]:[fu.DataFormats,n]}static constructKeyDerivationPathUsingProtocolPathScheme(t){if(void 0===t.protocol)throw new ce(_e.RecordsProtocolPathDerivationSchemeMissingProtocol,"Unable to construct key derivation path using `protocols` scheme because `protocol` is missing.");const n=t.protocolPath.split("/");return[fu.ProtocolPath,t.protocol,...n]}static constructKeyDerivationPathUsingProtocolContextScheme(t){if(void 0===t)throw new ce(_e.RecordsProtocolContextDerivationSchemeMissingContextId,"Unable to construct key derivation path using `protocolContext` scheme because `contextId` is missing.");const n=t.split("/")[0];return[fu.ProtocolContext,n]}static constructKeyDerivationPathUsingSchemasScheme(t){if(void 0===t)throw new ce(_e.RecordsSchemasDerivationSchemeMissingSchema,"Unable to construct key derivation path using `schemas` scheme because `schema` is missing.");return[fu.Schemas,t]}static derivePrivateKey(t,n){var i;return xb(this,void 0,void 0,function*(){if("secp256k1"!==t.derivedPrivateKey.crv)throw new ce(_e.RecordsDerivePrivateKeyUnSupportedCurve,`Curve ${t.derivedPrivateKey.crv} is not supported.`);const l=null!==(i=t.derivationPath)&&void 0!==i?i:[];ho.validateAncestorKeyAndDescentKeyDerivationPathsMatch(l,n);const h=n.slice(l.length),c=Ee.privateJwkToBytes(t.derivedPrivateKey);return yield y0.derivePrivateKeyBytes(c,h)})}static validateAncestorKeyAndDescentKeyDerivationPathsMatch(t,n){for(let i=0;i<t.length;i++){const l=t[i],h=n[i];if(l!==h)throw new ce(_e.RecordsInvalidAncestorKeyDerivationSegment,`Ancestor key derivation segment '${l}' mismatches against the descendant key derivation segment '${h}'.`)}}static getParentContextFromOfContextId(t){if(void 0===t)return;const n=t.lastIndexOf("/");return-1===n?"":t.substring(0,n)}static normalizeFilter(t){let n,i;n=void 0===t.protocol?void 0:Qp(t.protocol),i=void 0===t.schema?void 0:Q_(t.schema);const l=Object.assign(Object.assign({},t),{protocol:n,schema:i});return bd(l),l}static isStartsWithFilter(t){return"object"==typeof t&&"startsWith"in t&&"string"==typeof t.startsWith}static buildTagIndexes(t){const n={};for(const i in t)n[`tag.${i}`]=t[i];return n}static convertTagsFilter(t){const n={};for(const i in t){const l=t[i];n[`tag.${i}`]=this.isStartsWithFilter(l)?rl.constructPrefixFilterAsRangeFilter(l.startsWith):l}return n}static convertFilter(t,n){const{tags:i}=t,l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["tags"]);let h={};void 0!==i&&(h=Object.assign({},this.convertTagsFilter(i)));const c=Object.assign(Object.assign({},l),h),{dateCreated:f,datePublished:V,dateUpdated:$,contextId:D}=t,q=f?rl.convertRangeCriterion(f):void 0;q&&(c.dateCreated=q);const De=V?rl.convertRangeCriterion(V):void 0;De&&(c.published=!0,c.datePublished=De),!0!==c.published&&(n===Kd.PublishedAscending||n===Kd.PublishedDescending)&&(c.published=!0);const Re=$?rl.convertRangeCriterion($):void 0;Re&&(c.messageTimestamp=Re,delete c.dateUpdated);const Oe=D?rl.constructPrefixFilterAsRangeFilter(D):void 0;return Oe&&(c.contextId=Oe),c}static validateDelegatedGrantReferentialIntegrity(t,n,i){var l,h;return xb(this,void 0,void 0,function*(){const c=void 0!==n?.delegatedGrantId,f=void 0!==(null===(l=t.authorization)||void 0===l?void 0:l.authorDelegatedGrant);if(c!==f)throw new ce(_e.RecordsAuthorDelegatedGrantAndIdExistenceMismatch,`delegatedGrantId in message (author) signature and authorDelegatedGrant must both exist or be undefined.          delegatedGrantId in message (author) signature defined: ${c},          authorDelegatedGrant defined: ${f}`);if(f){const D=t.authorization.authorDelegatedGrant;if(!0!==(yield Ju.parse(D)).delegated)throw new ce(_e.RecordsAuthorDelegatedGrantNotADelegatedGrant,"The owner delegated grant given is not a delegated grant.");const De=D.descriptor.recipient,Re=Vr.getSigner(t);if(De!==Re)throw new ce(_e.RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch,`grantedTo ${De} in author delegated grant must be the same as the signer ${Re} of the message signature.`);const Oe=yield Vr.getCid(D);if(Oe!==n.delegatedGrantId)throw new ce(_e.RecordsAuthorDelegatedGrantCidMismatch,`CID of the author delegated grant ${Oe} must be the same as           the delegatedGrantId ${n.delegatedGrantId} in the message signature.`)}const V=void 0!==i?.delegatedGrantId,$=void 0!==(null===(h=t.authorization)||void 0===h?void 0:h.ownerDelegatedGrant);if(V!==$)throw new ce(_e.RecordsOwnerDelegatedGrantAndIdExistenceMismatch,`delegatedGrantId in owner signature and ownerDelegatedGrant must both exist or be undefined.          delegatedGrantId in owner signature defined: ${V},          ownerDelegatedGrant defined: ${$}`);if($){const D=t.authorization.ownerDelegatedGrant;if(!0!==(yield Ju.parse(D)).delegated)throw new ce(_e.RecordsOwnerDelegatedGrantNotADelegatedGrant,"The owner delegated grant given is not a delegated grant.");const De=D.descriptor.recipient,Re=Dr.getSignerDid(t.authorization.ownerSignature.signatures[0]);if(De!==Re)throw new ce(_e.RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch,`grantedTo ${De} in owner delegated grant must be the same as the signer ${Re} of the owner signature.`);const Oe=yield Vr.getCid(D);if(Oe!==i.delegatedGrantId)throw new ce(_e.RecordsOwnerDelegatedGrantCidMismatch,`CID of the owner delegated grant ${Oe} must be the same as           the delegatedGrantId ${i.delegatedGrantId} in the owner signature.`)}})}static shouldProtocolAuthorize(t){return void 0!==t.protocolRole}static filterIncludesPublishedRecords(t){return void 0!==t.datePublished||!1!==t.published}static filterIncludesUnpublishedRecords(t){return void 0===t.datePublished&&void 0===t.published||!1===t.published}}var e1=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class qu{static performBaseValidation(t){return e1(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:i,expectedGrantee:l,permissionGrant:h,messageStore:c}=t,f=n.descriptor;qu.verifyExpectedGrantorAndGrantee(i,l,h);const V=i;yield qu.verifyGrantActive(V,f.messageTimestamp,h,c),yield qu.verifyGrantScopeInterfaceAndMethod(f.interface,f.method,h)})}static verifyExpectedGrantorAndGrantee(t,n,i){const l=i.grantee;if(n!==l)throw new ce(_e.GrantAuthorizationNotGrantedToAuthor,`Permission grant is granted to ${l}, but need to be granted to ${n}`);const h=i.grantor;if(t!==h)throw new ce(_e.GrantAuthorizationNotGrantedForTenant,`Permission grant is granted by ${h}, but need to be granted by ${t}`)}static verifyGrantActive(t,n,i,l){return e1(this,void 0,void 0,function*(){if(n<i.dateGranted)throw new ce(_e.GrantAuthorizationGrantNotYetActive,"The message has a timestamp before the associated permission grant becomes active");if(n>=i.dateExpires)throw new ce(_e.GrantAuthorizationGrantExpired,"The message has timestamp after the expiry of the associated permission grant");const h={parentId:i.id,protocolPath:"grant/revocation",isLatestBaseState:!0},{messages:c}=yield l.query(t,[h]),f=yield Vr.getOldestMessage(c);if(void 0!==f&&f.descriptor.messageTimestamp<=n)throw new ce(_e.GrantAuthorizationGrantRevoked,`Permission grant with CID ${i.id} has been revoked`)})}static verifyGrantScopeInterfaceAndMethod(t,n,i){return e1(this,void 0,void 0,function*(){if(t!==i.scope.interface)throw new ce(_e.GrantAuthorizationInterfaceMismatch,`DWN Interface of incoming message is outside the scope of permission grant with ID ${i.id}`);if(n!==i.scope.method)throw new ce(_e.GrantAuthorizationMethodMismatch,`DWN Method of incoming message is outside the scope of permission grant with ID ${i.id}`)})}}var zx=function(r){return r.Required="Required",r.Prohibited="Prohibited",r}(zx||{}),Sb=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class Qu{static authorizeWrite(t){return Sb(this,void 0,void 0,function*(){const{recordsWriteMessage:n,expectedGrantor:i,expectedGrantee:l,permissionGrant:h,messageStore:c}=t;yield qu.performBaseValidation({incomingMessage:n,expectedGrantor:i,expectedGrantee:l,permissionGrant:h,messageStore:c}),Qu.verifyScope(n,h.scope),Qu.verifyConditions(n,h.conditions)})}static authorizeRead(t){return Sb(this,void 0,void 0,function*(){const{recordsReadMessage:n,recordsWriteMessageToBeRead:i,expectedGrantor:l,expectedGrantee:h,permissionGrant:c,messageStore:f}=t;yield qu.performBaseValidation({incomingMessage:n,expectedGrantor:l,expectedGrantee:h,permissionGrant:c,messageStore:f}),Qu.verifyScope(i,c.scope)})}static authorizeQueryOrSubscribe(t){return Sb(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:i,expectedGrantee:l,permissionGrant:h,messageStore:c}=t;yield qu.performBaseValidation({incomingMessage:n,expectedGrantor:i,expectedGrantee:l,permissionGrant:h,messageStore:c});const V=h.scope.protocol,$=n.descriptor.filter.protocol;if(void 0!==V&&$!==V)throw new ce(_e.RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch,`Grant protocol scope ${V} does not match protocol in message ${$}`)})}static authorizeDelete(t){return Sb(this,void 0,void 0,function*(){const{recordsDeleteMessage:n,recordsWriteToDelete:i,expectedGrantor:l,expectedGrantee:h,permissionGrant:c,messageStore:f}=t;yield qu.performBaseValidation({incomingMessage:n,expectedGrantor:l,expectedGrantee:h,permissionGrant:c,messageStore:f});const $=c.scope.protocol,D=i.descriptor.protocol;if(void 0!==$&&D!==$)throw new ce(_e.RecordsGrantAuthorizationDeleteProtocolScopeMismatch,`Grant protocol scope ${$} does not match protocol in record to delete ${D}`)})}static verifyScope(t,n){if(n.protocol!==t.descriptor.protocol)throw new ce(_e.RecordsGrantAuthorizationScopeProtocolMismatch,"Grant scope specifies different protocol than what appears in the record");if(void 0!==n.contextId&&(void 0===t.contextId||!t.contextId.startsWith(n.contextId)))throw new ce(_e.RecordsGrantAuthorizationScopeContextIdMismatch,"Grant scope specifies different contextId than what appears in the record");if(void 0!==n.protocolPath&&n.protocolPath!==t.descriptor.protocolPath)throw new ce(_e.RecordsGrantAuthorizationScopeProtocolPathMismatch,"Grant scope specifies different protocolPath than what appears in the record")}static verifyConditions(t,n){if(n?.publication===zx.Required&&!t.descriptor.published)throw new ce(_e.RecordsGrantAuthorizationConditionPublicationRequired,"Permission grant requires message to be published");if(n?.publication===zx.Prohibited&&t.descriptor.published)throw new ce(_e.RecordsGrantAuthorizationConditionPublicationProhibited,"Permission grant prohibits message from being published")}}var Ct=_(89994);const t1={};function ef(r,t){Object.defineProperty(r.prototype,Symbol.toStringTag,{value:t,writable:!1,enumerable:!1,configurable:!0});for(const n of Object.getOwnPropertyNames(r)){const i=Object.getOwnPropertyDescriptor(r,n);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(r,n,i))}for(const n of Object.getOwnPropertyNames(r.prototype)){const i=Object.getOwnPropertyDescriptor(r.prototype,n);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(r.prototype,n,i))}ma(t,r),ma(`${t}.prototype`,r.prototype)}function ma(r,t){const n=`%${r}%`;if(void 0!==t1[n])throw new Error(`intrinsic ${r} already exists`);t1[n]=t}function Rr(r){return t1[r]}var Hx,Wx;const Ei="slot-epochNanoSeconds",tf="slot-timezone-identifier",Gr="slot-year",Yr="slot-month",Qr="slot-day",qi="slot-hour",to="slot-minute",Qi="slot-second",no="slot-millisecond",ro="slot-microsecond",lo="slot-nanosecond",Qn="slot-calendar",_D="slot-date-brand",ED="slot-year-month-brand",Bk="slot-month-day-brand",Vc="slot-cached-instant",rs="slot-time-zone",il="slot-years",wc="slot-months",Vl="slot-weeks",zl="slot-days",Hl="slot-hours",Wl="slot-minutes",Gl="slot-seconds",Zl="slot-milliseconds",Xl="slot-microseconds",Al="slot-nanoseconds",Es="slot-calendar-identifier",Xy=new WeakMap,Gx=Symbol.for("@@Temporal__GetSlots");(Hx=globalThis)[Gx]||(Hx[Gx]=function(t){return Xy.get(t)});const xD=globalThis[Gx],n1=Symbol.for("@@Temporal__CreateSlots");(Wx=globalThis)[n1]||(Wx[n1]=function(t){Xy.set(t,Object.create(null))});const Eh=globalThis[n1];function _c(r,...t){if(!r||"object"!=typeof r)return!1;const n=xD(r);return!!n&&t.every(i=>i in n)}function ze(r,t){const n=xD(r)?.[t];if(void 0===n)throw new TypeError(`Missing internal slot ${t}`);return n}function po(r,t,n){const i=xD(r);if(void 0===i)throw new TypeError("Missing slots for the given container");if(i[t])throw new TypeError(`${t} already has set`);i[t]=n}const SD=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,em=new RegExp("(?:"+[`(?:${SD.source})(?:\\/(?:${SD.source}))*`,"Etc/GMT(?:0|[-+]\\d{1,2})","GMT[-+]?0","EST5EDT","CST6CDT","MST7MDT","PST8PDT",/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source].join("|")+")"),Zx=/(?:[+\u2212-]\d{6}|\d{4})/,r1=/(?:0[1-9]|1[0-2])/,o1=/(?:0[1-9]|[12]\d|3[01])/,G4=new RegExp(`(${Zx.source})(?:-(${r1.source})-(${o1.source})|(${r1.source})(${o1.source}))`),Xx=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,Nk=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,MD=new RegExp(`([zZ])|${Nk.source}?`),np=/\[(!)?([a-z_][a-z0-9_-]*)=([A-Za-z0-9]+(?:-[A-Za-z0-9]+)*)\]/g,Yx=new RegExp([`^${G4.source}`,`(?:(?:T|\\s+)${Xx.source}(?:${MD.source})?)?`,`(?:\\[!?(${em.source})\\])?`,`((?:${np.source})*)$`].join(""),"i"),Lk=new RegExp([`^T?${Xx.source}`,`(?:${MD.source})?`,`(?:\\[!?${em.source}\\])?`,`((?:${np.source})*)$`].join(""),"i"),Uk=new RegExp(`^(${Zx.source})-?(${r1.source})(?:\\[!?${em.source}\\])?((?:${np.source})*)$`),s1=new RegExp(`^(?:--)?(${r1.source})-?(${o1.source})(?:\\[!?${em.source}\\])?((?:${np.source})*)$`),Jx=/(\d+)(?:[.,](\d{1,9}))?/,Fk=new RegExp(`(?:${Jx.source}H)?(?:${Jx.source}M)?(?:${Jx.source}S)?`),jk=new RegExp(`^([+\u2212-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${Fk.source})?$`,"i"),$k=Array.prototype.includes,AD=Array.prototype.push,TD=globalThis.Intl.DateTimeFormat,ID=Math.min,DD=Math.max,Cs=Math.abs,wd=Math.floor,Mb=Math.sign,tm=Math.trunc,Ab=Number.isNaN,Ga=Number.isFinite,CD=Number,Tb=String,Z4=Number.MAX_SAFE_INTEGER,Ec=Object.create,qx=Object.getOwnPropertyDescriptor,a1=Reflect.apply,kD=Reflect.ownKeys,Ws=Ct.BigInt(0),Yy=Ct.BigInt(1),rp=Ct.BigInt(60),Ib=Ct.BigInt(24),zo=Ct.BigInt(1e3),Vd=Ct.BigInt(1e6),nf=Ct.BigInt(1e9),Kk=Ct.BigInt(-1),Uf=Ct.multiply(Ct.BigInt(3600),nf),Jy=Ct.multiply(rp,nf),ks=Ct.multiply(Uf,Ib),Ff=Ct.multiply(Ct.BigInt(-86400),Ct.BigInt(1e17)),ip=Ct.multiply(Ct.BigInt(86400),Ct.BigInt(1e17)),_d=-271821,op=275760,qy=Ct.multiply(Ct.BigInt(-388152),Ct.BigInt(1e13)),Db=Ct.multiply(ks,Ct.BigInt(3660)),c1=Ct.multiply(ks,Ct.BigInt(366)),Qx=Ct.multiply(ks,Ct.BigInt(14)),PD=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function hu(r){return Ct.equal(r,Ws)}function Go(r,t){const n=r[t];if(void 0!==n)return n}function Wr(r,t,n){return a1(r,t,arguments.length>2?n:[])}function Ps(r){return"object"==typeof r&&null!==r||"function"==typeof r}function Qy(r){if("bigint"==typeof r)throw new TypeError("Cannot convert BigInt to number");return CD(r)}function Mo(r){const t=Qy(r);if(Ab(t)||0===t)return 0;if(!Ga(t))return t;const n=wd(Cs(t));return 0===n?0:Mb(t)*n}function ol(r){if("number"!=typeof r||Ab(r)||!Ga(r))return!1;const t=Cs(r);return wd(t)===t}function ec(r){if("symbol"==typeof r)throw new TypeError("Cannot convert a Symbol value to a String");return Tb(r)}function Co(r){const t=Qy(r);if(0===t)return 0;if(Ab(t)||!Ga(t))throw new RangeError("invalid number value");const n=tm(t);return 0===n?0:n}function eg(r,t){const n=Co(r);if(n<=0)throw void 0!==t?new RangeError(`property '${t}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return n}function Ca(r){const t=Qy(r);if(!Ga(t))throw new RangeError("infinity is out of range");if(!ol(t))throw new RangeError(`unsupported fractional value ${r}`);return 0===t?0:t}function Ta(r,t){return{quotient:Ct.divide(r,t),remainder:Ct.remainder(r,t)}}function Cb(r){return Ct.lessThan(r,Ws)}function eS(r){return hu(r)?0:Cb(r)?-1:1}function zd(r){return Ct.lessThan(r,Ws)?Ct.multiply(r,Kk):r}const l1=new Map([["year",Co],["month",eg],["monthCode",ec],["day",eg],["hour",Co],["minute",Co],["second",Co],["millisecond",Co],["microsecond",Co],["nanosecond",Co],["years",Ca],["months",Ca],["weeks",Ca],["days",Ca],["hours",Ca],["minutes",Ca],["seconds",Ca],["milliseconds",Ca],["microseconds",Ca],["nanoseconds",Ca],["era",ec],["eraYear",Mo],["offset",ec]]),OD=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),nm=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],xh=new Map(nm.map(r=>[r[0],r[1]])),Vk=new Map(nm.map(([r,t])=>[t,r])),Hd=nm.map(([,r])=>r),RD=Array.from(xh.keys()).sort(),BD=new Map;function d1(r){let t=BD.get(r);return void 0===t&&(t=new TD("en-us",{timeZone:Tb(r),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),BD.set(r,t)),t}function tS(r){if(null==r)throw new TypeError(`Expected object not ${r}`);return Object(r)}function g0(r,t,n,i){if(null==t)return;const l=kD(t);for(const h of l)if(!n.some(c=>Object.is(c,h))&&Object.prototype.propertyIsEnumerable.call(t,h)){const c=t[h];if(i&&i.some(f=>Object.is(f,c)))continue;r[h]=c}}function tc(r){return _c(r,Ei)&&!_c(r,rs,Qn)}function rf(r){return _c(r,tf)}function ya(r){return _c(r,Es)}function Fs(r){return _c(r,il,wc,zl,Hl,Wl,Gl,Zl,Xl,Al)}function bo(r){return _c(r,_D)}function Gs(r){return _c(r,qi,to,Qi,no,ro,lo)&&!_c(r,Gr,Yr,Qr)}function Li(r){return _c(r,Gr,Yr,Qr,qi,to,Qi,no,ro,lo)}function jo(r){return _c(r,ED)}function nc(r){return _c(r,Bk)}function ei(r){return _c(r,Ei,rs,Qn)}function rm(r){if(_c(r,Qn)||_c(r,rs))throw new TypeError("with() does not support a calendar or timeZone property");if(Gs(r))throw new TypeError("with() does not accept Temporal.PlainTime, use withPlainTime() instead");if(void 0!==r.calendar)throw new TypeError("with() does not support a calendar property");if(void 0!==r.timeZone)throw new TypeError("with() does not support a timeZone property")}function u1(r,t){return"never"===t?"":f1(rc(r),t)}function f1(r,t){return"never"===t||"auto"===t&&"iso8601"===r?"":`[${"critical"===t?"!":""}u-ca=${r}]`}function jf(r){const t=Yx.exec(r);if(!t)throw new RangeError(`invalid ISO 8601 string: ${r}`);let n=t[1];if("\u2212"===n[0]&&(n=`-${n.slice(1)}`),"-000000"===n)throw new RangeError(`invalid ISO 8601 string: ${r}`);const i=Mo(n),l=Mo(t[2]||t[4]),h=Mo(t[3]||t[5]),c=Mo(t[6]),f=void 0!==t[6],V=Mo(t[7]||t[10]);let $=Mo(t[8]||t[11]);60===$&&($=59);const D=(t[9]||t[12])+"000000000",q=Mo(D.slice(0,3)),De=Mo(D.slice(3,6)),Re=Mo(D.slice(6,9));let Oe,je=!1;if(t[13])Oe=void 0,je=!0;else if(t[14]&&t[15]){const Dt=t[17]||"00";let Kt=t[18]||"0";if(Oe=`${"-"===t[14]||"\u2212"===t[14]?"-":"+"}${t[15]||"00"}:${t[16]||"00"}`,+Kt){for(;Kt.endsWith("0");)Kt=Kt.slice(0,-1);Oe+=`:${Dt}.${Kt}`}else+Dt&&(Oe+=`:${Dt}`);"-00:00"===Oe&&(Oe="+00:00")}const et=t[19],ft=t[20];let at;for(const[,dt,Mt,Pt]of ft.matchAll(np))if("u-ca"===Mt)void 0===at&&(at=Pt);else if("!"===dt)throw new RangeError(`Unrecognized annotation: !${Mt}=${Pt}`);return yS(i,l,h,c,V,$,q,De,Re),{year:i,month:l,day:h,hasTime:f,hour:c,minute:V,second:$,millisecond:q,microsecond:De,nanosecond:Re,ianaName:et,offset:Oe,z:je,calendar:at}}function rS(r){const t=Uk.exec(r);let n,i,l,h;if(t){let c=t[1];if("\u2212"===c[0]&&(c=`-${c.slice(1)}`),"-000000"===c)throw new RangeError(`invalid ISO 8601 string: ${r}`);n=Mo(c),i=Mo(t[2]);const f=t[3];for(const[,V,$,D]of f.matchAll(np))if("u-ca"===$)void 0===l&&(l=D);else if("!"===V)throw new RangeError(`Unrecognized annotation: !${$}=${D}`);if(void 0!==l&&"iso8601"!==l)throw new RangeError("YYYY-MM format is only valid with iso8601 calendar")}else{let c;if(({year:n,month:i,calendar:l,day:h,z:c}=jf(r)),c)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:n,month:i,calendar:l,referenceISODay:h}}function iS(r){const t=s1.exec(r);let n,i,l,h;if(t){n=Mo(t[1]),i=Mo(t[2]);const c=t[3];for(const[,f,V,$]of c.matchAll(np))if("u-ca"===V)void 0===l&&(l=$);else if("!"===f)throw new RangeError(`Unrecognized annotation: !${V}=${$}`);if(void 0!==l&&"iso8601"!==l)throw new RangeError("MM-DD format is only valid with iso8601 calendar")}else{let c;if(({month:n,day:i,calendar:l,year:h,z:c}=jf(r)),c)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:n,day:i,calendar:l,referenceISOYear:h}}function kb(r,t,n,i){let l=r,h=t,c=n;switch(i){case"reject":Dh(l,h,c);break;case"constrain":({year:l,month:h,day:c}=WD(l,h,c))}return{year:l,month:h,day:c}}function h1(r,t,n,i,l,h,c){let f=r,V=t,$=n,D=i,q=l,De=h;switch(c){case"reject":T1(f,V,$,D,q,De);break;case"constrain":({hour:f,minute:V,second:$,millisecond:D,microsecond:q,nanosecond:De}=(je=V,et=$,ft=D,at=q,dt=De,{hour:Ad(f,0,23),minute:Ad(je,0,59),second:Ad(et,0,59),millisecond:Ad(ft,0,999),microsecond:Ad(at,0,999),nanosecond:Ad(dt,0,999)}))}var je,et,ft,at,dt;return{hour:f,minute:V,second:$,millisecond:D,microsecond:q,nanosecond:De}}function v0(r){if(!Ps(r))return function(Oe){const je=jk.exec(Oe);if(!je)throw new RangeError(`invalid duration: ${Oe}`);if(je.slice(2).every(gn=>void 0===gn))throw new RangeError(`invalid duration: ${Oe}`);const et="-"===je[1]||"\u2212"===je[1]?-1:1,ft=void 0===je[2]?0:Co(je[2])*et,at=void 0===je[3]?0:Co(je[3])*et,dt=void 0===je[4]?0:Co(je[4])*et,Mt=void 0===je[5]?0:Co(je[5])*et,Pt=void 0===je[6]?0:Co(je[6])*et,Dt=je[7],Kt=je[8],Wt=je[9],En=je[10],Tn=je[11];let Rn=0,rr=0,Pn=0;if(void 0!==Dt){if(Kt??Wt??En??Tn)throw new RangeError("only the smallest unit can be fractional");Pn=3600*Mo((Dt+"000000000").slice(0,9))*et}else if(Rn=void 0===Kt?0:Co(Kt)*et,void 0!==Wt){if(En??Tn)throw new RangeError("only the smallest unit can be fractional");Pn=60*Mo((Wt+"000000000").slice(0,9))*et}else rr=void 0===En?0:Co(En)*et,void 0!==Tn&&(Pn=Mo((Tn+"000000000").slice(0,9))*et);const zn=Pn%1e3,on=tm(Pn/1e3)%1e3,pn=tm(Pn/1e6)%1e3;return rr+=tm(Pn/1e9)%60,Rn+=tm(Pn/6e10),gS(ft,at,dt,Mt,Pt,Rn,rr,pn,on,zn),{years:ft,months:at,weeks:dt,days:Mt,hours:Pt,minutes:Rn,seconds:rr,milliseconds:pn,microseconds:on,nanoseconds:zn}}(ec(r));if(Fs(r))return{years:ze(r,il),months:ze(r,wc),weeks:ze(r,Vl),days:ze(r,zl),hours:ze(r,Hl),minutes:ze(r,Wl),seconds:ze(r,Gl),milliseconds:ze(r,Zl),microseconds:ze(r,Xl),nanoseconds:ze(r,Al)};const t={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let n=function(Oe){if(!Ps(Oe))throw new TypeError("invalid duration-like");const je={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0};let et=!1;for(const ft of RD){const at=Oe[ft];void 0!==at&&(et=!0,je[ft]=Ca(at))}if(!et)throw new TypeError("invalid duration-like");return je}(r);for(const Re of RD){const Oe=n[Re];void 0!==Oe&&(t[Re]=Oe)}let{years:i,months:l,weeks:h,days:c,hours:f,minutes:V,seconds:$,milliseconds:D,microseconds:q,nanoseconds:De}=t;return gS(i,l,h,c,f,V,$,D,q,De),{years:i,months:l,weeks:h,days:c,hours:f,minutes:V,seconds:$,milliseconds:D,microseconds:q,nanoseconds:De}}function ka(r){return void 0===r?"constrain":k0(r,"overflow",["constrain","reject"],"constrain")}function b0(r){return void 0===r?"compatible":k0(r,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function sf(r,t){return k0(r,"roundingMode",["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"],t)}function p1(r,t){return void 0===r?t:k0(r,"offset",["prefer","use","ignore","reject"],t)}function m1(r){return k0(r,"calendarName",["auto","always","never","critical"],"auto")}function ng(r){let t=r.roundingIncrement;if(void 0===t)return 1;if(t=Qy(t),!Ga(t))throw new RangeError("roundingIncrement must be finite");const n=tm(t);if(n<1||n>1e9)throw new RangeError(`roundingIncrement must be at least 1 and at most 1e9, not ${t}`);return n}function im(r,t,n){const i=n?t:t-1;if(r>i)throw new RangeError(`roundingIncrement must be at least 1 and less than ${i}, not ${r}`);if(t%r!=0)throw new RangeError(`Rounding increment must divide evenly into ${t}`)}function w0(r){const t=r.fractionalSecondDigits;if(void 0===t)return"auto";if("number"!=typeof t){if("auto"!==ec(t))throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return"auto"}const n=wd(t);if(!Ga(n)||n<0||n>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return n}function Pb(r,t){switch(r){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}switch(t){case"auto":return{precision:t,unit:"nanosecond",increment:1};case 0:return{precision:t,unit:"second",increment:1};case 1:case 2:case 3:return{precision:t,unit:"millisecond",increment:10**(3-t)};case 4:case 5:case 6:return{precision:t,unit:"microsecond",increment:10**(6-t)};case 7:case 8:case 9:return{precision:t,unit:"nanosecond",increment:10**(9-t)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`)}}const _0=Symbol("~required~");function Ed(r,t,n,i,l=[]){const h=[];for(const[,$,D]of nm)"datetime"!==n&&n!==D||h.push($);h.push(...l);let c=i;c===_0?c=void 0:void 0!==c&&h.push(c);const f=[...h];for(const $ of h){const D=Vk.get($);void 0!==D&&f.push(D)}let V=k0(r,t,f,c);if(void 0===V&&i===_0)throw new RangeError(`${t} is required`);return xh.has(V)?xh.get(V):V}function y1(r){const t=r.relativeTo;if(void 0===t)return t;let n,i,l,h,c,f,V,$,D,q,De,Re,Oe="option",je=!1;if(Ps(t)){if(ei(t)||bo(t))return t;if(Li(t))return cg(t);q=sg(t);const et=Oa(q,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);et.push("timeZone","offset");const ft=yo(t,et,[]),at=Ec(null);at.overflow="constrain",({year:n,month:i,day:l,hour:h,minute:c,second:f,millisecond:V,microsecond:$,nanosecond:D}=Ob(q,ft,at)),Re=ft.offset,void 0===Re&&(Oe="wall"),De=ft.timeZone,void 0!==De&&(De=xc(De))}else{let et,ft;if(({year:n,month:i,day:l,hour:h,minute:c,second:f,millisecond:V,microsecond:$,nanosecond:D,calendar:q,ianaName:et,offset:Re,z:ft}=jf(ec(t))),et)De=xc(et),ft?Oe="exact":Re||(Oe="wall"),je=!0;else if(ft)throw new RangeError("Z designator not supported for PlainDate relativeTo; either remove the Z or add a bracketed time zone");if(q||(q="iso8601"),!Gd(q))throw new RangeError(`invalid calendar identifier ${q}`);q=Ch(q)}return void 0===De?xd(n,i,l,q):Pa(Bb(n,i,l,h,c,f,V,$,D,Oe,"option"===Oe?Ah(Re):0,De,"compatible","reject",je),De,q)}function oS(r,t,n,i,l,h,c,f,V,$){for(const[D,q]of[["years",r],["months",t],["weeks",n],["days",i],["hours",l],["minutes",h],["seconds",c],["milliseconds",f],["microseconds",V],["nanoseconds",$]])if(0!==q)return xh.get(D);return"nanosecond"}function E0(r,t){return Hd.indexOf(r)>Hd.indexOf(t)?t:r}function yo(r,t,n,{emptySourceErrorMessage:i}={emptySourceErrorMessage:"no supported properties found"}){const l=Ec(null);let h=!1;t.sort();for(const c of t){let f=r[c];if(void 0!==f)h=!0,l1.has(c)&&(f=l1.get(c)(f)),l[c]=f;else if("partial"!==n){if($k.call(n,c))throw new TypeError(`required property '${c}' missing or undefined`);f=OD.get(c),l[c]=f}}if("partial"===n&&!h)throw new TypeError(i);return l}function g1(r,t="complete"){const n=["hour","microsecond","millisecond","minute","nanosecond","second"],i=yo(r,n,"partial",{emptySourceErrorMessage:"invalid time-like"}),l={};for(const h of n){const c=qx(i,h);void 0!==c?l[h]=c.value:"complete"===t&&(l[h]=0)}return l}function hs(r,t){let n=r;if(Ps(n)){if(bo(n))return n;if(ei(n)&&(ka(t),n=Md(ze(n,rs),ze(n,Vc),ze(n,Qn))),Li(n))return ka(t),xd(ze(n,Gr),ze(n,Yr),ze(n,Qr),ze(n,Qn));const V=sg(n);return Sd(V,yo(n,Oa(V,["day","month","monthCode","year"]),[]),t)}ka(t);let{year:i,month:l,day:h,calendar:c,z:f}=jf(ec(n));if(f)throw new RangeError("Z designator not supported for PlainDate");if(c||(c="iso8601"),!Gd(c))throw new RangeError(`invalid calendar identifier ${c}`);return c=Ch(c),xd(i,l,h,c)}function Ob(r,t,n){let{hour:i,minute:l,second:h,millisecond:c,microsecond:f,nanosecond:V}=g1(t);const $=ka(n),D=Sd(r,t,n),q=ze(D,Gr),De=ze(D,Yr),Re=ze(D,Qr);return({hour:i,minute:l,second:h,millisecond:c,microsecond:f,nanosecond:V}=h1(i,l,h,c,f,V,$)),{year:q,month:De,day:Re,hour:i,minute:l,second:h,millisecond:c,microsecond:f,nanosecond:V}}function x0(r,t){let n,i,l,h,c,f,V,$,D,q;if(Ps(r)){if(Li(r))return r;if(ei(r))return ka(t),Md(ze(r,rs),ze(r,Vc),ze(r,Qn));if(bo(r))return ka(t),Yl(ze(r,Gr),ze(r,Yr),ze(r,Qr),0,0,0,0,0,0,ze(r,Qn));q=sg(r);const De=yo(r,Oa(q,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:n,month:i,day:l,hour:h,minute:c,second:f,millisecond:V,microsecond:$,nanosecond:D}=Ob(q,De,t))}else{let De;if(ka(t),({year:n,month:i,day:l,hour:h,minute:c,second:f,millisecond:V,microsecond:$,nanosecond:D,calendar:q,z:De}=jf(ec(r))),De)throw new RangeError("Z designator not supported for PlainDateTime");if(yS(n,i,l,h,c,f,V,$,D),q||(q="iso8601"),!Gd(q))throw new RangeError(`invalid calendar identifier ${q}`);q=Ch(q)}return Yl(n,i,l,h,c,f,V,$,D,q)}function rg(r){if(Fs(r))return r;let{years:t,months:n,weeks:i,days:l,hours:h,minutes:c,seconds:f,milliseconds:V,microseconds:$,nanoseconds:D}=v0(r);return new(Rr("%Temporal.Duration%"))(t,n,i,l,h,c,f,V,$,D)}function $f(r){if(tc(r))return r;if(ei(r))return new(Rr("%Temporal.Instant%"))(ze(r,Ei));const t=function tg(r){let{year:t,month:n,day:i,hour:l,minute:h,second:c,millisecond:f,microsecond:V,nanosecond:$,offset:D,z:q}=function(je){const et=jf(je);if(!et.z&&!et.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return et}(r);if(!q&&!D)throw new RangeError("Temporal.Instant requires a time zone offset");const De=q?0:Ah(D);({year:t,month:n,day:i,hour:l,minute:h,second:c,millisecond:f,microsecond:V,nanosecond:$}=pS(t,n,i,l,h,c,f,V,$-De));const Re=pp(t,n,i,l,h,c,f,V,$);if(null===Re)throw new RangeError("DateTime outside of supported range");return Re}(ec(r));return new(Rr("%Temporal.Instant%"))(t)}function ND(r,t){let n=r;if(Ps(n)){if(nc(n))return n;let f,V;if(_c(n,Qn))f=ze(n,Qn),V=!1;else{let D=n.calendar;V=void 0===D,void 0===D&&(D="iso8601"),f=Jl(D)}const $=yo(n,Oa(f,["day","month","monthCode","year"]),[]);return V&&void 0!==$.month&&void 0===$.monthCode&&void 0===$.year&&($.year=1972),ag(f,$,t)}ka(t);let{month:i,day:l,referenceISOYear:h,calendar:c}=iS(ec(n));if(void 0===c&&(c="iso8601"),!Gd(c))throw new RangeError(`invalid calendar identifier ${c}`);return c=Ch(c),void 0===h?(Dh(1972,i,l),og(i,l,c)):ag(c,og(i,l,c,h))}function sp(r,t="constrain"){let n,i,l,h,c,f,V=r;if(Ps(V)){if(Gs(V))return V;if(ei(V)&&(V=Md(ze(V,rs),ze(V,Vc),ze(V,Qn))),Li(V))return new(Rr("%Temporal.PlainTime%"))(ze(V,qi),ze(V,to),ze(V,Qi),ze(V,no),ze(V,ro),ze(V,lo));({hour:n,minute:i,second:l,millisecond:h,microsecond:c,nanosecond:f}=g1(V)),({hour:n,minute:i,second:l,millisecond:h,microsecond:c,nanosecond:f}=h1(n,i,l,h,c,f,t))}else({hour:n,minute:i,second:l,millisecond:h,microsecond:c,nanosecond:f}=function(D){const q=Lk.exec(D);let De,Re,Oe,je,et,ft,at;if(q){De=Mo(q[1]),Re=Mo(q[2]||q[5]),Oe=Mo(q[3]||q[6]),60===Oe&&(Oe=59);const dt=(q[4]||q[7])+"000000000";je=Mo(dt.slice(0,3)),et=Mo(dt.slice(3,6)),ft=Mo(dt.slice(6,9)),at=q[14];for(const[,Mt,Pt,Dt]of at.matchAll(np))if("u-ca"!==Pt&&"!"===Mt)throw new RangeError(`Unrecognized annotation: !${Pt}=${Dt}`);if(q[8])throw new RangeError("Z designator not supported for PlainTime")}else{let dt,Mt;if(({hasTime:Mt,hour:De,minute:Re,second:Oe,millisecond:je,microsecond:et,nanosecond:ft,z:dt}=jf(D)),!Mt)throw new RangeError(`time is missing in string: ${D}`);if(dt)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(D))return{hour:De,minute:Re,second:Oe,millisecond:je,microsecond:et,nanosecond:ft};try{const{month:dt,day:Mt}=iS(D);Dh(1972,dt,Mt)}catch{try{const{year:dt,month:Mt}=rS(D);Dh(dt,Mt,1)}catch{return{hour:De,minute:Re,second:Oe,millisecond:je,microsecond:et,nanosecond:ft}}}throw new RangeError(`invalid ISO 8601 time-only string ${D}; may need a T prefix`)}(ec(V))),T1(n,i,l,h,c,f);return new(Rr("%Temporal.PlainTime%"))(n,i,l,h,c,f)}function Rb(r,t){if(Ps(r)){if(jo(r))return r;const c=sg(r);return hp(c,yo(r,Oa(c,["month","monthCode","year"]),[]),t)}ka(t);let{year:n,month:i,referenceISODay:l,calendar:h}=rS(ec(r));if(void 0===h&&(h="iso8601"),!Gd(h))throw new RangeError(`invalid calendar identifier ${h}`);return h=Ch(h),void 0===l?(Dh(n,i,1),cp(n,i,h)):hp(h,cp(n,i,h,l))}function Bb(r,t,n,i,l,h,c,f,V,$,D,q,De,Re,Oe){const je=new(Rr("%Temporal.PlainDateTime%"))(r,t,n,i,l,h,c,f,V);if("wall"===$||"ignore"===Re)return ze(Tl(q,je,De),Ei);if("exact"===$||"use"===Re){const ft=pp(r,t,n,i,l,h,c,f,V);if(null===ft)throw new RangeError("ZonedDateTime outside of supported range");return Ct.subtract(ft,Ct.BigInt(D))}const et=$b(q,je);for(const ft of et){const at=Kf(q,ft),dt=Ct.toNumber(Wd(Ct.BigInt(at),Jy,"halfExpand"));if(at===D||Oe&&dt===D)return ze(ft,Ei)}if("reject"===Re){const ft=yu(D),at=rf(q)?ze(q,tf):"time zone";throw new RangeError(`Offset ${ft} is invalid for ${je.toString()} in ${at}`)}return ze(jD(et,q,je,De),Ei)}function ig(r,t){let n,i,l,h,c,f,V,$,D,q,De,Re,Oe,je,et=!1,ft="option";if(Ps(r)){if(ei(r))return r;Re=sg(r);const dt=Oa(Re,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);dt.push("timeZone","offset");const Mt=yo(r,dt,["timeZone"]);q=xc(Mt.timeZone),De=Mt.offset,void 0===De&&(ft="wall"),Oe=b0(t),je=p1(t,"reject"),({year:n,month:i,day:l,hour:h,minute:c,second:f,millisecond:V,microsecond:$,nanosecond:D}=Ob(Re,Mt,t))}else{let dt,Mt;if(({year:n,month:i,day:l,hour:h,minute:c,second:f,millisecond:V,microsecond:$,nanosecond:D,ianaName:dt,offset:De,z:Mt,calendar:Re}=function(Dt){const Kt=jf(Dt);if(!Kt.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return Kt}(ec(r))),q=xc(dt),Mt?ft="exact":De||(ft="wall"),Re||(Re="iso8601"),!Gd(Re))throw new RangeError(`invalid calendar identifier ${Re}`);Re=Ch(Re),et=!0,Oe=b0(t),je=p1(t,"reject"),ka(t)}let at=0;return"option"===ft&&(at=Ah(De)),Pa(Bb(n,i,l,h,c,f,V,$,D,ft,at,q,Oe,je,et),q,Re)}function ap(r,t,n,i,l){Dh(t,n,i),GD(t,n,i),Eh(r),po(r,Gr,t),po(r,Yr,n),po(r,Qr,i),po(r,Qn,l),po(r,_D,!0)}function xd(r,t,n,i="iso8601"){const l=Rr("%Temporal.PlainDate%"),h=Ec(l.prototype);return ap(h,r,t,n,i),h}function LD(r,t,n,i,l,h,c,f,V,$,D){yS(t,n,i,l,h,c,f,V,$),ZD(t,n,i,l,h,c,f,V,$),Eh(r),po(r,Gr,t),po(r,Yr,n),po(r,Qr,i),po(r,qi,l),po(r,to,h),po(r,Qi,c),po(r,no,f),po(r,ro,V),po(r,lo,$),po(r,Qn,D)}function Yl(r,t,n,i,l,h,c,f,V,$="iso8601"){const D=Rr("%Temporal.PlainDateTime%"),q=Ec(D.prototype);return LD(q,r,t,n,i,l,h,c,f,V,$),q}function UD(r,t,n,i,l){Dh(l,t,n),GD(l,t,n),Eh(r),po(r,Yr,t),po(r,Qr,n),po(r,Gr,l),po(r,Qn,i),po(r,Bk,!0)}function og(r,t,n="iso8601",i=1972){const l=Rr("%Temporal.PlainMonthDay%"),h=Ec(l.prototype);return UD(h,r,t,n,i),h}function sS(r,t,n,i,l){var c,f;Dh(t,n,l),f=n,zc(c=t,_d,op),c===_d?zc(f,4,12):c===op&&zc(f,1,9),Eh(r),po(r,Gr,t),po(r,Yr,n),po(r,Qr,l),po(r,Qn,i),po(r,ED,!0)}function cp(r,t,n="iso8601",i=1){const l=Rr("%Temporal.PlainYearMonth%"),h=Ec(l.prototype);return sS(h,r,t,n,i),h}function v1(r,t,n,i){yp(t),Eh(r),po(r,Ei,t),po(r,rs,n),po(r,Qn,i);const l=new(Rr("%Temporal.Instant%"))(ze(r,Ei));po(r,Vc,l)}function Pa(r,t,n="iso8601"){const i=Rr("%Temporal.ZonedDateTime%"),l=Ec(i.prototype);return v1(l,r,t,n),l}function Oa(r,t){if("string"==typeof r){const l=new(Rr("%Temporal.Calendar%"))(r);return Wr(Rr("%Temporal.Calendar.prototype.fields%"),l,[t])}const n=Wr(Go(r,"fields"),r,[t]),i=[];for(const l of n){if("string"!=typeof l)throw new TypeError("bad return from calendar.fields()");AD.call(i,l)}return i}function af(r,t,n){if("string"==typeof r){const l=new(Rr("%Temporal.Calendar%"))(r);return Wr(Rr("%Temporal.Calendar.prototype.mergeFields%"),l,[t,n])}const i=Wr(Go(r,"mergeFields"),r,[t,n]);if(!Ps(i))throw new TypeError("bad return from calendar.mergeFields()");return i}function uc(r,t,n,i,l){let h=l;if("string"==typeof r){const f=new(Rr("%Temporal.Calendar%"))(r);return Wr(Rr("%Temporal.Calendar.prototype.dateAdd%"),f,[t,n,i])}void 0===h&&(h=Go(r,"dateAdd"));const c=a1(h,r,[t,n,i]);if(!bo(c))throw new TypeError("invalid result");return c}function pu(r,t,n,i,l){let h=l;if("string"==typeof r){const f=new(Rr("%Temporal.Calendar%"))(r);return Wr(Rr("%Temporal.Calendar.prototype.dateUntil%"),f,[t,n,i])}void 0===h&&(h=Go(r,"dateUntil"));const c=a1(h,r,[t,n,i]);if(!Fs(c))throw new TypeError("invalid result");return c}function lp(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return Wr(Rr("%Temporal.Calendar.prototype.year%"),i,[t])}let n=Wr(Go(r,"year"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar year result must be an integer");if(!ol(n))throw new RangeError("calendar year result must be an integer");return n}function dp(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return Wr(Rr("%Temporal.Calendar.prototype.month%"),i,[t])}let n=Wr(Go(r,"month"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar month result must be a positive integer");if(!ol(n)||n<1)throw new RangeError("calendar month result must be a positive integer");return n}function Sh(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return Wr(Rr("%Temporal.Calendar.prototype.monthCode%"),i,[t])}let n=Wr(Go(r,"monthCode"),r,[t]);if("string"!=typeof n)throw new TypeError("calendar monthCode result must be a string");return n}function Mh(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return Wr(Rr("%Temporal.Calendar.prototype.day%"),i,[t])}const n=Wr(Go(r,"day"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar day result must be a positive integer");if(!ol(n)||n<1)throw new RangeError("calendar day result must be a positive integer");return n}function up(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return Wr(Rr("%Temporal.Calendar.prototype.era%"),i,[t])}let n=Wr(Go(r,"era"),r,[t]);if(void 0===n)return n;if("string"!=typeof n)throw new TypeError("calendar era result must be a string or undefined");return n}function fp(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return Wr(Rr("%Temporal.Calendar.prototype.eraYear%"),i,[t])}let n=Wr(Go(r,"eraYear"),r,[t]);if(void 0===n)return n;if("number"!=typeof n)throw new TypeError("calendar eraYear result must be an integer or undefined");if(!ol(n))throw new RangeError("calendar eraYear result must be an integer or undefined");return n}function om(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return Wr(Rr("%Temporal.Calendar.prototype.dayOfWeek%"),i,[t])}const n=Wr(Go(r,"dayOfWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar dayOfWeek result must be a positive integer");if(!ol(n)||n<1)throw new RangeError("calendar dayOfWeek result must be a positive integer");return n}function sm(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return Wr(Rr("%Temporal.Calendar.prototype.dayOfYear%"),i,[t])}const n=Wr(Go(r,"dayOfYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar dayOfYear result must be a positive integer");if(!ol(n)||n<1)throw new RangeError("calendar dayOfYear result must be a positive integer");return n}function b1(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return Wr(Rr("%Temporal.Calendar.prototype.weekOfYear%"),i,[t])}const n=Wr(Go(r,"weekOfYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar weekOfYear result must be a positive integer");if(!ol(n)||n<1)throw new RangeError("calendar weekOfYear result must be a positive integer");return n}function w1(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return Wr(Rr("%Temporal.Calendar.prototype.yearOfWeek%"),i,[t])}const n=Wr(Go(r,"yearOfWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar yearOfWeek result must be an integer");if(!ol(n))throw new RangeError("calendar yearOfWeek result must be an integer");return n}function _1(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return Wr(Rr("%Temporal.Calendar.prototype.daysInWeek%"),i,[t])}const n=Wr(Go(r,"daysInWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInWeek result must be a positive integer");if(!ol(n)||n<1)throw new RangeError("calendar daysInWeek result must be a positive integer");return n}function Nb(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return Wr(Rr("%Temporal.Calendar.prototype.daysInMonth%"),i,[t])}const n=Wr(Go(r,"daysInMonth"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInMonth result must be a positive integer");if(!ol(n)||n<1)throw new RangeError("calendar daysInMonth result must be a positive integer");return n}function Lb(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return Wr(Rr("%Temporal.Calendar.prototype.daysInYear%"),i,[t])}const n=Wr(Go(r,"daysInYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInYear result must be a positive integer");if(!ol(n)||n<1)throw new RangeError("calendar daysInYear result must be a positive integer");return n}function Ub(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return Wr(Rr("%Temporal.Calendar.prototype.monthsInYear%"),i,[t])}const n=Wr(Go(r,"monthsInYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar monthsInYear result must be a positive integer");if(!ol(n)||n<1)throw new RangeError("calendar monthsInYear result must be a positive integer");return n}function Fb(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return Wr(Rr("%Temporal.Calendar.prototype.inLeapYear%"),i,[t])}const n=Wr(Go(r,"inLeapYear"),r,[t]);if("boolean"!=typeof n)throw new TypeError("calendar inLeapYear result must be a boolean");return n}function Jl(r){if(Ps(r)){if(_c(r,Qn))return ze(r,Qn);if(!(ya(l=r)||"dateAdd"in l&&"dateFromFields"in l&&"dateUntil"in l&&"day"in l&&"dayOfWeek"in l&&"dayOfYear"in l&&"daysInMonth"in l&&"daysInWeek"in l&&"daysInYear"in l&&"fields"in l&&"id"in l&&"inLeapYear"in l&&"mergeFields"in l&&"month"in l&&"monthCode"in l&&"monthDayFromFields"in l&&"monthsInYear"in l&&"weekOfYear"in l&&"year"in l&&"yearMonthFromFields"in l&&"yearOfWeek"in l))throw new TypeError("expected a Temporal.Calendar or object implementing the Temporal.Calendar protocol");return r}var l;const t=ec(r);if(Gd(t))return Ch(t);let n;try{({calendar:n}=jf(t))}catch{try{({calendar:n}=rS(t))}catch{({calendar:n}=iS(t))}}if(n||(n="iso8601"),!Gd(n))throw new RangeError(`invalid calendar identifier ${n}`);return Ch(n)}function sg(r){if(_c(r,Qn))return ze(r,Qn);const{calendar:t}=r;return void 0===t?"iso8601":Jl(t)}function rc(r){if("string"==typeof r)return r;const t=r.id;if("string"!=typeof t)throw new TypeError("calendar.id should be a string");return t}function mu(r){return Ps(r)?r:new(Rr("%Temporal.Calendar%"))(r)}function jb(r,t){return r===t||rc(r)===rc(t)}function E1(r,t,n){if(r===t)return;const i=rc(r),l=rc(t);if(i!==l)throw new RangeError(`cannot ${n} of ${i} and ${l} calendars`)}function x1(r,t){if(r===t)return t;const n=rc(r),i=rc(t);if(n===i||"iso8601"===n)return t;if("iso8601"===i)return r;throw new RangeError("irreconcilable calendars")}function Sd(r,t,n,i){if("string"==typeof r){const h=new(Rr("%Temporal.Calendar%"))(r);return Wr(Rr("%Temporal.Calendar.prototype.dateFromFields%"),h,[t,n])}const l=Wr(i??Go(r,"dateFromFields"),r,[t,n]);if(!bo(l))throw new TypeError("invalid result");return l}function hp(r,t,n){if("string"==typeof r){const l=new(Rr("%Temporal.Calendar%"))(r);return Wr(Rr("%Temporal.Calendar.prototype.yearMonthFromFields%"),l,[t,n])}let i=Wr(Go(r,"yearMonthFromFields"),r,[t,n]);if(!jo(i))throw new TypeError("invalid result");return i}function ag(r,t,n){if("string"==typeof r){const l=new(Rr("%Temporal.Calendar%"))(r);return Wr(Rr("%Temporal.Calendar.prototype.monthDayFromFields%"),l,[t,n])}let i=Wr(Go(r,"monthDayFromFields"),r,[t,n]);if(!nc(i))throw new TypeError("invalid result");return i}function xc(r){if(Ps(r)){if(ei(r))return ze(r,rs);if(!(rf(n=r)||"getOffsetNanosecondsFor"in n&&"getPossibleInstantsFor"in n&&"id"in n))throw new TypeError("expected a Temporal.TimeZone or object implementing the Temporal.TimeZone protocol");return r}var n;return function nS(r){const{ianaName:t,offset:n,z:i}=function(h){if(new RegExp(`^${em.source}$`,"i").test(h))return{ianaName:h};try{const c=jf(h);if(c.z||c.offset||c.ianaName)return c}catch{}throw new RangeError(`Invalid time zone: ${h}`)}(r);return t?Vb(t):i?"UTC":yu(Ah(n))}(ec(r))}function S1(r){if("string"==typeof r)return r;const t=r.id;if("string"!=typeof t)throw new TypeError("timeZone.id should be a string");return t}function zk(r){return Ps(r)?r:new(Rr("%Temporal.TimeZone%"))(r)}function FD(r,t){return r===t||S1(r)===S1(t)}function cg(r){return xd(ze(r,Gr),ze(r,Yr),ze(r,Qr),ze(r,Qn))}function M1(r){return new(Rr("%Temporal.PlainTime%"))(ze(r,qi),ze(r,to),ze(r,Qi),ze(r,no),ze(r,ro),ze(r,lo))}function Kf(r,t,n){if("string"==typeof r){const l=new(Rr("%Temporal.TimeZone%"))(r);return Wr(Rr("%Temporal.TimeZone.prototype.getOffsetNanosecondsFor%"),l,[t])}const i=Wr(n??Go(r,"getOffsetNanosecondsFor"),r,[t]);if("number"!=typeof i)throw new TypeError("bad return from getOffsetNanosecondsFor");if(!ol(i)||Cs(i)>=864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return i}function fc(r,t){return yu(Kf(r,t))}function Md(r,t,n){const i=ze(t,Ei),l=Kf(r,t);let{year:h,month:c,day:f,hour:V,minute:$,second:D,millisecond:q,microsecond:De,nanosecond:Re}=zf(i);return({year:h,month:c,day:f,hour:V,minute:$,second:D,millisecond:q,microsecond:De,nanosecond:Re}=pS(h,c,f,V,$,D,q,De,Re+l)),Yl(h,c,f,V,$,D,q,De,Re,n)}function Tl(r,t,n){return jD($b(r,t),r,t,n)}function jD(r,t,n,i){const l=Rr("%Temporal.Instant%"),h=r.length;if(1===h)return r[0];if(h)switch(i){case"compatible":case"earlier":return r[0];case"later":return r[h-1];case"reject":throw new RangeError("multiple instants found")}const c=ze(n,Gr),f=ze(n,Yr),V=ze(n,Qr),$=ze(n,qi),D=ze(n,to),q=ze(n,Qi),De=ze(n,no),Re=ze(n,ro),Oe=ze(n,lo),je=pp(c,f,V,$,D,q,De,Re,Oe);if(null===je)throw new RangeError("DateTime outside of supported range");const et=new l(Ct.subtract(je,ks)),ft=new l(Ct.add(je,ks)),at=Kf(t,et),dt=Kf(t,ft)-at;switch(i){case"earlier":{const Mt=ze(n,Qn),Pt=Rr("%Temporal.PlainDateTime%"),Dt=SS(c,f,V,$,D,q,De,Re,Oe,Mt,0,0,0,0,0,0,0,0,0,-dt,void 0);return $b(t,new Pt(Dt.year,Dt.month,Dt.day,Dt.hour,Dt.minute,Dt.second,Dt.millisecond,Dt.microsecond,Dt.nanosecond,Mt))[0]}case"compatible":case"later":{const Mt=ze(n,Qn),Pt=Rr("%Temporal.PlainDateTime%"),Dt=SS(c,f,V,$,D,q,De,Re,Oe,Mt,0,0,0,0,0,0,0,0,0,dt,void 0),Kt=$b(t,new Pt(Dt.year,Dt.month,Dt.day,Dt.hour,Dt.minute,Dt.second,Dt.millisecond,Dt.microsecond,Dt.nanosecond,Mt));return Kt[Kt.length-1]}case"reject":throw new RangeError("no such instant found")}}function $b(r,t,n){if("string"==typeof r){const h=new(Rr("%Temporal.TimeZone%"))(r);return Wr(Rr("%Temporal.TimeZone.prototype.getPossibleInstantsFor%"),h,[t])}const i=Wr(n??Go(r,"getPossibleInstantsFor"),r,[t]),l=[];for(const h of i){if(!tc(h))throw new TypeError("bad return from getPossibleInstantsFor");AD.call(l,h)}return l}function S0(r){let t;return t=r<0||r>9999?(r<0?"-":"+")+`000000${Cs(r)}`.slice(-6):`0000${r}`.slice(-4),t}function js(r){return`00${r}`.slice(-2)}function Kb(r,t,n,i,l){if("minute"===l)return"";const h=`:${js(r)}`;let c,f=1e6*t+1e3*n+i;if("auto"===l){if(0===f)return h;for(c=`${f}`.padStart(9,"0");"0"===c[c.length-1];)c=c.slice(0,-1)}else{if(0===l)return h;c=`${f}`.padStart(9,"0").slice(0,l)}return`${h}.${c}`}function M0(r,t,n){let i=t;void 0===i&&(i="UTC");const l=Md(i,r,"iso8601"),h=S0(ze(l,Gr)),c=js(ze(l,Yr)),f=js(ze(l,Qr)),V=js(ze(l,qi)),$=js(ze(l,to)),D=Kb(ze(l,Qi),ze(l,no),ze(l,ro),ze(l,lo),n);let q="Z";return void 0!==t&&(q=VD(Kf(i,r))),`${h}-${c}-${f}T${V}:${$}${D}${q}`}function aS(r,t="auto",n){function i(En){return En<=Z4?En.toString(10):Ct.BigInt(En).toString(10)}const l=ze(r,il),h=ze(r,wc),c=ze(r,Vl),f=ze(r,zl),V=ze(r,Hl),$=ze(r,Wl);let D=ze(r,Gl),q=ze(r,Zl),De=ze(r,Xl),Re=ze(r,Al);const Oe=Th(l,h,c,f,V,$,D,q,De,Re);if(n){const{unit:En,increment:Tn,roundingMode:Rn}=n;({seconds:D,milliseconds:q,microseconds:De,nanoseconds:Re}=gp(0,0,0,0,0,0,D,q,De,Re,Tn,En,Rn))}const je=[];l&&je.push(`${i(Cs(l))}Y`),h&&je.push(`${i(Cs(h))}M`),c&&je.push(`${i(Cs(c))}W`),f&&je.push(`${i(Cs(f))}D`);const et=[];V&&et.push(`${i(Cs(V))}H`),$&&et.push(`${i(Cs($))}M`);const ft=[];let at,dt,Mt,Pt,Dt=A0(0,0,0,D,q,De,Re,0);({quotient:Dt,remainder:at}=Ta(Dt,zo)),({quotient:Dt,remainder:dt}=Ta(Dt,zo)),({quotient:Pt,remainder:Mt}=Ta(Dt,zo));const Kt=1e6*Cs(Ct.toNumber(Mt))+1e3*Cs(Ct.toNumber(dt))+Cs(Ct.toNumber(at));let Wt;if("auto"===t){if(0!==Kt)for(Wt=`${Kt}`.padStart(9,"0");"0"===Wt[Wt.length-1];)Wt=Wt.slice(0,-1)}else 0!==t&&(Wt=`${Kt}`.padStart(9,"0").slice(0,t));return Wt&&ft.unshift(".",Wt),Ct.equal(Pt,Ws)&&!ft.length&&"auto"===t||ft.unshift(zd(Pt).toString()),ft.length&&et.push(`${ft.join("")}S`),et.length&&et.unshift("T"),je.length||et.length?`${Oe<0?"-":""}P${je.join("")}${et.join("")}`:"PT0S"}function $D(r,t="auto"){return`${S0(ze(r,Gr))}-${js(ze(r,Yr))}-${js(ze(r,Qr))}${u1(ze(r,Qn),t)}`}function cS(r,t,n="auto",i){let l=ze(r,Gr),h=ze(r,Yr),c=ze(r,Qr),f=ze(r,qi),V=ze(r,to),$=ze(r,Qi),D=ze(r,no),q=ze(r,ro),De=ze(r,lo);if(i){const{unit:Re,increment:Oe,roundingMode:je}=i;({year:l,month:h,day:c,hour:f,minute:V,second:$,millisecond:D,microsecond:q,nanosecond:De}=AS(l,h,c,f,V,$,D,q,De,Oe,Re,je))}return`${S0(l)}-${js(h)}-${js(c)}T${js(f)}:${js(V)}${Kb($,D,q,De,t)}${u1(ze(r,Qn),n)}`}function KD(r,t="auto"){let n=`${js(ze(r,Yr))}-${js(ze(r,Qr))}`;const i=rc(ze(r,Qn));("always"===t||"critical"===t||"iso8601"!==i)&&(n=`${S0(ze(r,Gr))}-${n}`);const l=f1(i,t);return l&&(n+=l),n}function lS(r,t="auto"){let n=`${S0(ze(r,Gr))}-${js(ze(r,Yr))}`;const i=rc(ze(r,Qn));("always"===t||"critical"===t||"iso8601"!==i)&&(n+=`-${js(ze(r,Qr))}`);const l=f1(i,t);return l&&(n+=l),n}function Hk(r,t,n="auto",i="auto",l="auto",h){let c=ze(r,Vc);if(h){const{unit:D,increment:q,roundingMode:De}=h,Re=O1(ze(r,Ei),q,D,De);c=new(Rr("%Temporal.Instant%"))(Re)}const f=ze(r,rs),V=Md(f,c,"iso8601");let $=`${S0(ze(V,Gr))}-${js(ze(V,Yr))}-${js(ze(V,Qr))}T${js(ze(V,qi))}:${js(ze(V,to))}${Kb(ze(V,Qi),ze(V,no),ze(V,ro),ze(V,lo),t)}`;return"never"!==l&&($+=VD(Kf(f,c))),"never"!==i&&($+=`[${"critical"===i?"!":""}${S1(f)}]`),$+=u1(ze(r,Qn),n),$}function am(r){return e3.test(Tb(r))}function Ah(r){const t=e3.exec(Tb(r));if(!t)throw new RangeError(`invalid time zone offset: ${r}`);return("-"===t[1]||"\u2212"===t[1]?-1:1)*(1e9*(60*(60*+t[2]+ +(t[3]||0))+ +(t[4]||0))+ +((t[5]||0)+"000000000").slice(0,9))}function Vb(r){return am(r)?yu(Ah(r)):d1(Tb(r)).resolvedOptions().timeZone}function Vf(r,t){const{year:n,month:i,day:l,hour:h,minute:c,second:f,millisecond:V,microsecond:$,nanosecond:D}=cf(r,t),q=n%400,De=(n-q)/400,Re=Ct.multiply(Ct.BigInt(146097),ks),Oe=pp(q,i,l,h,c,f,V,$,D),je=Ct.add(Oe,Ct.multiply(Re,Ct.BigInt(De)));return Ct.toNumber(Ct.subtract(je,t))}function yu(r){const t=r<0?"-":"+",n=Cs(r),i=n%1e9,l=wd(n/1e9)%60,h=wd(n/6e10)%60,c=js(wd(n/36e11)),f=js(h),V=js(l);let $="";if(i){let D=`${i}`.padStart(9,"0");for(;"0"===D[D.length-1];)D=D.slice(0,-1);$=`:${V}.${D}`}else l&&($=`:${V}`);return`${t}${c}:${f}${$}`}function VD(r){let t=Ct.toNumber(Wd(Ct.BigInt(r),Jy,"halfExpand"));const n=t<0?"-":"+";t=Cs(t);const i=t/6e10%60;return`${n}${js(wd(t/36e11))}:${js(i)}`}function pp(r,t,n,i,l,h,c,f,V){const $=new Date;$.setUTCHours(i,l,h,c),$.setUTCFullYear(r,t-1,n);const D=$.getTime();if(Ab(D))return null;let q=Ct.multiply(Ct.BigInt(D),Vd);return q=Ct.add(q,Ct.multiply(Ct.BigInt(f),zo)),q=Ct.add(q,Ct.BigInt(V)),Ct.lessThan(q,Ff)||Ct.greaterThan(q,ip)?null:q}function zf(r){const{quotient:t,remainder:n}=Ta(r,Vd);let i=Ct.toNumber(t),l=Ct.toNumber(n);l<0&&(l+=1e6,i-=1);const h=wd(l/1e3)%1e3,c=l%1e3,f=new Date(i);return{epochMilliseconds:i,year:f.getUTCFullYear(),month:f.getUTCMonth()+1,day:f.getUTCDate(),hour:f.getUTCHours(),minute:f.getUTCMinutes(),second:f.getUTCSeconds(),millisecond:f.getUTCMilliseconds(),microsecond:h,nanosecond:c}}function cf(r,t){const{epochMilliseconds:n,millisecond:i,microsecond:l,nanosecond:h}=zf(t),{year:c,month:f,day:V,hour:$,minute:D,second:q}=(Oe=n,function(ft){const at=ft.split(/[^\w]+/);if(7!==at.length)throw new RangeError(`expected 7 parts in "${ft}`);const dt=+at[0],Mt=+at[1];let Pt=+at[2];const Dt=at[3].toUpperCase();if("B"===Dt||"BC"===Dt)Pt=1-Pt;else if("A"!==Dt&&"AD"!==Dt)throw new RangeError(`Unknown era ${Dt} in "${ft}`);let Kt=+at[4];24===Kt&&(Kt=0);const Wt=+at[5],En=+at[6];if(!(Ga(Pt)&&Ga(dt)&&Ga(Mt)&&Ga(Kt)&&Ga(Wt)&&Ga(En)))throw new RangeError(`Invalid number in "${ft}`);return{year:Pt,month:dt,day:Mt,hour:Kt,minute:Wt,second:En}}(d1(r).format(new Date(Oe))));var Oe;return pS(c,f,V,$,D,q,i,l,h)}function lf(r,t){return Ct.lessThan(r,t)?t:r}function dS(){return Ct.add(dm(),Db)}function uS(r,t){if(Ct.lessThan(t,qy))return uS(r,qy);const n=Ct.add(t,c1),i=lf(dS(),n);let l=lf(qy,t);const h=Vf(r,l);let c=l,f=h;for(;h===f&&Ct.lessThan(Ct.BigInt(l),i);){if(c=Ct.add(l,Qx),Ct.greaterThan(c,ip))return null;f=Vf(r,c),h===f&&(l=c)}return h===f?null:t3(V=>Vf(r,V),l,c,h,f)}function fS(r,t){const n=dS(),i=Ct.greaterThan(t,n),l=i?Ct.subtract(t,c1):qy;if("Africa/Casablanca"===r||"Africa/El_Aaiun"===r){const $=ze($f("2088-01-01T00Z"),Ei);if(Ct.lessThan($,t))return fS(r,$)}let h=Ct.subtract(t,Yy);if(Ct.lessThan(h,qy))return null;const c=Vf(r,h);let f=h,V=c;for(;c===V&&Ct.greaterThan(h,l);){if(f=Ct.subtract(h,Qx),Ct.lessThan(f,qy))return null;V=Vf(r,f),c===V&&(h=f)}if(c===V){if(i){const $=Ct.subtract(n,ks);return fS(r,$)}return null}return t3($=>Vf(r,$),f,h,V,c)}function cm(r){return void 0!==r&&r%4==0&&(r%100!=0||r%400==0)}function mp(r,t){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[cm(r)?"leapyear":"standard"][t-1]}function hS(r,t,n){const i=t+(t<3?10:-2),l=r-(t<3?1:0),h=wd(l/100),c=l-100*h,f=(n+wd(2.6*i-.2)+(c+wd(c/4))+(wd(h/4)-2*h))%7;return f+(f<=0?7:0)}function lg(r,t,n){let i=n;for(let l=t-1;l>0;l--)i+=mp(r,l);return i}function dg(r,t,n){const i=lg(r,t,n),l=hS(r,t,n)||7,h=hS(r,1,1),c=wd((i-l+10)/7);return c<1?5===h||6===h&&cm(r-1)?{week:53,year:r-1}:{week:52,year:r-1}:53===c&&(cm(r)?366:365)-i<4-l?{week:1,year:r+1}:{week:c,year:r}}function Th(r,t,n,i,l,h,c,f,V,$){for(const D of[r,t,n,i,l,h,c,f,V,$])if(0!==D)return D<0?-1:1;return 0}function zb(r,t){let n=r,i=t;if(!Ga(n)||!Ga(i))throw new RangeError("infinity is out of range");return i-=1,n+=wd(i/12),i%=12,i<0&&(i+=12),i+=1,{year:n,month:i}}function A1(r,t,n){let i=r,l=t,h=n;if(!Ga(h))throw new RangeError("infinity is out of range");({year:i,month:l}=zb(i,l));const c=146097;if(Cs(h)>c){const $=tm(h/c);i+=400*$,h-=$*c}let f=0,V=l>2?i:i-1;for(;f=cm(V)?366:365,h<-f;)i-=1,V-=1,h+=f;for(V+=1;f=cm(V)?366:365,h>f;)i+=1,V+=1,h-=f;for(;h<1;)({year:i,month:l}=zb(i,l-1)),h+=mp(i,l);for(;h>mp(i,l);)h-=mp(i,l),({year:i,month:l}=zb(i,l+1));return{year:i,month:l,day:h}}function pS(r,t,n,i,l,h,c,f,V){const{deltaDays:$,hour:D,minute:q,second:De,millisecond:Re,microsecond:Oe,nanosecond:je}=Ih(i,l,h,c,f,V),{year:et,month:ft,day:at}=A1(r,t,n+$);return{year:et,month:ft,day:at,hour:D,minute:q,second:De,millisecond:Re,microsecond:Oe,nanosecond:je}}function Ih(r,t,n,i,l,h){let c,f=Ct.BigInt(r),V=Ct.BigInt(t),$=Ct.BigInt(n),D=Ct.BigInt(i),q=Ct.BigInt(l),De=Ct.BigInt(h);return({quotient:c,remainder:De}=bp(De,zo)),q=Ct.add(q,c),({quotient:c,remainder:q}=bp(q,zo)),D=Ct.add(D,c),({quotient:c,remainder:D}=bp(D,zo)),$=Ct.add($,c),({quotient:c,remainder:$}=bp($,rp)),V=Ct.add(V,c),({quotient:c,remainder:V}=bp(V,rp)),f=Ct.add(f,c),({quotient:c,remainder:f}=bp(f,Ib)),{deltaDays:Ct.toNumber(c),hour:Ct.toNumber(f),minute:Ct.toNumber(V),second:Ct.toNumber($),millisecond:Ct.toNumber(D),microsecond:Ct.toNumber(q),nanosecond:Ct.toNumber(De)}}function A0(r,t,n,i,l,h,c,f){const V=Ct.BigInt(r);let $=Ct.BigInt(c);0!==r&&($=Ct.subtract(Ct.BigInt(c),Ct.BigInt(f)));const D=Ct.add(Ct.BigInt(t),Ct.multiply(V,Ct.BigInt(24))),q=Ct.add(Ct.BigInt(n),Ct.multiply(D,rp)),De=Ct.add(Ct.BigInt(i),Ct.multiply(q,rp)),Re=Ct.add(Ct.BigInt(l),Ct.multiply(De,zo)),Oe=Ct.add(Ct.BigInt(h),Ct.multiply(Re,zo));return Ct.add(Ct.BigInt($),Ct.multiply(Oe,zo))}function ug(r,t){const n=Rr("%Temporal.Instant%"),i=Mb(Ct.toNumber(r));let l=Ct.BigInt(r),h=864e11;if(0===i)return{days:0,nanoseconds:Ws,dayLengthNs:h};if(!ei(t)){let dt;return({quotient:dt,remainder:l}=Ta(l,Ct.BigInt(h))),{days:Ct.toNumber(dt),nanoseconds:l,dayLengthNs:h}}const c=ze(t,Ei),f=ze(t,Vc),V=Ct.add(c,l),$=new n(V),D=ze(t,rs),q=ze(t,Qn),De=Md(D,f,q),Re=Md(D,$,q);let{days:Oe}=C1(ze(De,Gr),ze(De,Yr),ze(De,Qr),ze(De,qi),ze(De,to),ze(De,Qi),ze(De,no),ze(De,ro),ze(De,lo),ze(Re,Gr),ze(Re,Yr),ze(Re,Qr),ze(Re,qi),ze(Re,to),ze(Re,Qi),ze(Re,no),ze(Re,ro),ze(Re,lo),q,"day",Ec(null)),je=gu(f,D,q,0,0,0,Oe,0,0,0,0,0,0),et=Ct.BigInt(Oe);if(1===i)for(;Ct.greaterThan(et,Ws)&&Ct.greaterThan(je,V);)et=Ct.subtract(et,Yy),je=gu(f,D,q,0,0,0,Ct.toNumber(et),0,0,0,0,0,0);l=Ct.subtract(V,je);let ft=!1,at=new n(je);do{const dt=gu(at,D,q,0,0,0,i,0,0,0,0,0,0),Mt=ze(at,Ei);h=Ct.toNumber(Ct.subtract(dt,Mt)),ft=Ct.greaterThanOrEqual(Ct.multiply(Ct.subtract(l,Ct.BigInt(h)),Ct.BigInt(i)),Ws),ft&&(l=Ct.subtract(l,Ct.BigInt(h)),at=new n(dt),et=Ct.add(et,Ct.BigInt(i)))}while(ft);if(!hu(et)&&eS(et)!==i)throw new RangeError("Time zone or calendar converted nanoseconds into a number of days with the opposite sign");if(!hu(l)&&eS(l)!==i)throw Cb(l)&&1===i?new Error("assert not reached"):new RangeError("Time zone or calendar ended up with a remainder of nanoseconds with the opposite sign");if(Ct.greaterThanOrEqual(zd(l),zd(Ct.BigInt(h))))throw new Error("assert not reached");return{days:Ct.toNumber(et),nanoseconds:l,dayLengthNs:Cs(h)}}function df(r,t,n,i,l,h,c,f,V){let $=mS(r,t,n,i,l,h,c,f,V);if("positive overflow"===$||"negative overflow"===$)throw new RangeError("Duration out of range");return $}function mS(r,t,n,i,l,h,c,f,V){let $,D,q,De,Re,Oe,je=r;if(ei(V)){const Kt=gu(ze(V,Vc),ze(V,rs),ze(V,Qn),0,0,0,je,t,n,i,l,h,c),Wt=ze(V,Ei);$=Ct.subtract(Kt,Wt)}else $=A0(je,t,n,i,l,h,c,0);"year"===f||"month"===f||"week"===f||"day"===f?({days:je,nanoseconds:$}=ug($,V)):je=0;const et=Ct.lessThan($,Ws)?-1:1;switch($=zd($),D=q=De=Re=Oe=Ws,f){case"year":case"month":case"week":case"day":case"hour":({quotient:D,remainder:$}=Ta($,zo)),({quotient:q,remainder:D}=Ta(D,zo)),({quotient:De,remainder:q}=Ta(q,zo)),({quotient:Re,remainder:De}=Ta(De,rp)),({quotient:Oe,remainder:Re}=Ta(Re,rp));break;case"minute":({quotient:D,remainder:$}=Ta($,zo)),({quotient:q,remainder:D}=Ta(D,zo)),({quotient:De,remainder:q}=Ta(q,zo)),({quotient:Re,remainder:De}=Ta(De,rp));break;case"second":({quotient:D,remainder:$}=Ta($,zo)),({quotient:q,remainder:D}=Ta(D,zo)),({quotient:De,remainder:q}=Ta(q,zo));break;case"millisecond":({quotient:D,remainder:$}=Ta($,zo)),({quotient:q,remainder:D}=Ta(D,zo));break;case"microsecond":({quotient:D,remainder:$}=Ta($,zo));break;case"nanosecond":break;default:throw new Error("assert not reached")}const ft=Ct.toNumber(Oe)*et,at=Ct.toNumber(Re)*et,dt=Ct.toNumber(De)*et,Mt=Ct.toNumber(q)*et,Pt=Ct.toNumber(D)*et,Dt=Ct.toNumber($)*et;for(const Kt of[je,ft,at,dt,Mt,Pt,Dt])if(!Ga(Kt))return 1===et?"positive overflow":"negative overflow";return{days:je,hours:ft,minutes:at,seconds:dt,milliseconds:Mt,microseconds:Pt,nanoseconds:Dt}}function Hb(r,t,n,i,l,h){const c=Rr("%Temporal.Duration%"),f=Th(r,t,n,i,0,0,0,0,0,0);if(0===f)return{years:r,months:t,weeks:n,days:i};const V=Ct.BigInt(f);let $,D,q=Ct.BigInt(r),De=Ct.BigInt(t),Re=Ct.BigInt(n),Oe=Ct.BigInt(i);h&&(D=hs(h),$=ze(D,Qn));const je=new c(f),et=new c(0,f),ft=new c(0,0,f);switch(l){case"year":break;case"month":{if(!$)throw new RangeError("a starting point is required for months balancing");let at,dt;for("string"!=typeof $&&(at=Go($,"dateAdd"),dt=Go($,"dateUntil"));!hu(q);){const Mt=uc($,D,je,void 0,at),Pt=Ec(null);Pt.largestUnit="month";const Dt=pu($,D,Mt,Pt,dt),Kt=Ct.BigInt(ze(Dt,wc));D=Mt,De=Ct.add(De,Kt),q=Ct.subtract(q,V)}}break;case"week":{if(!$)throw new RangeError("a starting point is required for weeks balancing");const at="string"!=typeof $?Go($,"dateAdd"):void 0;for(;!hu(q);){let dt;({relativeTo:D,days:dt}=Sc($,D,je,at)),Oe=Ct.add(Oe,Ct.BigInt(dt)),q=Ct.subtract(q,V)}for(;!hu(De);){let dt;({relativeTo:D,days:dt}=Sc($,D,et,at)),Oe=Ct.add(Oe,Ct.BigInt(dt)),De=Ct.subtract(De,V)}break}default:{if(hu(q)&&hu(De)&&hu(Re))break;if(!$)throw new RangeError("a starting point is required for balancing calendar units");const at="string"!=typeof $?Go($,"dateAdd"):void 0;for(;!hu(q);){let dt;({relativeTo:D,days:dt}=Sc($,D,je,at)),Oe=Ct.add(Oe,Ct.BigInt(dt)),q=Ct.subtract(q,V)}for(;!hu(De);){let dt;({relativeTo:D,days:dt}=Sc($,D,et,at)),Oe=Ct.add(Oe,Ct.BigInt(dt)),De=Ct.subtract(De,V)}for(;!hu(Re);){let dt;({relativeTo:D,days:dt}=Sc($,D,ft,at)),Oe=Ct.add(Oe,Ct.BigInt(dt)),Re=Ct.subtract(Re,V)}break}}return{years:Ct.toNumber(q),months:Ct.toNumber(De),weeks:Ct.toNumber(Re),days:Ct.toNumber(Oe)}}function zD(r,t,n,i,l){if(ei(r)){const h=ze(r,Vc),c=ze(r,rs),f=ze(r,Qn),V=Kf(c,h),$=gu(h,c,f,t,n,i,l,0,0,0,0,0,0);return Kf(c,new(Rr("%Temporal.Instant%"))($))-V}return 0}function HD(r){return new(Rr("%Temporal.Duration%"))(-ze(r,il),-ze(r,wc),-ze(r,Vl),-ze(r,zl),-ze(r,Hl),-ze(r,Wl),-ze(r,Gl),-ze(r,Zl),-ze(r,Xl),-ze(r,Al))}function Ad(r,t,n){return ID(n,DD(t,r))}function WD(r,t,n){const i=Ad(t,1,12);return{year:r,month:i,day:Ad(n,1,mp(r,i))}}function zc(r,t,n){if(r<t||r>n)throw new RangeError(`value out of range: ${t} <= ${r} <= ${n}`)}function Dh(r,t,n){zc(t,1,12),zc(n,1,mp(r,t))}function GD(r,t,n){ZD(r,t,n,12,0,0,0,0,0)}function T1(r,t,n,i,l,h){zc(r,0,23),zc(t,0,59),zc(n,0,59),zc(i,0,999),zc(l,0,999),zc(h,0,999)}function yS(r,t,n,i,l,h,c,f,V){Dh(r,t,n),T1(i,l,h,c,f,V)}function ZD(r,t,n,i,l,h,c,f,V){if(zc(r,_d,op),r===_d&&null==pp(r,t,n+1,i,l,h,c,f,V-1)||r===op&&null==pp(r,t,n-1,i,l,h,c,f,V+1))throw new RangeError("DateTime outside of supported range")}function yp(r){if(Ct.lessThan(r,Ff)||Ct.greaterThan(r,ip))throw new RangeError("Instant outside of supported range")}function gS(r,t,n,i,l,h,c,f,V,$){const D=Th(r,t,n,i,l,h,c,f,V,$);for(const q of[r,t,n,i,l,h,c,f,V,$]){if(!Ga(q))throw new RangeError("infinite values not allowed as duration fields");const De=Mb(q);if(0!==De&&De!==D)throw new RangeError("mixed-sign values not allowed as duration fields")}}function vS(r,t,n,i,l,h,c){switch(c){case"year":case"month":{const f=-vp(r,t,n,i,l,h);if(0===f)return{years:0,months:0,weeks:0,days:0};const V={year:r,month:t,day:n},$={year:i,month:l,day:h};let D=$.year-V.year,q=fg(r,t,n,D,0,0,0,"constrain"),De=-vp(q.year,q.month,q.day,i,l,h);if(0===De)return"year"===c?{years:D,months:0,weeks:0,days:0}:{years:0,months:12*D,weeks:0,days:0};let Re=$.month-V.month;if(De!==f&&(D-=f,Re+=12*f),q=fg(r,t,n,D,Re,0,0,"constrain"),De=-vp(q.year,q.month,q.day,i,l,h),0===De)return"year"===c?{years:D,months:Re,weeks:0,days:0}:{years:0,months:Re+12*D,weeks:0,days:0};De!==f&&(Re-=f,Re===-f&&(D-=f,Re=11*f),q=fg(r,t,n,D,Re,0,0,"constrain"));let Oe=0;return Oe=q.month===$.month?$.day-q.day:f<0?-q.day-(mp($.year,$.month)-$.day):$.day+(mp(q.year,q.month)-q.day),"month"===c&&(Re+=12*D,D=0),{years:D,months:Re,weeks:0,days:Oe}}case"week":case"day":{let f,V,$;vp(r,t,n,i,l,h)<0?(V={year:r,month:t,day:n},f={year:i,month:l,day:h},$=1):(V={year:i,month:l,day:h},f={year:r,month:t,day:n},$=-1);let D=lg(f.year,f.month,f.day)-lg(V.year,V.month,V.day);for(let De=V.year;De<f.year;++De)D+=cm(De)?366:365;let q=0;return"week"===c&&(q=wd(D/7),D%=7),q*=$,D*=$,{years:0,months:0,weeks:q,days:D}}default:throw new Error("assert not reached")}}function I1(r,t,n,i,l,h,c,f,V,$,D,q){let De=c-r,Re=f-t,Oe=V-n,je=$-i,et=D-l,ft=q-h;const at=Th(0,0,0,0,De,Re,Oe,je,et,ft);De*=at,Re*=at,Oe*=at,je*=at,et*=at,ft*=at;let dt=0;if(({deltaDays:dt,hour:De,minute:Re,second:Oe,millisecond:je,microsecond:et,nanosecond:ft}=Ih(De,Re,Oe,je,et,ft)),0!=dt)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return De*=at,Re*=at,Oe*=at,je*=at,et*=at,ft*=at,{hours:De,minutes:Re,seconds:Oe,milliseconds:je,microseconds:et,nanoseconds:ft}}function D1(r,t,n,i,l,h){const c=Ct.subtract(t,r);let f=0,V=0,$=Ct.toNumber(Ct.remainder(c,zo)),D=Ct.toNumber(Ct.remainder(Ct.divide(c,zo),zo)),q=Ct.toNumber(Ct.remainder(Ct.divide(c,Vd),zo)),De=Ct.toNumber(Ct.divide(c,nf));return({hours:f,minutes:V,seconds:De,milliseconds:q,microseconds:D,nanoseconds:$}=gp(0,0,0,0,0,0,De,q,D,$,n,i,h)),df(0,f,V,De,q,D,$,l)}function C1(r,t,n,i,l,h,c,f,V,$,D,q,De,Re,Oe,je,et,ft,at,dt,Mt){let Pt=r,Dt=t,Kt=n,{hours:Wt,minutes:En,seconds:Tn,milliseconds:Rn,microseconds:rr,nanoseconds:Pn}=I1(i,l,h,c,f,V,De,Re,Oe,je,et,ft);const zn=Th(0,0,0,0,Wt,En,Tn,Rn,rr,Pn);vp($,D,q,Pt,Dt,Kt)===-zn&&(({year:Pt,month:Dt,day:Kt}=A1(Pt,Dt,Kt-zn)),({hours:Wt,minutes:En,seconds:Tn,milliseconds:Rn,microseconds:rr,nanoseconds:Pn}=df(-zn,Wt,En,Tn,Rn,rr,Pn,dt)));const on=xd(Pt,Dt,Kt,at),pn=xd($,D,q,at),gn=E0("day",dt),Nn=_p(Mt);Nn.largestUnit=gn;let{years:xn,months:jn,weeks:lr,days:cr}=pu(at,on,pn,Nn);return({days:cr,hours:Wt,minutes:En,seconds:Tn,milliseconds:Rn,microseconds:rr,nanoseconds:Pn}=df(cr,Wt,En,Tn,Rn,rr,Pn,dt)),{years:xn,months:jn,weeks:lr,days:cr,hours:Wt,minutes:En,seconds:Tn,milliseconds:Rn,microseconds:rr,nanoseconds:Pn}}function bS(r,t,n,i,l,h){const c=Ct.subtract(t,r);if(Ct.equal(c,Ws))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};const f=Rr("%Temporal.Instant%"),V=new f(r),$=new f(t),D=Md(n,V,i),q=Md(n,$,i);let{years:De,months:Re,weeks:Oe,days:je}=C1(ze(D,Gr),ze(D,Yr),ze(D,Qr),ze(D,qi),ze(D,to),ze(D,Qi),ze(D,no),ze(D,ro),ze(D,lo),ze(q,Gr),ze(q,Yr),ze(q,Qr),ze(q,qi),ze(q,to),ze(q,Qi),ze(q,no),ze(q,ro),ze(q,lo),i,l,h);const et=gu(V,n,i,De,Re,Oe,0,0,0,0,0,0,0);let ft=Ct.subtract(t,et);const at=Pa(et,n,i);({nanoseconds:ft,days:je}=ug(ft,at));const{hours:dt,minutes:Mt,seconds:Pt,milliseconds:Dt,microseconds:Kt,nanoseconds:Wt}=df(0,0,0,0,0,0,Ct.toNumber(ft),"hour");return{years:De,months:Re,weeks:Oe,days:je,hours:dt,minutes:Mt,seconds:Pt,milliseconds:Dt,microseconds:Kt,nanoseconds:Wt}}function T0(r,t,n,i,l,h){const c=nm.reduce((Re,Oe)=>{const je=Oe[0],et=Oe[1];return"datetime"!==n&&Oe[2]!==n||i.includes(et)||Re.push(et,je),Re},[]);let f=Ed(t,"largestUnit",n,"auto");if(i.includes(f))throw new RangeError(`largestUnit must be one of ${c.join(", ")}, not ${f}`);const V=ng(t);let $=sf(t,"trunc");"since"===r&&($=function(Oe){switch(Oe){case"ceil":return"floor";case"floor":return"ceil";case"halfCeil":return"halfFloor";case"halfFloor":return"halfCeil";default:return Oe}}($));const D=Ed(t,"smallestUnit",n,l);if(i.includes(D))throw new RangeError(`smallestUnit must be one of ${c.join(", ")}, not ${D}`);const q=E0(h,D);if("auto"===f&&(f=q),E0(f,D)!==f)throw new RangeError(`largestUnit ${f} cannot be smaller than smallestUnit ${D}`);const De={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[D];return void 0!==De&&im(V,De,!1),{largestUnit:f,roundingIncrement:V,roundingMode:$,smallestUnit:D}}function XD(r,t,n,i){const l="since"===r?-1:1,h=$f(n),c=T0(r,_p(i),"time",[],"nanosecond","second"),f=ze(t,Ei),V=ze(h,Ei);let{hours:$,minutes:D,seconds:q,milliseconds:De,microseconds:Re,nanoseconds:Oe}=D1(f,V,c.roundingIncrement,c.smallestUnit,c.largestUnit,c.roundingMode);return new(Rr("%Temporal.Duration%"))(0,0,0,0,l*$,l*D,l*q,l*De,l*Re,l*Oe)}function wS(r,t,n,i){const l="since"===r?-1:1,h=hs(n),c=ze(t,Qn);E1(c,ze(h,Qn),"compute difference between dates");const f=_p(i),V=T0(r,f,"date",[],"day","day");f.largestUnit=V.largestUnit;let{years:$,months:D,weeks:q,days:De}=pu(c,t,h,f);return"day"===V.smallestUnit&&1===V.roundingIncrement||({years:$,months:D,weeks:q,days:De}=gp($,D,q,De,0,0,0,0,0,0,V.roundingIncrement,V.smallestUnit,V.roundingMode,t)),new(Rr("%Temporal.Duration%"))(l*$,l*D,l*q,l*De,0,0,0,0,0,0)}function _S(r,t,n,i){const l="since"===r?-1:1,h=x0(n),c=ze(t,Qn);E1(c,ze(h,Qn),"compute difference between dates");const f=_p(i),V=T0(r,f,"datetime",[],"nanosecond","day");let{years:$,months:D,weeks:q,days:De,hours:Re,minutes:Oe,seconds:je,milliseconds:et,microseconds:ft,nanoseconds:at}=C1(ze(t,Gr),ze(t,Yr),ze(t,Qr),ze(t,qi),ze(t,to),ze(t,Qi),ze(t,no),ze(t,ro),ze(t,lo),ze(h,Gr),ze(h,Yr),ze(h,Qr),ze(h,qi),ze(h,to),ze(h,Qi),ze(h,no),ze(h,ro),ze(h,lo),c,V.largestUnit,f);const dt=cg(t);return({years:$,months:D,weeks:q,days:De,hours:Re,minutes:Oe,seconds:je,milliseconds:et,microseconds:ft,nanoseconds:at}=gp($,D,q,De,Re,Oe,je,et,ft,at,V.roundingIncrement,V.smallestUnit,V.roundingMode,dt)),({days:De,hours:Re,minutes:Oe,seconds:je,milliseconds:et,microseconds:ft,nanoseconds:at}=df(De,Re,Oe,je,et,ft,at,V.largestUnit)),new(Rr("%Temporal.Duration%"))(l*$,l*D,l*q,l*De,l*Re,l*Oe,l*je,l*et,l*ft,l*at)}function YD(r,t,n,i){const l="since"===r?-1:1,h=sp(n),c=T0(r,_p(i),"time",[],"nanosecond","hour");let{hours:f,minutes:V,seconds:$,milliseconds:D,microseconds:q,nanoseconds:De}=I1(ze(t,qi),ze(t,to),ze(t,Qi),ze(t,no),ze(t,ro),ze(t,lo),ze(h,qi),ze(h,to),ze(h,Qi),ze(h,no),ze(h,ro),ze(h,lo));return({hours:f,minutes:V,seconds:$,milliseconds:D,microseconds:q,nanoseconds:De}=gp(0,0,0,0,f,V,$,D,q,De,c.roundingIncrement,c.smallestUnit,c.roundingMode)),({hours:f,minutes:V,seconds:$,milliseconds:D,microseconds:q,nanoseconds:De}=df(0,f,V,$,D,q,De,c.largestUnit)),new(Rr("%Temporal.Duration%"))(0,0,0,0,l*f,l*V,l*$,l*D,l*q,l*De)}function ES(r,t,n,i){const l="since"===r?-1:1,h=Rb(n),c=ze(t,Qn);E1(c,ze(h,Qn),"compute difference between months");const f=_p(i),V=T0(r,f,"date",["week","day"],"month","year");f.largestUnit=V.largestUnit;const $=Oa(c,["monthCode","year"]),D=yo(t,$,[]);D.day=1;const q=Sd(c,D),De=yo(h,$,[]);De.day=1;const Re=Sd(c,De);let{years:Oe,months:je}=pu(c,q,Re,f);return"month"===V.smallestUnit&&1===V.roundingIncrement||({years:Oe,months:je}=gp(Oe,je,0,0,0,0,0,0,0,0,V.roundingIncrement,V.smallestUnit,V.roundingMode,q)),new(Rr("%Temporal.Duration%"))(l*Oe,l*je,0,0,0,0,0,0,0,0)}function Wk(r,t,n,i){const l="since"===r?-1:1,h=ig(n),c=ze(t,Qn);E1(c,ze(h,Qn),"compute difference between dates");const f=_p(i),V=T0(r,f,"datetime",[],"nanosecond","hour");f.largestUnit=V.largestUnit;const $=ze(t,Ei),D=ze(h,Ei);let q,De,Re,Oe,je,et,ft,at,dt,Mt;if("year"!==V.largestUnit&&"month"!==V.largestUnit&&"week"!==V.largestUnit&&"day"!==V.largestUnit)q=0,De=0,Re=0,Oe=0,({hours:je,minutes:et,seconds:ft,milliseconds:at,microseconds:dt,nanoseconds:Mt}=D1($,D,V.roundingIncrement,V.smallestUnit,V.largestUnit,V.roundingMode));else{const Pt=ze(t,rs);if(!FD(Pt,ze(h,rs)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");({years:q,months:De,weeks:Re,days:Oe,hours:je,minutes:et,seconds:ft,milliseconds:at,microseconds:dt,nanoseconds:Mt}=bS($,D,Pt,c,V.largestUnit,f)),({years:q,months:De,weeks:Re,days:Oe,hours:je,minutes:et,seconds:ft,milliseconds:at,microseconds:dt,nanoseconds:Mt}=gp(q,De,Re,Oe,je,et,ft,at,dt,Mt,V.roundingIncrement,V.smallestUnit,V.roundingMode,t)),({years:q,months:De,weeks:Re,days:Oe,hours:je,minutes:et,seconds:ft,milliseconds:at,microseconds:dt,nanoseconds:Mt}=QD(q,De,Re,Oe,je,et,ft,at,dt,Mt,V.roundingIncrement,V.smallestUnit,V.roundingMode,t))}return new(Rr("%Temporal.Duration%"))(l*q,l*De,l*Re,l*Oe,l*je,l*et,l*ft,l*at,l*dt,l*Mt)}function fg(r,t,n,i,l,h,c,f){let V=r,$=t,D=n,q=h,De=c;return V+=i,$+=l,({year:V,month:$}=zb(V,$)),({year:V,month:$,day:D}=kb(V,$,D,f)),De+=7*q,D+=De,({year:V,month:$,day:D}=A1(V,$,D)),{year:V,month:$,day:D}}function JD(r,t,n,i,l,h,c,f,V,$,D,q){let De=r,Re=t,Oe=n,je=i,et=l,ft=h;De+=c,Re+=f,Oe+=V,je+=$,et+=D,ft+=q;let at=0;return({deltaDays:at,hour:De,minute:Re,second:Oe,millisecond:je,microsecond:et,nanosecond:ft}=Ih(De,Re,Oe,je,et,ft)),{deltaDays:at,hour:De,minute:Re,second:Oe,millisecond:je,microsecond:et,nanosecond:ft}}function xS(r,t,n,i,l,h,c,f,V,$,D,q,De,Re,Oe,je,et,ft,at,dt,Mt){const Pt=E0(oS(r,t,n,i,l,h,c,f,V,$),oS(D,q,De,Re,Oe,je,et,ft,at,dt));let Dt,Kt,Wt,En,Tn,Rn,rr,Pn,zn,on;if(Mt)if(bo(Mt)){const pn=Rr("%Temporal.Duration%"),gn=ze(Mt,Qn),Nn=new pn(r,t,n,i,0,0,0,0,0,0),xn=new pn(D,q,De,Re,0,0,0,0,0,0),jn="string"!=typeof gn?Go(gn,"dateAdd"):void 0,lr=uc(gn,Mt,Nn,void 0,jn),cr=uc(gn,lr,xn,void 0,jn),fn=E0("day",Pt),dr=Ec(null);dr.largestUnit=fn,({years:Dt,months:Kt,weeks:Wt,days:En}=pu(gn,Mt,cr,dr)),({days:En,hours:Tn,minutes:Rn,seconds:rr,milliseconds:Pn,microseconds:zn,nanoseconds:on}=df(En,Ct.add(Ct.BigInt(l),Ct.BigInt(Oe)),Ct.add(Ct.BigInt(h),Ct.BigInt(je)),Ct.add(Ct.BigInt(c),Ct.BigInt(et)),Ct.add(Ct.BigInt(f),Ct.BigInt(ft)),Ct.add(Ct.BigInt(V),Ct.BigInt(at)),Ct.add(Ct.BigInt($),Ct.BigInt(dt)),Pt))}else{const pn=Rr("%Temporal.Instant%"),gn=ze(Mt,rs),Nn=ze(Mt,Qn),xn=gu(ze(Mt,Vc),gn,Nn,r,t,n,i,l,h,c,f,V,$),jn=gu(new pn(xn),gn,Nn,D,q,De,Re,Oe,je,et,ft,at,dt);"year"!==Pt&&"month"!==Pt&&"week"!==Pt&&"day"!==Pt?(Dt=0,Kt=0,Wt=0,En=0,({hours:Tn,minutes:Rn,seconds:rr,milliseconds:Pn,microseconds:zn,nanoseconds:on}=D1(ze(Mt,Ei),jn,1,"nanosecond",Pt,"halfExpand"))):({years:Dt,months:Kt,weeks:Wt,days:En,hours:Tn,minutes:Rn,seconds:rr,milliseconds:Pn,microseconds:zn,nanoseconds:on}=bS(ze(Mt,Ei),jn,gn,Nn,Pt,Ec(null)))}else{if("year"===Pt||"month"===Pt||"week"===Pt)throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");Dt=Kt=Wt=0,({days:En,hours:Tn,minutes:Rn,seconds:rr,milliseconds:Pn,microseconds:zn,nanoseconds:on}=df(i+Re,Ct.add(Ct.BigInt(l),Ct.BigInt(Oe)),Ct.add(Ct.BigInt(h),Ct.BigInt(je)),Ct.add(Ct.BigInt(c),Ct.BigInt(et)),Ct.add(Ct.BigInt(f),Ct.BigInt(ft)),Ct.add(Ct.BigInt(V),Ct.BigInt(at)),Ct.add(Ct.BigInt($),Ct.BigInt(dt)),Pt))}return gS(Dt,Kt,Wt,En,Tn,Rn,rr,Pn,zn,on),{years:Dt,months:Kt,weeks:Wt,days:En,hours:Tn,minutes:Rn,seconds:rr,milliseconds:Pn,microseconds:zn,nanoseconds:on}}function hg(r,t,n,i,l,h,c){let f=Ws;f=Ct.add(f,Ct.BigInt(c)),f=Ct.add(f,Ct.multiply(Ct.BigInt(h),zo)),f=Ct.add(f,Ct.multiply(Ct.BigInt(l),Vd)),f=Ct.add(f,Ct.multiply(Ct.BigInt(i),nf)),f=Ct.add(f,Ct.multiply(Ct.BigInt(n),Ct.BigInt(6e10))),f=Ct.add(f,Ct.multiply(Ct.BigInt(t),Ct.BigInt(36e11)));const V=Ct.add(r,f);return yp(V),V}function SS(r,t,n,i,l,h,c,f,V,$,D,q,De,Re,Oe,je,et,ft,at,dt,Mt){let Pt=Re,{deltaDays:Dt,hour:Kt,minute:Wt,second:En,millisecond:Tn,microsecond:Rn,nanosecond:rr}=JD(i,l,h,c,f,V,Oe,je,et,ft,at,dt);Pt+=Dt;const Pn=Rr("%Temporal.Duration%"),zn=uc($,xd(r,t,n,$),new Pn(D,q,De,Pt,0,0,0,0,0,0),Mt);return{year:ze(zn,Gr),month:ze(zn,Yr),day:ze(zn,Qr),hour:Kt,minute:Wt,second:En,millisecond:Tn,microsecond:Rn,nanosecond:rr}}function gu(r,t,n,i,l,h,c,f,V,$,D,q,De,Re){const Oe=Rr("%Temporal.Duration%");if(0===Th(i,l,h,c,0,0,0,0,0,0))return hg(ze(r,Ei),f,V,$,D,q,De);const je=Md(t,r,n),et=uc(n,xd(ze(je,Gr),ze(je,Yr),ze(je,Qr),n),new Oe(i,l,h,c,0,0,0,0,0,0),Re),ft=Yl(ze(et,Gr),ze(et,Yr),ze(et,Qr),ze(je,qi),ze(je,to),ze(je,Qi),ze(je,no),ze(je,ro),ze(je,lo),n);return hg(ze(Tl(t,ft,"compatible"),Ei),f,V,$,D,q,De)}function k1(r,t,n,i){const l="subtract"===r?-1:1;let{years:h,months:c,weeks:f,days:V,hours:$,minutes:D,seconds:q,milliseconds:De,microseconds:Re,nanoseconds:Oe}=v0(n);const je=y1(Oo(i));return({years:h,months:c,weeks:f,days:V,hours:$,minutes:D,seconds:q,milliseconds:De,microseconds:Re,nanoseconds:Oe}=xS(ze(t,il),ze(t,wc),ze(t,Vl),ze(t,zl),ze(t,Hl),ze(t,Wl),ze(t,Gl),ze(t,Zl),ze(t,Xl),ze(t,Al),l*h,l*c,l*f,l*V,l*$,l*D,l*q,l*De,l*Re,l*Oe,je)),new(Rr("%Temporal.Duration%"))(h,c,f,V,$,D,q,De,Re,Oe)}function qD(r,t,n){const i="subtract"===r?-1:1,{hours:l,minutes:h,seconds:c,milliseconds:f,microseconds:V,nanoseconds:$}=function(De,Re){let Oe=v0(De);for(const je of["years","months","weeks","days"])if(0!==Oe[je])throw new RangeError(`Duration field ${je} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return Oe}(n),D=hg(ze(t,Ei),i*l,i*h,i*c,i*f,i*V,i*$);return new(Rr("%Temporal.Instant%"))(D)}function Wb(r,t,n,i){const l="subtract"===r?-1:1,{years:h,months:c,weeks:f,days:V,hours:$,minutes:D,seconds:q,milliseconds:De,microseconds:Re,nanoseconds:Oe}=v0(n),je=Oo(i),et=ze(t,Qn),{year:ft,month:at,day:dt,hour:Mt,minute:Pt,second:Dt,millisecond:Kt,microsecond:Wt,nanosecond:En}=SS(ze(t,Gr),ze(t,Yr),ze(t,Qr),ze(t,qi),ze(t,to),ze(t,Qi),ze(t,no),ze(t,ro),ze(t,lo),et,l*h,l*c,l*f,l*V,l*$,l*D,l*q,l*De,l*Re,l*Oe,je);return Yl(ft,at,dt,Mt,Pt,Dt,Kt,Wt,En,et)}function Gb(r,t,n){const i="subtract"===r?-1:1,{hours:l,minutes:h,seconds:c,milliseconds:f,microseconds:V,nanoseconds:$}=v0(n);let{hour:D,minute:q,second:De,millisecond:Re,microsecond:Oe,nanosecond:je}=JD(ze(t,qi),ze(t,to),ze(t,Qi),ze(t,no),ze(t,ro),ze(t,lo),i*l,i*h,i*c,i*f,i*V,i*$);return({hour:D,minute:q,second:De,millisecond:Re,microsecond:Oe,nanosecond:je}=h1(D,q,De,Re,Oe,je,"reject")),new(Rr("%Temporal.PlainTime%"))(D,q,De,Re,Oe,je)}function P1(r,t,n,i){let l=v0(n);"subtract"===r&&(l={years:-l.years,months:-l.months,weeks:-l.weeks,days:-l.days,hours:-l.hours,minutes:-l.minutes,seconds:-l.seconds,milliseconds:-l.milliseconds,microseconds:-l.microseconds,nanoseconds:-l.nanoseconds});let{years:h,months:c,weeks:f,days:V,hours:$,minutes:D,seconds:q,milliseconds:De,microseconds:Re,nanoseconds:Oe}=l;({days:V}=df(V,$,D,q,De,Re,Oe,"day"));const je=Oo(i),et=ze(t,Qn),ft=Oa(et,["monthCode","year"]),at=yo(t,ft,[]),dt=Ec(null);g0(dt,at,[]),at.day=1;let Mt=Sd(et,at);const Pt=Th(h,c,f,V,0,0,0,0,0,0),Dt=Go(et,"dateAdd"),Kt=Rr("%Temporal.Duration%");if(Pt<0){const Tn=uc(et,Mt,new Kt(0,1,0,0,0,0,0,0,0,0),void 0,Dt),Rn=uc(et,Tn,new Kt(0,0,0,-1,0,0,0,0,0,0),void 0,Dt);dt.day=Mh(et,Rn),Mt=Sd(et,dt)}const Wt=new Kt(h,c,f,V,0,0,0,0,0,0),En=_p(je);return hp(et,yo(uc(et,Mt,Wt,je,Dt),ft,[]),En)}function MS(r,t,n,i){const l="subtract"===r?-1:1,{years:h,months:c,weeks:f,days:V,hours:$,minutes:D,seconds:q,milliseconds:De,microseconds:Re,nanoseconds:Oe}=v0(n),je=Oo(i),et=ze(t,rs),ft=ze(t,Qn);return Pa(gu(ze(t,Vc),et,ft,l*h,l*c,l*f,l*V,l*$,l*D,l*q,l*De,l*Re,l*Oe,je),et,ft)}function Wd(r,t,n){if(Ct.equal(t,Yy))return r;let{quotient:i,remainder:l}=Ta(r,t);if(Ct.equal(l,Ws))return r;const h=Ct.lessThan(l,Ws)?-1:1,c=zd(Ct.multiply(l,Ct.BigInt(2))),f=Ct.equal(c,t),V=Ct.greaterThan(c,t);switch(n){case"ceil":h>0&&(i=Ct.add(i,Ct.BigInt(h)));break;case"floor":h<0&&(i=Ct.add(i,Ct.BigInt(h)));break;case"expand":i=Ct.add(i,Ct.BigInt(h));break;case"trunc":break;case"halfCeil":(V||f&&h>0)&&(i=Ct.add(i,Ct.BigInt(h)));break;case"halfFloor":(V||f&&h<0)&&(i=Ct.add(i,Ct.BigInt(h)));break;case"halfExpand":(V||f)&&(i=Ct.add(i,Ct.BigInt(h)));break;case"halfTrunc":V&&(i=Ct.add(i,Ct.BigInt(h)));break;case"halfEven":(V||f&&1===Ct.toNumber(Ct.remainder(zd(i),Ct.BigInt(2))))&&(i=Ct.add(i,Ct.BigInt(h)))}return Ct.multiply(i,t)}function O1(r,t,n,i){let{remainder:l}=bp(r,ks);const h=Ct.subtract(r,l),c=Wd(l,Ct.BigInt(P0[n]*t),i);return Ct.add(h,c)}function AS(r,t,n,i,l,h,c,f,V,$,D,q,De=864e11){const{deltaDays:Re,hour:Oe,minute:je,second:et,millisecond:ft,microsecond:at,nanosecond:dt}=pg(i,l,h,c,f,V,$,D,q,De),{year:Mt,month:Pt,day:Dt}=A1(r,t,n+Re);return{year:Mt,month:Pt,day:Dt,hour:Oe,minute:je,second:et,millisecond:ft,microsecond:at,nanosecond:dt}}function pg(r,t,n,i,l,h,c,f,V,$=864e11){let D=Ws;switch(f){case"day":case"hour":D=Ct.BigInt(r);case"minute":D=Ct.add(Ct.multiply(D,rp),Ct.BigInt(t));case"second":D=Ct.add(Ct.multiply(D,rp),Ct.BigInt(n));case"millisecond":D=Ct.add(Ct.multiply(D,zo),Ct.BigInt(i));case"microsecond":D=Ct.add(Ct.multiply(D,zo),Ct.BigInt(l));case"nanosecond":D=Ct.add(Ct.multiply(D,zo),Ct.BigInt(h))}const q="day"===f?$:P0[f],De=Wd(D,Ct.BigInt(q*c),V),Re=Ct.toNumber(Ct.divide(De,Ct.BigInt(q)));switch(f){case"day":return{deltaDays:Re,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return Ih(Re,0,0,0,0,0);case"minute":return Ih(r,Re,0,0,0,0);case"second":return Ih(r,t,Re,0,0,0);case"millisecond":return Ih(r,t,n,Re,0,0);case"microsecond":return Ih(r,t,n,i,Re,0);case"nanosecond":return Ih(r,t,n,i,l,Re);default:throw new Error(`Invalid unit ${f}`)}}function I0(r,t){return vS(ze(r,Gr),ze(r,Yr),ze(r,Qr),ze(t,Gr),ze(t,Yr),ze(t,Qr),"day").days}function Sc(r,t,n,i){const l=uc(r,t,n,void 0,i);return{relativeTo:l,days:I0(t,l)}}function TS(r,t,n,i,l){const h=ze(r,rs),c=ze(r,Qn);return Pa(gu(ze(r,Vc),h,c,t,n,i,l,0,0,0,0,0,0),h,c)}function QD(r,t,n,i,l,h,c,f,V,$,D,q,De,Re){let Oe=r,je=t,et=n,ft=i,at=l,dt=h,Mt=c,Pt=f,Dt=V,Kt=$;if(!ei(Re)||"year"===q||"month"===q||"week"===q||"day"===q||"nanosecond"===q&&1===D)return{years:Oe,months:je,weeks:et,days:ft,hours:at,minutes:dt,seconds:Mt,milliseconds:Pt,microseconds:Dt,nanoseconds:Kt};let Wt=A0(0,at,dt,Mt,Pt,Dt,Kt,0);const En=Mb(Ct.toNumber(Wt)),Tn=ze(Re,rs),Rn=ze(Re,Qn),rr=gu(ze(Re,Vc),Tn,Rn,Oe,je,et,ft,0,0,0,0,0,0),Pn=gu(new(Rr("%Temporal.Instant%"))(rr),Tn,Rn,0,0,0,En,0,0,0,0,0,0),zn=Ct.subtract(Pn,rr);return Ct.greaterThanOrEqual(Ct.multiply(Ct.subtract(Wt,zn),Ct.BigInt(En)),Ws)&&(({years:Oe,months:je,weeks:et,days:ft}=xS(Oe,je,et,ft,0,0,0,0,0,0,0,0,0,En,0,0,0,0,0,0,Re)),Wt=O1(Ct.subtract(Wt,zn),D,q,De),({hours:at,minutes:dt,seconds:Mt,milliseconds:Pt,microseconds:Dt,nanoseconds:Kt}=df(0,0,0,0,0,0,Ct.toNumber(Wt),"hour"))),{years:Oe,months:je,weeks:et,days:ft,hours:at,minutes:dt,seconds:Mt,milliseconds:Pt,microseconds:Dt,nanoseconds:Kt}}function gp(r,t,n,i,l,h,c,f,V,$,D,q,De,Re){let Oe=r,je=t,et=n,ft=i,at=l,dt=h,Mt=c,Pt=f,Dt=V,Kt=Ct.BigInt($);const Wt=Rr("%Temporal.Duration%");let En,Tn,Rn,rr,Pn=Re;if(Pn){if(ei(Pn))Tn=Pn,Pn=hs(Pn);else if(!bo(Pn))throw new TypeError("starting point must be PlainDate or ZonedDateTime");En=ze(Pn,Qn)}if("year"===q||"month"===q||"week"===q||"day"===q){let zn,on,pn;Kt=A0(0,at,dt,Mt,Pt,Dt,$,0),Tn&&(zn=TS(Tn,Oe,je,et,ft)),({days:on,nanoseconds:Kt,dayLengthNs:pn}=ug(Kt,zn)),Rn=Ct.BigInt(pn),ft+=on,at=dt=Mt=Pt=Dt=0}switch(q){case"year":{if(!En)throw new RangeError("A starting point is required for years rounding");const zn=new Wt(Oe),on="string"!=typeof En?Go(En,"dateAdd"):void 0,pn=uc(En,Pn,zn,void 0,on),gn=uc(En,Pn,new Wt(Oe,je,et),void 0,on);Pn=pn,ft+=I0(pn,gn);const Nn=uc(En,Pn,new Wt(0,0,0,ft),void 0,on),xn=Ec(null);xn.largestUnit="year";const jn=pu(En,Pn,Nn,xn).years;Oe+=jn;const lr=Pn;Pn=uc(En,Pn,new Wt(jn),void 0,on),ft-=I0(lr,Pn);const cr=new Wt(ft<0?-1:1);let{days:fn}=Sc(En,Pn,cr,on);fn=Cs(fn);const dr=Ct.multiply(Ct.BigInt(fn),Rn);Kt=Ct.add(Ct.add(Ct.multiply(dr,Ct.BigInt(Oe)),Ct.multiply(Ct.BigInt(ft),Rn)),Kt);const Er=Wd(Kt,Ct.multiply(dr,Ct.BigInt(D)),De);rr=ql(Kt,dr),Oe=Ct.toNumber(Ct.divide(Er,dr)),Kt=Ws,je=et=ft=0;break}case"month":{if(!En)throw new RangeError("A starting point is required for months rounding");const zn=new Wt(Oe,je),on="string"!=typeof En?Go(En,"dateAdd"):void 0,pn=uc(En,Pn,zn,void 0,on),gn=uc(En,Pn,new Wt(Oe,je,et),void 0,on);Pn=pn,ft+=I0(pn,gn);const Nn=Mb(ft),xn=new Wt(0,ft<0?-1:1);let jn;for(({relativeTo:Pn,days:jn}=Sc(En,Pn,xn,on));Cs(ft)>=Cs(jn);)je+=Nn,ft-=jn,({relativeTo:Pn,days:jn}=Sc(En,Pn,xn,on));jn=Cs(jn);const lr=Ct.multiply(Ct.BigInt(jn),Rn);Kt=Ct.add(Ct.add(Ct.multiply(lr,Ct.BigInt(je)),Ct.multiply(Ct.BigInt(ft),Rn)),Kt);const cr=Wd(Kt,Ct.multiply(lr,Ct.BigInt(D)),De);rr=ql(Kt,lr),je=Ct.toNumber(Ct.divide(cr,lr)),Kt=Ws,et=ft=0;break}case"week":{if(!En)throw new RangeError("A starting point is required for weeks rounding");const zn=Mb(ft),on=new Wt(0,0,ft<0?-1:1),pn="string"!=typeof En?Go(En,"dateAdd"):void 0;let gn;for(({relativeTo:Pn,days:gn}=Sc(En,Pn,on,pn));Cs(ft)>=Cs(gn);)et+=zn,ft-=gn,({relativeTo:Pn,days:gn}=Sc(En,Pn,on,pn));gn=Cs(gn);const Nn=Ct.multiply(Ct.BigInt(gn),Rn);Kt=Ct.add(Ct.add(Ct.multiply(Nn,Ct.BigInt(et)),Ct.multiply(Ct.BigInt(ft),Rn)),Kt);const xn=Wd(Kt,Ct.multiply(Nn,Ct.BigInt(D)),De);rr=ql(Kt,Nn),et=Ct.toNumber(Ct.divide(xn,Nn)),Kt=Ws,ft=0;break}case"day":{const zn=Rn;Kt=Ct.add(Ct.multiply(zn,Ct.BigInt(ft)),Kt);const on=Wd(Kt,Ct.multiply(zn,Ct.BigInt(D)),De);rr=ql(Kt,zn),ft=Ct.toNumber(Ct.divide(on,zn)),Kt=Ws;break}case"hour":{let on=Ct.multiply(Ct.BigInt(at),Ct.BigInt(36e11));on=Ct.add(on,Ct.multiply(Ct.BigInt(dt),Ct.BigInt(6e10))),on=Ct.add(on,Ct.multiply(Ct.BigInt(Mt),nf)),on=Ct.add(on,Ct.multiply(Ct.BigInt(Pt),Vd)),on=Ct.add(on,Ct.multiply(Ct.BigInt(Dt),zo)),on=Ct.add(on,Kt),rr=ql(on,Ct.BigInt(36e11));const pn=Wd(on,Ct.BigInt(36e11*D),De);at=Ct.toNumber(Ct.divide(pn,Ct.BigInt(36e11))),Kt=Ws,dt=Mt=Pt=Dt=0;break}case"minute":{let on=Ct.multiply(Ct.BigInt(dt),Ct.BigInt(6e10));on=Ct.add(on,Ct.multiply(Ct.BigInt(Mt),nf)),on=Ct.add(on,Ct.multiply(Ct.BigInt(Pt),Vd)),on=Ct.add(on,Ct.multiply(Ct.BigInt(Dt),zo)),on=Ct.add(on,Kt),rr=ql(on,Ct.BigInt(6e10));const pn=Wd(on,Ct.BigInt(6e10*D),De);dt=Ct.toNumber(Ct.divide(pn,Ct.BigInt(6e10))),Kt=Ws,Mt=Pt=Dt=0;break}case"second":{let on=Ct.multiply(Ct.BigInt(Mt),nf);on=Ct.add(on,Ct.multiply(Ct.BigInt(Pt),Vd)),on=Ct.add(on,Ct.multiply(Ct.BigInt(Dt),zo)),on=Ct.add(on,Kt),rr=ql(on,Ct.BigInt(1e9));const pn=Wd(on,Ct.BigInt(1e9*D),De);Mt=Ct.toNumber(Ct.divide(pn,Ct.BigInt(1e9))),Kt=Ws,Pt=Dt=0;break}case"millisecond":{let on=Ct.multiply(Ct.BigInt(Pt),Vd);on=Ct.add(on,Ct.multiply(Ct.BigInt(Dt),zo)),on=Ct.add(on,Kt),rr=ql(on,Ct.BigInt(1e6));const pn=Wd(on,Ct.BigInt(1e6*D),De);Pt=Ct.toNumber(Ct.divide(pn,Ct.BigInt(1e6))),Kt=Ws,Dt=0;break}case"microsecond":{let on=Ct.multiply(Ct.BigInt(Dt),zo);on=Ct.add(on,Kt),rr=ql(on,Ct.BigInt(1e3));const pn=Wd(on,Ct.BigInt(1e3*D),De);Dt=Ct.toNumber(Ct.divide(pn,Ct.BigInt(1e3))),Kt=Ws;break}case"nanosecond":rr=Ct.toNumber(Kt),Kt=Wd(Ct.BigInt(Kt),Ct.BigInt(D),De)}return{years:Oe,months:je,weeks:et,days:ft,hours:at,minutes:dt,seconds:Mt,milliseconds:Pt,microseconds:Dt,nanoseconds:Ct.toNumber(Kt),total:rr}}function vp(r,t,n,i,l,h){for(const[c,f]of[[r,i],[t,l],[n,h]])if(c!==f)return wp(c-f);return 0}function bp(r,t){let{quotient:n,remainder:i}=Ta(r,t);return Ct.lessThan(i,Ws)&&(n=Ct.subtract(n,Yy),i=Ct.add(i,t)),{quotient:n,remainder:i}}function lm(r,t){const{quotient:n,remainder:i}=Ta(r,t);return hu(i)||!Cb(r)==!Cb(t)?n:Ct.subtract(n,Yy)}function ql(r,t){const{quotient:n,remainder:i}=Ta(r,t);return Ct.toNumber(n)+Ct.toNumber(i)/Ct.toNumber(t)}function R1(r){const t=Zb(r);return void 0!==globalThis.BigInt?globalThis.BigInt(t.toString(10)):t}function Zb(r){let t=r;if("object"==typeof r){const n=r[Symbol.toPrimitive];n&&"function"==typeof n&&(t=a1(n,r,["number"]))}if("number"==typeof t)throw new TypeError("cannot convert number to bigint");return Ct.BigInt("bigint"==typeof t?t.toString(10):t)}const dm=(()=>{let r=Ct.BigInt(Date.now()%1e6);return()=>{const t=Ct.BigInt(Date.now()),n=Ct.add(Ct.multiply(t,Vd),r);return r=Ct.remainder(t,Vd),Ct.greaterThan(n,ip)?ip:Ct.lessThan(n,Ff)?Ff:n}})();function D0(){return(new TD).resolvedOptions().timeZone}function wp(r){return r<0?-1:r>0?1:r}function Oo(r){if(void 0===r)return Ec(null);if(Ps(r)&&null!==r)return r;throw new TypeError("Options parameter must be an object, not "+(null===r?"null":typeof r))}function C0(r,t){const n=Ec(null);return n[r]=t,n}function _p(r){const t=Ec(null);return g0(t,Oo(r),[]),t}function k0(r,t,n,i){let l=r[t];if(void 0!==l){if(l=ec(l),!n.includes(l))throw new RangeError(`${t} must be one of ${n.join(", ")}, not ${l}`);return l}return i}function Gd(r){return PD.includes(Ch(r))}function Ch(r){return r.replace(/[A-Z]/g,t=>{const n=t.charCodeAt(0);return String.fromCharCode(n+32)})}const e3=new RegExp(`^${Nk.source}$`);function t3(r,t,n,i=r(t),l=r(n)){let h=Ct.BigInt(t),c=Ct.BigInt(n),f=i,V=l;for(;Ct.greaterThan(Ct.subtract(c,h),Yy);){const $=Ct.divide(Ct.add(h,c),Ct.BigInt(2)),D=r($);if(D===f)h=$,f=D;else{if(D!==V)throw new Error(`invalid state in bisection ${f} - ${D} - ${V}`);c=$,V=D}}return c}const P0={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},n3=Symbol("date"),Xb=Symbol("ym"),Yb=Symbol("md"),Td=Symbol("time"),IS=Symbol("datetime"),DS=Symbol("instant"),mg=Symbol("original"),kh=Symbol("timezone"),Ql=Symbol("calendar-id"),r3=Symbol("locale"),CS=Symbol("options"),yg=r=>({value:r,enumerable:!0,writable:!1,configurable:!0}),Ph=globalThis.Intl.DateTimeFormat,Ep=Object.assign,Gk=Object.prototype.hasOwnProperty,Zk=Reflect.apply;function O0(r,t){let n=r[t];return"function"==typeof n&&(n=new Ph(r[r3],n(r[CS])),r[t]=n),n}function um(r,t={}){if(!(this instanceof um))return new um(r,t);const n=void 0!==t,i=n?Ep({},t):{},l=new Ph(r,i),h=l.resolvedOptions();if(n){const c=Ep({},h);for(const f in c)Zk(Gk,i,[f])||delete c[f];this[CS]=c}else this[CS]=i;this[r3]=h.locale,this[mg]=l,this[kh]=h.timeZone,this[Ql]=h.calendar,this[n3]=J4,this[Xb]=X4,this[Yb]=Y4,this[Td]=Xk,this[IS]=q4,this[DS]=i3}Object.defineProperty(um,"name",{writable:!0,value:"DateTimeFormat"}),um.supportedLocalesOf=function(r,t){return Ph.supportedLocalesOf(r,t)};const B1={resolvedOptions:yg(function(){return this[mg].resolvedOptions()}),format:yg(function(t,...n){let{instant:i,formatter:l}=Oh(t,this);return i&&l?l.format(i.epochMilliseconds):this[mg].format(t,...n)}),formatRange:yg(function(t,n){if(bg(t)||bg(n)){if(!PS(t,n))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");const{instant:i,formatter:l}=Oh(t,this),{instant:h,formatter:c}=Oh(n,this);if(i&&h&&l&&c&&l===c)return l.formatRange(i.epochMilliseconds,h.epochMilliseconds)}return this[mg].formatRange(t,n)})};"formatToParts"in Ph.prototype&&(B1.formatToParts=yg(function(t,...n){let{instant:i,formatter:l}=Oh(t,this);return i&&l?l.formatToParts(i.epochMilliseconds):this[mg].formatToParts(t,...n)})),"formatRangeToParts"in Ph.prototype&&(B1.formatRangeToParts=yg(function(t,n){if(bg(t)||bg(n)){if(!PS(t,n))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");const{instant:i,formatter:l}=Oh(t,this),{instant:h,formatter:c}=Oh(n,this);if(i&&h&&l&&c&&l===c)return l.formatRangeToParts(i.epochMilliseconds,h.epochMilliseconds)}return this[mg].formatRangeToParts(t,n)})),um.prototype=Object.create(Ph.prototype,B1),Object.defineProperty(um,"prototype",{writable:!1,enumerable:!1,configurable:!1});const xp=um;function gg(r={},t={}){const n=Ep({},r);for(const i of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])n[i]=i in t?t[i]:n[i],!1!==n[i]&&void 0!==n[i]||delete n[i];return n}function Xk(r){let t=gg(r,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return kS(t)||(t=Ep({},t,{hour:"numeric",minute:"numeric",second:"numeric"})),t}function X4(r){let t=gg(r,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in t||"month"in t||(t=Ep(t,{year:"numeric",month:"numeric"})),t}function Y4(r){let t=gg(r,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in t||"day"in t||(t=Ep({},t,{month:"numeric",day:"numeric"})),t}function J4(r){let t=gg(r,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return vg(t)||(t=Ep({},t,{year:"numeric",month:"numeric",day:"numeric"})),t}function q4(r){let t=gg(r,{timeZoneName:!1});return kS(t)||vg(t)||(t=Ep({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function i3(r){let t=r;return kS(t)||vg(t)||(t=Ep({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function vg(r){return"year"in r||"month"in r||"day"in r||"weekday"in r||"dateStyle"in r}function kS(r){return"hour"in r||"minute"in r||"second"in r||"timeStyle"in r||"dayPeriod"in r}function bg(r){return bo(r)||Gs(r)||Li(r)||ei(r)||jo(r)||nc(r)||tc(r)}function PS(r,t){return!(!bg(r)||!bg(t)||Gs(r)&&!Gs(t)||bo(r)&&!bo(t)||Li(r)&&!Li(t)||ei(r)&&!ei(t)||jo(r)&&!jo(t)||nc(r)&&!nc(t)||tc(r)&&!tc(t))}function Oh(r,t){const n=Rr("%Temporal.PlainDateTime%");if(Gs(r)){const i=new n(1970,1,1,ze(r,qi),ze(r,to),ze(r,Qi),ze(r,no),ze(r,ro),ze(r,lo),t[Ql]);return{instant:Tl(t[kh],i,"compatible"),formatter:O0(t,Td)}}if(jo(r)){const i=ze(r,Gr),l=ze(r,Yr),h=ze(r,Qr),c=rc(ze(r,Qn));if(c!==t[Ql])throw new RangeError(`cannot format PlainYearMonth with calendar ${c} in locale with calendar ${t[Ql]}`);const f=new n(i,l,h,12,0,0,0,0,0,c);return{instant:Tl(t[kh],f,"compatible"),formatter:O0(t,Xb)}}if(nc(r)){const i=ze(r,Gr),l=ze(r,Yr),h=ze(r,Qr),c=rc(ze(r,Qn));if(c!==t[Ql])throw new RangeError(`cannot format PlainMonthDay with calendar ${c} in locale with calendar ${t[Ql]}`);const f=new n(i,l,h,12,0,0,0,0,0,c);return{instant:Tl(t[kh],f,"compatible"),formatter:O0(t,Yb)}}if(bo(r)){const i=ze(r,Gr),l=ze(r,Yr),h=ze(r,Qr),c=rc(ze(r,Qn));if("iso8601"!==c&&c!==t[Ql])throw new RangeError(`cannot format PlainDate with calendar ${c} in locale with calendar ${t[Ql]}`);const f=new n(i,l,h,12,0,0,0,0,0,t[Ql]);return{instant:Tl(t[kh],f,"compatible"),formatter:O0(t,n3)}}if(Li(r)){const i=ze(r,Gr),l=ze(r,Yr),h=ze(r,Qr),c=ze(r,qi),f=ze(r,to),V=ze(r,Qi),$=ze(r,no),D=ze(r,ro),q=ze(r,lo),De=rc(ze(r,Qn));if("iso8601"!==De&&De!==t[Ql])throw new RangeError(`cannot format PlainDateTime with calendar ${De} in locale with calendar ${t[Ql]}`);let Re=r;return"iso8601"===De&&(Re=new n(i,l,h,c,f,V,$,D,q,t[Ql])),{instant:Tl(t[kh],Re,"compatible"),formatter:O0(t,IS)}}if(ei(r))throw new TypeError("Temporal.ZonedDateTime not supported in DateTimeFormat methods. Use toLocaleString() instead.");return tc(r)?{instant:r,formatter:O0(t,DS)}:{}}Object.freeze({__proto__:null,DateTimeFormat:xp});class uf{constructor(t){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const n=Zb(t);yp(n),Eh(this),po(this,Ei,n)}get epochSeconds(){if(!tc(this))throw new TypeError("invalid receiver");const t=ze(this,Ei);return Ct.toNumber(lm(t,nf))}get epochMilliseconds(){if(!tc(this))throw new TypeError("invalid receiver");const t=Ct.BigInt(ze(this,Ei));return Ct.toNumber(lm(t,Vd))}get epochMicroseconds(){if(!tc(this))throw new TypeError("invalid receiver");return R1(lm(Ct.BigInt(ze(this,Ei)),zo))}get epochNanoseconds(){if(!tc(this))throw new TypeError("invalid receiver");return R1(Ct.BigInt(ze(this,Ei)))}add(t){if(!tc(this))throw new TypeError("invalid receiver");return qD("add",this,t)}subtract(t){if(!tc(this))throw new TypeError("invalid receiver");return qD("subtract",this,t)}until(t,n){if(!tc(this))throw new TypeError("invalid receiver");return XD("until",this,t,n)}since(t,n){if(!tc(this))throw new TypeError("invalid receiver");return XD("since",this,t,n)}round(t){if(!tc(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?C0("smallestUnit",t):Oo(t),i=ng(n),l=sf(n,"halfExpand"),h=Ed(n,"smallestUnit","time",_0);im(i,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[h],!0);const c=O1(ze(this,Ei),i,h,l);return new uf(c)}equals(t){if(!tc(this))throw new TypeError("invalid receiver");const n=$f(t),i=ze(this,Ei),l=ze(n,Ei);return Ct.equal(Ct.BigInt(i),Ct.BigInt(l))}toString(t){if(!tc(this))throw new TypeError("invalid receiver");const n=Oo(t),i=w0(n),l=sf(n,"trunc"),h=Ed(n,"smallestUnit","time",void 0);if("hour"===h)throw new RangeError('smallestUnit must be a time unit other than "hour"');let c=n.timeZone;void 0!==c&&(c=xc(c));const{precision:f,unit:V,increment:$}=Pb(h,i),D=O1(ze(this,Ei),$,V,l);return M0(new uf(D),c,f)}toJSON(){if(!tc(this))throw new TypeError("invalid receiver");return M0(this,void 0,"auto")}toLocaleString(t,n){if(!tc(this))throw new TypeError("invalid receiver");return new xp(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(t){if(!tc(this))throw new TypeError("invalid receiver");if(!Ps(t))throw new TypeError("invalid argument in toZonedDateTime");const n=t.calendar;if(void 0===n)throw new TypeError("missing calendar property in toZonedDateTime");const i=Jl(n),l=t.timeZone;if(void 0===l)throw new TypeError("missing timeZone property in toZonedDateTime");const h=xc(l);return Pa(ze(this,Ei),h,i)}toZonedDateTimeISO(t){if(!tc(this))throw new TypeError("invalid receiver");const n=xc(t);return Pa(ze(this,Ei),n,"iso8601")}static fromEpochSeconds(t){const n=Qy(t),i=Ct.multiply(Ct.BigInt(n),nf);return yp(i),new uf(i)}static fromEpochMilliseconds(t){const n=Qy(t),i=Ct.multiply(Ct.BigInt(n),Vd);return yp(i),new uf(i)}static fromEpochMicroseconds(t){const n=Zb(t),i=Ct.multiply(n,zo);return yp(i),new uf(i)}static fromEpochNanoseconds(t){const n=Zb(t);return yp(n),new uf(n)}static from(t){return tc(t)?new uf(ze(t,Ei)):$f(t)}static compare(t,n){const i=$f(t),l=$f(n),h=ze(i,Ei),c=ze(l,Ei);return Ct.lessThan(h,c)?-1:Ct.greaterThan(h,c)?1:0}}ef(uf,"Temporal.Instant");const o3=Array.prototype.includes,Yk=Array.prototype.push,eB=globalThis.Intl.DateTimeFormat,Jk=Array.prototype.sort,s3=Math.abs,qk=Math.floor,OS=Object.create,R0=Object.entries,a3=Set,RS=Reflect.ownKeys,Hc=Set.prototype.add,c3=Set.prototype.values,$s={};class ga{constructor(t){if(arguments.length<1)throw new RangeError("missing argument: id is required");const n=ec(t);if(!Gd(n))throw new RangeError(`invalid calendar identifier ${n}`);Eh(this),po(this,Es,Ch(n))}get id(){if(!ya(this))throw new TypeError("invalid receiver");return ze(this,Es)}dateFromFields(t,n){if(!ya(this))throw new TypeError("invalid receiver");if(!Ps(t))throw new TypeError("invalid fields");const i=Oo(n),l=ze(this,Es);return $s[l].dateFromFields(t,i,l)}yearMonthFromFields(t,n){if(!ya(this))throw new TypeError("invalid receiver");if(!Ps(t))throw new TypeError("invalid fields");const i=Oo(n),l=ze(this,Es);return $s[l].yearMonthFromFields(t,i,l)}monthDayFromFields(t,n){if(!ya(this))throw new TypeError("invalid receiver");if(!Ps(t))throw new TypeError("invalid fields");const i=Oo(n),l=ze(this,Es);return $s[l].monthDayFromFields(t,i,l)}fields(t){if(!ya(this))throw new TypeError("invalid receiver");const n=[],i=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(const l of t){if("string"!=typeof l)throw new TypeError("invalid fields");if(!i.has(l))throw new RangeError(`invalid field name ${l}`);i.delete(l),Yk.call(n,l)}return $s[ze(this,Es)].fields(n)}mergeFields(t,n){if(!ya(this))throw new TypeError("invalid receiver");const i=tS(t),l=OS(null);g0(l,i,[],[void 0]);const h=tS(n),c=OS(null);g0(c,h,[],[void 0]);const f=RS(c),V=$s[ze(this,Es)].fieldKeysToIgnore(f),$=OS(null),D=RS(l);for(const q of D){let De;De=Wr(o3,V,[q])?c[q]:l[q],void 0!==De&&($[q]=De)}return g0($,c,[]),$}dateAdd(t,n,i){if(!ya(this))throw new TypeError("invalid receiver");const l=hs(t),h=rg(n),c=ka(Oo(i)),{days:f}=df(ze(h,zl),ze(h,Hl),ze(h,Wl),ze(h,Gl),ze(h,Zl),ze(h,Xl),ze(h,Al),"day"),V=ze(this,Es);return $s[V].dateAdd(l,ze(h,il),ze(h,wc),ze(h,Vl),f,c,V)}dateUntil(t,n,i){if(!ya(this))throw new TypeError("invalid receiver");const l=hs(t),h=hs(n);let c=Ed(Oo(i),"largestUnit","date","auto");"auto"===c&&(c="day");const{years:f,months:V,weeks:$,days:D}=$s[ze(this,Es)].dateUntil(l,h,c);return new(Rr("%Temporal.Duration%"))(f,V,$,D,0,0,0,0,0,0)}year(t){let n=t;if(!ya(this))throw new TypeError("invalid receiver");return jo(n)||(n=hs(n)),$s[ze(this,Es)].year(n)}month(t){let n=t;if(!ya(this))throw new TypeError("invalid receiver");if(nc(n))throw new TypeError("use monthCode on PlainMonthDay instead");return jo(n)||(n=hs(n)),$s[ze(this,Es)].month(n)}monthCode(t){let n=t;if(!ya(this))throw new TypeError("invalid receiver");return jo(n)||nc(n)||(n=hs(n)),$s[ze(this,Es)].monthCode(n)}day(t){let n=t;if(!ya(this))throw new TypeError("invalid receiver");return nc(n)||(n=hs(n)),$s[ze(this,Es)].day(n)}era(t){let n=t;if(!ya(this))throw new TypeError("invalid receiver");return jo(n)||(n=hs(n)),$s[ze(this,Es)].era(n)}eraYear(t){let n=t;if(!ya(this))throw new TypeError("invalid receiver");return jo(n)||(n=hs(n)),$s[ze(this,Es)].eraYear(n)}dayOfWeek(t){if(!ya(this))throw new TypeError("invalid receiver");const n=hs(t);return $s[ze(this,Es)].dayOfWeek(n)}dayOfYear(t){if(!ya(this))throw new TypeError("invalid receiver");const n=hs(t);return $s[ze(this,Es)].dayOfYear(n)}weekOfYear(t){if(!ya(this))throw new TypeError("invalid receiver");const n=hs(t);return $s[ze(this,Es)].weekOfYear(n)}yearOfWeek(t){if(!ya(this))throw new TypeError("invalid receiver");const n=hs(t);return $s[ze(this,Es)].yearOfWeek(n)}daysInWeek(t){if(!ya(this))throw new TypeError("invalid receiver");const n=hs(t);return $s[ze(this,Es)].daysInWeek(n)}daysInMonth(t){let n=t;if(!ya(this))throw new TypeError("invalid receiver");return jo(n)||(n=hs(n)),$s[ze(this,Es)].daysInMonth(n)}daysInYear(t){let n=t;if(!ya(this))throw new TypeError("invalid receiver");return jo(n)||(n=hs(n)),$s[ze(this,Es)].daysInYear(n)}monthsInYear(t){let n=t;if(!ya(this))throw new TypeError("invalid receiver");return jo(n)||(n=hs(n)),$s[ze(this,Es)].monthsInYear(n)}inLeapYear(t){let n=t;if(!ya(this))throw new TypeError("invalid receiver");return jo(n)||(n=hs(n)),$s[ze(this,Es)].inLeapYear(n)}toString(){if(!ya(this))throw new TypeError("invalid receiver");return ze(this,Es)}toJSON(){if(!ya(this))throw new TypeError("invalid receiver");return ze(this,Es)}static from(t){return mu(Jl(t))}}function Jb(r){if(!r.startsWith("M"))throw new RangeError(`Invalid month code: ${r}.  Month codes must start with M.`);const t=+r.slice(1);if(isNaN(t))throw new RangeError(`Invalid month code: ${r}`);return t}function Sp(r,t=!1){return`M${r.toString().padStart(2,"0")}${t?"L":""}`}function qb(r,t,n=12){let{month:i,monthCode:l}=r;if(void 0===l){if(void 0===i)throw new TypeError("Either month or monthCode are required");"reject"===t&&zc(i,1,n),"constrain"===t&&(i=Ad(i,1,n)),l=Sp(i)}else{const h=Jb(l);if(void 0!==i&&i!==h)throw new RangeError(`monthCode ${l} and month ${i} must match if both are present`);if(l!==Sp(h))throw new RangeError(`Invalid month code: ${l}`);if(i=h,i<1||i>n)throw new RangeError(`Invalid monthCode: ${l}`)}return{...r,month:i,monthCode:l}}ef(ga,"Temporal.Calendar"),ma("Temporal.Calendar.from",ga.from),ma("Temporal.Calendar.prototype.dateAdd",ga.prototype.dateAdd),ma("Temporal.Calendar.prototype.dateFromFields",ga.prototype.dateFromFields),ma("Temporal.Calendar.prototype.dateUntil",ga.prototype.dateUntil),ma("Temporal.Calendar.prototype.day",ga.prototype.day),ma("Temporal.Calendar.prototype.dayOfWeek",ga.prototype.dayOfWeek),ma("Temporal.Calendar.prototype.dayOfYear",ga.prototype.dayOfYear),ma("Temporal.Calendar.prototype.daysInMonth",ga.prototype.daysInMonth),ma("Temporal.Calendar.prototype.daysInWeek",ga.prototype.daysInWeek),ma("Temporal.Calendar.prototype.daysInYear",ga.prototype.daysInYear),ma("Temporal.Calendar.prototype.era",ga.prototype.era),ma("Temporal.Calendar.prototype.eraYear",ga.prototype.eraYear),ma("Temporal.Calendar.prototype.fields",ga.prototype.fields),ma("Temporal.Calendar.prototype.inLeapYear",ga.prototype.inLeapYear),ma("Temporal.Calendar.prototype.mergeFields",ga.prototype.mergeFields),ma("Temporal.Calendar.prototype.month",ga.prototype.month),ma("Temporal.Calendar.prototype.monthCode",ga.prototype.monthCode),ma("Temporal.Calendar.prototype.monthDayFromFields",ga.prototype.monthDayFromFields),ma("Temporal.Calendar.prototype.monthsInYear",ga.prototype.monthsInYear),ma("Temporal.Calendar.prototype.weekOfYear",ga.prototype.weekOfYear),ma("Temporal.Calendar.prototype.year",ga.prototype.year),ma("Temporal.Calendar.prototype.yearMonthFromFields",ga.prototype.yearMonthFromFields),ma("Temporal.Calendar.prototype.yearOfWeek",ga.prototype.yearOfWeek),$s.iso8601={dateFromFields(r,t,n){let i=yo(r,["day","month","monthCode","year"],["year","day"]);const l=ka(t);i=qb(i);let{year:h,month:c,day:f}=i;return({year:h,month:c,day:f}=kb(h,c,f,l)),xd(h,c,f,n)},yearMonthFromFields(r,t,n){let i=yo(r,["month","monthCode","year"],["year"]);const l=ka(t);i=qb(i);let{year:h,month:c}=i;return({year:h,month:c}=function(V,$,D){let q=V,De=$;switch(D){case"reject":Dh(q,De,1);break;case"constrain":({year:q,month:De}=WD(q,De))}return{year:q,month:De}}(h,c,l)),cp(h,c,n,1)},monthDayFromFields(r,t,n){let i=yo(r,["day","month","monthCode","year"],["day"]);const l=ka(t);if(void 0!==i.month&&void 0===i.year&&void 0===i.monthCode)throw new TypeError("either year or monthCode required with month");const h=void 0===i.monthCode;i=qb(i);let{month:c,day:f,year:V}=i;return({month:c,day:f}=kb(h?V:1972,c,f,l)),og(c,f,n,1972)},fields:r=>r,fieldKeysToIgnore(r){const t=new a3;for(let n=0;n<r.length;n++){const i=r[n];Wr(Hc,t,[i]),"month"===i?Wr(Hc,t,["monthCode"]):"monthCode"===i&&Wr(Hc,t,["month"])}return[...Wr(c3,t,[])]},dateAdd(r,t,n,i,l,h,c){let f=ze(r,Gr),V=ze(r,Yr),$=ze(r,Qr);return({year:f,month:V,day:$}=fg(f,V,$,t,n,i,l,h)),xd(f,V,$,c)},dateUntil:(r,t,n)=>vS(ze(r,Gr),ze(r,Yr),ze(r,Qr),ze(t,Gr),ze(t,Yr),ze(t,Qr),n),year:r=>ze(r,Gr),era(){},eraYear(){},month:r=>ze(r,Yr),monthCode:r=>Sp(ze(r,Yr)),day:r=>ze(r,Qr),dayOfWeek:r=>hS(ze(r,Gr),ze(r,Yr),ze(r,Qr)),dayOfYear:r=>lg(ze(r,Gr),ze(r,Yr),ze(r,Qr)),weekOfYear:r=>dg(ze(r,Gr),ze(r,Yr),ze(r,Qr)).week,yearOfWeek:r=>dg(ze(r,Gr),ze(r,Yr),ze(r,Qr)).year,daysInWeek:()=>7,daysInMonth:r=>mp(ze(r,Gr),ze(r,Yr)),daysInYear(r){let t=r;return _c(t,Gr)||(t=hs(t)),cm(ze(t,Gr))?366:365},monthsInYear:()=>12,inLeapYear(r){let t=r;return _c(t,Gr)||(t=hs(t)),cm(ze(t,Gr))}};class Zs{constructor(t){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),void 0!==t){let n=0;for(const i of t.map.entries()){if(++n>Zs.MAX_CACHE_ENTRIES)break;this.map.set(...i)}}}get(t){const n=this.map.get(t);return n&&(this.hits++,this.report()),this.calls++,n}set(t,n){this.map.set(t,n),this.misses++,this.report()}report(){}setObject(t){if(Zs.objectMap.get(t))throw new RangeError("object already cached");Zs.objectMap.set(t,this),this.report()}static getCacheForObject(t){let n=Zs.objectMap.get(t);return n||(n=new Zs,Zs.objectMap.set(t,n)),n}}function l3({isoYear:r,isoMonth:t,isoDay:n}){return`${S0(r)}-${js(t)}-${js(n)}T00:00Z`}function BS(r,t){return{years:r.year-t.year,months:r.month-t.month,days:r.day-t.day}}Zs.objectMap=new WeakMap,Zs.MAX_CACHE_ENTRIES=1e3;class wg{constructor(){this.eraLength="short",this.hasEra=!0,this.erasBeginMidYear=!1}getFormatter(){return void 0===this.formatter&&(this.formatter=new eB(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(t,n){const{year:i,month:l,day:h}=t,c=JSON.stringify({func:"isoToCalendarDate",isoYear:i,isoMonth:l,isoDay:h,id:this.id}),f=n.get(c);if(f)return f;const V=this.getFormatter();let $,D;try{D=l3({isoYear:i,isoMonth:l,isoDay:h}),$=V.formatToParts(new Date(D))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:i,isoMonth:l,isoDay:h})}`)}const q={};for(let{type:Re,value:Oe}of $){if("year"===Re&&(q.eraYear=+Oe),"relatedYear"===Re&&(q.eraYear=+Oe),"month"===Re){const je=/^([0-9]*)(.*?)$/.exec(Oe);if(!je||3!=je.length||!je[1]&&!je[2])throw new RangeError(`Unexpected month: ${Oe}`);if(q.month=je[1]?+je[1]:1,q.month<1)throw new RangeError(`Invalid month ${Oe} from ${D}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(q.month>13)throw new RangeError(`Invalid month ${Oe} from ${D}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);je[2]&&(q.monthExtra=je[2])}"day"===Re&&(q.day=+Oe),this.hasEra&&"era"===Re&&null!=Oe&&""!==Oe&&(Oe=Oe.split(" (")[0],q.era=Oe.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(void 0===q.eraYear)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){const{era:Re,eraYear:Oe}=this.reviseIntlEra(q,t);q.era=Re,q.eraYear=Oe}this.checkIcuBugs&&this.checkIcuBugs(t);const De=this.adjustCalendarDate(q,n,"constrain",!0);if(void 0===De.year)throw new RangeError(`Missing year converting ${JSON.stringify(t)}`);if(void 0===De.month)throw new RangeError(`Missing month converting ${JSON.stringify(t)}`);if(void 0===De.day)throw new RangeError(`Missing day converting ${JSON.stringify(t)}`);return n.set(c,De),["constrain","reject"].forEach(Re=>{const Oe=JSON.stringify({func:"calendarToIsoDate",year:De.year,month:De.month,day:De.day,overflow:Re,id:this.id});n.set(Oe,t)}),De}validateCalendarDate(t){const{era:n,month:i,year:l,day:h,eraYear:c,monthCode:f,monthExtra:V}=t;if(void 0!==V)throw new RangeError("Unexpected `monthExtra` value");if(void 0===l&&void 0===c)throw new TypeError("year or eraYear is required");if(void 0===i&&void 0===f)throw new TypeError("month or monthCode is required");if(void 0===h)throw new RangeError("Missing day");if(void 0!==f){if("string"!=typeof f)throw new RangeError("monthCode must be a string, not "+typeof f);if(!/^M([01]?\d)(L?)$/.test(f))throw new RangeError(`Invalid monthCode: ${f}`)}if(this.constantEra){if(void 0!==n&&n!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${n}`);if(void 0!==c&&void 0!==l&&c!==l)throw new RangeError(`eraYear ${c} does not match year ${l}`)}if(this.hasEra&&void 0===t.era!=(void 0===t.eraYear))throw new RangeError("properties 'era' and 'eraYear' must be provided together")}adjustCalendarDate(t,n,i="constrain",l=!1){if("lunisolar"===this.calendarType)throw new RangeError("Override required for lunisolar calendars");let h=t;if(this.validateCalendarDate(h),this.constantEra){const{year:$,eraYear:D}=h;h={...h,era:this.constantEra,year:void 0!==$?$:D,eraYear:void 0!==D?D:$}}const c=this.monthsInYear(h,n);let{month:f,monthCode:V}=h;return({month:f,monthCode:V}=qb(h,i,c)),{...h,month:f,monthCode:V}}regulateMonthDayNaive(t,n,i){const l=this.monthsInYear(t,i);let{month:h,day:c}=t;return"reject"===n?(zc(h,1,l),zc(c,1,this.maximumMonthLength(t))):(h=Ad(h,1,l),c=Ad(c,1,this.maximumMonthLength({...t,month:h}))),{...t,month:h,day:c}}calendarToIsoDate(t,n="constrain",i){const l=t;let h=this.adjustCalendarDate(t,i,n,!1);h=this.regulateMonthDayNaive(h,n,i);const{year:c,month:f,day:V}=h,$=JSON.stringify({func:"calendarToIsoDate",year:c,month:f,day:V,overflow:n,id:this.id});let D,q=i.get($);if(q||void 0!==l.year&&void 0!==l.month&&void 0!==l.day&&(l.year!==h.year||l.month!==h.month||l.day!==h.day)&&(D=JSON.stringify({func:"calendarToIsoDate",year:l.year,month:l.month,day:l.day,overflow:n,id:this.id}),q=i.get(D),q))return q;let De=this.estimateIsoDate({year:c,month:f,day:V});const Re=at=>{let dt=this.addDaysIso(De,at);if(h.day>this.minimumMonthLength(h)){let Mt=this.isoToCalendarDate(dt,i);for(;Mt.month!==f||Mt.year!==c;){if("reject"===n)throw new RangeError(`day ${V} does not exist in month ${f} of year ${c}`);dt=this.addDaysIso(dt,-1),Mt=this.isoToCalendarDate(dt,i)}}return dt};let Oe=0,je=this.isoToCalendarDate(De,i),et=BS(h,je);0===et.years&&0===et.months&&0===et.days||(De=this.addDaysIso(De,365*et.years+30*et.months+et.days),je=this.isoToCalendarDate(De,i),et=BS(h,je),0===et.years&&0===et.months?De=Re(et.days):Oe=this.compareCalendarDates(h,je));let ft=8;for(;Oe;){De=this.addDaysIso(De,Oe*ft);const at=je;je=this.isoToCalendarDate(De,i);const dt=Oe;if(Oe=this.compareCalendarDates(h,je),Oe)if(et=BS(h,je),0===et.years&&0===et.months)De=Re(et.days),Oe=0;else if(dt&&Oe!==dt)if(ft>1)ft/=2;else{if("reject"===n)throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...l})}`);this.compareCalendarDates(je,at)>0&&(De=this.addDaysIso(De,-1)),Oe=0}}if(i.set($,De),D&&i.set(D,De),void 0===h.year||void 0===h.month||void 0===h.day||void 0===h.monthCode||this.hasEra&&(void 0===h.era||void 0===h.eraYear))throw new RangeError("Unexpected missing property");return De}temporalToCalendarDate(t,n){const i={year:ze(t,Gr),month:ze(t,Yr),day:ze(t,Qr)};return this.isoToCalendarDate(i,n)}compareCalendarDates(t,n){const i=yo(t,["day","month","year"],["day","month","year"]),l=yo(n,["day","month","year"],["day","month","year"]);return i.year!==l.year?wp(i.year-l.year):i.month!==l.month?wp(i.month-l.month):i.day!==l.day?wp(i.day-l.day):0}regulateDate(t,n="constrain",i){const l=this.calendarToIsoDate(t,n,i);return this.isoToCalendarDate(l,i)}addDaysIso(t,n){return fg(t.year,t.month,t.day,0,0,0,n,"constrain")}addDaysCalendar(t,n,i){const l=this.calendarToIsoDate(t,"constrain",i),h=this.addDaysIso(l,n);return this.isoToCalendarDate(h,i)}addMonthsCalendar(t,n,i,l){let h=t;const{day:c}=h;for(let f=0,V=s3(n);f<V;f++){const{month:$}=h,D=h,q=n<0?-Math.max(c,this.daysInPreviousMonth(h,l)):this.daysInMonth(h,l),De=this.calendarToIsoDate(h,"constrain",l);let Re=this.addDaysIso(De,q);if(h=this.isoToCalendarDate(Re,l),n>0){const Oe=this.monthsInYear(D,l);for(;h.month-1!=$%Oe;)Re=this.addDaysIso(Re,-1),h=this.isoToCalendarDate(Re,l)}h.day!==c&&(h=this.regulateDate({...h,day:c},"constrain",l))}if("reject"===i&&h.day!==c)throw new RangeError(`Day ${c} does not exist in resulting calendar month`);return h}addCalendar(t,{years:n=0,months:i=0,weeks:l=0,days:h=0},c,f){const{year:V,day:$,monthCode:D}=t,q=this.adjustCalendarDate({year:V+n,monthCode:D,day:$},f),De=this.addMonthsCalendar(q,i,c,f);return this.addDaysCalendar(De,h+7*l,f)}untilCalendar(t,n,i,l){let h=0,c=0,f=0,V=0;switch(i){case"day":h=this.calendarDaysUntil(t,n,l);break;case"week":{const $=this.calendarDaysUntil(t,n,l);h=$%7,c=($-h)/7;break}case"month":case"year":{const $=this.compareCalendarDates(n,t);if(!$)return{years:0,months:0,weeks:0,days:0};const D=n.year-t.year;if("year"===i&&D){let Oe=0;n.monthCode>t.monthCode&&(Oe=1),n.monthCode<t.monthCode&&(Oe=-1),Oe||(Oe=Math.sign(n.day-t.day)),V=Oe*$<0?D-$:D}let De,Re=V?this.addCalendar(t,{years:V},"constrain",l):t;do{f+=$,De=Re,Re=this.addMonthsCalendar(De,$,"constrain",l),Re.day!==t.day&&(Re=this.regulateDate({...Re,day:t.day},"constrain",l))}while(this.compareCalendarDates(n,Re)*$>=0);f-=$,h=this.calendarDaysUntil(De,n,l);break}}return{years:V,months:f,weeks:c,days:h}}daysInMonth(t,n){const{day:i}=t,l=this.maximumMonthLength(t),h=this.minimumMonthLength(t);if(h===l)return h;const c=i<=l-h?l:h,f=this.calendarToIsoDate(t,"constrain",n),V=this.addDaysIso(f,c),$=this.isoToCalendarDate(V,n),D=this.addDaysIso(V,-$.day);return this.isoToCalendarDate(D,n).day}daysInPreviousMonth(t,n){const{day:i,month:l,year:h}=t;let c={year:l>1?h:h-1,month:l,day:1};const f=l>1?l-1:this.monthsInYear(c,n);c={...c,month:f};const V=this.minimumMonthLength(c),$=this.maximumMonthLength(c);if(V===$)return $;const D=this.calendarToIsoDate(t,"constrain",n),q=this.addDaysIso(D,-i);return this.isoToCalendarDate(q,n).day}startOfCalendarYear(t){return{year:t.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(t){return{year:t.year,month:t.month,day:1}}calendarDaysUntil(t,n,i){const l=this.calendarToIsoDate(t,"constrain",i),h=this.calendarToIsoDate(n,"constrain",i);return this.isoDaysUntil(l,h)}isoDaysUntil(t,n){return vS(t.year,t.month,t.day,n.year,n.month,n.day,"day").days}monthDayFromFields(t,n,i){let l,h,c,f,V,{monthCode:$,day:D}=t;if(void 0===$){let{year:Re,era:Oe,eraYear:je}=t;if(void 0===Re&&(void 0===Oe||void 0===je))throw new TypeError("when `monthCode` is omitted, `year` (or `era` and `eraYear`) and `month` are required");({monthCode:$,day:D}=this.isoToCalendarDate(this.calendarToIsoDate(t,n,i),i))}const q=this.isoToCalendarDate({year:1972,month:12,day:31},i),De=q.monthCode>$||q.monthCode===$&&q.day>=D?q.year:q.year-1;for(let Re=0;Re<100;Re++){const Oe=this.adjustCalendarDate({day:D,monthCode:$,year:De-Re},i),je=this.calendarToIsoDate(Oe,"constrain",i),et=this.isoToCalendarDate(je,i);if(({year:l,month:h,day:c}=je),et.monthCode===$&&et.day===D)return{month:h,day:c,year:l};"constrain"===n&&(void 0===f||et.monthCode===f.monthCode&&et.day>f.day)&&(f=et,V=je)}if("constrain"===n&&void 0!==V)return V;throw new RangeError(`No recent ${this.id} year with monthCode ${$} and day ${D}`)}}class NS extends wg{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(t){const{year:n}=t;return(7*n+1)%19<7}monthsInYear(t){return this.inLeapYear(t)?13:12}minimumMonthLength(t){return this.minMaxMonthLength(t,"min")}maximumMonthLength(t){return this.minMaxMonthLength(t,"max")}minMaxMonthLength(t,n){const{month:i,year:l}=t,h=this.getMonthCode(l,i),c=R0(this.months).find(V=>V[1].monthCode===h);if(void 0===c)throw new RangeError(`unmatched Hebrew month: ${i}`);const f=c[1].days;return"number"==typeof f?f:f[n]}estimateIsoDate(t){const{year:n}=t;return{year:n-3760,month:1,day:1}}getMonthCode(t,n){return this.inLeapYear({year:t})?6===n?Sp(5,!0):Sp(n<6?n:n-1):Sp(n)}adjustCalendarDate(t,n,i="constrain",l=!1){let{year:h,eraYear:c,month:f,monthCode:V,day:$,monthExtra:D}=t;if(void 0===h&&void 0!==c&&(h=c),void 0===c&&void 0!==h&&(c=h),l){if(D){const q=this.months[D];if(!q)throw new RangeError(`Unrecognized month from formatToParts: ${D}`);f=this.inLeapYear({year:h})?q.leap:q.regular}return V=this.getMonthCode(h,f),{year:h,month:f,day:$,era:void 0,eraYear:c,monthCode:V}}if(this.validateCalendarDate(t),void 0===f)if(V.endsWith("L")){if("M05L"!==V)throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${V}`);if(f=6,!this.inLeapYear({year:h})){if("reject"===i)throw new RangeError(`Hebrew monthCode M05L is invalid in year ${h} which is not a leap year`);f=6,V="M06"}}else{f=Jb(V),this.inLeapYear({year:h})&&f>=6&&f++;const q=this.monthsInYear({year:h});if(f<1||f>q)throw new RangeError(`Invalid monthCode: ${V}`)}else if("reject"===i?(zc(f,1,this.monthsInYear({year:h})),zc($,1,this.maximumMonthLength({year:h,month:f}))):(f=Ad(f,1,this.monthsInYear({year:h})),$=Ad($,1,this.maximumMonthLength({year:h,month:f}))),void 0===V)V=this.getMonthCode(h,f);else if(this.getMonthCode(h,f)!==V)throw new RangeError(`monthCode ${V} doesn't correspond to month ${f} in Hebrew year ${h}`);return{...t,day:$,month:f,monthCode:V,year:h,eraYear:c}}}class _g extends wg{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(t,n){return 30===this.daysInMonth({year:t.year,month:12,day:1},n)}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(t){const{year:n}=this.adjustCalendarDate(t);return{year:qk(n*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}}class LS extends _g{constructor(){super(...arguments),this.id="islamic"}}class Qk extends _g{constructor(){super(...arguments),this.id="islamic-umalqura"}}class eP extends _g{constructor(){super(...arguments),this.id="islamic-tbla"}}class tP extends _g{constructor(){super(...arguments),this.id="islamic-civil"}}class nP extends _g{constructor(){super(...arguments),this.id="islamic-rgsa"}}class rP extends _g{constructor(){super(...arguments),this.id="islamicc"}}class iP extends wg{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(t,n){return LS.prototype.inLeapYear.call(this,t,n)}monthsInYear(){return 12}minimumMonthLength(t){const{month:n}=t;return 12===n?29:n<=6?31:30}maximumMonthLength(t){const{month:n}=t;return 12===n?30:n<=6?31:30}estimateIsoDate(t){const{year:n}=this.adjustCalendarDate(t);return{year:n+621,month:1,day:1}}}class oP extends wg{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug="10/11/-79 Saka"!==new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})}inLeapYear(t){return d3(t.year+78)}monthsInYear(){return 12}minimumMonthLength(t){return this.getMonthInfo(t).length}maximumMonthLength(t){return this.getMonthInfo(t).length}getMonthInfo(t){const{month:n}=t;let i=this.months[n];if(void 0===i)throw new RangeError(`Invalid month: ${n}`);return this.inLeapYear(t)&&i.leap&&(i=i.leap),i}estimateIsoDate(t){const n=this.adjustCalendarDate(t),i=this.getMonthInfo(n);return fg(n.year+78+(i.nextYear?1:0),i.month,i.day,0,0,0,n.day-1,"constrain")}checkIcuBugs(t){if(this.vulnerableToBceBug&&t.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}}function d3(r){return r%4==0&&(r%100!=0||r%400==0)}class Eg extends wg{constructor(t,n){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=t;const{eras:i,anchorEra:l}=function(c){let f,V=c;if(0===V.length)throw new RangeError("Invalid era data: eras are required");if(1===V.length&&V[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(1===V.length&&!V[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(V.filter(D=>null!=D.reverseOf).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");V.forEach(D=>{if(D.isAnchor||!D.anchorEpoch&&!D.reverseOf){if(f)throw new RangeError("Invalid era data: cannot have multiple anchor eras");f=D,D.anchorEpoch={year:D.hasYearZero?0:1}}else if(!D.name)throw new RangeError("If era name is blank, it must be the anchor era")}),V=V.filter(D=>D.name),V.forEach(D=>{const{reverseOf:q}=D;if(q){const De=V.find(Re=>Re.name===q);if(void 0===De)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${q}`);D.reverseOf=De,D.anchorEpoch=De.anchorEpoch,D.isoEpoch=De.isoEpoch}void 0===D.anchorEpoch.month&&(D.anchorEpoch.month=1),void 0===D.anchorEpoch.day&&(D.anchorEpoch.day=1)}),Jk.call(V,(D,q)=>{if(D.reverseOf)return 1;if(q.reverseOf)return-1;if(!D.isoEpoch||!q.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return q.isoEpoch.year-D.isoEpoch.year});const $=V[V.length-1].reverseOf;if($&&$!==V[V.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return V.forEach((D,q)=>{D.genericName="era"+(V.length-1-q)}),{eras:V,anchorEra:f||V[0]}}(n);this.anchorEra=l,this.eras=i}inLeapYear(t){const{year:n}=this.estimateIsoDate({month:1,day:1,year:t.year});return d3(n)}monthsInYear(){return 12}minimumMonthLength(t){const{month:n}=t;return 2===n?this.inLeapYear(t)?29:28:[4,6,9,11].indexOf(n)>=0?30:31}maximumMonthLength(t){return this.minimumMonthLength(t)}completeEraYear(t){const n=(f,V)=>{const $=t[f];if(null!=$&&$!=V)throw new RangeError(`Input ${f} ${$} doesn't match calculated value ${V}`)},i=f=>{let V;const $={...t,year:f},D=this.eras.find((q,De)=>{if(De===this.eras.length-1){if(q.reverseOf){if(f>0)throw new RangeError(`Signed year ${f} is invalid for era ${q.name}`);return V=q.anchorEpoch.year-f,!0}return V=f-q.anchorEpoch.year+(q.hasYearZero?0:1),!0}return this.compareCalendarDates($,q.anchorEpoch)>=0&&(V=f-q.anchorEpoch.year+(q.hasYearZero?0:1),!0)});if(!D)throw new RangeError(`Year ${f} was not matched by any era`);return{eraYear:V,era:D.name}};let{year:l,eraYear:h,era:c}=t;if(null!=l)({eraYear:h,era:c}=i(l)),n("era",c),n("eraYear",h);else{if(null==h)throw new RangeError("Either `year` or `eraYear` and `era` are required");{const f=void 0===c?void 0:this.eras.find(V=>V.name===c||V.genericName===c);if(!f)throw new RangeError(`Era ${c} (ISO year ${h}) was not matched by any era`);if(h<1&&f.reverseOf)throw new RangeError(`Years in ${c} era must be positive, not ${l}`);l=f.reverseOf?f.anchorEpoch.year-h:h+f.anchorEpoch.year-(f.hasYearZero?0:1),n("year",l),({eraYear:h,era:c}=i(l))}}return{...t,year:l,eraYear:h,era:c}}adjustCalendarDate(t,n,i="constrain"){let l=t;const{month:h,monthCode:c}=l;return void 0===h&&(l={...l,month:Jb(c)}),this.validateCalendarDate(l),l=this.completeEraYear(l),super.adjustCalendarDate(l,n,i)}estimateIsoDate(t){const n=this.adjustCalendarDate(t),{year:i,month:l,day:h}=n,{anchorEra:c}=this;return kb(i+c.isoEpoch.year-(c.hasYearZero?0:1),l,h,"constrain")}checkIcuBugs(t){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&vp(t.year,t.month,t.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}}class N1 extends Eg{constructor(t,n){super(t,n)}inLeapYear(t){const{year:n}=t;return(n+1)%4==0}monthsInYear(){return 13}minimumMonthLength(t){const{month:n}=t;return 13===n?this.inLeapYear(t)?6:5:30}maximumMonthLength(t){return this.minimumMonthLength(t)}}class u3 extends N1{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}}class sP extends N1{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}}class f3 extends N1{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}}class aP extends Eg{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}}class cP extends Eg{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}}class h3 extends Eg{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(t){let{era:n,eraYear:i}=t;return"bc"!==n&&"b"!==n||(n="bce"),"ad"!==n&&"a"!==n||(n="ce"),{era:n,eraYear:i}}}class p3 extends Eg{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long",this.erasBeginMidYear=!0}reviseIntlEra(t,n){const{era:i,eraYear:l}=t,{year:h}=n;return this.eras.find(c=>c.name===i)?{era:i,eraYear:l}:h<1?{era:"bce",eraYear:1-h}:{era:"ce",eraYear:h}}}class L1 extends wg{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(t,n){const i=this.getMonthList(t.year,n);return 13===R0(i).length}monthsInYear(t,n){return this.inLeapYear(t,n)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(t,n){if(void 0===t)throw new TypeError("Missing year");const i=JSON.stringify({func:"getMonthList",calendarYear:t,id:this.id}),l=n.get(i);if(l)return l;const h=this.getFormatter(),c=(et,ft)=>{const at=l3({isoYear:et,isoMonth:2,isoDay:1}),dt=new Date(at);dt.setUTCDate(ft+1);const Mt=h.formatToParts(dt),Pt=Mt.find(Wt=>"month"===Wt.type).value,Dt=+Mt.find(Wt=>"day"===Wt.type).value;let Kt=Mt.find(Wt=>"relatedYear"===Wt.type);if(void 0===Kt)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return Kt=+Kt.value,{calendarMonthString:Pt,calendarDay:Dt,calendarYearToVerify:Kt}};let f=17,{calendarMonthString:V,calendarDay:$,calendarYearToVerify:D}=c(t,f);"1"!==V&&(f+=29,({calendarMonthString:V,calendarDay:$}=c(t,f))),f-=$-5;const q={};let De,Re,Oe=1,je=!1;do{({calendarMonthString:V,calendarDay:$,calendarYearToVerify:D}=c(t,f)),De&&(q[Re].daysInMonth=De+30-$),D!==t?je=!0:(q[V]={monthIndex:Oe++},f+=30),De=$,Re=V}while(!je);return q[Re].daysInMonth=De+30-$,n.set(i,q),q}estimateIsoDate(t){const{year:n,month:i}=t;return{year:n,month:i>=12?12:i+1,day:1}}adjustCalendarDate(t,n,i="constrain",l=!1){let{year:h,month:c,monthExtra:f,day:V,monthCode:$,eraYear:D}=t;if(l){if(h=D,f&&"bis"!==f)throw new RangeError(`Unexpected leap month suffix: ${f}`);const q=Sp(c,void 0!==f),De=`${c}${f||""}`,Re=this.getMonthList(h,n)[De];if(void 0===Re)throw new RangeError(`Unmatched month ${De} in Chinese year ${h}`);return c=Re.monthIndex,{year:h,month:c,day:V,era:void 0,eraYear:D,monthCode:q}}if(this.validateCalendarDate(t),void 0===h&&(h=D),void 0===D&&(D=h),void 0===c){const q=this.getMonthList(h,n);let De=$.replace("L","bis").slice(1);"0"===De[0]&&(De=De.slice(1));let Re=q[De];if(c=Re&&Re.monthIndex,void 0===c&&$.endsWith("L")&&"M13L"!=$&&"constrain"===i){let Oe=$.slice(1,-1);"0"===Oe[0]&&(Oe=Oe.slice(1)),Re=q[Oe],Re&&(c=Re.monthIndex,$=Sp(Oe))}if(void 0===c)throw new RangeError(`Unmatched month ${$} in Chinese year ${h}`)}else if(void 0===$){const q=this.getMonthList(h,n),De=R0(q),Re=De.length;"reject"===i?(zc(c,1,Re),zc(V,1,this.maximumMonthLength())):(c=Ad(c,1,Re),V=Ad(V,1,this.maximumMonthLength()));const Oe=De.find(([,je])=>je.monthIndex===c);if(void 0===Oe)throw new RangeError(`Invalid month ${c} in Chinese year ${h}`);$=Sp(Oe[0].replace("bis",""),-1!==Oe[0].indexOf("bis"))}else{const q=this.getMonthList(h,n);let De=$.replace("L","bis").slice(1);"0"===De[0]&&(De=De.slice(1));const Re=q[De];if(!Re)throw new RangeError(`Unmatched monthCode ${$} in Chinese year ${h}`);if(c!==Re.monthIndex)throw new RangeError(`monthCode ${$} doesn't correspond to month ${c} in Chinese year ${h}`)}return{...t,year:h,eraYear:D,month:c,monthCode:$,day:V}}}class US extends L1{constructor(){super(...arguments),this.id="chinese"}}class lP extends L1{constructor(){super(...arguments),this.id="dangi"}}class FS{constructor(t){this.helper=t}dateFromFields(t,n,i){const l=new Zs,h=yo(t,this.fields(["day","month","monthCode","year"]),[]),c=ka(n),{year:f,month:V,day:$}=this.helper.calendarToIsoDate(h,c,l),D=xd(f,V,$,i);return l.setObject(D),D}yearMonthFromFields(t,n,i){const l=new Zs,h=yo(t,this.fields(["month","monthCode","year"]),[]),c=ka(n),{year:f,month:V,day:$}=this.helper.calendarToIsoDate({...h,day:1},c,l),D=cp(f,V,i,$);return l.setObject(D),D}monthDayFromFields(t,n,i){const l=new Zs,h=yo(t,this.fields(["day","month","monthCode","year"]),[]),c=ka(n),{year:f,month:V,day:$}=this.helper.monthDayFromFields(h,c,l),D=og(V,$,i,f);return l.setObject(D),D}fields(t){let n=t;return o3.call(n,"year")&&(n=[...n,"era","eraYear"]),n}fieldKeysToIgnore(t){const n=new a3;for(let i=0;i<t.length;i++){const l=t[i];switch(Wr(Hc,n,[l]),l){case"era":Wr(Hc,n,["eraYear"]),Wr(Hc,n,["year"]);break;case"eraYear":Wr(Hc,n,["era"]),Wr(Hc,n,["year"]);break;case"year":Wr(Hc,n,["era"]),Wr(Hc,n,["eraYear"]);break;case"month":Wr(Hc,n,["monthCode"]),this.helper.erasBeginMidYear&&(Wr(Hc,n,["era"]),Wr(Hc,n,["eraYear"]));break;case"monthCode":Wr(Hc,n,["month"]),this.helper.erasBeginMidYear&&(Wr(Hc,n,["era"]),Wr(Hc,n,["eraYear"]));break;case"day":this.helper.erasBeginMidYear&&(Wr(Hc,n,["era"]),Wr(Hc,n,["eraYear"]))}}return[...Wr(c3,n,[])]}dateAdd(t,n,i,l,h,c,f){const V=Zs.getCacheForObject(t),$=this.helper.temporalToCalendarDate(t,V),D=this.helper.addCalendar($,{years:n,months:i,weeks:l,days:h},c,V),q=this.helper.calendarToIsoDate(D,"constrain",V),{year:De,month:Re,day:Oe}=q,je=xd(De,Re,Oe,f);return new Zs(V).setObject(je),je}dateUntil(t,n,i){const l=Zs.getCacheForObject(t),h=Zs.getCacheForObject(n),c=this.helper.temporalToCalendarDate(t,l),f=this.helper.temporalToCalendarDate(n,h);return this.helper.untilCalendar(c,f,i,l)}year(t){const n=Zs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).year}month(t){const n=Zs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).month}day(t){const n=Zs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).day}era(t){if(!this.helper.hasEra)return;const n=Zs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).era}eraYear(t){if(!this.helper.hasEra)return;const n=Zs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).eraYear}monthCode(t){const n=Zs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).monthCode}dayOfWeek(t){return $s.iso8601.dayOfWeek(t)}dayOfYear(t){const n=Zs.getCacheForObject(t),i=this.helper.isoToCalendarDate(t,n),l=this.helper.startOfCalendarYear(i);return this.helper.calendarDaysUntil(l,i,n)+1}weekOfYear(t){return $s.iso8601.weekOfYear(t)}yearOfWeek(t){return $s.iso8601.yearOfWeek(t)}daysInWeek(t){return $s.iso8601.daysInWeek(t)}daysInMonth(t){const n=Zs.getCacheForObject(t),i=this.helper.temporalToCalendarDate(t,n),l=this.helper.maximumMonthLength(i);if(l===this.helper.minimumMonthLength(i))return l;const h=this.helper.startOfCalendarMonth(i),c=this.helper.addMonthsCalendar(h,1,"constrain",n);return this.helper.calendarDaysUntil(h,c,n)}daysInYear(t){let n=t;_c(n,Gr)||(n=hs(n));const i=Zs.getCacheForObject(n),l=this.helper.temporalToCalendarDate(n,i),h=this.helper.startOfCalendarYear(l),c=this.helper.addCalendar(h,{years:1},"constrain",i);return this.helper.calendarDaysUntil(h,c,i)}monthsInYear(t){const n=Zs.getCacheForObject(t),i=this.helper.temporalToCalendarDate(t,n);return this.helper.monthsInYear(i,n)}inLeapYear(t){let n=t;_c(n,Gr)||(n=hs(n));const i=Zs.getCacheForObject(n),l=this.helper.temporalToCalendarDate(n,i);return this.helper.inLeapYear(l,i)}}for(const r of[NS,iP,f3,u3,sP,US,lP,aP,oP,cP,h3,p3,LS,Qk,eP,tP,nP,rP]){const t=new r;$s[t.id]=new FS(t)}class xg{constructor(t,n,i,l="iso8601"){ap(this,Co(t),Co(n),Co(i),Jl(l))}get calendarId(){if(!bo(this))throw new TypeError("invalid receiver");return rc(ze(this,Qn))}get era(){if(!bo(this))throw new TypeError("invalid receiver");return up(ze(this,Qn),this)}get eraYear(){if(!bo(this))throw new TypeError("invalid receiver");return fp(ze(this,Qn),this)}get year(){if(!bo(this))throw new TypeError("invalid receiver");return lp(ze(this,Qn),this)}get month(){if(!bo(this))throw new TypeError("invalid receiver");return dp(ze(this,Qn),this)}get monthCode(){if(!bo(this))throw new TypeError("invalid receiver");return Sh(ze(this,Qn),this)}get day(){if(!bo(this))throw new TypeError("invalid receiver");return Mh(ze(this,Qn),this)}get dayOfWeek(){if(!bo(this))throw new TypeError("invalid receiver");return om(ze(this,Qn),this)}get dayOfYear(){if(!bo(this))throw new TypeError("invalid receiver");return sm(ze(this,Qn),this)}get weekOfYear(){if(!bo(this))throw new TypeError("invalid receiver");return b1(ze(this,Qn),this)}get yearOfWeek(){if(!bo(this))throw new TypeError("invalid receiver");return w1(ze(this,Qn),this)}get daysInWeek(){if(!bo(this))throw new TypeError("invalid receiver");return _1(ze(this,Qn),this)}get daysInMonth(){if(!bo(this))throw new TypeError("invalid receiver");return Nb(ze(this,Qn),this)}get daysInYear(){if(!bo(this))throw new TypeError("invalid receiver");return Lb(ze(this,Qn),this)}get monthsInYear(){if(!bo(this))throw new TypeError("invalid receiver");return Ub(ze(this,Qn),this)}get inLeapYear(){if(!bo(this))throw new TypeError("invalid receiver");return Fb(ze(this,Qn),this)}with(t,n){if(!bo(this))throw new TypeError("invalid receiver");if(!Ps(t))throw new TypeError("invalid argument");rm(t);const i=Oo(n),l=ze(this,Qn),h=Oa(l,["day","month","monthCode","year"]);let c=yo(this,h,[]);return c=af(l,c,yo(t,h,"partial")),c=yo(c,h,[]),Sd(l,c,i)}withCalendar(t){if(!bo(this))throw new TypeError("invalid receiver");const n=Jl(t);return new xg(ze(this,Gr),ze(this,Yr),ze(this,Qr),n)}add(t,n){if(!bo(this))throw new TypeError("invalid receiver");const i=rg(t),l=Oo(n);return uc(ze(this,Qn),this,i,l)}subtract(t,n){if(!bo(this))throw new TypeError("invalid receiver");const i=HD(rg(t)),l=Oo(n);return uc(ze(this,Qn),this,i,l)}until(t,n){if(!bo(this))throw new TypeError("invalid receiver");return wS("until",this,t,n)}since(t,n){if(!bo(this))throw new TypeError("invalid receiver");return wS("since",this,t,n)}equals(t){if(!bo(this))throw new TypeError("invalid receiver");const n=hs(t);for(const i of[Gr,Yr,Qr])if(ze(this,i)!==ze(n,i))return!1;return jb(ze(this,Qn),ze(n,Qn))}toString(t){if(!bo(this))throw new TypeError("invalid receiver");return $D(this,m1(Oo(t)))}toJSON(){if(!bo(this))throw new TypeError("invalid receiver");return $D(this)}toLocaleString(t,n){if(!bo(this))throw new TypeError("invalid receiver");return new xp(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(t){if(!bo(this))throw new TypeError("invalid receiver");const n=ze(this,Gr),i=ze(this,Yr),l=ze(this,Qr),h=ze(this,Qn);if(void 0===t)return Yl(n,i,l,0,0,0,0,0,0,h);const c=sp(t);return Yl(n,i,l,ze(c,qi),ze(c,to),ze(c,Qi),ze(c,no),ze(c,ro),ze(c,lo),h)}toZonedDateTime(t){if(!bo(this))throw new TypeError("invalid receiver");let n,i;if(Ps(t))if(rf(t))n=t;else{const Oe=t.timeZone;void 0===Oe?n=xc(t):(n=xc(Oe),i=t.plainTime)}else n=xc(t);const l=ze(this,Gr),h=ze(this,Yr),c=ze(this,Qr),f=ze(this,Qn);let V=0,$=0,D=0,q=0,De=0,Re=0;return void 0!==i&&(i=sp(i),V=ze(i,qi),$=ze(i,to),D=ze(i,Qi),q=ze(i,no),De=ze(i,ro),Re=ze(i,lo)),Pa(ze(Tl(n,Yl(l,h,c,V,$,D,q,De,Re,f),"compatible"),Ei),n,f)}toPlainYearMonth(){if(!bo(this))throw new TypeError("invalid receiver");const t=ze(this,Qn);return hp(t,yo(this,Oa(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!bo(this))throw new TypeError("invalid receiver");const t=ze(this,Qn);return ag(t,yo(this,Oa(t,["day","monthCode"]),[]))}getISOFields(){if(!bo(this))throw new TypeError("invalid receiver");return{calendar:ze(this,Qn),isoDay:ze(this,Qr),isoMonth:ze(this,Yr),isoYear:ze(this,Gr)}}getCalendar(){if(!bo(this))throw new TypeError("invalid receiver");return mu(ze(this,Qn))}static from(t,n){const i=Oo(n);return bo(t)?(ka(i),xd(ze(t,Gr),ze(t,Yr),ze(t,Qr),ze(t,Qn))):hs(t,i)}static compare(t,n){const i=hs(t),l=hs(n);return vp(ze(i,Gr),ze(i,Yr),ze(i,Qr),ze(l,Gr),ze(l,Yr),ze(l,Qr))}}ef(xg,"Temporal.PlainDate");class Sg{constructor(t,n,i,l=0,h=0,c=0,f=0,V=0,$=0,D="iso8601"){LD(this,Co(t),Co(n),Co(i),void 0===l?0:Co(l),void 0===h?0:Co(h),void 0===c?0:Co(c),void 0===f?0:Co(f),void 0===V?0:Co(V),void 0===$?0:Co($),Jl(D))}get calendarId(){if(!Li(this))throw new TypeError("invalid receiver");return rc(ze(this,Qn))}get year(){if(!Li(this))throw new TypeError("invalid receiver");return lp(ze(this,Qn),this)}get month(){if(!Li(this))throw new TypeError("invalid receiver");return dp(ze(this,Qn),this)}get monthCode(){if(!Li(this))throw new TypeError("invalid receiver");return Sh(ze(this,Qn),this)}get day(){if(!Li(this))throw new TypeError("invalid receiver");return Mh(ze(this,Qn),this)}get hour(){if(!Li(this))throw new TypeError("invalid receiver");return ze(this,qi)}get minute(){if(!Li(this))throw new TypeError("invalid receiver");return ze(this,to)}get second(){if(!Li(this))throw new TypeError("invalid receiver");return ze(this,Qi)}get millisecond(){if(!Li(this))throw new TypeError("invalid receiver");return ze(this,no)}get microsecond(){if(!Li(this))throw new TypeError("invalid receiver");return ze(this,ro)}get nanosecond(){if(!Li(this))throw new TypeError("invalid receiver");return ze(this,lo)}get era(){if(!Li(this))throw new TypeError("invalid receiver");return up(ze(this,Qn),this)}get eraYear(){if(!Li(this))throw new TypeError("invalid receiver");return fp(ze(this,Qn),this)}get dayOfWeek(){if(!Li(this))throw new TypeError("invalid receiver");return om(ze(this,Qn),this)}get dayOfYear(){if(!Li(this))throw new TypeError("invalid receiver");return sm(ze(this,Qn),this)}get weekOfYear(){if(!Li(this))throw new TypeError("invalid receiver");return b1(ze(this,Qn),this)}get yearOfWeek(){if(!Li(this))throw new TypeError("invalid receiver");return w1(ze(this,Qn),this)}get daysInWeek(){if(!Li(this))throw new TypeError("invalid receiver");return _1(ze(this,Qn),this)}get daysInYear(){if(!Li(this))throw new TypeError("invalid receiver");return Lb(ze(this,Qn),this)}get daysInMonth(){if(!Li(this))throw new TypeError("invalid receiver");return Nb(ze(this,Qn),this)}get monthsInYear(){if(!Li(this))throw new TypeError("invalid receiver");return Ub(ze(this,Qn),this)}get inLeapYear(){if(!Li(this))throw new TypeError("invalid receiver");return Fb(ze(this,Qn),this)}with(t,n){if(!Li(this))throw new TypeError("invalid receiver");if(!Ps(t))throw new TypeError("invalid argument");rm(t);const i=Oo(n),l=ze(this,Qn),h=Oa(l,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);let c=yo(this,h,[]);c=af(l,c,yo(t,h,"partial")),c=yo(c,h,[]);const{year:f,month:V,day:$,hour:D,minute:q,second:De,millisecond:Re,microsecond:Oe,nanosecond:je}=Ob(l,c,i);return Yl(f,V,$,D,q,De,Re,Oe,je,l)}withPlainTime(t){if(!Li(this))throw new TypeError("invalid receiver");const n=ze(this,Gr),i=ze(this,Yr),l=ze(this,Qr),h=ze(this,Qn);if(void 0===t)return Yl(n,i,l,0,0,0,0,0,0,h);const c=sp(t);return Yl(n,i,l,ze(c,qi),ze(c,to),ze(c,Qi),ze(c,no),ze(c,ro),ze(c,lo),h)}withPlainDate(t){if(!Li(this))throw new TypeError("invalid receiver");const n=hs(t),i=ze(n,Gr),l=ze(n,Yr),h=ze(n,Qr);let c=ze(n,Qn);const f=ze(this,qi),V=ze(this,to),$=ze(this,Qi),D=ze(this,no),q=ze(this,ro),De=ze(this,lo);return c=x1(ze(this,Qn),c),Yl(i,l,h,f,V,$,D,q,De,c)}withCalendar(t){if(!Li(this))throw new TypeError("invalid receiver");const n=Jl(t);return new Sg(ze(this,Gr),ze(this,Yr),ze(this,Qr),ze(this,qi),ze(this,to),ze(this,Qi),ze(this,no),ze(this,ro),ze(this,lo),n)}add(t,n){if(!Li(this))throw new TypeError("invalid receiver");return Wb("add",this,t,n)}subtract(t,n){if(!Li(this))throw new TypeError("invalid receiver");return Wb("subtract",this,t,n)}until(t,n){if(!Li(this))throw new TypeError("invalid receiver");return _S("until",this,t,n)}since(t,n){if(!Li(this))throw new TypeError("invalid receiver");return _S("since",this,t,n)}round(t){if(!Li(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?C0("smallestUnit",t):Oo(t),i=ng(n),l=sf(n,"halfExpand"),h=Ed(n,"smallestUnit","time",_0,["day"]),c={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[h];im(i,c,1===c);let f=ze(this,Gr),V=ze(this,Yr),$=ze(this,Qr),D=ze(this,qi),q=ze(this,to),De=ze(this,Qi),Re=ze(this,no),Oe=ze(this,ro),je=ze(this,lo);return({year:f,month:V,day:$,hour:D,minute:q,second:De,millisecond:Re,microsecond:Oe,nanosecond:je}=AS(f,V,$,D,q,De,Re,Oe,je,i,h,l)),Yl(f,V,$,D,q,De,Re,Oe,je,ze(this,Qn))}equals(t){if(!Li(this))throw new TypeError("invalid receiver");const n=x0(t);for(const i of[Gr,Yr,Qr,qi,to,Qi,no,ro,lo])if(ze(this,i)!==ze(n,i))return!1;return jb(ze(this,Qn),ze(n,Qn))}toString(t){if(!Li(this))throw new TypeError("invalid receiver");const n=Oo(t),i=m1(n),l=w0(n),h=sf(n,"trunc"),c=Ed(n,"smallestUnit","time",void 0);if("hour"===c)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:f,unit:V,increment:$}=Pb(c,l);return cS(this,f,i,{unit:V,increment:$,roundingMode:h})}toJSON(){if(!Li(this))throw new TypeError("invalid receiver");return cS(this,"auto")}toLocaleString(t,n){if(!Li(this))throw new TypeError("invalid receiver");return new xp(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(t,n){if(!Li(this))throw new TypeError("invalid receiver");const i=xc(t);return Pa(ze(Tl(i,this,b0(Oo(n))),Ei),i,ze(this,Qn))}toPlainDate(){if(!Li(this))throw new TypeError("invalid receiver");return cg(this)}toPlainYearMonth(){if(!Li(this))throw new TypeError("invalid receiver");const t=ze(this,Qn);return hp(t,yo(this,Oa(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Li(this))throw new TypeError("invalid receiver");const t=ze(this,Qn);return ag(t,yo(this,Oa(t,["day","monthCode"]),[]))}toPlainTime(){if(!Li(this))throw new TypeError("invalid receiver");return M1(this)}getISOFields(){if(!Li(this))throw new TypeError("invalid receiver");return{calendar:ze(this,Qn),isoDay:ze(this,Qr),isoHour:ze(this,qi),isoMicrosecond:ze(this,ro),isoMillisecond:ze(this,no),isoMinute:ze(this,to),isoMonth:ze(this,Yr),isoNanosecond:ze(this,lo),isoSecond:ze(this,Qi),isoYear:ze(this,Gr)}}getCalendar(){if(!Li(this))throw new TypeError("invalid receiver");return mu(ze(this,Qn))}static from(t,n){const i=Oo(n);return Li(t)?(ka(i),Yl(ze(t,Gr),ze(t,Yr),ze(t,Qr),ze(t,qi),ze(t,to),ze(t,Qi),ze(t,no),ze(t,ro),ze(t,lo),ze(t,Qn))):x0(t,i)}static compare(t,n){const i=x0(t),l=x0(n);for(const h of[Gr,Yr,Qr,qi,to,Qi,no,ro,lo]){const c=ze(i,h),f=ze(l,h);if(c!==f)return wp(c-f)}return 0}}ef(Sg,"Temporal.PlainDateTime");class B0{constructor(t=0,n=0,i=0,l=0,h=0,c=0,f=0,V=0,$=0,D=0){const q=void 0===t?0:Ca(t),De=void 0===n?0:Ca(n),Re=void 0===i?0:Ca(i),Oe=void 0===l?0:Ca(l),je=void 0===h?0:Ca(h),et=void 0===c?0:Ca(c),ft=void 0===f?0:Ca(f),at=void 0===V?0:Ca(V),dt=void 0===$?0:Ca($),Mt=void 0===D?0:Ca(D);gS(q,De,Re,Oe,je,et,ft,at,dt,Mt),Eh(this),po(this,il,q),po(this,wc,De),po(this,Vl,Re),po(this,zl,Oe),po(this,Hl,je),po(this,Wl,et),po(this,Gl,ft),po(this,Zl,at),po(this,Xl,dt),po(this,Al,Mt)}get years(){if(!Fs(this))throw new TypeError("invalid receiver");return ze(this,il)}get months(){if(!Fs(this))throw new TypeError("invalid receiver");return ze(this,wc)}get weeks(){if(!Fs(this))throw new TypeError("invalid receiver");return ze(this,Vl)}get days(){if(!Fs(this))throw new TypeError("invalid receiver");return ze(this,zl)}get hours(){if(!Fs(this))throw new TypeError("invalid receiver");return ze(this,Hl)}get minutes(){if(!Fs(this))throw new TypeError("invalid receiver");return ze(this,Wl)}get seconds(){if(!Fs(this))throw new TypeError("invalid receiver");return ze(this,Gl)}get milliseconds(){if(!Fs(this))throw new TypeError("invalid receiver");return ze(this,Zl)}get microseconds(){if(!Fs(this))throw new TypeError("invalid receiver");return ze(this,Xl)}get nanoseconds(){if(!Fs(this))throw new TypeError("invalid receiver");return ze(this,Al)}get sign(){if(!Fs(this))throw new TypeError("invalid receiver");return Th(ze(this,il),ze(this,wc),ze(this,Vl),ze(this,zl),ze(this,Hl),ze(this,Wl),ze(this,Gl),ze(this,Zl),ze(this,Xl),ze(this,Al))}get blank(){if(!Fs(this))throw new TypeError("invalid receiver");return 0===Th(ze(this,il),ze(this,wc),ze(this,Vl),ze(this,zl),ze(this,Hl),ze(this,Wl),ze(this,Gl),ze(this,Zl),ze(this,Xl),ze(this,Al))}with(t){if(!Fs(this))throw new TypeError("invalid receiver");const n=yo(t,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial"),{years:i=ze(this,il),months:l=ze(this,wc),weeks:h=ze(this,Vl),days:c=ze(this,zl),hours:f=ze(this,Hl),minutes:V=ze(this,Wl),seconds:$=ze(this,Gl),milliseconds:D=ze(this,Zl),microseconds:q=ze(this,Xl),nanoseconds:De=ze(this,Al)}=n;return new B0(i,l,h,c,f,V,$,D,q,De)}negated(){if(!Fs(this))throw new TypeError("invalid receiver");return HD(this)}abs(){if(!Fs(this))throw new TypeError("invalid receiver");return new B0(Math.abs(ze(this,il)),Math.abs(ze(this,wc)),Math.abs(ze(this,Vl)),Math.abs(ze(this,zl)),Math.abs(ze(this,Hl)),Math.abs(ze(this,Wl)),Math.abs(ze(this,Gl)),Math.abs(ze(this,Zl)),Math.abs(ze(this,Xl)),Math.abs(ze(this,Al)))}add(t,n){if(!Fs(this))throw new TypeError("invalid receiver");return k1("add",this,t,n)}subtract(t,n){if(!Fs(this))throw new TypeError("invalid receiver");return k1("subtract",this,t,n)}round(t){if(!Fs(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");let n=ze(this,il),i=ze(this,wc),l=ze(this,Vl),h=ze(this,zl),c=ze(this,Hl),f=ze(this,Wl),V=ze(this,Gl),$=ze(this,Zl),D=ze(this,Xl),q=ze(this,Al),De=oS(n,i,l,h,c,f,V,$,D,q);const Re="string"==typeof t?C0("smallestUnit",t):Oo(t);let Oe=Ed(Re,"largestUnit","datetime",void 0,["auto"]),je=y1(Re);const et=ng(Re),ft=sf(Re,"halfExpand");let at=Ed(Re,"smallestUnit","datetime",void 0),dt=!0;at||(dt=!1,at="nanosecond"),De=E0(De,at);let Mt=!0;if(Oe||(Mt=!1,Oe=De),"auto"===Oe&&(Oe=De),!dt&&!Mt)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(E0(Oe,at)!==Oe)throw new RangeError(`largestUnit ${Oe} cannot be smaller than smallestUnit ${at}`);const Pt={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[at];return void 0!==Pt&&im(et,Pt,!1),({years:n,months:i,weeks:l,days:h}=Hb(n,i,l,h,Oe,je)),({years:n,months:i,weeks:l,days:h,hours:c,minutes:f,seconds:V,milliseconds:$,microseconds:D,nanoseconds:q}=gp(n,i,l,h,c,f,V,$,D,q,et,at,ft,je)),({years:n,months:i,weeks:l,days:h,hours:c,minutes:f,seconds:V,milliseconds:$,microseconds:D,nanoseconds:q}=QD(n,i,l,h,c,f,V,$,D,q,et,at,ft,je)),({days:h,hours:c,minutes:f,seconds:V,milliseconds:$,microseconds:D,nanoseconds:q}=df(h,c,f,V,$,D,q,Oe,je)),({years:n,months:i,weeks:l,days:h}=function(Kt,Wt,En,Tn,Rn,rr){const Pn=Rr("%Temporal.Duration%"),zn=Th(Kt,Wt,En,Tn,0,0,0,0,0,0);if(0===zn)return{years:Kt,months:Wt,weeks:En,days:Tn};const on=Ct.BigInt(zn);let pn,gn,Nn=Ct.BigInt(Kt),xn=Ct.BigInt(Wt),jn=Ct.BigInt(En),lr=Ct.BigInt(Tn);rr&&(gn=hs(rr),pn=ze(gn,Qn));const cr=new Pn(zn),fn=new Pn(0,zn),dr=new Pn(0,0,zn);switch(Rn){case"year":{if(!pn)throw new RangeError("a starting point is required for years balancing");const Er="string"!=typeof pn?Go(pn,"dateAdd"):void 0;let Xn,kn,qn;for(({relativeTo:Xn,days:kn}=Sc(pn,gn,cr,Er));Ct.greaterThanOrEqual(zd(lr),Ct.BigInt(Cs(kn)));)lr=Ct.subtract(lr,Ct.BigInt(kn)),Nn=Ct.add(Nn,on),gn=Xn,({relativeTo:Xn,days:kn}=Sc(pn,gn,cr,Er));for(({relativeTo:Xn,days:qn}=Sc(pn,gn,fn,Er));Ct.greaterThanOrEqual(zd(lr),Ct.BigInt(Cs(qn)));)lr=Ct.subtract(lr,Ct.BigInt(qn)),xn=Ct.add(xn,on),gn=Xn,({relativeTo:Xn,days:qn}=Sc(pn,gn,fn,Er));Xn=uc(pn,gn,cr,void 0,Er);const mr="string"!=typeof pn?Go(pn,"dateUntil"):void 0,Cr=Ec(null);Cr.largestUnit="month";let Pr=pu(pn,gn,Xn,Cr,mr),Mr=ze(Pr,wc);for(;Ct.greaterThanOrEqual(zd(xn),Ct.BigInt(Cs(Mr)));){xn=Ct.subtract(xn,Ct.BigInt(Mr)),Nn=Ct.add(Nn,on),gn=Xn,Xn=uc(pn,gn,cr,void 0,Er);const Tr=Ec(null);Tr.largestUnit="month",Pr=pu(pn,gn,Xn,Tr,mr),Mr=ze(Pr,wc)}break}case"month":{if(!pn)throw new RangeError("a starting point is required for months balancing");const Er="string"!=typeof pn?Go(pn,"dateAdd"):void 0;let Xn,kn;for(({relativeTo:Xn,days:kn}=Sc(pn,gn,fn,Er));Ct.greaterThanOrEqual(zd(lr),Ct.BigInt(Cs(kn)));)lr=Ct.subtract(lr,Ct.BigInt(kn)),xn=Ct.add(xn,on),gn=Xn,({relativeTo:Xn,days:kn}=Sc(pn,gn,fn,Er));break}case"week":{if(!pn)throw new RangeError("a starting point is required for weeks balancing");const Er="string"!=typeof pn?Go(pn,"dateAdd"):void 0;let Xn,kn;for(({relativeTo:Xn,days:kn}=Sc(pn,gn,dr,Er));Ct.greaterThanOrEqual(zd(lr),Ct.BigInt(Cs(kn)));)lr=Ct.subtract(lr,Ct.BigInt(kn)),jn=Ct.add(jn,on),gn=Xn,({relativeTo:Xn,days:kn}=Sc(pn,gn,dr,Er));break}}return{years:Ct.toNumber(Nn),months:Ct.toNumber(xn),weeks:Ct.toNumber(jn),days:Ct.toNumber(lr)}}(n,i,l,h,Oe,je)),new B0(n,i,l,h,c,f,V,$,D,q)}total(t){if(!Fs(this))throw new TypeError("invalid receiver");let n=ze(this,il),i=ze(this,wc),l=ze(this,Vl),h=ze(this,zl),c=ze(this,Hl),f=ze(this,Wl),V=ze(this,Gl),$=ze(this,Zl),D=ze(this,Xl),q=ze(this,Al);if(void 0===t)throw new TypeError("options argument is required");const De="string"==typeof t?C0("unit",t):Oo(t),Re=y1(De),Oe=Ed(De,"unit","datetime",_0);let je;({years:n,months:i,weeks:l,days:h}=Hb(n,i,l,h,Oe,Re)),ei(Re)&&(je=TS(Re,n,i,l,0));let et=mS(h,c,f,V,$,D,q,Oe,je);if("positive overflow"===et)return 1/0;if("negative overflow"===et)return-1/0;({days:h,hours:c,minutes:f,seconds:V,milliseconds:$,microseconds:D,nanoseconds:q}=et);const{total:ft}=gp(n,i,l,h,c,f,V,$,D,q,1,Oe,"trunc",Re);return ft}toString(t){if(!Fs(this))throw new TypeError("invalid receiver");const n=Oo(t),i=w0(n),l=sf(n,"trunc"),h=Ed(n,"smallestUnit","time",void 0);if("hour"===h||"minute"===h)throw new RangeError('smallestUnit must be a time unit other than "hours" or "minutes"');const{precision:c,unit:f,increment:V}=Pb(h,i);return aS(this,c,{unit:f,increment:V,roundingMode:l})}toJSON(){if(!Fs(this))throw new TypeError("invalid receiver");return aS(this)}toLocaleString(t,n){if(!Fs(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&void 0!==Intl.DurationFormat?new Intl.DurationFormat(t,n).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),aS(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(t){return Fs(t)?new B0(ze(t,il),ze(t,wc),ze(t,Vl),ze(t,zl),ze(t,Hl),ze(t,Wl),ze(t,Gl),ze(t,Zl),ze(t,Xl),ze(t,Al)):rg(t)}static compare(t,n,i){const l=rg(t),h=rg(n),c=y1(Oo(i)),f=ze(l,il),V=ze(l,wc),$=ze(l,Vl);let D=ze(l,zl);const q=ze(l,Hl),De=ze(l,Wl),Re=ze(l,Gl),Oe=ze(l,Zl),je=ze(l,Xl);let et=ze(l,Al);const ft=ze(h,il),at=ze(h,wc),dt=ze(h,Vl);let Mt=ze(h,zl);const Pt=ze(h,Hl),Dt=ze(h,Wl),Kt=ze(h,Gl),Wt=ze(h,Zl),En=ze(h,Xl);let Tn=ze(h,Al);const Rn=zD(c,f,V,$,D),rr=zD(c,ft,at,dt,Mt);0===f&&0===ft&&0===V&&0===at&&0===$&&0===dt||(({days:D}=Hb(f,V,$,D,"day",c)),({days:Mt}=Hb(ft,at,dt,Mt,"day",c)));const Pn=A0(D,q,De,Re,Oe,je,et,Rn),zn=A0(Mt,Pt,Dt,Kt,Wt,En,Tn,rr);return wp(Ct.toNumber(Ct.subtract(Pn,zn)))}}ef(B0,"Temporal.Duration");const m3=Object.create;class jS{constructor(t,n,i="iso8601",l=1972){UD(this,Co(t),Co(n),Jl(i),Co(l))}get monthCode(){if(!nc(this))throw new TypeError("invalid receiver");return Sh(ze(this,Qn),this)}get day(){if(!nc(this))throw new TypeError("invalid receiver");return Mh(ze(this,Qn),this)}get calendarId(){if(!nc(this))throw new TypeError("invalid receiver");return rc(ze(this,Qn))}with(t,n){if(!nc(this))throw new TypeError("invalid receiver");if(!Ps(t))throw new TypeError("invalid argument");rm(t);const i=Oo(n),l=ze(this,Qn),h=Oa(l,["day","month","monthCode","year"]);let c=yo(this,h,[]);return c=af(l,c,yo(t,h,"partial")),c=yo(c,h,[]),ag(l,c,i)}equals(t){if(!nc(this))throw new TypeError("invalid receiver");const n=ND(t);for(const i of[Yr,Qr,Gr])if(ze(this,i)!==ze(n,i))return!1;return jb(ze(this,Qn),ze(n,Qn))}toString(t){if(!nc(this))throw new TypeError("invalid receiver");return KD(this,m1(Oo(t)))}toJSON(){if(!nc(this))throw new TypeError("invalid receiver");return KD(this)}toLocaleString(t,n){if(!nc(this))throw new TypeError("invalid receiver");return new xp(t,n).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(t){if(!nc(this))throw new TypeError("invalid receiver");if(!Ps(t))throw new TypeError("argument should be an object");const n=ze(this,Qn),i=Oa(n,["day","monthCode"]),l=yo(this,i,[]),h=Oa(n,["year"]);let c=af(n,l,yo(t,h,[]));c=yo(c,[...new Set([...i,...h])],[]);const f=m3(null);return f.overflow="reject",Sd(n,c,f)}getISOFields(){if(!nc(this))throw new TypeError("invalid receiver");return{calendar:ze(this,Qn),isoDay:ze(this,Qr),isoMonth:ze(this,Yr),isoYear:ze(this,Gr)}}getCalendar(){if(!nc(this))throw new TypeError("invalid receiver");return mu(ze(this,Qn))}static from(t,n){const i=Oo(n);return nc(t)?(ka(i),og(ze(t,Yr),ze(t,Qr),ze(t,Qn),ze(t,Gr))):ND(t,i)}}ef(jS,"Temporal.PlainMonthDay");const U1=()=>new(Rr("%Temporal.Instant%"))(dm()),$S=(r,t=D0())=>{const n=xc(t),i=Jl(r);return Md(n,U1(),i)},KS=(r=D0())=>Md(xc(r),U1(),"iso8601"),F1=(r,t=D0())=>{const n=xc(t),i=Jl(r);return Pa(dm(),n,i)},j1={instant:U1,plainDateTime:$S,plainDateTimeISO:KS,plainDate:(r,t=D0())=>cg($S(r,t)),plainDateISO:(r=D0())=>cg(KS(r)),plainTimeISO:(r=D0())=>M1(KS(r)),timeZoneId:()=>D0(),zonedDateTime:F1,zonedDateTimeISO:(r=D0())=>F1("iso8601",r),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(j1,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});const y3=Object.assign;function VS(r,t,n){let i=ze(r,qi),l=ze(r,to),h=ze(r,Qi),c=ze(r,no),f=ze(r,ro),V=ze(r,lo);if(n){const{unit:$,increment:D,roundingMode:q}=n;({hour:i,minute:l,second:h,millisecond:c,microsecond:f,nanosecond:V}=pg(i,l,h,c,f,V,D,$,q))}return`${js(i)}:${js(l)}${Kb(h,c,f,V,t)}`}class fm{constructor(t=0,n=0,i=0,l=0,h=0,c=0){const f=void 0===t?0:Co(t),V=void 0===n?0:Co(n),$=void 0===i?0:Co(i),D=void 0===l?0:Co(l),q=void 0===h?0:Co(h),De=void 0===c?0:Co(c);T1(f,V,$,D,q,De),Eh(this),po(this,qi,f),po(this,to,V),po(this,Qi,$),po(this,no,D),po(this,ro,q),po(this,lo,De)}get hour(){if(!Gs(this))throw new TypeError("invalid receiver");return ze(this,qi)}get minute(){if(!Gs(this))throw new TypeError("invalid receiver");return ze(this,to)}get second(){if(!Gs(this))throw new TypeError("invalid receiver");return ze(this,Qi)}get millisecond(){if(!Gs(this))throw new TypeError("invalid receiver");return ze(this,no)}get microsecond(){if(!Gs(this))throw new TypeError("invalid receiver");return ze(this,ro)}get nanosecond(){if(!Gs(this))throw new TypeError("invalid receiver");return ze(this,lo)}with(t,n){if(!Gs(this))throw new TypeError("invalid receiver");if(!Ps(t))throw new TypeError("invalid argument");rm(t);const i=ka(Oo(n)),l=g1(t,"partial"),h=g1(this);let{hour:c,minute:f,second:V,millisecond:$,microsecond:D,nanosecond:q}=y3(h,l);return({hour:c,minute:f,second:V,millisecond:$,microsecond:D,nanosecond:q}=h1(c,f,V,$,D,q,i)),new fm(c,f,V,$,D,q)}add(t){if(!Gs(this))throw new TypeError("invalid receiver");return Gb("add",this,t)}subtract(t){if(!Gs(this))throw new TypeError("invalid receiver");return Gb("subtract",this,t)}until(t,n){if(!Gs(this))throw new TypeError("invalid receiver");return YD("until",this,t,n)}since(t,n){if(!Gs(this))throw new TypeError("invalid receiver");return YD("since",this,t,n)}round(t){if(!Gs(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?C0("smallestUnit",t):Oo(t),i=ng(n),l=sf(n,"halfExpand"),h=Ed(n,"smallestUnit","time",_0);im(i,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[h],!1);let c=ze(this,qi),f=ze(this,to),V=ze(this,Qi),$=ze(this,no),D=ze(this,ro),q=ze(this,lo);return({hour:c,minute:f,second:V,millisecond:$,microsecond:D,nanosecond:q}=pg(c,f,V,$,D,q,i,h,l)),new fm(c,f,V,$,D,q)}equals(t){if(!Gs(this))throw new TypeError("invalid receiver");const n=sp(t);for(const i of[qi,to,Qi,no,ro,lo])if(ze(this,i)!==ze(n,i))return!1;return!0}toString(t){if(!Gs(this))throw new TypeError("invalid receiver");const n=Oo(t),i=w0(n),l=sf(n,"trunc"),h=Ed(n,"smallestUnit","time",void 0);if("hour"===h)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:c,unit:f,increment:V}=Pb(h,i);return VS(this,c,{unit:f,increment:V,roundingMode:l})}toJSON(){if(!Gs(this))throw new TypeError("invalid receiver");return VS(this,"auto")}toLocaleString(t,n){if(!Gs(this))throw new TypeError("invalid receiver");return new xp(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(t){if(!Gs(this))throw new TypeError("invalid receiver");const n=hs(t),i=ze(n,Gr),l=ze(n,Yr),h=ze(n,Qr),c=ze(n,Qn);return Yl(i,l,h,ze(this,qi),ze(this,to),ze(this,Qi),ze(this,no),ze(this,ro),ze(this,lo),c)}toZonedDateTime(t){if(!Gs(this))throw new TypeError("invalid receiver");if(!Ps(t))throw new TypeError("invalid argument");const n=t.plainDate;if(void 0===n)throw new TypeError("missing date property");const i=hs(n),l=t.timeZone;if(void 0===l)throw new TypeError("missing timeZone property");const h=xc(l),c=ze(i,Gr),f=ze(i,Yr),V=ze(i,Qr),$=ze(i,Qn),D=ze(this,qi),q=ze(this,to),De=ze(this,Qi),Re=ze(this,no),Oe=ze(this,ro),je=ze(this,lo);return Pa(ze(Tl(h,new(Rr("%Temporal.PlainDateTime%"))(c,f,V,D,q,De,Re,Oe,je,$),"compatible"),Ei),h,$)}getISOFields(){if(!Gs(this))throw new TypeError("invalid receiver");return{isoHour:ze(this,qi),isoMicrosecond:ze(this,ro),isoMillisecond:ze(this,no),isoMinute:ze(this,to),isoNanosecond:ze(this,lo),isoSecond:ze(this,Qi)}}static from(t,n){const i=ka(Oo(n));return Gs(t)?new fm(ze(t,qi),ze(t,to),ze(t,Qi),ze(t,no),ze(t,ro),ze(t,lo)):sp(t,i)}static compare(t,n){const i=sp(t),l=sp(n);for(const h of[qi,to,Qi,no,ro,lo]){const c=ze(i,h),f=ze(l,h);if(c!==f)return wp(c-f)}return 0}}ef(fm,"Temporal.PlainTime");class Mg{constructor(t){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");const n=Vb(t);Eh(this),po(this,tf,n)}get id(){if(!rf(this))throw new TypeError("invalid receiver");return ze(this,tf)}getOffsetNanosecondsFor(t){if(!rf(this))throw new TypeError("invalid receiver");const n=$f(t),i=ze(this,tf);return am(i)?Ah(i):Vf(i,ze(n,Ei))}getOffsetStringFor(t){if(!rf(this))throw new TypeError("invalid receiver");return fc(this,$f(t))}getPlainDateTimeFor(t,n="iso8601"){if(!rf(this))throw new TypeError("invalid receiver");return Md(this,$f(t),Jl(n))}getInstantFor(t,n){if(!rf(this))throw new TypeError("invalid receiver");return Tl(this,x0(t),b0(Oo(n)))}getPossibleInstantsFor(t){if(!rf(this))throw new TypeError("invalid receiver");const n=x0(t),i=Rr("%Temporal.Instant%"),l=ze(this,tf);if(am(l)){const c=pp(ze(n,Gr),ze(n,Yr),ze(n,Qr),ze(n,qi),ze(n,to),ze(n,Qi),ze(n,no),ze(n,ro),ze(n,lo));if(null===c)throw new RangeError("DateTime outside of supported range");const f=Ah(l);return[new i(Ct.subtract(c,Ct.BigInt(f)))]}return function(f,V,$,D,q,De,Re,Oe,je,et){const ft=pp(V,$,D,q,De,Re,Oe,je,et);if(null===ft)throw new RangeError("DateTime outside of supported range");let at=Ct.subtract(ft,ks);Ct.lessThan(at,Ff)&&(at=ft);let dt=Ct.add(ft,ks);Ct.greaterThan(dt,ip)&&(dt=ft);const Mt=Vf(f,at),Pt=Vf(f,dt);return(Mt===Pt?[Mt]:[Mt,Pt]).map(Dt=>{const Kt=Ct.subtract(ft,Ct.BigInt(Dt)),Wt=cf(f,Kt);if(V===Wt.year&&$===Wt.month&&D===Wt.day&&q===Wt.hour&&De===Wt.minute&&Re===Wt.second&&Oe===Wt.millisecond&&je===Wt.microsecond&&et===Wt.nanosecond)return Kt}).filter(Dt=>void 0!==Dt)}(l,ze(n,Gr),ze(n,Yr),ze(n,Qr),ze(n,qi),ze(n,to),ze(n,Qi),ze(n,no),ze(n,ro),ze(n,lo)).map(c=>new i(c))}getNextTransition(t){if(!rf(this))throw new TypeError("invalid receiver");const n=$f(t),i=ze(this,tf);if(am(i)||"UTC"===i)return null;let l=ze(n,Ei);const h=Rr("%Temporal.Instant%");return l=uS(i,l),null===l?null:new h(l)}getPreviousTransition(t){if(!rf(this))throw new TypeError("invalid receiver");const n=$f(t),i=ze(this,tf);if(am(i)||"UTC"===i)return null;let l=ze(n,Ei);const h=Rr("%Temporal.Instant%");return l=fS(i,l),null===l?null:new h(l)}toString(){if(!rf(this))throw new TypeError("invalid receiver");return ze(this,tf)}toJSON(){if(!rf(this))throw new TypeError("invalid receiver");return ze(this,tf)}static from(t){return zk(xc(t))}}ef(Mg,"Temporal.TimeZone"),ma("Temporal.TimeZone.prototype.getOffsetNanosecondsFor",Mg.prototype.getOffsetNanosecondsFor),ma("Temporal.TimeZone.prototype.getPossibleInstantsFor",Mg.prototype.getPossibleInstantsFor);const g3=Object.create;class $1{constructor(t,n,i="iso8601",l=1){sS(this,Co(t),Co(n),Jl(i),Co(l))}get year(){if(!jo(this))throw new TypeError("invalid receiver");return lp(ze(this,Qn),this)}get month(){if(!jo(this))throw new TypeError("invalid receiver");return dp(ze(this,Qn),this)}get monthCode(){if(!jo(this))throw new TypeError("invalid receiver");return Sh(ze(this,Qn),this)}get calendarId(){if(!jo(this))throw new TypeError("invalid receiver");return rc(ze(this,Qn))}get era(){if(!jo(this))throw new TypeError("invalid receiver");return up(ze(this,Qn),this)}get eraYear(){if(!jo(this))throw new TypeError("invalid receiver");return fp(ze(this,Qn),this)}get daysInMonth(){if(!jo(this))throw new TypeError("invalid receiver");return Nb(ze(this,Qn),this)}get daysInYear(){if(!jo(this))throw new TypeError("invalid receiver");return Lb(ze(this,Qn),this)}get monthsInYear(){if(!jo(this))throw new TypeError("invalid receiver");return Ub(ze(this,Qn),this)}get inLeapYear(){if(!jo(this))throw new TypeError("invalid receiver");return Fb(ze(this,Qn),this)}with(t,n){if(!jo(this))throw new TypeError("invalid receiver");if(!Ps(t))throw new TypeError("invalid argument");rm(t);const i=Oo(n),l=ze(this,Qn),h=Oa(l,["month","monthCode","year"]);let c=yo(this,h,[]);return c=af(l,c,yo(t,h,"partial")),c=yo(c,h,[]),hp(l,c,i)}add(t,n){if(!jo(this))throw new TypeError("invalid receiver");return P1("add",this,t,n)}subtract(t,n){if(!jo(this))throw new TypeError("invalid receiver");return P1("subtract",this,t,n)}until(t,n){if(!jo(this))throw new TypeError("invalid receiver");return ES("until",this,t,n)}since(t,n){if(!jo(this))throw new TypeError("invalid receiver");return ES("since",this,t,n)}equals(t){if(!jo(this))throw new TypeError("invalid receiver");const n=Rb(t);for(const i of[Gr,Yr,Qr])if(ze(this,i)!==ze(n,i))return!1;return jb(ze(this,Qn),ze(n,Qn))}toString(t){if(!jo(this))throw new TypeError("invalid receiver");return lS(this,m1(Oo(t)))}toJSON(){if(!jo(this))throw new TypeError("invalid receiver");return lS(this)}toLocaleString(t,n){if(!jo(this))throw new TypeError("invalid receiver");return new xp(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(t){if(!jo(this))throw new TypeError("invalid receiver");if(!Ps(t))throw new TypeError("argument should be an object");const n=ze(this,Qn),i=Oa(n,["monthCode","year"]),l=yo(this,i,[]),h=Oa(n,["day"]);let c=af(n,l,yo(t,h,[]));c=yo(c,[...new Set([...i,...h])],[]);const f=g3(null);return f.overflow="reject",Sd(n,c,f)}getISOFields(){if(!jo(this))throw new TypeError("invalid receiver");return{calendar:ze(this,Qn),isoDay:ze(this,Qr),isoMonth:ze(this,Yr),isoYear:ze(this,Gr)}}getCalendar(){if(!jo(this))throw new TypeError("invalid receiver");return mu(ze(this,Qn))}static from(t,n){const i=Oo(n);return jo(t)?(ka(i),cp(ze(t,Gr),ze(t,Yr),ze(t,Qn),ze(t,Qr))):Rb(t,i)}static compare(t,n){const i=Rb(t),l=Rb(n);return vp(ze(i,Gr),ze(i,Yr),ze(i,Qr),ze(l,Gr),ze(l,Yr),ze(l,Qr))}}ef($1,"Temporal.PlainYearMonth");const v3=xp.prototype.resolvedOptions,b3=Object.create;class K1{constructor(t,n,i="iso8601"){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");v1(this,Zb(t),xc(n),Jl(i))}get calendarId(){if(!ei(this))throw new TypeError("invalid receiver");return rc(ze(this,Qn))}get timeZoneId(){if(!ei(this))throw new TypeError("invalid receiver");return S1(ze(this,rs))}get year(){if(!ei(this))throw new TypeError("invalid receiver");return lp(ze(this,Qn),Ts(this))}get month(){if(!ei(this))throw new TypeError("invalid receiver");return dp(ze(this,Qn),Ts(this))}get monthCode(){if(!ei(this))throw new TypeError("invalid receiver");return Sh(ze(this,Qn),Ts(this))}get day(){if(!ei(this))throw new TypeError("invalid receiver");return Mh(ze(this,Qn),Ts(this))}get hour(){if(!ei(this))throw new TypeError("invalid receiver");return ze(Ts(this),qi)}get minute(){if(!ei(this))throw new TypeError("invalid receiver");return ze(Ts(this),to)}get second(){if(!ei(this))throw new TypeError("invalid receiver");return ze(Ts(this),Qi)}get millisecond(){if(!ei(this))throw new TypeError("invalid receiver");return ze(Ts(this),no)}get microsecond(){if(!ei(this))throw new TypeError("invalid receiver");return ze(Ts(this),ro)}get nanosecond(){if(!ei(this))throw new TypeError("invalid receiver");return ze(Ts(this),lo)}get era(){if(!ei(this))throw new TypeError("invalid receiver");return up(ze(this,Qn),Ts(this))}get eraYear(){if(!ei(this))throw new TypeError("invalid receiver");return fp(ze(this,Qn),Ts(this))}get epochSeconds(){if(!ei(this))throw new TypeError("invalid receiver");const t=ze(this,Ei);return Ct.toNumber(lm(t,nf))}get epochMilliseconds(){if(!ei(this))throw new TypeError("invalid receiver");const t=ze(this,Ei);return Ct.toNumber(lm(t,Vd))}get epochMicroseconds(){if(!ei(this))throw new TypeError("invalid receiver");return R1(lm(ze(this,Ei),zo))}get epochNanoseconds(){if(!ei(this))throw new TypeError("invalid receiver");return R1(ze(this,Ei))}get dayOfWeek(){if(!ei(this))throw new TypeError("invalid receiver");return om(ze(this,Qn),Ts(this))}get dayOfYear(){if(!ei(this))throw new TypeError("invalid receiver");return sm(ze(this,Qn),Ts(this))}get weekOfYear(){if(!ei(this))throw new TypeError("invalid receiver");return b1(ze(this,Qn),Ts(this))}get yearOfWeek(){if(!ei(this))throw new TypeError("invalid receiver");return w1(ze(this,Qn),Ts(this))}get hoursInDay(){if(!ei(this))throw new TypeError("invalid receiver");const t=Ts(this),n=Rr("%Temporal.PlainDateTime%"),i=ze(t,Gr),l=ze(t,Yr),h=ze(t,Qr),c=new n(i,l,h,0,0,0,0,0,0),f=fg(i,l,h,0,0,0,1,"reject"),V=new n(f.year,f.month,f.day,0,0,0,0,0,0),$=ze(this,rs),D=ze(Tl($,c,"compatible"),Ei),q=ze(Tl($,V,"compatible"),Ei);return ql(Ct.subtract(q,D),Uf)}get daysInWeek(){if(!ei(this))throw new TypeError("invalid receiver");return _1(ze(this,Qn),Ts(this))}get daysInMonth(){if(!ei(this))throw new TypeError("invalid receiver");return Nb(ze(this,Qn),Ts(this))}get daysInYear(){if(!ei(this))throw new TypeError("invalid receiver");return Lb(ze(this,Qn),Ts(this))}get monthsInYear(){if(!ei(this))throw new TypeError("invalid receiver");return Ub(ze(this,Qn),Ts(this))}get inLeapYear(){if(!ei(this))throw new TypeError("invalid receiver");return Fb(ze(this,Qn),Ts(this))}get offset(){if(!ei(this))throw new TypeError("invalid receiver");return fc(ze(this,rs),ze(this,Vc))}get offsetNanoseconds(){if(!ei(this))throw new TypeError("invalid receiver");return Kf(ze(this,rs),ze(this,Vc))}with(t,n){if(!ei(this))throw new TypeError("invalid receiver");if(!Ps(t))throw new TypeError("invalid zoned-date-time-like");rm(t);const i=Oo(n),l=ze(this,Qn);let h=Oa(l,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);h.push("offset");let c=yo(this,h,["offset"]);c=af(l,c,yo(t,h,"partial")),c=yo(c,h,["offset"]);const f=b0(i),V=p1(i,"prefer");let{year:$,month:D,day:q,hour:De,minute:Re,second:Oe,millisecond:je,microsecond:et,nanosecond:ft}=Ob(l,c,i);const at=Ah(c.offset),dt=ze(this,rs);return Pa(Bb($,D,q,De,Re,Oe,je,et,ft,"option",at,dt,f,V,!1),dt,l)}withPlainDate(t){if(!ei(this))throw new TypeError("invalid receiver");const n=hs(t),i=ze(n,Gr),l=ze(n,Yr),h=ze(n,Qr);let c=ze(n,Qn);const f=Ts(this),V=ze(f,qi),$=ze(f,to),D=ze(f,Qi),q=ze(f,no),De=ze(f,ro),Re=ze(f,lo);c=x1(ze(this,Qn),c);const Oe=ze(this,rs);return Pa(ze(Tl(Oe,new(Rr("%Temporal.PlainDateTime%"))(i,l,h,V,$,D,q,De,Re,c),"compatible"),Ei),Oe,c)}withPlainTime(t){if(!ei(this))throw new TypeError("invalid receiver");const n=Rr("%Temporal.PlainTime%"),i=void 0===t?new n:sp(t),l=Ts(this),h=ze(l,Gr),c=ze(l,Yr),f=ze(l,Qr),V=ze(this,Qn),$=ze(i,qi),D=ze(i,to),q=ze(i,Qi),De=ze(i,no),Re=ze(i,ro),Oe=ze(i,lo),je=ze(this,rs);return Pa(ze(Tl(je,new(Rr("%Temporal.PlainDateTime%"))(h,c,f,$,D,q,De,Re,Oe,V),"compatible"),Ei),je,V)}withTimeZone(t){if(!ei(this))throw new TypeError("invalid receiver");const n=xc(t);return Pa(ze(this,Ei),n,ze(this,Qn))}withCalendar(t){if(!ei(this))throw new TypeError("invalid receiver");const n=Jl(t);return Pa(ze(this,Ei),ze(this,rs),n)}add(t,n){if(!ei(this))throw new TypeError("invalid receiver");return MS("add",this,t,n)}subtract(t,n){if(!ei(this))throw new TypeError("invalid receiver");return MS("subtract",this,t,n)}until(t,n){if(!ei(this))throw new TypeError("invalid receiver");return Wk("until",this,t,n)}since(t,n){if(!ei(this))throw new TypeError("invalid receiver");return Wk("since",this,t,n)}round(t){if(!ei(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?C0("smallestUnit",t):Oo(t),i=ng(n),l=sf(n,"halfExpand"),h=Ed(n,"smallestUnit","time",_0,["day"]),c={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[h];im(i,c,1===c);const f=Ts(this);let V=ze(f,Gr),$=ze(f,Yr),D=ze(f,Qr),q=ze(f,qi),De=ze(f,to),Re=ze(f,Qi),Oe=ze(f,no),je=ze(f,ro),et=ze(f,lo);const ft=Rr("%Temporal.PlainDateTime%"),at=ze(this,rs),dt=ze(this,Qn),Mt=Tl(at,new ft(ze(f,Gr),ze(f,Yr),ze(f,Qr),0,0,0,0,0,0),"compatible"),Pt=gu(Mt,at,dt,0,0,0,1,0,0,0,0,0,0),Dt=Ct.subtract(Pt,Ct.BigInt(ze(Mt,Ei)));if(Ct.lessThanOrEqual(Dt,Ws))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero or negative length days");return({year:V,month:$,day:D,hour:q,minute:De,second:Re,millisecond:Oe,microsecond:je,nanosecond:et}=AS(V,$,D,q,De,Re,Oe,je,et,i,h,l,Ct.toNumber(Dt))),Pa(Bb(V,$,D,q,De,Re,Oe,je,et,"option",Kf(at,ze(this,Vc)),at,"compatible","prefer",!1),at,ze(this,Qn))}equals(t){if(!ei(this))throw new TypeError("invalid receiver");const n=ig(t),i=ze(this,Ei),l=ze(n,Ei);return!!Ct.equal(Ct.BigInt(i),Ct.BigInt(l))&&!!FD(ze(this,rs),ze(n,rs))&&jb(ze(this,Qn),ze(n,Qn))}toString(t){if(!ei(this))throw new TypeError("invalid receiver");const n=Oo(t),i=m1(n),l=w0(n),h=k0(n,"offset",["auto","never"],"auto"),c=sf(n,"trunc"),f=Ed(n,"smallestUnit","time",void 0);if("hour"===f)throw new RangeError('smallestUnit must be a time unit other than "hour"');const V=k0(n,"timeZoneName",["auto","never","critical"],"auto"),{precision:$,unit:D,increment:q}=Pb(f,l);return Hk(this,$,i,V,h,{unit:D,increment:q,roundingMode:c})}toLocaleString(t,n){if(!ei(this))throw new TypeError("invalid receiver");const i=Oo(n),l=b3(null);if(g0(l,i,["timeZone"]),void 0!==i.timeZone)throw new TypeError("ZonedDateTime toLocaleString does not accept a timeZone option");void 0===l.year&&void 0===l.month&&void 0===l.day&&void 0===l.weekday&&void 0===l.dateStyle&&void 0===l.hour&&void 0===l.minute&&void 0===l.second&&void 0===l.timeStyle&&void 0===l.dayPeriod&&void 0===l.timeZoneName&&(l.timeZoneName="short");let h=S1(ze(this,rs));if(am(h))throw new RangeError("toLocaleString does not support offset string time zones");h=Vb(h),l.timeZone=h;const c=new xp(t,l),f=Wr(v3,c,[]).calendar,V=rc(ze(this,Qn));if("iso8601"!==V&&"iso8601"!==f&&f!==V)throw new RangeError(`cannot format ZonedDateTime with calendar ${V} in locale with calendar ${f}`);return c.format(ze(this,Vc))}toJSON(){if(!ei(this))throw new TypeError("invalid receiver");return Hk(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!ei(this))throw new TypeError("invalid receiver");const t=Ts(this),n=Rr("%Temporal.PlainDateTime%"),i=ze(this,Qn),l=new n(ze(t,Gr),ze(t,Yr),ze(t,Qr),0,0,0,0,0,0,i),h=ze(this,rs);return Pa(ze(Tl(h,l,"compatible"),Ei),h,i)}toInstant(){if(!ei(this))throw new TypeError("invalid receiver");return new(Rr("%Temporal.Instant%"))(ze(this,Ei))}toPlainDate(){if(!ei(this))throw new TypeError("invalid receiver");return cg(Ts(this))}toPlainTime(){if(!ei(this))throw new TypeError("invalid receiver");return M1(Ts(this))}toPlainDateTime(){if(!ei(this))throw new TypeError("invalid receiver");return Ts(this)}toPlainYearMonth(){if(!ei(this))throw new TypeError("invalid receiver");const t=ze(this,Qn);return hp(t,yo(this,Oa(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!ei(this))throw new TypeError("invalid receiver");const t=ze(this,Qn);return ag(t,yo(this,Oa(t,["day","monthCode"]),[]))}getISOFields(){if(!ei(this))throw new TypeError("invalid receiver");const t=Ts(this),n=ze(this,rs);return{calendar:ze(this,Qn),isoDay:ze(t,Qr),isoHour:ze(t,qi),isoMicrosecond:ze(t,ro),isoMillisecond:ze(t,no),isoMinute:ze(t,to),isoMonth:ze(t,Yr),isoNanosecond:ze(t,lo),isoSecond:ze(t,Qi),isoYear:ze(t,Gr),offset:fc(n,ze(this,Vc)),timeZone:n}}getCalendar(){if(!ei(this))throw new TypeError("invalid receiver");return mu(ze(this,Qn))}getTimeZone(){if(!ei(this))throw new TypeError("invalid receiver");return zk(ze(this,rs))}static from(t,n){const i=Oo(n);return ei(t)?(b0(i),p1(i,"reject"),ka(i),Pa(ze(t,Ei),ze(t,rs),ze(t,Qn))):ig(t,i)}static compare(t,n){const i=ig(t),l=ig(n),h=ze(i,Ei),c=ze(l,Ei);return Ct.lessThan(Ct.BigInt(h),Ct.BigInt(c))?-1:Ct.greaterThan(Ct.BigInt(h),Ct.BigInt(c))?1:0}}function Ts(r){return Md(ze(r,rs),ze(r,Vc),ze(r,Qn))}ef(K1,"Temporal.ZonedDateTime");var N0=Object.freeze({__proto__:null,Calendar:ga,Duration:B0,Instant:uf,Now:j1,PlainDate:xg,PlainDateTime:Sg,PlainMonthDay:jS,PlainTime:fm,PlainYearMonth:$1,TimeZone:Mg,ZonedDateTime:K1});const w3=[uf,ga,xg,Sg,B0,jS,fm,Mg,$1,K1];for(const r of w3){const t=Object.getOwnPropertyDescriptor(r,"prototype");(t.configurable||t.enumerable||t.writable)&&(t.configurable=!1,t.enumerable=!1,t.writable=!1,Object.defineProperty(r,"prototype",t))}var zS=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class va{static sleep(t){return zS(this,void 0,void 0,function*(){return new Promise(n=>setTimeout(n,t))})}static minimalSleep(){return zS(this,void 0,void 0,function*(){yield va.sleep(2)})}static getCurrentTimestamp(){return N0.Now.instant().toString({smallestUnit:"microseconds"})}static createTimestamp(t){const{year:n,month:i,day:l,hour:h,minute:c,second:f,millisecond:V,microsecond:$}=t;return N0.ZonedDateTime.from({timeZone:"UTC",year:n,month:i,day:l,hour:h,minute:c,second:f,millisecond:V,microsecond:$}).toInstant().toString({smallestUnit:"microseconds"})}static createOffsetTimestamp(t,n){const i=n?N0.Instant.from(n):N0.Now.instant(),l=N0.Duration.from(t);return i.add(l).toString({smallestUnit:"microseconds"})}static validateTimestamp(t){try{N0.Instant.from(t)}catch{throw new ce(_e.TimestampInvalid,`Invalid timestamp: ${t}`)}}}var Ra=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class $o{get message(){if(void 0===this._message.authorization)throw new ce(_e.RecordsWriteMissingSigner,"This RecordsWrite is not yet signed, JSON message cannot be generated from an incomplete state.");return this._message}get author(){return this._author}get signaturePayload(){return this._signaturePayload}get owner(){return this._owner}get ownerSignaturePayload(){return this._ownerSignaturePayload}get isSignedByAuthorDelegate(){return Vr.isSignedByAuthorDelegate(this._message)}get isSignedByOwnerDelegate(){return Vr.isSignedByOwnerDelegate(this._message)}get signer(){return Vr.getSigner(this._message)}get ownerSignatureSigner(){var t;return void 0===(null===(t=this._message.authorization)||void 0===t?void 0:t.ownerSignature)?void 0:Dr.getSignerDid(this._message.authorization.ownerSignature.signatures[0])}constructor(t,n){this.parentContextId=n,this._message=t,void 0!==t.authorization&&(this._author=ho.getAuthor(t),this._signaturePayload=Dr.decodePlainObjectPayload(t.authorization.signature),void 0!==t.authorization.ownerSignature&&(this._owner=void 0!==t.authorization.ownerDelegatedGrant?Vr.getSigner(t.authorization.ownerDelegatedGrant):Dr.getSignerDid(t.authorization.ownerSignature.signatures[0]),this._ownerSignaturePayload=Dr.decodePlainObjectPayload(t.authorization.ownerSignature))),this.attesters=$o.getAttesters(t)}static parse(t){return Ra(this,void 0,void 0,function*(){const n=JSON.parse(JSON.stringify(t));yield Vr.validateSignatureStructure(n.authorization.signature,n.descriptor,"RecordsWriteSignaturePayload"),void 0!==n.authorization.ownerSignature&&(yield Vr.validateSignatureStructure(n.authorization.ownerSignature,n.descriptor)),yield $o.validateAttestationIntegrity(n);const i=new $o(n);return yield i.validateIntegrity(),i})}static create(t){var n,i,l,h;return Ra(this,void 0,void 0,function*(){if(void 0===t.protocol&&void 0!==t.protocolPath||void 0!==t.protocol&&void 0===t.protocolPath)throw new ce(_e.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive,"`protocol` and `protocolPath` must both be defined or undefined at the same time");if(void 0===t.data&&void 0===t.dataCid||void 0!==t.data&&void 0!==t.dataCid)throw new ce(_e.RecordsWriteCreateDataAndDataCidMutuallyExclusive,"one and only one parameter between `data` and `dataCid` is required");if(void 0===t.dataCid&&void 0!==t.dataSize||void 0!==t.dataCid&&void 0===t.dataSize)throw new ce(_e.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive,"`dataCid` and `dataSize` must both be defined or undefined at the same time");if(void 0===t.signer&&void 0!==t.delegatedGrant)throw new ce(_e.RecordsWriteCreateMissingSigner,"`signer` must be given when `delegatedGrant` is given");const c=null!==(n=t.dataCid)&&void 0!==n?n:yield nl.computeDagPbCidFromBytes(t.data),f=null!==(i=t.dataSize)&&void 0!==i?i:t.data.length,V=va.getCurrentTimestamp(),$={interface:Wi.Records,method:di.Write,protocol:void 0!==t.protocol?Qp(t.protocol):void 0,protocolPath:t.protocolPath,recipient:t.recipient,schema:void 0!==t.schema?Q_(t.schema):void 0,tags:t.tags,parentId:$o.getRecordIdFromContextId(t.parentContextId),dataCid:c,dataSize:f,dateCreated:null!==(l=t.dateCreated)&&void 0!==l?l:V,messageTimestamp:null!==(h=t.messageTimestamp)&&void 0!==h?h:V,published:t.published,datePublished:t.datePublished,dataFormat:t.dataFormat};!0===t.published&&void 0===t.datePublished&&($.datePublished=V),bd($);const D=t.recordId,q=yield nl.computeCid($),De=yield $o.createAttestation(q,t.attestationSigners),Re=yield $o.createEncryptionProperty($,t.encryptionInput),Oe={recordId:D,descriptor:$};void 0!==De&&(Oe.attestation=De),void 0!==Re&&(Oe.encryption=Re);const je=new $o(Oe,t.parentContextId);return void 0!==t.signer&&(yield je.sign({signer:t.signer,delegatedGrant:t.delegatedGrant,permissionGrantId:t.permissionGrantId,protocolRole:t.protocolRole})),je})}static getRecordIdFromContextId(t){return t?.split("/").filter(n=>""!==n).pop()}static createFrom(t){var n,i,l,h;return Ra(this,void 0,void 0,function*(){const c=t.recordsWriteMessage,f=yield $o.parse(c),V=va.getCurrentTimestamp(),$=null!==(n=t.published)&&void 0!==n?n:!!t.datePublished||c.descriptor.published;let D;t.datePublished?D=t.datePublished:$&&(D=c.descriptor.published?c.descriptor.datePublished:V);const q={recipient:c.descriptor.recipient,recordId:c.recordId,dateCreated:c.descriptor.dateCreated,protocol:c.descriptor.protocol,protocolPath:c.descriptor.protocolPath,schema:c.descriptor.schema,parentContextId:ho.getParentContextFromOfContextId(c.contextId),messageTimestamp:null!==(i=t.messageTimestamp)&&void 0!==i?i:V,published:$,datePublished:D,tags:t.tags,data:t.data,dataCid:t.data?void 0:c.descriptor.dataCid,dataSize:t.data?void 0:c.descriptor.dataSize,dataFormat:null!==(l=t.dataFormat)&&void 0!==l?l:c.descriptor.dataFormat,protocolRole:null!==(h=t.protocolRole)&&void 0!==h?h:f.signaturePayload.protocolRole,delegatedGrant:t.delegatedGrant,signer:t.signer,attestationSigners:t.attestationSigners};return yield $o.create(q)})}toJSON(){return this.message}encryptSymmetricEncryptionKey(t){return Ra(this,void 0,void 0,function*(){this._message.encryption=yield $o.createEncryptionProperty(this._message.descriptor,t),delete this._message.authorization,this._signaturePayload=void 0,this._author=void 0})}sign(t){var n;return Ra(this,void 0,void 0,function*(){const{signer:i,delegatedGrant:l,permissionGrantId:h,protocolRole:c}=t;let f,V;void 0!==l?(f=yield Vr.getCid(l),V=Dr.getSignerDid(l.authorization.signature.signatures[0])):V=Dr.extractDid(i.keyId);const $=this._message.descriptor,D=yield nl.computeCid($);this._message.recordId=null!==(n=this._message.recordId)&&void 0!==n?n:yield $o.getEntryId(V,$),void 0!==this._message.descriptor.protocol&&(this._message.contextId=void 0===this.parentContextId||""===this.parentContextId?this._message.recordId:this.parentContextId+"/"+this._message.recordId);const q=yield $o.createSignerSignature({recordId:this._message.recordId,contextId:this._message.contextId,descriptorCid:D,attestation:this._message.attestation,encryption:this._message.encryption,signer:i,delegatedGrantId:f,permissionGrantId:h,protocolRole:c});this._message.authorization={signature:q},void 0!==l&&(this._message.authorization.authorDelegatedGrant=l),this._signaturePayload=Dr.decodePlainObjectPayload(q),this._author=V})}signAsOwner(t){return Ra(this,void 0,void 0,function*(){if(void 0===this._author)throw new ce(_e.RecordsWriteSignAsOwnerUnknownAuthor,"Unable to sign as owner without message signature because owner needs to sign over `recordId` which depends on author DID.");const n=this._message.descriptor,i=yield Vr.createSignature(n,t);this._message.authorization.ownerSignature=i,this._ownerSignaturePayload=Dr.decodePlainObjectPayload(i),this._owner=Dr.extractDid(t.keyId)})}signAsOwnerDelegate(t,n){return Ra(this,void 0,void 0,function*(){if(void 0===this._author)throw new ce(_e.RecordsWriteSignAsOwnerDelegateUnknownAuthor,"Unable to sign as owner delegate without message signature because owner delegate needs to sign over `recordId` which depends on author DID.");const i=yield Vr.getCid(n),l=this._message.descriptor,h=yield Vr.createSignature(l,t,{delegatedGrantId:i});this._message.authorization.ownerSignature=h,this._message.authorization.ownerDelegatedGrant=n,this._ownerSignaturePayload=Dr.decodePlainObjectPayload(h),this._owner=Dr.getSignerDid(n.authorization.signature.signatures[0])})}validateIntegrity(){return Ra(this,void 0,void 0,function*(){if(yield this.isInitialWrite()){const i=this.message.descriptor.dateCreated,l=this.message.descriptor.messageTimestamp;if(l!==i)throw new ce(_e.RecordsWriteValidateIntegrityDateCreatedMismatch,`messageTimestamp ${l} must match dateCreated ${i} for the initial write`);if(void 0!==this.message.descriptor.protocol&&void 0===this.message.descriptor.parentId){const h=yield this.getEntryId();if(this.message.contextId!==h)throw new ce(_e.RecordsWriteValidateIntegrityContextIdMismatch,`contextId in message: ${this.message.contextId} does not match deterministic contextId: ${h}`)}}const n=this.signaturePayload;if(this.message.recordId!==n.recordId)throw new ce(_e.RecordsWriteValidateIntegrityRecordIdUnauthorized,`recordId in message ${this.message.recordId} does not match recordId in authorization: ${n.recordId}`);if(this.message.contextId!==n.contextId)throw new ce(_e.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload,`contextId in message ${this.message.contextId} does not match contextId in authorization: ${n.contextId}`);if(yield ho.validateDelegatedGrantReferentialIntegrity(this.message,n,this.ownerSignaturePayload),void 0!==n.attestationCid){const i=yield nl.computeCid(this.message.attestation),l=n.attestationCid;if(l!==i)throw new ce(_e.RecordsWriteValidateIntegrityAttestationMismatch,`CID ${i} of attestation property in message does not match attestationCid in authorization: ${l}`)}if(void 0!==n.encryptionCid){const i=yield nl.computeCid(this.message.encryption),l=n.encryptionCid;if(l!==i)throw new ce(_e.RecordsWriteValidateIntegrityEncryptionCidMismatch,`CID ${i} of encryption property in message does not match encryptionCid in authorization: ${l}`)}void 0!==this.message.descriptor.protocol&&_h(this.message.descriptor.protocol),void 0!==this.message.descriptor.schema&&q_(this.message.descriptor.schema),va.validateTimestamp(this.message.descriptor.messageTimestamp),va.validateTimestamp(this.message.descriptor.dateCreated),this.message.descriptor.datePublished&&va.validateTimestamp(this.message.descriptor.datePublished)})}static validateAttestationIntegrity(t){return Ra(this,void 0,void 0,function*(){if(void 0===t.attestation)return;if(1!==t.attestation.signatures.length)throw new ce(_e.RecordsWriteAttestationIntegrityMoreThanOneSignature,`Currently implementation only supports 1 attester, but got ${t.attestation.signatures.length}`);const n=Dr.decodePlainObjectPayload(t.attestation),{descriptorCid:i}=n,l=yield nl.computeCid(t.descriptor);if(i!==l)throw new ce(_e.RecordsWriteAttestationIntegrityDescriptorCidMismatch,`descriptorCid ${i} does not match expected descriptorCid ${l}`);const h=Object.keys(n).length;if(h>1)throw new ce(_e.RecordsWriteAttestationIntegrityInvalidPayloadProperty,`Only 'descriptorCid' is allowed in attestation payload, but got ${h} properties.`)})}getEntryId(){return Ra(this,void 0,void 0,function*(){return yield $o.getEntryId(this.author,this.message.descriptor)})}static getEntryId(t,n){return Ra(this,void 0,void 0,function*(){if(void 0===t)throw new ce(_e.RecordsWriteGetEntryIdUndefinedAuthor,"Property `author` is needed to compute entry ID.");const i=Object.assign({},n);return i.author=t,yield nl.computeCid(i)})}isInitialWrite(){return Ra(this,void 0,void 0,function*(){return(yield this.getEntryId())===this.message.recordId})}constructIndexes(t){return Ra(this,void 0,void 0,function*(){const n=this.message,i=n.descriptor,{tags:l}=i,h=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(i,["tags"]);delete h.published;let c=Object.assign(Object.assign({},h),{isLatestBaseState:t,published:!!n.descriptor.published,author:this.author,recordId:n.recordId,entryId:yield $o.getEntryId(this.author,this.message.descriptor)});if(void 0!==l&&!0===t){const f=ho.buildTagIndexes(Object.assign({},l));c=Object.assign(Object.assign({},c),f)}return this.attesters.length>0&&(c.attester=this.attesters[0]),void 0!==n.contextId&&(c.contextId=n.contextId),c})}authorizeAuthorDelegate(t){return Ra(this,void 0,void 0,function*(){const n=yield Ju.parse(this.message.authorization.authorDelegatedGrant);yield Qu.authorizeWrite({recordsWriteMessage:this.message,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:n,messageStore:t})})}authorizeOwnerDelegate(t){return Ra(this,void 0,void 0,function*(){const n=yield Ju.parse(this.message.authorization.ownerDelegatedGrant);yield Qu.authorizeWrite({recordsWriteMessage:this.message,expectedGrantor:this.owner,expectedGrantee:this.ownerSignatureSigner,permissionGrant:n,messageStore:t})})}static isInitialWrite(t){return Ra(this,void 0,void 0,function*(){if(t.descriptor.interface!==Wi.Records||t.descriptor.method!==di.Write)return!1;const n=t,i=ho.getAuthor(n);return(yield $o.getEntryId(i,n.descriptor))===n.recordId})}static createEncryptionProperty(t,n){var i,l;return Ra(this,void 0,void 0,function*(){if(void 0===n)return;const h=[];for(const f of n.keyEncryptionInputs){if(f.derivationScheme===fu.ProtocolPath&&void 0===t.protocol)throw new ce(_e.RecordsWriteMissingProtocol,"`protocols` encryption scheme cannot be applied to record without the `protocol` property.");if(f.derivationScheme===fu.Schemas&&void 0===t.schema)throw new ce(_e.RecordsWriteMissingSchema,"`schemas` encryption scheme cannot be applied to record without the `schema` property.");const V=Ee.publicJwkToBytes(f.publicKey),$=yield bb.eciesSecp256k1Encrypt(V,n.key),D=K.bytesToBase64Url($.ciphertext),q=yield Ee.publicKeyToJwk($.ephemeralPublicKey),De=K.bytesToBase64Url($.initializationVector),Re=K.bytesToBase64Url($.messageAuthenticationCode),Oe={rootKeyId:f.publicKeyId,algorithm:null!==(i=f.algorithm)&&void 0!==i?i:jx.EciesSecp256k1,derivationScheme:f.derivationScheme,ephemeralPublicKey:q,initializationVector:De,messageAuthenticationCode:Re,encryptedKey:D};f.derivationScheme===fu.ProtocolContext&&(Oe.derivedPublicKey=f.publicKey),h.push(Oe)}return{algorithm:null!==(l=n.algorithm)&&void 0!==l?l:jx.Aes256Ctr,initializationVector:K.bytesToBase64Url(n.initializationVector),keyEncryption:h}})}static createAttestation(t,n){return Ra(this,void 0,void 0,function*(){if(void 0===n||0===n.length)return;const l=K.objectToBytes({descriptorCid:t});return(yield wb.create(l,n)).getJws()})}static createSignerSignature(t){return Ra(this,void 0,void 0,function*(){const{recordId:n,contextId:i,descriptorCid:l,attestation:h,encryption:c,signer:f,delegatedGrantId:V,permissionGrantId:$,protocolRole:D}=t,Re={recordId:n,descriptorCid:l,contextId:i,attestationCid:h?yield nl.computeCid(h):void 0,encryptionCid:c?yield nl.computeCid(c):void 0,delegatedGrantId:V,permissionGrantId:$,protocolRole:D};bd(Re);const Oe=K.objectToBytes(Re);return(yield wb.create(Oe,[f])).getJws()})}static getInitialWrite(t){return Ra(this,void 0,void 0,function*(){for(const n of t)if(yield $o.isInitialWrite(n))return n;throw new ce(_e.RecordsWriteGetInitialWriteNotFound,"Initial write is not found.")})}static verifyEqualityOfImmutableProperties(t,n){const i=["dataCid","dataSize","dataFormat","datePublished","published","messageTimestamp","tags"];let l=[];l.push(...Object.keys(t.descriptor)),l.push(...Object.keys(n.descriptor)),l=[...new Set(l)];for(const h of l)if(-1===i.indexOf(h)){const c=t.descriptor[h],f=n.descriptor[h];if(f!==c)throw new ce(_e.RecordsWriteImmutablePropertyChanged,`${h} is an immutable property: cannot change '${c}' to '${f}'`)}return!0}static getAttesters(t){var n,i;return(null!==(i=null===(n=t.attestation)||void 0===n?void 0:n.signatures)&&void 0!==i?i:[]).map(c=>Dr.getSignerDid(c))}static fetchNewestRecordsWrite(t,n,i){return Ra(this,void 0,void 0,function*(){const l={interface:Wi.Records,method:di.Write,recordId:i},{messages:h}=yield t.query(n,[l]),c=yield Vr.getNewestMessage(h);if(void 0!==c)return c;throw new ce(_e.RecordsWriteGetNewestWriteRecordNotFound,"record not found")})}static fetchInitialRecordsWrite(t,n,i){return Ra(this,void 0,void 0,function*(){const l={entryId:i},{messages:h}=yield t.query(n,[l]);return 0===h.length?void 0:yield $o.parse(h[0])})}}var E3=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};function Rh(r,t){return E3(this,void 0,void 0,function*(){if(void 0===r)throw new ce(_e.AuthenticateJwsMissing,"Missing JWS.");if(yield Lu.verifySignatures(r.signature,t),void 0!==r.ownerSignature&&(yield Lu.verifySignatures(r.ownerSignature,t)),void 0!==r.authorDelegatedGrant){const n=yield $o.parse(r.authorDelegatedGrant);yield Lu.verifySignatures(n.message.authorization.signature,t)}if(void 0!==r.ownerDelegatedGrant){const n=yield $o.parse(r.ownerDelegatedGrant);yield Lu.verifySignatures(n.message.authorization.signature,t)}})}class hP{isActiveTenant(t){return function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return{isActiveTenant:!0}})}}class Mp{get message(){return this._message}get signer(){return this._signer}get author(){return this._author}get signaturePayload(){return this._signaturePayload}constructor(t){this._message=t,void 0!==t.authorization&&(this._signer=Vr.getSigner(t),this._author=void 0!==t.authorization.authorDelegatedGrant?Vr.getSigner(t.authorization.authorDelegatedGrant):this._signer,this._signaturePayload=Dr.decodePlainObjectPayload(t.authorization.signature))}toJSON(){return this.message}}var HS=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class Qb extends Mp{static parse(t){return HS(this,void 0,void 0,function*(){if(!1===t.descriptor.filter.published&&(t.descriptor.dateSort===Kd.PublishedAscending||t.descriptor.dateSort===Kd.PublishedDescending))throw new ce(_e.RecordsQueryParseFilterPublishedSortInvalid,`queries must not filter for \`published:false\` and sort by ${t.descriptor.dateSort}`);let n;if(void 0!==t.authorization&&(n=yield Vr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield ho.validateDelegatedGrantReferentialIntegrity(t,n),void 0!==n?.protocolRole&&void 0===t.descriptor.filter.protocolPath)throw new ce(_e.RecordsQueryFilterMissingRequiredProperties,"Role-authorized queries must include `protocolPath` in the filter");return void 0!==t.descriptor.filter.protocol&&_h(t.descriptor.filter.protocol),void 0!==t.descriptor.filter.schema&&q_(t.descriptor.filter.schema),va.validateTimestamp(t.descriptor.messageTimestamp),new Qb(t)})}static create(t){var n;return HS(this,void 0,void 0,function*(){const i={interface:Wi.Records,method:di.Query,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:va.getCurrentTimestamp(),filter:ho.normalizeFilter(t.filter),dateSort:t.dateSort,pagination:t.pagination};if(!1===t.filter.published&&(t.dateSort===Kd.PublishedAscending||t.dateSort===Kd.PublishedDescending))throw new ce(_e.RecordsQueryCreateFilterPublishedSortInvalid,`queries must not filter for \`published:false\` and sort by ${t.dateSort}`);bd(i);const l=t.signer;let h;l&&(h=yield Vr.createAuthorization({descriptor:i,signer:l,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant}));const c={descriptor:i,authorization:h};return Vr.validateJsonSchema(c),new Qb(c)})}authorizeDelegate(t){return HS(this,void 0,void 0,function*(){const n=yield Ju.parse(this.message.authorization.authorDelegatedGrant);yield Qu.authorizeQueryOrSubscribe({incomingMessage:this.message,expectedGrantee:this.signer,expectedGrantor:this.author,permissionGrant:n,messageStore:t})})}}var WS=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class Ap{static toBytes(t){return WS(this,void 0,void 0,function*(){return new Promise((n,i)=>{const l=[];t.on("data",h=>{l.push(h)}),t.on("end",()=>{const h=Ap.concatenateArrayOfBytes(l);n(h)}),t.on("error",i)})})}static toObject(t){return WS(this,void 0,void 0,function*(){const n=yield Ap.toBytes(t);return K.bytesToObject(n)})}static concatenateArrayOfBytes(t){const n=t.reduce((h,c)=>h+c.length,0),i=new Uint8Array(n);let l=0;for(const h of t)i.set(h,l),l+=h.length;return i}static fromBytes(t){let i=0;return new vb.Readable({read(h){i+1e5>t.length?(this.push(t.subarray(i)),this.push(null)):(this.push(t.subarray(i,i+1e5)),i+=1e5)}})}static fromObject(t){const n=K.objectToBytes(t);return Ap.fromBytes(n)}static duplicateDataStream(t,n){const i=[];for(let l=0;l<n;l++){const h=new vb.PassThrough;t.pipe(h),i.push(h)}return i}}function Os(r,t){return{status:{code:t,detail:r instanceof Error?r.message:"Error"}}}class V1{static parse(t){return function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return new V1(t)})}constructor(t){this.id=t.recordId,this.requester=Vr.getSigner(t);const i=K.base64UrlToObject(t.encodedData);this.delegated=i.delegated,this.description=i.description,this.scope=i.scope,this.conditions=i.conditions}}var Ag=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class go{static parseRequest(t){return K.base64UrlToObject(t)}static createRequest(t){return Ag(this,void 0,void 0,function*(){if(this.isRecordPermissionScope(t.scope)&&void 0===t.scope.protocol)throw new ce(_e.PermissionsProtocolCreateRequestRecordsScopeMissingProtocol,"Permission request for Records must have a scope with a `protocol` property");const n=go.normalizePermissionScope(t.scope),i={description:t.description,delegated:t.delegated,scope:n,conditions:t.conditions};let l;this.hasProtocolScope(n)&&(l={protocol:n.protocol});const h=K.objectToBytes(i),c=yield $o.create({signer:t.signer,messageTimestamp:t.dateRequested,protocol:go.uri,protocolPath:go.requestPath,dataFormat:"application/json",data:h,tags:l});return{recordsWrite:c,permissionRequestData:i,permissionRequestBytes:h,dataEncodedMessage:Object.assign(Object.assign({},c.message),{encodedData:K.bytesToBase64Url(h)})}})}static createGrant(t){return Ag(this,void 0,void 0,function*(){if(this.isRecordPermissionScope(t.scope)&&void 0===t.scope.protocol)throw new ce(_e.PermissionsProtocolCreateGrantRecordsScopeMissingProtocol,"Permission grants for Records must have a scope with a `protocol` property");const n=go.normalizePermissionScope(t.scope),i={dateExpires:t.dateExpires,requestId:t.requestId,description:t.description,delegated:t.delegated,scope:n,conditions:t.conditions};let l;this.hasProtocolScope(n)&&(l={protocol:n.protocol});const h=K.objectToBytes(i),c=yield $o.create({signer:t.signer,messageTimestamp:t.dateGranted,dateCreated:t.dateGranted,recipient:t.grantedTo,protocol:go.uri,protocolPath:go.grantPath,dataFormat:"application/json",data:h,tags:l});return{recordsWrite:c,permissionGrantData:i,permissionGrantBytes:h,dataEncodedMessage:Object.assign(Object.assign({},c.message),{encodedData:K.bytesToBase64Url(h)})}})}static createRevocation(t){return Ag(this,void 0,void 0,function*(){const n={description:t.description},i=t.grant.id;let l;this.hasProtocolScope(t.grant.scope)&&(l={protocol:Qp(t.grant.scope.protocol)});const h=K.objectToBytes(n),c=yield $o.create({signer:t.signer,parentContextId:i,protocol:go.uri,protocolPath:go.revocationPath,dataFormat:"application/json",data:h,tags:l});return{recordsWrite:c,permissionRevocationData:n,permissionRevocationBytes:h,dataEncodedMessage:Object.assign(Object.assign({},c.message),{encodedData:K.bytesToBase64Url(h)})}})}static validateSchema(t,n){const i=K.bytesToString(n),l=JSON.parse(i);if(t.descriptor.protocolPath===go.requestPath){const h=l;yy("PermissionRequestData",h),go.validateScopeAndTags(h.scope,t)}else if(t.descriptor.protocolPath===go.grantPath){yy("PermissionGrantData",l);const h=l;go.validateScopeAndTags(h.scope,t),va.validateTimestamp(h.dateExpires)}else{if(t.descriptor.protocolPath!==go.revocationPath)throw new ce(_e.PermissionsProtocolValidateSchemaUnexpectedRecord,`Unexpected permission record: ${t.descriptor.protocolPath}`);yy("PermissionRevocationData",l)}}static fetchGrant(t,n,i){return Ag(this,void 0,void 0,function*(){const l={recordId:i,isLatestBaseState:!0},{messages:h}=yield n.query(t,[l]),c=h[0],f=c?.descriptor.interface,V=c?.descriptor.method;if(f!==Wi.Records||V!==di.Write||c.descriptor.protocolPath!==go.grantPath)throw new ce(_e.GrantAuthorizationGrantMissing,`Could not find permission grant with record ID ${i}.`);const $=c;return yield Ju.parse($)})}static getScopeFromPermissionRecord(t,n,i){return Ag(this,void 0,void 0,function*(){if(i.descriptor.protocol!==go.uri)throw new ce(_e.PermissionsProtocolGetScopeInvalidProtocol,`Unexpected protocol for permission record: ${i.descriptor.protocol}`);return i.descriptor.protocolPath===go.revocationPath?(yield go.fetchGrant(t,n,i.descriptor.parentId)).scope:i.descriptor.protocolPath===go.grantPath?(yield Ju.parse(i)).scope:(yield V1.parse(i)).scope})}static normalizePermissionScope(t){const n=Object.assign({},t);return go.hasProtocolScope(n)&&(n.protocol=Qp(n.protocol)),n}static isRecordPermissionScope(t){return"Records"===t.interface}static hasProtocolScope(t){return"protocol"in t&&void 0!==t.protocol}static validateTags(t,n){if(void 0===t.descriptor.tags||void 0===t.descriptor.tags.protocol)throw new ce(_e.PermissionsProtocolValidateScopeMissingProtocolTag,"Permission grants must have a `tags` property that contains a protocol tag");const i=t.descriptor.tags.protocol;if(i!==n)throw new ce(_e.PermissionsProtocolValidateScopeProtocolMismatch,`Permission grants must have a scope with a protocol that matches the tagged protocol: ${i}`)}static validateScopeAndTags(t,n){if(this.hasProtocolScope(t)&&(_h(t.protocol),this.validateTags(n,t.protocol)),this.isRecordPermissionScope(t)&&void 0!==t.contextId&&void 0!==t.protocolPath)throw new ce(_e.PermissionsProtocolValidateScopeContextIdProhibitedProperties,"Permission grants cannot have both `contextId` and `protocolPath` present")}}go.uri="https://tbd.website/dwn/permissions",go.requestPath="request",go.grantPath="grant",go.revocationPath="grant/revocation",go.definition={published:!0,protocol:go.uri,types:{request:{dataFormats:["application/json"]},grant:{dataFormats:["application/json"]},revocation:{dataFormats:["application/json"]}},structure:{request:{$size:{max:1e4},$actions:[{who:"anyone",can:["create"]}]},grant:{$size:{max:1e4},$actions:[{who:"recipient",of:"grant",can:["read","query"]}],revocation:{$size:{max:1e4},$actions:[{who:"anyone",can:["read"]}]}}}};class z1{static normalizeFilters(t){const n=[];for(const i of t){const l=void 0!==i.protocol?Qp(i.protocol):void 0,h=Object.assign(Object.assign({},i),{protocol:l});bd(h),Eb(h)||n.push(h)}return n}static convertFilters(t){const n=[];for(const i of t){const l=this.constructPermissionRecordsFilter(i);l&&n.push(l),n.push(this.convertFilter(i))}return n}static constructPermissionRecordsFilter(t){const{protocol:n,messageTimestamp:i}=t;if(void 0!==n){const l=Object.assign({protocol:go.uri},ho.convertTagsFilter({protocol:n}));if(null!=i){const h=rl.convertRangeCriterion(i);h&&(l.messageTimestamp=h)}return l}}static convertFilter(t){const n=Object.assign({},t),{messageTimestamp:i}=t,l=i?rl.convertRangeCriterion(i):void 0;return l&&(n.messageTimestamp=l,delete n.dateUpdated),n}}var H1=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class Tg{static authorizeMessagesRead(t){return H1(this,void 0,void 0,function*(){const{messagesReadMessage:n,messageToRead:i,expectedGrantor:l,expectedGrantee:h,permissionGrant:c,messageStore:f}=t;yield qu.performBaseValidation({incomingMessage:n,expectedGrantor:l,expectedGrantee:h,permissionGrant:c,messageStore:f});const V=c.scope;yield Tg.verifyScope(l,i,V,f)})}static authorizeQueryOrSubscribe(t){return H1(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:i,expectedGrantee:l,permissionGrant:h,messageStore:c}=t;if(yield qu.performBaseValidation({incomingMessage:n,expectedGrantor:i,expectedGrantee:l,permissionGrant:h,messageStore:c}),go.hasProtocolScope(h.scope)){const f=h.scope.protocol;for(const V of n.descriptor.filters)if(V.protocol!==f)throw new ce(_e.MessagesGrantAuthorizationMismatchedProtocol,`The protocol ${V.protocol} does not match the scoped protocol ${f}`)}})}static verifyScope(t,n,i,l){return H1(this,void 0,void 0,function*(){if(void 0!==i.protocol){if(n.descriptor.interface===Wi.Records){const h=n,c=ho.isRecordsWrite(h)?h:yield $o.fetchNewestRecordsWrite(l,t,h.descriptor.recordId);if(c.descriptor.protocol===i.protocol)return;if(c.descriptor.protocol===go.uri){const f=yield go.getScopeFromPermissionRecord(t,l,c);if(go.hasProtocolScope(f)&&f.protocol===i.protocol)return}}else if(n.descriptor.interface===Wi.Protocols&&n.descriptor.definition.protocol===i.protocol)return;throw new ce(_e.MessagesReadVerifyScopeFailed,"record message failed scope authorization")}})}}var GS=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class ew extends Mp{static parse(t){return GS(this,void 0,void 0,function*(){Vr.validateJsonSchema(t),yield Vr.validateSignatureStructure(t.authorization.signature,t.descriptor);for(const n of t.descriptor.filters)"protocol"in n&&void 0!==n.protocol&&_h(n.protocol);return new ew(t)})}static create(t){var n;return GS(this,void 0,void 0,function*(){const i={interface:Wi.Messages,method:di.Query,filters:t.filters?z1.normalizeFilters(t.filters):[],messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:va.getCurrentTimestamp(),cursor:t.cursor};bd(i);const{permissionGrantId:l,signer:h}=t,f={descriptor:i,authorization:yield Vr.createAuthorization({descriptor:i,signer:h,permissionGrantId:l})};return Vr.validateJsonSchema(f),new ew(f)})}}var S3=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class tw{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.eventLog=i}handle({tenant:t,message:n}){return S3(this,void 0,void 0,function*(){let i;try{i=yield ew.parse(n)}catch(f){return Os(f,400)}try{yield Rh(n.authorization,this.didResolver),yield tw.authorizeMessagesQuery(t,i,this.messageStore)}catch(f){return Os(f,401)}const l=z1.convertFilters(n.descriptor.filters),{events:h,cursor:c}=yield this.eventLog.queryEvents(t,l,n.descriptor.cursor);return{status:{code:200,detail:"OK"},entries:h,cursor:c}})}static authorizeMessagesQuery(t,n,i){return S3(this,void 0,void 0,function*(){if(n.author!==t){if(void 0===n.author||void 0===n.signaturePayload.permissionGrantId)throw new ce(_e.MessagesQueryAuthorizationFailed,"message failed authorization");{const l=yield go.fetchGrant(t,i,n.signaturePayload.permissionGrantId);yield Tg.authorizeQueryOrSubscribe({incomingMessage:n.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:l,messageStore:i})}}})}}var nw=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class hm extends Mp{static parse(t){return nw(this,void 0,void 0,function*(){return Vr.validateJsonSchema(t),this.validateMessageCid(t.descriptor.messageCid),yield Vr.validateSignatureStructure(t.authorization.signature,t.descriptor),va.validateTimestamp(t.descriptor.messageTimestamp),new hm(t)})}static create(t){var n;return nw(this,void 0,void 0,function*(){const i={interface:Wi.Messages,method:di.Read,messageCid:t.messageCid,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:va.getCurrentTimestamp()},{signer:l,permissionGrantId:h}=t,f={descriptor:i,authorization:yield Vr.createAuthorization({descriptor:i,signer:l,permissionGrantId:h})};return Vr.validateJsonSchema(f),hm.validateMessageCid(t.messageCid),new hm(f)})}static validateMessageCid(t){try{nl.parseCid(t)}catch{throw new ce(_e.MessagesReadInvalidCid,`${t} is not a valid CID`)}}}var W1=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class G1{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return W1(this,void 0,void 0,function*(){let i;try{i=yield hm.parse(n)}catch(c){return Os(c,400)}try{yield Rh(n.authorization,this.didResolver)}catch(c){return Os(c,401)}const l=yield this.messageStore.get(t,n.descriptor.messageCid);if(void 0===l)return{status:{code:404,detail:"Not Found"}};try{yield G1.authorizeMessagesRead(t,i,l,this.messageStore)}catch(c){return Os(c,401)}const h={message:l,messageCid:n.descriptor.messageCid};if(ho.isRecordsWrite(l)){const c=h.message;if(void 0!==c.encodedData){const f=K.base64UrlToBytes(c.encodedData);h.data=Ap.fromBytes(f),delete c.encodedData}else{const f=yield this.dataStore.get(t,c.recordId,c.descriptor.dataCid);void 0!==f?.dataStream&&(h.data=f.dataStream)}}return{status:{code:200,detail:"OK"},entry:h}})}static authorizeMessagesRead(t,n,i,l){return W1(this,void 0,void 0,function*(){if(n.author!==t){if(void 0===n.author||void 0===n.signaturePayload.permissionGrantId)throw new ce(_e.MessagesReadAuthorizationFailed,"protocol message failed authorization");{const h=yield go.fetchGrant(t,l,n.signaturePayload.permissionGrantId);yield Tg.authorizeMessagesRead({messagesReadMessage:n.message,messageToRead:i,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:h,messageStore:l})}}})}}var ZS=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class Ig extends Mp{static parse(t){return ZS(this,void 0,void 0,function*(){Vr.validateJsonSchema(t),yield Vr.validateSignatureStructure(t.authorization.signature,t.descriptor);for(const n of t.descriptor.filters)"protocol"in n&&void 0!==n.protocol&&_h(n.protocol);return va.validateTimestamp(t.descriptor.messageTimestamp),new Ig(t)})}static create(t){var n,i;return ZS(this,void 0,void 0,function*(){const l=va.getCurrentTimestamp(),h={interface:Wi.Messages,method:di.Subscribe,filters:null!==(n=t.filters)&&void 0!==n?n:[],messageTimestamp:null!==(i=t.messageTimestamp)&&void 0!==i?i:l};bd(h);const{permissionGrantId:c,signer:f}=t,$={descriptor:h,authorization:yield Vr.createAuthorization({descriptor:h,signer:f,permissionGrantId:c})};return Vr.validateJsonSchema($),new Ig($)})}}var XS=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class Z1{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.eventStream=i}handle({tenant:t,message:n,subscriptionHandler:i}){return XS(this,void 0,void 0,function*(){if(void 0===this.eventStream)return Os(new ce(_e.MessagesSubscribeEventStreamUnimplemented,"Subscriptions are not supported"),501);let l;try{l=yield Ig.parse(n)}catch(D){return Os(D,400)}try{yield Rh(n.authorization,this.didResolver),yield Z1.authorizeMessagesSubscribe(t,l,this.messageStore)}catch(D){return Os(D,401)}const{filters:h}=n.descriptor,c=z1.convertFilters(h),f=yield Vr.getCid(n);return{status:{code:200,detail:"OK"},subscription:yield this.eventStream.subscribe(t,f,(D,q,De)=>{t===D&&rl.matchAnyFilter(De,c)&&i(q)})}})}static authorizeMessagesSubscribe(t,n,i){return XS(this,void 0,void 0,function*(){if(n.author!==t){if(void 0===n.author||void 0===n.signaturePayload.permissionGrantId)throw new ce(_e.MessagesSubscribeAuthorizationFailed,"message failed authorization");{const l=yield go.fetchGrant(t,i,n.signaturePayload.permissionGrantId);yield Tg.authorizeQueryOrSubscribe({incomingMessage:n.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:l,messageStore:i})}}})}}var YS=_(20844),pm=function(r){return r.Anyone="anyone",r.Author="author",r.Recipient="recipient",r}(pm||{}),Mc=function(r){return r.CoDelete="co-delete",r.CoPrune="co-prune",r.CoUpdate="co-update",r.Create="create",r.Delete="delete",r.Prune="prune",r.Query="query",r.Read="read",r.Subscribe="subscribe",r.Update="update",r}(Mc||{}),X1=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class Id extends Mp{static parse(t){return X1(this,void 0,void 0,function*(){return Vr.validateJsonSchema(t),Id.validateProtocolDefinition(t.descriptor.definition),yield Vr.validateSignatureStructure(t.authorization.signature,t.descriptor),va.validateTimestamp(t.descriptor.messageTimestamp),new Id(t)})}static create(t){var n;return X1(this,void 0,void 0,function*(){const i={interface:Wi.Protocols,method:di.Configure,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:va.getCurrentTimestamp(),definition:Id.normalizeDefinition(t.definition)},h={descriptor:i,authorization:yield Vr.createAuthorization({descriptor:i,signer:t.signer,permissionGrantId:t.permissionGrantId})};return Vr.validateJsonSchema(h),Id.validateProtocolDefinition(h.descriptor.definition),new Id(h)})}static validateProtocolDefinition(t){const{protocol:n,types:i}=t;_h(n);for(const l in i){const h=i[l].schema;void 0!==h&&q_(h)}Id.validateStructure(t)}static validateStructure(t){const n=Object.keys(t.types),i=Id.fetchAllRolePathsRecursively("",t.structure,[]);Id.validateRuleSetRecursively({ruleSet:t.structure,ruleSetProtocolPath:"",recordTypes:n,roles:i})}static fetchAllRolePathsRecursively(t,n,i){if(t.split("/").length>10)throw new ce(_e.ProtocolsConfigureRecordNestingDepthExceeded,"Record nesting depth exceeded 10 levels.");for(const l in n){if(l.startsWith("$"))continue;const h=n[l];let c;c=""===t?l:`${t}/${l}`,h.$role?i.push(c):Id.fetchAllRolePathsRecursively(c,h,i)}return i}static validateRuleSetRecursively(t){var n;const{ruleSet:i,ruleSetProtocolPath:l,recordTypes:h,roles:c}=t;if(void 0!==i.$size){const{min:V=0,max:$}=i.$size;if(void 0!==$&&$<V)throw new ce(_e.ProtocolsConfigureInvalidSize,`Invalid size range found: max limit ${$} less than min limit ${V} at protocol path '${l}'`)}if(i.$tags){const V=new YS.default,De=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(i.$tags,["$allowUndefinedTags","$requiredTags"]);for(const Re in De)if(!V.validateSchema(De[Re])){const je=V.errorsText(V.errors,{dataVar:`${l}/$tags/${Re}`});throw new ce(_e.ProtocolsConfigureInvalidTagSchema,`tags schema validation error: ${je}`)}}const f=null!==(n=i.$actions)&&void 0!==n?n:[];for(let V=0;V<f.length;V++){const $=f[V];if(void 0!==$.role&&!c.includes($.role))throw new ce(_e.ProtocolsConfigureRoleDoesNotExistAtGivenPath,`Role in action ${JSON.stringify($)} for rule set ${l} does not exist.`);if("anyone"===$.who&&$.of)throw new ce(_e.ProtocolsConfigureInvalidActionOfNotAllowed,`'of' is not allowed at rule set protocol path (${l})`);if($.who===pm.Recipient&&void 0===$.of&&$.can.some(q=>![Mc.CoUpdate,Mc.CoDelete,Mc.CoPrune].includes(q)))throw new ce(_e.ProtocolsConfigureInvalidRecipientOfAction,"Rules for `recipient` without `of` property must have `can` containing only `co-update`, `co-delete`, and `co-prune`.");if($.who===pm.Author&&!$.of)throw new ce(_e.ProtocolsConfigureInvalidActionMissingOf,"'of' is required when 'author' is specified as 'who'");if(void 0!==$.can){if($.can.includes(Mc.Update)&&!$.can.includes(Mc.Create))throw new ce(_e.ProtocolsConfigureInvalidActionUpdateWithoutCreate,`Action rule ${JSON.stringify($)} contains 'update' action but missing the required 'create' action.`);if($.can.includes(Mc.Delete)&&!$.can.includes(Mc.Create))throw new ce(_e.ProtocolsConfigureInvalidActionDeleteWithoutCreate,`Action rule ${JSON.stringify($)} contains 'delete' action but missing the required 'create' action.`)}for(let D=V+1;D<f.length;D++){const q=f[D];if(void 0!==$.who){if($.who===q.who&&$.of===q.of)throw new ce(_e.ProtocolsConfigureDuplicateActorInRuleSet,`More than one action rule per actor ${$.who} of ${$.of} not allowed within a rule set: ${JSON.stringify($)}`)}else if($.role===q.role)throw new ce(_e.ProtocolsConfigureDuplicateRoleInRuleSet,`More than one action rule per role ${$.role} not allowed within a rule set: ${JSON.stringify($)}`)}}for(const V in i){if(V.startsWith("$"))continue;if(!h.includes(V))throw new ce(_e.ProtocolsConfigureInvalidRuleSetRecordType,`Rule set ${V} is not declared as an allowed type in the protocol definition.`);let D;D=""===l?V:`${l}/${V}`,Id.validateRuleSetRecursively({ruleSet:i[V],ruleSetProtocolPath:D,recordTypes:h,roles:c})}}static normalizeDefinition(t){const n=Object.assign({},t.types);for(const i in n){const l=n[i].schema;void 0!==l&&(n[i].schema=Q_(l))}return Object.assign(Object.assign({},t),{protocol:Qp(t.protocol),types:n})}}class JS{constructor(t,n,i,l){this.didResolver=t,this.messageStore=n,this.eventLog=i,this.eventStream=l}handle({tenant:t,message:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){let i;try{i=yield Id.parse(n)}catch(D){return Os(D,400)}try{yield Rh(n.authorization,this.didResolver),yield function uP(r,t){return E3(this,void 0,void 0,function*(){if(t.author!==r)throw new ce(_e.AuthorizationAuthorNotOwner,`Message authored by ${t.author}, not authored by expected owner ${r}.`)})}(t,i)}catch(D){return Os(D,401)}const l={interface:Wi.Protocols,method:di.Configure,protocol:n.descriptor.definition.protocol},{messages:h}=yield this.messageStore.query(t,[l]);let V,c=yield Vr.getNewestMessage(h),f=!1;if((void 0===c||(yield Vr.isNewer(n,c)))&&(f=!0,c=n),f){const D=JS.constructIndexes(i);yield this.messageStore.put(t,n,D);const q=yield Vr.getCid(n);yield this.eventLog.append(t,q,D),void 0!==this.eventStream&&this.eventStream.emit(t,{message:n},D),V={status:{code:202,detail:"Accepted"}}}else V={status:{code:409,detail:"Conflict"}};const $=[];for(const D of h)if(yield Vr.isNewer(c,D)){const q=yield Vr.getCid(D);$.push(q),yield this.messageStore.delete(t,q)}return yield this.eventLog.deleteEventsByCid(t,$),V})}static constructIndexes(t){const n=t.message.descriptor,{definition:i}=n,l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(n,["definition"]),{author:h}=t;return Object.assign(Object.assign({},l),{author:h,protocol:i.protocol,published:i.published})}}var rw=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class mm extends Mp{static parse(t){return rw(this,void 0,void 0,function*(){return void 0!==t.authorization&&(yield Vr.validateSignatureStructure(t.authorization.signature,t.descriptor)),void 0!==t.descriptor.filter&&_h(t.descriptor.filter.protocol),va.validateTimestamp(t.descriptor.messageTimestamp),new mm(t)})}static create(t){var n;return rw(this,void 0,void 0,function*(){const i={interface:Wi.Protocols,method:di.Query,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:va.getCurrentTimestamp(),filter:t.filter?mm.normalizeFilter(t.filter):void 0};let l;bd(i),void 0!==t.signer&&(l=yield Vr.createAuthorization({descriptor:i,signer:t.signer,permissionGrantId:t.permissionGrantId}));const h={descriptor:i,authorization:l};return Vr.validateJsonSchema(h),new mm(h)})}static normalizeFilter(t){return Object.assign(Object.assign({},t),{protocol:Qp(t.protocol)})}authorize(t,n){return rw(this,void 0,void 0,function*(){if(this.author!==t){if(void 0===this.author||!this.signaturePayload.permissionGrantId)throw new ce(_e.ProtocolsQueryUnauthorized,"The ProtocolsQuery failed authorization");{const i=yield go.fetchGrant(t,n,this.signaturePayload.permissionGrantId);yield qu.performBaseValidation({incomingMessage:this.message,expectedGrantor:t,expectedGrantee:this.author,permissionGrant:i,messageStore:n})}}})}}var qS=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class QS{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return qS(this,void 0,void 0,function*(){let i;try{i=yield mm.parse(n)}catch(c){return Os(c,400)}try{yield Rh(n.authorization,this.didResolver),yield i.authorize(t,this.messageStore)}catch(c){return c.code===_e.AuthenticateJwsMissing||c.code===_e.ProtocolsQueryUnauthorized?{status:{code:200,detail:"OK"},entries:yield this.fetchPublishedProtocolsConfigure(t,i)}:Os(c,401)}const l=Object.assign(Object.assign({},n.descriptor.filter),{interface:Wi.Protocols,method:di.Configure});bd(l);const{messages:h}=yield this.messageStore.query(t,[l]);return{status:{code:200,detail:"OK"},entries:h}})}fetchPublishedProtocolsConfigure(t,n){return qS(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},n.message.descriptor.filter),{interface:Wi.Protocols,method:di.Configure,published:!0}),{messages:l}=yield this.messageStore.query(t,[i]);return l})}}var Zd=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class _o{static validateReferentialIntegrity(t,n,i){return Zd(this,void 0,void 0,function*(){const l=yield _o.fetchProtocolDefinition(t,n.message.descriptor.protocol,i);_o.verifyType(n.message,l.types),yield _o.verifyProtocolPathAndContextId(t,n,i);const h=_o.getRuleSet(n.message.descriptor.protocolPath,l);yield _o.verifyAsRoleRecordIfNeeded(t,n,h,i),_o.verifySizeLimit(n,h),_o.verifyTagsIfNeeded(n,h)})}static authorizeWrite(t,n,i){return Zd(this,void 0,void 0,function*(){let h;h=void 0===(yield _o.fetchInitialWrite(t,n.message.recordId,i))?yield _o.constructRecordChain(t,n.message.descriptor.parentId,i):yield _o.constructRecordChain(t,n.message.recordId,i);const c=yield _o.fetchProtocolDefinition(t,n.message.descriptor.protocol,i),f=_o.getRuleSet(n.message.descriptor.protocolPath,c);yield _o.verifyInvokedRole(t,n,n.message.descriptor.protocol,n.message.contextId,c,i),yield _o.authorizeAgainstAllowedActions(t,n,f,h,i)})}static authorizeRead(t,n,i,l){return Zd(this,void 0,void 0,function*(){const h=yield _o.constructRecordChain(t,i.message.recordId,l),c=yield _o.fetchProtocolDefinition(t,i.message.descriptor.protocol,l),f=_o.getRuleSet(i.message.descriptor.protocolPath,c);yield _o.verifyInvokedRole(t,n,i.message.descriptor.protocol,i.message.contextId,c,l),yield _o.authorizeAgainstAllowedActions(t,n,f,h,l)})}static authorizeQueryOrSubscribe(t,n,i){return Zd(this,void 0,void 0,function*(){const{protocol:l,protocolPath:h,contextId:c}=n.message.descriptor.filter,f=yield _o.fetchProtocolDefinition(t,l,i),V=_o.getRuleSet(h,f);yield _o.verifyInvokedRole(t,n,l,c,f,i),yield _o.authorizeAgainstAllowedActions(t,n,V,[],i)})}static authorizeDelete(t,n,i,l){return Zd(this,void 0,void 0,function*(){const h=yield _o.constructRecordChain(t,n.message.descriptor.recordId,l),c=yield _o.fetchProtocolDefinition(t,i.message.descriptor.protocol,l),f=_o.getRuleSet(i.message.descriptor.protocolPath,c);yield _o.verifyInvokedRole(t,n,i.message.descriptor.protocol,i.message.contextId,c,l),yield _o.authorizeAgainstAllowedActions(t,n,f,h,l)})}static fetchProtocolDefinition(t,n,i){return Zd(this,void 0,void 0,function*(){if(n===go.uri)return go.definition;const l={interface:Wi.Protocols,method:di.Configure,protocol:n},{messages:h}=yield i.query(t,[l]);if(0===h.length)throw new ce(_e.ProtocolAuthorizationProtocolNotFound,`unable to find protocol definition for ${n}`);return h[0].descriptor.definition})}static constructRecordChain(t,n,i){return Zd(this,void 0,void 0,function*(){if(void 0===n)return[];const l=[];let h=n;for(;void 0!==h;){const c=yield _o.fetchInitialWrite(t,h,i);if(void 0===c)throw new ce(_e.ProtocolAuthorizationParentNotFoundConstructingRecordChain,`Unexpected error that should never trigger: no parent found with ID ${h} when constructing record chain.`);l.push(c),h=c.descriptor.parentId}return l.reverse()})}static fetchInitialWrite(t,n,i){return Zd(this,void 0,void 0,function*(){const l={interface:Wi.Records,method:di.Write,recordId:n},{messages:h}=yield i.query(t,[l]);return 0===h.length?void 0:yield $o.getInitialWrite(h)})}static getRuleSet(t,n){const i=_o.getRuleSetAtProtocolPath(t,n);if(void 0===i)throw new ce(_e.ProtocolAuthorizationMissingRuleSet,`No rule set defined for protocolPath ${t}`);return i}static verifyProtocolPathAndContextId(t,n,i){var l;return Zd(this,void 0,void 0,function*(){const h=n.message.descriptor.protocolPath,c=_o.getTypeName(h),f=n.message.descriptor.parentId;if(void 0===f){if(h!==c)throw new ce(_e.ProtocolAuthorizationParentlessIncorrectProtocolPath,`Declared protocol path '${h}' is not valid for records with no parent'.`);return}const $={isLatestBaseState:!0,interface:Wi.Records,method:di.Write,protocol:n.message.descriptor.protocol,recordId:f},{messages:D}=yield i.query(t,[$]),q=D[0];if(`${null===(l=q?.descriptor)||void 0===l?void 0:l.protocolPath}/${c}`!==h)throw new ce(_e.ProtocolAuthorizationIncorrectProtocolPath,`Could not find matching parent record to verify declared protocol path '${h}'.`);const Oe=`${q.contextId}/${n.message.recordId}`,je=n.message.contextId;if(je!==Oe)throw new ce(_e.ProtocolAuthorizationIncorrectContextId,`Declared contextId '${je}' is not the same as expected: '${Oe}'.`)})}static verifyType(t,n){const i=Object.keys(n),h=_o.getTypeName(t.descriptor.protocolPath);if(!i.includes(h))throw new ce(_e.ProtocolAuthorizationInvalidType,`record with type ${h} not allowed in protocol`);const f=_o.getTypeName(t.descriptor.protocolPath),V=n[f],{schema:$}=t.descriptor;if(void 0!==V.schema&&V.schema!==$)throw new ce(_e.ProtocolAuthorizationInvalidSchema,`type '${f}' must have schema '${V.schema}',         instead has '${$}'`);const{dataFormat:D}=t.descriptor;if(void 0!==V.dataFormats&&!V.dataFormats.includes(D))throw new ce(_e.ProtocolAuthorizationIncorrectDataFormat,`type '${f}' must have data format in (${V.dataFormats}),         instead has '${D}'`)}static verifyInvokedRole(t,n,i,l,h,c){var f;return Zd(this,void 0,void 0,function*(){const V=null===(f=n.signaturePayload)||void 0===f?void 0:f.protocolRole;if(void 0===V)return;const $=_o.getRuleSetAtProtocolPath(V,h);if(void 0===$||!$.$role)throw new ce(_e.ProtocolAuthorizationNotARole,`Protocol path ${V} does not match role record type.`);const D={interface:Wi.Records,method:di.Write,protocol:i,protocolPath:V,recipient:n.author,isLatestBaseState:!0},q=V.split("/").length-1;if(void 0===l&&q>0)throw new ce(_e.ProtocolAuthorizationMissingContextId,"Could not verify role because contextId is missing.");if(q>0){const Oe=l.split("/").slice(0,q).join("/"),je=rl.constructPrefixFilterAsRangeFilter(Oe);D.contextId=je}const{messages:De}=yield c.query(t,[D]);if(0===De.length)throw new ce(_e.ProtocolAuthorizationMatchingRoleRecordNotFound,`No matching role record found for protocol path ${V}`)})}static getActionsSeekingARuleMatch(t,n,i){return Zd(this,void 0,void 0,function*(){switch(n.message.descriptor.method){case di.Delete:const l=n,h=l.message.descriptor.recordId,c=yield $o.fetchInitialRecordsWrite(i,t,h);if(void 0===c)return[];const f=[];return l.message.descriptor.prune?(f.push(Mc.CoPrune),n.author===c.author&&f.push(Mc.Prune)):(f.push(Mc.CoDelete),n.author===c.author&&f.push(Mc.Delete)),f;case di.Query:return[Mc.Query];case di.Read:return[Mc.Read];case di.Subscribe:return[Mc.Subscribe];case di.Write:if(yield n.isInitialWrite())return[Mc.Create];{const D=n.message.recordId,q=yield $o.fetchInitialRecordsWrite(i,t,D);return void 0===q?[]:n.author===q.author?[Mc.CoUpdate,Mc.Update]:[Mc.CoUpdate]}}return[]})}static authorizeAgainstAllowedActions(t,n,i,l,h){var c;return Zd(this,void 0,void 0,function*(){const f=n.message.descriptor.method,V=yield _o.getActionsSeekingARuleMatch(t,n,h),$=n.author,D=i.$actions;if(void 0===D)throw new ce(_e.ProtocolAuthorizationActionRulesNotFound,`no action rule defined for Records${f}, ${$} is unauthorized`);const q=null===(c=n.signaturePayload)||void 0===c?void 0:c.protocolRole;for(const De of D)if(De.can.some(je=>V.includes(je))){if(De.who===pm.Anyone)return;if(void 0!==$)if(void 0===q)if(De.who!==pm.Recipient||void 0!==De.of){if(yield _o.checkActor($,De,l))return}else{let je;if(je=n.message.descriptor.method===di.Write?n.message:l[l.length-1],je.descriptor.recipient===$)return}else if(De.role===q)return}throw new ce(_e.ProtocolAuthorizationActionNotAllowed,`Inbound message action Records${f} by author ${n.author} not allowed.`)})}static verifySizeLimit(t,n){const{min:i=0,max:l}=n.$size||{},h=t.message.descriptor.dataSize;if(h<i)throw new ce(_e.ProtocolAuthorizationMinSizeInvalid,`data size ${h} is less than allowed ${i}`);if(void 0!==l&&h>l)throw new ce(_e.ProtocolAuthorizationMaxSizeInvalid,`data size ${h} is more than allowed ${l}`)}static verifyTagsIfNeeded(t,n){if(void 0!==n.$tags){const{tags:i={},protocol:l,protocolPath:h}=t.message.descriptor,c=n.$tags,{$allowUndefinedTags:f,$requiredTags:V}=c,$=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(c,["$allowUndefinedTags","$requiredTags"]),D=f||!1,q=V||[],De=new YS.default,Re=De.compile({type:"object",properties:$,required:q,additionalProperties:D});if(!Re(i)){const je=De.errorsText(Re.errors,{dataVar:`${l}/${h}/$tags`});throw new ce(_e.ProtocolAuthorizationTagsInvalidSchema,`tags schema validation error: ${je}`)}}}static verifyAsRoleRecordIfNeeded(t,n,i,l){return Zd(this,void 0,void 0,function*(){if(!i.$role)return;const h=n,c=h.message.descriptor.recipient;if(void 0===c)throw new ce(_e.ProtocolAuthorizationRoleMissingRecipient,"Role records must have a recipient");const f=h.message.descriptor.protocolPath,V={interface:Wi.Records,method:di.Write,isLatestBaseState:!0,protocol:h.message.descriptor.protocol,protocolPath:f,recipient:c},$=ho.getParentContextFromOfContextId(h.message.contextId);if(""!==$){const Re=rl.constructPrefixFilterAsRangeFilter($);V.contextId=Re}const{messages:D}=yield l.query(t,[V]);if(D.filter(Re=>Re.recordId!==h.message.recordId).length>0)throw new ce(_e.ProtocolAuthorizationDuplicateRoleRecipient,`DID '${c}' is already recipient of a role record at protocol path '${f} under the parent context ${$}.`)})}static getRuleSetAtProtocolPath(t,n){const i=t.split("/");let l=n.structure,h=0;for(;h<i.length;){const f=l[i[h]];if(void 0===f)return;l=f,h++}return l}static checkActor(t,n,i){return Zd(this,void 0,void 0,function*(){const l=i.find(h=>h.descriptor.protocolPath===n.of);if(void 0===l)return!1;if(n.who===pm.Recipient)return t===l.descriptor.recipient;{const h=(yield $o.parse(l)).author;return t===h}})}static getTypeName(t){return t.split("/").slice(-1)[0]}}var eM=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class L0 extends Mp{static parse(t){return eM(this,void 0,void 0,function*(){let n;return void 0!==t.authorization&&(n=yield Vr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield ho.validateDelegatedGrantReferentialIntegrity(t,n),va.validateTimestamp(t.descriptor.messageTimestamp),new L0(t)})}static create(t){var n,i;return eM(this,void 0,void 0,function*(){const l=t.recordId,h=va.getCurrentTimestamp(),c={interface:Wi.Records,method:di.Delete,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:h,recordId:l,prune:null!==(i=t.prune)&&void 0!==i&&i},V={descriptor:c,authorization:yield Vr.createAuthorization({descriptor:c,signer:t.signer,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant})};return Vr.validateJsonSchema(V),new L0(V)})}constructIndexes(t){const i=Object.assign({},this.message.descriptor),{protocol:l,protocolPath:h,recipient:c,schema:f,parentId:V,dateCreated:$}=t.descriptor,D=Object.assign({protocol:l,protocolPath:h,recipient:c,schema:f,parentId:V,dateCreated:$,contextId:t.contextId,author:this.author},i);return bd(D),D}authorizeDelegate(t,n){return eM(this,void 0,void 0,function*(){const i=yield Ju.parse(this.message.authorization.authorDelegatedGrant);yield Qu.authorizeDelete({recordsDeleteMessage:this.message,recordsWriteToDelete:t,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:i,messageStore:n})})}}var Dg=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})},Y1=function(r){return r.RecordsDelete="RecordsDelete",r}(Y1||{});let gP=(()=>{class r{constructor(n,i){this.resumableTaskStore=n,this.resumableTaskBatchSize=100,this.resumableTaskHandlers={[Y1.RecordsDelete]:l=>Dg(this,void 0,void 0,function*(){return yield i.performRecordsDelete(l)})}}run(n){return Dg(this,void 0,void 0,function*(){const i=2*r.timeoutExtensionFrequencyInSeconds,l=yield this.resumableTaskStore.register(n,i);yield this.runWithAutomaticTimeoutExtension(l)})}runWithAutomaticTimeoutExtension(n){return Dg(this,void 0,void 0,function*(){const i=2*r.timeoutExtensionFrequencyInSeconds;let l;try{l=setInterval(()=>{this.resumableTaskStore.extend(n.id,i)},1e3*r.timeoutExtensionFrequencyInSeconds);const h=this.resumableTaskHandlers[n.task.name];yield h(n.task.data),yield this.resumableTaskStore.delete(n.id)}finally{r.clearTimeoutExtensionTimer(l)}})}static clearTimeoutExtensionTimer(n){clearInterval(n)}resumeTasksAndWaitForCompletion(){return Dg(this,void 0,void 0,function*(){for(;;){const n=yield this.resumableTaskStore.grab(this.resumableTaskBatchSize);if(void 0===n||0===n.length)break;yield this.retryTasksUntilCompletion(n)}})}retryTasksUntilCompletion(n){return Dg(this,void 0,void 0,function*(){let i=n;for(;i.length>0;){const l=i;i=[];const h=l.map(c=>Dg(this,void 0,void 0,function*(){try{yield this.runWithAutomaticTimeoutExtension(c)}catch(f){console.error("Error while running resumable task:",f),console.error("Resumable task:",n),i.push(c)}}));yield Promise.all(h)}})}}return r.timeoutExtensionFrequencyInSeconds=30,r})();var A3=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class Cg{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.resumableTaskManager=i}handle({tenant:t,message:n}){return A3(this,void 0,void 0,function*(){let i;try{i=yield L0.parse(n)}catch($){return Os($,400)}try{yield Rh(n.authorization,this.didResolver)}catch($){return Os($,401)}const l={interface:Wi.Records,recordId:n.descriptor.recordId},{messages:h}=yield this.messageStore.query(t,[l]),c=yield Vr.getNewestMessage(h);if(void 0===c||c.descriptor.method===di.Delete)return{status:{code:404,detail:"Not Found"}};if(!(yield Vr.isNewer(n,c)))return{status:{code:409,detail:"Conflict"}};try{yield Cg.authorizeRecordsDelete(t,i,yield $o.parse(c),this.messageStore)}catch($){return Os($,401)}return yield this.resumableTaskManager.run({name:Y1.RecordsDelete,data:{tenant:t,message:n}}),{status:{code:202,detail:"Accepted"}}})}static authorizeRecordsDelete(t,n,i,l){return A3(this,void 0,void 0,function*(){if(Vr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i.message,l)),n.author!==t){if(void 0===i.message.descriptor.protocol)throw new ce(_e.RecordsDeleteAuthorizationFailed,"RecordsDelete message failed authorization");yield _o.authorizeDelete(t,n,i,l)}})}}var vu=function(r){return r[r.Descending=-1]="Descending",r[r.Ascending=1]="Ascending",r}(vu||{}),ym=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class U0{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return ym(this,void 0,void 0,function*(){let i,l,h;try{i=yield Qb.parse(n)}catch(c){return Os(c,400)}if(ho.filterIncludesPublishedRecords(i.message.descriptor.filter)&&void 0===i.author){const c=yield this.fetchPublishedRecords(t,i);l=c.messages,h=c.cursor}else{try{yield Rh(n.authorization,this.didResolver),yield U0.authorizeRecordsQuery(t,i,this.messageStore)}catch(c){return Os(c,401)}if(i.author===t){const c=yield this.fetchRecordsAsOwner(t,i);l=c.messages,h=c.cursor}else{const c=yield this.fetchRecordsAsNonOwner(t,i);l=c.messages,h=c.cursor}}for(const c of l)if(!(yield $o.isInitialWrite(c))){const V=(yield this.messageStore.query(t,[{recordId:c.recordId,isLatestBaseState:!1,method:di.Write}])).messages[0];delete V.encodedData,c.initialWrite=V}return{status:{code:200,detail:"OK"},entries:l,cursor:h}})}convertDateSort(t){switch(t){case Kd.CreatedAscending:return{dateCreated:vu.Ascending};case Kd.CreatedDescending:return{dateCreated:vu.Descending};case Kd.PublishedAscending:return{datePublished:vu.Ascending};case Kd.PublishedDescending:return{datePublished:vu.Descending};default:return{dateCreated:vu.Ascending}}}fetchRecordsAsOwner(t,n){return ym(this,void 0,void 0,function*(){const{dateSort:i,filter:l,pagination:h}=n.message.descriptor,c=Object.assign(Object.assign({},ho.convertFilter(l,i)),{interface:Wi.Records,method:di.Write,isLatestBaseState:!0}),f=this.convertDateSort(i);return this.messageStore.query(t,[c],f,h)})}fetchRecordsAsNonOwner(t,n){return ym(this,void 0,void 0,function*(){const{dateSort:i,pagination:l,filter:h}=n.message.descriptor,c=[];if(ho.filterIncludesPublishedRecords(h)&&c.push(U0.buildPublishedRecordsFilter(n)),ho.filterIncludesUnpublishedRecords(h)){c.push(U0.buildUnpublishedRecordsByQueryAuthorFilter(n));const V=n.message.descriptor.filter.recipient;(void 0===V||V===n.author)&&c.push(U0.buildUnpublishedRecordsForQueryAuthorFilter(n)),ho.shouldProtocolAuthorize(n.signaturePayload)&&c.push(U0.buildUnpublishedProtocolAuthorizedRecordsFilter(n))}const f=this.convertDateSort(i);return this.messageStore.query(t,c,f,l)})}fetchPublishedRecords(t,n){return ym(this,void 0,void 0,function*(){const{dateSort:i,pagination:l}=n.message.descriptor,h=U0.buildPublishedRecordsFilter(n),c=this.convertDateSort(i);return this.messageStore.query(t,[h],c,l)})}static buildPublishedRecordsFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},ho.convertFilter(i,n)),{interface:Wi.Records,method:di.Write,published:!0,isLatestBaseState:!0})}static buildUnpublishedRecordsForQueryAuthorFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},ho.convertFilter(i,n)),{interface:Wi.Records,method:di.Write,recipient:t.author,isLatestBaseState:!0,published:!1})}static buildUnpublishedProtocolAuthorizedRecordsFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},ho.convertFilter(i,n)),{interface:Wi.Records,method:di.Write,isLatestBaseState:!0,published:!1})}static buildUnpublishedRecordsByQueryAuthorFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},ho.convertFilter(i,n)),{author:t.author,interface:Wi.Records,method:di.Write,isLatestBaseState:!0,published:!1})}static authorizeRecordsQuery(t,n,i){return ym(this,void 0,void 0,function*(){Vr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i)),ho.shouldProtocolAuthorize(n.signaturePayload)&&(yield _o.authorizeQueryOrSubscribe(t,n,i))})}}var tM=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class kg extends Mp{static parse(t){return tM(this,void 0,void 0,function*(){let n;return void 0!==t.authorization&&(n=yield Vr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield ho.validateDelegatedGrantReferentialIntegrity(t,n),va.validateTimestamp(t.descriptor.messageTimestamp),new kg(t)})}static create(t){var n;return tM(this,void 0,void 0,function*(){const{filter:i,signer:l,permissionGrantId:h,protocolRole:c}=t,f=va.getCurrentTimestamp(),V={interface:Wi.Records,method:di.Read,filter:ho.normalizeFilter(i),messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:f};let $;bd(V),void 0!==l&&($=yield Vr.createAuthorization({descriptor:V,signer:l,permissionGrantId:h,protocolRole:c,delegatedGrant:t.delegatedGrant}));const D={descriptor:V,authorization:$};return Vr.validateJsonSchema(D),new kg(D)})}authorizeDelegate(t,n){return tM(this,void 0,void 0,function*(){const i=yield Ju.parse(this.message.authorization.authorDelegatedGrant);yield Qu.authorizeRead({recordsReadMessage:this.message,recordsWriteMessageToBeRead:t,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:i,messageStore:n})})}}var nM=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class J1{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return nM(this,void 0,void 0,function*(){let i;try{i=yield kg.parse(n)}catch(D){return Os(D,400)}try{void 0!==i.author&&(yield Rh(n.authorization,this.didResolver))}catch(D){return Os(D,401)}const l=Object.assign({interface:Wi.Records,isLatestBaseState:!0},ho.convertFilter(n.descriptor.filter)),{messages:h}=yield this.messageStore.query(t,[l]);if(0===h.length)return{status:{code:404,detail:"Not Found"}};if(h.length>1)return Os(new ce(_e.RecordsReadReturnedMultiple,"Multiple records exist for the RecordsRead filter"),400);const c=h[0];try{yield J1.authorizeRecordsRead(t,i,yield $o.parse(c),this.messageStore)}catch(D){return Os(D,401)}let f;if(void 0!==c.encodedData){const D=K.base64UrlToBytes(c.encodedData);f=Ap.fromBytes(D),delete c.encodedData}else{const D=yield this.dataStore.get(t,c.recordId,c.descriptor.dataCid);if(void 0===D?.dataStream)return{status:{code:404,detail:"Not Found"}};f=D.dataStream}const V=Object.assign(Object.assign({},c),{data:f});if(!(yield $o.isInitialWrite(V))){const q=(yield this.messageStore.query(t,[{recordId:V.recordId,isLatestBaseState:!1,method:di.Write}])).messages[0];delete q.encodedData,V.initialWrite=q}return{status:{code:200,detail:"OK"},record:V}})}static authorizeRecordsRead(t,n,i,l){return nM(this,void 0,void 0,function*(){Vr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i.message,l));const{descriptor:h}=i.message;if(n.author!==t){if(!0===h.published)return;if(void 0!==n.author&&n.author===h.recipient)return;if(void 0!==n.author&&void 0!==n.signaturePayload.permissionGrantId){const c=yield go.fetchGrant(t,l,n.signaturePayload.permissionGrantId);yield Qu.authorizeRead({recordsReadMessage:n.message,recordsWriteMessageToBeRead:i.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:c,messageStore:l})}else{if(void 0===h.protocol)throw new ce(_e.RecordsReadAuthorizationFailed,"message failed authorization");yield _o.authorizeRead(t,n,i,l)}}})}}var q1=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class iw extends Mp{static parse(t){return q1(this,void 0,void 0,function*(){let n;if(void 0!==t.authorization&&(n=yield Vr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield ho.validateDelegatedGrantReferentialIntegrity(t,n),void 0!==n?.protocolRole&&void 0===t.descriptor.filter.protocolPath)throw new ce(_e.RecordsSubscribeFilterMissingRequiredProperties,"Role-authorized subscriptions must include `protocolPath` in the filter");return void 0!==t.descriptor.filter.protocol&&_h(t.descriptor.filter.protocol),void 0!==t.descriptor.filter.schema&&q_(t.descriptor.filter.schema),va.validateTimestamp(t.descriptor.messageTimestamp),new iw(t)})}static create(t){var n;return q1(this,void 0,void 0,function*(){const i={interface:Wi.Records,method:di.Subscribe,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:va.getCurrentTimestamp(),filter:ho.normalizeFilter(t.filter)};bd(i);const l=t.signer;let h;l&&(h=yield Vr.createAuthorization({descriptor:i,signer:l,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant}));const c={descriptor:i,authorization:h};return Vr.validateJsonSchema(c),new iw(c)})}authorizeDelegate(t){return q1(this,void 0,void 0,function*(){const n=yield Ju.parse(this.message.authorization.authorDelegatedGrant);yield Qu.authorizeQueryOrSubscribe({incomingMessage:this.message,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:n,messageStore:t})})}}var Q1=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class Bh{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.eventStream=i}handle({tenant:t,message:n,subscriptionHandler:i}){return Q1(this,void 0,void 0,function*(){if(void 0===this.eventStream)return Os(new ce(_e.RecordsSubscribeEventStreamUnimplemented,"Subscriptions are not supported"),501);let l;try{l=yield iw.parse(n)}catch($){return Os($,400)}let h=[];if(ho.filterIncludesPublishedRecords(l.message.descriptor.filter)&&void 0===l.author)h=[Bh.buildPublishedRecordsFilter(l)],delete n.authorization;else{try{yield Rh(n.authorization,this.didResolver),yield Bh.authorizeRecordsSubscribe(t,l,this.messageStore)}catch($){return Os($,401)}h=l.author===t?yield Bh.filterAsOwner(l):yield Bh.filterAsNonOwner(l)}const f=yield Vr.getCid(n);return{status:{code:200,detail:"OK"},subscription:yield this.eventStream.subscribe(t,f,($,D,q)=>{t===$&&rl.matchAnyFilter(q,h)&&i(D)})}})}static filterAsOwner(t){return Q1(this,void 0,void 0,function*(){const{filter:n}=t.message.descriptor;return[Object.assign(Object.assign({},ho.convertFilter(n)),{interface:Wi.Records,method:[di.Write,di.Delete]})]})}static filterAsNonOwner(t){return Q1(this,void 0,void 0,function*(){const n=[],{filter:i}=t.message.descriptor;if(ho.filterIncludesPublishedRecords(i)&&n.push(Bh.buildPublishedRecordsFilter(t)),ho.filterIncludesUnpublishedRecords(i)){n.push(Bh.buildUnpublishedRecordsBySubscribeAuthorFilter(t));const l=t.message.descriptor.filter.recipient;(void 0===l||l===t.author)&&n.push(Bh.buildUnpublishedRecordsForSubscribeAuthorFilter(t)),ho.shouldProtocolAuthorize(t.signaturePayload)&&n.push(Bh.buildUnpublishedProtocolAuthorizedRecordsFilter(t))}return n})}static buildPublishedRecordsFilter(t){return Object.assign(Object.assign({},ho.convertFilter(t.message.descriptor.filter)),{interface:Wi.Records,method:[di.Write,di.Delete],published:!0})}static buildUnpublishedRecordsForSubscribeAuthorFilter(t){return Object.assign(Object.assign({},ho.convertFilter(t.message.descriptor.filter)),{interface:Wi.Records,method:[di.Write,di.Delete],recipient:t.author,published:!1})}static buildUnpublishedProtocolAuthorizedRecordsFilter(t){return Object.assign(Object.assign({},ho.convertFilter(t.message.descriptor.filter)),{interface:Wi.Records,method:[di.Write,di.Delete],published:!1})}static buildUnpublishedRecordsBySubscribeAuthorFilter(t){return Object.assign(Object.assign({},ho.convertFilter(t.message.descriptor.filter)),{author:t.author,interface:Wi.Records,method:[di.Write,di.Delete],published:!1})}static authorizeRecordsSubscribe(t,n,i){return Q1(this,void 0,void 0,function*(){Vr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i)),ho.shouldProtocolAuthorize(n.signaturePayload)&&(yield _o.authorizeQueryOrSubscribe(t,n,i))})}}let rM=(()=>{class r{}return r.maxDataSizeAllowedToBeEncoded=3e4,r})();var ow=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class gm{constructor({messageStore:t,dataStore:n,eventLog:i,eventStream:l}){this.messageStore=t,this.dataStore=n,this.eventLog=i,this.eventStream=l}performRecordsDelete({tenant:t,message:n}){return ow(this,void 0,void 0,function*(){const i={interface:Wi.Records,recordId:n.descriptor.recordId},{messages:l}=yield this.messageStore.query(t,[i]),h=yield Vr.getNewestMessage(l);if(void 0===h||h.descriptor.method===di.Delete)return;const c=yield L0.parse(n),f=yield $o.getInitialWrite(l),V=c.constructIndexes(f),$=yield Vr.getCid(n);yield this.messageStore.put(t,n,V),yield this.eventLog.append(t,$,V),void 0!==this.eventStream&&this.eventStream.emit(t,{message:n,initialWrite:f},V),n.descriptor.prune&&(yield gm.purgeRecordDescendants(t,n.descriptor.recordId,this.messageStore,this.dataStore,this.eventLog)),yield gm.deleteAllOlderMessagesButKeepInitialWrite(t,l,n,this.messageStore,this.dataStore,this.eventLog)})}static deleteFromDataStoreIfNeeded(t,n,i,l){return ow(this,void 0,void 0,function*(){if(i.descriptor.method!==di.Write)return;const h=i;h.descriptor.dataSize<=rM.maxDataSizeAllowedToBeEncoded||h.descriptor.dataCid!==l.descriptor.dataCid&&(yield t.delete(n,h.recordId,h.descriptor.dataCid))})}static purgeRecordDescendants(t,n,i,l,h){return ow(this,void 0,void 0,function*(){const c={interface:Wi.Records,parentId:n},{messages:f}=yield i.query(t,[c]),V=new Map;for(const $ of f){let D;D=ho.isRecordsWrite($)?$.recordId:$.descriptor.recordId,V.has(D)||V.set(D,[]),V.get(D).push($)}for(const $ of V.keys())yield gm.purgeRecordDescendants(t,$,i,l,h);for(const $ of V.keys())yield gm.purgeRecordMessages(t,V.get($),i,l,h)})}static purgeRecordMessages(t,n,i,l,h){return ow(this,void 0,void 0,function*(){const c=n.filter($=>$.descriptor.method===di.Write),f=yield Vr.getNewestMessage(c);yield l.delete(t,f.recordId,f.descriptor.dataCid);const V=yield Promise.all(n.map($=>Vr.getCid($)));yield h.deleteEventsByCid(t,V),yield Promise.all(V.map($=>i.delete(t,$)))})}static deleteAllOlderMessagesButKeepInitialWrite(t,n,i,l,h,c){return ow(this,void 0,void 0,function*(){const f=[];for(const V of n){if(yield Vr.isOlder(V,i)){yield gm.deleteFromDataStoreIfNeeded(h,t,V,i);const D=yield Vr.getCid(V);if(yield l.delete(t,D),yield $o.isInitialWrite(V)){const Oe=yield(yield $o.parse(V)).constructIndexes(!1),je=V;delete je.encodedData,yield l.put(t,je,Oe)}else{const De=yield Vr.getCid(V);f.push(De)}}yield c.deleteEventsByCid(t,f)}})}}var F0=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class Hf{constructor(t,n,i,l,h){this.didResolver=t,this.messageStore=n,this.dataStore=i,this.eventLog=l,this.eventStream=h}handle({tenant:t,message:n,dataStream:i}){return F0(this,void 0,void 0,function*(){let l;try{l=yield $o.parse(n),void 0!==n.descriptor.protocol&&(yield _o.validateReferentialIntegrity(t,l,this.messageStore))}catch(Re){return Os(Re,400)}try{yield Rh(n.authorization,this.didResolver),yield Hf.authorizeRecordsWrite(t,l,this.messageStore)}catch(Re){return Os(Re,401)}const h={interface:Wi.Records,recordId:n.recordId},{messages:c}=yield this.messageStore.query(t,[h]),f=yield l.isInitialWrite();let V;if(!f)try{V=yield $o.getInitialWrite(c),$o.verifyEqualityOfImmutableProperties(V,n)}catch(Re){return Os(Re,400)}const $=yield Vr.getNewestMessage(c);let q,D=!1;if(void 0===$||(yield Vr.isNewer(n,$))?(D=!0,q=n):q=$,!D)return{status:{code:409,detail:"Conflict"}};try{yield this.preProcessingForCoreRecordsWrite(t,n);let Re=!1,Oe=n;if(void 0!==i)Oe=yield this.processMessageWithDataStream(t,n,i),Re=!0;else{if($?.descriptor.method===di.Delete)throw new ce(_e.RecordsWriteMissingDataStream,"No data stream was provided with the previous message being a delete");if(!f){const et=$;Oe=yield this.processMessageWithoutDataStream(t,n,et),Re=!0}}const je=yield l.constructIndexes(Re);yield this.messageStore.put(t,Oe,je),yield this.eventLog.append(t,yield Vr.getCid(n),je),void 0!==this.eventStream&&Re&&this.eventStream.emit(t,{message:n,initialWrite:V},je)}catch(Re){const Oe=Re;if(void 0!==Oe.code&&(Oe.code===_e.RecordsWriteMissingEncodedDataInPrevious||Oe.code===_e.RecordsWriteMissingDataInPrevious||Oe.code===_e.RecordsWriteMissingDataStream||Oe.code===_e.RecordsWriteDataCidMismatch||Oe.code===_e.RecordsWriteDataSizeMismatch||Oe.code.startsWith("PermissionsProtocolValidate")||Oe.code.startsWith("SchemaValidator")))return Os(Re,400);throw Re}return yield gm.deleteAllOlderMessagesButKeepInitialWrite(t,c,q,this.messageStore,this.dataStore,this.eventLog),yield this.postProcessingForCoreRecordsWrite(t,l),{status:{code:202,detail:"Accepted"}}})}preProcessingForCoreRecordsWrite(t,n){var i;return F0(this,void 0,void 0,function*(){if(n.descriptor.protocol===go.uri&&n.descriptor.protocolPath===go.revocationPath){const l=n.descriptor.parentId,h=yield go.fetchGrant(t,this.messageStore,l),c=null===(i=n.descriptor.tags)||void 0===i?void 0:i.protocol,f="protocol"in h.scope?h.scope.protocol:void 0;if(f!==c)throw new ce(_e.PermissionsProtocolValidateRevocationProtocolTagMismatch,`Revocation protocol ${c} does not match grant protocol ${f}`)}})}static validateSchemaForCoreRecordsWrite(t,n){t.descriptor.protocol===go.uri&&go.validateSchema(t,n)}postProcessingForCoreRecordsWrite(t,n){return F0(this,void 0,void 0,function*(){if(n.message.descriptor.protocol===go.uri&&n.message.descriptor.protocolPath===go.revocationPath){const l={permissionGrantId:n.message.descriptor.parentId,dateCreated:{gte:n.message.descriptor.messageTimestamp}},{messages:h}=yield this.messageStore.query(t,[l]),c=[];for(const f of h){const V=yield Vr.getCid(f);yield this.messageStore.delete(t,V)}this.eventLog.deleteEventsByCid(t,c)}})}cloneAndAddEncodedData(t,n){return F0(this,void 0,void 0,function*(){const i=Object.assign({},t);return i.encodedData=K.bytesToBase64Url(n),i})}processMessageWithDataStream(t,n,i){return F0(this,void 0,void 0,function*(){let l=n;if(n.descriptor.dataSize<=rM.maxDataSizeAllowedToBeEncoded){const h=yield Ap.toBytes(i),c=yield nl.computeDagPbCidFromBytes(h);Hf.validateDataIntegrity(n.descriptor.dataCid,n.descriptor.dataSize,c,h.length),Hf.validateSchemaForCoreRecordsWrite(n,h),l=yield this.cloneAndAddEncodedData(n,h)}else{const[h,c]=Ap.duplicateDataStream(i,2);try{const[f,V]=yield Promise.all([nl.computeDagPbCidFromStream(h),this.dataStore.put(t,n.recordId,n.descriptor.dataCid,c)]);Hf.validateDataIntegrity(n.descriptor.dataCid,n.descriptor.dataSize,f,V.dataSize)}catch(f){throw yield this.dataStore.delete(t,n.recordId,n.descriptor.dataCid),f}}return l})}processMessageWithoutDataStream(t,n,i){return F0(this,void 0,void 0,function*(){const l=Object.assign({},n),{dataCid:h,dataSize:c}=n.descriptor;if(Hf.validateDataIntegrity(h,c,i.descriptor.dataCid,i.descriptor.dataSize),c<=rM.maxDataSizeAllowedToBeEncoded){if(void 0===i.encodedData)throw new ce(_e.RecordsWriteMissingEncodedDataInPrevious,"No dataStream was provided and unable to get data from previous message");l.encodedData=i.encodedData}else if(void 0===(yield this.dataStore.get(t,i.recordId,n.descriptor.dataCid)))throw new ce(_e.RecordsWriteMissingDataInPrevious,"No dataStream was provided and unable to get data from previous message");return l})}static validateDataIntegrity(t,n,i,l){if(t!==i)throw new ce(_e.RecordsWriteDataCidMismatch,`actual data CID ${i} does not match dataCid in descriptor: ${t}`);if(n!==l)throw new ce(_e.RecordsWriteDataSizeMismatch,`actual data size ${l} bytes does not match dataSize in descriptor: ${n}`)}static authorizeRecordsWrite(t,n,i){return F0(this,void 0,void 0,function*(){if(void 0!==n.owner&&n.owner!==t)throw new ce(_e.RecordsWriteOwnerAndTenantMismatch,`Owner ${n.owner} must be the same as tenant ${t} when specified.`);if(n.isSignedByAuthorDelegate&&(yield n.authorizeAuthorDelegate(i)),n.isSignedByOwnerDelegate&&(yield n.authorizeOwnerDelegate(i)),void 0===n.owner){if(n.author===t)return;if(void 0!==n.author&&void 0!==n.signaturePayload.permissionGrantId){const l=yield go.fetchGrant(t,i,n.signaturePayload.permissionGrantId);yield Qu.authorizeWrite({recordsWriteMessage:n.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:l,messageStore:i})}else{if(void 0===n.message.descriptor.protocol)throw new ce(_e.RecordsWriteAuthorizationFailed,"message failed authorization");yield _o.authorizeWrite(t,n,i)}}})}}var sw=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}(sw||{});const Wf={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Rs{constructor({method:t,id:n,path:i,query:l,fragment:h,params:c}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=i,this.query=l,this.fragment=h,this.params=c}static parse(t){if(!t)return null;const n=Rs.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:i,id:l,path:h,query:c,fragment:f}=n.groups,V={uri:`did:${i}:${l}`,method:i,id:l};if(h&&(V.path=h),c&&(V.query=c.slice(1)),f&&(V.fragment=f.slice(1)),c){const $={},D=c.slice(1).split("&");for(const q of D){const[De,Re]=q.split("=");$[De]=Re}V.params=$}return V}}Rs.METHOD_PATTERN="([a-z0-9]+)",Rs.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Rs.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Rs.PCT_ENCODED_PATTERN})`,Rs.METHOD_ID_PATTERN=`((?:${Rs.ID_CHAR_PATTERN}*:)*(${Rs.ID_CHAR_PATTERN}+))`,Rs.PATH_PATTERN="(/[^#?]*)?",Rs.QUERY_PATTERN="([?][^#]*)?",Rs.FRAGMENT_PATTERN="(#.*)?",Rs.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Rs.METHOD_PATTERN}):(?<id>${Rs.METHOD_ID_PATTERN})(?<path>${Rs.PATH_PATTERN})(?<query>${Rs.QUERY_PATTERN})(?<fragment>${Rs.FRAGMENT_PATTERN})$`);class Gi extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gi)}}var Zi=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(Zi||{}),er=_(37475);function iM(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function eE(r,...t){if(!function nB(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}(r))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(r.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${r.length}`)}function aw(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}const cw="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function Il(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}const vm=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Nh=(r,t)=>r<<32-t|r>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function k3(r){if("string"!=typeof r)throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array((new TextEncoder).encode(r))}function lw(r){if("string"==typeof r&&(r=k3(r)),!Il(r))throw new Error("expected Uint8Array, got "+typeof r);return r}function nE(...r){let t=0;for(let i=0;i<r.length;i++){const l=r[i];if(!Il(l))throw new Error("Uint8Array expected");t+=l.length}const n=new Uint8Array(t);for(let i=0,l=0;i<r.length;i++){const h=r[i];n.set(h,l),l+=h.length}return n}class sM{clone(){return this._cloneInto()}}function rE(r){const t=i=>r().update(lw(i)).digest(),n=r();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>r(),t}function iE(r=32){if(cw&&"function"==typeof cw.getRandomValues)return cw.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}class j0 extends sM{constructor(t,n,i,l){super(),this.blockLen=t,this.outputLen=n,this.padOffset=i,this.isLE=l,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=vm(this.buffer)}update(t){aw(this);const{view:n,buffer:i,blockLen:l}=this,h=(t=lw(t)).length;for(let c=0;c<h;){const f=Math.min(l-this.pos,h-c);if(f!==l)i.set(t.subarray(c,c+f),this.pos),this.pos+=f,c+=f,this.pos===l&&(this.process(n,0),this.pos=0);else{const V=vm(t);for(;l<=h-c;c+=l)this.process(V,c)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){aw(this),function I3(r,t){eE(r);const n=t.outputLen;if(r.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(t,this),this.finished=!0;const{buffer:n,view:i,blockLen:l,isLE:h}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>l-c&&(this.process(i,0),c=0);for(let q=c;q<l;q++)n[q]=0;(function P3(r,t,n,i){if("function"==typeof r.setBigUint64)return r.setBigUint64(t,n,i);const l=BigInt(32),h=BigInt(4294967295),c=Number(n>>l&h),f=Number(n&h),$=i?0:4;r.setUint32(t+(i?4:0),c,i),r.setUint32(t+$,f,i)})(i,l-8,BigInt(8*this.length),h),this.process(i,0);const f=vm(t),V=this.outputLen;if(V%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const $=V/4,D=this.get();if($>D.length)throw new Error("_sha2: outputLen bigger than state");for(let q=0;q<$;q++)f.setUint32(4*q,D[q],h)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const i=t.slice(0,n);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:i,length:l,finished:h,destroyed:c,pos:f}=this;return t.length=l,t.pos=f,t.finished=h,t.destroyed=c,l%n&&t.buffer.set(i),t}}const EP=(r,t,n)=>r&t^~r&n,O3=(r,t,n)=>r&t^r&n^t&n,cM=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),$0=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bm=new Uint32Array(64);class R3 extends j0{constructor(){super(64,32,8,!1),this.A=0|$0[0],this.B=0|$0[1],this.C=0|$0[2],this.D=0|$0[3],this.E=0|$0[4],this.F=0|$0[5],this.G=0|$0[6],this.H=0|$0[7]}get(){const{A:t,B:n,C:i,D:l,E:h,F:c,G:f,H:V}=this;return[t,n,i,l,h,c,f,V]}set(t,n,i,l,h,c,f,V){this.A=0|t,this.B=0|n,this.C=0|i,this.D=0|l,this.E=0|h,this.F=0|c,this.G=0|f,this.H=0|V}process(t,n){for(let q=0;q<16;q++,n+=4)bm[q]=t.getUint32(n,!1);for(let q=16;q<64;q++){const De=bm[q-15],Re=bm[q-2],Oe=Nh(De,7)^Nh(De,18)^De>>>3,je=Nh(Re,17)^Nh(Re,19)^Re>>>10;bm[q]=je+bm[q-7]+Oe+bm[q-16]|0}let{A:i,B:l,C:h,D:c,E:f,F:V,G:$,H:D}=this;for(let q=0;q<64;q++){const Re=D+(Nh(f,6)^Nh(f,11)^Nh(f,25))+EP(f,V,$)+cM[q]+bm[q]|0,je=(Nh(i,2)^Nh(i,13)^Nh(i,22))+O3(i,l,h)|0;D=$,$=V,V=f,f=c+Re|0,c=h,h=l,l=i,i=Re+je|0}i=i+this.A|0,l=l+this.B|0,h=h+this.C|0,c=c+this.D|0,f=f+this.E|0,V=V+this.F|0,$=$+this.G|0,D=D+this.H|0,this.set(i,l,h,c,f,V,$,D)}roundClean(){bm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const wm=rE(()=>new R3);class lM{static digest({data:t}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return wm(t)})}}class oE{}BigInt(0);const sE=BigInt(1),B3=BigInt(2);function Gf(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}const N3=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function _m(r){if(!Gf(r))throw new Error("Uint8Array expected");let t="";for(let n=0;n<r.length;n++)t+=N3[r[n]];return t}function L3(r){if("string"!=typeof r)throw new Error("hex string expected, got "+typeof r);return BigInt(""===r?"0":`0x${r}`)}const Em={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function uM(r){return r>=Em._0&&r<=Em._9?r-Em._0:r>=Em._A&&r<=Em._F?r-(Em._A-10):r>=Em._a&&r<=Em._f?r-(Em._a-10):void 0}function dw(r){if("string"!=typeof r)throw new Error("hex string expected, got "+typeof r);const t=r.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(n);for(let l=0,h=0;l<n;l++,h+=2){const c=uM(r.charCodeAt(h)),f=uM(r.charCodeAt(h+1));if(void 0===c||void 0===f)throw new Error('hex string expected, got non-hex character "'+(r[h]+r[h+1])+'" at index '+h);i[l]=16*c+f}return i}function Pg(r){return L3(_m(r))}function K0(r){if(!Gf(r))throw new Error("Uint8Array expected");return L3(_m(Uint8Array.from(r).reverse()))}function Tp(r,t){return dw(r.toString(16).padStart(2*t,"0"))}function uw(r,t){return Tp(r,t).reverse()}function Ac(r,t,n){let i;if("string"==typeof t)try{i=dw(t)}catch(h){throw new Error(`${r} must be valid hex string, got "${t}". Cause: ${h}`)}else{if(!Gf(t))throw new Error(`${r} must be hex string or Uint8Array`);i=Uint8Array.from(t)}const l=i.length;if("number"==typeof n&&l!==n)throw new Error(`${r} expected ${n} bytes, got ${l}`);return i}function Og(...r){let t=0;for(let l=0;l<r.length;l++){const h=r[l];if(!Gf(h))throw new Error("Uint8Array expected");t+=h.length}let n=new Uint8Array(t),i=0;for(let l=0;l<r.length;l++){const h=r[l];n.set(h,i),i+=h.length}return n}const V0=r=>(B3<<BigInt(r-1))-sE,Rg=r=>new Uint8Array(r),U3=r=>Uint8Array.from(r);function F3(r,t,n){if("number"!=typeof r||r<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let i=Rg(r),l=Rg(r),h=0;const c=()=>{i.fill(1),l.fill(0),h=0},f=(...q)=>n(l,i,...q),V=(q=Rg())=>{l=f(U3([0]),q),i=f(),0!==q.length&&(l=f(U3([1]),q),i=f())},$=()=>{if(h++>=1e3)throw new Error("drbg: tried 1000 values");let q=0;const De=[];for(;q<t;){i=f();const Re=i.slice();De.push(Re),q+=i.length}return Og(...De)};return(q,De)=>{let Re;for(c(),V(q);!(Re=De($()));)V();return c(),Re}}const CP={bigint:r=>"bigint"==typeof r,function:r=>"function"==typeof r,boolean:r=>"boolean"==typeof r,string:r=>"string"==typeof r,stringOrUint8Array:r=>"string"==typeof r||Gf(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>"function"==typeof r&&Number.isSafeInteger(r.outputLen)};function z0(r,t,n={}){const i=(l,h,c)=>{const f=CP[h];if("function"!=typeof f)throw new Error(`Invalid validator "${h}", expected function`);const V=r[l];if(!(c&&void 0===V||f(V,r)))throw new Error(`Invalid param ${String(l)}=${V} (${typeof V}), expected ${h}`)};for(const[l,h]of Object.entries(t))i(l,h,!1);for(const[l,h]of Object.entries(n))i(l,h,!0);return r}const Wc=BigInt(0),ra=BigInt(1),xm=BigInt(2),j3=BigInt(3),fM=BigInt(4),$3=BigInt(5),K3=BigInt(8);function ia(r,t){const n=r%t;return n>=Wc?n:t+n}function V3(r,t,n){if(n<=Wc||t<Wc)throw new Error("Expected power/modulo > 0");if(n===ra)return Wc;let i=ra;for(;t>Wc;)t&ra&&(i=i*r%n),r=r*r%n,t>>=ra;return i}function Za(r,t,n){let i=r;for(;t-- >Wc;)i*=i,i%=n;return i}function aE(r,t){if(r===Wc||t<=Wc)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let n=ia(r,t),i=t,l=Wc,h=ra,c=ra,f=Wc;for(;n!==Wc;){const $=i/n,D=i%n,q=l-c*$,De=h-f*$;i=n,n=D,l=c,h=f,c=q,f=De}if(i!==ra)throw new Error("invert: does not exist");return ia(l,t)}BigInt(9),BigInt(16);const NP=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function pM(r,t){const n=void 0!==t?t:r.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function cE(r,t,n=!1,i={}){if(r<=Wc)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:l,nByteLength:h}=pM(r,t);if(h>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=function RP(r){if(r%fM===j3){const t=(r+ra)/fM;return function(i,l){const h=i.pow(l,t);if(!i.eql(i.sqr(h),l))throw new Error("Cannot find square root");return h}}if(r%K3===$3){const t=(r-$3)/K3;return function(i,l){const h=i.mul(l,xm),c=i.pow(h,t),f=i.mul(l,c),V=i.mul(i.mul(f,xm),c),$=i.mul(f,i.sub(V,i.ONE));if(!i.eql(i.sqr($),l))throw new Error("Cannot find square root");return $}}return function OP(r){const t=(r-ra)/xm;let n,i,l;for(n=r-ra,i=0;n%xm===Wc;n/=xm,i++);for(l=xm;l<r&&V3(l,t,r)!==r-ra;l++);if(1===i){const c=(r+ra)/fM;return function(V,$){const D=V.pow($,c);if(!V.eql(V.sqr(D),$))throw new Error("Cannot find square root");return D}}const h=(n+ra)/xm;return function(f,V){if(f.pow(V,t)===f.neg(f.ONE))throw new Error("Cannot find square root");let $=i,D=f.pow(f.mul(f.ONE,l),n),q=f.pow(V,h),De=f.pow(V,n);for(;!f.eql(De,f.ONE);){if(f.eql(De,f.ZERO))return f.ZERO;let Re=1;for(let je=f.sqr(De);Re<$&&!f.eql(je,f.ONE);Re++)je=f.sqr(je);const Oe=f.pow(D,ra<<BigInt($-Re-1));D=f.sqr(Oe),q=f.mul(q,Oe),De=f.mul(De,D),$=Re}return q}}(r)}(r),f=Object.freeze({ORDER:r,BITS:l,BYTES:h,MASK:V0(l),ZERO:Wc,ONE:ra,create:V=>ia(V,r),isValid:V=>{if("bigint"!=typeof V)throw new Error("Invalid field element: expected bigint, got "+typeof V);return Wc<=V&&V<r},is0:V=>V===Wc,isOdd:V=>(V&ra)===ra,neg:V=>ia(-V,r),eql:(V,$)=>V===$,sqr:V=>ia(V*V,r),add:(V,$)=>ia(V+$,r),sub:(V,$)=>ia(V-$,r),mul:(V,$)=>ia(V*$,r),pow:(V,$)=>function hM(r,t,n){if(n<Wc)throw new Error("Expected power > 0");if(n===Wc)return r.ONE;if(n===ra)return t;let i=r.ONE,l=t;for(;n>Wc;)n&ra&&(i=r.mul(i,l)),l=r.sqr(l),n>>=ra;return i}(f,V,$),div:(V,$)=>ia(V*aE($,r),r),sqrN:V=>V*V,addN:(V,$)=>V+$,subN:(V,$)=>V-$,mulN:(V,$)=>V*$,inv:V=>aE(V,r),sqrt:i.sqrt||(V=>c(f,V)),invertBatch:V=>function LP(r,t){const n=new Array(t.length),i=t.reduce((h,c,f)=>r.is0(c)?h:(n[f]=h,r.mul(h,c)),r.ONE),l=r.inv(i);return t.reduceRight((h,c,f)=>r.is0(c)?h:(n[f]=r.mul(h,n[f]),r.mul(h,c)),l),n}(f,V),cmov:(V,$,D)=>D?$:V,toBytes:V=>n?uw(V,h):Tp(V,h),fromBytes:V=>{if(V.length!==h)throw new Error(`Fp.fromBytes: expected ${h}, got ${V.length}`);return n?K0(V):Pg(V)}});return Object.freeze(f)}function mM(r){if("bigint"!=typeof r)throw new Error("field order must be bigint");const t=r.toString(2).length;return Math.ceil(t/8)}function H3(r){const t=mM(r);return t+Math.ceil(t/2)}class G3 extends sM{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,function T3(r){if("function"!=typeof r||"function"!=typeof r.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");iM(r.outputLen),iM(r.blockLen)}(t);const i=lw(n);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const l=this.blockLen,h=new Uint8Array(l);h.set(i.length>l?t.create().update(i).digest():i);for(let c=0;c<h.length;c++)h[c]^=54;this.iHash.update(h),this.oHash=t.create();for(let c=0;c<h.length;c++)h[c]^=106;this.oHash.update(h),h.fill(0)}update(t){return aw(this),this.iHash.update(t),this}digestInto(t){aw(this),eE(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:l,destroyed:h,blockLen:c,outputLen:f}=this;return t.finished=l,t.destroyed=h,t.blockLen=c,t.outputLen=f,t.oHash=n._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const lE=(r,t,n)=>new G3(r,t).update(n).digest();lE.create=(r,t)=>new G3(r,t);const yM=BigInt(0),dE=BigInt(1);function gM(r,t){const n=(l,h)=>{const c=h.negate();return l?c:h},i=l=>({windows:Math.ceil(t/l)+1,windowSize:2**(l-1)});return{constTimeNegate:n,unsafeLadder(l,h){let c=r.ZERO,f=l;for(;h>yM;)h&dE&&(c=c.add(f)),f=f.double(),h>>=dE;return c},precomputeWindow(l,h){const{windows:c,windowSize:f}=i(h),V=[];let $=l,D=$;for(let q=0;q<c;q++){D=$,V.push(D);for(let De=1;De<f;De++)D=D.add($),V.push(D);$=D.double()}return V},wNAF(l,h,c){const{windows:f,windowSize:V}=i(l);let $=r.ZERO,D=r.BASE;const q=BigInt(2**l-1),De=2**l,Re=BigInt(l);for(let Oe=0;Oe<f;Oe++){const je=Oe*V;let et=Number(c&q);c>>=Re,et>V&&(et-=De,c+=dE);const ft=je,at=je+Math.abs(et)-1,Mt=et<0;0===et?D=D.add(n(Oe%2!=0,h[ft])):$=$.add(n(Mt,h[at]))}return{p:$,f:D}},wNAFCached(l,h,c,f){const V=l._WINDOW_SIZE||1;let $=h.get(l);return $||($=this.precomputeWindow(l,V),1!==V&&h.set(l,f($))),this.wNAF(V,$,c)}}}function fw(r){return function z3(r){z0(r,NP.reduce((i,l)=>(i[l]="function",i),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(r.Fp),z0(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...pM(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}const{Ph:uB,aT:Z3}=N,H0={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(r){const{Err:t}=H0;if(r.length<2||2!==r[0])throw new t("Invalid signature integer tag");const n=r[1],i=r.subarray(2,n+2);if(!n||i.length!==n)throw new t("Invalid signature integer: wrong length");if(128&i[0])throw new t("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:uB(i),l:r.subarray(n+2)}},toSig(r){const{Err:t}=H0,n="string"==typeof r?Z3(r):r;if(!Gf(n))throw new Error("ui8a expected");let i=n.length;if(i<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==i-2)throw new t("Invalid signature: incorrect length");const{d:l,l:h}=H0._parseInt(n.subarray(2)),{d:c,l:f}=H0._parseInt(h);if(f.length)throw new t("Invalid signature: left bytes after parsing");return{r:l,s:c}},hexFromSig(r){const t=$=>8&Number.parseInt($[0],16)?"00"+$:$,n=$=>{const D=$.toString(16);return 1&D.length?`0${D}`:D},i=t(n(r.s)),l=t(n(r.r)),h=i.length/2,c=l.length/2,f=n(h),V=n(c);return`30${n(c+h+4)}02${V}${l}02${f}${i}`}},Lh=BigInt(0),ic=BigInt(1),hw=(BigInt(2),BigInt(3));function X3(r){const t=function hE(r){const t=fw(r);return z0(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(r),{Fp:n,n:i}=t,l=n.BYTES+1,h=2*n.BYTES+1;function f(on){return ia(on,i)}function V(on){return aE(on,i)}const{ProjectivePoint:$,normPrivateKeyToScalar:D,weierstrassEquation:q,isWithinCurveOrder:De}=function fE(r){const t=function uE(r){const t=fw(r);z0(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:i,a:l}=t;if(n){if(!i.eql(l,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(r),{Fp:n}=t,i=t.toBytes||((Oe,je,et)=>{const ft=je.toAffine();return Og(Uint8Array.from([4]),n.toBytes(ft.x),n.toBytes(ft.y))}),l=t.fromBytes||(Oe=>{const je=Oe.subarray(1);return{x:n.fromBytes(je.subarray(0,n.BYTES)),y:n.fromBytes(je.subarray(n.BYTES,2*n.BYTES))}});function h(Oe){const{a:je,b:et}=t,ft=n.sqr(Oe),at=n.mul(ft,Oe);return n.add(n.add(at,n.mul(Oe,je)),et)}if(!n.eql(n.sqr(t.Gy),h(t.Gx)))throw new Error("bad generator point: equation left != right");function c(Oe){return"bigint"==typeof Oe&&Lh<Oe&&Oe<t.n}function f(Oe){if(!c(Oe))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function V(Oe){const{allowedPrivateKeyLengths:je,nByteLength:et,wrapPrivateKey:ft,n:at}=t;if(je&&"bigint"!=typeof Oe){if(Gf(Oe)&&(Oe=_m(Oe)),"string"!=typeof Oe||!je.includes(Oe.length))throw new Error("Invalid key");Oe=Oe.padStart(2*et,"0")}let dt;try{dt="bigint"==typeof Oe?Oe:Pg(Ac("private key",Oe,et))}catch{throw new Error(`private key must be ${et} bytes, hex or bigint, not ${typeof Oe}`)}return ft&&(dt=ia(dt,at)),f(dt),dt}const $=new Map;function D(Oe){if(!(Oe instanceof q))throw new Error("ProjectivePoint expected")}class q{constructor(je,et,ft){if(this.px=je,this.py=et,this.pz=ft,null==je||!n.isValid(je))throw new Error("x required");if(null==et||!n.isValid(et))throw new Error("y required");if(null==ft||!n.isValid(ft))throw new Error("z required")}static fromAffine(je){const{x:et,y:ft}=je||{};if(!je||!n.isValid(et)||!n.isValid(ft))throw new Error("invalid affine point");if(je instanceof q)throw new Error("projective point not allowed");const at=dt=>n.eql(dt,n.ZERO);return at(et)&&at(ft)?q.ZERO:new q(et,ft,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(je){const et=n.invertBatch(je.map(ft=>ft.pz));return je.map((ft,at)=>ft.toAffine(et[at])).map(q.fromAffine)}static fromHex(je){const et=q.fromAffine(l(Ac("pointHex",je)));return et.assertValidity(),et}static fromPrivateKey(je){return q.BASE.multiply(V(je))}_setWindowSize(je){this._WINDOW_SIZE=je,$.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:je,y:et}=this.toAffine();if(!n.isValid(je)||!n.isValid(et))throw new Error("bad point: x or y not FE");const ft=n.sqr(et),at=h(je);if(!n.eql(ft,at))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:je}=this.toAffine();if(n.isOdd)return!n.isOdd(je);throw new Error("Field doesn't support isOdd")}equals(je){D(je);const{px:et,py:ft,pz:at}=this,{px:dt,py:Mt,pz:Pt}=je,Dt=n.eql(n.mul(et,Pt),n.mul(dt,at)),Kt=n.eql(n.mul(ft,Pt),n.mul(Mt,at));return Dt&&Kt}negate(){return new q(this.px,n.neg(this.py),this.pz)}double(){const{a:je,b:et}=t,ft=n.mul(et,hw),{px:at,py:dt,pz:Mt}=this;let Pt=n.ZERO,Dt=n.ZERO,Kt=n.ZERO,Wt=n.mul(at,at),En=n.mul(dt,dt),Tn=n.mul(Mt,Mt),Rn=n.mul(at,dt);return Rn=n.add(Rn,Rn),Kt=n.mul(at,Mt),Kt=n.add(Kt,Kt),Pt=n.mul(je,Kt),Dt=n.mul(ft,Tn),Dt=n.add(Pt,Dt),Pt=n.sub(En,Dt),Dt=n.add(En,Dt),Dt=n.mul(Pt,Dt),Pt=n.mul(Rn,Pt),Kt=n.mul(ft,Kt),Tn=n.mul(je,Tn),Rn=n.sub(Wt,Tn),Rn=n.mul(je,Rn),Rn=n.add(Rn,Kt),Kt=n.add(Wt,Wt),Wt=n.add(Kt,Wt),Wt=n.add(Wt,Tn),Wt=n.mul(Wt,Rn),Dt=n.add(Dt,Wt),Tn=n.mul(dt,Mt),Tn=n.add(Tn,Tn),Wt=n.mul(Tn,Rn),Pt=n.sub(Pt,Wt),Kt=n.mul(Tn,En),Kt=n.add(Kt,Kt),Kt=n.add(Kt,Kt),new q(Pt,Dt,Kt)}add(je){D(je);const{px:et,py:ft,pz:at}=this,{px:dt,py:Mt,pz:Pt}=je;let Dt=n.ZERO,Kt=n.ZERO,Wt=n.ZERO;const En=t.a,Tn=n.mul(t.b,hw);let Rn=n.mul(et,dt),rr=n.mul(ft,Mt),Pn=n.mul(at,Pt),zn=n.add(et,ft),on=n.add(dt,Mt);zn=n.mul(zn,on),on=n.add(Rn,rr),zn=n.sub(zn,on),on=n.add(et,at);let pn=n.add(dt,Pt);return on=n.mul(on,pn),pn=n.add(Rn,Pn),on=n.sub(on,pn),pn=n.add(ft,at),Dt=n.add(Mt,Pt),pn=n.mul(pn,Dt),Dt=n.add(rr,Pn),pn=n.sub(pn,Dt),Wt=n.mul(En,on),Dt=n.mul(Tn,Pn),Wt=n.add(Dt,Wt),Dt=n.sub(rr,Wt),Wt=n.add(rr,Wt),Kt=n.mul(Dt,Wt),rr=n.add(Rn,Rn),rr=n.add(rr,Rn),Pn=n.mul(En,Pn),on=n.mul(Tn,on),rr=n.add(rr,Pn),Pn=n.sub(Rn,Pn),Pn=n.mul(En,Pn),on=n.add(on,Pn),Rn=n.mul(rr,on),Kt=n.add(Kt,Rn),Rn=n.mul(pn,on),Dt=n.mul(zn,Dt),Dt=n.sub(Dt,Rn),Rn=n.mul(zn,rr),Wt=n.mul(pn,Wt),Wt=n.add(Wt,Rn),new q(Dt,Kt,Wt)}subtract(je){return this.add(je.negate())}is0(){return this.equals(q.ZERO)}wNAF(je){return Re.wNAFCached(this,$,je,et=>{const ft=n.invertBatch(et.map(at=>at.pz));return et.map((at,dt)=>at.toAffine(ft[dt])).map(q.fromAffine)})}multiplyUnsafe(je){const et=q.ZERO;if(je===Lh)return et;if(f(je),je===ic)return this;const{endo:ft}=t;if(!ft)return Re.unsafeLadder(this,je);let{k1neg:at,k1:dt,k2neg:Mt,k2:Pt}=ft.splitScalar(je),Dt=et,Kt=et,Wt=this;for(;dt>Lh||Pt>Lh;)dt&ic&&(Dt=Dt.add(Wt)),Pt&ic&&(Kt=Kt.add(Wt)),Wt=Wt.double(),dt>>=ic,Pt>>=ic;return at&&(Dt=Dt.negate()),Mt&&(Kt=Kt.negate()),Kt=new q(n.mul(Kt.px,ft.beta),Kt.py,Kt.pz),Dt.add(Kt)}multiply(je){f(je);let ft,at,et=je;const{endo:dt}=t;if(dt){const{k1neg:Mt,k1:Pt,k2neg:Dt,k2:Kt}=dt.splitScalar(et);let{p:Wt,f:En}=this.wNAF(Pt),{p:Tn,f:Rn}=this.wNAF(Kt);Wt=Re.constTimeNegate(Mt,Wt),Tn=Re.constTimeNegate(Dt,Tn),Tn=new q(n.mul(Tn.px,dt.beta),Tn.py,Tn.pz),ft=Wt.add(Tn),at=En.add(Rn)}else{const{p:Mt,f:Pt}=this.wNAF(et);ft=Mt,at=Pt}return q.normalizeZ([ft,at])[0]}multiplyAndAddUnsafe(je,et,ft){const at=q.BASE,dt=(Pt,Dt)=>Dt!==Lh&&Dt!==ic&&Pt.equals(at)?Pt.multiply(Dt):Pt.multiplyUnsafe(Dt),Mt=dt(this,et).add(dt(je,ft));return Mt.is0()?void 0:Mt}toAffine(je){const{px:et,py:ft,pz:at}=this,dt=this.is0();null==je&&(je=dt?n.ONE:n.inv(at));const Mt=n.mul(et,je),Pt=n.mul(ft,je),Dt=n.mul(at,je);if(dt)return{x:n.ZERO,y:n.ZERO};if(!n.eql(Dt,n.ONE))throw new Error("invZ was invalid");return{x:Mt,y:Pt}}isTorsionFree(){const{h:je,isTorsionFree:et}=t;if(je===ic)return!0;if(et)return et(q,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:je,clearCofactor:et}=t;return je===ic?this:et?et(q,this):this.multiplyUnsafe(t.h)}toRawBytes(je=!0){return this.assertValidity(),i(q,this,je)}toHex(je=!0){return _m(this.toRawBytes(je))}}q.BASE=new q(t.Gx,t.Gy,n.ONE),q.ZERO=new q(n.ZERO,n.ONE,n.ZERO);const De=t.nBitLength,Re=gM(q,t.endo?Math.ceil(De/2):De);return{CURVE:t,ProjectivePoint:q,normPrivateKeyToScalar:V,weierstrassEquation:h,isWithinCurveOrder:c}}({...t,toBytes(on,pn,gn){const Nn=pn.toAffine(),xn=n.toBytes(Nn.x),jn=Og;return gn?jn(Uint8Array.from([pn.hasEvenY()?2:3]),xn):jn(Uint8Array.from([4]),xn,n.toBytes(Nn.y))},fromBytes(on){const pn=on.length,gn=on[0],Nn=on.subarray(1);if(pn!==l||2!==gn&&3!==gn){if(pn===h&&4===gn)return{x:n.fromBytes(Nn.subarray(0,n.BYTES)),y:n.fromBytes(Nn.subarray(n.BYTES,2*n.BYTES))};throw new Error(`Point of length ${pn} was invalid. Expected ${l} compressed bytes or ${h} uncompressed bytes`)}{const xn=Pg(Nn);if(!function c(on){return Lh<on&&on<n.ORDER}(xn))throw new Error("Point is not on curve");const jn=q(xn);let lr=n.sqrt(jn);return!(1&~gn)!=((lr&ic)===ic)&&(lr=n.neg(lr)),{x:xn,y:lr}}}}),Re=on=>_m(Tp(on,t.nByteLength));function Oe(on){return on>i>>ic}const et=(on,pn,gn)=>Pg(on.slice(pn,gn));class ft{constructor(pn,gn,Nn){this.r=pn,this.s=gn,this.recovery=Nn,this.assertValidity()}static fromCompact(pn){const gn=t.nByteLength;return pn=Ac("compactSignature",pn,2*gn),new ft(et(pn,0,gn),et(pn,gn,2*gn))}static fromDER(pn){const{r:gn,s:Nn}=H0.toSig(Ac("DER",pn));return new ft(gn,Nn)}assertValidity(){if(!De(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!De(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(pn){return new ft(this.r,this.s,pn)}recoverPublicKey(pn){const{r:gn,s:Nn,recovery:xn}=this,jn=Kt(Ac("msgHash",pn));if(null==xn||![0,1,2,3].includes(xn))throw new Error("recovery id invalid");const lr=2===xn||3===xn?gn+t.n:gn;if(lr>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const fn=$.fromHex((1&xn?"03":"02")+Re(lr)),dr=V(lr),Er=f(-jn*dr),Xn=f(Nn*dr),kn=$.BASE.multiplyAndAddUnsafe(fn,Er,Xn);if(!kn)throw new Error("point at infinify");return kn.assertValidity(),kn}hasHighS(){return Oe(this.s)}normalizeS(){return this.hasHighS()?new ft(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return dw(this.toDERHex())}toDERHex(){return H0.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return dw(this.toCompactHex())}toCompactHex(){return Re(this.r)+Re(this.s)}}const at={isValidPrivateKey(on){try{return D(on),!0}catch{return!1}},normPrivateKeyToScalar:D,randomPrivateKey:()=>{const on=H3(t.n);return function W3(r,t,n=!1){const i=r.length,l=mM(t),h=H3(t);if(i<16||i<h||i>1024)throw new Error(`expected ${h}-1024 bytes of input, got ${i}`);const f=ia(n?Pg(r):K0(r),t-ra)+ra;return n?uw(f,l):Tp(f,l)}(t.randomBytes(on),t.n)},precompute:(on=8,pn=$.BASE)=>(pn._setWindowSize(on),pn.multiply(BigInt(3)),pn)};function Mt(on){const pn=Gf(on),gn="string"==typeof on,Nn=(pn||gn)&&on.length;return pn?Nn===l||Nn===h:gn?Nn===2*l||Nn===2*h:on instanceof $}const Dt=t.bits2int||function(on){const pn=Pg(on),gn=8*on.length-t.nBitLength;return gn>0?pn>>BigInt(gn):pn},Kt=t.bits2int_modN||function(on){return f(Dt(on))},Wt=V0(t.nBitLength);function En(on){if("bigint"!=typeof on)throw new Error("bigint expected");if(!(Lh<=on&&on<Wt))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Tp(on,t.nByteLength)}const Rn={lowS:t.lowS,prehash:!1},rr={lowS:t.lowS,prehash:!1};return $.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function dt(on,pn=!0){return $.fromPrivateKey(on).toRawBytes(pn)},getSharedSecret:function Pt(on,pn,gn=!0){if(Mt(on))throw new Error("first arg must be private key");if(!Mt(pn))throw new Error("second arg must be public key");return $.fromHex(pn).multiply(D(on)).toRawBytes(gn)},sign:function Pn(on,pn,gn=Rn){const{seed:Nn,k2sig:xn}=function Tn(on,pn,gn=Rn){if(["recovered","canonical"].some(mr=>mr in gn))throw new Error("sign() legacy options not supported");const{hash:Nn,randomBytes:xn}=t;let{lowS:jn,prehash:lr,extraEntropy:cr}=gn;null==jn&&(jn=!0),on=Ac("msgHash",on),lr&&(on=Ac("prehashed msgHash",Nn(on)));const fn=Kt(on),dr=D(pn),Er=[En(dr),En(fn)];if(null!=cr){const mr=!0===cr?xn(n.BYTES):cr;Er.push(Ac("extraEntropy",mr))}const Xn=Og(...Er),kn=fn;return{seed:Xn,k2sig:function qn(mr){const Cr=Dt(mr);if(!De(Cr))return;const Pr=V(Cr),Mr=$.BASE.multiply(Cr).toAffine(),Tr=f(Mr.x);if(Tr===Lh)return;const ui=f(Pr*f(kn+Tr*dr));if(ui===Lh)return;let Xs=(Mr.x===Tr?0:2)|Number(Mr.y&ic),gr=ui;return jn&&Oe(ui)&&(gr=function je(on){return Oe(on)?f(-on):on}(ui),Xs^=1),new ft(Tr,gr,Xs)}}}(on,pn,gn);return F3(t.hash.outputLen,t.nByteLength,t.hmac)(Nn,xn)},verify:function zn(on,pn,gn,Nn=rr){const xn=on;if(pn=Ac("msgHash",pn),gn=Ac("publicKey",gn),"strict"in Nn)throw new Error("options.strict was renamed to lowS");const{lowS:jn,prehash:lr}=Nn;let cr,fn;try{if("string"==typeof xn||Gf(xn))try{cr=ft.fromDER(xn)}catch(Mr){if(!(Mr instanceof H0.Err))throw Mr;cr=ft.fromCompact(xn)}else{if("object"!=typeof xn||"bigint"!=typeof xn.r||"bigint"!=typeof xn.s)throw new Error("PARSE");{const{r:Mr,s:Tr}=xn;cr=new ft(Mr,Tr)}}fn=$.fromHex(gn)}catch(Mr){if("PARSE"===Mr.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(jn&&cr.hasHighS())return!1;lr&&(pn=t.hash(pn));const{r:dr,s:Er}=cr,Xn=Kt(pn),kn=V(Er),qn=f(Xn*kn),mr=f(dr*kn),Cr=$.BASE.multiplyAndAddUnsafe(fn,qn,mr)?.toAffine();return!!Cr&&f(Cr.x)===dr},ProjectivePoint:$,Signature:ft,utils:at}}function KP(r){return{hash:r,hmac:(t,...n)=>lE(r,t,nE(...n)),randomBytes:iE}}function Y3(r,t){const n=i=>X3({...r,...KP(i)});return Object.freeze({...n(t),create:n})}BigInt(4);const vM=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),pE=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),bM=BigInt(1),mE=BigInt(2),J3=(r,t)=>(r+t/mE)/t;const wM=cE(vM,void 0,void 0,{sqrt:function yE(r){const t=vM,n=BigInt(3),i=BigInt(6),l=BigInt(11),h=BigInt(22),c=BigInt(23),f=BigInt(44),V=BigInt(88),$=r*r*r%t,D=$*$*r%t,q=Za(D,n,t)*D%t,De=Za(q,n,t)*D%t,Re=Za(De,mE,t)*$%t,Oe=Za(Re,l,t)*Re%t,je=Za(Oe,h,t)*Oe%t,et=Za(je,f,t)*je%t,ft=Za(et,V,t)*et%t,at=Za(ft,f,t)*je%t,dt=Za(at,n,t)*D%t,Mt=Za(dt,c,t)*Oe%t,Pt=Za(Mt,i,t)*$%t,Dt=Za(Pt,mE,t);if(!wM.eql(wM.sqr(Dt),r))throw new Error("Cannot find square root");return Dt}}),ed=Y3({a:BigInt(0),b:BigInt(7),Fp:wM,n:pE,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const t=pE,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-bM*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),l=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),h=n,c=BigInt("0x100000000000000000000000000000000"),f=J3(h*r,t),V=J3(-i*r,t);let $=ia(r-f*n-V*l,t),D=ia(-f*i-V*h,t);const q=$>c,De=D>c;if(q&&($=t-$),De&&(D=t-D),$>c||D>c)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:q,k1:$,k2neg:De,k2:D}}}},wm);BigInt(0);const GP="urn:jwk:";function oa({jwk:r}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const t=r.kty;let n;if("EC"===t)n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===t)n={k:r.k,kty:r.kty};else if("OKP"===t)n={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);n={e:r.e,kty:r.kty,n:r.n}}(0,er.E8)(n);const i=function WP(r){const t=i=>{if(null!==i&&"object"==typeof i&&!Array.isArray(i)){const l=Object.keys(i).sort(),h={};for(const c of l)h[c]=t(i[c]);return h}return i},n=t(r);return JSON.stringify(n)}(n),l=er.U$.string(i).toUint8Array(),h=yield lM.digest({data:l});return er.U$.uint8Array(h).toBase64Url()})}function Ng(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"EC"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function AM(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r)||"d"in r||"EC"!==r.kty||"string"!=typeof r.x)}function Lg(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"OKP"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function iC(r){return!(!r||"object"!=typeof r||"d"in r||!("kty"in r&&"crv"in r&&"x"in r)||"OKP"!==r.kty||"string"!=typeof r.x)}var Dl=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class oc{static adjustSignatureToLowS({signature:t}){return Dl(this,void 0,void 0,function*(){const n=ed.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return Dl(this,void 0,void 0,function*(){const n=yield oc.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",d:er.U$.uint8Array(t).toBase64Url(),x:er.U$.uint8Array(n.x).toBase64Url(),y:er.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield oa({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Dl(this,void 0,void 0,function*(){const n=yield oc.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",x:er.U$.uint8Array(n.x).toBase64Url(),y:er.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield oa({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return Dl(this,void 0,void 0,function*(){return ed.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return Dl(this,void 0,void 0,function*(){const n=yield oc.privateKeyToBytes({privateKey:t}),i=yield oc.getCurvePoint({keyBytes:n}),l={kty:"EC",crv:"secp256k1",x:er.U$.uint8Array(i.x).toBase64Url(),y:er.U$.uint8Array(i.y).toBase64Url()};return l.kid=yield oa({jwk:l}),l})}static convertDerToCompactSignature({derSignature:t}){return Dl(this,void 0,void 0,function*(){return ed.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return Dl(this,void 0,void 0,function*(){return ed.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return Dl(this,void 0,void 0,function*(){const t=ed.utils.randomPrivateKey(),n=yield oc.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield oa({jwk:n}),n})}static getPublicKey({key:t}){var n;return Dl(this,void 0,void 0,function*(){if(!Ng(t)||"secp256k1"!==t.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["d"]);return null!==(n=l.kid)&&void 0!==n||(l.kid=yield oa({jwk:l})),l})}static privateKeyToBytes({privateKey:t}){return Dl(this,void 0,void 0,function*(){if(!Ng(t))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return er.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Dl(this,void 0,void 0,function*(){if(!AM(t)||!t.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=er.U$.base64Url(t.x).toUint8Array(),l=er.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...l])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Dl(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield oc.privateKeyToBytes({privateKey:t}),l=yield oc.publicKeyToBytes({publicKey:n});return ed.getSharedSecret(i,l,!0).slice(1)})}static sign({data:t,key:n}){return Dl(this,void 0,void 0,function*(){const i=yield oc.privateKeyToBytes({privateKey:n}),l=wm(t);return ed.sign(l,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return Dl(this,void 0,void 0,function*(){return ed.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return Dl(this,void 0,void 0,function*(){try{ed.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Dl(this,void 0,void 0,function*(){const l=yield oc.publicKeyToBytes({publicKey:t}),h=wm(i);return ed.verify(n,h,l,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return Dl(this,void 0,void 0,function*(){32===t.byteLength&&(t=ed.getPublicKey(t));const n=ed.ProjectivePoint.fromHex(t);return{x:Tp(n.x,32),y:Tp(n.y,32)}})}}const YP=cE(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),wu=Y3({a:YP.create(BigInt("-3")),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Fp:YP,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},wm);var Xa=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class Ba{static adjustSignatureToLowS({signature:t}){return Xa(this,void 0,void 0,function*(){const n=wu.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return Xa(this,void 0,void 0,function*(){const n=yield Ba.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",d:er.U$.uint8Array(t).toBase64Url(),x:er.U$.uint8Array(n.x).toBase64Url(),y:er.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield oa({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Xa(this,void 0,void 0,function*(){const n=yield Ba.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",x:er.U$.uint8Array(n.x).toBase64Url(),y:er.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield oa({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return Xa(this,void 0,void 0,function*(){return wu.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return Xa(this,void 0,void 0,function*(){const n=yield Ba.privateKeyToBytes({privateKey:t}),i=yield Ba.getCurvePoint({keyBytes:n}),l={kty:"EC",crv:"P-256",x:er.U$.uint8Array(i.x).toBase64Url(),y:er.U$.uint8Array(i.y).toBase64Url()};return l.kid=yield oa({jwk:l}),l})}static convertDerToCompactSignature({derSignature:t}){return Xa(this,void 0,void 0,function*(){return wu.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return Xa(this,void 0,void 0,function*(){return wu.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return Xa(this,void 0,void 0,function*(){const t=wu.utils.randomPrivateKey(),n=yield Ba.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield oa({jwk:n}),n})}static getPublicKey({key:t}){var n;return Xa(this,void 0,void 0,function*(){if(!Ng(t)||"P-256"!==t.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["d"]);return null!==(n=l.kid)&&void 0!==n||(l.kid=yield oa({jwk:l})),l})}static privateKeyToBytes({privateKey:t}){return Xa(this,void 0,void 0,function*(){if(!Ng(t))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return er.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Xa(this,void 0,void 0,function*(){if(!AM(t)||!t.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=er.U$.base64Url(t.x).toUint8Array(),l=er.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...l])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Xa(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield Ba.privateKeyToBytes({privateKey:t}),l=yield Ba.publicKeyToBytes({publicKey:n});return wu.getSharedSecret(i,l,!0).slice(1)})}static sign({data:t,key:n}){return Xa(this,void 0,void 0,function*(){const i=yield Ba.privateKeyToBytes({privateKey:n}),l=wm(t);return wu.sign(l,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return Xa(this,void 0,void 0,function*(){return wu.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return Xa(this,void 0,void 0,function*(){try{wu.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Xa(this,void 0,void 0,function*(){const l=yield Ba.publicKeyToBytes({publicKey:t}),h=wm(i);return wu.verify(n,h,l,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return Xa(this,void 0,void 0,function*(){32===t.byteLength&&(t=wu.getPublicKey(t));const n=wu.ProjectivePoint.fromHex(t);return{x:Tp(n.x,32),y:Tp(n.y,32)}})}}var G0=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class aC extends oE{computePublicKey({key:t}){return G0(this,void 0,void 0,function*(){if(!Ng(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield oc.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield Ba.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return G0(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield oc.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield Ba.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return G0(this,void 0,void 0,function*(){if(!Ng(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield oc.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield Ba.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}sign({key:t,data:n}){return G0(this,void 0,void 0,function*(){if(!Ng(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield oc.sign({key:t,data:n});case"P-256":return yield Ba.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return G0(this,void 0,void 0,function*(){if(!AM(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield oc.verify({key:t,signature:n,data:i});case"P-256":return yield Ba.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}const Ug=BigInt(2**32-1),pw=BigInt(32);function mw(r,t=!1){return t?{h:Number(r&Ug),l:Number(r>>pw&Ug)}:{h:0|Number(r>>pw&Ug),l:0|Number(r&Ug)}}const Ko_split=function wB(r,t=!1){let n=new Uint32Array(r.length),i=new Uint32Array(r.length);for(let l=0;l<r.length;l++){const{h,l:c}=mw(r[l],t);[n[l],i[l]]=[h,c]}return[n,i]},Ko_shrSH=(r,t,n)=>r>>>n,Ko_shrSL=(r,t,n)=>r<<32-n|t>>>n,Ko_rotrSH=(r,t,n)=>r>>>n|t<<32-n,Ko_rotrSL=(r,t,n)=>r<<32-n|t>>>n,Ko_rotrBH=(r,t,n)=>r<<64-n|t>>>n-32,Ko_rotrBL=(r,t,n)=>r>>>n-32|t<<64-n,Ko_add=function IM(r,t,n,i){const l=(t>>>0)+(i>>>0);return{h:r+n+(l/2**32|0)|0,l:0|l}},Ko_add3L=(r,t,n)=>(r>>>0)+(t>>>0)+(n>>>0),Ko_add3H=(r,t,n,i)=>t+n+i+(r/2**32|0)|0,Ko_add4L=(r,t,n,i)=>(r>>>0)+(t>>>0)+(n>>>0)+(i>>>0),Ko_add4H=(r,t,n,i,l)=>t+n+i+l+(r/2**32|0)|0,Ko_add5H=(r,t,n,i,l,h)=>t+n+i+l+h+(r/2**32|0)|0,Ko_add5L=(r,t,n,i,l)=>(r>>>0)+(t>>>0)+(n>>>0)+(i>>>0)+(l>>>0),[MB,AB]=Ko_split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),ba=new Uint32Array(80),hf=new Uint32Array(80);class Z0 extends j0{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:i,Bl:l,Ch:h,Cl:c,Dh:f,Dl:V,Eh:$,El:D,Fh:q,Fl:De,Gh:Re,Gl:Oe,Hh:je,Hl:et}=this;return[t,n,i,l,h,c,f,V,$,D,q,De,Re,Oe,je,et]}set(t,n,i,l,h,c,f,V,$,D,q,De,Re,Oe,je,et){this.Ah=0|t,this.Al=0|n,this.Bh=0|i,this.Bl=0|l,this.Ch=0|h,this.Cl=0|c,this.Dh=0|f,this.Dl=0|V,this.Eh=0|$,this.El=0|D,this.Fh=0|q,this.Fl=0|De,this.Gh=0|Re,this.Gl=0|Oe,this.Hh=0|je,this.Hl=0|et}process(t,n){for(let dt=0;dt<16;dt++,n+=4)ba[dt]=t.getUint32(n),hf[dt]=t.getUint32(n+=4);for(let dt=16;dt<80;dt++){const Mt=0|ba[dt-15],Pt=0|hf[dt-15],Dt=Ko_rotrSH(Mt,Pt,1)^Ko_rotrSH(Mt,Pt,8)^Ko_shrSH(Mt,Pt,7),Kt=Ko_rotrSL(Mt,Pt,1)^Ko_rotrSL(Mt,Pt,8)^Ko_shrSL(Mt,Pt,7),Wt=0|ba[dt-2],En=0|hf[dt-2],Tn=Ko_rotrSH(Wt,En,19)^Ko_rotrBH(Wt,En,61)^Ko_shrSH(Wt,En,6),Rn=Ko_rotrSL(Wt,En,19)^Ko_rotrBL(Wt,En,61)^Ko_shrSL(Wt,En,6),rr=Ko_add4L(Kt,Rn,hf[dt-7],hf[dt-16]),Pn=Ko_add4H(rr,Dt,Tn,ba[dt-7],ba[dt-16]);ba[dt]=0|Pn,hf[dt]=0|rr}let{Ah:i,Al:l,Bh:h,Bl:c,Ch:f,Cl:V,Dh:$,Dl:D,Eh:q,El:De,Fh:Re,Fl:Oe,Gh:je,Gl:et,Hh:ft,Hl:at}=this;for(let dt=0;dt<80;dt++){const Mt=Ko_rotrSH(q,De,14)^Ko_rotrSH(q,De,18)^Ko_rotrBH(q,De,41),Pt=Ko_rotrSL(q,De,14)^Ko_rotrSL(q,De,18)^Ko_rotrBL(q,De,41),Dt=q&Re^~q&je,Wt=Ko_add5L(at,Pt,De&Oe^~De&et,AB[dt],hf[dt]),En=Ko_add5H(Wt,ft,Mt,Dt,MB[dt],ba[dt]),Tn=0|Wt,Rn=Ko_rotrSH(i,l,28)^Ko_rotrBH(i,l,34)^Ko_rotrBH(i,l,39),rr=Ko_rotrSL(i,l,28)^Ko_rotrBL(i,l,34)^Ko_rotrBL(i,l,39),Pn=i&h^i&f^h&f,zn=l&c^l&V^c&V;ft=0|je,at=0|et,je=0|Re,et=0|Oe,Re=0|q,Oe=0|De,({h:q,l:De}=Ko_add(0|$,0|D,0|En,0|Tn)),$=0|f,D=0|V,f=0|h,V=0|c,h=0|i,c=0|l;const on=Ko_add3L(Tn,rr,zn);i=Ko_add3H(on,En,Rn,Pn),l=0|on}({h:i,l}=Ko_add(0|this.Ah,0|this.Al,0|i,0|l)),({h,l:c}=Ko_add(0|this.Bh,0|this.Bl,0|h,0|c)),({h:f,l:V}=Ko_add(0|this.Ch,0|this.Cl,0|f,0|V)),({h:$,l:D}=Ko_add(0|this.Dh,0|this.Dl,0|$,0|D)),({h:q,l:De}=Ko_add(0|this.Eh,0|this.El,0|q,0|De)),({h:Re,l:Oe}=Ko_add(0|this.Fh,0|this.Fl,0|Re,0|Oe)),({h:je,l:et}=Ko_add(0|this.Gh,0|this.Gl,0|je,0|et)),({h:ft,l:at}=Ko_add(0|this.Hh,0|this.Hl,0|ft,0|at)),this.set(i,l,h,c,f,V,$,D,q,De,Re,Oe,je,et,ft,at)}roundClean(){ba.fill(0),hf.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const pC=rE(()=>new Z0),Zf=BigInt(0),Xd=BigInt(1),yw=BigInt(2),yC=BigInt(8),gC={zip215:!0};function CM(r){const t=function sO(r){const t=fw(r);return z0(r,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(r),{Fp:n,n:i,prehash:l,hash:h,randomBytes:c,nByteLength:f,h:V}=t,$=yw<<BigInt(8*f)-Xd,D=n.create,q=t.uvRatio||((Nn,xn)=>{try{return{isValid:!0,value:n.sqrt(Nn*n.inv(xn))}}catch{return{isValid:!1,value:Zf}}}),De=t.adjustScalarBytes||(Nn=>Nn),Re=t.domain||((Nn,xn,jn)=>{if(xn.length||jn)throw new Error("Contexts/pre-hash are not supported");return Nn}),Oe=Nn=>"bigint"==typeof Nn&&Zf<Nn,je=(Nn,xn)=>Oe(Nn)&&Oe(xn)&&Nn<xn,et=Nn=>Nn===Zf||je(Nn,$);function ft(Nn,xn){if(je(Nn,xn))return Nn;throw new Error(`Expected valid scalar < ${xn}, got ${typeof Nn} ${Nn}`)}function at(Nn){return Nn===Zf?Nn:ft(Nn,i)}const dt=new Map;function Mt(Nn){if(!(Nn instanceof Pt))throw new Error("ExtendedPoint expected")}class Pt{constructor(xn,jn,lr,cr){if(this.ex=xn,this.ey=jn,this.ez=lr,this.et=cr,!et(xn))throw new Error("x required");if(!et(jn))throw new Error("y required");if(!et(lr))throw new Error("z required");if(!et(cr))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(xn){if(xn instanceof Pt)throw new Error("extended point not allowed");const{x:jn,y:lr}=xn||{};if(!et(jn)||!et(lr))throw new Error("invalid affine point");return new Pt(jn,lr,Xd,D(jn*lr))}static normalizeZ(xn){const jn=n.invertBatch(xn.map(lr=>lr.ez));return xn.map((lr,cr)=>lr.toAffine(jn[cr])).map(Pt.fromAffine)}_setWindowSize(xn){this._WINDOW_SIZE=xn,dt.delete(this)}assertValidity(){const{a:xn,d:jn}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:lr,ey:cr,ez:fn,et:dr}=this,Er=D(lr*lr),Xn=D(cr*cr),kn=D(fn*fn),qn=D(kn*kn),mr=D(Er*xn);if(D(kn*D(mr+Xn))!==D(qn+D(jn*D(Er*Xn))))throw new Error("bad point: equation left != right (1)");if(D(lr*cr)!==D(fn*dr))throw new Error("bad point: equation left != right (2)")}equals(xn){Mt(xn);const{ex:jn,ey:lr,ez:cr}=this,{ex:fn,ey:dr,ez:Er}=xn,Xn=D(jn*Er),kn=D(fn*cr),qn=D(lr*Er),mr=D(dr*cr);return Xn===kn&&qn===mr}is0(){return this.equals(Pt.ZERO)}negate(){return new Pt(D(-this.ex),this.ey,this.ez,D(-this.et))}double(){const{a:xn}=t,{ex:jn,ey:lr,ez:cr}=this,fn=D(jn*jn),dr=D(lr*lr),Er=D(yw*D(cr*cr)),Xn=D(xn*fn),kn=jn+lr,qn=D(D(kn*kn)-fn-dr),mr=Xn+dr,Cr=mr-Er,Pr=Xn-dr,Mr=D(qn*Cr),Tr=D(mr*Pr),ui=D(qn*Pr),Xs=D(Cr*mr);return new Pt(Mr,Tr,Xs,ui)}add(xn){Mt(xn);const{a:jn,d:lr}=t,{ex:cr,ey:fn,ez:dr,et:Er}=this,{ex:Xn,ey:kn,ez:qn,et:mr}=xn;if(jn===BigInt(-1)){const Xo=D((fn-cr)*(kn+Xn)),Yo=D((fn+cr)*(kn-Xn)),Ys=D(Yo-Xo);if(Ys===Zf)return this.double();const as=D(dr*yw*mr),Di=D(Er*yw*qn),cs=Di+as,od=Yo+Xo,Ic=Di-as,Jc=D(cs*Ys),jF=D(od*Ic),Nw=D(cs*Ic),$F=D(Ys*od);return new Pt(Jc,jF,$F,Nw)}const Cr=D(cr*Xn),Pr=D(fn*kn),Mr=D(Er*lr*mr),Tr=D(dr*qn),ui=D((cr+fn)*(Xn+kn)-Cr-Pr),Xs=Tr-Mr,gr=Tr+Mr,Pi=D(Pr-jn*Cr),Bi=D(ui*Xs),vi=D(gr*Pi),Ns=D(ui*Pi),id=D(Xs*gr);return new Pt(Bi,vi,id,Ns)}subtract(xn){return this.add(xn.negate())}wNAF(xn){return Wt.wNAFCached(this,dt,xn,Pt.normalizeZ)}multiply(xn){const{p:jn,f:lr}=this.wNAF(ft(xn,i));return Pt.normalizeZ([jn,lr])[0]}multiplyUnsafe(xn){let jn=at(xn);return jn===Zf?Kt:this.equals(Kt)||jn===Xd?this:this.equals(Dt)?this.wNAF(jn).p:Wt.unsafeLadder(this,jn)}isSmallOrder(){return this.multiplyUnsafe(V).is0()}isTorsionFree(){return Wt.unsafeLadder(this,i).is0()}toAffine(xn){const{ex:jn,ey:lr,ez:cr}=this,fn=this.is0();null==xn&&(xn=fn?yC:n.inv(cr));const dr=D(jn*xn),Er=D(lr*xn),Xn=D(cr*xn);if(fn)return{x:Zf,y:Xd};if(Xn!==Xd)throw new Error("invZ was invalid");return{x:dr,y:Er}}clearCofactor(){const{h:xn}=t;return xn===Xd?this:this.multiplyUnsafe(xn)}static fromHex(xn,jn=!1){const{d:lr,a:cr}=t,fn=n.BYTES,dr=(xn=Ac("pointHex",xn,fn)).slice(),Er=xn[fn-1];dr[fn-1]=-129&Er;const Xn=K0(dr);Xn===Zf||ft(Xn,jn?$:n.ORDER);const kn=D(Xn*Xn),qn=D(kn-Xd),mr=D(lr*kn-cr);let{isValid:Cr,value:Pr}=q(qn,mr);if(!Cr)throw new Error("Point.fromHex: invalid y coordinate");const Mr=(Pr&Xd)===Xd,Tr=!!(128&Er);if(!jn&&Pr===Zf&&Tr)throw new Error("Point.fromHex: x=0 and x_0=1");return Tr!==Mr&&(Pr=D(-Pr)),Pt.fromAffine({x:Pr,y:Xn})}static fromPrivateKey(xn){return Rn(xn).point}toRawBytes(){const{x:xn,y:jn}=this.toAffine(),lr=uw(jn,n.BYTES);return lr[lr.length-1]|=xn&Xd?128:0,lr}toHex(){return _m(this.toRawBytes())}}Pt.BASE=new Pt(t.Gx,t.Gy,Xd,D(t.Gx*t.Gy)),Pt.ZERO=new Pt(Zf,Xd,Xd,Zf);const{BASE:Dt,ZERO:Kt}=Pt,Wt=gM(Pt,8*f);function En(Nn){return ia(Nn,i)}function Tn(Nn){return En(K0(Nn))}function Rn(Nn){const xn=f;Nn=Ac("private key",Nn,xn);const jn=Ac("hashed private key",h(Nn),2*xn),lr=De(jn.slice(0,xn)),cr=jn.slice(xn,2*xn),fn=Tn(lr),dr=Dt.multiply(fn),Er=dr.toRawBytes();return{head:lr,prefix:cr,scalar:fn,point:dr,pointBytes:Er}}function Pn(Nn=new Uint8Array,...xn){const jn=Og(...xn);return Tn(h(Re(jn,Ac("context",Nn),!!l)))}const on=gC;return Dt._setWindowSize(8),{CURVE:t,getPublicKey:function rr(Nn){return Rn(Nn).pointBytes},sign:function zn(Nn,xn,jn={}){Nn=Ac("message",Nn),l&&(Nn=l(Nn));const{prefix:lr,scalar:cr,pointBytes:fn}=Rn(xn),dr=Pn(jn.context,lr,Nn),Er=Dt.multiply(dr).toRawBytes(),kn=En(dr+Pn(jn.context,Er,fn,Nn)*cr);return at(kn),Ac("result",Og(Er,uw(kn,n.BYTES)),2*f)},verify:function pn(Nn,xn,jn,lr=on){const{context:cr,zip215:fn}=lr,dr=n.BYTES;Nn=Ac("signature",Nn,2*dr),xn=Ac("message",xn),l&&(xn=l(xn));const Er=K0(Nn.slice(dr,2*dr));let Xn,kn,qn;try{Xn=Pt.fromHex(jn,fn),kn=Pt.fromHex(Nn.slice(0,dr),fn),qn=Dt.multiplyUnsafe(Er)}catch{return!1}if(!fn&&Xn.isSmallOrder())return!1;const mr=Pn(cr,kn.toRawBytes(),Xn.toRawBytes(),xn);return kn.add(Xn.multiplyUnsafe(mr)).subtract(qn).clearCofactor().equals(Pt.ZERO)},ExtendedPoint:Pt,utils:{getExtendedPublicKey:Rn,randomPrivateKey:()=>c(n.BYTES),precompute:(Nn=8,xn=Pt.BASE)=>(xn._setWindowSize(Nn),xn.multiply(BigInt(3)),xn)}}}const Fg=BigInt(0),kM=BigInt(1),Dp=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),gw=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Xf=(BigInt(0),BigInt(1)),PM=BigInt(2),TB=BigInt(5),aO=BigInt(10),cO=BigInt(20),lO=BigInt(40),dO=BigInt(80);function OM(r){const t=Dp,i=r*r%t*r%t,l=Za(i,PM,t)*i%t,h=Za(l,Xf,t)*r%t,c=Za(h,TB,t)*h%t,f=Za(c,aO,t)*c%t,V=Za(f,cO,t)*f%t,$=Za(V,lO,t)*V%t,D=Za($,dO,t)*$%t,q=Za(D,dO,t)*$%t,De=Za(q,aO,t)*c%t;return{pow_p_5_8:Za(De,PM,t)*r%t,b2:i}}function RM(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}const oi=cE(Dp,void 0,!0),wE={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:oi,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:pC,randomBytes:iE,adjustScalarBytes:RM,uvRatio:function wC(r,t){const n=Dp,i=ia(t*t*t,n),l=ia(i*i*t,n);let c=ia(r*i*OM(r*l).pow_p_5_8,n);const f=ia(t*c*c,n),V=c,$=ia(c*gw,n),D=f===r,q=f===ia(-r,n),De=f===ia(-r*gw,n);return D&&(c=V),(q||De)&&(c=$),((r,t)=>(ia(r,t)&ra)===ra)(c,n)&&(c=ia(-c,n)),{isValid:D||q,value:c}}},Gc=CM(wE);const vw=function bE(r){const t=function vC(r){return z0(r,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...r})}(r),{P:n}=t,i=dt=>ia(dt,n),l=t.montgomeryBits,h=Math.ceil(l/8),c=t.nByteLength,f=t.adjustScalarBytes||(dt=>dt),V=t.powPminus2||(dt=>V3(dt,n-BigInt(2),n));function $(dt,Mt,Pt){const Dt=i(dt*(Mt-Pt));return[Mt=i(Mt-Dt),Pt=i(Pt+Dt)]}function D(dt){if("bigint"==typeof dt&&Fg<=dt&&dt<n)return dt;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const q=(t.a-BigInt(2))/BigInt(4);function Re(dt){return uw(i(dt),h)}function et(dt,Mt){const Pt=function Oe(dt){const Mt=Ac("u coordinate",dt,h);return 32===c&&(Mt[31]&=127),K0(Mt)}(Mt),Dt=function je(dt){const Mt=Ac("scalar",dt),Pt=Mt.length;if(Pt!==h&&Pt!==c)throw new Error(`Expected ${h} or ${c} bytes, got ${Pt}`);return K0(f(Mt))}(dt),Kt=function De(dt,Mt){const Pt=D(dt),Dt=D(Mt),Kt=Pt;let Pn,Wt=kM,En=Fg,Tn=Pt,Rn=kM,rr=Fg;for(let on=BigInt(l-1);on>=Fg;on--){const pn=Dt>>on&kM;rr^=pn,Pn=$(rr,Wt,Tn),Wt=Pn[0],Tn=Pn[1],Pn=$(rr,En,Rn),En=Pn[0],Rn=Pn[1],rr=pn;const gn=Wt+En,Nn=i(gn*gn),xn=Wt-En,jn=i(xn*xn),lr=Nn-jn,cr=Tn+Rn,dr=i((Tn-Rn)*gn),Er=i(cr*xn),Xn=dr+Er,kn=dr-Er;Tn=i(Xn*Xn),Rn=i(Kt*i(kn*kn)),Wt=i(Nn*jn),En=i(lr*(Nn+i(q*lr)))}Pn=$(rr,Wt,Tn),Wt=Pn[0],Tn=Pn[1],Pn=$(rr,En,Rn),En=Pn[0],Rn=Pn[1];const zn=V(En);return i(Wt*zn)}(Pt,Dt);if(Kt===Fg)throw new Error("Invalid private or public key received");return Re(Kt)}const ft=Re(t.Gu);function at(dt){return et(dt,ft)}return{scalarMult:et,scalarMultBase:at,getSharedSecret:(dt,Mt)=>et(dt,Mt),getPublicKey:dt=>at(dt),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:ft}}({P:Dp,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:r=>{const t=Dp,{pow_p_5_8:n,b2:i}=OM(r);return ia(Za(n,BigInt(3),t)*i,t)},adjustScalarBytes:RM,randomBytes:iE}),fO=(oi.ORDER+BigInt(3))/BigInt(8);oi.pow(PM,fO),oi.sqrt(oi.neg(oi.ONE)),BigInt(5),BigInt(8),BigInt(486662),function FP(r,t){if(!r.isOdd)throw new Error("Field doesn't have isOdd");const n=r.sqrt(t);r.isOdd(n)&&r.neg(n)}(oi,oi.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var _u=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class sc{static bytesToPrivateKey({privateKeyBytes:t}){return _u(this,void 0,void 0,function*(){const n=Gc.getPublicKey(t),i={crv:"Ed25519",d:er.U$.uint8Array(t).toBase64Url(),kty:"OKP",x:er.U$.uint8Array(n).toBase64Url()};return i.kid=yield oa({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return _u(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"Ed25519",x:er.U$.uint8Array(t).toBase64Url()};return n.kid=yield oa({jwk:n}),n})}static computePublicKey({key:t}){return _u(this,void 0,void 0,function*(){const n=yield sc.privateKeyToBytes({privateKey:t}),i=Gc.getPublicKey(n),l={kty:"OKP",crv:"Ed25519",x:er.U$.uint8Array(i).toBase64Url()};return l.kid=yield oa({jwk:l}),l})}static convertPrivateKeyToX25519({privateKey:t}){return _u(this,void 0,void 0,function*(){const i=function EC(r){const t=wE.hash(r.subarray(0,32));return wE.adjustScalarBytes(t).subarray(0,32)}(yield sc.privateKeyToBytes({privateKey:t})),l=vw.getPublicKey(i),h={kty:"OKP",crv:"X25519",d:er.U$.uint8Array(i).toBase64Url(),x:er.U$.uint8Array(l).toBase64Url()};return h.kid=yield oa({jwk:h}),h})}static convertPublicKeyToX25519({publicKey:t}){return _u(this,void 0,void 0,function*(){const n=yield sc.publicKeyToBytes({publicKey:t});if(!(yield sc.validatePublicKey({publicKeyBytes:n})))throw new Error("Ed25519: Invalid public key.");const l=function uO(r){const{y:t}=Gc.ExtendedPoint.fromHex(r),n=BigInt(1);return oi.toBytes(oi.create((n+t)*oi.inv(n-t)))}(n),h={kty:"OKP",crv:"X25519",x:er.U$.uint8Array(l).toBase64Url()};return h.kid=yield oa({jwk:h}),h})}static generateKey(){return _u(this,void 0,void 0,function*(){const t=Gc.utils.randomPrivateKey(),n=yield sc.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield oa({jwk:n}),n})}static getPublicKey({key:t}){var n;return _u(this,void 0,void 0,function*(){if(!Lg(t)||"Ed25519"!==t.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["d"]);return null!==(n=l.kid)&&void 0!==n||(l.kid=yield oa({jwk:l})),l})}static privateKeyToBytes({privateKey:t}){return _u(this,void 0,void 0,function*(){if(!Lg(t))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return er.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return _u(this,void 0,void 0,function*(){if(!iC(t))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return er.U$.base64Url(t.x).toUint8Array()})}static sign({key:t,data:n}){return _u(this,void 0,void 0,function*(){const i=yield sc.privateKeyToBytes({privateKey:t});return Gc.sign(n,i)})}static validatePublicKey({publicKeyBytes:t}){return _u(this,void 0,void 0,function*(){try{Gc.ExtendedPoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return _u(this,void 0,void 0,function*(){const l=yield sc.publicKeyToBytes({publicKey:t});return Gc.verify(n,i,l)})}}var jg=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})},Mm=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};const FM={Ed25519:{implementation:class TC extends oE{computePublicKey({key:t}){return jg(this,void 0,void 0,function*(){if(!Lg(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield sc.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}generateKey({algorithm:t}){return jg(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield sc.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return jg(this,void 0,void 0,function*(){if(!Lg(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield sc.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}sign({key:t,data:n}){return jg(this,void 0,void 0,function*(){if(!Lg(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield sc.sign({key:t,data:n});throw new Error(`Unsupported curve: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return jg(this,void 0,void 0,function*(){if(!iC(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield sc.verify({key:t,signature:n,data:i});throw new Error(`Unsupported curve: ${t.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:aC,names:["ES256K","secp256k1"]},secp256r1:{implementation:aC,names:["ES256","secp256r1"]},"SHA-256":{implementation:class AP extends oE{digest({algorithm:t,data:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===t)return yield lM.digest({data:n})})}},names:["SHA-256"]}};class Yf{constructor(t){var n;this._algorithmInstances=new Map,this._keyStore=null!==(n=t?.keyStore)&&void 0!==n?n:new er.ny}digest({algorithm:t,data:n}){return Mm(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}exportKey({keyUri:t}){return Mm(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){return Mm(this,void 0,void 0,function*(){const i=yield this.getAlgorithm({algorithm:t}).generateKey({algorithm:t});if(void 0===i?.kid)throw new Error("Generated key is missing a required property: kid");const l=`${GP}${i.kid}`;return yield this._keyStore.set(l,i),l})}getKeyUri({key:t}){return Mm(this,void 0,void 0,function*(){const n=yield oa({jwk:t});return`${GP}${n}`})}getPublicKey({keyUri:t}){return Mm(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return Mm(this,void 0,void 0,function*(){if(!function oC(r){if(!r||"object"!=typeof r)return!1;switch(r.kty){case"EC":case"OKP":case"RSA":return"d"in r;case"oct":return"k"in r;default:return!1}}(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield oa({jwk:i}));const l=yield this.getKeyUri({key:i});return yield this._keyStore.set(l,i),l})}sign({keyUri:t,data:n}){return Mm(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),l=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:l}).sign({data:n,key:i})})}verify({key:t,signature:n,data:i}){return Mm(this,void 0,void 0,function*(){const l=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:l}).verify({key:t,signature:n,data:i})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=FM[t])||void 0===n?void 0:n.implementation;if(!i)throw new Error(`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const l in FM){const h=FM[l];if(n&&h.names.includes(n))return l;if(i&&h.names.includes(i))return l}throw new Error(`Unable to determine algorithm based on provided input: alg=${n}, crv=${i}`)}getPrivateKey({keyUri:t}){return Mm(this,void 0,void 0,function*(){const n=yield this._keyStore.get(t);if(!n)throw new Error(`Key not found: ${t}`);return n})}}function xO(r){const t={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(r.alg&&Object.values(t).includes(r.alg))return r.alg;if(r.crv&&Object.keys(t).includes(r.crv))return t[r.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${r.alg}, crv=${r.crv}. Supported 'alg' values: ${Object.values(t).join(", ")}. Supported 'crv' values: ${Object.keys(t).join(", ")}.`)}"object"==typeof globalThis&&"crypto"in globalThis&&globalThis;const X0=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4));function xE(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function kC(r){if("string"!=typeof r)throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array((new TextEncoder).encode(r))}function PC(r){if("string"==typeof r)r=kC(r);else{if(!xE(r))throw new Error("expected Uint8Array, got "+typeof r);r=r.slice()}return r}function SE(r,t){if(!xE(r))throw new Error("Uint8Array expected");if("number"==typeof t&&r.length!==t)throw new Error(`Uint8Array length ${t} expected`)}function ME(r,t,n,i){if("function"==typeof r.setBigUint64)return r.setBigUint64(t,n,i);const l=BigInt(32),h=BigInt(4294967295),c=Number(n>>l&h),f=Number(n&h),$=i?0:4;r.setUint32(t+(i?4:0),c,i),r.setUint32(t+$,f,i)}function $g(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`wrong positive integer: ${r}`)}function $M(r){if("boolean"!=typeof r)throw new Error(`boolean expected, not ${r}`)}function Kg(r,...t){if(!function RC(r){return null!=r&&"object"==typeof r&&(r instanceof Uint8Array||"Uint8Array"===r.constructor.name)}(r))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(r.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${r.length}`)}function BC(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}var Tm=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class bw{static bytesToPrivateKey({privateKeyBytes:t}){return Tm(this,void 0,void 0,function*(){const n=vw.getPublicKey(t),i={kty:"OKP",crv:"X25519",d:er.U$.uint8Array(t).toBase64Url(),x:er.U$.uint8Array(n).toBase64Url()};return i.kid=yield oa({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Tm(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"X25519",x:er.U$.uint8Array(t).toBase64Url()};return n.kid=yield oa({jwk:n}),n})}static computePublicKey({key:t}){return Tm(this,void 0,void 0,function*(){const n=yield bw.privateKeyToBytes({privateKey:t}),i=vw.getPublicKey(n),l={kty:"OKP",crv:"X25519",x:er.U$.uint8Array(i).toBase64Url()};return l.kid=yield oa({jwk:l}),l})}static generateKey(){return Tm(this,void 0,void 0,function*(){const t=vw.utils.randomPrivateKey(),n=yield bw.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield oa({jwk:n}),n})}static getPublicKey({key:t}){var n;return Tm(this,void 0,void 0,function*(){if(!Lg(t)||"X25519"!==t.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["d"]);return null!==(n=l.kid)&&void 0!==n||(l.kid=yield oa({jwk:l})),l})}static privateKeyToBytes({privateKey:t}){return Tm(this,void 0,void 0,function*(){if(!Lg(t))throw new Error("X25519: The provided key is not a valid OKP private key.");return er.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Tm(this,void 0,void 0,function*(){if(!iC(t))throw new Error("X25519: The provided key is not a valid OKP public key.");return er.U$.base64Url(t.x).toUint8Array()})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Tm(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield bw.privateKeyToBytes({privateKey:t}),l=yield bw.publicKeyToBytes({publicKey:n});return vw.getSharedSecret(i,l)})}}const Dd=(r,t)=>255&r[t++]|(255&r[t++])<<8;class f7{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,SE(t=PC(t),32);const n=Dd(t,0),i=Dd(t,2),l=Dd(t,4),h=Dd(t,6),c=Dd(t,8),f=Dd(t,10),V=Dd(t,12),$=Dd(t,14);this.r[0]=8191&n,this.r[1]=8191&(n>>>13|i<<3),this.r[2]=7939&(i>>>10|l<<6),this.r[3]=8191&(l>>>7|h<<9),this.r[4]=255&(h>>>4|c<<12),this.r[5]=c>>>1&8190,this.r[6]=8191&(c>>>14|f<<2),this.r[7]=8065&(f>>>11|V<<5),this.r[8]=8191&(V>>>8|$<<8),this.r[9]=$>>>5&127;for(let D=0;D<8;D++)this.pad[D]=Dd(t,16+2*D)}process(t,n,i=!1){const l=i?0:2048,{h,r:c}=this,f=c[0],V=c[1],$=c[2],D=c[3],q=c[4],De=c[5],Re=c[6],Oe=c[7],je=c[8],et=c[9],ft=Dd(t,n+0),at=Dd(t,n+2),dt=Dd(t,n+4),Mt=Dd(t,n+6),Pt=Dd(t,n+8),Dt=Dd(t,n+10),Kt=Dd(t,n+12),Wt=Dd(t,n+14);let En=h[0]+(8191&ft),Tn=h[1]+(8191&(ft>>>13|at<<3)),Rn=h[2]+(8191&(at>>>10|dt<<6)),rr=h[3]+(8191&(dt>>>7|Mt<<9)),Pn=h[4]+(8191&(Mt>>>4|Pt<<12)),zn=h[5]+(Pt>>>1&8191),on=h[6]+(8191&(Pt>>>14|Dt<<2)),pn=h[7]+(8191&(Dt>>>11|Kt<<5)),gn=h[8]+(8191&(Kt>>>8|Wt<<8)),Nn=h[9]+(Wt>>>5|l),xn=0,jn=xn+En*f+Tn*(5*et)+Rn*(5*je)+rr*(5*Oe)+Pn*(5*Re);xn=jn>>>13,jn&=8191,jn+=zn*(5*De)+on*(5*q)+pn*(5*D)+gn*(5*$)+Nn*(5*V),xn+=jn>>>13,jn&=8191;let lr=xn+En*V+Tn*f+Rn*(5*et)+rr*(5*je)+Pn*(5*Oe);xn=lr>>>13,lr&=8191,lr+=zn*(5*Re)+on*(5*De)+pn*(5*q)+gn*(5*D)+Nn*(5*$),xn+=lr>>>13,lr&=8191;let cr=xn+En*$+Tn*V+Rn*f+rr*(5*et)+Pn*(5*je);xn=cr>>>13,cr&=8191,cr+=zn*(5*Oe)+on*(5*Re)+pn*(5*De)+gn*(5*q)+Nn*(5*D),xn+=cr>>>13,cr&=8191;let fn=xn+En*D+Tn*$+Rn*V+rr*f+Pn*(5*et);xn=fn>>>13,fn&=8191,fn+=zn*(5*je)+on*(5*Oe)+pn*(5*Re)+gn*(5*De)+Nn*(5*q),xn+=fn>>>13,fn&=8191;let dr=xn+En*q+Tn*D+Rn*$+rr*V+Pn*f;xn=dr>>>13,dr&=8191,dr+=zn*(5*et)+on*(5*je)+pn*(5*Oe)+gn*(5*Re)+Nn*(5*De),xn+=dr>>>13,dr&=8191;let Er=xn+En*De+Tn*q+Rn*D+rr*$+Pn*V;xn=Er>>>13,Er&=8191,Er+=zn*f+on*(5*et)+pn*(5*je)+gn*(5*Oe)+Nn*(5*Re),xn+=Er>>>13,Er&=8191;let Xn=xn+En*Re+Tn*De+Rn*q+rr*D+Pn*$;xn=Xn>>>13,Xn&=8191,Xn+=zn*V+on*f+pn*(5*et)+gn*(5*je)+Nn*(5*Oe),xn+=Xn>>>13,Xn&=8191;let kn=xn+En*Oe+Tn*Re+Rn*De+rr*q+Pn*D;xn=kn>>>13,kn&=8191,kn+=zn*$+on*V+pn*f+gn*(5*et)+Nn*(5*je),xn+=kn>>>13,kn&=8191;let qn=xn+En*je+Tn*Oe+Rn*Re+rr*De+Pn*q;xn=qn>>>13,qn&=8191,qn+=zn*D+on*$+pn*V+gn*f+Nn*(5*et),xn+=qn>>>13,qn&=8191;let mr=xn+En*et+Tn*je+Rn*Oe+rr*Re+Pn*De;xn=mr>>>13,mr&=8191,mr+=zn*q+on*D+pn*$+gn*V+Nn*f,xn+=mr>>>13,mr&=8191,xn=(xn<<2)+xn|0,xn=xn+jn|0,jn=8191&xn,xn>>>=13,lr+=xn,h[0]=jn,h[1]=lr,h[2]=cr,h[3]=fn,h[4]=dr,h[5]=Er,h[6]=Xn,h[7]=kn,h[8]=qn,h[9]=mr}finalize(){const{h:t,pad:n}=this,i=new Uint16Array(10);let l=t[1]>>>13;t[1]&=8191;for(let f=2;f<10;f++)t[f]+=l,l=t[f]>>>13,t[f]&=8191;t[0]+=5*l,l=t[0]>>>13,t[0]&=8191,t[1]+=l,l=t[1]>>>13,t[1]&=8191,t[2]+=l,i[0]=t[0]+5,l=i[0]>>>13,i[0]&=8191;for(let f=1;f<10;f++)i[f]=t[f]+l,l=i[f]>>>13,i[f]&=8191;i[9]-=8192;let h=(1^l)-1;for(let f=0;f<10;f++)i[f]&=h;h=~h;for(let f=0;f<10;f++)t[f]=t[f]&h|i[f];t[0]=65535&(t[0]|t[1]<<13),t[1]=65535&(t[1]>>>3|t[2]<<10),t[2]=65535&(t[2]>>>6|t[3]<<7),t[3]=65535&(t[3]>>>9|t[4]<<4),t[4]=65535&(t[4]>>>12|t[5]<<1|t[6]<<14),t[5]=65535&(t[6]>>>2|t[7]<<11),t[6]=65535&(t[7]>>>5|t[8]<<8),t[7]=65535&(t[8]>>>8|t[9]<<5);let c=t[0]+n[0];t[0]=65535&c;for(let f=1;f<8;f++)c=(t[f]+n[f]|0)+(c>>>16)|0,t[f]=65535&c}update(t){BC(this);const{buffer:n,blockLen:i}=this,l=(t=PC(t)).length;for(let h=0;h<l;){const c=Math.min(i-this.pos,l-h);if(c!==i)n.set(t.subarray(h,h+c),this.pos),this.pos+=c,h+=c,this.pos===i&&(this.process(n,0,!1),this.pos=0);else for(;i<=l-h;h+=i)this.process(t,h)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(t){BC(this),function o(r,t){Kg(r);const n=t.outputLen;if(r.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(t,this),this.finished=!0;const{buffer:n,h:i}=this;let{pos:l}=this;if(l){for(n[l++]=1;l<16;l++)n[l]=0;this.process(n,0,!0)}this.finalize();let h=0;for(let c=0;c<8;c++)t[h++]=i[c]>>>0,t[h++]=i[c]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const i=t.slice(0,n);return this.destroy(),i}}const p7=function h7(r){const t=(i,l)=>r(l).update(PC(i)).digest(),n=r(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=i=>r(i),t}(r=>new f7(r)),m7=kC("expand 16-byte k"),y7=kC("expand 32-byte k"),g7=X0(m7),v7=X0(y7);function xi(r,t){return r<<t|r>>>32-t}function PO(r){return r.byteOffset%4==0}const GB=2**32-1,ZB=new Uint32Array;function KM(r,t){const{allowShortKeys:n,extendNonceFn:i,counterLength:l,counterRight:h,rounds:c}=function VB(r,t){if(void 0!==t&&("object"!=typeof t||!(r=>"[object Object]"===Object.prototype.toString.call(r)&&r.constructor===Object)(t)))throw new Error("options must be object or undefined");return Object.assign(r,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof r)throw new Error("core must be a function");return $g(l),$g(c),$M(h),$M(n),(f,V,$,D,q=0)=>{Kg(f),Kg(V),Kg($);const De=$.length;if(D||(D=new Uint8Array(De)),Kg(D),$g(q),q<0||q>=GB)throw new Error("arx: counter overflow");if(D.length<De)throw new Error(`arx: output (${D.length}) is shorter than data (${De})`);const Re=[];let je,et,Oe=f.length;if(32===Oe)je=f.slice(),Re.push(je),et=v7;else{if(16!==Oe||!n)throw new Error(`arx: invalid 32-byte key, got length=${Oe}`);je=new Uint8Array(32),je.set(f),je.set(f,16),et=g7,Re.push(je)}PO(V)||(V=V.slice(),Re.push(V));const ft=X0(je);if(i){if(24!==V.length)throw new Error("arx: extended nonce must be 24 bytes");i(et,ft,X0(V.subarray(0,16)),ft),V=V.subarray(16)}const at=16-l;if(at!==V.length)throw new Error(`arx: nonce must be ${at} or 16 bytes`);if(12!==at){const Mt=new Uint8Array(12);Mt.set(V,h?0:12-V.length),Re.push(V=Mt)}const dt=X0(V);for(function w7(r,t,n,i,l,h,c,f){const V=l.length,$=new Uint8Array(64),D=X0($),q=PO(l)&&PO(h),De=q?X0(l):ZB,Re=q?X0(h):ZB;for(let Oe=0;Oe<V;c++){if(r(t,n,i,D,c,f),c>=GB)throw new Error("arx: counter overflow");const je=Math.min(64,V-Oe);if(q&&64===je){const et=Oe/4;if(Oe%4!=0)throw new Error("arx: invalid block position");for(let at,ft=0;ft<16;ft++)at=et+ft,Re[at]=De[at]^D[ft];Oe+=64}else{for(let ft,et=0;et<je;et++)ft=Oe+et,h[ft]=l[ft]^$[et];Oe+=je}}}(r,et,ft,dt,$,D,q,c);Re.length>0;)Re.pop().fill(0);return D}}function VM(r,t,n,i,l,h=20){let c=r[0],f=r[1],V=r[2],$=r[3],D=t[0],q=t[1],De=t[2],Re=t[3],Oe=t[4],je=t[5],et=t[6],ft=t[7],at=l,dt=n[0],Mt=n[1],Pt=n[2],Dt=c,Kt=f,Wt=V,En=$,Tn=D,Rn=q,rr=De,Pn=Re,zn=Oe,on=je,pn=et,gn=ft,Nn=at,xn=dt,jn=Mt,lr=Pt;for(let fn=0;fn<h;fn+=2)Dt=Dt+Tn|0,Nn=xi(Nn^Dt,16),zn=zn+Nn|0,Tn=xi(Tn^zn,12),Dt=Dt+Tn|0,Nn=xi(Nn^Dt,8),zn=zn+Nn|0,Tn=xi(Tn^zn,7),Kt=Kt+Rn|0,xn=xi(xn^Kt,16),on=on+xn|0,Rn=xi(Rn^on,12),Kt=Kt+Rn|0,xn=xi(xn^Kt,8),on=on+xn|0,Rn=xi(Rn^on,7),Wt=Wt+rr|0,jn=xi(jn^Wt,16),pn=pn+jn|0,rr=xi(rr^pn,12),Wt=Wt+rr|0,jn=xi(jn^Wt,8),pn=pn+jn|0,rr=xi(rr^pn,7),En=En+Pn|0,lr=xi(lr^En,16),gn=gn+lr|0,Pn=xi(Pn^gn,12),En=En+Pn|0,lr=xi(lr^En,8),gn=gn+lr|0,Pn=xi(Pn^gn,7),Dt=Dt+Rn|0,lr=xi(lr^Dt,16),pn=pn+lr|0,Rn=xi(Rn^pn,12),Dt=Dt+Rn|0,lr=xi(lr^Dt,8),pn=pn+lr|0,Rn=xi(Rn^pn,7),Kt=Kt+rr|0,Nn=xi(Nn^Kt,16),gn=gn+Nn|0,rr=xi(rr^gn,12),Kt=Kt+rr|0,Nn=xi(Nn^Kt,8),gn=gn+Nn|0,rr=xi(rr^gn,7),Wt=Wt+Pn|0,xn=xi(xn^Wt,16),zn=zn+xn|0,Pn=xi(Pn^zn,12),Wt=Wt+Pn|0,xn=xi(xn^Wt,8),zn=zn+xn|0,Pn=xi(Pn^zn,7),En=En+Tn|0,jn=xi(jn^En,16),on=on+jn|0,Tn=xi(Tn^on,12),En=En+Tn|0,jn=xi(jn^En,8),on=on+jn|0,Tn=xi(Tn^on,7);let cr=0;i[cr++]=c+Dt|0,i[cr++]=f+Kt|0,i[cr++]=V+Wt|0,i[cr++]=$+En|0,i[cr++]=D+Tn|0,i[cr++]=q+Rn|0,i[cr++]=De+rr|0,i[cr++]=Re+Pn|0,i[cr++]=Oe+zn|0,i[cr++]=je+on|0,i[cr++]=et+pn|0,i[cr++]=ft+gn|0,i[cr++]=at+Nn|0,i[cr++]=dt+xn|0,i[cr++]=Mt+jn|0,i[cr++]=Pt+lr|0}const E7=KM(VM,{counterRight:!1,counterLength:4,allowShortKeys:!1}),x7=KM(VM,{counterRight:!1,counterLength:8,extendNonceFn:function _7(r,t,n,i){let l=r[0],h=r[1],c=r[2],f=r[3],V=t[0],$=t[1],D=t[2],q=t[3],De=t[4],Re=t[5],Oe=t[6],je=t[7],et=n[0],ft=n[1],at=n[2],dt=n[3];for(let Pt=0;Pt<20;Pt+=2)l=l+V|0,et=xi(et^l,16),De=De+et|0,V=xi(V^De,12),l=l+V|0,et=xi(et^l,8),De=De+et|0,V=xi(V^De,7),h=h+$|0,ft=xi(ft^h,16),Re=Re+ft|0,$=xi($^Re,12),h=h+$|0,ft=xi(ft^h,8),Re=Re+ft|0,$=xi($^Re,7),c=c+D|0,at=xi(at^c,16),Oe=Oe+at|0,D=xi(D^Oe,12),c=c+D|0,at=xi(at^c,8),Oe=Oe+at|0,D=xi(D^Oe,7),f=f+q|0,dt=xi(dt^f,16),je=je+dt|0,q=xi(q^je,12),f=f+q|0,dt=xi(dt^f,8),je=je+dt|0,q=xi(q^je,7),l=l+$|0,dt=xi(dt^l,16),Oe=Oe+dt|0,$=xi($^Oe,12),l=l+$|0,dt=xi(dt^l,8),Oe=Oe+dt|0,$=xi($^Oe,7),h=h+D|0,et=xi(et^h,16),je=je+et|0,D=xi(D^je,12),h=h+D|0,et=xi(et^h,8),je=je+et|0,D=xi(D^je,7),c=c+q|0,ft=xi(ft^c,16),De=De+ft|0,q=xi(q^De,12),c=c+q|0,ft=xi(ft^c,8),De=De+ft|0,q=xi(q^De,7),f=f+V|0,at=xi(at^f,16),Re=Re+at|0,V=xi(V^Re,12),f=f+V|0,at=xi(at^f,8),Re=Re+at|0,V=xi(V^Re,7);let Mt=0;i[Mt++]=l,i[Mt++]=h,i[Mt++]=c,i[Mt++]=f,i[Mt++]=et,i[Mt++]=ft,i[Mt++]=at,i[Mt++]=dt},allowShortKeys:!1}),S7=new Uint8Array(16),XB=(r,t)=>{r.update(t);const n=t.length%16;n&&r.update(S7.subarray(n))},M7=new Uint8Array(32);function YB(r,t,n,i,l){const h=r(t,n,M7),c=p7.create(h);l&&XB(c,l),XB(c,i);const f=new Uint8Array(16),V=(r=>new DataView(r.buffer,r.byteOffset,r.byteLength))(f);ME(V,0,BigInt(l?l.length:0),!0),ME(V,8,BigInt(i.length),!0),c.update(f);const $=c.digest();return h.fill(0),$}const JB=r=>(t,n,i)=>(SE(t,32),SE(n),{encrypt:(h,c)=>{const f=h.length,V=f+16;c?SE(c,V):c=new Uint8Array(V),r(t,n,h,c,1);const $=YB(r,t,n,c.subarray(0,-16),i);return c.set($,f),c},decrypt:(h,c)=>{const f=h.length,V=f-16;if(f<16)throw new Error("encrypted data must be at least 16 bytes");c?SE(c,V):c=new Uint8Array(V);const $=h.subarray(0,-16);if(!function zB(r,t){if(r.length!==t.length)return!1;let n=0;for(let i=0;i<r.length;i++)n|=r[i]^t[i];return 0===n}(h.subarray(-16),YB(r,t,n,$,i)))throw new Error("invalid tag");return r(t,n,$,c,1),c}});function Cp(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function BO({didDocument:r}){var t,n;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const i=[];return i.push(...null!==(n=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(NO))&&void 0!==n?n:[]),Object.keys(sw).forEach(l=>{var h,c;i.push(...null!==(c=null===(h=r[l])||void 0===h?void 0:h.filter(NO))&&void 0!==c?c:[])}),i}function C7({didDocument:r,methodId:t}){const n=[];return Object.keys(sw).forEach(i=>{if(Array.isArray(r[i])){const l=r[i],h=Cp(t);l.some(f=>{const V=Cp(f)===h,$=NO(f)&&Cp(f.id)===h;return V||$})&&n.push(i)}}),n}function NO(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}function qB({keyBytes:r,multicodecCode:t,multicodecName:n}){const i=er.Gs.addPrefix({code:t,data:r,name:n}),l=er.U$.uint8Array(i).toBase58Btc();return er.U$.base58Btc(l).toMultibase()}function QB({multibaseKeyId:r}){try{const t=er.U$.multibase(r).toBase58Btc(),n=er.U$.base58Btc(t).toUint8Array(),{code:i,data:l,name:h}=er.Gs.removePrefix({prefixedData:n});return{keyBytes:l,multicodecCode:i,multicodecName:h}}catch{throw new Gi(Zi.InvalidDid,`Invalid multibase identifier: ${r}`)}}JB(E7),JB(x7);var WM=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class zg{constructor({uri:t,document:n,metadata:i,keyManager:l}){this.uri=t,this.document=n,this.metadata=i,this.keyManager=l}export(){return WM(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const n=[];for(let i of this.document.verificationMethod){if(!i.publicKeyJwk)throw new Error(`Verification method '${i.id}' does not contain a public key in JWK format`);const l=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),h=yield this.keyManager.exportKey({keyUri:l});n.push(Object.assign({},h))}t.privateKeys=n}return t})}getSigner(t){return WM(this,void 0,void 0,function*(){var n;const i=null===(n=this.document.verificationMethod)||void 0===n?void 0:n.find(V=>{var $,D;return Cp(V.id)===(null!==($=Cp(t?.methodId))&&void 0!==$?$:Cp(null===(D=this.document.assertionMethod)||void 0===D?void 0:D[0]))});if(!i||!i.publicKeyJwk)throw new Gi(Zi.InternalError,"A verification method intended for signing could not be determined from the DID Document");const l=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),h=yield this.keyManager.getPublicKey({keyUri:l}),c=this.keyManager;return{algorithm:xO(h),keyId:i.id,sign(V){return WM(this,arguments,void 0,function*({data:$}){return yield c.sign({data:$,keyUri:l})})},verify(V){return WM(this,arguments,void 0,function*({data:$,signature:D}){return yield c.verify({data:$,key:h,signature:D})})}}})}static import(t){return WM(this,arguments,void 0,function*({portableDid:n,keyManager:i=new Yf}){var l;const h=BO({didDocument:n.document});if(0===h.length)throw new Gi(Zi.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let f of null!==(l=n.privateKeys)&&void 0!==l?l:[])yield i.importKey({key:f});for(let f of h){if(!f.publicKeyJwk)throw new Error(`Verification method '${f.id}' does not contain a public key in JWK format`);const V=yield i.getKeyUri({key:f.publicKeyJwk});yield i.getPublicKey({keyUri:V})}return new zg({uri:n.uri,document:n.document,metadata:n.metadata,keyManager:i})})}}var LC=_(2198),AE=_(49402),eN=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class LO{static getSigningMethod(t){return eN(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,n){return eN(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var td=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})},tN=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n};const nN="https://diddht.tbddev.org",Hg=7200,Eu=",";var rN=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}(rN||{}),mf=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(mf||{}),iN=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(iN||{});const oN={Ed25519:mf.Ed25519,ES256K:mf.secp256k1,ES256:mf.secp256r1,"P-256":mf.secp256r1,secp256k1:mf.secp256k1,secp256r1:mf.secp256r1,X25519:mf.X25519},sN={[mf.Ed25519]:"Ed25519",[mf.secp256k1]:"ES256K",[mf.secp256r1]:"ES256",[mf.X25519]:"ECDH-ES+A256KW"};let UO=(()=>{class r extends LO{static create(){return td(this,arguments,void 0,function*({keyManager:n=new Yf,options:i={}}={}){var l,h,c,f,V,$,D,q,De,Re,Oe;if(null!==(l=i.verificationMethods)&&void 0!==l&&l.some(Dt=>!(Dt.algorithm in oN)))throw new Error("One or more verification method algorithms are not supported");const je=null===(h=i.verificationMethods)||void 0===h?void 0:h.filter(Dt=>"id"in Dt).map(Dt=>Dt.id);if(je&&je.length!==new Set(je).size)throw new Error("One or more verification method IDs are not unique");if(null!==(c=i.services)&&void 0!==c&&c.some(Dt=>!Dt.id||!Dt.type||!Dt.serviceEndpoint))throw new Error("One or more services are missing required properties");const et=yield n.generateKey({algorithm:"Ed25519"}),ft=yield n.getPublicKey({keyUri:et}),at=yield sl.identityKeyToIdentifier({identityKey:ft}),dt=Object.assign(Object.assign({id:at},i.alsoKnownAs&&{alsoKnownAs:i.alsoKnownAs}),i.controllers&&{controller:i.controllers}),Mt=[...null!==(f=i.verificationMethods)&&void 0!==f?f:[]];Mt?.some(Dt=>{var Kt;return"0"===(null===(Kt=Dt.id)||void 0===Kt?void 0:Kt.split("#").pop())})||Mt.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const Dt of Mt){const Kt=Dt.id&&"0"===Dt.id.split("#").pop()?et:yield n.generateKey({algorithm:Dt.algorithm}),Wt=yield n.getPublicKey({keyUri:Kt});let En=null!==($=null!==(V=Dt.id)&&void 0!==V?V:Wt.kid)&&void 0!==$?$:yield oa({jwk:Wt});En=`${at}#${Cp(En)}`,null!==(D=dt.verificationMethod)&&void 0!==D||(dt.verificationMethod=[]),dt.verificationMethod.push({id:En,type:"JsonWebKey",controller:null!==(q=Dt.controller)&&void 0!==q?q:at,publicKeyJwk:Wt});for(const Tn of null!==(De=Dt.purposes)&&void 0!==De?De:[])dt[Tn]||(dt[Tn]=[]),dt[Tn].push(En)}null===(Re=i.services)||void 0===Re||Re.forEach(Dt=>{var Kt;null!==(Kt=dt.service)&&void 0!==Kt||(dt.service=[]),Dt.id=`${at}#${Dt.id.split("#").pop()}`,dt.service.push(Dt)});const Pt=new zg({uri:at,document:dt,metadata:Object.assign({published:!1},i.types&&{types:i.types}),keyManager:n});if(null===(Oe=i.publish)||void 0===Oe||Oe){const Dt=yield r.publish({did:Pt,gatewayUri:i.gatewayUri});Pt.metadata=Dt.didDocumentMetadata}return Pt})}static import(n){return td(this,arguments,void 0,function*({portableDid:i,keyManager:l=new Yf}){var h;const c=Rs.parse(i.uri);if(c?.method!==r.methodName)throw new Gi(Zi.MethodNotSupported,"Method not supported");const f=yield zg.import({portableDid:i,keyManager:l});if(null===(h=f.document.verificationMethod)||void 0===h||!h.some(V=>{var $;return"0"===(null===($=V.id)||void 0===$?void 0:$.split("#").pop())}))throw new Gi(Zi.InvalidDidDocument,"DID document must contain an Identity Key");return f})}static getSigningMethod(n){return td(this,arguments,void 0,function*({didDocument:i,methodId:l="#0"}){var h;const c=Rs.parse(i.id);if(c&&c.method!==this.methodName)throw new Gi(Zi.MethodNotSupported,`Method not supported: ${c.method}`);const f=null===(h=i.verificationMethod)||void 0===h?void 0:h.find(V=>{var $,D;return Cp(V.id)===(null!==($=Cp(l))&&void 0!==$?$:Cp(null===(D=i.assertionMethod)||void 0===D?void 0:D[0]))});if(!f||!f.publicKeyJwk)throw new Gi(Zi.InternalError,"A verification method intended for signing could not be determined from the DID Document");return f})}static publish(n){return td(this,arguments,void 0,function*({did:i,gatewayUri:l=nN}){return yield Y0.put({did:i,gatewayUri:l})})}static resolve(n){return td(this,arguments,void 0,function*(i,l={}){var h;const c=null!==(h=l?.gatewayUri)&&void 0!==h?h:nN;try{yield sl.identifierToIdentityKey({didUri:i});const{didDocument:f,didDocumentMetadata:V}=yield Y0.get({didUri:i,gatewayUri:c});return Object.assign(Object.assign({},Wf),{didDocument:f,didDocumentMetadata:V})}catch(f){if(!(f instanceof Gi))throw new Error(f);return Object.assign(Object.assign({},Wf),{didResolutionMetadata:Object.assign({error:f.code},f.message&&{errorMessage:f.message})})}})}}return r.methodName="dht",r})();class Y0{static get(t){return td(this,arguments,void 0,function*({didUri:n,gatewayUri:i}){const l=sl.identifierToIdentityKeyBytes({didUri:n}),h=yield Y0.pkarrGet({gatewayUri:i,publicKeyBytes:l}),c=yield sl.parseBep44GetMessage({bep44Message:h}),f=yield Y0.fromDnsPacket({didUri:n,dnsPacket:c});return f.didDocumentMetadata.versionId=h.seq.toString(),f})}static put(t){return td(this,arguments,void 0,function*({did:n,gatewayUri:i}){const l=yield Y0.toDnsPacket({didDocument:n.document,didMetadata:n.metadata,authoritativeGatewayUris:[i]}),h=yield sl.createBep44PutMessage({dnsPacket:l,publicKeyBytes:sl.identifierToIdentityKeyBytes({didUri:n.uri}),signer:yield n.getSigner({methodId:"0"})}),c=yield Y0.pkarrPut({gatewayUri:i,bep44Message:h});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:c,versionId:h.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return td(this,arguments,void 0,function*({gatewayUri:n,publicKeyBytes:i}){const l=er.U$.uint8Array(i).toBase32Z(),h=new URL(l,n).href;let c;try{if(c=yield fetch(h,{method:"GET"}),!c.ok)throw new Gi(Zi.NotFound,`Pkarr record not found for: ${l}`)}catch($){throw $ instanceof Gi?$:new Gi(Zi.InternalError,`Failed to fetch Pkarr record: ${$.message}`)}const f=yield c.arrayBuffer();if(!f)throw new Gi(Zi.NotFound,`Pkarr record not found for: ${l}`);if(f.byteLength<72)throw new Gi(Zi.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${f.byteLength}`);if(f.byteLength>1072)throw new Gi(Zi.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${f.byteLength}`);return{k:i,seq:Number(new DataView(f).getBigUint64(64)),sig:new Uint8Array(f,0,64),v:new Uint8Array(f,72)}})}static pkarrPut(t){return td(this,arguments,void 0,function*({gatewayUri:n,bep44Message:i}){const l=er.U$.uint8Array(i.k).toBase32Z(),h=new URL(l,n).href,c=new Uint8Array(i.v.length+72);let f;c.set(i.sig,0),new DataView(c.buffer).setBigUint64(i.sig.length,BigInt(i.seq)),c.set(i.v,i.sig.length+8);try{f=yield fetch(h,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:c})}catch(V){throw new Gi(Zi.InternalError,`Failed to put Pkarr record for identifier ${l}: ${V.message}`)}return f.ok})}static fromDnsPacket(t){return td(this,arguments,void 0,function*({didUri:n,dnsPacket:i}){var l,h,c;const f={id:n},V={published:!0},$=new Map;for(const D of null!==(l=i?.answers)&&void 0!==l?l:[]){if("TXT"!==D.type)continue;const q=D.name.split(".")[0].substring(1);switch(!0){case q.startsWith("aka"):{const De=sl.parseTxtDataToString(D.data);f.alsoKnownAs=De.split(Eu);break}case q.startsWith("cnt"):{const De=sl.parseTxtDataToString(D.data);f.controller=De.includes(Eu)?De.split(Eu):De;break}case q.startsWith("k"):{const{id:De,t:Re,k:Oe,c:je,a:et}=sl.parseTxtDataToObject(D.data),ft=er.U$.base64Url(Oe).toUint8Array(),at=mf[Number(Re)];let dt=yield sl.keyConverter(at).bytesToPublicKey({publicKeyBytes:ft});dt.alg=et||sN[Number(Re)];const Mt="k0"===q?"0":void 0!==De?De:yield oa({jwk:dt});null!==(h=f.verificationMethod)&&void 0!==h||(f.verificationMethod=[]);const Pt=`${n}#${Mt}`;f.verificationMethod.push({id:Pt,type:"JsonWebKey",controller:je??n,publicKeyJwk:dt}),$.set(q,Pt);break}case q.startsWith("s"):{const De=sl.parseTxtDataToObject(D.data),{id:Re,t:Oe,se:je}=De,et=tN(De,["id","t","se"]),ft=je.includes(Eu)?je.split(Eu):[je],at=Object.fromEntries(Object.entries(et).map(([dt,Mt])=>[dt,Mt.includes(Eu)?Mt.split(Eu):Mt]));null!==(c=f.service)&&void 0!==c||(f.service=[]),f.service.push(Object.assign(Object.assign({},at),{id:`${n}#${Re}`,type:Oe,serviceEndpoint:ft}));break}case q.startsWith("typ"):{const{id:De}=sl.parseTxtDataToObject(D.data);V.types=De.split(Eu).map(Re=>Number(Re));break}case q.startsWith("did"):{const De=at=>at.split(Eu).map(dt=>$.get(dt)).filter(dt=>"string"==typeof dt),{auth:Re,asm:Oe,del:je,inv:et,agm:ft}=sl.parseTxtDataToObject(D.data);Re&&(f.authentication=De(Re)),Oe&&(f.assertionMethod=De(Oe)),je&&(f.capabilityDelegation=De(je)),et&&(f.capabilityInvocation=De(et)),ft&&(f.keyAgreement=De(ft));break}}}return{didDocument:f,didDocumentMetadata:V,didResolutionMetadata:{}}})}static toDnsPacket(t){return td(this,arguments,void 0,function*({didDocument:n,didMetadata:i,authoritativeGatewayUris:l,previousDidProof:h}){var c,f,V,$,D;const q=[],De=[],Re=new Map,Oe=[],je=[];if(void 0!==h){const{signature:at,previousDid:dt}=h;yield sl.validatePreviousDidProof({newDid:n.id,previousDidProof:h}),q.push({type:"TXT",name:"_prv._did.",ttl:Hg,data:`id=${dt};s=${at}`})}if(n.alsoKnownAs&&q.push({type:"TXT",name:"_aka._did.",ttl:Hg,data:n.alsoKnownAs.join(Eu)}),n.controller){const at=Array.isArray(n.controller)?n.controller.join(Eu):n.controller;q.push({type:"TXT",name:"_cnt._did.",ttl:Hg,data:at})}for(const[at,dt]of null!==(f=null===(c=n.verificationMethod)||void 0===c?void 0:c.entries())&&void 0!==f?f:[]){const Mt=`k${at}`;je.push(Mt);let Pt=dt.id.split("#").pop();Re.set(Pt,Mt);const Dt=dt.publicKeyJwk;if(!Dt?.crv||!(Dt.crv in oN))throw new Gi(Zi.InvalidPublicKeyType,`Verification method '${dt.id}' contains an unsupported key type: ${null!==(V=Dt?.crv)&&void 0!==V?V:"undefined"}`);const Kt=mf[Dt.crv],Wt=yield sl.keyConverter(Dt.crv).publicKeyToBytes({publicKey:Dt}),Tn=[`t=${Kt}`,`k=${er.U$.uint8Array(Wt).toBase64Url()}`];"0"!==Pt&&(yield oa({jwk:Dt}))!==Pt&&Tn.unshift(`id=${Pt}`),Dt.alg!==sN[Kt]&&Tn.push(`a=${Dt.alg}`),dt.controller!==n.id&&Tn.push(`c=${dt.controller}`),q.push({type:"TXT",name:`_${Mt}._did.`,ttl:Hg,data:Tn.join(";")})}null===($=n.service)||void 0===$||$.forEach((at,dt)=>{const Mt=`s${dt}`;Oe.push(Mt);let{id:Pt,type:Dt,serviceEndpoint:Kt}=at,Wt=tN(at,["id","type","serviceEndpoint"]);Pt=Cp(Pt),Kt=Array.isArray(Kt)?Kt.join(","):Kt;const Tn=Object.entries(Object.assign({id:Pt,t:Dt,se:Kt},Wt)).map(([rr,Pn])=>`${rr}=${Pn}`).join(";"),Rn=sl.chunkDataIfNeeded(Tn);q.push({type:"TXT",name:`_${Mt}._did.`,ttl:Hg,data:Rn})});const et=["v=0"];if(je.length&&et.push(`vm=${je.join(Eu)}`),Object.keys(sw).forEach(at=>{var dt;const Mt=null===(dt=n[at])||void 0===dt?void 0:dt.map(Pt=>Re.get(Pt.split("#").pop()));Mt&&et.push(`${iN[at]}=${Mt.join(Eu)}`)}),Oe.length&&et.push(`svc=${Oe.join(Eu)}`),null!==(D=i.types)&&void 0!==D&&D.length){const dt=i.types.map(Mt=>"string"==typeof Mt?rN[Mt]:Mt);q.push({type:"TXT",name:"_typ._did.",ttl:Hg,data:`id=${dt.join(Eu)}`})}q.push({type:"TXT",name:"_did."+Y0.getUniqueDidSuffix(n.id)+".",ttl:Hg,data:et.join(";")});for(const at of l||[])De.push({type:"NS",name:"_did."+Y0.getUniqueDidSuffix(n.id)+".",ttl:Hg,data:at+"."});return{id:0,type:"response",flags:AE.hB,answers:[...q,...De]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class sl{static createBep44PutMessage(t){return td(this,arguments,void 0,function*({dnsPacket:n,publicKeyBytes:i,signer:l}){const h=Math.ceil(Date.now()/1e3),c=(0,AE.lF)(n),f=LC.A.encode({seq:h,v:c}).subarray(1,-1);if(f.length>1e3)throw new Gi(Zi.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${f.length} bytes`);return{k:i,seq:h,sig:yield l.sign({data:f}),v:c}})}static identifierToIdentityKey(t){return td(this,arguments,void 0,function*({didUri:n}){let i=sl.identifierToIdentityKeyBytes({didUri:n});return yield sc.bytesToPublicKey({publicKeyBytes:i})})}static identifierToIdentityKeyBytes({didUri:t}){const n=Rs.parse(t);if(!n)throw new Gi(Zi.InvalidDid,`Invalid DID URI: ${t}`);if(n.method!==UO.methodName)throw new Gi(Zi.MethodNotSupported,`Method not supported: ${n.method}`);let i;try{i=er.U$.base32Z(n.id).toUint8Array()}catch{throw new Gi(Zi.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==i.length)throw new Gi(Zi.InvalidPublicKeyLength,`Invalid public key length: ${i.length}`);return i}static identityKeyToIdentifier(t){return td(this,arguments,void 0,function*({identityKey:n}){const i=yield sc.publicKeyToBytes({publicKey:n}),l=er.U$.uint8Array(i).toBase32Z();return`did:${UO.methodName}:${l}`})}static keyConverter(t){const i={Ed25519:sc,"P-256":{publicKeyToBytes:l=>td(this,[l],void 0,function*({publicKey:h}){const c=yield Ba.publicKeyToBytes({publicKey:h});return yield Ba.compressPublicKey({publicKeyBytes:c})}),bytesToPublicKey:Ba.bytesToPublicKey,privateKeyToBytes:Ba.privateKeyToBytes,bytesToPrivateKey:Ba.bytesToPrivateKey},secp256k1:{publicKeyToBytes:l=>td(this,[l],void 0,function*({publicKey:h}){const c=yield oc.publicKeyToBytes({publicKey:h});return yield oc.compressPublicKey({publicKeyBytes:c})}),bytesToPublicKey:oc.bytesToPublicKey,privateKeyToBytes:oc.privateKeyToBytes,bytesToPrivateKey:oc.bytesToPrivateKey},X25519:bw}[t];if(!i)throw new Gi(Zi.InvalidPublicKeyType,`Unsupported curve: ${t}`);return i}static parseBep44GetMessage(t){return td(this,arguments,void 0,function*({bep44Message:n}){const i=yield sc.bytesToPublicKey({publicKeyBytes:n.k}),l=LC.A.encode({seq:n.seq,v:n.v}).subarray(1,-1);if(!(yield sc.verify({key:i,signature:n.sig,data:l})))throw new Gi(Zi.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,AE.D4)(n.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((n,i)=>{const[l,h]=i.split("=");return n[l]=h,n},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return er.U$.uint8Array(t).toString();if(Array.isArray(t))return t.map(n=>this.parseTxtDataToString(n)).join("");throw new Gi(Zi.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return td(this,arguments,void 0,function*({newDid:n,previousDidProof:i}){const l=yield sl.identifierToIdentityKey({didUri:i.previousDid}),h=sl.identifierToIdentityKeyBytes({didUri:n}),c=er.U$.base64Url(i.signature).toUint8Array();if(!(yield sc.verify({key:l,data:h,signature:c})))throw new Gi(Zi.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const n=[];for(let i=0;i<t.length;i+=255)n.push(t.slice(i,i+255));return n}}var aN=_(52039),Wg=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})},J0=function(r){return r.Ed25519="Ed25519",r.secp256k1="secp256k1",r.secp256r1="secp256r1",r.X25519="X25519",r}(J0||{});const O7={Ed25519:J0.Ed25519,ES256K:J0.secp256k1,ES256:J0.secp256r1,"P-256":J0.secp256r1,secp256k1:J0.secp256k1,secp256r1:J0.secp256r1},cN="https://ion.tbd.engineering";let R7=(()=>{class r extends LO{static create(){return Wg(this,arguments,void 0,function*({keyManager:n=new Yf,options:i={}}={}){var l,h,c,f,V,$,D;if(null!==(l=i.verificationMethods)&&void 0!==l&&l.some(Dt=>!(Dt.algorithm in O7)))throw new Error("One or more verification method algorithms are not supported");const q=null===(h=i.verificationMethods)||void 0===h?void 0:h.filter(Dt=>"id"in Dt).map(Dt=>Dt.id);if(q&&q.length!==new Set(q).size)throw new Error("One or more verification method IDs are not unique");if(null!==(c=i.services)&&void 0!==c&&c.some(Dt=>!Dt.id||!Dt.type||!Dt.serviceEndpoint))throw new Error("One or more services are missing required properties");const De={algorithm:"Ed25519",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]},Re=[];for(const Dt of null!==(f=i.verificationMethods)&&void 0!==f?f:[De]){const Kt=yield n.generateKey({algorithm:Dt.algorithm}),Wt=yield n.getPublicKey({keyUri:Kt});Re.push({id:Dt.id,publicKeyJwk:Wt,purposes:null!==(V=Dt.purposes)&&void 0!==V?V:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]})}const Oe=yield n.generateKey({algorithm:J0.secp256k1}),je=yield n.getPublicKey({keyUri:Oe}),et=yield n.generateKey({algorithm:J0.secp256k1}),ft=yield n.getPublicKey({keyUri:et}),at=yield Uh.computeLongFormDidUri({recoveryKey:je,updateKey:ft,services:null!==($=i.services)&&void 0!==$?$:[],verificationMethods:Re}),{didDocument:dt,didResolutionMetadata:Mt}=yield r.resolve(at,{gatewayUri:i.gatewayUri});if(null===dt)throw new Error(`Unable to resolve DID during creation: ${Mt?.error}`);const Pt=new zg({uri:at,document:dt,metadata:{published:!1,canonicalId:at.split(":",3).join(":"),recoveryKey:je,updateKey:ft},keyManager:n});if(null===(D=i.publish)||void 0===D||D){const Dt=yield r.publish({did:Pt,gatewayUri:i.gatewayUri});Pt.metadata=Dt.didDocumentMetadata}return Pt})}static getSigningMethod(n){return Wg(this,arguments,void 0,function*({didDocument:i,methodId:l}){var h;const c=Rs.parse(i.id);if(c&&c.method!==this.methodName)throw new Gi(Zi.MethodNotSupported,`Method not supported: ${c.method}`);const f=null===(h=i.verificationMethod)||void 0===h?void 0:h.find(V=>{var $;return V.id===(l??(null===($=i.assertionMethod)||void 0===$?void 0:$[0]))});if(!f||!f.publicKeyJwk)throw new Gi(Zi.InternalError,"A verification method intended for signing could not be determined from the DID Document");return f})}static import(n){return Wg(this,arguments,void 0,function*({portableDid:i,keyManager:l=new Yf}){const h=Rs.parse(i.uri);if(h?.method!==r.methodName)throw new Gi(Zi.MethodNotSupported,"Method not supported");return yield zg.import({portableDid:i,keyManager:l})})}static publish(n){return Wg(this,arguments,void 0,function*({did:i,gatewayUri:l=cN}){var h,c,f;const V=null!==(c=null===(h=i.document.verificationMethod)||void 0===h?void 0:h.map(q=>({id:q.id,publicKeyJwk:q.publicKeyJwk,purposes:C7({didDocument:i.document,methodId:q.id})})))&&void 0!==c?c:[],$=yield Uh.createIonDocument({services:null!==(f=i.document.service)&&void 0!==f?f:[],verificationMethods:V}),D=yield Uh.constructCreateRequest({ionDocument:$,recoveryKey:i.metadata.recoveryKey,updateKey:i.metadata.updateKey});try{const q=Uh.appendPathToUrl({baseUrl:l,path:"/operations"}),De=yield fetch(q,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)});return{didDocument:i.document,didDocumentMetadata:Object.assign(Object.assign({},i.metadata),{published:De.ok}),didRegistrationMetadata:{}}}catch{return{didDocument:null,didDocumentMetadata:{published:!1},didRegistrationMetadata:{error:Zi.InternalError,errorMessage:`Failed to publish DID document for: ${i.uri}`}}}})}static resolve(n){return Wg(this,arguments,void 0,function*(i,l={}){var h,c;const f=Rs.parse(i);if(!f)return Object.assign(Object.assign({},Wf),{didResolutionMetadata:{error:"invalidDid"}});if(f.method!==r.methodName)return Object.assign(Object.assign({},Wf),{didResolutionMetadata:{error:"methodNotSupported"}});const V=null!==(h=l?.gatewayUri)&&void 0!==h?h:cN;try{const $=Uh.appendPathToUrl({baseUrl:V,path:`/identifiers/${i}`}),D=yield fetch($);if(!D.ok)throw new Gi(Zi.NotFound,`Unable to find DID document for: ${i}`);const{didDocument:q,didDocumentMetadata:De}=yield D.json();return Object.assign(Object.assign(Object.assign({},Wf),q&&{didDocument:q}),{didDocumentMetadata:Object.assign({published:null===(c=De?.method)||void 0===c?void 0:c.published},De)})}catch($){if(!($ instanceof Gi))throw new Error($);return Object.assign(Object.assign({},Wf),{didResolutionMetadata:Object.assign({error:$.code},$.message&&{errorMessage:$.message})})}})}}return r.methodName="ion",r})();class Uh{static appendPathToUrl({baseUrl:t,path:n}){const i=new URL(t);return i.pathname=i.pathname.endsWith("/")?i.pathname:i.pathname+"/",i.pathname+=n.startsWith("/")?n.substring(1):n,i.toString()}static computeLongFormDidUri(t){return Wg(this,arguments,void 0,function*({recoveryKey:n,updateKey:i,services:l,verificationMethods:h}){const c=yield Uh.createIonDocument({services:l,verificationMethods:h}),f=Uh.normalizeJwk(n),V=Uh.normalizeJwk(i);return yield aN.oU.createLongFormDid({document:c,recoveryKey:f,updateKey:V})})}static constructCreateRequest(t){return Wg(this,arguments,void 0,function*({ionDocument:n,recoveryKey:i,updateKey:l}){return yield aN.Q2.createCreateRequest({document:n,recoveryKey:Uh.normalizeJwk(i),updateKey:Uh.normalizeJwk(l)})})}static createIonDocument(t){return Wg(this,arguments,void 0,function*({services:n,verificationMethods:i}){var l,h;const c=[];for(const $ of i){let D=null!==(h=null!==(l=$.id)&&void 0!==l?l:$.publicKeyJwk.kid)&&void 0!==h?h:yield oa({jwk:$.publicKeyJwk});D=`${D.split("#").pop()}`;const q={id:D,publicKeyJwk:Uh.normalizeJwk($.publicKeyJwk),purposes:$.purposes,type:"JsonWebKey2020"};c.push(q)}return{publicKeys:c,services:n.map($=>Object.assign(Object.assign({},$),{id:`${$.id.split("#").pop()}`}))}})}static normalizeJwk(t){const n=t.kty;let i;if("EC"===n)i={crv:t.crv,kty:t.kty,x:t.x,y:t.y};else if("oct"===n)i={k:t.k,kty:t.kty};else if("OKP"===n)i={crv:t.crv,kty:t.kty,x:t.x};else{if("RSA"!==n)throw new Error(`Unsupported key type: ${n}`);i={e:t.e,kty:t.kty,n:t.n}}return i}}var kp=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})},Gg=function(r){return r.Ed25519="Ed25519",r.secp256k1="secp256k1",r.secp256r1="secp256r1",r.X25519="X25519",r}(Gg||{});const FO={Ed25519VerificationKey2020:"https://w3id.org/security/suites/ed25519-2020/v1",JsonWebKey2020:"https://w3id.org/security/suites/jws-2020/v1",X25519KeyAgreementKey2020:"https://w3id.org/security/suites/x25519-2020/v1"},B7={Ed25519:Gg.Ed25519,ES256K:Gg.secp256k1,ES256:Gg.secp256r1,"P-256":Gg.secp256r1,secp256k1:Gg.secp256k1,secp256r1:Gg.secp256r1,X25519:Gg.X25519};let N7=(()=>{class r extends LO{static create(){return kp(this,arguments,void 0,function*({keyManager:n=new Yf,options:i={}}={}){var l,h,c,f;if(i.algorithm&&i.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(i.verificationMethods&&1!==i.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const V=null!==(f=null!==(l=i.algorithm)&&void 0!==l?l:null===(c=null===(h=i.verificationMethods)||void 0===h?void 0:h[0])||void 0===c?void 0:c.algorithm)&&void 0!==f?f:"Ed25519",$=yield n.generateKey({algorithm:V}),D=yield n.getPublicKey({keyUri:$}),q=yield q0.publicKeyToMultibaseId({publicKey:D}),De=`did:${r.methodName}:${q}`,Oe=(yield r.resolve(De,i)).didDocument;return new zg({uri:De,document:Oe,metadata:{},keyManager:n})})}static getSigningMethod(n){return kp(this,arguments,void 0,function*({didDocument:i}){var l;const h=Rs.parse(i.id);if(h&&h.method!==this.methodName)throw new Gi(Zi.MethodNotSupported,`Method not supported: ${h.method}`);const[c]=i.assertionMethod||[],f=null===(l=i.verificationMethod)||void 0===l?void 0:l.find(V=>V.id===c);if(!f||!f.publicKeyJwk)throw new Gi(Zi.InternalError,"A verification method intended for signing could not be determined from the DID Document");return f})}static import(n){return kp(this,arguments,void 0,function*({portableDid:i,keyManager:l=new Yf}){const h=Rs.parse(i.uri);if(h?.method!==r.methodName)throw new Gi(Zi.MethodNotSupported,"Method not supported");const c=yield zg.import({portableDid:i,keyManager:l});if(1!==c.document.verificationMethod.length)throw new Gi(Zi.InvalidDidDocument,"DID document must contain exactly one verification method");return c})}static resolve(n,i){return kp(this,void 0,void 0,function*(){try{const l=yield r.createDocument({didUri:n,options:i});return Object.assign(Object.assign({},Wf),{didDocument:l})}catch(l){if(!(l instanceof Gi))throw new Error(l);return Object.assign(Object.assign({},Wf),{didResolutionMetadata:Object.assign({error:l.code},l.message&&{errorMessage:l.message})})}})}static createDocument(n){return kp(this,arguments,void 0,function*({didUri:i,options:l={}}){const{defaultContext:h="https://www.w3.org/ns/did/v1",enableEncryptionKeyDerivation:c=!1,enableExperimentalPublicKeyTypes:f=!1,publicKeyFormat:V="JsonWebKey2020"}=l,$={id:""},D=Rs.parse(i);if(!D)throw new Gi(Zi.InvalidDid,`Invalid DID URI: ${i}`);const q=D.id;if(D.method!==r.methodName)throw new Gi(Zi.MethodNotSupported,`Method not supported: ${D.method}`);if(!r.validateIdentifier(D))throw new Gi(Zi.InvalidDid,`Invalid DID URI: ${i}`);const De=yield r.createSignatureMethod({didUri:i,multibaseValue:q,options:{enableExperimentalPublicKeyTypes:f,publicKeyFormat:V}});if($.id=D.uri,$.verificationMethod=[De],$.authentication=[De.id],$.assertionMethod=[De.id],$.capabilityInvocation=[De.id],$.capabilityDelegation=[De.id],!0===c){const je="Ed25519VerificationKey2020"===V?"X25519KeyAgreementKey2020":"JsonWebKey2020",et=yield this.createEncryptionMethod({didUri:i,multibaseValue:q,options:{enableExperimentalPublicKeyTypes:f,publicKeyFormat:je}});$.verificationMethod.push(et),$.keyAgreement=[et.id]}const Re=[h];return function D7({didDocument:r}){const n=BO({didDocument:r}).map(i=>i.type);return[...new Set(n)]}({didDocument:$}).forEach(je=>{Re.push(FO[je])}),$["@context"]=Re,$})}static createEncryptionMethod(n){return kp(this,arguments,void 0,function*({didUri:i,multibaseValue:l,options:h}){const{enableExperimentalPublicKeyTypes:c,publicKeyFormat:f}=h,V={id:"",type:"",controller:""},{keyBytes:$,multicodecCode:D}=yield r.deriveEncryptionKey({multibaseValue:l}),q=$.byteLength,De=q0.MULTICODEC_PUBLIC_KEY_LENGTH[D];if(q!==De)throw new Gi(Zi.InvalidPublicKeyLength,`Expected ${q} bytes. Actual: ${De}`);const Re=qB({keyBytes:$,multicodecCode:D});V.id=`${i}#${Re}`;try{new URL(V.id)}catch{throw new Gi(Zi.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(f in FO))throw new Gi(Zi.UnsupportedPublicKeyType,`Unsupported format: ${f}`);if(!1===c&&!["Multikey","JsonWebKey2020","X25519KeyAgreementKey2020"].includes(f))throw new Gi(Zi.InvalidPublicKeyType,`Specified '${f}' without setting enableExperimentalPublicKeyTypes to true.`);if(V.type=f,V.controller=i,"X25519KeyAgreementKey2020"===f&&(V.publicKeyMultibase=Re),"JsonWebKey2020"===f){const{crv:je}=yield q0.multicodecToJwk({code:D});V.publicKeyJwk=yield q0.keyConverter(je).bytesToPublicKey({publicKeyBytes:$})}return V})}static createSignatureMethod(n){return kp(this,arguments,void 0,function*({didUri:i,multibaseValue:l,options:h}){const{enableExperimentalPublicKeyTypes:c,publicKeyFormat:f}=h,V={id:"",type:"",controller:""},{keyBytes:$,multicodecCode:D,multicodecName:q}=QB({multibaseKeyId:l}),De=$.byteLength,Re=q0.MULTICODEC_PUBLIC_KEY_LENGTH[D];if(De!==Re)throw new Gi(Zi.InvalidPublicKeyLength,`Expected ${De} bytes. Actual: ${Re}`);let Oe=!1;switch(q){case"secp256k1-pub":Oe=yield oc.validatePublicKey({publicKeyBytes:$});break;case"ed25519-pub":Oe=yield sc.validatePublicKey({publicKeyBytes:$});break;case"x25519-pub":Oe=!0}if(!Oe)throw new Gi(Zi.InvalidPublicKey,"Invalid public key detected.");V.id=`${i}#${l}`;try{new URL(V.id)}catch{throw new Gi(Zi.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(f in FO))throw new Gi(Zi.UnsupportedPublicKeyType,`Unsupported format: ${f}`);if(!1===c&&!["Multikey","JsonWebKey2020","Ed25519VerificationKey2020"].includes(f))throw new Gi(Zi.InvalidPublicKeyType,`Specified '${f}' without setting enableExperimentalPublicKeyTypes to true.`);if(V.type=f,V.controller=i,"Ed25519VerificationKey2020"===f&&(V.publicKeyMultibase=l),"JsonWebKey2020"===f){const{crv:et}=yield q0.multicodecToJwk({code:D});V.publicKeyJwk=yield q0.keyConverter(et).bytesToPublicKey({publicKeyBytes:$})}return V})}static deriveEncryptionKey(n){return kp(this,arguments,void 0,function*({multibaseValue:i}){let l={keyBytes:new Uint8Array,multicodecCode:0};const{keyBytes:h,multicodecCode:c}=QB({multibaseKeyId:i});if(237===c){const f=yield q0.keyConverter("Ed25519").bytesToPublicKey({publicKeyBytes:h}),V=yield sc.convertPublicKeyToX25519({publicKey:f});l={keyBytes:yield q0.keyConverter("Ed25519").publicKeyToBytes({publicKey:V}),multicodecCode:236}}return l})}static validateIdentifier(n){const{method:i,id:l}=n,[h]=n.uri.split(":",1);return"did"===h&&"key"===i&&Number("1")>0&&"String"===(0,er.fc)(l)&&l.startsWith("z")}}return r.methodName="key",r})(),q0=(()=>{class r{static jwkToMulticodec(n){return kp(this,arguments,void 0,function*({jwk:i}){const l=[];i.crv&&(l.push(i.crv),l.push(i.d?"private":"public"));const h=l.join(":"),c=r.JWK_TO_MULTICODEC[h];if(void 0===c)throw new Error(`Unsupported JWK to Multicodec conversion: '${h}'`);return{code:er.Gs.getCodeFromName({name:c}),name:c}})}static keyCompressor(n){const l={"P-256":Ba.compressPublicKey,secp256k1:oc.compressPublicKey}[n];if(!l)throw new Gi(Zi.InvalidPublicKeyType,`Unsupported curve: ${n}`);return l}static keyConverter(n){const l={Ed25519:sc,"P-256":Ba,secp256k1:oc,X25519:bw}[n];if(!l)throw new Gi(Zi.InvalidPublicKeyType,`Unsupported curve: ${n}`);return l}static multicodecToJwk(n){return kp(this,arguments,void 0,function*({code:i,name:l}){if(!(l?!i:i))throw new Error("Either 'name' or 'code' must be defined, but not both.");l=void 0===l?er.Gs.getNameFromCode({code:i}):l;const c=r.MULTICODEC_TO_JWK[l];if(void 0===c)throw new Error("Unsupported Multicodec to JWK conversion");return Object.assign({},c)})}static publicKeyToMultibaseId(n){return kp(this,arguments,void 0,function*({publicKey:i}){var l;if(!i?.crv||!(i.crv in B7))throw new Gi(Zi.InvalidPublicKeyType,`Public key contains an unsupported key type: ${null!==(l=i?.crv)&&void 0!==l?l:"undefined"}`);let h=yield r.keyConverter(i.crv).publicKeyToBytes({publicKey:i});/^(secp256k1|P-256|P-384|P-521)$/.test(i.crv)&&(h=yield r.keyCompressor(i.crv)({publicKeyBytes:h}));const{name:c}=yield r.jwkToMulticodec({jwk:i});return qB({keyBytes:h,multicodecName:c})})}}return r.JWK_TO_MULTICODEC={"Ed25519:public":"ed25519-pub","Ed25519:private":"ed25519-priv","secp256k1:public":"secp256k1-pub","secp256k1:private":"secp256k1-priv","X25519:public":"x25519-pub","X25519:private":"x25519-priv"},r.MULTICODEC_PUBLIC_KEY_LENGTH={231:33,236:32,237:32},r.MULTICODEC_TO_JWK={"ed25519-pub":{crv:"Ed25519",kty:"OKP",x:""},"ed25519-priv":{crv:"Ed25519",kty:"OKP",x:"",d:""},"secp256k1-pub":{crv:"secp256k1",kty:"EC",x:"",y:""},"secp256k1-priv":{crv:"secp256k1",kty:"EC",x:"",y:"",d:""},"x25519-pub":{crv:"X25519",kty:"OKP",x:""},"x25519-priv":{crv:"X25519",kty:"OKP",x:"",d:""}},r})();var L7=_(14078),U7=_(42064);class j7{constructor({db:t,location:n="DATA/DID_RESOLVERCACHE",ttl:i="15m"}={}){this.cache=t??new U7.Level(n),this.ttl=L7(i)}get(t){return function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{const n=yield this.cache.get(t),i=JSON.parse(n);return Date.now()>=i.ttlMillis?void this.cache.nextTick(()=>this.cache.del(t)):i.value}catch(n){if(n.notFound)return;throw n}})}set(t,n){const i={ttlMillis:Date.now()+this.ttl,value:n},l=JSON.stringify(i);return this.cache.put(t,l)}delete(t){return this.cache.del(t)}clear(){return this.cache.clear()}close(){return this.cache.close()}}const $7={get:function(r){return null},set:function(r,t){return null},delete:function(r){return null},clear:function(){return null},close:function(){return null}};var lN=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class K7{constructor({cache:t,didResolvers:n}){this.didResolvers=new Map,this.cache=t||$7;for(const i of n)this.didResolvers.set(i.methodName,i)}resolve(t,n){return lN(this,void 0,void 0,function*(){const i=Rs.parse(t);if(!i)return Object.assign(Object.assign({},Wf),{didResolutionMetadata:{error:Zi.InvalidDid,errorMessage:`Invalid DID URI: ${t}`}});const l=this.didResolvers.get(i.method);if(!l)return Object.assign(Object.assign({},Wf),{didResolutionMetadata:{error:Zi.MethodNotSupported,errorMessage:`Method not supported: ${i.method}`}});const h=yield this.cache.get(i.uri);if(h)return h;{const c=yield l.resolve(i.uri,n);return c.didResolutionMetadata.error||(yield this.cache.set(i.uri,c)),c}})}dereference(t,n){return lN(this,void 0,void 0,function*(){const i=Rs.parse(t);if(!i)return{dereferencingMetadata:{error:Zi.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:l,didResolutionMetadata:h,didDocumentMetadata:c}=yield this.resolve(i.uri);if(!l)return{dereferencingMetadata:{error:h.error},contentStream:null,contentMetadata:{}};if(!i.fragment||i.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:l,contentMetadata:c};const{service:f=[],verificationMethod:V=[]}=l,$=new Set([t,i.fragment,`#${i.fragment}`]);let D;for(let q of V)if($.has(q.id)){D=q;break}for(let q of f)if($.has(q.id)){D=q;break}return D?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:D,contentMetadata:h}:{dereferencingMetadata:{error:Zi.NotFound},contentStream:null,contentMetadata:{}}})}}var TE=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class jO{constructor(t){this.didResolver=t.didResolver,this.tenantGate=t.tenantGate,this.eventStream=t.eventStream,this.messageStore=t.messageStore,this.dataStore=t.dataStore,this.resumableTaskStore=t.resumableTaskStore,this.eventLog=t.eventLog,this.eventStream=t.eventStream,this.storageController=new gm({messageStore:this.messageStore,dataStore:this.dataStore,eventLog:this.eventLog,eventStream:this.eventStream}),this.resumableTaskManager=new gP(t.resumableTaskStore,this.storageController),this.methodHandlers={[Wi.Messages+di.Query]:new tw(this.didResolver,this.messageStore,this.eventLog),[Wi.Messages+di.Read]:new G1(this.didResolver,this.messageStore,this.dataStore),[Wi.Messages+di.Subscribe]:new Z1(this.didResolver,this.messageStore,this.eventStream),[Wi.Protocols+di.Configure]:new JS(this.didResolver,this.messageStore,this.eventLog,this.eventStream),[Wi.Protocols+di.Query]:new QS(this.didResolver,this.messageStore,this.dataStore),[Wi.Records+di.Delete]:new Cg(this.didResolver,this.messageStore,this.resumableTaskManager),[Wi.Records+di.Query]:new U0(this.didResolver,this.messageStore,this.dataStore),[Wi.Records+di.Read]:new J1(this.didResolver,this.messageStore,this.dataStore),[Wi.Records+di.Subscribe]:new Bh(this.didResolver,this.messageStore,this.eventStream),[Wi.Records+di.Write]:new Hf(this.didResolver,this.messageStore,this.dataStore,this.eventLog,this.eventStream)}}static create(t){var n,i;return TE(this,void 0,void 0,function*(){null!==(n=t.didResolver)&&void 0!==n||(t.didResolver=new K7({didResolvers:[UO,R7,N7],cache:new j7({location:"RESOLVERCACHE"})})),null!==(i=t.tenantGate)&&void 0!==i||(t.tenantGate=new hP);const l=new jO(t);return yield l.open(),l})}open(){var t;return TE(this,void 0,void 0,function*(){yield this.messageStore.open(),yield this.dataStore.open(),yield this.resumableTaskStore.open(),yield this.eventLog.open(),yield null===(t=this.eventStream)||void 0===t?void 0:t.open(),yield this.resumableTaskManager.resumeTasksAndWaitForCompletion()})}close(){var t;return TE(this,void 0,void 0,function*(){yield null===(t=this.eventStream)||void 0===t?void 0:t.close(),yield this.messageStore.close(),yield this.dataStore.close(),yield this.resumableTaskStore.close(),yield this.eventLog.close()})}processMessage(t,n,i={}){var l;return TE(this,void 0,void 0,function*(){const h=null!==(l=yield this.validateTenant(t))&&void 0!==l?l:yield this.validateMessageIntegrity(n);if(void 0!==h)return h;const{dataStream:c,subscriptionHandler:f}=i,V=n.descriptor.interface+n.descriptor.method;return yield this.methodHandlers[V].handle({tenant:t,message:n,dataStream:c,subscriptionHandler:f})})}validateTenant(t){var n;return TE(this,void 0,void 0,function*(){const i=yield this.tenantGate.isActiveTenant(t);if(!i.isActiveTenant)return{status:{code:401,detail:null!==(n=i.detail)&&void 0!==n?n:`DID ${t} is not an active tenant.`}}})}validateMessageIntegrity(t){var n,i;return TE(this,void 0,void 0,function*(){const l=null===(n=t?.descriptor)||void 0===n?void 0:n.interface,h=null===(i=t?.descriptor)||void 0===i?void 0:i.method;if(void 0===l||void 0===h)return{status:{code:400,detail:`Both interface and method must be present, interface: ${l}, method: ${h}`}};try{Vr.validateJsonSchema(t)}catch(c){return Os(c,400)}})}}function z7(r){return new Promise((t,n)=>{r.aborted?n(r.reason):r.addEventListener("abort",()=>{n(r.reason)})})}function Cd(r,t){return function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return t?Promise.race([r,z7(t)]):r})}var uN=_(54626),Jf=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})},Pp=function(r){return this instanceof Pp?(this.v=r,this):new Pp(r)},$O=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(h){n[h]=r[h]&&function(c){return new Promise(function(f,V){!function l(h,c,f,V){Promise.resolve(V).then(function($){h({value:$,done:f})},c)}(f,V,(c=r[h](c)).done,c.value)})}}},fN=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,i=n.apply(r,t||[]),h=[];return l={},c("next"),c("throw"),c("return"),l[Symbol.asyncIterator]=function(){return this},l;function c(De){i[De]&&(l[De]=function(Re){return new Promise(function(Oe,je){h.push([De,Re,Oe,je])>1||f(De,Re)})})}function f(De,Re){try{!function V(De){De.value instanceof Pp?Promise.resolve(De.value.v).then($,D):q(h[0][2],De)}(i[De](Re))}catch(Oe){q(h[0][3],Oe)}}function $(De){f("next",De)}function D(De){f("throw",De)}function q(De,Re){De(Re),h.shift(),h.length&&f(h[0][0],h[0][1])}};function ww(r,t){return Jf(this,void 0,void 0,function*(){return new uN.Level(r,Object.assign(Object.assign({},t),{keyEncoding:"utf8"}))})}class IE{constructor(t,n){this.config=Object.assign({createLevelDatabase:ww},t),this.db=n}open(){return Jf(this,void 0,void 0,function*(){switch(yield this.createLevelDatabase(),this.db.status){case"open":return;case"opening":return new Promise(t=>{this.db.once("open",t)});case"closing":return new Promise((t,n)=>{this.db.once("closed",()=>{this.db.open().then(t).catch(n)})});case"closed":return this.db.open()}})}close(){return Jf(this,void 0,void 0,function*(){if(this.db)switch(this.db.status){case"open":return this.db.close();case"opening":return new Promise((t,n)=>{this.db.once("open",()=>{this.db.close().then(t).catch(n)})});case"closing":return new Promise(t=>{this.db.once("closed",t)});case"closed":return}})}partition(t){return Jf(this,void 0,void 0,function*(){return yield this.createLevelDatabase(),new IE(this.config,this.db.sublevel(t,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}get(t,n){var i;return Jf(this,void 0,void 0,function*(){null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Cd(this.createLevelDatabase(),n?.signal);try{return yield Cd(this.db.get(String(t)),n?.signal)}catch(l){if("LEVEL_NOT_FOUND"===l.code)return;throw l}})}has(t,n){return Jf(this,void 0,void 0,function*(){return!!(yield this.get(t,n))})}keys(t){var n,i;return fN(this,arguments,function*(){var h,c,f;null===(n=t?.signal)||void 0===n||n.throwIfAborted(),yield Pp(Cd(this.createLevelDatabase(),t?.signal));try{for(var q,$=!0,D=$O(this.db.keys());!(h=(q=yield Pp(D.next())).done);$=!0){$=!1;const De=q.value;null===(i=t?.signal)||void 0===i||i.throwIfAborted(),yield yield Pp(De)}}catch(De){c={error:De}}finally{try{!$&&!h&&(f=D.return)&&(yield Pp(f.call(D)))}finally{if(c)throw c.error}}})}iterator(t,n){var i,l;return fN(this,arguments,function*(){var c,f,V;null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Pp(Cd(this.createLevelDatabase(),n?.signal));try{for(var De,D=!0,q=$O(this.db.iterator(t));!(c=(De=yield Pp(q.next())).done);D=!0){D=!1;const Re=De.value;null===(l=n?.signal)||void 0===l||l.throwIfAborted(),yield yield Pp(Re)}}catch(Re){f={error:Re}}finally{try{!D&&!c&&(V=q.return)&&(yield Pp(V.call(q)))}finally{if(f)throw f.error}}})}put(t,n,i){var l;return Jf(this,void 0,void 0,function*(){return null===(l=i?.signal)||void 0===l||l.throwIfAborted(),yield Cd(this.createLevelDatabase(),i?.signal),Cd(this.db.put(String(t),n),i?.signal)})}delete(t,n){var i;return Jf(this,void 0,void 0,function*(){return null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Cd(this.createLevelDatabase(),n?.signal),Cd(this.db.del(String(t)),n?.signal)})}isEmpty(t){var n,i,l;return Jf(this,void 0,void 0,function*(){try{for(var V,c=!0,f=$O(this.keys(t));V=yield f.next(),!(n=V.done);c=!0)return c=!1,!1}catch($){i={error:$}}finally{try{!c&&!n&&(l=f.return)&&(yield l.call(f))}finally{if(i)throw i.error}}return!0})}clear(){return Jf(this,void 0,void 0,function*(){yield this.createLevelDatabase(),yield this.db.clear(),yield this.compactUnderlyingStorage()})}batch(t,n){var i;return Jf(this,void 0,void 0,function*(){return null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Cd(this.createLevelDatabase(),n?.signal),Cd(this.db.batch(t),n?.signal)})}createPartitionOperation(t,n){return Object.assign(Object.assign({},n),{sublevel:this.db.sublevel(t,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding})})}compactUnderlyingStorage(t){var n,i,l;return Jf(this,void 0,void 0,function*(){null===(n=t?.signal)||void 0===n||n.throwIfAborted(),yield Cd(this.createLevelDatabase(),t?.signal);const h=this.sublevelRange;if(!h)return;const c=this.root;return c.db.supports.additionalMethods.compactRange?Cd(null===(l=(i=c.db).compactRange)||void 0===l?void 0:l.call(i,...h),t?.signal):void 0})}get sublevelRange(){const t=this.db.prefix;if(!t)return;const n=t.slice(0,-1)+String.fromCharCode(t.charCodeAt(t.length-1)+1);return[t,n]}get root(){let t=this.db;for(const n=t.db;n&&n!==t;)t=n;return new IE(this.config,t)}createLevelDatabase(){var t;return Jf(this,void 0,void 0,function*(){null!==(t=this.db)&&void 0!==t||(this.db=yield this.config.createLevelDatabase(this.config.location,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}}var Q0=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})},FC=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(h){n[h]=r[h]&&function(c){return new Promise(function(f,V){!function l(h,c,f,V){Promise.resolve(V).then(function($){h({value:$,done:f})},c)}(f,V,(c=r[h](c)).done,c.value)})}}},nd=function(r){return this instanceof nd?(this.v=r,this):new nd(r)},jC=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,i=n.apply(r,t||[]),h=[];return l={},c("next"),c("throw"),c("return"),l[Symbol.asyncIterator]=function(){return this},l;function c(De){i[De]&&(l[De]=function(Re){return new Promise(function(Oe,je){h.push([De,Re,Oe,je])>1||f(De,Re)})})}function f(De,Re){try{!function V(De){De.value instanceof nd?Promise.resolve(De.value.v).then($,D):q(h[0][2],De)}(i[De](Re))}catch(Oe){q(h[0][3],Oe)}}function $(De){f("next",De)}function D(De){f("throw",De)}function q(De,Re){De(Re),h.shift(),h.length&&f(h[0][0],h[0][1])}};class $C{constructor(t,n){this.config=Object.assign({createLevelDatabase:ww},t),this.db=n??new IE(Object.assign(Object.assign({},this.config),{valueEncoding:"binary"}))}open(){return Q0(this,void 0,void 0,function*(){return this.db.open()})}close(){return Q0(this,void 0,void 0,function*(){return this.db.close()})}partition(t){return Q0(this,void 0,void 0,function*(){const n=yield this.db.partition(t);return new $C(Object.assign(Object.assign({},this.config),{location:""}),n)})}put(t,n,i){return Q0(this,void 0,void 0,function*(){return yield this.db.put(String(t),n,i),gh.TO.parse(t.toString())})}get(t,n){return Q0(this,void 0,void 0,function*(){return yield this.db.get(String(t),n)})}has(t,n){return Q0(this,void 0,void 0,function*(){return this.db.has(String(t),n)})}delete(t,n){return Q0(this,void 0,void 0,function*(){return this.db.delete(String(t),n)})}isEmpty(t){return Q0(this,void 0,void 0,function*(){return this.db.isEmpty(t)})}putMany(t,n){return jC(this,arguments,function*(){var l,h,c;try{for(var D,V=!0,$=FC(t);!(l=(D=yield nd($.next())).done);V=!0){V=!1;const q=D.value;yield nd(this.put(q.cid,q.block,n)),yield yield nd(q.cid)}}catch(q){h={error:q}}finally{try{!V&&!l&&(c=$.return)&&(yield nd(c.call($)))}finally{if(h)throw h.error}}})}getMany(t,n){return jC(this,arguments,function*(){var l,h,c;try{for(var D,V=!0,$=FC(t);!(l=(D=yield nd($.next())).done);V=!0){V=!1;const q=D.value;yield yield nd({cid:q,block:yield nd(this.get(q,n))})}}catch(q){h={error:q}}finally{try{!V&&!l&&(c=$.return)&&(yield nd(c.call($)))}finally{if(h)throw h.error}}})}getAll(t){return jC(this,arguments,function*(){var i,l,h,c;const f=this.db.iterator({keys:!0,keyEncoding:"buffer"},t);try{for(var D,V=!0,$=FC(f);!(i=(D=yield nd($.next())).done);V=!0){c=D.value,V=!1;const[q,De]=c;yield yield nd({cid:gh.TO.decode(q),block:De})}}catch(q){l={error:q}}finally{try{!V&&!i&&(h=$.return)&&(yield nd(h.call($)))}finally{if(l)throw l.error}}})}deleteMany(t,n){return jC(this,arguments,function*(){var l,h,c;try{for(var D,V=!0,$=FC(t);!(l=(D=yield nd($.next())).done);V=!0){V=!1;const q=D.value;yield nd(this.delete(q,n)),yield yield nd(q)}}catch(q){h={error:q}}finally{try{!V&&!l&&(c=$.return)&&(yield nd(c.call($)))}finally{if(h)throw h.error}}})}clear(){return Q0(this,void 0,void 0,function*(){return this.db.clear()})}}var Xc=_(42853);const G7=function W7(r){if(function H7(r){return null!=r[Symbol.asyncIterator]}(r))return(0,ye.A)(function*(){let n;var h,i=!1,l=!1;try{for(var f,c=Fo(r);i=!(f=yield c.next()).done;i=!1)n=f.value}catch(V){l=!0,h=V}finally{try{i&&null!=c.return&&(yield c.return())}finally{if(l)throw h}}return n})();let t;for(const n of r)t=n;return t};var hN=_(56580);const Y7=function(){var r=(0,ye.A)(function*(t,n,i,l,h,c,f,V){const $=yield f.get(t,V),D=kv($);let q=D,De=i;for(;l.length>0;){const Re=l[0];if(!(Re in q))throw Xc(new Error(`No property named ${Re} found in cbor node ${t}`),"ERR_NO_PROP");{l.shift(),De=`${De}/${Re}`;const Oe=Bf.TO.asCID(q[Re]);if(null!=Oe)return{entry:{type:"object",name:n,path:i,cid:t,node:$,depth:c,size:BigInt($.length),content:function(){var je=us(function*(){yield D});return function(){return je.apply(this,arguments)}}()},next:{cid:Oe,name:Re,path:De,toResolve:l}};q=q[Re]}}return{entry:{type:"object",name:n,path:i,cid:t,node:$,depth:c,size:BigInt($.length),content:(Re=us(function*(){yield D}),function(){return Re.apply(this,arguments)})}};var Re});return function(n,i,l,h,c,f,V,$){return r.apply(this,arguments)}}(),KC=function J7(r,t,n,i){const l=BigInt(r.length),h=BigInt(t+l);return n>=h||i<t?new Uint8Array(0):(i>=t&&i<h&&(r=r.subarray(0,Number(i-t))),n>=t&&n<h&&(r=r.subarray(Number(n-t))),r)},KO=(r,t=0,n=r)=>{const i=BigInt(r),l=BigInt(t??0);let h=BigInt(n);if(h!==i&&(h=l+h),h>i&&(h=i),l<0n)throw Xc(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(l>i)throw Xc(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(h<0n)throw Xc(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(h>i)throw Xc(new Error("Length must be less than the file size"),"ERR_INVALID_PARAMS");return{start:l,end:h}},q7=r=>{function n(){return(n=us(function*(i={}){const{start:l,end:h}=KO(r.length,i.offset,i.length),c=KC(r,0n,l,h);i.onProgress?.(new xl("unixfs:exporter:progress:identity",{bytesRead:BigInt(c.byteLength),totalBytes:h-l,fileSize:BigInt(r.byteLength)})),yield c})).apply(this,arguments)}return function t(){return n.apply(this,arguments)}},Q7=function(){var r=(0,ye.A)(function*(t,n,i,l,h,c,f,V){if(l.length>0)throw Xc(new Error(`No link named ${i} found in raw node ${t}`),"ERR_NOT_FOUND");const $=hN.D4(t.multihash.bytes);return{entry:{type:"identity",name:n,path:i,cid:t,content:q7($.digest),depth:c,size:BigInt($.digest.length),node:$.digest}}});return function(n,i,l,h,c,f,V,$){return r.apply(this,arguments)}}(),eL=r=>{function n(){return(n=us(function*(i={}){const{start:l,end:h}=KO(r.length,i.offset,i.length),c=KC(r,0n,l,h);i.onProgress?.(new xl("unixfs:exporter:progress:raw",{bytesRead:BigInt(c.byteLength),totalBytes:h-l,fileSize:BigInt(r.byteLength)})),yield c})).apply(this,arguments)}return function t(){return n.apply(this,arguments)}},tL=function(){var r=(0,ye.A)(function*(t,n,i,l,h,c,f,V){if(l.length>0)throw Xc(new Error(`No link named ${i} found in raw node ${t}`),"ERR_NOT_FOUND");const $=yield f.get(t,V);return{entry:{type:"raw",name:n,path:i,cid:t,content:eL($),depth:c,size:BigInt($.length),node:$}}});return function(n,i,l,h,c,f,V,$){return r.apply(this,arguments)}}(),nL=function(){var r=(0,ye.A)(function*(t){return(yield fb.encode(t)).slice(0,8).reverse()});return function(n){return r.apply(this,arguments)}}(),rL=function(){var r=(0,ye.A)(function*(t,n,i){yield Promise.all(t.map(function(){var l=(0,ye.A)(function*(h){if(null==h.Name)throw new Error("Unexpected Link without a Name");if(2!==h.Name.length)yield i.put(h.Name.substring(2),!0);else{const c=parseInt(h.Name,16);n._putObjectAt(c,new $d({hash:i._options.hash,bits:i._options.bits},n,c))}});return function(h){return l.apply(this,arguments)}}()))});return function(n,i,l){return r.apply(this,arguments)}}(),yN=r=>r.toString(16).toUpperCase().padStart(2,"0").substring(0,2),gN=function(){var r=(0,ye.A)(function*(t,n,i,l,h){if(null==l){const q=dD({hashFn:nL});l={rootBucket:q,hamtDepth:1,lastBucket:q}}yield rL(t.Links,l.lastBucket,l.rootBucket);const c=yield l.rootBucket._findNewBucketAndPos(n);let f=yN(c.pos);const V=(r=>{let t=r.bucket;const n=[];for(;null!=t._parent;)n.push(t),t=t._parent;return n.push(t),n.reverse()})(c);V.length>l.hamtDepth&&(l.lastBucket=V[l.hamtDepth],f=yN(l.lastBucket._posAtParent));const $=t.Links.find(q=>{if(null==q.Name)return!1;const De=q.Name.substring(0,2),Re=q.Name.substring(2);return!(De!==f||""!==Re&&Re!==n)});if(null!=$)return null!=$.Name&&$.Name.substring(2)===n?$.Hash:(l.hamtDepth++,t=S_(yield i.get($.Hash,h)),gN(t,n,i,l,h))});return function(n,i,l,h,c){return r.apply(this,arguments)}}(),oL=gN,vN=function sL(r){const[t,n]=null!=r[Symbol.asyncIterator]?[r[Symbol.asyncIterator](),Symbol.asyncIterator]:[r[Symbol.iterator](),Symbol.iterator],i=[];return{peek:()=>t.next(),push:l=>{i.push(l)},next:()=>i.length>0?{done:!1,value:i.shift()}:t.next(),[n](){return this}}},VO=function uL(r,t){let n=0;if(function dL(r){return null!=r[Symbol.asyncIterator]}(r))return us(function*(){var D,V=!1,$=!1;try{for(var De,q=Fo(r);V=!(De=yield gi(q.next())).done;V=!1){const Re=De.value;yield t(Re,n++)}}catch(Re){$=!0,D=Re}finally{try{V&&null!=q.return&&(yield gi(q.return()))}finally{if($)throw D}}})();const i=vN(r),{value:l,done:h}=i.next();if(!0===h)return function*(){}();const c=t(l,n++);if("function"==typeof c.then)return us(function*(){yield yield gi(c);var D,V=!1,$=!1;try{for(var De,q=Fo(i);V=!(De=yield gi(q.next())).done;V=!1){const Re=De.value;yield t(Re,n++)}}catch(Re){$=!0,D=Re}finally{try{V&&null!=q.return&&(yield gi(q.return()))}finally{if($)throw D}}})();const f=t;return function*(){yield c;for(const V of i)yield f(V,n++)}()};function DE(){const r={};return r.promise=new Promise((t,n)=>{r.resolve=t,r.reject=n}),r}const VC=globalThis.CustomEvent??Event;function zO(r){return HO.apply(this,arguments)}function HO(){return(HO=us(function*(r,t={}){let n=t.concurrency??1/0;n<1&&(n=1/0);const i=null!=t.ordered&&t.ordered,l=new EventTarget,h=[];let $,c=DE(),f=DE(),V=!1,D=!1;function q(){return i?h[0]?.done:!!h.find(Oe=>Oe.done)}function*De(){for(;h.length>0&&h[0].done;){const Oe=h[0];if(h.shift(),!Oe.ok)throw D=!0,c.resolve(),Oe.err;yield Oe.value,c.resolve()}}function*Re(){for(;q();)for(let Oe=0;Oe<h.length;Oe++)if(h[Oe].done){const je=h[Oe];if(h.splice(Oe,1),Oe--,!je.ok)throw D=!0,c.resolve(),je.err;yield je.value,c.resolve()}}for(l.addEventListener("task-complete",()=>{f.resolve()}),Promise.resolve().then((0,ye.A)(function*(){try{var et,Oe=!1,je=!1;try{for(var at,ft=Fo(r);Oe=!(at=yield ft.next()).done;Oe=!1){const dt=at.value;{if(h.length===n&&(c=DE(),yield c.promise),D)break;const Mt={done:!1};h.push(Mt),dt().then(Pt=>{Mt.done=!0,Mt.ok=!0,Mt.value=Pt,l.dispatchEvent(new VC("task-complete"))},Pt=>{Mt.done=!0,Mt.err=Pt,l.dispatchEvent(new VC("task-complete"))})}}}catch(dt){je=!0,et=dt}finally{try{Oe&&null!=ft.return&&(yield ft.return())}finally{if(je)throw et}}V=!0,l.dispatchEvent(new VC("task-complete"))}catch(dt){$=dt,l.dispatchEvent(new VC("task-complete"))}}));;){if(q()||(f=DE(),yield gi(f.promise)),null!=$)throw $;if(i?yield*Zu(Fo(De())):yield*Zu(Fo(Re())),V&&0===h.length)break}})).apply(this,arguments)}class bN{buffer;mask;top;btm;next;constructor(t){if(!(t>0)||t-1&t)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}push(t){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=t,this.top=this.top+1&this.mask,!0)}shift(){const t=this.buffer[this.btm];if(void 0!==t)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,t}isEmpty(){return void 0===this.buffer[this.btm]}}class WO{size;hwm;head;tail;constructor(t={}){this.hwm=t.splitLimit??16,this.head=new bN(this.hwm),this.tail=this.head,this.size=0}calculateSize(t){return null!=t?.byteLength?t.byteLength:1}push(t){null!=t?.value&&(this.size+=this.calculateSize(t.value)),this.head.push(t)||(this.head=this.head.next=new bN(2*this.head.buffer.length),this.head.push(t))}shift(){let t=this.tail.shift();if(void 0===t&&null!=this.tail.next){const n=this.tail.next;this.tail.next=null,this.tail=n,t=this.tail.shift()}return null!=t?.value&&(this.size-=this.calculateSize(t.value)),t}isEmpty(){return this.head.isEmpty()}}class fL extends Error{type;code;constructor(t,n){super(t??"The operation was aborted"),this.type="aborted",this.code=n??"ABORT_ERR"}}function GO(r={}){return function wN(r,t){let l,h,c,n=(t=t??{}).onEnd,i=new WO,f=DE();const V=function(){var et=(0,ye.A)(function*(){try{return i.isEmpty()?c?{done:!0}:yield new Promise((ft,at)=>{h=dt=>{h=null,i.push(dt);try{ft(r(i))}catch(Mt){at(Mt)}return l}}):r(i)}finally{i.isEmpty()&&queueMicrotask(()=>{f.resolve(),f=DE()})}});return function(){return et.apply(this,arguments)}}(),$=et=>null!=h?h(et):(i.push(et),l),q=et=>{if(c)return l;if(!0!==t?.objectMode&&null==et?.byteLength)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return $({done:!1,value:et})},De=et=>c?l:(c=!0,null!=et?(et=>(i=new WO,null!=h?h({error:et}):(i.push({error:et}),l)))(et):$({done:!0}));if(l={[Symbol.asyncIterator](){return this},next:V,return:()=>(i=new WO,De(),{done:!0}),throw:et=>(De(et),{done:!0}),push:q,end:De,get readableLength(){return i.size},onEmpty:(et=(0,ye.A)(function*(ft){const at=ft?.signal;if(at?.throwIfAborted(),i.isEmpty())return;let dt,Mt;null!=at&&(dt=new Promise((Pt,Dt)=>{Mt=()=>{Dt(new fL)},at.addEventListener("abort",Mt)}));try{yield Promise.race([f.promise,dt])}finally{null!=Mt&&null!=at&&at?.removeEventListener("abort",Mt)}}),function(at){return et.apply(this,arguments)})},null==n)return l;var et;const je=l;return l={[Symbol.asyncIterator](){return this},next:()=>je.next(),throw:et=>(je.throw(et),null!=n&&(n(et),n=void 0),{done:!0}),return:()=>(je.return(),null!=n&&(n(),n=void 0),{done:!0}),push:q,end:et=>(je.end(et),null!=n&&(n(et),n=void 0),l),get readableLength(){return je.readableLength},onEmpty:et=>je.onEmpty(et)},l}(n=>{const i=n.shift();if(null==i)return{done:!0};if(null!=i.error)throw i.error;return{done:!0===i.done,value:i.value}},r)}function hL(r){return null!=r[Symbol.asyncIterator]}function ZO(r,...t){if(null==r)throw new Error("Empty pipeline");if(XO(r)){const i=r;r=()=>i.source}else if(EN(r)||_N(r)){const i=r;r=()=>i}const n=[r,...t];if(n.length>1&&XO(n[n.length-1])&&(n[n.length-1]=n[n.length-1].sink),n.length>2)for(let i=1;i<n.length-1;i++)XO(n[i])&&(n[i]=gL(n[i]));return yL(...n)}const yL=(...r)=>{let t;for(;r.length>0;)t=r.shift()(t);return t},_N=r=>null!=r?.[Symbol.asyncIterator],EN=r=>null!=r?.[Symbol.iterator],XO=r=>null!=r&&null!=r.sink&&null!=r.source,gL=r=>t=>{const n=r.sink(t);if(null!=n?.then){const i=GO({objectMode:!0});let l;n.then(()=>{i.end()},c=>{i.end(c)});const h=r.source;if(_N(h))l=function(){var c=us(function*(){yield*Zu(Fo(h)),i.end()});return function(){return c.apply(this,arguments)}}();else{if(!EN(h))throw new Error("Unknown duplex source type - must be Iterable or AsyncIterable");l=function*(){yield*h,i.end()}}return function pL(...r){const t=[];for(const n of r)hL(n)||t.push(n);return t.length===r.length?function*(){for(const n of t)yield*n}():us(function*(){const n=GO({objectMode:!0});Promise.resolve().then((0,ye.A)(function*(){try{yield Promise.all(r.map(function(){var i=(0,ye.A)(function*(l){var f,h=!1,c=!1;try{for(var $,V=Fo(l);h=!($=yield V.next()).done;h=!1)n.push($.value)}catch(D){c=!0,f=D}finally{try{h&&null!=V.return&&(yield V.return())}finally{if(c)throw f}}});return function(l){return i.apply(this,arguments)}}())),n.end()}catch(i){n.end(i)}})),yield*Zu(Fo(n))})()}(i,l())}return r.source};var bL=_(50233);class xN extends Error{constructor(t){super(t),this.name="TimeoutError"}}class wL extends Error{constructor(t){super(),this.name="AbortError",this.message=t}}const SN=r=>void 0===globalThis.DOMException?new wL(r):new DOMException(r),MN=r=>{const t=void 0===r.reason?SN("This operation was aborted."):r.reason;return t instanceof Error?t:SN(t)};var ey,_w=function(r,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?r!==t||!i:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(r):i?i.value:t.get(r)};ey=new WeakMap;const SL=class xL{constructor(){ey.set(this,[])}enqueue(t,n){const i={priority:(n={priority:0,...n}).priority,run:t};if(this.size&&_w(this,ey,"f")[this.size-1].priority>=n.priority)return void _w(this,ey,"f").push(i);const l=function EL(r,t,n){let i=0,l=r.length;for(;l>0;){const h=Math.trunc(l/2);let c=i+h;n(r[c],t)<=0?(i=++c,l-=h+1):l=h}return i}(_w(this,ey,"f"),i,(h,c)=>c.priority-h.priority);_w(this,ey,"f").splice(l,0,i)}dequeue(){const t=_w(this,ey,"f").shift();return t?.run}filter(t){return _w(this,ey,"f").filter(n=>n.priority===t.priority).map(n=>n.run)}get size(){return _w(this,ey,"f").length}};var Yc,GM,ZM,Zg,zC,XM,HC,Op,YM,qf,WC,Qf,JM,Xg,GC,AN,TN,IN,DN,CN,ZC,YO,JO,XC,kN,YC,hc=function(r,t,n,i,l){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!l)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?r!==t||!l:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?l.call(r,n):l?l.value=n:t.set(r,n),n},Ii=function(r,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?r!==t||!i:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(r):i?i.value:t.get(r)};class PN extends Error{}GM=new WeakMap,ZM=new WeakMap,Zg=new WeakMap,zC=new WeakMap,XM=new WeakMap,HC=new WeakMap,Op=new WeakMap,YM=new WeakMap,qf=new WeakMap,WC=new WeakMap,Qf=new WeakMap,JM=new WeakMap,Xg=new WeakMap,GC=new WeakMap,Yc=new WeakSet,AN=function(){return Ii(this,ZM,"f")||Ii(this,Zg,"f")<Ii(this,zC,"f")},TN=function(){return Ii(this,Qf,"f")<Ii(this,JM,"f")},IN=function(){var t;hc(this,Qf,(t=Ii(this,Qf,"f"),--t),"f"),Ii(this,Yc,"m",ZC).call(this),this.emit("next")},DN=function(){Ii(this,Yc,"m",JO).call(this),Ii(this,Yc,"m",YO).call(this),hc(this,YM,void 0,"f")},CN=function(){const t=Date.now();if(void 0===Ii(this,Op,"f")){const n=Ii(this,HC,"f")-t;if(!(n<0))return void 0===Ii(this,YM,"f")&&hc(this,YM,setTimeout(()=>{Ii(this,Yc,"m",DN).call(this)},n),"f"),!0;hc(this,Zg,Ii(this,GM,"f")?Ii(this,Qf,"f"):0,"f")}return!1},ZC=function(){if(0===Ii(this,qf,"f").size)return Ii(this,Op,"f")&&clearInterval(Ii(this,Op,"f")),hc(this,Op,void 0,"f"),this.emit("empty"),0===Ii(this,Qf,"f")&&this.emit("idle"),!1;if(!Ii(this,Xg,"f")){const t=!Ii(this,Yc,"a",CN);if(Ii(this,Yc,"a",AN)&&Ii(this,Yc,"a",TN)){const n=Ii(this,qf,"f").dequeue();return!!n&&(this.emit("active"),n(),t&&Ii(this,Yc,"m",YO).call(this),!0)}}return!1},YO=function(){Ii(this,ZM,"f")||void 0!==Ii(this,Op,"f")||(hc(this,Op,setInterval(()=>{Ii(this,Yc,"m",JO).call(this)},Ii(this,XM,"f")),"f"),hc(this,HC,Date.now()+Ii(this,XM,"f"),"f"))},JO=function(){0===Ii(this,Zg,"f")&&0===Ii(this,Qf,"f")&&Ii(this,Op,"f")&&(clearInterval(Ii(this,Op,"f")),hc(this,Op,void 0,"f")),hc(this,Zg,Ii(this,GM,"f")?Ii(this,Qf,"f"):0,"f"),Ii(this,Yc,"m",XC).call(this)},XC=function(){for(;Ii(this,Yc,"m",ZC).call(this););},kN=function(){var r=(0,ye.A)(function*(n){return new Promise((i,l)=>{n.addEventListener("abort",()=>{l(new PN("The task was aborted."))},{once:!0})})});return function t(n){return r.apply(this,arguments)}}(),YC=function(){var r=(0,ye.A)(function*(n,i){return new Promise(l=>{const h=()=>{i&&!i()||(this.off(n,h),l())};this.on(n,h)})});return function t(n,i){return r.apply(this,arguments)}}();const AL=class ML extends bL{constructor(t){var n,i,l,h;if(super(),Yc.add(this),GM.set(this,void 0),ZM.set(this,void 0),Zg.set(this,0),zC.set(this,void 0),XM.set(this,void 0),HC.set(this,0),Op.set(this,void 0),YM.set(this,void 0),qf.set(this,void 0),WC.set(this,void 0),Qf.set(this,0),JM.set(this,void 0),Xg.set(this,void 0),GC.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(t={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:SL,...t}).intervalCap&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(i=null===(n=t.intervalCap)||void 0===n?void 0:n.toString())&&void 0!==i?i:""}\` (${typeof t.intervalCap})`);if(void 0===t.interval||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(h=null===(l=t.interval)||void 0===l?void 0:l.toString())&&void 0!==h?h:""}\` (${typeof t.interval})`);hc(this,GM,t.carryoverConcurrencyCount,"f"),hc(this,ZM,t.intervalCap===Number.POSITIVE_INFINITY||0===t.interval,"f"),hc(this,zC,t.intervalCap,"f"),hc(this,XM,t.interval,"f"),hc(this,qf,new t.queueClass,"f"),hc(this,WC,t.queueClass,"f"),this.concurrency=t.concurrency,this.timeout=t.timeout,hc(this,GC,!0===t.throwOnTimeout,"f"),hc(this,Xg,!1===t.autoStart,"f")}get concurrency(){return Ii(this,JM,"f")}set concurrency(t){if(!("number"==typeof t&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);hc(this,JM,t,"f"),Ii(this,Yc,"m",XC).call(this)}add(t,n={}){var i=this;return(0,ye.A)(function*(){return n={timeout:i.timeout,throwOnTimeout:Ii(i,GC,"f"),...n},new Promise((l,h)=>{Ii(i,qf,"f").enqueue((0,ye.A)(function*(){var c,f,V;hc(i,Qf,(f=Ii(i,Qf,"f"),++f),"f"),hc(i,Zg,(V=Ii(i,Zg,"f"),++V),"f");try{if(null!==(c=n.signal)&&void 0!==c&&c.aborted)throw new PN("The task was aborted.");let $=t({signal:n.signal});n.timeout&&($=function _L(r,t,n,i){let l;const h=new Promise((c,f)=>{if("number"!=typeof t||1!==Math.sign(t))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${t}\``);if(t!==Number.POSITIVE_INFINITY){if((i={customTimers:{setTimeout,clearTimeout},...i}).signal){const{signal:V}=i;V.aborted&&f(MN(V)),V.addEventListener("abort",()=>{f(MN(V))})}l=i.customTimers.setTimeout.call(void 0,()=>{if("function"==typeof n){try{c(n())}catch(D){f(D)}return}const $=n instanceof Error?n:new xN("string"==typeof n?n:`Promise timed out after ${t} milliseconds`);"function"==typeof r.cancel&&r.cancel(),f($)},t),(0,ye.A)(function*(){try{c(yield r)}catch(V){f(V)}finally{i.customTimers.clearTimeout.call(void 0,l)}})()}else c(r)});return h.clear=()=>{clearTimeout(l),l=void 0},h}(Promise.resolve($),n.timeout)),n.signal&&($=Promise.race([$,Ii(i,Yc,"m",kN).call(i,n.signal)]));const D=yield $;l(D),i.emit("completed",D)}catch($){if($ instanceof xN&&!n.throwOnTimeout)return void l();h($),i.emit("error",$)}finally{Ii(i,Yc,"m",IN).call(i)}}),n),i.emit("add"),Ii(i,Yc,"m",ZC).call(i)})})()}addAll(t,n){var i=this;return(0,ye.A)(function*(){return Promise.all(t.map(function(){var l=(0,ye.A)(function*(h){return i.add(h,n)});return function(h){return l.apply(this,arguments)}}()))})()}start(){return Ii(this,Xg,"f")?(hc(this,Xg,!1,"f"),Ii(this,Yc,"m",XC).call(this),this):this}pause(){hc(this,Xg,!0,"f")}clear(){hc(this,qf,new(Ii(this,WC,"f")),"f")}onEmpty(){var t=this;return(0,ye.A)(function*(){0!==Ii(t,qf,"f").size&&(yield Ii(t,Yc,"m",YC).call(t,"empty"))})()}onSizeLessThan(t){var n=this;return(0,ye.A)(function*(){Ii(n,qf,"f").size<t||(yield Ii(n,Yc,"m",YC).call(n,"next",()=>Ii(n,qf,"f").size<t))})()}onIdle(){var t=this;return(0,ye.A)(function*(){0===Ii(t,Qf,"f")&&0===Ii(t,qf,"f").size||(yield Ii(t,Yc,"m",YC).call(t,"idle"))})()}get size(){return Ii(this,qf,"f").size}sizeBy(t){return Ii(this,qf,"f").filter(t).length}get pending(){return Ii(this,Qf,"f")}get isPaused(){return Ii(this,Xg,"f")}};function ON(r,t,n,i,l,h,c){return qO.apply(this,arguments)}function qO(){return qO=(0,ye.A)(function*(r,t,n,i,l,h,c){if(t instanceof Uint8Array){const $=KC(t,i,l,h);return void n.push($)}if(null==t.Data)throw Xc(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let f;try{f=Gu.unmarshal(t.Data)}catch($){throw Xc($,"ERR_NOT_UNIXFS")}if(null!=f.data){const D=KC(f.data,i,l,h);n.push(D),i+=BigInt(D.byteLength)}const V=[];if(t.Links.length!==f.blockSizes.length)throw Xc(new Error("Inconsistent block sizes and dag links"),"ERR_NOT_UNIXFS");for(let $=0;$<t.Links.length;$++){const De=i+f.blockSizes[$];if((l>=i&&l<De||h>=i&&h<=De||l<i&&h>De)&&V.push({link:t.Links[$],blockStart:i}),(i=De)>h)break}yield ZO(V,$=>VO($,D=>(0,ye.A)(function*(){const q=yield r.get(D.link.Hash,c);return{...D,block:q}})),$=>zO($,{ordered:!0}),function(){var $=(0,ye.A)(function*(D){var Re,q=!1,De=!1;try{for(var je,Oe=Fo(D);q=!(je=yield Oe.next()).done;q=!1){const{link:et,block:ft,blockStart:at}=je.value;{let dt;switch(et.Hash.code){case x_:dt=S_(ft);break;case e0:dt=ft;break;default:return void n.end(Xc(new Error(`Unsupported codec: ${et.Hash.code}`),"ERR_NOT_UNIXFS"))}const Mt=new AL({concurrency:1});Mt.on("error",Pt=>{n.end(Pt)}),Mt.add((0,ye.A)(function*(){c.onProgress?.(new xl("unixfs:exporter:walk:file",{cid:et.Hash})),yield ON(r,dt,n,at,l,h,c)})),yield Mt.onIdle()}}}catch(et){De=!0,Re=et}finally{try{q&&null!=Oe.return&&(yield Oe.return())}finally{if(De)throw Re}}});return function(D){return $.apply(this,arguments)}}()),i>=h&&n.end()}),qO.apply(this,arguments)}const RN=(r,t,n,i,l,h,c)=>{function V(){return(V=us(function*($={}){const D=n.fileSize();if(void 0===D)throw new Error("File was a directory");const{start:q,end:De}=KO(D,$.offset,$.length);if(0n===De)return;let Re=0n;const Oe=De-q,je=GO();$.onProgress?.(new xl("unixfs:exporter:walk:file",{cid:r})),ON(c,t,je,0n,q,De,$).catch(Pt=>{je.end(Pt)});var at,et=!1,ft=!1;try{for(var Mt,dt=Fo(je);et=!(Mt=yield gi(dt.next())).done;et=!1){const Pt=Mt.value;if(null!=Pt){if(Re+=BigInt(Pt.byteLength),Re>Oe)throw je.end(),Xc(new Error("Read too many bytes - the file size reported by the UnixFS data in the root node may be incorrect"),"ERR_OVER_READ");Re===Oe&&je.end(),$.onProgress?.(new xl("unixfs:exporter:progress:unixfs:file",{bytesRead:Re,totalBytes:Oe,fileSize:D})),yield Pt}}}catch(Pt){ft=!0,at=Pt}finally{try{et&&null!=dt.return&&(yield gi(dt.return()))}finally{if(ft)throw at}}if(Re<Oe)throw Xc(new Error("Traversed entire DAG but did not read enough bytes"),"ERR_UNDER_READ")})).apply(this,arguments)}return function f(){return V.apply(this,arguments)}};function BN(r,t,n,i,l,h){return QO.apply(this,arguments)}function QO(){return(QO=us(function*(r,t,n,i,l,h){const f=ZO(r.Links,Re=>VO(Re,Oe=>(0,ye.A)(function*(){const je=null!=Oe.Name?Oe.Name.substring(2):null;if(null!=je&&""!==je){const et=yield n(Oe.Hash,je,`${t}/${je}`,[],i+1,l,h);return{entries:null==et.entry?[]:[et.entry]}}{const et=yield l.get(Oe.Hash,h);return r=S_(et),h.onProgress?.(new xl("unixfs:exporter:walk:hamt-sharded-directory",{cid:Oe.Hash})),{entries:BN(r,t,n,i,l,h)}}})),Re=>zO(Re,{ordered:!0}));var D,V=!1,$=!1;try{for(var De,q=Fo(f);V=!(De=yield gi(q.next())).done;V=!1){const{entries:Re}=De.value;yield*Zu(Fo(Re))}}catch(Re){$=!0,D=Re}finally{try{V&&null!=q.return&&(yield gi(q.return()))}finally{if($)throw D}}})).apply(this,arguments)}const CL={raw:RN,file:RN,directory:(r,t,n,i,l,h,c)=>{function V(){return(V=us(function*($={}){const De=t.Links.slice($.offset??0,$.length??t.Links.length);$.onProgress?.(new xl("unixfs:exporter:walk:directory",{cid:r})),yield*Zu(Fo(ZO(De,Re=>VO(Re,Oe=>(0,ye.A)(function*(){const je=Oe.Name??"",et=`${i}/${je}`;return(yield l(Oe.Hash,je,et,[],h+1,c,$)).entry})),Re=>zO(Re,{ordered:!0}),Re=>function cL(r,t){let n=0;if(function aL(r){return null!=r[Symbol.asyncIterator]}(r))return us(function*(){var D,V=!1,$=!1;try{for(var De,q=Fo(r);V=!(De=yield gi(q.next())).done;V=!1){const Re=De.value;(yield gi(t(Re,n++)))&&(yield Re)}}catch(Re){$=!0,D=Re}finally{try{V&&null!=q.return&&(yield gi(q.return()))}finally{if($)throw D}}})();const i=vN(r),{value:l,done:h}=i.next();if(!0===h)return function*(){}();const c=t(l,n++);if("function"==typeof c.then)return us(function*(){(yield gi(c))&&(yield l);var D,V=!1,$=!1;try{for(var De,q=Fo(i);V=!(De=yield gi(q.next())).done;V=!1){const Re=De.value;(yield gi(t(Re,n++)))&&(yield Re)}}catch(Re){$=!0,D=Re}finally{try{V&&null!=q.return&&(yield gi(q.return()))}finally{if($)throw D}}})();const f=t;return function*(){!0===c&&(yield l);for(const V of i)f(V,n++)&&(yield V)}()}(Re,Oe=>null!=Oe))))})).apply(this,arguments)}return function f(){return V.apply(this,arguments)}},"hamt-sharded-directory":(r,t,n,i,l,h,c)=>function f(V={}){return V.onProgress?.(new xl("unixfs:exporter:walk:hamt-sharded-directory",{cid:r})),BN(t,i,l,h,c,V)},metadata:(r,t,n,i,l,h,c)=>()=>[],symlink:(r,t,n,i,l,h,c)=>()=>[]},PL={[x_]:function(){var r=(0,ye.A)(function*(t,n,i,l,h,c,f,V){const D=S_(yield f.get(t,V));let q,De;if(null==n&&(n=t.toString()),null==D.Data)throw Xc(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{q=Gu.unmarshal(D.Data)}catch(Oe){throw Xc(Oe,"ERR_NOT_UNIXFS")}if(null==i&&(i=n),l.length>0){let Oe;if(Oe="hamt-sharded-directory"===q?.type?yield oL(D,l[0],f):((r,t)=>r.Links.find(i=>i.Name===t)?.Hash)(D,l[0]),null==Oe)throw Xc(new Error("file does not exist"),"ERR_NOT_FOUND");const je=l.shift();De={cid:Oe,toResolve:l,name:je??"",path:`${i}/${je}`}}const Re=CL[q.type](t,D,q,i,h,c,f);if(null==Re)throw Xc(new Error("could not find content exporter"),"ERR_NOT_FOUND");return q.isDirectory()?{entry:{type:"directory",name:n,path:i,cid:t,content:Re,unixfs:q,depth:c,node:D,size:q.fileSize()},next:De}:{entry:{type:"file",name:n,path:i,cid:t,content:Re,unixfs:q,depth:c,node:D,size:q.fileSize()},next:De}});return function(n,i,l,h,c,f,V,$){return r.apply(this,arguments)}}(),[e0]:tL,[Cy]:Y7,0:Q7},NN=function(){var r=(0,ye.A)(function*(t,n,i,l,h,c,f){const V=PL[t.code];if(null==V)throw Xc(new Error(`No resolver for code ${t.code}`),"ERR_NO_RESOLVER");return V(t,n,i,l,NN,h,c,f)});return function(n,i,l,h,c,f,V){return r.apply(this,arguments)}}(),OL=NN,BL=r=>{if(r instanceof Uint8Array)return{cid:Bf.TO.decode(r),toResolve:[]};const t=Bf.TO.asCID(r);if(null!=t)return{cid:t,toResolve:[]};if("string"==typeof r){0===r.indexOf("/ipfs/")&&(r=r.substring(6));const n=((r="")=>(r.trim().match(/([^\\^/]|\\\/)+/g)??[]).filter(Boolean))(r);return{cid:Bf.TO.parse(n[0]),toResolve:n.slice(1)}}throw Xc(new Error(`Unknown path type ${r}`),"ERR_BAD_PATH")};function eR(){return(eR=us(function*(r,t,n={}){let{cid:i,toResolve:l}=BL(r),h=i.toString(),c=h;const f=l.length;for(;;){const V=yield gi(OL(i,h,c,l,f,t,n));if(null==V.entry&&null==V.next)throw Xc(new Error(`Could not resolve ${r}`),"ERR_NOT_FOUND");if(null!=V.entry&&(yield V.entry),null==V.next)return;l=V.next.toResolve,i=V.next.cid,h=V.next.name,c=V.next.path}})).apply(this,arguments)}function tR(){return tR=(0,ye.A)(function*(r,t,n={}){const i=yield G7(function NL(r,t){return eR.apply(this,arguments)}(r,t,n));if(null==i)throw Xc(new Error(`Could not resolve ${r}`),"ERR_NOT_FOUND");return i}),tR.apply(this,arguments)}var Yg=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class UL{constructor(t={}){this.config=Object.assign({blockstoreLocation:"DATASTORE",createLevelDatabase:ww},t),this.blockstore=new $C({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return Yg(this,void 0,void 0,function*(){yield this.blockstore.open()})}close(){return Yg(this,void 0,void 0,function*(){yield this.blockstore.close()})}put(t,n,i,l){var h,c,f,$,D;return Yg(this,void 0,void 0,function*(){const q=yield this.getBlockstoreForStoringData(t,n,i),De=Xu([{content:l}],q,{cidVersion:1});let Re;try{for(var et,Oe=!0,je=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(h){n[h]=r[h]&&function(c){return new Promise(function(f,V){!function l(h,c,f,V){Promise.resolve(V).then(function($){h({value:$,done:f})},c)}(f,V,(c=r[h](c)).done,c.value)})}}}(De);et=yield je.next(),!(h=et.done);Oe=!0)Oe=!1,Re=et.value}catch(ft){c={error:ft}}finally{try{!Oe&&!h&&(f=je.return)&&(yield f.call(je))}finally{if(c)throw c.error}}return{dataSize:Number(null!==(D=null===($=Re.unixfs)||void 0===$?void 0:$.fileSize())&&void 0!==D?D:Re.size)}})}get(t,n,i){return Yg(this,void 0,void 0,function*(){const l=yield this.getBlockstoreForStoringData(t,n,i);if(!(yield l.has(i)))return;const c=yield function LN(r,t){return tR.apply(this,arguments)}(i,l),f=c.content(),V=new vb.Readable({read(){return Yg(this,void 0,void 0,function*(){const D=yield f.next();this.push(D.done?null:D.value)})}});let $=c.size;return("file"===c.type||"directory"===c.type)&&($=c.unixfs.fileSize()),{dataSize:Number($),dataStream:V}})}delete(t,n,i){return Yg(this,void 0,void 0,function*(){yield(yield this.getBlockstoreForStoringData(t,n,i)).clear()})}clear(){return Yg(this,void 0,void 0,function*(){yield this.blockstore.clear()})}getBlockstoreForStoringData(t,n,i){return Yg(this,void 0,void 0,function*(){return yield(yield(yield(yield this.blockstore.partition("data")).partition(t)).partition(n)).partition(i)})}}var Cl=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})},qM=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(h){n[h]=r[h]&&function(c){return new Promise(function(f,V){!function l(h,c,f,V){Promise.resolve(V).then(function($){h({value:$,done:f})},c)}(f,V,(c=r[h](c)).done,c.value)})}}},Ew=function(r){return this instanceof Ew?(this.v=r,this):new Ew(r)};let JC=(()=>{class r{constructor(n){this.config=Object.assign({createLevelDatabase:ww},n),this.db=new IE({location:this.config.location,createLevelDatabase:this.config.createLevelDatabase,keyEncoding:"utf8"})}open(){return Cl(this,void 0,void 0,function*(){yield this.db.open()})}close(){return Cl(this,void 0,void 0,function*(){yield this.db.close()})}clear(){return Cl(this,void 0,void 0,function*(){yield this.db.clear()})}put(n,i,l,h){return Cl(this,void 0,void 0,function*(){if(Eb(l))throw new ce(_e.IndexMissingIndexableProperty,"Index must include at least one valid indexable property");const c={messageCid:i,indexes:l},f=[];for(const q in l){const De=l[q];if(Array.isArray(De))for(const Re of De){const Oe=this.createPutIndexedItemOperation(n,c,q,Re);f.push(Oe)}else{const Re=this.createPutIndexedItemOperation(n,c,q,De);f.push(Re)}}const V=this.createOperationForIndexesLookupPartition(n,{type:"put",key:i,value:JSON.stringify(l)});f.push(V);const $=yield Promise.all(f);yield(yield this.db.partition(n)).batch($,h)})}delete(n,i,l){return Cl(this,void 0,void 0,function*(){const h=[],c=yield this.getIndexes(n,i);if(void 0===c)return;const f=this.createOperationForIndexesLookupPartition(n,{type:"del",key:i});h.push(f);for(const D in c){const q=c[D];if(Array.isArray(q))for(const De of q){const Re=this.createDeleteIndexedItemOperation(n,i,D,De);h.push(Re)}else{const De=this.createDeleteIndexedItemOperation(n,i,D,q);h.push(De)}}const V=yield Promise.all(h);yield(yield this.db.partition(n)).batch(V,l)})}createPutIndexedItemOperation(n,i,l,h){return Cl(this,void 0,void 0,function*(){const{messageCid:c}=i,f=r.keySegmentJoin(r.encodeValue(h),c);return this.createOperationForIndexPartition(n,l,{type:"put",key:f,value:JSON.stringify(i)})})}createDeleteIndexedItemOperation(n,i,l,h){return Cl(this,void 0,void 0,function*(){const c=r.keySegmentJoin(r.encodeValue(h),i);return this.createOperationForIndexPartition(n,l,{type:"del",key:c})})}createOperationForIndexPartition(n,i,l){return Cl(this,void 0,void 0,function*(){const h=yield this.db.partition(n),c=r.getIndexPartitionName(i);return h.createPartitionOperation(c,l)})}createOperationForIndexesLookupPartition(n,i){return Cl(this,void 0,void 0,function*(){return(yield this.db.partition(n)).createPartitionOperation("index",i)})}static getIndexPartitionName(n){return`__${n}__`}getIndexPartition(n,i){return Cl(this,void 0,void 0,function*(){const l=r.getIndexPartitionName(i);return(yield this.db.partition(n)).partition(l)})}getIndexesLookupPartition(n){return Cl(this,void 0,void 0,function*(){return(yield this.db.partition(n)).partition("index")})}query(n,i,l,h){return Cl(this,void 0,void 0,function*(){return r.shouldQueryWithInMemoryPaging(i,l)?this.queryWithInMemoryPaging(n,i,l,h):this.queryWithIteratorPaging(n,i,l,h)})}queryWithIteratorPaging(n,i,l,h){var c,f,V;return Cl(this,void 0,void 0,function*(){const{cursor:D,limit:q}=l,De=D?this.createStartingKeyFromCursor(D):"",Re=[];try{for(var et,Oe=!0,je=qM(this.getIndexIterator(n,De,l,h));et=yield je.next(),!(c=et.done);Oe=!0){Oe=!1;const ft=et.value;if(void 0!==q&&q===Re.length)break;const{indexes:at}=ft;rl.matchAnyFilter(at,i)&&Re.push(ft)}}catch(ft){f={error:ft}}finally{try{!Oe&&!c&&(V=je.return)&&(yield V.call(je))}finally{if(f)throw f.error}}return Re})}getIndexIterator(n,i,l,h){return function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,i=n.apply(r,t||[]),h=[];return l={},c("next"),c("throw"),c("return"),l[Symbol.asyncIterator]=function(){return this},l;function c(De){i[De]&&(l[De]=function(Re){return new Promise(function(Oe,je){h.push([De,Re,Oe,je])>1||f(De,Re)})})}function f(De,Re){try{!function V(De){De.value instanceof Ew?Promise.resolve(De.value.v).then($,D):q(h[0][2],De)}(i[De](Re))}catch(Oe){q(h[0][3],Oe)}}function $(De){f("next",De)}function D(De){f("throw",De)}function q(De,Re){De(Re),h.shift(),h.length&&f(h[0][0],h[0][1])}}(this,arguments,function*(){var f,V,$,D;const{sortProperty:q,sortDirection:De=vu.Ascending,cursor:Re}=l,Oe={gt:i};De===vu.Descending&&(Oe.reverse=!0,void 0!==Re&&(Oe.lt=i,delete Oe.gt));const je=yield Ew(this.getIndexPartition(n,q));try{for(var at,et=!0,ft=qM(je.iterator(Oe,h));!(f=(at=yield Ew(ft.next())).done);et=!0){D=at.value,et=!1;const[dt,Mt]=D,{indexes:Pt,messageCid:Dt}=JSON.parse(Mt);yield yield Ew({indexes:Pt,messageCid:Dt})}}catch(dt){V={error:dt}}finally{try{!et&&!f&&($=ft.return)&&(yield Ew($.call(ft)))}finally{if(V)throw V.error}}})}createStartingKeyFromCursor(n){const{messageCid:i,value:l}=n;return r.keySegmentJoin(r.encodeValue(l),i)}static createCursorFromLastArrayItem(n,i){if(n.length>0)return this.createCursorFromItem(n.at(-1),i)}static createCursorFromItem(n,i){const{messageCid:l,indexes:h}=n,c=h[i];if(void 0===c)throw new ce(_e.IndexInvalidCursorSortProperty,`the sort property '${i}' is not defined within the given item.`);if("boolean"==typeof c||Array.isArray(c))throw new ce(_e.IndexInvalidCursorValueType,`only string or number values are supported for cursors, a(n) ${typeof c} was given.`);return{messageCid:l,value:c}}queryWithInMemoryPaging(n,i,l,h){return Cl(this,void 0,void 0,function*(){const{sortProperty:c,sortDirection:f=vu.Ascending,cursor:V,limit:$}=l,D=V?this.createStartingKeyFromCursor(V):void 0,q=new Map;0===i.length&&(i=[{}]);try{yield Promise.all(i.map(je=>this.executeSingleFilterQuery(n,je,c,q,h)))}catch(je){if(je.code===_e.IndexInvalidSortPropertyInMemory)return[]}const De=[...q.values()].sort((je,et)=>this.sortItems(je,et,c,f)),Re=void 0!==D?this.findCursorStartingIndex(De,f,c,D):0;return Re<0?[]:De.slice(Re,void 0!==$?Re+$:void 0)})}executeSingleFilterQuery(n,i,l,h,c){return Cl(this,void 0,void 0,function*(){const f=[];if(Eb(i)){const $=this.getAllItems(n,l);f.push($)}const V=Kx.reduceFilter(i);for(const $ in V){const D=V[$];if(rl.isEqualFilter(D)){const q=this.filterExactMatches(n,$,D,c);f.push(q)}else if(rl.isOneOfFilter(D))for(const q of new Set(D)){const De=this.filterExactMatches(n,$,q,c);f.push(De)}else if(rl.isRangeFilter(D)){const q=this.filterRangeMatches(n,$,D,c);f.push(q)}}for(const $ of f){const D=yield $;for(const q of D)if(!h.has(q.messageCid)&&rl.matchFilter(q.indexes,i)){if(void 0===q.indexes[l])throw new ce(_e.IndexInvalidSortPropertyInMemory,`invalid sort property ${l}`);h.set(q.messageCid,q)}}})}getAllItems(n,i){var l,h,c,f;return Cl(this,void 0,void 0,function*(){const V=yield this.getIndexPartition(n,i),$=[];try{for(var De,D=!0,q=qM(V.iterator());De=yield q.next(),!(l=De.done);D=!0){f=De.value,D=!1;const[Re,Oe]=f;$.push(JSON.parse(Oe))}}catch(Re){h={error:Re}}finally{try{!D&&!l&&(c=q.return)&&(yield c.call(q))}finally{if(h)throw h.error}}return $})}filterExactMatches(n,i,l,h){var c,f,V,$;return Cl(this,void 0,void 0,function*(){const D=r.keySegmentJoin(r.encodeValue(l)),q={gt:D},De=yield this.getIndexPartition(n,i),Re=[];try{for(var et,Oe=!0,je=qM(De.iterator(q,h));et=yield je.next(),!(c=et.done);Oe=!0){$=et.value,Oe=!1;const[ft,at]=$;if(!ft.startsWith(D))break;Re.push(JSON.parse(at))}}catch(ft){f={error:ft}}finally{try{!Oe&&!c&&(V=je.return)&&(yield V.call(je))}finally{if(f)throw f.error}}return Re})}filterRangeMatches(n,i,l,h){var c,f,V,$;return Cl(this,void 0,void 0,function*(){const D={};for(const et in l)D[et]=r.encodeValue(l[et]);void 0===D.gt&&void 0===D.gte&&(D.reverse=!0);const q=[],De=yield this.getIndexPartition(n,i);try{for(var je,Re=!0,Oe=qM(De.iterator(D,h));je=yield Oe.next(),!(c=je.done);Re=!0){$=je.value,Re=!1;const[et,ft]=$;"gt"in l&&this.extractIndexValueFromKey(et)===r.encodeValue(l.gt)||q.push(JSON.parse(ft))}}catch(et){f={error:et}}finally{try{!Re&&!c&&(V=Oe.return)&&(yield V.call(Oe))}finally{if(f)throw f.error}}if("lte"in l)for(const et of yield this.filterExactMatches(n,i,l.lte,h))q.push(et);return q})}sortItems(n,i,l,h){const f=i.indexes[l],V=r.encodeValue(n.indexes[l])+n.messageCid,$=r.encodeValue(f)+i.messageCid;return h===vu.Ascending?_b(V,$):_b($,V)}findCursorStartingIndex(n,i,l,h){return n.findIndex(f=>{const{messageCid:V,indexes:$}=f,q=r.keySegmentJoin(r.encodeValue($[l]),V);return i===vu.Ascending?q>h:q<h})}getIndexes(n,i){return Cl(this,void 0,void 0,function*(){const h=yield(yield this.getIndexesLookupPartition(n)).get(i);if(void 0!==h)return JSON.parse(h)})}extractIndexValueFromKey(n){const[i]=n.split(r.delimiter);return i}static keySegmentJoin(...n){return n.join(r.delimiter)}static encodeNumberValue(n){const i=Number.MAX_SAFE_INTEGER,h=String(Number.MAX_SAFE_INTEGER).length;return(n<0?"!":"")+String(n+(n<0?i:0)).padStart(h,"0")}static encodeValue(n){return"number"==typeof n?this.encodeNumberValue(n):JSON.stringify(n)}static shouldQueryWithInMemoryPaging(n,i){for(const l of n)if(!r.isFilterConcise(l,i))return!1;return!0}static isFilterConcise(n,i){return void 0!==n.recordId||void 0===i.cursor&&(void 0!==n.protocolPath||void 0!==n.contextId||void 0!==n.parentId||void 0!==n.schema)}}return r.delimiter="\0",r})();function rR(r){if(!iR(r))throw new Error("Parameter was not an error")}function iR(r){return"[object Error]"===function jL(r){return Object.prototype.toString.call(r)}(r)||r instanceof Error}class eh extends Error{constructor(t,n){const i=[...arguments],{options:l,shortMessage:h}=function $L(r){let t,n="";if(0===r.length)t={};else if(iR(r[0]))t={cause:r[0]},n=r.slice(1).join(" ")||"";else if(r[0]&&"object"==typeof r[0])t=Object.assign({},r[0]),n=r.slice(1).join(" ")||"";else{if("string"!=typeof r[0])throw new Error("Invalid arguments passed to Layerr");t={},n=n=r.join(" ")||""}return{options:t,shortMessage:n}}(i);let c=h;l.cause&&(c=`${c}: ${l.cause.message}`),super(c),this.message=c,this.name=l.name&&"string"==typeof l.name?l.name:"Layerr",l.cause&&Object.defineProperty(this,"_cause",{value:l.cause}),Object.defineProperty(this,"_info",{value:{}}),l.info&&"object"==typeof l.info&&Object.assign(this._info,l.info),Error.captureStackTrace&&Error.captureStackTrace(this,l.constructorOpt||this.constructor)}static cause(t){return rR(t),t._cause&&iR(t._cause)?t._cause:null}static fullStack(t){rR(t);const n=eh.cause(t);return n?`${t.stack}\ncaused by: ${eh.fullStack(n)}`:t.stack}static info(t){rR(t);const n={},i=eh.cause(t);return i&&Object.assign(n,eh.info(i)),t._info&&Object.assign(n,t._info),n}cause(){return eh.cause(this)}toString(){let t=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t=`${t}: ${this.message}`),t}}const xw="0123456789ABCDEFGHJKMNPQRSTVWXYZ",Sw=32,oR=0xffffffffffff,Im=Object.freeze({source:"ulid"});function sR(r,t){if(isNaN(r))throw new eh({info:{code:"ENC_TIME_NAN",...Im}},`Time must be a number: ${r}`);if(r>oR)throw new eh({info:{code:"ENC_TIME_SIZE_EXCEED",...Im}},`Cannot encode a time larger than ${oR}: ${r}`);if(r<0)throw new eh({info:{code:"ENC_TIME_NEG",...Im}},`Time must be positive: ${r}`);if(!1===Number.isInteger(r))throw new eh({info:{code:"ENC_TIME_TYPE",...Im}},`Time must be an integer: ${r}`);let n,i="";for(let l=t;l>0;l--)n=r%Sw,i=xw.charAt(n)+i,r=(r-n)/Sw;return i}function $N(r){const t=r||function FN(r){const t=r||function KL(){return function zL(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}()?self:typeof window<"u"?window:typeof globalThis<"u"||typeof globalThis<"u"?globalThis:null}(),n=t&&(t.crypto||t.msCrypto)||null;if("function"==typeof n?.getRandomValues)return()=>{const i=new Uint8Array(1);return n.getRandomValues(i),i[0]/255};if("function"==typeof n?.randomBytes)return()=>n.randomBytes(1).readUInt8()/255;throw new eh({info:{code:"PRNG_DETECT",...Im}},"Failed to find a reliable PRNG")}();let i,n=0;return function(h){const c=isNaN(h)?Date.now():h;if(c<=n){const V=i=function VL(r){let t,i,l,n=r.length,h=r;const c=Sw-1;for(;!t&&n-- >=0;){if(i=h[n],l=xw.indexOf(i),-1===l)throw new eh({info:{code:"B32_INC_ENC",...Im}},"Incorrectly encoded string");l!==c?t=KN(h,n,xw[l+1]):h=KN(h,n,xw[0])}if("string"==typeof t)return t;throw new eh({info:{code:"B32_INC_INVALID",...Im}},"Failed incrementing string")}(i);return sR(n,10)+V}n=c;const f=i=function jN(r,t){let n="";for(;r>0;r--)n=HL(t)+n;return n}(16,t);return sR(c,10)+f}}function HL(r){let t=Math.floor(r()*Sw);return t===Sw&&(t=Sw-1),xw.charAt(t)}function KN(r,t,n){return t>r.length-1?r:r.substr(0,t)+n+r.substr(t+1)}var Mw=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class WL{constructor(t){this.index=new JC(Object.assign({location:"EVENTLOG",createLevelDatabase:ww},t)),this.ulidFactory=$N()}open(){return Mw(this,void 0,void 0,function*(){return this.index.open()})}close(){return Mw(this,void 0,void 0,function*(){return this.index.close()})}clear(){return Mw(this,void 0,void 0,function*(){return this.index.clear()})}append(t,n,i){return Mw(this,void 0,void 0,function*(){const l=this.ulidFactory();yield this.index.put(t,n,Object.assign(Object.assign({},i),{watermark:l}))})}queryEvents(t,n,i){return Mw(this,void 0,void 0,function*(){const l=yield this.index.query(t,n,{sortProperty:"watermark",cursor:i});return{events:l.map(({messageCid:h})=>h),cursor:JC.createCursorFromLastArrayItem(l,"watermark")}})}getEvents(t,n){return Mw(this,void 0,void 0,function*(){return this.queryEvents(t,[],n)})}deleteEventsByCid(t,n){return Mw(this,void 0,void 0,function*(){const i=[];for(const l of n)i.push(this.index.delete(t,l));yield Promise.all(i)})}}function QC({enumerable:r=!0,configurable:t=!1}={}){return{enumerable:r,configurable:t,writable:!1}}function*GL(r,t){if(null!=t&&"object"==typeof t)if(Array.isArray(t))for(const[n,i]of t.entries()){const l=[...r,n],h=gh.TO.asCID(i);h?yield[l.join("/"),h]:"object"==typeof i&&(yield*aR(i,l))}else{const n=gh.TO.asCID(t);n?yield[r.join("/"),n]:yield*aR(t,r)}}function*aR(r,t){if(null==r||r instanceof Uint8Array)return;const n=gh.TO.asCID(r);n&&(yield[t.join("/"),n]);for(const[i,l]of Object.entries(r)){const h=[...t,i];yield*GL(h,l)}}function*ZL(r,t){if(Array.isArray(t))for(const[n,i]of t.entries()){const l=[...r,n];yield l.join("/"),"object"==typeof i&&!gh.TO.asCID(i)&&(yield*cR(i,l))}else yield*cR(t,r)}function*cR(r,t){if(null!=r&&"object"==typeof r)for(const[n,i]of Object.entries(r)){const l=[...t,n];yield l.join("/"),null!=i&&!(i instanceof Uint8Array)&&"object"==typeof i&&!gh.TO.asCID(i)&&(yield*ZL(l,i))}}class lR{constructor({cid:t,bytes:n,value:i}){if(!t||!n||typeof i>"u")throw new Error("Missing required argument");this.cid=t,this.bytes=n,this.value=i,this.asBlock=this,Object.defineProperties(this,{cid:QC(),bytes:QC(),value:QC(),asBlock:QC()})}links(){return aR(this.value,[])}tree(){return cR(this.value,[])}get(t="/"){return function XL(r,t){let n=r;for(const[i,l]of t.entries()){if(n=n[l],null==n)throw new Error(`Object has no property at ${t.slice(0,i+1).map(c=>`[${JSON.stringify(c)}]`).join("")}`);const h=gh.TO.asCID(n);if(h)return{value:h,remaining:t.slice(i+1).join("/")}}return{value:n}}(this.value,t.split("/").filter(Boolean))}}function dR(){return(dR=(0,ye.A)(function*({value:r,codec:t,hasher:n}){if(typeof r>"u")throw new Error('Missing required argument "value"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const i=t.encode(r),l=yield n.digest(i),h=gh.TO.create(1,t.code,l);return new lR({value:r,bytes:i,cid:h})})).apply(this,arguments)}function uR(){return(uR=(0,ye.A)(function*({bytes:r,codec:t,hasher:n}){if(!r)throw new Error('Missing required argument "bytes"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const i=t.decode(r),l=yield n.digest(r),h=gh.TO.create(1,t.code,l);return new lR({value:i,bytes:r,cid:h})})).apply(this,arguments)}var Aw=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class hR{constructor(t={}){this.config=Object.assign({blockstoreLocation:"MESSAGESTORE",indexLocation:"INDEX",createLevelDatabase:ww},t),this.blockstore=new $C({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase}),this.index=new JC({location:this.config.indexLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return Aw(this,void 0,void 0,function*(){yield this.blockstore.open(),yield this.index.open()})}close(){return Aw(this,void 0,void 0,function*(){yield this.blockstore.close(),yield this.index.close()})}get(t,n,i){var l;return Aw(this,void 0,void 0,function*(){null===(l=i?.signal)||void 0===l||l.throwIfAborted();const h=yield Cd(this.blockstore.partition(t),i?.signal),c=Bf.TO.parse(n),f=yield h.get(c,i);return f?(yield Cd(function JL(r){return uR.apply(this,arguments)}({bytes:f,codec:J,hasher:fe}),i?.signal)).value:void 0})}query(t,n,i,l,h){var c;return Aw(this,void 0,void 0,function*(){null===(c=h?.signal)||void 0===c||c.throwIfAborted();const f=hR.buildQueryOptions(i,l),V=yield this.index.query(t,n,f,h);let $;void 0!==l?.limit&&l.limit<V.length&&(V.splice(-1),$=JC.createCursorFromLastArrayItem(V,f.sortProperty));const D=[];for(let q=0;q<V.length;q++){const{messageCid:De}=V[q],Re=yield this.get(t,De,h);Re&&D.push(Re)}return{messages:D,cursor:$}})}static buildQueryOptions(t={},n={}){let{limit:i,cursor:l}=n;const{dateCreated:h,datePublished:c,messageTimestamp:f}=t;let V=vu.Ascending,$="messageTimestamp";return void 0!==h?$="dateCreated":void 0!==c?$="datePublished":void 0!==f&&($="messageTimestamp"),void 0!==t[$]&&(V=t[$]),void 0!==i&&i>0&&(i+=1),{sortDirection:V,sortProperty:$,limit:i,cursor:l}}delete(t,n,i){var l;return Aw(this,void 0,void 0,function*(){null===(l=i?.signal)||void 0===l||l.throwIfAborted();const h=yield Cd(this.blockstore.partition(t),i?.signal),c=Bf.TO.parse(n);yield h.delete(c,i),yield this.index.delete(t,n,i)})}put(t,n,i,l){var h;return Aw(this,void 0,void 0,function*(){null===(h=l?.signal)||void 0===h||h.throwIfAborted();const c=yield Cd(this.blockstore.partition(t),l?.signal),f=yield Cd(function YL(r){return dR.apply(this,arguments)}({value:n,codec:J,hasher:fe}),l?.signal),V=nl.parseCid(yield Vr.getCid(n));yield c.put(V,f.bytes,l);const $=V.toString();yield this.index.put(t,$,i,l)})}clear(){return Aw(this,void 0,void 0,function*(){yield this.blockstore.clear(),yield this.index.clear()})}}var Jg=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};let eU=(()=>{class r{constructor(n){this.config=Object.assign({location:"RESUMABLE-TASK-STORE",createLevelDatabase:ww},n),this.db=new IE({location:this.config.location,createLevelDatabase:this.config.createLevelDatabase,keyEncoding:"utf8"})}open(){return Jg(this,void 0,void 0,function*(){yield this.db.open()})}close(){return Jg(this,void 0,void 0,function*(){yield this.db.close()})}register(n,i){return Jg(this,void 0,void 0,function*(){const l=yield nl.computeCid(n),h={id:l,timeout:Date.now()+1e3*i,retryCount:0,task:n};return yield this.db.put(l,JSON.stringify(h)),h})}grab(n){var i,l,h,c;return Jg(this,void 0,void 0,function*(){const f=[];try{for(var D,V=!0,$=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(h){n[h]=r[h]&&function(c){return new Promise(function(f,V){!function l(h,c,f,V){Promise.resolve(V).then(function($){h({value:$,done:f})},c)}(f,V,(c=r[h](c)).done,c.value)})}}}(this.db.iterator());D=yield $.next(),!(i=D.done);V=!0){c=D.value,V=!1;const[q,De]=c,Re=JSON.parse(De);if(Date.now()>=Re.timeout&&(Re.timeout=Date.now()+1e3*r.taskTimeoutInSeconds,Re.retryCount++,yield this.db.put(Re.id,JSON.stringify(Re)),f.push(Re)),f.length>=n)break}}catch(q){l={error:q}}finally{try{!V&&!i&&(h=$.return)&&(yield h.call($))}finally{if(l)throw l.error}}return f})}read(n){return Jg(this,void 0,void 0,function*(){const i=yield this.db.get(n);if(i)return JSON.parse(i)})}extend(n,i){return Jg(this,void 0,void 0,function*(){const l=yield this.db.get(n);if(l){const h=JSON.parse(l);h.timeout=Date.now()+1e3*i,yield this.db.put(h.id,JSON.stringify(h))}})}delete(n){return Jg(this,void 0,void 0,function*(){return this.db.delete(n)})}clear(){return Jg(this,void 0,void 0,function*(){yield this.db.clear()})}}return r.taskTimeoutInSeconds=60,r})();_(44356);var Na=function(r){return r.MessagesQuery="MessagesQuery",r.MessagesRead="MessagesRead",r.MessagesSubscribe="MessagesSubscribe",r.ProtocolsConfigure="ProtocolsConfigure",r.ProtocolsQuery="ProtocolsQuery",r.RecordsDelete="RecordsDelete",r.RecordsQuery="RecordsQuery",r.RecordsRead="RecordsRead",r.RecordsSubscribe="RecordsSubscribe",r.RecordsWrite="RecordsWrite",r}(Na||{});const VN={[Na.MessagesQuery]:ew,[Na.MessagesRead]:hm,[Na.MessagesSubscribe]:Ig,[Na.ProtocolsConfigure]:Id,[Na.ProtocolsQuery]:mm,[Na.RecordsDelete]:L0,[Na.RecordsQuery]:Qb,[Na.RecordsRead]:kg,[Na.RecordsSubscribe]:iw,[Na.RecordsWrite]:$o};class t6{constructor({did:t,metadata:n}){this.did=t,this.metadata=n}export(){return r=this,t=void 0,i=function*(){return{portableDid:yield this.did.export(),metadata:this.metadata}},new((n=void 0)||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())});var r,t,n,i}}var Tw=_(47565);class mR{static digest({data:t}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return(0,Tw.s)(t)})}}class Dm{}class yR extends Dm{digest({algorithm:t,data:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===t)return yield mR.digest({data:n})})}}var Fh=_(94256),n6=_(91006);const r6="urn:jwk:";function Zo({jwk:r}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const t=r.kty;let n;if("EC"===t)n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===t)n={k:r.k,kty:r.kty};else if("OKP"===t)n={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);n={e:r.e,kty:r.kty,n:r.n}}(0,er.E8)(n);const i=function iU(r){const t=i=>{if(null!==i&&"object"==typeof i&&!Array.isArray(i)){const l=Object.keys(i).sort(),h={};for(const c of l)h[c]=t(i[c]);return h}return i},n=t(r);return JSON.stringify(n)}(n),l=er.U$.string(i).toUint8Array(),h=yield mR.digest({data:l});return er.U$.uint8Array(h).toBase64Url()})}function Cm(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"EC"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function i6(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r)||"d"in r||"EC"!==r.kty||"string"!=typeof r.x)}function zN(r){return!(!r||"object"!=typeof r||!("kty"in r)||!("k"in r)||"oct"!==r.kty||"string"!=typeof r.k)}function km(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"OKP"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function o6(r){return!(!r||"object"!=typeof r||"d"in r||!("kty"in r&&"crv"in r&&"x"in r)||"OKP"!==r.kty||"string"!=typeof r.x)}function gR(r){if(!r||"object"!=typeof r)return!1;switch(r.kty){case"EC":case"OKP":case"RSA":return"d"in r;case"oct":return"k"in r;default:return!1}}var kd=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class ca{static adjustSignatureToLowS({signature:t}){return kd(this,void 0,void 0,function*(){const n=Fh.bI.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return kd(this,void 0,void 0,function*(){const n=yield ca.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",d:er.U$.uint8Array(t).toBase64Url(),x:er.U$.uint8Array(n.x).toBase64Url(),y:er.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Zo({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return kd(this,void 0,void 0,function*(){const n=yield ca.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",x:er.U$.uint8Array(n.x).toBase64Url(),y:er.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Zo({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return kd(this,void 0,void 0,function*(){return Fh.bI.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return kd(this,void 0,void 0,function*(){const n=yield ca.privateKeyToBytes({privateKey:t}),i=yield ca.getCurvePoint({keyBytes:n}),l={kty:"EC",crv:"secp256k1",x:er.U$.uint8Array(i.x).toBase64Url(),y:er.U$.uint8Array(i.y).toBase64Url()};return l.kid=yield Zo({jwk:l}),l})}static convertDerToCompactSignature({derSignature:t}){return kd(this,void 0,void 0,function*(){return Fh.bI.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return kd(this,void 0,void 0,function*(){return Fh.bI.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return kd(this,void 0,void 0,function*(){const t=Fh.bI.utils.randomPrivateKey(),n=yield ca.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Zo({jwk:n}),n})}static getPublicKey({key:t}){var n;return kd(this,void 0,void 0,function*(){if(!Cm(t)||"secp256k1"!==t.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["d"]);return null!==(n=l.kid)&&void 0!==n||(l.kid=yield Zo({jwk:l})),l})}static privateKeyToBytes({privateKey:t}){return kd(this,void 0,void 0,function*(){if(!Cm(t))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return er.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return kd(this,void 0,void 0,function*(){if(!i6(t)||!t.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=er.U$.base64Url(t.x).toUint8Array(),l=er.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...l])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return kd(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield ca.privateKeyToBytes({privateKey:t}),l=yield ca.publicKeyToBytes({publicKey:n});return Fh.bI.getSharedSecret(i,l,!0).slice(1)})}static sign({data:t,key:n}){return kd(this,void 0,void 0,function*(){const i=yield ca.privateKeyToBytes({privateKey:n}),l=(0,Tw.s)(t);return Fh.bI.sign(l,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return kd(this,void 0,void 0,function*(){return Fh.bI.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return kd(this,void 0,void 0,function*(){try{Fh.bI.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return kd(this,void 0,void 0,function*(){const l=yield ca.publicKeyToBytes({publicKey:t}),h=(0,Tw.s)(i);return Fh.bI.verify(n,h,l,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return kd(this,void 0,void 0,function*(){32===t.byteLength&&(t=Fh.bI.getPublicKey(t));const n=Fh.bI.ProjectivePoint.fromHex(t);return{x:(0,n6.lq)(n.x,32),y:(0,n6.lq)(n.y,32)}})}}var jh=_(40499),Pd=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class la{static adjustSignatureToLowS({signature:t}){return Pd(this,void 0,void 0,function*(){const n=jh.Ag.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return Pd(this,void 0,void 0,function*(){const n=yield la.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",d:er.U$.uint8Array(t).toBase64Url(),x:er.U$.uint8Array(n.x).toBase64Url(),y:er.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Zo({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Pd(this,void 0,void 0,function*(){const n=yield la.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",x:er.U$.uint8Array(n.x).toBase64Url(),y:er.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Zo({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return Pd(this,void 0,void 0,function*(){return jh.Ag.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return Pd(this,void 0,void 0,function*(){const n=yield la.privateKeyToBytes({privateKey:t}),i=yield la.getCurvePoint({keyBytes:n}),l={kty:"EC",crv:"P-256",x:er.U$.uint8Array(i.x).toBase64Url(),y:er.U$.uint8Array(i.y).toBase64Url()};return l.kid=yield Zo({jwk:l}),l})}static convertDerToCompactSignature({derSignature:t}){return Pd(this,void 0,void 0,function*(){return jh.Ag.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return Pd(this,void 0,void 0,function*(){return jh.Ag.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return Pd(this,void 0,void 0,function*(){const t=jh.Ag.utils.randomPrivateKey(),n=yield la.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Zo({jwk:n}),n})}static getPublicKey({key:t}){var n;return Pd(this,void 0,void 0,function*(){if(!Cm(t)||"P-256"!==t.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["d"]);return null!==(n=l.kid)&&void 0!==n||(l.kid=yield Zo({jwk:l})),l})}static privateKeyToBytes({privateKey:t}){return Pd(this,void 0,void 0,function*(){if(!Cm(t))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return er.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Pd(this,void 0,void 0,function*(){if(!i6(t)||!t.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=er.U$.base64Url(t.x).toUint8Array(),l=er.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...l])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Pd(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield la.privateKeyToBytes({privateKey:t}),l=yield la.publicKeyToBytes({publicKey:n});return jh.Ag.getSharedSecret(i,l,!0).slice(1)})}static sign({data:t,key:n}){return Pd(this,void 0,void 0,function*(){const i=yield la.privateKeyToBytes({privateKey:n}),l=(0,Tw.s)(t);return jh.Ag.sign(l,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return Pd(this,void 0,void 0,function*(){return jh.Ag.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return Pd(this,void 0,void 0,function*(){try{jh.Ag.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Pd(this,void 0,void 0,function*(){const l=yield la.publicKeyToBytes({publicKey:t}),h=(0,Tw.s)(i);return jh.Ag.verify(n,h,l,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return Pd(this,void 0,void 0,function*(){32===t.byteLength&&(t=jh.Ag.getPublicKey(t));const n=jh.Ag.ProjectivePoint.fromHex(t);return{x:(0,n6.lq)(n.x,32),y:(0,n6.lq)(n.y,32)}})}}var QM=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class s6 extends Dm{computePublicKey({key:t}){return QM(this,void 0,void 0,function*(){if(!Cm(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield ca.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield la.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return QM(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield ca.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield la.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return QM(this,void 0,void 0,function*(){if(!Cm(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield ca.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield la.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}sign({key:t,data:n}){return QM(this,void 0,void 0,function*(){if(!Cm(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield ca.sign({key:t,data:n});case"P-256":return yield la.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return QM(this,void 0,void 0,function*(){if(!i6(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield ca.verify({key:t,signature:n,data:i});case"P-256":return yield la.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var Jd=_(86295),$h=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class da{static bytesToPrivateKey({privateKeyBytes:t}){return $h(this,void 0,void 0,function*(){const n=Jd.ev.getPublicKey(t),i={crv:"Ed25519",d:er.U$.uint8Array(t).toBase64Url(),kty:"OKP",x:er.U$.uint8Array(n).toBase64Url()};return i.kid=yield Zo({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return $h(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"Ed25519",x:er.U$.uint8Array(t).toBase64Url()};return n.kid=yield Zo({jwk:n}),n})}static computePublicKey({key:t}){return $h(this,void 0,void 0,function*(){const n=yield da.privateKeyToBytes({privateKey:t}),i=Jd.ev.getPublicKey(n),l={kty:"OKP",crv:"Ed25519",x:er.U$.uint8Array(i).toBase64Url()};return l.kid=yield Zo({jwk:l}),l})}static convertPrivateKeyToX25519({privateKey:t}){return $h(this,void 0,void 0,function*(){const n=yield da.privateKeyToBytes({privateKey:t}),i=(0,Jd.OA)(n),l=Jd.TU.getPublicKey(i),h={kty:"OKP",crv:"X25519",d:er.U$.uint8Array(i).toBase64Url(),x:er.U$.uint8Array(l).toBase64Url()};return h.kid=yield Zo({jwk:h}),h})}static convertPublicKeyToX25519({publicKey:t}){return $h(this,void 0,void 0,function*(){const n=yield da.publicKeyToBytes({publicKey:t});if(!(yield da.validatePublicKey({publicKeyBytes:n})))throw new Error("Ed25519: Invalid public key.");const l=(0,Jd.GU)(n),h={kty:"OKP",crv:"X25519",x:er.U$.uint8Array(l).toBase64Url()};return h.kid=yield Zo({jwk:h}),h})}static generateKey(){return $h(this,void 0,void 0,function*(){const t=Jd.ev.utils.randomPrivateKey(),n=yield da.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Zo({jwk:n}),n})}static getPublicKey({key:t}){var n;return $h(this,void 0,void 0,function*(){if(!km(t)||"Ed25519"!==t.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["d"]);return null!==(n=l.kid)&&void 0!==n||(l.kid=yield Zo({jwk:l})),l})}static privateKeyToBytes({privateKey:t}){return $h(this,void 0,void 0,function*(){if(!km(t))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return er.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return $h(this,void 0,void 0,function*(){if(!o6(t))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return er.U$.base64Url(t.x).toUint8Array()})}static sign({key:t,data:n}){return $h(this,void 0,void 0,function*(){const i=yield da.privateKeyToBytes({privateKey:t});return Jd.ev.sign(n,i)})}static validatePublicKey({publicKeyBytes:t}){return $h(this,void 0,void 0,function*(){try{Jd.ev.ExtendedPoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return $h(this,void 0,void 0,function*(){const l=yield da.publicKeyToBytes({publicKey:t});return Jd.ev.verify(n,i,l)})}}var eA=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class HN extends Dm{computePublicKey({key:t}){return eA(this,void 0,void 0,function*(){if(!km(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield da.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}generateKey({algorithm:t}){return eA(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield da.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return eA(this,void 0,void 0,function*(){if(!km(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield da.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}sign({key:t,data:n}){return eA(this,void 0,void 0,function*(){if(!km(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield da.sign({key:t,data:n});throw new Error(`Unsupported curve: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return eA(this,void 0,void 0,function*(){if(!o6(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield da.verify({key:t,signature:n,data:i});throw new Error(`Unsupported curve: ${t.crv}`)})}}var ty=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};const vR={Ed25519:{implementation:HN,names:["Ed25519"]},secp256k1:{implementation:s6,names:["ES256K","secp256k1"]},secp256r1:{implementation:s6,names:["ES256","secp256r1"]},"SHA-256":{implementation:yR,names:["SHA-256"]}};class Pm{constructor(t){var n;this._algorithmInstances=new Map,this._keyStore=null!==(n=t?.keyStore)&&void 0!==n?n:new er.ny}digest({algorithm:t,data:n}){return ty(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}exportKey({keyUri:t}){return ty(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){return ty(this,void 0,void 0,function*(){const i=yield this.getAlgorithm({algorithm:t}).generateKey({algorithm:t});if(void 0===i?.kid)throw new Error("Generated key is missing a required property: kid");const l=`${r6}${i.kid}`;return yield this._keyStore.set(l,i),l})}getKeyUri({key:t}){return ty(this,void 0,void 0,function*(){const n=yield Zo({jwk:t});return`${r6}${n}`})}getPublicKey({keyUri:t}){return ty(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return ty(this,void 0,void 0,function*(){if(!gR(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield Zo({jwk:i}));const l=yield this.getKeyUri({key:i});return yield this._keyStore.set(l,i),l})}sign({keyUri:t,data:n}){return ty(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),l=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:l}).sign({data:n,key:i})})}verify({key:t,signature:n,data:i}){return ty(this,void 0,void 0,function*(){const l=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:l}).verify({key:t,signature:n,data:i})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=vR[t])||void 0===n?void 0:n.implementation;if(!i)throw new Error(`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const l in vR){const h=vR[l];if(n&&h.names.includes(n))return l;if(i&&h.names.includes(i))return l}throw new Error(`Unable to determine algorithm based on provided input: alg=${n}, crv=${i}`)}getPrivateKey({keyUri:t}){return ty(this,void 0,void 0,function*(){const n=yield this._keyStore.get(t);if(!n)throw new Error(`Key not found: ${t}`);return n})}}var lU=_(86703),qd=_(62953);function WN(r){const t={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(r.alg&&Object.values(t).includes(r.alg))return r.alg;if(r.crv&&Object.keys(t).includes(r.crv))return t[r.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${r.alg}, crv=${r.crv}. Supported 'alg' values: ${Object.values(t).join(", ")}. Supported 'crv' values: ${Object.keys(t).join(", ")}.`)}function GN(r){return(0,qd.po)(r)}function Iw(){return lU.E.randomUUID()}var qg=_(91879),nA=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};const XN=[128,192,256],d6=[96,104,112,120,128];class Qg{static bytesToPrivateKey({privateKeyBytes:t}){return nA(this,void 0,void 0,function*(){const n={k:er.U$.uint8Array(t).toBase64Url(),kty:"oct"};return n.kid=yield Zo({jwk:n}),n})}static decrypt({key:t,data:n,iv:i,additionalData:l,tagLength:h}){return nA(this,void 0,void 0,function*(){if(12!==i.byteLength)throw new TypeError("The initialization vector must be 96 bits in length");if(h&&!d6.includes(h))throw new RangeError(`The tag length is invalid: Must be ${d6.join(", ")} bits`);const c=(0,qg.NZ)(),f=yield c.importKey("jwk",t,{name:"AES-GCM"},!0,["decrypt"]),V=Object.assign(Object.assign({name:"AES-GCM",iv:i},h&&{tagLength:h}),l&&{additionalData:l}),$=yield c.decrypt(V,f,n);return new Uint8Array($)})}static encrypt({data:t,iv:n,key:i,additionalData:l,tagLength:h}){return nA(this,void 0,void 0,function*(){if(12!==n.byteLength)throw new TypeError("The initialization vector must be 96 bits in length");if(h&&!d6.includes(h))throw new RangeError(`The tag length is invalid: Must be ${d6.join(", ")} bits`);const c=(0,qg.NZ)(),f=yield c.importKey("jwk",i,{name:"AES-GCM"},!0,["encrypt"]),V=Object.assign(Object.assign({name:"AES-GCM",iv:n},h&&{tagLength:h}),l&&{additionalData:l}),$=yield c.encrypt(V,f,t);return new Uint8Array($)})}static generateKey({length:t}){return nA(this,void 0,void 0,function*(){if(!XN.includes(t))throw new RangeError(`The key length is invalid: Must be ${XN.join(", ")} bits`);const n=(0,qg.NZ)(),i=yield n.generateKey({name:"AES-GCM",length:t},!0,["encrypt"]),f=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(yield n.exportKey("jwk",i),["ext","key_ops"]);return f.kid=yield Zo({jwk:f}),f})}static privateKeyToBytes({privateKey:t}){return nA(this,void 0,void 0,function*(){if(!zN(t))throw new Error("AesGcm: The provided key is not a valid oct private key.");return er.U$.base64Url(t.k).toUint8Array()})}}var wR=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})},ev=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class kE{static bytesToPrivateKey({privateKeyBytes:t}){return ev(this,void 0,void 0,function*(){const n=Jd.TU.getPublicKey(t),i={kty:"OKP",crv:"X25519",d:er.U$.uint8Array(t).toBase64Url(),x:er.U$.uint8Array(n).toBase64Url()};return i.kid=yield Zo({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return ev(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"X25519",x:er.U$.uint8Array(t).toBase64Url()};return n.kid=yield Zo({jwk:n}),n})}static computePublicKey({key:t}){return ev(this,void 0,void 0,function*(){const n=yield kE.privateKeyToBytes({privateKey:t}),i=Jd.TU.getPublicKey(n),l={kty:"OKP",crv:"X25519",x:er.U$.uint8Array(i).toBase64Url()};return l.kid=yield Zo({jwk:l}),l})}static generateKey(){return ev(this,void 0,void 0,function*(){const t=Jd.TU.utils.randomPrivateKey(),n=yield kE.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Zo({jwk:n}),n})}static getPublicKey({key:t}){var n;return ev(this,void 0,void 0,function*(){if(!km(t)||"X25519"!==t.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["d"]);return null!==(n=l.kid)&&void 0!==n||(l.kid=yield Zo({jwk:l})),l})}static privateKeyToBytes({privateKey:t}){return ev(this,void 0,void 0,function*(){if(!km(t))throw new Error("X25519: The provided key is not a valid OKP private key.");return er.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return ev(this,void 0,void 0,function*(){if(!o6(t))throw new Error("X25519: The provided key is not a valid OKP public key.");return er.U$.base64Url(t.x).toUint8Array()})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return ev(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield kE.privateKeyToBytes({privateKey:t}),l=yield kE.publicKeyToBytes({publicKey:n});return Jd.TU.getSharedSecret(i,l)})}}_(94730);class bU{static deriveKeyBytes({baseKeyBytes:t,length:n,hash:i,salt:l,info:h=new Uint8Array}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const f=yield(0,qg.NZ)().importKey("raw",t,{name:"HKDF"},!1,["deriveBits"]);l="string"==typeof l?er.U$.string(l).toUint8Array():l,h="string"==typeof h?er.U$.string(h).toUint8Array():h;const V=yield crypto.subtle.deriveBits({name:"HKDF",hash:i,salt:l,info:h},f,n);return new Uint8Array(V)})}}class Xi extends Error{constructor(t,n){super(n),this.code=t,this.name="CryptoError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xi)}}var Yi=function(r){return r.AlgorithmNotSupported="algorithmNotSupported",r.EncodingError="encodingError",r.InvalidJwe="invalidJwe",r.InvalidJwk="invalidJwk",r.OperationNotSupported="operationNotSupported",r}(Yi||{}),ny=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class YN extends Dm{bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return ny(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const i=yield ca.bytesToPrivateKey({privateKeyBytes:n});return i.alg="EdDSA",i}case"ES256":case"secp256r1":{const i=yield la.bytesToPrivateKey({privateKeyBytes:n});return i.alg="EdDSA",i}default:throw new Xi(Yi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)}})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return ny(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const i=yield ca.bytesToPublicKey({publicKeyBytes:n});return i.alg="EdDSA",i}case"ES256":case"secp256r1":{const i=yield la.bytesToPublicKey({publicKeyBytes:n});return i.alg="EdDSA",i}default:throw new Xi(Yi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)}})}computePublicKey({key:t}){return ny(this,void 0,void 0,function*(){if(!Cm(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield ca.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield la.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return ny(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield ca.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield la.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return ny(this,void 0,void 0,function*(){if(!Cm(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield ca.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield la.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}privateKeyToBytes({privateKey:t}){return ny(this,void 0,void 0,function*(){switch(t.crv){case"secp256k1":return yield ca.privateKeyToBytes({privateKey:t});case"P-256":return yield la.privateKeyToBytes({privateKey:t});default:throw new Xi(Yi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)}})}publicKeyToBytes({publicKey:t}){return ny(this,void 0,void 0,function*(){switch(t.crv){case"secp256k1":return yield ca.publicKeyToBytes({publicKey:t});case"P-256":return yield la.publicKeyToBytes({publicKey:t});default:throw new Xi(Yi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)}})}sign({key:t,data:n}){return ny(this,void 0,void 0,function*(){if(!Cm(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield ca.sign({key:t,data:n});case"P-256":return yield la.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return ny(this,void 0,void 0,function*(){if(!i6(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield ca.verify({key:t,signature:n,data:i});case"P-256":return yield la.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var ry=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})},oA=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})},JN=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n};const qN=[128,192,256];class sA{static bytesToPrivateKey({privateKeyBytes:t}){return oA(this,void 0,void 0,function*(){const n={k:er.U$.uint8Array(t).toBase64Url(),kty:"oct"};return n.kid=yield Zo({jwk:n}),n.alg={128:"A128KW",192:"A192KW",256:"A256KW"}[8*t.length],n})}static generateKey({length:t}){return oA(this,void 0,void 0,function*(){if(!qN.includes(t))throw new RangeError(`The key length is invalid: Must be ${qN.join(", ")} bits`);const n=(0,qg.NZ)(),i=yield n.generateKey({name:"AES-KW",length:t},!0,["wrapKey","unwrapKey"]),l=yield n.exportKey("jwk",i),f=JN(l,["ext","key_ops"]);return f.kid=yield Zo({jwk:f}),f})}static privateKeyToBytes({privateKey:t}){return oA(this,void 0,void 0,function*(){if(!zN(t))throw new Error("AesKw: The provided key is not a valid oct private key.");return er.U$.base64Url(t.k).toUint8Array()})}static unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKey:i}){return oA(this,void 0,void 0,function*(){if(!("alg"in i)||!i.alg)throw new Xi(Yi.InvalidJwk,"The decryption key is missing the 'alg' property.");if(!["A128KW","A192KW","A256KW"].includes(i.alg))throw new Xi(Yi.AlgorithmNotSupported,`The 'decryptionKey' algorithm is not supported: ${i.alg}`);const l=(0,qg.NZ)(),h=yield l.importKey("jwk",i,{name:"AES-KW"},!0,["unwrapKey"]),c={A128KW:"AES-KW",A192KW:"AES-KW",A256KW:"AES-KW",A128GCM:"AES-GCM",A192GCM:"AES-GCM",A256GCM:"AES-GCM"}[n];if(!c)throw new Xi(Yi.AlgorithmNotSupported,`The 'wrappedKeyAlgorithm' is not supported: ${n}`);const f=yield l.unwrapKey("raw",t.buffer,h,"AES-KW",{name:c},!0,["unwrapKey"]),V=yield l.exportKey("jwk",f),De=JN(V,["ext","key_ops"]);return De.kid=yield Zo({jwk:De}),De})}static wrapKey({unwrappedKey:t,encryptionKey:n}){return oA(this,void 0,void 0,function*(){if(!("alg"in n)||!n.alg)throw new Xi(Yi.InvalidJwk,"The encryption key is missing the 'alg' property.");if(!["A128KW","A192KW","A256KW"].includes(n.alg))throw new Xi(Yi.AlgorithmNotSupported,`The 'encryptionKey' algorithm is not supported: ${n.alg}`);if(!("alg"in t)||!t.alg)throw new Xi(Yi.InvalidJwk,"The private key to wrap is missing the 'alg' property.");const i=(0,qg.NZ)(),l=yield i.importKey("jwk",n,{name:"AES-KW"},!0,["wrapKey"]),h={A128KW:"AES-KW",A192KW:"AES-KW",A256KW:"AES-KW",A128GCM:"AES-GCM",A192GCM:"AES-GCM",A256GCM:"AES-GCM"}[t.alg];if(!h)throw new Xi(Yi.AlgorithmNotSupported,`The 'unwrappedKey' algorithm is not supported: ${t.alg}`);const c=yield i.importKey("jwk",t,{name:h},!0,["unwrapKey"]),f=yield i.wrapKey("raw",c,l,"AES-KW");return new Uint8Array(f)})}}var aA=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class QN extends Dm{bytesToPrivateKey({privateKeyBytes:t}){return aA(this,void 0,void 0,function*(){const n=yield sA.bytesToPrivateKey({privateKeyBytes:t});return n.alg={16:"A128KW",24:"A192KW",32:"A256KW"}[t.length],n})}generateKey({algorithm:t}){return aA(this,void 0,void 0,function*(){const n={A128KW:128,A192KW:192,A256KW:256}[t],i=yield sA.generateKey({length:n});return i.alg=t,i})}privateKeyToBytes({privateKey:t}){return aA(this,void 0,void 0,function*(){return yield sA.privateKeyToBytes({privateKey:t})})}unwrapKey(t){return aA(this,void 0,void 0,function*(){return yield sA.unwrapKey(t)})}wrapKey(t){return aA(this,void 0,void 0,function*(){return sA.wrapKey(t)})}}class MU{static deriveKeyBytes({baseKeyBytes:t,hash:n,salt:i,iterations:l,length:h}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const c=(0,qg.NZ)(),f=yield c.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]),V=yield c.deriveBits({name:"PBKDF2",hash:n,salt:i,iterations:l},f,h);return new Uint8Array(V)})}}var cA=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})},Qd=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};const xR={"AES-GCM":{implementation:class DU extends Dm{bytesToPrivateKey({privateKeyBytes:t}){return cA(this,void 0,void 0,function*(){const n=yield Qg.bytesToPrivateKey({privateKeyBytes:t});return n.alg={16:"A128GCM",24:"A192GCM",32:"A256GCM"}[t.length],n})}decrypt(t){return cA(this,void 0,void 0,function*(){return Qg.decrypt(t)})}encrypt(t){return cA(this,void 0,void 0,function*(){return Qg.encrypt(t)})}generateKey({algorithm:t}){return cA(this,void 0,void 0,function*(){const n={A128GCM:128,A192GCM:192,A256GCM:256}[t],i=yield Qg.generateKey({length:n});return i.alg=t,i})}privateKeyToBytes({privateKey:t}){return cA(this,void 0,void 0,function*(){return yield Qg.privateKeyToBytes({privateKey:t})})}},names:["A128GCM","A192GCM","A256GCM"],operations:["bytesToPrivateKey","decrypt","encrypt","generateKey"]},"AES-KW":{implementation:QN,names:["A128KW","A192KW","A256KW"],operations:["bytesToPrivateKey","generateKey","privateKeyToBytes","wrapKey","unwrapKey"]},Ed25519:{implementation:class xU extends Dm{bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return ry(this,void 0,void 0,function*(){if("Ed25519"===t){const i=yield da.bytesToPrivateKey({privateKeyBytes:n});return i.alg="EdDSA",i}throw new Xi(Yi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return ry(this,void 0,void 0,function*(){if("Ed25519"===t){const i=yield da.bytesToPublicKey({publicKeyBytes:n});return i.alg="EdDSA",i}throw new Xi(Yi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)})}computePublicKey({key:t}){return ry(this,void 0,void 0,function*(){if(!km(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield da.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Xi(Yi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}generateKey({algorithm:t}){return ry(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield da.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return ry(this,void 0,void 0,function*(){if(!km(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield da.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}privateKeyToBytes({privateKey:t}){return ry(this,void 0,void 0,function*(){if("Ed25519"===t.crv)return yield da.privateKeyToBytes({privateKey:t});throw new Xi(Yi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}publicKeyToBytes({publicKey:t}){return ry(this,void 0,void 0,function*(){if("Ed25519"===t.crv)return yield da.publicKeyToBytes({publicKey:t});throw new Xi(Yi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}sign({key:t,data:n}){return ry(this,void 0,void 0,function*(){if(!km(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield da.sign({key:t,data:n});throw new Xi(Yi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return ry(this,void 0,void 0,function*(){if(!o6(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield da.verify({key:t,signature:n,data:i});throw new Xi(Yi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}},names:["Ed25519"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},HKDF:{implementation:class EU extends Dm{deriveKeyBytes(t){var{algorithm:n}=t,i=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["algorithm"]);return function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const l={"HKDF-256":"SHA-256","HKDF-384":"SHA-384","HKDF-512":"SHA-512"}[n];return yield bU.deriveKeyBytes(Object.assign(Object.assign({},i),{hash:l}))})}},names:["HKDF-256","HKDF-384","HKDF-512"],operations:["deriveKey","deriveKeyBytes"]},PBKDF2:{implementation:class IU extends Dm{deriveKeyBytes(t){var{algorithm:n}=t,i=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(t,["algorithm"]);return function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const[,l]=n.split(/[-+]/),h={HS256:"SHA-256",HS384:"SHA-384",HS512:"SHA-512"}[l];return yield MU.deriveKeyBytes(Object.assign(Object.assign({},i),{hash:h}))})}},names:["PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"],operations:["deriveKey","deriveKeyBytes"]},secp256k1:{implementation:YN,names:["ES256K","secp256k1"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},secp256r1:{implementation:YN,names:["ES256","secp256r1"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},"SHA-256":{implementation:yR,names:["SHA-256"],operations:["digest"]}};class PE{constructor(){this._algorithmInstances=new Map}bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return Qd(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:t});return yield this.getAlgorithm({algorithm:i}).bytesToPrivateKey({algorithm:t,privateKeyBytes:n})})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return Qd(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:t});return yield this.getAlgorithm({algorithm:i}).bytesToPublicKey({algorithm:t,publicKeyBytes:n})})}decrypt(t){return Qd(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.key});return yield this.getAlgorithm({algorithm:n}).decrypt(t)})}deriveKey(t){var n,i;return Qd(this,void 0,void 0,function*(){const l=this.getAlgorithmName({algorithm:t.algorithm}),h=this.getAlgorithm({algorithm:l});let c;switch(t.algorithm){case"HKDF-256":case"HKDF-384":case"HKDF-512":c=t.derivedKeyAlgorithm;break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":c=t.algorithm.split(/[-+]/)[2];break;default:throw new Xi(Yi.AlgorithmNotSupported,`The specified "algorithm" is not supported: ${t.algorithm}`)}const f=+(null!==(i=null===(n=c.match(/\d+/))||void 0===n?void 0:n[0])&&void 0!==i?i:-1);if(-1===f)throw new Xi(Yi.AlgorithmNotSupported,`The derived key algorithm" is not supported: ${c}`);const V=yield h.deriveKeyBytes(Object.assign(Object.assign({},t),{length:f}));return yield this.bytesToPrivateKey({algorithm:c,privateKeyBytes:V})})}deriveKeyBytes(t){return Qd(this,void 0,void 0,function*(){const n=this.getAlgorithmName({algorithm:t.algorithm});return yield this.getAlgorithm({algorithm:n}).deriveKeyBytes(t)})}digest({algorithm:t,data:n}){return Qd(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}encrypt(t){return Qd(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.key});return yield this.getAlgorithm({algorithm:n}).encrypt(t)})}generateKey(t){var n;return Qd(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:t.algorithm}),h=yield this.getAlgorithm({algorithm:i}).generateKey({algorithm:t.algorithm});return null!==(n=h.kid)&&void 0!==n||(h.kid=yield Zo({jwk:h})),h})}getKeyUri(t){return Qd(this,void 0,void 0,function*(){throw new Error("Method not implemented.")})}getPublicKey({key:t}){return Qd(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).getPublicKey({key:t})})}privateKeyToBytes({privateKey:t}){return Qd(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).privateKeyToBytes({privateKey:t})})}publicKeyToBytes({publicKey:t}){return Qd(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).publicKeyToBytes({publicKey:t})})}sign({key:t,data:n}){return Qd(this,void 0,void 0,function*(){const i=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:i}).sign({data:n,key:t})})}unwrapKey(t){return Qd(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.decryptionKey});return yield this.getAlgorithm({algorithm:n}).unwrapKey(t)})}verify({key:t,signature:n,data:i}){return Qd(this,void 0,void 0,function*(){const l=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:l}).verify({key:t,signature:n,data:i})})}wrapKey(t){return Qd(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.encryptionKey});return yield this.getAlgorithm({algorithm:n}).wrapKey(t)})}getAlgorithm({algorithm:t}){var n;const i=null===(n=xR[t])||void 0===n?void 0:n.implementation;if(!i)throw new Xi(Yi.AlgorithmNotSupported,`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({algorithm:t,key:n}){var i;const l=null!==(i=n?.alg)&&void 0!==i?i:t,h=n?.crv;for(const c of Object.keys(xR)){const f=xR[c].names;if(l&&f.includes(l))return c;if(h&&f.includes(h))return c}throw new Xi(Yi.AlgorithmNotSupported,`Algorithm not supported based on provided input: alg=${l}, crv=${h}. Please check the documentation for the list of supported algorithms.`)}}var u6=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}(u6||{});const Cw={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Ia{constructor({method:t,id:n,path:i,query:l,fragment:h,params:c}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=i,this.query=l,this.fragment=h,this.params=c}static parse(t){if(!t)return null;const n=Ia.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:i,id:l,path:h,query:c,fragment:f}=n.groups,V={uri:`did:${i}:${l}`,method:i,id:l};if(h&&(V.path=h),c&&(V.query=c.slice(1)),f&&(V.fragment=f.slice(1)),c){const $={},D=c.slice(1).split("&");for(const q of D){const[De,Re]=q.split("=");$[De]=Re}V.params=$}return V}}Ia.METHOD_PATTERN="([a-z0-9]+)",Ia.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Ia.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Ia.PCT_ENCODED_PATTERN})`,Ia.METHOD_ID_PATTERN=`((?:${Ia.ID_CHAR_PATTERN}*:)*(${Ia.ID_CHAR_PATTERN}+))`,Ia.PATH_PATTERN="(/[^#?]*)?",Ia.QUERY_PATTERN="([?][^#]*)?",Ia.FRAGMENT_PATTERN="(#.*)?",Ia.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Ia.METHOD_PATTERN}):(?<id>${Ia.METHOD_ID_PATTERN})(?<path>${Ia.PATH_PATTERN})(?<query>${Ia.QUERY_PATTERN})(?<fragment>${Ia.FRAGMENT_PATTERN})$`);class Ks extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ks)}}var Bs=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(Bs||{});function Rp(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function MR(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}var lA=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class iy{constructor({uri:t,document:n,metadata:i,keyManager:l}){this.uri=t,this.document=n,this.metadata=i,this.keyManager=l}export(){return lA(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const n=[];for(let i of this.document.verificationMethod){if(!i.publicKeyJwk)throw new Error(`Verification method '${i.id}' does not contain a public key in JWK format`);const l=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),h=yield this.keyManager.exportKey({keyUri:l});n.push(Object.assign({},h))}t.privateKeys=n}return t})}getSigner(t){return lA(this,void 0,void 0,function*(){var n;const i=null===(n=this.document.verificationMethod)||void 0===n?void 0:n.find(V=>{var $,D;return Rp(V.id)===(null!==($=Rp(t?.methodId))&&void 0!==$?$:Rp(null===(D=this.document.assertionMethod)||void 0===D?void 0:D[0]))});if(!i||!i.publicKeyJwk)throw new Ks(Bs.InternalError,"A verification method intended for signing could not be determined from the DID Document");const l=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),h=yield this.keyManager.getPublicKey({keyUri:l}),c=this.keyManager;return{algorithm:WN(h),keyId:i.id,sign(V){return lA(this,arguments,void 0,function*({data:$}){return yield c.sign({data:$,keyUri:l})})},verify(V){return lA(this,arguments,void 0,function*({data:$,signature:D}){return yield c.verify({data:$,key:h,signature:D})})}}})}static import(t){return lA(this,arguments,void 0,function*({portableDid:n,keyManager:i=new Pm}){var l;const h=function SR({didDocument:r}){var t,n;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const i=[];return i.push(...null!==(n=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(MR))&&void 0!==n?n:[]),Object.keys(u6).forEach(l=>{var h,c;i.push(...null!==(c=null===(h=r[l])||void 0===h?void 0:h.filter(MR))&&void 0!==c?c:[])}),i}({didDocument:n.document});if(0===h.length)throw new Ks(Bs.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let f of null!==(l=n.privateKeys)&&void 0!==l?l:[])yield i.importKey({key:f});for(let f of h){if(!f.publicKeyJwk)throw new Error(`Verification method '${f.id}' does not contain a public key in JWK format`);const V=yield i.getKeyUri({key:f.publicKeyJwk});yield i.getPublicKey({keyUri:V})}return new iy({uri:n.uri,document:n.document,metadata:n.metadata,keyManager:i})})}}var e9=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class t9{static getSigningMethod(t){return e9(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,n){return e9(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var rd=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})},n9=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n};const r9="https://diddht.tbddev.org",tv=7200,xu=",";var i9=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}(i9||{}),yf=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(yf||{}),o9=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(o9||{});const s9={Ed25519:yf.Ed25519,ES256K:yf.secp256k1,ES256:yf.secp256r1,"P-256":yf.secp256r1,secp256k1:yf.secp256k1,secp256r1:yf.secp256r1,X25519:yf.X25519},a9={[yf.Ed25519]:"Ed25519",[yf.secp256k1]:"ES256K",[yf.secp256r1]:"ES256",[yf.X25519]:"ECDH-ES+A256KW"};let h6=(()=>{class r extends t9{static create(){return rd(this,arguments,void 0,function*({keyManager:n=new Pm,options:i={}}={}){var l,h,c,f,V,$,D,q,De,Re,Oe;if(null!==(l=i.verificationMethods)&&void 0!==l&&l.some(Dt=>!(Dt.algorithm in s9)))throw new Error("One or more verification method algorithms are not supported");const je=null===(h=i.verificationMethods)||void 0===h?void 0:h.filter(Dt=>"id"in Dt).map(Dt=>Dt.id);if(je&&je.length!==new Set(je).size)throw new Error("One or more verification method IDs are not unique");if(null!==(c=i.services)&&void 0!==c&&c.some(Dt=>!Dt.id||!Dt.type||!Dt.serviceEndpoint))throw new Error("One or more services are missing required properties");const et=yield n.generateKey({algorithm:"Ed25519"}),ft=yield n.getPublicKey({keyUri:et}),at=yield al.identityKeyToIdentifier({identityKey:ft}),dt=Object.assign(Object.assign({id:at},i.alsoKnownAs&&{alsoKnownAs:i.alsoKnownAs}),i.controllers&&{controller:i.controllers}),Mt=[...null!==(f=i.verificationMethods)&&void 0!==f?f:[]];Mt?.some(Dt=>{var Kt;return"0"===(null===(Kt=Dt.id)||void 0===Kt?void 0:Kt.split("#").pop())})||Mt.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const Dt of Mt){const Kt=Dt.id&&"0"===Dt.id.split("#").pop()?et:yield n.generateKey({algorithm:Dt.algorithm}),Wt=yield n.getPublicKey({keyUri:Kt});let En=null!==($=null!==(V=Dt.id)&&void 0!==V?V:Wt.kid)&&void 0!==$?$:yield Zo({jwk:Wt});En=`${at}#${Rp(En)}`,null!==(D=dt.verificationMethod)&&void 0!==D||(dt.verificationMethod=[]),dt.verificationMethod.push({id:En,type:"JsonWebKey",controller:null!==(q=Dt.controller)&&void 0!==q?q:at,publicKeyJwk:Wt});for(const Tn of null!==(De=Dt.purposes)&&void 0!==De?De:[])dt[Tn]||(dt[Tn]=[]),dt[Tn].push(En)}null===(Re=i.services)||void 0===Re||Re.forEach(Dt=>{var Kt;null!==(Kt=dt.service)&&void 0!==Kt||(dt.service=[]),Dt.id=`${at}#${Dt.id.split("#").pop()}`,dt.service.push(Dt)});const Pt=new iy({uri:at,document:dt,metadata:Object.assign({published:!1},i.types&&{types:i.types}),keyManager:n});if(null===(Oe=i.publish)||void 0===Oe||Oe){const Dt=yield r.publish({did:Pt,gatewayUri:i.gatewayUri});Pt.metadata=Dt.didDocumentMetadata}return Pt})}static import(n){return rd(this,arguments,void 0,function*({portableDid:i,keyManager:l=new Pm}){var h;const c=Ia.parse(i.uri);if(c?.method!==r.methodName)throw new Ks(Bs.MethodNotSupported,"Method not supported");const f=yield iy.import({portableDid:i,keyManager:l});if(null===(h=f.document.verificationMethod)||void 0===h||!h.some(V=>{var $;return"0"===(null===($=V.id)||void 0===$?void 0:$.split("#").pop())}))throw new Ks(Bs.InvalidDidDocument,"DID document must contain an Identity Key");return f})}static getSigningMethod(n){return rd(this,arguments,void 0,function*({didDocument:i,methodId:l="#0"}){var h;const c=Ia.parse(i.id);if(c&&c.method!==this.methodName)throw new Ks(Bs.MethodNotSupported,`Method not supported: ${c.method}`);const f=null===(h=i.verificationMethod)||void 0===h?void 0:h.find(V=>{var $,D;return Rp(V.id)===(null!==($=Rp(l))&&void 0!==$?$:Rp(null===(D=i.assertionMethod)||void 0===D?void 0:D[0]))});if(!f||!f.publicKeyJwk)throw new Ks(Bs.InternalError,"A verification method intended for signing could not be determined from the DID Document");return f})}static publish(n){return rd(this,arguments,void 0,function*({did:i,gatewayUri:l=r9}){return yield oy.put({did:i,gatewayUri:l})})}static resolve(n){return rd(this,arguments,void 0,function*(i,l={}){var h;const c=null!==(h=l?.gatewayUri)&&void 0!==h?h:r9;try{yield al.identifierToIdentityKey({didUri:i});const{didDocument:f,didDocumentMetadata:V}=yield oy.get({didUri:i,gatewayUri:c});return Object.assign(Object.assign({},Cw),{didDocument:f,didDocumentMetadata:V})}catch(f){if(!(f instanceof Ks))throw new Error(f);return Object.assign(Object.assign({},Cw),{didResolutionMetadata:Object.assign({error:f.code},f.message&&{errorMessage:f.message})})}})}}return r.methodName="dht",r})();class oy{static get(t){return rd(this,arguments,void 0,function*({didUri:n,gatewayUri:i}){const l=al.identifierToIdentityKeyBytes({didUri:n}),h=yield oy.pkarrGet({gatewayUri:i,publicKeyBytes:l}),c=yield al.parseBep44GetMessage({bep44Message:h}),f=yield oy.fromDnsPacket({didUri:n,dnsPacket:c});return f.didDocumentMetadata.versionId=h.seq.toString(),f})}static put(t){return rd(this,arguments,void 0,function*({did:n,gatewayUri:i}){const l=yield oy.toDnsPacket({didDocument:n.document,didMetadata:n.metadata,authoritativeGatewayUris:[i]}),h=yield al.createBep44PutMessage({dnsPacket:l,publicKeyBytes:al.identifierToIdentityKeyBytes({didUri:n.uri}),signer:yield n.getSigner({methodId:"0"})}),c=yield oy.pkarrPut({gatewayUri:i,bep44Message:h});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:c,versionId:h.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return rd(this,arguments,void 0,function*({gatewayUri:n,publicKeyBytes:i}){const l=er.U$.uint8Array(i).toBase32Z(),h=new URL(l,n).href;let c;try{if(c=yield fetch(h,{method:"GET"}),!c.ok)throw new Ks(Bs.NotFound,`Pkarr record not found for: ${l}`)}catch($){throw $ instanceof Ks?$:new Ks(Bs.InternalError,`Failed to fetch Pkarr record: ${$.message}`)}const f=yield c.arrayBuffer();if(!f)throw new Ks(Bs.NotFound,`Pkarr record not found for: ${l}`);if(f.byteLength<72)throw new Ks(Bs.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${f.byteLength}`);if(f.byteLength>1072)throw new Ks(Bs.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${f.byteLength}`);return{k:i,seq:Number(new DataView(f).getBigUint64(64)),sig:new Uint8Array(f,0,64),v:new Uint8Array(f,72)}})}static pkarrPut(t){return rd(this,arguments,void 0,function*({gatewayUri:n,bep44Message:i}){const l=er.U$.uint8Array(i.k).toBase32Z(),h=new URL(l,n).href,c=new Uint8Array(i.v.length+72);let f;c.set(i.sig,0),new DataView(c.buffer).setBigUint64(i.sig.length,BigInt(i.seq)),c.set(i.v,i.sig.length+8);try{f=yield fetch(h,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:c})}catch(V){throw new Ks(Bs.InternalError,`Failed to put Pkarr record for identifier ${l}: ${V.message}`)}return f.ok})}static fromDnsPacket(t){return rd(this,arguments,void 0,function*({didUri:n,dnsPacket:i}){var l,h,c;const f={id:n},V={published:!0},$=new Map;for(const D of null!==(l=i?.answers)&&void 0!==l?l:[]){if("TXT"!==D.type)continue;const q=D.name.split(".")[0].substring(1);switch(!0){case q.startsWith("aka"):{const De=al.parseTxtDataToString(D.data);f.alsoKnownAs=De.split(xu);break}case q.startsWith("cnt"):{const De=al.parseTxtDataToString(D.data);f.controller=De.includes(xu)?De.split(xu):De;break}case q.startsWith("k"):{const{id:De,t:Re,k:Oe,c:je,a:et}=al.parseTxtDataToObject(D.data),ft=er.U$.base64Url(Oe).toUint8Array(),at=yf[Number(Re)];let dt=yield al.keyConverter(at).bytesToPublicKey({publicKeyBytes:ft});dt.alg=et||a9[Number(Re)];const Mt="k0"===q?"0":void 0!==De?De:yield Zo({jwk:dt});null!==(h=f.verificationMethod)&&void 0!==h||(f.verificationMethod=[]);const Pt=`${n}#${Mt}`;f.verificationMethod.push({id:Pt,type:"JsonWebKey",controller:je??n,publicKeyJwk:dt}),$.set(q,Pt);break}case q.startsWith("s"):{const De=al.parseTxtDataToObject(D.data),{id:Re,t:Oe,se:je}=De,et=n9(De,["id","t","se"]),ft=je.includes(xu)?je.split(xu):[je],at=Object.fromEntries(Object.entries(et).map(([dt,Mt])=>[dt,Mt.includes(xu)?Mt.split(xu):Mt]));null!==(c=f.service)&&void 0!==c||(f.service=[]),f.service.push(Object.assign(Object.assign({},at),{id:`${n}#${Re}`,type:Oe,serviceEndpoint:ft}));break}case q.startsWith("typ"):{const{id:De}=al.parseTxtDataToObject(D.data);V.types=De.split(xu).map(Re=>Number(Re));break}case q.startsWith("did"):{const De=at=>at.split(xu).map(dt=>$.get(dt)).filter(dt=>"string"==typeof dt),{auth:Re,asm:Oe,del:je,inv:et,agm:ft}=al.parseTxtDataToObject(D.data);Re&&(f.authentication=De(Re)),Oe&&(f.assertionMethod=De(Oe)),je&&(f.capabilityDelegation=De(je)),et&&(f.capabilityInvocation=De(et)),ft&&(f.keyAgreement=De(ft));break}}}return{didDocument:f,didDocumentMetadata:V,didResolutionMetadata:{}}})}static toDnsPacket(t){return rd(this,arguments,void 0,function*({didDocument:n,didMetadata:i,authoritativeGatewayUris:l,previousDidProof:h}){var c,f,V,$,D;const q=[],De=[],Re=new Map,Oe=[],je=[];if(void 0!==h){const{signature:at,previousDid:dt}=h;yield al.validatePreviousDidProof({newDid:n.id,previousDidProof:h}),q.push({type:"TXT",name:"_prv._did.",ttl:tv,data:`id=${dt};s=${at}`})}if(n.alsoKnownAs&&q.push({type:"TXT",name:"_aka._did.",ttl:tv,data:n.alsoKnownAs.join(xu)}),n.controller){const at=Array.isArray(n.controller)?n.controller.join(xu):n.controller;q.push({type:"TXT",name:"_cnt._did.",ttl:tv,data:at})}for(const[at,dt]of null!==(f=null===(c=n.verificationMethod)||void 0===c?void 0:c.entries())&&void 0!==f?f:[]){const Mt=`k${at}`;je.push(Mt);let Pt=dt.id.split("#").pop();Re.set(Pt,Mt);const Dt=dt.publicKeyJwk;if(!Dt?.crv||!(Dt.crv in s9))throw new Ks(Bs.InvalidPublicKeyType,`Verification method '${dt.id}' contains an unsupported key type: ${null!==(V=Dt?.crv)&&void 0!==V?V:"undefined"}`);const Kt=yf[Dt.crv],Wt=yield al.keyConverter(Dt.crv).publicKeyToBytes({publicKey:Dt}),Tn=[`t=${Kt}`,`k=${er.U$.uint8Array(Wt).toBase64Url()}`];"0"!==Pt&&(yield Zo({jwk:Dt}))!==Pt&&Tn.unshift(`id=${Pt}`),Dt.alg!==a9[Kt]&&Tn.push(`a=${Dt.alg}`),dt.controller!==n.id&&Tn.push(`c=${dt.controller}`),q.push({type:"TXT",name:`_${Mt}._did.`,ttl:tv,data:Tn.join(";")})}null===($=n.service)||void 0===$||$.forEach((at,dt)=>{const Mt=`s${dt}`;Oe.push(Mt);let{id:Pt,type:Dt,serviceEndpoint:Kt}=at,Wt=n9(at,["id","type","serviceEndpoint"]);Pt=Rp(Pt),Kt=Array.isArray(Kt)?Kt.join(","):Kt;const Tn=Object.entries(Object.assign({id:Pt,t:Dt,se:Kt},Wt)).map(([rr,Pn])=>`${rr}=${Pn}`).join(";"),Rn=al.chunkDataIfNeeded(Tn);q.push({type:"TXT",name:`_${Mt}._did.`,ttl:tv,data:Rn})});const et=["v=0"];if(je.length&&et.push(`vm=${je.join(xu)}`),Object.keys(u6).forEach(at=>{var dt;const Mt=null===(dt=n[at])||void 0===dt?void 0:dt.map(Pt=>Re.get(Pt.split("#").pop()));Mt&&et.push(`${o9[at]}=${Mt.join(xu)}`)}),Oe.length&&et.push(`svc=${Oe.join(xu)}`),null!==(D=i.types)&&void 0!==D&&D.length){const dt=i.types.map(Mt=>"string"==typeof Mt?i9[Mt]:Mt);q.push({type:"TXT",name:"_typ._did.",ttl:tv,data:`id=${dt.join(xu)}`})}q.push({type:"TXT",name:"_did."+oy.getUniqueDidSuffix(n.id)+".",ttl:tv,data:et.join(";")});for(const at of l||[])De.push({type:"NS",name:"_did."+oy.getUniqueDidSuffix(n.id)+".",ttl:tv,data:at+"."});return{id:0,type:"response",flags:AE.hB,answers:[...q,...De]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class al{static createBep44PutMessage(t){return rd(this,arguments,void 0,function*({dnsPacket:n,publicKeyBytes:i,signer:l}){const h=Math.ceil(Date.now()/1e3),c=(0,AE.lF)(n),f=LC.A.encode({seq:h,v:c}).subarray(1,-1);if(f.length>1e3)throw new Ks(Bs.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${f.length} bytes`);return{k:i,seq:h,sig:yield l.sign({data:f}),v:c}})}static identifierToIdentityKey(t){return rd(this,arguments,void 0,function*({didUri:n}){let i=al.identifierToIdentityKeyBytes({didUri:n});return yield da.bytesToPublicKey({publicKeyBytes:i})})}static identifierToIdentityKeyBytes({didUri:t}){const n=Ia.parse(t);if(!n)throw new Ks(Bs.InvalidDid,`Invalid DID URI: ${t}`);if(n.method!==h6.methodName)throw new Ks(Bs.MethodNotSupported,`Method not supported: ${n.method}`);let i;try{i=er.U$.base32Z(n.id).toUint8Array()}catch{throw new Ks(Bs.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==i.length)throw new Ks(Bs.InvalidPublicKeyLength,`Invalid public key length: ${i.length}`);return i}static identityKeyToIdentifier(t){return rd(this,arguments,void 0,function*({identityKey:n}){const i=yield da.publicKeyToBytes({publicKey:n}),l=er.U$.uint8Array(i).toBase32Z();return`did:${h6.methodName}:${l}`})}static keyConverter(t){const i={Ed25519:da,"P-256":{publicKeyToBytes:l=>rd(this,[l],void 0,function*({publicKey:h}){const c=yield la.publicKeyToBytes({publicKey:h});return yield la.compressPublicKey({publicKeyBytes:c})}),bytesToPublicKey:la.bytesToPublicKey,privateKeyToBytes:la.privateKeyToBytes,bytesToPrivateKey:la.bytesToPrivateKey},secp256k1:{publicKeyToBytes:l=>rd(this,[l],void 0,function*({publicKey:h}){const c=yield ca.publicKeyToBytes({publicKey:h});return yield ca.compressPublicKey({publicKeyBytes:c})}),bytesToPublicKey:ca.bytesToPublicKey,privateKeyToBytes:ca.privateKeyToBytes,bytesToPrivateKey:ca.bytesToPrivateKey},X25519:kE}[t];if(!i)throw new Ks(Bs.InvalidPublicKeyType,`Unsupported curve: ${t}`);return i}static parseBep44GetMessage(t){return rd(this,arguments,void 0,function*({bep44Message:n}){const i=yield da.bytesToPublicKey({publicKeyBytes:n.k}),l=LC.A.encode({seq:n.seq,v:n.v}).subarray(1,-1);if(!(yield da.verify({key:i,signature:n.sig,data:l})))throw new Ks(Bs.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,AE.D4)(n.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((n,i)=>{const[l,h]=i.split("=");return n[l]=h,n},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return er.U$.uint8Array(t).toString();if(Array.isArray(t))return t.map(n=>this.parseTxtDataToString(n)).join("");throw new Ks(Bs.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return rd(this,arguments,void 0,function*({newDid:n,previousDidProof:i}){const l=yield al.identifierToIdentityKey({didUri:i.previousDid}),h=al.identifierToIdentityKeyBytes({didUri:n}),c=er.U$.base64Url(i.signature).toUint8Array();if(!(yield da.verify({key:l,data:h,signature:c})))throw new Ks(Bs.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const n=[];for(let i=0;i<t.length;i+=255)n.push(t.slice(i,i+255));return n}}var p6=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};let RU=(()=>{class r extends t9{static create(){return p6(this,arguments,void 0,function*({keyManager:n=new Pm,options:i={}}={}){var l,h,c,f;if(i.algorithm&&i.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(i.verificationMethods&&1!==i.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const V=null!==(f=null!==(l=i.algorithm)&&void 0!==l?l:null===(c=null===(h=i.verificationMethods)||void 0===h?void 0:h[0])||void 0===c?void 0:c.algorithm)&&void 0!==f?f:"Ed25519",$=yield n.generateKey({algorithm:V}),D=yield n.getPublicKey({keyUri:$}),q=er.U$.object(D).toBase64Url(),De=`did:${r.methodName}:${q}`,Oe=(yield r.resolve(De)).didDocument;return new iy({uri:De,document:Oe,metadata:{},keyManager:n})})}static getSigningMethod(n){return p6(this,arguments,void 0,function*({didDocument:i}){var l;const h=Ia.parse(i.id);if(h&&h.method!==this.methodName)throw new Ks(Bs.MethodNotSupported,`Method not supported: ${h.method}`);const[c]=null!==(l=i.verificationMethod)&&void 0!==l?l:[];if(!c||!c.publicKeyJwk)throw new Ks(Bs.InternalError,"A verification method intended for signing could not be determined from the DID Document");return c})}static import(n){return p6(this,arguments,void 0,function*({portableDid:i,keyManager:l=new Pm}){const h=Ia.parse(i.uri);if(h?.method!==r.methodName)throw new Ks(Bs.MethodNotSupported,"Method not supported");const c=yield iy.import({portableDid:i,keyManager:l});if(1!==c.document.verificationMethod.length)throw new Ks(Bs.InvalidDidDocument,"DID document must contain exactly one verification method");return c})}static resolve(n,i){return p6(this,void 0,void 0,function*(){const l=Ia.parse(n);let h;try{h=er.U$.base64Url(l.id).toObject()}catch{}if(!l||!h)return Object.assign(Object.assign({},Cw),{didResolutionMetadata:{error:"invalidDid"}});if(l.method!==r.methodName)return Object.assign(Object.assign({},Cw),{didResolutionMetadata:{error:"methodNotSupported"}});const c={"@context":["https://www.w3.org/ns/did/v1"],id:l.uri},f=`${c.id}#0`;switch(c.verificationMethod=[{id:f,type:"JsonWebKey",controller:c.id,publicKeyJwk:h}],c.authentication=[f],c.assertionMethod=[f],c.capabilityInvocation=[f],c.capabilityDelegation=[f],c.keyAgreement=[f],h.use){case"sig":delete c.keyAgreement;break;case"enc":delete c.authentication,delete c.assertionMethod,delete c.capabilityInvocation,delete c.capabilityDelegation}return Object.assign(Object.assign({},Cw),{didDocument:c})})}}return r.methodName="jwk",r})();var Ow=_(81447),BU=_(94787);class LU{constructor({db:t,location:n="DATA/DID_RESOLVERCACHE",ttl:i="15m"}={}){this.cache=t??new BU.Level(n),this.ttl=Ow(i)}get(t){return function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{const n=yield this.cache.get(t),i=JSON.parse(n);return Date.now()>=i.ttlMillis?void this.cache.nextTick(()=>this.cache.del(t)):i.value}catch(n){if(n.notFound)return;throw n}})}set(t,n){const i={ttlMillis:Date.now()+this.ttl,value:n},l=JSON.stringify(i);return this.cache.put(t,l)}delete(t){return this.cache.del(t)}clear(){return this.cache.clear()}close(){return this.cache.close()}}const UU={get:function(r){return null},set:function(r,t){return null},delete:function(r){return null},clear:function(){return null},close:function(){return null}};var c9=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class l9{constructor({cache:t,didResolvers:n}){this.didResolvers=new Map,this.cache=t||UU;for(const i of n)this.didResolvers.set(i.methodName,i)}resolve(t,n){return c9(this,void 0,void 0,function*(){const i=Ia.parse(t);if(!i)return Object.assign(Object.assign({},Cw),{didResolutionMetadata:{error:Bs.InvalidDid,errorMessage:`Invalid DID URI: ${t}`}});const l=this.didResolvers.get(i.method);if(!l)return Object.assign(Object.assign({},Cw),{didResolutionMetadata:{error:Bs.MethodNotSupported,errorMessage:`Method not supported: ${i.method}`}});const h=yield this.cache.get(i.uri);if(h)return h;{const c=yield l.resolve(i.uri,n);return c.didResolutionMetadata.error||(yield this.cache.set(i.uri,c)),c}})}dereference(t,n){return c9(this,void 0,void 0,function*(){const i=Ia.parse(t);if(!i)return{dereferencingMetadata:{error:Bs.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:l,didResolutionMetadata:h,didDocumentMetadata:c}=yield this.resolve(i.uri);if(!l)return{dereferencingMetadata:{error:h.error},contentStream:null,contentMetadata:{}};if(!i.fragment||i.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:l,contentMetadata:c};const{service:f=[],verificationMethod:V=[]}=l,$=new Set([t,i.fragment,`#${i.fragment}`]);let D;for(let q of V)if($.has(q.id)){D=q;break}for(let q of f)if($.has(q.id)){D=q;break}return D?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:D,contentMetadata:h}:{dereferencingMetadata:{error:Bs.NotFound},contentStream:null,contentMetadata:{}}})}}const d9={protocol:"http://identity.foundation/protocols/web5/identity-store",published:!1,types:{portableDid:{schema:"https://identity.foundation/schemas/web5/portable-did",dataFormats:["application/json"]},identityMetadata:{schema:"https://identity.foundation/schemas/web5/identity-metadata",dataFormats:["application/json"]}},structure:{portableDid:{},identityMetadata:{}}},FU={protocol:"http://identity.foundation/protocols/web5/jwk-store",published:!1,types:{privateJwk:{schema:"https://identity.foundation/schemas/web5/private-jwk",dataFormats:["application/json"]}},structure:{privateJwk:{}}};function u9(r){return!(!r||"object"!=typeof r||null===r)&&"uri"in r&&"document"in r&&"metadata"in r&&(!("keyManager"in r)||void 0===r.keyManager)}var OE=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};const th="^";class $U extends Pm{constructor(){super(),this._predefinedKeys=new Map,this._keyGenerator=this._predefinedKeys.keys()}addPredefinedKeys({privateKeys:t}){var n;return OE(this,void 0,void 0,function*(){const i={};for(const l of t)null!==(n=l.kid)&&void 0!==n||(l.kid=yield Zo({jwk:l})),i[yield this.getKeyUri({key:l})]=l;this._predefinedKeys=new Map(Object.entries(i)),this._keyGenerator=this._predefinedKeys.keys()})}exportKey({keyUri:t}){return OE(this,void 0,void 0,function*(){const n=this._predefinedKeys.get(t);if(!n)throw new Error(`DeterministicKeyGenerator.exportKey: Key not found: ${t}`);return n})}generateKey(t){return OE(this,void 0,void 0,function*(){const{value:n,done:i}=this._keyGenerator.next();if(i)throw new Error("Ran out of predefined keys");return n})}getPublicKey({keyUri:t}){return OE(this,void 0,void 0,function*(){const n=this._predefinedKeys.get(t);if(!n)throw new Error(`DeterministicKeyGenerator.getPublicKey: Key not found: ${t}`);return function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n}(n,["d"])})}sign({keyUri:t,data:n}){return OE(this,void 0,void 0,function*(){const i=this._predefinedKeys.get(t);if(!i)throw new Error(`DeterministicKeyGenerator.sign: Key not found: ${t}`);return yield da.sign({data:n,key:i})})}}function sy({agent:r,tenant:t,didUri:n}){return OE(this,void 0,void 0,function*(){if(t)return t;if(r.agentDid)return r.agentDid.uri;if(!n)throw new Error("Failed to determine tenant DID: 'agent.agentDid', 'tenant', and 'didUri' are undefined");return n})}var nh=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class TR{constructor(){this.name="DwnDataStore",this._cache=new er.LC({ttl:Ow("15 minutes"),max:100}),this._index=new er.LC({ttl:Ow("2 hours"),max:1e3}),this._protocolInitializedCache=new er.LC({ttl:Ow("1 hour"),max:1e3}),this._recordProperties={dataFormat:"application/json"}}delete({id:t,agent:n,tenant:i}){return nh(this,void 0,void 0,function*(){const l=yield sy({agent:n,tenant:i,didUri:t});let h=yield this.lookupRecordId({id:t,tenantDid:l,agent:n});if(!h)return!1;const{reply:{status:c}}=yield n.dwn.processRequest({author:l,target:l,messageType:Na.RecordsDelete,messageParams:{recordId:h}});if(202===c.code)return this._index.delete(`${l}${th}${t}`),this._cache.delete(h),!0;throw new Error(`${this.name}: Failed to delete '${t}' from store: (${c.code}) ${c.detail}`)})}get({id:t,agent:n,tenant:i,useCache:l=!1}){return nh(this,void 0,void 0,function*(){const h=yield sy({agent:n,tenant:i,didUri:t});let c=yield this.lookupRecordId({id:t,tenantDid:h,agent:n});if(c)return yield this.getRecord({recordId:c,tenantDid:h,agent:n,useCache:l})})}list({agent:t,tenant:n}){return nh(this,void 0,void 0,function*(){const i=yield sy({tenant:n,agent:t});return yield this.getAllRecords({agent:t,tenantDid:i})})}set({id:t,data:n,tenant:i,agent:l,preventDuplicates:h=!0,useCache:c=!1}){return nh(this,void 0,void 0,function*(){const f=yield sy({agent:l,tenant:i,didUri:t});if(yield this.initialize({tenant:f,agent:l}),h&&(yield this.lookupRecordId({id:t,tenantDid:f,agent:l})))throw new Error(`${this.name}: Import failed due to duplicate entry for: ${t}`);const V=er.U$.object(n).toUint8Array(),{message:$,reply:{status:D}}=yield l.dwn.processRequest({author:f,target:f,messageType:Na.RecordsWrite,messageParams:Object.assign({},this._recordProperties),dataStream:new Blob([V],{type:"application/json"})});if(!$||202!==D.code)throw new Error(`${this.name}: Failed to write data to store for: ${t}`);this._index.set(`${f}${th}${t}`,$.recordId),c&&this._cache.set($.recordId,n)})}initialize({tenant:t,agent:n}){return nh(this,void 0,void 0,function*(){const i=yield sy({agent:n,tenant:t});if(this._protocolInitializedCache.has(i))return;const{reply:{status:l,entries:h}}=yield n.dwn.processRequest({author:i,target:i,messageType:Na.ProtocolsQuery,messageParams:{filter:{protocol:this._recordProtocolDefinition.protocol}}});if(200!==l.code)throw new Error(`Failed to query for protocols: ${l.code} - ${l.detail}`);0===h?.length&&(yield this.installProtocol(i,n)),this._protocolInitializedCache.set(i,!0)})}getAllRecords(t){return nh(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DwnDataStore must implement getAllRecords()")})}getRecord({recordId:t,tenantDid:n,agent:i,useCache:l}){var h;return nh(this,void 0,void 0,function*(){if(l){const V=this._cache.get(t);if(V)return V}const{reply:c}=yield i.dwn.processRequest({author:n,target:n,messageType:Na.RecordsRead,messageParams:{filter:{recordId:t}}});if(null===(h=c.record)||void 0===h||!h.data)throw new Error(`${this.name}: Failed to read data from DWN for: ${t}`);const f=yield er.VS.consumeToJson({readable:c.record.data});return l&&this._cache.set(t,f),f})}installProtocol(t,n){return nh(this,void 0,void 0,function*(){const{reply:{status:i}}=yield n.dwn.processRequest({author:t,target:t,messageType:Na.ProtocolsConfigure,messageParams:{definition:this._recordProtocolDefinition}});if(202!==i.code)throw new Error(`Failed to install protocol: ${i.code} - ${i.detail}`)})}lookupRecordId({id:t,tenantDid:n,agent:i}){return nh(this,void 0,void 0,function*(){let l=this._index.get(`${n}${th}${t}`,{updateAgeOnGet:!0});return l||(yield this.getAllRecords({agent:i,tenantDid:n}),l=this._index.get(`${n}${th}${t}`)),l})}}class IR{constructor(){this.name="InMemoryDataStore",this.store=new Map}delete({id:t,agent:n,tenant:i}){return nh(this,void 0,void 0,function*(){const l=yield sy({agent:n,tenant:i,didUri:t});return!!this.store.has(`${l}${th}${t}`)&&(this.store.delete(`${l}${th}${t}`),!0)})}get({id:t,agent:n,tenant:i}){return nh(this,void 0,void 0,function*(){const l=yield sy({agent:n,tenant:i,didUri:t});return this.store.get(`${l}${th}${t}`)})}list({agent:t,tenant:n}){return nh(this,void 0,void 0,function*(){const i=yield sy({tenant:n,agent:t}),l=[];for(const[h,c]of this.store.entries())h.startsWith(`${i}${th}`)&&l.push(c);return l})}set({id:t,data:n,tenant:i,agent:l,preventDuplicates:h}){return nh(this,void 0,void 0,function*(){const c=yield sy({agent:l,tenant:i,didUri:t});if(h&&this.store.has(`${c}${th}${t}`))throw new Error(`${this.name}: Import failed due to duplicate entry for: ${t}`);const f=structuredClone(n);this.store.set(`${c}${th}${t}`,f)})}}var ay=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class KU extends TR{constructor(){super(...arguments),this.name="DwnDidStore",this._recordProtocolDefinition=d9,this._recordProperties={dataFormat:"application/json",protocol:this._recordProtocolDefinition.protocol,protocolPath:"portableDid",schema:this._recordProtocolDefinition.types.portableDid.schema}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return ay(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return ay(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return ay(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return ay(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var i;return ay(this,void 0,void 0,function*(){this._index.clear();const{reply:l}=yield t.dwn.processRequest({author:n,target:n,messageType:Na.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let h=[];for(const c of null!==(i=l.entries)&&void 0!==i?i:[]){if(!c.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const f=er.U$.base64Url(c.encodedData).toObject();u9(f)&&(this._index.set(`${n}${th}${f.uri}`,c.recordId),this._cache.set(c.recordId,f),h.push(f))}return h})}}class VU extends IR{constructor(){super(...arguments),this.name="InMemoryDidStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return ay(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return ay(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return ay(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return ay(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var dA=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class zU{constructor({ttl:t="15m"}={}){this.cache=new er.LC({ttl:Ow(t)})}get(t){return dA(this,void 0,void 0,function*(){if(!t)throw new Error("Key cannot be null or undefined");return this.cache.get(t)})}set(t,n){return dA(this,void 0,void 0,function*(){this.cache.set(t,n)})}delete(t){return dA(this,void 0,void 0,function*(){this.cache.delete(t)})}clear(){return dA(this,void 0,void 0,function*(){this.cache.clear()})}close(){return dA(this,void 0,void 0,function*(){})}}var rv=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})},m6=function(r){return r.Create="Create",r.Resolve="Resolve",r}(m6||{});function f9(r,t){return r.messageType===t}class HU extends l9{constructor({agent:t,didMethods:n,resolverCache:i,store:l}){if(!n)throw new TypeError("AgentDidApi: Required parameter missing: 'didMethods'");super({didResolvers:n,cache:i??new zU}),this._didMethods=new Map,this._agent=t,this._store=l??new VU;for(const h of n)this._didMethods.set(h.methodName,h)}get agent(){if(void 0===this._agent)throw new Error("AgentDidApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}create({method:t,tenant:n,options:i,store:l}){return rv(this,void 0,void 0,function*(){const c=yield this.getMethod(t).create({keyManager:this.agent.keyManager,options:i});if(l??1){const{uri:f,document:V,metadata:$}=c,D={uri:f,document:V,metadata:$};yield this._store.set({id:D.uri,data:D,agent:this.agent,tenant:n??D.uri,preventDuplicates:!1,useCache:!0})}return c})}export({didUri:t,tenant:n}){return rv(this,void 0,void 0,function*(){const i=yield this.get({didUri:t,tenant:n});if(!i)throw new Error(`AgentDidApi: Failed to export due to DID not found: ${t}`);return yield i.export()})}get({didUri:t,tenant:n}){return rv(this,void 0,void 0,function*(){const i=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0});return i?yield iy.import({portableDid:i,keyManager:this.agent.keyManager}):void 0})}getSigningMethod({didUri:t,methodId:n}){return rv(this,void 0,void 0,function*(){const i=Ia.parse(t);if(!i)throw new Error(`Invalid DID URI: ${t}`);const l=this.getMethod(i.method),{didDocument:h,didResolutionMetadata:c}=yield this.resolve(t);if(!h)throw new Error(`DID resolution failed for '${t}': ${JSON.stringify(c)}`);return yield l.getSigningMethod({didDocument:h,methodId:n})})}import({portableDid:t,tenant:n}){return rv(this,void 0,void 0,function*(){const i=yield iy.import({keyManager:this.agent.keyManager,portableDid:t}),{uri:l,document:h,metadata:c}=i,f={uri:l,document:h,metadata:c};return yield this._store.set({id:f.uri,data:f,agent:this.agent,tenant:n??f.uri,preventDuplicates:!0,useCache:!0}),i})}delete({didUri:t,tenant:n,deleteKey:i=!0}){return rv(this,void 0,void 0,function*(){const l=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!1});if(!l)throw new Error("AgentDidApi: Could not delete, DID not found");yield this._store.delete({id:t,agent:this.agent,tenant:n}),i&&(yield this.deleteKeys({portableDid:l}))})}deleteKeys({portableDid:t}){return rv(this,void 0,void 0,function*(){for(const n of t.document.verificationMethod||[]){if(!n.publicKeyJwk)continue;const i=yield this.agent.keyManager.getKeyUri({key:n.publicKeyJwk});yield this.agent.keyManager.deleteKey({keyUri:i})}})}processRequest(t){var n;return rv(this,void 0,void 0,function*(){if(f9(t,m6.Create))try{const i=yield this.create(Object.assign({},t.messageParams));return{result:{uri:i.uri,document:i.document,metadata:i.metadata},ok:!0,status:{code:201,message:"Created"}}}catch(i){return{ok:!1,status:{code:500,message:null!==(n=i.message)&&void 0!==n?n:"Unknown error occurred"}}}if(f9(t,m6.Resolve)){const{didUri:i,options:l}=t.messageParams;return{result:yield this.resolve(i,l),ok:!0,status:{code:200,message:"OK"}}}throw new Error(`AgentDidApi: Unsupported request type: ${t.messageType}`)})}getMethod(t){const n=this._didMethods.get(t);if(void 0===n)throw new Error(`DID Method not supported: ${t}`);return n}}var WU=_(85493),h9=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};function p9(r){return DR(r.stream())}function m9(r,t){return h9(this,void 0,void 0,function*(){const n=yield t.dereference(`${r}#dwn`);if(n.dereferencingMetadata.error)throw new Error(`Failed to dereference '${r}#dwn': ${n.dereferencingMetadata.error}`);if(function PU(r){if(!function kU(r){return!(!r||"object"!=typeof r||null===r)&&"id"in r&&"type"in r&&"serviceEndpoint"in r}(r)||"DecentralizedWebNode"!==r.type||!("enc"in r)||!("sig"in r))return!1;const t=n=>"string"==typeof n||Array.isArray(n)&&n.every(i=>"string"==typeof i);return t(r.enc)&&t(r.sig)}(n.contentStream)){const{serviceEndpoint:i}=n.contentStream,l="string"==typeof i?[i]:Array.isArray(i)&&i.every(h=>"string"==typeof h)?i:[];if(l.length>0)return l}return[]})}function GU(r){return ho.getAuthor(r)}function y6(r){return!(!r||"object"!=typeof r||null===r)&&"message"in r&&"object"==typeof r.message&&null!==r.message&&"descriptor"in r.message&&"object"==typeof r.message.descriptor&&null!==r.message.descriptor&&"interface"in r.message.descriptor&&r.message.descriptor.interface===Wi.Records&&"method"in r.message.descriptor&&r.message.descriptor.method===di.Write}function ZU(r){return Vr.getCid(r)}function XU(r,t){return h9(this,void 0,void 0,function*(){const n=t===Kd.CreatedAscending||t===Kd.CreatedDescending?r.descriptor.dateCreated:r.descriptor.datePublished;if(void 0===n)throw new Error("The dateCreated or datePublished property is missing from the record descriptor.");return{messageCid:yield ZU(r),value:n}})}function DR(r){return new WU.s(r)}function CR(r,t){return r.endsWith("/")&&(r=r.slice(0,-1)),t.startsWith("/")&&(t=t.slice(1)),`${r}/${t}`}var cy=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};function JU(r,t){return t.descriptor.interface+t.descriptor.method===r}class qU{constructor({agent:t,dwn:n}){this._agent=t,this._dwn=n}get agent(){if(void 0===this._agent)throw new Error("AgentDwnApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}get node(){return this._dwn}static createDwn({dataPath:t,dataStore:n,didResolver:i,eventLog:l,eventStream:h,messageStore:c,tenantGate:f,resumableTaskStore:V}){return cy(this,void 0,void 0,function*(){return n??(n=new UL({blockstoreLocation:`${t}/DWN_DATASTORE`})),i??(i=new l9({didResolvers:[h6,RU],cache:new LU({location:`${t}/DID_RESOLVERCACHE`})})),l??(l=new WL({location:`${t}/DWN_EVENTLOG`})),c??(c=new hR({blockstoreLocation:`${t}/DWN_MESSAGESTORE`,indexLocation:`${t}/DWN_MESSAGEINDEX`})),V??(V=new eU({location:`${t}/DWN_RESUMABLETASKSTORE`})),yield jO.create({dataStore:n,didResolver:i,eventLog:l,eventStream:h,messageStore:c,tenantGate:f,resumableTaskStore:V})})}processRequest(t){return cy(this,void 0,void 0,function*(){const{message:n,dataStream:i}=yield this.constructDwnMessage({request:t}),{subscriptionHandler:l}=t;return{reply:!1!==t.store?yield this._dwn.processMessage(t.target,n,{dataStream:i,subscriptionHandler:l}):{status:{code:202,detail:"Accepted"}},message:n,messageCid:yield Vr.getCid(n)}})}sendRequest(t){return cy(this,void 0,void 0,function*(){const n=yield m9(t.target,this.agent.did);if(0===n.length)throw new Error(`AgentDwnApi: DID Service is missing or malformed: ${t.target}#dwn`);let i,l,h,c;if("messageCid"in t)({message:l,data:h}=yield this.getDwnMessage({author:t.author,messageCid:t.messageCid,messageType:t.messageType})),i=t.messageCid;else{if(({message:l}=yield this.constructDwnMessage({request:t})),t.dataStream&&!(t.dataStream instanceof Blob))throw new Error("AgentDwnApi: DataStream must be provided as a Blob");h=t.dataStream,c=t.subscriptionHandler}const f=yield this.sendDwnRpcRequest({targetDid:t.target,dwnEndpointUrls:n,message:l,data:h,subscriptionHandler:c});return i??(i=yield Vr.getCid(l)),{reply:f,message:l,messageCid:i}})}sendDwnRpcRequest({targetDid:t,dwnEndpointUrls:n,message:i,data:l,subscriptionHandler:h}){return cy(this,void 0,void 0,function*(){const c=[];if(i.descriptor.method===di.Subscribe&&void 0===h)throw new Error("AgentDwnApi: Subscription handler is required for subscription requests.");for(let f of n)try{if(void 0!==h){if(!(yield this.agent.rpc.getServerInfo(f)).webSocketSupport){c.push({url:f,message:"WebSocket support is not enabled on the server."});continue}const D=new URL(f);D.protocol="http:"===D.protocol?"ws:":"wss:",f=D.toString()}return yield this.agent.rpc.sendDwnRequest({dwnUrl:f,targetDid:t,message:i,data:l,subscriptionHandler:h})}catch(V){c.push({url:f,message:V instanceof Error?V.message:"Unknown error"})}throw new Error(`Failed to send DWN RPC request: ${JSON.stringify(c)}`)})}constructDwnMessage({request:t}){var n;return cy(this,void 0,void 0,function*(){const i=t.rawMessage;let l;if(function YU(r,t){return r.messageType===t}(t,Na.RecordsWrite)){const V=t.messageParams;if(t.dataStream&&!V?.data){const{dataStream:$}=t;let D;if($ instanceof Blob)D=p9($),l=p9($);else if($ instanceof ReadableStream){const[q,De]=$.tee();D=DR(q),l=DR(De)}i||(V.dataCid=yield nl.computeDagPbCidFromStream(D),null!==(n=V.dataSize)&&void 0!==n||(V.dataSize=D.bytesRead))}}const h=yield this.getSigner(t.author),c=VN[t.messageType],f=i?yield c.parse(i):yield c.create(Object.assign(Object.assign({},t.messageParams),{signer:h}));return y6(f)&&t.signAsOwner&&(yield f.signAsOwner(h)),{message:f.message,dataStream:l}})}getSigner(t){return cy(this,void 0,void 0,function*(){if(t===this.agent.agentDid.uri){const n=yield this.agent.agentDid.getSigner();return{algorithm:n.algorithm,keyId:n.keyId,sign:i=>cy(this,void 0,void 0,function*(){return yield n.sign({data:i})})}}try{const n=yield this.agent.did.getSigningMethod({didUri:t});if(!n.publicKeyJwk)throw new Error(`Verification method '${n.id}' does not contain a public key in JWK format`);const i=yield this.agent.keyManager.getKeyUri({key:n.publicKeyJwk}),l=yield this.agent.keyManager.getPublicKey({keyUri:i}),h=this.agent.keyManager;return{algorithm:WN(l),keyId:n.id,sign:c=>cy(this,void 0,void 0,function*(){return yield h.sign({data:c,keyUri:i})})}}catch(n){throw new Error(`AgentDwnApi: Unable to get signer for author '${t}': ${n.message}`)}})}getDwnMessage({author:t,messageCid:n}){return cy(this,void 0,void 0,function*(){const i=yield this.getSigner(t),l=yield VN[Na.MessagesRead].create({messageCid:n,signer:i}),h=yield this._dwn.processMessage(t,l.message);if(200!==h.status.code)throw new Error(`AgentDwnApi: Failed to read message, response status: ${h.status.code} - ${h.status.detail}`);const c=h.entry;let V={message:c.message};if(y6(c)&&c.data){const $=yield er.VS.consumeToBytes({readable:c.data});V.data=new Blob([$],{type:c.message.descriptor.dataFormat})}return V})}}var g6=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class uA{static registerTenant(t,n){return g6(this,void 0,void 0,function*(){const i=CR(t,"registration"),l=CR(i,"terms-of-service"),h=CR(i,"proof-of-work"),c=yield fetch(l,{method:"GET"});if(200!==c.status){const je=c.status,et=c.statusText,ft=yield c.text();throw new Error(`Failed fetching terms-of-service: ${je} ${et}: ${ft}`)}const f=yield c.text(),V=yield fetch(h,{method:"GET"}),{challengeNonce:$,maximumAllowedHashValue:D}=yield V.json(),q={did:n,termsOfServiceHash:yield uA.hashAsHexString(f)},De=yield uA.findQualifiedResponseNonce({challengeNonce:$,maximumAllowedHashValue:D,requestData:JSON.stringify(q)}),Oe=yield fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({registrationData:q,proofOfWork:{challengeNonce:$,responseNonce:De}})});if(200!==Oe.status){const je=Oe.status,et=Oe.statusText,ft=yield Oe.text();throw new Error(`Registration failed: ${je} ${et}: ${ft}`)}})}static hashAsHexString(t){return g6(this,void 0,void 0,function*(){const n=yield mR.digest({data:er.U$.string(t).toUint8Array()});return er.U$.uint8Array(n).toHex()})}static findQualifiedResponseNonce(t){return g6(this,void 0,void 0,function*(){const n=Date.now(),{maximumAllowedHashValue:i,challengeNonce:l,requestData:h}=t,c=BigInt(`0x${i}`);let V,f=1,$=!1;do{V=yield this.generateNonce();const D=yield uA.hashAsHexString(l+V+h);$=BigInt(`0x${D}`)<=c,f++}while(!$);return console.log(`iterations: ${f}, time lapsed: ${Date.now()-n} ms`),V})}static generateNonce(){return g6(this,void 0,void 0,function*(){const t=GN(32);return yield er.U$.uint8Array(t).toHex().toUpperCase()})}}var kR=_(75781),QU=_(36405);const eF=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),y9=Uint8Array.from({length:16},(r,t)=>t);let PR=[y9],OR=[y9.map(r=>(9*r+5)%16)];for(let r=0;r<4;r++)for(let t of[PR,OR])t.push(t[r].map(n=>eF[n]));const g9=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>new Uint8Array(r)),nF=PR.map((r,t)=>r.map(n=>g9[t][n])),rF=OR.map((r,t)=>r.map(n=>g9[t][n])),iF=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),oF=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),v6=(r,t)=>r<<t|r>>>32-t;function v9(r,t,n,i){return 0===r?t^n^i:1===r?t&n|~t&i:2===r?(t|~n)^i:3===r?t&i|n&~i:t^(n|~i)}const b6=new Uint32Array(16);class sF extends QU.D{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:i,h3:l,h4:h}=this;return[t,n,i,l,h]}set(t,n,i,l,h){this.h0=0|t,this.h1=0|n,this.h2=0|i,this.h3=0|l,this.h4=0|h}process(t,n){for(let Re=0;Re<16;Re++,n+=4)b6[Re]=t.getUint32(n,!0);let i=0|this.h0,l=i,h=0|this.h1,c=h,f=0|this.h2,V=f,$=0|this.h3,D=$,q=0|this.h4,De=q;for(let Re=0;Re<5;Re++){const Oe=4-Re,je=iF[Re],et=oF[Re],ft=PR[Re],at=OR[Re],dt=nF[Re],Mt=rF[Re];for(let Pt=0;Pt<16;Pt++){const Dt=v6(i+v9(Re,h,f,$)+b6[ft[Pt]]+je,dt[Pt])+q|0;i=q,q=$,$=0|v6(f,10),f=h,h=Dt}for(let Pt=0;Pt<16;Pt++){const Dt=v6(l+v9(Oe,c,V,D)+b6[at[Pt]]+et,Mt[Pt])+De|0;l=De,De=D,D=0|v6(V,10),V=c,c=Dt}}this.set(this.h1+f+D|0,this.h2+$+De|0,this.h3+q+l|0,this.h4+i+c|0,this.h0+h+V|0)}roundClean(){b6.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const aF=(0,qd.ld)(()=>new sF);var RR=_(25431),ly=_(37099);const cF=(0,qd.AI)("ed25519 seed"),BR=2147483648,b9=new Uint8Array([0]);function w9(r,...t){return"string"==typeof r&&(r=(0,qd.aT)(r)),(0,ly.ee)(r,...t),r}const NR=r=>{if(!Number.isSafeInteger(r)||r<0||r>2**32-1)throw new Error(`Invalid number=${r}. Should be from 0 to 2 ** 32 - 1`);const t=new Uint8Array(4);return(0,qd.O8)(t).setUint32(0,r,!1),t};class w6{get publicKeyRaw(){return Jd.ev.getPublicKey(this.privateKey)}get publicKey(){return(0,qd.Id)(b9,this.publicKeyRaw)}get pubHash(){return aF((0,Tw.s)(this.publicKey))}get fingerprint(){return(0,qd.O8)(this.pubHash).getUint32(0,!1)}get fingerprintHex(){return(0,qd.My)(NR(this.fingerprint))}get parentFingerprintHex(){return(0,qd.My)(NR(this.parentFingerprint))}static fromMasterSeed(t){if(8*(t=w9(t)).length<128||8*t.length>512)throw new Error(`HDKey: wrong seed length=${t.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const n=(0,kR.w)(RR.Zf,cF,t);return new w6({privateKey:n.slice(0,32),chainCode:n.slice(32)})}constructor(t){if(this.depth=0,this.index=0,this.parentFingerprint=0,!t||"object"!=typeof t)throw new Error("HDKey.constructor must not be called directly");if((0,ly.ee)(t.privateKey,32),(0,ly.ee)(t.chainCode,32),this.depth=t.depth||0,this.index=t.index||0,this.parentFingerprint=t.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");this.chainCode=t.chainCode,this.privateKey=t.privateKey}derive(t,n=!1){if(!/^[mM]'?/.test(t))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(t))return this;const i=t.replace(/^[mM]'?\//,"").split("/");let l=this;for(const h of i){const c=/^(\d+)('?)$/.exec(h);if(!c||3!==c.length)throw new Error(`Invalid child index: ${h}`);let f=+c[1];if(!Number.isSafeInteger(f)||f>=BR)throw new Error("Invalid index");(n||"'"===c[2])&&(f+=BR),l=l.deriveChild(f)}return l}deriveChild(t){if(t<BR)throw new Error(`Non-hardened child derivation not possible for Ed25519 (index=${t})`);const n=(0,qd.Id)(b9,this.privateKey,NR(t)),i=(0,kR.w)(RR.Zf,this.chainCode,n);return new w6({chainCode:i.slice(32),depth:this.depth+1,parentFingerprint:this.fingerprint,index:t,privateKey:i.slice(0,32)})}sign(t){return Jd.ev.sign(t,this.privateKey)}verify(t,n){return n=w9(n,64),Jd.ev.verify(n,t,this.publicKeyRaw)}}const _9="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n");function LR(){return(LR=(0,ye.A)(function*(r,t,n,i){const{c:l,dkLen:h,asyncTick:c,DK:f,PRF:V,PRFSalt:$}=function E9(r,t,n,i){(0,ly.tW)(r);const l=(0,qd.tY)({dkLen:32,asyncTick:10},i),{c:h,dkLen:c,asyncTick:f}=l;if((0,ly.ai)(h),(0,ly.ai)(c),(0,ly.ai)(f),h<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const V=(0,qd.ZJ)(t),$=(0,qd.ZJ)(n),D=new Uint8Array(c),q=kR.w.create(r,V),De=q._cloneInto().update($);return{c:h,dkLen:c,asyncTick:f,DK:D,PRF:q,PRFSalt:De}}(r,t,n,i);let D;const q=new Uint8Array(4),De=(0,qd.O8)(q),Re=new Uint8Array(V.outputLen);for(let Oe=1,je=0;je<h;Oe++,je+=V.outputLen){const et=f.subarray(je,je+V.outputLen);De.setInt32(0,Oe,!1),(D=$._cloneInto(D)).update(q).digestInto(Re),et.set(Re.subarray(0,et.length)),yield(0,qd.$h)(l-1,c,()=>{V._cloneInto(D).update(Re).digestInto(Re);for(let ft=0;ft<et.length;ft++)et[ft]^=Re[ft]})}return function x9(r,t,n,i,l){return r.destroy(),t.destroy(),i&&i.destroy(),l.fill(0),n}(V,$,f,D,Re)})).apply(this,arguments)}var _6=_(53813);function S9(r){if("string"!=typeof r)throw new TypeError("Invalid mnemonic type: "+typeof r);return r.normalize("NFKD")}function UR(r){const t=S9(r),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}function M9(r){(0,ly.ee)(r,16,20,24,28,32)}const pF=r=>{const t=8-r.length/4;return new Uint8Array([(0,Tw.s)(r)[0]>>t<<t])};function A9(r){if(!Array.isArray(r)||2048!==r.length||"string"!=typeof r[0])throw new Error("Wordlist: expected array of 2048 strings");return r.forEach(t=>{if("string"!=typeof t)throw new Error(`Wordlist: non-string element: ${t}`)}),_6.Wp.chain(_6.Wp.checksum(1,pF),_6.Wp.radix2(11,!0),_6.Wp.alphabet(r))}function vF(r,t=""){return function uF(r,t,n,i){return LR.apply(this,arguments)}(RR.Zf,UR(r).nfkd,(r=>S9(`mnemonic${r}`))(t),{c:2048,dkLen:64})}var dy=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class bF extends TR{constructor(){super(...arguments),this.name="DwnKeyStore",this._recordProtocolDefinition=FU,this._recordProperties={dataFormat:"application/json",protocol:this._recordProtocolDefinition.protocol,protocolPath:"privateJwk",schema:this._recordProtocolDefinition.types.privateJwk.schema}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return dy(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return dy(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return dy(this,void 0,void 0,function*(){yield n.set.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return dy(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var i;return dy(this,void 0,void 0,function*(){this._index.clear();const{reply:l}=yield t.dwn.processRequest({author:n,target:n,messageType:Na.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let h=[];for(const c of null!==(i=l.entries)&&void 0!==i?i:[]){if(!c.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const f=er.U$.base64Url(c.encodedData).toObject();gR(f)&&(this._index.set(`${n}${th}${r6}${f.kid}`,c.recordId),this._cache.set(c.recordId,f),h.push(f))}return h})}}class wF extends IR{constructor(){super(...arguments),this.name="InMemoryKeyStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return dy(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return dy(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return dy(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return dy(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var rh=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})},I9=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(n[i[l]]=r[i[l]])}return n};const FR={"AES-GCM":{implementation:class fU extends Dm{decrypt(t){return wR(this,void 0,void 0,function*(){return Qg.decrypt(t)})}encrypt(t){return wR(this,void 0,void 0,function*(){return Qg.encrypt(t)})}generateKey({algorithm:t}){return wR(this,void 0,void 0,function*(){const n={A128GCM:128,A192GCM:192,A256GCM:256}[t],i=yield Qg.generateKey({length:n});return i.alg=t,i})}},names:["A128GCM","A192GCM","A256GCM"]},"AES-KW":{implementation:QN,names:["A128KW","A192KW","A256KW"]},Ed25519:{implementation:HN,names:["Ed25519"]},secp256k1:{implementation:s6,names:["ES256K","secp256k1"]},secp256r1:{implementation:s6,names:["ES256","secp256r1"]},"SHA-256":{implementation:yR,names:["SHA-256"]}};class Rw{constructor({agent:t,keyStore:n}={}){this._algorithmInstances=new Map,this._agent=t,this._keyStore=n??new wF}get agent(){if(void 0===this._agent)throw new Error("LocalKeyManager: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}decrypt(t){var{keyUri:n}=t,i=I9(t,["keyUri"]);return rh(this,void 0,void 0,function*(){const l=yield this.getPrivateKey({keyUri:n}),h=this.getAlgorithmName({key:l});return yield this.getAlgorithm({algorithm:h}).decrypt(Object.assign({key:l},i))})}digest(t){throw new Error("Method not implemented.")}encrypt(t){var{keyUri:n}=t,i=I9(t,["keyUri"]);return rh(this,void 0,void 0,function*(){const l=yield this.getPrivateKey({keyUri:n}),h=this.getAlgorithmName({key:l});return yield this.getAlgorithm({algorithm:h}).encrypt(Object.assign({key:l},i))})}exportKey({keyUri:t}){return rh(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){var n;return rh(this,void 0,void 0,function*(){const i=this.getAlgorithmName({key:{alg:t}}),h=yield this.getAlgorithm({algorithm:i}).generateKey({algorithm:t});null!==(n=h.kid)&&void 0!==n||(h.kid=yield Zo({jwk:h}));const c=yield this.getKeyUri({key:h});return yield this._keyStore.set({id:c,data:h,agent:this.agent,preventDuplicates:!1,useCache:!0}),c})}getKeyUri({key:t}){return rh(this,void 0,void 0,function*(){const n=yield Zo({jwk:t});return`${r6}${n}`})}getPublicKey({keyUri:t}){return rh(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return rh(this,void 0,void 0,function*(){if(!gR(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield Zo({jwk:i}));const l=yield this.getKeyUri({key:i});return yield this._keyStore.set({id:l,data:i,agent:this.agent,preventDuplicates:!0,useCache:!0}),l})}sign({keyUri:t,data:n}){return rh(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),l=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:l}).sign({data:n,key:i})})}unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKeyUri:i}){return rh(this,void 0,void 0,function*(){const l=yield this.getPrivateKey({keyUri:i}),h=this.getAlgorithmName({key:l});return yield this.getAlgorithm({algorithm:h}).unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKey:l})})}verify({key:t,signature:n,data:i}){return rh(this,void 0,void 0,function*(){const l=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:l}).verify({key:t,signature:n,data:i})})}wrapKey({unwrappedKey:t,encryptionKeyUri:n}){return rh(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:n}),l=this.getAlgorithmName({key:i});return yield this.getAlgorithm({algorithm:l}).wrapKey({unwrappedKey:t,encryptionKey:i})})}deleteKey({keyUri:t}){return rh(this,void 0,void 0,function*(){if(!(yield this._keyStore.get({id:t,agent:this.agent,useCache:!0})))throw new Error(`Key not found: ${t}`);yield this._keyStore.delete({id:t,agent:this.agent})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=FR[t])||void 0===n?void 0:n.implementation;if(!i)throw new Xi(Yi.AlgorithmNotSupported,`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const l of Object.keys(FR)){const h=FR[l].names;if(n&&h.includes(n))return l;if(i&&h.includes(i))return l}throw new Xi(Yi.AlgorithmNotSupported,`Algorithm not supported based on provided input: alg=${n}, crv=${i}. Please check the documentation for the list of supported algorithms.`)}getPrivateKey({keyUri:t}){return rh(this,void 0,void 0,function*(){const n=yield this._keyStore.get({id:t,agent:this.agent,useCache:!0});if(!n)throw new Error(`Key not found: ${t}`);return n})}}var D9=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};function jR(r){return"object"==typeof r&&null!==r&&"alg"in r&&void 0!==r.alg&&"enc"in r&&void 0!==r.enc}class C9{static decrypt({key:t,encryptedKey:n,joseHeader:i,crypto:l}){return D9(this,void 0,void 0,function*(){switch(i.alg){case"dir":if(void 0!==n)throw new Xi(Yi.InvalidJwe,'JWE "encrypted_key" is not allowed when using "dir" (Direct Encryption Mode).');if(t instanceof Uint8Array)throw new Xi(Yi.InvalidJwe,'Key management "key" must be a Key URI or JWK when using "dir" (Direct Encryption Mode).');return t;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if("number"!=typeof i.p2c)throw new Xi(Yi.InvalidJwe,'JOSE Header "p2c" (PBES2 Count) is missing or not a number.');if("string"!=typeof i.p2s)throw new Xi(Yi.InvalidJwe,'JOSE Header "p2s" (PBES2 salt) is missing or not a string.');if(!(t instanceof Uint8Array))throw new Xi(Yi.InvalidJwe,'Key management "key" must be a Uint8Array when using "PBES2" (Key Encryption Mode).');if(void 0===n)throw new Xi(Yi.InvalidJwe,'JWE "encrypted_key" is required when using "PBES2" (Key Encryption Mode).');let h;try{h=new Uint8Array([...er.U$.string(i.alg).toUint8Array(),0,...er.U$.base64Url(i.p2s).toUint8Array()])}catch{throw new Xi(Yi.EncodingError,'Failed to decode the JOSE Header "p2s" (PBES2 salt) value.')}const c=yield l.deriveKey({algorithm:i.alg,baseKeyBytes:t,iterations:i.p2c,salt:h});if(!c.alg||!["A128KW","A192KW","A256KW"].includes(c.alg))throw new Xi(Yi.AlgorithmNotSupported,`Unsupported Key Encryption Algorithm (alg) value: ${c.alg}`);return yield l.unwrapKey({decryptionKey:c,wrappedKeyBytes:n,wrappedKeyAlgorithm:i.enc})}default:throw new Xi(Yi.AlgorithmNotSupported,`Unsupported "alg" (Algorithm) Header Parameter value: ${i.alg}`)}})}static encrypt({key:t,joseHeader:n,crypto:i}){return D9(this,void 0,void 0,function*(){let l,h;switch(n.alg){case"dir":if(void 0!==h)throw new Xi(Yi.InvalidJwe,'JWE "encrypted_key" is not allowed when using "dir" (Direct Encryption Mode).');if(t instanceof Uint8Array)throw new Xi(Yi.InvalidJwe,'Key management "key" must be a Key URI or JWK when using "dir" (Direct Encryption Mode).');l=t;break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if("number"!=typeof n.p2c)throw new Xi(Yi.InvalidJwe,'JOSE Header "p2c" (PBES2 Count) is missing or not a number.');if("string"!=typeof n.p2s)throw new Xi(Yi.InvalidJwe,'JOSE Header "p2s" (PBES2 salt) is missing or not a string.');if(!(t instanceof Uint8Array))throw new Xi(Yi.InvalidJwe,'Key management "key" must be a Uint8Array when using "PBES2" (Key Encryption Mode).');let c;l=yield i.generateKey({algorithm:n.enc});try{c=new Uint8Array([...er.U$.string(n.alg).toUint8Array(),0,...er.U$.base64Url(n.p2s).toUint8Array()])}catch{throw new Xi(Yi.EncodingError,'Failed to decode the JOSE Header "p2s" (PBES2 salt) value.')}const f=yield i.deriveKey({algorithm:n.alg,baseKeyBytes:t,iterations:n.p2c,salt:c});h=yield i.wrapKey({encryptionKey:f,unwrappedKey:l});break}default:throw new Xi(Yi.AlgorithmNotSupported,`Unsupported "alg" (Algorithm) Header Parameter value: ${n.alg}`)}return{cek:l,encryptedKey:h}})}}function E6(r){return null!==r&&"object"==typeof r&&"encrypt"in r&&"function"==typeof r.encrypt&&"decrypt"in r&&"function"==typeof r.decrypt}function k9(...r){const t=new Set,n=r.filter(Boolean);for(const i of n)for(const l in i){if(t.has(l))return!0;t.add(l)}return!1}var P9=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};function $R(r,t){if(void 0!==t)try{if("string"!=typeof t)throw new Error;return er.U$.base64Url(t).toUint8Array()}catch{throw new Xi(Yi.InvalidJwe,`Failed to decode the JWE Header parameter '${r}' from Base64 URL format to Uint8Array. Ensure the value is properly encoded in Base64 URL format without padding.`)}}class x6{constructor(t){this.ciphertext="",Object.assign(this,t)}static decrypt({jwe:t,key:n,keyManager:i=new Pm,crypto:l=new PE,options:h={}}){var c,f;return P9(this,void 0,void 0,function*(){if(!E6(l))throw new Xi(Yi.OperationNotSupported,'Crypto API does not support the "encrypt" operation.');if(!E6(i))throw new Xi(Yi.OperationNotSupported,'Key Manager does not support the "decrypt" operation.');if(!t.protected&&!t.header&&!t.unprotected)throw new Xi(Yi.InvalidJwe,'JWE is missing the required JOSE header parameters. Please provide at least one of the following: "protected", "header", or "unprotected"');if("string"!=typeof t.ciphertext)throw new Xi(Yi.InvalidJwe,"JWE Ciphertext is missing or not a string.");let V;if(t.protected)try{V=er.U$.base64Url(t.protected).toObject()}catch{throw new Error("JWE Protected Header is invalid")}if(k9(V,t.header,t.unprotected))throw new Error('Duplicate properties detected. Please ensure that each parameter is defined only once across the JWE "header", "protected", and "unprotected" objects.');const $=Object.assign(Object.assign(Object.assign({},V),t.header),t.unprotected);if(!jR($))throw new Error('JWE Header is missing required "alg" (Algorithm) and/or "enc" (Encryption) Header Parameters');if(Array.isArray(h.allowedAlgValues)&&!h.allowedAlgValues.includes($.alg))throw new Error(`"alg" (Algorithm) Header Parameter value not allowed: ${$.alg}`);if(Array.isArray(h.allowedEncValues)&&!h.allowedEncValues.includes($.enc))throw new Error(`"enc" (Encryption Algorithm) Header Parameter value not allowed: ${$.enc}`);let D;try{const et=t.encrypted_key?er.U$.base64Url(t.encrypted_key).toUint8Array():void 0;D=yield C9.decrypt({key:n,encryptedKey:et,joseHeader:$,keyManager:i,crypto:l})}catch(et){if(et instanceof Xi&&(et.code===Yi.InvalidJwe||et.code===Yi.AlgorithmNotSupported))throw et;D="string"==typeof n?yield i.generateKey({algorithm:$.enc}):yield l.generateKey({algorithm:$.enc})}const q=$R("iv",t.iv),De=$R("tag",t.tag),Re=void 0!==De?new Uint8Array([...er.U$.base64Url(t.ciphertext).toUint8Array(),...De??[]]):er.U$.base64Url(t.ciphertext).toUint8Array(),Oe=void 0!==t.aad?new Uint8Array([...er.U$.string(null!==(c=t.protected)&&void 0!==c?c:"").toUint8Array(),...er.U$.string(".").toUint8Array(),...er.U$.string(t.aad).toUint8Array()]):er.U$.string(null!==(f=t.protected)&&void 0!==f?f:"").toUint8Array();return{plaintext:"string"==typeof D?yield i.decrypt({keyUri:D,data:Re,iv:q,additionalData:Oe}):yield l.decrypt({key:D,data:Re,iv:q,additionalData:Oe}),protectedHeader:V,additionalAuthenticatedData:$R("aad",t.aad),sharedUnprotectedHeader:t.unprotected,unprotectedHeader:t.header}})}static encrypt({key:t,plaintext:n,additionalAuthenticatedData:i,protectedHeader:l,sharedUnprotectedHeader:h,unprotectedHeader:c,keyManager:f=new Pm,crypto:V=new PE}){return P9(this,void 0,void 0,function*(){if(!E6(V))throw new Xi(Yi.OperationNotSupported,'Crypto API does not support the "encrypt" operation.');if(!E6(f))throw new Xi(Yi.OperationNotSupported,'Key Manager does not support the "decrypt" operation.');if(!l&&!h&&!c)throw new Xi(Yi.InvalidJwe,'JWE is missing the required JOSE header parameters. Please provide at least one of the following: "protectedHeader", "sharedUnprotectedHeader", or "unprotectedHeader"');if(!(n instanceof Uint8Array))throw new Xi(Yi.InvalidJwe,"Plaintext is missing or not a byte array.");if(k9(l,h,c))throw new Error('Duplicate properties detected. Please ensure that each parameter is defined only once across the JWE "protectedHeader", "sharedUnprotectedHeader", and "unprotectedHeader" objects.');const $=Object.assign(Object.assign(Object.assign({},l),h),c);if(!jR($))throw new Error('JWE Header is missing required "alg" (Algorithm) and/or "enc" (Encryption) Header Parameters');const{cek:D,encryptedKey:q}=yield C9.encrypt({key:t,joseHeader:$,keyManager:f,crypto:V});let De;switch($.enc){case"A128GCM":case"A192GCM":case"A256GCM":De=GN(12);break;default:De=new Uint8Array(0)}const Re=l?er.U$.object(l).toBase64Url():"";let Oe,je;i?(je=er.U$.uint8Array(i).toBase64Url(),Oe=er.U$.string(Re+"."+je).toUint8Array()):Oe=er.U$.string(Re).toUint8Array();const et="string"==typeof D?yield f.encrypt({keyUri:D,data:n,iv:De,additionalData:Oe}):yield V.encrypt({key:D,data:n,iv:De,additionalData:Oe}),ft=et.slice(0,-16),at=et.slice(-16),dt=new x6({ciphertext:er.U$.uint8Array(ft).toBase64Url()});return q&&(dt.encrypted_key=er.U$.uint8Array(q).toBase64Url()),l&&(dt.protected=Re),h&&(dt.unprotected=h),c&&(dt.header=c),De&&(dt.iv=er.U$.uint8Array(De).toBase64Url()),je&&(dt.aad=je),at&&(dt.tag=er.U$.uint8Array(at).toBase64Url()),dt})}}var O9=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class RE{static decrypt({jwe:t,key:n,keyManager:i=new Pm,crypto:l=new PE,options:h={}}){return O9(this,void 0,void 0,function*(){if("string"!=typeof t)throw new Xi(Yi.InvalidJwe,"Invalid JWE format. JWE must be a string.");const{0:c,1:f,2:V,3:$,4:D,length:q}=t.split(".");if(5!==q)throw new Xi(Yi.InvalidJwe,"Invalid JWE format. JWE must have 5 parts.");const De=yield x6.decrypt({jwe:{ciphertext:$,encrypted_key:f||void 0,iv:V||void 0,protected:c,tag:D||void 0},key:n,keyManager:i,crypto:l,options:h});if(!jR(De.protectedHeader))throw new Xi(Yi.InvalidJwe,"Decrypt operation failed due to missing or malformed JWE Protected Header");return{plaintext:De.plaintext,protectedHeader:De.protectedHeader}})}static encrypt({plaintext:t,protectedHeader:n,key:i,keyManager:l=new Pm,crypto:h=new PE,options:c={}}){return O9(this,void 0,void 0,function*(){const f=yield x6.encrypt({plaintext:t,protectedHeader:n,key:i,keyManager:l,crypto:h,options:c});return[f.protected,f.encrypted_key,f.iv,f.ciphertext,f.tag].join(".")})}}var Kh=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};function R9(r){return"string"!=typeof r||0===r.trim().length}class xF{constructor({keyDerivationWorkFactor:t,store:n}={}){this.crypto=new PE,this._keyDerivationWorkFactor=t??21e4,this._store=n??new er.ny}backup(){return Kh(this,void 0,void 0,function*(){if(this.isLocked()||!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Unable to proceed with the backup operation because the identity vault has not been initialized and unlocked. Please ensure the vault is properly initialized with a secure password before attempting to backup its contents.");const t={did:yield this.getStoredDid(),contentEncryptionKey:yield this.getStoredContentEncryptionKey(),status:yield this.getStatus()},n=er.U$.object(t).toBase64Url(),i={data:n,dateCreated:(new Date).toISOString(),size:n.length};return yield this.setStatus({lastBackup:i.dateCreated}),i})}changePassword({oldPassword:t,newPassword:n}){return Kh(this,void 0,void 0,function*(){if(!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Unable to proceed with the change password operation because the identity vault has not been initialized. Please ensure the vault is properly initialized with a secure password before trying again.");yield this.lock();const i=yield this.getStoredContentEncryptionKey();let l,h;try{let f;({plaintext:f,protectedHeader:l}=yield RE.decrypt({jwe:i,key:er.U$.string(t).toUint8Array(),crypto:this.crypto,keyManager:new Rw})),h=er.U$.uint8Array(f).toObject()}catch{throw new Error("HdIdentityVault: Unable to change the vault password due to an incorrectly entered old password.")}const c=yield RE.encrypt({key:er.U$.string(n).toUint8Array(),protectedHeader:l,plaintext:er.U$.object(h).toUint8Array(),crypto:this.crypto,keyManager:new Rw});yield this._store.set("contentEncryptionKey",c),this._contentEncryptionKey=h})}getDid(){return Kh(this,void 0,void 0,function*(){if(this.isLocked())throw new Error("HdIdentityVault: Vault has not been initialized and unlocked.");const t=yield this.getStoredDid(),{plaintext:n}=yield RE.decrypt({jwe:t,key:this._contentEncryptionKey,crypto:this.crypto,keyManager:new Rw}),i=er.U$.uint8Array(n).toObject();if(!u9(i))throw new Error("HdIdentityVault: Unable to decode malformed DID in identity vault");return yield iy.import({portableDid:i})})}getStatus(){return Kh(this,void 0,void 0,function*(){const t=yield this._store.get("vaultStatus");if(!t)return{initialized:!1,lastBackup:null,lastRestore:null};const n=er.U$.string(t).toObject();if(!function EF(r){return"object"==typeof r&&null!==r&&"initialized"in r&&"boolean"==typeof r.initialized&&"lastBackup"in r&&"lastRestore"in r}(n))throw new Error("HdIdentityVault: Invalid IdentityVaultStatus object in store");return n})}initialize({password:t,recoveryPhrase:n}){return Kh(this,void 0,void 0,function*(){if(yield this.isInitialized())throw new Error("HdIdentityVault: Vault has already been initialized.");if(R9(t))throw new Error("HdIdentityVault: The password is required and cannot be blank. Please provide a ' +\n        'valid, non-empty password.");if(n&&R9(n))throw new Error("HdIdentityVault: The password is required and cannot be blank. Please provide a ' +\n        'valid, non-empty password.");if(n??(n=function hF(r,t=128){if((0,ly.ai)(t),t%32!=0||t>256)throw new TypeError("Invalid entropy");return function yF(r,t){return M9(r),A9(t).encode(r).join((r=>"\u3042\u3044\u3053\u304f\u3057\u3093"===r[0])(t)?"\u3000":" ")}((0,qd.po)(t/8),r)}(_9,128)),!function gF(r,t){try{!function mF(r,t){const{words:n}=UR(r);M9(A9(t).decode(n))}(r,t)}catch{return!1}return!0}(n,_9))throw new Error("HdIdentityVault: The provided recovery phrase is invalid. Please ensure that the recovery phrase is a correctly formatted series of 12 words.");const i=yield vF(n),l=w6.fromMasterSeed(i),h=l.derive("m/44'/0'/0'/0'/0'"),c=yield this.crypto.deriveKey({algorithm:"HKDF-512",baseKeyBytes:h.privateKey,salt:"",info:"vault_cek",derivedKeyAlgorithm:"A256GCM"}),f=yield this.crypto.deriveKeyBytes({algorithm:"HKDF-512",baseKeyBytes:h.publicKey,salt:"",info:"vault_unlock_salt",length:256}),V={alg:"PBES2-HS512+A256KW",enc:"A256GCM",cty:"text/plain",p2c:this._keyDerivationWorkFactor,p2s:er.U$.uint8Array(f).toBase64Url()},$=yield RE.encrypt({key:er.U$.string(t).toUint8Array(),protectedHeader:V,plaintext:er.U$.object(c).toUint8Array(),crypto:this.crypto,keyManager:new Rw});yield this._store.set("contentEncryptionKey",$);const D=l.derive("m/44'/0'/1708523827'/0'/0'"),q=yield this.crypto.bytesToPrivateKey({algorithm:"Ed25519",privateKeyBytes:D.privateKey});let De=l.derive("m/44'/0'/1708523827'/0'/1'");const Re=yield this.crypto.bytesToPrivateKey({algorithm:"Ed25519",privateKeyBytes:De.privateKey}),Oe=new $U;yield Oe.addPredefinedKeys({privateKeys:[q,Re]});const et=yield(yield h6.create({keyManager:Oe,options:{verificationMethods:[{algorithm:"Ed25519",id:"sig",purposes:["assertionMethod","authentication"]}]}})).export(),at=yield RE.encrypt({key:c,plaintext:er.U$.object(et).toUint8Array(),protectedHeader:{alg:"dir",enc:"A256GCM",cty:"json"},crypto:this.crypto,keyManager:new Rw});return yield this._store.set("did",at),this._contentEncryptionKey=c,yield this.setStatus({initialized:!0}),n})}isInitialized(){return Kh(this,void 0,void 0,function*(){return this.getStatus().then(({initialized:t})=>t)})}isLocked(){return!this._contentEncryptionKey}lock(){return Kh(this,void 0,void 0,function*(){if(!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Lock operation failed. Vault has not been initialized.");this._contentEncryptionKey&&(this._contentEncryptionKey.k=""),this._contentEncryptionKey=void 0})}restore({backup:t,password:n}){return Kh(this,void 0,void 0,function*(){if(!function _F(r){return"object"==typeof r&&null!==r&&"dateCreated"in r&&"string"==typeof r.dateCreated&&"size"in r&&"number"==typeof r.size&&"data"in r&&"string"==typeof r.data}(t))throw new Error("HdIdentityVault: Restore operation failed due to invalid backup object.");let i,l,h;try{h=yield this.getStoredDid(),l=yield this.getStoredContentEncryptionKey(),i=yield this.getStatus()}catch{throw new Error("HdIdentityVault: The restore operation cannot proceed because the existing vault contents are missing or inaccessible. If the problem persists consider re-initializing the vault and retrying the restore.")}try{const c=er.U$.base64Url(t.data).toObject();yield this._store.set("did",c.did),yield this._store.set("contentEncryptionKey",c.contentEncryptionKey),yield this.setStatus(c.status),yield this.unlock({password:n})}catch{throw yield this.setStatus(i),yield this._store.set("contentEncryptionKey",l),yield this._store.set("did",h),new Error("HdIdentityVault: Restore operation failed due to invalid backup data or an incorrect password. Please verify the password is correct for the provided backup and try again.")}yield this.setStatus({lastRestore:(new Date).toISOString()})})}unlock({password:t}){return Kh(this,void 0,void 0,function*(){yield this.lock();const n=yield this.getStoredContentEncryptionKey();try{const{plaintext:i}=yield RE.decrypt({jwe:n,key:er.U$.string(t).toUint8Array(),crypto:this.crypto,keyManager:new Rw}),l=er.U$.uint8Array(i).toObject();this._contentEncryptionKey=l}catch{throw new Error("HdIdentityVault: Unable to unlock the vault due to an incorrect password.")}})}getStoredDid(){return Kh(this,void 0,void 0,function*(){const t=yield this._store.get("did");if(!t)throw new Error("HdIdentityVault: Unable to retrieve the DID record from the vault. Please check the vault status and if the problem persists consider re-initializing the vault and restoring the contents from a previous backup.");return t})}getStoredContentEncryptionKey(){return Kh(this,void 0,void 0,function*(){const t=yield this._store.get("contentEncryptionKey");if(!t)throw new Error("HdIdentityVault: Unable to retrieve the Content Encryption Key record from the vault. Please check the vault status and if the problem persists consider re-initializing the vault and restoring the contents from a previous backup.");return t})}setStatus({initialized:t,lastBackup:n,lastRestore:i}){return Kh(this,void 0,void 0,function*(){let l=yield this.getStatus();return l.initialized=t??l.initialized,l.lastBackup=n??l.lastBackup,l.lastRestore=i??l.lastRestore,yield this._store.set("vaultStatus",JSON.stringify(l)),!0})}}var uy=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class MF extends TR{constructor(){super(...arguments),this.name="DwnIdentityStore",this._recordProtocolDefinition=d9,this._recordProperties={dataFormat:"application/json",protocol:this._recordProtocolDefinition.protocol,protocolPath:"identityMetadata",schema:this._recordProtocolDefinition.types.identityMetadata.schema}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return uy(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return uy(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return uy(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return uy(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var i;return uy(this,void 0,void 0,function*(){this._index.clear();const{reply:l}=yield t.dwn.processRequest({author:n,target:n,messageType:Na.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let h=[];for(const c of null!==(i=l.entries)&&void 0!==i?i:[]){if(!c.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const f=er.U$.base64Url(c.encodedData).toObject();(r=f)&&"object"==typeof r&&null!==r&&"name"in r&&(this._index.set(`${n}${th}${f.uri}`,c.recordId),this._cache.set(c.recordId,f),h.push(f))}var r;return h})}}class AF extends IR{constructor(){super(...arguments),this.name="InMemoryIdentityStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return uy(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return uy(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return uy(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return uy(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var Bw=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class TF{constructor({agent:t,store:n}={}){this._agent=t,this._store=n??new AF}get agent(){if(void 0===this._agent)throw new Error("AgentIdentityApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}create({metadata:t,didMethod:n="dht",didOptions:i,store:l,tenant:h}){return Bw(this,void 0,void 0,function*(){const c=yield this.agent.did.create({method:n,options:i,store:l,tenant:h}),f=new t6({did:c,metadata:Object.assign(Object.assign({},t),{uri:c.uri,tenant:h??c.uri})});return(l??!0)&&(yield this._store.set({id:f.did.uri,data:f.metadata,agent:this.agent,tenant:f.metadata.tenant,preventDuplicates:!1,useCache:!0})),f})}export({didUri:t,tenant:n}){return Bw(this,void 0,void 0,function*(){const i=yield this.get({didUri:t,tenant:n});if(!i)throw new Error(`AgentIdentityApi: Failed to export due to Identity not found: ${t}`);return yield i.export()})}get({didUri:t,tenant:n}){return Bw(this,void 0,void 0,function*(){const i=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0});if(!i)return;const l=yield this.agent.did.get({didUri:t,tenant:i.tenant});if(!l)throw new Error(`AgentIdentityApi: Identity is present in the store but DID is missing: ${t}`);return new t6({did:l,metadata:i})})}import({portableIdentity:t}){return Bw(this,void 0,void 0,function*(){const n=yield this.agent.did.import({portableDid:t.portableDid,tenant:t.metadata.tenant});if(!n)throw new Error(`AgentIdentityApi: Failed to import Identity: ${t.metadata.uri}`);const i=new t6({did:n,metadata:t.metadata});return yield this._store.set({id:i.did.uri,data:i.metadata,agent:this.agent,tenant:i.metadata.tenant,preventDuplicates:!0,useCache:!0}),i})}list({tenant:t}={}){return Bw(this,void 0,void 0,function*(){const n=yield this._store.list({agent:this.agent,tenant:t}),i=[];for(const l of n){const h=yield this.get({didUri:l.uri,tenant:l.tenant});i.push(h)}return i})}manage({portableIdentity:t}){return Bw(this,void 0,void 0,function*(){const n=yield this.agent.did.get({didUri:t.metadata.uri,tenant:t.metadata.tenant});if(!n)throw new Error(`AgentIdentityApi: Failed to manage Identity: ${t.metadata.uri}`);const i=new t6({did:n,metadata:t.metadata});return yield this._store.set({id:i.did.uri,data:i.metadata,agent:this.agent,preventDuplicates:!0,useCache:!0}),i})}delete({didUri:t,tenant:n}){return Bw(this,void 0,void 0,function*(){if(!(yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0})))throw new Error(`AgentIdentityApi: Failed to purge due to Identity not found: ${t}`);yield this._store.delete({id:t,agent:this.agent,tenant:n})})}}const KR=(r,t,n)=>({jsonrpc:"2.0",id:r,method:t,params:n}),B9=(r,t,n,i)=>({jsonrpc:"2.0",id:r,method:`rpc.subscribe.${t}`,params:i,subscription:{id:n}});function S6(r){try{return JSON.parse(r)}catch{return null}}var fA=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class DF{constructor({ttl:t="15m"}={}){this.cache=new er.LC({ttl:Ow(t)})}get(t){return fA(this,void 0,void 0,function*(){return this.cache.get(t)})}set(t,n){return fA(this,void 0,void 0,function*(){this.cache.set(t,n)})}delete(t){return fA(this,void 0,void 0,function*(){this.cache.delete(t)})}clear(){return fA(this,void 0,void 0,function*(){this.cache.clear()})}close(){return fA(this,void 0,void 0,function*(){})}}var N9=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class CF{constructor(t){this.serverInfoCache=t??new DF}get transportProtocols(){return["http:","https:"]}sendDwnRequest(t){return N9(this,void 0,void 0,function*(){const n=Iw(),i=KR(n,"dwn.processMessage",{target:t.targetDid,message:t.message}),l={method:"POST",headers:{"dwn-request":JSON.stringify(i)}};t.data&&(l.headers["content-type"]="application/octet-stream",l.body=t.data);const h=yield fetch(t.dwnUrl,l);let c,f;const{headers:V}=h;if(V.has("dwn-response")){const D=S6(V.get("dwn-response"));if(null==D)throw new Error(`failed to parse json rpc response. dwn url: ${t.dwnUrl}`);f=h.body,c=D}else{const D=yield h.text();c=JSON.parse(D)}if(c.error){const{code:D,message:q}=c.error;throw new Error(`(${D}) - ${q}`)}const{reply:$}=c.result;return f&&$.record?$.record.data=f:f&&$.entry&&($.entry.data=f),$})}getServerInfo(t){return N9(this,void 0,void 0,function*(){const n=yield this.serverInfoCache.get(t);if(n)return n;const i=new URL(t);i.pathname.endsWith("/")?i.pathname+="info":i.pathname+="/info";try{const l=yield fetch(i.toString());if(l.ok){const h=yield l.json(),c={registrationRequirements:h.registrationRequirements,maxFileSize:h.maxFileSize,webSocketSupport:h.webSocketSupport};return this.serverInfoCache.set(t,c),c}throw new Error(`HTTP (${l.status}) - ${l.statusText}`)}catch(l){throw new Error(`Error encountered while processing response from ${i.toString()}: ${l.message}`)}})}}var BE=null;typeof WebSocket<"u"?BE=WebSocket:typeof MozWebSocket<"u"?BE=MozWebSocket:typeof globalThis<"u"?BE=globalThis.WebSocket||globalThis.MozWebSocket:typeof window<"u"?BE=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(BE=self.WebSocket||self.MozWebSocket);const kF=BE;var M6=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};const PF=3e3,OF=3e4;class VR{constructor(t,n){this.socket=t,this.responseTimeout=n,this.messageHandlers=new Map}static connect(t,n={}){return M6(this,void 0,void 0,function*(){const{connectTimeout:i=PF,responseTimeout:l=OF,onclose:h,onerror:c}=n,f=new kF(t);return f.onclose=h||(()=>{console.info(`JSON RPC Socket close ${t}`)}),f.onerror=c||(V=>{console.error(`JSON RPC Socket error ${t}`,V)}),new Promise((V,$)=>{f.addEventListener("open",()=>{const D=new VR(f,l);f.addEventListener("message",q=>{const De=S6(q.data),Re=D.messageHandlers.get(De.id);Re&&Re(q)}),V(D)}),f.addEventListener("error",D=>{$(D)}),setTimeout(()=>$,i)})})}close(){this.socket.close()}request(t){return M6(this,void 0,void 0,function*(){return new Promise((n,i)=>{var l;null!==(l=t.id)&&void 0!==l||(t.id=Iw()),this.messageHandlers.set(t.id,c=>{const f=S6(c.data);if(f.id===t.id)return this.messageHandlers.delete(t.id),n(f)}),this.send(t),setTimeout(()=>{this.messageHandlers.delete(t.id),i(new Error("request timed out"))},this.responseTimeout)})})}subscribe(t,n){return M6(this,void 0,void 0,function*(){if(!t.method.startsWith("rpc.subscribe."))throw new Error("subscribe rpc requests must include the `rpc.subscribe` prefix");if(!t.subscription)throw new Error("subscribe rpc requests must include subscribe options");const i=t.subscription.id;this.messageHandlers.set(i,f=>{const V=S6(f.data.toString());V.id===i&&(void 0!==V.error&&(this.messageHandlers.delete(i),this.closeSubscription(i)),n(V))});const h=yield this.request(t);return h.error?(this.messageHandlers.delete(i),{response:h}):{response:h,close:()=>M6(this,void 0,void 0,function*(){this.messageHandlers.delete(i),yield this.closeSubscription(i)})}})}closeSubscription(t){const n=Iw(),i=B9(n,"close",t,{});return this.request(i)}send(t){this.socket.send(JSON.stringify(t))}}var zR=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class iv{get transportProtocols(){return["ws:","wss:"]}sendDwnRequest(t,n){return zR(this,void 0,void 0,function*(){const i=new URL(t.dwnUrl);if("ws:"!==i.protocol&&"wss:"!==i.protocol)throw new Error(`Invalid websocket protocol ${i.protocol}`);if(!iv.connections.has(i.host))try{const $=yield VR.connect(i.toString(),n);iv.connections.set(i.host,{socket:$,subscriptions:new Map})}catch($){throw new Error(`Error connecting to ${i.host}: ${$.message}`)}const h=iv.connections.get(i.host),{targetDid:c,message:f,subscriptionHandler:V}=t;return V?iv.subscriptionRequest(h,c,f,V):iv.processMessage(h,c,f)})}static processMessage(t,n,i){return zR(this,void 0,void 0,function*(){const l=Iw(),h=KR(l,"dwn.processMessage",{target:n,message:i}),{socket:c}=t,f=yield c.request(h),{error:V,result:$}=f;if(void 0!==V)throw new Error(`error sending DWN request: ${V.message}`);return $.reply})}static subscriptionRequest(t,n,i,l){return zR(this,void 0,void 0,function*(){const h=Iw(),c=Iw(),f=B9(h,"dwn.processMessage",c,{target:n,message:i}),{socket:V,subscriptions:$}=t,{response:D,close:q}=yield V.subscribe(f,je=>{const{result:et,error:ft}=je;if(ft){const dt=$.get(c);return dt&&dt.close(),void $.delete(c)}const{event:at}=et;l(at)}),{error:De,result:Re}=D;if(De)throw new Error(`could not subscribe via jsonrpc socket: ${De.message}`);const{reply:Oe}=Re;return Oe.subscription&&q&&($.set(c,Object.assign(Object.assign({},Oe.subscription),{close:q})),Oe.subscription.close=q),Oe})}}iv.connections=new Map;var hA=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class BF{constructor(t=[]){this.transportClients=new Map,t=[new NF,new LF,...t];for(let n of t)for(let i of n.transportProtocols)this.transportClients.set(i,n)}get transportProtocols(){return Array.from(this.transportClients.keys())}sendDidRequest(t){return hA(this,void 0,void 0,function*(){const n=new URL(t.url),i=this.transportClients.get(n.protocol);if(!i){const l=new Error(`no ${n.protocol} transport client available`);throw l.name="NO_TRANSPORT_CLIENT",l}return i.sendDidRequest(t)})}sendDwnRequest(t){const n=new URL(t.dwnUrl),i=this.transportClients.get(n.protocol);if(!i){const l=new Error(`no ${n.protocol} transport client available`);throw l.name="NO_TRANSPORT_CLIENT",l}return i.sendDwnRequest(t)}getServerInfo(t){return hA(this,void 0,void 0,function*(){const n=new URL(t),i=this.transportClients.get(n.protocol);if(!i){const l=new Error(`no ${n.protocol} transport client available`);throw l.name="NO_TRANSPORT_CLIENT",l}return i.getServerInfo(t)})}}class NF extends CF{sendDidRequest(t){return hA(this,void 0,void 0,function*(){const n=Iw(),i=KR(n,t.method,{data:t.data}),l=new Request(t.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});let h;try{const c=yield fetch(l);if(!c.ok)throw new Error(`HTTP (${c.status}) - ${c.statusText}`);if(h=yield c.json(),h.error){const{code:f,message:V}=h.error;throw new Error(`JSON RPC (${f}) - ${V}`)}}catch(c){throw new Error(`Error encountered while processing response from ${t.url}: ${c.message}`)}return h.result})}}class LF extends iv{sendDidRequest(t){return hA(this,void 0,void 0,function*(){throw new Error(`not implemented for transports [${this.transportProtocols.join(", ")}]`)})}getServerInfo(t){return hA(this,void 0,void 0,function*(){throw new Error(`not implemented for transports [${this.transportProtocols.join(", ")}]`)})}}class FF{constructor({agent:t,syncEngine:n}){this._syncEngine=n,this._agent=t}get agent(){if(void 0===this._agent)throw new Error("AgentSyncApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t,this._syncEngine.agent=t}registerIdentity(t){return function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){yield this._syncEngine.registerIdentity(t)})}startSync(t){return this._syncEngine.startSync(t)}stopSync(){this._syncEngine.stopSync()}}var gf=function(r,t,n,i){return new(n||(n=Promise))(function(h,c){function f(D){try{$(i.next(D))}catch(q){c(q)}}function V(D){try{$(i.throw(D))}catch(q){c(q)}}function $(D){D.done?h(D.value):function l(h){return h instanceof n?h:new n(function(c){c(h)})}(D.value).then(f,V)}$((i=i.apply(r,t||[])).next())})};class A6{constructor({agent:t,dataPath:n,db:i}){this._agent=t,this._db=i||new uN.Level(n??"DATA/AGENT/SYNC_STORE"),this._ulidFactory=$N()}get agent(){if(void 0===this._agent)throw new Error("SyncEngineLevel: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}clear(){return gf(this,void 0,void 0,function*(){yield this._db.clear()})}close(){return gf(this,void 0,void 0,function*(){yield this._db.close()})}pull(){var t;return gf(this,void 0,void 0,function*(){const n=yield this.getSyncPeerState({syncDirection:"pull"});yield this.enqueueOperations({syncDirection:"pull",syncPeerState:n});const i=this.getPullQueue(),l=yield i.iterator().all(),h=[],c=new Set;for(let f of l){const[V]=f,[$,D,q,De]=V.split("~");if(c.has(D))continue;if(yield this.messageExists($,De)){h.push({type:"del",key:V});continue}const Oe=yield this.agent.processDwnRequest({store:!1,author:$,target:$,messageType:Na.MessagesRead,messageParams:{messageCid:De}});let je;try{je=yield this.agent.rpc.sendDwnRequest({dwnUrl:D,targetDid:$,message:Oe.message})}catch{c.add(D);continue}if(200!==je.status.code||null===(t=je.entry)||void 0===t||!t.message){yield this.addMessage($,De),h.push({type:"del",key:V});continue}const et=je.entry,ft=et.message,at=y6(et)&&et.data?er.VS.fromWebReadable({readableStream:et.data}):void 0,dt=yield this.agent.dwn.node.processMessage($,ft,{dataStream:at});A6.syncMessageReplyIsSuccessful(dt)&&(yield this.addMessage($,De),h.push({type:"del",key:V}))}yield i.batch(h)})}push(){return gf(this,void 0,void 0,function*(){const t=yield this.getSyncPeerState({syncDirection:"push"});yield this.enqueueOperations({syncDirection:"push",syncPeerState:t});const n=this.getPushQueue(),i=yield n.iterator().all(),l=[],h=new Set;for(let c of i){const[f]=c,[V,$,D,q]=f.split("~");if(h.has($))continue;const De=yield this.getDwnMessage({author:V,messageCid:q});if(De)try{const Re=yield this.agent.rpc.sendDwnRequest({dwnUrl:$,targetDid:V,data:De.data,message:De.message});A6.syncMessageReplyIsSuccessful(Re)&&(yield this.addMessage(V,q),l.push({type:"del",key:f}))}catch{h.add($)}else l.push({type:"del",key:f}),yield this.addMessage(V,q)}yield n.batch(l)})}registerIdentity({did:t}){return gf(this,void 0,void 0,function*(){yield this._db.sublevel("registeredIdentities").put(t,"")})}startSync({interval:t}){const n=Ow(t);return new Promise((i,l)=>{const h=()=>gf(this,void 0,void 0,function*(){this._syncIntervalId&&clearInterval(this._syncIntervalId);try{yield this.push(),yield this.pull()}catch(c){this.stopSync(),l(c)}this._syncIntervalId=setInterval(h,n)});this._syncIntervalId=setInterval(h,n)})}stopSync(){this._syncIntervalId&&(clearInterval(this._syncIntervalId),this._syncIntervalId=void 0)}static syncMessageReplyIsSuccessful(t){var n,i;return 202===t.status.code||409===t.status.code||(null===(n=t.entry)||void 0===n?void 0:n.message.descriptor.interface)===Wi.Records&&(null===(i=t.entry)||void 0===i?void 0:i.message.descriptor.method)===di.Delete&&404===t.status.code}enqueueOperations({syncDirection:t,syncPeerState:n}){return gf(this,void 0,void 0,function*(){for(let i of n){const l=yield this.getDwnEventLog({did:i.did,dwnUrl:i.dwnUrl,cursor:i.cursor,syncDirection:t}),h=[];for(let c of l){const f=this._ulidFactory(),V=[i.did,i.dwnUrl,f,c].join("~");h.push({type:"put",key:V,value:""})}h.length>0&&(yield("pull"===t?this.getPullQueue():this.getPushQueue()).batch(h))}})}getDwnEventLog({did:t,dwnUrl:n,syncDirection:i,cursor:l}){var h;return gf(this,void 0,void 0,function*(){let c={};if("pull"===i){const V=yield this.agent.dwn.processRequest({store:!1,target:t,author:t,messageType:Na.MessagesQuery,messageParams:{filters:[],cursor:l}});try{c=yield this.agent.rpc.sendDwnRequest({dwnUrl:n,targetDid:t,message:V.message})}catch{}}else"push"===i&&(c=(yield this.agent.dwn.processRequest({author:t,target:t,messageType:Na.MessagesQuery,messageParams:{filters:[],cursor:l}})).reply);const f=null!==(h=c.entries)&&void 0!==h?h:[];return c.cursor&&this.setCursor(t,n,i,c.cursor),f})}getDwnMessage({author:t,messageCid:n}){return gf(this,void 0,void 0,function*(){let{reply:i}=yield this.agent.dwn.processRequest({author:t,target:t,messageType:Na.MessagesRead,messageParams:{messageCid:n}});if(200!==i.status.code||!i.entry)return;const l=i.entry;let h={message:l.message};if(y6(l)&&l.data){const c=yield er.VS.consumeToBytes({readable:l.data});h.data=new Blob([c],{type:l.message.descriptor.dataFormat})}return h})}getSyncPeerState({syncDirection:t}){return gf(this,void 0,void 0,function*(){const n=yield this._db.sublevel("registeredIdentities").keys().all(),i=[];for(let l of n){const h=yield m9(l,this.agent.did);if(0!==h.length)for(let c of h){const f=yield this.getCursor(l,c,t);i.push({did:l,dwnUrl:c,cursor:f})}}return i})}getCursor(t,n,i){return gf(this,void 0,void 0,function*(){const l=`${t}~${n}~${i}`,h=this.getCursorStore();try{const c=yield h.get(l);if(c)return JSON.parse(c)}catch(c){if(c.notFound)return}})}setCursor(t,n,i,l){return gf(this,void 0,void 0,function*(){const h=`${t}~${n}~${i}`;yield this.getCursorStore().put(h,JSON.stringify(l))})}messageExists(t,n){return gf(this,void 0,void 0,function*(){const i=this.getMessageStore(t);try{return yield i.get(n),!0}catch(l){if(l.notFound)return!1;throw l}})}addMessage(t,n){return gf(this,void 0,void 0,function*(){return yield this.getMessageStore(t).put(n,"")})}getMessageStore(t){return this._db.sublevel("history").sublevel(t).sublevel("messages")}getCursorStore(){return this._db.sublevel("cursors")}getPushQueue(){return this._db.sublevel("pushQueue")}getPullQueue(){return this._db.sublevel("pullQueue")}}},74862:(Fe,z,_)=>{"use strict";_.d(z,{uW:()=>Ea});var p=_(62590),E=function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})};class H{constructor(Me){this.agent=Me.agent,this.connectedDid=Me.connectedDid}create(Me){return E(this,void 0,void 0,function*(){const me=yield this.agent.processDidRequest({messageType:p.B2.Create,messageParams:Object.assign({},Me)}),{result:ve}=me,Ze=function(We,Me){var me={};for(var ve in We)Object.prototype.hasOwnProperty.call(We,ve)&&Me.indexOf(ve)<0&&(me[ve]=We[ve]);if(null!=We&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(We);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(We,ve[Ze])&&(me[ve[Ze]]=We[ve[Ze]])}return me}(me,["result"]);return Object.assign({did:ve},Ze)})}resolve(Me,me){return E(this,void 0,void 0,function*(){const{result:ve}=yield this.agent.processDidRequest({messageParams:{didUri:Me,options:me},messageType:p.B2.Resolve});return ve})}}var x=_(37475);function R(We,Me){let me;const ve=(0,x.fc)(We);if("text/plain"===Me||"String"===ve)me=new Blob([We],{type:"text/plain"});else if("application/json"===Me||"Object"===ve){const Ze=x.U$.object(We).toUint8Array();me=new Blob([Ze],{type:"application/json"})}else if("Uint8Array"===ve||"ArrayBuffer"===ve)me=new Blob([We],{type:"application/octet-stream"});else{if("Blob"!==ve)throw new Error("data type not supported.");me=We}return{dataBlob:me,dataFormat:Me=Me||me.type||"application/octet-stream"}}class A{static check(Me,me){let ve=A.cache.get(Me);return!!ve&&ve.has(me)}static set(Me,me){let ve=A.cache.get(Me)||new Set;if(A.cache.delete(Me),A.cache.set(Me,ve),this.cache.size>A.sendCacheLimit){const Ze=A.cache.keys().next().value;A.cache.delete(Ze)}if(ve.delete(me),ve.add(me),ve.size>A.sendCacheLimit){const Ze=ve.keys().next().value;ve.delete(Ze)}}}A.cache=new Map,A.sendCacheLimit=100;var O=function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})},F=function(We,Me){var me={};for(var ve in We)Object.prototype.hasOwnProperty.call(We,ve)&&Me.indexOf(ve)<0&&(me[ve]=We[ve]);if(null!=We&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(We);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(We,ve[Ze])&&(me[ve[Ze]]=We[ve[Ze]])}return me};let L=(()=>{class We{get _recordsWriteDescriptor(){if((0,p.pO)(p.nx.RecordsWrite,this.rawMessage))return this._descriptor}get _immutableProperties(){return this._recordsWriteDescriptor||this._initialWrite.descriptor}get id(){return this._recordId}get contextId(){return this._contextId}get dateCreated(){return this._immutableProperties.dateCreated}get parentId(){return this._immutableProperties.parentId}get protocol(){return this._immutableProperties.protocol}get protocolPath(){return this._immutableProperties.protocolPath}get recipient(){return this._immutableProperties.recipient}get schema(){return this._immutableProperties.schema}get dataFormat(){var me;return null===(me=this._recordsWriteDescriptor)||void 0===me?void 0:me.dataFormat}get dataCid(){var me;return null===(me=this._recordsWriteDescriptor)||void 0===me?void 0:me.dataCid}get dataSize(){var me;return null===(me=this._recordsWriteDescriptor)||void 0===me?void 0:me.dataSize}get datePublished(){var me;return null===(me=this._recordsWriteDescriptor)||void 0===me?void 0:me.datePublished}get published(){var me;return null===(me=this._recordsWriteDescriptor)||void 0===me?void 0:me.published}get tags(){var me;return null===(me=this._recordsWriteDescriptor)||void 0===me?void 0:me.tags}get author(){return this._author}get dateModified(){return this._descriptor.messageTimestamp}get encryption(){return this._encryption}get authorization(){return this._authorization}get attestation(){return this._attestation}get protocolRole(){return this._protocolRole}get deleted(){return(0,p.pO)(p.nx.RecordsDelete,this.rawMessage)}get initialWrite(){return this._initialWrite}get rawMessage(){let ve;return ve=this._descriptor.interface+this._descriptor.method===p.nx.RecordsWrite?JSON.parse(JSON.stringify({contextId:this._contextId,recordId:this._recordId,descriptor:this._descriptor,attestation:this._attestation,authorization:this._authorization,encryption:this._encryption})):JSON.parse(JSON.stringify({descriptor:this._descriptor,authorization:this._authorization})),(0,x.E8)(ve),ve}constructor(me,ve){this._agent=me,this._author=ve.author,this._connectedDid=ve.connectedDid,this._remoteOrigin=ve.remoteOrigin,this._attestation=ve.attestation,this._authorization=ve.authorization,this._contextId=ve.contextId,this._descriptor=ve.descriptor,this._encryption=ve.encryption,this._initialWrite=ve.initialWrite,this._recordId=ve.recordId,this._protocolRole=ve.protocolRole,ve.encodedData&&(this._encodedData="string"==typeof ve.encodedData?new Blob([x.U$.base64Url(ve.encodedData).toUint8Array()],{type:this.dataFormat}):ve.encodedData),ve.data&&(this._readableStream=x.Z6.isReadableStream(ve.data)?x.VS.fromWebReadable({readableStream:ve.data}):ve.data)}get data(){const me=this;return{blob(){return O(this,void 0,void 0,function*(){return new Blob([yield x.VS.consumeToBytes({readable:yield this.stream()})],{type:me.dataFormat})})},bytes(){return O(this,void 0,void 0,function*(){return yield x.VS.consumeToBytes({readable:yield this.stream()})})},json(){return O(this,void 0,void 0,function*(){return yield x.VS.consumeToJson({readable:yield this.stream()})})},text(){return O(this,void 0,void 0,function*(){return yield x.VS.consumeToText({readable:yield this.stream()})})},stream(){return O(this,void 0,void 0,function*(){if(me._encodedData?me._readableStream=x.VS.fromWebReadable({readableStream:me._encodedData.stream()}):x.VS.isReadable({readable:me._readableStream})||(me._readableStream=me._remoteOrigin?yield me.readRecordData({target:me._remoteOrigin,isRemote:!0}):yield me.readRecordData({target:me._connectedDid,isRemote:!1})),!me._readableStream)throw new Error("Record data is not available.");return me._readableStream})},then(Ze,Je){return this.stream().then(Ze,Je)},catch(Ze){return this.stream().catch(Ze)}}}store(me=!1){return O(this,void 0,void 0,function*(){return this.processRecord({signAsOwner:me,store:!0})})}import(me=!0){return O(this,void 0,void 0,function*(){return this.processRecord({store:me,signAsOwner:!0})})}send(me){return O(this,void 0,void 0,function*(){const ve=this._initialWrite;if(me??(me=this._connectedDid),ve&&!We._sendCache.check(this._recordId,me)){const pt=Object.assign({},ve);(0,x.E8)(pt),yield this._agent.sendDwnRequest({messageType:p.nx.RecordsWrite,author:this._connectedDid,target:me,rawMessage:pt}),We._sendCache.set(this._recordId,me)}let Ze;Ze=this.deleted?{messageType:p.nx.RecordsDelete,author:this._connectedDid,target:me,rawMessage:Object.assign({},this.rawMessage)}:{messageType:p.nx.RecordsWrite,author:this._connectedDid,target:me,dataStream:yield this.data.blob(),rawMessage:Object.assign({},this.rawMessage)};const{reply:Je}=yield this._agent.sendDwnRequest(Ze);return Je})}toJSON(){return{attestation:this.attestation,author:this.author,authorization:this.authorization,contextId:this.contextId,dataCid:this.dataCid,dataFormat:this.dataFormat,dataSize:this.dataSize,dateCreated:this.dateCreated,messageTimestamp:this.dateModified,datePublished:this.datePublished,encryption:this.encryption,parentId:this.parentId,protocol:this.protocol,protocolPath:this.protocolPath,protocolRole:this.protocolRole,published:this.published,recipient:this.recipient,recordId:this.id,schema:this.schema,tags:this.tags}}toString(){let me="Record: {\n";return me+=`  ID: ${this.id}\n`,me+=this.contextId?`  Context ID: ${this.contextId}\n`:"",me+=this.protocol?`  Protocol: ${this.protocol}\n`:"",me+=this.schema?`  Schema: ${this.schema}\n`:"",this.deleted||(me+=`  Data CID: ${this.dataCid}\n`,me+=`  Data Format: ${this.dataFormat}\n`,me+=`  Data Size: ${this.dataSize}\n`),me+=`  Deleted: ${this.deleted}\n`,me+=`  Created: ${this.dateCreated}\n`,me+=`  Modified: ${this.dateModified}\n`,me+="}",me}paginationCursor(me){return O(this,void 0,void 0,function*(){return(0,p.pO)(p.nx.RecordsWrite,this.rawMessage)?(0,p.X7)(this.rawMessage,me):void 0})}update(me){var{dateModified:ve,data:Ze}=me,Je=F(me,["dateModified","data"]);return O(this,void 0,void 0,function*(){if(!(0,p.pO)(p.nx.RecordsWrite,this.rawMessage)&&!this._initialWrite)throw new Error("If initial write is not set, the current rawRecord must be a RecordsWrite message.");const pt=this._recordsWriteDescriptor,{parentId:jt}=pt,yn=F(pt,["parentId"]),Ht=jt?this._contextId.split("/").slice(0,-1).join("/"):void 0;let nn,bt=Object.assign(Object.assign(Object.assign({},yn),Je),{parentContextId:Ht,messageTimestamp:ve,recordId:this._recordId});((0,x.RI)(bt.tags)||null===bt.tags)&&delete bt.tags,void 0!==Ze&&(delete bt.dataCid,delete bt.dataSize,({dataBlob:nn}=R(Ze,bt.dataFormat)));const Or=new Set(["data","dataCid","dataSize","datePublished","messageTimestamp","published","tags"]);We.verifyPermittedMutation(Object.keys(Je),Or),!1===Je.published&&void 0!==bt.datePublished&&delete bt.datePublished;const pi=yield this._agent.processDwnRequest({author:this._connectedDid,dataStream:nn,messageParams:Object.assign({},bt),messageType:p.nx.RecordsWrite,target:this._connectedDid}),{message:ii,reply:{status:hi}}=pi,Oi=ii;return 200<=hi.code&&hi.code<=299&&(this._initialWrite||(this._initialWrite=Object.assign({},this.rawMessage)),this._authorization=Oi.authorization,this._protocolRole=Je.protocolRole,Or.forEach(Vo=>{this._descriptor[Vo]=Oi.descriptor[Vo]}),void 0!==Ze&&(this._encodedData=nn)),{status:hi}})}delete(me){return O(this,void 0,void 0,function*(){const ve=me||{},{store:Ze,signAsOwner:Je,dateModified:pt}=ve,jt=F(ve,["store","signAsOwner","dateModified"]);let yn={messageType:p.nx.RecordsDelete,author:this._connectedDid,target:this._connectedDid,store:Ze,signAsOwner:Je};if(this.deleted){if(!this._initialWrite)throw new Error("If initial write is not set, the current rawRecord must be a RecordsWrite message.");yn.rawMessage=this.rawMessage}else yn.messageParams=Object.assign(Object.assign({},jt),{recordId:this._recordId,messageTimestamp:pt});const Ht=yield this._agent.processDwnRequest(yn),{message:bt,reply:{status:nn}}=Ht;return 202!==nn.code||(this._initialWrite||(this._initialWrite=Object.assign({},this.rawMessage)),this._author=(0,p.dK)(bt),this._descriptor=bt.descriptor,this._authorization=bt.authorization,this._encodedData=void 0,this._encryption=void 0,this._attestation=void 0),{status:nn}})}processRecord({store:me,signAsOwner:ve}){return O(this,void 0,void 0,function*(){if(this._initialWrite&&(ve&&!this._initialWriteSigned||me&&!this._initialWriteStored)){const Ht={messageType:p.nx.RecordsWrite,rawMessage:this.initialWrite,author:this._connectedDid,target:this._connectedDid,signAsOwner:ve,store:me},bt=yield this._agent.processDwnRequest(Ht),{message:nn,reply:{status:Or}}=bt,pi=nn;200<=Or.code&&Or.code<=299&&(me&&(this._initialWriteStored=!0),ve&&(this._initialWriteSigned=!0,this.initialWrite.authorization=pi.authorization))}let Ze;Ze=this.deleted?{messageType:p.nx.RecordsDelete,rawMessage:this.rawMessage,author:this._connectedDid,target:this._connectedDid,signAsOwner:ve,store:me}:{messageType:p.nx.RecordsWrite,rawMessage:this.rawMessage,author:this._connectedDid,target:this._connectedDid,dataStream:yield this.data.blob(),signAsOwner:ve,store:me};const Je=yield this._agent.processDwnRequest(Ze),{message:pt,reply:{status:jt}}=Je;return 200<=jt.code&&jt.code<=299&&ve&&(this._authorization=pt.authorization),{status:jt}})}readRecordData({target:me,isRemote:ve}){return O(this,void 0,void 0,function*(){const Ze={author:this._connectedDid,messageParams:{filter:{recordId:this.id}},messageType:p.nx.RecordsRead,target:me},Je=ve?this._agent.sendDwnRequest(Ze):this._agent.processDwnRequest(Ze);try{const{reply:{status:pt,record:jt}}=yield Je;if(200!==pt.code)throw new Error(`${pt.code}: ${pt.detail}`);const yn=jt.data;return x.Z6.isReadableStream(yn)?x.VS.fromWebReadable({readableStream:yn}):yn}catch(pt){throw new Error(`Error encountered while attempting to read data: ${pt.message}`)}})}static verifyPermittedMutation(me,ve){for(const Ze of me)if(!ve.has(Ze))throw new Error(`${Ze} is an immutable property. Its value cannot be changed.`)}}return We._sendCache=A,We})();class Z{constructor(Me,me,ve){this._agent=Me,this._metadata=ve,this._protocolsConfigureMessage=me}get definition(){return this._protocolsConfigureMessage.descriptor.definition}toJSON(){return this._protocolsConfigureMessage}send(Me){return function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})}(this,void 0,void 0,function*(){const{reply:me}=yield this._agent.sendDwnRequest({author:this._metadata.author,messageCid:this._metadata.messageCid,messageType:p.nx.ProtocolsConfigure,target:Me});return{status:me.status}})}}var j=function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})};class re{constructor(Me){this.agent=Me.agent,this.connectedDid=Me.connectedDid}get protocols(){return{configure:Me=>j(this,void 0,void 0,function*(){const me=yield this.agent.processDwnRequest({author:this.connectedDid,messageParams:Me.message,messageType:p.nx.ProtocolsConfigure,target:this.connectedDid}),{message:ve,messageCid:Ze,reply:{status:Je}}=me,pt={status:Je};return Je.code<300&&(pt.protocol=new Z(this.agent,ve,{author:this.connectedDid,messageCid:Ze})),pt}),query:Me=>j(this,void 0,void 0,function*(){const me={author:this.connectedDid,messageParams:Me.message,messageType:p.nx.ProtocolsQuery,target:Me.from||this.connectedDid};let ve;ve=Me.from?yield this.agent.sendDwnRequest(me):yield this.agent.processDwnRequest(me);const Ze=ve.reply,{entries:Je=[],status:pt}=Ze;return{protocols:Je.map(yn=>new Z(this.agent,yn,{author:this.connectedDid})),status:pt}})}}get records(){return{create:Me=>j(this,void 0,void 0,function*(){return this.records.write(Me)}),createFrom:Me=>j(this,void 0,void 0,function*(){var me;const ve=Me.record.toJSON(),{author:Ze}=ve,Je=function(We,Me){var me={};for(var ve in We)Object.prototype.hasOwnProperty.call(We,ve)&&Me.indexOf(ve)<0&&(me[ve]=We[ve]);if(null!=We&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(We);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(We,ve[Ze])&&(me[ve[Ze]]=We[ve[Ze]])}return me}(ve,["author"]);return void 0!==Me.data&&(delete Je.dataCid,delete Je.dataSize),!1===(null===(me=Me.message)||void 0===me?void 0:me.published)&&void 0!==Je.datePublished&&(delete Je.datePublished,delete Je.published),(!(0,x.RI)(Me.message)||Me.author&&Me.author!==Ze)&&delete Je.recordId,this.records.write({data:Me.data,message:Object.assign(Object.assign({},Je),Me.message)})}),delete:Me=>j(this,void 0,void 0,function*(){const me={author:this.connectedDid,messageParams:Me.message,messageType:p.nx.RecordsDelete,target:Me.from||this.connectedDid};let ve;ve=Me.from?yield this.agent.sendDwnRequest(me):yield this.agent.processDwnRequest(me);const{reply:{status:Ze}}=ve;return{status:Ze}}),query:Me=>j(this,void 0,void 0,function*(){const me={author:this.connectedDid,messageParams:Me.message,messageType:p.nx.RecordsQuery,target:Me.from||this.connectedDid};let ve;ve=Me.from?yield this.agent.sendDwnRequest(me):yield this.agent.processDwnRequest(me);const Ze=ve.reply,{entries:Je,status:pt,cursor:jt}=Ze;return{records:Je.map(Ht=>{const bt=Object.assign({author:(0,p.dK)(Ht),connectedDid:this.connectedDid,remoteOrigin:Me.from},Ht);return new L(this.agent,bt)}),status:pt,cursor:jt}}),read:Me=>j(this,void 0,void 0,function*(){const me={author:this.connectedDid,messageParams:Me.message,messageType:p.nx.RecordsRead,target:Me.from||this.connectedDid};let ve;ve=Me.from?yield this.agent.sendDwnRequest(me):yield this.agent.processDwnRequest(me);const{reply:{record:Ze,status:Je}}=ve;let pt;if(200<=Je.code&&Je.code<=299){const jt=Object.assign({author:(0,p.dK)(Ze),connectedDid:this.connectedDid,remoteOrigin:Me.from},Ze);pt=new L(this.agent,jt)}return{record:pt,status:Je}}),write:Me=>j(this,void 0,void 0,function*(){var me;const{dataBlob:ve,dataFormat:Ze}=R(Me.data,null===(me=Me.message)||void 0===me?void 0:me.dataFormat),Je=yield this.agent.processDwnRequest({author:this.connectedDid,dataStream:ve,messageParams:Object.assign(Object.assign({},Me.message),{dataFormat:Ze}),messageType:p.nx.RecordsWrite,store:Me.store,target:this.connectedDid}),{message:pt,reply:{status:jt}}=Je;let yn;if(200<=jt.code&&jt.code<=299){const Ht=Object.assign({author:this.connectedDid,connectedDid:this.connectedDid,encodedData:ve},pt);yn=new L(this.agent,Ht)}return{record:yn,status:jt}})}}}class J{constructor(Me){this.agent=Me.agent,this.connectedDid=Me.connectedDid}create(){return We=this,Me=void 0,ve=function*(){throw new Error("Not implemented.")},new((me=void 0)||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())});var We,Me,me,ve}}var Y=function(We){return We.authentication="authentication",We.assertionMethod="assertionMethod",We.keyAgreement="keyAgreement",We.capabilityInvocation="capabilityInvocation",We.capabilityDelegation="capabilityDelegation",We}(Y||{});const oe={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class ae{constructor({method:Me,id:me,path:ve,query:Ze,fragment:Je,params:pt}){this.uri=`did:${Me}:${me}`,this.method=Me,this.id=me,this.path=ve,this.query=Ze,this.fragment=Je,this.params=pt}static parse(Me){if(!Me)return null;const me=ae.DID_URI_PATTERN.exec(Me);if(!me||!me.groups)return null;const{method:ve,id:Ze,path:Je,query:pt,fragment:jt}=me.groups,yn={uri:`did:${ve}:${Ze}`,method:ve,id:Ze};if(Je&&(yn.path=Je),pt&&(yn.query=pt.slice(1)),jt&&(yn.fragment=jt.slice(1)),pt){const Ht={},bt=pt.slice(1).split("&");for(const nn of bt){const[Or,pi]=nn.split("=");Ht[Or]=pi}yn.params=Ht}return yn}}ae.METHOD_PATTERN="([a-z0-9]+)",ae.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",ae.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${ae.PCT_ENCODED_PATTERN})`,ae.METHOD_ID_PATTERN=`((?:${ae.ID_CHAR_PATTERN}*:)*(${ae.ID_CHAR_PATTERN}+))`,ae.PATH_PATTERN="(/[^#?]*)?",ae.QUERY_PATTERN="([?][^#]*)?",ae.FRAGMENT_PATTERN="(#.*)?",ae.DID_URI_PATTERN=new RegExp(`^did:(?<method>${ae.METHOD_PATTERN}):(?<id>${ae.METHOD_ID_PATTERN})(?<path>${ae.PATH_PATTERN})(?<query>${ae.QUERY_PATTERN})(?<fragment>${ae.FRAGMENT_PATTERN})$`);class se extends Error{constructor(Me,me){super(`${Me}: ${me}`),this.code=Me,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,se)}}var de=function(We){return We.InvalidDid="invalidDid",We.MethodNotSupported="methodNotSupported",We.InternalError="internalError",We.InvalidDidDocument="invalidDidDocument",We.InvalidDidDocumentLength="invalidDidDocumentLength",We.InvalidDidUrl="invalidDidUrl",We.InvalidPreviousDidProof="invalidPreviousDidProof",We.InvalidPublicKey="invalidPublicKey",We.InvalidPublicKeyLength="invalidPublicKeyLength",We.InvalidPublicKeyType="invalidPublicKeyType",We.InvalidSignature="invalidSignature",We.NotFound="notFound",We.RepresentationNotSupported="representationNotSupported",We.UnsupportedPublicKeyType="unsupportedPublicKeyType",We}(de||{}),le=_(47565);class xe{static digest({data:Me}){return function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})}(this,void 0,void 0,function*(){return(0,le.s)(Me)})}}class Ce{}var u=_(94256),y=_(91006);const T="urn:jwk:";function N({jwk:We}){return function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})}(this,void 0,void 0,function*(){const Me=We.kty;let me;if("EC"===Me)me={crv:We.crv,kty:We.kty,x:We.x,y:We.y};else if("oct"===Me)me={k:We.k,kty:We.kty};else if("OKP"===Me)me={crv:We.crv,kty:We.kty,x:We.x};else{if("RSA"!==Me)throw new Error(`Unsupported key type: ${Me}`);me={e:We.e,kty:We.kty,n:We.n}}(0,x.E8)(me);const ve=function g(We){const Me=ve=>{if(null!==ve&&"object"==typeof ve&&!Array.isArray(ve)){const Ze=Object.keys(ve).sort(),Je={};for(const pt of Ze)Je[pt]=Me(ve[pt]);return Je}return ve},me=Me(We);return JSON.stringify(me)}(me),Ze=x.U$.string(ve).toUint8Array(),Je=yield xe.digest({data:Ze});return x.U$.uint8Array(Je).toBase64Url()})}function M(We){return!(!We||"object"!=typeof We||!("kty"in We&&"crv"in We&&"x"in We&&"d"in We)||"EC"!==We.kty||"string"!=typeof We.d||"string"!=typeof We.x)}function s(We){return!(!We||"object"!=typeof We||!("kty"in We&&"crv"in We&&"x"in We)||"d"in We||"EC"!==We.kty||"string"!=typeof We.x)}function W(We){return!(!We||"object"!=typeof We||!("kty"in We&&"crv"in We&&"x"in We&&"d"in We)||"OKP"!==We.kty||"string"!=typeof We.d||"string"!=typeof We.x)}function K(We){return!(!We||"object"!=typeof We||"d"in We||!("kty"in We&&"crv"in We&&"x"in We)||"OKP"!==We.kty||"string"!=typeof We.x)}var _e=function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})};class $e{static adjustSignatureToLowS({signature:Me}){return _e(this,void 0,void 0,function*(){const me=u.bI.Signature.fromCompact(Me);return me.hasHighS()?me.normalizeS().toCompactRawBytes():Me})}static bytesToPrivateKey({privateKeyBytes:Me}){return _e(this,void 0,void 0,function*(){const me=yield $e.getCurvePoint({keyBytes:Me}),ve={kty:"EC",crv:"secp256k1",d:x.U$.uint8Array(Me).toBase64Url(),x:x.U$.uint8Array(me.x).toBase64Url(),y:x.U$.uint8Array(me.y).toBase64Url()};return ve.kid=yield N({jwk:ve}),ve})}static bytesToPublicKey({publicKeyBytes:Me}){return _e(this,void 0,void 0,function*(){const me=yield $e.getCurvePoint({keyBytes:Me}),ve={kty:"EC",crv:"secp256k1",x:x.U$.uint8Array(me.x).toBase64Url(),y:x.U$.uint8Array(me.y).toBase64Url()};return ve.kid=yield N({jwk:ve}),ve})}static compressPublicKey({publicKeyBytes:Me}){return _e(this,void 0,void 0,function*(){return u.bI.ProjectivePoint.fromHex(Me).toRawBytes(!0)})}static computePublicKey({key:Me}){return _e(this,void 0,void 0,function*(){const me=yield $e.privateKeyToBytes({privateKey:Me}),ve=yield $e.getCurvePoint({keyBytes:me}),Ze={kty:"EC",crv:"secp256k1",x:x.U$.uint8Array(ve.x).toBase64Url(),y:x.U$.uint8Array(ve.y).toBase64Url()};return Ze.kid=yield N({jwk:Ze}),Ze})}static convertDerToCompactSignature({derSignature:Me}){return _e(this,void 0,void 0,function*(){return u.bI.Signature.fromDER(Me).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:Me}){return _e(this,void 0,void 0,function*(){return u.bI.ProjectivePoint.fromHex(Me).toRawBytes(!1)})}static generateKey(){return _e(this,void 0,void 0,function*(){const Me=u.bI.utils.randomPrivateKey(),me=yield $e.bytesToPrivateKey({privateKeyBytes:Me});return me.kid=yield N({jwk:me}),me})}static getPublicKey({key:Me}){var me;return _e(this,void 0,void 0,function*(){if(!M(Me)||"secp256k1"!==Me.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let Ze=function(We,Me){var me={};for(var ve in We)Object.prototype.hasOwnProperty.call(We,ve)&&Me.indexOf(ve)<0&&(me[ve]=We[ve]);if(null!=We&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(We);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(We,ve[Ze])&&(me[ve[Ze]]=We[ve[Ze]])}return me}(Me,["d"]);return null!==(me=Ze.kid)&&void 0!==me||(Ze.kid=yield N({jwk:Ze})),Ze})}static privateKeyToBytes({privateKey:Me}){return _e(this,void 0,void 0,function*(){if(!M(Me))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return x.U$.base64Url(Me.d).toUint8Array()})}static publicKeyToBytes({publicKey:Me}){return _e(this,void 0,void 0,function*(){if(!s(Me)||!Me.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const me=new Uint8Array([4]),ve=x.U$.base64Url(Me.x).toUint8Array(),Ze=x.U$.base64Url(Me.y).toUint8Array();return new Uint8Array([...me,...ve,...Ze])})}static sharedSecret({privateKeyA:Me,publicKeyB:me}){return _e(this,void 0,void 0,function*(){if("x"in Me&&"x"in me&&Me.x===me.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const ve=yield $e.privateKeyToBytes({privateKey:Me}),Ze=yield $e.publicKeyToBytes({publicKey:me});return u.bI.getSharedSecret(ve,Ze,!0).slice(1)})}static sign({data:Me,key:me}){return _e(this,void 0,void 0,function*(){const ve=yield $e.privateKeyToBytes({privateKey:me}),Ze=(0,le.s)(Me);return u.bI.sign(Ze,ve).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:Me}){return _e(this,void 0,void 0,function*(){return u.bI.utils.isValidPrivateKey(Me)})}static validatePublicKey({publicKeyBytes:Me}){return _e(this,void 0,void 0,function*(){try{u.bI.ProjectivePoint.fromHex(Me).assertValidity()}catch{return!1}return!0})}static verify({key:Me,signature:me,data:ve}){return _e(this,void 0,void 0,function*(){const Ze=yield $e.publicKeyToBytes({publicKey:Me}),Je=(0,le.s)(ve);return u.bI.verify(me,Je,Ze,{lowS:!1})})}static getCurvePoint({keyBytes:Me}){return _e(this,void 0,void 0,function*(){32===Me.byteLength&&(Me=u.bI.getPublicKey(Me));const me=u.bI.ProjectivePoint.fromHex(Me);return{x:(0,y.lq)(me.x,32),y:(0,y.lq)(me.y,32)}})}}var Se=_(40499),be=function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})};class ye{static adjustSignatureToLowS({signature:Me}){return be(this,void 0,void 0,function*(){const me=Se.Ag.Signature.fromCompact(Me);return me.hasHighS()?me.normalizeS().toCompactRawBytes():Me})}static bytesToPrivateKey({privateKeyBytes:Me}){return be(this,void 0,void 0,function*(){const me=yield ye.getCurvePoint({keyBytes:Me}),ve={kty:"EC",crv:"P-256",d:x.U$.uint8Array(Me).toBase64Url(),x:x.U$.uint8Array(me.x).toBase64Url(),y:x.U$.uint8Array(me.y).toBase64Url()};return ve.kid=yield N({jwk:ve}),ve})}static bytesToPublicKey({publicKeyBytes:Me}){return be(this,void 0,void 0,function*(){const me=yield ye.getCurvePoint({keyBytes:Me}),ve={kty:"EC",crv:"P-256",x:x.U$.uint8Array(me.x).toBase64Url(),y:x.U$.uint8Array(me.y).toBase64Url()};return ve.kid=yield N({jwk:ve}),ve})}static compressPublicKey({publicKeyBytes:Me}){return be(this,void 0,void 0,function*(){return Se.Ag.ProjectivePoint.fromHex(Me).toRawBytes(!0)})}static computePublicKey({key:Me}){return be(this,void 0,void 0,function*(){const me=yield ye.privateKeyToBytes({privateKey:Me}),ve=yield ye.getCurvePoint({keyBytes:me}),Ze={kty:"EC",crv:"P-256",x:x.U$.uint8Array(ve.x).toBase64Url(),y:x.U$.uint8Array(ve.y).toBase64Url()};return Ze.kid=yield N({jwk:Ze}),Ze})}static convertDerToCompactSignature({derSignature:Me}){return be(this,void 0,void 0,function*(){return Se.Ag.Signature.fromDER(Me).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:Me}){return be(this,void 0,void 0,function*(){return Se.Ag.ProjectivePoint.fromHex(Me).toRawBytes(!1)})}static generateKey(){return be(this,void 0,void 0,function*(){const Me=Se.Ag.utils.randomPrivateKey(),me=yield ye.bytesToPrivateKey({privateKeyBytes:Me});return me.kid=yield N({jwk:me}),me})}static getPublicKey({key:Me}){var me;return be(this,void 0,void 0,function*(){if(!M(Me)||"P-256"!==Me.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let Ze=function(We,Me){var me={};for(var ve in We)Object.prototype.hasOwnProperty.call(We,ve)&&Me.indexOf(ve)<0&&(me[ve]=We[ve]);if(null!=We&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(We);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(We,ve[Ze])&&(me[ve[Ze]]=We[ve[Ze]])}return me}(Me,["d"]);return null!==(me=Ze.kid)&&void 0!==me||(Ze.kid=yield N({jwk:Ze})),Ze})}static privateKeyToBytes({privateKey:Me}){return be(this,void 0,void 0,function*(){if(!M(Me))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return x.U$.base64Url(Me.d).toUint8Array()})}static publicKeyToBytes({publicKey:Me}){return be(this,void 0,void 0,function*(){if(!s(Me)||!Me.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const me=new Uint8Array([4]),ve=x.U$.base64Url(Me.x).toUint8Array(),Ze=x.U$.base64Url(Me.y).toUint8Array();return new Uint8Array([...me,...ve,...Ze])})}static sharedSecret({privateKeyA:Me,publicKeyB:me}){return be(this,void 0,void 0,function*(){if("x"in Me&&"x"in me&&Me.x===me.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const ve=yield ye.privateKeyToBytes({privateKey:Me}),Ze=yield ye.publicKeyToBytes({publicKey:me});return Se.Ag.getSharedSecret(ve,Ze,!0).slice(1)})}static sign({data:Me,key:me}){return be(this,void 0,void 0,function*(){const ve=yield ye.privateKeyToBytes({privateKey:me}),Ze=(0,le.s)(Me);return Se.Ag.sign(Ze,ve).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:Me}){return be(this,void 0,void 0,function*(){return Se.Ag.utils.isValidPrivateKey(Me)})}static validatePublicKey({publicKeyBytes:Me}){return be(this,void 0,void 0,function*(){try{Se.Ag.ProjectivePoint.fromHex(Me).assertValidity()}catch{return!1}return!0})}static verify({key:Me,signature:me,data:ve}){return be(this,void 0,void 0,function*(){const Ze=yield ye.publicKeyToBytes({publicKey:Me}),Je=(0,le.s)(ve);return Se.Ag.verify(me,Je,Ze,{lowS:!1})})}static getCurvePoint({keyBytes:Me}){return be(this,void 0,void 0,function*(){32===Me.byteLength&&(Me=Se.Ag.getPublicKey(Me));const me=Se.Ag.ProjectivePoint.fromHex(Me);return{x:(0,y.lq)(me.x,32),y:(0,y.lq)(me.y,32)}})}}var Te=function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})};class pe extends Ce{computePublicKey({key:Me}){return Te(this,void 0,void 0,function*(){if(!M(Me))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Me.crv){case"secp256k1":{const me=yield $e.computePublicKey({key:Me});return me.alg="ES256K",me}case"P-256":{const me=yield ye.computePublicKey({key:Me});return me.alg="ES256",me}default:throw new Error(`Unsupported curve: ${Me.crv}`)}})}generateKey({algorithm:Me}){return Te(this,void 0,void 0,function*(){switch(Me){case"ES256K":case"secp256k1":{const me=yield $e.generateKey();return me.alg="ES256K",me}case"ES256":case"secp256r1":{const me=yield ye.generateKey();return me.alg="ES256",me}}})}getPublicKey({key:Me}){return Te(this,void 0,void 0,function*(){if(!M(Me))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Me.crv){case"secp256k1":{const me=yield $e.getPublicKey({key:Me});return me.alg="ES256K",me}case"P-256":{const me=yield ye.getPublicKey({key:Me});return me.alg="ES256",me}default:throw new Error(`Unsupported curve: ${Me.crv}`)}})}sign({key:Me,data:me}){return Te(this,void 0,void 0,function*(){if(!M(Me))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Me.crv){case"secp256k1":return yield $e.sign({key:Me,data:me});case"P-256":return yield ye.sign({key:Me,data:me});default:throw new Error(`Unsupported curve: ${Me.crv}`)}})}verify({key:Me,signature:me,data:ve}){return Te(this,void 0,void 0,function*(){if(!s(Me))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(Me.crv){case"secp256k1":return yield $e.verify({key:Me,signature:me,data:ve});case"P-256":return yield ye.verify({key:Me,signature:me,data:ve});default:throw new Error(`Unsupported curve: ${Me.crv}`)}})}}var fe=_(86295),Q=function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})};class ue{static bytesToPrivateKey({privateKeyBytes:Me}){return Q(this,void 0,void 0,function*(){const me=fe.ev.getPublicKey(Me),ve={crv:"Ed25519",d:x.U$.uint8Array(Me).toBase64Url(),kty:"OKP",x:x.U$.uint8Array(me).toBase64Url()};return ve.kid=yield N({jwk:ve}),ve})}static bytesToPublicKey({publicKeyBytes:Me}){return Q(this,void 0,void 0,function*(){const me={kty:"OKP",crv:"Ed25519",x:x.U$.uint8Array(Me).toBase64Url()};return me.kid=yield N({jwk:me}),me})}static computePublicKey({key:Me}){return Q(this,void 0,void 0,function*(){const me=yield ue.privateKeyToBytes({privateKey:Me}),ve=fe.ev.getPublicKey(me),Ze={kty:"OKP",crv:"Ed25519",x:x.U$.uint8Array(ve).toBase64Url()};return Ze.kid=yield N({jwk:Ze}),Ze})}static convertPrivateKeyToX25519({privateKey:Me}){return Q(this,void 0,void 0,function*(){const me=yield ue.privateKeyToBytes({privateKey:Me}),ve=(0,fe.OA)(me),Ze=fe.TU.getPublicKey(ve),Je={kty:"OKP",crv:"X25519",d:x.U$.uint8Array(ve).toBase64Url(),x:x.U$.uint8Array(Ze).toBase64Url()};return Je.kid=yield N({jwk:Je}),Je})}static convertPublicKeyToX25519({publicKey:Me}){return Q(this,void 0,void 0,function*(){const me=yield ue.publicKeyToBytes({publicKey:Me});if(!(yield ue.validatePublicKey({publicKeyBytes:me})))throw new Error("Ed25519: Invalid public key.");const Ze=(0,fe.GU)(me),Je={kty:"OKP",crv:"X25519",x:x.U$.uint8Array(Ze).toBase64Url()};return Je.kid=yield N({jwk:Je}),Je})}static generateKey(){return Q(this,void 0,void 0,function*(){const Me=fe.ev.utils.randomPrivateKey(),me=yield ue.bytesToPrivateKey({privateKeyBytes:Me});return me.kid=yield N({jwk:me}),me})}static getPublicKey({key:Me}){var me;return Q(this,void 0,void 0,function*(){if(!W(Me)||"Ed25519"!==Me.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let Ze=function(We,Me){var me={};for(var ve in We)Object.prototype.hasOwnProperty.call(We,ve)&&Me.indexOf(ve)<0&&(me[ve]=We[ve]);if(null!=We&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(We);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(We,ve[Ze])&&(me[ve[Ze]]=We[ve[Ze]])}return me}(Me,["d"]);return null!==(me=Ze.kid)&&void 0!==me||(Ze.kid=yield N({jwk:Ze})),Ze})}static privateKeyToBytes({privateKey:Me}){return Q(this,void 0,void 0,function*(){if(!W(Me))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return x.U$.base64Url(Me.d).toUint8Array()})}static publicKeyToBytes({publicKey:Me}){return Q(this,void 0,void 0,function*(){if(!K(Me))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return x.U$.base64Url(Me.x).toUint8Array()})}static sign({key:Me,data:me}){return Q(this,void 0,void 0,function*(){const ve=yield ue.privateKeyToBytes({privateKey:Me});return fe.ev.sign(me,ve)})}static validatePublicKey({publicKeyBytes:Me}){return Q(this,void 0,void 0,function*(){try{fe.ev.ExtendedPoint.fromHex(Me).assertValidity()}catch{return!1}return!0})}static verify({key:Me,signature:me,data:ve}){return Q(this,void 0,void 0,function*(){const Ze=yield ue.publicKeyToBytes({publicKey:Me});return fe.ev.verify(me,ve,Ze)})}}var Ee=function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})},Ue=function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})};const Le={Ed25519:{implementation:class ke extends Ce{computePublicKey({key:Me}){return Ee(this,void 0,void 0,function*(){if(!W(Me))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Me.crv){const me=yield ue.computePublicKey({key:Me});return me.alg="EdDSA",me}throw new Error(`Unsupported curve: ${Me.crv}`)})}generateKey({algorithm:Me}){return Ee(this,void 0,void 0,function*(){if("Ed25519"===Me){const me=yield ue.generateKey();return me.alg="EdDSA",me}})}getPublicKey({key:Me}){return Ee(this,void 0,void 0,function*(){if(!W(Me))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Me.crv){const me=yield ue.getPublicKey({key:Me});return me.alg="EdDSA",me}throw new Error(`Unsupported curve: ${Me.crv}`)})}sign({key:Me,data:me}){return Ee(this,void 0,void 0,function*(){if(!W(Me))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Me.crv)return yield ue.sign({key:Me,data:me});throw new Error(`Unsupported curve: ${Me.crv}`)})}verify({key:Me,signature:me,data:ve}){return Ee(this,void 0,void 0,function*(){if(!K(Me))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===Me.crv)return yield ue.verify({key:Me,signature:me,data:ve});throw new Error(`Unsupported curve: ${Me.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:pe,names:["ES256K","secp256k1"]},secp256r1:{implementation:pe,names:["ES256","secp256r1"]},"SHA-256":{implementation:class a extends Ce{digest({algorithm:Me,data:me}){return function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===Me)return yield xe.digest({data:me})})}},names:["SHA-256"]}};class _t{constructor(Me){var me;this._algorithmInstances=new Map,this._keyStore=null!==(me=Me?.keyStore)&&void 0!==me?me:new x.ny}digest({algorithm:Me,data:me}){return Ue(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:Me}).digest({algorithm:Me,data:me})})}exportKey({keyUri:Me}){return Ue(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:Me})})}generateKey({algorithm:Me}){return Ue(this,void 0,void 0,function*(){const ve=yield this.getAlgorithm({algorithm:Me}).generateKey({algorithm:Me});if(void 0===ve?.kid)throw new Error("Generated key is missing a required property: kid");const Ze=`${T}${ve.kid}`;return yield this._keyStore.set(Ze,ve),Ze})}getKeyUri({key:Me}){return Ue(this,void 0,void 0,function*(){const me=yield N({jwk:Me});return`${T}${me}`})}getPublicKey({keyUri:Me}){return Ue(this,void 0,void 0,function*(){const me=yield this.getPrivateKey({keyUri:Me}),ve=this.getAlgorithmName({key:me});return yield this.getAlgorithm({algorithm:ve}).getPublicKey({key:me})})}importKey({key:Me}){var me;return Ue(this,void 0,void 0,function*(){if(!function ee(We){if(!We||"object"!=typeof We)return!1;switch(We.kty){case"EC":case"OKP":case"RSA":return"d"in We;case"oct":return"k"in We;default:return!1}}(Me))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const ve=structuredClone(Me);null!==(me=ve.kid)&&void 0!==me||(ve.kid=yield N({jwk:ve}));const Ze=yield this.getKeyUri({key:ve});return yield this._keyStore.set(Ze,ve),Ze})}sign({keyUri:Me,data:me}){return Ue(this,void 0,void 0,function*(){const ve=yield this.getPrivateKey({keyUri:Me}),Ze=this.getAlgorithmName({key:ve});return this.getAlgorithm({algorithm:Ze}).sign({data:me,key:ve})})}verify({key:Me,signature:me,data:ve}){return Ue(this,void 0,void 0,function*(){const Ze=this.getAlgorithmName({key:Me});return this.getAlgorithm({algorithm:Ze}).verify({key:Me,signature:me,data:ve})})}getAlgorithm({algorithm:Me}){var me;const ve=null===(me=Le[Me])||void 0===me?void 0:me.implementation;if(!ve)throw new Error(`Algorithm not supported: ${Me}`);return this._algorithmInstances.has(ve)||this._algorithmInstances.set(ve,new ve),this._algorithmInstances.get(ve)}getAlgorithmName({key:Me}){const me=Me.alg,ve=Me.crv;for(const Ze in Le){const Je=Le[Ze];if(me&&Je.names.includes(me))return Ze;if(ve&&Je.names.includes(ve))return Ze}throw new Error(`Unable to determine algorithm based on provided input: alg=${me}, crv=${ve}`)}getPrivateKey({keyUri:Me}){return Ue(this,void 0,void 0,function*(){const me=yield this._keyStore.get(Me);if(!me)throw new Error(`Key not found: ${Me}`);return me})}}function w(We){const Me={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(We.alg&&Object.values(Me).includes(We.alg))return We.alg;if(We.crv&&Object.keys(Me).includes(We.crv))return Me[We.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${We.alg}, crv=${We.crv}. Supported 'alg' values: ${Object.values(Me).join(", ")}. Supported 'crv' values: ${Object.keys(Me).join(", ")}.`)}_(86703),_(62953),_(91879);var St=function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})};class nt{static bytesToPrivateKey({privateKeyBytes:Me}){return St(this,void 0,void 0,function*(){const me=fe.TU.getPublicKey(Me),ve={kty:"OKP",crv:"X25519",d:x.U$.uint8Array(Me).toBase64Url(),x:x.U$.uint8Array(me).toBase64Url()};return ve.kid=yield N({jwk:ve}),ve})}static bytesToPublicKey({publicKeyBytes:Me}){return St(this,void 0,void 0,function*(){const me={kty:"OKP",crv:"X25519",x:x.U$.uint8Array(Me).toBase64Url()};return me.kid=yield N({jwk:me}),me})}static computePublicKey({key:Me}){return St(this,void 0,void 0,function*(){const me=yield nt.privateKeyToBytes({privateKey:Me}),ve=fe.TU.getPublicKey(me),Ze={kty:"OKP",crv:"X25519",x:x.U$.uint8Array(ve).toBase64Url()};return Ze.kid=yield N({jwk:Ze}),Ze})}static generateKey(){return St(this,void 0,void 0,function*(){const Me=fe.TU.utils.randomPrivateKey(),me=yield nt.bytesToPrivateKey({privateKeyBytes:Me});return me.kid=yield N({jwk:me}),me})}static getPublicKey({key:Me}){var me;return St(this,void 0,void 0,function*(){if(!W(Me)||"X25519"!==Me.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let Ze=function(We,Me){var me={};for(var ve in We)Object.prototype.hasOwnProperty.call(We,ve)&&Me.indexOf(ve)<0&&(me[ve]=We[ve]);if(null!=We&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(We);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(We,ve[Ze])&&(me[ve[Ze]]=We[ve[Ze]])}return me}(Me,["d"]);return null!==(me=Ze.kid)&&void 0!==me||(Ze.kid=yield N({jwk:Ze})),Ze})}static privateKeyToBytes({privateKey:Me}){return St(this,void 0,void 0,function*(){if(!W(Me))throw new Error("X25519: The provided key is not a valid OKP private key.");return x.U$.base64Url(Me.d).toUint8Array()})}static publicKeyToBytes({publicKey:Me}){return St(this,void 0,void 0,function*(){if(!K(Me))throw new Error("X25519: The provided key is not a valid OKP public key.");return x.U$.base64Url(Me.x).toUint8Array()})}static sharedSecret({privateKeyA:Me,publicKeyB:me}){return St(this,void 0,void 0,function*(){if("x"in Me&&"x"in me&&Me.x===me.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const ve=yield nt.privateKeyToBytes({privateKey:Me}),Ze=yield nt.publicKeyToBytes({publicKey:me});return fe.TU.getSharedSecret(ve,Ze)})}}function $n(We){if("string"==typeof We&&0!==We.length)return We.split("#").pop()}function yr(We){return!(!We||"object"!=typeof We||null===We||!("id"in We&&"type"in We&&"controller"in We)||"string"!=typeof We.id||"string"!=typeof We.type||"string"!=typeof We.controller)}_(94730);var Kr=function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})};class Xr{constructor({uri:Me,document:me,metadata:ve,keyManager:Ze}){this.uri=Me,this.document=me,this.metadata=ve,this.keyManager=Ze}export(){return Kr(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let Me={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const me=[];for(let ve of this.document.verificationMethod){if(!ve.publicKeyJwk)throw new Error(`Verification method '${ve.id}' does not contain a public key in JWK format`);const Ze=yield this.keyManager.getKeyUri({key:ve.publicKeyJwk}),Je=yield this.keyManager.exportKey({keyUri:Ze});me.push(Object.assign({},Je))}Me.privateKeys=me}return Me})}getSigner(Me){return Kr(this,void 0,void 0,function*(){var me;const ve=null===(me=this.document.verificationMethod)||void 0===me?void 0:me.find(yn=>{var Ht,bt;return $n(yn.id)===(null!==(Ht=$n(Me?.methodId))&&void 0!==Ht?Ht:$n(null===(bt=this.document.assertionMethod)||void 0===bt?void 0:bt[0]))});if(!ve||!ve.publicKeyJwk)throw new se(de.InternalError,"A verification method intended for signing could not be determined from the DID Document");const Ze=yield this.keyManager.getKeyUri({key:ve.publicKeyJwk}),Je=yield this.keyManager.getPublicKey({keyUri:Ze}),pt=this.keyManager;return{algorithm:w(Je),keyId:ve.id,sign(yn){return Kr(this,arguments,void 0,function*({data:Ht}){return yield pt.sign({data:Ht,keyUri:Ze})})},verify(yn){return Kr(this,arguments,void 0,function*({data:Ht,signature:bt}){return yield pt.verify({data:Ht,key:Je,signature:bt})})}}})}static import(Me){return Kr(this,arguments,void 0,function*({portableDid:me,keyManager:ve=new _t}){var Ze;const Je=function ct({didDocument:We}){var Me,me;if(!We)throw new TypeError("Required parameter missing: 'didDocument'");const ve=[];return ve.push(...null!==(me=null===(Me=We.verificationMethod)||void 0===Me?void 0:Me.filter(yr))&&void 0!==me?me:[]),Object.keys(Y).forEach(Ze=>{var Je,pt;ve.push(...null!==(pt=null===(Je=We[Ze])||void 0===Je?void 0:Je.filter(yr))&&void 0!==pt?pt:[])}),ve}({didDocument:me.document});if(0===Je.length)throw new se(de.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let jt of null!==(Ze=me.privateKeys)&&void 0!==Ze?Ze:[])yield ve.importKey({key:jt});for(let jt of Je){if(!jt.publicKeyJwk)throw new Error(`Verification method '${jt.id}' does not contain a public key in JWK format`);const yn=yield ve.getKeyUri({key:jt.publicKeyJwk});yield ve.getPublicKey({keyUri:yn})}return new Xr({uri:me.uri,document:me.document,metadata:me.metadata,keyManager:ve})})}}var ri=_(2198),en=_(49402),wn=function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})};class Dn{static getSigningMethod(Me){return wn(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(Me,me){return wn(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var Fn=function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})},fr=function(We,Me){var me={};for(var ve in We)Object.prototype.hasOwnProperty.call(We,ve)&&Me.indexOf(ve)<0&&(me[ve]=We[ve]);if(null!=We&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(We);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(We,ve[Ze])&&(me[ve[Ze]]=We[ve[Ze]])}return me};const Sr="https://diddht.tbddev.org",Fr=7200,ti=",";var xo=function(We){return We[We.Discoverable=0]="Discoverable",We[We.Organization=1]="Organization",We[We.Government=2]="Government",We[We.Corporation=3]="Corporation",We[We.LocalBusiness=4]="LocalBusiness",We[We.SoftwarePackage=5]="SoftwarePackage",We[We.WebApp=6]="WebApp",We[We.FinancialInstitution=7]="FinancialInstitution",We}(xo||{}),bi=function(We){return We[We.Ed25519=0]="Ed25519",We[We.secp256k1=1]="secp256k1",We[We.secp256r1=2]="secp256r1",We[We.X25519=3]="X25519",We}(bi||{}),Ao=function(We){return We.authentication="auth",We.assertionMethod="asm",We.capabilityDelegation="del",We.capabilityInvocation="inv",We.keyAgreement="agm",We}(Ao||{});const ko={Ed25519:bi.Ed25519,ES256K:bi.secp256k1,ES256:bi.secp256r1,"P-256":bi.secp256r1,secp256k1:bi.secp256k1,secp256r1:bi.secp256r1,X25519:bi.X25519},Jo={[bi.Ed25519]:"Ed25519",[bi.secp256k1]:"ES256K",[bi.secp256r1]:"ES256",[bi.X25519]:"ECDH-ES+A256KW"};let ji=(()=>{class We extends Dn{static create(){return Fn(this,arguments,void 0,function*({keyManager:me=new _t,options:ve={}}={}){var Ze,Je,pt,jt,yn,Ht,bt,nn,Or,pi,ii;if(null!==(Ze=ve.verificationMethods)&&void 0!==Ze&&Ze.some(Lr=>!(Lr.algorithm in ko)))throw new Error("One or more verification method algorithms are not supported");const hi=null===(Je=ve.verificationMethods)||void 0===Je?void 0:Je.filter(Lr=>"id"in Lr).map(Lr=>Lr.id);if(hi&&hi.length!==new Set(hi).size)throw new Error("One or more verification method IDs are not unique");if(null!==(pt=ve.services)&&void 0!==pt&&pt.some(Lr=>!Lr.id||!Lr.type||!Lr.serviceEndpoint))throw new Error("One or more services are missing required properties");const Oi=yield me.generateKey({algorithm:"Ed25519"}),Vo=yield me.getPublicKey({keyUri:Oi}),mi=yield Ui.identityKeyToIdentifier({identityKey:Vo}),Dr=Object.assign(Object.assign({id:mi},ve.alsoKnownAs&&{alsoKnownAs:ve.alsoKnownAs}),ve.controllers&&{controller:ve.controllers}),ki=[...null!==(jt=ve.verificationMethods)&&void 0!==jt?jt:[]];ki?.some(Lr=>{var Eo;return"0"===(null===(Eo=Lr.id)||void 0===Eo?void 0:Eo.split("#").pop())})||ki.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const Lr of ki){const Eo=Lr.id&&"0"===Lr.id.split("#").pop()?Oi:yield me.generateKey({algorithm:Lr.algorithm}),lc=yield me.getPublicKey({keyUri:Eo});let He=null!==(Ht=null!==(yn=Lr.id)&&void 0!==yn?yn:lc.kid)&&void 0!==Ht?Ht:yield N({jwk:lc});He=`${mi}#${$n(He)}`,null!==(bt=Dr.verificationMethod)&&void 0!==bt||(Dr.verificationMethod=[]),Dr.verificationMethod.push({id:He,type:"JsonWebKey",controller:null!==(nn=Lr.controller)&&void 0!==nn?nn:mi,publicKeyJwk:lc});for(const ut of null!==(Or=Lr.purposes)&&void 0!==Or?Or:[])Dr[ut]||(Dr[ut]=[]),Dr[ut].push(He)}null===(pi=ve.services)||void 0===pi||pi.forEach(Lr=>{var Eo;null!==(Eo=Dr.service)&&void 0!==Eo||(Dr.service=[]),Lr.id=`${mi}#${Lr.id.split("#").pop()}`,Dr.service.push(Lr)});const so=new Xr({uri:mi,document:Dr,metadata:Object.assign({published:!1},ve.types&&{types:ve.types}),keyManager:me});if(null===(ii=ve.publish)||void 0===ii||ii){const Lr=yield We.publish({did:so,gatewayUri:ve.gatewayUri});so.metadata=Lr.didDocumentMetadata}return so})}static import(me){return Fn(this,arguments,void 0,function*({portableDid:ve,keyManager:Ze=new _t}){var Je;const pt=ae.parse(ve.uri);if(pt?.method!==We.methodName)throw new se(de.MethodNotSupported,"Method not supported");const jt=yield Xr.import({portableDid:ve,keyManager:Ze});if(null===(Je=jt.document.verificationMethod)||void 0===Je||!Je.some(yn=>{var Ht;return"0"===(null===(Ht=yn.id)||void 0===Ht?void 0:Ht.split("#").pop())}))throw new se(de.InvalidDidDocument,"DID document must contain an Identity Key");return jt})}static getSigningMethod(me){return Fn(this,arguments,void 0,function*({didDocument:ve,methodId:Ze="#0"}){var Je;const pt=ae.parse(ve.id);if(pt&&pt.method!==this.methodName)throw new se(de.MethodNotSupported,`Method not supported: ${pt.method}`);const jt=null===(Je=ve.verificationMethod)||void 0===Je?void 0:Je.find(yn=>{var Ht,bt;return $n(yn.id)===(null!==(Ht=$n(Ze))&&void 0!==Ht?Ht:$n(null===(bt=ve.assertionMethod)||void 0===bt?void 0:bt[0]))});if(!jt||!jt.publicKeyJwk)throw new se(de.InternalError,"A verification method intended for signing could not be determined from the DID Document");return jt})}static publish(me){return Fn(this,arguments,void 0,function*({did:ve,gatewayUri:Ze=Sr}){return yield wi.put({did:ve,gatewayUri:Ze})})}static resolve(me){return Fn(this,arguments,void 0,function*(ve,Ze={}){var Je;const pt=null!==(Je=Ze?.gatewayUri)&&void 0!==Je?Je:Sr;try{yield Ui.identifierToIdentityKey({didUri:ve});const{didDocument:jt,didDocumentMetadata:yn}=yield wi.get({didUri:ve,gatewayUri:pt});return Object.assign(Object.assign({},oe),{didDocument:jt,didDocumentMetadata:yn})}catch(jt){if(!(jt instanceof se))throw new Error(jt);return Object.assign(Object.assign({},oe),{didResolutionMetadata:Object.assign({error:jt.code},jt.message&&{errorMessage:jt.message})})}})}}return We.methodName="dht",We})();class wi{static get(Me){return Fn(this,arguments,void 0,function*({didUri:me,gatewayUri:ve}){const Ze=Ui.identifierToIdentityKeyBytes({didUri:me}),Je=yield wi.pkarrGet({gatewayUri:ve,publicKeyBytes:Ze}),pt=yield Ui.parseBep44GetMessage({bep44Message:Je}),jt=yield wi.fromDnsPacket({didUri:me,dnsPacket:pt});return jt.didDocumentMetadata.versionId=Je.seq.toString(),jt})}static put(Me){return Fn(this,arguments,void 0,function*({did:me,gatewayUri:ve}){const Ze=yield wi.toDnsPacket({didDocument:me.document,didMetadata:me.metadata,authoritativeGatewayUris:[ve]}),Je=yield Ui.createBep44PutMessage({dnsPacket:Ze,publicKeyBytes:Ui.identifierToIdentityKeyBytes({didUri:me.uri}),signer:yield me.getSigner({methodId:"0"})}),pt=yield wi.pkarrPut({gatewayUri:ve,bep44Message:Je});return{didDocument:me.document,didDocumentMetadata:Object.assign(Object.assign({},me.metadata),{published:pt,versionId:Je.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(Me){return Fn(this,arguments,void 0,function*({gatewayUri:me,publicKeyBytes:ve}){const Ze=x.U$.uint8Array(ve).toBase32Z(),Je=new URL(Ze,me).href;let pt;try{if(pt=yield fetch(Je,{method:"GET"}),!pt.ok)throw new se(de.NotFound,`Pkarr record not found for: ${Ze}`)}catch(Ht){throw Ht instanceof se?Ht:new se(de.InternalError,`Failed to fetch Pkarr record: ${Ht.message}`)}const jt=yield pt.arrayBuffer();if(!jt)throw new se(de.NotFound,`Pkarr record not found for: ${Ze}`);if(jt.byteLength<72)throw new se(de.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${jt.byteLength}`);if(jt.byteLength>1072)throw new se(de.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${jt.byteLength}`);return{k:ve,seq:Number(new DataView(jt).getBigUint64(64)),sig:new Uint8Array(jt,0,64),v:new Uint8Array(jt,72)}})}static pkarrPut(Me){return Fn(this,arguments,void 0,function*({gatewayUri:me,bep44Message:ve}){const Ze=x.U$.uint8Array(ve.k).toBase32Z(),Je=new URL(Ze,me).href,pt=new Uint8Array(ve.v.length+72);let jt;pt.set(ve.sig,0),new DataView(pt.buffer).setBigUint64(ve.sig.length,BigInt(ve.seq)),pt.set(ve.v,ve.sig.length+8);try{jt=yield fetch(Je,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:pt})}catch(yn){throw new se(de.InternalError,`Failed to put Pkarr record for identifier ${Ze}: ${yn.message}`)}return jt.ok})}static fromDnsPacket(Me){return Fn(this,arguments,void 0,function*({didUri:me,dnsPacket:ve}){var Ze,Je,pt;const jt={id:me},yn={published:!0},Ht=new Map;for(const bt of null!==(Ze=ve?.answers)&&void 0!==Ze?Ze:[]){if("TXT"!==bt.type)continue;const nn=bt.name.split(".")[0].substring(1);switch(!0){case nn.startsWith("aka"):{const Or=Ui.parseTxtDataToString(bt.data);jt.alsoKnownAs=Or.split(ti);break}case nn.startsWith("cnt"):{const Or=Ui.parseTxtDataToString(bt.data);jt.controller=Or.includes(ti)?Or.split(ti):Or;break}case nn.startsWith("k"):{const{id:Or,t:pi,k:ii,c:hi,a:Oi}=Ui.parseTxtDataToObject(bt.data),Vo=x.U$.base64Url(ii).toUint8Array(),mi=bi[Number(pi)];let Dr=yield Ui.keyConverter(mi).bytesToPublicKey({publicKeyBytes:Vo});Dr.alg=Oi||Jo[Number(pi)];const ki="k0"===nn?"0":void 0!==Or?Or:yield N({jwk:Dr});null!==(Je=jt.verificationMethod)&&void 0!==Je||(jt.verificationMethod=[]);const so=`${me}#${ki}`;jt.verificationMethod.push({id:so,type:"JsonWebKey",controller:hi??me,publicKeyJwk:Dr}),Ht.set(nn,so);break}case nn.startsWith("s"):{const Or=Ui.parseTxtDataToObject(bt.data),{id:pi,t:ii,se:hi}=Or,Oi=fr(Or,["id","t","se"]),Vo=hi.includes(ti)?hi.split(ti):[hi],mi=Object.fromEntries(Object.entries(Oi).map(([Dr,ki])=>[Dr,ki.includes(ti)?ki.split(ti):ki]));null!==(pt=jt.service)&&void 0!==pt||(jt.service=[]),jt.service.push(Object.assign(Object.assign({},mi),{id:`${me}#${pi}`,type:ii,serviceEndpoint:Vo}));break}case nn.startsWith("typ"):{const{id:Or}=Ui.parseTxtDataToObject(bt.data);yn.types=Or.split(ti).map(pi=>Number(pi));break}case nn.startsWith("did"):{const Or=mi=>mi.split(ti).map(Dr=>Ht.get(Dr)).filter(Dr=>"string"==typeof Dr),{auth:pi,asm:ii,del:hi,inv:Oi,agm:Vo}=Ui.parseTxtDataToObject(bt.data);pi&&(jt.authentication=Or(pi)),ii&&(jt.assertionMethod=Or(ii)),hi&&(jt.capabilityDelegation=Or(hi)),Oi&&(jt.capabilityInvocation=Or(Oi)),Vo&&(jt.keyAgreement=Or(Vo));break}}}return{didDocument:jt,didDocumentMetadata:yn,didResolutionMetadata:{}}})}static toDnsPacket(Me){return Fn(this,arguments,void 0,function*({didDocument:me,didMetadata:ve,authoritativeGatewayUris:Ze,previousDidProof:Je}){var pt,jt,yn,Ht,bt;const nn=[],Or=[],pi=new Map,ii=[],hi=[];if(void 0!==Je){const{signature:mi,previousDid:Dr}=Je;yield Ui.validatePreviousDidProof({newDid:me.id,previousDidProof:Je}),nn.push({type:"TXT",name:"_prv._did.",ttl:Fr,data:`id=${Dr};s=${mi}`})}if(me.alsoKnownAs&&nn.push({type:"TXT",name:"_aka._did.",ttl:Fr,data:me.alsoKnownAs.join(ti)}),me.controller){const mi=Array.isArray(me.controller)?me.controller.join(ti):me.controller;nn.push({type:"TXT",name:"_cnt._did.",ttl:Fr,data:mi})}for(const[mi,Dr]of null!==(jt=null===(pt=me.verificationMethod)||void 0===pt?void 0:pt.entries())&&void 0!==jt?jt:[]){const ki=`k${mi}`;hi.push(ki);let so=Dr.id.split("#").pop();pi.set(so,ki);const Lr=Dr.publicKeyJwk;if(!Lr?.crv||!(Lr.crv in ko))throw new se(de.InvalidPublicKeyType,`Verification method '${Dr.id}' contains an unsupported key type: ${null!==(yn=Lr?.crv)&&void 0!==yn?yn:"undefined"}`);const Eo=bi[Lr.crv],lc=yield Ui.keyConverter(Lr.crv).publicKeyToBytes({publicKey:Lr}),ut=[`t=${Eo}`,`k=${x.U$.uint8Array(lc).toBase64Url()}`];"0"!==so&&(yield N({jwk:Lr}))!==so&&ut.unshift(`id=${so}`),Lr.alg!==Jo[Eo]&&ut.push(`a=${Lr.alg}`),Dr.controller!==me.id&&ut.push(`c=${Dr.controller}`),nn.push({type:"TXT",name:`_${ki}._did.`,ttl:Fr,data:ut.join(";")})}null===(Ht=me.service)||void 0===Ht||Ht.forEach((mi,Dr)=>{const ki=`s${Dr}`;ii.push(ki);let{id:so,type:Lr,serviceEndpoint:Eo}=mi,lc=fr(mi,["id","type","serviceEndpoint"]);so=$n(so),Eo=Array.isArray(Eo)?Eo.join(","):Eo;const ut=Object.entries(Object.assign({id:so,t:Lr,se:Eo},lc)).map(([yt,Rt])=>`${yt}=${Rt}`).join(";"),qe=Ui.chunkDataIfNeeded(ut);nn.push({type:"TXT",name:`_${ki}._did.`,ttl:Fr,data:qe})});const Oi=["v=0"];if(hi.length&&Oi.push(`vm=${hi.join(ti)}`),Object.keys(Y).forEach(mi=>{var Dr;const ki=null===(Dr=me[mi])||void 0===Dr?void 0:Dr.map(so=>pi.get(so.split("#").pop()));ki&&Oi.push(`${Ao[mi]}=${ki.join(ti)}`)}),ii.length&&Oi.push(`svc=${ii.join(ti)}`),null!==(bt=ve.types)&&void 0!==bt&&bt.length){const Dr=ve.types.map(ki=>"string"==typeof ki?xo[ki]:ki);nn.push({type:"TXT",name:"_typ._did.",ttl:Fr,data:`id=${Dr.join(ti)}`})}nn.push({type:"TXT",name:"_did."+wi.getUniqueDidSuffix(me.id)+".",ttl:Fr,data:Oi.join(";")});for(const mi of Ze||[])Or.push({type:"NS",name:"_did."+wi.getUniqueDidSuffix(me.id)+".",ttl:Fr,data:mi+"."});return{id:0,type:"response",flags:en.hB,answers:[...nn,...Or]}})}static getUniqueDidSuffix(Me){return Me.split(":")[2]}}class Ui{static createBep44PutMessage(Me){return Fn(this,arguments,void 0,function*({dnsPacket:me,publicKeyBytes:ve,signer:Ze}){const Je=Math.ceil(Date.now()/1e3),pt=(0,en.lF)(me),jt=ri.A.encode({seq:Je,v:pt}).subarray(1,-1);if(jt.length>1e3)throw new se(de.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${jt.length} bytes`);return{k:ve,seq:Je,sig:yield Ze.sign({data:jt}),v:pt}})}static identifierToIdentityKey(Me){return Fn(this,arguments,void 0,function*({didUri:me}){let ve=Ui.identifierToIdentityKeyBytes({didUri:me});return yield ue.bytesToPublicKey({publicKeyBytes:ve})})}static identifierToIdentityKeyBytes({didUri:Me}){const me=ae.parse(Me);if(!me)throw new se(de.InvalidDid,`Invalid DID URI: ${Me}`);if(me.method!==ji.methodName)throw new se(de.MethodNotSupported,`Method not supported: ${me.method}`);let ve;try{ve=x.U$.base32Z(me.id).toUint8Array()}catch{throw new se(de.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==ve.length)throw new se(de.InvalidPublicKeyLength,`Invalid public key length: ${ve.length}`);return ve}static identityKeyToIdentifier(Me){return Fn(this,arguments,void 0,function*({identityKey:me}){const ve=yield ue.publicKeyToBytes({publicKey:me}),Ze=x.U$.uint8Array(ve).toBase32Z();return`did:${ji.methodName}:${Ze}`})}static keyConverter(Me){const ve={Ed25519:ue,"P-256":{publicKeyToBytes:Ze=>Fn(this,[Ze],void 0,function*({publicKey:Je}){const pt=yield ye.publicKeyToBytes({publicKey:Je});return yield ye.compressPublicKey({publicKeyBytes:pt})}),bytesToPublicKey:ye.bytesToPublicKey,privateKeyToBytes:ye.privateKeyToBytes,bytesToPrivateKey:ye.bytesToPrivateKey},secp256k1:{publicKeyToBytes:Ze=>Fn(this,[Ze],void 0,function*({publicKey:Je}){const pt=yield $e.publicKeyToBytes({publicKey:Je});return yield $e.compressPublicKey({publicKeyBytes:pt})}),bytesToPublicKey:$e.bytesToPublicKey,privateKeyToBytes:$e.privateKeyToBytes,bytesToPrivateKey:$e.bytesToPrivateKey},X25519:nt}[Me];if(!ve)throw new se(de.InvalidPublicKeyType,`Unsupported curve: ${Me}`);return ve}static parseBep44GetMessage(Me){return Fn(this,arguments,void 0,function*({bep44Message:me}){const ve=yield ue.bytesToPublicKey({publicKeyBytes:me.k}),Ze=ri.A.encode({seq:me.seq,v:me.v}).subarray(1,-1);if(!(yield ue.verify({key:ve,signature:me.sig,data:Ze})))throw new se(de.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,en.D4)(me.v)})}static parseTxtDataToObject(Me){return this.parseTxtDataToString(Me).split(";").reduce((me,ve)=>{const[Ze,Je]=ve.split("=");return me[Ze]=Je,me},{})}static parseTxtDataToString(Me){if("string"==typeof Me)return Me;if(Me instanceof Uint8Array)return x.U$.uint8Array(Me).toString();if(Array.isArray(Me))return Me.map(me=>this.parseTxtDataToString(me)).join("");throw new se(de.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(Me){return Fn(this,arguments,void 0,function*({newDid:me,previousDidProof:ve}){const Ze=yield Ui.identifierToIdentityKey({didUri:ve.previousDid}),Je=Ui.identifierToIdentityKeyBytes({didUri:me}),pt=x.U$.base64Url(ve.signature).toUint8Array();if(!(yield ue.verify({key:Ze,data:Je,signature:pt})))throw new se(de.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(Me){if(Me.length<=255)return Me;const me=[];for(let ve=0;ve<Me.length;ve+=255)me.push(Me.slice(ve,ve+255));return me}}_(52039);var ua=function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})};let wa=(()=>{class We extends Dn{static create(){return ua(this,arguments,void 0,function*({keyManager:me=new _t,options:ve={}}={}){var Ze,Je,pt,jt;if(ve.algorithm&&ve.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(ve.verificationMethods&&1!==ve.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const yn=null!==(jt=null!==(Ze=ve.algorithm)&&void 0!==Ze?Ze:null===(pt=null===(Je=ve.verificationMethods)||void 0===Je?void 0:Je[0])||void 0===pt?void 0:pt.algorithm)&&void 0!==jt?jt:"Ed25519",Ht=yield me.generateKey({algorithm:yn}),bt=yield me.getPublicKey({keyUri:Ht}),nn=x.U$.object(bt).toBase64Url(),Or=`did:${We.methodName}:${nn}`,ii=(yield We.resolve(Or)).didDocument;return new Xr({uri:Or,document:ii,metadata:{},keyManager:me})})}static getSigningMethod(me){return ua(this,arguments,void 0,function*({didDocument:ve}){var Ze;const Je=ae.parse(ve.id);if(Je&&Je.method!==this.methodName)throw new se(de.MethodNotSupported,`Method not supported: ${Je.method}`);const[pt]=null!==(Ze=ve.verificationMethod)&&void 0!==Ze?Ze:[];if(!pt||!pt.publicKeyJwk)throw new se(de.InternalError,"A verification method intended for signing could not be determined from the DID Document");return pt})}static import(me){return ua(this,arguments,void 0,function*({portableDid:ve,keyManager:Ze=new _t}){const Je=ae.parse(ve.uri);if(Je?.method!==We.methodName)throw new se(de.MethodNotSupported,"Method not supported");const pt=yield Xr.import({portableDid:ve,keyManager:Ze});if(1!==pt.document.verificationMethod.length)throw new se(de.InvalidDidDocument,"DID document must contain exactly one verification method");return pt})}static resolve(me,ve){return ua(this,void 0,void 0,function*(){const Ze=ae.parse(me);let Je;try{Je=x.U$.base64Url(Ze.id).toObject()}catch{}if(!Ze||!Je)return Object.assign(Object.assign({},oe),{didResolutionMetadata:{error:"invalidDid"}});if(Ze.method!==We.methodName)return Object.assign(Object.assign({},oe),{didResolutionMetadata:{error:"methodNotSupported"}});const pt={"@context":["https://www.w3.org/ns/did/v1"],id:Ze.uri},jt=`${pt.id}#0`;switch(pt.verificationMethod=[{id:jt,type:"JsonWebKey",controller:pt.id,publicKeyJwk:Je}],pt.authentication=[jt],pt.assertionMethod=[jt],pt.capabilityInvocation=[jt],pt.capabilityDelegation=[jt],pt.keyAgreement=[jt],Je.use){case"sig":delete pt.keyAgreement;break;case"enc":delete pt.authentication,delete pt.assertionMethod,delete pt.capabilityInvocation,delete pt.capabilityDelegation}return Object.assign(Object.assign({},oe),{didDocument:pt})})}}return We.methodName="jwk",We})();var tu=_(97829),_a=_(67449);class qs{constructor({db:Me,location:me="DATA/DID_RESOLVERCACHE",ttl:ve="15m"}={}){this.cache=Me??new _a.Level(me),this.ttl=tu(ve)}get(Me){return function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})}(this,void 0,void 0,function*(){try{const me=yield this.cache.get(Me),ve=JSON.parse(me);return Date.now()>=ve.ttlMillis?void this.cache.nextTick(()=>this.cache.del(Me)):ve.value}catch(me){if(me.notFound)return;throw me}})}set(Me,me){const ve={ttlMillis:Date.now()+this.ttl,value:me},Ze=JSON.stringify(ve);return this.cache.put(Me,Ze)}delete(Me){return this.cache.del(Me)}clear(){return this.cache.clear()}close(){return this.cache.close()}}var Vs=function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})};class Dc{constructor(Me){this._agentDid=Me.agentDid,this.crypto=Me.cryptoApi,this.did=Me.didApi,this.dwn=Me.dwnApi,this.identity=Me.identityApi,this.keyManager=Me.keyManager,this.rpc=Me.rpcClient,this.sync=Me.syncApi,this.vault=Me.agentVault,this.did.agent=this,this.dwn.agent=this,this.identity.agent=this,this.keyManager.agent=this,this.sync.agent=this}get agentDid(){if(void 0===this._agentDid)throw new Error('Web5UserAgent: The "agentDid" property is not set. Ensure the agent is properly initialized and a DID is assigned.');return this._agentDid}set agentDid(Me){this._agentDid=Me}static create({dataPath:Me="DATA/AGENT",agentDid:me,agentVault:ve,cryptoApi:Ze,didApi:Je,dwnApi:pt,identityApi:jt,keyManager:yn,rpcClient:Ht,syncApi:bt}={}){return Vs(this,void 0,void 0,function*(){return ve??(ve=new p.TX({keyDerivationWorkFactor:21e4,store:new x.cG({location:`${Me}/VAULT_STORE`})})),Ze??(Ze=new p.DP),Je??(Je=new p.Bq({didMethods:[ji,wa],resolverCache:new qs({location:`${Me}/DID_RESOLVERCACHE`}),store:new p.QZ})),pt??(pt=new p.rr({dwn:yield p.rr.createDwn({dataPath:Me,didResolver:Je})})),jt??(jt=new p.yc({store:new p.dk})),yn??(yn=new p.eP({keyStore:new p.cW})),Ht??(Ht=new p.oN),bt??(bt=new p.rM({syncEngine:new p.qB({dataPath:Me})})),new Dc({agentDid:me,agentVault:ve,cryptoApi:Ze,didApi:Je,dwnApi:pt,keyManager:yn,identityApi:jt,rpcClient:Ht,syncApi:bt})})}firstLaunch(){return Vs(this,void 0,void 0,function*(){return!1===(yield this.vault.isInitialized())})}initialize({password:Me,recoveryPhrase:me}){return Vs(this,void 0,void 0,function*(){return me=yield this.vault.initialize({password:Me,recoveryPhrase:me})})}processDidRequest(Me){return Vs(this,void 0,void 0,function*(){return this.did.processRequest(Me)})}processDwnRequest(Me){return Vs(this,void 0,void 0,function*(){return this.dwn.processRequest(Me)})}processVcRequest(Me){return Vs(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDidRequest(Me){return Vs(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDwnRequest(Me){return Vs(this,void 0,void 0,function*(){return this.dwn.sendRequest(Me)})}sendVcRequest(Me){return Vs(this,void 0,void 0,function*(){throw new Error("Not implemented")})}start({password:Me}){return Vs(this,void 0,void 0,function*(){this.vault.isLocked()&&(yield this.vault.unlock({password:Me})),this.agentDid=yield this.vault.getDid()})}}class Ea{constructor({agent:Me,connectedDid:me}){this.agent=Me,this.connectedDid=me,this.did=new H({agent:Me,connectedDid:me}),this.dwn=new re({agent:Me,connectedDid:me}),this.vc=new J({agent:Me,connectedDid:me})}static connect({agent:Me,agentVault:me,connectedDid:ve,password:Ze,recoveryPhrase:Je,sync:pt,techPreview:jt,didCreateOptions:yn,registration:Ht}={}){var bt,nn,Or;return function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})}(this,void 0,void 0,function*(){if(void 0===Me){const ii=yield Dc.create({agentVault:me});Me=ii,void 0===Ze&&(Ze="insecure-static-phrase",console.warn("%cSECURITY WARNING:%c You have not set a password, which defaults to a static, guessable value. This significantly compromises the security of your data. Please configure a secure, unique password.","font-weight: bold; color: red;","font-weight: normal; color: inherit;")),(yield ii.firstLaunch())&&(Je=yield ii.initialize({password:Ze,recoveryPhrase:Je})),yield ii.start({password:Ze});{let Oi;const Vo=yield ii.identity.list(),mi=Vo.length;if(0===mi){const Dr=null!==(nn=null!==(bt=jt?.dwnEndpoints)&&void 0!==bt?bt:yn?.dwnEndpoints)&&void 0!==nn?nn:["https://dwn.tbddev.org/beta"];Oi=yield ii.identity.create({didMethod:"dht",metadata:{name:"Default"},didOptions:{services:[{id:"dwn",type:"DecentralizedWebNode",serviceEndpoint:Dr,enc:"#enc",sig:"#sig"}],verificationMethods:[{algorithm:"Ed25519",id:"sig",purposes:["assertionMethod","authentication"]},{algorithm:"secp256k1",id:"enc",purposes:["keyAgreement"]}]}}),yield ii.identity.manage({portableIdentity:yield Oi.export()})}else{if(1!==mi)throw new Error(`connect() failed due to unexpected state: Expected 1 but found ${mi} stored identities.`);Oi=Vo[0]}ve=Oi.did.uri}if(void 0!==Ht){const Oi=null!==(Or=jt?.dwnEndpoints)&&void 0!==Or?Or:yn?.dwnEndpoints;try{for(const Vo of Oi)0!==(yield ii.rpc.getServerInfo(Vo)).registrationRequirements.length&&(yield p.Vu.registerTenant(Vo,Me.agentDid.uri),yield p.Vu.registerTenant(Vo,ve));Ht.onSuccess()}catch(Vo){Ht.onFailure(Vo)}}"off"!==pt&&(yield ii.sync.registerIdentity({did:ve}),pt??(pt="2m"),ii.sync.startSync({interval:pt}).catch(Oi=>{console.error(`Sync failed: ${Oi}`)}))}return{web5:new Ea({agent:Me,connectedDid:ve}),did:ve,recoveryPhrase:Je}})}}var ul=function(We){return We.authentication="authentication",We.assertionMethod="assertionMethod",We.keyAgreement="keyAgreement",We.capabilityInvocation="capabilityInvocation",We.capabilityDelegation="capabilityDelegation",We}(ul||{});const mc={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class oo{constructor({method:Me,id:me,path:ve,query:Ze,fragment:Je,params:pt}){this.uri=`did:${Me}:${me}`,this.method=Me,this.id=me,this.path=ve,this.query=Ze,this.fragment=Je,this.params=pt}static parse(Me){if(!Me)return null;const me=oo.DID_URI_PATTERN.exec(Me);if(!me||!me.groups)return null;const{method:ve,id:Ze,path:Je,query:pt,fragment:jt}=me.groups,yn={uri:`did:${ve}:${Ze}`,method:ve,id:Ze};if(Je&&(yn.path=Je),pt&&(yn.query=pt.slice(1)),jt&&(yn.fragment=jt.slice(1)),pt){const Ht={},bt=pt.slice(1).split("&");for(const nn of bt){const[Or,pi]=nn.split("=");Ht[Or]=pi}yn.params=Ht}return yn}}oo.METHOD_PATTERN="([a-z0-9]+)",oo.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",oo.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${oo.PCT_ENCODED_PATTERN})`,oo.METHOD_ID_PATTERN=`((?:${oo.ID_CHAR_PATTERN}*:)*(${oo.ID_CHAR_PATTERN}+))`,oo.PATH_PATTERN="(/[^#?]*)?",oo.QUERY_PATTERN="([?][^#]*)?",oo.FRAGMENT_PATTERN="(#.*)?",oo.DID_URI_PATTERN=new RegExp(`^did:(?<method>${oo.METHOD_PATTERN}):(?<id>${oo.METHOD_ID_PATTERN})(?<path>${oo.PATH_PATTERN})(?<query>${oo.QUERY_PATTERN})(?<fragment>${oo.FRAGMENT_PATTERN})$`);class uo extends Error{constructor(Me,me){super(`${Me}: ${me}`),this.code=Me,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uo)}}var vo=function(We){return We.InvalidDid="invalidDid",We.MethodNotSupported="methodNotSupported",We.InternalError="internalError",We.InvalidDidDocument="invalidDidDocument",We.InvalidDidDocumentLength="invalidDidDocumentLength",We.InvalidDidUrl="invalidDidUrl",We.InvalidPreviousDidProof="invalidPreviousDidProof",We.InvalidPublicKey="invalidPublicKey",We.InvalidPublicKeyLength="invalidPublicKeyLength",We.InvalidPublicKeyType="invalidPublicKeyType",We.InvalidSignature="invalidSignature",We.NotFound="notFound",We.RepresentationNotSupported="representationNotSupported",We.UnsupportedPublicKeyType="unsupportedPublicKeyType",We}(vo||{});class Od{static digest({data:Me}){return function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})}(this,void 0,void 0,function*(){return(0,le.s)(Me)})}}class ds{}const mn="urn:jwk:";function vn({jwk:We}){return function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})}(this,void 0,void 0,function*(){const Me=We.kty;let me;if("EC"===Me)me={crv:We.crv,kty:We.kty,x:We.x,y:We.y};else if("oct"===Me)me={k:We.k,kty:We.kty};else if("OKP"===Me)me={crv:We.crv,kty:We.kty,x:We.x};else{if("RSA"!==Me)throw new Error(`Unsupported key type: ${Me}`);me={e:We.e,kty:We.kty,n:We.n}}(0,x.E8)(me);const ve=function pr(We){const Me=ve=>{if(null!==ve&&"object"==typeof ve&&!Array.isArray(ve)){const Ze=Object.keys(ve).sort(),Je={};for(const pt of Ze)Je[pt]=Me(ve[pt]);return Je}return ve},me=Me(We);return JSON.stringify(me)}(me),Ze=x.U$.string(ve).toUint8Array(),Je=yield Od.digest({data:Ze});return x.U$.uint8Array(Je).toBase64Url()})}function Kn(We){return!(!We||"object"!=typeof We||!("kty"in We&&"crv"in We&&"x"in We&&"d"in We)||"EC"!==We.kty||"string"!=typeof We.d||"string"!=typeof We.x)}function ir(We){return!(!We||"object"!=typeof We||!("kty"in We&&"crv"in We&&"x"in We)||"d"in We||"EC"!==We.kty||"string"!=typeof We.x)}function fi(We){return!(!We||"object"!=typeof We||!("kty"in We&&"crv"in We&&"x"in We&&"d"in We)||"OKP"!==We.kty||"string"!=typeof We.d||"string"!=typeof We.x)}function No(We){return!(!We||"object"!=typeof We||"d"in We||!("kty"in We&&"crv"in We&&"x"in We)||"OKP"!==We.kty||"string"!=typeof We.x)}var Ai=function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})};class Lo{static adjustSignatureToLowS({signature:Me}){return Ai(this,void 0,void 0,function*(){const me=u.bI.Signature.fromCompact(Me);return me.hasHighS()?me.normalizeS().toCompactRawBytes():Me})}static bytesToPrivateKey({privateKeyBytes:Me}){return Ai(this,void 0,void 0,function*(){const me=yield Lo.getCurvePoint({keyBytes:Me}),ve={kty:"EC",crv:"secp256k1",d:x.U$.uint8Array(Me).toBase64Url(),x:x.U$.uint8Array(me.x).toBase64Url(),y:x.U$.uint8Array(me.y).toBase64Url()};return ve.kid=yield vn({jwk:ve}),ve})}static bytesToPublicKey({publicKeyBytes:Me}){return Ai(this,void 0,void 0,function*(){const me=yield Lo.getCurvePoint({keyBytes:Me}),ve={kty:"EC",crv:"secp256k1",x:x.U$.uint8Array(me.x).toBase64Url(),y:x.U$.uint8Array(me.y).toBase64Url()};return ve.kid=yield vn({jwk:ve}),ve})}static compressPublicKey({publicKeyBytes:Me}){return Ai(this,void 0,void 0,function*(){return u.bI.ProjectivePoint.fromHex(Me).toRawBytes(!0)})}static computePublicKey({key:Me}){return Ai(this,void 0,void 0,function*(){const me=yield Lo.privateKeyToBytes({privateKey:Me}),ve=yield Lo.getCurvePoint({keyBytes:me}),Ze={kty:"EC",crv:"secp256k1",x:x.U$.uint8Array(ve.x).toBase64Url(),y:x.U$.uint8Array(ve.y).toBase64Url()};return Ze.kid=yield vn({jwk:Ze}),Ze})}static convertDerToCompactSignature({derSignature:Me}){return Ai(this,void 0,void 0,function*(){return u.bI.Signature.fromDER(Me).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:Me}){return Ai(this,void 0,void 0,function*(){return u.bI.ProjectivePoint.fromHex(Me).toRawBytes(!1)})}static generateKey(){return Ai(this,void 0,void 0,function*(){const Me=u.bI.utils.randomPrivateKey(),me=yield Lo.bytesToPrivateKey({privateKeyBytes:Me});return me.kid=yield vn({jwk:me}),me})}static getPublicKey({key:Me}){var me;return Ai(this,void 0,void 0,function*(){if(!Kn(Me)||"secp256k1"!==Me.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let Ze=function(We,Me){var me={};for(var ve in We)Object.prototype.hasOwnProperty.call(We,ve)&&Me.indexOf(ve)<0&&(me[ve]=We[ve]);if(null!=We&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(We);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(We,ve[Ze])&&(me[ve[Ze]]=We[ve[Ze]])}return me}(Me,["d"]);return null!==(me=Ze.kid)&&void 0!==me||(Ze.kid=yield vn({jwk:Ze})),Ze})}static privateKeyToBytes({privateKey:Me}){return Ai(this,void 0,void 0,function*(){if(!Kn(Me))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return x.U$.base64Url(Me.d).toUint8Array()})}static publicKeyToBytes({publicKey:Me}){return Ai(this,void 0,void 0,function*(){if(!ir(Me)||!Me.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const me=new Uint8Array([4]),ve=x.U$.base64Url(Me.x).toUint8Array(),Ze=x.U$.base64Url(Me.y).toUint8Array();return new Uint8Array([...me,...ve,...Ze])})}static sharedSecret({privateKeyA:Me,publicKeyB:me}){return Ai(this,void 0,void 0,function*(){if("x"in Me&&"x"in me&&Me.x===me.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const ve=yield Lo.privateKeyToBytes({privateKey:Me}),Ze=yield Lo.publicKeyToBytes({publicKey:me});return u.bI.getSharedSecret(ve,Ze,!0).slice(1)})}static sign({data:Me,key:me}){return Ai(this,void 0,void 0,function*(){const ve=yield Lo.privateKeyToBytes({privateKey:me}),Ze=(0,le.s)(Me);return u.bI.sign(Ze,ve).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:Me}){return Ai(this,void 0,void 0,function*(){return u.bI.utils.isValidPrivateKey(Me)})}static validatePublicKey({publicKeyBytes:Me}){return Ai(this,void 0,void 0,function*(){try{u.bI.ProjectivePoint.fromHex(Me).assertValidity()}catch{return!1}return!0})}static verify({key:Me,signature:me,data:ve}){return Ai(this,void 0,void 0,function*(){const Ze=yield Lo.publicKeyToBytes({publicKey:Me}),Je=(0,le.s)(ve);return u.bI.verify(me,Je,Ze,{lowS:!1})})}static getCurvePoint({keyBytes:Me}){return Ai(this,void 0,void 0,function*(){32===Me.byteLength&&(Me=u.bI.getPublicKey(Me));const me=u.bI.ProjectivePoint.fromHex(Me);return{x:(0,y.lq)(me.x,32),y:(0,y.lq)(me.y,32)}})}}var Po=function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})};class ys{static adjustSignatureToLowS({signature:Me}){return Po(this,void 0,void 0,function*(){const me=Se.Ag.Signature.fromCompact(Me);return me.hasHighS()?me.normalizeS().toCompactRawBytes():Me})}static bytesToPrivateKey({privateKeyBytes:Me}){return Po(this,void 0,void 0,function*(){const me=yield ys.getCurvePoint({keyBytes:Me}),ve={kty:"EC",crv:"P-256",d:x.U$.uint8Array(Me).toBase64Url(),x:x.U$.uint8Array(me.x).toBase64Url(),y:x.U$.uint8Array(me.y).toBase64Url()};return ve.kid=yield vn({jwk:ve}),ve})}static bytesToPublicKey({publicKeyBytes:Me}){return Po(this,void 0,void 0,function*(){const me=yield ys.getCurvePoint({keyBytes:Me}),ve={kty:"EC",crv:"P-256",x:x.U$.uint8Array(me.x).toBase64Url(),y:x.U$.uint8Array(me.y).toBase64Url()};return ve.kid=yield vn({jwk:ve}),ve})}static compressPublicKey({publicKeyBytes:Me}){return Po(this,void 0,void 0,function*(){return Se.Ag.ProjectivePoint.fromHex(Me).toRawBytes(!0)})}static computePublicKey({key:Me}){return Po(this,void 0,void 0,function*(){const me=yield ys.privateKeyToBytes({privateKey:Me}),ve=yield ys.getCurvePoint({keyBytes:me}),Ze={kty:"EC",crv:"P-256",x:x.U$.uint8Array(ve.x).toBase64Url(),y:x.U$.uint8Array(ve.y).toBase64Url()};return Ze.kid=yield vn({jwk:Ze}),Ze})}static convertDerToCompactSignature({derSignature:Me}){return Po(this,void 0,void 0,function*(){return Se.Ag.Signature.fromDER(Me).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:Me}){return Po(this,void 0,void 0,function*(){return Se.Ag.ProjectivePoint.fromHex(Me).toRawBytes(!1)})}static generateKey(){return Po(this,void 0,void 0,function*(){const Me=Se.Ag.utils.randomPrivateKey(),me=yield ys.bytesToPrivateKey({privateKeyBytes:Me});return me.kid=yield vn({jwk:me}),me})}static getPublicKey({key:Me}){var me;return Po(this,void 0,void 0,function*(){if(!Kn(Me)||"P-256"!==Me.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let Ze=function(We,Me){var me={};for(var ve in We)Object.prototype.hasOwnProperty.call(We,ve)&&Me.indexOf(ve)<0&&(me[ve]=We[ve]);if(null!=We&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(We);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(We,ve[Ze])&&(me[ve[Ze]]=We[ve[Ze]])}return me}(Me,["d"]);return null!==(me=Ze.kid)&&void 0!==me||(Ze.kid=yield vn({jwk:Ze})),Ze})}static privateKeyToBytes({privateKey:Me}){return Po(this,void 0,void 0,function*(){if(!Kn(Me))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return x.U$.base64Url(Me.d).toUint8Array()})}static publicKeyToBytes({publicKey:Me}){return Po(this,void 0,void 0,function*(){if(!ir(Me)||!Me.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const me=new Uint8Array([4]),ve=x.U$.base64Url(Me.x).toUint8Array(),Ze=x.U$.base64Url(Me.y).toUint8Array();return new Uint8Array([...me,...ve,...Ze])})}static sharedSecret({privateKeyA:Me,publicKeyB:me}){return Po(this,void 0,void 0,function*(){if("x"in Me&&"x"in me&&Me.x===me.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const ve=yield ys.privateKeyToBytes({privateKey:Me}),Ze=yield ys.publicKeyToBytes({publicKey:me});return Se.Ag.getSharedSecret(ve,Ze,!0).slice(1)})}static sign({data:Me,key:me}){return Po(this,void 0,void 0,function*(){const ve=yield ys.privateKeyToBytes({privateKey:me}),Ze=(0,le.s)(Me);return Se.Ag.sign(Ze,ve).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:Me}){return Po(this,void 0,void 0,function*(){return Se.Ag.utils.isValidPrivateKey(Me)})}static validatePublicKey({publicKeyBytes:Me}){return Po(this,void 0,void 0,function*(){try{Se.Ag.ProjectivePoint.fromHex(Me).assertValidity()}catch{return!1}return!0})}static verify({key:Me,signature:me,data:ve}){return Po(this,void 0,void 0,function*(){const Ze=yield ys.publicKeyToBytes({publicKey:Me}),Je=(0,le.s)(ve);return Se.Ag.verify(me,Je,Ze,{lowS:!1})})}static getCurvePoint({keyBytes:Me}){return Po(this,void 0,void 0,function*(){32===Me.byteLength&&(Me=Se.Ag.getPublicKey(Me));const me=Se.Ag.ProjectivePoint.fromHex(Me);return{x:(0,y.lq)(me.x,32),y:(0,y.lq)(me.y,32)}})}}var ws=function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})};class Pl extends ds{computePublicKey({key:Me}){return ws(this,void 0,void 0,function*(){if(!Kn(Me))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Me.crv){case"secp256k1":{const me=yield Lo.computePublicKey({key:Me});return me.alg="ES256K",me}case"P-256":{const me=yield ys.computePublicKey({key:Me});return me.alg="ES256",me}default:throw new Error(`Unsupported curve: ${Me.crv}`)}})}generateKey({algorithm:Me}){return ws(this,void 0,void 0,function*(){switch(Me){case"ES256K":case"secp256k1":{const me=yield Lo.generateKey();return me.alg="ES256K",me}case"ES256":case"secp256r1":{const me=yield ys.generateKey();return me.alg="ES256",me}}})}getPublicKey({key:Me}){return ws(this,void 0,void 0,function*(){if(!Kn(Me))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Me.crv){case"secp256k1":{const me=yield Lo.getPublicKey({key:Me});return me.alg="ES256K",me}case"P-256":{const me=yield ys.getPublicKey({key:Me});return me.alg="ES256",me}default:throw new Error(`Unsupported curve: ${Me.crv}`)}})}sign({key:Me,data:me}){return ws(this,void 0,void 0,function*(){if(!Kn(Me))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Me.crv){case"secp256k1":return yield Lo.sign({key:Me,data:me});case"P-256":return yield ys.sign({key:Me,data:me});default:throw new Error(`Unsupported curve: ${Me.crv}`)}})}verify({key:Me,signature:me,data:ve}){return ws(this,void 0,void 0,function*(){if(!ir(Me))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(Me.crv){case"secp256k1":return yield Lo.verify({key:Me,signature:me,data:ve});case"P-256":return yield ys.verify({key:Me,signature:me,data:ve});default:throw new Error(`Unsupported curve: ${Me.crv}`)}})}}var mo=function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})};class Ls{static bytesToPrivateKey({privateKeyBytes:Me}){return mo(this,void 0,void 0,function*(){const me=fe.ev.getPublicKey(Me),ve={crv:"Ed25519",d:x.U$.uint8Array(Me).toBase64Url(),kty:"OKP",x:x.U$.uint8Array(me).toBase64Url()};return ve.kid=yield vn({jwk:ve}),ve})}static bytesToPublicKey({publicKeyBytes:Me}){return mo(this,void 0,void 0,function*(){const me={kty:"OKP",crv:"Ed25519",x:x.U$.uint8Array(Me).toBase64Url()};return me.kid=yield vn({jwk:me}),me})}static computePublicKey({key:Me}){return mo(this,void 0,void 0,function*(){const me=yield Ls.privateKeyToBytes({privateKey:Me}),ve=fe.ev.getPublicKey(me),Ze={kty:"OKP",crv:"Ed25519",x:x.U$.uint8Array(ve).toBase64Url()};return Ze.kid=yield vn({jwk:Ze}),Ze})}static convertPrivateKeyToX25519({privateKey:Me}){return mo(this,void 0,void 0,function*(){const me=yield Ls.privateKeyToBytes({privateKey:Me}),ve=(0,fe.OA)(me),Ze=fe.TU.getPublicKey(ve),Je={kty:"OKP",crv:"X25519",d:x.U$.uint8Array(ve).toBase64Url(),x:x.U$.uint8Array(Ze).toBase64Url()};return Je.kid=yield vn({jwk:Je}),Je})}static convertPublicKeyToX25519({publicKey:Me}){return mo(this,void 0,void 0,function*(){const me=yield Ls.publicKeyToBytes({publicKey:Me});if(!(yield Ls.validatePublicKey({publicKeyBytes:me})))throw new Error("Ed25519: Invalid public key.");const Ze=(0,fe.GU)(me),Je={kty:"OKP",crv:"X25519",x:x.U$.uint8Array(Ze).toBase64Url()};return Je.kid=yield vn({jwk:Je}),Je})}static generateKey(){return mo(this,void 0,void 0,function*(){const Me=fe.ev.utils.randomPrivateKey(),me=yield Ls.bytesToPrivateKey({privateKeyBytes:Me});return me.kid=yield vn({jwk:me}),me})}static getPublicKey({key:Me}){var me;return mo(this,void 0,void 0,function*(){if(!fi(Me)||"Ed25519"!==Me.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let Ze=function(We,Me){var me={};for(var ve in We)Object.prototype.hasOwnProperty.call(We,ve)&&Me.indexOf(ve)<0&&(me[ve]=We[ve]);if(null!=We&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(We);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(We,ve[Ze])&&(me[ve[Ze]]=We[ve[Ze]])}return me}(Me,["d"]);return null!==(me=Ze.kid)&&void 0!==me||(Ze.kid=yield vn({jwk:Ze})),Ze})}static privateKeyToBytes({privateKey:Me}){return mo(this,void 0,void 0,function*(){if(!fi(Me))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return x.U$.base64Url(Me.d).toUint8Array()})}static publicKeyToBytes({publicKey:Me}){return mo(this,void 0,void 0,function*(){if(!No(Me))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return x.U$.base64Url(Me.x).toUint8Array()})}static sign({key:Me,data:me}){return mo(this,void 0,void 0,function*(){const ve=yield Ls.privateKeyToBytes({privateKey:Me});return fe.ev.sign(me,ve)})}static validatePublicKey({publicKeyBytes:Me}){return mo(this,void 0,void 0,function*(){try{fe.ev.ExtendedPoint.fromHex(Me).assertValidity()}catch{return!1}return!0})}static verify({key:Me,signature:me,data:ve}){return mo(this,void 0,void 0,function*(){const Ze=yield Ls.publicKeyToBytes({publicKey:Me});return fe.ev.verify(me,ve,Ze)})}}var To=function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})},Ho=function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})};const Au={Ed25519:{implementation:class nu extends ds{computePublicKey({key:Me}){return To(this,void 0,void 0,function*(){if(!fi(Me))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Me.crv){const me=yield Ls.computePublicKey({key:Me});return me.alg="EdDSA",me}throw new Error(`Unsupported curve: ${Me.crv}`)})}generateKey({algorithm:Me}){return To(this,void 0,void 0,function*(){if("Ed25519"===Me){const me=yield Ls.generateKey();return me.alg="EdDSA",me}})}getPublicKey({key:Me}){return To(this,void 0,void 0,function*(){if(!fi(Me))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Me.crv){const me=yield Ls.getPublicKey({key:Me});return me.alg="EdDSA",me}throw new Error(`Unsupported curve: ${Me.crv}`)})}sign({key:Me,data:me}){return To(this,void 0,void 0,function*(){if(!fi(Me))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Me.crv)return yield Ls.sign({key:Me,data:me});throw new Error(`Unsupported curve: ${Me.crv}`)})}verify({key:Me,signature:me,data:ve}){return To(this,void 0,void 0,function*(){if(!No(Me))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===Me.crv)return yield Ls.verify({key:Me,signature:me,data:ve});throw new Error(`Unsupported curve: ${Me.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:Pl,names:["ES256K","secp256k1"]},secp256r1:{implementation:Pl,names:["ES256","secp256r1"]},"SHA-256":{implementation:class ln extends ds{digest({algorithm:Me,data:me}){return function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===Me)return yield Od.digest({data:me})})}},names:["SHA-256"]}};class vf{constructor(Me){var me;this._algorithmInstances=new Map,this._keyStore=null!==(me=Me?.keyStore)&&void 0!==me?me:new x.ny}digest({algorithm:Me,data:me}){return Ho(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:Me}).digest({algorithm:Me,data:me})})}exportKey({keyUri:Me}){return Ho(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:Me})})}generateKey({algorithm:Me}){return Ho(this,void 0,void 0,function*(){const ve=yield this.getAlgorithm({algorithm:Me}).generateKey({algorithm:Me});if(void 0===ve?.kid)throw new Error("Generated key is missing a required property: kid");const Ze=`${mn}${ve.kid}`;return yield this._keyStore.set(Ze,ve),Ze})}getKeyUri({key:Me}){return Ho(this,void 0,void 0,function*(){const me=yield vn({jwk:Me});return`${mn}${me}`})}getPublicKey({keyUri:Me}){return Ho(this,void 0,void 0,function*(){const me=yield this.getPrivateKey({keyUri:Me}),ve=this.getAlgorithmName({key:me});return yield this.getAlgorithm({algorithm:ve}).getPublicKey({key:me})})}importKey({key:Me}){var me;return Ho(this,void 0,void 0,function*(){if(!function si(We){if(!We||"object"!=typeof We)return!1;switch(We.kty){case"EC":case"OKP":case"RSA":return"d"in We;case"oct":return"k"in We;default:return!1}}(Me))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const ve=structuredClone(Me);null!==(me=ve.kid)&&void 0!==me||(ve.kid=yield vn({jwk:ve}));const Ze=yield this.getKeyUri({key:ve});return yield this._keyStore.set(Ze,ve),Ze})}sign({keyUri:Me,data:me}){return Ho(this,void 0,void 0,function*(){const ve=yield this.getPrivateKey({keyUri:Me}),Ze=this.getAlgorithmName({key:ve});return this.getAlgorithm({algorithm:Ze}).sign({data:me,key:ve})})}verify({key:Me,signature:me,data:ve}){return Ho(this,void 0,void 0,function*(){const Ze=this.getAlgorithmName({key:Me});return this.getAlgorithm({algorithm:Ze}).verify({key:Me,signature:me,data:ve})})}getAlgorithm({algorithm:Me}){var me;const ve=null===(me=Au[Me])||void 0===me?void 0:me.implementation;if(!ve)throw new Error(`Algorithm not supported: ${Me}`);return this._algorithmInstances.has(ve)||this._algorithmInstances.set(ve,new ve),this._algorithmInstances.get(ve)}getAlgorithmName({key:Me}){const me=Me.alg,ve=Me.crv;for(const Ze in Au){const Je=Au[Ze];if(me&&Je.names.includes(me))return Ze;if(ve&&Je.names.includes(ve))return Ze}throw new Error(`Unable to determine algorithm based on provided input: alg=${me}, crv=${ve}`)}getPrivateKey({keyUri:Me}){return Ho(this,void 0,void 0,function*(){const me=yield this._keyStore.get(Me);if(!me)throw new Error(`Key not found: ${Me}`);return me})}}function Si(We){const Me={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(We.alg&&Object.values(Me).includes(We.alg))return We.alg;if(We.crv&&Object.keys(Me).includes(We.crv))return Me[We.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${We.alg}, crv=${We.crv}. Supported 'alg' values: ${Object.values(Me).join(", ")}. Supported 'crv' values: ${Object.keys(Me).join(", ")}.`)}var cc=function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})};class ru{static bytesToPrivateKey({privateKeyBytes:Me}){return cc(this,void 0,void 0,function*(){const me=fe.TU.getPublicKey(Me),ve={kty:"OKP",crv:"X25519",d:x.U$.uint8Array(Me).toBase64Url(),x:x.U$.uint8Array(me).toBase64Url()};return ve.kid=yield vn({jwk:ve}),ve})}static bytesToPublicKey({publicKeyBytes:Me}){return cc(this,void 0,void 0,function*(){const me={kty:"OKP",crv:"X25519",x:x.U$.uint8Array(Me).toBase64Url()};return me.kid=yield vn({jwk:me}),me})}static computePublicKey({key:Me}){return cc(this,void 0,void 0,function*(){const me=yield ru.privateKeyToBytes({privateKey:Me}),ve=fe.TU.getPublicKey(me),Ze={kty:"OKP",crv:"X25519",x:x.U$.uint8Array(ve).toBase64Url()};return Ze.kid=yield vn({jwk:Ze}),Ze})}static generateKey(){return cc(this,void 0,void 0,function*(){const Me=fe.TU.utils.randomPrivateKey(),me=yield ru.bytesToPrivateKey({privateKeyBytes:Me});return me.kid=yield vn({jwk:me}),me})}static getPublicKey({key:Me}){var me;return cc(this,void 0,void 0,function*(){if(!fi(Me)||"X25519"!==Me.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let Ze=function(We,Me){var me={};for(var ve in We)Object.prototype.hasOwnProperty.call(We,ve)&&Me.indexOf(ve)<0&&(me[ve]=We[ve]);if(null!=We&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(We);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(We,ve[Ze])&&(me[ve[Ze]]=We[ve[Ze]])}return me}(Me,["d"]);return null!==(me=Ze.kid)&&void 0!==me||(Ze.kid=yield vn({jwk:Ze})),Ze})}static privateKeyToBytes({privateKey:Me}){return cc(this,void 0,void 0,function*(){if(!fi(Me))throw new Error("X25519: The provided key is not a valid OKP private key.");return x.U$.base64Url(Me.d).toUint8Array()})}static publicKeyToBytes({publicKey:Me}){return cc(this,void 0,void 0,function*(){if(!No(Me))throw new Error("X25519: The provided key is not a valid OKP public key.");return x.U$.base64Url(Me.x).toUint8Array()})}static sharedSecret({privateKeyA:Me,publicKeyB:me}){return cc(this,void 0,void 0,function*(){if("x"in Me&&"x"in me&&Me.x===me.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const ve=yield ru.privateKeyToBytes({privateKey:Me}),Ze=yield ru.publicKeyToBytes({publicKey:me});return fe.TU.getSharedSecret(ve,Ze)})}}function Da(We){if("string"==typeof We&&0!==We.length)return We.split("#").pop()}function Np(We){return!(!We||"object"!=typeof We||null===We||!("id"in We&&"type"in We&&"controller"in We)||"string"!=typeof We.id||"string"!=typeof We.type||"string"!=typeof We.controller)}var ta=function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})};class Du{constructor({uri:Me,document:me,metadata:ve,keyManager:Ze}){this.uri=Me,this.document=me,this.metadata=ve,this.keyManager=Ze}export(){return ta(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let Me={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const me=[];for(let ve of this.document.verificationMethod){if(!ve.publicKeyJwk)throw new Error(`Verification method '${ve.id}' does not contain a public key in JWK format`);const Ze=yield this.keyManager.getKeyUri({key:ve.publicKeyJwk}),Je=yield this.keyManager.exportKey({keyUri:Ze});me.push(Object.assign({},Je))}Me.privateKeys=me}return Me})}getSigner(Me){return ta(this,void 0,void 0,function*(){var me;const ve=null===(me=this.document.verificationMethod)||void 0===me?void 0:me.find(yn=>{var Ht,bt;return Da(yn.id)===(null!==(Ht=Da(Me?.methodId))&&void 0!==Ht?Ht:Da(null===(bt=this.document.assertionMethod)||void 0===bt?void 0:bt[0]))});if(!ve||!ve.publicKeyJwk)throw new uo(vo.InternalError,"A verification method intended for signing could not be determined from the DID Document");const Ze=yield this.keyManager.getKeyUri({key:ve.publicKeyJwk}),Je=yield this.keyManager.getPublicKey({keyUri:Ze}),pt=this.keyManager;return{algorithm:Si(Je),keyId:ve.id,sign(yn){return ta(this,arguments,void 0,function*({data:Ht}){return yield pt.sign({data:Ht,keyUri:Ze})})},verify(yn){return ta(this,arguments,void 0,function*({data:Ht,signature:bt}){return yield pt.verify({data:Ht,key:Je,signature:bt})})}}})}static import(Me){return ta(this,arguments,void 0,function*({portableDid:me,keyManager:ve=new vf}){var Ze;const Je=function ou({didDocument:We}){var Me,me;if(!We)throw new TypeError("Required parameter missing: 'didDocument'");const ve=[];return ve.push(...null!==(me=null===(Me=We.verificationMethod)||void 0===Me?void 0:Me.filter(Np))&&void 0!==me?me:[]),Object.keys(ul).forEach(Ze=>{var Je,pt;ve.push(...null!==(pt=null===(Je=We[Ze])||void 0===Je?void 0:Je.filter(Np))&&void 0!==pt?pt:[])}),ve}({didDocument:me.document});if(0===Je.length)throw new uo(vo.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let jt of null!==(Ze=me.privateKeys)&&void 0!==Ze?Ze:[])yield ve.importKey({key:jt});for(let jt of Je){if(!jt.publicKeyJwk)throw new Error(`Verification method '${jt.id}' does not contain a public key in JWK format`);const yn=yield ve.getKeyUri({key:jt.publicKeyJwk});yield ve.getPublicKey({keyUri:yn})}return new Du({uri:me.uri,document:me.document,metadata:me.metadata,keyManager:ve})})}}var Cu=function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})};class xf{static getSigningMethod(Me){return Cu(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(Me,me){return Cu(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var vs=function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})},ku=function(We,Me){var me={};for(var ve in We)Object.prototype.hasOwnProperty.call(We,ve)&&Me.indexOf(ve)<0&&(me[ve]=We[ve]);if(null!=We&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(ve=Object.getOwnPropertySymbols(We);Ze<ve.length;Ze++)Me.indexOf(ve[Ze])<0&&Object.prototype.propertyIsEnumerable.call(We,ve[Ze])&&(me[ve[Ze]]=We[ve[Ze]])}return me};const Pu="https://diddht.tbddev.org",Hi=7200,ja=",";var sh=function(We){return We[We.Discoverable=0]="Discoverable",We[We.Organization=1]="Organization",We[We.Government=2]="Government",We[We.Corporation=3]="Corporation",We[We.LocalBusiness=4]="LocalBusiness",We[We.SoftwarePackage=5]="SoftwarePackage",We[We.WebApp=6]="WebApp",We[We.FinancialInstitution=7]="FinancialInstitution",We}(sh||{}),gc=function(We){return We[We.Ed25519=0]="Ed25519",We[We.secp256k1=1]="secp256k1",We[We.secp256r1=2]="secp256r1",We[We.X25519=3]="X25519",We}(gc||{}),Nl=function(We){return We.authentication="auth",We.assertionMethod="asm",We.capabilityDelegation="del",We.capabilityInvocation="inv",We.keyAgreement="agm",We}(Nl||{});const Ou={Ed25519:gc.Ed25519,ES256K:gc.secp256k1,ES256:gc.secp256r1,"P-256":gc.secp256r1,secp256k1:gc.secp256k1,secp256r1:gc.secp256r1,X25519:gc.X25519},eo={[gc.Ed25519]:"Ed25519",[gc.secp256k1]:"ES256K",[gc.secp256r1]:"ES256",[gc.X25519]:"ECDH-ES+A256KW"};let hl=(()=>{class We extends xf{static create(){return vs(this,arguments,void 0,function*({keyManager:me=new vf,options:ve={}}={}){var Ze,Je,pt,jt,yn,Ht,bt,nn,Or,pi,ii;if(null!==(Ze=ve.verificationMethods)&&void 0!==Ze&&Ze.some(Lr=>!(Lr.algorithm in Ou)))throw new Error("One or more verification method algorithms are not supported");const hi=null===(Je=ve.verificationMethods)||void 0===Je?void 0:Je.filter(Lr=>"id"in Lr).map(Lr=>Lr.id);if(hi&&hi.length!==new Set(hi).size)throw new Error("One or more verification method IDs are not unique");if(null!==(pt=ve.services)&&void 0!==pt&&pt.some(Lr=>!Lr.id||!Lr.type||!Lr.serviceEndpoint))throw new Error("One or more services are missing required properties");const Oi=yield me.generateKey({algorithm:"Ed25519"}),Vo=yield me.getPublicKey({keyUri:Oi}),mi=yield Ro.identityKeyToIdentifier({identityKey:Vo}),Dr=Object.assign(Object.assign({id:mi},ve.alsoKnownAs&&{alsoKnownAs:ve.alsoKnownAs}),ve.controllers&&{controller:ve.controllers}),ki=[...null!==(jt=ve.verificationMethods)&&void 0!==jt?jt:[]];ki?.some(Lr=>{var Eo;return"0"===(null===(Eo=Lr.id)||void 0===Eo?void 0:Eo.split("#").pop())})||ki.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const Lr of ki){const Eo=Lr.id&&"0"===Lr.id.split("#").pop()?Oi:yield me.generateKey({algorithm:Lr.algorithm}),lc=yield me.getPublicKey({keyUri:Eo});let He=null!==(Ht=null!==(yn=Lr.id)&&void 0!==yn?yn:lc.kid)&&void 0!==Ht?Ht:yield vn({jwk:lc});He=`${mi}#${Da(He)}`,null!==(bt=Dr.verificationMethod)&&void 0!==bt||(Dr.verificationMethod=[]),Dr.verificationMethod.push({id:He,type:"JsonWebKey",controller:null!==(nn=Lr.controller)&&void 0!==nn?nn:mi,publicKeyJwk:lc});for(const ut of null!==(Or=Lr.purposes)&&void 0!==Or?Or:[])Dr[ut]||(Dr[ut]=[]),Dr[ut].push(He)}null===(pi=ve.services)||void 0===pi||pi.forEach(Lr=>{var Eo;null!==(Eo=Dr.service)&&void 0!==Eo||(Dr.service=[]),Lr.id=`${mi}#${Lr.id.split("#").pop()}`,Dr.service.push(Lr)});const so=new Du({uri:mi,document:Dr,metadata:Object.assign({published:!1},ve.types&&{types:ve.types}),keyManager:me});if(null===(ii=ve.publish)||void 0===ii||ii){const Lr=yield We.publish({did:so,gatewayUri:ve.gatewayUri});so.metadata=Lr.didDocumentMetadata}return so})}static import(me){return vs(this,arguments,void 0,function*({portableDid:ve,keyManager:Ze=new vf}){var Je;const pt=oo.parse(ve.uri);if(pt?.method!==We.methodName)throw new uo(vo.MethodNotSupported,"Method not supported");const jt=yield Du.import({portableDid:ve,keyManager:Ze});if(null===(Je=jt.document.verificationMethod)||void 0===Je||!Je.some(yn=>{var Ht;return"0"===(null===(Ht=yn.id)||void 0===Ht?void 0:Ht.split("#").pop())}))throw new uo(vo.InvalidDidDocument,"DID document must contain an Identity Key");return jt})}static getSigningMethod(me){return vs(this,arguments,void 0,function*({didDocument:ve,methodId:Ze="#0"}){var Je;const pt=oo.parse(ve.id);if(pt&&pt.method!==this.methodName)throw new uo(vo.MethodNotSupported,`Method not supported: ${pt.method}`);const jt=null===(Je=ve.verificationMethod)||void 0===Je?void 0:Je.find(yn=>{var Ht,bt;return Da(yn.id)===(null!==(Ht=Da(Ze))&&void 0!==Ht?Ht:Da(null===(bt=ve.assertionMethod)||void 0===bt?void 0:bt[0]))});if(!jt||!jt.publicKeyJwk)throw new uo(vo.InternalError,"A verification method intended for signing could not be determined from the DID Document");return jt})}static publish(me){return vs(this,arguments,void 0,function*({did:ve,gatewayUri:Ze=Pu}){return yield Pc.put({did:ve,gatewayUri:Ze})})}static resolve(me){return vs(this,arguments,void 0,function*(ve,Ze={}){var Je;const pt=null!==(Je=Ze?.gatewayUri)&&void 0!==Je?Je:Pu;try{yield Ro.identifierToIdentityKey({didUri:ve});const{didDocument:jt,didDocumentMetadata:yn}=yield Pc.get({didUri:ve,gatewayUri:pt});return Object.assign(Object.assign({},mc),{didDocument:jt,didDocumentMetadata:yn})}catch(jt){if(!(jt instanceof uo))throw new Error(jt);return Object.assign(Object.assign({},mc),{didResolutionMetadata:Object.assign({error:jt.code},jt.message&&{errorMessage:jt.message})})}})}}return We.methodName="dht",We})();class Pc{static get(Me){return vs(this,arguments,void 0,function*({didUri:me,gatewayUri:ve}){const Ze=Ro.identifierToIdentityKeyBytes({didUri:me}),Je=yield Pc.pkarrGet({gatewayUri:ve,publicKeyBytes:Ze}),pt=yield Ro.parseBep44GetMessage({bep44Message:Je}),jt=yield Pc.fromDnsPacket({didUri:me,dnsPacket:pt});return jt.didDocumentMetadata.versionId=Je.seq.toString(),jt})}static put(Me){return vs(this,arguments,void 0,function*({did:me,gatewayUri:ve}){const Ze=yield Pc.toDnsPacket({didDocument:me.document,didMetadata:me.metadata,authoritativeGatewayUris:[ve]}),Je=yield Ro.createBep44PutMessage({dnsPacket:Ze,publicKeyBytes:Ro.identifierToIdentityKeyBytes({didUri:me.uri}),signer:yield me.getSigner({methodId:"0"})}),pt=yield Pc.pkarrPut({gatewayUri:ve,bep44Message:Je});return{didDocument:me.document,didDocumentMetadata:Object.assign(Object.assign({},me.metadata),{published:pt,versionId:Je.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(Me){return vs(this,arguments,void 0,function*({gatewayUri:me,publicKeyBytes:ve}){const Ze=x.U$.uint8Array(ve).toBase32Z(),Je=new URL(Ze,me).href;let pt;try{if(pt=yield fetch(Je,{method:"GET"}),!pt.ok)throw new uo(vo.NotFound,`Pkarr record not found for: ${Ze}`)}catch(Ht){throw Ht instanceof uo?Ht:new uo(vo.InternalError,`Failed to fetch Pkarr record: ${Ht.message}`)}const jt=yield pt.arrayBuffer();if(!jt)throw new uo(vo.NotFound,`Pkarr record not found for: ${Ze}`);if(jt.byteLength<72)throw new uo(vo.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${jt.byteLength}`);if(jt.byteLength>1072)throw new uo(vo.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${jt.byteLength}`);return{k:ve,seq:Number(new DataView(jt).getBigUint64(64)),sig:new Uint8Array(jt,0,64),v:new Uint8Array(jt,72)}})}static pkarrPut(Me){return vs(this,arguments,void 0,function*({gatewayUri:me,bep44Message:ve}){const Ze=x.U$.uint8Array(ve.k).toBase32Z(),Je=new URL(Ze,me).href,pt=new Uint8Array(ve.v.length+72);let jt;pt.set(ve.sig,0),new DataView(pt.buffer).setBigUint64(ve.sig.length,BigInt(ve.seq)),pt.set(ve.v,ve.sig.length+8);try{jt=yield fetch(Je,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:pt})}catch(yn){throw new uo(vo.InternalError,`Failed to put Pkarr record for identifier ${Ze}: ${yn.message}`)}return jt.ok})}static fromDnsPacket(Me){return vs(this,arguments,void 0,function*({didUri:me,dnsPacket:ve}){var Ze,Je,pt;const jt={id:me},yn={published:!0},Ht=new Map;for(const bt of null!==(Ze=ve?.answers)&&void 0!==Ze?Ze:[]){if("TXT"!==bt.type)continue;const nn=bt.name.split(".")[0].substring(1);switch(!0){case nn.startsWith("aka"):{const Or=Ro.parseTxtDataToString(bt.data);jt.alsoKnownAs=Or.split(ja);break}case nn.startsWith("cnt"):{const Or=Ro.parseTxtDataToString(bt.data);jt.controller=Or.includes(ja)?Or.split(ja):Or;break}case nn.startsWith("k"):{const{id:Or,t:pi,k:ii,c:hi,a:Oi}=Ro.parseTxtDataToObject(bt.data),Vo=x.U$.base64Url(ii).toUint8Array(),mi=gc[Number(pi)];let Dr=yield Ro.keyConverter(mi).bytesToPublicKey({publicKeyBytes:Vo});Dr.alg=Oi||eo[Number(pi)];const ki="k0"===nn?"0":void 0!==Or?Or:yield vn({jwk:Dr});null!==(Je=jt.verificationMethod)&&void 0!==Je||(jt.verificationMethod=[]);const so=`${me}#${ki}`;jt.verificationMethod.push({id:so,type:"JsonWebKey",controller:hi??me,publicKeyJwk:Dr}),Ht.set(nn,so);break}case nn.startsWith("s"):{const Or=Ro.parseTxtDataToObject(bt.data),{id:pi,t:ii,se:hi}=Or,Oi=ku(Or,["id","t","se"]),Vo=hi.includes(ja)?hi.split(ja):[hi],mi=Object.fromEntries(Object.entries(Oi).map(([Dr,ki])=>[Dr,ki.includes(ja)?ki.split(ja):ki]));null!==(pt=jt.service)&&void 0!==pt||(jt.service=[]),jt.service.push(Object.assign(Object.assign({},mi),{id:`${me}#${pi}`,type:ii,serviceEndpoint:Vo}));break}case nn.startsWith("typ"):{const{id:Or}=Ro.parseTxtDataToObject(bt.data);yn.types=Or.split(ja).map(pi=>Number(pi));break}case nn.startsWith("did"):{const Or=mi=>mi.split(ja).map(Dr=>Ht.get(Dr)).filter(Dr=>"string"==typeof Dr),{auth:pi,asm:ii,del:hi,inv:Oi,agm:Vo}=Ro.parseTxtDataToObject(bt.data);pi&&(jt.authentication=Or(pi)),ii&&(jt.assertionMethod=Or(ii)),hi&&(jt.capabilityDelegation=Or(hi)),Oi&&(jt.capabilityInvocation=Or(Oi)),Vo&&(jt.keyAgreement=Or(Vo));break}}}return{didDocument:jt,didDocumentMetadata:yn,didResolutionMetadata:{}}})}static toDnsPacket(Me){return vs(this,arguments,void 0,function*({didDocument:me,didMetadata:ve,authoritativeGatewayUris:Ze,previousDidProof:Je}){var pt,jt,yn,Ht,bt;const nn=[],Or=[],pi=new Map,ii=[],hi=[];if(void 0!==Je){const{signature:mi,previousDid:Dr}=Je;yield Ro.validatePreviousDidProof({newDid:me.id,previousDidProof:Je}),nn.push({type:"TXT",name:"_prv._did.",ttl:Hi,data:`id=${Dr};s=${mi}`})}if(me.alsoKnownAs&&nn.push({type:"TXT",name:"_aka._did.",ttl:Hi,data:me.alsoKnownAs.join(ja)}),me.controller){const mi=Array.isArray(me.controller)?me.controller.join(ja):me.controller;nn.push({type:"TXT",name:"_cnt._did.",ttl:Hi,data:mi})}for(const[mi,Dr]of null!==(jt=null===(pt=me.verificationMethod)||void 0===pt?void 0:pt.entries())&&void 0!==jt?jt:[]){const ki=`k${mi}`;hi.push(ki);let so=Dr.id.split("#").pop();pi.set(so,ki);const Lr=Dr.publicKeyJwk;if(!Lr?.crv||!(Lr.crv in Ou))throw new uo(vo.InvalidPublicKeyType,`Verification method '${Dr.id}' contains an unsupported key type: ${null!==(yn=Lr?.crv)&&void 0!==yn?yn:"undefined"}`);const Eo=gc[Lr.crv],lc=yield Ro.keyConverter(Lr.crv).publicKeyToBytes({publicKey:Lr}),ut=[`t=${Eo}`,`k=${x.U$.uint8Array(lc).toBase64Url()}`];"0"!==so&&(yield vn({jwk:Lr}))!==so&&ut.unshift(`id=${so}`),Lr.alg!==eo[Eo]&&ut.push(`a=${Lr.alg}`),Dr.controller!==me.id&&ut.push(`c=${Dr.controller}`),nn.push({type:"TXT",name:`_${ki}._did.`,ttl:Hi,data:ut.join(";")})}null===(Ht=me.service)||void 0===Ht||Ht.forEach((mi,Dr)=>{const ki=`s${Dr}`;ii.push(ki);let{id:so,type:Lr,serviceEndpoint:Eo}=mi,lc=ku(mi,["id","type","serviceEndpoint"]);so=Da(so),Eo=Array.isArray(Eo)?Eo.join(","):Eo;const ut=Object.entries(Object.assign({id:so,t:Lr,se:Eo},lc)).map(([yt,Rt])=>`${yt}=${Rt}`).join(";"),qe=Ro.chunkDataIfNeeded(ut);nn.push({type:"TXT",name:`_${ki}._did.`,ttl:Hi,data:qe})});const Oi=["v=0"];if(hi.length&&Oi.push(`vm=${hi.join(ja)}`),Object.keys(ul).forEach(mi=>{var Dr;const ki=null===(Dr=me[mi])||void 0===Dr?void 0:Dr.map(so=>pi.get(so.split("#").pop()));ki&&Oi.push(`${Nl[mi]}=${ki.join(ja)}`)}),ii.length&&Oi.push(`svc=${ii.join(ja)}`),null!==(bt=ve.types)&&void 0!==bt&&bt.length){const Dr=ve.types.map(ki=>"string"==typeof ki?sh[ki]:ki);nn.push({type:"TXT",name:"_typ._did.",ttl:Hi,data:`id=${Dr.join(ja)}`})}nn.push({type:"TXT",name:"_did."+Pc.getUniqueDidSuffix(me.id)+".",ttl:Hi,data:Oi.join(";")});for(const mi of Ze||[])Or.push({type:"NS",name:"_did."+Pc.getUniqueDidSuffix(me.id)+".",ttl:Hi,data:mi+"."});return{id:0,type:"response",flags:en.hB,answers:[...nn,...Or]}})}static getUniqueDidSuffix(Me){return Me.split(":")[2]}}class Ro{static createBep44PutMessage(Me){return vs(this,arguments,void 0,function*({dnsPacket:me,publicKeyBytes:ve,signer:Ze}){const Je=Math.ceil(Date.now()/1e3),pt=(0,en.lF)(me),jt=ri.A.encode({seq:Je,v:pt}).subarray(1,-1);if(jt.length>1e3)throw new uo(vo.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${jt.length} bytes`);return{k:ve,seq:Je,sig:yield Ze.sign({data:jt}),v:pt}})}static identifierToIdentityKey(Me){return vs(this,arguments,void 0,function*({didUri:me}){let ve=Ro.identifierToIdentityKeyBytes({didUri:me});return yield Ls.bytesToPublicKey({publicKeyBytes:ve})})}static identifierToIdentityKeyBytes({didUri:Me}){const me=oo.parse(Me);if(!me)throw new uo(vo.InvalidDid,`Invalid DID URI: ${Me}`);if(me.method!==hl.methodName)throw new uo(vo.MethodNotSupported,`Method not supported: ${me.method}`);let ve;try{ve=x.U$.base32Z(me.id).toUint8Array()}catch{throw new uo(vo.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==ve.length)throw new uo(vo.InvalidPublicKeyLength,`Invalid public key length: ${ve.length}`);return ve}static identityKeyToIdentifier(Me){return vs(this,arguments,void 0,function*({identityKey:me}){const ve=yield Ls.publicKeyToBytes({publicKey:me}),Ze=x.U$.uint8Array(ve).toBase32Z();return`did:${hl.methodName}:${Ze}`})}static keyConverter(Me){const ve={Ed25519:Ls,"P-256":{publicKeyToBytes:Ze=>vs(this,[Ze],void 0,function*({publicKey:Je}){const pt=yield ys.publicKeyToBytes({publicKey:Je});return yield ys.compressPublicKey({publicKeyBytes:pt})}),bytesToPublicKey:ys.bytesToPublicKey,privateKeyToBytes:ys.privateKeyToBytes,bytesToPrivateKey:ys.bytesToPrivateKey},secp256k1:{publicKeyToBytes:Ze=>vs(this,[Ze],void 0,function*({publicKey:Je}){const pt=yield Lo.publicKeyToBytes({publicKey:Je});return yield Lo.compressPublicKey({publicKeyBytes:pt})}),bytesToPublicKey:Lo.bytesToPublicKey,privateKeyToBytes:Lo.privateKeyToBytes,bytesToPrivateKey:Lo.bytesToPrivateKey},X25519:ru}[Me];if(!ve)throw new uo(vo.InvalidPublicKeyType,`Unsupported curve: ${Me}`);return ve}static parseBep44GetMessage(Me){return vs(this,arguments,void 0,function*({bep44Message:me}){const ve=yield Ls.bytesToPublicKey({publicKeyBytes:me.k}),Ze=ri.A.encode({seq:me.seq,v:me.v}).subarray(1,-1);if(!(yield Ls.verify({key:ve,signature:me.sig,data:Ze})))throw new uo(vo.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,en.D4)(me.v)})}static parseTxtDataToObject(Me){return this.parseTxtDataToString(Me).split(";").reduce((me,ve)=>{const[Ze,Je]=ve.split("=");return me[Ze]=Je,me},{})}static parseTxtDataToString(Me){if("string"==typeof Me)return Me;if(Me instanceof Uint8Array)return x.U$.uint8Array(Me).toString();if(Array.isArray(Me))return Me.map(me=>this.parseTxtDataToString(me)).join("");throw new uo(vo.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(Me){return vs(this,arguments,void 0,function*({newDid:me,previousDidProof:ve}){const Ze=yield Ro.identifierToIdentityKey({didUri:ve.previousDid}),Je=Ro.identifierToIdentityKeyBytes({didUri:me}),pt=x.U$.base64Url(ve.signature).toUint8Array();if(!(yield Ls.verify({key:Ze,data:Je,signature:pt})))throw new uo(vo.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(Me){if(Me.length<=255)return Me;const me=[];for(let ve=0;ve<Me.length;ve+=255)me.push(Me.slice(ve,ve+255));return me}}let Wo=(()=>{class We extends xf{static resolve(me,ve){return function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})}(this,void 0,void 0,function*(){const Ze=oo.parse(me);if(!Ze)return Object.assign(Object.assign({},mc),{didResolutionMetadata:{error:"invalidDid"}});if(Ze.method!==We.methodName)return Object.assign(Object.assign({},mc),{didResolutionMetadata:{error:"methodNotSupported"}});let Je=`https://${Ze.id.replace(/:/g,"/")}`;Je=decodeURIComponent(Je);const pt=Ze.id.includes(":")?`${Je}/did.json`:`${Je}/.well-known/did.json`;try{const jt=yield fetch(pt);if(!jt.ok)throw new Error("HTTP error status code returned");const yn=yield jt.json();return Object.assign(Object.assign({},mc),{didDocument:yn})}catch{return Object.assign(Object.assign({},mc),{didResolutionMetadata:{error:"notFound"}})}})}}return We.methodName="web",We})();_(44514),_(1424);const pl={get:function(We){return null},set:function(We,Me){return null},delete:function(We){return null},clear:function(){return null},close:function(){return null}};var Ms=function(We,Me,me,ve){return new(me||(me=Promise))(function(Je,pt){function jt(bt){try{Ht(ve.next(bt))}catch(nn){pt(nn)}}function yn(bt){try{Ht(ve.throw(bt))}catch(nn){pt(nn)}}function Ht(bt){bt.done?Je(bt.value):function Ze(Je){return Je instanceof me?Je:new me(function(pt){pt(Je)})}(bt.value).then(jt,yn)}Ht((ve=ve.apply(We,Me||[])).next())})};new class fd{constructor({cache:Me,didResolvers:me}){this.didResolvers=new Map,this.cache=Me||pl;for(const ve of me)this.didResolvers.set(ve.methodName,ve)}resolve(Me,me){return Ms(this,void 0,void 0,function*(){const ve=oo.parse(Me);if(!ve)return Object.assign(Object.assign({},mc),{didResolutionMetadata:{error:vo.InvalidDid,errorMessage:`Invalid DID URI: ${Me}`}});const Ze=this.didResolvers.get(ve.method);if(!Ze)return Object.assign(Object.assign({},mc),{didResolutionMetadata:{error:vo.MethodNotSupported,errorMessage:`Method not supported: ${ve.method}`}});const Je=yield this.cache.get(ve.uri);if(Je)return Je;{const pt=yield Ze.resolve(ve.uri,me);return pt.didResolutionMetadata.error||(yield this.cache.set(ve.uri,pt)),pt}})}dereference(Me,me){return Ms(this,void 0,void 0,function*(){const ve=oo.parse(Me);if(!ve)return{dereferencingMetadata:{error:vo.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:Ze,didResolutionMetadata:Je,didDocumentMetadata:pt}=yield this.resolve(ve.uri);if(!Ze)return{dereferencingMetadata:{error:Je.error},contentStream:null,contentMetadata:{}};if(!ve.fragment||ve.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:Ze,contentMetadata:pt};const{service:jt=[],verificationMethod:yn=[]}=Ze,Ht=new Set([Me,ve.fragment,`#${ve.fragment}`]);let bt;for(let nn of yn)if(Ht.has(nn.id)){bt=nn;break}for(let nn of jt)if(Ht.has(nn.id)){bt=nn;break}return bt?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:bt,contentMetadata:Je}:{dereferencingMetadata:{error:vo.NotFound},contentStream:null,contentMetadata:{}}})}}({didResolvers:[hl,Wo]})},37475:(Fe,z,_)=>{"use strict";_.d(z,{U$:()=>j,cG:()=>se,ny:()=>de,Gs:()=>re,VS:()=>u,Z6:()=>Ce,LC:()=>p,RI:()=>te,E8:()=>Y,fc:()=>O});var p=_(52191),E=_(15130),k=_(80286),H=_(14725);function O(y){const S=Object.prototype.toString.call(y).match(/\s([a-zA-Z0-9]+)/),[T,N]=S;return N}var F=function(y,g,S,T){return new(S||(S=Promise))(function(M,s){function v(ee){try{K(T.next(ee))}catch(ce){s(ce)}}function W(ee){try{K(T.throw(ee))}catch(ce){s(ce)}}function K(ee){ee.done?M(ee.value):function N(M){return M instanceof S?M:new S(function(s){s(M)})}(ee.value).then(v,W)}K((T=T.apply(y,g||[])).next())})},L=function(y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var S,g=y[Symbol.asyncIterator];return g?g.call(y):(y="function"==typeof __values?__values(y):y[Symbol.iterator](),S={},T("next"),T("throw"),T("return"),S[Symbol.asyncIterator]=function(){return this},S);function T(M){S[M]=y[M]&&function(s){return new Promise(function(v,W){!function N(M,s,v,W){Promise.resolve(W).then(function(K){M({value:K,done:v})},s)}(v,W,(s=y[M](s)).done,s.value)})}}};const I=new TextEncoder,Z=new TextDecoder;class j{constructor(g,S){this.data=g,this.format=S}static arrayBuffer(g){return new j(g,"ArrayBuffer")}static asyncIterable(g){if(!function R(y){return"object"==typeof y&&null!==y&&"function"==typeof y[Symbol.asyncIterator]}(g))throw new TypeError("Input must be of type AsyncIterable.");return new j(g,"AsyncIterable")}static base32Z(g){return new j(g,"Base32Z")}static base58Btc(g){return new j(g,"Base58Btc")}static base64Url(g){return new j(g,"Base64Url")}static bufferSource(g){return new j(g,"BufferSource")}static hex(g){if("string"!=typeof g)throw new TypeError("Hex input must be a string.");if(g.length%2!=0)throw new TypeError("Hex input must have an even number of characters.");return new j(g,"Hex")}static multibase(g){return new j(g,"Multibase")}static object(g){return new j(g,"Object")}static string(g){return new j(g,"String")}static uint8Array(g){return new j(g,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return k.s.baseDecode(this.data).buffer;case"Base64Url":return H.r0.baseDecode(this.data).buffer;case"BufferSource":if("ArrayBuffer"===O(this.data))return this.data;if(ArrayBuffer.isView(this.data))return function x(y){return 0!==y.byteOffset||y.byteLength!==y.buffer.byteLength}(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`);case"Hex":case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return F(this,void 0,void 0,function*(){if("AsyncIterable"===this.format)return yield(yield this.toBlobAsync()).arrayBuffer();throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)})}toBase32Z(){if("Uint8Array"===this.format)return E.jd.baseEncode(this.data);throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const g=new Uint8Array(this.data);return k.s.baseEncode(g)}case"Multibase":return this.data.substring(1);case"Uint8Array":return k.s.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const g=new Uint8Array(this.data);return H.r0.baseEncode(g)}case"BufferSource":{const g=this.toUint8Array();return H.r0.baseEncode(g)}case"Object":{const g=JSON.stringify(this.data),S=I.encode(g);return H.r0.baseEncode(S)}case"String":{const g=I.encode(this.data);return H.r0.baseEncode(g)}case"Uint8Array":return H.r0.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){var g,S,T;return F(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const W=[];try{for(var v,M=!0,s=L(this.data);v=yield s.next(),!(g=v.done);M=!0)M=!1,W.push(v.value)}catch(ee){S={error:ee}}finally{try{!M&&!g&&(T=s.return)&&(yield T.call(s))}finally{if(S)throw S.error}}return new Blob(W)}throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)})}toHex(){const g=Array.from({length:256},(S,T)=>T.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const S=this.toUint8Array();return j.uint8Array(S).toHex()}case"Base64Url":{const S=this.toUint8Array();return j.uint8Array(S).toHex()}case"Uint8Array":{let S="";for(let T=0;T<this.data.length;T++)S+=g[this.data[T]];return S}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){if("Base58Btc"===this.format)return`z${this.data}`;throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}toObject(){switch(this.format){case"Base64Url":{const g=H.r0.baseDecode(this.data),S=Z.decode(g);return JSON.parse(S)}case"String":return JSON.parse(this.data);case"Uint8Array":{const g=Z.decode(this.data);return JSON.parse(g)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return F(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const g=yield this.toStringAsync();return JSON.parse(g)}throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)})}toString(){switch(this.format){case"ArrayBuffer":case"Uint8Array":return Z.decode(this.data);case"Base64Url":{const g=H.r0.baseDecode(this.data);return Z.decode(g)}case"Object":return JSON.stringify(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){var g,S,T,N;return F(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){let W="";try{for(var v,M=!0,s=L(this.data);v=yield s.next(),!(g=v.done);M=!0)M=!1,W+="string"==typeof(N=v.value)?N:Z.decode(N,{stream:!0})}catch(K){S={error:K}}finally{try{!M&&!g&&(T=s.return)&&(yield T.call(s))}finally{if(S)throw S.error}}return W+=Z.decode(void 0,{stream:!1}),W}throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return E.jd.baseDecode(this.data);case"Base58Btc":return k.s.baseDecode(this.data);case"Base64Url":return H.r0.baseDecode(this.data);case"BufferSource":{const g=O(this.data);if("Uint8Array"===g)return this.data;if("ArrayBuffer"===g)return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const g=new Uint8Array(this.data.length/2);for(let S=0;S<this.data.length;S+=2){const T=parseInt(this.data.substring(S,S+2),16);if(isNaN(T))throw new TypeError("Input is not a valid hexadecimal string.");g[S/2]=T}return g}case"Object":{const g=JSON.stringify(this.data);return I.encode(g)}case"String":return I.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return F(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const g=yield this.toArrayBufferAsync();return new Uint8Array(g)}throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)})}}var G=_(41405);class re{static addPrefix(g){var S;let{code:T,data:N,name:M}=g;if(!(M?!T:T))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(T=re.codeToName.has(T)?T:re.nameToCode.get(M),void 0===T)throw new Error(`Unsupported multicodec: ${null!==(S=g.name)&&void 0!==S?S:g.code}`);const s=G.L8.encodingLength(T),v=new Uint8Array(s+N.byteLength);return v.set(N,s),G.L8.encodeTo(T,v),v}static getCodeFromData(g){const{prefixedData:S}=g,[T,N]=G.L8.decode(S);return T}static getCodeFromName(g){const{name:S}=g,T=re.nameToCode.get(S);if(void 0===T)throw new Error(`Unsupported multicodec: ${S}`);return T}static getNameFromCode(g){const{code:S}=g,T=re.codeToName.get(S);if(void 0===T)throw new Error(`Unsupported multicodec: ${S}`);return T}static registerCodec(g){re.codeToName.set(g.code,g.name),re.nameToCode.set(g.name,g.code)}static removePrefix(g){const{prefixedData:S}=g,[T,N]=G.L8.decode(S),M=re.codeToName.get(T);if(void 0===M)throw new Error(`Unsupported multicodec: ${T}`);return{code:T,data:S.slice(N),name:M}}}function te(y){return!("object"!=typeof y||null===y||Object.getOwnPropertySymbols(y).length>0)&&0===Object.keys(y).length}function Y(y){Object.keys(y).forEach(g=>{void 0===y[g]?delete y[g]:"object"==typeof y[g]&&Y(y[g])})}re.codeToName=new Map,re.nameToCode=new Map,re.registerCodec({code:237,name:"ed25519-pub"}),re.registerCodec({code:4864,name:"ed25519-priv"}),re.registerCodec({code:236,name:"x25519-pub"}),re.registerCodec({code:4866,name:"x25519-priv"}),re.registerCodec({code:231,name:"secp256k1-pub"}),re.registerCodec({code:4865,name:"secp256k1-priv"});var oe=_(54626),ae=function(y,g,S,T){return new(S||(S=Promise))(function(M,s){function v(ee){try{K(T.next(ee))}catch(ce){s(ce)}}function W(ee){try{K(T.throw(ee))}catch(ce){s(ce)}}function K(ee){ee.done?M(ee.value):function N(M){return M instanceof S?M:new S(function(s){s(M)})}(ee.value).then(v,W)}K((T=T.apply(y,g||[])).next())})};class se{constructor({db:g,location:S="DATASTORE"}={}){this.store=g??new oe.Level(S)}clear(){return ae(this,void 0,void 0,function*(){yield this.store.clear()})}close(){return ae(this,void 0,void 0,function*(){yield this.store.close()})}delete(g){return ae(this,void 0,void 0,function*(){yield this.store.del(g)})}get(g){return ae(this,void 0,void 0,function*(){try{return yield this.store.get(g)}catch(S){if(S.notFound)return;throw S}})}set(g,S){return ae(this,void 0,void 0,function*(){yield this.store.put(g,S)})}}class de{constructor(){this.store=new Map}clear(){return ae(this,void 0,void 0,function*(){this.store.clear()})}close(){return ae(this,void 0,void 0,function*(){})}delete(g){return ae(this,void 0,void 0,function*(){return this.store.delete(g)})}get(g){return ae(this,void 0,void 0,function*(){return this.store.get(g)})}has(g){return ae(this,void 0,void 0,function*(){return this.store.has(g)})}list(){return ae(this,void 0,void 0,function*(){return Array.from(this.store.values())})}set(g,S){return ae(this,void 0,void 0,function*(){this.store.set(g,S)})}}var le=function(y,g,S,T){return new(S||(S=Promise))(function(M,s){function v(ee){try{K(T.next(ee))}catch(ce){s(ce)}}function W(ee){try{K(T.throw(ee))}catch(ce){s(ce)}}function K(ee){ee.done?M(ee.value):function N(M){return M instanceof S?M:new S(function(s){s(M)})}(ee.value).then(v,W)}K((T=T.apply(y,g||[])).next())})},we=function(y){return this instanceof we?(this.v=y,this):new we(y)};class Ce{static asAsyncIterator(g){return function(y,g,S){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var N,T=S.apply(y,g||[]),M=[];return N={},s("next"),s("throw"),s("return"),N[Symbol.asyncIterator]=function(){return this},N;function s(_e){T[_e]&&(N[_e]=function(Pe){return new Promise(function($e,Se){M.push([_e,Pe,$e,Se])>1||v(_e,Pe)})})}function v(_e,Pe){try{!function W(_e){_e.value instanceof we?Promise.resolve(_e.value.v).then(K,ee):ce(M[0][2],_e)}(T[_e](Pe))}catch($e){ce(M[0][3],$e)}}function K(_e){v("next",_e)}function ee(_e){v("throw",_e)}function ce(_e,Pe){_e(Pe),M.shift(),M.length&&v(M[0][0],M[0][1])}}(this,arguments,function*(){const T=g.getReader();try{for(;;){const{done:N,value:M}=yield we(T.read());if(N)break;yield yield we(M)}}finally{T.releaseLock()}})}static consumeToArrayBuffer({readableStream:g}){return le(this,void 0,void 0,function*(){const S=Ce.asAsyncIterator(g);return yield j.asyncIterable(S).toArrayBufferAsync()})}static consumeToBlob({readableStream:g}){return le(this,void 0,void 0,function*(){const S=Ce.asAsyncIterator(g);return yield j.asyncIterable(S).toBlobAsync()})}static consumeToBytes({readableStream:g}){return le(this,void 0,void 0,function*(){const S=Ce.asAsyncIterator(g);return yield j.asyncIterable(S).toUint8ArrayAsync()})}static consumeToJson({readableStream:g}){return le(this,void 0,void 0,function*(){const S=Ce.asAsyncIterator(g);return yield j.asyncIterable(S).toObjectAsync()})}static consumeToText({readableStream:g}){return le(this,void 0,void 0,function*(){const S=Ce.asAsyncIterator(g);return yield j.asyncIterable(S).toStringAsync()})}static generateByteStream({streamLength:g,chunkLength:S,fillValue:T}){let M,N=g??1/0;function s(){const v=Math.min(N,S??1/0);let W;if(N-=v,"number"==typeof T)W=new Uint8Array(v).fill(T);else if(Array.isArray(T)){W=new Uint8Array(v);const[K,ee]=T,ce=ee-K+1;for(let _e=0;_e<v;_e++)W[_e]=Math.floor(Math.random()*ce)+K}else W=new Uint8Array(v);M.enqueue(W),N<=0&&M.close()}return new ReadableStream({start(v){M=v,s()},pull(){s()}})}static isReadable({readableStream:g}){if(!Ce.isReadableStream(g)||g.locked)return!1;try{return g.getReader().releaseLock(),!0}catch{return!1}}static isReadableStream(g){return"object"==typeof g&&null!==g&&"getReader"in g&&"function"==typeof g.getReader}static isStream(g){return Ce.isReadableStream(g)||Ce.isWritableStream(g)||Ce.isTransformStream(g)}static isTransformStream(g){return"object"==typeof g&&null!==g&&"readable"in g&&"object"==typeof g.readable&&"writable"in g&&"object"==typeof g.writable}static isWritableStream(g){return"object"==typeof g&&null!==g&&"getWriter"in g&&"function"==typeof g.getWriter&&"abort"in g&&"function"==typeof g.abort}}var C=_(95424),a=function(y,g,S,T){return new(S||(S=Promise))(function(M,s){function v(ee){try{K(T.next(ee))}catch(ce){s(ce)}}function W(ee){try{K(T.throw(ee))}catch(ce){s(ce)}}function K(ee){ee.done?M(ee.value):function N(M){return M instanceof S?M:new S(function(s){s(M)})}(ee.value).then(v,W)}K((T=T.apply(y,g||[])).next())})};class u{static consumeToArrayBuffer({readable:g}){return a(this,void 0,void 0,function*(){return yield j.asyncIterable(g).toArrayBufferAsync()})}static consumeToBlob({readable:g}){return a(this,void 0,void 0,function*(){return yield j.asyncIterable(g).toBlobAsync()})}static consumeToBytes({readable:g}){return a(this,void 0,void 0,function*(){return yield j.asyncIterable(g).toUint8ArrayAsync()})}static consumeToJson({readable:g}){return a(this,void 0,void 0,function*(){return yield j.asyncIterable(g).toObjectAsync()})}static consumeToText({readable:g}){return a(this,void 0,void 0,function*(){return yield j.asyncIterable(g).toStringAsync()})}static fromWebReadable({readableStream:g,readableOptions:S}){if(!Ce.isReadableStream(g))throw new TypeError("NodeStream.fromWebReadable: 'readableStream' is not a Web ReadableStream.");const T=g.getReader();let N=!1;const M=new C.Readable(Object.assign(Object.assign({},S),{read:function(){T.read().then(({done:s,value:v})=>{if(s)this.push(null);else if(!this.push(v))return}).catch(s=>{this.destroy(s)})},destroy:function(s,v){function W(){v(s)}N?W():T.cancel(s).then(W).catch(W)}}));return T.closed.then(()=>{N=!0}).catch(s=>{N=!0,M.destroy(s)}),M}static isDestroyed({stream:g}){if(!u.isStream(g))throw new TypeError("NodeStream.isDestroyed: 'stream' is not a Node stream.");return!(!g.destroyed&&!(("_writableState"in g?g._writableState:void 0)||g._readableState).destroyed)}static isReadable({readable:g}){return!!u.isReadableStream(g)&&g.readable&&"boolean"==typeof g._readableState.ended&&!g._readableState.ended&&"boolean"==typeof g._readableState.endEmitted&&!g._readableState.endEmitted&&!g.destroyed&&!g.isPaused()}static isReadableStream(g){return"object"==typeof g&&null!==g&&"pipe"in g&&"function"==typeof g.pipe&&"on"in g&&"function"==typeof g.on&&!("_writableState"in g)&&"_readableState"in g}static isStream(g){return"object"==typeof g&&null!==g&&("_readableState"in g||"_writableState"in g)}static toWebReadable({readable:g}){if(!u.isReadableStream(g))throw new TypeError("NodeStream.toWebReadable: 'readable' is not a Node Readable stream.");if(u.isDestroyed({stream:g})){const S=new ReadableStream;return S.cancel(),S}return new ReadableStream({start(S){g.on("data",T=>{S.enqueue(T)}),g.on("end",()=>{S.close()}),g.on("error",T=>{S.error(T)})},cancel(){g.destroy()}})}}},2198:(Fe,z,_)=>{"use strict";_.d(z,{A:()=>fe});const p="0123456789abcdef",E=[],k=[];for(let Q=0;Q<256;Q++)E[Q]=p[Q>>4&15]+p[15&Q],Q<16&&(Q<10?k[48+Q]=Q:k[87+Q]=Q);const H=Q=>{const ie=Q.length;let ue="",Ee=0;for(;Ee<ie;)ue+=E[Q[Ee++]];return ue};for(var F=typeof Uint8Array>"u"?[]:new Uint8Array(256),L=0;L<64;L++)F["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(L)]=L;const j=new TextDecoder,G=(Q,ie)=>ie?new TextDecoder(ie).decode(Q):j.decode(Q),re=new TextEncoder,te=Q=>re.encode(Q);function a(Q){const ie=Q<0?1:0;return Q=Math.abs(Number(Q||1)),Math.floor(Math.log10(Q))+1+ie}function u(Q){return ArrayBuffer.isView(Q)?"arraybufferview":Array.isArray(Q)?"array":Q instanceof Number?"number":Q instanceof Boolean?"boolean":Q instanceof Set?"set":Q instanceof Map?"map":Q instanceof String?"string":Q instanceof ArrayBuffer?"arraybuffer":typeof Q}function y(Q,ie,ue){const Ee=[];let ke=null;return y._encode(Ee,Q),ke=((Q,ie=0)=>{const ue=Q.length||0;if(!ie){let Le=ue;for(;Le--;)ie+=Q[Le].length}const Ee=new Uint8Array(ie);let ke=ie,Ue=ue;for(;Ue--;)ke-=Q[Ue].length,Ee.set(Q[Ue],ke);return Ee})(Ee),y.bytes=ke.length,ArrayBuffer.isView(ie)?(ie.set(ke,ue),ie):ke}typeof window<"u"?window:self,y.bytes=-1,y._floatConversionDetected=!1,y._encode=function(Q,ie){if(null!=ie)switch(u(ie)){case"object":y.dict(Q,ie);break;case"map":y.dictMap(Q,ie);break;case"array":y.list(Q,ie);break;case"set":y.listSet(Q,ie);break;case"string":y.string(Q,ie);break;case"number":case"boolean":y.number(Q,ie);break;case"arraybufferview":y.buffer(Q,new Uint8Array(ie.buffer,ie.byteOffset,ie.byteLength));break;case"arraybuffer":y.buffer(Q,new Uint8Array(ie))}};const g=new Uint8Array([101]),S=new Uint8Array([100]),T=new Uint8Array([108]);y.buffer=function(Q,ie){Q.push(te(ie.length+":"),ie)},y.string=function(Q,ie){Q.push(te(te(ie).byteLength+":"+ie))},y.number=function(Q,ie){if(Number.isInteger(ie))return Q.push(te("i"+BigInt(ie)+"e"));const ue=2147483648,Ue=(ie/ue|0)*ue+(ie%ue|0);Q.push(te("i"+Ue+"e")),Ue!==ie&&!y._floatConversionDetected&&(y._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+ie+'":','Bencoding only defines support for integers, value was converted to "'+Ue+'"'),console.trace())},y.dict=function(Q,ie){Q.push(S);let Ee,ue=0;const ke=Object.keys(ie).sort(),Ue=ke.length;for(;ue<Ue;ue++)Ee=ke[ue],null!=ie[Ee]&&(y.string(Q,Ee),y._encode(Q,ie[Ee]));Q.push(g)},y.dictMap=function(Q,ie){Q.push(S);const ue=Array.from(ie.keys()).sort();for(const Ee of ue)null!=ie.get(Ee)&&(ArrayBuffer.isView(Ee)?y._encode(Q,Ee):y.string(Q,String(Ee)),y._encode(Q,ie.get(Ee)));Q.push(g)},y.list=function(Q,ie){let ue=0;const Ee=ie.length;for(Q.push(T);ue<Ee;ue++)null!=ie[ue]&&y._encode(Q,ie[ue]);Q.push(g)},y.listSet=function(Q,ie){Q.push(T);for(const ue of ie)null!=ue&&y._encode(Q,ue);Q.push(g)};const N=y;function ee(Q,ie,ue){let Ee=0,ke=1;for(let Ue=ie;Ue<ue;Ue++){const Le=Q[Ue];if(Le<58&&Le>=48)Ee=10*Ee+(Le-48);else if(Ue!==ie||43!==Le){if(Ue===ie&&45===Le){ke=-1;continue}if(46===Le)break;throw new Error("not a number: buffer["+Ue+"] = "+Le)}}return Ee*ke}function ce(Q,ie,ue,Ee){return null==Q||0===Q.length?null:("number"!=typeof ie&&null==Ee&&(Ee=ie,ie=void 0),"number"!=typeof ue&&null==Ee&&(Ee=ue,ue=void 0),ce.position=0,ce.encoding=Ee||null,ce.data=ArrayBuffer.isView(Q)?new Uint8Array(Q.slice(ie,ue)):te(Q),ce.bytes=ce.data.length,ce.next())}function ye(Q){if(null==Q)return 0;const ue=u(Q);switch(ue){case"arraybufferview":return function Ne(Q){const ie=Q.byteLength-Q.byteOffset;return a(ie)+1+ie}(Q);case"string":return function be(Q){const ie=te(Q).byteLength;return a(ie)+1+ie}(Q);case"array":case"set":return function Pe(Q){let ie=2;for(const ue of Q)ie+=ye(ue);return ie}(Q);case"number":return 1+a(Math.floor(Q))+1;case"bigint":return 1+Q.toString().length+1;case"object":return function Se(Q){let ie=2;const ue=Object.keys(Q);for(let Ee=0;Ee<ue.length;Ee++){const ke=te(ue[Ee]).byteLength;ie+=a(ke)+1+ke,ie+=ye(Q[ue[Ee]])}return ie}(Q);case"map":return function $e(Q){let ie=2;for(const[ue,Ee]of Q){const ke=te(ue).byteLength;ie+=a(ke)+1+ke,ie+=ye(Ee)}return ie}(Q);default:throw new TypeError(`Unsupported value of type "${ue}"`)}}ce.bytes=0,ce.position=0,ce.data=null,ce.encoding=null,ce.next=function(){switch(ce.data[ce.position]){case 100:return ce.dictionary();case 108:return ce.list();case 105:return ce.integer();default:return ce.buffer()}},ce.find=function(Q){let ie=ce.position;const ue=ce.data.length,Ee=ce.data;for(;ie<ue;){if(Ee[ie]===Q)return ie;ie++}throw new Error('Invalid data: Missing delimiter "'+String.fromCharCode(Q)+'" [0x'+Q.toString(16)+"]")},ce.dictionary=function(){ce.position++;const Q={};for(;101!==ce.data[ce.position];){const ie=ce.buffer();let ue=G(ie);ue.includes("\ufffd")&&(ue=H(ie)),Q[ue]=ce.next()}return ce.position++,Q},ce.list=function(){ce.position++;const Q=[];for(;101!==ce.data[ce.position];)Q.push(ce.next());return ce.position++,Q},ce.integer=function(){const Q=ce.find(101),ie=ee(ce.data,ce.position+1,Q);return ce.position+=Q+1-ce.position,ie},ce.buffer=function(){let Q=ce.find(58);const ie=ee(ce.data,ce.position,Q),ue=++Q+ie;return ce.position=ue,ce.encoding?G(ce.data.slice(Q,ue)):ce.data.slice(Q,ue)};const fe={encode:N,decode:ce,byteLength:ye,encodingLength:ye}},10797:(Fe,z,_)=>{"use strict";_.d(z,{_Q:()=>Z,yE:()=>re});var x=_(52054);class R{constructor(J,Y,oe){this.name=J,this.prefix=Y,this.baseEncode=oe}encode(J){if(J instanceof Uint8Array)return`${this.prefix}${this.baseEncode(J)}`;throw Error("Unknown type, must be binary type")}}class A{constructor(J,Y,oe){if(this.name=J,this.prefix=Y,void 0===Y.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=Y.codePointAt(0),this.baseDecode=oe}decode(J){if("string"==typeof J){if(J.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(J)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(J.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(J){return F(this,J)}}class O{constructor(J){this.decoders=J}or(J){return F(this,J)}decode(J){const oe=this.decoders[J[0]];if(oe)return oe.decode(J);throw RangeError(`Unable to decode multibase string ${JSON.stringify(J)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const F=(te,J)=>new O({...te.decoders||{[te.prefix]:te},...J.decoders||{[J.prefix]:J}});class L{constructor(J,Y,oe,ae){this.name=J,this.prefix=Y,this.baseEncode=oe,this.baseDecode=ae,this.encoder=new R(J,Y,oe),this.decoder=new A(J,Y,ae)}encode(J){return this.encoder.encode(J)}decode(J){return this.decoder.decode(J)}}const I=({name:te,prefix:J,encode:Y,decode:oe})=>new L(te,J,Y,oe),Z=({prefix:te,name:J,alphabet:Y})=>{const{encode:oe,decode:ae}=function p(te,J){if(te.length>=255)throw new TypeError("Alphabet too long");for(var Y=new Uint8Array(256),oe=0;oe<Y.length;oe++)Y[oe]=255;for(var ae=0;ae<te.length;ae++){var se=te.charAt(ae),de=se.charCodeAt(0);if(255!==Y[de])throw new TypeError(se+" is ambiguous");Y[de]=ae}var le=te.length,we=te.charAt(0),xe=Math.log(le)/Math.log(256),Ce=Math.log(256)/Math.log(le);function a(y){if("string"!=typeof y)throw new TypeError("Expected String");if(0===y.length)return new Uint8Array;var g=0;if(" "!==y[g]){for(var S=0,T=0;y[g]===we;)S++,g++;for(var N=(y.length-g)*xe+1>>>0,M=new Uint8Array(N);y[g];){var s=Y[y.charCodeAt(g)];if(255===s)return;for(var v=0,W=N-1;(0!==s||v<T)&&-1!==W;W--,v++)M[W]=(s+=le*M[W]>>>0)%256>>>0,s=s/256>>>0;if(0!==s)throw new Error("Non-zero carry");T=v,g++}if(" "!==y[g]){for(var K=N-T;K!==N&&0===M[K];)K++;for(var ee=new Uint8Array(S+(N-K)),ce=S;K!==N;)ee[ce++]=M[K++];return ee}}}return{encode:function C(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===y.length)return"";for(var g=0,S=0,T=0,N=y.length;T!==N&&0===y[T];)T++,g++;for(var M=(N-T)*Ce+1>>>0,s=new Uint8Array(M);T!==N;){for(var v=y[T],W=0,K=M-1;(0!==v||W<S)&&-1!==K;K--,W++)s[K]=(v+=256*s[K]>>>0)%le>>>0,v=v/le>>>0;if(0!==v)throw new Error("Non-zero carry");S=W,T++}for(var ee=M-S;ee!==M&&0===s[ee];)ee++;for(var ce=we.repeat(g);ee<M;++ee)ce+=te.charAt(s[ee]);return ce},decodeUnsafe:a,decode:function u(y){var g=a(y);if(g)return g;throw new Error(`Non-${J} character`)}}}(Y,J);return I({prefix:te,name:J,encode:oe,decode:se=>(0,x.au)(ae(se))})},re=({name:te,prefix:J,bitsPerChar:Y,alphabet:oe})=>I({prefix:J,name:te,encode:ae=>((te,J,Y)=>{const oe="="===J[J.length-1],ae=(1<<Y)-1;let se="",de=0,le=0;for(let we=0;we<te.length;++we)for(le=le<<8|te[we],de+=8;de>Y;)de-=Y,se+=J[ae&le>>de];if(de&&(se+=J[ae&le<<Y-de]),oe)for(;se.length*Y&7;)se+="=";return se})(ae,oe,Y),decode:ae=>((te,J,Y,oe)=>{const ae={};for(let Ce=0;Ce<J.length;++Ce)ae[J[Ce]]=Ce;let se=te.length;for(;"="===te[se-1];)--se;const de=new Uint8Array(se*Y/8|0);let le=0,we=0,xe=0;for(let Ce=0;Ce<se;++Ce){const C=ae[te[Ce]];if(void 0===C)throw new SyntaxError(`Non-${oe} character`);we=we<<Y|C,le+=Y,le>=8&&(le-=8,de[xe++]=255&we>>le)}if(le>=Y||255&we<<8-le)throw new SyntaxError("Unexpected end of data");return de})(ae,oe,Y,te)})},15130:(Fe,z,_)=>{"use strict";_.d(z,{RG:()=>E,jd:()=>L});var p=_(10797);const E=(0,p.yE)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),L=((0,p.yE)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),(0,p.yE)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),(0,p.yE)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),(0,p.yE)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),(0,p.yE)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),(0,p.yE)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),(0,p.yE)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),(0,p.yE)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}))},80286:(Fe,z,_)=>{"use strict";_.d(z,{s:()=>E});var p=_(10797);const E=(0,p._Q)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});(0,p._Q)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},14725:(Fe,z,_)=>{"use strict";_.d(z,{r0:()=>H});var p=_(10797);(0,p.yE)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),(0,p.yE)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});const H=(0,p.yE)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});(0,p.yE)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})},52054:(Fe,z,_)=>{"use strict";_.d(z,{aI:()=>H,au:()=>x}),new Uint8Array(0);const H=(F,L)=>{if(F===L)return!0;if(F.byteLength!==L.byteLength)return!1;for(let I=0;I<F.byteLength;I++)if(F[I]!==L[I])return!1;return!0},x=F=>{if(F instanceof Uint8Array&&"Uint8Array"===F.constructor.name)return F;if(F instanceof ArrayBuffer)return new Uint8Array(F);if(ArrayBuffer.isView(F))return new Uint8Array(F.buffer,F.byteOffset,F.byteLength);throw new Error("Unknown type, must be binary type")}},41861:(Fe,z,_)=>{"use strict";_.d(z,{TO:()=>I});var p=_(28206),E=_(56580),k=_(80286),H=_(15130),x=_(52054);const R=(oe,ae)=>{const{bytes:se,version:de}=oe;return 0===de?j(se,L(oe),ae||k.s.encoder):G(se,L(oe),ae||H.RG.encoder)},F=new WeakMap,L=oe=>{const ae=F.get(oe);if(null==ae){const se=new Map;return F.set(oe,se),se}return ae};class I{constructor(ae,se,de,le){this.code=se,this.version=ae,this.multihash=de,this.bytes=le,this["/"]=le}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:ae,multihash:se}=this;if(ae!==re)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(se.code!==te)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return I.createV0(se)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:ae,digest:se}=this.multihash,de=E.vt(ae,se);return I.createV1(this.code,de)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(ae){return I.equals(this,ae)}static equals(ae,se){return se&&ae.code===se.code&&ae.version===se.version&&E.aI(ae.multihash,se.multihash)}toString(ae){return R(this,ae)}toJSON(){return{"/":R(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(ae){if(null==ae)return null;const se=ae;if(se instanceof I)return se;if(null!=se["/"]&&se["/"]===se.bytes||se.asCID===se){const{version:de,code:le,multihash:we,bytes:xe}=se;return new I(de,le,we,xe||J(de,le,we.bytes))}if(!0===se[Y]){const{version:de,multihash:le,code:we}=se,xe=E.D4(le);return I.create(de,we,xe)}return null}static create(ae,se,de){if("number"!=typeof se)throw new Error("String codecs are no longer supported");if(!(de.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(ae){case 0:if(se!==re)throw new Error(`Version 0 CID must use dag-pb (code: ${re}) block encoding`);return new I(ae,se,de,de.bytes);case 1:{const le=J(ae,se,de.bytes);return new I(ae,se,de,le)}default:throw new Error("Invalid version")}}static createV0(ae){return I.create(0,re,ae)}static createV1(ae,se){return I.create(1,ae,se)}static decode(ae){const[se,de]=I.decodeFirst(ae);if(de.length)throw new Error("Incorrect length");return se}static decodeFirst(ae){const se=I.inspectBytes(ae),de=se.size-se.multihashSize,le=(0,x.au)(ae.subarray(de,de+se.multihashSize));if(le.byteLength!==se.multihashSize)throw new Error("Incorrect length");const we=le.subarray(se.multihashSize-se.digestSize),xe=new E.np(se.multihashCode,se.digestSize,we,le);return[0===se.version?I.createV0(xe):I.createV1(se.codec,xe),ae.subarray(se.size)]}static inspectBytes(ae){let se=0;const de=()=>{const[y,g]=p.decode(ae.subarray(se));return se+=g,y};let le=de(),we=re;if(18===le?(le=0,se=0):we=de(),0!==le&&1!==le)throw new RangeError(`Invalid CID version ${le}`);const xe=se,Ce=de(),C=de(),a=se+C;return{version:le,codec:we,multihashCode:Ce,digestSize:C,multihashSize:a-xe,size:a}}static parse(ae,se){const[de,le]=Z(ae,se),we=I.decode(le);if(0===we.version&&"Q"!==ae[0])throw Error("Version 0 CID string must not include multibase prefix");return L(we).set(de,ae),we}}const Z=(oe,ae)=>{switch(oe[0]){case"Q":return[k.s.prefix,(ae||k.s).decode(`${k.s.prefix}${oe}`)];case k.s.prefix:return[k.s.prefix,(ae||k.s).decode(oe)];case H.RG.prefix:return[H.RG.prefix,(ae||H.RG).decode(oe)];default:if(null==ae)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[oe[0],ae.decode(oe)]}},j=(oe,ae,se)=>{const{prefix:de}=se;if(de!==k.s.prefix)throw Error(`Cannot string encode V0 in ${se.name} encoding`);const le=ae.get(de);if(null==le){const we=se.encode(oe).slice(1);return ae.set(de,we),we}return le},G=(oe,ae,se)=>{const{prefix:de}=se,le=ae.get(de);if(null==le){const we=se.encode(oe);return ae.set(de,we),we}return le},re=112,te=18,J=(oe,ae,se)=>{const de=p.encodingLength(oe),le=de+p.encodingLength(ae),we=new Uint8Array(le+se.byteLength);return p.encodeTo(oe,we,0),p.encodeTo(ae,we,de),we.set(se,le),we},Y=Symbol.for("@ipld/js-cid/CID")},56580:(Fe,z,_)=>{"use strict";_.d(z,{D4:()=>H,aI:()=>x,np:()=>R,vt:()=>k});var p=_(52054),E=_(28206);const k=(A,O)=>{const F=O.byteLength,L=E.encodingLength(A),I=L+E.encodingLength(F),Z=new Uint8Array(I+F);return E.encodeTo(A,Z,0),E.encodeTo(F,Z,L),Z.set(O,I),new R(A,F,O,Z)},H=A=>{const O=(0,p.au)(A),[F,L]=E.decode(O),[I,Z]=E.decode(O.subarray(L)),j=O.subarray(L+Z);if(j.byteLength!==I)throw new Error("Incorrect length");return new R(F,I,j,O)},x=(A,O)=>A===O||A.code===O.code&&A.size===O.size&&O.bytes instanceof Uint8Array&&(0,p.aI)(A.bytes,O.bytes);class R{constructor(O,F,L,I){this.code=O,this.size=F,this.digest=L,this.bytes=I}}},92059:(Fe,z,_)=>{"use strict";_.d(z,{H:()=>E});var p=_(56580);const E=({name:H,code:x,encode:R})=>new k(H,x,R);class k{constructor(x,R,A){this.name=x,this.code=R,this.encode=A}digest(x){if(x instanceof Uint8Array){const R=this.encode(x);return R instanceof Uint8Array?p.vt(this.code,R):R.then(A=>p.vt(this.code,A))}throw Error("Unknown type, must be binary type")}}},41405:(Fe,z,_)=>{"use strict";_.d(z,{L8:()=>E,TO:()=>p.TO});var p=_(41861),E=_(28206);_(52054),_(92059),_(56580)},28206:(Fe,z,_)=>{"use strict";_.r(z),_.d(z,{decode:()=>we,encodeTo:()=>xe,encodingLength:()=>Ce});var E=128,H=-128,x=Math.pow(2,31),O=128,F=127,I=Math.pow(2,7),Z=Math.pow(2,14),j=Math.pow(2,21),G=Math.pow(2,28),re=Math.pow(2,35),te=Math.pow(2,42),J=Math.pow(2,49),Y=Math.pow(2,56),oe=Math.pow(2,63);const le={encode:function R(C,a,u){a=a||[];for(var y=u=u||0;C>=x;)a[u++]=255&C|E,C/=128;for(;C&H;)a[u++]=255&C|E,C>>>=7;return a[u]=0|C,R.bytes=u-y+1,a},decode:function L(C,y){var T,u=0,g=0,S=y=y||0,N=C.length;do{if(S>=N)throw L.bytes=0,new RangeError("Could not decode varint");T=C[S++],u+=g<28?(T&F)<<g:(T&F)*Math.pow(2,g),g+=7}while(T>=O);return L.bytes=S-y,u},encodingLength:function(C){return C<I?1:C<Z?2:C<j?3:C<G?4:C<re?5:C<te?6:C<J?7:C<Y?8:C<oe?9:10}},we=(C,a=0)=>[le.decode(C,a),le.decode.bytes],xe=(C,a,u=0)=>(le.encode(C,a,u),a),Ce=C=>le.encodingLength(C)},10467:(Fe,z,_)=>{"use strict";function p(k,H,x,R,A,O,F){try{var L=k[O](F),I=L.value}catch(Z){return void x(Z)}L.done?H(I):Promise.resolve(I).then(R,A)}function E(k){return function(){var H=this,x=arguments;return new Promise(function(R,A){var O=k.apply(H,x);function F(I){p(O,R,A,F,L,"next",I)}function L(I){p(O,R,A,F,L,"throw",I)}F(void 0)})}}_.d(z,{A:()=>E})},31635:(Fe,z,_)=>{"use strict";function Z(s,v,W,K){return new(W||(W=Promise))(function(ce,_e){function Pe(be){try{Se(K.next(be))}catch(Ne){_e(Ne)}}function $e(be){try{Se(K.throw(be))}catch(Ne){_e(Ne)}}function Se(be){be.done?ce(be.value):function ee(ce){return ce instanceof W?ce:new W(function(_e){_e(ce)})}(be.value).then(Pe,$e)}Se((K=K.apply(s,v||[])).next())})}function se(s){return this instanceof se?(this.v=s,this):new se(s)}function de(s,v,W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,K=W.apply(s,v||[]),ce=[];return ee={},Pe("next"),Pe("throw"),Pe("return",function _e(Te){return function(pe){return Promise.resolve(pe).then(Te,Ne)}}),ee[Symbol.asyncIterator]=function(){return this},ee;function Pe(Te,pe){K[Te]&&(ee[Te]=function(fe){return new Promise(function(Q,ie){ce.push([Te,fe,Q,ie])>1||$e(Te,fe)})},pe&&(ee[Te]=pe(ee[Te])))}function $e(Te,pe){try{!function Se(Te){Te.value instanceof se?Promise.resolve(Te.value.v).then(be,Ne):ye(ce[0][2],Te)}(K[Te](pe))}catch(fe){ye(ce[0][3],fe)}}function be(Te){$e("next",Te)}function Ne(Te){$e("throw",Te)}function ye(Te,pe){Te(pe),ce.shift(),ce.length&&$e(ce[0][0],ce[0][1])}}function we(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W,v=s[Symbol.asyncIterator];return v?v.call(s):(s=function te(s){var v="function"==typeof Symbol&&Symbol.iterator,W=v&&s[v],K=0;if(W)return W.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&K>=s.length&&(s=void 0),{value:s&&s[K++],done:!s}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),W={},K("next"),K("throw"),K("return"),W[Symbol.asyncIterator]=function(){return this},W);function K(ce){W[ce]=s[ce]&&function(_e){return new Promise(function(Pe,$e){!function ee(ce,_e,Pe,$e){Promise.resolve($e).then(function(Se){ce({value:Se,done:Pe})},_e)}(Pe,$e,(_e=s[ce](_e)).done,_e.value)})}}}_.d(z,{AQ:()=>de,N3:()=>se,sH:()=>Z,xN:()=>we}),"function"==typeof SuppressedError&&SuppressedError},83813:Fe=>{"use strict";Fe.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},59608:Fe=>{"use strict";Fe.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/applicator","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/applicator":true},"$dynamicAnchor":"meta","title":"Applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"prefixItems":{"$ref":"#/$defs/schemaArray"},"items":{"$dynamicRef":"#meta"},"contains":{"$dynamicRef":"#meta"},"additionalProperties":{"$dynamicRef":"#meta"},"properties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"propertyNames":{"format":"regex"},"default":{}},"dependentSchemas":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"propertyNames":{"$dynamicRef":"#meta"},"if":{"$dynamicRef":"#meta"},"then":{"$dynamicRef":"#meta"},"else":{"$dynamicRef":"#meta"},"allOf":{"$ref":"#/$defs/schemaArray"},"anyOf":{"$ref":"#/$defs/schemaArray"},"oneOf":{"$ref":"#/$defs/schemaArray"},"not":{"$dynamicRef":"#meta"}},"$defs":{"schemaArray":{"type":"array","minItems":1,"items":{"$dynamicRef":"#meta"}}}}')},11082:Fe=>{"use strict";Fe.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/content","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Content vocabulary meta-schema","type":["object","boolean"],"properties":{"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"contentSchema":{"$dynamicRef":"#meta"}}}')},93406:Fe=>{"use strict";Fe.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/core","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true},"$dynamicAnchor":"meta","title":"Core vocabulary meta-schema","type":["object","boolean"],"properties":{"$id":{"$ref":"#/$defs/uriReferenceString","$comment":"Non-empty fragments not allowed.","pattern":"^[^#]*#?$"},"$schema":{"$ref":"#/$defs/uriString"},"$ref":{"$ref":"#/$defs/uriReferenceString"},"$anchor":{"$ref":"#/$defs/anchorString"},"$dynamicRef":{"$ref":"#/$defs/uriReferenceString"},"$dynamicAnchor":{"$ref":"#/$defs/anchorString"},"$vocabulary":{"type":"object","propertyNames":{"$ref":"#/$defs/uriString"},"additionalProperties":{"type":"boolean"}},"$comment":{"type":"string"},"$defs":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"}}},"$defs":{"anchorString":{"type":"string","pattern":"^[A-Za-z_][-A-Za-z0-9._]*$"},"uriString":{"type":"string","format":"uri"},"uriReferenceString":{"type":"string","format":"uri-reference"}}}')},14516:Fe=>{"use strict";Fe.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/format-annotation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/format-annotation":true},"$dynamicAnchor":"meta","title":"Format vocabulary meta-schema for annotation results","type":["object","boolean"],"properties":{"format":{"type":"string"}}}')},3059:Fe=>{"use strict";Fe.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/meta-data","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/meta-data":true},"$dynamicAnchor":"meta","title":"Meta-data vocabulary meta-schema","type":["object","boolean"],"properties":{"title":{"type":"string"},"description":{"type":"string"},"default":true,"deprecated":{"type":"boolean","default":false},"readOnly":{"type":"boolean","default":false},"writeOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true}}}')},8307:Fe=>{"use strict";Fe.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/unevaluated","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/unevaluated":true},"$dynamicAnchor":"meta","title":"Unevaluated applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"unevaluatedItems":{"$dynamicRef":"#meta"},"unevaluatedProperties":{"$dynamicRef":"#meta"}}}')},18738:Fe=>{"use strict";Fe.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/validation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/validation":true},"$dynamicAnchor":"meta","title":"Validation vocabulary meta-schema","type":["object","boolean"],"properties":{"type":{"anyOf":[{"$ref":"#/$defs/simpleTypes"},{"type":"array","items":{"$ref":"#/$defs/simpleTypes"},"minItems":1,"uniqueItems":true}]},"const":true,"enum":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/$defs/nonNegativeInteger"},"minLength":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"maxItems":{"$ref":"#/$defs/nonNegativeInteger"},"minItems":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxContains":{"$ref":"#/$defs/nonNegativeInteger"},"minContains":{"$ref":"#/$defs/nonNegativeInteger","default":1},"maxProperties":{"$ref":"#/$defs/nonNegativeInteger"},"minProperties":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"required":{"$ref":"#/$defs/stringArray"},"dependentRequired":{"type":"object","additionalProperties":{"$ref":"#/$defs/stringArray"}}},"$defs":{"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"$ref":"#/$defs/nonNegativeInteger","default":0},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}}}')},6438:Fe=>{"use strict";Fe.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/schema","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true,"https://json-schema.org/draft/2020-12/vocab/applicator":true,"https://json-schema.org/draft/2020-12/vocab/unevaluated":true,"https://json-schema.org/draft/2020-12/vocab/validation":true,"https://json-schema.org/draft/2020-12/vocab/meta-data":true,"https://json-schema.org/draft/2020-12/vocab/format-annotation":true,"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Core and Validation specifications meta-schema","allOf":[{"$ref":"meta/core"},{"$ref":"meta/applicator"},{"$ref":"meta/unevaluated"},{"$ref":"meta/validation"},{"$ref":"meta/meta-data"},{"$ref":"meta/format-annotation"},{"$ref":"meta/content"}],"type":["object","boolean"],"$comment":"This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.","properties":{"definitions":{"$comment":"\\"definitions\\" has been replaced by \\"$defs\\".","type":"object","additionalProperties":{"$dynamicRef":"#meta"},"deprecated":true,"default":{}},"dependencies":{"$comment":"\\"dependencies\\" has been split and replaced by \\"dependentSchemas\\" and \\"dependentRequired\\" in order to serve their differing semantics.","type":"object","additionalProperties":{"anyOf":[{"$dynamicRef":"#meta"},{"$ref":"meta/validation#/$defs/stringArray"}]},"deprecated":true,"default":{}},"$recursiveAnchor":{"$comment":"\\"$recursiveAnchor\\" has been replaced by \\"$dynamicAnchor\\".","$ref":"meta/core#/$defs/anchorString","deprecated":true},"$recursiveRef":{"$comment":"\\"$recursiveRef\\" has been replaced by \\"$dynamicRef\\".","$ref":"meta/core#/$defs/uriReferenceString","deprecated":true}}}')},3219:Fe=>{"use strict";Fe.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},62951:Fe=>{"use strict";Fe.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},64589:Fe=>{"use strict";Fe.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},23241:Fe=>{"use strict";Fe.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},1636:Fe=>{"use strict";Fe.exports={rE:"6.5.5"}},15579:Fe=>{"use strict";Fe.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},Fe=>{var z=p=>Fe(Fe.s=p);z(94073),z(5312)}]);