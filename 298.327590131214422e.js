(self.webpackChunkapp=self.webpackChunkapp||[]).push([[298],{10298:(Le,Rt,D)=>{"use strict";D.r(Rt),D.d(Rt,{ProfileEditComponent:()=>ye});var zt=D(10467),a=D(93953),k=D(89417),dt=D(88834),ut=D(25596),_t=D(99213),Vt=D(99631),Ut=D(5951),ne=D(82798),Ce=D(67402),oe=D(22312),Yt=D(18498),De=D(39434),St=D(55619),j=D(60177),X=D(66969),Q=D(18617),M=D(36860),H=D(76939),Ct=D(67336),Z=D(21413),Ht=D(59030),at=D(7673),J=D(28203),nt=D(99172);function q(d,_){}class tt{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let ft=(()=>{class d extends H.lb{constructor(n,s,c,y,C,w,z,Ot){super(),this._elementRef=n,this._focusTrapFactory=s,this._config=y,this._interactivityChecker=C,this._ngZone=w,this._overlayRef=z,this._focusMonitor=Ot,this._platform=(0,a.WQX)(M.OD),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,a.WQX)(a.gRc),this._injector=(0,a.WQX)(a.zZn),this._isDestroyed=!1,this.attachDomPortal=vt=>{this._portalOutlet.hasAttached();const Se=this._portalOutlet.attachDomPortal(vt);return this._contentAttached(),Se},this._document=c,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(n){this._ariaLabelledByQueue.push(n),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(n){const s=this._ariaLabelledByQueue.indexOf(n);s>-1&&(this._ariaLabelledByQueue.splice(s,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(n){this._portalOutlet.hasAttached();const s=this._portalOutlet.attachComponentPortal(n);return this._contentAttached(),s}attachTemplatePortal(n){this._portalOutlet.hasAttached();const s=this._portalOutlet.attachTemplatePortal(n);return this._contentAttached(),s}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(n,s){this._interactivityChecker.isFocusable(n)||(n.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const c=()=>{n.removeEventListener("blur",c),n.removeEventListener("mousedown",c),n.removeAttribute("tabindex")};n.addEventListener("blur",c),n.addEventListener("mousedown",c)})),n.focus(s)}_focusByCssSelector(n,s){let c=this._elementRef.nativeElement.querySelector(n);c&&this._forceFocus(c,s)}_trapFocus(){this._isDestroyed||(0,a.mal)(()=>{const n=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||n.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const n=this._config.restoreFocus;let s=null;if("string"==typeof n?s=this._document.querySelector(n):"boolean"==typeof n?s=n?this._elementFocusedBeforeDialogWasOpened:null:n&&(s=n),this._config.restoreFocus&&s&&"function"==typeof s.focus){const c=(0,M.vc)(),y=this._elementRef.nativeElement;(!c||c===this._document.body||c===y||y.contains(c))&&(this._focusMonitor?(this._focusMonitor.focusVia(s,this._closeInteractionType),this._closeInteractionType=null):s.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const n=this._elementRef.nativeElement,s=(0,M.vc)();return n===s||n.contains(s)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,M.vc)()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#t=this.\u0275fac=function(s){return new(s||d)(a.rXU(a.aKT),a.rXU(Q.GX),a.rXU(j.qQ,8),a.rXU(tt),a.rXU(Q.Z7),a.rXU(a.SKi),a.rXU(X.yY),a.rXU(Q.FN))};static#e=this.\u0275cmp=a.VBU({type:d,selectors:[["cdk-dialog-container"]],viewQuery:function(s,c){if(1&s&&a.GBs(H.I3,7),2&s){let y;a.mGM(y=a.lsd())&&(c._portalOutlet=y.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(s,c){2&s&&a.BMQ("id",c._config.id||null)("role",c._config.role)("aria-modal",c._config.ariaModal)("aria-labelledby",c._config.ariaLabel?null:c._ariaLabelledByQueue[0])("aria-label",c._config.ariaLabel)("aria-describedby",c._config.ariaDescribedBy||null)},standalone:!0,features:[a.Vt3,a.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(s,c){1&s&&a.DNE(0,q,0,0,"ng-template",0)},dependencies:[H.I3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return d})();class ot{constructor(_,n){this.overlayRef=_,this.config=n,this.closed=new Z.B,this.disableClose=n.disableClose,this.backdropClick=_.backdropClick(),this.keydownEvents=_.keydownEvents(),this.outsidePointerEvents=_.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(s=>{s.keyCode===Ct._f&&!this.disableClose&&!(0,Ct.rp)(s)&&(s.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=_.detachments().subscribe(()=>{!1!==n.closeOnOverlayDetachments&&this.close()})}close(_,n){if(this.containerInstance){const s=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),s.next(_),s.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(_="",n=""){return this.overlayRef.updateSize({width:_,height:n}),this}addPanelClass(_){return this.overlayRef.addPanelClass(_),this}removePanelClass(_){return this.overlayRef.removePanelClass(_),this}}const Nt=new a.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const d=(0,a.WQX)(X.hJ);return()=>d.scrollStrategies.block()}}),re=new a.nKC("DialogData"),U=new a.nKC("DefaultDialogConfig");let Lt=0,Pt=(()=>{class d{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(n,s,c,y,C,w){this._overlay=n,this._injector=s,this._defaultOptions=c,this._parentDialog=y,this._overlayContainer=C,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Z.B,this._afterOpenedAtThisLevel=new Z.B,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Ht.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,nt.Z)(void 0))),this._scrollStrategy=w}open(n,s){(s={...this._defaultOptions||new tt,...s}).id=s.id||"cdk-dialog-"+Lt++,s.id&&this.getDialogById(s.id);const y=this._getOverlayConfig(s),C=this._overlay.create(y),w=new ot(C,s),z=this._attachContainer(C,w,s);return w.containerInstance=z,this._attachDialogContent(n,w,z,s),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(w),w.closed.subscribe(()=>this._removeOpenDialog(w,!0)),this.afterOpened.next(w),w}closeAll(){rt(this.openDialogs,n=>n.close())}getDialogById(n){return this.openDialogs.find(s=>s.id===n)}ngOnDestroy(){rt(this._openDialogsAtThisLevel,n=>{!1===n.config.closeOnDestroy&&this._removeOpenDialog(n,!1)}),rt(this._openDialogsAtThisLevel,n=>n.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(n){const s=new X.rR({positionStrategy:n.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,width:n.width,height:n.height,disposeOnNavigation:n.closeOnNavigation});return n.backdropClass&&(s.backdropClass=n.backdropClass),s}_attachContainer(n,s,c){const y=c.injector||c.viewContainerRef?.injector,C=[{provide:tt,useValue:c},{provide:ot,useValue:s},{provide:X.yY,useValue:n}];let w;c.container?"function"==typeof c.container?w=c.container:(w=c.container.type,C.push(...c.container.providers(c))):w=ft;const z=new H.A8(w,c.viewContainerRef,a.zZn.create({parent:y||this._injector,providers:C}),c.componentFactoryResolver);return n.attach(z).instance}_attachDialogContent(n,s,c,y){if(n instanceof a.C4Q){const C=this._createInjector(y,s,c,void 0);let w={$implicit:y.data,dialogRef:s};y.templateContext&&(w={...w,..."function"==typeof y.templateContext?y.templateContext():y.templateContext}),c.attachTemplatePortal(new H.VA(n,null,w,C))}else{const C=this._createInjector(y,s,c,this._injector),w=c.attachComponentPortal(new H.A8(n,y.viewContainerRef,C,y.componentFactoryResolver));s.componentRef=w,s.componentInstance=w.instance}}_createInjector(n,s,c,y){const C=n.injector||n.viewContainerRef?.injector,w=[{provide:re,useValue:n.data},{provide:ot,useValue:s}];return n.providers&&("function"==typeof n.providers?w.push(...n.providers(s,n,c)):w.push(...n.providers)),n.direction&&(!C||!C.get(J.dS,null,{optional:!0}))&&w.push({provide:J.dS,useValue:{value:n.direction,change:(0,at.of)()}}),a.zZn.create({parent:C||y,providers:w})}_removeOpenDialog(n,s){const c=this.openDialogs.indexOf(n);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((y,C)=>{y?C.setAttribute("aria-hidden",y):C.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),s&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const n=this._overlayContainer.getContainerElement();if(n.parentElement){const s=n.parentElement.children;for(let c=s.length-1;c>-1;c--){const y=s[c];y!==n&&"SCRIPT"!==y.nodeName&&"STYLE"!==y.nodeName&&!y.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(y,y.getAttribute("aria-hidden")),y.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#t=this.\u0275fac=function(s){return new(s||d)(a.KVO(X.hJ),a.KVO(a.zZn),a.KVO(U,8),a.KVO(d,12),a.KVO(X.Sf),a.KVO(Nt))};static#e=this.\u0275prov=a.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();function rt(d,_){let n=d.length;for(;n--;)_(d[n])}let Ft=(()=>{class d{static#t=this.\u0275fac=function(s){return new(s||d)};static#e=this.\u0275mod=a.$C({type:d});static#i=this.\u0275inj=a.G2t({providers:[Pt],imports:[X.z_,H.jc,Q.Pd,H.jc]})}return d})();var Bt=D(14085),le=D(57786),Dt=D(5964),wt=D(96697),jt=(D(67333),D(86600));function he(d,_){}D(49969);class Gt{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const $t="mdc-dialog--open",ce="mdc-dialog--opening",Kt="mdc-dialog--closing";let Qt=(()=>{class d extends ft{constructor(n,s,c,y,C,w,z,Ot,vt){super(n,s,c,y,C,w,z,vt),this._animationMode=Ot,this._animationStateChanged=new a.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Jt(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Jt(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Zt,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ce,$t)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add($t),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove($t),this._animationsEnabled?(this._hostElement.style.setProperty(Zt,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Kt)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(n){this._actionSectionCount+=n,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(ce,Kt)}_waitForAnimationToComplete(n,s){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(s,n)}_requestAnimationFrame(n){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(n):n()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(n){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(n){const s=super.attachComponentPortal(n);return s.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),s}static#t=this.\u0275fac=function(s){return new(s||d)(a.rXU(a.aKT),a.rXU(Q.GX),a.rXU(j.qQ,8),a.rXU(Gt),a.rXU(Q.Z7),a.rXU(a.SKi),a.rXU(X.yY),a.rXU(a.bc$,8),a.rXU(Q.FN))};static#e=this.\u0275cmp=a.VBU({type:d,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(s,c){2&s&&(a.Mr5("id",c._config.id),a.BMQ("aria-modal",c._config.ariaModal)("role",c._config.role)("aria-labelledby",c._config.ariaLabel?null:c._ariaLabelledByQueue[0])("aria-label",c._config.ariaLabel)("aria-describedby",c._config.ariaDescribedBy||null),a.AVh("_mat-animation-noopable",!c._animationsEnabled)("mat-mdc-dialog-container-with-actions",c._actionSectionCount>0))},standalone:!0,features:[a.Vt3,a.aNF],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(s,c){1&s&&(a.j41(0,"div",0)(1,"div",1),a.DNE(2,he,0,0,"ng-template",2),a.k0s()())},dependencies:[H.I3],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, 4px);background-color:var(--mdc-dialog-container-color, white)}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87));font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6));font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return d})();const Zt="--mat-dialog-transition-duration";function Jt(d){return null==d?null:"number"==typeof d?d:d.endsWith("ms")?(0,Bt.OE)(d.substring(0,d.length-2)):d.endsWith("s")?1e3*(0,Bt.OE)(d.substring(0,d.length-1)):"0"===d?0:null}var pt=function(d){return d[d.OPEN=0]="OPEN",d[d.CLOSING=1]="CLOSING",d[d.CLOSED=2]="CLOSED",d}(pt||{});class xt{constructor(_,n,s){this._ref=_,this._containerInstance=s,this._afterOpened=new Z.B,this._beforeClosed=new Z.B,this._state=pt.OPEN,this.disableClose=n.disableClose,this.id=_.id,_.addPanelClass("mat-mdc-dialog-panel"),s._animationStateChanged.pipe((0,Dt.p)(c=>"opened"===c.state),(0,wt.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),s._animationStateChanged.pipe((0,Dt.p)(c=>"closed"===c.state),(0,wt.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),_.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,le.h)(this.backdropClick(),this.keydownEvents().pipe((0,Dt.p)(c=>c.keyCode===Ct._f&&!this.disableClose&&!(0,Ct.rp)(c)))).subscribe(c=>{this.disableClose||(c.preventDefault(),function fe(d,_,n){return d._closeInteractionType=_,d.close(n)}(this,"keydown"===c.type?"keyboard":"mouse"))})}close(_){this._result=_,this._containerInstance._animationStateChanged.pipe((0,Dt.p)(n=>"closing"===n.state),(0,wt.s)(1)).subscribe(n=>{this._beforeClosed.next(_),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=pt.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(_){let n=this._ref.config.positionStrategy;return _&&(_.left||_.right)?_.left?n.left(_.left):n.right(_.right):n.centerHorizontally(),_&&(_.top||_.bottom)?_.top?n.top(_.top):n.bottom(_.bottom):n.centerVertically(),this._ref.updatePosition(),this}updateSize(_="",n=""){return this._ref.updateSize(_,n),this}addPanelClass(_){return this._ref.addPanelClass(_),this}removePanelClass(_){return this._ref.removePanelClass(_),this}getState(){return this._state}_finishDialogClose(){this._state=pt.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const pe=new a.nKC("MatMdcDialogData"),we=new a.nKC("mat-mdc-dialog-default-options"),me=new a.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const d=(0,a.WQX)(X.hJ);return()=>d.scrollStrategies.block()}});let ve=0,Xt=(()=>{class d{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(n,s,c,y,C,w,z,Ot){this._overlay=n,this._defaultOptions=y,this._scrollStrategy=C,this._parentDialog=w,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Z.B,this._afterOpenedAtThisLevel=new Z.B,this.dialogConfigClass=Gt,this.afterAllClosed=(0,Ht.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,nt.Z)(void 0))),this._dialog=s.get(Pt),this._dialogRefConstructor=xt,this._dialogContainerType=Qt,this._dialogDataToken=pe}open(n,s){let c;(s={...this._defaultOptions||new Gt,...s}).id=s.id||"mat-mdc-dialog-"+ve++,s.scrollStrategy=s.scrollStrategy||this._scrollStrategy();const y=this._dialog.open(n,{...s,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:s},{provide:tt,useValue:s}]},templateContext:()=>({dialogRef:c}),providers:(C,w,z)=>(c=new this._dialogRefConstructor(C,s,z),c.updatePosition(s?.position),[{provide:this._dialogContainerType,useValue:z},{provide:this._dialogDataToken,useValue:w.data},{provide:this._dialogRefConstructor,useValue:c}])});return c.componentRef=y.componentRef,c.componentInstance=y.componentInstance,this.openDialogs.push(c),this.afterOpened.next(c),c.afterClosed().subscribe(()=>{const C=this.openDialogs.indexOf(c);C>-1&&(this.openDialogs.splice(C,1),this.openDialogs.length||this._getAfterAllClosed().next())}),c}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(n){return this.openDialogs.find(s=>s.id===n)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(n){let s=n.length;for(;s--;)n[s].close()}static#t=this.\u0275fac=function(s){return new(s||d)(a.KVO(X.hJ),a.KVO(a.zZn),a.KVO(j.aZ,8),a.KVO(we,8),a.KVO(me),a.KVO(d,12),a.KVO(X.Sf),a.KVO(a.bc$,8))};static#e=this.\u0275prov=a.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),Oe=(()=>{class d{static#t=this.\u0275fac=function(s){return new(s||d)};static#e=this.\u0275mod=a.$C({type:d});static#i=this.\u0275inj=a.G2t({providers:[Xt],imports:[Ft,X.z_,H.jc,jt.yE,jt.yE]})}return d})();var R=D(1054),Te=D.n(R),mt=D(345);let Me=(()=>{class d{constructor(n,s,c){this.dialogRef=n,this.image=s,this.sanitizer=c}ngOnInit(){this.sanitizedUrl=this.sanitizer.bypassSecurityTrustUrl(this.image)}ngAfterViewInit(){this.initCropper()}initCropper(){const n=document.getElementById("image");this.cropper=new(Te())(n,{aspectRatio:1,viewMode:1,guides:!1})}getRoundedCanvas(n){var s=document.createElement("canvas"),c=s.getContext("2d"),y=n.width,C=n.height;return s.width=y,s.height=C,c.imageSmoothingEnabled=!0,c.drawImage(n,0,0,y,C),c.globalCompositeOperation="destination-in",c.beginPath(),c.arc(y/2,C/2,Math.min(y,C)/2,0,2*Math.PI,!0),c.fill(),s}crop(){const n=this.cropper.getCroppedCanvas(),s=this.getRoundedCanvas(n);if(!document.createElement("img"))return this.dialogRef.close(null);this.dialogRef.close(s.toDataURL())}reset(){this.cropper.clear(),this.cropper.crop()}static#t=this.\u0275fac=function(s){return new(s||d)(a.rXU(xt),a.rXU(pe),a.rXU(mt.up))};static#e=this.\u0275cmp=a.VBU({type:d,selectors:[["app-image-cropper"]],standalone:!0,features:[a.aNF],decls:7,vars:1,consts:[[1,"cropper-container"],["id","image","height","600",3,"src"],[1,"crop-actions"],["mat-flat-button","",2,"margin-right","1rem",3,"click"],["color","primary","mat-flat-button","",3,"click"]],template:function(s,c){1&s&&(a.j41(0,"div",0),a.nrm(1,"img",1),a.j41(2,"div",2)(3,"button",3),a.bIt("click",function(){return c.reset()}),a.EFF(4,"Reset"),a.k0s(),a.j41(5,"button",4),a.bIt("click",function(){return c.crop()}),a.EFF(6,"Ok"),a.k0s()()()),2&s&&(a.R7$(),a.Y8G("src",c.sanitizedUrl,a.B4B))},dependencies:[_t.m_,dt.Hl,dt.$z],styles:[".cropper-view-box,   .cropper-face{border-radius:50%}  .cropper-view-box{outline:0;box-shadow:0 0 0 1px #39f}.crop-actions[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-end;margin-top:1rem}"]})}return d})();const et=d=>({"box-shadow-avatar":d}),ke=d=>({backgroundImage:d});function L(d,_){if(1&d&&a.nrm(0,"div",7),2&d){const n=a.XpG();a.Y8G("ngClass",a.eq3(2,et,!!n.file))("ngStyle",a.eq3(4,ke,"url("+n.file+")"))}}function $(d,_){1&d&&a.nrm(0,"div",8)}let gt=(()=>{class d{constructor(n){this.dialog=n,this.file="",this.onChange=s=>{},this.onTouched=()=>{},this.disabled=!1}writeValue(n){this.file=n}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.disabled=n}onFileChange(n){const s=n.target.files;if(s.length>0){const c=URL.createObjectURL(s[0]);this.resetInput(),this.openAvatarEditor(c).subscribe(y=>{y&&(this.file=y,this.onChange(this.file))})}}openAvatarEditor(n){return this.dialog.open(Me,{maxWidth:"80vw",maxHeight:"80vh",data:n}).afterClosed()}resetInput(){const n=document.getElementById("avatar-input-file");n&&(n.value="")}static#t=this.\u0275fac=function(s){return new(s||d)(a.rXU(Xt))};static#e=this.\u0275cmp=a.VBU({type:d,selectors:[["app-avatar"]],standalone:!0,features:[a.Jv_([{provide:k.kq,multi:!0,useExisting:d}]),a.aNF],decls:8,vars:2,consts:[["placeholder",""],[1,"avatar-container"],["class","image-container",3,"ngClass","ngStyle",4,"ngIf","ngIfElse"],["for","avatar-input-file"],[1,"icon-wrapper"],["type","file","id","avatar-input-file","accept","image/*",3,"change"],["fontIcon","edit",1,"icon"],[1,"image-container",3,"ngClass","ngStyle"],[1,"image-container","avatar-placeholder"]],template:function(s,c){if(1&s){const y=a.RV6();a.j41(0,"div",1),a.DNE(1,L,1,6,"div",2)(2,$,1,0,"ng-template",null,0,a.C5r),a.j41(4,"label",3)(5,"div",4)(6,"input",5),a.bIt("change",function(w){return a.eBV(y),a.Njj(c.onFileChange(w))}),a.k0s(),a.nrm(7,"mat-icon",6),a.k0s()()()}if(2&s){const y=a.sdS(3);a.R7$(),a.Y8G("ngIf",c.file)("ngIfElse",y)}},dependencies:[j.MD,j.YU,j.bT,j.B3,_t.m_,_t.An,Oe,Vt.fS,dt.Hl,ne.Ve,Ut.Wk,ut.Hu,k.X1],styles:[".avatar-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content}.box-shadow-avatar[_ngcontent-%COMP%]{box-shadow:0 10px 20px 20px #6c93001a}.image-container[_ngcontent-%COMP%]{height:200px;width:200px;z-index:1;border-radius:50%;background-color:#fff;background-position:center;background-size:cover}.image-container.avatar-placeholder[_ngcontent-%COMP%]{background-image:url(avatar-placeholder.a3a9735ad9a5dced.png)}.icon-wrapper[_ngcontent-%COMP%]{position:absolute;height:40px;width:40px;padding:.35rem;background-color:var(--mat-fab-foreground-color);border-radius:50%;display:flex;align-items:center;justify-content:center;right:0;top:75%;z-index:2;cursor:pointer}.icon-wrapper[_ngcontent-%COMP%]:hover{transition:all .25s;background-color:var(--mdc-circular-progress-active-indicator-color)}.icon-wrapper[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:var(--mdc-filled-button-label-text-color)}.icon-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;justify-content:center}.icon-wrapper[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}"]})}return d})();var Et=D(53719);function ie(d,_){1&d&&(a.j41(0,"mat-error"),a.EFF(1,"Title is "),a.j41(2,"strong"),a.EFF(3,"required"),a.k0s()())}function ae(d,_){1&d&&(a.j41(0,"mat-error"),a.EFF(1,"Status is "),a.j41(2,"strong"),a.EFF(3,"required"),a.k0s()())}function At(d,_){1&d&&(a.j41(0,"mat-error"),a.EFF(1,"Bio is "),a.j41(2,"strong"),a.EFF(3,"required"),a.k0s()())}function Re(d,_){1&d&&(a.j41(0,"mat-error"),a.EFF(1,"Location is "),a.j41(2,"strong"),a.EFF(3,"required"),a.k0s()())}function be(d,_){if(1&d){const n=a.RV6();a.j41(0,"div",15)(1,"mat-form-field",6),a.nrm(2,"input",19),a.k0s(),a.j41(3,"button",16),a.bIt("click",function(){const c=a.eBV(n).$index,y=a.XpG();return a.Njj(y.removeLink(c))}),a.EFF(4,"Remove"),a.k0s(),a.j41(5,"button",20),a.bIt("click",function(){const c=a.eBV(n).$index,y=a.XpG();return a.Njj(y.removeLink(c))}),a.j41(6,"mat-icon"),a.EFF(7,"clear"),a.k0s()()()}if(2&d){const n=_.$index;a.R7$(2),a.Y8G("formControlName",n)}}let ye=(()=>{class d{get links(){return this.form.get("links")}constructor(){var n=this;this.fb=(0,a.WQX)(k.ok),this.identity=(0,a.WQX)(Ce.K),this.profileService=(0,a.WQX)(De.p),this.router=(0,a.WQX)(Yt.Ix),this.data=(0,a.vPA)({}),this.form=this.fb.group({name:null,title:[null,k.k0.required],status:[null,k.k0.required],bio:[null,k.k0.required],location:[null,k.k0.required],state:[null,k.k0.required],avatar:[""],postalCode:[null,k.k0.compose([k.k0.required,k.k0.minLength(5),k.k0.maxLength(5)])],shipping:["free",k.k0.required],links:this.fb.array([this.fb.control("")])}),this.navigation=(0,a.WQX)(St.o),(0,a.QZP)((0,zt.A)(function*(){if(n.identity.initialized()){const s=yield n.profileService.loadProfile(n.identity.did);n.data.set(s),n.updateForm(s.profile),n.form.patchValue({avatar:s.avatar})}}))}back(){this.navigation.back()}updateForm(n){console.log("Patching form with:",n),this.form.patchValue({name:n.name,title:n.title,bio:n.bio,status:n.status,location:n.location})}addLink(){this.links.push(this.fb.control(""))}upload(n,s){var c=this;return(0,zt.A)(function*(){if(console.log(s),s){console.log("UPDATING IMAGE!!!!");const{status:y,updatedRecord:C}=yield s.update({published:!0,data:n});return console.log("Update profile status:",y,C),C}{const{record:y}=yield c.identity.web5.dwn.records.create({data:n,message:{protocol:oe.ME.uri,protocolPath:"avatar",dataFormat:"image/png"}});return y}})()}ngOnInit(){}removeLink(n){this.links.removeAt(n)}onSubmit(){var n=this;return(0,zt.A)(function*(){const s={name:n.form.value.name,title:n.form.value.title,bio:n.form.value.bio,status:n.form.value.status,location:n.form.value.location};if(n.data().record){const{status:c,record:y}=yield n.data().record.update({published:!0,data:s});console.log("Update profile status:",c,y)}else{const{status:c,record:y}=yield n.identity.web5.dwn.records.create({data:s,message:{protocol:oe.ME.uri,protocolPath:"profile",dataFormat:"application/json"}});console.log("Save profile status:",c,y)}yield n.upload(n.form.controls.avatar.value,n.data().avatarRecord),n.router.navigate(["/profile",n.identity.did])})()}static#t=this.\u0275fac=function(s){return new(s||d)};static#e=this.\u0275cmp=a.VBU({type:d,selectors:[["app-edit"]],standalone:!0,features:[a.aNF],decls:51,vars:6,consts:[["name",""],["title",""],["bio",""],["novalidate","",3,"ngSubmit","formGroup"],["formControlName","avatar"],[1,"shipping-card"],[1,"full-width"],["matInput","","placeholder","Name","maxlength","200","formControlName","name"],["matInput","","placeholder","Title","formControlName","title"],["matInput","","placeholder","Status","formControlName","status"],["matSuffix",""],["maxlength","300","matInput","","placeholder","Bio","formControlName","bio"],["align","end"],["matInput","","placeholder","Location","formControlName","location"],["formArrayName","links"],[1,"link-input"],["mat-stroked-button","","type","button",3,"click"],["mat-button","","type","button",3,"click"],["mat-flat-button","","color","primary","type","submit"],["matInput","","type","text","placeholder","Enter link (URL)",3,"formControlName"],["mat-icon-button","","type","button",3,"click"]],template:function(s,c){if(1&s){const y=a.RV6();a.j41(0,"h1"),a.EFF(1,"Edit your profile"),a.k0s(),a.j41(2,"form",3),a.bIt("ngSubmit",function(){return a.eBV(y),a.Njj(c.onSubmit())}),a.nrm(3,"app-avatar",4),a.j41(4,"mat-card",5)(5,"mat-card-content")(6,"mat-form-field",6)(7,"mat-label"),a.EFF(8,"Name"),a.k0s(),a.nrm(9,"input",7,0),a.k0s(),a.j41(11,"mat-form-field",6)(12,"mat-label"),a.EFF(13,"Title"),a.k0s(),a.nrm(14,"input",8,1),a.DNE(16,ie,4,0,"mat-error"),a.k0s(),a.j41(17,"mat-form-field",6)(18,"mat-label"),a.EFF(19,"Status"),a.k0s(),a.nrm(20,"input",9),a.DNE(21,ae,4,0,"mat-error"),a.j41(22,"mat-icon",10),a.EFF(23,"place"),a.k0s()(),a.j41(24,"mat-form-field",6)(25,"mat-label"),a.EFF(26,"Bio"),a.k0s(),a.nrm(27,"textarea",11,2),a.DNE(29,At,4,0,"mat-error"),a.j41(30,"mat-hint",12),a.EFF(31),a.k0s()(),a.j41(32,"mat-form-field",6)(33,"mat-label"),a.EFF(34,"Location"),a.k0s(),a.nrm(35,"input",13),a.DNE(36,Re,4,0,"mat-error"),a.j41(37,"mat-icon",10),a.EFF(38,"place"),a.k0s()(),a.j41(39,"div",14),a.Z7z(40,be,8,1,"div",15,a.fX1),a.k0s(),a.j41(42,"button",16),a.bIt("click",function(){return a.eBV(y),a.Njj(c.addLink())}),a.j41(43,"mat-icon"),a.EFF(44,"add_link"),a.k0s(),a.EFF(45," Add Link"),a.k0s()(),a.j41(46,"mat-card-actions",12)(47,"button",17),a.bIt("click",function(){return a.eBV(y),a.Njj(c.back())}),a.EFF(48,"Cancel"),a.k0s(),a.j41(49,"button",18),a.EFF(50,"Save"),a.k0s()()()()}if(2&s){const y=a.sdS(28);a.R7$(2),a.Y8G("formGroup",c.form),a.R7$(14),a.vxM(c.form.controls.title.hasError("required")?16:-1),a.R7$(5),a.vxM(c.form.controls.status.hasError("required")?21:-1),a.R7$(8),a.vxM(c.form.controls.bio.hasError("required")?29:-1),a.R7$(2),a.SpI("",y.value.length," / 300"),a.R7$(5),a.vxM(c.form.controls.location.hasError("required")?36:-1),a.R7$(4),a.Dyx(c.links.controls)}},dependencies:[gt,Vt.fS,Vt.fg,Et.rl,Et.nJ,Et.MV,Et.TL,Et.yw,dt.Hl,dt.$z,dt.iY,ne.Ve,_t.m_,_t.An,Ut.Wk,ut.Hu,ut.RN,ut.YY,ut.m2,k.X1,k.qT,k.me,k.BC,k.cb,k.tU,k.j4,k.JD,k.v8],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.shipping-card[_ngcontent-%COMP%]{min-width:120px;margin:20px auto}.mat-radio-button[_ngcontent-%COMP%]{display:block;margin:5px 0}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col[_ngcontent-%COMP%]{flex:1;margin-right:20px}.col[_ngcontent-%COMP%]:last-child{margin-right:0}.link-input[_ngcontent-%COMP%]{display:flex;align-items:baseline}.link-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.4em}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:1em}form[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;min-width:500px;width:100%}form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%}form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%;margin-right:1rem}form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-of-type{margin-right:0rem}form[_ngcontent-%COMP%]   .margin-top[_ngcontent-%COMP%]{margin-top:3rem}"]})}return d})()},1054:function(Le){Le.exports=function(){"use strict";function Rt(o,t){var i=Object.keys(o);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(o);t&&(e=e.filter(function(h){return Object.getOwnPropertyDescriptor(o,h).enumerable})),i.push.apply(i,e)}return i}function D(o){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(i),!0).forEach(function(e){Vt(o,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):Rt(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function a(o){var t=function zt(o,t){if("object"!=typeof o||!o)return o;var i=o[Symbol.toPrimitive];if(void 0!==i){var e=i.call(o,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(o)}(o,"string");return"symbol"==typeof t?t:t+""}function k(o){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(o)}function ut(o,t){for(var i=0;i<t.length;i++){var e=t[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,a(e.key),e)}}function Vt(o,t,i){return(t=a(t))in o?Object.defineProperty(o,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[t]=i,o}function Ut(o){return function ne(o){if(Array.isArray(o))return Yt(o)}(o)||function Ce(o){if(typeof Symbol<"u"&&null!=o[Symbol.iterator]||null!=o["@@iterator"])return Array.from(o)}(o)||function oe(o,t){if(o){if("string"==typeof o)return Yt(o,t);var i=Object.prototype.toString.call(o).slice(8,-1);if("Object"===i&&o.constructor&&(i=o.constructor.name),"Map"===i||"Set"===i)return Array.from(o);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Yt(o,t)}}(o)||function De(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(o,t){(null==t||t>o.length)&&(t=o.length);for(var i=0,e=new Array(t);i<t;i++)e[i]=o[i];return e}var St=typeof window<"u"&&typeof window.document<"u",j=St?window:{},X=!(!St||!j.document.documentElement)&&"ontouchstart"in j.document.documentElement,Q=!!St&&"PointerEvent"in j,M="cropper",H="all",Z="move",J="w",q="n",tt="ne",It="nw",ft="se",ot="sw",Nt="".concat(M,"-crop"),re="".concat(M,"-disabled"),U="".concat(M,"-hidden"),se="".concat(M,"-hide"),Pe="".concat(M,"-invisible"),Lt="".concat(M,"-modal"),Pt="".concat(M,"-move"),rt="".concat(M,"Action"),Ft="".concat(M,"Preview"),Bt="crop",wt="crop",Wt="cropend",jt="cropmove",I="cropstart",he="dblclick",Kt=Q?"pointerdown":X?"touchstart":"mousedown",de=Q?"pointermove":X?"touchmove":"mousemove",ue=Q?"pointerup pointercancel":X?"touchend touchcancel":"mouseup",pt="zoom",xt="image/jpeg",fe=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,pe=/^data:/,we=/^data:image\/jpeg;base64,/,me=/^img|canvas$/i,ve={viewMode:0,dragMode:Bt,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Ee=Number.isNaN||j.isNaN;function x(o){return"number"==typeof o&&!Ee(o)}var qt=function(t){return t>0&&t<1/0};function te(o){return typeof o>"u"}function st(o){return"object"===k(o)&&null!==o}var Ae=Object.prototype.hasOwnProperty;function lt(o){if(!st(o))return!1;try{var t=o.constructor,i=t.prototype;return t&&i&&Ae.call(i,"isPrototypeOf")}catch{return!1}}function Y(o){return"function"==typeof o}var Oe=Array.prototype.slice;function ee(o){return Array.from?Array.from(o):Oe.call(o)}function N(o,t){return o&&Y(t)&&(Array.isArray(o)||x(o.length)?ee(o).forEach(function(i,e){t.call(o,i,e,o)}):st(o)&&Object.keys(o).forEach(function(i){t.call(o,o[i],i,o)})),o}var R=Object.assign||function(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),h=1;h<i;h++)e[h-1]=arguments[h];return st(t)&&e.length>0&&e.forEach(function(r){st(r)&&Object.keys(r).forEach(function(l){t[l]=r[l]})}),t},Te=/\.\d*(?:0|9){12}\d*$/;function mt(o){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return Te.test(o)?Math.round(o*t)/t:o}var Me=/^width|height|left|top|marginLeft|marginTop$/;function et(o,t){var i=o.style;N(t,function(e,h){Me.test(h)&&x(e)&&(e="".concat(e,"px")),i[h]=e})}function L(o,t){if(t){if(x(o.length))return void N(o,function(e){L(e,t)});if(o.classList)return void o.classList.add(t);var i=o.className.trim();i?i.indexOf(t)<0&&(o.className="".concat(i," ").concat(t)):o.className=t}}function $(o,t){if(t){if(x(o.length))return void N(o,function(i){$(i,t)});if(o.classList)return void o.classList.remove(t);o.className.indexOf(t)>=0&&(o.className=o.className.replace(t,""))}}function gt(o,t,i){if(t){if(x(o.length))return void N(o,function(e){gt(e,t,i)});i?L(o,t):$(o,t)}}var Et=/([a-z\d])([A-Z])/g;function ie(o){return o.replace(Et,"$1-$2").toLowerCase()}function ae(o,t){return st(o[t])?o[t]:o.dataset?o.dataset[t]:o.getAttribute("data-".concat(ie(t)))}function At(o,t,i){st(i)?o[t]=i:o.dataset?o.dataset[t]=i:o.setAttribute("data-".concat(ie(t)),i)}var be=/\s\s*/,ye=function(){var o=!1;if(St){var t=!1,i=function(){},e=Object.defineProperty({},"once",{get:function(){return o=!0,t},set:function(r){t=r}});j.addEventListener("test",i,e),j.removeEventListener("test",i,e)}return o}();function d(o,t,i){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},h=i;t.trim().split(be).forEach(function(r){if(!ye){var l=o.listeners;l&&l[r]&&l[r][i]&&(h=l[r][i],delete l[r][i],0===Object.keys(l[r]).length&&delete l[r],0===Object.keys(l).length&&delete o.listeners)}o.removeEventListener(r,h,e)})}function _(o,t,i){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},h=i;t.trim().split(be).forEach(function(r){if(e.once&&!ye){var l=o.listeners,u=void 0===l?{}:l;h=function(){delete u[r][i],o.removeEventListener(r,h,e);for(var m=arguments.length,f=new Array(m),p=0;p<m;p++)f[p]=arguments[p];i.apply(o,f)},u[r]||(u[r]={}),u[r][i]&&o.removeEventListener(r,u[r][i],e),u[r][i]=h,o.listeners=u}o.addEventListener(r,h,e)})}function n(o,t,i){var e;return Y(Event)&&Y(CustomEvent)?e=new CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0}):(e=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,i),o.dispatchEvent(e)}function s(o){var t=o.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var c=j.location,y=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function C(o){var t=o.match(y);return null!==t&&(t[1]!==c.protocol||t[2]!==c.hostname||t[3]!==c.port)}function w(o){var t="timestamp=".concat((new Date).getTime());return o+(-1===o.indexOf("?")?"?":"&")+t}function z(o){var t=o.rotate,i=o.scaleX,e=o.scaleY,h=o.translateX,r=o.translateY,l=[];x(h)&&0!==h&&l.push("translateX(".concat(h,"px)")),x(r)&&0!==r&&l.push("translateY(".concat(r,"px)")),x(t)&&0!==t&&l.push("rotate(".concat(t,"deg)")),x(i)&&1!==i&&l.push("scaleX(".concat(i,")")),x(e)&&1!==e&&l.push("scaleY(".concat(e,")"));var u=l.length?l.join(" "):"none";return{WebkitTransform:u,msTransform:u,transform:u}}function vt(o,t){var i=o.pageX,e=o.pageY,h={endX:i,endY:e};return t?h:D({startX:i,startY:e},h)}function bt(o){var t=o.aspectRatio,i=o.height,e=o.width,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",r=qt(e),l=qt(i);if(r&&l){var u=i*t;"contain"===h&&u>e||"cover"===h&&u<e?i=e/t:e=i*t}else r?i=e/t:l&&(e=i*t);return{width:e,height:i}}var Fe=String.fromCharCode;var We=/^data:.*,/;function Ke(o){var i,t=new DataView(o);try{var e,h,r;if(255===t.getUint8(0)&&216===t.getUint8(1))for(var l=t.byteLength,u=2;u+1<l;){if(255===t.getUint8(u)&&225===t.getUint8(u+1)){h=u;break}u+=1}if(h){var m=h+10;if("Exif"===function He(o,t,i){var e="";i+=t;for(var h=t;h<i;h+=1)e+=Fe(o.getUint8(h));return e}(t,h+4,4)){var f=t.getUint16(m);if(((e=18761===f)||19789===f)&&42===t.getUint16(m+2,e)){var p=t.getUint32(m+4,e);p>=8&&(r=m+p)}}}if(r){var A,E,g=t.getUint16(r,e);for(E=0;E<g;E+=1)if(274===t.getUint16(A=r+12*E+2,e)){i=t.getUint16(A+=8,e),t.setUint16(A,1,e);break}}}catch{i=1}return i}var Ze={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,i=this.options,e=this.container,h=this.cropper,r=Number(i.minContainerWidth),l=Number(i.minContainerHeight);L(h,U),$(t,U);var u={width:Math.max(e.offsetWidth,r>=0?r:200),height:Math.max(e.offsetHeight,l>=0?l:100)};this.containerData=u,et(h,{width:u.width,height:u.height}),L(t,U),$(h,U)},initCanvas:function(){var t=this.containerData,i=this.imageData,e=this.options.viewMode,h=Math.abs(i.rotate)%180==90,r=h?i.naturalHeight:i.naturalWidth,l=h?i.naturalWidth:i.naturalHeight,u=r/l,v=t.width,m=t.height;t.height*u>t.width?3===e?v=t.height*u:m=t.width/u:3===e?m=t.width/u:v=t.height*u;var f={aspectRatio:u,naturalWidth:r,naturalHeight:l,width:v,height:m};this.canvasData=f,this.limited=1===e||2===e,this.limitCanvas(!0,!0),f.width=Math.min(Math.max(f.width,f.minWidth),f.maxWidth),f.height=Math.min(Math.max(f.height,f.minHeight),f.maxHeight),f.left=(t.width-f.width)/2,f.top=(t.height-f.height)/2,f.oldLeft=f.left,f.oldTop=f.top,this.initialCanvasData=R({},f)},limitCanvas:function(t,i){var e=this.options,h=this.containerData,r=this.canvasData,l=this.cropBoxData,u=e.viewMode,v=r.aspectRatio,m=this.cropped&&l;if(t){var f=Number(e.minCanvasWidth)||0,p=Number(e.minCanvasHeight)||0;u>1?(f=Math.max(f,h.width),p=Math.max(p,h.height),3===u&&(p*v>f?f=p*v:p=f/v)):u>0&&(f?f=Math.max(f,m?l.width:0):p?p=Math.max(p,m?l.height:0):m&&((p=l.height)*v>(f=l.width)?f=p*v:p=f/v));var g=bt({aspectRatio:v,width:f,height:p});p=g.height,r.minWidth=f=g.width,r.minHeight=p,r.maxWidth=1/0,r.maxHeight=1/0}if(i)if(u>(m?0:1)){var A=h.width-r.width,E=h.height-r.height;r.minLeft=Math.min(0,A),r.minTop=Math.min(0,E),r.maxLeft=Math.max(0,A),r.maxTop=Math.max(0,E),m&&this.limited&&(r.minLeft=Math.min(l.left,l.left+(l.width-r.width)),r.minTop=Math.min(l.top,l.top+(l.height-r.height)),r.maxLeft=l.left,r.maxTop=l.top,2===u&&(r.width>=h.width&&(r.minLeft=Math.min(0,A),r.maxLeft=Math.max(0,A)),r.height>=h.height&&(r.minTop=Math.min(0,E),r.maxTop=Math.max(0,E))))}else r.minLeft=-r.width,r.minTop=-r.height,r.maxLeft=h.width,r.maxTop=h.height},renderCanvas:function(t,i){var e=this.canvasData,h=this.imageData;if(i){var r=function Ue(o){var t=o.width,i=o.height,e=o.degree;if(90==(e=Math.abs(e)%180))return{width:i,height:t};var h=e%90*Math.PI/180,r=Math.sin(h),l=Math.cos(h),u=t*l+i*r,v=t*r+i*l;return e>90?{width:v,height:u}:{width:u,height:v}}({width:h.naturalWidth*Math.abs(h.scaleX||1),height:h.naturalHeight*Math.abs(h.scaleY||1),degree:h.rotate||0}),l=r.width,u=r.height,v=e.width*(l/e.naturalWidth),m=e.height*(u/e.naturalHeight);e.left-=(v-e.width)/2,e.top-=(m-e.height)/2,e.width=v,e.height=m,e.aspectRatio=l/u,e.naturalWidth=l,e.naturalHeight=u,this.limitCanvas(!0,!1)}(e.width>e.maxWidth||e.width<e.minWidth)&&(e.left=e.oldLeft),(e.height>e.maxHeight||e.height<e.minHeight)&&(e.top=e.oldTop),e.width=Math.min(Math.max(e.width,e.minWidth),e.maxWidth),e.height=Math.min(Math.max(e.height,e.minHeight),e.maxHeight),this.limitCanvas(!1,!0),e.left=Math.min(Math.max(e.left,e.minLeft),e.maxLeft),e.top=Math.min(Math.max(e.top,e.minTop),e.maxTop),e.oldLeft=e.left,e.oldTop=e.top,et(this.canvas,R({width:e.width,height:e.height},z({translateX:e.left,translateY:e.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var i=this.canvasData,e=this.imageData,h=e.naturalWidth*(i.width/i.naturalWidth),r=e.naturalHeight*(i.height/i.naturalHeight);R(e,{width:h,height:r,left:(i.width-h)/2,top:(i.height-r)/2}),et(this.image,R({width:e.width,height:e.height},z(R({translateX:e.left,translateY:e.top},e)))),t&&this.output()},initCropBox:function(){var t=this.options,i=this.canvasData,e=t.aspectRatio||t.initialAspectRatio,h=Number(t.autoCropArea)||.8,r={width:i.width,height:i.height};e&&(i.height*e>i.width?r.height=r.width/e:r.width=r.height*e),this.cropBoxData=r,this.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*h),r.height=Math.max(r.minHeight,r.height*h),r.left=i.left+(i.width-r.width)/2,r.top=i.top+(i.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCropBoxData=R({},r)},limitCropBox:function(t,i){var e=this.options,h=this.containerData,r=this.canvasData,l=this.cropBoxData,u=this.limited,v=e.aspectRatio;if(t){var m=Number(e.minCropBoxWidth)||0,f=Number(e.minCropBoxHeight)||0,p=u?Math.min(h.width,r.width,r.width+r.left,h.width-r.left):h.width,g=u?Math.min(h.height,r.height,r.height+r.top,h.height-r.top):h.height;m=Math.min(m,h.width),f=Math.min(f,h.height),v&&(m&&f?f*v>m?f=m/v:m=f*v:m?f=m/v:f&&(m=f*v),g*v>p?g=p/v:p=g*v),l.minWidth=Math.min(m,p),l.minHeight=Math.min(f,g),l.maxWidth=p,l.maxHeight=g}i&&(u?(l.minLeft=Math.max(0,r.left),l.minTop=Math.max(0,r.top),l.maxLeft=Math.min(h.width,r.left+r.width)-l.width,l.maxTop=Math.min(h.height,r.top+r.height)-l.height):(l.minLeft=0,l.minTop=0,l.maxLeft=h.width-l.width,l.maxTop=h.height-l.height))},renderCropBox:function(){var t=this.options,i=this.containerData,e=this.cropBoxData;(e.width>e.maxWidth||e.width<e.minWidth)&&(e.left=e.oldLeft),(e.height>e.maxHeight||e.height<e.minHeight)&&(e.top=e.oldTop),e.width=Math.min(Math.max(e.width,e.minWidth),e.maxWidth),e.height=Math.min(Math.max(e.height,e.minHeight),e.maxHeight),this.limitCropBox(!1,!0),e.left=Math.min(Math.max(e.left,e.minLeft),e.maxLeft),e.top=Math.min(Math.max(e.top,e.minTop),e.maxTop),e.oldLeft=e.left,e.oldTop=e.top,t.movable&&t.cropBoxMovable&&At(this.face,rt,e.width>=i.width&&e.height>=i.height?Z:H),et(this.cropBox,R({width:e.width,height:e.height},z({translateX:e.left,translateY:e.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),n(this.element,wt,this.getData())}},Je={initPreview:function(){var t=this.element,i=this.crossOrigin,e=this.options.preview,h=i?this.crossOriginUrl:this.url,r=t.alt||"The image to preview",l=document.createElement("img");if(i&&(l.crossOrigin=i),l.src=h,l.alt=r,this.viewBox.appendChild(l),this.viewBoxImage=l,e){var u=e;"string"==typeof e?u=t.ownerDocument.querySelectorAll(e):e.querySelector&&(u=[e]),this.previews=u,N(u,function(v){var m=document.createElement("img");At(v,Ft,{width:v.offsetWidth,height:v.offsetHeight,html:v.innerHTML}),i&&(m.crossOrigin=i),m.src=h,m.alt=r,m.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',v.innerHTML="",v.appendChild(m)})}},resetPreview:function(){N(this.previews,function(t){var i=ae(t,Ft);et(t,{width:i.width,height:i.height}),t.innerHTML=i.html,function Re(o,t){if(st(o[t]))try{delete o[t]}catch{o[t]=void 0}else if(o.dataset)try{delete o.dataset[t]}catch{o.dataset[t]=void 0}else o.removeAttribute("data-".concat(ie(t)))}(t,Ft)})},preview:function(){var t=this.imageData,i=this.canvasData,e=this.cropBoxData,h=e.width,r=e.height,l=t.width,u=t.height,v=e.left-i.left-t.left,m=e.top-i.top-t.top;!this.cropped||this.disabled||(et(this.viewBoxImage,R({width:l,height:u},z(R({translateX:-v,translateY:-m},t)))),N(this.previews,function(f){var p=ae(f,Ft),g=p.width,A=p.height,E=g,S=A,O=1;h&&(S=r*(O=g/h)),r&&S>A&&(E=h*(O=A/r),S=A),et(f,{width:E,height:S}),et(f.getElementsByTagName("img")[0],R({width:l*O,height:u*O},z(R({translateX:-v*O,translateY:-m*O},t))))}))}},qe={bind:function(){var t=this.element,i=this.options,e=this.cropper;Y(i.cropstart)&&_(t,I,i.cropstart),Y(i.cropmove)&&_(t,jt,i.cropmove),Y(i.cropend)&&_(t,Wt,i.cropend),Y(i.crop)&&_(t,wt,i.crop),Y(i.zoom)&&_(t,pt,i.zoom),_(e,Kt,this.onCropStart=this.cropStart.bind(this)),i.zoomable&&i.zoomOnWheel&&_(e,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),i.toggleDragModeOnDblclick&&_(e,he,this.onDblclick=this.dblclick.bind(this)),_(t.ownerDocument,de,this.onCropMove=this.cropMove.bind(this)),_(t.ownerDocument,ue,this.onCropEnd=this.cropEnd.bind(this)),i.responsive&&_(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,i=this.options,e=this.cropper;Y(i.cropstart)&&d(t,I,i.cropstart),Y(i.cropmove)&&d(t,jt,i.cropmove),Y(i.cropend)&&d(t,Wt,i.cropend),Y(i.crop)&&d(t,wt,i.crop),Y(i.zoom)&&d(t,pt,i.zoom),d(e,Kt,this.onCropStart),i.zoomable&&i.zoomOnWheel&&d(e,"wheel",this.onWheel,{passive:!1,capture:!0}),i.toggleDragModeOnDblclick&&d(e,he,this.onDblclick),d(t.ownerDocument,de,this.onCropMove),d(t.ownerDocument,ue,this.onCropEnd),i.responsive&&d(window,"resize",this.onResize)}},ti={resize:function(){if(!this.disabled){var u,v,t=this.options,i=this.container,e=this.containerData,h=i.offsetWidth/e.width,r=i.offsetHeight/e.height,l=Math.abs(h-1)>Math.abs(r-1)?h:r;1!==l&&(t.restore&&(u=this.getCanvasData(),v=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(N(u,function(m,f){u[f]=m*l})),this.setCropBoxData(N(v,function(m,f){v[f]=m*l}))))}},dblclick:function(){this.disabled||"none"===this.options.dragMode||this.setDragMode(function ke(o,t){return o.classList?o.classList.contains(t):o.className.indexOf(t)>-1}(this.dragBox,Nt)?"move":Bt)},wheel:function(t){var i=this,e=Number(this.options.wheelZoomRatio)||.1,h=1;this.disabled||(t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){i.wheeling=!1},50),t.deltaY?h=t.deltaY>0?1:-1:t.wheelDelta?h=-t.wheelDelta/120:t.detail&&(h=t.detail>0?1:-1),this.zoom(-h*e,t)))},cropStart:function(t){var i=t.buttons,e=t.button;if(!(this.disabled||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(x(i)&&1!==i||x(e)&&0!==e||t.ctrlKey))){var l,h=this.options,r=this.pointers;t.changedTouches?N(t.changedTouches,function(u){r[u.identifier]=vt(u)}):r[t.pointerId||0]=vt(t),l=Object.keys(r).length>1&&h.zoomable&&h.zoomOnTouch?"zoom":ae(t.target,rt),fe.test(l)&&!1!==n(this.element,I,{originalEvent:t,action:l})&&(t.preventDefault(),this.action=l,this.cropping=!1,"crop"===l&&(this.cropping=!0,L(this.dragBox,Lt)))}},cropMove:function(t){var i=this.action;if(!this.disabled&&i){var e=this.pointers;t.preventDefault(),!1!==n(this.element,jt,{originalEvent:t,action:i})&&(t.changedTouches?N(t.changedTouches,function(h){R(e[h.identifier]||{},vt(h,!0))}):R(e[t.pointerId||0]||{},vt(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var i=this.action,e=this.pointers;t.changedTouches?N(t.changedTouches,function(h){delete e[h.identifier]}):delete e[t.pointerId||0],i&&(t.preventDefault(),Object.keys(e).length||(this.action=""),this.cropping&&(this.cropping=!1,gt(this.dragBox,Lt,this.cropped&&this.options.modal)),n(this.element,Wt,{originalEvent:t,action:i}))}}},ei={change:function(t){var ht,e=this.canvasData,h=this.containerData,r=this.cropBoxData,l=this.pointers,u=this.action,v=this.options.aspectRatio,m=r.left,f=r.top,p=r.width,g=r.height,A=m+p,E=f+g,S=0,O=0,F=h.width,V=h.height,P=!0;!v&&t.shiftKey&&(v=p&&g?p/g:1),this.limited&&(O=r.minTop,F=(S=r.minLeft)+Math.min(h.width,e.width,e.left+e.width),V=O+Math.min(h.height,e.height,e.top+e.height));var G=l[Object.keys(l)[0]],b={x:G.endX-G.startX,y:G.endY-G.startY},T=function(K){switch(K){case"e":A+b.x>F&&(b.x=F-A);break;case J:m+b.x<S&&(b.x=S-m);break;case q:f+b.y<O&&(b.y=O-f);break;case"s":E+b.y>V&&(b.y=V-E)}};switch(u){case H:m+=b.x,f+=b.y;break;case"e":if(b.x>=0&&(A>=F||v&&(f<=O||E>=V))){P=!1;break}T("e"),(p+=b.x)<0&&(u=J,m-=p=-p),v&&(f+=(r.height-(g=p/v))/2);break;case q:if(b.y<=0&&(f<=O||v&&(m<=S||A>=F))){P=!1;break}T(q),f+=b.y,(g-=b.y)<0&&(u="s",f-=g=-g),v&&(m+=(r.width-(p=g*v))/2);break;case J:if(b.x<=0&&(m<=S||v&&(f<=O||E>=V))){P=!1;break}T(J),m+=b.x,(p-=b.x)<0&&(u="e",m-=p=-p),v&&(f+=(r.height-(g=p/v))/2);break;case"s":if(b.y>=0&&(E>=V||v&&(m<=S||A>=F))){P=!1;break}T("s"),(g+=b.y)<0&&(u=q,f-=g=-g),v&&(m+=(r.width-(p=g*v))/2);break;case tt:if(v){if(b.y<=0&&(f<=O||A>=F)){P=!1;break}T(q),f+=b.y,p=(g-=b.y)*v}else T(q),T("e"),b.x>=0?A<F?p+=b.x:b.y<=0&&f<=O&&(P=!1):p+=b.x,b.y<=0?f>O&&(g-=b.y,f+=b.y):(g-=b.y,f+=b.y);p<0&&g<0?(u=ot,f-=g=-g,m-=p=-p):p<0?(u=It,m-=p=-p):g<0&&(u=ft,f-=g=-g);break;case It:if(v){if(b.y<=0&&(f<=O||m<=S)){P=!1;break}T(q),f+=b.y,m+=r.width-(p=(g-=b.y)*v)}else T(q),T(J),b.x<=0?m>S?(p-=b.x,m+=b.x):b.y<=0&&f<=O&&(P=!1):(p-=b.x,m+=b.x),b.y<=0?f>O&&(g-=b.y,f+=b.y):(g-=b.y,f+=b.y);p<0&&g<0?(u=ft,f-=g=-g,m-=p=-p):p<0?(u=tt,m-=p=-p):g<0&&(u=ot,f-=g=-g);break;case ot:if(v){if(b.x<=0&&(m<=S||E>=V)){P=!1;break}T(J),m+=b.x,g=(p-=b.x)/v}else T("s"),T(J),b.x<=0?m>S?(p-=b.x,m+=b.x):b.y>=0&&E>=V&&(P=!1):(p-=b.x,m+=b.x),b.y>=0?E<V&&(g+=b.y):g+=b.y;p<0&&g<0?(u=tt,f-=g=-g,m-=p=-p):p<0?(u=ft,m-=p=-p):g<0&&(u=It,f-=g=-g);break;case ft:if(v){if(b.x>=0&&(A>=F||E>=V)){P=!1;break}T("e"),g=(p+=b.x)/v}else T("s"),T("e"),b.x>=0?A<F?p+=b.x:b.y>=0&&E>=V&&(P=!1):p+=b.x,b.y>=0?E<V&&(g+=b.y):g+=b.y;p<0&&g<0?(u=It,f-=g=-g,m-=p=-p):p<0?(u=ot,m-=p=-p):g<0&&(u=tt,f-=g=-g);break;case Z:this.move(b.x,b.y),P=!1;break;case"zoom":this.zoom(function Ot(o){var t=D({},o),i=0;return N(o,function(e,h){delete t[h],N(t,function(r){var l=Math.abs(e.startX-r.startX),u=Math.abs(e.startY-r.startY),v=Math.abs(e.endX-r.endX),m=Math.abs(e.endY-r.endY),f=Math.sqrt(l*l+u*u),g=(Math.sqrt(v*v+m*m)-f)/f;Math.abs(g)>Math.abs(i)&&(i=g)})}),i}(l),t),P=!1;break;case"crop":if(!b.x||!b.y){P=!1;break}ht=s(this.cropper),m=G.startX-ht.left,f=G.startY-ht.top,p=r.minWidth,g=r.minHeight,b.x>0?u=b.y>0?ft:tt:b.x<0&&(m-=p,u=b.y>0?ot:It),b.y<0&&(f-=g),this.cropped||($(this.cropBox,U),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}P&&(r.width=p,r.height=g,r.left=m,r.top=f,this.action=u,this.renderCropBox()),N(l,function(B){B.startX=B.endX,B.startY=B.endY})}},ii={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&L(this.dragBox,Lt),$(this.cropBox,U),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=R({},this.initialImageData),this.canvasData=R({},this.initialCanvasData),this.cropBoxData=R({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(R(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),$(this.dragBox,Lt),L(this.cropBox,U)),this},replace:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),i?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,N(this.previews,function(e){e.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,$(this.cropper,re)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,L(this.cropper,re)),this},destroy:function(){var t=this.element;return t[M]?(t[M]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,e=this.canvasData,h=e.left,r=e.top;return this.moveTo(te(t)?t:h+Number(t),te(i)?i:r+Number(i))},moveTo:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,e=this.canvasData,h=!1;return t=Number(t),i=Number(i),this.ready&&!this.disabled&&this.options.movable&&(x(t)&&(e.left=t,h=!0),x(i)&&(e.top=i,h=!0),h&&this.renderCanvas(!0)),this},zoom:function(t,i){var e=this.canvasData;return t=Number(t),this.zoomTo(e.width*(t=t<0?1/(1-t):1+t)/e.naturalWidth,null,i)},zoomTo:function(t,i,e){var h=this.options,r=this.canvasData,l=r.width,u=r.height,v=r.naturalWidth,m=r.naturalHeight;if((t=Number(t))>=0&&this.ready&&!this.disabled&&h.zoomable){var f=v*t,p=m*t;if(!1===n(this.element,pt,{ratio:t,oldRatio:l/v,originalEvent:e}))return this;if(e){var g=this.pointers,A=s(this.cropper),E=g&&Object.keys(g).length?function Se(o){var t=0,i=0,e=0;return N(o,function(h){t+=h.startX,i+=h.startY,e+=1}),{pageX:t/=e,pageY:i/=e}}(g):{pageX:e.pageX,pageY:e.pageY};r.left-=(E.pageX-A.left-r.left)/l*(f-l),r.top-=(E.pageY-A.top-r.top)/u*(p-u)}else lt(i)&&x(i.x)&&x(i.y)?(r.left-=(i.x-r.left)/l*(f-l),r.top-=(i.y-r.top)/u*(p-u)):(r.left-=(f-l)/2,r.top-=(p-u)/2);r.width=f,r.height=p,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return x(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var i=this.imageData.scaleY;return this.scale(t,x(i)?i:1)},scaleY:function(t){var i=this.imageData.scaleX;return this.scale(x(i)?i:1,t)},scale:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,e=this.imageData,h=!1;return t=Number(t),i=Number(i),this.ready&&!this.disabled&&this.options.scalable&&(x(t)&&(e.scaleX=t,h=!0),x(i)&&(e.scaleY=i,h=!0),h&&this.renderCanvas(!0,!0)),this},getData:function(){var l,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.options,e=this.imageData,h=this.canvasData,r=this.cropBoxData;if(this.ready&&this.cropped){var u=e.width/e.naturalWidth;if(N(l={x:r.left-h.left,y:r.top-h.top,width:r.width,height:r.height},function(f,p){l[p]=f/u}),t){var v=Math.round(l.y+l.height),m=Math.round(l.x+l.width);l.x=Math.round(l.x),l.y=Math.round(l.y),l.width=m-l.x,l.height=v-l.y}}else l={x:0,y:0,width:0,height:0};return i.rotatable&&(l.rotate=e.rotate||0),i.scalable&&(l.scaleX=e.scaleX||1,l.scaleY=e.scaleY||1),l},setData:function(t){var i=this.options,e=this.imageData,h=this.canvasData,r={};if(this.ready&&!this.disabled&&lt(t)){var l=!1;i.rotatable&&x(t.rotate)&&t.rotate!==e.rotate&&(e.rotate=t.rotate,l=!0),i.scalable&&(x(t.scaleX)&&t.scaleX!==e.scaleX&&(e.scaleX=t.scaleX,l=!0),x(t.scaleY)&&t.scaleY!==e.scaleY&&(e.scaleY=t.scaleY,l=!0)),l&&this.renderCanvas(!0,!0);var u=e.width/e.naturalWidth;x(t.x)&&(r.left=t.x*u+h.left),x(t.y)&&(r.top=t.y*u+h.top),x(t.width)&&(r.width=t.width*u),x(t.height)&&(r.height=t.height*u),this.setCropBoxData(r)}return this},getContainerData:function(){return this.ready?R({},this.containerData):{}},getImageData:function(){return this.sized?R({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,i={};return this.ready&&N(["left","top","width","height","naturalWidth","naturalHeight"],function(e){i[e]=t[e]}),i},setCanvasData:function(t){var i=this.canvasData,e=i.aspectRatio;return this.ready&&!this.disabled&&lt(t)&&(x(t.left)&&(i.left=t.left),x(t.top)&&(i.top=t.top),x(t.width)?(i.width=t.width,i.height=t.width/e):x(t.height)&&(i.height=t.height,i.width=t.height*e),this.renderCanvas(!0)),this},getCropBoxData:function(){var i,t=this.cropBoxData;return this.ready&&this.cropped&&(i={left:t.left,top:t.top,width:t.width,height:t.height}),i||{}},setCropBoxData:function(t){var h,r,i=this.cropBoxData,e=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&lt(t)&&(x(t.left)&&(i.left=t.left),x(t.top)&&(i.top=t.top),x(t.width)&&t.width!==i.width&&(h=!0,i.width=t.width),x(t.height)&&t.height!==i.height&&(r=!0,i.height=t.height),e&&(h?i.height=i.width/e:r&&(i.width=i.height*e)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var i=this.canvasData,e=function Ye(o,t,i,e){var h=t.aspectRatio,r=t.naturalWidth,l=t.naturalHeight,u=t.rotate,v=void 0===u?0:u,m=t.scaleX,f=void 0===m?1:m,p=t.scaleY,g=void 0===p?1:p,A=i.aspectRatio,E=i.naturalWidth,S=i.naturalHeight,O=e.fillColor,F=void 0===O?"transparent":O,V=e.imageSmoothingEnabled,P=void 0===V||V,ht=e.imageSmoothingQuality,G=void 0===ht?"low":ht,b=e.maxWidth,T=void 0===b?1/0:b,B=e.maxHeight,K=void 0===B?1/0:B,ct=e.minWidth,Tt=void 0===ct?0:ct,Mt=e.minHeight,yt=void 0===Mt?0:Mt,it=document.createElement("canvas"),W=it.getContext("2d"),kt=bt({aspectRatio:A,width:T,height:K}),_e=bt({aspectRatio:A,width:Tt,height:yt},"cover"),Ie=Math.min(kt.width,Math.max(_e.width,E)),Ne=Math.min(kt.height,Math.max(_e.height,S)),je=bt({aspectRatio:h,width:T,height:K}),Xe=bt({aspectRatio:h,width:Tt,height:yt},"cover"),ze=Math.min(je.width,Math.max(Xe.width,r)),Ve=Math.min(je.height,Math.max(Xe.height,l)),ni=[-ze/2,-Ve/2,ze,Ve];return it.width=mt(Ie),it.height=mt(Ne),W.fillStyle=F,W.fillRect(0,0,Ie,Ne),W.save(),W.translate(Ie/2,Ne/2),W.rotate(v*Math.PI/180),W.scale(f,g),W.imageSmoothingEnabled=P,W.imageSmoothingQuality=G,W.drawImage.apply(W,[o].concat(Ut(ni.map(function(oi){return Math.floor(mt(oi))})))),W.restore(),it}(this.image,this.imageData,i,t);if(!this.cropped)return e;var h=this.getData(t.rounded),r=h.x,l=h.y,u=h.width,v=h.height,m=e.width/Math.floor(i.naturalWidth);1!==m&&(r*=m,l*=m,u*=m,v*=m);var f=u/v,p=bt({aspectRatio:f,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),g=bt({aspectRatio:f,width:t.minWidth||0,height:t.minHeight||0},"cover"),A=bt({aspectRatio:f,width:t.width||(1!==m?e.width:u),height:t.height||(1!==m?e.height:v)}),E=A.width,S=A.height;E=Math.min(p.width,Math.max(g.width,E)),S=Math.min(p.height,Math.max(g.height,S));var O=document.createElement("canvas"),F=O.getContext("2d");O.width=mt(E),O.height=mt(S),F.fillStyle=t.fillColor||"transparent",F.fillRect(0,0,E,S);var V=t.imageSmoothingEnabled,ht=t.imageSmoothingQuality;F.imageSmoothingEnabled=void 0===V||V,ht&&(F.imageSmoothingQuality=ht);var K,ct,Tt,Mt,yt,it,G=e.width,b=e.height,T=r,B=l;T<=-u||T>G?(T=0,K=0,Tt=0,yt=0):T<=0?(Tt=-T,T=0,yt=K=Math.min(G,u+T)):T<=G&&(Tt=0,yt=K=Math.min(u,G-T)),K<=0||B<=-v||B>b?(B=0,ct=0,Mt=0,it=0):B<=0?(Mt=-B,B=0,it=ct=Math.min(b,v+B)):B<=b&&(Mt=0,it=ct=Math.min(v,b-B));var W=[T,B,K,ct];if(yt>0&&it>0){var kt=E/u;W.push(Tt*kt,Mt*kt,yt*kt,it*kt)}return F.drawImage.apply(F,[e].concat(Ut(W.map(function(_e){return Math.floor(mt(_e))})))),O},setAspectRatio:function(t){var i=this.options;return!this.disabled&&!te(t)&&(i.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var i=this.options,e=this.dragBox,h=this.face;if(this.ready&&!this.disabled){var r=t===Bt,l=i.movable&&"move"===t;i.dragMode=t=r||l?t:"none",At(e,rt,t),gt(e,Nt,r),gt(e,Pt,l),i.cropBoxMovable||(At(h,rt,t),gt(h,Nt,r),gt(h,Pt,l))}return this}},ai=j.Cropper,Be=function(){function o(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function dt(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),!t||!me.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=R({},ve,lt(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return function _t(o,t,i){return t&&ut(o.prototype,t),i&&ut(o,i),Object.defineProperty(o,"prototype",{writable:!1}),o}(o,[{key:"init",value:function(){var h,i=this.element,e=i.tagName.toLowerCase();if(!i[M]){if(i[M]=this,"img"===e){if(this.isImg=!0,h=i.getAttribute("src")||"",this.originalUrl=h,!h)return;h=i.src}else"canvas"===e&&window.HTMLCanvasElement&&(h=i.toDataURL());this.load(h)}}},{key:"load",value:function(i){var e=this;if(i){this.url=i,this.imageData={};var h=this.element,r=this.options;if(!r.rotatable&&!r.scalable&&(r.checkOrientation=!1),!r.checkOrientation||!window.ArrayBuffer)return void this.clone();if(pe.test(i))return void(we.test(i)?this.read(function Ge(o){var t=o.replace(We,""),i=atob(t),e=new ArrayBuffer(i.length),h=new Uint8Array(e);return N(h,function(r,l){h[l]=i.charCodeAt(l)}),e}(i)):this.clone());var l=new XMLHttpRequest,u=this.clone.bind(this);this.reloading=!0,this.xhr=l,l.onabort=u,l.onerror=u,l.ontimeout=u,l.onprogress=function(){l.getResponseHeader("content-type")!==xt&&l.abort()},l.onload=function(){e.read(l.response)},l.onloadend=function(){e.reloading=!1,e.xhr=null},r.checkCrossOrigin&&C(i)&&h.crossOrigin&&(i=w(i)),l.open("GET",i,!0),l.responseType="arraybuffer",l.withCredentials="use-credentials"===h.crossOrigin,l.send()}}},{key:"read",value:function(i){var e=this.options,h=this.imageData,r=Ke(i),l=0,u=1,v=1;if(r>1){this.url=function $e(o,t){for(var i=[],h=new Uint8Array(o);h.length>0;)i.push(Fe.apply(null,ee(h.subarray(0,8192)))),h=h.subarray(8192);return"data:".concat(t,";base64,").concat(btoa(i.join("")))}(i,xt);var m=function Qe(o){var t=0,i=1,e=1;switch(o){case 2:i=-1;break;case 3:t=-180;break;case 4:e=-1;break;case 5:t=90,e=-1;break;case 6:t=90;break;case 7:t=90,i=-1;break;case 8:t=-90}return{rotate:t,scaleX:i,scaleY:e}}(r);l=m.rotate,u=m.scaleX,v=m.scaleY}e.rotatable&&(h.rotate=l),e.scalable&&(h.scaleX=u,h.scaleY=v),this.clone()}},{key:"clone",value:function(){var i=this.element,e=this.url,h=i.crossOrigin,r=e;this.options.checkCrossOrigin&&C(e)&&(h||(h="anonymous"),r=w(e)),this.crossOrigin=h,this.crossOriginUrl=r;var l=document.createElement("img");h&&(l.crossOrigin=h),l.src=r||e,l.alt=i.alt||"The image to crop",this.image=l,l.onload=this.start.bind(this),l.onerror=this.stop.bind(this),L(l,se),i.parentNode.insertBefore(l,i.nextSibling)}},{key:"start",value:function(){var i=this,e=this.image;e.onload=null,e.onerror=null,this.sizing=!0;var h=j.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(j.navigator.userAgent),r=function(m,f){R(i.imageData,{naturalWidth:m,naturalHeight:f,aspectRatio:m/f}),i.initialImageData=R({},i.imageData),i.sizing=!1,i.sized=!0,i.build()};if(!e.naturalWidth||h){var l=document.createElement("img"),u=document.body||document.documentElement;this.sizingImage=l,l.onload=function(){r(l.width,l.height),h||u.removeChild(l)},l.src=e.src,h||(l.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",u.appendChild(l))}else r(e.naturalWidth,e.naturalHeight)}},{key:"stop",value:function(){var i=this.image;i.onload=null,i.onerror=null,i.parentNode.removeChild(i),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var i=this.element,e=this.options,h=this.image,r=i.parentNode,l=document.createElement("div");l.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var u=l.querySelector(".".concat(M,"-container")),v=u.querySelector(".".concat(M,"-canvas")),m=u.querySelector(".".concat(M,"-drag-box")),f=u.querySelector(".".concat(M,"-crop-box")),p=f.querySelector(".".concat(M,"-face"));this.container=r,this.cropper=u,this.canvas=v,this.dragBox=m,this.cropBox=f,this.viewBox=u.querySelector(".".concat(M,"-view-box")),this.face=p,v.appendChild(h),L(i,U),r.insertBefore(u,i.nextSibling),$(h,se),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,L(f,U),e.guides||L(f.getElementsByClassName("".concat(M,"-dashed")),U),e.center||L(f.getElementsByClassName("".concat(M,"-center")),U),e.background&&L(u,"".concat(M,"-bg")),e.highlight||L(p,Pe),e.cropBoxMovable&&(L(p,Pt),At(p,rt,H)),e.cropBoxResizable||(L(f.getElementsByClassName("".concat(M,"-line")),U),L(f.getElementsByClassName("".concat(M,"-point")),U)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),Y(e.ready)&&_(i,"ready",e.ready,{once:!0}),n(i,"ready")}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var i=this.cropper.parentNode;i&&i.removeChild(this.cropper),$(this.element,U)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=ai,o}},{key:"setDefaults",value:function(i){R(ve,lt(i)&&i)}}])}();return R(Be.prototype,Ze,Je,qe,ti,ei,ii),Be}()}}]);