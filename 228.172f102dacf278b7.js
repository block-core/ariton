"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[228],{92228:(u,r,e)=>{e.r(r),e.d(r,{NotificationsComponent:()=>f});var s=e(10467),l=e(88834),i=e(93953);let f=(()=>{class c{enableNotifications(){var t=this;return(0,s.A)(function*(){console.log("Notifications enabled"),t.sendNotification("Hello World")})()}disableNotifications(){return(0,s.A)(function*(){console.log("Notifications disabled")})()}ngOnInit(){var t=this;return(0,s.A)(function*(){console.log("Notifications component loaded"),t.registration=yield navigator.serviceWorker.getRegistration()})()}sendNotification(t){var o=this;return(0,s.A)(function*(){console.log("Sending notification"),"granted"===Notification.permission?(console.log("Notifications enabled!!!!"),o.showNotification(t)):(console.error("Notifications not enabled"),"denied"!==Notification.permission&&"granted"===(yield Notification.requestPermission())&&o.showNotification("Hello World"))})()}showNotification(t){var o=this;return(0,s.A)(function*(){var n="Ariton says hi!";const a={body:t};console.log("Showing notification"),o.registration&&"showNotification"in o.registration?(console.log("Using service worker"),o.registration.showNotification(n,a)):(console.log("Using new notification"),new Notification(n,a))})()}static#i=this.\u0275fac=function(o){return new(o||c)};static#o=this.\u0275cmp=i.VBU({type:c,selectors:[["app-notifications"]],standalone:!0,features:[i.aNF],decls:12,vars:0,consts:[["mat-flat-button","",3,"click"]],template:function(o,n){1&o&&(i.j41(0,"h1"),i.EFF(1,"Notifications"),i.k0s(),i.j41(2,"p"),i.EFF(3,"TODO: This notification should use the modern support for browser vendor based infrastructure for notifications.\n"),i.k0s(),i.j41(4,"button",0),i.bIt("click",function(){return n.enableNotifications()}),i.EFF(5,"Enable Device Notifications"),i.k0s(),i.EFF(6,"\n\xa0\n"),i.j41(7,"button",0),i.bIt("click",function(){return n.disableNotifications()}),i.EFF(8,"Disable Device Notifications"),i.k0s(),i.EFF(9,"\n\xa0\n"),i.j41(10,"button",0),i.bIt("click",function(){return n.sendNotification("Welcome to Ariton!")}),i.EFF(11,"Trigger notification"),i.k0s())},dependencies:[l.Hl,l.$z]})}return c})()}}]);